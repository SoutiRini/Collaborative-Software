[{"count": 0, "tags": [], "bug_id": 46820, "attachment_id": 23354, "id": 125417, "time": "2009-03-08T07:38:42Z", "creator": "catone@cpan.org", "creation_time": "2009-03-08T07:38:42Z", "is_private": false, "text": "Created attachment 23354\nsvn diff from root\n\nCurrently there are no ability to change mtime of symlink.\n\nI've ran into this problem while using Subversion feature 'use_commit_times' with symlinks in repository.\n\nAssuming that lutimes libc function is present in some BSD ( at least, FreeBSD and it's derivatives ), linux ( glibc >= 2.6 with kernel >= 2.6.22 ), and MacOS ( made through emulation, not a syscall ), imo, it could be also supported by APR now.\n\nPatch adds apr_file_lmtime_set function with 'wanted' argument, allowing to use APR_FINFO_LINK flag if you want to change mtime of symlink itself, and not the file it is pointing to.\n\nBehavior of apr_file_mtime_set kept as it was.\n\nDetection of lutimes made on 'configure' stage, using apr_file_io.m4 detections and setting 'HAVE_LUTIMES' to 1. If 'HAVE_LUTIMES' is not defined - behavior of apr_file_lmtime_set is equal to current apr_file_mtime_set.\n\nIn testfileinfo.c added test for apr_file_lmtime_set, compiled only if HAVE_LUTIMES is defined. For 'HAVE_LUTIMES' to be visible in tests - added including of apr_private.h, and this, in it's turn, requires extending INCLUDES part of test/Makefile.\n\npatch was tested on:\n- Linux 2.6.27-11-generic\n- FreeBSD 7.1-STABLE-20090201\napplying to trunk revision 751107"}, {"count": 1, "text": "Created attachment 23355\nlutimes presence check\n\nnew file - autoconf macros for lutimes check", "bug_id": 46820, "attachment_id": 23355, "id": 125418, "time": "2009-03-08T07:47:09Z", "creator": "catone@cpan.org", "creation_time": "2009-03-08T07:47:09Z", "tags": [], "is_private": false}]