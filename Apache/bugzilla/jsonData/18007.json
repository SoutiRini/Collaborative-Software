[{"count": 0, "tags": [], "bug_id": 18007, "attachment_id": null, "is_private": false, "id": 33205, "time": "2003-03-14T18:11:39Z", "creator": "eric_schwarzenbach@classwell.com", "creation_time": "2003-03-14T18:11:39Z", "text": "With ant 1.5.1, my task works (though it ignores file status).  get output like:\n\nstarteam_checkin_schema_files:\n[stcheckin] Warning: rootLocalFolder specified, but forcing off.\n[stcheckin] overriding local folder to C:\\DOCUME~1\\ESCHWA~1\\LOCALS~1\\Temp\\CLG_Sc\nhema_Proc\\depot\\schemas\n[stcheckin] Checking In: C:\\DOCUME~1\\ESCHWA~1\\LOCALS~1\\Temp\\CLG_Schema_Proc\\depo\nt\\schemas\\text.xsd\n\nUpgrading to 1.5.2 it no longer works, with output like:\n\nstarteam_checkin_schema_files:\n[stcheckin] Recursive Checkin from: C:\\DOCUME~1\\ESCHWA~1\\LOCALS~1\\Temp\\CLG_Schem\na_Proc\\depot\\schemas\n[stcheckin] Checking in to: mainline\\ClasswellContent\\ContentData\\eBook\\testSche\nmas\\\n[stcheckin]   Includes specified: *.xsd\n[stcheckin]   Items will be checked in with no change in lock status.\n[stcheckin]   Items will be checked in regardless of repository status only if l\nocked.\n[stcheckin] Local file missing: C:\\april_2003\\ClasswellContent\\ContentData\\eBook\n\\C:\\DOCUME~1\\ESCHWA~1\\LOCALS~1\\Temp\\CLG_Schema_Proc\\depot\\schemas\\C:\\DOCUME~1\\ES\nCHWA~1\\LOCALS~1\\Temp\\CLG_Schema_Proc\\depot\\schemas\\mcd_msm\\bookshell.xsd --> mai\nnline\\ClasswellContent\\ContentData\\eBook\\testSchemas\\mcd_msm\\bookshell.xsd\n\n\nI don't know how reliable the output is, but it seems to be screwing up it's\ntreament of the rootlocalfolder. My task sets that to be\n\"C:\\DOCUME~1\\ESCHWA~1\\LOCALS~1\\Temp\\CLG_Schema_Proc\\depot\\schemas\"\n(as the output shows)\nHowever it \"Local file missing\" output seems to indicate that it is still\nlooking for the default working path for the project which would be\n\"C:\\april_2003\\ClasswellContent\\ContentData\\eBook\\\". In fact the output makes it\nlook like it's trying to append my rootlocalfolder path to the default path or\nsomething. Regardless it's wrong, and it's not finding file which is indeed there.\n\nFWIW, my full stcheckin task looks like:\n\n  <target name=\"starteam_checkin_schema_files\" depends=\"httpize_schema_refs,\ncvs_checkout_latest_approved\">\n    <stcheckin servername=\"${st.server.name}\" \n              serverport=\"${st.server.port}\"\n              projectname=\"${st.project.dtd}\" \n              viewname=\"${st.view.dtd}\"\n              username=\"${st.user}\"\n              password=\"${st.pw}\"\n              rootlocalfolder=\"${schemas.temp.dir}/${cvs.module}/schemas\"\n              includes=\"*.xsd\"\n              forced=\"false\"\n              recursive=\"true\"\n              rootstarteamfolder=\"${st.root}\"\n              comment=\"Checkin latest approved from CVS\"\n              adduncontrolled=\"true\"\n   />\n  </target>"}, {"count": 1, "tags": [], "bug_id": 18007, "attachment_id": null, "text": "I'd like to help.  This looks like a significant bug and I have received other \nreports of similar things but I am never able to replicate them.  Yours is the \nmost detailed I've seen.  However, it's still missing one crucial detail I \nneed: \n \nYou show me your stcheckin command, but many of the most significant \nparameters are property references.  I need to see what the actual values of \nthose properties at runtime are.  In particular I need projectname, viewname, \nrootlocalfolder and rootstarteamfolder. ", "id": 35649, "time": "2003-04-20T01:15:18Z", "creator": "scohen@apache.org", "creation_time": "2003-04-20T01:15:18Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 18007, "text": "Mr. Schwartzenbach -  \nAlso, please say what version of Star Team you are using. ", "id": 35747, "time": "2003-04-22T02:52:39Z", "creator": "scohen@apache.org", "creation_time": "2003-04-22T02:52:39Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 18007, "attachment_id": null, "is_private": false, "id": 35800, "time": "2003-04-22T15:21:11Z", "creator": "cathy@jresearch.org", "creation_time": "2003-04-22T15:21:11Z", "text": "I have the same problem with stcheckout\nMy task is:\n <stcheckout rootstarteamfolder=\"src/com.borland.bdsxj.sapient\" \nURL=\"${steam.server}:${steam.port}/${steam.project}/${steam.view}\" \nusername=\"${steam.user}\" password=\"${steam.password}\" \nrootlocalfolder=\"${checkout.folder}/com.borland.bdsxj.sapient\" forced=\"true\" \ndeleteuncontrolled=\"false\" /> \n  <stcheckout rootstarteamfolder=\"src/com.borland.bdsxj.sapient.branding\" \nURL=\"${steam.server}:${steam.port}/${steam.project}/${steam.view}\" \nusername=\"${steam.user}\" password=\"${steam.password}\" \nrootlocalfolder=\"${checkout.folder}/com.borland.bdsxj.sapient.branding\" \nforced=\"true\" deleteuncontrolled=\"false\" /> \n  <stcheckout rootstarteamfolder=\"src/com.togethersoft.bdsxj.selena.sapient\" \nURL=\"${steam.server}:${steam.port}/${steam.project}/${steam.view}\" \nusername=\"${steam.user}\" password=\"${steam.password}\" \nrootlocalfolder=\"${checkout.folder}/com.togethersoft.bdsxj.selena.sapient\" \nforced=\"true\" deleteuncontrolled=\"false\" /> \n\nwhere ${checkout.folder} is \"..\"\n\nIt has the following error:\nfile:C:/tmp/work/com.borland.bdsxj.sapient/1/.vcs/build_main.xml:30: \njava.io.FileNotFoundException: \nC:\\Work\\Projects\\Sapient\\src\\c:\\tmp\\work\\com.borland.bdsxj.sapient\\1\n\\com.borland.bdsxj.sapient\\c:\\tmp\\work\\com.borland.bdsxj.sapient\\1\n\\com.borland.bdsxj.sapient\\plugins\\c:\\tmp\\work\\com.borland.bdsxj.sapient\\1\n\\com.borland.bdsxj.sapient\\plugins\\com.togethersoft.sapient.audit\\c:\\tmp\\work\\c\nom.borland.bdsxj.sapient\\1\n\\com.borland.bdsxj.sapient\\plugins\\com.togethersoft.sapient.audit\\docs\\c:\\tmp\\w\nork\\com.borland.bdsxj.sapient\\1\n\\com.borland.bdsxj.sapient\\plugins\\com.togethersoft.sapient.audit\\docs\\api\\c:\\t\nmp\\work\\com.borland.bdsxj.sapient\\1\n\\com.borland.bdsxj.sapient\\plugins\\com.togethersoft.sapient.audit\\docs\\api\\com\\\nc:\\tmp\\work\\com.borland.bdsxj.sapient\\1\n\\com.borland.bdsxj.sapient\\plugins\\com.togethersoft.sapient.audit\\docs\\api\\com\\\ntogethersoft\\c:\\tmp\\work\\com.borland.bdsxj.sapient\\1\n\\com.borland.bdsxj.sapient\\plugins\\com.togethersoft.sapient.audit\\docs\\api\\com\\\ntogethersoft\\sca\\c:\\tmp\\work\\com.borland.bdsxj.sapient\\1\n\\com.borland.bdsxj.sapient\\plugins\\com.togethersoft.sapient.audit\\docs\\api\\com\\\ntogethersoft\\sca\\plugin\\c:\\tmp\\work\\com.borland.bdsxj.sapient\\1\n\\com.borland.bdsxj.sapient\\plugins\\com.togethersoft.sapient.audit\\docs\\api\\com\\\ntogethersoft\\sca\\plugin\\audit\\AuditRule.html (The system cannot find the path \nspecified)\n\nwhere C:\\Work\\Projects\\Sapient\\src\\ - is the default local folder (specified \nby the server)\nc:\\tmp\\work\\com.borland.bdsxj.sapient\\1\\com.borland.bdsxj.sapient - is the \nright local folder (for first stchekout) and so on.\nIn one machine it works ok and in other fails. Both computers have the same \nant and starteam sdk and work with the same StarTeam Server\n\nI use stargate sdk 5.2. \n"}, {"count": 4, "tags": [], "text": "Well, this is a very interesting report.  Thanks, Cathy.\n\nThe fact that it occurs on one machine and not another may explain why I have\nnever been able to replicate this bug.\n\nSo, what is the difference between the two machines?\n1.  Which version of java is running on each machine? -- please send \nthe output of \n   java -version\non each machine\n\n2.  Please verify that you are running the version of ant that you think you are\n.  Please send the output of \n   ant -version \non each machine.\n\n\n3.  What version of Windows is running on each machine?\n\n4.  Is ant invoked by using the batch file directly from Apache or do you have\nsome other way of launching it (through a GUI?).  If through a GUI, please try\nto launch the same build from the command line and see if it produces the same\nresults.\n\nSteve", "attachment_id": null, "id": 35805, "creator": "scohen@apache.org", "time": "2003-04-22T15:47:53Z", "bug_id": 18007, "creation_time": "2003-04-22T15:47:53Z", "is_private": false}, {"count": 5, "tags": [], "creator": "eric_schwarzenbach@classwell.com", "attachment_id": null, "text": "Hi, sorry I didn't see the activity on this right away and respond.\n\nTo answer the initial questions about the property values:\n\n  <property name=\"st.server.name\" value=\"StarTeam1\"/>\n  <property name=\"st.server.port\" value=\"49201\"/>\n  <property name=\"st.project.dtd\" value=\"cinoniwell\"/>\n  <property name=\"st.view.dtd\" value=\"April_2003\"/>\n  <property name=\"st.user\" value=\"autotask\"/>\n  <property name=\"st.root\" value=\"ClasswellContent/ContentData/eBook/schemas\"/>\n\nWe're using StarTeam 5.2 and I'm using the starteam-sdk.jar from the client \ninstall.\n\nAnswers to the most recent batch of questions:\n\n1) I was using\n\njava version \"1.4.1_01\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.1_01-b01)\nJava HotSpot(TM) Client VM (build 1.4.1_01-b01, mixed mode)\n\n2) I saw the problem with and 1.5.2, but I've since uninstalled it to go back \nto 1.5.1 so I can't give you ant useful -version output.\n\n3) Windows version:\n\nMicrosoft Windows 2000 [Version 5.00.2195]\n(SP3)\n\n4) Ant was run via the batch file ant.bat \n", "id": 35811, "time": "2003-04-22T16:46:04Z", "bug_id": 18007, "creation_time": "2003-04-22T16:46:04Z", "is_private": false}, {"count": 6, "tags": [], "creator": "scohen@apache.org", "attachment_id": null, "text": "Thanks, Eric\nYou missed one runtime property I need : rootlocalfolder, which in your script\ndepends on \n\n${schemas.temp.dir} and ${cvs.module}\n", "id": 35812, "time": "2003-04-22T17:02:01Z", "bug_id": 18007, "creation_time": "2003-04-22T17:02:01Z", "is_private": false}, {"count": 7, "tags": [], "text": "rootlocalfolder ends up being (after being constructed from the temp \nenvironment variable and other parts)\n\nC:\\DOCUME~1\\ESCHWA~1\\LOCALS~1\\Temp\\CLG_Schema_Proc\\depot\\schemas\n\nI'm not sure it's important but I use forward slashes in it's construction, \nthough I'm showing backslashes in the above since the value of TEMP I got from \nthe command window makes up the majority of it.", "attachment_id": null, "id": 35813, "creator": "eric_schwarzenbach@classwell.com", "time": "2003-04-22T17:32:15Z", "bug_id": 18007, "creation_time": "2003-04-22T17:32:15Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 18007, "attachment_id": null, "is_private": false, "id": 37123, "time": "2003-05-13T13:35:29Z", "creator": "scohen@apache.org", "creation_time": "2003-05-13T13:35:29Z", "text": "Email from Cathy Gorshkova to Steve Cohen answering questions about her report:\n>>So, what is the difference between the two machines?\n1.  Which version of java is running on each machine? -- please send\nthe output of\n   java -version\non each machine\nWithout bug\n\njava version \"1.4.1\"\n\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.1-b21)\n\nJava HotSpot(TM) Client VM (build 1.4.1-b21, mixed mode)\n\n------------------------------------------\n\nWith bug\n\njava version \"1.4.1_01\"\n\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.1_01-b01)\n\nJava HotSpot(TM) Client VM (build 1.4.1_01-b01, mixed mode)\n\n\n2.  Please verify that you are running the version of ant that you think you are\n.  Please send the output of\n   ant -version\non each machine.\n\n\nApache Ant version 1.5.3 compiled on April 9 2003 \u2013 both the same\n\n\n3.  What version of Windows is running on each machine?\n\nWithout bug \n\nVersion 5.1 (Build 2600.xpsp2.021108-1929: Service Pack 1)\n\nThis version has English and Russian locales\n\nWith bug\n\nVersion 5.1 (Build 2600.xpsp1.020828-1920: Service Pack 1)\n\nThis version has Czech and English locales\n\n4.  Is ant invoked by using the batch file directly from Apache or do you have\nsome other way of launching it (through a GUI?).  If through a GUI, please try\nto launch the same build from the command line and see if it produces the same\nresults.\n\nAnt is invoked using batch mode\n\nRegards,\n\nCathy\n"}, {"count": 9, "tags": [], "text": "Eric and Cathy:\nYou both report this bug while using jdk 1.4.1_01.  You are each using different\nversions of Windows.  I will test on this jdk myself.  One more question, and I\ndon't know if it matters:  Did you get ant via a binary distribution or did you\nbuild it from source (and with what compiler if so).", "attachment_id": null, "id": 37124, "creator": "scohen@apache.org", "time": "2003-05-13T13:39:48Z", "bug_id": 18007, "creation_time": "2003-05-13T13:39:48Z", "is_private": false}, {"count": 10, "tags": [], "text": "I installed it from the binary distribtion", "attachment_id": null, "id": 37134, "creator": "eric_schwarzenbach@classwell.com", "time": "2003-05-13T17:36:11Z", "bug_id": 18007, "creation_time": "2003-05-13T17:36:11Z", "is_private": false}, {"count": 11, "tags": [], "text": "I also have binary distribution of ANT", "attachment_id": null, "id": 37162, "creator": "cathy@jresearch.org", "time": "2003-05-14T08:41:38Z", "bug_id": 18007, "creation_time": "2003-05-14T08:41:38Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 18007, "attachment_id": null, "is_private": false, "id": 37206, "time": "2003-05-14T15:36:13Z", "creator": "scohen@apache.org", "creation_time": "2003-05-14T15:36:13Z", "text": "Hmm.  I have now run ant 1.5.3 under XP and java 1.4.1_01.  (Previous trials had\nused 1.3.1_06).  I still can't duplicate the problem.  The only difference now\nbetween my setup and that of the reporters is that they are using StarTeam 5.2\nwhereas I am using 5.1.\n\nStefan - I have put you on this bug for political reasons.  How are Apache's\nrelations with Borland?  Do you think that if I told them who I am and what I am\ndoing, they might work with me.\n\nAnother question for you, Stefan.  What jdk version are the binary versions of\nant compiled with and might this matter?  I don't think it likely but I thought\nit might possibly be worthy of mention.  I think the scenario of a change/bug in\nthe Starteam jar is much more likely."}, {"count": 13, "tags": [], "text": "Adding Stefan Bodewig for organizational expertise.", "attachment_id": null, "id": 37207, "creator": "scohen@apache.org", "time": "2003-05-14T15:37:28Z", "bug_id": 18007, "creation_time": "2003-05-14T15:37:28Z", "is_private": false}, {"count": 14, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 37208, "creation_time": "2003-05-14T15:51:22Z", "time": "2003-05-14T15:51:22Z", "bug_id": 18007, "text": "Hi,\n\nI'm not aware of any existing relation between the ASF and Borland - you may want\nto give it a try anyway (and if you need the backing of an ASF member, I'm here).\n\nAFAIR there is a rather complicated setup that produces the binary distribution\nwhich involves compiling parts of it with JDK 1.3 and the rest (the stuff that\nrequires it like the regexp implementation) using JDK 1.4.\n\nConor has made the 1.5.3 release, so he'd know for sure.\n\nThe nightly builds get created by JDK 1.4.1 on Linux.\n", "is_private": false}, {"count": 15, "tags": [], "text": "OK, thanks Stefan.\nI will not be able to get to this before next week.  My plate for the next few\ndays is overflowing.  But I regard this as the most significant of all the bugs\nagainst the StarTeam tasks and have raised its priority accordingly.", "attachment_id": null, "id": 37212, "creator": "scohen@apache.org", "time": "2003-05-14T15:55:16Z", "bug_id": 18007, "creation_time": "2003-05-14T15:55:16Z", "is_private": false}, {"count": 16, "tags": [], "bug_id": 18007, "attachment_id": null, "is_private": false, "id": 37215, "time": "2003-05-14T16:44:27Z", "creator": "eric_schwarzenbach@classwell.com", "creation_time": "2003-05-14T16:44:27Z", "text": "I experienced the problem with 1.5.2....haven't tried it with 1.5.3...but when \nI get a chance I will try it and let you know."}, {"count": 17, "tags": [], "bug_id": 18007, "text": "*** Bug 20318 has been marked as a duplicate of this bug. ***", "id": 37964, "time": "2003-05-29T00:48:43Z", "creator": "scohen@apache.org", "creation_time": "2003-05-29T00:48:43Z", "is_private": false, "attachment_id": null}, {"count": 18, "tags": [], "bug_id": 18007, "attachment_id": null, "is_private": false, "id": 37970, "time": "2003-05-29T03:28:52Z", "creator": "scohen@apache.org", "creation_time": "2003-05-29T03:28:52Z", "text": "I am unable to make any progress here.  Borland will not help me unless my\nemployer goes back on support; my employer is in a cash-retrenching mood and\nwill not pay for that.  I have downloaded the trial 5.21 package from Borland\nand finally found the free time to try it.  What I found is simply that you\ncannot connect to a 5.1 server with with a 5.2 starteam library, so I still\ncannot do any tests or replicate this problem.  The trial package does not come\nwith the javadocs that might let me see what has changed in 5.2.\n\nUnless apache can somehow get involved, I'm not sure what else I can do.  Maybe\none of the reporters on this bug would allow me to connect to their StarTeam\nserver for purposes of investigation.  And maybe it doesn't violate their\nlicense to allow me to see the javadocs..."}, {"count": 19, "tags": [], "bug_id": 18007, "attachment_id": null, "text": "Hmm - doesn't your trial download include javadocs?\n\nThis is a difficult situation, I'm not sure whether the ASF can help here.\nUnfortunately I'll be on vacation for the next three weeks and cannot handle it\nmyself but will ask around whether anybody has contacts into Borland after that.\n\nWe have a third option, Steve.  If anybody else can fix the 5.2 problem and you\ncan verify that the fix doesn't break 5.1 support, this could work.  It \"just\"\nyeat another layer of indirection when compared to fixes committed to many other\noptional tasks - commit in good faith, or se.", "id": 38024, "time": "2003-05-30T06:21:38Z", "creator": "bodewig@apache.org", "creation_time": "2003-05-30T06:21:38Z", "is_private": false}, {"count": 20, "tags": [], "text": "Stefan - yes, that is right.  The trial download I received did not include\njavadocs.  Did you find differently?  I could look again.  I think the Borland\nand formerly the StarBase approach also were to treat the javadocs as part of\nthe resources available to PAYING customers only.  Rather different from the\nApache approach :-( In fact, my earliest efforts were done WITHOUT access to\njavadocs, using only decompiled code; I don't want to go there again - that\napproach led to the brain-damaged versions that existed prior to Ant 1.5.2.\nIronically, the much better functionality in 1.5.2+ led to these problems with\nStarTeam 5.2.  The brain-damaged version would not have had them.\n\nYour suggested third approach would work also.  If a developer with 5.2\naccessibility were to step up here that developer and I would probably need\nseveral back and forth iterations to verify 5.1 and 5.2 compatibility.  ", "attachment_id": null, "id": 38043, "creator": "scohen@apache.org", "time": "2003-05-30T12:32:15Z", "bug_id": 18007, "creation_time": "2003-05-30T12:32:15Z", "is_private": false}, {"count": 21, "tags": [], "bug_id": 18007, "attachment_id": null, "is_private": false, "id": 38044, "time": "2003-05-30T12:45:39Z", "creator": "bodewig@apache.org", "creation_time": "2003-05-30T12:45:39Z", "text": "I don't have a trial download, I'm just surprised that it comes without javadocs,\nthey're obviously not intersted in selling it to developers (how else would a\ndeveloper evaluate it?).\n\n"}, {"count": 22, "tags": [], "text": "The StarTeam SDK has a documentation but hasn't a sources. May be we means a \nsources? :)\n\nIf not, the following link should help you to obtain SDK and documentation.\n\nhttp://www.starbase.com/downloads/starteam/download_starteam_components_windows.\nasp\n ", "attachment_id": null, "id": 38048, "creator": "Stanislav.Spiridonov@borland.com", "time": "2003-05-30T14:16:30Z", "bug_id": 18007, "creation_time": "2003-05-30T14:16:30Z", "is_private": false}, {"count": 23, "tags": [], "text": "Also cannot duplicate on 1.4/5.2 config.  Apparent 1.5.3 change calls \nsetAlternatePathFragment() whose API docs suggest path is relative to parent \nfolder.  I can't check this now (I can try ASAP - 3ish days), but is \nrootStarTeamFolder's default path simply an absolute path in affected \nscenarios?", "attachment_id": null, "id": 38308, "creator": "jgraham@metlife.com", "time": "2003-06-04T05:21:53Z", "bug_id": 18007, "creation_time": "2003-06-04T05:21:53Z", "is_private": false}, {"count": 24, "tags": [], "creator": "brian.brooks@metavante.com", "attachment_id": null, "text": "*** Bug 20119 has been marked as a duplicate of this bug. ***", "id": 38617, "time": "2003-06-09T19:22:57Z", "bug_id": 18007, "creation_time": "2003-06-09T19:22:57Z", "is_private": false}, {"count": 25, "tags": [], "creator": "brian.brooks@metavante.com", "is_private": false, "text": "Created attachment 6716\nsetting up alternate working folder property", "id": 38623, "time": "2003-06-09T20:04:11Z", "bug_id": 18007, "creation_time": "2003-06-09T20:04:11Z", "attachment_id": 6716}, {"count": 26, "tags": [], "creator": "brian.brooks@metavante.com", "attachment_id": null, "text": "Steve, there is one configuration difference I noticed when working on bug \n20119.  Jay has the problem.  I do not.  Jay is using the starteam project \ndefault for the folder (C:\\projects\\...) whereas I'm using an alternate (p:\\c1\n\\...).\n\nI've created the attachment id# 6716 - bug-18007-pathfraggui-2.jpg which shows \nhow I setup an alternate folder.  I wonder if this setting is what avoids the \ndefect.  Note PC without the problem is setting an alternate folder, the PC \nwith the problem using the default folder.", "id": 38625, "time": "2003-06-09T20:06:27Z", "bug_id": 18007, "creation_time": "2003-06-09T20:06:27Z", "is_private": false}, {"count": 27, "tags": [], "bug_id": 18007, "text": "When I first read your message I was excited that we might finally be getting\nsomewhere.  But then I am using these tasks daily in different situations where\nI both do and don't use alternate folders.  However, I don't do so under java\n1.4, I'm using 1.3.  Possibly the combination of using the default folder and\njava 1.4 is the culprit.\n\nI will check further as I get the chance. (really busy now).\n\nAre you and Jay otherwise using identical configurations re OS, Java version,\nant version, etc.?", "id": 38628, "time": "2003-06-09T20:19:53Z", "creator": "scohen@apache.org", "creation_time": "2003-06-09T20:19:53Z", "is_private": false, "attachment_id": null}, {"count": 28, "tags": [], "text": "I've finally gotten back to trying this again. I'm now using\n\njava version \"1.4.1_02\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.1_02-b06)\nJava HotSpot(TM) Client VM (build 1.4.1_02-b06, mixed mode)\n\n(I seem to recal there was some doubt whether 1.4.1_02 vs 1.4.1_01 made a \ndifference)\n\nI still get the problem with ant 1.5.2, or 1.5.3\nant -version yields\nApache Ant version 1.5.3 compiled on April 16 2003\n\nNote that I've tried it with and without having the alternate folder selected--\nit makes no difference.\n", "attachment_id": null, "id": 38640, "creator": "eric_schwarzenbach@classwell.com", "time": "2003-06-09T23:22:05Z", "bug_id": 18007, "creation_time": "2003-06-09T23:22:05Z", "is_private": false}, {"count": 29, "tags": [], "bug_id": 18007, "attachment_id": null, "is_private": false, "id": 38641, "time": "2003-06-10T00:01:13Z", "creator": "scohen@apache.org", "creation_time": "2003-06-10T00:01:13Z", "text": "Well, Brian, Eric has confirmed my suspicions.  Setting up default vs alternate\nfolders in the starteam GUI seems to make no difference.  Can you tell me some\nother difference between your and Jay's setup?"}, {"count": 30, "tags": [], "creator": "brian.bray@theradoc.com", "attachment_id": null, "text": "What about starteam server platform?  We are running under Win2k Server, it\nsounds like a long shot, but any chance that's the elusive difference?", "id": 38701, "time": "2003-06-11T00:21:24Z", "bug_id": 18007, "creation_time": "2003-06-11T00:21:24Z", "is_private": false}, {"count": 31, "tags": [], "bug_id": 18007, "attachment_id": null, "is_private": false, "id": 38708, "time": "2003-06-11T02:55:35Z", "creator": "scohen@apache.org", "creation_time": "2003-06-11T02:55:35Z", "text": "I doubt that that's the cause, since I doubt that the OS is involved in calculating the local root folder on a different machine.  But you never know. "}, {"count": 32, "tags": [], "creator": "brian.bray@theradoc.com", "attachment_id": null, "id": 38778, "creation_time": "2003-06-12T20:07:51Z", "time": "2003-06-12T20:07:51Z", "bug_id": 18007, "text": "Here are a couple more clues, using this super-simple build.xml:\n\n<project name=\"testing\" default=\"fetch\">\n  <target name=\"fetch\">\n    <stcheckout url=\"server.com/project/\" username=\"user\" \n       password=\"pass\" rootlocalfolder=\"${basedir}\"/>\n  </target>\n</project>\n\n1) This works FINE under Linux!!  But fails under Win2k!!\n\n2) It is correctly translating and creating the folders from the project, just\nthe file names are being miscalculcated.\n", "is_private": false}, {"count": 33, "tags": [], "creator": "scohen@apache.org", "attachment_id": null, "text": "That doesn't surprise me.  It's never been a problem on anything other than some\nWindows-based systems.  It's always been fine with any unix.", "id": 38782, "time": "2003-06-12T21:46:36Z", "bug_id": 18007, "creation_time": "2003-06-12T21:46:36Z", "is_private": false}, {"count": 34, "tags": [], "text": "here's a silly question - what platform did the starteam-sdk.jar on the \neffected machine(s) come from?  I'm looking at (decompiled from Windows 5.2) \ncom.starbase.util.BaseFileUtils.defaultFileDelim() returing a hardcoded '\\' \n(and it's BaseFileUtil's fullyResolvedPath() which appears to ultimately \ngenerate the path)\n\n", "attachment_id": null, "id": 39617, "creator": "jgraham@metlife.com", "time": "2003-06-30T05:11:59Z", "bug_id": 18007, "creation_time": "2003-06-30T05:11:59Z", "is_private": false}, {"count": 35, "tags": [], "bug_id": 18007, "text": "I have SDK that comes with StarTeam 5.2 (Windows)", "id": 39619, "time": "2003-06-30T06:21:34Z", "creator": "cathy@jresearch.org", "creation_time": "2003-06-30T06:21:34Z", "is_private": false, "attachment_id": null}, {"count": 36, "tags": [], "creator": "jgraham@metlife.com", "attachment_id": null, "text": "ok - semi-ignore above (if it sounded dumb it's cause it was...)\n\nsilly question #2 though - was StarTeam actually installed on effected \nmachines?  ST has a homegrown means for determining it's on a Win32 box - it \ntries to load StSDKOSEnvironment.dll (check \nHKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\SharedDLLs - i think that's how \nJava looks the DLL up).  And if ST doesn't think it's on a Win32 box, it won't \nknow that D:/something is an absolute path (which _should_ generate the append-\nappend-append names).\n\none potential (hacky) workaround is to set a \"onwin32\" System property (i.e. -\nDonwin32=true or launch StarTeam from an MS JVM (possible???)", "id": 39620, "time": "2003-06-30T06:36:44Z", "bug_id": 18007, "creation_time": "2003-06-30T06:36:44Z", "is_private": false}, {"count": 37, "tags": [], "bug_id": 18007, "text": "Ok, probably that is the point. On machine where everything is ok, StarTeam \nwas actually installed. On machine where this bug occurs, there is only JAR \nfile.\n\nBut! With the previous version of ANT (1.5.1) everything worked in both cases", "id": 39647, "time": "2003-06-30T11:57:37Z", "creator": "cathy@jresearch.org", "creation_time": "2003-06-30T11:57:37Z", "is_private": false, "attachment_id": null}, {"count": 38, "tags": [], "creator": "scohen@apache.org", "is_private": false, "text": "Thank you Jamey! - you appear to have found the bug and it's in StarTeam!\n\nCathy - It was not a problem in StarTeam 1.5.1 because it was only with 1.5.2\nthat we began making heavy use of StarTeam's internal file name resolution\nutilities.  That was necessary in order to achieve the ability to act based on\nStarTeam statuses for each file - a key advance over 1.5.1 in which checkouts\nonly occurred regardless of StarTeam status.\n\nNow, the question is what to do about it.  Is a workaround to copy this DLL onto\nthe affected machine?  Or would it be safer to recommend a full install of\nStarTeam on any machine that runs this task?\n\nCan someone who has the 5.2 javadocs see if there's anything in there we could\ndo to put a more reliable mechanism into our code (i.e. forcing StarTeam to\nrecognize that it's on Windows?)  \n\nDoes someone know the procedure for submitting bug reports to Borland?\n\nThanks.", "id": 39656, "time": "2003-06-30T13:28:15Z", "bug_id": 18007, "creation_time": "2003-06-30T13:28:15Z", "attachment_id": null}, {"count": 39, "tags": [], "bug_id": 18007, "text": "I can check w/ Borland but I'm pretty sure I know what their response will be -\n install the fully licenced StarGate Runtime (not necessarily the client \nsoftware though) on the effected machine (i.e. it's not a bug, it's a \nlicencing feature...)", "id": 39657, "time": "2003-06-30T13:33:45Z", "creator": "jgraham@metlife.com", "creation_time": "2003-06-30T13:33:45Z", "is_private": false, "attachment_id": null}, {"count": 40, "tags": [], "creator": "scohen@apache.org", "attachment_id": null, "id": 39750, "creation_time": "2003-07-01T14:33:38Z", "time": "2003-07-01T14:33:38Z", "bug_id": 18007, "text": "Ooh, that's nasty.\n\nIt appears, then, that all we can do is put into our documentation that these\ntasks will not work on Windows platforms on which a licensed edition of StarTeam\n(either the standard GUI client or the Stargate Runtime) has not been installed.\n Can we get confirmation of this?  I will try to do so myself - thus far, all my\ntests on Windows had been on a machine where StarTeam had been fully installed.\n\nAnyone else?", "is_private": false}, {"count": 41, "tags": [], "creator": "brian.bray@theradoc.com", "attachment_id": null, "id": 39754, "creation_time": "2003-07-01T14:58:36Z", "time": "2003-07-01T14:58:36Z", "bug_id": 18007, "text": "Hmmm... None of this seems to apply to me.  I've been using a windows machine\nwith a fully licensed starteam install all along. :(\n\nI checked the registry key you mentioned and confirmed that\nStSDKOSEnvironment.dll key exists and points to a valid file.  I also tried the\n-Donwin32 param to no effect.\n", "is_private": false}, {"count": 42, "tags": [], "creator": "eric_schwarzenbach@classwell.com", "attachment_id": null, "text": "The machine on which I see the problem (windows 2000) has both the StarTeam \nClient (5.2) and the StarGate SDK (also 5.2, Build 118).\n\nHowever I've made a copy of the jar to another directory in which I keep most \nof the jars I use to keep my classpath under control, and this is the one I \nhave in my classpath. Would this make a difference? \n\nOr would there be a path requirement? There's 6 dlls in the same directory in \nwhich the jar gets installed. When I set up the environment in a command \nprompt, I just path to what I need, I don't leave all the cruft that every \ninstall leaves in the system path--so these have probably not been in my path \nwhen I've tested. And they don't seem to have been copied to the Windows system \ndirectory by the install. However I have know idea if some windows registry \nmagic would make them available if the jar tries to load them.\n\n", "id": 39762, "time": "2003-07-01T15:18:35Z", "bug_id": 18007, "creation_time": "2003-07-01T15:18:35Z", "is_private": false}, {"count": 43, "tags": [], "text": "Aha!\n\nI remembered that the windows JVM doesnt use the registry to locate DLL's, it\nbasically has to find them in the PATH.  I added the directory containing that\n.dll to my path and presto it worked!\n\nSo starteam, in its infinate wisdom, decided to try loading a DLL as a way to\ndetermine running under windows instead of System.getProperty(\"os.name\")???\n\nSo that appears to be the workaround for me under windows, but what a hack!", "attachment_id": null, "id": 39780, "creator": "brian.bray@theradoc.com", "time": "2003-07-01T18:04:03Z", "bug_id": 18007, "creation_time": "2003-07-01T18:04:03Z", "is_private": false}, {"count": 44, "tags": [], "bug_id": 18007, "text": "1) dealing w/ Borland != dealing w/ StarBase (ecch, formal channels...)  It's \nconfirmed though - StarGate is not freely redistributable and must be \nlicensed.  And the redistributable component for Windows is an Installer \n(StarGate-runtime.exe), not just the JAR.\n\n2) i'm not going to say why, but I really thought running on an MS JVM would \nwork w/o problem (\"won't say why\" #2 - System.getenv() should be brought \nback...)\n\n3) eric, FYI i have same setup (copy of JAR + DLLs not in any path) and \neverything works.  I'm just now realizing a slight subtlety (or a \nbig, \"flashing sign\" difference depending on take..) between your original \nreport and the stcheckout one (I ran with and based everything on the \nlatter).  Give me a lil' bit to check on something...", "id": 39814, "time": "2003-07-02T04:31:09Z", "creator": "jgraham@metlife.com", "creation_time": "2003-07-02T04:31:09Z", "is_private": false, "attachment_id": null}, {"count": 45, "tags": [], "text": "Thank you, guys. With installing StarTeam the problem was solved :)", "attachment_id": null, "id": 39836, "creator": "cathy@jresearch.org", "time": "2003-07-02T10:44:27Z", "bug_id": 18007, "creation_time": "2003-07-02T10:44:27Z", "is_private": false}, {"count": 46, "tags": [], "creator": "eric_schwarzenbach@classwell.com", "attachment_id": null, "text": "Jamey,\n\nYou mean like my report being about stcheckin rather than stcheckout? ;^) \nThough it does seem reasonable to expect the issues / functionality would be \nparallel. Thanks for checking into it. When I get a free moment I'll try adding \nthe dir with those dlls to my path and see what happens.", "id": 39871, "time": "2003-07-02T16:14:42Z", "bug_id": 18007, "creation_time": "2003-07-02T16:14:42Z", "is_private": false}, {"count": 47, "tags": [], "creator": "scohen@apache.org", "attachment_id": null, "text": "I would expect the problem to be identical in stcheckin and stcheckout since\nboth get this functionality from TreeBasedTask, which they inherit from.", "id": 39873, "time": "2003-07-02T16:26:18Z", "bug_id": 18007, "creation_time": "2003-07-02T16:26:18Z", "is_private": false}, {"count": 48, "tags": [], "text": "Created attachment 7104\nThis file updates the documentation with information about this problem.", "attachment_id": 7104, "id": 39999, "creator": "scohen@apache.org", "time": "2003-07-04T16:12:46Z", "bug_id": 18007, "creation_time": "2003-07-04T16:12:46Z", "is_private": false}, {"count": 49, "tags": [], "creator": "scohen@apache.org", "is_private": false, "text": "Based on the preceding discussion, it is clear that this is not a bug in ant \nbut a problem caused by a hitherto unrealized installation requirement.  Users \nmust install the StarGate runtime or StarTeam client (which includes the \nruntime), otherwise anything that involves local path resolution will not work \non Windows machines.  Previous versions did not have the problem because they \nlacked the ability to discern starteam file statuses, which requires access to \nthis runtime.   \n \nI have added a patch to the documentation to make this requirement \nhigh-profile.    ", "id": 40001, "time": "2003-07-04T16:17:35Z", "bug_id": 18007, "creation_time": "2003-07-04T16:17:35Z", "attachment_id": null}, {"count": 50, "tags": [], "text": "Documentation patch has been committed to CVS HEAD and the 1.5 branch to ensure\nit gets visible in the online docs as well.", "attachment_id": null, "id": 40036, "creator": "bodewig@apache.org", "time": "2003-07-07T07:38:03Z", "bug_id": 18007, "creation_time": "2003-07-07T07:38:03Z", "is_private": false}, {"count": 51, "tags": [], "creator": "scohen@apache.org", "attachment_id": null, "id": 45058, "creation_time": "2003-10-03T20:40:15Z", "time": "2003-10-03T20:40:15Z", "bug_id": 18007, "text": "A communication from Richard.Hensley@McKesson.com\npoints out a weakness in the documentation about this bug.\n\"I'm writing this email because I encountered the problem described in\nbug 18007, however if the documentation had been a little more explicit,\nI think I would not have been able to get my ant build working without\nhaving to find bug 18007.\n...\nThe documentation indicates the following:\n\n'On Windows machines, the mere presence of starteam-sdk.jar on the\nclasspath is not sufficient for getting these tasks to work properly.\nThese tasks also require a fully-installed and fully-licensed version of\nthe StarGate Runtime. This is part of a StarTeam client installation or\nmay be installed separately. The full client install is not required.'\n\nMy computer met this criteria, I had an installed and licensed copy of\nthe StarGate Runtime, however I was having the same problem. After\nreading through the bug 18007, I tripped across a comment about having\nthe StarGate Runtime .dll files in the executable path, and the\nstarteam-sdk.jar file be in the classpath. You might want to amend the\ndocumentation to indicate these two conditions.\"\n\nSince this problem is so annoyingly difficult to deal with, the documentation\nshould be beefed up to more exactly state the configuration needed.", "is_private": false}, {"count": 52, "tags": [], "creator": "scohen@apache.org", "attachment_id": 8452, "id": 45061, "creation_time": "2003-10-03T21:04:39Z", "time": "2003-10-03T21:04:39Z", "bug_id": 18007, "text": "Created attachment 8452\nextra manual documentation on how to avoid this problem", "is_private": false}, {"count": 53, "tags": [], "bug_id": 18007, "attachment_id": null, "is_private": false, "id": 45123, "time": "2003-10-06T09:16:21Z", "creator": "bodewig@apache.org", "creation_time": "2003-10-06T09:16:21Z", "text": "patch applied, thanks again, Steve."}]