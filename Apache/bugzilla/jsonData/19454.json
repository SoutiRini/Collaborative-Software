[{"count": 0, "attachment_id": null, "creator": "tamdi007@yahoo.com", "is_private": false, "id": 36350, "time": "2003-04-30T00:27:18Z", "bug_id": 19454, "creation_time": "2003-04-30T00:27:18Z", "tags": [], "text": "Hi,\n\nI am trying out tomcat, for the very first time. I unzipped the jar available \non the jakarta site. \nMade the following changes:\n1) Enable the ROOT context. Edit install_dir/conf/server.xml and uncomment  \n   this  line: <Context path=\"\" docBase=\"ROOT\" debug=\"0\"/>. Not necessary in  \n   Tomcat 4.0.3 and earlier. \n2) Enable the invoker servlet. Go to install_dir/conf/web.xml and uncomment the \n   servlet-mapping element that maps the invoker servlet to /servlet/*. Not  \n   necessary prior to Tomcat 4.1.12. \n3) Change the port to 80. Edit install_dir/conf/server.xml and change the port \n   attribute of the Connector element from 8080 to 80. \n4) Turn on servlet reloading. Edit install_dir/conf/server.xml and add a \n   DefaultContext subelement to the main Service element and supply true for \n   the reloadable attribute. \n5) Set the JAVA_HOME variable. Set it to refer to the base JDK directory, not \n   the bin subdirectory. \n\nAnd I started it up using the startup.bat. I got the following error. I did \nsome research, and found out that the solution involved in modifying some \nDTD'd, but there were no DTD's in the extracted zip file for tomcat.\n\nCan anyone pls guide me ?\n\nThe error snippet is as followds:\n\nApr 29, 2003 5:10:47 PM org.apache.commons.modeler.Registry loadRegistry\nINFO: Loading registry information\nApr 29, 2003 5:10:47 PM org.apache.commons.modeler.Registry getRegistry\nINFO: Creating new Registry instance\nApr 29, 2003 5:10:48 PM org.apache.commons.modeler.Registry getServer\nINFO: Creating MBeanServer\nApr 29, 2003 5:10:49 PM org.apache.coyote.http11.Http11Protocol init\nINFO: Initializing Coyote HTTP/1.1 on port 81\nStarting service Tomcat-Standalone\nApache Tomcat/4.1.24\nApr 29, 2003 5:10:50 PM org.apache.commons.digester.Digester fatalError\nSEVERE: Parse Fatal Error at line 271 column 9: The string \"--\" is not \npermitted within comments.\norg.xml.sax.SAXParseException: The string \"--\" is not permitted within comments.\n        at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException\n(Unknown Source)\n        at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)\n        at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n        at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n        at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\n        at org.apache.xerces.impl.XMLScanner.scanComment(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment\n(Unknown Source)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(Unknown Source)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.commons.digester.Digester.parse(Digester.java:1543)\n        at org.apache.catalina.startup.ContextConfig.defaultConfig\n(ContextConfig.java:548)\n        at org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:638)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:243)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n        at org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3567)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:738)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n        at org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:347)\n        at org.apache.catalina.core.StandardService.start\n(StandardService.java:497)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2190)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:512)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\nApr 29, 2003 5:10:51 PM org.apache.commons.digester.Digester fatalError\nSEVERE: Parse Fatal Error at line 271 column 9: The string \"--\" is not \npermitted within comments.\norg.xml.sax.SAXParseException: The string \"--\" is not permitted within comments.\n        at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException\n(Unknown Source)\n        at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)\n        at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n        at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n        at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\n        at org.apache.xerces.impl.XMLScanner.scanComment(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment\n(Unknown Source)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(Unknown Source)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.commons.digester.Digester.parse(Digester.java:1543)\n        at org.apache.catalina.startup.ContextConfig.defaultConfig\n(ContextConfig.java:548)\n        at org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:638)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:243)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n        at org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3567)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:738)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n        at org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:347)\n        at org.apache.catalina.core.StandardService.start\n(StandardService.java:497)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2190)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:512)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\nApr 29, 2003 5:10:51 PM org.apache.commons.digester.Digester fatalError\nSEVERE: Parse Fatal Error at line 271 column 9: The string \"--\" is not \npermitted within comments.\norg.xml.sax.SAXParseException: The string \"--\" is not permitted within comments.\n        at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException\n(Unknown Source)\n        at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)\n        at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n        at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n        at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\n        at org.apache.xerces.impl.XMLScanner.scanComment(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment\n(Unknown Source)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(Unknown Source)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.commons.digester.Digester.parse(Digester.java:1543)\n        at org.apache.catalina.startup.ContextConfig.defaultConfig\n(ContextConfig.java:548)\n        at org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:638)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:243)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n        at org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3567)\n        at org.apache.catalina.core.ContainerBase.addChildInternal\n(ContainerBase.java:821)\n        at org.apache.catalina.core.ContainerBase.addChild\n(ContainerBase.java:807)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:579)\n        at org.apache.catalina.core.StandardHostDeployer.addChild\n(StandardHostDeployer.java:700)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.commons.beanutils.MethodUtils.invokeMethod\n(MethodUtils.java:252)\n        at org.apache.commons.digester.SetNextRule.end(SetNextRule.java:260)\n        at org.apache.commons.digester.Rule.end(Rule.java:276)\n        at org.apache.commons.digester.Digester.endElement(Digester.java:1064)\n        at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown \nSource)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEndElement\n(Unknown Source)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(Unknown Source)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.commons.digester.Digester.parse(Digester.java:1562)\n        at org.apache.catalina.core.StandardHostDeployer.install\n(StandardHostDeployer.java:385)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:803)\n        at org.apache.catalina.startup.HostConfig.deployDescriptors\n(HostConfig.java:442)\n        at org.apache.catalina.startup.HostConfig.deployApps\n(HostConfig.java:399)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:718)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent\n(HostConfig.java:358)\n        at \n\n.....................\n\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEventina.startup.Catalina\n.start(Catalina.java:512)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\nApr 29, 2003 5:10:54 PM org.apache.coyote.http11.Http11Protocol start\nINFO: Starting Coyote HTTP/1.1 on port 81\nApr 29, 2003 5:10:54 PM org.apache.jk.common.ChannelSocket init\nINFO: JK2: ajp13 listening on /0.0.0.0:8009\nApr 29, 2003 5:10:54 PM org.apache.jk.server.JkMain start\nINFO: Jk running ID=0 time=11/130  config=C:\\jakarta-tomcat-4.1.24\n\\bin\\..\\conf\\jk2.properties\n\n\nThanks in advance."}, {"count": 1, "tags": [], "bug_id": 19454, "attachment_id": null, "id": 36351, "creation_time": "2003-04-30T00:40:47Z", "time": "2003-04-30T00:40:47Z", "creator": "funkman@joedog.org", "text": "Odds are, when you uncommented the invoker - you did something wrong in web.xml. \n\nBugzilla is not a help desk support system. It is for confirmed (or believed to\nbe ) bugs. Please use the tomcat-user list for help in debugging issues. \n\nNote: there are (or were) issues with having \"--\" inside of xml comments. I\ncan't recall at this particular moment if it is a xerces issue or something else\nor even if it still is a \"problem\". In any case - if you have -- inside of an\nxml comment, get rid of it and see if the problem goes away.", "is_private": false}, {"count": 2, "attachment_id": null, "creator": "jfarcand@apache.org", "is_private": false, "id": 36353, "time": "2003-04-30T00:53:32Z", "bug_id": 19454, "creation_time": "2003-04-30T00:53:32Z", "tags": [], "text": "Having -- inside comment is invalid when using xml.\n\nWe already faced a bug with -- but was fixed with Xerces 2,3. If you use Xerces\n2.2.x version, the upgrade. If you use the Xerces that comes with 4.1.24, then\ncheck your xml file."}]