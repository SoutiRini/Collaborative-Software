[{"count": 0, "text": "Using Java version of XML Security 1.2.1, I encrypted a XML with AES 128 bit \nkey and wrapped it with the RSA-1.5 using a X509 certificate's public key.\n\nI used the following piece of code to extract the AES key:\n\n//kek = ...  extract private key from PKCS12 keystore\nxmlCipher.init(XMLCipher.UNWRAP_MODE, kek);\nEncryptedKey encKey = xmlCipher.loadEncryptedKey(document, encryptedKey );\nKey buggedDataEncKey = xmlCipher.decryptKey(encKey, XMLCipher.RSA_v1dot5);\n\nAt this point, the \"buggedDataEncKey\" produces the correct \nbuggedDataEncKey.getEncoded() values.  However, buggedDataEncKey.getAlgorithm\n()  returns \"RSA\".  I was expecting that value to be \"AES\" because that is what \nthe key specification is.\n\nThe current work-around I use is to re-create the key using:\nKey debuggedDataEncKey = new SecretKeySpec(buggedDataEncKey.getEncoded\n(),\"aes\" );\n\nI'm not sure if this was expected behaviour or not but it is definitely not \ndesirable as the buggedDataEncKey cannot be used to decrypt the \"EncryptedData\" \ndirectly without using the work-around.\n\nYou're welcomed to contact me if you have questions about it.\n\nThanks and regards,", "bug_id": 38584, "attachment_id": null, "id": 85618, "time": "2006-02-09T04:14:04Z", "creator": "anonaye2@hotmail.com", "creation_time": "2006-02-09T04:14:04Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 38584, "attachment_id": null, "is_private": false, "id": 86420, "time": "2006-03-02T21:31:04Z", "creator": "sean.mullan@oracle.com", "creation_time": "2006-03-02T21:31:04Z", "text": "I am pretty sure this is not a bug and you are specifying a parameter incorrectly.\n\nIn this line of your code:\n\nKey buggedDataEncKey = xmlCipher.decryptKey(encKey, XMLCipher.RSA_v1dot5);\n\nthe 2nd parameter should be the algorithm of the encrypted key, not the algorithm\nthat the key is encrypted in. Try changing this to:\n\nKey buggedDataEncKey = xmlCipher.decryptKey(encKey, XMLCipher.AES_128);"}, {"count": 2, "text": "I haven't heard back from the submitter, so I am closing this bug\nas INVALID. I will update the javadoc to document the parameters a\nlittle better.", "bug_id": 38584, "attachment_id": null, "id": 86695, "time": "2006-03-10T20:02:29Z", "creator": "sean.mullan@oracle.com", "creation_time": "2006-03-10T20:02:29Z", "tags": [], "is_private": false}, {"count": 3, "text": "Closing old bugs.", "bug_id": 38584, "attachment_id": null, "id": 91954, "time": "2006-08-06T17:34:17Z", "creator": "raul-info@r-bg.com", "creation_time": "2006-08-06T17:34:17Z", "tags": [], "is_private": false}]