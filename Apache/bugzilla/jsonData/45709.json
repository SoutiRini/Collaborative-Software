[{"count": 0, "tags": [], "bug_id": 45709, "text": "Problem:\nThe zipfile distribution of Apache-Tomcat-5.5.26 contains an improper conf/catalina.policy file with regards to logging permissions when running with -security option.  It may exist in the other distribution packages.  I have not checked them.\n\nTo reproduce:\nDownload apache-tomcat-5.5.26.zip distribution\nExpand the zip file to a folder\nRun the command {catalina.hom}/bin/catalina run -security\n\nCause:\nThere are two corrections that need to be made actually.\n1.  The commons-logging-api jar that is packaged with apache-tomcat-5.5.26 is named \"commons-logging-api-1.1.1.jar\".  The catalina.policy file grants permissions to \"commons-logging-api.jar\".\n2.  After correcting the first cause, you will need three permissions set for ${catalina.home}/bin/tomcat-juli.jar.  These are due to the bundled example webapps.  Please add the following lines to the default permissions list for juli --\n\npermission java.io.FilePermission \"${catalina.base}${file.seaparator}webapps${file.separator}examples${file.separator}WEB-INF${file.separator}classes${file.separator}logging.properties\", \"read\";\n\npermission java.io.FilePermission \"${catalina.base}${file.seaparator}webapps${file.separator}servlets-examples${file.separator}WEB-INF${file.separator}classes${file.separator}logging.properties\", \"read\";\n\npermission java.io.FilePermission \"${catalina.base}${file.seaparator}webapps${file.separator}jsp-examples${file.separator}WEB-INF${file.separator}classes${file.separator}logging.properties\", \"read\";", "id": 120193, "attachment_id": null, "creator": "wtranmer@gmail.com", "creation_time": "2008-08-28T17:12:26Z", "time": "2008-08-28T17:12:26Z", "is_private": false}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "The first issue has already been fixed. The second isn't going to be fixed. Work is in hand to handle the errors more gracefully.\n\nIn a security conscious environment, the examples should not be installed so I don't see the need to add explicit permissions for this web app.\n\n*** This bug has been marked as a duplicate of bug 45293 ***", "id": 120196, "time": "2008-08-29T04:01:19Z", "bug_id": 45709, "creation_time": "2008-08-29T04:01:19Z", "is_private": false}, {"count": 2, "tags": [], "creator": "wtranmer@gmail.com", "text": "Thanks", "id": 120205, "time": "2008-08-29T07:59:46Z", "bug_id": 45709, "creation_time": "2008-08-29T07:59:46Z", "is_private": false, "attachment_id": null}]