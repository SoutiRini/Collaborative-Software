[{"count": 0, "tags": [], "creator": "c.beckey@comcast.net", "text": "With a custom realm deployed in a CONTEXT the related container and the parent container (Container.getParent()) are available on the Realm.setContainer() call.  When the realm is deployed in a HOST the container is available in the Realm.setContainer() but the parent container (Container.getParent()) returns null.  The parent container reference does become available later (on an authenticate() call for example).\n\nExample: the following code behaves differently depending on whether the container is a HOST or a CONTEXT:\npublic void setContainer(Container container)\n{\n\t\tthis.container = container;\n\n\t\tif (container != null)\n\t\t{\n\t\t\t// parentContainer is null if container is a HOST\n\t\t\tparentContainer = container.getParent();\n...\n\nWorkaround is to retain the container reference and calls its getParent() after initialization.", "id": 115465, "time": "2008-04-09T11:01:23Z", "bug_id": 44788, "creation_time": "2008-04-09T11:01:23Z", "is_private": false, "attachment_id": null}, {"text": "This is a side-effect of how the digester works and the order objects are created.\n\nWhen setContainer() is called, state is not fully configured.\nWhen the init() method is called, the container hierarchy is correctly set.", "tags": [], "bug_id": 44788, "is_private": false, "count": 1, "id": 115472, "time": "2008-04-09T15:16:10Z", "creator": "markt@apache.org", "creation_time": "2008-04-09T15:16:10Z", "attachment_id": null}]