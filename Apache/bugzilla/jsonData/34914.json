[{"count": 0, "tags": [], "bug_id": 34914, "text": "I know there was a synchronization bug with the sitetree that was fixed in 1.2.3\nbut there also appears to be a synch bug with the checkin/checkout code too\nbecause some of my RCML files get corrupted if I mistakenly hit save twice very\nquickly.", "id": 74867, "time": "2005-05-14T01:17:50Z", "creator": "lenya5@mordent.com", "creation_time": "2005-05-14T01:17:50Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 17387\nPatch for fixing corruption of RCML files\n\nI think I've fixed the problem with corruption of RCML files (this happened\nsince 1.2.1 and still happens in 1.2.3).  To fix the problem, I added a bunch\nof synchronization to the RevisionController.  I've included the source and not\na real patch.  The source I included was modified from the original 1.2.3\nversions.", "is_private": false, "bug_id": 34914, "id": 84474, "time": "2006-01-11T19:10:40Z", "creator": "lenya5a@mordent.com", "creation_time": "2006-01-11T19:10:40Z", "attachment_id": 17387}, {"count": 2, "tags": [], "creator": "thorsten@apache.org", "attachment_id": null, "is_private": false, "id": 84475, "time": "2006-01-11T19:17:50Z", "bug_id": 34914, "creation_time": "2006-01-11T19:17:50Z", "text": "Hmm, the problem is that current version is 1.2.5-dev. The patch you provided is\nhard to implement. Can you please do a pacth against head version of the 1.2.x\nsvn rep? Then I can take care of it.\n\nTIA"}, {"count": 3, "tags": [], "text": "(In reply to comment #2)\n\nI have no idea where to get that branch from svn.  If you can give me the url,\nI'll try to make a patch against it, but unfortunately I'll have no way to test\nit.  I can only test it with our 1.2.3 tree.\n\n-mm\n", "is_private": false, "bug_id": 34914, "id": 84537, "time": "2006-01-12T16:53:09Z", "creator": "lenya5@mordent.com", "creation_time": "2006-01-12T16:53:09Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "thorsten@apache.org", "attachment_id": null, "text": "http://lenya.apache.org/1_2_x/installation/subversion.html\n\nThanks for that. No worries if you can do a diff then I will test it.\n\nTIA\n\nBTW a diff you do with:\nsvn diff > rcml.diff", "id": 84539, "time": "2006-01-12T17:05:06Z", "bug_id": 34914, "creation_time": "2006-01-12T17:05:06Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 34914, "is_private": false, "text": "(In reply to comment #4)\n\nSorry it's taking so long to get you an updated patch.  I have to setup a whole\nnew environment just to compile this branch.  And some other files that use the\nrevision controller have changed since 1.2.3 and I have to fix those too now.\n\n", "id": 84780, "time": "2006-01-19T18:24:41Z", "creator": "lenya5@mordent.com", "creation_time": "2006-01-19T18:24:41Z", "attachment_id": null}, {"count": 6, "tags": [], "text": "Created attachment 17458\nPatch against svn tree\n\nHere's the updated patch against the svn tree.\tI've basically put\nsynchronization into RevisionController, and now that class should be the only\nclass anyone uses for revision control (and not RCML any more). \nRevisionController is the only class that accesses RCML because adding\nsynchronization to the RCML class would not have worked (because the\n\"transactions\" were too broken up in there, but not so in RevisionController). \nI had to fix ForceCheckinAction, ReservedCheckoutTestAction, versions-screen\nand revisions.xsp not use RCML, and added some functions into\nRevisionController to do what they needed.\n\nSo if you need to do revision control, don't use RCML, but use\nRevisionController and if it doesn't do what you need to do, make another\n\"transaction\" like function in that class instead of doing low level RCML calls\nfrom elsewhere.  Otherwise you risk running into synchronization problems.\n\nI hope this makes sense.", "is_private": false, "bug_id": 34914, "id": 84781, "time": "2006-01-19T19:24:53Z", "creator": "lenya5@mordent.com", "creation_time": "2006-01-19T19:24:53Z", "attachment_id": 17458}, {"count": 7, "tags": [], "bug_id": 34914, "is_private": false, "text": "is this issue still valid? has the patch been reviewed and/or applied?", "id": 98533, "time": "2007-01-25T16:36:31Z", "creator": "nettings@apache.org", "creation_time": "2007-01-25T16:36:31Z", "attachment_id": null}, {"count": 8, "tags": [], "text": "Comment on attachment 17387\nPatch for fixing corruption of RCML files\n\nPatch for version 1.2.3", "is_private": false, "bug_id": 34914, "id": 101292, "time": "2007-03-31T23:29:59Z", "creator": "agallardo@agsoftware.dnsalias.com", "creation_time": "2007-03-31T23:29:59Z", "attachment_id": 17387}, {"count": 9, "tags": [], "bug_id": 34914, "text": "andreas, can you comment on this issue?", "id": 102471, "time": "2007-04-26T07:12:51Z", "creator": "nettings@apache.org", "creation_time": "2007-04-26T07:12:51Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 34914, "attachment_id": null, "id": 102601, "time": "2007-04-28T15:57:15Z", "creator": "nettings@apache.org", "creation_time": "2007-04-28T15:57:15Z", "is_private": false, "text": "since nobody offers comments regarding the validity of this bug in trunk and i\ncan't reproduce it, i'm re-targeting it to 1.2.6...."}]