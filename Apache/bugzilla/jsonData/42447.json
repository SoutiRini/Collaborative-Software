[{"count": 0, "tags": [], "creator": "david.jackman@fastsearch.com", "attachment_id": null, "text": "I'm creating some macros to make our build scripts more efficient.  In order to\nmake the macros more flexible, I'd like to have macro attributes that turn on or\noff certain command line flags to a program that the macro executes.  In some\ncases, the macro sends these flags using arg elements within the exec task.  In\nother cases I'm building an options file that gets passed to the program.\n\nThis would be easy if I could do something like this:\n<echo file=\"myoptionsfile\" append=\"true\">\n<condition>\n<istrue value=\"@{debug}\"/>\n</condition>\n--debug\n</echo>\n\nor\n\n<arg value=\"--debug\">\n<condition>\n<istrue value=\"@{debug}\"/>\n</condition>\n</arg>\n\nOr here's an even clearer alternative, assuming a property named \"true\" exists\nand a property named \"false\" does not:\n\n<echo if=\"@{debug}\" file=\"myoptionsfile\" append=\"true\">\n--debug\n</echo>\n\nor\n\n<arg if=\"@{debug}\" value=\"--debug\" />", "id": 103314, "time": "2007-05-17T12:29:14Z", "bug_id": 42447, "creation_time": "2007-05-17T12:29:14Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 42447, "is_private": false, "text": "have you looked at the conditional tasks in ant-contrib on sourceforge? They\nshould achieve what you want", "id": 103326, "time": "2007-05-18T02:31:06Z", "creator": "stevel@apache.org", "creation_time": "2007-05-18T02:31:06Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "david.jackman@fastsearch.com", "attachment_id": null, "text": "(In reply to comment #1)\n> have you looked at the conditional tasks in ant-contrib on sourceforge? They\n> should achieve what you want\n\nI think it might work for the echo (although it's really verbose), but not for\nthe arg element.", "id": 103341, "time": "2007-05-18T09:40:29Z", "bug_id": 42447, "creation_time": "2007-05-18T09:40:29Z", "is_private": false}, {"count": 3, "tags": [], "creator": "gale@sefer.org", "text": "I voted for this enhancement, for adding <conditional> as an allowed child of <arg>. Allowing if and unless as attributes would also be a nice shortcut for some cases.\n\nThis is a very common requirement. Currently it is only possible either by constructing optional parameters as string and using \"line=...\", or by using <script>. Using \"line=\" is not always possible, because it makes it impossible to use Ant's built in quoting and processing of special strings such as paths. Using <script> is not always possible because it has additional library dependencies which are not always possible to satisfy, depending on the deployment scenario.\n\nAs stated in a previous comment, allowing conditionals for tasks is less important, since this can already be done, although in awkward ways.", "id": 165044, "attachment_id": null, "bug_id": 42447, "creation_time": "2013-02-04T09:49:31Z", "time": "2013-02-04T09:49:31Z", "is_private": false}, {"count": 4, "tags": [], "creator": "jan@materne.de", "attachment_id": null, "is_private": false, "id": 183427, "time": "2015-06-10T08:42:29Z", "bug_id": 42447, "creation_time": "2015-06-10T08:42:29Z", "text": "The ant:if|unless namespace could be used for that.\nhttp://ant.apache.org/manual/ifunless.html"}]