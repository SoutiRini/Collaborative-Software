[{"count": 0, "tags": [], "bug_id": 22300, "text": "Under certain circumstances it may be desirable to have a digester jar in\ncommon/lib. Because of the well know class loader hierarchy Tomcat prefers the\ndigester jar in common/lib over server/lib on startup. The classes digester\ntries to build from the XML are accessible over the server/lib class loader\nonly. Its standard class loader is the one from common/lib though. Thus it can\nnot find those classes resulting in the following exception:\n\nCatalina.start: java.lang.ClassNotFoundException:\norg.apache.catalina.core.StandardServer\njava.lang.ClassNotFoundException: org.apache.catalina.core.StandardServer\n\tat org.apache.commons.digester.Digester.createSAXException(Digester.java:2540)\n\tat org.apache.commons.digester.Digester.createSAXException(Digester.java:2566)\n\tat org.apache.commons.digester.Digester.startElement(Digester.java:1276)\n\tat org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1535)\n\tat org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:534)\n\tat org.apache.crimson.parser.Parser2.parse(Parser2.java:318)\n\tat org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:442)\n\tat org.apache.commons.digester.Digester.parse(Digester.java:1548)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:449)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)", "id": 42544, "time": "2003-08-11T13:48:53Z", "creator": "ozeigermann@c1-fse.de", "creation_time": "2003-08-11T13:48:53Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "ozeigermann@c1-fse.de", "attachment_id": 7751, "text": "Created attachment 7751\nProposed patch, setting digester class loader to the one from server/lib", "id": 42545, "time": "2003-08-11T13:53:06Z", "bug_id": 22300, "creation_time": "2003-08-11T13:53:06Z", "is_private": false}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "This is fixed in CVS (in a slightly different manner).\n\nThanks for the report.", "id": 59361, "time": "2004-06-16T20:24:53Z", "bug_id": 22300, "creation_time": "2004-06-16T20:24:53Z", "is_private": false}]