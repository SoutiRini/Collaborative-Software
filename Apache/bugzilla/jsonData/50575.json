[{"count": 0, "tags": [], "bug_id": 50575, "attachment_id": null, "is_private": false, "id": 143284, "time": "2011-01-11T20:52:39Z", "creator": "alexanderfaucher@gmail.com", "creation_time": "2011-01-11T20:52:39Z", "text": "I extracted fop-1.0 and ran it for xml2txt conversion and got an exception on event-model.xml not found.  Those files do not exist in the binary release.  I noticed that when I build from source I get those files under multiple paths like ./build/classes/org/apache/fop/... and ./build/gensrc/org/apache/fop/... but I get the same exception when I run ./fop from there.\n\nThis is fop-1.0 release on RHEL5.\n\nThe command:\n./fop -xml ~/input.xml -xsl ~/stylesheet.xslt -c ~/fop.xml -txt ~/result.txt\n\n11-Jan-11 5:46:11 PM org.apache.fop.render.txt.TXTRenderer startRenderer\nINFO: Rendering areas to TEXT.\n11-Jan-11 5:46:12 PM org.apache.fop.fo.FOTreeBuilder fatalError\nSEVERE: javax.xml.transform.TransformerException: Error reading event-model.xml: http://xml.org/sax/handlers/LexicalHandler\n11-Jan-11 5:46:12 PM org.apache.fop.cli.Main startFOP\nSEVERE: Exception\njavax.xml.transform.TransformerException: Error reading event-model.xml: http://xml.org/sax/handlers/LexicalHandler\n   at org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:302)\n   at org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:130)\n   at org.apache.fop.cli.Main.startFOP(Main.java:174)\n   at org.apache.fop.cli.Main.main(Main.java:205)\n\n---------\n\njavax.xml.transform.TransformerException: Error reading event-model.xml: http://xml.org/sax/handlers/LexicalHandler\n   at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2416)\n   at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1374)\n   at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2411)\n   at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2281)\n   at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1367)\n   at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)\n   at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1284)\n   at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1262)\n   at org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:299)\n   at org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:130)\n   at org.apache.fop.cli.Main.startFOP(Main.java:174)\n   at org.apache.fop.cli.Main.main(Main.java:205)\nCaused by: java.util.MissingResourceException: Error reading event-model.xml: http://xml.org/sax/handlers/LexicalHandler\n   at org.apache.fop.events.DefaultEventBroadcaster.loadModel(DefaultEventBroadcaster.java:90)\n   at org.apache.fop.events.DefaultEventBroadcaster.getEventProducerModel(DefaultEventBroadcaster.java:114)\n   at org.apache.fop.events.DefaultEventBroadcaster.createProxyFor(DefaultEventBroadcaster.java:142)\n   at org.apache.fop.events.DefaultEventBroadcaster.getEventProducerFor(DefaultEventBroadcaster.java:129)\n   at org.apache.fop.fonts.FontEventProducer$Provider.get(FontEventProducer.java:43)\n   at org.apache.fop.fonts.FontEventAdapter.getEventProducer(FontEventAdapter.java:44)\n   at org.apache.fop.fonts.FontEventAdapter.fontSubstituted(FontEventAdapter.java:51)\n   at org.apache.fop.fonts.FontInfo.notifyFontReplacement(FontInfo.java:468)\n   at org.apache.fop.fonts.FontInfo.fontLookup(FontInfo.java:223)\n   at org.apache.fop.fonts.FontInfo.fontLookup(FontInfo.java:401)\n   at org.apache.fop.fonts.FontInfo.fontLookup(FontInfo.java:433)\n   at org.apache.fop.fo.properties.CommonFont.getFontState(CommonFont.java:222)\n   at org.apache.fop.layoutmgr.BlockLayoutManager.initialize(BlockLayoutManager.java:84)\n   at org.apache.fop.layoutmgr.AbstractLayoutManager.getChildLM(AbstractLayoutManager.java:120)\n   at org.apache.fop.layoutmgr.FlowLayoutManager.getNextKnuthElements(FlowLayoutManager.java:69)\n   at org.apache.fop.layoutmgr.PageBreaker.getNextKnuthElements(PageBreaker.java:216)\n   at org.apache.fop.layoutmgr.AbstractBreaker.getNextBlockList(AbstractBreaker.java:692)\n   at org.apache.fop.layoutmgr.PageBreaker.getNextBlockList(PageBreaker.java:149)\n   at org.apache.fop.layoutmgr.PageBreaker.getNextBlockList(PageBreaker.java:132)\n   at org.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:337)\n   at org.apache.fop.layoutmgr.PageBreaker.doLayout(PageBreaker.java:85)\n   at org.apache.fop.layoutmgr.PageSequenceLayoutManager.activateLayout(PageSequenceLayoutManager.java:107)\n   at org.apache.fop.area.AreaTreeHandler.endPageSequence(AreaTreeHandler.java:238)\n   at org.apache.fop.fo.pagination.PageSequence.endOfNode(PageSequence.java:120)\n   at org.apache.fop.fo.FOTreeBuilder$MainFOHandler.endElement(FOTreeBuilder.java:349)\n   at org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:177)\n   at org.apache.xml.serializer.ToXMLSAXHandler.endElement(ToXMLSAXHandler.java:261)\n   at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1399)\n   at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2411)\n   ...11 more\ncaused by java.util.MissingResourceException: Error reading event-model.xml: http://xml.org/sax/handlers/LexicalHandler\n   at org.apache.fop.events.DefaultEventBroadcaster.loadModel(DefaultEventBroadcaster.java:90)\n   at org.apache.fop.events.DefaultEventBroadcaster.getEventProducerModel(DefaultEventBroadcaster.java:114)\n   at org.apache.fop.events.DefaultEventBroadcaster.createProxyFor(DefaultEventBroadcaster.java:142)\n   at org.apache.fop.events.DefaultEventBroadcaster.getEventProducerFor(DefaultEventBroadcaster.java:129)\n   at org.apache.fop.fonts.FontEventProducer$Provider.get(FontEventProducer.java:43)\n   at org.apache.fop.fonts.FontEventAdapter.getEventProducer(FontEventAdapter.java:44)\n   at org.apache.fop.fonts.FontEventAdapter.fontSubstituted(FontEventAdapter.java:51)\n   at org.apache.fop.fonts.FontInfo.notifyFontReplacement(FontInfo.java:468)\n   at org.apache.fop.fonts.FontInfo.fontLookup(FontInfo.java:223)\n   at org.apache.fop.fonts.FontInfo.fontLookup(FontInfo.java:401)\n   at org.apache.fop.fonts.FontInfo.fontLookup(FontInfo.java:433)\n   at org.apache.fop.fo.properties.CommonFont.getFontState(CommonFont.java:222)\n   at org.apache.fop.layoutmgr.BlockLayoutManager.initialize(BlockLayoutManager.java:84)\n   at org.apache.fop.layoutmgr.AbstractLayoutManager.getChildLM(AbstractLayoutManager.java:120)\n   at org.apache.fop.layoutmgr.FlowLayoutManager.getNextKnuthElements(FlowLayoutManager.java:69)\n   at org.apache.fop.layoutmgr.PageBreaker.getNextKnuthElements(PageBreaker.java:216)\n   at org.apache.fop.layoutmgr.AbstractBreaker.getNextBlockList(AbstractBreaker.java:692)\n   at org.apache.fop.layoutmgr.PageBreaker.getNextBlockList(PageBreaker.java:149)\n   at org.apache.fop.layoutmgr.PageBreaker.getNextBlockList(PageBreaker.java:132)\n   at org.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:337)\n   at org.apache.fop.layoutmgr.PageBreaker.doLayout(PageBreaker.java:85)\n   at org.apache.fop.layoutmgr.PageSequenceLayoutManager.activateLayout(PageSequenceLayoutManager.java:107)\n   at org.apache.fop.area.AreaTreeHandler.endPageSequence(AreaTreeHandler.java:238)\n   at org.apache.fop.fo.pagination.PageSequence.endOfNode(PageSequence.java:120)\n   at org.apache.fop.fo.FOTreeBuilder$MainFOHandler.endElement(FOTreeBuilder.java:349)\n   at org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:177)\n   at org.apache.xml.serializer.ToXMLSAXHandler.endElement(ToXMLSAXHandler.java:261)\n   at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1399)\n   at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2411)\n   at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1374)\n   at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2411)\n   at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2281)\n   at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1367)\n   at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)\n   at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1284)\n   at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1262)\n   at org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:299)\n   at org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:130)\n   at org.apache.fop.cli.Main.startFOP(Main.java:174)\n   at org.apache.fop.cli.Main.main(Main.java:205)"}, {"count": 1, "tags": [], "bug_id": 50575, "attachment_id": null, "id": 143296, "time": "2011-01-12T03:58:01Z", "creator": "spepping@apache.org", "creation_time": "2011-01-12T03:58:01Z", "is_private": false, "text": "If you used the binary release from the ASF, all existing event models are included. It seems that an event model is missing for notification of font substitution.\n\nCan you provide a small sample file that displays the problem?"}, {"count": 2, "tags": [], "bug_id": 50575, "is_private": false, "id": 148816, "attachment_id": null, "creator": "mathieu.malaterre@gmail.com", "creation_time": "2011-08-25T13:54:53Z", "time": "2011-08-25T13:54:53Z", "text": "I can confirm this bug is also present on debian, where fop is being build from source.\n\nhttp://bugs.debian.org/cgi-bin/bugreport.cgi?bug=639162"}, {"count": 3, "attachment_id": null, "bug_id": 50575, "text": "I'm using Debian's version of fop and I can confirm this bug.  Moreover, it happens on every file I've tried.  I can provide a sample file if you'd like, but any file is a sample file.\nI've inspected the build process for the Debian package and the eventResourceGenerator task in the resourcegen target produces no output with ant -v.  Whether that indicates whether it's being run or not, I don't know, but it is definitely not generating the files in question.", "id": 148859, "time": "2011-08-28T00:44:10Z", "creator": "sandals@crustytoothpaste.net", "creation_time": "2011-08-28T00:44:10Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "creator": "r.landmann@redhat.com", "attachment_id": null, "text": "FWIW, This same issue has prevented us shipping FOP at all in Fedora 15, and with Fedora 16 around the corner, we won't be shipping FOP there either unless we can figure this out :(\n\nOur downstream bug:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=689930\n\nIt's only that the various event-model.xml files don't get generated at build time. The \"FOP 1.0-16\" referred to in that bug was a version I built that just included those XML files copied directly from the upstream binary. With the files in place, FOP worked fine. But without being able to figure out how to generate them during the build, we can't ship it, so this is a show-stopper for us. :(", "id": 148866, "time": "2011-08-28T23:42:27Z", "bug_id": 50575, "creation_time": "2011-08-28T23:42:27Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 50575, "attachment_id": null, "is_private": false, "id": 148883, "time": "2011-08-29T11:37:23Z", "creator": "spepping@apache.org", "creation_time": "2011-08-29T11:37:23Z", "text": "FOP's own build process generates the event-model files correctly. Therefore this is not a FOP bug.\n\nFor alternative build processes I have the following recommendation:\n\nWe noticed that qdox.jar cannot be inserted in the CLASSPATH variable for the ant build process. Doing so invariably generates an NPE. Even this command:\n\nCLASSPATH=lib/build/qdox-1.6.3.jar ant clean resourcegen\n\ni.e., using FOP's own qdox jar file, fails with a NPE.\n\nDebian now solved the problem by copying their qdox jar into FOP's lib/build directory before the build. The resulting fop.jar contains the required event models, and seems to work well.\n\nIt would be good if alternative builds of fop would run a number of our junit tests. The fop team should look into this to formulate a recommendation."}, {"count": 6, "tags": [], "bug_id": 50575, "attachment_id": null, "is_private": false, "id": 148937, "time": "2011-08-31T18:39:49Z", "creator": "spepping@apache.org", "creation_time": "2011-08-31T18:39:49Z", "text": "I made some notes about possible alternative build procedures on the FOP wiki, http://wiki.apache.org/xmlgraphics-fop/HowTo/BuildFOPAlternatively"}, {"count": 7, "tags": [], "text": "batch transition to closed for remaining resolved bugs", "attachment_id": null, "bug_id": 50575, "id": 156379, "time": "2012-04-01T13:42:47Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T13:42:47Z", "is_private": false}]