[{"count": 0, "tags": [], "bug_id": 52036, "text": "Created attachment 27787\nTest Plan to reproduce issue\n\nDurable subscription fails with this exception with ActiveMQ:\n2011/10/15 14:10:53 ERROR - jmeter.protocol.jms.sampler.SubscriberSampler: Could not initialise client javax.jms.JMSException: You cannot create a durable subscriber without specifying a unique clientID on a Connection\n\tat org.apache.activemq.ActiveMQConnection.checkClientIDWasManuallySpecified(ActiveMQConnection.java:1245)\n\tat org.apache.activemq.ActiveMQSession.createDurableSubscriber(ActiveMQSession.java:1272)\n\tat org.apache.activemq.ActiveMQSession.createDurableSubscriber(ActiveMQSession.java:1221)\n\tat org.apache.jmeter.protocol.jms.client.ReceiveSubscriber.createSubscriber(ReceiveSubscriber.java:169)\n\tat org.apache.jmeter.protocol.jms.client.ReceiveSubscriber.<init>(ReceiveSubscriber.java:94)\n\tat org.apache.jmeter.protocol.jms.sampler.SubscriberSampler.initReceiveClient(SubscriberSampler.java:114)\n\tat org.apache.jmeter.protocol.jms.sampler.SubscriberSampler.threadStarted(SubscriberSampler.java:264)\n\tat org.apache.jmeter.protocol.jms.sampler.SubscriberSampler.threadStarted(SubscriberSampler.java:295)\n\tat org.apache.jmeter.protocol.jms.sampler.SubscriberSampler.sample(SubscriberSampler.java:129)\n\tat org.apache.jmeter.protocol.jms.sampler.BaseJMSSampler.sample(BaseJMSSampler.java:79)\n\tat org.apache.jmeter.threads.JMeterThread.process_sampler(JMeterThread.java:413)\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:297)\n\tat java.lang.Thread.run(Thread.java:680)\n\n\n\nThis seems right according to JMS specifications where clientId must be set:\nhttp://download.oracle.com/javaee/1.3/jms/tutorial/1_3_1-fcs/doc/advanced.html#1024758\n\nSo I think we should add a field to specify clientId .\n\nNote that it works with OpenJMS.", "id": 150609, "time": "2011-10-15T12:13:57Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-10-15T12:13:57Z", "is_private": false, "attachment_id": 27787}, {"count": 1, "tags": [], "bug_id": 52036, "attachment_id": null, "id": 150614, "time": "2011-10-15T12:55:18Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-10-15T12:55:18Z", "is_private": false, "text": "Date: Sat Oct 15 12:54:04 2011\nNew Revision: 1183631\n\nURL: http://svn.apache.org/viewvc?rev=1183631&view=rev\nLog:\nBug 52036 - Durable Subscription fails with ActiveMQ due to missing clientId field\n\nModified:\n   jakarta/jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/client/ReceiveSubscriber.java\n   jakarta/jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/control/gui/JMSSubscriberGui.java\n   jakarta/jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/SubscriberSampler.java\n   jakarta/jmeter/trunk/xdocs/changes.xml\n   jakarta/jmeter/trunk/xdocs/images/screenshots/jms/jms_sub.png\n   jakarta/jmeter/trunk/xdocs/usermanual/component_reference.xml"}]