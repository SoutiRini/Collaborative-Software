[{"count": 0, "tags": [], "bug_id": 32854, "attachment_id": null, "text": "Hi...\n\nI want to work this perl script which forks off a process which does something. \nBut I encountered the problem of my browser waiting for\nthe child process to be finished.\n\n  Here's my script\n  #!/usr/bin/perl\n  if (my $child = fork) {\n      // output html code\n      close(STDOUT);\n      wait;\n  }\n  elsif (defined $child) {\n      close(STDOUT);\n      // the child process does somethig for a few minutes\n  }\n  else {\n      die \"Can't fork\\n\";\n  }\n\nI have a pathch ready and it looks like this.\n*** CGIServlet.java.r1.31\n--- CGIServlet.java\n*** 1835,1844 ****\n--- 1835,1851 ----\n              if (servletContainerStdout != null) {\n                  servletContainerStdout.flush();\n              }\n          }\n\n+       // Close the output stream used\n+       if (isBinaryContent) {\n+           cgiOutput.close();\n+       } else {\n+           commandsStdOut.close();\n+       }\n+\n          proc.exitValue(); // Throws exception if alive\n\n          isRunning = false;\n\n      } catch (IllegalThreadStateException e) {", "id": 69028, "time": "2004-12-28T07:51:20Z", "creator": "mk_tomcat_dev@yahoo.co.jp", "creation_time": "2004-12-28T07:51:20Z", "is_private": false}, {"count": 1, "tags": [], "creator": "markt@apache.org", "text": "-1 for your patch as currently written.\n\nIt breaks the fix for bug 12041.", "id": 69037, "time": "2004-12-28T17:04:41Z", "bug_id": 32854, "creation_time": "2004-12-28T17:04:41Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 32854, "is_private": false, "text": "Closing per Mark's comments.", "id": 69181, "time": "2005-01-03T19:27:13Z", "creator": "yoavs@computer.org", "creation_time": "2005-01-03T19:27:13Z", "attachment_id": null}]