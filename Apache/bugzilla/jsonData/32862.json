[{"count": 0, "tags": [], "creator": "mahesh.dixit@MIROTechnologies.com", "text": "I have the following ant task to search and replace tokens from the properties\nfile. But the Replaced file has the escape chars in . \ne.g. C\\:\\\\sandbox.miro\\\\Product1\\\\BuildMaster/source/html\nThe translate task does not skip/take care of the esacpe chars . \nIs this a bug or is there some other way to achieve what i want to accomplish ?\n\n<!-- ============================================================ -->\n  <!-- Look for <<property>> text in files, and replace it          -->\n  <!-- ============================================================ -->\n  <macrodef name=\"propertyReplace\">\n    <attribute name=\"fromdir\"/>\n    <attribute name=\"todir\"/>\n    <sequential>\n        <!-- write out current ant settings as property translations -->\n        <echo message=\"propertyReplace: from @{fromdir} to @{todir}\"/>\n        <mkdir dir=\"${dist}/ant\"/>\n        <echoproperties destfile=\"${dist}/ant/ant.properties\"/>\n\n        <!-- use ant to translate files -->\n        <translate toDir=\"@{todir}\"\n                   starttoken=\"&lt;&lt;\"\n                   endtoken=\"&gt;&gt;\"\n                   bundle=\"${dist}/ant/ant\"\n                   forceoverwrite=\"no\">\n          <fileset dir=\"@{fromdir}\">\n          </fileset>\n        </translate>\n    </sequential>\n  </macrodef>\n\n<target name=\"test1\" depends=\"init\">\n  <delete dir=\"${project}/test/replaced\" quiet=\"true\"/>\n  <propertyReplace fromdir=\"${project}/test/replace\" \n  todir=\"${project}/test/replaced\"/>\n  <echo message=\"${TOMCAT.GLOBAL.JDBC.DRIVER}\"/>\n</target>", "id": 69042, "time": "2004-12-28T19:15:37Z", "bug_id": 32862, "creation_time": "2004-12-28T19:15:37Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 32862, "is_private": false, "id": 69067, "time": "2004-12-29T23:38:15Z", "creator": "antoine@apache.org", "creation_time": "2004-12-29T23:38:15Z", "tags": [], "text": "<echoproperties/> is not appropriate to generate resource bundles for the\ntranslate task.\n\nProperty files contain escape sequences in values, and they have all non ascii\ncharacters represented as \\u escapes. Resource bundles can be encoded in any\nencoded and are not limited to ascii values.\n\nyou can use the echo or the concat task to create your resource bundle if you\nknow in advance the properties you want to replace.\n\ntry this\n<echo file=\"${dist}/ant/ant.properties\">\n#generated resource bundle\nTOMCAT.GLOBAL.JDBC.DRIVER=${TOMCAT.GLOBAL.JDBC.DRIVER}\n# other properties you need\nTOMCAT.DATABASE.NAME=${TOMCAT.DATABASE.NAME}\n</echo>\n\ninstead of <echoproperties/>\nI am closing your bug report as invalid.\n\nCheers,\nAntoine"}]