[{"count": 0, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Found one Java-level deadlock:\n=============================\n\"SC2 1-1\":\n  waiting to lock monitor 100cffda0 (object 7f017f4b0, a java.awt.Component$AWTTreeLock),\n  which is held by \"AWT-EventQueue-0\"\n\"AWT-EventQueue-0\":\n  waiting to lock monitor 100db8608 (object 7f1319c00, a org.apache.jmeter.visualizers.ViewResultsFullVisualizer),\n  which is held by \"SC2 1-1\"\n\nJava stack information for the threads listed above:\n===================================================\n\"SC2 1-1\":\n\tat java.awt.Container.addImpl(Container.java:1032)\n\t- waiting to lock <7f017f4b0> (a java.awt.Component$AWTTreeLock)\n\tat javax.swing.CellRendererPane.addImpl(CellRendererPane.java:89)\n\tat java.awt.Container.add(Container.java:365)\n\tat javax.swing.plaf.basic.BasicTreeUI$NodeDimensionsHandler.getNodeDimensions(BasicTreeUI.java:2718)\n\tat javax.swing.tree.AbstractLayoutCache.getNodeDimensions(AbstractLayoutCache.java:475)\n\tat javax.swing.tree.VariableHeightLayoutCache$TreeStateNode.updatePreferredSize(VariableHeightLayoutCache.java:1342)\n\tat javax.swing.tree.VariableHeightLayoutCache.createNodeAt(VariableHeightLayoutCache.java:764)\n\tat javax.swing.tree.VariableHeightLayoutCache.treeNodesInserted(VariableHeightLayoutCache.java:473)\n\tat javax.swing.plaf.basic.BasicTreeUI$Handler.treeNodesInserted(BasicTreeUI.java:3785)\n\tat javax.swing.tree.DefaultTreeModel.fireTreeNodesInserted(DefaultTreeModel.java:499)\n\tat javax.swing.tree.DefaultTreeModel.nodesWereInserted(DefaultTreeModel.java:296)\n\tat javax.swing.tree.DefaultTreeModel.insertNodeInto(DefaultTreeModel.java:223)\n\tat org.apache.jmeter.visualizers.ViewResultsFullVisualizer.updateGui(ViewResultsFullVisualizer.java:135)\n\t- locked <7f1319c00> (a org.apache.jmeter.visualizers.ViewResultsFullVisualizer)\n\tat org.apache.jmeter.visualizers.ViewResultsFullVisualizer.add(ViewResultsFullVisualizer.java:126)\n\tat org.apache.jmeter.reporters.ResultCollector.sendToVisualizer(ResultCollector.java:519)\n\tat org.apache.jmeter.reporters.ResultCollector.sampleOccurred(ResultCollector.java:495)\n\tat org.apache.jmeter.threads.ListenerNotifier.notifyListeners(ListenerNotifier.java:84)\n\tat org.apache.jmeter.threads.JMeterThread.notifyListeners(JMeterThread.java:777)\n\tat org.apache.jmeter.threads.JMeterThread.process_sampler(JMeterThread.java:445)\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:271)\n\tat java.lang.Thread.run(Thread.java:680)\n\"AWT-EventQueue-0\":\n\tat java.awt.Component.addComponentListener(Component.java)\n\t- waiting to lock <7f1319c00> (a org.apache.jmeter.visualizers.ViewResultsFullVisualizer)\n\tat javax.swing.AncestorNotifier.addListeners(AncestorNotifier.java:128)\n\tat javax.swing.AncestorNotifier.propertyChange(AncestorNotifier.java:203)\n\tat java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:339)\n\tat java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:276)\n\tat java.awt.Component.firePropertyChange(Component.java:8239)\n\tat javax.swing.JComponent.addNotify(JComponent.java:4686)\n\tat java.awt.Container.addNotify(Container.java:2622)\n\t- locked <7f017f4b0> (a java.awt.Component$AWTTreeLock)\n\tat javax.swing.JComponent.addNotify(JComponent.java:4685)\n\tat java.awt.Container.addNotify(Container.java:2622)\n\t- locked <7f017f4b0> (a java.awt.Component$AWTTreeLock)\n\tat javax.swing.JComponent.addNotify(JComponent.java:4685)\n\tat java.awt.Container.addNotify(Container.java:2622)\n\t- locked <7f017f4b0> (a java.awt.Component$AWTTreeLock)\n\tat javax.swing.JComponent.addNotify(JComponent.java:4685)\n\tat java.awt.Container.addImpl(Container.java:1068)\n\t- locked <7f017f4b0> (a java.awt.Component$AWTTreeLock)\n\tat javax.swing.JTabbedPane.insertTab(JTabbedPane.java:703)\n\tat javax.swing.JTabbedPane.addTab(JTabbedPane.java:777)\n\tat org.apache.jmeter.visualizers.SamplerResultTab.setupTabPaneForSampleResult(SamplerResultTab.java:342)\n\tat org.apache.jmeter.visualizers.SamplerResultTab.setupTabPane(SamplerResultTab.java:217)\n\tat org.apache.jmeter.visualizers.ViewResultsFullVisualizer.valueChanged(ViewResultsFullVisualizer.java:235)\n\tat javax.swing.JTree.fireValueChanged(JTree.java:2820)\n\tat javax.swing.JTree$TreeSelectionRedirector.valueChanged(JTree.java:3191)\n\tat javax.swing.tree.DefaultTreeSelectionModel.fireValueChanged(DefaultTreeSelectionModel.java:629)\n\tat javax.swing.tree.DefaultTreeSelectionModel.notifyPathChange(DefaultTreeSelectionModel.java:1078)\n\tat javax.swing.tree.DefaultTreeSelectionModel.setSelectionPaths(DefaultTreeSelectionModel.java:287)\n\tat javax.swing.tree.DefaultTreeSelectionModel.setSelectionPath(DefaultTreeSelectionModel.java:170)\n\tat javax.swing.JTree.setSelectionPath(JTree.java:1598)\n\tat javax.swing.plaf.basic.BasicTreeUI.selectPathForEvent(BasicTreeUI.java:2311)\n\tat javax.swing.plaf.basic.BasicTreeUI$Handler.handleSelection(BasicTreeUI.java:3520)\n\tat javax.swing.plaf.basic.BasicTreeUI$Handler.mousePressed(BasicTreeUI.java:3459)\n\tat java.awt.Component.processMouseEvent(Component.java:6370)\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3267)\n\tat java.awt.Component.processEvent(Component.java:6138)\n\tat java.awt.Container.processEvent(Container.java:2085)\n\tat java.awt.Component.dispatchEventImpl(Component.java:4735)\n\tat java.awt.Container.dispatchEventImpl(Container.java:2143)\n\tat java.awt.Component.dispatchEvent(Component.java:4565)\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4621)\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4279)\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4212)\n\tat java.awt.Container.dispatchEventImpl(Container.java:2129)\n\tat java.awt.Window.dispatchEventImpl(Window.java:2478)\n\tat java.awt.Component.dispatchEvent(Component.java:4565)\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:679)\n\tat java.awt.EventQueue.access$000(EventQueue.java:85)\n\tat java.awt.EventQueue$1.run(EventQueue.java:638)\n\tat java.awt.EventQueue$1.run(EventQueue.java:636)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:98)\n\tat java.awt.EventQueue$2.run(EventQueue.java:652)\n\tat java.awt.EventQueue$2.run(EventQueue.java:650)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:649)\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\n\nFound 1 deadlock.", "id": 153864, "time": "2012-02-17T10:45:19Z", "bug_id": 52694, "creation_time": "2012-02-17T10:45:19Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "text": "Issue present in versions from 2.4 (at least) up to 2.6", "id": 153865, "time": "2012-02-17T10:45:48Z", "bug_id": 52694, "creation_time": "2012-02-17T10:45:48Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "To reproduce:\n- Put a breakpoint in \nViewResultsFullVisualizer#add(final SampleResult sample)\n- Start a Test \n- Let one thread stopped at debug point enter updateGui\n- Navigate to Tree Results\n\n=> You get the lock.", "id": 153866, "time": "2012-02-17T10:51:34Z", "bug_id": 52694, "creation_time": "2012-02-17T10:51:34Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 52694, "text": "*** Bug 51898 has been marked as a duplicate of this bug. ***", "id": 153874, "time": "2012-02-17T15:01:53Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-02-17T15:01:53Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 52694, "text": "Date: Fri Feb 17 15:15:33 2012\nNew Revision: 1245602\n\nURL: http://svn.apache.org/viewvc?rev=1245602&view=rev\nLog:\nBug 52694 - Deadlock in GUI related to non AWT Threads updating GUI\n\nModified:\n   jmeter/trunk/src/components/org/apache/jmeter/visualizers/AssertionVisualizer.java\n   jmeter/trunk/src/components/org/apache/jmeter/visualizers/ComparisonVisualizer.java\n   jmeter/trunk/src/components/org/apache/jmeter/visualizers/DistributionGraphVisualizer.java\n   jmeter/trunk/src/components/org/apache/jmeter/visualizers/GraphVisualizer.java\n   jmeter/trunk/src/components/org/apache/jmeter/visualizers/MailerVisualizer.java\n   jmeter/trunk/src/components/org/apache/jmeter/visualizers/SplineVisualizer.java\n   jmeter/trunk/src/components/org/apache/jmeter/visualizers/StatGraphVisualizer.java\n   jmeter/trunk/src/components/org/apache/jmeter/visualizers/StatVisualizer.java\n   jmeter/trunk/src/components/org/apache/jmeter/visualizers/SummaryReport.java\n   jmeter/trunk/src/components/org/apache/jmeter/visualizers/TableVisualizer.java\n   jmeter/trunk/src/components/org/apache/jmeter/visualizers/ViewResultsFullVisualizer.java\n   jmeter/trunk/src/core/org/apache/jmeter/util/JMeterUtils.java\n   jmeter/trunk/src/core/org/apache/jmeter/visualizers/SamplingStatCalculator.java\n   jmeter/trunk/xdocs/changes.xml", "id": 153876, "time": "2012-02-17T15:16:16Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-02-17T15:16:16Z", "is_private": false, "attachment_id": null}]