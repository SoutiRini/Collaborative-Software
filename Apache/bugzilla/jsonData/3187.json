[{"count": 0, "tags": [], "text": "1. Server is W2K, tomcat(3.2.3) and apache(latest version as of 20.8.01) on one \nmaschine\n2. Apache is set up to forward requests on a certain page to the tomcat engine.\n<Location />\n          Options +FollowSymlinks\n          RewriteEngine on\n          RewriteRule /a/b/suche.html http://localhost:8080/test/suche.jsp \n[P,QSA]\n</Location>\n\n3. if suche.jsp is called directly \"http://localhost:8080/test/suche.jsp \" it \nworks\n4. it works too if you append parameters like \nhttp://localhost:8080/test/suche.jsp?test=3\n5. if you reuqest http://myapache/a/b/suche.html the jsp is served correctly\n6. Now: If ANY parameter is appended, like http://myapache/a/b/suche.html?\ntest.html, the tomcat gets an error. This does not happen under linux/same \nconfiguration\n\njava.io.IOException: Invalid argument\n        at java.io.Win32FileSystem.canonicalize(Native Method)\n        at java.io.File.getCanonicalPath(File.java:440)\n        at org.apache.tomcat.util.FileUtil.safePath(FileUtil.java:184)\n        at org.apache.tomcat.core.Context.getRealPath(Context.java:797)\n        at org.apache.tomcat.request.StaticInterceptor.requestMap(StaticIntercep\ntor.java:196)\n        at org.apache.tomcat.core.ContextManager.processRequest(ContextManager.j\nava:835)\n        at org.apache.tomcat.core.ContextManager.internalService(ContextManager.\njava:786)\n        at org.apache.tomcat.core.ContextManager.service(ContextManager.java:758\n)\n        at org.apache.tomcat.service.http.HttpConnectionHandler.processConnectio\nn(HttpConnectionHandler.java:213)\n        at org.apache.tomcat.service.TcpWorkerThread.runIt(PoolTcpEndpoint.java:\n416)\n        at org.apache.tomcat.util.ThreadPool$ControlRunnable.run(ThreadPool.java\n:501)\n        at java.lang.Thread.run(Thread.java:484)\n2001-08-20 23:08:34 - Ctx( /test ): 404 R( /test + /suche.jsp?a=b + null) null", "attachment_id": null, "id": 4656, "creator": "mark.vollmann@t-online.de", "time": "2001-08-20T14:10:12Z", "bug_id": 3187, "creation_time": "2001-08-20T14:10:12Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 3187, "text": "That's a hard one - I'm amazed it even worked that far, and that it worked on\nlinux ( because it isn't supposed to work :-). In future we may find a way to\nwork with the rewriting engine - for now it works just by accident, not by\ndesign.\n\nThere are many problems and issues with rewriting - the fact that all rewriting \nis done on req->uri, and we use req->unparsed_uri ( required by the servlet spec\n), plus issues about security constraints, general mapping, etc. ", "id": 4852, "time": "2001-08-25T16:50:02Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-08-25T16:50:02Z", "is_private": false, "attachment_id": null}]