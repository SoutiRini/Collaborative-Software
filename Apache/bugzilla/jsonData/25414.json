[{"count": 0, "tags": [], "bug_id": 25414, "text": "<Limit> and <LimitExcept> do not require a closing '>' in the initial container.\n that is\n\n<Limit GET POST\n...\n</Limit>\n\nis currently accepted as valid.  PatchAvailable.\n\nIndex: server/core.c\n===================================================================\nRCS file: /home/cvspublic/httpd-2.0/server/core.c,v\nretrieving revision 1.252\ndiff -u -r1.252 core.c\n--- server/core.c       21 Nov 2003 15:02:04 -0000      1.252\n+++ server/core.c       10 Dec 2003 17:16:59 -0000\n@@ -1552,11 +1552,21 @@\n     return NULL;\n }\n  \n+/*\n+ * Report a missing-'>' syntax error.\n+ */\n+static char *unclosed_directive(cmd_parms *cmd)\n+{\n+    return apr_pstrcat(cmd->pool, cmd->cmd->name,\n+                       \"> directive missing closing '>'\", NULL);\n+}\n+\n AP_CORE_DECLARE_NONSTD(const char *) ap_limit_section(cmd_parms *cmd,\n                                                       void *dummy,\n                                                       const char *arg)\n {\n-    const char *limited_methods = ap_getword(cmd->pool, &arg, '>');\n+    const char *endp = ap_strrchr_c(arg, '>');\n+    const char *limited_methods;\n     void *tog = cmd->cmd->cmd_data;\n     apr_int64_t limited = 0;\n     const char *errmsg;\n@@ -1566,6 +1576,12 @@\n         return err;\n     }\n  \n+    if (endp == NULL) {\n+        return unclosed_directive(cmd);\n+    }\n+\n+    limited_methods = apr_pstrndup(cmd->pool, arg, endp - arg);\n+\n     while (limited_methods[0]) {\n         char *method = ap_getword_conf(cmd->pool, &limited_methods);\n         int methnum;\n@@ -1609,15 +1625,6 @@\n #else\n #define USE_ICASE 0\n #endif\n-\n-/*\n- * Report a missing-'>' syntax error.\n- */\n-static char *unclosed_directive(cmd_parms *cmd)\n-{\n-    return apr_pstrcat(cmd->pool, cmd->cmd->name,\n-                       \"> directive missing closing '>'\", NULL);\n-}\n  \n static const char *dirsection(cmd_parms *cmd, void *mconfig, const char *arg)\n {", "id": 48831, "time": "2003-12-10T17:31:17Z", "creator": "geoff@apache.org", "creation_time": "2003-12-10T17:31:17Z", "is_private": false, "attachment_id": null}, {"count": 1, "text": "Adding 'PatchAvailable' to the keywords field.", "bug_id": 25414, "is_private": false, "id": 48837, "time": "2003-12-10T17:49:39Z", "creator": "erik@codefaktor.de", "creation_time": "2003-12-10T17:49:39Z", "tags": [], "attachment_id": null}, {"count": 2, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "is_private": false, "id": 48870, "time": "2003-12-10T22:41:06Z", "bug_id": 25414, "creation_time": "2003-12-10T22:41:06Z", "text": "patch trivia: when I cut and pasted from a Mozilla display of your patch in this\nPR, I ended up with an extra space on the three lines in your patch which were\nsupposed to represent blank lines...  the patch wouldn't apply, of course... \nmoral of the story: use an attachment\n\nfix committed to 2.1-dev\n"}]