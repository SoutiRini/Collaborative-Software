[{"count": 0, "tags": [], "creator": "julien.taupin@ilex.fr", "attachment_id": null, "id": 105311, "time": "2007-07-12T01:08:02Z", "bug_id": 42865, "creation_time": "2007-07-12T01:08:02Z", "is_private": false, "text": "An Exception \"Unable to initialize URI with empty parameters\" is thrown on\nsigning when using \"\" as a base URI and defining a reference with the URI of a\nfile (for exemple : file:/home/user/file.xml)\n\nThis Exception is thrown when building an URI in the ResolverLocalFilesystem\nclass in the engineResolve() method. The code used to built the URI is :\n\nURI uriNew =  new URI(new URI(BaseURI), uri.getNodeValue());/> \n \nThis problem is not present in the ResolverDirectHTTP class wehre the\ncode used to build the URI is :\n \n     ...\n     URI uriNew = getNewURI(uri.getNodeValue(), BaseURI);\n     ...\n     private URI getNewURI(String uri, String BaseURI)\n                throws URI.MalformedURIException {\n \n           if ((BaseURI == null) || \"\".equals(BaseURI)) {\n              return new URI(uri);\n           }\n           return new URI(new URI(BaseURI), uri);\n        }"}, {"count": 1, "tags": [], "text": "Created attachment 20667\nPatch that fixes this bug.\n\nI can confirm this is a bug in ResolverLocalFilesystem as I stumbled on it\nmyself while trying to create a detached XML signature of a binary file. The\nattached patch fixes the issue as described before.", "attachment_id": 20667, "id": 106783, "creation_time": "2007-08-15T06:10:28Z", "time": "2007-08-15T06:10:28Z", "creator": "info@frankcornelis.be", "bug_id": 42865, "is_private": false}, {"count": 2, "tags": [], "bug_id": 42865, "attachment_id": null, "id": 107976, "time": "2007-09-10T10:29:55Z", "creator": "sean.mullan@oracle.com", "creation_time": "2007-09-10T10:29:55Z", "is_private": false, "text": "Fixed in main trunk."}]