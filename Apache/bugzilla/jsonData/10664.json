[{"count": 0, "tags": [], "text": "If ANT_HOME is set to a Windows-style path (such as \"C:\\java\\jakarta-ant-1.5\"),\nthe ant startup script ($ANT_HOME/bin/ant) fails on cygwin.\n\nThe problem is that ANT_LIB is set to ${ANT_HOME}/lib before ANT_HOME is\nchanged to a UNIX path.  The fix is simply to set ANT_LIB after ANT_HOME\nis changed.  Patch shown below.\n\n*** ant.orig    Tue Jul  9 09:13:56 2002\n--- ant Wed Jul 10 15:11:52 2002\n***************\n*** 69,77 ****\n    cd $saveddir\n  fi\n  \n- # set ANT_LIB location\n- ANT_LIB=${ANT_HOME}/lib\n- \n  # For Cygwin, ensure paths are in UNIX format before anything is touched\n  if $cygwin ; then\n    [ -n \"$ANT_HOME\" ] &&\n--- 69,74 ----\n***************\n*** 82,87 ****\n--- 79,87 ----\n      CLASSPATH=`cygpath --path --unix \"$CLASSPATH\"`\n  fi\n  \n+ # set ANT_LIB location\n+ ANT_LIB=${ANT_HOME}/lib\n+ \n  if [ -z \"$JAVACMD\" ] ; then \n    if [ -n \"$JAVA_HOME\"  ] ; then\n      if [ -x \"$JAVA_HOME/jre/sh/java\" ] ; then", "attachment_id": null, "bug_id": 10664, "id": 19284, "time": "2002-07-10T21:33:33Z", "creator": "patdtaylor2000@yahoo.com", "creation_time": "2002-07-10T21:33:33Z", "is_private": false}, {"count": 1, "tags": [], "text": "Ooops. :-(\n\nThanks for the report. Fixed in CVS.", "attachment_id": null, "id": 19285, "creator": "sbailliez@apache.org", "time": "2002-07-10T21:46:51Z", "bug_id": 10664, "creation_time": "2002-07-10T21:46:51Z", "is_private": false}, {"count": 2, "tags": [], "text": "*** Bug 10740 has been marked as a duplicate of this bug. ***", "is_private": false, "id": 19404, "creator": "sbailliez@apache.org", "time": "2002-07-12T14:53:50Z", "bug_id": 10664, "creation_time": "2002-07-12T14:53:50Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 10664, "text": "*** Bug 10743 has been marked as a duplicate of this bug. ***", "id": 19413, "time": "2002-07-12T15:22:08Z", "creator": "sbailliez@apache.org", "creation_time": "2002-07-12T15:22:08Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "*** Bug 10752 has been marked as a duplicate of this bug. ***", "attachment_id": null, "bug_id": 10664, "id": 19443, "time": "2002-07-12T18:37:58Z", "creator": "sbailliez@apache.org", "creation_time": "2002-07-12T18:37:58Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 10664, "text": "*** Bug 10784 has been marked as a duplicate of this bug. ***", "id": 19495, "time": "2002-07-14T10:07:08Z", "creator": "sbailliez@apache.org", "creation_time": "2002-07-14T10:07:08Z", "is_private": false, "attachment_id": null}, {"count": 6, "attachment_id": null, "bug_id": 10664, "text": "A fixed version of the script is available, see\n<http://jakarta.apache.org/ant/faq.html#1.5-cygwin-sh>.", "id": 19587, "time": "2002-07-16T07:11:52Z", "creator": "bodewig@apache.org", "creation_time": "2002-07-16T07:11:52Z", "tags": [], "is_private": false}, {"count": 7, "attachment_id": null, "bug_id": 10664, "text": "*** Bug 11511 has been marked as a duplicate of this bug. ***", "id": 20827, "time": "2002-08-09T07:28:42Z", "creator": "bodewig@apache.org", "creation_time": "2002-08-09T07:28:42Z", "tags": [], "is_private": false}, {"count": 8, "tags": [], "bug_id": 10664, "text": "*** Bug 11872 has been marked as a duplicate of this bug. ***", "id": 21862, "time": "2002-08-27T22:59:02Z", "creator": "sbailliez@apache.org", "creation_time": "2002-08-27T22:59:02Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 10664, "text": "*** Bug 12288 has been marked as a duplicate of this bug. ***", "id": 22244, "time": "2002-09-04T09:50:14Z", "creator": "bodewig@apache.org", "creation_time": "2002-09-04T09:50:14Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "text": "Script still blows chunks under Cygwin -- can't find the optional.jar file\n\nUsing the updated script from the FAQ, ant -verbose gives the following when\ntrying to execute a junit test.  Observe that the classpath contains\noptional.jar and junit.jar (first line is echo of the final command before the\nscript executes it.)\n\n511: ant -verbose\n/cygdrive/c/j2sdk1.4.0_01/bin/java -classpath d:\\Apache\\jakarta-ant-1.5\\lib\\xml-\napis.jar;d:\\Apache\\jakarta-ant-1.5\\lib\\xercesImpl.jar;d:\\Apache\\jakarta-ant-1.5\\\nlib\\optional.jar;d:\\Apache\\jakarta-ant-1.5\\lib\\ant.jar;c:\\j2sdk1.4.0_01\\lib\\tool\ns.jar -Dant.home=d:\\Apache\\jakarta-ant-1.5 -Dcygwin.user.home=D:\\Cygwin\\home\\crm\nartin org.apache.tools.ant.Main -verbose\nApache Ant version 1.5 compiled on July 9 2002\nBuildfile: build.xml\nDetected Java version: 1.4 in: c:\\j2sdk1.4.0_01\\jre\nDetected OS: Windows 2000\nparsing buildfile build.xml with URI = file:D:/Cygwin/home/crmartin/Projects/Cal\nlgen/build.xml\nProject base dir set to: D:\\Cygwin\\home\\crmartin\\Projects\\Callgen\nBuild sequence for target `tested' is [prepare, compile, tests, tested]\nComplete build sequence is [prepare, compile, tests, tested, clean]\n\nprepare:\n\ncompile:\n    [javac] sip\\SIPMsg.java added as D:\\Cygwin\\home\\crmartin\\Projects\\Callgen\\co\nmpiled\\sip\\SIPMsg.class doesn't exist.\n    [javac] Compiling 1 source file to D:\\Cygwin\\home\\crmartin\\Projects\\Callgen\\\ncompiled\n    [javac] Using modern compiler\n    [javac] Compilation arguments:\n    [javac] '-deprecation'\n    [javac] '-d'\n    [javac] 'D:\\Cygwin\\home\\crmartin\\Projects\\Callgen\\compiled'\n    [javac] '-classpath'\n    [javac] 'D:\\Cygwin\\home\\crmartin\\Projects\\Callgen\\compiled;D:\\Cygwin\\home\\cr\nmartin\\lib\\junit.jar;D:\\Cygwin\\home\\crmartin\\lib\\log4j.jar;D:\\Cygwin\\home\\crmart\nin\\lib\\or124.jar;D:\\Apache\\jakarta-ant-1.5\\lib\\xml-apis.jar;D:\\Apache\\jakarta-an\nt-1.5\\lib\\xercesImpl.jar;D:\\Apache\\jakarta-ant-1.5\\lib\\optional.jar;D:\\Apache\\ja\nkarta-ant-1.5\\lib\\ant.jar;C:\\j2sdk1.4.0_01\\lib\\tools.jar'\n    [javac] '-sourcepath'\n    [javac] 'D:\\Cygwin\\home\\crmartin\\Projects\\Callgen\\src'\n    [javac] '-target'\n    [javac] '1.4'\n    [javac] '-g'\n    [javac] '-source'\n    [javac] '1.4'\n    [javac]\n    [javac] The ' characters around the executable and arguments are\n    [javac] not part of the command.\n    [javac] File to be compiled:\n    [javac]     D:\\Cygwin\\home\\crmartin\\Projects\\Callgen\\src\\sip\\SIPMsg.java\n    [javac] sip\\SIPMsgTest.java added as D:\\Cygwin\\home\\crmartin\\Projects\\Callge\nn\\compiled\\sip\\SIPMsgTest.class doesn't exist.\n    [javac] Compiling 1 source file to D:\\Cygwin\\home\\crmartin\\Projects\\Callgen\\\ncompiled\n    [javac] Using modern compiler\n    [javac] Compilation arguments:\n    [javac] '-deprecation'\n    [javac] '-d'\n    [javac] 'D:\\Cygwin\\home\\crmartin\\Projects\\Callgen\\compiled'\n    [javac] '-classpath'\n    [javac] 'D:\\Cygwin\\home\\crmartin\\Projects\\Callgen\\compiled;D:\\Cygwin\\home\\cr\nmartin\\lib\\junit.jar;D:\\Cygwin\\home\\crmartin\\lib\\log4j.jar;D:\\Cygwin\\home\\crmart\nin\\lib\\or124.jar;D:\\Apache\\jakarta-ant-1.5\\lib\\xml-apis.jar;D:\\Apache\\jakarta-an\nt-1.5\\lib\\xercesImpl.jar;D:\\Apache\\jakarta-ant-1.5\\lib\\optional.jar;D:\\Apache\\ja\nkarta-ant-1.5\\lib\\ant.jar;C:\\j2sdk1.4.0_01\\lib\\tools.jar'\n    [javac] '-sourcepath'\n    [javac] 'D:\\Cygwin\\home\\crmartin\\Projects\\Callgen\\test'\n    [javac] '-target'\n    [javac] '1.4'\n    [javac] '-g'\n    [javac] '-source'\n    [javac] '1.4'\n    [javac]\n    [javac] The ' characters around the executable and arguments are\n    [javac] not part of the command.\n    [javac] File to be compiled:\n    [javac]     D:\\Cygwin\\home\\crmartin\\Projects\\Callgen\\test\\sip\\SIPMsgTest.jav\na\n\ntests:\n\nBUILD FAILED\nfile:D:/Cygwin/home/crmartin/Projects/Callgen/build.xml:88: Could not create tas\nk or type of type: junit.\n\nAnt could not find the task or a class this task relies upon.\n\nThis is common and has a number of causes; the usual\nsolutions are to read the manual pages then download and\ninstall needed JAR files, or fix the build file:\n - You have misspelt 'junit'.\n   Fix: check your spelling.\n - The task needs an external JAR file to execute\n   and this is not found at the right place in the classpath.\n   Fix: check the documentation for dependencies.\n   Fix: declare the task.\n - The task is an Ant optional task and optional.jar is absent\n   Fix: look for optional.jar in ANT_HOME/lib, download if needed\n - The task was not built into optional.jar as dependent\n   libraries were not found at build time.\n   Fix: look in the JAR to verify, then rebuild with the needed\n   libraries, or download a release version from apache.org\n - The build file was written for a later version of Ant\n   Fix: upgrade to at least the latest release version of Ant\n - The task is not an Ant core or optional task\n   and needs to be declared using <taskdef>.\n\nRemember that for JAR files to be visible to Ant tasks implemented\nin ANT_HOME/lib, the files must be in the same directory or on the\nclasspath\n\nPlease neither file bug reports on this problem, nor email the\nAnt mailing lists, until all of these causes have been explored,\nas this is not an Ant bug.\n        at org.apache.tools.ant.UnknownElement.getNotFoundException(UnknownEleme\nnt.java:328)\n        at org.apache.tools.ant.UnknownElement.makeObject(UnknownElement.java:24\n4)\n        at org.apache.tools.ant.UnknownElement.maybeConfigure(UnknownElement.jav\na:115)\n        at org.apache.tools.ant.Task.perform(Task.java:316)\n        at org.apache.tools.ant.Target.execute(Target.java:309)\n        at org.apache.tools.ant.Target.performTasks(Target.java:334)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1306)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1250)\n        at org.apache.tools.ant.Main.runBuild(Main.java:610)\n        at org.apache.tools.ant.Main.start(Main.java:196)\n        at org.apache.tools.ant.Main.main(Main.java:235)\n\nTotal time: 3 seconds", "is_private": false, "bug_id": 10664, "id": 22628, "time": "2002-09-10T23:32:08Z", "creator": "charles.martin@sandcherry.com", "creation_time": "2002-09-10T23:32:08Z", "attachment_id": null}, {"count": 11, "tags": [], "creator": "charles.martin@sandcherry.com", "attachment_id": null, "text": "Further info: the 1.4.1 ant script appears to work fine with the 1.5 jars, under\ncygwin, and executes the tests that wouldn't execute noted above.", "id": 22694, "time": "2002-09-11T17:53:33Z", "bug_id": 10664, "creation_time": "2002-09-11T17:53:33Z", "is_private": false}, {"count": 12, "tags": [], "text": "Charlie, I don't see junit.jar in your CLASSPATH.", "attachment_id": null, "id": 23421, "creator": "bodewig@apache.org", "time": "2002-09-26T08:23:12Z", "bug_id": 10664, "creation_time": "2002-09-26T08:23:12Z", "is_private": false}, {"count": 13, "tags": [], "bug_id": 10664, "text": "Right -- but junit.jar is in the lib file along with the xerces etc., and when I\nput the 1.4.1 ant script into the 1.5 bin dir, it works.", "id": 23554, "time": "2002-09-27T16:30:32Z", "creator": "charles.martin@sandcherry.com", "creation_time": "2002-09-27T16:30:32Z", "is_private": false, "attachment_id": null}, {"count": 14, "tags": [], "text": "and it is (sorry for being that verbose) D:\\Apache\\jakarta-ant-1.5\\lib\\junit.jar\n\nThis means the script picks up some of the jars in your lib directory - but\nfor some reason it doesn't pick all of them.  case-sensitivity?\n\nThe only relevant changes between the 1.4.1 and 1.5.1 versions I see are\n\n-# add in the dependency .jar files\n-DIRLIBS=${ANT_HOME}/lib/*.jar\n-for i in ${DIRLIBS}\n+# add in the dependency .jar files in non-RPM mode (the default)\n+for i in \"${ANT_LIB}\"/*.jar\n\ndo you get a different result if you unfold the loop creation into two lines\nlike the 1.4.1 script has done?\n", "is_private": false, "bug_id": 10664, "id": 23641, "time": "2002-09-30T12:58:32Z", "creator": "bodewig@apache.org", "creation_time": "2002-09-30T12:58:32Z", "attachment_id": null}, {"count": 15, "tags": [], "text": "can someone check if there is still an issue with this bug report in the CVS \nhead ?\nNote also that there are special classpath restrictions concerning the junit ant \ntask in all environments, not just cygwin.\nSo maybe a large part of the bug report is to be seen more \"JUnit specific\" than \n\"cygwin specific\".\n", "attachment_id": null, "id": 37145, "creator": "levylambert@tiscali-dsl.de", "time": "2003-05-13T22:46:26Z", "bug_id": 10664, "creation_time": "2003-05-13T22:46:26Z", "is_private": false}, {"count": 16, "tags": [], "creator": "levylambert@tiscali-dsl.de", "is_private": false, "text": "have a look at this URL concerning the classpath requirements of the ant JUnit \ntask :\nhttp://ant.apache.org/manual/OptionalTasks/junit.html", "id": 37146, "time": "2003-05-13T22:49:33Z", "bug_id": 10664, "creation_time": "2003-05-13T22:49:33Z", "attachment_id": null}, {"count": 17, "tags": [], "bug_id": 10664, "attachment_id": null, "text": "It looks like nobody is complaining about this issue any more. Stephane Bailliez \nfixed the bug with the revision 1.22. The bug fix is also in 1.19.2.6 so is \nfixed in ant 1.5.2 and higher.", "id": 37605, "time": "2003-05-22T15:44:15Z", "creator": "levylambert@tiscali-dsl.de", "creation_time": "2003-05-22T15:44:15Z", "is_private": false}]