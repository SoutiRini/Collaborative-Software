[{"count": 0, "tags": [], "text": "If I send a request for a nonexistent file as follows:\n\n\tGET /nosuchfileasthis HTTP/1.0\n\tRange: bytes=122-240\n\tHost: perl.plover.com\n\nI should get a 404 \"File not found\" response.  Instead, however, I get the\nfollowing erroneous response:\n\n\tHTTP/1.1 206 Partial Content\n\tDate: Sat, 10 Aug 2002 01:13:53 GMT\n\tServer: Apache/2.0.39 (Unix)\n\tContent-Range: bytes 122-240/288\n\tContent-Length: 119\n\tContent-Type: text/html; charset=iso-8859-1\n\n\th1>\n\t<p>The requested URL /nosuchfileasthis was not found on this server.</p>\n\t<hr />\n\t<address>Apache/2.0.39 Server at pe\n\nRFC2616 says that the 206 response is to be used only when the server has\nfulfilled the partial GET request.  As you can see, the behavior here is bizarre \nin any case; we seem to have been given bytes 122-240 of the\ninternally-generated error document.\n\nThe error appears in 2.0.36 also.", "is_private": false, "bug_id": 11601, "id": 20859, "time": "2002-08-10T01:19:10Z", "creator": "mjd-apache-bugzilla+@plover.com", "creation_time": "2002-08-10T01:19:10Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "mjd-apache-bugzilla+@plover.com", "text": "The \"HTTP/1.0\" in my report is a typo.\nIt was actually \"HTTP/1.1\".  \nSorry for any confusion this causes.\n", "count": 1, "id": 20860, "time": "2002-08-10T01:21:31Z", "bug_id": 11601, "creation_time": "2002-08-10T01:21:31Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 11601, "text": "Created attachment 2678\nI think this might be the correct fix", "id": 20865, "time": "2002-08-10T03:36:37Z", "creator": "mjd-apache-bugzilla+@plover.com", "creation_time": "2002-08-10T03:36:37Z", "is_private": false, "attachment_id": 2678}, {"count": 3, "tags": [], "bug_id": 11601, "text": "Same behaviour with Apache 2.0.40 on Windows 2000 Pro.", "id": 21209, "time": "2002-08-17T19:04:07Z", "creator": "psychosos@gmx.at", "creation_time": "2002-08-17T19:04:07Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 11601, "attachment_id": null, "id": 21257, "time": "2002-08-19T03:01:16Z", "creator": "wrowe@apache.org", "creation_time": "2002-08-19T03:01:16Z", "is_private": false, "text": "\n  Although the patch looks correct, we must consider other 2xx responses\n  and what behavior should occur in those cases.\n\n  Most importantly, if we don't currently remove the Range: headers, a CGI\n  could formulate a Range: response on it's own, leaving us chopping down\n  the response-ranges twice."}, {"count": 5, "tags": [], "text": "This was fixed back in October with a different change.  Apparently the\ndeveloper wasn't aware of this PR, so it didn't get closed.\n\nThis will be in the next release.\n\nThanks for your report, and thanks for using Apache!\n\ngregames    2002/10/25 11:25:12\n\n  Modified:    modules/http http_protocol.c\n  Log:\n  don't apply byte ranges to redirects, error documents, etc.\n\n  Revision  Changes    Path\n  1.463     +1 -1      httpd-2.0/modules/http/http_protocol.c\n\n  Index: http_protocol.c\n  ===================================================================\n  RCS file: /home/cvs/httpd-2.0/modules/http/http_protocol.c,v\n  retrieving revision 1.462\n  retrieving revision 1.463\n  diff -u -r1.462 -r1.463\n  --- http_protocol.c   11 Oct 2002 15:29:20 -0000      1.462\n  +++ http_protocol.c   25 Oct 2002 18:25:11 -0000      1.463\n  @@ -3062,7 +3062,7 @@\n           range = apr_table_get(r->headers_in, \"Request-Range\");\n       }\n\n  -    if (!range || strncasecmp(range, \"bytes=\", 6)) {\n  +    if (!range || strncasecmp(range, \"bytes=\", 6) || r->status != HTTP_OK) {\n           return 0;\n       }\n\n", "attachment_id": null, "bug_id": 11601, "id": 26784, "time": "2002-11-22T13:11:35Z", "creator": "trawick@apache.org", "creation_time": "2002-11-22T13:11:35Z", "is_private": false}]