[{"count": 0, "tags": [], "creator": "pierre42d@9online.fr", "attachment_id": null, "id": 46830, "time": "2003-11-05T00:22:37Z", "bug_id": 24416, "creation_time": "2003-11-05T00:22:37Z", "is_private": false, "text": "/tmp/httpd-2.0.48/srclib/apr/libtool --silent --mode=compile gcc -s    -O3\n-march=i686  -DLINUX=2 -D_REENTRANT -D_XOPEN_SOURCE=500 -D_BSD_SOURCE\n-D_SVID_SOURCE -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER\n-I/usr/local/BerkeleyDB.4.1/include  -I/tmp/httpd-2.0.48/srclib/apr/include\n-I/tmp/httpd-2.0.48/srclib/apr-util/include -I/usr/local/BerkeleyDB.4.1/include\n-I/usr/local/include -I. -I/tmp/httpd-2.0.48/os/unix\n-I/tmp/httpd-2.0.48/server/mpm/prefork -I/tmp/httpd-2.0.48/modules/http\n-I/tmp/httpd-2.0.48/modules/filters -I/tmp/httpd-2.0.48/modules/proxy\n-I/tmp/httpd-2.0.48/include -I/usr/local/ssl/include/openssl\n-I/usr/local/ssl/include -I/tmp/httpd-2.0.48/modules/dav/main -prefer-non-pic\n-static -c util_ldap.c && touch util_ldap.lo\nutil_ldap.c:81:2: #error mod_ldap requires APR-util to have LDAP support built in\nutil_ldap.c: In function `util_ldap_handler':\nutil_ldap.c:174: warning: passing arg 1 of `ap_rputs' makes pointer from integer\nwithout a cast\nutil_ldap.c: At top level:\nutil_ldap.c:189: error: parse error before \"util_ldap_connection_close\"\nutil_ldap.c:189: error: parse error before '*' token\nutil_ldap.c: In function `util_ldap_connection_close':\nutil_ldap.c:206: error: `ldc' undeclared (first use in this function)\nutil_ldap.c:206: error: (Each undeclared identifier is reported only once\nutil_ldap.c:206: error: for each function it appears in.)\nutil_ldap.c: At top level:\nutil_ldap.c:216: error: parse error before \"util_ldap_connection_destroy\"\nutil_ldap.c: In function `util_ldap_connection_destroy':\nutil_ldap.c:218: error: `util_ldap_connection_t' undeclared (first use in this\nfunction)\nutil_ldap.c:218: error: `ldc' undeclared (first use in this function)\nutil_ldap.c: At top level:\nutil_ldap.c:249: error: parse error before \"util_ldap_connection_open\"\nutil_ldap.c:250: error: parse error before \"util_ldap_connection_t\"\nutil_ldap.c: In function `util_ldap_connection_open':\nutil_ldap.c:254: error: `LDAP_VERSION3' undeclared (first use in this function)\nutil_ldap.c:256: error: `util_ldap_state_t' undeclared (first use in this function)\nutil_ldap.c:256: error: `st' undeclared (first use in this function)\nutil_ldap.c:256: error: parse error before ')' token\nutil_ldap.c:257: error: `r' undeclared (first use in this function)\nutil_ldap.c:261: error: `ldc' undeclared (first use in this function)\nutil_ldap.c:264: error: `LDAP_SUCCESS' undeclared (first use in this function)\nutil_ldap.c:326: error: `LDAP_OPT_DEREF' undeclared (first use in this function)\nutil_ldap.c:329: error: `LDAP_OPT_PROTOCOL_VERSION' undeclared (first use in\nthis function)\nutil_ldap.c:350: error: `LDAP_SERVER_DOWN' undeclared (first use in this function)\n[...]\n\nI have apr-util 0.9.4 installed."}, {"count": 1, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "id": 46989, "time": "2003-11-07T13:51:45Z", "bug_id": 24416, "creation_time": "2003-11-07T13:51:45Z", "is_private": false, "text": "The issue is this:\n\nutil_ldap.c:81:2: #error mod_ldap requires APR-util to have LDAP support built in\n\nIt looks like you didn't add the right options for aprutil to support LDAP. \nHere is what I use on one of my boxes when configuring aprutil in order to\nsupport LDAP so that the LDAP authentication module for Apache will build:\n\n\"--with-ldap-include=/usr/local/openldap-2.1.16/include\" \\\n\"--with-ldap-lib=/usr/local/openldap-2.1.16/lib\" \\\n\"--with-ldap\"\n\nIt may be that simply adding \"--with-ldap\" will find your ldap library.  Try\nthat first, and if it can't find ldap then try adding the locations like I did.\n"}, {"count": 2, "tags": [], "bug_id": 24416, "is_private": false, "text": "The problem is that it's what I've done, and apr-util seems to have found ldap :\n\nFrom the output of the apr-util configure script :\n\n[...]\nchecking for unistd.h... yes\nchecking for ldap support...\nchecking for ldap_init in -lldap50... no\nchecking for ldap_init in -lldapssl41... no\nchecking for ldap_init in -lldapssl40... no\nchecking for ldap_init in -lldapssl30... no\nchecking for ldap_init in -lldapssl20... no\nchecking for ldap_init in -lldap... yes\n  setting APRUTIL_EXPORT_LIBS to \"-lldap -llber\"\n  setting APRUTIL_LIBS to \"-lldap -llber\"\nchecking for ldapssl_install_routines in -lldap... no\nchecking for ldap_start_tls_s in -lldap... yes\nchecking for ber_init in -llber... yes\nchecking ldap.h usability... yes\nchecking ldap.h presence... yes\nchecking for ldap.h... yes\nchecking lber.h usability... yes\nchecking lber.h presence... yes\nchecking for lber.h... yes\nchecking ldap_ssl.h usability... no\nchecking ldap_ssl.h presence... no\nchecking for ldap_ssl.h... no\nchecking gdbm.h usability... yes\n[...]\n\nSo I don't understand what is wrong here...\n", "id": 47081, "time": "2003-11-10T05:15:22Z", "creator": "pierre42d@9online.fr", "creation_time": "2003-11-10T05:15:22Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 24416, "attachment_id": null, "text": "Reopen to get it on the radar again - sorry I cannot help myself, but probably\nsomeone else can.\nCan you provide more information or did you solve the problem somehow?", "id": 58086, "time": "2004-05-25T19:33:28Z", "creator": "nd@perlig.de", "creation_time": "2004-05-25T19:33:28Z", "is_private": false}, {"count": 4, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "id": 71780, "time": "2005-03-03T16:06:32Z", "bug_id": 24416, "creation_time": "2005-03-03T16:06:32Z", "is_private": false, "text": "Is this working in 2.0.53?  If not can you attach the files\nsrclib/apr-util/include/apr_ldap.h and srclib/apr-util/config.log?"}, {"count": 5, "tags": [], "bug_id": 24416, "attachment_id": null, "text": "Closing lacking feedback, please try 2.0.54.", "id": 79543, "time": "2005-09-07T16:55:20Z", "creator": "jorton@redhat.com", "creation_time": "2005-09-07T16:55:20Z", "is_private": false}]