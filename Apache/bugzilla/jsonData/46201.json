[{"count": 0, "tags": [], "creator": "funkman@joedog.org", "attachment_id": null, "is_private": false, "id": 122434, "time": "2008-11-13T09:34:09Z", "bug_id": 46201, "creation_time": "2008-11-13T09:34:09Z", "text": "Connection con = datasource.getConnection();\ncon.close();\ncon.close();\n\nThe javadcos for close say:\nCalling the method close on a Connection  object that is already closed is a no-op. \n\n\nThe current behavior is \"Caught: java.sql.SQLException: Connection has already been closed.\""}, {"count": 1, "tags": [], "creator": "fhanik@apache.org", "is_private": false, "text": "By default, the connection pool is stateless, it doesn't keep track of any connection state. This is for performance purposes to avoid roundtrips to the DB.\n\nThere is an interceptor, called ConnectionState,\nhttp://svn.apache.org/viewvc/tomcat/trunk/modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/interceptor/ConnectionState.java?view=log\n\nthat can keep track of state, and this one is also optimized to save roundtrips to the database. so if autocommit hasn't changed, \n\nTo configure the interceptor, one can look at \nhttp://svn.apache.org/viewvc/tomcat/trunk/modules/jdbc-pool/test/org/apache/tomcat/jdbc/test/TestConnectionState.java?view=log\nfor an example on how to use the connection state\n\nthis bug was fixed in \nhttp://svn.apache.org/viewvc?view=rev&revision=713763\n\n", "id": 122436, "time": "2008-11-13T10:09:18Z", "bug_id": 46201, "creation_time": "2008-11-13T10:09:18Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "well, that was embarrassing, pasted in the wrong fix to the bug,\n\nhere is the fix for this bug\n\nhttp://svn.apache.org/viewvc?view=rev&revision=713787", "is_private": false, "bug_id": 46201, "id": 122439, "time": "2008-11-13T11:00:07Z", "creator": "fhanik@apache.org", "creation_time": "2008-11-13T11:00:07Z", "attachment_id": null}]