[{"count": 0, "attachment_id": null, "bug_id": 41418, "text": "The Transaction Controller can be used to simplify the Summary \nReport. However, when you need the runtime summary for all elements \nof a transaction controller, the timer durations are added.\n\nWith this patch (against SVN rel-2-2 r497856) a check box is added to \nthe Transaction Controller to exclude all timer durations from the \nSummary Report.", "id": 98276, "time": "2007-01-19T09:40:48Z", "creator": "isenberg@e-spirit.de", "creation_time": "2007-01-19T09:40:48Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 41418, "attachment_id": 19435, "text": "Created attachment 19435\nadds checkbox to Transaction Controller to exclude timer durations", "id": 98277, "time": "2007-01-19T09:41:33Z", "creator": "isenberg@e-spirit.de", "creation_time": "2007-01-19T09:41:33Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 41418, "attachment_id": null, "id": 98279, "time": "2007-01-19T10:11:02Z", "creator": "sebb@apache.org", "creation_time": "2007-01-19T10:11:02Z", "is_private": false, "text": "Seems to be a bit missing - \n\nThe method incIdleTime() is not defined for SampleResult"}, {"count": 3, "tags": [], "creator": "isenberg@e-spirit.de", "text": "Created attachment 19436\nmissing part 2 of patch above", "id": 98286, "time": "2007-01-19T12:15:32Z", "bug_id": 41418, "creation_time": "2007-01-19T12:15:32Z", "is_private": false, "attachment_id": 19436}, {"count": 4, "tags": [], "bug_id": 41418, "attachment_id": 20430, "is_private": false, "id": 105011, "time": "2007-07-02T11:37:52Z", "creator": "alf@i100.no", "creation_time": "2007-07-02T11:37:52Z", "text": "Created attachment 20430\nSuggested patch\n\nThis suggested patch adds a jmeter.properties option to control how the\nduration o f the TransactionSample is made. I do not have time to add an GUI\noption at the moment, and I'm guessing that a property to control the behaviour\nshould be sufficient short term.\n\nCurrently, the TransactionSample will have the start of the first subsample as\nit's start time, and the end of the last subsample of the transaction as it's\nend times. This means that the time it takes to run pre-, postprocessors,\nassertions and timers inside a TransactionController will be included in the\nduration of the transaction sample.\n\nWith this patch, and the jmeter.properties option set to true, the transaction\nsample will report the sum of the subsamples as it's duration. This will then\nnot include the time for pre-, postprocessors, timers and assertions."}, {"count": 5, "tags": [], "bug_id": 41418, "attachment_id": 20431, "id": 105012, "time": "2007-07-02T11:41:15Z", "creator": "alf@i100.no", "creation_time": "2007-07-02T11:41:15Z", "is_private": false, "text": "Created attachment 20431\nSimple testplan to show that timer is included\n\nThe attached testplan shows that both timers are included in the duration of\nthe transaction sample.\nSo to correct my statement above slightly : by default, the end timestamp of\nthe transaction sample is set to the timestamp when the transaction controller\nfigures out that there are no more subsamples to sample in the transaction, and\nnot to the  end time of the last subsample, as I said in my previous comment."}, {"count": 6, "tags": [], "bug_id": 41418, "attachment_id": 20819, "text": "Created attachment 20819\nUpdated patch against current svn version (2.3 r575019)\n\nThis is an updated version of my patch against the current svn version 2.3\nr575019", "id": 108156, "time": "2007-09-13T09:44:45Z", "creator": "isenberg@e-spirit.de", "creation_time": "2007-09-13T09:44:45Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 41418, "attachment_id": null, "text": "Hello,\nI find this enhancement very useful.\nAttached is the updated patch of Alf Hogemark done against current trunk.\n\nI just changed default value of \"Include timer duration in runtime summary\" to true to ensure ascending compatibility and commented some code.\nI also tested it successfully.\n\nPhilippe \nhttp://www.ubik-ingenierie.com", "id": 130914, "time": "2009-10-06T11:14:27Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2009-10-06T11:14:27Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 41418, "attachment_id": 24351, "text": "Created attachment 24351\nUpdated patch against trunk of 6/10/2009", "id": 130915, "time": "2009-10-06T11:17:47Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2009-10-06T11:17:47Z", "is_private": false}, {"count": 9, "tags": [], "text": "I tested this feature in last load tests campaign.\nFound no bugs and it is really very useful.\nA good enhancement would be to remove TestAction times.\n\n\nPhilippe.", "is_private": false, "bug_id": 41418, "id": 131982, "time": "2009-11-15T10:41:21Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2009-11-15T10:41:21Z", "attachment_id": null}, {"count": 10, "attachment_id": null, "bug_id": 41418, "text": "I've been looking at the patch dated 2009-10-06 11:17 UTC.\n[Not all that easy to follow, as there are lots and lots of spurious white-space changes in the SampleResult part. Please try to submit minimum necessary changes in future.]\n\nThere is one part of the patch I don't understand:\n\nTransactionController.java\n...\n@@ -152,6 +164,8 @@\n             // Assume success\n             res.setSuccessful(true);\n             res.sampleStart();\n+            prevEndTime = res.getStartTime();\n+            pauseTime = 0;\n         }\n\nIt does not seem correct to use the StartTime as the initial value for the previous End Time. Is the patch correct - if so why? If not, what should it be?", "id": 132069, "time": "2009-11-17T17:28:02Z", "creator": "sebb@apache.org", "creation_time": "2009-11-17T17:28:02Z", "tags": [], "is_private": false}, {"count": 11, "tags": [], "text": "Hello,\nFirst thanks for taking into account this patch and other ones I submitted.\nI am sorry for the patch with lot of spaces, you are right, it s hard to read.\n\nNow about your question, here is the concept of the patch as I understood it (originial writer is Alf Hogemark):\n- pauseTime cumulates time taken by all transaction timers and this is done by recording \"previous end time\" of a Sample.\nSo prevEndTime is used only to compute timer(s) time between samples.\n\n\npauseTime for each sample is computed by doing (sample endTime - Time taken by sample) (which would be the sample start time) - previous sample EndTime in same transaction. \n\nDo you see a pb in this ?\nThanks\nPhilippe.", "attachment_id": null, "bug_id": 41418, "id": 132205, "time": "2009-11-22T12:28:23Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2009-11-22T12:28:23Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 41418, "text": "Created attachment 24584\nPatch to trunk (22/11/2009 21h39)\n\nCleaned up patch", "id": 132207, "time": "2009-11-22T12:40:13Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2009-11-22T12:40:13Z", "is_private": false, "attachment_id": 24584}, {"count": 13, "tags": [], "text": "Thanks for the patch; it seems to work fine.\n\nPatch committed to SVN:\n\nURL: http://svn.apache.org/viewvc?rev=890526&view=rev\nLog:\nBug 41418 - Exclude timer duration from Transaction Controller runtime in report", "attachment_id": null, "bug_id": 41418, "id": 132812, "time": "2009-12-14T14:54:06Z", "creator": "sebb@apache.org", "creation_time": "2009-12-14T14:54:06Z", "is_private": false}, {"count": 14, "tags": [], "bug_id": 41418, "attachment_id": null, "id": 140816, "time": "2010-10-19T03:05:32Z", "creator": "jens_0@hotmail.com", "creation_time": "2010-10-19T03:05:32Z", "is_private": false, "text": "Excluding timer duration does not work if the transaction controller's option \"Generate parent sample\" is on.\n\nSee Bug 50080"}]