[{"count": 0, "tags": [], "bug_id": 3964, "attachment_id": null, "text": "I am trying to take an existing text report, and displaying it in a PDF \ndocument.\nThe text report is XML'd before being processed in XSL\n\ne.g.\n\n<?xml version=\"1.0\"?>\n<Report>\n<Ln> SLR3     Customer Profitability-by a/c   ELAND ELECTRICAL LIMITED       \nPeriod: 9 Date:04/10/01   Time: 9:20:53         Page:   1</Ln>\n<Ln></Ln>\n<Ln>  Print range:- FROM: A                 TO: B</Ln>\n<Ln></Ln>\n<Ln>Customer   Name                            Last      -------------- Period -\n-------------    -------------- To Date -------------</Ln>\n<Ln>Account                                    Invoiced       Sales           \nCost       %            Sales           Cost       %</Ln>\n<Ln></Ln>\n<Ln>A&amp;C308     A &amp; C ELECTRONICS LTD           31/05/00      ---\n           ---           ---          ---           ---           ---</Ln>\n<Ln>A&amp;D001     A &amp; D CARTWRIGHT DIST LTD       10/11/00      ---\n           ---           ---            866.15        584.21     32.55</Ln>\n<Ln>A1C312     A1 CABLE EXPRESS LTD            02/11/00      ---           ---\n           ---            610.00        254.63     58.25</Ln>\n<Ln>A1S147     A1 SOLO LTD                     26/07/00      ---           ---\n           ---          ---           ---           ---</Ln>\n<Ln>ACE888     ACESS                           25/05/99      ---           ---\n           ---          ---           ---           ---</Ln>\n<Ln>ACT166     ACTIFLEX FLEXIBLE TUBES LTD     15/11/99      ---           ---\n           ---          ---           ---           ---</Ln>\n<Ln>ADC001     ADCO INDUSTRIAL WEAR LTD        23/11/99      ---           ---\n           ---          ---           ---           ---</Ln>\n</Report>\n\n\nThe XSL script to convert this is:-\n\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<xsl:stylesheet version=\"1.0\" xmlns:fo=\"http://www.w3.org/1999/XSL/Transform\" \nxmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xml:space=\"preserve\">\n\t<xsl:output method=\"xml\" indent=\"no\"/>\n\t<xsl:template match=\"/\">\n\t\t<fo:root xmlns:fo=\"http://www.w3.org/1999/XSL/Format\">\n\t\t\t<!-- defines the layout master -->\n\t\t\t<fo:layout-master-set>\n\t\t\t\t<fo:simple-page-master master-name=\"first\" page-\nwidth=\"29.7cm\" page-height=\"21cm\" margin-top=\"1cm\" margin-bottom=\"1cm\" margin-\nleft=\"1cm\" margin-right=\"1cm\">\n\t\t\t\t\t<fo:region-body margin-top=\"1mm\"/>\n\t\t\t\t\t<fo:region-before extent=\"1mm\"/>\n\t\t\t\t\t<fo:region-after extent=\"1mm\"/>\n\t\t\t\t</fo:simple-page-master>\n\t\t\t</fo:layout-master-set>\n\t\t\t<!-- starts actual layout -->\n\t\t\t<fo:page-sequence master-name=\"first\">\n\t\t\t\t<fo:title>Charisma Report</fo:title>\n\t\t\t\t<fo:flow flow-name=\"xsl-region-body\">\n\t\t\t\t\t<!-- table start -->\n\t\t\t\t\t<fo:table border-width=\"0.1mm\" border-\nstyle=\"solid\" border-color=\"light-grey\">\n\t\t\t\t\t\t<fo:table-column column-\nwidth=\"27.7cm\"/>\n\t\t\t\t\t\t<fo:table-body>\n\t\t\t\t\t\t\t<xsl:for-each \nselect=\"Report/Ln\">\n\t\t\t\t\t\t\t\t<xsl:choose>\n\t\t\t\t\t\t\t\t\n\t<xsl:when test=\"contains(., 'Page')\">\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row font-size=\"7pt\" font-family=\"Courier\" color=\"black\" \nbackground-color=\"#e4e4e4\" line-height=\"12pt\" space-after.optimum=\"5pt\" padding-\ntop=\"3pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<xsl:choose>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t<xsl:when test=\"position() = 1\">\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t<fo:block  white-space-\ncollapse=\"false\"><xsl:value-of select=\".\"/></fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t</xsl:when>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t<xsl:otherwise>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t<fo:block  break-before=\"page\" keep-with-\nprevious=\"auto\" white-space-collapse=\"false\"><xsl:value-of \nselect=\".\"/></fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t</xsl:otherwise>\n\t\t\t\t\t\t\t\t\t\t\n\t\t</xsl:choose>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\n\t</xsl:when>\n\t\t\t\t\t\t\t\t\n\t<xsl:when test=\"contains(. , 'Customer ')\">\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row font-size=\"7pt\" font-family=\"Courier\" color=\"black\" \nbackground-color=\"#e4e4e4\" line-height=\"12pt\" space-after.optimum=\"5pt\" padding-\ntop=\"3pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\"><xsl:value-of \nselect=\".\"/></fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\n\t</xsl:when>\n\t\t\t\t\t\t\t\t\n\t<xsl:when test=\"contains(. , 'Invoiced ')\">\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row font-size=\"7pt\" font-family=\"Courier\" color=\"black\" \nbackground-color=\"#e4e4e4\" line-height=\"12pt\" space-after.optimum=\"5pt\" padding-\ntop=\"3pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\"><xsl:value-of \nselect=\".\"/></fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\n\t</xsl:when>\n\t\t\t\t\t\t\t\t\n\t<xsl:otherwise>\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row font-size=\"7pt\" font-family=\"Courier\" line-height=\"10pt\" \npadding-top=\"2pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\"><xsl:value-of \nselect=\".\"/></fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\n\t</xsl:otherwise>\n\t\t\t\t\t\t\t\t</xsl:choose>\n\t\t\t\t\t\t\t</xsl:for-each>\n\t\t\t\t\t\t</fo:table-body>\n\t\t\t\t\t</fo:table>\n\t\t\t\t</fo:flow>\n\t\t\t</fo:page-sequence>\n\t\t</fo:root>\n\t</xsl:template>\n</xsl:stylesheet>\n\nThat in turn gives me the following 'fo' file...\n\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n\t\t<fo:root xmlns:fo=\"http://www.w3.org/1999/XSL/Format\">\n\t\t\t\n\t\t\t<fo:layout-master-set>\n\t\t\t\t<fo:simple-page-master margin-right=\"1cm\" \nmargin-left=\"1cm\" margin-bottom=\"1cm\" margin-top=\"1cm\" page-height=\"21cm\" page-\nwidth=\"29.7cm\" master-name=\"first\">\n\t\t\t\t\t<fo:region-body margin-top=\"1mm\"/>\n\t\t\t\t\t<fo:region-before extent=\"1mm\"/>\n\t\t\t\t\t<fo:region-after extent=\"1mm\"/>\n\t\t\t\t</fo:simple-page-master>\n\t\t\t</fo:layout-master-set>\n\t\t\t\n\t\t\t<fo:page-sequence master-name=\"first\">\n\t\t\t\t<fo:title>Charisma Report</fo:title>\n\t\t\t\t<fo:flow flow-name=\"xsl-region-body\">\n\t\t\t\t\t\n\t\t\t\t\t<fo:table border-color=\"light-grey\" \nborder-style=\"solid\" border-width=\"0.1mm\">\n\t\t\t\t\t\t<fo:table-column column-\nwidth=\"27.7cm\"/>\n\t\t\t\t\t\t<fo:table-body>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"3pt\" space-after.optimum=\"5pt\" line-\nheight=\"12pt\" background-color=\"#e4e4e4\" color=\"black\" font-family=\"Courier\" \nfont-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t<fo:block white-space-collapse=\"false\"> \nSLR3     Customer Profitability-by a/c   ELAND ELECTRICAL LIMITED       Period: \n9 Date:04/10/01   Time: 9:20:53         Page:   1</fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"2pt\" line-height=\"10pt\" font-\nfamily=\"Courier\" font-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"2pt\" line-height=\"10pt\" font-\nfamily=\"Courier\" font-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\">  Print range:- FROM: \nA                 TO: B</fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"2pt\" line-height=\"10pt\" font-\nfamily=\"Courier\" font-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"3pt\" space-after.optimum=\"5pt\" line-\nheight=\"12pt\" background-color=\"#e4e4e4\" color=\"black\" font-family=\"Courier\" \nfont-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\">Customer   \nName                            Last      -------------- Period --------------\n    -------------- To Date -------------</fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"3pt\" space-after.optimum=\"5pt\" line-\nheight=\"12pt\" background-color=\"#e4e4e4\" color=\"black\" font-family=\"Courier\" \nfont-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-\ncollapse=\"false\">Account                                    Invoiced       \nSales           Cost       %            Sales           Cost       %</fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"2pt\" line-height=\"10pt\" font-\nfamily=\"Courier\" font-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"2pt\" line-height=\"10pt\" font-\nfamily=\"Courier\" font-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\">A&amp;C308     A &amp; C \nELECTRONICS LTD           31/05/00      ---           ---           ---\n          ---           ---           ---</fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"2pt\" line-height=\"10pt\" font-\nfamily=\"Courier\" font-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\">A&amp;D001     A &amp; D \nCARTWRIGHT DIST LTD       10/11/00      ---           ---           ---\n            866.15        584.21     32.55</fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"2pt\" line-height=\"10pt\" font-\nfamily=\"Courier\" font-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\">A1C312     A1 CABLE \nEXPRESS LTD            02/11/00      ---           ---           ---            \n610.00        254.63     58.25</fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"2pt\" line-height=\"10pt\" font-\nfamily=\"Courier\" font-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\">A1S147     A1 SOLO \nLTD                     26/07/00      ---           ---           ---          -\n--           ---           ---</fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"2pt\" line-height=\"10pt\" font-\nfamily=\"Courier\" font-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\">ACE888     \nACESS                           25/05/99      ---           ---           ---\n          ---           ---           ---</fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"2pt\" line-height=\"10pt\" font-\nfamily=\"Courier\" font-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\">ACT166     ACTIFLEX \nFLEXIBLE TUBES LTD     15/11/99      ---           ---           ---          --\n-           ---           ---</fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t<fo:table-row padding-top=\"2pt\" line-height=\"10pt\" font-\nfamily=\"Courier\" font-size=\"7pt\">\n\t\t\t\t\t\t\t\t\t\t\n\t<fo:table-cell>\n\t\t\t\t\t\t\t\t\t\t\n\t\t<fo:block white-space-collapse=\"false\">ADC001     ADCO \nINDUSTRIAL WEAR LTD        23/11/99      ---           ---           ---\n          ---           ---           ---</fo:block>\n\t\t\t\t\t\t\t\t\t\t\n\t</fo:table-cell>\n\t\t\t\t\t\t\t\t\t\n\t</fo:table-row>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</fo:table-body>\n\t\t\t\t\t</fo:table>\n\t\t\t\t</fo:flow>\n\t\t\t</fo:page-sequence>\n\t\t</fo:root>\n\t\n\nViewed in Acrobat Reader (3 or 5) this gives me the expected result of neatly \naligned columns (cannot send the screen dump here)\nHowever, if I use the Fop viewer/print, the columns are not vertically aligned -\n (more vertically challenged!)\n\nQ:\\merisma\\repfo>java org.apache.fop.apps.Fop a.fo a.pdf\n[INFO]: FOP 0.20.2\n[INFO]: building formatting object tree\n[INFO]: [1]\n[INFO]: Parsing of document complete, stopping renderer\n\njava org.apache.fop.apps.Fop a.fo -awt\n\n\nMany thanks.\n\n\nRob Anderson", "id": 6352, "time": "2001-10-04T03:09:05Z", "creator": "roba@bml.uk.com", "creation_time": "2001-10-04T03:09:05Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 3964, "attachment_id": null, "id": 26322, "time": "2002-11-14T21:52:01Z", "creator": "oleg@tkachenko.com", "creation_time": "2002-11-14T21:52:01Z", "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of 1180 ***"}, {"count": 2, "attachment_id": null, "bug_id": 3964, "is_private": false, "id": 156422, "time": "2012-04-01T13:47:51Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T13:47:51Z", "tags": [], "text": "batch transition to closed remaining pre-FOP1.0 resolved bugs"}]