[{"count": 0, "tags": [], "bug_id": 39650, "is_private": false, "text": "mod_rewrite seems to use the physical path if it exists instead of appending \nthe document root to the rewritten URI.\n\nTo simulate:\n\nConsider this rewrite rule\n\nRewriteRule     ^/Images/(.*)   /lib/Images/$1\n\nEven if you have a lib/Images uder your Docroot, the path is resolved to the \nphysical path of /lib/Images/ and image serving fails.\n\n192.168.50.209 - - [24/May/2006:11:04:11 +051800] [192.168.50.9/sid#81168c0]\n[rid#81afac8/initial] (2) local path result: /lib/Images/logo.jpg\n192.168.50.209 - - [24/May/2006:11:04:11 +051800] [192.168.50.9/sid#81168c0]\n[rid#81afac8/initial] (1) go-ahead with /lib/Images/logo.jpg [OK]\n\nThis should actually be <docroot>/lib/Images/logo.jpg\n\nIncidentally, the same Rewrite rule works fine in Windows. This has probably to \ndo with the non-existance of /lib physical path in the Windows environment", "id": 89419, "time": "2006-05-24T07:47:26Z", "creator": "krishna@changepond.com", "creation_time": "2006-05-24T07:47:26Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 39650, "is_private": false, "text": "As a workaround having PT on the rewrite rule makes it work fine.\n\nRewriteRule     ^/Images/(.*)   /lib/Images/$1 [PT]", "id": 89421, "time": "2006-05-24T07:52:13Z", "creator": "krishna@changepond.com", "creation_time": "2006-05-24T07:52:13Z", "attachment_id": null}, {"count": 2, "text": "This is not a bug, this is intention so that mod_rewrite can act in per-serever\ncontext like an alias. To avoid such a filename-translation (and to keep the\nresult as an URL-path), you must use the PT-Flag.\n\nThat's how mod_rewrite is expected to work.", "bug_id": 39650, "is_private": false, "id": 89424, "time": "2006-05-24T09:05:14Z", "creator": "bobsiegen@googlemail.com", "creation_time": "2006-05-24T09:05:14Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 39650, "attachment_id": null, "is_private": false, "id": 89425, "time": "2006-05-24T10:06:52Z", "creator": "krishna@changepond.com", "creation_time": "2006-05-24T10:06:52Z", "text": "Thank you for the update. I just went through the source and saw the notice \nthat describes this. But, I was just wondering whether it is not possible to \ncheck whether any such Alias exists and if not prefix the URI with DocumentRoot."}, {"count": 4, "tags": [], "bug_id": 39650, "attachment_id": null, "id": 89441, "creation_time": "2006-05-24T13:45:12Z", "time": "2006-05-24T13:45:12Z", "creator": "slive@apache.org", "text": "That's not the point.  What Robert meant is that RewriteRule can act as an Alias\nitself, providing access to content outside the documentroot.  The way this\nfeature is handled (silently guessing about the users intentions based on the\ncontents of the filesystem) is a little tricky, but it is not going to change at\nthis point.", "is_private": false}]