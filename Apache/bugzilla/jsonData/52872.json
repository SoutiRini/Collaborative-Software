[{"count": 0, "text": "uname -a\nSunOS www 5.10 Generic_147441-10 i86pc i386 i86pc\n\nRandom Apache processes stops responding and consume 100% CPU. Other processes work as expected. \n\nMunin visualisation \nhttp://img196.imageshack.us/img196/3116/cpuday.png\n\nA truss, gives this looping output:\n\ntruss -p <pid>\naccess(\"../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../.\", F_OK) Err#78 ENAMETOOLONG", "bug_id": 52872, "attachment_id": null, "id": 154745, "time": "2012-03-09T12:44:32Z", "creator": "d.neumann@uni.leuphana.de", "creation_time": "2012-03-09T12:44:32Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 52872, "text": "./httpd -V\nServer version: Apache/2.2.22 (Unix)\nServer built:   Mar  5 2012 10:45:56\nServer's Module Magic Number: 20051115:30\nServer loaded:  APR 1.4.5, APR-Util 1.3.12\nCompiled using: APR 1.4.5, APR-Util 1.3.12\nArchitecture:   32-bit\nServer MPM:     Prefork\n  threaded:     no\n    forked:     yes (variable process count)\nServer compiled with....\n -D APACHE_MPM_DIR=\"server/mpm/prefork\"\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)\n -D APR_USE_PROC_PTHREAD_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D DYNAMIC_MODULE_LIMIT=128\n -D HTTPD_ROOT=\"/srv/apache2_mod_php\"\n -D SUEXEC_BIN=\"/srv/apache2/bin/suexec\"\n -D DEFAULT_PIDLOG=\"logs/httpd.pid\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_LOCKFILE=\"logs/accept.lock\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D AP_TYPES_CONFIG_FILE=\"conf/mime.types\"\n -D SERVER_CONFIG_FILE=\"conf/httpd.conf\"\n\n./httpd -l\nCompiled in modules:\n  core.c\n  mod_deflate.c\n  mod_headers.c\n  prefork.c\n  http_core.c\n  mod_so.c\n\n./httpd -M\nLoaded Modules:\n core_module (static)\n deflate_module (static)\n headers_module (static)\n mpm_prefork_module (static)\n http_module (static)\n so_module (static)\n authn_file_module (shared)\n authn_anon_module (shared)\n authn_default_module (shared)\n authn_alias_module (shared)\n authz_host_module (shared)\n authz_groupfile_module (shared)\n authz_user_module (shared)\n authz_owner_module (shared)\n authz_default_module (shared)\n auth_basic_module (shared)\n ext_filter_module (shared)\n include_module (shared)\n filter_module (shared)\n log_config_module (shared)\n logio_module (shared)\n env_module (shared)\n mime_magic_module (shared)\n expires_module (shared)\n usertrack_module (shared)\n unique_id_module (shared)\n setenvif_module (shared)\n ssl_module (shared)\n mime_module (shared)\n status_module (shared)\n autoindex_module (shared)\n info_module (shared)\n cgi_module (shared)\n vhost_alias_module (shared)\n negotiation_module (shared)\n dir_module (shared)\n actions_module (shared)\n alias_module (shared)\n rewrite_module (shared)\n php5_module (shared)\nSyntax OK", "id": 154746, "time": "2012-03-09T12:48:33Z", "creator": "d.neumann@uni.leuphana.de", "creation_time": "2012-03-09T12:48:33Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 52872, "attachment_id": null, "is_private": false, "id": 154748, "time": "2012-03-09T14:18:30Z", "creator": "trawick@apache.org", "creation_time": "2012-03-09T14:18:30Z", "text": "Please run pstack against the process and report the stack of the thread that is looping."}, {"count": 3, "tags": [], "bug_id": 52872, "text": "pstack 22593\n22593:  /srv/apache2_mod_php/bin/httpd -k start\n fea1b1c7 access   (92090b0, 20ab8a, f, 852dda4, 874eaa0, fceb9ff4) + 7\n fc90588b zif_file_exists (1, 852dda4, 0, 0, 1, 874eaa0) + 5b\n fc7fcd21 phar_file_exists (1, 852dda4, 0, 0, 1, fc9fbf8c) + 51\n fca12831 execute_internal (8881138, 1, c, 80463b8, 874eaa0, b) + 51\n fda15fa7 suhosin_execute_internal (8881138, 1, 8046438, fc9cf0ce, fffe0000, 15) + 177\n fca17f3f zend_do_fcall_common_helper_SPEC (8881184, 0, 8, 4f55f9a0, 144bfb7f, 46add4d6) + 7cf\n fca17682 execute  (8529a90, fda1d794, 0, 43434145, 852dc8c, 852dc34) + 1e2\n fda1656c suhosin_execute_ex (8529a90, 852a1d9, 2c, 80465d4, 4, 0) + 23c\n fc9ee4d0 zend_execute_scripts (8, 0, 3, 8046c5c, 8046ed0, 0) + 60\n fc994bd3 php_execute_script (8046ed0, 8874100, fca79df0, 80665d0, 9207fc0, 83e6110) + 1a3\n fca7afeb php_handler (8878150, 0, 8046f68, 83ead90, 2, ffffffff) + 5db\n 08080e29 ap_run_handler (8878150, 3b, 8046fb8, 807bcac, 8878150, 0) + 46\n 08081592 ap_invoke_handler (8878150, 0, 8046fe8, 80700d3, 3, 0) + 14d\n 08095d8e ap_process_request (8878150, 4, 8878150, 81ffe08, 8870880, 0) + 63\n 0809296d ap_process_http_connection (88703c8, fffffffe, 8870130, 83eb288, 0, fffffffe) + 71\n 0808952e ap_run_process_connection (88703c8, 8870130, 0, 81a20b8, 0, fffffffe) + 46\n 0808997a ap_process_connection (88703c8, 8870130, 8870130, 3, 886e178, 8874100) + 58\n 0809cb02 child_main (3, 809c20a, 1, 0, 0, 8047180) + 50f\n 0809ccf8 make_child (81e1ca8, 3, f4240, fea8e000, 81e1ca8, fea90390) + 17c\n 0809cf49 perform_idle_server_maintenance (80b8e88, 8047254, 8047244, 80b8e88, 81e1ca8, 80a9185) + 1d4\n 0809d469 ap_mpm_run (80b8e88, 80ecf58, 81e1ca8, 81e1ca8, 14, 80ad708) + 4d8\n 08069c0a main     (80685b0, 3, 8047340) + b1f\n 080685b0 _start   (3, 8047438, 8047457, 804745a, 0, 8047460) + 80\npstack: warning: librtld_db failed to initialize; symbols from shared libraries will not be available\n\n\npflags 22593\n22593:  /srv/apache2_mod_php/bin/httpd -k start\n        data model = _ILP32  flags = ORPHAN|MSACCT|MSFORK\n /1:    flags = 0", "id": 154767, "time": "2012-03-09T20:20:07Z", "creator": "d.neumann@uni.leuphana.de", "creation_time": "2012-03-09T20:20:07Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "covener@gmail.com", "is_private": false, "text": "You'd need to take this up with the PHP project, since it's spinning in mod_php which isn't part of Apache HTTP Server.", "id": 154772, "time": "2012-03-09T23:55:24Z", "bug_id": 52872, "creation_time": "2012-03-09T23:55:24Z", "attachment_id": null}]