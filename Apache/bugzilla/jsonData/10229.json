[{"count": 0, "tags": [], "creator": "juno@selresearch.net", "text": "I have a web appplication which declares the security contraint in web.xml file\nso that when a request such as\n\"https://localhost:8443/context/someservlet?param1=x&param2=y\" is sent from the\nbrowser, the server returns with loginpage to ask client to authenticate.\n\nWhen the client is authenticated, the request parameters seem to be lost.\nsomeservlet can't find param1 or param2.\n\nBut if I submit the same request again from the browser during the same session,\nthe  parameters can be picked up by someservlet. \n\nThe security-contraint is defined as the following:\n\t<security-constraint>\n\t\t<web-resource-collection>\n\t\t\t<web-resource-name></web-resource-name>\n\t\t\t<url-pattern>/someservlet</url-pattern>\n\t\t</web-resource-collection>\n\t\t<auth-constraint>\n\t\t\t<role-name>role1</role-name>\n\t\t\t<role-name>role2</role-name>\n\t\t</auth-constraint>\n\t\t<user-data-constraint>\n\t\t\t<transport-guarantee>CONFIDENTIAL</transport-guarantee>\n\t\t</user-data-constraint>\n\t</security-constraint>\n    <login-config>\n      <auth-method>FORM</auth-method>\n        <form-login-config>\n          <form-login-page>/loginpage.jsp</form-login-page>\n          <form-error-page>/errorpage.jsp</form-error-page>\n        </form-login-config>\n    </login-config>", "id": 18570, "time": "2002-06-25T20:53:40Z", "bug_id": 10229, "creation_time": "2002-06-25T20:53:40Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 10229, "attachment_id": null, "text": "This bug is a duplicate of http://nagoya.apache.org/bugzilla/show_bug.cgi?id=2768 \nbut has been reintroduced with Coyote (possibly in multiple places - the same\nbug is in the Tomcat 5 wrapper also). See setQueryString in\nhttp://cvs.apache.org/viewcvs.cgi/jakarta-tomcat-connectors/coyote/src/java/org/apache/coyote/tomcat4/CoyoteRequest.java?rev=1.27&content-type=text/vnd.viewcvs-markup\n\nNB there are a number of unimplemented HttpRequest methods in this class and so\nthere are likely to be more related bugs :(\n\njuno, you might want to try a workaround of using the old Catalina Http 1.1\nconnector? It should not have this bug.\n\nI've changed the version affected to the current 4.1 so this might get picked up\nfor the next release.", "id": 26469, "time": "2002-11-18T14:11:37Z", "creator": "Brian.Ewins@btinternet.com", "creation_time": "2002-11-18T14:11:37Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 10229, "text": "This should be fixed after 4.1.24", "id": 37078, "time": "2003-05-12T17:31:43Z", "creator": "jtulley@novell.com", "creation_time": "2003-05-12T17:31:43Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 10229, "attachment_id": null, "is_private": false, "id": 42340, "time": "2003-08-07T15:57:32Z", "creator": "adam.hardy@cyberspaceroad.com", "creation_time": "2003-08-07T15:57:32Z", "text": "I tried this with org.apache.catalina.connector.http.HttpConnector as you\nsuggested and the bug occurred here as well. Using 4.1.27."}, {"count": 4, "tags": [], "bug_id": 10229, "attachment_id": null, "is_private": false, "id": 43220, "time": "2003-08-24T21:28:56Z", "creator": "medthomas@ntlworld.com", "creation_time": "2003-08-24T21:28:56Z", "text": "I have tested this using the coyote connectors (the catalina connectors have \nbeen deprecated) and, as Jeff Tulley indicates in his earlier post, this has \nbeen fixed. Both 4.x.x-HEAD and 5.x.x-HEAD have been tested.\n\nI believe my test was comprehensive but if you identify a configuration \nwhere this still occurs, please reopen the bug, detail the configuration and I \nwill be happy to investigate further."}]