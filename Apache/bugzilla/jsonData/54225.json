[{"count": 0, "tags": [], "bug_id": 54225, "attachment_id": null, "id": 163739, "time": "2012-11-30T09:18:05Z", "creator": "jankei@web.de", "creation_time": "2012-11-30T09:18:05Z", "is_private": false, "text": "If the Resource in the server.xml is defined with initSQL=\"\" the method DataSource#getConnection() throws a NullPointerException. I would suggest to change this behaviour that the part in the org.apache.tomcat.jdbc.pool.DataSourceFactory class gets changed from\n\n>>>\nvalue = properties.getProperty(PROP_INITSQL);\nif (value != null ) {\npoolProperties.setInitSQL(value);\n}\n<<<\n\nto\n\nvalue = properties.getProperty(PROP_INITSQL);\nif (value != null && ! \"\".equals(value)) {\npoolProperties.setInitSQL(value);\n}\n\n\njava.lang.NullPointerException\n        at org.apache.tomcat.jdbc.pool.ConnectionPool.setupConnection(ConnectionPool.java:276)\n        at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:180)\n        at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:124)"}, {"count": 1, "tags": [], "creator": "fhanik@apache.org", "attachment_id": null, "id": 176992, "creation_time": "2014-08-07T20:31:38Z", "time": "2014-08-07T20:31:38Z", "bug_id": 54225, "text": "Fixed in r1616592", "is_private": false}]