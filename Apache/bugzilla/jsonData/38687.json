[{"count": 0, "attachment_id": null, "creator": "sebb@apache.org", "is_private": false, "id": 85863, "time": "2006-02-16T21:59:10Z", "bug_id": 38687, "creation_time": "2006-02-16T21:59:10Z", "tags": [], "text": "The Module Controller does not work in non-GUI mode.\n\nThis seems to be because it uses the GuiPackage to find the test tree.\n\nAlthough non-GUI test runs cannot access WorkBench items, the Module \nController can also refer to modules defined in the current thread-group, even \nif these are disabled or as children of an If controller with a permanently \nfalse condition."}, {"count": 1, "tags": [], "bug_id": 38687, "attachment_id": null, "id": 85896, "creation_time": "2006-02-17T20:42:37Z", "time": "2006-02-17T20:42:37Z", "creator": "sebb@apache.org", "text": "It seems that the ReplaceableController interface special handling is done \nonly in the AbstractAction class - which is currently only called in GUI mode.", "is_private": false}, {"count": 2, "tags": [], "creator": "woolfel@yahoo.com", "attachment_id": null, "id": 85897, "time": "2006-02-17T20:51:05Z", "bug_id": 38687, "creation_time": "2006-02-17T20:51:05Z", "is_private": false, "text": "so it sounds like we need a general solution that will work for both module and\ninclude controller\n\npeter"}, {"count": 3, "tags": [], "text": "The issue only applies to the Module Controller. Include Controller are\ncorreclty resolved resolved in non GUI mode.\nHas someone started to work on this issue?", "is_private": false, "bug_id": 38687, "id": 93617, "time": "2006-09-15T08:20:44Z", "creator": "guillaume.lasnier@sungard.com", "creation_time": "2006-09-15T08:20:44Z", "attachment_id": null}, {"count": 4, "attachment_id": 18880, "creator": "guillaume.lasnier@sungard.com", "is_private": false, "id": 93732, "time": "2006-09-18T11:51:15Z", "bug_id": 38687, "creation_time": "2006-09-18T11:51:15Z", "tags": [], "text": "Created attachment 18880\nCorrection\n\nThis patch fixes the problem by adding a method to ReplaceableController to\nhelp resolving the replacement subtree. Resolution takes an generic Object,\nwhich is used by ModuleController to search for the selected test element.\nInitially this resolution was kind of hacky since it looked for the root node\nin the GuiPackage. This works fine in GUI mode but as mentionned in your\ncomments is not suitable in non GUI. In this mode, resolution is performed just\nafter load the TestPlan in the JMeter class.\nThe conversion of Test node has also been refactored in the JMeter class."}, {"count": 5, "attachment_id": 20749, "creator": "christoph.schragen@gmx.at", "is_private": false, "id": 107524, "time": "2007-08-31T00:53:10Z", "bug_id": 38687, "creation_time": "2007-08-31T00:53:10Z", "tags": [], "text": "Created attachment 20749\nCorrection patch for R2.3\n\ni made a new patch against release 2.3 by using your patch, as we need that for\nour application. this patch may be easily applied to release 2.3 (and is only\n15 kb and not 73 kb)."}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 107560, "time": "2007-08-31T09:53:53Z", "bug_id": 38687, "creation_time": "2007-08-31T09:53:53Z", "is_private": false, "text": "Excellent - thanks very much.\n\nThe patch (20749) works fine.\n\nI've applied it with a minor tweak - convertSubTree() is no longer needed in \nAbstractAction.\n\nSVN updates: r571515 r571519 r571520\n\nAlso r571514 - update to test code to demonstrate bug.\n"}, {"count": 7, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "is_private": false, "id": 107610, "time": "2007-09-02T04:46:50Z", "bug_id": 38687, "creation_time": "2007-09-02T04:46:50Z", "text": "I found a problem with the code when running non-GUI on a box without a real \ndisplay. Setting java.awt.headless=true fixed it, but this is not a full \nsolution.\n\nThe cause of the problem is in JMeterTreeModel, which creates various Gui \nobjects. This is needed by ReplaceableController.resolveReplacementSubTree().\n\nChanging the tree resolver to use the testPlan HashTree rather than \nJMeterTreeNode looked rather difficult, so I added a hack to create a \nTreeModel that does not use any GUI items."}, {"count": 8, "tags": [], "bug_id": 38687, "attachment_id": null, "text": "This should probably be tidied up at some point...", "id": 107611, "time": "2007-09-02T04:47:39Z", "creator": "sebb@apache.org", "creation_time": "2007-09-02T04:47:39Z", "is_private": false}]