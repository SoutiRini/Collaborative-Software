[{"count": 0, "tags": [], "creator": "kenney@apache.org", "attachment_id": null, "id": 149999, "time": "2011-09-30T23:16:01Z", "bug_id": 51933, "creation_time": "2011-09-30T23:16:01Z", "is_private": false, "text": "Having RewriteCond apply to a following RewriteBase combined with regular\nexpressions or lists for RewriteBase allows the same .htaccess file to be\nused on development, test and live environments.\n\nAssuming this is not otherwise possible, here is an example of purpose:\n\nRewriteCond would allow to check for the url or server name to determine\nthe appropriate environment. For example, the development machine uses\nhttp://localhost/domain.com/foo/, whereas the live environment would\nuse http://domain.com/foo/, resulting in two different RewriteBase values.\nOfcourse, this can be handled by build systems, but scripted websites\ntypically don't require those.\n\nThanks in advance!"}, {"count": 1, "tags": [], "creator": "kenney@apache.org", "attachment_id": null, "id": 150000, "time": "2011-09-30T23:19:34Z", "bug_id": 51933, "creation_time": "2011-09-30T23:19:34Z", "is_private": false, "text": "Just to go into a little more detail: \n\nHaving:\n\nRewriteBase /foo\nRewriteBase /domain.com/foo\n\nand internally matching the longest one would be sufficient - the RewriteCond\nthen is not absolutely necessary. \nA workaround would be to have this prepended to every regular expression\nin the file, voiding the purpose of having RewriteBase in the first place."}, {"count": 2, "tags": [], "bug_id": 51933, "attachment_id": null, "text": "If you start httpd on the development machine with -DDEVEL, this should already work:\n\n<IfDefine DEVEL>\nRewriteBase /domain.com/foo\n</IfDefine>\n<IfDefine !DEVEL>\nRewriteBase /foo\n</IfDefine>\n\nTherefore I don't see much value in allowing several RewriteBase directives and I will mark this issue as WONTFIX.\n\nFWIW, it may be that the %{CONTEXT_PREFIX} variable available in 2.3.x already allows a more elegant solution. Also, there are some plans to make RewriteBase unneccessary in many cases, but this will take some time until it is implemented (probably 2.4.x with x > 0).", "id": 150384, "time": "2011-10-09T14:17:58Z", "creator": "sf@sfritsch.de", "creation_time": "2011-10-09T14:17:58Z", "is_private": false}]