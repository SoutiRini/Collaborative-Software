[{"count": 0, "tags": [], "text": "Currently, if I locate a resource (e.g. EJB Home) from Tomcat's JNDI Context,\nand I have configured a custom Object Factory for that location, the factory is\nonly exactly queried once.\n\nThis is very problematic in the EJB case because if the connection to the server\nhas been broken (for example by an application server restart), as this renders\nthe handle invalid and there is no way to get another handle on the same bean\nagain (apart from restarting Tomcat).\n\nThis is on Tomcat 5.5.17, but is most likely broken on 5.5.23, too.\n\nPlease note that Tomcats behaviour is also conflicting with the docs:\n\n\"Every time your web application calls lookup() on a context entry that is bound\nto this factory, the getObjectInstance() method is called, ...\" (quoted from\nJNDI resources howto, Adding custom resource factories)", "attachment_id": null, "id": 103539, "creator": "apache.org@schildbach.de", "time": "2007-05-23T04:31:06Z", "bug_id": 42494, "creation_time": "2007-05-23T04:31:06Z", "is_private": false}, {"count": 1, "tags": [], "creator": "remm@apache.org", "text": "Factories are indeed resolved once. You should reload the application.", "id": 103540, "time": "2007-05-23T05:14:57Z", "bug_id": 42494, "creation_time": "2007-05-23T05:14:57Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 42494, "text": "I repeat:\n\n\"Every time your web application calls lookup() on a context entry that is bound\nto this factory, the getObjectInstance() method is called, ...\" (quoted from\nJNDI resources howto, Adding custom resource factories)\n\nHow can I programmatically reload an application from the application itself, in\na J2EE-conformant manner?\n", "id": 103541, "time": "2007-05-23T05:47:00Z", "creator": "apache.org@schildbach.de", "creation_time": "2007-05-23T05:47:00Z", "is_private": false, "attachment_id": null}]