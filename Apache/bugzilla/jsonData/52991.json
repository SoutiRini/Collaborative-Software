[{"count": 0, "tags": [], "bug_id": 52991, "is_private": false, "text": "Caused by: org.apache.tika.io.TaggedIOException: Unexpected end of ZLIB input stream\n\tat org.apache.tika.io.TaggedInputStream.handleIOException(TaggedInputStream.java:133)\n\tat org.apache.tika.io.ProxyInputStream.read(ProxyInputStream.java:103)\n\tat org.apache.tika.io.ProxyInputStream.read(ProxyInputStream.java:99)\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\n\tat java.io.BufferedInputStream.read1(BufferedInputStream.java:275)\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:334)\n\tat java.io.FilterInputStream.read(FilterInputStream.java:107)\n\tat org.apache.tika.io.IOUtils.copyLarge(IOUtils.java:933)\n\tat org.apache.tika.io.IOUtils.copy(IOUtils.java:907)\n\tat org.apache.tika.io.TikaInputStream.getFile(TikaInputStream.java:536)\n\tat org.apache.tika.io.TikaInputStream.getFileChannel(TikaInputStream.java:564)\n\tat org.apache.tika.parser.microsoft.POIFSContainerDetector.getTopLevelNames(POIFSContainerDetector.java:335)\n\tat org.apache.tika.parser.microsoft.POIFSContainerDetector.detect(POIFSContainerDetector.java:152)\n\tat org.apache.tika.detect.CompositeDetector.detect(CompositeDetector.java:61)\n\tat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:113)\n\tat org.apache.tika.parser.DelegatingParser.parse(DelegatingParser.java:72)\n\tat org.apache.tika.extractor.ParsingEmbeddedDocumentExtractor.parseEmbedded(ParsingEmbeddedDocumentExtractor.java:102)\n\tat org.apache.tika.parser.microsoft.AbstractPOIFSExtractor.handleEmbeddedResource(AbstractPOIFSExtractor.java:68)\n\tat org.apache.tika.parser.microsoft.HSLFExtractor.handleSlideEmbeddedResources(HSLFExtractor.java:210)\n\tat org.apache.tika.parser.microsoft.HSLFExtractor.parse(HSLFExtractor.java:122)\n\tat org.apache.tika.parser.microsoft.OfficeParser.parse(OfficeParser.java:188)\n\tat org.apache.tika.parser.microsoft.OfficeParser.parse(OfficeParser.java:160)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242)\n\t... 5 more\nCaused by: java.io.EOFException: Unexpected end of ZLIB input stream\n\tat java.util.zip.InflaterInputStream.fill(InflaterInputStream.java:240)\n\tat java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158)\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\n\tat java.io.BufferedInputStream.read1(BufferedInputStream.java:275)\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:334)\n\tat org.apache.tika.io.ProxyInputStream.read(ProxyInputStream.java:99)\n\t... 26 more", "id": 155306, "time": "2012-03-27T08:27:31Z", "creator": "max.valjanski@gmail.com", "creation_time": "2012-03-27T08:27:31Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 52991, "is_private": false, "text": "fixed in r1305778", "id": 155307, "time": "2012-03-27T08:32:57Z", "creator": "max.valjanski@gmail.com", "creation_time": "2012-03-27T08:32:57Z", "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "eugen.mayer@kontextwork.de", "is_private": false, "id": 159004, "time": "2012-05-13T10:16:17Z", "bug_id": 52991, "creation_time": "2012-05-13T10:16:17Z", "tags": [], "text": "Verified on with the current trunk, revision 1337825, not fixed yet:\n\nThe source is a ppt, error is exactly the same:\nxception in thread \"main\" org.apache.tika.exception.TikaException: TIKA-198: Illegal IOException from org.apache.tika.parser.microsoft.OfficeParser@bd928a\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:248)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242)\n\tat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:120)\n\tat org.apache.tika.cli.TikaCLI$OutputType.process(TikaCLI.java:126)\n\tat org.apache.tika.cli.TikaCLI.process(TikaCLI.java:395)\n\tat org.apache.tika.cli.TikaCLI.main(TikaCLI.java:97)\nCaused by: org.apache.tika.io.TaggedIOException: Unexpected end of ZLIB input stream\n\tat org.apache.tika.io.TaggedInputStream.handleIOException(TaggedInputStream.java:133)\n\tat org.apache.tika.io.ProxyInputStream.read(ProxyInputStream.java:103)\n\tat org.apache.tika.io.ProxyInputStream.read(ProxyInputStream.java:99)\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:218)\n\tat java.io.BufferedInputStream.read1(BufferedInputStream.java:258)\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:317)\n\tat java.io.FilterInputStream.read(FilterInputStream.java:90)\n\tat org.apache.tika.io.IOUtils.copyLarge(IOUtils.java:933)\n\tat org.apache.tika.io.IOUtils.copy(IOUtils.java:907)\n\tat org.apache.tika.io.TikaInputStream.getFile(TikaInputStream.java:536)\n\tat org.apache.tika.io.TikaInputStream.getFileChannel(TikaInputStream.java:564)\n\tat org.apache.tika.parser.microsoft.POIFSContainerDetector.getTopLevelNames(POIFSContainerDetector.java:335)\n\tat org.apache.tika.parser.microsoft.POIFSContainerDetector.detect(POIFSContainerDetector.java:152)\n\tat org.apache.tika.detect.CompositeDetector.detect(CompositeDetector.java:61)\n\tat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:113)\n\tat org.apache.tika.parser.DelegatingParser.parse(DelegatingParser.java:72)\n\tat org.apache.tika.extractor.ParsingEmbeddedDocumentExtractor.parseEmbedded(ParsingEmbeddedDocumentExtractor.java:102)\n\tat org.apache.tika.parser.microsoft.AbstractPOIFSExtractor.handleEmbeddedResource(AbstractPOIFSExtractor.java:68)\n\tat org.apache.tika.parser.microsoft.HSLFExtractor.handleSlideEmbeddedResources(HSLFExtractor.java:236)\n\tat org.apache.tika.parser.microsoft.HSLFExtractor.parse(HSLFExtractor.java:117)\n\tat org.apache.tika.parser.microsoft.OfficeParser.parse(OfficeParser.java:188)\n\tat org.apache.tika.parser.microsoft.OfficeParser.parse(OfficeParser.java:160)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242)\n\t... 5 more\nCaused by: java.io.EOFException: Unexpected end of ZLIB input stream\n\tat java.util.zip.InflaterInputStream.fill(InflaterInputStream.java:223)\n\tat java.util.zip.InflaterInputStream.read(InflaterInputStream.java:141)\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:218)\n\tat java.io.BufferedInputStream.read1(BufferedInputStream.java:258)\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:317)\n\tat org.apache.tika.io.ProxyInputStream.read(ProxyInputStream.java:99)\n\t... 26 more\n\n\n---------\nDebian Squeeze with tika from source ( also tried 1.0 and 1.1 )"}, {"count": 3, "tags": [], "text": "Just researched a bit on the net, several people running into this because of \"broken archives\". I verified that i can unzip the ppt without issues using unzip.\n\n> unzip <file.ppt>\nArchive:  <file.ppt> \nWarning[<file.ppt>]: 1865926 extra bytes at beginning or within zipfile\n  (attempting to process anyway)\n  inflating: [Content_Types].xml     \n  inflating: _rels/.rels             \n  inflating: drs/picturexml.xml      \n  inflating: drs/_rels/picturexml.xml.rels  \n  inflating: drs/downrev.xml         \n extracting: drs/media/image1.png    \n\nIam not sure, if the warning is one of those issues or related, just wanted to provide the information i got. Bascially this happens with a lot of ppts here..we are using tika+solr to index attachments", "is_private": false, "id": 159005, "creator": "eugen.mayer@kontextwork.de", "time": "2012-05-13T10:24:30Z", "bug_id": 52991, "creation_time": "2012-05-13T10:24:30Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 52991, "text": "Are you sure that yours Tika is build with latest version of POI? Stacktrace looks like it was produced by build without my fix.", "id": 159024, "time": "2012-05-14T07:56:06Z", "creator": "max.valjanski@gmail.com", "creation_time": "2012-05-14T07:56:06Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 52991, "text": "i used: \nsvn checkout https://svn.apache.org/repos/asf/tika/trunk tika.trunk\n\nthen \"mvn install\". Not sure about POI, is that an extra lib? Does maven not fetch it properly / is it not included into the source?\n\nShould i build it again and provide you the logs on a pastebin?", "id": 159028, "time": "2012-05-14T09:00:06Z", "creator": "eugen.mayer@kontextwork.de", "creation_time": "2012-05-14T09:00:06Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 52991, "text": "This is bugzilla of POI project, not Tika :-) \n\nTika uses POI as dependency in tika-parsers module. Bug was fixed in unreleased version of POI, so you need to build your own version (or wait for next release).\n\nIf you want to build Tika with POI, then:\n\n1) Build POI\n\n2) Install POI artifacts to you local maven repository\n\n3) Update POI version in tika-parsers/pom.xml\n\n4) Build Tika", "id": 159029, "time": "2012-05-14T09:21:09Z", "creator": "max.valjanski@gmail.com", "creation_time": "2012-05-14T09:21:09Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 52991, "attachment_id": null, "is_private": false, "id": 159030, "time": "2012-05-14T09:23:04Z", "creator": "eugen.mayer@kontextwork.de", "creation_time": "2012-05-14T09:23:04Z", "text": "oh holy, iam sorry! Totally got confused here, due to rather \"general\" bugtracking system.\n\nWill do what you suggested, thank you a lot!"}, {"count": 8, "attachment_id": null, "bug_id": 52991, "is_private": false, "id": 180066, "time": "2014-12-29T22:32:11Z", "creator": "kiwiwings@apache.org", "creation_time": "2014-12-29T22:32:11Z", "tags": [], "text": "I assume this is fixed, when you reopen it, please attach a test file."}]