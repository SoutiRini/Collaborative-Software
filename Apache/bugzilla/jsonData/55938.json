[{"count": 0, "tags": [], "text": "FYI, running clang-analyzer's scan-build on tcnative 1.1.29 flags some issues:\nhttp://scop.fedorapeople.org/scan-build/tomcat-native-1.1.29/", "is_private": false, "id": 171953, "creator": "ville.skytta@iki.fi", "time": "2013-12-29T12:21:31Z", "bug_id": 55938, "creation_time": "2013-12-29T12:21:31Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 55938, "is_private": false, "id": 171956, "time": "2013-12-30T02:57:53Z", "creator": "chris@christopherschultz.net", "creation_time": "2013-12-30T02:57:53Z", "tags": [], "text": "Some comments about the report:\n\n1. The 2 \"null dereference\" items are from functions  that AFAICT are never used (jbs_new and jbs_read). Normally the code identified by the compiler here would be considered a big problem (they are obvious logic errors) but it's not really a big deal given the fact that these functions are not used.\n\n2. The dead assignments should probably be investigated. I didn't look at all of them, but for example, network.c:722 has an obvious logic error in that GetByteArrayElements gets called twice under certain circumstances when a single call appears to be appropriate.\n\n3. The 'nonnull' arguments should also b e investigated.\n\nI suspect a lot of the cruft found by the compiler, here, can be completely removed from the code."}, {"count": 2, "attachment_id": null, "bug_id": 55938, "is_private": false, "id": 172867, "time": "2014-02-02T19:12:00Z", "creator": "ville.skytta@iki.fi", "creation_time": "2014-02-02T19:12:00Z", "tags": [], "text": "Updated report done with clang 3.4 is at the same location."}, {"count": 3, "tags": [], "text": "Thank you.\n\nAn obvious \"Dead assignment\" issue in ssl.c fixed with r1607271.\n\nTwo \"Dereference of null pointer\" issues in ssl.c fixed with r1607278.\n\nA \"Dead assignment\" issue in Socket.sendto() (network.c) fixed with r1607296.\n\nThe fixes will be in TCNative 1.1.31\n\n\nTwo \"Dead assignment\" bugs in File.writeFull(), File.write() (file.c):\n- I think the fix should be on the Java side to remove \"-1\" as allowed value for size in Javadoc for these methods, and also in File.read() and others.\n- The unused GetArrayLength() calls can be removed from C code.\n\nMotivation:\n1). The code does not work, and nobody complained.\n2). It is easy to measure array length in Java. There is no need for this feature.\n3). While is is easy to fix the assignment (it should assign to \"nbytes\" variable), the code is wrong and dangerous. It shall subtract \"offset\" from the array length, as \"offset\" can be non-zero.\n\n\n\"Dead assignment\" in SSL_callback_SSL_verify (sslutils.c) is some TODO code. No issue.\n\n\n\"Argument with 'nonnull' attribute passed null\" issues in Pool.dataGet(), Pool.dataSet() (pool.c) shall be taken care in Java code by never passing null as the value of \"key\". No issues here.", "attachment_id": null, "bug_id": 55938, "id": 176147, "time": "2014-07-02T09:08:22Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2014-07-02T09:08:22Z", "is_private": false}, {"count": 4, "tags": [], "text": "Updated report done with clang 3.4.1 found no new issues, it's at\nhttp://scop.fedorapeople.org/scan-build/tomcat-native-1.1.31/", "attachment_id": null, "bug_id": 55938, "id": 176357, "time": "2014-07-12T09:36:00Z", "creator": "ville.skytta@iki.fi", "creation_time": "2014-07-12T09:36:00Z", "is_private": false}, {"count": 5, "tags": [], "text": "Fixed for 1.2.11", "is_private": false, "bug_id": 55938, "id": 196608, "time": "2017-01-31T15:15:54Z", "creator": "markt@apache.org", "creation_time": "2017-01-31T15:15:54Z", "attachment_id": null}]