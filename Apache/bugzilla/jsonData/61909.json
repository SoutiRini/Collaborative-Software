[{"attachment_id": null, "tags": [], "bug_id": 61909, "is_private": false, "count": 0, "id": 202793, "time": "2017-12-15T12:29:53Z", "creator": "merijnvdk@apache.org", "creation_time": "2017-12-15T12:29:53Z", "text": "When a process sends large amounts of errorlog (stderr) to mod_fcgid only the first APR_BUCKET_BUFF_SIZE (8000 bytes) get written to the log.\n\nFor me this happens when running php with mod_fcgid, sometimes i log stacktraces to the error_log and this can easily exceed 8k when a few notices/warnimgs/errors occur. So I am missing debug information.\n\nIt is pretty easy to reproduce by sending a large amount of data to stderr in the handling process."}, {"count": 1, "tags": [], "bug_id": 61909, "attachment_id": 35615, "text": "Created attachment 35615\nfix to write the entire stderr to the logfile\n\nfcgid_bucket.c: changed the FCGI_STDERR handling so it keeps reading STDERR data in multiple batches if the internal buffersize of APR_BUCKET_BUFF_SIZE (8000 bytes) is exceeded. It tries to prevent chopping up lines in stderr so there are no broken up lines in the error log. \n\nWe are using this in production for 2 months now.", "id": 202794, "time": "2017-12-15T12:35:43Z", "creator": "merijnvdk@apache.org", "creation_time": "2017-12-15T12:35:43Z", "is_private": false}]