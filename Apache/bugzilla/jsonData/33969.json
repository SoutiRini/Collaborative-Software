[{"count": 0, "tags": [], "bug_id": 33969, "text": "The tempfile task does not create the temporary file, which could create a race\ncondition where another process creates a file with the same name after the\ntempfile task completes, only to have it overwritten by ant.", "id": 72235, "time": "2005-03-11T20:57:02Z", "creator": "futrelle@ncsa.uiuc.edu", "creation_time": "2005-03-11T20:57:02Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "mbenson@apache.org", "attachment_id": null, "is_private": false, "id": 72236, "time": "2005-03-11T21:17:14Z", "bug_id": 33969, "creation_time": "2005-03-11T21:17:14Z", "text": "Have you actually encountered a situation that exploits this (documented) aspect\nof the tempfile task?"}, {"count": 2, "tags": [], "text": "No--this would be a very unlikely event. But the probability is nonzero and I\ncan't think of a way to get it down to zero without an out-of-band arrangement\nbetween ant and other processes.", "is_private": false, "id": 72237, "creator": "futrelle@ncsa.uiuc.edu", "time": "2005-03-11T21:25:50Z", "bug_id": 33969, "creation_time": "2005-03-11T21:25:50Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 33969, "is_private": false, "count": 3, "id": 72238, "time": "2005-03-11T21:38:50Z", "creator": "mbenson@apache.org", "creation_time": "2005-03-11T21:38:50Z", "text": "This behavior is documented and by design, because we want to be able\n(potentially) to determine a temporary filename that we can then pass to another\nprocess that expects the file not to exist.  If we created it, we would defeat\nour own purpose.  If you need the behavior of File.createTempFile() you could\nuse a script or a custom task.  Realize also that the fact that you can specify\nthe prefix and suffix of your temp filename makes the possibility of another\nprocess attempting to create the same tempfile at the same time infinitesimally\nremote.  My inclination is to mark this WONTFIX.\n\nThanks,\nMatt"}, {"count": 4, "tags": [], "creator": "stevel@apache.org", "attachment_id": null, "id": 72260, "time": "2005-03-12T01:50:49Z", "bug_id": 33969, "creation_time": "2005-03-12T01:50:49Z", "is_private": false, "text": "i think this is a legacy of tempfile being java1.1 compatible.\nmaybe we could use the File. operations  now"}, {"count": 5, "tags": [], "text": "The tempfile task has been extended to create the file now, if explicitly indicated to do so. (backward compatible)\nAnt internally the temp file is now always created by the java rt, unless a different method is needed. (NOT backward compatible)\n", "attachment_id": null, "bug_id": 33969, "id": 107986, "time": "2007-09-10T12:22:58Z", "creator": "jkf@apache.org", "creation_time": "2007-09-10T12:22:58Z", "is_private": false}]