[{"count": 0, "tags": [], "text": "Hi,\nI am using RedHa Linux 2.4.21-20.0.1.ELsmp #1\nand using Apache 2.046 which comes bundled with this red Hat.\n\nMy apache processess are hanging at random.\nWhen I do strace -p pid I am getting following :\n\nProcess 11819 attached - interrupt to quit\nfutex(0x7d41bf8, FUTEX_WAIT, 11864, NULL <unfinished ...>\n\n\nSo apache is not responding to any requests at all at this moment.\n\n\nI am using worker MPM in apache.\n\n\nPLease help me out\n\nThanks\n\nDeepak", "attachment_id": null, "bug_id": 33817, "id": 71730, "time": "2005-03-02T21:56:32Z", "creator": "deepak.dewangan@gmail.com", "creation_time": "2005-03-02T21:56:32Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 33817, "is_private": false, "text": "It's preferable to file bugs in Red Hat packages in\nhttps://bugzilla.redhat.com/bugzilla/ unless you can reproduce them with the\nvanilla sources.\n\nTo diagnose further, attach to the hung process with:\n\n# gdb /usr/sbin/httpd.worker <pid>\n\nand then enter \n\n\"thread all apply bt\"\n\nand attach the resultant output to the report. \n", "id": 71732, "time": "2005-03-02T22:02:59Z", "creator": "jorton@redhat.com", "creation_time": "2005-03-02T22:02:59Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "deepak.dewangan@gmail.com", "is_private": false, "count": 2, "id": 71737, "time": "2005-03-02T23:10:29Z", "bug_id": 33817, "creation_time": "2005-03-02T23:10:29Z", "text": "HI\nit looks like I dont have GDB in my linux box.\nInfact i am not the linux admin so I cannt install it even if i want to.\n\nThanks\nDeepak\n"}, {"count": 3, "tags": [], "creator": "deepak.dewangan@gmail.com", "attachment_id": null, "id": 71738, "time": "2005-03-02T23:13:05Z", "bug_id": 33817, "creation_time": "2005-03-02T23:13:05Z", "is_private": false, "text": "Hi,\nIf you look into Bugzilla Bug 98979 then probably this is the same bug.\nAm i getting it right?\nThanks\nDeepak"}, {"count": 4, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "id": 71764, "time": "2005-03-03T13:04:16Z", "bug_id": 33817, "creation_time": "2005-03-03T13:04:16Z", "is_private": false, "text": "You need to get a backtrace of every thread.  If you're on modern Linux, it will\ncome with a gdb that handles this command:\n\nthread apply all backtrace\n\nSo do something like this:\n\n# gdb /path/to/httpd 9999        (9999 is child pid)\n(gdb) thread apply all backtrace\n(gdb) detach\n(gdb) quit\n\nand post the output here.\n\nIf you are generating dynamic content, in all likelihood that is getting stuck\nsomewhere (whether in a PHP script or a servlet on an application server\nsomewhere).  But backtraces should help narrow down the focus."}, {"count": 5, "tags": [], "bug_id": 33817, "attachment_id": null, "text": ">I am using RedHa Linux 2.4.21-20.0.1.ELsmp #1\n>and using Apache 2.046 which comes bundled with this red Hat.\n\nstrictly speaking, that is a web server from another vendor which isn't\nsupported here...  if you can get backtraces and we can figure out something\nfrom it, then great; otherwise, if you suspect there is a web server defect then\nyou ought to move to Apache 2.0.53, or else work with the vendor on this problem", "id": 71765, "time": "2005-03-03T13:06:08Z", "creator": "trawick@apache.org", "creation_time": "2005-03-03T13:06:08Z", "is_private": false}, {"count": 6, "text": "HI\nI am in the process of getting gdb installed and getting you more info about \nthe processes.\nMeanwhile,can you please look into the Bugzilla Bug 98979 which has the same \nproblem but with different versions. I just want your offhand opinion regarding \nthis.\n\n\nAlso, the parent apache process which is in httpd.pid file is no more living\n(already killed for no reasons) so when I try to stop the apache using \napachectl -k stop command it is complaining that it can nto stop as no pid \nrunning.\n\n\nI would get back to you guys with gdb information.\n\n\n\nThanks\n\nDeepak\n\n\n\n\n\n", "bug_id": 33817, "is_private": false, "id": 71789, "time": "2005-03-03T17:27:13Z", "creator": "deepak.dewangan@gmail.com", "creation_time": "2005-03-03T17:27:13Z", "tags": [], "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "deepak.dewangan@gmail.com", "is_private": false, "count": 7, "id": 71791, "time": "2005-03-03T17:53:52Z", "bug_id": 33817, "creation_time": "2005-03-03T17:53:52Z", "text": "HI\nIf you go to this link \nhttps://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=101062\n\nThis has got the same problem but with different application (RPM).\n\nThanks\n\nDeepak\n\n"}, {"count": 8, "tags": [], "bug_id": 33817, "is_private": false, "id": 71794, "creation_time": "2005-03-03T20:26:35Z", "time": "2005-03-03T20:26:35Z", "creator": "deepak.dewangan@gmail.com", "text": "Created attachment 14398\napache processs gdb output\n\nHI\nPlz find the gdb output\nThanks\n\nDeepak", "attachment_id": 14398}, {"count": 9, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "#0  0x005568dc in __nanosleep_nocancel () from /lib/tls/libc.so.6\\par\n#1  0x005566ff in sleep () from /lib/tls/libc.so.6\\par\n#2  0x0100339e in timeout_function (thd=0x8d763d0, data=0x0)\\par\n    at ap_proxy.cpp:3210\\par\n\nthat looks suspect; what module is that?  Google says it might be BEA WebLogic?\n It looks like the backtraces are missing for half the threads listed.  I\nsuggest trying prefork instead of worker, taking this up with Red Hat support,\nfiling a bug at https://bugzilla.redhat.com/bugzilla/, or try building 2.0.53\nfrom source.", "id": 71795, "time": "2005-03-03T20:36:54Z", "bug_id": 33817, "creation_time": "2005-03-03T20:36:54Z", "is_private": false}, {"count": 10, "tags": [], "text": "HI\nI am using Bea WebLogic Proxy Plug-in for Apache.\nSo apache is forwarding all the http requests coming to it to weblogic app \nserver using proxy plug-in supplied by weblogic for apache.\n\nThanks\n\ndeepak\n\n", "attachment_id": null, "bug_id": 33817, "id": 71797, "time": "2005-03-03T21:40:52Z", "creator": "deepak.dewangan@gmail.com", "creation_time": "2005-03-03T21:40:52Z", "is_private": false}, {"count": 11, "tags": [], "creator": "deepak.dewangan@gmail.com", "text": "HI Guys,\nPlz help me!\n\nDeepak\n", "id": 71848, "attachment_id": null, "bug_id": 33817, "creation_time": "2005-03-04T22:58:08Z", "time": "2005-03-04T22:58:08Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "trawick@apache.org", "is_private": false, "count": 12, "id": 71855, "time": "2005-03-04T23:41:57Z", "bug_id": 33817, "creation_time": "2005-03-04T23:41:57Z", "text": "See last post by Joe Orton.\n"}]