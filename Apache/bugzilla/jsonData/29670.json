[{"count": 0, "text": "FD_SETSIZE has to defined first in ./os/tpf/os.h.\n\nSee patch:\n\nIndex: httpd-2.X//os/tpf/os.h\n===================================================================\nRCS file: /opt/projects/CVSROOT/navajo/src/org/apache/httpd-2.X/os/tpf/os.h,v\nretrieving revision 1.3\ndiff -c -r1.3 os.h\n*** httpd-2.X//os/tpf/os.h  2004/03/19 16:08:17 1.3\n--- httpd-2.X//os/tpf/os.h  2004/06/18 12:17:46\n***************\n*** 28,39 ****\n   * and prototypes of OS specific functions defined in os.c or os-inline.c\n   */\n  \n  #include \"apr.h\"\n  #include \"ap_config.h\"\n  #include <strings.h>\n  #ifndef __strings_h\n  \n- #define FD_SETSIZE    2048 \n   \n  typedef long fd_mask;\n  \n--- 28,40 ----\n   * and prototypes of OS specific functions defined in os.c or os-inline.c\n   */\n  \n+ #define FD_SETSIZE    2048 \n+ \n  #include \"apr.h\"\n  #include \"ap_config.h\"\n  #include <strings.h>\n  #ifndef __strings_h\n  \n   \n  typedef long fd_mask;", "bug_id": 29670, "attachment_id": null, "id": 59476, "time": "2004-06-18T12:36:17Z", "creator": "hartmut.keil@gmx.ch", "creation_time": "2004-06-18T12:36:17Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 29670, "text": "It looks to me that this code is defining the select() stuff if compiling on\nsome level of TPF that doesn't define it already, and that the TPF level is\nchecked via including <strings.h> then seeing if __strings_h got defined.  This\nisn't the normal\ndefine-FD_SETSIZE-before-system-headers-if-you-want-it-larger-than-default\nidiom.  IOW, the code breaks if we apply the patch you suggested.\n\nThe code was added to Apache 1.3 back in 1999 but with no commit message other\nthan \"Add support for standalone mode in TPF\".\n\nTo my knowledge, nobody has used Apache 2.0 on TPF, but I can't confirm.\n\nThanks for using Apache!\n", "id": 59697, "time": "2004-06-21T23:30:24Z", "creator": "trawick@apache.org", "creation_time": "2004-06-21T23:30:24Z", "is_private": false, "attachment_id": null}]