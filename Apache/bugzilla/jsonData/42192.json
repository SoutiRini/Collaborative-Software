[{"count": 0, "tags": [], "bug_id": 42192, "is_private": false, "id": 102047, "attachment_id": null, "creator": "jakob.goldbach@gmail.com", "creation_time": "2007-04-23T00:21:31Z", "time": "2007-04-23T00:21:31Z", "text": "Implementing ap_document_root(r) as a hook is useful when modules does path\ntranslation (think vhost_alias) AND wants to get the right DOCUMENT_ROOT env.\nvariable (as set by ap_add_common_vars(r)).\n\nThe patch also changes ap_core_translate to use ap_document_root(r)\ninstead of conf->ap_document_root.  This way, modules that just need\nto point to a different docroot won't have to implement a translate\nhook by appending r->uri til r->filename, but just rely on\nap_document_root.\n\nComments ?"}, {"count": 1, "tags": [], "creator": "jakob.goldbach@gmail.com", "is_private": false, "text": "Created attachment 20014\nPatch for implementing ap_document_root as a hook", "id": 102048, "time": "2007-04-23T00:22:36Z", "bug_id": 42192, "creation_time": "2007-04-23T00:22:36Z", "attachment_id": 20014}, {"count": 2, "attachment_id": null, "creator": "nick@webthing.com", "is_private": false, "id": 102053, "time": "2007-04-23T01:38:29Z", "bug_id": 42192, "creation_time": "2007-04-23T01:38:29Z", "tags": [], "text": "This patch changes the semantics of an existing API, so it'll randomly break\nthings.  That's a no-no."}, {"count": 3, "tags": [], "bug_id": 42192, "attachment_id": null, "is_private": false, "id": 102100, "time": "2007-04-23T05:39:15Z", "creator": "wrowe@apache.org", "creation_time": "2007-04-23T05:39:15Z", "text": "-1 here.\n\nIt already exists!  It's called the map_to_storage hook (and if you note,\nthe document root handler is run-very-last).\n\n"}]