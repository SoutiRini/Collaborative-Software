[{"count": 0, "attachment_id": null, "bug_id": 42778, "text": "Within the following attached script, HTTP samplers 2 and 4 are reliably\nskipped, when they should be being executed. I came across this in nightly build\nr541884, but it also happens in r550144.\n\nI spent a couple of days trying to track this down, and isolated it to something\nstrange within the call to controller.next() in JMeterThread:run() when it\nleaves the IfController and starts sniffing the SimpleController after it: the\nsequence manages to set the TransactionSampler to be its own subsampler, instead\nof the HTTPSampler it initially gets hold of.\n\nI have the vague idea that it's a flaw around nextIsAController, but I don't\nunderstand what the various methods think they're supposed to be doing. (I\ncouldn't find any useful documentation; if there is some, I'd be interested to\nknow where it is, for future reference.)", "id": 104894, "time": "2007-06-29T03:40:48Z", "creator": "tim-asf@baverstock.org.uk", "creation_time": "2007-06-29T03:40:48Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 42778, "text": "Created attachment 20419\nA simple script whose second and fourth HTTP samplers are unexpectedly skipped", "id": 104895, "time": "2007-06-29T03:43:22Z", "creator": "tim-asf@baverstock.org.uk", "creation_time": "2007-06-29T03:43:22Z", "is_private": false, "attachment_id": 20419}, {"count": 2, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 104896, "time": "2007-06-29T04:45:05Z", "bug_id": 42778, "creation_time": "2007-06-29T04:45:05Z", "is_private": false, "text": "There are some errors reported in the log file; this is due to the If \nController condition which is incorrect. Disabling the If Controller (which \ndoes nothing anyway) allows HTTP-2 to work.\n\nHTTP-4 still fails to run - there is another error in the log file which I \nwill investigate."}, {"count": 3, "tags": [], "bug_id": 42778, "is_private": false, "text": "Created attachment 20420\nTransaction controller with and without simple controller\n\nI've attached a simpler test case which shows the problem - the nested Simple\nController seems to be causing problems for the Transaction Controller.", "id": 104897, "time": "2007-06-29T04:59:50Z", "creator": "sebb@apache.org", "creation_time": "2007-06-29T04:59:50Z", "attachment_id": 20420}, {"count": 4, "tags": [], "creator": "alf@i100.no", "attachment_id": 20422, "id": 104937, "time": "2007-06-30T02:40:59Z", "bug_id": 42778, "creation_time": "2007-06-30T02:40:59Z", "is_private": false, "text": "Created attachment 20422\nSuggested patch\n\nThanks for finding and reporting this bug.\n\nThis patch solves the problem for both the two attached test scripts.\n\nThe problem was that the TransactionController did not return the next real\nsampler or controller, but instead returned the TransactionSampler, which was\nincorrect."}, {"text": "Thanks, that works fine.\n\nPatch has been committed in r552158.", "tags": [], "creator": "sebb@apache.org", "is_private": false, "count": 5, "id": 104947, "time": "2007-06-30T08:16:19Z", "bug_id": 42778, "creation_time": "2007-06-30T08:16:19Z", "attachment_id": null}, {"text": "(In reply to comment #0)\n> I have the vague idea that it's a flaw around nextIsAController, but I don't\n> understand what the various methods think they're supposed to be doing. (I\n> couldn't find any useful documentation; if there is some, I'd be interested \nto\n> know where it is, for future reference.)\n\nAFAIK, there's only the code.\n\nIt could do with more Javadoc, and an explanatory package.html, as it's pretty \ncomplicated.\n", "tags": [], "creator": "sebb@apache.org", "is_private": false, "count": 6, "id": 104948, "time": "2007-06-30T08:20:50Z", "bug_id": 42778, "creation_time": "2007-06-30T08:20:50Z", "attachment_id": null}]