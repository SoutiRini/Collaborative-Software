[{"count": 0, "tags": [], "bug_id": 30816, "text": "Using the latest code on the main branch as of 24 Aug ...\n\nThe code attempts to cast to a Body object but also needs to deal with a \nBlockLayoutManager (and maybe other types of layout manager???)\n\nCode was modified from\n   while ((curLM = (Body)getChildLM()) == null) {\n\nto\n\n   while (true) {\n            Object o = getChildLM();\n            System.out.println(\"The object is a \" + (o == null? \" null \" : \no.getClass().getName()));\n            if ((curLM = (Body)o) == null)\n            \tbreak;\n      \nto produce the following output...\n\nThe object is a org.apache.fop.layoutmgr.table.Body\nThe object is a  null \nThe object is a org.apache.fop.layoutmgr.table.Body\nThe object is a org.apache.fop.layoutmgr.table.Body\nThe object is a  null \nThe object is a org.apache.fop.layoutmgr.table.Body\nThe object is a  null \nThe object is a  null \nThe object is a org.apache.fop.layoutmgr.BlockLayoutManager\n\nThe actual exception being produced is as follows:\n\nCaused by: java.lang.ClassCastException\n\tat org.apache.fop.layoutmgr.table.TableLayoutManager.getNextBreakPoss\n(TableLayoutManager.java:190)\n\tat org.apache.fop.layoutmgr.BlockLayoutManager.getNextBreakPoss\n(BlockLayoutManager.java:204)\n\tat org.apache.fop.layoutmgr.FlowLayoutManager.getNextBreakPoss\n(FlowLayoutManager.java:81)\n\tat org.apache.fop.layoutmgr.PageLayoutManager.getNextBreakPoss\n(PageLayoutManager.java:231)\n\tat org.apache.fop.layoutmgr.PageLayoutManager.doLayout\n(PageLayoutManager.java:195)\n\tat org.apache.fop.layoutmgr.PageLayoutManager.run\n(PageLayoutManager.java:174)\n\tat org.apache.fop.area.AreaTreeHandler.formatPageSequence\n(AreaTreeHandler.java:412)\n\tat org.apache.fop.area.AreaTreeHandler.endPageSequence\n(AreaTreeHandler.java:370)\n\tat org.apache.fop.fo.pagination.PageSequence.endOfNode\n(PageSequence.java:175)\n\tat org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:290)\n\tat org.apache.xalan.transformer.ResultTreeHandler.endElement\n(ResultTreeHandler.java:309)\n\tat org.apache.xalan.templates.ElemLiteralResult.execute\n(ElemLiteralResult.java:716)\n\tat org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes\n(ElemApplyTemplates.java:425)\n\tat org.apache.xalan.templates.ElemApplyTemplates.execute\n(ElemApplyTemplates.java:216)\n\tat org.apache.xalan.transformer.TransformerImpl.executeChildTemplates\n(TransformerImpl.java:2339)", "id": 62371, "time": "2004-08-24T05:27:27Z", "creator": "arthur@istnetworks.com", "creation_time": "2004-08-24T05:27:27Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 30816, "text": "Arthur,\n\nThanks for reporting this problem. Can you attach the fo file that generates the\nerror?\n\nSimon", "id": 62423, "time": "2004-08-24T19:09:44Z", "creator": "spepping@apache.org", "creation_time": "2004-08-24T19:09:44Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 30816, "text": "I suspect the problem is caused by a stray block element as child of a fo:table.\nThe table layout manager is *not* supposed to have child layout managers other\nthan table body layout managers.", "id": 62425, "time": "2004-08-24T19:30:11Z", "creator": "j3322ptm@yahoo.de", "creation_time": "2004-08-24T19:30:11Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 30816, "text": "Created attachment 12519\nDocument causing the problem", "id": 62443, "time": "2004-08-25T02:08:59Z", "creator": "arthur@istnetworks.com", "creation_time": "2004-08-25T02:08:59Z", "is_private": false, "attachment_id": 12519}, {"count": 4, "tags": [], "bug_id": 30816, "text": "Arthur,\n\nCan you give us a minimal *FO* document, with no XSLT transformations necessary,\nthat will reproduce this problem?   Use Xalan if need be.\n\nThanks,\nGlen", "id": 62445, "time": "2004-08-25T02:53:08Z", "creator": "glenmazza@yahoo.com", "creation_time": "2004-08-25T02:53:08Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "spepping@apache.org", "text": "Indeed, the problem is caused by a stray block element as child of a fo:table.\nSee the block with the leader in the last table, between the table-header and\nthe table-body.\n\nSimon\n", "id": 62503, "time": "2004-08-25T19:09:03Z", "bug_id": 30816, "creation_time": "2004-08-25T19:09:03Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 30816, "text": "batch transition to closed remaining pre-FOP1.0 resolved bugs", "id": 156936, "time": "2012-04-01T13:55:12Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T13:55:12Z", "is_private": false, "attachment_id": null}]