[{"count": 0, "tags": [], "bug_id": 11191, "attachment_id": null, "text": "I did the following to create a DataSource as a JDNI resource .\na. Created a new dataSource using Admin Tool specifying url , \nDriverName,username and password\nb. Saved the changes in the server.xml \nc. Added a ResourceLink element to link the global resource to the context of \nthe webapp.\nOn running the app,while connecting to the database I get an error :\n- javax.servlet.jsp.JspException: Unable to get connection, DataSource \ninvalid: \"Cannot load JDBC driver class 'null'\" \n\nIt appears as if there is a problem reading the server.xml as the \ndriverClassName and URL ,username and password are clearly mentioned.\nI am attaching the sample server.xml file also.", "id": 20226, "time": "2002-07-26T01:59:35Z", "creator": "prasad.subramanian@sun.com", "creation_time": "2002-07-26T01:59:35Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 11191, "attachment_id": 2492, "id": 20227, "time": "2002-07-26T02:00:17Z", "creator": "prasad.subramanian@sun.com", "creation_time": "2002-07-26T02:00:17Z", "is_private": false, "text": "Created attachment 2492\nServer.xml file"}, {"count": 2, "tags": [], "bug_id": 11191, "attachment_id": null, "is_private": false, "id": 21072, "time": "2002-08-15T08:02:29Z", "creator": "remm@apache.org", "creation_time": "2002-08-15T08:02:29Z", "text": "I tried this many times with many different versions of Tomcat 4.1.x, and I \nthink it does work. I have no means to test your particular configuration, but \nI'll have to assume it's a user error of some sort."}, {"count": 3, "tags": [], "bug_id": 11191, "attachment_id": null, "id": 21418, "time": "2002-08-21T01:50:46Z", "creator": "stephanie.bodoff@sun.com", "creation_time": "2002-08-21T01:50:46Z", "is_private": false, "text": "I copied the PointBase database client library to common/lib. \n\nI created a data source in Tomcat admintool as follows:\n\nSelect the Data Sources entry under Resources.\nSelect Available ActionsCreate New Data Source.\nEnter pointbase in the JNDI Name field.\nEnter jdbc:pointbase:server://localhost/sample in the Data Source URL field.\nEnter com.pointbase.jdbc.jdbcUniversalDriver in the JDBC Driver Class field.\nEnter public in the User Name and Password fields.\nClick the Save button.\nClick the Commit button.\n\nThen I restarted Tomcat. \n\nTomcat 4.1.7 and 5.0 give the error below, and applications can't get \nto the database using the JNDI name.\n\nUsing CATALINA_HOME:   /home/sbodoff/installs/tomcat5.0\nUsing CATALINA_TMPDIR: /home/sbodoff/installs/tomcat5.0/temp\nUsing JAVA_HOME:       /home/sbodoff/installs/j2sdk1.4.0_01\n> > Aug 12, 2002 11:31:37 AM org.apache.commons.modeler.Registry loadRegistry\n> > INFO: Loading registry information\n> > Aug 12, 2002 11:31:38 AM org.apache.commons.modeler.Registry getRegistry\n> > INFO: Creating new Registry instance\n> > Aug 12, 2002 11:31:40 AM org.apache.commons.modeler.Registry getServer\n> > INFO: Creating MBeanServer\n> > Aug 12, 2002 11:31:52 AM org.apache.coyote.http11.Http11Protocol init\n> > INFO: Initializing Coyote HTTP/1.1 on port 8080\n> > Aug 12, 2002 11:31:52 AM org.apache.jk.server.JkMain init\n> > INFO: Starting Jk2, base dir= /home/sbodoff/installs/tomcat5.0\n> > conf=/home/sbodoff/installs/tomcat5.0/conf/jk2.properties\n> > Aug 12, 2002 11:31:53 AM org.apache.jk.common.ChannelSocket init\n> > INFO: JK: listening on tcp port 8019\n> > Aug 12, 2002 11:31:53 AM org.apache.jk.server.JkMain start\n> > INFO: APR not loaded, disabling jni components: java.io.IOException: no\njkjni in\n> > java.library.path\n> > Aug 12, 2002 11:31:53 AM org.apache.jk.server.JkMain start\n> > INFO: Jk running ID=0 ... init time=522 ms\n> > GlobalResourcesLifecycleListener: Exception processing Global JNDI Resources\n> > javax.naming.NamingException: Cannot create resource instance\n> >         at\n> >\norg.apache.naming.factory.ResourceFactory.getObjectInstance(ResourceFactory.java:189)\n> >         at\njavax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:301)\n> >         at org.apache.naming.NamingContext.lookup(NamingContext.java:834)\n> >         at org.apache.naming.NamingContext.lookup(NamingContext.java:194)\n> >         at\n> >\norg.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans(GlobalResourcesLifecycleListener.java:205)\n> >         at\n> >\norg.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans(GlobalResourcesLifecycleListener.java:176)\n> >         at\n> >\norg.apache.catalina.mbeans.GlobalResourcesLifecycleListener.lifecycleEvent(GlobalResourcesLifecycleListener.java:147)\n> >         at\n> >\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:166)\n> >         at\norg.apache.catalina.core.StandardServer.start(StandardServer.java:2223)\n> >         at org.apache.catalina.startup.Catalina.start(Catalina.java:510)\n> >         at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n> >         at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n> >         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n> >         at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n> >         at\n> >\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n> >         at java.lang.reflect.Method.invoke(Method.java:324)\n> >         at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n> > Starting service Tomcat-Standalone\n> > J2EE SDK/1.4\n> > Aug 12, 2002 11:32:40 AM org.apache.coyote.http11.Http11Protocol start\n> > INFO: Starting Coyote HTTP/1.1 on port 8080"}, {"count": 4, "tags": [], "bug_id": 11191, "attachment_id": null, "text": "\n4.1.9 and prior versions of the admin tool incorrectly made a JNDI Resource \nwith a parameter called user.  the parameter should be called username.  works \non latest CVS download\n\n*** This bug has been marked as a duplicate of 11775 ***", "id": 21439, "time": "2002-08-21T10:37:13Z", "creator": "andrewconrad@iname.com", "creation_time": "2002-08-21T10:37:13Z", "is_private": false}]