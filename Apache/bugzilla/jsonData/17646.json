[{"count": 0, "tags": [], "bug_id": 17646, "text": "Our Starteam project has some labels that were deleted.  Then readded with the \nsame label name.  Starteam must hold on to the old label, just marking it with \na deleted flag.  TreeBasedTask.findLabel() needs to query with \ncom.starbase.starteam.Label.isDeleted(), otherwise the labelInUse can get set \nto a deleted label.  \n\nPartial \"ant -debug\" below...\nSetting project property: c1ps.stProjectname -> ps\nSetting project property: c1ps.stViewname -> c1_prod-02-branch_maint\nSetting project property: c1ps.stUrl -> thor:49201/ps/c1_prod-02-branch_maint\nSetting project property: c1ps.stServerRootFolder.base -> /charterone\nSetting project property: c1ps.stLocalRootFolder -> ./s1\n[stcheckout] StarTeam version: StarGate SDK 5.1.2, Build 264\n[stcheckout] checking label TR0000006\n[stcheckout] checking label TR0000003\n[stcheckout] using label TR0000003\n[stcheckout] Ignoring createworkingdirs while using a revision label.  Folders \nwill be created only as needed.\n[stcheckout] Recursive Checkout from: ps\\charterone\\com\\brokatfs\\charterone\\\n[stcheckout]   Checking out to: O:\\c1\\ant-scripts\\src2\\.\\s1\n\\com\\brokatfs\\charterone\n[stcheckout]   Using revision label TR0000003\n[stcheckout]   Items will be checked out with no change in lock status.\n[stcheckout]   Items will be checked out with the current timestamp.\n[stcheckout]   Items will be checked out in accordance with repository status.\n[stcheckout]   Local items not found in the repository will be deleted.\n[stcheckout]   Directories will be created only where needed to check out files.\n\nBUILD FAILED\nfile:O:/c1/ant-scripts/src2/build.xml:223: The attempted operation was not \ncompleted. The specified label has been deleted.\n        at org.apache.tools.ant.taskdefs.optional.starteam.TreeBasedTask.execute\n(TreeBasedTask.java:560)\n        at org.apache.tools.ant.Task.perform(Task.java:341)\n        at org.apache.tools.ant.Target.execute(Target.java:309)\n        at org.apache.tools.ant.Target.performTasks(Target.java:336)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1339)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1255)\n        at org.apache.tools.ant.Main.runBuild(Main.java:609)\n        at org.apache.tools.ant.Main.start(Main.java:196)\n        at org.apache.tools.ant.Main.main(Main.java:235)\n--- Nested Exception ---\nThe attempted operation was not completed. The specified label has been deleted.\n        at com.starbase.starteam.vts.comm.BinaryCommand.popException\n(BinaryCommand.java:643)\n        at com.starbase.starteam.vts.comm.Command.pop(Command.java:303)\n        at com.starbase.starteam.vts.comm.BinaryCommand.readInt\n(BinaryCommand.java:183)\n        at com.starbase.starteam.vts.comm.BinaryCommand.readIntArray\n(BinaryCommand.java:318)\n        at com.starbase.starteam.CmdGetLabelItemIDs.pop\n(CmdGetLabelItemIDs.java:51)\n        at com.starbase.starteam.vts.comm.CommandMacro.execute\n(CommandMacro.java:107)\n        at com.starbase.starteam.Label.getLabeledItemIDs(Label.java:533)\n        at \norg.apache.tools.ant.taskdefs.optional.starteam.StarTeamCheckout.visit\n(StarTeamCheckout.java:350)\n        at org.apache.tools.ant.taskdefs.optional.starteam.TreeBasedTask.execute\n(TreeBasedTask.java:557)\n        at org.apache.tools.ant.Task.perform(Task.java:341)\n        at org.apache.tools.ant.Target.execute(Target.java:309)\n        at org.apache.tools.ant.Target.performTasks(Target.java:336)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1339)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1255)\n        at org.apache.tools.ant.Main.runBuild(Main.java:609)\n        at org.apache.tools.ant.Main.start(Main.java:196)\n        at org.apache.tools.ant.Main.main(Main.java:235)\n\nTotal time: 7 seconds\nO:\\c1\\ant-scripts\\src2>\n\n\nFull \"ant -debug\"...\nApache Ant version 1.5.2 compiled on February 28 2003\nBuildfile: build.xml\nDetected Java version: 1.3 in: j:\\jre\nDetected OS: Windows 2000\n +User task: propertyfile     \norg.apache.tools.ant.taskdefs.optional.PropertyFile\n +User task: vsscheckin     \norg.apache.tools.ant.taskdefs.optional.vss.MSVSSCHECKIN\n +User task: sql     org.apache.tools.ant.taskdefs.SQLExec\n +User task: cvspass     org.apache.tools.ant.taskdefs.CVSPass\n +User task: p4reopen     \norg.apache.tools.ant.taskdefs.optional.perforce.P4Reopen\n +User task: csc     org.apache.tools.ant.taskdefs.optional.dotnet.CSharp\n +User task: dirname     org.apache.tools.ant.taskdefs.Dirname\n +User task: wlrun     org.apache.tools.ant.taskdefs.optional.ejb.WLRun\n +User task: p4label     org.apache.tools.ant.taskdefs.optional.perforce.P4Label\n +User task: p4revert     \norg.apache.tools.ant.taskdefs.optional.perforce.P4Revert\n +User task: replaceregexp     \norg.apache.tools.ant.taskdefs.optional.ReplaceRegExp\n +User task: get     org.apache.tools.ant.taskdefs.Get\n +User task: jjtree     org.apache.tools.ant.taskdefs.optional.javacc.JJTree\n +User task: sleep     org.apache.tools.ant.taskdefs.Sleep\n +User task: jarlib-display     \norg.apache.tools.ant.taskdefs.optional.extension.JarLibDisplayTask\n +User task: dependset     org.apache.tools.ant.taskdefs.DependSet\n +User task: zip     org.apache.tools.ant.taskdefs.Zip\n +User task: patch     org.apache.tools.ant.taskdefs.Patch\n +User task: jspc     org.apache.tools.ant.taskdefs.optional.jsp.JspC\n +User task: style     org.apache.tools.ant.taskdefs.XSLTProcess\n +User task: test     org.apache.tools.ant.taskdefs.optional.Test\n +User task: tstamp     org.apache.tools.ant.taskdefs.Tstamp\n +User task: unwar     org.apache.tools.ant.taskdefs.Expand\n +User task: vsshistory     \norg.apache.tools.ant.taskdefs.optional.vss.MSVSSHISTORY\n +User task: icontract     org.apache.tools.ant.taskdefs.optional.IContract\n +User task: cvschangelog     org.apache.tools.ant.taskdefs.cvslib.ChangeLogTask\n +User task: p4submit     \norg.apache.tools.ant.taskdefs.optional.perforce.P4Submit\n +User task: ccmcheckin     \norg.apache.tools.ant.taskdefs.optional.ccm.CCMCheckin\n +User task: p4change     \norg.apache.tools.ant.taskdefs.optional.perforce.P4Change\n +User task: bzip2     org.apache.tools.ant.taskdefs.BZip2\n +User task: p4delete     \norg.apache.tools.ant.taskdefs.optional.perforce.P4Delete\n +User task: vssadd     org.apache.tools.ant.taskdefs.optional.vss.MSVSSADD\n +User task: javadoc     org.apache.tools.ant.taskdefs.Javadoc\n +User task: translate     org.apache.tools.ant.taskdefs.optional.i18n.Translate\n +User task: signjar     org.apache.tools.ant.taskdefs.SignJar\n +User task: vajload     \norg.apache.tools.ant.taskdefs.optional.ide.VAJLoadProjects\n +User task: jarlib-available     \norg.apache.tools.ant.taskdefs.optional.extension.JarLibAvailableTask\n +User task: WsdlToDotnet     \norg.apache.tools.ant.taskdefs.optional.dotnet.WsdlToDotnet\n +User task: buildnumber     org.apache.tools.ant.taskdefs.BuildNumber\n +User task: jpcovmerge     \norg.apache.tools.ant.taskdefs.optional.sitraka.CovMerge\n +User task: ejbjar     org.apache.tools.ant.taskdefs.optional.ejb.EjbJar\n +User task: war     org.apache.tools.ant.taskdefs.War\n +User task: stlist     \norg.apache.tools.ant.taskdefs.optional.starteam.StarTeamList\n +User task: rename     org.apache.tools.ant.taskdefs.Rename\n +User task: sequential     org.apache.tools.ant.taskdefs.Sequential\n +User task: serverdeploy     \norg.apache.tools.ant.taskdefs.optional.j2ee.ServerDeploy\n +User task: property     org.apache.tools.ant.taskdefs.Property\n +User task: move     org.apache.tools.ant.taskdefs.Move\n +User task: copydir     org.apache.tools.ant.taskdefs.Copydir\n +User task: cccheckin     \norg.apache.tools.ant.taskdefs.optional.clearcase.CCCheckin\n +User task: wljspc     org.apache.tools.ant.taskdefs.optional.jsp.WLJspc\n +User task: fixcrlf     org.apache.tools.ant.taskdefs.FixCRLF\n +User task: telnet     org.apache.tools.ant.taskdefs.optional.net.TelnetTask\n +User task: sosget     org.apache.tools.ant.taskdefs.optional.sos.SOSGet\n +User task: pathconvert     org.apache.tools.ant.taskdefs.PathConvert\n +User task: record     org.apache.tools.ant.taskdefs.Recorder\n +User task: p4sync     org.apache.tools.ant.taskdefs.optional.perforce.P4Sync\n +User task: exec     org.apache.tools.ant.taskdefs.ExecTask\n +User task: p4edit     org.apache.tools.ant.taskdefs.optional.perforce.P4Edit\n +User task: manifest     org.apache.tools.ant.taskdefs.ManifestTask\n +User task: maudit     org.apache.tools.ant.taskdefs.optional.metamata.MAudit\n +User task: antlr     org.apache.tools.ant.taskdefs.optional.ANTLR\n +User task: netrexxc     org.apache.tools.ant.taskdefs.optional.NetRexxC\n +User task: ftp     org.apache.tools.ant.taskdefs.optional.net.FTP\n +User task: jpcovreport     \norg.apache.tools.ant.taskdefs.optional.sitraka.CovReport\n +User task: execon     org.apache.tools.ant.taskdefs.ExecuteOn\n +User task: ccmcheckout     \norg.apache.tools.ant.taskdefs.optional.ccm.CCMCheckout\n +User task: ant     org.apache.tools.ant.taskdefs.Ant\n +User task: xmlvalidate     \norg.apache.tools.ant.taskdefs.optional.XMLValidateTask\n +User task: xslt     org.apache.tools.ant.taskdefs.XSLTProcess\n +User task: iplanet-ejbc     \norg.apache.tools.ant.taskdefs.optional.ejb.IPlanetEjbcTask\n +User task: ccmcheckintask     \norg.apache.tools.ant.taskdefs.optional.ccm.CCMCheckinDefault\n +User task: gzip     org.apache.tools.ant.taskdefs.GZip\n +User task: native2ascii     \norg.apache.tools.ant.taskdefs.optional.Native2Ascii\n +User task: starteam     \norg.apache.tools.ant.taskdefs.optional.scm.AntStarTeamCheckOut\n +User task: ear     org.apache.tools.ant.taskdefs.Ear\n +User task: input     org.apache.tools.ant.taskdefs.Input\n +User task: rmic     org.apache.tools.ant.taskdefs.Rmic\n +User task: checksum     org.apache.tools.ant.taskdefs.Checksum\n +User task: mail     org.apache.tools.ant.taskdefs.email.EmailTask\n +User task: loadfile     org.apache.tools.ant.taskdefs.LoadFile\n +User task: vsscheckout     \norg.apache.tools.ant.taskdefs.optional.vss.MSVSSCHECKOUT\n +User task: stylebook     org.apache.tools.ant.taskdefs.optional.StyleBook\n +User task: soscheckin     \norg.apache.tools.ant.taskdefs.optional.sos.SOSCheckin\n +User task: mimemail     org.apache.tools.ant.taskdefs.optional.net.MimeMail\n +User task: stlabel     \norg.apache.tools.ant.taskdefs.optional.starteam.StarTeamLabel\n +User task: gunzip     org.apache.tools.ant.taskdefs.GUnzip\n +User task: concat     org.apache.tools.ant.taskdefs.Concat\n +User task: cab     org.apache.tools.ant.taskdefs.optional.Cab\n +User task: touch     org.apache.tools.ant.taskdefs.Touch\n +User task: parallel     org.apache.tools.ant.taskdefs.Parallel\n +User task: splash     org.apache.tools.ant.taskdefs.optional.splash.SplashTask\n +User task: antcall     org.apache.tools.ant.taskdefs.CallTarget\n +User task: cccheckout     \norg.apache.tools.ant.taskdefs.optional.clearcase.CCCheckout\n +User task: typedef     org.apache.tools.ant.taskdefs.Typedef\n +User task: p4have     org.apache.tools.ant.taskdefs.optional.perforce.P4Have\n +User task: filter     org.apache.tools.ant.taskdefs.Filter\n +User task: xmlproperty     org.apache.tools.ant.taskdefs.XmlProperty\nCould not load a dependent class (jdepend/xmlui/JDepend) for task jdepend\n +User task: copy     org.apache.tools.ant.taskdefs.Copy\n +User task: antstructure     org.apache.tools.ant.taskdefs.AntStructure\nCould not load a dependent class (com/ibm/bsf/BSFException) for task script\n +User task: ccmcreatetask     \norg.apache.tools.ant.taskdefs.optional.ccm.CCMCreateTask\n +User task: rpm     org.apache.tools.ant.taskdefs.optional.Rpm\n +User task: delete     org.apache.tools.ant.taskdefs.Delete\n +User task: replace     org.apache.tools.ant.taskdefs.Replace\n +User task: mmetrics     \norg.apache.tools.ant.taskdefs.optional.metamata.MMetrics\n +User task: waitfor     org.apache.tools.ant.taskdefs.WaitFor\n +User task: untar     org.apache.tools.ant.taskdefs.Untar\n +User task: loadproperties     org.apache.tools.ant.taskdefs.LoadProperties\n +User task: available     org.apache.tools.ant.taskdefs.Available\n +User task: echoproperties     \norg.apache.tools.ant.taskdefs.optional.EchoProperties\nCould not load a dependent class (junit/framework/TestListener) for task junit\n +User task: stcheckin     \norg.apache.tools.ant.taskdefs.optional.starteam.StarTeamCheckin\n +User task: vajexport     org.apache.tools.ant.taskdefs.optional.ide.VAJExport\n +User task: stcheckout     \norg.apache.tools.ant.taskdefs.optional.starteam.StarTeamCheckout\n +User task: bunzip2     org.apache.tools.ant.taskdefs.BUnzip2\n +User task: copyfile     org.apache.tools.ant.taskdefs.Copyfile\n +User task: vsscreate     \norg.apache.tools.ant.taskdefs.optional.vss.MSVSSCREATE\n +User task: ejbc     org.apache.tools.ant.taskdefs.optional.ejb.Ejbc\n +User task: unjar     org.apache.tools.ant.taskdefs.Expand\n +User task: wsdltodotnet     \norg.apache.tools.ant.taskdefs.optional.dotnet.WsdlToDotnet\n +User task: mkdir     org.apache.tools.ant.taskdefs.Mkdir\n +User task: condition     org.apache.tools.ant.taskdefs.ConditionTask\n +User task: cvs     org.apache.tools.ant.taskdefs.Cvs\n +User task: tempfile     org.apache.tools.ant.taskdefs.TempFile\n +User task: junitreport     \norg.apache.tools.ant.taskdefs.optional.junit.XMLResultAggregator\n +User task: taskdef     org.apache.tools.ant.taskdefs.Taskdef\n +User task: echo     org.apache.tools.ant.taskdefs.Echo\n +User task: ccupdate     \norg.apache.tools.ant.taskdefs.optional.clearcase.CCUpdate\n +User task: java     org.apache.tools.ant.taskdefs.Java\n +User task: renameext     \norg.apache.tools.ant.taskdefs.optional.RenameExtensions\n +User task: vsslabel     org.apache.tools.ant.taskdefs.optional.vss.MSVSSLABEL\n +User task: basename     org.apache.tools.ant.taskdefs.Basename\n +User task: javadoc2     org.apache.tools.ant.taskdefs.Javadoc\n +User task: vsscp     org.apache.tools.ant.taskdefs.optional.vss.MSVSSCP\n +User task: tar     org.apache.tools.ant.taskdefs.Tar\n +User task: vajimport     org.apache.tools.ant.taskdefs.optional.ide.VAJImport\n +User task: setproxy     org.apache.tools.ant.taskdefs.optional.net.SetProxy\n +User task: wlstop     org.apache.tools.ant.taskdefs.optional.ejb.WLStop\n +User task: p4counter     \norg.apache.tools.ant.taskdefs.optional.perforce.P4Counter\n +User task: ilasm     org.apache.tools.ant.taskdefs.optional.dotnet.Ilasm\n +User task: soscheckout     \norg.apache.tools.ant.taskdefs.optional.sos.SOSCheckout\n +User task: apply     org.apache.tools.ant.taskdefs.Transform\n +User task: ccuncheckout     \norg.apache.tools.ant.taskdefs.optional.clearcase.CCUnCheckout\n +User task: jarlib-resolve     \norg.apache.tools.ant.taskdefs.optional.extension.JarLibResolveTask\n +User task: jlink     org.apache.tools.ant.taskdefs.optional.jlink.JlinkTask\n +User task: cvstagdiff     org.apache.tools.ant.taskdefs.cvslib.CvsTagDiff\n +User task: javacc     org.apache.tools.ant.taskdefs.optional.javacc.JavaCC\n +User task: chmod     org.apache.tools.ant.taskdefs.Chmod\n +User task: pvcs     org.apache.tools.ant.taskdefs.optional.pvcs.Pvcs\n +User task: jarlib-manifest     \norg.apache.tools.ant.taskdefs.optional.extension.JarLibManifestTask\n +User task: jar     org.apache.tools.ant.taskdefs.Jar\n +User task: sound     org.apache.tools.ant.taskdefs.optional.sound.SoundTask\n +User task: mparse     org.apache.tools.ant.taskdefs.optional.metamata.MParse\n +User task: blgenclient     \norg.apache.tools.ant.taskdefs.optional.ejb.BorlandGenerateClient\n +User task: uptodate     org.apache.tools.ant.taskdefs.UpToDate\n +User task: genkey     org.apache.tools.ant.taskdefs.GenerateKey\n +User task: javah     org.apache.tools.ant.taskdefs.optional.Javah\n +User task: ccmreconfigure     \norg.apache.tools.ant.taskdefs.optional.ccm.CCMReconfigure\n +User task: fail     org.apache.tools.ant.taskdefs.Exit\n +User task: unzip     org.apache.tools.ant.taskdefs.Expand\n +User task: javac     org.apache.tools.ant.taskdefs.Javac\n +User task: p4add     org.apache.tools.ant.taskdefs.optional.perforce.P4Add\n +User task: jpcoverage     \norg.apache.tools.ant.taskdefs.optional.sitraka.Coverage\n +User task: soslabel     org.apache.tools.ant.taskdefs.optional.sos.SOSLabel\n +User task: depend     org.apache.tools.ant.taskdefs.optional.depend.Depend\n +User task: vssget     org.apache.tools.ant.taskdefs.optional.vss.MSVSSGET\n +User task: deltree     org.apache.tools.ant.taskdefs.Deltree\n +User task: ddcreator     org.apache.tools.ant.taskdefs.optional.ejb.DDCreator\n +User datatype: patternset     org.apache.tools.ant.types.PatternSet\n +User datatype: filterset     org.apache.tools.ant.types.FilterSet\n +User datatype: libfileset     \norg.apache.tools.ant.taskdefs.optional.extension.LibFileSet\n +User datatype: filterreader     org.apache.tools.ant.types.AntFilterReader\n +User datatype: extension     \norg.apache.tools.ant.taskdefs.optional.extension.ExtensionAdapter\n +User datatype: fileset     org.apache.tools.ant.types.FileSet\n +User datatype: dirset     org.apache.tools.ant.types.DirSet\n +User datatype: filelist     org.apache.tools.ant.types.FileList\n +User datatype: filterchain     org.apache.tools.ant.types.FilterChain\n +User datatype: path     org.apache.tools.ant.types.Path\n +User datatype: classfileset     \norg.apache.tools.ant.types.optional.depend.ClassfileSet\n +User datatype: description     org.apache.tools.ant.types.Description\n +User datatype: xmlcatalog     org.apache.tools.ant.types.XMLCatalog\n +User datatype: selector     \norg.apache.tools.ant.types.selectors.SelectSelector\n +User datatype: mapper     org.apache.tools.ant.types.Mapper\n +User datatype: substitution     org.apache.tools.ant.types.Substitution\n +User datatype: extensionSet     \norg.apache.tools.ant.taskdefs.optional.extension.ExtensionSet\n +User datatype: regexp     org.apache.tools.ant.types.RegularExpression\nSetting ro project property: ant.version -> Apache Ant version 1.5.2 compiled \non February 28 2003\nSetting ro project property: ant.file -> O:\\c1\\ant-scripts\\src2\\build.xml\nparsing buildfile build.xml with URI = file:O:/c1/ant-scripts/src2/build.xml\nSetting ro project property: ant.project.name -> c1-starteam-ant\nAdding reference: c1-starteam-ant -> org.apache.tools.ant.Project@431340\nProject base dir set to: O:\\c1\\ant-scripts\\src2\n   +Task: property\nSetting project property: build.dir -> classes\n   +Task: property\nSetting project property: src.dir -> src\n   +Task: property\nSetting project property: c1.src.dir -> src\\ps\\charterone\\\n   +Task: property\nSetting project property: typhoon.src.dir -> src\\brokatfs\\typhoon\\src\\\n   +Task: property\nSetting project property: ofx.src.dir -> src\\brokatfs\\typhoon\\src\\\n   +Task: property\nSetting project property: dbapi.src.dir -> src\\brokatfs\\typhoon\\src\\\n   +Task: property\nSetting project property: typhoon.pkg -> com.brokatfs.typhoon\n   +Task: property\nSetting project property: ofx.pkg -> com.brokatfs.ofx\n   +Task: property\nSetting project property: typhoon.path -> com/brokatfs/typhoon\n   +Task: property\nSetting project property: dbapi.pkg -> com.brokatfs.typhoon.inf.be.dbapi\n   +Task: property\nSetting project property: dbapi.path -> com/brokatfs/typhoon/inf/be/dbapi\n   +Task: property\nSetting project property: starteam.folder -> src\n   +Task: property\nSetting project property: starteam.server -> thor\n   +Task: property\nSetting project property: starteam.port -> 49201\n   +Task: property\nSetting project property: starteam.project -> \n   +Task: property\nSetting project property: starteam.view -> /brokatfs/c1_prod-02-\nbranch_maint/typhoon/src/com/brokatfs/charterone\n   +Task: property\nSetting project property: starteam.url -> thor:49201///brokatfs/c1_prod-02-\nbranch_maint/typhoon/src/com/brokatfs/charterone\n   +Task: property\nSetting project property: starteam.user -> ******\n   +Task: property\nSetting project property: starteam.passwd -> *****\n   +Task: property\nSetting project property: jaxb_home -> jaxb-1.0-ea\n   +Task: property\nSetting project property: lib.dir -> lib\n   +DataType: path\nAdding reference: twisterlibs.path -> \n   +DataType: path\nAdding reference: checkfreelibs.path -> \n   +DataType: path\nAdding reference: project.class.path -> \n   +Task: property\nOverride ignored for property build.dir\n   +Task: property\nOverride ignored for property src.dir\n   +Task: property\nSetting project property: properties.files.dir -> runtime\n +Target: init\n +Target: testSwing\n   +Task: ant\n +Target: compile\n   +Task: ant\n +Target: deploy\n +Target: deploy-nocompile-smallbiz\n   +Task: ftp\n   +Task: ftp\n +Target: deploy-nocompile-retail\n   +Task: ftp\n +Target: test-sched\n   +Task: java\n +Target: test-gen\n   +Task: property\n   +Task: property\n   +Task: property\n   +Task: property\n   +Task: property\n   +Task: stcheckout\n +Target: prj-save\n   +Task: tstamp\n   +Task: property\n   +Task: echo\n   +Task: zip\nBuild sequence for target `test-gen' is [init, test-gen]\nComplete build sequence is [init, test-gen, compile, deploy-nocompile-smallbiz, \ndeploy-nocompile-retail, deploy, test-sched, testSwing, prj-save]\n\ninit:\n\ntest-gen:\nSetting project property: c1ps.stProjectname -> ps\nSetting project property: c1ps.stViewname -> c1_prod-02-branch_maint\nSetting project property: c1ps.stUrl -> thor:49201/ps/c1_prod-02-branch_maint\nSetting project property: c1ps.stServerRootFolder.base -> /charterone\nSetting project property: c1ps.stLocalRootFolder -> ./s1\n[stcheckout] StarTeam version: StarGate SDK 5.1.2, Build 264\n[stcheckout] checking label TR0000006\n[stcheckout] checking label TR0000003\n[stcheckout] using label TR0000003\n[stcheckout] Ignoring createworkingdirs while using a revision label.  Folders \nwill be created only as needed.\n[stcheckout] Recursive Checkout from: ps\\charterone\\com\\brokatfs\\charterone\\\n[stcheckout]   Checking out to: O:\\c1\\ant-scripts\\src2\\.\\s1\n\\com\\brokatfs\\charterone\n[stcheckout]   Using revision label TR0000003\n[stcheckout]   Items will be checked out with no change in lock status.\n[stcheckout]   Items will be checked out with the current timestamp.\n[stcheckout]   Items will be checked out in accordance with repository status.\n[stcheckout]   Local items not found in the repository will be deleted.\n[stcheckout]   Directories will be created only where needed to check out files.\n\nSome commands used to find defect using tool http://www.beanshell.org ...\naddClassPath(\"C:\\\\apache-ant-1.5.2\\\\lib\\\\ant.jar\");\naddClassPath(\"C:\\\\apache-ant-1.5.2\\\\lib\\\\optional.jar\");\naddClassPath(\"C:\\\\apache-ant-1.5.2\\\\lib\\\\starteam-sdk.jar\");\nimport org.apache.tools.ant.taskdefs.optional.starteam.*;\nimport com.starbase.starteam.*;\n\nString url = \"thor\" + \":\" + 49201 + \"/\" + \"ps\" + \"/\" + \"c1_prod-02-\nbranch_maint\" ;\nString viewUrl = \"*****\" + \":\" + \"*****\" + \"@\" + url ;\nView v = null;\ntry\n{\n    v = StarTeamFinder.openView(viewUrl);\n}\ncatch(Exception e)\n{\n    throw new RuntimeException(\"Failed to connect to \" + url, e);\n}\nString label = \"\";\nLabel labelInUse = null;\nLabel[] allLabels = v.getLabels();\nfor (int i = 0; i < allLabels.length; i++) {\n    print(\"loop iteration #\" + i);\n    Label stLabel = allLabels[i];\n    print(\"checking label \" + stLabel.getName());\n    print(\"[stLabel=\"+stLabel.getName()+ \", stLabel.isRevisionLabel()\n=\"+stLabel.isRevisionLabel() +\", stLabel.isViewLabel()=\"+stLabel.isViewLabel() \n+\"]\" );\n/*    \n    if (stLabel.getName().equals(label)) \n    {\n        if (!stLabel.isRevisionLabel() && !stLabel.isViewLabel()) \n        {\n            throw new RuntimeException(\"Unexpected label type.\");\n        }\n        print(\"using label \" + stLabel.getName());\n        labelInUse = stLabel;\n        break;        \n    }\n*/    \n}\nprint(\"labelInUse=\"+labelInUse);\nprint(\"done.\");\n\nLabel[] ls = new Label[2];\nls[0] = allLabels[0];\nls[1] = allLabels[4];\nprint(ls);\nls\n\nl = ls[0];\nprint(\"debugString=\"+l.toDebugString());\nprint(\"Time=\"+l.getTime());\nprint(\"Description=\"+l.getDescription());\nprint(\"View=\"+l.getView());\nprint(\"RevisionTime=\"+l.getRevisionTime());\nprint(\"isDeleted=\"+l.isDeleted());\nprint(\"Modified=\"+l.isModified());\nprint(\"isBuildLabel=\"+l.isBuildLabel());\nprint(\"isViewLabel=\"+l.isViewLabel());\nprint(\"isLocked=\"+l.isLocked());\n\nl = ls[1];\nprint(\"debugString=\"+l.toDebugString());\nprint(\"Time=\"+l.getTime());\nprint(\"Description=\"+l.getDescription());\nprint(\"View=\"+l.getView());\nprint(\"RevisionTime=\"+l.getRevisionTime());\nprint(\"isDeleted=\"+l.isDeleted());\nprint(\"Modified=\"+l.isModified());\nprint(\"isBuildLabel=\"+l.isBuildLabel());\nprint(\"isViewLabel=\"+l.isViewLabel());\nprint(\"isLocked=\"+l.isLocked());\n\nloop iteration #0\nchecking label TR0000006\n[stLabel=TR0000006, stLabel.isRevisionLabel()=true, stLabel.isViewLabel()=false]\nloop iteration #1\nchecking label TR0000003\n[stLabel=TR0000003, stLabel.isRevisionLabel()=true, stLabel.isViewLabel()=false]\nloop iteration #2\nchecking label c1_01_001\n[stLabel=c1_01_001, stLabel.isRevisionLabel()=false, stLabel.isViewLabel()=true]\nloop iteration #3\nchecking label TR0000003\n[stLabel=TR0000003, stLabel.isRevisionLabel()=false, stLabel.isViewLabel()=true]\nloop iteration #4\nchecking label TR0000006\n[stLabel=TR0000006, stLabel.isRevisionLabel()=false, stLabel.isViewLabel()=true]\nloop iteration #5\nchecking label TR0000003\n[stLabel=TR0000003, stLabel.isRevisionLabel()=false, stLabel.isViewLabel()=true]\nloop iteration #6\nchecking label c1ret_01_001\n[stLabel=c1ret_01_001, stLabel.isRevisionLabel()=true, stLabel.isViewLabel()\n=false]\nloop iteration #7\nchecking label c1ret_01_001\n[stLabel=c1ret_01_001, stLabel.isRevisionLabel()=false, stLabel.isViewLabel()\n=true]\nloop iteration #8\nchecking label TR0000001\n[stLabel=TR0000001, stLabel.isRevisionLabel()=true, stLabel.isViewLabel()=false]\nloop iteration #9\nchecking label R20030126-pcr8\n[stLabel=R20030126-pcr8, stLabel.isRevisionLabel()=true, stLabel.isViewLabel()\n=false]\nloop iteration #10\nchecking label R20030126-pcr7\n[stLabel=R20030126-pcr7, stLabel.isRevisionLabel()=true, stLabel.isViewLabel()\n=false]\nloop iteration #11\nchecking label Test Release Label\n[stLabel=Test Release Label, stLabel.isRevisionLabel()=false, \nstLabel.isViewLabel()=true]\nloop iteration #12\nchecking label R021006\n[stLabel=R021006, stLabel.isRevisionLabel()=true, stLabel.isViewLabel()=false]\nloop iteration #13\nchecking label bbr-t2\n[stLabel=bbr-t2, stLabel.isRevisionLabel()=true, stLabel.isViewLabel()=false]\nloop iteration #14\nchecking label bbr-t1\n[stLabel=bbr-t1, stLabel.isRevisionLabel()=true, stLabel.isViewLabel()=false]\nloop iteration #15\nchecking label September_Release_02\n[stLabel=September_Release_02, stLabel.isRevisionLabel()=true, \nstLabel.isViewLabel()=false]\nloop iteration #16\nchecking label Alerts_R20020804\n[stLabel=Alerts_R20020804, stLabel.isRevisionLabel()=true, stLabel.isViewLabel()\n=false]\nloop iteration #17\nchecking label 1.0\n[stLabel=1.0, stLabel.isRevisionLabel()=true, stLabel.isViewLabel()=false]\nloop iteration #18\nchecking label\n[stLabel=, stLabel.isRevisionLabel()=false, stLabel.isViewLabel()=true]\nbsh %", "id": 32420, "time": "2003-03-04T20:04:40Z", "creator": "brian.brooks@metavante.com", "creation_time": "2003-03-04T20:04:40Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 17646, "attachment_id": null, "id": 32425, "time": "2003-03-04T21:17:36Z", "creator": "stevec@ignitesports.com", "creation_time": "2003-03-04T21:17:36Z", "is_private": false, "text": "I'll take a look at this.  This is one use case I hadn't had to deal with or\nenvisioned.  It looks easy enough to fix."}, {"count": 2, "attachment_id": 5165, "bug_id": 17646, "text": "Created attachment 5165\nproposed patch TreeBasedTask.java -  skips deleted labels", "id": 32471, "time": "2003-03-05T16:51:12Z", "creator": "brian.brooks@metavante.com", "creation_time": "2003-03-05T16:51:12Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 17646, "text": "This change is basically equivalent to the one I was going to make.  I haven't\nhad a chance to test it yet.  Have you?  If you (brian.brooks) indicate that it\nsolves the problem you were having then I would recommend that it be committed.\n I can see no way in which the change would have undesirable effects. \nUnfortunately, I am not a committer myself, so I can't say when it will get into\nthe respository.  You should \"vote for this bug\" as will I when I hear your\nresults.  That may help to speed it along  -- Steve Cohen", "id": 32474, "time": "2003-03-05T17:00:10Z", "creator": "scohen@apache.org", "creation_time": "2003-03-05T17:00:10Z", "is_private": false, "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 17646, "is_private": false, "id": 32476, "time": "2003-03-05T17:07:49Z", "creator": "brian.brooks@metavante.com", "creation_time": "2003-03-05T17:07:49Z", "tags": [], "text": "schohen, I did test the change against our configuration and it worked like a \ncharm.  In our config there existed two labels with the same name.  Before the \nchange I was getting a deleted label, after the change I got the non-deleted \nlabel."}, {"count": 5, "attachment_id": null, "bug_id": 17646, "text": "Based on Brian's tests, this change has my blessing - Steve Cohen", "id": 32479, "time": "2003-03-05T17:30:24Z", "creator": "scohen@apache.org", "creation_time": "2003-03-05T17:30:24Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "creator": "scohen@apache.org", "attachment_id": null, "text": "\n\n*** This bug has been marked as a duplicate of 17695 ***", "id": 32700, "time": "2003-03-07T22:33:49Z", "bug_id": 17646, "creation_time": "2003-03-07T22:33:49Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 17646, "text": "marking of this as a duplicate was an error", "id": 32702, "time": "2003-03-07T22:35:23Z", "creator": "scohen@apache.org", "creation_time": "2003-03-07T22:35:23Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 17646, "attachment_id": null, "id": 33894, "time": "2003-03-27T08:04:23Z", "creator": "bodewig@apache.org", "creation_time": "2003-03-27T08:04:23Z", "is_private": false, "text": "based on Steve's blessing, I've committed the patch 8-)\n"}]