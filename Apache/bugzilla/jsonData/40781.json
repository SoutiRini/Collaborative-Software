[{"count": 0, "tags": [], "text": "Upon upgrading from to Apache 2.2 from Apache 2.0, when the following rule is\nmatched, PATH_TRANSLATED is set to 'redirect:/~jablko/gallery2/main.php',\ninstead of '/home/jablko/public_html/gallery2/main.php'.\n\n\n    RewriteCond %{HTTP:Authorization} (.+)\n    RewriteCond %{QUERY_STRING} !g2_authorization=\n    RewriteRule .   %{REQUEST_URI}?g2_authorization=%1   [QSA]\n\n\nApache 2.0 always set PATH_TRANSLATED to\n'/home/jablko/public_html/gallery2/main.php'.\n\nWhen PATH_TRANSLATED is set to 'redirect:/~jablko/gallery2/main.php', CGI like\nphp-cgi fail:\n\n\nHTTP/1.1 404 Not Found\nDate: Tue, 17 Oct 2006 09:06:46 GMT\nServer: Apache/2.2.3 (Debian) DAV/2\nX-Powered-By: PHP/4.4.4-3\nContent-Length: 25\nContent-Type: text/html; charset=UTF-8\n\nNo input file specified.\n\n\nThanks, Jack", "is_private": false, "bug_id": 40781, "id": 94919, "time": "2006-10-17T22:37:35Z", "creator": "ms419@freezone.co.uk", "creation_time": "2006-10-17T22:37:35Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 40781, "attachment_id": null, "text": "An interesting find, thank you.", "id": 113303, "time": "2008-01-30T15:07:27Z", "creator": "wrowe@apache.org", "creation_time": "2008-01-30T15:07:27Z", "is_private": false}, {"count": 2, "tags": [], "text": "This also occurs with a .htaccess file of the following form:\n\n\tRewriteEngine on\n\tRewriteBase /~user/app\n\tRewriteRule ^(.*)$ /cgi-bin/cgi-prog/~user/app/app.ext?$1\n\nThis one can be worked around by changing the .htaccess file to add a handler and modifying the rewrite rule as follows:\n\n\tAddHandler run-cgi-prog .ext\n\tAction run-cgi-prog /cgi-bin/cgi-prog\n\tRewriteEngine on\n\tRewriteBase /~user/app\n\tRewriteRule ^(.*)$ /~user/app/app.ext?$1", "is_private": false, "bug_id": 40781, "id": 125038, "time": "2009-02-21T13:36:31Z", "creator": "apache@troy.rollo.name", "creation_time": "2009-02-21T13:36:31Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "Correction - the work-around .htaccess file should look like this:\n\n\tAddHandler run-cgi-prog .ext\n\tAction run-cgi-prog /cgi-bin/cgi-prog\n\tRewriteEngine on\n\tRewriteBase /~user/app/\n\tRewriteCond %{REQUEST_FILENAME} !-f\n\tRewriteRule ^(.*)$ app.ext?$1 [L,QSA]", "attachment_id": null, "id": 125045, "creation_time": "2009-02-21T14:24:42Z", "time": "2009-02-21T14:24:42Z", "creator": "apache@troy.rollo.name", "bug_id": 40781, "is_private": false}, {"count": 4, "tags": [], "bug_id": 40781, "is_private": false, "text": "The problem is that the subrequest with uri=path_info of the main request (in order to obtain path_translated, i.e. the physical path view of path_info) hits the RewriteRule in per-directory context again and matches; hence no physical path.\n\nWhy does this not occur in Apache 2.0? The answer is simple: mod_rewrite doesn't act in subrequests in per-directory context prior version 2.1. The NS flag prevents the processing of RewriteRules in subrequests.", "id": 125068, "time": "2009-02-22T10:25:12Z", "creator": "bobsiegen@googlemail.com", "creation_time": "2009-02-22T10:25:12Z", "attachment_id": null}]