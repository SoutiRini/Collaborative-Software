[{"count": 0, "tags": [], "bug_id": 54102, "attachment_id": 29551, "is_private": false, "id": 163206, "time": "2012-11-05T19:45:31Z", "creator": "inu@inusasha.de", "creation_time": "2012-11-05T19:45:31Z", "text": "Created attachment 29551\nautoroute patch\n\nThe same application server (like Weblogic) generate at every start a new random route-id. So no static route-id can used.\nThis patch adds the ability to read the route-id from a http-response field, and update the worker.\n\nExample (weblogic):\n  RequestHeader set X-WebLogic-Force-JVMID true\n  ProxySet StickySession=JSESSIONID\n  ProxySet AutoRoute=X-WebLogic-JVMID\n\n@importer:\nI have add same error-message, but i don't known, how to select the right number for it. So i have used the \"99999\" at both position. Please change it.\n\nInuSasha\n\nPS: in combination with patch in #53893, it is a minimal support of non-replication weblogic custer."}, {"count": 1, "tags": [], "bug_id": 54102, "attachment_id": null, "id": 163606, "time": "2012-11-22T17:05:13Z", "creator": "zl@consol.de", "creation_time": "2012-11-22T17:05:13Z", "is_private": false, "text": "As workaround (or solution) you can use the following configuration:\n\n  Header add Set-Cookie \"ROUTEID=.%{BALANCER_WORKER_ROUTE}e; path=/\"\n  <Proxy balancer://appcluster>\n    BalancerMember http://backend1.foo:7001 route=0\n    BalancerMember http://backend2.foo:7001 route=1\n    ProxySet lbmethod=bybusyness nofailover=off stickysession=ROUTEID\n  </Proxy>\n\n\nThis configuration keeps the BALANCER_WORKER_ROUTE in a cookie called ROUTEID. So the stickyness is based on ROUTEID, an not JSESSIONID anymore. This works for session stickyness as well as session-failover scenarios."}, {"count": 2, "tags": [], "bug_id": 54102, "attachment_id": null, "id": 163608, "time": "2012-11-22T17:18:07Z", "creator": "inu@inusasha.de", "creation_time": "2012-11-22T17:18:07Z", "is_private": false, "text": "Thanks Zisis,\n\nactual we use the apache 2.2 with the apache-weblogic module.\nBut this module has same disadvantages, and does not support the Apache 2.4.\nAdditional we have more then one backend-cluster, so many additional cookies were needed.\n\nSo i wait for upload (and backport to 2.4).\n\nSascha"}, {"count": 3, "tags": [], "bug_id": 54102, "text": "Created attachment 29719\nsecond version of the autoroute patch\n\nHi,\n\ni have work on an second version of this patch.\nIt supports now reading the route from set-cookie fields, environment variables or from the notes.\n\nSascha\n\nPS: now i have found the log manual for developers ;)", "id": 163922, "time": "2012-12-06T13:06:58Z", "creator": "inu@inusasha.de", "creation_time": "2012-12-06T13:06:58Z", "is_private": false, "attachment_id": 29719}]