[{"count": 0, "tags": [], "bug_id": 38364, "attachment_id": null, "text": "cygwin have introduced a getline function during the last two months (December\n2005/January 2005) and now make of apache 1.3.34 (after normal ./configure) ends\nwith this -\n\n===> src/support\nmake[2]: Entering directory `/home/src/apache/apache_1.3.34/src/support'\ngcc -c  -I../os/cygwin -I../include   -DCYGWIN -DUSE_HSREGEX -DNO_DL_NEEDED\n`../apaci` htpasswd.c\nhtpasswd.c:101: error: conflicting types for 'getline'\n/usr/include/sys/stdio.h:31: error: previous declaration of 'getline' was here\nhtpasswd.c:101: error: conflicting types for 'getline'\n/usr/include/sys/stdio.h:31: error: previous declaration of 'getline' was here\nmake[2]: *** [htpasswd.o] Error 1\nmake[2]: Leaving directory `/home/src/apache/apache_1.3.34/src/support'\nmake[1]: *** [build-support] Error 1\nmake[1]: Leaving directory `/home/src/apache/apache_1.3.34'\nmake: *** [build] Error 2 \n\nRelated problems are discussed here -\n\nhttp://www.cygwin.com/ml/cygwin/2005-12/msg00183.html\nhttp://www.mail-archive.com/cygwin@cygwin.com/msg62795.html \n\nToday I wrote to cygwin@cygwin.com and got the following reply -\n\n[start of reply]\n\n\"pobox@verysmall.org\" wrote:\n\n> > The second one points out that this is apache problem, but I compiled\n> > apache 1.3.34 tens of times for cygwin in the past months (last compile\n> > 1-2 months ago) without any problem.\n\nJust because Cygwin changed does not mean it's not an Apache problem. \nCygwin added an implementation of getline() where there was not one\nbefore. But Apache's build system makes false assumptions about this\nfunction not existing, so it blindly tries to use its own included\nversion. This is the whole point of autoconf, to test for functionality\non the platform and act accordingly. If Apache tries to use its own\ngetline() when one exists in the system library then it is broken and\nneeds to be fixed.\n\n> > Could anybody tell me how can I roll back to cygwin 1-5-18, so that I\n> > can work until this is resolved?\n\nSelect the desired version of the cygwin package in setup.exe.\n\nHowever, by doing this you just exacerbate the problem so that it\ncontinues to exist.  What needs to happen is for users of Apache to\nreport this deficiency in its build system to the developers so that\nfuture versions of Apache can be fixed.  Consider filing a PR at\n<http://issues.apache.org/bugzilla/> or posting on their mailing list.\n\nBrian\n\n[end of repy]\n\nIs there any change that to be fixed at all (and soon) or should I try higher\nversion of apache (and will it work at all).\n\nThis is quite critical as I can't work at the moment...\n\nThanks!", "id": 84935, "time": "2006-01-24T09:27:56Z", "creator": "iavor.raytchev@verysmall.org", "creation_time": "2006-01-24T09:27:56Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 38364, "text": "I meant December 2005/January 2006.", "id": 84936, "time": "2006-01-24T09:39:40Z", "creator": "iavor.raytchev@verysmall.org", "creation_time": "2006-01-24T09:39:40Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 38364, "attachment_id": null, "id": 85326, "time": "2006-02-02T00:06:34Z", "creator": "martin.espinoza@gmail.com", "creation_time": "2006-02-02T00:06:34Z", "is_private": false, "text": "See PR#9894, \"getline sub in support progs collides with existing getline def'n\"\n(found out about it on http://www.cygwin.com/ml/cygwin/2006-01/msg01152.html\nafter googling.) This patch does not cleanly apply to the latest apache 1.3\n(version has changed) but the method used in the patch works fine. I tried just\nadding \"#define getline ap_getline\" to the files in question but it only worked\nproperly on two of three of them so I went ahead and made the patch changes\nmanually.\n\nI had another problem, though, so I'm not really sure this is a complete solution..."}, {"count": 3, "tags": [], "bug_id": 38364, "attachment_id": null, "id": 93808, "time": "2006-09-19T19:41:56Z", "creator": "wrowe@apache.org", "creation_time": "2006-09-19T19:41:56Z", "is_private": false, "text": "Their advise is lovely for Apache 2.0 (where we have autoconf detection),\nbut classic 1.3 relies on a specific OS version adding or removing\nfunctionality.\n\nTell us the signature (a #define in cygwin for the version that introduced\nthis new function) and we can provide an exception for the new version.\n"}]