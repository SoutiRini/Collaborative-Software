[{"count": 0, "attachment_id": null, "bug_id": 29254, "is_private": false, "id": 58233, "time": "2004-05-27T19:22:26Z", "creator": "remedyqa@yahoo.com", "creation_time": "2004-05-27T19:22:26Z", "tags": [], "text": "Overview Description:\n=====================\nWhen the option to retrieve embedded resources is selected for an HTTP Request, \nJavascript files are retrieved as expected, however they are also being parsed \nas HTML.\n\nSteps to Reproduce:\n===================\nSince there doesn't seem to be a way to include attachments into this bug \nreport, I will put the source here.\n\nMy web directory structure:\nrootdocs/\n   testdir/\n      HTMLParserTestCaseWithJS.html\n   javascript/\n      test.js\n      \nMy JMeter Test Plan:\nThread Group\n   HTTP Request with embedded resources \n(http://localhost/testdir/HTMLParserTestCaseWithJS.html)\n   ViewResultsTree\n   \nMy contents of HTMLParserTestCaseWithJS.html:\n<html>\n<head>\n</head>\n<body>\n<script language=\"JavaScript\" src=\"../javascript/test.js\"></script>\nHello World!\n</body>\n</html>\n\n\nMy contents of test.js:\nvar sharedURI = \"http://localhost/shared\";\n\nfunction func1(doc) \n{    \n    var img = \"<img style='float: right;' src='\" + sharedURI \n+ \"/images/menu_arrow.gif'/>\";\n    doc.write(\"<link rel=stylesheet type='text/css' href='\" + func2() \n+ \"'>\\n\");      \t \n}\n\nfunction func2()\n{\n    return \"junk.css\";\n}\n\nNow run the JMeter Test Plan.\n\n\nActual Results:\n===============\nLooking at ViewResultsTree, you will see errors (in red) for test.js.  It \nretrieved test.js but tried to interpret the img and link tags within the \njavascript. These are where the errors occur.\n\n\nExpected Results: \n=================\nShould only retrieve the test.js javascript file and not parse it.\n\n\nBuild Date & Platform: \n======================\nJMeter 2.0.0\n\n\nAdditional Information:\n=======================\nThis occurs with all three HTML parsers that come with JMeter."}, {"count": 1, "tags": [], "creator": "remedyqa@yahoo.com", "attachment_id": 11683, "id": 58235, "time": "2004-05-27T19:26:05Z", "bug_id": 29254, "creation_time": "2004-05-27T19:26:05Z", "is_private": false, "text": "Created attachment 11683\nHTML file containing embedded script tag."}, {"count": 2, "attachment_id": 11684, "bug_id": 29254, "is_private": false, "id": 58236, "time": "2004-05-27T19:27:42Z", "creator": "remedyqa@yahoo.com", "creation_time": "2004-05-27T19:27:42Z", "tags": [], "text": "Created attachment 11684\nJavascript file containing some html tag fragments"}, {"count": 3, "attachment_id": null, "bug_id": 29254, "text": "JMeter now checks for the content-type text/html; if that is not present, the \nbody will not be scanned for links.\n\nThis is in the 2.0 branch (but I don't think it made it into 2.0.1).", "id": 59150, "time": "2004-06-12T15:38:53Z", "creator": "sebb@apache.org", "creation_time": "2004-06-12T15:38:53Z", "tags": [], "is_private": false}]