[{"count": 0, "tags": [], "bug_id": 57249, "attachment_id": 32223, "id": 179241, "time": "2014-11-24T09:03:59Z", "creator": "petr.sumbera@oracle.com", "creation_time": "2014-11-24T09:03:59Z", "is_private": false, "text": "Created attachment 32223\nTEST-org.apache.tomcat.util.net.jsse.openssl.TestCipher.BIO.txt\n\nI'm seeing several test errors related OpenSSL Cipher Availability. Basically getting more cyphers than it's expected.\n\nThis seemed to be discussed earlier here:\n\nhttp://mail-archives.apache.org/mod_mbox//tomcat-dev/201407.mbox/%3C53DA3171.1030508@apache.org%3E\n\nSee attached log.\n\n-bash-4.2$ /usr/jdk/instances/jdk1.7.0/bin/java -version\njava version \"1.7.0_72\"\nJava(TM) SE Runtime Environment (build 1.7.0_72-b14)\nJava HotSpot(TM) Server VM (build 24.72-b04, mixed mode)\n\nNote that I'm getting failures for all below tests:\nTEST-org.apache.tomcat.util.net.jsse.openssl.TestCipher.BIO.txt:        FAILED\nTEST-org.apache.tomcat.util.net.jsse.openssl.TestCipher.NIO.txt:        FAILED\nTEST-org.apache.tomcat.util.net.jsse.openssl.TestCipher.NIO2.txt:       FAILED\nTEST-org.apache.tomcat.util.net.jsse.openssl.TestOpenSSLCipherConfigurationParser.BIO.txt:      FAILED\nTEST-org.apache.tomcat.util.net.jsse.openssl.TestOpenSSLCipherConfigurationParser.NIO.txt:      FAILED\nTEST-org.apache.tomcat.util.net.jsse.openssl.TestOpenSSLCipherConfigurationParser.NIO2.txt:     FAILED"}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "The error you are seeing is because there are 47 cipher suites that the test expects to be present that are not.\n\nSince each OS vendor is free to compile OpenSSL with the options of their choice (and some of those options will exclude support for some cipher suites) then it is an almost impossible task to get this test to pass all platforms.\n\nWhat we aim to do (and I believe the current code does this) is that the test should pass with the lastest version of OpenSSL using the default build options. We test this on Windows, OSX and Linux. I've just re-checked this on Windows and OSX and these tests pass.", "id": 179242, "time": "2014-11-24T11:01:47Z", "bug_id": 57249, "creation_time": "2014-11-24T11:01:47Z", "is_private": false}, {"count": 2, "tags": [], "creator": "petr.sumbera@oracle.com", "attachment_id": null, "text": "Ok. So I was misunderstanding:\n\nexpected:<0> but was:<47>\n\nI thought that we have more cyphers (47) than it was expected (0).", "id": 179250, "time": "2014-11-24T12:34:40Z", "bug_id": 57249, "creation_time": "2014-11-24T12:34:40Z", "is_private": false}]