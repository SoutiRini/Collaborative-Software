[{"count": 0, "tags": [], "bug_id": 45165, "text": "Created attachment 22098\nMultiFileAppender implementation\n\nThe multifile sandbox project (http://svn.apache.org/repos/asf/logging/sandbox/log4j/multifile) is currently in an unusable state.\n\nThe goal of this Bug is to get a working implementation of the Multifile Appender.\n\nI attach a basic implementation of the MultiFileAppender.\nIt uses a SubAppender class which inherits from FileAppender and encapsulates the File handling stuff.\nThe append method manages the open files and delegates the log events to the SubAppenders.\n\nThere is a simple test case, that instantiates some threads, that log simultaneously.\n\nAny comments are welcome", "id": 117493, "time": "2008-06-09T00:32:13Z", "creator": "haeberling@privasphere.com", "creation_time": "2008-06-09T00:32:13Z", "is_private": false, "attachment_id": 22098}, {"count": 1, "attachment_id": 22104, "bug_id": 45165, "is_private": false, "id": 117534, "time": "2008-06-10T06:29:10Z", "creator": "haeberling@privasphere.com", "creation_time": "2008-06-10T06:29:10Z", "tags": [], "text": "Created attachment 22104\nMultiFileAppender.java - new version\n\nA new version of the MultiFileAppender class.\n\nThe old one had a NullPointerException if a file could not be opened.\nI fixed that and also did some refactoring: I removed the dependency on the FileAppender. This makes the code is much clearer and the error handling easier."}, {"count": 2, "attachment_id": null, "bug_id": 45165, "is_private": false, "id": 117674, "time": "2008-06-13T12:46:49Z", "creator": "carnold@apache.org", "creation_time": "2008-06-13T12:46:49Z", "tags": [], "text": "Attachment 22104 committed in rev 667628."}, {"count": 3, "attachment_id": null, "bug_id": 45165, "is_private": false, "id": 117685, "time": "2008-06-13T15:20:25Z", "creator": "carnold@apache.org", "creation_time": "2008-06-13T15:20:25Z", "tags": [], "text": "Will probably make some of the extension points \"private\" until internals settle down.  Was intending to use java.nio and would likely move formatting and encoding up to the Appender itself.  Might make MFA a specialization of a MultiChannelAppender.\n\nDefinitely will need more unit tests.\n\nThanks for the contribution.  Will use this bug report for continued discussion on this feature."}, {"count": 4, "attachment_id": null, "bug_id": 45165, "is_private": false, "id": 120431, "time": "2008-09-07T22:29:19Z", "creator": "hauser@acm.org", "creation_time": "2008-09-07T22:29:19Z", "tags": [], "text": "just noticed in a tomcat setting where one thread goes into say appender A1, if that thread spawns a sub-thread, its ouput is not visibly in A1, but again in catalina.out as the \"catch-all\"..."}, {"count": 5, "tags": [], "creator": "hauser@acm.org", "attachment_id": null, "text": "re comment 4 \nI guess Thread.local won't work, so probably such threads need to be made multifile-appender aware (which I don't mind)\nI guess they'll have to implement an additional abstract interface with a local variable that allows to tell the multifile appender which was the parent's appender", "id": 120432, "time": "2008-09-07T22:49:47Z", "bug_id": 45165, "creation_time": "2008-09-07T22:49:47Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 45165, "attachment_id": null, "text": "Hi ,\n\nThanks for sharing new Developement Actually its a new requirement for me and i got it here .its fit my requirement.Can u please tell how to set the Same using log4j.properties.\n\ni tried the below one but it giving error.\nlog4j:ERROR No defaultFileName set for the appender named [fcrjlog].\n\n\n\nlog4j.rootLogger=DEBUG, fcrjlog\n\nlog4j.appender.fcrjlog=org.apache.log4j.multifile.MultiFileAppender\nlog4j.appender.fcrjlog.File=D:\\\\Flexcube\\\\host\\\\logs\\\\fcrjlog.txt\nlog4j.appender.fcrjlog.layout=org.apache.log4j.PatternLayout\nlog4j.appender.fcrjlog.layout.ConversionPattern=%d %t %p [%c] %m%n\n", "id": 124025, "time": "2009-01-14T03:41:41Z", "creator": "tkprsenthil@gmail.com", "creation_time": "2009-01-14T03:41:41Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 45165, "text": "see also http://marc.info/?l=log4j-user&m=121252695203831&w=2", "id": 130769, "time": "2009-10-01T04:44:27Z", "creator": "hauser@acm.org", "creation_time": "2009-10-01T04:44:27Z", "is_private": false, "attachment_id": null}]