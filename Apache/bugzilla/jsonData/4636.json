[{"count": 0, "tags": [], "text": "I have an application that create many threads, and each of the thread should \nhas it's own logging file.  However, logging sometimes write logs to other \nthread's log file.  Following is my sample code.  The thread \"ta\" writes log to \nlog file of \"tb\" once \"tb\" get started.  How can I solve this problem?\n\nconfig1.txt contents:\nlog4j.rootCategory=debug, R\nlog4j.appender.R=org.apache.log4j.RollingFileAppender\nlog4j.appender.R.File=log1.log\nlog4j.appender.R.MaxFileSize=10KB\nlog4j.appender.R.MaxBackupIndex=2\nlog4j.appender.R.layout=org.apache.log4j.PatternLayout\nlog4j.appender.R.layout.ConversionPattern=%d [%t] %-5p %c - %m%n   \n\nconfig2.txt contents:\nlog4j.rootCategory=debug, R\nlog4j.appender.R=org.apache.log4j.RollingFileAppender\nlog4j.appender.R.File=log2.log\nlog4j.appender.R.MaxFileSize=10KB\nlog4j.appender.R.MaxBackupIndex=2\nlog4j.appender.R.layout=org.apache.log4j.PatternLayout\nlog4j.appender.R.layout.ConversionPattern=%d [%t] %-5p %c - %m%n   \n\n------------------------------------------------------------------------------\nimport org.apache.log4j.Category;\nimport org.apache.log4j.PropertyConfigurator;\nimport org.apache.log4j.RollingFileAppender;\n\npublic class MyTest implements Runnable\n{\n  Category cat = Category.getInstance(MyTest.class.getName());\n  int i=0;\n\n  public void run()\n  {\n    cat.debug(MyTest.class.getName());\n    while (i<10)\n    {\n      try\n      {\n        Thread.sleep(2000);\n      }\n      catch (InterruptedException e)\n      {}\n      cat.debug(Integer.toString(i++));\n    }\n  }     \n  MyTest(String file)\n  {\n    System.out.println(file);\n    PropertyConfigurator.configureAndWatch(file, 5000);\n  }\n\n  public static void main (String args[])\n  {\n    MyTest a = new MyTest(\"config1.txt\");\n    Thread ta = new Thread(a, \"a\");\n    ta.start();\n    MyTest b = new MyTest(\"config2.txt\");\n    Thread tb = new Thread(b, \"b\");\n    tb.start();\n  }\n}", "attachment_id": null, "bug_id": 4636, "id": 7523, "time": "2001-11-05T00:23:17Z", "creator": "joelpang@spectratech.com", "creation_time": "2001-11-05T00:23:17Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 4636, "attachment_id": null, "text": "\nCategory.getInstance will always return the same category. Please refer to the \nuser manual for further details. ", "id": 7560, "time": "2001-11-05T15:16:10Z", "creator": "cgu@qos.ch", "creation_time": "2001-11-05T15:16:10Z", "is_private": false}]