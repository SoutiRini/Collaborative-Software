[{"count": 0, "tags": [], "bug_id": 56395, "attachment_id": 31516, "text": "Created attachment 31516\nAllow SERVER_ADDR to be undisclosed via a core directive\n\nIt may be useful to not disclose the web server's IP address to scripts running on the server. My use case for this is to aid in protection agains DDoS attacks, where a website's DNS zone is set up such that the server address is not published in a \"guessable\" way (eg. by pointing to a CDN provider and using a random DNS entry for sync'ing between the CDN and the server).\n\nThe attached patches implement this. The first one does that via a code configuration directive. In that case, if the user sets \"ExportServerAddr Off\", then the SERVER_ADDR environment variable will not be passed to scripts.\n\nThe second patch does the same, but using environment variables instead. In that case the user has to set \"PassEnv HIDE_SERVER_ADDR\" and then define this variable in the shell (eg. export HIDE_SERVER_ADDR=1). To revert to the default behavior, one only has to unset the variable (eg. unset HIDE_SERVER_ADDR).", "id": 174494, "time": "2014-04-11T18:26:44Z", "creator": "andre@digirati.com.br", "creation_time": "2014-04-11T18:26:44Z", "is_private": false}, {"count": 1, "tags": [], "creator": "andre@digirati.com.br", "attachment_id": 31517, "is_private": false, "id": 174495, "time": "2014-04-11T18:27:25Z", "bug_id": 56395, "creation_time": "2014-04-11T18:27:25Z", "text": "Created attachment 31517\nAllow SERVER_ADDR to be undisclosed via an environment variable"}]