[{"count": 0, "tags": [], "text": "When concurrency (-c) is not a multiple of the number of request (-n), ab does\nperforms too many request (the next mutiple of -c), but still report -n requests:\n\n\nab -n 1 -c 2 http://kameha:8888/\nThis is ApacheBench, Version 2.0.41-dev <$Revision: 1.121.2.12 $> apache-2.0\nCopyright (c) 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nCopyright (c) 1998-2002 The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking kameha (be patient).....done\n\n\nServer Software:        Apache/2.0.58\nServer Hostname:        kameha\nServer Port:            8888\n\nDocument Path:          /\nDocument Length:        1456 bytes\n\nConcurrency Level:      2\nTime taken for tests:   0.2341 seconds\nComplete requests:      1\nFailed requests:        0\n...\n\n\nIt pretends to have completed one request, but in fact the server logs two requests.", "attachment_id": null, "bug_id": 39670, "id": 89542, "time": "2006-05-27T18:16:16Z", "creator": "marc@mongenet.ch", "creation_time": "2006-05-27T18:16:16Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 39670, "attachment_id": 19571, "text": "Created attachment 19571\nPrevents more requests being started than are supposed to be\n\nI've encountered this problem also, and found it to occur even when the number\nof requests is a multiple of the concurrency level. The problem is that ab\nkeeps starting new requests as long as less than the required number have been\ncompleted, so with high concurrency levels it's common for there to be some\nrequests outstanding when the benchmark completes.\n\nThere are situations where starting too many requests could lead to inaccurate\nresults, e.g. if the additional requests cause the server to do lots of extra\nwork that ends up slowing down the earlier requests.\n\nThe attached patch fixes the problem. It was made against version 2.2.4 of\nhttpd.", "id": 99232, "time": "2007-02-10T22:06:27Z", "creator": "pmk@cs.adelaide.edu.au", "creation_time": "2007-02-10T22:06:27Z", "is_private": false}, {"count": 2, "tags": [], "creator": "sf@sfritsch.de", "text": "This works as of 2.3.12. ab -n 1 -c 2 is rejected and ab -n 3 -c 2 does exactly 3 requests.\n\nProbably this was fixed in r940526", "id": 147077, "time": "2011-06-13T20:56:23Z", "bug_id": 39670, "creation_time": "2011-06-13T20:56:23Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "sf@sfritsch.de", "attachment_id": null, "id": 154186, "time": "2012-02-26T16:40:23Z", "bug_id": 39670, "creation_time": "2012-02-26T16:40:23Z", "is_private": false, "text": "fixed in 2.4.1"}]