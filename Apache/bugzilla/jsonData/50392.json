[{"count": 0, "tags": [], "creator": "kvelusamy@vitechinc.com", "attachment_id": null, "id": 142255, "time": "2010-12-01T10:51:07Z", "bug_id": 50392, "creation_time": "2010-12-01T10:51:07Z", "is_private": false, "text": "When user agent submit a request which is POST/Multipart to Jmeter Http Proxy server, for the key and value arguments,value filed is being trimmed which is totally wrong. what if the value field is depend on the space?\n\ni figured out where is the problem and its in org.apache.jmeter.protocol.http.config.MultipartUrlConfig \n\ni added the below code in parseArquments method and removed the trim part\n\n/*\n                     * Bug Fix\n                     * Do not trim the value,just remove the extra char's appended with value in the process.\n                     * value always contains \\n\\r\\n<value>\\r\\n \n                     */\n                    if(value!=null)\n                    {\n                    \tif(value.length()>=3&&value.substring(0,3).equals(\"\\n\\r\\n\"))\n                    \t{\n                    \t\tvalue=value.substring(3);\n                    \t}                    \t\n                    \tif(value.length()>=2&&value.substring(value.length()-2).equals(\"\\r\\n\"))\n                    \t{\n                    \t\tvalue=value.substring(0,value.length()-2);\n                    \t}\n                    }   \n\nPlease let me know if you need any more info."}, {"count": 1, "attachment_id": null, "bug_id": 50392, "text": "Thanks! \n\nI agree, there is a problem with the parsing of values - it should only strip the initial blank line and the trailing EOL.\n\nBTW, I'm not quite sure why the code allows for \"\\n\\n\" (LFLF); AFAIK, CRLF is the only permitted EOL marker. However I think that option should be kept for now.", "id": 142300, "time": "2010-12-02T09:37:03Z", "creator": "sebb@apache.org", "creation_time": "2010-12-02T09:37:03Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 50392, "text": "I've just tried to generate form data with trailing spaces in browsers, but IE, FF and Opera all convert trailing spaces to +.\n\nSo what user agent caused the problem for you?", "id": 142301, "attachment_id": null, "creator": "sebb@apache.org", "creation_time": "2010-12-02T09:46:48Z", "time": "2010-12-02T09:46:48Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 50392, "text": "Keep the form as multipart so that it will be sent as it is\nI used FF.\n(In reply to comment #2)\n> I've just tried to generate form data with trailing spaces in browsers, but IE,\n> FF and Opera all convert trailing spaces to +.\n> \n> So what user agent caused the problem for you?", "id": 142302, "attachment_id": null, "creator": "kvelusamy@vitechinc.com", "creation_time": "2010-12-02T09:51:44Z", "time": "2010-12-02T09:51:44Z", "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 50392, "is_private": false, "id": 142304, "time": "2010-12-02T10:12:09Z", "creator": "sebb@apache.org", "creation_time": "2010-12-02T10:12:09Z", "tags": [], "text": "Thanks! \nI'd not specified the enctype. \nAdding  enctype=\"multipart/form-data\" now works with FF."}, {"count": 5, "attachment_id": null, "bug_id": 50392, "is_private": false, "id": 142306, "time": "2010-12-02T10:26:03Z", "creator": "sebb@apache.org", "creation_time": "2010-12-02T10:26:03Z", "tags": [], "text": "Fixed in SVN:\n\nURL: http://svn.apache.org/viewvc?rev=1041406&view=rev\nLog:\nBug 50392 - value is trimmed when sending the request in Multipart\n\nModified:\n   jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/config/MultipartUrlConfig.java\n   jakarta/jmeter/trunk/test/src/org/apache/jmeter/protocol/http/config/MultipartUrlConfigTest.java\n   jakarta/jmeter/trunk/xdocs/changes.xml"}, {"count": 6, "attachment_id": null, "bug_id": 50392, "is_private": false, "id": 142309, "time": "2010-12-02T10:36:24Z", "creator": "kvelusamy@vitechinc.com", "creation_time": "2010-12-02T10:36:24Z", "tags": [], "text": "Thank you .You are Amazing!."}]