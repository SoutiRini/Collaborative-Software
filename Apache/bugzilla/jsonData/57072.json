[{"count": 0, "tags": [], "bug_id": 57072, "attachment_id": 32096, "id": 178362, "time": "2014-10-09T10:36:07Z", "creator": "lhersch@dssgmbh.de", "creation_time": "2014-10-09T10:36:07Z", "is_private": false, "text": "Created attachment 32096\nbuild.xml\n\nRun the attached build.xml.\nThe output you get is like the following.\n\ntest:\n     [echo] user.home = /home/lhersch\n     [echo] test.my.home = /home/lhersch\n\nChange the build.xml and set prefixValues=true in the property-task.\nNow you get an output like the following.\n\ntest:\n     [echo] user.home = /home/lhersch\n     [echo] test.my.home = ${user.home}\n\nI have tested this also with ant 1.8.4. There is the same behaviour."}, {"count": 1, "tags": [], "creator": "lhersch@dssgmbh.de", "attachment_id": 32097, "text": "Created attachment 32097\nbuild.properties", "id": 178363, "time": "2014-10-09T10:36:58Z", "bug_id": 57072, "creation_time": "2014-10-09T10:36:58Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 57072, "is_private": false, "text": "I think this is not a bug but the behavior is correct.\n\nWhen you set prefixvalues to true, Ant will add the prefix you've specified when expanding ${} on the right hand side.  This applies to all properties, system properties included.", "id": 179175, "time": "2014-11-18T19:01:29Z", "creator": "bodewig@apache.org", "creation_time": "2014-11-18T19:01:29Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 57072, "is_private": false, "text": "Assuming that is not a bug, how can i solve the following issue.\n\nI use in my build-files something of the kind like in the attached files. This work as expected with ant version 1.8.4. \n\nThe output i get is:\n\ntest:\n     [echo] test.my.ldir = /home/lhersch\n     [echo] test.my.libf = /home/lhersch/somelib\n\nWith ant 1.9.4 i get the following output.\n\ntest:\n     [echo] test.my.ldir = /home/lhersch\n     [echo] test.my.libf = ${my.ldir}/somelib\n\nThen i changed in my build.xml the value of prefixValues to true, because if found the following in the description of the property-task.\n\n\"If you want to expand properties defined inside the same file and you use the prefix attribute of the task, you must use the same prefix when expanding the properties or set prefixValues to true.\"\n\nAfter that the output with both versions of ant is:\n\ntest:\n     [echo] test.my.ldir = ${user.home}\n     [echo] test.my.libf = ${user.home}/somelib\n\n\nTherefore i don't know, how should i change my build-files to work with ant 1.9.4.", "id": 179187, "time": "2014-11-19T11:25:10Z", "creator": "lhersch@dssgmbh.de", "creation_time": "2014-11-19T11:25:10Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 57072, "attachment_id": 32215, "text": "Created attachment 32215\nbuild.properties for comment 3", "id": 179188, "time": "2014-11-19T11:27:15Z", "creator": "lhersch@dssgmbh.de", "creation_time": "2014-11-19T11:27:15Z", "is_private": false}, {"count": 5, "tags": [], "creator": "lhersch@dssgmbh.de", "is_private": false, "id": 179189, "creation_time": "2014-11-19T11:27:58Z", "time": "2014-11-19T11:27:58Z", "bug_id": 57072, "text": "Created attachment 32216\nbuild.xml for comment 3", "attachment_id": 32216}, {"count": 6, "tags": [], "bug_id": 57072, "attachment_id": null, "text": "(In reply to lhersch from comment #3)\n> Assuming that is not a bug, how can i solve the following issue.\n\nYou can't.  Not using the property task, at least.\n\nThe whole handling of prefixes in properties has been a source for several bugs and we've had out share of backs and forths with incompatible changes while trying to \"fix\" what isn't really fixable.  What you want to do is most likely the opposite somebody else expects and we'd break this other person's build file.\n\nWhat you want to achieve can be done with loadproperties and an expandproperties filter\n\n  <loadproperties srcfile=\"build.properties\" prefix=\"test\" prefixValues=\"true\">\n    <filterchain>\n      <expandproperties/>\n    </filterchain>\n  </loadproperties>\n\ndoes what you want.", "id": 179203, "time": "2014-11-20T12:23:39Z", "creator": "bodewig@apache.org", "creation_time": "2014-11-20T12:23:39Z", "is_private": false}, {"count": 7, "tags": [], "creator": "lhersch@dssgmbh.de", "attachment_id": null, "text": "That works, many thanks", "id": 179204, "time": "2014-11-20T13:26:28Z", "bug_id": 57072, "creation_time": "2014-11-20T13:26:28Z", "is_private": false}]