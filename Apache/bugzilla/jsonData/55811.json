[{"count": 0, "tags": [], "creator": "knst.kolinko@gmail.com", "text": "ContextConfig.webConfig() does the following:\n\n1. Scans for web fragments\n> Map<String,WebXml> fragments = processJarsForWebFragments();\n\nThis method\na) returns a list of all JAR files, not ignored by jarsToSkip options\nb) parses \"META-INF/web-fragment.xml\" files when they are present\n\n2. Filters and sorts them according to ordering\n> orderedFragments = WebXml.orderWebFragments(webXml, fragments, sContext);\n\n3. Uses the ordered set of fragments to look for SCI declarations\n> processServletContainerInitializers(orderedFragments);\n\n4. Uses the ordered set of fragments to\n- scan them for annotated classes\n- merge into main web.xml\n\n5. Uses the original list of web fragments to scan for resources.\n> processResourceJARs(resourceJars);\n\n\nI am saying that parsing of the fragments (step 1-b)) can be skipped when the web application is configured with an empty ordered-fragments element and web.xml validation is turned off (strict servlet compliance is off).\n\nNote that metadata-complete=true alone does not allow to skip that parsing, because we need fragment names to perform the ordering.\n\nIt seems that skipping that parsing when validation is on would be a bad idea. We are still using those JARs for resources and thus I think we should validate them.", "id": 171392, "time": "2013-11-22T14:45:40Z", "bug_id": 55811, "creation_time": "2013-11-22T14:45:40Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 55811, "attachment_id": null, "text": "Fixed in 8.0.x and 7.0.x for 8.0.0-RC6 and 7.0.48 respectively.", "id": 171628, "time": "2013-12-07T21:05:07Z", "creator": "markt@apache.org", "creation_time": "2013-12-07T21:05:07Z", "is_private": false}]