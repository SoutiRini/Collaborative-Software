[{"count": 0, "tags": [], "creator": "adelmelle@apache.org", "attachment_id": 22249, "id": 118607, "time": "2008-07-13T14:26:22Z", "bug_id": 45390, "creation_time": "2008-07-13T14:26:22Z", "is_private": false, "text": "Created attachment 22249\nprototype implementation for pdf:dictionary + pdf:entry\n\nThe attached patch contains a working prototype implementation for PDF extension objects, as discussed on http://wiki.apache.org/xmlgraphics-fop/ExtensionsForPdf.\n\nThere's still quite some unfinished business there, but it should suffice to give interested parties a starting-point (no idea when I'll be able to spend more time on this).\n\nAfter applying the patch, Jiri Tyr's requirement can be met by adding:\n\n<pdf:dictionary type=\"catalog\" xmlns:pdf=\"http://xmlgraphics.apache.org/fop/extensions/pdf\">\n  <pdf:entry name=\"PageMode\">FullScreen</pdf:entry>\n</pdf:dictionary>\n\nbasically anywhere in the document (I think; I've only tried specifying it as a descendant of fo:root)."}, {"count": 1, "tags": [], "bug_id": 45390, "attachment_id": 22261, "id": 118686, "time": "2008-07-15T14:29:23Z", "creator": "adelmelle@apache.org", "creation_time": "2008-07-15T14:29:23Z", "is_private": false, "text": "Created attachment 22261\nUpdated patch\n\n\nAdded minimal support for subdictionaries and boolean entries, so the following now becomes possible:\n\n  <pdf:dictionary type=\"catalog\" xmlns:pdf=\"http://xmlgraphics.apache.org/fop/extensions/pdf\">\n    <pdf:entry name=\"PageMode\" type=\"name\">FullScreen</pdf:entry>\n    <pdf:dictionary type=\"normal\" name=\"ViewerPreferences\">\n      <pdf:entry name=\"HideToolbar\" type=\"boolean\">true</pdf:entry>\n      <pdf:entry name=\"HideWindowUI\" type=\"boolean\">true</pdf:entry>\n      <pdf:entry name=\"FitWindow\" type=\"boolean\">true</pdf:entry>\n      <pdf:entry name=\"CenterWindow\" type=\"boolean\">true</pdf:entry>\n      <pdf:entry name=\"NonFullScreenPageMode\" type=\"name\">UseThumbs</pdf:entry>\n    </pdf:dictionary>\n  </pdf:dictionary>"}, {"count": 2, "tags": [], "creator": "adelmelle@apache.org", "text": "Created attachment 22286\nupdated prototype; some more experimenting...\n\n\nThe patch in attach disables processing of the extension in case PDF/A or PDF/X conformance is active. Better safe than sorry. For users that really don't mind the risk, we could still add a config option to override this.\n\nOn another note, adding a quick-and-dirty implementation for simple PDF strings already allows adding some JavaScript as an OpenAction...\n\nMost complete example I tested so far:\n\n  <pdf:dictionary type=\"catalog\" xmlns:pdf=\"http://xmlgraphics.apache.org/fop/extensions/pdf\">\n    <pdf:name key=\"PageMode\">FullScreen</pdf:name>\n    <pdf:dictionary type=\"normal\" key=\"ViewerPreferences\">\n      <pdf:boolean key=\"HideToolbar\">true</pdf:boolean>\n      <pdf:boolean key=\"HideWindowUI\">true</pdf:boolean>\n      <pdf:boolean key=\"FitWindow\">true</pdf:boolean>\n      <pdf:boolean key=\"CenterWindow\">true</pdf:boolean>\n      <pdf:name key=\"NonFullScreenPageMode\">UseThumbs</pdf:name>\n      <pdf:name key=\"PrintScaling\">None</pdf:name>\n    </pdf:dictionary>\n    <pdf:dictionary type=\"normal\" key=\"OpenAction\">\n      <pdf:name key=\"Type\">Action</pdf:name>\n      <pdf:name key=\"S\">JavaScript</pdf:name>\n      <pdf:string key=\"JS\">this.print(false,0,this.numPages-1);</pdf:string>\n    </pdf:dictionary>\n  </pdf:dictionary>\n\nThe JavaScript was borrowed from Bugzilla #12610, which also attempted to address this.\n\nI'd say it's about time to look into adding some basic validation, shaving off the rough edges (!!serialization!!), and adding some documentation and testcases.", "id": 118841, "time": "2008-07-20T01:09:29Z", "bug_id": 45390, "creation_time": "2008-07-20T01:09:29Z", "is_private": false, "attachment_id": 22286}, {"count": 3, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "id": 157389, "time": "2012-04-07T01:42:16Z", "bug_id": 45390, "creation_time": "2012-04-07T01:42:16Z", "is_private": false, "text": "resetting P2 open bugs to P3 pending further review"}]