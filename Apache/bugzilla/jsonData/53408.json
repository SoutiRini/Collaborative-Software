[{"count": 0, "tags": [], "creator": "lmpmbernardo@gmail.com", "attachment_id": 28927, "is_private": false, "id": 159945, "time": "2012-06-13T12:57:50Z", "bug_id": 53408, "creation_time": "2012-06-13T12:57:50Z", "text": "Created attachment 28927\nthe patch\n\nThis patch includes two new PNG image loaders, one that uses the internal XGC PNG codec, and is very much equivalent to to the ImageIO image loader, and another that does not do the decoding of the PNG IDAT chunk and instead accepts the \"raw\" chunk. The image loaders are named, respectively, ImageLoaderPNG, and ImageLoaderRawPNG. For now these image loaders have a default penalty of 1000 so that the default image loader is still ImageLoaderImageIO.\n\nThe ImageLoaderRawPNG has still some limitations on the type of PNG images that can handle. It only handles images with 8 bits per channel and without interlacing. Nevertheless, this image loader is particularly useful for large images encoded with the Paeth filter since it does not do the decoding (inverting the Paeth filter is very expensive). So besides being faster it also produces smaller output files."}, {"count": 1, "tags": [], "text": "Created attachment 28928\ntest images\n\nattached are some test images to place in test/images. they are needed to run the unit tests. these images were obtained from here: http://www.schaik.com/pngsuite/", "is_private": false, "bug_id": 53408, "id": 159946, "time": "2012-06-13T12:59:55Z", "creator": "lmpmbernardo@gmail.com", "creation_time": "2012-06-13T12:59:55Z", "attachment_id": 28928}, {"count": 2, "tags": [], "text": "Note: for the record, this code, and the associated image handler for PDF in FOP, was initially prototyped by Matthias Reischenbacher and I built upon it. Thanks Matthias.", "is_private": false, "bug_id": 53408, "id": 159949, "time": "2012-06-13T13:28:40Z", "creator": "lmpmbernardo@gmail.com", "creation_time": "2012-06-13T13:28:40Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "(In reply to comment #0)\n> Created attachment 28927 [details]\n> the patch\n> \n> This patch includes two new PNG image loaders, one that uses the internal\n> XGC PNG codec, and is very much equivalent to to the ImageIO image loader,\n> and another that does not do the decoding of the PNG IDAT chunk and instead\n> accepts the \"raw\" chunk. The image loaders are named, respectively,\n> ImageLoaderPNG, and ImageLoaderRawPNG. For now these image loaders have a\n> default penalty of 1000 so that the default image loader is still\n> ImageLoaderImageIO.\n> \n> The ImageLoaderRawPNG has still some limitations on the type of PNG images\n> that can handle. It only handles images with 8 bits per channel and without\n> interlacing. Nevertheless, this image loader is particularly useful for\n> large images encoded with the Paeth filter since it does not do the decoding\n> (inverting the Paeth filter is very expensive). So besides being faster it\n> also produces smaller output files.\n\nThis introduces two deprecated use warnings when compiling. Could you fix?\n\ncompile-java:\n    [mkdir] Created dir: /users/glenn/Work/xgc/build/classes\n    [javac] Compiling 290 source files to /users/glenn/Work/xgc/build/classes\n    [javac] /users/glenn/Work/xgc/src/java/org/apache/xmlgraphics/java2d/ps/PSGraphics2D.java:279: warning: [deprecation] renderBitmapImage(java.awt.image.RenderedImage,float,float,float,float,org.apac\\\nhe.xmlgraphics.ps.PSGenerator) in org.apache.xmlgraphics.ps.PSImageUtils has been deprecated\n    [javac]             PSImageUtils.renderBitmapImage(buf,\n    [javac]                         ^\n    [javac] /users/glenn/Work/xgc/src/java/org/apache/xmlgraphics/java2d/ps/PSGraphics2D.java:650: warning: [deprecation] renderBitmapImage(java.awt.image.RenderedImage,float,float,float,float,org.apac\\\nhe.xmlgraphics.ps.PSGenerator) in org.apache.xmlgraphics.ps.PSImageUtils has been deprecated\n    [javac]             PSImageUtils.renderBitmapImage(img,\n    [javac]                         ^\n    [javac] Note: Some input files use unchecked or unsafe operations.\n    [javac] Note: Recompile with -Xlint:unchecked for details.\n    [javac] 2 warnings", "is_private": false, "id": 159950, "creation_time": "2012-06-13T13:30:29Z", "time": "2012-06-13T13:30:29Z", "creator": "gadams@apache.org", "bug_id": 53408, "attachment_id": null}, {"count": 4, "text": "(In reply to comment #2)\n> Note: for the record, this code, and the associated image handler for PDF in\n> FOP, was initially prototyped by Matthias Reischenbacher and I built upon\n> it. Thanks Matthias.\n\nGiven the substance of the patch, and assuming Matthias' contribution was substantial, could you ask Matthias to submit an ICLA [1] to cover his portion of the contribution?\n\n[1] http://www.apache.org/licenses/#clas", "bug_id": 53408, "attachment_id": null, "id": 159951, "time": "2012-06-13T13:34:43Z", "creator": "gadams@apache.org", "creation_time": "2012-06-13T13:34:43Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "creator": "lmpmbernardo@gmail.com", "attachment_id": null, "id": 159952, "time": "2012-06-13T14:50:07Z", "bug_id": 53408, "creation_time": "2012-06-13T14:50:07Z", "is_private": false, "text": "(In reply to comment #3)\n> \n> This introduces two deprecated use warnings when compiling. Could you fix?\n> \n\nIndeed! I had added the @deprecated myself since it seemed a good idea not to expose that method but since I cannot make a very strong case and there are side effects that I had missed I will remove it."}, {"count": 6, "tags": [], "bug_id": 53408, "attachment_id": 28931, "id": 159954, "time": "2012-06-13T14:51:27Z", "creator": "lmpmbernardo@gmail.com", "creation_time": "2012-06-13T14:51:27Z", "is_private": false, "text": "Created attachment 28931\npatch to replace previous one\n\nthe @deprecated keyword was removed"}, {"count": 7, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "is_private": false, "id": 159957, "time": "2012-06-13T15:04:17Z", "bug_id": 53408, "creation_time": "2012-06-13T15:04:17Z", "text": "(In reply to comment #6)\n> Created attachment 28931 [details]\n> patch to replace previous one\n> \n> the @deprecated keyword was removed\n\nthanks; as soon as Matthias' ICLA is registered at [1] i will apply this and the related fop patches\n\n[1] http://people.apache.org/committer-index.html#unlistedclas"}, {"count": 8, "tags": [], "text": "(In reply to comment #7)\n> (In reply to comment #6)\n> > Created attachment 28931 [details]\n> > patch to replace previous one\n> > \n> > the @deprecated keyword was removed\n> \n> thanks; as soon as Matthias' ICLA is registered at [1] i will apply this and\n> the related fop patches\n> \n> [1] http://people.apache.org/committer-index.html#unlistedclas\n\nI've just sent my ICLA to secretary.\n\nThanks Luis for doing all the hard work and finishing this feature. It finally fixes a long standing problem. Thanks!", "is_private": false, "bug_id": 53408, "id": 160014, "time": "2012-06-14T22:06:13Z", "creator": "matthias8283@gmx.at", "creation_time": "2012-06-14T22:06:13Z", "attachment_id": null}, {"count": 9, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "id": 160016, "time": "2012-06-15T02:31:06Z", "bug_id": 53408, "creation_time": "2012-06-15T02:31:06Z", "is_private": false, "text": "patch applied at http://svn.apache.org/viewvc?rev=1350450&view=rev\n\nthanks Luis & Matthias! please review and close if satisfied"}, {"count": 10, "tags": [], "creator": "lmpmbernardo@gmail.com", "attachment_id": 29131, "is_private": false, "id": 160969, "time": "2012-07-28T23:38:54Z", "bug_id": 53408, "creation_time": "2012-07-28T23:38:54Z", "text": "Created attachment 29131\nsupport for sRGB and iCCP chunks\n\nthis new patch improves the previous one by adding support for the sRGB and iCCP PNG chunks to the ImageLoaderRawPNG."}, {"count": 11, "tags": [], "creator": "lmpmbernardo@gmail.com", "attachment_id": null, "is_private": false, "id": 162843, "time": "2012-10-20T22:07:41Z", "bug_id": 53408, "creation_time": "2012-10-20T22:07:41Z", "text": "applied: http://svn.apache.org/viewvc?view=revision&revision=1400525"}]