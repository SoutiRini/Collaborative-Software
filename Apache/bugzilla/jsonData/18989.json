[{"count": 0, "tags": [], "bug_id": 18989, "attachment_id": null, "text": "I wrote the following command:\n\n ./configure --prefix=/usr/local/apache2 --enable-ssl\n\n With OpenSSL 0.9.7b (I installed OpenSSL on /usr/local/ssl/install/openssl):\n\n ./configure --prefix=/usr/local/apache 2 --enable-ssl\n--with-ssl=/usr/local/ssl/intall/openssl\n\n\n\n\nBuilding shared: mod_ssl.la\nmake[4]: Entering directory `/usr/local/src/httpd-2.0.45/modules/ssl'\n/bin/sh /usr/local/src/httpd-2.0.45/srclib/apr/libtool --silent --mode=compile\ngcc  -g -O2 -pthread    -DLINUX=2 -D_REENTRANT -D_XOPEN_SOURCE=500 -D_BSD_SOURCE\n-D_SVID_SOURCE -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER  \n-I/usr/local/src/httpd-2.0.45/srclib/apr/include\n-I/usr/local/src/httpd-2.0.45/srclib/apr-util/include -I.\n-I/usr/local/src/httpd-2.0.45/os/unix\n-I/usr/local/src/httpd-2.0.45/server/mpm/prefork\n-I/usr/local/src/httpd-2.0.45/modules/http\n-I/usr/local/src/httpd-2.0.45/modules/filters\n-I/usr/local/src/httpd-2.0.45/modules/proxy\n-I/usr/local/src/httpd-2.0.45/include -I/usr/include/openssl\n-I/usr/local/src/httpd-2.0.45/modules/dav/main -prefer-pic -c mod_ssl.c && touch\nmod_ssl.slo\nIn file included from /usr/include/openssl/ssl.h:179,\n                 from mod_ssl.h:111,\n                 from mod_ssl.c:60:\n/usr/include/openssl/kssl.h:72:18: krb5.h: No such file or directory\nIn file included from /usr/include/openssl/ssl.h:179,\n                 from mod_ssl.h:111,\n                 from mod_ssl.c:60:\n/usr/include/openssl/kssl.h:132: parse error before \"krb5_enctype\"\n/usr/include/openssl/kssl.h:134: parse error before \"FAR\"\n/usr/include/openssl/kssl.h:135: parse error before '}' token\n/usr/include/openssl/kssl.h:147: parse error before \"kssl_ctx_setstring\"\n/usr/include/openssl/kssl.h:147: parse error before '*' token\n/usr/include/openssl/kssl.h:148: parse error before '*' token\n/usr/include/openssl/kssl.h:149: parse error before '*' token\n/usr/include/openssl/kssl.h:149: parse error before '*' token\n/usr/include/openssl/kssl.h:150: parse error before '*' token\n/usr/include/openssl/kssl.h:151: parse error before \"kssl_ctx_setprinc\"\n/usr/include/openssl/kssl.h:151: parse error before '*' token\n/usr/include/openssl/kssl.h:153: parse error before \"kssl_cget_tkt\"\n/usr/include/openssl/kssl.h:153: parse error before '*' token\n/usr/include/openssl/kssl.h:155: parse error before \"kssl_sget_tkt\"\n/usr/include/openssl/kssl.h:155: parse error before '*' token\n/usr/include/openssl/kssl.h:157: parse error before \"kssl_ctx_setkey\"\n/usr/include/openssl/kssl.h:157: parse error before '*' token\n/usr/include/openssl/kssl.h:159: parse error before \"context\"\n/usr/include/openssl/kssl.h:160: parse error before \"kssl_build_principal_2\"\n/usr/include/openssl/kssl.h:160: parse error before \"context\"\n/usr/include/openssl/kssl.h:163: parse error before \"kssl_validate_times\"\n/usr/include/openssl/kssl.h:163: parse error before \"atime\"\n/usr/include/openssl/kssl.h:165: parse error before \"kssl_check_authent\"\n/usr/include/openssl/kssl.h:165: parse error before '*' token\n/usr/include/openssl/kssl.h:167: parse error before \"enctype\"\nIn file included from mod_ssl.h:111,\n                 from mod_ssl.c:60:\n/usr/include/openssl/ssl.h:909: parse error before \"KSSL_CTX\"\n/usr/include/openssl/ssl.h:909: warning: no semicolon at end of struct or union\n/usr/include/openssl/ssl.h:931: parse error before '}' token\nmake[4]: *** [mod_ssl.slo] Error 1\nmake[4]: Leaving directory `/usr/local/src/httpd-2.0.45/modules/ssl'\nmake[3]: *** [shared-build-recursive] Error 1\nmake[3]: Leaving directory `/usr/local/src/httpd-2.0.45/modules/ssl'\nmake[2]: *** [shared-build-recursive] Error 1\nmake[2]: Leaving directory `/usr/local/src/httpd-2.0.45/modules'\nmake[1]: *** [shared-build-recursive] Error 1\nmake[1]: Leaving directory `/usr/local/src/httpd-2.0.45'\nmake: *** [all-recursive] Error 1", "id": 35097, "time": "2003-04-14T10:34:00Z", "creator": "lawlaurent@yahoo.fr", "creation_time": "2003-04-14T10:34:00Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 18989, "text": "You can work round this by using something like:\n\nCFLAGS=`pkg-config --cflags openssl`\nAP_LIBS=`pkg-config --libs openssl`\nexport AP_LIBS CFLAGS\n./configure \n", "id": 35183, "time": "2003-04-15T12:43:25Z", "creator": "jorton@redhat.com", "creation_time": "2003-04-15T12:43:25Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 18989, "text": " Thank you Mr Joe Orton for the advice, it worked !", "id": 35309, "time": "2003-04-16T09:49:28Z", "creator": "lawlaurent@yahoo.fr", "creation_time": "2003-04-16T09:49:28Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 18989, "attachment_id": null, "text": "This is a feature worth adding to the configure script, so this bug can be left\nopen.", "id": 35372, "time": "2003-04-16T19:24:18Z", "creator": "joe@manyfish.co.uk", "creation_time": "2003-04-16T19:24:18Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 18989, "attachment_id": null, "text": ">> With OpenSSL 0.9.7b (I installed OpenSSL on /usr/local/ssl/install/openssl):\n\n>> ./configure --prefix=/usr/local/apache 2 --enable-ssl\n>>--with-ssl=/usr/local/ssl/intall/openssl\n\nI'm assuming the extra space in 'apache 2' and the missing 's' in 'intall' are \nnot what you typed.\n\n./configure --prefix=/usr/local/apache2 --enable-ssl\n--with-ssl=/usr/local/ssl/install/openssl\n\nUnless you have more fields, this will only work if OpenSSL was built with \nstatic libs.\n\nAlso, did you add /usr/local/ssl/install/openssl/lib to /etc/ld.so.conf and ran \nldconfig?  If you built openssl with loadable modules, openssl has to have a \nway to find those libs.\n\n>>This is a feature worth adding to the configure script, so this bug can be \nleft open.\n\nWhat is the bug here?  I'm a bit confused, could someone clarify?\n\nI've built Apache2 with mod_ssl and OpenSSL on RedHat without a problem.\nThe only problem that had arisen, was that OpenSSL was already installed (rpm) \nand I needed the most current version.\n\nCheck out : \nhttp://www.devside.net/index.php?main=server/linux/apacheplus\nhttp://www.devside.net/index.php?main=server/linux/openssl\n\nhttp://www.devside.net\nDeveloperSide.NET\n", "id": 39810, "time": "2003-07-02T02:10:31Z", "creator": "towerofpower@operamail.com", "creation_time": "2003-07-02T02:10:31Z", "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 18989, "is_private": false, "id": 41072, "time": "2003-07-21T14:05:03Z", "creator": "jorton@redhat.com", "creation_time": "2003-07-21T14:05:03Z", "tags": [], "text": "*** Bug 9953 has been marked as a duplicate of this bug. ***"}, {"count": 6, "tags": [], "bug_id": 18989, "attachment_id": null, "text": "*** Bug 21757 has been marked as a duplicate of this bug. ***", "id": 51140, "time": "2004-01-25T16:06:28Z", "creator": "jorton@redhat.com", "creation_time": "2004-01-25T16:06:28Z", "is_private": false}, {"count": 7, "attachment_id": null, "bug_id": 18989, "is_private": false, "id": 55843, "time": "2004-04-15T18:07:14Z", "creator": "jorton@redhat.com", "creation_time": "2004-04-15T18:07:14Z", "tags": [], "text": "*** Bug 28414 has been marked as a duplicate of this bug. ***"}, {"count": 8, "tags": [], "bug_id": 18989, "text": "I will admit to being a novice, however I do not see that this is quite the \nsame problem.  I was using the Redhat openssl rpms were they are installed in \nthe default location.  \n\nThe problem was not finding the shared libraries, but locating the header files.\nsome of the files required (including krb5.h) were in  -I/usr/kerberos/include\nfor the default install.\n\nReference: Bug 28414\n", "id": 55847, "time": "2004-04-15T19:01:18Z", "creator": "jack@lavnet.net", "creation_time": "2004-04-15T19:01:18Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 18989, "attachment_id": null, "text": "Jack: yes, that's what this bug concerns; you saw an error similar to the\ntopmost comment when building without -I/usr/kerberos/include?", "id": 55850, "time": "2004-04-15T19:23:00Z", "creator": "jorton@redhat.com", "creation_time": "2004-04-15T19:23:00Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 18989, "attachment_id": null, "text": "Workaround:\n\nCFLAGS=-I/usr/kerberos/include ./configure --prefix=...\n", "id": 57859, "time": "2004-05-21T18:47:04Z", "creator": "minfrin@sharp.fm", "creation_time": "2004-05-21T18:47:04Z", "is_private": false}, {"count": 11, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "Yay, Justin fixed this in HEAD!", "id": 60788, "time": "2004-07-19T08:23:21Z", "bug_id": 18989, "creation_time": "2004-07-19T08:23:21Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 18989, "attachment_id": null, "text": "(In reply to Joe Orton from comment #1)\n> You can work round this by using something like:\n> \n> CFLAGS=`pkg-config --cflags openssl`\n> AP_LIBS=`pkg-config --libs openssl`\n> export AP_LIBS CFLAGS\n> ./configure\n\nUnfortunately, this fix does not work for me - I get the same error: '/usr/include/openssl/kssl.h:72:18: error: krb5.h: No such file or directory'. \n\nI can fix this error by adding path to 'krb5.h':\n# CFLAGS=-I/usr/src/kernels/2.6.18-417.el5-x86_64/include/config/rpcsec/gss ./configure --prefix=/usr/local/apache\n\nBut then, I get series of other error, beginning with:\n/usr/include/openssl/kssl.h:138: error: expected specifier-qualifier-list before 'krb5_enctype'.\n\nIt looks to me as the type 'krb5_enctype' is not known to the compiler, most likely due to another file not included or included in an incorrect way, but I can't figure out what is it exactly.\n\nAny help would be much appreciated.", "id": 195947, "time": "2017-01-10T05:23:40Z", "creator": "sjobirek@gmail.com", "creation_time": "2017-01-10T05:23:40Z", "is_private": false}, {"count": 13, "attachment_id": null, "creator": "rainer.jung@kippdata.de", "is_private": false, "id": 195953, "time": "2017-01-10T09:11:11Z", "bug_id": 18989, "creation_time": "2017-01-10T09:11:11Z", "tags": [], "text": "The original problem - missing pkg-config support - was fixed long ago. Though the symptoms are the same for you, the root cause might be different.\n\nPlease report your problem on the users list. If people can not help you there, you can open a new ticket here. Include version numbers, configure output and other steps you tried. Please do not proceed the discussion in this ticket here.\n\nFor details about the users list see:\n\nhttp://httpd.apache.org/lists.html#http-users\n\nRegards,\n\nRainer"}]