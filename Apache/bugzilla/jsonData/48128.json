[{"count": 0, "tags": [], "bug_id": 48128, "attachment_id": null, "id": 131688, "time": "2009-11-04T06:15:27Z", "creator": "paul.jeniec@barclays.com", "creation_time": "2009-11-04T06:15:27Z", "is_private": false, "text": "Hi,\n\nWe are migrating all of our dev environments from RAD6 to RAD7 which has meant that I have had to update our Ant build scripts to the point to the right jar's etc for the RAD7 installation\n\nSince updating the application builds are failing every time at the same point.\nWhen attempting the input task (see below):\n\n<input message=\"Soulution has been built. Do you wish to import and baseline the build (y/n)?\"\nvalidargs=\"y,n\"\naddproperty=\"do.baseline\"\n/>\n<condition property=\"do.abort\">\n<equals casesensitive=\"false\" arg1=\"n\" arg2=\"${do.baseline}\"/>\n</condition>\n<fail if=\"do.abort\">Build aborted by user.</fail>\n\nI get the error:\n\nBUILD FAILED\nX:\\System\\SON_Config_Management_Utilities\\Ant\\Baseline-Build-Solution.xml:41: Failed to read input from Console.\n\nAnd in verbose mode I get the following stack trace:\n\n        at org.apache.tools.ant.input.DefaultInputHandler.handleInput(DefaultInputHandler.java:59)\n        at org.apache.tools.ant.taskdefs.Input.execute(Input.java:117)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)\n        at org.eclipse.ant.internal.core.ant.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:32)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:706)\n        at org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:584)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:618)\n        at org.eclipse.ant.core.AntRunner.run(AntRunner.java:494)\n        at com.ibm.ant.extras.RunAnt.run(RunAnt.java:24)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:618)\n        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n        at org.eclipse.core.launcher.Main.run(Main.java:996)\n        at org.eclipse.core.launcher.Main.main(Main.java:971)\nCaused by: java.io.IOException\n        at org.eclipse.ant.internal.core.ant.FailInputHandler$1.read(FailInputHandler.java:25)\n        at java.io.FilterInputStream.read(FilterInputStream.java:89)\n        at java.io.DataInputStream.readLine(DataInputStream.java:499)\n        at org.apache.tools.ant.input.DefaultInputHandler.handleInput(DefaultInputHandler.java:56)\n        ... 31 more\n--- Nested Exception ---\njava.io.IOException\n        at org.eclipse.ant.internal.core.ant.FailInputHandler$1.read(FailInputHandler.java:25)\n        at java.io.FilterInputStream.read(FilterInputStream.java:89)\n        at java.io.DataInputStream.readLine(DataInputStream.java:499)\n        at org.apache.tools.ant.input.DefaultInputHandler.handleInput(DefaultInputHandler.java:56)\n        at org.apache.tools.ant.taskdefs.Input.execute(Input.java:117)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)\n        at org.eclipse.ant.internal.core.ant.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:32)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:706)\n        at org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:584)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:618)\n        at org.eclipse.ant.core.AntRunner.run(AntRunner.java:494)\n        at com.ibm.ant.extras.RunAnt.run(RunAnt.java:24)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:618)\n        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n        at org.eclipse.core.launcher.Main.run(Main.java:996)\n        at org.eclipse.core.launcher.Main.main(Main.java:971)\n\nIf anyone has any ideas why this might be happening it would be very much appreciated."}, {"count": 1, "tags": [], "text": "if you look at the stacktrace you'll see the exception is generated in org.eclipse.ant.internal.core.ant.FailInputHandler$1.read(FailInputHandler.java:25).  This class is not part of Ant.\n\nMy guess - not knowing anything about the Eclipse-Ant integration or RAD7 - is that RAD7 registers an input handler of its own, replacing the default handler which would read from System.in.\n\nUnless you find a way to disable RAD7's behavior your best option may be to explicitly use a nested handler element in all input tasks and set its type to \"default\".", "attachment_id": null, "bug_id": 48128, "id": 131847, "time": "2009-11-10T09:23:02Z", "creator": "bodewig@apache.org", "creation_time": "2009-11-10T09:23:02Z", "is_private": false}, {"count": 2, "tags": [], "text": "work's with Ant's built-in input handler", "is_private": false, "id": 135090, "creator": "bodewig@apache.org", "time": "2010-03-05T16:51:56Z", "bug_id": 48128, "creation_time": "2010-03-05T16:51:56Z", "attachment_id": null}]