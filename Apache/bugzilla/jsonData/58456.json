[{"count": 0, "tags": [], "bug_id": 58456, "is_private": false, "id": 185476, "attachment_id": null, "creator": "mpepito13@yahoo.fr", "creation_time": "2015-09-24T15:09:30Z", "time": "2015-09-24T15:09:30Z", "text": "hello,\n\nthere is an error while compiling mod_ssl within http 2.4.16 on El Capitan 10.11.1.\nThis is strange because it works on 10.9 and 10.10. OpenSSL doesn't seems to have been modified between these versions.\n\nIt is looking for OpenSSL version >= 0.9.8a:\n    checking for OpenSSL... checking for user-provided OpenSSL base directory... none  \n    checking for OpenSSL version >= 0.9.8a... FAILED  \n    configure: WARNING: OpenSSL version is too old  \n \nThe default OpenSSL version is 0.9.8zg (this is the same on 10.9 and 10.10):\n    $ openssl version  \n    OpenSSL 0.9.8zg 14 July 2015  \n \nAnd finally here is a part of my compilation line:\n    ./configure --prefix=/tmp/httpd-2.4.16 \\\n    --with-pcre=/tmp/pcre-8.37 \\\n    --with-included-apr  --with-socache_shmcb \\\n    --enable-setenvif --enable-ssl \\\n    --disable-access-compat --disable-actions --disable-alias --disable-allowmethods --disable-auth-basic --disable-auth-digest --disable-auth-form --disable-authn_anon --disable-authn-core --disable-authn-dbd --disable-authn-dbm --disable-authn-file --disable-authn-socache --disable-authz-host --disable-authnz-ldap --disable-authz-dbd --disable-authz-dbm --disable-authz-groupfile --disable-authz-owner --disable-authz-user --disable-autoindex --disable-buffer --disable-cache-disk --disable-cache --disable-cgid --disable-dav-fs --disable-dav --disable-dbd --disable-deflate --disable-dumpio --disable-env --disable-expires --disable-ext-filter --disable-file-cache --disable-filter --disable-headers --disable-include --disable-info --disable-lbmethod-bybusyness --disable-lbmethod-byrequests --disable-lbmethod-bytraffic --disable-lbmethod-heartbeat --disable-ldap --disable-log-debug --disable-logio --disable-macro --disable-negotiation --disable-proxy-ajp --disable-proxy-balancer --disable-proxy-connect --disable-proxy-express --disable-proxy-fcgi --disable-proxy-ftp --disable-proxy-http --disable-proxy-scgi --disable-proxy --disable-ratelimit --disable-remoteip --disable-reqtimeout --disable-request --disable-rewrite --disable-sed --disable-session-cookie --disable-session-dbd --disable-session --disable-slotmem-shm --disable-socache-dbm --disable-socache-memcache --disable-cache-socache --disable-speling --disable-status --disable-substitute --disable-unique-id --disable-userdir --disable-version --disable-vhost-alias \n\nAnd the compilation variables :\n    MACOSX_MIN_VERSION=10.7\n    ARCH_64=\"-arch x86_64\"\n    ARCH=\"$ARCH_64 -mmacosx-version-min=$MACOSX_MIN_VERSION\"\n    CXXFLAGS=\"-O3 -fno-common $ARCH\"\n    CFLAGS=\"-O3 -fno-common $ARCH\"\n    LDFLAGS=\"-O3 $ARCH\"\n    CC=\"gcc $ARCH\"\n    CXX=\"g++ $ARCH\"\n    CPP=\"gcc -E\"\n    CXXCPP=\"g++ -E\"\n \n \nI tried to bypass the version verification as seen on the user list (by removing the openssl version checking starting at line 24787) but it didn't worked.\nI then tried to fix the variable ac_cv_openssl=yes at line 24800. The configure worked but then an error occured during the make : Cannot find openssl/rsa.h\n\n\nRegards,\narnaud"}, {"count": 1, "tags": [], "bug_id": 58456, "attachment_id": null, "id": 185477, "time": "2015-09-24T15:19:38Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2015-09-24T15:19:38Z", "is_private": false, "text": "Looks like the OpenSSL \"developpement\" package is not installed on your system, is it?\nBuilding Apache HTTPd requires the include files (and so on) of OpenSSL, not only the libraries (.so)..."}, {"text": "I read that the development packages were needed on Linux for example but that doesn't seem the case on macos.\nFurthermore as mentioned earlier, it compiles fine on the previous system versions.\nI tried to bypass this but I hit a wall so far.\n\n(In reply to Yann Ylavic from comment #1)\n> Looks like the OpenSSL \"developpement\" package is not installed on your\n> system, is it?\n> Building Apache HTTPd requires the include files (and so on) of OpenSSL, not\n> only the libraries (.so)...", "tags": [], "creator": "mpepito13@yahoo.fr", "is_private": false, "count": 2, "id": 185478, "time": "2015-09-24T20:33:01Z", "bug_id": 58456, "creation_time": "2015-09-24T20:33:01Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 58456, "attachment_id": null, "id": 185479, "time": "2015-09-24T20:56:21Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2015-09-24T20:56:21Z", "is_private": false, "text": "The config.log file from the run when you got the version complaint should help to uderstand what's wrong."}, {"count": 4, "tags": [], "bug_id": 58456, "attachment_id": 33141, "is_private": false, "id": 185482, "time": "2015-09-25T13:12:24Z", "creator": "mpepito13@yahoo.fr", "creation_time": "2015-09-25T13:12:24Z", "text": "Created attachment 33141\nconfig.log\n\nIt seems that it can't find the openssl/opensslv.h\n\nDoes someone know where are the libs supposed to be on OS X ?"}, {"count": 5, "tags": [], "bug_id": 58456, "attachment_id": null, "id": 185484, "time": "2015-09-25T13:37:18Z", "creator": "mpepito13@yahoo.fr", "creation_time": "2015-09-25T13:37:18Z", "is_private": false, "text": "The folder /usr/include/openssl does not exist anymore on MacOS 10.11 which should explain these error.\nI think I will just copy this folder to my new install and try again.\n\n\nI mark this (not) bug as resolved.\n\n\nThanks for your help"}]