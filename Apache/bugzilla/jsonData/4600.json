[{"count": 0, "text": "Here is the scenario: I access /foo/bar/ on my server. In that directory\nis the file index.jsp (which is defined in the welcome-file-list). Tomcat\n3.2 returns a '302 Found' HTTP response, while Tomcat 3.3 returns a '301\nMoved Permanently' response. Both return a Location header with the correct \naddress.\n\nI am not certain which response is actually correct, but the 301 response is \ncausing\nme a problem using the Openwave WAP SDK 4.1 ... it cannot display the page, \nwhereas with\nTomcat 3.2 it had no problem.\n\nThis is the only other relevant information I could find on this problem:\nhttp://w4.metronet.com/~wjm/tomcat/2001/Mar/msg00044.html\n\nThe full output returned from Tomcat 3.3 and Tomcat 3.2 for a sample\npage is included below for comparison.\n\n\nThanks for any help,\nJamie Hall\njamie_hall@jsmart.com\n\n\n\n-----------------------\nOutput from Tomcat 3.3:\n-----------------------\nGET /wap/kpn/ HTTP/1.1\nHost: www.jsmart.com\nConnection: close\n\nRead 499 bytes from host www.jsmart.com, path /wap/kpn/\nHTTP/1.1 301 Moved Permanently\nDate: Fri, 02 Nov 2001 17:57:14 GMT\nServer: Apache/1.3.20 (Unix) PHP/4.0.4pl1 ApacheJServ/1.1.2\nServlet-Engine: Tomcat Web Server/3.3 Final ( JSP 1.1; Servlet 2.2 )\nLocation: http://64.71.143.28/wap/kpn/index.jsp\nContent-Length: 183\nConnection: close\nContent-Type: text/html\n\n<html><head><title>Document moved</title></head>\n<body><h1>Document moved</h1>\nThis document has moved <a \nhref=\"http://64.71.143.28/wap/kpn/index.jsp\">here</a>.<p>\n</body>\n</html>\n\n\n-----------------------\nOutput from Tomcat 3.2:\n-----------------------\nGET /wap/kpn/ HTTP/1.1\nHost: www.jsmart.com\nConnection: close\n\nRead 532 bytes from host www.jsmart.com, path /wap/kpn/\nHTTP/1.1 302 Found\nDate: Fri, 02 Nov 2001 17:59:07 GMT\nServer: Apache/1.3.20 (Unix) PHP/4.0.4pl1 ApacheJServ/1.1.2\nServlet-Engine: Tomcat Web Server/3.2.3 (JSP 1.1; Servlet 2.2; Java 1.3.1; \nSunOS 5.7 sparc; java.vendor=Sun Microsystems Inc.)\nLocation: http://64.71.143.28/wap/kpn/index.jsp\nContent-Length: 170\nConnection: close\nContent-Type: text/html\n\n<head><title>Document moved</title></head>\n<body><h1>Document moved</h1>\nThis document has moved <a \nhref=\"http://64.71.143.28/wap/kpn/index.jsp\">here</a>.<p>\n</body>", "bug_id": 4600, "is_private": false, "id": 7490, "time": "2001-11-02T10:52:25Z", "creator": "jamie_hall@yahoo.com", "creation_time": "2001-11-02T10:52:25Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 4600, "attachment_id": null, "is_private": false, "id": 7501, "time": "2001-11-02T22:18:09Z", "creator": "william.barker@wilshire.com", "creation_time": "2001-11-02T22:18:09Z", "text": "This is basically a problem with a buggy client.  The basic difference between \na 301 & 302 response is that the 301 is cachable (IMHO this is a good thing).  \nPersonally, this is a WONTFIX, but I'll leave it open in case someone else \nfeels that it is a problem.  However, with no other responses, I'll formally \nmark this as WONTFIX once there is a release plan for 3.3.1."}, {"count": 2, "tags": [], "bug_id": 4600, "is_private": false, "text": "This will be configurable in Tomcat 3.3.1 beta1 using the new\ndefaultRedirectStatus attribute on the ErrorHandler module.  This attribute\nwill affect the redirections done by the StaticInterceptor, such as the\nwelcome file redirection you cite.", "id": 10346, "time": "2002-02-05T02:21:57Z", "creator": "Larry.Isaacs@sas.com", "creation_time": "2002-02-05T02:21:57Z", "attachment_id": null}]