[{"count": 0, "tags": [], "text": "On Solaris 2.9 (probably earlier) if the GNU iconv package is installed, the apr-util configuration \nproperly detects whether or not libiconv is installed, but fails to test to see whether or not the -liconv \noption needs to be added to the LIBS or EXTRA_LIBS variables (it does - since the functions are NOT \npresent in the system libraries.\nI think that the best way to solve this would be to include a test in the apr-util/configure script that, if \niconv.h is detected, then tests to see if -liconv is necessary to use its functions.", "attachment_id": null, "bug_id": 28854, "id": 57048, "time": "2004-05-09T05:59:01Z", "creator": "schatt@schatt.com", "creation_time": "2004-05-09T05:59:01Z", "is_private": false}, {"count": 1, "tags": [], "creator": "byronberglund@facet.com", "text": "version 2.0.52, on solaris 9, with SMCiconv installed from sunfreeware,\nfinal link is missing -liconv; missing from build/config_vars.mk (probably AP_LIBS)", "id": 69658, "time": "2005-01-14T00:44:08Z", "bug_id": 28854, "creation_time": "2005-01-14T00:44:08Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "Can you add two attachments to this bug report:\n\n1) the complete output of the configure script\n2) the srclib/apr-util/config.log file\n", "attachment_id": null, "bug_id": 28854, "id": 69836, "time": "2005-01-19T11:50:29Z", "creator": "jorton@redhat.com", "creation_time": "2005-01-19T11:50:29Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 28854, "attachment_id": null, "text": "Looking for info from the reporter.", "id": 75921, "time": "2005-06-03T03:31:34Z", "creator": "chip@force-elite.com", "creation_time": "2005-06-03T03:31:34Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 28854, "text": "Hi there,\n\nI might have an update on this, though my problem was on *install* phase. I.e., httpd compiled fine with included apr; then \"make install\" failed to relink libaprutil saying it couldn't find libiconv.\n\nThe following solved the issue:\n\n  CFLAGS='-I/usr/include' CPPFLAGS='-I/usr/local/lib' \\\n    LDFLAGS='-L/usr/local/lib' \\\n     ./configure ... --with-included-apr\n\nIndeed, \"iconv.h\" is in /usr/include, whereas the library is in /usr/local/lib.\n\nFurther details:\n\n$ uname -a\nSunOS zaqar8 5.10 Generic_138888-05 sun4u sparc SUNW,Sun-Fire-V490\n\n$ isainfo -v\n64-bit sparcv9 applications\n        vis2 vis\n32-bit sparc applications\n        vis2 vis v8plus div32 mul32\n\n$ pkginfo -l SMCliconv\n   PKGINST:  SMCliconv\n      NAME:  libiconv\n  CATEGORY:  application\n      ARCH:  sparc\n   VERSION:  1.11\n   BASEDIR:  /usr/local\n    VENDOR:  Bruno Haible\n    PSTAMP:  Steve Christensen\n  INSTDATE:  Jan 17 2011 17:10\n     EMAIL:  steve@smc.vnet.net\n    STATUS:  completely installed\n     FILES:       48 installed pathnames\n                   8 shared pathnames\n                  10 directories\n                   3 executables\n                4991 blocks used (approx)\n\n\nHTH!\n\n  ^m'e", "id": 144353, "time": "2011-02-16T10:12:08Z", "creator": "marcoep@gmail.com", "creation_time": "2011-02-16T10:12:08Z", "is_private": false, "attachment_id": null}]