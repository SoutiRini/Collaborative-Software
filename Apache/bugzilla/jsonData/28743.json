[{"count": 0, "attachment_id": null, "bug_id": 28743, "text": "Having created a new publication type and trying to actually use it, I get the\nfollowing NullPointerException in the create usecase. \n\nThe sample file for the doctype validates successfully against its rng grammar.\nThe corresponding XSLT also produces the expected results when called on the\ncommand line.\n\nI can send the schema and the config files if desired.\n\n\norg.apache.lenya.cms.task.ExecutionException:\nTOMCAT_HOME/webapps/lenya/lenya/pubs/PUBLICATIONNAME/config/tasks/targets.xml:136:\norg.apache.lenya.cms.authoring.CreatorException: java.lang.NullPointerException\n\tat org.apache.lenya.cms.task.AntTask.executeAntTarget(AntTask.java:129)\n\tat org.apache.lenya.cms.task.AntTask.execute(AntTask.java:229)\n\tat\norg.apache.lenya.cms.task.DefaultTaskWrapper.execute(DefaultTaskWrapper.java:248)\n\tat org.apache.lenya.cms.cocoon.acting.TaskAction.act(TaskAction.java:62)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.ActTypeNode.invoke(ActTypeNode.java:159)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.ActTypeNode.invoke(ActTypeNode.java:173)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:165)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:165)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:165)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:107)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:162)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:107)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:136)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:371)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:312)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:133)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:165)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:107)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:162)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:107)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:136)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:371)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:312)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:133)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.ActTypeNode.invoke(ActTypeNode.java:173)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:165)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:107)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:162)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:107)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:136)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:371)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:312)\n\tat org.apache.cocoon.Cocoon.process(Cocoon.java:656)\n\tat org.apache.cocoon.servlet.CocoonServlet.service(CocoonServlet.java:1112)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2422)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat\norg.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:163)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:199)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:828)\n\tat\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:700)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:584)\n\tat\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)\n\tat java.lang.Thread.run(Thread.java:534)\nCaused by:\n/home/kuester/bin/jakarta-tomcat-4.1.30/webapps/lenya/lenya/pubs/saphor/config/tasks/targets.xml:136:\norg.apache.lenya.cms.authoring.CreatorException: java.lang.NullPointerException\n\tat\norg.apache.lenya.cms.ant.DocumentCreatorTask.execute(DocumentCreatorTask.java:57)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:272)\n\tat org.apache.tools.ant.Task.perform(Task.java:401)\n\tat org.apache.tools.ant.Target.execute(Target.java:347)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:374)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1228)\n\tat org.apache.lenya.cms.task.AntTask.executeAntTarget(AntTask.java:126)\n\t... 70 more\nCaused by: org.apache.lenya.cms.authoring.CreatorException:\njava.lang.NullPointerException\n\tat org.apache.lenya.cms.authoring.DocumentCreator.create(DocumentCreator.java:127)\n\tat\norg.apache.lenya.cms.ant.DocumentCreatorTask.execute(DocumentCreatorTask.java:46)\n\t... 76 more\nCaused by: java.lang.NullPointerException\n\tat java.util.Hashtable.put(Hashtable.java:393)\n\tat\norg.apache.xalan.templates.OutputProperties.setProperty(OutputProperties.java:177)\n\tat\norg.apache.xalan.transformer.TransformerIdentityImpl.setOutputProperty(TransformerIdentityImpl.java:712)\n\tat org.apache.lenya.xml.DocumentHelper.getTransformer(DocumentHelper.java:220)\n\tat org.apache.lenya.xml.DocumentHelper.writeDocument(DocumentHelper.java:184)\n\tat org.apache.lenya.cms.authoring.DefaultCreator.create(DefaultCreator.java:176)\n\tat org.apache.lenya.cms.authoring.DocumentCreator.create(DocumentCreator.java:118)\n\t... 77 more", "id": 56753, "time": "2004-05-03T13:53:15Z", "creator": "la@saphor.de", "creation_time": "2004-05-03T13:53:15Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 28743, "text": "Added lenya-dev@cocoon.apache.org to CC-list.", "id": 56799, "time": "2004-05-04T13:55:40Z", "creator": "A.Kuckartz@ping.de", "creation_time": "2004-05-04T13:55:40Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "text": "Seems to happen whenever the sample xml file for the custom publication has a \nDOCTYPE declaration ", "attachment_id": null, "bug_id": 28743, "id": 56934, "time": "2004-05-06T16:05:48Z", "creator": "la@saphor.de", "creation_time": "2004-05-06T16:05:48Z", "is_private": false}, {"count": 3, "tags": [], "text": "is this still the case?", "attachment_id": null, "bug_id": 28743, "id": 65958, "time": "2004-10-28T23:42:30Z", "creator": "gregor@apache.org", "creation_time": "2004-10-28T23:42:30Z", "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 28743, "text": "the document creator has been remvoed", "id": 70596, "time": "2005-02-08T00:47:18Z", "creator": "gregor@apache.org", "creation_time": "2005-02-08T00:47:18Z", "tags": [], "is_private": false}]