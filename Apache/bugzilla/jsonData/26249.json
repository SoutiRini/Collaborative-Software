[{"count": 0, "tags": [], "bug_id": 26249, "attachment_id": null, "is_private": false, "id": 50741, "time": "2004-01-19T15:54:25Z", "creator": "junk@softnco.demon.co.uk", "creation_time": "2004-01-19T15:54:25Z", "text": "If dimensions of the toplevel <svg... are given in real units (mm, cm, etc) and \na viewBox is specified such that, for example, there should be a 1:1 mapping \nfrom user coords to millimeters, and batik-rasterizer & FOP are used to get pdf \noutput, the pdf result will be the wrong size. For example: for an image that \nshould be 140x200 mm on A4 paper, only the very top left hand corner of the svg \ngraphic is visible at approximately 20x the correct size. PNG output seems okay.\nI'm using Batik-1.5 binary distro and FOP 0.20.5 (also binary distro) and java \n1.4.2_03.\n\nI simply invoke Batik as:\njava -jar batik-rasterizer.jar -validata -m \"application/pdf\" viewbox_bug.svg\n\nThis is important to us as we want to use Batik together with DocBook and FOP to \nproduce high quality pdf manuals for our products. For now the workaround is to \nchoose pixel dimensions for our svgs which happen to look about the right size \nin our documents.\n\nA simple example follows:\n\n<?xml version=\"1.0\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n\n<!-- Set image size to 140x200mm, then set viewbox range to (0,0)-(140,200).\n     Viewbox should be scaled to fit image size, so we should have \n     user coordinates equal to millimeters.                                    \n-->     \n     <svg width=\"14cm\" height=\"20cm\" viewBox = \"0 0 140 200\" version=\"1.1\" \n xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n\t\n\t<!-- Draw background rect in center of viewbox with size 130x190\n\t     which *should* be 130x190mm in finished image.            -->\n\t<rect x=\"5\" y=\"5\" width=\"130\" height=\"190\"\n\t\tfill=\"lightyellow\" stroke=\"midnightblue\" stroke-width=\"0.5\"\n\t/>\n\n</svg>"}, {"count": 1, "tags": [], "bug_id": 26249, "is_private": false, "text": "This appears to work fine with current CVS (will be 1.5.1).\nYou might also try 1.5.1rc2 as I believe this also included the PDF\ntranscoder fixes.", "id": 52594, "time": "2004-02-19T19:15:38Z", "creator": "deweese@apache.org", "creation_time": "2004-02-19T19:15:38Z", "attachment_id": null}]