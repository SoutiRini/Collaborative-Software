[{"count": 0, "tags": [], "text": "WAR unpacking creates META-INF/war-tracker file too early after each unpacked file. Noticed this when Tomcat was killed while it was unpacking files. It happily used the partially extracted files, and of course the application did not work anymore.\n\nhttps://svn.apache.org/repos/asf/tomcat/trunk/java/org/apache/catalina/startup/ExpandWar.java\n\nHere you can see that warTracker file is created inside the unpacking loop, right after each file:\n\n                // Create the warTracker file and align the last modified time\n                // with the last modified time of the WAR\n                warTracker.createNewFile();\n                warTracker.setLastModified(warLastModified);\n            }\n            success = true;", "is_private": false, "bug_id": 60351, "id": 194862, "time": "2016-11-08T08:49:45Z", "creator": "harry.elfuerte@gmail.com", "creation_time": "2016-11-08T08:49:45Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 60351, "attachment_id": null, "is_private": false, "id": 194866, "time": "2016-11-08T09:54:56Z", "creator": "markt@apache.org", "creation_time": "2016-11-08T09:54:56Z", "text": "Thanks for the report. This has been fixed in:\n9.0.x for 9.0.0.M14 onwards\n8.5.x for 8.5.9 onwards\n8.0.x for 8.0.40 onwards\n7.0.x and earlier is not affeted"}]