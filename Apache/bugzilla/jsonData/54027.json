[{"count": 0, "tags": [], "creator": "rlin@sun.superprism.net", "text": "1, win server 2008 R2 is placed within NAT. It's outside address is xxx.xxx.xxx.xxx and inside address is 192.168.1.142\n2, IIS virtual host binding -\n   192.168.1.142:80:VHnode.domain.com\n3, tomcat and isapi and IIS are all on the same server\n\nw3wp.exe - isapi_redirector (1.2.37)\nsends request to outside ip address - xxx.xxx.xxx.xxx:8009\ninstead of 192.168.1.142:8009 \n\n\nFurther investigation:\n\njk_connect.c\t\t\t\n\tjk_resolve()\t/* your comment - If found host[] has also characters we should make name to IP resolution */\t\n\t\t\n\t\tHowever, the binding string is\n                 \t192.168.1.142:80:VHnode.domain.com\t\n\t\tif name is taken to resolve from DNS, it will get outside     \n                        address xxx.xxx.xxx.xxx not  192.168.1.142\t\n\t\tIt should get BINDING address instead of DNS address.", "id": 162820, "time": "2012-10-18T23:36:56Z", "bug_id": 54027, "creation_time": "2012-10-18T23:36:56Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 54027, "is_private": false, "count": 1, "id": 162821, "time": "2012-10-19T00:17:19Z", "creator": "rlin@sun.superprism.net", "creation_time": "2012-10-19T00:17:19Z", "text": "1, For locahost, or computername.domain.com, it is resolved to computername:8009 and it is working fine.\n\n2, For 2nd virtual host VHnode.domain.com, it is resolved to xxx.xxx.xxx.xxx:8009 and it is not working right."}, {"count": 2, "tags": [], "text": "Does it works if you put\n\nxxx.xxx.xxx.xxx VHnode.domain.com\n\ndirectly inside hosts file (hope you know where that file is)", "is_private": false, "id": 162822, "creator": "mturk@apache.org", "time": "2012-10-19T06:26:40Z", "bug_id": 54027, "creation_time": "2012-10-19T06:26:40Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "rlin@sun.superprism.net", "text": "Thank you, that alternative solution is what we did to make it work right now.", "id": 162826, "time": "2012-10-19T15:11:55Z", "bug_id": 54027, "creation_time": "2012-10-19T15:11:55Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 54027, "text": "some other strange things:\n\nOn server, http://VHNode.domain.com:8081/ and http://192.168.1.x:8081/ work as it is designed. the call went to tomcat directly.\n\nOn other machine, http://VHNode.domain.com:8081/ and http://192.168.1.x:8081/ do not work. the SYNC call does not get any responses from anywhere. it seems tomcat ignores.\n( I use ethereal on PC and netstat -b on server to trace the stat.)\n\nThis does not affact users visiting but just wonder if it is designed this way.", "count": 4, "id": 162839, "time": "2012-10-19T21:57:55Z", "creator": "rlin@sun.superprism.net", "creation_time": "2012-10-19T21:57:55Z", "is_private": false}]