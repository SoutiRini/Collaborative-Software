[{"count": 0, "tags": [], "text": "I'm submitting this bug even though we solved the problem, since it might\nassist others in debugging their own systems.\n\nApache 1.3.27 or 1.3.28 (compiled with Sun C SPARC Version 6.000 compiler)\nwould hang every hour or so while running on Solaris 8 with kernel version\n108528-05.  One of the child processes would seem to hang following an\naccept() call, and then all child processes would cease serving requests.\nThe master process continued looping, waiting for a child to signal it.\nKilling the child that showed the recent accept() call in its truss output\n(the others would all show a recent fcntl() call) would allow the other\nprocesses to proceed, answering all pending requests.\n\nUpgrading to kernel version 108528-11 or higher solved the problem.  Exactly\nwhich kernel release between -05 and -11 fixed the issue is uncertain;\nwe didn't test them all.  The old release that exhibited the problematic\nbehaviour:\n\nSunOS foo 5.8 Generic_108528-05 sun4u sparc SUNW,UltraAX-i2\n\nWorking releases on various machines:\n\nSunOS foo 5.8 Generic_108528-11 sun4u sparc SUNW,UltraAX-i2\nSunOS foo 5.8 Generic_108528-23 sun4u sparc SUNW,UltraAX-i2\n\nPatch notes from sun.com:\n\nhttp://sunsolve.sun.com/pub-cgi/retrieve.pl?type=0&doc=fpatches%2F108528\n\nThese suggest that perhaps either bug #4337605 (\"inetd Denial of Service\nAttack - accept() hangs after successful select()\") or #4253619 (\"httpd\nhangs doing a fork()\") might be the source of the trouble.", "is_private": false, "id": 42280, "creator": "chrisd@apache.org", "time": "2003-08-06T18:15:49Z", "bug_id": 22186, "creation_time": "2003-08-06T18:15:49Z", "attachment_id": null}]