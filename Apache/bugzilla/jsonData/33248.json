[{"count": 0, "tags": [], "bug_id": 33248, "attachment_id": null, "is_private": false, "id": 70100, "time": "2005-01-26T16:11:33Z", "creator": "andrew.benham@thus.net", "creation_time": "2005-01-26T16:11:33Z", "text": "The file 'mod_jk/jk/native/configure.in' does:\n\nAPRINCLUDEDIR=\"-I`$APXS -q APR_INCLUDEDIR`\"\nAPXSCFLAGS=\"`${APXS} -q CFLAGS` `${APXS} -q EXTRA_CFLAGS` -DHAVE_APR\n${APRINCLUDEDIR}\"\n\nThis goes badly wrong when '$APXS -q APR_INCLUDEDIR' returns more than one\ndirectory and one is doing a shared-only build, (e.g. '$APXS -q APR_INCLUDEDIR'\nreturns \"/apache_src_dir/dir1 /apache_src_dir/dir2\" and neither now exist)\nbecause the compiler flags now include:\n\"-DHAVE_APR -I/dir1 /dir2\" - the compiler isn't being told that '/dir2' should\nbe included, treats it as a file to read, can't, so blows up.\n\nE.g.\n/bin/sh /opt/thus/share/apache2/build/libtool --silent --mode=compile gcc\n-I/opt/thus/include/apache2  -O2 -march=i386 -mcpu=i686 -g -O2 -march=i386\n-mcpu=i686 -g -O2 -march=i386 -mcpu=i686 -g -pthread -DHAVE_APR\n-I/var/opt/THUSpbuild/pmeta.10624/THUSapache2/apache2/prefork/srclib/apr/include\n/var/opt/THUSpbuild/pmeta.10624/THUSapache2/apache2/srclib/apr/include  -O2\n-march=i386 -mcpu=i686 -g -I/usr/include -DLINUX=2 -D_REENTRANT\n-D_XOPEN_SOURCE=500 -D_BSD_SOURCE -D_SVID_SOURCE -D_GNU_SOURCE -I /include -I\n/include/ -c jk_ajp12_worker.c \ngcc: /var/opt/THUSpbuild/pmeta.10624/THUSapache2/apache2/srclib/apr/include: No\nsuch file or directory"}, {"count": 1, "tags": [], "bug_id": 33248, "attachment_id": null, "is_private": false, "id": 72579, "time": "2005-03-17T13:33:44Z", "creator": "mturk@apache.org", "creation_time": "2005-03-17T13:33:44Z", "text": "Fixed in the CVS.\nYou can try from HEAD or wait for 1.2.9.\n\nMladen"}]