[{"count": 0, "attachment_id": null, "creator": "swolf@pinnaclesys.com", "is_private": false, "id": 50659, "time": "2004-01-16T19:11:07Z", "bug_id": 26203, "creation_time": "2004-01-16T19:11:07Z", "tags": [], "text": "If I initialize mod_usertrack in httpd.conf with\n\n<IfModule mod_usertrack.c>\n    CookieTracking on\n    CookieExpires \"10 years\"\n</IfModule>\n\nit uses the default COOKIE_NAME (\"Apache\") compiled into the application.  But \nthe cookie directory record does not get completely filled out at \ninitialization time, causing a segmentation violation on a NULL pointer when a \nbrowser connects with a cookie in the header.\n\nThe workaround is to include\n    CookieName \"Apache\"\nin the configuration file, but I have written this patch to make_cookie_dir() \nto solve the problem by initializing cdfg->regexp:\n\n*** mod_usertrack.c.orig        Thu Oct 16 13:23:26 2003\n--- mod_usertrack.c     Fri Jan 16 13:42:02 2004\n***************\n*** 348,353 ****\n--- 348,360 ----\n\n      dcfg = (cookie_dir_rec *) ap_pcalloc(p, sizeof(cookie_dir_rec));\n      dcfg->cookie_name = COOKIE_NAME;\n+\n+     dcfg->regexp_string =\n+               ap_pstrcat(p, \"^\", dcfg->cookie_name,\n+                             \"=([^;]+)|;[ \\t]+\", dcfg->cookie_name,\n+                             \"=([^;]+)\", NULL);\n+     dcfg->regexp = ap_pregcomp(p, dcfg->regexp_string, REG_EXTENDED);\n+\n      dcfg->cookie_domain = NULL;\n      dcfg->prefix_string = \"\";\n      dcfg->style = CT_UNSET;"}, {"count": 1, "tags": [], "creator": "erik@codefaktor.de", "attachment_id": null, "is_private": false, "id": 50775, "time": "2004-01-19T20:38:19Z", "bug_id": 26203, "creation_time": "2004-01-19T20:38:19Z", "text": "\n\n*** This bug has been marked as a duplicate of 24483 ***"}, {"count": 2, "tags": [], "creator": "erik@codefaktor.de", "attachment_id": null, "is_private": false, "id": 50779, "time": "2004-01-19T20:40:27Z", "bug_id": 26203, "creation_time": "2004-01-19T20:40:27Z", "text": "Issue fixed in 2.1, 2.0 and 1.3, see bug #24483."}]