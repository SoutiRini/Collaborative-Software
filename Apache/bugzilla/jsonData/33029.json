[{"count": 0, "tags": [], "creator": "janne@cemron.com", "attachment_id": null, "is_private": false, "id": 69495, "time": "2005-01-10T17:22:54Z", "bug_id": 33029, "creation_time": "2005-01-10T17:22:54Z", "text": "When proxy_http receives flush from the backend server streaming data, it should\nflush data to the client.\n\n\nThis code does the thing:\n\nmodules/proxy/proxy_http.c:\n\n\n                   /* found the last brigade? */\n                    if (APR_BUCKET_IS_EOS(APR_BRIGADE_LAST(bb))) {\n                        /* if this is the last brigade, cleanup the\n                         * backend connection first to prevent the\n                         * backend server from hanging around waiting\n                         * for a slow client to eat these bytes\n                         */\n                        ap_proxy_http_cleanup(r, p_conn, backend);\n                        /* signal that we must leave */\n                        finish = TRUE;\n+                    } else {\t\t     \t\t      \n+\t\t      apr_bucket *e;\n+\t\t      e = apr_bucket_flush_create(c->bucket_alloc);\n+\t\t      APR_BRIGADE_INSERT_TAIL(bb, e);\n\t\t    }"}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "is_private": false, "id": 69587, "time": "2005-01-12T12:08:04Z", "bug_id": 33029, "creation_time": "2005-01-12T12:08:04Z", "text": "Thanks for the report; that wouuld really flush too often though.\n\n*** This bug has been marked as a duplicate of 19954 ***"}]