[{"count": 0, "tags": [], "creator": "richard.mundell@trgrp.com", "text": "We're running Tomcat 5.5.9 on a Windows 2000 platform (running as a service)\n\nWe're experiencing an intermittent problem which causes Tomcat to stop running.\n\nThe only error logged is in the Windows System Event log:\nThe Apache Tomcat service terminated unexpectedly.\n\nThere are no errors in the stdout/stderror or other Tomcat log files (it's as \nif the process was forcibly terminated). According to our application's \nlogging (which samples at 5 minute intervals) there's plenty of memory \nallocation remaining for Java (and indeed, if Java had run out of memory it \nfills the log files with memory errors), and the rest of the server's system \nresources look good.\n\nWe're upgrading this weekend to 5.5.15 in the hope that this will fix the \nproblem but I can't find any reference to this problem in the bug database or \nit having been fixed in the change log.\n\nSorry this is vague (ie. can't provide exact steps to recreate). Have you \nheard of this problem before? Is there any further information I can provide \nwhich might help isolate the problem (or any ideas you can give to help extend \nthe debugging information available). Thanks!", "id": 86613, "time": "2006-03-08T20:35:06Z", "bug_id": 38898, "creation_time": "2006-03-08T20:35:06Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "william.barker@wilshire.com", "text": "Changing component.", "id": 87298, "time": "2006-03-27T02:23:51Z", "bug_id": 38898, "creation_time": "2006-03-27T02:23:51Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "yoavs@computer.org", "text": "I haven't heard of this myself... Did upgrading to 5.5.15 (or 5.5.16, the latest\nstable release at the time of this writing) help?", "id": 88086, "time": "2006-04-14T18:41:13Z", "bug_id": 38898, "creation_time": "2006-04-14T18:41:13Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "text": "My company is seeing this same problem.\nAny news, either a fix or any idea\nwhy it's happening?  From this and the other bug\nreport (39404) it looks to me like the\nonly thing to do is to run tomcat from the\ncommand line (which some of our customers do not\nwant to do, I think because of the issue\nof having a workstation \"exposed\").", "attachment_id": null, "bug_id": 38898, "id": 93100, "time": "2006-09-06T13:45:34Z", "creator": "mccormick_bradford@emc.com", "creation_time": "2006-09-06T13:45:34Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 38898, "is_private": false, "text": "*** Bug 39404 has been marked as a duplicate of this bug. ***", "id": 93102, "time": "2006-09-06T13:50:20Z", "creator": "mturk@apache.org", "creation_time": "2006-09-06T13:50:20Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "mturk@apache.org", "attachment_id": null, "text": "I'll create more verbosed logging for procrun that will\nresolve this issue.", "id": 93103, "time": "2006-09-06T13:51:44Z", "bug_id": 38898, "creation_time": "2006-09-06T13:51:44Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "brondsem@apache.org", "text": "I suddenly started experiencing this today, 3 times in a few hours.  I am using\nTomcat 5.5.15 with jdk1.5.0_06-b05 on Windows 2000 server.\n\nMladen, I look forward to your procrun with detailed logging.", "count": 6, "id": 93531, "time": "2006-09-13T17:35:10Z", "bug_id": 38898, "creation_time": "2006-09-13T17:35:10Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 38898, "is_private": false, "text": "(In reply to comment #5)\n> I'll create more verbosed logging for procrun that will\n> resolve this issue.\n\nI don't mean to be pushy, but this error affected us on production again this\nmorning, so I'm very eager to try a verbose procrun.  Any progress on making one?", "id": 93736, "time": "2006-09-18T13:27:53Z", "creator": "brondsem@apache.org", "creation_time": "2006-09-18T13:27:53Z", "attachment_id": null}, {"count": 8, "tags": [], "creator": "brondsem@apache.org", "attachment_id": null, "text": "Well... I feel a little dumb.  On production, I only had procrun set to WARN\nlevel so I was missing an INFO-level java.lang.OutOfMemoryError.  Is there any\nway to make this error appear at the ERROR level?\n\n[2006-09-19 20:18:10] [info] \nException \n[2006-09-19 20:18:10] [info] java.lang.OutOfMemoryError: requested \n[2006-09-19 20:18:10] [info] 1024000\n[2006-09-19 20:18:10] [info]  bytes\n[2006-09-19 20:18:10] [info]  for \n[2006-09-19 20:18:10] [info] GrET* in\nC:/BUILD_AREA/jdk1.5.0_08/hotspot\\src\\share\\vm\\utilities\\growableArray.cpp\n[2006-09-19 20:18:11] [info] . Out of swap space?\n", "id": 93913, "time": "2006-09-20T10:51:20Z", "bug_id": 38898, "creation_time": "2006-09-20T10:51:20Z", "is_private": false}, {"count": 9, "tags": [], "creator": "psmith@apache.org", "text": "I am honestly not sure this is a Tomcat bug (I'm not a Tomcat committer), but\nwhat I _CAN_ say is that we too are using Tomcat 5.5.15 in production on Red Hat\nEL4, and every 2-3 days get a VM abort with this sort of error message\n(different memory request size though), so I thought I would share our experience.\n\nWe have java 1.5.0_07, client VM, startup command looks like this:\n\n/aconex/java/bin/java -client -Xms1600m -Xmx1600m\n-XX:+HeapDumpOnOutOfMemoryError -XX:PermSize=128m -XX:MaxPermSize=128m\n-Dfile.encoding=utf-8 -Dcom.sun.management.jmxremote.port=9999\n-Dcom.sun.management.jmxremote.authenticate=false\n-Dcom.sun.management.jmxremote.ssl=false\n-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n-Djava.util.logging.config.file=/aconex/tomcat/conf/logging.properties\n-Djava.endorsed.dirs=/aconex/tomcat/common/endorsed -classpath\n:/aconex/tomcat/bin/bootstrap.jar:/aconex/tomcat/bin/commons-logging-api.jar\n-Dcatalina.base=/aconex/tomcat -Dcatalina.home=/aconex/tomcat\n-Djava.io.tmpdir=/aconex/tomcat/temp org.apache.catalina.startup.Bootstrap\n-config conf/mel.xml start\n\nWe have swap configured (4Gb physical RAM, 4Gb swap).\n\nThe virtual memory size of the process grows over time until somewhere between\n2.8 and 3Gb before it aborts with this error.\n\nWe don't see a hs_err<pid>.log file generated either.\n\nI honestly think this is a Java VM bug, but I have no clue what is causing it. \nIf anyone else has any info to add to this I'm sure we would all be greatful.", "id": 94203, "time": "2006-09-28T07:27:35Z", "bug_id": 38898, "creation_time": "2006-09-28T07:27:35Z", "is_private": false, "attachment_id": null}, {"attachment_id": 18938, "tags": [], "creator": "trarman@yahoo.com", "text": "Created attachment 18938\nhs_err log from random death\n\nTomcat service stopped without error last night.  I've attached the\nhs_err_pidxxxx.log.", "count": 10, "id": 94284, "time": "2006-09-29T12:31:07Z", "bug_id": 38898, "creation_time": "2006-09-29T12:31:07Z", "is_private": false}, {"count": 11, "tags": [], "creator": "shankarunni@netscape.net", "attachment_id": null, "text": "You could attach hs_err_pid####.log's till you're blue in the face, but nothing\nchanges the fact that what's wrong here is a *Java Virtual Machine* bug, not a\n*Tomcat source* bug.\n\nJVM crashes can happen for as much of a variety of reasons as an OS \"blue screen\nof death\" - Java Virtual Machine internal coding errors, driver bugs, OS bugs,\nhardware quirks, ...\n\nFirst order of business: use the latest Java VM version (1.5.0_08 as of today).\nSee if this still happens.\n\nThen, take your application to a different machine (different OS, and preferably\ndifferent architecture, e.g. Solaris on Sparc), and try to make it crash the\nsame way using the *exact same inputs*.", "id": 94401, "time": "2006-10-02T13:21:41Z", "bug_id": 38898, "creation_time": "2006-10-02T13:21:41Z", "is_private": false}, {"count": 12, "tags": [], "text": "I hace the same problem, with the same OutOfMemory log:\n\nException java.lang.OutOfMemoryError: requested 65536000 bytes for GrET* in\n/BUILD_AREA/jdk1.5.0_08/hotspot/src/share/vm/utilities/growableArray.cpp. Out of\nswap space?\n\nand other error:\n\nException in thread \"CompilerThread1\" java.lang.OutOfMemoryError: requested\n32756 bytes for ChunkPool::allocate. Out of swap space?\n\nBut this is in  Oracle Containers for J2EE 10g (10.1.3.1.0).  \n\nS.O: Redhat EL4.0\nRAM: 6GB RAM \nSWAP 4GB\n\njava version \"1.5.0_08\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_08-b03)\nJava HotSpot(TM) Server VM (build 1.5.0_08-b03, mixed mode)\n\nWith this message, I believe this is a Bug from J2SE 5.0\n\nBest Reagards,\n\nOscar Lozano\n\n\n\n(In reply to comment #11)\n> You could attach hs_err_pid####.log's till you're blue in the face, but nothing\n> changes the fact that what's wrong here is a *Java Virtual Machine* bug, not a\n> *Tomcat source* bug.\n> \n> JVM crashes can happen for as much of a variety of reasons as an OS \"blue screen\n> of death\" - Java Virtual Machine internal coding errors, driver bugs, OS bugs,\n> hardware quirks, ...\n> \n> First order of business: use the latest Java VM version (1.5.0_08 as of today).\n> See if this still happens.\n> \n> Then, take your application to a different machine (different OS, and preferably\n> different architecture, e.g. Solaris on Sparc), and try to make it crash the\n> same way using the *exact same inputs*.\n\n", "attachment_id": null, "bug_id": 38898, "id": 97161, "time": "2006-12-21T11:05:21Z", "creator": "oscararmandolozano@yahoo.com", "creation_time": "2006-12-21T11:05:21Z", "is_private": false}, {"count": 13, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "text": "I agree it's not a Tomcat bug, but a combination of the JVM and its environment\n(operating system, and more likely, operating system patch levels).  We run\nTomcat 5.5, including 5.5.15, on various Linux JDK 5 installs, and haven't ever\nseen this problem.\n\nThe one think I would like to fix, though, is making the OutOfMemoryError an\nERROR-level logging message, not INFO.", "id": 100901, "time": "2007-03-25T13:45:34Z", "bug_id": 38898, "creation_time": "2007-03-25T13:45:34Z", "is_private": false}, {"count": 14, "tags": [], "text": "All the evidence here is for OOMs (various causes) being the root cause of the process terminating. The users list is the place to get help with issues like this.", "attachment_id": null, "bug_id": 38898, "id": 125670, "time": "2009-03-21T10:48:56Z", "creator": "markt@apache.org", "creation_time": "2009-03-21T10:48:56Z", "is_private": false}]