[{"count": 0, "tags": [], "bug_id": 29682, "attachment_id": null, "text": "We are moving from Weblogic 8.1 to Tomcat 4.1.30.  \n\nWe are calling a bean to retrieve data to be presented to the view.  Two\nproperties are being set using jsp:setProperty, both of the values passed are\nstrings.  One of which is a number represented as a String(type).  \n\nHaving taken a look at the jasper src I found that the only type that is not\nsupported for the property value is String.  It appears that it handles double,\nint, short, long, Object, etc... - but no String.  \n\n    public static void handleSetProperty(Object bean, String prop,\n\t\t\t\t\t double value)\n\tthrows JasperException\n\n\nSteps to reproduce\n1) create a bean to retrieve data\n    the bean should include a setter method accepting a String \n2) defne a variable of type String with the value of '1'\n3) set the property in the JSP with the variable from '2)'\n\nActual results\nApplication failed.\n\nExpected results\nApplication should display view (JSP)\n\nError:\nexception \n\norg.apache.jasper.JasperException\n\tat\norg.apache.jasper.runtime.JspRuntimeLibrary.handleSetProperty(JspRuntimeLibrary.java:535)\n\tat\norg.apache.jsp.my_account_profile_jsp._jspService(my_account_profile_jsp.java:2380)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:137)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n........\n\nroot cause \n\njava.lang.IllegalArgumentException\n\tat sun.reflect.GeneratedMethodAccessor67.invoke(Unknown Source)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat\norg.apache.jasper.runtime.JspRuntimeLibrary.handleSetProperty(JspRuntimeLibrary.java:533)\n\tat\norg.apache.jsp.my_account_profile_jsp._jspService(my_account_profile_jsp.java:2380)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:137)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n.........\n\n\nExample of code in compiled JSP for jsp:setProperty:\nJspRuntimeLibrary.handleSetProperty(pageContext.findAttribute(\"content\"),\n\"localeId\",localeId);\n\n\n\nIs it part of the Servlet Spec not to handle this or is this just an oversight?\n If it is an oversight can it be included in subsequent releases, or is it a\npart of the spec and cannot be changed?\n\nThanks,\n\nHarold", "id": 59528, "time": "2004-06-18T21:28:56Z", "creator": "hneiper@reliant.com", "creation_time": "2004-06-18T21:28:56Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 29682, "text": "I have a simple test case that works for me using the latest sources from CVS.\n\nEither there is something wrong with your test case or there was a bug and it\nhas been fixed. I don't propose to review the source to try and work out which ;).\n\nHowever, if you still see this issue with 4.1.31, please submit a simple test\ncase (as a ready to run WAR) and I will take a look.", "count": 1, "id": 69388, "time": "2005-01-07T20:22:39Z", "creator": "markt@apache.org", "creation_time": "2005-01-07T20:22:39Z", "is_private": false}]