[{"count": 0, "tags": [], "creator": "jhmark@xenops.com", "attachment_id": null, "text": "When I put a SetEnv directive inside a <Files> section which identifies a CGI\nscript, the environment variable is not set when the script is run.\nIf I move the SetEnv into a <Directory> section for the directory the script is\nin, then it works as expected.\n\nExample:\nCreate directories htdocs/dir1, htdocs/dir2.  \nCopy test.sh (see below) into htdocs/dir1 and htdocs/dir2, make it executable.\nPut example text into your httpd.conf (see below).\nGo to http://localhost/test1 ... note that the value of FOO is shown as empty.\nGo to http://localhost/test2 ... note that the correct value is shown.\n\n-------------------- here is test.sh\n#!/bin/sh\necho Content-type: text/plain\necho\necho value of FOO environment variable is: $FOO\n-------------------- here is what to put in httpd.conf\nScriptAlias /test1 /YOURPATH/htdocs/dir1/test.sh\nScriptAlias /test2 /YOURPATH/htdocs/dir2/test.sh\n<Files /YOURPATH/htdocs/dir1/test.sh>\n    Options ExecCGI\n    SetEnv FOO value_of_foo\n</Files>\n<Files /YOURPATH/htdocs/dir2/test.sh>\n    Options ExecCGI\n</Files>\n<Directory /YOURPATH/htdocs/dir2/>\n    SetEnv FOO value_of_foo\n</Directory>", "id": 30446, "time": "2003-01-31T22:42:38Z", "bug_id": 16657, "creation_time": "2003-01-31T22:42:38Z", "is_private": false}, {"count": 1, "tags": [], "text": "Oops.  That's not at all how you use <Files>.  That section takes a filename\nonly, not a full path.  It can be nested inside a <directory> if need be.\n", "attachment_id": null, "id": 30450, "creator": "slive@apache.org", "time": "2003-01-31T23:38:57Z", "bug_id": 16657, "creation_time": "2003-01-31T23:38:57Z", "is_private": false}]