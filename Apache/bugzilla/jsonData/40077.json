[{"count": 0, "tags": [], "text": "This issue affects an unknown number of Test Elements.  The Regular Expression\nExtractor gui will be used as an example for this report.\n\nThe GUI panel implements the createTestElement() function by creating a new\ninstance of the RegexExtractor, and then passing it to the modifyTestElement()\nfunction to initialise its parameters.\n\nThe problem with this approach is that if an existing RegexExtractor is selected\nin the tree view, any newly created RegexExtractors that are created will be\npre-populated with the details of the selected RegexExtractor.  \n\nThis should be changed to ensure that newly created elements are always\ninitialised to known default values (probably empty strings in most cases).  \n\nExisting behaviour (effectivly cloning the existing element) can be achieved via\ncopy/paste.", "attachment_id": null, "id": 91428, "creator": "willinghamg@hotmail.com", "time": "2006-07-20T10:16:24Z", "bug_id": 40077, "creation_time": "2006-07-20T10:16:24Z", "is_private": false}, {"count": 1, "tags": [], "creator": "alf@i100.no", "is_private": false, "text": "Created attachment 20119\nSuggested patch\n\nThe problem is caused by missing implementation of \"clear\" method in the GUI\nclasses.\n\nThis patch adds correct implementation of \"clear\" method for preprocessors,\npostprocessors, assertions and some of the samplers.\n\nWhat remains are most of the samplers, but those GUI classes are a bit complex.\n\nIt also remains to implement clear in some of the config elements.\n\nNote that the logic controllers have been updated in patch in bug 42325.", "id": 102816, "time": "2007-05-03T06:44:42Z", "bug_id": 40077, "creation_time": "2007-05-03T06:44:42Z", "attachment_id": 20119}, {"count": 2, "tags": [], "creator": "alf@i100.no", "attachment_id": 20129, "text": "Created attachment 20129\nUpdated suggested patch\n\nThis updated patch also implements clear in config and samplers.\n\nWhat still remains are the Java sampler and config, and the mailer and jms\nsamplers and configs. I have problems understanding and testing those, so I\nwill not fix those at the moment.", "id": 102847, "time": "2007-05-04T02:13:45Z", "bug_id": 40077, "creation_time": "2007-05-04T02:13:45Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 40077, "attachment_id": null, "id": 102849, "time": "2007-05-04T02:30:30Z", "creator": "sebb@apache.org", "creation_time": "2007-05-04T02:30:30Z", "is_private": false, "text": "Thanks!\n\nPatch 20129 has been applied to SVN in r535138."}, {"count": 4, "attachment_id": null, "bug_id": 40077, "text": "The fix seems to have caused some other problems.\n\nFor example, select a Sampler with non-default data.\nMenu/Run/Clear now resets the sampler back to the default state.\n\nThe purpose of the Clear/Clear All functions is to clear the sampler data, not \nthe test elements.\n\nIt might be useful to implement a test element reset function, but that should \nbe a separate command under the Edit Menu.\n\nThe problem needs to be fixed where the new elements are created.\nI'll have a further look at this.", "id": 104012, "time": "2007-06-03T06:18:42Z", "creator": "sebb@apache.org", "creation_time": "2007-06-03T06:18:42Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "Seems to that the clear() method() is being used for two purposes:\n- clearing the GUI fields (JMeterGUIComponent interface)\n- clearing data from Listeners (the Clearable interface)\n\nOne of these probably needs to be renamed.", "id": 104013, "time": "2007-06-03T07:03:10Z", "bug_id": 40077, "creation_time": "2007-06-03T07:03:10Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 40077, "text": "I now think they should both be renamed:\n- ensures that they are all replaced\n- reduces confusion in future", "id": 104035, "time": "2007-06-04T08:36:47Z", "creator": "sebb@apache.org", "creation_time": "2007-06-04T08:36:47Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 40077, "text": "I've done quite a bit of work to fix this (not yet committed).\n\nAfter I replaced the clear() methods with clearGui() and clearData(), I then \nfound that there is yet another clear() method in the TestElement interface!\n\nThis is definitely not clearGui(), nor does it appear to be clearData() as it \nis not used to clear runtime data.\n\nThe good news is that the Gui elements now behave better.", "id": 104054, "time": "2007-06-04T16:21:03Z", "creator": "sebb@apache.org", "creation_time": "2007-06-04T16:21:03Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 40077, "attachment_id": null, "is_private": false, "id": 104104, "time": "2007-06-05T16:53:24Z", "creator": "sebb@apache.org", "creation_time": "2007-06-05T16:53:24Z", "text": "The refactoring was added to SVN in 544682.\n\nThere are one or two Gui elements that have not yet been fixed."}, {"count": 9, "tags": [], "bug_id": 40077, "text": "(In reply to comment #8)\n> The refactoring was added to SVN in 544682.\n> \n> There are one or two Gui elements that have not yet been fixed.\n\nI noticed when I tested today that the \"Clear All\" did not work for listeners,\nit didn't do anything. The \"clear\" on just an element worked as expected.", "id": 104147, "time": "2007-06-06T12:28:15Z", "creator": "alf@i100.no", "creation_time": "2007-06-06T12:28:15Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "text": "Found the problem - the search for Clearable items looks at the userObject, \nnot the Gui; I had removed Clearable from ResultCollector as it did not appear \nto do anything...\n\nFixed in r54774; Run/Clear now works again.", "attachment_id": null, "id": 104267, "creator": "sebb@apache.org", "time": "2007-06-09T10:03:41Z", "bug_id": 40077, "creation_time": "2007-06-09T10:03:41Z", "is_private": false}, {"count": 11, "attachment_id": null, "bug_id": 40077, "text": "Basically all done now; any problems please reopen with further details", "id": 104278, "time": "2007-06-10T10:44:53Z", "creator": "sebb@apache.org", "creation_time": "2007-06-10T10:44:53Z", "tags": [], "is_private": false}]