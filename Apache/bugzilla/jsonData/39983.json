[{"count": 0, "tags": [], "bug_id": 39983, "attachment_id": null, "text": "I'm attempting to reuse the AWTRenderer from within a Swing application.  It\nworks great, until the preview window is closed, at which point it forces my\napplication closed.\n\nAWTRenderer.createPreviewDialog() adds a WindowListener to the PreviewDialog\n(JFrame) to call System.exit(0) on windowsClosed.  As the PreviewDialog class\nalready calls setDefaultCloseOperation(DISPOSE_ON_CLOSE), I don't see why this\nSystem.exit(0) call is needed.\n\nThanks!", "id": 90960, "time": "2006-07-06T17:31:52Z", "creator": "bugs@mark.ziesemer.com", "creation_time": "2006-07-06T17:31:52Z", "is_private": false}, {"count": 1, "tags": [], "creator": "bugs@mark.ziesemer.com", "attachment_id": null, "id": 90966, "time": "2006-07-06T22:28:46Z", "bug_id": 39983, "creation_time": "2006-07-06T22:28:46Z", "is_private": false, "text": "Also, please see http://forum.java.sun.com/thread.jspa?threadID=750578.  I wrote\na quick extension to AWTRenderer which overrides setUserAgent(), calls super,\nthen removes all the WindowListener's from the frame to get around the\nSystem.exit() part.  However, the text on disabled JButton's on my original\nSwing form no longer appears after displaying and closing the AWTRenderer.  Any\nideas?  (I can file this as a separate bug if desired.)"}, {"count": 2, "tags": [], "bug_id": 39983, "is_private": false, "text": "Regarding my comment #1, I found the issue is with the UIManager.setLookAndFeel(\n               UIManager.getSystemLookAndFeelClassName()) call in the\nPreviewDialog constructor.  Removing it eliminates the issue.  My current\nwork-around is to save the current LAF before opening the AWTRenderer, then\nrestoring after the AWTRenderer is closed.\n\nI don't agree with this being called from within the constructor.  Shouldn't it\nbe up to the caller to specify the LAF?", "id": 91006, "time": "2006-07-07T16:22:37Z", "creator": "bugs@mark.ziesemer.com", "creation_time": "2006-07-07T16:22:37Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 39983, "attachment_id": null, "text": "Actually, just calling this before I open the AWTRenderer works, too.  I still\nthink it's a hack, but it's a better hack.  :-)\n\nSystem.setProperty(\"swing.systemlaf\", UIManager.getLookAndFeel().getName());", "id": 91007, "time": "2006-07-07T16:27:21Z", "creator": "bugs@mark.ziesemer.com", "creation_time": "2006-07-07T16:27:21Z", "is_private": false}, {"count": 4, "attachment_id": null, "creator": "jeremias@apache.org", "is_private": false, "id": 91070, "time": "2006-07-10T20:15:27Z", "bug_id": 39983, "creation_time": "2006-07-10T20:15:27Z", "tags": [], "text": "Thanks for the hints. I've taken care of everything (I think). Tell us if it's\nbetter now. Change in FOP Trunk: http://svn.apache.org/viewvc?rev=420626&view=rev"}, {"count": 5, "tags": [], "text": "You rock!  Thanks!!  (Marking as verified.)", "is_private": false, "id": 91071, "creation_time": "2006-07-10T20:53:13Z", "time": "2006-07-10T20:53:13Z", "creator": "bugs@mark.ziesemer.com", "bug_id": 39983, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "adelmelle@apache.org", "text": "Cleanup: marking bug as fixed, so it disappears from the weekly bug-report.", "count": 6, "id": 116229, "time": "2008-05-04T22:51:53Z", "bug_id": 39983, "creation_time": "2008-05-04T22:51:53Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "adelmelle@apache.org", "is_private": false, "count": 7, "id": 116230, "time": "2008-05-04T23:23:49Z", "bug_id": 39983, "creation_time": "2008-05-04T23:23:49Z", "text": "Second try... Resolution already set to FIXED."}]