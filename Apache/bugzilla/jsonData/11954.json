[{"count": 0, "tags": [], "text": "When an environment variable contains international characters the server won't \nstart. The problem is in apr_proc_create (srclib/apr/threadproc/win32/proc.c) - \napr_conv_utf8_to_ucs2 is used to convert the environment to ucs2 for later use, \nhowever the initial environment strings aren't coded in utf8 (mbcs?) so an \nerror is returned and the server exits.\n\nThe same problem might exist in other places where conversion to ucs2 is done.\n\nFrom error.log:\n[Thu Aug 22 23:13:34 2002] [crit] (22)Invalid argument: Parent: Failed to \ncreate the child process.\n[Thu Aug 22 23:13:34 2002] [crit] (22506)The handle is invalid.  : master_main: \ncreate child process failed. Exiting.", "attachment_id": null, "id": 21567, "creation_time": "2002-08-23T01:11:20Z", "time": "2002-08-23T01:11:20Z", "creator": "christofer.akersten@home.se", "bug_id": 11954, "is_private": false}, {"count": 1, "tags": [], "bug_id": 11954, "is_private": false, "text": "The bug seems to be the same as 11654 and 11854. Recompiling with the patch \nincluded in 11854 seems to solve the problem. (However, you might still want to \ncheck the usage of apr_conv_utf8_to_ucs2 in the code.)", "id": 21651, "time": "2002-08-23T21:58:21Z", "creator": "christofer.akersten@home.se", "creation_time": "2002-08-23T21:58:21Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 11954, "is_private": false, "text": "\n  Tag as fixed.  One change that will be made is a more 'liberal' fallback\n  of conversion based on 3rd party library changes to the environment, or\n  [especially] client variables that are not utf-8'ized.\n\n  But the 'server won't start' was fixed in 2.0.43", "id": 25953, "time": "2002-11-08T16:15:57Z", "creator": "wrowe@apache.org", "creation_time": "2002-11-08T16:15:57Z", "attachment_id": null}]