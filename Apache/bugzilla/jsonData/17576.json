[{"count": 0, "tags": [], "bug_id": 17576, "attachment_id": null, "is_private": false, "id": 32290, "time": "2003-03-03T00:46:18Z", "creator": "abattenhouse@austin.rr.com", "creation_time": "2003-03-03T00:46:18Z", "text": "I defined a simple versioning target of the form:\n<loadproperties srcfile=\"Version.class\">\n  <filterchain>\n    <classconstants/>\n  </filterchain>\n</loadproperties>\n\nWhen I execute it I get the following error:\njava.lang.NoClassDefFoundError: org/apache/bcel/classfile/FieldOrMethod\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:120)\n        at org.apache.tools.ant.filters.ClassConstants.read(ClassConstants.java:\n144)\n        at org.apache.tools.ant.filters.BaseFilterReader.readLine(BaseFilterRead\ner.java:208)\n        at org.apache.tools.ant.filters.PrefixLines.read(PrefixLines.java:137)\n        at org.apache.tools.ant.filters.BaseFilterReader.read(BaseFilterReader.j\nava:123)\n        at java.io.Reader.read(Reader.java:102)\n        at org.apache.tools.ant.util.FileUtils.readFully(FileUtils.java:793)\n        at org.apache.tools.ant.filters.util.ChainReaderHelper.readFully(ChainRe\naderHelper.java:238)\n        at org.apache.tools.ant.taskdefs.LoadProperties.execute(LoadProperties.j\nava:139)\n        at org.apache.tools.ant.Task.perform(Task.java:319)\n        at org.apache.tools.ant.Target.execute(Target.java:309)\n        at org.apache.tools.ant.Target.performTasks(Target.java:336)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1306)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1250)\n        at org.apache.tools.ant.Main.runBuild(Main.java:610)\n        at org.apache.tools.ant.Main.start(Main.java:196)\n        at org.apache.tools.ant.Main.main(Main.java:235)\n\nWhen I look at the source code, my 1.5.1 source drop says JAVA_CLASS_HELPER \nshould be \"org.apache.tools.ant.filters.util.JavaClassHelper\", but I see from \nthe comments at the top of the ClassConstants.java file that \"This filter uses \nthe BCEL external toolkit\". So I'm wondering if somehow the 1.5.1 classes I \ndownloaded were compiled from the source I'm looking at."}, {"attachment_id": null, "tags": [], "bug_id": 17576, "text": "Why not download the bcel toolkit (http://jakarta.apache.org/bcel/index.html) &\nsee if that fixes your problem.\n\nI dont know why your source != your binary. \n", "count": 1, "id": 32773, "time": "2003-03-10T07:02:58Z", "creator": "stevel@apache.org", "creation_time": "2003-03-10T07:02:58Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 17576, "text": "As Steve says, downloading BCEL will fix (or has fixed) your problem.\n\nThere is no discrepancy between your source and binary, BTW. Since the exception\nthrown is a NoClassDefFoundError, rather than ClassNotFoundException, it\nindicates that the problem is occuring when loading / resolving JavaClassHelper.", "id": 40601, "time": "2003-07-14T02:27:47Z", "creator": "conor@apache.org", "creation_time": "2003-07-14T02:27:47Z", "is_private": false, "attachment_id": null}]