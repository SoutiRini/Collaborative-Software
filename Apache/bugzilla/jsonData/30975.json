[{"count": 0, "tags": [], "bug_id": 30975, "text": "I have a simple Test plan that tries to log into a website:\n\nTest Plan\n  Thread Group\n    HTTP Cookie Manager\n    HTTP Request Defaults\n    Once Only Controller (Login)\n      HTTP Request (Load Login Page)\n      HTTP Request (Post to Login Page)\n    HTTP Request (Dynamic Generated Page, requires login)\n    Gaussian Random Timer\n    Aggregate Report\n    View Results Tree\n\nI ran though this once with 1 thread to see if it would log in correctly.\n\nThe \"Load Login Page\" request sends back these headers:\n\nHTTP/1.1 200 OK\nDate: Tue, 31 Aug 2004 21:30:14 GMT\nServer: Apache/2.0.49 (Fedora)\nSet-Cookie: mcid=3327724289; path= /; domain=.morinda.com;\nSet-Cookie: tnicustid=121150; path=/; domain=.morinda.com; expires=Thursday,\n01-Jan-2015 12:00:00 GMT\nConnection: close\nContent-Type: \n\nThese headers contain a customerid cookie that expires in about 11 years and a\nsession cookie.\n\nThe \"Post to Login Page\" sends the tnicustid cookie, but not the mcid cookie.\n\nI'll try to track down the problem and submit a patch.", "id": 62869, "time": "2004-08-31T21:51:41Z", "creator": "nathanc@tni.com", "creation_time": "2004-08-31T21:51:41Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "nathanc@tni.com", "text": "As I was tracing throught the code in order to come up with a patch, I found out\nthat it had nothing to do with the exipres, and everything to do with the path.\n\nI am changing the summary to reflect the new problem.\n\nApparently the major browsers (Mozilla and IE are the ones I tested) don't care\nthat there is extra whitespace with the path.\n\nThe RFC states that the path should be a prefix to the URL requested.\n\nIf it is deemed that it should be changed, then the code to change it would be:\n\nLine 408 of CookieManager.java would change from:\n\n                newCookie.setPath(nvp.substring(index + 1));\n\nto:\n\n                newCookie.setPath(nvp.substring(index + 1).trim());\n\nOr to: \n\n                int pathindex = index + 1;\n                while (nvp.charAt(pathindex) == ' ' || nvp.charAt(pathindex) ==\n'\\t') pathindex++;\n                newCookie.setPath(nvp.substring(index + 1));\n\n\n", "id": 62872, "time": "2004-08-31T22:53:55Z", "bug_id": 30975, "creation_time": "2004-08-31T22:53:55Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 30975, "text": "Oops that last one should be:\n\nint pathindex = index + 1;\nwhile (nvp.charAt(pathindex) == ' ' || nvp.charAt(pathindex) == '\\t') pathindex++;\nnewCookie.setPath(nvp.substring(pathindex + 1));", "count": 2, "id": 62907, "time": "2004-09-01T14:55:25Z", "creator": "nathanc@tni.com", "creation_time": "2004-09-01T14:55:25Z", "is_private": false}]