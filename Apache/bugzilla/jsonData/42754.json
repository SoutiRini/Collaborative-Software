[{"count": 0, "attachment_id": null, "bug_id": 42754, "text": "Tomcat version: 6.0.13\n\nWhen a handling a Comet BEGIN event and not reading all bytes and returning, a\nSEVERE error is caused by Tomcat. However the CometProcessor does not get\nnotified of this error (it receives no further events at all). Resources\nallocated in the BEGIN event cannot be freed, causing a possible resource leak.\n\nAlso (at least when there is data in the buffer), Tomcat enters a busy handling\nloop eating 100% CPU time. Preliminary debugging showed that the Comet event\ntype is set to END in this loop, but only the event() method on an ErrorValve is\ncalled, and the event method of the CometProcessor which received the BEGIN\nevent is not called.", "id": 104761, "time": "2007-06-27T05:28:06Z", "creator": "sebster@sebster.com", "creation_time": "2007-06-27T05:28:06Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "sebster@sebster.com", "text": "See also bug 42753.", "id": 104903, "time": "2007-06-29T06:40:24Z", "bug_id": 42754, "creation_time": "2007-06-29T06:40:24Z", "is_private": false, "attachment_id": null}]