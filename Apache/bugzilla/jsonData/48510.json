[{"count": 0, "tags": [], "bug_id": 48510, "attachment_id": 24819, "id": 133451, "time": "2010-01-08T06:02:55Z", "creator": "dsavickas@gmail.com", "creation_time": "2010-01-08T06:02:55Z", "is_private": false, "text": "Created attachment 24819\nZipped Maven project folder\n\nAfter undeploying web application (see attachment) instance of CustomFormatter is left non-reclaimed. As CustomFormatter is loaded by WebAppClassLoader, the classloader remains in memory too.\n\nTo reproduce: deploy attached web application and stop/start it several times, then do a heap dump. Check the dump using Eclipse Memory Analyzer or YourKit Java Profiler and notice multiple WebAppClassLoaders present in the dump.\n\nIssue seems to be related to org.apache.juli.ClassLoaderLogManager.\norg.apache.juli.ClassLoaderLogManager$LogNode keeps a reference to java.util.logging.Logger. Logger has a handler with CustomFormatter."}, {"count": 1, "text": "Thanks for the test case. This bug has the same root cause as bug 48421 so I am marking it as a duplicate.\n\n*** This bug has been marked as a duplicate of bug 48421 ***", "bug_id": 48510, "attachment_id": null, "id": 133552, "time": "2010-01-12T13:06:04Z", "creator": "markt@apache.org", "creation_time": "2010-01-12T13:06:04Z", "tags": [], "is_private": false}]