[{"count": 0, "tags": [], "bug_id": 903, "is_private": false, "text": "There are some syntax errors in tomcat.sh, when you run it with Security\nManager.\n\n./tomcat.sh start -security\n/*-------------SNIP------------------*/\n# We start the server up in the background for a couple of reasons:\n#   1) It frees up your command window\n#   2) You should use `stop` option instead of ^C to bring down the server\nif [ \"$1\" = \"start\" ] ; then \n  shift \n  echo Using classpath: ${CLASSPATH}\n  if [ \"$1\" = \"-security\" ] ; then\n    echo Starting with a SecurityManager\n# ------ Here -----------\n    shift   <-------- This shift is missing, otherwise you will get\nErrormessage \t\t\t      from Tomcat.main() cause -security isnt a Tomcat Option. \n    $JAVACMD $TOMCAT_OPTS -Djava.security.manager \n# ------- and here ------\n----> in the next line there were 2 '='s not one.\n----> it looked like: -Djava.security.policy==${TOMCAT_HOME}\n----> the same a few lines down, in [run] part.\n-Djava.security.policy=${TOMCAT_HOME}/conf/tomcat.policy\n-Dtomcat.home=${TOMCAT_HOME}  org.apache.tomcat.startup.Tomcat \"$@\" &\n  else\n  $JAVACMD $TOMCAT_OPTS -Dtomcat.home=${TOMCAT_HOME} \norg.apache.tomcat.startup.Tomcat \"$@\" &\n  fi\n\n\n\nWell, this is my first Bug Report ever, so excuse my style :-)\nCYa, Patrick", "id": 1071, "time": "2001-03-08T07:38:42Z", "creator": "p.gebhardt@censio.de", "creation_time": "2001-03-08T07:38:42Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "marc.saegesser@apropos.com", "attachment_id": null, "id": 1463, "time": "2001-03-20T12:58:18Z", "bug_id": 903, "creation_time": "2001-03-20T12:58:18Z", "is_private": false, "text": "The == is part of the syntax for setting security managers.  The script problem \nwill be addressed in a later release."}, {"count": 2, "tags": [], "bug_id": 903, "is_private": false, "text": "Fixed in 3.3\nThe -security option is no longer processed in shell, but in Main.java", "id": 2007, "time": "2001-04-22T08:46:40Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-04-22T08:46:40Z", "attachment_id": null}]