[{"count": 0, "tags": [], "bug_id": 10064, "is_private": false, "text": "I am seeing that Tomcat 4.0.1 when run as a nt service will not use the \nsecurity manager even though it was configured to do so when running tomcat.exe.\nWhen I run the catalina starup batch file i.e. \"catalina start -security\", it \nwill work correctly.\nThe batch file I ran to create the service is listed below:\n\n<begin>\n\nset SERVICENAME=Apache Tomcat\nset CATALINA_HOME=c:\\jakarta\\tomcat\nset CATALINA_BASE=%CATALINA_HOME%\nset JAVACLASSPATH=\"%CATALINA_HOME%\\bin\\bootstrap.jar\"\nset JAVACLASSPATH=%JAVACLASSPATH%;\"%CATALINA_HOME%\\common\\lib\\servlet.jar\"\nset JAVACLASSPATH=%JAVACLASSPATH%;\"%JAVA_HOME%\\lib\\tools.jar\"\n\ntomcat.exe -install \"%SERVICENAME%\" \"%JAVA_HOME%\\jre\\bin\\hotspot\\jvm.dll\" -\nDjava.class.path=%JAVACLASSPATH% -Djava.security.manager -\nDjava.security.policy==\"%CATALINA_BASE%\\conf\\catalina.policy\" -Dcatalina.base=\"%\nCATALINA_BASE%\" -Dcatalina.home=\"%CATALINA_HOME%\" -Xrs -start \norg.apache.catalina.startup.Bootstrap -params start -stop \norg.apache.catalina.startup.Bootstrap -params stop -out \"%CATALINA_HOME%\n\\logs\\stdout.log\" -err \"%CATALINA_HOME%\\logs\\stderr.log\"\n\n<end>", "id": 18199, "time": "2002-06-20T16:04:29Z", "creator": "wspragu@citgo.com", "creation_time": "2002-06-20T16:04:29Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Hacking JavaService is not really supported (and is third party code). This\nshould be better supported when we use the commons-daemon launcher code.", "attachment_id": null, "id": 18304, "creator": "remm@apache.org", "time": "2002-06-21T13:44:33Z", "bug_id": 10064, "creation_time": "2002-06-21T13:44:33Z", "is_private": false}]