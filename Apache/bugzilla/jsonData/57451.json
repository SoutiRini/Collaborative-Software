[{"count": 0, "tags": [], "creator": "alex@net13.info", "text": "Created attachment 32373\nthe trivial patch\n\nI propose to add trivial enhancement to the mod_headers: allow to use client IP in header value by using %a specifier. The patch is rather trivial too.\n\nWhat it provides:\n\nWhen used on frontend like\n\nRequestHeader set X-Client-IP %a\n\nIt provides X-Client-IP header to pass through the proxy module (that is, if you don't want to use X-Forwarder-For header for realip module, and proxy module has no option to change the name). This variant works after realip, so it retrieves the first client IP if used together with realip.\n\nWhen used on backend like\n\nRequestHeader set X-Frontend-IP %a early\n\nit sets X-Frontend-IP header to the last frontend IP (direct IP) accessing this server.\n\nSo it's useful to easily retrieve first/last IPs in forwarding sequence for scripts.", "id": 180334, "time": "2015-01-17T13:07:27Z", "bug_id": 57451, "creation_time": "2015-01-17T13:07:27Z", "is_private": false, "attachment_id": 32373}, {"count": 1, "tags": [], "text": "Sorry, duplicated.", "is_private": false, "id": 180336, "creator": "alex@net13.info", "time": "2015-01-17T14:12:56Z", "bug_id": 57451, "creation_time": "2015-01-17T14:12:56Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "math.parent@gmail.com", "is_private": false, "text": "It's a dupe of #47447.", "id": 193761, "time": "2016-09-16T13:14:51Z", "bug_id": 57451, "creation_time": "2016-09-16T13:14:51Z", "attachment_id": null}]