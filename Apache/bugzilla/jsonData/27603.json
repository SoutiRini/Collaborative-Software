[{"count": 0, "tags": [], "bug_id": 27603, "text": "When using a JNDI datasource in Tomcat you specify something like this in the \nserver.xml:\n\n<Resource name=\"jdbc/revireg\" auth=\"Container\" type=\"javax.sql.DataSource\"/>\n<ResourceParams name=\"jdbc/revireg\">\n<parameter> \n<name>factory</name><value>org.apache.commons.dbcp.BasicDataSourceFactory</valu\ne></parameter>\n<parameter><name>driverClassName</name><value>com.microsoft.jdbc.sqlserver.SQLS\nerverDriver</value></parameter>\n<parameter> <name>url</name><value>jdbc:microsoft:sqlserver://WS-WEBREG-\nQDL:1085</value></parameter>\n<parameter><name>username</name><value>qdl</value></parameter>\netc ...\n</ResourceParams>\n\nNow the problem is that there is no way to specify driver specific properties. \nFex. the MS SQL Server jdbc driver has a property called 'selectMethod' which \ncan be set to either 'direct' or 'cursor'.\n\nThe BasicDataSource class used in the above configuration supports driver \nspecific properties via the 'addConnectionProperty(String name, String value)' \nmethod. The ResourceParams class however does not support nested properties, \nie. something like:\n\n<ResourceParams name=\"jdbc/revireg\">\n\n....\n\n<nestedparameter name=\"connectionProperty\">\n  <parameter><name>selectMethod</name><value>cursor</value></parameter>\n</nestedparameter>\n\n....\n\n</ResourceParams>", "id": 53865, "time": "2004-03-11T13:28:53Z", "creator": "erik.w.rasmussen@tietoenator.com", "creation_time": "2004-03-11T13:28:53Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 27603, "text": "Upon closer inspection the wanted feature actually exists but is not \ndocumented.\n\nThe way to do it:\n\n<ResourceParams name=\"jdbc/revireg\">\n....\n<parameter><name>connectionProperties</name><value>selectMethod=cursor</value><\n/parameter>\n....\n</ResourceParams>\n\nPlease add this to the 'Server Configuration Reference'\n", "id": 53867, "time": "2004-03-11T14:03:40Z", "creator": "erik.w.rasmussen@tietoenator.com", "creation_time": "2004-03-11T14:03:40Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 27603, "text": "This is a dbcp feature, not a Tomcat feature, and is included in the currect\ndbcp documentation. Since it is already documented, I am resolving this as works\nfor me.", "id": 69742, "time": "2005-01-16T16:44:32Z", "creator": "markt@apache.org", "creation_time": "2005-01-16T16:44:32Z", "is_private": false, "attachment_id": null}]