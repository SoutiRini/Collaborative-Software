[{"count": 0, "tags": [], "bug_id": 27107, "attachment_id": null, "text": "Reading fonts/BERLIN.TTF...\n\nNumber of glyphs in font: 119\nUnicode cmap table not present\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.RangeCheck(ArrayList.java:507)\n        at java.util.ArrayList.get(ArrayList.java:324)\n        at org.apache.fop.fonts.TTFFile.createCMaps(TTFFile.java:449)\n        at org.apache.fop.fonts.TTFFile.readFont(TTFFile.java:439)\n        at org.apache.fop.fonts.apps.TTFReader.loadTTF(TTFReader.java:222)\n        at org.apache.fop.fonts.apps.TTFReader.main(TTFReader.java:184)\n\n\nI found that the TrueType file contains a \"cmap\" table with platformID=3 and\nencodingId=0 (Windows Symbol encoding, or whatever).\n\nTTFReader expects encodingId = 1. However, the table contains readable data in\nthe correct format (format 4). After patching TTFFile.java, it created a\nperfectly valid metrics file.\n\nI might suggest that you apply this patch to org.apache.fop.fonts.TTFFile, line 185:\n\n   if (cmap_pid == 3 && (cmap_eid == 1 || cmap_eid == 0))", "id": 52655, "time": "2004-02-20T12:30:55Z", "creator": "peter.schaefer@healy-hudson.com", "creation_time": "2004-02-20T12:30:55Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 27107, "text": "Created attachment 10453\nTrueType font with cmap (3,0)", "id": 52656, "time": "2004-02-20T12:31:53Z", "creator": "peter.schaefer@healy-hudson.com", "creation_time": "2004-02-20T12:31:53Z", "is_private": false, "attachment_id": 10453}, {"count": 2, "tags": [], "creator": "pascal.sancho@takoma.fr", "attachment_id": null, "text": "confirmed with FOP 0.94 and TRUNK rev 591907:\nunsupported format. Log says:\nParsing font...\nReading E:\\recup\\BERLIN.TTF...\nUnicode cmap table not present\nUnsupported format: Aborting\n\n\u2026 no file is created", "id": 110791, "time": "2007-11-20T01:25:06Z", "bug_id": 27107, "creation_time": "2007-11-20T01:25:06Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 27107, "text": "resetting severity from major to normal pending further review", "id": 157289, "time": "2012-04-07T01:37:34Z", "creator": "gadams@apache.org", "creation_time": "2012-04-07T01:37:34Z", "is_private": false, "attachment_id": null}]