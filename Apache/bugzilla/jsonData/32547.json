[{"count": 0, "tags": [], "creator": "seth@ehawaii.gov", "attachment_id": null, "text": "Hello,\n\nI have a very simple .jsp file that has the following content:\n\n<spring:nestedPath path=\"foo\">\n...\n<spring:nestedPath path=\"bar\">\n..\n</spring:nestedPath>\n</spring:nestedPath>\n\nWhen compiling with Jasper2 (via the Ant Task), Java source code is created that\ncan't be compiled.\n\nThe error:\njspc:\n    [javac] Compiling 11 source files to C:\\eclipse\\workspace\\Lala\\build\\classes\n    [javac]\nC:\\eclipse\\workspace\\Lala\\build\\jspc\\org\\apache\\jsp\\WEB_002dINF\\jsp\\newAccount_jsp.java:286:\ncannot resolve symbol\n    [javac] symbol  : variable _jspx_nestedPath_1\n    [javac] location: class\norg.apache.jsp.WEB_002dINF.jsp.newAccount_jsp.newAccount_jspHelper\n    [javac] _jspx_nestedPath_1 = nestedPath;\n\nI have attached the source for the created .java file.  The variable,\n_jspx_nestedPath_1 is declared outside of the scope of that line (hence the error).\n\nThe tag source code:\nhttp://cvs.sourceforge.net/viewcvs.py/springframework/spring/src/org/springframework/web/servlet/tags/NestedPathTag.java?rev=1.3&view=log\n\nThe tag tld:\nhttp://cvs.sourceforge.net/viewcvs.py/springframework/spring/src/org/springframework/web/servlet/tags/spring.tld?rev=1.8&view=log\n\nMy ant task that does the compiling:\n        <jasper2\n             trimSpaces=\"true\"\n             validateXml=\"false\"\n             uriroot=\"${web.dir}\"\n             webXmlFragment=\"${build.dir}/compiled_jsp.xml\"\n             outputDir=\"${build.dir}/jspc\" />\n             \n        <mkdir dir=\"${jsp.classes.dir}\" />\n\n        <javac srcdir=\"${build.dir}/jspc\"\n            target=\"1.4\"\n            destdir=\"${jsp.classes.dir}\"\n            debug=\"on\" debuglevel=\"lines,vars,source\">\n            <classpath refid=\"classpath\" />\n\nThanks, Seth", "id": 68002, "time": "2004-12-06T22:19:13Z", "bug_id": 32547, "creation_time": "2004-12-06T22:19:13Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 32547, "attachment_id": 13662, "text": "Created attachment 13662\nGenerated Java Source from JSP", "id": 68003, "time": "2004-12-06T22:20:15Z", "creator": "seth@ehawaii.gov", "creation_time": "2004-12-06T22:20:15Z", "is_private": false}, {"count": 2, "tags": [], "text": "Created attachment 13663\nThe jsp file that creates the incorrect java source", "attachment_id": 13663, "bug_id": 32547, "id": 68004, "time": "2004-12-06T22:20:56Z", "creator": "seth@ehawaii.gov", "creation_time": "2004-12-06T22:20:56Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 32547, "attachment_id": null, "text": "This is related to the <variable> element in the .tld file for the\nspring:nestedPath tag.\n\nSo the question is, is it supported to have a nested tags that export a\nvariable?  Since it's the same tag, it's the same name.  I'm assuming yes (the\nvariable just becomes overwritten).  I see that Jasper is attempting to save the\nold version before it becomes overwritten.  It's this older version that isn't\nshowing up in the correct scope.", "id": 68012, "time": "2004-12-07T00:45:57Z", "creator": "seth@ehawaii.gov", "creation_time": "2004-12-07T00:45:57Z", "is_private": false}, {"count": 4, "tags": [], "text": "I found out the real cause for this error.  It seems that if a tag that exports\na variable is nested inside itself, and this is all nested inside a tag\nimplemented as a tag file, then the incorrect java source is generated.\n\nFor instance, this will cause incorrect java source to be generated:\n\n<tags:myTagFile>\n <x:tagThatExportsVariable>\n   <x:tagThatExportsVariable>\n   ...\n   </x:tagThatExportsVariable>\n </x:tagThatExportsVariable>\n</tags:myTagFile>\n\nRemove <tags:myTagFile> and it will work.\n\nIs this a bug in Jasper?  I think it should be supported.  If not, a more useful\nerror message should be generated.", "attachment_id": null, "bug_id": 32547, "id": 68331, "time": "2004-12-13T04:24:31Z", "creator": "seth@ehawaii.gov", "creation_time": "2004-12-13T04:24:31Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 32547, "attachment_id": null, "id": 72760, "time": "2005-03-23T18:08:33Z", "creator": "yoavs@computer.org", "creation_time": "2005-03-23T18:08:33Z", "is_private": false, "text": "Well, it's been more than 3 months since the report, and no one has commented. \nIs this still an issue for you in Tomcat 5.5?  If so, please suggest a patch\n(either as a fix or a patch to give a better error message).  Otherwise, I don't\nthink any action will be taken on this issue."}, {"count": 6, "tags": [], "creator": "seth@ehawaii.gov", "attachment_id": null, "text": "I have not tried Tomcat 5.5, but I will.", "id": 72821, "time": "2005-03-25T01:57:14Z", "bug_id": 32547, "creation_time": "2005-03-25T01:57:14Z", "is_private": false}, {"count": 7, "tags": [], "creator": "yoavs@computer.org", "text": "When you do, feel free to update this.", "id": 75685, "time": "2005-06-01T04:09:31Z", "bug_id": 32547, "creation_time": "2005-06-01T04:09:31Z", "is_private": false, "attachment_id": null}]