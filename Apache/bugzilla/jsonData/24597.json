[{"count": 0, "tags": [], "creator": "pierre.delisle@sun.com", "attachment_id": null, "id": 47160, "time": "2003-11-11T03:35:17Z", "bug_id": 24597, "creation_time": "2003-11-11T03:35:17Z", "is_private": false, "text": "As reported by Mattias Reichel (mattias@originalab.se):\n\nCurrently, when the accept-language header is MISSING the locale chosen is\nthe system default locale and not the fallback locale.\n\nI think the fallback locale should be checked first also in this case and\nonly if no fallback locale is specified should the system default locale be\nused."}, {"attachment_id": null, "tags": [], "creator": "pierre.delisle@sun.com", "is_private": false, "count": 1, "id": 47161, "time": "2003-11-11T03:47:47Z", "bug_id": 24597, "creation_time": "2003-11-11T03:47:47Z", "text": "Indeed, this is a bug. It comes from the fact that HttpServletRequest.getLocales()\nreturns the server's default locale if the request did not specify a\npreferred language.\n\nWe therefore need to verify if no preferred locale has been specified in the\nrequest and use the fallback locale if that is the case."}, {"count": 2, "tags": [], "bug_id": 24597, "attachment_id": null, "text": "This is now fixed in JSTL 1.1.", "id": 49047, "time": "2003-12-13T05:54:10Z", "creator": "pierre.delisle@sun.com", "creation_time": "2003-12-13T05:54:10Z", "is_private": false}]