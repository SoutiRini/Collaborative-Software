[{"count": 0, "tags": [], "creator": "cgaffga@triplemind.com", "attachment_id": null, "text": "i posted this issue before, and decided to run my test with another servlet\ncontainer, before saying: it a problem with tomcat.\n(I'm running tomcat 4.1.27 with JDK 1.4.2 on RH8)\n\nI have a small test class, that\n- Lookup an Entity EJB\n- get a property from the Bean\n- serialize the bean using betwixt\n\nI runned the classes main-method form different environments, but all with\nthe same jvm parameters (-server -Xms1200m -Xmx1200m).\nIn tomcat it slowes down dramaticly:\n\n          |Command Line | from Servlet | from Servlet\n          |             | in Tomcat    | in Jetty\n----------+-------------+--------------+---------------\nLookup    |  144 ms     |  2490 ms     |   143 ms\nGetter    |   17 ms     |  2843 ms     |    21 ms\nSerialize |  708 ms     | 64147 ms     |   947 ms\n\nI first thought that is has to do with all the classes in my classpath and the \ntime relfection needs (especialy for betwixt). But when I added all the jars \nto the classpath of the commandline test, it slowes down only about 5%.\n\nfor code of my test classes, see atachements.", "id": 44885, "time": "2003-09-30T13:20:56Z", "bug_id": 23518, "creation_time": "2003-09-30T13:20:56Z", "is_private": false}, {"attachment_id": 8395, "tags": [], "creator": "cgaffga@triplemind.com", "is_private": false, "count": 1, "id": 44886, "time": "2003-09-30T13:24:30Z", "bug_id": 23518, "creation_time": "2003-09-30T13:24:30Z", "text": "Created attachment 8395\nTestClient.java (running the main-method fro command-line testing)"}, {"count": 2, "tags": [], "text": "Created attachment 8396\nTestEJBServlet.java (calls the TestClient's main()-method from a servlet", "is_private": false, "bug_id": 23518, "id": 44887, "time": "2003-09-30T13:25:24Z", "creator": "cgaffga@triplemind.com", "creation_time": "2003-09-30T13:25:24Z", "attachment_id": 8396}, {"count": 3, "tags": [], "bug_id": 23518, "attachment_id": null, "text": "Sorry, but it is not our job to profile your application, and investigate your\nperformance issues. If Tomcat doesn't meet your needs, you have alternatives.\nWe can only look at very specific issues (microbenchmarks) when considering\nperformance problems, not whole applications.", "id": 44892, "time": "2003-09-30T16:13:10Z", "creator": "remm@apache.org", "creation_time": "2003-09-30T16:13:10Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 23518, "attachment_id": null, "text": "Was my failt. But it was such a strange issue, and I was surprised, nobody had \nrecognized it before. Thought maybe I'm the only java user on earth ;(\n\nSo, to close this issue:\nMy fault was to symlink all the jboss-client-jars to my WEB-INF/lib-directory, \nbut when I copy them to $TOMCAT_HOME/shared/lib/ instead, it works! :)\nAnd the speed is like jetty.\n\n\n", "id": 45849, "time": "2003-10-17T16:10:14Z", "creator": "cgaffga@triplemind.com", "creation_time": "2003-10-17T16:10:14Z", "is_private": false}]