[{"count": 0, "text": "The anchor.svg fails on <image> with raster images and svg images alike.", "bug_id": 2980, "is_private": false, "id": 4259, "time": "2001-08-03T09:35:29Z", "creator": "vincent.hardy@sun.com", "creation_time": "2001-08-03T09:35:29Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 2980, "attachment_id": null, "is_private": false, "id": 4338, "time": "2001-08-07T14:12:19Z", "creator": "deweese@apache.org", "creation_time": "2001-08-07T14:12:19Z", "text": "I played with this a bit.\nThe problem seems to be in SVGImageElementBridge (possibly also in\nImageNode and/or RasterImageNode).\nIf I have createGraphicsNode return 'node' instead of 'imageNode'\nI loose the transform from image but for raster images the link now works.\nThis seems to indicate a problem with transform handling or something.\n\nFor SVG images I copies a whole bunch of code from the use that cloned\nthe referenced document into this document, the thing that finally got it \nto work (returning either node or imageNode!) was:\n\n  // attach the referenced element to the current document\n  ((HiddenChildElement)svgElement).setParentElement(element);\n\nThis makes sense since the way the Anchor guy works is to walk up the\ntree till it finds the Anchor element, so if it can't get 'back to' the\nreferencing document it will never find the anchor.  Importing all\nthat code caused all sorts of other problems so I'm not checking it in\nbut it was all stolen from the use bridge.\n\nI still don't have a definitive answer on why the Raster stuff only\nworked if I by-passed the ImageNode.  I suspect some state isn't getting\ncleared or updated when the RasterImageNode is finally added...\n"}, {"count": 2, "tags": [], "creator": "tkormann@apache.org", "text": "fixed for both raster and SVG image", "id": 7909, "time": "2001-11-14T03:09:04Z", "bug_id": 2980, "creation_time": "2001-11-14T03:09:04Z", "is_private": false, "attachment_id": null}]