[{"count": 0, "tags": [], "bug_id": 56631, "attachment_id": null, "is_private": false, "id": 175838, "time": "2014-06-16T14:06:05Z", "creator": "middlewarebs@hp.com", "creation_time": "2014-06-16T14:06:05Z", "text": "Hi,\n\nI think that the \"--with-apr\" parameter doesn't work correctly. I compile APR-util with this flags:\n\n./configure \\\n--cache-file=/dev/null \\\n--srcdir=/soft/apache2.4/src/httpd-2.4.9/srclib/apr-util \\\n--with-apr=/soft/apache2.4 \\\n--prefix=/soft/apache2.4 \\\n--exec-prefix=/soft/apache2.4 \\\n--bindir=/soft/apache2.4/bin \\\n--libdir=/soft/apache2.4/lib \\\n--includedir=/soft/apache2.4/include\n\nBut \"make test\" fails:\n\ntestpass            : |./testall: symbol lookup error: /soft/apache2.4/src/httpd-2.4.9/srclib/apr-util/.libs/libaprutil-1.so.0: undefined symbol: apr_pool_pre_cleanup_register\nPrograms failed: testall\nmake[1]: *** [check] Error 127\nmake[1]: Leaving directory `/soft/apache2.4/src/httpd-2.4.9/srclib/apr-util/test'\nmake: *** [check] Error 2\n\nShared library dependencies:\n\nldd /soft/apache2.4/src/httpd-2.4.9/srclib/apr-util/.libs/libaprutil-1.so.0\n        libexpat.so.0 => /usr/lib64/libexpat.so.0 (0x00002b3a2064c000)\n        libapr-1.so.0 => /usr/lib64/libapr-1.so.0 (0x00002b3a2086c000)\n        libuuid.so.1 => /lib64/libuuid.so.1 (0x00002b3a20aa8000)\n        librt.so.1 => /lib64/librt.so.1 (0x00002b3a20cad000)\n        libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00002b3a20eb6000)\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x00002b3a210ee000)\n        libdl.so.2 => /lib64/libdl.so.2 (0x00002b3a2130a000)\n        libc.so.6 => /lib64/libc.so.6 (0x00002b3a2150e000)\n        /lib64/ld-linux-x86-64.so.2 (0x0000003c67800000)\n\nThe reference of libapr-1.so.0 should be => /soft/apache2.4/lib/libapr-1.so.0."}]