[{"count": 0, "tags": [], "bug_id": 37699, "attachment_id": null, "is_private": false, "id": 82995, "time": "2005-11-29T19:59:13Z", "creator": "nex_sandro@yahoo.com.br", "creation_time": "2005-11-29T19:59:13Z", "text": "My jstl build is 1.1.1.\n\nWhen I try to make a test with \"<c:if\" using an variable defined in scriptlet, \nthe test fail with the stacktrace:\n\njava.lang.IllegalStateException: getAttribute: Session already invalidated\n\torg.apache.catalina.session.StandardSession.getAttribute\n(StandardSession.java:975)\n\torg.apache.catalina.session.StandardSessionFacade.getAttribute\n(StandardSessionFacade.java:113)\n\torg.apache.jasper.runtime.PageContextImpl.doFindAttribute\n(PageContextImpl.java:469)\n\torg.apache.jasper.runtime.PageContextImpl.findAttribute\n(PageContextImpl.java:454)\n\torg.apache.commons.el.VariableResolverImpl.resolveVariable\n(VariableResolverImpl.java:157)\n\torg.apache.jasper.runtime.PageContextImpl.resolveVariable\n(PageContextImpl.java:833)\n\torg.apache.commons.el.NamedValue.evaluate(NamedValue.java:124)\n\torg.apache.commons.el.UnaryOperatorExpression.evaluate\n(UnaryOperatorExpression.java:156)\n\torg.apache.commons.el.ExpressionEvaluatorImpl.evaluate\n(ExpressionEvaluatorImpl.java:263)\n\torg.apache.commons.el.ExpressionEvaluatorImpl.evaluate\n(ExpressionEvaluatorImpl.java:190)\n\torg.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate\n(PageContextImpl.java:899)\n\torg.apache.jsp.jsp.index_jsp._jspx_meth_c_if_0(index_jsp.java:316)\n...\n\nI'm using session and variable this way:\n\n<% \n\tif(!session.isNew()) session.invalidate(); \n\tString msg = (String) request.getAttribute(\"msg\");\n%>\n\nI'm testing using variable msg this way:\n...\n                  <c:if test=\"${!empty msg}\">\n                  <tr>\n                    <td valign=\"top\" align=\"center\" colspan=\"3\"><font \ncolor=\"red\">${msg}</font></td>\n                  </tr>\n                  </c:if>\n...\n\n\nI feel that \"<c:if\" try to find \"msg\" in session, when there's no session \nvalid.\n\nThanks"}, {"count": 1, "tags": [], "creator": "pierre.delisle@sun.com", "is_private": false, "text": "This is a JSP container problem (not JSTL).\nSee bug 37929.\n\n\n\n*** This bug has been marked as a duplicate of 37929 ***", "id": 83719, "time": "2005-12-16T02:00:01Z", "bug_id": 37699, "creation_time": "2005-12-16T02:00:01Z", "attachment_id": null}]