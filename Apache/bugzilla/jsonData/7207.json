[{"count": 0, "tags": [], "bug_id": 7207, "attachment_id": null, "text": "A number of people have reported variations of this problem on Tomcat-users.\n\n - I do NOT have persistent sessions enabled in server.xml\n\nI can initially deploy a web app by placing the .war file in\nwebapps dir.\n\nHowever, if I try to redeploy I run into problems.  To re-deploy \nI ususally stop Tomcat, delete the current app directory and \nexisting .war file, put the new .war file in webapps and restart\nTomcat.\n\nIs it necessary to delete my current app directory?  I need to\nGUARANTEE that any existing contents are totally removed.\n\nUsing the above procedure I run into these problems:\n\nWhen I start Tomcat the log has the following:\n\n2002-03-11 15:10:12 StandardContext[/Autoweb2]: Error initializing\nresources: Document base ..\\webapps\\Autoweb2 does not exist or is not a\nreadable directory\n2002-03-11 15:10:12 StandardContext[/Autoweb2]: Context startup failed due\nto previous errors\n2002-03-11 15:10:12 StandardContext[/Autoweb2]: Exception during cleanup\nafter start failed\nLifecycleException:  Container StandardContext[/Autoweb2] has not been\nstarted\n\tat\norg.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1147)\n\tat\norg.apache.catalina.core.StandardContext.stop(StandardContext.java:3451)\n\tat\norg.apache.catalina.core.StandardContext.start(StandardContext.java:3408)\n\tat\norg.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n\tat\norg.apache.catalina.core.StandardHost.start(StandardHost.java:614)\n\tat\norg.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n\tat\norg.apache.catalina.core.StandardEngine.start(StandardEngine.java:343)\n\tat\norg.apache.catalina.core.StandardService.start(StandardService.java:388)\n\tat\norg.apache.catalina.core.StandardServer.start(StandardServer.java:506)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:781)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:681)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:179)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:243)\n\n\nIf I create an app directory (Autoweb2) I instead get the following:\n\n2002-03-11 15:13:45 WebappLoader[/Autoweb2]: Reloading checks are enabled\nfor this Context\n2002-03-11 15:13:45 StandardManager[/Autoweb2]: Seeding random number\ngenerator class java.security.SecureRandom\n2002-03-11 15:13:45 StandardManager[/Autoweb2]: Seeding of random number\ngenerator has been completed\n2002-03-11 15:13:45 StandardManager[/Autoweb2] ClassNotFoundException while\nloading persisted sessions: java.lang.ClassNotFoundException:\ncom.athensgroup.autoweb2.forms.ListForm\njava.lang.ClassNotFoundException: com.athensgroup.autoweb2.forms.ListForm\n\tat\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.jav\na:1394)\n\tat\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.jav\na:1243)\n\tat\norg.apache.catalina.util.CustomObjectInputStream.resolveClass(CustomObjectIn\nputStream.java:119)\n\tat\njava.io.ObjectInputStream.inputClassDescriptor(ObjectInputStream.java:918)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:366)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:236)\n\tat\njava.io.ObjectInputStream.inputObject(ObjectInputStream.java:1186)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:386)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:236)\n\tat\norg.apache.catalina.session.StandardSession.readObject(StandardSession.java:\n1268)\n\tat\norg.apache.catalina.session.StandardSession.readObjectData(StandardSession.j\nava:810)\n\tat\norg.apache.catalina.session.StandardManager.load(StandardManager.java:411)\n\tat\norg.apache.catalina.session.StandardManager.start(StandardManager.java:617)\n\tat\norg.apache.catalina.core.ContainerBase.start(ContainerBase.java:1104)\n\tat\norg.apache.catalina.core.StandardContext.start(StandardContext.java:3345)\n\tat\norg.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n\tat\norg.apache.catalina.core.StandardHost.start(StandardHost.java:614)\n\tat\norg.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n\tat\norg.apache.catalina.core.StandardEngine.start(StandardEngine.java:343)\n\tat\norg.apache.catalina.core.StandardService.start(StandardService.java:388)\n\tat\norg.apache.catalina.core.StandardServer.start(StandardServer.java:506)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:781)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:681)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:179)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:243)\n\nNote that persistent sessions is NOT enabled in server.xml, but the above\nseems to indicate\nthat some type of persistence checking is running into problems.\n\nUsing manager/remove on the app before replacement does not help!\nSpecifying reloadable=\"false\" does not help.\n\nIf I manually explode the .war file, everything is fine.\n\nFrank Lawlor\nAthens Group, Inc.\n(512) 345-0600 x151\nAthens Group, an employee-owned consulting firm integrating technology\nstrategy and software solutions.", "id": 11941, "time": "2002-03-18T15:40:34Z", "creator": "flawlor@athensgroup.com", "creation_time": "2002-03-18T15:40:34Z", "is_private": false}, {"count": 1, "text": "Is this similar to #8969?", "bug_id": 7207, "attachment_id": null, "id": 23713, "time": "2002-10-01T19:22:30Z", "creator": "timshadel@pobox.com", "creation_time": "2002-10-01T19:22:30Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 50853, "time": "2004-01-20T23:08:45Z", "bug_id": 7207, "creation_time": "2004-01-20T23:08:45Z", "text": "Yep.\n\n*** This bug has been marked as a duplicate of 8969 ***"}]