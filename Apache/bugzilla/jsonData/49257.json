[{"id": 136682, "tags": [], "creator": "patrick.hagelkruys@gmail.com", "is_private": false, "count": 0, "text": "When appending an XSL Transform to an DSIG Reference, the XSL source is missing in the output. \n\nCause:\nIn DSIGTransformXSL::createBlankTransform the mp_stylesheetNode is set to NULL. When calloig setStylesheet, the stylesheet is copied to mp_stylesheetNode, but it is not append to mp_txfmNode, because of the following condition\nif (mp_stylesheetNode != 0)\n{}\n\nI think the best solution to work around this problem is to add an else to this if condition:\n\nelse\n{\nmp_txfmNode->appendChild(mp_stylesheetNode);\n}", "time": "2010-05-06T07:52:43Z", "bug_id": 49257, "creation_time": "2010-05-06T07:52:43Z", "attachment_id": null}, {"text": "http://svn.apache.org/viewvc?view=revision&revision=941755\n\nI don't use XSLT (I'm maintaining the library but don't use most of the features), so it would be good if you could test an svn build.", "tags": [], "bug_id": 49257, "attachment_id": null, "count": 1, "id": 136690, "time": "2010-05-06T10:37:00Z", "creator": "cantor.2@osu.edu", "creation_time": "2010-05-06T10:37:00Z", "is_private": false}, {"count": 2, "tags": [], "creator": "patrick.hagelkruys@gmail.com", "attachment_id": null, "is_private": false, "id": 136701, "time": "2010-05-06T13:21:16Z", "bug_id": 49257, "creation_time": "2010-05-06T13:21:16Z", "text": "thx for fixing, the stylesheet now appears in the resulting transform. \n\nbut the fix has another little problem, if I pass NULL to appendXSLTransform() the fixed code calls mp_txfmNode->appendChild(NULL) an crashes. \nTo be on the safe side stylesheet should be tested to NULL\n\n\n\tif (mp_stylesheetNode) {\n\t\tmp_txfmNode->insertBefore(stylesheet, mp_stylesheetNode);\n\t\tmp_txfmNode->removeChild(mp_stylesheetNode);\n\t}\n\telse {\n\t\tif(stylesheet) {\n\t\t\tmp_txfmNode->appendChild(stylesheet);\n\t\t}\n\t}"}, {"count": 3, "tags": [], "creator": "cantor.2@osu.edu", "attachment_id": null, "is_private": false, "id": 136702, "time": "2010-05-06T14:07:45Z", "bug_id": 49257, "creation_time": "2010-05-06T14:07:45Z", "text": "http://svn.apache.org/viewvc?view=revision&revision=941834\n\n(Should have been broken originally as well, since insertBefore ought to crash also.)"}]