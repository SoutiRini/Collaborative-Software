[{"count": 0, "tags": [], "text": "Let's say you have two targets; ejbdoclet and compile.  I would like to always \nrun ejbdoclet if called directly.  I would also like to run ejbdoclet when \ncompile is called if and only if it has not been run before(or after a clean).\n\nWhat I wanted to do was this\n<target name=\"ejbdoclet\">\n...\n</target>\n\n<target name=\"compile\" depends=\"init\">\n  <available property=\"ejb-jar.xml.available\"\n             file=\"build\\META-INF\\ejb-jar.xml\" />\n  <antcall target=\"ejbdoclet\" unless=\"ejb-jar.xml.available\" />\n...\n</target>\n\nThis way if ejbdoclet is called directly it will always get run and if compile \nis called ejbdoclet will only get called if ejb-jar.xml is not available.\n\nI know there are workarounds to this but this enhancement is a lot cleaner.\n\nBen", "attachment_id": null, "bug_id": 23629, "id": 45166, "time": "2003-10-06T17:41:49Z", "creator": "ben@csh.rit.edu", "creation_time": "2003-10-06T17:41:49Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 23629, "attachment_id": null, "text": "Why not just doing:\n\n<target name=\"compile\" depends=\"init\">\n <if>\n  <available property=\"ejb-jar.xml.available\"\n             file=\"build\\META-INF\\ejb-jar.xml\" />\n  <then>\n    <antcall target=\"ejbdoclet\" unless=\"ejb-jar.xml.available\" />\n  </then>\n </if>\n...\n</target>\n\nThis to me is 10 times most understandable.", "id": 45181, "time": "2003-10-06T23:26:18Z", "creator": "j_a_fernandez@yahoo.com", "creation_time": "2003-10-06T23:26:18Z", "is_private": false}, {"count": 2, "tags": [], "text": "Ups sorry, replace <else> for <then> in the above comment.", "is_private": false, "id": 45182, "creator": "j_a_fernandez@yahoo.com", "time": "2003-10-06T23:29:23Z", "bug_id": 23629, "creation_time": "2003-10-06T23:29:23Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 23629, "attachment_id": null, "id": 45183, "time": "2003-10-06T23:30:22Z", "creator": "ben@csh.rit.edu", "creation_time": "2003-10-06T23:30:22Z", "is_private": false, "text": "Where is if/then/else construct documented?"}, {"count": 4, "tags": [], "bug_id": 23629, "attachment_id": null, "text": "It is part of antcontrib. ONce I started using this task my buildfiles became\n10 times more readable. And much fewer temporary properties required to \ncontrol the build.\n\nHope it is helpful.\n", "id": 45184, "time": "2003-10-06T23:48:35Z", "creator": "j_a_fernandez@yahoo.com", "creation_time": "2003-10-06T23:48:35Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 23629, "attachment_id": null, "is_private": false, "id": 144253, "time": "2011-02-14T09:09:14Z", "creator": "sebb@apache.org", "creation_time": "2011-02-14T09:09:14Z", "text": "Seems to me that adding if/unless attributes to antcall would still be useful.\n\nAFAICT, the only work-round when using standard Ant (1.8.2) is to add the if/unless to the antcall target,"}]