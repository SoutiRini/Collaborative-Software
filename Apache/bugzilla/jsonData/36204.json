[{"count": 0, "tags": [], "bug_id": 36204, "text": "When tomcat is embedded in the application (run programmatically by Bootstrap \ninit and start). The web application is unable to find the class inside a jar \nin the folder shared/lib.\n\ne.g. activation.jar is placed inside the shared/lib but still the webapp says \nthat NoClassDefFoundError", "id": 78543, "time": "2005-08-16T18:47:39Z", "creator": "vibzjava@gmail.com", "creation_time": "2005-08-16T18:47:39Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 36204, "text": "Please note 5.0.16 is an ancient release: does this still happen on 5.5.12?\n\nPlease attach two things: first, the stack trace of log snippet showing the\nerror you're encountering.  Second, the steps we can take to reproduce this bug.\n\nI assume you're familiar with the difference between a ClassNotFoundException\nand a NoClassDefFoundError, right?  The latter can arise for reasons that are\nquite different from the former, e.g. clashing versions of a class on the classpath.", "id": 81081, "time": "2005-10-13T05:27:02Z", "creator": "yoavs@computer.org", "creation_time": "2005-10-13T05:27:02Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 36204, "attachment_id": null, "id": 82484, "time": "2005-11-14T19:38:57Z", "creator": "Arthur.Herzog@online.de", "creation_time": "2005-11-14T19:38:57Z", "is_private": false, "text": "I have a similar problem. The error encounters when trying to acces a class \ninside a jar in the folder shared/lib.\nI am using Tomcat 5.5.12 on a WindowsXP system. Tomcat is running as service.\nError stack:\nSCHWERWIEGEND: StandardWrapper.Throwable\njava.lang.NoClassDefFoundError: net/sf/regain/crawler/document/RawDocument\n\tat de.herzog.frdkm.Inuus.init(Inuus.java:85)\n\tat org.apache.catalina.core.StandardWrapper.loadServlet\n(StandardWrapper.java:1091)\n\tat org.apache.catalina.core.StandardWrapper.load\n(StandardWrapper.java:925)\n\tat org.apache.catalina.core.StandardContext.loadOnStartup\n(StandardContext.java:3880)\n\tat org.apache.catalina.core.StandardContext.start\n(StandardContext.java:4141)\n\tat org.apache.catalina.core.ContainerBase.addChildInternal\n(ContainerBase.java:759)\n\tat org.apache.catalina.core.ContainerBase.addChild\n(ContainerBase.java:739)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:524)\n\tat org.apache.catalina.startup.HostConfig.deployDescriptor\n(HostConfig.java:603)\n\tat org.apache.catalina.startup.HostConfig.deployDescriptors\n(HostConfig.java:535)\n\tat org.apache.catalina.startup.HostConfig.deployApps\n(HostConfig.java:470)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1118)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent\n(HostConfig.java:310)\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1020)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:718)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1012)\n\tat org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:442)\n\tat org.apache.catalina.core.StandardService.start\n(StandardService.java:450)\n\tat org.apache.catalina.core.StandardServer.start\n(StandardServer.java:680)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:536)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:275)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)\n"}, {"count": 3, "tags": [], "bug_id": 36204, "text": "I have this bug too.\nMy configuration\njre1.5.0_6\nTomcat 5.5.12\nWindows XP\n\nTemporary work around - move all jar files to common/lib dir", "id": 84035, "time": "2005-12-28T13:16:12Z", "creator": "serg_main@yahoo.com", "creation_time": "2005-12-28T13:16:12Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "serg_main@yahoo.com", "attachment_id": null, "text": "tracelog:\n\njava.lang.NoClassDefFoundError: \norg/riverock/webmill/container/portlet/PortalInstance\n\tjava.lang.ClassLoader.defineClass1(Native Method)\n\tjava.lang.ClassLoader.defineClass(Unknown Source)\n\tjava.security.SecureClassLoader.defineClass(Unknown Source)\n\torg.apache.catalina.loader.WebappClassLoader.findClassInternal\n(WebappClassLoader.java:1650)\n\torg.apache.catalina.loader.WebappClassLoader.findClass\n(WebappClassLoader.java:856)\n\torg.apache.catalina.loader.WebappClassLoader.loadClass\n(WebappClassLoader.java:1305)\n\torg.apache.catalina.loader.WebappClassLoader.loadClass\n(WebappClassLoader.java:1187)\n\tjava.lang.ClassLoader.loadClassInternal(Unknown Source)\n\torg.riverock.webmill.portlet.ContextNavigator.createNewPortalInsance\n(ContextNavigator.java:107)\n\torg.riverock.webmill.portlet.ContextNavigator.doGet\n(ContextNavigator.java:97)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\torg.riverock.webmill.a3.audit.RequestStatisticFilter.doFilter\n(RequestStatisticFilter.java:370)", "id": 84036, "time": "2005-12-28T13:23:20Z", "bug_id": 36204, "creation_time": "2005-12-28T13:23:20Z", "is_private": false}, {"count": 5, "text": "Can someone suggest me some workaround for this. not moving all jars to\ncommon/lib. If having a different directory is supported, then it will be fine.", "creator": "prabhu@efrontier.com", "is_private": false, "id": 87634, "time": "2006-04-06T18:17:51Z", "bug_id": 36204, "creation_time": "2006-04-06T18:17:51Z", "tags": [], "attachment_id": null}, {"count": 6, "text": "Prabhu: an alternative approach is to use another directory for your classloader\nrepository.  See conf/catalina.properties where you can configure virtually\narbitrary repository locations as common or shared.\n\nDowngrading from critical.  Serge, can you please post the webapp (or a test\nwebapp that shows the error) you used in testing?", "creator": "yoavs@computer.org", "is_private": false, "id": 88203, "time": "2006-04-18T13:14:07Z", "bug_id": 36204, "creation_time": "2006-04-18T13:14:07Z", "tags": [], "attachment_id": null}, {"count": 7, "tags": [], "creator": "serg_main@yahoo.com", "attachment_id": null, "text": "I just upgrade Tomcat to 5.5.17 and bug still exist\nin previous my post I wrote was OS winXP, but real OS is Win2k\n\nIMHO this bug exist because I'm using JRE, not JDK \n", "id": 90717, "time": "2006-06-28T10:36:52Z", "bug_id": 36204, "creation_time": "2006-06-28T10:36:52Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 36204, "attachment_id": null, "id": 94035, "time": "2006-09-23T22:59:59Z", "creator": "serg_main@yahoo.com", "creation_time": "2006-09-23T22:59:59Z", "is_private": false, "text": "After rewrite my application from using commons-digester to JAXB 2.x, all \nclasses from shared now loaded.\n\nI think this bug related on using commons-logging.jar\nI was use \ncommons-logging-1.1.jar\ncommons-beanutils-1.7.0.jar\ncommons-digester-1.7.jar\ncommons-lang-2.1.jar\n\nthere files was used too:\ncommons-dbcp-1.2.1.jar\ncommons-pool-1.2.jar\n"}, {"count": 9, "tags": [], "bug_id": 36204, "attachment_id": null, "id": 94543, "time": "2006-10-05T11:53:34Z", "creator": "markt@apache.org", "creation_time": "2006-10-05T11:53:34Z", "is_private": false, "text": "Glad you fixed it. Closing this as invalid since it was an app / 3rd party lib\nissue rather than a Tomcat one."}]