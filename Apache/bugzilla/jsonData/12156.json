[{"count": 0, "tags": [], "bug_id": 12156, "attachment_id": null, "id": 21959, "time": "2002-08-29T11:48:11Z", "creator": "anand.sharma@siemens.com", "creation_time": "2002-08-29T11:48:11Z", "is_private": false, "text": "Here is a problem in the interworking of Apache Web Server and Tomcat \nServlet/JSP engine. We are using Apache 1.3.22 and Tomcat 3.3.1 on Windows 2000 \nand running them as Windows Services.\nOur web application is successfully deployed in Tomcat in a standard way i.e. \nin the %TOMCAT_HOME% \\webapps directory.\n\nApache web server can be contacted directly without any problems. Trying to \naccess one of the servlets running in Tomcat via Apache using ajp13 \u201cworker\u201d, \nleads to no response at all.  \nHowever with the same configuration if we try to access servlet using \najp12 \u201cworker\u201d we get our desired response. There is no error reported in the \nap_mod_jk.log file. In case of ajp13 the last entry is: \n\n[jk_ajp13_worker.c (610)]: send_request 2: request body to send 0 - request \nbody to resend 0\n\n This gives a hint that the request was sent but no response was received or \nthe request was never sent.\n\nHowever in case of ajp12 after inspecting the ap_mod_jk.log file one can \nobserve that there is a response back from the Tomcat. Here is the snippet of \nap_mod_jk.log in case of ajp12:\n\n[jk_ajp12_worker.c (357)]: Into ajpv12_handle_request\n[jk_ajp12_worker.c (361)]: ajpv12_handle_request, sending the ajp12 start \nsequence\n[jk_ajp12_worker.c (413)]: ajpv12_handle_request, sending the headers\n[jk_ajp12_worker.c (432)]: ajpv12_handle_request, sending the terminating mark\n[jk_ajp12_worker.c (477)]: ajpv12_handle_request done\n[jk_ajp12_worker.c (148)]: In jk_endpoint_t::service, sent request\n[jk_ajp12_worker.c (493)]: Into ajpv12_handle_response\n[jk_ajp12_worker.c (507)]: ajpv12_handle_response, read Status: 200 OK\n[jk_ajp12_worker.c (535)]: ajpv12_handle_response, read Status=200 OK\n[jk_ajp12_worker.c (507)]: ajpv12_handle_response, read Content-Type: text/html\n[jk_ajp12_worker.c (535)]: ajpv12_handle_response, read Content-Type=text/html\n[jk_ajp12_worker.c (547)]: ajpv12_handle_response, allocating header arrays\n[jk_ajp12_worker.c (507)]: ajpv12_handle_response, read Set-Cookie: \nJSESSIONID=jqrjfqw0l1;Path=/apmQuery\n[jk_ajp12_worker.c (535)]: ajpv12_handle_response, read Set-\nCookie=JSESSIONID=jqrjfqw0l1;Path=/apmQuery\n[jk_ajp12_worker.c (507)]: ajpv12_handle_response, read Servlet-Engine: Tomcat \nWeb Server/3.3.1 Final ( JSP 1.1; Servlet 2.2 )\n[jk_ajp12_worker.c (535)]: ajpv12_handle_response, read Servlet-Engine=Tomcat \nWeb Server/3.3.1 Final ( JSP 1.1; Servlet 2.2 )\n[jk_ajp12_worker.c (507)]: ajpv12_handle_response, read \n[jk_ajp12_worker.c (509)]: ajpv12_handle_response, headers are done\n[jk_ajp12_worker.c (568)]: ajpv12_handle_response, starting response\n[jk_ajp12_worker.c (579)]: ajpv12_handle_response, reading response body\n[jk_ajp12_worker.c (595)]: ajpv12_handle_response, response body is done\n[jk_ajp12_worker.c (607)]: ajpv12_handle_response done\n[jk_ajp12_worker.c (163)]: Into jk_endpoint_t::done\n\nInterestingly if we try to access our servlet directly from Tomcat, the desired \nresponse is generated. \n\nOur question is as follows: \n\nIs there a bug in Tomcat 3.3.1 that prevents it to work with ajp13?"}, {"count": 1, "tags": [], "bug_id": 12156, "attachment_id": null, "text": "The today version is 3.3.2 please retry with 3.3.2 or any newer version.", "id": 76879, "time": "2005-07-01T15:57:25Z", "creator": "jfclere@gmail.com", "creation_time": "2005-07-01T15:57:25Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 12156, "attachment_id": null, "text": "Marking as NEEDINFO", "id": 93686, "time": "2006-09-17T13:37:08Z", "creator": "sriramnrn@gmail.com", "creation_time": "2006-09-17T13:37:08Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 12156, "attachment_id": null, "id": 114112, "time": "2008-02-28T11:46:17Z", "creator": "markt@apache.org", "creation_time": "2008-02-28T11:46:17Z", "is_private": false, "text": "Tomcat 3 is no longer the focus of development.\n\nIt is almost certain there will be no development work on versions prior to 3.3.x and it is highly unlikely that further development will take place on 3.3.x\n\nAll open Tomcat 3 bugs are therefore being closed as WONTFIX.\n\nIf any of these issues is still a problem for you, please test the latest stable release of a supported version (http://wiki.apache.org/tomcat/TomcatVersions). If you still have the issue with the latest stable release of a supported version, please re-open this bug and change the version to the one you tested."}]