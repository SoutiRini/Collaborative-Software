[{"count": 0, "tags": [], "bug_id": 56827, "attachment_id": null, "is_private": false, "id": 176984, "time": "2014-08-07T15:06:24Z", "creator": "oxyg3n8@gmail.com", "creation_time": "2014-08-07T15:06:24Z", "text": "Writer threads are getting blocked by APR/AJP implementation, this was not happening on Tomcat 7.0.54, when we upgrade we recompile the APR using the existing Tomcat and environment, for our case Ubuntu Server 12.04 LTS:\n\n\nThreads stuck using probe webapp:\n\n stop \t252 \tasync-streaming-executor-20 \torg.apache.tomcat.util.net.AprEndpoint.processSocketAsync ( AprEndpoint.java:860 ) \tBLOCKED \tfalse \tfalse \t1821 \t1\nstop \t251 \tasync-streaming-executor-19 \torg.apache.tomcat.util.net.AprEndpoint.processSocketAsync ( AprEndpoint.java:860 ) \tBLOCKED \tfalse \tfalse \t772 \t1\nstop \t227 \tasync-streaming-executor-4 \torg.apache.tomcat.util.net.AprEndpoint.processSocketAsync ( AprEndpoint.java:860 ) \tBLOCKED \tfalse \tfalse \t2524 \t2\n\n\nStack trace of blocking code:\n\n org.apache.tomcat.util.net.AprEndpoint.processSocketAsync ( AprEndpoint.java:860 )\norg.apache.coyote.AbstractProcessor.setErrorState ( AbstractProcessor.java:84 )\norg.apache.coyote.ajp.AbstractAjpProcessor.action ( AbstractAjpProcessor.java:368 )\norg.apache.coyote.Response.action ( Response.java:174 )\norg.apache.coyote.Response.finish ( Response.java:274 )\norg.apache.catalina.connector.OutputBuffer.close ( OutputBuffer.java:319 )\norg.apache.catalina.connector.CoyoteOutputStream.close ( CoyoteOutputStream.java:108 )\norg.apache.commons.io.IOUtils.closeQuietly ( IOUtils.java:303 )\norg.apache.commons.io.IOUtils.closeQuietly ( IOUtils.java:274 )\ncom.temetra.wms.utils.filter.QueueOutputStream$1.call ( QueueOutputStream.java:93 )\ncom.temetra.wms.utils.filter.QueueOutputStream$1.call ( QueueOutputStream.java:79 )\njava.util.concurrent.FutureTask.run ( FutureTask.java:262 )\njava.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1145 )\njava.util.concurrent.ThreadPoolExecutor$Worker.run ( ThreadPoolExecutor.java:615 )\njava.lang.Thread.run ( Thread.java:745 )"}, {"count": 1, "tags": [], "bug_id": 56827, "is_private": false, "id": 176985, "creation_time": "2014-08-07T15:23:31Z", "time": "2014-08-07T15:23:31Z", "creator": "markt@apache.org", "text": "There is no evidence of a Tomcat bug in this report. Neither is there sufficient information for a Tomcat developer to reproduce the behaviour you are seeing.\n\nPlease use the Tomcat users mailing list to debug this issue. If, and only if, that discussion concludes that there is a genuine bug here then re-open this issue and provide the necessary steps to reproduce using the simplest possible test case.", "attachment_id": null}]