[{"count": 0, "tags": [], "bug_id": 34018, "text": "In this code from bin/ant it is possible than ANT_HOME will get set to either\n/opt/ant or ~/opt/ant but then the code will proceed to overwrite ANT_HOME to be\nthe path of the directory the script is in. It looks as if the first two inner\nif statements can be deleted without changing the script behaviour.\n\nif [ -z \"$ANT_HOME\" -o ! -d \"$ANT_HOME\" ] ; then\n  # try to find ANT\n  if [ -d /opt/ant ] ; then\n    ANT_HOME=/opt/ant\n  fi\n\n  if [ -d \"${HOME}/opt/ant\" ] ; then\n    ANT_HOME=\"${HOME}/opt/ant\"\n  fi\n\n  ## resolve links - $0 may be a link to ant's home\n  PRG=\"$0\"\n  progname=`basename \"$0\"`\n\n  # need this for relative symlinks\n  while [ -h \"$PRG\" ] ; do\n    ls=`ls -ld \"$PRG\"`\n    link=`expr \"$ls\" : '.*-> \\(.*\\)$'`\n    if expr \"$link\" : '/.*' > /dev/null; then\n    PRG=\"$link\"\n    else\n    PRG=`dirname \"$PRG\"`\"/$link\"\n    fi\n  done\n\n  ANT_HOME=`dirname \"$PRG\"`/..\n\n  # make it fully qualified\n  ANT_HOME=`cd \"$ANT_HOME\" && pwd`\nfi", "id": 72450, "time": "2005-03-15T16:04:08Z", "creator": "janekdb@yahoo.co.uk", "creation_time": "2005-03-15T16:04:08Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "I aggre.", "attachment_id": null, "id": 72454, "creator": "bodewig@apache.org", "time": "2005-03-15T16:28:37Z", "bug_id": 34018, "creation_time": "2005-03-15T16:28:37Z", "is_private": false}]