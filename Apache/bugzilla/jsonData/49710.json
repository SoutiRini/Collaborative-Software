[{"count": 0, "tags": [], "bug_id": 49710, "text": "The canonicalizer (java) with exc-c14n produces an invalid XML document here. It removes a namespace from an attribute that is still used in that element. It attach an example xsd and xml file.\nIf I use canonicalize this xml file with exc-c14n it will remove the namespace xmlns:xs=\"http://www.w3.org/2001/XMLSchema\". So the attribute ns:type=\"xs:string\" won't be valid afterwards.\nEven if I add the namespace to the root element (bla:document) it will be removed.\n\nValidated with xmllint --noout --schema example.xsd example.xml\n\nIs this really correct for this canonicalization method to damage the xml file?", "id": 138907, "time": "2010-08-05T10:16:05Z", "creator": "aklitzing@gmail.com", "creation_time": "2010-08-05T10:16:05Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 49710, "attachment_id": 25845, "id": 138909, "time": "2010-08-05T10:18:01Z", "creator": "aklitzing@gmail.com", "creation_time": "2010-08-05T10:18:01Z", "is_private": false, "text": "Created attachment 25845\nXML Schema"}, {"count": 2, "tags": [], "creator": "aklitzing@gmail.com", "attachment_id": 25846, "text": "Created attachment 25846\nXML File", "id": 138910, "time": "2010-08-05T10:20:16Z", "bug_id": 49710, "creation_time": "2010-08-05T10:20:16Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 49710, "text": "Created attachment 25847\nXML File (after canonicalization - invalid in schema checking)", "id": 138911, "time": "2010-08-05T10:21:22Z", "creator": "aklitzing@gmail.com", "creation_time": "2010-08-05T10:21:22Z", "is_private": false, "attachment_id": 25847}, {"count": 4, "tags": [], "bug_id": 49710, "attachment_id": null, "id": 138912, "time": "2010-08-05T10:33:16Z", "creator": "aklitzing@gmail.com", "creation_time": "2010-08-05T10:33:16Z", "is_private": false, "text": "damaged.xml:4: element value: Schemas validity error : Element '{http://test/1.0}value', attribute '{http://www.w3.org/2001/XMLSchema-instance}type': The QName value 'xs:string' has no corresponding namespace declaration in scope.\n\ndamaged.xml fails to validate"}, {"count": 5, "tags": [], "creator": "cantor.2@osu.edu", "attachment_id": null, "text": "Your example is not a bug. Exclusive c14n does not handle namespace prefixes found in QName content, including xsi:type attributes. If you have such cases, you have to force inclusive mode using the InclusivePrefix list.", "id": 138913, "time": "2010-08-05T10:37:34Z", "bug_id": 49710, "creation_time": "2010-08-05T10:37:34Z", "is_private": false}]