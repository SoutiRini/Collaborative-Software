[{"count": 0, "tags": [], "bug_id": 4947, "attachment_id": null, "text": "Fails when character ] at position 8192 is preceded by a character reference, \neg, &quot;]. The following code reproduces the error \n(classpath=.;jaxp.jar;crimson.jar):\n\nimport java.io.*;\nimport javax.xml.parsers.*;\n\nimport org.w3c.dom.*;\nimport org.xml.sax.InputSource;\n\npublic class CrimsonTest {\n\n    public static void main(String[] args) {\n\n        try {\n\n            CharArrayWriter wrt = new CharArrayWriter(10000);\n            // length: 6\n            wrt.write(\"<test>\");\n            for (int i = 0; i < 100; i++) {\n                // length: 81 = 8 + 64 + 9\n                wrt.write(\"<filler>123456789 123456789 123456789 123456789 \n123456789 123456789 1234</filler>\");\n            }\n            // position: 8106 = 6 + 100x81\n            // length:   63 = 15 + 32 + 16\n            wrt.write(\"<anotherFiller>123456789 123456789 123456789 \n12</anotherFiller>\");\n            // position: 8169 = 8106 + 63\n            // length:   11\n            wrt.write(\"<failsHere>\");\n            // position: 8180 = 8169 + 11\n            wrt.write(\"here: &quot;]\");\n            //         0123456789 12\n            wrt.write(\"</failsHere></test>\");\n            wrt.close();\n\n            Reader rdr = new CharArrayReader(wrt.toCharArray());\n            DocumentBuilder db = DocumentBuilderFactory.newInstance\n().newDocumentBuilder();\n            Document doc = db.parse(new InputSource(rdr));\n\n            System.out.println(\"All worked\");\n\n        } catch (Throwable e) {\n            e.printStackTrace();\n        }\n    }\n}", "id": 8050, "time": "2001-11-19T03:51:07Z", "creator": "osvanidze@conclusive.com", "creation_time": "2001-11-19T03:51:07Z", "is_private": false}, {"count": 1, "tags": [], "text": "Which specific version of Crimson are you using?", "is_private": false, "id": 8053, "creator": "curcuru@apache.org", "time": "2001-11-19T05:06:19Z", "bug_id": 4947, "creation_time": "2001-11-19T05:06:19Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "The error occurs with Crimson versions 1.1, 1.1.1 and 1.1.3", "attachment_id": null, "id": 8054, "creator": "osvanidze@conclusive.com", "time": "2001-11-19T05:21:24Z", "bug_id": 4947, "creation_time": "2001-11-19T05:21:24Z", "is_private": false}, {"count": 3, "tags": [], "text": "This is duplicate of http://nagoya.apache.org/bugzilla/show_bug.cgi?id=5089\n\n*** This bug has been marked as a duplicate of 5089 ***", "is_private": false, "id": 8517, "creator": "peter@infopop.com", "time": "2001-12-02T16:31:15Z", "bug_id": 4947, "creation_time": "2001-12-02T16:31:15Z", "attachment_id": null}]