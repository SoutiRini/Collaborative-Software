[{"count": 0, "tags": [], "text": "Hi,\nI've found a problem with mod_auth_db or dbmmanage:\n\nThis is the list of relevant packets I've installed with linux server\ndb3-3.3.11-6\ngdbm-1.8.0-14\ndb2-devel-2.4.14-10\ndb3-utils-3.3.11-6\nnss_db-2.2-14\ndb1-1.85-8\ndb2-2.4.14-10\ndb1-devel-1.85-8\ndb3-devel-3.3.11-6\ndb3x-3.2.9-4\ngdbm-devel-1.8.0-14\nperl-DB_File-1.75-34.99.6\nperl-5.6.1-34.99.6\n\nI've also recompile apache to the last version:\nSSL_BASE=/path/to/openssl ./configure --prefix=/etc/httpd --enable-module=ssl\n--activate-module=src/modules/perl/libperl.a --enable-module=all\n--enable-shared=max --bindir=/usr/bin --sbindir=/usr/sbin\n--libexecdir=/etc/httpd/modules\n\nnow mod_auth_db works fine on all my old db files, but when I try to work on a\npreexisting db using dbmmanage I got the following error:\nCan't tie users:  at /usr/bin/dbmmanage line 202.\n\nIf I create a new db using dbmmanage it works fine, but apache doesn't accept it\n((22)Invalid argument: could not open db auth file:).\n\n\nUsing the file command on the two dbs I receive the following output:\noldfile: Berkeley DB 2.X Hash/Little Endian (Version 5, Logical sequence number:\nfile - 0, offset - 0, Bucket Size 4096, Overflow Point 2, Last Freed 0, Max\nBucket 3, High Mask 0x3, Low Mask 0x1, Fill Factor 0, Number of Keys 0)\n\nnewfile:Berkeley DB 2.X Hash/Little Endian (Version 7, Logical sequence number:\nfile - 0, offset - 0, Bucket Size 4096, Overflow Point 2048, Last Freed 0, Max\nBucket 2, High Mask 0x0, Low Mask 0x0, Fill Factor 0, Number of Keys 0)\n\nI've tried to use mod_auth_dbm but nothing changes.\n\nThose are the lines printed during the compilation phase\ngcc -c  -I../../os/unix -I../../include   -DLINUX=22 -I/usr/include/db1\n-DMOD_SSL=208110 -DMOD_PERL -DUSE_HSREGEX -DEAPI -DUSE_EXPAT\n-I../../lib/expat-lite `../../apaci` -fpic -DSHARED_MODULE mod_auth_dbm.c && mv\nmod_auth_dbm.o mod_auth_dbm.lo\ngcc -shared -o mod_auth_dbm.so mod_auth_dbm.lo\ngcc -c  -I../../os/unix -I../../include   -DLINUX=22 -I/usr/include/db1\n-DMOD_SSL=208110 -DMOD_PERL -DUSE_HSREGEX -DEAPI -DUSE_EXPAT\n-I../../lib/expat-lite `../../apaci` -fpic -DSHARED_MODULE mod_auth_db.c && mv\nmod_auth_db.o mod_auth_db.lo\ngcc -shared -o mod_auth_db.so mod_auth_db.lo\n\nI don't know if it's a redhat, dbmmanage, apache or my problem \nplease let me know\nBye\n\t\t\tDante", "is_private": false, "id": 23572, "creator": "dpicca@hochfeiler.it", "time": "2002-09-27T18:42:11Z", "bug_id": 13095, "creation_time": "2002-09-27T18:42:11Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "nd@perlig.de", "text": "dbmmanage relies on perl's dbm modules, which seem to be not synchronized with\nthe rest of the system. (may happen with binary distributions)\n\nI'd suggest, you try recompiling the perl dbm modules (or even perl at all) or\nyou start a bug report in the redhat bug db.\n\nSorry for the long delay and thanks for using Apache!", "id": 36919, "time": "2003-05-08T19:18:05Z", "bug_id": 13095, "creation_time": "2003-05-08T19:18:05Z", "tags": [], "is_private": false}]