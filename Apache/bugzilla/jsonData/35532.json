[{"count": 0, "tags": [], "creator": "andrzej@chaeron.com", "attachment_id": null, "text": "You can separate the commands using a command line separator, but with many such\ncommands, it's difficult to read the resulting ant task.\n\nI've added an extension that lets you nest <command> subelements to the sshexec\ntask, which cleans up this process.  New class is called SSHExecMultiple for\nthis task.\n\n...Andrzej", "id": 76776, "time": "2005-06-28T23:31:52Z", "bug_id": 35532, "creation_time": "2005-06-28T23:31:52Z", "is_private": false}, {"count": 1, "tags": [], "creator": "andrzej@chaeron.com", "attachment_id": 15549, "text": "Created attachment 15549\nSample code for SSHExecMultiple", "id": 76777, "time": "2005-06-28T23:32:31Z", "bug_id": 35532, "creation_time": "2005-06-28T23:32:31Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 35532, "attachment_id": null, "id": 76778, "time": "2005-06-28T23:51:50Z", "creator": "andrzej@chaeron.com", "creation_time": "2005-06-28T23:51:50Z", "is_private": false, "text": "Sample usage for testing of sshexecmultiple:\n\n<target name=\"test-sshmultiple\">\n   <echo>Starting sshexecmultiple test...</echo>\n\t\t\n   <!-- sshexecmultiple lets you nest multiple commands and will \n        execute them in sequence.\n\t\t\n\tAttributes are the same as for the base sshexec, with the addition of \n        the haltonerror attribute.\n\tIf haltonerror = \"true\" then if any command fails, subsequent commands \n        will not be executed.\n\tIf haltonerror = \"false\" then if any command fails, subsequent commands \n        will STILL be executed.\n\t\t\n\tNOTE: The state is not preserved between the commands in this version. \n\tFor example, if you change dirs in one command, this will no longer be \n        in effect for the subsequent commands,\n\tas is demonstrated below.  If you need to change state (ie directory) \n        use semi-colons to separate multiple\n\tcommands in a single <command> entry as is demonstrated below.\n   -->\n\t\t\n   <sshexecmultiple host=\"myhost\" \n      username=\"user\" \n      keyfile=\"mykeyfile\" \n      passphrase=\"lemmein\"\n      trust=\"true\"\n      haltonerror=\"false\">\n      <command>echo One</command>\n      <command>xyz</command>\n      <command>echo Two</command>\n      <command>pwd</command>\n      <command>cd ..;pwd</command>\n      <command>pwd</command>\n   </sshexecmultiple>\n\n   <echo>Done sshexecmultiple test</echo>\n</target>"}, {"count": 3, "text": "-fixed in svn head using a FileResource, specify your commands in a seperate file eg.\n\nbuild.xml\n<sshexec host=\"ip\" port=\"22\"\n \t\t\tusername=\"root\" password=\"\"\n \t\t\tcommandResource=\"my-commands\"\n \t\t\tfailonerror=\"true\" trust=\"true\"/>\n\nmy-commands: \t\t\t\ntouch 1.txt\nmv 1.txt 2.txt\nmv 2.txt 3.txt", "creator": "foamdino@gmail.com", "attachment_id": null, "id": 107938, "time": "2007-09-10T00:30:34Z", "bug_id": 35532, "creation_time": "2007-09-10T00:30:34Z", "tags": [], "is_private": false}]