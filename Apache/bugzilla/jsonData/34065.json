[{"count": 0, "tags": [], "bug_id": 34065, "text": "Hi,\n\nI have a question about XML Validation feature of Xerces-Java2.6.2\n\nCurrently, I am trying to validate schema with two local elements enclosed into \ndifferent groups. The reason why I have two local elements with same name is \nbecause I am trying to map a protocol so that element names and values in \nprotocol have to match the schema. Also, both elements have same attributes, \nthey both have different enumerations. So when REF apprears first time, it can \nonly have two values F1 and F2. Wjen REF appears second time it can only have \nA1 and A2.\n\nThe schema validates just fine with XMLSPY 2004 however it failes to validate \nin XMLSPY2005 and in Intelij as well.\n\nHere is my schema and xml examples:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" \nelementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\">\n\t<xs:element name=\"ROOT\">\n\t\t<xs:annotation>\n\t\t\t<xs:documentation>Comment describing your root \nelement</xs:documentation>\n\t\t</xs:annotation>\n\t\t<xs:complexType>\n\t\t\t<xs:sequence>\n\t\t\t\t<xs:group ref=\"REF1\" minOccurs=\"0\"/>\n\t\t\t\t<xs:group ref=\"REF2\" minOccurs=\"0\"/>\n\t\t\t</xs:sequence>\n\t\t</xs:complexType>\n\t</xs:element>\n\t<xs:group name=\"REF1\">\n\t\t<xs:sequence>\n\t\t\t<xs:element name=\"REF\">\n\t\t\t\t<xs:annotation>\n\t\t\t\t\t<xs:documentation>REFERENCE \nIDENTIFIER</xs:documentation>\n\t\t\t\t</xs:annotation>\n\t\t\t\t<xs:complexType>\n\t\t\t\t\t<xs:attribute name=\"REF1\" \nuse=\"required\">\n\t\t\t\t\t\t<xs:simpleType>\n\t\t\t\t\t\t\t<xs:restriction \nbase=\"xs:string\">\n\t\t\t\t\t\t\t\t<xs:enumeration \nvalue=\"F1\"/>\n\t\t\t\t\t\t\t\t<xs:enumeration \nvalue=\"F2\"/>\n\t\t\t\t\t\t\t</xs:restriction>\n\t\t\t\t\t\t</xs:simpleType>\n\t\t\t\t\t</xs:attribute>\n\t\t\t\t\t<xs:attribute name=\"REF2\" \ntype=\"xs:string\" use=\"required\"/>\n\t\t\t\t</xs:complexType>\n\t\t\t</xs:element>\n\t\t</xs:sequence>\n\t</xs:group>\n\t<xs:group name=\"REF2\">\n\t\t<xs:sequence>\n\t\t\t<xs:element name=\"REF\">\n\t\t\t\t<xs:annotation>\n\t\t\t\t\t<xs:documentation>REFERENCE \nQUALIFIER</xs:documentation>\n\t\t\t\t</xs:annotation>\n\t\t\t\t<xs:complexType>\n\t\t\t\t\t<xs:attribute name=\"REF1\" \nuse=\"required\">\n\t\t\t\t\t\t<xs:simpleType>\n\t\t\t\t\t\t\t<xs:restriction \nbase=\"xs:string\">\n\t\t\t\t\t\t\t\t<xs:enumeration \nvalue=\"A1\"/>\n\t\t\t\t\t\t\t\t<xs:enumeration \nvalue=\"A2\"/>\n\t\t\t\t\t\t\t</xs:restriction>\n\t\t\t\t\t\t</xs:simpleType>\n\t\t\t\t\t</xs:attribute>\n\t\t\t\t\t<xs:attribute name=\"REF2\" \ntype=\"xs:string\" use=\"required\"/>\n\t\t\t\t</xs:complexType>\n\t\t\t</xs:element>\n\t\t</xs:sequence>\n\t</xs:group>\n</xs:schema>\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!--Sample XML file generated by XML Spy v4.0 U (http://www.xmlspy.com)-->\n<ROOT xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxsi:noNamespaceSchemaLocation=\"C:\\Documents and \nSettings\\MVeksler\\Desktop\\SAMPLE1.xsd\">\n\t<REF REF1=\"F1\" REF2=\"String\"/>\n\t<REF REF1=\"A1\" REF2=\"String\"/>\n</ROOT>", "id": 72649, "time": "2005-03-18T01:50:21Z", "creator": "chavarao@yahoo.com", "creation_time": "2005-03-18T01:50:21Z", "is_private": false, "attachment_id": null}]