[{"count": 0, "tags": [], "creator": "derek@echologic.com", "attachment_id": null, "text": "The javadoc task in 1.5.3 and 1.6beta3 both only pass pacakges to javadoc if\nthey contain .java files. It seems that they should include packages with only\npackage.html files as well. Does this seem reasonable?\n\nNote that javadoc only includes these package.htmls if somewhere in the packages\nbelow them at least one java file exists.\n\nHere's a patch...\n\nIndex: main/org/apache/tools/ant/taskdefs/Javadoc.java\n===================================================================\nRCS file:\n/apps/cvs/repos/ga_repos/Dovetail/bin/ant-1.5.3/src/main/org/apache/tools/ant/taskdefs/Javadoc.java,v\nretrieving revision 1.1.1.1\ndiff -u -b -w -r1.1.1.1 Javadoc.java\n--- main/org/apache/tools/ant/taskdefs/Javadoc.java\t6 Jun 2003 22:07:28 -0000\n1.1.1.1\n+++ main/org/apache/tools/ant/taskdefs/Javadoc.java\t8 Dec 2003 20:41:19 -0000\n@@ -1948,7 +1948,7 @@\n                 File pd = new File(baseDir, dirs[i]);\n                 String[] files = pd.list(new FilenameFilter () {\n                         public boolean accept(File dir1, String name) {\n-                            if (name.endsWith(\".java\")) {\n+                            if (name.endsWith(\".java\") ||\nname.equals(\"package.html\")) {\n                                 return true;\n                             }\n                             return false;        // ignore dirs", "id": 48692, "time": "2003-12-08T20:53:34Z", "bug_id": 25339, "creation_time": "2003-12-08T20:53:34Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 25339, "attachment_id": null, "id": 72502, "time": "2005-03-16T16:54:40Z", "creator": "bodewig@apache.org", "creation_time": "2005-03-16T16:54:40Z", "is_private": false, "text": "Reasonable, but not the way your patch works (it should explicitly look for\npackage.html, IMHO).\n\nBefore I modify the task, I'll check what command line javadoc would do for\n\"package.html only\" packages."}, {"count": 2, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "I've added a new attribute to enable this, default is off.\n\nI'm sorry about my comments on your patch, it has been correct.", "id": 72567, "time": "2005-03-17T10:35:02Z", "bug_id": 25339, "creation_time": "2005-03-17T10:35:02Z", "is_private": false}]