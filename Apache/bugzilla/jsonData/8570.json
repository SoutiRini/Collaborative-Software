[{"count": 0, "tags": [], "creator": "gblanco@gatelink.net", "attachment_id": null, "id": 14868, "time": "2002-04-26T20:22:10Z", "bug_id": 8570, "creation_time": "2002-04-26T20:22:10Z", "is_private": false, "text": "When I try to configure Apache for SCO 5, I receive the following error:\n./configure\n/httpd-2.0.35/srclib/apr/configure:Error: decision on anonymous shared memory \nallocation method failed\nconfigure failed for srclib/apr\nHow Can I fix this ?\nI need to change my version, because our actual version has security problems.\nThis is the complete result:\nloading cache ./config.cache\nchecking for chosen layout... Apache\nchecking host system type... i386-pc-sco3.2v5.0.5\nchecking target system type... i386-pc-sco3.2v5.0.5\nchecking build system type... i386-pc-sco3.2v5.0.5\n\nConfiguring Apache Portable Runtime library ...\n\nupdating cache ./config.cache\nconfiguring package in srclib/apr now\nloading cache /u/Software/Apache/httpd-2.0.35/./config.cache\nchecking host system type... i386-pc-sco3.2v5.0.5\nchecking target system type... i386-pc-sco3.2v5.0.5\nchecking build system type... i386-pc-sco3.2v5.0.5\nConfiguring APR library\nPlatform: i386-pc-sco3.2v5.0.5\nchecking for gcc... (cached) gcc\nchecking whether the C compiler (gcc  ) works... yes\nchecking whether the C compiler (gcc  ) is a cross-compiler... no\nchecking whether we are using GNU C... (cached) yes\nchecking whether gcc accepts -g... (cached) yes\nApplying APR hints file rules for i386-pc-sco3.2v5.0.5\n  setting CPPFLAGS to \"-DSCO -D_REENTRANT\"\n  adding \"-Oacgiltz\" to CFLAGS\n  setting LIBS to \"-lPW -lmalloc _i\"\n(Default will be unix)\nchecking whether make sets ${MAKE}... (cached) yes\nchecking how to run the C preprocessor... (cached) gcc -E\nchecking for mawk... (cached) nawk\nchecking whether ln -s works... (cached) yes\nchecking for ranlib... (cached) :\nchecking for a BSD compatible install... (cached) /usr/local/bin/install -c\nchecking for rm... (cached) rm\nchecking for as... (cached) as\nchecking for cpp... (cached) cpp\nchecking for ar... (cached) ar\nchecking for AIX... no\nchecking for POSIXized ISC... no\nchecking for minix/config.h... (cached) no\nchecking whether system uses EBCDIC... (cached) no\nperforming libtool configuration...\nchecking for ld used by GCC... (cached) /usr/ccs/bin/ld\nchecking if the linker (/usr/ccs/bin/ld) is GNU ld... (cached) no\nchecking for BSD-compatible nm... (cached) /bin/nm -p\nchecking whether the C compiler needs -belf... (cached) no\nloading cache /u/Software/Apache/httpd-2.0.35/./config.cache within ltconfig\nchecking for object suffix... o\nchecking for executable suffix... (cached) no\nchecking for gcc option to produce PIC... -fPIC\nchecking if gcc PIC flag -fPIC works... no\nchecking if gcc supports -c -o file.o... no\nchecking if we can lock with hard links... yes\nchecking if gcc supports -fno-rtti -fno-exceptions ... no\nchecking if gcc static flag -static works... none\nchecking if the linker (/usr/ccs/bin/ld) is GNU ld... no\nchecking whether the linker (/usr/ccs/bin/ld) supports shared libraries... yes\nchecking command to parse /bin/nm -p output... failed\nchecking how to hardcode library paths into programs... immediate\nchecking for /usr/ccs/bin/ld option to reload object files... -r\nchecking dynamic linker characteristics... sco3.2v5.0.5 ld.so\nchecking if libtool supports shared libraries... no\nchecking whether to build shared libraries... no\nchecking whether to build static libraries... yes\nchecking for objdir... .libs\ncreating libtool\nupdating cache /u/Software/Apache/httpd-2.0.35/./config.cache\nloading cache /u/Software/Apache/httpd-2.0.35/./config.cache\n\nCheck for compiler flags...\n\nchecking for res_init in -lresolv... no\nchecking for gethostbyname in -lnsl... no\nchecking for library containing gethostname... no\nchecking for socket in -lsocket... no\nchecking for library containing crypt... no\nchecking for main in -ltruerand... no\nchecking for iconv in -liconv... no\nchecking for modf in -lm... no\n\nChecking for Threads...\n\nchecking for pthread.h... yes\nchecking for pthreads_cflags...\nchecking for pthreads_lib...\nchecking for pthread.h... (cached) yes\nchecking whether pthread_getspecific takes two arguments... no\nchecking whether pthread_attr_getdetachstate takes one argument... no\nchecking for pthread_key_delete... no\nchecking for pthread_rwlock_init... no\nAPR will use threads\nchecking for readdir in -lc_r... no\nchecking for gethostbyname in -lc_r... no\nchecking for gethostbyaddr in -lc_r... no\nchecking for gethostbyname_r... no\nchecking for gethostbyaddr_r... no\nchecking for sigsuspend... no\nchecking for sigwait... no\nchecking for poll... no\nchecking for getpwnam_r... no\nchecking for getpwuid_r... no\nchecking for getgrnam_r... no\nchecking for getgrgid_r... no\n\nChecking for Shared Memory Support...\n\nchecking for sys/mman.h... yes\nchecking for MAP_ANON in sys/mman.h... no\nchecking for mmap... no\nchecking for munmap... no\nchecking for shm_open... no\nchecking for shm_unlink... no\nchecking for /dev/zero... yes\nchecking for sys/ipc.h... yes\nchecking for sys/shm.h... yes\nchecking for sys/file.h... yes\nchecking for shmget... no\nchecking for shmat... no\nchecking for shmdt... no\nchecking for shmctl... no\nchecking for kernel/OS.h... no\nchecking for create_area... no\nchecking for os2.h... no\nconfigure failed for srclib/apr"}, {"count": 1, "tags": [], "bug_id": 8570, "attachment_id": null, "id": 14869, "time": "2002-04-26T20:27:24Z", "creator": "slive@apache.org", "creation_time": "2002-04-26T20:27:24Z", "is_private": false, "text": "Config is for run-time config.  Perhaps that category is too confusing and\nshould be removed."}, {"count": 2, "tags": [], "bug_id": 8570, "attachment_id": null, "text": "Uhhh... Quit fighting with me here.  As I said, Config is for run-time config\nonly.  You are reporting a problem with building Apache, so the correct\ncategory is \"Build\".", "id": 14882, "time": "2002-04-26T22:43:56Z", "creator": "slive@apache.org", "creation_time": "2002-04-26T22:43:56Z", "is_private": false}, {"count": 3, "tags": [], "creator": "jwoolley@apache.org", "text": "Please attach your config.log to this PR.", "id": 14972, "time": "2002-04-29T04:09:45Z", "bug_id": 8570, "creation_time": "2002-04-29T04:09:45Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "gblanco@gatelink.net", "attachment_id": null, "id": 15081, "time": "2002-04-29T23:22:23Z", "bug_id": 8570, "creation_time": "2002-04-29T23:22:23Z", "is_private": false, "text": "I don't have any config.log\nOr Where Can I find it or produce it ?"}, {"count": 5, "tags": [], "bug_id": 8570, "attachment_id": null, "id": 15082, "time": "2002-04-29T23:25:08Z", "creator": "jwoolley@apache.org", "creation_time": "2002-04-29T23:25:08Z", "is_private": false, "text": "Look in httpd-2.0/srclib/apr .  The file is supposed to be automatically generated when you run configure."}, {"count": 6, "tags": [], "creator": "gblanco@gatelink.net", "text": "Created attachment 1737\nconfig.log", "id": 15083, "time": "2002-04-29T23:54:41Z", "bug_id": 8570, "creation_time": "2002-04-29T23:54:41Z", "is_private": false, "attachment_id": 1737}, {"count": 7, "tags": [], "text": "[This is a mass bug update.]\nThis bug reports a problem in an older version of Apache 2.\nCould you please update to the most recent version and see\nif you can reproduce this problem.  If the bug still exists,\nplease update the bug with the latest version number.  If \nthe bug no longer exists, please close the bug report.\n\nSorry for this impersonal response, but we get many more bug\nreports than our volunteers can keep up with.\nThanks for using Apache!", "attachment_id": null, "bug_id": 8570, "id": 24741, "time": "2002-10-17T02:35:18Z", "creator": "slive@apache.org", "creation_time": "2002-10-17T02:35:18Z", "is_private": false}, {"count": 8, "tags": [], "text": "[This is a mass bug update.] [Resolve-20021102]\nNo response from submitter; assuming issue is resolved.\nIf the problem still exists in the lastest version,\nplease reopen this report and update appropriately.", "attachment_id": null, "id": 25560, "creator": "slive@apache.org", "time": "2002-11-02T20:18:49Z", "bug_id": 8570, "creation_time": "2002-11-02T20:18:49Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 8570, "attachment_id": null, "id": 30529, "time": "2003-02-02T23:53:42Z", "creator": "apache@zamang.co.uk", "creation_time": "2003-02-02T23:53:42Z", "is_private": false, "text": "I attempted to compile 2.0.44 on a SCO OpenServer 5.0.5 machine today and it \nfailed with the error - '/src/httpd-2.0.44/srclib/apr/configure:Error: \ndecision on anonymous shared memory allocation method failed'.\n"}, {"count": 10, "tags": [], "bug_id": 8570, "attachment_id": null, "id": 30655, "time": "2003-02-04T14:49:30Z", "creator": "jorton@redhat.com", "creation_time": "2003-02-04T14:49:30Z", "is_private": false, "text": "This is an APR bug: apr_hints.m4 is unconditionally doing\n\tAPR_ADDTO(CFLAGS, [-Oacgiltz])\nwhich are flags intended for the native SCO CC, presumably.\n\nltconfig:603: checking for object suffix\nltconfig:604: gcc -c -g -O2 -Oacgiltz -DSCO -D_REENTRANT conftest.c 1>&5\ncc1: Invalid option `-Oacgiltz'\nltconfig: failed program was:\nint i = 1;\n\nand something dodgy is getting added to LIBS too."}, {"count": 11, "attachment_id": null, "creator": "joe@manyfish.co.uk", "text": "This should be fixed in httpd-2.0.45, please re-open this bug if it still\ndoesn't work.  Thanks for the report.", "id": 35371, "time": "2003-04-16T19:19:57Z", "bug_id": 8570, "creation_time": "2003-04-16T19:19:57Z", "tags": [], "is_private": false}, {"count": 12, "tags": [], "bug_id": 8570, "attachment_id": 6971, "id": 39418, "time": "2003-06-25T14:57:21Z", "creator": "li.li@tfn.com", "creation_time": "2003-06-25T14:57:21Z", "is_private": false, "text": "Created attachment 6971\nlogfile on SCO 3"}, {"count": 13, "tags": [], "bug_id": 8570, "text": "Created attachment 6972\nlogfile on SCO 5", "id": 39422, "time": "2003-06-25T15:15:57Z", "creator": "li.li@tfn.com", "creation_time": "2003-06-25T15:15:57Z", "is_private": false, "attachment_id": 6972}, {"count": 14, "tags": [], "bug_id": 8570, "attachment_id": null, "text": "I downloaded the latest version 2.0.46. It still failed to configure on SCO5\n(sco3.2v5.0.6).\nALso I tried it on SCO (sco3.2v4.2). I got the different errors. Attached are \nthe logfiles.\n", "id": 39427, "time": "2003-06-25T15:23:52Z", "creator": "li.li@tfn.com", "creation_time": "2003-06-25T15:23:52Z", "is_private": false}, {"count": 15, "tags": [], "creator": "joe@manyfish.co.uk", "attachment_id": null, "id": 39440, "time": "2003-06-25T20:37:44Z", "bug_id": 8570, "creation_time": "2003-06-25T20:37:44Z", "is_private": false, "text": "The \"SCO 3\" failure is pretty catastrophic, doesn't look like an easy workaround\nthere:\n\nld crtbegin.o: -L path too\nlong(/tmp_mnt/ilx/pvcs_src/apache/httpd-2.0.46/srclib/apr-util/xml/expat/lib)\n\nIt's not clear how the SCO 5 build actually failed; can you post how you invoked\nconfigure, and the attach complete output (stdout and stderr) from the configure\nrun."}, {"count": 16, "tags": [], "bug_id": 8570, "text": "Created attachment 6992\nAttached is the output from the configure run on SCO 5", "id": 39488, "time": "2003-06-26T14:24:17Z", "creator": "li.li@tfn.com", "creation_time": "2003-06-26T14:24:17Z", "is_private": false, "attachment_id": 6992}, {"count": 17, "tags": [], "bug_id": 8570, "attachment_id": null, "text": "OK, that failure is bug 19251.  The original bug here has been fixed.\n", "id": 44842, "time": "2003-09-29T15:15:34Z", "creator": "joe@manyfish.co.uk", "creation_time": "2003-09-29T15:15:34Z", "is_private": false}]