[{"count": 0, "tags": [], "bug_id": 20195, "attachment_id": null, "is_private": false, "id": 37684, "time": "2003-05-23T17:44:47Z", "creator": "apache.org@nerv.cx", "creation_time": "2003-05-23T17:44:47Z", "text": "Hi,\n\nSay I have the following in my /DocRoot/foo/.htaccess:\n\n  RewriteRule (.*) http://another.site/$1 [last,redirect=permanent]\n\nAccording to the comments around line 1940 of mod_rewrite.c, the local prefix\nshould be stripped from the URI before matching against the pattern. Indeed,\nhttp://my.site/foo/bar does get redirected to http://another.site/bar . However,\nif one tries to access http://my.site/foo , the string comparison in the code\nfails, resulting in the full path being matched against the pattern. i.e.\nhttp://my.site/foo is redirected to http://another.site//DocRoot/foo .\n\nA temporary fix is to special-case this condition in the rewrite rules:\n\n  RewriteRule /DocRoot/foo http://another.site/ [last,redirect=permanent]\n\nthough this is hardly elegant.\n\nThanks,\n/Liyang"}, {"count": 1, "tags": [], "bug_id": 20195, "text": "Fixed in 2.1 and proposed for inclusion into the 2.0 stable branch.\n\nThanks for your report and thanks for using Apache!", "id": 40754, "time": "2003-07-15T18:01:08Z", "creator": "nd@perlig.de", "creation_time": "2003-07-15T18:01:08Z", "is_private": false, "attachment_id": null}]