[{"count": 0, "tags": [], "creator": "jpolsky@hotmail.com", "attachment_id": null, "id": 146011, "time": "2011-04-26T14:48:20Z", "bug_id": 51122, "creation_time": "2011-04-26T14:48:20Z", "is_private": false, "text": "We have software which scans our log files for errors/warns and sends the appropriate alerts to our on-call team.  It would be convenient if we could control the stack trace separator when the exception is logged.\n\nI initial wrote our own custom PatternParser/PatternConverter from the core log4j code base, which used a %S{ | } pattern field, however, since there is already an EnhancedPatternParser in a companion class which has a %throwable specific pattern field, which is exactly what I was trying to accomplish, it seems like it makes more sense to extend that class rather than maintain our own.\n\nThe change would be to include an additional (optional) option to ThrowableInformationPatternConverter which sets the trace separator rather than use a hard coded new line, where new line would be the default if not specified.\n\nhttp://svn.apache.org/viewvc/logging/log4j/trunk/src/main/java/org/apache/log4j/pattern/ThrowableInformationPatternConverter.java?view=markup\n\nThe pattern could then be extended like the following:\n\n%throwable{full}{ | }\n\nIt appears that the code will already provide additional options to the pattern converter constructor if they are chained together.  For this to work, however, the second option would always have to be the stack trace separator, unless there is a way to prefix an option to identify it as the stack trace separator.\n\nSince the idea of the pattern is to have greater control on statement logging, it seems like the responsibility to control the stack trace separator should also live within this class."}, {"count": 1, "tags": [], "text": "Created attachment 29930\nProposed Patch", "is_private": false, "id": 165109, "creation_time": "2013-02-06T19:38:07Z", "time": "2013-02-06T19:38:07Z", "creator": "jpolsky@hotmail.com", "bug_id": 51122, "attachment_id": 29930}, {"count": 2, "tags": [], "text": "I realize this feature request is quite old and all active development is focused on 2.0.  I've copied this to Log4j2 JIRA and posted a patch there as well:\nhttps://issues.apache.org/jira/browse/LOG4J2-160\n\nI'm wondering if there are any plans to build any updates for 1.2; its use at our company is pretty wide spread and any transition to 2.0 wouldn't actually begin until that product is out of beta.\n\nI've ported that same improvement over to the 1.2 code base and attached the proposed patch.\n\nThe change would allow the previously hard coded line separator (\"\\n\") to be configurable using the syntax:\n%throwable[{\"full\"|\"none\"|\"short\"|depth}][{separator(|)}]", "attachment_id": null, "bug_id": 51122, "id": 165110, "time": "2013-02-06T19:38:44Z", "creator": "jpolsky@hotmail.com", "creation_time": "2013-02-06T19:38:44Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 51122, "attachment_id": null, "text": "Thank you for your patch.\n\nWe still plan to update 1.2.x series until 2.x is more stable. That said, it highly depends on my own time so far and I am a bit of a bottleneck. My plan is to prepare a release soon, maybe may or so.", "id": 166503, "time": "2013-04-10T04:36:46Z", "creator": "grobmeier@gmail.com", "creation_time": "2013-04-10T04:36:46Z", "is_private": false}]