[{"attachment_id": null, "tags": [], "creator": "ron.gomes@morganstanley.com", "is_private": false, "count": 0, "id": 63902, "time": "2004-09-20T18:54:19Z", "bug_id": 31316, "creation_time": "2004-09-20T18:54:19Z", "text": "In porting an app from Tomcat 4.1.30 to Tomcat 5.0.28 we discovered\nthat the following JSP text no longer works:\n\n    <jsp:include page=\"departments.jsp\" flush=\"false\"></jsp:include>\n\nIt throws a JasperException:\n\n    org.apache.jasper.JasperException: /index.jsp(374,0) Expecting\n    \"jsp:param\" standard action with \"name\" and \"value\" attributes\n\nunless the text is changed to\n\n    <jsp:include page=\"departments.jsp\" flush=\"false\"/>\n\nThe change in behavior seems to violate the old (1.2) and new (2.0) JSP\nspecs, which both say:\n\n    A jsp:include action may have jsp:param subelements that can\n    provide values for some parameters in the request to be used for\n    the inclusion.\n\ni.e. it *may* have <jsp:param> subelements (it doesn't insist on\nthem).\n\nEven the syntax description (on page 1-110 of the 2.0 spec) explicitly\npermits omitting <jsp:param> when opening and closing jsp:include tags\nare used instead of <jsp:include ... />:\n\n    <jsp:include page=\"urlSpec\" flush=\"true|false\">\n        { <jsp:param ..../> }*\n    </jsp:include>\n\nIn any case the change in behavior is problematic for people porting\napplications."}, {"count": 1, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "text": "I believe this has been raised at least once in the past, and the response was \nthat you have to have a new line between the start and end jsp:include tags, \ni.e.\n<jsp:include foo bar></jsp:include> is a no-no, but\n<jsp:include foo bar>\n</jsp:include>\nis OK.  Try the latter and let us know.", "id": 63906, "time": "2004-09-20T18:58:52Z", "bug_id": 31316, "creation_time": "2004-09-20T18:58:52Z", "is_private": false}, {"count": 2, "tags": [], "creator": "ron.gomes@morganstanley.com", "attachment_id": null, "text": "It fails in the same way even if the </jsp:include> appears on a separate line.\n\nBut even if this workaround had worked, the change in behavior is still\nsurprising and would still be problematic for people porting apps.", "id": 63922, "time": "2004-09-20T20:35:49Z", "bug_id": 31316, "creation_time": "2004-09-20T20:35:49Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 31316, "text": "I think you got the valid and invliad cases reversed.\n\nYou'll get this error iff there are white spaces between <jsp:include> and\n</jsp:include>.  The reason why this is an error is explained in\nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=25448", "id": 63925, "time": "2004-09-20T21:22:50Z", "creator": "kin-man.chung@sun.com", "creation_time": "2004-09-20T21:22:50Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "ron.gomes@morganstanley.com", "text": "You're right; the issue is the use of whitespace at all in this context.\n\nThe new rigor is still likely to trip up some porters of applications, but\nit's a defensible interpretation of the spec.\n\nThanks.", "count": 4, "id": 64008, "time": "2004-09-21T19:21:30Z", "bug_id": 31316, "creation_time": "2004-09-21T19:21:30Z", "is_private": false}]