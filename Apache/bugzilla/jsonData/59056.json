[{"count": 0, "attachment_id": null, "bug_id": 59056, "text": "org.apache.poi.hslf.usermodel.HSLFShape#draw is no longer implemented, which makes it impossible to render individual shapes.\n\nIn poi v3.12 it was still possible to render indidual Shapes (e.g. for text because org.apache.poi.hslf.model.TextShape#draw was overriding the placeholder org.apache.poi.hslf.model.Shape#draw and provided rendering logic). However in 3.13 and later org.apache.poi.hslf.usermodel.HSLFShape#draw is not overridden anywhere but also does not provide any rendering logic.\n\n\nTo avoid any confusion: Rending of complete slides still works via org.apache.poi.hslf.usermodel.HSLFSlide#draw the regression is only affecting individual shape rendering with Graphics2D.", "id": 188739, "time": "2016-02-23T21:26:06Z", "creator": "holgerbrandl@gmail.com", "creation_time": "2016-02-23T21:26:06Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 59056, "attachment_id": null, "is_private": false, "id": 188740, "time": "2016-02-23T22:52:47Z", "creator": "kiwiwings@apache.org", "creation_time": "2016-02-23T22:52:47Z", "text": "Please elaborate a bit more your use-case - best would be some kind of example where the rendering is to be inserted.\n\nHow would you change org.apache.poi.sl.draw.DrawTextShape to suit your needs?\n\nThe background for this change is, the common sl change, which refactors the rendering code from X/HSLF to a separate package hierarchy. You can even provide your own org.apache.poi.sl.draw.DrawFactory to provide custom rendering.\n\nPlease be aware X/HSLF still has scratchpad state, so api breaks aren't a regression.\nMy goal is to keep the common sl interfaces (org.apache.poi.sl.*) downward compatible, but this isn't necessarily true for the X/HSLF implementation classes - usually the HSLF api will be migrated towards XSLF."}, {"count": 2, "tags": [], "creator": "holgerbrandl@gmail.com", "is_private": false, "text": "My usecase is http://opencards.info/ where I need to partially render slides. To do so I was using in the past the following code https://github.com/holgerbrandl/opencards/blob/8fe5ac6ec4af1603352f1a2a935657fb09371971/src/info/opencards/pptintegration/PPTSlideRenderPanel.java#L65\n\nSince with v3.13 the method org.apache.poi.hslf.usermodel.HSLFShape#draw is not implemented by any of the subclasses, so rendering of individual slides does not work anymore. \n\nWith v3.12 and earlier I was using org.apache.poi.hslf.model.Shape#draw which itself was also not doing anything but it was overridden by\norg.apache.poi.hslf.model.Background\norg.apache.poi.hslf.model.Picture\norg.apache.poi.hslf.model.ShapeGroup\norg.apache.poi.hslf.model.SimpleShape\norg.apache.poi.hslf.model.TextShape\n\nThanks to your answer I discovered the workaround of doing \nDrawFactory.getInstance(graphics).getDrawable(shape).draw(graphics);\ninstead of the previous approach of  \nshape.draw(graphics);\n\nSee here https://github.com/holgerbrandl/opencards/blob/poi_3.13/src/info/opencards/pptintegration/PPTSlideRenderPanel.java#L91\n\nStill, org.apache.poi.hslf.usermodel.HSLFShape#draw should imho either simply implement this workaround or be removed from the api (since it's non-functional at the moment).", "id": 188813, "time": "2016-02-25T21:57:17Z", "bug_id": 59056, "creation_time": "2016-02-25T21:57:17Z", "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 59056, "text": "You are right, I've missed that draw method.\n\nWhat do you think about the patch?", "id": 188866, "time": "2016-02-26T21:43:19Z", "creator": "kiwiwings@apache.org", "creation_time": "2016-02-26T21:43:19Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "creator": "kiwiwings@apache.org", "text": "Created attachment 33601\nPatch for drawing single shapes", "id": 188867, "time": "2016-02-26T21:43:22Z", "bug_id": 59056, "creation_time": "2016-02-26T21:43:22Z", "is_private": false, "attachment_id": 33601}, {"count": 5, "attachment_id": null, "bug_id": 59056, "text": "Patch looks very good to me. Thanks!", "id": 188940, "time": "2016-02-29T07:44:56Z", "creator": "holgerbrandl@gmail.com", "creation_time": "2016-02-29T07:44:56Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 59056, "text": "added via r1732974", "count": 6, "id": 188983, "time": "2016-03-01T00:41:40Z", "creator": "kiwiwings@apache.org", "creation_time": "2016-03-01T00:41:40Z", "is_private": false}]