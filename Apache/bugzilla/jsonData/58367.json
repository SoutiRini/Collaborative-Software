[{"count": 0, "tags": [], "bug_id": 58367, "text": "Reported by RV-Predict (a dynamic race detector) when running the test suite:\nData race on field org.apache.tomcat.util.http.HttpMessages.st_200: {{{\n    Concurrent write in thread T29 (locks held: {Monitor@3fece8b3})\n ---->  at org.apache.tomcat.util.http.HttpMessages.getMessage(HttpMessages.java:73)\n        at org.apache.coyote.http11.AbstractOutputBuffer.<init>(AbstractOutputBuffer.java:134)\n        at org.apache.coyote.http11.Http11Processor.<init>(Http11Processor.java:60)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.createProcessor(Http11Protocol.java:171)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:620)\n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:277)\n        - locked Monitor@3fece8b3 at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:259) \n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    T29 is created by T15\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent read in thread T27 (locks held: {Monitor@3bb9edae})\n ---->  at org.apache.tomcat.util.http.HttpMessages.getMessage(HttpMessages.java:75)\n        at org.apache.coyote.http11.AbstractOutputBuffer.<init>(AbstractOutputBuffer.java:134)\n        at org.apache.coyote.http11.Http11Processor.<init>(Http11Processor.java:60)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.createProcessor(Http11Protocol.java:171)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:620)\n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:277)\n        - locked Monitor@3bb9edae at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:259) \n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    T27 is created by T15\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n}}}\n\nThe implementation of lazy initialization of this field is non-thread-safe.", "id": 185124, "time": "2015-09-12T00:58:30Z", "creator": "yilong.li@runtimeverification.com", "creation_time": "2015-09-12T00:58:30Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 58367, "attachment_id": null, "text": "Note: This code has been removed entirely for trunk.\n\nFor 8.0.x and earlier this isn't an issue but it is probably worth reviewing to see if there is a cleaner/simpler (and thread-safe) solution we can use.", "id": 185173, "time": "2015-09-13T11:58:33Z", "creator": "markt@apache.org", "creation_time": "2015-09-13T11:58:33Z", "is_private": false}, {"count": 2, "tags": [], "creator": "markt@apache.org", "text": "Fixed the rare/unlikely data race in 8.0.x for 8.0.27 onwards.", "id": 185205, "time": "2015-09-13T20:39:26Z", "bug_id": 58367, "creation_time": "2015-09-13T20:39:26Z", "is_private": false, "attachment_id": null}]