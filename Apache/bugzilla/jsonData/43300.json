[{"attachment_id": null, "tags": [], "bug_id": 43300, "is_private": false, "count": 0, "id": 107678, "time": "2007-09-04T01:54:08Z", "creator": "a.ronca@indire.it", "creation_time": "2007-09-04T01:54:08Z", "text": "when I try to move node into site tree I receive this message:\n\nNode [node lenya://lenya/pubs/default/content/authoring/sitetree.xml] is already\nloaded, locking would have no effect and could lead to an inconsistent repository.\n\n\norg.apache.cocoon.ProcessingException: Sitemap: error calling function\n'executeUsecase' at <map:call> -\nfile:///home/antonio/src/lenya-2.0.x.def/build/lenya/webapp/lenya/modules/usecase/usecase.xmap:104:45\nat <map:mount> -\nfile:///home/antonio/src/lenya-2.0.x.def/build/lenya/webapp/lenya/usecase.xmap:55:131\nat <map:mount> -\nfile:///home/antonio/src/lenya-2.0.x.def/build/lenya/webapp/global-sitemap.xmap:345:104\nat <map:mount> -\nfile:///home/antonio/src/lenya-2.0.x.def/build/lenya/webapp/sitemap.xmap:679:106\n\nCall stack:\n\norg.apache.lenya.cms.repository.RepositoryException: Node [node\nlenya://lenya/pubs/default/content/authoring/sitetree.xml] is already loaded,\nlocking would have no effect and could lead to an inconsistent repository.\n\tat org.apache.lenya.cms.repository.SourceNode.lock(SourceNode.java:248)\n\tat\norg.apache.lenya.cms.usecase.AbstractUsecase.lockInvolvedObjects(AbstractUsecase.java:810)\n\tat\norg.apache.lenya.cms.usecase.AbstractUsecase.lockInvolvedObjects(AbstractUsecase.java:778)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat\norg.apache.avalon.excalibur.component.ComponentProxyGenerator$ComponentInvocationHandler.invoke(ComponentProxyGenerator.java:143)\n\tat $Proxy52.lockInvolvedObjects(Unknown Source)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.mozilla.javascript.MemberBox.invoke(MemberBox.java:145)\n\tat org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:204)\n\tat org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:3085)\n\tat org.mozilla.javascript.Interpreter.interpret(Interpreter.java:2251)\n\tat org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:161)\n\tat org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:340)\n\tat org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:2758)\n\tat org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:159)\n\tat org.mozilla.javascript.ScriptRuntime.call(ScriptRuntime.java:915)\n\tat\norg.apache.cocoon.components.flow.javascript.fom.FOM_JavaScriptInterpreter.callFunction(FOM_JavaScriptInterpreter.java:764)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.CallFunctionNode.invoke(CallFunctionNode.java:139)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n\tat\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n\tat\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:177)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:254)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:118)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n\tat\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n\tat\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:177)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:254)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:118)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n\tat\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n\tat\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:177)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:254)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:118)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.ActTypeNode.invoke(ActTypeNode.java:139)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n\tat\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n\tat\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:177)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:254)\n\tat org.apache.cocoon.Cocoon.process(Cocoon.java:699)\n\tat org.apache.cocoon.servlet.CocoonServlet.service(CocoonServlet.java:1154)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:427)\n\tat\norg.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:475)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:567)\n\tat org.mortbay.http.HttpContext.handle(HttpContext.java:1565)\n\tat\norg.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:635)\n\tat org.mortbay.http.HttpContext.handle(HttpContext.java:1517)\n\tat org.mortbay.jetty.plus.PlusWebAppContext.handle(PlusWebAppContext.java:158)\n\tat org.mortbay.http.HttpServer.service(HttpServer.java:954)\n\tat org.mortbay.http.HttpConnection.service(HttpConnection.java:814)\n\tat org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:981)\n\tat org.mortbay.http.HttpConnection.handle(HttpConnection.java:831)\n\tat org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)\n\tat org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)\n\tat org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)"}, {"count": 1, "tags": [], "bug_id": 43300, "attachment_id": null, "text": "Would you mind giving a short step-by-step instruction how to reproduce the\nproblem? Thanks a lot!", "id": 108753, "time": "2007-09-28T07:20:06Z", "creator": "andreas@apache.org", "creation_time": "2007-09-28T07:20:06Z", "is_private": false}, {"count": 2, "tags": [], "creator": "rfrovarp@apache.org", "text": "This used to trip quite frequently for a short period of time. We fixed those\nerrors up. The only way I've been able to get this to trip is getting two\nsessions to try to create a page at pretty much the exact same time. This\nproblem is covered in bug 43136. Closing this bug.", "id": 109480, "time": "2007-10-18T12:26:58Z", "bug_id": 43300, "creation_time": "2007-10-18T12:26:58Z", "is_private": false, "attachment_id": null}]