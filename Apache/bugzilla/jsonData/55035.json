[{"count": 0, "tags": [], "creator": "sergeytch@gmail.com", "is_private": false, "text": "Currently Ant \"deploy\" task does not support separate parameter \"version\" and, thanks to URLEncoder, there is no workaround for that.\n\nBut for apps with not empty context it's possible to define version using ##, like setting path to \"/someContext#someVersion\".\n\nFor apps with empty context we receive error:\n\nCase #1:\n<deploy url=\"{tomcat.manager}/text\" username=\"${username}\", password=\"${password}\" path=\"/ROOT##12345\" war=\"${pathtowar}\" />\n\nResult:\nFailed to deploy application at context path /ROOT##12345\n\nCase #1:\n<deploy url=\"{tomcat.manager}/text\" username=\"${username}\", password=\"${password}\" path=\"/##12345\" war=\"${pathtowar}\" />\n\nResult:\nFailed to deploy application at context path /##12345", "id": 167537, "time": "2013-05-31T16:05:20Z", "bug_id": 55035, "creation_time": "2013-05-31T16:05:20Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 55035, "text": "Created attachment 30353\nAnt \"deploy\" task should also take \"version\" as a parameter, and can extend AbstractCatalinaCommandTask\n\nThis patch makes DeployTask to extend AbstractCatalinaCommandTask, so path and version parameters are set uniformly (\"version\" parameter was missing in the deploy task, and usage like ${context}##{version} did not work fine for the root context).", "id": 167547, "attachment_id": 30353, "creator": "sergeytch@gmail.com", "creation_time": "2013-05-31T21:33:07Z", "time": "2013-05-31T21:33:07Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 55035, "attachment_id": null, "id": 167633, "time": "2013-06-03T21:04:50Z", "creator": "markt@apache.org", "creation_time": "2013-06-03T21:04:50Z", "is_private": false, "text": "Thanks for the patch (it was inverted by the way). It has been applied to trunk and 7.0.x and will be included in 7.0.41 onwards."}, {"count": 3, "tags": [], "bug_id": 55035, "text": "thanks for including it to trunk :) and sorry for the problem with patch :)\n\nthough, this is a fix for ant task property \"version\", but the issue with using \"/##someversion\" path is not fixed by this patch. Should I create another issue, or maybe just call such usage as deprecated?", "id": 167651, "time": "2013-06-04T11:08:28Z", "creator": "sergeytch@gmail.com", "creation_time": "2013-06-04T11:08:28Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 55035, "attachment_id": null, "id": 167652, "time": "2013-06-04T11:13:00Z", "creator": "markt@apache.org", "creation_time": "2013-06-04T11:13:00Z", "is_private": false, "text": "I'd say treat using ##version in a path as deprecated / unsupported."}]