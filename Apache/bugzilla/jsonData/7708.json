[{"count": 0, "tags": [], "creator": "fenn_b@smktech.com.au", "attachment_id": null, "id": 12731, "time": "2002-04-03T07:07:13Z", "bug_id": 7708, "creation_time": "2002-04-03T07:07:13Z", "is_private": false, "text": "This is a correction of a previous apparent bug lodged by myself that was \ncausing invalid \"Continue 100\" responses.\n\nIt turns out that mod_proxy 1.3.24 is upgrading HTTP/1.0 POST requests to \nHTTP/1.1 without downgrading in the reply. See below:\n\nRequest sent by client to proxy/frontend:\n-------------------------------------------\nPOST /login.asp HTTP/1.0\nAccept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/vnd.ms-\nexcel, application/vnd.ms-powerpoint, application/msword, */*\nAccept-Language: en-au\nContent-Type: application/x-www-form-urlencoded\nUser-Agent: Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0; T312461)\nContent-Length: 34\nPragma: no-cache\nHost: my.hostname.com\nCache-Control: max-age=1329600\nConnection: keep-alive\n\nusername=xxxxxxx&password=xxxxxxxx\n-------------------------------------------\n\n\nPassed by mod_proxy (1.3.23) - Works fine, normal HTTP response:\n-------------------------------------------\nPOST /login.asp HTTP/1.0\nHost: my.hostname.com.internal\nAccept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/vnd.ms-\nexcel, application/vnd.ms-powerpoint, application/msword, */*\nAccept-Language: en-au\nCache-Control: max-age=1329600\nContent-Length: 34\nContent-Type: application/x-www-form-urlencoded\nPragma: no-cache\nUser-Agent: Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0; T312461)\nX-Forwarded-For: 210.23.128.130\nConnection: close\n\nusername=xxxxxxx&password=xxxxxxxx\n-------------------------------------------\n\nHTTP request passed by mod_proxy (1.3.24) - Causes a Continue 100 with IIS:\n-------------------------------------------\nPOST /login.asp HTTP/1.1\nHost: my.hostname.com.internal\nAccept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/vnd.ms-\nexcel, application/vnd.ms-powerpoint, application/msword, */*\nAccept-Language: en-au\nCache-Control: max-age=1329600\nContent-Length: 34\nContent-Type: application/x-www-form-urlencoded\nPragma: no-cache\nUser-Agent: Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0; T312461)\nX-Forwarded-For: 210.23.128.130\nConnection: close\n\nusername=xxxxxxx&password=xxxxxxxx\n-------------------------------------------\n\nAs far as I can see, this breaks HTTP/1.1 RFC:\n\n-----\n3.1 HTTP Version\n\n   Proxy and gateway applications need to be careful when forwarding\n   messages in protocol versions different from that of the application.\n   Since the protocol version indicates the protocol capability of the\n   sender, a proxy/gateway MUST NOT send a message with a version\n   indicator which is greater than its actual version. If a higher\n   version request is received, the proxy/gateway MUST either downgrade\n   the request version, or respond with an error, or switch to tunnel\n   behavior.\n-----"}, {"count": 1, "tags": [], "creator": "slive@apache.org", "text": "\n\n*** This bug has been marked as a duplicate of 7513 ***", "id": 12751, "time": "2002-04-03T14:25:54Z", "bug_id": 7708, "creation_time": "2002-04-03T14:25:54Z", "is_private": false, "attachment_id": null}]