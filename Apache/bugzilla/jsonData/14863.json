[{"count": 0, "tags": [], "bug_id": 14863, "attachment_id": null, "id": 27006, "time": "2002-11-26T16:16:28Z", "creator": "ljnelson94@alumni.amherst.edu", "creation_time": "2002-11-26T16:16:28Z", "is_private": false, "text": "I wrote a BuildListener whose messageLogged() method did a System.out.println\n(event.getMessage()) (just for testing).  When I added this listener on the \ncommand line, e.g.:\n\nant compile -listener SimpleListener\n\n...the screen output was \"Setting project property: ant.java.version -> 1.3\" \nabout 1000 times and then the program ran out of stack space and crashed.\n\nDoing System.err.println(message) did not result in the same problem.\n\nI can post the build file if needed; it's a pretty standard usage of the javac \ntask.\n\nCheers,\nLaird"}, {"count": 1, "tags": [], "text": "Pretty much what you'd expect when you know how Ant works - and pretty confusing\nif you don't.\n\nAnt redirects System.out and System.err to capture all task output and send it\nto the listeners.  Everything writtem to those streams will be sent to\nmessageLogged -> your infinite loop.\n\nThe only way around this probably is to properly document the fact.  Maybe Ant\nshould make the original streams available to listeners as well.", "attachment_id": null, "id": 27007, "creator": "bodewig@apache.org", "time": "2002-11-26T16:26:11Z", "bug_id": 14863, "creation_time": "2002-11-26T16:26:11Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 14863, "is_private": false, "id": 27239, "time": "2002-12-02T11:00:13Z", "creator": "ljnelson94@alumni.amherst.edu", "creation_time": "2002-12-02T11:00:13Z", "tags": [], "text": "Interesting.  I noticed, however, that using System.err does *not* result in \nthe infinite loop--that is, inside messageLogged() if I do a System.err.println\n(), the infinite loop does not happen.\n\nAnyhow, thanks for the heads up.\n\nCheers,\nLaird"}, {"count": 3, "tags": [], "bug_id": 14863, "attachment_id": null, "id": 31443, "time": "2003-02-17T14:24:29Z", "creator": "conor@apache.org", "creation_time": "2003-02-17T14:24:29Z", "is_private": false, "text": "I have added code to detect when a listener accesses System.out when it should\nnot. The build will terminate with a build exception in this circumstance.\n\nI have also documented the fact that listeners should not access System.out or\nSystem.err."}]