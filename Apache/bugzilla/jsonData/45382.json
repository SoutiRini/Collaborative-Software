[{"count": 0, "tags": [], "creator": "mariusgeorgiu@yahoo.com", "text": "Hi! \n\nI'm working on a cluster application and I want to make session replication using  the attribute \"useDirtyFlag=false\" in server.xml file (session replication to be made even the setAttributes is not called). The problem is : when the manager is created in SimpleTcpCluster class it calls cloneFromTemplate method from SimpleTcpReplicationManager class wich throws all the time UnsupportedOperationException. \nHow can I avoid this ???\n\nThanks !", "id": 118567, "time": "2008-07-11T08:06:00Z", "bug_id": 45382, "creation_time": "2008-07-11T08:06:00Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "mariusgeorgiu@yahoo.com", "is_private": false, "text": "<Server port=\"8005\" shutdown=\"SHUTDOWN\">\n\n  <Listener className=\"org.apache.catalina.core.AprLifecycleListener\" SSLEngine=\"on\" />\n  <Listener className=\"org.apache.catalina.core.JasperListener\" />\n  <Listener className=\"org.apache.catalina.mbeans.ServerLifecycleListener\" />\n  <Listener className=\"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener\" />\n\n  <GlobalNamingResources>\n    <Resource name=\"UserDatabase\" auth=\"Container\"\n              type=\"org.apache.catalina.UserDatabase\"\n              description=\"User database that can be updated and saved\"\n              factory=\"org.apache.catalina.users.MemoryUserDatabaseFactory\"\n              pathname=\"conf/tomcat-users.xml\" />\n  </GlobalNamingResources>\n\n  <Service name=\"Catalina\">\n        <Connector port=\"8443\" protocol=\"AJP/1.3\" connectionTimeout=\"10000\"\n        tomcatAuthentication=\"false\" keepaliveTimeout=\"5000\"\n        backlog=\"50\" maxThreads=\"300\" />\n    \n    <Engine name=\"Catalina\" defaultHost=\"localhost\" jvmRoute=\"cyborg1\">\n       <Cluster className=\"org.apache.catalina.ha.tcp.SimpleTcpCluster\"\n                 channelSendOptions=\"8\">\n            <Manager className=\"org.apache.catalina.ha.session.DeltaManager\"\n                   expireSessionsOnShutdown=\"false\"\n                   notifyListenersOnReplication=\"true\"/>\n            <Channel className=\"org.apache.catalina.tribes.group.GroupChannel\">\n                <Membership className=\"org.apache.catalina.tribes.membership.McastService\"\n                        address=\"228.0.0.4\"\n                        port=\"60044\"\n                        frequency=\"500\"\n                        dropTime=\"6000\"/>\n                <Receiver className=\"org.apache.catalina.tribes.transport.nio.NioReceiver\"\n                      address=\"192.168.123.151\"\n                      port=\"4000\"\n                      autoBind=\"100\"\n                      selectorTimeout=\"5000\"\n                      maxThreads=\"10\"/>\n                <Sender className=\"org.apache.catalina.tribes.transport.ReplicationTransmitter\">\n                    <Transport className=\"org.apache.catalina.tribes.transport.nio.PooledParallelSender\"/>\n                </Sender>\n                <Interceptor className=\"org.apache.catalina.tribes.group.interceptors.TcpFailureDetector\"/>\n                <Interceptor className=\"org.apache.catalina.tribes.group.interceptors.MessageDispatch15Interceptor\"/>\n          </Channel>\n\n          <Valve className=\"org.apache.catalina.ha.tcp.ReplicationValve\" filter=\"\"/>\n          <Valve className=\"org.apache.catalina.ha.session.JvmRouteBinderValve\"/>\n\n          <Deployer className=\"org.apache.catalina.ha.deploy.FarmWarDeployer\"\n                    tempDir=\"/tmp/war-temp/\"\n                    deployDir=\"/tmp/war-deploy/\"\n                    watchDir=\"/tmp/war-listen/\"\n                    watchEnabled=\"false\"/>\n\n          <ClusterListener className=\"org.apache.catalina.ha.session.JvmRouteSessionIDBinderListener\"/>\n          <ClusterListener className=\"org.apache.catalina.ha.session.ClusterSessionListener\"/>\n        </Cluster>\n\n      <Realm className=\"org.apache.catalina.realm.UserDatabaseRealm\"\n             resourceName=\"UserDatabase\"/>\n      <Host name=\"localhost\"  appBase=\"webapps\"\n            unpackWARs=\"true\" autoDeploy=\"true\"\n            xmlValidation=\"false\" xmlNamespaceAware=\"false\">\n      </Host>\n    </Engine>\n  </Service>\n</Server>\n", "id": 118569, "time": "2008-07-11T08:17:30Z", "bug_id": 45382, "creation_time": "2008-07-11T08:17:30Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 45382, "attachment_id": null, "text": "*** Bug 45381 has been marked as a duplicate of this bug. ***", "id": 118579, "time": "2008-07-11T10:47:54Z", "creator": "markt@apache.org", "creation_time": "2008-07-11T10:47:54Z", "is_private": false}, {"count": 3, "tags": [], "creator": "markt@apache.org", "text": "This looks like a configuration question that belongs on the users list rather than a bug report.", "id": 118580, "time": "2008-07-11T10:49:02Z", "bug_id": 45382, "creation_time": "2008-07-11T10:49:02Z", "is_private": false, "attachment_id": null}]