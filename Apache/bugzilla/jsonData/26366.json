[{"count": 0, "tags": [], "bug_id": 26366, "attachment_id": null, "is_private": false, "id": 51014, "time": "2004-01-22T23:03:25Z", "creator": "tobiasreif@pinkjuice.com", "creation_time": "2004-01-22T23:03:25Z", "text": "Hi\n\nI'm generating a test image for testing foto printing services and\nmodes. Overall this works well: Ruby/REXML -> SVG, with Batik to JPEG.\n\n\nThe root element of 30x20.svg\n:\n<svg xmlns:xlink='http://www.w3.org/1999/xlink'\noverflow='hidden'\nversion='1.1'\nheight='20cm'\nxmlns='http://www.w3.org/2000/svg'\nwidth='30cm'>\n\n\n$ java -ms256m -mx384m \\\n> -jar ~/bulk/run/batik/1_5/batik-rasterizer.jar \\\n> 30x20.svg \\\n> -d 30x20.jpg \\\n> -m image/jpg -q 0.9999 -dpi 300\nAbout to transcode 1 SVG file(s)\n\nConverting 30x20.svg to 30x20.jpg ... ... success\n$ identify -format \"%wx%h\" 30x20.jpg\n3543x2362\n\n$ ruby -e \"puts 3543.0 / 2362\"\n1.5\n\n\nGreat.\n\n\nThe root element of 15x10.svg\n:\n<svg xmlns:xlink='http://www.w3.org/1999/xlink'\noverflow='hidden'\nversion='1.1'\nheight='10cm'\nxmlns='http://www.w3.org/2000/svg'\nwidth='15cm'>\n\n\n$ java -ms256m -mx384m \\\n> -jar ~/bulk/run/batik/1_5/batik-rasterizer.jar \\\n> 15x10.svg \\\n> -d 15x10.jpg \\\n> -m image/jpg -q 0.9999 -dpi 300\nAbout to transcode 1 SVG file(s)\n\nConverting 15x10.svg to 15x10.jpg ... ... success\n$ identify -format \"%wx%h\" 15x10.jpg\n1771x1181\n\n\nBoth SVGs are 3:2, thus width divided by height should yield 1.5 in\nboth cases, but doesn't:\n\n\n$ ruby -e \"puts 1771.0 / 1181\"\n1.4995766299746\n\n\nNear 3:2, but I need to get pixel dimensions which are exactly 3:2;\nthe proportions of the SVG.\n\n\nTobi"}, {"count": 1, "tags": [], "bug_id": 26366, "attachment_id": null, "is_private": false, "id": 52595, "time": "2004-02-19T19:23:38Z", "creator": "deweese@apache.org", "creation_time": "2004-02-19T19:23:38Z", "text": "If you want specific pixel sizes then you should\nuse the -width/-height options.  The current\noptions are conforming as closely as possible\nto your desires, to get what you want it\nwould have to fudge on the 300dpi specification."}, {"count": 2, "tags": [], "text": "\nThanks for replying, but I unfortunately don't understand your explanation.\n\nIf the SVG is 3:2\n\nheight='20cm'\nwidth='30cm'\n\nI get a JPEG with the same proportions:\n\n$ ruby -e \"puts 3543.0 / 2362\"\n1.5\n\nas desired and expected.\n\nNow I have another SVG which is 3:2\n(exactly half width/height)\n\nheight='10cm'\nwidth='15cm'\n\nbut get a JPEG with different proportions:\n\n$ ruby -e \"puts 1771.0 / 1181\"\n1.4995766299746\n\nShouldn't I get a 3:2 image in both cases? The dimensions are\nspecified in the SVG in both cases, I don't see why I should be\nrequired to supply the same numbers redundantly on the command line.\n\nBut it's up to you, you know Batik better than me :)\n\n", "is_private": false, "bug_id": 26366, "id": 52714, "time": "2004-02-21T11:53:58Z", "creator": "tobiasreif@pinkjuice.com", "creation_time": "2004-02-21T11:53:58Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "I re-read your comment:\n\n> If you want specific pixel sizes then you should\n> use the -width/-height options.\n\nI do need to get specific cm sizes (various paper sizes are tested) ...\n\n> The current\n> options are conforming as closely as possible\n> to your desires, to get what you want it\n> would have to fudge on the 300dpi specification.\n\n... at 300 DPI.\n\nIt's a test page for a printer, it must be of the specified size in cm (as\nspecified on the root element) when printed at 300 DPI. It can only be of the\nspecified size if it's of same proportion.\n\nBut I think I now understand the problem a bit better: The resolution (300DPI)\nis too low (or \"out of sync\") to exactly represent the size in pixels, right?.\n\n\n", "is_private": false, "bug_id": 26366, "id": 52715, "time": "2004-02-21T12:01:54Z", "creator": "tobiasreif@pinkjuice.com", "creation_time": "2004-02-21T12:01:54Z", "attachment_id": null}]