[{"count": 0, "tags": [], "text": "I have several applications running in tomcat 4.1.18 and apache 1.3.26 with \nmod_jk 1.2.2.\nif i writte in the browser (explorer):\nhttp://www.domain.com/WEB-INF/web.xml\nthe system shows me the file, the web.xml conf file.\nThis is one great security problem.\n\nin the apache conf file i have:\n<Directory \"WEB-INF\">\nOptions -Indexes\nAllowOverride None\nOrder deny,allow\nDeny from all\n</Directory>\n\nand is posible to load the classes (class files) thar are int the WEB-\nINF/classes directory\n\nthe example in:\nhttp://www.tinieblas.com/WEB-INF/web.xml", "attachment_id": null, "id": 30476, "creator": "dionisio@tinieblas.com", "time": "2003-02-01T16:58:49Z", "bug_id": 16667, "creation_time": "2003-02-01T16:58:49Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 16667, "text": "One additional comment:\ni i put in my browser:\nhttp://www.domain.com/WEB-INF/classes/dir/className.class i can download the \nclass file.\n####################\n##CONF\n##################\n\napache httpd.conf:\n    # conexion a tomcat\n    JkMount /*.jsp ajp13\n    <Directory \"WEB-INF\">\n        Options -Indexes\n        AllowOverride None\n        Order deny,allow\n        Deny from all\n    </Directory>\n\ntomcat server.xml:\n      <Host name=\"www.domain.com\" debug=\"0\" appBase=\"/home/domain\" \n       unpackWARs=\"true\" autoDeploy=\"true\">\n<Logger className=\"org.apache.catalina.logger.FileLogger\"\n                 directory=\"logs\"  prefix=\"www.domain_log.\" suffix=\".txt\"\n\t        timestamp=\"true\"/>\n<Context path=\"\" docBase=\"\" debug=\"0\"/>\n</Host>\n\n\ntomcat_jk.conf\nJkWorkersFile /opt/jakarta/tomcat/conf/workers.properties\nJkLogFile /opt/jakarta/tomcat/logs/mod_jk.log\nJkLogLevel error\nJkMount /examples/servlet/* ajp13\nJkMount /examples/*.jsp ajp13\n\n\n\n", "id": 30477, "time": "2003-02-01T17:12:19Z", "creator": "dionisio@tinieblas.com", "creation_time": "2003-02-01T17:12:19Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 16667, "is_private": false, "text": "the url is not valid, please sorry", "id": 30478, "time": "2003-02-01T17:41:02Z", "creator": "dionisio@tinieblas.com", "creation_time": "2003-02-01T17:41:02Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "dionisio@tinieblas.com", "is_private": false, "id": 30479, "attachment_id": null, "bug_id": 16667, "creation_time": "2003-02-01T17:46:02Z", "time": "2003-02-01T17:46:02Z", "text": "the url is not valid, pleas sorry, but the bug is valid\n\nthanks"}, {"count": 4, "tags": [], "bug_id": 16667, "attachment_id": null, "is_private": false, "id": 30480, "time": "2003-02-01T18:11:36Z", "creator": "funkman@joedog.org", "creation_time": "2003-02-01T18:11:36Z", "text": "See http://jakarta.apache.org/tomcat/tomcat-4.1-doc/jk2/jk/aphowto.html for an\nexample of proper usage as well as\nhttp://httpd.apache.org/docs/mod/core.html#directory on how to use the Directory\ndirective properly.\n\nIn a nutshell, according to the httpd docs, change: \n<Directory \"WEB-INF\">\n   to\n<Directory ~ \"WEB-INF\">\n "}]