[{"count": 0, "tags": [], "bug_id": 3790, "attachment_id": null, "id": 5953, "time": "2001-09-24T03:00:26Z", "creator": "dylans@xs4all.nl", "creation_time": "2001-09-24T03:00:26Z", "is_private": false, "text": "a call to pageContext.getServletContext().getRealPath(request.getRequestURI())\n(this is from a jsp custom tag)\nreturns:\nc:\\jakarta-tomcat\\webapps\\app\\app\\dir\\file.jsp\n\nwhere the expected response is:\nc:\\jakarta-tomcat\\webapps\\app\\dir\\file.jsp"}, {"count": 1, "tags": [], "bug_id": 3790, "attachment_id": null, "id": 5961, "time": "2001-09-24T08:21:20Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-09-24T08:21:20Z", "is_private": false, "text": "Tomcat is behaving the way the documentation says to act.  The argument you pass\nto getRealPath() should be relative to the *context*, not to the *server*.  The\nway to get the answer you want is like this:\n\n  String relative = request.getServletPath();\n  if (request.getPathInfo() != null)\n    relative += request.getPathInfo();\n  String realPath = getServletContext().getRealPath(relative);\n\nor run your application as the ROOT web-app, in which case context-relative and\nserver-relative paths are the same.\n"}]