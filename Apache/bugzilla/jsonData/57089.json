[{"count": 0, "tags": [], "bug_id": 57089, "is_private": false, "text": "From \"Question of new SessionIdGenerator implementation.\" thread on dev@,\nhttp://tomcat.markmail.org/thread/2lic23zbhesgftld\n\nIf reloading Manager( or Context), SessionIdGenerator is cleared in ManagerBase.stopInternal() and re-created in ManagerBase.startInternal().\n\nExpected: If there is <SessionIdGenerator> element in a <Manager> element, restarting a web application should preserve the options set on it.\n\nActual: Any configuration options specified on <SessionIdGenerator> configuration element are lost.\n\nWorkaround\n-----------\nA workaround is to specify attributes such as \"sessionIdLength\" on Manager element.\n\nFix\n----\nThe fix is probably to let SessionIdGenerator to implement Lifecycle interface.\n\nThe \"this.sessionIdGenerator = null;\" assignment in ManagerBase.stopInternal() originates from r1044874. The old code before r1044874 was calling \"randoms.clear();\" there. I think it is easier to expose that clear method via Lifecycle.stop().\n\nTechnically, there was no bug in r1044874 itself, as that was just an internal implementation change. It have not exposed SessionIdGenerator as a configuration element.\n\nThe ability configure session id generator via an XML element was added later in r1619056.", "id": 178443, "time": "2014-10-14T12:32:11Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2014-10-14T12:32:11Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 57089, "text": "This has been fixed in 8.0.x and will be included in 8.0.15 onwards.", "id": 178513, "time": "2014-10-16T19:02:10Z", "creator": "markt@apache.org", "creation_time": "2014-10-16T19:02:10Z", "is_private": false, "attachment_id": null}]