[{"count": 0, "tags": [], "bug_id": 5506, "text": "Running Tomat 4.0.1 in standalone mode on Windows NT 4 with JDK 1.3, I get\n\nF:\\jakarta-tomcat-4.0.1\\bin>catalina run\nUsing CATALINA_BASE: f:\\jakarta-tomcat-4.0.1\nUsing CATALINA_HOME: f:\\jakarta-tomcat-4.0.1\nUsing CLASSPATH:     f:\\jakarta-tomcat-4.0.1\\bin\\bootstrap.jar;d:\\jdk1.3\n\\lib\\tools.jar\nUsing JAVA_HOME:     d:\\jdk1.3\nStarting service Tomcat-Standalone\nApache Tomcat/4.0.1\nException during startup processing\njava.lang.reflect.InvocationTargetException: java.lang.NoSuchMethodError\n        at org.apache.catalina.core.StandardContext.postWorkDirectory\n(StandardContext.java:3919)\n        at org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3328)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:612)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n        at org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:307)\n        at org.apache.catalina.core.StandardService.start\n(StandardService.java:388)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:505)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:776)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:681)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:179)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:243)\n\nStandardContext.java:3919 is\n\n        // Set the appropriate servlet context attribute\n        getServletContext().setAttribute(Globals.WORK_DIR_ATTR, dir);\n\nBarry A Byrne", "id": 9037, "time": "2001-12-19T02:52:39Z", "creator": "barry.byrne@cw.com", "creation_time": "2001-12-19T02:52:39Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "I don't understand how that problem can happen unless there's a version \nmismatch on servlet.jar. ServletContext does have a setAttribute method \n(http://jakarta.apache.org/tomcat/tomcat-4.0-\ndoc/servletapi/javax/servlet/ServletContext.html), and the version of \nservlet.jar distributed with Tomcat is the right one.\n\nThe strange thing is that the servlet API 2.2 already had that call (and I \ncan't remember when it was first introduced).", "is_private": false, "id": 9039, "creation_time": "2001-12-19T03:05:23Z", "time": "2001-12-19T03:05:23Z", "creator": "remm@apache.org", "bug_id": 5506, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 5506, "text": "I am using the servlet.jar that came with the Tomcat 4-0-1 distibution.\nThis contains the Interface ServletContext.\nThis is implemented in the distribution by \norg.apache.catalina.core.ApplicationContext.\n\nI have tried compiling StandardContext.java and get this error:\n(essentially the same thing, I think)\n\nStandardContext.java:3919: cannot resolve symbol\nsymbol  : method setAttribute  (java.lang.String,java.io.File)\nlocation: interface javax.servlet.ServletContext\n         getServletContext().setAttribute(Globals.WORK_DIR_ATTR, dir);\n                              \nI HAVE checked the classpath (several times) and even compiled \nApplicationContext.java into the same directory and updated the classpath (no \ndifference)\n\nI also tried casting the second parameter to Object (no difference).\n\nI have this version of Java:\n\nF:\\jakarta-tomcat-4.0.1\\common\\lib>d:\\jdk1.3\\bin\\java -version\njava version \"1.3.0\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.3.0-C)\nJava HotSpot(TM) Client VM (build 1.3.0-C, mixed mode)\n\nBarry A Byrne", "id": 9046, "time": "2001-12-19T05:49:43Z", "creator": "barry.byrne@cw.com", "creation_time": "2001-12-19T05:49:43Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 5506, "text": "I have installed j2sdk 1.3.1-01 and it now executes and even compiles \ncorrectly.\nThe problem should be assigned to java.sun.com :-)\n\nBarry A Byrne\n\nPS: watch out with j2sdk 1.3.0  !", "id": 9049, "time": "2001-12-19T07:01:32Z", "creator": "barry.byrne@cw.com", "creation_time": "2001-12-19T07:01:32Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "remm@apache.org", "is_private": false, "text": "That's not normal, as JDK 1.3.0 doesn't contain any servlet related classes. \nAre you sure you didn't have some old servlet classes set as a system \nextension, or something like that ?", "id": 9051, "time": "2001-12-19T10:24:22Z", "bug_id": 5506, "creation_time": "2001-12-19T10:24:22Z", "attachment_id": null}]