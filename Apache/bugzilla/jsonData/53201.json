[{"count": 0, "tags": [], "creator": "wgoulet@gmail.com", "text": "Hi,\n\nWhile setting up a forward proxy server in httpd-2.2.16, it wasn't\nimmediately obvious to me from reading docs that I needed to enable\nmod_proxy_connect to enable the forward proxy to handle CONNECT\nrequests for proxying SSL traffic. Plus, the mod_ssl SSLProxyEngine\ndirective could easily be confused as a required component to enable a\nforward proxy to properly proxy SSL requests.\n\nHere are patches I've prepared for mod_ssl.xml and mod_proxy.xml to\nadd additional descriptive text to the <ProxyRequest> directive in\nmod_proxy.xml and <SSLProxyEngine> directive in mod_ssl.xml. They are\napplied to the latest versions of the docs in trunk.\n\nThanks,\nWalter\n\nwgoulet@ubuntu:~/apachepatch$ cat mod_ssl.xml.patch\n--- mod_ssl.xml.trunk    2012-05-01 20:39:23.704643002 -0700\n+++ mod_ssl.xml    2012-05-01 20:39:01.632624877 -0700\n@@ -1736,7 +1736,7 @@\n is usually used inside a <directive module=\"core\"\n type=\"section\">VirtualHost</directive> section to enable SSL/TLS for proxy\n usage in a particular virtual host. By default the SSL/TLS Protocol Engine is\n-disabled for proxy image both for the main server and all configured\nvirtual hosts.</p>\n+disabled for proxy image both for the main server and all configured\nvirtual hosts. Note that the SSLProxyEngine directive should not, in\ngeneral, be included in a virtual host that will be acting as a\nforward proxy (using <Proxy> or <ProxyRequest> directives.\nSSLProxyEngine is not required to enable a forward proxy server to\nproxy SSL/TLS requests.</p>\n <example><title>Example</title>\n <highlight language=\"config\">\n &lt;VirtualHost _default_:443&gt;\n\nwgoulet@ubuntu:~/apachepatch$ cat mod_proxy.xml.patch\n--- mod_proxy.xml.trunk    2012-05-01 20:38:38.448808512 -0700\n+++ mod_proxy.xml    2012-05-01 20:42:01.296343935 -0700\n@@ -562,6 +562,9 @@\n     need also <module>mod_proxy_http</module> or <module>mod_proxy_ftp</module>\n     (or both) present in the server.</p>\n\n+    <p>In order to get the functionality of proxying HTTPS sites, you\n+    need <module>mod_proxy_connect</module> enabled in the server.</p>\n+\n     <note type=\"warning\"><title>Warning</title>\n       <p>Do not enable proxying with <directive\n       module=\"mod_proxy\">ProxyRequests</directive> until you have <a\nwgoulet@ubuntu:~/apachepatch$", "id": 158885, "time": "2012-05-07T16:42:16Z", "bug_id": 53201, "creation_time": "2012-05-07T16:42:16Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "wgoulet@gmail.com", "text": "Created attachment 28744\nPatch to mod_ssl.xml and mod_proxy.xml\n\nAdding patch as an attachment.", "id": 158908, "time": "2012-05-08T17:37:36Z", "bug_id": 53201, "creation_time": "2012-05-08T17:37:36Z", "is_private": false, "attachment_id": 28744}, {"count": 2, "tags": [], "bug_id": 53201, "text": "Thanks. Patch applied.", "id": 160267, "time": "2012-06-26T16:15:17Z", "creator": "rbowen@apache.org", "creation_time": "2012-06-26T16:15:17Z", "is_private": false, "attachment_id": null}]