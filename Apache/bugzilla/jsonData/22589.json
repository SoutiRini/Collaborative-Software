[{"count": 0, "text": "<java \n  classname=\"com.myclass.class\"\n  fork=\"yes\" \n  failonerror=\"true\" \n  output=\"mylog.log\" \n>\n\nI have a Java class that does a deployment task, sending large amounts of text\nto stdout as it proceeds.  This text is never looked at unless it is needed for\ndebugging when the Java class fails for a variety of possible reasons. \nConsequently, I want to be able to log that output to a file and not bother with\nit unless the Java class fails.  Unfortunately, if the Java class fails, the log\nfile is empty.\n\nWhen the output attribute is set, somehow all Java output should be flushed to\nthe file for capture prior to the build failure.", "bug_id": 22589, "is_private": false, "id": 43049, "time": "2003-08-20T14:11:04Z", "creator": "erico@sedonacorp.com", "creation_time": "2003-08-20T14:11:04Z", "tags": [], "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "bodewig@apache.org", "text": "There has been an output delay in the 1.5 series of releases that may be the reason\nthat the stream doesn't get flushed properly.  Could you please try a recent\nnightly build of Ant to see whether the problem still exists there?", "count": 1, "id": 43322, "time": "2003-08-26T11:30:38Z", "bug_id": 22589, "creation_time": "2003-08-26T11:30:38Z", "is_private": false}, {"count": 2, "tags": [], "creator": "conor@apache.org", "attachment_id": null, "text": "You'll have to define what you mean by \"fails\". Ant just runs forked java tasks\nas  external processes. It does not really care how that process terminates in\nterms of how it processes the output of the process.\n\nI'm wondering if the failure in the external java process prevents it from\ngenerating output to capture.\n\nI'm closing as Invalid. If you want to explore further, please reopen and let us\nknow how the external class fails.", "id": 43718, "time": "2003-09-04T12:16:49Z", "bug_id": 22589, "creation_time": "2003-09-04T12:16:49Z", "is_private": false}]