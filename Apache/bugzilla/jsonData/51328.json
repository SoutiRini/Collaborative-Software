[{"count": 0, "tags": [], "bug_id": 51328, "attachment_id": 27119, "text": "Created attachment 27119\nPatch for StringManager\n\nOn some jvms (IBM and GCJ/ jdk1.5 on ppc64, org/apache/catalina/util/StringManager initialization can fail due to a runtime exception when a localstring can't be parsed (e.g, NumberFormatException). The failure can occur during context and session initialization and cause a complete failure to deploy a webapp. A patch is attached.", "id": 146904, "time": "2011-06-06T19:11:34Z", "creator": "dknox@redhat.com", "creation_time": "2011-06-06T19:11:34Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 51328, "text": "What exactly error and stacktrace you are observing?\n\nI do not quite get it where invalid values can come from. It it a real use case? Why there is no MissingResourceException?\n\n\nThere is try/catch in the StringManager constructor already. Any additional error handling may go there.\n\n\nBTW,\n1) The proposed patch is wrong (it does not update managers hashtable, it catches too much - it should not catch Errors) and it does not respect code formatting.\n2) GCJ has known issues and is certainly not recommended for production environments, as was mentioned several times on the users@ list.", "id": 146906, "time": "2011-06-06T21:01:15Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2011-06-06T21:01:15Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 51328, "text": "No response to Konstantin's questions and since gcj is known to have all sorts of issues, resolving this as invalid since it appears to be (another) gcj issue.", "id": 147272, "time": "2011-06-20T13:16:56Z", "creator": "markt@apache.org", "creation_time": "2011-06-20T13:16:56Z", "is_private": false, "attachment_id": null}]