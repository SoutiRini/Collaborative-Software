[{"count": 0, "tags": [], "creator": "stefanf@althingi.is", "text": "I would like to specify a relativeTo attribute to the pathconvert task. \n \nThis would return the pathset with relative paths from a specific directory.  \nThis would be useful for example in setting the classpath entry in a jar \nmanifest file: \n \n<property name=\"lib.dir\" location=\"lib\"/> \n \n<target name=\"foo\"> \n        <!-- Create a property that contains all the libraries  \n              (apart from the JBoss ones) that need to be put  \n              in the Class-Path attribute of the EJB jar manifest --> \n \n        <fileset id=\"ejb.lib\" dir=\"${lib.dir}\"  \n                       includes=\"*.jar\" excludes=\"*jboss*\"/> \n \n        <!-- \n             It would be very good to be able to specify a  \n             relativeTo attribute to the pathconvert task and supply  \n             a pathname to which the converted path would be relative  \n             to.  The output would then be for example: \n               Relative to ${basedir}: \"lib/foo.jar lib/bar.jar\" \n               Relative to ${basedir}/lib: \"foo.jar bar.jar\" \n               Relative to ${basedir}/lib/baz: \"../foo.jar ../bar.jar\" --> \n        <pathconvert property=\"ejb.lib.prop\" pathsep=\" \"  \n                       refid=\"ejb.lib\"> \n            <!-- The trailing slash is necessary because otherwise I'll \n                 end up with something like \"/foo.jar\" which will be \n                 regarded as an absolute path.  This will also only work \n                 on linux because I'm using the / character... I'll change \n                 it so that it uses the native path seperator char. --> \n            <map from=\"${lib.dir}/\" to=\"\"/> \n        </pathconvert> \n \n        <!-- Create the server side EJB jar --> \n        <jar destfile=\"${dist.dir}/${ejb.file.name}\" basedir=\"${build.dir}\"> \n            <metainf dir=\"${ejb.descriptors.src.dir}\" includes=\"ejb-jar.xml\"/> \n            <manifest> \n                <attribute name=\"Class-Path\" value=\"${ejb.lib.prop}\"/> \n            </manifest> \n        </jar> \n</target>", "id": 44938, "time": "2003-10-01T11:24:03Z", "bug_id": 23539, "creation_time": "2003-10-01T11:24:03Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 23539, "attachment_id": null, "text": "This should be a non-issue with modern (since 1.6.2) <mapper> support in\n<pathconvert>.", "id": 87789, "time": "2006-04-11T21:14:12Z", "creator": "mbenson@apache.org", "creation_time": "2006-04-11T21:14:12Z", "is_private": false}]