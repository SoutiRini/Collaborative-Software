[{"count": 0, "tags": [], "bug_id": 51687, "is_private": false, "text": "The sun.java2d.Disposer class, when loaded, starts an endless daemon thread that can inherit the WebappClassLoader as its context loader. This will cause a leak when the webapp is unloaded.\n\nIt would be useful if JreMemoryLeakPreventionListener could load this class to prevent the leak.", "id": 148706, "time": "2011-08-19T14:41:36Z", "creator": "mpol@meep.pl", "creation_time": "2011-08-19T14:41:36Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 51687, "text": "Which daemon thread?\n\nIs this the same as bug #51688?", "count": 1, "id": 148714, "time": "2011-08-19T16:51:54Z", "creator": "chris@christopherschultz.net", "creation_time": "2011-08-19T16:51:54Z", "is_private": false}, {"count": 2, "tags": [], "creator": "mpol@meep.pl", "attachment_id": null, "id": 148743, "time": "2011-08-22T08:44:15Z", "bug_id": 51687, "creation_time": "2011-08-22T08:44:15Z", "is_private": false, "text": "I do not think so. It is a thread named \"Java2D Disposer\", created in the static initializer of the sun.java2d.Disposer class."}, {"count": 3, "tags": [], "creator": "chris@christopherschultz.net", "attachment_id": null, "id": 148753, "time": "2011-08-22T13:50:27Z", "bug_id": 51687, "creation_time": "2011-08-22T13:50:27Z", "is_private": false, "text": "Can you post minimal code to cause this thread to be created?\n\nI've just added a fix for that other, somewhat related, bug and I'd be happy to add this as well."}, {"count": 4, "tags": [], "bug_id": 51687, "attachment_id": null, "id": 148754, "creation_time": "2011-08-22T14:12:16Z", "time": "2011-08-22T14:12:16Z", "creator": "mpol@meep.pl", "text": "The exact code that causes it in the webapp at hand is a\nsun.java2d.Disposer.getQueue() call\nsomewhere in the standard JRE library,\nbut actually just anything that loads the class, even Class.forName(\"sun.java2d.Disposer\"), is enough.", "is_private": false}, {"count": 5, "tags": [], "bug_id": 51687, "text": "Fixed in trunk, 7.0.x branch. Will be included in 7.0.22 onward.", "id": 149541, "time": "2011-09-20T20:18:41Z", "creator": "chris@christopherschultz.net", "creation_time": "2011-09-20T20:18:41Z", "is_private": false, "attachment_id": null}]