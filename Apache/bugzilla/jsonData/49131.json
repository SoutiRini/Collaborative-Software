[{"count": 0, "tags": [], "creator": "apache@misc.lka.org.lu", "is_private": false, "id": 136191, "attachment_id": null, "bug_id": 49131, "creation_time": "2010-04-15T17:50:36Z", "time": "2010-04-15T17:50:36Z", "text": "We've got a virtual host set up where all requests are redirected to a cgi script using SetAction\n\n<Virtualhost *:80>\n        ServerName mytest\n        DocumentRoot /var/www/mytest\n\n        Options +ExecCGI\n        Action all /index.cgi virtual\n        <Location /index.cgi>\n                SetHandler cgi-script\n        </Location>\n        SetHandler all\n</Virtualhost>\n\n... where index.cgi is just a small example that prints the environment\n#!/bin/sh\n\necho Content-Type: text/plain\necho\nprintenv\n\n\nThis works ok for small URLs such as\n\nhttp://mytest/abc.html\n\nHowever, for very long URLs, weird stuff happens. Often we get a 404, and sometimes a 403.\n\nhttp://mytest/01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789\n\nIt really looks like some kind of buffer overrun...\n\nSame thing with RewriteRule:\n\n<Virtualhost *:80>\n        ServerName mytest\n        DocumentRoot /var/www/mytest\n\n        RewriteEngine on\n        RewriteRule /.* /index.cgi [L]\n</Virtualhost>\n\nand:\n\n<Virtualhost *:80>\n        ServerName mytest\n        DocumentRoot /var/www/mytest\n\n        RedirectMatch /............* /index.cgi\n</Virtualhost>"}, {"count": 1, "tags": [], "bug_id": 49131, "text": "When I try this, I see a similar problem, but always a 403. My error log says\n\n[Thu Jul 01 14:59:23.126222 2010] [error] [pid 2065:tid 139906479290128] [client ::1:35270] (36)File name too long: access to /aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaassssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssaaaaaaaaaaaabcdefghijklm failed\n\n\nSo, it seems to me that something is \"stat\"ing names that really aren't files. Do you see a similar error in your logs?", "id": 138072, "time": "2010-07-01T17:13:42Z", "creator": "zwoop@apache.org", "creation_time": "2010-07-01T17:13:42Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 49131, "is_private": false, "text": "I do indeed get something similar:\n\n[Sun Jul 11 23:18:11 2010] [error] [client 127.0.0.3] (36)File name too long: access to /01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 failed", "id": 138355, "time": "2010-07-11T17:26:43Z", "creator": "apache@misc.lka.org.lu", "creation_time": "2010-07-11T17:26:43Z", "attachment_id": null}]