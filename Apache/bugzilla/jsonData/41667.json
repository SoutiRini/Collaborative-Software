[{"count": 0, "text": "Fop-0.93 uses its internal TIFFImage reader, and I have encountered problems\nwith it:\n- tiff is compressed using group4 compression\n- I include the tiff in a generated PDF by using external-graphic in my .fo file\n\nThe resulting image is corrupt (size wrong, extra white lines in the middle of\nthe image, like for a broken interlaced file).\n\nUsing JAI ImageIO the generated PDF looks ok. Using JAI only, the generated PDF\nlooks ok, but the size of the image is wrong.\n\nThe imageprovider being used is hardcoded in the ImageFactory constructor. This\nshould be overridable. (eg: a setting in FOUserAgent).", "bug_id": 41667, "attachment_id": null, "id": 99608, "time": "2007-02-21T02:32:59Z", "creator": "edwin.torok@level7.ro", "creation_time": "2007-02-21T02:32:59Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 41667, "attachment_id": 19617, "id": 99610, "time": "2007-02-21T02:37:25Z", "creator": "edwin.torok@level7.ro", "creation_time": "2007-02-21T02:37:25Z", "is_private": false, "text": "Created attachment 19617\nUse JAI ImageIO as default\n\nI have temporarely used this patch to use JAI ImageIO by default.\nOf course this assumes you have jai_imageio.jar on classpath, and fails\notherwise.\n\nA better solution could be to use jai_imageio/jai only if the jar is available\non classpath. IOW if an imageprovider can't deal with an image, use the next\none in the list.\n\nCurrently if ImageIO is the first one, and you don't have jai_imageio\navailable, the loading of fop's ImageIO wrapper succeeds, but\nFopImage.loadDimensions() fails."}, {"count": 2, "text": "Hmm, TIFFs with Group 4 compression are supposed to work. Any chance you could\nattach/send the TIFF so I can take a look when I've got time?\n\nBTW, it is planned to redesign the whole image package. This will improve the\nsituation a lot and I plan to add facilities to make the image providers easily\nconfigurable.", "bug_id": 41667, "attachment_id": null, "id": 99692, "time": "2007-02-22T10:44:41Z", "creator": "jeremias@apache.org", "creation_time": "2007-02-22T10:44:41Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 41667, "attachment_id": 19632, "text": "Created attachment 19632\ntiff images to reproduce bug\n\nI can't send you the original pictures due to copyright issues. \n\nHowever we have discovered what is different on tiffs that don't work, and have\ncreated 2 sample tiffs for you: 001.tif works with fop, 002.tif doesn't work\nwith fop.\n\nI have used fop-0.93, and created works/notworks.pdf like this:\nedwin@edwin-t-new:~/fopp$ sh ./fop works.fo -pdf works.pdf\nedwin@edwin-t-new:~/fopp$ sh ./fop notworks.fo -pdf notworks.pdf\n\nOpen notworks.pdf, and compare it with works.pdf. \n\nImages 001.tif and 002.tif are the same, except for the pixel aspect ratio.\n\nThe problem is with pixel aspect ratio. When pixel aspect ratio is square, fop\nhandles the image correctly. When pixel aspect ratio is custom (like for fax\nimages), fop doesn't handle the image correctly. The pixel aspect ratio should\nbe square for proper viewing.\n\n[You can see/change the pixel aspect ratio of a tiff in Photoshop (image->pixel\naspect ratio)]", "id": 99720, "time": "2007-02-23T00:25:29Z", "creator": "edwin.torok@level7.ro", "creation_time": "2007-02-23T00:25:29Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 41667, "attachment_id": null, "text": "I've got another set of files to reproduce this bug with fop-0.93. Using the\nexternal-graphic tag, the bug occurs with a multi-strip tiff (group 4\ncompression). A single-strip copy of the image works. Both files are single-page\ntiffs and otherwise identical. \n\nShould I attach my files? (A4 pages, ~ 260 KB zip with the PDFs)\n", "id": 101021, "time": "2007-03-27T02:38:33Z", "creator": "ab@haessler.com", "creation_time": "2007-03-27T02:38:33Z", "is_private": false}, {"count": 5, "tags": [], "creator": "gadams@apache.org", "text": "resetting P2 open bugs to P3 pending further review", "id": 157499, "time": "2012-04-07T01:43:56Z", "bug_id": 41667, "creation_time": "2012-04-07T01:43:56Z", "is_private": false, "attachment_id": null}]