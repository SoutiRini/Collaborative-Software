[{"count": 0, "tags": [], "bug_id": 38629, "attachment_id": null, "id": 85737, "time": "2006-02-13T12:11:26Z", "creator": "boris@folgmann.de", "creation_time": "2006-02-13T12:11:26Z", "is_private": false, "text": "On a loaded server, I can experience, that when tomcat is restarted, JSPs are\nenabled for http access, before the classloader is fully available. At least\nneeded classes are not immediately available for use as expected.\n\nSymptoms are various class unavailable errors on the first invocations of JSPs.\nNot only the very first invocation, but until the class gets available.\n\nHere are examples for two different class usages that are affected.\nPlease note that all affected classes are stored in WEB-INF/classes/com/folgmann.\n\nJava classes used in <jsp:useBean /> inside JSPs:\n\njava.lang.NoClassDefFoundError: com/folgmann/RefererBean\tat\norg.apache.jsp.paid.sec.postings.list_jsp._jspService(list_jsp.java:220)\tat\norg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94)\tat\njavax.servlet.http.HttpServlet.service(HttpServlet.java:802)\tat\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:324)\tat\norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)\tat\norg.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)\tat\njavax.servlet.http.HttpServlet.service(HttpServlet.java:802)\tat \n[...]\n\nI've got dozens more of these messages, for different classes and different JSPs.\n\nJava classes implementing tag handlers for custom tags:\n\njava.lang.NoClassDefFoundError: com.folgmann.tags.BodyStartTag\tat\norg.apache.jsp.paid.sec.messages.read_jsp.class$(read_jsp.java:151)\tat\norg.apache.jsp.paid.sec.messages.read_jsp._jspService(read_jsp.java:161)\tat\norg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94)\tat\njavax.servlet.http.HttpServlet.service(HttpServlet.java:802)\tat\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:324)\tat\norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)\tat\norg.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)\tat\njavax.servlet.http.HttpServlet.service(HttpServlet.java:802)\tat \n[...]\n\nI've got dozens more of these messages, for different classes and different JSPs.\n\nHaving a close look at all of these error messages shows, that it seems totally\nrandom which class has problems beeing available when JSPs using it are enabled\nfor http access. After some accesses the error messages vanish, because the\nclass seems now to be available."}, {"count": 1, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "text": "How would I go about reproducing this?  If you could submit a test case or test\nweb application, and a load script or whatever you think is appropriate, that'd\nbe nice.", "id": 87951, "time": "2006-04-13T19:14:26Z", "bug_id": 38629, "creation_time": "2006-04-13T19:14:26Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 38629, "attachment_id": null, "id": 109574, "time": "2007-10-22T17:45:02Z", "creator": "markt@apache.org", "creation_time": "2007-10-22T17:45:02Z", "is_private": false, "text": "Without steps to reproduce we can't do anything."}]