[{"count": 0, "tags": [], "text": "Setup: \nAdded URIEncoding=\"UTF-8\" useBodyEncodingForURI=\"true\" to server.xml and also\nused  -Dfile.encoding=UTF-8 java option(jdk1.5) in tomcat startup.  I have also\ndefined a filter in web.xml which sets the encoding to UTF-8 on every incoming\nrequest.\n\nMy page uses a jsp page directive to display  international character which\nworks correctly. However When i submit international characters from the the\nform page using POST my struts action class does not get the correct string.\nWhen i use \"GET\" it works correctly.\n\nI have googled for help and tried all options (filter, vm flag, connector\nsettings) but not found a solution yet.", "is_private": false, "id": 95796, "creator": "sriram.easwaran@sas.com", "time": "2006-11-13T14:52:52Z", "bug_id": 40964, "creation_time": "2006-11-13T14:52:52Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 19122\nWorking UTF-8 JSP \n\nThis attachment contains a JSP that allows posting of text in any character set\n(I use random Arabic and/or Chinese characters to test it) and then echos them\nback to the client.", "attachment_id": 19122, "id": 95804, "creator": "markt@apache.org", "time": "2006-11-13T16:52:05Z", "bug_id": 40964, "creation_time": "2006-11-13T16:52:05Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 40964, "attachment_id": null, "text": "The demo JSP attached shows that this functionality works. It looks like you\nhave a struts configuration issue or possibly a struts bug.\n\nI have tested this area extensively in the past and haven't found a bug here for\nquite some time.\n\nThe tomcat users or struts users mailing lists are the right place to get\nfurther help with this.", "id": 95805, "time": "2006-11-13T16:57:24Z", "creator": "markt@apache.org", "creation_time": "2006-11-13T16:57:24Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 40964, "text": "I check the form parameter value in a filter even before it hits my struts\nservlet and the request encoding is not set to UTF-8 (specified in my jsp just\nlike your example). Some peope have reported that the FormAuthenticator class\ndoes not honor the encoding set on the jsp when it reconstructs the request. Is\nthere any way i can augment or work around this?\n\nDoes the example jsp you have go through the FormAuthenticator class?", "count": 3, "id": 95836, "time": "2006-11-14T09:18:42Z", "creator": "sriram.easwaran@sas.com", "creation_time": "2006-11-14T09:18:42Z", "is_private": false}, {"count": 4, "tags": [], "creator": "markt@apache.org", "text": "Yes, the test JSP works with form authentication enabled.\n\nWherever the bug is, it doesn't appear to be in Tomcat. As I said before, the\nStruts / Tomcat users lists are the right place to get help.", "id": 95853, "time": "2006-11-14T18:42:20Z", "bug_id": 40964, "creation_time": "2006-11-14T18:42:20Z", "is_private": false, "attachment_id": null}]