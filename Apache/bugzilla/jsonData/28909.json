[{"count": 0, "attachment_id": null, "creator": "George.Lindholm@ubc.ca", "is_private": false, "id": 57217, "time": "2004-05-11T18:28:28Z", "bug_id": 28909, "creation_time": "2004-05-11T18:28:28Z", "tags": [], "text": "Apaches (2.0.49) error_log fills up with:\n\n[Tue May 11 11:16:49 2004] [error] channelApr.receive(): Error receiving message\nbody -1 131\n[Tue May 11 11:16:49 2004] [error] workerEnv.processCallbacks() Error reading reply\n[Tue May 11 11:16:49 2004] [error] ajp13.service() ajpGetReply recoverable error\n120000\n\nNo problems reported by the browser.\n\n## workers2.properties\n[logger]\nlevel=ERROR\n\n[config:]\ndebug=0\ndebugEnv=0\nfile=${serverRoot}/conf/workers2.properties\n\n[shm:]\nfile=${serverRoot}/logs/jk2.shm\nsize=8192\ndebug=0\ndisabled=0\nslots=500\ninfo=Scoreboard. Required for reconfiguration and status with multiprocess servers\n\n[uriMap:]\ninfo=Maps the requests. Options: debug\ndebug=0\n\n[workerEnv:]\ninfo=Global server options\ntiming=1\ndebug=0\n# Default Native Logger (apache2 or win32 )\n# can be overriden to a file logger, useful\n# when tracing win32 related issues\n#logger=logger.file:0\n\n[lb:lb]\ninfo=Default load balancer.\ndebug=0\n\n[status:]\ninfo=Status worker, displays runtime informations\n\n   George"}, {"count": 1, "tags": [], "bug_id": 28909, "attachment_id": null, "id": 57219, "time": "2004-05-11T18:43:34Z", "creator": "George.Lindholm@ubc.ca", "creation_time": "2004-05-11T18:43:34Z", "is_private": false, "text": "I Decided to truss the proccess to see what happens:\n\naccept(4, 0x0027AAF4, 0x0027AB14, 1)            = 13\nlwp_mutex_unlock(0xFEC60000)                    = 0\nlwp_park(0x00000000, 0)                         = 0\nlwp_unpark(100, 1)                              = 0\nlwp_mutex_lock(0xFEC60000)                      = 0\nread(13, \" G E T   / m o n i t o r\".., 8000)    = 246\ngetpid()                                        = 2341 [2338]\nwrite(14, \"12 401 +0202\\0\\b H T T P\".., 303)    = 303\nread(14, 0x0028CA68, 4)                         Err#131 ECONNRESET\nread(14, 0x0028CA6C, 2)                         = 0\nwrite(11, \" [ T u e   M a y   1 1  \".., 93)     = 93\nwrite(11, \" [ T u e   M a y   1 1  \".., 84)     = 84\nwrite(11, \" [ T u e   M a y   1 1  \".., 88)     = 88\nclose(14)                                       = 0\nso_socket(26, 2, 0, \"\", 1)                      = 14\nconnect(14, 0x00173A74, 32, 1)                  Err#128 ENETUNREACH\nclose(14)                                       = 0\nso_socket(2, 2, 0, \"\", 1)                       = 14\nconnect(14, 0x00173ACC, 16, 1)                  = 0\nwrite(14, \"12 401 +0202\\0\\b H T T P\".., 303)    = 303\nread(14, \" A B\\087\", 4)                         = 4\nread(14, \"04\\0C8\\002 O K\\0\\003\\0\\n\".., 135)     = 135\nread(14, \" A B1B ,\", 4)                         = 4\nread(14, \"031B ( < ! D O C T Y P E\".., 6956)    = 6956\nwritev(13, 0xF877B190, 2)                       = 7205\nread(14, \" A B\\002\", 4)                         = 4\nread(14, \"0501\", 2)                             = 2\n\n\nYet when I truss the JVM I see:\nread(11, \"12 401 +0202\\0\\b H T T P\".., 2048)    = 303\nstat64(\"/ut04/portal/prod/myUBC2/webapps/ROOT/monitor/index.jsp\", 0xBFF7DE80) = 0\naccess(\"/ut04/portal/prod/myUBC2/webapps/ROOT/monitor/index.jsp\", 4) = 0\nresolvepath(\"/ut04/portal/prod/myUBC2/webapps/ROOT/monitor/index.jsp\",\n\"/ut04/portal/prod/myUBC2/webapps/ROOT/monitor/in\ndex.jsp\", 1024) = 55\nstat64(\"/ut04/portal/prod/myUBC2/webapps/ROOT/monitor/index.jsp\", 0xBFF7E038) = 0\nstat64(\"/ut04/portal/prod/myUBC2/webapps/ROOT/monitor/index.jsp\", 0xBFF7E038) = 0\nstat64(\"/ut04/portal/prod/myUBC2/webapps/ROOT/localhost/monitor/index.jsp\",\n0xBFF7DFB0) Err#2 ENOENT\nlwp_cond_signal(0x0002D2D8)                     = 0\nlwp_cond_wait(0x0002D2D8, 0x0002D2C0, 0xF9B7FD30) = 0\nlwp_cond_broadcast(0x0002D340)                  = 0\nlwp_cond_wait(0x0002D340, 0x0002D328, 0x00000000) = 0\nlwp_mutex_wakeup(0x0002D328)                    = 0\nlwp_mutex_lock(0x0002D328)                      = 0\nstat64(\"/ut04/portal/prod/myUBC2/work/_/org/apache/jsp/monitor\", 0xBFF7E1C8) = 0\nstat64(\"/ut04/portal/prod/myUBC2/work/_/org/apache/jsp/monitor/index_jsp.class\",\n0xBFF7E368) = 0\nstat64(\"/ut04/portal/prod/myUBC2/work/_/org/apache/jsp/monitor/index_jsp.class\",\n0xBFF7E498) = 0\nread(10, \"FA F9A l16 u7FFCECF7 D y\".., 16)      = 16\nwrite(15, \" 1 3 7 . 8 2 . 2 7 . 1 4\".., 90)     = 90\nsend(11, \" A B\\08704\\0C8\\002 O K\\0\".., 139, 0)  = 139\nsend(11, \" A B1B ,031B ( < ! D O C\".., 6960, 0) = 6960\npoll(0xC127FD48, 0, 50)                         = 0\nsend(11, \" A B\\0020501\", 6, 0)                  = 6\n\n\n\nSo why is mod_jk2 seeing the two read() errors (ECONNRESET,ENETUNREACH)\nwhen there are no errors in the JVM?\n\nIs this a solaris bug?\n\n  George \nSo is this a Solaris issue?\n"}, {"count": 2, "attachment_id": null, "creator": "corporate_gadfly@hotmail.com", "is_private": false, "id": 59141, "time": "2004-06-11T23:47:08Z", "bug_id": 28909, "creation_time": "2004-06-11T23:47:08Z", "tags": [], "text": "Hi George,\n\nThis is definitely not a Solaris issue only as I'm seeing it on Linux. I'm using\nhttpd 2.0.49, jk2 2.0.4, tomcat 5.0.24."}, {"count": 3, "tags": [], "bug_id": 28909, "attachment_id": null, "text": "George and Haroon: I suggest raising this issue on the tomcat-user mailing list \nif you're still suffering from it.  It might be a bug in tomcat proper, in one \nof the connector modules, in the compilation of the connectors for your \nplatform, or somewhere else along the way.  I certainly have no clue.\n\nBut what we try to do is limit bugzilla to be an issue reporting and fixing \nforum, rather than long discussions about possible issues.  I will close this \nitem for now.  If we find via mailing list discussions or another avenue that \nit is indeed a tomcat bug, and we have a proposed solution or further \ninformation, please feel free to reopen this issue.  Thanks ;)", "id": 59324, "time": "2004-06-16T15:55:15Z", "creator": "yoavs@computer.org", "creation_time": "2004-06-16T15:55:15Z", "is_private": false}]