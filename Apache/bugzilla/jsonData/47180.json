[{"count": 0, "tags": [], "bug_id": 47180, "attachment_id": null, "text": "We are running Apache 2.2 on Solaris 10 with the following SSL cache settings:-\n\nSSLSessionCache         dbm:/usr/local/apache2/logs/ssl_scache\nSSLSessionCacheTimeout  300\n\nWe have connections from clients using client certificates for authentication. These connections are programs rather than interactive. As such each connection exists for a single discrete request.\n\nThe session cache is checked each SSLSessionCacheTimeout seconds for expired SSL session information. This is performed by all httpd processes independently. This check consists of at least one sequential search of the DBM file. During this all other SSL operations are blocked.\n\nWe have seen that under load the size of the DBM file grow to between 1 and 2 GB. As the file grows in size it takes longer to traverse it and the server suffers intermittent performance issues. Once the time to traverse the file exceeds the SSLSessionCacheTimeout the server responds to requests at the rate of one per SSLSessionCacheTimeout.\n\nIt is possible to workaround this by disabling the session cache or changing to use shared memory.", "id": 126930, "time": "2009-05-11T01:50:29Z", "creator": "mick.sheppard@cpp.co.uk", "creation_time": "2009-05-11T01:50:29Z", "is_private": false}]