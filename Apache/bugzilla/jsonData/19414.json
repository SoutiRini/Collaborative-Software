[{"count": 0, "attachment_id": null, "bug_id": 19414, "text": "We have recently had a web app fail due to corrupt class files for some of the \njsp pages used by the app (log file extract at end of description).\n\nThe failure has only occurred once for each of 3 different jsp pages.\nIn each case, re-accessing the page after renaming the corrupt class file (in \nthe work dir) resulted in the page being successfully displayed.\n\nThe corresponding valid and corrupt class files have the same length.\nFor 2 of the corrupt files, the mismatch occurred on the first byte of the file.\nFor the 3rd corrupt file, the mismatch occurred after the first 8K bytes.\n\nI can't reproduce the problem, even using the original environment.\n\nLooking at the localhost log file, it appears that the three pages are being \ncompiled as the result of the one login request.\nThe log msgs span a period of about 2 mins.\n\nThe relevant extract from the log:\n2003-04-28 16:10:22 StandardHost[localhost]: Mapping request \nURI '/wpc/servlet/WPCS/en/html/login'\n2003-04-28 16:10:22 StandardHost[localhost]:   Trying the longest context path \nprefix\n2003-04-28 16:10:22 StandardHost[localhost]:  Mapped to context '/wpc'\n2003-04-28 16:10:22 StandardContext[/wpc]: Mapping contextPath='/wpc' with \nrequestURI='/wpc/servlet/WPCS/en/html/login' and \nrelativeURI='/servlet/WPCS/en/html/login'\n2003-04-28 16:10:22 StandardContext[/wpc]:   Trying exact match\n2003-04-28 16:10:22 StandardContext[/wpc]:   Trying prefix match\n2003-04-28 16:10:22 StandardContext[/wpc]:  Mapped to servlet 'WPCS' with \nservlet path '/servlet/WPCS' and path info '/en/html/login' and update=true\n2003-04-28 16:10:22 StandardContext[/wpc]: Mapping contextPath='/wpc' with \nrequestURI='/wpc/en/html/wpc.jsp' and relativeURI='/en/html/wpc.jsp'\n2003-04-28 16:10:22 StandardContext[/wpc]:   Trying exact match\n2003-04-28 16:10:22 StandardContext[/wpc]:   Trying prefix match\n2003-04-28 16:10:22 StandardContext[/wpc]:   Trying extension match\n2003-04-28 16:10:22 StandardContext[/wpc]:  Mapped to servlet 'jsp' with \nservlet path '/en/html/wpc.jsp' and path info 'null' and update=true\n2003-04-28 16:10:23 StandardHost[localhost]: Mapping request \nURI '/wpc/en/html/menu.jsp'\n2003-04-28 16:10:23 StandardHost[localhost]:   Trying the longest context path \nprefix\n2003-04-28 16:10:23 StandardHost[localhost]:  Mapped to context '/wpc'\n2003-04-28 16:10:23 StandardContext[/wpc]: Mapping contextPath='/wpc' with \nrequestURI='/wpc/en/html/menu.jsp' and relativeURI='/en/html/menu.jsp'\n2003-04-28 16:10:23 StandardContext[/wpc]:   Trying exact match\n2003-04-28 16:10:23 StandardContext[/wpc]:   Trying prefix match\n2003-04-28 16:10:23 StandardContext[/wpc]:   Trying extension match\n2003-04-28 16:10:23 StandardContext[/wpc]:  Mapped to servlet 'jsp' with \nservlet path '/en/html/menu.jsp' and path info 'null' and update=true\n2003-04-28 16:10:23 StandardWrapperValve[jsp]: Servlet.service() for servlet \njsp threw exception\njavax.servlet.ServletException: org/apache/jsp/menu_jsp (Bad magic number)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:249)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:256)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2415)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:172)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:594)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:392)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:565)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:619)\n\tat java.lang.Thread.run(Thread.java:536)\n----- Root Cause -----\njava.lang.ClassFormatError: org/apache/jsp/menu_jsp (Bad magic number)\n\tat java.lang.ClassLoader.defineClass0(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:502)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:431)\n\tat org.apache.jasper.servlet.JasperLoader.loadClass\n(JasperLoader.java:215)\n\tat org.apache.jasper.servlet.JasperLoader.loadClass\n(JasperLoader.java:131)\n\tat org.apache.jasper.JspCompilationContext.load\n(JspCompilationContext.java:497)\n\tat org.apache.jasper.servlet.JspServletWrapper.getServlet\n(JspServletWrapper.java:150)\n\tat org.apache.jasper.compiler.Compiler.isOutDated(Compiler.java:440)\n\tat org.apache.jasper.compiler.Compiler.isOutDated(Compiler.java:390)\n\tat org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:471)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:190)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:295)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:256)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2415)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:172)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:594)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:392)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:565)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:619)\n\tat java.lang.Thread.run(Thread.java:536)\n\n2003-04-28 16:10:24 StandardHost[localhost]: Mapping request \nURI '/wpc/en/html/footer.jsp'\n2003-04-28 16:10:24 StandardHost[localhost]:   Trying the longest context path \nprefix\n2003-04-28 16:10:24 StandardHost[localhost]:  Mapped to context '/wpc'\n2003-04-28 16:10:24 StandardContext[/wpc]: Mapping contextPath='/wpc' with \nrequestURI='/wpc/en/html/footer.jsp' and relativeURI='/en/html/footer.jsp'\n2003-04-28 16:10:24 StandardContext[/wpc]:   Trying exact match\n2003-04-28 16:10:24 StandardHost[localhost]: Mapping request \nURI '/wpc/en/html/settings.jsp'\n2003-04-28 16:10:24 StandardHost[localhost]:   Trying the longest context path \nprefix\n2003-04-28 16:10:24 StandardHost[localhost]:  Mapped to context '/wpc'\n2003-04-28 16:10:24 StandardContext[/wpc]: Mapping contextPath='/wpc' with \nrequestURI='/wpc/en/html/settings.jsp' and relativeURI='/en/html/settings.jsp'\n2003-04-28 16:10:24 StandardContext[/wpc]:   Trying exact match\n2003-04-28 16:10:24 StandardContext[/wpc]:   Trying prefix match\n2003-04-28 16:10:24 StandardContext[/wpc]:   Trying extension match\n2003-04-28 16:10:24 StandardContext[/wpc]:  Mapped to servlet 'jsp' with \nservlet path '/en/html/settings.jsp' and path info 'null' and update=true\n2003-04-28 16:10:24 StandardContext[/wpc]:   Trying prefix match\n2003-04-28 16:10:24 StandardContext[/wpc]:   Trying extension match\n2003-04-28 16:10:24 StandardContext[/wpc]:  Mapped to servlet 'jsp' with \nservlet path '/en/html/footer.jsp' and path info 'null' and update=true\n2003-04-28 16:10:24 StandardWrapperValve[jsp]: Servlet.service() for servlet \njsp threw exception\njavax.servlet.ServletException: org/apache/jsp/settings_jsp (Local variable \nname has bad constant type)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:249)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:256)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2415)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:172)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:594)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:392)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:565)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:619)\n\tat java.lang.Thread.run(Thread.java:536)\n----- Root Cause -----\njava.lang.ClassFormatError: org/apache/jsp/settings_jsp (Local variable name \nhas bad constant type)\n\tat java.lang.ClassLoader.defineClass0(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:502)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:431)\n\tat org.apache.jasper.servlet.JasperLoader.loadClass\n(JasperLoader.java:215)\n\tat org.apache.jasper.servlet.JasperLoader.loadClass\n(JasperLoader.java:131)\n\tat org.apache.jasper.JspCompilationContext.load\n(JspCompilationContext.java:497)\n\tat org.apache.jasper.servlet.JspServletWrapper.getServlet\n(JspServletWrapper.java:150)\n\tat org.apache.jasper.compiler.Compiler.isOutDated(Compiler.java:440)\n\tat org.apache.jasper.compiler.Compiler.isOutDated(Compiler.java:390)\n\tat org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:471)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:190)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:295)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:256)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2415)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:172)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:594)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:392)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:565)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:619)\n\tat java.lang.Thread.run(Thread.java:536)\n\n2003-04-28 16:10:24 StandardWrapperValve[jsp]: Servlet.service() for servlet \njsp threw exception\njavax.servlet.ServletException: org/apache/jsp/footer_jsp (Bad magic number)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:249)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:256)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2415)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:172)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:594)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:392)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:565)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:619)\n\tat java.lang.Thread.run(Thread.java:536)\n----- Root Cause -----\njava.lang.ClassFormatError: org/apache/jsp/footer_jsp (Bad magic number)\n\tat java.lang.ClassLoader.defineClass0(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:502)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:431)\n\tat org.apache.jasper.servlet.JasperLoader.loadClass\n(JasperLoader.java:215)\n\tat org.apache.jasper.servlet.JasperLoader.loadClass\n(JasperLoader.java:131)\n\tat org.apache.jasper.JspCompilationContext.load\n(JspCompilationContext.java:497)\n\tat org.apache.jasper.servlet.JspServletWrapper.getServlet\n(JspServletWrapper.java:150)\n\tat org.apache.jasper.compiler.Compiler.isOutDated(Compiler.java:440)\n\tat org.apache.jasper.compiler.Compiler.isOutDated(Compiler.java:390)\n\tat org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:471)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:190)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:295)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:256)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2415)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:172)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:594)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:392)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:565)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:619)\n\tat java.lang.Thread.run(Thread.java:536)", "id": 36258, "time": "2003-04-29T04:36:52Z", "creator": "brkelly@nortel.com", "creation_time": "2003-04-29T04:36:52Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 19414, "is_private": false, "id": 36264, "time": "2003-04-29T06:19:55Z", "creator": "remm@apache.org", "creation_time": "2003-04-29T06:19:55Z", "tags": [], "text": "I can't explain nor reproduce this failure. For production deployments, you\nshould precompile your webapps.\nAs this will be next to impossible to debug or reproduce, I don't think this\nwill be either looked into or fixed."}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 55792, "time": "2004-04-14T21:11:49Z", "bug_id": 19414, "creation_time": "2004-04-14T21:11:49Z", "is_private": false, "text": "Closing this based on Remy's comments. If you have a reproducible test case \nplease re-open and attach it to this bug report."}]