[{"count": 0, "tags": [], "bug_id": 1134, "is_private": false, "text": "I have had tomcat running on win2k for about 6 months, but all of a sudden it \nwon't start anymore.  On startup, I get the following:\n\nD:\\Apache\\jakarta-tomcat\\bin>tomcat run\nUsing classpath: \n..\\classes;..\\lib\\webserver.jar;..\\lib\\jasper.jar;..\\lib\\xml.jar;..\\lib\\servlet.\njar;\\lib\\tools.jar;.;D:\\Fame\\Time\nIQ\\lib\\timeiq.jar;D:\\Fame\\TimeIQ\\lib\\TiqEnterprise.jar;D:\\Fame\\TimeIQ\\lib\\TimeIQ\nLicense.jar;D:\\Fame\\TimeIQ\\lib\\jaxp.jar;D:\\Fame\\Ti\nmeIQ\\lib\\parser.jar;C:\\java;C:\\jdk1.3\\lib\\tools.jar;C:\\java\\KavaChart31;C:\\java\\\nKavaChart31\\javachart\\jars\\kcServlet.jar;D:\\apache\n\\jakarta-tomcat\\lib\\servlet.jar;C:\\ssh\\mindterm;C:\\ssh\\mindterm\\mindbright\\dummi\nes;C:\\java\\sybase\\jConnect-5_2\\classes\\jconn2.jar;\nD:\\NetDirect\\JDataConnect\\classes;H:\\inetpub\\wwwroot\\equitec\njava.lang.ClassNotFoundException: \norg/apache/tomcat/service/connector/Ajp12ConnectionHandler\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Compiled Code)\n        at \norg.apache.tomcat.service.SimpleTcpConnector.setProperty(SimpleTcpConnector.java\n:180)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.tomcat.util.xml.MethodSetter.end(Compiled Code)\n        at org.apache.tomcat.util.xml.XmlMapper.matchEnd(Compiled Code)\n        at org.apache.tomcat.util.xml.XmlMapper.endElement(XmlMapper.java:96)\n        at com.sun.xml.parser.Parser.maybeElement(Compiled Code)\n        at com.sun.xml.parser.Parser.content(Compiled Code)\n        at com.sun.xml.parser.Parser.maybeElement(Compiled Code)\n        at com.sun.xml.parser.Parser.content(Compiled Code)\n        at com.sun.xml.parser.Parser.maybeElement(Compiled Code)\n        at com.sun.xml.parser.Parser.content(Compiled Code)\n        at com.sun.xml.parser.Parser.maybeElement(Compiled Code)\n        at com.sun.xml.parser.Parser.parseInternal(Compiled Code)\n        at com.sun.xml.parser.Parser.parse(Parser.java:283)\n        at org.apache.tomcat.util.xml.XmlMapper.readXml(XmlMapper.java:198)\n        at org.apache.tomcat.startup.Tomcat.execute(Tomcat.java:143)\n        at org.apache.tomcat.startup.Tomcat.main(Tomcat.java:163)\nContext log: path=\"/roc\" Adding context path=\"/roc\"  docBase=\"webapps/roc\"\nContext log: path=\"/examples\" Adding context path=\"/examples\"  \ndocBase=\"webapps/examples\"\nContext log: path=\"\" Adding context path=\"\"  docBase=\"webapps/ROOT\"\nContext log: path=\"/test\" Adding context path=\"/test\"  docBase=\"webapps/test\"\nContext log: path=\"/jspBook\" Adding context path=\"/jspBook\"  \ndocBase=\"webapps/jspBook\"\nStarting tomcat. Check logs/tomcat.log for error messages\nStarting tomcat install=\"..\" home=\"D:\\Apache\\jakarta-tomcat\" \nclassPath=\"..\\classes;..\\lib\\webserver.jar;..\\lib\\jasper.jar;..\\lib\\x\nml.jar;..\\lib\\servlet.jar;\\lib\\tools.jar;.;D:\\Fame\\TimeIQ\\lib\\timeiq.jar;D:\\Fame\n\\TimeIQ\\lib\\TiqEnterprise.jar;D:\\Fame\\TimeIQ\\lib\\T\nimeIQLicense.jar;D:\\Fame\\TimeIQ\\lib\\jaxp.jar;D:\\Fame\\TimeIQ\\lib\\parser.jar;C:\\ja\nva;C:\\jdk1.3\\lib\\tools.jar;C:\\java\\KavaChart31;C:\\\njava\\KavaChart31\\javachart\\jars\\kcServlet.jar;D:\\apache\\jakarta-tomcat\\lib\\servl\net.jar;C:\\ssh\\mindterm;C:\\ssh\\mindterm\\mindbright\\\ndummies;C:\\java\\sybase\\jConnect-5_2\\classes\\jconn2.jar;D:\\NetDirect\\JDataConnect\n\\classes;H:\\inetpub\\wwwroot\\equitec\"\nContext log: path=\"/admin\" Automatic context load \ndocBase=\"D:\\Apache\\jakarta-tomcat\\webapps\\admin\"\nContext log: path=\"/admin\" Adding context path=\"/admin\"  \ndocBase=\"D:\\Apache\\jakarta-tomcat\\webapps\\admin\"\nContext log: path=\"/_notes\" Automatic context load \ndocBase=\"D:\\Apache\\jakarta-tomcat\\webapps\\_notes\"\nContext log: path=\"/_notes\" Adding context path=\"/_notes\"  \ndocBase=\"D:\\Apache\\jakarta-tomcat\\webapps\\_notes\"\nFATAL:java.lang.Exception: Invalid ConnectionHandler\njava.lang.Exception: Invalid ConnectionHandler\n        at \norg.apache.tomcat.service.SimpleTcpConnector.start(SimpleTcpConnector.java:133)\n        at org.apache.tomcat.core.ContextManager.start(Compiled Code)\n        at org.apache.tomcat.startup.Tomcat.execute(Tomcat.java:157)\n        at org.apache.tomcat.startup.Tomcat.main(Tomcat.java:163)\n\nIt seems that the class \norg.apache.tomcat.service.connector.Ajp12ConnectionHandler can't be found, but \nit's right there in the classpath that tomcat is spitting out.  The problem \nstarted after I compiled some code and tried to restart tomcat to view the \nchanges - I don't think it's something that I did, but I can't be sure.  I \ndidn't make any changes to any system level stuff (classpath, conf files, etc)\n\nAnyone else have this problem, or have a workaround?", "id": 1618, "time": "2001-03-27T14:47:09Z", "creator": "patr@larocquetrading.com", "creation_time": "2001-03-27T14:47:09Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 1134, "attachment_id": null, "text": "Try reinstalling tomcat, or use a newer version, or provide a reproductible\ntest case.", "id": 1661, "time": "2001-03-31T12:58:00Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-03-31T12:58:00Z", "is_private": false}]