[{"count": 0, "tags": [], "creator": "d.tkacik@mac.com", "is_private": false, "id": 202792, "creation_time": "2017-12-15T11:56:31Z", "time": "2017-12-15T11:56:31Z", "bug_id": 61908, "text": "Hi, \n\nI'm not sure if this is a bug or just a miss-configuration from my side.\n\nThe problem is the following:\n\nI have this custom log defined at the main httpd.conf\n\nLogFormat \"%h (%{X-Forwarded-For}i) %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\n\nIt logs the X-Forwaded-For correctly until I have set the:\n\nRemoteIPHeader X-Forwarded-For\n\nInside our outside of a virtualhost. \n\nWhen RemoteIPHeader X-Forwarded-For is set, apache stops logging the IP.\n\nThanks !", "attachment_id": null}, {"count": 1, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": null, "text": "I think you are observing an expected and documented behavior:\n\n\"The header field is updated to this remaining list of unconfirmed IP addresses, or if all IP addresses were trusted, this header is removed from the request altogether.\"\n\nSee: http://httpd.apache.org/docs/2.4/en/mod/mod_remoteip.html\n\nIf you need further discussion please do not reopen this ticket but instead post to the httpd users list. Only after the discussion there has given clear indication that there is a bug, a ticket in bugzilla should be opened (or this one here reopened).\n\nThanks and regards,\n\nRainer", "id": 202802, "time": "2017-12-15T20:38:56Z", "bug_id": 61908, "creation_time": "2017-12-15T20:38:56Z", "is_private": false}]