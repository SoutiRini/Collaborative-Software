[{"count": 0, "tags": [], "bug_id": 43906, "attachment_id": null, "id": 110735, "time": "2007-11-19T09:52:16Z", "creator": "lavr@ncbi.nlm.nih.gov", "creation_time": "2007-11-19T09:52:16Z", "is_private": false, "text": "SetEnv PATH \"/usr/bin:/bin\"\ndoes not work (it's an undocumented exception among a few more) because of\nspecial treatment in server/util_script.c::ap_add_common_vars(), which always\ntakes PATH as inherited from Apache startup environment.  The startup\nenvironment can be rather \"wide\", and narrowing it down with an appropriate\nSetEnv PATH (as shown) seems like a good security measure.  But to no avail\nwith current implementation.  Note that another commonly used environment,\nclosely related to PATH but only in terms of shared libraries rather than\ncommands, LD_LIBRARY_PATH *can* be overridden with SetEnv directive."}, {"text": "Any news ? A workaround ? This bug makes the User directive really clumsy, since each and every cgi must set the PATH to reach other per-user executables.\n\nAlso notice that not documenting it is a nightmare, since the only googlable documentation relative to SetEnv and PATH is the Apache 1 one, which takes \"SetEnv PATH\" as an example ! Having a regression from 1 to 2 is one thing, hiding it is something else...", "tags": [], "bug_id": 43906, "attachment_id": null, "count": 1, "id": 130936, "time": "2009-10-07T06:34:41Z", "creator": "alexandre.ferrieux@orange-ftgroup.com", "creation_time": "2009-10-07T06:34:41Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 43906, "attachment_id": null, "id": 132984, "time": "2009-12-20T15:09:30Z", "creator": "nick@webthing.com", "creation_time": "2009-12-20T15:09:30Z", "is_private": false, "text": "This is marked \"regression\".  What Apache version behaved differently?  A look at svn suggests this goes back a very long way.\n\nIt seems to me that changing this behaviour could open serious security issues in existing configurations.  What's needed is for the behaviour to be consistent and adequately documented.\n\nI agree it's inconsistent for PATH and LD_LIBRARY_PATH to differ, and in AFAICS what you ask for seems reasonable.  I'll raise this on the dev list."}, {"count": 3, "tags": [], "bug_id": 43906, "attachment_id": null, "id": 138527, "time": "2010-07-19T19:42:09Z", "creator": "nick@webthing.com", "creation_time": "2010-07-19T19:42:09Z", "is_private": false, "text": "Fixed in r965679.\n\nThe thread on dev@ was brief and uncontroversial at http://marc.info/?l=apache-httpd-dev&m=126138054810936&w=2"}, {"count": 4, "tags": [], "creator": "shyran@gmail.com", "attachment_id": null, "text": "We are using apache 2.2.23, but still have this problem of apache not honoring SetEnv PATH. This stops us from using different PATHs for different virtual hosts, since the alternate option of setting the startup envs through envvars can't be set per virtual host. \n\nI can see this but is resolved fixed, but don't see any target milestone on this one. Which version was this fix released in? \n\nThanks.", "id": 175337, "time": "2014-05-20T04:34:22Z", "bug_id": 43906, "creation_time": "2014-05-20T04:34:22Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 43906, "attachment_id": null, "id": 175343, "time": "2014-05-20T11:50:33Z", "creator": "trawick@apache.org", "creation_time": "2014-05-20T11:50:33Z", "is_private": false, "text": "The change is not in the 2.2.x branch.  It is available in all 2.4.x releases."}]