[{"count": 0, "tags": [], "creator": "juergen.hoeller@infoniqa.com", "text": "The following snippet of a JSP using JSTL\n\n<fmt:formatNumber>123456789</fmt:formatNumber>\n<fmt:formatNumber>23456789</fmt:formatNumber>\n\nresults in \"123.456.789\" twice in some Servlet containers.\n\nObviously, the tag body is sometimes not reevaluated in recurring formatNumber \ntags. This works in Tomcat 4.0.4 (Jasper 1 with no tag reuse) but not in 4.1.7 \n(Jasper 2 with tag reuse), so it seems that the tag is not reusable concerning \nthe body. It does not work in Resin 2.1.2 (also with tag reuse) either.\n\nBecause JSP expressions can only be placed in the tag body and not in \"value\" \nparameters, this bug is a show stopper for using the JSTL fmt tags in our \napplication.\n\nRegards,\nJuergen", "id": 20252, "time": "2002-07-26T13:05:54Z", "bug_id": 11204, "creation_time": "2002-07-26T13:05:54Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 11204, "attachment_id": null, "id": 20289, "time": "2002-07-27T00:17:09Z", "creator": "jan.luehe@sun.com", "creation_time": "2002-07-27T00:17:09Z", "is_private": false, "text": "I'm unable to reproduce this problem using Jasper2.\nNote that even with tag reuse enabled, a tag's body always gets (re)evaluated.\n"}, {"count": 2, "tags": [], "creator": "juergen.hoeller@infoniqa.com", "attachment_id": null, "id": 20316, "time": "2002-07-27T19:45:07Z", "bug_id": 11204, "creation_time": "2002-07-27T19:45:07Z", "is_private": false, "text": "This issue IS existent: I can reproduce it in every try, with Tomcat 4.1.7 and \nCaucho's Resin 2.1.3. I have even tried the latest nightly build of the Jakarta \nJSTL: same behavior.\n\nI have also contacted the Tomcat team. Remy Maucherat's answer was:\n<quote>\nIt looks like this tag is not compatible with tag reuse. It is the tag which is\nnon compliant with the specification, not a Jasper 2 bug.\n</quote>\n\nAnd I have contacted Scott Ferguson from Caucho Technologies, the makers of the \nResin Servlet container. Note that the issue occurs with Resin only if I use \nJakarta's JSTL instead of Cauchos's optimized one. Scott's answer was:\n<quote>\nThe Jakarta implementation is buggy.\nIt stores the BodyContent from one tag in the same field variable it uses \nfor 'value'. So the second time the tag is used, the tag thinks the 'value' has \nbeen specified with the old body content.\n</quote>\n\nPlease have an in-depth look at this issue, as it really makes it difficult for \nme to advocate the JSTL in my team. Feel free to contact me, Remy, or Scott for \nfurther details and analysis.\n\nRegards,\nJuergen"}, {"count": 3, "text": "Juergen,\n\nOK, I was able to reproduce your problem this time. I don't\nundertstand why I wasn't able to reproduce it the first time, or maybe\nI was but didn't realize it. ;-)\nMy aplogies.\n\nAnyway, I have just committed a fix for <fmt:formatNumber> and all other fmt\ntags that were suffering from the same problem.\n\n", "bug_id": 11204, "is_private": false, "id": 20377, "time": "2002-07-29T18:51:50Z", "creator": "jan.luehe@sun.com", "creation_time": "2002-07-29T18:51:50Z", "tags": [], "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 11204, "attachment_id": null, "id": 24163, "creation_time": "2002-10-08T23:06:17Z", "time": "2002-10-08T23:06:17Z", "creator": "jan.luehe@sun.com", "text": "*** Bug 13394 has been marked as a duplicate of this bug. ***", "is_private": false}, {"count": 5, "tags": [], "creator": "pierre.delisle@sun.com", "text": "*** Bug 14695 has been marked as a duplicate of this bug. ***", "id": 27361, "time": "2002-12-03T21:14:19Z", "bug_id": 11204, "creation_time": "2002-12-03T21:14:19Z", "is_private": false, "attachment_id": null}]