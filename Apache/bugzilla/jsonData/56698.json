[{"count": 0, "attachment_id": 31793, "bug_id": 56698, "is_private": false, "id": 176233, "time": "2014-07-05T15:16:58Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2014-07-05T15:16:58Z", "tags": [], "text": "Created attachment 31793\nAdd a flag to PersistentManager whether it will save idle sessions once or always\n\nThe PersistentManager will save every Session which has not been accessed since maxIdleBackup time on every round.\n\nThe attached patch will introduce a flag, so that the admin can decide whether he wants to have the old behaviour, or the more efficient one of only saving sessions once, when they were accessed and idle for maxIdleBackup.\n\nThe patch gets a lot simpler, if we just change the behaviour and declare the old one as a bug :)\n\nTomcat 7 has the same problem and I could provide a patch for it, too."}, {"count": 1, "attachment_id": null, "bug_id": 56698, "is_private": false, "id": 176259, "time": "2014-07-06T21:47:42Z", "creator": "markt@apache.org", "creation_time": "2014-07-06T21:47:42Z", "tags": [], "text": "Lets go with the more efficient behaviour. I see no good reason to introduce yet another configuration option just to enable inefficient behaviour to continue. Can you provide the simpler patch?"}, {"count": 2, "tags": [], "bug_id": 56698, "attachment_id": 31798, "id": 176262, "time": "2014-07-07T05:07:19Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2014-07-07T05:07:19Z", "is_private": false, "text": "Created attachment 31798\nPersist sessions only once while lastAccessedTime is not changed\n\nSimpler version of the previous patch. TestCase is included still."}, {"count": 3, "tags": [], "text": "Created attachment 31799\nSimple version of the patch for tomcat 7\n\nSame functionality of the simpler patch for tomcat 7.", "is_private": false, "bug_id": 56698, "id": 176263, "time": "2014-07-07T05:12:33Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2014-07-07T05:12:33Z", "attachment_id": 31799}, {"count": 4, "tags": [], "creator": "markt@apache.org", "text": "Thanks for the report and for the patches.\n\nThis has been fixed in 8.0.x for 8.0.10 onwards and in 7.0.x for 7.0.55 onwards.", "id": 176265, "time": "2014-07-07T13:07:18Z", "bug_id": 56698, "creation_time": "2014-07-07T13:07:18Z", "is_private": false, "attachment_id": null}]