[{"count": 0, "tags": [], "bug_id": 34674, "attachment_id": null, "id": 74268, "time": "2005-04-29T11:39:49Z", "creator": "gblock@ctoforaday.com", "creation_time": "2005-04-29T11:39:49Z", "is_private": false, "text": "A bad DB instance has led to an NPE due to the assumption that fields will be present when, for \nwhatever reason, they may not exist on the target object.  (I've got a corrupted db instance after \nupgrading from 2.1 - not sure how yet)\n\nThe offending stack trace:\njava.lang.NullPointerException\n        at \norg.apache.slide.webdav.method.AbstractWebdavMethod$ResourceInfo.<init>(AbstractWebdavMethod.j\nava:1751\n)\n        at org.apache.slide.webdav.method.GetMethod.executeRequest(GetMethod.java:238)\n        at \norg.apache.slide.webdav.method.AbstractWebdavMethod.executeRedirect(AbstractWebdavMethod.java:\n586)\n        at org.apache.slide.webdav.method.AbstractWebdavMethod.run(AbstractWebdavMethod.java:419)\n        at org.apache.slide.webdav.WebdavServlet.service(WebdavServlet.java:151)\n\n\nThe offending code, from ResourceInfo in AbstractWebdavMethod:\n\n public ResourceInfo(String path, NodeRevisionDescriptor properties) {\n\n            this.path = path;\n            this.exists = true;\n            this.creationDate = properties.getCreationDateAsDate().getTime();\n            this.date = properties.getLastModifiedAsDate().getTime();\n\ngetCreationDateAsDate/getLastModifiedAsDate should either be modified to always return a valid date \nobject, or this code should be modified to deal gracefully with the null.  IMO, as we seem to assume \nthat they're always present, it should be safe to modify NodeRevisionDescriptor, no?"}, {"count": 1, "tags": [], "bug_id": 34674, "attachment_id": 14882, "id": 74270, "time": "2005-04-29T11:47:32Z", "creator": "gblock@ctoforaday.com", "creation_time": "2005-04-29T11:47:32Z", "is_private": false, "text": "Created attachment 14882\nPatch nto NodeRevisionDescriptor to never return a null from getWibbleAsDate() methods.\n\nExample patch attached."}]