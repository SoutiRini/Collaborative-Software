[{"count": 0, "tags": [], "text": "Created attachment 30470\nencoders lifecycle patch\n\nNon of the lifecycle methods (init and destroy) related to the encoders are get called. Here is a patch with extended test case (TestEncodingDecoding). The provides the implementation. (It is a proposal impl.) I think we need CLOSING state checked in WsSession as the decoders destroy are called during that phase and current implementation of checkState() method does not consider this state.\nMark, this time I used the checkstyle.xml found in res folder and hope that at least the sources are in proper shape from syntax point of view.\n\ncheers", "is_private": false, "bug_id": 55127, "id": 167964, "time": "2013-06-22T06:04:48Z", "creator": "nickytd@gmail.com", "creation_time": "2013-06-22T06:04:48Z", "attachment_id": 30470}, {"count": 1, "tags": [], "bug_id": 55127, "attachment_id": 30470, "is_private": false, "id": 167965, "time": "2013-06-22T07:53:49Z", "creator": "nickytd@gmail.com", "creation_time": "2013-06-22T07:53:49Z", "text": "Comment on attachment 30470\nencoders lifecycle patch\n\nwrong set of files please ignore"}, {"count": 2, "attachment_id": 30471, "creator": "nickytd@gmail.com", "is_private": false, "id": 167966, "time": "2013-06-22T08:02:28Z", "bug_id": 55127, "creation_time": "2013-06-22T08:02:28Z", "tags": [], "text": "Created attachment 30471\nencoders lifecycle patch\n\nnew patch set"}, {"count": 3, "tags": [], "bug_id": 55127, "attachment_id": null, "id": 167970, "time": "2013-06-22T14:14:10Z", "creator": "markt@apache.org", "creation_time": "2013-06-22T14:14:10Z", "is_private": false, "text": "Thanks for the patch. A variation of it has been applied to trunk and will be included in 8.0.0 onwards.\n\nI did change a few things but nothing major. The patch was pretty much spot on:\n- passed just an EndpointConfig to setEncoders() for simplicity\n- close() -> doClose() in WsRemoteEndpointImplBase rather than relying on sub-classes calling super.close() (the patch missed one of the sub-classes)\n- fixed a couple of auto-boxing warnings in the test code"}]