[{"count": 0, "text": "If you use TimeBasedRollingPolicy to rollover a log file and the application wasn't running at the time the log file should have rolled, e.g. midnight, the next time the application runs, it appends the log content into the old file rather than roll the log and create a new file.\n\nEVIDENCE:\n1. refer to attached file to see my log4j.xml settings.\n2. The FileNamePattern is 'ApproverSelection_Daily.%d.log.gz', so the log file should roll every day at midnight, or the first time a cron job runs after midnight. For my application, the first time it runs after midnight is 5 minutes after, i.e. 00:05. The ApproverSelection_Daily.log file should have rolled when this app ran at 00:05 to become ApproverSelection_Daily.2009-04-28.log.gz. It did not. Instead, the log entries for 2009-04-29 are still placed in the old log along with 2009-04-28 log entries.\n\n2009-04-29 23:35:22,500  main INFO  finance.access.approver.controller.ApproverSelectionControllerForOneTeam - Reading from JMS.\n2009-04-29 23:35:27,554  main INFO  finance.access.approver.controller.ApproverSelectionControllerForOneTeam - No requests in queue.\n2009-04-29 23:35:27,555  main INFO  finance.access.approver.controller.ApproverSelectionControllerForOneTeam - ApproverSelectionController.main() terminating with default status code\n2009-04-30 00:05:11,997  main INFO  finance.access.approver.controller.ApproverSelectionControllerForOneTeam - Reading from JMS.\n2009-04-30 00:05:25,834  main INFO  finance.access.approver.controller.ApproverSelectionControllerForOneTeam - No requests in queue.\n2009-04-30 00:05:25,835  main INFO  finance.access.approver.controller.ApproverSelectionControllerForOneTeam - ApproverSelectionController.main() terminating with default status code\n\nI've been Googling this issue all day and noticed that the same issue seems to occur in log4j, log4cxx, and logback. I believe the same developer(s) has created all of these, porting the same bug to all of them, so shifting frameworks won't help. I'd very much appreciate your attention on this.", "creator": "dsnewman@sbcglobal.net", "is_private": false, "id": 126637, "time": "2009-04-29T17:44:06Z", "bug_id": 47123, "creation_time": "2009-04-29T17:44:06Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "creator": "werner.heine@steria-mummert.de", "attachment_id": 25897, "text": "Created attachment 25897\nPatch for TimeBasedRollingPolicy\n\nAfter applying this patch, the TimeBasedRollingPolicy will check in the initalize method if an already existing log file has to be rolled before continuing logging", "id": 139143, "time": "2010-08-17T10:31:39Z", "bug_id": 47123, "creation_time": "2010-08-17T10:31:39Z", "is_private": false}]