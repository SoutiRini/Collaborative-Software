[{"count": 0, "tags": [], "text": "Hi Team,\n\nWe have a showstopper in Axis2/WSS4J/Rampart:\nhttp://issues.apache.org/jira/browse/AXIS2-1570\n\nWe have our own DOM3 Implementation based on AXIOM and we need to be able to\nspecify that when a new document gets created in XMLCipher. After a lot of\nanalysis, the simplest way seems to add a new method that can be overriden by\nwss4j. I've checked in a fix here:\nhttp://svn.apache.org/viewvc?view=rev&rev=470407\n\nPlease kindly ok this fix for inclusion in the pending release.\n\nthanks,\ndims", "is_private": false, "bug_id": 40880, "id": 95363, "time": "2006-11-02T12:51:04Z", "creator": "dims@yahoo.com", "creation_time": "2006-11-02T12:51:04Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "ruchith.fernando@gmail.com", "is_private": false, "id": 95384, "time": "2006-11-03T05:07:13Z", "bug_id": 40880, "creation_time": "2006-11-03T05:07:13Z", "tags": [], "text": "Hi Dims,\n\nIMHO http://svn.apache.org/viewvc?view=rev&rev=470407 will not help since\nparseFragment() method is inside Serializer which is a private class. :-(\n\nHow ever I tried a different approach using the Services API according to the\nJAR specification. Will attach a patch. I was able to successfully run\norg.apache.rampart.RampartTest in Axis2 with these changes in my IDE. This\napproach does not require us to change the way we use XML-Security at all.\n\nPlease review and send your comments.\n\nThanks,\nRuchith\n"}, {"count": 2, "tags": [], "bug_id": 40880, "attachment_id": 19077, "is_private": false, "id": 95385, "time": "2006-11-03T05:10:36Z", "creator": "ruchith.fernando@gmail.com", "creation_time": "2006-11-03T05:10:36Z", "text": "Created attachment 19077\nServices API approach to fix Bug 40880\n\nPatch mentioned here :\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=40880#c1"}, {"count": 3, "tags": [], "bug_id": 40880, "attachment_id": null, "is_private": false, "id": 95386, "time": "2006-11-03T05:13:39Z", "creator": "dims@yahoo.com", "creation_time": "2006-11-03T05:13:39Z", "text": "Please don't use sun.misc.Service. Let's leave the current code as-is.\n\nthanks,\ndims"}, {"count": 4, "tags": [], "bug_id": 40880, "attachment_id": null, "id": 95422, "time": "2006-11-04T03:42:24Z", "creator": "raul-info@r-bg.com", "creation_time": "2006-11-04T03:42:24Z", "is_private": false, "text": "(In reply to comment #2)\n> Created an attachment (id=19077) [edit]\n> Services API approach to fix Bug 40880\n> \n> Patch mentioned here :\n> http://issues.apache.org/bugzilla/show_bug.cgi?id=40880#c1\n\nI like the patch idea even we have a TODO to get rid of all the DBF.\nWe could think of applying it(or any derivate) after 1.4 release.\n\nPerhaps it can be even simpler. And let the registration phase go by Init\nmethods, instead of providers.\n\nWhat do you all think?\n "}, {"count": 5, "attachment_id": null, "bug_id": 40880, "is_private": false, "id": 95429, "time": "2006-11-04T13:05:13Z", "creator": "cantor.2@osu.edu", "creation_time": "2006-11-04T13:05:13Z", "tags": [], "text": "I'm a little confused by what you're trying to fix, and I'm very concerned about\nany non-JAXP technique that would be used override the DOM implementation. There\nare lots of software packages out there, and people expect JAXP to be used as\nSun defines it to specify the DOM classes to use, or any other XML classes for\nthat matter.\n\nAs it is, we have to do ugly things with endorsement because of bugs in things\nlike Xerces when it comes to overriding functionality according to the JAXP\nsystem properties. I wouldn't want xmlsec to invent its own parser override\nmechanism.\n\nIf I'm misunderstanding the problem here, sorry for interjecting.\n"}, {"count": 6, "tags": [], "bug_id": 40880, "attachment_id": null, "id": 95431, "time": "2006-11-04T13:29:00Z", "creator": "dims@yahoo.com", "creation_time": "2006-11-04T13:29:00Z", "is_private": false, "text": "Scott,\n\nPlease review this fix. There is absolutely no change in functionality to\nxml-sec. A small block of code was refactored into a protected method. That's it!. \n\nIf you are interested more in the problem we are facing with WSS4J/Rampart, i\ncan explain that off this bug list. That discussion could be on wss4j-dev or\naxis-dev.\n\nThanks,\ndims"}, {"count": 7, "tags": [], "bug_id": 40880, "attachment_id": null, "id": 95432, "time": "2006-11-04T13:49:17Z", "creator": "cantor.2@osu.edu", "creation_time": "2006-11-04T13:49:17Z", "is_private": false, "text": "I was reacting more to the other proposed patch (using sun.misc is totally\nunacceptable) and the last comment about Init methods and such.\n\nYour original patch is a different animal.\n"}]