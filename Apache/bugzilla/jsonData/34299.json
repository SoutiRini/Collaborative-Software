[{"count": 0, "tags": [], "creator": "terence_thambi@stercomm.com", "attachment_id": null, "text": "Hi,\n \n  We are running Tomcat 4.1.30. Our application sends back a HTTP 200 Status \nCode when we receive a request from our external Trading Partner. We encounter \nthe following error intermittently (see below). Our application logs show that \nwe have sucessfully written the message across the socket to our servlet. Is \nthis a known issue with this version of Tomcat?\n\njava.lang.ArrayIndexOutOfBoundsException\n\tat org.apache.coyote.http11.InternalOutputBuffer.write\n(InternalOutputBuffer.java:731)\n\tat org.apache.coyote.http11.InternalOutputBuffer.write\n(InternalOutputBuffer.java:659)\n\tat org.apache.coyote.http11.InternalOutputBuffer.sendHeader\n(InternalOutputBuffer.java:539)\n\tat org.apache.coyote.http11.Http11Processor.prepareResponse\n(Http11Processor.java:1552)\n\tat org.apache.coyote.http11.Http11Processor.action\n(Http11Processor.java:921)\n\tat org.apache.coyote.Response.action(Response.java:224)\n\tat org.apache.coyote.http11.InternalOutputBuffer.endRequest\n(InternalOutputBuffer.java:431)\n\tat org.apache.coyote.http11.Http11Processor.action\n(Http11Processor.java:968)\n\tat org.apache.coyote.Response.action(Response.java:226)\n\tat org.apache.coyote.Response.finish(Response.java:348)\n\tat org.apache.coyote.tomcat4.OutputBuffer.close(OutputBuffer.java:324)\n\tat org.apache.coyote.tomcat4.CoyoteOutputStream.close\n(CoyoteOutputStream.java:123)\n\tat \ncom.sterlingcommerce.woodstock.services.b2bhttp.servlet.B2BHttpServlet.doPost\n(B2BHttpServlet.java:1051)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:760)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:256)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2422)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:163)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:199)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:828)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnecti\non(Http11Protocol.java:700)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:584)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:683)\n\tat java.lang.Thread.run(Thread.java:479)\n[ERROR] Http11Processor - -Error finishing response \n<java.lang.ArrayIndexOutOfBoundsException>java.lang.ArrayIndexOutOfBoundsExcept\nion\n\tat org.apache.coyote.http11.InternalOutputBuffer.write\n(InternalOutputBuffer.java:731)\n\tat org.apache.coyote.http11.InternalOutputBuffer.sendStatus\n(InternalOutputBuffer.java:471)\n\tat org.apache.coyote.http11.Http11Processor.prepareResponse\n(Http11Processor.java:1548)\n\tat org.apache.coyote.http11.Http11Processor.action\n(Http11Processor.java:921)\n\tat org.apache.coyote.Response.action(Response.java:224)\n\tat org.apache.coyote.http11.InternalOutputBuffer.endRequest\n(InternalOutputBuffer.java:431)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:865)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnecti\non(Http11Protocol.java:700)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:584)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:683)\n\tat java.lang.Thread.run(Thread.java:479)", "id": 73291, "time": "2005-04-05T11:57:31Z", "bug_id": 34299, "creation_time": "2005-04-05T11:57:31Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 34299, "text": "It happens when the maximum http header size is exceeded.\n\nFor Tomcat 4.1.31 (and the latest 5.0.x and 5.5.x releases) the\nmaxHttpHeaderSize attribute on the http connector may be used to set the maximum\nallowed size of http headers.", "id": 73499, "time": "2005-04-10T23:00:32Z", "creator": "markt@apache.org", "creation_time": "2005-04-10T23:00:32Z", "is_private": false, "attachment_id": null}]