[{"count": 0, "tags": [], "text": "Using with-layout=Apache and the latest version of apr, the command \n`${prefix}/bin/apxs -q LIBTOOL` reports the location as \n${prefix}/build/libtool.  However, there is no such file at that location.  It \nlooks like it should be reporting ${apr}/build-1/libtool.", "is_private": false, "id": 68747, "creator": "william.barker@wilshire.com", "time": "2004-12-21T06:02:57Z", "bug_id": 32787, "creation_time": "2004-12-21T06:02:57Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 32787, "attachment_id": null, "id": 72010, "time": "2005-03-08T22:29:40Z", "creator": "chip@force-elite.com", "creation_time": "2005-03-08T22:29:40Z", "is_private": false, "text": "The httpd.spec file already has an evil work around for this:\nsed -e \"/^LIBTOOL/s|/[^ ]*/libtool|`/usr/bin/apr-1-config --apr-libtool`|\" \\\n\nI guess we need move that into the Makefile itself sometime."}, {"count": 2, "tags": [], "bug_id": 32787, "attachment_id": 14460, "is_private": false, "id": 72175, "time": "2005-03-11T04:44:08Z", "creator": "william.barker@wilshire.com", "creation_time": "2005-03-11T04:44:08Z", "text": "Created attachment 14460\nPatch based on httpd.spec to set LIBTOOL correctly\n\nSome of the other edits done by httpd.spec might be worth including, but they\nlook like they are mostly for cleaness.  \n\nThe patch works for me both with APR packaged, and separate."}, {"count": 3, "tags": [], "creator": "jfclere@gmail.com", "attachment_id": null, "text": "The patch also fix problems like the following (when using\n--enable-experimental-libtool in Apache configure):\n+++\njfclere@vtxclere:~/jakarta-tomcat-connectors/jk/native> make\nMaking all in common\nmake[1]: Entering directory\n`/home/jfclere/jakarta-tomcat-connectors/jk/native/common'\n/bin/sh /home/apache20/apache20/build/libtool --silent --mode=compile gcc\n-I/home/apache20/apache20/include -g -O2 -g -O2 -pthread -DHAVE_APR \n-I/home2/apache20/apache/httpd-2.0/srclib/apr/include -g -O2 -DLINUX=2\n-D_REENTRANT -D_GNU_SOURCE -D_LARGEFILE64_SOURCE\n-I/home2/apache20/apache/httpd-2.0/srclib/pcre -I\n/home2/java/j2sdk1.4.2_03/include -I /home2/java/j2sdk1.4.2_03/include/ -c\njk_ajp12_worker.c\n/home/apache20/apache20/build/libtool: /home/apache20/apache20/build/libtool:\ncannot execute binary file\nmake[1]: *** [jk_ajp12_worker.lo] Error 126\nmake[1]: Leaving directory\n`/home/jfclere/jakarta-tomcat-connectors/jk/native/common'\nmake: *** [all-recursive] Error 1\n+++", "id": 75057, "time": "2005-05-19T12:53:25Z", "bug_id": 32787, "creation_time": "2005-05-19T12:53:25Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 32787, "attachment_id": null, "id": 75857, "time": "2005-06-03T00:58:44Z", "creator": "william.barker@wilshire.com", "creation_time": "2005-06-03T00:58:44Z", "is_private": false, "text": "jfclere has already applied the patch"}, {"count": 5, "tags": [], "bug_id": 32787, "attachment_id": null, "id": 76442, "time": "2005-06-16T04:31:14Z", "creator": "william.barker@wilshire.com", "creation_time": "2005-06-16T04:31:14Z", "is_private": false, "text": "This is back to being broken again.  Now, due to an unexpanded variable being \nsaved off, it simply returns an error when you attempt to do `apxs -q LIBTOOL`.\n"}, {"count": 6, "tags": [], "text": "Created attachment 15429\nPatch to set ${LTFLAGS}\n\nThis patch uses the value of LTFLAGS that is in effect when 'configure' is run.\n This seems to be the most sensible value to use.  Before (when axps was last\nworking), it was using the value in effect when 'make install' was run, which\nseems a bit strange.", "is_private": false, "id": 76443, "creator": "william.barker@wilshire.com", "time": "2005-06-16T04:36:22Z", "bug_id": 32787, "creation_time": "2005-06-16T04:36:22Z", "attachment_id": 15429}, {"count": 7, "tags": [], "text": "Thanks for the patch William, committed to the trunk.\n\nhttp://svn.apache.org/viewcvs.cgi?rev=190893&view=rev", "attachment_id": null, "id": 76466, "creator": "jorton@redhat.com", "time": "2005-06-16T12:23:21Z", "bug_id": 32787, "creation_time": "2005-06-16T12:23:21Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 32787, "attachment_id": null, "is_private": false, "id": 76511, "time": "2005-06-18T05:27:20Z", "creator": "william.barker@wilshire.com", "creation_time": "2005-06-18T05:27:20Z", "text": "Gump is now happily building mod_jk once again against httpd-SVN-trunk, and \nthe Tomcat developers are now spared getting all of the build-failed messages.\n\nThanks much!"}]