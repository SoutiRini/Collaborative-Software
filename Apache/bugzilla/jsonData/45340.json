[{"count": 0, "tags": [], "text": "The code fragment in \"Miscellaneous Documentation > Password Formats > Digest Authentication > Database password fields for mod_dbd > Java\" will produce 30-character or even shorter hexdigit strings if the upper 8 bits are 0. This will happen for 0.39% (1/256) of passwords.\n\nif (s.length() % 2 != 0) s = \"0\" + s;\n\n(apparently, the 6.25% (1/16) of cases in which the upper 4 bits are 0 have been addressed) should be replaced by\n\nwhile (s.length() < 32) s = \"0\" + s;\n\nNote that I didn't test this code. If you don't like the loop due to its worst case runtime, please consider its expected runtime (random average). The body of the loop is rarely entered.\n\nBest regards,\nJJ", "attachment_id": null, "id": 118289, "creator": "jwagner@computing.dcu.ie", "time": "2008-07-04T04:11:04Z", "bug_id": 45340, "creation_time": "2008-07-04T04:11:04Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 45340, "attachment_id": null, "text": "Java example code fixed in trunk for length and sign problems with hash value.\n\n  http://svn.apache.org/viewvc?view=rev&revision=674445\n\nre: \"...don't like the loop due to its worst case runtime...\"\nNo problem - correctness & clarity are more important in example code.\n\nTested with Java 1.4 & Java 6.\n", "id": 118330, "time": "2008-07-07T04:01:19Z", "creator": "Tom.Donovan@acm.org", "creation_time": "2008-07-07T04:01:19Z", "is_private": false}]