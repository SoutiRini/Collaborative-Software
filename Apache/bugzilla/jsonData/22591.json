[{"count": 0, "tags": [], "creator": "simon.meguira@uinet.com", "text": "I have developped a Struts application (Struts ver 1.1), I placed it in the \nwebapps directory.  The Application works well without any errors during the \nentire day.  The next day I try to log in to the application I am getting the \nError Io Exception: Software caused connection abort: socket write error.  If \nI stop and start the server again, the app works like a charm.\n\nI am using Oracle 8i, the Struts-COnfig.xml has the data source defined:\n\n<data-sources>\n\t\t<data-source key=\"data\">\n\t      <set-property property=\"autoCommit\" value=\"true\" />\n\t      <set-property property=\"description\" value=\"esosr connection\" />\n\t      <set-property property=\"driverClass\" \nvalue=\"oracle.jdbc.driver.OracleDriver\" />\n\t      <set-property property=\"maxCount\" value=\"4\" />\n\t      <set-property property=\"minCount\" value=\"2\" />\n\t      <set-property property=\"url\" \nvalue=\"jdbc:oracle:thin:@x.x.x.x:1521:webdev\" />\n\t      <set-property property=\"user\" value=\"abc\" />\n\t\t  <set-property property=\"password\" value=\"abc\" />\n\t   </data-source>\n\t</data-sources>\n\nIn the login class file I invoke the connection with the database as:\n\nDataSource dataSource = (DataSource)(getServlet().getServletContext\n().getAttribute(data));\nconn = dataSource.getConnection();\n....\n\nI have added in the catalina policy file;\n// The permission granted to your JDBC driver\ngrant codeBase \"file:${catalina.home}/webapps/App/WEB-INF/lib/classes.jar\" {\n   permission java.net.SocketPermission \"xxx.xxx.xxx.xxx:1521\", \"listen\";\n   permission java.net.SocketPermission \"xxx.xxx.xxx.xxx:1521\", \"accept\";\n   permission java.net.SocketPermission \"xxx.xxx.xxx.xxx:1521\", \"connect\";\n   permission java.net.SocketPermission \"xxx.xxx.xxx.xxx:1521\", \"resolve\";\n};\n\nbut it didn't help I still have to stop and start the Server.  Please help!\n\nThanks", "id": 43051, "time": "2003-08-20T16:40:04Z", "bug_id": 22591, "creation_time": "2003-08-20T16:40:04Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "jms@mail.de", "text": "I think this happens if the client browser sends a request (GET), but then\ncancels the request by pressing STOP or hitting escape. Tomcat then tries to\nsend the result, but the receiver has already gone. This is just normal, but you\nare right:\ntomcat should catch this exception because it is quite normal and happens very\noften.", "id": 44590, "time": "2003-09-24T14:26:46Z", "bug_id": 22591, "creation_time": "2003-09-24T14:26:46Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 22591, "text": "Sounds like a database connection timeout. (or firewall dropping the connection)\n\nIn any case - it looks like a database connection issue or a struts issue, not a\ntomcat issue.", "id": 49027, "time": "2003-12-12T22:53:06Z", "creator": "funkman@joedog.org", "creation_time": "2003-12-12T22:53:06Z", "tags": [], "is_private": false}]