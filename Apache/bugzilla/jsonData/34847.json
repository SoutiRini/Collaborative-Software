[{"count": 0, "tags": [], "bug_id": 34847, "attachment_id": null, "id": 74681, "time": "2005-05-10T19:26:40Z", "creator": "evsathish@yahoo.com", "creation_time": "2005-05-10T19:26:40Z", "is_private": false, "text": "Using the sample file copied below:\nThe file has a viewbox of width 352 and height 416. The svg elements width and\nheight is set to 100%. So (if my understanding is correct) the image should\nscale itself to any dimension.\n\nBut when i try to rasterize it by supplying width value as 352 and height value\nas 416 -- i get an image (of size 352 and 416) in which the svg content does not\noccupy the entire area of the canvas --the image occupies 310x366 pixels on the\ntop left and the rest (in right and bottom of the image) is shown transparent.\n\nThe problem does not happen if the image is rastererized to a different size say\n352x500.\n\n================================================================\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1 Tiny//EN\"\n\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11-tiny.dtd\">\n<svg baseProfile=\"tiny\" height=\"100%\" preserveAspectRatio=\"xMidYMid meet\"\nversion=\"1.0\" viewBox=\"0 0 352 416\" width=\"100%\"\nxmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\nzoomAndPan=\"magnify\">\n<switch>\n<foreignObject content=\"structured text\" height=\"1\"\nrequiredExtensions=\"http://ns.adobe.com/AdobeIllustrator/10.0/\" width=\"1\" x=\"0\"\ny=\"0\"/>\n<g>\n<g>\n<radialGradient cx=\"176\" cy=\"208\" fx=\"176\" fy=\"208\"\ngradientUnits=\"userSpaceOnUse\" id=\"XMLID_1_\" r=\"192.6655\">\n<stop offset=\"0\" style=\"stop-color:#EFF60B\"/>\n<stop offset=\"1\" style=\"stop-color:#EF0003\"/>\n</radialGradient>\n<path d=\"M352,416H0V0h352V416z\" fill=\"url(#XMLID_1_)\"/>\n</g>\n</g>\n</switch>\n</svg>\n================================================================"}, {"count": 1, "tags": [], "bug_id": 34847, "text": "I should add that it even works for 352x417", "id": 74682, "time": "2005-05-10T19:35:08Z", "creator": "evsathish@yahoo.com", "creation_time": "2005-05-10T19:35:08Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 34847, "attachment_id": null, "text": "Checking further i see that this problem is happening only with files having\ngradients defined in it.", "id": 74706, "time": "2005-05-11T09:57:15Z", "creator": "evsathish@yahoo.com", "creation_time": "2005-05-11T09:57:15Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 34847, "attachment_id": null, "text": "This works for me.\nHow are you rasterizing the file?\nCan you test:\n\n./build.sh svgrasterizer -w 352 -h 416 test.svg", "id": 74708, "time": "2005-05-11T11:48:02Z", "creator": "deweese@apache.org", "creation_time": "2005-05-11T11:48:02Z", "is_private": false}, {"count": 4, "tags": [], "creator": "evsathish@yahoo.com", "text": "(In reply to comment #3)\n> This works for me.\n> How are you rasterizing the file?\n> Can you test:\n> \n> ./build.sh svgrasterizer -w 352 -h 416 test.svg\n\nI use the command line as below\nC:\\software\\batik\\batik-1.6>java -jar batik-rasterizer.jar -w 352 -h 416 test.svg\n\nThe version details are:\n1) java ->\"1.5.0_02\"\n2) batik ->1.5.1 and 1.6 (from the release zip files)", "id": 74717, "time": "2005-05-11T16:11:20Z", "bug_id": 34847, "creation_time": "2005-05-11T16:11:20Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 34847, "text": "(In reply to comment #3)\n> This works for me.\n> How are you rasterizing the file?\n> Can you test:\n> \n> ./build.sh svgrasterizer -w 352 -h 416 test.svg\n\nI tested with the command \nC:\\software\\batik\\xml-batik>build.bat svgrasterizer -w 352 -h 416 test.svg\n\nI still have the problem -- could it be anything to do with the OS (seeing ur\nbatch file ending with .sh -- the only difference i could think of is that - i\nam trying it on windows 2000 and u are on linux/mac/unix machine.\n", "id": 74718, "time": "2005-05-11T16:26:18Z", "creator": "evsathish@yahoo.com", "creation_time": "2005-05-11T16:26:18Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "text": "I use cygwin on Windows so we are both on the same OS.\nThe problem turned out to be the JDK version, with\nJDK 1.3.1 you don't get the problem with 1.4.2 & 1.5\nyou do.  I'll look into it now that I can reproduce it.", "attachment_id": null, "id": 74784, "creator": "deweese@apache.org", "time": "2005-05-12T12:11:14Z", "bug_id": 34847, "creation_time": "2005-05-12T12:11:14Z", "is_private": false}, {"count": 7, "tags": [], "creator": "deweese@apache.org", "attachment_id": null, "id": 74903, "time": "2005-05-15T20:24:02Z", "bug_id": 34847, "creation_time": "2005-05-15T20:24:02Z", "is_private": false, "text": "This is now fixed in CVS.\n"}]