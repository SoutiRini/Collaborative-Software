[{"count": 0, "tags": [], "bug_id": 55110, "attachment_id": 30450, "is_private": false, "id": 167876, "time": "2013-06-17T18:37:18Z", "creator": "nistor1@illinois.edu", "creation_time": "2013-06-17T18:37:18Z", "text": "Created attachment 30450\npatch\n\nThe problem appears in version 7.0.41 and in revision 1493861.  I\nattached a one-line patch (patch.diff) that fixes it.\n\nIn method \"TestNonLoginAndBasicAuthenticator.doTestBasic\", the loop\nover \"authHeaders\" should break immediately after \"methodFound\" is set\nto \"true\".  All the iterations after \"methodFound\" is set to \"true\" do\nnot perform any useful work, at best they just set \"methodFound\" again\nto \"true\".\n\nMethod \"TestWsWebSocketContainer.testSessionExpiryContainer\" has a\nsimilar problem (the loop over \"setA\" should break immediately after\n\"isOpen\" is set to true).  I attached another one-line patch\n(patch2.diff) for this problem.\n\nMethod \"startInternal\" in class \"StandardHost\" has a similar loop\n(over \"valves\"), and this loop breaks immediately after \"found\" is set\nto \"true\", just like in the proposed patches.  Other methods (e.g.,\n\"MapperListener.findDefaultHost\", \"CollectVisitor.checkSeen\",\n\"JspDocumentParser.processChars\", \"ParameterParser.isOneOf\") also have\nsimilar loops with similar breaks, just like in the proposed patches."}, {"count": 1, "tags": [], "text": "Created attachment 30451\npatch2", "attachment_id": 30451, "id": 167877, "creator": "nistor1@illinois.edu", "time": "2013-06-17T18:37:39Z", "bug_id": 55110, "creation_time": "2013-06-17T18:37:39Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 55110, "is_private": false, "id": 167885, "time": "2013-06-18T07:26:03Z", "creator": "markt@apache.org", "creation_time": "2013-06-18T07:26:03Z", "tags": [], "text": "Thanks for the patches. Both were applied to trunk and thre first was back-ported to 7.0.x and will be included in 7.0.42 onwards.\n\nSome tips for future contributions:\n- when fixing a common problem like this a single patch for all instances is better than lots of little patches\n- patches are best against trunk (svn will do most of the back-port work for us) and we'll back-port it to the reported version\n- some code in trunk doesn't exist in 7.0.x & some code in 7.0.x doesn't exist in trunk. We can work around this but you need to be careful about the versions you are reporting things against"}]