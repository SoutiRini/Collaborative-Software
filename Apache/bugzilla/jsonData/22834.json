[{"count": 0, "tags": [], "bug_id": 22834, "attachment_id": null, "text": "I've a tld file with:\n<!DOCTYPE taglib\n  PUBLIC \"-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN\"\n  \"http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd\">\n\nwhen I try to transform it, it gets transformed as would it contain no data. If\nI remove the doctype everything works fine.\n\nIt seems that under windows it works when a:\n  <xmlcatalog>\n    <dtd publicId=\"-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN\"\n      location=\"http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd\"/>\n  </xmlcatalog>\nbut not under linux.\n\nWith the -debug option, I see:\nresolveEntity: '-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN':\n'http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd'\nMatching catalog entry found for publicId: '-//Sun Microsystems, Inc.//DTD JSP\nTag Library 1.2//EN' location: 'http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd'\nCouldn't load ResourceStream for http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd\ncatalog entry matched as a URL: 'http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd'", "id": 43498, "time": "2003-08-30T14:45:44Z", "creator": "mguillemot@yahoo.fr", "creation_time": "2003-08-30T14:45:44Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 22834, "text": "Maybe your Linux box is behind a firewall?  You are loading the DTD via\nhhtp in your example and if the network connection to Sun fails for some\nreason, you are out of luck.\n\nCould you retry with a local copy of the DTD?", "id": 43540, "time": "2003-09-01T09:46:17Z", "creator": "bodewig@apache.org", "creation_time": "2003-09-01T09:46:17Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 22834, "is_private": false, "id": 43548, "time": "2003-09-01T10:57:18Z", "creator": "mguillemot@yahoo.fr", "creation_time": "2003-09-01T10:57:18Z", "tags": [], "text": "it's not a firewall problem: I can get the dtd through my browser on this computer.\n\nThe problem is exactly the same using a local copy of the dtd."}, {"count": 3, "tags": [], "text": "And what is the proxy setting on your browser?", "attachment_id": null, "bug_id": 22834, "id": 43617, "time": "2003-09-02T16:55:12Z", "creator": "stevel@apache.org", "creation_time": "2003-09-02T16:55:12Z", "is_private": false}, {"count": 4, "tags": [], "text": "I don't have any proxy settings in my browser.\n\nThe ant get task:\n\n<get src=\"http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd\" \n dest=\"toto.dtd\" verbose=\"true\" usetimestamp=\"true\"/>\n\nfunctions perfectly what means that the file can be retrieved from my computer\nusing ant.", "attachment_id": null, "bug_id": 22834, "id": 43619, "time": "2003-09-02T17:04:36Z", "creator": "mguillemot@yahoo.fr", "creation_time": "2003-09-02T17:04:36Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 22834, "attachment_id": null, "text": "Are you defining your xmlcatalog outside of the task?\n\nSounds like a duplicate of bug 20965 that I've just been able to confirm in my\nenvironment.", "id": 44502, "time": "2003-09-23T14:05:31Z", "creator": "bodewig@apache.org", "creation_time": "2003-09-23T14:05:31Z", "is_private": false}, {"count": 6, "attachment_id": null, "bug_id": 22834, "text": "Does the problem still exist using 1.6beta1?\n", "id": 44998, "time": "2003-10-02T12:03:21Z", "creator": "bodewig@apache.org", "creation_time": "2003-10-02T12:03:21Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "creator": "mguillemot@yahoo.fr", "attachment_id": null, "text": "I don't succeed to reproduce the bug anymore: it functions as well with version\n1.6beta1 as with 1.5.4", "id": 45146, "time": "2003-10-06T12:02:24Z", "bug_id": 22834, "creation_time": "2003-10-06T12:02:24Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 22834, "attachment_id": null, "id": 45150, "time": "2003-10-06T13:27:00Z", "creator": "bodewig@apache.org", "creation_time": "2003-10-06T13:27:00Z", "is_private": false, "text": "Strange.  Please reopen if you can reproduce the bug again."}, {"count": 9, "tags": [], "text": "The problem still exists with 1.6beta1. What's new in the log is the message\nconcerning the org/apache/xml/resolver/tools/CatalogResolver class:\n\n     [xslt] Loading stylesheet\n/home/marc/EWorkspace/junetz/web-app/WEB-INF/src/doc/tld.xslt\nresolveEntity: '-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN':\n'http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd'\nApache resolver library not found, internal resolver will be used\nFailed to load Apache resolver: java.lang.NoClassDefFoundError:\norg/apache/xml/resolver/tools/CatalogResolver\nMatching catalog entry found for publicId: '-//Sun Microsystems, Inc.//DTD JSP\nTag Library 1.2//EN' location: 'http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd'\nfileName /dtd/web-jsptaglibrary_1_2.dtd\nCouldn't load ResourceStream for http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd\ncatalog entry matched as a URL: 'http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd'", "attachment_id": null, "bug_id": 22834, "id": 45465, "time": "2003-10-13T07:45:11Z", "creator": "mguillemot@yahoo.fr", "creation_time": "2003-10-13T07:45:11Z", "is_private": false}, {"count": 10, "attachment_id": null, "bug_id": 22834, "is_private": false, "id": 45519, "time": "2003-10-13T14:14:01Z", "creator": "bodewig@apache.org", "creation_time": "2003-10-13T14:14:01Z", "tags": [], "text": "It seems as if the case where location contains an URL wouldn't work for non-file\nURLs.\n\nIf you download the DTD to your local filesystem, does it work?"}, {"count": 11, "tags": [], "bug_id": 22834, "attachment_id": null, "id": 45527, "time": "2003-10-13T15:07:27Z", "creator": "mguillemot@yahoo.fr", "creation_time": "2003-10-13T15:07:27Z", "is_private": false, "text": "Please look at my answer on 2003-09-01"}, {"count": 12, "tags": [], "bug_id": 22834, "attachment_id": null, "is_private": false, "id": 45530, "time": "2003-10-13T15:16:26Z", "creator": "bodewig@apache.org", "creation_time": "2003-10-13T15:16:26Z", "text": "Hmm, how does you <dtd> definition look like and what does ant -debug say?"}, {"count": 13, "tags": [], "bug_id": 22834, "attachment_id": null, "id": 45623, "time": "2003-10-14T14:17:07Z", "creator": "bodewig@apache.org", "creation_time": "2003-10-14T14:17:07Z", "is_private": false, "text": "My last question was for the local file case, of course."}, {"count": 14, "tags": [], "bug_id": 22834, "attachment_id": null, "id": 45775, "time": "2003-10-16T07:09:08Z", "creator": "mguillemot@yahoo.fr", "creation_time": "2003-10-16T07:09:08Z", "is_private": false, "text": "Not sure it's what you want:\n\n<xslt in=\"${project.path.doc}/${taglib.name}.tld\"\nout=\"${project.path.doc}/${taglib.name}_tld.html\"\nstyle=\"${project.src.doc}/tld.xslt\">\n  <xmlcatalog>\n    <dtd publicId=\"-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN\"\n      location=\"web-jsptaglibrary_1_2.dtd\"/>\n  </xmlcatalog>\n</xslt>\n\nand the debug output:\n     [xslt] Using class org.apache.tools.ant.taskdefs.optional.TraXLiaison\n     [xslt] In file /home/marc/EWorkspace/junetz/web-app/WEB-INF/doc/jn.tld\ntime: 1066287409000\n     [xslt] Out file\n/home/marc/EWorkspace/junetz/web-app/WEB-INF/doc/jn_tld.html time: 0\n     [xslt] Style file ./doc/tld.xslt time: 1062214731000\n     [xslt] Processing /home/marc/EWorkspace/junetz/web-app/WEB-INF/doc/jn.tld\nto /home/marc/EWorkspace/junetz/web-app/WEB-INF/doc/jn_tld.html\n     [xslt] Loading stylesheet\n/home/marc/EWorkspace/junetz/web-app/WEB-INF/src/doc/tld.xslt\nresolveEntity: '-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN':\n'http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd'\nMatching catalog entry found for publicId: '-//Sun Microsystems, Inc.//DTD JSP\nTag Library 1.2//EN' location: 'web-jsptaglibrary_1_2.dtd'\ncatalog entry matched a readable file:\n'file:/home/marc/EWorkspace/junetz/web-app/WEB-INF/src/web-jsptaglibrary_1_2.dtd'"}, {"count": 15, "tags": [], "bug_id": 22834, "attachment_id": null, "text": "I think that there may be something wrong with\nthe xsl or the taglib file generating the\nempty output.\n\nThe debug output is a little confusing, but what is\nhappening is that:\n  1) a check is made for xml-commons resolver \n     this is not present so the internal resolver is used\n  2) the internal resolver first checks if the\n     reference is in the classpath, it is not\n     hense the message: \"Couldn't load ResourceStream for ...\"\n  3) finally it uses urlLookup and this succeeds with\n     \"catalog entry matched as a URL: ...\"\n\nI have just tested with a sample xslt and tdl files and\nget a html file correctly, with the exact same debug output.\n\n", "id": 48279, "time": "2003-11-28T11:01:54Z", "creator": "peter.reilly@corvil.com", "creation_time": "2003-11-28T11:01:54Z", "is_private": false}, {"count": 16, "tags": [], "text": "I read Peter's comments as WORKSFORME", "attachment_id": null, "bug_id": 22834, "id": 122787, "time": "2008-11-24T08:25:07Z", "creator": "bodewig@apache.org", "creation_time": "2008-11-24T08:25:07Z", "is_private": false}]