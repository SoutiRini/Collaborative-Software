[{"count": 0, "tags": [], "bug_id": 24890, "attachment_id": null, "text": "httpd-std-conf.in contains the following directive : \n \n<IfModule mod_mime_magic.c> \n    MIMEMagicFile @rel_sysconfdir@/magic \n</IfModule> \n \nBut looking at modules/metadata/mod_mime_magic.c the directive must be like \n \n<IfModule mod_mime_magic.c> \n    MimeMagicFile @rel_sysconfdir@/magic \n</IfModule> \n \nPlease notice the s/MIMEMagicFile/MimeMagicFile . \n \nThis fixes the problem for me with the mod_perl module loading and according to the \nmod_mime_magic.c its the \\ \nright way ( TM ). \n \nPlease fix this in Apache 2.0.49 release.", "id": 47768, "time": "2003-11-21T13:29:45Z", "creator": "ismail.donmez@boun.edu.tr", "creation_time": "2003-11-21T13:29:45Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 24890, "is_private": false, "id": 47770, "time": "2003-11-21T13:33:46Z", "creator": "nd@perlig.de", "creation_time": "2003-11-21T13:33:46Z", "tags": [], "text": "Please note that apache config directives are generally case insensitive. If\nyour script cannot handle this you should fix your script.\n\nThanks for using Apache."}, {"text": "My script? I use apachectl start to start apache. And if httpd.conf contains \n \nMIMEMagicFile this error shows up in logs : \n \n<error> \nSyntax error on line 436 of /opt/apache/conf/httpd.conf: \nInvalid command 'MIMEMagicFile', perhaps mis-spelled or defined by a module not included in the \nserver configuration \n</error> \n \nand this only happens if I add  \n \nLoadModule perl_module        modules/mod_perl.so \n \nto httpd.conf. Looks a like a bug in apache rather than my commands. \n \n ", "tags": [], "creator": "ismail.donmez@boun.edu.tr", "is_private": false, "count": 2, "id": 47771, "time": "2003-11-21T13:38:49Z", "bug_id": 24890, "creation_time": "2003-11-21T13:38:49Z", "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 24890, "text": "Then it's obviously a mod_perl problem. mod_mime_magic isn't loaded, but\nmod_perl seems to try to interpret the directive (?). Stas?", "id": 47772, "time": "2003-11-21T13:47:16Z", "creator": "nd@perlig.de", "creation_time": "2003-11-21T13:47:16Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "creator": "ismail.donmez@boun.edu.tr", "attachment_id": null, "text": "Ok I found the exact problem. \n \nIf I do export LC_ALL=POSIX && apachectl start \napache works fine. \n \nIf I do export LC_ALL=tr_TR && apachectl start \nit gives parsing error that I posted earlier. \n \nSo whats going on is apache configuration parsing is local aware and it should not be so. Because on \nturkish locales tolower('I') != i or toupper('i') != I .  \n \nThis is a widely known property but guess apache developers missed it :-). \n \nSolution is making config parsing non-local aware. \n ", "id": 47773, "time": "2003-11-21T13:49:43Z", "bug_id": 24890, "creation_time": "2003-11-21T13:49:43Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 24890, "text": "Hrm, ok. But I'm wondering how mod_perl is involved with it...\n\nHowever, locales are iirc implementation defined (?), we'd need to define\n(a) that config directives can only contain word character [a-z_0-9]\n(b) compare them using your own tables.\n\nAny opinions about this?", "id": 47774, "time": "2003-11-21T13:54:00Z", "creator": "nd@perlig.de", "creation_time": "2003-11-21T13:54:00Z", "is_private": false, "attachment_id": null}, {"count": 6, "attachment_id": null, "bug_id": 24890, "is_private": false, "id": 47775, "time": "2003-11-21T13:56:53Z", "creator": "ismail.donmez@boun.edu.tr", "creation_time": "2003-11-21T13:56:53Z", "tags": [], "text": "Really no idea why this works if I do not load mod_perl. Any mod_perl developer around can shed a \nlight? "}, {"count": 7, "tags": [], "bug_id": 24890, "text": " Andr\u00e9 can you tell me where is the config parser in apache source? So I can look at it and maybe fixor \nit. ", "id": 47921, "time": "2003-11-22T10:31:27Z", "creator": "ismail.donmez@boun.edu.tr", "creation_time": "2003-11-22T10:31:27Z", "is_private": false, "attachment_id": null}, {"count": 8, "attachment_id": null, "bug_id": 24890, "text": "Mostly in server/config.c. You may find <http://lxr.webperf.org/> useful as\nwell. (Though it's for 2.1 branch but there are only minor changes in the config\npart, if any).\n\nThanks!", "id": 47927, "time": "2003-11-22T16:14:56Z", "creator": "nd@perlig.de", "creation_time": "2003-11-22T16:14:56Z", "tags": [], "is_private": false}, {"count": 9, "tags": [], "creator": "ismail.donmez@boun.edu.tr", "attachment_id": null, "id": 49978, "time": "2004-01-02T23:21:17Z", "bug_id": 24890, "creation_time": "2004-01-02T23:21:17Z", "is_private": false, "text": "Workaround is adding LC_ALL=POSIX to apachectl script. Fixing this bug involves apr-* internals \nwhich I have no idea. "}]