[{"count": 0, "tags": [], "bug_id": 44183, "is_private": false, "id": 112611, "attachment_id": null, "creator": "andreas.schwaff@gmx.net", "creation_time": "2008-01-08T01:44:21Z", "time": "2008-01-08T01:44:21Z", "text": "I've tried to generate a pdf-document, but while transforming the generated\nfo-document to pdf, fop is throwing an NullPointerException:\n\n08.01.2008 10:18:09 org.apache.fop.cli.Main startFOP\nSCHWERWIEGEND: Exception\njava.lang.NullPointerException\n        at org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:168)\n        at org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:115)\n        at org.apache.fop.cli.Main.startFOP(Main.java:166)\n        at org.apache.fop.cli.Main.main(Main.java:197)\n\n---------\n\njava.lang.NullPointerException\n        at org.apache.fop.layoutmgr.table.RowPainter.addAreasAndFlushRow(RowPain\nter.java:149)\n        at org.apache.fop.layoutmgr.table.TableContentLayoutManager.iterateAndPa\nintPositions(TableContentLayoutManager.java:757)\n        at org.apache.fop.layoutmgr.table.TableContentLayoutManager.addAreas(Tab\nleContentLayoutManager.java:694)\n        at org.apache.fop.layoutmgr.table.TableLayoutManager.addAreas(TableLayou\ntManager.java:334)\n        at org.apache.fop.layoutmgr.AreaAdditionUtil.addAreas(AreaAdditionUtil.j\nava:118)\n        at org.apache.fop.layoutmgr.FlowLayoutManager.addAreas(FlowLayoutManager\n.java:297)\n        at org.apache.fop.layoutmgr.PageBreaker.addAreas(PageBreaker.java:241)\n        at org.apache.fop.layoutmgr.AbstractBreaker.addAreas(AbstractBreaker.jav\na:507)\n        at org.apache.fop.layoutmgr.AbstractBreaker.addAreas(AbstractBreaker.jav\na:370)\n        at org.apache.fop.layoutmgr.PageBreaker.doPhase3(PageBreaker.java:262)\n        at org.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.jav\na:345)\n        at org.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.jav\na:263)\n        at org.apache.fop.layoutmgr.PageSequenceLayoutManager.activateLayout(Pag\neSequenceLayoutManager.java:144)\n        at org.apache.fop.area.AreaTreeHandler.endPageSequence(AreaTreeHandler.j\nava:233)\n        at org.apache.fop.fo.pagination.PageSequence.endOfNode(PageSequence.java\n:145)\n        at org.apache.fop.fo.FOTreeBuilder$MainFOHandler.endElement(FOTreeBuilde\nr.java:378)\n        at org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:194)\n        at org.apache.xalan.transformer.TransformerIdentityImpl.endElement(Trans\nformerIdentityImpl.java:1101)\n        at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source\n)\n        at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknow\nn Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContent\nDispatcher.dispatch(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Un\nknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.xalan.transformer.TransformerIdentityImpl.transform(Transf\normerIdentityImpl.java:484)\n        at org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:165)\n        at org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:115)\n        at org.apache.fop.cli.Main.startFOP(Main.java:166)\n        at org.apache.fop.cli.Main.main(Main.java:197)\nDer Befehl \"foo.pdf\" ist entweder falsch geschrieben oder\nkonnte nicht gefunden werden.\nDr\u00fccken Sie eine beliebige Taste . . .\n\nfunny, but with elder versions (0.93 instead of 0.94) this worked fine ..."}, {"text": "Created attachment 21354\ngenerated fo-file", "tags": [], "creator": "andreas.schwaff@gmx.net", "is_private": false, "count": 1, "id": 112612, "time": "2008-01-08T01:45:29Z", "bug_id": 44183, "creation_time": "2008-01-08T01:45:29Z", "attachment_id": 21354}, {"count": 2, "tags": [], "bug_id": 44183, "attachment_id": null, "is_private": false, "id": 112614, "time": "2008-01-08T02:16:02Z", "creator": "jeremias@apache.org", "creation_time": "2008-01-08T02:16:02Z", "text": "In the first table in the fo:flow, you specified 2 columns but due to a\nnumber-columns-spanned=\"2\" on the second cell the row would actually span 3\ncolumns. In FOP Trunk there is already a change that warns you about that so\nthis exact problem doesn't appear anymore in the latest dev code.\n\nSimply remove the number-columns-spanned attributes and your document should be\nprocessed without errors."}, {"count": 3, "tags": [], "bug_id": 44183, "attachment_id": null, "is_private": false, "id": 112616, "time": "2008-01-08T02:26:30Z", "creator": "jeremias@apache.org", "creation_time": "2008-01-08T02:26:30Z", "text": "Sorry, a mistake on my side: The NPE remains even with the proposed change. I've\ntested with the wrong JAR. Still, the NPE doesn't happen in the latest FOP Trunk\ncode. Maybe you can use that for the time being. Obviously, a certain risk is\ninvolved when using FOP Trunk as it may not be stable.\n\nBTW, you should maybe pay a little attention to what FOP warns you about. There\nare a number of problems in your FO code."}, {"count": 4, "attachment_id": null, "bug_id": 44183, "text": "Sorry for reopening this issue. Is there any possibility to avoid this NPE in\nversion 0.94? \nOtherwise I' think I'll need the trunk-version. But how can I get this as an\nbinary distribution? ", "id": 112621, "time": "2008-01-08T03:58:54Z", "creator": "andreas.schwaff@gmx.net", "creation_time": "2008-01-08T03:58:54Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 44183, "attachment_id": null, "id": 112625, "time": "2008-01-08T04:36:17Z", "creator": "jeremias@apache.org", "creation_time": "2008-01-08T04:36:17Z", "is_private": false, "text": "No problem. The hot spot is easy to identify if you comment out all tables and\nenable one after the other until the exception happens. The error seems to\nhappen with those tables that have only one table-cell in the table-body with\nonly an empty fo:block. If you can avoid these, the error seems to go away.\nShould be easy to work around.\n\nOtherwise, there is no binary for FOP Trunk. You'd have to build FOP yourself.\nThat's not a big deal, though. Just follow the instructions on the FOP website.\n\nJust reopen in case you need additional help."}, {"count": 6, "tags": [], "bug_id": 44183, "text": "batch transition to closed remaining pre-FOP1.0 resolved bugs", "id": 156456, "time": "2012-04-01T13:48:17Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T13:48:17Z", "is_private": false, "attachment_id": null}]