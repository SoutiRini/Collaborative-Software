[{"count": 0, "tags": [], "bug_id": 23468, "attachment_id": null, "text": "This is due to a bug in the XPathQueryResolver.evalFunction method.\nThe bug causes incorrect computation of the argument list to\nthe function. The function gives up deferring evaluation to\na collection scan later.\n\nThe worst result is that even if an index is available,\nthe starts-with function will not make use of it.\n\nThis bug has been with us since the beginning...\n\nAttached are a patch to XPathQueryTest demonstrating\nthat starts-with queries do not use indexed access (they should,\nand the code is there to make them do it, but the bug prevents it).\n\nAlso, a patch to XPathQueryResolver to fix the bug.\nAlso fixes a bug in funcSubstring method that was\nexposed by the fix to evalFunction. Note that the\nfix to evalFunction exposes a large body of code\nin XPathQueryResolver (the funcXXX methods) to deeper\nexecution then ever before. So, more bugs\nmay come to light as a result of code now being\nexercised that has heretofore not seen daylight.\n\nPatch attachments follow.", "id": 44800, "time": "2003-09-28T22:26:07Z", "creator": "Terry.Rosenbaum@gmail.com", "creation_time": "2003-09-28T22:26:07Z", "is_private": false}, {"count": 1, "tags": [], "creator": "Terry.Rosenbaum@gmail.com", "is_private": false, "id": 44801, "attachment_id": 8381, "bug_id": 23468, "creation_time": "2003-09-28T22:27:31Z", "time": "2003-09-28T22:27:31Z", "text": "Created attachment 8381\nAdds test for this bug to XPathQueryTest"}, {"count": 2, "tags": [], "bug_id": 23468, "is_private": false, "text": "Created attachment 8382\nPatch for the function evaluation bug", "id": 44802, "time": "2003-09-28T22:28:04Z", "creator": "Terry.Rosenbaum@gmail.com", "creation_time": "2003-09-28T22:28:04Z", "attachment_id": 8382}, {"count": 3, "tags": [], "bug_id": 23468, "text": "\n\n*** This bug has been marked as a duplicate of 23596 ***", "id": 45053, "time": "2003-10-03T18:23:21Z", "creator": "Terry.Rosenbaum@gmail.com", "creation_time": "2003-10-03T18:23:21Z", "is_private": false, "attachment_id": null}]