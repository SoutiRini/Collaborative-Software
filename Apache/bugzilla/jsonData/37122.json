[{"count": 0, "attachment_id": null, "creator": "jasper_rosenberg@yahoo.com", "text": "JBoss's Log4jService loads the log4j.xml file, and then overwrites\nSystem.err/System.out to redirect to log4j.\n\nThis used to work before 1.2.12 because the ConsoleAppender would always use the\nstream with which it was initialized.  Unfortunately, with the fix of bug 31056\nthis trick no longer works, and an infinite loop is created.  \n\nThis seems like reasonable behavior to support, wanting to use the\nConsoleAppender, but also wanting to redirect all System.out/err to the logging\nsystem.\n\nPerhaps a boolean flag can be added to ConsoleAppender such as \"cacheTarget\", so\nthat in activateOptions() it behaves like 1.2.11 if cacheTarget is true, and\n1.2.12 if cacheTarget is false.\n\nThanks,\nJasper", "id": 81252, "time": "2005-10-17T16:29:07Z", "bug_id": 37122, "creation_time": "2005-10-17T16:29:07Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "text": "1.2.13 candidate", "attachment_id": null, "id": 81262, "creator": "mwomack@apache.org", "time": "2005-10-17T18:17:02Z", "bug_id": 37122, "creation_time": "2005-10-17T18:17:02Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 37122, "attachment_id": null, "id": 81330, "time": "2005-10-18T16:52:05Z", "creator": "carnold@apache.org", "creation_time": "2005-10-18T16:52:05Z", "is_private": false, "text": "I think \"followReassignment\" or something containing \"redirect\" might be clearer than \"cacheTarget\".  \n\nI don't think it would be good to have the behavior differ between versions and the 1.2.11 and earlier \nbehavior should be the default (that is followReassignment=false) at least in the 1.2.x series.\n\nIt would be possible to attempt to detect the JBoss redirection class, but I think that would not be a \ngood solution since other applications may want to do the same thing.\n\nI don't think it would be possible to implement followReassignment=false in log4cxx.  Don't know \nabout the other log4X's.\n\nI think it would be better to associate the changes with this bug than continue work on 31506."}, {"count": 3, "tags": [], "bug_id": 37122, "attachment_id": null, "id": 81334, "time": "2005-10-18T18:48:49Z", "creator": "mwomack@apache.org", "creation_time": "2005-10-18T18:48:49Z", "is_private": false, "text": "We can have the 1.2.X behavior be consistent (ie restore previous behavior with\noptions to change the behavior with a flag), but then do the \"right\" thing in\n1.3 going forward.  Just so long as we document it, it should be fine, I think."}, {"count": 4, "tags": [], "creator": "carnold@apache.org", "attachment_id": null, "text": "Fixed in SVN revision 326604 (trunk) and 326599 (v1_2-branch).  Added honorReassignment attribute to \nconfiguration with default value of false (1.2.12 behavior).", "id": 81399, "time": "2005-10-19T18:44:23Z", "bug_id": 37122, "creation_time": "2005-10-19T18:44:23Z", "is_private": false}, {"count": 5, "tags": [], "text": "Fix is in the 1.2.13rc1 build which can be located at \nhttp://cvs.apache.org/builds/logging/log4j/log4j-1.2.13rc1/.  Please check the \nfix and let us know if it is now fixed for you.  Thanks.", "attachment_id": null, "id": 81446, "creator": "mwomack@apache.org", "time": "2005-10-20T07:56:17Z", "bug_id": 37122, "creation_time": "2005-10-20T07:56:17Z", "is_private": false}, {"count": 6, "tags": [], "creator": "jasper_rosenberg@yahoo.com", "attachment_id": null, "text": "ConsoleAppender now behaves as before (1.2.11) by default.  \nI also tested with <param name=\"HonorReassignment\" value=\"true\"/> and it did\nbehave as it does in 1.2.12.  Looks good!\n\nThanks for the quick fix!", "id": 81465, "time": "2005-10-20T15:10:21Z", "bug_id": 37122, "creation_time": "2005-10-20T15:10:21Z", "is_private": false}, {"count": 7, "tags": [], "text": "Fix verified by reporter (thanks!). Closing.", "attachment_id": null, "id": 81489, "creator": "mwomack@apache.org", "time": "2005-10-20T23:25:57Z", "bug_id": 37122, "creation_time": "2005-10-20T23:25:57Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 37122, "attachment_id": null, "id": 82375, "time": "2005-11-11T00:30:21Z", "creator": "carnold@apache.org", "creation_time": "2005-11-11T00:30:21Z", "is_private": false, "text": "*** Bug 37452 has been marked as a duplicate of this bug. ***"}]