[{"attachment_id": null, "tags": [], "creator": "gerv@mozilla.org", "is_private": false, "count": 0, "id": 136297, "time": "2010-04-21T15:14:30Z", "bug_id": 49166, "creation_time": "2010-04-21T15:14:30Z", "text": "This is using Apache 2.2.12-1ubuntu2.2. I searched the bug DB and read the changelogs but couldn't see a reference to this issue.\n\nLog format in /etc/apache2/apache2.conf:\n\nLogFormat \"%v:%p %h %l %u %t \\\"%r\\\" %>s %O \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" \\\"%{Bugzilla_login}C\\\" \\\"%{Bugzilla_logincookie}C\\\"\" bugzilla_vhost_combined\n\nThis should log the two cookies named Bugzilla_login and Bugzilla_logincookie.\n\nThen, in /etc/apache2/sites-enabled/000-default:\n\nCustomLog /var/log/apache2/access.log bugzilla_vhost_combined\n\nThen, I get logs of the following form:\n\n127.0.0.1:80 127.0.0.1 - - [14/Apr/2010:17:47:12 +0100] \"POST /src/bugzilla-3.4/xmlrpc.cgi/xmlrpc.cgi HTTP/1.1\" 200 1747 \"-\" \"BZ::Client::XMLRPC 1\" \"ookie=jDB44Tplz1\" \"jDB44Tplz1\"\n\n\nIn other words, the log for \"Bugzilla_login\" is most of the rest of the cookie name, the equals sign and the value for the \"Bugzilla_logincookie\" cookie.\n\nIt looks strongly like the code for finding the value to log is doing an unterminated substring match on the cookie name, and then chomping the first character off what it finds (hence the missing \"c\") in an attempt to remove the \"=\" sign.\n\nI'd expect it to be this code:\nhttp://svn.apache.org/viewvc/httpd/httpd/trunk/modules/loggers/mod_log_config.c?view=markup\n(like 500)\nbut that looks good to me. But maybe I can't read C.\n\nGerv"}, {"count": 1, "tags": [], "text": "you can read C: It's already fixed in trunk but not in 2.2.x\n\n*** This bug has been marked as a duplicate of bug 28037 ***", "is_private": false, "bug_id": 49166, "id": 136298, "time": "2010-04-21T16:38:17Z", "creator": "sf@sfritsch.de", "creation_time": "2010-04-21T16:38:17Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 49166, "text": "Stefan: how would I go about agitating for a backport? 2.2 is the current stable series, isn't it?\n\nGerv", "count": 2, "id": 136300, "time": "2010-04-21T16:51:11Z", "creator": "gerv@mozilla.org", "creation_time": "2010-04-21T16:51:11Z", "is_private": false}]