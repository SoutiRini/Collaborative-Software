[{"attachment_id": null, "tags": [], "creator": "pkamalak@cordys.com", "is_private": false, "count": 0, "id": 96649, "time": "2006-12-08T03:39:03Z", "bug_id": 41132, "creation_time": "2006-12-08T03:39:03Z", "text": "Chainsaw v2 cannot open Log4J file, if file name contains illegal URL characters\nlike '#'.  \nExample: File 'system#processor.xml' cannot be loaded.\n\nEnvironment details:\nChainsaw version: Chainsaw v2\nJRE : 1.5.0_06\nChainsaw log messages observed:\n****\nLevel\tDEBUG\nLogger\torg.apache.log4j.chainsaw.LogUI\nTime\t2006-12-08 16:39:44,953\nThread\tChainsaw-WorkerThread\nMessage\tLoading files: [D:\\Logs\\system#processor.xml]\nNDC\tnull\nClass\t?\nMethod\nLine\nFile\nProperties\t{{hostname,chainsaw}{log4jid,56}{application,log}}\nThrowable\n****\nLevel\tERROR\nLogger\torg.apache.log4j.chainsaw.FileLoadAction\nTime\t2006-12-08 16:39:44,953\nThread\tChainsaw-WorkerThread\nMessage\tjava.io.FileNotFoundException: D:\\Logs\\system (The system cannot find\nthe file specified)\nNDC\tnull\nClass\t?\nMethod\nLine\nFile\nProperties\t{{hostname,chainsaw}{log4jid,57}{application,log}}\nThrowable\n****\n\nObservation was Chainsaw sources use File.toURL() for converting the abstract\npath to file: URL. This might has to be replaced with File.toURI().toURL().\n\nHere is an excerpt from Java 5's java.io.File javadoc\n\ntoURL\npublic URL toURL()\n          throws MalformedURLException\nConverts this abstract pathname into a file: URL. The exact form of the URL is\nsystem-dependent. If it can be determined that the file denoted by this abstract\npathname is a directory, then the resulting URL will end with a slash. \n\nUsage note: This method does not automatically escape characters that are\nillegal in URLs. It is recommended that new code convert an abstract pathname\ninto a URL by first converting it into a URI, via the toURI method, and then\nconverting the URI into a URL via the URI.toURL method.\n\nregards, Kamalakar."}, {"attachment_id": 19231, "tags": [], "creator": "pkamalak@cordys.com", "is_private": false, "count": 1, "id": 96650, "time": "2006-12-08T03:44:28Z", "bug_id": 41132, "creation_time": "2006-12-08T03:44:28Z", "text": "Created attachment 19231\nProposed fix, replaces all File.toURL() to File.toURI().toURL()\n\nAttached patch contains changes to below sources\n***\n1. FileLoadAction.java: url = selectedFile.toURL();\n2. help/HelpManager.java:\thelpLocator.installLocator(dir.toURL());\n3. LogUI.java:\t.getName(), file.toURL());\n4. NoReceiversWarningPanel.java:\treturn\nchooser.getSelectedFile().toURL();\n5. plugins/PluginClassLoaderFactory.java:      \nlist.add(pluginDirectory.toURL());\nplugins/PluginClassLoaderFactory.java:\tlist.add(file.toURL());"}, {"count": 2, "tags": [], "bug_id": 41132, "text": "Implemented in revision 564471\n\nhttp://svn.apache.org/viewvc?view=rev&revision=564471\n\nThanks", "id": 106568, "time": "2007-08-09T22:44:53Z", "creator": "sdeboy@iname.com", "creation_time": "2007-08-09T22:44:53Z", "is_private": false, "attachment_id": null}]