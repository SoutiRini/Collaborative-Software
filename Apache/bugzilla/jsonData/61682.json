[{"count": 0, "tags": [], "bug_id": 61682, "text": "While pushing some resources from the Server I received the following StackOverflowError sometimes when refreshing my page (the resource failed to load of course). \n\n```\nOkt 27, 2017 3:10:26 PM org.apache.coyote.AbstractProtocol$ConnectionHandler process\nSEVERE: Error reading request, ignored\njava.lang.StackOverflowError\n\tat java.util.concurrent.ConcurrentHashMap$BaseIterator.<init>(ConcurrentHashMap.java:3391)\n\tat java.util.concurrent.ConcurrentHashMap$KeyIterator.<init>(ConcurrentHashMap.java:3410)\n\tat java.util.concurrent.ConcurrentHashMap$KeySetView.iterator(ConcurrentHashMap.java:4578)\n\tat java.util.Collections$SetFromMap.iterator(Collections.java:5462)\n\tat org.apache.coyote.http2.AbstractStream.isDescendant(AbstractStream.java:69)\n\tat org.apache.coyote.http2.AbstractStream.isDescendant(AbstractStream.java:70)\n\tat org.apache.coyote.http2.AbstractStream.isDescendant(AbstractStream.java:70)\n\tat org.apache.coyote.http2.AbstractStream.isDescendant(AbstractStream.java:70)\n\tat org.apache.coyote.http2.AbstractStream.isDescendant(AbstractStream.java:70)\n\tat org.apache.coyote.http2.AbstractStream.isDescendant(AbstractStream.java:70)\n```", "id": 201740, "time": "2017-10-27T16:38:32Z", "creator": "chiptv@web.de", "creation_time": "2017-10-27T16:38:32Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 61682, "text": "Please provide a test case.", "id": 201880, "time": "2017-11-03T14:44:01Z", "creator": "remm@apache.org", "creation_time": "2017-11-03T14:44:01Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 61682, "attachment_id": null, "is_private": false, "id": 202163, "time": "2017-11-15T22:37:01Z", "creator": "markt@apache.org", "creation_time": "2017-11-15T22:37:01Z", "text": "I've managed to find a way to reproduce this. The logic for re-prioritising streams doesn't always remove children from their old parent when they are re-prioritised. With the right sequence of moves, you can generate circular references."}, {"count": 3, "tags": [], "text": "Thanks for the report.\nFixed in:\n- trunk for 9.0.2 onwards\n- 8.5.x for 8.5.24 onwards", "is_private": false, "bug_id": 61682, "id": 202166, "time": "2017-11-16T10:16:12Z", "creator": "markt@apache.org", "creation_time": "2017-11-16T10:16:12Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "chiptv@web.de", "text": "Hi Mark, thanks for fix. I had a look into the commit and I guess I wouldn't be able to provide such a test case without having a deeper knowledge about the code base.", "id": 202395, "time": "2017-11-24T09:45:12Z", "bug_id": 61682, "creation_time": "2017-11-24T09:45:12Z", "is_private": false, "attachment_id": null}]