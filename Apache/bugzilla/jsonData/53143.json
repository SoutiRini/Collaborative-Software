[{"count": 0, "tags": [], "creator": "gadams@apache.org", "text": "due to a coding error introduced in revision 1198853 [1], fonts are redundantly loaded twice\n\n[1] http://svn.apache.org/viewvc?view=revision&revision=1198853\n\nmore specifically, the code change at [2]\n\n[2] http://svn.apache.org/viewvc/xmlgraphics/fop/trunk/src/java/org/apache/fop/fonts/autodetect/FontFileFinder.java?r1=1198853&r2=1198852&pathrev=1198853\n\nnamely\n\n     public List<URL> find(String dir) throws IOException {\n         List<URL> results = new java.util.ArrayList<URL>();\n         super.walk(new File(dir), results);\n+        File directory = new File(dir);\n+        if (!directory.isDirectory()) {\n+            eventListener.fontDirectoryNotFound(this, dir);\n+        } else {\n+            super.walk(directory, results);\n+        }\n         return results;\n     }\n\nresults in calling super.walk(...) twice which has the effect of adding each font twice to the returned List<URL>, which in turn results in each font being loaded twice in FontInfoConfigurator.addDirectories():\n\n     fontURLList = fontFileFinder.find(directory);\n     fontAdder.add(fontURLList, fontInfoList);", "id": 158395, "attachment_id": null, "bug_id": 53143, "creation_time": "2012-04-24T22:14:20Z", "time": "2012-04-24T22:14:20Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 53143, "attachment_id": null, "id": 158396, "time": "2012-04-24T22:42:50Z", "creator": "gadams@apache.org", "creation_time": "2012-04-24T22:42:50Z", "is_private": false, "text": "http://svn.apache.org/viewvc?rev=1330050&view=rev"}]