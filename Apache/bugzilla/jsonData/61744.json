[{"count": 0, "tags": [], "bug_id": 61744, "attachment_id": 35514, "is_private": false, "id": 202040, "time": "2017-11-10T17:42:51Z", "creator": "kashifhameedqureshi@gmail.com", "creation_time": "2017-11-10T17:42:51Z", "text": "Created attachment 35514\nScenario where Jmeter cannot stop execution.\n\nJmeter Version 3.3, Java 8\n\nIn Firefox or Chrome driver config component, when i select \"Create a new Browser at the start of each iteration\" I cannot manually stop the test. Test execution is fine but while running when i try to stop, it will close the browser but jmeter will still be in running state and i will get the following error in log file as well. \n\n\nI have to close the console in order to restart Jmeter. \n\n******************************************************************************\n2017-11-10 11:08:58,145 ERROR o.a.j.JMeter: Uncaught exception: \njava.lang.RuntimeException: Process refused to die after 10 seconds, and couldn't taskkill it: java.lang.InterruptedException: sleep interrupted\nBuild info: version: '2.52.0', revision: '4c2593cfc3689a7fcd7be52549167e5ccc93ad28', time: '2016-02-11 11:22:43'\nSystem info: host: 'DAL1LAP2303', ip: '10.202.84.202', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_152'\nDriver info: driver.version: RemoteWebDriver\n\tat org.openqa.selenium.os.ProcessUtils.killWinProcess(ProcessUtils.java:143) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.os.ProcessUtils.killProcess(ProcessUtils.java:81) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.os.UnixProcess$SeleniumWatchDog.destroyHarder(UnixProcess.java:247) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.os.UnixProcess$SeleniumWatchDog.access$200(UnixProcess.java:201) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.os.UnixProcess.destroy(UnixProcess.java:125) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.os.CommandLine.destroy(CommandLine.java:155) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.firefox.FirefoxBinary.quit(FirefoxBinary.java:246) ~[selenium-firefox-driver-2.53.0.jar:?]\n\tat org.openqa.selenium.firefox.internal.NewProfileExtensionConnection.quit(NewProfileExtensionConnection.java:194) ~[selenium-firefox-driver-2.53.0.jar:?]\n\tat org.openqa.selenium.firefox.FirefoxDriver$LazyCommandExecutor.quit(FirefoxDriver.java:364) ~[selenium-firefox-driver-2.53.0.jar:?]\n\tat org.openqa.selenium.firefox.FirefoxDriver.stopClient(FirefoxDriver.java:310) ~[selenium-firefox-driver-2.53.0.jar:?]\n\tat org.openqa.selenium.remote.RemoteWebDriver.quit(RemoteWebDriver.java:529) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat com.googlecode.jmeter.plugins.webdriver.config.WebDriverConfig.quitBrowser(WebDriverConfig.java:269) ~[jmeter-plugins-webdriver-1.4.0.jar:?]\n\tat com.googlecode.jmeter.plugins.webdriver.config.WebDriverConfig.threadFinished(WebDriverConfig.java:244) ~[jmeter-plugins-webdriver-1.4.0.jar:?]\n\tat org.apache.jmeter.threads.JMeterThread$ThreadListenerTraverser.addNode(JMeterThread.java:685) ~[ApacheJMeter_core.jar:3.3 r1808647]\n\tat org.apache.jorphan.collections.HashTree.traverseInto(HashTree.java:996) ~[jorphan.jar:3.3 r1808647]\n\tat org.apache.jorphan.collections.HashTree.traverse(HashTree.java:978) ~[jorphan.jar:3.3 r1808647]\n\tat org.apache.jmeter.threads.JMeterThread.threadFinished(JMeterThread.java:657) ~[ApacheJMeter_core.jar:3.3 r1808647]\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:311) ~[ApacheJMeter_core.jar:3.3 r1808647]\n\tat java.lang.Thread.run(Unknown Source) [?:1.8.0_152]\nCaused by: org.openqa.selenium.WebDriverException: java.lang.InterruptedException: sleep interrupted\nBuild info: version: '2.52.0', revision: '4c2593cfc3689a7fcd7be52549167e5ccc93ad28', time: '2016-02-11 11:22:43'\nSystem info: host: 'DAL1LAP2303', ip: '10.202.84.202', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_152'\nDriver info: driver.version: RemoteWebDriver\n\tat org.openqa.selenium.os.CommandLine.waitFor(CommandLine.java:125) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.os.CommandLine.execute(CommandLine.java:118) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.os.WindowsUtils.killPID(WindowsUtils.java:179) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.os.ProcessUtils.killWinProcess(ProcessUtils.java:138) ~[selenium-remote-driver-2.52.0.jar:?]\n\t... 18 more\nCaused by: java.lang.InterruptedException: sleep interrupted\n\tat java.lang.Thread.sleep(Native Method) ~[?:1.8.0_152]\n\tat org.apache.commons.exec.DefaultExecuteResultHandler.waitFor(DefaultExecuteResultHandler.java:121) ~[commons-exec-1.3.jar:1.3]\n\tat org.openqa.selenium.os.UnixProcess.waitFor(UnixProcess.java:139) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.os.CommandLine.waitFor(CommandLine.java:123) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.os.CommandLine.execute(CommandLine.java:118) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.os.WindowsUtils.killPID(WindowsUtils.java:179) ~[selenium-remote-driver-2.52.0.jar:?]\n\tat org.openqa.selenium.os.ProcessUtils.killWinProcess(ProcessUtils.java:138) ~[selenium-remote-driver-2.52.0.jar:?]\n\t... 18 more"}, {"count": 1, "tags": [], "text": "Created attachment 35515\nFirefox Config setting which causes this problem", "attachment_id": 35515, "id": 202041, "creator": "kashifhameedqureshi@gmail.com", "time": "2017-11-10T17:43:37Z", "bug_id": 61744, "creation_time": "2017-11-10T17:43:37Z", "is_private": false}, {"count": 2, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "id": 202050, "time": "2017-11-11T12:57:05Z", "bug_id": 61744, "creation_time": "2017-11-11T12:57:05Z", "is_private": false, "text": "Hello,\nThanks for report.\nI think issue is fixed in Bug 61661. \nCan you test nightly build and confirm :\n\n- http://jmeter.apache.org/nightly.html\n\nThanks\n\n*** This bug has been marked as a duplicate of bug 61661 ***"}, {"count": 3, "tags": [], "bug_id": 61744, "text": "I have downloaded the nightly builds and retested the script (Added Selenium Jars and Jna Jars). Its working fine. I can stop the test in between now. Thanks for your help. \n\nCan i please know how i can add those changes into the main prod Jmeter version (3.3). Any Jar files which need to be replaced ??\n\n\nThanks in advance", "id": 202100, "time": "2017-11-13T16:46:32Z", "creator": "kashifhameedqureshi@gmail.com", "creation_time": "2017-11-13T16:46:32Z", "is_private": false, "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 61744, "is_private": false, "id": 202117, "time": "2017-11-14T17:33:10Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-11-14T17:33:10Z", "tags": [], "text": "(In reply to Kashif Qureshi from comment #3)\n> I have downloaded the nightly builds and retested the script (Added Selenium\n> Jars and Jna Jars). Its working fine. I can stop the test in between now.\n> Thanks for your help. \n> \n> Can i please know how i can add those changes into the main prod Jmeter\n> version (3.3). Any Jar files which need to be replaced ??\n> \n> \n> Thanks in advance\n\nYou can use the nightly build.\nWe don't provide hotfixes for released versions."}]