[{"count": 0, "tags": [], "bug_id": 60990, "is_private": false, "text": "The mod_proxy 2.4 module Proxytimeout parameter has the default value of 60 seconds, and not the value of the apache Timeout parameter.\nThe mod_proxy 2.2 module does use the Timeout default value though.\n\nI tested this with the latest apache on centos7: httpd-2.4.6-45.el7.centos.4.x86_64\n\nHow to reproduce:\n\n-Create file /etc/httpd/conf.d/proxytest.conf:\nProxyPass /test http://localhost:8080/test\nProxyPassReverse /test http://localhost:8080/test\n\n- listen on port 8080\nnc -l 8080\n\n- send http message to apache\ndate; echo \"test123\" | curl -X POST http://localhost:80/test -d @/dev/stdin; date\n\n-After 1 minute the http socket is aborted.\n\nI could reproduce the problem for proxy pass of http and ajp, so probably it is a general mod_proxy problem.\n\n-Workaround, create /etc/httpd/conf.d/zz_defaults.conf\n\n<IfDefine !Proxytimeout>\n  #Set the default mod_proxy request timeout to 10 min. \n  Proxytimeout 600\n</IfDefine>", "id": 198294, "time": "2017-04-14T08:12:04Z", "creator": "eddy.vanoosterbosch@axxerion.eu", "creation_time": "2017-04-14T08:12:04Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "toscano.luca@gmail.com", "text": "Hi,\n\nI just tested the last httpd version with Timeout = 5 and your settings, it correctly returns a 504 after 5 seconds and not after 60.\n\nOne thing that I didn't get from your repro use case: you don't set neither Timeout nor ProxyTimeout, so I'd expect httpd to behave exactly as you described, namely timeout after 60 seconds (Timeout's directive default).\n\nMaybe I am missing something, do you mind to clarify?\n\nThanks!", "count": 1, "id": 198909, "time": "2017-05-27T08:56:37Z", "bug_id": 60990, "creation_time": "2017-05-27T08:56:37Z", "is_private": false}, {"count": 2, "attachment_id": null, "creator": "toscano.luca@gmail.com", "text": "Closing as invalid for the moment since there seems to be no follow up and I can't repro, please re-open if necessary :)", "id": 200193, "time": "2017-08-04T16:37:52Z", "bug_id": 60990, "creation_time": "2017-08-04T16:37:52Z", "tags": [], "is_private": false}]