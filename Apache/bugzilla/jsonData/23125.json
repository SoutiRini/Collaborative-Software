[{"count": 0, "tags": [], "bug_id": 23125, "text": "I havd found fmt has set charset of ContentType in webpage, this is very error.\n\nexample ,I must use webpage charset as utf-8. I use:\n<%@ page contentType=\"text/html;charset=UTF-8\"%> in jsp page \n\nbut I see head of page ,it has set my charset to client browser charset GB2312.\nThis is the result:\n wget -S http://10.220.8.195:8080/hnpostwap/testi18n.jsp\n--14:37:05--  http://10.220.8.195:8080/hnpostwap/testi18n.jsp\n           => `testi18n.jsp.1'\nConnecting to 10.220.8.195:8080... connected.\nHTTP request sent, awaiting response...\n 1 HTTP/1.1 200 OK\n 2 Set-Cookie: JSESSIONID=B888CF338DD7E0A356A8E38963537305; Path=/hnpostwap\n 3 Content-Type: text/html;charset=GB2312\n 4 Content-Language: zh-CN\n 5 Content-Length: 163\n 6 Date: Fri, 12 Sep 2003 06:37:06 GMT\n 7 Server: Apache Coyote/1.0\n 8 Connection: Keep-Alive\n\nWhen I use jakarta structs 's i18n ,it don't set charset in my web page, use my\ncharset utf-8 what I set in web page.\n\nThis is result:\nwget -S http://10.220.8.195:8080/hnpostwap/testi18n.jsp\n--14:24:54--  http://10.220.8.195:8080/hnpostwap/testi18n.jsp\n           => `testi18n.jsp'\nConnecting to 10.220.8.195:8080... connected.\nHTTP request sent, awaiting response...\n 1 HTTP/1.1 200 OK\n 2 Set-Cookie: JSESSIONID=CD86B15EEA87F4B55DF02B4829FD1F61; Path=/hnpostwap\n 3 Content-Type: text/html;charset=UTF-8\n 4 Content-Length: 153\n 5 Date: Fri, 12 Sep 2003 06:24:55 GMT\n 6 Server: Apache Coyote/1.0\n 7 Connection: Keep-Alive\n\n\nThe following is fmt source code:\n<%@ page contentType=\"text/html;charset=UTF-8\"%>\n\n<%@ page import = \"java.util.* \"%>\n<%@ page import  = \"java.io.*,java.sql.*,javax.sql.*,javax.naming.*\"%>\n<%@ page import = \"org.apache.log4j.Logger\"%>\n\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jstl/core\" %>\n<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jstl/fmt\" %>\n\n<html>\n<head>\n<title><fmt:message key=\"logo.title\"/></title>\n\n</head>\n<body bgcolor=\"white\">\n\n\n<fmt:message key=\"logo.title\"/>\n\n</body>\n</html>\n\n\nthe following is structs source code:\n<%@ page contentType=\"text/html;charset=UTF-8\"%>\n\n<%@ page import = \"java.util.* \"%>\n<%@ page import  = \"java.io.*,java.sql.*,javax.sql.*,javax.naming.*\"%>\n<%@ page import = \"org.apache.log4j.Logger\"%>\n\n<%@ taglib uri=\"/WEB-INF/struts-bean.tld\" prefix=\"bean\" %>\n<%@ taglib uri=\"/WEB-INF/struts-html.tld\" prefix=\"html\" %>\n\n<html>\n<head>\n<title><bean:message key=\"stock.title\"/></title>\n\n</head>\n<body bgcolor=\"white\">\n\n<bean:message key=\"stock.title\"/>\n\n</body>\n</html>", "id": 44090, "attachment_id": null, "creator": "dragzhb@yahoo.com.cn", "creation_time": "2003-09-12T06:51:03Z", "time": "2003-09-12T06:51:03Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 23125, "text": "Haibin,\n\nPlease see bug #19408 for explanations, and run your webapp using Tomcat 5 and\nJSTL 1.1. Everything should then work fine.\n\n*** This bug has been marked as a duplicate of 19408 ***", "id": 48952, "attachment_id": null, "creator": "pierre.delisle@sun.com", "creation_time": "2003-12-12T00:36:41Z", "time": "2003-12-12T00:36:41Z", "is_private": false}]