[{"count": 0, "tags": [], "text": "Steps to reproduce:\n\n1. Unzip apache-tomcat-7.0.71.zip\n2. set JAVA_HOME=C:\\Program Files (x86)\\Java\\jdk1.8.0_102  (or 6u45 - does not matter)\n3. Start Tomcat with SecurityManager being enabled:\ncatalina.bat start -security\n\nThe following error is observed at startup:\n\njava.lang.ClassNotFoundException: org.apache.jasper.runtime.JspRuntimeLibrary$PrivilegedIntrospectHelper\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n\tat org.apache.jasper.security.SecurityClassLoad.securityClassLoad(SecurityClassLoad.java:49)\n\tat org.apache.jasper.compiler.JspRuntimeContext.<clinit>(JspRuntimeContext.java:82)\n\tat java.lang.Class.forName0(Native Method)\n\tat java.lang.Class.forName(Class.java:348)\n\tat org.apache.catalina.core.JasperListener.lifecycleEvent(JasperListener.java:63)\n<...>\n\nI'll attach the log file (catalina.2016-09-09.log) with full stacktrace. This error is reported twice: the first time when it occurs in SecurityClassLoad.securityClassLoadand() and the second time when it pops up in JasperListener.lifecycleEvent().\n\n4. Visit http://localhost:8080/\n\nThe page fails with Error 500:\n\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.jasper.compiler.JspRuntimeContext", "is_private": false, "bug_id": 60101, "id": 193581, "time": "2016-09-09T21:05:29Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2016-09-09T21:05:29Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": 34227, "is_private": false, "id": 193582, "time": "2016-09-09T21:11:14Z", "bug_id": 60101, "creation_time": "2016-09-09T21:11:14Z", "text": "Created attachment 34227\nlogs.zip - Log files\n\nLog files.\n\ncatalina.2016-09-09.log  - Error messages at startup\nlocalhost.2016-09-09.log - Error message when accessing http://localhost:8080/\nlocalhost_access_log.2016-09-09.txt - Shows the only request to http://localhost:8080/\n\nSome local paths were <redacted>."}, {"count": 2, "tags": [], "text": "Hi,\n\nThanks for the report.\nThis has been fixed in\n- 9.0.x for 9.0.0.M11 onwards\n- 8.5.x for 8.5.6 onwards\n- 8.0.x for 8.0.38 onwards\n- 7.0.x for 7.0.72 onwards\n\nRegards,\nVioleta", "attachment_id": null, "bug_id": 60101, "id": 193641, "time": "2016-09-12T08:35:58Z", "creator": "violetagg@apache.org", "creation_time": "2016-09-12T08:35:58Z", "is_private": false}]