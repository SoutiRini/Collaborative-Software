[{"count": 0, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "text": "Created attachment 27642\nTest Plan that reproduces the issue\n\nHello,\nIssue seen by deepak.\nPer the documentation:\n\"The counter generates a new number each time it is called, starting with 1\nand incrementing by +1 each time.\"\n\nHowever\nThreadGroup\n+${__counter(TRUE,ref)}HTTPSampler1\n+DebugSampler\n+${__counter(TRUE,ref)}HTTPSampler2\n+DebugSampler\n+View Results tree\n\nGenerates the number 1 in both cases.", "id": 149963, "time": "2011-09-30T07:23:13Z", "bug_id": 51923, "creation_time": "2011-09-30T07:23:13Z", "attachment_id": 27642}, {"count": 1, "tags": [], "bug_id": 51923, "attachment_id": null, "text": "Hello,\nI confirm this issue on 2.5 and 2.5.1.\n\nAnalyzing it, issue is due to the fact that if you have 2 __counter with same ref, you will have 2 instances of CounterConfig.\n\nAs perTheadNumber is not static, 2 counters will be incremented separately.\n\nSo either it's a feature then documentation should be fixed\nEither it's a real issue, but fix can impact existing scenarios that excpect this behaviour.\n\nRegards\nPhilippe", "id": 149964, "time": "2011-09-30T07:27:18Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-09-30T07:27:18Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 51923, "attachment_id": null, "text": "(In reply to comment #1)\n> Hello,\n> I confirm this issue on 2.5 and 2.5.1.\n> \n> Analyzing it, issue is due to the fact that if you have 2 __counter with same\n> ref, you will have 2 instances of CounterConfig.\n> \nError : 2 instances of IterationCounter\n> As perTheadNumber is not static, 2 counters will be incremented separately.\n> \nBut making it static is not the fix.\n\n> So either it's a feature then documentation should be fixed\n> Either it's a real issue, but fix can impact existing scenarios that excpect\n> this behaviour.\n> \nI think it's a feature\n> Regards\n> Philippe", "id": 149965, "time": "2011-09-30T07:31:46Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-09-30T07:31:46Z", "is_private": false}, {"count": 3, "attachment_id": 27650, "bug_id": 51923, "is_private": false, "id": 149986, "time": "2011-09-30T15:18:48Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-09-30T15:18:48Z", "tags": [], "text": "Created attachment 27650\nPatch to function documentation"}, {"count": 4, "attachment_id": null, "bug_id": 51923, "is_private": false, "id": 149991, "time": "2011-09-30T18:33:17Z", "creator": "sebb@apache.org", "creation_time": "2011-09-30T18:33:17Z", "tags": [], "text": "The docn already says:\n\n>>>\nThe counter function instances are now completely independent. [JMeter 2.1.1 and earlier used a fixed thread variable to keep track of the per-user count, so multiple counter functions operated on the same value.] The global counter - \"FALSE\" - is separately maintained by each counter instance.\n<<<\n\nIf anything needs to be clarified, it is that paragraph."}, {"count": 5, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "text": "Created attachment 27651\nPatch to documentation", "id": 149993, "time": "2011-09-30T18:46:40Z", "bug_id": 51923, "creation_time": "2011-09-30T18:46:40Z", "attachment_id": 27651}, {"count": 6, "tags": [], "bug_id": 51923, "attachment_id": 27652, "text": "Created attachment 27652\nSimplified test case\n\nHere is a simplified test case using Java samplers instead of HTTP.\n\nAlso included is a PreProcessor that updates the COUNT variable for every sample in the thread", "id": 149994, "time": "2011-09-30T18:47:54Z", "creator": "sebb@apache.org", "creation_time": "2011-09-30T18:47:54Z", "is_private": false}, {"count": 7, "attachment_id": null, "bug_id": 51923, "is_private": false, "id": 150133, "time": "2011-10-04T18:02:05Z", "creator": "sebb@apache.org", "creation_time": "2011-10-04T18:02:05Z", "tags": [], "text": "URL: http://svn.apache.org/viewvc?rev=1178883&view=rev\nLog:\nBug 51923 - Counter function bug or documentation issue ? (fixed docs)\n\nModified:\n   jakarta/jmeter/trunk/xdocs/changes.xml\n   jakarta/jmeter/trunk/xdocs/usermanual/functions.xml"}]