[{"count": 0, "tags": [], "creator": "gaochang20@126.com", "attachment_id": null, "id": 167106, "time": "2013-05-09T02:42:44Z", "bug_id": 54942, "creation_time": "2013-05-09T02:42:44Z", "is_private": false, "text": "hi,boys:\nthere is a design question in the bound!\nfor example:\nin my wesocketservlet, i write a loop in broadcast.\neg.\nprivate void broadcast(String message) throws IOException{\n        \tString mmstr = \"\";\n        \twhile(true) {\t\t\n                  for (ChatMessageInbound connection : connections) {\n                    \tString msg = \"update\uff1a[\" + mmstr +\"] is over\";\n                         CharBuffer buffer = CharBuffer.wrap(msg);\n                        connection.getWsOutbound().writeTextMessage(buffer);\n                  }   \n                }          \n}\n\nnow,how did the servlet know it when the brower is closed?\ni hope you could add a boolean in the connection so that i can filter the connection,then change the condition of while\n\n(true).or just a empty while with a Thread.sleep()."}, {"count": 1, "tags": [], "creator": "chuck.caldarale@unisys.com", "text": "Bugzilla is not a question and answer forum.  Post your query on the Tomcat users' mailing list.", "id": 167107, "attachment_id": null, "bug_id": 54942, "creation_time": "2013-05-09T02:59:29Z", "time": "2013-05-09T02:59:29Z", "is_private": false}]