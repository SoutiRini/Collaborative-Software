[{"count": 0, "tags": [], "text": "Similar to bug 29731, except that the broken behavior only exposes itself when <manifest> is not provided within a <jar> task.\n\njar1.jar's manifest:\nManifest-Jar1: This is the MAIN part of jar1's Manifest\nName: jar1\nSomeProperty: Property of Jar1\n\njar2.jar's manifest:\nManifest-Jar2: This is the MAIN part of jar2's Manifest\nName: jar2\nSomeProperty: Property of Jar2\n\nbuild.xml:\n<project name=\"test\" default=\"build\" basedir=\".\">\n  <target name=\"build\">\n    <jar destfile=\"broken.jar\" filesetmanifest=\"mergewithoutmain\">\n      <zipgroupfileset dir=\".\">\n        <include name=\"jar1.jar\"/>\n        <include name=\"jar2.jar\"/>\n      </zipgroupfileset>\n    </jar>\n    <jar destfile=\"working.jar\" filesetmanifest=\"mergewithoutmain\">\n      <manifest/>\n      <zipgroupfileset dir=\".\">\n        <include name=\"jar1.jar\"/>\n        <include name=\"jar2.jar\"/>\n      </zipgroupfileset>\n    </jar>\n  </target>\n</project>\n\nWorking.jar will have the expected manifest, since there was a <manifest> section in the <jar> task. Broken.jar will behave as if filesetmanifest=\"merge\" and include main elements from jar1 and jar2\n\nObvious work-around to issue is to provide an empty <manifest/> section.", "is_private": false, "id": 163541, "creator": "ejona@google.com", "time": "2012-11-19T21:19:21Z", "bug_id": 54171, "creation_time": "2012-11-19T21:19:21Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 54171, "text": "fixed with svn revision 1555355", "count": 1, "id": 172070, "time": "2014-01-04T15:25:34Z", "creator": "bodewig@apache.org", "creation_time": "2014-01-04T15:25:34Z", "is_private": false}]