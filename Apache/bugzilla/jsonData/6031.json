[{"count": 0, "tags": [], "creator": "peterj@liberate.com", "text": "It might be useful, when compiling for different platforms, to be able to\nspecify the bootclasspath for <available>.  The current behaviour is to check\nthe classes available to Ant's JVM, which don't necessarily match those in the\ntarget device.\n\nFor example, to determine if actions should be taken for non-CLDC devices (which\ngenerally have java.awt.*):\n\n<target name=\"check\">\n <available property=\"awt.present\" bootclasspath=\"${cldc.home}/lib/rt.jar\"\nclassname=\"java.awt.Graphics\"/>\n</target>\n<target name=\"noncldc\" depends=\"check\" if=\"awt.present\">\n ...\n</target>", "id": 9917, "attachment_id": null, "bug_id": 6031, "creation_time": "2002-01-25T15:15:31Z", "time": "2002-01-25T15:15:31Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 6031, "is_private": false, "id": 10021, "creation_time": "2002-01-29T16:46:41Z", "time": "2002-01-29T16:46:41Z", "creator": "peterj@liberate.com", "text": "I've implemented this in a slightly different way--instead of providing a\nbootclasspath option, I've simply added a boolean \"ignoresystemclasses\".\n\nThis involves a patch to the AntClassLoader that may be controversial--instead\nof masking a SecurityException as an IOException (which is then masked as a\nClassNotFoundException) the actual SecurityException is propagated.", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 6031, "attachment_id": 1088, "id": 10022, "time": "2002-01-29T16:47:35Z", "creator": "peterj@liberate.com", "creation_time": "2002-01-29T16:47:35Z", "is_private": false, "text": "Created attachment 1088\nOptionally ignore system classes in available task"}, {"count": 3, "tags": [], "bug_id": 6031, "text": "Created attachment 1089\nDoc patch", "id": 10023, "time": "2002-01-29T16:53:02Z", "creator": "peterj@liberate.com", "creation_time": "2002-01-29T16:53:02Z", "is_private": false, "attachment_id": 1089}, {"count": 4, "tags": [], "bug_id": 6031, "attachment_id": 1387, "text": "Created attachment 1387\nJUnit tests", "id": 12013, "time": "2002-03-19T19:22:32Z", "creator": "peterj@liberate.com", "creation_time": "2002-03-19T19:22:32Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 6031, "attachment_id": null, "is_private": false, "id": 12014, "time": "2002-03-19T19:27:04Z", "creator": "peterj@liberate.com", "creation_time": "2002-03-19T19:27:04Z", "text": "The attached tests contain one that is skipped under JDK 1.1 (test21) because it\nwill not load java.* classes from the classpath.  To demonstrate the correct\nbehaviour of non-java.* classes, test24 is included; however, it exposes a JDK\n1.1 incompatibility in Zip.java (it uses Vector.clear()) that causes JUnit to\nfail after successfully running the test."}, {"count": 6, "tags": [], "creator": "umagesh@apache.org", "is_private": false, "id": 12017, "attachment_id": null, "bug_id": 6031, "creation_time": "2002-03-19T19:58:22Z", "time": "2002-03-19T19:58:22Z", "text": "> 1.1 incompatibility in Zip.java (it uses Vector.clear()) that causes JUnit to\n> fail after successfully running the test.\n\nI believe this has been fixed in CVS HEAD.  Did you check the latest source?"}, {"count": 7, "tags": [], "creator": "umagesh@apache.org", "text": "Thanks for the testcases, Peter.  Unless we hear somebody else complain, I will\ncommit this by this week.", "id": 12018, "attachment_id": null, "bug_id": 6031, "creation_time": "2002-03-19T20:03:04Z", "time": "2002-03-19T20:03:04Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 6031, "is_private": false, "id": 12020, "creation_time": "2002-03-19T20:54:45Z", "time": "2002-03-19T20:54:45Z", "creator": "peterj@liberate.com", "text": "Thought I had checked out the current version--did a new \"cvs update\" and all's\nwell.\n\nI'll attach uploaded Available and AntClassLoader diffs, as they don't apply\ncleanly to the head.", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 6031, "attachment_id": 1388, "id": 12021, "time": "2002-03-19T20:55:40Z", "creator": "peterj@liberate.com", "creation_time": "2002-03-19T20:55:40Z", "is_private": false, "text": "Created attachment 1388\nUpdated taskdef source patch"}, {"count": 10, "tags": [], "bug_id": 6031, "attachment_id": null, "is_private": false, "id": 12023, "time": "2002-03-19T22:45:26Z", "creator": "umagesh@apache.org", "creation_time": "2002-03-19T22:45:26Z", "text": "Patch applied.  Peter, please ensure everything is ok.  Thanks!"}]