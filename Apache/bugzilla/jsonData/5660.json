[{"count": 0, "tags": [], "bug_id": 5660, "attachment_id": null, "text": "Hi,\n\nI have defined an JDBCRealm in the server.xml:\n\n<Realm  className=\"org.apache.catalina.realm.JDBCRealm\" \ndriverName=\"oracle.jdbc.driver.OracleDriver\"               \nconnectionURL=\"jdbc:oracle:thin:@DBTEST:1521:DBTEST01\"\nconnectionName=\"xyz\" connectionPassword=\"xyz\" userTable=\"benutzer\" \nuserNameCol=\"usershort\" userCredCol=\"password\"\nuserRoleTable=\"tomcat_role_table\" \nroleNameCol=\"role\" />                                                           \n\nThe classes12.jar (Oracle JDBC driver) is in $TOMCAT_HOME/server/lib.\n\nWhen I'am usind JDK 1.3.1_01 all is working correctly. When I switch to JDK 1.4 \nB3 then tomcat doesn't start anymore. I get the following error in catalina.out:\n\nStarting service Tomcat-Standalone\nApache Tomcat/4.0.1\nCatalina.start: LifecycleException:  Exception opening database connection:  \njava.sql.SQLException: oracle.jdbc.driver.OracleDriver\nLifecycleException:  Exception opening database connection:  \njava.sql.SQLException: oracle.jdbc.driver.OracleDriver\n        at org.apache.catalina.realm.JDBCRealm.start(JDBCRealm.java:615)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1108)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:612)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n        at org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:307)\n        at org.apache.catalina.core.StandardService.start\n(StandardService.java:388)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:505)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:776)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:681)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:179)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:42)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:28)\n        at java.lang.reflect.Method.invoke(Method.java:327)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:243)\n----- Root Cause -----\njava.sql.SQLException: oracle.jdbc.driver.OracleDriver\n        at org.apache.catalina.realm.JDBCRealm.open(JDBCRealm.java:538)\n        at org.apache.catalina.realm.JDBCRealm.start(JDBCRealm.java:613)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1108)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:612)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n        at org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:307)\n        at org.apache.catalina.core.StandardService.start\n(StandardService.java:388)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:505)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:776)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:681)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:179)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:42)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:28)\n        at java.lang.reflect.Method.invoke(Method.java:327)\n        at org.apache.catalina.startup.Bootstrap.main\n(Bootstrap.java:243)                                                            \n   \nWhen I comment out the JDBCRealm in server.xml then tomcat starts and is \nworking.\n\nAny Idea? Ah, I'am working with Suse Linux 7.x\n\nBest regards\nMartin Hengesbach", "id": 9274, "time": "2002-01-02T07:38:47Z", "creator": "martin@mhengesbach.de", "creation_time": "2002-01-02T07:38:47Z", "is_private": false}, {"count": 1, "tags": [], "creator": "vicentesalvador@netscape.net", "attachment_id": null, "id": 9442, "time": "2002-01-08T03:43:37Z", "bug_id": 5660, "creation_time": "2002-01-08T03:43:37Z", "is_private": false, "text": "Have you tested your Oracle JDBC Driver with JDK 1.4?\n\nI'm using Informix JDBC and all works fine!!!"}, {"count": 2, "tags": [], "bug_id": 5660, "attachment_id": null, "is_private": false, "id": 9847, "time": "2002-01-24T15:17:08Z", "creator": "remm@apache.org", "creation_time": "2002-01-24T15:17:08Z", "text": "There has been other classloading related problems found with JDK 1.4 b3\n(especially when using Struts), so using it with TC 4 is not recommended.\nI'l mark the bug as later, and more investigation will be done when JDK 1.4 is\nfinal (if the bug still exists, of course)."}, {"count": 3, "tags": [], "creator": "remm@apache.org", "text": "Reopen mentioning 1.4 RC.", "id": 10612, "time": "2002-02-12T23:19:46Z", "bug_id": 5660, "creation_time": "2002-02-12T23:19:46Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 5660, "text": "1.4 RC will probably fix it, as it fixed all the other classloader problems I\nwas experiencing with 1.4 b3. In any case, it looks like a JDK bug, so Tomcat\ncan't fix it.", "id": 10613, "time": "2002-02-12T23:21:55Z", "creator": "remm@apache.org", "creation_time": "2002-02-12T23:21:55Z", "is_private": false, "attachment_id": null}]