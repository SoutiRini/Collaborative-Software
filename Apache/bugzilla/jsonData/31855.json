[{"count": 0, "tags": [], "bug_id": 31855, "attachment_id": null, "id": 65530, "time": "2004-10-22T20:12:12Z", "creator": "pete_johlie@adp.com", "creation_time": "2004-10-22T20:12:12Z", "is_private": false, "text": "C:\\jakarta-tomcat-3.3.2\\webapps\\IW24>ant -f build.xml c_ace\nUnable to locate tools.jar. Expected to find it in C:\\Program \nFiles\\JavaSoft\\JRE\\1.2\\lib\\tools.jar\nBuildfile: build.xml\nA nonfatal internal JIT (3.10.107(x)) error 'chgTarg: Conditional' has \noccurred in :\n  'org/apache/tools/ant/Project.addReference \n(Ljava/lang/String;Ljava/lang/Object;)V': Interpreting method.\n  Please report this error in detail to http://java.sun.com/cgi-\nbin/bugreport.cgi\n\n\n [property] java.lang.IllegalMonitorStateException: current thread not owner\n [property]     at org.apache.tools.ant.taskdefs.StreamPumper.run\n(StreamPumper.java, Compiled Code)\n [property]     at java.lang.Thread.run(Thread.java:479)\n [property] java.lang.IllegalMonitorStateException: current thread not owner\n [property]     at org.apache.tools.ant.taskdefs.StreamPumper.run\n(StreamPumper.java, Compiled Code)\n [property]     at java.lang.Thread.run(Thread.java:479)"}, {"count": 1, "tags": [], "bug_id": 31855, "attachment_id": null, "id": 65532, "time": "2004-10-22T20:27:15Z", "creator": "pete_johlie@adp.com", "creation_time": "2004-10-22T20:27:15Z", "is_private": false, "text": "C'mon!\nwhat's up with that!?!\n1.5 works fine\nFIX IT!"}, {"count": 2, "tags": [], "text": "Well, firstly, it doesn't appear that you are using a JDK, but rather a JRE.  \nSo you wouldn't be able to run javac.  Why don't you try that and then let us \nknow what happens?", "is_private": false, "bug_id": 31855, "id": 65533, "time": "2004-10-22T20:33:33Z", "creator": "mbenson@apache.org", "creation_time": "2004-10-22T20:33:33Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "BRILLIANT!\ni said it works with 1.5\n\n(\"firstly\"..???)\n", "is_private": false, "id": 65534, "creator": "pete_johlie@adp.com", "time": "2004-10-22T20:37:38Z", "bug_id": 31855, "creation_time": "2004-10-22T20:37:38Z", "attachment_id": null}, {"text": "Hmmm, time to take a break or something Pete...\n\nDeep breathing, close your eyes, and then maybe make a fresh start exposing \nyour problem nicely. The way it's going right now, you're not going to get much \nhelp from this pool of volunteers. --DD", "tags": [], "bug_id": 31855, "is_private": false, "count": 4, "id": 65536, "time": "2004-10-22T20:44:42Z", "creator": "ddevienne@lgc.com", "creation_time": "2004-10-22T20:44:42Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 31855, "attachment_id": null, "id": 65537, "time": "2004-10-22T20:45:42Z", "creator": "alexeys@inventigo.com", "creation_time": "2004-10-22T20:45:42Z", "is_private": false, "text": "The important error is\nUnable to locate tools.jar. Expected to find it in C:\\Program \nFiles\\JavaSoft\\JRE\\1.2\\lib\\tools.jar\n\nI think your PATH or JAVA_HOME was changed besides ANT change."}, {"count": 6, "tags": [], "bug_id": 31855, "attachment_id": null, "id": 65538, "time": "2004-10-22T20:52:22Z", "creator": "pete_johlie@adp.com", "creation_time": "2004-10-22T20:52:22Z", "is_private": false, "text": "No, it's not the tools.jar\nignore that part of the error: i picked the wrng part of the log\nlet me say it again:\nit works with 1.5, and it does not work with 1.6.2\n\ni didn't realize this was a volunteer area: \ni thought it was just a place to submit bugs\n\ni'm not treating it as a forum, and i'm not really wondering why it doesn't \nwork: i'm reporting to \"ant-keepers\" that it doesn't work\n\n\n\n"}, {"count": 7, "attachment_id": null, "bug_id": 31855, "is_private": false, "id": 65539, "time": "2004-10-22T20:57:14Z", "creator": "ddevienne@lgc.com", "creation_time": "2004-10-22T20:57:14Z", "tags": [], "text": "You are not aware that Ant is Open Source, and worked on only by volunteers?\n\nAnd you call a post like \"C'mon! what's up with that!?! 1.5 works fine FIX IT!\n\" as \"just submitting a bug\"!?!?!?\n\nHere are the parts that shouldn't be there:\n1) C'mon!\n2) What's up with that!?!\n3) FIX IT!\n\nThat doesn't leave much, does it... You're way out of line Pete. --DD"}, {"count": 8, "tags": [], "text": "From webster.com:\n\nMain Entry: first\u00b7ly \nPronunciation: -lE\nFunction: adverb\n: in the first place : FIRST \n\nSecondly, if you're not willing to help us determine what exactly doesn't work \n(never mind why yet) then you're not going to get very far.  When an Ant \nrelease candidate is put together unit tests are run against Java 1.2 as well \nas other Java versions, so either you are in error or you have stumbled onto \nsomething we cannot readily find (and that apparently affects only you).", "attachment_id": null, "bug_id": 31855, "id": 65540, "time": "2004-10-22T20:59:10Z", "creator": "mbenson@apache.org", "creation_time": "2004-10-22T20:59:10Z", "is_private": false}, {"count": 9, "tags": [], "text": "i wasn't aware this portion of ant was volunteer\nit seems to be handled differently\nyou need a login and password, etc\nand i've never reported a bug before\n\nregardless\n\nlet me explain what i did, and you can tell me where i went wrong\ni downloaded and installed the 1.4 jdk and 1.6.2 ant\ni wrote an ant script with several javac tasks in various targets\neverything worked fine\ni had to change to jdk1.2.2, so i downloaded and installed the 1.2.2 jdk, and \nthe jre\nthen i got the aforementioned error\n\ni downloaded ant 1.5 and \"installed\"/unpacked it (and pointed to it)\nthen i did not get the aforementioned error\n\nthere's not much to it\nwhat do you want me to do?\nremove the 1.2 jre? \nwhatever you want, just ask me to do it\n", "attachment_id": null, "id": 65542, "creator": "pete_johlie@adp.com", "time": "2004-10-22T21:09:10Z", "bug_id": 31855, "creation_time": "2004-10-22T21:09:10Z", "is_private": false}, {"count": 10, "tags": [], "text": "I heard no mention of JAVA_HOME .  It sounds like Ant is finding the java \nexecutable in the 1.2.2 JRE installation.  You can either add the jdk1.2.2 bin \ndirectory to the front of your PATH to ensure it contains the first java \nexecutable found, or you can set JAVA_HOME=(wherever your 1.2.2 JDK is \ninstalled).", "attachment_id": null, "id": 65544, "creator": "mbenson@apache.org", "time": "2004-10-22T21:14:30Z", "bug_id": 31855, "creation_time": "2004-10-22T21:14:30Z", "is_private": false}, {"count": 11, "tags": [], "text": "JAVA_HOME was set to jdk1.2.2", "is_private": false, "id": 65549, "creator": "pete_johlie@adp.com", "time": "2004-10-22T22:05:48Z", "bug_id": 31855, "creation_time": "2004-10-22T22:05:48Z", "attachment_id": null}, {"count": 12, "tags": [], "bug_id": 31855, "attachment_id": null, "id": 65550, "time": "2004-10-22T22:15:53Z", "creator": "mbenson@apache.org", "creation_time": "2004-10-22T22:15:53Z", "is_private": false, "text": "What is the exact value of JAVA_HOME?"}, {"text": "\nAre you serious?\nIt's pointing to the home of the jdk 1.2.2 installation\nc:\\jdk1.2.2\n\nwhat significance does the exact value have?\nit's only meaningful on my machine\n\n", "tags": [], "bug_id": 31855, "attachment_id": null, "count": 13, "id": 65551, "time": "2004-10-22T22:20:32Z", "creator": "pete_johlie@adp.com", "creation_time": "2004-10-22T22:20:32Z", "is_private": false}, {"count": 14, "tags": [], "bug_id": 31855, "attachment_id": null, "id": 65556, "time": "2004-10-22T22:37:07Z", "creator": "mbenson@apache.org", "creation_time": "2004-10-22T22:37:07Z", "is_private": false, "text": "If you happen to be using cygwin I'd like to see what \"which java\" produces.  \nBeyond that, if you can attach a small buildfile with which we can reproduce \nthis error that could only help."}, {"count": 15, "tags": [], "text": "I guess if you're using a later Windows NT branch version, you can use this \nfrom the command line:\n\nfor %I in (java.exe) do echo %~$PATH:I\n\nif you don't have cygwin and which, or even if you do... but if JAVA_HOME is \nset, Ant should be using it.  Again that build snippet is probably where we \nwant to go next.\n", "is_private": false, "bug_id": 31855, "id": 65557, "time": "2004-10-22T22:39:17Z", "creator": "mbenson@apache.org", "creation_time": "2004-10-22T22:39:17Z", "attachment_id": null}, {"count": 16, "tags": [], "text": "\n<target name=\"c_ace\" description=\"compile the source \" >\n\t\t\t\n\t\t<javac srcdir=\"${srcclasses}/${dsSrc}/ace\"   \ndestdir=\"${bldclasses}\" debug=\"on\" > \n\t\t<classpath refid=\"adplib.jars\"/>\n\t\t</javac>\n\t\t\n\t</target>", "is_private": false, "id": 65651, "creator": "pete_johlie@adp.com", "time": "2004-10-25T14:16:40Z", "bug_id": 31855, "creation_time": "2004-10-25T14:16:40Z", "attachment_id": null}, {"count": 17, "tags": [], "bug_id": 31855, "attachment_id": null, "id": 65654, "time": "2004-10-25T14:59:39Z", "creator": "mbenson@apache.org", "creation_time": "2004-10-25T14:59:39Z", "is_private": false, "text": "Okay, since obviously I couldn't run that build snippet or anything, I took it \nupon myself to create this simple, self-contained example:\n<project>\n  <echo file=\"Test.java\">public class Test {public int a = 0;}</echo>\n  <javac srcdir=\"${basedir}\" includes=\"Test.java\" />\n</project>\n\nand I do get a slew of silly-looking junk, \"non-fatal\" blah blah blah.  However \nthe classfile is created.  Can you run the above successfully?  All I am \ngetting is this JIT error, which is annoying but incidentally can be suppressed \nalong with the JIT itself.  This can be done by adding -Djava.compiler=NONE to \nthe value of your ANT_OPTS environment variable.  Since this is an error in the \nJIT compiler for Java 1.2 (ON WINDOWS >:P ) I don't know how much we will be \nable to do to encourage proper behavior.  As for my earlier comment on testing \nto ensure compatibility, I personally ordinarily test Java 1.2 on Solaris only, \nto be assured of Java compatibility.  When Windows decides to act goofy \nboundaries begin to fuzz.  But if it makes you feel any better, I recall my \ncoworkers having trouble running pre-1.6.0 CVS versions of Ant with Java 1.2 on \nWindows a year ago.\n"}, {"count": 18, "tags": [], "bug_id": 31855, "attachment_id": null, "id": 65655, "time": "2004-10-25T15:33:10Z", "creator": "pete_johlie@adp.com", "creation_time": "2004-10-25T15:33:10Z", "is_private": false, "text": "\nMatt\nThanks for all your time on this.\nIt's nice to know that someone has the same experience.\nDid you repeatedly try running the compile?\nI wonder if you would get the thread problem i originally listed if you keep \non running it.\nThanks\nI'm just going to use 1.5 until i can get off of jdk1.2.2\n\nThanks  again\n"}, {"count": 19, "tags": [], "bug_id": 31855, "attachment_id": null, "text": "This is related to a Sun javac problem. Ant 1.6.x is built using a 1.4.x \nversion of Java and 1.2.x versions of the JVM have obvious bugs. Classic VM \nand its JITs are retired and all Sun effort has been put into HotSpot. You can \ngoogle for that error or look in the sun bug database.\n\nIf it is important for you, you might consider building Ant from the sources \nwith a JDK 1.2.x and see if it fixes the problem.\n\nI'm putting that as INVALID as this is not a Ant bug per se but a Sun problem \n(and if you look into the Sun bug database, they are all set as wontfix)\n", "id": 66715, "time": "2004-11-11T13:59:52Z", "creator": "sbailliez@apache.org", "creation_time": "2004-11-11T13:59:52Z", "is_private": false}, {"text": "OK\nThanks\nCan there be some sort of \"disclaimer\" about this?\n", "tags": [], "bug_id": 31855, "attachment_id": null, "count": 20, "id": 66723, "time": "2004-11-11T15:24:08Z", "creator": "pete_johlie@adp.com", "creation_time": "2004-11-11T15:24:08Z", "is_private": false}, {"count": 21, "tags": [], "bug_id": 31855, "attachment_id": null, "id": 66724, "time": "2004-11-11T15:50:13Z", "creator": "stevel@apache.org", "creation_time": "2004-11-11T15:50:13Z", "is_private": false, "text": "Added comments and workaround to platform issues in CVS_HEAD; along with some\nstuff on Java1.5."}]