[{"count": 0, "tags": [], "bug_id": 52106, "text": "<delete file=\"${wrapper-log-path}\" quiet=\"true\" />\n\nleads to:\n\n   [delete] Deleting: /Users/benson/x/oap/it/smoke/target/sandbox/jdd-install/logs/wrapper.log\n\nThe doc seems to be telling me that, without a setting of 'verbose=\"true\", it won't talk. Is the doc wrong?", "id": 150983, "time": "2011-10-27T21:07:27Z", "creator": "bimargulies@gmail.com", "creation_time": "2011-10-27T21:07:27Z", "is_private": false, "attachment_id": null}, {"text": "This is tricky.\n\nWhen deleting a directory tree Ant explicitly logs a \"normal\" level message for the top level dir and verbose affects the individual files and directories inside the tree.  When you use a single file arg this is considered the same as the top-level of the tree.\n\nThe fix is simple\n\nIndex: src/main/org/apache/tools/ant/taskdefs/Delete.java\n===================================================================\n--- src/main/org/apache/tools/ant/taskdefs/Delete.java  (revision 1190217)\n+++ src/main/org/apache/tools/ant/taskdefs/Delete.java  (working copy)\n@@ -551,7 +551,8 @@\n                         + \" cannot be removed using the file attribute.  \"\n                         + \"Use dir instead.\", quiet ? Project.MSG_VERBOSE : ver\nbosity);\n                 } else {\n-                    log(\"Deleting: \" + file.getAbsolutePath());\n+                    log(\"Deleting: \" + file.getAbsolutePath(),\n+                        quiet ? Project.MSG_VERBOSE : verbosity);\n\n                     if (!delete(file)) {\n                         handle(\"Unable to delete file \" + file.getAbsolutePath());\n\nbut would make the logging logic of that task (even more) inconsistent.\n\nYou get the behavior you want by using a nested <file> resource rather than the file attribute.\n\n<delete quiet=\"true\">\n  <file file=\"${wrapper-log-path}\" />\n</delete>\n\nDid I say logging already was inconsistent?", "tags": [], "creator": "bodewig@apache.org", "is_private": false, "count": 1, "id": 150999, "time": "2011-10-28T10:01:17Z", "bug_id": 52106, "creation_time": "2011-10-28T10:01:17Z", "attachment_id": null}]