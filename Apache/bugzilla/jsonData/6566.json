[{"count": 0, "attachment_id": null, "creator": "hans@gefionsoftware.com", "is_private": false, "id": 10940, "time": "2002-02-20T01:51:15Z", "bug_id": 6566, "creation_time": "2002-02-20T01:51:15Z", "tags": [], "text": "There's a bug in the BundleSupport.getBundle(String basename, Locale pref)\nmethod, where it tests if the available Locale has a country code. The\ncurrent code performs the test like this:\n\n  if (pref.getLanguage().equals(avail.getLanguage())\n    && (avail.getCountry() == null)) \n\nBut Locale.getCountry() never returns null; it returns the empty string if\nno country is specified. Changing the test like this solves the problem:\n\n  if (pref.getLanguage().equals(avail.getLanguage())\n    && (\"\".equals(avail.getCountry())))"}]