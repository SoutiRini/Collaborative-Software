[{"count": 0, "text": "Due to all JavaCC activity and implementation of patch for version differences \nbetween JavaCC v2.1 and v3.0 I decided to update my enhancement patch in bug \n18602\n\n1) Patch JavaCC option KEEP_LINE_COLUMN (also alternative for v3.0 vs v3.1 see \ncomment in source)\n\n2) Patch JJTree option OUTPUT_FILE \n\n3) and new taskdef JJDoc", "creator": "jjasper@abz.nl", "attachment_id": null, "id": 40507, "time": "2003-07-11T20:39:42Z", "bug_id": 21526, "creation_time": "2003-07-11T20:39:42Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "jjasper@abz.nl", "is_private": false, "text": "Created attachment 7256\nNew taskdef JJDoc", "id": 40508, "time": "2003-07-11T20:41:40Z", "bug_id": 21526, "creation_time": "2003-07-11T20:41:40Z", "attachment_id": 7256}, {"count": 2, "tags": [], "text": "Created attachment 7257\nNew taskdef JJDoc documentation", "attachment_id": 7257, "id": 40509, "creator": "jjasper@abz.nl", "time": "2003-07-11T20:42:30Z", "bug_id": 21526, "creation_time": "2003-07-11T20:42:30Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 21526, "text": "Created attachment 7258\nPatch javacc, jjtree options plus documentation", "id": 40511, "attachment_id": 7258, "creator": "jjasper@abz.nl", "creation_time": "2003-07-11T20:43:56Z", "time": "2003-07-11T20:43:56Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 21526, "attachment_id": null, "id": 40514, "time": "2003-07-11T20:54:00Z", "creator": "jjasper@abz.nl", "creation_time": "2003-07-11T20:54:00Z", "is_private": false, "text": "Tested with version 2.1, 3.0 and 3.1.\n\nLet me know if test files are needed."}, {"text": "Does this patch include everything from 18602?  If so, we can mark that as a\nduplicate of this one (and improve our statistics 8-).\n", "tags": [], "creator": "bodewig@apache.org", "is_private": false, "count": 5, "id": 41210, "time": "2003-07-23T12:45:14Z", "bug_id": 21526, "creation_time": "2003-07-23T12:45:14Z", "attachment_id": null}, {"count": 6, "text": "*** Bug 18602 has been marked as a duplicate of this bug. ***", "creator": "bodewig@apache.org", "attachment_id": null, "id": 41217, "time": "2003-07-23T13:15:03Z", "bug_id": 21526, "creation_time": "2003-07-23T13:15:03Z", "tags": [], "is_private": false}, {"text": "The patch is in CVS, I had a couple of failing hunks, so please verify that I\nhaven't broken anything.\n\nI think the behavior of <jjtree> is now different from the one in 1.5.3 if you\ndon't specify outputdirectory (and outputfile neither).  In the old code, output\nwould get sent to the same directory as the grammar file, with the new code,\nI'm not sure as I don't know what jjtree will do when given a relative file name.\n\nCould you please look into this case?", "tags": [], "creator": "bodewig@apache.org", "is_private": false, "count": 7, "id": 41231, "time": "2003-07-23T14:17:04Z", "bug_id": 21526, "creation_time": "2003-07-23T14:17:04Z", "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 21526, "attachment_id": null, "id": 41264, "time": "2003-07-23T22:58:44Z", "creator": "jjasper@abz.nl", "creation_time": "2003-07-23T22:58:44Z", "is_private": false, "text": "Checked cvs committed code with my project sources and docs. \n\nAll difference where layout changes. Thus it doesn't look broken !)\n\nHad some problems with the FAT of my C-drive this weekend. \nAnd had the install a new OS (and reformat C).\n\nBut I must still reinstall some support libs (also JavaCC 2.1, 3.0 and 3.1).\nIt is rather late now. Thus I will finish comparing this version with Ant 1.5.3 \nfor JJTree this weekend.\n\nI'll check Ant 1.6 versus Ant 1.5.3 behavior and JJTree command line behavior \nwith all different combinations for outputdirectory and outputfile. The results \nI'll append as comment to this bug."}, {"count": 9, "tags": [], "text": "Created attachment 7500\nComparison report between jjtree command line, Ant 1.5.3 and Ant 1.6", "attachment_id": 7500, "id": 41467, "creator": "jjasper@abz.nl", "time": "2003-07-24T23:25:45Z", "bug_id": 21526, "creation_time": "2003-07-24T23:25:45Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 21526, "attachment_id": 7501, "is_private": false, "id": 41468, "time": "2003-07-24T23:27:46Z", "creator": "jjasper@abz.nl", "creation_time": "2003-07-24T23:27:46Z", "text": "Created attachment 7501\nPatch for -OUTPUTFILE:<absolute path> (only last difference is a real one)"}, {"count": 11, "text": "Wow, what an extensive test.  I really feel bad for asking for an additional\nround of tests before we can close this, but I have to.\n\nMy understanding of your tests is, that your project's basedir and the current\nworking directory are the same - what happens if they are different?\n\nThanks again.", "creator": "bodewig@apache.org", "is_private": false, "id": 41492, "time": "2003-07-25T09:48:54Z", "bug_id": 21526, "creation_time": "2003-07-25T09:48:54Z", "tags": [], "attachment_id": null}, {"count": 12, "tags": [], "bug_id": 21526, "attachment_id": 7523, "id": 41538, "time": "2003-07-25T21:55:30Z", "creator": "jjasper@abz.nl", "creation_time": "2003-07-25T21:55:30Z", "is_private": false, "text": "Created attachment 7523\nUpdate comparison table"}, {"count": 13, "tags": [], "bug_id": 21526, "text": "Created attachment 7524\nBlocks absolute path and drive letters in 'outputfile' option", "id": 41539, "time": "2003-07-25T21:57:00Z", "creator": "jjasper@abz.nl", "creation_time": "2003-07-25T21:57:00Z", "is_private": false, "attachment_id": 7524}, {"count": 14, "tags": [], "bug_id": 21526, "attachment_id": null, "id": 41540, "time": "2003-07-25T22:08:22Z", "creator": "jjasper@abz.nl", "creation_time": "2003-07-25T22:08:22Z", "is_private": false, "text": "Running the ant test in /work or /project directory result in same output.\nRunning the ant test a second doesn't require any rebuild actions.\n\nThus the last patch should do the job. See the update comparison table footnote \nfor an explanation. Maybe this table could be attached to jjtree.html ?"}, {"count": 15, "text": "Some questions\n\n+        if ((outputDirectory == null)\n+            && (outputFile.startsWith(\"/\") || outputFile.startsWith(\"\\\\\")))\n+        {\n+            throw new BuildException(\"Absolute path in 'outputfile' not\nsupported: \" + outputFile);\n+        }\n\nonly if outputdirectory has not been set?  I.e. absolute paths are supported\nif it has been set?\n\n+            throw new BuildException(\"Drive letter in 'outputfile' not\nsupported: \" + outputFile);\n\nIs this a general limitation of jjtree?\n\n> Maybe this table could be attached to jjtree.html ?\n\nOf course it can, if you send a patch ;-)\n\nStefan", "creator": "bodewig@apache.org", "is_private": false, "id": 41717, "time": "2003-07-29T14:48:04Z", "bug_id": 21526, "creation_time": "2003-07-29T14:48:04Z", "tags": [], "attachment_id": null}, {"count": 16, "tags": [], "bug_id": 21526, "text": "Created attachment 7726\nSupport for absolute path in 'outputfile' option  added", "id": 42499, "time": "2003-08-10T15:31:59Z", "creator": "jjasper@abz.nl", "creation_time": "2003-08-10T15:31:59Z", "is_private": false, "attachment_id": 7726}, {"count": 17, "tags": [], "text": "Note: patch 08/10/03 15:31 Support for absolute path in 'outputfile' option\nmust be applied after patch 07/25/03 21:57 Blocks absolute path and ...\n", "is_private": false, "id": 42500, "creator": "jjasper@abz.nl", "time": "2003-08-10T15:33:38Z", "bug_id": 21526, "creation_time": "2003-08-10T15:33:38Z", "attachment_id": null}, {"count": 18, "tags": [], "text": "Created attachment 7727\nExamples of outputfile and outputdirectory usage and results", "is_private": false, "id": 42501, "creator": "jjasper@abz.nl", "time": "2003-08-10T15:34:34Z", "bug_id": 21526, "creation_time": "2003-08-10T15:34:34Z", "attachment_id": 7727}, {"count": 19, "tags": [], "text": "footnote in patch 08/10/03 15:34, Examples of outputfile and outputdirectory \nusage and results, should also answer the questions --- From Stefan Bodewig \n2003-07-29 14:48 ---\n ", "is_private": false, "id": 42502, "creator": "jjasper@abz.nl", "time": "2003-08-10T15:37:12Z", "bug_id": 21526, "creation_time": "2003-08-10T15:37:12Z", "attachment_id": null}, {"count": 20, "tags": [], "bug_id": 21526, "text": "OK, patches are in.\n\nOne note though.  You don't need to set -OUTPUT-DIR if the user doesn't set one\nas you could always invoke Execute#setDir with the basedir before running jjtree.\nThis would ensure that current working directory (for jjtree) and the project's\nbasedir are the same.\n", "id": 42742, "attachment_id": null, "creator": "bodewig@apache.org", "creation_time": "2003-08-14T15:04:56Z", "time": "2003-08-14T15:04:56Z", "is_private": false}]