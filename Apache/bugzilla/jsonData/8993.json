[{"count": 0, "tags": [], "creator": "long@ku.edu", "attachment_id": null, "is_private": false, "id": 15925, "time": "2002-05-10T22:17:19Z", "bug_id": 8993, "creation_time": "2002-05-10T22:17:19Z", "text": "Beginning at line 9220 on configure, the locations configure looks to find the\nopenssl libraries are hard-coded.  Thus if you don't have openssl installed in\none of those places you are hosed.  configure should be changed to allow\nspecifying where to find the ssl libraries (e.g. use any directories specified\nwith -L via LDFLAGS?)."}, {"count": 1, "tags": [], "bug_id": 8993, "is_private": false, "text": "You should always be able to add include paths and library paths\nto the appropriate environment variables before calling configure.\nTry this:\n\nCFLAGS=\"-I/path/to/openssh/includes\" LDFLAGS=\"-L/path/to/openssh/lib\n-R/path/to/openssl/lib\" ./configure --your-flags\n\nIf this is not working, then that is a bug and you should reopen this\nreport. Thanks for using Apache!", "id": 15930, "time": "2002-05-10T23:33:59Z", "creator": "aaron@apache.org", "creation_time": "2002-05-10T23:33:59Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "long@ku.edu", "attachment_id": null, "is_private": false, "id": 16028, "time": "2002-05-13T20:01:16Z", "bug_id": 8993, "creation_time": "2002-05-13T20:01:16Z", "text": "The problem is that the configure script directly tests for the existence of\nlibssl.a and libssl.so in the hard coded directories.  It doesn't try compiling\na test program.  My libssl.a happens to be in /usr/freeware/lib32 (IRIX):\n\necho $ECHO_N \"checking for SSL/TLS toolkit libraries... $ECHO_C\" >&6\n  ap_ssltk_libdir=\"\"\n  for p in $ap_ssltk_base/lib /usr/local/openssl/lib \\\n           /usr/local/ssl/lib /usr/local/lib /usr/lib /lib; do\n    if test -f \"$p/libssl.a\" -o -f \"$p/libssl.so\"; then\n      ap_ssltk_libdir=\"$p\"\n      break\n    fi\n  done\n  if test \".$ap_ssltk_libdir\" = .; then\n    { { echo \"$as_me:$LINENO: error: OpenSSL libraries not found\" >&5\necho \"$as_me: error: OpenSSL libraries not found\" >&2;}\n   { (exit 1); exit 1; }; }\n  fi\n  echo \"$as_me:$LINENO: result: $ap_ssltk_libdir\" >&5\necho \"${ECHO_T}$ap_ssltk_libdir\" >&6"}, {"count": 3, "tags": [], "bug_id": 8993, "text": "The --with-ssl option accepts an argument, which is the location for openssl.\nI am marking this bug as INVALID, because the problem can be solved without any\ncode changes.\n", "id": 17844, "time": "2002-06-15T01:25:55Z", "creator": "rbb@apache.org", "creation_time": "2002-06-15T01:25:55Z", "is_private": false, "attachment_id": null}, {"id": 17940, "tags": [], "bug_id": 8993, "attachment_id": null, "count": 4, "text": "--with-ssl does NOT solve this problem I'm afraid.  If I specify\n--with-ssl=/usr/freeware then the configure script checks for libssl.a and\nlibssl.so in /usr/freeware/lib.  My SSL library is installed in\n/usr/freeware/lib32.  Please read the code in the bug report and you should see\nwhat I mean.  */lib is always checked for the library but */lib32 is never\nchecked.\n\n", "time": "2002-06-17T21:27:03Z", "creator": "long@ku.edu", "creation_time": "2002-06-17T21:27:03Z", "is_private": false}, {"count": 5, "attachment_id": null, "creator": "towerofpower@operamail.com", "is_private": false, "id": 35999, "time": "2003-04-24T17:42:52Z", "bug_id": 8993, "creation_time": "2003-04-24T17:42:52Z", "tags": [], "text": "Hmmm, I think I have been running into this problem since some time ago, I \nrecognize the script code, I remember spending an ungodly amount of time \nhacking that file to get my Apache 2.0.x running on Red Hat 7.2, the problem as \nI figured it one day, way that libssl.so.0.9.7 and libcrypto.so.0.9.7 had to be \ncopped into /lib before Apache would compile (yes, with --enable-ssl --with-\nssl=/usr/local/ssl) with openssl.  Those locations are definatly hard coded \ninto that file.  And if the *.so files do not match with your version of \nopenssl, it will error out.  That is why it worked just fine with Slackware, \nbut not with Red Hat, different versions and some luck.\n\nThe error is produced later on in that file, as the build process tries to \nrun \"openssl version\", the lib versions do not match, \"openssl version\" returns \nan error, and the build process stop.\n\nI'm not sure if this is an Apache error, or a combination of \ndistribution+Apache+openssl type of error.  I do not believe openssl requires \nyou to put those libs in /lib...\n\nIt has been a while; I wish I could be clearer.\n"}, {"count": 6, "tags": [], "creator": "towerofpower@operamail.com", "attachment_id": null, "text": "The deal with openssl is, you need to add /usr/local/ssl/lib to /etc/ld.so.conf \nand run ldconfig.\n\nThat is, if you installed openssl over Red Hat's rpm build.\n\nOtherwise, the Apache config process will run openssl under the --with-ssl=DIR \nwhile openssl is still linked to the old libs and error on that point.\n\nThat was my original problem.\n\nhttp://www.devside.net\nDeveloperSide.NET", "id": 39807, "time": "2003-07-02T01:08:12Z", "bug_id": 8993, "creation_time": "2003-07-02T01:08:12Z", "is_private": false}, {"count": 7, "tags": [], "creator": "chip@force-elite.com", "attachment_id": null, "is_private": false, "id": 75896, "time": "2005-06-03T02:30:23Z", "bug_id": 8993, "creation_time": "2005-06-03T02:30:23Z", "text": "Fixed by OS configuration."}]