[{"count": 0, "tags": [], "creator": "nick.laqua@newtron.net", "attachment_id": null, "id": 37920, "time": "2003-05-28T13:25:00Z", "bug_id": 20301, "creation_time": "2003-05-28T13:25:00Z", "is_private": false, "text": "After running fine the  whole time, the jserv_module is shut down by the apache \nserver without any reason. Problem could be reproduced using three parallel \nthreads requesting a simple servlet (IsItWorking).\n\nmod_jserv.log:\n\n27/05/2003 00:57:49:218] (INFO) wrapper: controller got stop event (PH=660)\n[27/05/2003 00:57:49:234] (INFO) wrapper: Sending signal to JServ\n[27/05/2003 00:57:49:265] (INFO) ajp12: sending shutdown signal\n[27/05/2003 00:57:53:546] (ERROR) wrapper: Java Virtual Machine did not exit, \nterminated\n[27/05/2003 00:57:53:578] (INFO) wrapper: Java Virtual Machine stopped\n[27/05/2003 00:57:53:625] (INFO) wrapper: controller thread stopped\n[27/05/2003 00:57:53:656] (INFO) wrapper: Shutdown done (PID=448)\n[27/05/2003 00:57:53:656] (INFO) Apache Module was cleaned-up\n[27/05/2003 00:58:26:265] (EMERGENCY) ajp12: can not connect to host \n127.0.0.1:8007\n[27/05/2003 00:58:26:296] (EMERGENCY) ajp12: connection fail\n[27/05/2003 00:58:26:296] (ERROR) an error returned handling request via \nprotocol \"ajpv12\"\n[27/05/2003 00:58:27:796] (EMERGENCY) ajp12: can not connect to host \n127.0.0.1:8007\n[27/05/2003 00:58:27:796] (EMERGENCY) ajp12: connection fail\n[27/05/2003 00:58:27:796] (ERROR) an error returned handling request via \nprotocol \"ajpv12\"\n[27/05/2003 00:58:29:328] (EMERGENCY) ajp12: can not connect to host \n127.0.0.1:8007\n[27/05/2003 00:58:29:328] (EMERGENCY) ajp12: connection fail\n\n\naccess.log (time looks 2 hours different, just wrong configuration):\n\n193.158.227.12 - - [27/May/2003:02:57:15 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 200 157\n193.158.227.12 - - [27/May/2003:02:57:17 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 200 157\n193.158.227.12 - - [27/May/2003:02:57:19 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 200 157\n193.158.227.12 - - [27/May/2003:02:57:20 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 200 157\n193.158.227.12 - - [27/May/2003:02:57:22 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 200 157\n193.158.227.12 - - [27/May/2003:02:57:24 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 200 157\n193.158.227.12 - - [27/May/2003:02:57:25 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 200 157\n193.158.227.12 - - [27/May/2003:02:57:26 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 200 157\n193.158.227.12 - - [27/May/2003:02:57:28 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 200 157\n193.158.227.12 - - [27/May/2003:02:58:26 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 500 593\n193.158.227.12 - - [27/May/2003:02:58:27 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 500 593\n193.158.227.12 - - [27/May/2003:02:58:29 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 500 593\n193.158.227.12 - - [27/May/2003:02:58:30 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 500 593\n193.158.227.12 - - [27/May/2003:02:58:32 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 500 593\n193.158.227.12 - - [27/May/2003:02:58:33 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 500 593\n193.158.227.12 - - [27/May/2003:02:58:35 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 500 593\n193.158.227.12 - - [27/May/2003:02:58:36 +0200] \"POST /servlets/HTTPController \nHTTP/1.1\" 500 593\n\nretcode 500 (behind server url) = Internal Server error(mod_jserv not available)\n\njserv.log\n\n27/05/2003 08:55:53:203 CEST] <info> ApacheJServ/1.1.2 is starting...\n[27/05/2003 08:55:58:406 CEST] <info> Log queue age limit exceeded\n[27/05/2003 08:55:53:203 CEST] <info> Connection authentication is disabled\n[27/05/2003 08:55:53:468 CEST] <info> Connection allowed from \n127.0.0.1/127.0.0.1\n[27/05/2003 08:55:53:500 CEST] <info> Listening on port 8007 accepting 50 \nmaximum connections\n[27/05/2003 08:55:53:562 CEST] <info> Creating Servlet Zones\n[27/05/2003 08:55:53:562 CEST] <info> Servlet Zone root initializing...\n[27/05/2003 08:55:53:609 CEST] <info> Initialisation timeout: 10 seconds\n[27/05/2003 08:55:53:609 CEST] <info> Destroy timeout: 10 seconds\n[27/05/2003 08:55:53:609 CEST] <info> Session timeout: 1800 seconds\n[27/05/2003 08:55:53:609 CEST] <info> New session timeout: 1800 seconds\n[27/05/2003 08:55:53:609 CEST] <info> Session check frequency: 30 seconds\n[27/05/2003 08:55:53:609 CEST] <info> Autoreload on zone file changes: true\n[27/05/2003 08:55:53:609 CEST] <info> Autoreload on classfile changes: true\n[27/05/2003 08:55:53:609 CEST] <info> Default initArgs: {}\n[27/05/2003 08:55:53:656 CEST] <info> Servlet name: IsItWorking\n[27/05/2003 08:55:53:656 CEST] <info> Servlet name: HTTPController\n[27/05/2003 08:55:58:593 CEST] <servletLog> \nHTTPController/com.seeburger.http.HTTPController: init\n[27/05/2003 08:55:58:593 CEST] <servletLog> HTTPController/main \n[HTTPHandlerServlet::init] # ### ServletContext is loaded \n[27/05/2003 08:55:58:593 CEST] <servletLog> HTTPController/main \n[HTTPHandlerServlet::init] # ### in init method of HTTPHandlerServlet, Version  \n1.0.2-0703a\n[27/05/2003 08:55:58:593 CEST] <servletLog> HTTPController/main \n[HTTPHandlerServlet::init] # ### check the derived flag \n[27/05/2003 08:55:58:593 CEST] <servletLog> HTTPController/main \n[HTTPHandlerServlet::init] # ### check if this method called from derived class \nmethod\n[27/05/2003 08:55:58:671 CEST] <servletLog> HTTPController/main \n[HTTPHandlerServlet::init] # ### seems if this method called from derived class \nmethod\n[27/05/2003 08:55:58:671 CEST] <servletLog> HTTPController/main \n[HTTPHandlerServlet::init] # ### thus return !\n[27/05/2003 08:55:58:671 CEST] <servletLog> HTTPController/ ok, going on with \nown init ... \n[27/05/2003 08:55:58:671 CEST] <servletLog> \nHTTPController/HTTPController.init : ### ServletContext is loaded \n[27/05/2003 08:55:58:671 CEST] <servletLog> \nHTTPController/HTTPController.init : ### in init method of HTTPController, \nVersion  0.9.4-1106a\n[27/05/2003 08:55:58:671 CEST] <servletLog> HTTPController/HTTPController.init \n### Ok, found LOGPROPERTYFILE 'c:\\BIS\\sys\\SHC\\SHCtrace.properties'\n[27/05/2003 08:56:03:437 CEST] <servletLog> HTTPController/HTTPController.init \n### Ok, found PROPERTYFILE 'c:\\BIS\\sys\\SHC\\SHC.properties'\n[27/05/2003 08:56:04:015 CEST] <servletLog> HTTPController/Initializing is \nfinished !\n[27/05/2003 08:56:20:328 CEST] <servletLog> check_servlet: init\n[27/05/2003 08:56:26:718 CEST] <servletLog> IsItWorking/IsItWorking: init\n[27/05/2003 09:01:19:500 CEST] <info> Terminating ApacheJServ/1.1.2...\n\nat 8:55,Apache was restarted (jserv.log), at 9:01, the jserv module was shut \ndown again (same trace in mod_jserv.log)"}, {"text": "\n  Sorry, but jserv is no longer supported by any project.  You need to update\n  to mod_jk or mod_jk2, either of which is much more robust on Win32.", "tags": [], "bug_id": 20301, "attachment_id": null, "count": 1, "id": 37932, "time": "2003-05-28T18:33:56Z", "creator": "wrowe@apache.org", "creation_time": "2003-05-28T18:33:56Z", "is_private": false}]