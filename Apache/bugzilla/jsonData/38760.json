[{"count": 0, "attachment_id": null, "bug_id": 38760, "text": "If Apache is used as a proxy in front of tomcat using ProxyPass and\nProxyPassreverse with a path different than the path specified in the context of\nthe tomcat webapp, tomcat returns the cookie using the path associated with the\ncontext of the webapp instead of the initial request path as seen from the client.\n\ni.e.\n\nProxyPass         /test   http://192.168.1.10/secured\nProxyPassReverse  /test   http://192.168.1.10/secured\n\nIn this case, the request is submitted to Apache web server as\nhttp://somedomain.com/test/index.html,  ProxyPass translates this request to\nhttp://192.168.1.10/secured/index.html.  if a cookie is placed on the request,\nit should be placed at:\n\ndomain:  somedomain.com\npath: /test\n\nHowever instead, tomcat places it at:\n\ndomain: somedomain.com\npath: /secured\n\nWhen trying to login, Apache ends up logging a 408 error.\n\nI have not been able to trace through the code where the cookies are set inside\nTomcat.\n\nIf you set the ProxyPass, ProxyPassReverse to be the same path, this error does\nnot occur, however this severely hinders the flexibility of the proxy.", "id": 86112, "time": "2006-02-23T04:31:43Z", "creator": "brian.bonner@paraware.com", "creation_time": "2006-02-23T04:31:43Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 38760, "attachment_id": null, "text": "\n\n*** This bug has been marked as a duplicate of 38759 ***", "id": 86115, "time": "2006-02-23T05:21:54Z", "creator": "william.barker@wilshire.com", "creation_time": "2006-02-23T05:21:54Z", "is_private": false}]