[{"count": 0, "tags": [], "bug_id": 56858, "is_private": false, "id": 177178, "attachment_id": 31919, "creator": "manuel-asf@mausz.at", "creation_time": "2014-08-15T00:54:55Z", "time": "2014-08-15T00:54:55Z", "text": "Created attachment 31919\nstderr-terminate-buffer.patch\n\niobuf isn't terminated before passed to ap_log_rerror"}, {"count": 1, "tags": [], "text": "This for the report.  Here is a simpler fix:\n\nIndex: modules/proxy/mod_proxy_fcgi.c\n===================================================================\n--- modules/proxy/mod_proxy_fcgi.c\t(revision 1617253)\n+++ modules/proxy/mod_proxy_fcgi.c\t(working copy)\n@@ -665,7 +665,7 @@\n                 /* TODO: Should probably clean up this logging a bit... */\n                 if (clen) {\n                     ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(01071)\n-                                  \"Got error '%s'\", iobuf);\n+                                  \"Got error '%.*s'\", (int)readbuflen, iobuf);\n                 }\n \n                 if (clen > readbuflen) {\n\nI'll commit that when I get a chance to test...", "is_private": false, "id": 177188, "creator": "trawick@apache.org", "time": "2014-08-15T19:02:23Z", "bug_id": 56858, "creation_time": "2014-08-15T19:02:23Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "manuel-asf@mausz.at", "text": "The simpler one was initial patch, but mine is a bit faster :)", "id": 177189, "time": "2014-08-15T19:14:30Z", "bug_id": 56858, "creation_time": "2014-08-15T19:14:30Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "text": ">The simpler one was initial patch, but mine is a bit faster :)\nThat seems odd, since it throws away the knowledge of how long the string is.\n\nWith .*, the string length doesn't have to be calculated.", "attachment_id": null, "id": 177190, "creator": "trawick@apache.org", "time": "2014-08-15T19:28:12Z", "bug_id": 56858, "creation_time": "2014-08-15T19:28:12Z", "is_private": false}, {"count": 4, "tags": [], "text": "(In reply to Jeff Trawick from comment #3)\n> >The simpler one was initial patch, but mine is a bit faster :)\n> That seems odd, since it throws away the knowledge of how long the string is.\n> \n> With .*, the string length doesn't have to be calculated.\nThat's because ap_log_rerror has to walk down the array until either the first 0-byte or the supplied length in order to determine the \"real\" length of the array. See https://github.com/apache/apr/blob/trunk/strings/apr_snprintf.c#L975\n\nHowever I'm totally fine with your patch as well. Just wanted to point this out.", "attachment_id": null, "id": 177191, "creator": "manuel-asf@mausz.at", "time": "2014-08-15T19:34:39Z", "bug_id": 56858, "creation_time": "2014-08-15T19:34:39Z", "is_private": false}, {"count": 5, "tags": [], "creator": "trawick@apache.org", "text": "Thanks for explaining (blush).  We'll go with your original, unposted patch which was the same as mine.", "id": 177197, "time": "2014-08-16T14:24:41Z", "bug_id": 56858, "creation_time": "2014-08-16T14:24:41Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 56858, "attachment_id": null, "is_private": false, "id": 177198, "time": "2014-08-16T19:19:33Z", "creator": "trawick@apache.org", "creation_time": "2014-08-16T19:19:33Z", "text": "The fix is now in httpd trunk with r1618401, and is proposed for backport to the 2.4.x branch.\n\nThanks!"}, {"count": 7, "tags": [], "bug_id": 56858, "attachment_id": null, "is_private": false, "id": 177217, "time": "2014-08-18T06:23:26Z", "creator": "christophe.jaillet@wanadoo.fr", "creation_time": "2014-08-18T06:23:26Z", "text": "BTW,\n\nin the comment pointed out by Manuel, in the string \"My reading is is precision is specified and\", shouldn't \"is is\" be \"is if\" ?"}, {"count": 8, "tags": [], "text": "This is in the 2.4.x branch and will be in the next release.", "is_private": false, "id": 179534, "creator": "trawick@apache.org", "time": "2014-12-05T12:29:05Z", "bug_id": 56858, "creation_time": "2014-12-05T12:29:05Z", "attachment_id": null}]