[{"count": 0, "tags": [], "creator": "matt.friederich@navteq.com", "attachment_id": null, "text": "In HttpSessionListener.sessionDestroyed() I see an IllegalStateException thrown \nwhen calling se.getSession().getAttribute(...).  \n\nPer the JavaDoc sessionDestroyed() is \"Notification that a session is ABOUT to \nbe invalidated\" (emphasis added), so I would expect sessionDestroyed() to be \ncalled before the session's invalidated (allowing for attribute clean-up, e.g. \nclosing DB connections), rather than afterwards.\n\njava.lang.IllegalStateException: getAttribute: Session already invalidated\n\tat org.apache.catalina.session.StandardSession.getAttribute\n(StandardSession.java:954)\n\tat org.apache.catalina.session.StandardSessionFacade.getAttribute\n(StandardSessionFacade.java:171)\n\tat com.xxx.yyy.zzz.reports.common.SessionListener.closeSession\n(SessionListener.java:64)", "id": 58872, "time": "2004-06-08T15:39:26Z", "bug_id": 29444, "creation_time": "2004-06-08T15:39:26Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 29444, "attachment_id": null, "is_private": false, "id": 58874, "time": "2004-06-08T15:47:45Z", "creator": "funkman@joedog.org", "creation_time": "2004-06-08T15:47:45Z", "text": "\n\n*** This bug has been marked as a duplicate of 3973 ***"}, {"count": 2, "tags": [], "text": "I agree that this is a duplicate of 3973, but the behaviour does not conform to \nthe Javadoc, right?  Doesn't the Javadoc's usage of \"about\" mean that the final \ndestroy operation is still pending?  \n\nThanks ... Matt", "is_private": false, "id": 58876, "creator": "matt.friederich@navteq.com", "time": "2004-06-08T15:55:51Z", "bug_id": 29444, "creation_time": "2004-06-08T15:55:51Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "Please quote from the correct spec:\nhttp://java.sun.com/products/servlet/2.3/javadoc/javax/servlet/http/HttpSessionListener.html#sessionDestroyed(javax.servlet.http.HttpSessionEvent)\n\nYou quote is for the javadocs from 2.4 api: (from sun's 1.3 web services dev kit)\nhttp://java.sun.com/webservices/docs/1.3/api/javax/servlet/http/HttpSessionListener.html", "is_private": false, "id": 58877, "creator": "funkman@joedog.org", "time": "2004-06-08T16:10:45Z", "bug_id": 29444, "creation_time": "2004-06-08T16:10:45Z", "attachment_id": null}]