[{"count": 0, "tags": [], "creator": "ggregory@seagullsw.com", "attachment_id": null, "text": "FileAppender does not create parent dirs. For example, when the .properties\nsettings have:\n\nlog4j.appender.TextFile.File=log/ais.log\n\nand the current directory \"log\" does not exists, you get:\n\n2005-03-28 15:36:58,847 [main] ERROR - setFile(/log/ais.log,false) call failed.\njava.io.FileNotFoundException: \\log\\ais.log (The system cannot find the path\nspecified)\n\tat java.io.FileOutputStream.open(Native Method)\n\tat java.io.FileOutputStream.<init>(FileOutputStream.java:179)\n\tat java.io.FileOutputStream.<init>(FileOutputStream.java:102)\n\tat org.apache.log4j.FileAppender.setFile(FileAppender.java:260)\n\tat org.apache.log4j.FileAppender.activateOptions(FileAppender.java:149)\n\tat\norg.apache.log4j.PropertyConfigurator.activateOptions(PropertyConfigurator.java:703)\n\tat\norg.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:692)\n\tat\norg.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:625)\n\tat\norg.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:503)\n\tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:385)\n\tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:321)\n\tat org.apache.log4j.PropertyConfigurator.configure(PropertyConfigurator.java:327)\n\tat\ncom.seagullsw.appinterface.server.config.Log4jConfiguration.process(Log4jConfiguration.java:75)\n\tat\ncom.seagullsw.appinterface.server.config.LogConfiguration.process(LogConfiguration.java:126)\n\tat\ncom.seagullsw.appinterface.server.AppInterfaceServer.startInner(AppInterfaceServer.java:1994)\n\tat\ncom.seagullsw.appinterface.server.AppInterfaceServer.start(AppInterfaceServer.java:1832)\n\tat com.seagullsw.appinterface.server.AisHelper.startFromResource(AisHelper.java:79)\n\tat\ncom.seagullsw.appinterface.server.AbstractServerTestCase.startServer(AbstractServerTestCase.java:32)\n\tat\ncom.seagullsw.appinterface.server.backend.cics.ScgBackEndTestCase.setUpOnce(ScgBackEndTestCase.java:70)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat com.seagullsw.javax.execution.MessageAction.evaluate(MessageAction.java:66)\n\tat\ncom.seagullsw.javax.execution.BasicEvaluableAction.evaluate(BasicEvaluableAction.java:82)\n\tat com.seagullsw.junitx.OneTimeSetup.evaluate(OneTimeSetup.java:49)\n\tat com.seagullsw.junitx.OneTimeSetup$1.setUp(OneTimeSetup.java:39)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:18)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:208)\n\tat junit.framework.TestSuite.run(TestSuite.java:203)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:474)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:342)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:194)\n2005-03-28 15:37:33,958 [main] ERROR - No output stream or file set for the\nappender named [TextFile].\n\nWhen I run the unit tests (CVS version) I get:\n\nMinimum:\n    [junit] Running org.apache.log4j.MinimumTest\n    [junit] Tests run: 2, Failures: 0, Errors: 2, Time elapsed: 0.129 sec\n    [junit] Testsuite: org.apache.log4j.MinimumTest\n    [junit] Tests run: 2, Failures: 0, Errors: 2, Time elapsed: 0.129 sec\n    [junit] ------------- Standard Output ---------------\n    [junit] *** configurationOptionStr=null\n    [junit] ** End of LogManager static initializer\n    [junit] ------------- ---------------- ---------------\n\n    [junit] Testcase: simple took 0.089 sec\n    [junit]     Caused an ERROR\n    [junit] output\\simple (Access is denied)\n    [junit] java.io.FileNotFoundException: output\\simple (Access is denied)\n    [junit]     at java.io.FileOutputStream.open(Native Method)\n    [junit]     at java.io.FileOutputStream.<init>(FileOutputStream.java:179)\n    [junit]     at org.apache.log4j.FileAppender.setFile(FileAppender.java:272)\n    [junit]     at org.apache.log4j.FileAppender.<init>(FileAppender.java:100)\n    [junit]     at org.apache.log4j.MinimumTest.simple(MinimumTest.java:63)\n    [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    [junit]     at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    [junit]     at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\n    [junit] Testcase: ttcc took 0.03 sec\n    [junit]     Caused an ERROR\n    [junit] output\\ttcc (Access is denied)\n    [junit] java.io.FileNotFoundException: output\\ttcc (Access is denied)\n    [junit]     at java.io.FileOutputStream.open(Native Method)\n    [junit]     at java.io.FileOutputStream.<init>(FileOutputStream.java:179)\n    [junit]     at org.apache.log4j.FileAppender.setFile(FileAppender.java:272)\n    [junit]     at org.apache.log4j.FileAppender.<init>(FileAppender.java:100)\n    [junit]     at org.apache.log4j.MinimumTest.ttcc(MinimumTest.java:86)\n    [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    [junit]     at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    [junit]     at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\nI am not sure if this related.", "id": 72951, "time": "2005-03-29T02:31:11Z", "bug_id": 34216, "creation_time": "2005-03-29T02:31:11Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 34216, "text": "Parent directory creation is intentionally not performed, see bug 9150.  Other issue appears unrelated \nsince it reports \"access is denied\" not file not found.  Will double check unit tests on Windows to see if I \nsee it too.\n\n*** This bug has been marked as a duplicate of 9150 ***", "id": 72952, "time": "2005-03-29T03:16:51Z", "creator": "carnold@apache.org", "creation_time": "2005-03-29T03:16:51Z", "is_private": false, "attachment_id": null}]