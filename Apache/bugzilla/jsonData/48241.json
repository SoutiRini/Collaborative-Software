[{"count": 0, "attachment_id": null, "bug_id": 48241, "text": "Read an inquiry about logging cache hits and misses in the access log (or control what is logged in the access log using an env test)\n\nmod_cache should record a 'cache-hit' flag on success or failure if caching was configured.  E.g. '1' is a hit, '0' is a failure, uninitialized was no attempt.\n\nWhat makes this more severe is that nothing about the cache behavior is captured in the debug-level error log, which means there is no guidance of whether the cache attempted a lookup and encountered success or failure (unless there is a hard error about accessing the respective cache repository).\n\nFinally there is no debug-level error logging to indicate an element was added to the cache (or not added, and perhaps what header circumvented this), again a serious omission for diagnostics of cache configuration.", "id": 132143, "time": "2009-11-19T12:07:46Z", "creator": "wrowe@apache.org", "creation_time": "2009-11-19T12:07:46Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 48241, "attachment_id": null, "text": "From a performance analysis point of view, I agree that it would be great to be able to add information on cache use in the access log including information about revalidation with the the origin web server (for mod_proxy'd content).\n\nIs r->notes the natural place for additional information that users may wish to add to LogFormat via %{thingy}n?", "id": 132175, "time": "2009-11-20T09:40:48Z", "creator": "kjw@ms.com", "creation_time": "2009-11-20T09:40:48Z", "is_private": false}, {"count": 2, "tags": [], "creator": "chip@force-elite.com", "attachment_id": null, "id": 132342, "time": "2009-11-25T17:21:53Z", "bug_id": 48241, "creation_time": "2009-11-25T17:21:53Z", "is_private": false, "text": "You can use SetEnv to detect cache misses today:\n<http://alex.polvi.net/2008/12/04/getting-cache-statistics-with-mod_cache/>\n\nAdd this to your config:\nSetEnv CACHE_MISS 1\n\nLog like this:\n%{CACHE_MISS}e\n\nThis could be documented better, but it 'works' today without any extra code."}, {"count": 3, "tags": [], "bug_id": 48241, "attachment_id": null, "id": 134117, "time": "2010-02-01T17:40:10Z", "creator": "minfrin@sharp.fm", "creation_time": "2010-02-01T17:40:10Z", "is_private": false, "text": "Debug level logging from mod_cache works fine for me:\n\n[Tue Feb 02 02:50:55 2010] [debug] mod_cache.c(159): Adding CACHE_SAVE filter for /index.shtml\n[Tue Feb 02 02:50:55 2010] [debug] mod_cache.c(166): Adding CACHE_REMOVE_URL filter for /index.shtml\n[Tue Feb 02 02:50:55 2010] [debug] mod_cache.c(850): cache: /index.shtml not cached. Reason: Authorization required"}, {"count": 4, "tags": [], "creator": "wrowe@apache.org", "text": "That covers the error log, but we were mostly describing the access log.", "id": 134118, "time": "2010-02-01T18:48:01Z", "bug_id": 48241, "creation_time": "2010-02-01T18:48:01Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 48241, "attachment_id": null, "text": "Paul, I had tested something similar, and presumed that the quick-handler was\ncausing the variable to not be set.  I'll retest with your example.\n\nHackish, sure, but if it works that's great!", "id": 134119, "time": "2010-02-01T19:36:32Z", "creator": "wrowe@apache.org", "creation_time": "2010-02-01T19:36:32Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 48241, "attachment_id": null, "id": 140195, "time": "2010-09-27T05:21:28Z", "creator": "minfrin@sharp.fm", "creation_time": "2010-09-27T05:21:28Z", "is_private": false, "text": "Fixed on trunk in r1001639."}]