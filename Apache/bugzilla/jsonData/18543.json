[{"count": 0, "attachment_id": null, "bug_id": 18543, "is_private": false, "id": 34215, "time": "2003-04-01T01:36:11Z", "creator": "jhuang@idncn.com", "creation_time": "2003-04-01T01:36:11Z", "tags": [], "text": "In our software, we use j2sdkee1.3.1. Because in j2ee1.3.1.jar there exists\norg.w3c.dom.* and org.xml.sax.*, so when I run junit task there always report\nan error: \njava.lang.LinkageError: loader constraints violated when linking \norg/w3c/dom/Document class\n\tat org.apache.crimson.jaxp.DocumentBuilderFactoryImpl.newDocumentBuilder\n(DocumentBuilderFactoryImpl.java:82)\n\tat \norg.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter.getDocument\nBuilder(XMLJUnitResultFormatter.java:93)\n\tat \norg.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter.startTestSu\nite(XMLJUnitResultFormatter.java:138)\n\tat \norg.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.fireStartTestSuite\n(JUnitTestRunner.java:445)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run\n(JUnitTestRunner.java:279)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.executeInVM\n(JUnitTask.java:848)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute\n(JUnitTask.java:556)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute\n(JUnitTask.java:532)\n\tat org.apache.tools.ant.Task.perform(Task.java:341)\n\tat org.apache.tools.ant.Target.execute(Target.java:309)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:336)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1339)\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1255)\n\tat org.apache.tools.ant.Main.runBuild(Main.java:609)\n\tat org.apache.tools.ant.Main.start(Main.java:196)\n\tat org.apache.tools.ant.Main.main(Main.java:235)\nIf I use j2ee1.3.1.jar to replace the ${ANT_HOME}/lib/xml-apis.jar, the ant \ncann't run.\nBut I must use j2ee1.3.1.jar for some other functions.\nI have change the includeantruntime attibute of <junit>, but it does not work.\nFrom the docs, I think it should work to use j2ee1.3.1.jar and ignore xml-\napis.jar.\n\nIf I delete org.w3c.dom.* from j2ee1.3.1.jar, it work. But it is apparently a \nbad method. \n\nHow to resolve it?\n\nThanks!"}, {"count": 1, "tags": [], "text": "fork <junit>.\n\nI have no idea why replacing xml-apis.jar and xercesImpl.jar with j2ee.jar\ndoesn't work.  Any useful error messages?", "attachment_id": null, "id": 34816, "creator": "bodewig@apache.org", "time": "2003-04-09T15:49:19Z", "bug_id": 18543, "creation_time": "2003-04-09T15:49:19Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 18543, "attachment_id": null, "id": 35113, "time": "2003-04-14T12:30:45Z", "creator": "conor@apache.org", "creation_time": "2003-04-14T12:30:45Z", "is_private": false, "text": "As Stefan has stated - forking is the answer here. If that does not work, please\nreopen."}]