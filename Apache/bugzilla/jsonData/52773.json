[{"count": 0, "tags": [], "creator": "bruno.fs.antunes@gmail.com", "attachment_id": 28384, "text": "Created attachment 28384\nSsample project with the load test scenario. See readme.txt for a simple explanation of how to use it.\n\nI have performed a very simple test, using JMS Publisher sampler on JMeter, and a \"jms.r11.Sender\" test case on Harness , with similar  test conditions:\n\n* No ramp-up, only one thread\n* same message size (1000 bytes)\n* same destination queue\n* same duration test period (60 seconds)\n* running as fast as possible (no delay between samples)\n\nFrom this tests, I observe that Harness generates almost 90% more messages than JMeter. As such we achieve greater throughput with one thread in a one minute test using Harness \n\nIn order to get same throughput for JMeter, we must configure more threads.\n\nTested with JMeter 2.6, and  IBM Performance Harness for Java Message Service 1.2 (http://www.alphaworks.ibm.com/tech/perfharness)\n\nAny ideas of why JMeter generates much less load? I have even run jmeter with no gui, and saves results in CSV format.\n\nIn attach a sample ant script with the load test scenario.\nTested this using Oracle WebLogic Server 10.3.5 and Apache ActiveMQ 5.5.1\nSee readme.txt for a simple explanation of how to use it.", "id": 154166, "time": "2012-02-26T16:22:10Z", "bug_id": 52773, "creation_time": "2012-02-26T16:22:10Z", "is_private": false}, {"count": 1, "tags": [], "text": "Hello,\nIn fact the BIG difference comes from the fact that JMeter with your test case uses PERSISTENT messages while your perfharness Test uses NON PERSISTENT messages.\n\nI made a test on my machine with a local AMQ 5.5.0 server:\nJMETER : Generate Summary Results = 199630 in  60,1s = 3319,2/s Avg:     0 Min:     0 Max:   695 Err:     0 (0,00%)\nPerfharness : totalIterations=219579,avgDuration=60,12,maxrateR=3933,03\n\nNote that if I add a setup Thread Group that runs one sample (to warm up ) (which is what is done by Perfharness I think), I get :\nGenerate Summary Results = 210270 in  60,6s = 3469,2/s Avg:     0 Min:     0 Max:   841 Err:     0 (0,00%)\n\n\nI think documentation should be clearer about this PERSISTENT settings and we should add a new Option to enable NON PERSISTENT messages", "attachment_id": null, "id": 154265, "creator": "p.mouawad@ubik-ingenierie.com", "time": "2012-02-26T22:02:35Z", "bug_id": 52773, "creation_time": "2012-02-26T22:02:35Z", "is_private": false}, {"count": 2, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "See 52775", "id": 154268, "time": "2012-02-26T22:32:34Z", "bug_id": 52773, "creation_time": "2012-02-26T22:32:34Z", "is_private": false}]