[{"count": 0, "tags": [], "creator": "jhenry@ccs.neu.edu", "text": "I upgraded my JMeter install on a linux server, which does not normally have X\nrunning. Suddenly, JMeter refuses to start up, giving me the following error:\n\nX connection to localhost:10.0 broken (explicit kill or server shutdown).\n\nNothing about my tests or the way I invoke the program has changed, so I am not\nsure how to proceed. Is this a bug, or is there a new configuration switch that\nis not well documented?\n\nSteps to reproduce:\n\n1. unpack JMeter 2.3 RC3\n2. bin/jmeter -n -t test.jmx -l log.jtl\n\nExpected result: Test executes\n\nActual result: Error message", "id": 105806, "time": "2007-07-20T10:47:04Z", "bug_id": 42945, "creation_time": "2007-07-20T10:47:04Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 106507, "time": "2007-08-08T15:31:30Z", "bug_id": 42945, "creation_time": "2007-08-08T15:31:30Z", "is_private": false, "text": "Non-GUI mode should not require a display.\n\nWhat happens with the previous version of JMeter? Does this work?\n\nWhat happens if you undefine the DISPLAY variable?\n\nYou could try defining the Java property:  java.awt.headless=true and see if \nthat helps.\n"}, {"count": 2, "tags": [], "creator": "jhenry@ccs.neu.edu", "attachment_id": null, "id": 106525, "time": "2007-08-09T05:34:00Z", "bug_id": 42945, "creation_time": "2007-08-09T05:34:00Z", "is_private": false, "text": "Both of your suggestions work. \n\nFor what it's worth, JMeter 2.2 has no problem running in non-GUI mode without\ntaking those measures.\n\nI modified the JMeter startup script to automatically define the headless\nproperty if running in non-GUI mode, which works well enough for me:\n\nfor i in \"$@\"\ndo\n  if [ \"$i\" == \"-n\" ];\n  then\n    ARGS=\"$ARGS -Djava.awt.headless=true\"\n  fi\ndone"}, {"count": 3, "tags": [], "text": "I've done some more checks, and been able to reproduce the problem.\n\nIt was caused by recent additions of static fields in some classes.\n\nI've fixed it so that the headless error no longer causes problems in non-GUI \nmode - SVN updates: r564697 r564695 r564681.\n\nThe next nightly will include the fixes.\n\nThanks for reporting the problem.", "is_private": false, "id": 106607, "creation_time": "2007-08-10T11:17:48Z", "time": "2007-08-10T11:17:48Z", "creator": "sebb@apache.org", "bug_id": 42945, "attachment_id": null}]