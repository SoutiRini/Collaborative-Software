[{"count": 0, "tags": [], "creator": "jkoyle@rfpdepot.com", "is_private": false, "text": "I found that the SSLCertificateChainFile directive was not behaving the same as\nit has in apache v1.3.\n\nAccording to the verisign, when using a global certificate, you need to use the\nabove directive to provide the client with the Intermediate CA.  So, in my old\nv1.3 configuration I had the following 3 directives:\n\nSSLCertificateChainFile ssl.crt/ca.crt\nSSLCertificateFile ssl.crt/server.crt\nSSLCertificateKeyFile ssl.key/server.key\n\nThis doesn't work under apache2 however.  The certificate in the chainfile never\nseems to be presented to the client.  Clients were getting presented with the\nunrecognized signing authority error.\n\nAccording to the comments in the ssl.conf sample config file, you can also point\nit to the SSLCertificateFile if the intermediate CA is directly appended to the\nbottom of the file. This did fix the problem.\n\nHere's my specs:\n\nRH v7.3\nopenssl-0.9.6b-28\n./configure --prefix=/a01/app/dpxdemo/apache_2.0.43 --enable-mods-shared=all\n--enable-ssl\n\nThanks,\nJohn", "id": 26297, "time": "2002-11-14T19:26:26Z", "bug_id": 14560, "creation_time": "2002-11-14T19:26:26Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "ballou@crab.mv.com", "text": "I think this is because the boolean skip_first in ssl_init_ctx_cert_chain is\nmistakenly initialized as TRUE (should be FALSE).  This means the first\ncertificate in the SSLCertificateChain file is always ignored.  (The intent\nseems to be to allow the same file to be named in the SSLCertificateFile and\nSSLCertificateChain file directive.  If this is the case, the code assumes the\nfirst certificate in the chain file is the SSL server's certificate.  This\ncertificate is skipped when adding the extra certificates to the SSL context.)\n\nI have tested the attached patch against version 2.0.44 and verified that it\ncauses the SSLCertificateChain directive to work as documented.", "id": 32185, "time": "2003-02-28T21:51:08Z", "bug_id": 14560, "creation_time": "2003-02-28T21:51:08Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 14560, "text": "I could not create an attachment, so I'll include the patch directly here (it is\na one line change).\n\n--- modules/ssl/ssl_engine_init.c.bak   Mon Jan 13 12:10:55 2003\n+++ modules/ssl/ssl_engine_init.c       Fri Feb 28 15:30:42 2003\n@@ -654,7 +654,7 @@\n                                     apr_pool_t *ptemp,\n                                     modssl_ctx_t *mctx)\n {\n-    BOOL skip_first = TRUE;\n+    BOOL skip_first = FALSE;\n     int i, n;\n     const char *chain = mctx->cert_chain;", "id": 32186, "time": "2003-02-28T21:54:19Z", "creator": "ballou@crab.mv.com", "creation_time": "2003-02-28T21:54:19Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 14560, "text": "\n  Thanks for confirming that this is the right fix.  Your bug report escaped\n  my attention, but Madhu noticed this too back in January, and I reviewed that\n  change with the committer, who agrees it was bogus.\n\n  We've reverted back to defaulting to *NOT* skip_first as your patch proposed,\n  and all should be well again with 2.0.45.\n", "id": 32577, "time": "2003-03-06T16:02:28Z", "creator": "wrowe@apache.org", "creation_time": "2003-03-06T16:02:28Z", "is_private": false, "attachment_id": null}]