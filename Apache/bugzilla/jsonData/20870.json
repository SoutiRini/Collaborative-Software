[{"count": 0, "tags": [], "bug_id": 20870, "attachment_id": null, "is_private": false, "id": 39029, "time": "2003-06-18T14:13:25Z", "creator": "jonas.kilian@dresdner-bank.com", "creation_time": "2003-06-18T14:13:25Z", "text": "...even if no files have actually been changed, because they were all up to \ndate. This happens because FixCRLF creates a temp file in srcdir during \nprocessing.\n\nI encountered this because consequential my tar file has always been build \ninstead of stating \"nothing to do...\", e.g:\n\n   <!-- take care of line endings -->\n    <FixCRLF\n      srcdir=\"${build.res}\"\n      tab=\"remove\"\n      tablength=\"8\"\n      eol=\"lf\">\n      <patternset refid=\"unix.shell.scripts.patternset\"/>\n      <patternset includes=\"**/*.properties\"/>\n    </FixCRLF>\n\n\n    <mkdir dir=\"${dist.dir}\"/>\n    <tar destfile=\"${dist.dir}/${dist.server.name}.tar\">\n      <tarfileset prefix=\"res\" dir=\"${build.res}\">\n        <exclude name=\"script/**\"/>\n      </tarfileset>\n    </tar>\n\nHowever, in my case I can workaround this problem by changing the Tar \npatternset to:\n\n        <include name=\"/**\"/>\n        <exclude name=\"script/**\"/>\n\n(Note the slash before the two asterisk.)"}, {"count": 1, "tags": [], "bug_id": 20870, "attachment_id": null, "is_private": false, "id": 39037, "time": "2003-06-18T15:03:17Z", "creator": "jonas.kilian@dresdner-bank.com", "creation_time": "2003-06-18T15:03:17Z", "text": "Sorry, workaround is not correct: \"/**\" does not work, instead \"subdir/**\" \nworks to omit the parent directory."}, {"count": 2, "tags": [], "creator": "levylambert@tiscali-dsl.de", "attachment_id": null, "id": 39124, "time": "2003-06-19T22:06:25Z", "bug_id": 20870, "creation_time": "2003-06-19T22:06:25Z", "is_private": false, "text": "I have changed FixCrLf so that it will create the temporary file in the default \ntemporary directory used by FileUtils#createTempFile\nNote that there will still be a problem if the destDir of fixcrlf happens to be \nthe directory where ant is running.\nThis is because the default for creating temporary files in ant is the current \ndirectory at execution time.\nIf you download the nightly build 2003-06-20 you should be OK."}]