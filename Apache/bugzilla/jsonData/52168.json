[{"count": 0, "text": "I have an application that uses log4j to log on a text file, i have placed a log4j.properties file inside my executable jar file containing the default log configuration parameters.\n\nMy log4j.properties file looks like the following :\n\nlog4j.rootLogger=INFO, A1\nlog4j.appender.A1=org.apache.log4j.FileAppender\nlog4j.appender.A1.File=mylogfile.log\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern=%d{dd/MM/yyyy HH\\:mm\\:ss,SSS} %-5p [%t] - %m%n\n\nMy application have also a command line option that allow the user to change the log file name, so i have a function like the following that change the settings of log4j at runtime :\n\npublic void changeLogFileName(String filename) {    \n          props.setProperty(\"log4j.appender.A1\",\"org.apache.log4j.DailyRollingFileAppender\");\n          props.setProperty(\"log4j.appender.A1.DatePattern\",\"'-'ddMMyyyy\");\n          props.setProperty(\"log4j.appender.A1.File\",filename);\n          LogManager.resetConfiguration();\n          PropertyConfigurator.configure(props);\n    }\n\nEverything work fine, unless when the statement LogManager.resetConfiguration() and/or PropertyConfigurator.configure(props) are executed a a default empty log file (mylogfile.log) is automatically created. After that everything i log from my application will be written correctly in the new file, but an empty file is created anyway (with the name of the default log filename in the log4j.properties).", "bug_id": 52168, "attachment_id": null, "id": 151380, "time": "2011-11-10T20:16:13Z", "creator": "alessio.pollero@gmail.com", "creation_time": "2011-11-10T20:16:13Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "text": "My question on stackoverflow : \nhttp://stackoverflow.com/questions/8053684/change-log4j-property-file-at-runtime-cause-an-empty-default-log-created", "is_private": false, "bug_id": 52168, "id": 151381, "time": "2011-11-10T20:18:37Z", "creator": "alessio.pollero@gmail.com", "creation_time": "2011-11-10T20:18:37Z", "attachment_id": null}]