[{"count": 0, "tags": [], "bug_id": 32948, "text": "Thanks for your efforts.\n\nProblem:\n\nJavac 1.1, 1.2 and 1.3 don't support -source option.\nThe javac task passes -source option to javac when compiler=\"javac1.2\" or \ncompiler=\"javac1.1\" with fork=\"yes\" and executable=\"/path/javac\".\nAccording to the manual, even with fork=\"yes\", it should not pass -source \noption.\n\nHere is an example which should succeed, but fails actually.\n\n  <javac srcdir=\".\" source=\"1.3\" compiler=\"javac1.2\" fork=\"yes\"\n    executable=\"/path/javac\"/>\n\n  will generate an error message like;\n\n    javac: -source is an invalid option.\n\nCause:\n\nDefaultCompilerAdoptor.setupModernJavacCommandlineSwitches() called from \nJavacExternal.java passes -source when !assumeJava13().\n\nResolution:\n\nThat should be !assumeJava13() && !assumeJava12() && !assumeJava11().\n\nPatch and Test:\n\nI'll attach a patch to the CVS HEAD and a test build file which works fine \nwith all JDK versions.\nNote that the modification does not affect to any other java compilers such as \nJikes and GCJ.", "id": 69227, "time": "2005-01-05T07:42:08Z", "creator": "hirano-s@aist.go.jp", "creation_time": "2005-01-05T07:42:08Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "hirano-s@aist.go.jp", "attachment_id": 13894, "is_private": false, "id": 69228, "time": "2005-01-05T07:46:20Z", "bug_id": 32948, "creation_time": "2005-01-05T07:46:20Z", "text": "Created attachment 13894\npatch for javac task source attribute issue: works fine with all javac versions.\n\nThis works fine with all javac versions."}, {"count": 2, "tags": [], "creator": "hirano-s@aist.go.jp", "attachment_id": 13895, "text": "Created attachment 13895\ntest build file", "id": 69229, "time": "2005-01-05T07:48:20Z", "bug_id": 32948, "creation_time": "2005-01-05T07:48:20Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 32948, "attachment_id": null, "id": 69473, "time": "2005-01-10T10:02:25Z", "creator": "bodewig@apache.org", "creation_time": "2005-01-10T10:02:25Z", "is_private": false, "text": "The (wrong) assumption is that assumeJava12 can never be true in setupModern...\n"}, {"count": 4, "tags": [], "bug_id": 32948, "text": "I've used a different approach, but it should be fixed with nightly build\n2005-01-14 and Ant 1.6.3/1.7.0.\n", "id": 69625, "time": "2005-01-13T10:25:44Z", "creator": "bodewig@apache.org", "creation_time": "2005-01-13T10:25:44Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "hirano-s@aist.go.jp", "is_private": false, "id": 73506, "attachment_id": null, "bug_id": 32948, "creation_time": "2005-04-11T07:40:27Z", "time": "2005-04-11T07:40:27Z", "text": "1.6.3beta1 seems no problem with the issue. Thank you very much.\n"}]