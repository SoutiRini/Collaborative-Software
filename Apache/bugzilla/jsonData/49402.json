[{"count": 0, "tags": [], "creator": "mguillemot@yahoo.fr", "is_private": false, "text": "Exactly (look at the md5) the same juli.jar file is published two times with different groupdId in the Maven repository:\n\nFirst in:\nhttp://mirrors.ibiblio.org/pub/mirrors/maven2/org/apache/tomcat/extras/juli/6.0.26/\nwith following groupId/artifactId\n<groupId>org.apache.tomcat.extras</groupId>\n<artifactId>juli</artifactId>\n\nand then in\nhttp://mirrors.ibiblio.org/pub/mirrors/maven2/org/apache/tomcat/juli/6.0.26/\nwith following groupId/artifactId\n<groupId>org.apache.tomcat</groupId>\n<artifactId>juli</artifactId>\n\nOne of these artifacts is surely useless and shouldn't be uploaded to the Maven central repository. Tomcat's package splitting is already strange enough, no need to make it more complicated that it is already.", "id": 137426, "time": "2010-06-08T03:43:00Z", "bug_id": 49402, "creation_time": "2010-06-08T03:43:00Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 49402, "text": "Those artifacts should have been different. The artifacts for 6.0.28 are OK now.", "id": 138403, "attachment_id": null, "creator": "rainer.jung@kippdata.de", "creation_time": "2010-07-13T14:03:23Z", "time": "2010-07-13T14:03:23Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 49402, "attachment_id": null, "text": "In fact for 6.0.28 org.apache.tomcat.extras juli still contains the content of \norg.apache.tomcat juli.\n\nIs it intentional? This looks strange to me.", "id": 138411, "time": "2010-07-14T03:04:31Z", "creator": "mguillemot@yahoo.fr", "creation_time": "2010-07-14T03:04:31Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 49402, "attachment_id": null, "is_private": false, "id": 138416, "time": "2010-07-14T05:04:18Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2010-07-14T05:04:18Z", "text": "I definitely don't know enough about maven, but I checked the following places:\n\nIn directory /www/people.apache.org/repo/m2-ibiblio-rsync-repository/org/apache/tomcat of the ASF distribution host people.apache.org I find:\n\n$ ls -l extras/juli/6.0.28/juli-6.0.28.jar juli/6.0.28/juli-6.0.28.jar\n...  62756 Jul  9 20:46 extras/juli/6.0.28/juli-6.0.28.jar\n...  26484 Jul  9 20:45 juli/6.0.28/juli-6.0.28.jar\n\nAnd on the web I checked:\n\nhttp://mirrors.ibiblio.org/pub/mirrors/maven2/org/apache/tomcat/juli/6.0.28/\n\njuli-6.0.28.jar                             09-Jul-2010 16:45   26K  \n\nand\n\nhttp://mirrors.ibiblio.org/pub/mirrors/maven2/org/apache/tomcat/extras/juli/6.0.28/\n\njuli-6.0.28.jar                                    09-Jul-2010 16:46   61K  \n\nSo the 2 jars are different and correct at least at those places. Don't know your source for the jars or your md5 or similar though :(\n\nRegards,\n\nRainer"}, {"count": 4, "tags": [], "creator": "rainer.jung@kippdata.de", "text": "... and the timestamps of the directories on people.apache.org are:\n\n...  12 Jul 11 08:34 extras/juli/6.0.28/\n...  12 Jul 11 08:34 juli/6.0.28/\n\nI don't know how long replication takes.", "id": 138417, "time": "2010-07-14T05:15:52Z", "bug_id": 49402, "creation_time": "2010-07-14T05:15:52Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 49402, "is_private": false, "id": 138418, "attachment_id": null, "creator": "mguillemot@yahoo.fr", "creation_time": "2010-07-14T05:25:14Z", "time": "2010-07-14T05:25:14Z", "text": "Seems that I haven't been clear in my question. I try again.\n\nhttp://mirrors.ibiblio.org/pub/mirrors/maven2/org/apache/tomcat/extras/juli/6.0.28/juli-6.0.28.jar contains classes from following packages:\norg.apache.juli\norg.apache.juli.logging\norg.apache.juli.logging.impl\n\nand http://mirrors.ibiblio.org/pub/mirrors/maven2/org/apache/tomcat/juli/6.0.28/juli-6.0.28.jar contains classes from following packages\norg.apache.juli\norg.apache.juli.logging\n\nThis means (as far as I can see, I haven't verified each single class file) that the classes from packages org.apache.juli and org.apache.juli.logging are in both jars.\nIn other words, this means that the second jar is useless when you use the first one.\n\nAre these duplications intended?"}, {"count": 6, "tags": [], "bug_id": 49402, "is_private": false, "id": 138419, "attachment_id": null, "creator": "rainer.jung@kippdata.de", "creation_time": "2010-07-14T06:08:40Z", "time": "2010-07-14T06:08:40Z", "text": "In previous versions of TC 6 the jars in the maven repos were indeeed *identical*. I assume you really referred to that problem when you wrote \"Exactly (look at the md5) the same juli.jar\" in your original report.\n\nThe different observation you are now referring to, namely that some classes in the two jars are identical, is right and that's intended:\n\nThe non-extras jar contains a self-contained implementation of Tomcat JULI logging linking directly to the JDK logging. The extras jars contain an alternative implementation, namely a repackaged commons-logging. The repackaging helps in avoiding conflicts with webapp provided commons-logging.\n\nMore information is contained in the docs: http://tomcat.apache.org/tomcat-6.0-doc/logging.html\n\nRegards,\n\nRainer"}, {"count": 7, "tags": [], "text": "Thanks for the explanation. \n\nThis packaging choice is a bit strange as a dependency between two jars without intersection would be a more \"natural maven way\" but why not...", "is_private": false, "id": 138420, "creator": "mguillemot@yahoo.fr", "time": "2010-07-14T06:20:06Z", "bug_id": 49402, "creation_time": "2010-07-14T06:20:06Z", "attachment_id": null}]