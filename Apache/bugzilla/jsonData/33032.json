[{"count": 0, "tags": [], "bug_id": 33032, "attachment_id": null, "id": 69510, "time": "2005-01-11T00:10:40Z", "creator": "yatsyk@sync-sys.com", "creation_time": "2005-01-11T00:10:40Z", "is_private": false, "text": "Below are two snippets of code, first one works (i.e. variable is initialized to\nstring correctly), second one does not (variable is set to empty string). The\nonly difference is that in the first one function string() is used on a simple\nvariable instead of complex expression.\n\nWorking snippet:\n\n<x:set var=\"navigationPath\" select=\"$content/content/pages/page/url[text() =\n$contentUrl]/../navigation-path\" scope=\"request\"/>\n<x:set var=\"navigationPath\" select=\"string($navigationPath)\" scope=\"request\"/>\n\nNon-working snippet:\n\n<x:set var=\"navigationPath\"\nselect=\"string($content/content/pages/page/url[text() =\n$contentUrl]/../navigation-path)\" scope=\"request\"/>"}, {"count": 1, "tags": [], "bug_id": 33032, "text": "Could the submitter please attach a testcase so that one could reproduce the\nproblem\n\nThanks,\n-Dhiru", "id": 71799, "time": "2005-03-03T22:29:48Z", "creator": "dhiru.pandey@sun.com", "creation_time": "2005-03-03T22:29:48Z", "is_private": false, "attachment_id": null}, {"attachment_id": 19219, "tags": [], "bug_id": 33032, "text": "Created attachment 19219\nExample showing 33032 is a bug\n\nHere's a jsp file that when dropped into the standard-examples/xml/ directory\nshows this bug.", "count": 2, "id": 96577, "time": "2006-12-06T13:41:23Z", "creator": "bayard@apache.org", "creation_time": "2006-12-06T13:41:23Z", "is_private": false}, {"count": 3, "tags": [], "creator": "bayard@apache.org", "attachment_id": null, "is_private": false, "id": 96581, "time": "2006-12-06T15:24:07Z", "bug_id": 33032, "creation_time": "2006-12-06T15:24:07Z", "text": "Debugging...\n\nIt doesn't seem to be a problem with Xalan itself. An xsl with the following in\nworks fine:\n\n<xsl:template match=\"/\">\n    <xsl:value-of select=\"string(games/country/athlete/sport[text() =\n'wrestling']/../name)\"/>\n</xsl:template>\n\nHowever, the call to Xalan via JSTLXPathUtils is returning an XObject that\ncontains an empty string. There's nothing obviously different between the calls\nto the XPath API, just the addition of the test variable to the scope. Seems to\nimply to me that the problem is one of the taglib not calling down to Xalan in\nquite the right way and will be painful to resolve. \n\nJSTLXPathUtils is a fork of a Xalan class (XPathUtils), but I can't see anything\nobvious in its svn history that would suggest a fix to this.\n\nGiven that it can be worked around pretty easily - my suggestion would be to put\nit in a FAQ of known bugs."}, {"attachment_id": null, "tags": [], "bug_id": 33032, "is_private": false, "count": 4, "id": 98723, "time": "2007-01-29T16:59:53Z", "creator": "bayard@apache.org", "creation_time": "2007-01-29T16:59:53Z", "text": "Added to the FAQ:\n\nhttp://wiki.apache.org/jakarta-taglibs/Standard1%2e1%2e3FAQ"}, {"count": 5, "tags": [], "bug_id": 33032, "text": "Resolving as wontfix. No obvious path to resolution; this isn't a part of the spec I would rely on.", "id": 132456, "time": "2009-11-29T19:57:05Z", "creator": "bayard@apache.org", "creation_time": "2009-11-29T19:57:05Z", "is_private": false, "attachment_id": null}]