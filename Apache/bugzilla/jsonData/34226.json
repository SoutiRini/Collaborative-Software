[{"count": 0, "attachment_id": null, "bug_id": 34226, "is_private": false, "id": 73013, "time": "2005-03-29T21:10:02Z", "creator": "asquassabia@yahoo.com", "creation_time": "2005-03-29T21:10:02Z", "tags": [], "text": "ViewResultFullVisualizer.java checks for the presence of text/html to allow \ntext mode visualization, but not for any signs of SOAP content like text/xml \nor a SOAPAction header.  Accordingly, SOAP content never appears.  The \nfollowing patch fixes that inconvenience in a jdk 1.3 compatible manner.\n\n--- c:\\ViewResultsFullVisualizer.original.java\t2005-03-23 14:59:05.254077800 -\n0700\n+++ ViewResultsFullVisualizer.java\t2005-03-11 13:48:41.842741100 -0700\n@@ -320,7 +320,12 @@\n \n \t\t\t\t\t// get the text response and image icon\n                     // to determine which is NOT null\n-                    if ((SampleResult.TEXT).equals(res.getDataType())) // \nequals(null) is OK\n+                    log.debug(\"valueChanged1 : response data type -\n \"+res.getDataType());\n+                    // SOAP\n+                    boolean soapRequest = -1<res.getRequestHeaders().indexOf\n(\"SOAPAction\");\n+                    log.debug(\"valueChanged1 : is soap request -\n \"+soapRequest);\n+                    if ((SampleResult.TEXT).equals(res.getDataType())|| \nsoapRequest) // equals(null) is OK\n+                    // SOAP end\n                     {\n \t                    String response = getResponseAsString(res);\n \t                    if (textMode)\n@@ -374,8 +379,12 @@\n \t{\n     \t\n         byte[] responseBytes = res.getResponseData();\n+        log.debug(\"response data\\n\"+(new String(res.getResponseData())));\n         String response = null;\n-        if ((SampleResult.TEXT).equals(res.getDataType()))\n+        // SOAP\n+        boolean soapRequest = -1<res.getRequestHeaders().indexOf\n(\"SOAPAction\");\n+        if ((SampleResult.TEXT).equals(res.getDataType())|| soapRequest)\n+        // SOAP end\n         {\n             try\n             {"}, {"attachment_id": null, "tags": [], "bug_id": 34226, "is_private": false, "count": 1, "id": 74200, "time": "2005-04-28T01:51:23Z", "creator": "sebb@apache.org", "creation_time": "2005-04-28T01:51:23Z", "text": "Actually, getDataType() is set to either \"text\" or \"bin\", not \"text/html\".\n\nSo I think the solution is to ensure that the Soap sampler sets the SampleResult\nfield accordingly.\n\nWhat sampler did you use to retrieve the SOAP message?"}, {"count": 2, "tags": [], "bug_id": 34226, "text": "I double checked the webservice sampler and it is correctly set to TEXT.", "id": 74607, "time": "2005-05-09T03:04:05Z", "creator": "woolfel@yahoo.com", "creation_time": "2005-05-09T03:04:05Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 34226, "text": "The SoapSampler does not set the data Type directly - it relies on HTTPSampler,\nwhich sets it to text unless the content-type starts with \"image/\".\n\nSo it should be working.\n\nPlease can the originator try again using the latest released version (i.e.\n2.0.3 at present)?\n\nIf it still does not work, then please attach a test case.", "id": 75304, "time": "2005-05-25T01:10:48Z", "creator": "sebb@apache.org", "creation_time": "2005-05-25T01:10:48Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "AS far as I know this is working - please re-open if not", "is_private": false, "id": 88666, "creator": "sebb@apache.org", "time": "2006-04-29T23:47:46Z", "bug_id": 34226, "creation_time": "2006-04-29T23:47:46Z", "attachment_id": null}]