[{"count": 0, "text": "If the ajp13 cachesize property is set to zero (to help the worker recover if \ntomcat is restarted), the worker init fails and apache won't start.  This is\nbecause init in ajk_ajp13_worker.c returns JK_TRUE inside the test for\ncache size > 0:\n\n        if(cache_sz > 0) {\n                ...\n                JK_INIT_CS(&(p->cs), i);\n                if(i) {\n                    return JK_TRUE;\n \ninit should return JK_TRUE if cache_sz is zero.", "bug_id": 1716, "is_private": false, "id": 2408, "time": "2001-05-11T08:48:09Z", "creator": "rde@webtrak.co.uk", "creation_time": "2001-05-11T08:48:09Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "creator": "hgomez@slib.fr", "is_private": false, "text": "cachesize property SHOULD'NT BE set to 0.\nAt minima it should contains one, indicating no\ncache by worker....", "id": 3864, "time": "2001-07-20T04:10:18Z", "bug_id": 1716, "creation_time": "2001-07-20T04:10:18Z", "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 1716, "is_private": false, "id": 3865, "time": "2001-07-20T04:15:10Z", "creator": "rde@webtrak.co.uk", "creation_time": "2001-07-20T04:15:10Z", "tags": [], "text": "I'm not sure about whether the cachesize should be set to zero. If zero, then\nthe behaviour is that a new connection is opened for each request.  This is very\nuseful in a development environment becuase it means that Apache recovers\nimmediately if tomcat is restarted (as happens frequently in development).  \n\nif the cachesize is > 0 then the next request(s) fail because the cached\nsocket(s) are still open but broken.\n\nWe run with cachesize = 0 in the development environments here and it works fine\nand tomcat can be restarted without any errors."}]