[{"count": 0, "tags": [], "creator": "bernard.bardinet@answare.fr", "attachment_id": null, "text": "I first start tomcat 3.2.3 with /path/to/tomcat/bin/startup.sh; second, I try to\nstart apache 1.3.22 with /path/to/apache/bin/apachectl start. I then get the\nfollowing message :\n\nSyntax error on line 8 of /path/to/tomcat/conf/mod_jk.conf-auto:\nCannot load /path/to/apache/libexec/mod_jk.so into server: ld.so.1:\n/path/to/apache/bin/httpd: fatal: relocation error: file\n/path/to/apache/libexec/mod_jk.so: symbol fdatasync: referenced symbol not found\n/path/to/apache/bin/apachectl start: httpd could not be started\n\nMy system is Solaris 2.5.\nI have built apache in a DSO mode with :\n/configure --prefix=/path/to/apache \\\n                  --enable-module=most \\\n                  --enable-shared=max\n\nI have built mod_jk.so from the source distribution jakarta-tomcat-3.2.3-src in\nthe following way :\n\ncd /path/to/Tomcat/source/distribution/src/native/apache1.3\n$APACHE_HOME/bin/apxs -o mod_jk.so -DSOLARIS -I../jk\n              -I/path/to/java/include -I/path/to/java/include/solaris -c *.c\n../jk/*.c\ncp mod_jk.so /path/to/apache/libexec/.\n\nFinally I have put \"Include /path/to/tomcat/conf/mod_jk.conf-auto\" at the end of\nthe \n\nIf I use Tomcat 3.3 instead of 3.2.3 and that I build mod_jk.so in the following\nway :\n\ncd /path/to/tomcat//native/mod_jk/apache1.3\nsh build-solaris.sh\n and that I put \"Include /path/to/tomcat/conf/auto/mod_jk.conf\" aaaat the end of\nthe /path/to/apache/conf/httpd.conf file, I get the following message :\n\nSyntax error on line 4 of /path/to/tomcat/conf/auto/mod_jk.conf:\nCannot load /path/to/apache/libexec/mod_jk.so into server: ld.so.1:\n/path/to/apache2/bin/httpd: fatal: relocation error: file\n/path/to/apache/libexec/mod_jk.so: symbol snprintf: referenced symbol not found\n/path/to/apache/bin/apachectl start: httpd could not be started\n\nnote : apache works perfectly alone without tomcat started (and without\nincluding mod_jk.conf in httpd.conf).", "id": 7982, "time": "2001-11-16T02:40:26Z", "bug_id": 4915, "creation_time": "2001-11-16T02:40:26Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 4915, "attachment_id": null, "id": 8277, "time": "2001-11-26T12:11:39Z", "creator": "william.barker@wilshire.com", "creation_time": "2001-11-26T12:11:39Z", "is_private": false, "text": "If you include -lposix4 in the apxs command line, then the error for fdatasync \nshould go away.  However, I am guessing that it will just be replaced by the \nsnprintf error.  Since this function isn't available on Solaris 2.5, probably \nyour best option is to modify mod_jk/common/jk_util.c to act like it does for \nNETWARE (e.g. \"#define NETWARE\" after the #includes)."}, {"count": 2, "attachment_id": null, "bug_id": 4915, "text": "No more comments on that bug, may be the user upgraded to \nhigher solaris version ?\n\nI'll add compile flags, NO_SNPRINTF and NO_VSNPRINTF to \nuse the netware patch in jk 1.2.0 release", "id": 18319, "time": "2002-06-21T15:05:23Z", "creator": "hgomez@slib.fr", "creation_time": "2002-06-21T15:05:23Z", "tags": [], "is_private": false}]