[{"count": 0, "tags": [], "bug_id": 56869, "attachment_id": 31929, "id": 177264, "time": "2014-08-19T10:58:38Z", "creator": "knobi@knobisoft.de", "creation_time": "2014-08-19T10:58:38Z", "is_private": false, "text": "Created attachment 31929\nPatch to add MxCon\n\nIn addition to display the \"Current number of backend connections\" on the jkmanager status page, it is useful to see the \"Maximum number of backend connections\" as well.\n\nThe attached patch against r1618835 does that. It requires an additional \"int\" field in structure \"jk_shm_ajp_worker\". As I am not familiar enough with the code, it may as well need adaption of the value of JK_SHM_SLOT_SIZE. This should be checked by someone in the know.\n\nThanks\nMartin"}, {"count": 1, "tags": [], "creator": "knobi@knobisoft.de", "attachment_id": null, "text": "One thought: if this metric is deemed useful, the question is whether it should be reset to zero whenever the worker is reset via the gui. The current patch does not do it. Personally I have no real preference. both ways seem to make sense.", "id": 177373, "time": "2014-08-26T13:04:09Z", "bug_id": 56869, "creation_time": "2014-08-26T13:04:09Z", "is_private": false}, {"count": 2, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": null, "text": "Thanks for your contribution.\n\nI have applied this patch with very minor changes in r1647150, it will be part of mod_jk 1.2.41.\n\nA change to JK_SHM_SLOT_SIZE was not needed, there was still enough space left. I have added general checking code whether JK_SHM_SLOT_SIZE is big enough\nto the startup. Determining the optimal JK_SHM_SLOT_SIZE during configure would be better, but we do not use configure on all platforms.\n\nRegards,\n\nRainer", "id": 179914, "time": "2014-12-21T15:08:42Z", "bug_id": 56869, "creation_time": "2014-12-21T15:08:42Z", "is_private": false}, {"count": 3, "tags": [], "creator": "rainer.jung@kippdata.de", "is_private": false, "text": "I added a reset of the max connected count to the status worker in the general statistics reset functions. See r1649784.", "id": 180174, "time": "2015-01-06T11:31:17Z", "bug_id": 56869, "creation_time": "2015-01-06T11:31:17Z", "attachment_id": null}]