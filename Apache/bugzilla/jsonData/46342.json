[{"count": 0, "tags": [], "bug_id": 46342, "attachment_id": 22993, "text": "Created attachment 22993\nPatch to reduce the number of debug messages\n\nUsing mod_authnz_ldap with loglevel debug results in 8 messages every time an LDAP URL is parsed.  Because this happens early in startup, these go to stderr, and on Windows create a separate error event in the event log for every message, which is worse.  It also shows up when you do \"apachectl -k stop\".\n\nI'm not sure this information needs to be logged at all (maybe left over from when this code was developed?).  But if we do want it logged, at least we can cut down the number of messages from 8 to 1, which will greatly reduce the clutter in the Windows event log.\n\nThe patch provided collapses the information from the 8 separate messages into a single message.  Instead of\n\n[Thu Dec 04 14:14:15 2008] [debug] mod_authnz_ldap.c(918): [1160] auth_ldap url parse: `ldap://example.com/o=apache,c=US?cn?sub?'\n[Thu Dec 04 14:14:15 2008] [debug] mod_authnz_ldap.c(927): [1160] auth_ldap url parse: Host: example.com\n[Thu Dec 04 14:14:15 2008] [debug] mod_authnz_ldap.c(929): [1160] auth_ldap url parse: Port: 389\n[Thu Dec 04 14:14:15 2008] [debug] mod_authnz_ldap.c(931): [1160] auth_ldap url parse: DN: o=apache,c=US\n[Thu Dec 04 14:14:15 2008] [debug] mod_authnz_ldap.c(933): [1160] auth_ldap url parse: attrib: cn\n[Thu Dec 04 14:14:15 2008] [debug] mod_authnz_ldap.c(935): [1160] auth_ldap url parse: scope: subtree\n[Thu Dec 04 14:14:15 2008] [debug] mod_authnz_ldap.c(940): [1160] auth_ldap url parse: filter: (null)\n[Thu Dec 04 14:14:15 2008] [debug] mod_authnz_ldap.c(1016): LDAP: auth_ldap not using SSL connections\n\nthe output is one line like this\n\n[Thu Dec 04 14:05:06 2008] [debug] mod_authnz_ldap.c(999): [1651] auth_ldap url parse: `ldaps://example.com:636/o=apache,c=US?cn?sub?', Host: example.com:636, Port: 636, DN: o=apache,c=US, attrib: cn, scope: subtree, filter: (null), connection mode: SSL", "id": 123092, "time": "2008-12-04T12:14:17Z", "creator": "poirier@pobox.com", "creation_time": "2008-12-04T12:14:17Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 46342, "text": "Committed to trunk and submitted for backporting.", "id": 123889, "time": "2009-01-08T20:18:46Z", "creator": "rederpj@remulak.net", "creation_time": "2009-01-08T20:18:46Z", "tags": [], "is_private": false}]