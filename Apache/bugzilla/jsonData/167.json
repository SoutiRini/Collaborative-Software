[{"count": 0, "tags": [], "bug_id": 167, "attachment_id": null, "text": "Current input:checkbox taglib checks for parameters in the request\r\nto determine whether a request is the first hit to a page.\r\n\r\nOn multi-page forms there will already be values in the request parameters,\r\neven if this is the first hit to a particular page of the form.\r\n\r\nMy solution is to add a hidden input with a known name to each checkbox generated \r\nby the taglib. If there is no parameter by that name in the request, \r\nthen you know that this is the first time the page has been hit.\r\n\r\nCode:\r\n\r\n\t\t//OLD WAY:\r\n\t\t//checking to see if this is the first page hit\r\n\t\t//ie: the request is ENTIRELY empty\r\n\t\t//by: no elements in the request parameters\r\n\t\t//if (!req.getParameterNames().hasMoreElements()) {\r\n\t\t\r\n\t\t//NEW WAY: \r\n\t\t//checking for the non-existence of the hidden input \r\n\t\tif (req.getParameter(name + \"_cb\") == null) {\r\n\r\n//do the normal checks to see if it should be checked by default\r\n//...\r\n\r\n\r\n\r\n\t\t//add a hidden input \r\n\t\t//the presence of its value in the request parameters \r\n\t\t//will indicate whether this is the first page hit\r\n\t\tout.println(\"<INPUT TYPE=\\\"hidden\\\" NAME=\\\"\" + name + \"_cb\\\" VALUE=\\\"1\\\" />\");\r\n\r\n", "id": 147, "time": "2000-10-05T18:38:49Z", "creator": "dev@tomcat.apache.org", "creation_time": "2000-10-05T18:38:49Z", "is_private": false}, {"count": 1, "tags": [], "creator": "bayern@essentially.net", "is_private": false, "text": "The 'input' library is oriented on (and intended for) single pages.  The \noffered fix makes sense in some contexts, but it's imperfect and might clash \nwith a user's parameter.  I think, for now, it's better to keep things simple \nand leave it as it is.", "id": 3495, "time": "2001-07-08T00:09:29Z", "bug_id": 167, "creation_time": "2001-07-08T00:09:29Z", "attachment_id": null}]