[{"count": 0, "tags": [], "bug_id": 23297, "text": "Configure completes under IRIX 6.3 and gcc 3.2.2, but spits out a number of \nwhat look to be critical error messages during its run, yet it doesn't seem to \ndetect their failure.  Subsequent attempt to run \"make\" yields repeated \"*** No \nrule to make target `all'.  Stop.\" messages.\n\nFirst failures from configure are as follows:\n\n[...]\nConfiguring APR library\nPlatform: mips-sgi-irix6.3\nchecking for working mkdir -p... yes\nAPR Version: 0.9.4\n/usr2/admin/src/web/httpd-2.0.47/srclib/apr/configure[2016]: syntax error at \nline 15 : `newline or ;' unexpected\nsrclib/apr configured properly\n./configure[2665]: ./srclib/apr/apr-config:  not found\n  setting CC to \"\"\n./configure[2666]: ./srclib/apr/apr-config:  not found\n[...]\n\nTried it under ksh and sh, same result, as well as removing \nuser .env, .profile, etc. files to verify they weren't conflicting.", "id": 44386, "time": "2003-09-20T21:26:20Z", "creator": "rd37@randydavis.cc", "creation_time": "2003-09-20T21:26:20Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 23297, "is_private": false, "id": 44387, "creation_time": "2003-09-20T21:36:02Z", "time": "2003-09-20T21:36:02Z", "creator": "rd37@randydavis.cc", "text": "Full configure run is as follows:\n\nchecking for chosen layout... Apache\nchecking for working mkdir -p... yes\nchecking build system type... mips-sgi-irix6.3\nchecking host system type... mips-sgi-irix6.3\nchecking target system type... mips-sgi-irix6.3\n\nConfiguring Apache Portable Runtime library ...\n\nchecking for APR... reconfig\nconfiguring package in srclib/apr now\nchecking build system type... mips-sgi-irix6.3\nchecking host system type... mips-sgi-irix6.3\nchecking target system type... mips-sgi-irix6.3\nConfiguring APR library\nPlatform: mips-sgi-irix6.3\nchecking for working mkdir -p... yes\nAPR Version: 0.9.4\n/usr2/admin/src/web/httpd-2.0.47/srclib/apr/configure[2016]: syntax error at \nline 15 : `newline or ;' unexpected\nsrclib/apr configured properly\n./configure[2665]: ./srclib/apr/apr-config:  not found\n  setting CC to \"\"\n./configure[2666]: ./srclib/apr/apr-config:  not found\n./configure[2671]: ./srclib/apr/apr-config:  not found\n  setting CPP to \"\"\n./configure[2672]: ./srclib/apr/apr-config:  not found\n./configure[2677]: ./srclib/apr/apr-config:  not found\n  setting CFLAGS to \"\"\n./configure[2678]: ./srclib/apr/apr-config:  not found\n./configure[2698]: ./srclib/apr/apr-config:  not found\n  setting CPPFLAGS to \"\"\n./configure[2699]: ./srclib/apr/apr-config:  not found\n./configure[2719]: ./srclib/apr/apr-config:  not found\n  setting LDFLAGS to \"\"\n./configure[2720]: ./srclib/apr/apr-config:  not found\n./configure[2740]: ./srclib/apr/apr-config:  not found\n  setting INCLUDES to \"\"\n./configure[2741]: ./srclib/apr/apr-config:  not found\n./configure[2759]: ./srclib/apr/apr-config:  not found\n./configure[2760]: ./srclib/apr/apr-config:  not found\n./configure[2761]: ./srclib/apr/apr-config:  not found\n\nConfiguring Apache Portable Runtime Utility library...\n\nchecking for APR-util... reconfig\nconfiguring package in srclib/apr-util now\nchecking build system type... mips-sgi-irix6.3\nchecking host system type... mips-sgi-irix6.3\nchecking target system type... mips-sgi-irix6.3\nchecking for working mkdir -p... yes\nAPR-util Version: 0.9.4\n/usr2/admin/src/web/httpd-2.0.47/srclib/apr-util/configure[1621]: syntax error \nat line 15 : `newline or ;' unexpected\nsrclib/apr-util configured properly\n./configure[2966]: ./srclib/apr-util/apu-config:  not found\n  setting LDFLAGS to \"\"\n./configure[2967]: ./srclib/apr-util/apu-config:  not found\n./configure[2987]: ./srclib/apr-util/apu-config:  not found\n  setting INCLUDES to \"\"\n./configure[2988]: ./srclib/apr-util/apu-config:  not found\n./configure[3006]: ./srclib/apr-util/apu-config:  not found\n./configure[3007]: ./srclib/apr-util/apu-config:  not found\nchecking for gcc... gcc\nchecking for C compiler default output... a.out\nchecking whether the C compiler works... yes\nchecking whether we are cross compiling... no\nchecking for suffix of executables...\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ANSI C... none needed\nchecking how to run the C preprocessor... gcc -E\n\nConfiguring PCRE regular expression library ...\n\nconfiguring package in srclib/pcre now\nchecking for gcc... gcc\nchecking for C compiler default output... a.out\nchecking whether the C compiler works... yes\nchecking whether we are cross compiling... no\nchecking for suffix of executables...\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ANSI C... none needed\nchecking for ranlib... :\nchecking how to run the C preprocessor... gcc -E\nchecking for egrep... egrep\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... no\nchecking for unistd.h... yes\nchecking limits.h usability... yes\nchecking limits.h presence... yes\nchecking for limits.h... yes\nchecking for an ANSI C-conforming const... yes\nchecking for size_t... yes\nchecking for bcopy... yes\nchecking for memmove... yes\nchecking for strerror... yes\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating pcre.h\nconfig.status: creating pcre-config\nconfig.status: creating config.h\nconfig.status: executing default commands\nsrclib/pcre configured properly\n\nConfiguring Apache httpd ...\n\n  setting INCLUDES to \"-I.\"\n  adding \"-I$(top_srcdir)/os/$(OS_DIR)\" to INCLUDES\n  adding \"-I$(top_srcdir)/server/mpm/$(MPM_SUBDIR_NAME)\" to INCLUDES\n  adding \"-I$(top_srcdir)/modules/http\" to INCLUDES\n  adding \"-I$(top_srcdir)/modules/filters\" to INCLUDES\n  adding \"-I$(top_srcdir)/modules/proxy\" to INCLUDES\n  adding \"-I$(top_srcdir)/include\" to INCLUDES\n\nApplying OS-specific hints for httpd ...\n\n./configure[4230]: ./srclib/apr/apr-config:  not found\n./configure[4232]: --version:  not found\nchecking for rm... /sbin/rm\nchecking for gawk... no\nchecking for mawk... no\nchecking for nawk... nawk\nchecking for a BSD-compatible install... build/install.sh -c\nchecking whether ln -s works... yes\nchecking for ranlib... true\nchecking for egrep... egrep\nchecking for AIX... no\nchecking for library containing strerror... none required\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... no\nchecking for unistd.h... yes\nchecking minix/config.h usability... no\nchecking minix/config.h presence... no\nchecking for minix/config.h... no\nchecking for ANSI C header files... (cached) yes\nchecking for string.h... (cached) yes\nchecking limits.h usability... yes\nchecking limits.h presence... yes\nchecking for limits.h... yes\nchecking for unistd.h... (cached) yes\nchecking sys/socket.h usability... yes\nchecking sys/socket.h presence... yes\nchecking for sys/socket.h... yes\nchecking pwd.h usability... yes\nchecking pwd.h presence... yes\nchecking for pwd.h... yes\nchecking grp.h usability... yes\nchecking grp.h presence... yes\nchecking for grp.h... yes\nchecking for strings.h... (cached) yes\nchecking sys/prctl.h usability... yes\nchecking sys/prctl.h presence... yes\nchecking for sys/prctl.h... yes\nchecking sys/processor.h usability... no\nchecking sys/processor.h presence... no\nchecking for sys/processor.h... no\nchecking sys/sem.h usability... yes\nchecking sys/sem.h presence... yes\nchecking for sys/sem.h... yes\nchecking for sys/wait.h that is POSIX.1 compatible... yes\nchecking for an ANSI C-conforming const... yes\n  setting NOTEST_CPPFLAGS to \"-DAP_HAVE_DESIGNATED_INITIALIZER\"\nchecking for getpwnam... yes\nchecking for getgrnam... yes\nchecking for initgroups... yes\nchecking for bindprocessor... no\nchecking for prctl... yes\nchecking for timegm... no\nchecking for tm_gmtoff in struct tm... no\nchecking whether to enable mod_access... yes (default)\nchecking whether to enable mod_auth... yes (default)\nchecking whether to enable mod_auth_anon... no\nchecking whether to enable mod_auth_dbm... no\nchecking whether to enable mod_auth_digest... no\n  setting LT_LDFLAGS to \"-export-dynamic\"\nchecking whether to enable mod_isapi... no\nchecking whether to enable mod_file_cache... no\nchecking whether to enable mod_echo... no\nchecking whether to enable mod_charset_lite... no\nchecking whether to enable mod_cache... no\nchecking whether to enable mod_disk_cache... no\nchecking whether to enable mod_mem_cache... no\nchecking whether to enable mod_example... no\nchecking whether to enable mod_case_filter... no\nchecking whether to enable mod_case_filter_in... no\nchecking whether to enable mod_ldap... no\nchecking whether to enable mod_auth_ldap... no\nchecking whether to enable mod_ext_filter... no\nchecking whether to enable mod_include... yes (default)\nchecking whether to enable mod_deflate... no\nchecking whether to enable mod_log_config... yes (default)\nchecking whether to enable mod_logio... no\nchecking whether to enable mod_env... yes (default)\nchecking whether to enable mod_mime_magic... no\nchecking whether to enable mod_cern_meta... no\nchecking whether to enable mod_expires... no\nchecking whether to enable mod_headers... no\nchecking whether to enable mod_usertrack... no\nchecking whether to enable mod_unique_id... no\nchecking whether to enable mod_setenvif... yes (default)\nchecking whether to enable mod_proxy... no\nchecking whether to enable mod_proxy_connect... no\nchecking whether to enable mod_proxy_ftp... no\nchecking whether to enable mod_proxy_http... no\nchecking whether to enable mod_ssl... no\nchecking whether to enable mod_optional_hook_export... no\nchecking whether to enable mod_optional_hook_import... no\nchecking whether to enable mod_optional_fn_import... no\nchecking whether to enable mod_optional_fn_export... no\nchecking whether to enable mod_bucketeer... no\nchecking for target platform... unix\nchecking for rlim_t... yes\nchecking sys/time.h usability... yes\nchecking sys/time.h presence... yes\nchecking for sys/time.h... yes\nchecking sys/resource.h usability... yes\nchecking sys/resource.h presence... yes\nchecking for sys/resource.h... yes\nchecking for sys/sem.h... (cached) yes\nchecking sys/ipc.h usability... yes\nchecking sys/ipc.h presence... yes\nchecking for sys/ipc.h... yes\nchecking for setsid... yes\nchecking for killpg... yes\nchecking bstring.h usability... yes\nchecking bstring.h presence... yes\nchecking for bstring.h... yes\nchecking for unistd.h... (cached) yes\nchecking for syslog... yes\nchecking sys/times.h usability... yes\nchecking sys/times.h presence... yes\nchecking for sys/times.h... yes\nchecking for times... yes\nchecking which MPM to use... prefork\nchecking whether to enable mod_http... yes\nchecking whether to enable mod_mime... yes (default)\nchecking for extra modules... no extra modules\nchecking whether to enable mod_dav... no\n  adding \"-I$(top_srcdir)/modules/dav/main\" to INCLUDES\nchecking whether to enable mod_status... yes (default)\nchecking whether to enable mod_autoindex... yes (default)\nchecking whether to enable mod_asis... yes (default)\nchecking whether to enable mod_info... no\nchecking whether to enable mod_suexec... no\nchecking whether to enable mod_cgi... yes (default)\nchecking whether to enable mod_cgid... no\nchecking whether to enable mod_dav_fs... no\nchecking whether to enable mod_vhost_alias... no\nchecking whether to enable mod_negotiation... yes (default)\nchecking whether to enable mod_dir... yes (default)\nchecking whether to enable mod_imap... yes (default)\nchecking whether to enable mod_actions... yes (default)\nchecking whether to enable mod_speling... no\nchecking whether to enable mod_userdir... yes (default)\nchecking whether to enable mod_alias... yes (default)\nchecking whether to enable mod_rewrite... no\nchecking whether to enable mod_so... no\n./configure[15055]: ./srclib/apr-util/apu-config:  not found\n./configure[15055]: ./srclib/apr/apr-config:  not found\nchecking whether byte ordering is bigendian... yes\n\nRestore user-defined environment settings...\n\n  restoring CPPFLAGS to \"\"\n  setting EXTRA_CPPFLAGS to \"\"\n  restoring CFLAGS to \"\"\n  setting EXTRA_CFLAGS to \"\"\n  restoring CXXFLAGS to \"\"\n  setting EXTRA_CXXFLAGS to \"\"\n  restoring LDFLAGS to \"\"\n  setting EXTRA_LDFLAGS to \"\"\n  restoring LIBS to \"\"\n  setting EXTRA_LIBS to \"\"\n  restoring INCLUDES to \"\"\n  setting EXTRA_INCLUDES to \"-I. -I$(top_srcdir)/os/$(OS_DIR) -\nI$(top_srcdir)/ser\nver/mpm/$(MPM_SUBDIR_NAME) -I$(top_srcdir)/modules/http -\nI$(top_srcdir)/modules/f\nilters -I$(top_srcdir)/modules/proxy -I$(top_srcdir)/include -\nI$(top_srcdir)/modu\nles/dav/main\"\n\nConstruct makefiles and header files...\n\ncreating config_vars.mk\nconfigure: creating ./config.status\ncreating modules/aaa/Makefile\ncreating modules/arch/win32/Makefile\ncreating modules/cache/Makefile\ncreating modules/echo/Makefile\ncreating modules/experimental/Makefile\ncreating modules/filters/Makefile\ncreating modules/loggers/Makefile\ncreating modules/metadata/Makefile\ncreating modules/proxy/Makefile\ncreating modules/ssl/Makefile\ncreating modules/test/Makefile\ncreating os/unix/Makefile\ncreating server/mpm/Makefile\ncreating server/mpm/prefork/Makefile\ncreating modules/http/Makefile\ncreating modules/dav/main/Makefile\ncreating modules/generators/Makefile\ncreating modules/dav/fs/Makefile\ncreating modules/mappers/Makefile\ncreating Makefile\ncreating modules/Makefile\ncreating srclib/Makefile\ncreating os/beos/Makefile\ncreating os/os2/Makefile\ncreating os/Makefile\ncreating os/unix/Makefile\ncreating server/Makefile\ncreating support/Makefile\ncreating srclib/pcre/Makefile\ncreating test/Makefile\nconfig.status: creating docs/conf/httpd-std.conf\nconfig.status: creating include/ap_config_layout.h\nconfig.status: creating support/apxs\nconfig.status: creating support/apachectl\nconfig.status: creating support/dbmmanage\nconfig.status: creating support/envvars-std\nconfig.status: creating support/log_server_status\nconfig.status: creating support/logresolve.pl\nconfig.status: creating support/phf_abuse_log.cgi\nconfig.status: creating support/split-logfile\nconfig.status: creating build/rules.mk\nconfig.status: creating include/ap_config_auto.h\nconfig.status: executing default commands\n", "attachment_id": null}, {"count": 2, "tags": [], "creator": "rd37@randydavis.cc", "attachment_id": null, "text": "Upon further investigation (doing a \"sh -x configure\"), and no matter how I \ninvoke my login shell, I detect the lines:\n\nCONFIG_SHELL=/bin/ksh\n+ export CONFIG_SHELL\n+ exec /bin/ksh configure\n\nwhich implies its a ksh-related issue.", "id": 44388, "time": "2003-09-20T22:21:37Z", "bug_id": 23297, "creation_time": "2003-09-20T22:21:37Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 23297, "attachment_id": null, "text": "Strike the comment about ksh - doesn't seem to be the issue.  Further debugging \nshows that the error is coming from line 15 in the various config.pld files.  \nNote the numerous \"</Layout> lines and following single quote on the next lines \nin the config.pld file, which seems to indicate a problem in the \"sed\" scripts \nin configure:\n\nsrclib/apr/config.pld:\nprefix='/usr/local/apr'\n    exec_prefix:   ${prefix}\nbindir='${exec_prefix}/bin'\n    sbindir:       ${exec_prefix}/bin\nlibdir='${exec_prefix}/lib'\n    libexecdir:    ${exec_prefix}/modules\nmandir='${prefix}/man'\n    sysconfdir:    ${prefix}/conf\ndatadir='${prefix}'\n    installbuilddir: ${datadir}/build\nincludedir='${prefix}/include/apr-${APR_MAJOR_VERSION}'\n    localstatedir: ${prefix}\nlibsuffix='-${APR_MAJOR_VERSION}'\n</Layout>\n'\n#   Classical single-installation APR path layout.\n<Layout classic>'\n    prefix:        /usr/local/apr\nexec_prefix='${prefix}'\n    bindir:        ${exec_prefix}/bin\nsbindir='${exec_prefix}/bin'\n    libdir:        ${exec_prefix}/lib\nlibexecdir='${exec_prefix}/modules'\n    mandir:        ${prefix}/man\nsysconfdir='${prefix}/conf'\n    datadir:       ${prefix}\ninstallbuilddir='${datadir}/build'\n    includedir:    ${prefix}/include\nlocalstatedir='${prefix}'\n</Layout>\n'\n#   GNU standards conforming path layout.\n#   See FSF's GNU project `make-stds' document for details.'\n<Layout GNU>\nprefix='/usr/local'\n    exec_prefix:   ${prefix}\nbindir='${exec_prefix}/bin'\n    sbindir:       ${exec_prefix}/sbin\nlibdir='${exec_prefix}/lib'\n    libexecdir:    ${exec_prefix}/libexec\nmandir='${prefix}/man'\n    sysconfdir:    ${prefix}/etc+\ndatadir='${prefix}/share+'\n    installbuilddir: ${datadir}/build\nincludedir='${prefix}/include+'\n    localstatedir: ${prefix}/var+\nruntimedir='${localstatedir}/run'\n</Layout>\n'\n#   Mac OS X Server (Rhapsody)\n<Layout Mac OS X Server>'\n    prefix:        /Local/Library/WebServer\nexec_prefix='/usr'\n    bindir:        ${exec_prefix}/bin\nsbindir='${exec_prefix}/sbin'\n    libdir:        ${exec_prefix}/lib\nlibexecdir='/System/Library/apr/Modules'\n    mandir:        ${exec_prefix}/share/man\nsysconfdir='${prefix}/Configuration'\n    datadir:       ${prefix}\ninstallbuilddir='/System/Library/apr/Build'\n    includedir:    /System/Library/Frameworks/apr.framework/Versions/2.0/Headers\nlocalstatedir='/var'\n    runtimedir:    ${prefix}/Logs\n\n", "id": 44390, "time": "2003-09-20T23:01:03Z", "creator": "rd37@randydavis.cc", "creation_time": "2003-09-20T23:01:03Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 23297, "attachment_id": null, "text": "OK, problem is definitely with IRIX's version of sed().  Successfull workaround \nis to install gnu sed and putt /usr/local/bin (installation point for gnu sed) \nin path ahead of system sed bin directory (/sbin).\n\n(My last comment on this - problem still exists with configure's use of SED \nwith IRIX 6.3).\n\n", "id": 44391, "time": "2003-09-21T00:52:43Z", "creator": "rd37@randydavis.cc", "creation_time": "2003-09-21T00:52:43Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 23297, "text": "\n\n*** This bug has been marked as a duplicate of 20634 ***", "id": 45306, "time": "2003-10-09T16:55:34Z", "creator": "drees76@gmail.com", "creation_time": "2003-10-09T16:55:34Z", "is_private": false, "attachment_id": null}]