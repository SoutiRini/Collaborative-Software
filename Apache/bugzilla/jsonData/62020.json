[{"count": 0, "tags": [], "text": "Hi Team,\n\nWe're migrating from Tomcat 7 to Tomcat 8(Also, we're migrating Oracle 11g to Oracle 12c). We've used the latest ojdbc7.jar and configured the required datasource details in tomcat server.xml. But we're getting the below exception while connecting to the Oracle Database from our application.\n\nException: java.sql.SQLException: ORA-28040: No matching authentication protocol\n\nserver.xml:\n\n<Resource name=\"jdbc/AAS_DEV\" auth=\"Container\" \n\t\t type=\"oracle.jdbc.pool.OracleDataSource\" \n\t\t driverClassName=\"oracle.jdbc.OracleDriver\" \n\t\tfactory=\"oracle.jdbc.pool.OracleDataSourceFactory\" \n\t\t url=\"jdbc:oracle:thin:@MASKED:49125:MASKED\" \n\t\t user=\"MASKED\" password=\"MASKED\" maxActive=\"100\" maxIdle=\"10\" maxWait=\"5000\" />\n\nCode snippet:\n\nDriverManager.registerDriver(new oracle.jdbc.OracleDriver());\nInitialContext ic = new InitialContext();\noracle.jdbc.pool.OracleDataSource ds = (oracle.jdbc.pool.OracleDataSource) ic.lookup(\"java:comp/env/\" + \"jdbc/AAS_DEV\");\n    \t\t\t\t    \n Connection conn = ds.getConnection();\n\nPlease help us whether we're missing any configuration and let us know if you need more details.\n\nThanks,\nBhanu", "attachment_id": null, "bug_id": 62020, "id": 203354, "time": "2018-01-19T08:28:01Z", "creator": "bhanu.c.paperi@bankofamerica.com", "creation_time": "2018-01-19T08:28:01Z", "is_private": false}, {"count": 1, "attachment_id": null, "creator": "markt@apache.org", "is_private": false, "id": 203355, "time": "2018-01-19T08:59:49Z", "bug_id": 62020, "creation_time": "2018-01-19T08:59:49Z", "tags": [], "text": "This is not a Tomcat issue.\n\nGoogling the error message provides plenty of pointers t the root cause and the appropriate fix."}, {"count": 2, "tags": [], "creator": "bhanu.c.paperi@bankofamerica.com", "attachment_id": null, "is_private": false, "id": 203370, "time": "2018-01-19T14:34:49Z", "bug_id": 62020, "creation_time": "2018-01-19T14:34:49Z", "text": "The issue got resolved after removing the classes12.jar from the application. Thank you Team. Closing this ticket."}]