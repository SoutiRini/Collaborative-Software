[{"count": 0, "tags": [], "creator": "kurt@roeckx.be", "attachment_id": 34180, "text": "Created attachment 34180\nopenssl 1.1 support\n\nHi,\n\nThis is an initial patch to support OpenSSL 1.1.0.\n\nThis is not a complete patch yet, but I'm filing it so that others won't be doing the same.\n\nIt compiles against the 1.1.0 version.  It doesn't build with the 1.0.2 version yet.  It's also untested.", "id": 193381, "time": "2016-08-28T21:33:37Z", "bug_id": 60061, "creation_time": "2016-08-28T21:33:37Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 60061, "text": "Created attachment 34182\nSupport for OpenSSL 1.1.0\n\nHere is an updated patch that is tested to build with both 1.1.0 and 1.0.2", "id": 193393, "attachment_id": 34182, "creator": "kurt@roeckx.be", "creation_time": "2016-08-29T20:20:36Z", "time": "2016-08-29T20:20:36Z", "is_private": false}, {"text": "There is support for openssl 1.1 in trunk in the apache httpd svn repo and there is some work in progress for backporting it to 2.4 in a separate branch \n\nhttp://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x-openssl-1.1.0-compat/\n\nIt may make sense to compare that with your work, though.", "tags": [], "bug_id": 60061, "is_private": false, "count": 2, "id": 193395, "time": "2016-08-29T21:21:45Z", "creator": "sf@sfritsch.de", "creation_time": "2016-08-29T21:21:45Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "covener@gmail.com", "is_private": false, "text": "*** Bug 60111 has been marked as a duplicate of this bug. ***", "id": 193612, "time": "2016-09-10T13:20:47Z", "bug_id": 60061, "creation_time": "2016-09-10T13:20:47Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 60061, "attachment_id": null, "id": 193621, "time": "2016-09-10T21:21:17Z", "creator": "b.hamichi@gmail.com", "creation_time": "2016-09-10T21:21:17Z", "is_private": false, "text": "Hi All,\n\nThanks a lot for your help, it's magic! working with these patches.\n\nJust to note that I get some warnings, could you confirm please the following are normal and without impact (sorry, I'm new in linux):\n\n\nWARNING WHEN PATCHs APPLIED ==========================\n\nssl_util_stapling.c: In function 'ssl_stapling_init_cert':\nssl_util_stapling.c:183:8: warning: passing argument 1 of 'OPENSSL_sk_value' from incompatible pointer type [enabled by default]\n        cinf->uri = apr_pstrdup(p, sk_OPENSSL_STRING_value(aia, 0));\n        ^\nIn file included from /usr/local/openssl/openssl-1.1.0/include/openssl/crypto.h:28:0,\n                 from /usr/local/openssl/openssl-1.1.0/include/openssl/comp.h:16,\n                 from /usr/local/openssl/openssl-1.1.0/include/openssl/ssl.h:47,\n                 from ssl_private.h:90,\n                 from ssl_util_stapling.c:31:\n/usr/local/openssl/openssl-1.1.0/include/openssl/stack.h:24:7: note: expected 'const struct OPENSSL_STACK *' but argument is of type 'struct stack_st_OPENSSL_STRING *'\n\n\nWARNING AFTER MAKE ==========================\n\nv/main -I/usr/local/src/httpd-2.4.23/modules/generators -I/usr/local/src/httpd-2.4.23/modules/mappers -prefer-pic -c ssl_engine_kernel.c && touch ssl_engine_kernel.slo\nssl_engine_kernel.c: In function 'ssl_hook_Access':\nssl_engine_kernel.c:629:41: warning: initialization discards 'const' qualifier from pointer target type [enabled by default]\n                     SSL_CIPHER *value = sk_SSL_CIPHER_value(cipher_list, n);\n\nssl_util_stapling.c: In function 'ssl_stapling_init_cert':\nssl_util_stapling.c:183:8: warning: passing argument 1 of 'OPENSSL_sk_value' from incompatible pointer type [enabled by default]\n        cinf->uri = apr_pstrdup(p, sk_OPENSSL_STRING_value(aia, 0));\n\n\n...\n...\n...\n\n        ^\nIn file included from /usr/local/openssl/openssl-1.1.0/include/openssl/crypto.h:28:0,\n                 from /usr/local/openssl/openssl-1.1.0/include/openssl/comp.h:16,\n                 from /usr/local/openssl/openssl-1.1.0/include/openssl/ssl.h:47,\n                 from ssl_private.h:90,\n                 from ssl_util_stapling.c:31:\n/usr/local/openssl/openssl-1.1.0/include/openssl/stack.h:24:7: note: expected 'const struct OPENSSL_STACK *' but argument is of type 'struct stack_st_OPENSSL_STRING *'\n void *OPENSSL_sk_value(const OPENSSL_STACK *, int);"}]