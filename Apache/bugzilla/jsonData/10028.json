[{"count": 0, "tags": [], "bug_id": 10028, "is_private": false, "text": "I found what I think is a bug in Tomcat 4.1.5 and Tomcat 4.0.4. I'm running \nTomcat in standalone mode. I have SSL enabled and I have it setup so that \nrequests on the HTTP port are redirected to the HTTPS port.\n\nThe bug occurs when I attempt to access my Web site at the following URL.\n\nhttp://mywebserver:8080\n\nIf I access it as,\n\nhttp://mywebserver:8080/index.jsp\n\nit works fine. i.e. it gets redirected to https://mywebserver:8443/index.jsp.\n\nIt also works fine if I access it using https://mywebserver:8443. i.e. using \nHTTPS but not specifying the file name.\n\nSo, it seems to have something to do with how it determines the default file \nname.\n\nI have the following in my web.xml file. This works fine with older versions \nof Tomcat.\n\n        <security-constraint>\n                <web-resource-collection>\n                        <web-resource-name>Tomcat</web-resource-name>\n                        <url-pattern>/*</url-pattern>\n                </web-resource-collection>\n                <user-data-constraint>\n                        <transport-guarantee>CONFIDENTIAL</transport-guarantee>\n                </user-data-constraint>\n        </security-constraint>\n\nThis is my server.xml file.\n\n<Server port=\"8006\"\n        shutdown=\"SHUTDOWN\"\n        debug=\"99\">\n        <Service name=\"Tomcat-Standalone\">\n                <Connector \nclassName=\"org.apache.coyote.tomcat4.CoyoteConnector\"\n                        port=\"8080\"\n                        minProcessors=\"5\"\n                        maxProcessors=\"75\"\n                        enableLookups=\"true\"\n                        redirectPort=\"8443\"\n                        acceptCount=\"10\"\n                        debug=\"0\"\n                        connectionTimeout=\"20000\"/>\n                <Connector \nclassName=\"org.apache.coyote.tomcat4.CoyoteConnector\"\n                        port=\"8443\"\n                        minProcessors=\"5\"\n                        maxProcessors=\"75\"\n                        enableLookups=\"true\"\n                        acceptCount=\"10\"\n                        debug=\"0\"\n                        scheme=\"https\"\n                        secure=\"true\">\n                        <Factory \nclassName=\"org.apache.coyote.tomcat4.CoyoteServerSocketFactory\"\n                                clientAuth=\"false\"\n                                protocol=\"TLS\"/>\n                </Connector>\n                <Engine name=\"Standalone\"\n                        defaultHost=\"localhost\"\n                        debug=\"0\">\n                        <Logger \nclassName=\"org.apache.catalina.logger.FileLogger\"\n                                prefix=\"catalina_log.\"\n                                suffix=\".txt\"\n                                timestamp=\"true\"/>\n                        <Realm \nclassName=\"org.apache.catalina.realm.MemoryRealm\"/>\n                        <Host name=\"localhost\"\n                                debug=\"0\"\n                                appBase=\"webapps\"\n                                unpackWARs=\"true\">\n                                <Valve \nclassName=\"org.apache.catalina.valves.AccessLogValve\"\n                                        directory=\"logs\"\n                                        prefix=\"localhost_access_log.\"\n                                        suffix=\".txt\"\n                                        pattern=\"common\"/>\n                                <Logger \nclassName=\"org.apache.catalina.logger.FileLogger\"\n                                        directory=\"logs\"\n                                        prefix=\"localhost_log.\"\n                                        suffix=\".txt\"\n                                        timestamp=\"true\"/>\n                                <Context path=\"\"\n                                        docBase=\"ROOT\"\n                                        debug=\"0\"\n                                        reloadable=\"true\"/>\n                        </Host>\n                </Engine>\n        </Service>\n</Server>", "id": 18102, "time": "2002-06-19T20:58:53Z", "creator": "jemiller@uchicago.edu", "creation_time": "2002-06-19T20:58:53Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 10028, "text": "This is a duplicate report.\n\n*** This bug has been marked as a duplicate of 8752 ***", "id": 35849, "time": "2003-04-23T07:55:45Z", "creator": "remm@apache.org", "creation_time": "2003-04-23T07:55:45Z", "is_private": false, "attachment_id": null}]