[{"count": 0, "tags": [], "bug_id": 26230, "attachment_id": null, "id": 50695, "time": "2004-01-18T15:49:09Z", "creator": "shash@badfw.org", "creation_time": "2004-01-18T15:49:09Z", "is_private": false, "text": "Hi,\n\nThe subject line basically says it.  I am attaching a small set of TEST-*.xml\nfiles and a tiny build.xml that demonstrates the problem.\n\nOS: WinXP Home\n\n$ uname -a\nCYGWIN_NT-5.1 CHATTERCOM 1.5.5(0.94/3/2) 2003-09-20 16:31 i686 unknown unknown C\nygwin\n\n$ java -version\njava version \"1.4.2\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2-b28)\nJava HotSpot(TM) Client VM (build 1.4.2-b28, mixed mode)\n\n$ ant -version\nApache Ant version 1.6.0 compiled on December 18 2003\n\n$ ant -debug\nApache Ant version 1.6.0 compiled on December 18 2003\nBuildfile: build.xml\nAdding reference: ant.PropertyHelper\nDetected Java version: 1.4 in: c:\\j2sdk1.4.2_03\\jre\nDetected OS: Windows XP\nAdding reference: ant.ComponentHelper\nSetting ro project property: ant.version -> Apache Ant version 1.6.0 compiled on\n December 18 2003\nSetting ro project property: ant.file -> c:\\test\\build.xml\nAdding reference: ant.projectHelper\nAdding reference: ant.parsing.context\nAdding reference: ant.targets\nparsing buildfile c:\\test\\build.xml with URI = file:///C:/test/build.xml\nSetting ro project property: ant.project.name -> test\nAdding reference: test\nSetting ro project property: ant.file.test -> c:\\test\\build.xml\nProject base dir set to: C:\\test\n +Target:\n +Target: junittestreport\nSetting project property: deploy.name -> default\nSetting project property: keel.test.junit -> ./reports/junit\nBuild sequence for target `junittestreport' is [junittestreport]\nComplete build sequence is [junittestreport, ]\n\njunittestreport:\n     [echo] Generating the Unit Test Report\n   [delete] Deleting directory C:\\test\\reports\\junit\\default\\html\n   [delete] Deleting C:\\test\\reports\\junit\\default\\html\\allclasses-frame.html\n   [delete] Deleting C:\\test\\reports\\junit\\default\\html\\index.html\n   [delete] Deleting C:\\test\\reports\\junit\\default\\html\\org\\keel\\services\\author\nization\\defaultauth\\tests\\DefaultAuthTests.html\n   [delete] Deleting C:\\test\\reports\\junit\\default\\html\\org\\keel\\services\\author\nization\\defaultauth\\tests\\package-frame.html\n   [delete] Deleting C:\\test\\reports\\junit\\default\\html\\org\\keel\\services\\author\nization\\defaultauth\\tests\\package-summary.html\n   [delete] Deleting directory C:\\test\\reports\\junit\\default\\html\\org\\keel\\servi\nces\\authorization\\defaultauth\\tests\n   [delete] Deleting directory C:\\test\\reports\\junit\\default\\html\\org\\keel\\servi\nces\\authorization\\defaultauth\n   [delete] Deleting directory C:\\test\\reports\\junit\\default\\html\\org\\keel\\servi\nces\\authorization\n   [delete] Deleting directory C:\\test\\reports\\junit\\default\\html\\org\\keel\\servi\nces\n   [delete] Deleting directory C:\\test\\reports\\junit\\default\\html\\org\\keel\n   [delete] Deleting directory C:\\test\\reports\\junit\\default\\html\\org\n   [delete] Deleting C:\\test\\reports\\junit\\default\\html\\overview-frame.html\n   [delete] Deleting C:\\test\\reports\\junit\\default\\html\\overview-summary.html\n   [delete] Deleting C:\\test\\reports\\junit\\default\\html\\stylesheet.css\n   [delete] Deleting directory C:\\test\\reports\\junit\\default\\html\nCould not load a dependent class (com/sun/media/jai/codec/FileSeekableStream) fo\nr type image\nCould not load a dependent class (com/jcraft/jsch/UserInfo) for type sshexec\nCould not load a dependent class (com/jcraft/jsch/UserInfo) for type scp\nCould not load a dependent class (org/apache/commons/net/SocketClient) for type\nrexec\nCould not load a dependent class (com/starbase/starteam/Item) for type stlist\nCould not load a dependent class (org/apache/commons/net/SocketClient) for type\ntelnet\nCould not load a dependent class (org/apache/commons/net/ftp/FTP) for type ftp\nCould not load a dependent class (jdepend/xmlui/JDepend) for type jdepend\nCould not load a dependent class (com/starbase/starteam/Item) for type stcheckin\n\nCould not load a dependent class (com/starbase/starteam/Item) for type stcheckou\nt\nfileset: Setup scanner in dir C:\\test\\reports\\junit\\default with patternSet{ inc\nludes: [TEST-*.xml] excludes: [] }\n[junitreport] Parsing file: 'C:\\test\\reports\\junit\\default\\TEST-org.keel.service\ns.authorization.defaultauth.tests.DefaultAuthTests.xml'\n[junitreport] Parsing file: 'C:\\test\\reports\\junit\\default\\TEST-org.keel.service\ns.crypto.base64.CryptoBase64Tests.xml'\n[junitreport] Parsing file: 'C:\\test\\reports\\junit\\default\\TEST-org.keel.service\ns.crypto.des.CryptoDESTests.xml'\n[junitreport] Parsing file: 'C:\\test\\reports\\junit\\default\\TEST-org.keel.service\ns.event.defaultevent.EventDefaultTests.xml'\n[junitreport] Parsing file: 'C:\\test\\reports\\junit\\default\\TEST-org.keel.service\ns.password.jpassgen.PasswordJpassgenTests.xml'\n[junitreport] Parsing file: 'C:\\test\\reports\\junit\\default\\TEST-org.keel.service\ns.persist.defaultpersist.PersistDefaultAdvancedTests.xml'\n[junitreport] Parsing file: 'C:\\test\\reports\\junit\\default\\TEST-org.keel.service\ns.persist.defaultpersist.PersistDefaultBasicTests.xml'\n[junitreport] Using Xalan version: Xalan Java 2.4.1\n\nBUILD FAILED\nC:\\test\\build.xml:9: Errors while applying transformations: java.lang.StackOverf\nlowError\n        at org.apache.tools.ant.taskdefs.optional.junit.AggregateTransformer.tra\nnsform(AggregateTransformer.java:186)\n        at org.apache.tools.ant.taskdefs.optional.junit.XMLResultAggregator.exec\nute(XMLResultAggregator.java:173)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:306)\n        at org.apache.tools.ant.Task.perform(Task.java:401)\n        at org.apache.tools.ant.Target.execute(Target.java:338)\n        at org.apache.tools.ant.Target.performTasks(Target.java:365)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1237)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1094)\n        at org.apache.tools.ant.Main.runBuild(Main.java:669)\n        at org.apache.tools.ant.Main.startAnt(Main.java:220)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:215)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:90)\nCaused by: javax.xml.transform.TransformerException: java.lang.StackOverflowErro\nr\n        at org.apache.xalan.extensions.ExtensionHandlerJavaClass.processElement(\nExtensionHandlerJavaClass.java:441)\n        at org.apache.xalan.templates.ElemExtensionCall.execute(ElemExtensionCal\nl.java:283)\n        at org.apache.xalan.templates.ElemForEach.transformSelectedNodes(ElemFor\nEach.java:441)\n        at org.apache.xalan.templates.ElemForEach.execute(ElemForEach.java:300)\n        at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(Tr\nansformerImpl.java:2339)\n        at org.apache.xalan.templates.ElemTemplate.execute(ElemTemplate.java:435\n)\n        at org.apache.xalan.templates.ElemCallTemplate.execute(ElemCallTemplate.\njava:273)\n        at org.apache.xalan.templates.ElemForEach.transformSelectedNodes(ElemFor\nEach.java:441)\n        at org.apache.xalan.templates.ElemForEach.execute(ElemForEach.java:300)\n        at org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes(\nElemApplyTemplates.java:425)\n        at org.apache.xalan.templates.ElemApplyTemplates.execute(ElemApplyTempla\ntes.java:216)\n        at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(Tr\nansformerImpl.java:2339)\n        at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(Tran\nsformerImpl.java:2160)\n        at org.apache.xalan.transformer.TransformerImpl.transformNode(Transforme\nrImpl.java:1213)\n        at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImp\nl.java:668)\n        at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImp\nl.java:1129)\n        at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImp\nl.java:1107)\n        at org.apache.tools.ant.taskdefs.optional.junit.Xalan2Executor.execute(X\nalan2Executor.java:82)\n        at org.apache.tools.ant.taskdefs.optional.junit.AggregateTransformer.tra\nnsform(AggregateTransformer.java:184)\n        ... 11 more\nCaused by: java.lang.StackOverflowError\n--- Nested Exception ---\n; SystemID: file:///C:/test/junit-frames.xsl; Line#: 135; Column#: 74\njavax.xml.transform.TransformerException: java.lang.StackOverflowError\n        at org.apache.xalan.extensions.ExtensionHandlerJavaClass.processElement(\nExtensionHandlerJavaClass.java:441)\n        at org.apache.xalan.templates.ElemExtensionCall.execute(ElemExtensionCal\nl.java:283)\n        at org.apache.xalan.templates.ElemForEach.transformSelectedNodes(ElemFor\nEach.java:441)\n        at org.apache.xalan.templates.ElemForEach.execute(ElemForEach.java:300)\n        at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(Tr\nansformerImpl.java:2339)\n        at org.apache.xalan.templates.ElemTemplate.execute(ElemTemplate.java:435\n)\n        at org.apache.xalan.templates.ElemCallTemplate.execute(ElemCallTemplate.\njava:273)\n        at org.apache.xalan.templates.ElemForEach.transformSelectedNodes(ElemFor\nEach.java:441)\n        at org.apache.xalan.templates.ElemForEach.execute(ElemForEach.java:300)\n        at org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes(\nElemApplyTemplates.java:425)\n        at org.apache.xalan.templates.ElemApplyTemplates.execute(ElemApplyTempla\ntes.java:216)\n        at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(Tr\nansformerImpl.java:2339)\n        at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(Tran\nsformerImpl.java:2160)\n        at org.apache.xalan.transformer.TransformerImpl.transformNode(Transforme\nrImpl.java:1213)\n        at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImp\nl.java:668)\n        at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImp\nl.java:1129)\n        at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImp\nl.java:1107)\n        at org.apache.tools.ant.taskdefs.optional.junit.Xalan2Executor.execute(X\nalan2Executor.java:82)\n        at org.apache.tools.ant.taskdefs.optional.junit.AggregateTransformer.tra\nnsform(AggregateTransformer.java:184)\n        at org.apache.tools.ant.taskdefs.optional.junit.XMLResultAggregator.exec\nute(XMLResultAggregator.java:173)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:306)\n        at org.apache.tools.ant.Task.perform(Task.java:401)\n        at org.apache.tools.ant.Target.execute(Target.java:338)\n        at org.apache.tools.ant.Target.performTasks(Target.java:365)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1237)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1094)\n        at org.apache.tools.ant.Main.runBuild(Main.java:669)\n        at org.apache.tools.ant.Main.startAnt(Main.java:220)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:215)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:90)\nCaused by: java.lang.StackOverflowError\n---------\njava.lang.StackOverflowError\n\nTotal time: 2 seconds"}, {"count": 1, "tags": [], "bug_id": 26230, "attachment_id": 9999, "id": 50697, "time": "2004-01-18T16:00:05Z", "creator": "shash@badfw.org", "creation_time": "2004-01-18T16:00:05Z", "is_private": false, "text": "Created attachment 9999\nTo reproduce problem: unzip, cd test, run \"ant\""}, {"count": 2, "tags": [], "bug_id": 26230, "attachment_id": null, "id": 50698, "time": "2004-01-18T16:12:23Z", "creator": "shash@badfw.org", "creation_time": "2004-01-18T16:12:23Z", "is_private": false, "text": "Forgot to add:\n\nJUnit is 3.8.1, with junit.jar in $ANT_HOME/lib.\n\nCLASSPATH env. variable is empty."}, {"count": 3, "tags": [], "bug_id": 26230, "is_private": false, "id": 50750, "attachment_id": null, "creator": "peter.reilly@corvil.com", "creation_time": "2004-01-19T17:19:26Z", "time": "2004-01-19T17:19:26Z", "text": "I tried the included build file (thanks for this) and transforms on linux\nwith ant 1.6.0 and jdk 1.4.2_03. It works find in this env.\n\nant -f build.xml\nBuildfile: build.xml\n\njunittestreport:\n     [echo] Generating the Unit Test Report\n   [delete] Deleting directory /home/preilly/tmp/x/test/reports/junit/default/html\n[junitreport] Using Xalan version: Xalan Java 2.4.1\n[junitreport] Transform time: 2303ms\n     [echo] All unit tests succeeded. Detailed reports in\n./reports/junit/default/html\n"}, {"count": 4, "tags": [], "text": "I encountered this problem on my Windows box.  The problem is where the\nJUnitReport xsl file attempts to escape, for JavaScript, backslashes.  It\nhappens primarily on machines with big paths or deep hierarchies and with '\\' as\nthe separator character.  The xsl tries to escape all the '\\' using a recursive\nmethod.\n\nI made a fix that checks the number of characters to escape.  If it was beyond a\nreasonable limit (I said 20), then it would do a \"hack\" and replace the escaped\ncharacters with some other single character using the XSL \"transform\" method.", "is_private": false, "bug_id": 26230, "id": 50753, "time": "2004-01-19T18:07:19Z", "creator": "groboclown@users.sourceforge.net", "creation_time": "2004-01-19T18:07:19Z", "attachment_id": null}, {"count": 5, "tags": [], "text": "This looks like a duplicate of bug 19301.", "attachment_id": null, "bug_id": 26230, "id": 50755, "time": "2004-01-19T18:20:07Z", "creator": "groboclown@users.sourceforge.net", "creation_time": "2004-01-19T18:20:07Z", "is_private": false}, {"count": 6, "tags": [], "text": "I think that you are right - it is a duplicate of 19301\n\n*** This bug has been marked as a duplicate of 19301 ***", "is_private": false, "bug_id": 26230, "id": 50965, "time": "2004-01-22T10:55:35Z", "creator": "peter.reilly@corvil.com", "creation_time": "2004-01-22T10:55:35Z", "attachment_id": null}]