[{"count": 0, "tags": [], "bug_id": 58375, "attachment_id": null, "is_private": false, "id": 185132, "time": "2015-09-12T01:36:02Z", "creator": "yilong.li@runtimeverification.com", "creation_time": "2015-09-12T01:36:02Z", "text": "Reported by RV-Predict (a dynamic race detector) when running the test suite:\nData race on field org.apache.coyote.Response.status: {{{\n    Concurrent read in thread T216 (locks held: {Monitor@540b932c})\n ---->  at org.apache.coyote.Response.getStatus(Response.java:190)\n        at org.apache.coyote.RequestInfo.updateCounters(RequestInfo.java:158)\n        at org.apache.coyote.Request.updateCounters(Request.java:566)\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1153)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)\n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:277)\n        - locked Monitor@540b932c at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:259) \n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    T216 is created by T214\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T217 (locks held: {})\n ---->  at org.apache.coyote.Response.setStatus(Response.java:198)\n        at org.apache.catalina.connector.Response.sendError(Response.java:1248)\n        at org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:468)\n        at org.apache.catalina.core.TestAsyncContextImpl$AsyncErrorServlet$1.run(TestAsyncContextImpl.java:1381)\n        at org.apache.catalina.core.AsyncContextImpl$RunnableWrapper.run(AsyncContextImpl.java:562)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    T217 is created by T216\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n}}}"}, {"count": 1, "tags": [], "bug_id": 58375, "attachment_id": null, "is_private": false, "id": 185135, "time": "2015-09-12T07:40:47Z", "creator": "yilong.li@runtimeverification.com", "creation_time": "2015-09-12T07:40:47Z", "text": "One more report on Response.commited:\nData race on field org.apache.coyote.Response.commited: {{{\n    Concurrent read in thread T38 (locks held: {Monitor@c32a9c3})\n ---->  at org.apache.coyote.Response.isCommitted(Response.java:219)\n        at org.apache.catalina.connector.Response.isCommitted(Response.java:612)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)\n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:277)\n        - locked Monitor@c32a9c3 at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:259) \n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    T38 is created by T36\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T39 (locks held: {})\n ---->  at org.apache.coyote.Response.setCommitted(Response.java:227)\n        at org.apache.coyote.http11.InternalOutputBuffer.commit(InternalOutputBuffer.java:149)\n        at org.apache.coyote.http11.AbstractHttp11Processor.action(AbstractHttp11Processor.java:741)\n        at org.apache.coyote.Response.action(Response.java:179)\n        at org.apache.coyote.http11.AbstractOutputBuffer.doWrite(AbstractOutputBuffer.java:249)\n        at org.apache.coyote.Response.doWrite(Response.java:503)\n        at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:388)\n        at org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:315)\n        at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:418)\n        at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:406)\n        at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:97)\n        at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:90)\n        at org.apache.catalina.connector.TestCoyoteAdapter$AsyncServlet$1.run(TestCoyoteAdapter.java:387)\n    T39 is created by T38\n        at org.apache.catalina.connector.TestCoyoteAdapter$AsyncServlet.doGet(TestCoyoteAdapter.java:409)\n}}}"}, {"count": 2, "tags": [], "bug_id": 58375, "attachment_id": null, "is_private": false, "id": 185236, "time": "2015-09-14T19:46:46Z", "creator": "markt@apache.org", "creation_time": "2015-09-14T19:46:46Z", "text": "The first one should have been fixed as part of the fix for bug 58371."}, {"count": 3, "tags": [], "text": "Second issue fixed in trunk and 8.0.x for 8.0.27 onwards.", "attachment_id": null, "bug_id": 58375, "id": 185237, "time": "2015-09-14T19:57:24Z", "creator": "markt@apache.org", "creation_time": "2015-09-14T19:57:24Z", "is_private": false}]