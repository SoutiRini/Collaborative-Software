[{"count": 0, "tags": [], "text": "My machine is:\n# uname -a\nHP-UX a500 B.11.00 U 9000/800 1517720548 unlimited-user license\n\nI'm using gcc:\n# /usr/sbin/swlist | grep gcc\n  gcc64                         3.0.2.2001-11-14 GCC (The Gnu Compiler \nCollection)\n\nI've successfully compiled Apache 1.3.23 (also 1.3.24 but I've had to downgrade\nfor proxy-related problem)\n\nWith httpd-2.0.35, running configure I've:\n[...]\nChecking for Shared Memory Support...\n\nchecking for sys/mman.h... yes\nchecking for MAP_ANON in sys/mman.h... no\nchecking for mmap... no\nchecking for munmap... no\nchecking for shm_open... no\nchecking for shm_unlink... no\nchecking for /dev/zero... no\nchecking for sys/ipc.h... yes\nchecking for sys/shm.h... yes\nchecking for sys/file.h... yes\nchecking for shmget... no\nchecking for shmat... no\nchecking for shmdt... no\nchecking for shmctl... no\nchecking for kernel/OS.h... no\nchecking for create_area... no\nchecking for os2.h... no\n/home/updates/httpd-2.0.35/srclib/apr/configure:Error: decision on anonymous \nshared memory allocation method failed\nconfigure failed for srclib/apr\n#\n\nI guess that I'm missing something in the configure options (I've\ntried with \"./configure\" and  \"./configure --enable-so\": the results are\nthe same), but it is possible that there is some problems cheching \nfor shmget, shmat, and shmctl:\n# grep shmget /usr/include/sys/shm.h\n     extern int shmget(key_t, int, int);\n     extern int shmget(key_t, size_t, int);\n     extern int shmget();\n# grep shmat /usr/include/sys/shm.h\n   /* The return value on failure of the shmat(2) system call */\n     typedef unsigned short int shmatt_t;\n       shmatt_t         shm_nattch;     /* current # attached (accurate) */\n       shmatt_t         shm_cnattch;    /* in memory # attached (inaccurate) */\n       time_t           shm_atime;      /* last shmat time */\n     extern void *shmat(int, const void *, int);\n     extern char *shmat();\n     extern void *shmat();\n        time_t             shm_atime;   /* last shmat time */\n#\n# grep shmctl /usr/include/sys/shm.h\n     extern int shmctl(int, int, struct shmid_ds *);\n     extern int shmctl();\n#\n\nAFAIK, shmget, shmctl and shmat should be find by configure.", "attachment_id": null, "bug_id": 7945, "id": 13220, "time": "2002-04-11T07:17:25Z", "creator": "luca.fasolo@ecommerce.it", "creation_time": "2002-04-11T07:17:25Z", "is_private": false}, {"count": 1, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "is_private": false, "id": 13266, "time": "2002-04-11T17:26:03Z", "bug_id": 7945, "creation_time": "2002-04-11T17:26:03Z", "text": "Can you attach srclib/apr/config.log to this PR?  That should give some hints\nabout why the available shared memory mechanisms were not recognized.\n\nThanks!\n"}, {"count": 2, "tags": [], "creator": "luca.fasolo@ecommerce.it", "attachment_id": 1533, "is_private": false, "id": 13325, "time": "2002-04-12T06:59:38Z", "bug_id": 7945, "creation_time": "2002-04-12T06:59:38Z", "text": "Created attachment 1533\nsrclib/apr/config.log"}, {"count": 3, "tags": [], "bug_id": 7945, "is_private": false, "text": "It appears that your system has some setup problem.  Look at a section \nof config.log where it is trying to create an executable file:\n\n\nconfigure:8368: checking for mmap\nconfigure:8396: gcc -o conftest -g -O2 -DHPUX11 -D_REENTRANT -\nD_XOPEN_SOURCE_EXTENDED  conftest.c  1>&5\nld: I/O error, file \"/opt/langtools/lib/pa20_64/end.o\": No such file or \ndirectory\nFatal error.\ncollect2: ld returned 1 exit status\n\nI don't know where /opt/langtools/lib/pa20_64/end.o comes from, but you \nneed to install it on your system in order to build.\n\nIt looks  like every attempt by configure to link a program is failing, while \nattempts to simply compile (i.e., produce a .o) are working.\n\nGood luck with fixing your setup.  You can verify it by trying to compile a \nsimple program in the same way that configure tried:\n\ngcc -o simplepgm -g -O2 -DHPUX11 -D_REENTRANT \\\n-D_XOPEN_SOURCE_EXTENDED  simplepgm.c\n", "id": 13373, "time": "2002-04-12T14:54:06Z", "creator": "trawick@apache.org", "creation_time": "2002-04-12T14:54:06Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "luca.fasolo@ecommerce.it", "attachment_id": null, "is_private": false, "id": 13476, "time": "2002-04-14T09:17:54Z", "bug_id": 7945, "creation_time": "2002-04-14T09:17:54Z", "text": "I'll be out of the office till thursday, so I'll\nhave to wait some days to check this.\nBut: why the old versions of Apache are up and running? I've\ncompiled and installed them from source."}, {"count": 5, "tags": [], "text": "The solution was to install the hp's debugger\nwdb, based on gdb. It is not so clear to me why I need\na debugger in order to compile a production server.\nThanks\n--Luca  ", "attachment_id": null, "bug_id": 7945, "id": 14422, "time": "2002-04-23T11:10:57Z", "creator": "luca.fasolo@ecommerce.it", "creation_time": "2002-04-23T11:10:57Z", "is_private": false}]