[{"count": 0, "tags": [], "bug_id": 55450, "attachment_id": null, "is_private": false, "id": 169574, "time": "2013-08-19T17:13:29Z", "creator": "sebb@apache.org", "creation_time": "2013-08-19T17:13:29Z", "text": "At present, all redirected requests are forced to use GET.\n\nThis is wrong, at the very least HEAD requests should remain as HEAD requests.\n\nThe full rules are at:\nhttp://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3\n\nNote: Many web sites say that 307 should retain the same method.\nHowever, AFAICT that was a proposal only as part of \nhttps://tools.ietf.org/html/draft-ietf-httpbis-p2-semantics-21#page-56\nThis has not been ratified, so JMeter should proceed as per RFC2616 for now."}, {"count": 1, "tags": [], "bug_id": 55450, "attachment_id": null, "is_private": false, "id": 169582, "time": "2013-08-19T21:02:19Z", "creator": "sebb@apache.org", "creation_time": "2013-08-19T21:02:19Z", "text": "JMeter 2.9 changes all methods to GET for the codes 301, 302, 303.\nIt does not treat 307 as a redirect.\n\nAccording to the spec:\n\n301 - should not automatically redirect except GET/HEAD; however some HTTP/1.0 agents do so (as does JMeter)\n\n302 - should not automatically redirect except GET/HEAD; however most agents do so (incl. JMeter)\n\n303 - should redirect POST using GET; JMeter does this. The spec is not clear if HEAD should be redirected as GET or if it should be redirected as HEAD.\n\n307 - should not automatically redirect except GET/HEAD;\n\nIt looks like the fixes needed are as follows:\n\n301,301,303: change code so HEAD is redirected as HEAD.\n\n307: add code to redirect IF method is GET or HEAD only, and keep the method unchanged."}, {"count": 2, "tags": [], "bug_id": 55450, "is_private": false, "text": "Hello sebb,\nhave a look at 54119\n\nRegards\nPhilippe", "id": 169583, "time": "2013-08-19T21:05:21Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2013-08-19T21:05:21Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 55450, "attachment_id": null, "is_private": false, "id": 169585, "time": "2013-08-19T21:07:50Z", "creator": "sebb@apache.org", "creation_time": "2013-08-19T21:07:50Z", "text": "(In reply to Sebb from comment #1)\n> \n> 307: add code to redirect IF method is GET or HEAD only, and keep the method\n> unchanged.\n\nOops, I see that 307 is already handled correctly; should have spotted that."}, {"count": 4, "tags": [], "bug_id": 55450, "attachment_id": null, "is_private": false, "id": 169587, "time": "2013-08-19T21:24:47Z", "creator": "sebb@apache.org", "creation_time": "2013-08-19T21:24:47Z", "text": "URL: http://svn.apache.org/r1515608\nLog:\nHEAD redirects should remain as HEAD\nBugzilla Id: 55450\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSamplerBase.java\n    jmeter/trunk/xdocs/changes.xml"}]