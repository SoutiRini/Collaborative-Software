[{"count": 0, "tags": [], "bug_id": 3479, "text": "If you get a page with a URL like http://my.server/snoop.jsp?a&b&c \nrequest.getParameterNames() returns one parameter called \"a&b&c\" in Tomcat 3.3 \n(b1 and b2).\n\nIn Apache Jserv 1.x a similar method call in a servlet would retrieve 3 \nparameters \"a\", \"b\", and \"c\".\n\nI tested this in Macromedia's JRun 3.0 and you get 3 parameters called \"a\", \"b\" \nand \"c\" in JRun as well.\n\nIMHO JRun exhibits the correct behaviour, while Tomcat treats this incorrectly.\n\nIf the URL is http://my.server/snoop.jsp?a=&b=&c= then you get 3 parameters \ncalled \"a\", \"b\" and \"c\" in both Tomcat and JRun.\n\nI guess this raises the question of whether the syntax of a query string of \"?\na&b&c\" is valid. Unfortunately Domino uses this kind of URL all the time, and \nfor an application that forwards requests to Domino it is kind of unavoidable.\n\nHere is a snoop JSP page that displays how the parameters are being treated:\n\n<%@ page import=\"javax.servlet.http.HttpUtils,java.util.Enumeration\" %>\n<HTML>\n<BODY>\n<h2>Query string:</h2>\n<p><%= request.getQueryString() %></p>\n<%\n    Enumeration e = request.getParameterNames();\n    if(e != null && e.hasMoreElements()) {\n%>\n<H2>Request parameters</H2>\n<TABLE>\n<TR valign=top>\n    <TH align=left>Parameter:</TH>\n    <TH align=left>Value:</TH>\n    <TH align=left>Multiple values:</TH>\n</TR>\n<%\n        while(e.hasMoreElements()) {\n            String k = (String) e.nextElement();\n            String val = request.getParameter(k);\n            String vals[] = request.getParameterValues(k);\n%>\n<TR valign=top>\n    <TD><%= k %></TD>\n    <TD><%= val %></TD>\n    <TD><%\n            for(int i = 0; i < vals.length; i++) {\n                if(i > 0)\n                    out.print(\"<BR>\");\n                out.print(vals[i]);\n            }\n        %></TD>\n</TR>\n<%\n        }\n%>\n</TABLE>\n<%\n    }\n%>\n</BODY>\n</HTML>", "id": 5182, "time": "2001-09-06T17:10:12Z", "creator": "ben_kelley@ubsw.com", "creation_time": "2001-09-06T17:10:12Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "Thanks for the report. I did a fix - please check if it works for you.\n", "is_private": false, "bug_id": 3479, "id": 5259, "time": "2001-09-08T20:14:36Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-09-08T20:14:36Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "*** Bug 3608 has been marked as a duplicate of this bug. ***", "is_private": false, "id": 5533, "creator": "Larry.Isaacs@sas.com", "time": "2001-09-14T05:09:57Z", "bug_id": 3479, "creation_time": "2001-09-14T05:09:57Z", "attachment_id": null}]