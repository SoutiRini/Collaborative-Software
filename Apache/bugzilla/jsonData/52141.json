[{"count": 0, "attachment_id": null, "creator": "sreehari.puchakayala@gmail.com", "text": "Hi,\n\nMy application is getting stuck with threads and going very frequently to overloaded state. When this happens, we have to restart the server to void this issue. Since we dont know when this problem occurs, our support team has to keep monitor the server all the time. \n\nThe environment details are:\n\nWeb Logic - 10.3\nJava - 6.0\nLog4j - log4j-1.2.15\n\nJust to let you know that we use log4j to write the application logs into DB. I am thinking that it might be causing an issue but not sure. Here am sending the thread dump from one of our application server. If you could help what is the an issue, it would be great help.\n\nThanks for your help in advance\n\nThanks\nSree Hari", "id": 151225, "time": "2011-11-05T18:20:11Z", "bug_id": 52141, "creation_time": "2011-11-05T18:20:11Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "text": "Also, we have seen same overloaded state issue on nov 3rd. Here is the thread dump taken when issue occured.\n\n            \"[STUCK] ExecuteThread: '10' for queue: 'weblogic.kernel.Default (self-tuning)'\" RUNNABLE native\n          \n            \tjrockit.net.SocketNativeIO.readBytesPinned(Native Method)\n          \n            \tjrockit.net.SocketNativeIO.socketRead(SocketNativeIO.java:32)\n          \n            \tjava.net.SocketInputStream.socketRead0(SocketInputStream.java)\n          \n            \tjava.net.SocketInputStream.read(SocketInputStream.java:129)\n          \n            \tcom.sun.net.ssl.internal.ssl.InputRecord.readFully(InputRecord.java:293)\n          \n            \tcom.sun.net.ssl.internal.ssl.InputRecord.read(InputRecord.java:331)\n          \n            \tcom.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:789)\n          \n            \tcom.sun.net.ssl.internal.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:746)\n          \n            \tcom.sun.net.ssl.internal.ssl.AppInputStream.read(AppInputStream.java:75)\n          \n            \tjava.io.BufferedInputStream.fill(BufferedInputStream.java:218)\n          \n            \tjava.io.BufferedInputStream.read(BufferedInputStream.java:237)\n          \n            \torg.apache.commons.httpclient.HttpParser.readRawLine(HttpParser.java:78)\n          \n            \torg.apache.commons.httpclient.HttpParser.readLine(HttpParser.java:106)\n          \n            \torg.apache.commons.httpclient.HttpConnection.readLine(HttpConnection.java:1116)\n          \n            \torg.apache.commons.httpclient.HttpMethodBase.readStatusLine(HttpMethodBase.java:1973)\n          \n            \torg.apache.commons.httpclient.HttpMethodBase.readResponse(HttpMethodBase.java:1735)\n          \n            \torg.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1098)\n          \n            \torg.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\n          \n            \torg.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\n          \n            \torg.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\n          \n            \torg.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.http.HttpSender.sendRequestAndFetchResponse(HttpSender.java:67)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.http.HttpAdapter.processRequest(HttpAdapter.java:164)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.ProxyHelper.getResponse(ProxyHelper.java:324)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.multirequest.PostRequest.execute(PostRequest.java:237)\n          \n            \tcom.bestbuy.bbym.beast.cap.util.MultiRequestUtil.executeNextCommand(MultiRequestUtil.java:185)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.multirequest.MultiRequestProxy.invoke(MultiRequestProxy.java:87)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.RequestProcessor.process(RequestProcessor.java:68)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.controller.Controller.handleRequest(Controller.java:737)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.controller.SyncServiceHandlingController.handleSyncRequest(SyncServiceHandlingController.java:28)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.router.RequestRouter.routeRequest(RequestRouter.java:71)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.controller.CAPWsController.processRequest(CAPWsController.java:68)\n          \n            \tsun.reflect.GeneratedMethodAccessor364.invoke(Unknown Source)\n          \n            \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n          \n            \tjava.lang.reflect.Method.invoke(Method.java:597)\n          \n            \torg.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397)\n          \n            \torg.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186)\n          \n            \torg.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323)\n          \n            \torg.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\n          \n            \torg.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\n          \n            \torg.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\n          \n            \torg.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:454)\n          \n            \torg.apache.axis.server.AxisServer.invoke(AxisServer.java:281)\n          \n            \torg.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699)\n          \n            \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n          \n            \torg.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)\n          \n            \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n          \n            \tweblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\n          \n            \tweblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\n          \n            \tweblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:292)\n          \n            \tweblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:175)\n          \n            \tweblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3495)\n          \n            \tweblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n          \n            \tweblogic.security.service.SecurityManager.runAs(Unknown Source)\n          \n            \tweblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2180)\n          \n            \tweblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2086)\n          \n            \tweblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1406)\n          \n            \tweblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\n          \n            \tweblogic.work.ExecuteThread.run(ExecuteThread.java:173)\n          \n            \"[ACTIVE] ExecuteThread: '31' for queue: 'weblogic.kernel.Default (self-tuning)'\" waiting for lock weblogic.work.ExecuteThread@16ae0c72 WAITING\n          \n            \tjava.lang.Object.wait(Object.java:485)\n          \n            \tweblogic.work.ExecuteThread.waitForRequest(ExecuteThread.java:157)\n          \n            \tweblogic.work.ExecuteThread.run(ExecuteThread.java:178)\n          \n            \"[STANDBY] ExecuteThread: '91' for queue: 'weblogic.kernel.Default (self-tuning)'\" waiting for lock weblogic.work.ExecuteThread@1653e8a3 WAITING\n          \n            \tjava.lang.Object.wait(Object.java:485)\n          \n            \tweblogic.work.ExecuteThread.waitForRequest(ExecuteThread.java:157)\n          \n            \tweblogic.work.ExecuteThread.run(ExecuteThread.java:178)\n          \n            \"Thread-78\" RUNNABLE native\n          \n            \tjrockit.net.SocketNativeIO.readBytesPinned(Native Method)\n          \n            \tjrockit.net.SocketNativeIO.socketRead(SocketNativeIO.java:32)\n          \n            \tjava.net.SocketInputStream.socketRead0(SocketInputStream.java)\n          \n            \tjava.net.SocketInputStream.read(SocketInputStream.java:129)\n          \n            \tcom.sun.net.ssl.internal.ssl.InputRecord.readFully(InputRecord.java:293)\n          \n            \tcom.sun.net.ssl.internal.ssl.InputRecord.read(InputRecord.java:331)\n          \n            \tcom.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:789)\n          \n            \tcom.sun.net.ssl.internal.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:746)\n          \n            \tcom.sun.net.ssl.internal.ssl.AppInputStream.read(AppInputStream.java:75)\n          \n            \tjava.io.BufferedInputStream.fill(BufferedInputStream.java:218)\n          \n            \tjava.io.BufferedInputStream.read(BufferedInputStream.java:237)\n          \n            \torg.apache.commons.httpclient.HttpParser.readRawLine(HttpParser.java:78)\n          \n            \torg.apache.commons.httpclient.HttpParser.readLine(HttpParser.java:106)\n          \n            \torg.apache.commons.httpclient.HttpConnection.readLine(HttpConnection.java:1116)\n          \n            \torg.apache.commons.httpclient.HttpMethodBase.readStatusLine(HttpMethodBase.java:1973)\n          \n            \torg.apache.commons.httpclient.HttpMethodBase.readResponse(HttpMethodBase.java:1735)\n          \n            \torg.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1098)\n          \n            \torg.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\n          \n            \torg.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\n          \n            \torg.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\n          \n            \torg.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.http.HttpSender.sendRequestAndFetchResponse(HttpSender.java:67)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.http.HttpAdapter.processRequest(HttpAdapter.java:164)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.ProxyHelper.getResponse(ProxyHelper.java:324)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.ProxyHelper$1.call(ProxyHelper.java:151)\n          \n            \tcom.bestbuy.bbym.beast.cap.core.ProxyHelper$1.call(ProxyHelper.java:1)\n          \n            \tjava.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n          \n            \tjava.util.concurrent.FutureTask.run(FutureTask.java:138)\n          \n            \tjava.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n          \n            \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n          \n            \tjava.lang.Thread.run(Thread.java:619)\n          \n            \"LDAPConnThread-19 ldaps://directory.bestbuy.com:636\" RUNNABLE native\n          \n            \tjrockit.net.SocketNativeIO.readBytesPinned(Native Method)\n          \n            \tjrockit.net.SocketNativeIO.socketRead(SocketNativeIO.java:32)\n          \n            \tjava.net.SocketInputStream.socketRead0(SocketInputStream.java)\n          \n            \tjava.net.SocketInputStream.read(SocketInputStream.java:129)\n          \n            \tweblogic.utils.io.ChunkedInputStream.read(ChunkedInputStream.java:159)\n          \n            \tjava.io.InputStream.read(InputStream.java:85)\n          \n            \tcom.certicom.tls.record.ReadHandler.readFragment(Unknown Source)\n          \n            \tcom.certicom.tls.record.ReadHandler.readRecord(Unknown Source)\n          \n            \tcom.certicom.tls.record.ReadHandler.read(Unknown Source)\n          \n            \tcom.certicom.io.InputSSLIOStreamWrapper.read(Unknown Source)\n          \n            \tjava.io.BufferedInputStream.fill(BufferedInputStream.java:218)\n          \n            \tjava.io.BufferedInputStream.read(BufferedInputStream.java:237)\n          \n            \tnetscape.ldap.ber.stream.BERElement.getElement(BERElement.java:101)\n          \n            \tnetscape.ldap.LDAPConnThread.run(LDAPConnThread.java:538)\n          \n            \tjava.lang.Thread.run(Thread.java:619)\n          \n            \"LDAPConnThread-20 ldaps://directory.bestbuy.com:636\" RUNNABLE native\n          \n            \tjrockit.net.SocketNativeIO.readBytesPinned(Native Method)\n          \n            \tjrockit.net.SocketNativeIO.socketRead(SocketNativeIO.java:32)\n          \n            \tjava.net.SocketInputStream.socketRead0(SocketInputStream.java)\n          \n            \tjava.net.SocketInputStream.read(SocketInputStream.java:129)\n          \n            \tweblogic.utils.io.ChunkedInputStream.read(ChunkedInputStream.java:159)\n          \n            \tjava.io.InputStream.read(InputStream.java:85)\n          \n            \tcom.certicom.tls.record.ReadHandler.readFragment(Unknown Source)\n          \n            \tcom.certicom.tls.record.ReadHandler.readRecord(Unknown Source)\n          \n            \tcom.certicom.tls.record.ReadHandler.read(Unknown Source)\n          \n            \tcom.certicom.io.InputSSLIOStreamWrapper.read(Unknown Source)\n          \n            \tjava.io.BufferedInputStream.fill(BufferedInputStream.java:218)\n          \n            \tjava.io.BufferedInputStream.read(BufferedInputStream.java:237)\n          \n            \tnetscape.ldap.ber.stream.BERElement.getElement(BERElement.java:101)\n          \n            \tnetscape.ldap.LDAPConnThread.run(LDAPConnThread.java:538)\n          \n            \tjava.lang.Thread.run(Thread.java:619)\n          \n            \"[STANDBY] ExecuteThread: '66' for queue: 'weblogic.kernel.Default (self-tuning)'\" waiting for lock weblogic.work.ExecuteThread@1121a634 WAITING\n          \n            \tjava.lang.Object.wait(Object.java:485)\n          \n            \tweblogic.work.ExecuteThread.waitForRequest(ExecuteThread.java:157)\n          \n            \tweblogic.work.ExecuteThread.run(ExecuteThread.java:178)", "attachment_id": null, "id": 151226, "creation_time": "2011-11-05T18:24:41Z", "time": "2011-11-05T18:24:41Z", "creator": "sreehari.puchakayala@gmail.com", "bug_id": 52141, "is_private": false}]