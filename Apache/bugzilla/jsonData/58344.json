[{"count": 0, "tags": [], "bug_id": 58344, "text": "Created attachment 33080\nprototype patch file.\n\nIt would be nice to allow redirect Tomcat test suite to test Tomcat from different location than tomcat.build directory. This could be used for 'system-test'. E.g. to find out whether some other change didn't break Tomcat.\n\nThis is not just to redefine tomcat.build to some different location. Because on Unix systems Tomcat can be packaged in both location /usr and /var. Where /usr location should remain read only.\n\nTherefore I have added test.basedir which points to location where are conf/ (for logging.properties) and webapps/ directories. Plus tomcat.testrunclasses which can be redirected to Tomcat jar files.\n\nSee attached patch file for some ideas. Where following arguments are used for Tomcat installed on Solaris:\n\nant -Dbase.path=/builds/psumbera/userland-tomcat8-tests/components/tomcat-8/build/i386 -Dtomcat.build=/builds/psumbera/userland-tomcat8-tests/components/tomcat-8/build/prototype/i386 -Djunit.home=/usr/share/lib/java -Dtest.reports=/builds/psumbera/userland-tomcat8-tests/components/tomcat-8/build/i386/log -Dtest.temp=/builds/psumbera/userland-tomcat8-tests/components/tomcat-8/build/i386/temp -Dtest.basedir=/var/tomcat8 -Dtomcat.testrunclasses=/usr/tomcat8/lib/*:/usr/tomcat8/bin/* test", "id": 185030, "time": "2015-09-08T07:59:23Z", "creator": "petr.sumbera@oracle.com", "creation_time": "2015-09-08T07:59:23Z", "is_private": false, "attachment_id": 33080}, {"count": 1, "tags": [], "bug_id": 58344, "attachment_id": null, "text": "Thanks for the report and the proposed patch.\n\nI have applied the patch to trunk and 8.0.x for 80.27 onwards.", "id": 185077, "time": "2015-09-10T14:47:12Z", "creator": "markt@apache.org", "creation_time": "2015-09-10T14:47:12Z", "is_private": false}]