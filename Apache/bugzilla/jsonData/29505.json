[{"count": 0, "tags": [], "text": "When I use the error page mechanism in JSP,  the server returns an HTTP 500 \nerror.\n\nThis makes IE display an error page instead of my error page.\n\nCAUTION:  IE behavior is very strange on this error.\nIndeed, it displays its internal error page if the response has no more than \n512 bytes,  and it displays my error page otherwise.\n\nHere is the network trace returned when I use the error page mechanism.\nAs you can see, the response is my error page (so the expected one), but HTTP \ncode is 500.\n\n=========================================================================\nHTTP/1.1 500 Internal Server Error\nContent-Type: text/html\nContent-Length: 102\nDate: Thu, 10 Jun 2004 16:17:20 GMT\nServer: Apache-Coyote/1.1\nConnection: close\n\n<html>\n<body bgcolor=\"red\">\n.\n.<h1> Exception: java.lang.NullPointerException. \n</body>\n</html>\n=============================================================\n\n\nWith Tomcat Version 4.1, the status was 200\nAs shown by the trace below:\n\n=============================================================\nHTTP/1.1 200 OK\nContent-Type: text/html;charset=ISO-8859-1\nContent-Length: 102\nDate: Thu, 10 Jun 2004 16:15:09 GMT\nServer: Apache-Coyote/1.1\n\n<html>\n<body bgcolor=\"red\">\n.\n.<h1> Exception: java.lang.NullPointerException. \n</body>\n</html>\n===================================================\n\n\nCode to reproduce is:\n\n===================================================\n--------------- testErr.jsp -------------\n<html>\n<head>\n<meta http-equiv=\"pragma\" content=\"no-cache\"> \n<meta http-equiv=\"Expires\" content=\"Tue, 20 Aug 1996 14:25:27 GMT\">\n</head>\n\n<body bgcolor=\"lightblue\">\n\n\t<%@ page errorPage=\"testErrPage.jsp\" %>\n\t<% \n\t\tString name = null;\n \n \t\t// Force an exception because name is null.\n\t\tname.equalsIgnoreCase(\"acura\");\n\t%>\n\n\t<H1> Yes fred!!! </H1>\n</body>\n</html>\n\n\n--------------- testErrPage.jsp -------------\n\n<html>\n<body bgcolor=\"red\">\n\t<%@ page isErrorPage=\"true\" %>\n\t<h1> Exception: <%= exception.toString() %>. \n</body>\n</html>\n===================================================", "is_private": false, "id": 59035, "creator": "fchristol@fvc.com", "time": "2004-06-10T16:20:12Z", "bug_id": 29505, "creation_time": "2004-06-10T16:20:12Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 29505, "is_private": false, "text": "We changed the error code from 200 to 500 when a JSP error page is\ninvoked, in order to be consistent with the error-page mechanism in\nweb.xml, which has always returned 500. People had complained about\nthe different error codes.\n\nThere is an action item on the next version of the JSP spec to clarify\nthat using the JSP error page mechanism will result in a 500 error\ncode.\n", "id": 59039, "time": "2004-06-10T18:03:35Z", "creator": "jan.luehe@sun.com", "creation_time": "2004-06-10T18:03:35Z", "attachment_id": null}]