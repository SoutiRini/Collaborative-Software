[{"count": 0, "tags": [], "bug_id": 13692, "attachment_id": null, "text": "I am a multi-charset user.\nI used Resin to be my JSP-container befor.\nAfter I try to use Tomcat to instead of Resin, it's bother with me that Tomcat \ncan not transfer the charset to the type that I assigned.\nSo I try to figure out what happened.\nIn Tomcat 4.1.12, I try to modify this file \norg.apache.jasper.compiler.Generator.java.\nIn line 460-470 , I try to print the request.getCharacterEncoding().\n\nLike these code,\n\nout.printin(\"response.setContentType(\");\nout.print  (quote(pageInfo.getContentType()));\nout.println(\");\");\n\n// modify by Simon Chung 10/16/2002\n// myc@ms6.url.com.tw\n// fix request.getCharacterEncoding() is equal to 'null'.\n// request.setCharacterEncoding(response.getCharacterEncoding());\nout.printil(\"System.out.println(request.getCharacterEncoding());\");\nout.printil(\"request.setCharacterEncoding(response.getCharacterEncoding());\");\nout.printil(\"System.out.println(request.getCharacterEncoding());\");\n// end of modify\n\nout.printil(\"pageContext = _jspxFactory.getPageContext(this, request, \nresponse,\");\n\nAnd find that the first System.out is null.\nAnd the second System.out is the type that I assigned.\n\nOK. Got it!\n\nThe 'request' and 'response' charset-encoding are not same.\n\nSo I try to fix my jasper-compiler.jar.\nAnd it works very good.\n\nThen I reponse this bug to you now.\n\nPlease give me a notice what you want to do.", "id": 24623, "time": "2002-10-16T13:37:57Z", "creator": "myc@ms6.url.com.tw", "creation_time": "2002-10-16T13:37:57Z", "is_private": false}, {"count": 1, "tags": [], "creator": "kin-man.chung@sun.com", "text": "Your problem seems to be that the character encoding for the request is not\nspecified in your case, so when you set it to the response character encoding,\nit works for you.  It works because they are the same, but it may not work if\nthey are not.  It general you cannot override the request character encoding.\n\nThe fix to your porblem is to make sure that when making a request, the correct\ncharacter encoding is set to that of the request body.", "id": 35628, "time": "2003-04-19T01:56:59Z", "bug_id": 13692, "creation_time": "2003-04-19T01:56:59Z", "is_private": false, "attachment_id": null}]