[{"count": 0, "text": "Created attachment 25763\nA relaxed DTD that allows ${} substitutions within \"name\" attributes\n\nThe log4j XML configuration supports ${...} replacements within attribute values. This works fine.\n\n\nProblem\n\nIn my application, I need to use the ${...} substitution within the \"name\"-attribute of an appender. (This way I can switch the appenders depending on the operation mode of the application.)\n\n<appender name=\"console${sc.fg.log4j.fgMode.gui}\" .../>\n\nUnfortunately, this does not work, if the log4j XML config file is read by\nthe log4j DomConfigurator, because the log4j-DTD is too restrictive. The\nDTD doesn't take variable substitutions (${..}) into account.\n\n\n\nPossible Fix\n\nChange the DTD or provide an alternative relaxed DTD. See the attached log4j-relaxed.dtd for an example.\n\nThe modification changes IDREF values to CDATA and enumerated attribute values to CDATA. This is required, if the attribute value contains variable substitutions (${...}). \n\n\n\nMy current Workaround:\n\nThe log4j DomConfigurator also accepts an DOM-Element and\nthis way, I do the parsing myself using the relaxed DTD and feed the resulting DOM to the DomConfigurator.", "creator": "a.kruis@science-computing.de", "is_private": false, "id": 138440, "time": "2010-07-15T08:48:06Z", "bug_id": 49597, "creation_time": "2010-07-15T08:48:06Z", "tags": [], "attachment_id": 25763}]