[{"count": 0, "tags": [], "bug_id": 50645, "text": "Below Sample BUILD FILE is working fine with Apche ANT 1.7.1 but not Apache ANT 1.8.2.\n\nSample BUILD FILE:\n<project name=\"ReferenceCheck\" default=\"TestRef\" basedir=\"D:\\testView\\myvob\">\t\n\t<property file=\"${basedir}/build/build-common.properties\" />\n\t<property file=\"${basedir}/build/versions.properties\" />\n\t\n<!\u2014\nHere taskdef is defined before path id that currently we have in build. \nThis is working fine with Apache ANT 1.7.1 but if we switch to Apache ANT 1.8.2 this will create a problem\nand we are getting the error for classpathref is not found i.e. catalina-ant.path.\n -->\n\t<taskdef name=\"install\" classname=\"org.apache.catalina.ant.InstallTask\" classpathref=\"catalina-ant.path\" />\n\n\t<path id=\"catalina-ant.path\">\n\t\t<pathelement path=\"${catalina-ant.path}\" />\n\t</path>\t\n\t<target name=\"TestRef\">\n\t\t<echo message=\"Hello!!\"/>\n\t\t<echo message=\"${catalina-ant.path}\"/>\n\t</target>\n</project>\n\nRESULT USING Apache ANT 1.8.2\nD:\\testView\\myvob\\build>D:\\testView\\myvob\\extern\\mix\\java\\ant\\apache-ant-1.8.2\\bin\\ant -f checkReference.xml\nBuildfile: D:\\testView\\myvob\\build\\checkReference.xml\n\nBUILD FAILED\nD:\\testView\\myvob\\build\\checkReference.xml:5: Reference catalina-ant.path not found.\n\nTotal time: 0 seconds\n\nD:\\testView\\myvob\\build>\n\nRESULT USING Apache ANT 1.7.1\n\nD:\\testView\\myvob\\build>D:\\testView\\extern\\mix\\java\\ant\\apache-ant-1.7.1\\bin\\ant -f checkReference.xml\nBuildfile: checkReference.xml\nWarning: Reference catalina-ant.path has not been set at runtime, but was found during\nbuild file parsing, attempting to resolve. Future versions of Ant may support\n referencing ids defined in non-executed targets.\n\nTestRef:\n     [echo] Hello!!\n     [echo] D:\\testView\\myvob/../extern/mix/java/tomcat/tomcat-6.0.20/lib/catalina-ant.jar\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\nD:\\testView\\myvob\\build>", "id": 143609, "time": "2011-01-25T01:33:34Z", "creator": "ashish.soni@siemens.com", "creation_time": "2011-01-25T01:33:34Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 50645, "text": "Your old build file relied on behavior that was plain wrong and already\ncreates warning messages in 1.7.1 (you can see it in your example).\n\nFrom Ant 1.8.0's release notes[1] under \"Changes that could break older\nenvironments\":\n\n * Remove fall-back mechanism for references that are not resolved\n   during normal runtime execution.\n\nStarting with Ant 1.8.0 you cannot use any reference to anything that has\nnot been defined at the time Ant reaches the place where you want to\nuse it.  This is a breaking change and an intentional one.\n\n[1] http://archive.apache.org/dist/ant/RELEASE-NOTES-1.8.0.html", "id": 143610, "time": "2011-01-25T05:37:51Z", "creator": "bodewig@apache.org", "creation_time": "2011-01-25T05:37:51Z", "tags": [], "is_private": false}]