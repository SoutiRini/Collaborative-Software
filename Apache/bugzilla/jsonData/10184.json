[{"count": 0, "tags": [], "creator": "vishy@borland.com", "text": "GTest.CRBufferedInputStream.read() checks if there are enough characters \nbefore returning a value from buf. However, if the value is carriage return, \nthen the next character from the buffer is returned without actually checking \nif there is a next character in the buffer. This leads to stack trace like the \none below. It is kind of hard to reproduce because the error shows up only \nwhen the last character in the buffer is Carriage Return. However if it \nhappens it can be predictably reproduced. I think the fix is simple. Execute \nfill() one more time in case of carriage return. \n\n    [java]  [watchdog] java.lang.ArrayIndexOutOfBoundsException\n     [java]  [watchdog]  FAIL GET /jsp-\ntests/jsp/core_syntax/directives/page/content/negativeDuplicateContentFatalTran\nslationError.jsp HTTP/1.0\n     [java]  [watchdog] \tat \norg.apache.watchdog.task.GTest$CRBufferedInputStream.read(GTest.java:1603)\n     [java]  [watchdog] \tat org.apache.watchdog.task.GTest.readBody\n(GTest.java:1231)\n     [java]  [watchdog] \tat org.apache.watchdog.task.GTest.dispatch\n(GTest.java:1026)\n     [java]  [watchdog] \tat org.apache.watchdog.task.GTest.execute\n(GTest.java:521)\n     [java]  [watchdog] \tat org.apache.tools.ant.Task.perform\n(Task.java:217)\n     [java]  [watchdog] \tat org.apache.tools.ant.Target.execute\n(Target.java:184)\n     [java]  [watchdog] \tat org.apache.tools.ant.Target.performTasks\n(Target.java:202)\n     [java]  [watchdog] \tat org.apache.tools.ant.Project.executeTarget\n(Project.java:601)\n     [java]  [watchdog] \tat org.apache.tools.ant.Project.executeTargets\n(Project.java:560)\n     [java]  [watchdog]  PASSED positiveExtendsTest\n     [java]  [watchdog] \tat org.apache.tools.ant.Main.runBuild\n(Main.java:454)\n     [java]  [watchdog] \tat org.apache.tools.ant.Main.start\n(Main.java:153)\n     [java]  [watchdog]         (GET /jsp-\ntests/jsp/core_syntax/directives/page/extend/positiveExtends.jsp HTTP/1.0)\n     [java]  [watchdog] \tat org.apache.tools.ant.Main.main\n(Main.java:176)", "id": 18481, "time": "2002-06-24T17:13:03Z", "bug_id": 10184, "creation_time": "2002-06-24T17:13:03Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 10184, "attachment_id": null, "text": "Thanks for the reminder.  Had this fixed locally, but forget to push the change\nback.", "id": 18484, "time": "2002-06-24T17:22:35Z", "creator": "Ryan.Lubke@Sun.COM", "creation_time": "2002-06-24T17:22:35Z", "is_private": false}]