[{"count": 0, "tags": [], "bug_id": 61274, "text": "Hi,\nWhen I start a long-running process (such as a database system) with spawn=true I would like to know if the process doesn't crash already on the beginning (for instance the database system didn't start at all due to a blocked port etc).\n\nAnt script can wait for the process in a separate thread and report a failure.\n\nThe class org.apache.tools.ant.taskdefs.Execute could be modified like this:\n\nline 524:\n\nnew Thread(new Runnable() {\n            public void run() {\n                try {\n                    process.waitFor();\n\n                    int returnCode = process.exitValue();\n\n                    if (Execute.isFailure(returnCode)) {\n                        if (failOnError) {\n                            throw new BuildException(process + \" returned: \" + returnCode);\n                        }\n                    }\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }).start();\n\nThank you very much for any oppinion!\n\nTomas Tulka", "id": 199688, "time": "2017-07-10T12:40:30Z", "creator": "tomas.tulka@gmail.com", "creation_time": "2017-07-10T12:40:30Z", "is_private": false, "attachment_id": null}]