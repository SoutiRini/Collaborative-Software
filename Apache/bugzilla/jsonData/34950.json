[{"count": 0, "attachment_id": null, "bug_id": 34950, "text": "Consider the following piece of code:\nString uploadDir = \"/home/mavila/temp\";\nString uploadFile = \"globalSettings.xml\";\nwebdavModule.put(uploadDir,uploadFile,\"files/globalSettings.xml?param1=value1&param2=value2\");\nString mycopyFile = \"files/globalSettingsCOPY.xml\";\nwebdavModule.copy(\"files/globalSettings.xml?param1=value1&param2=value2\",mycopyFile);\n\n\nEverything works fine for the put method, all after the \"?\" is ignored and is\njust stored the file, in this case \"globalSettings.xml\".\n\nNow, we try to use the copy method with the same parameters, in this case the\nserver believes that the file is the complete string with the parameters, as far\nas I can see this is not consistent.\nI have debugged the code, seems that in class\norg.apache.slide.webdav.method.CopyMethod this is is called\n\n..\nmacro.copy(slideToken, sourceUri, destinationUri, macroParameters, this, this,\nnull, this);\n...\n\nI don't know very much the architecture of the server, I have not had time to\nsee a class diagram but before calling the method copy a clean up of the\nsourceUri and destinationUri should be done.", "id": 74991, "time": "2005-05-18T11:03:41Z", "creator": "philosophyofmind@yahoo.com.mx", "creation_time": "2005-05-18T11:03:41Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 34950, "attachment_id": 15071, "text": "Created attachment 15071\nAdded new method\n\nAdded a method to clean a String from query parameters", "id": 75025, "time": "2005-05-18T17:48:08Z", "creator": "philosophyofmind@yahoo.com.mx", "creation_time": "2005-05-18T17:48:08Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 34950, "attachment_id": 15072, "id": 75026, "time": "2005-05-18T17:57:07Z", "creator": "philosophyofmind@yahoo.com.mx", "creation_time": "2005-05-18T17:57:07Z", "is_private": false, "text": "Created attachment 15072\nadded the call to the methods\n\nAdded these statements that use the method implemented in WebdavUtils, this\nworks for me, should be merged in the code and tested.\n\nsourceUri = WebdavUtils.cleanParameterString(sourceUri);\ndestinationUri = WebdavUtils.cleanParameterString(destinationUri);"}, {"count": 3, "tags": [], "creator": "philosophyofmind@yahoo.com.mx", "text": "Also the move method does not clean the sourceUri and destinationUri, in\ncopyMethod.java I have moved the calls to clean the string at the top of the\nexecuteRequest method and also implemented in the moveMethod as well, I will\nattache the two file.", "id": 75059, "time": "2005-05-19T13:31:39Z", "bug_id": 34950, "creation_time": "2005-05-19T13:31:39Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "philosophyofmind@yahoo.com.mx", "text": "Created attachment 15079\ncleans the sourceUri and destinationUri from query parameters\n\nAdded at the top of executeRequest method", "id": 75060, "time": "2005-05-19T13:35:28Z", "bug_id": 34950, "creation_time": "2005-05-19T13:35:28Z", "is_private": false, "attachment_id": 15079}, {"count": 5, "tags": [], "creator": "philosophyofmind@yahoo.com.mx", "text": "Created attachment 15080\ncleans sourceUri and destinationUri from query parameters\n\ncleans sourceUri and destinationUri from query parameters, it is implemented in\nthe top of method executeRequest", "id": 75061, "time": "2005-05-19T13:36:57Z", "bug_id": 34950, "creation_time": "2005-05-19T13:36:57Z", "is_private": false, "attachment_id": 15080}]