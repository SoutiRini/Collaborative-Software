[{"count": 0, "tags": [], "text": "Setting environment variables using mod_rewrite fails for some values.\n\nThis ruleset\n\n        RewriteEngine On\n        RewriteRule . - [E=HTTP_HOST:www.example.com]\n        RewriteRule . - [E=HTTP_X_HOST:www.example.com]\n\nsets the HTTP_X_HOST header, but HTTP_HOST retains the original value sent by\nthe browser.\n\nAccording to the rewrite log, both variables are set, but a CGI script or module\nexecuting after the rewrite rule does not see the changed value.", "is_private": false, "id": 82958, "creator": "KlausRusch@atmedia.net", "time": "2005-11-29T11:53:02Z", "bug_id": 37687, "creation_time": "2005-11-29T11:53:02Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "nd@perlig.de", "is_private": false, "text": "It does not fail -- it's overridden by mod_cgi (which works by the spec).", "id": 82961, "time": "2005-11-29T12:02:15Z", "bug_id": 37687, "creation_time": "2005-11-29T12:02:15Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "\nThe problem is not mod_cgi specific, the same \"non-rewrite\" of the HTTP_HOST\nvariable occurs with mod_ssi and other modules, e.g.\n\n<!--#echo var=\"HTTP_HOST\" -->\n\nIf some variables cannot be changed by mod_rewrite, that restriction should be\ndocumented.", "is_private": false, "id": 82962, "creator": "KlausRusch@atmedia.net", "time": "2005-11-29T12:07:36Z", "bug_id": 37687, "creation_time": "2005-11-29T12:07:36Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 37687, "attachment_id": null, "id": 82963, "time": "2005-11-29T12:26:04Z", "creator": "nd@perlig.de", "creation_time": "2005-11-29T12:26:04Z", "is_private": false, "text": "Yes, mod_include uses the same routine as mod_cgi to re-set these dynamic\nvariables. You can remove the Host header with mod_headers if you want to avoid\nthis. But I'm not sure about the side effects."}, {"count": 4, "tags": [], "creator": "KlausRusch@atmedia.net", "is_private": false, "text": "Host: is a request header, mod_headers controls response headers only so that\nwon't work. Is there any documentation *which* headers get reset by various modules?", "id": 82969, "time": "2005-11-29T15:10:56Z", "bug_id": 37687, "creation_time": "2005-11-29T15:10:56Z", "attachment_id": null}, {"count": 5, "tags": [], "text": "No, mod_headers does both request and response headers.\n\nThe documentation here:\nhttp://httpd.apache.org/docs/2.0/env.html\ntells you that the standard CGI variables are not overridable.  You can see what\nthose variables are by looking at the CGI spec.", "is_private": false, "id": 82974, "creation_time": "2005-11-29T15:58:37Z", "time": "2005-11-29T15:58:37Z", "creator": "slive@apache.org", "bug_id": 37687, "attachment_id": null}]