[{"count": 0, "tags": [], "creator": "rh3_sp@yahoo.es", "attachment_id": null, "is_private": false, "id": 77773, "time": "2005-07-28T16:24:33Z", "bug_id": 35916, "creation_time": "2005-07-28T16:24:33Z", "text": "Hi,\n\nI think there is a bug at DeltaManager class. I have set up 2 local tomcat \nservers. My application implements HttpSessionListener, \nHttpSessionAttributeListener and HttpSessionActivationListener. All the methods \nof those interfaces are called when needed, so no problems yet.\nWhen I shutdown one of the servers, sessionDestroyed is called (only on the \nserver being shutdown) for each session. However, when I start that server \nagain and it receives the active sessions from the other server, neither \nsessionCreated nor sessionDidActivate methods are called for each active \nsession received from the other server. I think one of them should be called on \nthe server being started up.\nHere is my cluster configuration, just in case it helps:\n\n-------------------\n\n<Cluster className=\"org.apache.catalina.cluster.tcp.SimpleTcpCluster\"\n         managerClassName=\"org.apache.catalina.cluster.session.DeltaManager\"\n         expireSessionsOnShutdown=\"false\"\n         useDirtyFlag=\"true\"\n         notifyListenersOnReplication=\"true\" \n         notifySessionListenersOnReplication=\"true\">\n\n    <Membership \n        className=\"org.apache.catalina.cluster.mcast.McastService\"\n        mcastAddr=\"228.0.0.4\"\n        mcastBindAddr=\"127.0.0.1\"\n        mcastPort=\"14000\"\n        mcastFrequency=\"500\"\n        mcastDropTime=\"3000\"/>\n\n    <Receiver \n        className=\"org.apache.catalina.cluster.tcp.ReplicationListener\"\n        tcpListenAddress=\"127.0.0.1\"\n        tcpListenPort=\"15001\"\n        tcpSelectorTimeout=\"100\"\n        tcpThreadCount=\"6\"/>\n\n    <Sender\n        className=\"org.apache.catalina.cluster.tcp.ReplicationTransmitter\"\n        replicationMode=\"pooled\"\n        ackTimeout=\"15000\"/>\n\n    <Valve className=\"org.apache.catalina.cluster.tcp.ReplicationValve\"\n           \nfilter=\".*\\.gif;.*\\.js;.*\\.jpg;.*\\.png;.*\\.htm;.*\\.html;.*\\.css;.*\\.txt;\"/>\n\n</Cluster>\n\n-------------------\n\nThank you very much!"}, {"attachment_id": null, "tags": [], "creator": "pr@objektpark.de", "text": "Thanks for pointing this out.\n\nFix this at 5.5.13.\n\n", "count": 1, "id": 81451, "time": "2005-10-20T08:23:10Z", "bug_id": 35916, "creation_time": "2005-10-20T08:23:10Z", "is_private": false}, {"count": 2, "tags": [], "creator": "pr@objektpark.de", "attachment_id": null, "is_private": false, "id": 81459, "time": "2005-10-20T08:52:56Z", "bug_id": 35916, "creation_time": "2005-10-20T08:52:56Z", "text": "*** Bug 33782 has been marked as a duplicate of this bug. ***"}, {"attachment_id": null, "tags": [], "creator": "rh3_sp@yahoo.es", "text": "You're welcome. Thank you for your work!", "count": 3, "id": 81925, "time": "2005-10-29T02:33:24Z", "bug_id": 35916, "creation_time": "2005-10-29T02:33:24Z", "is_private": false}]