[{"count": 0, "tags": [], "bug_id": 55056, "text": "Created attachment 30386\npatch\n\nThe problem appears in version 2.9 and in revision 1489451.  I\nattached a one-line patch that fixes it.\n\nIn method \"Data.append\", the loop over \"dHeaders\" should break\nimmediately after \"valid\" is set to \"false\".  All the iterations after\n\"valid\" is set to \"false\" do not perform any useful work, at best they\njust set \"valid\" again to \"false\".\n\nMethod \"include\" in class \"ClassFilter\" has a similar loop (over\n\"pkgs\"), and this loop breaks immediately after \"inc\" is set to\n\"true\", just like in the proposed patch.  Other methods (e.g.,\n\"Copy.keepOnlyAncestors\", \"JMeterThread.getSampleListeners\",\n\"HTTPSamplerBase.getSendParameterValuesAsPostBody\",\n\"LogFilter.incFile\") also have similar loops with similar breaks, just\nlike in the proposed patch.", "id": 167657, "attachment_id": 30386, "creator": "nistor1@illinois.edu", "creation_time": "2013-06-04T14:45:12Z", "time": "2013-06-04T14:45:12Z", "is_private": false}, {"count": 1, "tags": [], "text": "Well spotted; thanks for the patch!\n\nURL: http://svn.apache.org/r1489490\nLog:\nwasted work in Data.append()\nBugzilla Id: 55056\n\nModified:\n    jmeter/trunk/src/jorphan/org/apache/jorphan/collections/Data.java\n    jmeter/trunk/xdocs/changes.xml", "is_private": false, "bug_id": 55056, "id": 167658, "time": "2013-06-04T15:59:54Z", "creator": "sebb@apache.org", "creation_time": "2013-06-04T15:59:54Z", "attachment_id": null}]