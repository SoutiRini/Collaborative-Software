[{"count": 0, "tags": [], "bug_id": 54137, "attachment_id": 29588, "id": 163377, "time": "2012-11-12T11:34:00Z", "creator": "alan.davis.apache@gmail.com", "creation_time": "2012-11-12T11:34:00Z", "is_private": false, "text": "Created attachment 29588\nInitail patch file to limit impact\n\nDataFormatter Fractions formats that use 4 digits (\"# #/####) or more are VERY slow. 4 digits takes around 1 second to process, 5 digits 100 seconds and so on.\n\nTo compound the issue:\n  a) if there is a -ve format (N in the P;NZ;T format), the length of the N format is added to the digit count, resulting in a locked up CPU. For example \"# #/#;# #/#\" is taken to be the same as \"# #/#######\" (7 digits).\n  b) Custom text is also counted. For example: \"# #/#\"Credits\" is taken to be \"# #/##########\"\n\nThe attached patch tries to limit the impact of the issue rather than fix the code that calculates the fraction:\n - It limits the number of digits to 4 (additional # chars are ignored)\n - It splits of the N part of the format (if it exists) from the P part\n - It ignores any custom text (appears not to be generally supported elsewhere)\n - Adds support for negative numbers\n - Fixes a bug in calculations of negative numbers\n - Adds a number of unit tests for fractions\n - When there are both P and N parts, a FractionFormat is only now used if both\n   parts include #/# OR ?/?"}, {"count": 1, "tags": [], "creator": "alan.davis.apache@gmail.com", "attachment_id": 29591, "text": "Created attachment 29591\nExample xls that hangs POI", "id": 163391, "time": "2012-11-12T18:21:26Z", "bug_id": 54137, "creation_time": "2012-11-12T18:21:26Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 54137, "attachment_id": null, "is_private": false, "id": 163477, "time": "2012-11-16T09:46:58Z", "creator": "yegor@dinom.ru", "creation_time": "2012-11-16T09:46:58Z", "text": "Thanks for the patch, applied in r1410269\n\nYegor"}]