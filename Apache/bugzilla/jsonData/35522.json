[{"count": 0, "attachment_id": null, "creator": "urs.fiore.2@credit-suisse.com", "is_private": false, "id": 76753, "time": "2005-06-28T12:57:19Z", "bug_id": 35522, "creation_time": "2005-06-28T12:57:19Z", "tags": [], "text": "The shift command used in the ant.bat script to iterate over the command line\nsplits options like '-D<prop>=<val>' into '-D<prop>' and '<val>'. Such a\nproperty will not be recognized by the java interpreter.\n\nYou may use follwing script to see the errorneous behaviour:\n<<<cut into a file like param.bat>>>\n@echo off\n\n:readParam\nif \"\"%1\"\"==\"\"\"\" goto end\necho %1\nshift\ngoto readParam\n\n:end\n<<<end cut into a file like param.bat>>>\n\nrun: param.bat -Dperson=urs"}, {"count": 1, "tags": [], "bug_id": 35522, "attachment_id": null, "id": 76756, "time": "2005-06-28T17:06:06Z", "creator": "jan@materne.de", "creation_time": "2005-06-28T17:06:06Z", "is_private": false, "text": "Ant\u00b4s main class [1] handles that in processArgs(String[]) method. See line 327.\n\n\n[1] \nhttp://cvs.apache.org/viewcvs.cgi/ant/src/main/org/apache/tools/ant/Main.java?\nview=annotate"}, {"id": 76758, "tags": [], "bug_id": 35522, "attachment_id": null, "count": 2, "text": "Try once something like:\n\nC:\\>ant -lib . -lib log4j-1.2.8.jar -listener\norg.apache.tools.ant.listener.Log4jListener\n-Dlog4j.configuration=app.log4j.properties\n\n\nand you will get:\n\nlog4j:WARN No appenders could be found for logger (org.apache.tools.ant).\nlog4j:WARN Please initialize the log4j system properly.\n", "time": "2005-06-28T17:37:44Z", "creator": "urs.fiore.2@credit-suisse.com", "creation_time": "2005-06-28T17:37:44Z", "is_private": false}, {"id": 76760, "tags": [], "bug_id": 35522, "attachment_id": null, "count": 3, "text": "This was \"ant.bat splits system properties passed by -D<prop>=<val> option\"\nThe ant script does not (currently) support setting java system properties.\nThe -D prefix is used to set ant properties.\n\nOne can set java system properties by setting the env variable \"ANT_OPTS\".\nfrom unix:\nexport ANT_OPTS=\"$ANT_OPTS -Dlog4j.configuration=app.log4j.properties\"\nant -lib . -lib log4j-1.2.8.jar -listener\norg.apache.tools.ant.listener.Log4jListener\n\nshould do what you want.\n\nThis is probally a enhancement request.", "time": "2005-06-28T17:59:46Z", "creator": "peterreilly@apache.org", "creation_time": "2005-06-28T17:59:46Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 35522, "text": "Maybe we should have a -S option to set system properties alongside ant ones;\nprocess this in Main? It wouldnt catch java security stuff that must be set\nbefore the JVM runs, but it could do other things.\n\n", "id": 91237, "time": "2006-07-12T22:11:34Z", "creator": "stevel@apache.org", "creation_time": "2006-07-12T22:11:34Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "bodewig@apache.org", "text": "that's what ANT_OPTS is for, isn't it?", "count": 5, "id": 119939, "time": "2008-08-20T07:53:04Z", "bug_id": 35522, "creation_time": "2008-08-20T07:53:04Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 35522, "text": "ANT_OPTS", "id": 172084, "time": "2014-01-05T14:15:52Z", "creator": "bodewig@apache.org", "creation_time": "2014-01-05T14:15:52Z", "is_private": false, "attachment_id": null}]