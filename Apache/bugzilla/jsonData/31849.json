[{"count": 0, "tags": [], "text": "(I have worked in support areas and realise the nightmarish quality of this \nproblem. I would appreciate any feedeback, even of the  \"upgrade to Tomcat 5\" \nvariety).\n\n\nWe have https & http working on our Tomcat to serve servlets. We observe that \nafter a few days we are unable to get responses from https but that the exact \nsame url accessed via http gives normal responses. \n(The commercial process we are serving requires https so we cannot replace it \nwith http).\nThere are no exceptions or error messages. By \"no response\" I mean that a \nbrowser such as IE is busy trying to open the page but after 6 or more minutes \nstill has not succeeded or returned with an error.\n\nHere is the server.xml excerpt:\n\n<Connector className=\"org.apache.coyote.tomcat4.CoyoteConnector\"\n               port=\"443\" minProcessors=\"5\" maxProcessors=\"75\"\n               enableLookups=\"true\"\n           acceptCount=\"100\" debug=\"0\" scheme=\"https\" secure=\"true\"\n               useURIValidationHack=\"false\" disableUploadTimeout=\"true\">\n      <Factory className=\"org.apache.coyote.tomcat4.CoyoteServerSocketFactory\"\n               clientAuth=\"false\" protocol=\"TLS\" \nkeystoreFile=\"/root/.keystore\" />\n    </Connector>\n\n(BTW The online documentation does not seem to describe the \ndisableUploadTimeout parameter).\n\nMany Thanks.", "attachment_id": null, "bug_id": 31849, "id": 65498, "time": "2004-10-22T12:20:58Z", "creator": "paul.power@planitas.com", "creation_time": "2004-10-22T12:20:58Z", "is_private": false}, {"count": 1, "tags": [], "creator": "Keith@Apache.org", "attachment_id": null, "id": 65528, "time": "2004-10-22T18:58:50Z", "bug_id": 31849, "creation_time": "2004-10-22T18:58:50Z", "is_private": false, "text": "Hi Paul, does a thread dump show the accept thread for https running?  If you\nare on RH9 are you running with the right thread library (LD_ASSUME_KERNEL set\ncorrectly)?"}, {"count": 2, "tags": [], "bug_id": 31849, "attachment_id": null, "text": "Hi Keith:\n\nIt turns out LD_ASSUME_KERNEL was not set on the server above (please don't \nkill me, I did not do the install).\n\nI have set it to LD_ASSUME_KERNEL=2.2.5, and will monitor events. \n\nFor future reference, how would I recognize the accept thread for https in \na \"ps\" response?\n\nI have downgraded the severity of this report to \"minor\" for the moment. If the \nproblem happens again I will review.\n\nThanks a million!\n\n\nThanks a milli\n\n\n", "id": 65576, "time": "2004-10-23T11:11:12Z", "creator": "paul.power@planitas.com", "creation_time": "2004-10-23T11:11:12Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 31849, "is_private": false, "count": 3, "id": 65592, "time": "2004-10-23T12:26:49Z", "creator": "Keith@Apache.org", "creation_time": "2004-10-23T12:26:49Z", "text": "You have to do a thread dump or connect via jpda to see whether the accept\nthread is there or not.  ps doesn't give you that information.  Since everything\nindicates this was a config problem, I am closing the bug."}]