[{"count": 0, "tags": [], "creator": "borismotik@yahoo.com", "attachment_id": null, "id": 18997, "time": "2002-07-04T09:06:22Z", "bug_id": 10469, "creation_time": "2002-07-04T09:06:22Z", "is_private": false, "text": "If Tomcat is installed in a directory with spaces, then the following code \nbreaks because application class loader will put spaces in the resource URL:\n\nURL url=Test.class.getResource(\"res/resource.gif\");\nString useURI=url.toString();\nURI uri=new URI(useURI);\n\nFor example, if installed under c:\\temp\\s p a c e s\\catalina, Tomcat will \ngenerate following URL:\n\njar:file:C:/Temp/s p a c e r/catalina/webapps/kaonportal/WEB-\nINF/lib/apionrdf.jar!/test/res/resource.gif\n\nThe same code when executed from Java alone in the same directory will give \nfollowing URL:\n\njar:file:/C:/Temp/s%20p%20a%20c%20e%20r/test.jar!/test/res/resource.gif\n\nIn the latter case the spaces are correctly escaped with %20, whereas in the \ncase of running under Tomcat, the spaces are present in the URL, which is \nincorrect according to the URL standard. The URL class doesn't check this, but \nthe URI class does, and the code breaks.\n\nBoris Motik"}, {"count": 1, "tags": [], "bug_id": 10469, "is_private": false, "text": "I have encoded my urls with response.encodeURL(), while this puts the sessionID \nin correctly when needed, it does encode spaces to %20.\n\nThe following is an excerpt from\nhttp://www.oreillynet.com/cs/user/view/cs_msg/3520\n------------------\nSpaces in URL's are generally given special interpretation, so, when they are \nnot intended to have any such special interpretation, they are supposed to be \nescaped (%20, of course).  While it's true that some browsers will \nappropriately modify a given URL in their HTTP interchange with the server, \nthis is non-standard and cannot be relied upon.\n\nTherefore, the URL \"http://www.oreillynet.com/mac/2001/06/01/graphics/h-m \nswitch.gif\" should be \"http://www.oreillynet.com/mac/2001/06/01/graphics/h-m%\n20switch.gif\".\n", "id": 25876, "time": "2002-11-07T16:42:59Z", "creator": "kleung11@yahoo.com", "creation_time": "2002-11-07T16:42:59Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 10469, "is_private": false, "id": 25877, "creation_time": "2002-11-07T16:54:37Z", "time": "2002-11-07T16:54:37Z", "creator": "borismotik@yahoo.com", "text": "My original bug posting refers actually to the bug in the Tomcat class loader, \nthat should be motified to encode the URLs of resources loaded from the \napplication archive with spaces escaped. The bug I submitted doesn't in any way \nrefer to URLs that are exchanged between the client and the server.", "attachment_id": null}, {"count": 3, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 52772, "time": "2004-02-22T21:08:01Z", "bug_id": 10469, "creation_time": "2004-02-22T21:08:01Z", "is_private": false, "text": "This has been fixed in CVS and will be included in the next release."}]