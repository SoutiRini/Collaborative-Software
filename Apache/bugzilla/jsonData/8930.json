[{"count": 0, "tags": [], "bug_id": 8930, "text": "Brief Description:  Apache server recieves 5 or 6 requests, then on the 6th or\n7th request the server hangs.  There is no entry in the access log or error log\nfor the request that hangs.\n\nDetailed Description:  Configured Apache with \"./configure\n--prefix=/usr/local/apache-httpd-2.0.36 --enable-so --enable-cache=shared\n--enable-mem-cache=shared --enable-deflate=shared --enable-expires\n--enable-headers --enable-unique-id=shared --enable-ssl=shared\n--with-ssl=/usr/local/openssl --enable-http --disable-autoindex --disable-status\n--enable-vhost-alias=shared --disable-userdir\"\n\nBuilt apache and configured a virtual host similar to the following:\n\nNameVirtualHost 192.168.0.209:443\n<VirtualHost 192.168.0.209:443>\n\tServerName testsite.mydomain\n\tServerAlias www.testsite.mydomain\n\tServerPath /testsite.mydomain\n\n\tDocumentRoot /usr/local/mysecurewebroot\n\tAliasMatch \"^/main.*\" /usr/local/mysecurewebroot/main.php\n\n\tServerAdmin webmaster@testsite.mydomain\n\n\t<Directory /usr/local/mysecurewebroot>\n\t\tOptions SymLinksIfOwnerMatch IncludesNOEXEC\n\t\tAllowOverride None\n\t\tOrder Allow,Deny\n\t\tDeny from All\n\n\t\t<Files \"main.php\">\n\t\t\tAllow from All\n\t\t</Files>\n\t</Directory>\n\n\tOptions SymLinksIfOwnerMatch IncludesNOEXEC\n\tErrorLog /usr/local/mysecurelogs/logs/errors.log\n\tCustomLog /usr/local/mysecurelogs/logs/accesses.log combined\n\tCustomLog /usr/local/mysecurelogs/logs/request_log \\\n          \"%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \\\"%r\\\" %b\"\n\n\tSSLEngine on\n\tSSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL\n\tSSLCertificateFile conf/ssl.crt/mysecureserver.crt\n\tSSLCertificateKeyFile conf/ssl.key/mysecureserver.key\n\tSetEnvIf User-Agent \".*MSIE.*\" nokeepalive ssl-unclean-shutdown\n</VirtualHost>\n\nWhere testsite.mydomain is a real domain name.\n\nThought the alias above specifies a file ending with the .php extension, no php\nmodule or type commands were included in the httpd.conf file.  (If you need the\nconf file, let me know.)\n\nStart the server.  Use wget to download file from root directory.  On 6th or 7th\ndownload the connection hangs.\n\nI can use the same server build without error when the SSL module and options\nare turned off in the httpd.conf and VirtualHost.\n\nThis issue seems very basic, so I am suspecting that there may be a great deal\nmore information needed to pinpoint the problem.  Please contact me if you need\nmore information.\n\nThanks,\nRobert", "id": 15762, "time": "2002-05-09T04:14:29Z", "creator": "robertoldham@robertoldham.com", "creation_time": "2002-05-09T04:14:29Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "jwoolley@apache.org", "attachment_id": null, "id": 15763, "time": "2002-05-09T04:29:21Z", "bug_id": 8930, "creation_time": "2002-05-09T04:29:21Z", "is_private": false, "text": "You're probably seeing messages like this:\n[16/Apr/2002 10:30:07 19876] [warn]  Failed to acquire global mutex lock\n[16/Apr/2002 10:30:07 19876] [warn]  Failed to release global mutex lock\nin the error log, right?  I'm guessing this is a dupe of PR8124, which will be \nfixed shortly, so I'm going to mark it as such.  Take a look at that (and the \nother PR's that have been marked as dupes of it).  If you have reason to \nbelieve it's something else, feel free to reopen this.\n\nThanks!\n\n*** This bug has been marked as a duplicate of 8124 ***"}, {"count": 2, "attachment_id": null, "creator": "robertoldham@robertoldham.com", "text": "This is marked as a duplicate of 8124.  Though I believe this issue may be\nsolved by the same fix that will be made for 8124, I wanted to add a note of\ndistinction:  8124 was reported as a problem with Apache httpd 2.0.35 and the\nissue being reported here, is not reporducible in 2.0.35.  It was newly\nintroduced in 2.0.36.  \n\nI have verified that if I set SSLMutex to none the problem no longer occurs.", "id": 15768, "time": "2002-05-09T05:18:25Z", "bug_id": 8930, "creation_time": "2002-05-09T05:18:25Z", "tags": [], "is_private": false}, {"count": 3, "attachment_id": null, "creator": "jwoolley@apache.org", "is_private": false, "id": 15770, "time": "2002-05-09T05:24:36Z", "bug_id": 8930, "creation_time": "2002-05-09T05:24:36Z", "tags": [], "text": "Ahh, an interesting data point.  Thanks.  Anyway, even if there's something \n_slightly_ different going on, I'm pretty sure it's the same underlying problem."}]