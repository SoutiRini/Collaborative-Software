[{"count": 0, "attachment_id": null, "bug_id": 52411, "is_private": false, "id": 152520, "time": "2012-01-02T10:35:18Z", "creator": "mathieu.malaterre@gmail.com", "creation_time": "2012-01-02T10:35:18Z", "tags": [], "text": "Fop 1.0 segfault on the attached file:\n\n $ fop -d publican.fo publican.pdf >& log\n\nThis is a regression from 0.95. log file is huge, attaching it.\n\nThanks"}, {"count": 1, "tags": [], "creator": "mathieu.malaterre@gmail.com", "is_private": false, "text": "Created attachment 28108\noutput log", "id": 152521, "time": "2012-01-02T10:35:43Z", "bug_id": 52411, "creation_time": "2012-01-02T10:35:43Z", "attachment_id": 28108}, {"count": 2, "tags": [], "creator": "mathieu.malaterre@gmail.com", "text": "Created attachment 28109\ninput publican.fo", "id": 152522, "time": "2012-01-02T10:36:46Z", "bug_id": 52411, "creation_time": "2012-01-02T10:36:46Z", "is_private": false, "attachment_id": 28109}, {"count": 3, "tags": [], "creator": "mathieu.malaterre@gmail.com", "text": "See also discussion from fop-users mailing list:\n\nhttp://www.mail-archive.com/fop-users@xmlgraphics.apache.org/msg17887.html\n\n...\n\nThe main thing here is to isolate a short testcase that still\ndemonstrates the issue in both 0.95 and 1.0 versions.\nEven if FOP trunk passes the test, the snippet could be used for unit-test\n\nprobably related to #48806 [1], #46386 [2].\n\n[1] https://issues.apache.org/bugzilla/show_bug.cgi?id=48806\n[2] https://issues.apache.org/bugzilla/show_bug.cgi?id=46386\n...", "id": 152523, "time": "2012-01-02T10:42:12Z", "bug_id": 52411, "creation_time": "2012-01-02T10:42:12Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "Created attachment 28110\nreduced test case", "is_private": false, "id": 152525, "creator": "mathieu.malaterre@gmail.com", "time": "2012-01-02T14:41:23Z", "bug_id": 52411, "creation_time": "2012-01-02T14:41:23Z", "attachment_id": 28110}, {"count": 5, "tags": [], "bug_id": 52411, "attachment_id": 28111, "is_private": false, "id": 152526, "time": "2012-01-02T14:42:09Z", "creator": "mathieu.malaterre@gmail.com", "creation_time": "2012-01-02T14:42:09Z", "text": "Created attachment 28111\nxslt for reducing size"}, {"count": 6, "tags": [], "bug_id": 52411, "is_private": false, "id": 152527, "attachment_id": null, "creator": "mathieu.malaterre@gmail.com", "creation_time": "2012-01-02T14:43:19Z", "time": "2012-01-02T14:43:19Z", "text": "I have used the attached process.xsl script file to reduce the original .fo file to 328 kb\n\nAfter trial/error it looks like the bug appear in a fo:inline within the sect-Users_Guide-Packaging_a_book fo:block"}, {"count": 7, "tags": [], "bug_id": 52411, "is_private": false, "id": 152528, "attachment_id": 28112, "creator": "mathieu.malaterre@gmail.com", "creation_time": "2012-01-02T15:04:57Z", "time": "2012-01-02T15:04:57Z", "text": "Created attachment 28112\nsmall test case"}, {"count": 8, "tags": [], "bug_id": 52411, "text": "I can reproduce the segfault using small.fo:\n\n$ fop -d small.fo small.pdf\n...\n\n---------\n\njava.lang.NullPointerException\n\tat org.apache.fop.layoutmgr.inline.InlineStackingLayoutManager.applyChanges(InlineStackingLayoutManager.java:277)\n\tat org.apache.fop.layoutmgr.inline.InlineStackingLayoutManager.applyChanges(InlineStackingLayoutManager.java:300)\n\tat org.apache.fop.layoutmgr.inline.LineLayoutManager.processUpdates(LineLayoutManager.java:1345)\n\tat org.apache.fop.layoutmgr.inline.LineLayoutManager.findHyphenationPoints(LineLayoutManager.java:1318)\n\tat org.apache.fop.layoutmgr.inline.LineLayoutManager.findOptimalBreakingPoints(LineLayoutManager.java:797)\n\tat org.apache.fop.layoutmgr.inline.LineLayoutManager.createLineBreaks(LineLayoutManager.java:763)\n\tat org.apache.fop.layoutmgr.inline.LineLayoutManager.getNextKnuthElements(LineLayoutManager.java:592)\n\tat org.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextChildElements(BlockStackingLayoutManager.java:571)\n\tat org.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextChildElements(BlockStackingLayoutManager.java:552)\n\tat org.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements(BlockStackingLayoutManager.java:280)\n\tat org.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:123)\n\tat org.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:115)\n\tat org.apache.fop.layoutmgr.FlowLayoutManager.getNextChildElements(FlowLayoutManager.java:199)\n\tat org.apache.fop.layoutmgr.FlowLayoutManager.addChildElements(FlowLayoutManager.java:140)\n\tat org.apache.fop.layoutmgr.FlowLayoutManager.addChildElements(FlowLayoutManager.java:129)\n\tat org.apache.fop.layoutmgr.FlowLayoutManager.getNextKnuthElements(FlowLayoutManager.java:70)\n\tat org.apache.fop.layoutmgr.PageBreaker.getNextKnuthElements(PageBreaker.java:216)\n\tat org.apache.fop.layoutmgr.AbstractBreaker.getNextBlockList(AbstractBreaker.java:692)\n\tat org.apache.fop.layoutmgr.PageBreaker.getNextBlockList(PageBreaker.java:149)\n\tat org.apache.fop.layoutmgr.PageBreaker.getNextBlockList(PageBreaker.java:132)\n\tat org.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:337)\n\tat org.apache.fop.layoutmgr.PageBreaker.doLayout(PageBreaker.java:85)\n\tat org.apache.fop.layoutmgr.PageSequenceLayoutManager.activateLayout(PageSequenceLayoutManager.java:107)\n\tat org.apache.fop.area.AreaTreeHandler.endPageSequence(AreaTreeHandler.java:238)\n\tat org.apache.fop.fo.pagination.PageSequence.endOfNode(PageSequence.java:120)\n\tat org.apache.fop.fo.FOTreeBuilder$MainFOHandler.endElement(FOTreeBuilder.java:349)\n\tat org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:177)\n\tat org.apache.xalan.transformer.TransformerIdentityImpl.endElement(TransformerIdentityImpl.java:1102)\n\tat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n\tat org.apache.xerces.xinclude.XIncludeHandler.endElement(Unknown Source)\n\tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n\tat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\n\tat org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:485)\n\tat org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:299)\n\tat org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:130)\n\tat org.apache.fop.cli.Main.startFOP(Main.java:174)\n\tat org.apache.fop.cli.Main.main(Main.java:205)", "id": 152529, "attachment_id": null, "creator": "mathieu.malaterre@gmail.com", "creation_time": "2012-01-02T15:05:39Z", "time": "2012-01-02T15:05:39Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 52411, "is_private": false, "id": 152530, "attachment_id": 28113, "creator": "mathieu.malaterre@gmail.com", "creation_time": "2012-01-02T15:08:37Z", "time": "2012-01-02T15:08:37Z", "text": "Created attachment 28113\nAdding tiny test case\n\nHere is a very tiny test case"}, {"count": 10, "attachment_id": null, "bug_id": 52411, "is_private": false, "id": 152547, "time": "2012-01-03T08:18:02Z", "creator": "pascal.sancho@takoma.fr", "creation_time": "2012-01-03T08:18:02Z", "tags": [], "text": "(In reply to comment #9)\n> Created attachment 28113 [details]\n> Adding tiny test case\n> \n> Here is a very tiny test case\n\nNote that this test pass FOP TRUNK (rev 1183620) successfully.\nI don't remember if there is a similar testcase in FOP test suite.\nLeaving this bug open as a reminder to check testsuite (and add this test if needed)."}, {"count": 11, "tags": [], "creator": "mathieu.malaterre@gmail.com", "text": "\n\n*** This bug has been marked as a duplicate of bug 50276 ***", "id": 152550, "time": "2012-01-03T09:49:44Z", "bug_id": 52411, "creation_time": "2012-01-03T09:49:44Z", "is_private": false, "attachment_id": null}, {"count": 12, "tags": [], "creator": "gadams@apache.org", "text": "batch transition to closed for remaining resolved bugs", "id": 156386, "time": "2012-04-01T13:42:52Z", "bug_id": 52411, "creation_time": "2012-04-01T13:42:52Z", "is_private": false, "attachment_id": null}]