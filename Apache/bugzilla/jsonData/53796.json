[{"count": 0, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 161810, "time": "2012-08-29T11:49:27Z", "bug_id": 53796, "creation_time": "2012-08-29T11:49:27Z", "is_private": false, "text": "The TestCompiler uses a static Set (PAIRING) which can grow very large if there are lots of threads. This limits the total number of thread groups, even when using delayed start.\n\nThe Set is used to prevent a child being added to the same parent twice.\n\nOne possible solution is to save the information in the parent instance, rather than a static set. At the end of a thread, the parent instance will no longer be needed, and the memory can be reclaimed. [If there is still a reference to either parent or child, the memory won't be released, but that applies to the current implementation also.]\n\nIt's not clear whether there can ever be a duplicate ObjectPair, as most test elements are cloned. But in case duplicates are possible, something like the above solution is necessary."}, {"count": 1, "tags": [], "text": "Fixed as per description:\n\nURL: http://svn.apache.org/viewvc?rev=1378780&view=rev\nLog:\nTestCompiler uses static Set which can grow huge\nBugzilla Id: 53796\n\nAdded:\n    jmeter/trunk/src/core/org/apache/jmeter/threads/TestCompilerHelper.java   (with props)\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/control/GenericController.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/AbstractThreadGroup.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/TestCompiler.java\n    jmeter/trunk/xdocs/changes.xml", "is_private": false, "bug_id": 53796, "id": 161825, "time": "2012-08-30T00:31:16Z", "creator": "sebb@apache.org", "creation_time": "2012-08-30T00:31:16Z", "attachment_id": null}]