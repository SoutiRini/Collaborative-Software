[{"count": 0, "tags": [], "bug_id": 55336, "attachment_id": null, "is_private": false, "id": 168989, "time": "2013-08-01T05:00:34Z", "creator": "thanhtt@exoplatform.com", "creation_time": "2013-08-01T05:00:34Z", "text": "Today, I tried to start apache tomcat 7.0.42 in Linux environment. Server path contains two consecutive spaces. When I run ./catalina.sh run, server cannot start and there is the following exception in console\n\n./catalina.sh run\nUsing CATALINA_BASE:   /home/example/twoconsecutive  spaces\nUsing CATALINA_HOME:   /home/example/twoconsecutive  spaces\nUsing CATALINA_TMPDIR: /home/example/twoconsecutive  spaces/temp\nUsing JRE_HOME:        /home/example/java/jdk1.6\nUsing CLASSPATH:       /home/example/twoconsecutive spaces/bin/bootstrap.jar:/home/example/twoconsecutive spaces/bin/tomcat-juli.jar\nException in thread \"main\" java.lang.NoClassDefFoundError: org/apache/catalina/startup/Bootstrap\nCaused by: java.lang.ClassNotFoundException: org.apache.catalina.startup.Bootstrap\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\nCould not find the main class: org.apache.catalina.startup.Bootstrap.  Program will exit.\n\nTomcat server can start if  server path does not contain consecutive space."}, {"count": 1, "tags": [], "bug_id": 55336, "attachment_id": null, "id": 168993, "time": "2013-08-01T08:25:40Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2013-08-01T08:25:40Z", "is_private": false, "text": "Adding analysis reported by Ognjen Blagojevic on tomcat users here:\n\nOn several places in catalina.sh, there is eval command which seems to be inproperly escaped. E.g, if I want to pass parameter with two consecutive spaces using eval, this is the wrong way to do it:\n\n  eval echo \\\"foo  bar\\\" (prints: foo bar)\n\nThis is the right way to do it:\n\n  eval echo \"\\\"foo  bar\\\"\" (prints: foo  bar)\n\nI believe that catalina.sh should quote every parameter pass to eval in order to prevent whitespace collapse."}, {"count": 2, "tags": [], "bug_id": 55336, "attachment_id": null, "id": 169014, "time": "2013-08-01T10:44:36Z", "creator": "markt@apache.org", "creation_time": "2013-08-01T10:44:36Z", "is_private": false, "text": "Thanks for the report and the suggested fix.\n\nThe fix has been applied to trunk and 7.0.x and will be included in 7.0.43 onwards."}]