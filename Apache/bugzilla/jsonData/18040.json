[{"count": 0, "tags": [], "text": "when trying to use a custom error page for my webapp with BASIC auth, i get no \nname/pass challenge, i'm fowarded straight to the 401 error page\n\nin my web.xml i have \n<snippet>\n\n <error-page>\n        <error-code>401</error-code>\n        <location>/error/401.html</location>\n    </error-page>\n\n<snip>....</snip>\n\n    <security-constraint>\n        <web-resource-collection>\n           <web-resource-name>MyApplication</web-resource-name>\n               <url-pattern>/admin/*</url-pattern>\n               <url-pattern>/servlet/com.myapp.admin.*</url-pattern>\n               <http-method>GET</http-method>\n               <http-method>POST</http-method>\n        </web-resource-collection>\n        <auth-constraint>\n            <role-name>myappadmin</role-name>\n        </auth-constraint>\n    </security-constraint>\n    <login-config>\n         <auth-method>BASIC</auth-method>\n         <realm-name>MyApplication Realm</realm-name>\n    </login-config>\n    <security-role>\n         <role-name>myappadmin</role-name>\n    </security-role>\n</snippet>", "is_private": false, "id": 33254, "creator": "adam@autonomous.co.uk", "time": "2003-03-16T15:15:19Z", "bug_id": 18040, "creation_time": "2003-03-16T15:15:19Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 18040, "text": "The following works in Tomcat 4.1.24:\n\nConvert your error page to a jsp and add the following to the top of the file:\n<%\nString realmName = \"xxx; // Specify the realm name from web.xml\nresponse.setHeader(\"WWW-Authenticate\",\n\t\t\t   \"Basic realm=\\\"\" + realmName + \"\\\"\");\nresponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n%>", "id": 41517, "time": "2003-07-25T15:02:34Z", "creator": "pradeepk@soft-point.com", "creation_time": "2003-07-25T15:02:34Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 18040, "is_private": false, "count": 2, "id": 57135, "time": "2004-05-10T20:48:20Z", "creator": "markt@apache.org", "creation_time": "2004-05-10T20:48:20Z", "text": "The 401 response is actually part of the BASIC authentication process (see RFC \n2616 for full details) as well as the response when BASIC authentication \nfails. This specification of an error page for 401 interfers with this dual \nuse.\n\n401 should perhaps be a special case but the servlet spec does not treat it as \nsuch. The work-around described above (or something that achieves the same \nthing) is the way to go if you want a custom error page for a 401.\n\nStrictly this bug report is INVALID as tomcat is doing what the spec says it \nshould."}, {"attachment_id": null, "tags": [], "bug_id": 18040, "is_private": false, "count": 3, "id": 72809, "time": "2005-03-24T23:39:26Z", "creator": "markt@apache.org", "creation_time": "2005-03-24T23:39:26Z", "text": "*** Bug 13430 has been marked as a duplicate of this bug. ***"}]