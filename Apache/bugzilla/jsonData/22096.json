[{"count": 0, "tags": [], "bug_id": 22096, "text": "I just noticed that when reloading a context using the manager application,\nTomcat fails to redeploy WEB-INF/lib and the WEB-INF/classses for that web\napplication leading to ClassNotFoundExceptions.\n\nUsing stop and then start works fine.", "id": 42032, "time": "2003-08-03T23:06:39Z", "creator": "drees76@gmail.com", "creation_time": "2003-08-03T23:06:39Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "laurent@elanor.org", "attachment_id": null, "is_private": false, "id": 42075, "time": "2003-08-04T14:39:35Z", "bug_id": 22096, "creation_time": "2003-08-04T14:39:35Z", "text": "I confirm I have that exact problem, both on 4.1.26 that I installed last\nFriday, and on 4.1.27 that I installed today.\nPrevious version was 4.1.24, which was working fine.\nConfiguration was left the same.\n\nI'm not sure about it, but I was surprised to see that in the exception report:\nC:\\TEMP\\index_jsp.java:99: cannot resolve symbol\n^^^^^^^^\n\nI though Tomcat put all its temporary stuff in the work/directort.\nI couldn't find any temporary JSP dating from 4.1.24 in TEMP."}, {"count": 2, "tags": [], "bug_id": 22096, "text": "I don't know yet when this bug was introduced, and will look into the issue.", "id": 42095, "time": "2003-08-04T17:27:14Z", "creator": "remm@apache.org", "creation_time": "2003-08-04T17:27:14Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 22096, "text": "Huh,\n\nI look to StandardContext implementation and found to changes between 4.1.24 \nand 4.1.27\n\n4.1.24\n\nLine 1062\n\npublic ServletContext getServletContext() {\n\n...\n     return (context) ;\n\n}\n4.1.27\nLine 1062\n\npublic ServletContext getServletContext() {\n\n...\n     return (context.getFacade()) ;\n\n}\n\nother change is at Line 3363:\n\n4.1.27\npublic synchronized stop() ...\n\n// add listenerStop\n    listenerStop\n}\n-- nothing to with current 4.1.x reloading.\n\n\nI extract the 4.1.24 org.apache.catalina.core.StandardContext and copy to \n4.1.27 server/classes.\n\nJiep, 4.1.27 reloading working as expected. Testet with a hello world directory \ndeployment.\n\n\nThe first change are a internal security fix, but has current a side effect...\n\nPeter\n \n", "id": 42132, "time": "2003-08-05T09:14:00Z", "creator": "pr@webapp.de", "creation_time": "2003-08-05T09:14:00Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 22096, "text": "Thanks for the analysis, and finding out what was causing the issue. I wouldn't\nhave gone in that direction, instead I was suspecting my change to fix STM and\nwebapp reload (I thought it would have caused the wrapper reload to fail).\nInstead, the safe looking one line change to return a facaded servlet context is\nwhat broke reloading. I assume the ContextConfig listener could no longer reset\nnecessary components in the servlet context once the facade was in place.\nI will make a hotfix available for this bug, and I assume a new 4.1.x release\nwill occur before the end of the month.", "id": 42137, "time": "2003-08-05T09:41:20Z", "creator": "remm@apache.org", "creation_time": "2003-08-05T09:41:20Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 22096, "text": "Done. I added a hotfix package there:\nhttp://www.apache.org/dist/jakarta/tomcat-4/binaries/\nCheck it just to make sure I didn't make any mistakes.", "id": 42140, "time": "2003-08-05T09:57:47Z", "creator": "remm@apache.org", "creation_time": "2003-08-05T09:57:47Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 22096, "attachment_id": null, "is_private": false, "id": 42142, "time": "2003-08-05T10:29:04Z", "creator": "laurent@elanor.org", "creation_time": "2003-08-05T10:29:04Z", "text": "Works for me!\n\nThanks a lot!"}, {"count": 7, "tags": [], "bug_id": 22096, "is_private": false, "text": "Yep, works for me, too.", "id": 42181, "time": "2003-08-05T19:08:11Z", "creator": "drees76@gmail.com", "creation_time": "2003-08-05T19:08:11Z", "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 22096, "text": "Ok, thanks. I will post to announcements tomorrow, once the mirrors have synced.\nI believe the HTML contains explicit enough instructions and details to allow\n4.1.27 to live on for a little while, given this is not a security issue.", "id": 42182, "time": "2003-08-05T19:11:47Z", "creator": "remm@apache.org", "creation_time": "2003-08-05T19:11:47Z", "is_private": false, "attachment_id": null}, {"count": 9, "attachment_id": null, "creator": "funkman@joedog.org", "text": "*** Bug 22149 has been marked as a duplicate of this bug. ***", "id": 42209, "time": "2003-08-05T21:13:17Z", "bug_id": 22096, "creation_time": "2003-08-05T21:13:17Z", "tags": [], "is_private": false}, {"count": 10, "tags": [], "creator": "drees76@gmail.com", "attachment_id": null, "is_private": false, "id": 42224, "time": "2003-08-06T02:49:31Z", "bug_id": 22096, "creation_time": "2003-08-06T02:49:31Z", "text": "*** Bug 22154 has been marked as a duplicate of this bug. ***"}, {"count": 11, "tags": [], "bug_id": 22096, "is_private": false, "text": "*** Bug 23506 has been marked as a duplicate of this bug. ***", "id": 44882, "time": "2003-09-30T10:49:26Z", "creator": "funkman@joedog.org", "creation_time": "2003-09-30T10:49:26Z", "attachment_id": null}, {"count": 12, "attachment_id": null, "bug_id": 22096, "text": "*** Bug 23565 has been marked as a duplicate of this bug. ***", "id": 45023, "time": "2003-10-02T15:51:02Z", "creator": "drees76@gmail.com", "creation_time": "2003-10-02T15:51:02Z", "tags": [], "is_private": false}, {"count": 13, "tags": [], "bug_id": 22096, "text": "*** Bug 23809 has been marked as a duplicate of this bug. ***", "id": 45632, "time": "2003-10-14T14:26:15Z", "creator": "funkman@joedog.org", "creation_time": "2003-10-14T14:26:15Z", "is_private": false, "attachment_id": null}, {"count": 14, "attachment_id": null, "creator": "funkman@joedog.org", "text": "*** Bug 24121 has been marked as a duplicate of this bug. ***", "id": 46279, "time": "2003-10-25T19:06:22Z", "bug_id": 22096, "creation_time": "2003-10-25T19:06:22Z", "tags": [], "is_private": false}]