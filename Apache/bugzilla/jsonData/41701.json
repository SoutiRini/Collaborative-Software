[{"count": 0, "tags": [], "bug_id": 41701, "attachment_id": null, "id": 99786, "time": "2007-02-26T01:34:01Z", "creator": "gregory@tikalk.com", "creation_time": "2007-02-26T01:34:01Z", "is_private": false, "text": "Proposed patch enhances standart <import> task with following parameters:\n\n<import resource=\"common-targets.xml\"/>\nWill import \"common-targets.xml\" from ant's classpath\n\n<import resource=\"common-targets.xml\" classpath=\"ant-common.jar\"/>\nWill import \"common-targets.xml\" from specified classpath, in this case\n\"ant-common.jar\"\n\nMotivation:\n\nThis patch will allow loading common targets/properties from pre-packaged jar.\nThis is useful when the build system for several projects shares some common\ntargets/properties and perhaps ant extensions, and this build system is used as\nseparate project to build a number of other projects."}, {"count": 1, "tags": [], "bug_id": 41701, "text": "Created attachment 19635\nPatch file", "id": 99787, "attachment_id": 19635, "creator": "gregory@tikalk.com", "creation_time": "2007-02-26T01:37:39Z", "time": "2007-02-26T01:37:39Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 41701, "attachment_id": null, "id": 99788, "creation_time": "2007-02-26T01:38:21Z", "time": "2007-02-26T01:38:21Z", "creator": "gregory@tikalk.com", "text": "The patch was done against SVN trunk revision: 511767", "is_private": false}, {"count": 3, "tags": [], "bug_id": 41701, "text": "This is useful; it is something we've discussed. However, we have two problems\n\n1. how to specify the classpath (use case: dynamically load a build file from an\nivy downloaded JAR)\n\n2. what the base dir of a project is in this situation\n\nRegarding the patch -did you reformat the code before submitting it? That makes\nit needlessly hard to determine what's changed. \n\nPlease submit patches against the code without doing a format first. Apache has\nvery strict layout rules to stop this from happening.", "id": 99802, "time": "2007-02-26T08:04:09Z", "creator": "stevel@apache.org", "creation_time": "2007-02-26T08:04:09Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 41701, "is_private": false, "text": "The enhanced <import> task allows specifying classpath from which to load the\nresource. This classpath is resolved when <import> is executed. I am not\nfamiliar with ivy so I am not sure if this solves the use case or not.\n\nRegarding the base dir for imported project, I am not sure it can have any\nmeaningful value assigned when using <import resource=\"\"/>. \n\nThe way we use ant in our build system is to have one main build.xml responsible\nfor setting all project properties and then have it import individual .xmls that\neach knows how to build a specific thing, such as XDoclet, Hibernate SQLs etc.. \n\nTo borrow from OOP terminology, the imported projects are a kind of a \"mixin\"\nprojects that cannot function as a standalone projects on their own since they\ndepend on properties set by root build.xml, so not having base dir set for\nimported .xmls is making sense in our use case. And this is the use case the\nenhanced <import> allows.\n\n", "id": 99846, "time": "2007-02-27T05:31:22Z", "creator": "gregory@tikalk.com", "creation_time": "2007-02-27T05:31:22Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 41701, "is_private": false, "id": 99847, "creation_time": "2007-02-27T05:33:43Z", "time": "2007-02-27T05:33:43Z", "creator": "gregory@tikalk.com", "text": "Created attachment 19644\nUpdated patch with formatting preserved\n\nI've recreated the patch with formatting preserved.", "attachment_id": 19644}, {"count": 6, "tags": [], "bug_id": 41701, "text": "*** Bug 44214 has been marked as a duplicate of this bug. ***", "id": 112857, "attachment_id": null, "creator": "stevel@apache.org", "creation_time": "2008-01-15T02:43:59Z", "time": "2008-01-15T02:43:59Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 41701, "is_private": false, "text": "linking to the changes needed in the resources to start enabling this", "id": 112859, "time": "2008-01-15T02:54:37Z", "creator": "stevel@apache.org", "creation_time": "2008-01-15T02:54:37Z", "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 41701, "is_private": false, "text": "a resource on the classpath has an URL - and in svn trunk Ant's javaresoucre provides URLs, so right now\n\n<import>\n  <javaresource name=\"common-targets.xml\">\n    <classpath location=\"ant-common.jar\"/>\n  </javaresource>\n</import>\n\nshould work\n\n*** This bug has been marked as a duplicate of bug 29251 ***", "id": 131725, "time": "2009-11-05T05:43:00Z", "creator": "bodewig@apache.org", "creation_time": "2009-11-05T05:43:00Z", "attachment_id": null}]