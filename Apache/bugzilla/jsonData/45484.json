[{"count": 0, "tags": [], "bug_id": 45484, "is_private": false, "text": "The JavaDocs for ServletContext.getContextPath() state:\n\"The path starts with a \"/\" character but does not end with a \"/\" character\"\n\nHowever when calling getContextPath() for the ROOT context an empty string \"\" is returned.\n\nThis returned path also does not work when passed back to ServletContext.getContext(String). If called with \"\" null is returned which is consistent with the JavaDocs for that method.", "id": 119023, "time": "2008-07-25T09:42:44Z", "creator": "eric.dalquist@doit.wisc.edu", "creation_time": "2008-07-25T09:42:44Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 45484, "attachment_id": null, "id": 119024, "time": "2008-07-25T10:03:58Z", "creator": "eric.dalquist@doit.wisc.edu", "creation_time": "2008-07-25T10:03:58Z", "is_private": false, "text": "The empty context path for the root context appears to be set in HostConfig:882 which reads:\n\nif (files[i].equals(\"ROOT\"))\n    contextPath = \"\";\n\nI may try just changing that from \"\" to \"/\" and see what happens but I'm rather concerned about unintended consequences of doing so."}, {"count": 2, "tags": [], "text": "Changing:\nif (files[i].equals(\"ROOT\"))\n    contextPath = \"\";\n\nTo:\nif (files[i].equals(\"ROOT\"))\n    contextPath = \"/\";\n\nIn HostConfig does resolve the problem with getContextPath and getContext, cross-context dispatching to and from the root context all work. There still may be other issues that I don't know about as I'm not that familiar with the Tomcat code but hopefully a Tomcat developer can comment on that.", "attachment_id": null, "id": 119027, "creation_time": "2008-07-25T10:40:58Z", "time": "2008-07-25T10:40:58Z", "creator": "eric.dalquist@doit.wisc.edu", "bug_id": 45484, "is_private": false}, {"count": 3, "tags": [], "bug_id": 45484, "attachment_id": null, "is_private": false, "id": 119032, "time": "2008-07-25T12:29:34Z", "creator": "eric.dalquist@doit.wisc.edu", "creation_time": "2008-07-25T12:29:34Z", "text": "I apollogize, the servlet API docs I was refering to were apparently incomplete and did not include the statement:\n\nFor servlets in the default (root) context, this method returns \"\"\n\nThis issue should be disregarded."}]