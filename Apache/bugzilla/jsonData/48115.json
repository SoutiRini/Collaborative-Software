[{"count": 0, "tags": [], "creator": "mtsai@tivo.com", "text": "Created attachment 24468\na patch to include duration in apache notes\n\nThis is a simple change to save the time spent in processing the request:\n1. Time it took mod_proxy_ajp to get the request from client and send it to\ntomcat.\n2. Time it took tomcat to generate a response.\n3. Time it took client to accept the response.\n4. Total time it took to process the request (sum of 1, 2, 3).\n\nThis is helpful for debugging. If a client is on low bandwidth connection, it\nmay hang a apache thread, who is waiting on the client to accept all the\nresponse. It may also be desirable to my changes in #ifdefined so it can be\ncompiled out if the user chooses not to use this feature. \n\nThe time is in microseconds and can be printed out later by mod_log_config,\nusing this format:\n\nLogFormat \"%{ajp_send_request_duration}n %{ajp_response_create_duration}n \n%{ajp_send_response_duration}n %{ajp_lifetime}n\"\n\nThe diff was created from httpd svn tree as of 11/3. To apply this patch do\nthese 2 steps:\n1. cd trunk/modules/proxy/\n2. patch < mod_proxy_ajp_duration_as_notes.patch", "id": 131646, "time": "2009-11-03T16:04:59Z", "bug_id": 48115, "creation_time": "2009-11-03T16:04:59Z", "is_private": false, "attachment_id": 24468}]