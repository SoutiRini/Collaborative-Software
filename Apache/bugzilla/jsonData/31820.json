[{"count": 0, "tags": [], "bug_id": 31820, "attachment_id": null, "id": 65409, "time": "2004-10-21T03:43:11Z", "creator": "gaojun1020@yahoo.com", "creation_time": "2004-10-21T03:43:11Z", "is_private": false, "text": "When deleting a folder with certain permissions assigned, NullpointerException\nwill be thrown.\n\nI did some debug and found the error is in \norg.apache.slide.store.impl.rdbms.CommonRDBMSAdapter.revokePermission(\nConnection connection, Uri uri, NodePermission permission)\n\nwhen executing statement.setString(4, revisionNumber.toString(), it found \nrevisionNumber is null.\n\nI don't understand why permission has a revision no and I found in the table\nPERMISSIONS all records' VERSION_NO(I assume this is the revision no) columns \nare having \"null\" values. I think this is a bug."}, {"count": 1, "tags": [], "bug_id": 31820, "attachment_id": null, "is_private": false, "id": 65414, "time": "2004-10-21T06:07:25Z", "creator": "masonjm@apache.org", "creation_time": "2004-10-21T06:07:25Z", "text": "I have a patch for this at work. I'll take care of it tomorrow."}, {"count": 2, "tags": [], "bug_id": 31820, "attachment_id": null, "id": 65466, "time": "2004-10-21T19:56:45Z", "creator": "ozeigermann@apache.org", "creation_time": "2004-10-21T19:56:45Z", "is_private": false, "text": "Why not just doing this:\n\n            statement.setString(4, revisionNumber == null ? null :\nrevisionNumber.toString());"}, {"text": "I fixed this issue in StandardRDBMSAdapter some time ago like so:\nhttp://article.gmane.org/gmane.comp.jakarta.slide.devel/9797/", "tags": [], "creator": "unico@hippo.nl", "attachment_id": null, "count": 3, "id": 65491, "time": "2004-10-22T11:01:41Z", "bug_id": 31820, "creation_time": "2004-10-22T11:01:41Z", "is_private": false}, {"text": "I've committed the fix I mentioned above. Please cross-check and close.", "tags": [], "creator": "unico@hippo.nl", "attachment_id": null, "count": 4, "id": 66172, "time": "2004-10-30T16:07:53Z", "bug_id": 31820, "creation_time": "2004-10-30T16:07:53Z", "is_private": false}]