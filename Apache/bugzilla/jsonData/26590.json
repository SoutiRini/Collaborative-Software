[{"count": 0, "tags": [], "creator": "pscream@mail.ru", "attachment_id": null, "is_private": false, "id": 51573, "time": "2004-02-02T08:36:53Z", "bug_id": 26590, "creation_time": "2004-02-02T08:36:53Z", "text": "Hi to everybody who takes care on this beautiful software !\n\n  Environment:\n         GNU/Debian Linux 3.0\n         FOP 0.20.5\n\n  As I working with cyrrilic fonts I have troubles with winansi fonts.\n  I know it doesn't support cyrrilic encoding (WINDOWS-1251), and\n  supports only Latin1 character set. Meanwhile CID fonts are not\n  supported properly as for copy-paste/find operation is PDF. So I was\n  forced to make \"cyrrilic\" ttf within first 256 character and replace\n  last 128 ones with \"cyrrilic\" symbols.\n\n  Now I can work (copy-paste/find) with latin characters and see\n  cyrrilic characters in winansi encoding. While I was experimenting I\n  found a bug. Fop 0.20.5 doesn't calculate the width of the last\n  character (0xFF). Since, there is no need in the latin charset to\n  see this character, nobody knows about this bug.\n\n  I found the solution:\n  please refer\n  \n  src/org/apache/fop/render/pdf/fonts/SingleByteFont.java line 268\n  System.arraycopy(width, 0, arr, 0, width.length - 1);\n  \n  and\n\n  src/org/apache/fop/render/pdf/fonts/MultiByteFont.java line 328\n  System.arraycopy(width, 0, arr, 0, width.length - 1);\n\n  I belive there should be \"width.length\" instead of \"width.length - 1\".\n\n  However it doesn't resolve the problem in full. I can see cyrrilic\n  characters, but still can't operate with them. \n  Can anybody advise me ?\n  Should I wait for official release which works with CID properly ?\n  or there is another solution ?\n\nThanks\n-------\nPavel Kud"}, {"count": 1, "tags": [], "creator": "vic@outfitr.com", "attachment_id": null, "is_private": false, "id": 65111, "time": "2004-10-14T05:27:23Z", "bug_id": 26590, "creation_time": "2004-10-14T05:27:23Z", "text": "This bug has been fixed in FOray's CVS. FOray directly parses the font and font \nmetrics files (PFM & AFM) instead of using an intermediate XML file, so the \nneed for the arraycopy goes away entirely.\n\nAlso, the bigger issue of having CID fonts supported for cut/paste/search, \netc., which is a duplicate of issue 5335, has been fixed in FOray. See \nhttp://www.foray.org/release.html for details."}]