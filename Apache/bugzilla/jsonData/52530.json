[{"count": 0, "tags": [], "creator": "giuseppe@eppesuigoccas.homedns.org", "attachment_id": null, "text": "Dear tomcat developers,\nI need to map the same servlet on two different url. I used netbeans 7.0.1 for managing my whole project, so I used its friendly interface to modify the web.xml file. What netbeans created is this:\n\n<servlet-mapping>\n    <servlet-name>fred</servlet-name>\n    <url-pattern>*.jsp</url-pattern>\n    <url-pattern>/url</url-pattern>\n</servlet-mapping>\n\nThis is read by tomcat 5.5 without emitting any error, but only the second pattern works, while the first one is ignored.\n\nGoogling I found that the right way for tomcat 5.5 is this one:\n\n<servlet-mapping>\n    <servlet-name>fred</servlet-name>\n    <url-pattern>*.jsp</url-pattern>\n</servlet-mapping>\n<servlet-mapping>\n    <servlet-name>fred</servlet-name>\n    <url-pattern>/url</url-pattern>\n</servlet-mapping>\n\nAnd this seems to be right way because tomcat 5.5 is bound to Servlet 2.4.\n\nSpec for Servlet 2.5, on note SRV.19.0.3 titled \u00abMultiple Occurrences of Servlet Mappings\u00bb, says:\n\n    Previous versions of the servlet schema allows only a single url-pattern or servlet name per servlet mapping. For servlets mapped to multiple URLs this results in needless repetition of whole mapping clauses.\n\nSo, I think tomcat 5.5 should emit an error for this broken web.xml file.\n\nThanks,\nGiuseppe", "id": 153159, "time": "2012-01-25T21:29:39Z", "bug_id": 52530, "creation_time": "2012-01-25T21:29:39Z", "is_private": false}, {"count": 1, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": null, "id": 153170, "creation_time": "2012-01-25T23:06:00Z", "time": "2012-01-25T23:06:00Z", "bug_id": 52530, "text": "1. Tomcat 5.5 implements Servlet Specification 2.4 [1]\nThe syntax you tried to use was introduced in 2.5.\n2. Tomcat 5.5 is near its end of life. New features won't be implemented.\n3. Tomcat 7 does validation of web.xml against schema if you enable STRICT_SERVLET_COMPLIANCE mode.\n\n[1] http://tomcat.apache.org/whichversion.html", "is_private": false}, {"count": 2, "tags": [], "creator": "giuseppe@eppesuigoccas.homedns.org", "attachment_id": null, "id": 153176, "creation_time": "2012-01-26T08:29:11Z", "time": "2012-01-26T08:29:11Z", "bug_id": 52530, "text": "Hi Konstantin,\nthanks for your quick reply. I am unsure about the reason for marking it RESOLVED and INVALID, since I think the problem is still there. Let's recap what you wrote:\n\n> 1. Tomcat 5.5 implements Servlet Specification 2.4 [1]\n> The syntax you tried to use was introduced in 2.5.\n\nOk, this is what I already wrote in my report.\n\n> 2. Tomcat 5.5 is near its end of life. New features won't be implemented.\n\nThis is something new for me. Is there any date for ending support on tomcat 5.5?\nIs a bugfix really cataloged as \"new feature\"?\n\n> 3. Tomcat 7 does validation of web.xml against schema if you enable\n> STRICT_SERVLET_COMPLIANCE mode.\n\nI don't need web.xml validation, and I am not using tomcat7. So this is useless.\n\nIf you really think this is a minor bug and do not want to fix it because tomcat 5.5 is not end of life, just mark it as VERIFIED and WONTFIX.\n\nThanks,\nGiuseppe", "is_private": false}, {"count": 3, "tags": [], "bug_id": 52530, "attachment_id": null, "id": 153184, "time": "2012-01-26T11:15:16Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2012-01-26T11:15:16Z", "is_private": false, "text": "(In reply to comment #2)\n> > 2. Tomcat 5.5 is near its end of life. New features won't be implemented.\n> \n> This is something new for me. Is there any date for ending support on tomcat\n> 5.5?\n\nIt is mentioned in many places. Direct link:\n\nhttp://tomcat.apache.org/tomcat-55-eol.html\n\n> Is a bugfix really cataloged as \"new feature\"?\n\nIf you deploy a broken web application, the behaviour might be undefined."}]