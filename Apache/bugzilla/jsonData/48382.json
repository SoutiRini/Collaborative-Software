[{"count": 0, "tags": [], "bug_id": 48382, "attachment_id": null, "id": 132781, "time": "2009-12-11T13:01:44Z", "creator": "mgainty@hotmail.com", "creation_time": "2009-12-11T13:01:44Z", "is_private": false, "text": "http://download.oracle.com/docs/cd/E13226_01/workshop/docs81/doc/en/core/index.html\n\nthe documentation states:\n\nThe name of the Recording bean is given in the definition of that bean:\n\n/**\n * @ejbgen:entity prim-key-class=\"bands.RecordingBeanPK\" \n *   ejb-name = \"Recording\"\n *   data-source-name=\"cgSampleDataSource\"\n *   table-name=\"recording_Sample\"\n *   abstract-schema-name = \"Recording\"\n *\n * ...\n*/\nabstract public class RecordingBean extends GenericEntityBean implements EntityBean\n{\n  //put something useful here\n}\n\n//and here is the ant script target we need to invoke\n<!-- build split-dir components -->\n  <target name=\"build.split.dir\" depends=\"banner, prepare\">\n    <!-- Build worker components first -->\n    <wlcompile srcdir=\"${medrec.ear.src.dir}\" destdir=\"${dest.dir}\"\n               includes=\"entityEjbs, mainWebApp\">\n      <!-- ejbgen source=\"${sourceVersion}\"/ -->\n      <ejbgen outputdir=\"ejb-gen\" forceGeneration=\"no\" source=\"1.6\">\n      <classpath>\n        <pathelement location=\"$WL_HOME/tools/eclipse_pkgs/1.1/pkgs\\eclipse/plugins/com.bea.workshop.upgrade81.thirdparty_1.0.20.200904250235\\lib\\ejbgen.jar\"/>\n        <pathelement location=\"$WL_HOME/samples/server/medrec/build/swing_client/wsclient\"/>\n        <pathelement location=\"$WL_HOME/samples/server/medrec/build/medrec/controller\"/>\n      </classpath>\n      <fileset dir=\"$WL_HOME/samples/server/medrec/src/medrecEar/entityEjbs/com/bea/medrec/entities\" includes=\"VitalSignsEJB.ejb\" />\n      <fileset dir=\"$WL_HOME/samples/server/medrec/src/medrecEar/entityEjbs/com/bea\\medrec/entities\" includes=\"PhysicianEJB.ejb\" />\n      <fileset dir=\"$WL_HOME/samples/server/medrec/src/medrecEar/entityEjbs/com\\bea\\medrec/entities\" includes=\"PrescriptionEJB.ejb\" />\n      <fileset dir=\"$WL_HOME/samples/server/medrec/src/medrecEar/entityEjbs/com/bea/medrec/entities\" includes=\"RecordEJB.ejb\" />\n      <fileset dir=\"$WL_HOME/samples/server/medrec/src/medrecEar/entityEjbs/com/bea\\medrec/entities\" includes=\"GroupEJB.ejb\" />\n      <fileset dir=\"$WL_HOME/samples/server/medrec/src/medrecEar/entityEjbs/com/bea\\medrec/entities\" includes=\"PatientEJB.ejb\" />\n      <fileset dir=\"$WL_HOME/samples/server/medrec/src/medrecEar/entityEjbs/com/bea/medrec/entities\" includes=\"RecordingBean.ejb\" />\n      </ejbgen>\n  \nproduces this exception:\nbuild.split.dir:\n   [ejbgen] Exception in thread \"main\" java.lang.RuntimeException: Unknown javad\noc problem: result=1, root=null:\n   [ejbgen] Loading source file $TEMP/RecordingBean.java...\n   [ejbgen] $TEMP/RecordingBean.java:13: illegal start of type\n   [ejbgen]    ...\n   [ejbgen]    ^\n   [ejbgen] $TEMP/RecordingBean.java:13: ';' expected\n   [ejbgen]    ...\n   [ejbgen]       ^\n   [ejbgen] $TEMP/RecordingBean.java:14: reached end of file while parsing\n   [ejbgen] }\n   [ejbgen]  ^\n   [ejbgen] 3 errors\n\n   [ejbgen]     at com.bea.util.jam.internal.javadoc.JavadocRunner.run(JavadocRu\nnner.java:154)\n   [ejbgen]     at com.bea.util.jam.internal.javadoc.JavadocClassBuilder.initJav\nadoc(JavadocClassBuilder.java:269)\n   [ejbgen]     at com.bea.util.jam.internal.javadoc.JavadocClassBuilder.init(Ja\nvadocClassBuilder.java:96)\n   [ejbgen]     at com.bea.util.jam.provider.CompositeJamClassBuilder.init(Compo\nsiteJamClassBuilder.java:45)\n   [ejbgen]     at com.bea.util.jam.provider.JamServiceFactoryImpl.createBuilder\n(JamServiceFactoryImpl.java:178)\n   [ejbgen]     at com.bea.util.jam.provider.JamServiceFactoryImpl.createClassLo\nader(JamServiceFactoryImpl.java:137)\n   [ejbgen]     at com.bea.util.jam.provider.JamServiceFactoryImpl.createService\n(JamServiceFactoryImpl.java:78)\n   [ejbgen]     at com.bea.sgen.loader.JClassLoaderImpl.load(JClassLoaderImpl.ja\nva:107)\n   [ejbgen]     at com.bea.sgen.SGen.run(SGen.java:190)\n   [ejbgen]     at com.bea.wls.ejbgen.EJBGen.main(EJBGen.java:212)\n   [ejbgen]     at com.bea.wls.ejbgen.EJBGen.main(EJBGen.java:238)\n   [ejbgen]     at weblogic.tools.ejbgen.EJBGen.main(EJBGen.java:21)\n    [javac] Compiling 9 source files to E:\\Weblogic\\WEBLOG~3\\wlserver_10.0\\sampl\n\n//commenting out the last test RecordingBeanEJB.ejb \nbuild.split.dir:\n   [ejbgen] EJBGen WebLogic Server 10.0 SP2  Sat Apr 25 01:45:38 EDT 2009 121394\n2\n   [ejbgen]  Warning:  No EJBGen file found!\n    [javac] Compiling 8 source files to E:\\Weblogic\\WEBLOG~3\\wlserver_10.0\\sampl\nes\\server\\medrec\\build\\medrecEar\\entityEjbs\n   [ejbgen] EJBGen WebLogic Server 10.0 SP2  Sat Apr 25 01:45:38 EDT 2009 121394\n2\n\n   [ejbgen]  Creating E:\\Weblogic\\WEBLOG~3\\wlserver_10.0\\samples\\server\\medrec\\b\nuild\\medrecEar\\sessionEjbs\\com\\bea\\medrec\\controller\\AdminSessionHome.java\n   [ejbgen]  Creating E:\\Weblogic\\WEBLOG~3\\wlserver_10.0\\samples\\server\\medrec\\b\nuild\\medrecEar\\sessionEjbs\\com\\bea\\medrec\\controller\\RecordSessionHome.java\n   [ejbgen]  Creating E:\\Weblogic\\WEBLOG~3\\wlserver_10.0\\samples\\server\\medrec\\b\nuild\\medrecEar\\sessionEjbs\\com\\bea\\medrec\\controller\\PatientSessionHome.java\n   [ejbgen]  Creating E:\\Weblogic\\WEBLOG~3\\wlserver_10.0\\samples\\server\\medrec\\b\nuild\\medrecEar\\sessionEjbs\\com\\bea\\medrec\\controller\\MailSessionHome.java\n   [ejbgen]  Creating E:\\Weblogic\\WEBLOG~3\\wlserver_10.0\\samples\\server\\medrec\\b\nuild\\medrecEar\\sessionEjbs\\com\\bea\\medrec\\controller\\AdminSession.java\n   [ejbgen]  Creating E:\\Weblogic\\WEBLOG~3\\wlserver_10.0\\samples\\server\\medrec\\b\nuild\\medrecEar\\sessionEjbs\\com\\bea\\medrec\\controller\\RecordSession.java\n   [ejbgen]  Creating E:\\Weblogic\\WEBLOG~3\\wlserver_10.0\\samples\\server\\medrec\\b\nuild\\medrecEar\\sessionEjbs\\com\\bea\\medrec\\controller\\PatientSession.java\n   [ejbgen]  Creating E:\\Weblogic\\WEBLOG~3\\wlserver_10.0\\samples\\server\\medrec\\b\nuild\\medrecEar\\sessionEjbs\\com\\bea\\medrec\\controller\\MailSession.java\n   [ejbgen]  Creating E:\\Weblogic\\WEBLOG~3\\wlserver_10.0\\samples\\server\\medrec\\b\nuild\\medrecEar\\sessionEjbs\\\\ejb-jar.xml\n   [ejbgen] /C:/TEMP/com/bea/medrec/controller/AdminSessionEJB.java:82: Warning:\n  EJB Local Reference 'ejb/local/prescription' doesn't have a JNDI name.  Not ge\nnerating <ejb-local-reference-descriptor> for it.\n\n\n//i thought the folks at weblogic might have mis-interpreted the doc\n//so i went back to the original testcase from cedric\nhttp://beust.com/ejbgen\n\njava -classpath ejbgen.jar;$JAVA_HOME/lib/tools.jar;$WL_HOME/samples/domains/medrec/security/MedRecDBMSPlugin.jar;$WL_HOME/server/lib/weblogic.jar;$WL_HOME/samples/server/medrec/build/swing_client/wsclient;$WL_HOME/samples/server/medrec/build/medrecEar/sessionEjbs;$WL_HOME/samples/server/medrec/build/medrecEar/entityEjbs;$WL_HOME/samples/domains/medrec/security/MedRecDBMSPlugin.jar;$WL_HOME/server/lib/weblogic.jar;%CLASSPATH%;$JAVAMAIL_HOME/mail-1.3.3.jar;$JAF_HOME/jaf-1.1/activation.jar;$AXIS_2_15/lib/axis2-codegen-1.5.jar;.;$ANT_HOME/lib/ant.jar;$JUNIT_HOME/junit-4.7.jar;%CLASSPATH%  \nweblogic.tools.ejbgen.EJBGen AccountBean.java\n\nException in thread \"main\" java.lang.NoSuchMethodError: com.sun.javadoc.Annotati\nonDesc.memberValues()[Lcom/sun/javadoc/AnnotationDesc$MemberValuePair;\n        at com.bea.util.jam.internal.java15.Javadoc15DelegateImpl.populateAnnota\ntion(Javadoc15DelegateImpl.java:93)\n        at com.bea.util.jam.internal.java15.Javadoc15DelegateImpl.extractAnnotat\nions(Javadoc15DelegateImpl.java:85)\n        at com.bea.util.jam.internal.java15.Javadoc15DelegateImpl.extractAnnotat\nions(Javadoc15DelegateImpl.java:60)\n        at com.bea.util.jam.internal.javadoc.JavadocClassBuilder.addAnnotations(\nJavadocClassBuilder.java:338)\n        at com.bea.util.jam.internal.javadoc.JavadocClassBuilder.populate(Javado\ncClassBuilder.java:246)\n        at com.bea.util.jam.internal.javadoc.JavadocClassBuilder.populate(Javado\ncClassBuilder.java:211)\n        at com.bea.util.jam.provider.CompositeJamClassBuilder.populate(Composite\nJamClassBuilder.java:62)\n        at com.bea.util.jam.internal.JamClassLoaderImpl.loadClass(JamClassLoader\nImpl.java:95)\n        at com.bea.util.jam.annotation.AnnotationProxy.initFromJavadocTag(Annota\ntionProxy.java:137)\n        at com.bea.util.jam.internal.elements.AnnotatedElementImpl.addAnnotation\nForTag(AnnotatedElementImpl.java:158)\n        at com.bea.util.jam.internal.javadoc.JavadocClassBuilder.addAnnotations(\nJavadocClassBuilder.java:332)\n        at com.bea.util.jam.internal.javadoc.JavadocClassBuilder.populate(Javado\ncClassBuilder.java:246)\n        at com.bea.util.jam.internal.javadoc.JavadocClassBuilder.populate(Javado\ncClassBuilder.java:230)\n        at com.bea.util.jam.internal.javadoc.JavadocClassBuilder.populate(Javado\ncClassBuilder.java:214)\n        at com.bea.util.jam.provider.CompositeJamClassBuilder.populate(Composite\nJamClassBuilder.java:62)\n        at com.bea.util.jam.internal.JamClassLoaderImpl.loadClass(JamClassLoader\nImpl.java:95)\n        at com.bea.util.jam.internal.JamServiceImpl.getAllClasses(JamServiceImpl\n.java:67)\n        at com.bea.sgen.SGen.loadClassesNew(SGen.java:331)\n        at com.bea.sgen.SGen.run(SGen.java:187)\n        at com.bea.wls.ejbgen.EJBGen.main(EJBGen.java:303)\n        at com.bea.wls.ejbgen.EJBGen.main(EJBGen.java:311)\n        at weblogic.tools.ejbgen.EJBGen.main(EJBGen.java:21)\n\n\nand the contents of the 1.6 tools.jar javap ./com/sun/javadoc/AnnotationDesc\nCompiled from \"AnnotationDesc.java\"\npublic interface com.sun.javadoc.AnnotationDesc{\n    public abstract com.sun.javadoc.AnnotationTypeDoc annotationType();\n    public abstract com.sun.javadoc.AnnotationDesc$ElementValuePair[] elementVal\nues();\n}\n\nits clear ElementValuePair has substituted in memberValuePair\n\ncom.sun.javadoc.Annotati\nonDesc.memberValues()[Lcom/sun/javadoc/AnnotationDesc$MemberValuePair;\n\nthis is a P1 bug\nEnvironment:\nANT 1.71\n\nWeblogic 10.3\n\njava -version\njava version \"1.6.0_16\"\nJava(TM) SE Runtime Environment (build 1.6.0_16-b01)\nJava HotSpot(TM) Client VM (build 14.2-b01, mixed mode)\n\nI will file a JIRA\n\nthank you\nMartin Gainty"}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "text": "Martin, the task in question is not developed by the Ant community - I don't see a single Ant class in the stack traces you've provided.\n\nI'm closing this as invalid since there I don't see how we could help here.", "id": 133668, "time": "2010-01-17T21:14:06Z", "bug_id": 48382, "creation_time": "2010-01-17T21:14:06Z", "is_private": false, "attachment_id": null}]