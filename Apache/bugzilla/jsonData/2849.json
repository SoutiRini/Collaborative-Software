[{"count": 0, "tags": [], "bug_id": 2849, "attachment_id": null, "is_private": false, "id": 4077, "time": "2001-07-26T20:17:20Z", "creator": "Peter.Binney@drkw.com", "creation_time": "2001-07-26T20:17:20Z", "text": "I have a basic, clearly well formed XML file, that crashes both the 1.2.3 and \n1.4.1 parsers. The only slight oddity in the file is that there is no \"line \nending\" after the terminating root element.\nIf I add a line end (eg: CR/LF pair), the document parses fine.\n\nThe errors I get from a Java program consisting of:\n            DocumentBuilder documentBuilder =\n                DocumentBuilderFactory.newInstance().newDocumentBuilder();\n            documentBuilder.parse(new File(filename));\nare:\n\nfrom 1.2.3\n----------\njava.lang.ArrayIndexOutOfBoundsException\n        at org/apache/xerces/framework/XMLParser.parse (XMLParser.java:965)\n        at org/apache/xerces/jaxp/DocumentBuilderImpl.parse \n(DocumentBuilderImpl.java:124)\n        at javax/xml/parsers/DocumentBuilder.parse (DocumentBuilder.java:209)\n\nfrom 1.2.3\n----------\norg.xml.sax.SAXParseException: The encoding \"ISO-8859-1\" is not supported.\n        at org/apache/xerces/framework/XMLParser.reportError \n(XMLParser.java:1196)\n        at \norg/apache/xerces/readers/DefaultEntityHandler.startReadingFromDocument \n(DefaultEntityHandler.java:\n549)\n        at org/apache/xerces/framework/XMLParser.parseSomeSetup \n(XMLParser.java:312)\n        at org/apache/xerces/framework/XMLParser.parse (XMLParser.java:1080)\n        at org/apache/xerces/jaxp/DocumentBuilderImpl.parse \n(DocumentBuilderImpl.java:196)\n        at javax/xml/parsers/DocumentBuilder.parse (DocumentBuilder.java:210)\n\n\nPlease let me know where I can mail you a copy of the file, so you can fix the \nproblem."}, {"count": 1, "tags": [], "bug_id": 2849, "attachment_id": null, "is_private": false, "id": 4079, "time": "2001-07-27T00:59:27Z", "creator": "Peter.Binney@drkw.com", "creation_time": "2001-07-27T00:59:27Z", "text": "The second \"from 1.2.3\" in the Description should read \"from 1.4.1\"."}, {"count": 2, "tags": [], "bug_id": 2849, "attachment_id": null, "text": "You can provide the data file at an attachment to the bug report.  It is the \nlink directly above the additional comments link.  From the described behavior I \nwould guess that it is a case of mismatched or missing quote characters in your \nXML declaration, but I cannot be sure without seeing the data file.\n", "id": 4084, "time": "2001-07-27T06:04:10Z", "creator": "gmarcy@us.ibm.com", "creation_time": "2001-07-27T06:04:10Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 2849, "attachment_id": 364, "id": 4085, "creation_time": "2001-07-27T06:27:11Z", "time": "2001-07-27T06:27:11Z", "creator": "Peter.Binney@drkw.com", "text": "Created attachment 364\nZip of the XML data file that crashes the parser", "is_private": false}, {"count": 4, "tags": [], "creator": "Peter.Binney@drkw.com", "text": "The \"encoding not supported\" error in 1.4 happens with both versions I've tried \n(1.4.1 and 1.4.4) with the sample classes:\n\nWith 1.4.1\n----------\n+ jview sax.SAX2Count toApache/XercesBug2849.xml\n[Fatal Error] :0:0: The encoding \"ISO-8859-1\" is not supported.\norg.xml.sax.SAXException: Stopping after fatal error: The encoding \"ISO-8859-1\" \nis not supported.\n        at org/apache/xerces/framework/XMLParser.reportError \n(XMLParser.java:1228)\n        at \norg/apache/xerces/readers/DefaultEntityHandler.startReadingFromDocument \n(DefaultEntityHandler.java:549)\n        at org/apache/xerces/framework/XMLParser.parseSomeSetup \n(XMLParser.java:312)\n        at org/apache/xerces/framework/XMLParser.parse (XMLParser.java:1080)\n        at org/apache/xerces/framework/XMLParser.parse (XMLParser.java:1122)\n        at sax/SAX2Count.print (SAX2Count.java:152)\n        at sax/SAX2Count.main (SAX2Count.java:330)\n\n+ jview dom.DOMCount toApache/XercesBug2849.xml\n[Fatal Error] :0:0: The encoding \"ISO-8859-1\" is not supported.\n\n\nWith 1.4.4\n----------\n+ jview sax.SAX2Count toApache/XercesBug2849.xml\n[Fatal Error] :0:0: The encoding \"ISO-8859-1\" is not supported.\norg.xml.sax.SAXException: Stopping after fatal error: The encoding \"ISO-8859-1\" \nis not supported.\n        at org/apache/xerces/framework/XMLParser.reportError \n(XMLParser.java:1245)\n        at \norg/apache/xerces/readers/DefaultEntityHandler.startReadingFromDocument \n(DefaultEntityHandler.java:554)\n        at org/apache/xerces/framework/XMLParser.parseSomeSetup \n(XMLParser.java:314)\n        at org/apache/xerces/framework/XMLParser.parse (XMLParser.java:1097)\n        at org/apache/xerces/framework/XMLParser.parse (XMLParser.java:1138)\n        at sax/SAX2Count.print (SAX2Count.java:152)\n        at sax/SAX2Count.main (SAX2Count.java:330)\n\n+ jview dom.DOMCount toApache/XercesBug2849.xml\n[Fatal Error] :0:0: The encoding \"ISO-8859-1\" is not supported.", "id": 8188, "time": "2001-11-22T03:56:40Z", "bug_id": 2849, "creation_time": "2001-11-22T03:56:40Z", "is_private": false, "attachment_id": null}]