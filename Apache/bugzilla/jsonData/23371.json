[{"count": 0, "tags": [], "creator": "netshark@sharkplanet.com", "attachment_id": null, "id": 44536, "time": "2003-09-23T20:59:15Z", "bug_id": 23371, "creation_time": "2003-09-23T20:59:15Z", "is_private": false, "text": "I have to run Tomcat standalone as user e.g tomcat (non-root) on port 443.\nBut the server doesn't start (not able to bind port 443).\nWith 8443 everything works fine.\n\nWhy can't tomcat do that like apache ?\n\nThanks for hints or help.\n\nI'm running Version 4.1.27 on SuSE 8.2 with SUN Java 2 Standard Edition (build\n1.4.1_02-b06)\n\nregards,\n\nDamian"}, {"count": 1, "tags": [], "creator": "funkman@joedog.org", "attachment_id": null, "id": 44551, "time": "2003-09-23T23:06:10Z", "bug_id": 23371, "creation_time": "2003-09-23T23:06:10Z", "is_private": false, "text": "See the faq http://jakarta.apache.org/tomcat/faq/security.html\nsubstitute 443 anytime anyone says 80\n\nPlease follow up with tomcat-user if you have more questions."}, {"count": 2, "tags": [], "bug_id": 23371, "attachment_id": null, "is_private": false, "id": 44560, "time": "2003-09-24T05:18:28Z", "creator": "hauser@acm.org", "creation_time": "2003-09-24T05:18:28Z", "text": "Tim, Thanks for the quick reply.\n\nUnfortunately, on the page you reference I don't see port 80 mentioned.\n- \"How to I force all my pages to run under HTTPS?\"\nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=23371 mentions\nsecurity-constraints in web.xml once a httpd has taken port 80 and 443, but not\nhow I can convince linux to give a port < 1000 to a non-root user in the first\nplace.\n\n- \"Tomcat as root and security issues\" basically mentions squid or other port\nforwarders... ==> if the answer is that Tomcat can't run under 443 or 80\nstandalone as non-root, then, my suggestion is to add another paragraph to the\nsecurity FAQ!\n\nLooking around for similar useful information, for example\nhttp://jakarta.apache.org/tomcat/tomcat-4.1-doc/RUNNING.txt only hints at port\n8080 but not sub 1000 ports.\n\nIn many environments firewalls restrict outgoing traffic to 80 and 443. Does\nthis mean that all the users of these environments can never see a standalone\ntomcat site?\n\nOr, at least has anybody built and successfully deployed a chroot'ing\nstarter-utility that could be easily used for this as a second-best fix?"}, {"count": 3, "tags": [], "bug_id": 23371, "attachment_id": null, "text": "Please do not use BZ for user support !!!!!! Post on tomcat-user.", "id": 44563, "time": "2003-09-24T05:26:41Z", "creator": "remm@apache.org", "creation_time": "2003-09-24T05:26:41Z", "is_private": false}, {"count": 4, "tags": [], "creator": "netshark@sharkplanet.com", "attachment_id": null, "id": 44566, "time": "2003-09-24T06:17:06Z", "bug_id": 23371, "creation_time": "2003-09-24T06:17:06Z", "is_private": false, "text": "thanks for the fast answers; of course I've read before the security faq; but\nthere are no answers for my question.\n\nSo I'll give a try on tomcat-user.\n\nBut I still think it's a bug. In Apache the start fahther process runs as root\nbut everything else under the users I configured in the conf file.\n\nThat's the way it has to be - in my opinion - in Catalina too.\n\nregards \n\nDamian"}, {"count": 5, "tags": [], "creator": "hauser@acm.org", "text": "Do you basically say documentation RFEs do not go into Bugzilla, but on the\nmailing list?", "id": 44567, "time": "2003-09-24T06:29:07Z", "bug_id": 23371, "creation_time": "2003-09-24T06:29:07Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 23371, "attachment_id": null, "is_private": false, "id": 44580, "time": "2003-09-24T11:23:35Z", "creator": "funkman@joedog.org", "creation_time": "2003-09-24T11:23:35Z", "text": "REAL Bugs are for Bugzilla. \n\nQuestions are for tomcat-user.  The tomcat users will tell you if your issue is\na truely a bug or a user error.\n\nNon-root users cannot bind to ports less than 1024 on any *nix OS. A long\nstanding fact for decades."}, {"count": 7, "tags": [], "bug_id": 23371, "attachment_id": null, "text": "On the mailing list, Remy provided a forward-thinking hint that I hope can make\nit into the security FAQ as an own entry #5:\n\n<<How to run tomcat on 80/443 (i.e. sub1024) port without root privileges? The\noptions are at least:\n1) use \"jsvc\" from the commons-daemon project (perhaps requires to migrate to\ntomcat 5 - haven't tested it) as per\nhttp://jakarta.apache.org/tomcat/tomcat-5.0-doc/setup.html\n2) use some kind of port forwarder/caching like squid [link]\n3) use apache as front end [Link here]>>\n\nThanks Remy!", "id": 44639, "time": "2003-09-25T04:57:14Z", "creator": "hauser@acm.org", "creation_time": "2003-09-25T04:57:14Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 23371, "attachment_id": null, "text": "Still not sure why this is open. (Unless it is a defect in the FAQ per the last\nentry, in which case please open a new case with patch)", "id": 49022, "time": "2003-12-12T22:29:05Z", "creator": "funkman@joedog.org", "creation_time": "2003-12-12T22:29:05Z", "is_private": false}]