[{"count": 0, "tags": [], "bug_id": 32849, "attachment_id": null, "id": 69014, "time": "2004-12-27T17:52:37Z", "creator": "Dick.Snippe@tech.omroep.nl", "creation_time": "2004-12-27T17:52:37Z", "is_private": false, "text": "When mod_mem_cache is used in combination with ProxyPass as a reverse proxy,\nCacheDisable appears to disable caching entirely.\nExcample:\n\nCacheDisable /dontcachethis\nProxyPass / http://somewhere.else/\n\nNow hits on e.g. /cachethat aren't cached anymore.\nWhen the CacheDisable line is removed, hits on /cachethat\nare cached again.\n\nI think the error is in line 90 of cache_util.c:\nif ((ent[i].url) && !strncasecmp(url, ent[i].url, ent[i].urllen)) \n\nit should read:\nif ((ent[i].url) && strncasecmp(url, ent[i].url, ent[i].urllen))"}, {"text": "Ahem. !strncasecmp is correct of course, but\nthe value of ent[i].urllen appears to be 0, so\nstrncasecmp will always return 0.\n", "tags": [], "bug_id": 32849, "is_private": false, "count": 1, "id": 69015, "time": "2004-12-27T18:14:55Z", "creator": "Dick.Snippe@tech.omroep.nl", "creation_time": "2004-12-27T18:14:55Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "And urllen == 0 because of a type error:\nin mod_cache.c, function add_cache_disable, around line\n838 it states:\n    struct cache_enable *new;\nthis needs to be\n     struct cache_disable *new;\nbecause cache_disable and cache_enable are of a different type\n(and hence the remainder of the struct is not copied later on\nand the urllen value is uninitialised at 0.", "is_private": false, "id": 69021, "creator": "Dick.Snippe@tech.omroep.nl", "time": "2004-12-28T00:36:29Z", "bug_id": 32849, "creation_time": "2004-12-28T00:36:29Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 32849, "attachment_id": null, "id": 69022, "time": "2004-12-28T03:05:21Z", "creator": "chip@force-elite.com", "creation_time": "2004-12-28T03:05:21Z", "is_private": false, "text": "This was already fixed in the 2.0 branch, and will be in the next 2.0.x release. \n\nThanks for using Apache."}, {"count": 4, "tags": [], "creator": "chip@force-elite.com", "text": "\n\n*** This bug has been marked as a duplicate of 31128 ***", "id": 69023, "time": "2004-12-28T03:11:30Z", "bug_id": 32849, "creation_time": "2004-12-28T03:11:30Z", "is_private": false, "attachment_id": null}]