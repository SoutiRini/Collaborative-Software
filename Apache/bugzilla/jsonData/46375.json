[{"count": 0, "tags": [], "bug_id": 46375, "attachment_id": null, "id": 123224, "time": "2008-12-10T07:26:22Z", "creator": "i.galic@brainsware.org", "creation_time": "2008-12-10T07:26:22Z", "is_private": false, "text": "It says in http://httpd.apache.org/docs/2.2/mod/core.html#sethandler\n\n\"You can override an earlier defined SetHandler directive by using the value None.\"\n\nHowever that does not correspond to my experience:\n\n# Server Context:\n<FilesMatch \\.php$>\n        SetHandler application/x-httpd-php\n        AddType text/html .php\n        AddType application/xhtml+xml;qs=0.8 .php\n</FilesMatch>\n\n<VirtualHost 127.0.0.1:8006>\n    ServerName http://somevhosthere:80\n    DocumentRoot    /srv/web/somevhosthere/htdocs\n    php_admin_value open_basedir /srv/web/somevhosthere/:/usr/share/pear/\n    php_admin_value session.save_path /srv/web/somevhosthere/session/\n    php_admin_value upload_tmp_dir /srv/web/somevhosthere/tmp/\n    <Directory /srv/web/somevhosthere/htdocs/contents>\n        SetHandler None                      # Does not work\n        RemoveHandler php .php phps .phps    # Does not work\n        php_admin_flag engine off            # Does not work\n        AllowOverride None\n        <Files *.php>\n                SetHandler none              # Works\n        </Files>\n    </Directory>\n</VirtualHost>"}, {"attachment_id": null, "tags": [], "bug_id": 46375, "is_private": false, "count": 1, "id": 123225, "time": "2008-12-10T07:35:32Z", "creator": "covener@gmail.com", "creation_time": "2008-12-10T07:35:32Z", "text": "It's earlier in the context of how the configuation is merged, not \"earlier\" in the config file:\n\nhttp://httpd.apache.org/docs/2.2/sections.html#mergin"}, {"count": 2, "tags": [], "creator": "i.galic@brainsware.org", "is_private": false, "text": "In my previous post you see that the first <FilesMatch \\.php$>, doing the SetHandler *is* in the *ServerContext*:\n\nhttp://httpd.apache.org/docs/2.2/sections.html#mergin perfectly agrees with the previous paste from the docs:\n\n\"Sections inside <VirtualHost> sections are applied after the corresponding sections outside the virtual host definition. This allows virtual hosts to override the main server configuration.\"\n\n\nHowever, why do I have to specify the \"SetHandler None\" in a <Files *.php> container, to make it work?\n\nI would expect that a SetHandler None in <Directory> would simply remove all handlers.\n\nIs that a misconception?", "id": 123228, "time": "2008-12-10T07:58:56Z", "bug_id": 46375, "creation_time": "2008-12-10T07:58:56Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 46375, "attachment_id": null, "is_private": false, "id": 123229, "time": "2008-12-10T08:24:58Z", "creator": "covener@gmail.com", "creation_time": "2008-12-10T08:24:58Z", "text": "> However, why do I have to specify the \"SetHandler None\" in a <Files *.php>\n> container, to make it work?\n> \n> I would expect that a SetHandler None in <Directory> would simply remove all\n> handlers.\n> \n> Is that a misconception?\n> \n\nYes, because you used a high priority (IOW merged later) container to set the \"first\" handler:\n\nThe order of merging is:\n\n   1. <Directory> (except regular expressions) and .htaccess done simultaneously (with .htaccess, if allowed, overriding <Directory>)\n   2. <DirectoryMatch> (and <Directory ~>)\n   3. <Files> and <FilesMatch> done simultaneously\n   4. <Location> and <LocationMatch> done simultaneously\n\n\n\n"}]