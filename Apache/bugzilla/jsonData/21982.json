[{"count": 0, "tags": [], "creator": "jsantos@alphablox.com", "attachment_id": null, "id": 41743, "time": "2003-07-30T00:57:07Z", "bug_id": 21982, "creation_time": "2003-07-30T00:57:07Z", "is_private": false, "text": "My fop.jar has a userconfig.xml that defines MSMincho for when I need to render \nJapanese text. This works fine on Windows systems, but throws a \nNullPointerException when fop.jar runs from AIX\n\nThe exception is:\n\njava.lang.NullPointerException\n\tat org.apache.fop.render.pdf.fonts.LazyFont.getAscender(Unknown Source)\n\tat org.apache.fop.layout.FontState.getAscender(Unknown Source)\n\tat org.apache.fop.layout.LineArea.(Unknown Source)\n\tat org.apache.fop.layout.BlockArea.start(Unknown Source)\n\tat org.apache.fop.fo.flow.Block.layout(Unknown Source)\n\tat org.apache.fop.fo.flow.TableCell.layout(Unknown Source)\n\tat org.apache.fop.fo.flow.TableRow.layout(Unknown Source)\n\tat org.apache.fop.fo.flow.TableBody.layout(Unknown Source)\n\tat org.apache.fop.fo.flow.Table.layout(Unknown Source)\n\tat org.apache.fop.fo.flow.Block.layout(Unknown Source)\n\tat org.apache.fop.fo.flow.StaticContent.layout(Unknown Source)\n\tat org.apache.fop.fo.pagination.PageSequence.layoutStaticContent\n(Unknown Source)\n\tat org.apache.fop.fo.pagination.PageSequence.formatStaticContent\n(Unknown Source)\n\tat org.apache.fop.fo.pagination.PageSequence.format(Unknown Source)\n\tat org.apache.fop.apps.StreamRenderer.render(Unknown Source)\n\tat org.apache.fop.fo.FOTreeBuilder.endElement(Unknown Source)\n\tat weblogic.apache.xerces.parsers.SAXParser.endElement(SAXParser.java\n(Compiled Code))\n\tat weblogic.apache.xerces.validators.common.XMLValidator.callEndElement\n(XMLValidator.java(Compiled Code))\n\tat \nweblogic.apache.xerces.framework.XMLDocumentScanner$ContentDispatcher.dispatch\n(XMLDocumentScanner.java(Compiled Code))\n\tat weblogic.apache.xerces.framework.XMLDocumentScanner.parseSome\n(XMLDocumentScanner.java(Compiled Code))\n\tat weblogic.apache.xerces.framework.XMLParser.parse(XMLParser.java:1119)\n\tat weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:135)\n\tat weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:133)\n\tat org.apache.fop.apps.Driver.render(Unknown Source)\n\tat com.alphablox.xsl.PdfTransformer.runTask(Unknown Source)\n\tat com.alphablox.util.threadpool.WorkerThread.run(Unknown Source)\n\n\n\nThis is also failing with 0.20.5"}, {"attachment_id": null, "tags": [], "bug_id": 21982, "text": "The problem also exists on windows, if the application runs on a SAP Web\nApplication Server. Here is a part of the stack trace with the line numbers\nmissing in the first report:\n\njava.lang.NullPointerException\n\tat org.apache.fop.render.pdf.fonts.LazyFont.getAscender(LazyFont.java:127)\n\tat org.apache.fop.layout.FontState.getAscender(FontState.java:143)\n\tat org.apache.fop.layout.LineArea.<init>(LineArea.java:326)\n\tat org.apache.fop.layout.BlockArea.getCurrentLineArea(BlockArea.java:164)\n\n\n\n\n\n", "count": 1, "id": 77466, "time": "2005-07-20T17:13:40Z", "creator": "f.dohrmann@arcor.de", "creation_time": "2005-07-20T17:13:40Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 21982, "attachment_id": null, "id": 80174, "creation_time": "2005-09-20T13:03:14Z", "time": "2005-09-20T13:03:14Z", "creator": "ken.blackler@jrc.it", "text": "Under 0.20 you need to call:\n\norg.apache.fop.configuration.Configuration.put\n(\"fontBaseDir\",\"/absolute/path/to/metrics/directory\");\n\nor put this in your configuration file.\n\nOtherwise it can't find the files and returns a null pointer error when it \n(later) tries to access them.\n", "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 21982, "is_private": false, "id": 80175, "time": "2005-09-20T13:07:19Z", "creator": "ken.blackler@jrc.it", "creation_time": "2005-09-20T13:07:19Z", "tags": [], "text": "Under 0.20 you need to call:\n\norg.apache.fop.configuration.Configuration.put\n(\"fontBaseDir\",\"/absolute/path/to/metrics/directory\");\n\nor put this in your configuration file. Otherwise the paths to the metrics and \nthe fonts are relative to the current working directory, and you get this \nexception when it later tries to open them.\n\n(You can also put absolute paths for the files)."}, {"count": 4, "attachment_id": null, "bug_id": 21982, "text": "resetting severity from major to normal pending further review", "id": 157266, "time": "2012-04-07T01:37:09Z", "creator": "gadams@apache.org", "creation_time": "2012-04-07T01:37:09Z", "tags": [], "is_private": false}]