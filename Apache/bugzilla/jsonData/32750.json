[{"count": 0, "tags": [], "text": "Apache 2.0.49, Win2003\nmodules: mod_proxy, mod_jk2, mod_rewrite, mod_ssl\n\nI enabled Win32DisableAcceptEx to clean up some errors in the logs and since\nthen, my apache process has gone from its happy 40-60MB usage to 220MB in 3\ndays. I restarted Apache and it is gaining about 20MB/hour and after one day was\nup to 140MB.\n\nI removed the Win32DisableAcceptEx and it is back to its usual 40MB.\n\nSome testing shows that mod_proxy requests cause memory to increase while static\nand jk2 requests do not. These requests were not SSL nor did they require\nauthorization.\n\n\nProxy config:\n\n    ProxyRequests Off\n    RewriteEngine on\n\tProxyPass / http://server:8080/\n\tProxyPassReverse / http://server:8080/\n    RewriteCond %{HTTP:Authorization} ^(.*)\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%1]\n    ProxyPreserveHost On\n\n\nThanks,\nCharlie", "attachment_id": null, "id": 68652, "creation_time": "2004-12-17T14:35:40Z", "time": "2004-12-17T14:35:40Z", "creator": "ccox@cincom.com", "bug_id": 32750, "is_private": false}, {"count": 1, "tags": [], "creator": "chip@force-elite.com", "attachment_id": null, "text": "Can a windows guru explain how disabling the AcceptEx on Win32 could cause\nmemory leakage in mod_proxy?  Aren't these two complete unreleated?", "id": 69069, "time": "2004-12-30T08:05:53Z", "bug_id": 32750, "creation_time": "2004-12-30T08:05:53Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 32750, "attachment_id": null, "id": 90883, "time": "2006-07-05T08:25:27Z", "creator": "vincent.lepot@smile.fr", "creation_time": "2006-07-05T08:25:27Z", "is_private": false, "text": "See Bug 34664 : the memory leak seems to come from the use of\nWin32DisableAcceptEx itself.\n\nThe probable reason is that, when using this directive, other functions are\ncalled in Apache code (such as win9x_get_connection and win9x_accept), and the\nleaks can be in one of these functions. I don't think it comes from Windows\nprimitive \"accept\" itself..."}, {"count": 3, "tags": [], "creator": "davi@apache.org", "attachment_id": null, "text": "*** Bug 42894 has been marked as a duplicate of this bug. ***", "id": 106346, "time": "2007-08-04T12:42:45Z", "bug_id": 32750, "creation_time": "2007-08-04T12:42:45Z", "is_private": false}]