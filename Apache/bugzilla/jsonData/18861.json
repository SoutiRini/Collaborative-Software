[{"count": 0, "tags": [], "text": "I developed a web application using Tomcat 4.1, Struts 1.1 (using Tiles), and\nJSTL 1.0.2.  I also localized the application in English and French for proof of\nconcept purposes.\n\nThe first problem I witnessed was that even if the en locale was set at a higher\npreference than fr, the JSP's were still pulling the messages from the French\nbundle.\n\nThe true problem however manifested later, when I removed the fr from the\nbrowser's languages.  Even after restarting the browser, the French messages\nwere still being used, apparently because French had been used as the locale by\nTomcat when I restarted the app and used the browser with the French preference.\n\nIn essence: \n   - I start Tomcat 4.1\n   - Whichever language was picked up as preferred locale on the first page\nrequest is used for subsequent requests, even if the next browser does not have\nthat language in its list.\n   - I proved this further by adding a third bundle (Spanish) and those messages\nwould not come up unless the Spanish browser was the first requestor at the\nstart of the app/server.\n\nThis problem does NOT occur with Tomcat 4.0.5; could this be a thread problem on\n4.1, or some kind of perfomance-seeking caching?", "attachment_id": null, "bug_id": 18861, "id": 34802, "time": "2003-04-09T13:52:21Z", "creator": "patman_coda@yahoo.com", "creation_time": "2003-04-09T13:52:21Z", "is_private": false}, {"count": 1, "tags": [], "text": "I humbly apologize and withdraw this one; turns out JSTL was at fault and the \nproblem is corrected as of rel. 1.0.3\n\n", "attachment_id": null, "bug_id": 18861, "id": 35185, "time": "2003-04-15T13:51:35Z", "creator": "patman_coda@yahoo.com", "creation_time": "2003-04-15T13:51:35Z", "is_private": false}]