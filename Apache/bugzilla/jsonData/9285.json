[{"attachment_id": null, "tags": [], "creator": "moto@no4.co.jp", "text": "Hi,\n\nI'm using log4j package(Version is 1.2.1) in project.\nAs Happen, when I used SyslogAppender and SyslogWriter for syslogd.\nWritten word is unperfectly to syslogd's \"messages\" file.\nThis word is so short than I expect that.\n\nI thought, it's a enviroment problem with unicode.\nBecause I use log4j on multibyte enviroment.\n(Spec:Fujitsu Solalis SunBlade 1000)\nThen, I read log4j package's sources. I detected un-appropiate codes.\n\nNext code is referd for \"SyslogWriter.java\".\n\n>  public\n>  void write(String string) throws IOException {\n>    DatagramPacket packet = new DatagramPacket(string.getBytes(),\n>        string.length(), \n>        address, SYSLOG_PORT);\n>\n>    if(this.ds != null)\n>      ds.send(packet);\n>    \n>  }\n\n\"DatagramPacket()\" 's second parameter is \"string.length()\".\nBut I thought. This suitable code is \"string.getBytes().length\".", "count": 0, "id": 16480, "time": "2002-05-21T13:32:01Z", "bug_id": 9285, "creation_time": "2002-05-21T13:32:01Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 9285, "attachment_id": null, "is_private": false, "id": 16636, "time": "2002-05-24T11:48:00Z", "creator": "ceki@apache.org", "creation_time": "2002-05-24T11:48:00Z", "text": "\nMr. Kadota,\n\nYou are absolutely right. The computation of the byte array length is wrong.\nJust fixed in CVS. The fix will be available in log4j 1.2.3 when that is \nreleased. Thank you for the very professionnal bug report. \n--\nCeki"}, {"count": 2, "tags": [], "bug_id": 9285, "attachment_id": null, "text": "Mr.Ceki,\nI appreciate your quickly response.\nThank you.\n", "id": 16672, "time": "2002-05-24T15:30:09Z", "creator": "moto@no4.co.jp", "creation_time": "2002-05-24T15:30:09Z", "is_private": false}]