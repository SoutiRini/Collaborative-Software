[{"count": 0, "tags": [], "bug_id": 23998, "attachment_id": null, "text": "Situation:\nClient requests JSP page to local apache server (2.0.47). Local apache server \nforwards mod_proxy) this request to a central apache server (2.0.47) which is \nconnected by mod_jk2 (2.0.2) to tomcat 4.1.24.\nWhen the local apache server receives its response, the request-response status \nline is malformed and a warning is generated in the apache error log file. \n\nThe JSP application works fine, but our log files are clogged with these \nwarnings as every JSP request generates one. We are talking about a major \nenterprise-wide global system.\n\nExamining this problem showed that the error is caused by the fact that \nmod_proxy is cleaning up/ignoring the trailing space in the status \nline:\"HTTP/1.1 200 \". It only seems to see or evaluate \"HTTP/1.1 200\". \n\nI read that mod_jk omits the reponse-phrase (\"OK\" in this case) but this should \n(according to standards) not be a problem when at least a trailing space is \nadded. By tracing the connactions I can see the 'space' in the response status \nline before it enters apache.\n\nEither mod_proxy filters out the space or the incoming status line is \nincorrectly evaluated.\n\nThe error message is generated in \nhttpd-2.0.47/modules/proxy/proxy_http.c   line 761\n\nFor more information, please check \nhttp://article.gmane.org/gmane.comp.apache.mod-proxy/561", "id": 46040, "time": "2003-10-22T11:15:26Z", "creator": "Voicie@hotmail.com", "creation_time": "2003-10-22T11:15:26Z", "is_private": false}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "is_private": false, "id": 46049, "time": "2003-10-22T13:19:30Z", "bug_id": 23998, "creation_time": "2003-10-22T13:19:30Z", "text": "Thanks for the report.  Yes, ap_rgetline is stripping any trailing spaces.  The\nproxy should just fix it and not be so noisy - I'll attach a patch."}, {"count": 2, "attachment_id": 8666, "creator": "jorton@redhat.com", "text": "Created attachment 8666\nfix for trailing space handling", "id": 46069, "time": "2003-10-22T16:14:18Z", "bug_id": 23998, "creation_time": "2003-10-22T16:14:18Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 23998, "is_private": false, "text": "I tested the fix that was supplied and everything works OK. I attached two \nerror log files - one showing the warning, and one which shows the warning is \ngone. \nBoth error log files were recorded while requesting the default application jsp \nin out environment, with the apache mod_proxy instance running in debug mode.", "id": 46127, "time": "2003-10-23T14:59:41Z", "creator": "Voicie@hotmail.com", "creation_time": "2003-10-23T14:59:41Z", "attachment_id": null}, {"text": "Created attachment 8690\nApache error log file, including 'warning' bug", "tags": [], "bug_id": 23998, "attachment_id": 8690, "count": 4, "id": 46128, "time": "2003-10-23T15:00:53Z", "creator": "Voicie@hotmail.com", "creation_time": "2003-10-23T15:00:53Z", "is_private": false}, {"text": "Created attachment 8691\nApache error log file, bug fixed using supplied patch (no more warning)", "tags": [], "bug_id": 23998, "attachment_id": 8691, "count": 5, "id": 46129, "time": "2003-10-23T15:01:37Z", "creator": "Voicie@hotmail.com", "creation_time": "2003-10-23T15:01:37Z", "is_private": false}, {"count": 6, "tags": [], "creator": "trawick@apache.org", "is_private": false, "text": "fyi... fix already in 2.1-dev, recently approved for merge into stable branch\nfor 2.0.next\n", "id": 47896, "time": "2003-11-21T22:39:20Z", "bug_id": 23998, "creation_time": "2003-11-21T22:39:20Z", "attachment_id": null}, {"text": "As Jeff already noted, this is fixed.", "tags": [], "bug_id": 23998, "attachment_id": null, "count": 7, "id": 48288, "time": "2003-11-29T03:43:38Z", "creator": "erik@codefaktor.de", "creation_time": "2003-11-29T03:43:38Z", "is_private": false}]