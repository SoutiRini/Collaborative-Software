[{"count": 0, "tags": [], "creator": "gnormington@vmware.com", "attachment_id": 30467, "text": "Created attachment 30467\nLogs\n\nI needed to shut down Tomcat if an application fails to start. I was advised that a LifecycleListener could shut down Tomcat by throwing an IllegalStateException from its lifecycleEvent method. However, this produces severe errors in the logs, but Tomcat does not shut down.\n\nI saw this behaviour on Tomcat 7.0.41 and 7.0.40 using the test web application from here:\n\nhttps://github.com/cloudfoundry/java-test-applications\n\nand v1.0.0 of the listener from here:\n\nhttps://github.com/cloudfoundry/java-buildpack-support\n\n(v1.1.0 of the listener was re-coded to halt the JVM).\n\nI attach catalina.out.\n\nMark Thomas suggested I raise this bug, so he believes that Tomcat should shut down.", "id": 167954, "time": "2013-06-21T11:23:54Z", "bug_id": 55125, "creation_time": "2013-06-21T11:23:54Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 55125, "text": "This has been fixed in trunk and 7.0.x and will be included in 7.0.42 onwards.", "id": 167978, "time": "2013-06-23T20:13:35Z", "creator": "markt@apache.org", "creation_time": "2013-06-23T20:13:35Z", "is_private": false, "attachment_id": null}]