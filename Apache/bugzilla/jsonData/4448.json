[{"count": 0, "tags": [], "text": "Jar task's whenempty=\"skip\" causes Ant to skip only if the target jar file is \npresent. An empty (except a manifest file) jar is created even if there are no \nfiles to be included.\n\nHere's a few output lines I thought might be useful:\n- - -\nAnt version 1.4.1 compiled on October 11 2001\nBuildfile: build.xml\nSetting project property: ant.java.version -> 1.3\nDetected Java version: 1.3 in: C:\\java\\jdk1.3\\jre\nDetected OS: Windows NT\n. . . etc . . .\n[jar] Updating jar since cannot read current jar manifest: \njava.util.zip.ZipExceptionThe system cannot find the file specified", "is_private": false, "id": 7192, "creator": "jani.kaarela@accenture.com", "time": "2001-10-26T06:01:13Z", "bug_id": 4448, "creation_time": "2001-10-26T06:01:13Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 4448, "is_private": false, "text": "One can argue, that jars are never empty, as they must always contain at\nleast a manifest - I think this is the logic behind the current behavior.\n\nIn nightly build 2001-11-09 the whenempty attribute will generate an warning\nmessage when used and do nothing.", "id": 7695, "time": "2001-11-08T08:31:46Z", "creator": "bodewig@apache.org", "creation_time": "2001-11-08T08:31:46Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 4448, "text": "The behavior should be same as in ant 1.3 version. Existing build scripts relied \non this logic for not to generate jar file when empty are failing.\n\n", "count": 2, "id": 11864, "time": "2002-03-16T02:04:45Z", "creator": "mrkraju@aol.com", "creation_time": "2002-03-16T02:04:45Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 4448, "text": "I have to agree with Jani -- I'm not sure what \"skip\" would mean, if it doesn't \nmean to skip the whole thing altogether if no files were found, nor is there \nreally any point in having \"skip\" as a valid value if it doesn't mean that, \nsince the behaviour is identical to not specifying 'whenempty' at all.", "id": 12605, "time": "2002-04-01T04:20:45Z", "creator": "holtdl@yahoo.com", "creation_time": "2002-04-01T04:20:45Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "I have a similar problem with coretask zip and whenempty=\"skip\" and \nupdate=\"true\".\n\nIf the zip previously existed, ant outputs the following:\n\n  [zip] Warning: skipping zip archive D:\\test.zip because no files were \nincluded.\n\nand renames the original archive to 'tmp.0'\n\nWhatever the intended use of whenempty=\"skip\", this behaviour is unhelpful.", "is_private": false, "bug_id": 4448, "id": 12758, "time": "2002-04-03T14:33:44Z", "creator": "jon@nohorizon.net", "creation_time": "2002-04-03T14:33:44Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 4448, "text": "The issue with update on <zip> files is working under 1.6. I believe it shoul\ndbe OK for 1.5 too. I have changed the message and log level when updating a zip\nfile and whenempty=\"skip\" is true.\n\nThe original issue is covered by Stefan's warning that Jars are never empty.", "id": 31223, "time": "2003-02-13T13:35:24Z", "creator": "conor@apache.org", "creation_time": "2003-02-13T13:35:24Z", "is_private": false, "attachment_id": null}]