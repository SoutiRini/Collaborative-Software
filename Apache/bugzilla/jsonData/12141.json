[{"count": 0, "tags": [], "bug_id": 12141, "attachment_id": null, "is_private": false, "id": 21925, "time": "2002-08-28T21:23:52Z", "creator": "robert.priest@bentley.com", "creation_time": "2002-08-28T21:23:52Z", "text": "The following problem occurs when you are running tomcat with the isapi_filter \n(isapi_redirector2.dll) on IIS 5.0\n\nIf you have:\n\n1. a virtual directory in IIS, say: \"app1-images\".\n2. a application running on tomcat that has a url like: \"http://localhost/app1\" \nand an entry in your workers2.properties file like the following-\n[uri:/app1/*]\ninfo=Map the whole webapp\ndebug=0\n\n\nif you make a request in a browser for the \"app1-images virtual directory \n(http://localhost/app1-images), tomcat will take control of the request and \nattempt to send you to \"http://localhost/app1\". \n\nIt seems as thought when the filter attempts to map the request to an \napplication, it only searches for the substring \"app1\" in the url to map the \nrequest. I think what it should look for is that \"/app1/\" is in the requested \nurl. In other words,I think it should compare against everything in the first \nset of slashes after the host (or host and port).\n\nI am including my workers 2 properties file as requested by nacho@siapi.es:\n\n[config:]\n#file=${serverRoot}/conf/workers2.properties\ndebug=10\ndebugEnv=0\nTOMCAT_HOME=D:\\\\pw\\\\tip\\\\output\\\\delivery\\\\Progra~1\n\\\\Bentley\\\\ProjectWise\\\\WebServer\\\\\\\\\n\n[uriMap:]\ninfo=Maps the requests. Options: debug\ndebug=10\n\n# Logger options. For apache2 only level can be set ( it logs to apache's \nerror.log )\n#[logger.file:0]\n#level=INFO\n#File property is not used on Apache2 or if a 'native' logger is available\n#The Apache2 ( or native ) log file is used instead\n#For apache1 the file must be specified if you want logging.\n#file=${serverRoot}/logs/jk2.log\n\n\n[workerEnv:]\ninfo=Global server options\ntiming=1\ndebug=0\nlogger=logger.file:0\n\n[lb:lb]\ninfo=Default load balancer.\ndebug=0\n\n#################### Channels ####################\n# Each channel defines a communication mechanism to a tomcat instance.\n# Each channel is associated with a ajp13:NAME, with the same local name\n[channel.socket:localhost:8019]\ninfo=A second tomcat instance. \ndebug=0\ntomcatId=localhost:8019\ngroup=lb\n\n[status:]\ninfo=Status worker, displays runtime informations\n\n[uri:/jkstatus/*]\ninfo=Display status information and checks the config file for changes.\ngroup=status:\n\n[uri:/WEL/*]\ninfo=Map the whole webapp\ndebug=0\n\n\n[uri:/webfolders/*]\ninfo=Map the whole webapp\ndebug=0\n\n[uri:/we/*]\ninfo=Map the whole webapp\ndebug=0"}, {"count": 1, "tags": [], "text": "Fixed in CVS, please check it..\n\nFiltered prefix matches to allow only exact matches with an optional path_info \nor query string at end.\n", "is_private": false, "bug_id": 12141, "id": 22085, "time": "2002-09-01T20:34:50Z", "creator": "nacho@apache.org", "creation_time": "2002-09-01T20:34:50Z", "attachment_id": null}]