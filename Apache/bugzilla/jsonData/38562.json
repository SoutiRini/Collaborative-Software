[{"count": 0, "tags": [], "bug_id": 38562, "attachment_id": null, "id": 85574, "time": "2006-02-08T04:45:14Z", "creator": "hoju@visi.com", "creation_time": "2006-02-08T04:45:14Z", "is_private": false, "text": "When I attempted to use XCatalog support, I found it was totally broken.  I've\npatched it so that it works properly.  I'm attempting to move XMLC (\nhttp://xmlc.enhydra.org/ ) to using Xerces2.  This means I lose the XCatalog\nsupport that Xerces1 had.  If Resolver XCatalog support doesn't work, that puts\nthe kabosh on my attempt at Xerces2 support.\n\nI've listed the problems with the current version [1] and Michael Glavassevich\nmentioned that he would ship the updated version of resolver.jar in Xerces-2.8.0\nif it got released sometime this month.  I hope that can be accomplished.\n\nPatch coming up!....\n\n\n[1] http://marc.theaimsgroup.com/?t=113869084200001&r=1&w=2"}, {"count": 1, "tags": [], "bug_id": 38562, "attachment_id": 17620, "id": 85575, "time": "2006-02-08T05:19:42Z", "creator": "hoju@visi.com", "creation_time": "2006-02-08T05:19:42Z", "is_private": false, "text": "Created attachment 17620\nFixes broken XCatalog support\n\nThis patch provides the following...\n\n1. \"xcatalog.dtd\" from the Xerces1 distribution\n\n2. Fixes to XCatalogReader.java such as adding a default constructor allowing\nfor instantiation via reflection and support for the properly cased elements\ndefined by the DTD\n\n3. Changed non-default constructor in XCatalog.java to also take a Catalog. \nAdded the same to OASISXMLCatalogReader.java.  This allows for direct\ninstantiation of both of these catalogs and makes sure that they are \"good\ncitizens\" at creation.\tThis avoids users forgetting to call setCatalog()\nleading to a NullPointerException when th catalog doesn't exist.  Also synched\nup these to readers where applicable\n\n4. Added \"xcatalog.dtd\" support to the BootstrapResolver.\n\n5. Modified Catalog and Resolver to reference the root element for XCatalogs as\n\"XCatalog\", not \"XMLCatalog\".\n\n6. Modified SAXCatalogReader.java to normalize get/setCatlogParser methods to\ntreat nulls and empty strings the same way as well as provide just one \"key\"\nstrategy for the map.  Also added a setClassLoader() method so that\nuser-defined readers in a child classloader can be instantiated by the resolver\nin a parent classloader.  Otherwise, it would be a guaranteed\nClassNotFoundException in, for instance, a J2EE environment.  There are other\ncases of Class.forName(String), but I left those alone.  Didn't want to tread\non too much code.\n\n7. Updated \"resolver.xml\" Ant build file to set debug, optimize, and\ndeprecation to true on <javac> as well as index to true on <jar>\n\n\nJake"}, {"count": 2, "tags": [], "bug_id": 38562, "attachment_id": null, "id": 88058, "creation_time": "2006-04-14T13:00:21Z", "time": "2006-04-14T13:00:21Z", "creator": "apache-bugzilla@nwalsh.com", "text": "I applied the patch.", "is_private": false}]