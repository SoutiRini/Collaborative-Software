[{"count": 0, "tags": [], "text": "I have Googled and found complaints about this issue in 2.0.54 with no \nresolution. I can not find mention of this in bugzilla. This is the first \nreport I've ever filed and apologize if it was premature, but I believe I have \na true bug.\n\nApache 2.0.55 with OpenSSL 0.98.a\nConfig options: ./configure --with-so --prefix=/usr/local/apachefp --enable-ssl\n\nCompilation fails with:\n\n/usr/src/httpd-fp2-2.0.55/srclib/apr/libtool --silent --mode=link gcc  -g -O2 -\npthread    -DLINUX=2 -D_REENTRANT -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -\nD_SVID_SOURCE -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER   -I/usr/src/httpd-\nfp2-2.0.55/srclib/apr/include -I/usr/src/httpd-fp2-2.0.55/srclib/apr-\nutil/include -I. -I/usr/src/httpd-fp2-2.0.55/os/unix -I/usr/src/httpd-fp2-\n2.0.55/server/mpm/prefork -I/usr/src/httpd-fp2-2.0.55/modules/http -\nI/usr/src/httpd-fp2-2.0.55/modules/filters -I/usr/src/httpd-fp2-\n2.0.55/modules/proxy -I/usr/src/httpd-fp2-2.0.55/include -I/usr/src/httpd-fp2-\n2.0.55/modules/generators -I/usr/include/openssl -I/usr/kerberos/include -\nI/usr/src/httpd-fp2-2.0.55/modules/dav/main -export-dynamic    -o httpd  \nmodules.lo  modules/aaa/mod_access.la modules/aaa/mod_auth.la \nmodules/filters/mod_include.la modules/loggers/mod_log_config.la \nmodules/metadata/mod_env.la modules/metadata/mod_setenvif.la \nmodules/ssl/mod_ssl.la modules/http/mod_http.la modules/http/mod_mime.la \nmodules/generators/mod_status.la modules/generators/mod_autoindex.la \nmodules/generators/mod_asis.la modules/generators/mod_cgi.la \nmodules/mappers/mod_negotiation.la modules/mappers/mod_dir.la \nmodules/mappers/mod_imap.la modules/mappers/mod_actions.la \nmodules/mappers/mod_userdir.la modules/mappers/mod_alias.la \nmodules/mappers/mod_so.la server/mpm/prefork/libprefork.la server/libmain.la \nos/unix/libos.la -lssl -lcrypto -L/usr/kerberos/lib -lresolv -lgssapi_krb5 -\nlkrb5 -lk5crypto -lcom_err -ldl -lz /usr/src/httpd-fp2-\n2.0.55/srclib/pcre/libpcre.la /usr/src/httpd-fp2-2.0.55/srclib/apr-\nutil/libaprutil-0.la -lgdbm -ldb-4.0 -lexpat /usr/src/httpd-fp2-\n2.0.55/srclib/apr/libapr-0.la -lrt -lm -lcrypt -lnsl -lpthread -ldl \nmodules/ssl/.libs/mod_ssl.a(ssl_engine_kernel.o)(.text+0xa32): In function \n`ssl_hook_Access':\n/usr/src/httpd-fp2-2.0.55/modules/ssl/ssl_engine_kernel.c:626: undefined \nreference to `X509_STORE_CTX_set_depth'\ncollect2: ld returned 1 exit status", "attachment_id": null, "bug_id": 37562, "id": 82673, "time": "2005-11-18T23:23:33Z", "creator": "apache@nicsys.net", "creation_time": "2005-11-18T23:23:33Z", "is_private": false}, {"count": 1, "tags": [], "creator": "rpluem@apache.org", "text": "Nobody bites here :-).\n\nI guess the problem in your case is an improper installed Openssl toolkit.\nOpenssl 0.9.8a is the latest kit, so I doubt that it is contained in your Linux\ndistribution. That means you must have compiled it by yourself. Maybe you mixed\nyour self compiled Openssl kit with the one that is installed by default.\n\nBefore 0.9.8 X509_STORE_CTX_set_depth has been a macro defined in x509_vfy.h,\nbut since 0.9.8 it is a true function with the prototype in x509_vfy.h.\nSo I think you compiled your httpd against 0.9.8a headers but against an shared\nlibs from an older version.\n\nIf in doubt recompile your openssl 0.9.8a, install it to a distinct location\n(e.g. /opt/openssl-0.9.8a) and configure httpd with --with-ssl=/opt/openssl-0.9.8a", "id": 82676, "time": "2005-11-19T00:09:49Z", "bug_id": 37562, "creation_time": "2005-11-19T00:09:49Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 37562, "attachment_id": null, "id": 82679, "time": "2005-11-19T10:48:09Z", "creator": "nick@webthing.com", "creation_time": "2005-11-19T10:48:09Z", "is_private": false, "text": "openssl-0.98.a doesn't install (for me, on Linux) using its own build  \nprocedures; I had to do it manually.  After that the install works fine.  But \nbe aware, if you have another OpenSSL (maybe one supplied by your distro), \nyou'll need to take care to avoid segfaults at runtime, too. \n \nAnyway, this kind of question belongs in a user support forum. "}]