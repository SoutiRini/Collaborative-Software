[{"count": 0, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "is_private": false, "id": 47191, "time": "2003-11-11T16:41:40Z", "bug_id": 24610, "creation_time": "2003-11-11T16:41:40Z", "text": "When an ID contains a slash, an exception is thrown:\n\nAn Error Occurred org.apache.lenya.cms.task.ExecutionException\nD:\\Development\\build\\tomcat-4.1.27\\webapps\\lenya\\lenya\\pubs\\unicom\\config\\tasks\\targets.xml:598:\norg.apache.lenya.cms.publication.SiteTreeException: The parent node null where\nthe removed node shall be inserted not found\norg.apache.lenya.cms.task.ExecutionException:\nD:\\Development\\build\\tomcat-4.1.27\\webapps\\lenya\\lenya\\pubs\\unicom\\config\\tasks\\targets.xml:598:\norg.apache.lenya.cms.publication.SiteTreeException: The parent node null where\nthe removed node shall be inserted not found\norg.apache.lenya.cms.task.ExecutionException:\nD:\\Development\\build\\tomcat-4.1.27\\webapps\\lenya\\lenya\\pubs\\unicom\\config\\tasks\\targets.xml:598:\norg.apache.lenya.cms.publication.SiteTreeException: The parent node null where\nthe removed node shall be inserted not found\norg.apache.lenya.cms.task.ExecutionException:\nD:\\Development\\build\\tomcat-4.1.27\\webapps\\lenya\\lenya\\pubs\\unicom\\config\\tasks\\targets.xml:598:\norg.apache.lenya.cms.publication.SiteTreeException: The parent node null where\nthe removed node shall be inserted not found at\norg.apache.lenya.cms.task.AntTask.executeAntTarget(AntTask.java:171) at\norg.apache.lenya.cms.task.AntTask.execute(AntTask.java:271) at\norg.apache.lenya.cms.task.DefaultTaskWrapper.execute(DefaultTaskWrapper.java:290)\nat org.apache.lenya.cms.cocoon.acting.TaskAction.act(TaskAction.java:102) at\norg.apache.cocoon.components.treeprocessor.sitemap.ActTypeNode.invoke(ActTypeNode.java:157)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:164)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:164)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:164)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:108)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:163)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:108)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:161)\nat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:351)\nat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:304)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:130)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:164)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:108)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:163)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:108)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:163)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:108)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:161)\nat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:351)\nat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:304)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:130)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.ActTypeNode.invoke(ActTypeNode.java:176)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:84)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:164)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:108)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:163)\nat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:108)\nat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:161)\nat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:351)\nat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:304)\nat org.apache.cocoon.Cocoon.process(Cocoon.java:640) at\norg.apache.cocoon.servlet.CocoonServlet.service(CocoonServlet.java:1104) at\njavax.servlet.http.HttpServlet.service(HttpServlet.java:853) at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\nat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\nat\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256)\nat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\nat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\nat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\nat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\nat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\nat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) at\norg.apache.catalina.core.StandardContext.invoke(StandardContext.java:2416) at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180) at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\nat\norg.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171)\nat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:172)\nat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\nat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\nat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174)\nat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\nat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\nat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) at\norg.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:223) at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:601) at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:392)\nat org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:565) at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:619)\nat java.lang.Thread.run(Thread.java:534) Caused by:\nD:\\Development\\build\\tomcat-4.1.27\\webapps\\lenya\\lenya\\pubs\\unicom\\config\\tasks\\targets.xml:598:\norg.apache.lenya.cms.publication.SiteTreeException: The parent node null where\nthe removed node shall be inserted not found at\norg.apache.lenya.cms.ant.TwoNodesTask.execute(TwoNodesTask.java:165) at\norg.apache.tools.ant.UnknownElement.execute(UnknownElement.java:272) at\norg.apache.tools.ant.Task.perform(Task.java:401) at\norg.apache.tools.ant.Target.execute(Target.java:347) at\norg.apache.tools.ant.Target.performTasks(Target.java:374) at\norg.apache.tools.ant.Project.executeTarget(Project.java:1228) at\norg.apache.lenya.cms.task.AntTask.executeAntTarget(AntTask.java:168) ... 70 more\nCaused by: org.apache.lenya.cms.publication.SiteTreeException: The parent node\nnull where the removed node shall be inserted not found at\norg.apache.lenya.cms.ant.MoveNode.manipulateTree(MoveNode.java:115) at\norg.apache.lenya.cms.ant.TwoNodesTask.execute(TwoNodesTask.java:163) ... 76 more"}, {"count": 1, "tags": [], "creator": "egli@apache.org", "text": "Do a simple check in the action", "id": 48252, "attachment_id": null, "bug_id": 24610, "creation_time": "2003-11-27T16:13:28Z", "time": "2003-11-27T16:13:28Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 24610, "text": "Created attachment 9439\npatch for ComputeRenameDocumentId which checks new document-id", "id": 48674, "time": "2003-12-08T14:49:03Z", "creator": "egli@apache.org", "creation_time": "2003-12-08T14:49:03Z", "is_private": false, "attachment_id": 9439}, {"count": 3, "tags": [], "creator": "egli@apache.org", "is_private": false, "text": "The attached patch checks for valid document-ids in the ant class that does the\nactual renaming.\n\nHowever if this is implemented we run into a lot of other problems because there\nare no transactions and there are files to be moved and probably workflow states\nto be modified. So a proper solution would be to write an ant task which\nbasically embodies the transaction or to use something like woody. But this is\ndefinitely post 1.2\n\nSo I added some note about allowed values to the input screen as a minimal\nworkaround and move the target date of this bug to 1.4", "id": 48675, "time": "2003-12-08T14:52:03Z", "bug_id": 24610, "creation_time": "2003-12-08T14:52:03Z", "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 24610, "text": "this has been fixed", "id": 50863, "time": "2004-01-21T10:01:20Z", "creator": "gregor@apache.org", "creation_time": "2004-01-21T10:01:20Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "creator": "A.Kuckartz@ping.de", "text": "This was already resolved for 1.2", "id": 57173, "time": "2004-05-11T10:14:22Z", "bug_id": 24610, "creation_time": "2004-05-11T10:14:22Z", "is_private": false, "attachment_id": null}]