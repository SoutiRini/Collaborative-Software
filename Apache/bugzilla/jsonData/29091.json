[{"count": 0, "tags": [], "bug_id": 29091, "is_private": false, "id": 57652, "creation_time": "2004-05-19T14:51:37Z", "time": "2004-05-19T14:51:37Z", "creator": "jesper.soderlund@smarttrust.com", "text": "When I enter the administration interface and into \"User definitions/Users\". I\nselect an existing user, e.g. the user called \"tomcat\".\n\nI enter a name in the \"Full name\" field and when the name contains a non-ASCII\ncharacter, e.g. \"\u00f6\" (I don't know if bugzilla will display this correct either)\nwhich in unicode has code point 0x00F6.\n\nWhen the name is sumbitted the characters \u00c3\u00b6 turn up instead which is the UTF-8\nencoding of 0x00F6.\n\nWhen this value is saved to the tomcat-users.xml the correct UTF-8 encoding is\nsaved (\u00c3\u00b6).", "attachment_id": null}, {"count": 1, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "is_private": false, "id": 59018, "time": "2004-06-10T14:13:14Z", "bug_id": 29091, "creation_time": "2004-06-10T14:13:14Z", "text": "*** Bug 26258 has been marked as a duplicate of this bug. ***"}, {"count": 2, "tags": [], "bug_id": 29091, "attachment_id": null, "text": "*** Bug 28219 has been marked as a duplicate of this bug. ***", "id": 61380, "time": "2004-07-30T14:34:51Z", "creator": "yoavs@computer.org", "creation_time": "2004-07-30T14:34:51Z", "is_private": false}, {"count": 3, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "id": 61382, "time": "2004-07-30T14:36:00Z", "bug_id": 29091, "creation_time": "2004-07-30T14:36:00Z", "is_private": false, "text": "*** Bug 29836 has been marked as a duplicate of this bug. ***"}, {"count": 4, "tags": [], "bug_id": 29091, "is_private": false, "id": 61927, "creation_time": "2004-08-13T03:07:44Z", "time": "2004-08-13T03:07:44Z", "creator": "jks@iname.com", "text": "3 dups of this bug, but it is still marked as NEW?", "attachment_id": null}, {"count": 5, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "is_private": false, "id": 62800, "time": "2004-08-30T19:27:09Z", "bug_id": 29091, "creation_time": "2004-08-30T19:27:09Z", "text": "Yeah, it's a big deal to fix."}, {"count": 6, "tags": [], "creator": "funkman@joedog.org", "attachment_id": null, "id": 65785, "time": "2004-10-26T23:56:17Z", "bug_id": 29091, "creation_time": "2004-10-26T23:56:17Z", "is_private": false, "text": "*** Bug 29823 has been marked as a duplicate of this bug. ***"}, {"count": 7, "tags": [], "bug_id": 29091, "attachment_id": null, "id": 65798, "time": "2004-10-27T05:29:12Z", "creator": "ushakov@int.com.ru", "creation_time": "2004-10-27T05:29:12Z", "is_private": false, "text": "Isn't uncommenting the 'Set Character \nEncoding' filter and its mapping in 'web.xml' for 'admin' app the right \napproach? Or is it just a shallow fix that does not address some deeper \nproblem? In any case it works for me... Maybe change the default to uncommented \nfilter state in the next release anyway? At least some of new users will not \ntrod on this issue..."}, {"count": 8, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "is_private": false, "id": 67228, "time": "2004-11-19T16:09:14Z", "bug_id": 29091, "creation_time": "2004-11-19T16:09:14Z", "text": "The problem is not with the web page display, it's with the persistence of \nchanges to the file system.  So the Filter doesn't solve the problem."}, {"count": 9, "tags": [], "bug_id": 29091, "is_private": false, "id": 67309, "attachment_id": null, "creator": "ushakov@int.com.ru", "creation_time": "2004-11-22T02:54:46Z", "time": "2004-11-22T02:54:46Z", "text": "Well, I can't boast deep understanding of Tomcat internals, and this filter was\nprobably intended for something different (for some more delicate tuning?), but\nthis trick with filter definitely works for me in all aspects including persistence.\n\nWith this filter enabled:\n- I can enter descriptions in any combination of languages (English / Russian /\nChinese / whatever);\n- descriptions survive non-distorted during the engine life cycle;\n- description are persisted in tomcat-users.xml using correct UTF-8;\n- descriptions are correctly initialized after engine being restarted.\n\nTotally I have no grudge against multi-language descriptions persistence with\nthis filter. All this behaves well with both IE6 and Firefox. I use TC 5.0.28 on\nWindows.\n\nThe two problems in the distribution are:\n- the filter is disabled by default;\n- the filter class name in admin app's web.xml is reduced to two last segments\n('filters.SetCharacterEncodingFilter'); it works well if TC is installed from\n.zip distribution, but if installed using .exe distribution the filter name\nneeds to be written in full -\n'org.apache.webapp.admin.filters.SetCharacterEncodingFilter' - I did not manage\nto investigate why..."}, {"count": 10, "tags": [], "bug_id": 29091, "is_private": false, "id": 67340, "attachment_id": null, "creator": "yoavs@computer.org", "creation_time": "2004-11-22T15:12:07Z", "time": "2004-11-22T15:12:07Z", "text": "Per Mr. Ushakov's investigation and comments, I'm closing this issue.  Thanks."}, {"count": 11, "tags": [], "bug_id": 29091, "attachment_id": null, "id": 69245, "time": "2005-01-05T16:23:37Z", "creator": "sun_house_the_king@yahoo.com", "creation_time": "2005-01-05T16:23:37Z", "is_private": false, "text": "(In reply to comment #10)\n> Per Mr. Ushakov's investigation and comments, I'm closing this issue.  Thanks.\n\nHi, \n\nSorry to spoil the \"party\", but I reopen this bug.\nThis bug is marked as a duplication for #28219 (Dolar sign in password of JNDI-\nDatasource disappears), thus #28219 is closed on duplication.\n\nMaybe configuring the character encoding solves the problem with servlet \nparameter inputs, but it doesn't solve the problem of putting non ascii \ncharacters in tomcat 5 configuration files(I use tomcat 5.027).\n\nTo be more precise, i need to use $ sign in server.xml in order to define a \nshared folder (i.e. \\\\my-machine\\c$\\my-app\\)\nTo make it work on tomcat 5 i had to put double dollar sign (\\\\my-\nmachine\\c$$\\my-app\\ ) and also add Sun's tools.jar in common\\lib. this is a \nworkaround and not a way to solve this.\n\nI see in forums that this problem is annoying many people. not just me. \nThis problem did not occur in tomcat 4.03\n\nRegards \nSun House"}, {"count": 12, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "id": 69869, "time": "2005-01-20T15:56:17Z", "bug_id": 29091, "creation_time": "2005-01-20T15:56:17Z", "is_private": false, "text": "A few things.\n\nOne, whether it occurred in an ancient version or not doesn't make much \ndifference.  The codebase is substantially different now.\n\nTwo, a workaround is just that: a solution for fringe cases that may or may \nnot be addressed in the future.  It's less likely to be addressed in the \nfuture if you're working with a maintenance branch (active develoment is now \nin Tomcat 5.5).\n\nThree, Tomcat 5.5.7 which was just released should have a fix for this.  It'd \nbe great if you could test it out and let us know what you think."}, {"count": 13, "text": "I am using Tomcat 5.5.9, and I still have the problem described in 26258; that \nis, the non-ascii characters of the XML-files are not properly escaped.\n\nI'm using Tomcat on windows/xp and I've chosen to use windows administrator \naccount as Tomcat admin, and this account had a non-ascii character in it's \nname (\u00f6 or &ouml;). The name is the default name of the admin account on a \nswedish Windows/XP (\"Administrat\u00f6r\").\n\nIn the \"tomcat-users.xml\" this should be written as \"&#xf6;\" or \n(perhaps) \"&ouml;\", but instead it is written as some obscure non UTF-8 \ncharacter.\n\nThe end result is that the Tomcat server won't start \"out of the box\" if you \nrun it on a standard Swedish Windows/XP installation...\n\n", "bug_id": 29091, "is_private": false, "id": 79401, "time": "2005-09-05T15:19:06Z", "creator": "allkvist@input.nu", "creation_time": "2005-09-05T15:19:06Z", "tags": [], "attachment_id": null}, {"count": 14, "text": "Testing with the latest 5.5.x code I do see issues editing a user of the name\nAdministrat\u00f6r. This is causes by the default connector configuration. The\nsolution is to set URIEncoding=\"UTF-8\" on the connector.\n\nWith this in place I can create, edit, view and delete the Administrat\u00f6r user\nand all changes are correctly persisted to tomcat-users.xml", "bug_id": 29091, "is_private": false, "id": 92997, "time": "2006-09-04T23:07:20Z", "creator": "markt@apache.org", "creation_time": "2006-09-04T23:07:20Z", "tags": [], "attachment_id": null}, {"count": 15, "text": "By following the instructions here, I am able to verify that create, edit and \ndelete all work for the non-ASCII charactor username. However I can not log \ninto web admin app by using the non-ASCII(Chinese in this case) username. I \nreceived the invalid username/password error. I think there might be something \nwrong with the j_security_check. This is a bigger problem because I have to \nrestrict username to be ASCII in my own app. I am using Tomcat 5.5.25.", "bug_id": 29091, "attachment_id": null, "id": 108472, "time": "2007-09-21T06:19:55Z", "creator": "hli29@yahoo.com", "creation_time": "2007-09-21T06:19:55Z", "tags": [], "is_private": false}]