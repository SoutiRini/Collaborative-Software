[{"count": 0, "tags": [], "creator": "justin@onionnetworks.com", "attachment_id": null, "is_private": false, "id": 9199, "time": "2001-12-28T21:07:28Z", "bug_id": 5618, "creation_time": "2001-12-28T21:07:28Z", "text": "Currently when tomcat issues a 416 \"Range is Not Satisfiable\" error, it is not\nproviding a Content-Range header, causing clients to have to issue an additional\nHEAD request to find the Content-Length, then another request for a correct range.\n\nFrom HTTP/1.1 specification section 14.16:\n\n\" A server sending a response with status code 416 (Requested range not\nsatisfiable) SHOULD include a Content-Range field with a byte-range- resp-spec\nof \"*\". The instance-length specifies the current length of\n\nthe selected resource.\"\n\nAn example run:\n\n$ telnet nagoya.apache.org 8080\nTrying 192.18.49.131...\nConnected to nagoya.apache.org.\nEscape character is '^]'.\nGET /index.html HTTP/1.1\nHost: nagoya.apache.org\nRange: bytes=10000-20000\n\nHTTP/1.1 416 Requested Range Not Satisfiable\nContent-Type: text/html\nDate: Sat, 29 Dec 2001 04:52:02 GMT\nServer: Apache Tomcat/4.0.1 (HTTP/1.1 Connector)\nConnection: close\n\n<html><head><title>Apache Tomcat/4.0.1 - Error\nreport</title><STYLE><!--H1{font-family : sans-serif,Arial,Tahoma;color :\nwhite;background-color : #0086b2;} BODY{font-family :\nsans-serif,Arial,Tahoma;color : black;background-color : white;} B{color :\nwhite;background-color : #0086b2;} HR{color : #0086b2;} --></STYLE>\n</head><body><h1>Apache Tomcat/4.0.1 - HTTP Status 416 - Requested Range Not\nSatisfiable</h1><HR size=\"1\" noshade><p><b>type</b> Status\nreport</p><p><b>message</b> <u>Requested Range Not\nSatisfiable</u></p><p><b>description</b> <u>The requested byte range cannot be\nsatisfied (Requested Range Not Satisfiable).</u></p><HR size=\"1\"\nnoshade></body></html>Connection closed by foreign host."}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "text": "Fixed in nightly for 1/2. I'm not sure what the spec means here. Content-Range:\n*/length is returned.", "id": 9264, "time": "2002-01-02T06:31:48Z", "bug_id": 5618, "creation_time": "2002-01-02T06:31:48Z", "is_private": false}]