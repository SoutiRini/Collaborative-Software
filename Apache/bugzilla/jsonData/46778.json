[{"count": 0, "tags": [], "bug_id": 46778, "attachment_id": null, "id": 125206, "time": "2009-02-27T02:37:28Z", "creator": "tdrewes@gmx.net", "creation_time": "2009-02-27T02:37:28Z", "is_private": false, "text": "Abstract: \nSeems to me that fop 0.95 (embedded) image handling is different to fop 0.94 (embedded) image handling.\n\nDetails:\n\nWe are using embedded fop 0.95 from the binary fop.jar in our application to generate pdf from xml via xslt.\n\nThe xslt code looks like this:\n\n<fo:external-graphic border-right-style=\"none\">\n   <xsl:attribute name=\"src\">\n     <xsl:text>url(\"file:///home/abc/atxRptLogo3.jpg\")</xsl:text>\n   </xsl:attribute>\n</fo:external-graphic>\n\nIn my code I do something like this:\nFOUserAgent foUserAgent = fopFactory.newFOUserAgent();\nfoUserAgent.setBaseURL(properties.getBaseDir(\"file:///\");\n// just to make sure\n\nI then get the fop error message:\n2009-02-25 11:28:59,037 [thread-2] ERROR org.apache.fop.fo.FONode  - Image not found: file:///home/abc/atxRptLogo3.jpg\n\natxRptLogo3.jpg is in /home/abc and accessible from the permissions.\n\n\nSince we had no problems with a binary fop 0.94 running not embedded but standalone I compiled the fop 0.94 with jdk 1.5 and created a fop.jar and redeployed our application.\n\n*** With fop 0.94 embedded the image is found and displayed!\n\n\nNote: We played around with various notations of baseURL and the image url, for example:\nfoUserAgent.setBaseURL(properties.getBaseDir(\"file:///home/abc\");\nand\n<xsl:text>url(\"file://atxRptLogo3.jpg\")</xsl:text>\nbut nothing helped"}, {"count": 1, "tags": [], "bug_id": 46778, "attachment_id": null, "id": 125217, "time": "2009-02-27T07:14:28Z", "creator": "jeremias@apache.org", "creation_time": "2009-02-27T07:14:28Z", "is_private": false, "text": "Yes, the image handling has been rewritten between 0.94 and 0.95. It should actually be much better than before and I think we've managed to meet that goal, but it could still be that there's a Gremlin hidden somewhere. In this case however, I don't know what to do. I've just tried to reproduce your case in my Ubuntu VM but that absolute file URL (including the url() wrapper) worked fine for me. Well, I did it from the command-line as I don't have a full development environment in there (I develop on WinXP). Could you also try if there's a different behaviour when run from the command-line? That could give us some hints. Anyway, I think the easiest way to identify the problem is if you can debug on your side.\n\nThe best entry point is probably:\norg.apache.xmlgraphics.image.loader.impl.AbstractImageSessionContext.newSource()\nor\norg.apache.fop.fo.flow.ExternalGraphic.bind()\n\nGood luck!"}, {"count": 2, "tags": [], "bug_id": 46778, "attachment_id": null, "id": 134320, "time": "2010-02-08T04:56:40Z", "creator": "dominik.stadler@gmx.at", "creation_time": "2010-02-08T04:56:40Z", "is_private": false, "text": "I saw a similar issue with 0.95, I could not get FOP to find the images when I used relative pathes and the baseDir. Prepending \"file:///\" in the baseDir also did not have any effect.\n\nIn the end I prepended the full path in the XSL-FO file to load the images correctly."}, {"count": 3, "tags": [], "bug_id": 46778, "attachment_id": null, "id": 157194, "time": "2012-04-04T22:40:09Z", "creator": "gadams@apache.org", "creation_time": "2012-04-04T22:40:09Z", "is_private": false, "text": "closing due lack of (1) input FO file, (2) referenced image file(s), (3) output PDF file, (4) console output; if desired, please rerun on FOP trunk and provide these files as attachments to this bug"}, {"count": 4, "tags": [], "text": "batch transition resolved+wontfix to closed+wontfix", "is_private": false, "id": 158559, "creator": "gadams@apache.org", "time": "2012-04-30T00:14:41Z", "bug_id": 46778, "creation_time": "2012-04-30T00:14:41Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 46778, "attachment_id": null, "id": 158604, "time": "2012-04-30T00:17:12Z", "creator": "gadams@apache.org", "creation_time": "2012-04-30T00:17:12Z", "is_private": false, "text": "batch transition resolved+wontfix to closed+wontfix; if you believe this remains a bug and can demonstrate it with appropriate input FO file and output PDF file (as applicable), then you may reopen"}]