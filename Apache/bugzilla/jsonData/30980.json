[{"count": 0, "tags": [], "bug_id": 30980, "attachment_id": null, "id": 62876, "time": "2004-09-01T06:45:06Z", "creator": "callbabusats@yahoo.co.in", "creation_time": "2004-09-01T06:45:06Z", "is_private": false, "text": "A JSP file is made to Servlet with static content emitted as out.println directly\n\n<html><body>Hello</body></html>\n\nas\n\nout.println(\"<html><body>Hello</body></html>\");\n\nThis means any change to static content, requires jspc and javac i.e 2 levels of\ncompilation.\n\nAlternative\n\nA jsp file is made to Servlet file with static content referenced by a variable\nfrom a file\n\nJSP File1.properties\nStaticContent1=<html><body>Hello</body></html>\n\nout.println(resourceBundle.getKey(\"StaticContent1\")); // This is pseudo code\n\nWhen the jsp file changes to \n<html><body>Hello JSP World</body></html>\n\nOnly JSP File1.properties is modified as\nStaticContent1=<html><body>Hello JSP World</body></html>\n\nThere is no recompilation - The resourcebundle is assumed to fetch right value\n\nJSP can manage properties file, rather than developer doing it."}, {"count": 1, "tags": [], "creator": "remm@apache.org", "text": "- Querying a resource bundle is not free\n- Diffing to know that only static text changed is complex (and then we need to\nupdate whatever is relevant)\nSo -1 from me for this feature, it's not doable or practical.", "id": 62880, "time": "2004-09-01T08:15:26Z", "bug_id": 30980, "creation_time": "2004-09-01T08:15:26Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "callbabusats@yahoo.co.in", "text": "Querying will be o(1). when good hash table is used.\nMaintaining static,dynamic content can be done in simpler algorithms\n\nAn intermediate file which stores demarcations of static and dynamic content can\ndeduct changes to static and dynamic content in o(n).\n\n(It checks char by char every static content and dynamic content, When static\ncontent change is deducted it adjusts its demarcations)\n\nIf there is a change to dynamic content, then normal procedure is followed.\nOtherwise the resouce file is updated.\n\nIntermediate file is updated whenever file changes.\n\nThere will be huge reduction in overall compilation time when only static\ncontent changes.\n\nI can develop a prototype, if you want proof of practical feasibility.", "id": 62899, "time": "2004-09-01T12:38:02Z", "bug_id": 30980, "creation_time": "2004-09-01T12:38:02Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 30980, "attachment_id": null, "id": 62900, "time": "2004-09-01T12:43:58Z", "creator": "remm@apache.org", "creation_time": "2004-09-01T12:43:58Z", "is_private": false, "text": "-1 means no, not pehaps. If you want me to consider your feature, you'll have to\nprovide a fully working implementation (not a proof of concept prototype), with\nno overhead over the current generated source.\nPlease do not reopen this."}, {"count": 4, "tags": [], "bug_id": 30980, "text": "jspc is not invoked in deployment mode.\nHence this feature will add overhead in normal jsp access from class files.\n\nBut,In development mode, jspc is invoked for every change in static html.\nThere are additional requirements\n-Intermediate file\n-Properties file\nper JSP file, it may be possible to combine them.\n\nA switch like jspc -static_split may follow this procedure.\n\nWhen there are frequent changes to jsp file, this process will reduce response time.\n\nWhen jsp files are accessed frequently without changes this will increase\nresponse time.\n\n+Avoids jspc\n+Avoids javac\n\n-Requires 1 or 2 files per jsp\n-class files do not have embedded strings, hence there is a runtime performance hit.\n\nBut the algorithms of diffing,querying do not put any oiverhead.\n\nWill it be worthwile to develop a module for -static_split? I belive this will\naid developers, as it removes compilations.", "id": 62948, "time": "2004-09-02T05:28:06Z", "creator": "callbabusats@yahoo.co.in", "creation_time": "2004-09-02T05:28:06Z", "is_private": false, "attachment_id": null}]