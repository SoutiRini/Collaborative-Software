[{"count": 0, "tags": [], "creator": "nilesh.j.naik@gmail.com", "text": "1.  I have a  typical  JSP-Servlet web application running on tomcat 5.0.28. \n 2.  After successful login a new session is created. (in login.jsp) and user\nspecific data is kept in session\n 3.  User moves on through the application .   Accesses  a JSP ( e.g. \nPageWithHeavyJavascript.jsp),  JavaScript code.\n 4.  After  doing some selections etc. PageWithHeavyJavascript.jsp,  user\nbrowses another JSP ( e.g.  plain.jsp)  which *does not* have any session\nrelated code. At this point *sometimes* a  NEW session is created. (By\nimplementing HttpSessionListener I observed that the sessionCreated() methos is\ngetting called everytime and sessionDestoryed() method is never getting called)\n5. After lot of debugging I have observed that this happens when  lot of\nJavascript code is called through clicks etc. new session is created. I am\nunable to link lot of Javascript calls with New session getting created.\n  I would appreciate if you can shed some light on this issue... any hint/solution?", "id": 91404, "time": "2006-07-19T08:51:36Z", "bug_id": 40072, "creation_time": "2006-07-19T08:51:36Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 40072, "attachment_id": null, "text": "by default jsp's create a session. Its part of the spec.\n\nSee <%@ page session='false'%> in the JSP spec for disabling that.", "id": 91410, "time": "2006-07-19T10:30:00Z", "creator": "funkman@joedog.org", "creation_time": "2006-07-19T10:30:00Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 40072, "attachment_id": null, "text": "(In reply to comment #1)\n> by default jsp's create a session. Its part of the spec.\n> \n> See <%@ page session='false'%> in the JSP spec for disabling that.\n\n  After Login, some information is kept in the session and is used through out\nthe application. If the JSP is creating a new session by default, i will lose\nall the data. \n  I am facing the session problem while accessing a JSP with heavy JavaScript\nCode. In rest of the JSP's with the application, new session is not getting created.\n", "id": 91425, "time": "2006-07-20T06:25:54Z", "creator": "nilesh.j.naik@gmail.com", "creation_time": "2006-07-20T06:25:54Z", "is_private": false}, {"count": 3, "text": "The session is only created when the session object is access in anyway.  I\nbelieve the <%@ page session=\"false\"%> directive tells the JSP layer not to\naccess a session object in a way to cause one to be created, this is for\ncontructing the pageContext.\n\nHowever the HTTP request processing still takes place to match a given cookie\nwith a valid session object.\n\nSo if you pass from code which uses a session (the login part) into code which\ncodes not use a session, then your browser should still be giving the the\nCookie: header to Tomcat with accessing both URLs.\n\nIf Tomcat gets a Cookie it will always try to match it up with a session to\nvalidate it (even if the processing that is to follow doesn't require or touch\nthe session object after all).\n\n\nDoes your HeavyJavaScript code in anyway access and/or edit the cookies[] in the\npage ?\n\nMaybe you can quote the URLs of the post login page and the non-session using\npage to confirm if the URLs would be within the same Cookie domain.", "bug_id": 40072, "attachment_id": null, "id": 91427, "time": "2006-07-20T08:56:53Z", "creator": "darryl@darrylmiles.org", "creation_time": "2006-07-20T08:56:53Z", "tags": [], "is_private": false}]