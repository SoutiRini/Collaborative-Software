[{"count": 0, "tags": [], "bug_id": 20556, "is_private": false, "text": "The JkCoyoteHandler class is giving a Certificate Convertion error when trying \nto send client certificates to the server on Apache 1.3.27, Tomcat 4.1.24, \nJboss 3.0. I found this fix in a mailing list and it works. By the way, \nconvertion is spelt conversion\n\n-- james\n\n\nThorvald Natvig wrote:\n\n>For those that have been suffering problems using 2-way authenticating\n>with the JK2 Coyote connector, this patch should fix the problem. It's not\n>a good fix, but it's a fix nonetheless.\n>\n>\n>\n>------------------------------------------------------------------------\n>\n>--- jakarta-tomcat-connectors-4.1.24-\nsrc/jk/java/org/apache/jk/server/JkCoyoteHandler.java 2003-03-19 \n10:21:04.000000000 +0100\n>+++ jakarta-tomcat-connectors-4.1.24-src-\nnew/jk/java/org/apache/jk/server/JkCoyoteHandler.java 2003-03-25 \n17:10:54.000000000 +0100\n>@@ -384,7 +384,7 @@\n> // Extract SSL certificate information (if requested)\n> MessageBytes certString = (MessageBytes)req.getNote(WorkerEnv.SSL_CERT_NOTE);\n> if( certString != null ) {\n>- byte[] certData = certString.getByteChunk().getBytes();\n>+ byte[] certData = certString.toString().getBytes();\n> ByteArrayInputStream bais = new ByteArrayInputStream(certData);\n>\n> // Fill the first element.", "id": 38519, "time": "2003-06-06T17:26:47Z", "creator": "elliot200@hotmail.com", "creation_time": "2003-06-06T17:26:47Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "william.barker@wilshire.com", "attachment_id": null, "is_private": false, "id": 38527, "time": "2003-06-06T18:29:53Z", "bug_id": 20556, "creation_time": "2003-06-06T18:29:53Z", "text": "\n\n*** This bug has been marked as a duplicate of 15790 ***"}]