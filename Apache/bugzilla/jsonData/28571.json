[{"count": 0, "tags": [], "bug_id": 28571, "is_private": false, "text": "My script by PHP always send \"Content-Length\" header.\nIf I send request with GET method, I see \"Content-Length\" header, but if I send \nrequest with HEAD method, I can't see it.\nApache 1.3.x always return \"Content-Length\" header -- and this is true.", "id": 56332, "time": "2004-04-24T20:38:43Z", "creator": "rin@starlink.ru", "creation_time": "2004-04-24T20:38:43Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 28571, "is_private": false, "id": 56336, "creation_time": "2004-04-24T20:50:34Z", "time": "2004-04-24T20:50:34Z", "creator": "nd@perlig.de", "text": "Do you send the content as well?", "attachment_id": null}, {"count": 2, "tags": [], "creator": "rin@starlink.ru", "is_private": false, "id": 56337, "attachment_id": null, "bug_id": 28571, "creation_time": "2004-04-24T21:09:34Z", "time": "2004-04-24T21:09:34Z", "text": "Yes, as well.\n\n------------------\n\nRequest:\nGET http://127.0.0.1/pgcms2/public_html/\n\nResponse:\ndate Sat, 24 Apr 2004 21:01:43 GMT \nserver Apache/2.0.49 (Win32) PHP/4.3.6 \nx-powered-by ProgressCMS/2.0.1 (benchmark=0.0206;compress_ratio=37%) \nexpires Sat, 24 Apr 2004 20:25:35 GMT \ncache-control public \npragma public \nlast-modified Sat, 24 Apr 2004 20:25:32 GMT \netag \"bb6ed991c1da918a06cd428b4e8c0de5\" \ncontent-encoding gzip \nvary Accept-Encoding \ncontent-length 3003 \nconnection close \ncontent-type text/html; charset=windows-1251 \n\nRequest:\nHEAD http://127.0.0.1/pgcms2/public_html/\n\nResponse:\ndate Sat, 24 Apr 2004 21:04:00 GMT \nserver Apache/2.0.49 (Win32) PHP/4.3.6 \nx-powered-by ProgressCMS/2.0.1 (benchmark=0.0213;compress_ratio=37%) \nexpires Sat, 24 Apr 2004 20:25:35 GMT \ncache-control public \npragma public \nlast-modified Sat, 24 Apr 2004 20:25:32 GMT \netag \"bb6ed991c1da918a06cd428b4e8c0de5\" \ncontent-encoding gzip \nvary Accept-Encoding \nconnection close \ncontent-type text/html; charset=windows-1251 \n\n------------------\n\nFor HEAD method \"content-length 3003\" can't see"}, {"count": 3, "tags": [], "bug_id": 28571, "text": "\nFor Apache/1.3.28 tests:\n~~~~~~~~~~~~~~~~~~~~~~~~\n\n-------------------------------\n\nRequest:\nGET http://127.0.0.1/pgcms2/public_html/\n\nResponse:\ndate Sat, 24 Apr 2004 21:15:21 GMT \nserver Apache/1.3.28 (Win32) PHP/4.3.6 \nx-powered-by ProgressCMS/2.0.1 (benchmark=0.0197;compress_ratio=37%) \nexpires Sat, 24 Apr 2004 20:25:35 GMT \ncache-control public \npragma public \nlast-modified Sat, 24 Apr 2004 20:25:32 GMT \netag \"bb6ed991c1da918a06cd428b4e8c0de5\" \ncontent-encoding gzip \nvary Accept-Encoding \ncontent-length 3003 \nconnection close \ncontent-type text/html; charset=windows-1251 \n\n\nRequest:\nHEAD http://127.0.0.1/pgcms2/public_html/\n\nResponse:\ndate Sat, 24 Apr 2004 21:18:19 GMT \nserver Apache/1.3.28 (Win32) PHP/4.3.6 \nx-powered-by ProgressCMS/2.0.1 (benchmark=0.0208;compress_ratio=37%) \nexpires Sat, 24 Apr 2004 20:25:35 GMT \ncache-control public \npragma public \nlast-modified Sat, 24 Apr 2004 20:25:32 GMT \netag \"bb6ed991c1da918a06cd428b4e8c0de5\" \ncontent-encoding gzip \nvary Accept-Encoding \ncontent-length 3003 \nconnection close \ncontent-type text/html; charset=windows-1251 \n\n-------------------------------\n", "id": 56338, "time": "2004-04-24T21:18:30Z", "creator": "rin@starlink.ru", "creation_time": "2004-04-24T21:18:30Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "id": 56340, "time": "2004-04-24T22:05:28Z", "bug_id": 28571, "creation_time": "2004-04-24T22:05:28Z", "is_private": false, "text": "Ah, my question was, if you send the whole content also on HEAD requests (not\nonly the content length). You need to do in Apache 2, because it deals with it\nautomatically. You should not care about GET or HEAD. Just treat all such\nrequests as GET."}, {"count": 5, "tags": [], "bug_id": 28571, "is_private": false, "id": 56342, "attachment_id": null, "creator": "rin@starlink.ru", "creation_time": "2004-04-24T23:26:26Z", "time": "2004-04-24T23:26:26Z", "text": "I undestand you.\nYes, I send whole content on GET and HEAD method.\nFor example, I have written my full tests above.\nI think, what Apache 2 don't work true with \"content-length\" header.\nTrue in Apache 1.3.x\nProbably, I do mistake, just it's my opinion.\n---\nBest regards, Rin, Russia."}, {"count": 6, "tags": [], "bug_id": 28571, "text": "Can you attach a small PHP script to reproduce the problem?\nThanks.", "id": 56423, "time": "2004-04-26T17:38:20Z", "creator": "nd@perlig.de", "creation_time": "2004-04-26T17:38:20Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 28571, "is_private": false, "text": "No response from submitter.  Assuming invalid.", "id": 60510, "time": "2004-07-12T18:27:19Z", "creator": "slive@apache.org", "creation_time": "2004-07-12T18:27:19Z", "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 28571, "attachment_id": 15084, "id": 75100, "time": "2005-05-20T06:33:40Z", "creator": "kevin@catalyst.net.nz", "creation_time": "2005-05-20T06:33:40Z", "is_private": false, "text": "Created attachment 15084\nPHP script that reproduces bug"}, {"count": 9, "tags": [], "bug_id": 28571, "is_private": false, "text": "I'm finding this, too.  Content-Length header shows up both for HEAD and GET\nrequests in Apache 1.3.", "id": 75101, "time": "2005-05-20T06:36:36Z", "creator": "kevin@catalyst.net.nz", "creation_time": "2005-05-20T06:36:36Z", "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 28571, "is_private": false, "id": 81907, "attachment_id": null, "creator": "jorton@redhat.com", "creation_time": "2005-10-28T18:26:15Z", "time": "2005-10-28T18:26:15Z", "text": "This is the same problem as the issue for the proxy; the content-length filter\nwill unnecessarily strip the response Content-Length for responses to HEAD.\n\nGreg's fix for 18757 fixes PHP too.\n\n\n*** This bug has been marked as a duplicate of 18757 ***"}]