[{"count": 0, "tags": [], "text": "While the patch for Bug #51270 fixed a PDF/A-1b compliance issue some time ago, the actual v1.1RC1 breaks the PDF/A-1b compliance again.\n\nAdobe Preflight 9.2.0 finds two new issues, if I use FOP v1.1RC1 instead of the patched v1.0:\n\n- CIDSet in subset font is incomplete (5 matches on 1 page)\n- XMP property not predefined and no extension schema\n\nI created a ready-to-run test-FO-file with a suitable configuration in the attachment for v1.0, v1.0HF1 and v1.1RC1. I also added the resulting PDF-files and the (german) reports of Adobe Preflight 9.2.0.", "is_private": false, "id": 162316, "creator": "Oliver.Moehrke@web.de", "time": "2012-09-21T08:53:51Z", "bug_id": 53912, "creation_time": "2012-09-21T08:53:51Z", "attachment_id": null}, {"attachment_id": 29402, "tags": [], "bug_id": 53912, "is_private": false, "count": 1, "id": 162317, "time": "2012-09-21T09:09:23Z", "creator": "Oliver.Moehrke@web.de", "creation_time": "2012-09-21T09:09:23Z", "text": "Created attachment 29402\nFO-test-file, fonts and configuration to reproduce the non-compliant PDF/A-1b output."}, {"count": 2, "tags": [], "text": "You haven't attached an FO, you've attached an XSL style-sheet without the corresponding XML file.\n\nI used PDFBox preflight and it came up with the following warnings:\n7.1 : Error on MetaData, An error has occured when processing the underlying XMP source\n1.4.9 : Trailer Syntax error, Outline Hierarchy doesn't have Count entry\n\nThese warning don't seem to be the same as Acrobat Pro. I'll try running that PDF in Acrobat Pro, but in the meantime could you attach the FO you used please?", "is_private": false, "id": 162401, "creator": "med1985@gmail.com", "time": "2012-09-26T10:32:22Z", "bug_id": 53912, "creation_time": "2012-09-26T10:32:22Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 53912, "attachment_id": null, "is_private": false, "id": 162411, "time": "2012-09-26T12:50:39Z", "creator": "Oliver.Moehrke@web.de", "creation_time": "2012-09-26T12:50:39Z", "text": "The provided \"foptest.fo\" from attachment 29402 is in fact a combination of an XSL and an XSL-FO part to benefit from the <xsl:attribute-set> tag of XSL. In Java, I use an identity transformer to produce the PDF output. On the commandline I use the following to produce the PDF/A-1b output:\n\nfop.bat -c conf\\fop_conf.xml -xml foptest.fo -xsl foptest.fo -pdfa1b foptest.pdf\n\nThe created output of FOP v1.1 RC1 produces the above stated two errors (see foptest_11rc1_report.pdf - I translated the error messages for you).\n\nTo create a PDF/A-1b file that Adobe Preflight tests without errors from the same \"foptest.fo\" you need to apply the patch from #51270 to the original v1.0 FOP source tree (see foptest_10hf1_report.pdf - no errors in here).\n\nOther tools, like CABAReT Stage from Intarsys, warn about other issues (e.g. EAAAAI+DroidSans and EAAAAJ+DroidSans-Bold do that do not have a valid metadata entry). But these are only warnings."}, {"count": 4, "tags": [], "creator": "Oliver.Moehrke@web.de", "attachment_id": 29424, "text": "Created attachment 29424\nUpdated FO test file.\n\nI removed the XSL-part from \"foptest.fo\" so that this file can now be used with the -fo option of fop.bat.", "id": 162431, "time": "2012-09-27T08:34:49Z", "bug_id": 53912, "creation_time": "2012-09-27T08:34:49Z", "is_private": false}]