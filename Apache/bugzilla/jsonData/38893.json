[{"count": 0, "tags": [], "bug_id": 38893, "attachment_id": null, "id": 86608, "time": "2006-03-08T17:05:46Z", "creator": "bt@diamos.de", "creation_time": "2006-03-08T17:05:46Z", "is_private": false, "text": "Hello,\n\nwe are running several ant tasks under various OS like Linux 2.6, Solaris 9/10\n(X86_64/Sparc), HP UX and under all OS ant 1.6.5 has problems when running with\nnohup command.\n\nNohup is an old *nix command which catches the SIGTERM signal while you are\nrunning a program and it's writing a logfile from STDOUT to nohup.out.\nSo far so good, but if we run a ant task which takes several hours to complete\nand we don't wan't to wait until this job is finished, we just close our SSH\nterminal and the job normally keeps going. This is the normal behavior with ant\n1.6.2 but at ant 1.6.5, task are halting suddenly if we close a terminal and on\nthe different terminal we can see that unix processes still exists, but doing\nnothing.\n\nThis is alway reproducible and if we switch back to ant 1.6.2 everything is\nworking fine, the environment hasn't changed meanwhile."}, {"count": 1, "tags": [], "bug_id": 38893, "attachment_id": null, "id": 86618, "time": "2006-03-08T22:04:40Z", "creator": "ddevienne@gmail.com", "creation_time": "2006-03-08T22:04:40Z", "is_private": false, "text": "Did you try running Ant with -noinput? This may help with nohup. --DD"}, {"count": 2, "tags": [], "bug_id": 38893, "text": "No i didn't try this parameter.\nI'll test it and will come back later.", "id": 86631, "time": "2006-03-09T07:26:47Z", "creator": "bt@diamos.de", "creation_time": "2006-03-09T07:26:47Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 38893, "text": "You need to redirect all standard handles to /dev/null:\n\nnohup ant ....... >/dev/null 2>/dev/null </dev/null&\n", "id": 86644, "time": "2006-03-09T16:31:02Z", "creator": "alexeys@inventigo.com", "creation_time": "2006-03-09T16:31:02Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 38893, "text": "Why should i do this, it wasn't necessary at version 1.6.2 ?\nIf I'm doing this way, all log information which is beeing written to STDOUT is\nlost.", "id": 86645, "time": "2006-03-09T16:33:53Z", "creator": "bt@diamos.de", "creation_time": "2006-03-09T16:33:53Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 38893, "attachment_id": null, "id": 86646, "time": "2006-03-09T16:37:05Z", "creator": "alexeys@inventigo.com", "creation_time": "2006-03-09T16:37:05Z", "is_private": false, "text": "I would think you changed Java version as well. In order to preserve output do\nthe following:\n\nnohup ant ... >build.log 2>&1 </dev/null&\ntail -f build.log\n\nOr maybe 2>&1 should be before >build.log - I always forget how it implemented."}, {"count": 6, "tags": [], "creator": "bt@diamos.de", "attachment_id": null, "id": 87027, "time": "2006-03-20T13:56:16Z", "bug_id": 38893, "creation_time": "2006-03-20T13:56:16Z", "is_private": false, "text": "-noinput seems to solve the problem with nohup.\nWhat has changed from ant 1.6.2 to 1.6.5 that this parameter must be set ?\nIt's really annoying to type always -noinput, the command lines already long\nenough... ;-)"}, {"count": 7, "tags": [], "creator": "ddevienne@gmail.com", "attachment_id": null, "text": "Ant recently added the ability to do input. Before this was done, Ant never did \nany input, so the problem never occured. -noinput allows to get that this older \nbeahvior. Glad to hear it works for you. --DD\n\nPS: I would guess </dev/null should also work, but I'm not sure.", "id": 87030, "time": "2006-03-20T15:42:48Z", "bug_id": 38893, "creation_time": "2006-03-20T15:42:48Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 38893, "attachment_id": null, "id": 119942, "time": "2008-08-20T08:04:49Z", "creator": "bodewig@apache.org", "creation_time": "2008-08-20T08:04:49Z", "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of bug 34461 ***"}]