[{"count": 0, "tags": [], "bug_id": 17101, "attachment_id": null, "is_private": false, "id": 31342, "time": "2003-02-15T18:09:55Z", "creator": "edloft@attbi.com", "creation_time": "2003-02-15T18:09:55Z", "text": "Given the build.xml file:\n\n  <project name=\"ant.bat\" default=\"bug\" basedir=\".\">\n    <target name=\"bug\">\n       <echo message=\"args=${args}\"/>\n    </target>\n  </project>\n\nThe command:\n\n  java -cp %ANT_HOME%/lib/ant.jar -Dant.home=%ANT_HOME%\norg.apache.tools.ant.Main -Dargs=x=y\n\nGives the expected results:\n  \n  Buildfile: build.xml\n  \n  bug:\n       [echo] args=x=y\n  \n  BUILD SUCCESSFUL\n  Total time: 1 second\n\nHowever using ant.bat:\n\n  %ANT_HOME%\\bin\\ant -Dargs=x=y\n\nResults in:\n\n  Buildfile: build.xml\n  \n  BUILD FAILED\n  Target `y' does not exist in this project.\n  \n  Total time: 1 second\n\nPlease note ant.bat in release 1.5 is OK."}, {"count": 1, "tags": [], "creator": "conor@apache.org", "is_private": false, "text": "Could you please select the operating system you are using from the drop down.\nIt makes a big difference when looking at the batch files.\n\nAlso, could you edit ant.bat and turn echo on (the first statement), and attach\nthe output to this bug report.\n\nThanks", "id": 31346, "time": "2003-02-16T01:23:10Z", "bug_id": 17101, "creation_time": "2003-02-16T01:23:10Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 17101, "attachment_id": 4892, "id": 31366, "time": "2003-02-16T16:40:43Z", "creator": "edloft@attbi.com", "creation_time": "2003-02-16T16:40:43Z", "is_private": false, "text": "Created attachment 4892\nstandard out with @echo on"}, {"count": 3, "tags": [], "bug_id": 17101, "attachment_id": null, "is_private": false, "id": 31394, "time": "2003-02-17T03:04:55Z", "creator": "conor@apache.org", "creation_time": "2003-02-17T03:04:55Z", "text": "Thanks. This change was introduced to eliminate the special casing of different\nWindows operating systems variants. Whilst, as you say, this worked in Ant 1.5,\nit only did so for NT based systems (Win2k). Windows 95/98/ME users would always\nhave had the problem you identified.\n\nUltimately the root cause is that Windows strips out = characters in arguments.\nIn Win2k, this doesn't happen if you get the line as a whole (%*), only if you\nparse it as single args (%1, shift). On Win95, %* doesn't work. What a mess! \n\nWe could reintroduce the WinNT/2K specific behaviour, along with the 4NT stuff\nand a lot of complexity, and leave the Win95/98/ME users behind or we could\nagree that on Windows you need to quote any arguments which contain the '='\ncharacter. In your case this would be either\n\nant \"-Dargs=x=y\"\nor\nant -Dargs=\"x=y\"\n\nBoth work. I'm going to mark as WONTFIX for now, but reopen if you feel this\nneeds more work."}, {"count": 4, "attachment_id": null, "creator": "edloft@attbi.com", "is_private": false, "id": 31488, "time": "2003-02-18T01:25:05Z", "bug_id": 17101, "creation_time": "2003-02-18T01:25:05Z", "tags": [], "text": "The quotes do not fix the problem when using cygwin to execute ant.bat.\n\nHowever changing my cygwin script:\n  $ANT_HOME/bin/ant.bat $*\nto call the ant script:\n  $ANT_HOME/bin/ant $*\ndoes resolve my problem.  \n\nI'm happy to turn by back on the windows swamp now.\n \nThank you!\n"}]