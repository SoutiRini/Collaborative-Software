[{"count": 0, "tags": [], "creator": "kgambrel@seebeyond.com", "is_private": false, "text": " ", "id": 65016, "time": "2004-10-12T23:10:13Z", "bug_id": 31681, "creation_time": "2004-10-12T23:10:13Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "ANT 1.6.2 fails with \"duplicate targets\" error for the following construction. \nANT 1.6.1 and previous processed it successfully.\n\n----------------------------------------------\nFile entityinclude.xml contains:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <target name=\"jar\" >\n        <echo>included jar target</echo>\n    </target>\n----------------------------------------------\nFile build.xml contains:\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE project [\n    <!ENTITY targets SYSTEM \"entityincludes.xml\">\n]>\n<project name=\"ICAN Suite\" default=\"install\" basedir=\".\">\n\n    <target name=\"jar\" >\n        <echo>base jar target</echo>\n    </target>\n    &targets;\n\n</project>\n\n1.6.1 -- \"ant jar\" gives:\njar:\n     [echo] base jar target\n\nBUILD SUCCESSFUL\n\n1.6.2 -- \"ant jar\" gives:\nBUILD FAILED\nF:\\510Dev\\eGate\\eGatenew\\testemp\\targets.xml:2: Duplicate target 'jar'", "is_private": false, "id": 65018, "creation_time": "2004-10-12T23:19:25Z", "time": "2004-10-12T23:19:25Z", "creator": "kgambrel@seebeyond.com", "bug_id": 31681, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 31681, "attachment_id": null, "id": 65029, "time": "2004-10-13T01:28:14Z", "creator": "ddevienne@lgc.com", "creation_time": "2004-10-13T01:28:14Z", "is_private": false, "text": "I'd not call that a regression, but rather a bug fix! ;-)\n\nI'm tempted to change to Invalid, but will leave it open for now for further \ndiscussion. --DD"}, {"count": 3, "tags": [], "creator": "peterreilly@apache.org", "is_private": false, "text": "It is not a regression, it is a bug fix.\nThe bug was introduced in ant 1.6.0 and fixed in ant 1.6.2.\nIf you check with ant 1.5.4 you will get the same error as ant 1.6.2.\n\nIn ant 1.6.* one can use the <import> task to allow target\noverriding.\n\nimported.xml\n<project>\n    <target name=\"jar\" >\n        <echo>included jar target</echo>\n    </target>\n</project>\n\nbuild.xml\n<project name=\"ICAN Suite\" default=\"jar\" basedir=\".\">\n  <import file=\"imported.xml\"/>\n  <target name=\"jar\" >\n    <echo>the overriding jar target</echo>\n  </target>\n\n</project>\n\nWill output:\njar:\n     [echo] the overriding jar target\n\n\nThanks for the report, it is very useful to get nice small\nbuild scripts that show the issue in question, as then we\ncan run them against the various ant releases!.\n", "id": 65040, "time": "2004-10-13T08:04:17Z", "bug_id": 31681, "creation_time": "2004-10-13T08:04:17Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "kgambrel@seebeyond.com", "is_private": false, "id": 65075, "attachment_id": null, "bug_id": 31681, "creation_time": "2004-10-13T16:25:21Z", "time": "2004-10-13T16:25:21Z", "text": "Thanks for the info.\n\nOh, I agree that it's invalid.  And it should not have worked before 1.6.2, \neither. But, it did.  And, unfortunately, developers took advantage of it get \na \"task override\" capability.\n\nYou say it's a bug fix. Do you have the bugzilla # for the resolution. Before I \nsubmitted the bug, I did a search of the 1.5.x and 1.6.x releases for a similar \nbug report and found nothing. Of course, determining the correct search terms \nfor this issue.\n\nThanks for investigating this issue.\n\n"}, {"count": 5, "tags": [], "text": "There was not a bug for this.\nThe problem was reported on the dev list and was fixed\nwithout a bugzilla entry.\n\nWHATSNEW:\n* Throw build exception if target repeated in build file, but allow targets\n  to be repeated in imported files. \n\nThe bug was introduced with the <import> code.", "is_private": false, "id": 65077, "creation_time": "2004-10-13T16:41:49Z", "time": "2004-10-13T16:41:49Z", "creator": "peterreilly@apache.org", "bug_id": 31681, "attachment_id": null}]