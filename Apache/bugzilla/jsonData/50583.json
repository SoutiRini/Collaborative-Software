[{"count": 0, "tags": [], "creator": "knst.kolinko@gmail.com", "is_private": false, "id": 143334, "attachment_id": null, "bug_id": 50583, "creation_time": "2011-01-14T04:48:37Z", "time": "2011-01-14T04:48:37Z", "text": "Steps to reproduce:\n1. Configure AccessLogValve on the examples webapp:\nE.g., create webapps/examples/META-INF/context.xml with the following content:\n\n<Context>\n    <Valve className=\"org.apache.catalina.valves.AccessLogValve\"\n       directory=\"logs\" prefix=\"examples_access_log.\" suffix=\".txt\"\n       pattern=\"%h %l %u %t &quot;%r&quot; %s %b\" resolveHosts=\"false\"/>\n</Context>\n\n2. Start Tomcat and access\nhttp://localhost:8080/examples/404\n\n3. Expected result: Standard error 404 page provided by Tomcat.\nActual result: blank page.\nIf I use telnet to send the request, I see the following:\nGET /examples/4 HTTP/1.1\nHost:1\n\nHTTP/1.1 404 Not Found\nServer: Apache-Coyote/1.1\nTransfer-Encoding: chunked\nDate: Fri, 14 Jan 2011 09:32:30 GMT\n\n0\n\nIf AccessLogValve is removed from META-INF/context.xml, the correct behaviour is restored. The presence of AccessLogValve in server.xml (as configured by default) does not trigger this issue.\n\nI suspect that the cause might be the same as in bug 50582: a flush() performed by AccessLogValve."}, {"count": 1, "tags": [], "text": "Root cause is the same\n\n*** This bug has been marked as a duplicate of bug 50582 ***", "attachment_id": null, "bug_id": 50583, "id": 143361, "time": "2011-01-15T14:35:17Z", "creator": "markt@apache.org", "creation_time": "2011-01-15T14:35:17Z", "is_private": false}]