[{"count": 0, "tags": [], "bug_id": 47726, "attachment_id": null, "id": 129875, "creation_time": "2009-08-24T04:44:00Z", "time": "2009-08-24T04:44:00Z", "creator": "ngsonhung@gmail.com", "text": "When exporting a PDF, it can't export exactly the Thai language. Although it can show the Thai characters, but it  breaks line between a word. I tried to use attributes relating to white space, but it can't. How could I fix this issue?\n\nEx: my fo file:\n...\n<fo:block font-weight=\"normal\" font-family=\"Arial MS\" line-height=\"12pt\" font-size=\"12pt\" space-before.optimum=\"8pt\" space-after.optimum=\"8pt\" start-indent=\"1cm\" end-indent=\"1cm\">1\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e1c\u0e2a\u0e21\u0e17\u0e35\u0e48\u0e25\u0e30\u0e25\u0e32\u0e22\u0e44\u0e14\u0e49\u0e17\u0e31\u0e19\u0e17\u0e35 2\u0e41\u0e25\u0e30\u0e44\u0e21\u0e48\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e43\u0e0a\u0e49\u0e01\u0e32\u0e01\u0e44\u0e01\u0e48\u0e43\u0e19\u0e01\u0e32\u0e23\u0e40\u0e15\u0e23\u0e35\u0e22\u0e21 \u0e0b\u0e36\u0e48\u0e07\u0e19\u0e49\u0e33\u0e40\u0e01\u0e23\u0e27\u0e35\u0e48\u0e08\u0e30\u0e21\u0e35\u0e25\u0e31\u0e01\u0e29\u0e13\u0e30\u0e40\u0e19\u0e35\u0e22\u0e19 \u0e41\u0e25\u0e30\u0e21\u0e35\u0e01\u0e25\u0e34\u0e48\u0e19\u0e23\u0e2a\u0e02\u0e2d\u0e07\u0e44\u0e01\u0e48\u0e17\u0e35\u0e48 5\u0e2b\u0e2d\u0e21\u0e2d\u0e23\u0e48\u0e2d\u0e22 \n</fo:block>\n...\n\nThanks\nHung", "is_private": false}, {"count": 1, "tags": [], "creator": "manuel@apache.org", "text": "I have no idea how in the Thai language word boundaries are determined but from your snippet below it appears to me that Thai word boundaries are not indicated by whitespace. I suggest you try to put a ZWSP (Zero Width Space) &#x200b; between the Thai characters where there are Thai word boundaries.", "id": 129876, "time": "2009-08-24T05:05:01Z", "bug_id": 47726, "creation_time": "2009-08-24T05:05:01Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "j3322ptm@yahoo.de", "attachment_id": null, "id": 130007, "time": "2009-08-27T12:03:57Z", "bug_id": 47726, "creation_time": "2009-08-27T12:03:57Z", "is_private": false, "text": "The Unicode UAX#14 indicates that proper line breaking for the Tahi language\ninvolves morphological analysis in order to determine word boundaries. The\nstandard considered this as too complex and left it to the \"higher levels\nof processing\".\n\nThe libthai project (http://linux.thai.net/projects/libthai) produces open source\nsoftware for this purpose, written in C/C++, which is used by Mozilla, Gnome\napplications and other OSS. Apparently, Java applications aren't as easily\nsupported, yet."}, {"count": 3, "tags": [], "bug_id": 47726, "text": "(In reply to comment #2)\n> The Unicode UAX#14 indicates that proper line breaking for the Thai language\n> involves morphological analysis in order to determine word boundaries. The\n> standard considered this as too complex and left it to the \"higher levels\n> of processing\".\n> The libthai project (http://linux.thai.net/projects/libthai) produces open\n> source\n> software for this purpose, written in C/C++, which is used by Mozilla, Gnome\n> applications and other OSS. Apparently, Java applications aren't as easily\n> supported, yet.\n\nThe com.ibm.icu.text.ThaiBreakIterator class in recent versions of ICU4J can supposedly do this. It makes use of an included dictionary of Thai words in order to locate valid break points.", "id": 130081, "attachment_id": null, "creator": "housel@acm.org", "creation_time": "2009-08-31T10:19:51Z", "time": "2009-08-31T10:19:51Z", "is_private": false}, {"count": 4, "text": "I'm sorry, I was busy with other tasks, I wasn't able to go on. Now, I'm comming back this issue, I tried to do many ways, I inputed many attributes about the whitespace and inserted the &#x200b; char between the Thai words, even I read code, but I still not find any way to break line as I expected.\n\nAssumption I use the ICU4J to put the &#x200b; char between the Thai string correctly, how could we break line as we expect? \n\nDo we have attributes that can group the words and break line with the group? or break line with the whitespaces?\n\nThank you very much", "bug_id": 47726, "is_private": false, "id": 132030, "time": "2009-11-17T00:51:08Z", "creator": "ngsonhung@gmail.com", "creation_time": "2009-11-17T00:51:08Z", "tags": [], "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 47726, "text": "(In reply to comment #4)\n> Assumption I use the ICU4J to put the &#x200b; char between the Thai string\n> correctly, how could we break line as we expect? \n\nThis should to work. AFAICT Thai letters are mapped to the class AL (ordinary\nletter) for line breaking purposes in FOP, which means FOP wouldn't break lines\nin Thai text except around the Zero Width Spaces.", "id": 132055, "attachment_id": null, "creator": "j3322ptm@yahoo.de", "creation_time": "2009-11-17T13:20:18Z", "time": "2009-11-17T13:20:18Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 47726, "is_private": false, "text": "Created attachment 24664\nTextLayoutManager.java\n\nI don't think that Thai letters are mapped to the class AL. When you debug in LineBreakStatus.java --> nextChar(), if you print the currentClass, it will be 30 (SA). SA means South East Asian (http://unicode.org/reports/tr14/#SA). \n\nIf it is SA, it's able to breaks line at any postion of Thai word. In comment of LineBreakStatus.java, I also see: \"* TODO: Better handling for AI, SA, CB and other line break classes.\".\n\nNow, I fixed issue in FOP 0.94 and attached my file changed. Do you agree with my fix? Please give me your idea. \n\nThanks\nHung", "id": 132598, "time": "2009-12-03T01:55:47Z", "creator": "ngsonhung@gmail.com", "creation_time": "2009-12-03T01:55:47Z", "attachment_id": 24664}, {"count": 7, "tags": [], "creator": "gadams@apache.org", "text": "resetting P2 open bugs to P3 pending further review", "id": 157369, "time": "2012-04-07T01:41:59Z", "bug_id": 47726, "creation_time": "2012-04-07T01:41:59Z", "is_private": false, "attachment_id": null}]