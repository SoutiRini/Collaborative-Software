[{"attachment_id": null, "tags": [], "bug_id": 30642, "is_private": false, "count": 0, "id": 61929, "time": "2004-08-13T05:10:37Z", "creator": "kgreiner@xpediantsolutions.com", "creation_time": "2004-08-13T05:10:37Z", "text": "I got this error running the test cases.\n\n    [junit] Testcase:\ntestAbsolutePath(org.apache.tools.ant.types.XMLCatalogTest):\tFAILED\n    [junit] null\n    [junit] junit.framework.AssertionFailedError\n    [junit] \tat junit.framework.Assert.fail(Assert.java:47)\n    [junit] \tat junit.framework.Assert.assertTrue(Assert.java:20)\n    [junit] \tat junit.framework.Assert.assertNotNull(Assert.java:220)\n    [junit] \tat junit.framework.Assert.assertNotNull(Assert.java:213)\n    [junit] \tat\norg.apache.tools.ant.types.XMLCatalogTest.testAbsolutePath(XMLCatalogTest.java:217)\n                ...\n\nI debugged the code and traced the problem back how XMLCatalog converts a file\nURL into a file path.  It fails to decode %20 sequences into spaces so the file\nexists test fails and filesystemLookup returns null."}, {"attachment_id": 12413, "tags": [], "bug_id": 30642, "text": "Created attachment 12413\nUses URLDecoder.decode() to handle spaces, and other characters, in the file's pathname.", "count": 1, "id": 61930, "time": "2004-08-13T05:11:32Z", "creator": "kgreiner@xpediantsolutions.com", "creation_time": "2004-08-13T05:11:32Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 30642, "is_private": false, "text": "I think the correct solution would be to use FileUtils.fromURI. Using\nURL.getFile() and trying to hack up the result is not guaranteed to work by the\nJava specification. Whereas FU.fURI can be fixed to use new File(URI) when\nrunning on JDK 1.4, which should be reliable, or at least be made to work around\nvarious filename <-> URL idiosyncrasies in one global place.", "id": 65338, "time": "2004-10-20T02:16:45Z", "creator": "jglick@apache.org", "creation_time": "2004-10-20T02:16:45Z", "attachment_id": null}, {"attachment_id": 13219, "tags": [], "bug_id": 30642, "text": "Created attachment 13219\nThis version of the patch uses fromURI.  It also fixes bug #30593 as that is the same error, and patch, but in a different file.", "count": 3, "id": 65689, "time": "2004-10-26T02:46:23Z", "creator": "kevin.greiner@compsol.cc", "creation_time": "2004-10-26T02:46:23Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 30642, "text": "patch applied, thanks.", "count": 4, "id": 66529, "time": "2004-11-05T15:14:13Z", "creator": "bodewig@apache.org", "creation_time": "2004-11-05T15:14:13Z", "is_private": false}]