[{"count": 0, "tags": [], "text": "I have tried the packaged apache2 in Ubuntu 14.04 Trusty (2.4.7-1ubuntu4), as well as a custom build of the 2.4.x branch HEAD on Github (https://github.com/apache/httpd)..\n\nI am running a load-balanced configuration with 2 nodes,  and I have set the  following load balancer configuration:\n\n\t<Proxy balancer://mybalancer>\n\t\tProxySet failonstatus=503\n\t\tBalancerMember http://node1:3000 retry=30\n\t\tBalancerMember http://node2:3000 retry=30\t\t\n\t</Proxy>\n\n\tProxyPass / balancer://mybalancer/\n\tProxyPassReverse / balancer://mybalancer/\t\n\nThe worker still fails and is subject to retry period when my app returns a 500 status, even though that particular status code is not set in my \"failonstatus\" string for the proxy.\n\nThis feature works properly (as expected) in OS X,  and I have not tried any other Linux distros so not sure if it works elsewhere or not.", "is_private": false, "bug_id": 56558, "id": 175427, "time": "2014-05-23T18:02:35Z", "creator": "keith@forwardlight.com", "creation_time": "2014-05-23T18:02:35Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 56558, "text": "It is worth mentioning that I have tried both Ubuntu 12.04 as well as Ubuntu 14.04 and the latest 2.4.x does not work properly in either.", "id": 175428, "time": "2014-05-23T18:03:58Z", "creator": "keith@forwardlight.com", "creation_time": "2014-05-23T18:03:58Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "rpluem@apache.org", "attachment_id": null, "text": "You can only add additional status codes that cause the worker go in error mode. You cannot remove existing ones. 500 always causes the worker to go in error mode.", "id": 175429, "time": "2014-05-23T19:25:38Z", "bug_id": 56558, "creation_time": "2014-05-23T19:25:38Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 56558, "text": "Ruediger,  I am fine with the worker going into error mode. I just don't want it to fail on the next request while it is in the retry wait.\n\nAlso can you please explain why it works differently on OS X vs Ubuntu then?  I get the behavior I desire when using OS X.", "id": 175430, "time": "2014-05-23T19:49:58Z", "creator": "keith@forwardlight.com", "creation_time": "2014-05-23T19:49:58Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 56558, "is_private": false, "text": "(In reply to Keith from comment #3)\n> Ruediger,  I am fine with the worker going into error mode. I just don't\n> want it to fail on the next request while it is in the retry wait.\n> \n> Also can you please explain why it works differently on OS X vs Ubuntu then?\n> I get the behavior I desire when using OS X.\n\nDid you compile the version on OS X on your own from source?", "id": 175432, "time": "2014-05-23T20:12:45Z", "creator": "rpluem@apache.org", "creation_time": "2014-05-23T20:12:45Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "keith@forwardlight.com", "attachment_id": null, "is_private": false, "id": 175433, "time": "2014-05-23T20:18:13Z", "bug_id": 56558, "creation_time": "2014-05-23T20:18:13Z", "text": "It was compiled from source using Macports, so my OS X build is somewhat behind 2.4.x HEAD (version string is Apache/2.4.9).\n\nI will pull the latest source and recompile on OS X to determine if the behavior difference I am observing between OS X and Ubuntu still exists.\n\nThanks\nKeith"}]