[{"count": 0, "tags": [], "bug_id": 20420, "attachment_id": null, "id": 38183, "time": "2003-06-02T15:10:21Z", "creator": "ryan.laus@cmich.edu", "creation_time": "2003-06-02T15:10:21Z", "is_private": false, "text": "Trying to compile Apache 2.0.46 on AIX 4.3.3 with the latest service level of \n4330-11. The following error occures during make:\n\napr_md5.c:753:2: #error Configuration error! crypt_r() should have been selected\n!\nmake[4]: *** [apr_md5.lo] Error 1\nmake[4]: Leaving directory `/usr/local/tmp/httpd-2.0.46/srclib/apr-util/crypto'\nmake[3]: *** [all-recursive] Error 1\nmake[3]: Leaving directory `/usr/local/tmp/httpd-2.0.46/srclib/apr-util/crypto'\nmake[2]: *** [all-recursive] Error 1\nmake[2]: Leaving directory `/usr/local/tmp/httpd-2.0.46/srclib/apr-util'\nmake[1]: *** [all-recursive] Error 1\nmake[1]: Leaving directory `/usr/local/tmp/httpd-2.0.46/srclib'\nmake: *** [all-recursive] Error 1\n\nI am currently using GNU gcc compiler version 3.2.3 with GNU make version \n3.80.  I am able to compile Apache versions 2.0.44 and 2.0.45 without any \nerrors.  There seems to be some sort of conflict with the Apache md5 libraries \nand AIX.  Can't seem to get around this error at all!  If you need any more \ninformation please let me know.  Thank you!\n\nRyan Laus\nProgrammer/Analyst\nCentral Michigan University"}, {"count": 1, "tags": [], "bug_id": 20420, "attachment_id": null, "text": "I'm so sorry about that :(  I tested the security patch that broke that many\ntimes on AIX, but with the vendor compiler using a front-end that set the magic\nsymbol (_THREAD_SAFE) automatically.  As soon as 2.0.46 was really released, up\npopped an e-mail from a gcc regression showing the failure.\n\na work-around is to set CFLAGS=-D_THREAD_SAFE for configure, as in\n\nCFLAGS=-D_THREAD_SAFE ./configure --your-other-options\n\nI've been working on the real fix this a.m. and will commit once I've had a\nchance to test with multiple compilers.\n", "id": 38189, "time": "2003-06-02T15:36:58Z", "creator": "trawick@apache.org", "creation_time": "2003-06-02T15:36:58Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 20420, "attachment_id": null, "id": 38191, "time": "2003-06-02T15:57:57Z", "creator": "trawick@apache.org", "creation_time": "2003-06-02T15:57:57Z", "is_private": false, "text": "now fixed in APR (distributed with Apache httpd)...  this will\nbe in the next release of Apache\n\nFrom CHANGES:\n+  *) Define _THREAD_SAFE for all compilations on AIX.  Previously\n+     those of us who used the vendor compiler had it defined\n+     implicitly and others did not.  The difference became obvious\n+     with the recent thread safety fixes to apr_password_validate().\n\nThanks for your report, and thanks for using Apache!"}, {"count": 3, "tags": [], "bug_id": 20420, "text": "Jeff,\n\nThat seems to have done the trick. Thanks for your help and fast response!\n\nRyan", "id": 38199, "time": "2003-06-02T17:40:56Z", "creator": "ryan.laus@cmich.edu", "creation_time": "2003-06-02T17:40:56Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 20420, "attachment_id": null, "id": 38635, "time": "2003-06-09T21:43:34Z", "creator": "trawick@apache.org", "creation_time": "2003-06-09T21:43:34Z", "is_private": false, "text": "*** Bug 20629 has been marked as a duplicate of this bug. ***"}]