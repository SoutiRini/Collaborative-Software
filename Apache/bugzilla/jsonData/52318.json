[{"attachment_id": null, "tags": [], "creator": "ssku4eto@web.de", "is_private": false, "count": 0, "id": 152121, "time": "2011-12-11T19:49:02Z", "bug_id": 52318, "creation_time": "2011-12-11T19:49:02Z", "text": "<groupId>org.apache.tomcat</groupId>\n<artifactId>tomcat-jdbc</artifactId>\n<version>7.0.22</version>\n\nhas dependenca to apache-juli\n\nMANIFEST:\norg.apache.juli.logging;version=\"[6.0.18, 7.0.0)\"\n\nBUT in POM:\n    <dependency>\n      <groupId>org.apache.tomcat</groupId>\n      <artifactId>tomcat-juli</artifactId>\n      <version>7.0.22</version>\n      <scope>compile</scope>\n    </dependency>\n\nWHY????????"}, {"count": 1, "tags": [], "bug_id": 52318, "attachment_id": null, "text": "Correcting component", "id": 152135, "time": "2011-12-12T23:06:53Z", "creator": "markt@apache.org", "creation_time": "2011-12-12T23:06:53Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 52318, "text": "Bug or not a bug?", "id": 152587, "time": "2012-01-05T12:15:13Z", "creator": "ssku4eto@web.de", "creation_time": "2012-01-05T12:15:13Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 52318, "text": "*** Bug 52429 has been marked as a duplicate of this bug. ***", "id": 152623, "time": "2012-01-08T21:55:56Z", "creator": "bugzilla@pidster.com", "creation_time": "2012-01-08T21:55:56Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 52318, "text": "this \nMANIFEST:\norg.apache.juli.logging;version=\"[6.0.18, 7.0.0)\"\n\nwould indicate that the component can use juli versions from 6.0.18 and up, as well as 7.0.0 and up. not being that familiar with OSGi, what's the issue here? submit a patch", "id": 155133, "time": "2012-03-20T17:10:29Z", "creator": "fhanik@apache.org", "creation_time": "2012-03-20T17:10:29Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 52318, "attachment_id": null, "id": 155137, "time": "2012-03-20T17:38:03Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2012-03-20T17:38:03Z", "is_private": false, "text": "(In reply to comment #4)\n> this \n> MANIFEST:\n> org.apache.juli.logging;version=\"[6.0.18, 7.0.0)\"\n> \n> would indicate that the component can use juli versions from 6.0.18 and up, as\n> well as 7.0.0 and up. not being that familiar with OSGi, what's the issue here?\n> submit a patch\n\nFrom my math knowledge I would read the above range as \"not including 7.0.0\".  That is 6.9.99 is OK, but 7.0.0 is not.\n\nAs some stackoverflow answer hinted, the version ranges are documented \"in section 3.2.6 of the OSGi Core Specification.\"\n\nI think you just mean \">= 6.0.18\" here.  From section 3.2.6 it reads that such a range is written just as \"6.0.18\".  (In Apache Ivy I would write \"[6.0.18,)\", but it is not a valid syntax in OSGi)."}, {"count": 6, "tags": [], "bug_id": 52318, "text": "[6.0.18, 7.0.0) means all versions from including 6.0.18 to except 7.0.0 - not including versions under 6.0.18 or above 7.0.0.\n\nTo fix this issue, you have to change the MANIFEST:\n\nMANIFEST:\norg.apache.juli.logging;version=\"[7.0.0, 7.1.0)\"\n\nOR\n\norg.apache.juli.logging;version=\"[7.0.0, 8.0.0)\"\n\nPlease refet to my last post in Bug 52381\n\nRegards\nPancho", "id": 155215, "time": "2012-03-22T12:46:20Z", "creator": "ssku4eto@web.de", "creation_time": "2012-03-22T12:46:20Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "fhanik@apache.org", "is_private": false, "count": 7, "id": 155312, "time": "2012-03-27T14:41:40Z", "bug_id": 52318, "creation_time": "2012-03-27T14:41:40Z", "text": "(In reply to comment #6)\n> [6.0.18, 7.0.0) means all versions from including 6.0.18 to except 7.0.0 - not\n> including versions under 6.0.18 or above 7.0.0.\n> \n> To fix this issue, you have to change the MANIFEST:\n> \n> MANIFEST:\n> org.apache.juli.logging;version=\"[7.0.0, 7.1.0)\"\n> \n> OR\n> \n> org.apache.juli.logging;version=\"[7.0.0, 8.0.0)\"\n> \n> Please refet to my last post in Bug 52381\n> \n> Regards\n> Pancho\n\naren't you excluding version 6.0.18+ here?"}, {"count": 8, "attachment_id": null, "bug_id": 52318, "text": "(In reply to comment #7)\n\nYes, because ... tomcat-jdbc in the version 7.0.22 has a dependency in the pom file to tomcat-juli in the version 7.0.22 ... soo\n\nMANIFEST:\nImport-Package: org.apache.juli.logging;version=\"[7.0.0, 7.1.0)\"\n\n\n> (In reply to comment #6)\n> > [6.0.18, 7.0.0) means all versions from including 6.0.18 to except 7.0.0 - not\n> > including versions under 6.0.18 or above 7.0.0.\n> > \n> > To fix this issue, you have to change the MANIFEST:\n> > \n> > MANIFEST:\n> > org.apache.juli.logging;version=\"[7.0.0, 7.1.0)\"\n> > \n> > OR\n> > \n> > org.apache.juli.logging;version=\"[7.0.0, 8.0.0)\"\n> > \n> > Please refet to my last post in Bug 52381\n> > \n> > Regards\n> > Pancho\n> \n> aren't you excluding version 6.0.18+ here?", "id": 155323, "time": "2012-03-27T19:20:09Z", "creator": "ssku4eto@web.de", "creation_time": "2012-03-27T19:20:09Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "creator": "fhanik@apache.org", "is_private": false, "count": 9, "id": 155341, "time": "2012-03-28T15:34:18Z", "bug_id": 52318, "creation_time": "2012-03-28T15:34:18Z", "text": "(In reply to comment #8)\n> (In reply to comment #7)\n> \n> Yes, because ... tomcat-jdbc in the version 7.0.22 has a dependency in the pom\n> file to tomcat-juli in the version 7.0.22 ... soo\n> \n> MANIFEST:\n> Import-Package: org.apache.juli.logging;version=\"[7.0.0, 7.1.0)\"\n> \n> \n> > (In reply to comment #6)\n> > > [6.0.18, 7.0.0) means all versions from including 6.0.18 to except 7.0.0 - not\n> > > including versions under 6.0.18 or above 7.0.0.\n> > > \n> > > To fix this issue, you have to change the MANIFEST:\n> > > \n> > > MANIFEST:\n> > > org.apache.juli.logging;version=\"[7.0.0, 7.1.0)\"\n> > > \n> > > OR\n> > > \n> > > org.apache.juli.logging;version=\"[7.0.0, 8.0.0)\"\n> > > \n> > > Please refet to my last post in Bug 52381\n> > > \n> > > Regards\n> > > Pancho\n> > \n> > aren't you excluding version 6.0.18+ here?\n\nwhat's in the POM is not really related to what should be in an OSGI manifest though. Nothing should prevent you from dropping this library into a container running Tomcat 6"}, {"count": 10, "tags": [], "bug_id": 52318, "text": "\n> \n> what's in the POM is not really related to what should be in an OSGI manifest\n> though. Nothing should prevent you from dropping this library into a container\n> running Tomcat 6\n\nOf course it is to 100% related in an OSGI container, like Karaf! \nIf you need version 7 of library A to run version 7 of library B.\nAnd ... is Apache Tomcat an OSGI container? I think no. So the imports and the exports in the MANIFEST are only relevant in an OSGI continer, but they must be the same like these in the pom file or in the build.xml.\nYou can not build with version 7 and want to run with version 6 .. or?", "id": 155349, "time": "2012-03-28T18:07:02Z", "creator": "ssku4eto@web.de", "creation_time": "2012-03-28T18:07:02Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "bug_id": 52318, "attachment_id": null, "id": 155351, "time": "2012-03-28T19:10:09Z", "creator": "fhanik@apache.org", "creation_time": "2012-03-28T19:10:09Z", "is_private": false, "text": "yes, the jdbc-pool library can be built on tomcat 7 and you can drop that into a Tomcat 6 container, and it will work just fine against the tomcat 6 juli library"}, {"count": 12, "tags": [], "bug_id": 52318, "text": "Ok, i undestand ... i am not that familiar with the build and run dependencies of the tomcat libraries.\nPlease correct me if i am wrong:\ntomcat-jdbc in the version 7.0.22 can/should run with tomcat-juli in the version 6.0.18 but has a compile dependency to tomcat-juli in the version 7.0.22.\n\nThe fix of this issue will be than:\ntomcat-jdbc MANIFEST:\nImport-Package: org.apache.juli.logging;version=\"[6.0, 7.1)\"\nOR may be\nImport-Package: org.apache.juli.logging;version=\"[6.0, 8.0)\"\n\nBut be careful with that version range. This means tomcat-jdbc can run with all versions in [6.0.0, 7.1.0) of tomcat-juli.", "id": 155355, "time": "2012-03-29T06:33:10Z", "creator": "ssku4eto@web.de", "creation_time": "2012-03-29T06:33:10Z", "is_private": false, "attachment_id": null}, {"count": 13, "tags": [], "bug_id": 52318, "attachment_id": null, "id": 155371, "time": "2012-03-29T16:21:19Z", "creator": "fhanik@apache.org", "creation_time": "2012-03-29T16:21:19Z", "is_private": false, "text": ".22.\n> \n> The fix of this issue will be than:\n> tomcat-jdbc MANIFEST:\n> Import-Package: org.apache.juli.logging;version=\"[6.0, 7.1)\"\n> OR may be\n> Import-Package: org.apache.juli.logging;version=\"[6.0, 8.0)\"\n> \n> But be careful with that version range. This means tomcat-jdbc can run with all\n> versions in [6.0.0, 7.1.0) of tomcat-juli.\n\nand that is correct. it can run with all versions of 6.\nso, can we get a patch or correct manifest, attached to this bug, and then we can get that taken care of"}, {"count": 14, "tags": [], "bug_id": 52318, "text": "(In reply to comment #13)\n> .22.\n> > \n> > The fix of this issue will be than:\n> > tomcat-jdbc MANIFEST:\n> > Import-Package: org.apache.juli.logging;version=\"[6.0, 7.1)\"\n> > OR may be\n> > Import-Package: org.apache.juli.logging;version=\"[6.0, 8.0)\"\n> > \n> > But be careful with that version range. This means tomcat-jdbc can run with all\n> > versions in [6.0.0, 7.1.0) of tomcat-juli.\n> \n> and that is correct. it can run with all versions of 6.\n> so, can we get a patch or correct manifest, attached to this bug, and then we\n> can get that taken care of\n\nHi Filip,\nhow are you building your manifest files? I hope automatically? It\u00b4s enough to change the version range of tomcat-juli in the tomcat-jdbc MANIFEST.\n\nThe problem is if I provide you a static correct tomcat-jdbc MANIFEST file for the version 7.0.22 ... perhaps it is not compatible with another versions of tomcat-jdbc ... should I?", "id": 155382, "time": "2012-03-30T06:31:58Z", "creator": "ssku4eto@web.de", "creation_time": "2012-03-30T06:31:58Z", "is_private": false, "attachment_id": null}, {"count": 15, "tags": [], "bug_id": 52318, "attachment_id": null, "text": "Hi,\ni recommend reading this whitepaper to understand the versioning in OSGI:\nhttp://www.osgi.org/wiki/uploads/Links/SemanticVersioning.pdf", "id": 157045, "time": "2012-04-02T06:20:57Z", "creator": "ssku4eto@web.de", "creation_time": "2012-04-02T06:20:57Z", "is_private": false}, {"count": 16, "tags": [], "bug_id": 52318, "text": "Requested correct manifest was not provided. Closing bug.", "id": 161245, "time": "2012-08-10T20:28:17Z", "creator": "fhanik@apache.org", "creation_time": "2012-08-10T20:28:17Z", "is_private": false, "attachment_id": null}, {"count": 17, "tags": [], "text": "Created attachment 29897\nUpdated dependency on Juli, allow versions 7.0.x\n\nCould this be fixed?\nI would like to use tomcat-jdbc in an OSGi environment and currently the\nversion restriction [6.0.18, 7.1.0) on juli.logging forces me to install\na version 6 of tomcat-juli.", "attachment_id": 29897, "id": 164906, "creator": "lichtin@yahoo.com", "time": "2013-01-28T11:00:29Z", "bug_id": 52318, "creation_time": "2013-01-28T11:00:29Z", "is_private": false}, {"count": 18, "tags": [], "bug_id": 52318, "text": "Just realize there is another problem when trying to use tomcat-jdbc under OSGi:\nJuli is not a bundle. \nSo the version restriction in tomcat-jdbc's MANIFEST does not really make sense,\nas Juli does not export its packages with a version.", "id": 164910, "time": "2013-01-28T15:20:18Z", "creator": "lichtin@yahoo.com", "creation_time": "2013-01-28T15:20:18Z", "is_private": false, "attachment_id": null}, {"count": 19, "tags": [], "bug_id": 52318, "attachment_id": null, "text": "Original issue should have been fixed by r1455973, r1456080\n\nIssue in comment 18 still remains.", "id": 165819, "time": "2013-03-14T03:56:23Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2013-03-14T03:56:23Z", "is_private": false}, {"count": 20, "tags": [], "text": "(In reply to comment #19)\n> Original issue should have been fixed by r1455973, r1456080\n\nFixed in trunk and 7.0.x and will be included in 7.0.39 onwards.\n\n> Issue in comment 18 still remains.\n\nThere is another bug report for this issue - 52381.\n\nI'm proposing to close this one.", "attachment_id": null, "id": 165824, "creator": "violetagg@apache.org", "time": "2013-03-14T07:50:13Z", "bug_id": 52318, "creation_time": "2013-03-14T07:50:13Z", "is_private": false}]