[{"count": 0, "tags": [], "bug_id": 19964, "attachment_id": null, "id": 37268, "time": "2003-05-15T18:20:15Z", "creator": "mariano@fuegolabs.com", "creation_time": "2003-05-15T18:20:15Z", "is_private": false, "text": "we already have a lots of <junit> tasks in our test system, and now we would\nlike to add a timeout, but since it is painfull to change and maintain a lot of\nbuild files, it would be cool to have a property junit.default.timeout to set\nthe timeout for ALL tests that do not specify it explicitly.\n\nthe only change is in the class JUnitTask and is:\n\n    /**\n     * @return <tt>null</tt> if there is a timeout value, otherwise the\n     * watchdog instance.\n     *\n     * @since Ant 1.2\n     */\n    protected ExecuteWatchdog createWatchdog() throws BuildException {\n        if (timeout == null){\n            String defaultTimeout =\ngetProject().getProperty(\"junit.default.timeout\");\n            if (defaultTimeout == null) {\n            return null;\n        }\n            else {\n                log(\"using junit default timeout\", Project.MSG_VERBOSE);\n                timeout = Integer.valueOf(defaultTimeout);\n            }\n        }\n        return new ExecuteWatchdog(timeout.intValue());\n    }"}, {"count": 1, "tags": [], "creator": "larry.shatzer@mirotechnologies.com", "text": "With ant 1.6 (beta currently) you can use <presetdef>\nExample:\n<presetdef name=\"my.junit\">\n  <junit timeout=\"${junit.timeout}\"/>\n</presetdef>\n\nThen where you have <junit> in your ant file, change to <my.junit>\n\nhttp://ant.apache.org/manual-1.6beta/CoreTasks/presetdef.html\n\nRecommend for closing.", "id": 46385, "time": "2003-10-28T18:44:29Z", "bug_id": 19964, "creation_time": "2003-10-28T18:44:29Z", "is_private": false, "attachment_id": null}]