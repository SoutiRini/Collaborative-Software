[{"count": 0, "tags": [], "bug_id": 954, "attachment_id": null, "id": 1239, "time": "2001-03-13T01:03:50Z", "creator": "michael.mccrann@bigfoot.com", "creation_time": "2001-03-13T01:03:50Z", "is_private": false, "text": "I am trying to sign a jar using the signjar task. I am using the following \nbuild file\n\n<project name=\"Test\" default=\"compile\" basedir=\"/rbuild\">\n  \n  <!-- Set up the global dir names -->\n  <property name=\"dir.build\" location=\"/rbuild\" />\n  <property name=\"dir.security\" location=\"${dir.build}/security\" />\n  \n  <!-- Setup any initialisation stuff -->\n  <target name=\"init\">\n\n    <tstamp />\n     \n  </target>\n\n  <!-- Sign the jars -->\n  <target name=\"signJars\" depends=\"init\" >\n  \n    <property name=\"keyStorePath\" location=\"${dir.security}/rapport.ks\" />\n\n    <signjar \n      jar=\"\\rapport\\jars\\rapport_fe.jar\" \n      alias=\"rapport\" \n      storepass=\"mpompo\" \n      keystore=\"${keyStorePath}\"\n    />\n      \n  </target>\n\n</project>\n\nWhen I run ant using the following command:\n\nant -buildfile xml/bug.xml signJars \n\nI get:\n\nC:\\rbuild>ant -buildfile xml/bug.xml signJars\nBuildfile: xml\\bug.xml\n\ninit:\n\nsignJars:\n  [signjar] Signing Jar : C:\\rapport\\jars\\rapport_fe.jar\n\nBUILD FAILED\n\nC:\\rbuild\\xml\\bug.xml:24: Execute failed: java.io.IOException: CreateProcess: ja\nrsigner -keystore C:\\rbuild\\security\\rapport.ks -storepass mpompo \\rapport\\jars\\\nrapport_fe.jar rapport error=267\n--- Nested Exception ---\njava.io.IOException: CreateProcess: jarsigner -keystore C:\\rbuild\\security\\rappo\nrt.ks -storepass mpompo \\rapport\\jars\\rapport_fe.jar rapport error=267\n        at java.lang.Win32Process.create(Native Method)\n        at java.lang.Win32Process.<init>(Win32Process.java:66)\n        at java.lang.Runtime.execInternal(Native Method)\n        at java.lang.Runtime.exec(Runtime.java:551)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.tools.ant.taskdefs.Execute$Java13CommandLauncher.exec(Exec\nute.java:509)\n        at org.apache.tools.ant.taskdefs.Execute.execute(Execute.java:329)\n        at org.apache.tools.ant.taskdefs.ExecTask.runExec(ExecTask.java:228)\n        at org.apache.tools.ant.taskdefs.ExecTask.execute(ExecTask.java:162)\n        at org.apache.tools.ant.taskdefs.SignJar.execute(SignJar.java:208)\n        at org.apache.tools.ant.Target.execute(Target.java:153)\n        at org.apache.tools.ant.Project.runTarget(Project.java:898)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:536)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:510)\n        at org.apache.tools.ant.Main.runBuild(Main.java:421)\n        at org.apache.tools.ant.Main.main(Main.java:149)\n\nTotal time: 0 seconds\nC:\\rbuild>\n\nNotes \n\n1. The signing works OK when I run it on the command line:\n\nC:\\rbuild>jarsigner -keystore C:\\rbuild\\security\\rapport.ks -storepass mpompo \\r\napport\\jars\\rapport_fe.jar rapport"}, {"count": 1, "tags": [], "text": "Sorry to take so long to look at this bug\n\nerror=267\n\nis a windows error for some problem with a directory. I'm not sure what it would\nmean in this context but it could be a path problem, etc.\n\nI'm going to close this as invalid - please reopen if you still have an issue.", "attachment_id": null, "bug_id": 954, "id": 12121, "time": "2002-03-21T11:28:51Z", "creator": "conor@apache.org", "creation_time": "2002-03-21T11:28:51Z", "is_private": false}]