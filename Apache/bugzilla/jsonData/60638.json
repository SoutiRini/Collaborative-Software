[{"count": 0, "tags": [], "creator": "apache.org@ashus.net", "attachment_id": null, "is_private": false, "id": 196383, "time": "2017-01-25T00:00:45Z", "bug_id": 60638, "creation_time": "2017-01-25T00:00:45Z", "text": "Autoindex has a problem with HTTP/2 enabled HTTPS server's root directory index.\nThe request is terminated and no headers are returned.\nThe log says \"GET / HTTP/2.0\" 200 3346 \"-\" as in 3346 bytes should be returned.\nExample is here: https://files.ashus.net/ .\n\nTo be more specific, if any of these conditions are met, the page works:\n - disabling HTTP/2 (commenting out \"Protocols h2 http/1.1\")\n - creating an index page in root (autoindex is not used)\n - opening an autoindex page of a subfolder https://files.ashus.net/mp3/\n - using HTTP/1.x unencrypted - http://files.ashus.net/\n\nI'm using Debian with kernel 4.8.0-2-686-pae, \nI already tried disabling custom autoindex configuration, it has no effect. I disabled HSTS headers for testing purposes."}, {"count": 1, "text": "Hi, thanks for the report and the links. I see that on the root directory, HTTP/2 reports a stream error. This is most likely a misbehaviour in mod_http2.\n\nCan you add very verbose logging for one request? Like\n  LogLevel http2:trace2\n\nand attach the log (or mail it to me if there's sensitive things inside at icing at apache.org)? \n\nThanks!", "bug_id": 60638, "attachment_id": null, "id": 196391, "time": "2017-01-25T09:56:41Z", "creator": "stefan@eissing.org", "creation_time": "2017-01-25T09:56:41Z", "tags": [], "is_private": false}, {"count": 2, "attachment_id": 34677, "creator": "apache.org@ashus.net", "text": "Created attachment 34677\nverbose log of the error\n\nHere is the requested verbose trace log.", "id": 196425, "time": "2017-01-25T20:41:02Z", "bug_id": 60638, "creation_time": "2017-01-25T20:41:02Z", "tags": [], "is_private": false}, {"count": 3, "text": "Here is the requested verbose log.", "bug_id": 60638, "attachment_id": null, "id": 196426, "time": "2017-01-25T20:43:29Z", "creator": "apache.org@ashus.net", "creation_time": "2017-01-25T20:43:29Z", "tags": [], "is_private": false}, {"count": 4, "text": "Ashus,\n\nunfortunately, that was a bug discovered after the 2.4.25 release. I is (and should also be for your setup) fixes in trunk and the 2.4.x maintenance branch.\n\nThe issue was reported here: https://github.com/icing/mod_h2/issues/126\n\nAlternatively, you can get always the most recent mod_http2 from github (https://github.com/icing/mod_h2/releases).\n\nHope this works for you.\n\nCheers, Stefan", "bug_id": 60638, "attachment_id": null, "id": 196494, "time": "2017-01-27T15:03:44Z", "creator": "stefan@eissing.org", "creation_time": "2017-01-27T15:03:44Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 60638, "attachment_id": null, "id": 196499, "time": "2017-01-27T17:26:39Z", "creator": "apache.org@ashus.net", "creation_time": "2017-01-27T17:26:39Z", "is_private": false, "text": "Thank you for the information and sorry for bothering. I searched for the bug using google and in this bugtracker with zero results."}, {"count": 6, "tags": [], "creator": "stefan@eissing.org", "text": "Not a problem. Hope everything works fine for you with the new version.", "id": 196500, "time": "2017-01-27T17:27:52Z", "bug_id": 60638, "creation_time": "2017-01-27T17:27:52Z", "is_private": false, "attachment_id": null}]