[{"count": 0, "tags": [], "bug_id": 2806, "attachment_id": null, "text": "I can't get form based logon to work reliably in Beta6 (in fact I've had\nproblems for a while)\n\nI have a webapp (called course) and a sub directory (gjava) which is\nprotected. I'm using form based logon with the username and password in\ntomcat-users.xml.\n\ni) If I try and access a resource in \\course\\gjava I get the logon page, if\nI enter a valid username and password everything works.\n\nii) If I try and access a resource in \\course\\gjava I get the logon page, if\nI enter an invalid username and password I get the logon page again - *not*\nthe error page.\n\niii) If I try and access a resource in \\course\\gjava I get the logon page,\nif I enter a valid username and password everything works. But if I hit the\nback button and then enter an invalid username/password I get redirected\nhere http://localhost/course/gjava/j_security_check and get a 404 error\n\niv) If I try and access a resource in \\course\\gjava I get the logon page, if\nI enter an invalid username and password I get the logon page again - *not*\nthe error page. If I now enter the correct password I get the error page,", "id": 4017, "time": "2001-07-25T14:34:26Z", "creator": "kevinj@develop.com", "creation_time": "2001-07-25T14:34:26Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 2806, "attachment_id": null, "text": "First at all, I will suggest to you to try the last nightly builds. We are\nworking fine with 06-26-01 build\n\n> ii) If I try and access a resource in \\course\\gjava I get the logon page, if\n> I enter an invalid username and password I get the logon page again - *not*\n> the error page.\n\nThis works for me. Have you the error login page in a non protected directory?\n\n> iii) If I try and access a resource in \\course\\gjava I get the logon page,\n> if I enter a valid username and password everything works. But if I hit the\n> back button and then enter an invalid username/password I get redirected\n> here http://localhost/course/gjava/j_security_check and get a 404 error\n\nThis is because login page appears from a redirection. It seems work like they\nshould. Maybe you could substitute hour login page with a JSP page and include\ncode to retrieve if the user is already logged and if it's go to an specified page.\n\niv) If I try and access a resource in \\course\\gjava I get the logon page, if\nI enter an invalid username and password I get the logon page again - *not*\nthe error page. If I now enter the correct password I get the error page,\n\nI'm trying to reproduce this but I cannot!!!\n\n", "id": 4044, "time": "2001-07-26T04:50:19Z", "creator": "vicentesalvador@netscape.net", "creation_time": "2001-07-26T04:50:19Z", "is_private": false}, {"count": 2, "tags": [], "creator": "craig.mcclanahan@sun.com", "attachment_id": null, "id": 4061, "time": "2001-07-26T12:16:51Z", "bug_id": 2806, "creation_time": "2001-07-26T12:16:51Z", "is_private": false, "text": "There was a corner case that caused the scenario Kevin observed - when the error\npage was itself within the protected area.  There was already a special \"go\nahead and display it\" check for the login page, so I just added a similar check\nfor the error page.  Will be fixed in nightly build 20010727.\n\nI also modified the standard \"/examples\" form-based login scenario so that the\nlogin and error pages are both within the protected area.  To try it, start\nTomcat and access:\n  http://localhost:8080/examples/jsp/security/protected/index.jsp\n"}]