[{"count": 0, "tags": [], "creator": "rolf.sutter@zurich.ch", "attachment_id": null, "is_private": false, "id": 1761, "time": "2001-04-06T02:14:32Z", "bug_id": 1241, "creation_time": "2001-04-06T02:14:32Z", "text": "i'm working on:\nNT4 (sp6), Tomcat 3.2.1\n\ni try to use both methods of the RequestDispatcher Object in the same servlet \n(say servlet 1).\nServlet 1 includes Servlet 2 ==> works fine\nafter including Servlet2, i try to use the forward method of the \nRequestDispatcher to forward to Servlet3 .\n\nHere is the code:\n\nRequestDispatcher rd = this.getServletContext().getRequestDispatcher(Servlet2);\nrd.include(req, res);\nRequestDispatcher rf = this.getServletContext().getRequestDispatcher(Servlet3);\nrf.forward(req, res);\n \nthis works fine in tomcat 3.1.1 or other servlet-engine-implementations(like \njrun...)\n\nAnd here the error thats thrown: \n\nInternal Servlet Error:\njava.lang.IllegalStateException: Cannot forward as OutputStream or Writer has \nalready been obtained\n\tat org.apache.tomcat.facade.RequestDispatcherImpl.forward\n(RequestDispatcherImpl.java:150)\n\tat AServlet.doPost(AServlet.java:56)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:760)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.tomcat.core.ServletWrapper.doService\n(ServletWrapper.java:404)\n\tat org.apache.tomcat.core.Handler.service(Handler.java:286)\n\tat org.apache.tomcat.core.ServletWrapper.service\n(ServletWrapper.java:372)\n\tat org.apache.tomcat.core.ContextManager.internalService\n(ContextManager.java:797)\n\tat org.apache.tomcat.core.ContextManager.service\n(ContextManager.java:743)\n\tat \norg.apache.tomcat.service.http.HttpConnectionHandler.processConnection\n(HttpConnectionHandler.java:210)\n\tat org.apache.tomcat.service.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:416)\n\tat org.apache.tomcat.util.ThreadPool$ControlRunnable.run\n(ThreadPool.java:498)\n\tat java.lang.Thread.run(Thread.java:484)"}, {"id": 1762, "tags": [], "bug_id": 1241, "is_private": false, "count": 1, "text": "additional:\n\nno OutputStream or Writer already been obtained by programm-code \n", "time": "2001-04-06T03:47:21Z", "creator": "rolf.sutter@zurich.ch", "creation_time": "2001-04-06T03:47:21Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 1241, "attachment_id": 87, "id": 1839, "time": "2001-04-11T02:48:20Z", "creator": "rolf.sutter@zurich.ch", "creation_time": "2001-04-11T02:48:20Z", "is_private": false, "text": "Created attachment 87\nthis are the three servlets to test the bug in your environement"}]