[{"count": 0, "tags": [], "bug_id": 59565, "text": "When I was using Apache 2.2, \"AddDefaultCharset\" in httpd.conf can make the default character set to work.\n\nWhen upgrading to Apache 2..4.20, it no longer works. I had to add \"ForceType\" to vhosts before the web pages will show the charset correctly.\n\nHowever, ForceType also breaks the file downloading. Any types of files will show in the browsers (mp3, pdf, ppt, doc, ..., etc.). Once ForceType is turned off, file downloading will work with appropriate applications.\n\nI tried to change the DEFAULT_ADD_DEFAULT_CHARSET_NAME in include/httpd.conf and recompiled but it didn't help.\n\nSince haven't found any one reporting this, I am curious if this could be a bug in the code.\n\nThis has nothing to do with php. Just plan html files.\nI even tried the <meta http-equiv=\"content-type\" content=\"text/html; charset=xxxx\"> in html files but that didn't help either.\n\nAnyone saw this before?", "id": 191044, "time": "2016-05-17T21:09:18Z", "creator": "joeborge@yahoo.com", "creation_time": "2016-05-17T21:09:18Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 59565, "attachment_id": null, "text": "\"major\" seems like a bit much.  Can you share some basic request/response headers?", "id": 191758, "time": "2016-06-17T19:55:55Z", "creator": "covener@gmail.com", "creation_time": "2016-06-17T19:55:55Z", "is_private": false}, {"count": 2, "tags": [], "creator": "joeborge@yahoo.com", "attachment_id": null, "text": "Here is the header from one of the virtual hosts (chung-shan.hsiao.net):\n\nHTTP/1.1 200 OK => \nDate => Fri, 17 Jun 2016 21:50:57 GMT\nServer => Apache/2.4.20 (Unix) OpenSSL/1.0.1m SVN/1.9.4 PHP/5.6.20\nLast-Modified => Sat, 31 Oct 2015 17:58:37 GMT\nETag => \"a66-5236a4b19aa98\"\nAccept-Ranges => bytes\nContent-Length => 2662\nCache-Control => max-age=0\nExpires => Fri, 17 Jun 2016 21:50:57 GMT\nConnection => close\nContent-Type => text/html; charset=big5\n\nI used \"http://www.webconfs.com/http-header-check.php\" to check the http header.\nThis is when the virtual server has the following settings:\n\n    AddDefaultCharset big5\n    ForceType text/html\n\nWhen I comment out \"ForceType text/html\", the header becomes:\n\n\nHTTP/1.1 200 OK => \nDate => Fri, 17 Jun 2016 21:54:09 GMT\nServer => Apache/2.4.20 (Unix) OpenSSL/1.0.1m SVN/1.9.4 PHP/5.6.20\nX-Powered-By => PHP/5.6.20\nCache-Control => max-age=0\nExpires => Fri, 17 Jun 2016 21:54:09 GMT\nContent-Length => 2662\nConnection => close\nContent-Type => text/html; charset=UTF-8\n\ncharset becomes UTF-8 even with \"AddDefaultCharset big5\" set.\n\nApache 2.2.x didn't seem to have this issue.", "id": 191760, "time": "2016-06-17T21:56:07Z", "bug_id": 59565, "creation_time": "2016-06-17T21:56:07Z", "is_private": false}]