[{"count": 0, "tags": [], "creator": "robert.coup@onetrackmind.co.nz", "text": "Under XP, Java 1.5.0_06-b05\n\nThe following snippet of SVG doesn't render using Squiggle:\n<svg><path d=\"M0 0, L10 0, L10 10, z, M50 0, L60 0, L60 10, z\"/></svg>\n[\norg.apache.batik.bridge.BridgeException:\nfile:/L:/www/cooker/svg-render/test-bug1.svg:3\nThe attribute \"d\" of the element <path> is invalid\n\tat org.apache.batik.bridge.SVGPathElementBridge.buildShape(Unknown Source)\n\tat org.apache.batik.bridge.SVGShapeElementBridge.createGraphicsNode(Unknown Source)\n\tat org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(Unknown Source)\n\tat org.apache.batik.bridge.GVTBuilder.buildComposite(Unknown Source)\n\tat org.apache.batik.bridge.GVTBuilder.build(Unknown Source)\n\tat org.apache.batik.swing.svg.GVTTreeBuilder.run(Unknown Source)\n]\n\nBut this does:\n<svg><path d=\"M0 0, L10 0, L10 10, z M50 0, L60 0, L60 10, z\"/></svg>\n\nAs you can see, the only difference is the comma after the initial 'z'\n\nThanks, Rob :)", "id": 84335, "time": "2006-01-08T09:39:18Z", "bug_id": 38178, "creation_time": "2006-01-08T09:39:18Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 38178, "attachment_id": null, "text": "surprise surprise: i thought 'thats an easy one' - just add a call to\nskipCommaSpaces() before the 'break' in the 'z'-case in method doParse() in\norg.apache.batik.parser.PathParser.java. With that call, the 'z'-command (Z as\nwell) behaves like the other path-commands according to trailing spaces and commas.\n\nBut closer inspection of the BNF of valid path-commands shows, that commas are\nnot allowed *between* path-commands (see http://www.w3.org/TR/SVG11/path.html ).\n\nHow to proceed? Be pragmatic or follow the standard?\n\nBTW: the PathParser-tests in\ntest-resources/org/apache/batik/parser/unitTesting.xml are not focused on commas.\n", "id": 84344, "time": "2006-01-08T19:12:57Z", "creator": "info@dvholten.de", "creation_time": "2006-01-08T19:12:57Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 38178, "is_private": false, "id": 84346, "time": "2006-01-08T21:01:28Z", "creator": "deweese@apache.org", "creation_time": "2006-01-08T21:01:28Z", "tags": [], "text": "My strong inclination is to follow the standard.  However, I\nam keen to get an idea just how much stuff 'breaks' if we do.\n"}, {"count": 3, "tags": [], "creator": "robert.coup@onetrackmind.co.nz", "text": "And I checked the standard too... reading over the BNF again I agree though. \n\nAs an indication, the Adobe viewers (v3 & v6) are both happy with it, and\nFirefox 1.5 only accepts commas between coordinate pairs \n\n( Firefox 1.5 eg.\nworks: <path d=\"M0 0 L10 0 L10 10 z M50 0 L60 0 L60 10 z\" />\ndoesn't: <path d=\"M0 0, L10 0, L10 10, z M50 0, L60 0, L60 10, z\" />\n)\n\nso it looks like W3C just made life hard for everyone... (what's wrong with\nallowing commas and whitespace everywhere?)", "id": 84350, "time": "2006-01-09T00:45:56Z", "bug_id": 38178, "creation_time": "2006-01-09T00:45:56Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "info@dvholten.de", "text": "i wanted to know what the books say about paths:\nEisenberg, SVG Essentials, OReilly:\np 75, example 6-1 uses comma as separator\np 76, example 6-2 same\np 94, example 6-4 not clear for me\nthe other examples i saw looked good.\n\nCagle, SVG Programming, Apress\nall path-examples look good\n\nSalathe, SVG, Markt und Technik (german)\nall path-examples look good from the comma-perspective\n\nFibinger, SVG, Markt und Technik (german)\nall path-examples look good from the comma-perspective\n\n", "id": 84393, "time": "2006-01-09T17:22:37Z", "bug_id": 38178, "creation_time": "2006-01-09T17:22:37Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "robert.coup@onetrackmind.co.nz", "text": "Is my re-reading of the BNF correct? comma-wsp is only allowed between\ncoordinate-pair values, and between repeated coordinate-pair's in a command.\n\nOK: <cmd>X Y,X Y <cmd>X Y        eg. L1 1,2 2 M3 3\nOK: <cmd>X,Y <cmd>X,Y            eg. L1,1 M2,2\nOK: <cmd>X,Y,X,Y <cmd>X Y        eg. L1,1,2,2 M3 3\nBAD: <cmd>X Y, <cmd>X Y          eg. L1 1, M2 2\n\nmy last example works in Batik... so it looks like Mozilla is the only one\nactually following the spec properly...\n\nWatt/Lilley/et.al, SVG Unleashed, Sams:\n pg 236, Listing 6.5: Uses comma to separate subpath\n pg 234-235 discuss whitespace and commas and seem to get it wrong (separating\ncommands with commas). It uses commas to drawto commands repeatedly.", "id": 84410, "time": "2006-01-09T20:28:18Z", "bug_id": 38178, "creation_time": "2006-01-09T20:28:18Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "deweese@apache.org", "text": "Ok, I'm satisfied we should fix the non-conformance.\n", "id": 84425, "time": "2006-01-10T12:23:00Z", "bug_id": 38178, "creation_time": "2006-01-10T12:23:00Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "deweese@apache.org", "attachment_id": null, "id": 86768, "time": "2006-03-13T12:32:19Z", "bug_id": 38178, "creation_time": "2006-03-13T12:32:19Z", "is_private": false, "text": "This is fixed in SVN."}]