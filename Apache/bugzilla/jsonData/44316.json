[{"count": 0, "attachment_id": null, "bug_id": 44316, "is_private": false, "id": 113241, "time": "2008-01-28T16:19:26Z", "creator": "phil@co.ordinate.org", "creation_time": "2008-01-28T16:19:26Z", "tags": [], "text": "The documentation for ScriptAlias states that \"It is safer to avoid placing CGI\nscripts under the DocumentRoot in order to avoid accidentally revealing their\nsource code if the configuration is ever changed. The ScriptAlias makes this\neasy by mapping a URL and designating CGI scripts at the same time.\"\n\nhttpd 1.x would follow ScriptAliases to correctly call a CGI error handler\nspecified with an ErrorDocument statement, located in a ScriptAliased CGI\ndirectory located outside the DocumentRoot as per the above advice.  httpd 2.0\ndoes NOT follow ScriptAliases when calling an ErrorDocument, resulting in a 500\nInternal Server Error.  Nothing is logged to indicate the cause of the error,\nand the fact that ErrorDocument calls do not follow ScriptAliases is not\ndocumented anywhere (that I've found, at least).\nSince it is not documented that httpd 2.0 does NOT follow ScriptAliases when\ninvoking an ErrorDocument, and it worked in httpd 1.0, there is no reason to\nsuspect when troubleshooting the failure that this is the problem.  There is no\nobvious way to reproduce the failure that yields any information about why it\nfailed.\n\nTo further confuse diagnosing the problem, if you try to test your error-handler\nCGI by setting up an alias to load the CGI directly in a browser, instead of in\nresponse to an error, the ScriptAlias will be followed, and the CGI will work\nexactly as you expect it to."}]