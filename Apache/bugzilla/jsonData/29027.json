[{"count": 0, "tags": [], "creator": "alexmcmanus@bigfoot.com", "text": "Consider the following ant script with a taskdef that works as expected:\n\nTest1.xml\n=========\n<project name=\"Test1\" default=\"test\">\n    <taskdef resource=\"net/sf/antcontrib/antcontrib.properties\">\n        <classpath>\n            <pathelement path=\"c:/JavaLibrary/ant-contrib-0.6/lib/ant-contrib-\n0.6.jar\"/>\n        </classpath>\n    </taskdef>\n    <target name=\"test\"/>\n</project>\n\nIn this next example, I define an antlib, and move the taskdef into the antlib:\n\nTest2.xml\n=========\n<project name=\"Test2\" default=\"test\">\n    <taskdef file=\"${basedir}/TestAntLib.xml\"/>\n    <target name=\"test\"/>\n</project>\n\nTestAntLib.xml\n==============\n<antlib>\n    <taskdef resource=\"net/sf/antcontrib/antcontrib.properties\">\n        <classpath>\n            <pathelement path=\"c:/JavaLibrary/ant-contrib-0.6/lib/ant-contrib-\n0.6.jar\"/>\n        </classpath>\n    </taskdef>\n</antlib>\n\nWhen I run the build like this, I get the following error:\n\n  [taskdef] Could not load definitions from resource \nnet/sf/antcontrib/antcontrib.properties. It could not be found.\n\nThis example is as simple as I could reduce it - in a real antlib, it seems to \nget twisted in knots when you include taskdefs with nested classpath elements. \n\nIt seems a reasonable thing to attempt - I'm trying to define an antlib with \nsome macro definitions that depend on external taskdefs, and I don't want the \nbuild script that calls the antlib to have to know how to setup the classpath \nfor tasks that are used internally within the antlib.", "id": 57527, "time": "2004-05-16T21:33:49Z", "bug_id": 29027, "creation_time": "2004-05-16T21:33:49Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 29027, "text": "Sorry for the delay..\nThis was fixed as an experminent in ant 1.6.5.\n", "id": 94625, "time": "2006-10-07T15:35:31Z", "creator": "peterreilly@apache.org", "creation_time": "2006-10-07T15:35:31Z", "tags": [], "is_private": false}]