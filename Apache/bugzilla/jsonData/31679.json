[{"count": 0, "attachment_id": null, "creator": "erik@xinet.com", "is_private": false, "id": 65014, "time": "2004-10-12T22:45:40Z", "bug_id": 31679, "creation_time": "2004-10-12T22:45:40Z", "tags": [], "text": "I have seen this on Windows on 2.0.52 and 1.3.31. Irix and Solaris versions \nwork fine. If you click on an URL like:\n\nhttp://131.106.1.74/webnative/listdir?C:/raid/this+is+a+test++04\n\n(user: erik, passwd: erik in case you want to connect)\n\n(note the two space before 04 encoded as ++),\n\nthe listdir.exe cgi program only receives:\n\nC:/raid/this is a test\n\nas a parameter. The \"  04\" is truncated. In the apache log, the correct entry \nis made with the full argument, it only gets truncated when the cgi is called.\n\n--Erik Zapien"}, {"count": 1, "attachment_id": null, "creator": "nick@webthing.com", "is_private": false, "id": 65020, "time": "2004-10-12T23:41:26Z", "bug_id": 31679, "creation_time": "2004-10-12T23:41:26Z", "tags": [], "text": "How do we know it's not just a bug in your CGI?\n\nWhat happens if you substitute a simple well-known CGI prog such as printenv?"}, {"count": 2, "attachment_id": null, "creator": "erik@xinet.com", "text": "The perl version of printenv that comes with Windows Apache 2 only reads \nenvironment variables (which have no problems). It doesn't read arguments. So, \nI added code to that script to display the arguments passed. This is my \nresulting perl script that I used to test:\n\n#!c:/Perl/bin/Perl.exe\n##\n##  printenv -- demo CGI program which just prints its environment\n##\n\nprint \"Content-type: text/plain\\n\\n\";\nforeach $var (sort(keys(%ENV))) {\n    $val = $ENV{$var};\n    $val =~ s|\\n|\\\\n|g;\n    $val =~ s|\"|\\\\\"|g;\n    print \"${var}=\\\"${val}\\\"\\n\";\n}\n\n$first_arg = shift @ARGV;\nprint \"arg[0] = \", $first_arg, \"\\n\";\n$second_arg = shift @ARGV;\nprint \"arg[1] = \", $second_arg, \"\\n\";\n$third_arg = shift @ARGV;\nprint \"arg[2] = \", $third_arg, \"\\n\";\n$fourth_arg = shift @ARGV;\nprint \"arg[3] = \", $fourth_arg, \"\\n\";\n\nIf you do:\nhttp://131.106.1.74/cgi-bin/printenv.pl?argument1+ignored1+ignored2+ignored3\n\nYou will see all 4 arguments after the env variables with no problems.\n\nIf you do:\nhttp://131.106.1.74/cgi-bin/printenv.pl?argument1++ignored1+ignored2+ignored3\n\nYou only see the first one.\n\nLet me know if you need more information.\n\nThanks,\n\n--Erik Zapien", "id": 65026, "time": "2004-10-13T00:32:14Z", "bug_id": 31679, "creation_time": "2004-10-13T00:32:14Z", "tags": [], "is_private": false}, {"count": 3, "attachment_id": null, "creator": "nick@webthing.com", "is_private": false, "id": 65028, "time": "2004-10-13T01:06:00Z", "bug_id": 31679, "creation_time": "2004-10-13T01:06:00Z", "tags": [], "text": "Ah, you're misusing ISINDEX.  The spec doesn't define double-+, it merely tells\nus this is an optional feature of CGI.  The QUERY_STRING is correct in your\nprintenv.\n\nI won't mark it INVALID in case someone wants to hack on it, but implementation\nof an optional and obsolote feature seems more an Enhancement request than a Bug."}]