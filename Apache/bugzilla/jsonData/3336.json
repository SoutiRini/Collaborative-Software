[{"count": 0, "tags": [], "text": "An ArrayIndexOutOfBoundsException is thrown in webapp \"manager\" when starting\nand stopping webapps several times. Standard httprequests is send to webapp\nmanager from another servlet. See debug trace below. Jdk is 1.2.2 and 1.3.1\nom Solaris Sparc. Tomcat is not reponding at all after this error.\nSometimes the error is from servlet manager, sometimes from my servlet (admin).\n\nDEBUG [HttpProcessor[8080][4]]: Send data \nsun.net.www.protocol.http.HttpURLConnection:http://herkules:8080/manager/list\nDEBUG [HttpProcessor[8080][4]]: Close URLConnection\nDEBUG [HttpProcessor[8080][4]]: Servletnamn: admin\nDEBUG [HttpProcessor[8080][4]]: Webapproot : /home/bj/java/tomcat4/webapps\nDEBUG [HttpProcessor[8080][4]]: Installationskatalog : /home/bj/java/tomcat4\nDEBUG [HttpProcessor[8080][4]]: konfigfil: \n/home/bj/java/tomcat4/webconf/webadm.conf\nWebappLoader[/admin]: Error tracking modifications\nException while handling uncaught exception\nException in thread Exception while handling uncaught exception\nException in thread \"HttpProcessor[8080][3]\" \njava.lang.ArrayIndexOutOfBoundsException\nStack trace failed with exception: java.lang.ArrayIndexOutOfBoundsException\n\"HttpProcessor[8080][3]\" java.lang.ArrayIndexOutOfBoundsException\nStack trace failed with exception: java.lang.ArrayIndexOutOfBoundsException\nStandardWrapperValve[admin]: Allocate exception for servlet admin\nException while handling uncaught exception\nException in thread \"HttpProcessor[8080][4]\" \njava.lang.ArrayIndexOutOfBoundsException\nStack trace failed with exception: java.lang.ArrayIndexOutOfBoundsException", "is_private": false, "id": 4997, "creator": "borje.jonsson@pa-konsult.se", "time": "2001-08-29T04:59:46Z", "bug_id": 3336, "creation_time": "2001-08-29T04:59:46Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 3336, "attachment_id": null, "id": 5007, "time": "2001-08-29T06:20:50Z", "creator": "remm@apache.org", "creation_time": "2001-08-29T06:20:50Z", "is_private": false, "text": "Could you be more specific about the conditions that trigger the problem ?\nAlso, did you try under other operating systems, as \"Stack trace failed with \nexception: java.lang.ArrayIndexOutOfBoundsException\" may also be hinting at \nsome VM problem ?"}, {"count": 2, "tags": [], "text": "I wrote a program hammering the manager servlet with start and stop requests \nfor the 'examples' context. I then ran simultaneously multiple instance of it.\nWhile I haven't been able to reproduce your problem, I've uncovered some thread \nsafety issues which were causing the context to die (I was unable to restart \nit) and which I have fixed.", "attachment_id": null, "bug_id": 3336, "id": 5163, "time": "2001-09-06T11:03:23Z", "creator": "remm@apache.org", "creation_time": "2001-09-06T11:03:23Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 3336, "attachment_id": null, "is_private": false, "id": 5377, "time": "2001-09-11T14:27:07Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-09-11T14:27:07Z", "text": "We have been unable to reproduce this problem.  As Remy mentioned, it is\npossible that the ArrayIndexOutOfBoundsException error is masking some problem\nin the JVM - it's also possible that you are running out of available heap\nmemory.\n\nWe did find and fix some threading related issues with context restarts - could\nyou please try this again with current Tomcat code (version 4.0-rc1 or nightly\nbuild >= 20010911)?  If you are still encountering the problem, try increasing\nthe heap memory size for your JVM to see if it changes the symptoms.  If you are\nstill having problems, please reopen this bug report - a reproducible test case\nwould go a *long* ways towards resolving this.\n"}]