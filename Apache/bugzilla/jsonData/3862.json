[{"count": 0, "tags": [], "bug_id": 3862, "attachment_id": null, "text": "When calling DocumentBuilder.parse(InputStream in), parsing continues until end \nof stream, at which point the stream in closed.  When parsing input from a \nSocket, this closes the Socket, too, meaning that you can't write your response \nback to the OutputStream.  \n\nThe correct way of shuting down a SocketInputStream is to call \nsocket.shutDownInput().  Obviously, an XML parser should not be expected to do \nthis (it doesn't have a handle to the Socket, for a start).\n\nI don't believe that closing any InputStream passed as a parameter to a method \nis good design, as this places additional contractual constraints between the \nclass implementating that method and the class calling the method.  A better \napproach would be to require the calling code to close the stream after the \ncall to parse.\n\nIf the code that creates the stream, closes the stream, then responsibilities \nare clearly defined.  (This also becomes an application of the template method \ndesign pattern.)", "id": 6144, "time": "2001-09-27T15:14:00Z", "creator": "aaronk@geniesystems.com", "creation_time": "2001-09-27T15:14:00Z", "is_private": false}]