[{"count": 0, "tags": [], "bug_id": 41347, "text": "Hi,\nI find the information Connection: Keep-Alive never displayed in the response \nheader. But If I disable keep-alive by setting maxKeepAliveRequests=\"1\", I \nwill see Connection: Close in the response header. \n\nI found that in the java source file \"Http11Processor.java\", line 1597, the \ncodes are:\nif (!keepAlive) {\n\theaders.addValue(Constants.CONNECTION).setString(Constants.CLOSE);\n} else if (!http11 && !error) {\n        headers.addValue(Constants.CONNECTION).setString(Constants.KEEPALIVE);\n}\n\nI think that \"!http11\" should be \"http11\". And I also think the logical is not \nrobust here, how about if all the conditions are not satisfied?\n\nThanks!", "id": 97923, "time": "2007-01-11T02:48:29Z", "creator": "duarthur@yahoo.com", "creation_time": "2007-01-11T02:48:29Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "william.barker@wilshire.com", "attachment_id": null, "text": "RFC 2616 only defines the value \"Close\" for the Connection header.  So Tomcat \ncorrectly only sends Connection: Keep-Alive for HTTP/1.0 clients that request \npersistent connections.", "id": 97963, "time": "2007-01-11T11:25:51Z", "bug_id": 41347, "creation_time": "2007-01-11T11:25:51Z", "is_private": false}]