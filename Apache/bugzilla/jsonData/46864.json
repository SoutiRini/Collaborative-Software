[{"count": 0, "attachment_id": null, "bug_id": 46864, "text": "I have an apache instance where the target for proxying is determined based on client, and the target is stuffed into an environment variable.  The substitution works great in a RewriteRule, but under ProxyPassReverse it doesn't so I'm left spelling out each proxy target for each rewrite.  If substitution were working the config files could be much smaller, more elegant, and less error-prone.\n\nExample (just thinly blinded from real config):\n\n  RewriteRule ^/app/(.*)$ http://%{ENV:next_proxy}:8080/app/$1 [P,L]\n# this should work, but doesn't, so the next rules spell them out\n#  ProxyPassReverse /app/ http://%{ENV:next_proxy}:8080/app/\n  ProxyPassReverse /app/ http://localhost:8080/app/\n  ProxyPassReverse /app/ http://192.168.1.1:8080/app/", "id": 125587, "time": "2009-03-16T13:03:55Z", "creator": "bill+apache@bfccomputing.com", "creation_time": "2009-03-16T13:03:55Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 46864, "text": "It sounds like the ProxyPassInterpolateEnv directive in 2.2.9 and later would do what you want.  If you need help configuring it, you can ask on the users list. If that's not the function that you need, please reopen and explain in more detail.", "id": 125656, "time": "2009-03-20T09:27:55Z", "creator": "poirier@pobox.com", "creation_time": "2009-03-20T09:27:55Z", "tags": [], "is_private": false}]