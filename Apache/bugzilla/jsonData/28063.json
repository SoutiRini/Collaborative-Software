[{"count": 0, "text": "/* Kill remaining threads off the hard way */\n    if (threads_created) {\n        ap_log_error(APLOG_MARK,APLOG_NOTICE, APR_SUCCESS, ap_server_conf, \n                     \"Child %d: Terminating %d threads that failed to exit.\",\nmy_pid);\nshould be ==>>>      \"Child %d: Terminating %d threads that failed to exit.\",\nmy_pid, threads_created);\n\n\n    }\n    for (i = 0; i < threads_created; i++) {\n        int *score_idx;\n        TerminateThread(child_handles[i], 1);\n        CloseHandle(child_handles[i]);\n        /* Reset the scoreboard entry for the thread we just whacked */\n        score_idx = apr_hash_get(ht, &child_handles[i], sizeof(HANDLE));\nshould insert ===> if (score_idx != NULL)\n        ap_update_child_status_from_indexes(0, *score_idx, SERVER_DEAD, NULL); \n      \n    }", "bug_id": 28063, "attachment_id": null, "id": 54895, "time": "2004-03-30T19:24:50Z", "creator": "eider@bol.com.br", "creation_time": "2004-03-30T19:24:50Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 28063, "attachment_id": null, "is_private": false, "id": 54898, "time": "2004-03-30T20:18:12Z", "creator": "trawick@apache.org", "creation_time": "2004-03-30T20:18:12Z", "text": "2.0.49 code has same issues"}, {"text": "The first part of the patch is clearly needed.\n\nCan you verify that you had a crash that required the second change?  No problem\nhere with a bit of defensive programming in case the code above changes, but\nsince threads_created and hash table entries are created in lock step, I don't\nsee how there could be no hash entry.  Curious!\n\n\n", "tags": [], "bug_id": 28063, "is_private": false, "count": 2, "id": 55127, "time": "2004-04-02T01:48:21Z", "creator": "trawick@apache.org", "creation_time": "2004-04-02T01:48:21Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "eider@bol.com.br", "attachment_id": null, "id": 55300, "time": "2004-04-05T12:27:11Z", "bug_id": 28063, "creation_time": "2004-04-05T12:27:11Z", "is_private": false, "text": "I don't know why, but it crashed for me in this line. When I was looking into\nthe code, I've found the first wrong line and subimitted both of them.\nI think it is related with pool cleanups."}, {"count": 4, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "id": 61983, "time": "2004-08-14T10:59:55Z", "bug_id": 28063, "creation_time": "2004-08-14T10:59:55Z", "is_private": false, "text": "Nobody chimed in with an explanation for exactly why the \"if (score_idx !=\nNULL)\" is needed, so I would prefer not to commit that.  However, that's no\nreason to hold up the other fix, which should have been committed long ago.\n\nPlease re-open the PR if you find out why the extra check was needed.\n\nThanks for your fix!\n"}]