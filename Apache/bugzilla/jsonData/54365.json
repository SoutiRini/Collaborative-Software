[{"count": 0, "attachment_id": null, "bug_id": 54365, "text": "Apache 2.4.3 - Solaris 10 sparc 64, event-mpm\nAPR - 1.4.6, APR util 1.4.1\n\nWhilst downloading a file, apache is closing the connection before the transfer is complete. \n\nTruss output shows this as each connection is closed before the client initiates a retry and a partial response is returned:\n17543/1:        read(7, \" !\", 1)                                = 1\n17543/1:        lwp_wait(2, 0xFFFFFFFF7FFFF26C)                 = 0\n17543/1:        lwp_kill(67, SIGHUP)                            = 0\n17543/67:           Received signal #1, SIGHUP, in port_getn() [caught]\n17543/67:             siginfo: SIGHUP pid=17543 uid=4001360 code=-1\n17543/67:       port_getn(3, 0x100429558, 64, 1, 0xFFFFFFFF727FBA90) Err#4 EINTR\n17543/67:       lwp_sigmask(SIG_SETMASK, 0xFFBEE007, 0x0000FFF7) = 0xFFBFFEFF [0x0000FFFF]\n17543/67:       setcontext(0xFFFFFFFF727FB160)\n17543/67:       port_dissociate(3, 4, 0x00000006)               = 0\n17543/67:       port_dissociate(3, 4, 0x00000005)               = 0\n17543/67:       close(6)                                        = 0\n17543/67:       close(5)                                        = 0\n\nSymptoms look similar to previous APR related bug: https://issues.apache.org/bugzilla/show_bug.cgi?id=42580\n\nI'm able to reproduce by starting with StartServers 120, ThreadsPerChild 64, then starting a single request to download a large file. As apache clears down the idle threads, the active thread appears to be killed along with the idle ones.\nSo far unable to reproduce with StartServers 3, ThreadsPerChild 25.", "id": 164314, "time": "2013-01-02T12:15:38Z", "creator": "hadfieldj@gmail.com", "creation_time": "2013-01-02T12:15:38Z", "tags": [], "is_private": false}]