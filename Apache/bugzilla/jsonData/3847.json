[{"count": 0, "tags": [], "creator": "brett.knights@tanner.com", "text": "I have a web app where access is managed by Apache using mod_ntlm. The servlet \nuses the req.getRemoteUser() method to determine who is logged in. This has \nworked fine with ApacheJServ and all TC3.3s to now (using ajp13 only - ajp12 \nalso had this problem)\nWhen I installed TC3.3rc1 this broke. Apache is still authenticating the user \nand the authorization header is being passed through (useless since it is \nencrypted) but the req.getRemoteUser() method returns nothing.\n\nFYI the spec says getRemoteUser is to return the user name \"that the client \nauthenticated with\". It doesn't say that \"the client authenticated with the \nservlet container with\". By way of clarifiction the servlet 2.3 api docs \nsay: \"same as the value of the cgi variable REMOTE_USER\"", "id": 6077, "time": "2001-09-26T17:38:01Z", "bug_id": 3847, "creation_time": "2001-09-26T17:38:01Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 3847, "attachment_id": null, "id": 6086, "time": "2001-09-27T01:16:20Z", "creator": "nacho@apache.org", "creation_time": "2001-09-27T01:16:20Z", "is_private": false, "text": "AFAIK this is by desing, now AJp12 and Ajp13 interceptors have a atributte \ncalled \"tomcatAuthentication\" that controls how authentication is done, obeying \nHTTP server , apache in your case, or Tomcat own authentication mechanism.., \nand is true by default.., so you need to add a tomcatAuthentication=\"false\" to \nyour connector interceptors..\n\nWe will try to document that better.. sorry about that..\n\nPlease test this \"feature\" ASAP..\n"}, {"count": 2, "tags": [], "bug_id": 3847, "is_private": false, "id": 6125, "creation_time": "2001-09-27T12:25:10Z", "time": "2001-09-27T12:25:10Z", "creator": "brett.knights@tanner.com", "text": "It works.", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 3847, "text": "Not a bug", "id": 6133, "time": "2001-09-27T12:55:23Z", "creator": "nacho@apache.org", "creation_time": "2001-09-27T12:55:23Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 3847, "is_private": false, "count": 4, "id": 6588, "time": "2001-10-11T06:20:47Z", "creator": "nacho@apache.org", "creation_time": "2001-10-11T06:20:47Z", "text": "*** Bug 4101 has been marked as a duplicate of this bug. ***"}, {"count": 5, "attachment_id": null, "bug_id": 3847, "is_private": false, "id": 12351, "time": "2002-03-26T18:29:19Z", "creator": "hoju@visi.com", "creation_time": "2002-03-26T18:29:19Z", "tags": [], "text": "This information exists in the Tomcat 3.3.x Server.xml.  However, it does not\nexist in the 4.x.x Server.xml.  Might want to tell the developers working on\n4.x.x to add that documentation.\n\nJake"}]