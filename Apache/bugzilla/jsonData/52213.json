[{"count": 0, "tags": [], "text": "The boolean flag \"org.apache.catalina.tribes.transport.bio.util.FastQueue.enabled\" may be read/written by multiple threads concurrently (See <http://svn.apache.org/repos/asf/!svn/bc/1203897/tomcat/trunk/java/org/apache/catalina/tribes/group/interceptors/MessageDispatchInterceptor.java>). Therefore, accesses to it should be properly synchronized. It is sufficient to make this boolean flag volatile to protect access to it.\n\nSee <https://www.securecoding.cert.org/confluence/display/java/VNA00-J.+Ensure+visibility+when+accessing+shared+primitive+variables> for more information about this bug pattern.\n\nKeshmesh (https://keshmesh.cs.illinois.edu/) is an Eclipse plugin that\nanalyzes the source code of Java programs for common concurrency bug patterns. We used Keshmesh to detect this concurrency bug pattern.", "attachment_id": null, "id": 151639, "creator": "reprogrammer@gmail.com", "time": "2011-11-18T23:29:32Z", "bug_id": 52213, "creation_time": "2011-11-18T23:29:32Z", "is_private": false}, {"count": 1, "tags": [], "creator": "reprogrammer@gmail.com", "text": "(In reply to comment #0)\n> The boolean flag\n> \"org.apache.catalina.tribes.transport.bio.util.FastQueue.enabled\" may be\n> read/written by multiple threads concurrently (See\n> <http://svn.apache.org/repos/asf/!svn/bc/1203897/tomcat/trunk/java/org/apache/catalina/tribes/group/interceptors/MessageDispatchInterceptor.java>).\n> Therefore, accesses to it should be properly synchronized. It is sufficient to\n> make this boolean flag volatile to protect access to it.\n> \n> See\n> <https://www.securecoding.cert.org/confluence/display/java/VNA00-J.+Ensure+visibility+when+accessing+shared+primitive+variables>\n> for more information about this bug pattern.\n> \n> Keshmesh (https://keshmesh.cs.illinois.edu/) is an Eclipse plugin that\n> analyzes the source code of Java programs for common concurrency bug patterns.\n> We used Keshmesh to detect this concurrency bug pattern.\n\nI made a typo in the URL of Keshmesh the correct URL is <http://keshmesh.cs.illinois.edu/>.", "id": 151640, "time": "2011-11-18T23:31:22Z", "bug_id": 52213, "creation_time": "2011-11-18T23:31:22Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "reprogrammer@gmail.com", "is_private": false, "count": 2, "id": 151799, "time": "2011-11-25T19:02:47Z", "bug_id": 52213, "creation_time": "2011-11-25T19:02:47Z", "text": "Please note that the underlying problem is similar to Bug 48235.\n\nKeshmesh <http://keshmesh.cs.illinois.edu/> detected the unprotected flag \"FastQueue.enabled\" when we annotated \"org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor.run()\" as an entry method."}, {"attachment_id": null, "tags": [], "creator": "markt@apache.org", "is_private": false, "count": 3, "id": 152380, "time": "2011-12-23T21:16:31Z", "bug_id": 52213, "creation_time": "2011-12-23T21:16:31Z", "text": "Fixed in trunk and 7.0.x and will be included in 7.0.24 onwards."}]