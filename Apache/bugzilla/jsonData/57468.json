[{"count": 0, "tags": [], "bug_id": 57468, "attachment_id": null, "id": 180401, "time": "2015-01-19T21:13:17Z", "creator": "dustin@virtualroadside.com", "creation_time": "2015-01-19T21:13:17Z", "is_private": false, "text": "Git gets rid of empty directories, so compilation fails if 'lib' and 'compile-lib' aren't there. \n\nPatch is trivial: https://github.com/apache/poi/pull/16"}, {"count": 1, "tags": [], "text": "These two directories should always be created by the compilation as they usually contain the downloaded 3rd party libs. In fact some of the POI developers work with Git-svn and do not see this problem, so can you please describe a bit more how you trigger this, e.g. which ant-steps from a clean checkout lead to which errors here for you?", "is_private": false, "id": 180403, "creator": "dominik.stadler@gmx.at", "time": "2015-01-19T21:18:26Z", "bug_id": 57468, "creation_time": "2015-01-19T21:18:26Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 57468, "attachment_id": null, "id": 180404, "time": "2015-01-19T21:28:44Z", "creator": "dustin@virtualroadside.com", "creation_time": "2015-01-19T21:28:44Z", "is_private": false, "text": "From the trunk I checked out from github, at first I get this error message when doing 'ant compile':\n\nBUILD FAILED\n/Users/dspicuzz/src/poi/build.xml:404: Directory does not exist: /Users/dspicuzz/src/poi/lib\n\nOk.. not a big deal, easy enough to do. However, then I get this error after creating lib:\n\nBUILD FAILED\n/Users/dspicuzz/src/poi/build.xml:494: The following error occurred while executing this line:\n/Users/dspicuzz/src/poi/build.xml:398: java.io.FileNotFoundException: /Users/dspicuzz/src/poi/compile-lib/bcprov-ext-jdk15on-1.51.jar (No such file or directory)\n\tat java.io.FileOutputStream.open(Native Method)\n\tat java.io.FileOutputStream.<init>(FileOutputStream.java:213)\n\tat java.io.FileOutputStream.<init>(FileOutputStream.java:162)\n\tat org.apache.tools.ant.taskdefs.Get$GetThread.downloadFile(Get.java:796)\n\tat org.apache.tools.ant.taskdefs.Get$GetThread.get(Get.java:633)\n\tat org.apache.tools.ant.taskdefs.Get$GetThread.run(Get.java:616)\n\n\nAn alternative to my patch could be to check for the existance of compile-lib, and give a similar error message."}, {"count": 3, "tags": [], "bug_id": 57468, "attachment_id": null, "is_private": false, "id": 180408, "time": "2015-01-20T08:05:55Z", "creator": "dominik.stadler@gmx.at", "creation_time": "2015-01-20T08:05:55Z", "text": "This is really strange, target \"compile\" depends on target \"init\", which depends on \"check-jars\" and \"fetch-jars\" where these directories are created. It seems somehow the check for existence of files incorrectly misses to see that the files are not there.\n\nCan you provide the full output from running \"ant -v compile\" to let us see which other targets are called and why the mkdirs/downloads are not performed. I suspect this is something specific to Mac OS X here."}, {"count": 4, "tags": [], "bug_id": 57468, "attachment_id": null, "is_private": false, "id": 180422, "time": "2015-01-20T18:44:38Z", "creator": "dustin@virtualroadside.com", "creation_time": "2015-01-20T18:44:38Z", "text": "$ ant -v compile\nApache Ant(TM) version 1.9.4 compiled on April 29 2014\nTrying the default build file: build.xml\nBuildfile: /Users/dspicuzz/src/poi2/build.xml\nDetected Java version: 1.8 in: /Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk/Contents/Home/jre\nDetected OS: Mac OS X\nparsing buildfile /Users/dspicuzz/src/poi2/build.xml with URI = file:/Users/dspicuzz/src/poi2/build.xml\nProject base dir set to: /Users/dspicuzz/src/poi2\nparsing buildfile jar:file:/usr/local/Cellar/ant/1.9.4/libexec/lib/ant.jar!/org/apache/tools/ant/antlib.xml with URI = jar:file:/usr/local/Cellar/ant/1.9.4/libexec/lib/ant.jar!/org/apache/tools/ant/antlib.xml from a zip file\n [property] Loading Environment env.\nProperty \"env.FORREST_HOME\" has not been set\nProperty \"env.http_proxy\" has not been set\nProperty \"env.CLASSPATH\" has not been set\n [macrodef] creating macro  ooxml-test-runner\n [macrodef] creating macro  m2-install\nBuild sequence for target(s) `compile' is [check-jars, fetch-jars, check-ooxml-jars, fetch-ooxml-jars, init, compile-main, compile-scratchpad, check-ooxml-xsds, fetch-ooxml-xsds, check-compiled-ooxml-xsds, compile-ooxml-xsds, compile-ooxml, compile-examples, compile-excelant, compile]\nComplete build sequence is [check-jars, fetch-jars, check-ooxml-jars, fetch-ooxml-jars, init, compile-main, compile-scratchpad, check-ooxml-xsds, fetch-ooxml-xsds, check-compiled-ooxml-xsds, compile-ooxml-xsds, compile-ooxml, compile-examples, compile-excelant, compile, maven.ant.tasks-check, compile-ooxml-lite, compile-all, compile-version, -manifest, jar, maven-poms, mvn-install, jar-src, jacocotask, test-ooxml-lite, release-notes, -test-excelant-write-testfile, -check-forrest-installed, -check-docs, docs, javadocs, site, rat-check, clean, -test-main-check, test-main, -test-scratchpad-check, test-scratchpad-download-resources, test-scratchpad, -test-ooxml-check, test-ooxml, -test-excelant-check, test-excelant, test, testcoveragereport, test-all, -do-jar-check-javadocs-package-list, -do-jar-create-javadocs-package-list, jar-javadocs, assemble, dist, -test-scratchpad-write-testfile, testexist, -test-main-write-testfile, compile-integration, -test-integration-check, test-integration, findbugs, help, -test-ooxml-write-testfile, downloadfile, -test-property-check, -do-jar-javadocs, jenkins, -test-integration-write-testfile, gump, ]\n\ncheck-jars:\n\nBUILD FAILED\n/Users/dspicuzz/src/poi2/build.xml:404: Directory does not exist: /Users/dspicuzz/src/poi2/lib\n\tat org.apache.tools.ant.taskdefs.Delete.handle(Delete.java:719)\n\tat org.apache.tools.ant.taskdefs.Delete.execute(Delete.java:629)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n\tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:483)\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n\tat org.apache.tools.ant.Task.perform(Task.java:348)\n\tat org.apache.tools.ant.Target.execute(Target.java:435)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:456)\n\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1364)\n\tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1248)\n\tat org.apache.tools.ant.Main.runBuild(Main.java:851)\n\tat org.apache.tools.ant.Main.startAnt(Main.java:235)\n\tat org.apache.tools.ant.launch.Launcher.run(Launcher.java:280)\n\tat org.apache.tools.ant.launch.Launcher.main(Launcher.java:109)"}, {"attachment_id": null, "tags": [], "bug_id": 57468, "is_private": false, "count": 5, "id": 180447, "time": "2015-01-21T20:47:35Z", "creator": "dominik.stadler@gmx.at", "creation_time": "2015-01-21T20:47:35Z", "text": "Now the problem is obvious, if the lib-dir is missing, the <delete> fails. I have added an additional mkdir in r1653643 to avoid this problem. Thanks for reporting."}, {"count": 6, "tags": [], "creator": "dominik.stadler@gmx.at", "is_private": false, "text": "*** Bug 57502 has been marked as a duplicate of this bug. ***", "id": 180592, "time": "2015-01-27T15:31:14Z", "bug_id": 57468, "creation_time": "2015-01-27T15:31:14Z", "attachment_id": null}]