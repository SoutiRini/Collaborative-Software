[{"count": 0, "tags": [], "creator": "eric@freesa.org", "attachment_id": null, "id": 130754, "creation_time": "2009-09-30T01:36:30Z", "time": "2009-09-30T01:36:30Z", "bug_id": 47919, "text": "When looking at a catalina.out, it's not always clear what the environment variables resolved to at the time the process was started.\n\nThis information may be echoed to the screen if not started by hand, but that may be gone by the time we're looking at the log file.\n\nIt would be helpful to log these variables to the catalina.out at startup.", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 24325\nexample patch for logging environment variables to catalina.out at start time \n\nPerhaps doing something a little like this.", "is_private": false, "id": 130755, "creator": "eric@freesa.org", "time": "2009-09-30T01:40:43Z", "bug_id": 47919, "creation_time": "2009-09-30T01:40:43Z", "attachment_id": 24325}, {"count": 2, "tags": [], "text": "or perhaps cleaner as:\n\ndiff -u catalina.sh.orig catalina.sh\n--- catalina.sh.orig    2009-09-30 10:22:39.039478613 +0200\n+++ catalina.sh    2009-09-30 11:26:31.606955254 +0200\n@@ -265,6 +265,22 @@\n\n   shift\n   touch \"$CATALINA_BASE\"/logs/catalina.out\n+\n+  CATALINA_OUT=\"$CATALINA_BASE\"/logs/catalina.out\n+  cat <<EOF >> $CATALINA_OUT\n+Using CATALINA_BASE:      $CATALINA_BASE\n+Using CATALINA_HOME:      $CATALINA_HOME\n+Using CATALINA_TMPDIR:    $CATALINA_TMPDIR\n+Using JAVA_HOME:          $JAVA_HOME\n+Using JRE_HOME:           $JRE_HOME\n+Using _RUNJAVA:           $_RUNJAVA\n+Using _RUNJAVA -version   $($_RUNJAVA -version 2>&1)\n+Using JAVA_OPTS:          $JAVA_OPTS\n+Using CATALINA_OPTS:      $CATALINA_OPTS\n+Using JAVA_ENDORSED_DIRS: $JAVA_ENDORSED_DIRS\n+Using CLASSPATH:          $CLASSPATH\n+EOF\n+\n   if [ \"$1\" = \"-security\" ] ; then\n     echo \"Using Security Manager\"\n     shift", "is_private": false, "id": 130756, "creator": "eric@freesa.org", "time": "2009-09-30T03:32:30Z", "bug_id": 47919, "creation_time": "2009-09-30T03:32:30Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 47919, "text": "The recently added VersionLoggerListener has been extended to optionally include these environment variables. This feature is enabled by default.\n\nThis change has been applied to 8.0.x for 8.0.15 onwards.\n\nI do not intend to propose this for backport to 7.0.x or 6.0.x.", "id": 178346, "time": "2014-10-08T14:06:51Z", "creator": "markt@apache.org", "creation_time": "2014-10-08T14:06:51Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "This is back-ported in 7.0.x and will be available in 7.0.57 onwards.", "is_private": false, "id": 178624, "creator": "violetagg@apache.org", "time": "2014-10-20T15:21:39Z", "bug_id": 47919, "creation_time": "2014-10-20T15:21:39Z", "attachment_id": null}]