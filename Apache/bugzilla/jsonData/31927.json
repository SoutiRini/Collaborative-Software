[{"attachment_id": null, "tags": [], "bug_id": 31927, "is_private": false, "count": 0, "id": 65861, "time": "2004-10-27T21:26:59Z", "creator": "m4e35wr02@sneakemail.com", "creation_time": "2004-10-27T21:26:59Z", "text": "CVS version 1.28 of org.apache.tools.ant.types.CommandlineJava (done just before\nAnt 1.5) had a change to the system property\nhandling in the setSystem method.\n\nThe line:\n\n                Properties p = new Properties(sys = System.getProperties());\n\nwas changed to:\n\n                sys = System.getProperties();\n                Properties p = new Properties();\n                for (Enumeration e = sys.keys(); e.hasMoreElements(); ) {\n                    Object o = e.nextElement();\n                    p.put(o, sys.get(o));\n                }\n\nThe problem is that the system property defaults are not copied over because\nProperties.keys() does not return the defaults in the Enumeration.\n\nWe were doing a similar thing:\n\nProperties props = new Properties(System.getProperties())\nprops.put(...\nSystem.setProperties(props)\n\nAs a result, our \"old\" system properties got turned into defaults.  So, the\nsetSystem method did not copy them over.\n\nThe fix is pretty easy, so I have marked this problem as minor - if it is really\na problem."}, {"count": 1, "tags": [], "bug_id": 31927, "is_private": false, "id": 65884, "creation_time": "2004-10-28T08:28:49Z", "time": "2004-10-28T08:28:49Z", "creator": "peterreilly@apache.org", "text": "\n\n*** This bug has been marked as a duplicate of 27261 ***", "attachment_id": null}]