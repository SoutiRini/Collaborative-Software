[{"count": 0, "tags": [], "text": "If you feed the following JSP in XML format to Jasper, you get the result shown \nbelow.\n\n\n-- simple.jsp ---------------------------------\n\n<?xml version=\"1.0\"?>\n\n<jsp:root xmlns:jsp=\"http://java.sun.com/JSP/Page\" version=\"1.2\">\n\n<html>\n\t<body>\n\t\ta <jsp:expression>3+4</jsp:expression> b\n\t</body>\n</html>\n\n</jsp:root>\n\n-----------------------------------------------\n\n\n-- output -------------------------------------\n\n<html >\n\t<body >7\n\t\ta  b\n\t</body>\n</html>\n\n-----------------------------------------------\n\n\nIt seems like Tomcat is using some kind of inverse polish parsing ;-) ?  Also, \nthe start tags look strange with that trailing space. We've tried both the \nincluded JAXP parser and Xerces-J 1.4.3. Instead of <jsp:expression> you can \nalso insert a custom action from a taglib and the \"a\" is still shifted behind.\n\nConfiguration: Win98, JDK 1.2.2, no jars in jre/lib/ext\n\nBest regards\n\n  Andreas Junghans (STZ-IDA, Karlsruhe, Germany)", "attachment_id": null, "id": 6566, "creator": "Andreas.Junghans@fh-karlsruhe.de", "time": "2001-10-10T13:46:29Z", "bug_id": 4085, "creation_time": "2001-10-10T13:46:29Z", "is_private": false}, {"count": 1, "tags": [], "text": "The example is not a valid JSP document.  The template data needs to be enclosed\nwith a jsp:text element.  The following works.\n\n<?xml version=\"1.0\"?>\n<jsp:root xmlns:jsp=\"http://java.sun.com/JSP/Page\" version=\"1.2\">\n<jsp:text><![CDATA[\n<html>\n        <body>\n                a]]>\n</jsp:text>\n<jsp:expression>3+4</jsp:expression>\n<jsp:text>b\n<![CDATA[\n        </body>\n</html>\n]]>\n</jsp:text>\n</jsp:root>\n", "is_private": false, "id": 6572, "creator": "kin-man.chung@sun.com", "time": "2001-10-10T14:33:27Z", "bug_id": 4085, "creation_time": "2001-10-10T14:33:27Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "Both Kin-Man Chung and Eduardo Pelegri-Llopart confirmed that the example JSP \nis valid, so I reopen this bug.\n", "attachment_id": null, "id": 7243, "creator": "Andreas.Junghans@fh-karlsruhe.de", "time": "2001-10-29T01:30:22Z", "bug_id": 4085, "creation_time": "2001-10-29T01:30:22Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 4085, "attachment_id": null, "id": 7276, "time": "2001-10-29T10:46:15Z", "creator": "kin-man.chung@sun.com", "creation_time": "2001-10-29T10:46:15Z", "is_private": false, "text": "Fixed in nightly build 20011030.  Thanks Andreas Junghan for the patch."}, {"attachment_id": null, "tags": [], "bug_id": 4085, "text": "*** Bug 5640 has been marked as a duplicate of this bug. ***", "count": 4, "id": 9372, "time": "2002-01-05T05:40:10Z", "creator": "mmorris@mindspring.com", "creation_time": "2002-01-05T05:40:10Z", "is_private": false}]