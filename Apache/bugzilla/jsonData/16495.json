[{"count": 0, "attachment_id": null, "bug_id": 16495, "text": "Currently the JProbe coverage report does not include the contents of the\nmethods and how many times each line is executed. When you run a detailed report\nin JProbe you get this information. \n\nLocally I modified the coverage-frames.xsl file to include this information (I\nalso added links for the classes in the package page).\n\nBelow you can see the diff result between my version and the version that came\nwith Ant 1.5.1.\n\nI tested this with JProbe 4.0, not with JProbe 3.0 which is currently supported\nby Ant. I don't have access to JProbe 3.0, so I cannot test this. \n\nI would like to request for someone to add this functionality, either by using\nmy changes, or by making the changes himself/herself.\n\nThanks,\n\nSigurd\n\nIndex: coverage-frames.xsl\n===================================================================\nRCS file: /opt/cvsroot/bml/test/unit/jprobe/coverage-frames.xsl,v\nretrieving revision 1.2\nretrieving revision 1.1\ndiff -b -r1.2 -r1.1\n328,333d327\n<     \t<xsl:for-each select=\"method\">\n<     \t   <xsl:variable name=\"filename\"><xsl:call-template\nname=\"method.filename\"><xsl:with-param name=\"class.name\"\nselect=\"../@name\"/><xsl:with-param name=\"method.name\"\nselect=\"@name\"/></xsl:call-template></xsl:variable>\n<     \t\t<redirect:write file=\"{$output.dir}/{$package.dir}/{$filename}\">\n<     \t\t\t<xsl:apply-templates select=\".\" mode=\"method.details\"/>\n<     \t\t</redirect:write>\n<     \t</xsl:for-each>\t\t\n416c410\n< \t\t\t\t<xsl:apply-templates select=\".\" mode=\"stats.nolink\"/>\n---\n> \t\t\t\t<xsl:apply-templates select=\".\" mode=\"stats\"/>\n479,487d472\n< <xsl:template match=\"method\" mode=\"stats.nolink\">\n< \t<tr>\n< \t  <xsl:call-template name=\"alternate-row\"/>\n< \t\t<td><xsl:value-of select=\"@name\"/></td>\n< \t\t<td>\n< \t\t<xsl:value-of select=\"format-number(cov.data/@hit_lines div\ncov.data/@total_lines,'0.0%')\"/>\n< \t\t</td>\n< \t</tr>\n< </xsl:template>\n491c476\n< \t\t<td><a><xsl:attribute name=\"href\"><xsl:call-template\nname=\"method.filename\"><xsl:with-param name=\"class.name\"\nselect=\"../@name\"/><xsl:with-param name=\"method.name\"\nselect=\"@name\"/></xsl:call-template></xsl:attribute><xsl:value-of\nselect=\"@name\"/></a></td>\n---\n> \t\t<td><xsl:value-of select=\"@name\"/></td>\n505,522c490\n< <xsl:template match=\"class\" mode=\"stats.nolink\">\n< \t<tr>\n< \t  <xsl:call-template name=\"alternate-row\"/>\n< \t\t<td><xsl:value-of select=\"@name\"/></td>\n< \t\t<td><xsl:value-of select=\"format-number(cov.data/@hit_methods div\ncov.data/@total_methods,'0.0%')\"/></td>\n< \t\t<td><xsl:value-of select=\"format-number(cov.data/@hit_lines div\ncov.data/@total_lines,'0.0%')\"/></td>\n< \t</tr>\n< </xsl:template>\n< <xsl:template match=\"class\" mode=\"stats\">\n< \t<tr>\n< \t  <xsl:call-template name=\"alternate-row\"/>\n< \t\t<td><a><xsl:attribute name=\"href\"><xsl:value-of select=\"concat(@name,\n'.html')\"/></xsl:attribute><xsl:value-of select=\"@name\"/></a></td>\n< \t\t<td><xsl:value-of select=\"format-number(cov.data/@hit_methods div\ncov.data/@total_methods,'0.0%')\"/></td>\n< \t\t<td><xsl:value-of select=\"format-number(cov.data/@hit_lines div\ncov.data/@total_lines,'0.0%')\"/></td>\n< \t</tr>\n< </xsl:template>\n< \n< <xsl:template match=\"package\" mode=\"stats\">\n---\n> <xsl:template match=\"package|class\" mode=\"stats\">\n563,616d530\n< <xsl:template name=\"method.filename\">\n<     <xsl:param name=\"class.name\"/>\n<     <xsl:param name=\"method.name\"/>\n<     <xsl:value-of select=\"concat(translate($class.name, '&lt;&gt;().',\n'_____'), '_', translate($method.name, '&lt;&gt;().', '_____'), '.html')\"/>\n< </xsl:template>\n< \n< <!-- details of a method -->\n< <xsl:template match=\"method\" mode=\"method.details\">\n< \t<xsl:variable name=\"package.name\" select=\"(ancestor::package)[last()]/@name\"/>\n< \t<xsl:variable name=\"class.name\" select=\"(ancestor::class)[last()]/@name\"/>\n< \t<HTML>\n< \t\t<HEAD>\n< \t\t\t<xsl:call-template name=\"create.stylesheet.link\">\n< \t\t\t\t<xsl:with-param name=\"package.name\" select=\"$package.name\"/>\n< \t\t\t</xsl:call-template>\n< \t\t</HEAD>\n< \t\t<BODY>\n< \t\t\t<xsl:call-template name=\"pageHeader\"/>\n< \t\t\t<H3>Method <xsl:if test=\"not($package.name = '')\"><xsl:value-of\nselect=\"$package.name\"/>.</xsl:if><xsl:value-of\nselect=\"$class.name\"/>.<xsl:value-of select=\"@name\"/></H3>\n< \n< \t\t\t<!-- class summary -->\n< \t\t\t<table class=\"log\" cellpadding=\"5\" cellspacing=\"2\" width=\"100%\">\n< \t\t\t\t<xsl:apply-templates select=\".\" mode=\"stats.header\"/>\n< \t\t\t\t<xsl:apply-templates select=\".\" mode=\"stats.nolink\"/>\n< \t\t\t</table>\n< \t\n< \t\t\t<!-- details of methods -->\n< \t\t\t<H3>Methods</H3>\n< \t\t\t<table class=\"log\" cellpadding=\"5\" cellspacing=\"2\" width=\"100%\">\n< \t\t\t\t<xsl:apply-templates select=\"line[1]\" mode=\"stats.header\"/>\n< \t\t\t\t<xsl:apply-templates select=\"line\" mode=\"stats\"/>\n< \t\t\t</table>\n< \t\t\t<xsl:call-template name=\"pageFooter\"/>\n< \t\t</BODY>\n< \t</HTML>\n< \n< </xsl:template>\n< \n< <xsl:template match=\"line\" mode=\"stats.header\">\n< \t<tr>\n< \t\t<th width=\"10%\" nowrap=\"nowrap\">Line</th>\n< \t\t<th width=\"10%\" nowrap=\"nowrap\">Calls</th>\n< \t\t<th width=\"90%\" nowrap=\"nowrap\">Statement</th>\n< \t</tr>\n< </xsl:template>\n< <xsl:template match=\"line\" mode=\"stats\">\n< \t<tr>\n< \t  <xsl:call-template name=\"alternate-row\"/>\n< \t\t<td nowrap=\"nowrap\"><xsl:value-of select=\"@number\"/></td>\n< \t\t<td nowrap=\"nowrap\"><xsl:value-of select=\"cov.data/@calls\"/></td>\n< \t\t<td nowrap=\"nowrap\"><xsl:value-of select=\".\"/></td>\n< \t</tr>\n< </xsl:template>\n<", "id": 30174, "time": "2003-01-28T15:15:47Z", "creator": "sigurd@knippenberg.com", "creation_time": "2003-01-28T15:15:47Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "peterreilly@apache.org", "text": "The jprobe coverage task has been dropped from ant, so I am marking this as wont fix.", "id": 119673, "time": "2008-08-11T02:46:03Z", "bug_id": 16495, "creation_time": "2008-08-11T02:46:03Z", "is_private": false, "attachment_id": null}]