[{"count": 0, "tags": [], "bug_id": 37818, "is_private": false, "text": "Using jasper ant task causes a lock on all jars in WEB-INF/lib until ant ends,\nonly on windows - not on linux!\nIf compile is done in a temp dir, it is not possible to delete this dir within\nthe same build file:\ne.g.\n    <mkdir dir=\"${build}\" />\n    <unwar src=\"${source.war}\" dest=\"${build}\" overwrite=\"true\" />\n   \n    <jasper2 validateXml=\"false\"\n             uriroot=\"${build}\"\n             webXmlFragment=\"${build}/WEB-INF/generated_web.xml\"\n             addWebXmlMappings=\"true\"\n             outputDir=\"${build}/WEB-INF/classes\" /> \n\n    <validator path=\"${build}\" />\n\n    <mkdir dir=\"${build}/WEB-INF/classes\"/>\n    <mkdir dir=\"${build}/WEB-INF/lib\"/>\n\n    <javac destdir=\"${build}/WEB-INF/classes\"\n           optimize=\"off\"\n           debug=\"${compile.debug}\"\n           deprecation=\"${compile.deprecation}\"\n           failonerror=\"true\"\n           srcdir=\"${build}/WEB-INF/classes\"\n           encoding=\"UTF-8\"\n\t   excludes=\"**/*.smap\">\n      <classpath>\n        <fileset dir=\"${build}/WEB-INF/lib\">\n          <include name=\"*.jar\"/>\n        </fileset>\n        <path refid=\"build.classpath\" />\n      </classpath>\n      <include name=\"**\" />\n      <exclude name=\"tags/**\" />\n    </javac>\n\n    <jar destfile=\"${compiled.war}\"\n         basedir=\"${build}\" />\n\n<!--\n   ****                                 ****\n   **** the following delete will fail  ****\n   **** because all jars in WEB-INF/lib ****\n   **** are locked by the jasper task   ****\n   ****                                 ****\n-->\n    <delete dir=\"${build}\" />", "id": 83369, "time": "2005-12-07T15:39:34Z", "creator": "gernot.pfingstl@stmk.gv.at", "creation_time": "2005-12-07T15:39:34Z", "attachment_id": null}, {"count": 1, "text": "http://tomcat.apache.org/faq/windows.html#lock", "creator": "Keith@Apache.org", "is_private": false, "id": 83371, "time": "2005-12-07T17:08:38Z", "bug_id": 37818, "creation_time": "2005-12-07T17:08:38Z", "tags": [], "attachment_id": null}]