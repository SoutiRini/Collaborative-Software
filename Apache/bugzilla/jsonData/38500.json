[{"count": 0, "tags": [], "creator": "ndjc@ncrossley.com", "attachment_id": null, "is_private": false, "id": 85398, "time": "2006-02-04T01:49:44Z", "bug_id": 38500, "creation_time": "2006-02-04T01:49:44Z", "text": "The Ant launcher (Locator.java) looks to see if the Sun compiler tools are in \nthe existing class path, and if not, it tries to find them by looking in \n<java.home>/lib.  However, if java.home ends with \"/jre\", then the Ant \nlauncher does not look there, but in the parent directory <java.home>/../lib, \nhoping that will be the JDK.\n\nRecent changes to JRE redistribution licenses allows vendors to redistribute \ntools.jar with JREs.  This is useful, allowing compilation of JSPs and other \nforms of dynamic code generation in deployed applications.\n\nThe existing Ant launcher will fail to find tools.jar in this scenario, \nbecause it does not look in <java.home>/lib first before trying the parent.\n\nI have a patch for this, so that the launcher will look first in java.home \nitself, regardless of its name, and then look in the parent directory only if \ntools.jar was not found in java.home and that path ends with \"/jre\"."}, {"count": 1, "tags": [], "bug_id": 38500, "is_private": false, "text": "Created attachment 17582\nPatch makes Ant launcher look for tools.jar first in java.home \n\nPatch applies to revision 374737 of Locator.java.", "id": 85399, "time": "2006-02-04T01:51:39Z", "creator": "ndjc@ncrossley.com", "creation_time": "2006-02-04T01:51:39Z", "attachment_id": 17582}, {"count": 2, "tags": [], "bug_id": 38500, "is_private": false, "text": "patch applied, thanks", "id": 87643, "time": "2006-04-06T20:02:57Z", "creator": "bodewig@apache.org", "creation_time": "2006-04-06T20:02:57Z", "attachment_id": null}]