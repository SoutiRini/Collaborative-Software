[{"count": 0, "attachment_id": null, "creator": "esuran@generali.fr", "is_private": false, "id": 119018, "time": "2008-07-25T06:00:43Z", "bug_id": 45483, "creation_time": "2008-07-25T06:00:43Z", "tags": [], "text": "We run Apache as reverse proxy cache in front of our web servers, with worker as MPM. After upgrade from 2.2.7 to 2.2.9 we experience the following issue:\nAfter a while, a thread consumes a whole CPU, his parent process is already dead so it has been attached to the root HTTPD process.\nIn some cases, Apache do not listen anymore for incoming connections.\n\nI guess the problem appears when the MaxRequestsPerChild connections has been reached and the parent process is stopped.\n\nThe error log file shows errors like:\n[Thu Jul 24 23:42:39 2008] [notice] child pid 18239 exit signal Segmentation fault (11)\nbut we cannot link the time of occurrences with the moment the cpu is fully used.\n\nstrace does not show anything, we do not manage to make thread generate a core dump.\n\nRegards."}, {"text": "Please provide a backtrace of the spinning process.", "tags": [], "bug_id": 45483, "attachment_id": null, "count": 1, "id": 119022, "time": "2008-07-25T09:10:29Z", "creator": "rpluem@apache.org", "creation_time": "2008-07-25T09:10:29Z", "is_private": false}, {"count": 2, "tags": [], "creator": "esuran@generali.fr", "attachment_id": null, "is_private": false, "id": 119093, "time": "2008-07-29T03:42:21Z", "bug_id": 45483, "creation_time": "2008-07-29T03:42:21Z", "text": "I do not manage to get a backtrace. Here is the output from gdb :\n\n# gdb -q /usr/local/apache/prod/bin/httpdprod 10614\n(no debugging symbols found)\nUsing host libthread_db library \"/lib/tls/libthread_db.so.1\".\nAttaching to program: /usr/local/apache/prod/bin/httpdprod, process 10614\n\nProgram exited with code 0360.\n(gdb)\n\n\nstrace on pid does not shown any activity during several minutes."}, {"count": 3, "tags": [], "bug_id": 45483, "attachment_id": null, "text": "See http://httpd.apache.org/dev/debugging.html for more hints about clobbering\na runaway process with a successful stack trace.", "id": 126046, "time": "2009-04-07T09:59:28Z", "creator": "wrowe@apache.org", "creation_time": "2009-04-07T09:59:28Z", "is_private": false}, {"text": "Created attachment 23859\nZIP file containing DrWatson log and stacktrace", "tags": [], "bug_id": 45483, "attachment_id": 23859, "count": 4, "id": 128204, "time": "2009-06-23T10:20:55Z", "creator": "todd_643@yahoo.com", "creation_time": "2009-06-23T10:20:55Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 45483, "is_private": false, "text": "I am experiencing similar symptoms of CPU locking up on apache 2.2.8 and 2.2.11 with mod_proxy and mod_rewrite in reverse proxy mode.\n\nI realize that I may be hijacking this thread/bug because my Env is Win2K3 but I am really interested in knowing what this issues are and hope that the stack trace/dr. watson log helps (see attachment above).", "id": 128205, "time": "2009-06-23T10:22:50Z", "creator": "todd_643@yahoo.com", "creation_time": "2009-06-23T10:22:50Z", "attachment_id": null}, {"count": 6, "attachment_id": null, "bug_id": 45483, "text": "assuming dup of 45362 fixed in 2.2.11\n\n*** This bug has been marked as a duplicate of bug 45362 ***", "id": 148461, "time": "2011-08-07T15:46:49Z", "creator": "covener@gmail.com", "creation_time": "2011-08-07T15:46:49Z", "tags": [], "is_private": false}]