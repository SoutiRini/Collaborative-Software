[{"count": 0, "tags": [], "bug_id": 53724, "attachment_id": null, "is_private": false, "id": 161429, "time": "2012-08-15T15:48:26Z", "creator": "matthias8283@gmx.at", "creation_time": "2012-08-15T15:48:26Z", "text": "The PDF spec says (section 10.10.1 Page Boundaries, Version 1.7): \"The media box defines the boundaries of the physical medium on which the page is to be printed. It may include any extended area surrounding the finished page for bleed, printing marks, or other such purposes. It may also include areas close to the edges of the medium that cannot be marked because of physical limitations of the output device. Content falling outside this boundary can safely be discarded without affecting the meaning of the PDF file.\"\n\nI've seen PDF files (created with Adobe Illustrator) which have a crop box exceeding the size of the media box. The fop-pdf-images extensions doesn't handle this special case correctly because the crop box is always used, without checking if the dimensions are actually smaller than the media box. Therefore the \"content falling outside this boundary\" is not discarded as suggested by the PDF spec.\n\nAs soon as patch 53468 is processed, I'll provide a patch for this issue too (there are changes in the same source file which makes it impossible to provide a clean Patch)."}, {"count": 1, "tags": [], "creator": "matthias8283@gmx.at", "attachment_id": 29239, "text": "Created attachment 29239\nPatch", "id": 161471, "time": "2012-08-16T18:37:29Z", "bug_id": 53724, "creation_time": "2012-08-16T18:37:29Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 53724, "text": "probably related to #48302", "id": 161722, "time": "2012-08-27T07:55:06Z", "creator": "psancho.asf@gmail.com", "creation_time": "2012-08-27T07:55:06Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "med1985@gmail.com", "text": "I think this has been fixed by the fix to bug#53909. Could you test it out and set this bug to resolved if you're happy with the fix. Thanks", "id": 162402, "time": "2012-09-26T10:39:05Z", "bug_id": 53724, "creation_time": "2012-09-26T10:39:05Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 53724, "is_private": false, "id": 162428, "creation_time": "2012-09-26T19:14:03Z", "time": "2012-09-26T19:14:03Z", "creator": "matthias8283@gmx.at", "text": "I just tested your changes, but no. Additionally they break my patch. After commenting:\nat.translate(mediaBox.getLowerLeftX() - viewBox.getLowerLeftX(),\n                mediaBox.getLowerLeftY() - viewBox.getLowerLeftY());\n\nand re-inserting:\nat.translate(-viewBox.getLowerLeftX(), -viewBox.getLowerLeftY());\n\nit starts to work again.\n\nI can send you a sample PDF file off list, if you want to.", "attachment_id": null}]