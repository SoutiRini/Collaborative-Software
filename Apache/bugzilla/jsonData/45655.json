[{"attachment_id": 22458, "tags": [], "bug_id": 45655, "is_private": false, "count": 0, "id": 119926, "time": "2008-08-19T14:13:35Z", "creator": "j.kapitza@schwarze-allianz.de", "creation_time": "2008-08-19T14:13:35Z", "text": "Created attachment 22458\ncheck permission\n\njust check permission if it is allowed\n\ndon't use cast to same class"}, {"count": 1, "tags": [], "bug_id": 45655, "attachment_id": null, "text": "I've cleaned up the casts but your changes to the security code result in functional changes. Was this intended? If so, please explain why the current functionality is incorrect.", "id": 119967, "time": "2008-08-20T16:38:17Z", "creator": "markt@apache.org", "creation_time": "2008-08-20T16:38:17Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 45655, "is_private": false, "count": 2, "id": 119991, "time": "2008-08-21T08:01:41Z", "creator": "j.kapitza@schwarze-allianz.de", "creation_time": "2008-08-21T08:01:41Z", "text": "(In reply to comment #1)\n> .. changes to the security code ... Was this intended? \nNo, sorry i've take a look at the API again and - doPrivileged - ignore the check \nfrom http://java.sun.com/j2se/1.4.2/docs/api/java/security/AccessController.html\n- the checkPermission  method stops checking if it reaches a caller that was marked as \"privileged\" via a doPrivileged call - \n\n \n"}]