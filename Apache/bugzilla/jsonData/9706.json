[{"count": 0, "tags": [], "bug_id": 9706, "attachment_id": null, "text": "Using the style task with the param tag for multiple files during processing the\nsecond file I get the following exception:\njavax.xml.transform.TransformerException: Unknown error in XPath\n\nAttached is an short example. The two files src/a.xml and src/b.xml should be\ntransformed to txt/a.txt and txt/b.txt with the stylesheet ss.xsl. The files\na.xml and b.xml are identical, so I expect identical files a.txt and b.txt. But\nonly the file a.txt is generated. During generating b.txt there is the error.\nStarting Ant again then b.txt is generated successfully (because a.txt already\nexists the style task have to build only one file).\n\nI am using Ant 1.4.1, Xerces 1.4.3 and Xalan 2.2D11. With Ant 1.5Beta1 I get the\nsame error. There is a similar bug with number 4335.\n\nWith the -verbose option I get the following messages:\n\n/home/fop/ant/build.xml:7: javax.xml.transform.TransformerException: Unknown\nerror in XPath\n        at\norg.apache.tools.ant.taskdefs.XSLTProcess.process(XSLTProcess.java:352)\n        at\norg.apache.tools.ant.taskdefs.XSLTProcess.execute(XSLTProcess.java:179)\n        at org.apache.tools.ant.Task.perform(Task.java:217)\n        at org.apache.tools.ant.Target.execute(Target.java:184)\n        at org.apache.tools.ant.Target.performTasks(Target.java:202)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:601)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:560)\n        at org.apache.tools.ant.Main.runBuild(Main.java:454)\n        at org.apache.tools.ant.Main.start(Main.java:153)\n        at org.apache.tools.ant.Main.main(Main.java:176)\n--- Nested Exception ---\n; SystemID: file:////home/fop/ant/ss.xsl; Line#: 9; Column#: 46\njavax.xml.transform.TransformerException: Unknown error in XPath\n        at org.apache.xpath.XPath.bool(XPath.java:411)\n        at org.apache.xalan.templates.ElemChoose.execute(ElemChoose.java:162)\n        at\norg.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2182)\n        at\norg.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2008)\n        at\norg.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1171)\n        at\norg.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:638)\n        at\norg.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1088)\n        at\norg.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1066)\n        at\norg.apache.tools.ant.taskdefs.optional.TraXLiaison.transform(TraXLiaison.java:127)\n        at\norg.apache.tools.ant.taskdefs.XSLTProcess.process(XSLTProcess.java:341)\n        at\norg.apache.tools.ant.taskdefs.XSLTProcess.execute(XSLTProcess.java:179)\n        at org.apache.tools.ant.Task.perform(Task.java:217)\n        at org.apache.tools.ant.Target.execute(Target.java:184)\n        at org.apache.tools.ant.Target.performTasks(Target.java:202)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:601)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:560)\n        at org.apache.tools.ant.Main.runBuild(Main.java:454)\n        at org.apache.tools.ant.Main.start(Main.java:153)\n        at org.apache.tools.ant.Main.main(Main.java:176)\n---------\njava.lang.NullPointerException\n        at\norg.apache.xpath.objects.XNodeSet.getStringFromNode(XNodeSet.java:235)\n        at org.apache.xpath.objects.XNodeSet.compare(XNodeSet.java:619)\n        at org.apache.xpath.objects.XNodeSet.equals(XNodeSet.java:706)\n        at org.apache.xpath.objects.XString.equals(XString.java:401)\n        at org.apache.xpath.operations.Equals.operate(Equals.java:82)\n        at org.apache.xpath.operations.Operation.execute(Operation.java:146)\n        at org.apache.xpath.Expression.bool(Expression.java:208)\n        at org.apache.xpath.XPath.bool(XPath.java:388)\n        at org.apache.xalan.templates.ElemChoose.execute(ElemChoose.java:162)\n        at\norg.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2182)\n        at\norg.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2008)\n        at\norg.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1171)\n        at\norg.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:638)\n        at\norg.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1088)\n        at\norg.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1066)\n        at\norg.apache.tools.ant.taskdefs.optional.TraXLiaison.transform(TraXLiaison.java:127)\n        at\norg.apache.tools.ant.taskdefs.XSLTProcess.process(XSLTProcess.java:341)\n        at\norg.apache.tools.ant.taskdefs.XSLTProcess.execute(XSLTProcess.java:179)\n        at org.apache.tools.ant.Task.perform(Task.java:217)\n        at org.apache.tools.ant.Target.execute(Target.java:184)\n        at org.apache.tools.ant.Target.performTasks(Target.java:202)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:601)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:560)\n        at org.apache.tools.ant.Main.runBuild(Main.java:454)\n        at org.apache.tools.ant.Main.start(Main.java:153)\n        at org.apache.tools.ant.Main.main(Main.java:176)", "id": 17425, "time": "2002-06-07T21:25:52Z", "creator": "rainer.garus@arcor.de", "creation_time": "2002-06-07T21:25:52Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 9706, "text": "Created attachment 2031\nfiles to reproduce the problem (zip-file)", "id": 17433, "time": "2002-06-07T23:14:49Z", "creator": "rainer.garus@arcor.de", "creation_time": "2002-06-07T23:14:49Z", "is_private": false, "attachment_id": 2031}, {"count": 2, "tags": [], "text": "I downloaded your zip file, unpacked it, ran 'ant' and got:\nBuildfile: build.xml\n\npackage:\n    [style] Transforming into D:\\downloads\\bugdir\\txt\n    [style] Transforming into D:\\downloads\\bugdir\\txt\n    [style] Loading stylesheet D:\\downloads\\bugdir\\ss.xsl\n    [style] Transforming into D:\\downloads\\bugdir\\txt\n\nBUILD SUCCESSFUL\nTotal time: 2 seconds\n\n$ cat txt/*.txt\n\nValue = false;\nParam = 123;\n\nValue = false;\nParam = 123;", "is_private": false, "bug_id": 9706, "id": 17436, "time": "2002-06-08T04:05:10Z", "creator": "holtdl@yahoo.com", "creation_time": "2002-06-08T04:05:10Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 9706, "text": "Are you using the same version of Xalan in both cases?  At first glance it looks\nlike a Xalan bug (or a bug in your stylesheet).  Ant now fails on transformation\nerrors, Ant 1.4 used to ignore them (and to leave empty target files behind).", "id": 17606, "time": "2002-06-11T15:52:07Z", "creator": "bodewig@apache.org", "creation_time": "2002-06-11T15:52:07Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 9706, "attachment_id": null, "id": 17716, "time": "2002-06-12T22:18:35Z", "creator": "rainer.garus@arcor.de", "creation_time": "2002-06-12T22:18:35Z", "is_private": false, "text": "I have tested the example with another xalan version. With ant 1.4.1 and xalan\n2.1.0 the build is successful, with ant 1.4.1 and xalan 2.2D11 I get the\nexception. It is possible that it is an error in xalan 2.2D11. I use xalan\n2.2D11 because it is used in the development version of fop.\n\nBut I have the following problem: Using xalan directly without ant is\nsuccessful. I get the exception only in a situation using ant and xalan\ntogether. So I cannot create a bug message for xalan.\n\nIf I delete src/a.xml then the transformation of b.xml is successful (then in\nthe style task with \"includes=*.xml\" only one file is processed). There is also\nno error if I use two style tasks in ant each processing only one file:\n\n    <style basedir=\"src\" includes=\"a.xml\" style=\"ss.xsl\"\n           destdir=\"txt\" extension=\".txt\">\n      <param name=\"pp\" expression=\"123\"/>\n    </style>\n    <style basedir=\"src\" includes=\"b.xml\" style=\"ss.xsl\"\n           destdir=\"txt\" extension=\".txt\">\n      <param name=\"pp\" expression=\"123\"/>\n    </style>\n\nI get the exception only for the second file which is processed in the style\ntask with \"includes=*.xml\" matching several files."}, {"count": 5, "tags": [], "bug_id": 9706, "attachment_id": null, "text": "I have tested the example successful with ant 1.4.1 and xalan 2.3.1.\n\nI have searched the bug database again with respect to xalan bugs (sorry, the\nfirst time I searched only for ant bugs). I think there are two xalan bugs\ndescribing the same problem: bug 9151 and bug 6156, especially the comments from\nMarcel Ammerlaan.\n\nI will mark this bug as duplicate of bug 6156.", "id": 17866, "time": "2002-06-15T22:31:31Z", "creator": "rainer.garus@arcor.de", "creation_time": "2002-06-15T22:31:31Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 9706, "attachment_id": null, "text": "\n\n*** This bug has been marked as a duplicate of 6156 ***", "id": 17867, "time": "2002-06-15T22:33:10Z", "creator": "rainer.garus@arcor.de", "creation_time": "2002-06-15T22:33:10Z", "is_private": false}, {"count": 7, "tags": [], "text": "Changed resolution to INVALID since duplicate bug has been deleted from Bugzilla and leaving as DUPLICATE creates referential integrity issues for the underlying database.", "is_private": false, "bug_id": 9706, "id": 119061, "time": "2008-07-28T05:53:00Z", "creator": "markt@apache.org", "creation_time": "2008-07-28T05:53:00Z", "attachment_id": null}]