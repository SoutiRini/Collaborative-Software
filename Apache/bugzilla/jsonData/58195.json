[{"count": 0, "tags": [], "bug_id": 58195, "attachment_id": null, "id": 184243, "time": "2015-07-31T00:46:37Z", "creator": "jaredwiltshire@gmail.com", "creation_time": "2015-07-31T00:46:37Z", "is_private": false, "text": "I've got a problem loading a tld files from a location which is not in WEB-INF. There is a null pointer exception on the first line of TldCache.getTaglibXml().\n\nThis is because the TldScanner only scans the WEB-INF directory which is fair enough. But I believe the correct behaviour if tldResourcePathTaglibXmlMap doesn't contain the resource path is to load the tld from the filesystem.\n\nAccording to the JSP 2.1 specification, section 7.3.6.2 -\n\"If uri is root_rel_uri, a relative URI that starts with /\nLook in the taglib map for an entry whose taglib_uri is root_rel_uri. If found,\nthe corresponding taglib_location is the TLD resource path. If no such entry is\nfound, root_rel_uri is the TLD resource path.\"\n\nhttp://download.oracle.com/otndocs/jcp/jsp-2.1-fr-eval-spec-oth-JSpec/"}, {"count": 1, "tags": [], "bug_id": 58195, "attachment_id": null, "text": "Perhaps pass the TldScanner through to the TldCache in its constructor and use TldScanner.parseTld(TldResourcePath path) to parse and cache the tld if doesn't already exist in the map.", "id": 184244, "time": "2015-07-31T00:53:57Z", "creator": "jaredwiltshire@gmail.com", "creation_time": "2015-07-31T00:53:57Z", "is_private": false}, {"count": 2, "tags": [], "text": "JSP.7.3.1\n\"When deployed directly into a web application, the tag library descriptor\nfiles must always be in the WEB-INF directory, or some subdirectory of it.\"", "is_private": false, "id": 184290, "creation_time": "2015-08-03T20:49:37Z", "time": "2015-08-03T20:49:37Z", "creator": "markt@apache.org", "bug_id": 58195, "attachment_id": null}, {"count": 3, "tags": [], "text": "I believe RESOLVED INVALID is appropriate, but it might be nice to fail in another way in this case. NPE makes it look like Tomcat has a problem, when in fact the configuration is not sane.", "is_private": false, "id": 184314, "creation_time": "2015-08-04T21:12:19Z", "time": "2015-08-04T21:12:19Z", "creator": "chris@christopherschultz.net", "bug_id": 58195, "attachment_id": null}]