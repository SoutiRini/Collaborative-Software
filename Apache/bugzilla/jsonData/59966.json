[{"count": 0, "tags": [], "text": "Example scenario:\n\nweb.xml contains the following block:\n\n...\n<error-page>\n  <error-code>java.lang.Throwable</error-code>\n  <location>/unexpected.jsp</location>\n</error-page>\n...\n\nThis block wrongly contains \"error-type\" instead of \"error-code\".\nWhen this application is deployed the error-page is registered as the default error page because org.apache.tomcat.util.descriptor.web.ErrorPage#setErrorCode catches NumberFormatException and assumes errorCode 0.\n\nThen later when a request to a servlet is made which uses the sendError (e.g. with 404) method the page \"unexpected.jsp\" is displayed instead of the default 404 page.\n\nIt's also related to org.apache.catalina.core.StandardHostValve#status(Request request, Response response) where it says:\n...\n ErrorPage errorPage = context.findErrorPage(statusCode);\n        if (errorPage == null) {\n            // Look for a default error page\n            errorPage = context.findErrorPage(0);\n        }\n...\n\n\"context.findErrorPage(0)\" returns \"/unexpected.jsp\" although it should return null.", "attachment_id": null, "bug_id": 59966, "id": 192981, "time": "2016-08-10T15:43:18Z", "creator": "saschakarcher@gmx.de", "creation_time": "2016-08-10T15:43:18Z", "is_private": false}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 193042, "time": "2016-08-11T20:20:08Z", "bug_id": 59966, "creation_time": "2016-08-11T20:20:08Z", "is_private": false, "text": "Thanks for the report. This has been fixed in the following branches:\n- 9.0.x for 9.0.0.M10 onwards\n- 8.5.x for 8.5.5 onwards\n- 8.0.x for 8.0.37 onwards\n- 7.0.x for 7.0.71 onwards"}]