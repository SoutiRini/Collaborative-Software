[{"count": 0, "tags": [], "creator": "edaniel@idiominc.com", "attachment_id": null, "id": 101131, "time": "2007-03-28T14:01:10Z", "bug_id": 41977, "creation_time": "2007-03-28T14:01:10Z", "is_private": false, "text": "The Stellent repository returns results from directory listings (PROPFIND\nrequests) where subdirectory hrefs end in trailing slashes.  For example:\n\n<d:response>\n    <d:href>/stellent/idcplg/webdav/Contribution%20Folders/Myfolder/</d:href>\n    ...\n</d:response>\n\nThis causes the client library in release 2.1 to get confused.  Specifically,\nWebdavResource.java, around line 1075, includes the following code:\n\n                String myURI = httpURL.getEscapedURI();\n                char[] childURI = (myURI + (myURI.endsWith(\"/\") ? \"\" : \"/\")\n                                   + URIUtil.getName(href)).toCharArray();\n                HttpURL childURL = httpURL instanceof HttpsURL\n                                   ? new HttpsURL(childURI)\n                                   : new HttpURL(childURI);\n\nThe variable 'href' contains the href to the child element.  If this ends in a\nslash, then URIUtil.getName(href) returns an empty string.  \n\nThis means that the URI that gets calculated for the child element is\n(erroneously) the same as the URI for the parent."}]