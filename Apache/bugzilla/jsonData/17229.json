[{"count": 0, "tags": [], "creator": "apache@t-b-o-h.com", "attachment_id": null, "id": 31638, "time": "2003-02-20T02:13:38Z", "bug_id": 17229, "creation_time": "2003-02-20T02:13:38Z", "is_private": false, "text": "FreeBSD himinbjorg.ttsg.com 4.7-STABLE FreeBSD 4.7-STABLE #3: Tue Feb  4\n22:43:51 EST 2003     root@himinbjorg.ttsg.com:/usr/src/sys/compile/HIMINBJORG  i386\n\nApache 1.3.27, compiled as :\n\n./configure --prefix=/usr/local/etc/apachetest --with-layout=Apache --enable-mod\nule=log_referer --enable-module=rewrite --enable-suexec --suexec-caller=www --su\nexec-logfile=/usr/local/logs/suexec_logfile --suexec-gidmin=1 --suexec-docroot=/\nusr/home\n\nVirtual Host configured as (After adding a Listen 82 statement)\n\n<VirtualHost *:82>\nServerAdmin webmaster@ttsg.com\nDocumentRoot /usr/home/tuc/cgitest/public_html\nServername cgitest.ttsg.com\nErrorLog \"|/usr/local/sbin/cronolog /usr/local/logs/%Y%m%d/cgitest2-error_log\"\nTransferLog \"|/usr/local/sbin/cronolog /usr/local/logs/%Y%m%d/cgitest2-access_lo\ng\"\nUserDir disabled \nHostNameLookups off\nIdentityCheck off\n\nScriptAlias /lcgi-bin/ /usr/home/tuc/cgitest/public_html/lcgi-bin/\n \nUser cgitest\nGroup cgitest\n\n<Directory /usr/home/tuc/cgitest/public_html>\nAllowOverride All\n</Directory>\n</VirtualHost>\n\nhiminbjorg# grep cgitest /etc/passwd\ncgitest:*:9000:9000:Tuc:/usr/home/tuc/cgitest/public_html:/usr/local/bin/zsh\nhiminbjorg# grep cgitest /etc/group\ncgitest:*:9000:\n\nWhen I run /lcgi-bin/touchfile.sh which is :\n\n#!/bin/sh\necho \"Content-type: text/plain\"\necho \"\"\necho \"Username=\"`whoami`\nrm /tmp/t\ntouch /tmp/t\nls -l /tmp/t\necho \"id=\"`id`\n\nWhen I run it I see in the logs:\n\n\n[2003-02-19 21:03:31]: info: (target/actual) uid: (cgitest/cgitest) gid:\n(cgitest/cgitest) cmd: touchfile.sh\n\n\nBut the output is :\nUsername=cgitest\n-rw-r--r--  1 cgitest  wheel  0 Feb 19 21:03 /tmp/t\nid=uid=9000(cgitest) gid=9000(cgitest) groups=9000(cgitest)"}, {"count": 1, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "is_private": false, "id": 31639, "time": "2003-02-20T02:18:48Z", "bug_id": 17229, "creation_time": "2003-02-20T02:18:48Z", "text": "Are files in that directory being created with group wheel because\nof the permissions on the directory itself (g+s)?\n\nTry creating a file in that directory from another user and see\nwhat group the file has."}, {"count": 2, "tags": [], "creator": "apache@t-b-o-h.com", "attachment_id": null, "is_private": false, "id": 31645, "time": "2003-02-20T02:54:41Z", "bug_id": 17229, "creation_time": "2003-02-20T02:54:41Z", "text": "himinbjorg# ls -ld /tmp\ndrwxrwxrwt  7 root  wheel  512 Feb 19 21:42 /tmp\n\n\nhiminbjorg# su - cgitest\nhiminbjorg% touch /tmp/w\nhiminbjorg% ls -l /tmp/w\n-rw-r--r--  1 cgitest  wheel  0 Feb 19 21:44 /tmp/w\n\nGulp.... :(\n\nThats pretty weird. I just re-installed this machine (My laptop for test),\ndidn't notice that. I'll understand if you close this, but if you have a hint\nwhy the directory (/tmp) is setting everything to wheel I'd appreciate it. It\nlooks like it's 1777, which should be correct, isn't it? Otherwise, just close\nthis as the rambling of a madman.\n\n"}]