[{"count": 0, "tags": [], "bug_id": 41126, "attachment_id": null, "id": 96613, "time": "2006-12-07T08:21:03Z", "creator": "neil.hildreth@TLGE.com", "creation_time": "2006-12-07T08:21:03Z", "is_private": false, "text": "i have upgraded httpd from 2.0.55 to 2.2.3 and since this upgrade mod_jk has not\nworked.  I have compiled httpd with the following flags.\n\n## httpd configuration\n\n./configure --with-apr=srclib/apr/ --with-apr-util=srclib/apr-util/\n--prefix=/usr/local/apache2 --enable-mods-shared=most --enable-ssl\n--enable-proxy --enable-proxy-ajp\n\n## Mod_jk configuration\n./configure --with-apxs=/usr/local/apache2/bin/apxs\n\nMy previous version of Mod_jk worked with 2.0.55 and that was 1.2.14.  There\nwere no errors in the compilation. I'm running RHEL4 U3 (Linux 2.6.9-34.ELsmp #1\nSMP Fri Feb 24 16:54:53 EST 2006 i686 i686 i386 GNU/Linux).\n\nThe original mod_jk connector - 1.2.14 - gave 'defunct processes' errors and\nApache(2.2.3) would not start, so mod_jk was upgraded(compiled) to 1.2.19. Now,\nApache will start with 1.2.19, but every attempt at connection results in no\nactivity at the browser and these three lines appearing in mod_jk.log for every\nconnection attempt:\ndo_shm_open::jk_shm.c (252): Shared memory is already open\njk_child_init::mod_jk.c (2400): Attached\nshm:/usr/local/apache2/logs/jk-runtime-status\njk_child_init::mod_jk.c (2410): Initialized mod_jk/1.2.19\n\nThe Errorlog Below shows what happens with exch request that hist the child\ndestined for Mod_jk.\n\n[Thu Dec 07 14:47:56 2006] [notice] Apache/2.2.3 (Unix) mod_jk/1.2.19 configured\n-- resuming normal operations\n[Thu Dec 07 14:48:25 2006] [notice] child pid 6639 exit signal Segmentation\nfault (11)\n[Thu Dec 07 14:50:39 2006] [notice] caught SIGTERM, shutting down\n[Thu Dec 07 14:50:43 2006] [notice] Apache/2.2.3 (Unix) mod_jk/1.2.19 configured\n-- resuming normal operations\n[Thu Dec 07 14:51:00 2006] [notice] child pid 6668 exit signal Segmentation\nfault (11)\n[Thu Dec 07 14:59:04 2006] [notice] child pid 6669 exit signal Segmentation\nfault (11)\n[Thu Dec 07 15:00:17 2006] [notice] child pid 6670 exit signal Segmentation\nfault (11)\n\nI have had a colleague compile this on the following O/S Linux cent\n2.6.9-42.0.3.EL #1 Fri Oct 6\n05:59:54 CDT 2006 i686 i686 i386 GNU/Linux and it works fine with no seg faults\non his O/S and this binary also works on my O/S again with no Seg faults.\n\nIf you have any further questions then please let me know\n\nRegards\n\nNeil"}, {"count": 1, "text": "When upgrading Apache mod_jk is not upgraded. You will need to recompile the\nmod_jk for Apache 2.2.3, because Apache modules are not binary compatible\nbetween versions 2.0 and 2.2", "creator": "mturk@apache.org", "attachment_id": null, "id": 96614, "time": "2006-12-07T08:31:39Z", "bug_id": 41126, "creation_time": "2006-12-07T08:31:39Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 41126, "text": "I did upgrade the mod_jk to 1.2.19 and referenced /usr/local/apache2/bin/apxs.\nas I stated in my description.\n\n\"The original mod_jk connector - 1.2.14 - gave 'defunct processes' errors and\nApache(2.2.3) would not start, so mod_jk was upgraded(compiled) to 1.2.19. Now,\nApache will start with 1.2.19 ut every attempt at connection results in no\nactivity at the browser and these three lines appearing in mod_jk.log for every\nconnection attempt:\ndo_shm_open::jk_shm.c (252): Shared memory is already open\njk_child_init::mod_jk.c (2400): Attached\nshm:/usr/local/apache2/logs/jk-runtime-status\njk_child_init::mod_jk.c (2410): Initialized mod_jk/1.2.19\"", "id": 96615, "time": "2006-12-07T08:47:14Z", "creator": "neil.hildreth@TLGE.com", "creation_time": "2006-12-07T08:47:14Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 41126, "text": "Care to try a fresh compile of mod_jk 1.2.21?\n\nUnfortunately I don't have an HP system to try and reproduce what you're seeing\n;(  I do have Fedora Core systems, and they're working peachy (albeit on httpd\n2.2.2, not 2.2.3).", "id": 100930, "time": "2007-03-25T15:14:33Z", "creator": "yoavs@computer.org", "creation_time": "2007-03-25T15:14:33Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 41126, "attachment_id": null, "id": 120176, "time": "2008-08-28T07:41:17Z", "creator": "markt@apache.org", "creation_time": "2008-08-28T07:41:17Z", "is_private": false, "text": "No response in over 12 months - assume that a later mod_jk resolved the issue. Assume this has been fixed."}]