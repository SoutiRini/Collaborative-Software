[{"count": 0, "tags": [], "bug_id": 5983, "attachment_id": null, "id": 9806, "time": "2002-01-23T16:40:36Z", "creator": "olaf.jahn@zamioculcas.net", "creation_time": "2002-01-23T16:40:36Z", "is_private": false, "text": "Tomcat 3.3a cannot deal with wrong Content-Length POST requests\ngenerated by common applet VMs. This was not a problem in Tomcat 3.2\n(perhaps it did not do keep-alive, did it?)\n\nThe Java implementations contained in at least NS 4.7 (Linux + Win)\nand IE 5.5 show the following behaviour:\n\nWhen POSTing via (Http)URLConnection they append on or two bytes of\nCR/LF without adjusting the Content-Length. Although Tomcat is\nable to recognize the following requests coming over the same TCP/IP\nconnection it gets confused with their bodies: With (almost) every \nsubsequent request the body read from request.getInputStream() contains \nmore and more bytes left over from the previous request."}, {"count": 1, "tags": [], "bug_id": 5983, "is_private": false, "id": 9841, "creation_time": "2002-01-24T13:40:02Z", "time": "2002-01-24T13:40:02Z", "creator": "olaf.jahn@zamioculcas.net", "text": "Actually I am not sure if these POSTs really went over\nthe same TCP/IP connection (didn't use tcpdump to trace the traffic).\nFurthermore, when trying a simple GET with Connection: Keep-Alive\nTomcat does not keep the connection open.\n\nAnyway, if the POSTs from the applets are received over mod_jk\neverything is fine. It seems that mod_jk can handle the surplus\nCR/LF.", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 5983, "is_private": false, "id": 9905, "creation_time": "2002-01-25T04:54:52Z", "time": "2002-01-25T04:54:52Z", "creator": "william.barker@wilshire.com", "text": "Based on your comments, my advice is to fire your proxy server ;-)\n\nTomcat's HTTP Connector does not respect keep-alives.  It will always close the \nconnection after the page is served (w/o even being so nice as to add \na \"connetion: close\" header).  Given the tight time frame, this is likely to \nslip to 3.3.2 for a resolution :(", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 5983, "text": "The current HEAD of the CVS should now read all of the extra data in the POST \nbody before closing.  This should appear in the 2/2 nightly and 3.3.1-B1.", "count": 3, "id": 10195, "time": "2002-02-02T03:27:33Z", "creator": "william.barker@wilshire.com", "creation_time": "2002-02-02T03:27:33Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 5983, "attachment_id": null, "text": "*** Bug 6143 has been marked as a duplicate of this bug. ***", "id": 10198, "time": "2002-02-02T03:31:07Z", "creator": "william.barker@wilshire.com", "creation_time": "2002-02-02T03:31:07Z", "is_private": false}]