[{"count": 0, "tags": [], "bug_id": 1526, "attachment_id": null, "is_private": false, "id": 2105, "time": "2001-04-25T19:48:42Z", "creator": "serg_main@yahoo.com", "creation_time": "2001-04-25T19:48:42Z", "text": "Cookie not set in included JSP\n1st JSP:\n\n<%@page contentType=\"text/html; charset=UTF-8\" language=\"java\" \nimport=\"java.util.*, java.lang.*\"%>\n<jsp:include page=\"level_2.jsp\"/>\nLevel 1 file:<br>\n<%\n        Cookie cook1 = new Cookie(\"cookie-1\", \"level-1\");\n        cook1.setMaxAge(1*365*24*3600);\n\tcook1.setPath(\"/\");\n\tresponse.addCookie( cook1 );\n\n        Enumeration e1 = request.getHeaderNames();\n        while (e1.hasMoreElements()) {\n            String name = (String)e1.nextElement();\n            String value = request.getHeader(name);\n            out.println(name + \" = \" + value+\"<br>\");\n        }\n%>\n\n------------------------------------\n2nd file (level_2.jsp):\n\n<%@page contentType=\"text/html; charset=UTF-8\" language=\"java\" \nimport=\"java.util.*, java.lang.*\"%>\n\nLevel 2 file:<br>\n<%\n        Cookie cook = new Cookie(\"cookie-2\", \"level-2\");\n        cook.setMaxAge(1*365*24*3600);\n\tcook.setPath(\"/\");\n\tresponse.addCookie( cook );\n\n\n        Enumeration e = request.getHeaderNames();\n        while (e.hasMoreElements()) {\n            String name = (String)e.nextElement();\n            String value = request.getHeader(name);\n            out.println(name + \" = \" + value+\"<br>\");\n        }\n%>\n\n------------------------------------\nCookie 'Cookie-2' is never set.\nBrowser IE5.5"}, {"count": 1, "tags": [], "bug_id": 1526, "attachment_id": null, "is_private": false, "id": 2212, "time": "2001-05-02T16:02:51Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-05-02T16:02:51Z", "text": "Servlet Specification, Version 2.3 (Proposed Final Draft), Section 8.3:\n\n    \"The included servlet cannot set headers or call any method\n    that affects the headers of the response.  Any attempt to do\n    so should be ignored.\"\n\nBecause sending a cookie requires creating a Set-Cookie header, that means you \ncannot create cookies in an included servlet or JSP page.\n"}]