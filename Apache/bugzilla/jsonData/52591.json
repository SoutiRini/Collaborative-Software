[{"count": 0, "tags": [], "bug_id": 52591, "attachment_id": null, "text": "With a BasicDataSource configured (using a <Resource>), simply list the available MBeans and this exception will be emitted to stdout:\n\nSEVERE: Error getting attribute Catalina:type=DataSource,context=/context,host=localhost,class=javax.sql.DataSource,name=\"jdbc/myDataSource\" loginTimeout\njavax.management.RuntimeOperationsException: Exception invoking method loginTimeout\n        at org.apache.tomcat.util.modeler.BaseModelMBean.getAttribute(BaseModelMBean.java:197)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:666)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:638)\n        at org.apache.catalina.mbeans.MBeanDumper.dumpBeans(MBeanDumper.java:81)\n        at org.apache.catalina.manager.JMXProxyServlet.listBeans(JMXProxyServlet.java:166)\n        at org.apache.catalina.manager.JMXProxyServlet.doGet(JMXProxyServlet.java:121)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n[...]\nCaused by: java.lang.UnsupportedOperationException: Not supported by BasicDataSource\n        at org.apache.tomcat.dbcp.dbcp.BasicDataSource.getLoginTimeout(BasicDataSource.java:1083)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\n\nThis exception does not cause the request to fail, but definitely puts an ugly stack trace in catalina.out. It might be better to catch UnsupportedOperationException and emit a one-line error message -- one that isn't SEVERE.", "id": 153404, "time": "2012-02-03T14:43:28Z", "creator": "chris@christopherschultz.net", "creation_time": "2012-02-03T14:43:28Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 52591, "attachment_id": null, "text": "There are other, similar errors for other MBeans:\n\nSEVERE: Error getting attribute java.lang:type=MemoryPool,name=Par Eden Space Us\nageThreshold\njavax.management.RuntimeMBeanException: java.lang.UnsupportedOperationException:\n Usage threshold is not supported\n\n\n\nLooks like RuntimeMBeanException is probably the exception to catch... possibly even checking to see if the root cause is UnsupportedOperationException.", "id": 153405, "time": "2012-02-03T14:45:07Z", "creator": "chris@christopherschultz.net", "creation_time": "2012-02-03T14:45:07Z", "is_private": false}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 153593, "time": "2012-02-08T14:40:15Z", "bug_id": 52591, "creation_time": "2012-02-08T14:40:15Z", "is_private": false, "text": "Fixed in trunk and 7.0.x and will be included in 7.0.26 onwards."}, {"count": 3, "attachment_id": null, "creator": "hodgesz@gmail.com", "text": "I am not sure this issue is fixed as I am still seeing a variant of this behavior in 7.0.26.\n\nI just posted the following to the Tomcat user forum.\n\nHi, \n\nWe have been using the following two JMXProxy URLs for monitoring without issue in 6.0.29. \n\nhttp://localhost:8080/manager/jmxproxy/?qry=*:type=Executor,name=tomcatThreadPool\n\n\nOK - Number of results: 1 \n\nName: Catalina:type=Executor,name=tomcatThreadPool \nmodelerType: org.apache.tomcat.util.modeler.BaseModelMBean \nthreadPriority: 5 \nqueueSize: 0 \ncorePoolSize: 4 \nmaxIdleTime: 60000 \nthreadRenewalDelay: 1000 \nminSpareThreads: 4 \nactiveCount: 1 \nmaxThreads: 150 \ncompletedTaskCount: 17 \nmaxQueueSize: 2147483647 \nlargestPoolSize: 5 \nstateName: STARTED \nname: tomcatThreadPool \npoolSize: 3 \nnamePrefix: catalina-exec- \n\n\nhttp://localhost:8080/manager/jmxproxy/?qry=bean:name=eventingDataSource\n\n\nOK - Number of results: 1 \n\nName: bean:name=eventingDataSource \nmodelerType: org.apache.tomcat.jdbc.pool.DataSource \nMaxIdle: 100 \nJdbcInterceptors: org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer \nDefaultTransactionIsolation: -1 \nValidationQuery: SELECT 1 FROM dual \nTestOnConnect: false \nPassword: Password not available as DataSource/JMX operation. \nAbandonWhenPercentageFull: 0 \nTestOnReturn: false \nUsername: xxxx \nNumActive: 0 \nMinIdle: 10 \nPoolSize: 4 \nValidationInterval: 1800000 \nConnection: ProxyConnection[PooledConnection[oracle.jdbc.driver.T4CConnection@17f8b39]] \nNumIdle: 2 \nAccessToUnderlyingConnectionAllowed: true \nUrl: jdbc:oracle:thin:@(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1580))(CONNECT_DATA =(SERVER = DEDICATED)( SERVICE_NAME = anywhere.com )(INSTANCE_NAME = xxx)(SID = xxx))) \nSize: 4 \nActive: 2 \nAlternateUsernameAllowed: false \nTestOnBorrow: true \nLoginTimeout: 6 \nMaxActive: 100 \nMaxAge: 0 \nSuspectTimeout: 0 \nPool: org.apache.tomcat.jdbc.pool.ConnectionPool@9283bf \nNumTestsPerEvictionRun: 0 \nName: Tomcat Connection Pool[1-6300663] \nMaxWait: 6000 \nPoolProperties: ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=oracle.jdbc.driver.OracleDriver; maxActive=100; maxIdle=100; minIdle=10; initialSize=10; maxWait=6000; testOnBorrow=true; testOnReturn=false; timeBetweenEvictionRunsMillis=30000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=30000; testWhileIdle=false; testOnConnect=false; password=xxxxx; url=jdbc:oracle:thin:@(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1580))(CONNECT_DATA =(SERVER = DEDICATED)( SERVICE_NAME = p201.nbcuni.ge.com )(INSTANCE_NAME = xxx)(SID = xxx))); username=NBCAFS_GUSER; validationQuery=SELECT 1 FROM dual; validationInterval=1800000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=true; removeAbandonedTimeout=60; logAbandoned=true; connectionProperties=null; initSQL=null; jdbcInterceptors=org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer; jmxEnabled=true; fairQueue=false; useEquals=false; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; alternateUsernameAllowed=false; \nPoolName: Tomcat Connection Pool[1-6300663] \nWaitCount: 0 \nJmxEnabled: true \nTestWhileIdle: false \nUseEquals: false \nUseLock: false \nDriverClassName: oracle.jdbc.driver.OracleDriver \nRemoveAbandonedTimeout: 60 \nDbProperties: {user=xxxx, password=xxxx} \nIdle: 2 \nLogAbandoned: true \nFairQueue: false \nPoolSweeperEnabled: true \nConnectionAsync: org.apache.tomcat.jdbc.pool.ConnectionPool$ConnectionFuture@e9c2d3 \nJdbcInterceptorsAsArray: Array[org.apache.tomcat.jdbc.pool.PoolProperties$InterceptorDefinition] of length 2 \n        org.apache.tomcat.jdbc.pool.PoolProperties$InterceptorDefinition@125f027 \n        org.apache.tomcat.jdbc.pool.PoolProperties$InterceptorDefinition@1b99628 \nRemoveAbandoned: true \nTimeBetweenEvictionRunsMillis: 30000 \nMinEvictableIdleTimeMillis: 30000 \nInitialSize: 10 \n\n\nAfter upgrading to 7.0.26 the JMXProxy URLs still return the correct data however I am now seeing the following exceptions in the Tomcat logs. \n\n\nMar 6, 2012 9:17:40 AM org.apache.catalina.mbeans.MBeanDumper dumpBeans \nSEVERE: Error getting attribute Catalina:type=Executor,name=tomcatThreadPool prestartminSpareThreads \njavax.management.ReflectionException: Cannot find getter method getPrestartminSpareThreads \n        at org.apache.tomcat.util.modeler.ManagedBean.getGetter(ManagedBean.java:517) \n        at org.apache.tomcat.util.modeler.BaseModelMBean.getAttribute(BaseModelMBean.java:181) \n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:666) \n        at com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:638) \n        at org.apache.catalina.mbeans.MBeanDumper.dumpBeans(MBeanDumper.java:82) \n        at org.apache.catalina.manager.JMXProxyServlet.listBeans(JMXProxyServlet.java:172) \n        at org.apache.catalina.manager.JMXProxyServlet.doGet(JMXProxyServlet.java:121) \n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:621) \n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722) \n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305) \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) \n        at org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108) \n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243) \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) \n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224) \n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169) \n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581) \n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168) \n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) \n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927) \n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) \n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) \n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987) \n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579) \n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) \n        at java.lang.Thread.run(Thread.java:619) \nCaused by: java.lang.NoSuchMethodException: org.apache.catalina.core.StandardThreadExecutor.getPrestartminSpareThreads() \n        at java.lang.Class.getMethod(Class.java:1605) \n        at org.apache.tomcat.util.modeler.ManagedBean.getGetter(ManagedBean.java:510) \n        ... 27 more \nMar 6, 2012 9:17:40 AM org.apache.catalina.mbeans.MBeanDumper dumpBeans \nSEVERE: Error getting attribute Catalina:type=Executor,name=tomcatThreadPool daemon \njavax.management.ReflectionException: Cannot find getter method getDaemon \n        at org.apache.tomcat.util.modeler.ManagedBean.getGetter(ManagedBean.java:517) \n        at org.apache.tomcat.util.modeler.BaseModelMBean.getAttribute(BaseModelMBean.java:181) \n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:666) \n        at com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:638) \n        at org.apache.catalina.mbeans.MBeanDumper.dumpBeans(MBeanDumper.java:82) \n        at org.apache.catalina.manager.JMXProxyServlet.listBeans(JMXProxyServlet.java:172) \n        at org.apache.catalina.manager.JMXProxyServlet.doGet(JMXProxyServlet.java:121) \n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:621) \n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722) \n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305) \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) \n        at org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108) \n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243) \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) \n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224) \n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169) \n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581) \n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168) \n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) \n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927) \n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) \n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) \n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987) \n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579) \n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) \n        at java.lang.Thread.run(Thread.java:619) \nCaused by: java.lang.NoSuchMethodException: org.apache.catalina.core.StandardThreadExecutor.getDaemon() \n        at java.lang.Class.getMethod(Class.java:1605) \n        at org.apache.tomcat.util.modeler.ManagedBean.getGetter(ManagedBean.java:510) \n        ... 27 more \n\n\nMar 6, 2012 9:18:20 AM org.apache.catalina.mbeans.MBeanDumper dumpBeans \nSEVERE: Error getting attribute bean:name=eventingDataSource PooledConnection \njavax.management.MBeanException: RuntimeException thrown in RequiredModelMBean while trying to invoke operation getPooledConnection \n        at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1091) \n        at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:955) \n        at org.springframework.jmx.export.SpringModelMBean.invoke(SpringModelMBean.java:90) \n        at javax.management.modelmbean.RequiredModelMBean.getAttribute(RequiredModelMBean.java:1358) \n        at org.springframework.jmx.export.SpringModelMBean.getAttribute(SpringModelMBean.java:109) \n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:666) \n        at com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:638) \n        at org.apache.catalina.mbeans.MBeanDumper.dumpBeans(MBeanDumper.java:82) \n        at org.apache.catalina.manager.JMXProxyServlet.listBeans(JMXProxyServlet.java:172) \n        at org.apache.catalina.manager.JMXProxyServlet.doGet(JMXProxyServlet.java:121) \n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:621) \n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722) \n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305) \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) \n        at org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108) \n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243) \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) \n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224) \n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169) \n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581) \n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168) \n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) \n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927) \n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) \n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) \n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987) \n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579) \n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) \n        at java.lang.Thread.run(Thread.java:619) \nCaused by: java.lang.ClassCastException: $Proxy5 cannot be cast to org.apache.tomcat.jdbc.pool.PooledConnection \n        at org.apache.tomcat.jdbc.pool.DataSourceProxy.getPooledConnection(DataSourceProxy.java:156) \n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \n        at java.lang.reflect.Method.invoke(Method.java:597) \n        at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:37) \n        at sun.reflect.GeneratedMethodAccessor31.invoke(Unknown Source) \n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \n        at java.lang.reflect.Method.invoke(Method.java:597) \n        at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:244) \n        at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1074) \n        ... 30 more \nMar 6, 2012 9:18:22 AM org.apache.catalina.mbeans.MBeanDumper dumpBeans \nSEVERE: Error getting attribute bean:name=eventingDataSource XAConnection \njavax.management.MBeanException: Exception thrown in RequiredModelMBean while trying to invoke operation getXAConnection \n        at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1101) \n        at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:955) \n        at org.springframework.jmx.export.SpringModelMBean.invoke(SpringModelMBean.java:90) \n        at javax.management.modelmbean.RequiredModelMBean.getAttribute(RequiredModelMBean.java:1358) \n        at org.springframework.jmx.export.SpringModelMBean.getAttribute(SpringModelMBean.java:109) \n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:666) \n        at com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:638) \n        at org.apache.catalina.mbeans.MBeanDumper.dumpBeans(MBeanDumper.java:82) \n        at org.apache.catalina.manager.JMXProxyServlet.listBeans(JMXProxyServlet.java:172) \n        at org.apache.catalina.manager.JMXProxyServlet.doGet(JMXProxyServlet.java:121) \n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:621) \n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722) \n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305) \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) \n        at org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108) \n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243) \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) \n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224) \n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169) \n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581) \n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168) \n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) \n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927) \n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) \n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) \n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987) \n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579) \n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) \n        at java.lang.Thread.run(Thread.java:619) \nCaused by: java.sql.SQLException: Connection from pool does not implement javax.sql.XAConnection \n        at org.apache.tomcat.jdbc.pool.DataSourceProxy.getXAConnection(DataSourceProxy.java:134) \n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \n        at java.lang.reflect.Method.invoke(Method.java:597) \n        at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:37) \n        at sun.reflect.GeneratedMethodAccessor31.invoke(Unknown Source) \n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \n        at java.lang.reflect.Method.invoke(Method.java:597) \n        at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:244) \n        at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1074) \n        ... 30 more \n\n\nThe documentation mentioned the JMXProxy interface should remain the same during this upgrade so we are a little confused with the exceptions.  To add a little more detail we have enabled all the new Manager roles while we test this issue. \n\n  <role rolename=\"admin-gui\"/>\n  <role rolename=\"admin-script\"/>\n  \n  <role rolename=\"manager-gui\"/>\n  <role rolename=\"manager-script\"/>\n  <role rolename=\"manager-jmx\"/>\n  <role rolename=\"manager-status\"/>\n  \n  <user username=\"xxxx\" password=\"xxxx\" roles=\"admin-gui,admin-script,manager-gui,manager-script,manager-jmx,manager-status\"/>\n\nAny ideas? \n\nThanks in advance, \n\nJonathan", "id": 154577, "time": "2012-03-06T17:20:48Z", "bug_id": 52591, "creation_time": "2012-03-06T17:20:48Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 52591, "text": "Jonathan,\n\nI think this is a different bug: my original report was about UnsupportedOperationExceptions being thrown by the beans themselves. In your case, it looks like the JDBC pool doesn't implement some expected interface (\"Connection from pool does not implement javax.sql.XAConnection\") and/or the MBean has been registered/configured incorrectly.\n\nI'm not saying this isn't a bug... it's just not THIS bug. Could you re-file under a new bug id?", "id": 154580, "time": "2012-03-06T18:52:02Z", "creator": "chris@christopherschultz.net", "creation_time": "2012-03-06T18:52:02Z", "is_private": false, "attachment_id": null}]