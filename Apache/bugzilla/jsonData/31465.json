[{"count": 0, "tags": [], "bug_id": 31465, "text": "I have the following text in a JSP with no encoding declared:\n\nCopyright \u00a9 2003 by \n\nThe copyright symbol does not come out correctly. I checked the file and the \nstored character code is 0xA9 which is correct for ISO-8859-1. I checked the \nJSP 2.0 spec and the default encoding is still supposed to be ISO-8859-1. Yet \nthe result is\n\nCopyright \u00c2\u00a9 2003 by\n\nThis can be easily reproduced by creating an empty web application and putting \njust Copyright \u00a9 2003 by into a jsp file.\n\nLooking at the generated Java file I see\n\n      out.write(\"Copyright \u00c2\u00a9 2003 by\\r\\n\");", "id": 64364, "attachment_id": null, "creator": "David.Holscher@nav-international.com", "creation_time": "2004-09-29T14:33:14Z", "time": "2004-09-29T14:33:14Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 31465, "attachment_id": null, "id": 64498, "time": "2004-10-02T01:36:20Z", "creator": "kin-man.chung@sun.com", "creation_time": "2004-10-02T01:36:20Z", "is_private": false, "text": "The reason for the seemly extra character in out.write() is that the java file\nJasper generated is defaulted to utf8 encoding (0xa9 is 0xc2a9 in utf8). \nHowever, you cannot just set the Jasper option javaEncoding to ISO-5589-1,\nbecause you'll then also need to set a javac option to use the same encoding,\nand  currently you cannot change the javac source encoding.\n\nLooks like the only way for this to work is to use urt8 for both the page and\nthe response.  :("}, {"count": 2, "tags": [], "bug_id": 31465, "attachment_id": null, "id": 64576, "time": "2004-10-04T19:14:35Z", "creator": "kin-man.chung@sun.com", "creation_time": "2004-10-04T19:14:35Z", "is_private": false, "text": "On second thought, what I said wasn't entirely correct.  :(\n\nJasper is still correct to output the bytes 0xc2a9 because of the difference in\nencoding.  However, druing javac compilation, these bytes should be translated\nback to the original 0xa9, and everything should be OK.  The problem seems to be\nin the JDT compiler, or its setup codes.\n\nAs a work around, use ant compilation to use JDK 1.4 javac. "}, {"count": 3, "tags": [], "creator": "markt@apache.org", "text": "I have a fix for this that I will commit very shortly. I came across whilst \nlooking at another bug.", "id": 64577, "time": "2004-10-04T19:35:52Z", "bug_id": 31465, "creation_time": "2004-10-04T19:35:52Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "markt@apache.org", "text": "Patch committed and verified.", "id": 64579, "time": "2004-10-04T19:48:35Z", "bug_id": 31465, "creation_time": "2004-10-04T19:48:35Z", "is_private": false, "attachment_id": null}]