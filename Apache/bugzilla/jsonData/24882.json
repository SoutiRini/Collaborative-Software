[{"count": 0, "attachment_id": null, "bug_id": 24882, "text": "Configuration: \n- A linux machine with apache 2.0.47 an mod_jk (ver. 1.2.5 or 2.0.2)\n- Two linux machine with tomcat 4.1.x\n\nmod_jk is configured for load balancing and sticky session. All work fine when \nboth tomcat nodes are up.\nWhen a tomcat node goes down mod_jk redirect all the requests to  the remaining \nnode. \nWhile redirecting those requests the HTTP POST parameters get lost.\n\nI sniffed the AJP traffic and I observed those packets directed to the \nremaining node:\n\n1) AJP REQUEST POST with a content legth field set to 54 (correct size)\n2) AJP REQUEST BODY with length 0 !!!", "id": 47753, "time": "2003-11-21T10:07:56Z", "creator": "m.manini@vitrociset.it", "creation_time": "2003-11-21T10:07:56Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 24882, "attachment_id": null, "text": "Should be fixed in latest JK and JK2 CVS (POST RECOVERY)\n\nReopen if you still find problem", "id": 52320, "time": "2004-02-16T08:35:15Z", "creator": "hgomez@apache.org", "creation_time": "2004-02-16T08:35:15Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 24882, "is_private": false, "id": 54887, "attachment_id": null, "creator": "rrc@ibest.com.br", "creation_time": "2004-03-30T17:35:52Z", "time": "2004-03-30T17:35:52Z", "text": "Configuration:\n\n- 6 Tomcat-4.1.29 servers (binary package from jakarta.apache.org) on Fedora \nCore 1 Linux, all updates applied, and j2sdk-1.4.2_03 (rpm from java.sun.com);\n- 1 Apache-2.0.48 server (rpm from distribution) on Fedora Core 1 Linux, all \nupdates applied, and mod_jk2-2.0.4 (binary package from jakarta.apache.org).\n\nThe bug posted previously, generated by POST in a load balance enviornment, is \nstill present in the new version of mod_jk2."}, {"count": 3, "tags": [], "bug_id": 24882, "is_private": false, "id": 54906, "attachment_id": null, "creator": "hgomez@apache.org", "creation_time": "2004-03-30T21:52:46Z", "time": "2004-03-30T21:52:46Z", "text": "There is case with POST DATA more than 4k where we couldn't send the whole \ndatas to the second tomcat.\n\nCould you tell us the POST DATA size ?\n\nAlso could you check it with mod_jk 1.2.6-dev (CVS)\n\nRegards"}, {"count": 4, "tags": [], "creator": "m.manini@vitrociset.it", "is_private": false, "text": "I tested mod_jk 1.x CVS Version and it resloved the initial bug.\n\n", "id": 54927, "time": "2004-03-31T06:48:21Z", "bug_id": 24882, "creation_time": "2004-03-31T06:48:21Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 24882, "attachment_id": null, "text": "jk 1.2.6-dev from CVS works and not with 2.0.4 ?\n\nStrange, the code is very similar.\n\nCould you give us more informations about the size of POSTED data ?", "id": 54930, "time": "2004-03-31T07:15:22Z", "creator": "hgomez@apache.org", "creation_time": "2004-03-31T07:15:22Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 24882, "text": "Well I tested it on Fedora Core 1 with jk2 2.0.4, netcat being used as first\ntomcat and tomcat 3.3.1 as the second one and the recovery works in POST.\n\nSend more details and configurations but until that, I consider the \nbug as INVALID", "id": 54933, "time": "2004-03-31T07:45:08Z", "creator": "hgomez@apache.org", "creation_time": "2004-03-31T07:45:08Z", "is_private": false, "attachment_id": null}]