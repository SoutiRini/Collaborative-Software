[{"count": 0, "tags": [], "bug_id": 52361, "text": "When a tag attribute contains a JSP scriplet, an compilation exception is thrown if there is a double quote inside the scriplet.\nExample:\n<select:myControl name=\"blabla\" lng=\"<%=bNorth?\"nl\":\"fr\"%>\" />\n\nThere were no problems with such instructions in the previous tomcat versions (<=6.0.28).\n\nstack trace:\norg.apache.jasper.JasperException: /test.jsp(258,104) Attribute value bEn?\"en\":\"fr\" is quoted with \" which must be escaped when used within the value\n        at org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:40)\n        at org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:407)\n        at org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:88)\n        at org.apache.jasper.compiler.Parser.parseAttributeValue(Parser.java:256)\n        at org.apache.jasper.compiler.Parser.parseAttribute(Parser.java:205)\n        at org.apache.jasper.compiler.Parser.parseAttributes(Parser.java:148)\n        at org.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1208)\n        at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1422)\n        at org.apache.jasper.compiler.Parser.parse(Parser.java:130)\n        at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:255)\n        at org.apache.jasper.compiler.ParserController.parse(ParserController.java:103)\n        at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:185)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:354)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:334)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:321)\n        at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:592)\n...", "id": 152286, "time": "2011-12-19T13:28:28Z", "creator": "lvw@dinec.be", "creation_time": "2011-12-19T13:28:28Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 52361, "is_private": false, "id": 152294, "time": "2011-12-19T16:13:39Z", "creator": "markt@apache.org", "creation_time": "2011-12-19T16:13:39Z", "tags": [], "text": "That JSP extract is invalid as per the JSP specification.\n\nThis has been discussed multiple times in the archives.\n\nIf you can't find the solution in the archives, please use the Tomcat users mailing list to get further support."}, {"count": 2, "tags": [], "bug_id": 52361, "is_private": false, "text": "You are right, this syntax is not correct. This code is not recent and It was successfully compiled with previous tomcat versions so I conclude to quickly it was a bug.\nThank you.", "id": 152308, "time": "2011-12-20T08:53:39Z", "creator": "lvw@dinec.be", "creation_time": "2011-12-20T08:53:39Z", "attachment_id": null}]