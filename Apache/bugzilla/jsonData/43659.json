[{"count": 0, "tags": [], "bug_id": 43659, "attachment_id": null, "text": "When using a <linecontains> mapper to filter out certain lines, FilterMapper\nthrows a NullPointerException on line 74:\n\nif (result.length() == 0) {\n\nThis line should read:\n\nif (result == null || result.length() == 0) {\n\nThis can be reproduced with the following ant tasks:\n\n<pathconvert property=\"some.property\" pathsep=\" \" refid=\"some_path\">\n    <mapper>\n        <filtermapper>\n            <linecontains negate=\"true\">\n                <contains value=\"servlet\"/>\n            </linecontains>\n        </filtermapper>\n    </mapper>\n</pathconvert>\n\n(this construct is used to exclude certain entries from a PATH structure, in\norder to then be able to include it in a manifest's Class-Path attribute).\n\nWith the suggested null check, the filter mapping properly excludes the entries\nas expected.", "id": 109500, "time": "2007-10-19T08:34:56Z", "creator": "bruno.navert@morganstanley.com", "creation_time": "2007-10-19T08:34:56Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 43659, "attachment_id": null, "id": 109501, "time": "2007-10-19T09:28:12Z", "creator": "peterreilly@apache.org", "creation_time": "2007-10-19T09:28:12Z", "is_private": false, "text": "Thanks for the report,\nHowever, this problem has already been fixed.\n"}, {"count": 2, "tags": [], "text": "Where should I have looked for the latest source ? I checked the SVN repository\n(http://svn.apache.org/viewvc/ant/core/trunk/src/main/org/apache/tools/ant/types/mappers/FilterMapper.java?view=markup),\nand the file does not have the if null fix (unless you fixed it some other way).\nIn which release is this fix targetted ?", "attachment_id": null, "id": 109503, "creator": "bruno.navert@morganstanley.com", "time": "2007-10-19T09:34:19Z", "bug_id": 43659, "creation_time": "2007-10-19T09:34:19Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 43659, "attachment_id": null, "id": 109504, "time": "2007-10-19T09:55:04Z", "creator": "peterreilly@apache.org", "creation_time": "2007-10-19T09:55:04Z", "is_private": false, "text": "See the line 73\nString result = FileUtils.safeReadFully(helper.getAssembledReader());\nthis was FileUtils.readFully.\n\nPeter\n"}]