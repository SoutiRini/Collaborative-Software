[{"count": 0, "tags": [], "creator": "lesp@challenger.com", "attachment_id": null, "id": 18877, "time": "2002-07-02T20:02:47Z", "bug_id": 10423, "creation_time": "2002-07-02T20:02:47Z", "is_private": false, "text": "This seems similiar to bug#3509 but here is my story. I'm using tomcat 4.0.3 \nfinal, apache 1.3.26, redhat linux 7.3.\n\nIn my 'apache_log_yyyy_mm_dd' log file I get this error/warning (at the bottom \nof this)\n\nFrom my research I really couldn't find much. One comment somewhere in bugzilla \nsaid this wasn't a bug, just a warning. (I can't find that same message)\n\nMy site works from what I can determine from my testing, I just want to make \nsure that my customers aren't seeing any sort of errors when viewing the static \nand java servlet pages.\n\nThanks!\n\n...\n2002-07-02 15:14:11 WarpEngine[www.challenger.com]: Mapping request\n2002-07-02 15:14:11 WarpHost[www.challenger.com]: Mapping request for Host\n2002-07-02 15:14:26 WarpEngine[www.challenger.com]: Mapping request\n2002-07-02 15:14:26 WarpHost[www.challenger.com]: Mapping request for Host\n2002-07-02 15:16:23 [org.apache.catalina.connector.warp.WarpConnector] \nConnection from 10.10.10.2/10.10.10.2:33437 to 10.10.10.2/10.10.10.2:8008\n2002-07-02 15:16:23 \n[org.apache.catalina.connector.warp.WarpConfigurationHandler] Filter mappings \n(0)\n2002-07-02 15:16:24 [org.apache.catalina.connector.warp.WarpConnector] \nConnection from 10.10.10.2/10.10.10.2:33438 to 10.10.10.2/10.10.10.2:8008\n2002-07-02 15:16:24 [org.apache.catalina.connector.warp.WarpConnector] \nConnection from 10.10.10.2/10.10.10.2:33439 to 10.10.10.2/10.10.10.2:8008\n2002-07-02 15:16:24 \n[org.apache.catalina.connector.warp.WarpConfigurationHandler] Filter mappings \n(0)\n2002-07-02 15:16:24 \n[org.apache.catalina.connector.warp.WarpConfigurationHandler] Filter mappings \n(0)\n2002-07-02 15:16:40 [org.apache.catalina.connector.warp.WarpConnection] \nException on socket\njava.io.IOException: Premature packet header end\n\tat org.apache.catalina.connector.warp.WarpConnection.recv\n(WarpConnection.java:237)\n\tat org.apache.catalina.connector.warp.WarpRequestHandler.handle\n(WarpRequestHandler.java:112)\n\tat org.apache.catalina.connector.warp.WarpConnection.run\n(WarpConnection.java:194)\n\tat java.lang.Thread.run(Thread.java:479)\n\n2002-07-02 15:16:42 [org.apache.catalina.connector.warp.WarpConnection] \nException on socket\njava.io.IOException: Premature packet header end\n\tat org.apache.catalina.connector.warp.WarpConnection.recv\n(WarpConnection.java:237)\n\tat org.apache.catalina.connector.warp.WarpRequestHandler.handle\n(WarpRequestHandler.java:112)\n\tat org.apache.catalina.connector.warp.WarpConnection.run\n(WarpConnection.java:194)\n\tat java.lang.Thread.run(Thread.java:479)\n\n2002-07-02 15:16:44 [org.apache.catalina.connector.warp.WarpConnection] \nException on socket\njava.io.IOException: Premature packet header end\n\tat org.apache.catalina.connector.warp.WarpConnection.recv\n(WarpConnection.java:237)\n\tat org.apache.catalina.connector.warp.WarpRequestHandler.handle\n(WarpRequestHandler.java:112)\n\tat org.apache.catalina.connector.warp.WarpConnection.run\n(WarpConnection.java:194)\n\tat java.lang.Thread.run(Thread.java:479)\n\n2002-07-02 15:26:24 WarpEngine[www.challenger.com]: Mapping request\n2002-07-02 15:26:24 WarpHost[www.challenger.com]: Mapping request for Host\n2002-07-02 15:26:25 WarpEngine[www.challenger.com]: Mapping request\n2002-07-02 15:26:25 WarpHost[www.challenger.com]: Mapping request for Host\n2002-07-02 15:52:29 WarpEngine[www.challenger.com]: Mapping request\n2002-07-02 15:52:29 WarpHost[www.challenger.com]: Mapping request for Host"}, {"count": 1, "tags": [], "creator": "mcashen@gulf.cs.uec.ac.jp", "attachment_id": null, "id": 19110, "time": "2002-07-08T10:01:13Z", "bug_id": 10423, "creation_time": "2002-07-08T10:01:13Z", "is_private": false, "text": "This bug happens to be a BIG problem if you are using netscape 4! \nBy examining the headers, you can see that the HTTP response number (200) is not\nincluded in the header that comes back by way of tomcat -> mod_webapp -> apache,\nwhile it is included in the header straight from apache.\n\nThis results in netscape 4 displaying a pop-up error message \n   \"Unknown status reply from server: 0!\"\n\nApart from the error message the page loads up fine\n\nusing apache 2.0.39, tomcat 4.0.4\n\nURL: http://cscw.cs.uec.ac.jp/index.html\nServer response: HTTP/1.1 200 OK\nServer: Apache/2.0.39 (Unix) mod_ssl/2.0.39 OpenSSL/0.9.6c DAV/2\nmod_webapp/1.2.0-dev\nContent-type: text/html\nContent-encoding: null\nAccept-Ranges: bytes\nLast modified: Wed Jul 03 19:24:13 JST 2002\nContent-length: 1150\n\nURL: http://cscw.cs.uec.ac.jp/examples/servlets/index.html\nServer response: HTTP/1.1 OK\nServer: Apache/2.0.39 (Unix) mod_ssl/2.0.39 OpenSSL/0.9.6c DAV/2\nmod_webapp/1.2.0-dev\nContent-type: text/html\nContent-encoding: null\nAccept-Ranges: null\nLast modified: Tue Jul 02 14:35:27 JST 2002\nContent-length: 4988"}, {"count": 2, "tags": [], "text": "I have a similar problem...\n\nApache 1.3.26, mod_webapp (v4.1.12, connectors source bundle) on a HP-UX 11 \nmachine, and Tomcat 4.1.12 on a separate HP-UX 11 box. I have 2 virtual servers \nconfigured.\n\nI am constantly seeing the following errors in the apache_log.YYYY-MM-DD.txt \nlogfile from Tomcat:\n\n2003-01-30 18:45:28 [org.apache.catalina.connector.warp.WarpConnection] \nException on socket\njava.io.IOException: Premature packet header end\n        at org.apache.catalina.connector.warp.WarpConnection.recv(Unknown \nSource)\n        at org.apache.catalina.connector.warp.WarpRequestHandler.handle(Unknown \nSource)\n        at org.apache.catalina.connector.warp.WarpConnection.run(Unknown Source)\n        at java.lang.Thread.run(Thread.java:536)\n\nNo other logs (Apache or Tomcat) contain any further errors.\n\nApart from these errors, the deployed servlets *appears* to be working ok. \nI am as yet unable to upgrade to Tomcat 4.1.18 and the latest mod_webapp so I \ncannot confirm yet if this error persists in these versions. I will try to do \nso as soon as possible.\n\nTrawling the net seemed to find other people with a similar problem but nobody \nhad any useful suggestions or explanations. Looking up the source code where \nthe exception is thrown...:\n\n\n    public void recv(WarpPacket packet)\n    throws IOException {\n        int t=this.input.read();\n        int l1=this.input.read();\n        int l2=this.input.read();\n\n        if ((t|l1|l2)==-1)\n            throw new IOException(\"Premature packet header end\");\n\n...I see that a read() is failing when attempting to grab the headers for the \nincoming Warp packets. This makes me a little worried that the error is perhaps \nnot benign and should be investigated. (e.g. is mod_webapp sending garbage in \nsome circumstances ?)  The only explanation I found offered for this error to \nbe legitimately thrown is when a user cancels a page loading before completion, \nbut the frequency of the errors I am seeing is way to high for that to be the \ncase.\n\nIf I can provide additional information or perform any tests to help isolate \nthis problem please let me know - I'm not sure how to pursue a fix myself.\n\n\n", "attachment_id": null, "id": 30361, "creator": "morgan.pyne@eur.sas.com", "time": "2003-01-30T18:09:48Z", "bug_id": 10423, "creation_time": "2003-01-30T18:09:48Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 10423, "attachment_id": null, "is_private": false, "id": 35506, "time": "2003-04-18T13:29:42Z", "creator": "funkman@joedog.org", "creation_time": "2003-04-18T13:29:42Z", "text": "\"mod_webapp is deprecated and unsupported due to lack of developer interest.\nPlease use mod_jk, or jk2\""}]