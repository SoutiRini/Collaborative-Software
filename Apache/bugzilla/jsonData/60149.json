[{"count": 0, "tags": [], "creator": "tamas@donuts.email", "attachment_id": 34274, "is_private": false, "id": 193814, "time": "2016-09-19T15:09:24Z", "bug_id": 60149, "creation_time": "2016-09-19T15:09:24Z", "text": "Created attachment 34274\njmeter log, TPS graph generated by the reporting dashboard\n\nWhen the granularity is set below 1 second, the TPS and the other throughput graphs will be incorrect. For example if the granularity is 500ms, the TPS will be doubled on the graph.\n\nSteps to reproduce:\n1. Set jmeter.reportgenerator.overall_granularity = 500\n2. Run some tests (the attached example runs a TCP Sampler based custom sampler for the EPP protocol) with Reporting dashboard generated.\n\nHere you can see in the jmeter log (attached) the average TPS:\n\n...\n2016/09/19 05:24:00 INFO  - jmeter.reporters.Summariser: summary +  33000 in 00:00:26 = 1246.7/s Avg:    53 Min:    30 Max:   118 Err:     0 (0.00%) Active: 70 Started: 70 Finished: 0 \n2016/09/19 05:24:00 INFO  - jmeter.reporters.Summariser: summary =  33003 in 00:00:37 =  890.0/s Avg:    53 Min:    30 Max:   118 Err:     0 (0.00%) \n2016/09/19 05:24:30 INFO  - jmeter.reporters.Summariser: summary +  37300 in 00:00:30 = 1244.5/s Avg:    55 Min:    30 Max:   200 Err:     0 (0.00%) Active: 70 Started: 70 Finished: 0 \n2016/09/19 05:24:30 INFO  - jmeter.reporters.Summariser: summary =  70303 in 00:01:07 = 1048.5/s Avg:    54 Min:    30 Max:   200 Err:     0 (0.00%) \n2016/09/19 05:25:00 INFO  - jmeter.reporters.Summariser: summary +  37200 in 00:00:30 = 1237.2/s Avg:    55 Min:    30 Max:   165 Err:     0 (0.00%) Active: 70 Started: 70 Finished: 0 \n2016/09/19 05:25:00 INFO  - jmeter.reporters.Summariser: summary = 107503 in 00:01:37 = 1106.9/s Avg:    54 Min:    30 Max:   200 Err:     0 (0.00%)  \n...\n\n3. Wait for the tests to finish and check the Transaction Per Second graph in the generated Reporting Dashboard\n\nExpected results:\nThe same result should be in the dashboard report, around 1200 TPS.\n\nActual results:\nThe actual result in the graph seems to be doubled, around 2400 TPS.\n\nAdditional information:\n\n- The full generated dashboard or the test result was above the 1MB limit, but I can send if it would be helpful. Right now I attached the jmeter.log and the TPS graph image.\n- If I set the granularity to above or equal to 1 second, the graph will be correct, so this is what I am doing currently."}, {"count": 1, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "is_private": false, "id": 193815, "time": "2016-09-19T15:15:23Z", "bug_id": 60149, "creation_time": "2016-09-19T15:15:23Z", "text": "Hello,\nCould you provide an overview of your test plan structure ?\nCould you test with nighlty build which has many fixes on report/dashboard ?\n\nIf possible could you provide a simple test plan using java request with sleep time so that we can easily work on issue ?\n\nThanks"}, {"count": 2, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "is_private": false, "id": 193819, "time": "2016-09-19T20:17:23Z", "bug_id": 60149, "creation_time": "2016-09-19T20:17:23Z", "text": "Hello,\nI investigated the problem.\nComputing is ok, the issue is that the /sec graphs don't expect granularity below 1sec.\nThe doubling you see is due to the fact that computation is made for 0.5 sec , that's why you see it double.\n\nWe have 2 ways to fix this:\n- Either adapt graph to change axis labels, title ...\n- Or forbid granularity to be under 1 second\n\n@Team, thoughts on that ?\nThanks"}]