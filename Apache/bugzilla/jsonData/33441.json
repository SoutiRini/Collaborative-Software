[{"count": 0, "tags": [], "creator": "sanjay.dahiya@gmail.com", "attachment_id": null, "text": "I need to programmatically create a collection hierarchy. On the disk it creates\nall the child directories in db. Also it doesnt give any error while creating. \nAny subsequent call to access the child collections fails, but parent collection\nis accessible. \n\nI am using xidice embedded in servlet ...\nhere is code snippet \n---------------------------------\n\n     Collection prjCol = createCollection(col, projectName);\n     if( null == prjCol ){\n           throw new Exception(\"\");\n     }\n     Collection iformsCol = createCollection(prjCol, \"forms\");\n     if( null ==  iformsCol){\n           throw new Exception(\"\");\n                    }\n     iformsCol.flushSymbolTable();\n     iformsCol.close();\n                                                                               \n                                                              \n     Collection dataCol = createCollection(prjCol, \"data\");\n     if( null == dataCol ){\n       throw new Exception();\n      }\n      dataCol.flushSymbolTable();\n      dataCol.close();\n                                                                               \n                                                              \n     Collection reportsCol = createCollection(prjCol, \"reports\");\n     if( null == reportsCol ){\n         throw new Exception(\"\");\n     }\n     reportsCol.flushSymbolTable();\n     reportsCol.close();\n                                                                               \n                                                              \n     prjCol.flushSymbolTable();\n     prjCol.close();\n                                                                               \n                                                              \n     col.close();\n----- create collection method ----------\n\npublic Collection createCollection(Collection parent, String name) throws\nDBException{\n\n        Document doc = new DocumentImpl();\n                                                                               \n                                                                      Element\ncolEle = doc.createElement(\"collection\");\n        colEle.setAttribute(\"compressed\", \"true\");\n        colEle.setAttribute(\"name\", name);\n        doc.appendChild(colEle);\n                                                                               \n                                                              \n        Element filEle = doc.createElement(\"filer\");\n        filEle.setAttribute(\"class\", \"org.apache.xindice.core.filer.BTreeFiler\");\n        colEle.appendChild(filEle);\n                                                                               \n                                                              \n        Configuration cfg = new Configuration ( doc, false );\n        Collection newCol =     parent.createCollection(name , cfg);\n                                                                               \n                                                              \n        return newCol ;\n                                                                               \n                                                                  }", "id": 70612, "time": "2005-02-08T11:17:09Z", "bug_id": 33441, "creation_time": "2005-02-08T11:17:09Z", "is_private": false}, {"count": 1, "text": "config has not been always saved properly; fixed in cvs\n\n*** This bug has been marked as a duplicate of 28783 ***", "creator": "vgritsenko@apache.org", "is_private": false, "id": 70975, "time": "2005-02-15T00:38:05Z", "bug_id": 33441, "creation_time": "2005-02-15T00:38:05Z", "tags": [], "attachment_id": null}]