[{"count": 0, "attachment_id": null, "bug_id": 41129, "is_private": false, "id": 96637, "time": "2006-12-07T15:28:15Z", "creator": "simon@weft.co.uk", "creation_time": "2006-12-07T15:28:15Z", "tags": [], "text": "All versions of Tomcat from 4.0 series up to and including 5.5.20 generate the \nHTTP response string 'HTTP/1.x', which does not comform with RFC 2616. I'm not \ncertain whether it does this under all circumstances but I have thus far been \nunable to find conditions under which it generates a valid code.\n\ne.g.:\n\nHTTP/1.x 404 /fisherman/floogle\nContent-Type: text/html;charset=ISO-8859-1\nContent-Language: en-US\nTransfer-Encoding: chunked\nDate: Thu, 07 Dec 2006 18:38:41 GMT\nServer: Apache-Coyote/1.1\n\nThis does not conform to RFC 2616 which says (section 6.1, page 39)\n\n   6.1 Status-Line\n\n   The first line of a Response message is the Status-Line, consisting\n   of the protocol version followed by a numeric status code and its\n   associated textual phrase, with each element separated by SP\n   characters. No CR or LF is allowed except in the final CRLF sequence.\n\n       Status-Line = HTTP-Version SP Status-Code SP Reason-Phrase CRLF\n\nHTTP-Version is defined in paragraph 3.1, page 17 as:\n\n       HTTP-Version   = \"HTTP\" \"/\" 1*DIGIT \".\" 1*DIGIT\n\n'HTTP/1.x' does not match this pattern and is therefore invalid.\n\nThis breaks things parse the response line, including specifically IBM's \nimplementation of javax.microedition.io.HttpConnection.\n\nI'm working on this now and will submit a patch as soon as I have a fix, but \nit's probable that someone familiar with the codebase could fix it faster and \nbetter than I can."}, {"count": 1, "tags": [], "creator": "markt@apache.org", "text": "I have tested (using Telnet) the latest 4.1.x and 5.5.x and both return HTTP/1.1\n\nLooking at the HTTP connector source, this is a constant that hasn't changed in\nvalue in five years. There was an optimisation added two years ago but it did\nnot change the value.\n\nFurther, a search of the source for HTTP/1.x returns no matches.\n\nIt appears you have a non-standard version of Tomcat.", "id": 96640, "time": "2006-12-07T17:43:36Z", "bug_id": 41129, "creation_time": "2006-12-07T17:43:36Z", "is_private": false, "attachment_id": null}]