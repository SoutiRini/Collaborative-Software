[{"count": 0, "tags": [], "text": "Steps to reproduce:\n- create an array of CellRangeAddress objects, where at least two are direct \n  neighbours.\n- call CellRangeUtil.mergeCellRanges(array)\n- You should see an UnsupportedOperationException thrown by AbstractList\n\nAnalysis:\nThe public method CellRangeUtil.mergeCellRanges() wraps an array into an ArrayList using Arrays.asList(...) to pass the result to the corresponding private method mergeCellRanges().\n\nUnder certain conditions mergeCellRanges() will try to shrink the list to a smaller size. The error occurs because structural modification of a wrapped Array is impossible.\n\nProblem: CellRangeUtil line 99, error occurs at line 124\n\nProposed solution: Copy the array into a list rather than creating a list view of the array.", "is_private": false, "id": 131990, "creator": "Karl.Eilebrecht@freenet.de", "time": "2009-11-16T02:52:17Z", "bug_id": 48202, "creation_time": "2009-11-16T02:52:17Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 48202, "text": "Fixed in r892462, junit added. \n\nYour proposed solution is correct: the List in mergeCellRanges can be structurally modified and this method should copy the input array into the list, not use a list view of the input array.\n\nThanks,\nYegor", "id": 132946, "time": "2009-12-19T03:33:15Z", "creator": "yegor@dinom.ru", "creation_time": "2009-12-19T03:33:15Z", "tags": [], "is_private": false}]