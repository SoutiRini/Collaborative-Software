[{"count": 0, "tags": [], "text": "./docs/conf/ssl-std.conf.in contains:\n#   Semaphore:\n#   Configure the path to the mutual exclusion semaphore the\n#   SSL engine uses internally for inter-process synchronization. \nSSLMutex  file:@exp_runtimedir@/ssl_mutex\n\nwhile mod_ssl says:\nSSLMutex - Valid SSLMutex mechanisms are: `none', `default' \n\ncan we change that to default, none, or comment out?", "attachment_id": null, "bug_id": 28923, "id": 57273, "time": "2004-05-12T10:26:42Z", "creator": "eflash@gmx.net", "creation_time": "2004-05-12T10:26:42Z", "is_private": false}, {"count": 1, "tags": [], "creator": "eflash@gmx.net", "attachment_id": 11519, "is_private": false, "id": 57274, "time": "2004-05-12T10:29:02Z", "bug_id": 28923, "creation_time": "2004-05-12T10:29:02Z", "text": "Created attachment 11519\nPatch for conf/ssl-std.conf.in"}, {"count": 2, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "id": 71781, "time": "2005-03-03T16:09:33Z", "bug_id": 28923, "creation_time": "2005-03-03T16:09:33Z", "is_private": false, "text": "On what platform was this?\n\nI believe the file: is used deliberately as the most-portable mutex type."}, {"count": 3, "tags": [], "bug_id": 28923, "attachment_id": null, "text": "(In reply to comment #2)\n> On what platform was this?\n> \n> I believe the file: is used deliberately as the most-portable mutex type.\n\nsorry, I must have missed that you replied;\nit was/is with Win32 and NetWare; and seems to me that file: doesnt work at all \non those platforms - however default works...\nprobably that is the more portable mutex type then: let the module default to \nwhatever is compiled in (probably defined at compile time)\n\nif the above is the proper way for Linux, then we probably need to fix the awk \nscripts to replace the mutex type for Win32 and NetWare.\n\nif still unsure re-post that onto the list - I did aeons ago, and there was some \nagreement that this is a 'known issue' with at least Win32 - however nobody \nfinally fixed the ssl.conf or awk scripts...\n", "id": 79145, "time": "2005-08-29T23:15:31Z", "creator": "eflash@gmx.net", "creation_time": "2005-08-29T23:15:31Z", "is_private": false}, {"count": 4, "tags": [], "text": "SSLMutex file:xxx is non-portable.\n\nSSLMutex default is portable, but doesn't accept an argument.\n\nI've suggested in the past that we allow 'default' to accept a filename\nstring, to be used or discarded at the will of APR (or even stripped to\nmake a name or numeric token for those platforms with more cryptic \nsemaphore identifiers.)  This is probably the right approach, and I'll\nrevisit the idea so that we can adopt\n\n  SSLMutex default:logs/ssl.mutex\n\nas the 'stock' convention.\n", "is_private": false, "id": 79146, "creation_time": "2005-08-29T23:27:19Z", "time": "2005-08-29T23:27:19Z", "creator": "wrowe@apache.org", "bug_id": 28923, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "eflash@gmx.net", "text": "(In reply to comment #4)\n> SSLMutex file:xxx is non-portable.\n> \n> SSLMutex default is portable, but doesn't accept an argument.\n> \n> I've suggested in the past that we allow 'default' to accept a filename\n> string, to be used or discarded at the will of APR (or even stripped to\n> make a name or numeric token for those platforms with more cryptic \n> semaphore identifiers.)  This is probably the right approach, and I'll\n> revisit the idea so that we can adopt\n> \n>   SSLMutex default:logs/ssl.mutex\n> \n> as the 'stock' convention.\n\nok, also a solution; \nbut why not just setting the proper defaults at compile-time as already done \nwith the keywords in mod_ssl.c, see around line 50 where we see that only \n'default' and 'none' are always available...\nso the default can be set finally after all defines and depending on those, and \nthe mutex setting in ssl.conf is then optional.\nIn addition I'm asking me if we cant do it already with IfModule magic, f.e. \nwith asking for the mpm module...\n", "count": 5, "id": 79147, "time": "2005-08-29T23:45:27Z", "bug_id": 28923, "creation_time": "2005-08-29T23:45:27Z", "is_private": false}, {"count": 6, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "id": 79148, "time": "2005-08-30T00:25:25Z", "bug_id": 28923, "creation_time": "2005-08-30T00:25:25Z", "is_private": false, "text": "> but why not just setting the proper defaults at compile-time as already done \n> with the keywords in mod_ssl.c, see around line 50 where we see that only \n> 'default' and 'none' are always available...\n\nYup, that's just wrong already...\n\n> so the default can be set finally after all defines and depending on those, and \n> the mutex setting in ssl.conf is then optional.\n\nNot really, you can't run without a mutex...\n\n> In addition I'm asking me if we cant do it already with IfModule magic, f.e. \n> with asking for the mpm module...\n\nNo because you presume that 'worker.c', for example, tells you something\nuseful.  It doesn't - on Solaris you want to avoid file:, on Win32 you\nuse the default: flavor.  Better that we trust the judgement of APR of\nwhich is optimal, and fix any problems in APR about any wrong choices.\n"}, {"count": 7, "tags": [], "creator": "eflash@gmx.net", "attachment_id": null, "id": 79198, "time": "2005-08-30T18:30:28Z", "bug_id": 28923, "creation_time": "2005-08-30T18:30:28Z", "is_private": false, "text": "(In reply to comment #6)\n> > the mutex setting in ssl.conf is then optional.\n> \n> Not really, you can't run without a mutex...\nI meant when a proper default is set.\n\n> > In addition I'm asking me if we cant do it already with IfModule magic, f.e. \n> > with asking for the mpm module...\n> \n> No because you presume that 'worker.c', for example, tells you something\n> useful.  It doesn't - on Solaris you want to avoid file:, on Win32 you\n> use the default: flavor.  Better that we trust the judgement of APR of\n> which is optimal, and fix any problems in APR about any wrong choices.\nI meant to set the defaults like that (probably even in main httpd.conf):\n<IfModule mpm_netware.c>\n  SSLMutex default\n</IfModule>\n<IfModule mpm_winnt.c>\n  SSLMutex default\n</IfModule>\n<IfModule mpm_worker.c>\n  SSLMutex file:logs/ssl_mutex\n</IfModule>\n\nlook, your idea is great, and I like it - but: when will we see it in any \nditribution?\nwell, I've reported that simple issue here in May 2004 after I posted on the dev \nlist, now we discuss the stuff (ok, was also 50% my fault for the last six \nmonths since Joe's reply); and if you fix it now in APR we will probably see it \nnot before another year takes place till finally this APR goes public.....\nI was after something simple which can be packported - we have this issues with \n_all_ NetWare/Win32 SSL 2.x distributions, and would be cool if we get that \nfixed before the 2.0.x line is in mature...\nI think the above simple conf patch doesnt hurt anything but only fix it for the \nplatforms having problems, so please commit this simple change now - regardless \nof any future code improvements we may get...\n"}, {"count": 8, "tags": [], "text": "The 2.0.X apache series has been abandoned by the developers in favor of 2.1.\nThere is no stable 2.1.  Therefor you must migrate back to 1.3 or live with\ntotal lack of support.  Take a look at the long list of patches any real\ndistribution has to apply to apache 2.0.54 (supposedly the highest release\nversion of apache available), and then ask how on earth they found all the\npatches.  Even when the problems show up on slashdot there is no 2.0.55 and\nno official post-2.0.54 patches.  I hope they read this and do the right thing:\nrelease a 2.0.55 with all patches applied _AND_ get back to maintaining the\napache 2.0 series.  I'd like to _know_ that all known bugfixes are applied,\nbut right now you can only hope you stumbled across all of them somewhere\nin this site, applied them in the right order, etc.\n", "attachment_id": null, "bug_id": 28923, "id": 79787, "time": "2005-09-12T11:16:31Z", "creator": "unsupported@buraphalinux.org", "creation_time": "2005-09-12T11:16:31Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "eflash@gmx.net", "text": "And where's your great idea now? Next 2.0.x release is out, and again same f*** \nwith the ssl.conf on Win32....\nThat's why I loose fun with such projects here on ASF:\nwe have the situation that someone reported already same problem in April 2003 - \nsee bug 19182 - but nobody of the ASF folks is able to make a simple change to a \nconf file where we all commonly agree that there's an issue....\ncan please someone explain with few words what's wrong with that simple change \nto set the SSLMutex to default?? Dont we trust the superdooper automake \nconfigure process that it sets the right default mutex??\n\nit gives no wonder why all politicans fail if we cant even act right although we \nknow its wrong what we do - ok, let's be like that politicans all over the \nworld: lets discuss this issue for another 10 years - its to heavy to decide \nafter two and a half already....\nand the great plus: we can spread it on two threads - 19182 is still open...\n\nthanks, Guenter.\n", "count": 9, "id": 81877, "time": "2005-10-28T03:08:22Z", "bug_id": 28923, "creation_time": "2005-10-28T03:08:22Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "eflash@gmx.net", "text": "REMINDER:\nsoon this configuration file bug will be 4 yours old since first report with \n#19182.....\nA lot of folks looked at it, wasted time with writing comments here - but \nnobody was willing to just take a minute and CHANGE ONE LINE although we \ncommonly agreed that its currently wrong at least on Win32 and NetWare...\nNow 2.2.4 is out the door, and still same bug, and still the need that I've to \npatch the ssl.conf again, arghhhhh! Why cant we just set:\nSSLMutex default\nand trust that the default is the right default on the platform build for?\nIsnt that what defaults are good for??\nSure that nobody else reports here nor votes for that bug because I'm the idiot \nwho provides builds with mod_ssl for Win32 and NetWare, and my users get a \nfixed ssl.conf - while the ASF refuses to distribute SSL-enabled versions at \nall. I should probably stop fixing that, and let all the users get frustrated \nand google for the issue.....", "count": 10, "id": 97730, "time": "2007-01-06T16:27:03Z", "bug_id": 28923, "creation_time": "2007-01-06T16:27:03Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "eflash@gmx.net", "text": "(In reply to comment #10)\n> REMINDER:\n> Now 2.2.4 is out the door, and still same bug, and still the need \n> that I've to patch the ssl.conf again, arghhhhh!\nMy apologies here - it is now only still an issue on NetWare - Win32 seems to \ngot a fix in the build process which was the reason I didnt realize it until I \nbuild it:\nhttp://svn.apache.org/viewvc/httpd/httpd/trunk/Makefile.win?r1=397647&r2=398284\nSo I believe this bug here ist solved for Win32 - now only NetWare needs a \nsimilar patch for the build process which I will attach here and also send to \nthe list.\n\n", "count": 11, "id": 98300, "time": "2007-01-20T04:48:09Z", "bug_id": 28923, "creation_time": "2007-01-20T04:48:09Z", "is_private": false}, {"count": 12, "tags": [], "text": "Created attachment 19437\nPatch against ./build/mkconfNW.awk to correct issues with httpd-ssl.conf creation\n\nThis patch fixes the SSLMutex issue as well as some other issues with wrong\nsubstituted paths for httpd-ssl.conf.", "attachment_id": 19437, "bug_id": 28923, "id": 98301, "time": "2007-01-20T04:51:48Z", "creator": "eflash@gmx.net", "creation_time": "2007-01-20T04:51:48Z", "is_private": false}, {"count": 13, "attachment_id": null, "bug_id": 28923, "is_private": false, "id": 98366, "time": "2007-01-22T08:09:55Z", "creator": "bnicholes@apache.org", "creation_time": "2007-01-22T08:09:55Z", "tags": [], "text": "Guenter,\n   Your patch for NetWare has been committed to trunk and 2.2."}, {"count": 14, "tags": [], "bug_id": 28923, "attachment_id": null, "id": 98372, "creation_time": "2007-01-22T12:43:18Z", "time": "2007-01-22T12:43:18Z", "creator": "eflash@gmx.net", "text": "Fixed in SVN with commit r498665:\nhttp://svn.apache.org/viewvc/httpd/httpd/trunk/build/\nmkconfNW.awk?r1=420990&r2=498665\n\n", "is_private": false}]