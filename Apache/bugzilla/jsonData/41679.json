[{"count": 0, "tags": [], "bug_id": 41679, "is_private": false, "id": 99682, "creation_time": "2007-02-22T07:31:12Z", "time": "2007-02-22T07:31:12Z", "creator": "scott.marlow.opensource@gmail.com", "text": "I found it useful to have SemaphoreValve filter on the URL pattern or an\nattribute value to throttle specific parts of an application.  I have this\nworking on Tomcat 5, 5.5 and want to contribute the changes to Tomcat 6.\n\nAttached to this report is the first cut of the patch.  I want to make further\nchanges will I will attach to this bug.", "attachment_id": null}, {"count": 1, "tags": [], "creator": "scott.marlow.opensource@gmail.com", "attachment_id": 19630, "id": 99683, "time": "2007-02-22T07:33:41Z", "bug_id": 41679, "creation_time": "2007-02-22T07:33:41Z", "is_private": false, "text": "Created attachment 19630\nFirst revision of proposed patch\n\n1.  May want to detect if a request has been throttled already differently.\n2.  May want to move the filtering into a subclass."}, {"count": 2, "tags": [], "creator": "scott.marlow.opensource@gmail.com", "attachment_id": null, "id": 100091, "time": "2007-03-06T08:27:02Z", "bug_id": 41679, "creation_time": "2007-03-06T08:27:02Z", "is_private": false, "text": "I got some feedback on this change in the dev list.  Its fine to mark the\nrequest as throttled with the current technique used, so forget about #1 above.\n We should do #2 (move valve filtering into a subclass).\n\nWe need to add an option for whether to do a minimal or maximal match. \nCurrently, we match the minimal number of SemaphoreValves which consumes fewer\nSemaphore permits.  It should be configurable to match as many Valves as\npossible which will consume as many permits as possible.  Both uses are valid. \nWe shouldn't deadlock on maximal matches since the Valve evaluation ordering is\nalways consistent.  "}, {"count": 3, "tags": [], "text": "Reset assignee so e-mail goes to list", "attachment_id": null, "bug_id": 41679, "id": 127846, "time": "2009-06-10T13:35:26Z", "creator": "markt@apache.org", "creation_time": "2009-06-10T13:35:26Z", "is_private": false}, {"count": 4, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 198157, "time": "2017-04-04T16:29:02Z", "bug_id": 41679, "creation_time": "2017-04-04T16:29:02Z", "is_private": false, "text": "10 years without an updated patch - I think it is time to close this issue."}]