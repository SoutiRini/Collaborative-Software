[{"count": 0, "attachment_id": null, "creator": "masque@inetsolve.com", "is_private": false, "id": 61375, "time": "2004-07-30T14:13:16Z", "bug_id": 30409, "creation_time": "2004-07-30T14:13:16Z", "tags": [], "text": "This code:\npublic abstract class TagLibraryInfo {\n...\npublic TagInfo getTag(String shortname) {\n\n...\n\n/* 190*/        for (int i = 0; i < tags.length; i++)\n/* 191*/            if (tags[i].getTagName().equals(shortname))\n/* 192*/                return tags[i];\n...\n}\n...\n}\n\nCauses an NPE if shortName is an empty element.  Thank god for the eclipse\nsysdeo debugger!  The code should either check for null:\n\nif(shortname == null || shortname.length()==0){\nSystem.err(\"a tags name is null, please check your .tld\");\nreturn null;\n}"}, {"count": 1, "tags": [], "bug_id": 30409, "is_private": false, "text": "I'm not sure.  This test works without an error or an NPE:\npublic class Test {\n  public static void main(String[] args) {\n    String shortname = null;\n    String[] tagFiles = new String[] { \"A\", \"B\", \"C\" };\n    for(int i = 0; i < tagFiles.length; i++) {\n      if(tagFiles[i].equals(shortname)) {\n        System.out.println(\"found\");\n      }\n    }\n    System.out.println(\"Finished with no error.\");\n  }\n}\n\nThe program finishes with no error.  \n\nOf course, if tags[i].getTagName() is null, then an NPE would occur.\n\nIn addition, I suggest you try this against Tomcat 5: filing bugs that aren't \nshowstopper or spec-related against Tomcat 4 is not recommended, as that branch \nis not actively developed.    ", "id": 61376, "time": "2004-07-30T14:26:15Z", "creator": "yoavs@computer.org", "creation_time": "2004-07-30T14:26:15Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 30409, "text": "The code quoted as the source of this issue is outside the control of the \ntomcat team as it is part of the jakarta-servletapi-4 module. Note that \nsimilar code exisits in the jakarta-servletapi-5 module.\n\nYou will need to contact the servlet spec team regarding this issue:\nservletapi-feedback@eng.sun.com\n\nI am marking this as INVALID as it is outside the scope of the tomcat source \ncode, not because the root cause of the issue is invalid.", "id": 62864, "time": "2004-08-31T20:43:21Z", "creator": "markt@apache.org", "creation_time": "2004-08-31T20:43:21Z", "is_private": false, "attachment_id": null}]