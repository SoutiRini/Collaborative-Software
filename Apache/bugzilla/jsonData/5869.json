[{"count": 0, "tags": [], "text": "I get the following exception when I use getClass().getResource(\"\");  This bug \nhappens to be exactly the same as Bug #3855.  I made sure there is only \ninstance of jndi.jar (as the resolution for that bug suggested), but to no \navail.  This works just fine in tomcat 3.2.2.\n\nThe code is\n    /** meta schema directory */\n    private static final String METASCHEMA_DIR =\n        QbQueryManager.class.getResource(\"\").getPath() + /*MSG0*/\"/metaschema\";\n\nThis is an attempt to get the real path to a directory in which the .class file \nfor the class that has this static field exists. (Refer Bug #3855 again for \nmore details).\n\n\n----- Root Cause -----\njava.lang.ExceptionInInitializerError: java.lang.ClassCastException: \norg.apache.naming.resources.FileDirContext\n\tat org.apache.catalina.loader.WebappClassLoader.findResourceInternal\n(WebappClassLoader.java:1585)\n\tat org.apache.catalina.loader.WebappClassLoader.findResource\n(WebappClassLoader.java:914)\n\tat org.apache.catalina.loader.WebappClassLoader.getResource\n(WebappClassLoader.java:1041)\n\tat java.lang.Class.getResource(Unknown Source)\n\tat com.autodesk.wpp.query.QbQueryManager.<clinit>\n(QbQueryManager.java:241)\n\tat com.autodesk.wpp.query.QbGetSchemaNamesHandler.messageHandler\n(QbGetSchemaNamesHandler.java:51)\n\tat \ncom.autodesk.wpp.navigation.communications.WpMessageHandler.handleMessage\n(WpMessageHandler.java:63)\n\tat \ncom.autodesk.sunrise.communications.imp.ServerMessageProcessor.processMessage\n(ServerMessageProcessor.java:148)\n\tat \ncom.autodesk.sunrise.communications.imp.ServerDemultiplexor.processMessage\n(ServerDemultiplexor.java:254)\n\tat \ncom.autodesk.sunrise.communications.imp.ServerDemultiplexor.demultiplex\n(ServerDemultiplexor.java:144)\n\tat com.autodesk.sunrise.communications.imp.MessagingServlet.doPost\n(MessagingServlet.java:216)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:760)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:201)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)", "attachment_id": null, "id": 9671, "creator": "revadir@yahoo.com", "time": "2002-01-15T11:20:54Z", "bug_id": 5869, "creation_time": "2002-01-15T11:20:54Z", "is_private": false}, {"count": 1, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of 4830 ***", "attachment_id": null, "id": 9672, "creator": "remm@apache.org", "time": "2002-01-15T12:53:50Z", "bug_id": 5869, "creation_time": "2002-01-15T12:53:50Z", "is_private": false}]