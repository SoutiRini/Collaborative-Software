[{"count": 0, "tags": [], "text": "I want to use the JUnit optional task but there is something missing:\nMy project includes some tests that should be invoked after compilation, and \nother tests that should be invoked after the server is up and running.\n\nTo seperate between these tests some are implelemting a CompileTimeTest tag \ninterface and other are implementing a RunTimeTest tag interface.\n\nI think it would be a nice feature to have an \"instanceof\" nested element that \nwill be used in the following way:\n\n<junit ...>\n  ...\n  ...\n  <batchtest ... >\n\n    //Example 1:\n    //Invoke tests which are instances of RunTimeTest and are not instances \n    //of DBTest will be invoked\n    //\n    <instanceof>\n      <include value= \"com.mercury.xxx.yyy.RunTimeTest\">\n      <exclude value= \"com.mercury.xxx.yyy.DBTest\">\n    </instanceof> \n\n    //Example 2:\n    //Only tests which are instances of RunTimeTest or CoreEngineTest and   \n    //are not instances of DBTest or CompileTimeTest will be invoked.\n\n    // Between the includes/excludes themselves there is an or flag.\n    // Between the includes and the excludes there is an and flag:\n    // ((include1 || include2 || ... || includeN) && \n    //  !(exclude1 || exclude2 || ... || excludeN))\n    <instanceof>\n      <include value= \"com.mercury.xxx.yyy.RunTimeTest\">\n      <include value= \"com.mercury.xxx.yyy.CoreEngineTest\">\n      <exclude value= \"com.mercury.xxx.yyy.DBTest\">\n      <exclude value= \"com.mercury.xxx.yyy.CompileTimeTest\">\n    </instanceof> \n\n  </batchtest>\n</junit>\n\nTests can be filtered by their name, but I think this way is more clean and \nmore flexible.\n\nIf you think its a good feature I can send you my implementation.", "attachment_id": null, "id": 35516, "creator": "golande@zahav.net.il", "time": "2003-04-18T13:38:11Z", "bug_id": 19151, "creation_time": "2003-04-18T13:38:11Z", "is_private": false}, {"count": 1, "tags": [], "text": "This will not fly... What you should really do is implement a custom selector. \nIf you don't know about selectors, you should learn about them. You can re-\nimplement your functionality using a custom selector, and you don't need to \nchange Ant to use it, with Ant 1.5.x or 1.6.\n\nThen propose this stand-alone enhancement to Ant again. Regards, --DD", "attachment_id": null, "id": 35704, "creator": "ddevienne@lgc.com", "time": "2003-04-21T14:08:07Z", "bug_id": 19151, "creation_time": "2003-04-21T14:08:07Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 19151, "attachment_id": null, "id": 35887, "time": "2003-04-23T12:30:48Z", "creator": "bodewig@apache.org", "creation_time": "2003-04-23T12:30:48Z", "is_private": false, "text": "I agree with Dominique.  You can already do what you want with a custom selector.\n\nHow do you perform the instanceof check?  Do you load the classes, parse the\nbytecode or parse the source?\n"}, {"count": 3, "tags": [], "bug_id": 19151, "attachment_id": null, "text": "Working with selectors is a good enough solution.\nI'm closing the request. ", "id": 35900, "time": "2003-04-23T14:53:55Z", "creator": "golande@zahav.net.il", "creation_time": "2003-04-23T14:53:55Z", "is_private": false}]