[{"count": 0, "tags": [], "bug_id": 43898, "attachment_id": null, "text": "I have tried to transfer a directory structure consisting of a few files and\ndirectories and after some items the transfer hangs.\nI have debugged this and identified the SSH/SCP protocol phase where it got\nstuck. I changed the code locally as in the attached patch, then it worked:\n\n--- ./ScpToMessage.java-orig 2006-12-13 13:16:19.000000000 +0100\n+++ ./ScpToMessage.java 2007-11-15 15:39:14.000000000 +0100\n@@ -209,6 +209,7 @@\n         waitForAck(in);\n         sendDirectory(directory, in, out);\n         out.write(\"E\\n\".getBytes());\n+        out.flush();\n         waitForAck(in);\n     }", "id": 110700, "time": "2007-11-19T01:29:59Z", "creator": "tge@blue-elephant-systems.com", "creation_time": "2007-11-19T01:29:59Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 43898, "attachment_id": null, "text": "I have quite easily run into this bug in the same scenario that thomas did.  A\nbug like this is disastrous because if you do not have verbose turned on you\nwill not see any file transfers at all, you will just see \"Connecting to 'host'\".\n\nBy building ant-jsch.jar in the manner thomas outlined, I was able to fix this.  ", "id": 112294, "time": "2007-12-29T16:40:00Z", "creator": "abargnesi@gmail.com", "creation_time": "2007-12-29T16:40:00Z", "is_private": false}, {"count": 2, "tags": [], "creator": "andreas@apache.org", "text": "I had the same problem, and Thomas' patch fixed it for me.", "id": 113074, "time": "2008-01-23T04:26:12Z", "bug_id": 43898, "creation_time": "2008-01-23T04:26:12Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 43898, "attachment_id": null, "id": 113077, "time": "2008-01-23T06:08:13Z", "creator": "peterreilly@apache.org", "creation_time": "2008-01-23T06:08:13Z", "is_private": false, "text": "Thanks for the update.\nI have checked the code, and the current svn trunk and 1.7.1 branch\nhas the fix.\nAnt 1.7.1 should be ready soon...."}]