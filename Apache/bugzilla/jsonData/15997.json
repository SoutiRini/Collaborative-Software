[{"count": 0, "tags": [], "creator": "gus.heck@olin.edu", "attachment_id": null, "is_private": false, "id": 29199, "time": "2003-01-11T23:19:09Z", "bug_id": 15997, "creation_time": "2003-01-11T23:19:09Z", "text": "Downloaded a completely fresh checkout of the 1.6 CVS HEAD with:\n\ncvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic checkout jakarta-ant\n\nIt built ok, but I always run the tests to make sure I am working with a usable\ncheckout. ... here is what I got when I ran the tests:\n\n\njakarta-ant]# JAVA_HOME=/usr/java/j2sdk1.4.1_01/ ./build.sh test\nBuildfile: build.xml\n\ncheck_for_optional_packages:\n\nxml-check:\n#---- BEGIN writeEnvironmentReport($Revision: 1.7 $): Useful properties found: ----\njava.version=1.4.1_01\nversion.JAXP=1.1\njava.ext.dirs=/usr/java/j2sdk1.4.1_01/jre/lib/ext\nversion.crimson=not-present\nversion.SAX=2.0\njava.class.path=bootstrap/lib/optional.jar:bootstrap/lib/nodeps.jar:bootstrap/lib/ant-xslp.jar:bootstrap/lib/ant-xalan2.jar:bootstrap/lib/ant-xalan1.jar:bootstrap/lib/ant-weblogic.jar:bootstrap/lib/ant-vaj.jar:bootstrap/lib/ant-trax.jar:bootstrap/lib/ant-swing.jar:bootstrap/lib/ant-stylebook.jar:bootstrap/lib/ant-starteam.jar:bootstrap/lib/ant-oro.jar:bootstrap/lib/ant-netrexx.jar:bootstrap/lib/ant-netcomp.jar:bootstrap/lib/ant-log4j.jar:bootstrap/lib/ant-junit.jar:bootstrap/lib/ant-jmf.jar:bootstrap/lib/ant-jdepend.jar:bootstrap/lib/ant-javamail.jar:bootstrap/lib/ant.jar:bootstrap/lib/ant-jakarta-regexp.jar:bootstrap/lib/ant-jai.jar:bootstrap/lib/ant-icontract.jar:bootstrap/lib/ant-commons-logging.jar:bootstrap/lib/ant-bcel.jar:bootstrap/lib/ant-apache-resolver.jar:bootstrap/lib/ant-apache-bsf.jar:bootstrap/lib/ant-antlr.jar:lib/xercesImpl.jar:lib/xml-apis.jar:bootstrap/lib/ant.jar:lib/optional/junit.jar::/usr/java/j2sdk1.4.1_01//lib/tools.jar\nversion.xerces=not-present\nsun.boot.class.path=/usr/java/j2sdk1.4.1_01/jre/lib/rt.jar:/usr/java/j2sdk1.4.1_01/jre/lib/i18n.jar:/usr/java/j2sdk1.4.1_01/jre/lib/sunrsasign.jar:/usr/java/j2sdk1.4.1_01/jre/lib/jsse.jar:/usr/java/j2sdk1.4.1_01/jre/lib/jce.jar:/usr/java/j2sdk1.4.1_01/jre/lib/charsets.jar:/usr/java/j2sdk1.4.1_01/jre/classes\nversion.DOM.draftlevel=2.0fd\nversion.xalan2=Xalan;Java;Xalan Java 2.2.D11;\nversion.DOM=2.0\nversion.xalan1=not-present\n#----- END writeEnvironmentReport: Useful properties found: -----\n# YAHOO! Your environment seems to be OK.\n\ndump-sys-properties:\njava.vm.info=mixed mode\njava.vm.name=Java HotSpot(TM) Client VM\njava.vm.vendor=Sun Microsystems Inc.\njava.vm.version=1.4.1_01-b01\nos.arch=i386\nos.name=Linux\nos.version=2.4.18-18.8.0\nfile.encoding=UTF-8\nuser.language=en\n\nrun-which:\n\ndump-info:\n\nprepare:\n\nbuild:\nCopying 2 files to /usr/local/jakarta-ant/build/classes\n\ncompile-tests:\nCreated dir: /usr/local/jakarta-ant/build/testcases\nCompiling 159 source files to /usr/local/jakarta-ant/build/testcases\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -deprecation for details.\n\nprobe-offline:\n\nrun-tests:\nTestsuite: org.apache.tools.ant.filters.LineContainsTest\nTests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.132 sec\n\nTestsuite: org.apache.tools.ant.AntClassLoaderTest\nTests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.06 sec\n\nTestsuite: org.apache.tools.ant.CaseTest\nTests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.088 sec\n\nTestsuite: org.apache.tools.ant.DirectoryScannerTest\nTests run: 2, Failures: 0, Errors: 0, Time elapsed: 1.597 sec\n\nTestsuite: org.apache.tools.ant.ImmutableTest\nTests run: 7, Failures: 0, Errors: 0, Time elapsed: 0.272 sec\n\nTestsuite: org.apache.tools.ant.IncludeTest\nTests run: 12, Failures: 0, Errors: 0, Time elapsed: 0.33 sec\n\nTestsuite: org.apache.tools.ant.IntrospectionHelperTest\nTests run: 6, Failures: 0, Errors: 0, Time elapsed: 0.037 sec\n\nTestsuite: org.apache.tools.ant.LoaderRefTest\nTests run: 1, Failures: 1, Errors: 0, Time elapsed: 0.255 sec\n\nTestcase: testBadRef(org.apache.tools.ant.LoaderRefTest):       FAILED\nShould throw BuildException because 'Should fail due to ref not being a class\nloader' with message containing 'does not reference a class loader' (actual\nmessage 'Compile failed; see the compiler error output for details.' instead)\njunit.framework.AssertionFailedError: Should throw BuildException because\n'Should fail due to ref not being a class loader' with message containing 'does\nnot reference a class loader' (actual message 'Compile failed; see the compiler\nerror output for details.' instead)\n        at junit.framework.Assert.fail(Assert.java:47)\n        at\norg.apache.tools.ant.BuildFileTest.expectBuildExceptionContaining(BuildFileTest.java:316)\n        at org.apache.tools.ant.LoaderRefTest.testBadRef(LoaderRefTest.java:78)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at junit.framework.TestCase.runTest(TestCase.java:154)\n        at junit.framework.TestCase.runBare(TestCase.java:127)\n        at junit.framework.TestResult$1.protect(TestResult.java:106)\n        at junit.framework.TestResult.runProtected(TestResult.java:124)\n        at junit.framework.TestResult.run(TestResult.java:109)\n        at junit.framework.TestCase.run(TestCase.java:118)\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\n        at junit.framework.TestSuite.run(TestSuite.java:203)\n        at\norg.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:323)\n        at\norg.apache.tools.ant.taskdefs.optional.junit.JUnitTask.executeInVM(JUnitTask.java:809)\n        at\norg.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute(JUnitTask.java:552)\n        at\norg.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute(JUnitTask.java:528)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:185)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at org.apache.tools.ant.Target.execute(Target.java:309)\n        at org.apache.tools.ant.Target.performTasks(Target.java:336)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1244)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1188)\n        at org.apache.tools.ant.Main.runBuild(Main.java:612)\n        at org.apache.tools.ant.Main.start(Main.java:197)\n        at org.apache.tools.ant.Main.main(Main.java:235)\n\n\n\nBUILD FAILED\nfile:///usr/local/jakarta-ant/build.xml:1469: Test\norg.apache.tools.ant.LoaderRefTest failed\n\nTotal time: 11 seconds"}, {"count": 1, "attachment_id": null, "bug_id": 15997, "text": "A search of my mailbox reveals that this test was added by Connor on Monday. I\ndon't know what broke them though.", "id": 29200, "time": "2003-01-11T23:21:40Z", "creator": "gus.heck@olin.edu", "creation_time": "2003-01-11T23:21:40Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "bodewig@apache.org", "text": "Do the results look different if you throw in an explicit ./bootstrap.sh\nbefore running the tests?", "id": 29244, "time": "2003-01-13T13:14:33Z", "bug_id": 15997, "creation_time": "2003-01-13T13:14:33Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 15997, "is_private": false, "id": 29252, "time": "2003-01-13T13:37:47Z", "creator": "conor@apache.org", "creation_time": "2003-01-13T13:37:47Z", "tags": [], "text": "Works for me\n\n    [junit] Testsuite: org.apache.tools.ant.CaseTest\n    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.111 sec\n\n    [junit] Testsuite: org.apache.tools.ant.LoaderRefTest\n    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 1.16 sec\n\n    [junit] Testsuite: org.apache.tools.ant.TopLevelTaskTest\n    [junit] Tests run: 3, Failures: 0, Errors: 0, Time elapsed: 0.586 sec\n\nIf you still have problems, can you just run ant on the build file from the test\ncase and see what is the output then)\n\n"}, {"count": 4, "attachment_id": null, "bug_id": 15997, "text": "havn't checked this yet. I was thinking I might build tomcat for fun. I saw that\nthey wanted me to go get ant... I said no problem, I can do that... I reported\nthis bug and bug 15998, and then I read the next 30 things tomcat wanted me to\ninstall before building it... Suddenly it wasn't so fun and I downloaded the\nbinary instead :)\n\nI havn't got back to trying to build it with explict bootstrap. Is this possibly\nrelated to not having java in the path? Stefan suspected this to be the problem \nwith 15998. (which I havn't gone back to check yet either)", "id": 29636, "time": "2003-01-17T23:07:28Z", "creator": "gus.heck@olin.edu", "creation_time": "2003-01-17T23:07:28Z", "tags": [], "is_private": false}]