[{"count": 0, "tags": [], "bug_id": 23492, "attachment_id": null, "text": "apr_restlist_acquire() always returns success, even if resource creation failed.\nUnfortunatly you can't even work around this within the resource constructor\n(e.g. by returning NULL) because create_resource() doesn't return any data if\nthe constructor failed. \nSo in the end the user is left with bogus data and APR_SUCCESS.\n\nCode in question starts in line 370.\n\n370 rv = create_resource(reslist, &res);\n    reslist->ntotal++;\n    *resource = res->opaque;\n    free_container(reslist, res);\n    apr_thread_mutex_unlock(reslist->listlock);\n    return APR_SUCCESS;", "id": 44849, "time": "2003-09-29T17:45:15Z", "creator": "st@kino-fahrplan.de", "creation_time": "2003-09-29T17:45:15Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 23492, "text": "Created attachment 8386\nPatch to let apr_reslist_acquire() pass through the error code", "id": 44850, "time": "2003-09-29T17:47:07Z", "creator": "st@kino-fahrplan.de", "creation_time": "2003-09-29T17:47:07Z", "is_private": false, "attachment_id": 8386}, {"count": 2, "tags": [], "bug_id": 23492, "text": "Created attachment 8401\nFirst patch closed an if-statement two lines to early, SFT.", "id": 44901, "time": "2003-09-30T19:03:30Z", "creator": "st@kino-fahrplan.de", "creation_time": "2003-09-30T19:03:30Z", "is_private": false, "attachment_id": 8401}, {"count": 3, "tags": [], "creator": "aaron@apache.org", "text": "Thanks for the bug reports! I just committed a modified version of your patch.\nI also found another place where we're possibly leaking memory when we get\nerrors back from the constructor.", "id": 45174, "time": "2003-10-06T20:36:31Z", "bug_id": 23492, "creation_time": "2003-10-06T20:36:31Z", "is_private": false, "attachment_id": null}]