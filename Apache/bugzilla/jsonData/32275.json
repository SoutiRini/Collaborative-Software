[{"count": 0, "tags": [], "creator": "erwan.legeleux@exane.com", "attachment_id": null, "id": 67022, "time": "2004-11-17T15:34:06Z", "bug_id": 32275, "creation_time": "2004-11-17T15:34:06Z", "is_private": false, "text": "Hello,\n\nI find it when i will try to upgrade from 4.1.30 to 5.0.28 (realease).\nYou can test that :\n\n<jsp:useBean id=\"toto\" scope=\"request\" class=\"java.lang.Integer\"/>\n<html>\n<body>\nIt doesn't compile\n</body>\n</html>\n\nHere is exception stack trace : \n\norg.apache.jasper.JasperException: /test.jsp(1,1) \n\torg.apache.jasper.compiler.DefaultErrorHandler.jspError\n(DefaultErrorHandler.java:39)\n\torg.apache.jasper.compiler.ErrorDispatcher.dispatch\n(ErrorDispatcher.java:409)\n\torg.apache.jasper.compiler.ErrorDispatcher.jspError\n(ErrorDispatcher.java:150)\n\torg.apache.jasper.compiler.Generator$GenerateVisitor.visit\n(Generator.java:1227)\n\torg.apache.jasper.compiler.Node$UseBean.accept(Node.java:1116)\n\torg.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)\n\torg.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)\n\torg.apache.jasper.compiler.Node$Visitor.visit(Node.java:2219)\n\torg.apache.jasper.compiler.Node$Root.accept(Node.java:456)\n\torg.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)\n\torg.apache.jasper.compiler.Generator.generate(Generator.java:3272)\n\torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:244)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:470)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:451)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:439)\n\torg.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:511)\n\torg.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:295)\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\nIt doesn't work also with java.lang.Boolean class.\nI think it is a critical, but not bloquer because we can't use getAttribute \nmethod instead.\nI hope, you will find a solution.\nThanks a lot."}, {"count": 1, "tags": [], "bug_id": 32275, "attachment_id": null, "text": "I think you need a space before the />, or a separate </jsp:useBean> closing \nelement.  This is a difference between JSP Spec 1.1 and 2.0 (which Tomcat 5 \nimplements), and has been discussed numerous times both in Bugzilla and on this \nlist.  It's correctly implemented in Tomat.", "id": 67025, "time": "2004-11-17T15:37:28Z", "creator": "yoavs@computer.org", "creation_time": "2004-11-17T15:37:28Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 32275, "attachment_id": null, "text": "I'm sorry to tell you that it doesn't work.\nMaybe you can try it on a Tomcat 5.0.28.\nBut i repeat that it doesn't works with java.lang.Integer or java.lang.Boolean.\nIt is working with other class , i use.\n\nHere again the JSP test :\n\n<jsp:useBean id=\"toto\" scope=\"request\" class=\"java.lang.Integer\"></jsp:useBean>\n<html>\n<body>\nOK !!!!2222\n</body>\n</html>\n\nPlease test it !\n\n\n\n(In reply to comment #1)\n> I think you need a space before the />, or a separate </jsp:useBean> closing \n> element.  This is a difference between JSP Spec 1.1 and 2.0 (which Tomcat 5 \n> implements), and has been discussed numerous times both in Bugzilla and on \nthis \n> list.  It's correctly implemented in Tomat.\n\n", "id": 67038, "time": "2004-11-17T16:31:30Z", "creator": "erwan.legeleux@exane.com", "creation_time": "2004-11-17T16:31:30Z", "is_private": false}, {"count": 3, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 67039, "time": "2004-11-17T16:34:16Z", "bug_id": 32275, "creation_time": "2004-11-17T16:34:16Z", "is_private": false, "text": "Please do not reopen the report. I thought this was obvious enough."}, {"count": 4, "tags": [], "bug_id": 32275, "attachment_id": null, "text": "Hmm, ok, I closed the wrong thing ;)\njava.lang.Integer is not a JavaBean, so you cannot use it in useBean. There's a\nswitch in Jasper configuration to allow it, though.", "id": 67042, "time": "2004-11-17T16:42:48Z", "creator": "remm@apache.org", "creation_time": "2004-11-17T16:42:48Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 32275, "attachment_id": null, "text": "I can do it in Tomcat 4.1.30 and i want to make it work in Tomcat 5.0.28.\nWhat should i do so ?", "id": 67043, "time": "2004-11-17T16:44:22Z", "creator": "erwan.legeleux@exane.com", "creation_time": "2004-11-17T16:44:22Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 32275, "attachment_id": null, "text": "But is String a JavaBean ???", "id": 67044, "time": "2004-11-17T16:45:57Z", "creator": "erwan.legeleux@exane.com", "creation_time": "2004-11-17T16:45:57Z", "is_private": false}, {"count": 7, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "id": 67045, "time": "2004-11-17T16:50:39Z", "bug_id": 32275, "creation_time": "2004-11-17T16:50:39Z", "is_private": false, "text": "Your solution is to add a space before the closing />, or put the closing \n</jsp:useBean> on a separate line."}, {"count": 8, "tags": [], "bug_id": 32275, "attachment_id": null, "text": "I tried with the space before the closing /> and with the closing \n</jsp:useBean>.\nBut nothing. \nProblem is elsewhere.\n\n(In reply to comment #7)\n> Your solution is to add a space before the closing />, or put the closing \n> </jsp:useBean> on a separate line.\n\n", "id": 67047, "time": "2004-11-17T17:01:26Z", "creator": "erwan.legeleux@exane.com", "creation_time": "2004-11-17T17:01:26Z", "is_private": false}, {"count": 9, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 67048, "time": "2004-11-17T17:05:25Z", "bug_id": 32275, "creation_time": "2004-11-17T17:05:25Z", "is_private": false, "text": "Yes, java.lang.String is a JavaBean (= it has an empty constructor), so it will\nwork. java.lang.Integer is not a JavaBean, however.\nBZ is not a support forum, however."}]