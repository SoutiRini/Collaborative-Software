[{"count": 0, "tags": [], "creator": "john.hare@doit.wisc.edu", "attachment_id": null, "id": 124766, "time": "2009-02-10T14:56:11Z", "bug_id": 46690, "creation_time": "2009-02-10T14:56:11Z", "is_private": false, "text": "When JMeter submits the following request:\nhttp://www.website.edu/MasterIncludes/toaspnet.asp?dest=c_tmodule/tm_step1.aspx\n\nAnd receives a response as follows (note the double \"../../\"):\nHTTP/1.x 302 Object moved\nLocation: ../../wiscareers_net/tonet.axd?dest=c_tmodule/tm_step1.aspx&id=bbuI5wrZ12Y=&\n\nAnd it's set to follow redirects, JMeter will follow up with a request\nto the URL:\nhttp://www.website.edu/../wiscareers_net/tonet.axd?dest=c_tmodule/tm_step1.aspx&id=bbuI5wrZ12Y=&\n\nWhich is an invalid URL.\n\nReal browsers (Firefox, IE, Safari) will redirect to:\nhttp://www.website.edu/wiscareers_net/tonet.axd?dest=c_tmodule/tm_step1.aspx&id=bbuI5wrZ12Y=&\n\nThis is an enhancement request such that JMeter will handle these relative URLs in the same manner as the primary browsers handle them."}, {"count": 1, "tags": [], "creator": "jason.barnabe@gmail.com", "attachment_id": null, "id": 125401, "time": "2009-03-06T12:38:20Z", "bug_id": 46690, "creation_time": "2009-03-06T12:38:20Z", "is_private": false, "text": "This is not limited to redirects. It also happens with URLs entered directly and those loaded via \"Retrieve All Embedded Resources from HTML files\".\n\nWhen loading relative URLs, Firefox, IE, and others will resolve to an absolute URL before making the request, so if you enter \"http://example.com/a/..\", they will attempt to load \"http://example.com/\". JMeter, on the other hand, will attempt to load \"http://example.com/a/..\". In this case, both URLs work, so there's no issue. But in the case of \"http://example.com/../\", the browsers will notice the error and correct it to \"http://example.com/\" before sending, while JMeter won't and will receive a 400 from the server.\n\nRFC 2396 (http://www.ietf.org/rfc/rfc2396.txt) section 5.2 provided an example algorithm for resolving relative references."}, {"count": 2, "tags": [], "bug_id": 46690, "attachment_id": null, "id": 125968, "time": "2009-04-03T03:45:21Z", "creator": "sebb@apache.org", "creation_time": "2009-04-03T03:45:21Z", "is_private": false, "text": "JMeter currently uses  new URL(baseURL, location)  to handle the references.\n\nThis behaves correctly according to RFC2396, which states:\n\n5.2.\n<snip/>\n g) If the resulting buffer string still begins with one or more\n         complete path segments of \"..\", then the reference is\n         considered to be in error.  Implementations may handle this\n         error by retaining these components in the resolved path (i.e.,\n         treating them as part of the final URI), by removing them from\n         the resolved path (i.e., discarding relative levels above the\n         root), or by avoiding traversal of the reference.\n\nJava takes the first option, i.e. it leaves the component in the resolved path.\n\nIt seems that browsers take the second option, i.e. discarding extra levels.\n\nJMeter will need to perform further processing to remove any additional relative levels."}, {"count": 3, "tags": [], "creator": "sebb@apache.org", "text": "URL: http://svn.apache.org/viewvc?rev=761626&view=rev\nLog:\nBug 46690 - handling of 302 redirects with invalid relative paths.\nJMeter now removes extraneous leading \"../\" segments (as do many browsers)\n\nIt will be in nightlies after r761626", "id": 125970, "time": "2009-04-03T04:36:01Z", "bug_id": 46690, "creation_time": "2009-04-03T04:36:01Z", "is_private": false, "attachment_id": null}]