[{"count": 0, "tags": [], "bug_id": 51189, "text": "Hi, \n\n   I deployed an web application on tomcat 7.0.11, it got acceptor threads blocked when it ran two weeks, and the mysql connections weren't released, I guess they are the same problem. I don't whether it is a bug of JIoEndpoint.\n\n   Thanks a lot.\n   EastMountain\n\nThread dump below:\n\n\"\"http-bio-8080\"-Acceptor-3\" daemon prio=10 tid=0x00002aaab4148000 nid=0x141d waiting for monitor entry [0x00000000419ac000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:388)\n        - waiting to lock <0x00002abd72beb518> (a java.net.SocksSocketImpl)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:453)\n        at java.net.ServerSocket.accept(ServerSocket.java:421)\n        at org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket(DefaultServerSocketFactory.java:59)\n        at org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:211)\n        at java.lang.Thread.run(Thread.java:619)\n\n\"\"http-bio-8080\"-Acceptor-2\" daemon prio=10 tid=0x00002aaab4898800 nid=0x141c runnable [0x00000000411af000]\n   java.lang.Thread.State: RUNNABLE\n        at java.net.PlainSocketImpl.socketAccept(Native Method)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:390)\n        - locked <0x00002abd72beb518> (a java.net.SocksSocketImpl)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:453)\n        at java.net.ServerSocket.accept(ServerSocket.java:421)\n        at org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket(DefaultServerSocketFactory.java:59)\n        at org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:211)\n        at java.lang.Thread.run(Thread.java:619)\n\n\"\"http-bio-8080\"-Acceptor-1\" daemon prio=10 tid=0x00002aaab45a4800 nid=0x141b waiting for monitor entry [0x0000000041930000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:388)\n        - waiting to lock <0x00002abd72beb518> (a java.net.SocksSocketImpl)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:453)\n        at java.net.ServerSocket.accept(ServerSocket.java:421)\n        at org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket(DefaultServerSocketFactory.java:59)\n        at org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:211)\n        at java.lang.Thread.run(Thread.java:619)\n\n\"\"http-bio-8080\"-Acceptor-0\" daemon prio=10 tid=0x00002aaab48a7800 nid=0x141a waiting for monitor entry [0x000000004116e000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:388)\n        - waiting to lock <0x00002abd72beb518> (a java.net.SocksSocketImpl)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:453)\n        at java.net.ServerSocket.accept(ServerSocket.java:421)\n        at org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket(DefaultServerSocketFactory.java:59)\n        at org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:211)\n        at java.lang.Thread.run(Thread.java:619)", "id": 146278, "time": "2011-05-12T07:32:01Z", "creator": "helinxiang@gmail.com", "creation_time": "2011-05-12T07:32:01Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 51189, "text": "That thread dump is normal.\n\nThe users mailing list is the place to seek help if your application becomes unresponsive.", "id": 146283, "time": "2011-05-12T14:36:06Z", "creator": "markt@apache.org", "creation_time": "2011-05-12T14:36:06Z", "is_private": false, "attachment_id": null}]