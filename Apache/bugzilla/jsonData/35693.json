[{"count": 0, "tags": [], "creator": "masonjm@apache.org", "attachment_id": null, "id": 77191, "time": "2005-07-11T21:04:13Z", "bug_id": 35693, "creation_time": "2005-07-11T21:04:13Z", "is_private": false, "text": "The commit that removed some unnecessary forceStoreEnlistments makes it\nimpossible to create new objects, at least with a JDBC store set to READ_COMMITTED.\n\nWhat appears to be happening is that by not forcing store enlistment the new\nobject is created in a separate transaction from subsequent reads. This leads to\nan ObjectNotFoundException in SecurityImpl.checkCredentials() (when write\npermissions for the new resources are being checked) and a similar error in\nLockImpl.isLockedInternal()."}, {"count": 1, "tags": [], "creator": "wburrows@e2open.com", "attachment_id": null, "id": 77195, "time": "2005-07-11T22:16:07Z", "bug_id": 35693, "creation_time": "2005-07-11T22:16:07Z", "is_private": false, "text": "Yes, I have seen another problem with the read-only store enlistment changes \nand had to back them out of my personal build as well. In my case, which is \nalso for DB2 and using external client-initiated transactions, it seems that \nall transactions including reads need to be enlisted to the same transaction or \nthe db deadlocks. Can these \"read-only\" store enlistment changes be backed out \nor at least made configurable/optional for those of us using DB2?\n"}, {"count": 2, "tags": [], "bug_id": 35693, "attachment_id": null, "is_private": false, "id": 77199, "time": "2005-07-12T01:10:46Z", "creator": "masonjm@apache.org", "creation_time": "2005-07-12T01:10:46Z", "text": "Unless someone can fix it I think we should pull this out of 2.1 (at least). It\nseems to add too many issues without solving anything (had another problem with\nOPTIONS returning 200 for non-existant resources).\n\nDoes anyone know if this was a fix for something, or was it just a performance\nimprovement?"}, {"count": 3, "tags": [], "text": "If I remember correctly the accompanying text indicated that it was a \nperformance improvement.\n", "attachment_id": null, "bug_id": 35693, "id": 77201, "time": "2005-07-12T01:31:56Z", "creator": "wburrows@e2open.com", "creation_time": "2005-07-12T01:31:56Z", "is_private": false}, {"count": 4, "tags": [], "text": "Which classes are you talking about? Can you post a link to the commit?\nSearching the mailinglist for \"forceStoreEnlistment\" only gives me messages of\nmore than a year old.", "attachment_id": null, "bug_id": 35693, "id": 77207, "time": "2005-07-12T10:13:55Z", "creator": "unico@apache.org", "creation_time": "2005-07-12T10:13:55Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 35693, "text": "It looks like view-cvs is down right now, so I'm not sure I can give you a good\nlink to the commit. It was rev 208532 commited by pnever on (Wed, 23 Feb 2005).\nIf I remember correctly (not sure how to get a list with svn) it included\nContentImpl, LockImpl, StructureImpl and WebdavUtils.\n\nI'm going to CC Peter on this. Hopefully he can add some insight :).\n\nAs for the commit message, I don't see it either. Maybe there was a problem with\nthe svn mail hooks for awhile.", "id": 77219, "time": "2005-07-12T16:26:50Z", "creator": "masonjm@apache.org", "creation_time": "2005-07-12T16:26:50Z", "is_private": false, "attachment_id": null}]