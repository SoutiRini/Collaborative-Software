[{"count": 0, "tags": [], "text": "The attached patch attempts to resolve the issues raised in\nhttp://nagoya.apache.org/eyebrowse/ReadMsg?listName=log4j-dev@logging.apache.org&msgNo=8197\n\nUnfortunately at the moment the unit tests on the CVS HEAD appear to have\nfailures, so I'm not able to confirm that the changes do what they intend, but\nthey should be close and sufficient for discussion.\n\nBoth a patch to and a full copy of o.a.l.joran.JoranConfigurator.java are\nprovided.  A new class o.a.l.joran.util.JoranDocument.java is added which\nreplaces o.a.l.joran.util.WellformnessCheck and XMLUtil.", "attachment_id": null, "bug_id": 32478, "id": 67730, "time": "2004-12-01T20:19:04Z", "creator": "carnold@houston.rr.com", "creation_time": "2004-12-01T20:19:04Z", "is_private": false}, {"attachment_id": 13616, "tags": [], "bug_id": 32478, "is_private": false, "count": 1, "id": 67732, "time": "2004-12-01T20:20:06Z", "creator": "carnold@houston.rr.com", "creation_time": "2004-12-01T20:20:06Z", "text": "Created attachment 13616\nModifications to JoranConfigurator"}, {"count": 2, "tags": [], "creator": "ceki@apache.org", "text": "\n> Unfortunately at the moment the unit tests on the CVS HEAD appear to have\n> failures, so I'm not able to confirm that the changes do what they intend, but\n> they should be close and sufficient for discussion.\n\nThis is so much better than one could normally expect. Vow! \n\nIf some tests are failing it's probably because you are not dealing with the Locator \nin JoranDocument. Anyway, I've had a cursory look and it looks very good.\n", "id": 67733, "time": "2004-12-01T20:34:21Z", "bug_id": 32478, "creation_time": "2004-12-01T20:34:21Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 32478, "attachment_id": 13618, "id": 67735, "time": "2004-12-01T21:57:46Z", "creator": "carnold@houston.rr.com", "creation_time": "2004-12-01T21:57:46Z", "is_private": false, "text": "Created attachment 13618\nRevised JoranDocument that preserves and replays locator info\n\nWhat I was trying to say is that CVS HEAD before any modifications was failing\ntests for me, so I was unable to see if my modifications kept the bar green.\n\nThis attachment modifies JoranDocument so that each start and end tags\nlocations are preserved and are replayed to the JoranInterpreter."}, {"count": 4, "tags": [], "text": "\nWhich test was failing? All tests except SizeBasedRollingTest should normally \nsucceed.", "is_private": false, "id": 67762, "creator": "ceki@apache.org", "time": "2004-12-02T10:49:35Z", "bug_id": 32478, "creation_time": "2004-12-02T10:49:35Z", "attachment_id": null}, {"count": 5, "tags": [], "text": "\nAs of 2004-12-09 all tests should succeeed.", "attachment_id": null, "bug_id": 32478, "id": 68199, "time": "2004-12-09T18:47:36Z", "creator": "ceki@apache.org", "creation_time": "2004-12-09T18:47:36Z", "is_private": false}, {"count": 6, "tags": [], "text": "Created attachment 13718\nAlternative \"stateless\" take on JoranConfigurator\n\nI took a shot at reworking JoranConfigurator to have static \"configure\" methods\nthat throw exceptions on fatal errors such as missing config file, non-well\nformed, etc.  I think that is an improvement since it allows the caller to\neasily implement fallback configuration if things go totally awry.  \n\nAs it stands, it doesn't really fit well with ConfigurationBase which would\nprobably be a better base class for JoranDocument than JoranConfigurator.\n\nI did get everything to compile, but was failing defaultInit.TestCase2.xmlTest.\n Anyway, might give you something to thing about.\n\nI did do a little tweak to JoranDocument.replay that attempts to tolerate an\nexception being thrown in JoranInterpret.startElement or endElement.  If an\nexception is thrown in startElement, it discards all content until the matching\nend element.", "attachment_id": 13718, "bug_id": 32478, "id": 68223, "time": "2004-12-10T02:33:08Z", "creator": "carnold@houston.rr.com", "creation_time": "2004-12-10T02:33:08Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 32478, "is_private": false, "count": 7, "id": 78778, "time": "2005-08-22T00:53:08Z", "creator": "carnold@apache.org", "creation_time": "2005-08-22T00:53:08Z", "text": "I believe the original issue with the multiple parse passes with Joran are resolved.  Other issues should be \naddressed in the API review in the log4j 1.3 release process."}]