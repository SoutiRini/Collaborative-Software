[{"count": 0, "tags": [], "text": "Setting:\nMy test http.conf has 3 virtual host entries:\n<VirtualHost *>\nServerName ssl.host.com:443\nSSLEngine on\n</VirtualHost *>\n<VirtualHost *>\nServerName oldbox.host.com\nRedirect / http://newbox.host.com/\n</VirtualHost *>\n<VirtualHost *>\nServerName newbox.host.com\n...\n</VirtualHost *>\n\nProblem 1:\nWhen I try to hit it like this:\n# telnet 127.0.0.1 80\nTrying 127.0.0.1...\nConnected to localhost (127.0.0.1).\nEscape character is '^]'.\nGET / HTTP/1.0\nHost: oldbox.host.com\n\nI get this response (NOTE the incorrect URL in the Location field):\nHTTP/1.1 302 Found\nDate: Sun, 19 May 2002 12:28:11 GMT\nServer: Apache/2.0.36 (Unix) mod_ssl/2.0.36 OpenSSL/0.9.6b DAV/2\nLocation: http://newbox.host.com/mod_ssl:error:HTTP-request\nContent-Length: 321\nContent-Type: text/html; charset=iso-8859-1\n\n...\n\nProblem 2:\nIf I change the Redirect directive to this:\nRedirect /test.html http://newbox.host.com/test.html\n\nI get a different response:\nHTTP/1.1 400 Bad Request\nDate: Sun, 19 May 2002 12:36:33 GMT\nServer: Apache/2.0.36 (Unix) mod_ssl/2.0.36 OpenSSL/0.9.6b DAV/2\nVary: accept-language\nAccept-Ranges: bytes\nContent-Length: 725\nConnection: close\nContent-Type: text/html; charset=ISO-8859-1\nExpires: Sun, 19 May 2002 12:36:33 GMT\n\nAnd the error-log has these entries:\n[Sun May 19 08:36:33 2002] [error] mod_ssl: SSL handshake failed: HTTP spoken \non HTTPS port; trying to send HTML error page (OpenSSL library error follows)\n[Sun May 19 08:36:33 2002] [error] OpenSSL: error:1407609C:lib(20):func\n(118):reason(156)\n\nProblem 3:\nHowever, if I change the order of the virtual host sections in the http.conf \nand move the first virtual host (SSL) to be the last of the three, then the \nredirect works perfectly.\n\nI tried issuing \"SSLEngine off\" for the other virtual hosts, but that does not \nfix the problem.\n\n-lawrence", "attachment_id": null, "bug_id": 9234, "id": 16387, "time": "2002-05-19T13:07:15Z", "creator": "ltsang@gothamrm.com", "creation_time": "2002-05-19T13:07:15Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 9234, "text": "The fact that you're seeing this is because you have an incorrect configuration.  That's   \nnot to say that you *should* see this with an incorrect configuration.  Anyway, fix your   \nconfig (refer to http://httpd.apache.org/userslist.html or http://www.modssl.org/support/ \nfor assistance) and you'll stop seeing this problem.  I'll leave the PR open for now \nbecause we should fix it so that not even an incorrect config will exhibit this behavior. ", "id": 16432, "time": "2002-05-20T19:22:45Z", "creator": "jwoolley@apache.org", "creation_time": "2002-05-20T19:22:45Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 9234, "attachment_id": null, "id": 17143, "time": "2002-06-04T21:36:25Z", "creator": "pier@betaversion.org", "creation_time": "2002-06-04T21:36:25Z", "is_private": false, "text": "Moved to correct category"}, {"count": 3, "tags": [], "creator": "rbb@apache.org", "is_private": false, "id": 17144, "attachment_id": null, "bug_id": 9234, "creation_time": "2002-06-04T21:42:26Z", "time": "2002-06-04T21:42:26Z", "text": "The invalid URLs was resolved last night by removing the special mod_ssl URLs."}]