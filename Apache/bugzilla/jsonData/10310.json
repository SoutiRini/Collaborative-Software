[{"count": 0, "tags": [], "creator": "jeff@socialchange.net.au", "text": "Hi,\n\nConsider this invalid JSP page:\n\n<%\nString userName=request.getParameter(\"name\");\n<br>\nhello there, <%= name %>\n\n\nThere, I forgot to close the <%. But instead of reporting as much, Jasper 2\nreturns:\n\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\nAn error occurred at line: -1 in the jsp file: null\n\nGenerated servlet error:\n\n\n        at\norg.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:120)\n        at\norg.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:293)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:248)\n        at org.apache.jasper.JspEngineContext.compile(JspEngineContext.java:356)\n        at\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:157)\n        at\norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:289)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n\n\nThe %> in '<%= name %>' bypasses Jasper's checking for well-balanced <%'s. Of\ncourse, I encountered this in a much more complex page ;)\n\n\nthanks,\n\n--Jeff", "id": 18699, "time": "2002-06-28T04:48:09Z", "bug_id": 10310, "creation_time": "2002-06-28T04:48:09Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 10310, "attachment_id": null, "is_private": false, "id": 18700, "time": "2002-06-28T04:59:44Z", "creator": "jeff@socialchange.net.au", "creation_time": "2002-06-28T04:59:44Z", "text": "Btw, I can get this error for any number of common scriptlet mistakes =) Here's\nanother common one:\n\n<% if (\"foo\".equals(\"on\") {    // Unbalanced\n    out.println(\"foo is on\");\n} %>\n\nSame error as above.\n\n--Jeff"}, {"count": 2, "attachment_id": null, "bug_id": 10310, "is_private": false, "id": 35623, "time": "2003-04-19T00:31:51Z", "creator": "kin-man.chung@sun.com", "creation_time": "2003-04-19T00:31:51Z", "tags": [], "text": "I tried you test on TC5, and it actually gives a Javac error message that may\nhelp to pinpoint the error, though it may still not be good enought for you!\n\nJasper currently does not look at what's between <%= and %>.  Without an Java\nexpression parser, it is hard to do any better.  Take balancing <%= and %>, what\nif the <% is part of a string, such as \"<% func(\"<%\") %>?  The quotes may also\nbe escaped etc.  You got the ideas."}]