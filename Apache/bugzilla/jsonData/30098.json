[{"count": 0, "tags": [], "creator": "f08163@huawei.com", "attachment_id": null, "text": "I have a Tag, in doStartTag I add a pushBody(), and in doEndTag I add a popBody\n().\n\nin JSP:\n  <wface:add label=\"label\"><%= idx %></wface:add>\nand I get java code like:\n      out = pageContext.getOut();\n        ....\n  [0] int _jspx_eval_wface_add_0 = _jspx_th_wface_add_0.doStartTag();\n      if (_jspx_eval_wface_add_0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {\n            ....\n            do {\n   [1]        out.print( idx );     \n              ....\n \n   in [0], call tag's doStartTag, and I have pushBody a new BodyContent, but \n[1] line can't see it, and refer to old JspWriter, it is error.\n   in [1],   out != pageContext.getOut()\n\n   I think we need change out to pageContext.getOut() in jsp java code.", "id": 60594, "time": "2004-07-14T08:30:48Z", "bug_id": 30098, "creation_time": "2004-07-14T08:30:48Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 30098, "text": "The methods pushBody and popBody are intended for Jasper generated codes and not\nfor JSP or Taglib authors.  Also, the spec requires that \"out\" be an implicit\nvariable that must be maintained by the implementation class, so it should\nalways refer to the current JspWriter.\n\nSee JSP 1.2 spec section JSP.9.2 \"Implicit Objects\" for further details.", "id": 60663, "time": "2004-07-15T21:58:48Z", "creator": "kin-man.chung@sun.com", "creation_time": "2004-07-15T21:58:48Z", "is_private": false, "attachment_id": null}]