[{"count": 0, "tags": [], "bug_id": 10094, "attachment_id": null, "id": 18264, "time": "2002-06-20T23:50:58Z", "creator": "prasad.subramanian@sun.com", "creation_time": "2002-06-20T23:50:58Z", "is_private": false, "text": "Here is a case :\nin a TLD - MyTLD.tld we have two tags:\n<tag>\n <tag-class>foo</tag-class>\n <tei-class>fooTagExtraInfo</tei-class>\n\n  <variable> .... </variable>\n</tag>\n\n<tag>\n <tag-class>bar</variable>\n \n\n  <variable>... </variable>\n</tag>\n\nIn case tag bar is accesed in a JSP , then a comilation error is thrown , that \nsays:\n\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\tat org.apache.jasper.JspEngineContext.compile(JspEngineContext.java:388)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:157)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:289)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:260)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:646)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:483)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:646)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:483)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2349)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:646)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:644)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:644)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:483)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:646)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:483)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:405)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:376)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:508)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:518)\n\tat java.lang.Thread.run(Thread.java:536)\n\n\nroot cause \n\norg.apache.jasper.JasperException: null(-1,-1) variable subelement defined in \ntld when TagExtraInfo class tlelementvar.TagWithVarExtraInfo is non-null\n\tat org.apache.jasper.compiler.DefaultErrorHandler.jspError\n(DefaultErrorHandler.java:94)\n\tat org.apache.jasper.compiler.ErrorDispatcher.dispatch\n(ErrorDispatcher.java:417)\n\tat org.apache.jasper.compiler.ErrorDispatcher.jspError\n(ErrorDispatcher.java:154)\n\tat org.apache.jasper.compiler.TagLibraryInfoImpl.createTagInfo\n(TagLibraryInfoImpl.java:386)\n\tat org.apache.jasper.compiler.TagLibraryInfoImpl.parseTLD\n(TagLibraryInfoImpl.java:273)\n\tat org.apache.jasper.compiler.TagLibraryInfoImpl.\n(TagLibraryInfoImpl.java:183)\n\tat org.apache.jasper.compiler.Parser.parseTaglibDirective\n(Parser.java:354)\n\tat org.apache.jasper.compiler.Parser.parseDirective(Parser.java:381)\n\tat org.apache.jasper.compiler.Parser.parseElements(Parser.java:790)\n\tat org.apache.jasper.compiler.Parser.parse(Parser.java:122)\n\tat org.apache.jasper.compiler.ParserController.parse\n(ParserController.java:199)\n\tat org.apache.jasper.compiler.ParserController.parse\n(ParserController.java:153)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:219)\n\tat org.apache.jasper.JspEngineContext.compile(JspEngineContext.java:385)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:157)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:289)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:260)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:646)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:483)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:646)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:483)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2349)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:646)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:644)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:644)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:483)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:646)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:483)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:405)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:376)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:508)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:518)\n\tat java.lang.Thread.run(Thread.java:536)\n\n\n\n--------------------------------------------------------------------------------\n\nApache Tomcat/4.1.3"}, {"count": 1, "tags": [], "text": "Jasper is checking and reporting errors when parsing the tld's, regardless of\nwhether the tags definded in the tld is actually used in the page.  It would\nprobably be nice if only the part of tld for the tags that are used are parsed,\nbut that's not how it is implemented now, and I suspect that parsing the tld;s\nmultiple times would slow things down.\n\n", "attachment_id": null, "id": 18365, "creator": "kin-man.chung@sun.com", "time": "2002-06-21T21:49:01Z", "bug_id": 10094, "creation_time": "2002-06-21T21:49:01Z", "is_private": false}]