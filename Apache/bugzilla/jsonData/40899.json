[{"count": 0, "tags": [], "text": "Suggested patch to make minor enhancements to mod_headers.\n\nThis is in addition to: Revision 452330, Oct 3 2006  by niq - \n  \"Support regexp-based manipulation of HTTP headers\"\n\n1. Allow hdr= which works much like env=.  Inspects a request header when used\nwith RequestHeader, inspects  a response header when used with Header.\n\nNot a big deal for RequestHeader because SetEnvIf can sometimes be used.\nMore useful with Header because SetEnvIf cannot inspect response headers.\n\n2. Allow either env= or hdr= to optionally contain a regex to match the value, e.g.\n      Header add MyHeader somethingNew env=myVariable~[a-z]123\nwill add a new header only if the environment variable myVariable exists and its\nvalue contains a lowercase letter followed by \"123\".\n\n3. Adds 5 new format specifiers in addition to %t and %D.  time (1) and duration\n(2) without the \"t=\" or \"D=\" strings, time in RFC822 fmt (3), hostname (4),\nservername (5).\n\n4. Lots of module comments (which might help the doc effort)\n\nPls feel free to close or select any useful bits of this patch.  \n\nAn example of a situation which might use this is\nhttp://mail-archives.apache.org/mod_mbox/httpd-users/200611.mbox/%3c454B7314.5050500@nerdshack.com%3e\n(...Not related to this patch - I just happened to notice this post...)\n\nThis code has been pretty well exercised with 2.2.3, but only limited testing\nwith trunk.   The patch is for the trunk as of Nov 5, 2006.", "attachment_id": null, "bug_id": 40899, "id": 95446, "time": "2006-11-05T14:49:34Z", "creator": "Tom.Donovan@acm.org", "creation_time": "2006-11-05T14:49:34Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 19089\nmod_headers_enh.diff\n\nmod_headers patch - based on trunk/modules/metadata/mod_headers.c - Nov 5, 2006", "is_private": false, "bug_id": 40899, "id": 95447, "time": "2006-11-05T14:52:09Z", "creator": "Tom.Donovan@acm.org", "creation_time": "2006-11-05T14:52:09Z", "attachment_id": 19089}, {"count": 2, "tags": [], "bug_id": 40899, "is_private": false, "text": "Tom, you've got commit since submitting this patch, so you can pursue it if you're still interested.\n\nClosing this PR because most of it is superseded in trunk by switching the condition-processing to ap_expr in place of what you enhanced.  The format stuff would benefit from a similar effort, as noted by wrowe in a comment to Bug 47447", "id": 133127, "time": "2009-12-26T16:26:55Z", "creator": "nick@webthing.com", "creation_time": "2009-12-26T16:26:55Z", "attachment_id": null}]