[{"count": 0, "tags": [], "creator": "vasIlIIj.pupkin@gmaIl.com", "attachment_id": null, "id": 146031, "time": "2011-04-28T09:32:07Z", "bug_id": 51133, "creation_time": "2011-04-28T09:32:07Z", "is_private": false, "text": "Follow project works fine winth TC.6.xx but with TC.7.0.11 comes attached Error.\n\n---- mvn dependency:tree ----\n[INFO] ------------------------------------------------------------------------\n[INFO] Building sHorty\n[INFO]    task-segment: [dependency:tree]\n[INFO] ------------------------------------------------------------------------\n[INFO] [dependency:tree {execution: default-cli}]\n[INFO] cc.co.llabor:Shorty:war:0.0.7-SNAPSHOT\n[INFO] +- commons-collections:commons-collections:jar:3.2.1:compile\n[INFO] +- net.sf.ehcache:ehcache-core:jar:2.3.2:compile\n[INFO] +- org.hibernate:hibernate:jar:3.2.1.ga:compile\n[INFO] |  +- net.sf.ehcache:ehcache:jar:1.2.3:compile\n[INFO] |  +- commons-logging:commons-logging:jar:1.0.4:compile\n[INFO] |  +- asm:asm-attrs:jar:1.5.3:compile\n[INFO] |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  +- antlr:antlr:jar:2.7.6:compile\n[INFO] |  +- cglib:cglib:jar:2.1_3:compile\n[INFO] |  \\- asm:asm:jar:1.5.3:compile\n[INFO] +- javax.persistence:persistence-api:jar:1.0:compile\n[INFO] +- hibernate-annotations:hibernate-annotations:jar:3.3.0.GA:compile\n[INFO] +- org.hibernate:hibernate-commons-annotations:jar:3.3.0.GA:compile\n[INFO] +- org.hibernate:hibernate-core:jar:3.3.2.GA:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.5.8:compile\n[INFO] +- jboss:javassist:jar:3.7.ga:compile\n[INFO] +- junit:junit:jar:3.8.1:compile\n[INFO] +- mysql:mysql-connector-java:jar:5.1.6:compile\n[INFO] +- org.apache.derby:derby:jar:10.6.1.0:test\n[INFO] +- hsqldb:hsqldb:jar:1.8.0.4:test\n[INFO] +- commons-logging:commons-logging-api:jar:1.1:compile\n[INFO] +- org.slf4j:slf4j-simple:jar:1.5.8:compile\n[INFO] +- javax.transaction:jta:jar:1.1:compile\n[INFO] \\- org.apache.geronimo.specs:geronimo-servlet_2.5_spec:jar:1.2:provided\n[INFO] ------------------------------------------------------------------------\n\n--- 302.JSP ---\n\n<%@page import=\"cc.co.llabor.shorty.Link\"%>\n<%\nresponse.setStatus(301);\nString toGo = \"http://www.example.com/\" ;\ntry{\n\tLink link = (Link)request.getAttribute(\"link\"  );\n\ttoGo = link.getUrl();\n}catch(Throwable e){e.printStackTrace();}\nresponse.setHeader( \"Location\", toGo);\nresponse.setHeader( \"Connection\", \"close\" );\n//response.sendRedirect(\"/\");\nresponse.getWriter().close();\n%>\n\n\n--------------------LOG ---------------------------\n\n\nHTTP Status 500 - \n\ntype Exception report\n\nmessage \n\ndescription The server encountered an internal error () that prevented it from fulfilling this request.\n\nexception \njavax.servlet.ServletException: Error instantiating servlet class jsp.index_jsp\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n\torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:562)\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:394)\n\torg.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:284)\n\torg.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:322)\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1714)\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n\tjava.lang.Thread.run(Thread.java:662)\n\n\nroot cause \njava.lang.NoClassDefFoundError: Lorg/apache/AnnotationProcessor;\n\tjava.lang.Class.getDeclaredFields0(Native Method)\n\tjava.lang.Class.privateGetDeclaredFields(Class.java:2291)\n\tjava.lang.Class.getDeclaredFields(Class.java:1743)\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n\torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:562)\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:394)\n\torg.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:284)\n\torg.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:322)\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1714)\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n\tjava.lang.Thread.run(Thread.java:662)\n\nroot cause \njava.lang.ClassNotFoundException: org.apache.AnnotationProcessor\n\torg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1676)\n\torg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1521)\n\tjava.lang.Class.getDeclaredFields0(Native Method)\n\tjava.lang.Class.privateGetDeclaredFields(Class.java:2291)\n\tjava.lang.Class.getDeclaredFields(Class.java:1743)\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:498)\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n\torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:562)\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:394)\n\torg.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:284)\n\torg.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:322)\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1714)\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n\tjava.lang.Thread.run(Thread.java:662)\n\n\nnote The full stack trace of the root cause is available in the Apache Tomcat/7.0.11 logs.\nApache Tomcat/7.0.11"}, {"count": 1, "tags": [], "creator": "markt@apache.org", "text": "If you precompile for Tomcat 6 it isn't going to work on Tomcat 7.", "id": 146032, "time": "2011-04-28T10:13:20Z", "bug_id": 51133, "creation_time": "2011-04-28T10:13:20Z", "is_private": false, "attachment_id": null}]