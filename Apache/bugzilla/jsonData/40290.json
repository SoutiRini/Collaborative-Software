[{"count": 0, "tags": [], "bug_id": 40290, "attachment_id": null, "id": 92371, "time": "2006-08-21T10:22:15Z", "creator": "info@frankcornelis.be", "creation_time": "2006-08-21T10:22:15Z", "is_private": false, "text": "When I'm using xmlsec 1.3.0 my WSS4J code is correctly generating a WS-Security\nsignature. But, when I change the runtime to use xmlsec 1.4.Beta2, then I get\nthe following NPE. I've build xmlsec 1.4.Beta2 from the latest svn tree. So for\nthe moment JSR105 and WS-Security do not go along very well.\n\nRegards,\nFrank.\n\nCaused by: java.lang.NullPointerException\n\tat\norg.apache.xml.security.signature.SignedInfo.getCanonicalizationMethodURI(SignedInfo.java:301)\n\tat\norg.apache.xml.security.signature.SignedInfo.signInOctectStream(SignedInfo.java:275)\n\tat org.apache.xml.security.signature.XMLSignature.sign(XMLSignature.java:499)\n\tat\norg.apache.ws.security.message.WSSecSignature.computeSignature(WSSecSignature.java:599)"}, {"count": 1, "tags": [], "text": "It seems that the signature does not have any c14method. Can you post also the\nsignature? and, if possible a small program that shows the bug?\n\nThanks.", "attachment_id": null, "id": 92375, "creator": "raul-info@r-bg.com", "time": "2006-08-21T19:43:29Z", "bug_id": 40290, "creation_time": "2006-08-21T19:43:29Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 40290, "attachment_id": 18740, "text": "Created attachment 18740\nunit test to demonstrate the NPE when using xmlsec 1.4.Beta2 via WSS4J\n\nThe xmlsec-wss4j-npe project demonstrates the NPE caused when using xmlsec\n1.4.Beta2 via WSS4J. It's using Maven2 for build system. Unpack and run 'mvn\npackage' will cause the NPE. Changing the version of xmlsec back to 1.3.0 will\nmake the test to pass. Using version 1.4.Beta2 will cause the test to throw an\nNPE. You'll probably need to populate your own Maven2 local repository with\nsome of the used dependencies.\n\nRegards,\nFrank.", "id": 92389, "time": "2006-08-22T08:07:33Z", "creator": "info@frankcornelis.be", "creation_time": "2006-08-22T08:07:33Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 40290, "text": "So much dependencies , It is going to be hard to debug... \nJust joking, I know how to solve the NPE, but I want to have a test case against\nthis so this bug get killed forever.\nSo I need a self contained test(no external dependecies, sorry).\nCan you just print the xml document that gets out in the correct execution with\nxmlsec-1.3? And I will try to creat it.\n\nRegards,", "id": 92391, "time": "2006-08-22T09:30:06Z", "creator": "raul-info@r-bg.com", "creation_time": "2006-08-22T09:30:06Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 40290, "attachment_id": 18741, "text": "Created attachment 18741\nresult XML document with xmlsec 1.3", "id": 92394, "time": "2006-08-22T11:09:17Z", "creator": "info@frankcornelis.be", "creation_time": "2006-08-22T11:09:17Z", "is_private": false}, {"count": 5, "tags": [], "creator": "raul-info@r-bg.com", "attachment_id": null, "text": "Are you using this constructor, for XMLSignature:\n public XMLSignature(Document doc, String BaseURI, Element SignatureMethodElem,\nElement CanonicalizationMethodElem) throws XMLSecurityException?\n\nIf so, Do you have any special need for it?\nWe don't have any test for this c14n, and I want to deprecate it.\n\nAnyway I have checkin in SVN, a fix for this.\n", "id": 92418, "time": "2006-08-22T16:19:56Z", "bug_id": 40290, "creation_time": "2006-08-22T16:19:56Z", "is_private": false}, {"count": 6, "tags": [], "creator": "info@frankcornelis.be", "attachment_id": null, "text": "I've run the xmlsec-wss4j-npe test with the latest xmlsec from svn. It passes\nnow, thus this fixed the NPE bug.\n\nIt is WSS4J 1.5.0 that is using the XMLSignature constructor that you want to\ndeprecate.\nLocation: org/apache/ws/security/message/WSSecSignature.java:328\n\nRegards and thanks for the fix,\nFrank.", "id": 92450, "time": "2006-08-23T08:07:06Z", "bug_id": 40290, "creation_time": "2006-08-23T08:07:06Z", "is_private": false}, {"count": 7, "tags": [], "creator": "raul-info@r-bg.com", "attachment_id": null, "id": 100215, "time": "2007-03-09T06:03:02Z", "bug_id": 40290, "creation_time": "2007-03-09T06:03:02Z", "is_private": false, "text": "Fixed in 1.4RC1."}, {"count": 8, "tags": [], "bug_id": 40290, "attachment_id": null, "text": "Closing old bugs. Fixed in 1.4.1", "id": 108391, "time": "2007-09-19T12:14:11Z", "creator": "sean.mullan@oracle.com", "creation_time": "2007-09-19T12:14:11Z", "is_private": false}]