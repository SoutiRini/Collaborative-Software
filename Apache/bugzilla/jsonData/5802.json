[{"count": 0, "tags": [], "bug_id": 5802, "attachment_id": null, "text": "I want to add a Class-Path: entry to the manifest for my EJB. I have figured \nout a way to do this manually with a set of ejbjar (noEJBC=\"true\") and apply \n(\"jar ufm ...\" and \"java weblogic.ejbc ...\") tasks, However, I'd like to simply \nsupply the manifest to the ejbjar task and have it insert it. \nThe following results in an empty META-INF/MANIFEST.MF. Can manifest entries be \nspecified in the ejbjar task? \n\n\n<ejbjar descriptordir=\"${packagesrc}\"\n        srcdir=\"${classes}\"\n        naming=\"directory\"\n        manifest=\"dd/myManifest.mf\"\n        flatdestdir=\"true\">\n   <weblogic destdir=\"${rawejb}\"\n             wlclasspath=\"${WL_HOME}/lib/weblogic.jar\"\n             newCMP=\"true\"\n             noEJBC=\"false\"/>\n   <include name=\"**/dd/*/ejb-jar.xml\"/>\n   <support dir=\"${classes}\"\n            includesfile=\"dd/includesfile.txt\"/>\n</ejbjar>", "id": 9540, "time": "2002-01-10T23:24:11Z", "creator": "ebernard@digitalthink.com", "creation_time": "2002-01-10T23:24:11Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 5802, "attachment_id": null, "text": "I had the same problem, but I think I found the solution. The EjbJar task uses \nthe JDK java.util.jar.Manifest and related classes (the builtin \"jar\" task does \nnot use this approach!).\n\nThe Manifest class REQUIRES the attribute\n\nManifest-Version: 1.0\n\nIf this attribute is not put in the main attributes of the manifest file, the \nManifest instance generated from the file will not contain ANY attributes at \nall. This is reported as a bug/inconveniency in the JDK:\n\nhttp://developer.java.sun.com/developer/bugParade/bugs/4271239.html\n\nIt took me quite a while to figure out what the problem was. Luckily, it does \nnot require any changes to ant.\n\nBy the way, remember that the manifest attributes are case-sensitive. All \nattributes in your manifest file that does not match case-sensitive one of the \nattribute keys given in java.util.jar.Attributes.Name will not be included in \nthe final manifest file in the jar archive.\n\nJesper Joergensen\njesper@caput.com\n", "id": 9762, "time": "2002-01-21T08:28:01Z", "creator": "jesper@caput.com", "creation_time": "2002-01-21T08:28:01Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 5802, "is_private": false, "id": 16942, "time": "2002-05-30T15:31:43Z", "creator": "conor@apache.org", "creation_time": "2002-05-30T15:31:43Z", "tags": [], "text": "I've tested the inclusion of manifest files with the latest code and it seems to\nbe OK for me. BTW in 1.5 Beta2, you can have a manifest file per deployment\ndescriptor if you are building multiple beans in one go.\n\nCan you retry this with 1.5 Beta2 which should be available shortly."}, {"count": 3, "tags": [], "bug_id": 5802, "attachment_id": null, "id": 16983, "time": "2002-05-31T08:58:44Z", "creator": "jesper@caput.com", "creation_time": "2002-05-31T08:58:44Z", "is_private": false, "text": "It works (and worked) for me too. I just pointed out that it made a big \ndifference whether you put the header\n\nManifest-Version: 1.0\n\nin the file or not. Has the behaviour regarding this changed in 1.5 ?"}]