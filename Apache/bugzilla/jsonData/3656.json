[{"count": 0, "tags": [], "creator": "philippe.lavoie@cactus.ca", "attachment_id": null, "text": "Here is the output from ant\n\ncompile:\n    [javac] Compiling 46 source files to /home/plavoie/project/vbc/build/classes\n    [rmic] RMI Compiling 1 class to /home/plavoie/project/vbc/build/classes\n     [rmic] error: Class java.rmi.server.UnicastRemoteObject not found in class\nca.cactus.service.RemoteBaseServiceImpl.\n     [rmic] 1 error\n\n\nHere is the relevant section of my build.xml file.\n\n<javac srcdir=\"${src.dir}\" destdir=\"${build.dest}\" debug=\"${debug}\"\noptimize=\"${optimize}\" deprecation=\"${deprecation}\">\n         <classpath refid=\"project.class.path\"/>\n</javac>\n\n<rmic classpathref=\"project.class.path\"\nclassname=\"ca.cactus.service.RemoteBaseServiceImpl\" base=\"${build.dest}\"\ndebug=\"yes\"/>\n\nand here is the definition of RemoteBaseServiceImpl\n\n\nimport java.rmi.server.UnicastRemoteObject;\n\npublic abstract class RemoteBaseServiceImpl extends UnicastRemoteObject\n\timplements RemoteBaseService, CrudListener {\n...\n}\n\nThis was working fine in ant1.3\n\nI'm using \n> uname -a\nLinux tux.cactus.ca 2.4.2-2 #1 Sun Apr 8 20:41:30 EDT 2001 i686 unknown\n\n> java -version\njava version \"1.3.1_01\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.3.1_01)\nJava HotSpot(TM) Client VM (build 1.3.1_01, mixed mode)", "id": 5663, "time": "2001-09-17T09:18:16Z", "bug_id": 3656, "creation_time": "2001-09-17T09:18:16Z", "is_private": false}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "works for me on Linux with the sample attached.  \n\nThe only difference I see is the classpathref, what does project.class.path \nlook like?", "id": 6108, "time": "2001-09-27T06:10:48Z", "bug_id": 3656, "creation_time": "2001-09-27T06:10:48Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 3656, "text": "Created attachment 607\nVery simplistic example where rmic does not fail", "id": 6109, "time": "2001-09-27T06:11:55Z", "creator": "bodewig@apache.org", "creation_time": "2001-09-27T06:11:55Z", "is_private": false, "attachment_id": 607}, {"count": 3, "tags": [], "creator": "philippe.lavoie@cactus.ca", "attachment_id": null, "text": "I got it to work if I add the following to the rmic task \nincludeJavaRunTime=\"yes\". \n\nDo I need to had tools.jar or something similar to my path if I want to enable \nRMIC without the above option?  \n\nAnyway, it wasn't obvious to me from the error message. ", "id": 6110, "time": "2001-09-27T06:14:56Z", "bug_id": 3656, "creation_time": "2001-09-27T06:14:56Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 3656, "text": "No, it wasn't obvious.  <javac> and <rmic> have different default values for the\nincludeJavaRuntime attribute, this makes things even more difficult to spot.\nNo, you don't need to add tools.jar, but rt.jar.", "id": 6112, "time": "2001-09-27T06:32:25Z", "creator": "bodewig@apache.org", "creation_time": "2001-09-27T06:32:25Z", "is_private": false, "attachment_id": null}]