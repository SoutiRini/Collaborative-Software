[{"count": 0, "tags": [], "text": "Created attachment 26763\ngdb core threads dump\n\nWe periodically see error.log with:\n\nThu Mar 10 09:29:04 2011] [notice] Apache configured -- resuming normal operations\n[Thu Mar 10 13:06:51 2011] [notice] child pid 17739 exit signal Bus error (10), possible coredump in /site/logs/httpd/cores\n[Thu Mar 10 15:47:06 2011] [notice] child pid 17738 exit signal Illegal instruction (4), possible coredump in /site/logs/httpd/cores\n[Thu Mar 10 20:43:29 2011] [notice] child pid 29007 exit signal Illegal instruction (4), possible coredump in /site/logs/httpd/cores\n\nAnd httpd-process dies with segmentation fault, following is the gdb thread dump with fault thread 1 (please find the whole thread dump as attach):\n\n(gdb) bt\n#0  0xfee4d39c in _read () from /lib/libc.so.1\n#1  0xfee3baac in read () from /lib/libc.so.1\n#2  0x00047350 in ap_mpm_pod_check (pod=0xba4a0) at pod.c:53\n#3  0x000456f4 in child_main (child_num_arg=0) at worker.c:1199\n#4  0x00045900 in make_child (s=0x9ec40, slot=0) at worker.c:1282\n#5  0x00045c3c in perform_idle_server_maintenance () at worker.c:1444\n#6  0x00045dc8 in server_main_loop (remaining_children_to_start=0) at worker.c:1493\n#7  0x000460e4 in ap_mpm_run (_pconf=0x8c800, plog=0xd26d8, s=0x2) at worker.c:1639\n#8  0x0004cc24 in main (argc=7, argv=0xffbff1fc) at main.c:617\n\n\n\nThread 1 (process 95091    ):\n#0  0xfee4d39c in _read () from /lib/libc.so.1\nNo symbol table info available.\n#1  0xfee3baac in read () from /lib/libc.so.1\nNo symbol table info available.\n#2  0x00047350 in ap_mpm_pod_check (pod=0xba4a0) at pod.c:53\n        c = 0 '\\0'\n        fd = 7\n        rc = 7\n#3  0x000456f4 in child_main (child_num_arg=0) at worker.c:1199\n        threads = (apr_thread_t **) 0x272588\n        rv = 0\n        ts = (thread_starter *) 0x149870\n        thread_attr = (apr_threadattr_t *) 0x149880\n        start_thread_id = (apr_thread_t *) 0x149890\n#4  0x00045900 in make_child (s=0x9ec40, slot=0) at worker.c:1282\n        pid = 0\n#5  0x00045c3c in perform_idle_server_maintenance () at worker.c:1444\n        i = 1\n        j = 0\n        idle_thread_count = 0\n        ps = (process_score *) 0x8dc00\n        free_length = 1\n        totally_free_length = 1\n        free_slots = {0, 0, 1, 0, 50, 0, 575488, 0, 50, 1, 575488, 0, -4198288, 575488, 575488, 1, -4198292, -4198296, -4198288, 632312, 16, 2635368, \n  -4198400, 286004, 0, 0, 0, 10378, -14765128, 10, 580920, 2}\n        last_non_dead = 1\n        total_non_dead = 2\n#6  0x00045dc8 in server_main_loop (remaining_children_to_start=0) at worker.c:1493\n        child_slot = 1\n        exitwhy = 6\n        status = 10\n        processed_status = 0\n        pid = {pid = -1, in = 0xffbff0ec, out = 0x50, err = 0xdcb40}\n---Type <return> to continue, or q <return> to quit---\n        i = 50\n#7  0x000460e4 in ap_mpm_run (_pconf=0x8c800, plog=0xd26d8, s=0x2) at worker.c:1639\n        remaining_children_to_start = 2\n        rv = 0\n#8  0x0004cc24 in main (argc=7, argv=0xffbff1fc) at main.c:617\n        c = 68 'D'\n        configtestonly = 568320\n        confname = 0xffbff3a3 \"/dept/oit/eis/local/apache/pdc-webhost2/far/conf/httpd.conf\"\n        def_server_root = 0x73450 \"/dept/oit/eis/local/apache/2.0.52\"\n        temp_error_log = 0x72c00 \"can't query MPM state; not restarting piped log program '%s'\"\n        process = (process_rec *) 0x98670\n        server_conf = (server_rec *) 0x9ec40\n        pglobal = (apr_pool_t *) 0x73400\n        pconf = (apr_pool_t *) 0x9a5f8\n        plog = (apr_pool_t *) 0xd26d8\n        ptemp = (apr_pool_t *) 0x1497d8\n        pcommands = (apr_pool_t *) 0x9c600\n        opt = (apr_getopt_t *) 0x9c698\n        rv = 575488\n        mod = (module **) 0x9ec40\n        optarg = 0xffbff3f5 \"pdc-webhost2.umd.edu\"\n        signal_server = (apr_OFN_ap_signal_server_t *) 0x3", "is_private": false, "bug_id": 50915, "id": 144934, "time": "2011-03-11T10:25:53Z", "creator": "jhsusc@umd.edu", "creation_time": "2011-03-11T10:25:53Z", "attachment_id": 26763}, {"count": 1, "tags": [], "bug_id": 50915, "attachment_id": null, "text": "Does this occur on the current level of Apache 2.0?  (2.0.64)", "id": 144935, "time": "2011-03-11T10:41:06Z", "creator": "poirier@pobox.com", "creation_time": "2011-03-11T10:41:06Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 50915, "attachment_id": null, "id": 144936, "time": "2011-03-11T10:47:50Z", "creator": "jhsusc@umd.edu", "creation_time": "2011-03-11T10:47:50Z", "is_private": false, "text": "No, we don't have a compiled version of 2.0.64\n\n> Does this occur on the current level of Apache 2.0?  (2.0.64)"}, {"attachment_id": null, "tags": [], "bug_id": 50915, "text": "You are using a very outdated version of httpd and evene older version of openssl.\n\nThe crash seems to happen here:\nThread 16 (process 1143667    ):\n#0  0x00589670 in ?? ()\n\nNo symbol table info available.\n#1  0xff365de4 in ssl3_shutdown () from /dept/oit/eis/usr/lib/libssl.so.0.9.6\nNo symbol table info available.\n#2  0xfe6dd2ec in SSL_smart_shutdown (ssl=0x83dc70) at ssl_util_ssl.c:188\n        i = 0\n        rc = 8641648\n#3  0xfe6cf23c in ssl_filter_io_shutdown (filter_ctx=0x35a2b8, c=0x359eb0, abortive=0) at ssl_engine_io.c:963\n        ssl = (SSL *) 0x83dc70\n        type = 0xfe6e17f8 \"standard\"\n        sslconn = (SSLConnRec *) 0x35a200\n        shutdown_type = 2\n\n\nPlease try to update openssl and httpd to a recent version and check if the crash remains.", "count": 3, "id": 144937, "time": "2011-03-11T10:50:13Z", "creator": "rpluem@apache.org", "creation_time": "2011-03-11T10:50:13Z", "is_private": false}, {"count": 4, "tags": [], "text": "Thank you, yes, we are planning for upgrade.\nAs those are in the current production environment, Just wondering is there any other probable cause for the crash? as we have other Apache instances runs the same library and works fine..\n\n> You are using a very outdated version of httpd and evene older version of\n> openssl.\n> \n> The crash seems to happen here:\n> Thread 16 (process 1143667    ):\n> #0  0x00589670 in ?? ()\n> \n> No symbol table info available.\n> #1  0xff365de4 in ssl3_shutdown () from /dept/oit/eis/usr/lib/libssl.so.0.9.6\n> No symbol table info available.\n> #2  0xfe6dd2ec in SSL_smart_shutdown (ssl=0x83dc70) at ssl_util_ssl.c:188\n>         i = 0\n>         rc = 8641648\n> #3  0xfe6cf23c in ssl_filter_io_shutdown (filter_ctx=0x35a2b8, c=0x359eb0,\n> abortive=0) at ssl_engine_io.c:963\n>         ssl = (SSL *) 0x83dc70\n>         type = 0xfe6e17f8 \"standard\"\n>         sslconn = (SSLConnRec *) 0x35a200\n>         shutdown_type = 2\n> \n> \n> Please try to update openssl and httpd to a recent version and check if the\n> crash remains.", "is_private": false, "bug_id": 50915, "id": 144938, "time": "2011-03-11T11:24:28Z", "creator": "jhsusc@umd.edu", "creation_time": "2011-03-11T11:24:28Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 50915, "text": "2.0 is end-of-life, please re-open if you see this on a contemporary software stack.", "id": 172506, "time": "2014-01-19T20:03:46Z", "creator": "covener@gmail.com", "creation_time": "2014-01-19T20:03:46Z", "is_private": false, "attachment_id": null}]