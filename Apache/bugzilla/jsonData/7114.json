[{"count": 0, "tags": [], "bug_id": 7114, "attachment_id": null, "is_private": false, "id": 11783, "time": "2002-03-14T10:04:22Z", "creator": "tquas@yahoo.com", "creation_time": "2002-03-14T10:04:22Z", "text": "Here's a snippet from my build file:\n\n        <uptodate property=\"xdoclet.done\">\n            <srcfiles dir=\"${project.src}\"\n                includes=\"tquas/ejb/**/*Bean.java\"/>\n            <mapper type=\"merge\" to=\"${build.tmp}/xdoclet.stamp\"/>\n        </uptodate>\n\nThe problem with this is that <mapper> for some reason takes the directory of\n<srcfiles> (${project.src}) as the root dir for the <mapper>. An example from\nthe log looks like:\n\n[uptodate] tquas/bogus/ejb/IssueBean.java added as\n/home/tom/projects/bogus/src/build/tmp/xdoclet.stamp doesn't exist.\n\nThe problem is that ant looks for 'xdoclet.stamp' in src/build/tmp instead of\nbuild/tmp.\n\n\nNow reformulating the rule to\n\n        <uptodate property=\"xdoclet.done\"\n            targetfile=\"${build.tmp}/xdoclet.stamp\">\n            <srcfiles dir=\"${project.src}\"\n                includes=\"tquas/bogus/ejb/**/*Bean.java\"/>\n        </uptodate>\n\nworks just fine.\n\n\nAm I wrong, or isn't the first solution supposed to work, too?\n\n\n\ntom"}, {"count": 1, "tags": [], "bug_id": 7114, "text": "By default the 'to' attribute of <mapper> is a relative path.  If you pinned it \ndown with an absolute path it would work.  In your example, had you defined \nbuild.tmp using <property name=\"build.tmp\" location=\"build/tmp\"/> it would \nwork, I believe, in your first example.\n\nI don't really think there is anything for us to fix on this one, its just the \nway the mappers work.  Please re-open if you feel this is still a bug, but \nsince decent \"workaround\" exists its probably ok as-is.", "id": 11811, "time": "2002-03-14T21:44:27Z", "creator": "jakarta@ehatchersolutions.com", "creation_time": "2002-03-14T21:44:27Z", "is_private": false, "attachment_id": null}]