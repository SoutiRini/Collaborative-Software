[{"count": 0, "attachment_id": null, "creator": "rfrovarp@apache.org", "is_private": false, "id": 121956, "time": "2008-10-28T07:38:19Z", "bug_id": 46111, "creation_time": "2008-10-28T07:38:19Z", "tags": [], "text": "If a group with assigned users is removed, any login attempts after a system restart will fail with this error: Initialization failed: - Please consult the logfiles.\n\nTo replicate:\n1) Create group\n2) Assign user to group\n3) Delete group\n4) Restart Lenya\n5) Try to log in\n\nTo fix this, you can just create a group file and drop it in place, then remove the users, then remove the group.\n\nTo fix permanently, we should either make it impossible to remove groups with users, or allow such users to load up with missing groups. I think the first method would be the cleanest and make the most sense."}, {"count": 1, "text": "Turns out the problem is AbstractGroup.remove does not save the user's profile. AbstractGroup.delete does call AbstractGroup.removeAll, but this doesn't work. To replicate.\n\n1) Select a group\n2) Edit members\n3) Remove someone\n4) Save\n5) Kill Lenya\n6) Start Lenya\n7) Look at removed user, they will still be in the group", "bug_id": 46111, "is_private": false, "id": 121960, "time": "2008-10-28T09:37:18Z", "creator": "rfrovarp@apache.org", "creation_time": "2008-10-28T09:37:18Z", "tags": [], "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 46111, "is_private": false, "id": 124271, "time": "2009-01-22T03:58:26Z", "creator": "andreas@apache.org", "creation_time": "2009-01-22T03:58:26Z", "tags": [], "text": "Confirmed."}, {"count": 3, "tags": [], "creator": "andreas@apache.org", "text": "Fixed in revision 736615.", "id": 124273, "time": "2009-01-22T04:08:57Z", "bug_id": 46111, "creation_time": "2009-01-22T04:08:57Z", "is_private": false, "attachment_id": null}]