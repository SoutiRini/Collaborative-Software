[{"count": 0, "tags": [], "creator": "wp@artkode.com", "attachment_id": null, "text": "In the httpd.conf Apache 2.0, JkEnvVar is assigned to SERVER_NAME\nWhen I add a virtualhost with a new ServerName, I have immediately an HTTP error :\n\nError 413 Request entity too large! The POST method does not allow the data\ntransmitted, or the data volume exceeds the capacity limit.\n\nI suppose that error is linked to the number of declaration ServerName (60)", "id": 110050, "time": "2007-10-31T08:11:13Z", "bug_id": 43753, "creation_time": "2007-10-31T08:11:13Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 43753, "attachment_id": null, "id": 110214, "time": "2007-11-03T11:16:57Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2007-11-03T11:16:57Z", "is_private": false, "text": "Could you please check, if the development snapshot of mod_jk found at\n\nhttp://people.apache.org/~rjung/mod_jk-dev/\n\nfixes the problem for you?\n"}, {"count": 2, "tags": [], "bug_id": 43753, "attachment_id": null, "id": 112423, "time": "2008-01-01T21:31:17Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2008-01-01T21:31:17Z", "is_private": false, "text": "Could you please check, if the problem is fixed in the new version 1.2.26?"}, {"count": 3, "tags": [], "text": "No sorry, I have a permanently error without JKEnvVar : the version 1.2.26 is useless for me.\n\nThe HTTP error :\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"13\nen\" lang=\"e\nen\"><head><title>38 Object not found!</title>\n<link rev=\"made\" href=\"mailto:%0D%0A106%0D%0A**@******.com\">\n<style type=\"text/css\"><!--/*--><![CDATA[/*><!--*/ \n    body { color: #000000; background-color: #FFFFFF; }\n    a:link { color: #0000CC; }\n    p, address {margin-left: 3em;}\n    span {font-size: smaller;}\n/*]]>*/--></style></head><body>\n<h1>\n1b\nObject not found!</h1>\n<p>\n\n39\n    The requested URL was not found on this server.\n23\n    The link on the\n    <a href=\"97%0D%0Ahttp://www.***********.com/paiement/commande.html\">referring\n    page</a> seems to be wrong or outdated. Please inform the author of\n    <a href=\"5e%0D%0Ahttp://www.***********.com/paiement/commande.html\">that page</a>\n    about the error.\n2\n9\n</p>\n<p>\n48\nIf you think this is a server error, please contact\nthe <a href=\"mailto:%0D%0A1e%0D%0A***@********.com\">webmaster</a>.\n11\n</p>\n<h2>Error \n21\n404</h2>\n<address>\n  <a href=\"/\">\n25\nwww.***********.com</a><br>\n9\n  <span>\n21\nWed Jan  2 16:39:11 2008<br>\n71\nApache/2.2.4 (Unix) mod_ssl/2.2.4 OpenSSL/0.9.7l DAV/2 PHP/5.2.1 mod_jk/1.2.26</span>\n</address>\n1\n0\n</body></html>\n\nfor the mod_jk.log, no bug found :\n[Wed Jan 02 16:18:18 2008] [20325:2684415368] [info] init_jk::mod_jk.c (2825): mod_jk/1.2.26 \ninitialized\n\nfor Tomcat catalina.out :\n2 janv. 2008 16:58:01 org.apache.jk.common.ChannelSocket processConnection\nGRAVE: Error, processing connection\njava.lang.IndexOutOfBoundsException\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:306)\n\tat org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:620)\n\tat org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:577)\n\tat org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:685)\n\tat org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:889)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:686)\n\tat java.lang.Thread.run(Thread.java:613)\n2 janv. 2008 16:58:02 org.apache.jk.common.MsgAjp processHeader\nGRAVE: BAD packet signature 18245\n\nthe call of this page is a script PHP (it work with mod_jk 1.2.25 without JKEnvVar):\nfunction locationPost($host,$uri,$data){\n\t$header  = 'POST http://'.$host.$uri.' HTTP/1.1'.\"\\r\\n\";\n\t$header .= 'Host: '.$host.\" \\r\\n\";\n\t$header .= 'User-Agent: '.$_SERVER['HTTP_USER_AGENT'].\" \\r\\n\";\n\t$header .= 'Referer: '.$_SERVER['HTTP_REFERER'].\" \\r\\n\";\n\t$header .= 'Content-Type: application/x-www-form-urlencoded'.\"\\r\\n\";\n\t$header .= 'Content-Length: '.strlen($data).\"\\r\\n\";\n\t$header .= 'Connection: close'.\"\\r\\n\\r\\n\";\n\n\t$socket = fsockopen($host,80,$errno,$errstr);\n\tif(!$socket) return '<strong>Error '.$errno.'</strong> '.$errstr;\n\t$header .= $data;\n\tfputs($socket,$header);\n\t$response='';\n\twhile(!feof($socket)) $response.= fgets($socket, 4096);\n\tfclose($socket);\n \treturn strstr($response,'<');\n}\n\nif(count($_POST)>0){\n  $data = \"\";\n  foreach($_POST as $key=>$val) {\n      if(!empty($data)) $data.= '&';\n      $data.= $key.\"=\".urlencode($val);\n  }\n\techo locationPost($_SERVER['HTTP_HOST'],'/servlet/CyberplusRequest',$data);\n\texit;\n}\n\n\n\n", "attachment_id": null, "bug_id": 43753, "id": 112440, "time": "2008-01-02T09:12:40Z", "creator": "wp@artkode.com", "creation_time": "2008-01-02T09:12:40Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 43753, "text": "Could you please give us a little basic information:\n\n- version of Tomcat\n- Operating system for httpd and for tomcat server\n- JK directives used for httpd, workers.properties\n\nWhich URL do you use to produce the problem?\nWhat result did you expect and what was wrong with the result you received?\n\n(for example you started this with error 413, but now it seems you have a \ndifferent problem?)\n\nPlease note: JkMounts do not get inhertited from the global server to virtual \nhosts. If you use virtual hosts, please also give the information, how those \nare structured, how they relate to your test case and your JK configuration.\n\nIf you can easily reproduce the problem with a single request, you can log \ncommunication details between mod_jk and Tomcat by using JkLogLevel debug.\n\nI interprete your last message as follows: the php script sends a POST request \nto another httpd/mod_jk and the response you get is the error page you included \nin your message. This error page looks like *not* coming from httpd but instead \nfrom the backend behind JK (which is what?). With debig JkLogLevel, we could \nmore precisely see, if there is any problem between JK and the backend.\n\nThe backend error message you included looks a bit, like your backend is \noutdated?\n", "id": 112441, "time": "2008-01-02T09:39:57Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2008-01-02T09:39:57Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 43753, "text": "No response to request for information for over 3 months.\n\nThere isn't much we can do to fix this. (Assuming there is a bug which is difficult to assess since the problem appears to be a moving target.)", "id": 115554, "time": "2008-04-11T10:39:54Z", "creator": "markt@apache.org", "creation_time": "2008-04-11T10:39:54Z", "is_private": false, "attachment_id": null}]