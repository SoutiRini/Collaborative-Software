[{"count": 0, "tags": [], "bug_id": 43324, "text": "When using macrodefs within macrodefs a StackOverflow can occur.\n\nThe following is a snippet from running an effected build with debug output on:\n\nBUILD FAILED\n/Users/edalquist/Desktop/build.xml:9: The following error occurred while\nexecuting this line:\n/Users/edalquist/Desktop/build.xml:40: The following error occurred while\nexecuting this line:\n/Users/edalquist/Desktop/build.xml:27: java.lang.StackOverflowError\n\tat\norg.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:541)\n\tat org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:394)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n\tat org.apache.tools.ant.Task.perform(Task.java:348)\n\tat org.apache.tools.ant.Target.execute(Target.java:357)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:385)\n\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1298)\n\tat\norg.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1181)\n\tat org.apache.tools.ant.Main.runBuild(Main.java:698)\n\tat org.apache.tools.ant.Main.startAnt(Main.java:199)\n\tat org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\n\tat org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\nCaused by: /Users/edalquist/Desktop/build.xml:40: The following error occurred\nwhile executing this line:\n/Users/edalquist/Desktop/build.xml:27: java.lang.StackOverflowError\n\tat\norg.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:541)\n\tat org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:394)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n\tat org.apache.tools.ant.Task.perform(Task.java:348)\n\tat org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:62)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n\tat org.apache.tools.ant.Task.perform(Task.java:348)\n\tat org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:391)\n\t... 17 more\nCaused by: /Users/edalquist/Desktop/build.xml:27: java.lang.StackOverflowError\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:115)\n\tat org.apache.tools.ant.Task.perform(Task.java:348)\n\tat org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:62)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n\tat org.apache.tools.ant.Task.perform(Task.java:348)\n\tat org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:391)\n\t... 33 more\nCaused by: java.lang.StackOverflowError\n\tat org.apache.tools.ant.taskdefs.MacroInstance.macroSubs(MacroInstance.java:182)\n\tat org.apache.tools.ant.taskdefs.MacroInstance.copy(MacroInstance.java:271)\n\tat org.apache.tools.ant.taskdefs.MacroInstance.copy(MacroInstance.java:320)\n...", "id": 107790, "time": "2007-09-06T16:03:16Z", "creator": "eric.dalquist@doit.wisc.edu", "creation_time": "2007-09-06T16:03:16Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 43324, "text": "Created attachment 20779\nAn example build that demonstrates the bug\n\nRunning this build under Ant 1.7.0 causes a StackOverflowError, running it\nunder Ant 1.6.5 results in the expected output.", "id": 107791, "time": "2007-09-06T16:04:34Z", "creator": "eric.dalquist@doit.wisc.edu", "creation_time": "2007-09-06T16:04:34Z", "is_private": false, "attachment_id": 20779}, {"count": 2, "tags": [], "bug_id": 43324, "is_private": false, "text": "Thanks very much for the build file.\nI have committed a fix and it will be in Ant 1.7.1.\n", "id": 107819, "time": "2007-09-07T03:54:25Z", "creator": "peterreilly@apache.org", "creation_time": "2007-09-07T03:54:25Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "*** Bug 42640 has been marked as a duplicate of this bug. ***", "is_private": false, "bug_id": 43324, "id": 121968, "time": "2008-10-28T10:03:01Z", "creator": "bodewig@apache.org", "creation_time": "2008-10-28T10:03:01Z", "attachment_id": null}]