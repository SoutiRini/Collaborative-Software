[{"count": 0, "tags": [], "bug_id": 12329, "attachment_id": null, "text": "Loading Apache 1.3.26 (libtool-1.3.4-32) with external modules (libphp4.so, \nmod_coldfusion.so) gives the error: \"API module structure `coldfusion_module' \nin file /usr/local/apache_1_3_24/libexec/mod_coldfusion.so is garbled - \nperhaps this is not an Apache module DSO?\". This error is not present with \nApache 1.3.14 on the same system.", "id": 22312, "time": "2002-09-05T08:34:33Z", "creator": "frix@expertron.co.za", "creation_time": "2002-09-05T08:34:33Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 12329, "attachment_id": null, "is_private": false, "id": 22313, "time": "2002-09-05T10:16:35Z", "creator": "frix@expertron.co.za", "creation_time": "2002-09-05T10:16:35Z", "text": "Compiles and runs cleanly on SuSE 7.3 (libtool-1.4.2-215)... "}, {"count": 2, "tags": [], "bug_id": 12329, "attachment_id": null, "text": "Perhaps this is an EAPI issue. Try to find out if your Apache 1.3.26, which \nmakes problems loading dso's, lacks the EAPI support. Therefore use \n'httpd -V'. This should print out if EAPI is used or not (-D EAPI). It seems \nthat you use binary dists compiled with EAPI but your Apache doesn't \nsupport it.", "id": 22316, "time": "2002-09-05T11:23:09Z", "creator": "erik@codefaktor.de", "creation_time": "2002-09-05T11:23:09Z", "is_private": false}, {"count": 3, "tags": [], "text": "Running 'httpd -V' doesn't show the '-D EAPI' option. That should explain a lot why the modules isn't loading :). I've build apache-1.3.26 from source with ./configure --prefix=/tmp/apache_inst --enable-module=so; make; make install and build the PHP-4.2.2 source with ./configure --with-apxs=/tmp/apache_inst/bin/apxs; make ; make install. PHP detected the following in the SAPI section: \"<snip> checking for Apache 1.x module support via DSO through APXS... yes checking for mod_charset compatibility option... no  <snip>\". It seems as far as PHP is concerned the Apache loadable module support is detected and working... Any suggestions on how to have this resolved? (The docs might need to address this, since Google reports over a thousand hits for 'libphp4.so garbled'... ", "attachment_id": null, "id": 22317, "creator": "frix@expertron.co.za", "time": "2002-09-05T12:28:15Z", "bug_id": 12329, "creation_time": "2002-09-05T12:28:15Z", "is_private": false}, {"count": 4, "tags": [], "text": "In general there is no guarentee of binary compatibilty for the apache module\ninterface.  In other words, you may need to recompile your modules (or get new\nversions from the supplier) whenever\nyou recompile or upgrade apache.  EAPI is only one of many things that can\nchange between compilations.  See also bug 11778.", "is_private": false, "id": 22329, "creator": "slive@apache.org", "time": "2002-09-05T17:31:15Z", "bug_id": 12329, "creation_time": "2002-09-05T17:31:15Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 12329, "attachment_id": null, "is_private": false, "id": 32091, "time": "2003-02-27T15:39:12Z", "creator": "frix@expertron.co.za", "creation_time": "2003-02-27T15:39:12Z", "text": "Withing the mod_ssl tree  ./configure --with-apache=../apache_1.3.27 --with-ssl=/usr/local/ssl --prefix=/usr/local/apache_1_3_27 --enable-module=so --enable-shared= ssl  NOTE: Mandatory option, not spoken about in docs: --enable-module=so  To see if the option worked, type \"httpd -V\" on the new apache binary after you've build it. The option \"-D EAPI\" should be present, as well as \"mod_so.c\" when you type \"httpd -l\"  Building without \"--enable-module=so\" will report the \"... is garbled ...\" error message. "}]