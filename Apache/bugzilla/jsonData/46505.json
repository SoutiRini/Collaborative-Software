[{"count": 0, "tags": [], "bug_id": 46505, "attachment_id": null, "id": 123909, "time": "2009-01-09T11:06:13Z", "creator": "ggrussenmeyer@gmail.com", "creation_time": "2009-01-09T11:06:13Z", "is_private": false, "text": "The documentation of the AuthzLDAPAuthoritative directive (http://httpd.apache.org/docs/2.2/mod/mod_authnz_ldap.html#authzldapauthoritative) states that \n\"When no LDAP-specific Require directives are used, authorization is allowed to fall back to other modules as if AuthzLDAPAuthoritative  was set to off.\"\n\nHowever, the following configuration:\n\n   AuthType Basic\n   AuthName \"My Auth Name\"\n   AuthBasicProvider ldap\n   AuthLDAPURL \"ldap://localhost/ou=Users,dc=domain,dc=com?uid\"\n   Require valid-user\n\nleads to authorization failure (401) although LDAP search and bind is successfull: authorization does not seem to fallback to mod_authz_user...\n\nSimply adding the \"AuthzLDAPAuthoritative Off\" directive does the trick and authorization then succeeds.\n\nSo by default, although \"no LDAP-specific Require directives are used\", \"authorization\" does not \"fall back to other modules as if AuthzLDAPAuthoritative  was set to off\", contrary to what is stated in the documentation.\n\nThanks to Daniel Markle and his related blog post: http://ashtech.net/~syntax/blog/archives/108-Making-Apache-2.2-valid-user-work-with-mod_authnz_ldap.html"}, {"count": 1, "tags": [], "bug_id": 46505, "attachment_id": null, "text": "The 2.2.3 documentation is consistent: it does not mention AuthzLDAPAuthoritative default behavior and clearly states the AuthzLDAPAuthoritative must be \"off\" when using \"Require valid-user\".\n", "id": 123910, "time": "2009-01-09T11:14:18Z", "creator": "ggrussenmeyer@gmail.com", "creation_time": "2009-01-09T11:14:18Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 46505, "attachment_id": null, "text": "this is also no longer necessary in 2.2.6 and later -- valid-user is accepted without marking authnz_ldap non-authoritative.", "id": 123913, "time": "2009-01-09T11:52:56Z", "creator": "covener@gmail.com", "creation_time": "2009-01-09T11:52:56Z", "is_private": false}]