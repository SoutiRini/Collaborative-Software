[{"count": 0, "tags": [], "creator": "benjamin.gehrels_external@immobilienscout24.de", "text": "How to reproduce:\nExecute \n\ncontext.addFilter(\"deprecatedApiReporterFilterFor/myAPI/v2/*, new ArbitraryServletFilter()).addMappingForUrlPatterns(null, false, \"/myAPI/v2/*\");\n\nfrom inside the contextInitialized-Method of an ServletContextListener.\n\n\nWhat happens:\nNov 19, 2012 6:01:34 PM org.apache.catalina.core.ApplicationFilterConfig registerJMX\nInformation: JMX registration failed for filter of type [ArbitraryServletFilter] and name [deprecatedApiReporterFilterFor/myAPI/v2/*]\njavax.management.RuntimeOperationsException\n\tat com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:411)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:512)\n\tat org.apache.tomcat.util.modeler.Registry.registerComponent(Registry.java:742)\n\tat org.apache.catalina.core.ApplicationFilterConfig.registerJMX(ApplicationFilterConfig.java:432)\n\tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:281)\n\tat org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:107)\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4638)\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5294)\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)\n\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:649)\n\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1581)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:166)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n\tat java.lang.Thread.run(Thread.java:722)\nCaused by: java.lang.IllegalArgumentException: Repository: cannot add mbean for pattern name Catalina:j2eeType=Filter,name=deprecatedApiReporterFilterFor/myAPI/v2/*,WebModule=//localhost/,J2EEApplication=none,J2EEServer=none\n\t... 24 more\n\nWhy does it happen:\n\nBecause ApplicationFilterConfig constructs the ObjectName by String concatenation, without escaping the filterName using ObjectName.quote(String s)\n\nI was able to reproduce it using Catalina 7.0.26.", "id": 163537, "time": "2012-11-19T17:08:42Z", "bug_id": 54170, "creation_time": "2012-11-19T17:08:42Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 54170, "text": "Thanks for the report. Fixed in trunk and 7.0.x and will be included in 7.0.34 onwards.\n\nServlets were affected as well as Filters. Both were fixed.", "id": 163603, "time": "2012-11-22T15:03:54Z", "creator": "markt@apache.org", "creation_time": "2012-11-22T15:03:54Z", "tags": [], "is_private": false}]