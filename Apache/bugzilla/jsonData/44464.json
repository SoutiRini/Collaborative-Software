[{"count": 0, "tags": [], "creator": "ccooper@rsasecurity.com", "text": "I am trying to use the if controller to make sure a task only gets done when a\nvariable is true. I have a variable called success, and when it does not equal\n\"NULL\" I want it to execute the stuff under the if controller, but the if\ncontroller always returns false, no matter what I put in it. I tested it by\nputting 2 == 2 in there to see if that would cause it to go in, same with just\ntrue, 1, etc. and it never enters the if. I put my original statement into a\nwhile controller and it works so I know it wasn't the syntax.", "id": 113966, "time": "2008-02-21T10:18:05Z", "bug_id": 44464, "creation_time": "2008-02-21T10:18:05Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 44464, "text": "The If Controller and While Controller use different syntax.\n\nIf needs raw javascript; While needs a function or variable reference.\n\nPlease provide the exact condition you have used in the controller, and check\njmeter.log for any error messages.", "id": 113967, "time": "2008-02-21T10:30:48Z", "creator": "sebb@apache.org", "creation_time": "2008-02-21T10:30:48Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "ccooper@rsasecurity.com", "text": "so I gather from this you are saying you are not allowed to use a jmeter\nvariable in the if statement? According to the component reference you can, my\nstatement is \"${success}\" == \"NULL\" and I've also tried without quotes around\nthe variable, there is no error, why doesn't 2 == 2 automatically return true?", "id": 113968, "time": "2008-02-21T10:51:21Z", "bug_id": 44464, "creation_time": "2008-02-21T10:51:21Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 44464, "text": "2008/02/03 12:51:11 ERROR - jmeter.control.IfController: missing ; before\nstatement (<cmd>#1) org.mozilla.javascript.EvaluatorException: missing ; before\nstatement (<cmd>#1)\n\tat\norg.mozilla.javascript.DefaultErrorReporter.runtimeError(DefaultErrorReporter.java:98)\n\tat org.mozilla.javascript.DefaultErrorReporter.error(DefaultErrorReporter.java:85)\n\tat org.mozilla.javascript.Parser.addError(Parser.java:126)\n\tat org.mozilla.javascript.Parser.reportError(Parser.java:132)\n\tat org.mozilla.javascript.Parser.statementHelper(Parser.java:1175)\n\tat org.mozilla.javascript.Parser.statement(Parser.java:623)\n\tat org.mozilla.javascript.Parser.parse(Parser.java:355)\n\tat org.mozilla.javascript.Parser.parse(Parser.java:293)\n\tat org.mozilla.javascript.Context.compileImpl(Context.java:2238)\n\tat org.mozilla.javascript.Context.compileString(Context.java:1284)\n\tat org.mozilla.javascript.Context.compileString(Context.java:1273)\n\tat org.mozilla.javascript.Context.evaluateString(Context.java:1129)\n\tat org.apache.jmeter.control.IfController.evaluateCondition(IfController.java:100)\n\tat org.apache.jmeter.control.IfController.next(IfController.java:151)\n\tat\norg.apache.jmeter.control.GenericController.nextIsAController(GenericController.java:130)\n\tat org.apache.jmeter.control.GenericController.next(GenericController.java:100)\n\tat org.apache.jmeter.control.LoopController.next(LoopController.java:91)\n\tat\norg.apache.jmeter.control.GenericController.nextIsAController(GenericController.java:133)\n\tat org.apache.jmeter.control.GenericController.next(GenericController.java:100)\n\tat org.apache.jmeter.control.LoopController.next(LoopController.java:91)\n\tat org.apache.jmeter.threads.ThreadGroup.next(ThreadGroup.java:123)\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:248)\n\tat java.lang.Thread.run(Thread.java:595)", "id": 113969, "time": "2008-02-21T10:54:52Z", "creator": "ccooper@rsasecurity.com", "creation_time": "2008-02-21T10:54:52Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "creator": "sebb@apache.org", "text": "(In reply to comment #2)\n> so I gather from this you are saying you are not allowed to use a jmeter\n> variable in the if statement? \n\nThat's not what I meant; you can use a variable but when the variable contents\nare  interpolated, the result must be valid Javascript.\n\n> According to the component reference you can, my\n> statement is \"${success}\" == \"NULL\" and I've also tried without quotes around\n> the variable, there is no error, why doesn't 2 == 2 automatically return true?\n\nProbably because there are one or more spaces at the end. Rhino seems to be\npicky about that.", "id": 113973, "time": "2008-02-21T11:14:27Z", "bug_id": 44464, "creation_time": "2008-02-21T11:14:27Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "ccooper@rsasecurity.com", "is_private": false, "text": "what information do you still need for this?", "id": 114139, "time": "2008-02-29T11:30:10Z", "bug_id": 44464, "creation_time": "2008-02-29T11:30:10Z", "attachment_id": null}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "text": "A sample JMX file which shows the problem would help. Also please include the jmeter.log from a sample run.\n\nhttp://wiki.apache.org/jakarta-jmeter/FaultReporting\n\nhas some info on creating and uploading test cases.", "id": 114153, "time": "2008-03-01T05:48:41Z", "bug_id": 44464, "creation_time": "2008-03-01T05:48:41Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "dcliman@gmail.com", "is_private": false, "text": "Created attachment 21995\njmx that generates ifcontroller error\n\nMakes a jdbc call and then tries to skip the first result using an if controller inside a foreach controller", "id": 116939, "time": "2008-05-23T14:48:12Z", "bug_id": 44464, "creation_time": "2008-05-23T14:48:12Z", "attachment_id": 21995}, {"count": 8, "attachment_id": 21996, "bug_id": 44464, "is_private": false, "id": 116940, "time": "2008-05-23T14:48:57Z", "creator": "dcliman@gmail.com", "creation_time": "2008-05-23T14:48:57Z", "tags": [], "text": "Created attachment 21996\ndebug log for attached test plan showing the error"}, {"count": 9, "tags": [], "bug_id": 44464, "attachment_id": null, "is_private": false, "id": 116941, "time": "2008-05-23T14:49:55Z", "creator": "dcliman@gmail.com", "creation_time": "2008-05-23T14:49:55Z", "text": "Test plan and debug output from jmeter 2.3.1 showing this error have been attached"}, {"count": 10, "tags": [], "creator": "sebb@apache.org", "text": "The test plan is bound to fail, because the COUNT variable is not defined anywhere, yet it is referenced in the If Controller condition", "id": 122307, "time": "2008-11-08T15:19:40Z", "bug_id": 44464, "creation_time": "2008-11-08T15:19:40Z", "is_private": false, "attachment_id": null}]