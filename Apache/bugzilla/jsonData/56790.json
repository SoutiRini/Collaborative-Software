[{"count": 0, "tags": [], "creator": "brenuart@gmail.com", "attachment_id": null, "text": "Resizing maxActive to a higher value on a live pool leads to untraceable/unmanaged connections.\n\nThe pool accepts the new higher value and accepts to deliver new connections but the following warning message is logged:\n\"Connection doesn't fit into busy array, connection will not be traceable.\"\n\nWhen looking at the code it appears the ArrayBlockingQueue holding the busy connections is not resized and keeps its original size: the extra connections cannot be added to it.\n\nThe main consequence is the pool size isn't actually increased. Connections created past the original maxActive limit will never be pooled but immediately dropped once closed by the application.\n\n\nI made a small unit test to illustrate the case - should I post it somewhere?", "id": 176755, "time": "2014-07-29T21:34:26Z", "bug_id": 56790, "creation_time": "2014-07-29T21:34:26Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 56790, "attachment_id": null, "id": 176756, "time": "2014-07-30T02:47:55Z", "creator": "fhanik@apache.org", "creation_time": "2014-07-30T02:47:55Z", "is_private": false, "text": "attach unit test here"}, {"count": 2, "tags": [], "bug_id": 56790, "attachment_id": 31860, "id": 176783, "time": "2014-07-30T20:57:39Z", "creator": "brenuart@gmail.com", "creation_time": "2014-07-30T20:57:39Z", "is_private": false, "text": "Created attachment 31860\nTestcase\n\nTestCase will fail at the two Asserts. Comment the first to get up to the second."}]