[{"count": 0, "tags": [], "text": "WsFilter performs several validations on WebSocket requests before checking if there is a registered Endpoint. I think the check for registered Endponts (and delegation to the next Filter) should take place first and the filter should do no further processing if there is mapped Endpoint for that URL.\n\nFor example a SockJS protocol test send a POST request with a connection and upgrade headers but no ws version header and expects back a 405 (invalid HTTP method) where WsFilter sends 426 even though it has no Endpoint mapped at that URL.", "is_private": false, "id": 167024, "creation_time": "2013-05-04T01:23:20Z", "time": "2013-05-04T01:23:20Z", "creator": "rstoyanchev@yahoo.com", "bug_id": 54926, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 54926, "attachment_id": null, "is_private": false, "id": 167025, "time": "2013-05-04T01:24:21Z", "creator": "rstoyanchev@yahoo.com", "creation_time": "2013-05-04T01:24:21Z", "text": "Typo above. I meant to write \"if there is *no* mapped Endpoint\"."}, {"count": 2, "tags": [], "bug_id": 54926, "is_private": false, "id": 167030, "attachment_id": null, "creator": "markt@apache.org", "creation_time": "2013-05-04T09:10:20Z", "time": "2013-05-04T09:10:20Z", "text": "RFC 6455 puts checking for a matching URI earlier in the list of checks too.\n\nThe change has been applied to trunk."}]