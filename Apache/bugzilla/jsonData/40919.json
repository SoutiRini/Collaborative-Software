[{"count": 0, "tags": [], "bug_id": 40919, "attachment_id": null, "id": 95543, "time": "2006-11-07T14:02:24Z", "creator": "birdo@parasoft.com", "creation_time": "2006-11-07T14:02:24Z", "is_private": false, "text": "org.apache.tools.bzip2.CBZip2InputStream has the following code that\nattempts to detect an unexpected EOF (similar code appears in three different\nplaces in the file)\n\nchar thech = 0;\ntry {\n    thech = (char)m_input.read();\n} catch( IOException e ) {\n    compressedStreamEOF();\n}\nif( thech == -1 ) {\n    compressedStreamEOF();\n}\n\nm_input.read will return an int in the range [-1..255]\n\nSince char is unsigned, when -1 is returned, thech will have the max char value.\nLater, the condition thech == -1 will implicitly covert thech back to some\npositive int (not -1) so thech == -1 will always return false."}, {"count": 1, "tags": [], "bug_id": 40919, "attachment_id": null, "id": 98652, "time": "2007-01-28T11:50:26Z", "creator": "jkf@apache.org", "creation_time": "2007-01-28T11:50:26Z", "is_private": false, "text": "This bug has been solved in the course of applying the speed improvements\ndescribed in bug 24798."}]