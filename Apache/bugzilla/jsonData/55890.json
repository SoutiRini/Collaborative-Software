[{"count": 0, "tags": [], "bug_id": 55890, "attachment_id": null, "id": 171771, "time": "2013-12-16T14:06:43Z", "creator": "henning.boeger@gmail.com", "creation_time": "2013-12-16T14:06:43Z", "is_private": false, "text": "I am running websocket connections via mod_proxy_wstunnel to a backend application server. Apache works as a reverse proxy.\n\nAfter running for some time, I get 500 errors from the backend server for new client connection attempts.\n\nRoot cause is that mod_proxy_wstunnel reuses the connections to the backend server.\n\nWhen the client attempts a new connection, mod_proxy_wstunnel forwards the initial GET request of the websocket handshake to the backend, on a connection which has already been handshook. The backend server is not prepared for a new handshake on a handshook connection and replies with a 500 error.\n\nWorkaround:\nUse disablereuse=on for the ProxyPass directive.\n\nPossible solutions:\nI think connection reuse should be disabled altogether for websocket connections (except the websocket protocol somehow allows it). mod_proxy_wstunnel should either fail on startup when connection reuse is enabled, or alternatively, always request a fresh backend connection, regardless of the disablereuse setting."}, {"count": 1, "tags": [], "text": "Thanks for the report, will propose for 2.4.x soon.", "attachment_id": null, "id": 174533, "creator": "covener@gmail.com", "time": "2014-04-13T16:57:55Z", "bug_id": 55890, "creation_time": "2014-04-13T16:57:55Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 55890, "is_private": false, "text": "Fixed and released in 2.4.10", "id": 177232, "time": "2014-08-18T07:54:04Z", "creator": "christophe.jaillet@wanadoo.fr", "creation_time": "2014-08-18T07:54:04Z", "attachment_id": null}]