[{"count": 0, "tags": [], "bug_id": 5319, "text": "I cannot get the hostname in the access log created by the AccessLogValve. It\nalways logs the IP address. The client in question does have a valid DNS\nname and DNS is working properly on my machine as \n\tInetAddress.getByName(req.getRemoteAddr()).getHostName()\nwill give the correct DNS name every time.\n\nI have set enableLookups=\"true\" on the Connector and resolveHosts=\"true\" on\nthe AccessLogValve.", "id": 8693, "time": "2001-12-07T08:37:30Z", "creator": "ccox@cincom.com", "creation_time": "2001-12-07T08:37:30Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "After looking through the source code and finding out that request.getRemoteHost\n() also does not return the hostname, I found bug 4180 which may be the same \nproblem. \n\nBut as I'm not that familiar with the source, I would rather let an expert \ndetermine that :)\n\nCharlie\n", "attachment_id": null, "id": 8759, "creator": "ccox@cincom.com", "time": "2001-12-10T12:42:18Z", "bug_id": 5319, "creation_time": "2001-12-10T12:42:18Z", "is_private": false}, {"count": 2, "tags": [], "creator": "craig.mcclanahan@sun.com", "attachment_id": null, "text": "Even if your TOmcat configuration is set up correctly, you will still get IP\naddresses instead of host names if your DNS environment is not set up correctly.\n Can you confirm that a stand-alone application can get a host name via\nInetAddress.getByName() when running on the same computer that Tomcat runs on?\n", "id": 8852, "time": "2001-12-12T12:20:36Z", "bug_id": 5319, "creation_time": "2001-12-12T12:20:36Z", "is_private": false}, {"count": 3, "text": "As I already noted in this bug, \n   InetAddress.getByName(request.getRemoteAddr()).getHostName()\nworks correctly in the servlet that is invoked.\n\ntherefore the DNS name is being retrieved by Java, but the AccessLogValve AND \nrequest.getRemoteHost() do not return the correct name.\n\nI created my own access log(within my servlet) for my servlets under 3.2 and \nported to 4.0. My log, which uses the above InetAddress.getByName(), gives the \nDNS name, but the AccessLogValve log always gives the ip address for the same \nrequest to my servlet.\n\nI would like to use the AccessLogValve as I am sure it is 100 times more \nefficient than my log and it also logs non-servlet requests.\n\nthanks,\nCharlie\n", "bug_id": 5319, "attachment_id": null, "id": 8856, "time": "2001-12-12T12:38:09Z", "creator": "ccox@cincom.com", "creation_time": "2001-12-12T12:38:09Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 5319, "text": "This is working 4.0.2 beta1\n\n*** This bug has been marked as a duplicate of 4180 ***", "id": 9155, "time": "2001-12-24T10:21:33Z", "creator": "ccox@cincom.com", "creation_time": "2001-12-24T10:21:33Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 5319, "text": "*** Bug 5601 has been marked as a duplicate of this bug. ***", "id": 9351, "time": "2002-01-04T07:29:56Z", "creator": "remm@apache.org", "creation_time": "2002-01-04T07:29:56Z", "is_private": false, "attachment_id": null}]