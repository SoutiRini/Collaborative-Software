[{"count": 0, "tags": [], "bug_id": 15774, "attachment_id": null, "text": "Using Tomcat-4.1.x, I can have separate instances of Tomcat running which access\ntheir own shared/lib folder.  In Tomcat-5.0 latest nightly build, that doesn't\nseem to be the case.  In fact, Tomcat5 only ever sees CATALINA_HOME/shared/lib\nwhere Tomcat4.1.x only ever sees CATALINA_BASE/shared/lib and only when\nCATALINA_BASE happens to be the same as CATALINA_HOME does Tomcat4.1.x see\nCATALINA_HOME/shared/lib.\n\nFor instance, using Tomcat-4.1.18, if I have some jars in\nCATALINA_HOME/shared/lib and I start up a new tomcat instance with CATALINA_BASE\nset as something other than CATALINA_HOME, the jars in CATALINA_HOME/shared/lib\nwill *not* be loaded.  Instead, jars will be loaded from\nCATALINA_BASE/shared/lib (if it exists).  This is the behavior I expect and love!\n\nHowever, using Tomcat-5.0, if I set things up the same way, jars in\nCATALNIA_HOME/shared/lib *will* be loaded and jars in CATALNIA_BASE/shared/lib\nare completely ignored. This is behavior that I don't expect and don't like.\n\nFor a concrete example...\nI use the capability of running separate instances of Tomcat to run apps which\nrequire different versions of xerces.  I put xerces-1.4.4.jar in\nCATALINA_HOME/shared/lib for apps which I use most often.  However, I have other\napps that need either slightly modified version of xerces-1.4.4 or require\nxerces-2.x.x.  For those cases, I run separate instances of Tomcat (running on\ndifferent ports, of course), each with a distinct CATALNIA_BASE and a local\nCATALINA_BASE/shared/lib with the appropriately versioned jars that I need for a\nparticular set of apps.  Everyone is happy because everyone gets to use their\nown shared set of libraries without stepping on each other.\n\nSo, obviously, this is a great feature in Tomcat-4.1.x (and, I assume,\nTomcat-4.0.x) but it seems to be broken in Tomcat-5.0.  \n\nIs this new behavior in Tomcat-5.0 a bug or was it intentional?  If it was\nintentional, can someone please explain the reasons for the change in behavior\nto that of Tomcat-4.1.x?\n\nJake", "id": 28840, "time": "2003-01-03T06:50:04Z", "creator": "hoju@visi.com", "creation_time": "2003-01-03T06:50:04Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 15774, "is_private": false, "text": "This should work off CATALINA_BASE by default again now. You may also configure \nthe CL using conf/catalina.properties (so don't complain).", "id": 29389, "time": "2003-01-15T08:28:06Z", "creator": "remm@apache.org", "creation_time": "2003-01-15T08:28:06Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "hoju@visi.com", "attachment_id": null, "id": 29438, "time": "2003-01-15T18:13:36Z", "bug_id": 15774, "creation_time": "2003-01-15T18:13:36Z", "is_private": false, "text": "Thanks Remy,\n\nNo complaints here.  I had no idea it was setable in catalina.propeties as that\ndidn't exist in Tomcat-4.x.x.  Without default behavior being the same as\nTomcat-4.1.x, though, I think that would be an issue for those counting on the\nbehavior and not having the proper info on how to get the desired behavior. \nThis just makes the default config of Tomcat-5 simpler.  Again, thanks for\nmaking the change and pointing out where I can change it myself.\n\nJake"}, {"count": 3, "attachment_id": null, "creator": "remm@apache.org", "text": "Actually, the classloading scheme may undergo a radical change by the time\nTomcat 5 gets released.", "id": 29454, "time": "2003-01-15T20:00:54Z", "bug_id": 15774, "creation_time": "2003-01-15T20:00:54Z", "tags": [], "is_private": false}]