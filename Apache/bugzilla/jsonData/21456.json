[{"count": 0, "tags": [], "bug_id": 21456, "attachment_id": null, "id": 40317, "time": "2003-07-10T09:18:14Z", "creator": "zorro.desbois@wanadoo.fr", "creation_time": "2003-07-10T09:18:14Z", "is_private": false, "text": "Hi,\n\nWhen I restart a context (remove then add) with the admin webapp, I lose my \nservlet logs.\nI have a file apps-myAppli.xml with this content :\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<Server>\n  <Host name=\"myAppli\" >\n    <Context path=\"\" docBase=\"/usr/webapps/myAppli\" >\n    <LogSetter name=\"myAppli_log\"\n               path=\"logs/myAppli_servlet-${yyyyMMdd-HH:mm}.log\"\n               verbosityLevel=\"DEBUG\"\n               servletLogger=\"true\"/>\n    </Context>\n  </Host>\n</Server>\n\nFor example, when I start tomcat, my logFile myAppli_servlet-20030709-10:23.log \nis created and I see my logs in it.\nBut, 2 minutes later, I restart my context and :\n- the logFile myAppli_servlet-20030709-10:25.log is not created\n- and there's no more servlet logs\n\nIt seems that the ContextManager, when it removes a context, remove this context \nand all its interceptors,\nBut when it add a context, it only add the context ..."}, {"count": 1, "tags": [], "creator": "william.barker@wilshire.com", "is_private": false, "text": "I agree that the admin webapp should check for changes in the apps-\n<context>.xml file.  However most of the functionality you want is available \nfrom the (new) 'reload' option.", "id": 40418, "time": "2003-07-11T04:47:12Z", "bug_id": 21456, "creation_time": "2003-07-11T04:47:12Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "Created attachment 7244\nnew admin.war with : patch 21456 from tomcat332 + logRestart + contextsList sorted + contextsList with no cache", "attachment_id": 7244, "id": 40470, "creator": "zorro.desbois@wanadoo.fr", "time": "2003-07-11T14:34:33Z", "bug_id": 21456, "creation_time": "2003-07-11T14:34:33Z", "is_private": false}, {"count": 3, "tags": [], "text": "Created attachment 7245\ndiff between this new version and the tomcat-332-nightlybuild-on-20030710", "attachment_id": 7245, "id": 40471, "creator": "zorro.desbois@wanadoo.fr", "time": "2003-07-11T14:36:31Z", "bug_id": 21456, "creation_time": "2003-07-11T14:36:31Z", "is_private": false}, {"count": 4, "tags": [], "creator": "zorro.desbois@wanadoo.fr", "attachment_id": null, "text": "With the new version of admin.war I attach, this bug is resolved.\n\nFor the patch, I took the code of restart in\nadmin-tomcat3.3.2-nightlybuild-on-20030710 (less a new functionnality)\nand I add new things as :\n- context list sorted by host:path\n- a log with the user restarting context\n- and a button \"Return to Context List\" with Pragma=no-cache (instead of a http\nlink).\nThank you to William.", "id": 40474, "time": "2003-07-11T14:44:21Z", "bug_id": 21456, "creation_time": "2003-07-11T14:44:21Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 21456, "attachment_id": 7323, "id": 40783, "time": "2003-07-16T08:23:44Z", "creator": "zorro.desbois@wanadoo.fr", "creation_time": "2003-07-16T08:23:44Z", "is_private": false, "text": "Created attachment 7323\nwithout a compile bug on sessionState.jsp"}]