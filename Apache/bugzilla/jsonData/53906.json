[{"count": 0, "attachment_id": null, "bug_id": 53906, "text": "running make check on AIX shows three test failures:\n\nroot@x104:[/data/prj/apr/apr-1.4.x/test]./testall -v testsock testsockets testtime       \ntestsock            : \\Line 327: expected <0.0.0.0>, but saw <::ffff:0.0.0.0>\nFAILED 1 of 9\ntestsockets         : -Line 135: Could not set multicast hops (22): Invalid argument\n\n|Line 180: Condition is false, but expected true\nFAILED 1 of 7\ntesttime            : /Line 146: Condition is false, but expected true\nFAILED 1 of 13\nFailed Tests            Total   Fail    Failed %\n===================================================\ntestsock                    9      1     11.11%\ntestsockets                 7      1     14.29%\ntesttime                   13      1      7.69%\nroot@x104:[/data/prj/apr/apr-1.4.x/test]\n\nNote: The testsock result has already been added to an open bug-report.\n\nfor testsockets:\n\nin testsockets.c:\n\n    rv = apr_mcast_hops(sock, 10);\n    APR_ASSERT_SUCCESS(tc, \"Could not set multicast hops\", rv);\n    if (rv != APR_SUCCESS)\n        return;\n\nIf someone tells me what needs to be added to apr_mcast_hops() for debugging - happy to assist.\n\nfor testtime:\n\n/* The time value is used throughout the tests, so just make this a global.\n * Also, we need a single value that we can test for the positive tests, so\n * I chose the number below, it corresponds to:\n *           2002-09-14 12:05:36.186711 -25200 [257 Sat].\n * Which happens to be when I wrote the new tests.\n */\nstatic apr_time_t now = APR_INT64_C(1032030336186711);\n\n...\n\nstatic void test_exp_get_lt(abts_case *tc, void *data)\n{\n    apr_status_t rv;\n    apr_time_exp_t xt;\n    apr_time_t imp;\n    apr_int64_t hr_off_64;\n\n    rv = apr_time_exp_lt(&xt, now);\n    ABTS_TRUE(tc, rv == APR_SUCCESS);\n    rv = apr_time_exp_get(&imp, &xt);\n    if (rv == APR_ENOTIMPL) {\n        ABTS_NOT_IMPL(tc, \"apr_time_exp_get\");\n    }\n    ABTS_TRUE(tc, rv == APR_SUCCESS);\n    hr_off_64 = (apr_int64_t) xt.tm_gmtoff * APR_USEC_PER_SEC;\n    ABTS_TRUE(tc, now + hr_off_64 == imp); /* AIX \"FAILS\" */\n}\n\nAnd, what is needed here to understand what is wrong?", "id": 162294, "time": "2012-09-19T20:31:58Z", "creator": "mamfelt@gmail.com", "creation_time": "2012-09-19T20:31:58Z", "tags": [], "is_private": false}, {"count": 1, "text": "same errors with 1.5.x\nroot@x104:[/data/prj/apr/apr-1.5.x/test]./testall -v testsock testsockets testtime\ntestsock            : \\Line 327: expected <0.0.0.0>, but saw <::ffff:0.0.0.0>\nFAILED 1 of 9\ntestsockets         : -Line 135: Could not set multicast hops (22): Invalid argument\n\n|Line 180: Condition is false, but expected true\nFAILED 1 of 7\ntesttime            : /Line 146: Condition is false, but expected true\nFAILED 1 of 13\nFailed Tests            Total   Fail    Failed %\n===================================================\ntestsock                    9      1     11.11%\ntestsockets                 7      1     14.29%\ntesttime                   13      1      7.69%", "bug_id": 53906, "attachment_id": null, "id": 162295, "time": "2012-09-19T21:38:41Z", "creator": "mamfelt@gmail.com", "creation_time": "2012-09-19T21:38:41Z", "tags": [], "is_private": false}]