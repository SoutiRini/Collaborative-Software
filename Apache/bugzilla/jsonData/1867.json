[{"text": "when using an error-page to catch ServletException thrown from a servlet the \nimplicit JSP object 'exception' is not initialised because it is looking for an \nattribute called 'javax.servlet.jsp.jspException' which has not been set \n(the attribute 'javax.servlet.error.exception' is set, however, but is not \nchecked).  \n\nthis scenario does not happen if the exception is thrown from a JSP - \n'javax.servlet.jsp.jspException' is set as expected, as is \n'javax.servlet.error.exception'.\n\nfor example, these are the attributes available in the error-page when an \nexception is thrown from a servlet:\n\n  javax.servlet.error.message = dang\n  javax.servlet.error.exception = javax.servlet.ServletException: dang\n  javax.servlet.error.servlet_name = S1\n  javax.servlet.error.request_uri = /test/servlet/S1\n  javax.servlet.error.exception_type = class javax.servlet.ServletException\n\nwhile these are the attributes when the exception is thrown from a JSP:\n\n  javax.servlet.error.message = damn\n  javax.servlet.error.exception = javax.servlet.ServletException: damn\n  javax.servlet.jsp.jspException = javax.servlet.ServletException: damn\n  javax.servlet.error.servlet_name = jsp\n  javax.servlet.error.request_uri = /test/damn.jsp\n  javax.servlet.error.exception_type = class javax.servlet.ServletException\n\nmy work-around is to explicitly check for the 'javax.servlet.error.exception' in \nmy error-page.  the real fix should be done in \n'jasper/src/share/org/apache/jasper/runtime/PageContextImpl.java'", "tags": [], "creator": "mrobinson@baltimore.com", "is_private": false, "count": 0, "id": 2611, "time": "2001-05-22T23:48:10Z", "bug_id": 1867, "creation_time": "2001-05-22T23:48:10Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "craig.mcclanahan@sun.com", "is_private": false, "text": "Tomcat's current behavior is in accordance with the specifications.  If a \nservlet throws an exception, there is *no* mandate in either specification to \ndefine request attribute \"javax.servlet.jsp.JspException\".  This attribute is \nonly set if the exception is thrown by a JSP page.\n", "id": 2628, "time": "2001-05-23T19:54:53Z", "bug_id": 1867, "creation_time": "2001-05-23T19:54:53Z", "attachment_id": null}]