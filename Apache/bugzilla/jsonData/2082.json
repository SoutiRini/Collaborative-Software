[{"count": 0, "tags": [], "creator": "Daniel.Barclay@digitalfocus.com", "attachment_id": null, "text": "The script ant.bat, when trying to set ANT_HOME relative to its own location,\nstrips out more that just the last occurrence of \"\\bin\\\" in the pathname.\n\nThe code uses a construct that removes multiple occurrences of \"\\bin\\\" \ninstead of some more-focused construct to remove just the last occurrence.\n\nTest sequence:\n\n- Install Ant under a directory named \"bin\", e.g, C:\\test\\bin\\ant.  \n- Make sure ANT_HOME is not set.\n- Run C:\\test\\bin\\ant\\bin\\ant.bat.\n- Note the error message:\n  The system cannot find the path specified. \n\nIn ant.bat, note the line:\n\n  set DEFAULT_ANT_HOME=%DEFAULT_ANT_HOME:\\bin\\=%\n\nThis construct deletes all occurrences of \"\\bin\\\" in C:\\test\\bin\\ant\\bin\\, \nleaving C:\\testant instead of C:\\test\\bin\\ant.\n\n\nPerhaps the build script should use %DEFAULT_ANT_HOME%\\.., or\nsome construct that removes only the last directory name.", "id": 2814, "time": "2001-06-08T11:35:15Z", "bug_id": 2082, "creation_time": "2001-06-08T11:35:15Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 2082, "text": "Fixed now - thanks.", "count": 1, "id": 3668, "time": "2001-07-12T03:30:49Z", "creator": "conor@apache.org", "creation_time": "2001-07-12T03:30:49Z", "is_private": false}]