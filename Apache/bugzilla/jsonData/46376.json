[{"count": 0, "attachment_id": null, "creator": "romain.gallet@gmail.com", "is_private": false, "id": 123226, "time": "2008-12-10T07:54:49Z", "bug_id": 46376, "creation_time": "2008-12-10T07:54:49Z", "tags": [], "text": "In the section RewriteCond Directive, it says:\n\nREQUEST_FILENAME\n    The full local filesystem path to the file or script matching the request.\n\nHowever, this variable seems to hold only the part on the URL after the hostname. Example, in\n\n- http://localhost/images/hotelphotos1/14032.jpg\n\nAccording to the documentation, with a DocumentRoot of \"/var/www/html\", you would expect %{REQUEST_FILENAME} to be\n\n- /var/www/html/images/hotelphotos1/14032.jpg\n\nBut it really is just:\n\n- /images/hotelphotos1/14032.jpg\n\nHow to prove/reproduce:\n- Apache 2.2.10 (ArchLinux official package)\n- In the vhost config, I have one and only one rule:\n  RewriteRule (.*) http://www.google.com/?test=%{REQUEST_FILENAME} [L]\n\nUsing the URL http://localhost/images/hotelphotos1/14032.jpg, I get\n\nhttp://www.google.com/?test=/images/hotelphotos1/14032.jpg\n\nwhich shows that %{REQUEST_FILENAME} is NOT the full local filesystem path to 14032.jpg.\n\nThis is an issue because RewriteCond testing for the presence of a file, ie RewriteCond %{REQUEST_FILENAME} -f will always return False.\n\nIt can be circumvented using\n\nRewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME} -f\n\nI could reproduce this bug/behavior on CentOS5 and the latest Apache2 rpm.\n\nTo be, this behavoir makes sense. It'd rather need a change in the documentation for that feature.\n\nRegards."}, {"count": 1, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of bug 16402 ***", "attachment_id": null, "id": 123238, "creator": "bobsiegen@googlemail.com", "time": "2008-12-11T05:14:05Z", "bug_id": 46376, "creation_time": "2008-12-11T05:14:05Z", "is_private": false}]