[{"count": 0, "tags": [], "creator": "kirill@mercury.co.il", "attachment_id": null, "text": "Setting common directories using Dirname task sometimes causes confusions.\n\nFrom documentation on Dirname task:\n\nAttribute   Description                          Required\nfile        The path to take the dirname of.     Yes\nproperty    The name of the property to set.     Yes\n\nThe path must end with a file/directory name. These do not always exist.\nMoreover, people wonder when they see \n&lt;<Dirname property=\"build.dir\" file=\"./build/bin\"&gt; \nand discover that the value of build.dir is just ./build instead of ./build/bin.\n\nI propose the following enhancement:\nIf the specified file is a path that ends in a _directory_, the whole path will\nbe used as property's value.\n\nHowever, this breaks compatibility. To avoid this it is possible to do either of\nthe following:\n1) to add a boolean attribute \"useWholePath\",\n2) to add an attribute \"dir\" that would complement \"file\" attribute.\n\nSorry for a long description and thank you in advance\n    Kirill", "id": 37539, "time": "2003-05-21T11:44:04Z", "bug_id": 20110, "creation_time": "2003-05-21T11:44:04Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 20110, "attachment_id": null, "id": 40608, "time": "2003-07-14T06:43:13Z", "creator": "conor@apache.org", "creation_time": "2003-07-14T06:43:13Z", "is_private": false, "text": "The current behaviour is consistent with the Unix dirname command. I don't see a\ngood reason to be different."}, {"count": 2, "tags": [], "bug_id": 20110, "attachment_id": null, "id": 40997, "time": "2003-07-20T10:22:39Z", "creator": "conor@apache.org", "creation_time": "2003-07-20T10:22:39Z", "is_private": false, "text": "Current behaviour is as expected"}, {"count": 3, "tags": [], "bug_id": 20110, "attachment_id": null, "id": 85024, "time": "2006-01-26T01:36:49Z", "creator": "rbuck@m-qube.com", "creation_time": "2006-01-26T01:36:49Z", "is_private": false, "text": "The dirname task does not work consistently with the UNIX dirname command. Here\nare the behaviors:\n\nGiven a subdirectory named \"tmp\", here are the respective results:\n\nPath            UNIX        Ant\ndirname tmp     .           .\ndirname tmp/    .           .\ndirname tmp/.   tmp         .\n\n"}, {"count": 4, "tags": [], "bug_id": 20110, "text": "Updated doc of <dirname> to say that it is not\nthe same as UNIX's dirname.", "id": 94323, "time": "2006-09-30T15:53:42Z", "creator": "peterreilly@apache.org", "creation_time": "2006-09-30T15:53:42Z", "is_private": false, "attachment_id": null}]