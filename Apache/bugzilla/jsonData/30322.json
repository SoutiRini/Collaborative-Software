[{"count": 0, "tags": [], "bug_id": 30322, "is_private": false, "id": 61124, "attachment_id": null, "creator": "ejl@tiscali.fr", "creation_time": "2004-07-26T14:17:44Z", "time": "2004-07-26T14:17:44Z", "text": "When I use the Jasper2 task (ant 1.6.2) as specify in documentation,\nI can't specify the directory of the .jsp file. He takes all files .jsp in \nthe \"uriroot\".\n\nI have a problem this comportement for 2 raisons :\n\n1) Files .jsp in directory CVS don't be compiled ! (sometimes these files are \nnot valide).\n2) I have several directory containing Jsp file, I would like compile only \ndirectory.\n\nI have change the JspC.java : add a new paramter in task Ant : srcDic.\n\nWhat do you thing about my solution ?\n\nElisabeth J.\n\n\nIndex: JspC.java\n===================================================================\nRCS file: /home/cvspublic/jakarta-tomcat-\njasper/jasper2/src/share/org/apache/jasper/JspC.java,v\nretrieving revision 1.80\ndiff -w -B -b -r1.80 JspC.java\n141a142\n>     private String srcDir;\n\n518a520,528\n> // <<M2\n>     /**\n>      M2 : Sp\u00e9cifie le r\u00e9pertoire Source des fichiers Jsp\n>     */\n>     public void setSrcDir(String Dir) {\n>          srcDir=Dir;\n>     }\n> // M2>>\n>     \n\n830a841,844\n> // <<M1 : Il faut ignorer les r\u00e9pertoires CVS\n>                       String cvs = files[i].substring(files[i].lastIndexOf\n('/') +1);\n>                       if (!cvs.equalsIgnoreCase(\"CVS\"))\n>                       {\n\n831a846,847\n>                       }\n> // M1>>\n\n875c891,895\n<                 scanFiles( new File( uriRoot ));\n---\n> // <<M2 : Sp\u00e9cification du r\u00e9pertoire source\n>               if (srcDir == null) {srcDir=uriRoot;}\n>               else {if (!(new File(srcDir)).isAbsolute()) \n{srcDir=uriRoot+\"/\"+srcDir;}}\n>                 scanFiles( new File( srcDir ));\n> // M2>>"}, {"count": 1, "tags": [], "bug_id": 30322, "attachment_id": null, "text": "Use the jspFiles attribute to compiled specific files. The javadocs have more info.", "id": 61128, "time": "2004-07-26T15:06:54Z", "creator": "funkman@joedog.org", "creation_time": "2004-07-26T15:06:54Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 30322, "text": "I tried to use jspFiles attribute. \nBut, a directory is not valide as a jspFiles attribute.\n(jspFiles=\"/dev/X/directory\" : wrong).\nIt's works only with files, but it is not easy with Ant to have the list of \ndirectory as an attribute.\n\nI thing (for me) it will very interresting if, per example, jspFiles accepte \ndirectory (not recurrsif).\n\nThanks,\n\nElisabeth J.\n", "id": 61456, "time": "2004-08-02T14:16:27Z", "creator": "ejl@tiscali.fr", "creation_time": "2004-08-02T14:16:27Z", "is_private": false, "attachment_id": null}]