[{"count": 0, "tags": [], "creator": "janekdb@yahoo.co.uk", "attachment_id": null, "id": 20626, "time": "2002-08-02T22:26:47Z", "bug_id": 11434, "creation_time": "2002-08-02T22:26:47Z", "is_private": false, "text": "This patch contains 2 edits to pr_warp_packet.c\n\n1. Removal of duplicate line in p_reset.\n\n2. Removal of buffer pointer backup after failed p_write_ushort. The backup is\nnot needed because p_write_ushort does not advance the buffer pointer if it\nfailes (because there is not enough space left in the buffer).\n\nThe patched code was compiled and (briefly) tested under Apache 1.3.19, Red Hat\nLinux 7.1 and Tomcat 4.0.1.Both mod_webapp.so and tomcat-webapp.jar were\ndeployed for the test.\n\nIndex: pr_warp_packet.c\n===================================================================\nRCS file: /home/cvspublic/jakarta-tomcat-connectors/webapp/lib/pr_warp_packet.c,v\nretrieving revision 1.4\ndiff -u -r1.4 pr_warp_packet.c\n--- pr_warp_packet.c\t19 Jul 2001 23:52:40 -0000\t1.4\n+++ pr_warp_packet.c\t2 Aug 2002 22:08:40 -0000\n@@ -59,7 +59,6 @@\n\n void p_reset(warp_packet *pack) {\n     pack->type=TYPE_INVALID;\n-    pack->type=TYPE_INVALID;\n     pack->size=0;\n     pack->curr=0;\n     pack->buff[0]='\\0';\n@@ -144,10 +143,7 @@\n     if (x==NULL) return(p_write_ushort(pack,0));\n     for (k=x; k[0]!='\\0'; k++);\n     len=k-x;\n-    if (p_write_ushort(pack,len)==wa_false) {\n-        pack->size-=2;\n-        return(wa_false);\n-    }\n+    if (p_write_ushort(pack,len)==wa_false) return(wa_false);\n     if ((pack->size+len)>65535) {\n         pack->size-=2;\n         return(wa_false);"}, {"count": 1, "tags": [], "bug_id": 11434, "attachment_id": null, "text": "\"mod_webapp is deprecated and unsupported due to lack of developer interest.\nPlease use mod_jk, or jk2\"", "id": 35507, "time": "2003-04-18T13:30:09Z", "creator": "funkman@joedog.org", "creation_time": "2003-04-18T13:30:09Z", "is_private": false}]