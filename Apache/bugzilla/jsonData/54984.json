[{"count": 0, "tags": [], "bug_id": 54984, "attachment_id": null, "text": "The bug occurs when form data is posted as multipart/form-data and using Servlet 3 API to get posted files.\nIn a servlet, if we set the encoding:\n\nrequest.setCharacterEncoding(\"UTF-8\");\n\nThen invoke:\n\nrequest.getParts()\n\nAnd then invoke:\n\nString text = request.getParameter(\"sometextfield\");\n\nUTF-8 characters in the text have been garbled.\n\nOrder of method calls are significant, if a getParameter is called before getParts, the correct encoding will be used.\nHowever, the order which you invoke the methods should not matter.", "id": 167242, "time": "2013-05-16T11:15:20Z", "creator": "holmis83@gmail.com", "creation_time": "2013-05-16T11:15:20Z", "is_private": false}, {"count": 1, "tags": [], "creator": "chris@christopherschultz.net", "text": "Can you post a simple test-case as a WAR (including source) to reproduce this?", "id": 167337, "time": "2013-05-21T20:15:35Z", "bug_id": 54984, "creation_time": "2013-05-21T20:15:35Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 54984, "text": "Created attachment 30311\nMultipart demo war", "id": 167356, "attachment_id": 30311, "creator": "holmis83@gmail.com", "creation_time": "2013-05-22T11:36:44Z", "time": "2013-05-22T11:36:44Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 54984, "attachment_id": 30312, "text": "Created attachment 30312\nMultipart demo source", "id": 167357, "time": "2013-05-22T11:42:32Z", "creator": "holmis83@gmail.com", "creation_time": "2013-05-22T11:42:32Z", "is_private": false}, {"count": 4, "tags": [], "creator": "violetagg@apache.org", "text": "Thanks for the report.\nFixed in trunk and 7.0.x and will be included in 7.0.41 onwards.", "id": 167426, "time": "2013-05-26T20:05:28Z", "bug_id": 54984, "creation_time": "2013-05-26T20:05:28Z", "is_private": false, "attachment_id": null}]