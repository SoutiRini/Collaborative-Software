[{"count": 0, "tags": [], "creator": "jatarifa@omel.es", "attachment_id": null, "is_private": false, "id": 40081, "time": "2003-07-07T16:14:33Z", "bug_id": 21376, "creation_time": "2003-07-07T16:14:33Z", "text": "We have found that, running Apache 2.0.45 with mod_ssl and openssl 0.9.7b, \nmemory used by the Apache2 process in W2000 SP 3 increases without an apparent \nlimit.\n\nWe are using a robot that requests the same page on a continuos basis, an \nmemory inrease is lineal from 8MB at startup (aprox) to 150MB after less than \n30 minutes.\n\nThis is an extract of time versus memory. At 17:51:50, the robot was stopped, \nand memory usage stabilized, but never decreased:\n\n\n\"07/07/2003 17:43:50.258\",\"120725504\"\n\"07/07/2003 17:44:05.258\",\"122003456\"\n\"07/07/2003 17:44:20.259\",\"123035648\"\n\"07/07/2003 17:44:35.259\",\"124579840\"\n\"07/07/2003 17:44:50.260\",\"125636608\"\n\"07/07/2003 17:45:05.260\",\"127033344\"\n\"07/07/2003 17:45:20.261\",\"127873024\"\n\"07/07/2003 17:45:35.261\",\"129028096\"\n\"07/07/2003 17:45:50.262\",\"130412544\"\n\"07/07/2003 17:46:05.262\",\"131440640\"\n\"07/07/2003 17:46:20.263\",\"132747264\"\n\"07/07/2003 17:46:35.263\",\"134086656\"\n\"07/07/2003 17:46:50.264\",\"135081984\"\n\"07/07/2003 17:47:05.264\",\"136622080\"\n\"07/07/2003 17:47:20.265\",\"137715712\"\n\"07/07/2003 17:47:35.265\",\"138969088\"\n\"07/07/2003 17:47:50.265\",\"140304384\"\n\"07/07/2003 17:48:05.266\",\"141279232\"\n\"07/07/2003 17:48:20.266\",\"142516224\"\n\"07/07/2003 17:48:35.267\",\"143818752\"\n\"07/07/2003 17:48:50.267\",\"144842752\"\n\"07/07/2003 17:49:05.268\",\"145903616\"\n\"07/07/2003 17:49:20.268\",\"147378176\"\n\"07/07/2003 17:49:35.269\",\"148434944\"\n\"07/07/2003 17:49:50.269\",\"149663744\"\n\"07/07/2003 17:50:05.270\",\"150896640\"\n\"07/07/2003 17:50:20.286\",\"151875584\"\n\"07/07/2003 17:50:35.286\",\"153403392\"\n\"07/07/2003 17:50:50.287\",\"154718208\"\n\"07/07/2003 17:51:05.287\",\"155557888\"\n\"07/07/2003 17:51:20.288\",\"156950528\"\n\"07/07/2003 17:51:35.288\",\"158031872\"\n\"07/07/2003 17:51:50.289\",\"159526912\"\n\"07/07/2003 17:52:05.289\",\"159625216\"\n\"07/07/2003 17:52:20.290\",\"159625216\"\n\"07/07/2003 17:52:35.290\",\"159625216\"\n\"07/07/2003 17:52:50.291\",\"159625216\"\n\"07/07/2003 17:53:05.291\",\"159559680\"\n\"07/07/2003 17:53:20.292\",\"159559680\"\n\"07/07/2003 17:53:35.292\",\"159559680\"\n\"07/07/2003 17:53:50.293\",\"159559680\"\n\"07/07/2003 17:54:05.293\",\"159559680\"\n\"07/07/2003 17:54:20.294\",\"159563776\"\n\"07/07/2003 17:54:35.294\",\"159563776\"\n\"07/07/2003 17:54:50.295\",\"159563776\"\n\"07/07/2003 17:55:05.295\",\"159563776\"\n\"07/07/2003 17:55:20.295\",\"159563776\"\n\"07/07/2003 17:55:35.296\",\"159563776\"\n\"07/07/2003 17:55:50.296\",\"159563776\"\n\"07/07/2003 17:56:05.297\",\"159563776\"\n\"07/07/2003 17:56:20.297\",\"159563776\"\n\"07/07/2003 17:56:35.298\",\"159563776\"\n\"07/07/2003 17:56:50.298\",\"159563776\"\n\"07/07/2003 17:57:05.299\",\"159563776\"\n\"07/07/2003 17:57:20.299\",\"159563776\"\n\"07/07/2003 17:57:35.300\",\"159563776\"\n\"07/07/2003 17:57:50.300\",\"159563776\"\n\"07/07/2003 17:58:05.301\",\"159563776\"\n\"07/07/2003 17:58:20.301\",\"159563776\"\n\"07/07/2003 17:58:35.302\",\"159563776\"\n\"07/07/2003 17:58:50.302\",\"159563776\"\n\"07/07/2003 17:59:05.303\",\"159563776\"\n\"07/07/2003 17:59:20.303\",\"159563776\"\n\n\nApache was compiled on MS VC++ 6.0"}, {"count": 1, "tags": [], "bug_id": 21376, "text": "What's your setting for SSLSessionCache?\nDoes this still happen with the latest version of Apache?\n", "id": 47461, "time": "2003-11-17T02:47:24Z", "creator": "mads@apache.org", "creation_time": "2003-11-17T02:47:24Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 21376, "attachment_id": null, "id": 47493, "creation_time": "2003-11-17T12:06:36Z", "time": "2003-11-17T12:06:36Z", "creator": "jatarifa@omel.es", "text": "Our configuration is:\n\nListen 443\nAddType application/x-x509-ca-cert .crt\nAddType application/x-pkcs7-crl    .crl\nSSLPassPhraseDialog  builtin\nSSLSessionCache         dbm:logs/ssl_scache\nSSLSessionCacheTimeout  300\nSSLMutex  default\nSSLRandomSeed startup builtin\nSSLRandomSeed connect builtin\n\n<VirtualHost _default_:443>\n\t<Directory \"k:/com/paginas\">\n\t    Options Indexes FollowSymLinks\n\t    AllowOverride None\n\t</Directory>\n\n\tScriptAlias /cgi-bin/ \"k:/com/cgi-bin/\"\n\t<Directory \"k:/com/cgi-bin\">\n\t    AllowOverride None\n\t    Options Indexes Includes ExecCGI\n\t    Order allow,deny\n\t    Allow from all\n\t</Directory>\n\n\tDocumentRoot \"k:/com/paginas\"\n\tServerName xxx.xxxxxxx.xx\n\tServerAdmin you@your.address\n\t\n\tErrorLog c:/apache2/logs/ssl_error.log\n\tTransferLog c:/apache2/logs/ssl_access.log\n\t\n\tSSLEngine on\n\tSSLCipherSuite HIGH:MEDIUM\n\n\tSSLCertificateFile c:/apache2/conf/ssl.crt/apache.crt\n\tSSLCertificateKeyFile c:/apache2/conf/ssl.key/apache.key\n\tSSLCACertificateFile c:/apache2/conf/ssl.ca/ca.cer\n\t\n\tSSLVerifyClient require\n\tSSLVerifyDepth 1\n\tSSLOptions +ExportCertData\t\t\n\t\n\t<Files ~ \"\\.(cgi|shtml|dll|phtml|php3?)$\">\n\t    SSLOptions +StdEnvVars\n\t</Files>\n\t<Directory \"k:/com/cgi-bin\">\n\t    SSLOptions +StdEnvVars\n\t</Directory>\n\t\n\tSetEnvIf User-Agent \".*MSIE.*\" \\\n\t         nokeepalive ssl-unclean-shutdown \\\n\t         downgrade-1.0 force-response-1.0\t\t         \t\n\t         \n</VirtualHost>                                  \n\n\n\nWith the latest Apache version (2.0.48) still happens", "is_private": false}, {"count": 3, "tags": [], "creator": "sfzhi@yahoo.com", "text": "I have checked this issue with Apache 2.0.49. Indeed, the problem exists with\ndbm session cache. But with shm everything looks OK.", "id": 55031, "time": "2004-04-01T11:05:29Z", "bug_id": 21376, "creation_time": "2004-04-01T11:05:29Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 21376, "text": "Bug 26562 tracked down two issues which might affect you in 2.0.49:\n\n1. some versions of OpenSSL have a memory leak in the \"blinding\" structures when\nused from a threaded server\n\n2. there was a memory leak in the use of the session cache\n\nBug 25667 has a memory leak in the dbm session cache.  Please reopen if the\nproblem is none of the above.\n\n*** This bug has been marked as a duplicate of 25667 ***", "id": 55057, "time": "2004-04-01T14:00:48Z", "creator": "jorton@redhat.com", "creation_time": "2004-04-01T14:00:48Z", "is_private": false, "attachment_id": null}]