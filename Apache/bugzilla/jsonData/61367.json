[{"count": 0, "tags": [], "bug_id": 61367, "is_private": false, "text": "This is a regression of https://bz.apache.org/bugzilla/show_bug.cgi?id=52009\n\nhttp://svn.apache.org/repos/asf/tomcat/tc7.0.x/tags/TOMCAT_7_0_67/java/org/apache/catalina/connector/CoyoteAdapter.java\n{code}\n   if (postParseSuccess &&\n                        request.getMappingData().context != null) {\n                    // Log only if processing was invoked.\n                    // If postParseRequest() failed, it has already logged it.\n                    // If context is null this was the start of a comet request\n                    // that failed and has already been logged.\n                    ((Context) request.getMappingData().context).logAccess(\n{code}\n\nhttp://svn.apache.org/repos/asf/tomcat/tc7.0.x/tags/TOMCAT_7_0_68/java/org/apache/catalina/connector/CoyoteAdapter.java\n{code}\n  if (postParseSuccess) {\n                        // Log only if processing was invoked.\n                        // If postParseRequest() failed, it has already logged it.\n                        // If context is null this was the start of a comet request\n                        // that failed and has already been logged.\n                        ((Context) request.getMappingData().context).logAccess(\n{code}\nAs you can see the comment is still there but the check is removed (I could not find which checkin this is caused by).\n\nBecause of this following NPE is shown in the log:\n{code}\nMay 10, 2017 5:26:17 PM org.apache.coyote.http11.AbstractHttp11Processor process\nSEVERE: Error processing request\njava.lang.NullPointerException\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:473)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1078)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:625)\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:745)\n{code}", "id": 200130, "time": "2017-08-01T09:27:10Z", "creator": "dkwakkel@gmail.com", "creation_time": "2017-08-01T09:27:10Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 61367, "is_private": false, "count": 1, "id": 200131, "time": "2017-08-01T11:15:38Z", "creator": "markt@apache.org", "creation_time": "2017-08-01T11:15:38Z", "text": "This is not a regression of BZ52009. The circumstances in which the NPE was triggered in that case can not trigger in NPE in the current code. Further, that bug was triggered by Comet use. The stack trace in this bug shows the BIO connector is being used which does not support Comet.\n\nPlease provide the steps to reproduce this issue."}, {"count": 2, "tags": [], "bug_id": 61367, "is_private": false, "text": "Also, please test with the latest stable 7.0.x release.", "id": 200132, "time": "2017-08-01T11:16:05Z", "creator": "markt@apache.org", "creation_time": "2017-08-01T11:16:05Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "It has been over a month with no steps provided to reproduce this and no information regarding testing with the latest 7.0.x.\n\nResolving this as WORKSFORME on the basis that I can't reproduce it and and assumption that an upgrade to the latest 7.0.x fixes it.\n\nIf this is still an issue, feel free to re-open and provide the steps necessary to reproduce it.", "id": 200641, "time": "2017-09-04T10:38:28Z", "bug_id": 61367, "creation_time": "2017-09-04T10:38:28Z", "is_private": false}]