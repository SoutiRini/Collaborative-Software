[{"count": 0, "tags": [], "bug_id": 61376, "attachment_id": null, "id": 200160, "time": "2017-08-02T19:34:40Z", "creator": "zhaojz518@gmail.com", "creation_time": "2017-08-02T19:34:40Z", "is_private": false, "text": "httpd segfault after every graceful/restart. Compiled with solaris studio 12.3 on a solaris 10 x86 server. No problem with httpd-2.4.25. This bug is only present for 2.4.26 and 2.4.27.\n\nCore file analysis output (solaris 11.3 x86):\n......\nthreading model: native threads\nstatus: process terminated by SIGSEGV (Segmentation Fault), pid=4359 uid=1000\n                \n                \n                ** Thread stack($c) **\n                ----------------------\n0x59ac0e0(80f5cf0, 811c9c0, 81259f0)\nap_run_pre_config+0x57(80f5cf0, 811c9c0, 81259f0)\nmain+0xb2c(6, feffeb40, feffeb5c, feffeafc)\n_start+0x67(6, feffec26, feffec3e, feffec41, feffec5b, feffec5e)\n\n......"}, {"count": 1, "text": "(In reply to zhaojz518 from comment #0)\n> httpd segfault after every graceful/restart. Compiled with solaris studio\n> 12.3 on a solaris 10 x86 server. No problem with httpd-2.4.25. This bug is\n> only present for 2.4.26 and 2.4.27.\n> \n> Core file analysis output (solaris 11.3 x86):\n> ......\n> threading model: native threads\n> status: process terminated by SIGSEGV (Segmentation Fault), pid=4359 uid=1000\n>                 \n>                 \n>                 ** Thread stack($c) **\n>                 ----------------------\n> 0x59ac0e0(80f5cf0, 811c9c0, 81259f0)\n> ap_run_pre_config+0x57(80f5cf0, 811c9c0, 81259f0)\n> main+0xb2c(6, feffeb40, feffeb5c, feffeafc)\n> _start+0x67(6, feffec26, feffec3e, feffec41, feffec5b, feffec5e)\n> \n> ......\n\nDo you load mod_auth_digest? Does it fail w/o it?", "bug_id": 61376, "is_private": false, "id": 200163, "time": "2017-08-02T21:32:03Z", "creator": "covener@gmail.com", "creation_time": "2017-08-02T21:32:03Z", "tags": [], "attachment_id": null}, {"count": 2, "tags": [], "creator": "zhaojz518@gmail.com", "attachment_id": null, "text": "We use mod_auth_digest, but it still segfault without it. I also tried not loading mod_info and mod_status, same results.", "id": 200166, "time": "2017-08-02T22:14:00Z", "bug_id": 61376, "creation_time": "2017-08-02T22:14:00Z", "is_private": false}, {"count": 3, "tags": [], "text": "Do you use a loadable MPM? I am thinking PR60487 somehow.\n\nreverting the changes from:\nhttp://svn.apache.org/viewvc?view=revision&revision=1797368\nwould be another good test.", "attachment_id": null, "id": 200167, "creator": "covener@gmail.com", "time": "2017-08-02T22:42:34Z", "bug_id": 61376, "creation_time": "2017-08-02T22:42:34Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 61376, "attachment_id": null, "is_private": false, "id": 200172, "time": "2017-08-03T17:58:23Z", "creator": "zhaojz518@gmail.com", "creation_time": "2017-08-03T17:58:23Z", "text": "Yes. We use loadable mpms. But same results after I compiled static prefork and event mpms for 2.4.27. How do I roll back just revision 1797368 from the 2.4.27 release? I am not familiar with the apache repository. Can you provide a tarball for it if it is not too much trouble?"}, {"count": 5, "tags": [], "bug_id": 61376, "attachment_id": null, "is_private": false, "id": 200173, "time": "2017-08-03T18:54:34Z", "creator": "zhaojz518@gmail.com", "creation_time": "2017-08-03T18:54:34Z", "text": "On the 2.4.27 tree, I reverted all six files from revision 1797368 to 2.4.25 version. I recompiled with static event mpm, but still same results - segfault at ap_run_pre_config?"}]