[{"text": "Hi folks,\nWell, Unfortunately We are facing some issue which cause a Tomcat service is down in the following environment.\nOS : Windows Server 2003 R2 SP2\nTOMCAT version=5.5.23\nJava version=1.5.0_12\n\nWe try to find the cause using attached dump file which generated the one. but not sure why this issue happen in sometime(about once a month) \n\nCould anyone know what could be wrong? i am baz, did you get to solve this same problem?\nThanks in advance...\n\n---following a jvm dump file\n\n#\n# An unexpected error has been detected by HotSpot Virtual Machine:\n#\n# EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x7c97be3e, pid=3608, tid=5976\n#\n# Java VM: Java HotSpot(TM) Client VM (1.5.0_12-b04 mixed mode, sharing)\n# Problematic frame:\n# C [ntdll.dll+0x2be3e]\n#\n\n\n\n\n--------------------------------------------------------------------------------\nT H R E A D\n--------------------------------------------------------------------------------\n \nCurrent thread (0x02d88850): JavaThread \"http-8080-Processor18\" daemon [_thread_in_native, id=5976]\n\nsiginfo: ExceptionCode=0xc0000005, reading address 0xfffffff8\n\nRegisters:\nEAX=0x00000380, EBX=0x00000000, ECX=0x0000037f, EDX=0x00000000\nESP=0x0383f068, EBP=0x0383f074, ESI=0x00570178, EDI=0x00800000\nEIP=0x7c97be3e, EFLAGS=0x00010206\n\nTop of Stack: (sp=0x0383f068)\n0x0383f068: 00570000 00000581 02fb9000 0383f098\n0x0383f078: 7c97b561 00570178 00000581 02fb9000\n0x0383f088: 00570000 02f80000 02f80000 03800000\n0x0383f098: 0383f0e0 7c97ba81 00000581 00fb9000\n0x0383f0a8: 00000581 00570000 02fb9000 00000000\n0x0383f0b8: 00000c08 02fbb000 0383f0dc 02f80000\n0x0383f0c8: 00000000 00000000 02fb8e70 00000000\n0x0383f0d8: 00000000 00000181 0383f1c4 7c97b646 \n\nInstructions: (pc=0x7c97be3e)\n0x7c97be2e: 57 64 8b 14 8a 83 c2 08 3b f2 0f 84 d5 fe ff ff\n0x7c97be3e: 0f b7 5a f8 3b 5d 0c 73 0b 8b 12 3b f2 75 f1 e9 \n\nStack: [0x03800000,0x03840000), sp=0x0383f068, free space=252k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC [ntdll.dll+0x2be3e]\nC [ntdll.dll+0x2b561]\nC [ntdll.dll+0x2ba81]\nC [ntdll.dll+0x2b646]\nC [MSVCRT.dll+0x1cef6]\nC [net.dll+0x6a86]\nJ java.net.SocketInputStream.socketRead0(Ljava/io/FileDescriptor;[BIII)I\nJ java.net.SocketInputStream.read([BII)I\nJ org.apache.coyote.http11.InternalInputBuffer.fill()Z\nJ org.apache.coyote.http11.InternalInputBuffer.parseRequestLine()V\nJ org.apache.coyote.http11.Http11Processor.process(Ljava/io/InputStream;Ljava/io/OutputStream;)V\nj org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Lorg/apache/tomcat/util/net/TcpConnection;[Ljava/lang/Object;)V+113\nj org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(Ljava/net/Socket;Lorg/apache/tomcat/util/net/TcpConnection;[Ljava/lang/Object;)V+45\nj org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt([Ljava/lang/Object;)V+102\nj org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run()V+167\nj java.lang.Thread.run()V+11\nv ~StubRoutines::call_stub\nV [jvm.dll+0x87599]\nV [jvm.dll+0xdfbb2]\nV [jvm.dll+0x8746a]\nV [jvm.dll+0x871c7]\nV [jvm.dll+0xa2048]\nV [jvm.dll+0x1110d8]\nV [jvm.dll+0x1110a6]\nC [MSVCRT.dll+0x2b530]\nC [kernel32.dll+0x24829]\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nJ java.net.SocketInputStream.socketRead0(Ljava/io/FileDescriptor;[BIII)I\nJ java.net.SocketInputStream.read([BII)I\nJ org.apache.coyote.http11.InternalInputBuffer.fill()Z\nJ org.apache.coyote.http11.InternalInputBuffer.parseRequestLine()V\nJ org.apache.coyote.http11.Http11Processor.process(Ljava/io/InputStream;Ljava/io/OutputStream;)V\nj org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Lorg/apache/tomcat/util/net/TcpConnection;[Ljava/lang/Object;)V+113\nj org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(Ljava/net/Socket;Lorg/apache/tomcat/util/net/TcpConnection;[Ljava/lang/Object;)V+45\nj org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt([Ljava/lang/Object;)V+102\nj org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run()V+167\nj java.lang.Thread.run()V+11\nv ~StubRoutines::call_stub\n\n\n\n\n--------------------------------------------------------------------------------\nP R O C E S S\n--------------------------------------------------------------------------------\n \nJava Threads: ( => current thread )\n0x02ee7820 JavaThread \"File Reaper\" daemon [_thread_blocked, id=4744]\n0x02e23958 JavaThread \"TP-Monitor\" daemon [_thread_blocked, id=6000]\n0x033159e8 JavaThread \"TP-Processor4\" daemon [_thread_in_native, id=7532]\n0x033153c8 JavaThread \"TP-Processor3\" daemon [_thread_blocked, id=5932]\n0x03305b28 JavaThread \"TP-Processor2\" daemon [_thread_blocked, id=6036]\n0x02e2bd10 JavaThread \"TP-Processor1\" daemon [_thread_blocked, id=4816]\n0x03102020 JavaThread \"http-8080-Monitor\" [_thread_blocked, id=4708]\n0x031562f0 JavaThread \"http-8080-Processor25\" daemon [_thread_blocked, id=2668]\n0x03155790 JavaThread \"http-8080-Processor24\" daemon [_thread_blocked, id=2092]\n0x032d8410 JavaThread \"http-8080-Processor23\" daemon [_thread_blocked, id=5984]\n0x03250808 JavaThread \"http-8080-Processor22\" daemon [_thread_blocked, id=7388]\n0x02f80ba8 JavaThread \"http-8080-Processor21\" daemon [_thread_blocked, id=7956]\n0x02f80048 JavaThread \"http-8080-Processor20\" daemon [_thread_blocked, id=8020]\n0x02fc0448 JavaThread \"http-8080-Processor19\" daemon [_thread_in_native, id=1636]\n=>0x02d88850 JavaThread \"http-8080-Processor18\" daemon [_thread_in_native, id=5976]\n0x02ff2b20 JavaThread \"http-8080-Processor17\" daemon [_thread_blocked, id=2832]\n0x02ff2058 JavaThread \"http-8080-Processor16\" daemon [_thread_blocked, id=7988]\n0x03056468 JavaThread \"http-8080-Processor15\" daemon [_thread_blocked, id=2856]\n0x031c55e0 JavaThread \"http-8080-Processor14\" daemon [_thread_blocked, id=2164]\n0x02f7e808 JavaThread \"http-8080-Processor13\" daemon [_thread_blocked, id=3368]\n0x0337ca28 JavaThread \"http-8080-Processor12\" daemon [_thread_blocked, id=2824]\n0x0337c008 JavaThread \"http-8080-Processor11\" daemon [_thread_blocked, id=2820]\n0x0315dc60 JavaThread \"http-8080-Processor10\" daemon [_thread_blocked, id=2888]\n0x0325f408 JavaThread \"http-8080-Processor9\" daemon [_thread_blocked, id=5112]\n0x02f24780 JavaThread \"http-8080-Processor8\" daemon [_thread_blocked, id=4692]\n0x02ee4a48 JavaThread \"http-8080-Processor7\" daemon [_thread_blocked, id=2860]\n0x02efcb80 JavaThread \"http-8080-Processor6\" daemon [_thread_blocked, id=5952]\n0x031bbd58 JavaThread \"http-8080-Processor5\" daemon [_thread_blocked, id=7168]\n0x031bb298 JavaThread \"http-8080-Processor4\" daemon [_thread_blocked, id=5940]\n0x0335f910 JavaThread \"http-8080-Processor3\" daemon [_thread_blocked, id=2848]\n0x03185b68 JavaThread \"http-8080-Processor2\" daemon [_thread_blocked, id=2672]\n0x03339528 JavaThread \"http-8080-Processor1\" daemon [_thread_blocked, id=2800]\n0x031e3e60 JavaThread \"ContainerBackgroundProcessor[StandardEngine[Catalina]]\" daemon [_thread_blocked, id=4752]\n0x009080b0 JavaThread \"Thread-1\" [_thread_in_native, id=2152]\n0x008d0998 JavaThread \"Low Memory Detector\" daemon [_thread_blocked, id=3040]\n0x008cf6b8 JavaThread \"CompilerThread0\" daemon [_thread_blocked, id=6844]\n0x008bf4b8 JavaThread \"Signal Dispatcher\" daemon [_thread_blocked, id=4916]\n0x008a9ac0 JavaThread \"Finalizer\" daemon [_thread_blocked, id=1072]\n0x008a8ee8 JavaThread \"Reference Handler\" daemon [_thread_blocked, id=1948]\n0x00575ee0 JavaThread \"main\" [_thread_in_native, id=5488]\n\nOther Threads:\n0x008a7c98 VMThread [id=3224]\n0x008d1dc8 WatcherThread [id=6332]\n\nVM state:not at safepoint (normal execution)\n\nVM Mutex/Monitor currently owned by a thread: None\n\nHeap\ndef new generation total 36288K, used 1273K [0x06b50000, 0x092b0000, 0x092b0000)\neden space 32256K, 2% used [0x06b50000, 0x06c02b20, 0x08ad0000)\nfrom space 4032K, 13% used [0x08ad0000, 0x08b5baf8, 0x08ec0000)\nto space 4032K, 0% used [0x08ec0000, 0x08ec0000, 0x092b0000)\ntenured generation total 483968K, used 17895K [0x092b0000, 0x26b50000, 0x26b50000)\nthe space 483968K, 3% used [0x092b0000, 0x0a429c30, 0x0a429e00, 0x26b50000)\ncompacting perm gen total 14336K, used 14104K [0x26b50000, 0x27950000, 0x2ab50000)\nthe space 14336K, 98% used [0x26b50000, 0x27916088, 0x27916200, 0x27950000)\nro space 8192K, 63% used [0x2ab50000, 0x2b060590, 0x2b060600, 0x2b350000)\nrw space 12288K, 46% used [0x2b350000, 0x2b8f21b0, 0x2b8f2200, 0x2bf50000)\n\nDynamic libraries:\n0x00400000 - 0x0040e000 D:\\App\\Tomcat\\bin\\tomcat5.exe\n0x7c950000 - 0x7ca2a000 C:\\WINDOWS\\system32\\ntdll.dll\n0x7c800000 - 0x7c941000 C:\\WINDOWS\\system32\\kernel32.dll\n0x77e90000 - 0x77f20000 C:\\WINDOWS\\system32\\USER32.dll\n0x77ba0000 - 0x77be8000 C:\\WINDOWS\\system32\\GDI32.dll\n0x77de0000 - 0x77e8a000 C:\\WINDOWS\\system32\\ADVAPI32.dll\n0x77bf0000 - 0x77c8f000 C:\\WINDOWS\\system32\\RPCRT4.dll\n0x76e60000 - 0x76e73000 C:\\WINDOWS\\system32\\Secur32.dll\n0x77b40000 - 0x77b9a000 C:\\WINDOWS\\system32\\MSVCRT.dll\n0x7ca30000 - 0x7d218000 C:\\WINDOWS\\system32\\SHELL32.dll\n0x773d0000 - 0x77422000 C:\\WINDOWS\\system32\\SHLWAPI.dll\n0x76120000 - 0x7613d000 C:\\WINDOWS\\system32\\IMM32.DLL\n0x7f000000 - 0x7f009000 C:\\WINDOWS\\system32\\LPK.DLL\n0x75220000 - 0x75285000 C:\\WINDOWS\\system32\\USP10.dll\n0x77ca0000 - 0x77da3000 C:\\WINDOWS\\WinSxS\\x86_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.3790.3959_x-ww_D8713E55\\comctl32.dll\n0x6d640000 - 0x6d7dd000 D:\\App\\jre\\jre1.5.0_12\\bin\\client\\jvm.dll\n0x76990000 - 0x769bb000 C:\\WINDOWS\\system32\\WINMM.dll\n0x71a60000 - 0x71a68000 C:\\WINDOWS\\system32\\rdpsnd.dll\n0x77ab0000 - 0x77ac1000 C:\\WINDOWS\\system32\\WINSTA.dll\n0x71ae0000 - 0x71b37000 C:\\WINDOWS\\system32\\NETAPI32.dll\n0x76a60000 - 0x76a6b000 C:\\WINDOWS\\system32\\PSAPI.DLL\n0x6d290000 - 0x6d298000 D:\\App\\jre\\jre1.5.0_12\\bin\\hpi.dll\n0x6d610000 - 0x6d61c000 D:\\App\\jre\\jre1.5.0_12\\bin\\verify.dll\n0x6d310000 - 0x6d32d000 D:\\App\\jre\\jre1.5.0_12\\bin\\java.dll\n0x6d630000 - 0x6d63f000 D:\\App\\jre\\jre1.5.0_12\\bin\\zip.dll\n0x6d4d0000 - 0x6d4e3000 D:\\App\\jre\\jre1.5.0_12\\bin\\net.dll\n0x71aa0000 - 0x71ab7000 C:\\WINDOWS\\system32\\WS2_32.dll\n0x71a90000 - 0x71a98000 C:\\WINDOWS\\system32\\WS2HELP.dll\n0x719c0000 - 0x71a01000 C:\\WINDOWS\\system32\\mswsock.dll\n0x5ba20000 - 0x5ba78000 C:\\WINDOWS\\system32\\hnetcfg.dll\n0x71980000 - 0x71988000 C:\\WINDOWS\\System32\\wshtcpip.dll\n0x76de0000 - 0x76e0b000 C:\\WINDOWS\\system32\\DNSAPI.dll\n0x76e80000 - 0x76e87000 C:\\WINDOWS\\System32\\winrnr.dll\n0x76e20000 - 0x76e4e000 C:\\WINDOWS\\system32\\WLDAP32.dll\n0x76e90000 - 0x76e95000 C:\\WINDOWS\\system32\\rasadhlp.dll\n0x68000000 - 0x68035000 C:\\WINDOWS\\system32\\rsaenh.dll\n\nVM Arguments:\njvm_args: -Dcatalina.home=D:\\App\\Tomcat -Dcatalina.base=D:\\App\\Tomcat -Djava.endorsed.dirs=D:\\App\\Tomcat\\common\\endorsed -Djava.io.tmpdir=D:\\App\\Tomcat\\temp -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.util.logging.config.file=D:\\App\\Tomcat\\conf\\logging.properties vfprintf -Xms512m -Xmx512m\njava_command: <unknown>\nLauncher Type: generic\n\nEnvironment Variables:\nPATH=C:\\Program Files\\Windows Resource Kits\\Tools\\;D:\\App\\Oracle\\product\\10.2.0\\db_1\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\PROGRA~1\\HITACHI\\SERVER~1\\SERVER~1\\PROGRAM;C:\\Program Files\\Intel\\DMIX;C:\\Program Files\\Common Files\\Hitachi;C:\\Program Files\\Hitachi\\JP1Base\\bin;C:\\Program Files\\HITACHI\\JP1AJS2\\bin;C:\\WINDOWS\\hitachi;C:\\Program Files\\Hitachi\\Script\\Bin\nOS=Windows_NT\nPROCESSOR_IDENTIFIER=x86 Family 15 Model 6 Stepping 4, GenuineIntel\n\n\n\n\n\n--------------------------------------------------------------------------------\nS Y S T E M\n--------------------------------------------------------------------------------\n \nOS: Windows Server 2003 family Build 3790 Service Pack 2\n\nCPU:total 8 (cores per cpu 2, threads per core 2) family 15 model 6 stepping 4, cmov, cx8, fxsr, mmx, sse, sse2, sse3, ht\n\nMemory: 4k page, physical 2097151k(1993784k free), swap 4194303k(4194303k free)\n\nvm_info: Java HotSpot(TM) Client VM (1.5.0_12-b04) for windows-x86, built on May 2 2007 02:07:59 by \"java_re\" with MS VC++ 6.0", "tags": [], "bug_id": 46183, "attachment_id": null, "count": 0, "id": 122360, "time": "2008-11-10T22:55:15Z", "creator": "umayahara.yoshinori@future.co.jp", "creation_time": "2008-11-10T22:55:15Z", "is_private": false}, {"text": "That is a jvm bug. You might want to try a newer jvm or seek support from Sun.", "tags": [], "bug_id": 46183, "attachment_id": null, "count": 1, "id": 122365, "time": "2008-11-11T03:26:54Z", "creator": "markt@apache.org", "creation_time": "2008-11-11T03:26:54Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 46183, "attachment_id": null, "text": "\u3054\u9023\u7d61\u3044\u305f\u3060\u304d\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\nSUN\u3078\u554f\u3044\u5408\u308f\u305b\u307e\u3059\u3002\n\n\nabout Bug 46183\nthank you\n\n", "id": 122397, "time": "2008-11-11T21:15:45Z", "creator": "umayahara.yoshinori@future.co.jp", "creation_time": "2008-11-11T21:15:45Z", "is_private": false}]