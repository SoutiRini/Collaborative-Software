[{"count": 0, "tags": [], "bug_id": 5826, "attachment_id": null, "is_private": false, "id": 9582, "time": "2002-01-12T19:06:16Z", "creator": "warjort@hotmail.com", "creation_time": "2002-01-12T19:06:16Z", "text": "This has been reported on tomcat-user (not by me)\nI couldn't see it here.\n\nJSP source files are not recompiled when they change.\n\norg.apache.jasper.compiler.JspCompiler.isOutDated()\nuses jspURL.openConnection()getLastModified() to get the change date.\n\nOn Sun VMs at least, this always returns 0L for file:// urls.\n\nThe following code works on both windows and linux...\n\nif (jspUrl.getProtocol().startsWith(\"file\")\njspRealLastModified = new File(jspUrl.getFile()).lastModified();\nelse\njspRealLastModified = jspUrl.openConnection().getLastModified();\n}\n\nIt was changed March 2001, I reported it under the version I have.\n\nRegards,\nAdrian"}, {"count": 1, "tags": [], "bug_id": 5826, "attachment_id": null, "text": "This does work for me (Sun JDK / Win2k).", "id": 9585, "time": "2002-01-13T02:26:56Z", "creator": "remm@apache.org", "creation_time": "2002-01-13T02:26:56Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 5826, "attachment_id": null, "text": "I got additional details from the bug reporter, and it happens only when using JSPC.\nNote: It is a bad idea to fix it the way it is suggested in the bug report\n(because all of the last modifed checks should go through the caching engine for\nefficiency)", "id": 9605, "time": "2002-01-14T03:06:34Z", "creator": "remm@apache.org", "creation_time": "2002-01-14T03:06:34Z", "is_private": false}, {"count": 3, "text": "Does this bug apply to the command line page compiler, or to the dynamic page \ncompilation mechanism?  \n\nIf it applies to the command line page compiler, then it doesn't make sense, \nsince the command line page compiler should always compile the argument page, \nregardless of its last modified time.\n\nIf it applies to the dynamic page compilation mechanism, then the bug cannot be \nreproduced.\n\n", "creator": "edburns@acm.org", "attachment_id": null, "id": 15572, "time": "2002-05-06T22:13:03Z", "bug_id": 5826, "creation_time": "2002-05-06T22:13:03Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "creator": "warjort@hotmail.com", "is_private": false, "text": "It applies to anybody using the Jasper API directly.\nThe problem is resolved by either using java 1.4 or provide\nyour own handler for file urls.\n\nRegards,\nAdrian\n", "id": 15647, "time": "2002-05-07T17:54:52Z", "bug_id": 5826, "creation_time": "2002-05-07T17:54:52Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "roger.kitain@sun.com", "text": "This bug does not appear for Tomcat 4.0.1. (pages ARE recompiled properly). \nTherefore, it must have been\nintroduced at some point after that.  Will continue to investigate, but thought\nthis might be worth noting.", "id": 16025, "time": "2002-05-13T18:56:35Z", "bug_id": 5826, "creation_time": "2002-05-13T18:56:35Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "roger.kitain@sun.com", "text": "Verified that modified JSP file recompilation successfully happens\nfor both Jasper and Jasper2 (with latest build).", "id": 16103, "time": "2002-05-14T20:52:51Z", "bug_id": 5826, "creation_time": "2002-05-14T20:52:51Z", "is_private": false, "attachment_id": null}, {"count": 7, "text": "<quote>\nthe command line page compiler should always compile the argument page, \nregardless of its last modified time\n</quote>\nThe command line Jasper does not recompile the jsp's if the generated java files \nare up to date and I didn't find a way to force this. \nCheck bug# 5826 related to the jspc ant task, I believe the fix deferred here is \nreally needed.", "bug_id": 5826, "is_private": false, "id": 47025, "time": "2003-11-07T22:06:33Z", "creator": "florinduroiu@yahoo.com", "creation_time": "2003-11-07T22:06:33Z", "tags": [], "attachment_id": null}]