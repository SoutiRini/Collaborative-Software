[{"count": 0, "tags": [], "creator": "felix.schumacher@internetallee.de", "attachment_id": 25246, "text": "Created attachment 25246\ncheck for null to guard Collections.unmodifiableList\n\nIf roles is null, Collections.unmodifiableList will throw a NPE.", "id": 135971, "time": "2010-04-08T18:15:55Z", "bug_id": 49075, "creation_time": "2010-04-08T18:15:55Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 49075, "attachment_id": 25247, "text": "Created attachment 25247\nnull-pointer guard for User and make unmodifiable list modifiable\n\nSince User#roles is unmodifiable, a UnsupportedOperationException will be thrown in JNDIRealm#getRoles(DirContext, User). A second patch will create a new ArrayList from User#roles to allow getRoles to modify it.", "id": 135972, "time": "2010-04-08T18:36:06Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2010-04-08T18:36:06Z", "is_private": false}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "This has been fixed in trunk with an alternative patch that fixes both issues\n\nMany thanks for the analysis, report and proposed patch.", "id": 135985, "time": "2010-04-09T11:17:15Z", "bug_id": 49075, "creation_time": "2010-04-09T11:17:15Z", "is_private": false}]