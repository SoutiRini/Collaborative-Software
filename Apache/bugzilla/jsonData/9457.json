[{"attachment_id": null, "tags": [], "bug_id": 9457, "is_private": false, "count": 0, "id": 16811, "time": "2002-05-28T13:12:31Z", "creator": "l_faillie@yahoo.com", "creation_time": "2002-05-28T13:12:31Z", "text": "Hi all,\n\nThe configure step finish successfully but make fails w/ following errors :\n\n/bin/sh /datas/depot/httpd-2.0.36/srclib/apr/libtool --silent --mode=compile gcc\n-g -O2   -DHAVE_CONFIG_H -D_XOPEN_SOURCE_EXTENDED -D_REENTRANT   -I../../include\n-I.\n./../include/arch/unix -I../../include/arch/unix  -c open.c && touch open.lo\nopen.c: In function `apr_file_open':\nopen.c:169: structure has no member named `cma_pipe'\ngmake[4]: *** [open.lo] Error 1\ngmake[4]: Leaving directory `/datas/depot/httpd-2.0.36/srclib/apr/file_io/unix'\n\nThe faulty line is :\n    (*new)->pipe = 0;\n\nI use gcc version 2.95.3 on a (slow ;-D) HP 715 workstation.\n\nAfter some search, I discover a wraper in \n./opt/dce/include/dce/cma_ux.h\n\n#  define pipe\t\tcma_pipe\n\nI totaly duno why this include is called for compiling Apache ...\n\nMy workaround is obviously to add such\n#ifdef HPUX\n#undef pipe\n#endif\n\nbut I think it's quite dirty.\n\nI haven't the time yet to check on HP-UX 11.\n\nBye\n\nLaurent"}, {"count": 1, "tags": [], "text": "Oups, obviously, it's\n\n#ifdef __hpux__\n#undef pipe\n#endif\n\nLaurent\n", "attachment_id": null, "bug_id": 9457, "id": 16812, "time": "2002-05-28T13:18:10Z", "creator": "l_faillie@yahoo.com", "creation_time": "2002-05-28T13:18:10Z", "is_private": false}, {"count": 2, "tags": [], "text": "Other problem :\n\n/bin/sh /datas/depot/httpd-2.0.36/srclib/apr/libtool --silent --mode=compile gcc\n-g -O2   -DHAVE_CONFIG_H -D_XOPEN_SOURCE_EXTENDED -D_REENTRANT   -I../../include\n-I.\n./../include/arch/unix  -c thread.c && touch thread.lo\nthread.c: In function `apr_thread_create':\nthread.c:165: incompatible type for argument 2 of `pthread_create'\nthread.c: In function `apr_thread_detach':\nthread.c:223: incompatible type for argument 1 of `pthread_detach'\nthread.c: In function `apr_thread_once_init':\nthread.c:281: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nthread.c:281: (Each undeclared identifier is reported only once\nthread.c:281: for each function it appears in.)\ngmake[3]: *** [thread.lo] Error 1\ngmake[3]: Leaving directory\n`/datas/depot/httpd-2.0.36/srclib/apr/threadproc/unix'\n\nAbout error of line 165, I duno what should be the cause, as it's the right type\nin the source code. Perhaps onther overwriting define problem :-(\n\n", "attachment_id": null, "id": 16815, "creator": "l_faillie@yahoo.com", "time": "2002-05-28T14:03:38Z", "bug_id": 9457, "creation_time": "2002-05-28T14:03:38Z", "is_private": false}, {"count": 3, "attachment_id": null, "creator": "trawick@apache.org", "is_private": false, "id": 16962, "time": "2002-05-30T19:16:51Z", "bug_id": 9457, "creation_time": "2002-05-30T19:16:51Z", "tags": [], "text": "apparently HP-UX 10.20 has an old pthread interface (DCE threads)\n\ntry adding \"--disable-threads\" to the configure invocation, then see\nhow it builds\n\nit may be that we shouldn't use the symbol pipe anyway, regardless\nof whether or not avoiding DCE threads fixes the compile problem\n"}, {"count": 4, "tags": [], "creator": "l_faillie@yahoo.com", "text": "Ok, this options solves both problem (but w/o thread possibility :-| ).\nI will check next week if Apache runs correctly.\n\nPlease note also it's an HP-UX 10.20 specific bug : a compilation on 11.00 is \nsuccessfull even w/ thread enabled. Again, I haven't tested the result.\n\nThanks for your help\n\nLaurent\n\nPS: I will close this issu after checking the result next week.\n", "id": 16991, "time": "2002-05-31T14:28:29Z", "bug_id": 9457, "creation_time": "2002-05-31T14:28:29Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "text": "On your HP-UX 10.20 box, can you try applying this patch, then do the\nfollowing?\n\nmake extraclean\n./buildconf\n./configure whatever-options\nmake\n...\n\nHopefully with this patch APR will realize that it doesn't know how to use\nthe system thread support and it will not enable threads and the user won't have\nto specify --disable-threads to make it work.\n\nHere is the patch:\n\nIndex: srclib/apr/build/apr_threads.m4\n===================================================================\nRCS file: /home/cvs/apr/build/apr_threads.m4,v\nretrieving revision 1.5\ndiff -u -r1.5 apr_threads.m4\n--- srclib/apr/build/apr_threads.m4     29 Apr 2001 05:22:15 -0000      1.5\n+++ srclib/apr/build/apr_threads.m4     31 May 2002 17:39:10 -0000\n@@ -86,6 +86,7 @@\n int main() {\n     pthread_t thd;\n     pthread_mutexattr_t mattr;\n+    pthread_once_t once_init = PTHREAD_ONCE_INIT;\n     int data = 1;\n     pthread_mutexattr_init(&mattr);\n     return pthread_create(&thd, NULL, thread_routine, &data);\n\nOf course, somebody is free to try to adapt APR to be able to use the HP-UX\n10.20 thread support, but until that happens APR can hopefully work out-of-\nthe-box.\n\nFYI...  AFAIK there aren't any thread-related problems with Apache 2.0 or\nAPR on HP-UX 11.\n\nThanks!!!", "attachment_id": null, "bug_id": 9457, "id": 17008, "time": "2002-05-31T17:44:19Z", "creator": "trawick@apache.org", "creation_time": "2002-05-31T17:44:19Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 9457, "is_private": false, "count": 6, "id": 18291, "time": "2002-06-21T11:40:11Z", "creator": "trawick@apache.org", "creation_time": "2002-06-21T11:40:11Z", "text": "Can you report back on whether or not the suggested patch resolves the problem?\n\nThanks!"}, {"count": 7, "tags": [], "bug_id": 9457, "attachment_id": null, "id": 18531, "time": "2002-06-25T08:05:54Z", "creator": "l_faillie@yahoo.com", "creation_time": "2002-06-25T08:05:54Z", "is_private": false, "text": "I apply the patch between the \n\nmake distclean\n\nand the\n\nconfigure\n\nbut, unfortunatly, both problems rise again :-(\n\nBye\n\nLaurent\n"}, {"count": 8, "attachment_id": null, "bug_id": 9457, "text": "I see that you did \"make distclean\" and \"configure\" after applying the patch,\nbut you really have to do the extra steps I outlined previously:\n\nmake extraclean\n./buildconf\n./configure whatever-options\nmake\n...\n\nChanges to any .m4 files and some .in files are not picked up unless you \ndo \"make extraclean\" and \"./buildconf\".  Sorry!\n\nI really appreciate your perseverance.  I'm afraid that I don't have access to \nan HP 10.20 box myself so you get to be the hero for the 10.20 users out\nthere and help us get this resolved so that it builds out of the box.\n\nThanks and best wishes,\n\nJeff", "id": 18605, "time": "2002-06-26T14:18:33Z", "creator": "trawick@apache.org", "creation_time": "2002-06-26T14:18:33Z", "tags": [], "is_private": false}, {"count": 9, "tags": [], "bug_id": 9457, "text": "Oups, yes sorry, this time I have followed your instruction ;-D\n\n1- modification of the .m4 file,\n\n2- make extraclean\n\n3- ./buildconf\n\n4- ...\n\nUnfortunalty, it fails again.\n\nIt's very strange because when I  look inside ./srclib/apr/config.log, every \ntime apr_threads is used, the compilation fails (see my config.log below).\nBut even theses failures, APR continue to configure Apache using thread :-(\nPerasp I made another mistake ... but I duno where.\n\nDon't worry about the time I spend on this : I'm happy to make something \ndifferent than my day to day borring tasks (by the way, I'm open for every good \nopportunity near Geneva, in France or in switzerland ;-D).\n\nThere is a copy of my config.log, if you can discover something ...\n\nBye\n\nLaurent\n\n----\n\n[...]\nconfigure:10437: checking for iconv in -liconv\nconfigure:10456: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -liconv   1>&5\n/usr/ccs/bin/ld: Can't find library for -liconv\ncollect2: ld returned 1 exit status\nconfigure: failed program was:\n#line 10445 \"configure\"\n#include \"confdefs.h\"\n/* Override any gcc2 internal prototype to avoid an error.  */\n/* We use char because int might match the return type of a gcc2\n    builtin and then its argument prototype would still apply.  */\nchar iconv();\n\nint main() {\niconv()\n; return 0; }\nconfigure:10484: checking for modf in -lm\nconfigure:10503: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lm   1>&5\nconfigure:10547: checking for pthread.h\nconfigure:10557: gcc -E -D_REENTRANT -w conftest.c >/dev/null 2>conftest.out\nconfigure:10677: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lm  1>&5\nconfigure: In function `main':\nconfigure:10671: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nconfigure:10671: (Each undeclared identifier is reported only once\nconfigure:10671: for each function it appears in.)\nconfigure:10674: incompatible type for argument 2 of `pthread_create'\nconfigure: failed program was:\n#line 10659 \"configure\"\n#include \"confdefs.h\"\n\n#include <pthread.h>\n#include <stddef.h>\n\nvoid *thread_routine(void *data) {\n    return data;\n}\n\n int main() {\n     pthread_t thd;\n     pthread_mutexattr_t mattr;\n     pthread_once_t once_init = PTHREAD_ONCE_INIT;\n     int data = 1;\n     pthread_mutexattr_init(&mattr);\n     return pthread_create(&thd, NULL, thread_routine, &data);} \nconfigure:10696: checking for pthreads_cflags\nconfigure:10729: gcc -o conftest -g -O2 -kthread -D_REENTRANT  conftest.c -lm  \n1>&5\ngcc: unrecognized option `-kthread'\nconfigure: In function `main':\nconfigure:10723: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nconfigure:10723: (Each undeclared identifier is reported only once\nconfigure:10723: for each function it appears in.)\nconfigure:10726: incompatible type for argument 2 of `pthread_create'\nconfigure: failed program was:\n#line 10711 \"configure\"\n#include \"confdefs.h\"\n\n#include <pthread.h>\n#include <stddef.h>\n\nvoid *thread_routine(void *data) {\n    return data;\n}\n\n int main() {\n     pthread_t thd;\n     pthread_mutexattr_t mattr;\n     pthread_once_t once_init = PTHREAD_ONCE_INIT;\n     int data = 1;\n     pthread_mutexattr_init(&mattr);\n     return pthread_create(&thd, NULL, thread_routine, &data);} \nconfigure:10729: gcc -o conftest -g -O2 -pthread -D_REENTRANT  conftest.c -lm  \n1>&5\ngcc: unrecognized option `-pthread'\nconfigure: In function `main':\nconfigure:10723: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nconfigure:10723: (Each undeclared identifier is reported only once\nconfigure:10723: for each function it appears in.)\nconfigure:10726: incompatible type for argument 2 of `pthread_create'\nconfigure: failed program was:\n#line 10711 \"configure\"\n#include \"confdefs.h\"\n\n#include <pthread.h>\n#include <stddef.h>\n\nvoid *thread_routine(void *data) {\n    return data;\n}\n\n int main() {\n     pthread_t thd;\n     pthread_mutexattr_t mattr;\n     pthread_once_t once_init = PTHREAD_ONCE_INIT;\n     int data = 1;\n     pthread_mutexattr_init(&mattr);\n     return pthread_create(&thd, NULL, thread_routine, &data);} \nconfigure:10729: gcc -o conftest -g -O2 -pthreads -D_REENTRANT  conftest.c -lm  \n1>&5\ngcc: unrecognized option `-pthreads'\nconfigure: In function `main':\nconfigure:10723: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nconfigure:10723: (Each undeclared identifier is reported only once\nconfigure:10723: for each function it appears in.)\nconfigure:10726: incompatible type for argument 2 of `pthread_create'\nconfigure: failed program was:\n#line 10711 \"configure\"\n#include \"confdefs.h\"\n\n#include <pthread.h>\n#include <stddef.h>\n\nvoid *thread_routine(void *data) {\n    return data;\n}\n\n int main() {\n     pthread_t thd;\n     pthread_mutexattr_t mattr;\n     pthread_once_t once_init = PTHREAD_ONCE_INIT;\n     int data = 1;\n     pthread_mutexattr_init(&mattr);\n     return pthread_create(&thd, NULL, thread_routine, &data);} \nconfigure:10729: gcc -o conftest -g -O2 -mthreads -D_REENTRANT  conftest.c -lm  \n1>&5\ncc1: Invalid option `threads'\nconfigure: In function `main':\nconfigure:10723: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nconfigure:10723: (Each undeclared identifier is reported only once\nconfigure:10723: for each function it appears in.)\nconfigure:10726: incompatible type for argument 2 of `pthread_create'\nconfigure: failed program was:\n#line 10711 \"configure\"\n#include \"confdefs.h\"\n\n#include <pthread.h>\n#include <stddef.h>\n\nvoid *thread_routine(void *data) {\n    return data;\n}\n\n int main() {\n     pthread_t thd;\n     pthread_mutexattr_t mattr;\n     pthread_once_t once_init = PTHREAD_ONCE_INIT;\n     int data = 1;\n     pthread_mutexattr_init(&mattr);\n     return pthread_create(&thd, NULL, thread_routine, &data);} \nconfigure:10729: gcc -o conftest -g -O2 -Kthread -D_REENTRANT  conftest.c -lm  \n1>&5\ngcc: unrecognized option `-Kthread'\nconfigure: In function `main':\nconfigure:10723: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nconfigure:10723: (Each undeclared identifier is reported only once\nconfigure:10723: for each function it appears in.)\nconfigure:10726: incompatible type for argument 2 of `pthread_create'\nconfigure: failed program was:\n#line 10711 \"configure\"\n#include \"confdefs.h\"\n\n#include <pthread.h>\n#include <stddef.h>\n\nvoid *thread_routine(void *data) {\n    return data;\n}\n\n int main() {\n     pthread_t thd;\n     pthread_mutexattr_t mattr;\n     pthread_once_t once_init = PTHREAD_ONCE_INIT;\n     int data = 1;\n     pthread_mutexattr_init(&mattr);\n     return pthread_create(&thd, NULL, thread_routine, &data);} \nconfigure:10729: gcc -o conftest -g -O2 -threads -D_REENTRANT  conftest.c -lm  \n1>&5\nconfigure: In function `main':\nconfigure:10723: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nconfigure:10723: (Each undeclared identifier is reported only once\nconfigure:10723: for each function it appears in.)\nconfigure:10726: incompatible type for argument 2 of `pthread_create'\nconfigure: failed program was:\n#line 10711 \"configure\"\n#include \"confdefs.h\"\n\n#include <pthread.h>\n#include <stddef.h>\n\nvoid *thread_routine(void *data) {\n    return data;\n}\n\n int main() {\n     pthread_t thd;\n     pthread_mutexattr_t mattr;\n     pthread_once_t once_init = PTHREAD_ONCE_INIT;\n     int data = 1;\n     pthread_mutexattr_init(&mattr);\n     return pthread_create(&thd, NULL, thread_routine, &data);} \nconfigure:10729: gcc -o conftest -g -O2 -mt -D_REENTRANT  conftest.c -lm  1>&5\ncc1: Invalid option `t'\nconfigure: In function `main':\nconfigure:10723: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nconfigure:10723: (Each undeclared identifier is reported only once\nconfigure:10723: for each function it appears in.)\nconfigure:10726: incompatible type for argument 2 of `pthread_create'\nconfigure: failed program was:\n#line 10711 \"configure\"\n#include \"confdefs.h\"\n\n#include <pthread.h>\n#include <stddef.h>\n\nvoid *thread_routine(void *data) {\n    return data;\n}\n\n int main() {\n     pthread_t thd;\n     pthread_mutexattr_t mattr;\n     pthread_once_t once_init = PTHREAD_ONCE_INIT;\n     int data = 1;\n     pthread_mutexattr_init(&mattr);\n     return pthread_create(&thd, NULL, thread_routine, &data);} \nconfigure:10759: checking for pthreads_lib\nconfigure:10792: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lm  -lpthread \n1>&5\nconfigure: In function `main':\nconfigure:10786: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nconfigure:10786: (Each undeclared identifier is reported only once\nconfigure:10786: for each function it appears in.)\nconfigure:10789: incompatible type for argument 2 of `pthread_create'\nconfigure: failed program was:\n#line 10774 \"configure\"\n#include \"confdefs.h\"\n\n#include <pthread.h>\n#include <stddef.h>\n\nvoid *thread_routine(void *data) {\n    return data;\n}\n\n int main() {\n     pthread_t thd;\n     pthread_mutexattr_t mattr;\n     pthread_once_t once_init = PTHREAD_ONCE_INIT;\n     int data = 1;\n     pthread_mutexattr_init(&mattr);\n     return pthread_create(&thd, NULL, thread_routine, &data);} \nconfigure:10792: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lm  -lpthreads \n1>&5\nconfigure: In function `main':\nconfigure:10786: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nconfigure:10786: (Each undeclared identifier is reported only once\nconfigure:10786: for each function it appears in.)\nconfigure:10789: incompatible type for argument 2 of `pthread_create'\nconfigure: failed program was:\n#line 10774 \"configure\"\n#include \"confdefs.h\"\n\n#include <pthread.h>\n#include <stddef.h>\n\nvoid *thread_routine(void *data) {\n    return data;\n}\n\n int main() {\n     pthread_t thd;\n     pthread_mutexattr_t mattr;\n     pthread_once_t once_init = PTHREAD_ONCE_INIT;\n     int data = 1;\n     pthread_mutexattr_init(&mattr);\n     return pthread_create(&thd, NULL, thread_routine, &data);} \nconfigure:10792: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lm  -lc_r 1>&5\nconfigure: In function `main':\nconfigure:10786: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nconfigure:10786: (Each undeclared identifier is reported only once\nconfigure:10786: for each function it appears in.)\nconfigure:10789: incompatible type for argument 2 of `pthread_create'\nconfigure: failed program was:\n#line 10774 \"configure\"\n#include \"confdefs.h\"\n\n#include <pthread.h>\n#include <stddef.h>\n\nvoid *thread_routine(void *data) {\n    return data;\n}\n\n int main() {\n     pthread_t thd;\n     pthread_mutexattr_t mattr;\n     pthread_once_t once_init = PTHREAD_ONCE_INIT;\n     int data = 1;\n     pthread_mutexattr_init(&mattr);\n     return pthread_create(&thd, NULL, thread_routine, &data);} \nconfigure:10835: checking for pthread.h\nconfigure:11257: checking whether pthread_getspecific takes two arguments\nconfigure:11276: gcc -c -g -O2 -D_REENTRANT conftest.c 1>&5\nconfigure:11304: checking whether pthread_attr_getdetachstate takes one argument\nconfigure:11322: gcc -c -g -O2 -D_REENTRANT conftest.c 1>&5\nconfigure:11351: checking for pthread_key_delete\nconfigure:11379: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lm  1>&5\n/usr/ccs/bin/ld: Unsatisfied symbols:\n   pthread_key_delete (code)\ncollect2: ld returned 1 exit status\nconfigure: failed program was:\n#line 11356 \"configure\"\n#include \"confdefs.h\"\n/* System header to define __stub macros and hopefully few prototypes,\n    which can conflict with char pthread_key_delete(); below.  */\n#include <assert.h>\n/* Override any gcc2 internal prototype to avoid an error.  */\n/* We use char because int might match the return type of a gcc2\n    builtin and then its argument prototype would still apply.  */\nchar pthread_key_delete();\n\nint main() {\n\n/* The GNU C library defines this for functions which it implements\n    to always fail with ENOSYS.  Some functions are actually named\n    something starting with __ and the normal name is an alias.  */\n#if defined (__stub_pthread_key_delete) || defined (__stub___pthread_key_delete)\nchoke me\n#else\npthread_key_delete();\n#endif\n\n; return 0; }\nconfigure:11351: checking for pthread_rwlock_init\nconfigure:11379: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lm  1>&5\n/usr/ccs/bin/ld: Unsatisfied symbols:\n   pthread_rwlock_init (code)\ncollect2: ld returned 1 exit status\nconfigure: failed program was:\n#line 11356 \"configure\"\n#include \"confdefs.h\"\n/* System header to define __stub macros and hopefully few prototypes,\n    which can conflict with char pthread_rwlock_init(); below.  */\n#include <assert.h>\n/* Override any gcc2 internal prototype to avoid an error.  */\n/* We use char because int might match the return type of a gcc2\n    builtin and then its argument prototype would still apply.  */\nchar pthread_rwlock_init();\n\nint main() {\n\n/* The GNU C library defines this for functions which it implements\n    to always fail with ENOSYS.  Some functions are actually named\n    something starting with __ and the normal name is an alias.  */\n#if defined (__stub_pthread_rwlock_init) || defined \n(__stub___pthread_rwlock_init)\nchoke me\n#else\npthread_rwlock_init();\n#endif\n\n; return 0; }\nconfigure:11502: checking for readdir in -lc_r\nconfigure:11521: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lc_r  -lm  \n1>&5\nconfigure:11546: checking for gethostbyname in -lc_r\nconfigure:11565: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lc_r  -lm  \n1>&5\nconfigure:11594: checking for gethostbyaddr in -lc_r\nconfigure:11613: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lc_r  -lm  \n1>&5\nconfigure:11643: checking for gethostbyname_r\nconfigure:11671: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lm  1>&5\nconfigure:11643: checking for gethostbyaddr_r\nconfigure:11671: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lm  1>&5\nconfigure:11728: checking for sigsuspend\nconfigure:11756: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lm  1>&5\nconfigure:11784: checking for sigwait\nconfigure:11812: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lm  1>&5\n/usr/ccs/bin/ld: Unsatisfied symbols:\n   sigwait (code)\ncollect2: ld returned 1 exit status\nconfigure: failed program was:\n#line 11789 \"configure\"\n#include \"confdefs.h\"\n/* System header to define __stub macros and hopefully few prototypes,\n    which can conflict with char sigwait(); below.  */\n#include <assert.h>\n/* Override any gcc2 internal prototype to avoid an error.  */\n/* We use char because int might match the return type of a gcc2\n    builtin and then its argument prototype would still apply.  */\nchar sigwait();\n\nint main() {\n\n/* The GNU C library defines this for functions which it implements\n    to always fail with ENOSYS.  Some functions are actually named\n    something starting with __ and the normal name is an alias.  */\n#if defined (__stub_sigwait) || defined (__stub___sigwait)\nchoke me\n#else\nsigwait();\n#endif\n\n; return 0; }\nconfigure:11850: checking for poll\nconfigure:11878: gcc -o conftest -g -O2 -D_REENTRANT  conftest.c -lm  1>&5\nconfigure:11906: checking for getpwnam_r\n[...]\n", "id": 18662, "time": "2002-06-27T15:46:43Z", "creator": "l_faillie@yahoo.com", "creation_time": "2002-06-27T15:46:43Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "text": "[This is a mass bug update.]\nThis bug reports a problem in an older version of Apache 2.\nCould you please update to the most recent version and see\nif you can reproduce this problem.  If the bug still exists,\nplease update the bug with the latest version number.  If \nthe bug no longer exists, please close the bug report.\n\nSorry for this impersonal response, but we get many more bug\nreports than our volunteers can keep up with.\nThanks for using Apache!", "is_private": false, "bug_id": 9457, "id": 24686, "time": "2002-10-17T02:32:55Z", "creator": "slive@apache.org", "creation_time": "2002-10-17T02:32:55Z", "attachment_id": null}, {"count": 11, "attachment_id": null, "bug_id": 9457, "is_private": false, "id": 24687, "time": "2002-10-17T02:34:04Z", "creator": "slive@apache.org", "creation_time": "2002-10-17T02:34:04Z", "tags": [], "text": "[This is a mass bug update.]\nThis bug reports a problem in an older version of Apache 2.\nCould you please update to the most recent version and see\nif you can reproduce this problem.  If the bug still exists,\nplease update the bug with the latest version number.  If \nthe bug no longer exists, please close the bug report.\n\nSorry for this impersonal response, but we get many more bug\nreports than our volunteers can keep up with.\nThanks for using Apache!"}, {"count": 12, "attachment_id": null, "bug_id": 9457, "is_private": false, "id": 25518, "time": "2002-11-02T20:17:52Z", "creator": "slive@apache.org", "creation_time": "2002-11-02T20:17:52Z", "tags": [], "text": "[This is a mass bug update.] [Resolve-20021102]\nNo response from submitter; assuming issue is resolved.\nIf the problem still exists in the lastest version,\nplease reopen this report and update appropriately."}, {"attachment_id": null, "tags": [], "bug_id": 9457, "is_private": false, "count": 13, "id": 29353, "time": "2003-01-14T16:24:15Z", "creator": "l_faillie@yahoo.com", "creation_time": "2003-01-14T16:24:15Z", "text": "Hi all, sorry for my silence : I was busy by other tasks ...\n\nI've tryed the last available version 2.0.43 w/ following config line :\n\n./configure --disable-threads --with-mpm=prefork --with-ldap --enable-ldap \n--enable-auth-ldap --enable-info --enable-cgi --enable-expires --enable-so\n\nThe compilation succeed :-)\n\nI think it should be a good thing to disable thread by default on HP-UX 10.20 \nmachine : it's why I reopen this case.\n\nAn other 'small issue' : it isn't possible apply by default --with-ldap \nif --enable-ldap is present ?\n\nBye\n\nLaurent\n"}, {"count": 14, "attachment_id": null, "bug_id": 9457, "is_private": false, "id": 32536, "time": "2003-03-06T08:32:09Z", "creator": "wrowe@apache.org", "creation_time": "2003-03-06T08:32:09Z", "tags": [], "text": "\n  \"I think it should be a good thing to disable thread by default \n   on HP-UX 10.20 machine : it's why I reopen this case.\"\n\nI'm sorry, but you will need to define exactly what the risks are for avoiding\nthreads on 10.20... I can't speak to that version because I know of noone who\nisn't using 11.  Citations etc. would be very helpful.\n\nCitations from HP themselves would be the best.  Thanks.\n"}, {"count": 15, "tags": [], "bug_id": 9457, "is_private": false, "text": "Well,\n\nonly because Apache won't compile on HP-UX < 11 w/ thread enabled. As noboby\n(including myself) haven't time to port APR for threading on theses obsolete OS,\nthe easyest solution is to avoid threading in this situation.\n\nBye\n\nLaurent\n", "id": 32543, "time": "2003-03-06T09:42:52Z", "creator": "l_faillie@yahoo.com", "creation_time": "2003-03-06T09:42:52Z", "attachment_id": null}, {"count": 16, "tags": [], "creator": "wrowe@apache.org", "text": "\n  Well ... if we don't compile still - then I concur.\n\n  Would you check out the attached patch (forthcoming) and let us know\n  if it properly toggles the thread disable state on hpux 10?\n\n  Thanks.\n", "id": 33136, "time": "2003-03-13T18:41:46Z", "bug_id": 9457, "creation_time": "2003-03-13T18:41:46Z", "is_private": false, "attachment_id": null}, {"count": 17, "attachment_id": 5321, "bug_id": 9457, "is_private": false, "id": 33137, "time": "2003-03-13T18:42:51Z", "creator": "wrowe@apache.org", "creation_time": "2003-03-13T18:42:51Z", "tags": [], "text": "Created attachment 5321\nPatch to disable threads by default on HP/UX 10"}, {"count": 18, "tags": [], "creator": "wrowe@apache.org", "text": "\n  Please do check out the validity of this patch [I have no box to test it on.]\n\n  If it is correct, this will be incorporated into 0.9.2 tommorow... otherwise\n  the ship sails without it.\n\n  Thanks again for your diagnostics and further details.\n", "id": 33397, "time": "2003-03-19T05:43:13Z", "bug_id": 9457, "creation_time": "2003-03-19T05:43:13Z", "is_private": false, "attachment_id": null}, {"count": 19, "tags": [], "text": "I have applied this patch on a clean directory (rm -rf httpd-2.0.44; gtar xzvf \nhttpd-2.0.44.tar.gz) but the configuration doesn't succeed :\n\nthread.c: In function `apr_thread_create':\nthread.c:165: incompatible type for argument 2 of `pthread_create'\nthread.c: In function `apr_thread_detach':\nthread.c:223: incompatible type for argument 1 of `pthread_detach'\nthread.c: In function `apr_thread_once_init':\nthread.c:281: `PTHREAD_ONCE_INIT' undeclared (first use in this function)\nthread.c:281: (Each undeclared identifier is reported only once\nthread.c:281: for each function it appears in.)\ngmake[4]: *** [thread.lo] Error 1\ngmake[4]: Leaving directory \n`/datas/depot/httpd-2.0.44/srclib/apr/threadproc/unix'\ngmake[3]: *** [all-recursive] Error 1\ngmake[3]: Leaving directory \n`/datas/depot/httpd-2.0.44/srclib/apr/threadproc/unix'\ngmake[2]: *** [all-recursive] Error 1\ngmake[2]: Leaving directory `/datas/depot/httpd-2.0.44/srclib/apr'\ngmake[1]: *** [all-recursive] Error 1\ngmake[1]: Leaving directory `/datas/depot/httpd-2.0.44/srclib'\ngmake: *** [all-recursive] Error 1\n\nIt seems, it still want to use threading.\nI'm making some checks to find where is the trouble w/ this ...\n\nBye\n\nLaurent", "attachment_id": null, "id": 33467, "creator": "l_faillie@yahoo.com", "time": "2003-03-19T16:46:30Z", "bug_id": 9457, "creation_time": "2003-03-19T16:46:30Z", "is_private": false}, {"count": 20, "tags": [], "text": "Ok, I found where is the mistake : as I'm not rebuilding everytime configure \nfile (I only use ./configure ... ), I have also to apply this patch on \nsrclib/apr/configure, line 12667.\n\nAnd now, it's ok, by default, threading is not used on my old HP-UX 10.20 box.\n\nThank for your help.\n\nLaurent\n", "attachment_id": null, "id": 33542, "creator": "l_faillie@yahoo.com", "time": "2003-03-20T14:40:07Z", "bug_id": 9457, "creation_time": "2003-03-20T14:40:07Z", "is_private": false}, {"count": 21, "tags": [], "creator": "wrowe@apache.org", "is_private": false, "text": "\n  My bad, I should have reminded you to buildconf.  Anyways, the patch is\n  committed to APR 0.9.2.  Thanks for the report, and your persistence :-)\n", "id": 33711, "time": "2003-03-24T20:15:25Z", "bug_id": 9457, "creation_time": "2003-03-24T20:15:25Z", "attachment_id": null}]