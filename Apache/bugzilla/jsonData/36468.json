[{"count": 0, "tags": [], "creator": "rcritten@redhat.com", "attachment_id": null, "text": "When doing a reverse proxy the proxy client connection remote_host field isn't\npopulated. Since this is already available as a result of the ProxyPassReverse\nentry it makes sense to pass this on.\n\nOtherwise a client that may want this hostname value has no access to it until\nthe request is being processed and in the case of an input filter that does\nsomething like SSL may be too late. \n\nSSL connections should compare the requested hostname value with the certificate\nsubject returned by remote server. This is the only protection against\nman-in-the-middle attacks. Once mod_proxy populates this field then SSL\nconnections can do this comparison.", "id": 79312, "time": "2005-09-02T00:59:29Z", "bug_id": 36468, "creation_time": "2005-09-02T00:59:29Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 36468, "is_private": false, "text": "Created attachment 16280\ncopy the hostname into the client connection structure", "id": 79313, "time": "2005-09-02T01:00:20Z", "creator": "rcritten@redhat.com", "creation_time": "2005-09-02T01:00:20Z", "attachment_id": 16280}, {"count": 2, "tags": [], "creator": "nick@webthing.com", "attachment_id": null, "text": "Rob, is this still applicable to 2.2?", "id": 107446, "time": "2007-08-29T17:23:54Z", "bug_id": 36468, "creation_time": "2007-08-29T17:23:54Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 36468, "attachment_id": null, "id": 107473, "time": "2007-08-30T07:46:44Z", "creator": "rcritten@redhat.com", "creation_time": "2007-08-30T07:46:44Z", "is_private": false, "text": "Yes, it is still a problem in 2.2.4."}, {"count": 4, "tags": [], "bug_id": 36468, "attachment_id": null, "id": 107960, "time": "2007-09-10T06:00:54Z", "creator": "nick@webthing.com", "creation_time": "2007-09-10T06:00:54Z", "is_private": false, "text": "Do you fancy updating the patch for 2.2?  I'm guessing you have a backend that\nlooks for the header, so you'll be better-equipped to try it than I am."}, {"count": 5, "tags": [], "bug_id": 36468, "attachment_id": 25428, "id": 136785, "time": "2010-05-11T13:08:43Z", "creator": "joshkayse@fedoraproject.org", "creation_time": "2010-05-11T13:08:43Z", "is_private": false, "text": "Created attachment 25428\ncopy the hostname into the client connection structure\n\nthis patch applies to 2.2.15 and has been tested to fix the bug"}, {"count": 6, "tags": [], "bug_id": 36468, "is_private": false, "text": "i added a patch from rob", "id": 136786, "time": "2010-05-11T13:09:29Z", "creator": "joshkayse@fedoraproject.org", "creation_time": "2010-05-11T13:09:29Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 36468, "attachment_id": null, "id": 136836, "time": "2010-05-13T10:57:11Z", "creator": "rcritten@redhat.com", "creation_time": "2010-05-13T10:57:11Z", "is_private": false, "text": "This is fixed upstream (circa 2.2.12). mod_proxy sets the \"proxy-request-hostname\" note in r->connection->notes with the hostname ofthe backend.\n\nI'm working on changing mod_nss to use this instead (bug https://bugzilla.redhat.com/show_bug.cgi?id=591224)"}]