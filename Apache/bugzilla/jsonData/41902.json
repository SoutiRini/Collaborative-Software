[{"count": 0, "tags": [], "creator": "andreas.laager@gft.com", "attachment_id": null, "id": 100660, "time": "2007-03-20T06:07:38Z", "bug_id": 41902, "creation_time": "2007-03-20T06:07:38Z", "is_private": false, "text": "Nightly Build: r516517\n\nI try to request an https site. If I request the home (e.g \nhttps://myServer/home/) I get redirected to the page I want \n(e.g. .../home/page1) but with response code -1. If I request the page directly \n(https://myServer/home/page1) I get nothing back in the results tree, not even \nan entry in the tree on the left side. The only thing I found is a \nNullPointerException in the JMeter.log."}, {"count": 1, "tags": [], "creator": "andreas.laager@gft.com", "text": "Created attachment 19753\nJMeter Test Plan", "id": 100661, "time": "2007-03-20T06:09:23Z", "bug_id": 41902, "creation_time": "2007-03-20T06:09:23Z", "is_private": false, "attachment_id": 19753}, {"count": 2, "tags": [], "creator": "andreas.laager@gft.com", "attachment_id": 19754, "id": 100662, "time": "2007-03-20T06:10:30Z", "bug_id": 41902, "creation_time": "2007-03-20T06:10:30Z", "is_private": false, "text": "Created attachment 19754\nLog file with NullPointerException (debug)"}, {"count": 3, "tags": [], "creator": "sebb@apache.org", "text": "Looks like the problem is caused by the following code:\n\n  int errorLevel = conn.getResponseCode();\n  String respMsg = conn.getResponseMessage();\n  if (errorLevel == -1){// Bug 38902 - sometimes -1 seems to be returned \nunnecessarily\n   try {\n      errorLevel = Integer.parseInt(respMsg.substring(0, 3)); <== NPE\n\nSo the server must have returned -1 as the response Code, and not provided a \nresponse message.\n\nI'll fix the code to check for respMsg being null.\n\nIt may be possible to still get the first header line, in which case that can \nbe logged.\n\nI should be able to generate a new nightly this evening.", "id": 100666, "time": "2007-03-20T06:26:12Z", "bug_id": 41902, "creation_time": "2007-03-20T06:26:12Z", "is_private": false, "attachment_id": null}, {"count": 4, "attachment_id": null, "creator": "sebb@apache.org", "is_private": false, "id": 100701, "time": "2007-03-20T13:41:45Z", "bug_id": 41902, "creation_time": "2007-03-20T13:41:45Z", "tags": [], "text": "I've applied some fixes to SVN; these will be in the nightly after r520560.\n\nBy the way, the test plan was no use, because there does not seem to be any \naccess to the server - at least its name is not in external DNS servers.\n\nSo please can you check if the fix has worked?"}, {"count": 5, "tags": [], "creator": "andreas.laager@gft.com", "attachment_id": null, "id": 100715, "time": "2007-03-21T03:52:18Z", "bug_id": 41902, "creation_time": "2007-03-21T03:52:18Z", "is_private": false, "text": "Now, it seems to work fine. I get all results in the result tree for every http \nrequest I send. I'm still wondering why I get a -1 back but that is a problem \non our side.\n\nTested in: r520565\n\nThanks for the quick help."}, {"count": 6, "tags": [], "bug_id": 41902, "attachment_id": null, "text": "Glad that's sorted the NPE.\n\nI put in a log to hopefully show the HTTP header line (and that should also \nappear in the View Results Tree) - can you please have a look and see what it \nsays? \n\nThat will hopefully give a better clue as to what is going on. Thanks.", "id": 100720, "time": "2007-03-21T05:31:11Z", "creator": "sebb@apache.org", "creation_time": "2007-03-21T05:31:11Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 41902, "text": "That was in the log:\nWARN  - jmeter.util.HttpSSLProtocolSocketFactory: Could not set protocol list:\nWARN  - jmeter.util.HttpSSLProtocolSocketFactory: Valid protocols are: \nSSLv2Hello SSLv3 TLSv1   \nWARN  - jmeter.protocol.http.sampler.HTTPSampler: ResponseCode==-1; could not \nparse Found   \nWARN  - jmeter.protocol.http.sampler.HTTPSampler: ResponseCode==-1 & null \nResponseMessage. Header(0)= HTTP/1.1   \nWARN  - jmeter.protocol.http.sampler.HTTPSampler: ResponseCode==-1 & null \nResponseMessage. Header(0)= HTTP/1.1   \nWARN  - jmeter.protocol.http.sampler.HTTPSampler: ResponseCode==-1 & null \nResponseMessage. Header(0)= HTTP/1.1\n\nThe valid protocol 'SSLv2Hello' looks funny to me. Do I have to specify the \nssl/tls version?", "count": 7, "id": 100723, "time": "2007-03-21T06:03:13Z", "creator": "andreas.laager@gft.com", "creation_time": "2007-03-21T06:03:13Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 41902, "attachment_id": null, "id": 100726, "time": "2007-03-21T06:49:37Z", "creator": "sebb@apache.org", "creation_time": "2007-03-21T06:49:37Z", "is_private": false, "text": "Looks like the server is only returning\n\nHTTP/1.1\n\ninstead of\n\nHTTP/1.1 200 OK\n\nor similar.\n\nNot sure where the \"Found\" comes from. I think I need to change that log \nmessage to show the full header.\n\nThe log messages from HttpSSLProtocolSocketFactory are temporary, and can be \nignored (but thanks for reporting them!)"}, {"count": 9, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 100764, "time": "2007-03-21T16:11:26Z", "bug_id": 41902, "creation_time": "2007-03-21T16:11:26Z", "is_private": false, "text": "The sampler now logs the full header for the parse failure case, so it should \nbe easier to see what is happening.\n\nI've fixed the HttpSSLProtocolSocketFactory warning.\n\nThis will be in the nightly builds after r521029."}, {"count": 10, "tags": [], "creator": "andreas.laager@gft.com", "attachment_id": null, "id": 100782, "time": "2007-03-22T01:49:14Z", "bug_id": 41902, "creation_time": "2007-03-22T01:49:14Z", "is_private": false, "text": "Tested in r521053:\nHttpSSLProtocolSocketFactory warning doesn't show up anymore. \n\nNow I get this in the log file:\nHTTPSampler: ResponseCode==-1; could not parse Found hdr: HTTP/1.1 \n\nWith the 'IE HTTPAnalyser V2' I analysed the HTTP header I get from our server. \nIt looks like the response is only: 'HTTP/1.1' where on 'healthy' server it \nis 'HTTP/1.1 200 OK'.\n\nSo in my opinion the correct values for this response should be:\nHTTP response code: (none)\nHTTP response message: (none)\n\nBut abart from this minor issue JMeter is working fine and I start to like it:-)\nThanks\n "}, {"attachment_id": null, "tags": [], "bug_id": 41902, "text": "I wonder where the \"Found\" text is coming from? \nJMeter gets it from the responseMessage, which should come from the header - \nbut it is not in the header...\n\nGood idea regarding using (none) for the JMeter code and message; I'll see \nabout adding that.", "count": 11, "id": 100788, "time": "2007-03-22T03:51:29Z", "creator": "sebb@apache.org", "creation_time": "2007-03-22T03:51:29Z", "is_private": false}]