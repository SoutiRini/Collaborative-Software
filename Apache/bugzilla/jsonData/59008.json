[{"count": 0, "tags": [], "text": "Created attachment 33558\nProposed fix\n\nThere is a situation where Jmeter gets recursive structure of sub-samples under sample result. It happens when httpsampler.max_frame_depth is exceeded. See patch attached, original line just adds clone of a sample as a child of itself.\n\nHaving that recursive sample structure makes UI of listeners crazy, makes it unable to write result into XML JTL.", "attachment_id": 33558, "id": 188439, "creator": "apc4@ya.ru", "time": "2016-02-15T14:12:26Z", "bug_id": 59008, "creation_time": "2016-02-15T14:12:26Z", "is_private": false}, {"count": 1, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "text": "Would it be possible to have a Test Plan or Junit for this issue ?\nCan this issue only occur in this piece of code as I see new HTTPSampleResult(res) is used in many other places.\nThanks", "id": 188501, "time": "2016-02-17T12:58:24Z", "bug_id": 59008, "creation_time": "2016-02-17T12:58:24Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "apc4@ya.ru", "text": "Created attachment 33563\nDemo Test Plan\n\nHere's demo test plan", "id": 188504, "time": "2016-02-17T13:32:20Z", "bug_id": 59008, "creation_time": "2016-02-17T13:32:20Z", "is_private": false, "attachment_id": 33563}, {"count": 3, "tags": [], "bug_id": 59008, "attachment_id": null, "text": "Fix works for me, but besides this isssue, behaviour for this URL differs a lot from Browser behaviour, and recursion seems huge compared to what browser does no ?", "id": 188522, "time": "2016-02-17T20:43:49Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-02-17T20:43:49Z", "is_private": false}, {"count": 4, "attachment_id": null, "creator": "apc4@ya.ru", "is_private": false, "id": 188555, "time": "2016-02-18T07:08:54Z", "bug_id": 59008, "creation_time": "2016-02-18T07:08:54Z", "tags": [], "text": "I think browsers are smart enough to detect cycled redirects. So as JMeter, which breaks the cycle, but has an issue of cycled SampleResult."}, {"count": 5, "tags": [], "bug_id": 59008, "attachment_id": null, "text": "+1 for commiting the fix", "id": 188651, "time": "2016-02-21T21:24:38Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-02-21T21:24:38Z", "is_private": false}, {"count": 6, "attachment_id": null, "creator": "apc4@ya.ru", "text": "Date: Tue Feb 23 08:35:56 2016\nNew Revision: 1731805\n\nURL: http://svn.apache.org/viewvc?rev=1731805&view=rev\nLog:\nBug 59008 - Fix Infinite recursion SampleResult on frame depth limit reached\nBugzilla Id: 59008\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSamplerBase.java\n    jmeter/trunk/xdocs/changes.xml", "id": 188699, "time": "2016-02-23T09:19:06Z", "bug_id": 59008, "creation_time": "2016-02-23T09:19:06Z", "tags": [], "is_private": false}]