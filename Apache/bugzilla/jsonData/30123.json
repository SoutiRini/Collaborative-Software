[{"count": 0, "tags": [], "creator": "renato@galle.com.br", "attachment_id": null, "text": "I\u00b4ve installed samba-3.0.4_3,1 with winbindd and apache-2.0.50, samba is working\nfine, but after I changed /etc/nsswitch.conf to add winbindd, apache starts to\ngenerate a segfault on apachectl stop, restart and graceful.\n\nEnvironment:\n\nFreeBSD-5.2.1-RELEASE-p8\n\nHow-To-Repeat\n\n- Install samba-3.0.4_3,1 with winbind via ports\n- Install apache-2.0.50 via ports\n- Add the following lines to /etc/nsswitch.conf:\npasswd: files winbind\ngroup:  files winbind\n- Configure your smb.conf to work with winbind\n- Start samba\n- Start apache\n- run apachectl restart\n\nHere is the backtrace of the error:\n\nGNU gdb 5.2.1 (FreeBSD)\nCopyright 2002 Free Software Foundation, Inc.\nGDB is free software, covered by the GNU General Public License, and you are\nwelcome to change it and/or distribute copies of it under certain conditions.\nType \"show copying\" to see the conditions.\nThere is absolutely no warranty for GDB.  Type \"show warranty\" for details.\nThis GDB was configured as \"i386-unknown-freebsd\"...(no debugging symbols found)...\nCore was generated by `httpd'.\nProgram terminated with signal 11, Segmentation fault.\nReading symbols from /lib/libz.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libz.so.2\nReading symbols from /usr/local/lib/libssl.so.3...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/local/lib/libssl.so.3\nReading symbols from /usr/local/lib/libcrypto.so.3...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/local/lib/libcrypto.so.3\nReading symbols from /usr/local/lib/apache2/libaprutil-0.so.9...(no debugging\nsymbols found)...done.\nLoaded symbols for /usr/local/lib/apache2/libaprutil-0.so.9\nReading symbols from /usr/local/lib/libexpat.so.5...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/local/lib/libexpat.so.5\nReading symbols from /usr/local/lib/libiconv.so.3...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/local/lib/libiconv.so.3\nReading symbols from /usr/local/lib/apache2/libapr-0.so.9...(no debugging\nsymbols found)...done.\nLoaded symbols for /usr/local/lib/apache2/libapr-0.so.9\nReading symbols from /lib/libm.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libm.so.2\nReading symbols from /lib/libcrypt.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libcrypt.so.2\nReading symbols from /lib/libc.so.5...(no debugging symbols found)...done.\nLoaded symbols for /lib/libc.so.5\nReading symbols from /usr/local/lib/nss_winbind.so.1...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/local/lib/nss_winbind.so.1\nReading symbols from /libexec/ld-elf.so.1...(no debugging symbols found)...done.\nLoaded symbols for /libexec/ld-elf.so.1\n#0  0x00000000 in ?? ()\n(gdb) bt\n#0  0x00000000 in ?? ()\n#1  0x28c8948c in _init () from /usr/local/lib/nss_winbind.so.1\n#2  0x28c8b6bd in _fini () from /usr/local/lib/nss_winbind.so.1\n#3  0x2809934f in dlclose () from /libexec/ld-elf.so.1\n#4  0x284033e3 in _nsdbtput () from /lib/libc.so.5\n#5  0x28402c98 in endhostent () from /lib/libc.so.5\n#6  0x28403479 in _nsdbtput () from /lib/libc.so.5\n#7  0x28429384 in exit () from /lib/libc.so.5\n#8  0x0806a393 in destroy_and_exit_process ()\n#9  0x0806af1e in main ()\n#10 0x0805cef2 in _start ()", "id": 60639, "time": "2004-07-15T13:57:18Z", "bug_id": 30123, "creation_time": "2004-07-15T13:57:18Z", "is_private": false}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "#0  0x00000000 in ?? ()\n#1  0x28c8948c in _init () from /usr/local/lib/nss_winbind.so.1\n#2  0x28c8b6bd in _fini () from /usr/local/lib/nss_winbind.so.1\n\nThe segfault is in the NSS library, not httpd; try reporting this to the FreeBSD\nports bug database.", "id": 60640, "time": "2004-07-15T14:03:35Z", "bug_id": 30123, "creation_time": "2004-07-15T14:03:35Z", "is_private": false}]