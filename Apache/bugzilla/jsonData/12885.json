[{"count": 0, "tags": [], "creator": "alan@coldsmoke.com", "text": "I was able to build apache2.0.40 with mod_ssl today, but only with some \neffort.  I'd like to submit a bug to have the compile page:\n\nhttp://httpd.apache.org/docs-2.0/platform/win_compiling.html\n\nmodified to reflect the experience.  Here are the things I learned:\n\n1)  if compiling mod_ssl, you will need (in addition to awk) bison, flex, and \nsed.  I think this is vital to mention -- I didn't download the SDK, so maybe \nthat's why I was missing bison.  I understood the sentence\n\nThe Platform SDK files distributed with Visual C++ 6.0 and later are \nsufficient, so users of later version may skip this requirement.\n\nto mean \"you don't need to install anything if you're using VC++ 6.0\", so I may \nhave been mistaken.\n\n\n2)  there is a common version of bison compiled natively for windows floating \naround that will give you the error:\n\n/usr/local/share/bison.simple: No such file or directory.\n\n*this is not an apache bug*, but rather a bug in the bison you've downloaded.  \nMy guess is that this is some cygwin deal.  If you grab this guy's bison:\n\nhttp://www.monmouth.com/~wstreett/lex-yacc/lex-yacc.html\n\nyou'll still need bison.simple, but at least it's a non-qualified path, so you \ncan place it into the modules\\ssl directory and it will compile\n\n3)  However, if you use this bison it has at least two more problems:\n\na)  it produces output files named y_tab.h and y_tab.c instead of y.tab.h and \ny.tab.c (that is, with a leading underscore rather than a dot).  I directly \nhacked mod_ssl.mak to use the underscore names and it was fine.\nb)  after you fix this, you'll get the cryptic error:\n\nssl_expr_scan.c\nlex.ssl_expr_yy.c(1753) : error C2143: syntax error : missing ')' before 'consta\nnt'\n\nThis is caused by (I assume) bison doing a \n\n#define str 1\n\nin the file ssl_expr_scan.c and then later (lines 1750 - 1760 passim) trying to \nuse \"str\" as a paramater to the yy_scan_str function.  I changed the \"str\" in \nthe function and parameter to good old \"s\" and things worked fine.\n\nOnce I did these tweaks, I could successfully compile the whole thing.  So my \nprocess was:\n\nstep 1) compile in visual C++ using the InstallBin target until it dies on ssl\nstep 2) manually hack the files as described above\nstep 3) run nmake from the command line:\n\nC:\\build\\httpd-2.0.40\\modules\\ssl>nmake -f mod_ssl.mak CFG=\"mod_ssl - Win32 Debu\ng\" RECURSE=0 .\\Debug\\mod_ssl.so\n\nto get mod_ssl.so to compile\n\nstep 4) go back to VC++ and chose \"build apache.exe\" (not, obviously, \"rebuild\" \nsince it would wipe out my mods in step 3) and everything worked great.\n\n\n\nIt would have saved me a few hours if the page had some war stories on it, \nthough in general this was a pretty easy install :)", "id": 23177, "time": "2002-09-20T23:05:16Z", "bug_id": 12885, "creation_time": "2002-09-20T23:05:16Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 12885, "attachment_id": null, "is_private": false, "id": 23206, "time": "2002-09-21T17:21:32Z", "creator": "alan@coldsmoke.com", "creation_time": "2002-09-21T17:21:32Z", "text": "Heh, there was one additional step to hacking that version of bison.  I had to \nget alloca into the #defines, so I had to modify the check that bison.simple \ndid for MSDOS to include WIN32.\n\nI realize this has gotten pretty long winded :)"}, {"count": 2, "tags": [], "creator": "jan.monsch@iplosion.com", "is_private": false, "text": "G'day!\n\nWe now have version 2.0.45 and the documentation regarding Windows is still very\ninsufficient. The build environment (Building Tools, Configuration) is not\ndescribed enough. A better documentation is appreciated very much...\n\nRegards Jan\n", "id": 36806, "time": "2003-05-07T06:42:28Z", "bug_id": 12885, "creation_time": "2003-05-07T06:42:28Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "towerofpower@operamail.com", "is_private": false, "text": "As far as InstallBin, use BuildBin instead in the IDE.  This will install and \nbuild Apache2, including mod_ssl.\n\nhttp://www.devside.net/index.php?main=server/win32/apacheplus\n\nhttp://www.devside.net\nDeveloperSide.NET", "id": 39809, "time": "2003-07-02T01:50:56Z", "bug_id": 12885, "creation_time": "2003-07-02T01:50:56Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 12885, "attachment_id": null, "is_private": false, "id": 54342, "time": "2004-03-21T18:54:12Z", "creator": "towerofpower@operamail.com", "creation_time": "2004-03-21T18:54:12Z", "text": "Too bad we cannot edit our posts... the link has changed...\n\nhttp://www.devside.net/web/server/win32/apache-ssl-zlib\n\nhttp://www.devside.net\nDeveloperSide.NET"}, {"count": 5, "tags": [], "bug_id": 12885, "attachment_id": null, "text": "The documentation needs to discuss how to configure the build.\n\nThe documentation needs to discuss LDAP. If you do not have LDAP installed, the\nbuild fails since the VC LDAP stub is missing DEFINES that the installation uses.\n\nIt might be easier to follow the build if building from the command line was in\na separate document from building in VC.\n\nThese problems seem to apply to HTTPD-2.2 as well. The \"Using Apache with\nMicrosoft Windows\" for 2.2 refers to itself as 2.0.", "id": 88554, "time": "2006-04-27T12:03:05Z", "creator": "rwheeler@artifact-software.com", "creation_time": "2006-04-27T12:03:05Z", "is_private": false}, {"count": 6, "tags": [], "creator": "wrowe@apache.org", "text": "On two issues here, the primary one - sed/bison/lex - those requirements are\ngoing away altogether.  Regenerating the lexar has been moved to a new .dsp\nproject target, \"Win32 Lexer\" - and disabled in normal Win32 Debug|Release\nbuilds.  Of course, compiling for openssl remains someone complex as one must\nmanage to build openssl first, of course.\n\nThe new issue \"The documentation needs to discuss LDAP. If you do not have LDAP \ninstalled, the build fails since the VC LDAP stub is missing DEFINES that the \ninstallation uses.\"\n\nleft me a bit puzzled.  You are required to have the Platform SDK installed,\nalready documented, so this isn't an issue, right???\n", "id": 88577, "time": "2006-04-27T18:52:39Z", "bug_id": 12885, "creation_time": "2006-04-27T18:52:39Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 12885, "attachment_id": null, "is_private": false, "id": 88624, "time": "2006-04-28T11:46:02Z", "creator": "rwheeler@artifact-software.com", "creation_time": "2006-04-28T11:46:02Z", "text": "wrowe@apache.org said\nThe new issue \"The documentation needs to discuss LDAP. If you do not have LDAP \ninstalled, the build fails since the VC LDAP stub is missing DEFINES that the \ninstallation uses.\"\n\nleft me a bit puzzled.  You are required to have the Platform SDK installed,\nalready documented, so this isn't an issue, right???\n----------------------\nThe docs say that if you are using VC 6, you do not needthe Platform SDK.\nI suspect that the root of the problem may be that there is no Configure step in\nthe Windows build so that you do not get to pick what is installed. \n\n\n"}, {"count": 8, "tags": [], "creator": "wrowe@apache.org", "text": "Correct; since the aprutil project plugged in everything but the kitchen sink,\nfolks using VC6 *do* need to install the PSDK for Apache 2.2 (while Apache 2.0\nonly requires this if building mod_ldap.)  I'll fix this as I add the VS 2005\ndocumentation.  Thanks!", "id": 88635, "time": "2006-04-28T17:27:07Z", "bug_id": 12885, "creation_time": "2006-04-28T17:27:07Z", "is_private": false, "attachment_id": null}, {"count": 9, "text": "I really do need to get 2.2 compiled with ssl in.\nIf you have an outline of a procedure, I would be pleased to test it in a real\nsituation with Windows Server 2003, VC 6++ (I could use VS2005 if you like -\nthis is the only thing I need to do with C++) and the latest openssl(whatever\nversion you want to see tested).\n\n", "creator": "rwheeler@artifact-software.com", "is_private": false, "id": 88642, "time": "2006-04-28T23:37:31Z", "bug_id": 12885, "creation_time": "2006-04-28T23:37:31Z", "tags": [], "attachment_id": null}, {"count": 10, "tags": [], "creator": "davi@apache.org", "is_private": false, "text": "It seems as of 2.2.4 the issues are fixed. If anyone feels this is still an issue,\nplease re-open the bug.\n\nWIN32(+SSL) compiling instructions are available at:\n\nhttp://httpd.apache.org/docs/2.2/platform/win_compiling.html", "id": 104220, "time": "2007-06-08T11:18:48Z", "bug_id": 12885, "creation_time": "2007-06-08T11:18:48Z", "attachment_id": null}]