[{"count": 0, "tags": [], "bug_id": 42261, "attachment_id": null, "id": 102434, "time": "2007-04-26T02:43:42Z", "creator": "laurent.faillie@st.com", "creation_time": "2007-04-26T02:43:42Z", "is_private": false, "text": "Hello,\n\nI successfully configure Apache 2.2.4 on my HP-712 box under a well patched\nHP-UX 11.11\n\nUnfortunately, it seems httpd doesn't work correctly. As example, I'm able to\nget be great \"It works !\" message, but if I'm trying to get an image as\napache_pb.gif, I got a zero sized reply whereas the logs said the image as been\ntransfered (\"GET /apache_pb.gif HTTP/1.1\" 200 2326).\n\nI configured as \n./configure  --enable-info=shared --enable-so --with-included-apr\n--with-expat=builtin --prefix=/projets/depots/apache_tst\n\nand the only modification I made in the standard httpd.conf was to modify the\nport and the user name to run the server.\n\nBest regards,\n\nLaurent"}, {"count": 1, "tags": [], "bug_id": 42261, "attachment_id": null, "id": 102438, "time": "2007-04-26T03:44:42Z", "creator": "trawick@apache.org", "creation_time": "2007-04-26T03:44:42Z", "is_private": false, "text": "Put \"EnableSendfile Off\" in httpd.conf, restart, and try again.\n\nI haven't been able to get sendfile to work on HP-UX/PA-RISC32 (11iv1 or 11iv2)\nwith large file support enabled (like Apache 2.2 has by default).\n"}, {"count": 2, "tags": [], "creator": "laurent.faillie@st.com", "attachment_id": null, "text": "Brillant : it's working. Thanks a lot.\n\nHave you any other clues about apache 2.2 and HP-UX on 32b machines ?\nBecause it creates a core dump if I start it with some configuration files\nenabled (i.e. extra/httpd-autoindex.conf ... quite strange because if I include\nonly this module it's working).\n\nIs 2.2 stable enough under HP-UX for a quite important server ?\n\nThanks\n\nLaurent\n", "id": 102444, "time": "2007-04-26T04:33:16Z", "bug_id": 42261, "creation_time": "2007-04-26T04:33:16Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 42261, "attachment_id": null, "id": 102476, "time": "2007-04-26T07:21:04Z", "creator": "trawick@apache.org", "creation_time": "2007-04-26T07:21:04Z", "is_private": false, "text": ">Is 2.2 stable enough under HP-UX for a quite important server?\n\nIn general, 2.2 is plenty stable.  I haven't done any stress testing of 2.2 on\nHP-UX, but I have done a fair amount of functional testing on HP-UX 11iv1 and\nsome on 11iv2; the only issue I noticed was the sendfile mess.  I wouldn't\nconsider a sendfile issue (which can occur on a number of platforms in varying\ncircumstances) an implication that there are other problems to worry about.\n"}, {"count": 4, "attachment_id": null, "creator": "trawick@apache.org", "is_private": false, "id": 102479, "time": "2007-04-26T07:22:02Z", "bug_id": 42261, "creation_time": "2007-04-26T07:22:02Z", "tags": [], "text": "moving to APR, which owns the interface to the failing sendfile syscall..."}, {"count": 5, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "The core dump at httpd startup sounds bad though - can you file a separate bug\non that, running httpd under gdb to get a backtrace?\n\nI vaguely recall that there was some issue with the HP-UX sendfile64 which I\nnever resolved - the return value was the wrong type or something?", "id": 102541, "time": "2007-04-27T02:21:02Z", "bug_id": 42261, "creation_time": "2007-04-27T02:21:02Z", "is_private": false}, {"count": 6, "tags": [], "creator": "laurent.faillie@st.com", "attachment_id": null, "text": "Hi Joe,\n\nI'm on holiday next week so I'll create a new bug report at my return.\nBut, to be short, apache crashes when I enable extra/httpd-manual.conf.\nIt seems it's when reading the configuration, because if I run \n      bin/apachectl restart\napachectl crashes and the previously running httpd is still running.\n\nI have also another problem with database authentication (bug #40582).\nUnfortunately, my 2 systems lost their system disks ... the same day (black day\nisn't it), and I was too busy to reinstall. Now I'm restarting to work on it.\n\nBye\n\nLaurent\n", "id": 102546, "time": "2007-04-27T05:21:53Z", "bug_id": 42261, "creation_time": "2007-04-27T05:21:53Z", "is_private": false}, {"count": 7, "attachment_id": null, "creator": "laurent.faillie@st.com", "text": "I have created a bug report for the starting problem (#42368)\n\nBye\n\nLaurent", "id": 103004, "time": "2007-05-09T08:23:15Z", "bug_id": 42261, "creation_time": "2007-05-09T08:23:15Z", "tags": [], "is_private": false}, {"count": 8, "tags": [], "bug_id": 42261, "attachment_id": null, "id": 103485, "time": "2007-05-22T02:05:29Z", "creator": "laurent.faillie@st.com", "creation_time": "2007-05-22T02:05:29Z", "is_private": false, "text": "No crash anymore w/ 2.2.4\n"}, {"count": 9, "tags": [], "creator": "laurent.faillie@st.com", "attachment_id": null, "text": "Oups, I made a mistake.\nThis bug is not yet solved.", "id": 103486, "time": "2007-05-22T02:07:21Z", "bug_id": 42261, "creation_time": "2007-05-22T02:07:21Z", "is_private": false}, {"count": 10, "tags": [], "creator": "davi@apache.org", "attachment_id": 20389, "text": "Created attachment 20389\ndefine the _HPUX_SOURCE feature test macro to obtain maximum functionality\n\nThe sendfile function was being used without being declared, because the\n_XOPEN_SOURCE_EXTENDED macro doesn't bring sendfile (and fixups) into the\nnamespace.\n\nTested and passes sendfile tests on:\n\nHP HP-UX 11i 11.11 PA-RISC 8700\nHP HP-UX 11i v3 Itanium II\n\n* After applying the patch, execute ./buildconf", "id": 104637, "time": "2007-06-22T07:51:23Z", "bug_id": 42261, "creation_time": "2007-06-22T07:51:23Z", "is_private": false}, {"count": 11, "attachment_id": null, "creator": "trawick@apache.org", "is_private": false, "id": 104656, "time": "2007-06-23T12:54:53Z", "bug_id": 42261, "creation_time": "2007-06-23T12:54:53Z", "tags": [], "text": "gosh Davi, I guess the real problem for me was that historically I never took\nthe time to find an HP C compiler option to warn about missing prototypes, and\nall the recent staring at the sendfile() prototype myself didn't mean the\ncompiler had even glanced at it :(\n\nthanks!\n\n(I assume that your apache.org account is working by now ;) )\n"}, {"count": 12, "tags": [], "bug_id": 42261, "attachment_id": null, "id": 104660, "time": "2007-06-23T16:26:14Z", "creator": "davi@apache.org", "creation_time": "2007-06-23T16:26:14Z", "is_private": false, "text": "(In reply to comment #11)\n> gosh Davi, I guess the real problem for me was that historically I never took\n> the time to find an HP C compiler option to warn about missing prototypes\n\nLucky enough, I had gcc. Also, we could avoid this happening again in future\nby with a simple compile-time assertion:\n\n(void)(0 && sendfile);\n\n> \n> (I assume that your apache.org account is working by now ;) )\n> \n\nNot yet, it seems to take some time.. there's no hurry.\n\n"}, {"count": 13, "attachment_id": null, "creator": "davi@apache.org", "text": "Committed to trunk as r550877 and backported to 1.2.x in r550989.\n\nhttp://svn.apache.org/viewvc?view=rev&revision=550877\nhttp://svn.apache.org/viewvc?view=rev&revision=550989", "id": 104744, "time": "2007-06-26T16:52:48Z", "bug_id": 42261, "creation_time": "2007-06-26T16:52:48Z", "tags": [], "is_private": false}, {"count": 14, "attachment_id": null, "creator": "trawick@apache.org", "text": "*** Bug 43189 has been marked as a duplicate of this bug. ***", "id": 107086, "time": "2007-08-22T16:46:21Z", "bug_id": 42261, "creation_time": "2007-08-22T16:46:21Z", "tags": [], "is_private": false}, {"count": 15, "tags": [], "bug_id": 42261, "is_private": false, "text": "*** Bug 40497 has been marked as a duplicate of this bug. ***", "id": 109117, "time": "2007-10-08T03:36:35Z", "creator": "trawick@apache.org", "creation_time": "2007-10-08T03:36:35Z", "attachment_id": null}]