[{"count": 0, "tags": [], "bug_id": 9150, "attachment_id": null, "id": 16219, "time": "2002-05-16T07:57:34Z", "creator": "T.Nenninger@alcatel.de", "creation_time": "2002-05-16T07:57:34Z", "is_private": false, "text": "When using the PropertyConfigurator containing a link to a FileAppender and the \npath to the requested log-file does not exist you get internal LOG4J-errors but \nno log-file.\nFrom my point of view there's a bug in the method 'setFile(String file)' in the \nclass 'FileAppender.java'.\n\nI tried to solve the problem and find following solution (only with a few \ntests):\n\n\n...\n  public void setFile(String file)\n  {\n    // Trim spaces from both ends. The users probably does not want\n    // trailing spaces in file names.\n    String val = file.trim();\n    fileName = val;\n\n    File tempFile = new File(fileName);\n    if (!(fileName.equals(\"\")) && (tempFile.getParentFile() != null) && \n(tempFile.getParentFile().mkdirs()))\n    {\n      LogLog.debug(\"Create necessary directories '\"+tempFile.getParentFile()+\"' \nfor log-file '\"+tempFile.getName()+\"'\");\n    }\n\n    if ((!(fileName.equals(\"\"))) && ((tempFile.canWrite() || !(tempFile.exists\n()))))\n    {\n      LogLog.debug(\"Set filename for FileAppender '\"+fileName+\"'\");\n    }\n    else\n    {\n      LogLog.debug(\"Can't set filename for FileAppender to '\"+fileName+\"'; \npossible no write-access or undefined path\");\n      fileName = null;\n    }\n  }\n..."}, {"count": 1, "tags": [], "creator": "mail@ulrich-bode.de", "attachment_id": 6619, "text": "Created attachment 6619\nConsolidate checks for filename in FileAppender", "id": 38315, "time": "2003-06-04T07:52:15Z", "bug_id": 9150, "creation_time": "2003-06-04T07:52:15Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 9150, "attachment_id": null, "id": 68272, "time": "2004-12-10T19:10:46Z", "creator": "yoavs@computer.org", "creation_time": "2004-12-10T19:10:46Z", "is_private": false, "text": "We can't assume log4j will have directory creation permissions, only write \npermissions to the file specified in the configuration.  It's up to the server \nadministrator to control the directory tree.  Hence, RESOLVE/WONTFIX on this \npatch."}, {"count": 3, "tags": [], "bug_id": 9150, "attachment_id": null, "id": 72953, "time": "2005-03-29T03:16:56Z", "creator": "carnold@apache.org", "creation_time": "2005-03-29T03:16:56Z", "is_private": false, "text": "*** Bug 34216 has been marked as a duplicate of this bug. ***"}, {"count": 4, "tags": [], "bug_id": 9150, "attachment_id": null, "id": 76506, "time": "2005-06-17T23:53:02Z", "creator": "carnold@apache.org", "creation_time": "2005-06-17T23:53:02Z", "is_private": false, "text": "Reopening per http://marc.theaimsgroup.com/?t=111901682200002&r=1&w=2"}, {"count": 5, "tags": [], "creator": "mwomack@apache.org", "attachment_id": null, "text": "1.2.12 candidate", "id": 76507, "time": "2005-06-18T00:16:25Z", "bug_id": 9150, "creation_time": "2005-06-18T00:16:25Z", "is_private": false}, {"count": 6, "tags": [], "creator": "carnold@apache.org", "text": "*** Bug 35794 has been marked as a duplicate of this bug. ***", "id": 77455, "attachment_id": null, "bug_id": 9150, "creation_time": "2005-07-19T22:41:45Z", "time": "2005-07-19T22:41:45Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 9150, "text": "Implemented in both 1.2 branch and CVS HEAD.\n\nNot sure what was intended by the \"Consolidate checks for filename\" attachment.  Please refile as different \nbug if a problem persists.", "id": 77588, "time": "2005-07-22T21:55:30Z", "creator": "carnold@apache.org", "creation_time": "2005-07-22T21:55:30Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "creator": "carnold@apache.org", "text": "*** Bug 28836 has been marked as a duplicate of this bug. ***", "id": 88336, "attachment_id": null, "bug_id": 9150, "creation_time": "2006-04-20T21:11:26Z", "time": "2006-04-20T21:11:26Z", "is_private": false}]