[{"count": 0, "tags": [], "bug_id": 38559, "text": "I have an issue with the DailyRollingFileAppender when generating monthly log \nfiles.  Im using log4j version 1.2.8 but the same code is in 1.2.13.\n\nThe log files are generated depending on when the DailyRollingFileAppender \nclass get initialized. For example if the class is initialized at 10:45am on \nsome date then the log files are not generated until 00:45am on first day of \nnext month.\n\nI believe this is caused by the following code in the \nDailyRollingFileAppender.java file:\n\npublic Date getNextCheckDate(Date now) {\n    this.setTime(now);\n\n    switch(type) {\n       case DailyRollingFileAppender.TOP_OF_MONTH:\n\tthis.set(Calendar.DATE, 1);\n\tthis.set(Calendar.HOUR_OF_DAY, 0);\n\tthis.set(Calendar.SECOND, 0);\n\tthis.set(Calendar.MILLISECOND, 0);\n\tthis.add(Calendar.MONTH, 1);\n\tbreak;\n\n...}\n}\n\nIt seems the 'MINUTE' attr is not set to zero:\n\nthis.set(Calendar.MINUTE, 0);\n\nCould someone take a look at this.\n\nThank you for your support,\nManjit", "id": 85563, "attachment_id": null, "creator": "mgrewal@cisco.com", "creation_time": "2006-02-07T21:13:48Z", "time": "2006-02-07T21:13:48Z", "is_private": false}, {"count": 1, "tags": [], "text": "Also would effect weekly rollovers.\n\nCommitted revs 439183 (trunk) and 439184 (1.2 branch).", "attachment_id": null, "bug_id": 38559, "id": 92843, "time": "2006-09-01T05:12:14Z", "creator": "carnold@apache.org", "creation_time": "2006-09-01T05:12:14Z", "is_private": false}, {"count": 2, "tags": [], "creator": "pranay@nvish.com", "attachment_id": null, "is_private": false, "id": 103335, "time": "2007-05-18T07:19:17Z", "bug_id": 38559, "creation_time": "2007-05-18T07:19:17Z", "text": "gfhg"}]