[{"attachment_id": null, "tags": [], "bug_id": 46326, "is_private": false, "count": 0, "id": 123012, "time": "2008-12-02T10:48:08Z", "creator": "paul@andrewscoste.net", "creation_time": "2008-12-02T10:48:08Z", "text": "Use the Remote Cache agent if configured, so that files are checked out from a network-near location during builds.  This is done by using the new support for cache agent which was added in StarTeam 2006 and higher."}, {"count": 1, "tags": [], "text": "Created attachment 23331\norg.apache.tools.ant.taskdefs.optional.starteam.StarTeamCheckout.java\n\norg.apache.tools.ant.taskdefs.optional.starteam.StarTeamCheckout.java\n\nEnhanced to use Starteam MPX Cache Agent optimisations available in StarTeam 2006 SDK and higher.  I've only tested it with the current SDK which is 10.4.  This includes the use the new ServerInfo class to setup the server connection to utilise the Starteam MPX Cache Agent and the use of the CheckoutManager class to optimise the checkout operation.  This class is no longer iterates through the folder tree but relies on StarTeam SDK to get all folder and file references for the entire tree.", "is_private": false, "bug_id": 46326, "id": 125324, "time": "2009-03-04T18:31:47Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-04T18:31:47Z", "attachment_id": 23331}, {"count": 2, "tags": [], "text": "Created attachment 23332\norg.apache.tools.ant.taskdefs.optional.starteam.StarTeamTask.java\n\nA minor change to the StarTeamTask was required when as I overrode the OpenView method in the StarTeamCheckout class.  The OpenView method stated that it saved a copy of the server object but there were no public or protected setter for this object, just the public getter.  I've added a protected setter so that objects that inherit from StarTeamTask can update the reference to the server object which is required as part of the OpenView method.", "is_private": false, "bug_id": 46326, "id": 125325, "time": "2009-03-04T18:37:42Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-04T18:37:42Z", "attachment_id": 23332}, {"attachment_id": 23334, "tags": [], "creator": "john@ballment.homeip.net", "text": "Created attachment 23334\nAdd protected setter for Server attribute so that openView method can be overridden.", "count": 3, "id": 125332, "time": "2009-03-05T01:11:23Z", "bug_id": 46326, "creation_time": "2009-03-05T01:11:23Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 46326, "text": "Created attachment 23335\nAdded methods to use Promotion states from Paul Coste", "id": 125333, "time": "2009-03-05T01:12:33Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-05T01:12:33Z", "is_private": false, "attachment_id": 23335}, {"count": 5, "tags": [], "bug_id": 46326, "attachment_id": 23336, "text": "Created attachment 23336\nComplete rewrite to use Starteam 2008 SDK and it's advance features including cache agents, compression, encryption and delta checkouts", "id": 125334, "time": "2009-03-05T01:14:20Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-05T01:14:20Z", "is_private": false}, {"count": 6, "tags": [], "text": "Created attachment 23338\nBugs 39926, 46326, 46327, 40995 - Enhanced connectivity and caching", "attachment_id": 23338, "id": 125348, "creator": "john@ballment.homeip.net", "time": "2009-03-05T18:25:03Z", "bug_id": 46326, "creation_time": "2009-03-05T18:25:03Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 46326, "attachment_id": 23339, "id": 125349, "time": "2009-03-05T18:25:38Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-05T18:25:38Z", "is_private": false, "text": "Created attachment 23339\nBugs 39926, 46326, 46327, 40995 - Enhanced connectivity and caching"}, {"count": 8, "tags": [], "bug_id": 46326, "attachment_id": 23340, "id": 125350, "time": "2009-03-05T18:26:05Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-05T18:26:05Z", "is_private": false, "text": "Created attachment 23340\nBugs 39926, 46326, 46327, 40995 - Enhanced connectivity and caching"}, {"attachment_id": 23341, "tags": [], "bug_id": 46326, "is_private": false, "count": 9, "id": 125351, "time": "2009-03-05T18:26:26Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-05T18:26:26Z", "text": "Created attachment 23341\nBugs 39926, 46326, 46327, 40995 - Enhanced connectivity and caching"}, {"count": 10, "tags": [], "text": "Created attachment 23342\nBugs 39926, 46326, 46327, 40995 - Enhanced connectivity and caching", "is_private": false, "bug_id": 46326, "id": 125352, "time": "2009-03-05T18:26:46Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-05T18:26:46Z", "attachment_id": 23342}, {"attachment_id": 23343, "tags": [], "bug_id": 46326, "is_private": false, "count": 11, "id": 125353, "time": "2009-03-05T18:27:22Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-05T18:27:22Z", "text": "Created attachment 23343\nBugs 39926, 46326, 46327, 40995 - Enhanced connectivity and caching"}, {"count": 12, "tags": [], "bug_id": 46326, "attachment_id": 23344, "text": "Created attachment 23344\nBugs 39926, 46326, 46327, 40995 - Enhanced connectivity and caching", "id": 125354, "time": "2009-03-05T18:27:55Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-05T18:27:55Z", "is_private": false}, {"count": 13, "tags": [], "text": "Bugs 39926, 46326, 46327, 40995 - Enhanced connectivity and caching", "attachment_id": null, "id": 125355, "creator": "john@ballment.homeip.net", "time": "2009-03-05T18:28:36Z", "bug_id": 46326, "creation_time": "2009-03-05T18:28:36Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 46326, "is_private": false, "count": 14, "id": 125363, "time": "2009-03-05T23:33:13Z", "creator": "jkf@apache.org", "creation_time": "2009-03-05T23:33:13Z", "text": "*** Bug 39926 has been marked as a duplicate of this bug. ***"}, {"count": 15, "tags": [], "text": "*** Bug 46327 has been marked as a duplicate of this bug. ***", "is_private": false, "bug_id": 46326, "id": 125365, "time": "2009-03-05T23:33:56Z", "creator": "jkf@apache.org", "creation_time": "2009-03-05T23:33:56Z", "attachment_id": null}, {"count": 16, "tags": [], "bug_id": 46326, "text": "*** Bug 40995 has been marked as a duplicate of this bug. ***", "id": 125367, "time": "2009-03-05T23:34:30Z", "creator": "jkf@apache.org", "creation_time": "2009-03-05T23:34:30Z", "is_private": false, "attachment_id": null}, {"count": 17, "tags": [], "bug_id": 46326, "attachment_id": 23359, "text": "Created attachment 23359\nStarTeamCheckout.java - Bugs 15093, 33507, 39926, 46326, 46327, 40995 - Enhanced connectivity and caching\n\nAdded fix for bug 33507 - Mark unlocked files as Read-Only.  There are three options, true, false and project.  Project checks the project settings for its default.", "id": 125427, "time": "2009-03-09T00:04:41Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-09T00:04:41Z", "is_private": false}, {"count": 18, "tags": [], "bug_id": 46326, "attachment_id": 23360, "text": "Created attachment 23360\nStarTeamTask.java - Bugs 15093, 33507, 39926, 46326, 46327, 40995 - Enhanced connectivity and caching", "id": 125428, "time": "2009-03-09T00:05:51Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-09T00:05:51Z", "is_private": false}, {"count": 19, "tags": [], "bug_id": 46326, "attachment_id": null, "text": "Added extra functionality to support encrypt passwords for case 46327 via Borland's SDK Utilities.  The EncryptPassword.jar can be extract from the Borland SDK Utilities which can be downloaded from http://support.borland.com/community/index.php?t=getfile&id=177.", "id": 125429, "time": "2009-03-09T00:09:07Z", "creator": "john@ballment.homeip.net", "creation_time": "2009-03-09T00:09:07Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 46326, "is_private": false, "count": 20, "id": 130616, "time": "2009-09-23T09:04:38Z", "creator": "kevin.ketchum@mckesson.com", "creation_time": "2009-09-23T09:04:38Z", "text": "When you use the StarTeam BCO option, it reports how log the checkout takes (in seconds), in addition the the # of files and total byte counts.\n\nI would like to see this same info in the output of stcheckout.  This would help during 'slow builds' troubleshooting."}, {"count": 21, "tags": [], "bug_id": 46326, "text": "Tested the following 'logOnProvider' option:\nlogOnProvider=\"org.apache.tools.ant.taskdefs.optional.starteam.StarTeamAutoLogOn\"\n1. Logged into GUI and ensured StarTeam ToolBar had cached my creds.\n2. Ran ant checkout\n3. Server Log shows login with my cached login name\n4. Logged on as a different user (chose the save creds option in Log On As... dialog) \n5. Ran ant checkout\n6. Server Log shows login with newly cached login name\n\n7. Killed StarTeam ToolBar - ensuring nothing was cached.\n8. Ran ant checkout\n9. Got this error - \n   build.xml:19: The following error occurred while executing this line:\n   build.xml:59: Unable to find root folder build in repository at starteamapp:49260/Test Project/Test View\n\nI beleive that an error indicating ant can't find/use cached starteam credentials should be displayed and the process to halt then, rather than continuing.", "id": 130618, "time": "2009-09-23T09:47:07Z", "creator": "kevin.ketchum@mckesson.com", "creation_time": "2009-09-23T09:47:07Z", "is_private": false, "attachment_id": null}, {"count": 22, "tags": [], "text": "Testing the STEncryptPassword task.\nIf I use the attribute of 'passwordFile'(as noted in the documentation), I get this error:\nbuild.xml:93: stencryptpassword doesn't support the \"passwordFile\" attribute\n\nLooking it the code, it shows I need to use the attribute of 'filename'.  When I use 'filename', I no longer get that error.", "attachment_id": null, "id": 130629, "creator": "kevin.ketchum@mckesson.com", "time": "2009-09-23T12:49:49Z", "bug_id": 46326, "creation_time": "2009-09-23T12:49:49Z", "is_private": false}, {"count": 23, "tags": [], "bug_id": 46326, "attachment_id": null, "id": 130647, "time": "2009-09-24T08:47:19Z", "creator": "kevin.ketchum@mckesson.com", "creation_time": "2009-09-24T08:47:19Z", "is_private": false, "text": "(In reply to comment #22)\n> Testing the STEncryptPassword task.\n> If I use the attribute of 'passwordFile'(as noted in the documentation), I get\n> this error:\n> build.xml:93: stencryptpassword doesn't support the \"passwordFile\" attribute\n> Looking it the code, it shows I need to use the attribute of 'filename'.  When\n> I use 'filename', I no longer get that error.\n\nJohn's most recent version has corrected this - 'passwordFile' now works"}, {"count": 24, "tags": [], "bug_id": 46326, "attachment_id": null, "id": 130648, "time": "2009-09-24T08:48:21Z", "creator": "kevin.ketchum@mckesson.com", "creation_time": "2009-09-24T08:48:21Z", "is_private": false, "text": "(In reply to comment #20)\n> When you use the StarTeam BCO option, it reports how log the checkout takes (in\n> seconds), in addition the the # of files and total byte counts.\n> I would like to see this same info in the output of stcheckout.  This would\n> help during 'slow builds' troubleshooting.\n\nJohn's most recent version now includes total checkout time (in ms).  Looks good."}, {"count": 25, "tags": [], "text": "(In reply to comment #19)\n> Added extra functionality to support encrypt passwords for case 46327 via\n> Borland's SDK Utilities.  The EncryptPassword.jar can be extract from the\n> Borland SDK Utilities which can be downloaded from\n> http://support.borland.com/community/index.php?t=getfile&id=177.\n\nThis link no longer works - You'll have to open a Borland (microfocus) case and request a link to download this.", "attachment_id": null, "id": 130649, "creator": "kevin.ketchum@mckesson.com", "time": "2009-09-24T08:50:53Z", "bug_id": 46326, "creation_time": "2009-09-24T08:50:53Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 46326, "is_private": false, "count": 26, "id": 130651, "time": "2009-09-24T09:06:27Z", "creator": "kevin.ketchum@mckesson.com", "creation_time": "2009-09-24T09:06:27Z", "text": "(In reply to comment #21)\n> Tested the following 'logOnProvider' option:\n> logOnProvider=\"org.apache.tools.ant.taskdefs.optional.starteam.StarTeamAutoLogOn\"\n> 1. Logged into GUI and ensured StarTeam ToolBar had cached my creds.\n> 2. Ran ant checkout\n> 3. Server Log shows login with my cached login name\n> 4. Logged on as a different user (chose the save creds option in Log On As...\n> dialog) \n> 5. Ran ant checkout\n> 6. Server Log shows login with newly cached login name\n> 7. Killed StarTeam ToolBar - ensuring nothing was cached.\n> 8. Ran ant checkout\n> 9. Got this error - \n>    build.xml:19: The following error occurred while executing this line:\n>    build.xml:59: Unable to find root folder build in repository at\n> starteamapp:49260/Test Project/Test View\n> I beleive that an error indicating ant can't find/use cached starteam\n> credentials should be displayed and the process to halt then, rather than\n> continuing.\n\nJohn's most recent version now includes an error line that indicates that credentials are not cached.  This looks good."}, {"attachment_id": null, "tags": [], "bug_id": 46326, "is_private": false, "count": 27, "id": 130921, "time": "2009-10-06T16:00:22Z", "creator": "kevin.ketchum@mckesson.com", "creation_time": "2009-10-06T16:00:22Z", "text": "Completed testing of the general login/authentication steps\nI believe I tested all variations of the options (include all/some options, all options correct/some correct, etc)\n\nThe following conditions generate exceptions and could be captured, to provide better error messages:\n=========================================================\nTesting EncryptLogOn login using wrong password file name - I defined a non-existant password file.\n\nGenerates this Exception: \njava.lang.Exception: Unable to open input file 'pwfile1.pwf'\n...and a bunch more dump data\n\n=========================================================\nTesting EncryptLogOn login omitting username - I didn't include the username parameter\n\nGenerates this Exception: \njava.lang.Exception: User ID does not match encrytped user ID read from input file 'pwfile.pwf'\n...and a bunch more dump data\n\n=========================================================\nTesting EncryptLogOn login omitting password file  - I didn't include the passwordFile parameter\n\nGenerates this Exception: \njava.lang.NullPointerException\n\tat java.io.FileInputStream.<init>(FileInputStream.java:103)\n\tat java.io.FileInputStream.<init>(FileInputStream.java:66)\n\tat java.io.FileReader.<init>(FileReader.java:41)\n\tat borlandutilities.EncryptPassword.decrypt(EncryptPassword.java:199)\n        ...and a bunch more\n\n========================================================="}, {"count": 28, "tags": [], "text": "Tested DefaultLogOn login and omitted username\n\nGot the following output:\nBUILD FAILED\nUnable to find root folder Release Notes in repository at starteamapp:49260/TestArea/ant_test\n\nInstead, I should have seen an error that I needed to provide a usename.", "is_private": false, "bug_id": 46326, "id": 130922, "time": "2009-10-06T16:20:47Z", "creator": "kevin.ketchum@mckesson.com", "creation_time": "2009-10-06T16:20:47Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 46326, "is_private": false, "count": 29, "id": 130946, "time": "2009-10-07T10:08:23Z", "creator": "kevin.ketchum@mckesson.com", "creation_time": "2009-10-07T10:08:23Z", "text": "(In reply to comment #27)\n> Completed testing of the general login/authentication steps\n> I believe I tested all variations of the options (include all/some options, all\n> options correct/some correct, etc)\n> The following conditions generate exceptions and could be captured, to provide\n> better error messages:\n> =========================================================\n> Testing EncryptLogOn login using wrong password file name - I defined a\n> non-existant password file.\n> Generates this Exception: \n> java.lang.Exception: Unable to open input file 'pwfile1.pwf'\n> ...and a bunch more dump data\n> =========================================================\n> Testing EncryptLogOn login omitting username - I didn't include the username\n> parameter\n> Generates this Exception: \n> java.lang.Exception: User ID does not match encrytped user ID read from input\n> file 'pwfile.pwf'\n> ...and a bunch more dump data\n> =========================================================\n> Testing EncryptLogOn login omitting password file  - I didn't include the\n> passwordFile parameter\n> Generates this Exception: \n> java.lang.NullPointerException\n>     at java.io.FileInputStream.<init>(FileInputStream.java:103)\n>     at java.io.FileInputStream.<init>(FileInputStream.java:66)\n>     at java.io.FileReader.<init>(FileReader.java:41)\n>     at borlandutilities.EncryptPassword.decrypt(EncryptPassword.java:199)\n>         ...and a bunch more\n> =========================================================\n\n\nRetested this issues with newest version - all looks good."}, {"count": 30, "tags": [], "bug_id": 46326, "attachment_id": null, "text": "(In reply to comment #28)\n> Tested DefaultLogOn login and omitted username\n> Got the following output:\n> BUILD FAILED\n> Unable to find root folder Release Notes in repository at\n> starteamapp:49260/TestArea/ant_test\n> Instead, I should have seen an error that I needed to provide a usename.\n\nRetested with newest version - now looks good.", "id": 130947, "time": "2009-10-07T10:09:05Z", "creator": "kevin.ketchum@mckesson.com", "creation_time": "2009-10-07T10:09:05Z", "is_private": false}, {"count": 31, "attachment_id": 24375, "creator": "kevin.ketchum@mckesson.com", "text": "Created attachment 24375\nResults of testing all starteam login options within the ant task\n\nReview test description.etc.txt in the zip file for more info.", "id": 131111, "time": "2009-10-13T11:02:36Z", "bug_id": 46326, "creation_time": "2009-10-13T11:02:36Z", "tags": [], "is_private": false}, {"count": 32, "tags": [], "text": "Tested nearly all of the stcheckout flags/parameters. \nHere is a list of issues I have found:\n\n1. Force option works differently from current stcheckout.  \t\t\n\tForce on new ant does checkout all files. - though note the issue above\t\n\n\t\tBuildfile: stCheckout.stcheckout.3.xml\n\t\t\n\t\tstarteam-test:\n\t\t     [echo] Try pointing to a disk path that doesn't exist on PC - it should be created automatically.\n\t\t[stcheckout] Recursive Checkout from: CM - Archive\\Release Notes\\\n\t\t[stcheckout]   Checking out to(default): C:\\Data\\ant bco checkout testing\\run_out\\Release Notes\n\t\t[stcheckout]   StarTeam Log On provider being used is org.apache.tools.ant.taskdefs.optional.starteam.StarTeamDefaultLogOn\n\t\t[stcheckout]   Unlocked Files will be marked as Read Only if this option has been checked in the Project properties.\n\t\t[stcheckout]   Items will be checked out with no change in lock status.\n\t\t[stcheckout]   Items will be checked out with the current timestamp.\n\t\t[stcheckout]   Items will be checked out regardless of repository status.\n\t\t[stcheckout]   Local items not found in the repository will be deleted.\n\t\t[stcheckout]   Items will be checked out using the local machine's EOL convention\n\t\t[stcheckout]   Directories will be created wherever they exist in the repository, even if empty.\n\t\t[stcheckout] Checked out CM - Archive\\Release Notes\\test.file 1.0 --> C:\\ant_testing\\Release Notes\\test.file\n\t\t[stcheckout] Checked out CM - Archive\\Release Notes\\ReleaseNotes-20-0-15-0.doc 1.3 --> C:\\ant_testing\\Release Notes\\ReleaseNotes-20-0-15-0.doc\n\t\t[stcheckout] Total files failed check out: 0\n\t\t\u2026.\n\t\t[stcheckout] Total time (ms): 6016\n\t\t\n\t\tBUILD SUCCESSFUL\n\t\tTotal time: 16 seconds\n\n\tForce on current ant doesn't checkout all files, only those that are modified, merge, etc\t\n\n\t\tBuildfile: stCheckout.stcheckout.3.xml\n\t\t\n\t\tstarteam-test:\n\t\t     [echo] Try pointing to a disk path that doesn't exist on PC - it should be created automatically.\n\t\t[stcheckout] Recursive Checkout from: CM - Archive\\Release Notes\\\n\t\t[stcheckout]   Checking out to(default): C:\\Data\\ant bco checkout testing\\run_out\\Release Notes\n\t\t[stcheckout]   Items will be checked out with no change in lock status.\n\t\t[stcheckout]   Items will be checked out with the current timestamp.\n\t\t[stcheckout]   Items will be checked out regardless of repository status.\n\t\t[stcheckout]   Local items not found in the repository will be deleted.\n\t\t[stcheckout]   Items will be checked out using the local machine's EOL convention\n\t\t[stcheckout]   Directories will be created wherever they exist in the repository, even if empty.\n\t\t[stcheckout] Checking out: CM - Archive\\Release Notes\\ReleaseNotes-20-0-15-0.doc --> C:\\ant_testing\\Release Notes\\ReleaseNotes-20-0-15-0.doc\n\t\t[stcheckout] Skipping: CM - Archive\\Release Notes\\ReleaseNotes-20-0-27-0.doc - status: Current\n\t\t[stcheckout] Skipping: CM - Archive\\Release Notes\\ReleaseNotes-20-0-25-0.doc - status: Current\n\t\t\n\t\tBUILD SUCCESSFUL\n\t\tTotal time: 11 seconds\n\n\n2. Checkout path is wrong in header description:\t\t\n\tThe 'Checking out to' path shown is different that then actual checked out path - also, please put a space between 'to' and '(' in the 'Checking out' line\t\n\tIn the lines shown below beginning with *, this is demonstrated:\t\n\t\tstarteam-test:\n\t\t     [echo] Try pointing to a disk path that doesn't exist on PC - it should be created automatically.\n\t\t[stcheckout] Recursive Checkout from: CM - Archive\\Release Notes\\\n\t\t*[stcheckout]   Checking out to(default): C:\\Data\\ant bco checkout testing\\run_out\\Release Notes\n\t\t[stcheckout]   StarTeam Log On provider being used is org.apache.tools.ant.taskdefs.optional.starteam.StarTeamDefaultLogOn\n\t\t[stcheckout]   Unlocked Files will be marked as Read Only if this option has been checked in the Project properties.\n\t\t[stcheckout]   Items will be checked out with no change in lock status.\n\t\t[stcheckout]   Items will be checked out with the current timestamp.\n\t\t[stcheckout]   Items will be checked out in accordance with repository status.\n\t\t[stcheckout]   Local items not found in the repository will be deleted.\n\t\t[stcheckout]   Items will be checked out using the local machine's EOL convention\n\t\t[stcheckout]   Directories will be created wherever they exist in the repository, even if empty.\n\t\t*[stcheckout] SKIP Checked out of CM - Archive\\Release Notes\\ReleaseNotes-20-0-15-0.doc 1.3 --> C:\\ant_testing\\Release Notes\\ReleaseNotes-20-0-15-0.doc\n\t\t\n3. Createworkingdirs doesn't appear to work\t\t\n\tHere is the script I called, pointing to an emptry folder and subfolder:\t\n\t\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t\t<project name=\"bootstrap\" default=\"starteam-test\" basedir=\".\">\n\t\t<target name=\"starteam-test\">\n\t\t<!--C:\\build_tools\\apache-ant-1.7.0\\bin\\ant-->\n\t\t<echo message=\"Test createworkingdirs=true - by including obscure file and doing recursive checkout - delete checkout directory first\"/>\n\t\t<stcheckout\n\t\t    servername=\"starteamapp\"\n\t\t    serverport=\"49260\"\n\t\t    projectname=\"TestArea\"\n\t\t    viewname=\"ant_test\"\n\t\t    rootstarteamfolder=\"empty folder\"\n\t\t    username=\"testuser4\"\n\t\t    password=\"StarTeam1\"\n\t\t    createworkingdirs=\"true\"\n\t\t    includes=\"*\"\n\t\t    recursive=\"true\"\n\n\t\t/>\n\t\t</target>\n\t\t</project>\n\n\tIt didn't create the folders\t\n\t\t    [echo] Test createworkingdirs=true - by including obscure file and doing recursive checkout - delete checkout directory first\n\t\t[stcheckout] Recursive Checkout from: CM - Archive\\empty folder\\\n\t\t[stcheckout]   Checking out to(default): C:\\Data\\ant bco checkout testing\\run_out\\empty folder\n\t\t[stcheckout]   StarTeam Log On provider being used is org.apache.tools.ant.taskdefs.optional.starteam.StarTeamDefaultLogOn\n\t\t[stcheckout]   Unlocked Files will be marked as Read Only if this option has been checked in the Project properties.\n\t\t[stcheckout]   Items will be checked out with no change in lock status.\n\t\t[stcheckout]   Items will be checked out with the current timestamp.\n\t\t[stcheckout]   Items will be checked out in accordance with repository status.\n\t\t[stcheckout]   Local items not found in the repository will be deleted.\n\t\t[stcheckout]   Items will be checked out using the local machine's EOL convention\n\t\t[stcheckout]   Directories will be created wherever they exist in the repository, even if empty.\n\t\t[stcheckout] Total files failed check out: 0\n\t\t\u2026\n\t\t[stcheckout] Total time (ms): 0\n\n\tIf I run the analogous command from BCO, the folders are created\t\n\t\tbco -p \"testuser4:StarTeam1@starteamapp:49260/testArea/ant_test/empty folder/\" -is -vb -o -cwf\n\t\tStarTeam BulkCheckOut Utility version 10.4.1\n\t\tCopyright (c) 2004-2008 Borland Software Corporation. All rights reserved.\n\t\tLogged-on as user: testuser4\n\t\tUsing project: TestArea\n\t\tUsing view: ant_test\n\t\tWorking folder created: C:\\ant_testing\\empty folder\\\n\t\tWorking folder created: C:\\ant_testing\\empty folder\\empty subfolder\\\n\t\tExamining folder: CM - Archive\\empty folder\\\n\t\tExamining folder: CM - Archive\\empty folder\\empty subfolder\\\n\t\tNo files to check-out.\n\t\tNo files found matching pattern '*'\n\t\tReturn code: 102\n\n4. Should includes and excludes be case sensitive? Perhaps a 'casesensitive' flag should be added (like the FileSet option in Ant).\t\t\n\n5. Label checkout only checks out older version if force=true.\t\t\n\tThe problem here is that force=true also checks every other file.  Label checkout should checkout previous versions without having to set force=true.\t\n\tThis works the same as BCO, but BCO provides the -filter option, which would allow you to omit the 'current files\t\n\tNOTE: Force option works differently from current stcheckout version - it seems to apply the filter automatically and not checkout current files\t\n\n6. Promotion State checkout only checks out older version if force=true.\t\t\n\tThe problem here is that force=true also checks every other file.  Promotion State checkout should checkout previous versions without having to set force=true.\t\n\tThis works the same as BCO, but BCO provides the -filter option, which would allow you to omit the 'current files\t\n\tIMO - the promotion state should be displayed in the output. - the label that is assigned to the promotion state could be displayed as well.\t\n\n7. Promotion State providing bogus value doesn't fail.\t\t\n\tSome sort of checkout still happens\t\n\t\tstarteam-test:\n\t\t     [echo] Test promotionState=Bogus - test should fail\n\t\t[stcheckout] Recursive Checkout from: CM - Archive\\Release Notes\\\n\t\t[stcheckout]   Checking out to(default): C:\\Data\\ant bco checkout testing\\run_out\\Release Notes\n\t\t[stcheckout]   StarTeam Log On provider being used is org.apache.tools.ant.taskdefs.optional.starteam.StarTeamDefaultLogOn\n\t\t[stcheckout]   Unlocked Files will be marked as Read Only if this option has been checked in the Project properties.\n\t\t[stcheckout]   Items will be checked out with no change in lock status.\n\t\t[stcheckout]   Items will be checked out with the current timestamp.\n\t\t[stcheckout]   Items will be checked out in accordance with repository status.\n\t\t[stcheckout]   Local items not found in the repository will be deleted.\n\t\t[stcheckout]   Items will be checked out using the local machine's EOL convention\n\t\t[stcheckout]   Directories will be created wherever they exist in the repository, even if empty.\n\t\t[stcheckout] SKIP Checked out of CM - Archive\\Release Notes\\ReleaseNotes-20-0-15-0.doc 1.3 --> C:\\ant_testing\\Release Notes\\ReleaseNotes-20-0-15-0.doc\n\t\t[stcheckout] SKIP Checked out of CM - Archive\\Release Notes\\ReleaseNotes-20-0-20-0.doc 1.0 --> C:\\ant_testing\\Release Notes\\ReleaseNotes-20-0-20-0.doc\n\t\t[stcheckout] Total files failed check out: 0\n\t\t\u2026\n\t\t[stcheckout] Total time (ms): 0\n\n8. Test asofdate with incorrect date format - used bogus date/time of 2009-19-25T8:16:13 (month = 19)\n\tInstead of telling me date is not a valid date, I got this error:\t\n\t\tUnable to find root folder Release Notes in repository at starteamapp:49260/TestArea/ant_test as of specified date 2009-19-25T8:16:13\n\t\t\n9. Test convertEOL=false option\tfailed I think..\n\tI have a file with non-recoginized EOLs (created with VI on linux and scp'd to PC then checked into StarTeam.\t\n\tWhen I check it out without defining convertEOL or setting convertEOL=true it converts the EOL (as expected)\t\n\t\tItems will be checked out using the local machine's EOL convention\n\tHowever, with I check it out with convertEOL=false, it converts EOL too.  Here is the line in the ant checkout that indicates what it should do:\t\n\t\tItems will be checked out without changing the EOL convention used on the server\n\tAnother point - I do NOT have the 'Automatic EOL conversion for check-out operations checked.", "attachment_id": null, "id": 131112, "creator": "kevin.ketchum@mckesson.com", "time": "2009-10-13T11:24:29Z", "bug_id": 46326, "creation_time": "2009-10-13T11:24:29Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 46326, "is_private": false, "count": 33, "id": 131113, "time": "2009-10-13T12:28:09Z", "creator": "kevin.ketchum@mckesson.com", "creation_time": "2009-10-13T12:28:09Z", "text": "Another checkout test issue. When testing checkout with user that doesn't have permissions to checkout, you get an error indicating such, but you also get a additional, unneeded StackTrace info (this also happens on file checkin)\n\n[stcheckout] Recursive Checkout from: CM - Archive\\Release Notes\\\n[stcheckout]   Checking out to(default): C:\\Data\\ant bco checkout testing\\run_out\\Release Notes\n[stcheckout]   StarTeam Log On provider being used is org.apache.tools.ant.taskdefs.optional.starteam.StarTeamDefaultLogOn\n[stcheckout]   StarTeam delta checkout is turned on \n[stcheckout]   Unlocked Files will be marked as Read Only if this option has been checked in the Project properties.\n[stcheckout]   Items will be checked out with no change in lock status.\n[stcheckout]   Items will be checked out with the current timestamp.\n[stcheckout]   Items will be checked out regardless of repository status.\n[stcheckout]   Local items not found in the repository will be deleted.\n[stcheckout]   Items will be checked out using the local machine's EOL convention\n[stcheckout]   Directories will be created wherever they exist in the repository, even if empty.\n\nBUILD FAILED\nYou do not have access rights to perform this operation. If you need access, contact your administrator.\n\tat com.starbase.starteam.ServerException.wrap(Unknown Source)\n\tat com.starbase.starteam.Server.wrap(Unknown Source)\n\tat com.starbase.starteam.CheckoutManager.checkout(Unknown Source)\n\tat org.apache.tools.ant.taskdefs.optional.starteam.StarTeamCheckout.visit(StarTeamCheckout.java:500)\n\tat org.apache.tools.ant.taskdefs.optional.starteam.TreeBasedTask.execute(TreeBasedTask.java:725)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)"}, {"attachment_id": null, "tags": [], "bug_id": 46326, "is_private": false, "count": 34, "id": 131122, "time": "2009-10-14T09:54:59Z", "creator": "kevin.ketchum@mckesson.com", "creation_time": "2009-10-14T09:54:59Z", "text": "I have tested nearly all of the stcheckin flags/parameters. \nHere is a list of issues I have found (I have a couple more tests to run after adduncontrolled parameter works):\n\n1. The checkin task is nearly always showing that 'Items will be checked in regardless of repository status only if locked.'\t\t\n\tSee the line beginning with * below - I have not set the project option of 'Require exclusive lock when files are checked in' though it seems to think so.\t\n\t\tBuildfile: stcheckin.stcheckin.6.xml\n\n\t\tstarteam-test:\n\t\t     [echo] Check in a file that doesn't currently exist - adduncontrolled=true should work \n\t\t[stcheckin] Non-recursive Checkin from (default): C:\\Data\\ant bco checkout testing\\run_out\\checkin\n\t\t[stcheckin] Checking in to: CM - Archive\\checkin\\\n\t\t[stcheckin]   Includes specified: newfileaddtest.txt\n\t\t[stcheckin]   Items will be checked in with no change in lock status.\n\t\t*[stcheckin]   Items will be checked in regardless of repository status only if locked.\n\t\t[stcheckin] Excluding CM - Archive\\checkin\\checkin_good.txt\n\n\t\tBUILD SUCCESSFUL\n\n\n2. Check in to a good location in StarTeam using user w/o access rights to checkin files\t\t\n\tStackTrace shouldn't be shown\t\n\t\tBuildfile: stcheckin.stcheckin.3.xml\n\n\t\tstarteam-test:\n\t\t     [echo] Check in to a good location in StarTeam using user w/o access rights to checkin files\n\t\t[stcheckin] Non-recursive Checkin from (default): C:\\Data\\ant bco checkout testing\\run_out\\checkin\n\t\t[stcheckin] Checking in to: CM - Archive\\checkin\\\n\t\t[stcheckin]   Includes specified: checkin_good.txt\n\t\t[stcheckin]   Items will be checked in with no change in lock status.\n\t\t[stcheckin]   Items will be checked in regardless of repository status only if locked.\n\t\t[stcheckin] Checking in: C:\\ant_testing\\checkin\\checkin_good.txt --> CM - Archive\\checkin\\checkin_good.txt\n\n\t\tBUILD FAILED\n\t\tYou do not have access rights to perform this operation. If you need access, contact your administrator.\n\t\tat com.starbase.starteam.ServerException.wrap(Unknown Source)\n\t\tat com.starbase.starteam.Server.wrap(Unknown Source)\n\t\tat com.starbase.starteam.File.checkin(Unknown Source)\n\t\tat org.apache.tools.ant.taskdefs.optional.starteam.StarTeamCheckin.processFile(StarTeamCheckin.java:308)\n\t\tat org.apache.tools.ant.taskdefs.optional.starteam.StarTeamCheckin.visit(StarTeamCheckin.java:233)\n\t\tat org.apache.tools.ant.taskdefs.optional.starteam.TreeBasedTask.execute(TreeBasedTask.java:725)\n\t\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\t\tat java.lang.reflect.Method.invoke(Method.java:597)\n\t\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n\t\tat org.apache.tools.ant.Task.perform(Task.java:348)\n\t\tat org.apache.tools.ant.Target.execute(Target.java:357)\n\t\tat org.apache.tools.ant.Target.performTasks(Target.java:385)\n\t\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337)\n\t\tat org.apache.tools.ant.Project.executeTarget(Project.java:1306)\n\t\tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n\t\tat org.apache.tools.ant.Project.executeTargets(Project.java:1189)\n\t\tat org.apache.tools.ant.Main.runBuild(Main.java:758)\n\t\tat org.apache.tools.ant.Main.startAnt(Main.java:217)\n\t\tat org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\n\t\tat org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\n\n\t\tTotal time: 15 seconds\n\n\n3. Check in a file that doesn't currently exist in StarTeam - adduncontrolled=true should add the file - but file was not added.\t\t\n\tFYI: The current version of Ant behaves the same way\t\n\tHere are the ant log file contents:\t\n\t\tBuildfile: stcheckin.stcheckin.7.xml\n\n\t\tstarteam-test:\n\t\t     [echo] Check in a file that doesn't currently exist - adduncontrolled=true should work \n\t\t[stcheckin] Non-recursive Checkin from (default): C:\\Data\\ant bco checkout testing\\run_out\\checkin\n\t\t[stcheckin] Checking in to: CM - Archive\\checkin\\\n\t\t[stcheckin]   Includes specified: newfileaddtest.txt\n\t\t[stcheckin]   Items will be checked in with no change in lock status.\n\t\t[stcheckin]   Items will be checked in regardless of repository status only if locked.\n\t\t[stcheckin] Excluding CM - Archive\\checkin\\checkin_good.txt\n\t\t[stcheckin] Excluding CM - Archive\\checkin\\checkin_good1.txt\n\t\t[stcheckin] Excluding CM - Archive\\checkin\\checkin_good2.txt\n\n\t\tBUILD SUCCESSFUL\n\t\tTotal time: 14 seconds\n\n\tHere is the ant script\t\n\t\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t\t<project name=\"bootstrap\" default=\"starteam-test\" basedir=\".\">\n\t\t<target name=\"starteam-test\">\n\t\t<echo message=\"Check in a file that doesn't currently exist - adduncontrolled=true should work \"/>\n\t\t<!--C:\\build_tools\\apache-ant-1.7.0\\bin\\ant-->\n\t\t<stcheckin\n\t\t    servername=\"starteamapp\"\n\t\t    serverport=\"49260\"\n\t\t    projectname=\"testArea\"\n\t\t    viewname=\"ant_test\"\n\t\t    rootstarteamfolder=\"checkin\"\n\t\t    username=\"testuser4\"\n\t\t    password=\"StarTeam1\"\n\t\t    comment=\"ant test\"\n\t\t    adduncontrolled=\"true\"\n\t\t    includes=\"newfileaddtest.txt\"\n\t\t/>\n\t\t</target>\n\t\t</project>"}, {"count": 35, "tags": [], "bug_id": 46326, "text": "starteam ant tasks have been removed starting with Ant 1.8.0", "id": 165942, "time": "2013-03-18T02:25:44Z", "creator": "antoine@apache.org", "creation_time": "2013-03-18T02:25:44Z", "is_private": false, "attachment_id": null}]