[{"count": 0, "tags": [], "bug_id": 48743, "is_private": false, "id": 134494, "attachment_id": null, "creator": "blair@orcaware.com", "creation_time": "2010-02-15T03:45:40Z", "time": "2010-02-15T03:45:40Z", "text": "I have a web application that has a single threaded job executor that it blocks on a condition variable waiting for a new task to show up with a timeout of 15 seconds.  Under light or no load when the web application is shut down it can take 15+ seconds for the thread to wake up and check that it should be shut down.\n\nGiven that I know it can take 15+ seconds for the application to be shut down, it would be nice to set the SLEEP variable in catalina.sh so it doesn't exit after 5 seconds.\n\nSo maybe rename SLEEP to CATALINA_SLEEP and if it isn't set then default it to 5.\n\nMaybe I should update my web application to not wait 15 seconds before checking to shut down, but I don't bounce the server often and I'd rather not have the thread wake up more often then it needs to.\n\nThanks,\nBlair"}, {"count": 1, "tags": [], "bug_id": 48743, "attachment_id": null, "is_private": false, "id": 134502, "time": "2010-02-15T11:08:19Z", "creator": "markt@apache.org", "creation_time": "2010-02-15T11:08:19Z", "text": "The default could be made an environment variable rather than hard coding to 5 (simple patch) but this is already configurable. Use:\n./catalina.sh stop n\n\nto have Tomcat wait n seconds.\n\nAs ever, patches always welcome."}, {"count": 2, "tags": [], "bug_id": 48743, "is_private": false, "id": 198207, "creation_time": "2017-04-07T15:58:43Z", "time": "2017-04-07T15:58:43Z", "creator": "markt@apache.org", "text": "No patch provided. The delay is already configurable via the command line. Therefore, WONTFIX.", "attachment_id": null}]