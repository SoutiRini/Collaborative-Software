[{"count": 0, "tags": [], "bug_id": 11279, "is_private": false, "text": "xmlvalidate will always fail to validate iso-2022-jp XML file even when XML\nparser support iso-2022-jp encoding.\n\nI tried to validate Japanese iso-2022-jp encoded XML files in Apache HTTP Server\nproject.  The excerpt of the result is:\n\nvalidate:\n[xmlvalidate] Using SAX2 reader org.apache.xerces.parsers.SAXParser\n\n...\n\n[xmlvalidate] Validating mod_env.xml.ja... \n[xmlvalidate]\n/home/penny/originals/httpd-2.0/docs/manual/mod/mod_env.xml.ja:8:21: An invalid\nXML character (Unicode: 0x1b) was found in the element content of the document.\n\nIt turns out that XMLValidateTask.java passes an instance of FileReader to\nInputSource constructor so encoding specified in XML declaration is not\nconsidered and always assumed to be UTF-8.\n\nI'll attach a patch to fix it.", "id": 20400, "time": "2002-07-30T09:39:18Z", "creator": "yoshiki@apache.org", "creation_time": "2002-07-30T09:39:18Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 2524\nA patch to make iso-2022-jp encoded XML file validation possible", "attachment_id": 2524, "id": 20401, "creator": "yoshiki@apache.org", "time": "2002-07-30T09:41:01Z", "bug_id": 11279, "creation_time": "2002-07-30T09:41:01Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 11279, "is_private": false, "id": 20419, "attachment_id": null, "creator": "bodewig@apache.org", "creation_time": "2002-07-30T14:23:37Z", "time": "2002-07-30T14:23:37Z", "text": "Could you provide us with a simple XML file that uses iso-2022-jp?  That way we\ncan add it to the testsuite for Ant to validate that your patch fixes the problem\nas well as to catch future regressions."}, {"count": 3, "text": "Created attachment 2529\nISO-2022-JP XML file.", "bug_id": 11279, "is_private": false, "id": 20451, "time": "2002-07-31T03:42:16Z", "creator": "yoshiki@apache.org", "creation_time": "2002-07-31T03:42:16Z", "tags": [], "attachment_id": 2529}, {"attachment_id": 2530, "tags": [], "creator": "yoshiki@apache.org", "text": "Created attachment 2530\nAnt build file to validate test.xml.", "count": 4, "id": 20452, "time": "2002-07-31T03:42:53Z", "bug_id": 11279, "creation_time": "2002-07-31T03:42:53Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "careye@spamcop.net", "text": "This also affects other encodings than ISO-2022-JP.  For example, the file I'm\nattaching, although invalid, will validate as OK on my Windows 2000 system.  It\nwill probably correctly fail on Yoshiki Hayashi's system though, since his\ndefault file encoding seems to be UTF-8.\n\nWhen using the default XML parser from JDK 1.4, I also get a warning displayed:\n\n[xmlvalidate] C:/Documents and Settings/evansc/Desktop/test.xml:1: Declared\nencoding \"UTF-8\" does not match actual one \"Cp1252\"; this might not be an error.\n[xmlvalidate] 1 file(s) have been successfully validated.", "count": 5, "id": 20453, "time": "2002-07-31T03:57:43Z", "bug_id": 11279, "creation_time": "2002-07-31T03:57:43Z", "is_private": false}, {"attachment_id": 2531, "tags": [], "creator": "careye@spamcop.net", "text": "Created attachment 2531\nInvalid XML that passes <xmlvalidate>", "count": 6, "id": 20454, "time": "2002-07-31T03:59:05Z", "bug_id": 11279, "creation_time": "2002-07-31T03:59:05Z", "is_private": false}, {"count": 7, "tags": [], "text": "Thanks to both of you, your samples have now become part of Ant's test suite.\n\nSupposed to be fixed in the nightly builds starting with 2002-11-28, will be fixed\nin 1.6 and 1.5.2 - if and when those get released.", "attachment_id": null, "bug_id": 11279, "id": 27073, "time": "2002-11-27T16:51:19Z", "creator": "bodewig@apache.org", "creation_time": "2002-11-27T16:51:19Z", "is_private": false}]