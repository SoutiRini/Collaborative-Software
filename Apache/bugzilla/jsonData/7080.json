[{"count": 0, "tags": [], "creator": "twalsh@ecn.net.au", "attachment_id": null, "is_private": false, "id": 11725, "time": "2002-03-13T11:23:18Z", "bug_id": 7080, "creation_time": "2002-03-13T11:23:18Z", "text": "On inspecting the code to JDBCReam.java, I made the following change to the method \ncredentials().  The short of it is that the string should be tested to\nsee if null.  If it is null \nthen the setNull() method should be called on prepared statement. Not calling the setNull() \nmethod can cause PreparedStatement setString() to fail for other JDBC drivers too.\n\n    \nprotected PreparedStatement credentials(Connection dbConnection,\n                                            String username)\n        \nthrows SQLException {\n\n        if (preparedCredentials == null) {\n            StringBuffer sb = new \nStringBuffer(\"SELECT \");\n            sb.append(userCredCol);\n            sb.append(\" FROM \");\n            \nsb.append(userTable);\n            sb.append(\" WHERE \");\n            sb.append(userNameCol);\n            sb.append(\" = \n?\");\n            preparedCredentials =\n                dbConnection.prepareStatement(sb.toString());\n        }\n\n\t  \nif ( username == null )\n\t    preparedCredentials.setNull(1,java.sql.Types.VARCHAR);\n        \nelse\n          preparedCredentials.setString(1, username);\n        return (preparedCredentials);\n\n    \n}"}, {"count": 1, "tags": [], "bug_id": 7080, "attachment_id": null, "id": 48935, "time": "2003-12-11T22:31:44Z", "creator": "medthomas@ntlworld.com", "creation_time": "2003-12-11T22:31:44Z", "is_private": false, "text": "This has been fixed in CVS and will be included in the next release. Thanks \nfor the patch."}]