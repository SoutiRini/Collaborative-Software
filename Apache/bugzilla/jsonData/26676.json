[{"count": 0, "tags": [], "bug_id": 26676, "text": "Tomcat 5 now explodes server.xml into a directory structure under\n$CATALINA_HOME/conf. There is one XML fragment per context. This is desired\nbehavior if the documentation is to be believed. A typical directory structure\nlooks like: conf/Catalina/localhost/ with documents (admin.xml, balancer.xml,\nmanager.xml).\n\nWhen a user adds a context to server.xml and restarts Tomcat, let's say\n\"my_context\", this fragment too is added to the directory. All is well, the app\nloads, etc. Now you remove the context from server.xml and restart Tomcat. The\nfragment remains, and the app is still accessible.\n\nThis is undesirable behavior. All configuration changes should be reversable -\nthat is, as a rule, software shouldn't behave differently after making and then\nunmaking a configuration change.\n\nI have marked this bug as \"major\" because it has wasted my time and, from the\ntraffic on tomcat-user, many other people's time. While I understand the\njustification for exploding server.xml, it seems like a poor implementation. At\nthe very least, there should be a big fat warning in server.xml explaining why\nyou should run \"startup.sh -clear_config_cache\" if you really want to work with\nserver.xml without worrying about config detritus. At most it would be best for\ntomcat to clean up after itself when shutting down - e.g. delete the directories\nit created.", "id": 51750, "time": "2004-02-05T05:58:01Z", "creator": "jrehman@citysearch.com", "creation_time": "2004-02-05T05:58:01Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 26676, "text": "You are not supposed to add Context declarations to server.xml, because the\ncontexts then become impossile to manage. This works as designed, but it is\nobviously different from Tomcat 4.1.x.", "id": 51753, "time": "2004-02-05T08:12:26Z", "creator": "remm@apache.org", "creation_time": "2004-02-05T08:12:26Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "paul@javacoda.com", "text": "(In reply to comment #1)\n> You are not supposed to add Context declarations to server.xml, because the\n> contexts then become impossile to manage. This works as designed, but it is\n> obviously different from Tomcat 4.1.x.\nIf this is so, why does the Tomcat 5.5 DataSource configuration documentation \ninstruct you to do so?\n\n", "id": 70896, "time": "2005-02-13T16:09:23Z", "bug_id": 26676, "creation_time": "2005-02-13T16:09:23Z", "is_private": false, "attachment_id": null}]