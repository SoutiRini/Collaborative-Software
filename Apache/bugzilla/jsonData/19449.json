[{"count": 0, "tags": [], "creator": "kovesp@sympatico.ca", "attachment_id": null, "id": 36348, "time": "2003-04-29T23:22:29Z", "bug_id": 19449, "creation_time": "2003-04-29T23:22:29Z", "is_private": false, "text": "I have a task of the form\n<zip destfile='outsideRoot/some.zip' filesonly='yes' update='no'>\n   <zipfileset dir='${zip.root}'>\n      <include name='rootDir/**'/>\n      <not><filename name='**/*.ini'/></not>\n   </zipfileset>\n</zip>.\n\nsome.zip gets constructed. Then, I modify the file\n\nrootDir/subdir1/.../subdirN/something.ini\n\n(by deletion and recreation, thus changing the timestamp of the containing \ndirectory) and run the task again. The zip gets recreated. On examination of \nthe -v output of the build, I find a line for each subdir of rootDir\n\nsubdir added as subdir doesn't exist\n\nIt seems that directories are (correctly) not added to the archive, however \nsince they are not there, they (incorrectly) cause the archive to be rebuilt.\n\nOn the other hand, with filesonly='no', the zip is also built, because\n\nrootDir/subdir1/.../subdirN added as rootDir/subdir1/.../subdirN is outdated\n\nThis is a major problem for us, as the archive in question is very large and \ntakes a loooong time to build."}, {"count": 1, "tags": [], "bug_id": 19449, "text": "should be fixed with nightly build 2003-05-03.", "id": 36584, "time": "2003-05-02T14:53:01Z", "creator": "bodewig@apache.org", "creation_time": "2003-05-02T14:53:01Z", "is_private": false, "attachment_id": null}]