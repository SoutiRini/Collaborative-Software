[{"count": 0, "tags": [], "bug_id": 45495, "attachment_id": null, "id": 119086, "time": "2008-07-28T14:50:50Z", "creator": "yunpeng.zhang@sun.com", "creation_time": "2008-07-28T14:50:50Z", "is_private": false, "text": "Sample testing Ant script:\n\n<project>\n    <target name=\"echo\">\n        <echo message=\"The input is: ${input}\"/>\n    </target>\n\n</project>\n\nSample testing input property file:\n\ninput=\u90e8\u4ef6\u540d\n\nThe issue is found in both 1.7.1 and 1.6.5.\n\nThe problem:\n\n1. If we put \"input=\u90e8\u4ef6\u540d\" in a property file and invoke ant using \"-propertyfile\" option, we got garbage output, please see the following:\n\n.\\ant -f input.xml -propertyfile test.txt echo\nBuildfile: input.xml\n\necho:\n     [echo] The input is: ??????\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n\n2. If we give the input (\"input=\u90e8\u4ef6\u540d\") directly from the ant command line, everything just went fine, please see the following:\n\n.\\ant -f input.xml -Dinput=\u90e8\u4ef6\u540d echo\nBuildfile: input.xml\n\necho:\n     [echo] The input is: \u90e8\u4ef6\u540d\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds"}, {"count": 1, "tags": [], "bug_id": 45495, "text": "Does your property file conform to that of the java.util.Properties specification? \n\nhttp://java.sun.com/j2se/1.5.0/docs/api/java/util/Properties.html\n\nSpecifically the bit about encoding?\n\n\"This format uses the ISO 8859-1 character encoding. Characters that cannot be directly represented in this encoding can be written using Unicode escapes  ; only a single 'u' character is allowed in an escape sequence. The native2ascii tool can be used to convert property files to and from other character encodings.\"", "id": 119094, "attachment_id": null, "creator": "stevel@apache.org", "creation_time": "2008-07-29T03:54:23Z", "time": "2008-07-29T03:54:23Z", "is_private": false}, {"count": 2, "tags": [], "creator": "yunpeng.zhang@sun.com", "text": "Hi Steve\n\nThanks for the info, it seems I do not have this knowledge.\n\nAfter I converted \"\u90e8\u4ef6\u540d\" (native) to \"\\u90e8\\u4ef6\\u540d\" (ASCII) in my Ant property file using native2ascii, JBI Ant starts to work fine for me, please see the following:\n\ndmin.xml:1059: \u670d\u52a1\u5f15\u64ce\u5217\u51fa\u5931\u8d25\u3002 [\nERROR:(UICMN2827)\u76ee\u6807\u65e0\u6548: \u90e8\u4ef6\u540d. <--- it was ????? before. Pretend that \"\u90e8\u4ef6\u540d\" is the target.\n] \n\nI think it is working fine for me now, I am going to close it.", "id": 119109, "time": "2008-07-29T19:19:07Z", "bug_id": 45495, "creation_time": "2008-07-29T19:19:07Z", "is_private": false, "attachment_id": null}]