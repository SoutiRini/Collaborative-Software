[{"count": 0, "tags": [], "bug_id": 31125, "attachment_id": null, "text": "This file cannot be validated against the schema \nhttp://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd.\nIt says \"Invalid value for datatype token in element 'servlet-class'\nfor the following element\n<servlet>\n  <servlet-name>default</servlet-name>\n  <servlet-class>\n      org.apache.catalina.servlets.DefaultServlet\n  </servlet-class>\n........\n</servlet>", "id": 63226, "time": "2004-09-08T18:12:58Z", "creator": "kimmylin@cs.umb.edu", "creation_time": "2004-09-08T18:12:58Z", "is_private": false}, {"count": 1, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "id": 63243, "time": "2004-09-08T20:05:51Z", "bug_id": 31125, "creation_time": "2004-09-08T20:05:51Z", "is_private": false, "text": "What validator are you using?  Every one I've tried says it's well-formed."}, {"count": 2, "tags": [], "creator": "kimmylin@cs.umb.edu", "attachment_id": null, "id": 63260, "time": "2004-09-08T23:01:50Z", "bug_id": 31125, "creation_time": "2004-09-08T23:01:50Z", "is_private": false, "text": "I used XML Spy. It is well-formed indeed (correct XML syntax). But it's not \nvalidate. "}, {"count": 3, "tags": [], "text": "OK, fixed in CVS HEAD.  Thank you for reporting.", "is_private": false, "id": 63287, "creator": "yoavs@computer.org", "time": "2004-09-09T13:53:13Z", "bug_id": 31125, "creation_time": "2004-09-09T13:53:13Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 31125, "attachment_id": null, "text": "I am having the same problem when doing ant's xmlvalidate with this web.xml.\n\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:5:19: Document root\nelement \"web-app\", must match DOCTYPE root \"null\".\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:5:19: Document is\ninvalid: no grammar found.\n\nBUILD FAILED\nbuild.xml:2620: /usr/local/jakarta-tomcat/curr/conf/web.xml is not a valid XML\ndocument.\n", "id": 78520, "time": "2005-08-15T18:54:05Z", "creator": "hauser@acm.org", "creation_time": "2005-08-15T18:54:05Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 31125, "attachment_id": null, "text": "oops, first tried to validate against a \"DTD Web Application 2.3\"\n\nbut when corrected with \n\n<xmlvalidate file=\"${tomcat_home_temp}/conf/web.xml\" failonerror=\"yes\" warn=\"true\">\n\t\t\t\t\t<attribute name=\"http://apache.org/xml/features/validation/schema\"\nvalue=\"true\" />\n\t\t\t\t\t<attribute name=\"http://xml.org/sax/features/namespaces\" value=\"true\" />\n\t\t\t\t</xmlvalidate>\n\n\nI get\n\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:596:54:\ncvc-pattern-valid: Value 'application/mathml+xml' is not facet-valid with\nrespect to pattern '[\\p{L}\\-\\p{Nd}]+/[\\p{L}\\-\\p{Nd}\\.]+' for type 'null'.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:596:54:\ncvc-complex-type.2.2: Element 'mime-type' must have no element [children], and\nthe value must be valid.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:748:51:\ncvc-pattern-valid: Value 'application/rdf+xml' is not facet-valid with respect\nto pattern '[\\p{L}\\-\\p{Nd}]+/[\\p{L}\\-\\p{Nd}\\.]+' for type 'null'.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:748:51:\ncvc-complex-type.2.2: Element 'mime-type' must have no element [children], and\nthe value must be valid.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:804:45:\ncvc-pattern-valid: Value 'image/svg+xml' is not facet-valid with respect to\npattern '[\\p{L}\\-\\p{Nd}]+/[\\p{L}\\-\\p{Nd}\\.]+' for type 'null'.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:804:45:\ncvc-complex-type.2.2: Element 'mime-type' must have no element [children], and\nthe value must be valid.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:864:56:\ncvc-pattern-valid: Value 'application/voicexml+xml' is not facet-valid with\nrespect to pattern '[\\p{L}\\-\\p{Nd}]+/[\\p{L}\\-\\p{Nd}\\.]+' for type 'null'.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:864:56:\ncvc-complex-type.2.2: Element 'mime-type' must have no element [children], and\nthe value must be valid.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:872:53:\ncvc-pattern-valid: Value 'application/xhtml+xml' is not facet-valid with respect\nto pattern '[\\p{L}\\-\\p{Nd}]+/[\\p{L}\\-\\p{Nd}\\.]+' for type 'null'.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:872:53:\ncvc-complex-type.2.2: Element 'mime-type' must have no element [children], and\nthe value must be valid.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:876:53:\ncvc-pattern-valid: Value 'application/xhtml+xml' is not facet-valid with respect\nto pattern '[\\p{L}\\-\\p{Nd}]+/[\\p{L}\\-\\p{Nd}\\.]+' for type 'null'.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:876:53:\ncvc-complex-type.2.2: Element 'mime-type' must have no element [children], and\nthe value must be valid.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:892:52:\ncvc-pattern-valid: Value 'application/xslt+xml' is not facet-valid with respect\nto pattern '[\\p{L}\\-\\p{Nd}]+/[\\p{L}\\-\\p{Nd}\\.]+' for type 'null'.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:892:52:\ncvc-complex-type.2.2: Element 'mime-type' must have no element [children], and\nthe value must be valid.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:896:63:\ncvc-pattern-valid: Value 'application/vnd.mozilla.xul+xml' is not facet-valid\nwith respect to pattern '[\\p{L}\\-\\p{Nd}]+/[\\p{L}\\-\\p{Nd}\\.]+' for type 'null'.\n[xmlvalidate] /usr/local/jakarta-tomcat/curr/conf/web.xml:896:63:\ncvc-complex-type.2.2: Element 'mime-type' must have no element [children], and\nthe value must be valid.\n\nBUILD FAILED\n/www/bugzilla/pl_sources/privaLope/build.xml:2618:\n/usr/local/jakarta-tomcat/curr/conf/web.xml is not a valid XML document.\n", "id": 78521, "time": "2005-08-15T19:06:07Z", "creator": "hauser@acm.org", "creation_time": "2005-08-15T19:06:07Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 31125, "text": "Rolf, I get the same results as you.  I'm attaching a little Ant xmlvalidate\ntest file.  But I'm not sure how to proceed.  I think the MIME types are\nactually correct.  Some of them are following the exact conventions specified in\nthe relevant specifications, e.g. http://www.w3.org/TR/xhtml-media-types/ for\nXHTML.  Others are common and haven't been changed in years.  I wonder if the\npattern defined in the schema has changed recently and how to fix the file, if\nat all.", "id": 81337, "time": "2005-10-18T19:27:18Z", "creator": "yoavs@computer.org", "creation_time": "2005-10-18T19:27:18Z", "is_private": false, "attachment_id": null}, {"count": 7, "attachment_id": 16735, "creator": "yoavs@computer.org", "is_private": false, "id": 81338, "time": "2005-10-18T19:27:53Z", "bug_id": 31125, "creation_time": "2005-10-18T19:27:53Z", "tags": [], "text": "Created attachment 16735\nAnt xmlvalidate file to test this\n\nSmall Ant file that can be used to reproduce this."}, {"count": 8, "tags": [], "bug_id": 31125, "attachment_id": null, "id": 82119, "time": "2005-11-04T09:41:46Z", "creator": "mkmelin+apache@iki.fi", "creation_time": "2005-11-04T09:41:46Z", "is_private": false, "text": "xref eclipse bug 113347 (https://bugs.eclipse.org/bugs/show_bug.cgi?id=113347)\n\nApparently the regexp in web-app_2_4.xsd contains a bug, making\napplication/xhtml+xml and other +xml mime types invalid. The eclipse bug\ncontains a fix for the schema file. Of course, would be good to get it fixed in\nthe spec, so if anyone got connections..."}, {"count": 9, "tags": [], "bug_id": 31125, "text": "(In reply to comment #8)\n> xref eclipse bug 113347 (https://bugs.eclipse.org/bugs/show_bug.cgi?id=113347)\n> \n> Apparently the regexp in web-app_2_4.xsd contains a bug, making\n> application/xhtml+xml and other +xml mime types invalid. The eclipse bug\n> contains a fix for the schema file. Of course, would be good to get it fixed in\n> the spec, so if anyone got connections...\n\nYes, the Servlet EG is aware and a fix will soon be applied.", "id": 82130, "attachment_id": null, "creator": "jfarcand@apache.org", "creation_time": "2005-11-04T16:41:04Z", "time": "2005-11-04T16:41:04Z", "is_private": false}, {"count": 10, "tags": [], "text": "So I guess that means we shouldn't correct Tomcat's conf/web.xml file, and\ninstead wait for the Spec fix?", "is_private": false, "id": 82330, "creator": "yoavs@computer.org", "time": "2005-11-10T03:21:56Z", "bug_id": 31125, "creation_time": "2005-11-10T03:21:56Z", "attachment_id": null}, {"count": 11, "tags": [], "bug_id": 31125, "text": "The bug here is in the spec, not the xml.", "id": 86805, "attachment_id": null, "creator": "Keith@Apache.org", "creation_time": "2006-03-14T20:08:24Z", "time": "2006-03-14T20:08:24Z", "is_private": false}]