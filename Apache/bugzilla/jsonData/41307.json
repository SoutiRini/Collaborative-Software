[{"count": 0, "tags": [], "creator": "plantin@cobaltgroup.com", "text": "As of version 1.6.2, the ant launcher shell script evaluates single quoted\nproperties given on the command line (-D). This causes the expansion of system\nvariables and backtick quoted commands. This is not correct behavior for single\nquoted properties.\n\nThe \"ant\" shell script uses: (line 38 in ant 1.7.0)\n\nant_exec_args=\"$ant_exec_args \\\"$arg\\\"\"\n\nThis fixes the problem: (but may not be the final solution)\n\nant_exec_args=\"$ant_exec_args '$arg'\"\n\nHere is a test that compares 1.6.1 behavior and 1.6.2, as well as 1.7.0. This\ntest has been run on Linux RedHat-AS 4.0u3.\n\nBuildfile: tt.xml\n\nlinux$ ant -Dthis.variable='`cd /tmp; pwd`' -f tt.xml test\ntest:\n     [echo] Ant version: Apache Ant version 1.6.1 compiled on February 12 2004\n     [echo] this.variable: `cd /tmp; pwd`\n     [exec] `cd /tmp; pwd`\n\n\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\nlinux$ ant -Dthis.variable='`cd /tmp; pwd`' -f tt.xml test\nBuildfile: tt.xml\n\ntest:\n     [echo] Ant version: Apache Ant version 1.6.2 compiled on July 16 2004\n     [echo] this.variable: /tmp\n     [exec] /tmp\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\nlinux$ ant -Dthis.variable='`cd /tmp; pwd`' -f tt.xml test\nBuildfile: tt.xml\n\ntest:\n     [echo] Ant version: Apache Ant version 1.7.0 compiled on December 13 2006\n     [echo] this.variable: /tmp\n     [exec] /tmp\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n\nAnt test:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project name=\"test\" default=\"all\" basedir=\".\">\n  <target name=\"all\"></target>\n  <target name=\"test\">\n   <echo message=\"Ant version: ${ant.version}\"/>\n   <echo message=\"this.variable: ${this.variable}\"/>\n    <exec executable=\"echo\">\n      <arg line=\"${this.variable}\"/>\n    </exec>\n  </target>\n</project>", "id": 97712, "time": "2007-01-05T17:18:38Z", "bug_id": 41307, "creation_time": "2007-01-05T17:18:38Z", "is_private": false, "attachment_id": null}]