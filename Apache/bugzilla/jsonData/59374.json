[{"count": 0, "tags": [], "creator": "ben.rubson@gmail.com", "attachment_id": null, "text": "Hello,\n\nUsing the following configuration :\n\nErrorLog \"| /usr/bin/logger -t httpd\"\nLogLevel notice\n\nThe following shutting down message never appears into the logs :\nApr 25 16:38:00 srv httpd[98967]: [mpm_prefork:notice] [pid 98967] AH00169: caught SIGTERM, shutting down\n\nIf we use a ErrorLog file, or ErrorLog syslog, this message correctly appears into the log.\n\nIs ErrorLog program killed before the last log messages ?\n\nThank you,\n\nBest regards,\n\nBen", "id": 190539, "time": "2016-04-25T14:48:51Z", "bug_id": 59374, "creation_time": "2016-04-25T14:48:51Z", "is_private": false}, {"count": 1, "text": "In 2.4, piped loggers see a sigterm early during shutdown compared to 2.2.\n\nTo get the 2.2 behavior, where /bin/sh usually ate the sigterm, use |$ as the first two characters instead of just |\n\nThere is currently a design problem around the stopping/restarting of piped loggers that currently errs on the side of losing some messages at shutdown.", "creator": "covener@gmail.com", "attachment_id": null, "id": 190987, "time": "2016-05-16T14:50:28Z", "bug_id": 59374, "creation_time": "2016-05-16T14:50:28Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 59374, "text": "Eric,\n\nThank you for your answer.\n\nI then tested the following with Apache 2.4 :\nErrorLog \"|$ /usr/bin/logger -t httpd\"\nBut it did not help.\n\nI also tested, with no luck :\nErrorLog \"| /bin/sh -c \\'/usr/bin/logger -t httpd\\'\"\nErrorLog \"|$ /bin/sh -c \\'/usr/bin/logger -t httpd\\'\"\n\nStrangely with these 2 tests (as well as with the first one), /bin/sh does not appear in my processes list.\n\nNote that with Apache 2.2 I get the same behavior, last messages are lost.\n\nWould it be hard to solve this design problem around the stopping of piped loggers ?\n\nMany thanks,\n\nBen", "id": 191601, "time": "2016-06-13T12:54:39Z", "creator": "ben.rubson@gmail.com", "creation_time": "2016-06-13T12:54:39Z", "is_private": false, "attachment_id": null}]