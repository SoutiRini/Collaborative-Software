[{"text": "I am using Ant 1.4. I have found that typedef is not as useful as it\nsounds because you cannot (it appears) actually define a custom type\nat top level, with an ID. (Doing so might allow you to use refid later\nto use unmodified tasks with your subclassed type.) For example this\ndoes not work:\n\n<project default=\"all\">\n  <target name=\"all\">\n    <typedef name=\"myfileset\" classname=\"...\" classpath=\"...\"/>\n    <myfileset dir=\".\" id=\"someid\"/>\n  </target>\n</project>\n\nAnt says that there is no such task <myfileset>. (The message is\nmisleading because a plain <fileset> works there too, so it should say\nthere is no such task or type.) But we just defined it. You also\ncannot do this:\n\n<project default=\"all\">\n  <typedef name=\"myfileset\" classname=\"...\" classpath=\"...\"/>\n  <myfileset dir=\".\" id=\"someid\"/>\n  <target name=\"all\">\n    <!-- use someid somehow -->\n  </target>\n</project>\n\nbecause <typedef> is not allowed at top level. (Why? <taskdef> is.)\n\nSince it does not appear <typedef> will let you actually define a new\ninstance of the type, how is it supposed to be used? The manual says\nthat it is only really useful with custom tasks. But if you have a\ncustom task then presumably that task will understand subelements of\ncertain names to be of your custom type, without needing <typedef> at\nall.", "tags": [], "bug_id": 4143, "attachment_id": null, "count": 0, "id": 6671, "time": "2001-10-13T02:40:59Z", "creator": "jesse.glick@netbeans.com", "creation_time": "2001-10-13T02:40:59Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 4143, "attachment_id": null, "text": "*** Bug 4457 has been marked as a duplicate of this bug. ***", "id": 7247, "time": "2001-10-29T06:41:44Z", "creator": "bodewig@apache.org", "creation_time": "2001-10-29T06:41:44Z", "is_private": false}, {"text": "*** Bug 4452 has been marked as a duplicate of this bug. ***", "tags": [], "bug_id": 4143, "attachment_id": null, "count": 2, "id": 7249, "time": "2001-10-29T06:42:40Z", "creator": "bodewig@apache.org", "creation_time": "2001-10-29T06:42:40Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 4143, "attachment_id": null, "text": "fixed in nightly build 2001-11-10.\n\n<typedef> can now live at the same level as targets and should work dynamically\nas well.", "id": 7718, "time": "2001-11-09T08:00:26Z", "creator": "bodewig@apache.org", "creation_time": "2001-11-09T08:00:26Z", "is_private": false}]