[{"count": 0, "tags": [], "bug_id": 289, "text": "When using HTTP POST with multiple file (RFC1867), that\r\nare passed from Apache (1.3.14) to mod_jk and to a servlet,\r\nthe target servlet hangs outputting some Y characters.\r\nThe output came from:\r\n\r\nOriginal code of\r\norg.apache.tomcat.service.connector.Ajp13ConnectorRequest:\r\n\r\npublic int doRead(byte[] b, int off, int len) throws IOException \r\n{\r\n// XXXXXX Stupid, but the whole thing must be rewriten ( see super()! )\r\n   for(int i = off ; i < (len + off) ; i++) {\r\n        int a = doRead();\r\n        if(-1 == a) {\r\n            System.out.println(\"Y\");\r\n                return i-off;\r\n        }\r\n        b[i] = (byte)a;\r\n    }\r\n        \r\n    return len;\r\n}\r\n\r\nThe upload works with ajp12, but unfortunately\r\nwe ajp13 to access the SSL certificate. Hint:\r\nthe test uses HTTP, not HTTPS!", "id": 266, "time": "2000-12-06T07:17:02Z", "creator": "dev@tomcat.apache.org", "creation_time": "2000-12-06T07:17:02Z", "is_private": false, "attachment_id": null}]