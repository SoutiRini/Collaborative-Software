[{"attachment_id": null, "tags": [], "bug_id": 35038, "text": "We are using tomcat 3.3a in solaris 8.0 (SF25K).\n\nMy home page(After login) contain 4 frame set. In the toolbar (Header) page \nthrowing Broken Pipe exception. It occures intermitantly. \n\nException type :1\n\njava.io.IOException: Broken pipe\n\tat java.net.SocketOutputStream.socketWrite(Native Method)\n\tat java.net.SocketOutputStream.write(SocketOutputStream.java:96)\n\tat org.apache.tomcat.modules.server.Http10.doWrite(Unknown Source)\n\tat org.apache.tomcat.modules.server.HttpResponse.doWrite(Unknown Source)\n\tat org.apache.tomcat.core.OutputBuffer.realWriteBytes(Unknown Source)\n\tat org.apache.tomcat.util.buf.ByteChunk.flushBuffer(Unknown Source)\n\tat org.apache.tomcat.core.OutputBuffer.flush(Unknown Source)\n\tat org.apache.tomcat.core.OutputBuffer.close(Unknown Source)\n\tat org.apache.tomcat.facade.ServletWriterFacade.close(Unknown Source)\n\tat com.documentum.wc.cmd.DwCommandDispatcher.service\n(DwCommandDispatcher.java:289)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java)\n\tat org.apache.tomcat.facade.ServletHandler.doService(Unknown Source)\n\tat org.apache.tomcat.core.Handler.invoke(Unknown Source)\n\tat org.apache.tomcat.core.Handler.service(Unknown Source)\n\tat org.apache.tomcat.facade.ServletHandler.service(Unknown Source)\n\tat org.apache.tomcat.core.ContextManager.internalService(Unknown Source)\n\tat org.apache.tomcat.core.ContextManager.service(Unknown Source)\n\tat org.apache.tomcat.modules.server.Http10Interceptor.processConnection\n(Unknown Source)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt(Unknown Source)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(Unknown Source)\n\tat java.lang.Thread.run(Thread.java:484)\n2005-05-13 18:21:55 - Http10Interceptor: SocketException reading request, \nignored\n\nException type :2\n\n2005-05-16 17:16:12 - DecodeInterceptor: Charset from session UTF-8\n{The following error occurred after content was sent: }{Failed to dispatch the \narchive stream<br>}java.io.IOException: Broken pipe\n2005-05-16 17:16:12 - Http10Interceptor: SocketException reading request, \nignored\n\nAnybody face this exception ever before.", "count": 0, "id": 75268, "time": "2005-05-24T11:35:19Z", "creator": "spoornalingam@gmail.com", "creation_time": "2005-05-24T11:35:19Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 35038, "attachment_id": null, "text": "The exception is simply that the browser stopped talking to Tomcat before \nTomcat expected it to.  It's not too surprising, since frames and HTTP/1.0 \ndon't play well together.\n\nThe Http10Connector is currently deprecated.  You're best bet is to upgrade to \n3.3.2 and use the CoyoteConnector instead.", "id": 75285, "time": "2005-05-24T19:37:26Z", "creator": "william.barker@wilshire.com", "creation_time": "2005-05-24T19:37:26Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 35038, "attachment_id": null, "text": "Hi,\nThanks for your valuable information. We can't update the Tomcat version. \nBecause it came along with the Product (Documentum4.i). \n\nNow i want to clarify only one thing. \nIn our home page contains 5 frame set. We are facing this issue (Broken pipe) \nonly in the Header Frame set. Rest of the frame are displaing correctly. \nHow it is possible?\nUser confirm that, she didn't press the stop button.\n\nThanks,\n(In reply to comment #1)\n> The exception is simply that the browser stopped talking to Tomcat before \n> Tomcat expected it to.  It's not too surprising, since frames and HTTP/1.0 \n> don't play well together.\n> The Http10Connector is currently deprecated.  You're best bet is to upgrade \nto \n> 3.3.2 and use the CoyoteConnector instead.\n\n\n\n", "id": 75312, "time": "2005-05-25T03:47:45Z", "creator": "spoornalingam@gmail.com", "creation_time": "2005-05-25T03:47:45Z", "is_private": false}, {"count": 3, "tags": [], "creator": "spoornalingam@gmail.com", "attachment_id": null, "id": 75313, "time": "2005-05-25T03:54:56Z", "bug_id": 35038, "creation_time": "2005-05-25T03:54:56Z", "is_private": false, "text": "The exception is simply that the browser stopped talking to Tomcat before \nTomcat expected it to.  It's not too surprising, since frames and HTTP/1.0 \ndon't play well together.\n\nThe Http10Connector is currently deprecated.  You're best bet is to upgrade to \n3.3.2 and use the CoyoteConnector instead"}, {"count": 4, "tags": [], "creator": "william.barker@wilshire.com", "attachment_id": null, "id": 75559, "time": "2005-05-28T03:04:32Z", "bug_id": 35038, "creation_time": "2005-05-28T03:04:32Z", "is_private": false, "text": "(In reply to comment #2)\n> Hi,\n> Thanks for your valuable information. We can't update the Tomcat version. \n> Because it came along with the Product (Documentum4.i). \n\nIt's theoretically possible to update the Connector only, but I don't know of \nanybody that has tried it in a very long time. Probably easier is to front \nyour app with Apache and mod_jk.  Prior to 3.3.2, the stand-alone Connector \nisn't really suitable for production use.\n\n> Now i want to clarify only one thing. \n> In our home page contains 5 frame set. We are facing this issue (Broken \npipe) \n> only in the Header Frame set. Rest of the frame are displaing correctly. \n> How it is possible?\n> User confirm that, she didn't press the stop button.\n> Thanks,\n\nWell, modern browsers (esp. ones from MS) can get confused when presented with \nframes and a HTTP/1.0 server.  If you disable the use of HTTP/1.1 in the \nbrowser, it may work better (at the expense of much worse performance on all \nother sites).\n\nThe problem is that with HTTP/1.0, the browser needs to open a new Socket \nconnection to retrieve each part of the frame, and they don't like this \nanymore than your server does.  What is probably happening is that the browser \nis attempting to use the keep-alive extension to HTTP/1.0, and giving up in \ndisgust when it discovers that the (now deprecated) Http10Connector doesn't \nsupport it."}]