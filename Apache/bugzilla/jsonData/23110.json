[{"count": 0, "text": "I have a test which contains two thread groups.\n\nEach thread group has its own loop controller, and under that each has its own \nJDBC request.  Both have num pool connections set to 10, and max uses set to \n100.\n\nDuring the test I am using 5 threads in each group.\n\nVia DB2's \"list applications\" command I can see 20 connections to the database.\n\nAfter the test completes, 10 connections go away, but 10 stay.... it appears \nthat one pool is not being cleaned up.", "bug_id": 23110, "attachment_id": null, "id": 44051, "time": "2003-09-11T16:29:21Z", "creator": "apache@jonchristiansen.com", "creation_time": "2003-09-11T16:29:21Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "text": "Do both JDBC queries use the same JDBC URL?  My guess is that they do.  In this\ncase, I think the current JDBC sampler code will initialize both pools, but it\nwill only use one of them at runtime.  And, presumably, only clean up one of them.\n\nI've been working on rewriting the JDBC connection pool, but I'm in the middle\nof travelling and moving, so I won't be able to finish it until probably\nmid-October.  You might want to try a recent nightly build -- the code I've\ncommitted recently does fix a couple of issues with the connection pool.  But I\ndon't remember right now whether or not this particular problem is fixed.\n", "is_private": false, "id": 44403, "creation_time": "2003-09-21T16:40:21Z", "time": "2003-09-21T16:40:21Z", "creator": "jeremy_a@bigfoot.com", "bug_id": 23110, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 23110, "attachment_id": null, "id": 44633, "time": "2003-09-25T01:16:43Z", "creator": "apache@jonchristiansen.com", "creation_time": "2003-09-25T01:16:43Z", "is_private": false, "text": "I went to the nightly builds at the website.... there doesn't appear to be any \nnightlys built since 9/9/2003\n\nhttp://cvs.apache.org/builds/jakarta-jmeter/nightly/\n\nI downloaded this 9/9/2003 build and when I tried to launch jmeter via its bat \nfile I get the following error message:\n\nException in thread \"main\" java.lang.NoClassDefFoundError: \norg/apache/log/format/Formatter\n        at org.apache.jmeter.JMeter.<clinit>(JMeter.java:111)"}, {"count": 3, "tags": [], "bug_id": 23110, "attachment_id": null, "text": "Is this still a problem with the latest builds?\n[Check the JMeter home page for links to the nightly builds]\n\n\n", "id": 51965, "time": "2004-02-09T01:31:33Z", "creator": "sebb@apache.org", "creation_time": "2004-02-09T01:31:33Z", "is_private": false}, {"count": 4, "text": "Cant run the nightly build: \n\nC:\\jakarta-jmeter-20040211\\bin>dir\n Volume in drive C has no label.\n Volume Serial Number is C0B8-B779\n\n Directory of C:\\jakarta-jmeter-20040211\\bin\n\n02/12/2004  08:46 PM    <DIR>          .\n02/12/2004  08:46 PM    <DIR>          ..\n02/12/2004  02:52 AM             3,577 ApacheJMeter.jar\n11/29/2003  03:22 PM             2,930 jmeter\n08/03/2003  03:37 PM               289 jmeter-server\n07/15/2003  03:46 PM             1,424 jmeter-server.bat\n11/29/2003  03:22 PM             1,426 jmeter.bat\n02/11/2004  03:53 PM             6,300 jmeter.properties\n01/29/2004  03:48 PM             5,669 jmetertest.properties\n01/15/2004  07:45 AM             1,397 jmeterw.bat\n02/12/2004  08:46 PM    <DIR>          testfiles\n01/16/2004  03:41 PM               920 upgrade.properties\n04/30/2002  07:02 PM               222 users.dtd\n06/05/2003  03:18 PM             1,500 users.xml\n              11 File(s)         25,654 bytes\n               3 Dir(s)  33,359,298,560 bytes free\n\nC:\\jakarta-jmeter-20040211\\bin>jmeter\nException in thread \"main\" java.lang.NoClassDefFoundError: \norg/apache/log/format/Formatter\n        at org.apache.jmeter.JMeter.<clinit>(JMeter.java:114)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native \nMethod)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown \nSource)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown \nSource)\n        at java.lang.reflect.Constructor.newInstance(Unknown Source)\n        at java.lang.Class.newInstance0(Unknown Source)\n        at java.lang.Class.newInstance(Unknown Source)\n        at org.apache.jmeter.NewDriver.main(NewDriver.java:203)\n\nC:\\jakarta-jmeter-20040211\\bin>java -version\njava version \"1.4.2_03\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_03-b02)\nJava HotSpot(TM) Client VM (build 1.4.2_03-b02, mixed mode)\n\nC:\\jakarta-jmeter-20040211\\bin>\n\n", "bug_id": 23110, "attachment_id": null, "id": 52219, "time": "2004-02-13T02:55:46Z", "creator": "apache@jonchristiansen.com", "creation_time": "2004-02-13T02:55:46Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 23110, "attachment_id": null, "text": "It looks as though some libraries are missing.\n\nDid you download the _lib.zip and unpack it into the same directory tree?", "id": 52220, "time": "2004-02-13T03:13:02Z", "creator": "sebb@apache.org", "creation_time": "2004-02-13T03:13:02Z", "is_private": false}, {"count": 6, "tags": [], "creator": "apache@jonchristiansen.com", "attachment_id": null, "is_private": false, "id": 53356, "time": "2004-03-03T05:21:10Z", "bug_id": 23110, "creation_time": "2004-03-03T05:21:10Z", "text": "ok... helps if you read the readme, eh?\n\nI used the build jakarta-jmeter-20040302.\n\nI created a sample test.\n\n - has a login defaults config element (connects to my local db2 v8 db user \ndb2admin, password db2admin)\n - has a db connection pool defaults config element  ( 5 connections/50 per \nconn)\n - has one thread group defined, 1 thread, 1 sec ramp up, loop count of 50\n - has one single jdbc request as child of thread group:\n      I try to blank out the db pool data entry fields, because I want it to \nuse the defaults I created above, but after being blanked out, when I tab out \nof the field, each db pool field resets to \"1\"\n      query string: select * from sysibm.systables\n\n- I then have a view results in table and a graph results listener\n\nBefore I start the test, I do a db2 \"list applications\" command, which shows no \napps connected to the database.\n\nI hit start, and the test runs successfully.\n\nI then do a \"list applications\" and I now see one connection still remains.\nI then start the test again, let it run, and once it completes successfully, I \nsee I now have two connections to the database.\n\nSo it looks like for each successful run, I get one additional database \nconnection created that doesn't get cleaned up.\n\nI'm not certain as if this is due to my inability to clear out the settings for \nthe jdbc pool data entry fields for the actual jdbc request object.\n"}, {"count": 7, "tags": [], "creator": "apache@jonchristiansen.com", "attachment_id": 10644, "id": 53358, "time": "2004-03-03T05:27:13Z", "bug_id": 23110, "creation_time": "2004-03-03T05:27:13Z", "is_private": false, "text": "Created attachment 10644\nsample test"}, {"count": 8, "tags": [], "creator": "mstover1@apache.org", "attachment_id": null, "is_private": false, "id": 62411, "time": "2004-08-24T15:32:36Z", "bug_id": 23110, "creation_time": "2004-08-24T15:32:36Z", "text": "I made a new DB Connection pool config element that works much better at\nintializing and finalizing the connection pool.  If you're still interesting in\nusing it, it's in the current CVS code. I've reworked the JDBC sampler to use it."}]