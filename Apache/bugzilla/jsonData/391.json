[{"count": 0, "attachment_id": null, "bug_id": 391, "text": "After running for some time tomcat can't process any more request because all processors are used.\r\n\r\nI think the problem occurs when in every thread occured a SocketException in HttpProcessor.parse.\r\n\r\n2001-01-02 12:36:01 HttpProcessor[80][13] process.parse\r\njava.net.SocketException: Connection reset by peer: Connection reset by peer\r\n        at java.net.SocketInputStream.socketRead(Native Method)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:86)\r\n        at java.io.BufferedInputStream.fill(BufferedInputStream.java:186)\r\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:204)\r\n        at org.apache.catalina.connector.http.SocketInputStream.readRequestLine(SocketInputStream.java:168)\r\n        at org.apache.catalina.connector.http.HttpProcessor.parseRequest(HttpProcessor.java:635)\r\n        at org.apache.catalina.connector.http.HttpProcessor.process(HttpProcessor.java:779)\r\n        at org.apache.catalina.connector.http.HttpProcessor.run(HttpProcessor.java:890)\r\n        at java.lang.Thread.run(Thread.java:484)\r\n", "id": 365, "time": "2001-01-02T04:37:18Z", "creator": "dev@tomcat.apache.org", "creation_time": "2001-01-02T04:37:18Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "remm@apache.org", "text": "*** Bug 489 has been marked as a duplicate of this bug. ***", "id": 592, "time": "2001-02-06T17:53:23Z", "bug_id": 391, "creation_time": "2001-02-06T17:53:23Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 1238, "time": "2001-03-12T23:43:08Z", "bug_id": 391, "creation_time": "2001-03-12T23:43:08Z", "is_private": false, "text": "The exception mentioned here isn't the cause of the problem (if there is a \nproblem).\nSocket timeout is enabled by default, although its value is probably too long, \nso the connectors should be properly recycled after use.\nIf there is actually a problem, it has yet to appear in my test cases, so I \nmark the bug as \"works for me\". It will be opened again if we are eventually \nable to reproduce it reliably."}, {"count": 3, "tags": [], "creator": "unbinder@novosoft.ru", "text": "I have the similar problem \n\njava.net.SocketException: Connection reset by peer\n        at java.net.PlainSocketImpl.socketAccept(Native Method)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:424)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:243)\n        at java.net.ServerSocket.accept(ServerSocket.java:222)\n        at org.apache.tomcat.service.SimpleTcpEndpoint.acceptSocket\n(SimpleTcpEndpoint.java:267)\n        at org.apache.tomcat.service.SimpleTcpEndpoint.acceptConnections\n(SimpleTcpEndpoint.java:248)\n        at org.apache.tomcat.service.TcpListenerThread.run\n(SimpleTcpEndpoint.java:319)\n        at java.lang.Thread.run(Thread.java:484)\nEndpoint ServerSocket[addr=0.0.0.0/0.0.0.0,port=0,localport=9999] shutdown due \nto exception: java.ne\nt.SocketException: Connection reset by peer\n", "id": 2840, "time": "2001-06-09T05:52:59Z", "bug_id": 391, "creation_time": "2001-06-09T05:52:59Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 2841, "time": "2001-06-09T09:09:23Z", "bug_id": 391, "creation_time": "2001-06-09T09:09:23Z", "is_private": false, "text": "File it as a bug for TC 3.x (this was a report for 4.0) ;-)\nThanks !"}, {"count": 5, "tags": [], "bug_id": 391, "is_private": false, "id": 24767, "creation_time": "2002-10-17T08:43:11Z", "time": "2002-10-17T08:43:11Z", "creator": "ldtc@eyou.com", "text": "tomcat 4.0.1\n\n2002-10-17 11:42:01 HttpProcessor[8080][535] process.parse\njava.net.SocketException: Connection reset by peer: JVM_recv in socket input \nstream read\n\tat java.net.SocketInputStream.socketRead(Native Method)\n\tat java.net.SocketInputStream.read(Unknown Source)\n\tat org.apache.catalina.connector.http.SocketInputStream.fill\n(SocketInputStream.java:593)\n\tat org.apache.catalina.connector.http.SocketInputStream.read\n(SocketInputStream.java:530)\n\tat org.apache.catalina.connector.http.SocketInputStream.readHeader\n(SocketInputStream.java:474)\n\tat org.apache.catalina.connector.http.HttpProcessor.parseHeaders\n(HttpProcessor.java:569)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:961)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1106)\n\tat java.lang.Thread.run(Unknown Source)\n\n2002-10-17 11:42:01 HttpProcessor[8080][535] process.parse\njava.net.SocketException: Connection reset by peer: JVM_recv in socket input \nstream read\n\tat java.net.SocketInputStream.socketRead(Native Method)\n\tat java.net.SocketInputStream.read(Unknown Source)\n\tat org.apache.catalina.connector.http.SocketInputStream.fill\n(SocketInputStream.java:593)\n\tat org.apache.catalina.connector.http.SocketInputStream.read\n(SocketInputStream.java:530)\n\tat org.apache.catalina.connector.http.SocketInputStream.readHeader\n(SocketInputStream.java:474)\n\tat org.apache.catalina.connector.http.HttpProcessor.parseHeaders\n(HttpProcessor.java:569)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:961)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1106)\n\tat java.lang.Thread.run(Unknown Source)\n\n2002-10-17 15:12:41 HttpProcessor[8080][456] process.invoke\njava.lang.OutOfMemoryError\n\t<<no stack trace available>>", "attachment_id": null}, {"count": 6, "tags": [], "creator": "remm@apache.org", "text": "The out of memory is likely unrelated with the connection resets. Upgrade to a\nnewer Tomcat release if you can.", "id": 24768, "time": "2002-10-17T08:52:37Z", "bug_id": 391, "creation_time": "2002-10-17T08:52:37Z", "is_private": false, "attachment_id": null}]