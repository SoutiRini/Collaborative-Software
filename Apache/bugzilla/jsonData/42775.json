[{"count": 0, "tags": [], "bug_id": 42775, "attachment_id": null, "id": 104885, "time": "2007-06-28T23:25:02Z", "creator": "pdineshk@elitmus.com", "creation_time": "2007-06-28T23:25:02Z", "is_private": false, "text": "I needed to compile Apache Httpd 2.2.4 on 64-bit Centos 5. I used the following\nconfigure command:\n  ./configure --prefix=/usr/local/apache2.2.4-prod \\\n  --with-mpm=worker --with-included-apr \\\n  --enable-cache --enable-mem-cache --enable-access --enable-authz_host \\\n  --disable-setenvif --disable-userdir --disable-autoindex \\\n  --disable-env --disable-actions  --disable-authn_file \\\n  --disable-authn_default --disable-authz_groupfile \\\n  --disable-authz_user --disable-imap --disable-authz_default --disable-auth_basic \\\n  --disable-filter --disable-autoindex --disable-asis --disable-cgid \\\n  --disable-negotiation --disable-actions --disable-userdir \\\n  --disable-cgi  --disable-include --disable-asis  --disable-env \\\n  --disable-setenvif \n\nI got this error when I ran make (after the configure command ran): \n\n/usr/lib/libexpat.so: could not read symbols: File in wrong format\n\nCentos keeps its 64-bit libraries in /lib & /usr/lib.  I thought that was the\nproblem and added the LDFLAGS environment variable before running configure.  \n\nexport LDFLAGS=\"-L/usr/lib64 -L/lib64\"\n\nBut I got the same error.   configure shows the following messages:\nchecking for Expat in /usr... yes\n  adding \"-lexpat\" to APRUTIL_EXPORT_LIBS\n  setting APRUTIL_LDFLAGS to \"\"\n  adding \"/usr/lib/libexpat.la\" to APRUTIL_LIBS\n\nI went and changed the order in which the lib directories are searched in\napr-util/configure:\n\nif test -z \"$expat_include_dir\"; then\n  for d in /usr /usr/local xml/expat-cvs xml/expat $srcdir/xml/expat ; do\n\n  echo \"$as_me:$LINENO: checking for Expat in $d\" >&5\necho $ECHO_N \"checking for Expat in $d... $ECHO_C\" >&6\n\n  expat_libtool=\"\"\n\n  if test -r \"$d/lib/expat.h.in\"; then\n        expat_include_dir=\"$d/lib\"\n    expat_ldflags=\"-L$d/lib\"\n    expat_libs=\"-lexpat\"\n    expat_libtool=\"$d/lib/libexpat.la\"\n  elif test -r \"$d/include/expat.h\" -a \\\n    -r \"$d/lib64/libexpat.la\"; then\n        expat_include_dir=\"$d/include\"\n    expat_ldflags=\"-L$d/lib64\"\n    expat_libs=\"-lexpat\"\n    expat_libtool=\"$d/lib64/libexpat.la\"\n  elif test -r \"$d/include/expat.h\" -a \\\n    -r \"$d/lib/libexpat.la\"; then\n        expat_include_dir=\"$d/include\"\n    expat_ldflags=\"-L$d/lib\"\n    expat_libs=\"-lexpat\"\n    expat_libtool=\"$d/lib/libexpat.la\"\n\nThe make goes through without issues now & apache runs."}, {"count": 1, "tags": [], "bug_id": 42775, "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of 28205 ***", "id": 104932, "time": "2007-06-29T15:38:51Z", "creator": "rpluem@apache.org", "creation_time": "2007-06-29T15:38:51Z", "attachment_id": null}]