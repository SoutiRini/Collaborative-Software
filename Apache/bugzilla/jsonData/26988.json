[{"count": 0, "tags": [], "text": "The CGIServlet.java is erroneously adding 2 line feeds to the stdin stream of \nof a CGI process. The problem happens in the getPostInput() method. Even if no \nrequest parameters are present it will return a line feed. The calling method \nchecks for null, but based on the getPostInput method this can never occur. \nAdding the following code fixes the problem.\n\nprotected String getPostInput(Hashtable params) {\n...\nreturn qs.length() > 0 ? qs.append(lineSeparator).append(postInput).toString\n() : null;\n}\n\nThis only adds a line separator if parameters exist. I've also looked at the \nouput string which is formated as follows (example using 2 params):\n\n\"param1=value1&parma2=value2&\nparam1=value1\nparam2=value2\n\n\"\n\nIs this the expected output format? The problematic code also exists for \nversion 5.0.19.\n\nKevin", "attachment_id": null, "bug_id": 26988, "id": 52384, "time": "2004-02-16T20:07:52Z", "creator": "kws@qad.com", "creation_time": "2004-02-16T20:07:52Z", "is_private": false}, {"count": 1, "tags": [], "text": "This has been fixed in CVS and will be included in the next release. It has \nalso been fixed in the 4.1.x branch.\n\nI have applied a modified version of your patch.\n\nI agree the output format looks a little odd but I propose to leave it as \nchanging it may well break existing scripts and no-one has actually complained \nthat the format is invalid.", "is_private": false, "id": 52390, "creation_time": "2004-02-16T23:42:33Z", "time": "2004-02-16T23:42:33Z", "creator": "markt@apache.org", "bug_id": 26988, "attachment_id": null}]