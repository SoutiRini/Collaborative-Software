[{"count": 0, "tags": [], "text": "We have Production and developement environments whith the same version of \napache-tomcat, jk and openssl versions. In our developement environment (PC \ni686 based) we do not have any problem but the same application in production \nenvironments raises this error. Is there any solution or workarroun ?\n\nOf course all session variables implement serializable.\n\n12/02/2007 18:05:30 org.apache.catalina.cluster.session.DeltaManager \nrequestCompleted\nSEVERE: Unable to serialize delta request for sessionid \n[2A003931BCFFD4524F86A4B0797B80DF.workerW12]\njava.io.NotSerializableException: \norg.apache.tomcat.dbcp.dbcp.PoolingDataSource$PoolGuardConnectionWrapper\n\tat java.io.ObjectOutputStream.writeObject0(Unknown Source)\n\tat java.io.ObjectOutputStream.defaultWriteFields(Unknown Source)\n\tat java.io.ObjectOutputStream.writeSerialData(Unknown Source)\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(Unknown Source)\n\tat java.io.ObjectOutputStream.writeObject0(Unknown Source)\n\tat java.io.ObjectOutputStream.writeObject(Unknown Source)\n\tat \norg.apache.catalina.cluster.session.DeltaRequest$AttributeInfo.writeExternal\n(DeltaRequest.java:346)\n\tat org.apache.catalina.cluster.session.DeltaRequest.writeExternal\n(DeltaRequest.java:263)\n\tat org.apache.catalina.cluster.session.DeltaManager.unloadDeltaRequest\n(DeltaManager.java:710)\n\tat org.apache.catalina.cluster.session.DeltaManager.requestCompleted\n(DeltaManager.java:1293)\n\tat org.apache.catalina.cluster.tcp.ReplicationValve.send\n(ReplicationValve.java:543)\n\tat org.apache.catalina.cluster.tcp.ReplicationValve.sendMessage\n(ReplicationValve.java:530)\n\tat \norg.apache.catalina.cluster.tcp.ReplicationValve.sendSessionReplicationMessage\n(ReplicationValve.java:512)\n\tat \norg.apache.catalina.cluster.tcp.ReplicationValve.sendReplicationMessage\n(ReplicationValve.java:427)\n\tat org.apache.catalina.cluster.tcp.ReplicationValve.invoke\n(ReplicationValve.java:361)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:105)\n\tat org.apache.catalina.authenticator.SingleSignOn.invoke\n(SingleSignOn.java:392)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:107)\n\tat org.apache.catalina.connector.CoyoteAdapter.service\n(CoyoteAdapter.java:148)\n\tat org.apache.coyote.ajp.AjpAprProcessor.process\n(AjpAprProcessor.java:425)\n\tat org.apache.coyote.ajp.AjpAprProtocol$AjpConnectionHandler.process\n(AjpAprProtocol.java:452)\n\tat org.apache.tomcat.util.net.AprEndpoint$Worker.run\n(AprEndpoint.java:1196)\n\tat java.lang.Thread.run(Unknown Source)\n12/02/2007 18:06:14 org.apache.struts.action.RequestProcessor process", "attachment_id": null, "bug_id": 41595, "id": 99285, "time": "2007-02-12T09:57:48Z", "creator": "osegarra@gencat.net", "creation_time": "2007-02-12T09:57:48Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 41595, "attachment_id": null, "text": "Either disable session serialization (especially if you're *not* failing\nsessions over between tomcat's), or don't put a Connection into the session.\n\nIf you have a Connection in the session, you obviously can't just serialize it\nto the failover server..", "id": 99300, "time": "2007-02-12T15:11:22Z", "creator": "shankarunni@netscape.net", "creation_time": "2007-02-12T15:11:22Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "markt@apache.org", "is_private": false, "count": 2, "id": 99304, "time": "2007-02-12T17:55:06Z", "bug_id": 41595, "creation_time": "2007-02-12T17:55:06Z", "text": "Bugzilla is not a support forum. If you need more guidance than comment 1\nprovides, please use the tomcat users mailing list."}, {"count": 3, "text": "(In reply to comment #1)\n\nThanks for your quick response. We need to enable serialization because our \ncluster tomcat needs to failover over the other apache (we have a two node \ncluster).\n\nI have talked with our programmer and he has asured that because of this errors \nhe has taken out the connection from the session and now it is not in the \nsession.\n\nIn our developement environmet it works perfectly but in our production \nenvironment it does not work.\n\nThanks in advance.\n\n", "bug_id": 41595, "attachment_id": null, "id": 99316, "time": "2007-02-13T00:33:03Z", "creator": "osegarra@gencat.net", "creation_time": "2007-02-13T00:33:03Z", "tags": [], "is_private": false}, {"count": 4, "text": "You won't see this exception unless you put the Connection in the session.", "bug_id": 41595, "attachment_id": null, "id": 99453, "time": "2007-02-15T15:54:57Z", "creator": "markt@apache.org", "creation_time": "2007-02-15T15:54:57Z", "tags": [], "is_private": false}]