[{"count": 0, "tags": [], "creator": "t-sano@isd.nec.co.jp", "is_private": false, "id": 50586, "attachment_id": null, "bug_id": 26160, "creation_time": "2004-01-15T10:06:18Z", "time": "2004-01-15T10:06:18Z", "text": "I got the following error when I used \"jcoverage.jar\":\n[taskdef] Could not load definitions from resource tasks.properties. It could \nnot be found.\n\nMy taskdef is like:\n<taskdef classpath=\"jcoverage.jar\" resource=\"tasks.properties\"/>\n\nThis taskdef works fine on ANT-1.5.4.\nI got correct result when I use the following:\n<taskdef classpath=\"${ant.home}/lib/jcoverage.jar\" \nresource=\"tasks.properties\"/>\n\nI think classpath=\"jcoverage.jar\" must refer ${ant.home}/lib/*.jar. Is this \ndegrade?"}, {"count": 1, "tags": [], "bug_id": 26160, "text": "Classpath handling has changed in 1.6.0.\nIt seems that the resource is searched for in the classloader\ngenerated from the classpath setting and not in the parent classloader.\n\nPlease note that\n<taskdef classpath=\"jcoverage.jar\" resource=\"tasks.properties\"/>\nwill look for tasks.properties in ${basedir}/jcoverage.jar and\n(in 1.5.5) in the ${ant.home}/lib/*.jar, so as jcoverage.jar in\n${ant.home}/lib in your example, the classpath attribute is\nnot necessary and is confusing.\nso use:\n<taskdef resource=\"tasks.properties\"/>\n\nAlso note that if \"tasks.properties\" is in another other jar\nfile in ${ant.home}/lib, your taskdef will fail.\nA work-around for this would be to do as you say:\n\n<taskdef classpath=\"${ant.home}/lib/jcoverage.jar\" resource=\"tasks.properties\"/>\nwhich should work in 1.5.4 and 1.6.0.\n\nI am leaving this open as the resource should have been found (I think).\n", "id": 50587, "time": "2004-01-15T10:32:48Z", "creator": "peter.reilly@corvil.com", "creation_time": "2004-01-15T10:32:48Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 26160, "text": "classpath=\"jcoverage.jar\" implies the jar is located in your project's basedir.\n Is this the case?", "id": 87872, "time": "2006-04-12T21:22:02Z", "creator": "bodewig@apache.org", "creation_time": "2006-04-12T21:22:02Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 26160, "attachment_id": null, "text": "This has been fixed by ant 1.6.5,\nThe user did not have jcoverage.jar in the project's basedir\nit was in $ANT_HOME/lib\nin ant 1.5.4 and ant 1.6.5,\none can do <taskdef classpath=\"not-present.jar\" resource=\n\"net/sf/antcontrib/antcontrib.properties\" />\nand ant would look in the parent classloader for antcontrib.properties.\nThis was not the case in ant 1.6.0.\nMarking as FIXED.", "id": 93721, "time": "2006-09-18T09:24:46Z", "creator": "peterreilly@apache.org", "creation_time": "2006-09-18T09:24:46Z", "is_private": false}]