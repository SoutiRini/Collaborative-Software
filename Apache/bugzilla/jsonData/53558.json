[{"count": 0, "tags": [], "bug_id": 53558, "text": "Since the unit tests were changed to JUnit 4, a failing layout engine test is no longer identifiable, since the individual tests just have an index but no name. I currently get:\n\nTestcase: runTest[555] took 0.017 sec\nTestcase: runTest[556] took 0.022 sec\nTestcase: runTest[557] took 0.023 sec\nTestcase: runTest[558] took 0.037 sec\nTestcase: runTest[559] took 0.032 sec\n\tCaused an ERROR\nExpected XPath expression to evaluate to 'true', but got 'false' (XPath: boolean(/areaTree/*))\njava.lang.RuntimeException: Expected XPath expression to evaluate to 'true', but got 'false' (XPath: boolean(/areaTree/*))\n\tat org.apache.fop.layoutengine.TrueCheck.doCheck(TrueCheck.java:78)\n\tat org.apache.fop.layoutengine.TrueCheck.check(TrueCheck.java:59)\n\tat org.apache.fop.layoutengine.LayoutEngineTestCase.doATChecks(LayoutEngineTestCase.java:256)\n\tat org.apache.fop.layoutengine.LayoutEngineTestCase.checkAll(LayoutEngineTestCase.java:190)\n\tat org.apache.fop.layoutengine.LayoutEngineTestCase.runTest(LayoutEngineTestCase.java:171)\n\nTestcase: runTest[560] took 0.021 sec\nTestcase: runTest[561] took 0.022 sec\nTestcase: runTest[562] took 0.023 sec", "id": 160686, "time": "2012-07-17T09:25:13Z", "creator": "jeremias@apache.org", "creation_time": "2012-07-17T09:25:13Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 53558, "attachment_id": null, "id": 160690, "time": "2012-07-17T09:44:01Z", "creator": "vhennebert@gmail.com", "creation_time": "2012-07-17T09:44:01Z", "is_private": false, "text": "This is a known issue of JUnit 4. However, rev. 1360665 contains a change to LayoutEngineTestUtils that will display the list of correspondences between test number and test files by switching the DEBUG boolean to true.\n\nI believe this provides a reasonable solution to this issue, feel free to re-open if not."}, {"count": 2, "tags": [], "bug_id": 53558, "attachment_id": null, "text": "I agree with Jeremias on this, and further, that something else needs to be done to better report the failing test without having to do something special (i.e., switching a DEBUG boolean).\n\nI reported this problem just after JUnit 4 was adopted, and I seem to recall that Mehdi was going to look into a better solution. FWIW, when I encounter this problem, I've been using Eclipse to catch the assert, which then allows one to discover the culprit by walking up the stack a few levels.\n\nIn any case, I'm reopening this (as P3) as I'd like to see a better, long-term solution.", "id": 160692, "time": "2012-07-17T13:27:23Z", "creator": "gadams@apache.org", "creation_time": "2012-07-17T13:27:23Z", "is_private": false}, {"count": 3, "tags": [], "creator": "med1985@gmail.com", "attachment_id": null, "id": 160693, "time": "2012-07-17T13:37:33Z", "bug_id": 53558, "creation_time": "2012-07-17T13:37:33Z", "is_private": false, "text": "Hmm...  I swear I replied to this this morning... Anyways, I have been looking into this periodically and hadn't found anything 'til today:\n\nhttps://github.com/KentBeck/junit/issues/44\n\nI don't have time to look into this at the moment, but I will look into it in the next week or so so watch this space."}, {"count": 4, "tags": [], "creator": "vhennebert@gmail.com", "attachment_id": null, "id": 160712, "time": "2012-07-18T10:32:49Z", "bug_id": 53558, "creation_time": "2012-07-18T10:32:49Z", "is_private": false, "text": "(In reply to comment #3)\n> Hmm...  I swear I replied to this this morning... Anyways, I have been\n> looking into this periodically and hadn't found anything 'til today:\n> \n> https://github.com/KentBeck/junit/issues/44\n> \n> I don't have time to look into this at the moment, but I will look into it\n> in the next week or so so watch this space.\n\nIt looks like a patch fixing the issue has been committed recently:\nhttps://github.com/KentBeck/junit/commit/3a5c9f2731462e36dd1c173ea8840d7b9b34b0ab\n\nIIC it should make it in JUnit 4.11. So we just have to wait."}, {"count": 5, "tags": [], "creator": "med1985@gmail.com", "attachment_id": null, "text": "So I've been playing around with this this morning and with the junit-4.11 snapshot, it seems like all we need to do is change the \"@Parameters\" to \"@Parameters(name = \"Test file = {0}\")\". That seems to do the trick and expresses the file name when a failure occurs.", "id": 160737, "time": "2012-07-20T06:40:36Z", "bug_id": 53558, "creation_time": "2012-07-20T06:40:36Z", "is_private": false}, {"count": 6, "tags": [], "creator": "med1985@gmail.com", "attachment_id": null, "id": 160738, "time": "2012-07-20T06:45:13Z", "bug_id": 53558, "creation_time": "2012-07-20T06:45:13Z", "is_private": false, "text": "Ohh and I did some perusing and my sleuthing skills suggest we shouldn't have to wait to long for the 4.11 release. Looking at the 4.x release dates, they seem to be releasing annually (or there abouts) and 4.10 was released 10months ago... Watch out Columbo, there's a new kid in town."}]