[{"count": 0, "tags": [], "creator": "ksakamoto@google.com", "attachment_id": null, "id": 179810, "time": "2014-12-17T01:32:33Z", "bug_id": 57358, "creation_time": "2014-12-17T01:32:33Z", "is_private": false, "text": "Handling of If-Match header (RFC 2616, Section 14.24) seems to be broken. See an example session below:\n\n\n# Obtain ETag\n\nGET / HTTP/1.0\n\nHTTP/1.1 200 OK\nDate: Tue, 16 Dec 2014 02:27:48 GMT\nServer: Apache/2.4.10 (Unix)\nLast-Modified: Mon, 11 Jun 2007 18:53:14 GMT\nETag: \"2d-432a5e4a73a80\"\nAccept-Ranges: bytes\nContent-Length: 45\nConnection: close\nContent-Type: text/html\n\n<html><body><h1>It works!</h1></body></html>\n\n\n# If-Match with ETag => OK\n\nGET / HTTP/1.0\nIf-Match: \"2d-432a5e4a73a80\"\n\nHTTP/1.1 200 OK\nDate: Tue, 16 Dec 2014 02:28:33 GMT\nServer: Apache/2.4.10 (Unix)\nLast-Modified: Mon, 11 Jun 2007 18:53:14 GMT\nETag: \"2d-432a5e4a73a80\"\nAccept-Ranges: bytes\nContent-Length: 45\nConnection: close\nContent-Type: text/html\n\n<html><body><h1>It works!</h1></body></html>\n\n\n# If-Match: * => WRONG, should return 200\n\nGET / HTTP/1.0\nIf-Match: *\n\nHTTP/1.1 412 Precondition Failed\nDate: Tue, 16 Dec 2014 02:28:43 GMT\nServer: Apache/2.4.10 (Unix)\nLast-Modified: Mon, 11 Jun 2007 18:53:14 GMT\nETag: \"2d-432a5e4a73a80\"\nAccept-Ranges: bytes\nContent-Length: 0\nConnection: close\nContent-Type: text/html\n\n\n# ETag doesn't match => WRONG, should return 412\n\nGET / HTTP/1.0\nIf-Match: \"xyzzy\"\n\nHTTP/1.1 200 OK\nDate: Tue, 16 Dec 2014 02:28:53 GMT\nServer: Apache/2.4.10 (Unix)\nLast-Modified: Mon, 11 Jun 2007 18:53:14 GMT\nETag: \"2d-432a5e4a73a80\"\nAccept-Ranges: bytes\nContent-Length: 45\nConnection: close\nContent-Type: text/html\n\n<html><body><h1>It works!</h1></body></html>"}, {"count": 1, "tags": [], "creator": "ksakamoto@google.com", "attachment_id": 32297, "id": 179811, "time": "2014-12-17T01:35:10Z", "bug_id": 57358, "creation_time": "2014-12-17T01:35:10Z", "is_private": false, "text": "Created attachment 32297\nPatch"}, {"count": 2, "tags": [], "bug_id": 57358, "attachment_id": null, "text": "Committed a slightly different version in r1646282 to trunk. Thanks for the pointer.", "id": 179827, "time": "2014-12-17T15:40:40Z", "creator": "rpluem@apache.org", "creation_time": "2014-12-17T15:40:40Z", "is_private": false}, {"count": 3, "tags": [], "creator": "wiml@omnigroup.com", "attachment_id": null, "id": 181656, "time": "2015-03-10T23:23:10Z", "bug_id": 57358, "creation_time": "2015-03-10T23:23:10Z", "is_private": false, "text": "Confirming that the bug is fixed in recent (r1665385) trunk (2.5 dev).\n\nI'd like to propose this to be backported to the 2.4 branch, since it's a regression and can cause loss of data if a client is relying on the functionality. (The bug appeared between the 2.4.4 and 2.4.6 releases, and exists up though 2.4.12 and the current (r1665231) 2.4.x-branch head.)"}, {"count": 4, "tags": [], "creator": "ylavic.dev@gmail.com", "text": "Backport to 2.4.x proposed in r1665739.", "id": 181658, "time": "2015-03-10T23:52:04Z", "bug_id": 57358, "creation_time": "2015-03-10T23:52:04Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "christophe.jaillet@wanadoo.fr", "text": "This is part of the (unreleased) 2.4.13\nbackport in r1674658", "id": 183775, "time": "2015-06-27T07:16:53Z", "bug_id": 57358, "creation_time": "2015-06-27T07:16:53Z", "is_private": false, "attachment_id": null}]