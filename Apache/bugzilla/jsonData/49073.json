[{"count": 0, "tags": [], "text": "The shutdown port of the server container can be set to -1\n\nThe docs for the shutdown port (http://tomcat.apache.org/tomcat-6.0-doc/config/server.html) currently say\n\n\"The TCP/IP port number on which this server waits for a shutdown command. This connection must be initiated from the same server computer that is running this instance of Tomcat.\"\n\nbut should say\n\n\"The TCP/IP port number on which this server waits for a shutdown command. This connection must be initiated from the same server computer that is running this instance of Tomcat.\nIf this value is set to -1 the ability to shutdown Tomcat by using a shutdown command will be disabled.  The standard tomcat shutdown script will however perform a shutdown regardless.\"", "attachment_id": null, "id": 135965, "creator": "pnee@toombeola.com", "time": "2010-04-08T14:59:09Z", "bug_id": 49073, "creation_time": "2010-04-08T14:59:09Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 49073, "attachment_id": null, "id": 136442, "time": "2010-04-27T08:52:13Z", "creator": "markt@apache.org", "creation_time": "2010-04-27T08:52:13Z", "is_private": false, "text": "The updated comment isn't correct for operating systems that use catalina.sh, the shutdown script will still work (since the PID file is used to identify the process to shutdown). On operating systems that use catalina.bat, the shutdown script will no longer work since it utilises the shutdown port.\n\nI have updated the docs for Tomcat 5, 6 & 7 accordingly."}, {"count": 2, "tags": [], "bug_id": 49073, "attachment_id": null, "text": "Re: r938430, r938431, r938432\n\n> (since the PID file is used to identify the process to shutdown)\n\nThe PID file is created only if $CATALINA_PID is defined, which is optional and is not defined by default.\n\n\nWindows service launcher and jsvc should be able to use -1 as well. As of now, there is a cosmetic issue though, - bug 49195.\n\nThere is also undocumented value of post=\"-2\", though it is unlikely that it would ever used in a configuration file, see StandardServer#await().", "id": 136448, "time": "2010-04-27T10:26:36Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2010-04-27T10:26:36Z", "is_private": false}, {"count": 3, "text": "(In reply to comment #0)\n> but should say\n> \n> (...) \"The standard tomcat shutdown script will however\n> perform a shutdown regardless.\"\n\nThat does not perform a graceful shutdown, as was noted on the users list [1].\n\nI updated the docs in r1086036\n\n[1] http://marc.info/?t=130109894900005&r=1&w=2", "bug_id": 49073, "attachment_id": null, "id": 145318, "time": "2011-03-27T17:22:50Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2011-03-27T17:22:50Z", "tags": [], "is_private": false}]