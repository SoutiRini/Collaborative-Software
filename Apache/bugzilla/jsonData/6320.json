[{"count": 0, "text": "A scripting element in an element seem to mess up the TLV state and cause invalid\nerror message due to this. An example:\n\n  <c:choose>\n    <c:when test=\"1 == 1\">\n      <%= foo %>\n      <c:set var=\"isValid\" value=\"false\" />\n    </c:when>\n  </c:choose>\n\nThis gives \"Illegal child tag in \"c:choose\": \"c:set\". If I remove the scripting\nelement it works fine.", "bug_id": 6320, "is_private": false, "id": 10478, "time": "2002-02-08T00:30:08Z", "creator": "hans@gefionsoftware.com", "creation_time": "2002-02-08T00:30:08Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 6320, "attachment_id": null, "text": "Thanks again for the report, Hans, but are you certain that you weren't \nvalidating a stale page or another part of the page than the fragment you \nlisted?  I can't replicate the problem or see any reason for it glancing at the \nTLV code.  The following page, in toto, works for me in Tomcat 4.0.1:\n\n <%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jstl/ea/core\" %>\n <% String foo = \"bar\"; %>\n <c:choose>\n   <c:when test=\"1 == 1\">\n     <%= foo %>\n     <c:set var=\"isValid\" value=\"false\" />\n   </c:when>\n </c:choose>\n\nAre you sure the error matches the code fragment?", "id": 10479, "time": "2002-02-08T00:36:42Z", "creator": "bayern@essentially.net", "creation_time": "2002-02-08T00:36:42Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 6320, "attachment_id": null, "id": 10480, "time": "2002-02-08T00:50:16Z", "creator": "hans@gefionsoftware.com", "creation_time": "2002-02-08T00:50:16Z", "is_private": false, "text": "Sorry, my bad. I had forgot that I had hacked versions of the TLVs in my web \napp ;-) My incorrect hack to fix the <jsp:useBean> problem caused the problem\nI reported here. I'll update to your latest version as soon as the nightly\nbuilds are done."}]