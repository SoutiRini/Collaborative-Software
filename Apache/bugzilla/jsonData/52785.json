[{"count": 0, "tags": [], "bug_id": 52785, "attachment_id": null, "id": 154314, "time": "2012-02-28T11:14:59Z", "creator": "andre@gnu4u.org", "creation_time": "2012-02-28T11:14:59Z", "is_private": false, "text": "When using pool debug, the testall fails.\n\nSteps to reproduce:\n$ tar -xvf  apr-1.4.6.tar.bz2\n$ cd apr-1.4.6/\n$ ./configure --enable-pool-debug=all --enable-threads\n$ make\n$ cd test\n$ make\n$ ./testall\n\nOutput:\n[...]\nPOOL DEBUG: [30734/140510846469888]  THREAD                                    0x1f907c0 <memory/unix/apr_pools.c:apr_pool_integrity check> \n\\POOL DEBUG: [30734/140510972262144] PCALLOC (      2168/      2168/      2368) 0x1f8e660 \"testutil.c:43\" <threadproc/unix/thread.c:154> (83/83/0) \nPOOL DEBUG: [30734/140510972262144] PCALLOC (      2176/      2176/      2376) 0x1f8e660 \"testutil.c:43\" <threadproc/unix/thread.c:160> (84/84/0) \nPOOL DEBUG: [30734/140510972262144]  CREATE (         0/         0/      2376) 0x1f983b0 \"threadproc/unix/thread.c:174\" <threadproc/unix/thread.c:174> (0/0/0) \nPOOL DEBUG: [30734/140510947182336]  THREAD                                    0x1f8ef00 <memory/unix/apr_pools.c:apr_pool_integrity check> \nAborted (core dumped)\n\nStack trace:\n(gdb) bt\n#0  0x00007fcb419b41b5 in *__GI_raise (sig=<value optimized out>) at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\n#1  0x00007fcb419b6fc0 in *__GI_abort () at abort.c:92\n#2  0x00007fcb4255cf1f in apr_pool_check_integrity (pool=0x1f907c0) at memory/unix/apr_pools.c:1352\n#3  0x00007fcb4255e251 in pool_destroy_debug (pool=0x780e, file_line=0x781c <Address 0x781c out of bounds>) at memory/unix/apr_pools.c:1632\n#4  0x00007fcb42568416 in apr_thread_exit (thd=<value optimized out>, retval=<value optimized out>) at threadproc/unix/thread.c:206\n#5  0x000000000041a131 in thread_func_atomic (thd=0x1f90770, data=<value optimized out>) at testatomic.c:258\n#6  0x00007fcb41eee8ca in start_thread (arg=<value optimized out>) at pthread_create.c:300\n#7  0x00007fcb41a5186d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#8  0x0000000000000000 in ?? ()"}, {"count": 1, "tags": [], "bug_id": 52785, "attachment_id": null, "id": 166111, "time": "2013-03-23T16:22:31Z", "creator": "sf@sfritsch.de", "creation_time": "2013-03-23T16:22:31Z", "is_private": false, "text": "This should now work in trunk. Commits:\n\nr1460182\nr1460183\nr1460184\nr1460185\nr1460186"}]