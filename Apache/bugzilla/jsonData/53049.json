[{"count": 0, "tags": [], "text": "Created attachment 28560\nAn Ant project demonstrating the problem, and a maven project showing an expected outcome.\n\nHere is a working example showing the Ant problem with classpaths.\nDummyTest simply outputs the classpath received.\nThe problem is Ant doesn't append classpath entries defined within a junit task as per build.xml given.\nI have made an example of a project employing Maven to demonstrate what kind of output I expect to see.\nHere is the output of 'ant test':\n\ntest:\n    [junit] Testsuite: test.DummyTest\n    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.017 sec\n    [junit] ------------- Standard Output ---------------\n    [junit] C:\\Java\\apache-ant-1.8.3\\bin\\..\\lib\\ant-launcher.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-antlr.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-apache-bcel.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-apache-bsf.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-apache-log4j.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-apache-oro.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-apache-regexp.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-apache-resolver.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-apache-xalan2.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-commons-logging.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-commons-net.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-jai.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-javamail.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-jdepend.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-jmf.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-jsch.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-junit.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-junit4.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-launcher.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-netrexx.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-swing.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant-testutil.jar\n    [junit] C:\\Java\\apache-ant-1.8.3\\lib\\ant.jar\n    [junit] C:\\Java\\jdk1.6.0_31_x86\\lib\\tools.jar\n    [junit] ------------- ---------------- ---------------\n    [junit]\n    [junit] Testcase: dummyTest took 0.005 sec\n\nAnd here is the one of 'mvn test'\n\nRunning test.DummyTest\nD:\\tmp\\1\\MavenTest\\target\\test-classes\nD:\\tmp\\1\\MavenTest\\target\\classes\nC:\\Users\\urs2\\.m2\\repository\\junit\\junit\\4.8\\junit-4.8.jar\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.045 sec\n\nPlease, find the example attached.\nThanks, Alex.", "attachment_id": 28560, "bug_id": 53049, "id": 157723, "time": "2012-04-09T08:32:44Z", "creator": "a320395040@gmail.com", "creation_time": "2012-04-09T08:32:44Z", "is_private": false}, {"count": 1, "tags": [], "text": "the system propery java.class.path doesn't tell you anything about the classloader that was used.  If you'd fork the junit task you'd see all you expect.\n\nFor a non-forked execution you'll get a real answer by\n\n        String classPath = ((org.apache.tools.ant.AntClassLoader) DummyTest.class.getClassLoader()).getClasspath();", "is_private": false, "id": 172072, "creator": "bodewig@apache.org", "time": "2014-01-04T15:42:14Z", "bug_id": 53049, "creation_time": "2014-01-04T15:42:14Z", "attachment_id": null}]