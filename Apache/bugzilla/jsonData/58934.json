[{"attachment_id": null, "tags": [], "bug_id": 58934, "text": "We have multiple Proxy Balancers setup using the same BalancerMembers but different URLs in the ProxyPass statements.  On initial startup, if mod_proxy finds one BalancerMember with some initial settings, those carry over to all BalancerMembers regardless of the Proxy Balancer as long as the host:port match.  If you hit the status page, you can adjust individual BalancerMembers accordingly.\n\nHere is an example:\n\n<Location /a>\n        Order allow,deny\n        Allow from all\n        <LimitExcept GET POST>\n                Deny from all\n        </LimitExcept>\n        ProxyPass balancer://a_Cluster/some_url\n        ProxyPassReverse balancer://a_Cluster/some_url\n</Location>\n\n<Proxy balancer://a_Cluster>\n  BalancerMember http://node1.com loadfactor=1 status=D\n  BalancerMember http://node2.com loadfactor=1\n  ProxySet lbmethod=byrequests\n</Proxy>\n\n<Location /b>\n        Order allow,deny\n        Allow from all\n        <LimitExcept GET POST>\n                Deny from all\n        </LimitExcept>\n        ProxyPass balancer://b_Cluster/some_other_url\n        ProxyPassReverse balancer://b_Cluster/some_other_url\n</Location>\n\n<Proxy balancer://b_Cluster>\n  BalancerMember http://node1.com loadfactor=1\n  BalancerMember http://node2.com loadfactor=1\n  ProxySet lbmethod=byrequests\n</Proxy>\n\n<Location /c>\n        Order allow,deny\n        Allow from all\n        <LimitExcept GET POST>\n                Deny from all\n        </LimitExcept>\n        ProxyPass balancer://c_Cluster/yet_another_url\n        ProxyPassReverse balancer://c_Cluster/yet_another_url\n</Location>\n\n<Proxy balancer://c_Cluster>\n  BalancerMember http://node1.com loadfactor=1\n  ProxySet lbmethod=byrequests\n</Proxy>\n\nWe would like to have the first BalancerMember in 'a_Cluster' come up disabled but the others using the same host and port to be enabled in the other LoadBalancers.\n\nWhen Apache starts, you get the following:\n\nLoadBalancer Status for balancer://a_cluster\nWorker URL\tRoute\tRouteRedir\tFactor\tSet\tStatus\tElected\tTo\tFrom\nhttp://node1.com\t\t\t1\t0\tDis\t0\t0\t0\nhttp://node2.com\t\t\t1\t0\tOk\t0\t0\t0\n\nLoadBalancer Status for balancer://b_cluster\nWorker URL\tRoute\tRouteRedir\tFactor\tSet\tStatus\tElected\tTo\tFrom\nhttp://node1.com\t\t\t1\t0\tDis\t0\t0\t0\nhttp://node2.com\t\t\t1\t0\tOk\t0\t0\t0\n\nLoadBalancer Status for balancer://c_cluster\nWorker URL\tRoute\tRouteRedir\tFactor\tSet\tStatus\tElected\tTo\tFrom\nhttp://node1.com\t\t\t1\t0\tDis\t0\t0\t0\n\n\nSo even though only the first LoadBalancer had the first Worker URL set for disabled, all that match the host:port are all set disabled.  This does the same thing if you try and use status=H as well.\n\nThis also happens if you use 'ibset'.\n\nUsing 'factor' only sets the one for that LoadBalancer as I would expect.", "count": 0, "id": 188022, "time": "2016-01-29T01:16:44Z", "creator": "earle.ake@kroger.com", "creation_time": "2016-01-29T01:16:44Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 58934, "text": "Mixing balancer and members can be problematic. We do provide the *Inherit commands to make better sense of it all, but this mostly devolves into a configuration issue.", "count": 1, "id": 192223, "time": "2016-07-07T17:57:22Z", "creator": "jim@apache.org", "creation_time": "2016-07-07T17:57:22Z", "is_private": false}]