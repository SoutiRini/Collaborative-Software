[{"count": 0, "tags": [], "creator": "imikla@gmail.com", "attachment_id": null, "id": 172636, "time": "2014-01-23T17:21:49Z", "bug_id": 56057, "creation_time": "2014-01-23T17:21:49Z", "is_private": false, "text": "This issue was discovered in jMeter 2.10. It has been verified to still exist in JMeter 2.11 (however expiration sub-issue has not been verified to still exist in 2.11).\n\nConfiguration:\nWindows 7.\njMeter 2.10 (upgraded to 2.11 during investigation).\nC:\\>java -version\n  java version \"1.7.0_09\"\n  Java(TM) SE Runtime Environment (build 1.7.0_09-b05)\n  Java HotSpot(TM) 64-Bit Server VM (build 23.5-b02, mixed mode)\nJava executed from the command line calls:\n  C:\\Program Files\\Java\\jdk1.7.0_09\\bin\\java.exe\nJMETER_HOME points to the JMeter 2.10 installation base.\nJAVA_HOME points to C:\\Program Files\\Java\\jdk1.7.0_09\nkeytool.exe is on the path and resides in:\n  C:\\Program Files\\Java\\jdk1.7.0_09\\bin\nThe folder: %JMETER_HOME%\\bin is writable and JMeter can write to it\n  (evidenced by creation of jmeter.log).\n\nSummary Description:\nJMeter reports creating an ApacheJMeterTemporaryRootCA certificate when starting 'HTTP(S) Test Script Recorder'. First-time-through the ApacheJMeterTemporaryRootCA.crt file is created. After expiration (only verified in 2.10), or subsequent removal (JMeter 2.10 and JMeter 2.11) of the ApacheJMeterTemporaryRootCA.crt (and ApacheJMeterTemporaryRootCA.usr in JMeter 2.11), JMeter reports creating an ApacheJMeterTemporaryRootCA certificate when starting 'HTTP(S) Test Script Recorder', but does not.\n\nWorkaround:\nJMeter 2.11: Remove the three files: ApacheJMeterTemporaryRootCA.crt, ApacheJMeterTemporaryRootCA.usr, and proxyserver.jks. Start 'HTTP(S) Test Script Recorder'.\n\n(Note: as the .crt and .usr files were removed first, and after testing again, the file proxyserver.jks was removed, it is not known if removing only the proxyserver.jks file would result in a new .crt and .usr files being created)\n\n(This workaround HAS NOT been verified to work in JMeter 2.10)\n\nDetailed Investigation:\nOriginally using JMeter 2.10. When following the procedure for recording http(s) at http://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.pdf, at the point when starting the 'HTTP(S) Test Script Recorder', a pop-up informs the user:\n\nRoot CA Certificate: ApacheJMeterTemporaryRootCA created in JMeter\n   bin directory (etc., etc.\u2026)\n\nIn this circumstance first-time-through, the certificate ApacheJMeterTemporaryRootCA.crt was created and used successfully. Subsequently, after the expiration of the generated certificate, the same procedure was attempted. JMeter reports that it has generated a new certificated, but no new certificate was created. \n\nThe file ApacheJMeterTemporaryRootCA.crt was then removed and the procedure was repeated. Again, JMeter reports that it has generated a new certificated, but no new certificate was created.\n\n\nIn the jmeter.log during this procedure, at the point when starting the 'HTTP(S) Test Script Recorder', an entry is written to the log such as:\n\n 2014/01/22 13:58:57 WARN - jmeter.protocol.http.proxy.ProxyControl:\n   Problem reading key storeNotAfter: Tue Jan 07 09:12:09 MST 2014\n\nExcept for the WARN in the log, JMeter behaves as if it has created the .crt file, but it does not.\n\nIt was learned that there was a version 2.11 that addressed some issues regarding errors relating to the .crt file. The 2.11 release was installed and first-time-use produced an ApacheJMeterTemporaryRootCA.crt file as expected. Additionally a file ApacheJMeterTemporaryRootCA.usr was also created. The .crt file worked as expected in the browser.\n\nTo test repeatability, the .crt and .usr were removed and the test was repeated. Upon start of the 'HTTP(S) Test Script Recorder', NO new .crt or .usr file was created. There was NO WARN reported to the log as in 2.10.\n\nA careful comparison of the original installation bin files with the current installation revealed that an additional file proxyserver.jks had been created.\nRepeating the proceedure after removal of this file in addition to the .crt and .usr files, produces a new .crt file."}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 172637, "time": "2014-01-23T17:56:09Z", "bug_id": 56057, "creation_time": "2014-01-23T17:56:09Z", "is_private": false, "text": "The ApacheJMeterTemporaryRootCA.crt/.usr files are only exported when the corresponding certificate is created.\n\nIf you delete either of these files without deleting the proxyserver.jks file, JMeter will not re-export the existing certificate. \n\nThis is by design; the certificate does not change (except if it needs to be recreated) so there is no point re-exporting the certificates.\n\nThe user is responsible for keeping the file if they want to reload it later into a browser.\n\nIf the certificate in the proxyserver.jks file becomes unusable for any reason - e.g. it expires or the cached password is changed - then JMeter should create a new certificate and export it to the .crt/.usr files.\n\nIf JMeter 2.11 does not do this, please provide full details of how to reproduce the issue along with relevant log files"}, {"count": 2, "tags": [], "bug_id": 56057, "attachment_id": null, "id": 172638, "time": "2014-01-23T18:35:46Z", "creator": "imikla@gmail.com", "creation_time": "2014-01-23T18:35:46Z", "is_private": false, "text": "This is easily understood when all these facts are known, but it is a significant point of confusion to tell the user \"Root CA Certificate: ApacheJMeterTemporaryRootCA created in JMeter bin directory\" when in fact nothing has been done because the certificate still exists inside the keystore.\n\nWhat exacerbates this is that no mention of the keystore is made and as it has a completely unrelated file-name there is nothing to suggest to look for it if a person is not aware that it exists (as would be the case for anyone trying to do this for the first time and following one of the various tutorials including the one on the apache.org site itself. It would make much more sense (IMHO) to check for the .crt file and recreated it if it is missing. As JMeter 'knows' how to do this, it makes sense for it to make sure that the file is there rather than forcing the user to figure out why it wasn't recreated and either how to generate the .crt from the keystore or to delete the keystore in order to force JMeter to do so.\n\nWhile I understand that it is an unusual circumstance that someone might remove the .crt file at all, it is the first thing to try when something fails. Besides the circumstance that caused me to remove the file (trying to force JMeter 2.10 to replace the expired one), I count at least two other circumstances online that others have encountered, both related to installation and upgrade of Java. This leaves a bewildered user scouring the forums and help pages looking for something that could easily be avoided by a simple file-check in the code.\n\nRegards the failure of 2.10 to replace the expired .crt (the original cause of this investigation), I believe I have provided sufficient evidence to that issue for JMeter 2.10, however proving that 2.11 still exhibits this behavior will take some time as know of no other means to test this short of waiting for the current .crt file to expire in my installation. Unless I learn of a means to do this in advance of that, I will see to it that I report back when it does."}, {"count": 3, "tags": [], "bug_id": 56057, "attachment_id": null, "text": "(In reply to Michael Aichlmayr from comment #2)\n> This is easily understood when all these facts are known, but it is a\n> significant point of confusion to tell the user \"Root CA Certificate:\n> ApacheJMeterTemporaryRootCA created in JMeter bin directory\" when in fact\n> nothing has been done because the certificate still exists inside the\n> keystore.\n\nI see what you are getting at now; the message is misleading.\n\n> What exacerbates this is that no mention of the keystore is made and as it\n> has a completely unrelated file-name there is nothing to suggest to look for\n> it if a person is not aware that it exists (as would be the case for anyone\n> trying to do this for the first time and following one of the various\n> tutorials including the one on the apache.org site itself. It would make\n> much more sense (IMHO) to check for the .crt file and recreated it if it is\n> missing. As JMeter 'knows' how to do this, it makes sense for it to make\n> sure that the file is there rather than forcing the user to figure out why\n> it wasn't recreated and either how to generate the .crt from the keystore or\n> to delete the keystore in order to force JMeter to do so.\n> \n> While I understand that it is an unusual circumstance that someone might\n> remove the .crt file at all, it is the first thing to try when something\n> fails. \n\nNot sure I follow that logic.\n\n> Besides the circumstance that caused me to remove the file (trying to\n> force JMeter 2.10 to replace the expired one), I count at least two other\n> circumstances online that others have encountered, both related to\n> installation and upgrade of Java. This leaves a bewildered user scouring the\n> forums and help pages looking for something that could easily be avoided by\n> a simple file-check in the code.\n\nThe documentation [1] says:\n\n\"If necessary, you can force JMeter to regenerate the keystore (and the exported certificates - ApacheJMeterTemporaryRootCA[.usr|.crt]) by deleting the keystore file proxyserver.jks from the JMeter directory. \"\n\nIs that not clear?\n\n[1] http://jmeter.apache.org/usermanual/component_reference.html#HTTP%28S%29_Test_Script_Recorder\n\n> Regards the failure of 2.10 to replace the expired .crt (the original cause\n> of this investigation), I believe I have provided sufficient evidence to\n> that issue for JMeter 2.10, however proving that 2.11 still exhibits this\n> behavior will take some time as know of no other means to test this short of\n> waiting for the current .crt file to expire in my installation. Unless I\n> learn of a means to do this in advance of that, I will see to it that I\n> report back when it does.\n\nYou can change the default expiry date from 7 days to 1 day (I don't think 0 days will work) by changing the following jmeter.property entry:\n\nproxy.cert.validity=7", "id": 172641, "time": "2014-01-23T19:36:02Z", "creator": "sebb@apache.org", "creation_time": "2014-01-23T19:36:02Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 56057, "attachment_id": null, "text": ">> While I understand that it is an unusual circumstance that someone might\n>> remove the .crt file at all, it is the first thing to try when something\n>> fails. \n> Not sure I follow that logic.\n\nThe process that led me there was, JMeter reported that it created the ApacheJMeterTemporaryRootCA certificate in the bin folder. I went straight to the bin folder with the browser and imported it, at first, without questioning that it had been (re)created. When I realized it was the expired one I had created some weeks before, my first thought was that maybe the existence of the expired .crt was somehow interfering with the creation of the file (Windows being what Windows is I have had such things happen before because of weird attributes on a file). Since it did not exist in the original installation, removing it seemed the most likely means through which to test if JMeter would create it when it wasn't already there.\n\n> The documentation [1] says:\n> \"If necessary, you can force JMeter to regenerate the keystore (and the\n> exported certificates - ApacheJMeterTemporaryRootCA[.usr|.crt]) by\n> deleting the keystore file proxyserver.jks from the JMeter directory. \"\n> Is that not clear?\n\nYes you are right it is absolutely clear. Had I not believed, that JMeter 'believed', that it had created the file, I probably would have gone to the documentation for an explanation of what was going on. As JMeter seemed to tell me that it did what I understood it was supposed to do, I immediately suspected OS issue or bug. Checking the manual should have been part of my process anyway, and would have changed (improved) the way I had initially reported this.\n\nI understand (now) that this is working as designed (with regard to exporting .crt|.usr from the keystore). It does seem (again IMHO) that it would be such a simple thing to check that the .crt|.usr files exist and re-export them if they don't, that it is worth doing (YMMV).\n\n> You can change the default expiry date from 7 days to 1 day\n> (I don't think 0 days will work) by changing the following\n> jmeter.property entry:\n> proxy.cert.validity=7\n\nI will give that a go then, and report back when I have a result.\nThank you.", "id": 172644, "time": "2014-01-23T20:33:35Z", "creator": "imikla@gmail.com", "creation_time": "2014-01-23T20:33:35Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 56057, "text": "This is going to take more than a day. Seems to be generating a new certificate every time I start the 'HTTP(S) Test Script Recorder' with proxy.cert.validity=1. Also having issues running JMeter 2.11 in any directory other than %JMETER_HOME%\\bin if I want to record (getting errors about keystore and .crt file). Will do some more extensive testing, gather some log info and report back next week.", "id": 172682, "attachment_id": null, "creator": "imikla@gmail.com", "creation_time": "2014-01-24T18:50:18Z", "time": "2014-01-24T18:50:18Z", "is_private": false}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "text": "(In reply to Michael Aichlmayr from comment #5)\n> Seems to be generating a new\n> certificate every time I start the 'HTTP(S) Test Script Recorder' with\n> proxy.cert.validity=1. \n\nI had forgotten that when starting the recorder JMeter checks to ensure that the certificate won't expire for at least 24 hours, as it would be a nuisance if it expired in the middle of a recording. It's unlikely are recording session will take 24 hours!\n\nSo a 1 day cert won't have sufficient reserve.\nAt least it shows the expiry check is working!\n\n> Also having issues running JMeter 2.11 in any\n> directory other than %JMETER_HOME%\\bin if I want to record (getting errors\n> about keystore and .crt file). Will do some more extensive testing, gather\n> some log info and report back next week.\n\nPlease do.", "id": 172684, "time": "2014-01-24T19:39:09Z", "bug_id": 56057, "creation_time": "2014-01-24T19:39:09Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 56057, "attachment_id": null, "text": "Hi,\n\nFacing similar issue, have added certificated in my browser (firefox) as per instructions mentioned under \"Installing the JMeter CA certificate for HTTPS recording\" section of \"http://jmeter.apache.org/usermanual/component_reference.html#HTTP%28S%29_Test_Script_Recorder\" link.\n\nbut still facing similar pop-up message when click on 'start' button under \"HTTP(S) Test Script Recorder\" section under workbench.\n\nPlease revert ASAP.\n\nThanks in advance\nAbhishek", "id": 177377, "time": "2014-08-26T14:12:42Z", "creator": "abhishek.saxena2005@gmail.com", "creation_time": "2014-08-26T14:12:42Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 56057, "attachment_id": null, "text": "Hello,\nCan you attach a screenshot of the popup you see ?\nAlso attach jmeter.log file ?\n\nThanks", "id": 177378, "time": "2014-08-26T14:19:01Z", "creator": "support@ubikloadpack.com", "creation_time": "2014-08-26T14:19:01Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 56057, "attachment_id": 31944, "text": "Created attachment 31944\nJmeter log file", "id": 177389, "time": "2014-08-27T06:11:42Z", "creator": "abhishek.saxena2005@gmail.com", "creation_time": "2014-08-27T06:11:42Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 56057, "attachment_id": 31945, "text": "Created attachment 31945\nThis is the message, which appears when click on start button", "id": 177390, "time": "2014-08-27T06:15:08Z", "creator": "abhishek.saxena2005@gmail.com", "creation_time": "2014-08-27T06:15:08Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 56057, "attachment_id": 31946, "text": "Created attachment 31946\nCertificate already added in the browser.", "id": 177391, "time": "2014-08-27T06:16:14Z", "creator": "abhishek.saxena2005@gmail.com", "creation_time": "2014-08-27T06:16:14Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 56057, "attachment_id": null, "text": "Hi,\n\nPlease let me know if you require any other information from my side.\n\n\nThanks in advance\n\nAbhishek", "id": 177392, "time": "2014-08-27T06:19:46Z", "creator": "abhishek.saxena2005@gmail.com", "creation_time": "2014-08-27T06:19:46Z", "is_private": false}, {"count": 13, "tags": [], "creator": "abhishek.saxena2005@gmail.com", "text": "Created attachment 31947\nScreen shot contain jmeter's log for specified scenario", "id": 177393, "time": "2014-08-27T06:32:37Z", "bug_id": 56057, "creation_time": "2014-08-27T06:32:37Z", "is_private": false, "attachment_id": 31947}, {"count": 14, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Hello Abhishek,\nThanks for provided information.\nThe popup you get is regular, it does not mean you have an error.\n\nWhat is your problem exactly ?\nI don't see any error in the logs you provide, and the log you highlight has nothing to do with this issue.\n\nThanks for clarifications.", "id": 177453, "time": "2014-08-30T13:36:03Z", "bug_id": 56057, "creation_time": "2014-08-30T13:36:03Z", "is_private": false, "attachment_id": null}, {"count": 15, "tags": [], "creator": "abhishek.saxena2005@gmail.com", "attachment_id": null, "id": 177482, "time": "2014-09-01T05:59:13Z", "bug_id": 56057, "creation_time": "2014-09-01T05:59:13Z", "is_private": false, "text": "Hi Philippe,\n\nFirst of all thanks for your comment.\n\nReal problem occurs when i clicks on 'start' button under \"HTTP(S) Test Script Recorder\" section under workbench and try to capture scenario by performing various steps in the in the browser (after completing proxy setting), no step is get recorded under pre-specified 'logic controller'. e.g. i follow below mentioned steps:\n\n1. Open 'https://www.gmail.com' in browser.\n2. Provide valid 'email' and 'password'\n3. Click on 'sign in' button.\n\n\nNow when i see the section of logic controller, there is no steps is getting recorded.\n\nThanks in advance.\n\nAbhishek saxena"}, {"count": 16, "tags": [], "bug_id": 56057, "attachment_id": null, "text": "(In reply to Abhishek from comment #15)\n> \n> Real problem occurs when i clicks on 'start' button under \"HTTP(S) Test\n> Script Recorder\" section under workbench and try to capture scenario by\n> performing various steps in the in the browser (after completing proxy\n> setting), no step is get recorded under pre-specified 'logic controller'.\n> e.g. i follow below mentioned steps:\n> \n> 1. Open 'https://www.gmail.com' in browser.\n> 2. Provide valid 'email' and 'password'\n> 3. Click on 'sign in' button.\n> \n> \n> Now when i see the section of logic controller, there is no steps is getting\n> recorded.\n\nDoes the browser show the correct pages?\nIn which case, the browser proxy has not been set up correctly, so it is not routing requests via the JMeter Recorder.\n\nIf the browser does not appear to work, then please check for any errors in the jmeter.log file.", "id": 177498, "time": "2014-09-01T15:00:52Z", "creator": "sebb@apache.org", "creation_time": "2014-09-01T15:00:52Z", "is_private": false}, {"count": 17, "tags": [], "bug_id": 56057, "attachment_id": null, "text": "On the original issue, I had found that the work-around to the problems I was having was:\n 1. set the expiry to 10 years in the future,\n 2. set my current directory to the JMeter bin directory,\n 3. ensure the ApacheJMeterTemporaryRootCA.crt, ApacheJMeterTemporaryRootCA.usr,\n    and proxyserver.jks files are removed,\n 4. start JMeter and create a Thread Group,\n 5. Create an HTTP(S) Test Script Recorder inside the Thread Group,\n 6. Start the recorder,\n\nAt this point the above three files are created, I can install the certificate in the browser which is good for 10 years, and I can then perform recording operations starting JMeter in my project folders that are not stored in the JMeter bin directory.\n\nUnfortunately, this also led to my forgetting to come back to this issue (apologies) until I returned to see if anyone else had reported an unrelated issue. For my unrelated issue I had installed a fresh JMeter 2.11 with no plugins. Since I have this fresh install, I decided I should use it to follow up on this issue before creating another.\n\nConditions:\n1. fresh JMeter installation,\n2. environment variable $JMETER_HOME set to location of installation,\n3. $JMETER_HOME/bin is on the path,\n4. the files ApacheJMeterTemporaryRootCA.crt, ApacheJMeterTemporaryRootCA.usr,\n   and proxyserver.jks do not exist in the installation of JMeter,\n5. there is a project folder outside $JMETER_HOME/bin\n\nFirst Procedure:\n1. start JMeter from the project folder,\n2. create a new Thread Group,\n3. create an HTTP(S) Test Script Recorder inside the Thread Group,\n4. Start the recorder.\n\nFirst Procedure Result:\nTwo files are created in $JMETER_HOME/bin and an error is produced.\n\nThe files created are: ApacheJMeterTemporaryRootCA.crt and proxyserver.jks.\n\nThe error (pop up message) is: \"Could not create script recording proxy - see log for details: Source 'ApacheJMeterTemporaryRootCA.crt' does not exist\"\n\nUpon clicking OK, no other files are created and the recorder is not started.\n\nThe following error is recorded in the log file:\n\n2014/09/04 08:50:09 ERROR - jmeter.protocol.http.proxy.ProxyControl: Could not initialise key store java.io.FileNotFoundException: Source 'ApacheJMeterTemporaryRootCA.crt' does not exist\n\tat org.apache.commons.io.FileUtils.copyFile(FileUtils.java:1074)\n\tat org.apache.commons.io.FileUtils.copyFile(FileUtils.java:1038)\n\tat org.apache.jorphan.exec.KeyToolUtils.generateProxyCA(KeyToolUtils.java:250)\n\tat org.apache.jmeter.protocol.http.proxy.ProxyControl.initDynamicKeyStore(ProxyControl.java:1281)\n\tat org.apache.jmeter.protocol.http.proxy.ProxyControl.initKeyStore(ProxyControl.java:1208)\n\tat org.apache.jmeter.protocol.http.proxy.ProxyControl.startProxy(ProxyControl.java:434)\n\tat org.apache.jmeter.protocol.http.proxy.gui.ProxyControlGui.startProxy(ProxyControlGui.java:485)\n\tat org.apache.jmeter.protocol.http.proxy.gui.ProxyControlGui.actionPerformed(ProxyControlGui.java:370)\n\tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\n\tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\n\tat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\n\tat java.awt.Component.processMouseEvent(Unknown Source)\n\tat javax.swing.JComponent.processMouseEvent(Unknown Source)\n\tat java.awt.Component.processEvent(Unknown Source)\n\tat java.awt.Container.processEvent(Unknown Source)\n\tat java.awt.Component.dispatchEventImpl(Unknown Source)\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\n\tat java.awt.Component.dispatchEvent(Unknown Source)\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\n\tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\n\tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\n\tat java.awt.Window.dispatchEventImpl(Unknown Source)\n\tat java.awt.Component.dispatchEvent(Unknown Source)\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n\tat java.awt.EventQueue.access$400(Unknown Source)\n\tat java.awt.EventQueue$3.run(Unknown Source)\n\tat java.awt.EventQueue$3.run(Unknown Source)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n\tat java.awt.EventQueue$4.run(Unknown Source)\n\tat java.awt.EventQueue$4.run(Unknown Source)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n\tat java.awt.EventDispatchThread.run(Unknown Source)\n\nSecond Procedure:\n1. remove the .crt, and .jks files from $JMETER_HOME/bin (.usr does not exist)\n2. set current directory to $JMETER_HOME/bin\n3. start JMeter,\n4. create a new Thread Group,\n5. create an HTTP(S) Test Script Recorder inside the Thread Group,\n6. Start the recorder.\n\nSecond Procedure Result:\nThree files are created in $JMETER_HOME/bin and NO error is produced.\n\nThe files created are: ApacheJMeterTemporaryRootCA.crt, ApacheJMeterTemporaryRootCA.usr and proxyserver.jks.\n\nThe pop-up: \"Root CA certificate: ApacheJMeterTemporaryRootCA created in JMeter bin directory\" with information about the certification, installing it, etc. occurs.\n\nWhen the certificate expires, I will perform further tests to see if the certificate is replaced.", "id": 177541, "time": "2014-09-04T15:57:08Z", "creator": "imikla@gmail.com", "creation_time": "2014-09-04T15:57:08Z", "is_private": false}, {"count": 18, "tags": [], "bug_id": 56057, "attachment_id": null, "text": "@ Michael,\n\nApologies from my side, as you think i raised some unrelated bug in this ticket.\n\ni am new to jmeter and exploring it currently, so may be i have put my concern in wrong ticket.\n\ni regret for you inconvenience. \n\n\nRegards\n\nAbhishek", "id": 177551, "time": "2014-09-05T08:15:58Z", "creator": "abhishek.saxena2005@gmail.com", "creation_time": "2014-09-05T08:15:58Z", "is_private": false}, {"count": 19, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "id": 177575, "time": "2014-09-06T10:13:01Z", "bug_id": 56057, "creation_time": "2014-09-06T10:13:01Z", "is_private": false, "text": "@Michael, what is you java version in first case? Java 6\n\nWe wrote this since:\nhttps://wiki.apache.org/jmeter/TestRecording210\n\n\nAlso as you do some test, would it be possible for you to test with nightly build and see if new behaviour has remaining issues :\nhttp://jmeter.apache.org/nightly.html\n\n Installing JMeter runtime\nDownload the _bin and _lib files\nUnpack the archives into the same directory structure\nThe other archives are not needed to run JMeter. \n \nThanks"}, {"count": 20, "tags": [], "bug_id": 56057, "attachment_id": null, "text": "Philippe,\n\nMy initial issue was on Java 7. I have since upgraded to Java 8.\n\nI will repeat my tests using the Nightly Build and the latest Java 8.\n\nMichael", "id": 177633, "time": "2014-09-08T16:17:50Z", "creator": "imikla@gmail.com", "creation_time": "2014-09-08T16:17:50Z", "is_private": false}, {"count": 21, "tags": [], "creator": "imikla@gmail.com", "attachment_id": null, "id": 177699, "time": "2014-09-10T14:25:03Z", "bug_id": 56057, "creation_time": "2014-09-10T14:25:03Z", "is_private": false, "text": "Philippe,\n\nDo you have a preference on which nightly build to use for the testing? I went to get those and noticed that there are three links, Jenkins, BuildBot, and Maven Snapshots.\n\nThanks.\n\nMichael"}, {"count": 22, "tags": [], "creator": "support@ubikloadpack.com", "attachment_id": null, "id": 177700, "time": "2014-09-10T14:48:56Z", "bug_id": 56057, "creation_time": "2014-09-10T14:48:56Z", "is_private": false, "text": "Hello,\nAnswering for Philippe :-), Jenkins and buildbot should be the same.\nUsing Build bot should be fine, just mention revision used when testing.\nRegards"}, {"count": 23, "tags": [], "creator": "imikla@gmail.com", "text": "Thank you. I have installed apache-jmeter-r1623762 (3985).\n\nOne note: when starting JMeter, I do get an error to the MS-DOS console:\n\nSep 10, 2014 10:40:55 AM java.util.prefs.WindowsPreferences <init>\nWARNING: Could not open/create prefs root node Software\\JavaSoft\\Prefs at root 0x80000002. Windows RegCreateKeyEx(...) returned error code 5.\n\nI assume this is something related to the build not being stable (please correct me if I am wrong). It does not seem to interfere with my test.\n\nAs for the tests, I repeated the first and second procedures above under the same conditions. The results are virtually identical with some slight differences in numbers in the log error in the first procedure as shown below.\n\nI will test the expiry part of the issue with this build when the new certificate expires sometime this weekend (shortened the default).\n\nMichael\n\n2014/09/10 10:39:53 ERROR - jmeter.protocol.http.proxy.ProxyControl: Could not initialise key store java.io.FileNotFoundException: Source 'ApacheJMeterTemporaryRootCA.crt' does not exist\n\tat org.apache.commons.io.FileUtils.copyFile(FileUtils.java:1074)\n\tat org.apache.commons.io.FileUtils.copyFile(FileUtils.java:1038)\n\tat org.apache.jorphan.exec.KeyToolUtils.generateProxyCA(KeyToolUtils.java:254)\n\tat org.apache.jmeter.protocol.http.proxy.ProxyControl.initDynamicKeyStore(ProxyControl.java:1301)\n\tat org.apache.jmeter.protocol.http.proxy.ProxyControl.initKeyStore(ProxyControl.java:1228)\n\tat org.apache.jmeter.protocol.http.proxy.ProxyControl.startProxy(ProxyControl.java:448)\n\tat org.apache.jmeter.protocol.http.proxy.gui.ProxyControlGui.startProxy(ProxyControlGui.java:495)\n\tat org.apache.jmeter.protocol.http.proxy.gui.ProxyControlGui.actionPerformed(ProxyControlGui.java:380)\n\tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\n\tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\n\tat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\n\tat java.awt.Component.processMouseEvent(Unknown Source)\n\tat javax.swing.JComponent.processMouseEvent(Unknown Source)\n\tat java.awt.Component.processEvent(Unknown Source)\n\tat java.awt.Container.processEvent(Unknown Source)\n\tat java.awt.Component.dispatchEventImpl(Unknown Source)\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\n\tat java.awt.Component.dispatchEvent(Unknown Source)\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\n\tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\n\tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\n\tat java.awt.Window.dispatchEventImpl(Unknown Source)\n\tat java.awt.Component.dispatchEvent(Unknown Source)\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n\tat java.awt.EventQueue.access$400(Unknown Source)\n\tat java.awt.EventQueue$3.run(Unknown Source)\n\tat java.awt.EventQueue$3.run(Unknown Source)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n\tat java.awt.EventQueue$4.run(Unknown Source)\n\tat java.awt.EventQueue$4.run(Unknown Source)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n\tat java.awt.EventDispatchThread.run(Unknown Source)", "id": 177704, "time": "2014-09-10T17:01:21Z", "bug_id": 56057, "creation_time": "2014-09-10T17:01:21Z", "is_private": false, "attachment_id": null}, {"count": 24, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Hello,\nThanks for testing and feedback, my answers below.\n\n- Regarding (In reply to Michael Aichlmayr from comment #23)\n> Thank you. I have installed apache-jmeter-r1623762 (3985).\n> \n> One note: when starting JMeter, I do get an error to the MS-DOS console:\n> \n> Sep 10, 2014 10:40:55 AM java.util.prefs.WindowsPreferences <init>\n> WARNING: Could not open/create prefs root node Software\\JavaSoft\\Prefs at\n> root 0x80000002. Windows RegCreateKeyEx(...) returned error code 5.\n> \n> I assume this is something related to the build not being stable (please\n> correct me if I am wrong). It does not seem to interfere with my test.\n> \nNo build is stable.\nWhat you face is possibly a bug or issue with Windows rights:\nhttps://bugs.openjdk.java.net/browse/JDK-8038489\nhttps://groups.google.com/forum/#!topic/google-web-toolkit/LQfsBSwD_ug\n\nCould you show the full jmeter.log ?\n \n> As for the tests, I repeated the first and second procedures above under the\n> same conditions. The results are virtually identical with some slight\n> differences in numbers in the log error in the first procedure as shown\n> below.\n\nthis is strange, it seems as though creation of CRT silently failed.\nAre you using Java 6 or 7 ? which exact version are you using ?\nCan you also type in a command shell:\nkeytool \nand attach the result here.\n> \n> I will test the expiry part of the issue with this build when the new\n> certificate expires sometime this weekend (shortened the default).\n> \n> Michael\n> \n> 2014/09/10 10:39:53 ERROR - jmeter.protocol.http.proxy.ProxyControl: Could\n> not initialise key store java.io.FileNotFoundException: Source\n> 'ApacheJMeterTemporaryRootCA.crt' does not exist\n> \tat org.apache.commons.io.FileUtils.copyFile(FileUtils.java:1074)\n> \tat org.apache.commons.io.FileUtils.copyFile(FileUtils.java:1038)\n> \tat\n> org.apache.jorphan.exec.KeyToolUtils.generateProxyCA(KeyToolUtils.java:254)\n> \tat\n> org.apache.jmeter.protocol.http.proxy.ProxyControl.\n> initDynamicKeyStore(ProxyControl.java:1301)\n> \tat\n> org.apache.jmeter.protocol.http.proxy.ProxyControl.initKeyStore(ProxyControl.\n> java:1228)\n> \tat\n> org.apache.jmeter.protocol.http.proxy.ProxyControl.startProxy(ProxyControl.\n> java:448)\n> \tat\n> org.apache.jmeter.protocol.http.proxy.gui.ProxyControlGui.\n> startProxy(ProxyControlGui.java:495)\n> \tat\n> org.apache.jmeter.protocol.http.proxy.gui.ProxyControlGui.\n> actionPerformed(ProxyControlGui.java:380)\n> \tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\n> \tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\n> \tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\n> \tat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\n> \tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\n> \tat java.awt.Component.processMouseEvent(Unknown Source)\n> \tat javax.swing.JComponent.processMouseEvent(Unknown Source)\n> \tat java.awt.Component.processEvent(Unknown Source)\n> \tat java.awt.Container.processEvent(Unknown Source)\n> \tat java.awt.Component.dispatchEventImpl(Unknown Source)\n> \tat java.awt.Container.dispatchEventImpl(Unknown Source)\n> \tat java.awt.Component.dispatchEvent(Unknown Source)\n> \tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\n> \tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\n> \tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\n> \tat java.awt.Container.dispatchEventImpl(Unknown Source)\n> \tat java.awt.Window.dispatchEventImpl(Unknown Source)\n> \tat java.awt.Component.dispatchEvent(Unknown Source)\n> \tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n> \tat java.awt.EventQueue.access$400(Unknown Source)\n> \tat java.awt.EventQueue$3.run(Unknown Source)\n> \tat java.awt.EventQueue$3.run(Unknown Source)\n> \tat java.security.AccessController.doPrivileged(Native Method)\n> \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n> \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n> \tat java.awt.EventQueue$4.run(Unknown Source)\n> \tat java.awt.EventQueue$4.run(Unknown Source)\n> \tat java.security.AccessController.doPrivileged(Native Method)\n> \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n> \tat java.awt.EventQueue.dispatchEvent(Unknown Source)\n> \tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n> \tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n> \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n> \tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n> \tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n> \tat java.awt.EventDispatchThread.run(Unknown Source)", "id": 177847, "time": "2014-09-13T13:32:57Z", "bug_id": 56057, "creation_time": "2014-09-13T13:32:57Z", "is_private": false, "attachment_id": null}, {"count": 25, "tags": [], "creator": "imikla@gmail.com", "text": "I have retested this and it is now resolved in JMeter 2.13.", "id": 183245, "time": "2015-06-01T16:17:18Z", "bug_id": 56057, "creation_time": "2015-06-01T16:17:18Z", "is_private": false, "attachment_id": null}]