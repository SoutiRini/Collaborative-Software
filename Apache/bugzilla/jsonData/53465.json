[{"count": 0, "tags": [], "bug_id": 53465, "attachment_id": 28995, "id": 160249, "time": "2012-06-25T20:31:48Z", "creator": "violetagg@apache.org", "creation_time": "2012-06-25T20:31:48Z", "is_private": false, "text": "Created attachment 28995\nPatch proposal\n\nHi,\n\nWhen I have the code below in a servlet\n\n\t@Resource(mappedName=\"test\")\n\tprivate DataSource ds;\n\n'mapped name' is read when @Resource is processed (org.apache.catalina.startup.WebAnnotationSet.addResource(WebAnnotationSet.java:377)) so later on it is available through Reference object as StringRefAddr\n\n\nBut when I have the declaration below in web.xml\n\n  <resource-ref>\n  \t<res-ref-name>datasource</res-ref-name>\n  \t<res-type>javax.sql.DataSource</res-type>\n  \t<mapped-name>test</mapped-name>\n  </resource-ref>\n\n'mapped name' is not read at all.\n\nI would like to propose a patch that adds additional Rule to WebRuleSet so that 'mapped name' is process and set as property.\n\nI'm looking forward to your comments.\n\nRegards\nVioleta Georgieva"}, {"count": 1, "tags": [], "text": "Thanks for the proposed patch. I extended it to cover all resource types and applied it trunk and 7.0.x. It will be included in 7.0.29 onwards.", "attachment_id": null, "id": 160280, "creator": "markt@apache.org", "time": "2012-06-26T22:04:50Z", "bug_id": 53465, "creation_time": "2012-06-26T22:04:50Z", "is_private": false}]