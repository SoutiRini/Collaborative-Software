[{"count": 0, "tags": [], "text": "This patch allows xsl-functions to be called without\nproperty name if the xsl spec 1.0 allows one optional\narg and if omitted the arg is substituted with the\nproperty for which the expression is being evaluated.\n\n\nDescription:\nIf the PropetyParser dedects at the end of the parseArgs\nmethod, that only one arg is missing (compared with the\nexpected count of args) and the function object\nallows padding with the function name for which the\nfunction is called it appends the function name to the\narg list.\n\n\nChanges to Function.java:\n- expand the interface with the declaration for the\n  padArgsWithPropertyName method.\n\nChanges to FunctionBase.java:\n- insert a default method body for the padArgsWithPropertyName\n  method that returnes false which is the normal case (don't\n  allow padding).\n\nChanges to FromParentFunction.java:\n- let the padArgsWithPropertyName method return true to\n  indicate that filling up the number of args with the\n  property name for which the expression is being evaluated.\n\nChanges to PropertyParser.java:\n- call the parseArgs method with the full function object\n  insted only with the nbArgs counter.\n- expanded the parseArgs method as mentioned in the\n  general describtion above.\n\n\nOpen issues / questions:\n- should the arg created in the parseArgs method of the\n  PropetyParser be a NCnameProperty instead of a\n  StringProperty? The supplemented args are always\n  property names and therefore NCNames but i didn't\n  see an advantage and choosed the more general\n  StringProperty but i am not shure whats better.\n\n\nTodo:\n- if the patch is acceptable than adjust the other functions\n  who also allow padding with the property name - if i find\n  corresponding classes ;-):\n  * system-font\n  * inherited-property-value\n  * (from-parent) done\n  * from-nearest-specified-value\n  * from-table-column\n  * merge-property-values", "is_private": false, "bug_id": 38098, "id": 84128, "time": "2006-01-02T16:09:03Z", "creator": "gerhard.oettl@oesoft.at", "creation_time": "2006-01-02T16:09:03Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 38098, "attachment_id": 17306, "text": "Created attachment 17306\nthe patch", "id": 84130, "time": "2006-01-02T16:10:41Z", "creator": "gerhard.oettl@oesoft.at", "creation_time": "2006-01-02T16:10:41Z", "is_private": false}, {"count": 2, "tags": [], "creator": "gerhard.oettl@oesoft.at", "attachment_id": 17307, "is_private": false, "id": 84131, "time": "2006-01-02T16:11:17Z", "bug_id": 38098, "creation_time": "2006-01-02T16:11:17Z", "text": "Created attachment 17307\na fo-file to show the effect"}, {"count": 3, "tags": [], "creator": "adelmelle@apache.org", "attachment_id": null, "text": "Gerhard,\n\nAgain, a nice little addition!\n\nTo help you out a bit further with the TODO, and minimize the searching: all those functions reside in \nthe package org.apache.fop.fo.expr (apart from system-font()). They have slightly different names, but \neasily recognizable. For example: from-nearest-specified-value = NearestSpecPropFunction. Come to \nthink of it, maybe this should be renamed as a matter of style to FromNearestSpecValFunction or \nsomething like that... (?)\nfrom-table-column() is currently unimplemented, but it shouldn't be particularly hard, given:\na) that the column-numbers are all properly initialized \nand b) the limited number of properties applicable to table-columns. \n\nIf you already know your way around the properties package well enough: the PropertyList for a \nTableColumn will, IIC, no longer be available at the time this function is called, so it may be possible to \nmap it to a call to the appropriate method in fo.flow.TableColumn... \nexample: \"from-table-column(1, 'border-start-width')\" would trigger a call to \n\"((TableColumn) Table.getColumns().get(0)).getBorderWidth(CommonBorderPaddingBackground.START)\" \nEither that, or references to the columns' PropertyLists need to be kept alive during the whole lifecycle \nof the Table object.\n\n\nCheers,\n\nAndreas", "id": 84195, "time": "2006-01-03T22:59:29Z", "bug_id": 38098, "creation_time": "2006-01-03T22:59:29Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 38098, "attachment_id": 17324, "is_private": false, "id": 84218, "time": "2006-01-04T18:04:49Z", "creator": "gerhard.oettl@oesoft.at", "creation_time": "2006-01-04T18:04:49Z", "text": "Created attachment 17324\npatch 2 (considering the hints of Andreas L. Delmelle)\n\nadditional (resolving the todo of the first patch)\n\nChanges common to\n1) FromParentFunction.java:\n2) FromTableColumnFunction.java:\n3) InheritedPropFunction.java:\n4) NearestSpecPropFunction.java:\n   - let the padArgsWithPropertyName method return true to\n     indicate that filling up the number of args with the\n     property name for which the expression is being evaluated.\n\n\nChanges common to\n1) MergePropsFunction.java:\n2) SystemFontFunction.java:\n   - ATTENTION - NONEXISTENT!\n     Though the PropertyParser calls does a call to\n     \"new MergePropsFunction()\" and\n     \"new SystemFontFunction()\"\n     greping through the codebase i cannot find such classes."}, {"count": 5, "tags": [], "bug_id": 38098, "attachment_id": null, "is_private": false, "id": 84490, "time": "2006-01-11T22:18:09Z", "creator": "spepping@apache.org", "creation_time": "2006-01-11T22:18:09Z", "text": "This is a fine patch. Can you supply a test case for each function for which you\nhave implemented this?\n\nSimon\n"}, {"count": 6, "tags": [], "creator": "gerhard.oettl@oesoft.at", "text": "Created attachment 17399\ntestcase", "id": 84520, "time": "2006-01-12T11:14:07Z", "bug_id": 38098, "creation_time": "2006-01-12T11:14:07Z", "is_private": false, "attachment_id": 17399}, {"count": 7, "tags": [], "text": "Patch and test file committed. Thanks. Simon", "is_private": false, "id": 84569, "creation_time": "2006-01-12T21:41:06Z", "time": "2006-01-12T21:41:06Z", "creator": "spepping@apache.org", "bug_id": 38098, "attachment_id": null}, {"count": 8, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "id": 156095, "time": "2012-04-01T06:58:07Z", "bug_id": 38098, "creation_time": "2012-04-01T06:58:07Z", "is_private": false, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed"}]