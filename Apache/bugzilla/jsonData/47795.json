[{"count": 0, "tags": [], "bug_id": 47795, "is_private": false, "text": "Have an IIS 6 Web site with isapi redirects to two tomcat engines with sticky support enabled.\nisapi filters are the 1.2.28 with chunked encoding suport.\nWhen only a single isapi is loaded into IIS all is fine\n\nhere is the output of the isapi log with loglevel set to trace\n\nfirst request as expected no sticky yet with id =empty\n\n[Tue Sep 08 10:15:17.455 2009] [2500:2532] [trace] jk_lb_worker.c (1065): enter\n[Tue Sep 08 10:15:17.455 2009] [2500:2532] [debug] jk_lb_worker.c (1114): service sticky_session=1 id='empty'\n[Tue Sep 08 10:15:17.455 2009] [2500:2532] [trace] jk_lb_worker.c (903): enter\n[Tue Sep 08 10:15:17.455 2009] [2500:2532] [debug] jk_lb_worker.c (997): found best worker ndb1 (ndb1) using method 'Request'\n\nsecond request beautiful found the worker with the correct route\n\n[Tue Sep 08 10:15:17.533 2009] [2500:2532] [trace] jk_lb_worker.c (1065): enter\n[Tue Sep 08 10:15:17.533 2009] [2500:2532] [debug] jk_lb_worker.c (1114): service sticky_session=1 id='4E30F16C3E76C48D4F9E444B360CDC54.ndb1'\n[Tue Sep 08 10:15:17.533 2009] [2500:2532] [trace] jk_lb_worker.c (903): enter\n[Tue Sep 08 10:15:17.533 2009] [2500:2532] [debug] jk_lb_worker.c (942): searching worker for partial sessionid 4E30F16C3E76C48D4F9E444B360CDC54.ndb1\n[Tue Sep 08 10:15:17.533 2009] [2500:2532] [debug] jk_lb_worker.c (950): searching worker for session route ndb1\n[Tue Sep 08 10:15:17.533 2009] [2500:2532] [debug] jk_lb_worker.c (964): found worker ndb1 (ndb1) for route ndb1 and partial sessionid 4E30F16C3E76C48D4F9E444B360CDC54.ndb1\n[Tue Sep 08 10:15:17.533 2009] [2500:2532] [trace] jk_lb_worker.c (967): exit\n\nin this case the jvmroute parameter has been set to ndb1 in the first tomcat\n\n\nIf I add another instance of the isapi dll into the web site I get an unusual service sticky_session log entry\n\n[Tue Sep 08 10:21:08.705 2009] [3936:3008] [trace] jk_lb_worker.c (1065): enter\n[Tue Sep 08 10:21:08.705 2009] [3936:3008] [debug] jk_lb_worker.c (1114): service sticky_session=3682862 id='blah blah blah'\n[Tue Sep 08 10:21:08.705 2009] [3936:3008] [trace] jk_lb_worker.c (903): enter\n[Tue Sep 08 10:21:08.705 2009] [3936:3008] [debug] jk_lb_worker.c (942): searching worker for partial sessionid blah blah blah\n[Tue Sep 08 10:21:08.705 2009] [3936:3008] [debug] jk_lb_worker.c (950): searching worker for session route blah blah blah\n[Tue Sep 08 10:21:08.705 2009] [3936:3008] [debug] jk_lb_worker.c (997): found best worker ndb1 (ndb1) using method 'Request'\n\nThe service sticky_session=3682862 is incorrect and so is the information after it and there is no way that stickiness can work", "id": 130193, "time": "2009-09-07T15:25:11Z", "creator": "chris.moore@healthlink.net", "creation_time": "2009-09-07T15:25:11Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 47795, "attachment_id": null, "text": "blah blah blah represents some random mumbly jumbly from the request, definitely not the JSESSIONID", "id": 130195, "time": "2009-09-07T22:05:23Z", "creator": "chris.moore@healthlink.net", "creation_time": "2009-09-07T22:05:23Z", "is_private": false}]