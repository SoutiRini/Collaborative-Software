[{"count": 0, "tags": [], "bug_id": 48226, "text": "Java: jdk1.6.0_10\nWhen JRE_HOME is not set and in your path ist the 64bit version of Java\n-> ../jdk1.6.0_10/bin/sparcv9/java the script setclasspath.sh in the bin dir\nsets the wrong dir for your JRE_HOME\nHere is the parte of the script which needs to be fixed\n..............snip......................\n    JAVA_PATH=`which java 2>/dev/null`\n# will not work if java is in ../jdk1.6.0_10/bin/sparcv9/java\n    if [ \"x$JAVA_PATH\" != \"x\" ]; then\n      JAVA_PATH=`dirname $JAVA_PATH 2>/dev/null`\n      JRE_HOME=`dirname $JAVA_PATH 2>/dev/null`\n    fi\n# end of part which will not work for Sun 64bit java\n    if [ \"x$JRE_HOME\" = \"x\" ]; then\n      # XXX: Should we try other locations?\n      if [ -x /usr/bin/java ]; then\n        JRE_HOME=/usr\n      fi\n    fi\n  fi\n..............snip......................\nregards\nAndreas", "id": 132092, "time": "2009-11-18T07:39:56Z", "creator": "andreas.ferrari@profidatagroup.com", "creation_time": "2009-11-18T07:39:56Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 48226, "text": "dont know if this is fixed in other versions...", "count": 1, "id": 132094, "time": "2009-11-18T07:41:27Z", "creator": "andreas.ferrari@profidatagroup.com", "creation_time": "2009-11-18T07:41:27Z", "is_private": false}, {"count": 2, "tags": [], "text": "Possibe solution ??\n\n--- setclasspath.sh     Wed Nov 18 17:20:24 2009\n+++ setclasspath.sh.orig        Mon Nov 16 12:13:21 2009\n@@ -35,13 +35,7 @@\n     JAVA_PATH=`which java 2>/dev/null`\n     if [ \"x$JAVA_PATH\" != \"x\" ]; then\n       JAVA_PATH=`dirname $JAVA_PATH 2>/dev/null`\n-      if [ `basename $JAVA_PATH` = \"sparcv9\" ]; then\n-         #go back 2 dirs\n-        JRE_HOME=`dirname $JAVA_PATH 2>/dev/null`\n-        JRE_HOME=`dirname $JAVA_PATH 2>/dev/null`\n-      else\n-        JRE_HOME=`dirname $JAVA_PATH 2>/dev/null`\n-      fi\n+      JRE_HOME=`dirname $JAVA_PATH 2>/dev/null`\n     fi\n     if [ \"x$JRE_HOME\" = \"x\" ]; then\n       # XXX: Should we try other locations?\n\nRegards", "is_private": false, "bug_id": 48226, "id": 132096, "time": "2009-11-18T08:35:24Z", "creator": "andreas.ferrari@profidatagroup.com", "creation_time": "2009-11-18T08:35:24Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "andreas.ferrari@profidatagroup.com", "attachment_id": null, "id": 132097, "time": "2009-11-18T08:37:11Z", "bug_id": 48226, "creation_time": "2009-11-18T08:37:11Z", "is_private": false, "text": "Possibel solution?\n\n--- setclasspath.sh     Wed Nov 18 17:20:24 2009\n+++ setclasspath.sh.orig        Mon Nov 16 12:13:21 2009\n@@ -35,13 +35,7 @@\n     JAVA_PATH=`which java 2>/dev/null`\n     if [ \"x$JAVA_PATH\" != \"x\" ]; then\n       JAVA_PATH=`dirname $JAVA_PATH 2>/dev/null`\n-      if [ `basename $JAVA_PATH` = \"sparcv9\" ]; then\n-         #go back 2 dirs\n-        JRE_HOME=`dirname $JAVA_PATH 2>/dev/null`\n-        JRE_HOME=`dirname $JAVA_PATH 2>/dev/null`\n-      else\n-        JRE_HOME=`dirname $JAVA_PATH 2>/dev/null`\n-      fi\n+      JRE_HOME=`dirname $JAVA_PATH 2>/dev/null`\n     fi\n     if [ \"x$JRE_HOME\" = \"x\" ]; then\n       # XXX: Should we try other locations?\n\nregards"}, {"count": 4, "text": "As said in the RUNNING.txt file, the JRE_HOME or JAVA_HOME variables MUST be set when running Tomcat.\n\nAutodetection of JRE_HOME/JAVA_HOME is a convenience, and I am sure that we cannot support all possible OSes and their configurations here.\n\nI am tending to close this as WONTFIX.\nAt least I am marking this as an enhancement.\n\nThe patch in Comment 3 is wrong:\n1) added lines are marked as '-' and removed as '+'\n2) implementation of \"#go back 2 dirs\" is wrong", "creator": "knst.kolinko@gmail.com", "attachment_id": null, "id": 133071, "time": "2009-12-22T19:39:48Z", "bug_id": 48226, "creation_time": "2009-12-22T19:39:48Z", "tags": [], "is_private": false}, {"count": 5, "text": "I tend to agree with Konstantin that this is a WONTFIX.", "creator": "markt@apache.org", "attachment_id": null, "id": 142815, "time": "2010-12-17T09:25:57Z", "bug_id": 48226, "creation_time": "2010-12-17T09:25:57Z", "tags": [], "is_private": false}]