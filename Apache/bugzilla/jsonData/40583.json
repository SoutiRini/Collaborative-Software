[{"count": 0, "attachment_id": null, "creator": "timo@dspsrv.com", "text": "The LOCALCLASSPATH variable in the script is set to longer than 256 characters,\nmaking any reasonable cygwin basic install fail with:\n\ncygpath: error converting\n\"/cygdrive/c/win2k/fop/lib/xmlgraphics-commons-1.0.jar:/cygdrive/c/win2k/fop/lib/xml-apis-1.3.02.jar:/cygdrive/c/win2k/fop/lib/xercesImpl-2.7.1.jar:/cygdrive/c/win2k/fop/lib/xalan-2.7.0.jar:/cygdrive/c/win2k/fop/lib/serializer-2.7.0.jar:/cygdrive/c/win2k/fop/lib/commons-logging-1.0.4.jar:/cygdrive/c/win2k/fop/lib/commons-io-1.1.jar:/cygdrive/c/win2k/fop/lib/batik-all-1.6.jar:/cygdrive/c/win2k/fop/lib/avalon-framework-4.2.0.jar:/cygdrive/c/win2k/fop/build/fop.jar:/cygdrive/c/win2k/fop/build/fop-sandbox.jar:/cygdrive/c/win2k/fop/build/fop-hyph.jar:\"\n- File name too long\nException in thread \"main\" java.lang.NoClassDefFoundError: org/apache/fop/cli/Main\n\nI have ant installed in the same directory, and it does not fail like this. The\nreason for this is that it has the ANT_LIB and ANT_HOME directories passed to it\nas properties, and (i guess) deals with the classpath issues internally.", "id": 94014, "time": "2006-09-22T16:16:52Z", "bug_id": 40583, "creation_time": "2006-09-22T16:16:52Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": 18964, "bug_id": 40583, "is_private": false, "id": 94492, "time": "2006-10-04T13:18:38Z", "creator": "spepping@apache.org", "creation_time": "2006-10-04T13:18:38Z", "tags": [], "text": "Created attachment 18964\nalternative fop script\n\nDoes this script solve the problem?"}, {"count": 2, "tags": [], "bug_id": 40583, "text": "I do not run Cygwin here, so I cannot test this problem. Is it really true that\ncygpath has such a small upper limit to the path length? If so, can you test\nwhether the attached script solves the problem?\n\nSimon", "id": 94493, "time": "2006-10-04T13:20:25Z", "creator": "spepping@apache.org", "creation_time": "2006-10-04T13:20:25Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "j3322ptm@yahoo.de", "attachment_id": null, "id": 94500, "time": "2006-10-04T14:33:29Z", "bug_id": 40583, "creation_time": "2006-10-04T14:33:29Z", "is_private": false, "text": "I can confirm the problem using cygpath on the long path value in the report\nabove. However, I'm running fop.sh from a cygwin bash for years and didn't have\na problem. I suspect it might be due to the /cygdrive/ prefix."}, {"count": 4, "attachment_id": null, "bug_id": 40583, "is_private": false, "id": 94516, "time": "2006-10-05T06:05:33Z", "creator": "spepping@apache.org", "creation_time": "2006-10-05T06:05:33Z", "tags": [], "text": "(In reply to comment #3)\n> I can confirm the problem using cygpath on the long path value in the report\n> above. However, I'm running fop.sh from a cygwin bash for years and didn't have\n> a problem. I suspect it might be due to the /cygdrive/ prefix.\n\nIt will always hurt a person who installs fop under a long path name. Therefore\nwe better try to prevent it. Can you test that the modified script at least does\nnot make things worse, and hopefully resolves the problem?"}, {"count": 5, "tags": [], "bug_id": 40583, "attachment_id": null, "id": 94517, "time": "2006-10-05T06:12:25Z", "creator": "timo@dspsrv.com", "creation_time": "2006-10-05T06:12:25Z", "is_private": false, "text": "Almost, but not quite ;)\n\nIt now reports:\nException in thread \"main\" java.lang.NoClassDefFoundError: org/apache/fop/cli/Main\n\ni guess the classpath is still a bit messed."}, {"count": 6, "tags": [], "bug_id": 40583, "text": "(In reply to comment #5)\n> It now reports:\n> Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/fop/cli/Main\n> \n> i guess the classpath is still a bit messed.\n\nCan you let me know the resulting class path? Is FOP_HOME set? Does\n$FOP_HOME/build/fop.jar exist?\n", "id": 94533, "time": "2006-10-05T10:21:15Z", "creator": "spepping@apache.org", "creation_time": "2006-10-05T10:21:15Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "text": "LocalClasspath =\nc:/win2k/fop/lib/xmlgraphics-commons-1.0.jar:c:/win2k/fop/lib/xml-apis-1.3.02.jar:c:/win2k/fop/lib/xercesImpl-2.7.1.jar:c:/win2k/fop/lib/xalan-2.7.0.jar:c:/win2k/fop/lib/serializer-2.7.0.jar:c:/win2k/fop/lib/commons-logging-1.0.4.jar:c:/win2k/fop/lib/commons-io-1.1.jar:c:/win2k/fop/lib/batik-all-1.6.jar:c:/win2k/fop/lib/avalon-framework-4.2.0.jar:c:/win2k/fop/build/fop.jar;c;C:/cygwin/win2k/fop/build/fop-sandbox.jar;c;C:/cygwin/win2k/fop/build/fop-hyph.jar:\n\nClasspath =\n\nfop_home = c:/win2k/fop\n\nfop_exec_command = exec \"/cygdrive/c/win2k/Java/jdk1.5.0_04/bin/java\" -classpath\n\"c:/win2k/fop/lib/xmlgraphics-commons-1.0.jar:c:/win2k/fop/lib/xml-apis-1.3.02.jar:c:/win2k/fop/lib/xercesImpl-2.7.1.jar:c:/win2k/fop/lib/xalan-2.7.0.jar:c:/win2k/fop/lib/serializer-2.7.0.jar:c:/win2k/fop/lib/commons-logging-1.0.4.jar:c:/win2k/fop/lib/commons-io-1.1.jar:c:/win2k/fop/lib/batik-all-1.6.jar:c:/win2k/fop/lib/avalon-framework-4.2.0.jar:c:/win2k/fop/build/fop.jar;c;C:/cygwin/win2k/fop/build/fop-sandbox.jar;c;C:/cygwin/win2k/fop/build/fop-hyph.jar:\"\norg.apache.fop.cli.Main\n\nException in thread \"main\" java.lang.NoClassDefFoundError: org/apache/fop/cli/Main\n\n\nMy guess is that it is not recognising the path separation as windoes, i.e. c:/\nshould be c:\\", "attachment_id": null, "bug_id": 40583, "id": 94577, "time": "2006-10-06T04:40:46Z", "creator": "timo@dspsrv.com", "creation_time": "2006-10-06T04:40:46Z", "is_private": false}, {"count": 8, "tags": [], "creator": "j_cumps@yahoo.com", "attachment_id": null, "id": 94586, "time": "2006-10-06T07:07:37Z", "bug_id": 40583, "creation_time": "2006-10-06T07:07:37Z", "is_private": false, "text": "I think your last trial failed because you used : as path separator.\n\nEven though you are in cygwin, the java.exe is the windows version. It \nexpects ; as path separator.\n\nTo make CLASSPATH work on my cygwin installation, I have to use this style:\n$ export CLASSPATH=\"c:/library_home/bopiler.jar;c:/library_home/junit/junit4/ju\nnit-4.1.jar\"\n\nEither with forward or backward slashes.\n\nUsing it without quotes fails;\nusing : in stead of ; fails\nusing /cygdrive/c/... fails.\n\nBut, \nCygwin has a tool called cygpath, that translates your UNIX-style classpath to \nwindows path. See link:\n<http://www.ics.uci.edu/~ics185/projects/project0/faq1.html>\n\nRegards, Jan"}, {"count": 9, "tags": [], "bug_id": 40583, "is_private": false, "text": "Created attachment 18974\nalternative fop script\n\nOne more try, with ';' as the path separator. If this does not work, I will\ndefer to a seasoned Cygwin user.", "id": 94598, "time": "2006-10-06T10:55:37Z", "creator": "spepping@apache.org", "creation_time": "2006-10-06T10:55:37Z", "attachment_id": 18974}, {"count": 10, "tags": [], "bug_id": 40583, "attachment_id": null, "id": 94613, "time": "2006-10-07T06:40:15Z", "creator": "timo@dspsrv.com", "creation_time": "2006-10-07T06:40:15Z", "is_private": false, "text": "Nope, not quite. Change \nPATH_SEPARATOR=;\nto\nPATH_SEPARATOR=\";\"\n\nand it works."}, {"count": 11, "attachment_id": 18995, "creator": "spepping@apache.org", "text": "Created attachment 18995\nanother alternative fop script\n\nThis script was provided by Mark C. Allman. I builds the Unix path, but with\nsemicolons instead of colons. Then it applies cygpath as before. This will\ncause cygpath to convert the path in pieces, and avoid length problems. This is\na simpler solution than mine. Please, test.", "id": 94778, "time": "2006-10-12T11:34:46Z", "bug_id": 40583, "creation_time": "2006-10-12T11:34:46Z", "tags": [], "is_private": false}, {"count": 12, "tags": [], "text": "FWIW it was the technique i attempted when i first tried to hack it.\n\nboth work fine.\nFop - last script:\nlocal class path:\nc:/win2k/fop/lib/xmlgraphics-commons-1.0.jar;c:/win2k/fop/lib/xml-apis-1.3.02.jar;c:/win2k/fop/lib/xercesImpl-2.7.1.jar;c:/win2k/fop/lib/xlan-2.7.0.jar;c:/win2k/fop/lib/serializer-2.7.0.jar;c:/win2k/fop/lib/commons-logging-1.0.4.jar;c:/win2k/fop/lib/commons-io-1.1.jar;c:/win2k/fop/lib/batik-all-1.6.jar;c:/win2k/fop/lib/avalon-framework-4.2.0.jar;c:/win2k/fop/build/fop.jar;c;C:/cygwin/win2k/fop/build/fop-sandbox.jar;c;C:/cygwin/win2k/fop/build/fop-hyph.jar;\n\nFopish - new script:\nlocal class path:\nc:/win2k/fop/lib/xmlgraphics-commons-1.0.jar;c:/win2k/fop/lib/xml-apis-1.3.02.jar;c:/win2k/fop/lib/xercesImpl-2.7.1.jar;c:/win2k/fop/lib/xalan-2.7.0.jar;c:/win2k/fop/lib/serializer-2.7.0.jar;c:/win2k/fop/lib/commons-logging-1.0.4.jar;c:/win2k/fop/lib/commons-io-1.1.jar;c:/win2k/fop/lib/batik-all-1.6.jar;c:/win2k/fop/lib/avalon-framework-4.2.0.jar;c:/win2k/fop/build/fop.jar;c:/win2k/fop/build/fop-sandbox.jar;c:/win2k/fop/build/fop-hyph.jar\n\nas you can see, the new one adds the last two jars correctly.\n\nDone IMHO, but will leave for someone else to close.\n ", "attachment_id": null, "bug_id": 40583, "id": 94785, "time": "2006-10-12T13:29:50Z", "creator": "timo@dspsrv.com", "creation_time": "2006-10-12T13:29:50Z", "is_private": false}, {"text": "Patch by Mark C. Allman applied in revision 463578.", "tags": [], "bug_id": 40583, "is_private": false, "count": 13, "id": 94793, "time": "2006-10-13T00:07:57Z", "creator": "spepping@apache.org", "creation_time": "2006-10-13T00:07:57Z", "attachment_id": null}, {"count": 14, "tags": [], "bug_id": 40583, "is_private": false, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 156014, "time": "2012-04-01T06:53:18Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T06:53:18Z", "attachment_id": null}]