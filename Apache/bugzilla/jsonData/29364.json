[{"count": 0, "tags": [], "bug_id": 29364, "text": "Platform: IBM mainframe zSeries\nOS: z/OS 1.4\nfor (char i = 'a'; i <= 'z'; i++) {\n    addSafeCharacter(i);\n}\nfor (char i = 'A'; i <= 'Z'; i++) {\n    addSafeCharacter(i);\n}\nfills addSafeCharacter with:\nabcdefghi\u00ab\u00bb\u00f0\u00fd\u00fe\u00b1\u00b0jklmnopqr\u00aa\u00ba\u00e6\u00b8\u00c6\u00a4\u00b5~stuvwxyzABCDEFGHI\u00ad\u00f4\u00f6\u00f2\u00f3\u00f5}JKLMNOPQR\u00b9\u00fb\u00fc\u00f9\u00fa\u00ff\\\u00f7STUVWXYZ\n\nThe 2nd problem is that the URLs are not useable because the EBCDIC characters\nare translated to their hex value. The result is an URL like the following:\nhttp://tomcat:8080/admin/EditService.do?select=Catalina%7Atype%7EService%6Bname%7ETomcat-Standalone&nodeLabel=Service+%4DTomcat-Standalone%5D\ninstead of:\nhttp://tomcat:8080/admin/EditService.do?select=Catalina%3Atype%3DService%2Cname%3DTomcat-Standalone&nodeLabel=Service+%28Tomcat-Standalone%29", "id": 58641, "time": "2004-06-03T15:00:09Z", "creator": "Dirk.Schwartzkopff@gmx.de", "creation_time": "2004-06-03T15:00:09Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 29364, "text": "This isn't going to be fixed without you submitting a patch.", "id": 58651, "time": "2004-06-03T16:53:49Z", "creator": "remm@apache.org", "creation_time": "2004-06-03T16:53:49Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 29364, "attachment_id": null, "is_private": false, "id": 59321, "time": "2004-06-16T15:42:18Z", "creator": "yoavs@computer.org", "creation_time": "2004-06-16T15:42:18Z", "text": "I'm not even sure this is a tomcat issue: looks like a JVM implementation on \nz/OS 1.4 issue, doesn't it?"}, {"count": 3, "tags": [], "bug_id": 29364, "is_private": false, "text": "The problem is the conversion between Java Strings (2 byte Unicode) and Byte\nArrays (1 byte ASCII/UTF-8 or EBCDIC on z/OS). IBM recommends on their web page\n(http://www-106.ibm.com/developerworks/eserver/articles/java_code.html) to\nspecify the encoding to avoid these problems. For example: byte [] myBytes =\nmyString.getBytes(\"8859_1\"); \nI am not a Java programmer so I can't change the code.\nThe other problem could be solved very simple:\n        for (char i = 'a'; i <= 'i'; i++) {\n            addSafeCharacter(i);\n        }\n        for (char i = 'j'; i <= 'r'; i++) {\n            addSafeCharacter(i);\n        }\n        for (char i = 's'; i <= 'z'; i++) {\n            addSafeCharacter(i);\n        }\n        for (char i = 'A'; i <= 'I'; i++) {\n            addSafeCharacter(i);\n        }\n        for (char i = 'J'; i <= 'R'; i++) {\n            addSafeCharacter(i);\n        }\n        for (char i = 'S'; i <= 'Z'; i++) {\n            addSafeCharacter(i);\n        }\n        for (char i = '0'; i <= '9'; i++) {\n            addSafeCharacter(i);\n        }", "id": 59325, "time": "2004-06-16T15:58:03Z", "creator": "Dirk.Schwartzkopff@gmx.de", "creation_time": "2004-06-16T15:58:03Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 29364, "text": "There was a bug with the C2B conversion (which should fix your #2 above).  It's \nbeen fixed in the CSV.\n\nYour #1 is a JVM bug, since the code points are defined in the Java language to \nbe unicode.", "id": 59377, "time": "2004-06-17T06:48:47Z", "creator": "william.barker@wilshire.com", "creation_time": "2004-06-17T06:48:47Z", "is_private": false, "attachment_id": null}]