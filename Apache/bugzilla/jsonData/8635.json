[{"count": 0, "tags": [], "bug_id": 8635, "attachment_id": null, "id": 15086, "creation_time": "2002-04-30T01:56:28Z", "time": "2002-04-30T01:56:28Z", "creator": "dai@mailagency.com", "text": "environment:\n Linux + JDK 1.3.1 + fop 0.20.3, 0.20.2\n\nI did:\n  First, I copy ttf font file and cocoon sample files into current directrory.\n\n  export LANG=ja\n  java org.apache.fop.fonts.apps.TTFReader  RyobiHonMincho-L.ttf\nRyobiHonMincho-L.xml\n  vi userconfig.xml\n  vi hello-page.xml\n  vi simple-page2fo.xsl\n  java org.apache.fop.apps.Fop -d -c userconfig.xml -xml hello-page.xml -xsl\nsimple-page2fo.xsl -ps a.ps\n  java org.apache.fop.apps.Fop -d -c userconfig.xml -xml hello-page.xml -xsl\nsimple-page2fo.xsl -pdf a.pdf\n  java org.apache.fop.apps.Fop -d -c userconfig.xml -xml hello-page.xml -xsl\nsimple-page2fo.xsl -txt a.txt\n\n\nResults:\n  a.txt includes japanese characters correctly.\n  a.ps, p.pdf don't have japanese chars. they replaced all japanese chars into '#'.\n  ex., in a.ps:\n==\n0 0 RM\nF1 36000 F\n(#) t\n(Hello) t\n241621 664004 M\n241621 652004 M\n==\nthis (#) should be japanese chars, but fop convert to #.\n\nbelow is debug info when creatng a.ps:\n=====\n[DEBUG]: Input mode: \n[DEBUG]: xslt transformation\n[DEBUG]: xml input file: hello-page.xml\n[DEBUG]: xslt stylesheet: simple-page2fo.xsl\n[DEBUG]: Output mode: \n[DEBUG]: PostScript\n[DEBUG]: output file: a.ps\n[DEBUG]: OPTIONS\n[DEBUG]: user configuration file: userconfig.xml\n[DEBUG]: debug mode on\n[DEBUG]: dump configuration\n[DEBUG]: quiet mode on\n[DEBUG]: reading user configuration file\n[DEBUG]: base directory: file:/home/users/dai/\n[INFO]: FOP 0.20.2\n[DEBUG]: using SAX parser org.apache.xerces.parsers.SAXParser\n[INFO]: building formatting object tree\n[DEBUG]: setting up fonts\n[DEBUG]: rendering areas to PostScript\n[INFO]: [1]\n[INFO]: Parsing of document complete, stopping renderer\n[DEBUG]: written out PostScript\n[DEBUG]: Initial heap size: 647Kb\n[DEBUG]: Current heap size: 1521Kb\n[DEBUG]: Total memory used: 874Kb\n[DEBUG]:   Memory use is indicative; no GC was performed\n[DEBUG]:   These figures should not be used comparatively\n[DEBUG]: Total time used: 17507ms\n[DEBUG]: Pages rendererd: 1\n[DEBUG]: Avg render time: 17507ms/page\n======\n\nin userconfig.xml, I added:\n======\n <font metrics-file=\"RF_HonMincho-L.xml\" kerning=\"yes\"\nembed-file=\"RF_HonMincho-L.ttf\">\n    <font-triplet name=\"RyobiHonMincho-L\" style=\"normal\" weight=\"normal\"/>\n    <font-triplet name=\"RyobiHonMincho-L\" style=\"normal\" weight=\"bold\"/>\n    <font-triplet name=\"RyobiHonMincho-L\" style=\"italic\" weight=\"normal\"/>\n    <font-triplet name=\"RyobiHonMincho-L\" style=\"italic\" weight=\"bold\"/>\n </font>\n======\n(this font is bundled font when I bought turbo linux jp distribution.)\n\nin simple-page2fo.xsl, I changed font-family:\n===========\n        <fo:block text-align=\"center\" \n                  font-size=\"10pt\" \n                  font-family=\"RyobiHonMincho-L\" \n                  line-height=\"14pt\">page <fo:page-number/></fo:block>\n===========\n\nI tried change character code of hello-page.xml to utf-8, euc-jp, shift_jis, but\nin all caseses, I got fail results.", "is_private": false}, {"count": 1, "tags": [], "creator": "oleg@tkachenko.com", "text": "Are you sure the font has glyphs for ascii characters? Anyway we should resolve\nit somehow. Attach font ttf file here if it's not too big (or alternatively send\nit to me privately) and I'll try to figure out what's going on wrong.", "id": 26548, "time": "2002-11-19T10:12:59Z", "bug_id": 8635, "creation_time": "2002-11-19T10:12:59Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 8635, "attachment_id": null, "id": 27418, "creation_time": "2002-12-04T17:39:25Z", "time": "2002-12-04T17:39:25Z", "creator": "oleg@tkachenko.com", "text": "Excuse me, but it's not enough information to resolve the bug without your\nassistance. Feel free to reopen the bug.", "is_private": false}, {"count": 3, "tags": [], "bug_id": 8635, "attachment_id": null, "text": "batch transition to closed remaining pre-FOP1.0 resolved bugs", "id": 156934, "time": "2012-04-01T13:55:10Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T13:55:10Z", "is_private": false}]