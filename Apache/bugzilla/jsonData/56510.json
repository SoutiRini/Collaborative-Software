[{"count": 0, "tags": [], "bug_id": 56510, "text": "In JMeter you can define a list of typed properties for the JMS Publisher which are added to the message before sending. According to the JMS spec there are a couple of headers which are not used at the level of the message rather than at the producer level respectively the send-method. \n\nThere is already a special treatment implemented for JMSDeliveryMode (dedicated checkbox in the gui). Using properties for \"JMSPriority\" and \"JMSExpiration\" has no effect since they need to be set in the send-Method not as a message property.", "id": 175143, "time": "2014-05-11T14:38:44Z", "creator": "tom_apache@arcor.de", "creation_time": "2014-05-11T14:38:44Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "tom_apache@arcor.de", "attachment_id": 31603, "text": "Created attachment 31603\nPatch for org.apache.jmeter.protocol.jms.client.Publisher\n\nAdded a patch for JMS Publisher, this could be applied in a similar way to JMSSampler (Point-to-Point).\n\nSince there are no tests yet for the package org.apache.jmeter.protocol.jms and a mock framework is yet missing in JMeter I didn't provide a unit test but the patch has been tested while using JMeter.", "id": 175144, "time": "2014-05-11T14:41:08Z", "bug_id": 56510, "creation_time": "2014-05-11T14:41:08Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 56510, "text": "Thanks for patch.\nFirst I requalify this as an enhancement, as currently JMeter does not handle those 2 Headers.\n\nRegarding patch, I think integrating it as-is would be a bit disturbing as the 2 \"properties\" are in fact Headers, so allowing users to put them in JMS Properties would be misleading.\n\nAccording to:\nhttp://docs.oracle.com/javaee/1.4/tutorial/doc/JMS4.html#wp79367\n\nI understand we are not able to set those:\n- JMSExpiration\n- JMSPriority\n\nOthers being set through different ways in JMeter, by broker, or automatically.\n\nI think to be clear, we should introduce 2 custom fields in GUI between timeout and delivery as there is place and it makes sense there.\n\nTell me if you could rework your patch, if not I will do .\n\nThanks for contribution.", "id": 175576, "time": "2014-06-01T14:36:54Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-06-01T14:36:54Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "tom_apache@arcor.de", "attachment_id": null, "text": "(In reply to Philippe Mouawad from comment #2)\n> \n> Regarding patch, I think integrating it as-is would be a bit disturbing as\n> the 2 \"properties\" are in fact Headers, so allowing users to put them in JMS\n> Properties would be misleading.\n> \n\nThe same would apply to JMSCorrelationID which can be set in the JMS Properties table although it is a header too. Moving this one to a dedicated text field could possibly break backward compatibility, so this has to be taken into account?", "id": 175602, "time": "2014-06-02T18:19:40Z", "bug_id": 56510, "creation_time": "2014-06-02T18:19:40Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 56510, "attachment_id": null, "id": 176139, "time": "2014-07-01T20:55:33Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-07-01T20:55:33Z", "is_private": false, "text": "Date: Tue Jul  1 20:54:07 2014\nNew Revision: 1607183\n\nURL: http://svn.apache.org/r1607183\nLog:\nBug 56510 - JMS Publisher/Point to Point: Add JMSPriority and JMSExpiration\nBugzilla Id: 56510\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages.properties\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages_fr.properties\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/Utils.java\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/client/Publisher.java\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/control/gui/JMSPublisherGui.java\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/control/gui/JMSSamplerGui.java\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/FixedQueueExecutor.java\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/JMSSampler.java\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/PublisherSampler.java\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/QueueExecutor.java\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/TemporaryQueueExecutor.java\n    jmeter/trunk/xdocs/changes.xml"}, {"count": 5, "tags": [], "bug_id": 56510, "text": "Hello Tom M.,\nIt would be nice if you could test nightly build when it is available and give us some feedback.\n\nThank you", "id": 176140, "time": "2014-07-01T20:56:24Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-07-01T20:56:24Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "text": "Hi Philippe, sure, I will do some test, but it may take some time. I'll let you know about the results.", "attachment_id": null, "id": 176167, "creator": "tom_apache@arcor.de", "time": "2014-07-02T17:26:19Z", "bug_id": 56510, "creation_time": "2014-07-02T17:26:19Z", "is_private": false}]