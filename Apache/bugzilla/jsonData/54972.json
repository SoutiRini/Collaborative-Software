[{"count": 0, "attachment_id": null, "creator": "manas.panda@tcubes.com", "is_private": false, "id": 167209, "time": "2013-05-15T04:53:08Z", "bug_id": 54972, "creation_time": "2013-05-15T04:53:08Z", "tags": [], "text": "Apache httpd getting restarted every couple of minutes.\n\nMessages in error_log.\n\n[Wed May 15 10:06:02 2013] [notice] caught SIGTERM, shutting down\n[Wed May 15 10:06:02 2013] [notice] Apache/2.2.23 (Unix) mod_ssl/2.2.23 OpenSSL/0.9.8e-fips-rhel5 configured -- resuming normal operations\n[Wed May 15 10:10:07 2013] [notice] caught SIGTERM, shutting down\n[Wed May 15 10:10:07 2013] [notice] Apache/2.2.23 (Unix) mod_ssl/2.2.23 OpenSSL/0.9.8e-fips-rhel5 configured -- resuming normal operations\n[Wed May 15 10:12:02 2013] [notice] caught SIGTERM, shutting down\n[Wed May 15 10:12:02 2013] [notice] Apache/2.2.23 (Unix) mod_ssl/2.2.23 OpenSSL/0.9.8e-fips-rhel5 configured -- resuming normal operations\n[Wed May 15 10:14:02 2013] [notice] caught SIGTERM, shutting down\n[Wed May 15 10:14:02 2013] [notice] Apache/2.2.23 (Unix) mod_ssl/2.2.23 OpenSSL/0.9.8e-fips-rhel5 configured -- resuming normal operations\n[Wed May 15 10:16:02 2013] [notice] caught SIGTERM, shutting down\n[Wed May 15 10:16:02 2013] [notice] Apache/2.2.23 (Unix) mod_ssl/2.2.23 OpenSSL/0.9.8e-fips-rhel5 configured -- resuming normal operations\n\n[root@spwsnm49 httpd]# httpd -V\nServer version: Apache/2.2.23 (Unix)\nServer built:   Sep 26 2012 00:00:07\nServer's Module Magic Number: 20051115:31\nServer loaded:  APR 1.4.6, APR-Util 1.4.1\nCompiled using: APR 1.4.6, APR-Util 1.4.1\nArchitecture:   64-bit\nServer MPM:     Prefork\n  threaded:     no\n    forked:     yes (variable process count)\nServer compiled with....\n -D APACHE_MPM_DIR=\"server/mpm/prefork\"\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)\n -D APR_USE_SYSVSEM_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D DYNAMIC_MODULE_LIMIT=128\n -D HTTPD_ROOT=\"/etc/httpd\"\n -D SUEXEC_BIN=\"/usr/sbin/suexec\"\n -D DEFAULT_PIDLOG=\"logs/httpd.pid\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_LOCKFILE=\"logs/accept.lock\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D AP_TYPES_CONFIG_FILE=\"conf/mime.types\"\n -D SERVER_CONFIG_FILE=\"conf/httpd.conf\"\n[root@spwsnm49 httpd]#\n\nDebugging shows below.\n\n#0  0x00002b343176ad63 in __select_nocancel () from /lib64/libc.so.6\n#1  0x00002b3431074a95 in apr_sleep () from /usr/lib64/libapr-1.so.0\n#2  0x00002b342fbe1555 in ap_wait_or_timeout ()\n#3  0x00002b342fbeaf8e in ap_mpm_run ()\n#4  0x00002b342fbc486c in main ()"}, {"count": 1, "attachment_id": null, "bug_id": 54972, "is_private": false, "id": 167210, "time": "2013-05-15T04:57:01Z", "creator": "manas.panda@tcubes.com", "creation_time": "2013-05-15T04:57:01Z", "tags": [], "text": "Strace of process show below. Then restarted.\n\nselect(0, NULL, NULL, NULL, {1, 0})     = 0 (Timeout)\nwait4(-1, 0x7fff296d9d9c, WNOHANG|WSTOPPED, NULL) = 0\nselect(0, NULL, NULL, NULL, {1, 0})     = 0 (Timeout)\nwait4(-1, 0x7fff296d9d9c, WNOHANG|WSTOPPED, NULL) = 0\nselect(0, NULL, NULL, NULL, {1, 0})     = 0 (Timeout)\nwait4(-1, 0x7fff296d9d9c, WNOHANG|WSTOPPED, NULL) = 0\nselect(0, NULL, NULL, NULL, {1, 0})     = 0 (Timeout)\nwait4(-1, 0x7fff296d9d9c, WNOHANG|WSTOPPED, NULL) = 0\nselect(0, NULL, NULL, NULL, {1, 0})     = 0 (Timeout)\nwait4(-1, 0x7fff296d9d9c, WNOHANG|WSTOPPED, NULL) = 0\nselect(0, NULL, NULL, NULL, {1, 0})     = ? ERESTARTNOHAND (To be restarted)\n--- SIGTERM (Terminated) @ 0 (0) ---\nrt_sigreturn(0xf)                       = -1 EINTR (Interrupted system call)\ngetpgrp()                               = 6813\nkill(4294960483, SIGTERM)               = 0\n--- SIGTERM (Terminated) @ 0 (0) ---\nrt_sigreturn(0xf)                       = 0\nselect(0, NULL, NULL, NULL, {0, 16384}) = ? ERESTARTNOHAND (To be restarted)\n--- SIGCHLD (Child exited) @ 0 (0) ---\nselect(0, NULL, NULL, NULL, {0, 11000}) = ? ERESTARTNOHAND (To be restarted)\n--- SIGCHLD (Child exited) @ 0 (0) ---\nselect(0, NULL, NULL, NULL, {0, 11000}) = ? ERESTARTNOHAND (To be restarted)\n--- SIGCHLD (Child exited) @ 0 (0) ---\nselect(0, NULL, NULL, NULL, {0, 10000}) = ? ERESTARTNOHAND (To be restarted)\n--- SIGCHLD (Child exited) @ 0 (0) ---\nselect(0, NULL, NULL, NULL, {0, 3000})  = 0 (Timeout)\nwait4(6816, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], WNOHANG|WSTOPPED, NULL) = 6816\nwait4(6817, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], WNOHANG|WSTOPPED, NULL) = 6817\nwait4(6818, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], WNOHANG|WSTOPPED, NULL) = 6818\nwait4(6819, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], WNOHANG|WSTOPPED, NULL) = 6819\nwait4(6821, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], WNOHANG|WSTOPPED, NULL) = 6821\nwait4(7285, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], WNOHANG|WSTOPPED, NULL) = 7285\nunlink(\"/etc/httpd/run/httpd.pid\")      = 0\nwrite(2, \"[Wed May 15 10:26:07 2013] [noti\"..., 66) = 66\nselect(0, NULL, NULL, NULL, {0, 10000}) = 0 (Timeout)\nclose(14)                               = 0\nclose(13)                               = 0\nclose(12)                               = 0\nclose(11)                               = 0\nclose(10)                               = 0\nclose(9)                                = 0\nsemctl(409534483, 0, IPC_RMID, 0)       = 0\nmunmap(0x2b91f3f87000, 512008)          = 0\nmunmap(0x2b9200bd3000, 2185984)         = 0\nmunmap(0x2b92000f7000, 2129488)         = 0\nmunmap(0x2b9200317000, 2168592)         = 0\nmunmap(0x2b9200529000, 2312640)         = 0\nmunmap(0x2b920075e000, 2562464)         = 0\nmunmap(0x2b92009d0000, 2108192)         = 0\nmunmap(0x2b91ffeec000, 2141072)         = 0\nmunmap(0x2b91ffce5000, 2124816)         = 0\nmunmap(0x2b91ffadd000, 2128024)         = 0\nmunmap(0x2b91ff88e000, 2418464)         = 0\nmunmap(0x2b91ff64f000, 2353960)         = 0\nmunmap(0x2b91ff1a4000, 2120424)         = 0\nmunmap(0x2b91ff3c2000, 2672656)         = 0\nmunmap(0x2b91fef9c000, 2128016)         = 0\nmunmap(0x2b91fed84000, 2194568)         = 0\nalarm(0)                                = 0\nclose(15)                               = 0\nmunmap(0x2b9249601000, 4096)            = 0\nmunmap(0x2b91feb0d000, 2582360)         = 0\nmunmap(0x2b91fe8ec000, 2229040)         = 0\nmunmap(0x2b91fe355000, 2149768)         = 0\nmunmap(0x2b91fe57a000, 3611880)         = 0\nmunmap(0x2b91fe13e000, 2190232)         = 0\nmunmap(0x2b91fdae4000, 2138024)         = 0\nmunmap(0x2b91fdd06000, 2296096)         = 0\nmunmap(0x2b91fdf37000, 2123008)         = 0\nmunmap(0x2b91fd6d8000, 4242160)         = 0\nmunmap(0x2b91fd4d0000, 2128248)         = 0\nmunmap(0x2b91fcba9000, 2194560)         = 0\nmunmap(0x2b91fcdd9000, 2963288)         = 0\nmunmap(0x2b91fd0ad000, 2140040)         = 0\nmunmap(0x2b91fd2b8000, 2191888)         = 0\nmunmap(0x2b91fb952000, 2432064)         = 0\nmunmap(0x2b91fbbbc000, 2636816)         = 0\nmunmap(0x2b91fc14c000, 2164464)         = 0\nmunmap(0x2b91fbe40000, 3194648)         = 0\nmunmap(0x2b91fc35d000, 2242264)         = 0\nmunmap(0x2b91fc581000, 2231920)         = 0\nmunmap(0x2b91fc7a2000, 2105040)         = 0\nmunmap(0x2b91fc9a4000, 2115016)         = 0\nmunmap(0x2b91fb50f000, 4465672)         = 0\nmunmap(0x2b91fb2e6000, 2264784)         = 0\nmunmap(0x2b91fac50000, 2160328)         = 0\nmunmap(0x2b91fae78000, 2345576)         = 0\nmunmap(0x2b91fb0b5000, 2297584)         = 0\nmunmap(0x2b9209501000, 1073741824)      = 0\nmunmap(0x2b91faa24000, 2275016)         = 0\nmunmap(0x2b91f3f38000, 323584)          = 0\nclose(8)                                = 0\nclose(7)                                = 0\nmunmap(0x2b91fa1c8000, 2277320)         = 0\nmunmap(0x2b91fa40c000, 2111232)         = 0\nmunmap(0x2b91fa610000, 2131960)         = 0\nmunmap(0x2b91f7ba2000, 6032408)         = 0\nmunmap(0x2b91f817b000, 2329440)         = 0\nmunmap(0x2b91f83b4000, 2160784)         = 0\nmunmap(0x2b91f87cd000, 2194096)         = 0\nmunmap(0x2b91f89e5000, 3395288)         = 0\nmunmap(0x2b91f960c000, 2407856)         = 0\nmunmap(0x2b91f8d22000, 2283888)         = 0\nmunmap(0x2b91f8f50000, 2706656)         = 0\nmunmap(0x2b91f940a000, 2103144)         = 0\nmunmap(0x2b91f91e5000, 2247528)         = 0\nmunmap(0x2b91f9858000, 3476304)         = 0\nmunmap(0x2b91f9ba9000, 2128848)         = 0\nmunmap(0x2b91f9db1000, 2102416)         = 0\nmunmap(0x2b91f9fb3000, 2181896)         = 0\nmunmap(0x2b91f799b000, 2122520)         = 0\nmunmap(0x2b91f778c000, 2155704)         = 0\nmunmap(0x2b91f7588000, 2109784)         = 0\nmunmap(0x2b91f7385000, 2105592)         = 0\nmunmap(0x2b91f717c000, 2130648)         = 0\nmunmap(0x2b91f6f77000, 2113968)         = 0\nmunmap(0x2b91f6d72000, 2113984)         = 0\nmunmap(0x2b91f6b6e000, 2109752)         = 0\nmunmap(0x2b91f673c000, 2118136)         = 0\nmunmap(0x2b91f695a000, 2178544)         = 0\nmunmap(0x2b91f6539000, 2105688)         = 0\nmunmap(0x2b91f6333000, 2118496)         = 0\nmunmap(0x2b91f6130000, 2105624)         = 0\nmunmap(0x2b91f4005000, 16840)           = 0\nsemctl(409501714, 0, IPC_RMID, 0)       = 0\nclose(6)                                = 0\nclose(5)                                = 0\nclose(4)                                = 0\nclose(3)                                = 0\nexit_group(0)                           = ?\nProcess 6813 detached"}, {"count": 2, "tags": [], "bug_id": 54972, "attachment_id": null, "id": 167218, "time": "2013-05-15T11:03:56Z", "creator": "covener@gmail.com", "creation_time": "2013-05-15T11:03:56Z", "is_private": false, "text": "There's no sign that httpd is issuing these signals to itself. What's the httpd bug?"}]