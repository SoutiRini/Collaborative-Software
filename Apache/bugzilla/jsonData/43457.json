[{"attachment_id": null, "tags": [], "bug_id": 43457, "text": "Hi\n\nI have compiled tomcat-connectors-1.2.25-src.tar.gz on Sun One Webserver 6.1 \nSP2. I am using it to establish communication between Sun One Webserver 6.1 \nSP2 and Vignette Collaboration server 7.1 which runs a tomcat internally. The \narchitecture is that the request from the browser goes to the webserver which \nthen communicates with the Colloboration server.\n\nI am frequently getting a 'Page not found' error whenever I route the request \nvia the webserver. On running the Collaboration server without the webserver, \nI don't see this error. \n\nFollwoing is the error in the nsapi.log file:\n\n[Mon Sep 24 11:40:28.404 2007] [3025:61] [warn] \najp_get_endpoint::jk_ajp_common.c (2505): Unable to get the free endpoint for \nworker ajp13 from 1 slots\n[Mon Sep 24 11:40:28.404 2007] [3025:61] [info] \najp_get_endpoint::jk_ajp_common.c (2519): can't find free endpoint\n\nCan this be fixed?\n\nThanks\nVarnita", "count": 0, "id": 108525, "time": "2007-09-24T05:13:18Z", "creator": "varnita.jain@headstrong.com", "creation_time": "2007-09-24T05:13:18Z", "is_private": false}, {"count": 1, "tags": [], "creator": "rainer.jung@kippdata.de", "is_private": false, "text": "I guess, your workers.properties does not contain a connection pool size bigger\nthan 1. From the page\n\nhttp://tomcat.apache.org/connectors-doc/webserver_howto/nes.html:\n\n\"Edit your worker definition file workers.properties. You should at least choose\na connection pool size:\"\n\nFor the meaning of the parameter, search for \"connection_pool_size\" on page\nhttp://tomcat.apache.org/connectors-doc/reference/workers.html.\n\nIf my guess is wrong, please give your configuration details and reopen this ticket.\n", "id": 108526, "time": "2007-09-24T05:21:33Z", "bug_id": 43457, "creation_time": "2007-09-24T05:21:33Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 43457, "attachment_id": null, "is_private": false, "id": 108561, "time": "2007-09-25T01:21:31Z", "creator": "varnita.jain@headstrong.com", "creation_time": "2007-09-25T01:21:31Z", "text": "Thanks for the information. You are right, there is no value set for \nconnection_pool_size, hence the default value of 1 is being picked up. \n\nCan you please let me know what is the ideal value to set in this case, I \nnoticed that for IIS the default value is 250? We are using Sun One 6.1 \nWebserver. \n\nAlso, what should be the value of the connection_pool_timeout parameter?\n\nThanks\nVarnita"}, {"count": 3, "tags": [], "bug_id": 43457, "attachment_id": null, "is_private": false, "id": 108565, "time": "2007-09-25T02:26:10Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2007-09-25T02:26:10Z", "text": "We don't know the default thread counts for the Sun Web Server. You can\ninvestigate your runtime instance via pstack (Solaris) or gstack (Linux) to find\nout. IF you find pointers in the docs about thread pools they use for request\nhandling, that would be interesting. Since we don't know how the thread pools in\nSun Web Server works, I've got no recommendation. If that number is not to big\nand you can determine it (I don't know how), then you should use the maximum\nnumber of threads that will handle requests in parallel in the same Web Server\nprocess.\n\nFor the Timeouts, please read the Timeouts documentation page on our\ntomcat-connectors project web site.\n"}]