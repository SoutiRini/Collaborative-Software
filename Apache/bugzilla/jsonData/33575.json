[{"count": 0, "tags": [], "bug_id": 33575, "text": " ", "id": 70979, "time": "2005-02-15T02:02:50Z", "creator": "jfeise@ics.uci.edu", "creation_time": "2005-02-15T02:02:50Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "jfeise@ics.uci.edu", "text": "Oops. Hit Enter too early.\nSending a Principal-match report results in a nullpointer exception.\nData sent (straight out of RFC 3744):\nREPORT /slide/files/ HTTP/1.1\nHost: pv105234.reshsg.uci.edu:8090\nConnection: TE\nTE: trailers, deflate, gzip, compress\nUser-Agent: UCI DAV Explorer/0.91-dev RPT-HTTPClient/0.3-3E\nDepth: 0\nTranslate: f\nCookie: JSESSIONID=40DAA8A627B0CF1000B197209EED0589\nCookie2: $Version=\"1\"\nAuthorization: Basic xxx\nAccept-Encoding: deflate, gzip, x-gzip, compress, x-compress\nContent-type: application/octet-stream\nContent-length: 156\n\n<?xml version=\"1.0\"?>\n<A:principal-match xmlns:A=\"DAV:\">\n    <A:principal-property>\n        <A:owner/>\n    </A:principal-property>\n</A:principal-match>\n\nResult:\nHTTP/1.1 500 Internal Server Error: java.lang.NullPointerException\nPragma: No-cache\nCache-Control: no-cache\nExpires: Wed, 31 Dec 1969 16:00:00 PST\nContent-Type: text/html;charset=utf-8\nContent-Length: 1159\nDate: Tue, 15 Feb 2005 00:53:07 GMT\nServer: Apache-Coyote/1.1\nConnection: close\n\nServer error log:\nhttp-8090-Processor24, 14-Feb-2005 16:53:00, john, PROPFIND, 207 \"Multi-Status\",\n54 ms, /files/\njava.lang.NullPointerException\n        at\norg.apache.slide.webdav.method.report.PrincipalMatchReport.getOwnerQueryElement(PrincipalMatchReport.jav\na:231)\n        at\norg.apache.slide.webdav.method.report.PrincipalMatchReport.getQueryElement(PrincipalMatchReport.java:175\n)\n        at\norg.apache.slide.webdav.method.report.PrincipalMatchReport.execute(PrincipalMatchReport.java:153)\n        at\norg.apache.slide.webdav.method.ReportMethod.executeRequest(ReportMethod.java:214)\n        at\norg.apache.slide.webdav.method.AbstractWebdavMethod.run(AbstractWebdavMethod.java:405)\n        at org.apache.slide.webdav.WebdavServlet.service(WebdavServlet.java:155)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)\n        at org.apache.slide.webdav.filter.LogFilter.doFilter(LogFilter.java:141)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:186)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n        at\norg.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n        at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:118)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)\n        at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:799)\n        at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:70\n5)\n        at\norg.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:577)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)\n        at java.lang.Thread.run(Thread.java:534)\nhttp-8090-Processor24, 14-Feb-2005 16:53:07, john, REPORT, 500 \"Internal Server\nError\", 66 ms, /files/\n", "id": 70980, "time": "2005-02-15T02:05:56Z", "bug_id": 33575, "creation_time": "2005-02-15T02:05:56Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 33575, "text": "Can you request any property as a work around? \n\n<A:principal-match xmlns:A=\"DAV:\">\n    <A:principal-property>\n        <A:owner/>\n    </A:principal-property>\n    <A:prop>\n      <A:displayname/>\n    </A:prop>\n</A:principal-match>", "id": 71001, "time": "2005-02-15T15:41:45Z", "creator": "luetzkendorf@apache.org", "creation_time": "2005-02-15T15:41:45Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 33575, "attachment_id": null, "is_private": false, "id": 71051, "time": "2005-02-16T00:06:34Z", "creator": "jfeise@ics.uci.edu", "creation_time": "2005-02-16T00:06:34Z", "text": "That works as workaround, but of course, since the prop part is optional\naccording to RFC 3744, it should work without it...\n\nREPORT /slide/files/ HTTP/1.1\nHost: xxx\nConnection: TE\nTE: trailers, deflate, gzip, compress\nUser-Agent: UCI DAV Explorer/0.91-dev RPT-HTTPClient/0.3-3E\nDepth: 0\nTranslate: f\nCookie: JSESSIONID=32DDB13DE27ACB3213970E9988AF5A38\nCookie2: $Version=\"1\"\nAuthorization: Basic xxx\nAccept-Encoding: deflate, gzip, x-gzip, compress, x-compress\nContent-type: application/octet-stream\nContent-length: 215\n\n<?xml version=\"1.0\"?>\n<A:principal-match xmlns:A=\"DAV:\">\n    <A:principal-property>\n        <A:owner/>\n    </A:principal-property>\n    <A:prop>\n        <A:displayname/>\n    </A:prop>\n</A:principal-match>\n\nResult:\nHTTP/1.1 207 Multi-Status\nPragma: No-cache\nCache-Control: no-cache\nExpires: Wed, 31 Dec 1969 16:00:00 PST\nTransfer-Encoding: chunked\nDate: Tue, 15 Feb 2005 22:51:24 GMT\nServer: Apache-Coyote/1.1\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<D:multistatus xmlns:D=\"DAV:\">\n    <D:response>\n        <D:href>/slide/files/README.html</D:href>\n        <D:propstat>\n            <D:prop>\n                <D:displayname>README.html</D:displayname>\n            </D:prop>\n            <D:status>HTTP/1.1 200 OK</D:status>\n        </D:propstat>\n    </D:response>\n</D:multistatus>\n"}, {"count": 4, "tags": [], "bug_id": 33575, "attachment_id": null, "text": "I fixed this on the HEAD.", "id": 71294, "time": "2005-02-21T09:55:43Z", "creator": "luetzkendorf@apache.org", "creation_time": "2005-02-21T09:55:43Z", "is_private": false}]