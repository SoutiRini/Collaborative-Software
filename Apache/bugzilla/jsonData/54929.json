[{"count": 0, "tags": [], "bug_id": 54929, "attachment_id": null, "text": "As reported via documentation comment,\n[1] http://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html#comment_1210\n\nThe documentation [1] says:\n\"We build the JDBC pool code with 1.6, but it is backwards compatible down to 1.5 for runtime environment\"\n\nCurrent builds of jdbc-pool fail when one tries to use them with Java 1.5 because of \"java.lang.NoClassDefFoundError: java/sql/SQLFeatureNotSupportedException\"\n\nThe java.sql.SQLFeatureNotSupportedException class is @since 1.6.\n\nThe broken class is org.apache.tomcat.jdbc.pool.DataSourceProxy that has the following method:\n\n    public Logger getParentLogger() throws SQLFeatureNotSupportedException {\n        throw new SQLFeatureNotSupportedException();\n    }\n\n\nThis bug was introduced in r1302968 (13 months ago) when fixing bug 52493.\n\n\nThe alternative ways that I see to fix this:\n\na) Update documentation.\nAs [1] says, \"For unit test, we use 1.6 and higher\", so running with JDK 1.5 is essentially untested.\n\nIs there any interest in supporting JDK 1.5? This issue was unreported for more than a year.\n\nb) Use reflection to create an instance of SQLFeatureNotSupportedException class.\n\nc) Standard taglib currently \"solved\" this in r1453156 by throwing UnsupportedOperationException instead.\n\nThat is an easy solution, but I would say that it is wrong, as the API expects a SQLFeatureNotSupportedException here \"if the data source does not use <code>java.util.logging<code>.\"\n\nhttp://docs.oracle.com/javase/7/docs/api/javax/sql/CommonDataSource.html#getParentLogger%28%29", "id": 167050, "time": "2013-05-05T23:31:28Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2013-05-05T23:31:28Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 54929, "attachment_id": null, "text": "I am sure updating the document to reflect that tomcat jdbc is only compatible with jdk 1.5 would be much appreciated by user group.\n\nMy application is still on jdk1.5 and so I had to fetch the source code of tomcat jdbc 7.0.39 and tweak it to support jdk1.5 based on your suggested alternative (c).\n\nThanks", "id": 167189, "time": "2013-05-14T08:18:19Z", "creator": "mohanpakam@ymail.com", "creation_time": "2013-05-14T08:18:19Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 54929, "text": "I'm considering closing the development of jdbc-pool on the Tomcat 7 branch. and just continue on Tomcat 8, at which point I do believe Java 6 should be the minimum required.\n\nIs this still an issue? Anyone still using Java 1.5 out there?", "id": 176999, "time": "2014-08-07T21:57:07Z", "creator": "fhanik@apache.org", "creation_time": "2014-08-07T21:57:07Z", "tags": [], "is_private": false}]