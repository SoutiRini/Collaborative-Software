[{"count": 0, "tags": [], "creator": "divya.mahajan@philips.com", "attachment_id": null, "is_private": false, "id": 47637, "time": "2003-11-19T17:45:04Z", "bug_id": 24830, "creation_time": "2003-11-19T17:45:04Z", "text": "The latest changes (v1.12) cause the following side-effects when running this \nunder HP-UX.\n1. The command line is enclosed in double quotes.\n   This causes the following error under Unix\n   [Can't open perl script \"\"/opt/apache/WebAbsence/WEB-INF/cgi/a.pl\"\": No such \nfile or directory]\n   The changes which cause this problem are listed below in a diff between 1.12 \nand 1.11.\n2. The command arguments are enclosed in double quotes.\n   So the program has to strip these out to get the real arguments.\n   The changes which cause this problem are listed below in a diff between 1.12 \nand 1.11.\n\n3. The string \"perl \" is always prefixed to any CGI script name.\n   The changes which cause this problem are listed below in a diff between 1.12 \nand 1.11.   \n  \n\n=====================================================\n@@ -1555,17 +1556,19 @@\n \n             //create query arguments\n             Enumeration paramNames = params.keys();\n-            StringBuffer cmdAndArgs = new StringBuffer(command);\n+            StringBuffer cmdAndArgs = new StringBuffer(\"\\\"\" + command + \"\\\"\");\n             if (paramNames != null && paramNames.hasMoreElements()) {\n                 cmdAndArgs.append(\" \");\n                 while (paramNames.hasMoreElements()) {\n                     String k = (String) paramNames.nextElement();\n                     String v = params.get(k).toString();\n                     if ((k.indexOf(\"=\") < 0) && (v.indexOf(\"=\") < 0)) {\n+                        cmdAndArgs.append(\"\\\"\");\n                         cmdAndArgs.append(k);\n                         cmdAndArgs.append(\"=\");\n                         v = java.net.URLEncoder.encode(v);\n                         cmdAndArgs.append(v);\n+                        cmdAndArgs.append(\"\\\"\");\n                         cmdAndArgs.append(\" \");\n==========================\n@@ -1578,11 +1581,11 @@\n                 env.put(\"CONTENT_LENGTH\", new Integer(contentLength));\n             }*/\n \n-        if (command.endsWith(\".pl\") || command.endsWith(\".cgi\")) {\n+        //if (command.endsWith(\".pl\") || command.endsWith(\".cgi\")) {\n             StringBuffer perlCommand = new StringBuffer(\"perl \");\n             perlCommand.append(cmdAndArgs.toString());\n             cmdAndArgs = perlCommand;\n-        }\n+        //}"}, {"attachment_id": null, "tags": [], "creator": "medthomas@ntlworld.com", "is_private": false, "count": 1, "id": 47646, "time": "2003-11-19T19:28:11Z", "bug_id": 24830, "creation_time": "2003-11-19T19:28:11Z", "text": "\n\n*** This bug has been marked as a duplicate of 24478 ***"}]