[{"count": 0, "tags": [], "bug_id": 46964, "attachment_id": null, "text": "When running on AIX, calling:\n\napr_sockaddr_info_get(&sa, \"localhost\", APR_UNSPEC, 0, APR_IPV6_ADDR_OK, pool);\n\nwhen the library was built w/IPv6 ok but the host only has IPV4 sometimes results in a sockaddr that has a non-zero port.  In my case, 1.  Which causes the subsequent apr_socket_bind() to fail w/EACCES.\n\napr_sockaddr_info_get(), via call_resolver(), calls getaddrinfo() with a host name and a NULL service name.  When successful, the copied addrinfo->ai_addr sometimes has a 1 in sin_port.\n\nSince the man page for getaddrinfo() doesn't seem to explicitly state what the returned value for the port will be when service name is NULL, perhaps the prudent thing for apr_sockaddr_vars_set() to do would be to always set the port... even when the port is zero.", "id": 125983, "time": "2009-04-03T10:35:17Z", "creator": "Joe.Mudd@sas.com", "creation_time": "2009-04-03T10:35:17Z", "is_private": false}, {"count": 1, "tags": [], "text": "I'm bumping this up to the APR 1.3.3 drop since apr_sockaddr_vars_set() is the same at that level.\n\nFwiw, this error occurs on AIX 5.3.", "attachment_id": null, "id": 126291, "creation_time": "2009-04-16T10:07:52Z", "time": "2009-04-16T10:07:52Z", "creator": "Joe.Mudd@sas.com", "bug_id": 46964, "is_private": false}, {"count": 2, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "id": 144967, "time": "2011-03-13T10:17:08Z", "bug_id": 46964, "creation_time": "2011-03-13T10:17:08Z", "is_private": false, "text": "fixed in the next stable release (future 1.4.3)"}]