[{"count": 0, "text": "The inline asm statement implementing apr_atomic_cas for x86 should use the \"q\"\nregister class, rather than \"r\".  \"q\" specifies a subset of the register set\nthat is compatible with the instruction used.  With \"r\" it is possible for the\ncompiler to select an inappropriate register, subsequently leading to an\nassembler error.  Whether it happens seems to depend on gcc version,\noptimisation level etc. etc.\n\nSee the following mailing list threads for more:\n\nhttp://gcc.gnu.org/ml/gcc/2005-05/threads.html#01360\nhttp://mail-archives.apache.org/mod_mbox/httpd-dev/200505.mbox/%3c4294665F.2050106@chezphil.org%3e\n\nThe affected code was in apr_atomic.h but seems to have moved to atomic.c at\nsome point.", "bug_id": 35121, "is_private": false, "id": 75590, "time": "2005-05-30T14:04:34Z", "creator": "spam_from_apache_bugzilla@chezphil.org", "creation_time": "2005-05-30T14:04:34Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "text": "I'm slightly confused: you talk about AMD64 in the referenced message, but this\nconcerns the inline asm in apr 0.9.x, which didn't (or shouldn't :) be enabled\nfor x86_64.  Or was this an -m32 build or something?", "id": 78914, "attachment_id": null, "bug_id": 35121, "creation_time": "2005-08-24T13:36:03Z", "time": "2005-08-24T13:36:03Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 35121, "is_private": false, "text": "\n  AMD64 supports AMD32 instruction set, it wouldn't surprise me if this code\n  was triggered.  But unless I'm confused, this inline code is gone.  Please\n  take a look and try compiling apr-0.9.8 or apr-1.2.2 and let us know if you\n  continue to experience this issue.", "id": 85554, "time": "2006-02-07T18:29:17Z", "creator": "wrowe@apache.org", "creation_time": "2006-02-07T18:29:17Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "wrowe@apache.org", "text": "Mass reassign the 44 open apr-bugs to apr bug list", "id": 93846, "attachment_id": null, "bug_id": 35121, "creation_time": "2006-09-19T19:54:41Z", "time": "2006-09-19T19:54:41Z", "is_private": false}, {"count": 4, "text": "This was likely a misuse of the macro (feeding a wrong type). Closing as there were no more issues.", "bug_id": 35121, "is_private": false, "id": 102579, "time": "2007-04-27T15:18:44Z", "creator": "davi@apache.org", "creation_time": "2007-04-27T15:18:44Z", "tags": [], "attachment_id": null}]