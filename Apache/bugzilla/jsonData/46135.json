[{"count": 0, "tags": [], "creator": "ext-simon.steiner@nokia.com", "text": "Hi,\n\nI am getting this with error with 1.7.1 and not with 1.7.0. Calling just self.xxx doesn't cause problems. There was a similar issue, I've included below.\n\nSyntaxError: ('invalid syntax', ('<string>', 2, 13, \"errorsTotal = project.getPr\noperty('build.errors.total')\"))\n\n        <condition property=\"compile.result\">\n            <scriptcondition language=\"jython\"> errorsTotal = project.getProperty('build.errors.total')\nself.setValue(True)\n            </scriptcondition>\n        </condition>\n\nAlso:\n\n        <if>\n            <scriptcondition language=\"jep\" value=\"false\">\nerrorsTotal = project.getProperty(\"build.errors.total\")\nerrorsLimit = project.getProperty(\"build.errors.limit\")\nif int(errorsLimit) > -1:\n    if int(errorsTotal) > int(errorsLimit):\n        self.setValue(1)\n            </scriptcondition>\n    \t    <then>\n    \t        <property name=\"compile.result\" value=\"1\"/>\n    \t    </then>\n            <else>\n                <property name=\"compile.result\" value=\"0\"/>\n            </else>\n        </if>\n\nThanks\n\nList:       ant-dev\nSubject:    <scriptcondition> is broken with Jython in the recent trunk builds\nFrom:       \"Alexey N. Solofnenko\" <A.Solofnenko () mdl ! com>\nDate:       2007-07-30 23:08:30\nMessage-ID: 46AE6F6E.3000700 () mdl ! com [Download message RAW]\n\nRecent trunk ANT fails in my builds because <scriptcondition> does something with the script that Jython cannot digest (new lines?).  \n<script> with the same code works fine. This is a test script:\n\n<project>\n  <script language=\"jython\"><![CDATA[ # test\nself.log(\"test\")\n]]>\n  </script>\n  <condition property=\"test\">\n    <scriptcondition language=\"jython\"><![CDATA[ # test\nself.log(\"test\")\n]]>\n    </scriptcondition>\n  </condition>\n</project>\n\nand the output is:\n\nBuildfile: test.xml\n   [script] test\n\nBUILD FAILED\nC:\\tmp\\test.xml:6: Traceback (innermost last):\n  (no code object) at line 0\nSyntaxError: ('invalid syntax', ('<string>', 1, 8, ' # test'))\n\n\nTotal time: 0 seconds\n\n- Alexey.", "id": 122076, "time": "2008-10-31T07:38:29Z", "bug_id": 46135, "creation_time": "2008-10-31T07:38:29Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 129842, "time": "2009-08-21T09:11:55Z", "bug_id": 46135, "creation_time": "2009-08-21T09:11:55Z", "is_private": false, "text": "reading through the thread again and looking at svn revision 668698 and svn revision 668712 I think this is fixed in trunk (by reverting changes) but don't have a jython install around to test quickly.\n\nDoes anybody know for sure?"}, {"count": 2, "tags": [], "text": "Assuming this one fixed, no info for almost 3 years. If this is still an issue please file a new report.", "is_private": false, "id": 159383, "creation_time": "2012-05-28T11:14:59Z", "time": "2012-05-28T11:14:59Z", "creator": "jkf@apache.org", "bug_id": 46135, "attachment_id": null}]