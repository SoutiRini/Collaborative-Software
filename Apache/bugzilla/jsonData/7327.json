[{"count": 0, "tags": [], "bug_id": 7327, "attachment_id": null, "id": 12137, "time": "2002-03-21T15:49:30Z", "creator": "hintak_leung@yahoo.co.uk", "creation_time": "2002-03-21T15:49:30Z", "is_private": false, "text": "sun jdk 1.3.1_02, installed under c:\\jdk1.3.1_02 (default).\nIt comes with two java runtimes, one under \"c:\\jdk1.3.1_02\\jre\"\nand another under \"c:\\program files\\JavaSoft\\JRE\\1.3.1_02\".\n\nWhen called with just \n    set JAVA_HOME=c:\\jdk1.3.1_02\n    java -cp <...> org.apache.tools.ant.Main -debug\nfor a compilation task,\nit keeps insisting that \"java.home\" is \n\"c:\\program files\\JavaSoft\\JRE\\1.3.1_02\".\nWhile called with \n   c:\\jdk1.3.1_02\\bin\\java -cp <...> org.apache.tools.ant.Main -debug\nit insists that \"java.home\" is\n\"c:\\jdk1.3.1_02\\jre\"\n(note that I was calling the runtime as JDK_HOME\\bin\\java, \nnot \"JDK_HOME\\jre\\bin\\java\".\n\nIt seems that Ant is working out JAVA_HOME/java.home from the runtime\nitself and ignoring the environment variable.\n\nSame thing happens under cygwin with export JAVA_HOME.\n\nThe cure is as somebody else suggested in one of the previous\nposts, make sure the classpath includes the real lib/tools.jar\nunder JDK_HOME."}, {"count": 1, "tags": [], "creator": "hintak_leung@yahoo.co.uk", "attachment_id": null, "text": "*** Bug 7326 has been marked as a duplicate of this bug. ***", "id": 12139, "time": "2002-03-21T15:50:50Z", "bug_id": 7327, "creation_time": "2002-03-21T15:50:50Z", "is_private": false}, {"count": 2, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "is_private": false, "id": 12678, "time": "2002-04-02T14:18:58Z", "bug_id": 7327, "creation_time": "2002-04-02T14:18:58Z", "text": "Don't use java but the ant.bat wrapper script.  Setting JAVA_HOME won't change\nthe version of java you use, your operating system will simply pick up the\none from your PATH.  ant.bat in turn will honor your JAVA_HOME setting.\n\nAnt doesn't set java.home at all, it is the JVM that does."}, {"count": 3, "tags": [], "bug_id": 7327, "text": "see also Bug 33486", "id": 70741, "time": "2005-02-10T10:29:35Z", "creator": "hauser@acm.org", "creation_time": "2005-02-10T10:29:35Z", "is_private": false, "attachment_id": null}]