[{"count": 0, "tags": [], "bug_id": 20371, "attachment_id": null, "id": 38069, "time": "2003-05-30T20:44:51Z", "creator": "sherod@pillardata.com", "creation_time": "2003-05-30T20:44:51Z", "is_private": false, "text": "There's a somewhat obscure way that httpd can fail to start.\n\nIf httpd was not closed cleanly, it will leave a PidFile.  On restarting, httpd\nchecks that PidFile and if it exists, grabs the number from it then does a kill(\nPID_value, 0) which checks to see whether it can send a signal to the process\nwith that PID.  If it can, it does not start since it assumes that another copy\nis already running.\n\nHowever, what happens if that PID is being used by a different process now? \nThat actually happens rather often if httpd is started by an init script.\n\nThe operable code is in mpm_common.c starting at about line 751.  Is it\nreasonable to have httpd also verify that the PID is actually a running instance\nof httpd?  With linux that should be relatively easy, but I don't know about\nother OS flavors.\n\n(My work-around it to have my init script check that the PidFile value is a\nrunning instance of httpd.)"}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "No, it would be very hard to do that in a portable fashion; so WONTFIX, I think.\n The current behaviour is a safe and reasonable default, and is simple enough to\nrecover from given the log messages, no?  Thanks for the report.", "id": 58692, "time": "2004-06-03T23:36:25Z", "bug_id": 20371, "creation_time": "2004-06-03T23:36:25Z", "is_private": false}]