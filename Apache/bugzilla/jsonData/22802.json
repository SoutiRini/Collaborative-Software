[{"count": 0, "tags": [], "bug_id": 22802, "attachment_id": null, "is_private": false, "id": 43451, "time": "2003-08-28T19:57:14Z", "creator": "cam-cama@princetonsa.com", "creation_time": "2003-08-28T19:57:14Z", "text": "Acording to the docs, when you set mappedfile on true, every line will be show\nwith one print statement.\n\nIf you use this code(Real World code):  \n\n<table width=\"100%\" border=\"0\" cellspacing=\"5\" cellpadding=\"6\"><tr> <td> <table\nwidth=\"100%\" border=\"0\" cellpadding=\"2\" cellspacing=\"1\"><tr> <td> <font\ncolor=\"#980000\" face=\"Verdana, Arial, Helvetica, sans-serif\">Epicrisis: <a\nhref=\"javascript:cambiarEstadoSalidaPrevisible('pag1.jsp')\">Definici&oacute;n\n</a> | <a href=\"javascript:cambiarEstadoSalidaPrevisible('pag2.jsp')\">Consulta\n</a> | <a href=\"javascript:cambiarEstadoSalidaPrevisible('pag3.jsp')\">Nota\nAclaratoria </a></td></tr></table></td></tr></table>\n\nIn only one line, you get this output (based on the work directory results):\nout.write(\"<table width=\\\"100%\\\" border=\\\"0\\\" cellpadding=\\\"2\\\"\ncellspacing=\\\"1\\\">\");\n          out.write(\"<tr> \");\n          out.write(\"<td> \");\n          out.write(\"<font color=\\\"#980000\\\" face=\\\"Verdana, Arial, Helvetica,\nsans-serif\\\">Epicrisis: \");\n          out.write(\"<a\nhref=\\\"javascript:cambiarEstadoSalidaPrevisible('pag1.jsp')\\\">Definici&oacute;n \");\n          out.write(\"</a> | \");\n          out.write(\"<a\nhref=\\\"javascript:cambiarEstadoSalidaPrevisible('pag1.jsp')\\\">Consulta \");\n          out.write(\"</a> | \");\n          out.write(\"<a\nhref=\\\"javascript:cambiarEstadoSalidaPrevisible('pag1.jsp')\\\">Nota Aclaratoria \");\n          out.write(\"</a>\");\n          out.write(\"</td>\");\n          out.write(\"</tr>\");\n          out.write(\"</table>\");\n\n\nThe main web.xml (../tomcat4/conf/web.xml) has the following lines:\n<servlet>\n        <servlet-name>jsp</servlet-name>\n        <servlet-class>org.apache.jasper.servlet.JspServlet</servlet-class>\n        <init-param>\n            <param-name>logVerbosityLevel</param-name>\n            <param-value>WARNING</param-value>\n       </init-param>\n       <init-param>\n           <param-name>largefile</param-name>\n           <param-value>true</param-value>\n       </init-param>\n       <init-param>\n           <param-name>mappedfile</param-name>\n           <param-value>true</param-value>\n       </init-param>\n        <load-on-startup>3</load-on-startup>\n    </servlet>"}, {"count": 1, "tags": [], "bug_id": 22802, "attachment_id": null, "text": "This is very likely the same issue fixed in Tomcat 5 as Bugzilla Bug 22266.  \nI've never looked at the Tomcat 4.1 code, so I don't know how hard it would be \nto port the fix to Tomcat 4.1, but the implementation in Tomcat 5 may be \nchanging (to incorporate Kin-Man's suggestion of doing the consolidation in a \nseparate pass), so I don't know that it makes a whole lot of sense to port the \ncurrent code.  Of course other committers may see it differently.\n\nOn the other hand if you're anxious for a fix to this (I see you marked the \nSeverity as \"Critical\"), and are able to work on it yourself, you might be \nable to save yourself some time by porting from Tomcat 5 instead of starting \nfrom scratch.  Look for isTemplateText() in Parser.java.\n\nMy only other suggestion would be to upgrade to Tomcat 5, but it's only beta, \nand supports different servlet and JSP specs than Tomcat 4.1, so it may not be \nappropriate for your environment.\n", "id": 43465, "time": "2003-08-29T02:56:00Z", "creator": "ecarmich@alumni.rice.edu", "creation_time": "2003-08-29T02:56:00Z", "is_private": false}, {"count": 2, "tags": [], "text": "This has been fixed in SVN and will be included in the next release.", "attachment_id": null, "id": 81935, "creator": "markt@apache.org", "time": "2005-10-30T18:53:21Z", "bug_id": 22802, "creation_time": "2005-10-30T18:53:21Z", "is_private": false}]