[{"count": 0, "tags": [], "bug_id": 192, "text": "After the action include exceptions are not correct handled by the errorPage\r\n\r\nThis works fine:\r\n(s_dbKalender.getKalenderList()throws an SQLException which is handled by the errorPage)\r\n\r\n<%@ page errorPage=\"ErrorPage.jsp\" import=\"java.util.*,java.sql.*,model.*\"%>\r\n\r\n....\r\n\r\n <% s_dbKalender.getKalenderList(s_lstKalender); %>\r\n <jsp:include page=\"Navigation.jsp\" flush=\"true\"/>\r\n\r\n\r\nThis fails:\r\n\r\n<%@ page errorPage=\"ErrorPage.jsp\" import=\"java.util.*,java.sql.*,model.*\"%>\r\n\r\n....\r\n\r\n <jsp:include page=\"Navigation.jsp\" flush=\"true\"/>\r\n <% s_dbKalender.getKalenderList(s_lstKalender); %>\r\n\r\nInstead of the errorPage the following message appears:\r\nError: 500\r\nLocation: /examples/jsp/scoreMeasure/C_Kalender.jsp\r\nInternal Servlet Error:\r\n\r\njava.lang.IllegalStateException: Cannot forward as OutputStream or Writer has already been obtained\r\n\tat org.apache.tomcat.core.RequestDispatcherImpl.forward(RequestDispatcherImpl.java, Compiled Code)\r\n\tat org.apache.jasper.runtime.PageContextImpl.forward(PageContextImpl.java, Compiled Code)\r\n\tat org.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java, Compiled Code)\r\n\tat jsp.scoreMeasure._0002fjsp_0002fscoreMeasure_0002fC_0005fKalender_0002ejspC_0005fKalender_jsp_3._jspService(_0002fjsp_0002fscoreMeasure_0002fC_0005fKalender_0002ejspC_0005fKalender_jsp_3.java, Compiled Code)\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java, Compiled Code)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java, Compiled Code)\r\n\tat org.apache.jasper.runtime.JspServlet$JspServletWrapper.service(JspServlet.java, Compiled Code)\r\n\tat org.apache.jasper.runtime.JspServlet.serviceJspFile(JspServlet.java, Compiled Code)\r\n\tat org.apache.jasper.runtime.JspServlet.service(JspServlet.java, Compiled Code)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java, Compiled Code)\r\n\tat org.apache.tomcat.core.ServletWrapper.handleRequest(ServletWrapper.java, Compiled Code)\r\n\tat org.apache.tomcat.core.ContextManager.service(ContextManager.java, Compiled Code)\r\n\tat org.apache.tomcat.service.http.HttpConnectionHandler.processConnection(HttpConnectionHandler.java, Compiled Code)\r\n\tat org.apache.tomcat.service.TcpConnectionThread.run(SimpleTcpEndpoint.java, Compiled Code)\r\n\tat java.lang.Thread.run(Thread.java, Compiled Code)\r\n\r\n\r\n\r\n", "id": 171, "time": "2000-10-19T04:09:05Z", "creator": "dev@tomcat.apache.org", "creation_time": "2000-10-19T04:09:05Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 192, "text": "Fixed in 3.2", "id": 1106, "time": "2001-03-09T09:54:17Z", "creator": "marc.saegesser@apropos.com", "creation_time": "2001-03-09T09:54:17Z", "is_private": false, "attachment_id": null}]