[{"count": 0, "tags": [], "creator": "wille@loverbek.de", "attachment_id": null, "id": 6611, "time": "2001-10-12T05:27:13Z", "bug_id": 4120, "creation_time": "2001-10-12T05:27:13Z", "is_private": false, "text": "Tomcat sends the HTTP reply in two separate IP packets. \nThe HTTP header goes in one IP packet, and the message\nbody goes in a second packet. This causes the client\nto send separate ACK packets for the header and the body.\n\nBy sending header and body in a single packet, Tomcat\ncould probably perform better. \n\nThis is what happens according to my Etheral dump:\n\nTomcat                     Client\n------                     ------\n\nHTTP-Header       --->\n                 <---       ACK\nMessage-Body      --->      \n                 <---       ACK\n\nAfter sending the header, the operating system waits for a TCP ACK \nbefore sending the body. I think this is causes by TCP's Nagle algorithm.\nBy sending both header and body in a single 'write()', Tomcat can\nresolve the problem and go much faster."}, {"count": 1, "tags": [], "bug_id": 4120, "is_private": false, "id": 6634, "creation_time": "2001-10-12T09:44:21Z", "time": "2001-10-12T09:44:21Z", "creator": "remm@apache.org", "text": "I don't really agree with the \"go much faster\", since both packets are not that \nsmall. Also, it is generally a good idea in HTTP/1.1 to return the response \nheader ASAP.", "attachment_id": null}]