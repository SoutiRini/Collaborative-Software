[{"count": 0, "tags": [], "bug_id": 6579, "attachment_id": null, "is_private": false, "id": 10952, "time": "2002-02-20T15:28:12Z", "creator": "hans.schmid@einsurance.de", "creation_time": "2002-02-20T15:28:12Z", "text": "When I add the attribute debug=\"1\" into the Ajp13Connector tag in server.xml,\nI get an ArrayIndexOutOfBoundsException. Without the debug it works fine.\n\nThis occurs under the following two setups:\nApache 1.3.19 + mod_jk 1.2.0 + Tomcat 3.3.1-b1 on Solaris 8 \nApache 1.3.23 + mod_jk 1.1.0 + Tomcat 3.3.1-b1 on and Win2000\n\nHere the entry from my server.xml:\n\n        <Ajp13Connector port=\"8009\" debug=\"1\"\n\t\t\tmaxThreads=\"100\"\n\t\t\tmaxSpareThreads=\"50\"\n\t\t\tminSpareThreads=\"10\" />\n\n\nAnd this is the Stacktrace:\n2002-02-20 13:49:45,327 143590 [Thread-32] FATAL \n(gui.framework.ExceptionHandler)  - Stacktrace: \njava.lang.ArrayIndexOutOfBoundsException: 8192\n\tat org.apache.tomcat.modules.server.Ajp13Packet.hexLine(Unknown Source)\n\tat org.apache.tomcat.modules.server.Ajp13Packet.dump(Unknown Source)\n\tat org.apache.tomcat.modules.server.Ajp13.send(Unknown Source)\n\tat org.apache.tomcat.modules.server.Ajp13.doWrite(Unknown Source)\n\tat org.apache.tomcat.modules.server.Ajp13Response.doWrite(Unknown \nSource)\n\tat org.apache.tomcat.core.OutputBuffer.realWriteBytes(Unknown Source)\n\tat org.apache.tomcat.util.buf.ByteChunk.flushBuffer(Unknown Source)\n\tat org.apache.tomcat.util.buf.ByteChunk.append(Unknown Source)\n\tat org.apache.tomcat.util.buf.IntermediateOutputStream.write(Unknown \nSource)\n\tat java.io.OutputStreamWriter.flushBuffer(OutputStreamWriter.java:230)\n\tat java.io.OutputStreamWriter.flush(OutputStreamWriter.java:244)\n\tat org.apache.tomcat.util.buf.WriteConvertor.flush(Unknown Source)\n\tat org.apache.tomcat.util.buf.C2BConverter.flushBuffer(Unknown Source)\n\tat org.apache.tomcat.core.OutputBuffer.realWriteChars(Unknown Source)\n\tat org.apache.tomcat.util.buf.CharChunk.flushBuffer(Unknown Source)\n\tat org.apache.tomcat.core.OutputBuffer.flush(Unknown Source)\n\tat org.apache.tomcat.core.OutputBuffer.close(Unknown Source)\n\tat org.apache.tomcat.core.Response.finish(Unknown Source)\n\tat org.apache.tomcat.modules.server.Ajp13Response.finish(Unknown Source)\n\tat org.apache.tomcat.facade.RequestDispatcherImpl.doForward(Unknown \nSource)\n\tat org.apache.tomcat.facade.RequestDispatcherImpl.forward(Unknown \nSource)\n\tat org.apache.struts.action.ActionServlet.processActionForward\n(ActionServlet.java:1758)\n\tat org.apache.struts.action.ActionServlet.process\n(ActionServlet.java:1595)\n\tat de.einsurance.gui.framework.ExtendedActionServlet.process\n(ExtendedActionServlet.java:65)\n\tat org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:509)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java)\n\tat org.apache.tomcat.facade.ServletHandler.doService(Unknown Source)\n\tat org.apache.tomcat.core.Handler.invoke(Unknown Source)\n\tat org.apache.tomcat.core.Handler.service(Unknown Source)\n\tat org.apache.tomcat.facade.ServletHandler.service(Unknown Source)\n\tat org.apache.tomcat.core.ContextManager.internalService(Unknown Source)\n\tat org.apache.tomcat.core.ContextManager.service(Unknown Source)\n\tat org.apache.tomcat.modules.server.Ajp13Interceptor.processConnection\n(Unknown Source)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt(Unknown Source)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(Unknown Source)\n\tat java.lang.Thread.run(Thread.java:484)\n\n\nDepending on the browser, the following page does not display at all(IE) or\ndisplays the content 6 to 7 times. Very strange.\n\nPlease let me know, if you need something else.\n\nThanks,\nHans"}, {"count": 1, "tags": [], "text": "This is now fixed in the CVS HEAD, and will appear in 3.3.1-RC1.", "is_private": false, "id": 10991, "creator": "william.barker@wilshire.com", "time": "2002-02-21T03:05:04Z", "bug_id": 6579, "creation_time": "2002-02-21T03:05:04Z", "attachment_id": null}]