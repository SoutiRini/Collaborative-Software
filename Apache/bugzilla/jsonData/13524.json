[{"text": "> 1) path not executed properly under cygwin:\n> when I run\n>     <exec executable=\"/bin/sh\">\n>        <arg line='-c \"ls -lart *.??.html\"'/>\n>     </exec>\n> \n> it is converted to \\bin\\sh which is misunderstood under cygwin and\n> returns DOS error=3 (path not found)\n\n\nHere's the culprit (from types/Commandline.java):\n    /**\n     * Sets the executable to run.\n     */\n    public void setExecutable(String executable) {\n        if (executable == null || executable.length() == 0) {\n            return;\n        }\n        this.executable = executable.replace('/', File.separatorChar)\n            .replace('\\\\', File.separatorChar);\n    }\n\nNot very Cygwin-friendly.", "tags": [], "creator": "hauser@acm.org", "attachment_id": null, "count": 0, "id": 24334, "time": "2002-10-11T06:15:37Z", "bug_id": 13524, "creation_time": "2002-10-11T06:15:37Z", "is_private": false}, {"count": 1, "text": "The thing to realize here is that the JDK which you launched from Cygwin is\nactually a Windows executable. It is not a cygwin executable (i.e. it does not\nuse the cygwin DLLs). When you enter Ant you have left the cygwin environment\nand therefore /bin/sh has no meaning. For this to work you will actually have to\ninvoke bash.exe, not /bin/sh. ", "creator": "conor@apache.org", "attachment_id": null, "id": 24336, "time": "2002-10-11T06:37:45Z", "bug_id": 13524, "creation_time": "2002-10-11T06:37:45Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 13524, "is_private": false, "id": 24338, "attachment_id": null, "creator": "hauser@acm.org", "creation_time": "2002-10-11T06:56:42Z", "time": "2002-10-11T06:56:42Z", "text": "Thanks for the hint:\n    <exec executable=\"C:\\cgywin\\bin\\bash.exe\">\n    <!-- instead of just plain `exec executable=\"sh\"`-->\n       <arg line='-c \"ls -lart *.??.html\"'/>\n    </exec>   \n\ndid work, but this doesn't look all that cross platform portable.\n\nSuggestion:\nHave a section with hints for cygwin users in the documentation!"}, {"count": 3, "tags": [], "bug_id": 13524, "is_private": false, "id": 24341, "attachment_id": null, "creator": "holtdl@yahoo.com", "creation_time": "2002-10-11T07:36:22Z", "time": "2002-10-11T07:36:22Z", "text": "Just FTR: You can run 'sh' in an <exec> when running Ant from a Cygwin shell. I \ndo it all the time -- and I don't specify a fully qualified path, just \nexecutable=\"sh\" works fine."}, {"count": 4, "tags": [], "bug_id": 13524, "attachment_id": null, "id": 26364, "time": "2002-11-15T12:59:14Z", "creator": "bodewig@apache.org", "creation_time": "2002-11-15T12:59:14Z", "is_private": false, "text": "works for Diane"}, {"count": 5, "tags": [], "bug_id": 13524, "attachment_id": null, "id": 26935, "time": "2002-11-25T13:17:11Z", "creator": "hauser@acm.org", "creation_time": "2002-11-25T13:17:11Z", "is_private": false, "text": "What works for Diane works for me too, but I still think my two suggestions are\nworthwhile pursuing:\n\n1) Have a way to specify qualified paths for executables that work across platforms\n2) Especially if 1) is not seen as useful, have a link in the documentation\nmentioning the caveats for cygwin users\n\nShould I open two new bug entries for this?"}, {"count": 6, "tags": [], "bug_id": 13524, "text": "I have added notes for Cygwin users to the Installing section and the <exec>\ntask seciton of the manual.", "id": 30471, "time": "2003-02-01T14:30:18Z", "creator": "conor@apache.org", "creation_time": "2003-02-01T14:30:18Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "text": "Sorry, overlooked your good comments in\nhttp://ant.apache.org/manual/running.html and\nhttp://ant.apache.org/manual/CoreTasks/exec.html when writing\nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=16692.\n\nI guess they are to the point, but short and without example. Before stating big\nwords  ;) , I guess I should first create my faq text and then let's see whether\nit is worthwhile to link from these two places into my faq answer.", "attachment_id": null, "id": 30543, "creator": "hauser@acm.org", "time": "2003-02-03T10:19:43Z", "bug_id": 13524, "creation_time": "2003-02-03T10:19:43Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 13524, "is_private": false, "id": 30548, "attachment_id": null, "creator": "conor@apache.org", "creation_time": "2003-02-03T12:08:50Z", "time": "2003-02-03T12:08:50Z", "text": "Feel free to provide improvements here, more explanation, examples, etc. I'll\nhappily commit those"}, {"count": 9, "tags": [], "text": "As per http://nagoya.apache.org/bugzilla/show_bug.cgi?id=16841, one further mean\nto ease this (provided the binaries are in relatively similar locations across\nplatforms) is also to \"normalize\", so instead of \n   <exec executable=\"C:\\cgywin\\bin\\bash.exe\">\nyou would use\n   <property name=\"shCmd\" location=\"C:\\cgywin\\bin\\bash.exe\"/>\nor even more portable cross platforms:\n   <property name=\"shCmd\" location=\"/cgywin/bin/bash\"/>\n   <target name=\"ls\" >\n     <exec executable=\"${shCmd}\">\n       <arg line='-c \"ls -lart *.??.html\"'/>\n     </exec>   \n   </target>\n\nIf desired, I am happy to provide a patch for\nhttp://ant.apache.org/manual/CoreTasks/exec.html documentation", "attachment_id": null, "id": 31212, "creator": "hauser@acm.org", "time": "2003-02-13T06:37:29Z", "bug_id": 13524, "creation_time": "2003-02-13T06:37:29Z", "is_private": false}]