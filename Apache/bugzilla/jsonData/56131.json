[{"count": 0, "text": "When using the following pattern to configure a reverse proxy in 2.4:\n\nListen 8080\nServerName proxy.local\nProxyPass / http://backend.local:9090/\n<Location />\n  ProxyPassReverse /\n</Location>\n\na pattern that worked well under 2.2, and made sure the bogus Location headers would be fixed up, 2.4 will now replace *all* Location headers with http://proxy.local:8080/ -- that is not the desired effect, when the backend sent correct Location: headers such as:\n\nLocation: http://example.com/foo\n\n\nto redirect to a third-party system.", "bug_id": 56131, "attachment_id": null, "id": 173014, "time": "2014-02-12T18:02:29Z", "creator": "i.galic@brainsware.org", "creation_time": "2014-02-12T18:02:29Z", "tags": [], "is_private": false}, {"count": 1, "text": "please see also  https://gist.github.com/igalic/8960285                    https://gist.github.com/igalic/8960741 where I attempt to reproduce this for 2.2 and 2.4 respectively (+ the backend: https://gist.github.com/igalic/8960145 )", "bug_id": 56131, "attachment_id": null, "id": 173015, "time": "2014-02-12T18:05:02Z", "creator": "i.galic@brainsware.org", "creation_time": "2014-02-12T18:05:02Z", "tags": [], "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 56131, "text": "addendum: If we simply use   ProxyPassReverse http://backend.local:9090/ we don't get the fix-up of the Location: /redirect.html\nIt still produces \"correcter\" results, in that it doesn't override the example.com URL\u2026 Still, I'd consider this a regression.", "id": 173016, "time": "2014-02-12T18:09:11Z", "creator": "i.galic@brainsware.org", "creation_time": "2014-02-12T18:09:11Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "id": 173017, "time": "2014-02-12T18:39:53Z", "bug_id": 56131, "creation_time": "2014-02-12T18:39:53Z", "is_private": false, "text": "2.2 won't apply / to any Location: header that doesn't start with /.\n\n2.4 goes out of its way to strip the scheme and host from the Location: before checking that it starts-with, so it matches more often.\n\nr893871 and r893955 and PR38864"}]