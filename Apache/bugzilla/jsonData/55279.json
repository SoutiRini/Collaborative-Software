[{"count": 0, "text": "We use SessionHeader directive to tell mod_session, which header to look for in the origin's response. mod_session duly encrypts it and sticks the encrypted string into the cookie as configured -- so far so good.\n\nUnfortunately, the original header is sent to the client -- UNENCRYPTED -- along with the cookie (encrypted). This seems rather silly... I can't imagine a use-case, where one would want both encrypted and unencrypted version of the same text to be sent together...\n\nWe managed a work-around -- explicitly remove the header with mod_headers' \"Header always unset X-fooo...\" -- but it should not be necessary, should it?", "bug_id": 55279, "attachment_id": null, "id": 168660, "time": "2013-07-18T21:56:16Z", "creator": "mi+apache@aldan.algebra.com", "creation_time": "2013-07-18T21:56:16Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "text": "It should not be necessary no, this was not what was intended.\n\nCan you verify that this fixes it for you:\n\nIndex: modules/session/mod_session.c\n===================================================================\n--- modules/session/mod_session.c\t(revision 1501510)\n+++ modules/session/mod_session.c\t(working copy)\n@@ -443,6 +443,8 @@\n                 override = apr_table_get(r->headers_out, conf->header);\n             }\n             if (override) {\n+                apr_table_unset(r->err_headers_out, conf->header);\n+                apr_table_unset(r->headers_out, conf->header);\n                 z->encoded = override;\n                 z->dirty = 1;\n                 session_identity_decode(r, z);", "attachment_id": null, "id": 168688, "creator": "minfrin@sharp.fm", "time": "2013-07-21T13:20:15Z", "bug_id": 55279, "creation_time": "2013-07-21T13:20:15Z", "is_private": false}, {"count": 2, "attachment_id": null, "creator": "minfrin@sharp.fm", "is_private": false, "id": 170592, "time": "2013-10-13T12:37:11Z", "bug_id": 55279, "creation_time": "2013-10-13T12:37:11Z", "tags": [], "text": "Fix applied to trunk, proposed for backport to v2.4.x."}, {"count": 3, "tags": [], "text": "Backported to v2.4.7.", "is_private": false, "id": 170875, "creator": "minfrin@sharp.fm", "time": "2013-10-28T12:09:22Z", "bug_id": 55279, "creation_time": "2013-10-28T12:09:22Z", "attachment_id": null}]