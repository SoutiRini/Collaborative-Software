[{"count": 0, "attachment_id": 25799, "creator": "kappa@psilambda.com", "is_private": false, "id": 138671, "time": "2010-07-25T11:38:11Z", "bug_id": 49645, "creation_time": "2010-07-25T11:38:11Z", "tags": [], "text": "Created attachment 25799\npatch that fixes crash\n\nThe apr_dbd_odbc driver crashes if used like the other database drivers.\n\nTo reproduce: use the odbc driver and use the apr_dbd_datum_get function.\n\nThe results differs using the odbc driver than if using the other drivers.\n\nThis was first encountered on Windows and Linux.  The attached patch is an svn diff.\n\nDetails:\nAfter doing some testing and then comparing the odbc driver to the other \ndrivers (pgsql, oracle, etc).  I noticed what appears to be a bug in the ODBC driver.  For getting binary data (in odbc_datum_get), it is using the /void *data/ argument differently than the other drivers--it is copying over the contents pointed to by the data pointer instead of assigning the pointer address into the location of the data pointer.  The attached patch shows the change\nthat fixes it to be like the other drivers.  (Oracle and the other \ndrivers all do something like: '/*(char**)data = (char*)entry;/\".)"}, {"count": 1, "tags": [], "text": "fixed in apr-util 1.3.next through apr trunk\nthanks for the patch!", "attachment_id": null, "id": 140149, "creator": "trawick@apache.org", "time": "2010-09-24T17:23:27Z", "bug_id": 49645, "creation_time": "2010-09-24T17:23:27Z", "is_private": false}]