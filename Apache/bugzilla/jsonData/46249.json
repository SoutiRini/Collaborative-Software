[{"count": 0, "tags": [], "text": "Tag handler Class:\n\nimport javax.servlet.jsp.*;\nimport javax.servlet.jsp.tagext.*;\nimport java.io.*;\n\npublic class sayHello extends BodyTagSupport{\n\t\n\tprivate String name = null;\n\tprivate String value = null;\n\tprivate JspWriter out = null;\n\tpublic void setName(String name){\n\t\tthis.name = name;\n\t}\n    public int doStartTag(){\n    \t\n\t\t\ttry {\n\t\t\t\tgetOut();\n\t\t\t//\tout.close();\n\t\t\t\tvalue += \"v\";\n\t\t\t\tout.println(\"hello:\" + getName());\n\t\t\t\tout.println(\"dddd:\" + getValue());\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}    \t\t\n\t\treturn 0;\n    }\n    \n    public int doEndTag(){\n    \ttry{\n    \t\tgetOut();\n    \t\tout.print(\"<br>\");\n    \t}catch(IOException e){\n    \t\te.printStackTrace();\n    \t\treturn 1;\n    \t}\n    \treturn 0;\n    }\n    \n    public JspWriter getOut() {\n        if (out == null) {\n        \tSystem.out.println(\"get out..................\");\n            out = pageContext.getOut();\n        }\n        return out;\n    }\n\tpublic String getValue() {\n\t\treturn value;\n\t}\n\tpublic void setValue(String value) {\n\t\tthis.value = value;\n\t}\n\tpublic String getName() {\n\t\treturn name;\n\t}\n}\n\na jsp:\n\n<%@ page contentType=\"text/html; charset=GBK\" %>\n<%@ taglib uri=\"/WEB-INF/mytld.tld\" prefix=\"aa\" %>\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jstl/core\" %>\n<html>\n  <head>\n    \n\n  </head>\n  \n  <body>\n\n   <aa:sayHello name=\"aaaaaaaaaaaaaaa\" value=\"/web/bsloginAction.do?method=setArea&id=\"></aa:sayHello>\n  </body>\n</html>\n\n\naccess this jsp page ,might be thrown \"Stream closed\" Excepetion.", "attachment_id": null, "id": 122679, "creator": "huangfeng@tongtech.com", "time": "2008-11-20T02:38:32Z", "bug_id": 46249, "creation_time": "2008-11-20T02:38:32Z", "is_private": false}, {"count": 1, "text": "Tag instances can be re-used. The JspWriter will only be valid for the first use, not for any subsequent re-use.", "creator": "markt@apache.org", "attachment_id": null, "id": 123379, "time": "2008-12-17T14:34:52Z", "bug_id": 46249, "creation_time": "2008-12-17T14:34:52Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 46249, "attachment_id": null, "is_private": false, "id": 123380, "time": "2008-12-17T14:35:17Z", "creator": "markt@apache.org", "creation_time": "2008-12-17T14:35:17Z", "text": "Correct resolution - sorry for the noise."}]