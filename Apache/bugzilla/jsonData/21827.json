[{"text": "I want to use javah for making a C++ header file but it fails with Java \nj2sdk1.4.2. It works well with j2sdk1.4.1_03\n\nFailing part of the build.xml:\n<javah class=\"gti.plc.server.opc.OPCCustomInterface\"\n       outputFile=\"${native.dir}/OPCCustomInterface.h\">\n</javah>\n\n\nApache Ant version 1.5.3 compiled on April 16 2003\nBuildfile: build.xml\nDetected Java version: 1.4 in: e:\\tools\\j2sdk1.4.2\\jre\nDetected OS: Windows NT\nparsing buildfile build.xml with URI = file:e:/projecten/Software/OPC/build.xml\nProject base dir set to: E:\\projecten\\Software\\OPC\n [property] Loading C:\\WINNT\\Profiles\\stakken\\.ant.properties\n [property] Unable to find property file: \nC:\\WINNT\\Profiles\\stakken\\.ant.properties\nBuild sequence for target `native' is [utags, prepare, \ncheck_for_optional_packages, compile, native]\n\nComplete build sequence is [utags, prepare, check_for_optional_packages, \ncompile, native, initMyPath\nSeparator, scripts, jar, rebuild, javadocs]\n\nutags:\n     [exec] Current OS is Windows NT\n     [exec] Executing 'ctags' with arguments:\n     [exec] '-R'\n     [exec]\n     [exec] The ' characters around the executable and arguments are\n     [exec] not part of the command.\n\nprepare:\n\ncheck_for_optional_packages:\n\ncompile:\n    [javac] gti\\plc\\server\\opc\\OPCCustomInterface.java omitted as \ngti/plc/server/opc/OPCCustomInterface.class is up to date.\n    [javac] gti\\plc\\server\\opc\\OPCException.java omitted as \ngti/plc/server/opc/OPCException.class is up to date.\n    [javac] gti\\plc\\server\\opc\\OPCInterface.java omitted as \ngti/plc/server/opc/OPCInterface.class is up to date.\n    [javac] gti\\plc\\server\\opc\\Variant.java omitted as \ngti/plc/server/opc/Variant.class is up to date.\n    [javac] TestOPC.java omitted as TestOPC.class is up to date.\nace.class is up to date.\n    [javac] gti\\plc\\server\\opc\\OPCException.java omitted as \ngti/plc/server/opc/OPCException.class is\n up to date.\n    [javac] gti\\plc\\server\\opc\\OPCInterface.java omitted as \ngti/plc/server/opc/OPCInterface.class is\n up to date.\n    [javac] gti\\plc\\server\\opc\\Variant.java omitted as \ngti/plc/server/opc/Variant.class is up to date.\n    [javac] TestOPC.java omitted as TestOPC.class is up to date.\n\nnative:\n    [javah] Compilation arguments:\n    [javah] '-o'\n    [javah] 'E:\\projecten\\Software\\OPC\\VStudio\\OPCnative\\OPCCustomInterface.h'\n    [javah] '-classpath'\n    [javah] 'E:\\tools\\ant\\lib\\xml-\napis.jar;E:\\tools\\ant\\lib\\xercesImpl.jar;E:\\tools\\ant\\lib\\optional\n.jar;E:\\tools\\ant\\lib\\ant.jar;E:\\projecten\\Software\\OPC;E:\\projecten\\Software\\OP\nC\\classes;E:\\tools\\j2sdk1.4.2\\lib\\tools.jar'\n    [javah]\n    [javah] The ' characters around the executable and arguments are\n    [javah] not part of the command.\n    [javah] Class to be compiled:\n    [javah]     gti.plc.server.opc.OPCCustomInterface\n\nBUILD FAILED\njava.lang.NoSuchMethodError: com.sun.tools.javah.Main.<init>\n([Ljava/lang/String;)V\n        at org.apache.tools.ant.taskdefs.optional.Javah.doClassicCompile\n(Javah.java:350)\n        at org.apache.tools.ant.taskdefs.optional.Javah.execute(Javah.java:320)\n        at org.apache.tools.ant.Task.perform(Task.java:341)\n        at org.apache.tools.ant.Target.execute(Target.java:309)\n        at org.apache.tools.ant.Target.performTasks(Target.java:336)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1339)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1255)\n        at org.apache.tools.ant.Main.runBuild(Main.java:609)\n        at org.apache.tools.ant.Main.start(Main.java:196)\n        at org.apache.tools.ant.Main.main(Main.java:235)\n\nTotal time: 3 seconds\njava.lang.NoSuchMethodError: com.sun.tools.javah.Main.<init>\n([Ljava/lang/String;)V\n        at org.apache.tools.ant.taskdefs.optional.Javah.doClassicCompile\n(Javah.java:350)\n        at org.apache.tools.ant.taskdefs.optional.Javah.execute(Javah.java:320)\n        at org.apache.tools.ant.Task.perform(Task.java:341)\n        at org.apache.tools.ant.Target.execute(Target.java:309)\n        at org.apache.tools.ant.Target.performTasks(Target.java:336)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1339)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1255)\n        at org.apache.tools.ant.Main.runBuild(Main.java:609)\n        at org.apache.tools.ant.Main.start(Main.java:196)\n        at org.apache.tools.ant.Main.main(Main.java:235)\ncom.sun.tools.javah.Main.<init>([Ljava/lang/String;)V", "tags": [], "creator": "stakken@gti-group.com", "attachment_id": null, "count": 0, "id": 41221, "time": "2003-07-23T13:49:51Z", "bug_id": 21827, "creation_time": "2003-07-23T13:49:51Z", "is_private": false}, {"count": 1, "tags": [], "creator": "conor@apache.org", "text": "Number 8\n\n*** This bug has been marked as a duplicate of 18667 ***", "id": 41223, "time": "2003-07-23T14:00:31Z", "bug_id": 21827, "creation_time": "2003-07-23T14:00:31Z", "is_private": false, "attachment_id": null}]