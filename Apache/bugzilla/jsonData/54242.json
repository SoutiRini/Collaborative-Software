[{"count": 0, "tags": [], "creator": "xshao@ebay.com", "text": "Created attachment 29689\nPatch for ForEach\n\nThere is not NULL pointer handling for iterator in ForEach.\nIf the iterator is NULL, there is a NPE.", "id": 163828, "time": "2012-12-04T08:12:05Z", "bug_id": 54242, "creation_time": "2012-12-04T08:12:05Z", "is_private": false, "attachment_id": 29689}, {"count": 1, "tags": [], "text": "The JSTL spec does indeed require that null is treated like an empty collection.\n\nThe patch does not include a test case.", "is_private": false, "bug_id": 54242, "id": 163830, "time": "2012-12-04T08:28:42Z", "creator": "markt@apache.org", "creation_time": "2012-12-04T08:28:42Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 54242, "attachment_id": null, "id": 163845, "time": "2012-12-04T13:23:23Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2012-12-04T13:23:23Z", "is_private": false, "text": "I think generating an \"if(itemsV != null){ }\" clause around the whole iteration loop will be more effective.  An iterator is a temporary object that is GC'ed."}, {"count": 3, "tags": [], "bug_id": 54242, "text": "Created attachment 29709\nNew patch, upgraded based on Konstantin's suggestion", "id": 163906, "time": "2012-12-06T06:22:12Z", "creator": "xshao@ebay.com", "creation_time": "2012-12-06T06:22:12Z", "is_private": false, "attachment_id": 29709}, {"count": 4, "tags": [], "creator": "xshao@ebay.com", "text": "Created attachment 29710\nTest case for \"ForEach\"", "id": 163907, "time": "2012-12-06T06:23:05Z", "bug_id": 54242, "creation_time": "2012-12-06T06:23:05Z", "is_private": false, "attachment_id": 29710}, {"count": 5, "tags": [], "bug_id": 54242, "attachment_id": 29711, "text": "Created attachment 29711\nHelper class for testing purpose", "id": 163908, "time": "2012-12-06T06:24:02Z", "creator": "xshao@ebay.com", "creation_time": "2012-12-06T06:24:02Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 54242, "text": "Test case has been included.\nThanks\n\n(In reply to comment #1)\n> The JSTL spec does indeed require that null is treated like an empty\n> collection.\n> \n> The patch does not include a test case.", "id": 163909, "attachment_id": null, "creator": "xshao@ebay.com", "creation_time": "2012-12-06T06:24:42Z", "time": "2012-12-06T06:24:42Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 54242, "text": "Created attachment 29772\nHelper class for testing purpose", "id": 164118, "time": "2012-12-17T06:54:40Z", "creator": "xshao@ebay.com", "creation_time": "2012-12-17T06:54:40Z", "is_private": false, "attachment_id": 29772}, {"count": 8, "tags": [], "bug_id": 54242, "attachment_id": null, "id": 164323, "time": "2013-01-02T16:27:24Z", "creator": "markt@apache.org", "creation_time": "2013-01-02T16:27:24Z", "is_private": false, "text": "Thanks for the report and the patches.\n\nI have applied the updated patch to fix the issue to trunk and 7.0.x. It will be included in 7.0.35 onwards.\n\nI used a different test case based on the existing test cases for the JSTL tag plug-ins. Those test cases only work on Tomcat 8 because they depend on the new resources implementation but my preference for test cases like these is - where possible - to use a real web application."}]