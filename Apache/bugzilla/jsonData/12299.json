[{"count": 0, "tags": [], "bug_id": 12299, "text": "I looked at the servlet 2.3 spec and I think this behavior might be a bug. I \nhave two pages. the first page includes a second page. the second page sets some \ncookies. If I use include directive <%@ include file=\"setcookie.jsp\" %>, it \nworks fine. If I switch it to use JSTL <c:import url=\"setcookie.jsp\"/>, it \ndoesn't set the cookie.\nMy guess is either the response is getting flushed and cookies erased, or the \nresponse set method isn't working correctly. I looked at the JSTL code and it \nuses RequestDispatcher.include() to import local files. The wil only use \nHttpUrlConnection if the absolute path is used, ie <c:import \nurl=\"http://me.com/file\"/>.\nI hope some one can verify this is a bug.", "id": 22257, "time": "2002-09-04T13:00:57Z", "creator": "woolfel@yahoo.com", "creation_time": "2002-09-04T13:00:57Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 12299, "is_private": false, "count": 1, "id": 22288, "time": "2002-09-04T18:29:16Z", "creator": "woolfel@yahoo.com", "creation_time": "2002-09-04T18:29:16Z", "text": "I looked at JSTL importsupport and importtag again and it doesn't look like \nthere's any problems there. I am using localpath, therefore when JSTL calls \nisAbsolutePath() it should return false and use rd.include().\nI still don't know the exact cause of the bug, but it is reproducible."}, {"count": 2, "tags": [], "bug_id": 12299, "attachment_id": null, "id": 26461, "time": "2002-11-18T10:46:14Z", "creator": "Brian.Ewins@btinternet.com", "creation_time": "2002-11-18T10:46:14Z", "is_private": false, "text": "Check the spec again: SRV 8.3, \"The Include Method\":\n\"It cannot set headers or call any method that affects\nthe headers of the response. Any attempt to do so must be ignored.\"\n\nSetting cookies implies creating a 'Set-Cookie:' header, which you can't do in\nan included jsp."}]