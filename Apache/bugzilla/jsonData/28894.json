[{"count": 0, "tags": [], "creator": "robert.leathley@ricardo.com", "attachment_id": null, "id": 57151, "time": "2004-05-11T08:52:28Z", "bug_id": 28894, "creation_time": "2004-05-11T08:52:28Z", "is_private": false, "text": "Trying to put a large file (133MB) in the store (TxFileStore) causes the JVM to\nrun out of memory.  Using java -Xmx500M fixes this problem, but the intention is\nto transfer much larger files (>= 2GB).\n\nThis appears to be due to the server using XServletInputStream which caches the\nentire file in memory to make the stream re-readable.\n\nI may be able to spend some time creating a patch for this problem - do you have\nan approach in mind for solving this?  In any case it would be good know if this\nis likely to be fixed within the next month or two and if there are likely to be\nother issues with files of this size."}, {"count": 1, "tags": [], "creator": "robert.leathley@ricardo.com", "attachment_id": null, "id": 57152, "time": "2004-05-11T09:03:54Z", "bug_id": 28894, "creation_time": "2004-05-11T09:03:54Z", "is_private": false, "text": "XByteBuffer:resize( neededSize=18432)\nXByteBuffer:resize( neededSize=27648)\nXByteBuffer:resize( neededSize=41472)\nXByteBuffer:resize( neededSize=62208)\nXByteBuffer:resize( neededSize=93312)\nXByteBuffer:resize( neededSize=139968)\nXByteBuffer:resize( neededSize=209952)\nXByteBuffer:resize( neededSize=314928)\nXByteBuffer:resize( neededSize=472392)\nXByteBuffer:resize( neededSize=708588)\nXByteBuffer:resize( neededSize=1062882)\nXByteBuffer:resize( neededSize=1594323)\nXByteBuffer:resize( neededSize=2391484)\nXByteBuffer:resize( neededSize=3587226)\nXByteBuffer:resize( neededSize=5380839)\nXByteBuffer:resize( neededSize=8071258)\nXByteBuffer:resize( neededSize=12106887)\nXByteBuffer:resize( neededSize=18160330)\nXByteBuffer:resize( neededSize=27240495)\nXByteBuffer:resize( neededSize=40860742)\njava.lang.OutOfMemoryError\norg.apache.slide.common.ServiceAccessException: Service TxFileStore at\nstore/content  working on work/content access error : java.lang.OutOfMemoryError\n\n        at\norg.apache.slide.store.AbstractStore.createRevisionContent(AbstractStore.java:1216)\n        at\norg.apache.slide.store.ExtendedStore.createRevisionContent(ExtendedStore.java:342)\n        at org.apache.slide.content.ContentImpl.create(ContentImpl.java:538)\n        at\norg.apache.slide.webdav.method.PutMethod.executeRequest(PutMethod.java:396)\n        at\norg.apache.slide.webdav.method.AbstractWebdavMethod.run(AbstractWebdavMethod.java:343)\n        at org.apache.slide.webdav.WebdavServlet.service(WebdavServlet.java:165)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:856)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:284)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:204)\n        at org.apache.slide.webdav.filter.LogFilter.doFilter(LogFilter.java:139)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:233)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:204)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:257)"}, {"count": 2, "tags": [], "creator": "ozeigermann@c1-fse.de", "attachment_id": null, "id": 57193, "time": "2004-05-11T11:48:51Z", "bug_id": 28894, "creation_time": "2004-05-11T11:48:51Z", "is_private": false, "text": "I have noticed this before and have already put this issue on my todo list."}, {"count": 3, "attachment_id": null, "bug_id": 28894, "text": "Logger no longer buffers request and response bodies.", "id": 57338, "time": "2004-05-13T10:45:50Z", "creator": "ozeigermann@c1-fse.de", "creation_time": "2004-05-13T10:45:50Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "creator": "masonjm@ah.org", "attachment_id": null, "id": 61015, "time": "2004-07-22T22:51:13Z", "bug_id": 28894, "creation_time": "2004-07-22T22:51:13Z", "is_private": false, "text": "I don't think this is fixed. I'm using the 2.0 release, so 2.1 may be different\n(the LogFilter class is nearly identical) but commenting out the logger in\nweb.xml allows me to upload large files.\n\nIs this bug still expected in 2.0, and if so, what's changed since then (since I\ncouldn't see anything)?"}, {"count": 5, "tags": [], "bug_id": 28894, "attachment_id": null, "text": "It has been fixed in the CVS head, but also in the 2.0 release branch, but it is\nnot part of the 2.0 release.", "id": 61038, "time": "2004-07-23T08:29:51Z", "creator": "ozeigermann@apache.org", "creation_time": "2004-07-23T08:29:51Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 28894, "text": "Assuming fixed, since no one responded to the last comment of Oliver.", "id": 101186, "time": "2007-03-29T15:19:38Z", "creator": "mvdb@apache.org", "creation_time": "2007-03-29T15:19:38Z", "is_private": false, "attachment_id": null}]