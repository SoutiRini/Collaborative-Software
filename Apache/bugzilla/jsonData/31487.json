[{"count": 0, "tags": [], "bug_id": 31487, "attachment_id": null, "is_private": false, "id": 64421, "time": "2004-09-30T14:32:57Z", "creator": "bodewig@apache.org", "creation_time": "2004-09-30T14:32:57Z", "text": "I've stripped down the problem mentioned in\n<http://marc.theaimsgroup.com/?l=ant-user&m=109655281326491&w=2>.\n\nSuppose we have\n\nouter.xml\n=========\n<project name=\"outer\">\n  <import file=\"inner.xml\"/>\n  <property name=\"foo\" value=\"${bar}\"/>\n  <echo>foo is ${foo}</echo>\n</project>\n\ninner.xml\n=========\n<project name=\"inner\">\n  <target name=\"baz\"/>\n  <property name=\"bar\" value=\"bar is set\"/>\n  <echo>bar is ${bar}</echo>\n</project>\n\nThis results in\n\n[bodewig@bodewig tmp]$ ant -f outer.xml \nBuildfile: outer.xml\n     [echo] foo is ${bar}\n     [echo] bar is bar is set\n\nBUILD SUCCESSFUL\nTotal time: 1 second\n\n\nNow remove the target from inner.xml\n\n[bodewig@bodewig tmp]$ ant -f outer.xml \nBuildfile: outer.xml\n     [echo] bar is set\n     [echo] foo is bar is set\n\nBUILD SUCCESSFUL\nTotal time: 1 second\n\nSo if the imported file contains targets, its top level task get delayed until\nthe ones of the importing file are done.  If it doesn't, they get executed\nimmediately.  This is clearly wrong, both should behave the same way.\n\nOne can argue which way is the correct one, my vote would be for \"execute\nimmediately\" since it seems more intuitive."}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "text": "You don't even need properties, just the echos are enough to show the problem.", "id": 64422, "time": "2004-09-30T14:33:37Z", "bug_id": 31487, "creation_time": "2004-09-30T14:33:37Z", "is_private": false, "attachment_id": null}, {"count": 2, "text": "A work-around is to always place targets after top-level\ntypes/tasks.\n", "bug_id": 31487, "is_private": false, "id": 64429, "time": "2004-09-30T14:50:15Z", "creator": "peterreilly@apache.org", "creation_time": "2004-09-30T14:50:15Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "creator": "peterreilly@apache.org", "text": "Fixed in HEAD.  (Need to sync to 1.6 branch?)", "id": 64444, "time": "2004-09-30T17:08:10Z", "bug_id": 31487, "creation_time": "2004-09-30T17:08:10Z", "is_private": false, "attachment_id": null}]