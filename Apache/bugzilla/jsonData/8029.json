[{"attachment_id": null, "tags": [], "creator": "pyou@vignette.com", "is_private": false, "count": 0, "id": 13399, "time": "2002-04-12T17:19:16Z", "bug_id": 8029, "creation_time": "2002-04-12T17:19:16Z", "text": "The following jsp file demonstrates the problem:\n\n<%\n// output string: <%@ include file=\"/vgn/jsp/include.jsp\" %>\nString str1 = \"<%@ include file=\\\"/vgn/jsp/include.jsp\\\" %\\>\";\nout.println(str1);\n%>\n\nWhen evaluating this jsp file on Tomcat 4.0, I received error:\n\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\nAn error occured between lines: 1 and 4 in the jsp file: /test.jsp\n\n\"Generated servlet error:\nC:\\Apache\\jakarta-tomcat-4.0\\work\\localhost\\_\\test$jsp.java:55: Invalid escape \ncharacter.\n                String str1 = \"<%@ include file=\\\"/vgn/jsp/include.jsp\\\" %\\>\";\n                                                                          ^\n1 error\"\n\nI think this is a bug in Tomcat implmentation since the escape sequence \"%\\>\" \nis defined in section JSP 2.6 of JSP Specification 1.2.\n\nWeblogic 6.1 & 7.0 evaluate the above jsp file correctly."}, {"count": 1, "tags": [], "creator": "kin-man.chung@sun.com", "attachment_id": null, "text": "The literal \"%>\" in the string\n\n\t// output string: <%@ include file=\"/vgn/jsp/include.jsp\" %>\n\nneeds to be escaped, because it is part of the <% ... %>, even in a Java\ncomment.  The error message is just a result of not escaping this \"%>\".\n\n", "id": 15462, "time": "2002-05-04T00:33:40Z", "bug_id": 8029, "creation_time": "2002-05-04T00:33:40Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 8029, "is_private": false, "text": "Error message persists even after I removed the java comments. I just \nreporduced with the following jsp file:\n\n<%\nString str1 = \"<%@ include file=\\\"/vgn/jsp/include.jsp\\\" %\\>\";\nout.println(str1);\n%>\n\nI got the same error on Tomcat 4:\n\n\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\nAn error occured between lines: 1 and 4 in the jsp file: /escape.jsp\n\nGenerated servlet error:\nC:\\Apache\\jakarta-tomcat-4.0\\work\\localhost\\_\\escape$jsp.java:55: Invalid \nescape character.\n                String str1 = \"<%@ include file=\\\"/vgn/jsp/include.jsp\\\" %\\>\";\n                                                                          ^\n1 error\n\n", "id": 15539, "time": "2002-05-06T13:04:17Z", "creator": "pyou@vignette.com", "creation_time": "2002-05-06T13:04:17Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "kin-man.chung@sun.com", "attachment_id": null, "is_private": false, "id": 15556, "time": "2002-05-06T17:31:34Z", "bug_id": 8029, "creation_time": "2002-05-06T17:31:34Z", "text": "I have verified that this bug is indeed present in tomcat 4.0.x.  Since this is\nnot a problem in jasper2, which will be included in tomcat 4.1, this is a REMIND\nfor now."}]