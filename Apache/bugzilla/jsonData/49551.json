[{"count": 0, "tags": [], "creator": "violetagg@apache.org", "text": "Hi,\n\nI'm using an Embedded Tomcat.\nI want to use the Tomcat's functionality - default context.xml.\n\nI'm extending the org.apache.catalina.startup.ContextConfig.\nSometimes the default context.xml is outside of the \"base\" directory, because of this I'm using the following method to set the location - in the java doc it is stated that an absolute path is acceptable for method parameter.\n\nhttp://svn.apache.org/repos/asf/tomcat/tc6.0.x/tags/TOMCAT_6_0_26/java/org/apache/catalina/startup/ContextConfig.java\n\n218    /**\n219     * Set the location of the default context file\n220     *\n221     * @param path Absolute/relative path to the default context.xml\n222     */\n223    public void setDefaultContextXml(String path) {\n224\n225        this.defaultContextXml = path;\n226\n227    }\n\nWhen ContextConfig.contextConfig() method is invoked, a wrong path is generated for the default context.xml\ni.e.\n\nIf the base directory is d:/base-dir\nand the path to the default context.xml is d:/other-dir/configuration/context.xml\n\nthe following is generated:\nd:/base-dir/d:/other-dir/configuration/context.xml\n\nThis happens in ContextConfig.java:\n\n715    /**\n716     * Process the default configuration file, if it exists.\n717     */\n718    protected void contextConfig() {\n          ...\n728            processContextConfig(new File(getBaseDir()), defaultContextXml);\n          ...\n734    }\n\n737    /**\n738     * Process a context.xml.\n739     */\n740    protected void processContextConfig(File baseDir, String resourceName) {\n          ...\n749        File file = baseDir;\n750        if (resourceName != null) {\n751            file = new File(baseDir, resourceName);\n752        }\n          ...\n819    }\n\nCould you please clarify whether it is possible to use this setter method with absolute paths?\n\nThanks in advance\nRegards", "id": 138162, "time": "2010-07-05T07:41:23Z", "bug_id": 49551, "creation_time": "2010-07-05T07:41:23Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "markt@apache.org", "text": "Thanks for the bug report. I have fixed in this in 7.0.x (it will be in 7.0.1 onwards) and proposed the fix for 6.0.x.", "id": 138188, "time": "2010-07-05T17:10:22Z", "bug_id": 49551, "creation_time": "2010-07-05T17:10:22Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "This has been fixed in 6.0.x and will be included in 6.0.29 onwards.", "is_private": false, "id": 138454, "creation_time": "2010-07-16T06:14:50Z", "time": "2010-07-16T06:14:50Z", "creator": "markt@apache.org", "bug_id": 49551, "attachment_id": null}]