[{"count": 0, "tags": [], "bug_id": 9126, "attachment_id": null, "id": 16191, "time": "2002-05-15T18:55:46Z", "creator": "fatomei@sandburg.unm.edu", "creation_time": "2002-05-15T18:55:46Z", "is_private": false, "text": "<=== src/modules\ncc -c  -I./os/unix -I./include  -O -DNEXT -DUSE_HSREGEX -DUSE_EXPAT -\nI./lib/expat-lite -DNO_DL_NEEDED `./apaci` modules.c\ncc -c  -I./os/unix -I./include  -O -DNEXT -DUSE_HSREGEX -DUSE_EXPAT -\nI./lib/expat-lite -DNO_DL_NEEDED `./apaci` buildmark.c\ncc -O -DNEXT -DUSE_HSREGEX -DUSE_EXPAT -I./lib/expat-lite -DNO_DL_NEEDED \n`./apaci`    \\\n      -o httpd buildmark.o modules.o modules/standard/libstandard.a \nmain/libmain.a ./os/unix/libos.a ap/libap.a regex/libregex.a lib/expat-\nlite/libexpat.a\nmake[2]: Leaving directory `/root/temp/apache_1.3.24/src'\nmake[1]: Leaving directory `/root/temp/apache_1.3.24'\nmake[1]: Entering directory `/root/temp/apache_1.3.24'\n===> src/support\nmake[2]: Entering directory `/root/temp/apache_1.3.24/src/support'\ncc -O -DNEXT -DUSE_HSREGEX -DUSE_EXPAT -I../lib/expat-lite -DNO_DL_NEEDED \n`../apaci` -o ab   -L../os/unix -L../ap ab.o -lm -lap -los\n/bin/ld: Undefined symbols:\n_strdup\nmake[2]: *** [ab] Error 1\nmake[2]: Leaving directory `/root/temp/apache_1.3.24/src/support'\nm"}, {"count": 1, "tags": [], "bug_id": 9126, "attachment_id": null, "text": "A potential solution may be found here:\n\nhttp://www.math.unl.edu/~rdieter/OpenStep/Developer/PortingTips/nscompatlib/\n", "id": 18462, "time": "2002-06-24T13:56:37Z", "creator": "fatomei@sandburg.unm.edu", "creation_time": "2002-06-24T13:56:37Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 9126, "attachment_id": null, "id": 42844, "time": "2003-08-16T09:53:04Z", "creator": "kb7sqi@nc.rr.com", "creation_time": "2003-08-16T09:53:04Z", "is_private": false, "text": "The fix for this is already in the apache code.  Just add this part to ab.c:\n\n#if defined(NEED_STRDUP)\nchar *strdup (const char *str)\n{\n    char *dup;\n\n    if (!(dup = (char *) malloc(strlen(str) + 1)))\n        return NULL;\n    dup = strcpy(dup, str);\n\n    return dup;\n}\n#endif\n\nThat'll will get httpd compiled, but you also need to add this to the NeXT\nsection of src/include/ap_config.h so httpd will startup and run:\n\n#define HAVE_FLOCK_SERIALIZED_ACCEPT\n#define HAVE_FCNTL_SERIALIZED_ACCEPT\n#define USE_FLOCK_SERIALIZED_ACCEPT\n#define SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n\nThis is take directly from the Darwin section right below the NeXT.  I hope that\nhelps. "}, {"count": 3, "tags": [], "bug_id": 9126, "attachment_id": null, "text": "have the suggested changes been tried on NeXT?  can they be submitted in patch form?\n", "id": 49395, "time": "2003-12-19T01:02:59Z", "creator": "trawick@apache.org", "creation_time": "2003-12-19T01:02:59Z", "is_private": false}, {"count": 4, "attachment_id": null, "creator": "kb7sqi@nc.rr.com", "is_private": false, "id": 66811, "time": "2004-11-12T18:08:24Z", "bug_id": 9126, "creation_time": "2004-11-12T18:08:24Z", "tags": [], "text": "The next time I re-compile apache on my system, I'll submit the changes in patch\nform.  The comment I made for ab.c is in src/support, btw.  The changes have\nbeen tested on several of my systems.  That goes for all nextstep/openstep\nhardware.  I compile on x86, m68k, sparc & hppa.  If anyone has a question,\nplease feel free to drop me a note @ kb7sqi@nc.rr.com."}]