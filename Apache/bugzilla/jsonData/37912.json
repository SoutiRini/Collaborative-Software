[{"attachment_id": null, "tags": [], "bug_id": 37912, "is_private": false, "count": 0, "id": 83661, "time": "2005-12-14T19:46:58Z", "creator": "apache@gagravarr.org", "creation_time": "2005-12-14T19:46:58Z", "text": "ssl_engine_pphrase.c prints out helpful things like \"Init: Pass phrase\nincorrect\" and \"Loading certificate & private key of SSL-aware server\", but\nneglects to tell you what what vhost it's acting on when doing this.\n\nThis patch will make it a tiny bit chattier at debug, and have it tell you what\nvhost it's working on for a few places it seems it would be useful.\n\n\n--- ssl_engine_pphrase.c.sav    2005-12-09 17:29:33.000000000 +0000\n+++ ssl_engine_pphrase.c        2005-12-14 16:56:45.233984907 +0000\n@@ -173,13 +173,26 @@\n+        cpVHostID = ssl_util_vhostid(p, pServ);\n\n-        if (!sc->enabled)\n+        if (!sc->enabled) {\n+                       ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, pServ,\n+                                       \"SSL not enabled on vhost %s, skipping\nSSL setup for it\",\n+                                       cpVHostID );\n             continue;\n+               }\n \n-        cpVHostID = ssl_util_vhostid(p, pServ);\n         ap_log_error(APLOG_MARK, APLOG_INFO, 0, pServ,\n-                     \"Loading certificate & private key of SSL-aware server\");\n+                     \"Loading certificate & private key of SSL-aware server %s\",\n+                                        cpVHostID);\n \n         /*\n          * Read in server certificate(s): This is the easy part\n@@ -236,6 +249,10 @@\n             ucp = ssl_asn1_table_set(mc->tPublicCert, cp, length);\n             (void)i2d_X509(pX509Cert, &ucp); /* 2nd arg increments */\n \n+                       ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, pServ,\n+                     \"Loaded certificate from %s\",\n+                                        sc->server->pks->cert_files[0]);\n+\n             /*\n              * Free the X509 structure\n              */\n@@ -427,7 +444,7 @@\n                 }\n                 else {\n                     ap_log_error(APLOG_MARK, APLOG_ERR, 0,\n-                                 pServ, \"Init: Pass phrase incorrect\");\n+                                 pServ, \"Init: Pass phrase incorrect for key of\n%s\", cpVHostID);\n                     ssl_log_ssl_error(APLOG_MARK, APLOG_ERR, pServ);\n \n                     if (writetty) {"}, {"count": 1, "tags": [], "creator": "sf@sfritsch.de", "attachment_id": null, "id": 147620, "time": "2011-06-29T19:53:22Z", "bug_id": 37912, "creation_time": "2011-06-29T19:53:22Z", "is_private": false, "text": "r1141223"}, {"count": 2, "tags": [], "creator": "sf@sfritsch.de", "attachment_id": null, "id": 154180, "time": "2012-02-26T16:37:20Z", "bug_id": 37912, "creation_time": "2012-02-26T16:37:20Z", "is_private": false, "text": "fixed in 2.4.1"}]