[{"attachment_id": null, "tags": [], "creator": "chris@christopherschultz.net", "text": "Any webapp that calls java.awt.Toolkit.getDefaultToolkit will launch a new thread (AWT-Windows, AWT-XAWT, etc.) which will capture the ContextClassLoader, pinning the webapp in memory after an undeploy/redeploy.\n\nA simple addition to JreMemoryLeakPreventionListener can alleviate this condition.", "count": 0, "id": 148707, "time": "2011-08-19T14:49:17Z", "bug_id": 51688, "creation_time": "2011-08-19T14:49:17Z", "is_private": false}, {"count": 1, "tags": [], "text": "Fixed in 7.0.x, will be included in 7.0.21.\n\nProposed for 6.0.x.", "is_private": false, "bug_id": 51688, "id": 148712, "time": "2011-08-19T16:27:21Z", "creator": "chris@christopherschultz.net", "creation_time": "2011-08-19T16:27:21Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 51688, "text": "Did you try to run this in a headless environment ?\nAnd what about environments without a X library installed ?", "id": 148771, "time": "2011-08-22T19:05:07Z", "creator": "slaurent@apache.org", "creation_time": "2011-08-22T19:05:07Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "text": "I believe my environment is headless, though I didn't actually run with java.awt.headless=true, here. I'll check to see what happens when I do that.\n\nI don't believe you can do any AWT work without an X environment under *NIX.\n\nIn any case, this is an optional setting that one would only use if they were going to be using AWT, so I don't believe there is any danger, here.\n\nIf you observe any specific problems, don't hesitate to re-open.", "is_private": false, "bug_id": 51688, "id": 148773, "time": "2011-08-22T22:00:49Z", "creator": "chris@christopherschultz.net", "creation_time": "2011-08-22T22:00:49Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "chris@christopherschultz.net", "is_private": false, "count": 4, "id": 148815, "time": "2011-08-25T13:39:54Z", "bug_id": 51688, "creation_time": "2011-08-25T13:39:54Z", "text": "Fixed in 6.0.x, will be included in 6.0.34.\n\nFixed in 8.0.x (thanks to kkolinko)."}]