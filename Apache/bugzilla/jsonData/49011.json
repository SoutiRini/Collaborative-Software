[{"count": 0, "tags": [], "creator": "stefanfuhrmann@alice-dsl.de", "attachment_id": 25199, "id": 135720, "time": "2010-03-28T14:27:42Z", "bug_id": 49011, "creation_time": "2010-03-28T14:27:42Z", "is_private": false, "text": "Created attachment 25199\nMD5 speedup patch\n\nThe patch attached eliminates unnecessary\nbuffer copy and clean-up operations on \nlittle-endian machines (e.g. x86 & friends).\n\nCalling decode() will convert the buffer\n'block' from little-endian to machine-endian\nin 'x'. That is only necessary on big-endian\nmachines.\n\nNet runtime savings: ~15%.\n\n[[[\nIf we are on a little-endian machine, we\ncan read directly from the input buffer.\n\n* crypto/apr_md5.c\n  (MD5Transform): optmimize by translating \n  buffers & cleaning them up on big-endian\n  machines only.\n\npatch by stefanfuhrmann < at > alice-dsl.de\n]]]"}, {"count": 1, "tags": [], "text": "I don't think your patch is correct in general because block may be 1-byte aligned but x must be 4-byte aligned. It would work on x86 but it may fail on other architectures that don't support unaligned access.\n\nOne has to check the alignment and do a memcpy if the input block is not properly aligned.", "is_private": false, "bug_id": 49011, "id": 139944, "time": "2010-09-18T04:05:20Z", "creator": "sf@sfritsch.de", "creation_time": "2010-09-18T04:05:20Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 49011, "attachment_id": null, "is_private": false, "id": 166116, "time": "2013-03-23T23:19:55Z", "creator": "sf@sfritsch.de", "creation_time": "2013-03-23T23:19:55Z", "text": "committed different version with alignment checks:\nr1460244"}, {"count": 3, "tags": [], "text": "1.5 commit: r1460281", "attachment_id": null, "id": 166123, "creator": "sf@sfritsch.de", "time": "2013-03-24T08:04:52Z", "bug_id": 49011, "creation_time": "2013-03-24T08:04:52Z", "is_private": false}, {"count": 4, "tags": [], "text": "fixed in 1.5.2", "is_private": false, "id": 166433, "creator": "sf@sfritsch.de", "time": "2013-04-05T20:25:30Z", "bug_id": 49011, "creation_time": "2013-04-05T20:25:30Z", "attachment_id": null}]