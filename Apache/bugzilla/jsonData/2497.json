[{"count": 0, "tags": [], "text": "I have a small program that incorporates a small DOM tree built with\nxerces 1.4.1.  However, the problem below shows in exactly the same\nmanner with the DOMCount example.\nBoth my program and the DOMCount example work fine on Solaris, but \nunder linux (2.4.6, gcc 2.2.3, Sun jvm 1.3.1 or 1.4.0beta) I get a \nsegmentation fault from the jvm.\n\nHere is (part of) the output of java -verbose:\n\n...\n[Loaded DOMParser]\n[Loaded org.xml.sax.SAXParseException]\n[Loaded org.apache.xerces.framework.XMLErrorReporter]\n[Loaded org.apache.xerces.framework.XMLDocumentHandler$DTDHandler]\n[Loaded org.apache.xerces.framework.XMLParser]\n[Loaded org.apache.xerces.framework.XMLDocumentHandler]\n[Loaded org.apache.xerces.parsers.DOMParser]\n[Loaded org.xml.sax.SAXNotSupportedException]\n[Loaded org.apache.xerces.readers.XMLEntityHandler$CharBuffer]\n[Loaded org.xml.sax.Locator]\n[Loaded org.xml.sax.SAXNotRecognizedException]\n[Loaded org.apache.xerces.utils.XMLMessageProvider]\n[Loaded org.apache.xerces.readers.XMLEntityHandler]\n[Loaded org.apache.xerces.validators.common.GrammarResolver]\n[Loaded org.w3c.dom.NodeList]\n[Loaded org.w3c.dom.events.EventTarget]\n[Loaded org.apache.xerces.dom.NodeImpl]\n[Loaded org.apache.xerces.dom.ChildNode]\n[Loaded org.apache.xerces.dom.ParentNode]\n[Loaded org.w3c.dom.Document]\n[Loaded org.w3c.dom.traversal.DocumentTraversal]\n[Loaded org.w3c.dom.events.DocumentEvent]\n[Loaded org.w3c.dom.ranges.DocumentRange]\n[Loaded org.apache.xerces.dom.DocumentImpl]\n[Loaded org.apache.xerces.dom.DeferredNode]\n[Loaded org.apache.xerces.dom.DeferredDocumentImpl]\n[Loaded java.lang.IllegalArgumentException from /opt/jdk1.3.1/jre/lib/rt.jar]\n[Loaded org.w3c.dom.CharacterData]\n[Loaded org.w3c.dom.Text]\n[Loaded org.w3c.dom.CDATASection]\n[Loaded org.w3c.dom.Entity]\n[Loaded org.apache.xerces.dom.EntityImpl]\n[Loaded org.w3c.dom.Element]\n[Loaded org.apache.xerces.utils.XMLMessages]\n[Loaded org.apache.xerces.utils.ImplementationMessages]\n[Loaded org.apache.xerces.validators.schema.SchemaMessageProvider]\n[Loaded org.apache.xerces.validators.datatype.DatatypeMessageProvider]\n[Loaded org.apache.xerces.utils.StringPool]\n[Loaded java.lang.IndexOutOfBoundsException from\n/opt/jdk1.3.1/jre/lib/rt.jar][Loaded java.lang.ArrayIndexOutOfBoundsException\nfrom /opt/jdk1.3.1/jre/lib/rt.jar]\n[Loaded org.apache.xerces.utils.StringPool$StringProducer]\n[Loaded org.apache.xerces.utils.SymbolCache]\n[Loaded org.apache.xerces.utils.StringHasher]\nSegmentation fault\n\nWhat further information can I give you to help track this down?\n\n#!/mjh", "attachment_id": null, "bug_id": 2497, "id": 3486, "time": "2001-07-07T13:33:23Z", "creator": "m.hewitt@computer.org", "creation_time": "2001-07-07T13:33:23Z", "is_private": false}, {"count": 1, "tags": [], "creator": "jwaustin@bigfoot.com", "text": "See http://java.sun.com/j2se/1.3/install-linux-sdk.html\n\nThe workaround worked for me in Mandrake 8.0\n\n<quote>\nThe newer glibc-2.2.x libraries cannot correctly handle initial thread stack \nsizes larger than 6 MB. This can cause a segmentation fault on come Linux \nplatforms that use the newer libraries. Such platforms include Red Hat 7.0, \nSuSe 7.2, and Debian 2.2. The problem will not occur on Linux platforms that \nare using glibc-2.1.x such as Red Hat 6.1 and 6.2. It will also not affect Red \nHat 7.1 because it uses a different thread stack layout. This problem is being \ntracked as bug 4466587. \n\nWorkaround - Use \"ulimit -s 2048\" in bash shell or \"limit stacksize 2048\" in \ntcsh to limit the initial thread stack to 2 MB. \n</quote>\n\n", "id": 5231, "time": "2001-09-07T16:47:51Z", "bug_id": 2497, "creation_time": "2001-09-07T16:47:51Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "I get the problem on Redhat 7.1 (other comments about this bug suggest this \nwould not be the case). The workaround with ulimit works though.\n\nKernel 2.4.2-2 on an i586\nlogin: martin\nPassword:\nLast login: Sat Oct 13 22:55:10 from martin\npsyduck% cd java/\npsyduck% java com/woolleynet/SMPPSim/SMPPSim com/woolleynet/SMPPSim/props\n==============================================================\n=  SMPPSim Copyright (C) 2001 Martin Woolley\n=  SMPPSim comes with ABSOLUTELY NO WARRANTY; for details\n=  read the license.txt file that was included in the SMPPSim distribution\n=  This is free software, and you are welcome to redistribute it under\n=  certain conditions; Again, see license.txt for details or read the GNU\n=  GPL license at http://www.gnu.org/licenses/gpl.html\n=  ...... end of legal stuff ......\n==============================================================\n=\n=  com.woolleynet.SMPPSim V1.03 by Martin Woolley (martin@woolleynet.com)\n=  http://www.woolleynet.com\n=  http://www.mobilelandscape.co.uk\n=  Running with the following parameters:\n=  SMS_APP_TRANS_PORT                :10000\n=  SMS_APP_TRANS_LISTENERS           :10\n=  SMS_APP_RECV_PORT                 :10002\n=  SMS_APP_RECV_LISTENERS            :1\n=  HTTP_CONTROL_PORT                 :10099\n=  HTTP_CONTROL_LISTENERS            :1\n=  SMSCID                            :SMPPSim\n=  RANDOM_STATUS_TRIGGER             :50\n=  DELIVERY_MESSAGES_PER_MINUTE      :10\n=  DELIVER_MESSAGE                   :Check out www.mobilelandscape.co.uk\n=  DELIVER_FROM_MSISDN               :07702876543\n=  DELIVER_TO_MSISDN                 :1234\n=  LOOPBACK                          :false\n=\n==============================================================\ncreateDOMtrees\nAbout to create new DOMParser\nAbout to parse header: *com/woolleynet/SMPPSim/xml/smpp_header.xml*\nzsh: segmentation fault  java com/woolleynet/SMPPSim/SMPPSim com/woolleynet/SMPP\nSim/props\npsyduck%\n\n", "attachment_id": null, "bug_id": 2497, "id": 6678, "time": "2001-10-13T15:04:43Z", "creator": "martin@woolleynet.com", "creation_time": "2001-10-13T15:04:43Z", "is_private": false}]