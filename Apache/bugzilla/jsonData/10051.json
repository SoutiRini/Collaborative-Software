[{"count": 0, "tags": [], "bug_id": 10051, "attachment_id": null, "text": "We have a big projects consistiong of several subprojects. Each subproject can \nbe tested by call of common build.xml target and by call of build.xml in \nsubproject's directory. Common build.xml just executes <ant> task to call \nsubproject's build.xml\n\nBut ant doesn't change current directory and thus tests behaviour differs. This \nhappens because test needs some files to be read/written (at least some library \ncalls produce log4j logs and I shouldn't get rid of them). \n\nIf this is standard and OK help me with standard workaround please. Use of \nabsolute addresses is at least inconvenient.", "id": 18152, "time": "2002-06-20T09:37:26Z", "creator": "bedal@mw.narzan.com", "creation_time": "2002-06-20T09:37:26Z", "is_private": false}, {"count": 1, "tags": [], "text": "Writing message to you magically clears my brain :-)\nWorkaround found:\n<sysproperty key=\"ant.basedir> value=\"${basedir}\" />\nand use it later in code. \nBut this doesn't solve log4j logs problem so IMHO it'll be better to change \ncurrent dir together with basedir.", "attachment_id": null, "id": 18159, "creator": "bedal@mw.narzan.com", "time": "2002-06-20T10:25:08Z", "bug_id": 10051, "creation_time": "2002-06-20T10:25:08Z", "is_private": false}, {"count": 2, "tags": [], "creator": "stevel@apache.org", "text": "if you call <ant> setting a new dir, it changes directory. Give it just the name\nof a build file, it doesnt. Roughly speaking, anyway.\n\ntake a look at the basedir section of <ant> to see it in more detail", "id": 18203, "time": "2002-06-20T16:59:45Z", "bug_id": 10051, "creation_time": "2002-06-20T16:59:45Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 10051, "attachment_id": null, "text": "This a real line from real build.xml:\n<ant dir=\"../projects/benchmark/build\" antfile=\"project.xml\" inheritall=\"false\" \ntarget=\"run-tests\" />\n\nI affirm: project.xml is entered, ${basedir} property changes ok, but current \ndirectory is the same. ", "id": 18207, "time": "2002-06-20T18:22:49Z", "creator": "bedal@mw.narzan.com", "creation_time": "2002-06-20T18:22:49Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 10051, "attachment_id": null, "text": "Steve, why do you think Ant changes the CWD of the child process at all?\n\nAnt never changes the current working directory, the only thing that changes is\nAnt's interpretation of relative paths (they are always relative to the basedir).\n\nMikhail, how are you running your testcases?  If you use <junit>, it has a dir\nattribute you can use to explicitly set the current working directory, but that\nwill only work for forked <junit> tasks.", "id": 18455, "time": "2002-06-24T10:23:38Z", "creator": "bodewig@apache.org", "creation_time": "2002-06-24T10:23:38Z", "is_private": false}, {"count": 5, "tags": [], "text": "Thank you, dir in <junit> is exactly what I need. I missed it in documentation.", "attachment_id": null, "id": 18478, "creator": "bedal@mw.narzan.com", "time": "2002-06-24T16:21:59Z", "bug_id": 10051, "creation_time": "2002-06-24T16:21:59Z", "is_private": false}, {"count": 6, "attachment_id": null, "creator": "stevel@apache.org", "text": "> Steve, why do you think Ant changes the CWD of the child process at all?\n\num, because I dont know what I'm talking about  :)", "id": 18488, "time": "2002-06-24T17:30:50Z", "bug_id": 10051, "creation_time": "2002-06-24T17:30:50Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "bug_id": 10051, "attachment_id": null, "id": 18529, "time": "2002-06-25T07:35:25Z", "creator": "bodewig@apache.org", "creation_time": "2002-06-25T07:35:25Z", "is_private": false, "text": "there is so much we have in common 8-)"}]