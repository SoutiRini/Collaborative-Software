[{"count": 0, "attachment_id": null, "bug_id": 8064, "text": "Building apache on NetBSD 1.5.2 fails.\n\nConfigured as:\n./configure  --prefix=/usr/local/Installed/apache --enable-usertrack\n--enable-expires --enable-auth --enable-auth-digest --enable-ssl\n\nFailing command:\n/bin/sh /usr/local/Distribution/httpd-2.0.35/srclib/apr/libtool --silent\n--mode=link gcc  -g -O2    -DNETBSD -DAP_HAVE_DESIGNATED_INITIALIZER   -I.\n-I/usr/local/Distribution/httpd-2.0.35/os/unix\n-I/usr/local/Distribution/httpd-2.0.35/server/mpm/prefork\n-I/usr/local/Distribution/httpd-2.0.35/modules/http\n-I/usr/local/Distribution/httpd-2.0.35/modules/proxy\n-I/usr/local/Distribution/httpd-2.0.35/include\n-I/usr/local/Distribution/httpd-2.0.35/srclib/apr/include\n-I/usr/local/Distribution/httpd-2.0.35/srclib/apr-util/include\n-I/usr/pkg/include/openssl -I/usr/pkg/include\n-I/usr/local/Distribution/httpd-2.0.35/modules/dav/main\n-I/usr/local/Distribution/httpd-2.0.35/srclib/apr-util/include\n-I/usr/local/Distribution/httpd-2.0.35/srclib/apr-util/xml/expat/lib\n-export-dynamic -L/usr/pkg/lib   -o dftables -L/usr/pkg/lib dftables.lo -lm\n-lcrypt -lresolv -lssl -lcrypto\n/usr/local/Distribution/httpd-2.0.35/srclib/apr-util/xml/expat/lib/libexpat.la\nShared object \"libcrypto.so.1\" not found\n\n\nWithout --enable-ssl it builds.\n\n\n\nFrom pkg_info (should be the required version):\nopenssl-0.9.6       Secure Socket Layer and cryptographic library\n\n\nAlso it seems like the lib-file is actually present in the -L location:\n-rw-r--r--  1 root  wheel  1278782 May 12  2001 /usr/pkg/lib/libcrypto.a\nlrwxr-xr-x  1 root  wheel       16 May 12  2001 /usr/pkg/lib/libcrypto.so@ ->\nlibcrypto.so.1.0\nlrwxr-xr-x  1 root  wheel       16 May 12  2001 /usr/pkg/lib/libcrypto.so.1@ ->\nlibcrypto.so.1\\\n.0\n-r--r--r--  1 root  wheel   826409 May 12  2001 /usr/pkg/lib/libcrypto.so.1.0", "id": 13482, "time": "2002-04-14T13:50:34Z", "creator": "jnp@napolinet.dk", "creation_time": "2002-04-14T13:50:34Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "jnp@napolinet.dk", "is_private": false, "text": "Created attachment 1554\nOutput from the build comman", "id": 13483, "time": "2002-04-14T13:51:13Z", "bug_id": 8064, "creation_time": "2002-04-14T13:51:13Z", "attachment_id": 1554}, {"attachment_id": 1555, "tags": [], "bug_id": 8064, "text": "Created attachment 1555\nOutput from configure/make", "count": 2, "id": 13484, "time": "2002-04-14T13:51:31Z", "creator": "jnp@napolinet.dk", "creation_time": "2002-04-14T13:51:31Z", "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 8064, "is_private": false, "id": 13485, "time": "2002-04-14T13:52:36Z", "creator": "jnp@napolinet.dk", "creation_time": "2002-04-14T13:52:36Z", "tags": [], "text": "Please ignore the first attachment"}, {"count": 4, "tags": [], "creator": "jerenkrantz@apache.org", "text": "This suspiciously sounds like a NetBSD problem.  Can you compile any OpenSSL\napplications?", "id": 14555, "time": "2002-04-23T22:47:06Z", "bug_id": 8064, "creation_time": "2002-04-23T22:47:06Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "jnp@napolinet.dk", "text": "I have looked into this and can build openssl application (at least one that\ncalls SSL_library_init() ;-)\n\n\nThe failure seems to be caused by a combination of things.\n\nNetBSD 1.5.2 has a crypto lib installed in /usr/lib/libcrypto.so.0.\n\nBut the openssl package, which, aside from the ssl lib, installs in its own\ncrypto lib in /usr/pkg/lib/libcrypto.so.1.\n\nFor some reason libcrypto.so.1 is not in the lib path to the linker and hence is\nnot found during linkage.\n\nCreating a link in /usr/lib to the required crypto lib allowed me to build apache.\n\nI don't understand the apache build process nor netbsd internals well enough to\nsuggest how to best resolve this issue.", "id": 14657, "time": "2002-04-24T18:25:09Z", "bug_id": 8064, "creation_time": "2002-04-24T18:25:09Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 8064, "attachment_id": null, "is_private": false, "id": 14676, "time": "2002-04-25T00:36:17Z", "creator": "jerenkrantz@apache.org", "creation_time": "2002-04-25T00:36:17Z", "text": "I'd suggesting file a report with NetBSD (or wherever you got your OpenSSL\npackage), but this surely isn't a problem that we can control with Apache. \nTherefore, this bug is being closed.\n\nThe only thing I could suggest is adding -L/usr/pkg/lib to your LDFLAGS.  That\nmight help.\n\nThanks for using Apache!"}]