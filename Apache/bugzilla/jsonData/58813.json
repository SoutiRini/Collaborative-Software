[{"attachment_id": null, "tags": [], "bug_id": 58813, "is_private": false, "count": 0, "id": 187439, "time": "2016-01-06T21:25:34Z", "creator": "matthewreiter@hotmail.com", "creation_time": "2016-01-06T21:25:34Z", "text": "OS: Windows Server 2012 R2 Standard\n\nIf isapi_redirect.dll is configured at the website level (rather than globally), when the website is restarted using IIS Manager, the ISAPI redirector is restarted, too. At this point any further HTTP requests will hang until IIS is restarted.\n\nI've traced the problem back to this commit:\ncommit 2f209a0d25e379b7cb29a9aad74dd71a95471ae5\nAuthor: Mladen Turk <mturk@apache.org>\nDate:   Tue Mar 6 12:21:02 2012 +0000\n\n    Use global mutex instead critical section so that multiple instance don't in\nit at once in case IIS starts multiple processes\n\n    git-svn-id: https://svn.apache.org/repos/asf/tomcat/jk/trunk@1297439 13f7953\n5-47bb-0310-9956-ffa450edef68\n\n:040000 040000 ac36df68c573630431521b9d616e18234029109c 040c8ea72fdcaedbe0b058c0\n596a2448a505d768 M      native\n\nIn TerminateFilter (in jk_isapi_plugin.c), ReleaseMutex is being called with the address of the init_cs variable rather than its value, causing init_cs to never be released. As a result, when GetExtensionVersion is subsequently called, it is unable to acquire init_cs and so the plugin never finishes initializing. I was able to confirm that removing the extra \"&\" fixes the problem."}, {"count": 1, "attachment_id": null, "bug_id": 58813, "is_private": false, "id": 187642, "time": "2016-01-13T23:26:30Z", "creator": "matthewreiter@hotmail.com", "creation_time": "2016-01-13T23:26:30Z", "tags": [], "text": "This bug applies to all versions from 1.2.33 to the latest in trunk (1.2.42)."}, {"attachment_id": null, "tags": [], "bug_id": 58813, "is_private": false, "count": 2, "id": 193569, "time": "2016-09-09T09:18:42Z", "creator": "e9025902@stud2.tuwien.ac.at", "creation_time": "2016-09-09T09:18:42Z", "text": "Hi!\n\nI added your patch description to the following silimar bug:\nhttps://bz.apache.org/bugzilla/show_bug.cgi?id=59334\n\nIt seems to be the same bug.\n\nHere (again) the details of what should be done:\n\nTerminateFilter (in jk_isapi_plugin.c) \n\nversion 1.2.41 \nLine 2424:    ReleaseMutex(&init_cs);\n\nshould be:    ReleaseMutex(init_cs);\n\n\nThat's the patch you have tested successfully, right?\n\nkind regards\n   swobi"}, {"count": 3, "tags": [], "text": "Yes, it is.", "is_private": false, "bug_id": 58813, "id": 193584, "time": "2016-09-10T00:27:15Z", "creator": "matthewreiter@hotmail.com", "creation_time": "2016-09-10T00:27:15Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "e9025902@stud2.tuwien.ac.at", "text": "Thanks a lot for the quick conformation!\n\nI meanwhile found my old Visual C++ 6.0 CD and will build a \"custom\" version as well, because I can't put the official version into production with this bug!\n\n@Source owner of jk_isapi_plugin.c:\nPlease, please, please fix this \"typo\" in the next official version!\nPretty please, with sugar on top?!", "id": 193595, "time": "2016-09-10T08:46:30Z", "bug_id": 58813, "creation_time": "2016-09-10T08:46:30Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 58813, "text": "Fixed in trunk for 1.2.42 onwards", "id": 193655, "attachment_id": null, "creator": "markt@apache.org", "creation_time": "2016-09-12T19:07:09Z", "time": "2016-09-12T19:07:09Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 58813, "is_private": false, "text": "*** Bug 59334 has been marked as a duplicate of this bug. ***", "id": 193657, "time": "2016-09-12T19:07:17Z", "creator": "markt@apache.org", "creation_time": "2016-09-12T19:07:17Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 58813, "text": "*** Bug 59092 has been marked as a duplicate of this bug. ***", "id": 193659, "attachment_id": null, "creator": "markt@apache.org", "creation_time": "2016-09-12T19:07:28Z", "time": "2016-09-12T19:07:28Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 58813, "is_private": false, "text": "\nGREAT! \n\nWill there be an official release of 1.2.42 soon?\n\nThanks a lot\n  swobi", "id": 193670, "time": "2016-09-13T08:05:57Z", "creator": "e9025902@stud2.tuwien.ac.at", "creation_time": "2016-09-13T08:05:57Z", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 58813, "is_private": false, "text": "Good question. It has been over a year since the last release. I'll start a discussion on the dev list.", "id": 193672, "time": "2016-09-13T08:15:28Z", "creator": "markt@apache.org", "creation_time": "2016-09-13T08:15:28Z", "attachment_id": null}]