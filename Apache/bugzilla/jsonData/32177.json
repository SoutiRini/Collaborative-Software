[{"count": 0, "text": "Apache2 on Windows doesn't support customizing SendBufferSize in httpd.conf : \nit always use default operating system (4KB) :\n - setting \"SendBufferSize 511\" it errors correctly '>>> SendBufferSize must be \n>= 512 bytes, or 0 for system default.'\n - setting \"SendBufferSize\" above 512 it errors '>>> [Thu Nov 11 00:06:01 2004] \n[warn] (22)Invalid argument: make_sock: failed to set SendBufferSize for \naddress 0.0.0.0:80, using default     .'\n\nApache 1.3 on Windows manage SendBufferSize correctly : it's fundamental for \nperformance and scalability in competition.\nIn Apache2 source for Windown is not implemented as call to is missing \non .\\srclib\\apr\\network_io\\win32\\sockopt.c  function apr_socket_opt_set() API.\nIn .\\srclib\\apr\\network_io\\win32\\sockopt.c  function apr_socket_opt_set() \nthere's no 'case APR_SO_SNDBUF:' in switch struct of socket option.\nIn Apache1.3 source and in Apache2 source \n(.\\srclib\\apr\\network_io\\unix\\sockopt.c) there is the missing code to manage \nsetting SendBufferSize\n\n\"\n...\n    case APR_SO_SNDBUF:\n#ifdef SO_SNDBUF\n        if (apr_is_option_set(sock->netmask, APR_SO_SNDBUF) != on) {\n            if (setsockopt(sock->socketdes, SOL_SOCKET, SO_SNDBUF, (void *)&on, \nsizeof(int)) == -1) {\n                return errno;\n            }\n            apr_set_option(&sock->netmask, APR_SO_SNDBUF, on);\n        }\n#else\n        return APR_ENOTIMPL;\n#endif\n        break;\n..\"    \n\nthat can be included in Win32 porting. Personally I patched the win32 source, \nrecompiled with VisualC, released the new libapr.dll on an Apache HTTPD 2.0.52 \nbinaries setup and customized \"SendBufferSize 127000\" successfully.", "bug_id": 32177, "is_private": false, "id": 66709, "time": "2004-11-11T10:43:26Z", "creator": "sgobbi@datamanagement.it", "creation_time": "2004-11-11T10:43:26Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 32177, "attachment_id": null, "is_private": false, "id": 76326, "time": "2005-06-12T16:12:53Z", "creator": "trawick@apache.org", "creation_time": "2005-06-12T16:12:53Z", "text": "I plan to handle this in the next couple of days.\n"}, {"count": 2, "tags": [], "creator": "trawick@apache.org", "attachment_id": 15396, "is_private": false, "id": 76365, "time": "2005-06-14T04:49:00Z", "bug_id": 32177, "creation_time": "2005-06-14T04:49:00Z", "text": "Created attachment 15396\nproposed patch to support SO_RCVBUF and SO_SNDBUF on Win32\n\nHere is the correct (famous last words) patch for this issue.  The\napr_is_option_set() optimization does not apply to these socket\noptions.  (patch posted to dev@apr regarding that misplaced\noptimization in the Unix code)"}, {"count": 3, "tags": [], "text": "The fix to support SO_SNDBUF and SO_RCVBUF has been commit to all branches of apr.", "attachment_id": null, "bug_id": 32177, "id": 76389, "time": "2005-06-14T12:56:04Z", "creator": "trawick@apache.org", "creation_time": "2005-06-14T12:56:04Z", "is_private": false}, {"count": 4, "tags": [], "text": "Is this bug really fixed? I have installed the latest version of Apache2\n(v2.0.54, Apr-2005), but I'm still getting the same error \"failed to set\nSendBufferSize for...etc.\" in the event log and the directive has no effect.", "attachment_id": null, "bug_id": 32177, "id": 79951, "time": "2005-09-14T16:28:15Z", "creator": "jaakko.isotalo@gmail.com", "creation_time": "2005-09-14T16:28:15Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 32177, "attachment_id": null, "text": "2.0.54 doesn't contain these fixes.  The next version of 2.0.xx should contain\nthese fixes, as long as a newer version of APR is used.", "id": 79953, "time": "2005-09-14T16:32:27Z", "creator": "chip@force-elite.com", "creation_time": "2005-09-14T16:32:27Z", "is_private": false}, {"count": 6, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "id": 80031, "time": "2005-09-16T09:38:40Z", "bug_id": 32177, "creation_time": "2005-09-16T09:38:40Z", "is_private": false, "text": "Marking fixed for future releases."}]