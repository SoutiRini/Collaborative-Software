[{"count": 0, "text": "Since Tomcat 7, one can not enable directory listings (in conf/web.xml) while simultaneously enabling strict servlet compliance (by setting the org.apache.catalina.STRICT_SERVLET_COMPLIANCE system property): one gets a 404 response.\n\nThis is a regression compared to Tomcat 5.5 and Tomcat 6.\n\nThe Servlet 3.0 specification states \u00a710.10:\n\"If no matching welcome file is found in the manner described, the container may handle the request in a manner it finds suitable. For some configurations this may mean returning a directory listing or for others returning a 404 response.\"\n\nso this new behaviour is still specification compliant strictly speaking.\nBut still I would really like to enable directory listings (which is also specification compliant)! :-)\n\n(And yes, I do know the warnings / trade-offs about enabling those listings.)", "bug_id": 54320, "is_private": false, "id": 164130, "time": "2012-12-17T13:54:08Z", "creator": "cedrik.lime@gmail.com", "creation_time": "2012-12-17T13:54:08Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "creator": "violetagg@apache.org", "is_private": false, "text": "Hi,\n\nI'm going to work on this.\n\nRegards\nVioleta", "id": 164327, "time": "2013-01-02T19:46:37Z", "bug_id": 54320, "creation_time": "2013-01-02T19:46:37Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 54320, "attachment_id": null, "text": "Hi,\n\nYou still can achieve directory listing and strict servlet compliance together.\nYou need to add in the context.xml additional configuration - \"resourceOnlyServlets=default,jsp\".\nMore information can be seen in the documentation - http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Common_Attributes\n\nRegards\nVioleta Georgieva", "id": 164330, "time": "2013-01-02T21:08:12Z", "creator": "violetagg@apache.org", "creation_time": "2013-01-02T21:08:12Z", "is_private": false}, {"count": 3, "tags": [], "creator": "markt@apache.org", "text": "Thanks for tracking this down Violeta.\n\nFrom the original report, it sounded like a welcome file issue.", "id": 164331, "time": "2013-01-02T21:13:25Z", "bug_id": 54320, "creation_time": "2013-01-02T21:13:25Z", "is_private": false, "attachment_id": null}, {"count": 4, "text": "Thanks for the heads up, Violeta!\n\nStrangely enough, specifying \"resourceOnlyServlets=jsp\" is enough, even though it is the DefaultServlet that is serving the listing.\n\nAs this is a new behaviour for Tomcat 7, it might be worth to add a note in the the documentation and/or conf/web.xml's DefaultServlet comments.\n\nRegards,\nC\u00e9drik", "bug_id": 54320, "is_private": false, "id": 164347, "time": "2013-01-03T09:14:10Z", "creator": "cedrik.lime@gmail.com", "creation_time": "2013-01-03T09:14:10Z", "tags": [], "attachment_id": null}]