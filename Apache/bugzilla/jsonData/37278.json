[{"count": 0, "tags": [], "bug_id": 37278, "attachment_id": null, "id": 81852, "time": "2005-10-27T20:12:31Z", "creator": "gpawel@gmail.com", "creation_time": "2005-10-27T20:12:31Z", "is_private": false, "text": "Problem:\n      It is not possible to use a variabel in the File name field of the\ncontroller (for example: ${TEST_PLANS_HOME}) or a function (for example\n${__P(test_plans_home)}\n\nPlease!!!!\nThe fix of this will make life one step closer to be perfect :)"}, {"count": 1, "tags": [], "creator": "woolfel@yahoo.com", "attachment_id": null, "is_private": false, "id": 81854, "time": "2005-10-27T20:59:50Z", "bug_id": 37278, "creation_time": "2005-10-27T20:59:50Z", "text": "if you have a test plan you can post, it would make it much easier. thanks for\ntaking time to file a bugzilla\n\npeter lin"}, {"count": 2, "tags": [], "bug_id": 37278, "attachment_id": null, "text": "*** Bug 37279 has been marked as a duplicate of this bug. ***", "id": 81860, "time": "2005-10-27T21:33:27Z", "creator": "woolfel@yahoo.com", "creation_time": "2005-10-27T21:33:27Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 37278, "text": "*** Bug 37280 has been marked as a duplicate of this bug. ***", "id": 81863, "time": "2005-10-27T21:38:40Z", "creator": "gpawel@gmail.com", "creation_time": "2005-10-27T21:38:40Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 37278, "attachment_id": 16822, "id": 81864, "time": "2005-10-27T21:43:07Z", "creator": "gpawel@gmail.com", "creation_time": "2005-10-27T21:43:07Z", "is_private": false, "text": "Created attachment 16822\nThe test plan build on modules using include controller. File name field of the controllers is using variable or reading a property from jmeter.properties"}, {"count": 5, "tags": [], "creator": "woolfel@yahoo.com", "attachment_id": null, "text": "Looking at the current implementation, it should work. I don't know beanshell,\nsince I never use it.  where does the test_plans_home come from?\n\npeter ", "id": 82076, "time": "2005-11-03T05:28:45Z", "bug_id": 37278, "creation_time": "2005-11-03T05:28:45Z", "is_private": false}, {"count": 6, "tags": [], "text": "Looking at this a bit more, I wonder if ${__P()} is called before the test is\nactually running. Since the include controller loads the module before the test\nplan executes, it makes sense the value isn't substituted. does that make sense.\n\nperhaps mike or sebb can confirm if this thinking is correct.\n\npeter lin\n", "is_private": false, "id": 82077, "creator": "woolfel@yahoo.com", "time": "2005-11-03T05:53:51Z", "bug_id": 37278, "creation_time": "2005-11-03T05:53:51Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 37278, "text": "I added a system.out to see if the function is getting called and it looks like\nit definitely isn't. I don't know if there's an easy way to add this enhancement\nor not. I'll consult mike and sebb.\n\n\npeter lin\n", "id": 82078, "time": "2005-11-03T06:19:31Z", "creator": "woolfel@yahoo.com", "creation_time": "2005-11-03T06:19:31Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "text": "I had a chat with mike and it's actually hard to implement this at the moment.\nCurrently, the include controller loads the module very early in the \"run\"\nprocess. In fact, it loads it before any functions are compiled or called, which\nmeans resolving the function and getting a meaningful value is hard. I'll have\nto explore this a bit and figure out a good way of implementing this feature.\n\npeter lin", "attachment_id": null, "bug_id": 37278, "id": 82099, "time": "2005-11-03T17:15:33Z", "creator": "woolfel@yahoo.com", "creation_time": "2005-11-03T17:15:33Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 37278, "attachment_id": null, "id": 82100, "time": "2005-11-03T17:32:54Z", "creator": "gpawel@gmail.com", "creation_time": "2005-11-03T17:32:54Z", "is_private": false, "text": "Actually, the main goal of the include controller as I see it, to make a test\nplan to be based on pre-defined modules,like Login, Logout etc.\nIf Login or Logout process (requests) changed, we would need to change only\nmodules and not all test plans that are using them.\n\nIf pathes in the inclue controller cannot be a variables, it means the test plan\nthat using the controller can be run only from a speciffic machine.\n\nGood luck.\nPavel"}, {"count": 10, "tags": [], "text": "Unfortunately, that is a limitation currently. You're right and it does mean the\nfile path used in the include controller has to be a specific machine. I agree\nit would be nice to support variables and functions, but it's going to take me a\nwhile to think of a clean way of implementing without having it be an ugly hack.\n\npeter ", "is_private": false, "id": 82101, "creator": "woolfel@yahoo.com", "time": "2005-11-03T17:39:13Z", "bug_id": 37278, "creation_time": "2005-11-03T17:39:13Z", "attachment_id": null}, {"count": 11, "tags": [], "creator": "gpawel@gmail.com", "attachment_id": null, "id": 82105, "time": "2005-11-03T18:56:45Z", "bug_id": 37278, "creation_time": "2005-11-03T18:56:45Z", "is_private": false, "text": "Do not hurry!! \nDo it right.\n\nIf you cannot do it fast, we can wait. I am sure, everybody wants to get good code!!\n\nPavel"}, {"count": 12, "tags": [], "text": "Hi Peter!\nDo you have any updates on it?\n\nThank you.\nPavel", "is_private": false, "id": 85744, "creator": "gpawel@gmail.com", "time": "2006-02-13T21:49:10Z", "bug_id": 37278, "creation_time": "2006-02-13T21:49:10Z", "attachment_id": null}, {"count": 13, "tags": [], "bug_id": 37278, "text": "unfortunately, I haven't worked on it and don't have time at the moment. For the\nnext 2 months, I expect to be tied up with my day job and won't have much\nfreetime. sorry.\n\npeter", "id": 85745, "time": "2006-02-13T21:51:28Z", "creator": "woolfel@yahoo.com", "creation_time": "2006-02-13T21:51:28Z", "is_private": false, "attachment_id": null}, {"count": 14, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "Fixed in 2.1 branch - please could you try the nightly 2-1.20060214 and report \nif that fixes the problem?", "id": 85771, "time": "2006-02-14T19:02:58Z", "bug_id": 37278, "creation_time": "2006-02-14T19:02:58Z", "is_private": false}, {"count": 15, "tags": [], "bug_id": 37278, "attachment_id": null, "id": 85774, "time": "2006-02-14T19:20:54Z", "creator": "gpawel@gmail.com", "creation_time": "2006-02-14T19:20:54Z", "is_private": false, "text": "I will do my best to try today or tomorrow.\n\nThank you.\nPavel"}, {"count": 16, "tags": [], "bug_id": 37278, "attachment_id": null, "text": "Sorry, I don't think the fix has made any difference.\n\nThe module controller already handled variables and functions in the filename\nfield - it is just that they are evaluated too early, as Peter said.", "id": 85790, "time": "2006-02-15T02:39:55Z", "creator": "sebb@apache.org", "creation_time": "2006-02-15T02:39:55Z", "is_private": false}, {"count": 17, "tags": [], "bug_id": 37278, "text": "One of the reasons I never got around to working on it is that I couldn't think\nof a good way of implementing the feature.\n\nCurrently, the Include Controller loads the contents of the included module and\nadds it to the tree. Since it happens before any of the functions are setup, it\nmeans that replacing the value is actually rather hard. It's kind of a chicken\nand the egg issue. The only thing I could think of was maybe introduce a new\nkind of component which is like a Global static functions.\n\nNot sure if that is a good idea or not, but I couldn't see any easy fix. the\npotential solutions requires significant effort and/or rewriting parts of jmeter.\n\npeter", "id": 85793, "time": "2006-02-15T03:24:58Z", "creator": "woolfel@yahoo.com", "creation_time": "2006-02-15T03:24:58Z", "is_private": false, "attachment_id": null}, {"count": 18, "tags": [], "bug_id": 37278, "attachment_id": null, "text": "Peter, may be my ideas are stupid - sorry for that, but is it possible to try\nsomething of this:\na) setup functions at the end of the include module?\nb) initialize include module at the end of the script initialization?\nc) initialize include module (actual load) at the moment when workflow reaches it?\nd) make a control in the include module (radio button or something) at which\nmoment to upload the script.\ne) setup functions may be separatly for include module? \n\nOne more time  - I am sorry.\nInclude module can make maintenance simple and fast.\n\nThanks a lot for your affords!\nI really appreciate it.\nPavel\n", "id": 85817, "time": "2006-02-15T16:19:55Z", "creator": "gpawel@gmail.com", "creation_time": "2006-02-15T16:19:55Z", "is_private": false}, {"count": 19, "tags": [], "creator": "woolfel@yahoo.com", "attachment_id": null, "is_private": false, "id": 85818, "time": "2006-02-15T16:33:53Z", "bug_id": 37278, "creation_time": "2006-02-15T16:33:53Z", "text": "The problem is actually a bit more complicated than that.  Here is what jmeter\ncurrently does.\n\n1. copy the testElements from the JTree\n2. pass it to the engine\n3. initialize functions and scripts\n4. do other setup stuff\n5. create threads and pass the appropriate element to it\n6. start threads\n\nIn theory, the approach you describe \"might\" work if the include controller\nloads the module, adds it to the workspace and returns a moduleController that\npoints to the correct simpleController. That would require reworking the\nIncludeController, but it is one possible solution.\n\npeter"}, {"count": 20, "tags": [], "text": "I will be happy to test it :))\n\n", "is_private": false, "id": 85819, "creator": "gpawel@gmail.com", "time": "2006-02-15T16:37:46Z", "bug_id": 37278, "creation_time": "2006-02-15T16:37:46Z", "attachment_id": null}, {"text": "(In reply to comment #9)\n\n> If pathes in the inclue controller cannot be a variables, it means the test \nplan\n> that using the controller can be run only from a speciffic machine.\n\nUnless you use relative paths, surely?\n\nCan't you just put all the scripts in the same directory relative to JMeter \nHome?\n\nAnother (perhaps easier) solution might be to provide an optional property \nthat the Module controller uses to prefix the name that is provided.\n\nE.g.\n\njmeter ... -Dmodule_home=/a/b/c/d/\n\nThen instead of opening xyz.jmx, the MC would open /a/b/c/d/xyz.jmx.\n\nWould that solve the problem for now?", "tags": [], "bug_id": 37278, "attachment_id": null, "count": 21, "id": 85822, "time": "2006-02-15T18:29:44Z", "creator": "sebb@apache.org", "creation_time": "2006-02-15T18:29:44Z", "is_private": false}, {"count": 22, "tags": [], "creator": "gpawel@gmail.com", "attachment_id": null, "id": 85823, "time": "2006-02-15T19:13:27Z", "bug_id": 37278, "creation_time": "2006-02-15T19:13:27Z", "is_private": false, "text": "Thanks a lot.\nI will try that.\n"}, {"text": "You can now define the property:\n\nincludecontroller.prefix\n\nand have it added to all IncludeController filenames.\n\nThis will be in the next nightly\n", "tags": [], "bug_id": 37278, "attachment_id": null, "count": 23, "id": 85826, "time": "2006-02-15T20:12:45Z", "creator": "sebb@apache.org", "creation_time": "2006-02-15T20:12:45Z", "is_private": false}, {"count": 24, "tags": [], "bug_id": 37278, "text": "Looking forward to try it.\n\nThanks a lot!!", "id": 85828, "time": "2006-02-15T20:25:43Z", "creator": "gpawel@gmail.com", "creation_time": "2006-02-15T20:25:43Z", "is_private": false, "attachment_id": null}, {"count": 25, "tags": [], "creator": "ezbhsvdd@no-spam.hu", "attachment_id": null, "id": 87623, "time": "2006-04-06T10:00:42Z", "bug_id": 37278, "creation_time": "2006-04-06T10:00:42Z", "is_private": false, "text": "same at me under windows\n"}, {"count": 26, "tags": [], "text": "sorry, precipitation  \nincludecontroller.prefix works me\n", "is_private": false, "id": 87625, "creator": "ezbhsvdd@no-spam.hu", "time": "2006-04-06T10:23:23Z", "bug_id": 37278, "creation_time": "2006-04-06T10:23:23Z", "attachment_id": null}]