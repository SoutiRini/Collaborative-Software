[{"count": 0, "tags": [], "creator": "paulhnguyen@hotmail.com", "attachment_id": null, "id": 10177, "time": "2002-02-01T18:46:48Z", "bug_id": 6188, "creation_time": "2002-02-01T18:46:48Z", "is_private": false, "text": "When I use schemaLocation with default target namespace in xml document, the \nDOMParser failed in validating the xml file defined with anonymous element \ntypes. But when I convert the anonymous type to reference the named type then \nit's working.\nEx:\n\nJava Code:\n\n1) parser.setProperty(\"http://apache.org/xml/properties/schema/external-\nschemaLocation\", \"http://mynamespace myschema.xsd\");\n2) parser.parse(\"c://myfile.xml\");\n\n\n\nmyfile.xml (parser used: org.apache.xerces.parsers.DOMParser):\n\n<?xml version=\"1.0\" ?>\n<vfyPasswordRequest xmlns=\"http://mynamespace\">\n<verifyPassword>abc</verifyPassword>\n</vfyPasswordRequest>\n\nmyschema.xsd (with anonymous type):\n\n<?xml version=\"1.0\" ?>\n<xsd:schema xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \nxmlns=\"http://mynamespace\" targetNamespace=\"http://mynamespace\" >\n<xsd:element name=\"vfyPasswordRequest\" >\n<xsd:complexType>\n<xsd:sequence>\n<xsd:element name=\"verifyPassword\" >\n<xsd:simpleType>\n<xsd:restriction base=\"xsd:string\">\n<xsd:maxLength value=\"8\" />\n</xsd:restriction>\n</xsd:simpleType>\n</xsd:element>\n</xsd:sequence>\n</xsd:complexType>\n</xsd:element>\n\n<!-- \n<xsd:element name=\"verifyPassword\">\n<xsd:simpleType>\n<xsd:restriction base=\"xsd:string\">\n<xsd:maxLength value=\"8\" />\n</xsd:restriction>\n</xsd:simpleType>\n</xsd:element>\n-->\n</xsd:schema>"}, {"text": "The parser is correct in reporting error against your xml/xsd. In your xml \nfile, \"verifyPassword\" is bound to the default namespace, but in the xsd \nfile, \"verifyPassword\" is declared as a local element, which doesn't have a \ntarget namespace. Putting form=\"qualified\" on the declaration \nof \"verifyPassword\" makes your files valid.\n\nNote that, by default, only global declared elements/attributes are bound to \nthe target namspace. To have the same effect on local declarations, you need to \neither specify \"form\" on individual declaration, or include \nattribute \"element/attributeFormDefault\" in the <schema> element, with \nvalue \"qualified\".", "tags": [], "creator": "sandygao@ca.ibm.com", "is_private": false, "count": 1, "id": 10178, "time": "2002-02-01T19:02:58Z", "bug_id": 6188, "creation_time": "2002-02-01T19:02:58Z", "attachment_id": null}]