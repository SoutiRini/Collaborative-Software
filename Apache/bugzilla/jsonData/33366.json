[{"count": 0, "tags": [], "bug_id": 33366, "attachment_id": null, "id": 70399, "time": "2005-02-02T19:01:43Z", "creator": "vesely@tana.it", "creation_time": "2005-02-02T19:01:43Z", "is_private": false, "text": "Various features require non-trivial sequences\nof configuration directives to work correctly,\ne.g. authorizations or rewrite rules.\n\nSometimes \"Include\" directive is handy. However,\nfor virtual hosts it is likely that some keyword\nmust be altered on a per host (or per directory)\nbasis. The solution is to use variables that one\nassigns before including the file...\n\nI'd propose to augment \"Include\"'s syntax to be\n\n   Include file-path|directory-path|'|' pipeline\n\nfor example:\n\n   Include |sed 's/@@KEYWORD@@/immediate_value/g' conf/generic.conf\n\nwhere anything after the '|' is sent to a shell\n-after chdir(ServerRoot)- whose output is then\nparsed as a regular include file.\n\nCool? Should I submit a (tentative) patch of\nap_process_resource_config?"}, {"count": 1, "tags": [], "text": "Have you considered just using mod_macro, which was designed for precisely this use case?", "attachment_id": null, "id": 70418, "creator": "rici@ricilake.net", "time": "2005-02-02T22:34:43Z", "bug_id": 33366, "creation_time": "2005-02-02T22:34:43Z", "is_private": false}, {"count": 2, "tags": [], "text": "Sorry, I didn't know about it. BTW, that's at\nhttp://www.coelho.net/mod_macro/\n\nIMHO, the external utility approach is more convenient,\neasier to document, and allows using (say) @'s rather\nthan $'s to make regular expressions readable. However,\nsince mod_macro exists, it may decide to implement that\napproach as well.\n\nAt this point there is no hurry to fix it. Alternative\napproaches may consider embedding a full featured\nlanguage, support external GUIs, et cetera.", "attachment_id": null, "id": 70445, "creator": "vesely@tana.it", "time": "2005-02-03T09:43:49Z", "bug_id": 33366, "creation_time": "2005-02-03T09:43:49Z", "is_private": false}]