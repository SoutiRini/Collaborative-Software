[{"count": 0, "tags": [], "bug_id": 10066, "attachment_id": null, "text": "In the following SVG, clicking on the rectangles should produce the same result\nthan clicking on the text. It does for the green rectangle but not for the red\none.\n\n<?xml version=\"1.0\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 20010904//EN\"\n  \"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\">\n\n<svg width=\"350\" height=\"200\">\n\n  <script type=\"text/ecmascript\"> <![CDATA[\n\n    function scale(id) {\n\n        var box = document.getElementById(id);\n        var tf  = box.getAttribute(\"transform\");\n\n        if (tf == \"scale(1.0)\") box.setAttribute(\"transform\", \"scale(1.2)\");\n        else                    box.setAttribute(\"transform\", \"scale(1.0)\");\n    }\n\n    function removeChangeAdd(id) {\n        var box = document.getElementById(id);\n        var tf  = box.getAttribute(\"transform\");\n\n        var parent = box.getParentNode();\n        parent.removeChild(box);\n\n        box = box.cloneNode(true);\n\n        if (tf == \"scale(1.0)\") box.setAttribute(\"transform\", \"scale(1.2)\");\n        else                    box.setAttribute(\"transform\", \"scale(1.0)\");\n\n        parent.appendChild(box);\n    }\n\n  ]]> </script>\n\n\n  <defs>\n    <symbol id=\"Rect\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\">\n      <rect x=\"0\" y=\"0\" width=\"100\" height=\"100\"\n            style=\"stroke:yellow; fill:red\" />\n    </symbol>\n  </defs>\n\n\n  <use id=\"use\" xlink:href=\"#Rect\" x=\"20\" y=\"40\" width=\"100\" height=\"80\"\n       transform=\"scale(1.2)\" onclick=\"scale('use')\" />\n\n  <a onclick=\"removeChangeAdd('use')\">\n        <text x=\"80\" y=\"35\" text-anchor=\"middle\">Remove, modify, add</text>\n  </a>\n\n  <a onclick=\"removeChangeAdd('rect')\" transform=\"translate(160,0)\">\n        <text x=\"80\" y=\"35\" text-anchor=\"middle\">Remove, modify, add</text>\n  </a>\n\n  <rect id=\"rect\" x=\"150\" y=\"40\" width=\"100\" height=\"80\" transform=\"scale(1.2)\"\n        style=\"fill:green; stroke:yellow\" onclick=\"scale('rect')\" />\n\n\n  <text x=\"175\" y=\"190\" style=\"font-size:20pt; text-anchor:middle\">\n    Transform problem.\n  </text>\n\n</svg>", "id": 18200, "time": "2002-06-20T16:21:28Z", "creator": "vincent.hardy@sun.com", "creation_time": "2002-06-20T16:21:28Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 10066, "attachment_id": null, "is_private": false, "id": 18309, "time": "2002-06-21T14:22:26Z", "creator": "vincent.hardy@sun.com", "creation_time": "2002-06-21T14:22:26Z", "text": "See: \n\nhttp://cvs.apache.org/viewcvs.cgi/xml-batik/sources/org/apache/batik/bridge/SVG\nUseElementBridge.java?rev=1.25&content-type=text/vnd.viewcvs-markup\n\nand:\n\nhttp://cvs.apache.org/viewcvs.cgi/xml-batik/samples/tests/spec/scripting/use.sv\ng?rev=1.1&content-type=text/vnd.viewcvs-markup\n"}, {"count": 2, "tags": [], "bug_id": 10066, "attachment_id": null, "text": "See: \n\nhttp://cvs.apache.org/viewcvs.cgi/xml-batik/sources/org/apache/batik/bridge/SVG\nUseElementBridge.java?rev=1.25&content-type=text/vnd.viewcvs-markup\n\nand:\n\nhttp://cvs.apache.org/viewcvs.cgi/xml-batik/samples/tests/spec/scripting/use.sv\ng?rev=1.1&content-type=text/vnd.viewcvs-markup\n", "id": 18310, "time": "2002-06-21T14:22:47Z", "creator": "vincent.hardy@sun.com", "creation_time": "2002-06-21T14:22:47Z", "is_private": false}]