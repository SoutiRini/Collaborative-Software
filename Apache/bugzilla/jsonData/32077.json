[{"count": 0, "attachment_id": null, "bug_id": 32077, "text": "This patch, adds another method to LocalVariableTable that looks up a \nLocalVariable by index AND PC.\n\n-----------------\n\nIndex: src/java/org/apache/bcel/classfile/LocalVariableTable.java\n===================================================================\nRCS file: /home/cvspublic/jakarta-\nbcel/src/java/org/apache/bcel/classfile/LocalVariableTable.java,v\nretrieving revision 1.3\ndiff -u -r1.3 LocalVariableTable.java\n--- src/java/org/apache/bcel/classfile/LocalVariableTable.java\t23 May 2003 \n07:55:12 -0000\t1.3\n+++ src/java/org/apache/bcel/classfile/LocalVariableTable.java\t5 Nov 2004 \n05:39:25 -0000\n@@ -155,6 +155,19 @@\n     return null;\n   }\n \n+  /** @return matching variable using index when variable is used at supplied \npc\n+   */\n+  public final LocalVariable getLocalVariable(int index, int pc) {\n+    for(int i=0; i < local_variable_table_length; i++)\n+      if(local_variable_table[i].getIndex() == index) {\n+        int start_pc = local_variable_table[i].getStartPC();\n+        int end_pc = start_pc + local_variable_table[i].getLength();\n+\t      return local_variable_table[i];\n+\t  }\n+\n+    return null;\n+  }\n+  \n   public final void setLocalVariableTable(LocalVariable[] \nlocal_variable_table)\n   {\n     this.local_variable_table = local_variable_table;", "id": 66500, "time": "2004-11-05T05:45:04Z", "creator": "dbrosius@mebigfatguy.com", "creation_time": "2004-11-05T05:45:04Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "dbrosius@mebigfatguy.com", "attachment_id": 13335, "id": 66501, "time": "2004-11-05T05:49:47Z", "bug_id": 32077, "creation_time": "2004-11-05T05:49:47Z", "is_private": false, "text": "Created attachment 13335\nPatch to add getLocalVariable(int index, int pc) to LocalVariableTable"}, {"count": 2, "attachment_id": null, "bug_id": 32077, "text": "ACK! ignore the message body. Use the attachment. Sorry.", "id": 66502, "time": "2004-11-05T05:50:18Z", "creator": "dbrosius@mebigfatguy.com", "creation_time": "2004-11-05T05:50:18Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "dbrosius@mebigfatguy.com", "text": "Applied to SVN, thanks!", "id": 70730, "time": "2005-02-10T07:13:26Z", "bug_id": 32077, "creation_time": "2005-02-10T07:13:26Z", "is_private": false, "attachment_id": null}]