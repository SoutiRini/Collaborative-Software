[{"count": 0, "tags": [], "bug_id": 49468, "attachment_id": null, "is_private": false, "id": 137752, "time": "2010-06-19T11:19:19Z", "creator": "neil@JAMMConsulting.com", "creation_time": "2010-06-19T11:19:19Z", "text": "I have Tomcat 6.0.26 running behind Apache 2.2.3 using mod_jk 1.2.30.\n\nOccasionally, my application stops responding and I see these errors in the mod_jk log:\n\n[Fri Jun 18 15:30:17.614 2010] [394:47652193829632] [info]\najp_connection_tcp_get_message::jk_ajp_common.c (1230): (tomcat) can't\nreceive the response header message from tomcat, network problems or tomcat\n(127.0.0.1:8009) is down (errno=11)\n[Fri Jun 18 15:30:17.614 2010] [394:47652193829632] [error]\najp_get_reply::jk_ajp_common.c (2055): (tomcat) Tomcat is down or refused\nconnection. No response has been sent to the client (yet)\n[Fri Jun 18 15:30:17.614 2010] [394:47652193829632] [info]\najp_service::jk_ajp_common.c (2540): (tomcat) sending request to tomcat\nfailed (recoverable),  (attempt=1)\n[Fri Jun 18 15:31:19.711 2010] [394:47652193829632] [info]\najp_connection_tcp_get_message::jk_ajp_common.c (1230): (tomcat) can't\nreceive the response header message from tomcat, network problems or tomcat\n(127.0.0.1:8009) is down (errno=11)\n[Fri Jun 18 15:31:19.711 2010] [394:47652193829632] [error]\najp_get_reply::jk_ajp_common.c (2055): (tomcat) Tomcat is down or refused\nconnection. No response has been sent to the client (yet)\n[Fri Jun 18 15:31:19.711 2010] [394:47652193829632] [info]\najp_service::jk_ajp_common.c (2540): (tomcat) sending request to tomcat\nfailed (recoverable),  (attempt=2)\n[Fri Jun 18 15:31:19.711 2010] [394:47652193829632] [error]\najp_service::jk_ajp_common.c (2559): (tomcat) connecting to tomcat failed.\n[Fri Jun 18 15:31:19.711 2010] [394:47652193829632] [info]\njk_handler::mod_jk.c (2618): Service error=0 for worker=tomcat\n\nAccording to Rainer Jung, errno 11 is EAGAIN which should not be treated as an error."}, {"count": 1, "attachment_id": 25618, "creator": "neil@JAMMConsulting.com", "is_private": false, "id": 137753, "time": "2010-06-19T11:21:37Z", "bug_id": 49468, "creation_time": "2010-06-19T11:21:37Z", "tags": [], "text": "Created attachment 25618\nworkers properties file"}, {"count": 2, "text": "Can you remove the socket_timeout from the worker configuration? It should fix the problem.\n\nInstead use socket_connect_timeout and activate cping/cpong with appropriate timeouts. See for instance the example configuration that is part of the mod_jk source download.\n\n*** This bug has been marked as a duplicate of bug 48191 ***", "bug_id": 49468, "attachment_id": null, "id": 137769, "time": "2010-06-20T07:17:10Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2010-06-20T07:17:10Z", "tags": [], "is_private": false}]