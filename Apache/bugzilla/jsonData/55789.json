[{"count": 0, "attachment_id": null, "creator": "dclarke@blastwave.org", "text": "On Solaris 10 SPARC thus : \n\nnode002$ cat /etc/release \n                   Oracle Solaris 10 8/11 s10s_u10wos_17b SPARC\n  Copyright (c) 1983, 2011, Oracle and/or its affiliates. All rights reserved.\n                            Assembled 23 August 2011\nnode002$ psrinfo -pv\nThe physical processor has 64 virtual processors (0-63)\n  UltraSPARC-T2+ (chipid 0, clock 1582 MHz)\nThe physical processor has 64 virtual processors (64-127)\n  UltraSPARC-T2+ (chipid 1, clock 1582 MHz)\n\nUsing Oracle Studio 12.3 compiler tools thus : \n\nnode002$ which cc\n/opt/solarisstudio12.3/bin/cc\nnode002$ cc -V\ncc: Sun C 5.12 SunOS_sparc 2011/11/16\n\n\nConfigure is fine thus : \n\n\n./configure --prefix=/usr/local --sysconfdir=/usr/local/www/conf \\\n--localstatedir=/usr/local/www/var --datadir=/usr/local/www/data \\\n--htmldir=/usr/local/www/docs --with-crypto --enable-auth-digest \\\n--enable-so --enable-ratelimit --enable-include --enable-logio \\\n--enable-expires --enable-ident --enable-usertrack --enable-unique-id \\\n--enable-ssl --enable-privileges --enable-dav --enable-info \\\n--enable-suexec --enable-cgid --enable-negotiation --enable-imagemap \\\n--enable-rewrite --with-ssl=/usr/local/ssl --enable-authn-dbd \\\n--enable-auth-form --enable-auth-digest --enable-data --enable-ratelimit \\\n--enable-include --enable-deflate --enable-log-debug --enable-log-forensic \\\n--enable-session --enable-session-cookie --enable-session-crypto \\\n--enable-unixd --enable-privileges --with-pcre=/usr/local \\\n--with-z=/usr/local --with-libxml2=/usr/local\n\n\nShortly into the compile the following occurs : \n\n.\n.\n.\n\"exports.c\", line 445: error: undefined symbol: ap_condition_if_match\n\"exports.c\", line 445: error: non-constant initializer involving a cast\n\"exports.c\", line 446: error: undefined symbol: ap_condition_if_unmodified_since\n\"exports.c\", line 446: error: non-constant initializer involving a cast\n\"exports.c\", line 447: error: undefined symbol: ap_condition_if_none_match\n\"exports.c\", line 447: error: non-constant initializer involving a cast\n\"exports.c\", line 448: error: undefined symbol: ap_condition_if_modified_since\n\"exports.c\", line 448: error: non-constant initializer involving a cast\n\"exports.c\", line 449: error: undefined symbol: ap_condition_if_range\n\"exports.c\", line 449: error: non-constant initializer involving a cast\n\"exports.c\", line 576: error: undefined symbol: ap_hook_post_perdir_config\n\"exports.c\", line 576: error: non-constant initializer involving a cast\n\"exports.c\", line 577: error: undefined symbol: ap_hook_get_post_perdir_config\n\"exports.c\", line 577: error: non-constant initializer involving a cast\n\"exports.c\", line 578: error: undefined symbol: ap_run_post_perdir_config\n\"exports.c\", line 578: error: non-constant initializer involving a cast\n\"exports.c\", line 579: error: undefined symbol: ap_hook_dirwalk_stat\n\"exports.c\", line 579: error: non-constant initializer involving a cast\n\"exports.c\", line 580: error: undefined symbol: ap_hook_get_dirwalk_stat\n\"exports.c\", line 580: error: non-constant initializer involving a cast\n\"exports.c\", line 581: error: undefined symbol: ap_run_dirwalk_stat\n\"exports.c\", line 581: error: non-constant initializer involving a cast\n\"exports.c\", line 626: error: undefined symbol: ap_find_etag_weak\n\"exports.c\", line 626: error: non-constant initializer involving a cast\n\"exports.c\", line 627: error: undefined symbol: ap_find_etag_strong\n\"exports.c\", line 627: error: non-constant initializer involving a cast\n\"exports.c\", line 695: error: undefined symbol: ap_get_exec_line\n\"exports.c\", line 695: error: non-constant initializer involving a cast\n\"exports.c\", line 801: error: undefined symbol: ap_remove_input_filter_byhandle\n\"exports.c\", line 801: error: non-constant initializer involving a cast\n\"exports.c\", line 802: error: undefined symbol: ap_remove_output_filter_byhandle\n\"exports.c\", line 802: error: non-constant initializer involving a cast\ncc: acomp failed for exports.c\n\n\nThe only source files which refer to ap_condition_if_match are : \n\n    modules/cache/cache_storage.c\n    modules/http/http_protocol.c\n\nand of course server/exports.c\n\nThe function seems to be defined in line 309 of modules/http/http_protocol.c thus :\n\n\nAP_DECLARE(ap_condition_e) ap_condition_if_match(request_rec *r,\n        apr_table_t *headers)\n{\n    const char *if_match, *etag;\n\n    /* A server MUST use the strong comparison function (see section 13.3.3)\n     * to compare the entity tags in If-Match.\n     */\n    if ((if_match = apr_table_get(r->headers_in, \"If-Match\")) != NULL) {\n        if (if_match[0] == '*'\n                || ((etag = apr_table_get(headers, \"ETag\")) == NULL\n                        && !ap_find_etag_strong(r->pool, if_match, etag))) {\n            return AP_CONDITION_STRONG;\n        }\n        else {\n            return AP_CONDITION_NOMATCH;\n        }\n    }\n\n    return AP_CONDITION_NONE;\n}\n\n\nThere seems to be no header file which has the function prototype.  Perhaps this is a configure/autoconf/automake error ? \n\nDennis Clarke\ndclarke@blastwave.org", "id": 171274, "time": "2013-11-17T07:01:49Z", "bug_id": 55789, "creation_time": "2013-11-17T07:01:49Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "text": "Hello Dennis,\n\nI don't have access to a Solaris system,\nbut on my Linux system ap_condition_if_match() is prototyped in include/http_protocol.h.\n\nDoes your server/exports.c have an include for http_protocol.h?\n\nThanks,\n\nMike Rumph", "attachment_id": null, "bug_id": 55789, "id": 171289, "time": "2013-11-18T16:16:46Z", "creator": "mike.rumph@oracle.com", "creation_time": "2013-11-18T16:16:46Z", "is_private": false}, {"count": 2, "tags": [], "creator": "dclarke@blastwave.org", "attachment_id": null, "id": 171302, "time": "2013-11-19T00:20:03Z", "bug_id": 55789, "creation_time": "2013-11-19T00:20:03Z", "is_private": false, "text": "Therein lay the problem, not many people have access to Solaris servers \nanymore and Oracle has done a fine job of making life miserable to anyone\nthat want to keep open source software running up to date.  Or port work\netc etc.  \n\nSo let's stay focused on this problem for now. \n\nYes, I have this : \n\nnode002$ pwd\n/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001\n\nnode002$ find . -type f -name http_protocol.h \n./include/http_protocol.h\n\nnode002$ grep \"ap_condition_if_match\" ./include/http_protocol.h\nAP_DECLARE(ap_condition_e) ap_condition_if_match(request_rec *r,\n\nnode002$ ls -lap server/exports.c\n-rw-r--r--   1 dclarke  adbs      113880 Nov 17 06:29 server/exports.c\n\nnode002$ grep http_protocol server/exports.c\n#include \"http_protocol.h\"\n * /usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/include/http_protocol.h\n\nSo there we see yes I have the #include and yes the http_protocol.h has\nthe function prototype. \n\nThis raises the question, what changed from 2.4.4 to 2.4.6 ?  There was no\nrelease of 2.4.5 so let's not look there.  I was perfectly able to build 2.4.4\nand I have it running for quite a while wonderfully well as a 64-bit Sparc \nbinary on Solaris 10.   The following is from http://myserver.com/server-info :\n\n\nServer Settings\n\nServer Version: Apache/2.4.4 (Unix) OpenSSL/1.0.1e PHP/5.4.22\nServer Built: Feb 28 2013 10:46:58\nServer loaded APR Version: 1.4.8\nCompiled with APR Version: 1.4.6\nServer loaded APU Version: 1.5.2\nCompiled with APU Version: 1.5.1\nModule Magic Number: 20120211:11\nHostname/port: node002.mytld.com:443\nTimeouts: connection: 300    keep-alive: 15\nMPM Name: event\nMPM Information: Max Daemons: 2 Threaded: yes Forked: yes\nServer Architecture: 64-bit\nServer Root: /usr/local\nConfig File: /usr/local/www/conf/httpd.conf\nServer Built With: -D APR_HAS_SENDFILE -D APR_HAS_MMAP \n-D APR_USE_PROC_PTHREAD_SERIALIZE -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT \n-D APR_HAS_OTHER_CHILD -D AP_HAVE_RELIABLE_PIPED_LOGS \n-D HTTPD_ROOT=\"/usr/local\" \n-D SUEXEC_BIN=\"/usr/local/bin/suexec\" \n-D DEFAULT_PIDLOG=\"www/var/logs/httpd.pid\" \n-D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\" \n-D DEFAULT_ERRORLOG=\"logs/error_log\" -D AP_TYPES_CONFIG_FILE=\"www/conf/mime.types\" \n-D SERVER_CONFIG_FILE=\"www/conf/httpd.conf\" \n\n\nSo this is a great build and I have piles of production sites running with\nit.  I used the exact same build server, the same build environment and \nsaw the problem I posted here.  \n\nThis feels as if there is a GNU C extension that has crept into place and \nperhaps the new codebase for 2.4.6 can only be built with GCC ? \n\nI hope that is not the case or a lot of patches will happen to get this back\nto fully cross platform. \n\nIn any case I am at a bit of a loss and need to keep digging.\n\nDennis"}, {"count": 3, "tags": [], "bug_id": 55789, "attachment_id": null, "text": "Dennis, I wonder if the problem is that the /usr/local/include directory is getting searched before the 2.4.6 source directory and the exports generation and compilation is mismatched (old .h files included when exports.c is compiled, new .h files scanned when exports.c was generated).  At least some of the symbols with the problem were added after 2.4.4.", "id": 171303, "time": "2013-11-19T00:29:07Z", "creator": "trawick@apache.org", "creation_time": "2013-11-19T00:29:07Z", "is_private": false}, {"count": 4, "tags": [], "text": "\nYou Sir are brilliant !  It must be that.  I would not have thought that I \ncould not have an Apache 2.4.4 server installed and running on the same \nserver where I do my builds and package work. Okay .. let's see the real\nissue here is these diffs : \n\nnode002-sparc-SunOS5.10 # diff /usr/local/include/http_protocol.h \\\n> /usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/include/http_protocol.h \n169a170,176\n> typedef enum {\n>     AP_CONDITION_NONE,\n>     AP_CONDITION_NOMATCH,\n>     AP_CONDITION_WEAK,\n>     AP_CONDITION_STRONG\n> } ap_condition_e;\n> \n170a178,236\n>  * Tests conditional request rules for the If-Match header.\n>  * @param r The current request\n>  * @param headers The response headers to check against\n>  * @return AP_CONDITION_NONE if the header is missing, AP_CONDITION_NOMATCH\n>  *         if the header does not match, AP_CONDITION_STRONG for a strong\n>  *         match. Weak matches are not permitted for the If-Match header.\n>  */\n> AP_DECLARE(ap_condition_e) ap_condition_if_match(request_rec *r,\n>         apr_table_t *headers);\n> \n> /**\n>  * Tests conditional request rules for the If-Unmodified-Since header.\n>  * @param r The current request\n>  * @param headers The response headers to check against\n>  * @return AP_CONDITION_NONE if the header is missing, AP_CONDITION_NOMATCH\n>  *         if the header does not match, AP_CONDITION_WEAK if a weak match\n>  *         was present and allowed by RFC2616, AP_CONDITION_STRONG for a\n>  *         strong match.\n>  */\n> AP_DECLARE(ap_condition_e) ap_condition_if_unmodified_since(request_rec *r,\n>         apr_table_t *headers);\n> \n> /**\n>  * Tests conditional request rules for the If-None-Match header.\n>  * @param r The current request\n>  * @param headers The response headers to check against\n>  * @return AP_CONDITION_NONE if the header is missing, AP_CONDITION_NOMATCH\n>  *         if the header does not match, AP_CONDITION_WEAK if a weak match\n>  *         was present and allowed by RFC2616, AP_CONDITION_STRONG for a\n>  *         strong match.\n>  */\n> AP_DECLARE(ap_condition_e) ap_condition_if_none_match(request_rec *r,\n>         apr_table_t *headers);\n> \n> /**\n>  * Tests conditional request rules for the If-Modified-Since header.\n>  * @param r The current request\n>  * @param headers The response headers to check against\n>  * @return AP_CONDITION_NONE if the header is missing, AP_CONDITION_NOMATCH\n>  *         if the header does not match, AP_CONDITION_WEAK if a weak match\n>  *         was present and allowed by RFC2616, AP_CONDITION_STRONG for a\n>  *         strong match.\n>  */\n> AP_DECLARE(ap_condition_e) ap_condition_if_modified_since(request_rec *r,\n>         apr_table_t *headers);\n> \n> /**\n>  * Tests conditional request rules for the If-Range header.\n>  * @param r The current request\n>  * @param headers The response headers to check against\n>  * @return AP_CONDITION_NONE if either the If-Range or Range header is\n>  *         missing, AP_CONDITION_NOMATCH if the header does not match,\n>  *         AP_CONDITION_STRONG for a strong match. Weak matches are not\n>  *         permitted for the If-Range header.\n>  */\n> AP_DECLARE(ap_condition_e) ap_condition_if_range(request_rec *r,\n>         apr_table_t *headers);\n> \n> /**\n\nWell that looks to be the issue right there. \n\nI will make a backup of the existing http_protocol.h in /usr/local and slide\nit to one side and re-run the build. \n\nThis is obscene but I will show you what I am doing : \n\nnode002$ ls -lad /usr/local/include/http_protocol.*\n-rw-r--r--   1 dclarke  adbs       24522 Feb 28  2013 /usr/local/include/http_protocol.h\n \nnode002$ cp -p /usr/local/include/http_protocol.h /usr/local/include/http_protocol.h_2.4.4\n\nnode002$ rm /usr/local/include/http_protocol.h\n\nThis should not be needed however I will do this to be super safe :\n\nnode002$ cp -p include/http_protocol.h /usr/local/include/http_protocol.h\n\nWell things progress for exactly two seconds :\n\nnode002$ gmake \nMaking all in srclib\ngmake[1]: Entering directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/srclib'\ngmake[1]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/srclib'\nMaking all in os\ngmake[1]: Entering directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/os'\nMaking all in unix\ngmake[2]: Entering directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/os/unix'\ngmake[3]: Entering directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/os/unix'\ngmake[3]: Nothing to be done for `local-all'.\ngmake[3]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/os/unix'\ngmake[2]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/os/unix'\ngmake[1]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/os'\nMaking all in server\ngmake[1]: Entering directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/server'\nMaking all in mpm\ngmake[2]: Entering directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/server/mpm'\nMaking all in event\ngmake[3]: Entering directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/server/mpm/event'\ngmake[4]: Entering directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/server/mpm/event'\ngmake[4]: Nothing to be done for `local-all'.\ngmake[4]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/server/mpm/event'\ngmake[3]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/server/mpm/event'\ngmake[2]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/server/mpm'\ngmake[2]: Entering directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/server'\n/usr/local/build-1/libtool --silent --mode=compile /opt/solarisstudio12.3/bin/cc -D_STDC_C99=    -errfmt=error -erroff=%none -errshort=full -xstrconst -xildoff -m64 -xmemalign=8s -xnolibmil -Xa -xcode=pic32 -xregs=no%appl -xlibmieee -mc -g -xs -ftrap=%none -Qy -xbuiltin=%none -xdebugformat=dwarf -xunroll=1 -xtarget=ultraT2 -xcache=8/16/4:4096/64/16 -D_TS_ERRNO -D_POSIX_PTHREAD_SEMANTICS -D_LARGEFILE64_SOURCE    -DSOLARIS2=10 -D_REENTRANT  -I/usr/local/include -I/usr/local/ssl/include -D_TS_ERRNO -D_POSIX_PTHREAD_SEMANTICS -D_LARGEFILE64_SOURCE   -I. -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/os/unix -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/include -I/usr/local/include/apr-1 -I/usr/local/ssl/include -I/usr/local/include -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/aaa -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/cache -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/core -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/database -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/filters -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/ldap -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/server -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/loggers -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/lua -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/proxy -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/session -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/ssl -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/test -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/server -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/arch/unix -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/dav/main -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/generators -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/modules/mappers  -prefer-non-pic -static -c exports.c && touch exports.lo\n\"exports.c\", line 576: error: undefined symbol: ap_hook_post_perdir_config\n\"exports.c\", line 576: error: non-constant initializer involving a cast\n\"exports.c\", line 577: error: undefined symbol: ap_hook_get_post_perdir_config\n\"exports.c\", line 577: error: non-constant initializer involving a cast\n\"exports.c\", line 578: error: undefined symbol: ap_run_post_perdir_config\n\"exports.c\", line 578: error: non-constant initializer involving a cast\n\"exports.c\", line 579: error: undefined symbol: ap_hook_dirwalk_stat\n\"exports.c\", line 579: error: non-constant initializer involving a cast\n\"exports.c\", line 580: error: undefined symbol: ap_hook_get_dirwalk_stat\n\"exports.c\", line 580: error: non-constant initializer involving a cast\n\"exports.c\", line 581: error: undefined symbol: ap_run_dirwalk_stat\n\"exports.c\", line 581: error: non-constant initializer involving a cast\n\"exports.c\", line 626: error: undefined symbol: ap_find_etag_weak\n\"exports.c\", line 626: error: non-constant initializer involving a cast\n\"exports.c\", line 627: error: undefined symbol: ap_find_etag_strong\n\"exports.c\", line 627: error: non-constant initializer involving a cast\n\"exports.c\", line 695: error: undefined symbol: ap_get_exec_line\n\"exports.c\", line 695: error: non-constant initializer involving a cast\n\"exports.c\", line 801: error: undefined symbol: ap_remove_input_filter_byhandle\n\"exports.c\", line 801: error: non-constant initializer involving a cast\n\"exports.c\", line 802: error: undefined symbol: ap_remove_output_filter_byhandle\n\"exports.c\", line 802: error: non-constant initializer involving a cast\ncc: acomp failed for exports.c\ngmake[2]: *** [exports.lo] Error 1\ngmake[2]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/server'\ngmake[1]: *** [all-recursive] Error 1\ngmake[1]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.001/server'\ngmake: *** [all-recursive] Error 1\nnode002$ \n\n\nThere may be other headers I need to go look into in the /usr/local/include \nand I will find them, back them up and then let you know. \n\nExcellent catch ! \n\nDennis", "attachment_id": null, "bug_id": 55789, "id": 171318, "time": "2013-11-19T19:36:08Z", "creator": "dclarke@blastwave.org", "creation_time": "2013-11-19T19:36:08Z", "is_private": false}, {"count": 5, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "id": 171319, "time": "2013-11-19T20:00:06Z", "bug_id": 55789, "creation_time": "2013-11-19T20:00:06Z", "is_private": false, "text": "I think httpd's configure must have a place where it sticks the include directory for some support library (e.g., PCRE's include directory /usr/local/include, from your \"--with-pcre=/usr/local\" configure option) in front of the include directories in the httpd source tree.  That needs to be fixed.  But copying the magic set of .h files to /usr/local/include much earlier than \"make install\" should let it build."}, {"count": 6, "tags": [], "bug_id": 55789, "attachment_id": null, "text": "I have extracted the sources from the 2.4.6 release tarball and am now\nvery sure that http_protocol.h is correctly in /usr/local/include\nas well as in $MY_BUILD_DIR/include and after this configure : \n\n\nnode002$ ./configure --prefix=/usr/local --sysconfdir=/usr/local/www/conf \\\n> --localstatedir=/usr/local/www/var --datadir=/usr/local/www/data \\\n> --htmldir=/usr/local/www/docs --with-crypto --enable-auth-digest \\\n> --enable-so --enable-ratelimit --enable-include --enable-logio \\\n> --enable-expires --enable-ident --enable-usertrack --enable-unique-id \\\n> --enable-ssl --enable-privileges --enable-dav --enable-info \\\n> --enable-suexec --enable-cgid --enable-negotiation --enable-imagemap \\\n> --enable-rewrite --with-ssl=/usr/local/ssl --enable-authn-dbd \\\n> --enable-auth-form --enable-auth-digest --enable-data --enable-ratelimit \\\n> --enable-include --enable-deflate --enable-log-debug --enable-log-forensic \\\n> --enable-session --enable-session-cookie --enable-session-crypto \\\n> --enable-unixd --enable-privileges --with-pcre=/usr/local \\\n> --with-z=/usr/local --with-libxml2=/usr/local\nchecking for chosen layout... Apache\nchecking for working mkdir -p... yes\nchecking for grep that handles long lines and -e... /usr/xpg4/bin/grep\nchecking for egrep... /usr/xpg4/bin/grep -E\nchecking build system type... sparc-sun-solaris2.10\nchecking host system type... sparc-sun-solaris2.10\nchecking target system type... sparc-sun-solaris2.10\nconfigure: \nconfigure: Configuring Apache Portable Runtime library...\nconfigure: \nchecking for APR... yes\n  setting CPP to \"/opt/solarisstudio12.3/bin/cc -E\"\n  adding \"-DSOLARIS2=10\" to CPPFLAGS\n  adding \"-D_REENTRANT\" to CPPFLAGS\n  setting LDFLAGS to \" \"\nconfigure: \nconfigure: Configuring Apache Portable Runtime Utility library...\nconfigure: \nchecking for APR-util... yes\n  adding \"-L/usr/local/ssl/lib\" to LDFLAGS\n  adding \"-L/usr/local/lib\" to LDFLAGS\nchecking for gcc... /opt/solarisstudio12.3/bin/cc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... no\nchecking whether /opt/solarisstudio12.3/bin/cc accepts -g... yes\nchecking for /opt/solarisstudio12.3/bin/cc option to accept ISO C89... none needed\nchecking how to run the C preprocessor... /opt/solarisstudio12.3/bin/cc -E\nchecking for /opt/solarisstudio12.3/bin/cc option to accept ISO C99... -D_STDC_C99=\nchecking for pcre-config... /usr/local/bin/pcre-config\nconfigure: Using external PCRE library from /usr/local/bin/pcre-config\n  setting PCRE_INCLUDES to \"-I/usr/local/include\"\n  setting PCRE_LIBS to \"-L/usr/local/lib -R/usr/local/lib -lpcre\"\nconfigure: \nconfigure: Configuring Apache httpd...\nconfigure: \n  setting INCLUDES to \"-I.\"\n  adding \"-I$(top_srcdir)/os/$(OS_DIR)\" to INCLUDES\n  adding \"-I$(top_srcdir)/include\" to INCLUDES\n  adding \"-I/usr/local/include/apr-1\" to INCLUDES\n  adding \"-I/usr/local/ssl/include\" to INCLUDES\n  adding \"-I/usr/local/include\" to INCLUDES\nconfigure: \nconfigure: Applying OS-specific hints for httpd...\nconfigure: \n  forcing SINGLE_LISTEN_UNSERIALIZED_ACCEPT to \"1\"\n  forcing AP_NONBLOCK_WHEN_MULTI_LISTEN to \"1\"\nchecking for rm... /usr/xpg4/bin/rm\nchecking for pkg-config... /usr/bin/pkg-config\nchecking for rsync... no\nchecking for gawk... gawk\nchecking whether ln -s works... yes\nchecking for ranlib... ranlib\nchecking for lynx... no\nchecking for links... no\nchecking for elinks... no\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for unistd.h... yes\nchecking minix/config.h usability... no\nchecking minix/config.h presence... no\nchecking for minix/config.h... no\nchecking whether it is safe to define __EXTENSIONS__... yes\nchecking for library containing strerror... none required\nchecking for APR version 1.3.0 or later... yes\nchecking for APR-util version 1.3.0 or later... yes\nchecking if /opt/solarisstudio12.3/bin/cc -D_STDC_C99= -MM can create proper make dependencies... no\nchecking if /opt/solarisstudio12.3/bin/cc -D_STDC_C99= -M can create proper make dependencies... no\nchecking if /opt/solarisstudio12.3/bin/cc -E -MM can create proper make dependencies... no\nchecking if /opt/solarisstudio12.3/bin/cc -E -M can create proper make dependencies... no\nchecking if cpp -M can create proper make dependencies... no\nchecking for ANSI C header files... (cached) yes\nchecking for string.h... (cached) yes\nchecking limits.h usability... yes\nchecking limits.h presence... yes\nchecking for limits.h... yes\nchecking for unistd.h... (cached) yes\nchecking sys/socket.h usability... yes\nchecking sys/socket.h presence... yes\nchecking for sys/socket.h... yes\nchecking pwd.h usability... yes\nchecking pwd.h presence... yes\nchecking for pwd.h... yes\nchecking grp.h usability... yes\nchecking grp.h presence... yes\nchecking for grp.h... yes\nchecking for strings.h... (cached) yes\nchecking sys/prctl.h usability... no\nchecking sys/prctl.h presence... no\nchecking for sys/prctl.h... no\nchecking sys/processor.h usability... yes\nchecking sys/processor.h presence... yes\nchecking for sys/processor.h... yes\nchecking sys/sem.h usability... yes\nchecking sys/sem.h presence... yes\nchecking for sys/sem.h... yes\nchecking sys/sdt.h usability... yes\nchecking sys/sdt.h presence... yes\nchecking for sys/sdt.h... yes\nchecking sys/loadavg.h usability... yes\nchecking sys/loadavg.h presence... yes\nchecking for sys/loadavg.h... yes\nchecking for sys/wait.h that is POSIX.1 compatible... yes\nchecking for an ANSI C-conforming const... yes\nchecking for library containing sqrt... -lm\nchecking for library containing crypt... none required\nchecking for getpwnam... yes\nchecking for getgrnam... yes\nchecking for initgroups... yes\nchecking for bindprocessor... no\nchecking for prctl... no\nchecking for timegm... no\nchecking for getpgid... yes\nchecking for fopen64... no\nchecking for getloadavg... yes\nchecking for void pointer length... no\nchecking for gettid()... no\nchecking for tm_gmtoff in struct tm... no\nchecking whether to enable mod_authn_file... shared\nchecking whether to enable mod_authn_dbm... shared (most)\nchecking whether to enable mod_authn_anon... shared (most)\nchecking whether to enable mod_authn_dbd... shared\nchecking whether to enable mod_authn_socache... shared (most)\nchecking whether to enable mod_authn_core... shared\nchecking whether to enable mod_authz_host... shared\nchecking whether to enable mod_authz_groupfile... shared\nchecking whether to enable mod_authz_user... shared\nchecking whether to enable mod_authz_dbm... shared (most)\nchecking whether to enable mod_authz_owner... shared (most)\nchecking whether to enable mod_authz_dbd... shared (most)\nchecking whether to enable mod_authz_core... shared\nchecking whether to enable mod_authnz_ldap... checking dependencies\nchecking for ldap support in apr/apr-util... no\nconfigure: WARNING: apr/apr-util is compiled without ldap support\nchecking whether to enable mod_authnz_ldap... no (disabled)\nchecking whether to enable mod_access_compat... shared\nchecking whether to enable mod_auth_basic... shared\nchecking whether to enable mod_auth_form... shared\nchecking whether to enable mod_auth_digest... checking dependencies\nchecking whether to enable mod_auth_digest... shared\nchecking whether to enable mod_allowmethods... shared (most)\n  adding \"-I$(top_srcdir)/modules/aaa\" to INCLUDES\nchecking whether to enable mod_isapi... no\nchecking whether to enable mod_file_cache... shared (most)\nchecking whether to enable mod_cache... shared (most)\nchecking whether to enable mod_cache_disk... checking dependencies\nchecking whether to enable mod_cache_disk... shared (most)\nchecking whether to enable mod_cache_socache... shared (most)\nchecking whether to enable mod_socache_shmcb... shared (most)\nchecking whether to enable mod_socache_dbm... shared (most)\nchecking whether to enable mod_socache_memcache... shared (most)\nchecking whether to enable mod_socache_dc... no\n  adding \"-I$(top_srcdir)/modules/cache\" to INCLUDES\n  setting HTTPD_LDFLAGS to \"-export-dynamic\"\nchecking whether to enable mod_so... static\n  setting AP_LIBS to \"$(MOD_SO_LDADD)\"\nchecking whether to enable mod_watchdog... no\nchecking whether to enable mod_macro... shared (most)\n  adding \"-I$(top_srcdir)/modules/core\" to INCLUDES\nchecking whether to enable mod_dbd... shared (most)\n  adding \"-I$(top_srcdir)/modules/database\" to INCLUDES\nchecking whether to enable mod_bucketeer... no\nchecking whether to enable mod_dumpio... shared (most)\nchecking whether to enable mod_echo... no\nchecking whether to enable mod_example_hooks... no\nchecking whether to enable mod_case_filter... no\nchecking whether to enable mod_case_filter_in... no\nchecking whether to enable mod_example_ipc... no\nchecking whether to enable mod_buffer... shared (most)\nchecking whether to enable mod_data... shared\nchecking whether to enable mod_ratelimit... shared\nchecking whether to enable mod_reqtimeout... shared\nchecking whether to enable mod_ext_filter... shared (most)\nchecking whether to enable mod_request... shared (most)\nchecking whether to enable mod_include... shared\nchecking whether to enable mod_filter... shared\nchecking whether to enable mod_reflector... no\nchecking whether to enable mod_substitute... shared (most)\nchecking whether to enable mod_sed... checking dependencies\n  setting MOD_SED_LDADD to \"-export-symbols-regex sed_module\"\nchecking whether to enable mod_sed... shared (most)\nchecking whether to enable mod_charset_lite... no\nchecking whether to enable mod_deflate... checking dependencies\n  setting MOD_INCLUDES to \"-I/usr/local/include\"\n  setting ap_zlib_ldflags to \"-L/usr/local/lib\"\n  adding \"-R/usr/local/lib\" to LDFLAGS\n  adding \"-R/usr/local/lib\" to ap_zlib_ldflags\n  setting LIBS to \"-lz\"\nchecking for zlib library... found\n  setting MOD_DEFLATE_LDADD to \"-L/usr/local/lib -R/usr/local/lib -lz\"\n  nulling LIBS\nchecking whether to enable mod_deflate... shared\nchecking whether to enable mod_xml2enc... no\nchecking whether to enable mod_proxy_html... no\n  adding \"-I$(top_srcdir)/modules/filters\" to INCLUDES\nchecking whether to enable mod_http... static\n  adding \"$(MOD_HTTP_LDADD)\" to AP_LIBS\nchecking whether to enable mod_mime... shared\nchecking whether to enable mod_ldap... checking dependencies\nchecking for ldap support in apr/apr-util... (cached) no\nconfigure: WARNING: apr/apr-util is compiled without ldap support\nchecking whether to enable mod_ldap... no (disabled)\n  adding \"-I$(top_srcdir)/modules/ldap\" to INCLUDES\nchecking whether to enable mod_log_config... shared\nchecking whether to enable mod_log_debug... shared\nchecking whether to enable mod_log_forensic... shared\n  adding \"-I$(top_builddir)/server\" to INCLUDES\nchecking whether to enable mod_logio... shared\n  adding \"-I$(top_srcdir)/modules/loggers\" to INCLUDES\nchecking whether to enable mod_lua... no\n  adding \"-I$(top_srcdir)/modules/lua\" to INCLUDES\nchecking whether to enable mod_env... shared\nchecking whether to enable mod_mime_magic... no\nchecking whether to enable mod_cern_meta... no\nchecking whether to enable mod_expires... shared\nchecking whether to enable mod_headers... shared\nchecking whether to enable mod_ident... shared\nchecking whether to enable mod_usertrack... checking dependencies\nchecking sys/times.h usability... yes\nchecking sys/times.h presence... yes\nchecking for sys/times.h... yes\nchecking for times... yes\nchecking whether to enable mod_usertrack... shared\nchecking whether to enable mod_unique_id... shared\nchecking whether to enable mod_setenvif... shared\nchecking whether to enable mod_version... shared\nchecking whether to enable mod_remoteip... shared (most)\nchecking whether to enable mod_proxy... shared (most)\nchecking whether to enable mod_proxy_connect... checking dependencies\nchecking whether to enable mod_proxy_connect... shared (most)\nchecking whether to enable mod_proxy_ftp... checking dependencies\nchecking whether to enable mod_proxy_ftp... shared (most)\nchecking whether to enable mod_proxy_http... checking dependencies\nchecking whether to enable mod_proxy_http... shared (most)\nchecking whether to enable mod_proxy_fcgi... checking dependencies\nchecking whether to enable mod_proxy_fcgi... shared (most)\nchecking whether to enable mod_proxy_scgi... checking dependencies\nchecking whether to enable mod_proxy_scgi... shared (most)\nchecking whether to enable mod_proxy_fdpass... no\nchecking whether to enable mod_proxy_wstunnel... checking dependencies\nchecking whether to enable mod_proxy_wstunnel... shared (most)\nchecking whether to enable mod_proxy_ajp... checking dependencies\nchecking whether to enable mod_proxy_ajp... shared (most)\nchecking whether to enable mod_proxy_balancer... checking dependencies\nchecking whether to enable mod_proxy_balancer... shared (most)\nchecking whether to enable mod_proxy_express... checking dependencies\nchecking whether to enable mod_proxy_express... shared (most)\n  adding \"-I$(top_srcdir)/modules/proxy\" to INCLUDES\nchecking whether to enable mod_session... shared\nchecking whether to enable mod_session_cookie... checking dependencies\nchecking whether to enable mod_session_cookie... shared\nchecking whether to enable mod_session_crypto... checking dependencies\nchecking whether to enable mod_session_crypto... shared\nchecking whether to enable mod_session_dbd... checking dependencies\nchecking whether to enable mod_session_dbd... shared\n  adding \"-I$(top_srcdir)/modules/session\" to INCLUDES\nchecking whether to enable mod_slotmem_shm... shared (most)\nchecking whether to enable mod_slotmem_plain... no\nchecking whether to enable mod_ssl... checking dependencies\nchecking for OpenSSL... checking for user-provided OpenSSL base directory... /usr/local/ssl\n  setting MOD_CFLAGS to \"-I/usr/local/ssl/include  \"\n  setting ab_CFLAGS to \"-I/usr/local/ssl/include  \"\n  setting MOD_LDFLAGS to \"-L/usr/local/ssl/lib  \"\nchecking for OpenSSL version >= 0.9.7... OK\n  adding \"-lssl\" to MOD_LDFLAGS\n  adding \"-lcrypto\" to MOD_LDFLAGS\n  adding \"-lresolv\" to MOD_LDFLAGS\n  adding \"-luuid\" to MOD_LDFLAGS\n  adding \"-lsendfile\" to MOD_LDFLAGS\n  adding \"-lrt\" to MOD_LDFLAGS\n  adding \"-lsocket\" to MOD_LDFLAGS\n  adding \"-lnsl\" to MOD_LDFLAGS\n  adding \"-lpthread\" to MOD_LDFLAGS\n  setting LIBS to \"-lssl -lcrypto    -lresolv -luuid -lsendfile -lrt -lsocket -lnsl  -lpthread\"\n  forcing ab_LDFLAGS to \"-L/usr/local/ssl/lib   -lssl -lcrypto -lresolv -luuid -lsendfile -lrt -lsocket -lnsl -lpthread\"\nchecking openssl/engine.h usability... yes\nchecking openssl/engine.h presence... yes\nchecking for openssl/engine.h... yes\nchecking for SSLeay_version... yes\nchecking for SSL_CTX_new... yes\nchecking for ENGINE_init... yes\nchecking for ENGINE_load_builtin_engines... yes\nyes\n  setting MOD_SSL_LDADD to \"-export-symbols-regex ssl_module\"\nchecking whether to enable mod_ssl... shared\n  adding \"-I$(top_srcdir)/modules/ssl\" to INCLUDES\nchecking whether to enable mod_optional_hook_export... no\nchecking whether to enable mod_optional_hook_import... no\nchecking whether to enable mod_optional_fn_import... no\nchecking whether to enable mod_optional_fn_export... no\nchecking whether to enable mod_dialup... no\n  adding \"-I$(top_srcdir)/modules/test\" to INCLUDES\nchecking for target platform... unix\nchecking for rlim_t... yes\nchecking sys/time.h usability... yes\nchecking sys/time.h presence... yes\nchecking for sys/time.h... yes\nchecking sys/resource.h usability... yes\nchecking sys/resource.h presence... yes\nchecking for sys/resource.h... yes\nchecking for sys/sem.h... (cached) yes\nchecking sys/ipc.h usability... yes\nchecking sys/ipc.h presence... yes\nchecking for sys/ipc.h... yes\nchecking for setsid... yes\nchecking for killpg... yes\nchecking bstring.h usability... no\nchecking bstring.h presence... no\nchecking for bstring.h... no\nchecking for unistd.h... (cached) yes\nchecking for syslog... yes\nchecking for sys/times.h... (cached) yes\nchecking for times... (cached) yes\n  adding \"-I$(top_srcdir)/server\" to INCLUDES\nchecking whether APR supports thread-safe pollsets... checking for kqueue... no\nchecking for port_create... yes\nchecking for epoll_create... no\nyes\nchecking if event MPM supports this platform... yes\nchecking if mpmt_os2 MPM supports this platform... no\nchecking if prefork MPM supports this platform... yes\nchecking if WinNT MPM supports this platform... no\nchecking if worker MPM supports this platform... yes\nchecking whether to enable mod_lbmethod_byrequests... shared (most)\nchecking whether to enable mod_lbmethod_bytraffic... shared (most)\nchecking whether to enable mod_lbmethod_bybusyness... shared (most)\nchecking whether to enable mod_lbmethod_heartbeat... shared (most)\nchecking which MPM to use by default... event\n  adding \"$(MOD_MPM_EVENT_LDADD)\" to AP_LIBS\nchecking for pthread_kill... yes\nchecking whether to enable mod_unixd... shared\nchecking whether to enable mod_privileges... checking dependencies\nchecking priv.h usability... yes\nchecking priv.h presence... yes\nchecking for priv.h... yes\nchecking whether to enable mod_privileges... shared\n  adding \"-I$(top_srcdir)/modules/arch/unix\" to INCLUDES\nchecking whether to enable mod_heartbeat... no\nchecking whether to enable mod_heartmonitor... no\nchecking whether to enable mod_dav... shared\n  adding \"-I$(top_srcdir)/modules/dav/main\" to INCLUDES\nchecking whether to enable mod_status... shared\nchecking whether to enable mod_autoindex... shared\nchecking whether to enable mod_asis... no\nchecking whether to enable mod_info... shared\nchecking whether to enable mod_suexec... checking dependencies\nchecking whether to enable mod_suexec... shared\nchecking whether to enable mod_cgid... checking dependencies\nchecking for Solaris patch 120664... yes\nchecking whether to enable mod_cgid... shared\nchecking whether to enable mod_cgi... no\n  adding \"-I$(top_srcdir)/modules/generators\" to INCLUDES\nchecking whether to enable mod_dav_fs... checking dependencies\nchecking whether to enable mod_dav_fs... shared (most)\nchecking whether to enable mod_dav_lock... no\nchecking for extra modules... none\nchecking whether to enable mod_vhost_alias... shared (most)\nchecking whether to enable mod_negotiation... shared\nchecking whether to enable mod_dir... shared\nchecking whether to enable mod_imagemap... shared\nchecking whether to enable mod_actions... shared (most)\nchecking whether to enable mod_speling... shared (most)\nchecking whether to enable mod_userdir... shared (most)\nchecking whether to enable mod_alias... shared\nchecking whether to enable mod_rewrite... shared\n  adding \"-I$(top_srcdir)/modules/mappers\" to INCLUDES\nconfigure: \nconfigure: Restore user-defined environment settings...\nconfigure: \n  restoring CPPFLAGS to \"-I/usr/local/include -I/usr/local/ssl/include -D_TS_ERRNO -D_POSIX_PTHREAD_SEMANTICS -D_LARGEFILE64_SOURCE\"\n  setting EXTRA_CPPFLAGS to \" -DSOLARIS2=10 -D_REENTRANT\"\n  restoring CFLAGS to \"-errfmt=error -erroff=%none -errshort=full -xstrconst -xildoff -m64 -xmemalign=8s -xnolibmil -Xa -xcode=pic32 -xregs=no%appl -xlibmieee -mc -g -xs -ftrap=%none -Qy -xbuiltin=%none -xdebugformat=dwarf -xunroll=1 -xtarget=ultraT2 -xcache=8/16/4:4096/64/16 -D_TS_ERRNO -D_POSIX_PTHREAD_SEMANTICS -D_LARGEFILE64_SOURCE\"\n  setting EXTRA_CFLAGS to \"\"\n  restoring CXXFLAGS to \"-dalign -erroff=%none -errtags=yes -ftrap=%none -g -xcode=pic32 -m64 -mc -xunroll=1 -xbuiltin=%none -xtarget=ultraT2 -xcache=8/16/4:4096/64/16 -xdepend=no -xnolibmopt -xlinkopt=0 -xnolibmil -xregs=no%appl -xs -D_POSIX_PTHREAD_SEMANTICS -D_LARGEFILE64_SOURCE -D_TS_ERRNO\"\n  setting EXTRA_CXXFLAGS to \"\"\n  restoring LDFLAGS to \"\"\n  setting EXTRA_LDFLAGS to \"  -L/usr/local/ssl/lib -L/usr/local/lib\"\n  restoring LIBS to \"\"\n  setting EXTRA_LIBS to \"\"\n  restoring INCLUDES to \"\"\n  setting EXTRA_INCLUDES to \"-I. -I$(top_srcdir)/os/$(OS_DIR) -I$(top_srcdir)/include -I/usr/local/include/apr-1 -I/usr/local/ssl/include -I/usr/local/include -I$(top_srcdir)/modules/aaa -I$(top_srcdir)/modules/cache -I$(top_srcdir)/modules/core -I$(top_srcdir)/modules/database -I$(top_srcdir)/modules/filters -I$(top_srcdir)/modules/ldap -I$(top_builddir)/server -I$(top_srcdir)/modules/loggers -I$(top_srcdir)/modules/lua -I$(top_srcdir)/modules/proxy -I$(top_srcdir)/modules/session -I$(top_srcdir)/modules/ssl -I$(top_srcdir)/modules/test -I$(top_srcdir)/server -I$(top_srcdir)/modules/arch/unix -I$(top_srcdir)/modules/dav/main -I$(top_srcdir)/modules/generators -I$(top_srcdir)/modules/mappers\"\nconfigure: \nconfigure: Construct makefiles and header files...\nconfigure: \nconfigure: creating config_vars.mk\nconfigure: creating ./config.status\ncreating modules/aaa/Makefile\ncreating modules/arch/win32/Makefile\ncreating modules/cache/Makefile\ncreating modules/core/Makefile\ncreating modules/database/Makefile\ncreating modules/debugging/Makefile\ncreating modules/echo/Makefile\ncreating modules/examples/Makefile\ncreating modules/experimental/Makefile\ncreating modules/filters/Makefile\ncreating modules/http/Makefile\ncreating modules/ldap/Makefile\ncreating modules/loggers/Makefile\ncreating modules/lua/Makefile\ncreating modules/metadata/Makefile\ncreating modules/proxy/Makefile\ncreating modules/session/Makefile\ncreating modules/slotmem/Makefile\ncreating modules/ssl/Makefile\ncreating modules/test/Makefile\ncreating os/unix/Makefile\ncreating modules/proxy/balancers/Makefile\ncreating server/mpm/Makefile\ncreating server/mpm/event/Makefile\ncreating modules/arch/unix/Makefile\ncreating modules/cluster/Makefile\ncreating modules/dav/main/Makefile\ncreating modules/generators/Makefile\ncreating modules/dav/fs/Makefile\ncreating modules/dav/lock/Makefile\ncreating modules/mappers/Makefile\ncreating Makefile\ncreating modules/Makefile\ncreating srclib/Makefile\ncreating os/Makefile\ncreating server/Makefile\ncreating support/Makefile\ncreating test/Makefile\nconfig.status: creating docs/conf/httpd.conf\nconfig.status: creating docs/conf/extra/httpd-autoindex.conf\nconfig.status: creating docs/conf/extra/httpd-dav.conf\nconfig.status: creating docs/conf/extra/httpd-default.conf\nconfig.status: creating docs/conf/extra/httpd-info.conf\nconfig.status: creating docs/conf/extra/httpd-languages.conf\nconfig.status: creating docs/conf/extra/httpd-manual.conf\nconfig.status: creating docs/conf/extra/httpd-mpm.conf\nconfig.status: creating docs/conf/extra/httpd-multilang-errordoc.conf\nconfig.status: creating docs/conf/extra/httpd-ssl.conf\nconfig.status: creating docs/conf/extra/httpd-userdir.conf\nconfig.status: creating docs/conf/extra/httpd-vhosts.conf\nconfig.status: creating docs/conf/extra/proxy-html.conf\nconfig.status: creating include/ap_config_layout.h\nconfig.status: creating support/apxs\nconfig.status: creating support/apachectl\nconfig.status: creating support/dbmmanage\nconfig.status: creating support/envvars-std\nconfig.status: creating support/log_server_status\nconfig.status: creating support/logresolve.pl\nconfig.status: creating support/phf_abuse_log.cgi\nconfig.status: creating support/split-logfile\nconfig.status: creating build/rules.mk\nconfig.status: creating build/pkg/pkginfo\nconfig.status: creating build/config_vars.sh\nconfig.status: creating include/ap_config_auto.h\nconfig.status: executing default commands\nnode002$\n\nI see : \n\n\"exports.c\", line 576: error: undefined symbol: ap_hook_post_perdir_config\n\"exports.c\", line 576: error: non-constant initializer involving a cast\n\"exports.c\", line 577: error: undefined symbol: ap_hook_get_post_perdir_config\n\"exports.c\", line 577: error: non-constant initializer involving a cast\n\"exports.c\", line 578: error: undefined symbol: ap_run_post_perdir_config\n\"exports.c\", line 578: error: non-constant initializer involving a cast\n\"exports.c\", line 579: error: undefined symbol: ap_hook_dirwalk_stat\n\"exports.c\", line 579: error: non-constant initializer involving a cast\n\"exports.c\", line 580: error: undefined symbol: ap_hook_get_dirwalk_stat\n\"exports.c\", line 580: error: non-constant initializer involving a cast\n\"exports.c\", line 581: error: undefined symbol: ap_run_dirwalk_stat\n\"exports.c\", line 581: error: non-constant initializer involving a cast\n\"exports.c\", line 626: error: undefined symbol: ap_find_etag_weak\n\"exports.c\", line 626: error: non-constant initializer involving a cast\n\"exports.c\", line 627: error: undefined symbol: ap_find_etag_strong\n\"exports.c\", line 627: error: non-constant initializer involving a cast\n\"exports.c\", line 695: error: undefined symbol: ap_get_exec_line\n\"exports.c\", line 695: error: non-constant initializer involving a cast\n\"exports.c\", line 801: error: undefined symbol: ap_remove_input_filter_byhandle\n\"exports.c\", line 801: error: non-constant initializer involving a cast\n\"exports.c\", line 802: error: undefined symbol: ap_remove_output_filter_byhandle\n\"exports.c\", line 802: error: non-constant initializer involving a cast\ncc: acomp failed for exports.c\n\n\nI search around looking for a header or any file with \"ap_hook_post_perdir_config\" in it : \n\nnode002$ find . -type f | xargs grep \"ap_hook_post_perdir_config\" | cut -f1 -d\\: | sort -u \n./server/exports.c\n\nNo header file anywhere to be seen. \n\nClearly I need to find that defined somewhere. \n\nThe REAL problem is a whole bucket of header files from 2.4.4 in /usr/local/include and now I need to identify them, isolate them and keep going forwards trying to figure out which headers are the cause of the issue in /usr/local/include. \n\nDennis", "id": 171320, "time": "2013-11-19T20:39:42Z", "creator": "dclarke@blastwave.org", "creation_time": "2013-11-19T20:39:42Z", "is_private": false}, {"count": 7, "tags": [], "text": "Finding declarations for ap_hook_FOO, ap_run_FOO:\nThe ap_hook_ and ap_run_ portions are generated from macros.  You need to look for just FOO\n\ninclude/http_request.h:AP_DECLARE_HOOK(int,post_perdir_config,(request_rec *r))\n\nMaybe this is the right path:\n\nLook in build/config_vars.mk for the definition of EXTRA_INCLUDES.  Mine looks like this:\n\nEXTRA_INCLUDES = -I. -I$(top_srcdir)/os/$(OS_DIR) -I$(top_srcdir)/include -I/home/trawick/inst/apr15-64/include/apr-1 -I$(top_srcdir)/modules/aaa -I$(top_srcdir)/modules/cache -I$(top_srcdir)/modules/core -I$(top_srcdir)/modules/database -I$(top_srcdir)/modules/filters -I$(top_srcdir)/modules/ldap -I$(top_builddir)/server -I$(top_srcdir)/modules/loggers -I$(top_srcdir)/modules/lua -I$(top_srcdir)/modules/proxy -I$(top_srcdir)/modules/session -I$(top_srcdir)/modules/ssl -I$(top_srcdir)/modules/test -I$(top_srcdir)/server -I$(top_srcdir)/modules/arch/unix -I$(top_srcdir)/modules/dav/main -I$(top_srcdir)/modules/generators -I$(top_srcdir)/modules/mappers\n\nYours surely has /usr/local somewhere.  Move any -I/usr/local/include to the end of the list.", "attachment_id": null, "bug_id": 55789, "id": 171321, "time": "2013-11-19T20:46:25Z", "creator": "trawick@apache.org", "creation_time": "2013-11-19T20:46:25Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 55789, "attachment_id": null, "text": "I have located a number of header files in /usr/local/include that are being looked at first in the build process and they are from Apache 2.4.4 and thus not correct for 2.4.6. \n\nI have renamed them to /usr/local/include/foobar_2.4.4.h and then I try a \nrebuild of 2.4.6 until I hit another snag. \n\nThen I locate the next offending header file and rename it and do this loop\nover and over. \n\nHOWEVERR this reaises the concern in my mind that there may be a subtle code\nchange in a header between 2.4.4 and 2.4.6 such that the build of 2.4.6 does continue however I do NOT have the correct header being used because the wrong\nheader is in /usr/local/include and I could not detect it. \n\nThis is a concern as the only way forward for me would be to do a full build of 2.4.6, assuming that I get there using my hunt and peck loop above, and then install and then rebuild 2.4.6 again. \n\nAfter a second or possibly third build loop I would have all the correct header \nversions in /usr/local/ and then no problem. \n\nThis is akin to the three stage GCC bootstrap process. \n\ndc", "id": 171322, "time": "2013-11-19T20:49:56Z", "creator": "dclarke@blastwave.org", "creation_time": "2013-11-19T20:49:56Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 55789, "attachment_id": null, "text": "(In reply to Jeff Trawick from comment #7)\n> Finding declarations for ap_hook_FOO, ap_run_FOO:\n> The ap_hook_ and ap_run_ portions are generated from macros.  You need to\n> look for just FOO\n> \n> include/http_request.h:AP_DECLARE_HOOK(int,post_perdir_config,(request_rec\n> *r))\n> \n> Maybe this is the right path:\n> \n> Look in build/config_vars.mk for the definition of EXTRA_INCLUDES.  Mine\n> looks like this:\n> \n> EXTRA_INCLUDES = -I. -I$(top_srcdir)/os/$(OS_DIR) -I$(top_srcdir)/include\n> -I/home/trawick/inst/apr15-64/include/apr-1 -I$(top_srcdir)/modules/aaa\n> -I$(top_srcdir)/modules/cache -I$(top_srcdir)/modules/core\n> -I$(top_srcdir)/modules/database -I$(top_srcdir)/modules/filters\n> -I$(top_srcdir)/modules/ldap -I$(top_builddir)/server\n> -I$(top_srcdir)/modules/loggers -I$(top_srcdir)/modules/lua\n> -I$(top_srcdir)/modules/proxy -I$(top_srcdir)/modules/session\n> -I$(top_srcdir)/modules/ssl -I$(top_srcdir)/modules/test\n> -I$(top_srcdir)/server -I$(top_srcdir)/modules/arch/unix\n> -I$(top_srcdir)/modules/dav/main -I$(top_srcdir)/modules/generators\n> -I$(top_srcdir)/modules/mappers\n> \n> Yours surely has /usr/local somewhere.  Move any -I/usr/local/include to the\n> end of the list.\n\nI see.\n\nAt this moment I do have a build running and I want to let it complete and then\nyes, I think I will re-do the whole process and search into build/config_vars.mk\nto find an offending EXTRA_INCLUDES with /usr/local too early in the path list there. \n\nYes .. that would be a smarter way forwards than my hunt and peck and loop. \n\nHowever ... I do have a build running and it seems to *still* be running if\nyou know what I mean. \n\ndc", "id": 171323, "time": "2013-11-19T20:52:51Z", "creator": "dclarke@blastwave.org", "creation_time": "2013-11-19T20:52:51Z", "is_private": false}, {"text": "My method, while hardly elegant, is working slowly. \n\nI have reached this point : \n\n/usr/local/build-1/libtool --silent --mode=compile /opt/solarisstudio12.3/bin/cc -D_STDC_C99=    -errfmt=error -erroff=%none -errshort=full -xstrconst -xildoff -m64 -xmemalign=8s -xnolibmil -Xa -xcode=pic32 -xregs=no%appl -xlibmieee -mc -g -xs -ftrap=%none -Qy -xbuiltin=%none -xdebugformat=dwarf -xunroll=1 -xtarget=ultraT2 -xcache=8/16/4:4096/64/16 -D_TS_ERRNO -D_POSIX_PTHREAD_SEMANTICS -D_LARGEFILE64_SOURCE    -DSOLARIS2=10 -D_REENTRANT  -I/usr/local/include -I/usr/local/ssl/include -D_TS_ERRNO -D_POSIX_PTHREAD_SEMANTICS -D_LARGEFILE64_SOURCE   -I. -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/os/unix -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/include -I/usr/local/include/apr-1 -I/usr/local/ssl/include -I/usr/local/include -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/aaa -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/cache -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/core -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/database -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/filters -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/ldap -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/server -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/loggers -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/lua -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/proxy -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/session -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/ssl -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/test -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/server -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/arch/unix -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/dav/main -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/generators -I/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/mappers -prefer-pic -c mod_lbmethod_heartbeat.c && touch mod_lbmethod_heartbeat.slo\n\"mod_lbmethod_heartbeat.c\", line 410: error: undefined symbol: DEFAULT_HEARTBEAT_STORAGE\n\"mod_lbmethod_heartbeat.c\", line 410: warning: improper pointer/integer combination: arg #2\ncc: acomp failed for mod_lbmethod_heartbeat.c\ngmake[4]: *** [mod_lbmethod_heartbeat.slo] Error 1\ngmake[4]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/proxy/balancers'\ngmake[3]: *** [shared-build-recursive] Error 1\ngmake[3]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules/proxy/balancers'\ngmake[2]: *** [shared-build-recursive] Error 1\ngmake[2]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002/modules'\ngmake[1]: *** [shared-build-recursive] Error 1\ngmake[1]: Leaving directory `/usr/local/build/httpd-2.4.6_SunOS5.10_sparcv9.002'\ngmake: *** [all-recursive] Error 1\n\n \nnode002$ find . -type f | xargs grep \"DEFAULT_HEARTBEAT_STORAGE\" | cut -f1 -d\\: \n./modules/cluster/mod_heartmonitor.c\n./modules/proxy/balancers/mod_lbmethod_heartbeat.c\n./include/heartbeat.h\n\nnode002$ ls -lap /usr/local/include/heartbeat.h \n-rw-r--r--   1 dclarke  adbs        1399 Feb 28  2013 /usr/local/include/heartbeat.h\n\n\nSo I move that aside : \n\n\nnode002$ mv /usr/local/include/heartbeat.h /usr/local/include/heartbeat.h_2.4.4\n\nThe building continues. \n\nReally I need to go through this from top to bottom again and check the build/config_vars.mk for an offending EXTRA_INCLUDES.\n\nI think this is a valid build bug however.", "tags": [], "bug_id": 55789, "attachment_id": null, "count": 10, "id": 171324, "time": "2013-11-19T20:56:34Z", "creator": "dclarke@blastwave.org", "creation_time": "2013-11-19T20:56:34Z", "is_private": false}, {"count": 11, "tags": [], "creator": "trawick@apache.org", "text": ">I think this is a valid build bug however.\n\nDefinitely!", "id": 171325, "time": "2013-11-19T21:02:11Z", "bug_id": 55789, "creation_time": "2013-11-19T21:02:11Z", "is_private": false, "attachment_id": null}, {"count": 12, "tags": [], "creator": "dclarke@blastwave.org", "attachment_id": null, "id": 171327, "time": "2013-11-19T21:49:20Z", "bug_id": 55789, "creation_time": "2013-11-19T21:49:20Z", "is_private": false, "text": "okay .. after a lot of loops in the build process I have a running 2.4.6 instance now and http://www.mytld.com/server-info reports thus : \n\nServer Settings\n\nServer Version: Apache/2.4.6 (Unix) PHP/5.4.22 OpenSSL/1.0.1e\nServer Built: Nov 19 2013 20:45:29\nServer loaded APR Version: 1.4.8\nCompiled with APR Version: 1.4.8\nServer loaded APU Version: 1.5.2\nCompiled with APU Version: 1.5.2\nModule Magic Number: 20120211:23\nHostname/port: www.mytld.com:443\nTimeouts: connection: 300    keep-alive: 15\nMPM Name: event\nMPM Information: Max Daemons: 1 Threaded: yes Forked: yes\nServer Architecture: 64-bit\nServer Root: /usr/local\nConfig File: /usr/local/www/conf/httpd.conf\nServer Built With: -D APR_HAS_SENDFILE -D APR_HAS_MMAP \n-D APR_USE_PROC_PTHREAD_SERIALIZE -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT \n-D APR_HAS_OTHER_CHILD -D AP_HAVE_RELIABLE_PIPED_LOGS \n-D HTTPD_ROOT=\"/usr/local\" -D SUEXEC_BIN=\"/usr/local/bin/suexec\" \n-D DEFAULT_PIDLOG=\"www/var/logs/httpd.pid\" \n-D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\" \n-D DEFAULT_ERRORLOG=\"logs/error_log\" \n-D AP_TYPES_CONFIG_FILE=\"www/conf/mime.types\" \n-D SERVER_CONFIG_FILE=\"www/conf/httpd.conf\" \n\n\nThta looks good and I will do some testing. \n\nI will now go back around in a circle and try a rebuild while checking\nbuild/config_vars.mk for an offending EXTRA_INCLUDES.\n\nThat should isolate the problem and make for a useful bug report. \n\nThe downside is that I now have all the correct headers in /usr/local/inlcude and thus I would not hit these snags until 2.4.X for X>6 releases. \n\nLet's leave bug 55789 stand on its own merits as a build bug. \n\nDennis"}, {"text": "Changed the bug title to more correctly identify where the problem lay. Also \nI have made this ia \"blocker\" class bug as it does cause the entire build\nprocess to fail. Perhaps \"critical\" is more reasonable but that should be a\nmatter for a triage team to consider. \n\nDennis Clarke\ndclarke@blastwave.org\nFri Nov 22 04:04:01 GMT 2013", "tags": [], "bug_id": 55789, "attachment_id": null, "count": 13, "id": 171387, "time": "2013-11-22T04:04:20Z", "creator": "dclarke@blastwave.org", "creation_time": "2013-11-22T04:04:20Z", "is_private": false}, {"count": 14, "tags": [], "bug_id": 55789, "attachment_id": null, "text": "*** Bug 55825 has been marked as a duplicate of this bug. ***", "id": 171502, "time": "2013-11-29T08:19:24Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2013-11-29T08:19:24Z", "is_private": false}, {"count": 15, "tags": [], "bug_id": 55789, "text": "Same problem exists in httpd 2.4.7 also.\n\nI think I will need to go looking in the unvarnished source tarball and \nfind where the order of directories is determined in build/config_vars.mk\nor this won't go away.", "id": 171688, "time": "2013-12-10T23:37:10Z", "creator": "dclarke@blastwave.org", "creation_time": "2013-12-10T23:37:10Z", "is_private": false, "attachment_id": null}, {"count": 16, "tags": [], "text": "Hello Dennis,\n\nIn your build/config_vars.mk file, what is CPPFLAGS set to?\nAlso, do you have a CPPFLAGS environment variable set before calling ./configure?\n\nMy guess is that you have CPPFLAGS set to \"-I/usr/local/include -I/usr/local/ssl/include -D_TS_ERRNO -D_POSIX_PTHREAD_SEMANTICS -D_LARGEFILE64_SOURCE\".\n\nIf so, this explains the include order you are seeing on the compile steps.\n\nThanks,\n\nMike Rumph", "attachment_id": null, "bug_id": 55789, "id": 171689, "time": "2013-12-11T00:40:17Z", "creator": "mike.rumph@oracle.com", "creation_time": "2013-12-11T00:40:17Z", "is_private": false}, {"count": 17, "attachment_id": null, "creator": "dclarke@blastwave.org", "text": "Well its long overdue to make my apologies and request this bug be closed \nand perhaps marked as \"user error\".  As Mike Rumph pointed out back on 2013-12-11 00:40:17 UTC that fault may be in CPPFLAGS which has \"-I/usr/local/include -I/usr/local/ssl/include\" as well as the reasonable \"-D_TS_ERRNO -D_POSIX_PTHREAD_SEMANTICS -D_LARGEFILE64_SOURCE\".\n\nThis explains the include order seen. \n\nI just built the most recent release all in one smooth pass with no errors\nat all :\n\n# /usr/local/bin/httpd -V \nServer version: Apache/2.4.9 (Unix)\nServer built:   Mar 26 2014 03:50:32\nServer's Module Magic Number: 20120211:31\nServer loaded:  APR 1.5.0, APR-UTIL 1.5.3\nCompiled using: APR 1.5.0, APR-UTIL 1.5.3\nArchitecture:   64-bit\nServer MPM:     event\n  threaded:     yes (fixed thread count)\n    forked:     yes (variable process count)\nServer compiled with....\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_USE_PROC_PTHREAD_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D DYNAMIC_MODULE_LIMIT=256\n -D HTTPD_ROOT=\"/usr/local\"\n -D SUEXEC_BIN=\"/usr/local/bin/suexec\"\n -D DEFAULT_PIDLOG=\"www/var/logs/httpd.pid\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D AP_TYPES_CONFIG_FILE=\"www/conf/mime.types\"\n -D SERVER_CONFIG_FILE=\"www/conf/httpd.conf\"\n\nruns like a charm. \n\nAll I need to do now is figure out why my initial SSL_SESSION_ID env var in cgi is blank despite having \"SSLOptions +StdEnvVars\" set. However that is another matter entirely. \n\nThanks for epic patience and endless support while I fumbled through this. \n\nI changed this to P4 trivial because I couldn't find P9 'user-error'.\n\nDennis", "id": 174092, "time": "2014-03-26T04:36:15Z", "bug_id": 55789, "creation_time": "2014-03-26T04:36:15Z", "tags": [], "is_private": false}, {"count": 18, "tags": [], "bug_id": 55789, "attachment_id": null, "text": "Thanks for reporting the misconfiguration.\nMarked as invalid.", "id": 174151, "time": "2014-03-27T21:27:55Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2014-03-27T21:27:55Z", "is_private": false}]