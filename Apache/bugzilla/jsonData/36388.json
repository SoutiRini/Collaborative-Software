[{"count": 0, "tags": [], "creator": "bjarnij-apachebug@bthj.is", "attachment_id": null, "id": 79090, "time": "2005-08-26T21:52:25Z", "bug_id": 36388, "creation_time": "2005-08-26T21:52:25Z", "is_private": false, "text": "In Tomcat 4 and 5.0.x it was possible to have a custom error page for error code\n401. But only when using a workaround the was user prompted to login.  The\nworkaround was to add code similar to this to the custom error page:\n<%\n\tresponse.setStatus(response.SC_UNAUTHORIZED);\n\tresponse.setHeader(\"WWW-Authenticate\", \"BASIC realm=\\\"asdf\\\"\"); \n%>\nTomcat 5.5.x on the other hand seems to completely ignore custom error pages for\nerror code 401 - although error pages for other error codes seem to work fine.\nThis must be a bug?\n\nI'm using BASIC authentication and I'm unable to give webusers \"pretty\" message\nwhen they fail to login..."}, {"count": 1, "tags": [], "text": "*** Bug 38239 has been marked as a duplicate of this bug. ***", "attachment_id": null, "bug_id": 36388, "id": 84541, "time": "2006-01-12T17:14:33Z", "creator": "william.barker@wilshire.com", "creation_time": "2006-01-12T17:14:33Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 36388, "attachment_id": null, "id": 87296, "creation_time": "2006-03-27T02:14:29Z", "time": "2006-03-27T02:14:29Z", "creator": "william.barker@wilshire.com", "text": "This has been fixed in 5.5.16.", "is_private": false}, {"count": 3, "tags": [], "text": "Hi, I've just probed this in Tomcat 5.5.16 and 5.5.20 and it doesn't work.\n\nBut, the same code is working fine in Tomcat 5.0.x.\n\nMaybe is a configuration problem? Are there another way to do it?\n\nThanks.", "attachment_id": null, "id": 97997, "creation_time": "2007-01-12T05:35:25Z", "time": "2007-01-12T05:35:25Z", "creator": "netverde@opencanarias.com", "bug_id": 36388, "is_private": false}, {"count": 4, "tags": [], "creator": "netverde@opencanarias.com", "attachment_id": null, "id": 98004, "time": "2007-01-12T06:50:15Z", "bug_id": 36388, "creation_time": "2007-01-12T06:50:15Z", "is_private": false, "text": "\nHi, I've found the solution in Tomcat's Changelog.\n\nIn order to solve the problem you have to write this line:\n\nmyResp.sendError(HttpServletResponse.SC_UNAUTHORIZED);\n\ninstead of:\n\nresponse.setStatus(response.SC_UNAUTHORIZED);\n\nThanks."}]