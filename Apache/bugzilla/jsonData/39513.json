[{"count": 0, "tags": [], "creator": "daviet@yahoo.com", "text": "Compiling apache 1.3.35 from source, using DSO: PHP/5.1.4, mod_gzip/1.3.26.1a, \nmod_perl/1.29, APC-3.0.10 \n\nOn RHEL 4, update 3 (latest), I receive this error:\n\nStarting httpd: *** glibc detected *** double free or corruption (!prev): \n0x09bf74c0 *** \n/usr/local/apache/bin/apachectl: line 80: 25515 Aborted                 $HTTPD \n/usr/local/apache/bin/apachectl start: httpd could not be started \n\nOn my 2 other systems running Fedora Core 5, I receive a similar error on one \nbox and no error on the other box. Going back to Apache 1.3.34, the systems \nwork fine. I have not had any similar issues with previous versions of Apache.\n\nFrom RedHat support:\n\nThe glibc version provided in the RHEL 4 performs some sanity checks to prevent \ndata corruption. If a corruption is detected, a message similar to what you \nhave received will be printed or logged, and the application causing the error \nwill be killed.\n\nYou can find the details on this at the URL below (under the section glibc). \nThere are also some tweaks suggested in the URL. You can tweak your OS at your \nown risk and Red Hat doesn't advice you to enable tweaks by default, nor do \nguarantee a solution by enabling these tweaks.\n\nhttp://www.redhat.com/docs/manuals/enterprise/RHEL-4-Manual/release-notes/as-\nx86/\n\nglibc\nThe version of glibc provided with Red Hat Enterprise Linux 4 performs \nadditional internal sanity checks to prevent and detect data corruption as \nearly as possible. By default, should corruption be detected, a message similar \nto the following will be displayed on standard error (or logged via syslog if \nstderr is not open):\n\n*** glibc detected *** double free or corruption: 0x0937d008 ***\n\nBy default, the program that generated this error will also be killed; however, \nthis (and whether or not an error message is generated) can be controlled via \nthe MALLOC_CHECK_ environment variable. The following settings are supported:\n\n0 \u2014 Do not generate an error message, and do not kill the program\n\n1 \u2014 Generate an error message, but do not kill the program\n\n2 \u2014 Do not generate an error message, but kill the program\n\n3 \u2014 Generate an error message and kill the program\n\nNote\nIf MALLOC_CHECK_ is explicitly set a value other than 0, this causes glibc to \nperform more tests that are more extensive than the default, and may impact \nperformance.\n\nShould you have a program from a third party ISV that triggers these corruption \nchecks and displays a message, you should file a defect report with the \napplication's vendor, since this indicates a serious bug.", "id": 88917, "time": "2006-05-08T16:35:02Z", "bug_id": 39513, "creation_time": "2006-05-08T16:35:02Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "daviet@yahoo.com", "text": "Fedora Core 5 provides a backtrace on the crash: \n \n# /etc/rc.d/init.d/httpd start \nStarting httpd: *** glibc detected *** /usr/local/apache/bin/httpd: double free \nor corruption (!prev): 0x09094290 *** \n======= Backtrace: ========= \n/lib/libc.so.6[0x1b8f18] \n/lib/libc.so.6(__libc_free+0x79)[0x1bc41d] \n/lib/libc.so.6(fclose+0x143)[0x1a9443] \n/usr/local/apache/libexec/libhttpd.so(ap_pfclose+0x22)[0x63700f] \n/usr/local/apache/libexec/libhttpd.so[0x656e21] \n/usr/local/apache/libexec/libhttpd.so(ap_cfg_closefile+0x21)[0x656de1] \n/usr/local/apache/libexec/libhttpd.so(ap_process_include_config+0x337)\n[0x63bffd] \n/usr/local/apache/libexec/libhttpd.so[0x642486] \n/usr/local/apache/libexec/libhttpd.so[0x63ad65] \n/usr/local/apache/libexec/libhttpd.so(ap_handle_command+0x11b)[0x63b8a8] \n/usr/local/apache/libexec/libhttpd.so(ap_srm_command_loop+0x33)[0x63b922] \n/usr/local/apache/libexec/libhttpd.so(ap_process_resource_config+0x557)\n[0x63c55b] \n/usr/local/apache/libexec/libhttpd.so(ap_read_config+0x70)[0x63cfd6] \n/usr/local/apache/libexec/libhttpd.so(ap_main+0x317)[0x64a7d0] \n/usr/local/apache/bin/httpd(main+0x2e)[0x8048652] \n/lib/libc.so.6(__libc_start_main+0xdc)[0x16a7e4] \n/usr/local/apache/bin/httpd[0x80485a1] ", "id": 88918, "time": "2006-05-08T16:36:49Z", "bug_id": 39513, "creation_time": "2006-05-08T16:36:49Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 39513, "is_private": false, "count": 2, "id": 88949, "time": "2006-05-09T09:16:15Z", "creator": "jorton@redhat.com", "creation_time": "2006-05-09T09:16:15Z", "text": "\n\n*** This bug has been marked as a duplicate of 39490 ***"}, {"count": 3, "tags": [], "bug_id": 39513, "attachment_id": null, "text": "This in fact may be a duplicate/side effect of bug 39516 - rather than\nthe wildcard includes fault.\n", "id": 89014, "time": "2006-05-10T20:56:03Z", "creator": "wrowe@apache.org", "creation_time": "2006-05-10T20:56:03Z", "is_private": false}]