[{"count": 0, "tags": [], "bug_id": 7739, "attachment_id": null, "text": "Cannot print ok on 1.3 and 1.4. Email from Phil Race:\n\nVincent,\n        The reason for the bad printing on 1.4 is this exception:\n        We couldn't see it because the batik printing code silently\n        caught the exception.\n        It appears to me that batik's composite operation is making\n        assumptions about the surface its compositing onto.\n        It looks like its using this class : OverCompositeContext\n        and expecting 4 bytes per pixel.\n        Not sure why this would have worked in 1.3.1 and I guess\n        its possible it may even have manifested differently and\n        been related to the jaggies you were seeing.\n        So I think its a batik bug. Let me know if you think its a\n        2D bug. BTW this is reproducible on 1.4 solaris as well as windows.\n        \n-phil.\n\njava.lang.ArrayIndexOutOfBoundsException\n        at \norg.apache.batik.ext.awt.image.SVGComposite$OverCompositeContext.precompose(Unk\nn\nown Source)\n        at \norg.apache.batik.ext.awt.image.SVGComposite$AlphaPreCompositeContext.compose(Un\nk\nnown Source)\n        at sun.java2d.loops.Blit$AnyBlit.Blit(Blit.java:147)\n        at sun.java2d.pipe.DrawImage.blitSurfaceData(DrawImage.java:631)\n        at sun.java2d.pipe.DrawImage.renderSurfaceData(DrawImage.java:359)\n        at \nsun.java2d.pipe.DrawImage.clipAndRenderSurfaceData(DrawImage.java:337)\n        at sun.java2d.pipe.DrawImage.copyImage(DrawImage.java:64)\n        at sun.java2d.pipe.DrawImage.copyImage(DrawImage.java:48)\n        at sun.java2d.pipe.DrawImage.copyImage(DrawImage.java:722)\n        at sun.java2d.pipe.ValidatePipe.copyImage(ValidatePipe.java:147)\n        at sun.java2d.SunGraphics2D.drawImage(SunGraphics2D.java:2782)\n        at sun.java2d.SunGraphics2D.drawImage(SunGraphics2D.java:2772)\n        at org.apache.batik.ext.awt.image.GraphicsUtil.drawImage(Unknown \nSource)\n        at org.apache.batik.ext.awt.image.GraphicsUtil.drawImage(Unknown \nSource)\n        at \norg.apache.batik.ext.awt.image.renderable.PadRable8Bit.paintRable(Unknown \nSource)\n        at org.apache.batik.ext.awt.image.GraphicsUtil.drawImage(Unknown \nSource)\n        at \norg.apache.batik.ext.awt.image.renderable.PadRable8Bit.paintRable(Unknown \nSource)\n        at org.apache.batik.ext.awt.image.GraphicsUtil.drawImage(Unknown \nSource)\n        at \norg.apache.batik.ext.awt.image.renderable.AffineRable8Bit.paintRable(Unknown \nSource)\n        at org.apache.batik.ext.awt.image.GraphicsUtil.drawImage(Unknown \nSource)\n        at \norg.apache.batik.ext.awt.image.renderable.PadRable8Bit.paintRable(Unknown \nSource)\n        at org.apache.batik.ext.awt.image.GraphicsUtil.drawImage(Unknown \nSource)\n        at \norg.apache.batik.ext.awt.image.renderable.FilterChainRable8Bit.paintRable(Unkno\nw\nn Source)\n        at org.apache.batik.ext.awt.image.GraphicsUtil.drawImage(Unknown \nSource)\n        at org.apache.batik.gvt.AbstractGraphicsNode.paint(Unknown Source)\n        at org.apache.batik.gvt.CompositeGraphicsNode.primitivePaint(Unknown \nSource)\n        at org.apache.batik.gvt.AbstractGraphicsNode.paint(Unknown Source)\n        at org.apache.batik.gvt.CompositeGraphicsNode.primitivePaint(Unknown \nSource)\n        at org.apache.batik.gvt.AbstractGraphicsNode.paint(Unknown Source)\n        at org.apache.batik.gvt.CompositeGraphicsNode.primitivePaint(Unknown \nSource)\n        at org.apache.batik.gvt.CanvasGraphicsNode.primitivePaint(Unknown \nSource)\n        at org.apache.batik.gvt.AbstractGraphicsNode.paint(Unknown Source)\n        at org.apache.batik.gvt.CompositeGraphicsNode.primitivePaint(Unknown \nSource)\n        at org.apache.batik.gvt.AbstractGraphicsNode.paint(Unknown Source)\n        at org.apache.batik.transcoder.print.PrintTranscoder.print(Unknown \nSource)\n        at sun.print.RasterPrinterJob.printPage(RasterPrinterJob.java:1611)\n        at sun.print.RasterPrinterJob.print(RasterPrinterJob.java:1079)\n        at sun.print.RasterPrinterJob.print(RasterPrinterJob.java:980)\n        at org.apache.batik.transcoder.print.PrintTranscoder.print(Unknown \nSource)\n        at org.apache.batik.apps.svgbrowser.JSVGViewerFrame$7.run(Unknown \nSource)", "id": 12792, "time": "2002-04-04T08:09:31Z", "creator": "vincent.hardy@sun.com", "creation_time": "2002-04-04T08:09:31Z", "is_private": false}]