[{"count": 0, "attachment_id": 24258, "creator": "guillaume.sauthier@objectweb.org", "is_private": false, "id": 130373, "time": "2009-09-14T07:03:43Z", "bug_id": 47836, "creation_time": "2009-09-14T07:03:43Z", "tags": [], "text": "Created attachment 24258\nWhen the Context is stopped, clears the listeners list\n\nWhen a WebApp is refreshed, the following warning is displayed:\n\n\"StandardContext.addApplicationListener : The listener\n\"com.sun.faces.config.ConfigureListener\" is already configured for this\ncontext. The duplicate definition has been ignored.\"\n\nThis is because the TldConfig instance does not react to a STOP event of the\nStandardContext. It should clear the list's content when the WebApp is stopped.\n\nWe've encountered this bug with tomcat 6.0.20.\nI've checked the Tomcat7 TldConfig code to see if the issue may still be there,\nbut I'm not sure: there is some code dealing with already registered taglib URI\nthat may prevent the warning.\n\nSo the provided patch is against tomcat6.0.x branch (but should be easy to port\nto trunk if there is some interest).\n\nBTW, I've checked the TldLocationsCache source code, but it is not implementing\nthe LifecycleListener interface, so that patch cannot be applied on that file\n..."}, {"count": 1, "tags": [], "bug_id": 47836, "text": "I found a handful of places where this was an issue in trunk. I've fixed these and will propose for backport to 6.0.x once I'm sure I have found them all.", "id": 132264, "time": "2009-11-23T17:27:47Z", "creator": "markt@apache.org", "creation_time": "2009-11-23T17:27:47Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 47836, "is_private": false, "id": 132815, "time": "2009-12-14T15:18:44Z", "creator": "markt@apache.org", "creation_time": "2009-12-14T15:18:44Z", "tags": [], "text": "Patch proposed for 6.0.x"}, {"count": 3, "tags": [], "bug_id": 47836, "attachment_id": null, "id": 132965, "time": "2009-12-19T18:22:12Z", "creator": "markt@apache.org", "creation_time": "2009-12-19T18:22:12Z", "is_private": false, "text": "Patch applied to 6.0.x and will be included in 6.0.21 onwards."}]