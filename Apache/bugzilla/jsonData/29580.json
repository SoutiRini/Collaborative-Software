[{"count": 0, "tags": [], "text": "In build.bat (also in build.sh but I have no way to test) with ant 1.6.1.\nI get this error:\n\nException in thread \"main\" java.lang.NoClassDefFoundError: \norg/apache/tools/ant/launch/AntMain\n        at java.lang.ClassLoader.defineClass0(Native Method)\n\nYou should replace the line:\n    java -classpath %LOCALCLASSPATH% org.apache.tools.ant.Main -buildfile %\nBUILDFILE% %1 %2 %3 %4 %5 %6\nwith \n    ant -buildfile %BUILDFILE% %1 %2 %3 %4 %5 %6\nbecause there is no more Main under this package in ant 1.6.1\n\nI think this line car be replace safely because you already have a \"JAVA_HOME\" \nand \"ANT_HOME\" check in the build.bat\n\nAdditionnal informations:\nC:\\jakarta-jmeter-2.0.1-src>ant -version\nApache Ant version 1.6.1 compiled on February 12 2004\n\nActually I'm using JMeter 2.0.1 version", "attachment_id": null, "id": 59241, "creator": "a_cogito@yahoo.fr", "time": "2004-06-15T17:10:48Z", "bug_id": 29580, "creation_time": "2004-06-15T17:10:48Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 29580, "is_private": false, "count": 1, "id": 59242, "time": "2004-06-15T17:18:14Z", "creator": "sebb@apache.org", "creation_time": "2004-06-15T17:18:14Z", "text": "Thanks for the report.\n\nAFAIK, build.bat and build.sh are now optional - one should be able to just run \nant from the jmeter_home directory. Can you confirm if this is the case?\n\nIn which case, perhaps the solution is to delete the build script files, rather \nthan try and support multiple ant versions."}, {"count": 2, "tags": [], "text": "Created attachment 11852\npatch for JMeter's build.bat ant build.sh", "is_private": false, "bug_id": 29580, "id": 59279, "time": "2004-06-16T13:05:09Z", "creator": "a_cogito@yahoo.fr", "creation_time": "2004-06-16T13:05:09Z", "attachment_id": 11852}, {"count": 3, "tags": [], "bug_id": 29580, "attachment_id": null, "text": "I don't know if you want to delete those batch, anyway I made a cvs patch.\nIt may not be well formed because I had to use cvsgrab (for proxy/firewall \nproblems)", "id": 59280, "time": "2004-06-16T13:05:47Z", "creator": "a_cogito@yahoo.fr", "creation_time": "2004-06-16T13:05:47Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 29580, "text": "The patch looks OK, but effectively makes the build.bat script redundant, as \nthe classpath is not used. \n\nDon't know about build.sh - the environment variable CLASSPATH is still being \nset, and perhaps Ant will pick this up.\n\nBuild.xml has long since been updated to include all the necessary libraries, \nso I think it may be time to retire the scripts...\n\nI never use the buld.bat script myself (I just use ant <target> on WinXP), so \nas far as I'm concerned, the script is redundant.\n\nBut it would be a great help if you could try a build without using build.bat, \nas this would help show if it only works for me - thanks!", "id": 59283, "time": "2004-06-16T13:34:14Z", "creator": "sebb@apache.org", "creation_time": "2004-06-16T13:34:14Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 29580, "attachment_id": null, "text": "Actually I didn't use build.bat at first :) \nI started by using ant directly but since i couldn't get the compile right (Bug \n29601) I tried the build.bat.\nPersonnaly I don't care if you delete it but may be for people not familiar \nwith ant those batch may help...", "id": 59292, "time": "2004-06-16T14:13:35Z", "creator": "a_cogito@yahoo.fr", "creation_time": "2004-06-16T14:13:35Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 29580, "attachment_id": null, "id": 59301, "time": "2004-06-16T14:37:00Z", "creator": "sebb@apache.org", "creation_time": "2004-06-16T14:37:00Z", "is_private": false, "text": "Since ant defaults to using build.xml, I think the choice boils down to \nchoosing between:\n\n build\n\nand\n\n ant\n\nI know which I prefer :-)\n\nI'd still be interested to know whether \"ant\" works when you've sorted out the \ncompilation problems."}, {"count": 7, "tags": [], "text": "using jakarta-jmeter-2.0.1_src.zip from scrath, I get compilation error (it has \nnothing to do with build.xml and build.bat):\ncompile-http:\n    [mkdir] Created dir: C:\\jakarta-jmeter-2.0.1-src\\jakarta-jmeter-\n2.0.1_src\\jakarta-jmeter-2.0.1\\build\\protocol\\http\n    [javac] Compiling 72 source files to C:\\jakarta-jmeter-2.0.1-src\\jakarta-\njmeter-2.0.1_src\\jakarta-jmeter-2.0.1\\build\\protocol\\http\n    [javac] C:\\jakarta-jmeter-2.0.1-src\\jakarta-jmeter-2.0.1_src\\jakarta-jmeter-\n2.0.1\n\\src\\protocol\\http\\org\\apache\\jmeter\\protocol\\http\\sampler\\HTTPSamplerBase.java:\n105: illegal forward reference\n    [javac]             pattern= new Perl5Compiler().compile(\n    [javac]             ^\n    [javac] 1 error\n\nAccording to cvs repository, it seems to be a merge problem:\nhttp://cvs.apache.org/viewcvs.cgi/jakarta-\njmeter/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSamplerBase\n.java", "attachment_id": null, "bug_id": 29580, "id": 59318, "time": "2004-06-16T15:24:47Z", "creator": "a_cogito@yahoo.fr", "creation_time": "2004-06-16T15:24:47Z", "is_private": false}, {"count": 8, "tags": [], "text": "I just downloaded 2.0.1 and built it without any problems.\n\nThis was using:\n\nApache Ant version 1.6.1 compiled on February 12 2004\n\njava version \"1.4.2_04\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_04-b05)\nJava HotSpot(TM) Client VM (build 1.4.2_04-b05, mixed mode) \n\non WinXP.\n\nPerhaps there is a problem with your java installation?\n", "attachment_id": null, "id": 59373, "creator": "sebb@apache.org", "time": "2004-06-16T23:29:21Z", "bug_id": 29580, "creation_time": "2004-06-16T23:29:21Z", "is_private": false}, {"count": 9, "tags": [], "creator": "a_cogito@yahoo.fr", "attachment_id": null, "id": 59394, "time": "2004-06-17T08:52:39Z", "bug_id": 29580, "creation_time": "2004-06-17T08:52:39Z", "is_private": false, "text": "About the build.bat/sh delete, using ant command line directly works fine.\n\nAbout the compilation error, follow: Bug 29580"}, {"count": 10, "tags": [], "bug_id": 29580, "attachment_id": null, "id": 59395, "time": "2004-06-17T08:55:14Z", "creator": "a_cogito@yahoo.fr", "creation_time": "2004-06-17T08:55:14Z", "is_private": false, "text": "Sorry wrong link :-o\nBug 29635 "}, {"count": 11, "tags": [], "bug_id": 29580, "attachment_id": null, "id": 60093, "time": "2004-07-02T14:04:43Z", "creator": "a_cogito@yahoo.fr", "creation_time": "2004-07-02T14:04:43Z", "is_private": false, "text": "build.bat/.sh have been remove\nuse ant command line directly"}]