[{"count": 0, "tags": [], "bug_id": 33910, "text": "Provide a finalizer() in a session or servletcontext attribute object.  \nResulting in this log entry...\n\nINFO: Illegal access: this web application instance has been stopped already.  \nCould not load java.lang.System.  The eventual following stack trace is caused \nby an error thrown for debugging purposes as well as to attempt to terminate \nthe thread which caused the illegal access, and has no functional impact.\n\nI suggest to put in\n\nSystem.runFinalization() and System.gc() before the instance is destroyed.", "id": 71993, "time": "2005-03-08T18:48:15Z", "creator": "trajano@yahoo.com", "creation_time": "2005-03-08T18:48:15Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 33910, "attachment_id": null, "id": 71998, "time": "2005-03-08T19:23:37Z", "creator": "remm@apache.org", "creation_time": "2005-03-08T19:23:37Z", "is_private": false, "text": "We will not provide this support."}, {"attachment_id": null, "tags": [], "creator": "trajano@yahoo.com", "text": "(In reply to comment #1)\n> We will not provide this support.\n\nWithout this support it seems that objects with finalizers will not get their \nfinalizers executed when the container destroys the application instance.  Is \nthere any reason why this support would not be provided?", "count": 2, "id": 72001, "time": "2005-03-08T20:10:59Z", "bug_id": 33910, "creation_time": "2005-03-08T20:10:59Z", "is_private": false}, {"count": 3, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "Yes. There is no guarantee when (or even if) finializers or garbage collection\nbe called for any object in any Java application. The JVM is free to do this as\nlittle or as often as it chooses.", "id": 72024, "time": "2005-03-08T23:49:31Z", "bug_id": 33910, "creation_time": "2005-03-08T23:49:31Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 33910, "text": "Okay I thought System.runFinalization() ensures that it does finalize anything \nthat is pending.  According to the API docs", "id": 72027, "time": "2005-03-09T00:09:33Z", "creator": "trajano@yahoo.com", "creation_time": "2005-03-09T00:09:33Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 33910, "text": "> Without this support it seems that objects with finalizers will not get their \n> finalizers executed when the container destroys the application instance.  Is \n> there any reason why this support would not be provided?\n\nYou could use a ServletContextListener [1] in your application to detect when an\napplication is initialized or destroyed by the container. That way you will be\nable to perform the necessary initialization and cleanup in your application\ndepending on the event.\n\n[1]\nhttp://java.sun.com/products/servlet/2.3/javadoc/javax/servlet/ServletContextListener.html", "id": 75080, "time": "2005-05-19T20:37:37Z", "creator": "fredrik.westermarck@mdh.se", "creation_time": "2005-05-19T20:37:37Z", "is_private": false, "attachment_id": null}]