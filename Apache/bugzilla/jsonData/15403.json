[{"count": 0, "tags": [], "bug_id": 15403, "attachment_id": null, "id": 27881, "time": "2002-12-16T15:42:31Z", "creator": "bholcombe@3veni.com", "creation_time": "2002-12-16T15:42:31Z", "is_private": false, "text": "I started with the source code that appeared in the OnJava article\nhttp://www.onjava.com/pub/a/onjava/2002/04/03/tomcat.html. I am trying\nto serve a webapp that works fine when I run Tomcat standalone. When\nI start the embedded Tomcat, it serves HTML pages just fine. When trying\nto serve JSPs however, the servlet code is generated, but the compile\nfails (log at the end of this message, my changes to the source follow\nthat). I suspect that it fails because Ant can't resolve any java files\nin the work directory, since the compile fails with:\n\nError compiling file: C:\\Program Files\\Apache Group\\Tomcat\n4.1\\work\\_\\localhost\\texas\\/index_jsp.java \n\n\n\nThe log shows:\n\nCreating engine\nCreating host 'localhost' with appBase 'C:/Program Files/Apache\nGroup/Tomcat 4.1/webapps'\nCreating context '' with docBase 'C:/Program Files/Apache Group/Tomcat\n4.1/webapps/ROOT'\nCreating context '/examples' with docBase 'C:/Program Files/Apache\nGroup/Tomcat 4.1/webapps/examples/jsp'\nCreating context '/tomcat-docs' with docBase 'C:/Program Files/Apache\nGroup/Tomcat 4.1/webapps/tomcat-docs'\nAdding engine (org.apache.catalina.core.StandardEngine/1.0)\nCreating connector for address='ALL' port='80' secure='false'\nAdding connector (org.apache.coyote.tomcat4.CoyoteConnector2/1.0)\nStarting embedded server\nApache Tomcat/4.1.12\nStandardContext[]: Starting\nStandardContext[]: Processing start(), current available=false\nStandardContext[]: Configuring default Resources\nStandardContext[]: Configuring non-privileged default Loader\nStandardContext[]: Configuring default Manager\nStandardContext[]: Processing standard container startup\nWebappLoader[]: Deploying class repositories to work directory\nC:\\Program Files\\Apache Group\\Tomcat 4.1\\work\\_\\localhost\\_\nContextConfig[]: ContextConfig: Processing START\nStandardContext[]: Setting deployment descriptor public ID to '-//Sun\nMicrosystems, Inc.//DTD Web Application 2.3//EN'\nStandardContext[]: Setting deployment descriptor public ID to '-//Sun\nMicrosystems, Inc.//DTD Web Application 2.3//EN'\nContextConfig[]:  Accumulating TLD resource paths\nContextConfig[]:   Scanning <taglib> elements in web.xml\nContextConfig[]:   Scanning TLDs in /WEB-INF subdirectory\nContextConfig[]:   Scanning JARs in /WEB-INF/lib subdirectory\nContextConfig[]: Added certificates -> request attribute Valve\nContextConfig[]: Pipline Configuration:\nContextConfig[]:   org.apache.catalina.valves.CertificatesValve/1.0\nContextConfig[]:   org.apache.catalina.core.StandardContextValve/1.0\nContextConfig[]: ======================\nNamingContextListener[/null/localhost]: Creating JNDI naming context\nNamingContextListener[/null/localhost]:   Resource parameters for\nUserTransaction = null\nStandardManager[]: Seeding random number generator class\njava.security.SecureRandom\nStandardManager[]: Seeding of random number generator has been completed\nStandardContext[]: Posting standard context attributes\nStandardContext[]: Configuring application event listeners\nStandardContext[]: Sending application start events\nStandardContext[]: Starting filters\nStandardWrapper[:default]: Loading container servlet default\nStandardWrapper[:invoker]: Loading container servlet invoker\nStandardContext[]: Starting completed\n0 [main] INFO http11.Http11Protocol  - Initializing Coyote HTTP/1.1 on\nport 80\n61 [main] INFO http11.Http11Protocol  - Starting Coyote HTTP/1.1 on port 80\nStandardHost[localhost]: Installing web application at context path\n/texas from URL file://C:/Program Files/Apache Group/Tomcat\n4.1/webapps/texas\nWebappLoader[/texas]: Deploying class repositories to work directory\nC:\\Program Files\\Apache Group\\Tomcat 4.1\\work\\_\\localhost\\texas\nWebappLoader[/texas]: Deploy class files /WEB-INF/classes to C:\\Program\nFiles\\Apache Group\\Tomcat 4.1\\webapps\\texas\\WEB-INF\\classes\nWebappLoader[/texas]: Deploy JAR /WEB-INF/lib/dom4j.jar to C:\\Program\nFiles\\Apache Group\\Tomcat 4.1\\webapps\\texas\\WEB-INF\\lib\\dom4j.jar\nWebappLoader[/texas]: Deploy JAR /WEB-INF/lib/filetags.jar to C:\\Program\nFiles\\Apache Group\\Tomcat 4.1\\webapps\\texas\\WEB-INF\\lib\\filetags.jar\nWebappLoader[/texas]: Deploy JAR /WEB-INF/lib/xtags.jar to C:\\Program\nFiles\\Apache Group\\Tomcat 4.1\\webapps\\texas\\WEB-INF\\lib\\xtags.jar\nContextConfig[/texas]: Added certificates -> request attribute Valve\nStandardManager[/texas]: Seeding random number generator class\njava.security.SecureRandom\nStandardManager[/texas]: Seeding of random number generator has been\ncompleted\nStandardWrapper[/texas:default]: Loading container servlet default\nStandardWrapper[/texas:invoker]: Loading container servlet invoker\nStandardEngine[null]: Mapping server name 'localhost'\nStandardEngine[null]:  Trying a direct match\nStandardHost[localhost]: Mapping request URI '/texas/index.jsp'\nStandardHost[localhost]:   Trying the longest context path prefix\nStandardHost[localhost]:  Mapped to context '/texas'\nError compiling file: C:\\Program Files\\Apache Group\\Tomcat\n4.1\\work\\_\\localhost\\texas\\/index_jsp.java     [javac] Compiling 1\nsource file\n\n\nStandardWrapperValve[jsp]: Servlet.service() for servlet jsp threw exception\norg.apache.jasper.JasperException: Unable to compile class for JSP\nAn error occurred at line: -1 in the jsp file: null\nGenerated servlet error:\n    [javac] Compiling 1 source file\n    at\norg.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:120)\n    at\norg.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:293)\n    at org.apache.jasper.compiler.Compiler.generateClass(Compiler.java:313)\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:324)\n    at\norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:474)\n..."}]