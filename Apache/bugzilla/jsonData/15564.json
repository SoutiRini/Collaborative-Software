[{"count": 0, "tags": [], "bug_id": 15564, "text": "I think I've found a bug in the fop library.\n\nI' using fop 0.20.4 with an xsl file containing this part of code:\n\n----------------------------------------\n\n<xsl:template match=\"/\">\n\t<fo:root xmlns:fo=\"http://www.w3.org/1999/XSL/Format\">\n\t\t<fo:layout-master-set>\n\t\t\t<fo:simple-page-master master-name=\"LibroProtocollo\">\n\t                                              page-width=\"35cm\"  \n\t                                              page-height=\"18cm\"\n                                                      margin-top=\"1.0cm\"  \n                                                      margin-bottom=\"1.0cm\">\n\t\t\t<fo:region-body margin-top=\"0.55in\" margin-\nbottom=\"0.55in\" margin-left=\"0.15in\" margin-right=\"0.5in\"/>\n\t\t\t\t<fo:region-before extent=\"0.5in\"/>\n\t\t\t\t<fo:region-after extent=\"0.5in\"/>\n\t\t\t</fo:simple-page-master>\n\t\t</fo:layout-master-set>\n\t\t<fo:page-sequence master-reference=\"LibroProtocollo\">\n\t\t\t<fo:flow flow-name=\"xsl-region-body\">\n\t\t\t\t<xsl:apply-templates \nselect=\"...ZZ../ResultData/LibroProtocollo/PagineLibro/PaginaLibro\"/>\n\t\t\t</fo:flow>\n\t\t</fo:page-sequence>\n\t</fo:root>\n</xsl:template>\n<xsl:template \nmatch=\"...ZZ.../ResultData/LibroProtocollo/PagineLibro/PaginaLibro\">\n\t<fo:block>\n\t\t<fo:block text-align=\"center\" font-size=\"8pt\" font-\nfamily=\"Times Roman\">\n                <xsl:value-of select=\"../../Intestazione\"/></fo:block>\n\t\t<fo:block>&#160;</fo:block>\n\t<xsl:call-template name=\"header\"/>\n\t\t<xsl:apply-templates select=\"Protocolli\"/>\n\t</fo:block>\n</xsl:template>\n<xsl:template match=\"Protocolli\">\n\t<fo:block break-after=\"page\">\n\t\t<xsl:for-each select=\"Protocollo\">\n\t\t\t<xsl:call-template name=\"item\"/>\n\t\t</xsl:for-each>\n\t\t<xsl:call-template name=\"footer\"/>\n\t</fo:block>\n</xsl:template>\n\n----------------------------------------\n\nOk. In the xml file, I have a \"Protocolli\" element, with many \"PaginaLibro\" \nand \"Protocolli\" subelements. The genereted pdf file is ok, but the fop \nproduces an annoying blank page at the end of the document. It's a <fo:block \nbreak-after=\"page\"> issue, I suppose... \n\nI've searched in bugzilla-fop, but no-one seems to have recognize it... if you \ncan't reproduce it, notify it to me at andrea.nironi@email.it and I will send \nyou the complete xml and xsl files.\n\nExcuse for my very poor english and thanks for your precious work.\n\nRegards, Andrea", "id": 28105, "time": "2002-12-20T11:11:31Z", "creator": "andrea.nironi@email.it", "creation_time": "2002-12-20T11:11:31Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "j3322ptm@yahoo.de", "text": "I suppose it is indeed a break-after=\"page\" issue. (XSLT snippets don't really\nhelp in such cases).\nThe spec is a bit ambiguous on how to handle this, more specifically, it doesn't\nsay that some areas generated by FO from the flow have to follow a forced page\nbreak in order to generate a new page. Formally nailing down the behaviour will\nprobably become messy due to footnotes. Implementation will likely be messy too.\nI don't consider this a real bug until clarified.\n\nUsually it should be possible not to generate the forced page break on the last\nblock, for example:\n<xsl:template match=\"Protocolli\">\n  <fo:block>\n    <xsl:if test=\"position()!=last()\">\n      <xsl:attribute name=\"break-after\">page</xsl:attribute>\n    </xsl:if>\n    ....", "count": 1, "id": 28107, "time": "2002-12-20T11:59:50Z", "bug_id": 15564, "creation_time": "2002-12-20T11:59:50Z", "is_private": false}, {"count": 2, "text": "batch transition to closed remaining pre-FOP1.0 resolved bugs", "bug_id": 15564, "is_private": false, "id": 156880, "time": "2012-04-01T13:54:19Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T13:54:19Z", "tags": [], "attachment_id": null}]