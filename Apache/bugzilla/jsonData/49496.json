[{"count": 0, "tags": [], "bug_id": 49496, "attachment_id": null, "text": "[This was posted on dev@apr.apache.org mailing list - saw no reply]\n\nI am using subversion client on HP-UX which has a dependency on apr, apr-util. The packages available for HP-UX porting and archiving center from\n\nhttp://hpux.connect.org.uk/hppd/hpux/Development/Libraries/apr-0.9.18/\n\nhas password truncation issue on HP-UX (all versions, 11.11, 11.23, 11,31) on PA-RISC and IA64.\n\nI could track the issue to HP-UX getpass() API which truncates the password at 8 characters. Unfortunately, apr configure scripts finds and uses getpass() HP-UX API. To resolve the issue I had to edit .../apr-0.9.18/passwd/apr_getpass.c to manually undefine HAVE_GETPASS and let apr internal getpass() function be used.\n\n#if defined(__hpux) || defined(__hpux__)\n  #undef HAVE_GETPASS\n#endif\n\nI checked the apr source tree up to 1.4.2 and the issue is present in all apr versions.\n\nThe recommended password reading API on HP-UX is getpasswd() defined in libsec. I would like to request apr developers to resolve the apr issue on HP-UX by either of following methods,\n\n- On HP-UX, always use apr internal getpass() / apr_getpass().\n- On HP-UX, configure should check for getpasswd() available in libsec library.\n\nIf this issue could be resolved in apr on HP-UX, we don't need users to make source change to apr to be able to use it on HP-UX with password lengths greater than 8 characters.\n\nThis is a critical issue being faced on HP-UX while using subversion client.\n\nRegards\n-Rajesh", "id": 137875, "time": "2010-06-24T07:10:24Z", "creator": "rajeshkc@yahoo.com", "creation_time": "2010-06-24T07:10:24Z", "is_private": false}, {"count": 1, "tags": [], "creator": "eflash@gmx.net", "attachment_id": null, "text": "Rajesh,\n(In reply to comment #0)\n> The recommended password reading API on HP-UX is getpasswd() defined in libsec.\n> I would like to request apr developers to resolve the apr issue on HP-UX by\n> either of following methods,\n> \n> - On HP-UX, always use apr internal getpass() / apr_getpass().\n> - On HP-UX, configure should check for getpasswd() available in libsec library.\nunfortunately I wasnt able to find a prototype for HP-UX getpasswd(),\nalso seems its API is inconsistent, f.e. I found this:\nhttp://www.ucolick.org/~will/RUE/super/WhatsNew\n    B.\tFix for HP-UX 11.0 with tcb enabled: the argument list of the\n\t(undocumented but essential) getpasswd() function has changed\n\tbetween 10.20 and 11.0.\ntherefore I went with your 1st suggestion and commited a fix to APR trunk:\nhttp://svn.apache.org/viewvc?view=revision&revision=1070855\nunless someone objects I will soon backport this fix to 1.4.x, 1.3.x and 0.9.x.", "id": 144296, "time": "2011-02-15T07:19:16Z", "bug_id": 49496, "creation_time": "2011-02-15T07:19:16Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 49496, "attachment_id": null, "text": "Applied to all remaining branches:\nhttp://svn.apache.org/viewvc?rev=1071974&view=rev\nhttp://svn.apache.org/viewvc?rev=1071977&view=rev\nhttp://svn.apache.org/viewvc?rev=1071978&view=rev\nhttp://svn.apache.org/viewvc?rev=1071979&view=rev\n\nbug closed. Thanks for the report.", "id": 144401, "time": "2011-02-18T07:20:16Z", "creator": "eflash@gmx.net", "creation_time": "2011-02-18T07:20:16Z", "is_private": false}]