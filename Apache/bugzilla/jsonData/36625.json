[{"count": 0, "tags": [], "text": "Warning: attached patch is completely empirical. Which is why this issue doesn't\nhave [PATCH] in the title...\n\nThere is a bug for percentage resolution in side regions :\nSpecifying 100% as inline-progression-dimension on a block-container, or a table\n(useful to layout information in a header/footer) does not give the proper\nresult : the result has an IPD of zero (maybe even less).\n\nThe origin of the problem is rather simple to explain : the getBaseLength method\nasks the base length for the percentage to the BlockContainerLayoutManager,\nwhich in turn asks its parent LayoutManager, StaticContentLayoutManager, its\ncontentAreaIPD, via getContentAreaIPD. Problem is, this value is not initialized.\n\nThe problem does not occur within the flow: the parent layout manager, in this\ncase, is the FlowLayoutManager ; the getContentAreaIPD of this LM gets the\ncolWidth of its current span, and that information is initialized.\n\nI tried an empirical solution, adding setContentAreaIPD(context.getRefIPD()); to \norg.apache.fop.layoutmgr.StaticContentLayoutManager.StaticContentBreaker.getNextKnuthElements.\nThis gives the correct result in my sample case, of course ; but my knowledge of\nthe layout is far too minimal to know whether this is wise and accurate or\nstupid and buggy\u2026 Even if the solution were correct, other areas of the code\nmight need similar modifications.\n\nAttached are :\n- A testcase and before/after PDF results\n- A one line empirical patch", "attachment_id": null, "bug_id": 36625, "id": 79835, "time": "2005-09-12T23:49:06Z", "creator": "yvalot@gmail.com", "creation_time": "2005-09-12T23:49:06Z", "is_private": false}, {"count": 1, "tags": [], "creator": "yvalot@gmail.com", "is_private": false, "id": 79836, "attachment_id": 16374, "bug_id": 36625, "creation_time": "2005-09-12T23:52:41Z", "time": "2005-09-12T23:52:41Z", "text": "Created attachment 16374\nTestcase"}, {"count": 2, "tags": [], "creator": "yvalot@gmail.com", "attachment_id": 16374, "id": 79837, "time": "2005-09-12T23:53:24Z", "bug_id": 36625, "creation_time": "2005-09-12T23:53:24Z", "is_private": false, "text": "Comment on attachment 16374\nTestcase\n\nTestcase with two pages, second page with reference-orientation=90 to swap ipd\nand bpd"}, {"count": 3, "tags": [], "bug_id": 36625, "is_private": false, "text": "Created attachment 16375\nTestcase result before fix", "id": 79838, "time": "2005-09-12T23:54:28Z", "creator": "yvalot@gmail.com", "creation_time": "2005-09-12T23:54:28Z", "attachment_id": 16375}, {"count": 4, "tags": [], "text": "Created attachment 16376\nTestcase result after fix", "attachment_id": 16376, "bug_id": 36625, "id": 79839, "time": "2005-09-12T23:55:02Z", "creator": "yvalot@gmail.com", "creation_time": "2005-09-12T23:55:02Z", "is_private": false}, {"count": 5, "tags": [], "text": "Created attachment 16377\nAn empirical patch", "attachment_id": 16377, "id": 79840, "creator": "yvalot@gmail.com", "time": "2005-09-12T23:56:19Z", "bug_id": 36625, "creation_time": "2005-09-12T23:56:19Z", "is_private": false}, {"count": 6, "text": "Thanks for the bug report Yannick.\n\nI'll take ownership of this bug. When I did the percentage changes recently I \ndid put the non normal regions on my \"still to be checked\" list but haven't got \naround to it yet. I am therefore not surprised that there are still problems in \nthat area.\n\n", "bug_id": 36625, "is_private": false, "id": 79927, "time": "2005-09-14T10:42:32Z", "creator": "mm@arcus.com.au", "creation_time": "2005-09-14T10:42:32Z", "tags": [], "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 36625, "attachment_id": null, "id": 80040, "time": "2005-09-16T16:45:50Z", "creator": "mm@arcus.com.au", "creation_time": "2005-09-16T16:45:50Z", "is_private": false, "text": "Forgot to add fop-dev@xmlgraphics.apache.org to the Cc list when I assigned the \nbug to myself - still learning!"}, {"count": 8, "tags": [], "bug_id": 36625, "attachment_id": null, "id": 80134, "time": "2005-09-19T22:32:23Z", "creator": "yvalot@gmail.com", "creation_time": "2005-09-19T22:32:23Z", "is_private": false, "text": "It seems as if Jeremias cleanly corrected this problem last week, at least for\nside-regions (which was what the bug was about) :\n\nhttp://svn.apache.org/viewcvs?rev=289426&view=rev\n\nThanks :)\n\nI hope it's ok if I close the bug myself ? "}, {"count": 9, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "bug_id": 36625, "is_private": false, "id": 156338, "time": "2012-04-01T07:11:17Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T07:11:17Z", "tags": [], "attachment_id": null}]