[{"count": 0, "tags": [], "bug_id": 43028, "text": "I'm using the <service> element in the jar task to generate the appropriate\nfiles to load a service via Java6's java.util.ServiceLoader.\n\nThe jar task is incorrectly generating the directory as \"service\" when it should\nbe \"services\", and thus the service loading fails.\n\nI believe the error could easily be fixed in org/apache/tools/ant/taskdefs;\n\n     private void writeServices(ZipOutputStream zOut) throws IOException {\n        Iterator serviceIterator;\n        Service service;\n\n        serviceIterator = serviceList.iterator();\n        while (serviceIterator.hasNext()) {\n           service = (Service) serviceIterator.next();\n           //stolen from writeManifest\n           super.zipFile(service.getAsStream(), zOut,\n                         \"META-INF/service/\" + service.getType(), //should be\n\"services\"\n                         System.currentTimeMillis(), null,\n                         ZipFileSet.DEFAULT_FILE_MODE);\n        }\n    }", "id": 106316, "attachment_id": null, "creator": "amy.fowler@sun.com", "creation_time": "2007-08-03T19:56:02Z", "time": "2007-08-03T19:56:02Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 43028, "text": "\n\n*** This bug has been marked as a duplicate of 41201 ***", "id": 106317, "attachment_id": null, "creator": "mbenson@apache.org", "creation_time": "2007-08-03T20:13:18Z", "time": "2007-08-03T20:13:18Z", "is_private": false}]