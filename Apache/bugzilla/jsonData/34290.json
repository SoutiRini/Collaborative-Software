[{"count": 0, "tags": [], "text": "There are two methods, org.apache.lenya.ac.impl.DefaultPolicy.getRoles() and\norg.apache.lenya.ac.impl.URLPolicy.getRoles(), which perform an unnecessary cast\nto AbstractRole.\n\nBoth methods return Role[], but try to populate an array of type AbstractRole[].\nThis fails with an ArrayStoreException if using an implementation of Role which\nis not derived from AbstractRole.\n\nI have created a patch that changes this behavior. Initial tests showed no\nnegative side effects.", "is_private": false, "bug_id": 34290, "id": 73260, "time": "2005-04-04T17:00:01Z", "creator": "jb@dserv.net", "creation_time": "2005-04-04T17:00:01Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "jb@dserv.net", "is_private": false, "text": "Created attachment 14614\nPatch for DefaultPolicy and URLPolicy", "id": 73261, "time": "2005-04-04T17:01:00Z", "bug_id": 34290, "creation_time": "2005-04-04T17:01:00Z", "attachment_id": 14614}, {"count": 2, "tags": [], "text": "this has been applied. thanks.", "is_private": false, "bug_id": 34290, "id": 73370, "time": "2005-04-07T02:28:43Z", "creator": "gregor@apache.org", "creation_time": "2005-04-07T02:28:43Z", "attachment_id": null}]