[{"count": 0, "attachment_id": null, "bug_id": 22148, "is_private": false, "id": 42186, "time": "2003-08-05T20:25:33Z", "creator": "daniel.armbrust@mayo.edu", "creation_time": "2003-08-05T20:25:33Z", "tags": [], "text": "The new <different> selector works like this, according to the documentation:\n\n1. If there is no 'other' file, it's different.\n2. Files with different lengths are different.\n3. If ignoreFileTimes is turned off, then differing file timestamps will cause\nfiles to be regarded as different.\n4. Finally a byte-for-byte check is run against the two files \n\nA byte for byte compairson is far to slow to use for copying large amounts of\nfiles across a network connection.  I was going to propose that we add a new\nstep after 3 that would do an MD5 compairson, and then make step 4 optional but\nthen realized that you have to read the whole file to compute an MD5.  So that\nwouldn't really help.  \n\nSo I would like to ask that step 4 be made optional, so that when we can avoid\nthe time expense of comparing the files if necessary.\n\nAlso, could this be done before 1.6 goes final?"}, {"count": 1, "tags": [], "bug_id": 22148, "is_private": false, "id": 42190, "creation_time": "2003-08-05T20:28:26Z", "time": "2003-08-05T20:28:26Z", "creator": "ddevienne@lgc.com", "text": "See previous post...\n\nAgain, the MD5 sum has to come from somewhere! --DD", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 22148, "attachment_id": null, "id": 42195, "creation_time": "2003-08-05T20:42:47Z", "time": "2003-08-05T20:42:47Z", "creator": "daniel.armbrust@mayo.edu", "text": "Sorry, I didn't clarify myself quite enough.  Given that a MD5 will actually\nmake things slower, I just would like the feature request to be:\n\nMake the byte-for-byte comparison optional (it can be on by default - just so we\nhave a way to disable it).", "is_private": false}, {"count": 3, "tags": [], "bug_id": 22148, "attachment_id": null, "is_private": false, "id": 42198, "time": "2003-08-05T20:53:50Z", "creator": "daniel.armbrust@mayo.edu", "creation_time": "2003-08-05T20:53:50Z", "text": "*** Bug 16270 has been marked as a duplicate of this bug. ***"}, {"count": 4, "tags": [], "bug_id": 22148, "attachment_id": null, "text": "Now I'm confused. If different doesnt do byte-for-byte, how is it going to\ncompare versions?\n\nIts not going to be very different; you want a test that says <differentsizes>\nsince that is all you are effectively testing.\n\n", "id": 42215, "time": "2003-08-05T22:09:16Z", "creator": "stevel@apache.org", "creation_time": "2003-08-05T22:09:16Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 22148, "attachment_id": null, "is_private": false, "id": 42253, "time": "2003-08-06T13:06:20Z", "creator": "daniel.armbrust@mayo.edu", "creation_time": "2003-08-06T13:06:20Z", "text": "What I'm trying to find is a solution for copying files onto a samba mounted\ndrive.  A basic copy ends up copying too many files, due to the time stamp\nissues detailed in bug 16270.  <different> is not useful, because this in effect\ncopies every file across the network, which is really slow.  I could get what I\nwanted by  using <different> and setting the granularity to 1 second, but only\nif I can disable the byte-for-byte check.\n"}, {"count": 6, "attachment_id": null, "bug_id": 22148, "text": "Can you use the <depend> selector with a tuned granularity. <different> is just\na subclass of <depend>. ", "id": 42278, "time": "2003-08-06T17:48:24Z", "creator": "stevel@apache.org", "creation_time": "2003-08-06T17:48:24Z", "tags": [], "is_private": false}, {"count": 7, "attachment_id": null, "bug_id": 22148, "text": "That would do it.  I completely missed that one.\n\nI'll close this bug.\n\nI'd still like some insight into bug 22150 however, which also suffers from the\nsame issues with timestamps.  The patch that I posted there basically moves the\ngranularity value into the copy task instead of using a selector to do it.  See\nthe bug for more details on why it can't be done with a selector.", "id": 42279, "time": "2003-08-06T17:59:39Z", "creator": "daniel.armbrust@mayo.edu", "creation_time": "2003-08-06T17:59:39Z", "tags": [], "is_private": false}]