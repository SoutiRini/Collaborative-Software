[{"count": 0, "tags": [], "bug_id": 56210, "attachment_id": null, "text": "I found a weird struct declaration in function ssl_util_thr_id as we can see bellow. Several tools are pointing to possible null deference at line (return psaptr->PSATOLD;).\n\n\n\nstatic unsigned long ssl_util_thr_id(void)\n{\n    /* OpenSSL needs this to return an unsigned long.  On OS/390, the pthread\n     * id is a structure twice that big.  Use the TCB pointer instead as a\n     * unique unsigned long.\n     */\n#ifdef __MVS__\n    struct PSA {\n        char unmapped[540];\n        unsigned long PSATOLD;\n    } *psaptr = 0;\n\n    return psaptr->PSATOLD;\n#else\n    return (unsigned long) apr_os_thread_current();\n#endif\n}", "id": 173602, "time": "2014-03-03T18:53:42Z", "creator": "flaviomotamedeiros@gmail.com", "creation_time": "2014-03-03T18:53:42Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 56210, "is_private": false, "text": "Hello Flavio,\n\nPlease, refer to the following link:\n- http://pic.dhe.ibm.com/infocenter/cicsts/v4r2/index.jsp?topic=%2Fcom.ibm.cics.ts.performance.doc%2Ftopics%2Fdfht3c00458.html\n\nAccording to this virtual storage map for MVS, the PSA actually begins at virtual storage address 0.\nSo the dereference of a null pointer is correct in this case.\n\nThanks,\n\nMike Rumph", "id": 173604, "time": "2014-03-03T19:28:45Z", "creator": "mike.rumph@oracle.com", "creation_time": "2014-03-03T19:28:45Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 56210, "attachment_id": null, "id": 193069, "time": "2016-08-12T11:48:24Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2016-08-12T11:48:24Z", "is_private": false, "text": "For the sake of completeness here are some documents showing the 540 bytes offset to PSATOLD:\n\nhttp://www.ibm.com/support/knowledgecenter/SSLTBW_2.2.0/com.ibm.zos.v2r2.iead300/iead300767.htm\n\nhttp://publibz.boulder.ibm.com/cgi-bin/bookmgr_OS390/BOOKS/IEA2D370/195.1.1?SHELF=IEA2BK70&DT=20060503161835&CASE="}]