[{"count": 0, "attachment_id": null, "creator": "jerj@coplanar.net", "is_private": false, "id": 105256, "time": "2007-07-10T16:01:01Z", "bug_id": 42848, "creation_time": "2007-07-10T16:01:01Z", "tags": [], "text": "The original author in the URL requires APR support to port mod_iptos to\nApache2.  I am also interested in this for making mod_php5 able to alter it the\nIP_TOS/DiffServ values of the http connection it's output is using."}, {"count": 1, "tags": [], "bug_id": 42848, "is_private": false, "id": 105257, "creation_time": "2007-07-10T16:01:54Z", "time": "2007-07-10T16:01:54Z", "creator": "jerj@coplanar.net", "text": "There is a patch but I am not the original author, see URL for details.", "attachment_id": null}, {"count": 2, "attachment_id": 24685, "creator": "philipp@redfish-solutions.com", "text": "Created attachment 24685\nPatch to add SOL_IP/IP_TOS support to apr_socket_opt_set()\n\nI couldn't find the originally mentioned patch in the comments (seems to be an invalid link).", "id": 132702, "time": "2009-12-09T17:26:31Z", "bug_id": 42848, "creation_time": "2009-12-09T17:26:31Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "wrowe@apache.org", "text": "This is only reasonable to consider if we map the solaris equivilants and truly\noffer portable TOS control.  Of course; whos do we 'advertise' in terms of\nthe API?\n\nmod_ftp already supports both API's but didn't attempt to abstract it; c.f.\n\nhttp://svn.apache.org/repos/asf/httpd/mod_ftp/trunk/modules/ftp/ftp_data_connection.c", "id": 132703, "attachment_id": null, "bug_id": 42848, "creation_time": "2009-12-09T18:18:03Z", "time": "2009-12-09T18:18:03Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 42848, "text": "Created attachment 24687\nPatch to have mod_ftp use the apr_socket_opt_set() interface for IP ToS", "id": 132705, "time": "2009-12-09T21:50:48Z", "creator": "philipp@redfish-solutions.com", "creation_time": "2009-12-09T21:50:48Z", "is_private": false, "attachment_id": 24687}, {"count": 5, "tags": [], "bug_id": 42848, "text": "Added to STATUS; note the reporter mixed up my reference, it is a pointer to\nprovide BOTH TOS control API's, not a request for the patch to use this 1/2\nof an implementation :)\n\nWill work up the proper patch, just placing this in STATUS so it isn't dropped.", "id": 135498, "time": "2010-03-22T04:28:16Z", "creator": "wrowe@apache.org", "creation_time": "2010-03-22T04:28:16Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 42848, "text": "(In reply to comment #5)\n> Added to STATUS; note the reporter mixed up my reference, it is a pointer to\n> provide BOTH TOS control API's, not a request for the patch to use this 1/2\n> of an implementation :)\n> \n> Will work up the proper patch, just placing this in STATUS so it isn't dropped.\n\nNot quite sure what you're saying.\n\nToS (i.e. the dangerously obsolete RFC-791 meaning of the ToS and precedence bits) and QoS both use the same API.\n\nThe only difference is what bits are passed in this 8-bit field, and how the underlying network fabric chooses to interpret them.\n\nNote also that the bit 0x02 (IPTOS_LOWCOST) may not be supported by a lot of Linuxen: as per RFC 3168, section 5, the low-order 2 bits of the ip_tos field are reserved now for Explicit Congestion Notification, and are ignored (actually, \"clobbered\" if set) by Linux 2.6.20 and later.\n\nSo to reiterate, there's one API, because only one is needed. There is no point in having two, because interpretation of the bits as QoS or ToS isn't done on the end-system, it's done in the network fabric... well beyond the reach of any OS API.", "id": 135499, "time": "2010-03-22T05:35:57Z", "creator": "philipp@redfish-solutions.com", "creation_time": "2010-03-22T05:35:57Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 42848, "is_private": false, "id": 135510, "creation_time": "2010-03-22T06:06:06Z", "time": "2010-03-22T06:06:06Z", "creator": "wrowe@apache.org", "text": "The Network behavior is identically.\n\nThe C preprocessor constant names vary, you can refer to Stevens, UNIX Network\nProgramming for reference.  Or you could have just stolen the config detection\ncode and conditionals I already researched, and pointed you to in mod_ftp.\nBut arguing against compile portability in a portability library doesn't help :-/", "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 42848, "attachment_id": null, "id": 135511, "time": "2010-03-22T06:14:10Z", "creator": "philipp@redfish-solutions.com", "creation_time": "2010-03-22T06:14:10Z", "is_private": false, "text": "(In reply to comment #7)\n> The Network behavior is identically.\n> \n> The C preprocessor constant names vary, you can refer to Stevens, UNIX Network\n> Programming for reference.  Or you could have just stolen the config detection\n> code and conditionals I already researched, and pointed you to in mod_ftp.\n> But arguing against compile portability in a portability library doesn't help\n> :-/\n\nSo, again, I wasn't arguing.  I was trying to figure out what you were saying.\n\nHence starting with, \"Not quite sure what you're saying.\"\n\nOk, I think I understand.  You're worried about the SOL_IP vs. IPPROTO_IP issue in Linux vs. BSD."}, {"count": 9, "tags": [], "bug_id": 42848, "attachment_id": 25156, "id": 135512, "creation_time": "2010-03-22T06:15:19Z", "time": "2010-03-22T06:15:19Z", "creator": "philipp@redfish-solutions.com", "text": "Created attachment 25156\nPatch to add SOL_IP/IP_TOS support to apr_socket_opt_set()\n\nRedone for Solaris/BSD portability.", "is_private": false}, {"count": 10, "attachment_id": null, "creator": "philipp@redfish-solutions.com", "is_private": false, "id": 135513, "time": "2010-03-22T07:34:31Z", "bug_id": 42848, "creation_time": "2010-03-22T07:34:31Z", "tags": [], "text": "Hmmm...  See also:\n\nhttps://sourceforge.net/tracker/?func=detail&atid=350976&aid=2915224&group_id=976\n\nfor at least one way to add autoconf support for detecting SOL_IP.  Though I suspect there's a simpler way to do it with just AC_TRY_CPP()."}, {"count": 11, "tags": [], "creator": "wrowe@apache.org", "text": "Warning; comment #10  references GPL code.  Dropping consideration of this\nsubmission; contributions must be compatible with the Apache License.\n\nreverting to the originally proposed\nhttp://qaix.com/apache-http-server/569-729-patch-add-ip-tos-support-read.shtml\nplus mod_ftp's support of solaris+linux.", "id": 135514, "attachment_id": null, "bug_id": 42848, "creation_time": "2010-03-22T07:46:48Z", "time": "2010-03-22T07:46:48Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 42848, "is_private": false, "text": "Created attachment 25211\nPatch to add SOL_IP/IP_TOS support to apr_socket_opt_set()", "id": 135781, "time": "2010-03-30T04:54:44Z", "creator": "philipp@redfish-solutions.com", "creation_time": "2010-03-30T04:54:44Z", "attachment_id": 25211}, {"count": 13, "tags": [], "creator": "philipp@redfish-solutions.com", "is_private": false, "id": 138132, "attachment_id": null, "bug_id": 42848, "creation_time": "2010-07-04T15:49:19Z", "time": "2010-07-04T15:49:19Z", "text": "Can you please update this bug report with a list of all blocking issues?"}, {"count": 14, "tags": [], "bug_id": 42848, "text": "Created attachment 25699\nAdd QoS support to APR.\n\nAs per William's comments that this previously didn't compile under Solaris (which doesn't have self-including header files).", "id": 138150, "time": "2010-07-05T02:07:37Z", "creator": "philipp@redfish-solutions.com", "creation_time": "2010-07-05T02:07:37Z", "is_private": false, "attachment_id": 25699}, {"count": 15, "attachment_id": 25700, "creator": "philipp@redfish-solutions.com", "is_private": false, "id": 138151, "time": "2010-07-05T02:18:00Z", "bug_id": 42848, "creation_time": "2010-07-05T02:18:00Z", "tags": [], "text": "Created attachment 25700\nAdd QoS support to APR."}, {"count": 16, "tags": [], "bug_id": 42848, "attachment_id": 27793, "id": 150645, "creation_time": "2011-10-16T20:15:47Z", "time": "2011-10-16T20:15:47Z", "creator": "philipp@redfish-solutions.com", "text": "Created attachment 27793\nUpdated patch for QoS support including autoconf hooks\n\nUpdating for the last year's worth of changes on trunk...", "is_private": false}, {"count": 17, "tags": [], "bug_id": 42848, "attachment_id": null, "text": "Offered a /bump on dev@apr in anticipation of a 1.6.0 tag.\n\nRe-reviewing, myself.", "id": 195339, "time": "2016-12-02T21:44:17Z", "creator": "wrowe@apache.org", "creation_time": "2016-12-02T21:44:17Z", "is_private": false}]