[{"count": 0, "tags": [], "creator": "ngrigoriev@gmail.com", "attachment_id": null, "text": "I have recently moved to Jmeter 2.11 from 2.9 and immediately noticed that all of my tests got corrupted. I have verified with one test using the original file and found that it is enough to open and save the test to get it corrupted.\n\nIt seems to me that some object properties just simply do not get written to the XML file. I found that it is not only my plug-ins but also some other 3rd party plug-ins suffer.\n\nI did the diff between \"before\" and \"after\" saving the JMX file using JMeter and I see a few changes like this:\n\n       <ResultCollector guiclass=\"StatVisualizer\" testclass=\"ResultCollector\" testname=\"Aggregate Report\" enabled=\"true\">\n         <boolProp name=\"ResultCollector.error_logging\">false</boolProp>\n         <objProp>\n-          <name>saveConfig</name>\n\n\n           <objProp>\n-            <name>discreete_buckets</name>\n             <value class=\"java.util.ArrayList\">\n               <com.mycompany.jmeter.utils.DDRRangeRecord>\n-                <probability>50.0</probability>\n\nI started looking at what could be the reason and found that my record class (the one that JMeter eventually serializes) is like this:\n\npublic class A implements Serializable {\n...\n  field A with getter and setter\n}\n\npublic class B extends A implements Serializable {\n  field B with getter and setter\n  field C with getter and setter\n}\n\nSo, fields B and C get serialized, A does not. If I add A to the class B - it works.\n\nWith Jmeter 2.9 all A,B and C would be serialized.", "id": 175715, "time": "2014-06-06T19:48:06Z", "bug_id": 56602, "creation_time": "2014-06-06T19:48:06Z", "is_private": false}, {"attachment_id": 31694, "tags": [], "bug_id": 56602, "is_private": false, "count": 1, "id": 175716, "time": "2014-06-06T20:08:25Z", "creator": "ngrigoriev@gmail.com", "creation_time": "2014-06-06T20:08:25Z", "text": "Created attachment 31694\nDummy test with ViewResultsFullVisualizer\n\nThis is probably one of the test cases. This was created with JMeter 2.9. Open it in 2.11, save and compare with the original. You will see that the element \"name\" (<name>saveConfig</name>) will disappear from the resulting JMX file."}, {"count": 2, "tags": [], "creator": "ngrigoriev@gmail.com", "attachment_id": null, "text": "I did some more testing and, unfortunately, found that it was all caused by Java 1.8. With 1.7 it seems to be working correctly. So, the issue is there but it seems to be really caused by JDK 1.8 or compatibility of some libraries with JDK 1.8.", "id": 175717, "time": "2014-06-06T20:44:31Z", "bug_id": 56602, "creation_time": "2014-06-06T20:44:31Z", "is_private": false}, {"count": 3, "text": "Hello,\nWe fixed an issue with Java8 , see 56080.\nCould you make a test with nightly build:\nhttp://jmeter.apache.org/nightly.html\n\n\n> Installing JMeter runtime\nDownload the _bin and _lib files\nUnpack the archives into the same directory structure\nThe other archives are not needed to run JMeter.", "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "id": 175719, "time": "2014-06-06T21:41:42Z", "bug_id": 56602, "creation_time": "2014-06-06T21:41:42Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "text": "Will try it, thanks for the hint. I was trying to find the matching existing issue before creating new one but could not come up with appropriate keywords :)", "is_private": false, "id": 175720, "creator": "ngrigoriev@gmail.com", "time": "2014-06-06T21:44:28Z", "bug_id": 56602, "creation_time": "2014-06-06T21:44:28Z", "attachment_id": null}, {"count": 5, "text": "Indeed it is a duplicate. I only had to replace xstream-1.4.4.jar with xstream-1.4.6.jar to get it working with jdk 1.8.\n\n*** This bug has been marked as a duplicate of bug 56080 ***", "creator": "ngrigoriev@gmail.com", "attachment_id": null, "id": 175721, "time": "2014-06-06T22:07:26Z", "bug_id": 56602, "creation_time": "2014-06-06T22:07:26Z", "tags": [], "is_private": false}]