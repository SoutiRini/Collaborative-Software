[{"count": 0, "tags": [], "text": "Created attachment 24066\nList of extensions used in 5.5.28\n\nThe builds/build.xml file has the following code:\n\n  <target name=\"package-src-tgz\">\n    <fixcrlf srcdir=\"${tomcat.dist}/src\"\n        excludes=\"**/*.bin,**/*.bmp,**/*.dia,**/*.exe,**/*.gif,**/*.ico,**/*.jar,**/*.jpg,**/*.pdf,**/*.rtf,**/*.war\"\n        eol=\"lf\"\n        encoding=\"ISO-8859-1\" fixlast=\"false\" />\n\nThe intention is to fix all the source files so that they are readable on Unix (LF) systems.\n\nHowever, the command is inherently unsafe - if a new binary file is added with an extension that is not listed, then the file will be damaged. In general it is impossible to reverse LF-conversion on a binary file.\n\nIt would be much safer to use includes instead. If a new source file type is added, then the worst that can happen is that the file is awkard to read on Unix. Unlike the case with binary files, the file can still be converted successfully.\n\nThe current list of extensions that are present in the 5.5.28 source archive are included in the file \"extensions.txt\".\n\nAt least two binary extensions (.db, .keystore) are currently missing from the excludes list.\n\nThere are quite a few files with no extension. These appear to be all text files, and are listed in the file \"no-extension.txt\" (duplicate names have been removed).", "attachment_id": 24066, "id": 129299, "creator": "sebb@apache.org", "time": "2009-07-30T11:52:49Z", "bug_id": 47609, "creation_time": "2009-07-30T11:52:49Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 47609, "is_private": false, "id": 129300, "attachment_id": 24067, "creator": "sebb@apache.org", "creation_time": "2009-07-30T11:53:24Z", "time": "2009-07-30T11:53:24Z", "text": "Created attachment 24067\nList of files with no extension"}, {"count": 2, "tags": [], "bug_id": 47609, "attachment_id": null, "id": 129365, "time": "2009-07-31T16:04:23Z", "creator": "fhanik@apache.org", "creation_time": "2009-07-31T16:04:23Z", "is_private": false, "text": "So the only safe way to do it, would be to specify an includes list instead of using an excludes.\nPatches welcome"}, {"count": 3, "tags": [], "text": "OK, I will create a patch shortly", "attachment_id": null, "id": 129372, "creator": "sebb@apache.org", "time": "2009-08-02T07:26:27Z", "bug_id": 47609, "creation_time": "2009-08-02T07:26:27Z", "is_private": false}, {"text": "Created attachment 24080\nfixcrlf use include rather than exclude", "tags": [], "creator": "sebb@apache.org", "is_private": false, "count": 4, "id": 129379, "time": "2009-08-02T08:24:37Z", "bug_id": 47609, "creation_time": "2009-08-02T08:24:37Z", "attachment_id": 24080}, {"count": 5, "tags": [], "bug_id": 47609, "attachment_id": 24081, "id": 129380, "time": "2009-08-02T08:29:53Z", "creator": "sebb@apache.org", "creation_time": "2009-08-02T08:29:53Z", "is_private": false, "text": "Created attachment 24081\nImproved patch - detab"}, {"count": 6, "tags": [], "text": "Modified patch applied to trunk and proposed for 6.0.x and 5.5.x", "attachment_id": null, "id": 132202, "creator": "markt@apache.org", "time": "2009-11-22T11:31:59Z", "bug_id": 47609, "creation_time": "2009-11-22T11:31:59Z", "is_private": false}, {"count": 7, "tags": [], "text": "Fixed in 6.0.22, 5.5.29.", "attachment_id": null, "id": 135062, "creator": "knst.kolinko@gmail.com", "time": "2010-03-04T20:30:20Z", "bug_id": 47609, "creation_time": "2010-03-04T20:30:20Z", "is_private": false}]