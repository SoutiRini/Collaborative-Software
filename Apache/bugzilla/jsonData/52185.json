[{"count": 0, "attachment_id": null, "creator": "oliver_lloyd@hotmail.com", "text": "The Synchronizing Timer is sometimes launching the first group of users too soon - ie. before the 'Number of Simulated Users to Group by' has been reached. Subsequent groups are fired correctly. This leads to orphan threads and untidy test termination.\n\nThis is an intermittent scenario, the very simple example below will reproduce this error about 50% of the time.\n\n\nThread Group - 12 Users, 16 Sec Ramp Up, 1 Iteration\n--Dummy Sampler\n----Synch Timer - Group By 3 (3 is a factor of 12)\n\nApprox. half of executions show that the 1st group to get fired off in synch is only composed of 2 users, not 3, which is unpredictable and leaves orphans. The rest of the time each synch group is correctly made up of 3 users and the test completes cleanly.\n\nNote. The results are still the same when the Synch timer is not a child of the Dummy Sampler.", "id": 151493, "time": "2011-11-14T22:30:01Z", "bug_id": 52185, "creation_time": "2011-11-14T22:30:01Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 52185, "is_private": false, "text": "Hello Oliver,\nVan you attach a simple test plan ?\nRegards\nPhilippe", "id": 151494, "time": "2011-11-14T22:57:56Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-11-14T22:57:56Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "oliver_lloyd@hotmail.com", "attachment_id": 27937, "is_private": false, "id": 151495, "time": "2011-11-14T23:11:09Z", "bug_id": 52185, "creation_time": "2011-11-14T23:11:09Z", "text": "Created attachment 27937\nSimple example test plan | Synchronizing Timer Issue\n\nAs requested, a simple test plan to replicate the issue."}, {"count": 3, "tags": [], "bug_id": 52185, "text": "Added attachment giving an example test plan to replicate the issue.", "id": 151496, "time": "2011-11-14T23:12:02Z", "creator": "oliver_lloyd@hotmail.com", "creation_time": "2011-11-14T23:12:02Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "oliver_lloyd@hotmail.com", "attachment_id": null, "is_private": false, "id": 151497, "time": "2011-11-14T23:36:00Z", "bug_id": 52185, "creation_time": "2011-11-14T23:36:00Z", "text": "Note. I just tried reproducing it again and it (annoyingly) is less predictable. For some reason, using a ramp up value of 10 makes it worse and it only seems to happen after I halt the previous execution (CMD + PERIOD). After changing the Rmap Up to 10 seconds and then forcing the previous test to stop it seems to get out of whack and subsequent test runs exhibit the problem. Closing and re-opening the test plan fixes it."}, {"count": 5, "tags": [], "bug_id": 52185, "text": "(In reply to comment #4)\n\n> Closing and re-opening the test plan fixes it.\n\nSo are you saying that the problem *only* occurs after a previously stopped test?\n\n[This would imply it could not happen in a batch test currently]", "id": 151499, "time": "2011-11-15T01:12:12Z", "creator": "sebb@apache.org", "creation_time": "2011-11-15T01:12:12Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 52185, "text": "Yes, I would agree on that point. When I started with a freshly opened testplan and let the code execute to completion each time the problem did not occur, even over multiple test runs. \n\nA cleanly executed batch run would not see this issue so arguably it's not a major issue. Perhaps the presence of this discussion and the link to it in the forum is sufficient to aid anyone that may be searching for the same problem.", "id": 151501, "time": "2011-11-15T01:22:15Z", "creator": "oliver_lloyd@hotmail.com", "creation_time": "2011-11-15T01:22:15Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 52185, "text": "(In reply to comment #6)\n> Yes, I would agree on that point. When I started with a freshly opened testplan\n> and let the code execute to completion each time the problem did not occur,\n> even over multiple test runs. \n\nOK, useful to know - should help pinpoint the error (which is why I asked).\n \n> A cleanly executed batch run would not see this issue so arguably it's not a\n> major issue. Perhaps the presence of this discussion and the link to it in the\n> forum is sufficient to aid anyone that may be searching for the same problem.\n\nIf it can be fixed, it should be, but as there is an easy work round it's not a high priority.", "id": 151502, "time": "2011-11-15T01:48:30Z", "creator": "sebb@apache.org", "creation_time": "2011-11-15T01:48:30Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "text": "This maybe already fixed if you confirm issue occured on Stopped Test plan.\nSee 51733.\n\nOtherwise issue maybe related to missing loop in wait, see 52183.\n\nOliver can you test with nightly build ?\n\nThanks", "is_private": false, "bug_id": 52185, "id": 151512, "time": "2011-11-15T13:27:14Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-11-15T13:27:14Z", "attachment_id": null}, {"count": 9, "attachment_id": null, "creator": "oliver_lloyd@hotmail.com", "text": "Ooh, buttons! OK, so I tested this on the nightly build and I can confirm that this problem is not present there. Switching back to 2.5.1 and I can replicate it again. Back to nightly (r1196526) and it goes away. \n\nFixed.", "id": 151517, "time": "2011-11-15T17:17:18Z", "bug_id": 52185, "creation_time": "2011-11-15T17:17:18Z", "tags": [], "is_private": false}, {"count": 10, "tags": [], "bug_id": 52185, "text": "\n\n*** This bug has been marked as a duplicate of bug 51733 ***", "id": 151518, "time": "2011-11-15T17:18:30Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-11-15T17:18:30Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "is_private": false, "id": 151520, "time": "2011-11-15T17:21:18Z", "bug_id": 52185, "creation_time": "2011-11-15T17:21:18Z", "text": "Thanks Oliver for your tests and time."}]