[{"count": 0, "attachment_id": null, "creator": "hussein@xmlmind.com", "text": "The source-resolution configuration option is not honored by FOP 0.93. Hence,\nthe default resolution of a bitmap image is hardwired to 72DPI, which is way too\nbig (XSL seems to say 90DPI, RenderX XEP uses 120DPI).\n\nOf course, there is workaround which consists in specifying the size of the\nimage in inches or in centimeters. But this workaround is not as handy as\nspecifying a proper source-resolution.\n\nI've made some very straightforward changes to\nsrc/java/org/apache/fop/image/analyser/BMPReader.java, GIFReader.java,\nJPEGReader.java, PNGReader.java, TIFFReader.java to make FOP honor the\nsource-resolution configuration option.\n\nIn all .java files, the changes always look like this:\n\n[1] Replace the definition of getDimension():\n\n+---------------------------------------------------------------+\nprivate FopImage.ImageInfo getDimension(byte[] header) {\n    FopImage.ImageInfo info = new FopImage.ImageInfo();\n    ...\n    return info;\n}\n+---------------------------------------------------------------+\n\nby:\n\n+---------------------------------------------------------------+\nprivate void getDimension(byte[] header, FopImage.ImageInfo info) {\n    ...\n}\n+---------------------------------------------------------------+\n\n[2] Replace the invokation of getDimension():\n\n+---------------------------------------------------------------+\n    FopImage.ImageInfo info = getDimension(header);\n+---------------------------------------------------------------+\n\nby:\n   \n+---------------------------------------------------------------+\n    FopImage.ImageInfo info = new FopImage.ImageInfo();\n    info.dpiHorizontal = ua.getFactory().getSourceResolution();\n    info.dpiVertical = info.dpiHorizontal;\n\n    getDimension(header, info);\n+---------------------------------------------------------------+\n\nIf you want a real patch, just send me an email saying so.", "id": 103160, "time": "2007-05-14T04:50:01Z", "bug_id": 42406, "creation_time": "2007-05-14T04:50:01Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": null, "creator": "bowditch_chris@hotmail.com", "text": "Thanks for the observation. Please can you attach a Patch file to this bug \nreport. Thanks!", "id": 103166, "time": "2007-05-14T06:11:05Z", "bug_id": 42406, "creation_time": "2007-05-14T06:11:05Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "hussein@xmlmind.com", "text": "Created attachment 20193\nPatch for FOP 0.93 src/java/org/apache/fop/image/analyser/ directory\n\nThis patch (generated using svn diff as explained on your site) will patch\nsrc/java/org/apache/fop/image/analyser/BMPReader.java, GIFReader.java,\nJPEGReader.java, PNGReader.java, TIFFReader.java to make these classes honor\nthe source-resolution configuration option.", "id": 103169, "attachment_id": 20193, "bug_id": 42406, "creation_time": "2007-05-14T07:16:54Z", "time": "2007-05-14T07:16:54Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 42406, "text": "Thanks!", "id": 103172, "time": "2007-05-14T07:32:12Z", "creator": "bowditch_chris@hotmail.com", "creation_time": "2007-05-14T07:32:12Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "jeremias@apache.org", "attachment_id": null, "text": "Patch applied. Thanks a lot, Hussein.\nhttp://svn.apache.org/viewvc?view=rev&rev=540052", "id": 103402, "time": "2007-05-21T01:01:03Z", "bug_id": 42406, "creation_time": "2007-05-21T01:01:03Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 42406, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 156227, "time": "2012-04-01T07:05:47Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T07:05:47Z", "is_private": false, "attachment_id": null}]