[{"count": 0, "tags": [], "creator": "davi@apache.org", "attachment_id": null, "text": "Add the expat libtool file to the LT_LDFLAGS variable to avoid placing a\nlibtool file path onto LDFLAGS (pkg-config --libs apr-util-1).\n\napr-util uses apr_rules.mk (from apr) which places the LT_LDFLAGS\non the libtool link command (confirm it by looking at apr's configure.in).\n\nCurrent behavior is broken because it will place a .la file path on the\nLDFLAGS for non-libtool compiles, as APRUTIL_EXPORT_LIBS is also used\nwhen in the apr-util.pc.in file. e.g.:\n\n/Users/davi/svn/apr-util $ pkg-config --libs apr-util-1\n/Users/davi/svn/apr-util/xml/expat/lib/libexpat.la -L/tmp/apu/lib\n-L/opt/local/lib -laprutil-1 -lsqlite3 -liconv -lapr-1 -lpthread", "id": 96993, "time": "2006-12-17T11:15:01Z", "bug_id": 41192, "creation_time": "2006-12-17T11:15:01Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 19271\nAdd the expat libtool file to the LT_LDFLAGS variable", "attachment_id": 19271, "id": 96994, "creator": "davi@apache.org", "time": "2006-12-17T11:15:46Z", "bug_id": 41192, "creation_time": "2006-12-17T11:15:46Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 41192, "text": "The -lexpat should get added to the set of exported libs though, otherwise\neverything will break if you do an all-static build.  So it should really be\nadding \"-L$libdir -lexpat\" to _EXPORT_LIBS for the bundled-expat case, I guess.", "id": 105062, "time": "2007-07-04T03:12:28Z", "creator": "jorton@redhat.com", "creation_time": "2007-07-04T03:12:28Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 41192, "attachment_id": null, "is_private": false, "id": 110008, "time": "2007-10-31T01:55:44Z", "creator": "wrowe@apache.org", "creation_time": "2007-10-31T01:55:44Z", "text": "Sounds right Joe.  Care to rework this patch Davi?"}]