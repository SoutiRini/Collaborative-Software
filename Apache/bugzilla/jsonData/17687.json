[{"count": 0, "tags": [], "text": "Discovered on class org.apache.catalina.core.StandardContext (revision 1.115), \nmethod resourcesStart().\n\nI was installing a web application, using the Apache ANT tasks, that has a \ncontext with a docbase attribute that is invalid.  The output in the log is:\n\n2003-03-05 12:15:13 StandardContext[/patriot]: Configuring default Resources\n* 2003-03-05 12:15:13 StandardContext[/patriot]: Resources start failed:\n2003-03-05 12:15:13 StandardContext[/patriot]: Configuring non-privileged \ndefault Loader\n2003-03-05 12:15:13 StandardContext[/patriot]: Configuring default Manager\n2003-03-05 12:15:13 StandardContext[/patriot]: Processing standard container \nstartup\n2003-03-05 12:15:13 StandardContext[/patriot]: Context startup failed due to \nprevious errors\n2003-03-05 12:15:13 StandardContext[/patriot]: Exception during cleanup after \nstart failed\n\nThe error occurs around line 2 (which I have marked with an *).  An error is \ngenerated by the resourcesStart() method, but no stack trace is returned.\n\nLooking at the code, there is a subtle problem with the log output:\n\n---- [StandardContext.java, line 3346] ----\n} catch (Throwable t) {\n   log(sm.getString(\"standardContext.resourcesStart\", t));\n   ok = false;\n}\n-------------------------------------------\n\nThe exception is being handed to the sm.getString() method, and not the log() \nmethod.  My corrected version looks like this:\n\n---- [StandardContext.java, line 3346] ----\n} catch (Throwable t) {\n   log(sm.getString(\"standardContext.resourcesStart\"), t );\n   ok = false;\n}\n-------------------------------------------", "attachment_id": null, "id": 32487, "creator": "jbaker@intac.com", "time": "2003-03-05T18:13:58Z", "bug_id": 17687, "creation_time": "2003-03-05T18:13:58Z", "is_private": false}, {"count": 1, "tags": [], "text": "I apologize, but I realized this was not a single occurrance.\n\nThe same flaw appears in another location in the source.  Specifically, it \nappears on lines 3373 (in method stopResource()).\n", "is_private": false, "id": 32489, "creator": "jbaker@intac.com", "time": "2003-03-05T18:35:42Z", "bug_id": 17687, "creation_time": "2003-03-05T18:35:42Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 35533, "creation_time": "2003-04-18T13:59:42Z", "time": "2003-04-18T13:59:42Z", "bug_id": 17687, "text": "This has been fixed.", "is_private": false}]