[{"count": 0, "tags": [], "creator": "maly.velky@email.cz", "attachment_id": null, "id": 152092, "time": "2011-12-09T08:46:27Z", "bug_id": 52309, "creation_time": "2011-12-09T08:46:27Z", "is_private": false, "text": "The last example at http://ant.apache.org/manual/Tasks/typedef.html shows correctly how to use uri on taskdef but it's easy to overlook (as the ordinary xml boilerplate) the absolutely necessary mapping of the thus created namespace to a prefix on the project element. I therefore propose to rewrite it as follows:\n\n===\n<!-- Notice the xmlns:antcontrib=<the uri from taskdef> - this is necessary to be\nable to use the antcontrib prefix for tasks in the lib --> \n<project xmlns:antcontrib=\"antlib:net.sf.antcontrib\">\n     <taskdef uri=\"antlib:net.sf.antcontrib\"\n              resource=\"net/sf/antcontrib/antlib.xml\"\n              classpath=\"path/to/ant-contrib.jar\"/>\n     <antcontrib:if> ...  </antcontrib:if>\n===\n(I've also actually added a usage of the task to make the example complete.)\n\nThanks a lot!"}, {"count": 1, "tags": [], "bug_id": 52309, "attachment_id": null, "is_private": false, "id": 152093, "time": "2011-12-09T08:50:21Z", "creator": "maly.velky@email.cz", "creation_time": "2011-12-09T08:50:21Z", "text": "PS: Notice I'm not the only one who overlooked the importance of the namespace declaration - http://ant.1045680.n5.nabble.com/Could-I-bind-an-antlib-to-a-xmlns-via-taskdef-tp1342489p1342494.html"}, {"count": 2, "tags": [], "bug_id": 52309, "attachment_id": null, "text": "The manual assumes people who write Ant build files are familiar with XML namespaces, it has been written when XML wasn't considered legacy by so many 8-)\n\nYou don't have to put the namespace declaration on the project tag, it will work on any element that is a parent of the if element as well as the if element itself.\n\nsvn revision 1225133 contains some more hints.", "id": 152437, "time": "2011-12-28T07:40:08Z", "creator": "bodewig@apache.org", "creation_time": "2011-12-28T07:40:08Z", "is_private": false}]