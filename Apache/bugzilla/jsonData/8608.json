[{"count": 0, "attachment_id": null, "creator": "jamesp@webdaemons.org", "text": "httpd 2.0.35 release tarball + httpd-ldap from CVS fails to build with the\nfollowing text leading up to error:\n\nmake[3]: Entering directory\n`/export/home/jamesp/work/httpd-2.0.35/modules/httpd-ldap/ldap-aaa'\nBuilding shared: mod_auth_ldap.la\nmake[4]: Entering directory\n`/export/home/jamesp/work/httpd-2.0.35/modules/httpd-ldap/ldap-aaa'\n/bin/sh /export/home/jamesp/work/httpd-2.0.35/srclib/apr/libtool --silent\n--mode=compile gcc  -g -O2 -pthread    -DLINUX=2 -D_REENTRANT\n-D_XOPEN_SOURCE=500 -D_BSD_SOURCE -D_SVID_SOURCE\n-DAP_HAVE_DESIGNATED_INITIALIZER   -I.\n-I/export/home/jamesp/work/httpd-2.0.35/os/unix\n-I/export/home/jamesp/work/httpd-2.0.35/server/mpm/prefork\n-I/export/home/jamesp/work/httpd-2.0.35/modules/http\n-I/export/home/jamesp/work/httpd-2.0.35/modules/proxy\n-I/export/home/jamesp/work/httpd-2.0.35/include\n-I/export/home/jamesp/work/httpd-2.0.35/srclib/apr/include\n-I/export/home/jamesp/work/httpd-2.0.35/srclib/apr-util/include\n-I/export/home/jamesp/work/httpd-2.0.35/modules/dav/main\n-I/export/home/jamesp/work/httpd-2.0.35/srclib/apr-util/include  -c\nmod_auth_ldap.c && touch mod_auth_ldap.slo\nmod_auth_ldap.c:98: parse error before `deref_options'\nmod_auth_ldap.c:98: warning: no semicolon at end of struct or union\nmod_auth_ldap.c:114: parse error before `}'\nmod_auth_ldap.c:114: warning: data definition has no type or storage class\nmod_auth_ldap.c:133: parse error before `mod_auth_ldap_config_t'\nmod_auth_ldap.c:162: parse error before `mod_auth_ldap_config_t'\nmod_auth_ldap.c: In function `mod_auth_ldap_build_filter':\nmod_auth_ldap.c:169: `filtbuf' undeclared (first use in this function)\nmod_auth_ldap.c:169: (Each undeclared identifier is reported only once\nmod_auth_ldap.c:169: for each function it appears in.)\nmod_auth_ldap.c:169: `sec' undeclared (first use in this function)\nmod_auth_ldap.c:176: `r' undeclared (first use in this function)\nmod_auth_ldap.c: In function `mod_auth_ldap_check_user_id':\nmod_auth_ldap.c:210: `sec' undeclared (first use in this function)\nmod_auth_ldap.c:211: parse error before `)'\nmod_auth_ldap.c:213: `util_ldap_connection_t' undeclared (first use in this\nfunction)\nmod_auth_ldap.c:213: `ldc' undeclared (first use in this function)\nmod_auth_ldap.c:213: invalid lvalue in assignment\nmod_auth_ldap.c:214: parse error before `const'\nmod_auth_ldap.c:220: `req' undeclared (first use in this function)\nmod_auth_ldap.c:249: `result' undeclared (first use in this function)\nmod_auth_ldap.c:249: `sent_pw' undeclared (first use in this function)\nmod_auth_ldap.c:262: `dn' undeclared (first use in this function)\nmod_auth_ldap.c:265: `LDAP_SUCCESS' undeclared (first use in this function)\nmod_auth_ldap.c:270: `LDAP_INVALID_CREDENTIALS' undeclared (first use in this\nfunction)\nmod_auth_ldap.c: In function `mod_auth_ldap_auth_checker':\nmod_auth_ldap.c:333: `sec' undeclared (first use in this function)\nmod_auth_ldap.c:334: parse error before `)'\nmod_auth_ldap.c:337: `util_ldap_connection_t' undeclared (first use in this\nfunction)\nmod_auth_ldap.c:337: `ldc' undeclared (first use in this function)\nmod_auth_ldap.c:337: invalid lvalue in assignment\nmod_auth_ldap.c:338: parse error before `int'\nmod_auth_ldap.c:381: `reqs_arr' undeclared (first use in this function)\nmod_auth_ldap.c:389: `x' undeclared (first use in this function)\nmod_auth_ldap.c:390: `reqs' undeclared (first use in this function)\nmod_auth_ldap.c:390: `m' undeclared (first use in this function)\nmod_auth_ldap.c:393: `method_restricted' undeclared (first use in this function)\nmod_auth_ldap.c:395: `t' undeclared (first use in this function)\nmod_auth_ldap.c:396: `w' undeclared (first use in this function)\nmod_auth_ldap.c:437: `LDAP_COMPARE_TRUE' undeclared (first use in this function)\nmod_auth_ldap.c:438: warning: unreachable code at beginning of switch statement\nmod_auth_ldap.c:458: warning: unreachable code at beginning of switch statement\nmod_auth_ldap.c:484: warning: unreachable code at beginning of switch statement\nmod_auth_ldap.c:530: warning: unreachable code at beginning of switch statement\nmod_auth_ldap.c: In function `mod_auth_ldap_create_dir_config':\nmod_auth_ldap.c:574: `sec' undeclared (first use in this function)\nmod_auth_ldap.c:575: parse error before `)'\nmod_auth_ldap.c:589: `always' undeclared (first use in this function)\nmod_auth_ldap.c: In function `mod_auth_ldap_parse_url':\nmod_auth_ldap.c:611: `LDAPURLDesc' undeclared (first use in this function)\nmod_auth_ldap.c:611: `urld' undeclared (first use in this function)\nmod_auth_ldap.c:613: `sec' undeclared (first use in this function)\nmod_auth_ldap.c:613: invalid lvalue in assignment\nmod_auth_ldap.c:620: `LDAP_SUCCESS' undeclared (first use in this function)\nmod_auth_ldap.c:622: `LDAP_URL_ERR_NOTLDAP' undeclared (first use in this\nfunction)\nmod_auth_ldap.c:624: `LDAP_URL_ERR_NODN' undeclared (first use in this function)\nmod_auth_ldap.c:626: `LDAP_URL_ERR_BADSCOPE' undeclared (first use in this\nfunction)\nmod_auth_ldap.c:628: `LDAP_URL_ERR_MEM' undeclared (first use in this function)\nmod_auth_ldap.c:623: warning: unreachable code at beginning of switch statement\nmod_auth_ldap.c:646: `LDAP_SCOPE_SUBTREE' undeclared (first use in this\nfunction)\nmod_auth_ldap.c:647: `LDAP_SCOPE_BASE' undeclared (first use in this function)\nmod_auth_ldap.c:648: `LDAP_SCOPE_ONELEVEL' undeclared (first use in this\nfunction)\nmod_auth_ldap.c:720: `LDAP_PORT' undeclared (first use in this function)\nmod_auth_ldap.c: In function `mod_auth_ldap_set_deref':\nmod_auth_ldap.c:730: `sec' undeclared (first use in this function)\nmod_auth_ldap.c:730: invalid lvalue in assignment\nmod_auth_ldap.c:733: `never' undeclared (first use in this function)\nmod_auth_ldap.c:736: `searching' undeclared (first use in this function)\nmod_auth_ldap.c:739: `finding' undeclared (first use in this function)\nmod_auth_ldap.c:742: `always' undeclared (first use in this function)\nmod_auth_ldap.c: In function `mod_auth_ldap_add_group_attribute':\nmod_auth_ldap.c:754: `sec' undeclared (first use in this function\nmod_auth_ldap.c:754: invalid lvalue in assignment\nmod_auth_ldap.c: At top level:\nmod_auth_ldap.c:790: parse error before `)'\nmod_auth_ldap.c:790: initializer element is not constant\nmod_auth_ldap.c:790: (near initialization for `mod_auth_ldap_cmds[1].cmd_data')\nmod_auth_ldap.c:794: parse error before `)'\nmod_auth_ldap.c:794: initializer element is not constant\nmod_auth_ldap.c:794: (near initialization for `mod_auth_ldap_cmds[2].cmd_data')\nmod_auth_ldap.c:798: parse error before `)'\nmod_auth_ldap.c:798: initializer element is not constant\nmod_auth_ldap.c:798: (near initialization for `mod_auth_ldap_cmds[3].cmd_data')\nmod_auth_ldap.c:804: parse error before `)'\nmod_auth_ldap.c:804: initializer element is not constant\nmod_auth_ldap.c:804: (near initialization for `mod_auth_ldap_cmds[4].cmd_data')\nmod_auth_ldap.c:809: parse error before `)'\nmod_auth_ldap.c:809: initializer element is not constant\nmod_auth_ldap.c:809: (near initialization for `mod_auth_ldap_cmds[5].cmd_data')\nmod_auth_ldap.c:820: parse error before `)'\nmod_auth_ldap.c:820: initializer element is not constant\nmod_auth_ldap.c:820: (near initialization for `mod_auth_ldap_cmds[7].cmd_data')\nmod_auth_ldap.c:831: parse error before `)'\nmod_auth_ldap.c:831: initializer element is not constant\nmod_auth_ldap.c:831: (near initialization for `mod_auth_ldap_cmds[9].cmd_data')\nmod_auth_ldap.c:835: parse error before `)'\nmod_auth_ldap.c:835: initializer element is not constant\nmod_auth_ldap.c:835: (near initialization for `mod_auth_ldap_cmds[10].cmd_data')\nmake[4]: *** [mod_auth_ldap.slo] Error 1\nmake[4]: Leaving directory\n`/export/home/jamesp/work/httpd-2.0.35/modules/httpd-ldap/ldap-aaa'\nmake[3]: *** [shared-build-recursive] Error 1\nmake[3]: Leaving directory\n`/export/home/jamesp/work/httpd-2.0.35/modules/httpd-ldap/ldap-aaa'\nmake[2]: *** [shared-build-recursive] Error 1\nmake[2]: Leaving directory `/export/home/jamesp/work/httpd-2.0.35/modules'\nmake[1]: *** [shared-build-recursive] Error 1\nmake[1]: Leaving directory `/export/home/jamesp/work/httpd-2.0.35'\nmake: *** [all-recursive] Error 1\n\nhttpd is being built on a RedHat 7.2 system with Redhat errata applied.\nhttpd was configured with the following:\n\n ./configure --enable-so --enable-ldap=shared --enable-auth_ldap=shared\n\nThe build fails with the same errors after adding: \"-lldap -llber\" to EXTRA_LIBS\nin build/config_vars.mk. httpd-ldap was checked out within the last 7 days,\nfiles carry creation dates of February 8 2002.", "id": 14958, "time": "2002-04-28T19:25:41Z", "bug_id": 8608, "creation_time": "2002-04-28T19:25:41Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 8608, "text": "This is fixed in CVS.\n\n*** This bug has been marked as a duplicate of 8546 ***", "id": 14966, "time": "2002-04-29T03:47:58Z", "creator": "jwoolley@apache.org", "creation_time": "2002-04-29T03:47:58Z", "is_private": false, "attachment_id": null}]