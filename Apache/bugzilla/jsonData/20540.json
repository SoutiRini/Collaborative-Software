[{"count": 0, "tags": [], "creator": "iederan.viorel@ssi-schaefer.ro", "text": "I have an application which is running on TOMCAT 4.1.24, using j2sdk1.4.1. The \napplication consist in a taglib and JSP files. I just migrate the aplication \nfrom TOMCAT 4.0.6 to TOMCAT 4.1.24, and since then I caught this strange \nbehaviour 3 times: after starting the TOMCAT, some JSP files could not be \ncompiled, only a blank page was loaded instead of the expected page. Also \nlooking in the TOMCAT cache folder (WORK), I noticed that only the *.java file \nwas created. In the log file I found the following error, which I think is \nrelated to the behaviour described previously:\n\nCompile failed; see the compiler error output for details.\n        at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:842)\n        at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:682)\n        at org.apache.jasper.compiler.Compiler.generateClass(Compiler.java:317)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:370)\n        at org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:473)\n        at org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:190)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:295)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:256)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2415)\n        at org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:171)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:172)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n        at org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:594)\n        at \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:392)\n        at org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:565)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:619)\n        at java.lang.Thread.run(Thread.java:536)", "id": 38483, "time": "2003-06-06T07:06:47Z", "bug_id": 20540, "creation_time": "2003-06-06T07:06:47Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 20540, "is_private": false, "id": 38560, "time": "2003-06-08T15:05:06Z", "creator": "funkman@joedog.org", "creation_time": "2003-06-08T15:05:06Z", "tags": [], "text": "Examine the other log files (catalina.out, localhost_log_...) \n\nTurn up the debug level to potentially show any other helpful messages.\n\nPlease follow up with the tomcat-user list. At this point, this is a\nconfiguration error, not a bug.\n\n"}, {"count": 2, "tags": [], "bug_id": 20540, "attachment_id": null, "text": "(Can't find anything in tomcat-users/google, trying here. Sorry if really \nwrong place. Thanks in advance.) \n \nI'm having the same problem with Tomcat 4.1.27, jdk 1.4.2 and Linux 2.4.20. I \nremember getting a error report when this happened show me the line number and \nother useful info in debugging the JSP. \n \nThis is at debug level 5. \n \n<Context path=\"/programa\" docBase=\"/path/programa\" debug=\"5\"/> \n \nFILE i'M USING FOR TESTING (other complex ones have the same behavior): \n \n \n<html> \n<body> \nThis should show a error page \n<%=jdfsafsd%> \n</body> \n</html> \n \n \nThe server send a HTTP header with 500 Internal Server error but nothing in \nthe body (error report, etc). This is what I get in catalina.out: \n \n \n \nStandardContext[/programa]: Mapping contextPath='/programa' with \nrequestURI='/programa/teste_de_erro.jsp' and relativeURI='/teste_de_erro.jsp' \nStandardContext[/programa]:   Trying exact match \nStandardContext[/programa]:   Trying prefix match \nStandardContext[/programa]:   Trying extension match \nStandardContext[/programa]:  Mapped to servlet 'jsp' with servlet path \n'/teste_de_erro.jsp' and path info 'null' and update=true \nCompile failed; see the compiler error output for details. \n        at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:842) \n        at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:682) \n        at \norg.apache.jasper.compiler.Compiler.generateClass(Compiler.java:308) \n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:352) \n        at \norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:474) \n        at \norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:184) \n        at \norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:295) \n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241) \n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) \n        at \norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247) \n        at \norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193) \n        at \norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256) \n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643) \n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480) \n        at \norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) \n        at \norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) \n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643) \n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480) \n        at \norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) \n        at \norg.apache.catalina.core.StandardContext.invoke(StandardContext.java:2416) \n        at \norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180) \n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643) \n        at \norg.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171) \n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641) \n        at \norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:172) \n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641) \n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480) \n        at \norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) \n        at \norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174) \n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643) \n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480) \n        at \norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) \n        at \norg.apache.catalina.connector.http.HttpProcessor.process(HttpProcessor.java:1040) \n        at \norg.apache.catalina.connector.http.HttpProcessor.run(HttpProcessor.java:1151) \n        at java.lang.Thread.run(Thread.java:534) \n ", "id": 44669, "time": "2003-09-25T13:24:40Z", "creator": "gpt@tirloni.org", "creation_time": "2003-09-25T13:24:40Z", "is_private": false}, {"count": 3, "tags": [], "creator": "gpt@tirloni.org", "text": "Increasing debug level hasnt showed me anything. Sniffing the network packets \nI see the server sends the 500 error code and nothing else. \n \n0x0000   4500 0105 ae98 4000 4006 f83a c8cb b724        E.....@.@..:...$ \n0x0010   c892 4a9d 0050 cae6 69a6 eb99 d4ff d755        ..J..P..i......U \n0x0020   8018 1920 e6b2 0000 0101 080a 0161 4609        .............aF. \n0x0030   00e2 26ee 4854 5450 2f31 2e31 2035 3030        ..&.HTTP/1.1.500 \n0x0040   2049 6e74 6572 6e61 6c20 5365 7276 6572        .Internal.Server \n0x0050   2045 7272 6f72 0d0a 4461 7465 3a20 5468        .Error..Date:.Th \n0x0060   752c 2032 3520 5365 7020 3230 3033 2031        u,.25.Sep.2003.1 \n0x0070   323a 3333 3a33 3920 474d 540d 0a53 6572        2:33:39.GMT..Ser \n0x0080   7665 723a 2041 7061 6368 6520 546f 6d63        ver:.Apache.Tomc \n0x0090   6174 2f34 2e31 2e32 3720 2848 5454 502f        at/4.1.27.(HTTP/ \n0x00a0   312e 3120 436f 6e6e 6563 746f 7229 0d0a        1.1.Connector).. \n0x00b0   436f 6e74 656e 742d 5479 7065 3a20 7465        Content-Type:.te \n0x00c0   7874 2f68 746d 6c3b 2063 6861 7273 6574        xt/html;.charset \n0x00d0   3d49 534f 2d38 3835 392d 310d 0a43 6f6e        =ISO-8859-1..Con \n0x00e0   7465 6e74 2d4c 656e 6774 683a 2030 0d0a        tent-Length:.0.. \n0x00f0   436f 6e6e 6563 7469 6f6e 3a20 636c 6f73        Connection:.clos \n0x0100   650d 0a0d 0a                                   e.... \n \nI have Tomcat running standalone and Apache with mod_proxy but I'm testing \naccessing the port 8080 (Tomcat) directly. Shouldnt it show the error report \npage like Tomcat 3.x ? If it is a configuration problem please let me know \nabout it. Google and mailing list archives havent showed anything useful and I \nhave other people having the same issue. Thanks in advance! ", "id": 44740, "time": "2003-09-26T12:44:31Z", "bug_id": 20540, "creation_time": "2003-09-26T12:44:31Z", "is_private": false, "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 20540, "is_private": false, "id": 44741, "time": "2003-09-26T12:53:46Z", "creator": "funkman@joedog.org", "creation_time": "2003-09-26T12:53:46Z", "tags": [], "text": "Bugzilla is not a help desk support system. \n\nTomcat3 and 4 are \"very different\" since they are major version releases. \n\nPlease use tomcat-user to debug this configuration error.\n\nOdds are, you may need to examine the file permissions of directories vs the\nuserid tomcat is running as.\n\nAny future reopens - will be closed unless a bug can be shown."}]