[{"count": 0, "tags": [], "creator": "rhb@cisco.com", "text": "After finishing writing a servlet result to HttpServletResponse, we close the \noutput stream via HttpServletResponse.getWriter().close().  Intermittently \ngetting the following exception in the close method:\n\njava.lang.StringIndexOutOfBoundsException: 2\n\tat java/lang/String.charAt\n\tat java/text/DigitList.set (DigitList.java)\n\tat java/text/DecimalFormat.format (DecimalFormat.java)\n\tat java/text/NumberFormat.format (NumberFormat.java)\n\tat java/text/SimpleDateFormat.zeroPaddingNumber (SimpleDateFormat.java)\n\tat java/text/SimpleDateFormat.subFormat (SimpleDateFormat.java)\n\tat java/text/SimpleDateFormat.format (SimpleDateFormat.java)\n\tat java/text/DateFormat.format (DateFormat.java)\n\tat org/apache/tomcat/util/HttpDate.toString (HttpDate.java:194)\n\tat org/apache/tomcat/request/FixHeaders.beforeBody (FixHeaders.java:81)\n\tat org/apache/tomcat/core/ContextManager.doBeforeBody \n(ContextManager.java:583)\n\tat org/apache/tomcat/core/ResponseImpl.endHeaders \n(ResponseImpl.java:306)\n\tat org/apache/tomcat/service/http/HttpResponseAdapter.endHeaders \n(HttpResponseAdapter.java:111)\n\tat org/apache/tomcat/core/BufferedServletOutputStream.sendHeaders \n(BufferedServletOutputStream.java:125)\n\tat org/apache/tomcat/core/BufferedServletOutputStream.reallyFlush \n(BufferedServletOutputStream.java:240)\n\tat org/apache/tomcat/core/BufferedServletOutputStream.close \n(BufferedServletOutputStream.java:255)\n\tat java/io/OutputStreamWriter.close\n\tat java/io/PrintWriter.close (PrintWriter.java)\n\tat com/cisco/wf/subsystems/webcall/isn.doGet (isn.java)\n\tat javax/servlet/http/HttpServlet.service (HttpServlet.java:740)\n\tat javax/servlet/http/HttpServlet.service (HttpServlet.java:853)\n\tat org/apache/tomcat/core/ServletWrapper.handleRequest \n(ServletWrapper.java:394)\n\tat org/apache/tomcat/core/ServletWrapper.handleRequest \n(ServletWrapper.java:416)\n\tat org/apache/tomcat/servlets/InvokerServlet.service \n(InvokerServlet.java:259)\n\tat javax/servlet/http/HttpServlet.service (HttpServlet.java:853)\n\tat org/apache/tomcat/core/ServletWrapper.handleRequest \n(ServletWrapper.java:394)\n\tat org/apache/tomcat/core/ContextManager.service \n(ContextManager.java:523)\n\tat \norg/apache/tomcat/service/http/HttpConnectionHandler.processConnection \n(HttpConnectionHandler.java:149)\n\tat org/apache/tomcat/service/TcpWorkerThread.run \n(PoolTcpEndpoint.java:346)\n\tat org/apache/tomcat/util/ThreadPool$ControlRunnable.run \n(ThreadPool.java:382)\n\tat java/lang/Thread.run\n\n\nThe bad string index (ie: number \"2\" in the first line) is sometimes a \"1\".  \nRunning on a dual-CPU P3 500MHz machine with jdk 1.1.4.  Problem is \nintermittent, but usually occurs with some regularity every few thousand \nrequests or so.  When it happens, the client gets the status code 500 exception \npage instead of a normal http transaction result.  For our servlet application, \nthis is part of a telephony transaction - the error might result in hanging up \non a caller.", "id": 2603, "time": "2001-05-22T09:29:45Z", "bug_id": 1857, "creation_time": "2001-05-22T09:29:45Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 1857, "attachment_id": null, "is_private": false, "id": 3103, "time": "2001-06-19T22:57:26Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-06-19T22:57:26Z", "text": "This seems like a VM problem, we're using standard API call that should work."}]