[{"count": 0, "tags": [], "creator": "m.torquati@huginsoft.it", "attachment_id": null, "is_private": false, "id": 39876, "time": "2003-07-02T18:03:25Z", "bug_id": 21287, "creation_time": "2003-07-02T18:03:25Z", "text": "There are no mutex lock protection in decrement_refcount if it is\ndefined USE_ATOMICS.\n\nI think you simply forgot the mutex in function decrement_refcount. \nThere is a race condition in the cleanup_cache_object when two threads \nare trying to clean-up the same object which is no longer referenced in the cache.\nI found this problem while looking for the bug 21285. The proposed patch\nfix the problem."}, {"count": 1, "tags": [], "text": "Created attachment 9549\nextracted from patch in bug 21285, also mutex lock protection in remove_url", "attachment_id": 9549, "id": 49002, "creator": "jjclar@novell.com", "time": "2003-12-12T20:05:37Z", "bug_id": 21287, "creation_time": "2003-12-12T20:05:37Z", "is_private": false}, {"count": 2, "text": "just adding the PatchAvailable keyword...", "bug_id": 21287, "attachment_id": null, "id": 49007, "time": "2003-12-12T20:48:39Z", "creator": "erik@codefaktor.de", "creation_time": "2003-12-12T20:48:39Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "text": "Fixed with this patch to Apache 2.1. Will port to an upcoming release of 2.0\n(2.0.49?)\nhttp://cvs.apache.org/viewcvs.cgi/httpd-2.0/modules/experimental/mod_mem_cache.c?r1=1.99&r2=1.100", "is_private": false, "id": 49378, "creator": "stoddard@apache.org", "time": "2003-12-18T21:28:18Z", "bug_id": 21287, "creation_time": "2003-12-18T21:28:18Z", "attachment_id": null}]