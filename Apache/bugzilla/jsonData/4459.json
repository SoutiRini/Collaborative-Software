[{"count": 0, "tags": [], "bug_id": 4459, "attachment_id": null, "id": 7211, "time": "2001-10-26T11:42:32Z", "creator": "olivere@yatra.net", "creation_time": "2001-10-26T11:42:32Z", "is_private": false, "text": "[xmlvalidate] [Warning] :0:0: File \"file:C:/Resin/resin-\n2.0.2/webapps/yatranet/xml/cognizer/cognizer.xsd\" not found.\n\nThis warning was reported by xerces (running under ant). Xerces parser\ndid not find cognizer.xsd, because \"cognizer.xsd\" was included\nusing a relative URL in another schea document. Xerces resolved this to\nthe wrong location (shon above). The actual location of this file is:\n\nfile:C:/Resin/resin-2.0.2/webapps/yatranet/xml/xsd/cognizer/cognizer.xsd\"\n\nThe graph below shows the URI references between my XML document and\nmy two schema documents:\n\nxml/cognizer/airRuleset.xml --> ../../xsd/cognizer/ruleset.xsd --> cognizer.xsd\n\nXerces did resolve the first URI reference ok, but it tried to resolve the \nsecond URI relative to airRuleset.xml. It should be resolved relative to \nruleset.xsd instead."}, {"count": 1, "tags": [], "creator": "driggs@asset.com", "attachment_id": null, "id": 7239, "time": "2001-10-28T19:50:39Z", "bug_id": 4459, "creation_time": "2001-10-28T19:50:39Z", "is_private": false, "text": "I'm using Xerces 1.4.3 to do validation on instance documents\nconforming to modular XML Schemas and have run into some\nproblems with the way Xerces includes Schemas into other\nSchemas.\n\nAll of my schemas are kept together in a common directory,\nand as such, according to every example I can find, I should\nbe able to reference them by only their file name from another\nschema in the same directory. Example:\n\n<xsd:include schemaLocation = \"schedule.xsd\"/>\n\nXerces is not able to find any of the included schemas when\nreferenced locally, and seems to be searching for them by default\nin the root directory of my app server. If I reference them by\ntheir fully qualified URI, then Xerces has no problem finding them,\ne.g.:\n\n<xsd:include schemaLocation = \"http://path.to/schemas/schedule.xsd\"/>"}, {"count": 2, "tags": [], "creator": "gopal.sharma@sun.com", "attachment_id": null, "id": 7241, "time": "2001-10-28T23:01:09Z", "bug_id": 4459, "creation_time": "2001-10-28T23:01:09Z", "is_private": false, "text": "David, It works for me. I have checked it keeping the files in a common folder\nand also by deploying in J2EE server means all the files (main & included\nschemas) are available locally to Server. I executed  it using cmd: -v\nhttp://MyServer:8000/test.xml\n\nI am waiting for your reply, before marking it as INVALID"}, {"count": 3, "tags": [], "creator": "olivere@yatra.net", "text": "Created attachment 725\nTestcase incl. xml doc, schema docs, java code", "id": 7251, "time": "2001-10-29T07:19:28Z", "bug_id": 4459, "creation_time": "2001-10-29T07:19:28Z", "is_private": false, "attachment_id": 725}, {"count": 4, "tags": [], "bug_id": 4459, "attachment_id": null, "id": 7252, "time": "2001-10-29T07:19:50Z", "creator": "olivere@yatra.net", "creation_time": "2001-10-29T07:19:50Z", "is_private": false, "text": "Gopal:\n\nThis bug only occurs if the schema documents are kept in separate folder from\nthe XML document. From your comments it sounds like you placed the\nXML document as well as the schemas in the same directory. In this case you \nwould not get the problem.\n\nI have created a small example that allows you to recreate the problem.\nIt is atteched in the file testcase.zip.\n\nOliver.\n\n"}, {"count": 5, "tags": [], "creator": "gopal.sharma@sun.com", "text": "The anyURI definition referes to RFC 2396 / RFC 2732:\nhttp://www.ietf.org/rfc/rfc2396.txt\n\nSection 5 of RFC 2396 defines the semantics of relative URI's in detail.\n\n5.1.2. Base URI from the Encapsulating Entity\n\n   If no base URI is embedded, the base URI of a document is defined by\n   the document's retrieval context.  For a document that is enclosed\n   within another entity (such as a message or another document), the\n   retrieval context is that entity; thus, the default base URI of the\n   document is the base URI of the entity in which the document is\n   encapsulated.\n\nFrom above definition it is a bug, i am going to provide the fix for this in\ncouple of days.", "id": 7364, "time": "2001-10-31T07:47:44Z", "bug_id": 4459, "creation_time": "2001-10-31T07:47:44Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 4459, "attachment_id": null, "text": "*** Bug 4513 has been marked as a duplicate of this bug. ***", "id": 7365, "time": "2001-10-31T07:54:34Z", "creator": "gopal.sharma@sun.com", "creation_time": "2001-10-31T07:54:34Z", "is_private": false}, {"count": 7, "tags": [], "creator": "neilg@ca.ibm.com", "text": "Thanks to Gopal Sharma for the patch.", "id": 7798, "time": "2001-11-12T14:14:29Z", "bug_id": 4459, "creation_time": "2001-11-12T14:14:29Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "creator": "vdv@dyomedea.com", "attachment_id": null, "id": 7838, "time": "2001-11-13T03:13:30Z", "bug_id": 4459, "creation_time": "2001-11-13T03:13:30Z", "is_private": false, "text": "I would like to come back on the resolution of this bug since it's in\ncontradiction with the following statement from Henry S. Thompson\n\nhttp://lists.w3.org/Archives/Public/xmlschema-dev/2001Sep/0106.html\n\n\"The URL of the schema document should be used as the base for relative \nURLs in the schemaLocation attributes of xs:include and xs:import, in\nmy opinion, although I don't _think_ the REC says anything about this.\"\n\nI think that it's very misleading (and almost impossible to manage) if schema\nlocations within schemas are resolved relative to the instance document.\n\nLet's imagine the following situation:\n\nI send a XML document to a partner which will parse it on its own file system\nwith a schema location in the instance document set to\nhttp://myorg.com/schemas/foo.xsd.\n\nIf in http://myorg.com/schemas/foo.xsd I include another schema with <xs:include\nschemaLocation=\"types.xsd\"/>, it looks much more useful and natural to assume\nthat I am refering to http://myorg.com/schemas/types.xsd rather than a type.xsd\nfile in the same directory than the instance document.\n\nThanks \n\nEric\n\n"}, {"count": 9, "tags": [], "creator": "vdv@dyomedea.com", "text": "Ooops, sorry for the confusion, but your fixed is doing what I was saying and\nthe latest CVS is working as I expected!\n\nEric (ashamed)", "id": 7839, "time": "2001-11-13T03:23:18Z", "bug_id": 4459, "creation_time": "2001-11-13T03:23:18Z", "is_private": false, "attachment_id": null}]