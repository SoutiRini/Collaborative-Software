[{"count": 0, "tags": [], "bug_id": 11798, "attachment_id": null, "text": "With the default tomcat configuration from the download, executing the script\nshown below (e.g. by dropping it into webapps/examples) will send back the\nproper HTML to the browser, but the browser will hang (I tired Mox 1.0 and IE6),\nseemingly because the connection is not properly terminated. The script works\nfine if the response.flushBuffer() call is removed. \n\nI tried this with both 4.0.4 and 4.1.9. On the bright side, it does flush just\nfine ...\n\n<HTML>\n<BODY>\n\nBegin <P>\n\n<%\n   response.flushBuffer ();\n%>\n\nEnd <P>\n\n</BODY>\n</HTML>", "id": 21215, "time": "2002-08-18T02:42:12Z", "creator": "pziegler@seagatesoftware.com", "creation_time": "2002-08-18T02:42:12Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 11798, "attachment_id": null, "id": 21221, "time": "2002-08-18T12:40:09Z", "creator": "remm@apache.org", "creation_time": "2002-08-18T12:40:09Z", "is_private": false, "text": "Maybe it fails with 4.0.4, but it does work with 4.1.9. The bug, if it exists,\nwill not be fixed in 4.0.x.\n\nThe response sent by Tomcat 4.1.x is valid and my IE 6 (on Win XP), as well as\nMoz, is happy about it.\n\nRequest:\nGET /foo.jsp HTTP/1.1\nHost: localhost:8080\n\nResponse:\nHTTP/1.1 200 OK\nContent-Type: text/html;charset=ISO-8859-1\nSet-Cookie: JSESSIONID=52FE1B5C12EDD2EE2C97D1BCDD42851B; Path=/\nTransfer-Encoding: chunked\nDate: Sun, 18 Aug 2002 12:31:34 GMT\nServer: Apache Coyote/1.0\n\n3e\n<HTML>\n<BODY>\n\nBegin <P>\n\n\n\nEnd <P>\n\n</BODY>\n</HTML>\n0\n\n(since you flush in the middle, chunking is used)"}, {"count": 2, "attachment_id": null, "bug_id": 11798, "text": "Mmmmh, this is really happening very reproducibly.\n\nI had other people try this and we noticed the following: the first script run  \nafter the context was created succeeded, subsequent ones let the browser hang. \nThe script will return after 1 minute (probably a browser timeout ..?). This \nappears to work on Solaris (I fixed the \"OS\" field above), however, it happens \non different flavours of Linux (we tried Suse 7.1, Suse 7.2, RedHat 7.2). This \nalso happens with J2SE1.4_01, and IBMJava2-131.", "id": 21328, "time": "2002-08-19T19:14:34Z", "creator": "pziegler@seagatesoftware.com", "creation_time": "2002-08-19T19:14:34Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 11798, "text": "... o.k. it \"sometimes\" works on Solaris. I set the platform back to \"all\" \nmeaning I tried Solaris and Linux ... (sorry for the confusion). This was tried \nwith 4.1.9.\n", "id": 21330, "time": "2002-08-19T19:18:51Z", "creator": "pziegler@seagatesoftware.com", "creation_time": "2002-08-19T19:18:51Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "The response generated by Tomcat is valid, and the connection handling is also\ncorrect. Please use a working web browser or point out to an incorrect behavior\nof Tomcat.", "attachment_id": null, "id": 21394, "creator": "remm@apache.org", "time": "2002-08-20T15:41:59Z", "bug_id": 11798, "creation_time": "2002-08-20T15:41:59Z", "is_private": false}]