[{"attachment_id": null, "tags": [], "creator": "balusc@gmail.com", "is_private": false, "count": 0, "id": 152648, "time": "2012-01-10T03:25:21Z", "bug_id": 52445, "creation_time": "2012-01-10T03:25:21Z", "text": "This is basically an improvement of issue 50449 https://issues.apache.org/bugzilla/show_bug.cgi?id=50449\n\nInvoking a method expression with arguments fails on nested properties. I.e. #{bean.submit('foo')} works, but #{bean.nested.submit('foo')} does not work. \n\ncom.example.Bean:\n-------------------------------------------------------------------------------\npackage com.example;\n\nimport javax.faces.bean.ManagedBean;\nimport javax.faces.bean.RequestScoped;\n\n@ManagedBean\n@RequestScoped\npublic class Bean {\n\n    public void submit1() {\n        System.out.println(\"Submit1 without argument\");\n    }\n\n    public void submit1(String argument) {\n        System.out.println(\"Submit1 with argument \" + argument);\n    }\n\n    public void submit2(String argument) {\n        System.out.println(\"Submit2 with argument \" + argument);\n    }\n\n    public Bean getNested() {\n        return new Bean();\n    }\n\n}\n-------------------------------------------------------------------------------\n\ntest.xhtml\n-------------------------------------------------------------------------------\n<!DOCTYPE html>\n<html lang=\"en\"\n  xmlns=\"http://www.w3.org/1999/xhtml\"\n  xmlns:h=\"http://java.sun.com/jsf/html\">\n  <h:head>\n    <title>Tomcat nested methodexpression test</title>\n  </h:head>\n  <h:body>\n    <h:form>\n      <h:commandButton value=\"bean.submit1 without argument\" \n        action=\"#{bean.submit1()}\" /><br/>\n      <h:commandButton value=\"bean.submit1 with argument\" \n        action=\"#{bean.submit1('foo')}\" /><br/>\n      <h:commandButton value=\"bean.submit2 with argument\" \n        action=\"#{bean.submit2('bar')}\" /><br/>\n      <h:commandButton value=\"bean.nested.submit1 without argument\" \n        action=\"#{bean.nested.submit1()}\" /><br/>\n      <h:commandButton value=\"bean.nested.submit1 with argument\" \n        action=\"#{bean.nested.submit1('foo')}\" /><br/>\n      <h:commandButton value=\"bean.nested.submit2 nested bean with argument\" \n        action=\"#{bean.nested.submit2('bar')}\" /><br/>\n    </h:form>\n  </h:body>\n</html>\n-------------------------------------------------------------------------------\n\nOpen the page and invoke the 6 buttons in sequence from top to bottom. The result is:\n-------------------------------------------------------------------------------\nSubmit1 without argument\nSubmit1 with argument foo\nSubmit2 with argument bar\nSubmit1 without argument\nSubmit1 without argument\nJan 09, 2012 11:21:45 PM com.sun.faces.lifecycle.InvokeApplicationPhase execute\nWARNING: #{bean.nested.submit2('bar')}: javax.el.MethodNotFoundException: /test.xhtml @27,50 action=\"#{bean.nested.submit2('bar')}\": Method not found: com.example.Bean@4f88bc88.submit2()\njavax.faces.FacesException: #{bean.nested.submit2('bar')}: javax.el.MethodNotFoundException: /test.xhtml @27,50 action=\"#{bean.nested.submit2('bar')}\": Method not found: com.example.Bean@4f88bc88.submit2()\n\tat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:110)\n\tat javax.faces.component.UICommand.broadcast(UICommand.java:315)\n\tat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)\n\tat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)\n\tat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)\n\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\n\tat com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:928)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:539)\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:300)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n\tat java.lang.Thread.run(Thread.java:722)\nCaused by: javax.faces.el.MethodNotFoundException: javax.el.MethodNotFoundException: /test.xhtml @27,50 action=\"#{bean.nested.submit2('bar')}\": Method not found: com.example.Bean@4f88bc88.submit2()\n\tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:92)\n\tat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\n\t... 23 more\nCaused by: javax.el.MethodNotFoundException: /test.xhtml @27,50 action=\"#{bean.nested.submit2('bar')}\": Method not found: com.example.Bean@4f88bc88.submit2()\n\tat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:109)\n\tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)\n\t... 24 more\n-------------------------------------------------------------------------------\n\nNote that the 5th button invokes the wrong method (the one without arguments) and that the 6th button throws an exception that the method cannot be found. It's basically looking for a method without arguments.\n\nThis exception occurs regardless of if Mojarra or MyFaces is used. I tested with Mojarra 2.1.4 and MyFaces 2.1.3 on Tomcat 7.0.23."}, {"attachment_id": null, "tags": [], "creator": "markt@apache.org", "text": "This has been fixed in trunk and 7.0.x and will be included in 7.0.24 onwards.", "count": 1, "id": 152761, "time": "2012-01-13T20:30:57Z", "bug_id": 52445, "creation_time": "2012-01-13T20:30:57Z", "is_private": false}]