[{"count": 0, "tags": [], "bug_id": 33605, "attachment_id": null, "text": "I compiled apache version 2.052 and tomcat connector mod_jk version 1.2.8\nwithout any errors on AIX 5.2 ML4.\nThe communication between apache and tomcat via ajp13 works fine but very slow.\nIf I use the http connector from tomcat I can transfer a file with 10MB with 6MB/s.\nIf I use the ajp13 connector via mod_jk.so then the transfer rate ist 2 KB(!)/s.\nAn older version of mod_jk2 was fast. Whats wrong? It seems to be a platform\nproblem because the same Version configuration on Windows works fast.\n\nbest regards\nTorsten", "id": 71075, "time": "2005-02-16T13:34:02Z", "creator": "torsten.reschke@gehe.de", "creation_time": "2005-02-16T13:34:02Z", "is_private": false}, {"count": 1, "tags": [], "text": "Hi,\n\nTry to comment out the snd and rcv buffers in jk_connect.c\nsetsockopt(sock, SOL_SOCKET, SO_SNDBUF\nand\nsetsockopt(sock, SOL_SOCKET, SO_RCVBUF\n\nYou can #if 0 the entire section for setting those two.\nTell me if that helped.\n\n", "is_private": false, "id": 71076, "creator": "mturk@apache.org", "time": "2005-02-16T13:40:03Z", "bug_id": 33605, "creation_time": "2005-02-16T13:40:03Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "Many thanks! \nThe transfer rate is now fast.\n\nBut is it an AIX problem?", "is_private": false, "id": 71086, "creator": "torsten.reschke@gehe.de", "time": "2005-02-16T15:21:11Z", "bug_id": 33605, "creation_time": "2005-02-16T15:21:11Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 33605, "is_private": false, "text": "Yes and no.\n\nMany OS socket implementations implements the socket buffers in\nquite a strange ways ;).\nSo I'll probably drop that, because all that can be set at OS\nlevel if someone needs to tune the optimal performance.", "id": 71088, "time": "2005-02-16T15:32:43Z", "creator": "mturk@apache.org", "creation_time": "2005-02-16T15:32:43Z", "attachment_id": null}]