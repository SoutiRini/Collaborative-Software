[{"count": 0, "attachment_id": null, "bug_id": 61853, "is_private": false, "id": 202555, "time": "2017-12-03T23:46:00Z", "creator": "chen8002014@163.com", "creation_time": "2017-12-03T23:46:00Z", "tags": [], "text": "ReplaceRegExp task works fine when I am using it in build.xml. However, when I call it in JAVA code, exception will be thrown. I am sure that Project is not empty for this task.\nJAVA code:\n    ReplaceRegExp replaceTask = new ReplaceRegExp();\n    replaceTask.setProject(getProject());\n    replaceTask.setTaskName(getTaskName());\n    FileSet fs1 = new FileSet();\n    fs1.setDir(new File(destDir.getPath() + \"/tmp/wsdlc/generated\"));\n    fs1.setIncludes(\"**/*.java\");\n    replaceTask.addFileset(fs1);\n    replaceTask.setMatch(\"public class (\\\\w+) implements java.io.Serializable \\\\{\");\n    replaceTask.setReplace(\"public class \\\\1 implements java.io.Serializable {&#10;    public \\\\1\\\\(\\\\)\\\\{\\\\}\");\n    replaceTask.setByLine(false);\n    replaceTask.execute();\n\nException:\njava.lang.NullPointerException\n        at org.apache.tools.ant.types.AbstractFileSet.setupDirectoryScanner(\n)\n        at org.apache.tools.ant.types.AbstractFileSet.getDirectoryScanner(Ab\n\n        at org.apache.tools.ant.types.FileSet.iterator(FileSet.java:70)\n        at org.apache.tools.ant.types.resources.Union.getAllResources(Union.\n\n        at org.apache.tools.ant.types.resources.Union.getCollection(Union.ja\n\n        at org.apache.tools.ant.types.resources.BaseResourceCollectionContai\nResourceCollectionContainer.java:263)\n        at org.apache.tools.ant.types.resources.BaseResourceCollectionContai\neCollectionContainer.java:142)\n        at org.apache.tools.ant.taskdefs.optional.ReplaceRegExp.execute(Repl\n\n        at com.bea.wlcp.wlng.ant.MyTask.modifySource(MyTask.java:464)"}, {"count": 1, "tags": [], "bug_id": 61853, "is_private": false, "text": "Complete exception:\njava.lang.NullPointerException\nat org.apache.tools.ant.types.AbstractFileSet.setupDirectoryScanner(\nAbstractFileSet.java:541)\nat org.apache.tools.ant.types.AbstractFileSet.getDirectoryScanner(Ab\nstractFileSet.java:504)\nat org.apache.tools.ant.types.FileSet.iterator(FileSet.java:70)\nat org.apache.tools.ant.types.resources.Union.getAllResources(Union.\njava:148)\nat org.apache.tools.ant.types.resources.Union.getCollection(Union.ja\nva:108)\nat org.apache.tools.ant.types.resources.BaseResourceCollectionContai\nner.cacheCollection(BaseResourceCollectionContainer.java:263)\nat org.apache.tools.ant.types.resources.BaseResourceCollectionContai\nner.iterator(BaseResourceCollectionContainer.java:142)\nat org.apache.tools.ant.taskdefs.optional.ReplaceRegExp.execute(Repl\naceRegExp.java:494)\nat com.bea.wlcp.wlng.ant.MyTask.modifySource(MyTask.java:464)", "id": 202556, "time": "2017-12-03T23:56:56Z", "creator": "chen8002014@163.com", "creation_time": "2017-12-03T23:56:56Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 61853, "text": "Similar copy task can be run successfully. However, ReplaceRegExp task fail.\ncopy = new Copy();\ncopy.setTaskName(getTaskName());\ncopy.setProject(getProject());\nFileSet fs = new FileSet();\nfs.setDir(new File(destDir.getPath() + \"/aaa/\"));\nfs.setIncludes(\"*.wsdl\");\ncopy.addFileset(fs);\ncopy.setTodir(new File(destDir.getPath() + \"/tmp/wars/\" + name + \"/wsdls\"));\ncopy.execute();", "id": 202557, "time": "2017-12-04T01:39:50Z", "creator": "chen8002014@163.com", "creation_time": "2017-12-04T01:39:50Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 61853, "text": "Problem solved by setting project to FileSet.\nFileSet fs1 = new FileSet();\nfs1.setProject(getProject());", "id": 202570, "time": "2017-12-05T02:33:45Z", "creator": "chen8002014@163.com", "creation_time": "2017-12-05T02:33:45Z", "tags": [], "is_private": false}]