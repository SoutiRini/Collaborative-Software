[{"attachment_id": null, "tags": [], "bug_id": 41843, "is_private": false, "count": 0, "id": 100392, "time": "2007-03-14T09:35:54Z", "creator": "giampow@libero.it", "creation_time": "2007-03-14T09:35:54Z", "text": "using Tomcat 5.5.20, in my web.xml I added\n\n<security-constraint>\n    <web-resource-collection>\n        <web-resource-name>private</web-resource-name>\n        <url-pattern>/private/*</url-pattern>\n    </web-resource-collection>\n    <auth-constraint>\n      <description>No Access</description>\n    </auth-constraint>\n</security-constraint>\n\nbut if in the webapp docBase a directory with \"private\" name exists,\nit doesn't block access to it.\n\nOtherwise, if no directory with \"private\" name exists in the docBase, it works fine.\n\nIn Tomcat 5.5.9 it works always fine, since it blocks accesses either if\n\"private\" directory exists or not."}, {"attachment_id": null, "tags": [], "bug_id": 41843, "is_private": false, "count": 1, "id": 100399, "time": "2007-03-14T16:15:39Z", "creator": "remm@apache.org", "creation_time": "2007-03-14T16:15:39Z", "text": "I think your report is invalid (most likely, you have a \"private\" webapp\ndeployed). Please provide a ready to test war which demonstrates the issue."}, {"count": 2, "tags": [], "bug_id": 41843, "is_private": false, "id": 100413, "creation_time": "2007-03-15T03:08:43Z", "time": "2007-03-15T03:08:43Z", "creator": "giampow@libero.it", "text": "(In reply to comment #1)\n> I think your report is invalid (most likely, you have a \"private\" webapp\n> deployed). Please provide a ready to test war which demonstrates the issue.\n\n\nI think maybe the problem is in my server.xml:\nin that file I use\n\n<Host name=\"localhost\" appBase=\"webapps/test\">\n      <Context path=\"\" docBase=\"\"/>\n</Host>\n\nwhere appBase and docBase are the same.\nUnder webapps/test folder I have folders\n            |\n            ---private\n            ---WEB-INF\n\nso when I call /private\nTomcat uses the /private context, not the / as I expected", "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 41843, "text": "I have forgotten to specify in the \"private\" folder I don't have a WEB-INF\nfolder with corresponding web.xml so it should not be treated as a /private context", "id": 100417, "time": "2007-03-15T03:23:41Z", "creator": "giampow@libero.it", "creation_time": "2007-03-15T03:23:41Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "creator": "remm@apache.org", "is_private": false, "id": 100421, "attachment_id": null, "bug_id": 41843, "creation_time": "2007-03-15T04:04:13Z", "time": "2007-03-15T04:04:13Z", "text": "For obvious reasons, the setup with autoDeploy enabled on the host, and an empty\ndocBase is totally wrong.\n\nThe Servlet 2.5 specification clarified that web.xml is not actually mandatory\nin a webapp, so I adopted the clarified behavior in Tomcat 5.5 as well."}]