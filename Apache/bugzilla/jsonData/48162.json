[{"count": 0, "tags": [], "bug_id": 48162, "is_private": false, "text": "The createFootnotePages(KnuthPageNode lastNode) method can go to an endless loop.\nCheck this part from line 818:\n\nwhile (insertedFootnotesLength < totalFootnotesLength) {\n   final int tmpLength = ((Integer) lengthList.get(footnoteListIndex)).intValue();\n   // try adding some more content\n   if ((tmpLength - insertedFootnotesLength) <= availableBPD) {\n      // add a whole footnote\n      availableBPD -= tmpLength - insertedFootnotesLength;\n      insertedFootnotesLength = tmpLength;\n      footnoteElementIndex = getFootnoteList(footnoteListIndex).size() - 1;\n   } \n...\n\nMost of the times it works OK, but if tmpLength=insertedFootnotesLength, the while loop will never end. It can happen, I transformed a document where this while cycle never stop.\n\nI put this line into the while cycle:\n\nif (tmpLength == insertedFootnotesLength) {\n   footnoteListIndex++;\n}\n\nNow it works fine, but I do not know if it gives a correct result in every cases.\n\nAkos", "id": 131817, "time": "2009-11-09T05:21:00Z", "creator": "kempelen.akos@gmail.com", "creation_time": "2009-11-09T05:21:00Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "heidi.vanparys@gmail.com", "attachment_id": null, "is_private": false, "id": 132863, "time": "2009-12-16T05:51:54Z", "bug_id": 48162, "creation_time": "2009-12-16T05:51:54Z", "text": "A file showing the described problem seems the attachment of bug 48063, that one hangs in org.apache.fop.layoutmgr.PageBreakingAlgorithm.createFootnotePages(KnuthPageNode)."}, {"count": 2, "tags": [], "text": "resetting severity from major to normal pending further review", "is_private": false, "id": 157258, "creator": "gadams@apache.org", "time": "2012-04-07T01:37:04Z", "bug_id": 48162, "creation_time": "2012-04-07T01:37:04Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 48162, "attachment_id": null, "id": 157357, "time": "2012-04-07T01:41:51Z", "creator": "gadams@apache.org", "creation_time": "2012-04-07T01:41:51Z", "is_private": false, "text": "resetting P2 open bugs to P3 pending further review"}, {"count": 4, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of bug 48063 ***", "is_private": false, "id": 159891, "creator": "matthias8283@gmx.at", "time": "2012-06-11T20:44:51Z", "bug_id": 48162, "creation_time": "2012-06-11T20:44:51Z", "attachment_id": null}]