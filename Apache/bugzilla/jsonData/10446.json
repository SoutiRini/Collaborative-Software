[{"count": 0, "tags": [], "bug_id": 10446, "attachment_id": null, "id": 18953, "time": "2002-07-03T15:32:03Z", "creator": "apache@tb2.com", "creation_time": "2002-07-03T15:32:03Z", "is_private": false, "text": "Note: I'm unsure what the \"HEAD\" version is. Hopefully it means 1.3.26. :)\n\nHi, I run a free AOL Instant Messenger profile service called ProfileHost. So \nfar, I have nearly 5,000 users. My web host recently upgraded Apache to 1.3.26 \nand in this release, spaces from a link from within AOL Instant Messenger give \na 400 error... But worked fine in previous versions of the Apache server. I \ntested it via a php script that uses apache_lookup_uri() and \"THE_REQUEST\" \nvariable. The link I'm using from within AOL Instant Messenger is:\n\n<html><a href=\"http://www.profilehost.com/view.php?user=taber&a=i&n=%n&\" \ntarget=\"_self\">Click here to see my profile</a></html>\n\nThe %n variable is an AOL IM variable that gets swapped with the current person \nviewing the profile's screenname. Screennames with spaces in them cause the 400 \nerror. So far I have found no workaround for this. Apache seems to be catching \nthe error before mod_rewrite has access to the URI... because it is seen as \ninvalid now. If you  have any idea how I could possibly use .htaccess or \nsomehow ignore this 400 error, I would very much appreciate the assistance.\n\nOr, if you could please consider changing this back to how it was in previous \nreleases, allowing plain spaces in the URI, that would be great! I figured I \nhad no chance in hell of asking AOL to properly URL encode their outgoing links \n(converting spaces to %20), so I'm asking you for help instead. :) I also \nfigured you would listen to me because we both are offering a free \nservice/product! :)\n\nThank you very much for your time!\n-Taber Buhl"}, {"count": 1, "tags": [], "bug_id": 10446, "attachment_id": null, "text": "This will be investigated to see what caused this change. No promises on whether it will \nbe reversed or not", "id": 22863, "time": "2002-09-14T15:49:31Z", "creator": "jim@apache.org", "creation_time": "2002-09-14T15:49:31Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 10446, "attachment_id": null, "id": 23040, "time": "2002-09-18T15:29:48Z", "creator": "jim@apache.org", "creation_time": "2002-09-18T15:29:48Z", "is_private": false, "text": "If possible, please try the latest HEAD. I'm thinking that the \"HTTP/x.y\" protocol check \nintroduced in 1.3.26 may be what's causing the error (since there is a space in the \nrequest, Apache thinks that the next field is the protocol field, and since it doesn't match \nHTTP/1.1 or whatever, it returns a bad request. In particular, check out the \nProtolcolReqCheck directive."}, {"count": 3, "attachment_id": null, "bug_id": 10446, "text": "I've a similar problem with %20 (space urlencoded)\n\nApache 1.3.33 on FreeBSD 4.7-RELEASE is throwing a 400 error \"bad request\" in\nstead of applying the rewriterule I've setup like RewriteRule ^/%20OUT/(.*)$\n^/OUT/$1 \n\nit's a bit strange and very annoying.", "id": 70753, "time": "2005-02-10T14:10:27Z", "creator": "vgr@europeanexperts.org", "creation_time": "2005-02-10T14:10:27Z", "tags": [], "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 10446, "is_private": false, "id": 81357, "time": "2005-10-19T00:57:28Z", "creator": "anand.ravikumar@wipro.com", "creation_time": "2005-10-19T00:57:28Z", "tags": [], "text": "(In reply to comment #3)\n> I've a similar problem with %20 (space urlencoded)\n> Apache 1.3.33 on FreeBSD 4.7-RELEASE is throwing a 400 error \"bad request\" in\n> stead of applying the rewriterule I've setup like RewriteRule ^/%20OUT/(.*)$\n> ^/OUT/$1 \n> it's a bit strange and very annoying.\n\nRecent we changed our Apache webserver from 1.3.28 to 1.3.33. After this \nchange we are seeing lot of bad request (400) error.\nThe logs show\n[Tue Oct  4 10:35:55 2005] [error] [client xx.xx.xx.xx] request failed: \nerroneous characters after protocol string: e\\\\t\\\\x9450GET /site/page.jsp?\nid=.... HTTP/1.1\n\n[04/Oct/2005:10:35:55 -0500] \"e\\t\\x9450GET /site/page.jsp?id=.... HTTP/1.1\" \n400 374 \"-\" \"-\"\n\nWe were not able to see any erroneous character in the 1.3.28 logs. This \nstarted to happen once the webserver upgradation happened.\n\nAlso this not occuring consistently now and then our customers are getting bad \nrequest.\n\nPlease let me know if you need more inputs."}, {"count": 5, "tags": [], "bug_id": 10446, "is_private": false, "text": "(In reply to comment #3)\n> I've a similar problem with %20 (space urlencoded)\n> Apache 1.3.33 on FreeBSD 4.7-RELEASE is throwing a 400 error \"bad request\" in\n> stead of applying the rewriterule I've setup like RewriteRule ^/%20OUT/(.*)$\n> ^/OUT/$1 \n> it's a bit strange and very annoying.\n\nRecent we changed our Apache webserver from 1.3.28 to 1.3.33. After this \nchange we are seeing lot of bad request (400) error.\nThe logs show\n[Tue Oct  4 10:35:55 2005] [error] [client xx.xx.xx.xx] request failed: \nerroneous characters after protocol string: e\\\\t\\\\x9450GET /site/page.jsp?\nid=.... HTTP/1.1\n\n[04/Oct/2005:10:35:55 -0500] \"e\\t\\x9450GET /site/page.jsp?id=.... HTTP/1.1\" \n400 374 \"-\" \"-\"\n\nWe were not able to see any erroneous character in the 1.3.28 logs. This \nstarted to happen once the webserver upgradation happened.\n\nAlso this not occuring consistently now and then our customers are getting bad \nrequest.\n\nPlease let me know if you need more inputs.", "id": 81358, "time": "2005-10-19T00:58:02Z", "creator": "anand.ravikumar@wipro.com", "creation_time": "2005-10-19T00:58:02Z", "attachment_id": null}]