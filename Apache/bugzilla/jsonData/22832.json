[{"count": 0, "tags": [], "bug_id": 22832, "attachment_id": null, "id": 43494, "time": "2003-08-30T07:21:26Z", "creator": "juam@arnet.com.ar", "creation_time": "2003-08-30T07:21:26Z", "is_private": false, "text": "Hi, \n  i was playing with subversion (http+ssl+svn), when i copied an example \nfrom\n  the web (knowing that it was bad) and apache SISEGVed at \n  /modules/ssl/ssl_engine_io.c:1231\n\nthe section that trigered the data was \nOption FillowSymLinks\n<Location /svn/iolsucker >\n        DAV svn\n        SVNParentPath /home/cvsowner/svnroot/iolsucker\nSSLVerifyClient      optional\nSSLVerifyDepth       1\nSSLOptions           +FakeBasicAuth +StrictRequire\nSSLRequire           %{SSL_CIPHER_USEKEYSIZE} >= 128\n\n#   Force clients from the Internet to use HTTPS\nRewriteEngine        on\nRewriteCond          %{REMOTE_ADDR} !^192\\.168\\.1\\.[0-9]+$\nRewriteCond          %{HTTPS} !=on\nRewriteRule          .* - [F]\n\n        AuthType Basic\n        AuthName \"IOLSUCKER repositories. Anon account available.\"\n        AuthUserFile /home/cvsowner/svn/conf/svn/password\n        AuthzSVNAccessFile /home/cvsowner/svn/conf/svn/iolsucker.access\n        Require valid-user\n</Location>\n\n----------------------------------\n\nAnyway, here is the backtrace:\n\n[Sat Aug 30 03:55:14 2003] [notice] child pid 2891 exit signal Segmentation\nfault (11), possible coredump in /home/cvsowner/svn\n\n$ gdb /home/cvsowner/svn/bin/httpd  /home/cvsowner/svn/core\nGNU gdb 5.3\nCopyright 2002 Free Software Foundation, Inc.\nGDB is free software, covered by the GNU General Public License, and you are\nwelcome to change it and/or distribute copies of it under certain \nconditions.\nType \"show copying\" to see the conditions.\nThere is absolutely no warranty for GDB.  Type \"show warranty\" for details.\nThis GDB was configured as \"i386-slackware-linux\"...\nCore was generated by `/home/cvsowner/svn/bin/httpd -k start'.\nProgram terminated with signal 11, Segmentation fault.\nReading symbols from /usr/lib/libssl.so.0...done.\nLoaded symbols for /usr/lib/libssl.so.0\nReading symbols from /usr/lib/libcrypto.so.0...done.\nLoaded symbols for /usr/lib/libcrypto.so.0\nReading symbols from /home/cvsowner/svn/lib/libaprutil-0.so.0...done.\nLoaded symbols for /home/cvsowner/svn/lib/libaprutil-0.so.0\nReading symbols from /usr/lib/libgdbm.so.2...done.\nLoaded symbols for /usr/lib/libgdbm.so.2\nReading symbols from /lib/libdb-4.1.so...done.\nLoaded symbols for /lib/libdb-4.1.so\nReading symbols from /usr/lib/libexpat.so.0...done.\nLoaded symbols for /usr/lib/libexpat.so.0\nReading symbols from /home/cvsowner/svn/lib/libapr-0.so.0...done.\nLoaded symbols for /home/cvsowner/svn/lib/libapr-0.so.0\nReading symbols from /lib/librt.so.1...done.\nLoaded symbols for /lib/librt.so.1\nReading symbols from /lib/libm.so.6...done.\nLoaded symbols for /lib/libm.so.6\nReading symbols from /lib/libcrypt.so.1...done.\nLoaded symbols for /lib/libcrypt.so.1\nReading symbols from /lib/libnsl.so.1...done.\nLoaded symbols for /lib/libnsl.so.1\nReading symbols from /lib/libdl.so.2...done.\nLoaded symbols for /lib/libdl.so.2\nReading symbols from /lib/libpthread.so.0...done.\nLoaded symbols for /lib/libpthread.so.0\nReading symbols from /lib/libc.so.6...done.\nLoaded symbols for /lib/libc.so.6\nReading symbols from /lib/ld-linux.so.2...done.\nLoaded symbols for /lib/ld-linux.so.2\nReading symbols from /lib/libnss_compat.so.2...done.\nLoaded symbols for /lib/libnss_compat.so.2\nReading symbols from /home/cvsowner/svn/modules/mod_dav_svn.so...done.\nLoaded symbols for /home/cvsowner/svn/modules/mod_dav_svn.so\nReading symbols from /home/cvsowner/svn//lib/libsvn_repos-1.so.0...done.\nLoaded symbols for /home/cvsowner/svn//lib/libsvn_repos-1.so.0\nReading symbols from /home/cvsowner/svn//lib/libsvn_fs-1.so.0...done.\nLoaded symbols for /home/cvsowner/svn//lib/libsvn_fs-1.so.0\nReading symbols from /home/cvsowner/svn//lib/libsvn_delta-1.so.0...done.\nLoaded symbols for /home/cvsowner/svn//lib/libsvn_delta-1.so.0\nReading symbols from /home/cvsowner/svn//lib/libsvn_subr-1.so.0...done.\nLoaded symbols for /home/cvsowner/svn//lib/libsvn_subr-1.so.0\nReading symbols from /usr/lib/libz.so.1...done.\nLoaded symbols for /usr/lib/libz.so.1\nReading symbols from /home/cvsowner/svn/modules/mod_authz_svn.so...done.\nLoaded symbols for /home/cvsowner/svn/modules/mod_authz_svn.so\n#0  0x40082a24 in CRYPTO_get_ex_data () from /usr/lib/libcrypto.so.0\n(gdb) bt full\n#0  0x40082a24 in CRYPTO_get_ex_data () from /usr/lib/libcrypto.so.0\nNo symbol table info available.\n#1  0x3f504a49 in ?? ()\nNo symbol table info available.\n#2  0x08076195 in ssl_io_filter_input (f=0x0, bb=0x81a7a88, \n    mode=AP_MODE_READBYTES, block=APR_BLOCK_READ, readbytes=0)\n    at /home/cvsowner/src/httpd-2.0.47/modules/ssl/ssl_engine_io.c:1231\n\tstatus = 232\n\tinctx = (bio_filter_in_ctx_t *) 0x4014ca8c\n\tlen = 8192\n\tis_init = 232\n#3  0x080bb4f6 in ap_get_brigade (next=0x0, bb=0x81a7a88, \n    mode=AP_MODE_GETLINE, block=APR_BLOCK_READ, readbytes=0)\n    at /home/cvsowner/src/httpd-2.0.47/server/util_filter.c:513\nNo locals.\n#4  0x080bb4f6 in ap_get_brigade (next=0x0, bb=0x81a7a88, \n    mode=AP_MODE_GETLINE, block=APR_BLOCK_READ, readbytes=0)\n    at /home/cvsowner/src/httpd-2.0.47/server/util_filter.c:513\nNo locals.\n#5  0x080bc4ca in ap_rgetline_core (s=0x81a6df8, n=8192, read=0xbffff41c, \n    r=0x81a6de0, fold=0, bb=0x81a7a88)\n    at /home/cvsowner/src/httpd-2.0.47/server/protocol.c:256\n\trv = 135953032\n\te = (apr_bucket *) 0x64\n\tbytes_handled = 0\n\tcurrent_alloc = 0\n\tpos = 0x0\n\tlast_char = 0x0\n\tdo_alloc = 1\n\tsaw_eos = 0\n#6  0x080bca13 in read_request_line (r=0x81a6de0, bb=0x81a7a88)\n    at /home/cvsowner/src/httpd-2.0.47/server/protocol.c:623\n\trv = 232\n\tll = 0xbffff448 \"x\u00f4\u00ff\u00bfI\u00d0\\v\\b\u00e0m\\032\\b\\210z\\032\\b\\200\\001\"\n\turi = 0x0\n\tpro = 0x0\n\tmajor = 1\n\tminor = 0\n\thttp = \"\u00a8m\\032\\b\\210\"\n\tlen = 1075147149\n\tnum_blank_lines = 0\n\tmax_blank_lines = 100\n#7  0x080bd049 in ap_read_request (conn=0x81a7a88)\n    at /home/cvsowner/src/httpd-2.0.47/server/protocol.c:885\n\tp = (apr_pool_t *) 0x81a6da8\n\texpect = 0x81a7a88 \"\u00a8m\\032\\b\\214z\\032\\b\\214z\\032\\b \nM\\032\\b\\030z\\032\\b\\210z\\032\\bpp\\025@\u00b8[\\006\\bX\\r\\032\\b\"\n\taccess_status = 232\n\ttmp_bb = (apr_bucket_brigade *) 0x81a7a88\n#8  0x08083e88 in ap_process_http_connection (c=0x81a0e30)\n    at /home/cvsowner/src/httpd-2.0.47/modules/http/http_core.c:285\n\tr = (request_rec *) 0x81aef70\n\tcsd_set = 1\n\tcsd = (apr_socket_t *) 0x81a0d58\n#9  0x080b91a6 in ap_run_process_connection (c=0x81a0e30)\n    at /home/cvsowner/src/httpd-2.0.47/server/connection.c:85\n\tpHook = (ap_LINK_process_connection_t *) 0xe8\n\tn = 0\n\trv = 232\n#10 0x080adb54 in child_main (child_num_arg=232)\n    at /home/cvsowner/src/httpd-2.0.47/server/mpm/prefork/prefork.c:694\n\tptrans = (apr_pool_t *) 0x81a0d20\n\tallocator = (apr_allocator_t *) 0x8194bd0\n\tcurrent_conn = (conn_rec *) 0x81a0e30\n\tstatus = 135925296\n\ti = 0\n\tlr = (ap_listen_rec *) 0x81a0e30\n\tcurr_pollfd = 0\n\tlast_pollfd = 0\n\tpollset = (apr_pollfd_t *) 0x8194d08\n\toffset = 232\n\tcsd = (void *) 0x81a0d58\n\tsbh = (ap_sb_handle_t *) 0x8194cd8\n\trv = 232\n\tbucket_alloc = (apr_bucket_alloc_t *) 0x81a4da0\n#11 0x080adc80 in make_child (s=0x81442d0, slot=2)\n    at /home/cvsowner/src/httpd-2.0.47/server/mpm/prefork/prefork.c:788\n\tpid = 0\n#12 0x080add8f in startup_children (number_to_start=3)\n    at /home/cvsowner/src/httpd-2.0.47/server/mpm/prefork/prefork.c:806\n\ti = 0\n#13 0x080ae509 in ap_mpm_run (_pconf=0x0, plog=0x813eb78, s=0x81442d0)\n    at /home/cvsowner/src/httpd-2.0.47/server/mpm/prefork/prefork.c:1022\n\tindex = 0\n\tremaining_children_to_start = 5\n\trv = 232\n#14 0x080b39f8 in main (argc=3, argv=0xbffff664)\n    at /home/cvsowner/src/httpd-2.0.47/server/main.c:660\n\tc = 0 '\\0'\n\tconfigtestonly = 0\n\tconfname = 0x80e78dc \"conf/httpd.conf\"\n\tdef_server_root = 0x80e8772 \"/home/cvsowner/svn\"\n\ttemp_error_log = 0x0\n\tprocess = (process_rec *) 0x80fcaf0\n\tserver_conf = (server_rec *) 0x81442d0\n\tpglobal = (apr_pool_t *) 0x80fca70\n\tpconf = (apr_pool_t *) 0x80fea78\n\tplog = (apr_pool_t *) 0x813eb78\n\tptemp = (apr_pool_t *) 0x814f0c0\n\tpcommands = (apr_pool_t *) 0x813cb70\n\topt = (apr_getopt_t *) 0x813cc08\n\trv = 232\n\tmod = (module **) 0x81442d0\n\toptarg = 0x4000b100 \"U\\211\u00e5WVS\\203\u00ecL\u00e8\u00ca\\003\"\n\tsignal_server = (apr_OFN_ap_signal_server_t *) 0\n#15 0x40339d06 in __libc_start_main () from /lib/libc.so.6\nNo symbol table info available.\n(gdb) quit"}, {"attachment_id": null, "tags": [], "bug_id": 22832, "is_private": false, "count": 1, "id": 47464, "time": "2003-11-17T03:10:59Z", "creator": "mads@apache.org", "creation_time": "2003-11-17T03:10:59Z", "text": "Could you please try simplifying this a bit. Also, does the same happen\nwithout SSLOptions +FakeBasicAuth and how about removing the Require? Any\nchange with SSLVerifyClient require?\n "}, {"count": 2, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "Can you reproduce this using 2.0.48?", "id": 51134, "time": "2004-01-25T15:52:36Z", "bug_id": 22832, "creation_time": "2004-01-25T15:52:36Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 22832, "is_private": false, "count": 3, "id": 52917, "time": "2004-02-25T12:13:36Z", "creator": "jorton@redhat.com", "creation_time": "2004-02-25T12:13:36Z", "text": "This is most likely a duplicate of bug 21370, which was fixed in 2.0.48.  Please\nreopen if you have problems with 2.0.48.\n\n*** This bug has been marked as a duplicate of 21370 ***"}]