[{"count": 0, "tags": [], "bug_id": 54714, "attachment_id": null, "is_private": false, "id": 165907, "time": "2013-03-17T18:31:59Z", "creator": "nicholas@nicholaswilliams.net", "creation_time": "2013-03-17T18:31:59Z", "text": "When Tomcat starts, a listener on the examples webapp does not start properly. The examples webapp is inaccessible. This changed within the last three or four days. it was working last Tuesday.\n\nstdout:\nINFO: Initializing ProtocolHandler [\"http-nio-8080\"]\nMar 17, 2013 1:22:11 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector\nINFO: Using a shared selector for servlet write/read\nMar 17, 2013 1:22:11 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"ajp-nio-8009\"]\nMar 17, 2013 1:22:11 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector\nINFO: Using a shared selector for servlet write/read\nMar 17, 2013 1:22:11 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 642 ms\nMar 17, 2013 1:22:11 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Catalina\nMar 17, 2013 1:22:11 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/8.0.0-dev\nMar 17, 2013 1:22:11 PM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\webapps\\docs\nMar 17, 2013 1:22:12 PM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\webapps\\examples\nMar 17, 2013 1:22:13 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Error listenerStart\nMar 17, 2013 1:22:13 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Context [/examples] startup failed due to previous errors\nMar 17, 2013 1:22:13 PM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\webapps\\host-manager\nMar 17, 2013 1:22:14 PM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\webapps\\manager\nMar 17, 2013 1:22:14 PM org.apache.catalina.startup.HostConfig deployDirectory\nINFO: Deploying web application directory C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\webapps\\ROOT\nMar 17, 2013 1:22:14 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"http-nio-8080\"]\nMar 17, 2013 1:22:14 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"ajp-nio-8009\"]\nMar 17, 2013 1:22:14 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 3738 ms\n\nlocalhost.2013-03-17.log:\n\nMar 17, 2013 1:22:13 PM org.apache.catalina.core.ApplicationContext log\nINFO: ContextListener: contextInitialized()\nMar 17, 2013 1:22:13 PM org.apache.catalina.core.ApplicationContext log\nINFO: SessionListener: contextInitialized()\nMar 17, 2013 1:22:13 PM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Exception sending context initialized event to listener instance of class websocket.echo.WsConfigListener\njava.lang.NoClassDefFoundError: org/apache/tomcat/websocket/server/ServerContainerImpl\n\tat websocket.echo.WsConfigListener.contextInitialized(WsConfigListener.java:33)\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4769)\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5210)\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:698)\n\tat org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1056)\n\tat org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1611)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n\tat java.lang.Thread.run(Thread.java:722)\nCaused by: java.lang.ClassNotFoundException: org.apache.tomcat.websocket.server.ServerContainerImpl\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1465)\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1310)\n\t... 14 more\n\nMar 17, 2013 1:22:13 PM org.apache.catalina.core.ApplicationContext log\nINFO: SessionListener: contextDestroyed()\nMar 17, 2013 1:22:13 PM org.apache.catalina.core.ApplicationContext log\nINFO: ContextListener: contextDestroyed()"}, {"count": 1, "tags": [], "text": "This should be fixed with r1453401", "is_private": false, "bug_id": 54714, "id": 165970, "time": "2013-03-18T18:46:02Z", "creator": "violetagg@apache.org", "creation_time": "2013-03-18T18:46:02Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 54714, "attachment_id": null, "id": 165971, "time": "2013-03-18T18:53:11Z", "creator": "nicholas@nicholaswilliams.net", "creation_time": "2013-03-18T18:53:11Z", "is_private": false, "text": "I am on r1457365. Not the latest (r1457800), admittedly (I can't go to latest just yet), but it's newer than r1453401."}, {"count": 3, "tags": [], "bug_id": 54714, "attachment_id": null, "is_private": false, "id": 165972, "time": "2013-03-18T19:10:54Z", "creator": "violetagg@apache.org", "creation_time": "2013-03-18T19:10:54Z", "text": "websocket.echo.WsConfigListener has not been changed since 6th of March. Also it does not use org.apache.tomcat.websocket.server.ServerContainerImpl anymore. [1]\n\nPlease check your svn repository.\n\n\n[1] http://svn.apache.org/repos/asf/tomcat/trunk/webapps/examples/WEB-INF/classes/websocket/echo/WsConfigListener.java"}, {"count": 4, "tags": [], "bug_id": 54714, "attachment_id": null, "is_private": false, "id": 165973, "time": "2013-03-18T19:52:44Z", "creator": "nicholas@nicholaswilliams.net", "creation_time": "2013-03-18T19:52:44Z", "text": "*sigh* well that was dumb of me.\n\nThe last few times I've compiled I've only copied the lib and bin directory contents from the output directory to the directory I'm running from. I forgot to copy the fresh webapps directory.\n\n\"Only try to realize the truth: there is no bug.\""}]