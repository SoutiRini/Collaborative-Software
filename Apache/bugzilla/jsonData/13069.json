[{"count": 0, "tags": [], "creator": "ovheimar@online.no", "is_private": false, "id": 23522, "attachment_id": null, "bug_id": 13069, "creation_time": "2002-09-27T11:03:25Z", "time": "2002-09-27T11:03:25Z", "text": "It looks like the mod_webb when it is used together with Apache virtualHost \ndirectives, cause all webapps in tomcat/webapps dir to init once for every \nvirtualHost, even if only one webapp is deployed for that specific virtualHost..\n\nTested Config on Solaris and Linux with Jdk 1.3.1_02:\nApache 1.3.23\nTomcat 4.0.3 and 4.1.12\n\nServer.xml\n<Service name=\"Tomcat-Apache\">\n\n    <Connector className=\"org.apache.catalina.connector.warp.WarpConnector\"\n     port=\"8008\" minProcessors=\"5\" maxProcessors=\"75\"\n     enableLookups=\"true\" appBase=\"webapps\"\n     acceptCount=\"10\" debug=\"0\"/>\n\n    <!-- Replace \"localhost\" with what your Apache \"ServerName\" is set to -->\n    <Engine className=\"org.apache.catalina.connector.warp.WarpEngine\"\n     name=\"192.168.10.10\" debug=\"0\">\n\n      <!-- Global logger unless overridden at lower levels -->\n      <Logger className=\"org.apache.catalina.logger.FileLogger\"\n              prefix=\"warp_log.\" suffix=\".txt\"\n              timestamp=\"true\"/>\n\n\t<Host name=\"webapp1.xxx.yyy\" debug=\"0\" appBase=\"webapps\" \nunpackWARs=\"true\">\n      \t\t<Context path=\"\" docBase=\"webapp1\" debug=\"255\" \nreloadable=\"true\">\n      \t\t... \n      \t\t</Context>\n\t</Host>\n\n\t<Host name=\"webapp2.xxx.yyy\" debug=\"0\" appBase=\"webapps\" \nunpackWARs=\"true\">\n\n      \t\t<Context path=\"\" docBase=\"webapp2\" debug=\"255\"\nReloadable=\"true\">\n        \t...\n        \t</Context>\n\t</Host>\n\n    </Engine>\n\n  </Service>\n\nhttpd.conf\n<VirtualHost 192.168.10.10>\n        ServerName webapp1.xxx.yyy\n        DocumentRoot \"/home/www/webapp1\"\n    <Directory \"/home/www/webapp1\">\n        Options FollowSymLinks MultiViews\n        AllowOverride None\n        Order allow,deny\n        Allow from all\n    </Directory>\n        WebAppConnection conn1 warp 192.168.10.10:8008\n        WebAppDeploy webapp1 conn1 /\n</VirtualHost>\n\n<VirtualHost 192.168.10.10>\n        ServerName webapp2.xxx.yyy\n        DocumentRoot \"/home/www/webapp2\"\n    <Directory \"/home/www/webapp2\">\n        Options FollowSymLinks MultiViews\n        AllowOverride None\n        Order allow,deny\n        Allow from all\n    </Directory>\n        WebAppConnection conn2 warp 192.168.10.10:8008\n        WebAppDeploy webapp2 conn2 /\n</VirtualHost>"}, {"count": 1, "tags": [], "bug_id": 13069, "attachment_id": null, "text": "Avoided by changing appBase and docBase in server.xml like this:\n\n<Host name=\"webapp2.xxx.yyy\" debug=\"0\" appBase=\"webapps/webapp2\" >\n  \t<Context path=\"\" docBase=\".\" debug=\"255\"\n", "id": 23746, "time": "2002-10-02T13:25:56Z", "creator": "ovheimar@online.no", "creation_time": "2002-10-02T13:25:56Z", "is_private": false}]