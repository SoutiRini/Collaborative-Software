[{"count": 0, "tags": [], "bug_id": 22956, "attachment_id": null, "id": 43787, "time": "2003-09-06T07:55:35Z", "creator": "toraneko@kun.ne.jp", "creation_time": "2003-09-06T07:55:35Z", "is_private": false, "text": "We Japanese can't read status message because encoding isn't specified in\nStatusTransformer.java. I guess other people who use other than English have\nsame  problem. So,I wrote a pache to resolve this problem.\nThis patch also include to use utf-8 encoding. Current implementation use locale\ndepend encoding but utf-8 is unicode standard and it is able to treat all\nlaungage. This makes code simple. Could you apply my patch?\n\nI put my patch here:\nhttp://yamaguch.sytes.net/~tora/tmp/manager-i18n.patch\n\nkind regards,\n\nTakashi Okamoto"}, {"count": 1, "tags": [], "bug_id": 22956, "attachment_id": null, "id": 43804, "time": "2003-09-06T22:57:54Z", "creator": "toraneko@kun.ne.jp", "creation_time": "2003-09-06T22:57:54Z", "is_private": false, "text": "Previous my modification needs set utf-8 to input socket stream in ant task. I\nattached patch.\n\nIndex: AbstractCatalinaTask.java\n===================================================================\nRCS file:\n/home/cvspublic/jakarta-tomcat-catalina/catalina/src/share/org/apache/catalina/ant/AbstractCatalinaTask.java,v\nretrieving revision 1.1.1.1\ndiff -u -r1.1.1.1 AbstractCatalinaTask.java\n--- AbstractCatalinaTask.java   18 Jul 2002 16:48:13 -0000      1.1.1.1\n+++ AbstractCatalinaTask.java   6 Sep 2003 22:51:29 -0000\n@@ -89,7 +89,10 @@\n \n \n     // ----------------------------------------------------- Instance Variables\n-\n+   /**\n+    * manager webapp's encoding.\n+    */ \n+    private static String CHARSET = \"utf-8\";\n \n     // ------------------------------------------------------------- Properties\n \n@@ -245,7 +248,7 @@\n             }\n \n             // Process the response message\n-            reader = new InputStreamReader(hconn.getInputStream());\n+            reader = new InputStreamReader(hconn.getInputStream(), CHARSET);\n             StringBuffer buff = new StringBuffer();\n             String error = null;\n             boolean first = true;\n"}, {"text": "I have applied your patch. Thanks :)", "tags": [], "creator": "remm@apache.org", "attachment_id": null, "count": 2, "id": 43816, "time": "2003-09-07T18:50:28Z", "bug_id": 22956, "creation_time": "2003-09-07T18:50:28Z", "is_private": false}]