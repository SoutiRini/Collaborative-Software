[{"count": 0, "tags": [], "bug_id": 23204, "attachment_id": null, "is_private": false, "id": 44251, "time": "2003-09-16T20:44:21Z", "creator": "katre-apache@henchmonkey.org", "creation_time": "2003-09-16T20:44:21Z", "text": "We switched a large application from the Catalina HttpConnector to the \nCoyoteConnector over the weekend.  Since then, we've had 3 JVM crashes, one \nwith no stack trace, the other two with the following info:\n\nUnexpected Signal : 11 occurred at PC=0xFE1A1F4C\nFunction=[Unknown. Nearest: JVM_GetCPClassNameUTF+0xFA70]\nLibrary=/usr/local/j2sdk1.4.1_03/jre/lib/sparc/server/libjvm.so\n\nCurrent Java thread:\n        at org.apache.coyote.http11.InternalOutputBuffer.endRequest(InternalOutp\nutBuffer.java:379)\n        at org.apache.coyote.http11.Http11Processor.action(Http11Processor.java:\n536)\n        at org.apache.coyote.Response.action(Response.java:222)\n        at org.apache.coyote.Response.finish(Response.java:343)\n        at org.apache.coyote.tomcat4.OutputBuffer.close(OutputBuffer.java:326)\n        at org.apache.coyote.tomcat4.CoyoteWriter.close(CoyoteWriter.java:132)\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationD\nispatcher.java:453)\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDis\npatcher.java:356)\n        at org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.\njava:1069)\n        at org.apache.struts.action.RequestProcessor.processForwardConfig(Reques\ntProcessor.java:455)\n        at org.apache.struts.action.RequestProcessor.process(RequestProcessor.ja\nva:279)\n        at org.apache.struts.action.ActionServlet.process(ActionServlet.java:148\n0)\n        at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:506)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl\nicationFilterChain.java:247)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF\nilterChain.java:193)\n        at com.nmatrix.webapp.filter.LoggingFilter.doFilter(LoggingFilter.java:1\n10)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl\nicationFilterChain.java:213)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF\nilterChain.java:193)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV\nalve.java:260)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:643)\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV\nalve.java:191)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:643)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(Authentica\ntorBase.java:550)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:641)\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.catalina.core.StandardContext.invoke(StandardContext.java:\n2415)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j\nava:180)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:643)\n        at org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatche\nrValve.java:170)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:641)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j\nava:172)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:641)\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal\nve.java:174)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:643)\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:22\n3)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java\n:432)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.proce\nssConnection(Http11Protocol.java:386)\n        at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java\n:534)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadP\nool.java:530)\n        at java.lang.Thread.run(Thread.java:536)\n\nDynamic libraries:\n0x10000         /usr/local/java-main//bin/java\n0xff350000      /usr/lib/libthread.so.1\n0xff390000      /usr/lib/libdl.so.1\n0xff200000      /usr/lib/libc.so.1\n0xff340000      /usr/platform/SUNW,Sun-Fire-480R/lib/libc_psr.so.1\n0xfe000000      /usr/local/j2sdk1.4.1_03/jre/lib/sparc/server/libjvm.so\n0xff2e0000      /usr/lib/libCrun.so.1\n0xff1e0000      /usr/lib/libsocket.so.1\n0xff100000      /usr/lib/libnsl.so.1\n0xff0d0000      /usr/lib/libm.so.1\n0xff310000      /usr/lib/libw.so.1\n0xff0b0000      /usr/lib/libmp.so.2\n0xff080000      /usr/local/j2sdk1.4.1_03/jre/lib/sparc/native_threads/libhpi.so\n0xff050000      /usr/local/j2sdk1.4.1_03/jre/lib/sparc/libverify.so\n0xfe7c0000      /usr/local/j2sdk1.4.1_03/jre/lib/sparc/libjava.so\n0xff030000      /usr/local/j2sdk1.4.1_03/jre/lib/sparc/libzip.so\n0xfdf60000      /usr/lib/locale/en_US.ISO8859-1/en_US.ISO8859-1.so.2\n0xfdf20000      /usr/local/j2sdk1.4.1_03/jre/lib/sparc/libjdwp.so\n0xfdef0000      /usr/local/j2sdk1.4.1_03/jre/lib/sparc/libdt_socket.so\n0xfc7e0000      /usr/lib/nss_files.so.1\n0x755d0000      /usr/local/j2sdk1.4.1_03/jre/lib/sparc/libnet.so"}, {"count": 1, "tags": [], "text": "[Be warned, this may sound harsh but is not meant to be]\n\nThe Coyote connectors are pure java code. If the JVM crashes (core dump) then\nthe JVM is faulty. \n\nAccording to your OS vendor, make sure you have the correct JDK version patch\nlevel as well as appropriate OS patches. Sun's bug parade is also very helpful\nin situations like this.", "attachment_id": null, "id": 44252, "creator": "funkman@joedog.org", "time": "2003-09-16T21:29:46Z", "bug_id": 23204, "creation_time": "2003-09-16T21:29:46Z", "is_private": false}, {"count": 2, "tags": [], "text": "Especially, make sure you have all kernel patches applied when running under\nSolaris, as it is vital for JVM stability (and there are quite a few of them,\neven for Solaris 9).", "attachment_id": null, "id": 44253, "creator": "remm@apache.org", "time": "2003-09-16T21:36:54Z", "bug_id": 23204, "creation_time": "2003-09-16T21:36:54Z", "is_private": false}]