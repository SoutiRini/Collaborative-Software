[{"count": 0, "text": "If Content-Length of POST data has a surplus carriage return, Apache receives \na segfault in the http_filter routine.\n\nReproducable with this short perl script:\n\n#!/usr/bin/perl -w\n\nuse strict;\nuse IO::Socket;\n\nif ($#ARGV < 0) {\n        print STDERR \"need hostname argument\\n\";\n        exit 1;\n}\n\nmy $sock = IO::Socket::INET->new(\n        'PeerAddr'      => $ARGV[0],\n        'PeerPort'      => 80\n);\n\nif (!$sock) {\n        print STDERR \"failed to connect to port 80 of $ARGV[0]\\n\";\n        exit 1;\n}\n\nprint $sock \"POST / HTTP/1.0\\r\\n\";\nprint $sock \"Content-Length: 1\\r\\r\\n\\r\\n\";\nprint $sock \"a\";\n\nundef $sock;", "bug_id": 40799, "is_private": false, "id": 94978, "time": "2006-10-19T07:34:28Z", "creator": "thomas@partyflock.nl", "creation_time": "2006-10-19T07:34:28Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "creator": "thomas@partyflock.nl", "attachment_id": 19032, "is_private": false, "id": 94979, "time": "2006-10-19T07:36:15Z", "bug_id": 40799, "creation_time": "2006-10-19T07:36:15Z", "text": "Created attachment 19032\nPerl crash script\n\nJust run this script with apache host as argument, it'll segfault a child."}, {"count": 2, "tags": [], "creator": "chip@force-elite.com", "attachment_id": null, "is_private": false, "id": 94983, "time": "2006-10-19T08:45:05Z", "bug_id": 40799, "creation_time": "2006-10-19T08:45:05Z", "text": "I am unable to reproduce this with 2.2.x. In the error log I get \"Invalid\nContent-Length\"\n\nWhat line is it crashing on for you?"}, {"attachment_id": null, "tags": [], "bug_id": 40799, "is_private": false, "count": 3, "id": 94986, "time": "2006-10-19T12:20:41Z", "creator": "thomas@partyflock.nl", "creation_time": "2006-10-19T12:20:41Z", "text": "My fault, it's a bug in PHP, running it through gdb to analyze it, sorry for \nthe disturbance!\n"}]