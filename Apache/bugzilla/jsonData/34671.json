[{"count": 0, "tags": [], "creator": "ceri@submonkey.net", "attachment_id": null, "text": "Solaris 10 provides a mechanism for specifying fine-grained permissions that can\nbe used in the case of suexec to avoid the requirement of having the suexec\nbinary setuid.  However, httpd will check for the setuid bit on startup, making\nthis mechanism difficult to use (even though it works perfectly well).\n\nFor example, after the setuid bit is removed from the suexec wrapper below, the\nsuexec mechanism continues to work perfectly well, as the web server has\npermission to change effective uid at will due to the proc_setid privilege.\nUnfortunately, it is still necessary to set the setuid bit on the suexec wrapper\nas otherwise the mechanism is not enabled.\n\n$ id\nuid=80(www) gid=80:(webservd)\n$ ppriv -S $$\n5672:\t-pfsh\nflags = <none>\n\t\tE: basic,net_privaddr,proc_setid\n\t\tI: basic,net_privaddr,proc_setid\n\t\tP: basic,net_privaddr,proc_setid\n\t\tL: zone\n$ su -\n# chmod u+s /usr/apache2/bin/suexec\n# ^D\n$ apachectl start\n$ grep -i suexec /var/apache2/logs/error_log\n[Fri Apr 29 00:06:58 2005] [notice] suEXEC mechanism enabled (wrapper:\n/usr/apache2/bin/suexec)\n$ su -\n# chmod u-s /usr/apache2/bin/suexec\n#", "id": 74260, "time": "2005-04-29T01:11:33Z", "bug_id": 34671, "creation_time": "2005-04-29T01:11:33Z", "is_private": false}, {"count": 1, "attachment_id": null, "creator": "chip@force-elite.com", "is_private": false, "id": 74261, "time": "2005-04-29T01:19:49Z", "bug_id": 34671, "creation_time": "2005-04-29T01:19:49Z", "tags": [], "text": "It is possible to do some things like this with other operating systems like\nFreeBSD 5 and Linux w/ SELinux.\n\nIt would be nice if we could figure out someway of putting code that worked for\nall of them into APR."}, {"count": 2, "tags": [], "creator": "pgollucci@apache.org", "attachment_id": null, "text": "CC myself on FreeBSD related bugs", "id": 124163, "time": "2009-01-18T16:19:16Z", "bug_id": 34671, "creation_time": "2009-01-18T16:19:16Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 34671, "text": "I would suggest that mod_privileges (in trunk) supersedes this enhancement request (and indeed the need for suexec on solaris/opensolaris).  Feel free to re-open if you disagree.", "id": 127344, "time": "2009-05-24T15:29:24Z", "creator": "nick@webthing.com", "creation_time": "2009-05-24T15:29:24Z", "is_private": false, "attachment_id": null}]