[{"count": 0, "tags": [], "bug_id": 33133, "is_private": false, "text": "(Lenya 1.2.1)\n\nwe'd like to have our company logo on all service screens; we put a customized\nversion of xslt/util/page2xhtml.xsl in our local publication (since fallback is\nalready implemented for these pipelines)\n\nthis works in some cases, BUT NOT for the usecase \"login/logout\" (Lenya doesn't\nrespond); in this case, the resource \"style-cms-page\" calls\n\n      <map:match pattern=\"lenya-screen.xsl\">\n        <map:generate src=\"{fallback:xslt/util/page2xhtml.xsl}\"/>\n        <map:transform src=\"lenya/xslt/util/page2xslt.xsl\">\n          <map:parameter name=\"contextprefix\" value=\"{request:contextPath}\"/>\n        </map:transform>\n        <map:serialize type=\"xml\"/>\n      </map:match>\n\nand page2xslt.xsl fails, if page2xhtml.xsl contains a <xsl:import> or a\n<xsl:include>\n\nmy WORKAROUND is:\n\n<xsl:template match=\"xsl:import\">\n  <xso:import href=\"http://localhost:8888/new/{@href}\"/>\n</xsl:template>\n\nBUT this has several disadvantages:\n- hardcoded path\n- needs a new pipeline that matches \"new\"\n- I had to adjust the href attribute in <xsl:import> in the customized version\nof page2xhtml.xsl (which is not correct)\n  <xsl:import href=\"xslt/util/page2xhtml.xsl\"/> instead of\n  <xsl:import href=\"../../../../../xslt/util/page2xhtml.xsl\"/>", "id": 69763, "time": "2005-01-17T09:59:23Z", "creator": "michael.trindler@id.unizh.ch", "creation_time": "2005-01-17T09:59:23Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 33133, "text": "you need to use the fallback protocol:\n\n<xsl:include href=\"fallback://util/welcome.xsl\"/>\n\ncan you test if this fixes your problem?\n", "id": 70135, "time": "2005-01-27T03:39:06Z", "creator": "gregor@apache.org", "creation_time": "2005-01-27T03:39:06Z", "is_private": false, "attachment_id": null}]