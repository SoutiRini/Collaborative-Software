[{"count": 0, "attachment_id": null, "creator": "odungey@csc.com", "text": "<parallel> building is quite a tricky concept even if you have done loads of\nmulti-threaded programming. I have been using the <parallel> building options\nand have already stumbled into quite a few problems/issues. One thing that is\nreally unclear in the documentation is the effect of <parallel> on target\ndependencies. Consider the following:\n\n<target name=\"subtask1\" depends=\"subtask2,subtask3,subtask4\">\n.... do some stuff ...\n</target>\n\n<target name=\"maintask\">\n    <parallel>\n        <antcall target=\"subtask1\" inheritall=\"true\"/>\n    </parallel>\n</task>\n\nI know that parallel continues until it reaches a <sequential> block but what on\nearth is the effect on the dependencies, will they be run as parallel blocks????", "id": 55043, "time": "2004-04-01T12:33:37Z", "bug_id": 28127, "creation_time": "2004-04-01T12:33:37Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "odungey@csc.com", "text": "I have added some links via the dependencies as these may affect the documentation.", "id": 55045, "time": "2004-04-01T12:34:58Z", "bug_id": 28127, "creation_time": "2004-04-01T12:34:58Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "peter.reilly@corvil.com", "attachment_id": null, "text": "In this case <antcall> creates as separate context with its own\nproject / targets etc. So <parallel> has no effect on this.", "id": 55059, "time": "2004-04-01T14:15:15Z", "bug_id": 28127, "creation_time": "2004-04-01T14:15:15Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 28127, "attachment_id": null, "id": 55132, "time": "2004-04-02T08:27:18Z", "creator": "odungey@csc.com", "creation_time": "2004-04-02T08:27:18Z", "is_private": false, "text": "Peter: This isn't really invalid, you have highlighted what is missing from the \ndocumentation i.e. if your last comment was added to the <parallel> doc it \nwould remove the ambiguity I was worrying about."}, {"count": 4, "tags": [], "text": "Maybe this is just a matter of interpretation, but I can't think of a situation \nin which you would want a target that would normally be executed sequentially, \nbut when used from certain antcalls would be executed in parallel.  What if I \nhad a target that first compiled, then linked, some programs?  If someone else \nimported my targets, then invoked one via antcall with cascading parallel \nexecution, all of a sudden I'm trying to link files that may not be finished \ncompiling yet, and who are they going to come asking why it doesn't work?  \nMaybe not me, but maybe so... we could, I suppose, add something to the doc \ninforming the user not to expect this, but my feeling is \"if we never mentioned \nit, why would they expect it?\"", "attachment_id": null, "bug_id": 28127, "id": 55166, "time": "2004-04-02T14:59:07Z", "creator": "mbenson@apache.org", "creation_time": "2004-04-02T14:59:07Z", "is_private": false}, {"count": 5, "tags": [], "creator": "conor@apache.org", "text": "This is not a bug. The parallel documentation states:\nEach nested task within the parallel task will be executed in its own thread.\n\nYou asked for one task, <antcall>, to be executed and so it was, in its own thread.\n\nYour statement \"I know that parallel continues until it reaches a <sequential>\nblock\" is incorrect. parallel will happily execute <sequential> tasks in their\nown thread too.", "id": 66923, "time": "2004-11-15T13:38:39Z", "bug_id": 28127, "creation_time": "2004-11-15T13:38:39Z", "is_private": false, "attachment_id": null}]