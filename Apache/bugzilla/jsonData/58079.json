[{"count": 0, "tags": [], "bug_id": 58079, "is_private": false, "text": "When we perform multiple HTTP request to the same URL but with different headers, the client must cache the response according to the value of the 'Vary' header in the response.\n\nCurrently, I have the impression it is not the case.\n\nI have make a scenario with 2 HTTP Request, one with a header 'Accept : application/json' and the other with the header 'text/plain' (and my server set the header 'Vary' to 'Accept', and the header 'Cache-Control' to 'no-transform, max-age=86400').  \n\nWhen caching is activated, I see only one of the 2 request in the aggregated graph results.", "id": 183766, "time": "2015-06-26T13:49:30Z", "creator": "gscokart@gmail.com", "creation_time": "2015-06-26T13:49:30Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "felix.schumacher@internetallee.de", "text": "Created attachment 32881\nDo not cache responses with Vary header\n\nAs a simple countermeasure to the described problem we could forbid to store http respones that have a Vary header with any value in it.\n\nA more complex solution would have to cache multiple responses for one url depending on the request headers. I think we should start with the simple version and implement the complex one on demand only.", "id": 183861, "time": "2015-07-02T18:36:13Z", "bug_id": 58079, "creation_time": "2015-07-02T18:36:13Z", "is_private": false, "attachment_id": 32881}, {"count": 2, "tags": [], "text": "+1 for me", "is_private": false, "id": 183886, "creator": "p.mouawad@ubik-ingenierie.com", "time": "2015-07-04T13:15:50Z", "bug_id": 58079, "creation_time": "2015-07-04T13:15:50Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "Date: Sun Jul 12 16:25:08 2015\nNew Revision: 1690478\n\nURL: http://svn.apache.org/r1690478\nLog:\nDo not cache http samples that have a Vary header.\n\nBugzilla Id: 58079\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/control/CacheManager.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/util/HTTPConstantsInterface.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/control/TestCacheManager.java\n    jmeter/trunk/xdocs/changes.xml\n    jmeter/trunk/xdocs/usermanual/component_reference.xml", "attachment_id": null, "id": 184005, "creator": "felix.schumacher@internetallee.de", "time": "2015-07-12T16:29:57Z", "bug_id": 58079, "creation_time": "2015-07-12T16:29:57Z", "is_private": false}]