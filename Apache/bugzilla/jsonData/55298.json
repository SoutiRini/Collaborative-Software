[{"count": 0, "tags": [], "text": "Created attachment 30615\njmx\n\nversion:\nLSB Version:    :core-3.1-ia32:core-3.1-noarch:graphics-3.1-ia32:graphics-3.1-noarch\nDistributor ID: RedHatEnterpriseServer\nDescription:    Red Hat Enterprise Linux Server release 5.3 (Tikanga)\nRelease:        5.3\nCodename:       Tikanga\n\ncpu: \n [transform@gj01-tr-test004 transform]$ grep \"model name\" /proc/cpuinfo \nmodel name      : Intel(R) Xeon(R) CPU           E5310  @ 1.60GHz\nmodel name      : Intel(R) Xeon(R) CPU           E5310  @ 1.60GHz\nmodel name      : Intel(R) Xeon(R) CPU           E5310  @ 1.60GHz\nmodel name      : Intel(R) Xeon(R) CPU           E5310  @ 1.60GHz\nmodel name      : Intel(R) Xeon(R) CPU           E5310  @ 1.60GHz\nmodel name      : Intel(R) Xeon(R) CPU           E5310  @ 1.60GHz\nmodel name      : Intel(R) Xeon(R) CPU           E5310  @ 1.60GHz\nmodel name      : Intel(R) Xeon(R) CPU           E5310  @ 1.60GHz\n\n\nMem:\nMemTotal:      4138164 kB\nMemFree:       1488324 kB\nBuffers:        618096 kB\nCached:        1347452 kB\nSwapCached:          0 kB         \n\n\nat the beginnig of the performance test, the jmeter works well. the request send fast. after a while ,maybe 2 ~ 8 hours, the request send more and more slowly\uff0c util send nothing. use [ps -aux] to check the jmeter process, the info is:\n\n502      19953  0.8 11.2 710632 467428 pts/0   Sl   14:12   2:17 java -server -XX:+HeapDumpOnOutOfMemoryError -Xms512m -Xmx512m -XX:NewSize=128m -XX:MaxNewSize=128m -XX:MaxTenuringThreshold=2 -Dsun.rmi.dgc.client.gcInterval=600000 -Dsun.rmi.dgc.server.gcInterval=600000 -XX:PermSize=64m -XX:MaxPermSize=64m -jar /data/transform/olivia/livy_trans/j_test/jmeter/bin/ApacheJMeter.jar -n -t /data/transform/olivia/livy_trans/j_test/projects/transform/var_transform_wver_221_64.jmx -J thread_count=25 -J loop_count=1000 -l /data/transform/olivia/livy_trans/j_test/projects/transform/Var_trasform_test/log_0.jtl\n\nthe trace info is :\n[transform@gj01-tr-test004 transform]$ more Getinfo\n19970 clock_gettime(CLOCK_REALTIME,  <unfinished ...>\n19997 recv(76,  <unfinished ...>\n19988 recv(110,  <unfinished ...>\n19982 recv(77,  <unfinished ...>\n19977 recv(98,  <unfinished ...>\n19970 <... clock_gettime resumed> {1374574150, 907772086}) = 0\n19969 futex(0x84ee1d4, FUTEX_WAIT_PRIVATE, 3, NULL <unfinished ...>\n19970 futex(0x8e30049c, FUTEX_WAIT_PRIVATE, 1, {0, 12134914} <unfinished ...>\n19968 futex(0x84ec0f4, FUTEX_WAIT_PRIVATE, 617, NULL <unfinished ...>\n19967 futex(0x84e802c, FUTEX_WAIT_PRIVATE, 503, NULL <unfinished ...>\n19966 futex(0x66c1060, FUTEX_WAIT_PRIVATE, 0, NULL <unfinished ...>\n19965 futex(0x84d1d44, FUTEX_WAIT_PRIVATE, 605, NULL <unfinished ...>\n19964 futex(0x84d6734, FUTEX_WAIT_PRIVATE, 475, NULL <unfinished ...>\n19963 clock_gettime(CLOCK_REALTIME,  <unfinished ...>\n19962 futex(0x83f56bc, FUTEX_WAIT_PRIVATE, 1663, NULL <unfinished ...>\n19961 futex(0x83f4074, FUTEX_WAIT_PRIVATE, 1637, NULL <unfinished ...>\n19963 <... clock_gettime resumed> {1374574150, 908131979}) = 0\n19960 futex(0x83f2a2c, FUTEX_WAIT_PRIVATE, 1675, NULL <unfinished ...>\n19963 futex(0x88c1a24, FUTEX_WAIT_PRIVATE, 1, {0, 679764021} <unfinished ...>\n19959 futex(0x83f293c, FUTEX_WAIT_PRIVATE, 1673, NULL <unfinished ...>\n19958 futex(0x83f1384, FUTEX_WAIT_PRIVATE, 1665, NULL <unfinished ...>\n19957 futex(0x83efd3c, FUTEX_WAIT_PRIVATE, 1669, NULL <unfinished ...>\n19956 futex(0x83ee6f4, FUTEX_WAIT_PRIVATE, 1691, NULL <unfinished ...>\n19953 futex(0xb7f5bbd8, FUTEX_WAIT, 19954, NULL <unfinished ...>\n19955 futex(0x83ebac4, FUTEX_WAIT_PRIVATE, 1707, NULL <unfinished ...>\n19954 futex(0x87e0b5c, FUTEX_WAIT_PRIVATE, 1, NULL <unfinished ...>\n19970 <... futex resumed> )             = -1 ETIMEDOUT (Connection timed out)\n19970 futex(0x84ef928, FUTEX_WAKE_PRIVATE, 1) = 0\n19970 clock_gettime(CLOCK_MONOTONIC, {1294868, 369325988}) = 0\n19970 gettimeofday({1374574150, 922085}, NULL) = 0\n19970 clock_gettime(CLOCK_MONOTONIC, {1294868, 369417061}) = 0\n19970 clock_gettime(CLOCK_MONOTONIC, {1294868, 369457080}) = 0\n19970 gettimeofday({1374574150, 922206}, NULL) = 0\n19970 clock_gettime(CLOCK_REALTIME, {1374574150, 922248511}) = 0\n19970 futex(0x8e30049c, FUTEX_WAIT_PRIVATE, 1, {0, 49957489}) = -1 ETIMEDOUT (Connection timed out)\n19970 futex(0x84ef928, FUTEX_WAKE_PRIVATE, 1) = 0\n19970 clock_gettime(CLOCK_MONOTONIC, {1294868, 420239176}) = 0\n19970 gettimeofday({1374574150, 972990}, NULL) = 0\n19970 clock_gettime(CLOCK_MONOTONIC, {1294868, 420321937}) = 0\n19970 clock_gettime(CLOCK_MONOTONIC, {1294868, 420364331}) = 0\n19970 gettimeofday({1374574150, 973116}, NULL) = 0", "is_private": false, "id": 168731, "creator": "shuiguolan_pg@163.com", "time": "2013-07-23T11:02:55Z", "bug_id": 55298, "creation_time": "2013-07-23T11:02:55Z", "attachment_id": 30615}, {"count": 1, "tags": [], "text": "Can you do a kill -3 <PID of JMeter> 5 times with a distance of 5 seconds between each call and attach the output here.\n\nAlso add verbose gc logs and attach output file.\n\nThank you", "attachment_id": null, "id": 168838, "creator": "p.mouawad@ubik-ingenierie.com", "time": "2013-07-27T13:06:21Z", "bug_id": 55298, "creation_time": "2013-07-27T13:06:21Z", "is_private": false}, {"count": 2, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "id": 168839, "time": "2013-07-27T13:13:13Z", "bug_id": 55298, "creation_time": "2013-07-27T13:13:13Z", "tags": [], "text": "Probably your application is no more answering requests, try adding connect and receive timeouts to http sampler."}, {"count": 3, "attachment_id": null, "creator": "shuiguolan_pg@163.com", "text": "hi  Philippe Mouawad ,\nThanks for your quick response, I will do as your told to figure what is going on.\n\nThanks again.", "id": 168876, "time": "2013-07-29T06:19:20Z", "bug_id": 55298, "creation_time": "2013-07-29T06:19:20Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "text": "Created attachment 30640\njmeter running ,nohup  file\n\njmeter running ,nohup  file", "is_private": false, "id": 168878, "creator": "shuiguolan_pg@163.com", "time": "2013-07-29T07:45:07Z", "bug_id": 55298, "creation_time": "2013-07-29T07:45:07Z", "attachment_id": 30640}, {"count": 5, "tags": [], "bug_id": 55298, "attachment_id": 30641, "text": "Created attachment 30641\njmeter.log file", "id": 168879, "time": "2013-07-29T07:46:10Z", "creator": "shuiguolan_pg@163.com", "creation_time": "2013-07-29T07:46:10Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 55298, "is_private": false, "text": "Created attachment 30642\ngc_info", "id": 168880, "time": "2013-07-29T07:52:13Z", "creator": "shuiguolan_pg@163.com", "creation_time": "2013-07-29T07:52:13Z", "attachment_id": 30642}, {"count": 7, "tags": [], "text": "the jmeter dose not work again, I  kill -3 <PID of JMeter> 5 times with a distance of 5 seconds, and collected some logs.\n\nThanks", "attachment_id": null, "id": 168881, "creator": "shuiguolan_pg@163.com", "time": "2013-07-29T07:54:53Z", "bug_id": 55298, "creation_time": "2013-07-29T07:54:53Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 55298, "attachment_id": null, "id": 168882, "time": "2013-07-29T07:57:44Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2013-07-29T07:57:44Z", "is_private": false, "text": "Did you add receive and connect timeout ?\nThread dumps show JMeter is receiving data from server"}, {"count": 9, "tags": [], "text": "not yet", "is_private": false, "id": 168883, "creator": "shuiguolan_pg@163.com", "time": "2013-07-29T08:07:53Z", "bug_id": 55298, "creation_time": "2013-07-29T08:07:53Z", "attachment_id": null}, {"text": "and there is a jmx added timeouts para , and still in observing", "tags": [], "bug_id": 55298, "is_private": false, "count": 10, "id": 168885, "time": "2013-07-29T08:09:11Z", "creator": "shuiguolan_pg@163.com", "creation_time": "2013-07-29T08:09:11Z", "attachment_id": null}, {"count": 11, "tags": [], "text": "The attached test plan does not contain a connect and/or response timeout for the HTTP samplers. The thread dumps show, that JMeter is waiting for answers from a remote service.\n\nAdd a \"HTTP Request Defaults\" element to your test plan with reasonable connect and response timeouts to prevent JMeter from hanging indeterminate.\n\nThe root cause is the slowness or blocking of the remote service though. You might be able to analyze this by taking thread dumps (kill -3, kill -QUIT) of the remote JVM while is is hanging and/or by looking at the GC logs of that JVM.", "is_private": false, "id": 168895, "creator": "rainer.jung@kippdata.de", "time": "2013-07-29T10:25:39Z", "bug_id": 55298, "creation_time": "2013-07-29T10:25:39Z", "attachment_id": null}, {"count": 12, "tags": [], "bug_id": 55298, "attachment_id": null, "id": 168896, "time": "2013-07-29T10:26:34Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2013-07-29T10:26:34Z", "is_private": false, "text": "Closing since no JMeter bug can be seen here. Please only reopen, if there is evidence for a JMeter bug. If you want to discuss your observation please do so on the JMeter users list."}, {"count": 13, "tags": [], "text": "thanks for the patient comment, the issue is gone after add the timeouts of connect and response.\nthanks to all of you ^_^", "attachment_id": null, "id": 168988, "creator": "shuiguolan_pg@163.com", "time": "2013-08-01T02:52:14Z", "bug_id": 55298, "creation_time": "2013-08-01T02:52:14Z", "is_private": false}]