[{"count": 0, "attachment_id": null, "bug_id": 13090, "text": "I built and installed apache2.0.42 on HPUX11 and rebuilt our plugin module, but \nwhen I stopped the server, it coredumped.  There were two core files, one was \nunder apache2.0.42, the stack trace was:\n \n#0  0xc01f45a0 in kill () from /usr/lib/libc.2\n#1  0x0006481c in sig_coredump (sig=2138885696) at worker.c:394\n#2  <signal handler called>\n#3  0xc0133a00 in  () from /usr/lib/libc.2\n#4  0xc016fc3c in exit () from /usr/lib/libc.2\n#5  0x0006f64c in main (argc=3, argv=0x7f7e05f0) at main.c:248\n \nanother core file is under apache2.0.42/bin, the stack trace is:\n \n#0  0xc0133a00 in  () from /usr/lib/libc.2\n#1  0xc016fc3c in exit () from /usr/lib/libc.2\n#2  0x0006f64c in main (argc=3, argv=0x7f7e05f0) at main.c:248\n\nWe didn't change our plugin code and it was fine with apache2.0.39.", "id": 23561, "time": "2002-09-27T17:42:29Z", "creator": "dxu@bea.com", "creation_time": "2002-09-27T17:42:29Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "text": "Does the same error occur without your module loaded?\n\nIf it occurs only with your module loaded, is it possible that your module has \nan atexit handler?  Try commenting it out to see if it still segfaults.\n", "attachment_id": null, "id": 23565, "creator": "trawick@apache.org", "time": "2002-09-27T18:11:10Z", "bug_id": 13090, "creation_time": "2002-09-27T18:11:10Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 13090, "text": "yes, it occurs only with our module loaded.  But we don't have an atexit \nhandler in our module.  The core dump points to kill() and exit() in the apache \nserver.", "id": 23678, "time": "2002-10-01T00:38:44Z", "creator": "dxu@bea.com", "creation_time": "2002-10-01T00:38:44Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "text": ">The core dump points to kill() and exit() in the apache server.\n\nThe kill() is irrelevant.  That is something our signal handler does after\nsomething bad has already happened.\n\nYou may want to run some sort of memory debugger to see if perhaps heap\nstorage is being misused.\n\nIf it were me, I'd find the minimal testcase required to duplicate the\nproblem, and start commenting out plug-in code until the segfault no\nlonger occurs for the minimal testcase.  Whether the bug is in \nApache or in the plug-in, it will almost certainly require playing with\nthe plug-in until you find the critical operation it is doing which is \nkey to the problem.\n", "id": 23679, "time": "2002-10-01T01:15:13Z", "bug_id": 13090, "creation_time": "2002-10-01T01:15:13Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 13090, "attachment_id": null, "id": 23701, "time": "2002-10-01T18:00:02Z", "creator": "dxu@bea.com", "creation_time": "2002-10-01T18:00:02Z", "is_private": false, "text": "The core dump only happens upon stop, everything is fine while running and \nserving requests.  We didn't change our plugin code, it was fine with \napache2.0.39.  I'll try to make a minimal plugin and duplicate the problem."}, {"count": 5, "tags": [], "bug_id": 13090, "attachment_id": null, "id": 33258, "time": "2003-03-16T16:15:29Z", "creator": "madhusudan_mathihalli@hp.com", "creation_time": "2003-03-16T16:15:29Z", "is_private": false, "text": "Do you have any updates with reproducing the problem ?.\nAlso, is your module a C++ module ?. In that case, the httpd binary has to be \nlinked with \"-lcl -lCsup\"\n\nThanks\n-Madhu"}, {"attachment_id": null, "tags": [], "creator": "trawick@apache.org", "text": "no updates in a long time; re-open when more information is available,\nsuch as what the module has to do in order to trigger the problem or\nwhether or not it is C++, as Madhu suggests\n\nin general, even if the bug is suspected in Apache and not in the\n3rd party module, someone familiar with the module needs to debug it \nto the point that they can identify which action taken by the module\ntriggers the failure\n\n", "count": 6, "id": 38492, "time": "2003-06-06T11:38:41Z", "bug_id": 13090, "creation_time": "2003-06-06T11:38:41Z", "is_private": false}]