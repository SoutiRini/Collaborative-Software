[{"count": 0, "tags": [], "bug_id": 55797, "text": "Since recent Windows patches perhaps in combination with Tomcat 7.0.41 and Java 1.7.0_45 patches, our Tomcat instance is crashing once per week or more, 3 times so far in the past 2 weeks, each time generating a similar Windows mdmp file the size of JVM memory and stack trace to ntdll!ZwGetContextThread+0xa.\n\nI'm not sure if this is really a JVM or tcnative issue so I'm posting to both Oracle/Java and Apache/Tomcat in case anyone has similar problems.\n\nDebug session time: Tue Nov 19 08:48:46.000 2013 (UTC - 5:00)\nSystem Uptime: 2 days 3:05:00.493\nProcess Uptime: 0 days 0:00:26.000\n............................................................\nThis dump file has an exception of interest stored in it.\nThe stored exception information can be accessed via .ecxr.\n(510.96c): Access violation - code c0000005 (first/second chance not available)\n*** ERROR: Symbol file could not be found.  Defaulted to export symbols for ntdll.dll - \nntdll!ZwGetContextThread+0xa:\n00000000`77271f8a c3              ret\n\nNoted in the Stack Trace:\nntdll!ZwGetContextThread+0xa\nntdll!RtlFindActivationContextSectionString+0x1d6\n\nEnvironment:\nTomcat version 7.0.47\njava version \"1.7.0_45\"\nJava(TM) SE Runtime Environment (build 1.7.0_45-b18)\nJava HotSpot(TM) 64-Bit Server VM (build 24.45-b08, mixed mode)\nWindows 2008 R2 Standard Build 7601\nIntel Xeon CPU E5405 2 GHz 2 CPU x 4 cores each", "id": 171328, "time": "2013-11-19T21:52:59Z", "creator": "kmashint@yahoo.com", "creation_time": "2013-11-19T21:52:59Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 55797, "attachment_id": null, "id": 171330, "time": "2013-11-19T23:04:11Z", "creator": "kmashint@yahoo.com", "creation_time": "2013-11-19T23:04:11Z", "is_private": false, "text": "Other notes from Tomcat startup:\nLoaded APR based Apache Tomcat Native library 1.1.29 using APR version 1.4.8.\nAPR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true]."}, {"count": 2, "tags": [], "bug_id": 55797, "attachment_id": null, "text": "There is not enough information in your report to diagnose the issue.\n\nThere is no Tomcat code amongst the only two lines of a stacktrace that you are citing.", "id": 171338, "time": "2013-11-20T06:35:38Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2013-11-20T06:35:38Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 55797, "text": "I'll try to find out how to bind Java and/or Tomcat APR symbol files into WinDbg.exe ... does anyone have any hints on that?", "id": 171545, "time": "2013-12-03T13:37:20Z", "creator": "kmashint@yahoo.com", "creation_time": "2013-12-03T13:37:20Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "Here is some further information from a similar crash dump.\n\nSYMBOL_STACK_INDEX:  0\n\nSYMBOL_NAME:  tcnative_1!Java_org_apache_tomcat_jni_Poll_poll+223\n\nMODULE_NAME: tcnative_1\n\nIMAGE_NAME:  tcnative-1.dll\n\nDEBUG_FLR_IMAGE_TIMESTAMP:  53467783\n\nSTACK_COMMAND:  ~83s; .ecxr ; kb\n\nFAILURE_BUCKET_ID:  NULL_POINTER_READ_BEFORE_WRITE_c0000005_tcnative-1.dll!Java_org_apache_tomcat_jni_Poll_poll\n \nBUCKET_ID:  APPLICATION_FAULT_NULL_POINTER_READ_INVALID_POINTER_READ_BEFORE_WRITE_tcnative_1!Java_org_apache_tomcat_jni_Poll_poll+223\n\nANALYSIS_SOURCE:  UM\n\nFAILURE_ID_HASH_STRING:  um:null_pointer_read_before_write_c0000005_tcnative-1.dll!java_org_apache_tomcat_jni_poll_poll\n\nFAILURE_ID_HASH:  {3d0ef292-369d-05ca-f03e-33ba41a5100c}", "is_private": false, "id": 176610, "creator": "kmashint@yahoo.com", "time": "2014-07-23T02:21:11Z", "bug_id": 55797, "creation_time": "2014-07-23T02:21:11Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 55797, "attachment_id": null, "text": "As far as I can tell from the provided information, this is a duplicate.\n\nIf you still see this issue (or something like it) with the latest stable 1.2.x release and the latest stable release of a supported Tomcat version, please open a new bug. What we really need are steps to reproduce. Even if it doesn't reproduce reliable, a script that will trigger then problem (the quicker the better) is very helpful.\n\n*** This bug has been marked as a duplicate of bug 56313 ***", "id": 200429, "time": "2017-08-23T21:52:37Z", "creator": "markt@apache.org", "creation_time": "2017-08-23T21:52:37Z", "is_private": false}]