[{"attachment_id": null, "tags": [], "creator": "blakest@diebold.com", "is_private": false, "count": 0, "id": 5222, "time": "2001-09-07T13:50:16Z", "bug_id": 3507, "creation_time": "2001-09-07T13:50:16Z", "text": "The following two bugs fixed in Tomcat 4.0 also exist in 3.3. Patch to follow.\n\nweb.xml file generated by JspC is not valid as defined by DTD.\nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=3474\n\nInvalid url-pattern for servlet-mapping in web.xml file generated by JspC on \nWindows OS.\nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=3499"}, {"count": 1, "tags": [], "creator": "blakest@diebold.com", "attachment_id": null, "id": 5223, "time": "2001-09-07T13:54:31Z", "bug_id": 3507, "creation_time": "2001-09-07T13:54:31Z", "is_private": false, "text": "cvs diff -u JspC.java (in directory D:\\jakarta-tomcat\\jakarta-\ntomcat\\src\\share\\org\\apache\\jasper)\nIndex: JspC.java\n===================================================================\nRCS file: /home/cvspublic/jakarta-tomcat/src/share/org/apache/jasper/JspC.java,v\nretrieving revision 1.22\ndiff -u -r1.22 JspC.java\n--- JspC.java\t2001/04/28 21:13:36\t1.22\n+++ JspC.java\t2001/09/07 20:40:34\n@@ -395,11 +395,11 @@\n                 servletout.write(\"</servlet-class>\\n\\t</servlet>\\n\");\n             }\n             if (mappingout != null) {\n-                mappingout.write(\"\\n\\t<servlet-mapping>\\n\\t\\t<url-pattern>\");\n-                mappingout.write(file);\n-                mappingout.write(\"</url-pattern>\\n\\t\\t<servlet-name>\");\n+                mappingout.write(\"\\n\\t<servlet-mapping>\\n\\t\\t<servlet-name>\");\n                 mappingout.write(thisServletName);\n-                mappingout.write(\"</servlet-name>\\n\\t</servlet-mapping>\\n\");\n+                mappingout.write(\"</servlet-name>\\n\\t\\t<url-pattern>\");\n+                mappingout.write(file.replace('\\\\', '/'));\n+                mappingout.write(\"</url-pattern>\\n\\t</servlet-mapping>\\n\");\n             }\n             return true;\n         } catch (JasperException je) {\n\n*****CVS exited normally with code 1*****"}]