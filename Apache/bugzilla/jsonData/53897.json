[{"count": 0, "tags": [], "text": "Created attachment 29393\nComparison test case\n\nCustomizedELResolver is to simplify and make it efficient for EL resolving.\n\n1. The code in CustomizedELResolver is copied from CompositeELResolver.\n 2. Performance tuning is focus on getValue, because it was the big hotspot of one page hit if the page includes many ELs.\n 3. getValue switchs by \"base\"\n If the base is null, it follows next steps to check value,\n A. ImplicitObjectELResolverImpl(Optimized from ImplicitObjectELResolverImpl)\n B. Extended ELResolvers\n C. ScopedAttributeELResolverImpl(Extends ScopedAttributeELResolverImpl, supports get value by property name)\n\n Else the base is not null, it checks extended ELResolvers first, then tries to get value from Map, ResourceBundle, List, Array or Bean one by one until the property was resolved.\n\nQ: Why split extSize == 1 to another block ?\n A: To avoid an additional \"context.setPropertyResolved(false);\"\n\nQ: Why check value from Map, ResourceBundle, List and Array directly in CustomizedELResolver ?\n A To avoid extra valiation in ELResolver.getValue.\n\nDescription for attached files.\n 1. CustomizedELResolver: The implementation for this fix.\n 2 JspApplicationContextImpl.diff : Patch for how to apply this new resolver.\n 3. ScopedAttributeELResolverImpl.java: Extension of ScopedAttributeELResolverImpl.\n 4. TestPageContext.java: Test case to compare the new ELResolver with CompositeELResolver\n 5. ImplicitObjectELResolverImpl.java: related with another bugzilla https://issues.apache.org/bugzilla/show_bug.cgi?id=53895", "attachment_id": 29393, "id": 162268, "creator": "xshao@ebay.com", "time": "2012-09-19T06:19:56Z", "bug_id": 53897, "creation_time": "2012-09-19T06:19:56Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 53897, "attachment_id": 29394, "is_private": false, "id": 162269, "time": "2012-09-19T06:20:36Z", "creator": "xshao@ebay.com", "creation_time": "2012-09-19T06:20:36Z", "text": "Created attachment 29394\nCustomizedELResolver"}, {"count": 2, "tags": [], "creator": "xshao@ebay.com", "attachment_id": 29395, "text": "Created attachment 29395\nExtension of ScopedAttributeELResolver", "id": 162270, "time": "2012-09-19T06:21:54Z", "bug_id": 53897, "creation_time": "2012-09-19T06:21:54Z", "is_private": false}, {"attachment_id": 29396, "tags": [], "bug_id": 53897, "is_private": false, "count": 3, "id": 162271, "time": "2012-09-19T06:22:29Z", "creator": "xshao@ebay.com", "creation_time": "2012-09-19T06:22:29Z", "text": "Created attachment 29396\nPatch for how to apply this CustomizdELResolver"}, {"count": 4, "tags": [], "bug_id": 53897, "attachment_id": null, "is_private": false, "id": 162280, "time": "2012-09-19T08:00:40Z", "creator": "xshao@ebay.com", "creation_time": "2012-09-19T08:00:40Z", "text": "Related with https://issues.apache.org/bugzilla/show_bug.cgi?id=53896"}, {"count": 5, "tags": [], "creator": "jgawor@gmail.com", "attachment_id": null, "text": "This is essentially a duplicate of https://issues.apache.org/bugzilla/show_bug.cgi?id=53896. From my reading of the JSP 2.2 spec (section 2.9), it implies that the ELResolver used by JSP application should be an CompositeELResolver (which the JasperELResolver.java in 53896 is).", "id": 162284, "time": "2012-09-19T14:37:48Z", "bug_id": 53897, "creation_time": "2012-09-19T14:37:48Z", "is_private": false}, {"count": 6, "tags": [], "creator": "markt@apache.org", "text": "Yep, the resolver needs to be an instance of CompositeELResolver. The patch in the duplicate is also easier to read. I intend to progress the duplicate rather than this one.\n\n*** This bug has been marked as a duplicate of bug 53896 ***", "id": 162995, "time": "2012-10-27T19:22:38Z", "bug_id": 53897, "creation_time": "2012-10-27T19:22:38Z", "is_private": false, "attachment_id": null}]