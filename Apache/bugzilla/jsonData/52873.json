[{"count": 0, "tags": [], "text": "This is reproduced by running FOP junit tests with font PT Sans Narrow Bold.\n\nOutput:\n.......\nMar 9, 2012 4:06:29 PM org.apache.fop.fonts.truetype.TTFFile checkTTC\nINFO: PT Sans Narrow Bold\nMar 9, 2012 4:06:29 PM org.apache.fop.complexscripts.fonts.GlyphCoverageTable$MappedCoverageTable populate\nINFO: ignoring out of order or duplicate glyph index: 202\nMar 9, 2012 4:06:29 PM org.apache.fop.complexscripts.fonts.GlyphCoverageTable$MappedCoverageTable populate\nINFO: ignoring out of order or duplicate glyph index: 218\nMar 9, 2012 4:06:29 PM org.apache.fop.complexscripts.fonts.GlyphCoverageTable$MappedCoverageTable populate\nINFO: ignoring out of order or duplicate glyph index: 224\nMar 9, 2012 4:06:29 PM org.apache.fop.complexscripts.fonts.GlyphCoverageTable$MappedCoverageTable populate\nINFO: ignoring out of order or duplicate glyph index: 225\nMar 9, 2012 4:06:29 PM org.apache.fop.complexscripts.fonts.GlyphCoverageTable$MappedCoverageTable populate\nINFO: ignoring out of order or duplicate glyph index: 234\nMar 9, 2012 4:06:29 PM org.apache.fop.complexscripts.fonts.GlyphCoverageTable$MappedCoverageTable populate\nINFO: ignoring out of order or duplicate glyph index: 266\n\nand it fails with \n\njunit] Testcase: testUserConfig(org.apache.fop.config.FontsAutoDetectTestCase):\tFAILED\n    [junit] null\n    [junit] junit.framework.AssertionFailedError\n    [junit] \tat org.apache.fop.complexscripts.fonts.GlyphCoverageTable$MappedCoverageTable.populate(GlyphCoverageTable.java:199)\n    [junit] \tat org.apache.fop.complexscripts.fonts.GlyphCoverageTable$MappedCoverageTable.<init>(GlyphCoverageTable.java:145)\n    [junit] \tat org.apache.fop.complexscripts.fonts.GlyphCoverageTable.createCoverageTable(GlyphCoverageTable.java:90)\n    [junit] \tat org.apache.fop.complexscripts.fonts.OTFAdvancedTypographicTableReader.readCoverageTableFormat1(OTFAdvancedTypographicTableReader.java:568)\n    [junit] \tat org.apache.fop.complexscripts.fonts.OTFAdvancedTypographicTableReader.readCoverageTable(OTFAdvancedTypographicTableReader.java:601)\n    [junit] \tat org.apache.fop.complexscripts.fonts.OTFAdvancedTypographicTableReader.readChainedContextualSubTableFormat3(OTFAdvancedTypographicTableReader.java:1457)\n    [junit] \tat org.apache.fop.complexscripts.fonts.OTFAdvancedTypographicTableReader.readChainedContextualSubTable(OTFAdvancedTypographicTableReader.java:1512)\n    [junit] \tat org.apache.fop.complexscripts.fonts.OTFAdvancedTypographicTableReader.readGSUBSubtable(OTFAdvancedTypographicTableReader.java:1657)\n    [junit] \tat org.apache.fop.complexscripts.fonts.OTFAdvancedTypographicTableReader.readLookupTable(OTFAdvancedTypographicTableReader.java:3193)\n    [junit] \tat org.apache.fop.complexscripts.fonts.OTFAdvancedTypographicTableReader.readLookupList(OTFAdvancedTypographicTableReader.java:3222)\n    [junit] \tat org.apache.fop.complexscripts.fonts.OTFAdvancedTypographicTableReader.readCommonLayoutTables(OTFAdvancedTypographicTableReader.java:3243)\n    [junit] \tat org.apache.fop.complexscripts.fonts.OTFAdvancedTypographicTableReader.readGSUB(OTFAdvancedTypographicTableReader.java:3466)\n    [junit] \tat org.apache.fop.complexscripts.fonts.OTFAdvancedTypographicTableReader.readAll(OTFAdvancedTypographicTableReader.java:84)\n    [junit] \tat org.apache.fop.fonts.truetype.TTFFile.readFont(TTFFile.java:640)\n    [junit] \tat org.apache.fop.fonts.truetype.TTFFontLoader.read(TTFFontLoader.java:101)\n    [junit] \tat org.apache.fop.fonts.truetype.TTFFontLoader.read(TTFFontLoader.java:87)\n    [junit] \tat org.apache.fop.fonts.FontLoader.getFont(FontLoader.java:197)\n    [junit] \tat org.apache.fop.fonts.autodetect.FontInfoFinder.find(FontInfoFinder.java:227)\n    [junit] \tat org.apache.fop.fonts.FontAdder.add(FontAdder.java:58)\n    [junit] \tat org.apache.fop.fonts.FontDetector.detect(FontDetector.java:95)\n    [junit] \tat org.apache.fop.fonts.FontInfoConfigurator.configure(FontInfoConfigurator.java:94)\n    [junit] \tat org.apache.fop.render.PrintRendererConfigurator.buildFontList(PrintRendererConfigurator.java:109)\n    [junit] \tat org.apache.fop.render.PrintRendererConfigurator.setupFontInfo(PrintRendererConfigurator.java:132)\n    [junit] \tat org.apache.fop.render.intermediate.IFUtil.setupFonts(IFUtil.java:167)\n    [junit] \tat org.apache.fop.render.intermediate.IFRenderer.setupFontInfo(IFRenderer.java:188)\n    [junit] \tat org.apache.fop.area.RenderPagesModel.<init>(RenderPagesModel.java:75)\n    [junit] \tat org.apache.fop.area.AreaTreeHandler.setupModel(AreaTreeHandler.java:135)\n    [junit] \tat org.apache.fop.area.AreaTreeHandler.<init>(AreaTreeHandler.java:105)\n    [junit] \tat org.apache.fop.render.RendererFactory.createFOEventHandler(RendererFactory.java:358)\n    [junit] \tat org.apache.fop.fo.FOTreeBuilder.<init>(FOTreeBuilder.java:105)\n    [junit] \tat org.apache.fop.apps.Fop.createDefaultHandler(Fop.java:100)\n    [junit] \tat org.apache.fop.apps.Fop.<init>(Fop.java:78)\n    [junit] \tat org.apache.fop.apps.FopFactory.newFop(FopFactory.java:297)\n    [junit] \tat org.apache.fop.render.pdf.BasePDFTest.convertFO(BasePDFTest.java:83)\n    [junit] \tat org.apache.fop.config.BaseUserConfigTest.convertFO(BaseUserConfigTest.java:64)\n    [junit] \tat org.apache.fop.config.BaseConstructiveUserConfigTest.testUserConfig(BaseConstructiveUserConfigTest.java:39)", "attachment_id": null, "id": 154751, "creation_time": "2012-03-09T15:00:35Z", "time": "2012-03-09T15:00:35Z", "creator": "alex.giotis@gmail.com", "bug_id": 52873, "is_private": false}, {"count": 1, "tags": [], "bug_id": 52873, "attachment_id": null, "id": 154756, "time": "2012-03-09T16:59:30Z", "creator": "gadams@apache.org", "creation_time": "2012-03-09T16:59:30Z", "is_private": false, "text": "implemented fix in revision 1298912\n\nhttp://svn.apache.org/viewvc?view=revision&revision=1298912\n\nalex, please verify as I do not have the font that is producing the problem on your side... once you verify, i will close"}, {"count": 2, "tags": [], "bug_id": 52873, "attachment_id": null, "is_private": false, "id": 154757, "time": "2012-03-09T17:15:24Z", "creator": "alex.giotis@gmail.com", "creation_time": "2012-03-09T17:15:24Z", "text": "Glenn, thanks for the very fast response. All tests are now passing.\n\njunit:\n     [echo] All Junit tests passed!\n     [echo] Use the \"junit-reports\" target to generate HTML test reports\n\nBUILD SUCCESSFUL\nTotal time: 4 minutes 9 seconds"}]