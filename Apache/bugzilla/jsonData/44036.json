[{"count": 0, "tags": [], "text": "For maintenance work, I would like to delete old error.log files, but I'm not\nable to delete them from Windows command prompt. rotatelogs.exe seems not\nreleasing old log files.\n\nHow to reproduce;\n 1. Add following directive,\n     ErrorLog \"| c:/apache2/bin/rotatelogs.exe c:/apache2/logs/%Y%m%d_error.log\n86400\"\n\n 2. Restart Apache and access non-existing pages from browser\n\n 3. Change Windows date \n\n 4. Access non-existing pages from browser\n\n 5. Delete the old error.log file like,\n    > del YYYYMMDD_error.log\n\n 6. The old file still exists\n    > ls\n\n\nI'm able to delete them from Widows explore, but I would like to make a script\nfor maintenance work.", "attachment_id": null, "bug_id": 44036, "id": 111524, "time": "2007-12-06T17:50:54Z", "creator": "kenji.kikuti@ctc-g.co.jp", "creation_time": "2007-12-06T17:50:54Z", "is_private": false}, {"count": 1, "tags": [], "text": "Until the parent process has fresh activity, yes it holds open it's last\nused log.  This is what you are observing.\n\n\" 3. Change Windows date \"\n\nisn't quite a legitimate testing methodology, as it has unexpected side effects.\n\nAn appropriate hack would be to have rotatelogs actually 'expire' its lock on\nthe current file once a timeup occurs (mapping it to the number of seconds until\nthe next valid file should be created).  In fact this could avoid other side\neffects.  But I'd offer that's a subject for another bug report (patches welcome!)", "is_private": false, "id": 112326, "creator": "wrowe@apache.org", "time": "2007-12-30T22:39:07Z", "bug_id": 44036, "creation_time": "2007-12-30T22:39:07Z", "attachment_id": null}]