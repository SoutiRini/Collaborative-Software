[{"count": 0, "tags": [], "creator": "jbaesner@redhat.com", "text": "I'm trying to use Apache httpd 2.4.x in order to proxy incoming connection to another IP/Port used by Wildfly 11 that listens to an upgraded http connection.\n\nIn this specific case I'm trying to proxy a remote JMS invocation. Here more than one connection are being used by the \"framework\" code, each having a different \"upgrade\".\n\nThe first request has the upgrade 'jboss-remoting' whereas the second request has the upgrade 'activemq-remoting'. This is due to the fact that the initial request is made by the JBoss remoting and the next request is then being handled by netty from the messaging sub-system 'ActiveMQ'...\n\nSo what is needed is a dynamic upgrade to the protocol in the header.\n\nI'll provide a way to reproduce it later, as there're currently some errors in the community projects...", "id": 198999, "time": "2017-06-01T15:09:02Z", "bug_id": 61142, "creation_time": "2017-06-01T15:09:02Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 61142, "is_private": false, "id": 199000, "time": "2017-06-01T15:45:01Z", "creator": "jfclere@gmail.com", "creation_time": "2017-06-01T15:45:01Z", "tags": [], "text": "Note I have already add some logic in mod_proxy_wstunnel to allow different configurable upgrade, this case is similar except we use a single port/ip to upgrade to 2 different protocols in the first request Upgrade header contains the protocol the back-end will do, mod_proxy_wstunnel tunnels so that be quite easy to add."}, {"count": 2, "tags": [], "creator": "jbaesner@redhat.com", "text": "Created attachment 35093\nReproducer application\n\nThis zip contains a simple Maven project that can be used to create this situation. An explanation how to use the project is given in the included README.md...", "id": 199532, "time": "2017-07-03T13:15:25Z", "bug_id": 61142, "creation_time": "2017-07-03T13:15:25Z", "is_private": false, "attachment_id": 35093}, {"text": "Created attachment 35117\npatch to fix the issue\n\npatch for 2.4.x", "tags": [], "bug_id": 61142, "attachment_id": 35117, "count": 3, "id": 199709, "time": "2017-07-11T09:56:19Z", "creator": "jfclere@gmail.com", "creation_time": "2017-07-11T09:56:19Z", "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 61142, "is_private": false, "id": 199719, "time": "2017-07-11T12:06:19Z", "creator": "jfclere@gmail.com", "creation_time": "2017-07-11T12:06:19Z", "tags": [], "text": "Committed in trunk and back port proposed for 2.4.x"}, {"count": 5, "attachment_id": null, "creator": "ylavic.dev@gmail.com", "is_private": false, "id": 201276, "time": "2017-10-03T13:03:55Z", "bug_id": 61142, "creation_time": "2017-10-03T13:03:55Z", "tags": [], "text": "Backported to 2.4.28 in r1808698."}]