[{"count": 0, "tags": [], "text": "I have built an apache module for Apache 2.0.55 and Apache 2.2.2 on Linux, AIX\nand Solaris. On all the platforms the module gets properly loaded except on AIX 5.2.\nFYI, on AIX 5.1, the LoadModule succeeds on Apache 2.2.2.\nOn AIX 5.2, I am not able to start the apache with the module loaded. \n\nI have special LDFLAGS defined for AIX,\n--for apache 2.0.x --\nifeq \"rs6000-aix\" \"$(OS)\"\nLDFLAGS+= -bI:$(LIBROOT)/$(OS)/apache/httpd/2.0/httpd-2.0.47/lib/httpd.exp\n-L$(LIBROOT)/$(OS)/apache/httpd/2.0/httpd-2.0.47/lib -lapr-0 -laprutil-0\nendif\n\n-- for apache 2.2.2 - \n\nifeq \"rs6000-aix\" \"$(OS)\"\nLDFLAGS+= -bI:$(LIBROOT)/$(OS)/apache-httpd/2.2.0/lib/httpd.exp\n-L$(LIBROOT)/$(OS)/apache-httpd/2.2.0/lib -lapr-1 -laprutil-1\nendif\n\nCan someone help me understand why this happens ?. If need be I am ready to\nprovide more information on the problem. when I use dump- Tv <my module> I have\nthe ap_ functions not linked to anything. though I give the above flags, during\ncompilation I get warnings.\n\nUndefined                       first referenced\n symbol                             in file\nap_hook_check_user_id               release/sparc-solaris/mt_apache_mod.o\nap_find_module_name                 release/sparc-solaris/mt_raw_dn.o\napr_table_do                        release/sparc-solaris/mt_server_parms_impl.o\napr_table_set                       release/sparc-solaris/mt_request_data_impl.o\napr_table_get                       release/sparc-solaris/mt_request_data_impl.o\napr_table_add                       release/sparc-solaris/mt_server_parms_impl.o\napr_pool_cleanup_register           release/sparc-solaris/mt_apache_mod.o\nap_hook_log_transaction             release/sparc-solaris/mt_apache_mod.o\napr_pool_cleanup_null               release/sparc-solaris/mt_apache_mod.o\napr_is_empty_table                  release/sparc-solaris/mt_apache_mod.o\napr_table_unset                     release/sparc-solaris/mt_server_parms_impl.o\nap_run_http_method                  release/sparc-solaris/mt_server_parms_impl.o\napr_table_elts                      release/sparc-solaris/mt_apache_mod.o\nap_mpm_query                        release/sparc-solaris/mt_apache_mod.o\nap_hook_child_init                  release/sparc-solaris/mt_apache_mod.o\nap_get_basic_auth_pw                release/sparc-solaris/mt_server_parms_impl.o\nap_should_client_block              release/sparc-solaris/mt_server_funcs_impl.o\napr_palloc                          release/sparc-solaris/mt_server_parms_impl.o\nap_hook_post_read_request           release/sparc-solaris/mt_apache_mod.o\napr_pstrdup                         release/sparc-solaris/mt_server_parms_impl.o\napr_dynamic_fn_retrieve             release/sparc-solaris/mt_raw_dn.o\nap_get_client_block                 release/sparc-solaris/mt_server_funcs_impl.o\nap_hook_auth_checker                release/sparc-solaris/mt_apache_mod.o\nap_setup_client_block               release/sparc-solaris/mt_server_funcs_impl.o\napr_dso_sym                         release/sparc-solaris/mt_raw_dn.o\nap_auth_name                        release/sparc-solaris/mt_apache_mod.o\nap_hook_post_config                 release/sparc-solaris/mt_apache_mod.o\nap_get_server_port                  release/sparc-solaris/mt_server_parms_impl.o\nap_get_server_name                  release/sparc-solaris/mt_server_parms_impl.o\napr_psprintf                        release/sparc-solaris/mt_apache_conf.o\napr_dso_error                       release/sparc-solaris/mt_raw_dn.o\nap_getword_conf                     release/sparc-solaris/mt_apache_mod.o\nap_getword                          release/sparc-solaris/mt_apache_mod.o\nap_top_module                       release/sparc-solaris/mt_raw_dn.o\nap_is_directory                     release/sparc-solaris/mt_apache_mod.o\nld: warning: Symbol referencing errors\n\nThanks for your help.", "attachment_id": null, "bug_id": 40359, "id": 92726, "time": "2006-08-30T13:20:05Z", "creator": "sundarp@hcl.in", "creation_time": "2006-08-30T13:20:05Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 40359, "attachment_id": null, "text": "You say there is a failure on AIX, yet the ld output you give appears to be from\nSolaris?  If you don't define custom LDFLAGS on AIX does the build succeed?\n\nPlease show exact the exact from unmodified 2.2.3 or 2.0.59.", "id": 95257, "time": "2006-10-31T08:47:11Z", "creator": "jorton@redhat.com", "creation_time": "2006-10-31T08:47:11Z", "is_private": false}, {"count": 2, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "id": 95258, "time": "2006-10-31T08:53:32Z", "bug_id": 40359, "creation_time": "2006-10-31T08:53:32Z", "is_private": false, "text": "Re-arranging the above into a meaningful sentence...\n\nPlease show the exact failures from an unmodified 2.2.3 or 2.0.59 build.\n"}, {"count": 3, "tags": [], "bug_id": 40359, "attachment_id": null, "id": 109100, "time": "2007-10-07T17:59:47Z", "creator": "nick@webthing.com", "creation_time": "2007-10-07T17:59:47Z", "is_private": false, "text": "No response to joe."}]