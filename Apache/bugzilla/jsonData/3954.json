[{"count": 0, "tags": [], "creator": "eric@altaserv.net", "attachment_id": null, "text": "Generating a client jar using the blgenclient task (or the borland task with\ngenerateclient=\"on\") fails when debug is enabled.  Here is code from my\nbuild.xml file that causes the failure:\n\n    <blgenclient ejbjar=\"${staging.lib.dir}/${component.jar}\"\n                 clientjar=\"${staging.lib.dir}/${component.clientjar}\"\n                 debug=\"true\"\n                 mode=\"java\">\n\nThis code fails when it attempts to run java2iiop.  The\nBorlandGenerateClient.executeJava() method sets the invalid flag \"-trace\" (line\n192), which is not a valid option to java2iiop.  A better solution is to pass\n\"-long\" instead of \"-short\" to java2iiop, which will give full detail.  The\nBorland generateclient options are detailed here:\nhttp://www.borland.com/techpubs/books/appserver/appserver45/users-guide/ias.html#49927\n\nHere is the abbreviated error output:\n\n     [java] Creating client jar\n/home/eric/src/WebApp/EjbTier/staging/debug-jdk1.3.1/lib/EjbTierclient.jar,\nAnalyzing source jar EjbTier.jar, Building client jar for EjbTier.jar,\nGenerating client stubs for jar EjbTier.jar, Error type: Usage: Bad arguments\npassed to java2iiop\n     [java] Thread: Thread[main,5,main]\n     [java] Stack trace:\n     [java] com.inprise.ejb.util.GeneratorException: Usage: Bad arguments passed\nto java2iiop\n     [java] \tat com.inprise.ejb.util.StubGenerator.generate(StubGenerator.java:239)\n     [java] \tat\ncom.inprise.ejb.util.ClientGenerator.generate_buildJar(ClientGenerator.java:301)\n     [java] \tat\ncom.inprise.ejb.util.ClientGenerator.generate(ClientGenerator.java:147)\n     [java] \tat com.inprise.ejb.util.ClientGenerator.generate(ClientGenerator.java:74)\n     [java] \tat\ncom.inprise.server.commandline.EJBUtilities.doGenerateClient(EJBUtilities.java:640)\n     [java] \tat\ncom.inprise.server.commandline.EJBUtilities.generateClient(EJBUtilities.java:442)\n     [java] \tat\ncom.inprise.server.commandline.EJBUtilities.main(EJBUtilities.java:1546)", "id": 6340, "time": "2001-10-03T16:03:45Z", "bug_id": 3954, "creation_time": "2001-10-03T16:03:45Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 3954, "text": "The BorlandGenerateClient <blgenclient> task does not directly call the\njava2iiop tool. It calls either calls into\ncom.inprise.server.commandline.EJBUtilities or uses the iastool executable. \n\n\"-trace\" is a valid argument for EJBUtilities & iastool in version 4.1 & 4.5 of\nBorland App Server. <ejbjar> creates a <blgenclient> task when\n'generateclient=\"true\"' is specified in the buildfile, so both ant tasks use the\nsame code.\n\nI have have run these 2 snippets on Linux (JDK1.3, Ant 1.4.1, appserver 4.1) &\nWin2000 (JDK 1.4, Ant 1.5 CVS, appserver 4.5). I was unable to reproduce the\nerror. I also tested debug off & fork mode for <blgenclient>.\n\n\n<blgenclient ejbjar=\"${dist}/lib/Borland/${ant.project.name}-ejb.jar\" \n\tclientjar=\"${dist}/lib/Borland/${ant.project.name}-client.jar\" \n\tdebug=\"true\" \n\tmode=\"java\">\n</blgenclient>\n\n        \n<ejbjar srcdir=\"${build}/${ant.project.name}\"\n\tbasejarname=\"${ant.project.name}\"\n\tdescriptordir=\"${descriptors}/${ant.project.name}\">\n\t<borland destdir=\"${dist}/lib/Borland\" \n\t\tgenerateclient=\"true\" \n\t\tdebug=\"true\"\n\t\tverify=\"on\">\t\t\n\t</borland>\n</ejbjar>\n\nIn order to investigate the problem further I would need to see the\n-debug output, specifically the \"Execute:Java13CommandLauncher: \" output.\n\n\nJesse", "id": 10258, "time": "2002-02-03T17:13:54Z", "creator": "jesse@cryptocard.com", "creation_time": "2002-02-03T17:13:54Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 3954, "is_private": false, "text": "Last call on behalf of Jesse for more information...  Will mark it as WORKSFORME\nif we do not hear back from you.", "id": 13685, "time": "2002-04-15T20:33:14Z", "creator": "umagesh@apache.org", "creation_time": "2002-04-15T20:33:14Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 3954, "is_private": false, "text": "OK, no more info - so WORKSFORME it is", "id": 29581, "time": "2003-01-17T02:24:14Z", "creator": "conor@apache.org", "creation_time": "2003-01-17T02:24:14Z", "attachment_id": null}]