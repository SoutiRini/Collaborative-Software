[{"count": 0, "tags": [], "bug_id": 13029, "attachment_id": null, "is_private": false, "id": 23440, "time": "2002-09-26T11:23:18Z", "creator": "wolf-dietrich.moeller@siemens.com", "creation_time": "2002-09-26T11:23:18Z", "text": "Problem:\nApache 2.0.42 mod_ssl fails to generate StdEnvVars on call to a perl script and\ngives the error messages\n[Wed Sep 25 17:39:08 2002] [error] [client 127.0.0.1] (22)Invalid argument:\ncouldn't create child process: 22: printenv_.cgi\n[Wed Sep 25 17:39:08 2002] [error] [client 127.0.0.1] (22)Invalid argument:\ncouldn't spawn child process: E:/Web/cgi-bin/tool/printenv_.cgi\n\nProbable reason:\nThe server certificate was generated with openssl on WinNT and contains in its\nattributes a non-US-ASCII-character, in this case \"u Umlaut\", which is 0x81 in\nDOS-charset used in WinNT command line window.\nApache 1.3.26 mod_ssl 2.8.10 openssl0.9.6g transscribes this character as\nfollows in L=\nSSL_SERVER_I_DN=\"/C=de/ST=Some-State/L=m\\x81nchen/O=private/CN=localhost/Email=wolf-dietrich.moeller@mchp.siemens.de\"\nand works fine.\nNB: The same installation of 2.0.42 works fine with a server certificate without\n\"Umlaut\".\n\nQuestion:\nIs it a feature to block these characters (then the error message is very\nmisleading),\nor is it a bug (handling should be as in Apache 1.3.26)?"}, {"count": 1, "tags": [], "bug_id": 13029, "attachment_id": null, "is_private": false, "id": 58644, "time": "2004-06-03T16:12:24Z", "creator": "jorton@redhat.com", "creation_time": "2004-06-03T16:12:24Z", "text": "It's mod_cgi failing here, some Win32 environment variable charset issue.  Can\nyou confirm whether it still fails like this in 2.0.49? (I don't want to offer\nyou hope that anyone will fix it even if you do confirm that, though)"}, {"count": 2, "tags": [], "bug_id": 13029, "is_private": false, "text": "The behaviour is still the same for this version:\nServer version: Apache/2.0.49\nServer built:   Mar 20 2004 13:28:19\nServer's Module Magic Number: 20020903:7\nArchitecture:   32-bit\nServer compiled with....\n -D APACHE_MPM_DIR=\"server/mpm/winnt\"\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D HTTPD_ROOT=\"/apache\"\n -D SUEXEC_BIN=\"/apache/bin/suexec\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_ERRORLOG=\"logs/error.log\"\n -D AP_TYPES_CONFIG_FILE=\"conf/mime.types\"\n -D SERVER_CONFIG_FILE=\"conf/httpd.conf\"\nas downloaded from <http://hunter.campbus.com/>", "id": 58652, "time": "2004-06-03T16:54:37Z", "creator": "wolf-dietrich.moeller@siemens.com", "creation_time": "2004-06-03T16:54:37Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "jorton@redhat.com", "text": "OK, thanks.", "id": 58668, "time": "2004-06-03T21:34:47Z", "bug_id": 13029, "creation_time": "2004-06-03T21:34:47Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "jorton@redhat.com", "text": "*** Bug 27442 has been marked as a duplicate of this bug. ***", "id": 58680, "time": "2004-06-03T22:31:09Z", "bug_id": 13029, "creation_time": "2004-06-03T22:31:09Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "jorton@redhat.com", "text": "*** Bug 16635 has been marked as a duplicate of this bug. ***", "id": 58695, "time": "2004-06-03T23:52:21Z", "bug_id": 13029, "creation_time": "2004-06-03T23:52:21Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 13029, "attachment_id": null, "text": "Still on 2.0.54", "id": 74623, "time": "2005-05-09T17:39:16Z", "creator": "gnevarez@gmail.com", "creation_time": "2005-05-09T17:39:16Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 13029, "attachment_id": null, "text": "New status for Apache 2.0.54 (on WinNT SP6a and WinXP SP2):\nThe character 0x81 is still rejected, but the error message in error.log has\nchanged, e.g.:\n\n\"[Wed Sep 07 18:15:55 2005] [error] [client 127.0.0.1] script not found or\nunable to stat: D:/Web/cgi/printenv.cgi\n(22)Invalid argument: utf8 to ucs2 conversion failed on this string:\nSSL_SERVER_S_DN_L=M\\x81nchen\n[Wed Sep 07 18:16:21 2005] [error] [client 127.0.0.1] (22)Invalid argument:\ncouldn't create child process: 22: printenv.cgi\n[Wed Sep 07 18:16:21 2005] [error] [client 127.0.0.1] (22)Invalid argument:\ncouldn't spawn child process: D:/Web/cgi/tool/printenv.cgi\"\n\nAs all characters from 0x80 to 0x9f are control characters in Latin-1 and UTF-8.\nThus this behaviour seems adequate to me, and the error message now gives the\ncorrect reason for failure. I think it is not necessary to support proprietary\ncode pages like MS-DOS or WIN-1252 with printable characters in the range 0x80\nto 0x9f.\n\nTo my impression (as reporter of the bug) the bug may be treated as fixed.\n", "id": 79621, "time": "2005-09-08T09:11:39Z", "creator": "wolf-dietrich.moeller@siemens.com", "creation_time": "2005-09-08T09:11:39Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 13029, "attachment_id": null, "is_private": false, "id": 85124, "time": "2006-01-27T17:58:11Z", "creator": "marc.stern@approach.be", "creation_time": "2006-01-27T17:58:11Z", "text": "With a certificate containing valid UTF-8 characters, like '\\xC3\\x9F', they are\nalso encoded in StdEnvVars as a 8-bytes string instead of a 2-bytes string.\n\nHow could we fix that ?"}, {"count": 9, "tags": [], "creator": "wrowe@apache.org", "text": "\"With a certificate containing valid UTF-8 characters, like '\\xC3\\x9F', they are\n also encoded in StdEnvVars as a 8-bytes string instead of a 2-bytes string.\"\n\nThey are?  Or do they just look that way to your CGI?\n\nWe are creating the proper unicode ENVVAR, perhaps your CGI script isn't\ninternationalized?  What shows up if you go to log this using the envvar\nlogging option in mod_log_config?  A two-byte or one-byte sequence?", "id": 85132, "time": "2006-01-27T20:43:22Z", "bug_id": 13029, "creation_time": "2006-01-27T20:43:22Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "creator": "marc.stern@approach.be", "attachment_id": null, "id": 85193, "time": "2006-01-30T13:27:57Z", "bug_id": 13029, "creation_time": "2006-01-30T13:27:57Z", "is_private": false, "text": "With the directive\n  CustomLog dn.log \"SSL_CLIENT_S_DN=\\\"%{SSL_CLIENT_S_DN}x\\\"\"\n\nhere is what I get in the log:\nSSL_CLIENT_S_DN=\"/C=BE/CN=Davina.../GN=Davina...\\xC3\\x9F\\xC3\\xA7.../serialNumber=83737300064\""}, {"count": 11, "tags": [], "creator": "jorton@redhat.com", "text": "*** Bug 41094 has been marked as a duplicate of this bug. ***", "id": 96748, "time": "2006-12-11T06:39:17Z", "bug_id": 13029, "creation_time": "2006-12-11T06:39:17Z", "is_private": false, "attachment_id": null}, {"count": 12, "tags": [], "creator": "jorton@redhat.com", "text": "*** Bug 39105 has been marked as a duplicate of this bug. ***", "id": 96750, "time": "2006-12-11T06:42:26Z", "bug_id": 13029, "creation_time": "2006-12-11T06:42:26Z", "is_private": false, "attachment_id": null}, {"count": 13, "tags": [], "creator": "wrowe@apache.org", "text": "*** Bug 34985 has been marked as a duplicate of this bug. ***", "id": 112110, "time": "2007-12-22T13:06:29Z", "bug_id": 13029, "creation_time": "2007-12-22T13:06:29Z", "is_private": false, "attachment_id": null}, {"count": 14, "tags": [], "bug_id": 13029, "attachment_id": null, "text": "*** Bug 33724 has been marked as a duplicate of this bug. ***", "id": 112112, "time": "2007-12-22T13:07:02Z", "creator": "wrowe@apache.org", "creation_time": "2007-12-22T13:07:02Z", "is_private": false}, {"text": "*** Bug 32730 has been marked as a duplicate of this bug. ***", "tags": [], "bug_id": 13029, "is_private": false, "count": 15, "id": 112114, "time": "2007-12-22T13:07:29Z", "creator": "wrowe@apache.org", "creation_time": "2007-12-22T13:07:29Z", "attachment_id": null}, {"count": 16, "tags": [], "creator": "wrowe@apache.org", "text": "*** Bug 14227 has been marked as a duplicate of this bug. ***", "id": 112116, "time": "2007-12-22T13:07:48Z", "bug_id": 13029, "creation_time": "2007-12-22T13:07:48Z", "is_private": false, "attachment_id": null}, {"count": 17, "tags": [], "creator": "wrowe@apache.org", "text": "*** Bug 42624 has been marked as a duplicate of this bug. ***", "id": 112124, "time": "2007-12-22T15:56:38Z", "bug_id": 13029, "creation_time": "2007-12-22T15:56:38Z", "is_private": false, "attachment_id": null}, {"count": 18, "tags": [], "creator": "wrowe@apache.org", "text": "Sorry for the noise, tagging important issues as FAQ", "id": 112130, "time": "2007-12-23T09:55:57Z", "bug_id": 13029, "creation_time": "2007-12-23T09:55:57Z", "is_private": false, "attachment_id": null}, {"count": 19, "tags": [], "creator": "sf@sfritsch.de", "text": "should be fixed in 2.2.22", "id": 153454, "time": "2012-02-04T20:54:54Z", "bug_id": 13029, "creation_time": "2012-02-04T20:54:54Z", "is_private": false, "attachment_id": null}]