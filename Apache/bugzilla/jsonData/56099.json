[{"count": 0, "tags": [], "bug_id": 56099, "is_private": false, "id": 172847, "attachment_id": 31278, "creator": "scott@tnstaafl.net", "creation_time": "2014-02-01T19:27:07Z", "time": "2014-02-01T19:27:07Z", "text": "Created attachment 31278\nThis is an epb created with a prior version of ant that shows the correct header, notice there is no space between the mimetype declaration and the text of the mimetype.\n\nRecently upgraded to 1.9.2.  Before ugrade the ZIP taks created the epub correctly, now there is extra characters in the zip header, which the epub validator objects to.  I have not changed anything in the build except ant. \n\nI am building epub(zip) files with an ant task.  Here it is\n\n<!-- have to create the uncompressed and compressed seperatly -->\n                                    <zip destfile=\"@{sourceDir}/book.mimetype\" compress=\"false\" encoding=\"UTF-8\" basedir=\"@{sourceDir}/epub\" includes=\"mimetype\"/>\n                                    <zip destfile=\"@{sourceDir}/book.zip\" compress=\"true\" level=\"9\"  encoding=\"UTF-8\" basedir=\"@{sourceDir}/epub\" includes=\"OEBPS/ META-INF/\"/>\n                                    <!-- put um together -->\n                                    <zip destfile=\"@{sourceDir}/@{bookDir}.epub\" update=\"true\" keepcompression=\"true\" encoding=\"UTF-8\">\n                                        <zipfileset src=\"@{sourceDir}/book.mimetype\"/>\n                                        <zipfileset src=\"@{sourceDir}/book.zip\"/>\n                                    </zip>\n\nI have attached hex views of the correct zip and the 1.9.2 version."}, {"count": 1, "tags": [], "text": "Created attachment 31279\nHex view of 1.9.2 created zip file, notice to extra characters between the mimetype declaration and the text.", "attachment_id": 31279, "bug_id": 56099, "id": 172848, "time": "2014-02-01T19:29:16Z", "creator": "scott@tnstaafl.net", "creation_time": "2014-02-01T19:29:16Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 56099, "attachment_id": null, "id": 172856, "time": "2014-02-02T04:54:52Z", "creator": "bodewig@apache.org", "creation_time": "2014-02-02T04:54:52Z", "is_private": false, "text": "without looking into it too closely, the  \"extra space\"\" most likely is a Zip64 extra field.  Does setting zip64mode to never in your zip task solve this?"}, {"text": "Oddly enough I tried zip64Mode=\"never\" and it didn't make a differrence.  I tried it once again and sure enough the extra characters are gone and epubcheck is happy once again,\n\nI must have had a typo in my parameter...\n\nthanks,\n\nScott", "tags": [], "bug_id": 56099, "is_private": false, "count": 3, "id": 172861, "time": "2014-02-02T16:08:23Z", "creator": "scott@tnstaafl.net", "creation_time": "2014-02-02T16:08:23Z", "attachment_id": null}]