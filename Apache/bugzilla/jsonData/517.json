[{"count": 0, "tags": [], "bug_id": 517, "text": "When attempting to use Response.sendRedirect to redirect to another page or jsp\nafter some processing of a form, the response headers and content get \nsplattered all over the page the user is being directed to. \n\nBelow are two simple JSPs and the resultant source when using IE\n\n\n#####################JSP number one\n<%@ page import=\"java.util.*\" %>\n<%!\n%>\n<%\n\nif(request.getParameter(\"ForwardSubmit\")!=null)\n{\n\tresponse.sendRedirect(\"date.jsp\");\n}\n\n%>\n\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Final//EN\">\n\n<HTML>\n<HEAD>\n</HEAD>\n<BODY>\n\n<FORM METHOD=\"Post\" NAME=\"Forward\">\n\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\n\n<P>\n\n<INPUT TYPE=\"submit\" NAME=\"ForwardSubmit\" VALUE=\"Submit\">\n\n</FORM>\n</BODY>\n</HTML>\n\n########## end of JSP \n\n########### Second JSP---date.jsp\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Final//EN\">\n<HTML>\n<HEAD>\n<TITLE>Current Date</TITLE>\n</HEAD>\n<BODY>\n\nThe current date is:\n<% out.println(new java.util.Date()); %> \n\n</BODY>\n</HTML>\n\n########### Now here is the source before and after submitting the page\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Final//EN\">\n\n<HTML>\n<HEAD>\n</HEAD>\n<BODY>\n\n<FORM METHOD=\"Post\" NAME=\"Forward\">\n\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\n\n\n<P>\n\n<INPUT TYPE=\"submit\" NAME=\"ForwardSubmit\" VALUE=\"Submit\">\n\n\n\n\n\n</FORM>\n</BODY>\n</HTML>\n\n################## This is the source after submitting the page\n\nlahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\nblahblahblahblahblahblahblahblahblahblahblahbl<br>\n\n\n<P>\n\n<INPUT TYPE=\"submit\" NAME=\"ForwardSubmit\" VALUE=\"Submit\">\n\n\n\n\n\n</FORM>\n</BODY>\n</HTML>HTTP/1.1 200 OK\nDate: Fri, 02 Feb 2001 13:22:06 GMT\nServer: Apache/1.3.12 (Win32) tomcat/1.0\nServlet-Engine: Tomcat Web Server/3.2.1 (JSP 1.1; Servlet 2.2; Java 1.2.2; \nWindows NT 4.0 x86; java.vendor=Sun Microsystems Inc.)\nKeep-Alive: timeout=15, max=99\nConnection: Keep-Alive\nTransfer-Encoding: chunked\nContent-Type: text/html;charset=8859_1\n\nc4 \n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Final//EN\">\n<HTML>\n<HEAD>\n<TITLE>Current Date</TITLE>\n</HEAD>\n<BODY>\n\nThe current date is:\nFri Feb 02 06:22:06 MST 2001\n \n\n</BODY>\n</HTML>\n\n0", "id": 513, "time": "2001-02-02T05:59:40Z", "creator": "dsmith@navidec.com", "creation_time": "2001-02-02T05:59:40Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 517, "text": "The problem described is not caused by Tomcat. The problem is that Internet \nExplorer has a bug in managing persistent connections. The solution is to edit \nthe httpd.conf file (If Apache is the front-end) and put the value of KeepAlive \nto Off.", "count": 1, "id": 757, "time": "2001-02-18T13:46:59Z", "creator": "adslivan@tin.it", "creation_time": "2001-02-18T13:46:59Z", "is_private": false}]