[{"count": 0, "tags": [], "text": "", "is_private": false, "id": 182341, "creator": "jld@acm.org", "time": "2015-04-13T23:47:05Z", "bug_id": 57810, "creation_time": "2015-04-13T23:47:05Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 57810, "attachment_id": null, "text": "I am trying to access a URL via https through both the regular URL and one that ends with a trailing dot:\n\nexample.com \nexample.com.\n\nThe reason the second case matters is URLs reported by DNS-SD have the trailing dot appended.  See http://www.dns-sd.org/trailingdotsindomainnames.html\n\nI have a certificate that contains the the subject's common name as\nCN=example.com\nand the following SANs:\nX509v3 Subject Alternative Name:\nDNS:example.com, DNS:www.example.com, DNS:example.com., DNS:www.example.com.\n\nI am using Name-based Virtual Host Support, with the virtual host section looking like so:\n\n<VirtualHost *:443>\n    Options None\n    ServerName example.com\n    ServerAlias www.example.com\n    ServerAlias example.com.\n    ServerAlias www.example.com.\n[...]\n</VirtualHost>\n\nCSP and HSTS are disabled.\n\nWhen trying to connect to example.com. I get the following error:\n\n[ssl:error] [pid 22158] AH02032: Hostname example.com. provided via SNI and hostname example.com provided via HTTP are different\n\nAll desktop browsers I've tried (Firefox, Chrome, Safari) drop the trailing dot on the the name for the HTTP request.\n\nSince the URL is generated by service discovery I have no control over it.  The clients also behave consistently.  The only way to get this to work would be for apache to allow for this minor difference between the SNI and HTTP hostnames.\n\nWould such a patch be considered for inclusion?", "id": 182342, "time": "2015-04-14T00:11:09Z", "creator": "jld@acm.org", "creation_time": "2015-04-14T00:11:09Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 57810, "is_private": false, "text": "(In reply to Jean-Luc Duprat from comment #1)\n> [...]\n> [ssl:error] [pid 22158] AH02032: Hostname example.com. provided via SNI and\n> hostname example.com provided via HTTP are different\n> [...]\n> Since the URL is generated by service discovery I have no control over it. \n> The clients also behave consistently.  The only way to get this to work\n> would be for apache to allow for this minor difference between the SNI and\n> HTTP hostnames.\n\nI believe that www.example.com and www.example.com. are equivalent. Apache already treats vhosts this way, it SHOULD (in the jargon of RFCs) ignore trailing dots for FQDN equivalence.\n\nMy research indicates (most, in fact) clients are in error, because the SNI specification at least (not HTTP unfortunately) unequivocally calls for the trailing dot to be dropped.\n\nSee bug 58007.", "id": 183372, "time": "2015-06-09T01:19:15Z", "creator": "consulting@m3047.net", "creation_time": "2015-06-09T01:19:15Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 57810, "text": "\n\n*** This bug has been marked as a duplicate of bug 58007 ***", "id": 193941, "time": "2016-09-22T20:47:42Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2016-09-22T20:47:42Z", "is_private": false, "attachment_id": null}]