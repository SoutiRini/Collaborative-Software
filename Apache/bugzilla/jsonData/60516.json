[{"attachment_id": null, "tags": [], "creator": "tiziano.digennaro@gmail.com", "text": "With the following options, expecially with com.sun.management.jmxremote.ssl=true\nexport JMX_OPTS=\"-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=10000 -Dcom.sun.management.jmxremote.ssl=true -Dcom.sun.management.jmxremote.ssl.need.client.auth=true -Dcom.sun.management.jmxremote.registry.ssl=true -Djava.rmi.server.hostname=x.x.x.x\"\nEach time I try to connect with a jmx client i receive this error message:\n\nava.io.IOException: Failed to retrieve RMIServer stub: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: non-JRMP server at remote endpoint]\n\tat javax.management.remote.rmi.RMIConnector.connect(RMIConnector.java:370)\n\tat javax.management.remote.JMXConnectorFactory.connect(JMXConnectorFactory.java:268)\n\tat org.cyclopsgroup.jmxterm.cc.SessionImpl.doConnect(SessionImpl.java:85)\n\tat org.cyclopsgroup.jmxterm.cc.SessionImpl.connect(SessionImpl.java:49)\n\tat org.cyclopsgroup.jmxterm.cc.CommandCenter.connect(CommandCenter.java:110)\n\tat org.cyclopsgroup.jmxterm.boot.CliMain.execute(CliMain.java:139)\n\tat org.cyclopsgroup.jmxterm.boot.CliMain.main(CliMain.java:48)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:606)\n\tat org.codehaus.classworlds.Launcher.launchStandard(Launcher.java:353)\n\tat org.codehaus.classworlds.Launcher.launch(Launcher.java:264)\n\tat org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)\n\tat org.codehaus.classworlds.Launcher.main(Launcher.java:375)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:606)\n\tat org.codehaus.classworlds.uberjar.boot.Bootstrapper.bootstrap(Bootstrapper.java:209)\n\tat org.codehaus.classworlds.uberjar.boot.Bootstrapper.main(Bootstrapper.java:116)\nCaused by: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: non-JRMP server at remote endpoint]\n\tat com.sun.jndi.rmi.registry.RegistryContext.lookup(RegistryContext.java:118)\n\tat com.sun.jndi.toolkit.url.GenericURLContext.lookup(GenericURLContext.java:203)\n\tat javax.naming.InitialContext.lookup(InitialContext.java:411)\n\tat javax.management.remote.rmi.RMIConnector.findRMIServerJNDI(RMIConnector.java:1928)\n\tat javax.management.remote.rmi.RMIConnector.findRMIServer(RMIConnector.java:1895)\n\tat javax.management.remote.rmi.RMIConnector.connect(RMIConnector.java:287)\n\t... 20 more\nCaused by: java.rmi.ConnectIOException: non-JRMP server at remote endpoint\n\tat sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:248)\n\tat sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\n\tat sun.rmi.server.UnicastRef.newCall(UnicastRef.java:341)\n\tat sun.rmi.registry.RegistryImpl_Stub.lookup(Unknown Source)\n\tat com.sun.jndi.rmi.registry.RegistryContext.lookup(RegistryContext.java:114)\n\t... 25 more", "count": 0, "id": 195643, "time": "2016-12-23T18:20:57Z", "bug_id": 60516, "creation_time": "2016-12-23T18:20:57Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 60516, "attachment_id": null, "text": "I don't see any Tomcat-related code in that stack trace. Perhaps you haven't completely configured your JMX/RMI settings for remote access?\n\nhttp://tomcat.apache.org/tomcat-7.0-doc/config/listeners.html#JMX_Remote_Lifecycle_Listener_-_org.apache.catalina.mbeans.JmxRemoteLifecycleListener", "id": 195684, "time": "2016-12-28T13:36:19Z", "creator": "chris@christopherschultz.net", "creation_time": "2016-12-28T13:36:19Z", "is_private": false}]