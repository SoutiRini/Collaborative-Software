[{"count": 0, "attachment_id": null, "bug_id": 36153, "text": "I'm using struts 1.2.4 and sun's 1.4.2_07 jdk.\n\nWhen using an html:form my generated html occasionally leaves the action field \nblank.\n\njsp source:\n<html:form action=\"foo.do\"> ...\n\nSometimes my html source ends up like this:\n\n<form name=\"fooform\" method=\"post\" action=\"\"> ...\n\nWhereas it should look like this: \n\n<form name=\"fooform\" method=\"post\" action=\"/webapp/foo.do\"> ...\n\nfrom my struts config:\n\nform bean:\n  <form-bean name=\"fooform\" type=\"com.foo.FooForm\"/>\n\naction mapping:\n\n    <action path=\"/foo\"\n      type=\"com.foo.FooAction\"\n      scope=\"request\"\n      name=\"fooform\"\n      input=\"foo.jsp\">\n      <forward name=\"success\" path=\"/foodone.jsp\" redirect=\"true\"/>\n      <forward name=\"failure\" path=\"/foo.jsp\" redirect=\"false\"/>\n    </action>\n\nThis code works fine for a few days, and then I start getting the blank \naction.  After that, I need to restart Tomcat.  It is possible that this bug \nexists in Struts 1.2.4.", "id": 78430, "time": "2005-08-12T00:45:15Z", "creator": "vasagotempest2@yahoo.com", "creation_time": "2005-08-12T00:45:15Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "yoavs@computer.org", "text": "Does it happen with 5.5.9?", "id": 78431, "time": "2005-08-12T01:21:15Z", "bug_id": 36153, "creation_time": "2005-08-12T01:21:15Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "vasagotempest2@yahoo.com", "attachment_id": null, "text": "I'm currently unable to test it in a 5.5.9 environment in production where I \nsee this issue.\n\nI will be setting up a test box today to try using a 1.5x jdk, struts 1.2.7, \nand tomcat 5.5.x ...", "id": 78454, "time": "2005-08-12T20:19:53Z", "bug_id": 36153, "creation_time": "2005-08-12T20:19:53Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 36153, "attachment_id": null, "id": 82439, "time": "2005-11-14T09:44:09Z", "creator": "tcurran@approachingpi.com", "creation_time": "2005-11-14T09:44:09Z", "is_private": false, "text": "I was having this same problem and couldn't figure out why.  I was using jdk\n1.5, tomcat 5.5.9, struts 1.2.7 and everything looked fine.\n\nI don't know if this is the issue Matt was having, but here is how I fixed it\nfor me.\n\nAfter reading through the struts source, I found that\norg.apache.struts.taglib.TagUtils assumes that you have a single servlet mapping\nto struts (in getActionMappingURL), I infact had three in order to get a few\nurls to work without whatever.do:\n\n    <servlet-mapping>\n        <servlet-name>action</servlet-name>\n        <url-pattern>*.do</url-pattern>\n    </servlet-mapping>\n    <servlet-mapping>\n        <servlet-name>action</servlet-name>\n        <url-pattern>/campaigns</url-pattern>\n    </servlet-mapping>\n    <servlet-mapping>\n        <servlet-name>action</servlet-name>\n        <url-pattern>/publishers</url-pattern>\n    </servlet-mapping>\n\nto get my forms working again.  All I had to do was move the *.do mapping to the\nbottom of the list of three mappings.\n"}, {"count": 4, "tags": [], "creator": "markt@apache.org", "text": "There isn't anything here I can see that points to a Tomcat issue.\n\nComment 3 suggests you may wish to follow up on the struts users list.", "id": 94416, "time": "2006-10-02T20:22:44Z", "bug_id": 36153, "creation_time": "2006-10-02T20:22:44Z", "is_private": false, "attachment_id": null}]