[{"count": 0, "tags": [], "text": "When trying to compile a jsp that uses JSTL, I have a NPE in the JSP compiler.\n\nI am attaching a zip that contains a self contained sample showing the bug with correct dependencies via Maven:\n\nHave Maven installed.\nUnzip the bug.zip attached file (there is a JSP and a simple Main calling the JSPC compiler with the correct flags)\n\ncd bug/jspcBug\nmvn install\nmvn exec:java -Dexec.mainClass=\"bug.JSPCBug\"\n\nSee the NPE:\nava.lang.NullPointerException\n\tat org.apache.jasper.servlet.JspCServletContext.getResource(JspCServletContext.java:344)\n\tat org.apache.jasper.JspCompilationContext.getResource(JspCompilationContext.java:283)\n\tat org.apache.jasper.JspCompilationContext.getLastModified(JspCompilationContext.java:359)\n\tat org.apache.jasper.compiler.TagLibraryInfoImpl.<init>(TagLibraryInfoImpl.java:138)\n\tat org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:411)\n\tat org.apache.jasper.compiler.Parser.parseDirective(Parser.java:469)\n\tat org.apache.jasper.compiler.Parser.parseElements(Parser.java:1455)\n\tat org.apache.jasper.compiler.Parser.parse(Parser.java:139)\n\tat org.apache.jasper.compiler.ParserController.doParse(ParserController.java:229)\n\tat org.apache.jasper.compiler.ParserController.parse(ParserController.java:100)\n\tat org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:200)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:375)\n\tat org.apache.jasper.JspC.processFile(JspC.java:1205)\n\tat org.apache.jasper.JspC.execute(JspC.java:1356)\n\tat org.apache.jasper.JspC.main(JspC.java:270)\n\tat bug.JSPCBug.main(JSPCBug.java:23)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:606)\n\tat org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:297)\n\tat java.lang.Thread.run(Thread.java:724)\norg.apache.jasper.JasperException: java.lang.NullPointerException", "is_private": false, "id": 173429, "creator": "ludovic.champenois@gmail.com", "time": "2014-02-22T00:53:11Z", "bug_id": 56177, "creation_time": "2014-02-22T00:53:11Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 56177, "attachment_id": 31345, "text": "Created attachment 31345\nbug sample\n\nSimple Maven project exposing the NPE. It has 1 Main that calls the jsp compiler with correct parameters and the jsp.\nThe pom.xml has all the correct and latest dependencies.", "id": 173430, "time": "2014-02-22T00:54:48Z", "creator": "ludovic.champenois@gmail.com", "creation_time": "2014-02-22T00:54:48Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 56177, "text": "Thanks for the report. This has been fixed in 8.0.x and will be included in 8.0.4 onwards.", "id": 173453, "time": "2014-02-24T17:11:20Z", "creator": "markt@apache.org", "creation_time": "2014-02-24T17:11:20Z", "tags": [], "is_private": false}]