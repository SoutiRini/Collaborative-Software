[{"count": 0, "tags": [], "creator": "seanderickson@yahoo.com", "attachment_id": null, "id": 61550, "time": "2004-08-04T17:43:00Z", "bug_id": 30471, "creation_time": "2004-08-04T17:43:00Z", "is_private": false, "text": "When running the cvschangelog task like so:\n\n<target name=\"cvs_changelog_today\">\n  <cvschangelog destfile=\"changelog.xml\" dir=\"../src/\" daysinpast=\"1\" />\n</target>\n\nI get the output from ant, in verbose mode, with the exception:\n\nant -buildfile buildExt.xml cvs_changelog_today -verbose -debug\nApache Ant version 1.6.2 compiled on July 16 2004\nApache Ant version 1.6.2 compiled on July 16 2004\nBuildfile: buildExt.xml\nAdding reference: ant.PropertyHelper\nDetected Java version: 1.4 in: /usr/local/j2sdk1.4.2_03/jre\nDetected OS: Linux\nAdding reference: ant.ComponentHelper\nSetting ro project property: ant.version -> Apache Ant version 1.6.2 compiled on\nJuly 16 2004\nSetting ro project property: ant.file -> /home/share/cvs/augur40x/build/buildExt.xml\nAdding reference: ant.projectHelper\nAdding reference: ant.parsing.context\nAdding reference: ant.targets\nparsing buildfile /home/share/cvs/augur40x/build/buildExt.xml with URI =\nfile:///home/share/cvs/augur40x/build/buildExt.xml\nSetting ro project property: ant.project.name -> SeanBuild\nAdding reference: SeanBuild\nSetting ro project property: ant.file.SeanBuild ->\n/home/share/cvs/augur40x/build/buildExt.xml\nProject base dir set to: /home/share/cvs/augur40x\n +Target: cvs_changelog_today\n +Target: clean_run_javadoc\n +Target: javadoc\nSetting project property: reportJar -> www/webapps/augur/Report.jar\nSetting project property: src -> ../src\nSetting project property: handlersSrc -> api/iai\nSetting project property: pkg -> pkg\nSetting project property: tar -> augur.tar\nSetting project property: pat -> ../lib/patbin132.zip\nSetting project property: tools -> ../lib/tools12.jar\nSetting project property: comm -> ../lib/comm203.jar\nSetting project property: suiterunner -> ../lib/suiterunner-1.0beta6.jar\nSetting project property: jws -> ../lib/jws/1.2\nSetting project property: jws-shared -> ../lib/jws/1.2/jwsdp-shared/lib\nSetting project property: jaxb -> ../lib/jws/1.2/jaxb/lib\nSetting project property: jaxb-api -> ../lib/jws/1.2/jaxb/lib/jaxb-api.jar\nSetting project property: jaxb-libs -> ../lib/jws/1.2/jaxb/lib/jaxb-libs.jar\nSetting project property: jaxb-impl -> ../lib/jws/1.2/jaxb/lib/jaxb-impl.jar\nSetting project property: jaxb-xjc -> ../lib/jws/1.2/jaxb/lib/jaxb-xjc.jar\nSetting project property: jaxp -> ../lib/jws/1.2/jaxp/lib\nSetting project property: jaxp-endorsed -> ../lib/jws/1.2/jaxp/lib/endorsed\nSetting project property: jaxp-api -> ../lib/jws/1.2/jaxp/lib/jaxp-api.jar\nSetting project property: crimson -> ../lib/jws/1.2/jaxp/lib/crimson.jar\nSetting project property: xalan -> ../lib/jws/1.2/jaxp/lib/xalan.jar\nSetting project property: mail -> ../lib/jws/1.2/jwsdp-shared/lib/mail.jar\nSetting project property: tomcat -> ../lib/tomcat/4.1.27\nSetting project property: catalina -> ../lib/tomcat/4.1.27/server/catalina.jar\nSetting project property: servlet -> ../lib/tomcat/4.1.27/common/servlet.jar\nSetting project property: serverJar -> lib/augur.jar\nOverride ignored for property reportJar\nSetting project property: srcBackup -> build/src-bak.zip\nSetting project property: company -> Industrious Activities, Inc.\nSetting project property: name -> value\nBuild sequence for target `cvs_changelog_today' is [cvs_changelog_today]\ncvs_changelog_today:\n[cvschangelog] log\n[cvschangelog] Using cvs passfile: /home/erickson/.cvspass\n[cvschangelog] Executing 'cvs' with arguments:\n[cvschangelog] 'log'\n[cvschangelog] '-d'\n[cvschangelog] '>=2004-08-03'\n[cvschangelog] \n[cvschangelog] The ' characters around the executable and arguments are\n[cvschangelog] not part of the command.\n[cvschangelog] \n[cvschangelog] \n[cvschangelog] environment:\n[cvschangelog] \n[cvschangelog]  SSH_AGENT_PID=1049\n[cvschangelog]  SHELL=/bin/bash\n[cvschangelog]  TERM=rxvt\n[cvschangelog]  CVSROOT=:ext:erickson@ia-inc.com:/home/cvs\n[cvschangelog]  WINDOWID=37748738\n[cvschangelog]  USER=erickson\n[cvschangelog] \nLS_COLORS=no=00:fi=00:di=01;34:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mpg=01;35:*.mpeg=01;35:*.avi=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.ogg=01;35:*.mp3=01;35:*.wav=01;35:\n[cvschangelog]  NB_JDK_HOME=/usr/local/java/\n[cvschangelog]  SSH_AUTH_SOCK=/tmp/ssh-DEZQDkQ989/agent.989\n[cvschangelog]  USERNAME=erickson\n[cvschangelog]  XPSERVERLIST=:64 \n[cvschangelog]  DESKTOP_SESSION=fluxbox\n[cvschangelog] \nPATH=/usr/local/java/jre/javaws/:/usr/local/java/bin/:/usr/local/bin:/usr/bin:/bin:/usr/bin/X11:/usr/games:/sbin:/usr/sbin:/usr/local/sbin:/opt/java/WTK104/bin\n[cvschangelog]  PWD=/home/erickson/cvs/augur40x/build\n[cvschangelog]  JAVA_HOME=/usr/local/java/\n[cvschangelog]  GDMSESSION=fluxbox\n[cvschangelog]  HOME=/home/erickson\n[cvschangelog]  SHLVL=2\n[cvschangelog]  COLORFGBG=0;15\n[cvschangelog]  JDK_HOME=/usr/local/java/\n[cvschangelog]  LOGNAME=erickson\n[cvschangelog]  CVS_RSH=ssh\n[cvschangelog]  LESSOPEN=|lesspipe %s\n[cvschangelog]  DISPLAY=:0.0\n[cvschangelog]  XAUTHORITY=/home/erickson/.Xauthority\n[cvschangelog]  COLORTERM=rxvt-xpm\n[cvschangelog] \nLD_LIBRARY_PATH=/usr/local/j2sdk1.4.2_03/jre/lib/i386/client:/usr/local/j2sdk1.4.2_03/jre/lib/i386:/usr/local/j2sdk1.4.2_03/jre/../lib/i386\n[cvschangelog]  NLSPATH=/usr/dt/lib/nls/msg/%L/%N.cat\n[cvschangelog]  XFILESEARCHPATH=/usr/dt/app-defaults/%L/Dt\n[cvschangelog]  CVS_PASSFILE=/home/erickson/.cvspass\nExecute:Java13CommandLauncher: Executing 'cvs' with arguments:\n'log'\n'-d'\n'>=2004-08-03'\n\nThe ' characters around the executable and arguments are\nnot part of the command.\n[cvschangelog] retCode=0\n[cvschangelog] cvs log: Logging .\n[cvschangelog] cvs log: Logging com/many_directories_in_our_codebase\n\nBUILD FAILED\n/home/share/cvs/augur40x/build/buildExt.xml:237: java.lang.NullPointerException\n        at org.apache.tools.ant.Task.perform(Task.java:373)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1214)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1062)\n        at org.apache.tools.ant.Main.runBuild(Main.java:673)\n        at org.apache.tools.ant.Main.startAnt(Main.java:188)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)\nCaused by: java.lang.NullPointerException\n        at java.util.Date.after(Date.java:871)\n        at\norg.apache.tools.ant.taskdefs.cvslib.ChangeLogTask.filterEntrySet(ChangeLogTask.java:333)\n        at\norg.apache.tools.ant.taskdefs.cvslib.ChangeLogTask.execute(ChangeLogTask.java:262)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        ... 8 more\n--- Nested Exception ---\njava.lang.NullPointerException\n        at java.util.Date.after(Date.java:871)\n        at\norg.apache.tools.ant.taskdefs.cvslib.ChangeLogTask.filterEntrySet(ChangeLogTask.java:333)\n        at\norg.apache.tools.ant.taskdefs.cvslib.ChangeLogTask.execute(ChangeLogTask.java:262)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1214)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1062)\n        at org.apache.tools.ant.Main.runBuild(Main.java:673)\n        at org.apache.tools.ant.Main.startAnt(Main.java:188)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)\n\nTotal time: 17 seconds\n\n\nbackground:\n\nThis task worked in the past but no longer works.  I am not sure if it quit\nworking with a java upgrade or an ant upgrade. \n\nI have verified this problem with Ant 1.5.3-1, 1.6.1, and 1.6.2\n\nHere is my current Java version:\njava -version\njava version \"1.4.2_03\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_03-b02)\nJava HotSpot(TM) Client VM (build 1.4.2_03-b02, mixed mode)"}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 63964, "time": "2004-09-21T11:31:35Z", "bug_id": 30471, "creation_time": "2004-09-21T11:31:35Z", "is_private": false, "text": "Which version of CVS are you using?  It may be related to Bug 30962 and Bug 30576"}, {"count": 2, "tags": [], "creator": "seanderickson@yahoo.com", "attachment_id": null, "text": "My cvs version is  1.12.9, so it appears it could be the date format as\ndescribed in <a\nhref=http://issues.apache.org/bugzilla/show_bug.cgi?id=30576>30576</a>\n\nQuestion: is there a workaround?", "id": 64068, "time": "2004-09-22T20:41:03Z", "bug_id": 30471, "creation_time": "2004-09-22T20:41:03Z", "is_private": false}, {"count": 3, "tags": [], "text": "I've just checked the Java API docs.  \n\nPrior to Java 1.5.0, the API states that Date.after(d) doesn't throw\nNullPointerException when d == null\n\nin Java 1.5.0, the API states that Date.after(d) does throw a\nNullPointerException when d == null\n\nMy guess is that this actually changed in Java 1.4, but the docs are incorrect.\n I've added a simple check + comments to the code in SVN trunk.  I don't think\nthat this is related to the CVS version at all - it seems to be simply a change\nin the underlying API which hasn't been caught until now.", "attachment_id": null, "bug_id": 30471, "id": 86590, "time": "2006-03-08T04:01:26Z", "creator": "kevin.jackson@it.fts-vn.com", "creation_time": "2006-03-08T04:01:26Z", "is_private": false}, {"count": 4, "tags": [], "text": "Kev's change is part of the 1.7 branch, so this should be fixed.", "attachment_id": null, "bug_id": 30471, "id": 118714, "time": "2008-07-16T07:32:47Z", "creator": "bodewig@apache.org", "creation_time": "2008-07-16T07:32:47Z", "is_private": false}]