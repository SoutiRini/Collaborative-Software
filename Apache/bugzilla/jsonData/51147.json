[{"count": 0, "tags": [], "bug_id": 51147, "attachment_id": null, "text": "I've seen in documentation that I should not use new roles for the deploy feature in the HTML Manager (cf. http://tomcat.apache.org/tomcat-6.0-doc/realm-howto.html#Manager_Application). So I'm using the old manager role, but I'm getting a 403 error when I deploy an application.\n\nThe upload and undeploy features work well.\n\nHere is my tomcat-users.xml file :\n\n<tomcat-users>\n  <role rolename=\"manager\"/>\n  <user username=\"tomcat\" password=\"tomcat\" roles=\"manager\"/>\n</tomcat-users>", "id": 146091, "time": "2011-05-03T22:37:51Z", "creator": "alexis.hassler@sewatech.fr", "creation_time": "2011-05-03T22:37:51Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 51147, "attachment_id": null, "id": 146092, "time": "2011-05-04T00:48:13Z", "creator": "chuck.caldarale@unisys.com", "creation_time": "2011-05-04T00:48:13Z", "is_private": false, "text": "Bugzilla is not a support forum.  Please post usage questions and issues on the Tomcat users' mailing list."}, {"count": 2, "tags": [], "bug_id": 51147, "text": "OK, maybe its not a bug, but it works fine in Tomcat 7 with the same usage.\n\nI've looked further and saw that, if the \"deploy\" action is a GET, it fails because the nonce is not in the request.  If it is a POST it works. \n\nOK, maybe it is not a bug, but it could work better with a very lite change in the org.apache.catalina.manager.HTMLManagerServlet class.", "id": 146100, "time": "2011-05-04T09:30:57Z", "creator": "alexis.hassler@sewatech.fr", "creation_time": "2011-05-04T09:30:57Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 51147, "attachment_id": 26957, "id": 146103, "time": "2011-05-04T09:51:50Z", "creator": "alexis.hassler@sewatech.fr", "creation_time": "2011-05-04T09:51:50Z", "is_private": false, "text": "Created attachment 26957\nProposed patch"}, {"count": 4, "tags": [], "bug_id": 51147, "attachment_id": null, "id": 146109, "time": "2011-05-04T11:30:27Z", "creator": "markt@apache.org", "creation_time": "2011-05-04T11:30:27Z", "is_private": false, "text": "The role name is a red herring. The Realm doc wasn't updated. The correct role is manager-gui.\n\nThe docs have been corrected although the original issue (deploy fails) remains."}, {"count": 5, "tags": [], "bug_id": 51147, "attachment_id": null, "id": 146110, "time": "2011-05-04T11:34:12Z", "creator": "markt@apache.org", "creation_time": "2011-05-04T11:34:12Z", "is_private": false, "text": "I have confirmed both the issue and that the patch fixes it.\n\nThe problem is that when a form is use with GET and the action URL contains request parameters user agents may (FF4 does) overwrite the parameters already in the URL with those in the form rather than combine them. Switching to POST avoids this issue.\n\nI have proposed the patch for 6.0.x."}, {"count": 6, "tags": [], "bug_id": 51147, "text": "(In reply to comment #5)\n> The problem is that when a form is use with GET and the action URL contains\n> request parameters user agents may (FF4 does) overwrite the parameters already\n> in the URL with those in the form rather than combine them. Switching to POST\n> avoids this issue.\n\nThat is how form submission is defined in HTML5.\n\n4.10.22 Form submission [1]\n-> 4.10.22.3 Form submission algorithm\n-> Table in Step 17\n-> \"http\" + GET method  gives \"Mutate action URL\"\n-> Mutate action URL is \n\"Let destination be a new URL that is equal to the action except that its <query> component is replaced by query (adding a U+003F QUESTION MARK character (?) if appropriate).\"\n\n[1] http://www.whatwg.org/specs/web-apps/current-work/multipage/association-of-controls-and-forms.html#form-submission\n\nSo it is a natural limitation on the use of CsrfPreventionFilter in such forms. But I am OK with the change to the form, because I do not see a reason to use GET method here. The action is not repeatable, nor it is bookmarkable, because of the nonce.", "id": 146113, "time": "2011-05-04T12:29:17Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2011-05-04T12:29:17Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 51147, "text": "*** Bug 51183 has been marked as a duplicate of this bug. ***", "id": 146262, "time": "2011-05-11T09:11:35Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2011-05-11T09:11:35Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 51147, "attachment_id": null, "id": 146411, "time": "2011-05-18T12:36:26Z", "creator": "markt@apache.org", "creation_time": "2011-05-18T12:36:26Z", "is_private": false, "text": "Fixed in 6.0.x and will be included in 6.0.33 onwards.\n\nThanks for the patch."}, {"count": 9, "tags": [], "creator": "alexis.hassler@sewatech.fr", "attachment_id": null, "text": "You're welcome. I'm glad with my small contrib.", "id": 146414, "time": "2011-05-18T12:44:56Z", "bug_id": 51147, "creation_time": "2011-05-18T12:44:56Z", "is_private": false}, {"count": 10, "tags": [], "text": "Created attachment 31288\nI'm getting the attached error while connecting with javabridge using php\n\nPlease anyone can you help me for the attached error?", "attachment_id": 31288, "id": 172925, "creator": "madhi@smartrx.in", "time": "2014-02-06T12:09:28Z", "bug_id": 51147, "creation_time": "2014-02-06T12:09:28Z", "is_private": false}, {"count": 11, "tags": [], "text": "(In reply to Madhiyalagan from comment #10)\nNot here.\n\nSee Comment 1 above.\nhttp://tomcat.apache.org/bugreport.html#Bugzilla_is_not_a_support_forum", "attachment_id": null, "id": 172926, "creator": "knst.kolinko@gmail.com", "time": "2014-02-06T12:30:57Z", "bug_id": 51147, "creation_time": "2014-02-06T12:30:57Z", "is_private": false}]