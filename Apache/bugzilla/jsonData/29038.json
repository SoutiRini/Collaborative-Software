[{"count": 0, "tags": [], "bug_id": 29038, "attachment_id": null, "text": "When a war file ist autodeployed a context xml should be automatically created \nin the $CATALINA_BASE/<engine>/<host> directory. In \norg.apache.catalina.startup.HostConfig.deployWars() the line\n\nostream = new BufferedOutputStream(new FileOutputStream(xml), 1024);\n\ncan fail because the parent directories of xml might not exist. The exception \nis silently swallowed. \n\nSolution: add xml.mkdirs(); before that line.", "id": 57557, "time": "2004-05-17T16:23:08Z", "creator": "dev@nils-dehn.de", "creation_time": "2004-05-17T16:23:08Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 29038, "attachment_id": null, "id": 58258, "time": "2004-05-27T23:02:10Z", "creator": "yoavs@computer.org", "creation_time": "2004-05-27T23:02:10Z", "is_private": false, "text": "I added the mkdirs() call as you suggest.  There could possibly be a \npermissions setup where the server user has permission to write the xml file \nbut not permission to create directories, but we require the latter implicitly \nanyways, so I don't think this is a big deal.  Thanks."}, {"count": 2, "tags": [], "text": "Hey,\n\nthis fix not work corret.\nwith xml.mkdirs you generate a dircetory at conf/<enginename>/<hostname>/myapps.xml/\n\nthis is wrong and currently we can't autodeploy a new war with META-INf/context.xml\n\n-- At my server the conf/<enginename>/<hostname> directory generated at startup\ntime. I think for new host this is not made.\n\nI have find a fix. Before extract the META-INF/context.xml we must\ncheck the configBase.\n\nregards\npeter\n", "is_private": false, "id": 59846, "creator": "pr@objektpark.de", "time": "2004-06-24T15:45:26Z", "bug_id": 29038, "creation_time": "2004-06-24T15:45:26Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "pr@objektpark.de", "text": "Created attachment 11942\nPatch for lost configBase before autodeploy META-INF/context.xml", "id": 59847, "time": "2004-06-24T15:46:39Z", "bug_id": 29038, "creation_time": "2004-06-24T15:46:39Z", "is_private": false, "attachment_id": 11942}]