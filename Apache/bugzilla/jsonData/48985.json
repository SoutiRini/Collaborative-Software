[{"count": 0, "tags": [], "creator": "zhurba@web.de", "attachment_id": null, "text": "if a password contains one of the specified characters, the sshexec task executing a Unix script fails with the error: \"Caught exception: Auth fail\".\n\nThe error persists definitely since the version 1.7.0 (maybe even longer) and is not fixed in v.1.8\n\nAt least a clear error message, describing what went wrong, would be of great help, if supporting these special characters turns out to be a complex issue.\n\na hint in the documentation about which characters are not supported would be nice.", "id": 135624, "time": "2010-03-25T14:31:47Z", "bug_id": 48985, "creation_time": "2010-03-25T14:31:47Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 48985, "attachment_id": null, "id": 165306, "time": "2013-02-18T17:24:03Z", "creator": "schigurupati@triniti.com", "creation_time": "2013-02-18T17:24:03Z", "is_private": false, "text": "Could you please let us know, if we can have any workaround to get rid of this bug?"}, {"count": 2, "tags": [], "creator": "antoine@apache.org", "text": "Sudheer I do not have a workaround for this bug at the moment. \n\nCan you have a look to tell me whether if a password contains just a single dollar sign the problem happens ?. I can imagine that if your password entered in the ant build file is ${secret} and that an ant property called secret exists, then the sshexec task will most probably try to log you in with the value of the \"secret\" property rather than with \"${secret}\" litterally.\n\nIf you bypass ant and create your own ssh client in java using jsch, do you have the same problem ?\n\nWhich version of jsch is used ?", "id": 165316, "time": "2013-02-18T19:49:15Z", "bug_id": 48985, "creation_time": "2013-02-18T19:49:15Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "schigurupati@triniti.com", "attachment_id": 29966, "text": "Created attachment 29966\nWorkaround for problem of $ in ANT\n\nPlease have a look at this.", "id": 165345, "time": "2013-02-19T04:17:13Z", "bug_id": 48985, "creation_time": "2013-02-19T04:17:13Z", "is_private": false}, {"count": 4, "tags": [], "creator": "schigurupati@triniti.com", "text": "Comment on attachment 29966\nWorkaround for problem of $ in ANT\n\nHi Antoine,\n\n       Thanks for considering my request..!!\n\n       Yes, the problem persisted with Single $ sign(I have tried with single $ sign, as my password has only one $ sign).\n\n       As per my knowledge: If Linux shell encounters \"$X\", it tries to replace $X with the value of environment variable X. But, as there is no such variable X it is replacing $X with empty string(\"\").\n\n       I have not tried by-passing the ANT, and I am using ant-1.8.4 & jsch-0.1.44.jar.\n\n       But after hours of struggle, I have found some workaround. Mentioned in the attachment(#3), but we have below problems with this approach.\n\n       1. Every time Developer needs to replace $ with '\\$' in his code.\n       2. And the same approach fails in Windows(We miss the Biggest Java feature of Platform independence)\n       3. Moreover , its not just the problem of password. Its the problem of every ant property value which has $ sign in it.", "id": 165346, "time": "2013-02-19T04:18:14Z", "bug_id": 48985, "creation_time": "2013-02-19T04:18:14Z", "is_private": false, "attachment_id": 29966}, {"count": 5, "tags": [], "bug_id": 48985, "attachment_id": null, "id": 165409, "time": "2013-02-21T03:48:37Z", "creator": "antoine@apache.org", "creation_time": "2013-02-21T03:48:37Z", "is_private": false, "text": "Looking at the attachment, I start to understand the problem of Sudheer.\nIt is a problem in the ant script, not a problem of the sshexec task.\n\nThe ant script ( $ANT_HOME/bin/ant ) puts all the command line arguments in a variable $ANT_ARGS and then uses the eval internal shell command to kick off java with the parameters to start ant.\n\nTry to run your example like this :\n\nsh -x ant-Dsecret='welcome$321' \n\nyou will then see what happens internally.\n\nif you run ant -Dsecret=welcome$321 the $3 is eliminated by the shell from which you start the command before reaching the ant script.\n\nas you wrote ant -Dsecret=welcome'\\$'321 works because this is the only way to convey the value that you want across both the calling shell and the internals of the ant script."}, {"count": 6, "tags": [], "bug_id": 48985, "attachment_id": null, "is_private": false, "id": 165915, "time": "2013-03-17T23:28:03Z", "creator": "antoine@apache.org", "creation_time": "2013-03-17T23:28:03Z", "text": "can someone say whether the character \u00a7 can really not be used in the sshexec task for the password attribute ?"}, {"count": 7, "tags": [], "creator": "antoine@apache.org", "text": "I just created a user on my Mac with a password abcd\u00a7abcd\n\nThis sshexec invocation works fine with Ant 1.9.0 and jsch-0.49\n   <sshexec host=\"localhost\" username=\"someguest\" password=\"abcd\u00a7abcd\" trust=\"true\" command=\"hostname; who am i\"/>\n\nI am closing the bug as works for me. Please reopen it if you have more information.", "id": 165916, "time": "2013-03-17T23:47:34Z", "bug_id": 48985, "creation_time": "2013-03-17T23:47:34Z", "is_private": false, "attachment_id": null}]