[{"count": 0, "tags": [], "bug_id": 16224, "attachment_id": null, "text": "I have a tag that looks like this\n\n<%@ attribute name='author' %>\n<%@ attribute name='title' %>\n\n    <author>${author}</author>\n    <title>${title}</title>\n    <jsp:doBody var=\"desc\"/>\n\nand a page like this\n\n<%@ taglib prefix=\"b\" tagdir=\"/WEB-INF/tags\" %>\n\n<book>\n<b:BookENFTagWithVar author=\"Yossarian\" title=\"Surviving Pianosa\">\n    The book that Joseph Heller wished was never written. A riveting story of\n    Yossarian's escape from Pianosa.\n</b:BookENFTagWithVar>\n<description>${desc}</description>\n</book>\n\nwhen executed the ${desc} variable isn't found. If I change the tag to\n\n    <jsp:doBody var=\"desc\" scope=\"page\"/>\n\nstill no luck. However\n\n    <jsp:doBody var=\"desc\" scope=\"request\"/>\n\nworks as does application and session\n\nKevin Jones\nDevelopmentor", "id": 29632, "time": "2003-01-17T21:55:58Z", "creator": "kevinj@develop.com", "creation_time": "2003-01-17T21:55:58Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 16224, "attachment_id": null, "text": "Kevin,\n\nwhat you are seeing is the expected behaviour.\n\nNotice that a tag file has its own JspContext called a JSP Context\nWrapper, which is separate from the JSP context of the invoking page\n(called the Invoking JSP Context).\n\nAcording to JSP.8.3 (\"Semantics of Tag Files\") in JSP 2.0 PFD2, for\neach invocation of the tag, the JSP Context Wrapper must present a\nclean page scope containing no initial elements. All scopes other than\nthe page scope must be identical to those in the Invoking JSP Context\nand must be modified accordingly when updates are made to those scopes\nin the JSP Context Wrapper. Any modifications to the page scope,\nhowever, must not affect the Invoking JSP Context.\n\nIf you want the scoped variable named \"desc\" to be available in the\nInvoking JSP context after the tag invocation, you need to either provide a\n'scope' attribute with value \"request\", \"session\", or \"application\" to\nthe <jsp:doBody> action in your tag file (as you did), or add this\nvariable declaration to your tag file:\n\n  <%@ variable name-given='desc' scope=\"AT_END\" %>\n\nin which case variable synchronization as described in JSP.8.9.1 will\ntake place.\n", "id": 30922, "time": "2003-02-07T22:42:34Z", "creator": "jan.luehe@sun.com", "creation_time": "2003-02-07T22:42:34Z", "is_private": false}]