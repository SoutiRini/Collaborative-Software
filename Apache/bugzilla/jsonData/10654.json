[{"count": 0, "tags": [], "bug_id": 10654, "attachment_id": null, "text": "I'm running cygnus, and using the 'ant' sh script to launch ant.  The last thing\nthis script does before executing java is to convert paths back to windows\nformat.  In ant 1.4.1, this was just a few calls to 'cygpath'.  In 1.5, however,\nline 184 reads:\n\n  ANT_OPTS=\"$ANT_OPTS -Dcygwin.user.home=\"`cygpath --path --windows \"$HOME\"`\n\nOn my system, $HOME contains a space:\n\n$ echo $HOME\n/CVS Tree\n\nWhen I run ant, I get the following:\n\n$ ant\njava.lang.NoClassDefFoundError: Tree\n\nThe command that the script is trying to execute is (classpath trimmed for brevity):\n\n/jdk1.3.1_03/bin/java -classpath\nC:\\progra~1\\jakarta-ant-1.5\\lib\\xml-apis.jar;C:\\progra~1\\jakarta-ant-1.5\\lib\\xercesImpl.jar;<...>;C:\\jdk1.3.1_03\\lib\\tools.jar\n-Dant.home=C:\\progra~1\\jakarta-ant-1.5 -Dbuild.compiler=jikes\n-Dbuild.compiler.fulldepend=true -Dcygwin.user.home=C:\\CVS Tree\norg.apache.tools.ant.Main -find build.xml\n\nInstead, it should put quotes around the value of cygwin.user.home:\n\n/jdk1.3.1_03/bin/java -classpath\nC:\\progra~1\\jakarta-ant-1.5\\lib\\xml-apis.jar;C:\\progra~1\\jakarta-ant-1.5\\lib\\xercesImpl.jar;<...>;C:\\jdk1.3.1_03\\lib\\tools.jar\n-Dant.home=C:\\progra~1\\jakarta-ant-1.5 -Dbuild.compiler=jikes\n-Dbuild.compiler.fulldepend=true -Dcygwin.user.home=\"C:\\CVS Tree\"\norg.apache.tools.ant.Main -find build.xml\n\nProposed change:\n\n184c184,186\n<   ANT_OPTS=\"$ANT_OPTS -Dcygwin.user.home=\"`cygpath --path --windows \"$HOME\"`\n---\n>   \"$JAVACMD\" -classpath \"$LOCALCLASSPATH\" -Dant.home=\"${ANT_HOME}\" $ANT_OPTS\n-Dcygwin.user.home=\"`cygpath --path --windows \"$HOME\"`\"\norg.apache.tools.ant.Main $ANT_ARGS \"$@\"\n> else\n>   \"$JAVACMD\" -classpath \"$LOCALCLASSPATH\" -Dant.home=\"${ANT_HOME}\" $ANT_OPTS\norg.apache.tools.ant.Main $ANT_ARGS \"$@\"\n186,187d187\n< \n< \"$JAVACMD\" -classpath \"$LOCALCLASSPATH\" -Dant.home=\"${ANT_HOME}\" $ANT_OPTS\norg.apache.tools.ant.Main $ANT_ARGS \"$@\"", "id": 19261, "time": "2002-07-10T16:30:56Z", "creator": "apache@matt.mchenryfamily.org", "creation_time": "2002-07-10T16:30:56Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 10654, "text": "*** Bug 11280 has been marked as a duplicate of this bug. ***", "id": 20418, "time": "2002-07-30T14:17:04Z", "creator": "bodewig@apache.org", "creation_time": "2002-07-30T14:17:04Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "bodewig@apache.org", "text": "Supposed to be fixed in CVS, both for the 1.5 and the HEAD branch.", "id": 20829, "time": "2002-08-09T07:59:47Z", "bug_id": 10654, "creation_time": "2002-08-09T07:59:47Z", "is_private": false, "attachment_id": null}]