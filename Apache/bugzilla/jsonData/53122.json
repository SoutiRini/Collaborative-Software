[{"count": 0, "tags": [], "text": "Exception while using JDBC DB Connection pool along with MySQL.\n\njava.lang.NullPointerException\n        at com.mysql.jdbc.Statement.executeUpdate(Statement.java:1418)\n        at com.mysql.jdbc.Statement.executeUpdate(Statement.java:1317)\n        at com.load.servlet.SQLInsert.doGet(SQLInsert.java:69)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565)\n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\n\nI do not get the above error when the request rates are low to the servlet, as I steadily increase the number of requests to the servlet/second. The exception occurs.\n\nJDBC Connection pool configuration is as below : \n\n<Resource name=\"jdbc/loadtestdb\" \n              auth=\"Container\" \n              type=\"javax.sql.DataSource\" \n              factory=\"org.apache.tomcat.jdbc.pool.DataSourceFactory\"\n              testWhileIdle=\"true\"\n              testOnBorrow=\"true\"\n              testOnReturn=\"false\"\n              validationQuery=\"SELECT 1\"\n              validationInterval=\"30000\"\n              timeBetweenEvictionRunsMillis=\"30000\"\n              maxActive=\"550\" \n              minIdle=\"25\" \n              maxWait=\"30000\" \n              initialSize=\"500\"\n              removeAbandonedTimeout=\"60\"\n              removeAbandoned=\"true\"\n              logAbandoned=\"true\"\n              minEvictableIdleTimeMillis=\"30000\" \n              jmxEnabled=\"true\"\n              jdbcInterceptors=\n\"org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer\"\n              username=\"root\" \n              password=\"root\" \n              driverClassName=\"com.mysql.jdbc.Driver\"\n              url=\"jdbc:mysql://loadtest.xxxxxxxxxxx.us-east-1.rds.amazonaws.com:3306/loadtest\"/>\n\nand the mysql database supports by default a max of 600 connections.", "is_private": false, "bug_id": 53122, "id": 158270, "time": "2012-04-22T10:38:07Z", "creator": "santhosh@8kmiles.com", "creation_time": "2012-04-22T10:38:07Z", "attachment_id": null}, {"text": "(In reply to comment #0)\n> Exception while using JDBC DB Connection pool along with MySQL.\n> \n> java.lang.NullPointerException\n>         at com.mysql.jdbc.Statement.executeUpdate(Statement.java:1418)\n>         at com.mysql.jdbc.Statement.executeUpdate(Statement.java:1317)\n>         at com.load.servlet.SQLInsert.doGet(SQLInsert.java:69)\n\nNote that the call to the MySQL code is coming from your servlet, not Tomcat.\n\nRegardless, bugzilla is not a support forum; please post usage queries to the Tomcat user's mailing list.", "tags": [], "bug_id": 53122, "is_private": false, "count": 1, "id": 158279, "time": "2012-04-22T19:27:14Z", "creator": "chuck.caldarale@unisys.com", "creation_time": "2012-04-22T19:27:14Z", "attachment_id": null}]