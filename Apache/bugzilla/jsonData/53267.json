[{"count": 0, "attachment_id": 28809, "bug_id": 53267, "is_private": false, "id": 159198, "time": "2012-05-21T14:41:43Z", "creator": "bugzilla@pidster.com", "creation_time": "2012-05-21T14:41:43Z", "tags": [], "text": "Created attachment 28809\nIncreases timeout on sun.misc.GC.requestLatency in JreMemoryLeakPreventionListener\n\nThe JreMemoryLeakPreventionListener causes a full GC every hour when gcDaemonProtection=true.\n\nThe prevention technique invokes sun.misc.GC.requestLatency with a value of 360000.  Increasing the value to Long.MAX_VALUE would be beneficial.\n\nThe attached patches add a default setting of Long.MAX_VALUE (add documentation update), but also permit it to be configured to a lower value using a System property."}, {"count": 1, "tags": [], "bug_id": 53267, "is_private": false, "text": "Created attachment 28810\nDocs patch for JreMemoryLeakPreventionListener.", "id": 159199, "time": "2012-05-21T14:42:11Z", "creator": "bugzilla@pidster.com", "creation_time": "2012-05-21T14:42:11Z", "attachment_id": 28810}, {"count": 2, "attachment_id": null, "bug_id": 53267, "is_private": false, "id": 159310, "time": "2012-05-25T07:04:26Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2012-05-25T07:04:26Z", "tags": [], "text": "For reference, a thread on users list about observing this issue with 6.0.28,\n\"JreMemoryLeakPreventionListener and hourly Full GC\" (2010-08):\n\nhttp://marc.info/?t=128156139600002&r=1&w=2\nhttp://markmail.org/thread/53rxdqyqnjhlzk6d"}, {"count": 3, "attachment_id": null, "bug_id": 53267, "is_private": false, "id": 159311, "time": "2012-05-25T07:32:10Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2012-05-25T07:32:10Z", "tags": [], "text": "As far as I can see, Long.MAX_VALUE in s.m.GC is treated specially, and I suspect that using this specific value may break the memory leak prevention feature.\n\nI am OK with making the latency configurable, though I think it is better to just add a property on this listener class, instead of a system property."}, {"count": 4, "tags": [], "bug_id": 53267, "is_private": false, "text": "Moving this to bug status rather than enhancement.\n\nI need to review the JVM code again but I suspect using Long.MAX_VALUE-1 would achieve what was originally intended.", "id": 159450, "time": "2012-05-29T13:40:08Z", "creator": "markt@apache.org", "creation_time": "2012-05-29T13:40:08Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 159469, "time": "2012-05-29T18:30:16Z", "bug_id": 53267, "creation_time": "2012-05-29T18:30:16Z", "is_private": false, "text": "Fixed in trunk and 7.0.x and will be included in 7.0.28. By default, a full GC will now occur roughly every 290 million years."}, {"count": 6, "tags": [], "creator": "chris@christopherschultz.net", "text": "(In reply to comment #5)\n> Fixed in trunk and 7.0.x and will be included in 7.0.28. By default, a full\n> GC will now occur roughly every 290 million years.\n\nThen it's probably going to be a big one.", "id": 159474, "time": "2012-05-29T20:44:45Z", "bug_id": 53267, "creation_time": "2012-05-29T20:44:45Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "fglez.tsl@gmail.com", "attachment_id": null, "id": 159498, "time": "2012-05-30T07:26:16Z", "bug_id": 53267, "creation_time": "2012-05-30T07:26:16Z", "is_private": false, "text": "Is this bug fix going to be backported to Tomcat 6.x?"}, {"text": "I proposed backport of r1343895 for 6.0.", "tags": [], "bug_id": 53267, "is_private": false, "count": 8, "id": 159561, "time": "2012-05-31T13:26:05Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2012-05-31T13:26:05Z", "attachment_id": null}, {"text": "Fixed in 6.0 in r1347072 and will be in 6.0.36.", "tags": [], "bug_id": 53267, "attachment_id": null, "count": 9, "id": 159772, "time": "2012-06-06T19:40:53Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2012-06-06T19:40:53Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 53267, "attachment_id": null, "text": "Configurable value added in r1377543", "id": 161718, "time": "2012-08-26T23:45:05Z", "creator": "fhanik@apache.org", "creation_time": "2012-08-26T23:45:05Z", "is_private": false}, {"count": 11, "tags": [], "creator": "knst.kolinko@gmail.com", "text": "(In reply to comment #10)\n> Configurable value added in r1377543\n\nReverted in r1378132, based on \"Re: svn commit: r1377689\" discussion on dev@,\nhttp://tomcat.markmail.org/thread/6hmjgrzys5txekew", "id": 161823, "time": "2012-08-29T23:33:06Z", "bug_id": 53267, "creation_time": "2012-08-29T23:33:06Z", "is_private": false, "attachment_id": null}]