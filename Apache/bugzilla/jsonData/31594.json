[{"count": 0, "tags": [], "bug_id": 31594, "attachment_id": null, "text": "My company (an application security services firm) was recently asked by a very large institution to \nreview Tomcat's code base and deployment defaults, in preparation for broader use by the client. One \nof our recommendations was to change the address of AJP connectors from * to 127.0.0.1. \n\nThis got me thinking... I'd like to suggest that ALL of Tomcat's Connectors be set to listen on loopback \nby default. This would be perfect for development and testing purposes on a single machine, but if \ncustomers wanted to use it in production, all that would be needed is a one-line change.\n\nI have submitted patches for server.xml, server-minimal.xml, and to the docs (http.xml and ajp.xml) \nexplaining the defaults. I have also, for good measure, added a note about minProcessors/\nmaxProcessors in the AJP docs because they were missing and really ought to be there.\n\nIn my view default configurations are a safety issue; default-deny seems prudent. If folks feel this is too \naggressive for the HTTP Connector, could we at least consider locking down AJP? In 90% of the cases I \nsee, customers put Apache and Tomcat on the same box.", "id": 64797, "time": "2004-10-08T04:42:45Z", "creator": "arjaquith@mindspring.com", "creation_time": "2004-10-08T04:42:45Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 31594, "is_private": false, "text": "Created attachment 12989\nPATCH ajp.xml", "id": 64798, "time": "2004-10-08T04:43:30Z", "creator": "arjaquith@mindspring.com", "creation_time": "2004-10-08T04:43:30Z", "attachment_id": 12989}, {"count": 2, "tags": [], "bug_id": 31594, "text": "Created attachment 12990\nPATCH to http.xml", "id": 64799, "time": "2004-10-08T04:43:54Z", "creator": "arjaquith@mindspring.com", "creation_time": "2004-10-08T04:43:54Z", "is_private": false, "attachment_id": 12990}, {"count": 3, "tags": [], "bug_id": 31594, "is_private": false, "text": "Created attachment 12991\nPATCH for server.xml", "id": 64800, "time": "2004-10-08T04:44:25Z", "creator": "arjaquith@mindspring.com", "creation_time": "2004-10-08T04:44:25Z", "attachment_id": 12991}, {"count": 4, "tags": [], "creator": "arjaquith@mindspring.com", "attachment_id": 12992, "text": "Created attachment 12992\nPATCH for server-minimal.xml", "id": 64801, "time": "2004-10-08T04:44:55Z", "bug_id": 31594, "creation_time": "2004-10-08T04:44:55Z", "is_private": false}, {"count": 5, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "text": "Although we have a quite secure default configuration, this would not be\nacceptable, and would cause a lot of user complaints.\nSorry if this causes you to not use Tomcat, but this will not happen.", "id": 64802, "time": "2004-10-08T06:08:38Z", "bug_id": 31594, "creation_time": "2004-10-08T06:08:38Z", "is_private": false}]