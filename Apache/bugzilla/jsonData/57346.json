[{"count": 0, "attachment_id": null, "creator": "support@ubikloadpack.com", "text": "Hello,\nWe have a test with and average of 155 to 160 req/s.\n\nSummariser is configured to display every 10s:\nsummariser.name=summary\n# interval between summaries (in seconds) default 3 minutes\nsummariser.interval=10\n# Write messages to log file\nsummariser.log=true\n# Write messages to System.out\nsummariser.out=true\n\nIt shows the following:\nsummary +   1597 in   591s =    2.7/s Avg:   276 Min:     0 Max: 18732 Err:     0 (0.00%) Active: 3024 Started: 3024 Finished: 0\nsummary = 1372439 in  8683s =  158.1/s Avg:   316 Min:     0 Max: 32952 Err:     3 (0.00%)\nsummary +   1676 in   580s =    2.9/s Avg:   250 Min:     0 Max: 18193 Err:     0 (0.00%) Active: 3024 Started: 3024 Finished: 0\nsummary = 1374115 in  8693s =  158.1/s Avg:   316 Min:     0 Max: 32952 Err:     3 (0.00%)\nsummary +   1640 in   591s =    2.8/s Avg:   326 Min:     0 Max: 20648 Err:     0 (0.00%) Active: 3024 Started: 3024 Finished: 0\nsummary = 1375755 in  8703s =  158.1/s Avg:   316 Min:     0 Max: 32952 Err:     3 (0.00%)\nsummary +   1552 in   589s =    2.6/s Avg:   344 Min:     0 Max: 19179 Err:     0 (0.00%) Active: 3024 Started: 3024 Finished: 0\nsummary = 1377307 in  8713s =  158.1/s Avg:   316 Min:     0 Max: 32952 Err:     3 (0.00%)\n\n\n\nAs you can see, summary throughtput is OK while interval throughput is wrong:\nIt says 589s instead of 10s\nIt computes 2.6/s to 2.9/s due to the time interval.\nIf it had divided by 10 throughput would be OK.\n\nIssue affects all version of JMeter from 2.6 to 2.12\n\nRegards\n@ubikloadpack", "id": 179733, "time": "2014-12-12T14:40:13Z", "bug_id": 57346, "creation_time": "2014-12-12T14:40:13Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "support@ubikloadpack.com", "text": "Hi,\nOne additional info, the report really happens every 10 seconds but the  in \"XXXX\" is wrong as long as throughput which uses it.\n\nRegards\n@ubikloadpack", "id": 179964, "time": "2014-12-22T17:10:55Z", "bug_id": 57346, "creation_time": "2014-12-22T17:10:55Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 57346, "attachment_id": null, "text": "I cannot reproduce this.\nDoes the test use any 3rd party add-ons?\n\nCan you provide a simple test case that shows the issue?", "id": 179973, "time": "2014-12-22T19:28:28Z", "creator": "sebb@apache.org", "creation_time": "2014-12-22T19:28:28Z", "is_private": false}, {"count": 3, "tags": [], "text": "Hi,\nWhen reported we were using jmeter plugins.\nBut we made new tests without it and issue persists.\n\nI wonder if the problem is not the following:\n- What if a sampler takes more than the configured interval of Summariser to run or even worst what if TransactionController is used and contained such Samplers.\n\nI think current code of RunningSample would lead to what is happening as firstTime would be very far in the past.;\n\nI will try to build a simple test plan showing issue.\n\nRegards\n@ubikloadpack", "attachment_id": null, "id": 179985, "creator": "support@ubikloadpack.com", "time": "2014-12-22T21:56:50Z", "bug_id": 57346, "creation_time": "2014-12-22T21:56:50Z", "is_private": false}, {"count": 4, "tags": [], "creator": "support@ubikloadpack.com", "attachment_id": 32324, "text": "Created attachment 32324\nTest plan showing issue", "id": 179987, "time": "2014-12-22T22:12:24Z", "bug_id": 57346, "creation_time": "2014-12-22T22:12:24Z", "is_private": false}, {"count": 5, "tags": [], "text": "OK, I see the problem now.\n\nAt present the times are taken from the samples; they should really be taken from the current time.\n\nThis applies to both total types, though the problem is unlikely to be noticed with the overall total. At present, the overall total does not take into account that the start time might be later than the start of the actual test. Also that the end-time might be later than the end of the last sample (there may be initial and final time delays).", "is_private": false, "bug_id": 57346, "id": 180038, "time": "2014-12-28T00:08:17Z", "creator": "sebb@apache.org", "creation_time": "2014-12-28T00:08:17Z", "attachment_id": null}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 180039, "time": "2014-12-28T01:03:17Z", "bug_id": 57346, "creation_time": "2014-12-28T01:03:17Z", "is_private": false, "text": "Further notes: \nThe DELTA RunningSample start time needs to be reset each time, but the TOTAL RunningSample start time needs to remain as the start of the test. For both, the end time needs to be the time when the samples are merged/printed.\n\nThe RunningSample class was created a long while before the Summariser.\nIt only now seems to be used for the Summariser.\nPreviously it was used for the StatVisualizer; possibly other classes.\nThe code may still be useful as it is, so probably best to create a new (local) class for handling the accumulation."}, {"count": 7, "tags": [], "bug_id": 57346, "attachment_id": null, "id": 180040, "time": "2014-12-28T02:56:12Z", "creator": "sebb@apache.org", "creation_time": "2014-12-28T02:56:12Z", "is_private": false, "text": "URL: http://svn.apache.org/r1648146\nLog:\nSummariser : The + (difference) reports show wrong elapsed time and throughput\nBugzilla Id: 57346\n\nAdded:\n    jmeter/trunk/src/core/org/apache/jmeter/reporters/SummariserRunningSample.java\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/reporters/Summariser.java\n    jmeter/trunk/xdocs/changes.xml"}, {"count": 8, "tags": [], "bug_id": 57346, "attachment_id": null, "id": 180043, "time": "2014-12-28T14:01:26Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-12-28T14:01:26Z", "is_private": false, "text": "Date: Sun Dec 28 13:58:42 2014\nNew Revision: 1648204\n\nURL: http://svn.apache.org/r1648204\nLog:\nBUG 57346 Summariser : The + (difference) reports show wrong elapsed time and throughput\nRemove useless index field\nAdd javadocs\nAdd Apache License Header\nBugzilla Id: 57346\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/reporters/SummariserRunningSample.java\n\nDate: Sun Dec 28 13:59:38 2014\nNew Revision: 1648205\n\nURL: http://svn.apache.org/r1648205\nLog:\nBUG 57346 Summariser : The + (difference) reports show wrong elapsed time and throughput\nImpact removal of useless index field in SummariserRunningSample\nAdd javadocs\nRename some variables to make code clear\nBugzilla Id: 57346\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/reporters/Summariser.java"}, {"count": 9, "tags": [], "creator": "support@ubikloadpack.com", "attachment_id": null, "id": 180150, "time": "2015-01-05T10:47:24Z", "bug_id": 57346, "creation_time": "2015-01-05T10:47:24Z", "is_private": false, "text": "Hi,\nWe tested with nightly build and it is working fine.\nThanks a lot for the fix.\n\nAnd happy new year 2015 to the Apache JMeter team.\n\nRegards\n@ubikloadpack"}]