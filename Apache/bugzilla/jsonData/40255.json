[{"attachment_id": null, "tags": [], "bug_id": 40255, "is_private": false, "count": 0, "id": 92228, "time": "2006-08-15T15:30:33Z", "creator": "fdeangeli@gmail.com", "creation_time": "2006-08-15T15:30:33Z", "text": "When using Logger.trace(), if the log message is appended to a common ConsoleAppender with a \nlayout conversion pattern including the line number, instead of the line number a question mark is \nwritten.\n\nWith a log4j.properties equal to:\n\nlog4j.rootLogger=ALL, A1\nlog4j.appender.A1=org.apache.log4j.ConsoleAppender\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern=%-4r %-5p [%t] %37c %3x : %L - %m%n\n\nThe following test unit shows the problem:\n\nimport junit.framework.TestCase;\n\nimport org.apache.log4j.Logger;\nimport org.apache.log4j.PropertyConfigurator;\n\n/**\n *\n * @author Francesca De Angeli (fda@ast.cam.ac.uk)\n * @version $Revision$, $Date$\n */\npublic class LoggerTest extends TestCase {\n    Logger logger = null;\n\n    public void setUp() {\n        \n        PropertyConfigurator.configure(\"log4j.properties\");\n        \n        logger = Logger.getLogger(LoggerTest.class);\n    }\n\n    public void testDummy() {\n        logger.debug(\"Debug msg\");\n        logger.info(\"Info msg\");\n        logger.trace(\"This will not print out the line number\");\n    }\n}\n\nThe output is:\n\n2    DEBUG [main]                  log4jtest.LoggerTest     : 28 - Debug msg\n13   INFO  [main]                  log4jtest.LoggerTest     : 29 - Info msg\n15   TRACE [main]                  log4jtest.LoggerTest     : ? - This will not print out the line number\n\nThanks,\nFrancesca"}, {"count": 1, "tags": [], "bug_id": 40255, "is_private": false, "text": "I could not reproduce it with the SVN version.  This seems similar to a previously reported bug, but I \nthought we had fixed it before TRACE ever got into a release.  If not, then I thought we had fixed it in \n1.2.13.", "id": 92755, "time": "2006-08-30T21:24:16Z", "creator": "carnold@apache.org", "creation_time": "2006-08-30T21:24:16Z", "attachment_id": null}]