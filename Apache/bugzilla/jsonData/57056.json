[{"count": 0, "tags": [], "bug_id": 57056, "text": "My goal is to write proxy, which will proxy all requests to the VPN.\n\nSo, I've written the following configuration:\n\n<VirtualHost *:8121>\n  RewriteEngine On\n\n  ErrorLog logs/misc-error_log\n  TransferLog logs/misc-access_log\n\n  RewriteRule ^/(.*) http://%{HTTP_HOST}:8121/$1 [P]\n</VirtualHost>\n\nHowever, for some reason, it's not working as expected.\n\nIt seems that it tries to resolve '%{HTTP_HOST}:8121' as host name.\n\nBrowser answer is\n\nProxy Error\n\nThe proxy server received an invalid response from an upstream server.\nThe proxy server could not handle the request GET /.\n\nReason: DNS lookup failure for: n01wmw202:8121\n\nLog error contains the same entry\n\n[Sat Oct 04 07:34:34.123051 2014] [proxy:error] [pid 4004:tid 1260] [client 192.168.33.148:64292] AH00898: DNS lookup failure for: n01wmw202:8121 returned by /\n\nIf I remove ':8121' everything is working as expected.", "id": 178279, "time": "2014-10-03T20:38:11Z", "creator": "bgrh@mail.ru", "creation_time": "2014-10-03T20:38:11Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "It also reproduces if i change it to\n\n  RewriteRule ^/(.*) http://%{HTTP_HOST}:%{SERVER_PORT}/$1 [P]", "is_private": false, "id": 178280, "creator": "bgrh@mail.ru", "time": "2014-10-03T20:46:56Z", "bug_id": 57056, "creation_time": "2014-10-03T20:46:56Z", "attachment_id": null}]