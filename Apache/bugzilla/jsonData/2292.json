[{"count": 0, "tags": [], "bug_id": 2292, "attachment_id": null, "is_private": false, "id": 3211, "time": "2001-06-22T13:00:30Z", "creator": "mdiiorio@iss.net", "creation_time": "2001-06-22T13:00:30Z", "text": "When I run SAXCount on 'testWidget.xml' I get the following error:\n\n>c:\\jdk1.3\\bin\\java -classpath \nc:\\dev\\lib\\xerces\\xerces.jar;c:\\dev\\lib\\xerces\\xercesSamples.jar sax.SAXCount -\nv testWidget.xml\n[Error] testWidget.xml:5:21: Element type \"widget:comment\" must be declared.\ntestWidget.xml: 881 ms (3 elems, 4 attrs, 11 spaces, 6 chars)\n\nTo make this error go away I just have to reorder the complexType definitions \nin the 'widget.xsd' file so that the 'Widget' complexType comes before \nthe 'Onething' complexType.  If 'Widget' is not the first complexType in the \nfile, it will fail with the above error.  If 'Widget' is the first complexType \nin the file, it will work.  I am not aware of any restrictions on the order of \ncomplexType definitions, so this seems like a bug.\n\nAttached are the files.  I have included a working and a non-working version of \nwidget.xsd.\n\ntestWidget.xml\n--------------\n<test xmlns='http://www.foo.com/animalWidget'\n    xmlns:widget='http://www.foo.com/widget'\n    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'\n    xsi:schemaLocation='http://www.foo.com/animalWidget file:animalWidget.xsd'>\n    <widget:comment>bar</widget:comment>\n    <name>foo</name>\n</test>\n\nwidget.xsd (non-working)\n------------------------\n<schema xmlns='http://www.w3.org/2001/XMLSchema'\n    targetNamespace='http://www.foo.com/widget'\n    xmlns:widget='http://www.foo.com/widget'\n    version='1.0'\n    elementFormDefault='qualified'\n    attributeFormDefault='unqualified'>\n\n    <complexType name='Onething'>\n        <sequence>\n            <element name='tag' type='string' minOccurs='1' \nmaxOccurs='unbounded'/>\n        </sequence>\n    </complexType>\n\n    <complexType name='Widget'>\n        <sequence>\n            <element name='comment' type='string' minOccurs='1' maxOccurs='1'/>\n        </sequence>\n    </complexType>\n</schema>\n\nwidget.xsd (working)\n--------------------\n<schema xmlns='http://www.w3.org/2001/XMLSchema'\n    targetNamespace='http://www.foo.com/widget'\n    xmlns:widget='http://www.foo.com/widget'\n    version='1.0'\n    elementFormDefault='qualified'\n    attributeFormDefault='unqualified'>\n\n    <complexType name='Widget'>\n        <sequence>\n            <element name='comment' type='string' minOccurs='1' maxOccurs='1'/>\n        </sequence>\n    </complexType>\n\n    <complexType name='Onething'>\n        <sequence>\n            <element name='tag' type='string' minOccurs='1' \nmaxOccurs='unbounded'/>\n        </sequence>\n    </complexType>\n</schema>\n\nanimalWidget.xsd\n----------------\n<schema xmlns='http://www.w3.org/2001/XMLSchema'\n    targetNamespace='http://www.foo.com/animalWidget'\n    xmlns:widget='http://www.foo.com/widget'\n    version='1.0'\n    elementFormDefault='qualified'\n    attributeFormDefault='unqualified'>\n\n    <import namespace='http://www.foo.com/widget'\n        schemaLocation='file:widget.xsd'/>\n        \n    <element name='test' type='animalWidget:LemurWidget'/>\n    \n    <complexType name='LemurWidget'>\n       <complexContent>\n            <extension base='widget:Widget'>\n                <sequence>\n                    <element name='name' type='string' minOccurs='0' \nmaxOccurs='unbounded'/>\n                </sequence>\n            </extension>\n        </complexContent>\n    </complexType>    \n</schema>"}, {"count": 1, "tags": [], "bug_id": 2292, "text": "Created attachment 259\nTo make this example work with Xerces 1.4.1 use this animalWidget.xsd file", "id": 3267, "time": "2001-06-26T07:23:37Z", "creator": "mdiiorio@iss.net", "creation_time": "2001-06-26T07:23:37Z", "is_private": false, "attachment_id": 259}, {"count": 2, "tags": [], "creator": "sandygao@ca.ibm.com", "attachment_id": null, "is_private": false, "id": 3333, "time": "2001-06-28T15:35:09Z", "bug_id": 2292, "creation_time": "2001-06-28T15:35:09Z", "text": "We were looking for the element declaration in the wrong grammar or wrong scope."}]