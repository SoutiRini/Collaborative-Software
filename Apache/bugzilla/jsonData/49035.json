[{"count": 0, "tags": [], "bug_id": 49035, "attachment_id": null, "id": 135837, "time": "2010-04-01T16:31:44Z", "creator": "alexandre.petrillo@gmail.com", "creation_time": "2010-04-01T16:31:44Z", "is_private": false, "text": "I have a communication problem between Apache and Tomcat.\n\nWhen a post a big form with enctype=\"multipart/form-data\". Sometimes some data are lost.\nI actived jk's log (with JkLogFile \"logs/mod_jk.log\" and JkLogLevel trace)\nand i see 2 packet to transport form's informations. \nAnd the lost data is localized between two packet like this :\n\nthe lost data is : \n<input type=\"text\" name=\"utilisationRegroupement[1]\" value=\"46.0\">\n\nand packets are : \n\n------7da28a1a20\n82a..Content-Dis\nposition:.form-d\nata;.name=\"utili\nsationRegroupeme\nnt[1]\"....46.0..\n----------------\n\n[Second packet]\n\n.4....----------\n---7da28a1a2082a\n..Content-Dispos\nition:.form-data\n;.name=\"etatRegr\noupement[1]\"....\n\nThe problem is not systematic, it's depend of other input's size.\nWhen the transfert is correct i can see this : \n\n-------7da1d0620\n82a..Content-Dis\nposition:.form-d\nata;.name=\"utili\nsationRegroupeme\nnt[1]\"....46.0..\n----------------\n-------------7da\n1d062082a..Conte\nnt-Disposition:.\nform-data;.name=\n\"etatRegroupemen\n\n\n.4.%.#t[1]\"....E\n..--------------\n---------------7\nda1d062082a..Con\ntent-Disposition\n:.form-data;.nam\n\n\nIt's not same log.\n\nI use \napache 2.2.8\nmod_jk 1.2.30 (win32)\nTomcat 6.x\n\nI'm sure it's a mod_jk with enctype=\"multipart/form-data\", because without apache, or with mod_prox, or without enctype, i havn't problem.\n\nThanks\n\nAP"}, {"attachment_id": 25798, "tags": [], "creator": "alexandre.petrillo@gmail.com", "text": "Created attachment 25798\na jsp testcase", "count": 1, "id": 138662, "time": "2010-07-23T10:48:30Z", "bug_id": 49035, "creation_time": "2010-07-23T10:48:30Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 49035, "attachment_id": null, "id": 138663, "time": "2010-07-23T10:52:16Z", "creator": "alexandre.petrillo@gmail.com", "creation_time": "2010-07-23T10:52:16Z", "is_private": false, "text": "This is a simple jsp testcase. There is a form with enctype=\"multipart/form-data\" and 300 inputs. When i submit (more that one time) my form, sometimes, some data are lost !\n\nThis is very simple to reproduce, just a jsp with lib common-fileupload.jar\n\n\nThis is my apache configuration \nLoadModule proxy_module modules/mod_proxy.so\n\nJkWorkerProperty worker.list=myappli\nJkWorkerProperty worker.myappli.type=ajp13\nJkWorkerProperty worker.myappli.host=localhost\nJkWorkerProperty worker.myappli.port=8009\nJkMount /myappli/* myappli"}, {"attachment_id": null, "tags": [], "creator": "M8R-3mye921@thisisnotmyrealemail.com", "text": "setting the \npacketSize Attribute in jboss server.xml fixed the problem for me\n<Connector port=\"8009\" address=\"${jboss.bind.address}\" protocol=\"AJP/1.3\"\npacketSize=\"20000\"\nemptySessionPath=\"true\" enableLookups=\"false\" redirectPort=\"8443\" />", "count": 3, "id": 153584, "time": "2012-02-08T12:29:38Z", "bug_id": 49035, "creation_time": "2012-02-08T12:29:38Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 49035, "text": "I can only reproduce this problem with commons fileupload 1.2, the version you were using. After updating to commons fileupload 1.2.1 I can no longer reproduce, also not with the latest commons fileupload 1.3.1.\n\nThe problem seems to be independent of mod_jk or common io version.\n\nFrom the commons fileupload changelog I guess this is either\n\nhttps://issues.apache.org/jira/browse/FILEUPLOAD-134\n\nor\n\nhttps://issues.apache.org/jira/browse/FILEUPLOAD-135\n\nTherefore closing as INVALID.", "id": 180001, "time": "2014-12-23T17:40:18Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2014-12-23T17:40:18Z", "is_private": false, "attachment_id": null}]