[{"count": 0, "tags": [], "bug_id": 61791, "text": "Created attachment 35541\ndiff to add dnsttl parameter to ProxyPass\n\nWhen ProxyPass backend is a hostname and enablereuse is On, the DNS resolution is done at child startup only.\n\nIt may be an issue in environments with auto-scaling, e.g. AWS : \n   * 'disablereuse on' is not a good solution for perfs.\n   * MaxConnectionsPerChild is not precise enough to make child restart\n\nIdea is to have parameter 'dnsttl' added to ProxyPass.\nIf an IP change is detected after a dnsttl : update worker->cp->addr with new value.\nNew connections are made to new addr, old stay unchanged ( e.g. for AWS grace period )\n\nAttached is a very simple patch [*] to summ-up the idea.\n[*] patch done on httpd-2.4.29 for very simple testing only (not prod ready!)\n\nSimilar has been discussed in mailing lists several times.  \nLatest seen : https://lists.apache.org/thread.html/cf2aa9351063ceb90228ef66ce604c85e23124567bb174c92dcc677f@1464388317@%3Cusers.httpd.apache.org%3E\n\n@Yann, maybe your 'addressTTL' patch does answer the need.", "id": 202280, "time": "2017-11-20T16:36:29Z", "creator": "alexandre.schaff@gmail.com", "creation_time": "2017-11-20T16:36:29Z", "is_private": false, "attachment_id": 35541}]