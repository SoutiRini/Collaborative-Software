[{"count": 0, "tags": [], "creator": "glenchat@gmail.com", "is_private": false, "text": "The code attribute length when dumped is not updated, and as such will write the old size of the attribute should the size of the actual byte code change.\n\nA possible fix is adding:\n\"setLength(calculateLength());\"\n\nto the first line of:\norg.apache.bcel.classfile.Code.dump(DataOutputStream) throws IOException\n\nWhen trying to execute code that has this error, it throws a ClassFormatException, Wrong code segment length (Should there be no other formatting errors with the code).", "id": 144968, "time": "2011-03-13T12:35:12Z", "bug_id": 50922, "creation_time": "2011-03-13T12:35:12Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 50922, "text": "Thanks for the report, updated length on setCode( byte[] code ) and  on setExceptionTable( CodeException[] exception_table )\n\nCommitted revision 1081178.", "id": 144969, "attachment_id": null, "creator": "dbrosius@apache.org", "creation_time": "2011-03-13T14:08:33Z", "time": "2011-03-13T14:08:33Z", "is_private": false}]