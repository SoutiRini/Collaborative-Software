[{"count": 0, "tags": [], "bug_id": 2560, "is_private": false, "id": 3606, "attachment_id": null, "creator": "cechu@us.ibm.com", "creation_time": "2001-07-10T18:01:32Z", "time": "2001-07-10T18:01:32Z", "text": "A JSP that demonstrates the problem is:\n\n****************************************************************************\n<html>\n<!--\n  Copyright (c) 1999 The Apache Software Foundation.  All rights\n  reserved.\n-->\n<body bgcolor=white>\n<%@ taglib uri=\"http://jakarta.apache.org/taglibs/utility\" prefix=\"jLib\" %>\n<p>\n<% try { %>\n   This is a tag printing\n   <jLib:Hello/>\n<% } catch(Exception e) {} finally { %>\n   <jLib:Hello/>\n<% } %>\n</body>\n</html>\n****************************************************************************\n\nThis JSP uses a tag from the utility tag library which is part of the Jakarta \nTaglibs project.  When I retrieve the JSP with the URL \nhttp://host:port/utility/jsp/TryCatchFinally.jsp, both the tomcat shell and the \nbrowser show the following:\n\njavax.servlet.ServletException: (class: \njsp/_0002fjsp_0002fTryCatchFinally_0002ejspTryCatchFinally_jsp_0, method: \n_jspService signature: \n(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;\n)V) Illegal return from subroutine\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java, \nCompiled Code)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java, Compiled \nCode)\n        at org.apache.tomcat.core.ServletWrapper.doService(ServletWrapper.java, \nCompiled Code)\n        at org.apache.tomcat.core.Handler.service(Handler.java, Compiled Code)\n        at org.apache.tomcat.core.ServletWrapper.service(ServletWrapper.java, \nCompiled Code)\n        at \norg.apache.tomcat.core.ContextManager.internalService(ContextManager.java, \nCompiled Code)\n        at org.apache.tomcat.core.ContextManager.service(ContextManager.java, \nCompiled Code)\n        at \norg.apache.tomcat.service.http.HttpConnectionHandler.processConnection(HttpConne\nctionHandler.java, Compiled Code)\n        at org.apache.tomcat.service.TcpWorkerThread.runIt(PoolTcpEndpoint.java, \nCompiled Code)\n        at \norg.apache.tomcat.util.ThreadPool$ControlRunnable.run(ThreadPool.java, Compiled \nCode)\n        at java.lang.Thread.run(Thread.java, Compiled Code)\n\nRoot cause: \n\njava.lang.VerifyError: (class: \njsp/_0002fjsp_0002fTryCatchFinally_0002ejspTryCatchFinally_jsp_0, method: \n_jspService signature: \n(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;\n)V) Illegal return from subroutine\n        at java.lang.Class.newInstance0(Native Method)\n        at java.lang.Class.newInstance(Class.java, Compiled Code)\n        at \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.instantiateServlet(JspSer\nvlet.java, Compiled Code)\n        at org.apache.jasper.servlet.JspServlet.doLoadJSP(JspServlet.java, \nCompiled Code)\n        at org.apache.jasper.servlet.JasperLoader12.loadJSP(JasperLoader12.java, \nCompiled Code)\n        at org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java, \nCompiled Code)\n        at \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary(JspServle\nt.java, Compiled Code)\n        at \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.service(JspServlet.java, \nCompiled Code)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java, \nCompiled Code)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java, \nCompiled Code)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java, Compiled \nCode)\n        at org.apache.tomcat.core.ServletWrapper.doService(ServletWrapper.java, \nCompiled Code)\n        at org.apache.tomcat.core.Handler.service(Handler.java, Compiled Code)\n        at org.apache.tomcat.core.ServletWrapper.service(ServletWrapper.java, \nCompiled Code)\n        at \norg.apache.tomcat.core.ContextManager.internalService(ContextManager.java, \nCompiled Code)\n        at org.apache.tomcat.core.ContextManager.service(ContextManager.java, \nCompiled Code)\n        at \norg.apache.tomcat.service.http.HttpConnectionHandler.processConnection(HttpConne\nctionHandler.java, Compiled Code)\n        at org.apache.tomcat.service.TcpWorkerThread.runIt(PoolTcpEndpoint.java, \nCompiled Code)\n        at \norg.apache.tomcat.util.ThreadPool$ControlRunnable.run(ThreadPool.java, Compiled \nCode)\n        at java.lang.Thread.run(Thread.java, Compiled Code)"}, {"count": 1, "tags": [], "bug_id": 2560, "attachment_id": null, "text": "trycatchfinally is part of servlet 2.3/jsp1.2 - not supported in jsp1.1.\n\nA solution will be available for tomcat3.3.", "id": 4482, "time": "2001-08-11T09:19:11Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-08-11T09:19:11Z", "is_private": false}]