[{"count": 0, "tags": [], "text": "Tomcat is unable to compile a JSP which has a too long section of pure html in \nit.\n\nBecause during jsp -> java operation jasper is creating 1 method per enclosing \ntag (+one jsp service method for root content), jasper is sometimes unable to \ncompile a jsp. This happens because jasper splits the JSP at line break and \nconverts them to out.print(\"......\\n\"); Nowhere in jsp specs is a limit \nmentioned on the number of lines. However, each out.println() is using a bit \nof code space, and you finally end up hitting the compiler limit of 64k \nmaximum size of code for a method.\n\nand you get this:\nThe code of method _jspService(HttpServletRequest, HttpServletResponse) is \nexceeding the 65535 bytes limit\n        at \norg.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:84)\n        at \norg.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:328)\n        at \norg.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:413)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:297)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:276)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:264)\n\none solution would be to rerun the .java generator when such a compilation \nerror with an hint telling it to split this method's content in 2 or more \nmethods.", "is_private": false, "bug_id": 39309, "id": 88038, "time": "2006-04-14T09:13:50Z", "creator": "delbd@oma.be", "creation_time": "2006-04-14T09:13:50Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 39309, "text": "Look at the second bullet of section 4.10 at\nhttp://java.sun.com/docs/books/vmspec/2nd-edition/html/ClassFile.doc.html#1513.\n It's a JLS limitation.", "id": 90251, "time": "2006-06-15T18:23:43Z", "creator": "yoavs@computer.org", "creation_time": "2006-06-15T18:23:43Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "id": 90252, "time": "2006-06-15T18:25:33Z", "bug_id": 39309, "creation_time": "2006-06-15T18:25:33Z", "is_private": false, "text": "Sorry, I submitted a little too early, didn't finish writing what I meant to say.\n\nIt's a JLS limitation on method size as I said, but I understand you run up\nagainst that limit because of Jasper's java generation.  I myself am reluctant\nto change the generator for this case, because I'm not sure it's very prevalent,\nand it seems easy to work around on your end (by splitting up the JSP). \nHowever, if you want this feature enough to sumbit a patch for it, I'll be glad\nto review that patch."}, {"attachment_id": null, "tags": [], "creator": "markt@apache.org", "text": "This is an enhancement, marking it as such.", "count": 3, "id": 92707, "time": "2006-08-30T03:54:42Z", "bug_id": 39309, "creation_time": "2006-08-30T03:54:42Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 39309, "attachment_id": null, "id": 105853, "creation_time": "2007-07-23T11:09:05Z", "time": "2007-07-23T11:09:05Z", "creator": "funkman@joedog.org", "text": "*** Bug 42958 has been marked as a duplicate of this bug. ***", "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 39309, "text": "Please note, that there is a configuration option in the JspServlet, \"mappedfile\".\n\nIf set to \"false\", adjacent println statements will be merged into a single one. See\nhttp://tomcat.apache.org/tomcat-6.0-doc/jasper-howto.html#Configuration\nand the comments in conf/web.xml\n\n\nIf you need anything else, implementable ideas and patches are welcome.", "id": 135270, "time": "2010-03-11T12:38:02Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2010-03-11T12:38:02Z", "tags": [], "is_private": false}]