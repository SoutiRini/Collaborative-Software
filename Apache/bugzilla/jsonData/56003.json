[{"count": 0, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": null, "text": "If I do something that results in an error, e.g. using Java 7u45 and running\n\n> tool-wrapper.bat foo\n\nit fails with \n\nException in thread \"main\" java.lang.NoClassDefFoundError: org/apache/tomcat/util/ExceptionUtils\n        at org.apache.catalina.startup.Tool.main(Tool.java:204)\nCaused by: java.lang.ClassNotFoundException: org.apache.tomcat.util.ExceptionUtils\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n        ... 1 more\n\nThe cause is that org.apache.catalina.startup.Tool depends on ExceptionUtils class that is not present in bootstrap.jar.\n\nWhen I do something successfully, e.g. run\n\n> digest.bat -a md5 helloworld\n\nit completes successfully.\n\n\nAlternatively, we can add lib/tomcat-util.jar to the classpath created by tool-wrapper{.bat|.sh} script, or add the ExceptionUtils class to bootstrap.jar.\n\nTool class also depends on org.apache.catalina.Globals, but that only pulls in several constant strings and does not cause problems at runtime.", "id": 172350, "time": "2014-01-13T22:59:44Z", "bug_id": 56003, "creation_time": "2014-01-13T22:59:44Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 56003, "attachment_id": null, "id": 172358, "time": "2014-01-14T12:10:17Z", "creator": "markt@apache.org", "creation_time": "2014-01-14T12:10:17Z", "is_private": false, "text": "Fixed in 8.0.x for 8.0.0 onwards."}]