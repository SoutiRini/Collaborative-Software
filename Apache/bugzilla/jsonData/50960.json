[{"attachment_id": null, "tags": [], "bug_id": 50960, "is_private": false, "count": 0, "id": 145221, "time": "2011-03-23T17:30:04Z", "creator": "rgoldman@cs.stanford.edu", "creation_time": "2011-03-23T17:30:04Z", "text": "I just started using Ant 1.8.2 as it was installed along with the latest Java Update for the Mac (JavaForMacOSX10.6Update4). Projects that worked fine with Ant 1.8.1 no longer work in 1.8.2. The problem seems to be that a Java task that forks a jvm hangs when it tries to read from System.in. Has anyone else seen this problem? \n\nAttached is a simple build.xml file that demonstrates the problem. It creates a simple Java file that just calls readLine() and echos the input, compiles the file, and runs it twice: once in a non-forked JVM, which works fine, and again in a forked JVM, which hangs.\n\n-- Ron --\n\nHere is a sample output:\n\n> ant \nBuildfile: /Users/Ron/Development/Spots/tmp/ant-test/build.xml \n\ncompile: \n   [echo]  \n   [echo] ant.version      = Apache Ant(TM) version 1.8.2 compiled on December 20 2010 \n   [echo] ant.home         = /usr/share/ant \n   [echo] ant.library.dir  = /usr/share/ant/lib \n   [echo] ant.java.version = 1.6 \n   [echo]    \n  [javac] Compiling 1 source file to /Users/Ron/Development/Spots/tmp/ant-test \n\ngood: \n   [echo] This will work: calling Java with fork=false \n   [java]  \n   [java] Please enter some text and hit return: \nasdf \n   [java] Text entered = asdf \n\nbad: \n   [echo] This will hang: calling Java with fork=true \n   [java]  \n   [java] Please enter some text and hit return: \nasdf \nddfd \nC-c C-c\n\n---------------------------------------\n\nOn Mar 23, 2011, at 1:57 PM, Nicolas Lalev\u00e9e wrote:\n\nI can reproduce it locally. Could you please fill a bugzilla bug report [1], I'll look deeper into it.\n\nNicolas"}, {"count": 1, "tags": [], "bug_id": 50960, "attachment_id": 26795, "id": 145223, "time": "2011-03-23T17:31:27Z", "creator": "rgoldman@cs.stanford.edu", "creation_time": "2011-03-23T17:31:27Z", "is_private": false, "text": "Created attachment 26795\nbuild file to demonstrate the problem"}, {"count": 2, "tags": [], "bug_id": 50960, "is_private": false, "id": 145386, "creation_time": "2011-03-29T17:02:00Z", "time": "2011-03-29T17:02:00Z", "creator": "nicolas.lalevee@hibnet.org", "text": "Some stream was not flushed. Now fixed in trunk. Thanks for the report.", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 50960, "text": "The edit done to fix this was svn 1086741", "count": 3, "id": 145933, "time": "2011-04-21T12:28:16Z", "creator": "antoine@apache.org", "creation_time": "2011-04-21T12:28:16Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "antoine@apache.org", "is_private": false, "count": 4, "id": 145934, "time": "2011-04-21T12:30:11Z", "bug_id": 50960, "creation_time": "2011-04-21T12:30:11Z", "text": "Link in viewvc is http://svn.apache.org/viewvc?view=revision&revision=1086741"}, {"count": 5, "tags": [], "creator": "jglick@apache.org", "attachment_id": null, "id": 152934, "time": "2012-01-19T15:02:47Z", "bug_id": 50960, "creation_time": "2012-01-19T15:02:47Z", "is_private": false, "text": "*** Bug 50529 has been marked as a duplicate of this bug. ***"}]