[{"count": 0, "tags": [], "bug_id": 1631, "attachment_id": null, "id": 2268, "time": "2001-05-05T03:46:35Z", "creator": "jeff@socialchange.net.au", "creation_time": "2001-05-05T03:46:35Z", "is_private": false, "text": "(using a 4 May 2001 build..)\n\nThe following Ant tag will always set the variable:\n\n<available file=\"\" property=\"requirement.satisfied\"/>\n\nI suggest the default behaviour be to always fail, ie not set the variable. \n\nHere's a use case:\n\n<property environment=\"env\"/>\n<available file=\"${env.SERVLET_JAR}\" property=\"servlet.present\"/>\n\nThis might be used to ensure the user has servlet.jar in their classpath.\n\nNow, if the user types:\nexport SERVLET_JAR=\n\nThis circumvents the check. It would be best for the \"servlet.present\" variable\nnot to be set in this case.\n\nthanks,\n\n--Jeff"}, {"count": 1, "text": "It succeeds because the \"file\" attr check for either a file or a directory, \nand \"\" resolves to the current directory, which always exists. Use the \nnew \"type\" attr to specify type=\"file\" to have file=\"\" fail.", "bug_id": 1631, "attachment_id": null, "id": 2273, "time": "2001-05-05T11:48:47Z", "creator": "holtdl@yahoo.com", "creation_time": "2001-05-05T11:48:47Z", "tags": [], "is_private": false}, {"count": 2, "text": "\"\" is your base directory, which exists, so the task may not fail.\n\nIf you are not interested in directories but just in files, you have to set the\ntype attribute to file (new in nightly build 2001-05-04.", "bug_id": 1631, "attachment_id": null, "id": 2598, "time": "2001-05-22T03:26:18Z", "creator": "bodewig@apache.org", "creation_time": "2001-05-22T03:26:18Z", "tags": [], "is_private": false}]