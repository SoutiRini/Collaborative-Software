[{"count": 0, "tags": [], "bug_id": 48502, "text": "log4j configuration in xml is as follows:\n<log4j:configuration debug=\"true\" xmlns:log4j=\"http://jakarta.apache.org/log4j/\" >\n\n<appender name=\"SYSLOGFILE\" class=\"org.apache.log4j.RollingFileAppender\">\n    <param name=\"File\"   value=\"temp.log\" />\n    <param name=\"Append\" value=\"true\" />\n    <param name=\"MaxFileSize\" value=\"5KB\" />\n\t<param name=\"MaxBackupIndex\" value=\"20\" />\n    <layout class=\"org.apache.log4j.PatternLayout\">\n      <param name=\"ConversionPattern\" value=\"%d{DATE} %-5p %-15c{1} [%t][%x]: %m%n\"/>\n    </layout>\n  </appender>\n\n....\n<category ..\n</log4j:configuration>\n\n1. When messages are logged, temp.log is filled upto 5KB. \n2. When maxfilesize is  reached temp.1.log file needs to be created.\n3. Subsequently temp.2 (3,4,5, ....etc).log files need to be created.\n\nThis is failing. Reason is file.renameTo(target) is failing. file is of type java.io.File.\n\nProposed Solution:\nCheck if file.renameTo(target) has failed, by assigning it to a boolean variable: boolean renameSucceeded = file.renameTo(target)\nif(!renameSucceeded) { target.createNewFile(); copy(source,destination); }\nmake is synchronized for thread safety.", "id": 133412, "time": "2010-01-07T02:49:52Z", "creator": "fhakruddin.mohamed@yahoo.co.in", "creation_time": "2010-01-07T02:49:52Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 48502, "is_private": false, "text": "Created attachment 24816\nFix for rotation file not getting created\n\nfile.renameTo(target); is failing. So, need to manually check and create the file explicitly.", "id": 133442, "time": "2010-01-07T23:04:02Z", "creator": "fhakruddin.mohamed@yahoo.co.in", "creation_time": "2010-01-07T23:04:02Z", "attachment_id": 24816}]