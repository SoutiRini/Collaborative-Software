[{"count": 0, "tags": [], "bug_id": 40540, "text": "I've observed problems with specifying output filters by Location and Directory\nwhile using Multiviews content negotiation for some time. See these mailing list\nentries:\n\nhttp://mail-archives.apache.org/mod_mbox/httpd-users/200606.mbox/%3c44A3D121.8010208@durham.ac.uk%3e\nhttp://mail-archives.apache.org/mod_mbox/httpd-users/200608.mbox/%3c44D1EA1B.3030101@durham.ac.uk%3e\n\nWhat it comes down to is that if Multiviews is active, then SetOutputFilter\nstatements in <Location> or <Directory> blocks have very flakey behaviour\n(perhaps because Multiviews is rewriting whatever location string is used for\nmatching against Location paths?)\n\nPresumably this isn't intentional --- both are very useful features, but it's\nannoying that they don't seem to be compatible, at least not with the\nconfigurations I've tried.\n\nAndy", "id": 93770, "time": "2006-09-19T11:45:59Z", "creator": "andy@insectnation.org", "creation_time": "2006-09-19T11:45:59Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "nick@webthing.com", "attachment_id": null, "text": "Why are you using <Location> with local contents?  Its semantics can be very\nconfusing if you start making assumptions about how it maps to your filesystem.\n What happens if you use <Directory>?  And what happens if you use\nFilterProvider/FilterChain in place of SetOutputFilter?\n\nAlso, that kind of extfilter usage is massively inefficient.  Use mod_line_edit.", "id": 96856, "time": "2006-12-12T17:52:17Z", "bug_id": 40540, "creation_time": "2006-12-12T17:52:17Z", "is_private": false}, {"count": 2, "tags": [], "creator": "andy@insectnation.org", "attachment_id": null, "text": "(In reply to comment #1)\n> Why are you using <Location> with local contents?  Its semantics can be very\n> confusing if you start making assumptions about how it maps to your filesystem.\n\nWhat local contents? Do you mean the use of multiviews?\n\nI'm using location because I want all HTTP content provided from a particular\nURL context to be filtered, regardless of where it maps to on the filesystem,\npossibly with the same content being filtered in two different ways depending on\nhow it's accessed. Also, some of the content which I want to be filtered comes\nfrom CGI scripts which sit outside the document root, so explicitly mapping each\nof those with a <Directory> section would be cumbersome and pointless (if,\nindeed, it would even work - I've not checked).\n\n>  What happens if you use <Directory>?  And what happens if you use\n> FilterProvider/FilterChain in place of SetOutputFilter?\n\nI can't test this yet, since they're only available in mod_filter from 2.1\nonwards and (due to OS packaging lagging behind the times) I'm stuck with 2.0.55\nfor now. That looks like a much better framework, though: thanks for pointing it\nout!\n\n> Also, that kind of extfilter usage is massively inefficient.  Use mod_line_edit.\n\nThat was a demo! I have no real-world interest in replacing \"foo\" with \"bar\"\n(but I do have an interest in applying e.g. uniform, dynamic headers and footers\nto all the content on my site without having to worry about the\nlanguages/proxies/etc. that each bit is implemented with, which is what this is\nreally all about.)\n\nThanks for the comments, though, especially the pointer at FilterChains etc. I\nstill think this is a bug, though: I'm not convinced that the argument about\nlocal content applies here.\n", "id": 96945, "time": "2006-12-15T07:39:39Z", "bug_id": 40540, "creation_time": "2006-12-15T07:39:39Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 40540, "attachment_id": null, "id": 202821, "time": "2017-12-17T09:15:04Z", "creator": "nick@webthing.com", "creation_time": "2017-12-17T09:15:04Z", "is_private": false, "text": "Was somewhat esoteric in 2.0.55, and now presumably resolved by mod_filter since 2.2.x."}]