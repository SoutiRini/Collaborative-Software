[{"count": 0, "tags": [], "bug_id": 58016, "is_private": false, "text": "Created attachment 32803\nFixed version of JsseSSLManager.java\n\nI am using private SSL Provider for creating TLS connections with GOST cipher suites. And at the handshake I've got an error. After some examining it came out that to fix it I need to extend WrappedX509KeyManager class(in JsseSSLManager class) with X509ExtendedKeyManager instead of implementing X509KeyManager interface. After fixing it and rebuilding JMeter everything worked fine. I think this bug could occure in some other situations so I report it and apply my solution\n\nHere's stacktrace:\njava.lang.ClassCastException: org.apache.jmeter.util.JsseSSLManager$WrappedX509KeyManager cannot be cast to javax.net.ssl.X509ExtendedKeyManager\n\tat ru.infotecs.tls.g.c(Unknown Source)\n\tat ru.infotecs.tls.g.a(Unknown Source)\n\tat ru.infotecs.tls.B.c(Unknown Source)\n\tat ru.infotecs.tls.G.f(Unknown Source)\n\tat ru.infotecs.tls.G.startHandshake(Unknown Source)\n\tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:436)\n\tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n\tat org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:294)\n\tat org.apache.jmeter.protocol.http.sampler.MeasuringConnectionManager$MeasuredConnection.open(MeasuringConnectionManager.java:107)\n\tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:643)\n\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:479)\n\tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\n\tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:805)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.executeRequest(HTTPHC4Impl.java:517)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.sample(HTTPHC4Impl.java:331)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:74)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1146)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1135)\n\tat org.apache.jmeter.threads.JMeterThread.process_sampler(JMeterThread.java:434)\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:261)\n\tat java.lang.Thread.run(Thread.java:745)", "id": 183428, "time": "2015-06-10T12:48:04Z", "creator": "myworkpostbox@gmail.com", "creation_time": "2015-06-10T12:48:04Z", "attachment_id": 32803}, {"count": 1, "tags": [], "text": "Commited hotfix (there seems to be an issue with commit mails currently.", "is_private": false, "bug_id": 58016, "id": 183520, "time": "2015-06-14T13:28:55Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2015-06-14T13:28:55Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Date: Sun Jun 14 13:26:37 2015\nNew Revision: 1685402\n\nURL: http://svn.apache.org/r1685402\nLog:\nBug 58016 - Error type casting using external SSL Provider\nBugzilla Id: 58016\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/util/JsseSSLManager.java\n    jmeter/trunk/xdocs/changes.xml", "id": 183523, "time": "2015-06-14T19:42:22Z", "bug_id": 58016, "creation_time": "2015-06-14T19:42:22Z", "is_private": false, "attachment_id": null}]