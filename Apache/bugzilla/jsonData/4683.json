[{"count": 0, "tags": [], "bug_id": 4683, "text": "With the following contents of ClientClassPath.txt:\n---------------\nManifest-Version: 1.0\nClass-Path: HSDServerAPI.jar HSDServerRMI.jar \nClass-Path: jaxp.jar jcchartK.jar jcfield450K.jar \nClass-Path: jcpagelayoutK.jar jctableK.jar jhall.jar\n---------------\nThe following jar Task:\n---------------\n    <jar jarfile=\"${dist}/HSDClient.jar\" \n         manifest=\"${deploy}/ClientClassPath.txt\">\n\t<fileset dir=\"${build}\" includes=\"**\\crosstrak\\client\\**\"/>\n\t<fileset dir=\"${src}\" includes=\"**\\crosstrak\\client\\*.properties\"/>\n    </jar>\n---------------\nI get the following error:\n---------------\njar-client:\n      [jar] Manifest is invalid: The attribute \"Class-Path\" may not occur more \nthan once in the same section\n\nBUILD FAILED\n\n...\\build.xml:160: Invalid Manifest: ...\\deploy\\ClientClassPath.txt\n---------------\nHowever sun's java tutorial (see URL above) states that this is valid.\n\"... You can also specify multiple extension URLs by using more than one Class-\nPath header in the manifest. For example: \n\nClass-Path: area.jar\nClass-Path: servlet.jar\n\"", "id": 7612, "time": "2001-11-06T10:43:47Z", "creator": "Tim.Haley@acterna.com", "creation_time": "2001-11-06T10:43:47Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 780\n[PATCH] Allows user to specify multiple 'Class-Path's in same section of manifest.", "attachment_id": 780, "id": 7802, "creator": "umagesh@rediffmail.com", "time": "2001-11-12T16:42:46Z", "bug_id": 4683, "creation_time": "2001-11-12T16:42:46Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 4683, "text": "This patch treats the Class-Path attribute in a special manner allowing\nmultiple Class-Path attribute specification in the same section.  However,\nthe method getAttribute, when invoked with Class-Path as parameter, will \nget the concatenated value of *all* declared 'Class-Path's.  Similarly,\nremoveAttribute when invoked with Class-Path as argument, will remove \nall 'Class-Path's specified.", "id": 7803, "time": "2001-11-12T16:43:08Z", "creator": "umagesh@rediffmail.com", "creation_time": "2001-11-12T16:43:08Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 4683, "text": "We can special case certain attributes, I guess, although it isn't very nice to \nhave to, especially when the Jar specification explicitly states\n\n\"Attribute names cannot be repeated within a section\"\n\nI wonder if they are combined by jar into a single attribute - I'll do some \nexperiments.\n\n", "id": 7806, "time": "2001-11-12T17:05:38Z", "creator": "conor@apache.org", "creation_time": "2001-11-12T17:05:38Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "JDK's Jar (at least JDK 1.2.1) does *not* recognize multiple entries of Class-\nPath in a manifest.  It adds only the first Class-Path specified and ignores \nthe rest.  However, the tutorial site seems pretty leading.  I agree it isn't an\nelegant approach at all to special-case Class-Path.  I have also seem other \nsites where they mention this as a feature - i mean adding multiple 'Class-\nPath's.  Anyway, it is the specification that counts, right?", "is_private": false, "id": 7811, "creator": "umagesh@rediffmail.com", "time": "2001-11-12T17:36:25Z", "bug_id": 4683, "creation_time": "2001-11-12T17:36:25Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 4683, "text": "Conor:\nPlease also take a look at another 'specification' by Sun - that of the\nExternal Mechanism Architecture:\nhttp://java.sun.com/j2se/1.3/docs/guide/extensions/spec.html\n\nIt reads, and I quote:\n'Multiple Class-Path headers may be specified, and are combined sequentially.'\n\nDefinitely conflicting scenarios.  Does Jar in versions of JDK > 1.3 allow this,\nthough the Jar's Manifest specification doesn't?\n\n", "count": 5, "id": 7813, "time": "2001-11-12T18:08:07Z", "creator": "umagesh@rediffmail.com", "creation_time": "2001-11-12T18:08:07Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 4683, "text": "Referring to JDC's Bug Database...,\n\nhttp://developer.java.sun.com/developer/bugParade/bugs/4295946.html\nhttp://developer.java.sun.com/developer/bugParade/bugs/4245700.html\n\n..., it seems like Sun has accepted this as a bug and that multiple\nClass-Path headers must in fact be permitted.  Sorry about sending all\nthese piece-meal.  Just wanted to strengthen my case further ;-)\n", "id": 7814, "time": "2001-11-12T18:20:09Z", "creator": "umagesh@rediffmail.com", "creation_time": "2001-11-12T18:20:09Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 4683, "text": "OK, I agree we should support this. I just quickly checked the 1.4 beta \ndocuentation and the statement is still there but in the end we need to be \npractical. I'll have a look at the patch tonight. Thanks for the research.", "id": 7815, "time": "2001-11-12T18:41:27Z", "creator": "conor@apache.org", "creation_time": "2001-11-12T18:41:27Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 4683, "attachment_id": null, "id": 7943, "time": "2001-11-15T05:54:06Z", "creator": "conor@apache.org", "creation_time": "2001-11-15T05:54:06Z", "is_private": false, "text": "Fixed in CVS. Please try nightly build from 2001-11-16 or build from CVS. Ant\nwill now support multiple class-path headers.\n\nMagesh, I didn't use your patch. I overflowed the classpath attrs into a vector\nrather than changing the attribute key as you suggested. While unlikely to\ncollide, I felt it would be better to explicitly manage the multiple attributes."}]