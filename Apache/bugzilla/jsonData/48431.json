[{"count": 0, "tags": [], "creator": "adam.chou@gmail.com", "attachment_id": null, "text": "When error logging is set to syslog, I can't get any startup errors generated from child processes or threads to show up in syslog. Specifically, I forgot to set User and Group and the only error I would get was that a child process had a fatal error and shut down. This made debugging the issue almost impossible without stepping through the code. \n\nThis happened to me in Event, Worker, and Pre-Fork. The problem appears to be how ap_log_error() calls log_error_core() on certain startup functions. ap_log_error() passes a NULL for parameter const server_rec *s. This is apparently some sort of sentinel value that tells log_error_core() that its in the startup phase then sets logf to stderr_log. This actually seems to be initialized to some proper value too. However, it becomes a problem later on in the syslog logging section that checks if logf is set and since it is, it never logs to syslog.\n\nI was just going to debug it some more and submit a patch but this fix seems to require a bit more rewriting than just changing some booleans. I'm not sure how you guys want to handle this but I'd be glad to fix it if you let me know what your suggested fix for it is.", "id": 133067, "time": "2009-12-22T12:12:36Z", "bug_id": 48431, "creation_time": "2009-12-22T12:12:36Z", "is_private": false}, {"count": 1, "tags": [], "creator": "adam.chou@gmail.com", "is_private": false, "text": "sorry, just realized some of the values i printed while stepping through might be wrong. however, the error messages not showing up in syslog was for sure reproduceable.", "id": 133068, "time": "2009-12-22T12:18:56Z", "bug_id": 48431, "creation_time": "2009-12-22T12:18:56Z", "attachment_id": null}]