[{"count": 0, "attachment_id": null, "creator": "dev@cumiskey.com", "is_private": false, "id": 106596, "time": "2007-08-10T08:31:11Z", "bug_id": 43089, "creation_time": "2007-08-10T08:31:11Z", "tags": [], "text": "I'm a little surprised that no-one hasn't come across this bug sooner, but I\nmanaged to verify its existence and provide a patch that seems to fix the\nproblem.  I guess its not been discovered because most PDF renderer users must\nfavour using truetype fonts.\n\nA positive descender value was being used on type 1 fonts when calculating the\nline width for text-decoration(s).  This was causing a negative line width, \nresulting in the decoration line not being drawn by the PDF renderer.  This\npatch fixes this problem.  I have successfully tested the patch against a\nreasonably complex FO example with both the postscript and pdf renderer to try\nand ensure it does not break anything.  You can just as easily reproduce the\nproblem with a simple \"hello world!\" fo example with a single block (using\ntext-decoration, referencing a type 1 font-family).\n\nIdeally it would be nice to have a JUnit test case to verify this fix against\nbut I'm not sure about legal licensing issues with acquiring some free (GPL)\ntype 1 fonts.\n\nAdrian."}, {"count": 1, "tags": [], "creator": "dev@cumiskey.com", "attachment_id": 20639, "id": 106597, "time": "2007-08-10T08:34:28Z", "bug_id": 43089, "creation_time": "2007-08-10T08:34:28Z", "is_private": false, "text": "Created attachment 20639\npatch file\n\n* Improves error log output in PDFRender.drawBorderLine().\n* Fixes descender calculation used from PFMFile."}, {"count": 2, "attachment_id": null, "creator": "bowditch_chris@hotmail.com", "is_private": false, "id": 106861, "time": "2007-08-17T09:07:10Z", "bug_id": 43089, "creation_time": "2007-08-17T09:07:10Z", "tags": [], "text": "Patch Applied. Excellent work Adrian!"}, {"count": 3, "tags": [], "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "attachment_id": null, "bug_id": 43089, "id": 156178, "time": "2012-04-01T07:02:54Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T07:02:54Z", "is_private": false}]