[{"count": 0, "attachment_id": null, "creator": "lianggt08@sei.pku.edu.cn", "text": "The fix revision 1142762 was aimed to remove an NPE bug on the returned value of  \"_doc.getFontTable() \" in the method \"toString\" of the file \"/poi/trunk/src/scratchpad/src/org/apache/poi/hwpf/usermodel/CharacterRun.java\" , but it is incomplete. \nSince the \"_doc.getFontTable()\" could be null during the run-time execution, its returned value should also be null-checked before being dereferenced in other methods. \n\nThe buggy code locations the same fix needs to be applied at are as bellows: \n \nLine 609 of the method \"getSymbolFont\". \n\n\npublic Ffn getSymbolFont()\n  {\n    if (isSymbol()) {\n[Line 609]      Ffn[] fontNames = _doc.getFontTable().getFontNames();\n\n      if (fontNames.length <= _props.getFtcSym())\n        return null;\n\n      return fontNames[_props.getFtcSym()];\n    } else\n      throw new IllegalStateException(\"Not a symbol CharacterRun\");\n  }", "id": 153770, "time": "2012-02-14T09:53:17Z", "bug_id": 52662, "creation_time": "2012-02-14T09:53:17Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "apache@gagravarr.org", "attachment_id": null, "is_private": false, "id": 153780, "time": "2012-02-14T12:56:40Z", "bug_id": 52662, "creation_time": "2012-02-14T12:56:40Z", "text": "Thanks, applied in r1243907."}]