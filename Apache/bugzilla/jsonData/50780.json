[{"count": 0, "tags": [], "bug_id": 50780, "text": "Hi,\n\nSorry for my english.\n\nI use Tomcat 7.0.6 with APR 1.1.20. \n\nI noticed (from heap dump) many org.apache.tomcat.util.net.SocketWrapper objects, which are kept by \"connections\" atribute in org.apache.coyote.ajp.AjpAprProtocol$AjpConnectionHandler object. I don't understand, why there are so many objects representing old connections which are not active. In my example it was 300000 objects created, after 7 days of Tomcat work. Has someone forgotten to clean this HashMap from time to time?\n\nbest regards\n\nSergiusz Brzezinski", "id": 144292, "time": "2011-02-15T04:51:49Z", "creator": "Sergiusz.Brzezinski@supersystem.pl", "creation_time": "2011-02-15T04:51:49Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 50780, "is_private": false, "id": 144322, "time": "2011-02-15T12:17:05Z", "creator": "markt@apache.org", "creation_time": "2011-02-15T12:17:05Z", "tags": [], "text": "This is Tomcat 7 specific Java code, not part of the APR native code."}, {"count": 2, "tags": [], "bug_id": 50780, "is_private": false, "id": 144324, "creation_time": "2011-02-15T12:39:27Z", "time": "2011-02-15T12:39:27Z", "creator": "markt@apache.org", "text": "There was some clean-up in this area for 7.0.8. It is worth testing with the latest version to see if this has already been fixed.", "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 50780, "is_private": false, "id": 144379, "time": "2011-02-17T09:18:17Z", "creator": "markt@apache.org", "creation_time": "2011-02-17T09:18:17Z", "tags": [], "text": "Yes it does still happen with 7.0.8 and is specific to the APR implementation of the AJP connector. Testing a fix now..."}, {"count": 4, "attachment_id": null, "bug_id": 50780, "is_private": false, "id": 144381, "time": "2011-02-17T11:08:23Z", "creator": "markt@apache.org", "creation_time": "2011-02-17T11:08:23Z", "tags": [], "text": "This has been fixed in trunk and will be included in 7.0.9 onwards."}]