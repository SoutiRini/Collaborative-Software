[{"count": 0, "tags": [], "bug_id": 58058, "attachment_id": null, "text": "The static field Library._instance is mutable but access is not synchronised and the field is not volatile.\n\nThere is no guarantee that the write by one thread will be seen by another in a timely manner (or at all) - i.e. the field is not safely published.\n\nThe other fields are also not safely published for the same reason.\n\nPossible consequences:\n- init can be performed more than once\n- reader thread may see partial setup of static variables\n\nMaking the _instance field volatile would prevent double init, but would not ensure safe publication of the other static fields.\n\nOtherwise the Library class is only safe to use from a single thread.\n\nIt's possible that one could use some form of IODH (*) to avoid the need for synch.\n\n\n(*) https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom", "id": 183650, "time": "2015-06-19T16:22:50Z", "creator": "sebb@apache.org", "creation_time": "2015-06-19T16:22:50Z", "is_private": false}, {"count": 1, "tags": [], "creator": "markt@apache.org", "text": "Fixed in trunk for all current Tomcat versions (6.0.x, 7.0.x, 8.0.x and 9.0.x)", "id": 186199, "time": "2015-11-02T14:39:39Z", "bug_id": 58058, "creation_time": "2015-11-02T14:39:39Z", "is_private": false, "attachment_id": null}]