[{"count": 0, "tags": [], "text": "The length task with parameter \"mode=each\" lists info only for files that exist and are not empty.\n\nExample:\n\t<echo>length empty.txt</echo>\n\t<length file=\"c:/empty.txt\" />\n\t<echo>length notempty.txt</echo>\n\t<length file=\"c:/notempty.txt\" />\n\t<echo>length DoesNotExist</echo>\n\t<length file=\"c:/DoesNotExist\" />\n\t<echo>length \"each\"</echo>\n\t<length mode=\"each\" >\n\t\t<fileset file=\"c:/empty\" />\n\t\t<fileset file=\"c:/notempty.txt\" />\n\t\t<fileset file=\"c:/DoesNotExist\" />\n\t</length>\n\t<echo>length \"all\"</echo>\n\t<length mode=\"all\" >\n\t\t<fileset file=\"c:/empty.txt\" />\n\t\t<fileset file=\"c:/notempty.txt\" />\n\t\t<fileset file=\"c:/DoesNotExist\" />\n\t</length>\n\nOutput is:\n\n     [echo] length empty.txt\n   [length] 0\n     [echo] length notempty.txt\n   [length] 7\n     [echo] length DoesNotExist\n   [length] c:\\DoesNotExist does not exist\n   [length] 0\n     [echo] length \"each\"\n   [length] c:\\notempty.txt : 7\n     [echo] length \"all\"\n   [length] 7", "is_private": false, "id": 117944, "creator": "patricia_shan8@hotmail.com", "time": "2008-06-24T09:58:04Z", "bug_id": 45271, "creation_time": "2008-06-24T09:58:04Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 45271, "attachment_id": null, "id": 117946, "time": "2008-06-24T11:34:20Z", "creator": "mbenson@apache.org", "creation_time": "2008-06-24T11:34:20Z", "is_private": false, "text": "The length task is currently coded to ignore non-existing resources.  Possibly that is a bug, since it's possible for a Resource to be configured such that it does return some size but still does not exist.  In your sample, however, the task actually never sees the file that doesn't exist because a fileset by definition consists entirely of files that DO exist.  As for your empty file, the extension is missing on the fileset:\n\n>        <length mode=\"each\" >\n>                <fileset file=\"c:/empty\" />\n>                <fileset file=\"c:/notempty.txt\" />\n>                <fileset file=\"c:/DoesNotExist\" />\n>        </length>\n\nSo I will modify the description of this report.  I don't think it's important to preserve backward compatibility on the remaining bug because the \"each\" mode feature is designed for readable logging more than anything.\n\nThanks for the report,\nMatt"}, {"count": 2, "tags": [], "bug_id": 45271, "attachment_id": null, "id": 117947, "time": "2008-06-24T12:02:24Z", "creator": "mbenson@apache.org", "creation_time": "2008-06-24T12:02:24Z", "is_private": false, "text": "svn rev 671299."}]