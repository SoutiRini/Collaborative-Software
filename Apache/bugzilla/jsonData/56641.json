[{"count": 0, "tags": [], "text": "Created attachment 31727\nbinary artifact to reproduce the issue\n\nRan into this issue when trying to compile Tomcat 7.0_54 with Ant 1.9.4. It looks like a regression since 1.9.3 works fine. Look at the attached binary artifact. Place in a directory together and run ant-1.9.4 against it. Exception below [1]\n\nScript:\n\n<?xml version=\"1.0\"?>\n<project name=\"bugtest\" default=\"extract_test\" basedir=\".\">\n\n  <target name=\"extract_test\">\n    <gunzip src=\"commons-logging-1.1.3-src.tar.gz\" dest=\"${basedir}/commons-logging-src.tar\"/>\n    <untar src=\"${basedir}/commons-logging-src.tar\"          dest=\"${basedir}/result/\" />\n  </target>\n</project>\n\n[1]\njava.io.IOException: Error detected parsing the header\n        at org.apache.tools.tar.TarInputStream.getNextEntry(TarInputStream.java:292)\n        at org.apache.tools.ant.taskdefs.Untar.expandStream(Untar.java:165)\n        at org.apache.tools.ant.taskdefs.Untar.expandFile(Untar.java:114)\n        at org.apache.tools.ant.taskdefs.Expand.execute(Expand.java:132)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n        at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at org.apache.tools.ant.Target.execute(Target.java:435)\n        at org.apache.tools.ant.Target.performTasks(Target.java:456)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\n        at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1248)\n        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:441)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n        at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at org.apache.tools.ant.Target.execute(Target.java:435)\n        at org.apache.tools.ant.Target.performTasks(Target.java:456)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1364)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1248)\n        at org.apache.tools.ant.Main.runBuild(Main.java:851)\n        at org.apache.tools.ant.Main.startAnt(Main.java:235)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:280)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:109)\nCaused by: java.lang.IllegalArgumentException: Invalid byte 32 at offset 7 in '       {NUL}' len=8\n        at org.apache.tools.tar.TarUtils.parseOctal(TarUtils.java:134)\n        at org.apache.tools.tar.TarUtils.parseOctalOrBinary(TarUtils.java:172)\n        at org.apache.tools.tar.TarEntry.parseTarHeader(TarEntry.java:912)\n        at org.apache.tools.tar.TarEntry.parseTarHeader(TarEntry.java:899)\n        at org.apache.tools.tar.TarEntry.<init>(TarEntry.java:323)\n        at org.apache.tools.tar.TarInputStream.getNextEntry(TarInputStream.java:290)\n        ... 31 more", "attachment_id": 31727, "bug_id": 56641, "id": 175877, "time": "2014-06-18T20:39:02Z", "creator": "stanchev@hotmail.com", "creation_time": "2014-06-18T20:39:02Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 56641, "is_private": false, "id": 175878, "time": "2014-06-18T20:40:04Z", "creator": "stanchev@hotmail.com", "creation_time": "2014-06-18T20:40:04Z", "tags": [], "text": "The binary gzip file attached needs to be named to \"commons-logging-1.1.3-src.tar.gz\""}, {"count": 2, "tags": [], "bug_id": 56641, "attachment_id": null, "is_private": false, "id": 175941, "time": "2014-06-21T05:06:48Z", "creator": "bodewig@apache.org", "creation_time": "2014-06-21T05:06:48Z", "text": "Yes, this is the same issue as https://issues.apache.org/jira/browse/COMPRESS-278 over at Commons Compress.  Merged the change with git commit 34fdc2f"}, {"count": 3, "tags": [], "text": "*** Bug 56656 has been marked as a duplicate of this bug. ***", "is_private": false, "id": 175982, "creator": "bodewig@apache.org", "time": "2014-06-23T07:28:04Z", "bug_id": 56641, "creation_time": "2014-06-23T07:28:04Z", "attachment_id": null}]