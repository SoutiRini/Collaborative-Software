[{"count": 0, "tags": [], "creator": "benoit.wiart@gmail.com", "attachment_id": null, "id": 187852, "time": "2016-01-20T14:29:42Z", "bug_id": 58897, "creation_time": "2016-01-20T14:29:42Z", "is_private": false, "text": "- It's not possible to use modern JUnit contruct (junit 4+) @Test, @RunWith, etc\n- The test code hide some errors\n\nFor example TestSamplingStatCalculator is not executed with ant as it's a junit4 test (it works fine in your IDE)\nSome code added a few years ago silently disabled a *lot* of tests : \nwhen run in headless mode (apache build bot ?) a HeadlessException is thrown but wrapped in an ExceptionInInitializerError\nthis error stop the JmeterTest suite and the following tests are disabled\n- suiteSerializableElements\n- suiteTestElements\n- suiteBeanComponents\n- new JMeterTest(\"createFunctionSet\"));\n- suiteFunctions\n- new JMeterTest(\"checkGuiSet\"));\n- new JMeterTest(\"checkFunctionSet\"));        \n- new JMeterTest(\"resetLocale\")\n\nLooks like the test code was frozen when an asteroid hit earth and killed all the dinosaurs."}, {"count": 1, "tags": [], "text": "PR https://github.com/apache/jmeter/pull/84\nyou should not merge this PR as this\nit will enable tests that will probably failed\nThose tests need to be reviewed by a jmeter ninja or an archaeologist", "is_private": false, "id": 187853, "creation_time": "2016-01-20T14:32:00Z", "time": "2016-01-20T14:32:00Z", "creator": "benoit.wiart@gmail.com", "bug_id": 58897, "attachment_id": null}, {"count": 2, "tags": [], "creator": "benoit.wiart@gmail.com", "attachment_id": null, "id": 187867, "time": "2016-01-21T08:19:53Z", "bug_id": 58897, "creation_time": "2016-01-21T08:19:53Z", "is_private": false, "text": "I have a patch for the junit 4 support + exception management.\nI need to split it into several PRs to make it reviewable.\n\nCan a committer merge https://github.com/apache/jmeter/pull/81/files before I start providing the PRs ?"}, {"count": 3, "tags": [], "creator": "benoit.wiart@gmail.com", "attachment_id": null, "id": 187883, "time": "2016-01-21T21:03:35Z", "bug_id": 58897, "creation_time": "2016-01-21T21:03:35Z", "is_private": false, "text": "Step 1\n\n- Move jorphan class finder to a more flexible solution when searching for\nclasses (visitor / filter pattern)\n- Use it as preparatory step in Jorphan AllTests\n- Explicitly exclude JMeterTest and TestMenuFactory in headless mode\n- remove commented code & outdated comments\n\nNo change in the number of executed tests *\n\n* in headless mode TestMenuFactory is now excluded, it was previously running as a side effect of the *strange* exception management, but it need a graphics environment.\n\nJorphan AllTests is a stinky monkey.\n\nPR https://github.com/apache/jmeter/pull/85"}, {"count": 4, "tags": [], "bug_id": 58897, "attachment_id": null, "text": "Date: Thu Jan 28 22:23:23 2016\nNew Revision: 1727442\n\nURL: http://svn.apache.org/viewvc?rev=1727442&view=rev\nLog:\nBug 58897 : Improve JUnit Test code\n#resolve #85\nBugzilla Id: 58897\n\nAdded:\n    jmeter/trunk/src/jorphan/org/apache/jorphan/reflect/ClassFilter.java   (with props)\nModified:\n    jmeter/trunk/src/jorphan/org/apache/jorphan/reflect/ClassFinder.java\n    jmeter/trunk/test/src/org/apache/jmeter/gui/util/TestMenuFactory.java\n    jmeter/trunk/test/src/org/apache/jmeter/junit/JMeterTest.java\n    jmeter/trunk/test/src/org/apache/jorphan/test/AllTests.java\n    jmeter/trunk/xdocs/changes.xml", "id": 188017, "time": "2016-01-28T22:23:44Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-01-28T22:23:44Z", "is_private": false}, {"count": 5, "attachment_id": null, "creator": "benoit.wiart@gmail.com", "is_private": false, "id": 188021, "time": "2016-01-28T23:32:46Z", "bug_id": 58897, "creation_time": "2016-01-28T23:32:46Z", "tags": [], "text": "Step 2\n\nUpdate the junit tests execution to a recent junit runner\nNo change in the number of executed tests\nThe console output change but not the process return code\n\nNot that while it's a recent runner you can not use pure junit annotation tests as they're not detected in the classpath.\nIt will be done in a subsequent patch\n\nThis has only been tested locally, it *should* work on the bot.\n\nPR https://github.com/apache/jmeter/pull/94"}, {"count": 6, "tags": [], "text": "Step 3 : execute JUnit 4 tests\n\nWe now scan for classes that extends TestCase (junit3) and for classes that have at least one method annotated with @Test\n2 new tests executed in TestSamplingStatCalculator\n\nPR https://github.com/apache/jmeter/pull/95", "is_private": false, "bug_id": 58897, "id": 188066, "time": "2016-01-30T12:27:04Z", "creator": "benoit.wiart@gmail.com", "creation_time": "2016-01-30T12:27:04Z", "attachment_id": null}, {"count": 7, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "id": 188120, "time": "2016-02-01T20:22:30Z", "bug_id": 58897, "creation_time": "2016-02-01T20:22:30Z", "tags": [], "text": "Date: Mon Feb  1 20:21:30 2016\nNew Revision: 1727996\n\nURL: http://svn.apache.org/viewvc?rev=1727996&view=rev\nLog:\nBug 58897 : Improve JUnit Test code\nPart 3\n#resolve #95\nBugzilla Id: 58897\n\nModified:\n    jmeter/trunk/test/src/org/apache/jorphan/test/AllTests.java"}, {"count": 8, "tags": [], "creator": "benoit.wiart@gmail.com", "attachment_id": null, "id": 188130, "time": "2016-02-01T21:46:29Z", "bug_id": 58897, "creation_time": "2016-02-01T21:46:29Z", "is_private": false, "text": "Step 4 : convert existing tests\n\nthis patch is \"mechanical\"\nNo change in the number of executed tests\nthe \"suite\" style tests kept a junit 3 hierarchy\n\nPR https://github.com/apache/jmeter/pull/100"}, {"count": 9, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "is_private": false, "id": 188163, "time": "2016-02-02T21:27:18Z", "bug_id": 58897, "creation_time": "2016-02-02T21:27:18Z", "text": "Date: Tue Feb  2 21:26:49 2016\nNew Revision: 1728218\n\nURL: http://svn.apache.org/viewvc?rev=1728218&view=rev\nLog:\nBug 58897 - Improve JUnit Test code STEP 4\nPart 1 patch by B. Wiart\nBugzilla Id: 58897\n\nModified:\n    jmeter/trunk/test/src/org/apache/jmeter/timers/PackageTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/util/PackageTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/util/TestJMeterUtils.java\n    jmeter/trunk/test/src/org/apache/jmeter/visualizers/TestRenderAsJson.java\n    jmeter/trunk/test/src/org/apache/jorphan/TestFunctorUsers.java\n    jmeter/trunk/test/src/org/apache/jorphan/TestXMLBuffer.java\n    jmeter/trunk/test/src/org/apache/jorphan/collections/PackageTest.java\n    jmeter/trunk/test/src/org/apache/jorphan/exec/TestKeyToolUtils.java\n    jmeter/trunk/test/src/org/apache/jorphan/math/TestStatCalculator.java\n    jmeter/trunk/test/src/org/apache/jorphan/reflect/TestClassTools.java\n    jmeter/trunk/test/src/org/apache/jorphan/reflect/TestFunctor.java\n    jmeter/trunk/test/src/org/apache/jorphan/util/TestConverter.java\n    jmeter/trunk/test/src/org/apache/jorphan/util/TestJorphanUtils.java"}, {"count": 10, "tags": [], "text": "Date: Tue Feb  2 21:30:46 2016\nNew Revision: 1728219\n\nURL: http://svn.apache.org/viewvc?rev=1728219&view=rev\nLog:\nBug 58897 - Improve JUnit Test code STEP 4\nPart 2 patch by B. Wiart\nBugzilla Id: 58897\n\nModified:\n    jmeter/trunk/test/src/org/apache/jmeter/report/core/SampleMetadataTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/report/core/TestCsvSampleWriter.java\n    jmeter/trunk/test/src/org/apache/jmeter/report/processor/FieldSampleComparatorTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/samplers/TestSampleResult.java\n    jmeter/trunk/test/src/org/apache/jmeter/samplers/TestSampleSaveConfiguration.java\n    jmeter/trunk/test/src/org/apache/jmeter/save/TestCSVSaveService.java\n    jmeter/trunk/test/src/org/apache/jmeter/save/TestSaveService.java\n    jmeter/trunk/test/src/org/apache/jmeter/services/TestFileServer.java\n    jmeter/trunk/test/src/org/apache/jmeter/testbeans/gui/PackageTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/testbeans/gui/TestBooleanPropertyEditor.java\n    jmeter/trunk/test/src/org/apache/jmeter/testbeans/gui/TestComboStringEditor.java\n    jmeter/trunk/test/src/org/apache/jmeter/testbeans/gui/TestFieldStringEditor.java\n    jmeter/trunk/test/src/org/apache/jmeter/testelement/PackageTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/testelement/property/PackageTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/threads/TestJMeterContextService.java\n    jmeter/trunk/test/src/org/apache/jmeter/threads/TestTestCompiler.java", "attachment_id": null, "bug_id": 58897, "id": 188164, "time": "2016-02-02T21:31:50Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-02-02T21:31:50Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 58897, "is_private": false, "text": "Date: Tue Feb  2 21:35:58 2016\nNew Revision: 1728220\n\nURL: http://svn.apache.org/viewvc?rev=1728220&view=rev\nLog:\nBug 58897 - Improve JUnit Test code STEP 4\nPart 3 patch by B. Wiart\nBugzilla Id: 58897\n\nModified:\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/proxy/TestHttpRequestHdr.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/proxy/TestProxyControl.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/sampler/PostWriterTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/sampler/PutWriterTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/sampler/TestHTTPSamplers.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/sampler/TestHTTPSamplersAgainstHttpMirrorServer.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/util/TestHTTPArgument.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/util/TestHTTPFileArg.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/util/TestHTTPFileArgs.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/util/TestHTTPUtils.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/util/accesslog/TestLogFilter.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/util/accesslog/TestTCLogParser.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/ldap/config/gui/PackageTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/tcp/sampler/BinaryTCPClientImplTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/tcp/sampler/LengthPrefixedBinaryTCPClientImplTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/tcp/sampler/TCPClientDecoratorTest.java", "id": 188165, "time": "2016-02-02T21:38:58Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-02-02T21:38:58Z", "attachment_id": null}, {"count": 12, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "is_private": false, "id": 188166, "time": "2016-02-02T21:43:26Z", "bug_id": 58897, "creation_time": "2016-02-02T21:43:26Z", "text": "Date: Tue Feb  2 21:39:15 2016\nNew Revision: 1728221\n\nURL: http://svn.apache.org/viewvc?rev=1728221&view=rev\nLog:\nBug 58897 - Improve JUnit Test code STEP 4\nPart 4 patch by B. Wiart\nBugzilla Id: 58897\n\nModified:\n    jmeter/trunk/test/src/org/apache/jmeter/monitor/model/TestObjectFactory.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/config/MultipartUrlConfigTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/config/UrlConfigTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/control/TestAuthManager.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/control/TestCacheManager.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/control/TestCacheManagerHC4.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/control/TestCookieManager.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/control/TestDNSCacheManager.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/control/gui/TestHttpTestSampleGui.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/modifier/TestAnchorModifier.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/modifier/TestURLRewritingModifier.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/parser/TestHTMLParser.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/parser/TestHtmlParsingUtils.java"}, {"count": 13, "tags": [], "text": "Date: Tue Feb  2 21:45:57 2016\nNew Revision: 1728223\n\nURL: http://svn.apache.org/viewvc?rev=1728223&view=rev\nLog:\nBug 58897 - Improve JUnit Test code\n#resolve #100\nBugzilla Id: 58897\n\nAdded:\n    jmeter/trunk/test/src/org/apache/jmeter/junit/JMeterTestCaseJUnit3.java   (with props)\nModified:\n    jmeter/trunk/test/src/org/apache/commons/cli/avalon/ClutilTestCase.java\n    jmeter/trunk/test/src/org/apache/jmeter/JMeterVersionTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/assertions/MD5HexAssertionTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/assertions/ResponseAssertionTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/assertions/SMIMEAssertionTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/assertions/SizeAssertionTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/assertions/XMLSchemaAssertionTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/assertions/XPathAssertionTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/config/TestCVSDataSet.java\n    jmeter/trunk/test/src/org/apache/jmeter/config/gui/TestArgumentsPanel.java\n    jmeter/trunk/test/src/org/apache/jmeter/control/TestGenericController.java\n    jmeter/trunk/test/src/org/apache/jmeter/control/TestIfController.java\n    jmeter/trunk/test/src/org/apache/jmeter/control/TestInterleaveControl.java\n    jmeter/trunk/test/src/org/apache/jmeter/control/TestLoopController.java\n    jmeter/trunk/test/src/org/apache/jmeter/control/TestOnceOnlyController.java\n    jmeter/trunk/test/src/org/apache/jmeter/control/TestRandomOrderController.java\n    jmeter/trunk/test/src/org/apache/jmeter/control/TestRunTime.java\n    jmeter/trunk/test/src/org/apache/jmeter/control/TestSwitchController.java\n    jmeter/trunk/test/src/org/apache/jmeter/control/TestThroughputController.java\n    jmeter/trunk/test/src/org/apache/jmeter/control/TestWhileController.java\n    jmeter/trunk/test/src/org/apache/jmeter/engine/DistributedRunnerTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/engine/TestTreeCloner.java\n    jmeter/trunk/test/src/org/apache/jmeter/engine/util/PackageTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/engine/util/TestValueReplacer.java\n    jmeter/trunk/test/src/org/apache/jmeter/extractor/TestRegexExtractor.java\n    jmeter/trunk/test/src/org/apache/jmeter/extractor/TestXPathExtractor.java\n    jmeter/trunk/test/src/org/apache/jmeter/functions/PackageTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/functions/TestFileRowColContainer.java\n    jmeter/trunk/test/src/org/apache/jmeter/functions/TestJexl2Function.java\n    jmeter/trunk/test/src/org/apache/jmeter/functions/TestJexl3Function.java\n    jmeter/trunk/test/src/org/apache/jmeter/functions/TestJexlFunction.java\n    jmeter/trunk/test/src/org/apache/jmeter/functions/TestRegexFunction.java\n    jmeter/trunk/test/src/org/apache/jmeter/functions/TestTimeFunction.java\n    jmeter/trunk/test/src/org/apache/jmeter/gui/action/TestLoad.java\n    jmeter/trunk/test/src/org/apache/jmeter/gui/action/TestSave.java\n    jmeter/trunk/test/src/org/apache/jmeter/gui/util/JSyntaxTextAreaTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/gui/util/TestMenuFactory.java\n    jmeter/trunk/test/src/org/apache/jmeter/junit/JMeterTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/junit/JMeterTestCase.java\n    jmeter/trunk/xdocs/changes.xml", "is_private": false, "id": 188167, "creation_time": "2016-02-02T21:47:08Z", "time": "2016-02-02T21:47:08Z", "creator": "p.mouawad@ubik-ingenierie.com", "bug_id": 58897, "attachment_id": null}, {"count": 14, "tags": [], "text": "Step 5\n\nmisc clean up\nremove empty test\nremove commented code\nsplit some tests\nexplicitly disable org.apache.jmeter.protocol.http.sampler.PackageTest when in headless mode\n\nPR https://github.com/apache/jmeter/pull/104", "is_private": false, "bug_id": 58897, "id": 188182, "time": "2016-02-03T15:25:11Z", "creator": "benoit.wiart@gmail.com", "creation_time": "2016-02-03T15:25:11Z", "attachment_id": null}, {"count": 15, "tags": [], "creator": "benoit.wiart@gmail.com", "attachment_id": null, "id": 188183, "time": "2016-02-03T15:27:01Z", "bug_id": 58897, "creation_time": "2016-02-03T15:27:01Z", "is_private": false, "text": "reopen as i have 1 more step (see comment 14)"}, {"count": 16, "tags": [], "creator": "benoit.wiart@gmail.com", "attachment_id": null, "is_private": false, "id": 188184, "time": "2016-02-03T15:27:58Z", "bug_id": 58897, "creation_time": "2016-02-03T15:27:58Z", "text": "After step 5 this bug could be closed."}, {"count": 17, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "id": 188202, "time": "2016-02-04T08:21:04Z", "bug_id": 58897, "creation_time": "2016-02-04T08:21:04Z", "tags": [], "text": "Date: Thu Feb  4 08:14:13 2016\nNew Revision: 1728418\n\nURL: http://svn.apache.org/viewvc?rev=1728418&view=rev\nLog:\nBug 58897 - Improve JUnit Test code STEP 5\npatch by B. Wiart\n#resolve #104\nBugzilla Id: 58897\n\nAdded:\n    jmeter/trunk/test/src/org/apache/jmeter/functions/EvalFunctionTest.java   (with props)\n    jmeter/trunk/test/src/org/apache/jmeter/functions/FunctionTestHelper.java   (with props)\n    jmeter/trunk/test/src/org/apache/jmeter/functions/RandomFunctionTest.java   (with props)\n    jmeter/trunk/test/src/org/apache/jmeter/functions/StringFromFileFunctionTest.java   (with props)\n    jmeter/trunk/test/src/org/apache/jmeter/functions/SumFunctionTest.java   (with props)\n    jmeter/trunk/test/src/org/apache/jmeter/functions/VariableTest.java   (with props)\nRemoved:\n    jmeter/trunk/test/src/org/apache/jmeter/gui/action/PackageTest.java\nModified:\n    jmeter/trunk/src/functions/org/apache/jmeter/functions/EvalFunction.java\n    jmeter/trunk/src/functions/org/apache/jmeter/functions/EvalVarFunction.java\n    jmeter/trunk/test/src/org/apache/jmeter/assertions/SizeAssertionTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/assertions/XMLSchemaAssertionTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/assertions/XPathAssertionTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/engine/util/TestValueReplacer.java\n    jmeter/trunk/test/src/org/apache/jmeter/functions/PackageTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/gui/action/TestLoad.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/modifier/TestURLRewritingModifier.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/parser/TestHTMLParser.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/sampler/PackageTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/testbeans/gui/PackageTest.java\n    jmeter/trunk/test/src/org/apache/jmeter/testbeans/gui/TestBooleanPropertyEditor.java\n    jmeter/trunk/test/src/org/apache/jmeter/testbeans/gui/TestComboStringEditor.java"}, {"count": 18, "attachment_id": null, "creator": "benoit.wiart@gmail.com", "is_private": false, "id": 188217, "time": "2016-02-04T13:05:19Z", "bug_id": 58897, "creation_time": "2016-02-04T13:05:19Z", "tags": [], "text": "what's left :\n- use junit categories to disable non headless tests (Bug 58967)\n- split the *.PackageTest into individual tests\n- remove / convert the last junit 3 tests"}, {"count": 19, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 189295, "time": "2016-03-09T11:10:18Z", "bug_id": 58897, "creation_time": "2016-03-09T11:10:18Z", "is_private": false, "text": "The commit\n http://svn.apache.org/viewvc?rev=1727442&view=rev\ndisabled org.apache.jmeter.junit.JMeterTest completely for non-GUI environments\n\nThis is wrong, as a lot of the tests in that class do not require a GUI."}, {"count": 20, "tags": [], "bug_id": 58897, "is_private": false, "text": "It looks like the problem was caused by RSyntaxTextArea.\n\nIt's not possible to instantiate it if the code is running Headless.\nThis is not the case for JTextArea, which can at least be instantiated, even if it cannot be used.\n\nI think this needs to be resolved somehow, because there are some useful tests that cannot be run under Jenkins etc. For example, checking that the GUI components have entries in component_reference.\n\nIdeally RSyntaxtTextArea should behave like JTextArea and allow non-Headless instantiation, but that may take a while to get fixed.\n\nOther approaches:\n- change the GUI classes that use the class to delay instantiation until actually needed. This may be tricky to do.\n- change the JMeter class JSyntaxTextArea to use static getInstance methods instead of ctors; these can handle the Headless issue. This may also be tricky.", "id": 189345, "time": "2016-03-10T18:49:22Z", "creator": "sebb@apache.org", "creation_time": "2016-03-10T18:49:22Z", "attachment_id": null}, {"count": 21, "tags": [], "bug_id": 58897, "is_private": false, "text": "(In reply to Sebb from comment #20)\n> It looks like the problem was caused by RSyntaxTextArea.\n> \n\nSee Bug 59165 regarding RSyntaxTextArea", "id": 189355, "time": "2016-03-11T13:35:36Z", "creator": "sebb@apache.org", "creation_time": "2016-03-11T13:35:36Z", "attachment_id": null}, {"count": 22, "attachment_id": null, "creator": "sebb@apache.org", "is_private": false, "id": 189358, "time": "2016-03-11T13:44:00Z", "bug_id": 58897, "creation_time": "2016-03-11T13:44:00Z", "tags": [], "text": "URL: http://svn.apache.org/viewvc?rev=1734556&view=rev\nLog:\n Improve JUnit Test code\n Re-enable headless testing\nBugzilla Id: 58897\n\nModified:\n    jmeter/trunk/test/src/org/apache/jmeter/junit/JMeterTest.java"}, {"count": 23, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "id": 189362, "time": "2016-03-11T17:39:07Z", "bug_id": 58897, "creation_time": "2016-03-11T17:39:07Z", "tags": [], "text": "(In reply to Sebb from comment #19)\n> The commit\n>  http://svn.apache.org/viewvc?rev=1727442&view=rev\n> disabled org.apache.jmeter.junit.JMeterTest completely for non-GUI\n> environments\n> \n> This is wrong, as a lot of the tests in that class do not require a GUI.\n\n(In reply to benoit.wiart from comment #18)\n> what's left :\n> - use junit categories to disable non headless tests (Bug 58967)\n> - split the *.PackageTest into individual tests\n> - remove / convert the last junit 3 tests\n\nI don't think it's the commit that did this.\nAll changes done in this task (a lot) enabled much cleaned management of Headless case.\nNothing was disabled accidentaly.\nAs you can see through Bug 59165, the issue with JSyntaxTextarea was always here.\n\nRegards"}, {"count": 24, "tags": [], "bug_id": 58897, "attachment_id": null, "text": "(In reply to Philippe Mouawad from comment #13)\n> Date: Tue Feb  2 21:45:57 2016\n> New Revision: 1728223\n> \n> URL: http://svn.apache.org/viewvc?rev=1728223&view=rev\n> Log:\n> Bug 58897 - Improve JUnit Test code\n> #resolve #100\n> Bugzilla Id: 58897\n> \n> Added:\n>     jmeter/trunk/test/src/org/apache/jmeter/junit/JMeterTestCaseJUnit3.java \n> (with props)\n> Modified:\n>     jmeter/trunk/test/src/org/apache/commons/cli/avalon/ClutilTestCase.java\n>     jmeter/trunk/test/src/org/apache/jmeter/JMeterVersionTest.java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/assertions/MD5HexAssertionTest.java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/assertions/ResponseAssertionTest.java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/assertions/SMIMEAssertionTest.java\n>     jmeter/trunk/test/src/org/apache/jmeter/assertions/SizeAssertionTest.java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/assertions/XMLSchemaAssertionTest.\n> java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/assertions/XPathAssertionTest.java\n>     jmeter/trunk/test/src/org/apache/jmeter/config/TestCVSDataSet.java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/config/gui/TestArgumentsPanel.java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/control/TestGenericController.java\n>     jmeter/trunk/test/src/org/apache/jmeter/control/TestIfController.java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/control/TestInterleaveControl.java\n>     jmeter/trunk/test/src/org/apache/jmeter/control/TestLoopController.java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/control/TestOnceOnlyController.java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/control/TestRandomOrderController.\n> java\n>     jmeter/trunk/test/src/org/apache/jmeter/control/TestRunTime.java\n>     jmeter/trunk/test/src/org/apache/jmeter/control/TestSwitchController.java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/control/TestThroughputController.java\n>     jmeter/trunk/test/src/org/apache/jmeter/control/TestWhileController.java\n>     jmeter/trunk/test/src/org/apache/jmeter/engine/DistributedRunnerTest.java\n>     jmeter/trunk/test/src/org/apache/jmeter/engine/TestTreeCloner.java\n>     jmeter/trunk/test/src/org/apache/jmeter/engine/util/PackageTest.java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/engine/util/TestValueReplacer.java\n>     jmeter/trunk/test/src/org/apache/jmeter/extractor/TestRegexExtractor.java\n>     jmeter/trunk/test/src/org/apache/jmeter/extractor/TestXPathExtractor.java\n>     jmeter/trunk/test/src/org/apache/jmeter/functions/PackageTest.java\n>    \n> jmeter/trunk/test/src/org/apache/jmeter/functions/TestFileRowColContainer.\n> java\n>     jmeter/trunk/test/src/org/apache/jmeter/functions/TestJexl2Function.java\n>     jmeter/trunk/test/src/org/apache/jmeter/functions/TestJexl3Function.java\n>     jmeter/trunk/test/src/org/apache/jmeter/functions/TestJexlFunction.java\n>     jmeter/trunk/test/src/org/apache/jmeter/functions/TestRegexFunction.java\n>     jmeter/trunk/test/src/org/apache/jmeter/functions/TestTimeFunction.java\n>     jmeter/trunk/test/src/org/apache/jmeter/gui/action/TestLoad.java\n>     jmeter/trunk/test/src/org/apache/jmeter/gui/action/TestSave.java\n>     jmeter/trunk/test/src/org/apache/jmeter/gui/util/JSyntaxTextAreaTest.java\n>     jmeter/trunk/test/src/org/apache/jmeter/gui/util/TestMenuFactory.java\n>     jmeter/trunk/test/src/org/apache/jmeter/junit/JMeterTest.java\n>     jmeter/trunk/test/src/org/apache/jmeter/junit/JMeterTestCase.java\n>     jmeter/trunk/xdocs/changes.xml\n\nThis has has broken Test classes that depend on JMeterTestCase.\n\nThey cannot now be run stand-alone because JMeterTestCase no longer extends TestCase.", "id": 190754, "time": "2016-05-07T11:59:23Z", "creator": "sebb@apache.org", "creation_time": "2016-05-07T11:59:23Z", "is_private": false}, {"count": 25, "tags": [], "bug_id": 58897, "is_private": false, "text": "(In reply to Sebb from comment #24)\n> (In reply to Philippe Mouawad from comment #13)\n> > Date: Tue Feb  2 21:45:57 2016\n> > New Revision: 1728223\n> > \n> > URL: http://svn.apache.org/viewvc?rev=1728223&view=rev\n> > Log:\n> > Bug 58897 - Improve JUnit Test code\n> > #resolve #100\n> > Bugzilla Id: 58897\n> > \n> > Added:\n> >     jmeter/trunk/test/src/org/apache/jmeter/junit/JMeterTestCaseJUnit3.java \n> > (with props)\n> > Modified:\n> >     jmeter/trunk/test/src/org/apache/commons/cli/avalon/ClutilTestCase.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/JMeterVersionTest.java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/assertions/MD5HexAssertionTest.java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/assertions/ResponseAssertionTest.java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/assertions/SMIMEAssertionTest.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/assertions/SizeAssertionTest.java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/assertions/XMLSchemaAssertionTest.\n> > java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/assertions/XPathAssertionTest.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/config/TestCVSDataSet.java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/config/gui/TestArgumentsPanel.java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/control/TestGenericController.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/control/TestIfController.java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/control/TestInterleaveControl.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/control/TestLoopController.java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/control/TestOnceOnlyController.java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/control/TestRandomOrderController.\n> > java\n> >     jmeter/trunk/test/src/org/apache/jmeter/control/TestRunTime.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/control/TestSwitchController.java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/control/TestThroughputController.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/control/TestWhileController.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/engine/DistributedRunnerTest.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/engine/TestTreeCloner.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/engine/util/PackageTest.java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/engine/util/TestValueReplacer.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/extractor/TestRegexExtractor.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/extractor/TestXPathExtractor.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/functions/PackageTest.java\n> >    \n> > jmeter/trunk/test/src/org/apache/jmeter/functions/TestFileRowColContainer.\n> > java\n> >     jmeter/trunk/test/src/org/apache/jmeter/functions/TestJexl2Function.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/functions/TestJexl3Function.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/functions/TestJexlFunction.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/functions/TestRegexFunction.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/functions/TestTimeFunction.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/gui/action/TestLoad.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/gui/action/TestSave.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/gui/util/JSyntaxTextAreaTest.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/gui/util/TestMenuFactory.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/junit/JMeterTest.java\n> >     jmeter/trunk/test/src/org/apache/jmeter/junit/JMeterTestCase.java\n> >     jmeter/trunk/xdocs/changes.xml\n> \n> This has has broken Test classes that depend on JMeterTestCase.\n> \n> They cannot now be run stand-alone because JMeterTestCase no longer extends\n> TestCase.\n\nIgnore that. The problem is that JMeterTestCase used to support JUnit3; it now only supports JUnit4.", "id": 190755, "time": "2016-05-07T12:52:42Z", "creator": "sebb@apache.org", "creation_time": "2016-05-07T12:52:42Z", "attachment_id": null}]