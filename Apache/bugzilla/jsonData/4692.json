[{"count": 0, "tags": [], "bug_id": 4692, "attachment_id": null, "text": "The ant.bat and lcp.bat wrapper scripts build an environmental variable called \nLOCALCLASSPATH to pass as a command line argument to the JVM.  This processing \nintroduces quotes into the local classpath which cause command line parsing \nproblems in the JVM when embedded spaces exist in the CLASSPATH environment \nvariable.  The solution is to let the JVM's access the CLASSPATH environment \nvariable directly.  This works around the problems with the embedded spaces.  \nDoing this simply requires removing LOCALCLASSPATH from the .bat files (it is \nredundant since \"setlocal\" is used at the top of the file anyway) and modifying \nthe real CLASSPATH variable instead.  The -cp flag can then be removed from the \njava command line.  Lastly, the quotes around the last %%i in the code below \nfrom ant.bat should be removed since they appear to prevent the JVM from \nfinding classes containing them.\n\n:checkJava\nset _JAVACMD=%JAVACMD%\nfor %%i in (\"%ANT_HOME%\\lib\\*.jar\") do call \"%ANT_HOME%\\bin\\lcp.bat\" %%i", "id": 7629, "time": "2001-11-06T21:17:41Z", "creator": "suchko.pm@mellon.com", "creation_time": "2001-11-06T21:17:41Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 4692, "is_private": false, "id": 7630, "attachment_id": null, "creator": "conor@apache.org", "creation_time": "2001-11-06T21:26:18Z", "time": "2001-11-06T21:26:18Z", "text": "Please check the latest release (Ant 1.4.1). These issues have been addressed \nin Ant 1.4. Try it and let me know if you still have problems.\n\nBTW setlocal is not supported on Win98, so the scripts should continue to avoid \nchanging the CLASSPATH variable directly, IMHO. "}, {"count": 2, "tags": [], "bug_id": 4692, "text": "I confirmed that the bug was addressed in 1.4.1 and it is handled in a more \nplatform neutral manner", "id": 7698, "time": "2001-11-08T09:55:32Z", "creator": "suchko.pm@mellon.com", "creation_time": "2001-11-08T09:55:32Z", "is_private": false, "attachment_id": null}]