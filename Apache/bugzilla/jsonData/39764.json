[{"count": 0, "tags": [], "bug_id": 39764, "attachment_id": null, "is_private": false, "id": 90006, "time": "2006-06-09T14:28:13Z", "creator": "glhez@glowria.fr", "creation_time": "2006-06-09T14:28:13Z", "text": "Hi,\n\nI'm really ok with loading sample file (eg: a result from a test) into jMeter,\nbut there is something REALLY annoying : when you load such file, jMeter freeze.\n\nThe reason is fairly simple :\n\n\npublic void AbstractVisualizer.stateChanged(ChangeEvent e) {\n  log.debug(\"getting new collector\");\n  collector = (ResultCollector) createTestElement();\n  collector.loadExistingFile();\n}\n\nThis is called in the Event dispatch thread which also manage the different GUI\nevent.\n\nThe solution is fairly simple :\n\npublic void AbstractVisualizer.stateChanged(ChangeEvent e) {\n  log.debug(\"getting new collector\");\n  collector = (ResultCollector) createTestElement();\n  filePanel.enableFile(false);\n  new Thread(new Runnable() {public void run() {\n    collector.loadExistingFile();\n    filePanel.enableFile(true);\n  }}).start();\n}\n\nThis should avoid this tiny annoying thing."}, {"count": 1, "tags": [], "creator": "glhez@glowria.fr", "attachment_id": null, "id": 90007, "time": "2006-06-09T14:28:43Z", "bug_id": 39764, "creation_time": "2006-06-09T14:28:43Z", "is_private": false, "text": "Note that the AbstractVisualizer should be removed for this to work."}, {"count": 2, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "is_private": false, "id": 90014, "time": "2006-06-09T15:53:15Z", "bug_id": 39764, "creation_time": "2006-06-09T15:53:15Z", "text": "I've not noticed JMeter freezing.\n\nAre you talking about very large JTL files, perhaps?\n\nAlso, not sure one can call\n\nfilePanel.enableFile(true);\n\nfrom a thread other than the Gui, so this would need to be done in some other \nway."}, {"count": 3, "text": "Yes, my jtl file make some 10megs. \n\nFor the case of enableFile(true), it works for me. The purpose here is to\ndisable it while loading the file : if you can't load another file, then there\nshould be no problem.", "bug_id": 39764, "is_private": false, "id": 90089, "time": "2006-06-12T07:46:24Z", "creator": "glhez@glowria.fr", "creation_time": "2006-06-12T07:46:24Z", "tags": [], "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 39764, "is_private": false, "id": 90123, "creation_time": "2006-06-13T08:01:39Z", "time": "2006-06-13T08:01:39Z", "creator": "glhez@glowria.fr", "text": "Note, that I think it should be better to do this :\n\npublic void AbstractVisualizer.stateChanged(ChangeEvent e) {\n  // if ( filePanel.isEnabled() ) {\n  log.debug(\"getting new collector\");\n  collector = (ResultCollector) createTestElement();\n  filePanel.enableFile(false);\n  new Thread(new Runnable() {public void run() {\n    collector.loadExistingFile();\n    filePanel.enableFile(true);\n  }}).start();\n  // }\n}\n\nTo avoid calling multiple time the thread", "attachment_id": null}]