[{"count": 0, "tags": [], "bug_id": 29977, "attachment_id": null, "id": 60308, "time": "2004-07-08T15:43:02Z", "creator": "alexeys@inventigo.com", "creation_time": "2004-07-08T15:43:02Z", "is_private": false, "text": "ANT (and <ant>, and <antcall>) trims result from topoSort() by searching \nthe last mentioned target. It does not work. topoSort() should return \nonly targets that should be executed, so no trimming is required.\n\nThis is a test example:\n\n<project name=\"test\" default=\"all\" basedir=\".\">\n  <target name=\"t1\">\n    <echo>t1</echo>\n  </target>\n  <target name=\"t2\" depends=\"t1\">\n    <echo>t2</echo>\n  </target>\n  <target name=\"all\">\n    <antcall>\n      <target name=\"t2\"/>\n      <target name=\"t1\"/>\n    </antcall>\n  </target>\n  <target name=\"all2\">\n    <antcall>\n      <target name=\"t1\"/>\n      <target name=\"t2\"/>\n    </antcall>\n  </target>\n</project>\n\nOnly \"t1\" is executed when \"all\" is called, but both \"t1\" and \"t2\" with \"all2\"."}, {"count": 1, "tags": [], "bug_id": 29977, "attachment_id": null, "id": 60367, "time": "2004-07-09T15:54:13Z", "creator": "mbenson@apache.org", "creation_time": "2004-07-09T15:54:13Z", "is_private": false, "text": "Sorry I have been out of the @!#*! loop for a few days thanks to Yahoo! \nidentifying my ant mailing list messages as spam... took me over a week to \nnotice it is the sad thing.  Anyway, that's why these changes are only in HEAD, \nI will look at this ASAP.\n\nThanks,\nMatt"}, {"count": 2, "tags": [], "bug_id": 29977, "is_private": false, "text": "I didn't want to change the results of topoSort(String, Vector).  However, I \nmodified the signature of topoSort(String[], Vector) to topoSort(String[], \nVector, boolean)--the boolean \"returnAll\" indicates whether to return the \nentire list.  The preexisting method will specify true for this parameter, \nwhich should retain compatibility in the event that anyone is currently using \nthat method externally.  Ant's internals have been modified to use topoSort \nwith returnAll equal to false, simplifying execution of dependency lists.  A \nconvenience method topoSort(String, Vector, boolean) also exists.  New \ntestcases illustrating this bugrep have been added.  I believe this works as \nintended now in CVS HEAD.  Thanks!", "id": 61072, "time": "2004-07-23T20:23:27Z", "creator": "mbenson@apache.org", "creation_time": "2004-07-23T20:23:27Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 29977, "is_private": false, "text": "Thank you, it is working now.", "id": 61211, "time": "2004-07-28T04:41:27Z", "creator": "alexeys@inventigo.com", "creation_time": "2004-07-28T04:41:27Z", "attachment_id": null}]