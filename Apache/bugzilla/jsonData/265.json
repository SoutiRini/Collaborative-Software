[{"count": 0, "tags": [], "text": "If a client does not send enough data as part of a post\r\n(the client was killed and closed the connection before\r\nsending all of the data), mod_jk gets into an infinite loop\r\nand uses up all of the cpu cycles.  We traced the problem\r\nto jk_ajp12_worker.c.  A patch to fix this problem is:\r\n\r\n--- jk_ajp12_worker.c.orig    Tue Oct 24 09:44:46 2000\r\n+++ jk_ajp12_worker.c Tue Oct 24 09:52:31 2000\r\n@@ -465,6 +465,11 @@\r\n                     return JK_FALSE;\r\n                 }\r\n                 jk_log(l, JK_LOG_DEBUG, \"ajpv12_handle_request, sent %d bytes\\n\", this_time);\r\n+            } else if (this_time == 0) {\r\n+             jk_log(l, JK_LOG_ERROR,\r\n+                     \"In ajpv12_handle_request, Error: short read. content length is %d, read %d\\n\",\r\n+                     s->content_length, so_far);\r\n+             return JK_FALSE;\r\n             }\r\n         }\r\n     }", "attachment_id": null, "bug_id": 265, "id": 242, "time": "2000-11-28T13:05:45Z", "creator": "dev@tomcat.apache.org", "creation_time": "2000-11-28T13:05:45Z", "is_private": false}, {"count": 1, "tags": [], "creator": "bjv@motive.com", "attachment_id": null, "is_private": false, "id": 481, "time": "2001-02-01T13:47:36Z", "bug_id": 265, "creation_time": "2001-02-01T13:47:36Z", "text": "\n\n*** This bug has been marked as a duplicate of 264 ***"}]