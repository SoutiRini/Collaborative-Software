[{"count": 0, "tags": [], "bug_id": 52987, "attachment_id": null, "is_private": false, "id": 155287, "time": "2012-03-26T15:52:24Z", "creator": "laurentiu.lugojan@gmail.com", "creation_time": "2012-03-26T15:52:24Z", "text": "I extended Jmeter with ssh library and used it in a jmx script. If this script is called from ant using exec it will hang the exec. Only the scripts that uses ssh Jmeter library will hang ant exec.\n\nThe wrapper:\n-bash-3.00# cat testLau.sh\n#!/bin/bash\n\nant -debug -verbose -buildfile /work/Automation/Ant/testLau.xml\n/work/Automation/Ant/reports.sh\n/work/Automation/Ant/index_automation.sh\n-bash-3.00#\n\nThe ant file:\n-bash-3.00# cat testLau.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<project name=\"TestCase scripts\" default=\"Execute_Test\" basedir=\".\">\n<description>TestCase scripts</description>\n<property file=\"/work/Automation/Ant/antproject.properties\"/>\n<target name=\"Execute_Test\" description=\"TestCase scripts\">\n<record name=\"${log.dir}/Test.log\" loglevel=\"verbose\" action=\"start\"/>\n<echo message=\"CDR_MRBTSubscription_Desubscription cases ... [begin]\"></echo>\n<exec executable=\"${jmeter.path}\" spawn=\"false\">\n<arg line=\"-p /work/Automation/TestPlan/CFG/platform.properties -q /work/Automation/TestPlan/CFG/interface.properties -q /work/Automation/TestPlan/CFG/test.properties -n -t ${jmx.dir}/Tests/CDR_MRBTSubscription_Desubscription.jmx -l ${log.dir}/TestCase.results -j ${log.dir}/TestCase.jtl\"/>\n</exec>\n<echo message=\"CDR_MRBTSubscription_Desubscription cases ... [end]\"></echo>\n<record name=\"${log.dir}/Test.log\" action=\"stop\"/>\n<xslt\nin=\"${log.dir}/TestCase.results\"\nout=\"${log.dir}/Test.html\"\nstyle=\"${jmeter.home}/extras/jmeter-results-detail-report_21_tests.xsl\"/>\n</target>\n</project>\n\n-bash-3.00#\n\nThe output of the ant command:\n-bash-3.00# ./testLau.sh\nApache Ant(TM) version 1.8.3 compiled on February 26 2012\nBuildfile: /work/Automation/Ant/testLau.xml\nDetected Java version: 1.6 in: /jdk1.6.0_05/jre\nDetected OS: SunOS\nparsing buildfile /work/Automation/Ant/testLau.xml with URI = file:/work/Automation/Ant/testLau.xml\nProject base dir set to: /work/Automation/Ant\nparsing buildfile jar:file:/usr/local/apache-ant-1.8.3/lib/ant.jar!/org/apache/tools/ant/antlib.xml with URI = jar:file:/usr/local/apache-ant-1.8.3/lib/ant.jar!/org/apache/tools/ant/antlib.xml from a zip file\n [property] Loading /work/Automation/Ant/antproject.properties\nBuild sequence for target(s) `Execute_Test' is [Execute_Test]\nComplete build sequence is [Execute_Test, ]\n\nExecute_Test:\n     [echo] CDR_MRBTSubscription_Desubscription cases ... [begin]\n     [exec] Current OS is SunOS\n     [exec] Executing '/usr/local/jakarta-jmeter-2.5.1/bin/jmeter.sh' with arguments:\n     [exec] '-p'\n     [exec] '/work/Automation/TestPlan/CFG/platform.properties'\n     [exec] '-q'\n     [exec] '/work/Automation/TestPlan/CFG/interface.properties'\n     [exec] '-q'\n     [exec] '/work/Automation/TestPlan/CFG/test.properties'\n     [exec] '-n'\n     [exec] '-t'\n     [exec] '/work/Automation/TestPlan/Tests/CDR_MRBTSubscription_Desubscription.jmx'\n     [exec] '-l'\n     [exec] '/work/Automation/Log/TestCase.results'\n     [exec] '-j'\n     [exec] '/work/Automation/Log/TestCase.jtl'\n     [exec]\n     [exec] The ' characters around the executable and arguments are\n     [exec] not part of the command.\n     [exec] Created the tree successfully using /work/Automation/TestPlan/Tests/CDR_MRBTSubscription_Desubscription.jmx\n     [exec] Starting the test @ Mon Mar 26 17:50:08 EEST 2012 (1332773408762)\n     [exec] Waiting for possible shutdown message on port 4445\n     [exec] 26/03/2012 - 17:50:11 [ INFO ] ------[CDR Subs / Unsubs] START------\n     [exec] 26/03/2012 - 17:50:12 [ DEBUG ] DB query: select PROPERTY_VALUE from PROFILE_MD_PARAMETER where PROPERTY_NAME='DEFAULT_BILLING_TYPE'\n     [exec] 26/03/2012 - 17:50:12 [ DEBUG ] billingType: 1\n     [exec] 26/03/2012 - 17:50:12 [ DEBUG ] transformed billingType: 2\n     [exec] 26/03/2012 - 17:50:12 [ DEBUG ] DB query: select PROPERTY_VALUE from PROFILE_MD_PARAMETER where PROPERTY_NAME='DEFAULT_COMMERCIAL_MODEL'\n     [exec] 26/03/2012 - 17:50:12 [ DEBUG ] CM: 1\n     [exec] 26/03/2012 - 17:50:12 [ DEBUG ] DB query: select SUB_FEE_FLAG from COMMERCIAL_MODEL where COMMERCIAL_MODEL='1'\n     [exec] 26/03/2012 - 17:50:12 [ DEBUG ] sPrice: 1\n     [exec] 26/03/2012 - 17:50:12 [ DEBUG ] FS5000_PROVISIONING_ENABLED: TRUE\n     [exec] 26/03/2012 - 17:50:12 [ DEBUG ] ALLOW_MEDIATION_DEVICE_INTEGRATION: TRUE\n     [exec] 26/03/2012 - 17:50:12 [ DEBUG ] Action Channel sent trough API: 3\n     [exec] 26/03/2012 - 17:50:12 [ INFO ] TDM user --- Subscription complete =1\n     [exec] 26/03/2012 - 17:50:31 [ DEBUG ] API request: <ProvisionInput><action>MRBTSubscription</action><userId>mrbt</userId><password>mrbt123</password><msisdn>5500000030</msisdn><language>EN</language><notificationType>0</notificationType><notificationInfo></notificationInfo><cosId></cosId><homeTimeZone></homeTimeZone><defaultRbt></defaultRbt><prepaid></prepaid><networkGroup></networkGroup><complete>1</complete><min></min><interface>WEB</interface><notificationSMS>5500000030</notificationSMS></ProvisionInput>\n     [exec] 26/03/2012 - 17:50:31 [ DEBUG ] API response: <?xml version=\"1.0\" encoding=\"UTF-8\"?><ProvisionOutput><returnCode>00</returnCode><description>Request Accepted</description><commercialModel>1</commercialModel></ProvisionOutput>\n     [exec] 26/03/2012 - 17:50:31 [ DEBUG ] Extracted response code: 00\n     [exec] 26/03/2012 - 17:50:31 [ INFO ] TDM user --- Subscription complete =2\n     [exec] 26/03/2012 - 17:51:23 [ DEBUG ] API request: <ProvisionInput><action>MRBTSubscription</action><userId>mrbt</userId><password>mrbt123</password><msisdn>5500000031</msisdn><language>EN</language><notificationType>0</notificationType><notificationInfo></notificationInfo><cosId></cosId><homeTimeZone></homeTimeZone><defaultRbt></defaultRbt><prepaid></prepaid><networkGroup></networkGroup><complete>2</complete><min></min><interface>WEB</interface><notificationSMS>5500000031</notificationSMS></ProvisionInput>\n     [exec] 26/03/2012 - 17:51:23 [ DEBUG ] API response: <?xml version=\"1.0\" encoding=\"UTF-8\"?><ProvisionOutput><returnCode>00</returnCode><description>Request Accepted</description><commercialModel>1</commercialModel></ProvisionOutput>\n     [exec] 26/03/2012 - 17:51:23 [ DEBUG ] Extracted response code: 00\n     [exec] 26/03/2012 - 17:51:23 [ INFO ] Platform allows IMS users\n     [exec] 26/03/2012 - 17:51:23 [ INFO ] starting IMS scenarios\n     [exec] 26/03/2012 - 17:51:23 [ INFO ] IMS user --- Subscription complete =1\n     [exec] 26/03/2012 - 17:51:49 [ DEBUG ] API request: <ProvisionInput><action>MRBTSubscription</action><userId>mrbt</userId><password>mrbt123</password><msisdn>auto0030@alu.com</msisdn><language>EN</language><notificationType>1</notificationType><notificationInfo>auto0030@alu.com</notificationInfo><cosId></cosId><homeTimeZone></homeTimeZone><defaultRbt></defaultRbt><prepaid></prepaid><networkGroup></networkGroup><complete>1</complete><min></min><interface>WEB</interface><notificationSMS></notificationSMS></ProvisionInput>\n     [exec] 26/03/2012 - 17:51:49 [ DEBUG ] API response: <?xml version=\"1.0\" encoding=\"UTF-8\"?><ProvisionOutput><returnCode>00</returnCode><description>Request Accepted</description><commercialModel>1</commercialModel></ProvisionOutput>\n     [exec] 26/03/2012 - 17:51:49 [ DEBUG ] Extracted response code: 00\n     [exec] 26/03/2012 - 17:51:49 [ INFO ] IMS user --- Subscription complete =2\n     [exec] 26/03/2012 - 17:54:05 [ DEBUG ] API request: <ProvisionInput><action>MRBTSubscription</action><userId>mrbt</userId><password>mrbt123</password><msisdn>auto0031@alu.com</msisdn><language>EN</language><notificationType>1</notificationType><notificationInfo>auto0031@alu.com</notificationInfo><cosId></cosId><homeTimeZone></homeTimeZone><defaultRbt></defaultRbt><prepaid></prepaid><networkGroup></networkGroup><complete>2</complete><min></min><interface>WEB</interface><notificationSMS></notificationSMS></ProvisionInput>\n     [exec] 26/03/2012 - 17:54:05 [ DEBUG ] API response: <?xml version=\"1.0\" encoding=\"UTF-8\"?><ProvisionOutput><returnCode>00</returnCode><description>Request Accepted</description><commercialModel>1</commercialModel></ProvisionOutput>\n     [exec] 26/03/2012 - 17:54:05 [ DEBUG ] Extracted response code: 00\n     [exec] 26/03/2012 - 17:54:05 [ DEBUG ] 5 minutes delay start\n     [exec] 26/03/2012 - 17:59:05 [ DEBUG ] 5 minutes delay end\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] ssh request: grep 5500000030 /cms/bgw/billing/backup/tal/*\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] result from ssh: /cms/bgw/billing/backup/tal/BillingReq_PRBT_20120326181317.txt:5500000030,2,01,PRBT,0,1,20120326181238\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] extracted path and filename: /cms/bgw/billing/backup/tal/BillingReq_PRBT_20120326181317.txt\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] results after parsing below:\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] parsed msisdn: 5500000030\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] parsed billingType: 2\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] parsed action: 01\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] parsed CP ID: PRBT\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] parsed settlement ratio: 0\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] parsed price: 1\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] parsed date: 20120326181238\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] Validate Rsponse\n     [exec] 26/03/2012 - 17:59:08 [ DEBUG ] Validation was sucessful!\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] ssh request: grep 5500000030 /cms/profile/billing/backup/prbtprov/*\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] result from ssh: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326181317_819.txt:5500000030,1,1,3,20120326181247\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] extracted path and filename: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326181317_819.txt\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] results after parsing below:\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] parsed msisdn: 5500000030\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] parsed Action Status: 1\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] parsed Monthly Fee Package Type: 1\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] parsed Action Channel: 3\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] parsed Time Stamp: 20120326181247\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] Validate Rsponse\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] Validation was sucessful!\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] ssh request: grep 5500000031 /cms/bgw/billing/backup/tal/*\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] result from ssh: /cms/bgw/billing/backup/tal/BillingReq_PRBT_20120326181819.txt:5500000031,2,01,PRBT,0,1,20120326181327\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] extracted path and filename: /cms/bgw/billing/backup/tal/BillingReq_PRBT_20120326181819.txt\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] results after parsing below:\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] parsed msisdn: 5500000031\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] parsed billingType: 2\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] parsed action: 01\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] parsed CP ID: PRBT\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] parsed settlement ratio: 0\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] parsed price: 1\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] parsed date: 20120326181327\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] Validate Rsponse\n     [exec] 26/03/2012 - 17:59:09 [ DEBUG ] Validation was sucessful!\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] ssh request: grep 5500000031 /cms/profile/billing/backup/prbtprov/*\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] result from ssh: /cms/bgw/billing/backup/tal/BillingReq_PRBT_20120326181819.txt:5500000031,2,01,PRBT,0,1,20120326181327\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] extracted path and filename: /cms/bgw/billing/backup/tal/BillingReq_PRBT_20120326181819.txt\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] results after parsing below:\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] parsed msisdn: 5500000031\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] parsed Action Status: 2\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] parsed Monthly Fee Package Type: 01\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] parsed Action Channel: PRBT\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] parsed Time Stamp: 0\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] Validate Rsponse\n     [exec] 26/03/2012 - 17:59:10 [ ERROR ] action status verification failed!!!!!!!!!!\n     [exec] 26/03/2012 - 17:59:10 [ ERROR ] expected action status: 1\n     [exec] 26/03/2012 - 17:59:10 [ ERROR ] Monthly Fee Package Type verification failed!!!!!!!!!!\n     [exec] 26/03/2012 - 17:59:10 [ ERROR ] expected Monthly Fee Package Type: 1\n     [exec] 26/03/2012 - 17:59:10 [ ERROR ] Action Channel verification failed!!!!!!!!!!\n     [exec] 26/03/2012 - 17:59:10 [ ERROR ] expected Action Channel: 3\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] ssh request: grep auto0030@alu.com /cms/bgw/billing/backup/tal/*\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] result from ssh: /cms/bgw/billing/backup/tal/BillingReq_PRBT_20120326181819.txt:auto0030@alu.com,2,01,PRBT,0,1,20120326181403\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] extracted path and filename: /cms/bgw/billing/backup/tal/BillingReq_PRBT_20120326181819.txt\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] results after parsing below:\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] parsed msisdn: auto0030@alu.com\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] parsed billingType: 2\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] parsed action: 01\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] parsed CP ID: PRBT\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] parsed settlement ratio: 0\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] parsed price: 1\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] parsed date: 20120326181403\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] Validate Rsponse\n     [exec] 26/03/2012 - 17:59:10 [ DEBUG ] Validation was sucessful!\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] ssh request: grep auto0030@alu.com /cms/profile/billing/backup/prbtprov/*\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] result from ssh: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326181622_820.txt:auto0030@alu.com,1,1,3,20120326181405\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] extracted path and filename: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326181622_820.txt\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] results after parsing below:\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] parsed msisdn: auto0030@alu.com\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] parsed Action Status: 1\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] parsed Monthly Fee Package Type: 1\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] parsed Action Channel: 3\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] parsed Time Stamp: 20120326181405\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] Validate Rsponse\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] Validation was sucessful!\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] ssh request: grep auto0031@alu.com /cms/bgw/billing/backup/tal/*\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] result from ssh: /cms/bgw/billing/backup/tal/BillingReq_PRBT_20120326181819.txt:auto0031@alu.com,2,01,PRBT,0,1,20120326181529\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] extracted path and filename: /cms/bgw/billing/backup/tal/BillingReq_PRBT_20120326181819.txt\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] results after parsing below:\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] parsed msisdn: auto0031@alu.com\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] parsed billingType: 2\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] parsed action: 01\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] parsed CP ID: PRBT\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] parsed settlement ratio: 0\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] parsed price: 1\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] parsed date: 20120326181529\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] Validate Rsponse\n     [exec] 26/03/2012 - 17:59:11 [ DEBUG ] Validation was sucessful!\n     [exec] 26/03/2012 - 17:59:12 [ DEBUG ] ssh request: grep auto0031@alu.com /cms/profile/billing/backup/prbtprov/*\n     [exec] 26/03/2012 - 17:59:12 [ DEBUG ] result from ssh: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326181622_820.txt:auto0031@alu.com,1,1,3,20120326181547\n     [exec] 26/03/2012 - 17:59:12 [ DEBUG ] extracted path and filename: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326181622_820.txt\n     [exec] 26/03/2012 - 17:59:12 [ DEBUG ] results after parsing below:\n     [exec] 26/03/2012 - 17:59:12 [ DEBUG ] parsed msisdn: auto0031@alu.com\n     [exec] 26/03/2012 - 17:59:12 [ DEBUG ] parsed Action Status: 1\n     [exec] 26/03/2012 - 17:59:12 [ DEBUG ] parsed Monthly Fee Package Type: 1\n     [exec] 26/03/2012 - 17:59:12 [ DEBUG ] parsed Action Channel: 3\n     [exec] 26/03/2012 - 17:59:12 [ DEBUG ] parsed Time Stamp: 20120326181547\n     [exec] 26/03/2012 - 17:59:12 [ DEBUG ] Validate Rsponse\n     [exec] 26/03/2012 - 17:59:12 [ DEBUG ] Validation was sucessful!\n     [exec] 26/03/2012 - 17:59:12 [ INFO ] TDM user --- Unsubscription complete =1\n     [exec] 26/03/2012 - 17:59:30 [ DEBUG ] API request: <ProvisionInput><action>Desubscription</action><userId>mrbt</userId><password>mrbt123</password><msisdn>5500000030</msisdn><complete>1</complete><interface>WEB</interface><reason>1</reason></ProvisionInput>\n     [exec] 26/03/2012 - 17:59:30 [ DEBUG ] API response: <?xml version=\"1.0\" encoding=\"UTF-8\"?><ProvisionOutput><returnCode>00</returnCode><description>Request Accepted</description></ProvisionOutput>\n     [exec] 26/03/2012 - 17:59:30 [ DEBUG ] Extracted response code: 00\n     [exec] 26/03/2012 - 17:59:30 [ INFO ] TDM user --- Desubscription complete =2\n     [exec] 26/03/2012 - 18:00:07 [ DEBUG ] API request: <ProvisionInput><action>Desubscription</action><userId>mrbt</userId><password>mrbt123</password><msisdn>5500000031</msisdn><complete>2</complete><interface>WEB</interface><reason>1</reason></ProvisionInput>\n     [exec] 26/03/2012 - 18:00:07 [ DEBUG ] API response: <?xml version=\"1.0\" encoding=\"UTF-8\"?><ProvisionOutput><returnCode>00</returnCode><description>Request Accepted</description></ProvisionOutput>\n     [exec] 26/03/2012 - 18:00:07 [ DEBUG ] Extracted response code: 00\n     [exec] 26/03/2012 - 18:00:07 [ INFO ] Platform allows IMS users\n     [exec] 26/03/2012 - 18:00:07 [ INFO ] starting IMS scenarios\n     [exec] 26/03/2012 - 18:00:07 [ INFO ] IMS user --- Desubscription complete =1\n     [exec] 26/03/2012 - 18:00:16 [ DEBUG ] API request: <ProvisionInput><action>Desubscription</action><userId>mrbt</userId><password>mrbt123</password><msisdn>auto0030@alu.com</msisdn><complete>1</complete><interface>WEB</interface><reason>1</reason></ProvisionInput>\n     [exec] 26/03/2012 - 18:00:16 [ DEBUG ] API response: <?xml version=\"1.0\" encoding=\"UTF-8\"?><ProvisionOutput><returnCode>00</returnCode><description>Request Accepted</description></ProvisionOutput>\n     [exec] 26/03/2012 - 18:00:16 [ DEBUG ] Extracted response code: 00\n     [exec] 26/03/2012 - 18:00:16 [ INFO ] IMS user --- Desubscription complete =2\n     [exec] 26/03/2012 - 18:00:34 [ DEBUG ] API request: <ProvisionInput><action>Desubscription</action><userId>mrbt</userId><password>mrbt123</password><msisdn>auto0031@alu.com</msisdn><complete>2</complete><interface>WEB</interface><reason>1</reason></ProvisionInput>\n     [exec] 26/03/2012 - 18:00:34 [ DEBUG ] API response: <?xml version=\"1.0\" encoding=\"UTF-8\"?><ProvisionOutput><returnCode>00</returnCode><description>Request Accepted</description></ProvisionOutput>\n     [exec] 26/03/2012 - 18:00:34 [ DEBUG ] Extracted response code: 00\n     [exec] 26/03/2012 - 18:00:34 [ DEBUG ] 5 minutes delay start\n     [exec] 26/03/2012 - 18:05:34 [ DEBUG ] 5 minutes delay end\n     [exec] 26/03/2012 - 18:05:35 [ DEBUG ] ssh request: grep 5500000030 /cms/profile/billing/backup/prbtprov/*\n     [exec] 26/03/2012 - 18:05:35 [ DEBUG ] result from ssh: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326182223_821.txt:5500000030,2,1,3,20120326182146\n     [exec] 26/03/2012 - 18:05:35 [ DEBUG ] extracted path and filename: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326182223_821.txt\n     [exec] 26/03/2012 - 18:05:35 [ DEBUG ] results after parsing below:\n     [exec] 26/03/2012 - 18:05:35 [ DEBUG ] parsed msisdn: 5500000030\n     [exec] 26/03/2012 - 18:05:35 [ DEBUG ] parsed Action Status: 2\n     [exec] 26/03/2012 - 18:05:35 [ DEBUG ] parsed Monthly Fee Package Type: 1\n     [exec] 26/03/2012 - 18:05:35 [ DEBUG ] parsed Action Channel: 3\n     [exec] 26/03/2012 - 18:05:35 [ DEBUG ] parsed Time Stamp: 20120326182146\n     [exec] 26/03/2012 - 18:05:35 [ DEBUG ] Validate Rsponse\n     [exec] 26/03/2012 - 18:05:35 [ DEBUG ] Validation was sucessful!\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] ssh request: grep 5500000031 /cms/profile/billing/backup/prbtprov/*\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] result from ssh: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326182223_821.txt:5500000031,2,1,3,20120326182155\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] extracted path and filename: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326182223_821.txt\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] results after parsing below:\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] parsed msisdn: 5500000031\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] parsed Action Status: 2\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] parsed Monthly Fee Package Type: 1\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] parsed Action Channel: 3\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] parsed Time Stamp: 20120326182155\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] Validate Rsponse\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] Validation was sucessful!\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] ssh request: grep auto0030@alu.com /cms/profile/billing/backup/prbtprov/*\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] result from ssh: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326182251_822.txt:auto0030@alu.com,2,1,3,20120326182232\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] extracted path and filename: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326182251_822.txt\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] results after parsing below:\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] parsed msisdn: auto0030@alu.com\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] parsed Action Status: 2\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] parsed Monthly Fee Package Type: 1\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] parsed Action Channel: 3\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] parsed Time Stamp: 20120326182232\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] Validate Rsponse\n     [exec] 26/03/2012 - 18:05:36 [ DEBUG ] Validation was sucessful!\n     [exec] 26/03/2012 - 18:05:37 [ DEBUG ] ssh request: grep auto0031@alu.com /cms/profile/billing/backup/prbtprov/*\n     [exec] 26/03/2012 - 18:05:37 [ DEBUG ] result from ssh: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326182251_822.txt:auto0031@alu.com,2,1,3,20120326182242\n     [exec] 26/03/2012 - 18:05:37 [ DEBUG ] extracted path and filename: /cms/profile/billing/backup/prbtprov/Prov_PRBT_Postpaid_20120326182251_822.txt\n     [exec] 26/03/2012 - 18:05:37 [ DEBUG ] results after parsing below:\n     [exec] 26/03/2012 - 18:05:37 [ DEBUG ] parsed msisdn: auto0031@alu.com\n     [exec] 26/03/2012 - 18:05:37 [ DEBUG ] parsed Action Status: 2\n     [exec] 26/03/2012 - 18:05:37 [ DEBUG ] parsed Monthly Fee Package Type: 1\n     [exec] 26/03/2012 - 18:05:37 [ DEBUG ] parsed Action Channel: 3\n     [exec] 26/03/2012 - 18:05:37 [ DEBUG ] parsed Time Stamp: 20120326182242\n     [exec] 26/03/2012 - 18:05:37 [ DEBUG ] Validate Rsponse\n     [exec] 26/03/2012 - 18:05:37 [ DEBUG ] Validation was sucessful!\n     [exec] 26/03/2012 - 18:05:37 [ INFO ] ------[CDR Subs / Unsubs] END------\n     [exec] Tidying up ...    @ Mon Mar 26 18:05:37 EEST 2012 (1332774337780)\n     [exec] ... end of run\n^Ccat: cannot open /work/Automation/Reports/172.18.5.169/2012_03_26_18_23_45/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_02_23_15_40_06/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_02_23_16_04_33/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_02_23_16_50_54/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_02_23_17_27_53/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_03_26_15_10_29/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_03_26_15_47_39/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_03_26_16_08_00/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_03_26_16_43_23/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_03_26_16_44_35/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_03_26_17_04_29/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_03_26_17_21_17/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_03_26_17_36_14/cmsversion.txt\ncat: cannot open /work/Automation/Reports/172.18.5.169/2012_03_26_18_23_45/cmsversion.txt\n-bash-3.00#\n\nPS: the cannot open errors are ok and come from index_automation.sh. The problem is that ant will hang after \"[exec] ... end of run\". I used ctrl+c to exit."}, {"count": 1, "tags": [], "bug_id": 52987, "attachment_id": null, "id": 155289, "time": "2012-03-26T15:55:01Z", "creator": "laurentiu.lugojan@gmail.com", "creation_time": "2012-03-26T15:55:01Z", "is_private": false, "text": "The issue is valid on Ant 1.8.2 and 1.8.3"}, {"count": 2, "tags": [], "bug_id": 52987, "attachment_id": null, "is_private": false, "id": 155296, "time": "2012-03-27T03:59:26Z", "creator": "bodewig@apache.org", "creation_time": "2012-03-27T03:59:26Z", "text": "The most likely reason is the forked process waits for input, like asking for a passphrase.  To me this looks like something that is easier to resolve on the user list than a bug in Ant."}, {"count": 3, "tags": [], "text": "(In reply to comment #2)\n> The most likely reason is the forked process waits for input, like asking for a\n> passphrase.  To me this looks like something that is easier to resolve on the\n> user list than a bug in Ant.\n\nHi Stefan,\n\nI am glad to do a workaround if possible but I don't know how. spawn=\"true\" doesn't help because the shell scripts from my wrapper are dependent on the results of the jmx script. I also tried with inputstring=\"\" without any success. It's ok for me if there will be no ant fix and just a workaround. I need this ant script to be independent because it's a part of automated validation.\n\nThanks and regards,\nLaurentiu.", "is_private": false, "id": 155299, "creator": "laurentiu.lugojan@gmail.com", "time": "2012-03-27T06:11:46Z", "bug_id": 52987, "creation_time": "2012-03-27T06:11:46Z", "attachment_id": null}]