[{"count": 0, "tags": [], "text": "I'm using version 1.3.1 (it wasn't listed on the Web Bug Submission form, so I \nchose 'unspecified').\n\nIf two or more RollingFIleAppenders are writing to the same file, no backups \nare created when the file rolls over.  Worse, all previous backups are deleted \nthe first time the log rolls over!\n\nI see this on NT4, SP6.  I have not tried other platforms.\n\nThe URL above (ftp://www.rebey.com/pub/AppenderBug.java) contains a demo of the \nproblem.  If you run it (\"javac AppenderBug.java;java AppenderBug\"), it will \nlog to a file in the current direcrory.  \n\n- By default it runs two threads and loggers, and FAILS to *correctly* roll \nover at 100KB.  The log file DOES roll back to 0 bytes when it hits 100K, but \nno backups are created and any existing backups are deleted!  \n\n- To see the \"correct\" behavior, re-reun the program with any command line \nargument (java AppenderBug foo).  This will invoke the program with only 1 \nthread, and the log will work correctly, rolling over at 100K and creating 3 \nbackups.", "attachment_id": null, "id": 12303, "creator": "Bill.Rebey@Quovadx.com", "time": "2002-03-25T16:31:43Z", "bug_id": 7451, "creation_time": "2002-03-25T16:31:43Z", "is_private": false}, {"count": 1, "tags": [], "creator": "ceki@apache.org", "attachment_id": null, "is_private": false, "id": 14714, "time": "2002-04-25T13:19:53Z", "bug_id": 7451, "creation_time": "2002-04-25T13:19:53Z", "text": "\nBill,\n\nThank you for this excellent test case. However, none of the Appenders, \nincluding the RollingFileAppender, support multiple instances using the same\nsystem resource. In particular, you can't have two RollingFileAppender logging \nto the same file. \n\nThe fact that it does not work correctly is interesting but not surprising. As \nsuch, I am marking this bug report as invalid. I also encourage you to post \nthis report to the log4j-user list as information to other users. Thanks, Ceki"}]