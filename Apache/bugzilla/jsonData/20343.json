[{"count": 0, "tags": [], "bug_id": 20343, "attachment_id": null, "text": "Hi\n\nI configured -and compiled- a apache httpd 2.0.45 on my AIX servers (aix 4.3.1) \nwithout any trouble. Today I tried to configure the 2.0.46 version on the same \nAIX server and got the following error:\n\nchecking how to run the C++ preprocessor... /lib/cpp\nconfigure: error: C++ preprocessor \"/lib/cpp\" fails sanity check\nconfigure failed for srclib/apr\n\nI tried to configure it using the following command:\n\n./configure --prefix=/appl/apache2 --enable-modules=\"ssl\" --with-\nssl=/appl/openssl-0.9.7b\n\nI noted that the APR was updated in the 2.0.46\n\n\nThom", "id": 38009, "time": "2003-05-29T22:55:47Z", "creator": "thom@vdb.nl", "creation_time": "2003-05-29T22:55:47Z", "is_private": false}, {"count": 1, "text": "This must be a gift of libtool 1.5.  The 2.0.46 tarball has libtool 1.5 instead\nof libtool 1.42.  There may indeed be something broken about /lib/cpp w.r.t. C++\ncode, but Apache doesn't care, and a configure I generated with 1.4.2 doesn't\nhave such a check in it.  (see srclib/apr/configure)\n\nlooks like the options are\n\ndo whatever it takes to make libtool happy with your C++ preprocessor.\n\nI think you can use CXX and CXXCPP environment variables to point to a different\nC++ front-end\n\nor\n\ndo make extraclean followed by ./buildconf so that the libtool on your system is\nused\n\n", "bug_id": 20343, "attachment_id": null, "id": 38012, "time": "2003-05-29T23:29:29Z", "creator": "trawick@apache.org", "creation_time": "2003-05-29T23:29:29Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 20343, "text": "I hope you were able to find a reasonable work-around?\n\nThere is a discussion on libtool@gnu.org about some of the C++ handling in\nlibtool 1.5.  Hopefully something that will come out of the discussion is either:\n\nhow to tell current libtool 1.5 that we don't care about C++\n\nor\n\nhow to modify libtool so we can tell it not to care\n", "id": 38216, "time": "2003-06-02T22:54:17Z", "creator": "trawick@apache.org", "creation_time": "2003-06-02T22:54:17Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 20343, "text": "No suc6 so far (buzy with other things mainly):\n\nAnyway, My AIX machine lacks all kind of utilities to do the buildconf thing \n(autoconf, m4 etc.). I have to download and compile them one by one to find the \nnext one. BTW make extraclean is not supported by 2.0.46 anymore.\n\nThe moment I get a bit of time, I will start hacking the configure script to \ncreate a work around", "id": 38738, "time": "2003-06-11T23:09:30Z", "creator": "thom@vdb.nl", "creation_time": "2003-06-11T23:09:30Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 20343, "attachment_id": null, "text": ">BTW make extraclean is not supported by 2.0.46 anymore\n\nWhat you're encountering is the issue that \"make extraclean\" doesn't work if\nconfigure didn't complete (since there is no makefile).  Right?  This never\nworked with any release.  Manually erasing any autoconf-created cache files is\nsometimes all you need to recover properly.  Doing a fresh unpacking of the\ntarball works great too.\n\nI will suggest that we do not use libtool 1.5 until it has a way to disable\nC++-related checking.  The libtool developers are currently discussing how that\nshould be implemented, and I have no idea when there would be a libtool release\nthat offers that feature.\n", "id": 38770, "time": "2003-06-12T17:00:05Z", "creator": "trawick@apache.org", "creation_time": "2003-06-12T17:00:05Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 20343, "attachment_id": null, "text": "There is general agreement that we'll build upcoming releases with libtool 1.4.3\nsince\n\n* C++ issues shouldn't cause Apache build problems\n* we don't know of any libtool fixes our users need that aren't in 1.4.3\n\nThe version used could change if a great number of users need something in\n1.5.x, but with a little luck libtool will be able to ignore C++ issues by then.\n\nThanks for bringing this to our attention!\n", "id": 38773, "time": "2003-06-12T19:08:20Z", "creator": "trawick@apache.org", "creation_time": "2003-06-12T19:08:20Z", "is_private": false}]