[{"count": 0, "tags": [], "creator": "adam.hardy@cyberspaceroad.com", "text": "This involves deploying a webapp in the root context with the following context\nconfig:\n\n<Context path=\"\" docBase=\"test.war\">\n\nDeploying this with the context.xml file in META-INF in the war, everything is\nOK. If I then restart tomcat, tomcat deploys the webapp in a second context as\nwell, i.e. 'test'.\n\nIf I remove context.xml from the war file, it deploys ordinarily as expected in\nthe 'test' context. \n\nIf I put the context config into the server.xml, the problem also occurs.\n\nMy <host> declaration is v. simple:\n\n<Host name=\"localhost\" debug=\"0\" appBase=\"webapps\">", "id": 52022, "time": "2004-02-09T22:56:52Z", "bug_id": 26810, "creation_time": "2004-02-09T22:56:52Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "remm@apache.org", "text": "The auto deployer does the deployment to \"test\". Disable the auto deployer if\nyou don't like it. This is not a bug.", "id": 52024, "time": "2004-02-09T23:08:14Z", "bug_id": 26810, "creation_time": "2004-02-09T23:08:14Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "adam.hardy@cyberspaceroad.com", "attachment_id": null, "id": 52026, "time": "2004-02-09T23:51:48Z", "bug_id": 26810, "creation_time": "2004-02-09T23:51:48Z", "is_private": false, "text": "I tested with autoDeploy=\"false\" as an attribute on the <host> tag.  The issue\nstill occurs. "}, {"count": 3, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 52038, "time": "2004-02-10T09:18:36Z", "bug_id": 26810, "creation_time": "2004-02-10T09:18:36Z", "is_private": false, "text": "Don't forget deployOnStartup ;) "}, {"count": 4, "tags": [], "text": "As Remy has shown, it can be inhibited, but at the cost of losing the autoDeploy\nand deployOnStartup behaviours. \n\nI cannot see any advantage to this behaviour, but I can see some disadvantages\nto it. \n\n(1) the 2nd context will consume resources \n(2) if an inquisitive surfer finds the 2nd context, the webapp may not work\nbecause it is not in the root context and its intra-app URLs may break. \nAnd of course (3) it's not impressive ;) - Tomcat's behaviour with this\ndouble-deployment is counter-intuitive, arcane and obscure. \n\nI thus rest my case before the jury: it is a bug. ", "attachment_id": null, "id": 52043, "creation_time": "2004-02-10T10:21:46Z", "time": "2004-02-10T10:21:46Z", "creator": "adam.hardy@cyberspaceroad.com", "bug_id": 26810, "is_private": false}, {"count": 5, "tags": [], "creator": "remm@apache.org", "text": "Yes, I know. I perfectly understand the \"problem\". While you find it counter\nintuitive, I find it straightforward (deployer sees something in the host\nappBase, and consequently deploys it). Adding complexity to try to check wether\nthe user might have already deployed this war is not good.\nNote: I know a .war will be unpacked in appBase, but there's little choice.\n\nI recommend that rather than trying to make magical things happen, you stick to\nthe basics, and have your war name match your context path.\n\nSo:\n- this is not a bug\n- this will not be fixed", "id": 52055, "time": "2004-02-10T14:24:30Z", "bug_id": 26810, "creation_time": "2004-02-10T14:24:30Z", "is_private": false, "attachment_id": null}]