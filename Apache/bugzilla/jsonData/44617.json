[{"count": 0, "tags": [], "creator": "sean.mullan@oracle.com", "text": "org.apache.xml.security.exceptions.XMLSecurityRuntimeException: Current Node: [#text: YWBCmDfU8JQVl3odJ358jqjZn5YCRkBN8D//t+Kd2YIVJvwCMO8uv9B1+t1sJkMjgF5R4fJbVRj4\nbXW54pSR3n1nKeUSz27HavigQs7oK+UAIDrNPHkW/5ybOtYzOJftHak0IGDTehFiYOVGPNTiuzG3\nWKui1eRbw/V4N0n89AE=], type: 3\nOriginal Exception was java.lang.RuntimeException: Could not resolve the node to a handle\n\tat org.apache.xml.security.transforms.implementations.TransformXPath$XPathNodeFilter.isNodeInclude(Unknown Source)\n\tat org.apache.xml.security.c14n.implementations.CanonicalizerBase.isVisible(Unknown Source)\n\tat org.apache.xml.security.c14n.implementations.CanonicalizerBase.canonicalizeXPathNodeSet(Unknown Source)\n\tat org.apache.xml.security.c14n.implementations.CanonicalizerBase.engineCanonicalizeXPathNodeSetInternal(Unknown Source)\n\tat org.apache.xml.security.c14n.implementations.CanonicalizerBase.engineCanonicalize(Unknown Source)\n\tat org.apache.xml.security.transforms.implementations.TransformC14NWithComments.enginePerformTransform(Unknown Source)\n\tat org.apache.xml.security.transforms.Transform.performTransform(Unknown Source)\n\tat org.apache.xml.security.transforms.Transforms.performTransforms(Unknown Source)\n\tat org.apache.xml.security.signature.Reference.getContentsAfterTransformation(Unknown Source)\n\tat org.apache.xml.security.signature.Reference.dereferenceURIandPerformTransforms(Unknown Source)\n\tat org.apache.xml.security.signature.Reference.calculateDigest(Unknown Source)\n\tat org.apache.xml.security.signature.Reference.verify(Unknown Source)\n\tat org.apache.xml.security.signature.Manifest.verifyReferences(Unknown Source)\n\tat org.apache.xml.security.signature.SignedInfo.verify(Unknown Source)\n\tat org.apache.xml.security.signature.XMLSignature.checkSignatureValue(Unknown Source)", "id": 114681, "time": "2008-03-17T06:36:47Z", "bug_id": 44617, "creation_time": "2008-03-17T06:36:47Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "sean.mullan@oracle.com", "attachment_id": null, "id": 114682, "time": "2008-03-17T06:57:43Z", "bug_id": 44617, "creation_time": "2008-03-17T06:57:43Z", "is_private": false, "text": "Fixed in Head. A new regression test case has been added (thanks to Frank\nCornelis). \n\nThe problem was caused by the fix for 42061 (Method to disable XMLUtils.addReturnToElement). In that fix, the DOM tree was modified to add return characters after the XPath transform had been processed when generating the signature. When the XPath transform was processed when validating the signature, an XMLSecurityRuntime exception was thrown because the XPath implementation had cached references to the nodes the first time it was processed and now they no longer resolved to the same objects."}, {"count": 2, "tags": [], "creator": "sean.mullan@oracle.com", "attachment_id": null, "id": 114925, "time": "2008-03-24T13:08:52Z", "bug_id": 44617, "creation_time": "2008-03-24T13:08:52Z", "is_private": false, "text": "An additional, similar problem was discovered by Frank and the problem was in\nElementProxy.addBase64Text. I have also fixed this and the fix will be available in 1.4.2 beta 2."}]