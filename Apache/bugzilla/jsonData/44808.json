[{"count": 0, "tags": [], "creator": "Oliver.Kuesters@dsa-ac.de", "text": "I wanted to use JMeter for recording HTTP traffic of a rich client applying the Spring's HTTPinvoker infrastructure.\nSending this traffic through the JMeter proxy alters the HTTP POST resquest's body inappropriately.\nAt the server the Spring Dispatcher Servlet bails out with a java.io.StreamCorruptedException and the content-length header indicates a larger size than sent by the client, e.g. 361 bytes instead of 340.\n\nBrowsing through the JMeter Proxy code, the HttpRequestHdr class appears biased towards string-like POST bodies imposing the inappropriate body modification, see\n            // Use default encoding\n            postData = new String(rawPostData);\n\nSame with the HTPSamplerBase class and its subclasses which do not handle true byte streams correctly.", "id": 115548, "time": "2008-04-11T07:35:16Z", "bug_id": 44808, "creation_time": "2008-04-11T07:35:16Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "text": "Is there a public server to test against?", "id": 115549, "time": "2008-04-11T07:46:44Z", "bug_id": 44808, "creation_time": "2008-04-11T07:46:44Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "hl@dsa-ac.de", "is_private": false, "text": "Created attachment 21835\neclipse Project Cient Side (Main, part 1/3)\n\nthis is a spliited ZIP archive.", "id": 115735, "time": "2008-04-21T06:52:04Z", "bug_id": 44808, "creation_time": "2008-04-21T06:52:04Z", "attachment_id": 21835}, {"count": 3, "tags": [], "bug_id": 44808, "attachment_id": 21836, "text": "Created attachment 21836\neclipse Project Cient Side (part 2/3)\n\nThis is a part of splitted ZIP archive.", "id": 115736, "time": "2008-04-21T06:52:48Z", "creator": "hl@dsa-ac.de", "creation_time": "2008-04-21T06:52:48Z", "is_private": false}, {"attachment_id": 21837, "tags": [], "bug_id": 44808, "is_private": false, "count": 4, "id": 115737, "time": "2008-04-21T06:53:26Z", "creator": "hl@dsa-ac.de", "creation_time": "2008-04-21T06:53:26Z", "text": "Created attachment 21837\neclipse Project Cient Side (part 3/3)"}, {"attachment_id": 21838, "tags": [], "bug_id": 44808, "text": "Created attachment 21838\neclipse Project Server Side (Main, part 1/3)\n\nThis is main part of a splitted ZIP archive.", "count": 5, "id": 115738, "time": "2008-04-21T06:54:03Z", "creator": "hl@dsa-ac.de", "creation_time": "2008-04-21T06:54:03Z", "is_private": false}, {"attachment_id": 21839, "tags": [], "bug_id": 44808, "is_private": false, "count": 6, "id": 115739, "time": "2008-04-21T06:54:35Z", "creator": "hl@dsa-ac.de", "creation_time": "2008-04-21T06:54:35Z", "text": "Created attachment 21839\neclipse Project Server Side (part 2/3)"}, {"attachment_id": 21840, "tags": [], "bug_id": 44808, "text": "Created attachment 21840\neclipse Project Server Side (part 3/3)", "count": 7, "id": 115740, "time": "2008-04-21T06:55:08Z", "creator": "hl@dsa-ac.de", "creation_time": "2008-04-21T06:55:08Z", "is_private": false}, {"count": 8, "tags": [], "creator": "hl@dsa-ac.de", "attachment_id": 21841, "id": 115741, "time": "2008-04-21T06:58:03Z", "bug_id": 44808, "creation_time": "2008-04-21T06:58:03Z", "is_private": false, "text": "Created attachment 21841\nReadme: Installation procedure for my sample client/server application"}, {"attachment_id": null, "tags": [], "bug_id": 44808, "text": "Hi,\n\nI have uploaded a small client/server application as a sample for you. A small service in a \"hello world\"-style for deployment within an application server (e.g. tomcat 4.1 or WebLogic) and a client application to invoke this mini-service.\n\nPlease refer to the attachment \" Readme: Installation procedure for my sample client/server application\". It includes the description how to set up the test case.\n\nThe key  point with this test case is, that you can choose if a proxy Server should be used on the client side:\n\na) If no proxy server is used, the content-length of the HTTP request is the same on the side of the sender/client and on the side of the receive/server.\n\nb) if a proxy server is used (and configured properly), the content-length is _not_ equal on both sides. In my opinion, this seems to be a bug within JMETER, because the content-length is the same on both sides when using another proxy server (e.g. from grinder-3.0.1).\n\n\nIf you have problems with the setup of this test case application, I would be happy to help you.\n \nBest wishes,\nMarkus\n", "count": 9, "id": 115743, "time": "2008-04-21T07:11:39Z", "creator": "hl@dsa-ac.de", "creation_time": "2008-04-21T07:11:39Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 44808, "attachment_id": null, "is_private": false, "id": 115850, "time": "2008-04-24T11:54:36Z", "creator": "sebb@apache.org", "creation_time": "2008-04-24T11:54:36Z", "text": "I'm unable to read the \"splitted\" zip files - I can see the contents list, but can't extract everything.\n\nPlease can you upload \"normal\" zip files; if you want to make them smaller, then exclude the generated class files and jar files, i.e. only include the source."}, {"count": 11, "tags": [], "text": "Created attachment 21849\nSecond Try Client Side: Small Archive (only spring.jar in \"lib\" dir has to be added)", "attachment_id": 21849, "id": 115851, "creator": "hl@dsa-ac.de", "time": "2008-04-24T12:05:25Z", "bug_id": 44808, "creation_time": "2008-04-24T12:05:25Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 44808, "attachment_id": 21850, "is_private": false, "id": 115852, "time": "2008-04-24T12:06:10Z", "creator": "hl@dsa-ac.de", "creation_time": "2008-04-24T12:06:10Z", "text": "Created attachment 21850\nSecond Try Server Side: Small Archive (only spring.jar in \"lib\" dir has to be added)"}, {"count": 13, "tags": [], "creator": "hl@dsa-ac.de", "attachment_id": null, "id": 115853, "time": "2008-04-24T12:07:55Z", "bug_id": 44808, "creation_time": "2008-04-24T12:07:55Z", "is_private": false, "text": "Hi,\n\nThank you for your quick answer.\n\nokay, I have thrown out the spring.jar archive from the \"lib\" subdirectories in both eclipse projects for client and server side. You will have to add them there."}, {"attachment_id": null, "tags": [], "bug_id": 44808, "text": "I've now been able to extract the test application, and can see the issue you reported.\n\nPart of the problem seems to be that the HTTP Samplers don't really have provision for sending binary data (except as part of a file).\n\nThe data currently has to be saved as a nameless parameter.\nIt looks like the value is being changed unnecessarily.\nNot sure how easy this is going to be to fix.", "count": 14, "id": 115860, "time": "2008-04-24T17:03:17Z", "creator": "sebb@apache.org", "creation_time": "2008-04-24T17:03:17Z", "is_private": false}, {"count": 15, "tags": [], "creator": "sebb@apache.org", "is_private": false, "text": "Note that the Proxy is intended for recording *browser* sessions - as far as I know, this scenario cannot be reproduced with a browser.\n\nBut if a way can be found to fix it without breaking anything else ...", "id": 116141, "time": "2008-05-02T07:14:58Z", "bug_id": 44808, "creation_time": "2008-05-02T07:14:58Z", "attachment_id": null}, {"count": 16, "tags": [], "bug_id": 44808, "attachment_id": null, "is_private": false, "id": 117093, "time": "2008-05-28T16:19:42Z", "creator": "sebb@apache.org", "creation_time": "2008-05-28T16:19:42Z", "text": "SVN updated:\n\nURL: http://svn.apache.org/viewvc?rev=661141&view=rev\nLog:\nBugs 44808 & 39641 - Proxy support for binary requests\n\nThe night build has the fix - please report any problems."}, {"count": 17, "tags": [], "creator": "hl@dsa-ac.de", "attachment_id": null, "id": 117115, "time": "2008-05-29T05:57:57Z", "bug_id": 44808, "creation_time": "2008-05-29T05:57:57Z", "is_private": false, "text": "Dear Sebb,\n\nThank you very much for your bugfix.\n\nI tested the fix with my local installation successfully, so the bug is fixed.\n\nThank you!\nMarkus\n\n"}, {"attachment_id": null, "tags": [], "bug_id": 44808, "is_private": false, "count": 18, "id": 117139, "time": "2008-05-29T10:12:32Z", "creator": "brunogh@gmail.com", "creation_time": "2008-05-29T10:12:32Z", "text": "Loved that! Congratulations! This is awesome! I have tested and worked perfeclty!"}]