[{"count": 0, "tags": [], "creator": "ken.pier@parc.com", "attachment_id": null, "id": 21762, "time": "2002-08-26T22:19:07Z", "bug_id": 12059, "creation_time": "2002-08-26T22:19:07Z", "is_private": false, "text": "Entry in server.xml:\n        <!-- tomcat root context -->\n          <context path=\"\" docbase=\"root\" debug=\"9\">\n          <resources classname=\"org.apache.naming.resources.filedircontext\" \ncached=\"false\"/>\n          </context>\n\nCauses Catalina to look for a bogus docbase that does not and should not exist.\n\ncatalina.out log entry is:\njava.lang.reflect.InvocationTargetException: \njava.lang.IllegalArgumentException: Document \nbase /tilde/pier/asd/CopyOf11Jun02_4.1.8/tomcat/ROOT does not exist or is not a \nreadable directory\n\tat org.apache.naming.resources.FileDirContext.setDocBase\n(FileDirContext.java:187)\n\tat org.apache.catalina.core.StandardContext.setResources\n(StandardContext.java:1113)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.commons.beanutils.MethodUtils.invokeMethod\n(MethodUtils.java:216)\n\tat org.apache.commons.digester.SetNextRule.end(SetNextRule.java:260)\n\tat org.apache.commons.digester.Digester.endElement(Digester.java:830)\n\tat org.apache.xerces.parsers.AbstractSAXParser.endElement\n(AbstractSAXParser.java:559)\n\tat org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement\n(AbstractXMLDocumentParser.java:217)\n\tat org.apache.xerces.impl.XMLNamespaceBinder.emptyElement\n(XMLNamespaceBinder.java:594)\n\tat org.apache.xerces.impl.dtd.XMLDTDValidator.emptyElement\n(XMLDTDValidator.java:817)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement\n(XMLDocumentFragmentScannerImpl.java:748)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(XMLDocumentFragmentScannerImpl.java:1454)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(XMLDocumentFragmentScannerImpl.java:333)\n\tat org.apache.xerces.parsers.StandardParserConfiguration.parse\n(StandardParserConfiguration.java:529)\n\tat org.apache.xerces.parsers.StandardParserConfiguration.parse\n(StandardParserConfiguration.java:585)\n\tat org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:147)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse\n(AbstractSAXParser.java:1148)\n\tat org.apache.commons.digester.Digester.parse(Digester.java:1284)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:449)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n[ERROR] Digester - -End event threw exception \n<java.lang.reflect.InvocationTargetException>\nCatalina.start: java.lang.reflect.InvocationTargetException\njava.lang.reflect.InvocationTargetException\n\tat org.apache.commons.digester.Digester.createSAXException\n(Digester.java:2033)\n\tat org.apache.commons.digester.Digester.createSAXException\n(Digester.java:2053)\n\tat org.apache.commons.digester.Digester.endElement(Digester.java:833)\n\tat org.apache.xerces.parsers.AbstractSAXParser.endElement\n(AbstractSAXParser.java:559)\n\tat org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement\n(AbstractXMLDocumentParser.java:217)\n\tat org.apache.xerces.impl.XMLNamespaceBinder.emptyElement\n(XMLNamespaceBinder.java:594)\n\tat org.apache.xerces.impl.dtd.XMLDTDValidator.emptyElement\n(XMLDTDValidator.java:817)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement\n(XMLDocumentFragmentScannerImpl.java:748)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(XMLDocumentFragmentScannerImpl.java:1454)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(XMLDocumentFragmentScannerImpl.java:333)\n\tat org.apache.xerces.parsers.StandardParserConfiguration.parse\n(StandardParserConfiguration.java:529)\n\tat org.apache.xerces.parsers.StandardParserConfiguration.parse\n(StandardParserConfiguration.java:585)\n\tat org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:147)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse\n(AbstractSAXParser.java:1148)\n\tat org.apache.commons.digester.Digester.parse(Digester.java:1284)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:449)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)"}, {"count": 1, "tags": [], "creator": "ken.pier@parc.com", "text": "SOMEHOW the <Resources> tag shown below got forced to lower case.  The classname \nis actually org.apache.naming.resources.FileDirContext, not what is shown in the \nDescription below.", "id": 21771, "time": "2002-08-27T00:52:35Z", "bug_id": 12059, "creation_time": "2002-08-27T00:52:35Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 12059, "attachment_id": null, "id": 21780, "time": "2002-08-27T08:02:20Z", "creator": "remm@apache.org", "creation_time": "2002-08-27T08:02:20Z", "is_private": false, "text": "You should repeat the docbase attribute in the Resources element."}, {"count": 3, "tags": [], "text": "Repeating the docbase element in the Resources tag does not change the behavior-\n it still fails.  Instead of looking for TOMCAT_HOME/webapps/ROOT it is trying \nto find TOMCAT_HOME/ROOT which does not and should not exist:\n\n<Context path=\"\" docBase=\"ROOT\" debug=\"9\">\n   <Resources className=\"org.apache.naming.resources.FileDirContext\" docbase=\n\"ROOT\" cached=\"false\"/>\n</Context>\njava.lang.reflect.InvocationTargetException: java.lang.IllegalArgumentException:\n Document base /tilde/pier/asd/CopyOf11Jun02_4.1.8/tomcat/ROOT does not exist or\n is not a readable directory\n\nHere is a more complete stack trace with my actual Context, which works \nproperly whtn the Resources tag is commented out:\n\n        <!-- Sparrow Context -->\n          <Context path=\"/sparrow\" docBase=\"sparrow\" debug=\"9\" \ncrossContext=\"true\" reloadable=\"true\">\n   <Resources className=\"org.apache.naming.resources.FileDirContext\" \ndocBase=\"sparrow\" cached=\"false\"/>\n          </Context> \n\n[INFO] Registry - -Loading registry information\n[INFO] Registry - -Creating new Registry instance\n[INFO] Registry - -Creating MBeanServer\njava.lang.reflect.InvocationTargetException: \njava.lang.IllegalArgumentException: Document base sparrow does not exist or is \nnot a readable directory\n\tat org.apache.naming.resources.FileDirContext.setDocBase\n(FileDirContext.java:187)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.commons.beanutils.PropertyUtils.setSimpleProperty\n(PropertyUtils.java:1612)\n\tat org.apache.commons.beanutils.PropertyUtils.setNestedProperty\n(PropertyUtils.java:1506)\n\tat org.apache.commons.beanutils.PropertyUtils.setProperty\n(PropertyUtils.java:1536)\n\tat org.apache.commons.beanutils.BeanUtils.setProperty\n(BeanUtils.java:674)\n\tat org.apache.commons.beanutils.BeanUtils.populate(BeanUtils.java:504)\n\tat org.apache.commons.digester.SetPropertiesRule.begin\n(SetPropertiesRule.java:144)\n\tat org.apache.commons.digester.Digester.startElement(Digester.java:1030)\n\tat org.apache.xerces.parsers.AbstractSAXParser.startElement\n(AbstractSAXParser.java:434)\n\tat org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement\n(AbstractXMLDocumentParser.java:216)\n\tat org.apache.xerces.impl.XMLNamespaceBinder.emptyElement\n(XMLNamespaceBinder.java:594)\n\tat org.apache.xerces.impl.dtd.XMLDTDValidator.emptyElement\n(XMLDTDValidator.java:817)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement\n(XMLDocumentFragmentScannerImpl.java:748)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(XMLDocumentFragmentScannerImpl.java:1454)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(XMLDocumentFragmentScannerImpl.java:333)\n\tat org.apache.xerces.parsers.StandardParserConfiguration.parse\n(StandardParserConfiguration.java:529)\n\tat org.apache.xerces.parsers.StandardParserConfiguration.parse\n(StandardParserConfiguration.java:585)\n\tat org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:147)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse\n(AbstractSAXParser.java:1148)\n\tat org.apache.commons.digester.Digester.parse(Digester.java:1284)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:449)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n[ERROR] Digester - -Begin event threw exception \n<java.lang.reflect.InvocationTargetException>\nCatalina.start: java.lang.reflect.InvocationTargetException\njava.lang.reflect.InvocationTargetException\n\tat org.apache.commons.digester.Digester.createSAXException\n(Digester.java:2033)\n\tat org.apache.commons.digester.Digester.createSAXException\n(Digester.java:2053)\n\tat org.apache.commons.digester.Digester.startElement(Digester.java:1033)\n\tat org.apache.xerces.parsers.AbstractSAXParser.startElement\n(AbstractSAXParser.java:434)\n\tat org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement\n(AbstractXMLDocumentParser.java:216)\n\tat org.apache.xerces.impl.XMLNamespaceBinder.emptyElement\n(XMLNamespaceBinder.java:594)\n\tat org.apache.xerces.impl.dtd.XMLDTDValidator.emptyElement\n(XMLDTDValidator.java:817)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement\n(XMLDocumentFragmentScannerImpl.java:748)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(XMLDocumentFragmentScannerImpl.java:1454)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(XMLDocumentFragmentScannerImpl.java:333)\n\tat org.apache.xerces.parsers.StandardParserConfiguration.parse\n(StandardParserConfiguration.java:529)\n\tat org.apache.xerces.parsers.StandardParserConfiguration.parse\n(StandardParserConfiguration.java:585)\n\tat org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:147)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse\n(AbstractSAXParser.java:1148)\n\tat org.apache.commons.digester.Digester.parse(Digester.java:1284)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:449)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n\n", "attachment_id": null, "id": 21837, "creator": "ken.pier@parc.com", "time": "2002-08-27T19:44:11Z", "bug_id": 12059, "creation_time": "2002-08-27T19:44:11Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 12059, "attachment_id": null, "id": 22494, "time": "2002-09-09T10:44:09Z", "creator": "remm@apache.org", "creation_time": "2002-09-09T10:44:09Z", "is_private": false, "text": "*** Bug 12408 has been marked as a duplicate of this bug. ***"}, {"count": 5, "tags": [], "bug_id": 12059, "attachment_id": null, "id": 22522, "time": "2002-09-09T14:40:16Z", "creator": "remm@apache.org", "creation_time": "2002-09-09T14:40:16Z", "is_private": false, "text": "This will be fixed in 4.1.11. Tricky timing problem ..."}]