[{"count": 0, "tags": [], "bug_id": 57435, "attachment_id": null, "text": "process_socket() allows a thread to grab a conn_rec that was created by a different thread but doesn't update connection->id to the current worker's thread ID. This means there are multiple open connections sharing an ID. If both those connections call a CGI at the same time, mod_cgid will use the same key for both CGIs, causing one to be killed when the other one is cleaned up.", "id": 180264, "time": "2015-01-12T01:00:57Z", "creator": "mike@gistnet.com", "creation_time": "2015-01-12T01:00:57Z", "is_private": false}, {"count": 1, "attachment_id": 32364, "creator": "mike@gistnet.com", "text": "Created attachment 32364\nfixes Apache bug 57435\n\nChanges event.c to reset the connection->id when grabbing a sleeping connection.", "id": 180265, "time": "2015-01-12T01:02:43Z", "bug_id": 57435, "creation_time": "2015-01-12T01:02:43Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "text": "The error can be tested by throwing a lot of concurrent CGI requests at the server, or by putting trace lines in the code and verifying that multiple connections can share an ID at one point in time.", "attachment_id": null, "bug_id": 57435, "id": 180266, "time": "2015-01-12T01:05:01Z", "creator": "mike@gistnet.com", "creation_time": "2015-01-12T01:05:01Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 57435, "attachment_id": null, "id": 180270, "time": "2015-01-12T13:43:12Z", "creator": "covener@gmail.com", "creation_time": "2015-01-12T13:43:12Z", "is_private": false, "text": "Applied to trunk in r1651088 with modified comment, Thanks for the report and patch."}, {"count": 4, "tags": [], "text": "Backported to 2.4.11 in r1651656.", "attachment_id": null, "bug_id": 57435, "id": 180508, "time": "2015-01-23T09:04:39Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2015-01-23T09:04:39Z", "is_private": false}]