[{"count": 0, "tags": [], "bug_id": 24438, "is_private": false, "id": 46880, "attachment_id": null, "creator": "sandman2012@rambler.ru", "creation_time": "2003-11-05T17:51:04Z", "time": "2003-11-05T17:51:04Z", "text": "Problem: Table cells with background-color attribute specified may damage \nborders for rounding table cells.\nSolution: Borders now added over all other cell content.\nLimitation: PDF only.\n\nTechnical background: All data concerning table cell borders and background \nSVG graphics now collecting during usual table generation. At this time there \nare no borders generated. If table generated successfully the all borders \nbeing collected at the time of table content generation will made over (in \nseparate pass)."}, {"attachment_id": 8947, "tags": [], "bug_id": 24438, "is_private": false, "count": 1, "id": 46882, "time": "2003-11-05T17:52:30Z", "creator": "sandman2012@rambler.ru", "creation_time": "2003-11-05T17:52:30Z", "text": "Created attachment 8947\nThis is patch for FOP 0.20.5 to solve problem with borders inside table cells with background color specified. For PDF only."}, {"count": 2, "text": "Please submit an actual CVS-generated patch as defined here:\n\nhttp://cocoon.apache.org/2.1/howto/howto-patch.html\n\nFull source code is not helpful for us, as we can't see the changes made.  Note \nwe are not making many changes to our 0.20.5 maintenance branch--especially \nthose involving significant functionality changes.  So it may take awhile \nbefore we get to it, or we may just be interested in ensuring the problem does \nnot occur in our future 1.0 version.\n\nIt would be also helpful for you to attach an extremely simple FO that shows \nthe problem, as well as the output PDF from that FO.\n\nThanks,\nGlen\n", "creator": "glenmazza@yahoo.com", "is_private": false, "id": 46896, "time": "2003-11-05T22:42:03Z", "bug_id": 24438, "creation_time": "2003-11-05T22:42:03Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 24438, "attachment_id": null, "id": 59771, "time": "2004-06-23T13:30:03Z", "creator": "bowditch_chris@hotmail.com", "creation_time": "2004-06-23T13:30:03Z", "is_private": false, "text": "*** Bug 29759 has been marked as a duplicate of this bug. ***"}, {"count": 4, "tags": [], "text": "Created attachment 11925\nNamchaninov's patch in regular diff format", "is_private": false, "id": 59777, "creator": "atagunov@ipmouse.com", "time": "2004-06-23T14:49:08Z", "bug_id": 24438, "creation_time": "2004-06-23T14:49:08Z", "attachment_id": 11925}, {"count": 5, "tags": [], "creator": "atagunov@ipmouse.com", "attachment_id": 11926, "text": "Created attachment 11926\nSimple test case", "id": 59778, "time": "2004-06-23T14:50:01Z", "bug_id": 24438, "creation_time": "2004-06-23T14:50:01Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 24438, "attachment_id": 11927, "id": 59779, "time": "2004-06-23T14:53:22Z", "creator": "atagunov@ipmouse.com", "creation_time": "2004-06-23T14:53:22Z", "is_private": false, "text": "Created attachment 11927\n800% fragment view in Acrobat Reader of pdf generated by 20.5"}, {"count": 7, "tags": [], "creator": "atagunov@ipmouse.com", "attachment_id": 11929, "text": "Created attachment 11929\n800% fragment view in Acrobat Reader generated with 20.5 patched by Namchaninov", "id": 59780, "time": "2004-06-23T14:54:18Z", "bug_id": 24438, "creation_time": "2004-06-23T14:54:18Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 24438, "attachment_id": null, "id": 59781, "time": "2004-06-23T14:56:03Z", "creator": "atagunov@ipmouse.com", "creation_time": "2004-06-23T14:56:03Z", "is_private": false, "text": "I can confirm that bug really manifests itself in 20.5\nI can confirm that patched fop generates a better pdf for my sample FO\n"}, {"count": 9, "tags": [], "bug_id": 24438, "attachment_id": null, "id": 60903, "time": "2004-07-21T09:04:48Z", "creator": "bugZinfo.20.email4@spamgourmet.com", "creation_time": "2004-07-21T09:04:48Z", "is_private": false, "text": "This Problem is actually two Problems:\n\n1. Borders have to be rendered after backgrounds. Namchaninov's Patch takes care\nof that.\n\n2. Cell backgrounds are being rendered (0.5pt in every direction) larger than\nthey should, bleeding into and overlapping borders of other cells.\nThis happens because the background is at long last rendered in PDF as a filled\nrectangle WITH a border in the same color - which I guess to be 1pt wide.\n\nBad function in PrintRenderer:\nprotected void addFilledRect(int x, int y, int w, int h, PDFPathPaint fill) {\n   addRect(x, y, w, h, fill, fill);\n}\n\nMy quick'n extraordinary dirty fix is to change the addRect-function in\nPDFRenderer like this:\n\n  if (stroke== fill) addFilledRect(x, y, w, h, fill);\n  else { blah..blah..\n\nHope this helps someone"}, {"count": 10, "tags": [], "text": "I hereby confess that I've been wrong about Namchinov's patch.\nIt produces horrible results, see sample bellow.\nThis patch shouldn't be applied by anyone.", "attachment_id": null, "id": 62973, "creator": "tagunov@motor.ru", "time": "2004-09-02T18:43:34Z", "bug_id": 24438, "creation_time": "2004-09-02T18:43:34Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 24438, "is_private": false, "id": 62974, "attachment_id": 12618, "creator": "tagunov@motor.ru", "creation_time": "2004-09-02T18:44:18Z", "time": "2004-09-02T18:44:18Z", "text": "Created attachment 12618\nHorrible results of Namchinov's patch"}, {"count": 12, "tags": [], "bug_id": 24438, "attachment_id": null, "is_private": false, "id": 63284, "time": "2004-09-09T13:45:45Z", "creator": "atagunov@ipmouse.com", "creation_time": "2004-09-09T13:45:45Z", "text": "Okay, now I've got my own variant of remedy. My own patch.\nIMO the problem is that rectangles that should methematically be areas\n\n    startx < x < startx + w\n    starty < y < starty + w\n\nare painted as rectangles with borders. This makes them wider and taller then they should be. They start to paint over borders that do not belong to them.\n\nI have (hopefully) fixed this for PDF, SVG and AWT renderers. My patch also deletes some unused methods and IMO makes the code a bit cleaner.\n\nIMO 0.20.6 should be. It should take as a mantra: we won't struggle to introduce new features. It shouldn't try to fix difficult to fix bugs. It should go for low-hanging fruit. Little code change that will improve user experience. I modestlty consider that this patch should be part of it."}, {"count": 13, "tags": [], "bug_id": 24438, "attachment_id": 12680, "id": 63286, "time": "2004-09-09T13:48:50Z", "creator": "atagunov@ipmouse.com", "creation_time": "2004-09-09T13:48:50Z", "is_private": false, "text": "Created attachment 12680\nFix table cells with background not rendered okay for PDF, SVG and AWT renderers."}, {"count": 14, "text": "The issue of borders being painted as rectangles instead of lines has been \nfixed for PDF in CVS HEAD code. The 0.20.x code is frozen and patches against \nare unlikely to be applied.", "creator": "bowditch_chris@hotmail.com", "is_private": false, "id": 63338, "time": "2004-09-10T09:59:35Z", "bug_id": 24438, "creation_time": "2004-09-10T09:59:35Z", "tags": [], "attachment_id": null}, {"count": 15, "tags": [], "creator": "pascal.sancho@takoma.fr", "attachment_id": null, "text": "Fixed in FOP 0.94 and probably since 2004-09-10 (see Chris comment)", "id": 110772, "time": "2007-11-20T00:50:30Z", "bug_id": 24438, "creation_time": "2007-11-20T00:50:30Z", "is_private": false}, {"count": 16, "tags": [], "bug_id": 24438, "attachment_id": null, "is_private": false, "id": 156085, "time": "2012-04-01T06:57:42Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T06:57:42Z", "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed"}]