[{"count": 0, "tags": [], "bug_id": 54297, "attachment_id": 29756, "id": 164066, "time": "2012-12-14T15:14:15Z", "creator": "mamfelt@gmail.com", "creation_time": "2012-12-14T15:14:15Z", "is_private": false, "text": "Created attachment 29756\noutput with -bnoquiet added to parameter list\n\n./support/ab does not link\n\n/var/apr/build-1/libtool --silent --mode=link cc -qlanglvl=extc89  -qHALT=E  -O2 -qlanglvl=extc99 -Wl,-brtl -L/usr/include/openssl/lib   -o ab  ab.lo -Wl,-uXML_Parse\n  /opt/lib/libaprutil.la -lexpat -liconv /opt/lib/libapr.la -lpthread -lm\nld: 0711-317 ERROR: Undefined symbol: .SSLv23_client_method\nld: 0711-317 ERROR: Undefined symbol: .CRYPTO_set_mem_functions\nld: 0711-317 ERROR: Undefined symbol: .SSL_load_error_strings\nld: 0711-317 ERROR: Undefined symbol: .SSL_library_init\nld: 0711-317 ERROR: Undefined symbol: .BIO_new_fp\nld: 0711-317 ERROR: Undefined symbol: .SSL_CTX_new\nld: 0711-317 ERROR: Undefined symbol: .SSL_CTX_ctrl\nld: 0711-317 ERROR: Undefined symbol: .SSL_CTX_set_info_callback\nld: 0711-317 ERROR: Undefined symbol: .SSL_CTX_set_cipher_list\nld: 0711-317 ERROR: Undefined symbol: .ERR_print_errors_fp\nld: 0711-317 ERROR: Undefined symbol: .BIO_printf\nld: 0711-317 ERROR: Undefined symbol: .ERR_print_errors\nld: 0711-317 ERROR: Undefined symbol: .SSLv2_client_method\nld: 0711-317 ERROR: Undefined symbol: .SSLv3_client_method\nld: 0711-317 ERROR: Undefined symbol: .TLSv1_client_method\nld: 0711-317 ERROR: Undefined symbol: .SSL_state\nld: 0711-317 ERROR: Undefined symbol: .SSL_read\nld: 0711-317 ERROR: Undefined symbol: .SSL_get_error\nld: 0711-317 ERROR: Undefined symbol: .SSL_new\nld: 0711-317 ERROR: Undefined symbol: .BIO_new_socket\nld: 0711-317 ERROR: Undefined symbol: .SSL_set_bio\nld: 0711-317 ERROR: Undefined symbol: .SSL_set_connect_state\nld: 0711-317 ERROR: Undefined symbol: .BIO_set_callback\nld: 0711-317 ERROR: Undefined symbol: .BIO_set_callback_arg\nld: 0711-317 ERROR: Undefined symbol: .SSL_do_handshake\nld: 0711-317 ERROR: Undefined symbol: .SSL_get_current_cipher\nld: 0711-317 ERROR: Undefined symbol: .SSL_CIPHER_get_bits\nld: 0711-317 ERROR: Undefined symbol: .SSL_get_peer_certificate\nld: 0711-317 ERROR: Undefined symbol: .SSL_get_version\nld: 0711-317 ERROR: Undefined symbol: .SSL_CIPHER_get_name\nld: 0711-317 ERROR: Undefined symbol: .X509_get_pubkey\nld: 0711-317 ERROR: Undefined symbol: .EVP_PKEY_bits\nld: 0711-317 ERROR: Undefined symbol: .SSL_get_peer_cert_chain\nld: 0711-317 ERROR: Undefined symbol: .sk_num\nld: 0711-317 ERROR: Undefined symbol: .sk_value\nld: 0711-317 ERROR: Undefined symbol: .X509_free\nld: 0711-317 ERROR: Undefined symbol: .SSL_get_session\nld: 0711-317 ERROR: Undefined symbol: .SSL_SESSION_print\nld: 0711-317 ERROR: Undefined symbol: .ASN1_INTEGER_get\nld: 0711-317 ERROR: Undefined symbol: .ASN1_UTCTIME_print\nld: 0711-317 ERROR: Undefined symbol: .EVP_PKEY_free\nld: 0711-317 ERROR: Undefined symbol: .X509_get_issuer_name\nld: 0711-317 ERROR: Undefined symbol: .X509_NAME_oneline\nld: 0711-317 ERROR: Undefined symbol: .X509_get_subject_name\nld: 0711-317 ERROR: Undefined symbol: .X509_get_ext_count\nld: 0711-317 ERROR: Undefined symbol: .SSL_CIPHER_get_version\nld: 0711-317 ERROR: Undefined symbol: .RAND_seed\nld: 0711-317 ERROR: Undefined symbol: .SSL_alert_type_string_long\nld: 0711-317 ERROR: Undefined symbol: .SSL_alert_desc_string_long\nld: 0711-317 ERROR: Undefined symbol: .SSL_state_string_long\nld: 0711-317 ERROR: Undefined symbol: .BIO_get_callback_arg\nld: 0711-317 ERROR: Undefined symbol: .BIO_dump\nld: 0711-317 ERROR: Undefined symbol: .SSL_shutdown\nld: 0711-317 ERROR: Undefined symbol: .SSL_free\nld: 0711-317 ERROR: Undefined symbol: .SSL_write\nld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more information.\n\nattachment contains output with option -bnoquiet"}, {"count": 1, "tags": [], "bug_id": 54297, "is_private": false, "id": 164067, "creation_time": "2012-12-14T15:38:50Z", "time": "2012-12-14T15:38:50Z", "creator": "rainer.jung@kippdata.de", "text": "Did you regenerate configure using buildconf after checking out? Or are you using an old configure from a previous version (don't do that).\n\nWhat are the values of ab_LDFLAGS and ab_LTFLAGS in build/config_vars.mk?\n\nWhat is the value of ab_LDADD in support/Makefile?\n\nWhat is the result of\n\n  grep MOD_LDFLAGS config.log\n\nand\n\n  grep ab_LD config.log\n\nThe same for your full configure output.\n\nThe flags needed should be part of ab_LDFLAGS and be put there during configure as a copy of MOD_LDFLAGS. The latter is filled during ssl detection in configure.\n\nApart form the above, can you provide your full configure output, config.log and your full configure commandline?\n\nRegards,\n\nRainer", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 54297, "text": "As a temporary workaround cou can try setting\n\nab_LDFLAGS = -L/usr/include/openssl/lib -lssl -lcrypto\n\nin build/config_vars.mk (you need to merge with whatever ab_LDFLAGS is already set to in that file). In case you then get deflate linking errors,also add -lz at the end of that line.", "count": 2, "id": 164068, "time": "2012-12-14T15:41:20Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2012-12-14T15:41:20Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 54297, "attachment_id": null, "is_private": false, "id": 164227, "time": "2012-12-23T15:58:13Z", "creator": "mamfelt@gmail.com", "creation_time": "2012-12-23T15:58:13Z", "text": "I was naughty, and just before Christmas! So, I'll run the buildconf again, and remember to do that in the future!\n\nUpdate soon!"}, {"count": 4, "tags": [], "creator": "mamfelt@gmail.com", "attachment_id": null, "is_private": false, "id": 164228, "time": "2012-12-23T16:55:56Z", "bug_id": 54297, "creation_time": "2012-12-23T16:55:56Z", "text": "Checked out revision 1425473.\n\nAfter: ./buildconf --with-apr=/data/prj/apr/apr-1.4.6 --with-apr-util=/data/prj/apr/apr-util-1.5.1\n\n ./configure \n                --enable-layout=AIX \\\n                --with-apr=/opt/bin/apr-1-config \\\n                --with-apr-util=/opt/bin/apu-1-config \\\n                --enable-mpms-shared=all \\\n                --enable-mods-shared=all \\\n                --enable-load-all-modules \\\n                --disable-lua\n\ngot these warning messages:\nconfigure: WARNING: apr/apr-util is compiled without ldap support\nconfigure: WARNING: apr/apr-util is compiled without ldap support\nconfigure: WARNING: Your APR does not include SSL/EVP support. To enable it: configure --with-crypto\n\n+ make > build/aix/make.out\n\"util_expr_eval.c\", line 1555.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*)\" is not allowed.\n\"util_expr_eval.c\", line 1556.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*)\" is not allowed.\n\"util_expr_eval.c\", line 1557.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*)\" is not allowed.\n\"util_expr_eval.c\", line 1558.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*)\" is not allowed.\n\"util_expr_eval.c\", line 1563.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1564.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1565.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1566.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1568.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1569.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1570.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1571.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1572.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1573.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1574.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1575.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1576.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,char*)\" is not allowed.\n\"util_expr_eval.c\", line 1577.7: 1506-196 (W) Initialization between types \"const void* const\" and \"const char*(*)(struct {...}*,const void*,char*)\" is not allowed.\n\"util_expr_eval.c\", line 1583.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1584.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1585.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1586.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1587.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1588.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1589.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1590.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1591.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1592.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1593.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1594.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1595.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1596.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1601.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1602.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1603.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*,const char*)\" is not allowed.\n\"util_expr_eval.c\", line 1604.7: 1506-196 (W) Initialization between types \"const void* const\" and \"int(*)(struct {...}*,const void*,const char*,const char*)\" is not allowed.\n    1500-030: (I) INFORMATION: cache_save_filter: Additional optimization may be attained by recompiling and specifying MAXMEM option with a value greater than 8192.\n\"mod_include.c\", line 721.26: 1506-068 (W) Operation between types \"const void*\" and \"const char*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n    1500-030: (I) INFORMATION: deflate_out_filter: Additional optimization may be attained by recompiling and specifying MAXMEM option with a value greater than 8192.\n\"mod_headers.c\", line 920.43: 1506-280 (W) Function argument assignment between types \"const void*\" and \"const char*(*)(struct request_rec*,char*)\" is not allowed.\n    1500-030: (I) INFORMATION: proxy_ftp_handler: Additional optimization may be attained by recompiling and specifying MAXMEM option with a value greater than 8192.\n    1500-030: (I) INFORMATION: ap_proxy_http_request: Additional optimization may be attained by recompiling and specifying MAXMEM option with a value greater than 8192.\n    1500-030: (I) INFORMATION: ap_proxy_ajp_request: Additional optimization may be attained by recompiling and specifying MAXMEM option with a value greater than 8192.\n    1500-030: (I) INFORMATION: balancer_handler: Additional optimization may be attained by recompiling and specifying MAXMEM option with a value greater than 8192.\n    1500-030: (I) INFORMATION: ssl_hook_Access: Additional optimization may be attained by recompiling and specifying MAXMEM option with a value greater than 8192.\n\"ssl_engine_vars.c\", line 88.26: 1506-068 (W) Operation between types \"const void*\" and \"const char*(*)(struct {...}*,const void*)\" is not allowed.\n\"ssl_engine_vars.c\", line 95.26: 1506-068 (W) Operation between types \"const void*\" and \"struct apr_array_header_t*(*)(struct {...}*,const void*,const char*)\" is not allowed.\n    1500-030: (I) INFORMATION: status_handler: Additional optimization may be attained by recompiling and specifying MAXMEM option with a value greater than 8192.\n    1500-030: (I) INFORMATION: lookup_variable: Additional optimization may be attained by recompiling and specifying MAXMEM option with a value greater than 8192.\n+ make install DESTDIR=/var/tmp/root/httpd.2.4.4 > build/aix/install.out\nmkdir /var/tmp/root/httpd.2.4.4\nmkdir /var/tmp/root/httpd.2.4.4/opt\nmkdir /var/tmp/root/httpd.2.4.4/opt/httpd\nmkdir /var/tmp/root/httpd.2.4.4/opt/httpd/libexec\nlibtool: install: warning: remember to run `libtool --finish /opt/httpd/libexec'\n....\nlibtool: install: warning: remember to run `libtool --finish /opt/httpd/libexec'\nlibtool: install: warning: remember to run `libtool --finish /opt/httpd/libexec'\nmkdir /var/tmp/root/httpd.2.4.4/opt/httpd/bin\nmkdir /var/tmp/root/httpd.2.4.4/opt/httpd/sbin\nmkdir /var/tmp/root/httpd.2.4.4/etc\nmkdir /var/tmp/root/httpd.2.4.4/etc/httpd\nmkdir /var/tmp/root/httpd.2.4.4/etc/httpd/extra\nmkdir /var/tmp/root/httpd.2.4.4/etc/httpd/original\nmkdir /var/tmp/root/httpd.2.4.4/etc/httpd/original/extra\nmkdir /var/tmp/root/httpd.2.4.4/var\nmkdir /var/tmp/root/httpd.2.4.4/var/httpd\nmkdir /var/tmp/root/httpd.2.4.4/var/httpd/htdocs\nmkdir /var/tmp/root/httpd.2.4.4/var/httpd/error\nmkdir /var/tmp/root/httpd.2.4.4/opt/httpd/icons\nmkdir /var/tmp/root/httpd.2.4.4/var/httpd/logs\nmkdir /var/tmp/root/httpd.2.4.4/var/httpd/run\nmkdir /var/tmp/root/httpd.2.4.4/var/httpd/cgi-bin\nmkdir /var/tmp/root/httpd.2.4.4/opt/httpd/include\nmkdir /var/tmp/root/httpd.2.4.4/var/httpd/build\nmkdir /var/tmp/root/httpd.2.4.4/usr\nmkdir /var/tmp/root/httpd.2.4.4/usr/share\nmkdir /var/tmp/root/httpd.2.4.4/usr/share/man\nmkdir /var/tmp/root/httpd.2.4.4/usr/share/man/man1\nmkdir /var/tmp/root/httpd.2.4.4/usr/share/man/man8\nmkdir /var/tmp/root/httpd.2.4.4/opt/httpd/manual\n+ build/aix/mkinstallp.ksh /var/tmp/root/httpd.2.4.4 > build/aix/mkinstallp.out\n========================\nASF.httpd:ASF.httpd.man.en_US:2.4.4.0::I:T:::::N:httpd 2.4.4 man pages Apache Software Foundation::::0::\nASF.httpd:ASF.httpd.rte:2.4.4.0::I:T:::::N:httpd version 2.4.4 for powerpc Apache Software Foundation::::0::\n========================\n\nSo, all seems well - however, I am uncertain about whether I need to use --with-crypto as a flag or not."}, {"count": 5, "tags": [], "creator": "sf@sfritsch.de", "is_private": false, "text": "Unrelated to your linking problem, but is it possible to disable this (and only this) type of warning with a command line option?\n\n(In reply to comment #4)\n> \"util_expr_eval.c\", line 1555.7: 1506-196 (W) Initialization between types\n> \"const void* const\" and \"const char*(*)(struct {...}*,const void*)\" is not\n> allowed.\n\nIf yes, we may want to add that option to the default compiler options for 2.4 on AIX. The relevant code is not really ISO C compliant but fixing it would require an API change.", "id": 164233, "time": "2012-12-25T20:06:53Z", "bug_id": 54297, "creation_time": "2012-12-25T20:06:53Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 54297, "attachment_id": null, "id": 164249, "creation_time": "2012-12-26T12:18:18Z", "time": "2012-12-26T12:18:18Z", "creator": "asfbugz@velox.ch", "text": "(In reply to comment #5)\n> Unrelated to your linking problem, but is it possible to disable this (and\n> only this) type of warning with a command line option?\n\n\"-qsuppress=1506-196\" should do the trick (http://publib.boulder.ibm.com/infocenter/comphelp/v7v91/topic/com.ibm.vacpp7a.doc/compiler/ref/ruoptsup.htm). Would build/aix/buildaix.ksh be the proper place to add this to?\n\nSetting the status to RESOLVED, as the originally reported problem no longer exists.", "is_private": false}]