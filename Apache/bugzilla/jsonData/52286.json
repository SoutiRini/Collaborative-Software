[{"count": 0, "tags": [], "text": "Following setting were working for 3 days and then failed when IIS worker processes recycled.\n\nWin 2003, IIS 6, isapi 1.2.32, tomcat 6.0.32\n\nworker properties\n\nworker.template.ping_mode=I\nworker.template.retries=3\nworker.template.connection_pool_timeout=600\n\nworker.temp12.port=9002\nworker.temp12.host=192.168.200.118\nworker.temp12.reference=worker.template\n\nworker.temp11.port=9001\nworker.temp11.host=192.168.200.118\nworker.temp11.reference=worker.template\n\nworker.loadbalancer.type=lb\nworker.loadbalancer.balance_workers=temp11,temp12\nworker.loadbalancer.method=B\n\n\nLog from the isapi:\n\n[Wed Nov 30 01:00:51.714 2011] [5812:5844] [info] TerminateFilter::jk_isapi_plugin.c (2311): Jakarta/ISAPI/isapi_redirector/1.2.32 () stopping\n[Wed Nov 30 01:00:52.776 2011] [3024:416] [info] TerminateFilter::jk_isapi_plugin.c (2311): Jakarta/ISAPI/isapi_redirector/1.2.32 () stopping\n[Wed Nov 30 01:00:52.792 2011] [4596:196] [info] TerminateFilter::jk_isapi_plugin.c (2311): Jakarta/ISAPI/isapi_redirector/1.2.32 () stopping\n[Wed Nov 30 01:00:52.839 2011] [1008:3824] [info] TerminateFilter::jk_isapi_plugin.c (2311): Jakarta/ISAPI/isapi_redirector/1.2.32 () stopping\n[Wed Nov 30 01:00:56.026 2011] [4696:3396] [info] TerminateFilter::jk_isapi_plugin.c (2311): Jakarta/ISAPI/isapi_redirector/1.2.32 () stopping\n[Wed Nov 30 01:00:56.042 2011] [1640:4680] [info] TerminateFilter::jk_isapi_plugin.c (2311): Jakarta/ISAPI/isapi_redirector/1.2.32 () stopping\n[Wed Nov 30 01:00:57.026 2011] [5536:3928] [info] TerminateFilter::jk_isapi_plugin.c (2311): Jakarta/ISAPI/isapi_redirector/1.2.32 () stopping\n[Wed Nov 30 01:01:12.901 2011] [4180:4980] [info] TerminateFilter::jk_isapi_plugin.c (2311): Jakarta/ISAPI/isapi_redirector/1.2.32 () stopping\n[Wed Nov 30 07:00:15.863 2011] [4148:3052] [info] init_jk::jk_isapi_plugin.c (2602): Starting Jakarta/ISAPI/isapi_redirector/1.2.32 ()\n[Wed Nov 30 07:00:15.925 2011] [4148:3052] [info] init_jk::jk_isapi_plugin.c (2781): Jakarta/ISAPI/isapi_redirector/1.2.32 () initialized\n[Wed Nov 30 07:00:30.191 2011] [3564:2524] [info] init_jk::jk_isapi_plugin.c (2602): Starting Jakarta/ISAPI/isapi_redirector/1.2.32 ()\n[Wed Nov 30 07:00:30.238 2011] [3564:2524] [info] init_jk::jk_isapi_plugin.c (2781): Jakarta/ISAPI/isapi_redirector/1.2.32 () initialized\n[Wed Nov 30 07:00:30.535 2011] [5416:2312] [info] init_jk::jk_isapi_plugin.c (2602): Starting Jakarta/ISAPI/isapi_redirector/1.2.32 ()\n[Wed Nov 30 07:00:30.582 2011] [5416:2312] [info] init_jk::jk_isapi_plugin.c (2781): Jakarta/ISAPI/isapi_redirector/1.2.32 () initialized\n[Wed Nov 30 07:00:36.097 2011] [2392:5576] [info] init_jk::jk_isapi_plugin.c (2602): Starting Jakarta/ISAPI/isapi_redirector/1.2.32 ()\n[Wed Nov 30 07:00:36.128 2011] [4428:5768] [info] init_jk::jk_isapi_plugin.c (2602): Starting Jakarta/ISAPI/isapi_redirector/1.2.32 ()\n[Wed Nov 30 07:00:36.144 2011] [4800:2208] [info] init_jk::jk_isapi_plugin.c (2602): Starting Jakarta/ISAPI/isapi_redirector/1.2.32 ()\n[Wed Nov 30 07:00:36.160 2011] [5512:3440] [info] init_jk::jk_isapi_plugin.c (2602): Starting Jakarta/ISAPI/isapi_redirector/1.2.32 ()\n[Wed Nov 30 07:00:36.175 2011] [2856:3656] [info] init_jk::jk_isapi_plugin.c (2602): Starting Jakarta/ISAPI/isapi_redirector/1.2.32 ()\n[Wed Nov 30 07:00:36.191 2011] [4428:5768] [info] init_jk::jk_isapi_plugin.c (2781): Jakarta/ISAPI/isapi_redirector/1.2.32 () initialized\n\n[Wed Nov 30 07:00:36.175 2011] [2392:5576] [info] init_jk::jk_isapi_plugin.c (2781): Jakarta/ISAPI/isapi_redirector/1.2.32 () initialized\n[Wed Nov 30 07:00:36.222 2011] [4800:2208] [info] init_jk::jk_isapi_plugin.c (2781): Jakarta/ISAPI/isapi_redirector/1.2.32 () initialized\nry\n[Wed Nov 30 07:00:36.253 2011] [2856:3656] [error] wc_create_worker::jk_worker.c (151): factory for ajp13 failed for temp11\n\n[Wed Nov 30 07:00:36.285 2011] [2856:3656] [error] validate::jk_lb_worker.c (1615): Failed creating worker temp12\n[Wed Nov 30 07:00:36.316 2011] [5512:3440] [error] validate::jk_lb_worker.c (1663): NULL parameters\n[Wed Nov 30 07:00:36.332 2011] [2856:3656] [error] validate::jk_lb_worker.c (1663): NULL parameters\n[Wed Nov 30 07:00:36.347 2011] [5512:3440] [error] wc_create_worker::jk_worker.c (163): validate failed for loadbalancer\n[Wed Nov 30 07:00:36.363 2011] [2856:3656] [error] wc_create_worker::jk_worker.c (163): validate failed for loadbalancer\n[Wed Nov 30 07:00:36.394 2011] [2856:3656] [error] build_worker_map::jk_worker.c (262): failed to create worker loadbalancer", "is_private": false, "bug_id": 52286, "id": 151980, "time": "2011-12-05T18:34:47Z", "creator": "siva2255@hotmail.com", "creation_time": "2011-12-05T18:34:47Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 52286, "attachment_id": null, "id": 151981, "creation_time": "2011-12-05T18:39:45Z", "time": "2011-12-05T18:39:45Z", "creator": "siva2255@hotmail.com", "text": "Added the crucial piece of the log, allocating shared memory is failing..\n\n[error] ajp_worker_factory::jk_ajp_common.c (2997): allocating ajp worker record from shared memory", "is_private": false}, {"count": 2, "tags": [], "text": "This was solved with 1.2.35", "is_private": false, "bug_id": 52286, "id": 158871, "time": "2012-05-07T08:11:09Z", "creator": "mturk@apache.org", "creation_time": "2012-05-07T08:11:09Z", "attachment_id": null}]