[{"count": 0, "tags": [], "bug_id": 51000, "attachment_id": null, "is_private": false, "id": 145422, "time": "2011-03-30T16:37:19Z", "creator": "jglick@apache.org", "creation_time": "2011-03-30T16:37:19Z", "text": "https://netbeans.org/bugzilla/show_bug.cgi?id=196556#c10 for background. It is possible after running <depend> to be left with Something$1$1.class but no Something$1.class or Something.class. If an annotation processor is then run which calls PackageElement.getEnclosedElements, JDK 6 javac will crash with a stack trace; JDK 7 javac (as currently developed) will print a helpful message but still fail.\n\nAnyway there is no reason for Something$1$1.class to be there. Something.java is destined to be recompiled, in which case this class file will be regenerated - or will be stale, if the code block with the nested class was deleted.\n\nDepend.deleteAffectedFiles does seem to delete Something.class if Something$Else.class is deleted, but it needs to also do the reverse."}]