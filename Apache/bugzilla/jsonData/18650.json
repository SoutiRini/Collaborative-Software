[{"count": 0, "attachment_id": null, "bug_id": 18650, "text": "I tried installing my web application in tomcat 4.1.18(JDK 1.3.1_04) while \ninstalling i get an exception while processing JAR files in the folder {tomcat}\n\\webapps\\ {myapplication}\\web-inf\\lib.  can anyone solve me this problem. \nMoreover the same application works fine without errors in tomcat 4.0.6\n\n2003-04-02 23:38:42 ContextConfig[C:\\Program Files\\Tomcat 4.1\n\\webapps\\ESClient]:  Scanning JAR at resource path '/WEB-INF/lib/xsl.jar'\n2003-04-02 23:38:42 ContextConfig[C:\\Program Files\\Tomcat 4.1\\webapps\\ESClient] \nException processing JAR at resource path /WEB-INF/lib/xsl.jar\njavax.servlet.ServletException: Exception processing JAR at resource path /WEB-\nINF/lib/xsl.jar\n\tat org.apache.catalina.startup.ContextConfig.tldScanJar\n(ContextConfig.java:930)\n\tat org.apache.catalina.startup.ContextConfig.tldScan\n(ContextConfig.java:868)\n\tat org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:647)\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:243)\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n\tat org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3567)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:738)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:347)\n\tat org.apache.catalina.core.StandardService.start\n(StandardService.java:497)\n\tat org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2189)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:512)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n----- Root Cause -----\njava.io.FileNotFoundException\n\tat org.apache.naming.resources.DirContextURLConnection.getInputStream\n(DirContextURLConnection.java:344)\n\tat sun.net.www.protocol.jar.URLJarFile.retrieve(URLJarFile.java:126)\n\tat sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:34)\n\tat sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:76)\n\tat sun.net.www.protocol.jar.JarURLConnection.connect\n(JarURLConnection.java:83)\n\tat sun.net.www.protocol.jar.JarURLConnection.getJarFile\n(JarURLConnection.java:67)\n\tat org.apache.catalina.startup.ContextConfig.tldScanJar\n(ContextConfig.java:906)\n\tat org.apache.catalina.startup.ContextConfig.tldScan\n(ContextConfig.java:868)\n\tat org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:647)\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:243)\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n\tat org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3567)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:738)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:347)\n\tat org.apache.catalina.core.StandardService.start\n(StandardService.java:497)\n\tat org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2189)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:512)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n\n2003-04-02 23:38:42 ContextConfig[C:\\Program Files\\Tomcat 4.1\n\\webapps\\ESClient]: Pipline Configuration:\n2003-04-02 23:38:42 ContextConfig[C:\\Program Files\\Tomcat 4.1\n\\webapps\\ESClient]:   org.apache.catalina.core.StandardContextValve/1.0\n2003-04-02 23:38:42 ContextConfig[C:\\Program Files\\Tomcat 4.1\n\\webapps\\ESClient]: ======================\n2003-04-02 23:38:42 ContextConfig[C:\\Program Files\\Tomcat 4.1\n\\webapps\\ESClient]: Marking this application unavailable due to previous error\n(s)", "id": 34419, "time": "2003-04-03T11:12:56Z", "creator": "sravikumar@ctd.hcltech.com", "creation_time": "2003-04-03T11:12:56Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "text": "The more likely is that there's somehow something wrong with that JAR. Sorry,\nbut given the amount of usage 4.1.18 has gone through already, it is unlikely\nthere's a bug there in Tomcat.\nIf you think otherwise, attach a valid test JAR.", "id": 34508, "time": "2003-04-04T09:49:13Z", "bug_id": 18650, "creation_time": "2003-04-04T09:49:13Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 18650, "text": "I tried installing the application with Tomcat 4.1.18 (with JDK 1.4.1) now it \nworks fine.  In the previous case i used JDK 1.3.1, does the version of JDK \nhave any effect.\n\n", "id": 34509, "time": "2003-04-04T09:54:08Z", "creator": "sravikumar@ctd.hcltech.com", "creation_time": "2003-04-04T09:54:08Z", "tags": [], "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 18650, "text": "I don't know. This works fine for me. Please attach a test case (I doubt you can\nfind a valid one).\nFYI, ContextConfig has zero changes between 4.1.18 and 4.1.24.", "id": 34513, "time": "2003-04-04T10:13:04Z", "creator": "remm@apache.org", "creation_time": "2003-04-04T10:13:04Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "text": "My question was regarding the ver. of JDK..does the version of JDK have any \nimpact in this.", "is_private": false, "id": 34514, "creator": "sravikumar@ctd.hcltech.com", "time": "2003-04-04T10:17:15Z", "bug_id": 18650, "creation_time": "2003-04-04T10:17:15Z", "attachment_id": null}, {"count": 5, "attachment_id": null, "bug_id": 18650, "text": "I am unable to reproduce it. This looks like a JDK bug. Please do not reopen the\nreport.", "id": 35524, "time": "2003-04-18T13:47:30Z", "creator": "remm@apache.org", "creation_time": "2003-04-18T13:47:30Z", "tags": [], "is_private": false}, {"count": 6, "attachment_id": null, "bug_id": 18650, "text": "This may not be a bug per se, but is an unfriendly error message.  It is caused \nby an incorrect <context> entry.  I've replicated this using Tomcat 4.1.27.  Do \nthe following:\n\n1. Create a lib directory under %TOMCAT_HOME%\\webapps\\examples\\WEB-INF and copy \na jar into it (I used ant.jar, version 1.5.2).\n\n2. Change the value of the path of the example application server.xml, change:\n\n        <Context path=\"/examples\" docBase=\"examples\" debug=\"0\"\n                 reloadable=\"true\" crossContext=\"true\">\n\nto\n\n        <Context path=\"examples\" docBase=\"examples\" debug=\"0\"\n                 reloadable=\"true\" crossContext=\"true\">\n\n(ie - remove the leading slash).\n\n3. Start tomcat.  Watch the examples log, here's what I get:\n\n2003-08-05 06:46:15 WebappLoader[examples]: Deploying class repositories to \nwork directory C:\\programs\\jakarta-tomcat-4.1.27\n\\work\\Standalone\\localhost\\examples\n2003-08-05 06:46:15 WebappLoader[examples]: Deploy class files /WEB-INF/classes \nto C:\\programs\\jakarta-tomcat-4.1.27\\bin\\..\\webapps\\examples\\WEB-INF\\classes\n2003-08-05 06:46:15 WebappLoader[examples]: Deploy JAR /WEB-INF/lib/ant.jar to \nC:\\programs\\jakarta-tomcat-4.1.27\\bin\\..\\webapps\\examples\\WEB-INF\\lib\\ant.jar\n2003-08-05 06:46:15 WebappLoader[examples]: Reloading checks are enabled for \nthis Context\n2003-08-05 06:46:16 ContextConfig[examples] Exception processing JAR at \nresource path /WEB-INF/lib/ant.jar\njavax.servlet.ServletException: Exception processing JAR at resource path /WEB-\nINF/lib/ant.jar\n\tat org.apache.catalina.startup.ContextConfig.tldScanJar\n(ContextConfig.java:930)\n\tat org.apache.catalina.startup.ContextConfig.tldScan\n(ContextConfig.java:868)\n\tat org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:647)\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:243)\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n\tat org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3568)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:738)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:347)\n\tat org.apache.catalina.core.StandardService.start\n(StandardService.java:497)\n\tat org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2190)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:512)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n----- Root Cause -----\njava.io.FileNotFoundException\n\tat org.apache.naming.resources.DirContextURLConnection.getInputStream\n(DirContextURLConnection.java:344)\n\tat sun.net.www.protocol.jar.URLJarFile.retrieve(URLJarFile.java:161)\n\tat sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:42)\n\tat sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:78)\n\tat sun.net.www.protocol.jar.JarURLConnection.connect\n(JarURLConnection.java:85)\n\tat sun.net.www.protocol.jar.JarURLConnection.getJarFile\n(JarURLConnection.java:69)\n\tat org.apache.catalina.startup.ContextConfig.tldScanJar\n(ContextConfig.java:906)\n\tat org.apache.catalina.startup.ContextConfig.tldScan\n(ContextConfig.java:868)\n\tat org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:647)\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:243)\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n\tat org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3568)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:738)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:347)\n\tat org.apache.catalina.core.StandardService.start\n(StandardService.java:497)\n\tat org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2190)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:512)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n\n2003-08-05 06:46:16 ContextConfig[examples]: Marking this application \nunavailable due to previous error(s)\n2003-08-05 06:46:16 StandardManager[examples]: Seeding random number generator \nclass java.security.SecureRandom\n2003-08-05 06:46:16 StandardManager[examples]: Seeding of random number \ngenerator has been completed\n2003-08-05 06:46:16 StandardContext[examples]: Context startup failed due to \nprevious errors\n", "id": 42126, "time": "2003-08-05T06:52:03Z", "creator": "dim@colebatch.com", "creation_time": "2003-08-05T06:52:03Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "creator": "emailbillgraham@yahoo.com", "text": "Here's a valid test case for you, as simple as it gets:\n\n1. Install tomcat 4.1.27.\n2. Delete, rename or remove write privileges on $CATALINA_BASE/temp.\n3. Start catalina.\n4. Inspect the logs of any webapp that contains a jar that needs the catalina \ntemp/ directory (i.e., localhost_admin_log.<date>.txt). You will see something \nlike this:\n\n2003-11-03 15:18:44 ContextConfig[/admin] Exception processing JAR at resource \npath /WEB-INF/lib/struts.jar\njavax.servlet.ServletException: Exception processing JAR at resource path /WEB-\nINF/lib/struts.jar\n        at org.apache.catalina.startup.ContextConfig.tldScanJar\n(ContextConfig.java:930)\n        at org.apache.catalina.startup.ContextConfig.tldScan\n(ContextConfig.java:868)\n        at org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:647)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:243)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n        at org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3568)\n        at org.apache.catalina.core.ContainerBase.addChildInternal\n(ContainerBase.java:821)\n        at org.apache.catalina.core.ContainerBase.addChild\n(ContainerBase.java:807)\n        at org.apache.catalina.core.StandardHost.addChild\n(StandardHost.java:579)\n        at org.apache.catalina.core.StandardHostDeployer.addChild\n(StandardHostDeployer.java:700)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.commons.beanutils.MethodUtils.invokeMethod\n(MethodUtils.java:252)\n        at org.apache.commons.digester.SetNextRule.end(SetNextRule.java:256)\n        at org.apache.commons.digester.Rule.end(Rule.java:276)\n        at org.apache.commons.digester.Digester.endElement(Digester.java:1058)\n        at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown \nSource)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEndElement\n(Unknown Source)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher\n.dispatch(Unknown Source\n)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.commons.digester.Digester.parse(Digester.java:1567)\n        at org.apache.catalina.core.StandardHostDeployer.install\n(StandardHostDeployer.java:385)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:803)\n        at org.apache.catalina.startup.HostConfig.deployDescriptors\n(HostConfig.java:442)\n        at org.apache.catalina.startup.HostConfig.deployApps\n(HostConfig.java:399)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:718)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent\n(HostConfig.java:358)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n        at org.apache.catalina.core.ContainerBase.start\n(ContainerBase.java:1196)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:738)\n        at org.apache.catalina.core.ContainerBase.start\n(ContainerBase.java:1188)\n        at org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:347)\n        at org.apache.catalina.core.StandardService.start\n(StandardService.java:497)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2190)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:512)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n----- Root Cause -----\njava.io.IOException: No such file or directory\n        at java.io.UnixFileSystem.createFileExclusively(Native Method)\n        at java.io.File.checkAndCreate(File.java:1314)\n        at java.io.File.createTempFile(File.java:1402)\n        at java.io.File.createTempFile(File.java:1439)\n        at sun.net.www.protocol.jar.URLJarFile$1.run(URLJarFile.java:169)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.net.www.protocol.jar.URLJarFile.retrieve(URLJarFile.java:164)\n        at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:42)\n        at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:68)\n        at sun.net.www.protocol.jar.JarURLConnection.connect\n(JarURLConnection.java:85)\n        at sun.net.www.protocol.jar.JarURLConnection.getJarFile\n(JarURLConnection.java:69)\n        at org.apache.catalina.startup.ContextConfig.tldScanJar\n(ContextConfig.java:906)\n        at org.apache.catalina.startup.ContextConfig.tldScan\n(ContextConfig.java:868)\n        at org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:647)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:243)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n        at org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3568)\n        at org.apache.catalina.core.ContainerBase.addChildInternal\n(ContainerBase.java:821)\n        at org.apache.catalina.core.ContainerBase.addChild\n(ContainerBase.java:807)\n        at org.apache.catalina.core.StandardHost.addChild\n(StandardHost.java:579)\n        at org.apache.catalina.core.StandardHostDeployer.addChild\n(StandardHostDeployer.java:700)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.commons.beanutils.MethodUtils.invokeMethod\n(MethodUtils.java:252)\n        at org.apache.commons.digester.SetNextRule.end(SetNextRule.java:256)\n        at org.apache.commons.digester.Rule.end(Rule.java:276)\n        at org.apache.commons.digester.Digester.endElement(Digester.java:1058)\n        at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown \nSource)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEndElement\n(Unknown Source)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher\n.dispatch(Unknown Source\n)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.commons.digester.Digester.parse(Digester.java:1567)\n        at org.apache.catalina.core.StandardHostDeployer.install\n(StandardHostDeployer.java:385)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:803)\n        at org.apache.catalina.startup.HostConfig.deployDescriptors\n(HostConfig.java:442)\n        at org.apache.catalina.startup.HostConfig.deployApps\n(HostConfig.java:399)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:718)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent\n(HostConfig.java:358)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n        at org.apache.catalina.core.ContainerBase.start\n(ContainerBase.java:1196)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:738)\n        at org.apache.catalina.core.ContainerBase.start\n(ContainerBase.java:1188)\n        at org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:347)\n\nThis is a bug in the error messaging when the required temp/ directory is not \navailable to write to, which hardly apparent by the messaging. This bug took \nme half a day to track down while trying to test a tomcat upgrade from 4.0.3 -\n> 4.1.27. IMHO, comments like \"I doubt you can find a valid [test case to \nreproduce]\" are condesending and uncalled for.", "id": 46705, "time": "2003-11-03T23:46:44Z", "bug_id": 18650, "creation_time": "2003-11-03T23:46:44Z", "is_private": false, "attachment_id": null}, {"count": 8, "attachment_id": null, "bug_id": 18650, "text": "This is not a valid test case.\n\"temp\" is the JDK temp dir, and as such is needed to be able to read JARs.", "id": 46732, "time": "2003-11-04T07:27:06Z", "creator": "remm@apache.org", "creation_time": "2003-11-04T07:27:06Z", "tags": [], "is_private": false}, {"count": 9, "attachment_id": null, "bug_id": 18650, "text": "The requirement that $CATALINA_BASE/temp must exist for temp files came \nsomewhere between 4.0.3 and 4.1.27. I agree that it's now a necessary \ndirectory for the jdk, and I wasn't advocating deleting $CATALINA_BASE/temp \nfrom the tomcat install, or that it shouldn't be required. My intent was to \nshow how the poor error messaging would appear if $CATALINA_BASE/temp doesn't \nexist.\n\nA more valid test case would involve upgrading an application running on 4.0.3 \nset up in a way that $CATALINA_BASE != $CATALINA_HOME (a realistic scenario) \nto 4.1.27. The upgrade to 4.1.27 will not work without $CATALINA_BASE/temp, \nand the user will have no indication why based on the error messaging.\n\nThis upgrade scenerio above happened to me, as I'm sure it will happen to \nothers. It took me a better part of the day to figure out that all that was \nneeded was to do 'mkdir $CATALINA_BASE/temp'. With better error messaging, \nthis can be avoided.", "id": 46813, "time": "2003-11-04T20:36:55Z", "creator": "emailbillgraham@yahoo.com", "creation_time": "2003-11-04T20:36:55Z", "tags": [], "is_private": false}, {"count": 10, "attachment_id": null, "bug_id": 18650, "is_private": false, "id": 59691, "time": "2004-06-21T22:20:42Z", "creator": "markt@apache.org", "creation_time": "2004-06-21T22:20:42Z", "tags": [], "text": "This has been fixed in CVS. If an IOException occurs, the ability to write to \nthe temp directory is tested and an explicit error message given if the \ndirectory is not writable (includes the case when the directory is not \npresent). "}]