[{"count": 0, "tags": [], "bug_id": 53758, "attachment_id": null, "id": 161596, "time": "2012-08-21T19:59:03Z", "creator": "djgraff209@gmail.com", "creation_time": "2012-08-21T19:59:03Z", "is_private": false, "text": "In the class org.apache.catalina.core.ApplicationFilterRegistration, the methods addMappingForServletNames and addMappingForUrlPatterns have inverted logic on how to register the filter to the context.\n\nIf the parameter isMatchAfter is passed as true, the filter is placed in the context using the addFilterMapBefore method.\n\nif (isMatchAfter) {\n    context.addFilterMapBefore(filterMap);\n} else {\n    context.addFilterMap(filterMap);\n}\n\nThe logic should ultimate be (in both methods):\n\nif (!isMatchAfter) {\n    context.addFilterMapBefore(filterMap);\n} else {\n    context.addFilterMap(filterMap);\n}\n\nor\n\nif (isMatchAfter) {\n    context.addFilterMap(filterMap);\n} else {\n    context.addFilterMapBefore(filterMap);\n}\n\n\n\nsvn rev on trunk is 1375614"}, {"count": 1, "attachment_id": null, "creator": "markt@apache.org", "is_private": false, "id": 161712, "time": "2012-08-26T22:31:55Z", "bug_id": 53758, "creation_time": "2012-08-26T22:31:55Z", "tags": [], "text": "Thanks for the report and the analysis to pin-point the root cause.\n\nThis has been fixed in trunk and 7.0.x and will be included in 7.0.30 onwards."}, {"count": 2, "attachment_id": null, "creator": "djgraff209@gmail.com", "is_private": false, "id": 161717, "time": "2012-08-26T23:12:22Z", "bug_id": 53758, "creation_time": "2012-08-26T23:12:22Z", "tags": [], "text": "Glad I could help"}]