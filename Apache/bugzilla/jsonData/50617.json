[{"count": 0, "tags": [], "creator": "danimni@gmail.com", "attachment_id": 26515, "id": 143471, "time": "2011-01-19T08:42:10Z", "bug_id": 50617, "creation_time": "2011-01-19T08:42:10Z", "is_private": false, "text": "Created attachment 26515\nScreenshot of my issue\n\nMy configuration:\nJboss as the app server\n\nMy Steps:\n1. Created 'Monitor Results' as explain it the manual. Since i am working with jboss, the URL for the data is 'http://<IP>:8080/status?XML=true'\n2. ran the test\n3. look the 'Monitor Results'\n\nThere are two tabs:\n'Health' tab and 'Performance' tab.\nThe 'Health' tab shows the server name and besides it, a black dot, indicating \"Dead\" server. On the other hand, the left pane is active. It shows the load colours from green to red. In my case, it changes from green to yellow and vice versa.\n\nThe 'Performance' tab shows the following graphs:\nLoad, Memory and Thread. The 'Health' green line is not drawn.\n\nsee attached file - 'Bug Screenshot.png'"}, {"count": 1, "text": "Created attachment 27529\nFix to the issue\n\nHello,\nIssue was due to the fact that if cntr.getThreadInfo().getCurrentThreadsBusy() returns 0, the server is considered as dead because we enter last condition:\n            int max = cntr.getThreadInfo().getMaxThreads();\n            int current = cntr.getThreadInfo().getCurrentThreadsBusy();\n            // int spare = cntr.getThreadInfo().getMaxSpareThreads();\n            double per = (double) current / (double) max;\n            if (per > WARNING_PER) {\n                return WARNING;\n            } else if (per >= ACTIVE_PER && per <= WARNING_PER) {\n                return ACTIVE;\n            } else if (per < ACTIVE_PER && per > HEALTHY_PER) {\n                return HEALTHY;\n            } else {\n                return DEAD;\n            }\n\n\nThis case can happen if for example, connectorPrefix is set to http-8443 while load test is on port 8080, then first connector will really have 0 busy threads but it will be alive.\n\nRegards\nPhilippe", "bug_id": 50617, "is_private": false, "id": 149463, "time": "2011-09-18T21:00:44Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-09-18T21:00:44Z", "tags": [], "attachment_id": 27529}, {"attachment_id": 27530, "tags": [], "bug_id": 50617, "text": "Created attachment 27530\nTest plan that shows the issue\n\nIn this example I monitor http-8443 and see it reproduces the bug mentionned.", "count": 2, "id": 149464, "time": "2011-09-18T21:04:03Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-09-18T21:04:03Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 50617, "attachment_id": null, "id": 149467, "time": "2011-09-19T00:31:14Z", "creator": "sebb@apache.org", "creation_time": "2011-09-19T00:31:14Z", "is_private": false, "text": "Thanks, applied:\n\nURL: http://svn.apache.org/viewvc?rev=1172398&view=rev\nLog:\nBug 50617 - Monitor Results legend show \"dead\" server although values from the server are retrieved\n\nModified:\n   jakarta/jmeter/trunk/src/monitor/components/org/apache/jmeter/monitor/util/Stats.java\n   jakarta/jmeter/trunk/xdocs/changes.xml"}]