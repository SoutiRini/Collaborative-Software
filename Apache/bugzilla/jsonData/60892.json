[{"count": 0, "tags": [], "creator": "czacharym@gmail.com", "is_private": false, "id": 197838, "attachment_id": null, "bug_id": 60892, "creation_time": "2017-03-20T20:47:00Z", "time": "2017-03-20T20:47:00Z", "text": "I would like to make a feature request that will allow Tomcat to clear the \"work\" directory in context destroy (shutdown/undeploy).  This feature exists in JBoss.  Would be great to have this in Tomcat so manual cleanup is not needed.\n\nThis can be done is JBoss this way:\n\n-Dorg.jboss.as.web.deployment.DELETE_WORK_DIR_ONCONTEXTDESTROY=true\n\nWould be a good feature to have something similar in Tomcat."}, {"count": 1, "attachment_id": null, "bug_id": 60892, "is_private": false, "id": 197888, "time": "2017-03-21T23:08:00Z", "creator": "markt@apache.org", "creation_time": "2017-03-21T23:08:00Z", "tags": [], "text": "The work directory contains:\n- class files (and possible java files) for JSP pages\n- serialized sessions that were active on shutdown\n\nThe work directory is removed automatically when a web application is undeployed.\n\nThe work directory is not removed when Tomcat is shutdown.\n\nIf the work directory were removed on shutdown it would:\n- break the default session persistence across restarts\n- slow first access to JSPs as each would need to be re-compiled\n\nGiven that the work directory is removed on undeployment (if you have an issue with locked files that is a different problem) and that removing the work directory on shutdown breaks stuff, I'm leaning towards resolving this as WONTFIX. However, I'll leave it open for now in case there are points I have missed."}, {"count": 2, "tags": [], "text": "It has been a couple of weeks with no further comment. Closing this as WONTFIX.", "is_private": false, "id": 198154, "creator": "markt@apache.org", "time": "2017-04-04T14:19:03Z", "bug_id": 60892, "creation_time": "2017-04-04T14:19:03Z", "attachment_id": null}]