[{"count": 0, "attachment_id": null, "bug_id": 10703, "text": "Recent conversations on jetty, advanced-servlet and struts mailing lists have\nshown that there are differing interpretations of what getRequestURI() should\nreturn after a RequestDispatcher.forward().   As this has cause struts to\nnot work on some containers, it would be good to have a watchdog test to\ncheck for the correct behaviour.\n\n\nSection 8.4:\n\n     'The path elements of the request object exposed to\n     the target servlet must reflect the path used to obtain\n     the RequestDispatcher.'\"\n\nPer Section 4.4, the request path elements are context path,\nservlet path, and path info.  So this would indicate that getRequestURI()\nis not changed by a forward.\n\nHowever Section 8.4 also says:\n\n      \"It is important to note that, except for URL encoding\n     differences, the following equation is always true:\n\n     requestURI = contextPath + servletPath + pathInfo\"\n\nSo changing the path methods requires that getRequestURI also changes.\n\nNote that getRequestURI returns an non-decoded URIs, so the test should check\nfor the right handling of RD requested with encoded paths.", "id": 19337, "time": "2002-07-11T17:07:26Z", "creator": "gregw@mortbay.org", "creation_time": "2002-07-11T17:07:26Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "gregw@mortbay.org", "is_private": false, "id": 20086, "creation_time": "2002-07-23T22:15:54Z", "time": "2002-07-23T22:15:54Z", "bug_id": 10703, "text": "Also need to check getRequestURL", "attachment_id": null}]