[{"count": 0, "tags": [], "creator": "yilong.li@runtimeverification.com", "attachment_id": null, "is_private": false, "id": 185146, "time": "2015-09-12T16:04:47Z", "bug_id": 58383, "creation_time": "2015-09-12T16:04:47Z", "text": "Reported by RV-Predict (a dynamic race detector) when running the test suite:\nData race on field java.util.HashMap.$state: {{{\n    Concurrent read in thread T48 (locks held: {})\n ---->  at org.apache.catalina.tribes.transport.SenderState.getSenderState(SenderState.java:45)\n        at org.apache.catalina.tribes.transport.SenderState.getSenderState(SenderState.java:41)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:244)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T48 is created by T38\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T57 (locks held: {Monitor@552f7995})\n ---->  at org.apache.catalina.tribes.transport.SenderState.getSenderState(SenderState.java:51)\n        - locked Monitor@552f7995 at org.apache.catalina.tribes.transport.SenderState.getSenderState(SenderState.java:47)\n        at org.apache.catalina.tribes.transport.SenderState.getSenderState(SenderState.java:41)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:244)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T57 is created by T40\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n}}} \n\nData race on field java.util.HashMap.$state: {{{\n    Concurrent read in thread T189 (locks held: {})\n ---->  at org.apache.catalina.tribes.transport.SenderState.getSenderState(SenderState.java:45)\n        at org.apache.catalina.tribes.transport.SenderState.getSenderState(SenderState.java:41)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:244)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T189 is created by T185\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T188 (locks held: {Monitor@552f7995})\n ---->  at org.apache.catalina.tribes.transport.SenderState.removeSenderState(SenderState.java:60)\n        - locked Monitor@552f7995 at org.apache.catalina.tribes.transport.SenderState.removeSenderState(SenderState.java:59)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberDisappeared(ChannelCoordinator.java:250)\n        at org.apache.catalina.tribes.membership.McastService.memberDisappeared(McastService.java:471)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$4.run(McastServiceImpl.java:467)\n    T188 is created by T168\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n}}}"}, {"count": 1, "tags": [], "bug_id": 58383, "text": "Fixed in trunk and 8.0.x for 8.0.27 onwards.", "id": 185253, "time": "2015-09-15T13:28:36Z", "creator": "markt@apache.org", "creation_time": "2015-09-15T13:28:36Z", "is_private": false, "attachment_id": null}]