[{"count": 0, "tags": [], "creator": "tractomula@gmail.com", "attachment_id": 30109, "text": "Created attachment 30109\nIncludes console output showing the handshake and the java.net.SocketException\n\nJMeter: 2.9r1437961\nOS: Windows 7 64 bits\nJava version: jdk1.7.0_17\nAttach: Full debug information from java console (output.txt)\n\nAlready consulted https://issues.apache.org/bugzilla/show_bug.cgi?id=53922 but it says that it should not happen with Java 7. \n\nI created an HTTP request to https://clui.xstratacoal.com.au and found the following exception (worked with other secure sites): \n\njavax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\n\tat sun.security.ssl.SSLSessionImpl.getPeerCertificates(Unknown Source)\n\tat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:126)\n\tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:572)\n\tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n\tat org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:294)\n\tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:645)\n\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:480)\n\tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\n\tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:805)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.sample(HTTPHC4Impl.java:286)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:62)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1088)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1077)\n\tat org.apache.jmeter.threads.JMeterThread.process_sampler(JMeterThread.java:428)\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:256)\n\tat java.lang.Thread.run(Unknown Source)", "id": 166190, "time": "2013-03-28T04:27:32Z", "bug_id": 54759, "creation_time": "2013-03-28T04:27:32Z", "is_private": false}, {"count": 1, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": 30132, "is_private": false, "id": 166308, "time": "2013-04-01T20:34:02Z", "bug_id": 54759, "creation_time": "2013-04-01T20:34:02Z", "text": "Created attachment 30132\nTest showing failure with HttpClient"}, {"count": 2, "tags": [], "bug_id": 54759, "is_private": false, "text": "Created attachment 30133\nTest showing failure with Java API", "id": 166309, "time": "2013-04-01T20:34:22Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2013-04-01T20:34:22Z", "attachment_id": 30133}, {"count": 3, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "is_private": false, "id": 166310, "time": "2013-04-01T20:35:27Z", "bug_id": 54759, "creation_time": "2013-04-01T20:35:27Z", "text": "This is very strange, this website URL fails with :\n- Java core API\n- HTTPClient4 core API\n\nwith last jdk6 and last jdk7."}, {"count": 4, "tags": [], "bug_id": 54759, "attachment_id": null, "id": 166600, "time": "2013-04-14T15:08:57Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2013-04-14T15:08:57Z", "is_private": false, "text": "For Java Impl add this to system.properties:\nhttps.protocols=SSLv3\n\nIt will fix issue for Java Implementation.\n\nSo it seems the server only supports SSLv3, attempt to negotiate upwards from v2 to v3 seems not to be supported by server.\n\nTo fix it for HC family it seems we need to call this on SSL Socket:\n- socket.setEnabledProtocols(new String[] { \"SSLv3\" });\n\nWe need to find a way to make this configurable."}, {"count": 5, "tags": [], "bug_id": 54759, "attachment_id": null, "id": 166606, "creation_time": "2013-04-14T20:03:22Z", "time": "2013-04-14T20:03:22Z", "creator": "p.mouawad@ubik-ingenierie.com", "text": "After further analysis, in fact property in jmeter.properties already exists and is named:\n#https.socket.protocols=SSLv2Hello SSLv3 TLSv1\n\nSetting it to this fixes issue\nhttps.socket.protocols=SSLv3\n\nI will document this property.", "is_private": false}, {"count": 6, "tags": [], "bug_id": 54759, "is_private": false, "text": "Date: Sun Apr 14 20:04:49 2013\nNew Revision: 1467823\n\nURL: http://svn.apache.org/r1467823\nLog:\nBug 54759 - SSLPeerUnverifiedException using HTTPS , property documented\nBugzilla Id: 54759\n\nModified:\n    jmeter/trunk/bin/jmeter.properties\n    jmeter/trunk/xdocs/changes.xml", "id": 166607, "time": "2013-04-14T20:05:30Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2013-04-14T20:05:30Z", "attachment_id": null}]