[{"count": 0, "tags": [], "bug_id": 56013, "text": "Created attachment 31208\nUnified GNU diff format of SpnegoAuthenticator.java and its updated version\n\nHi\n\nSpnegoAuthenticator is not working with IBM JDK v7. The option GSSCredential.DEFAULT_LIFETIME specified while generating ticket creates the following exception:-\n\nmajor code: 11, minor code: 0\n    major string: General failure, unspecified at GSSAPI level\n    minor string: Desired initLifetime zero or less)\n\nHowever specifying GSSCredential.INDEFINITE_LIFETIME as lifetime of credential resolves the issue. \n\nI am attaching a patch which optionally chooses cred lifetime as indefinite or default depending on whether the JDK is IBM JDK or Oracle/Sun JDK. This patch is with respect to SpnegoAuthenticator.java of tomcat v 7.0.50\n\nImpact of fix:-\n\n1. If not fixed then Tomcat does not work out of the box for Spnego Authentication(Kerberos) for IBM JDK v7\n\n2. The fix affects only IBM JDK and does not change the execution flow for Oracle/Sun JDK\n\nYours sincerely\nArunav Sanyal", "id": 172391, "time": "2014-01-15T10:17:00Z", "creator": "arunav.sanyal91@gmail.com", "creation_time": "2014-01-15T10:17:00Z", "is_private": false, "attachment_id": 31208}, {"count": 1, "tags": [], "bug_id": 56013, "attachment_id": null, "id": 172500, "time": "2014-01-19T19:32:43Z", "creator": "markt@apache.org", "creation_time": "2014-01-19T19:32:43Z", "is_private": false, "text": "Thanks for the patch.\n\nI used a variation of your patch as I made the current vendor information global as it is used elsewhere in the code base.\n\nThis has been fixed in 8.0.x for 8.0.0 onwards and in 7.0.x for 7.0.51 onwards."}]