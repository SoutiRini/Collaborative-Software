[{"count": 0, "tags": [], "bug_id": 44633, "attachment_id": null, "is_private": false, "id": 114749, "time": "2008-03-19T08:25:39Z", "creator": "hauser@acm.org", "creation_time": "2008-03-19T08:25:39Z", "text": "after happily using tomcat 6/java6, we had to move back to tomcat 5/java5. \n\nUnfortunately, it seems that one jar or .class files not yet compiled under java5 got there too.\n\nSuggestion:\n\nin  at org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:1815)\n\ncatch UnsupportedClassVersionError and re-throw it after adding hints with which class sought/jar file it happens!\n\njava.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:294)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:432)\nCaused by: java.lang.UnsupportedClassVersionError: Bad version number in .class file\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:620)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124)\n        at org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:1815)\n        at org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:869)\n        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1322)\n        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1201)\n        at org.apache.catalina.core.StandardWrapper$1.run(StandardWrapper.java:1017)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1013)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:932)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:3951)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4225)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1013)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:718)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1013)\n        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:442)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:450)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:709)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:551)\n        ... 6 more"}, {"attachment_id": 21704, "tags": [], "bug_id": 44633, "text": "Created attachment 21704\nLsjar.java\n\nthis is an approach to determine whether your jar files are the culprits\n\nso, if there is java5 the requirement, you shouldn't see a major of 50\n\njava -jar lsjar.jar -dir -jvmVersion /usr/share/tomcat/shared/lib/ | grep -v 48 | grep -v 46 | grep -v 49 | grep -v 47 | grep -v 45\n\n-- \n\nin my case, they aren't  :(", "count": 1, "id": 114908, "time": "2008-03-24T01:15:41Z", "creator": "hauser@acm.org", "creation_time": "2008-03-24T01:15:41Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 44633, "text": "I have patched trunk and proposed it for inclusion in 6.0.x", "id": 114919, "time": "2008-03-24T08:59:13Z", "creator": "markt@apache.org", "creation_time": "2008-03-24T08:59:13Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 44633, "attachment_id": null, "is_private": false, "id": 115337, "time": "2008-04-05T11:32:19Z", "creator": "markt@apache.org", "creation_time": "2008-04-05T11:32:19Z", "text": "This has been fixed in 6.0.x and will be in the 6.0.17 onwards."}, {"count": 4, "tags": [], "bug_id": 44633, "text": "Created attachment 21822\nLsjar2.java\n\nSome class files of a jar may not have been compiled with the same version of Java than the others. It therefore may be useful to check the version of each class file contained in a jar.", "id": 115609, "time": "2008-04-15T06:47:29Z", "creator": "arnaud.jotterand@caramail.com", "creation_time": "2008-04-15T06:47:29Z", "is_private": false, "attachment_id": 21822}, {"count": 5, "attachment_id": 21822, "creator": "arnaud.jotterand@caramail.com", "text": "Comment on attachment 21822\nLsjar2.java\n\nAdded an -all option to Lsjar.java that allow to check every class file in a jar.", "id": 115610, "time": "2008-04-15T06:49:27Z", "bug_id": 44633, "creation_time": "2008-04-15T06:49:27Z", "tags": [], "is_private": false}]