[{"count": 0, "tags": [], "creator": "Paul@UnnService.com", "attachment_id": null, "text": "The getLocalAddr() method returns null when using mod_jk.\n\n\nI've tried with both mod_jk version 1.2.28 and 1.2.30.", "id": 135390, "time": "2010-03-16T23:13:01Z", "bug_id": 48925, "creation_time": "2010-03-16T23:13:01Z", "is_private": false}, {"count": 1, "tags": [], "text": "Paul, can you reproduce this with a test case? If so please attach and I will be happy to take a look at it for you.\n\nRGS SY", "attachment_id": null, "bug_id": 48925, "id": 137004, "time": "2010-05-21T02:13:27Z", "creator": "syates_tc@stevendyates.com", "creation_time": "2010-05-21T02:13:27Z", "is_private": false}, {"count": 2, "tags": [], "creator": "adalfa@gmail.com", "attachment_id": 26262, "text": "Created attachment 26262\nsimple servlet to test getLocalAddr()", "id": 141506, "time": "2010-11-05T16:24:07Z", "bug_id": 48925, "creation_time": "2010-11-05T16:24:07Z", "is_private": false}, {"count": 3, "tags": [], "creator": "adalfa@gmail.com", "attachment_id": null, "text": "Hi Steven,\n\nI've encountered the same problem on iis 7.0 with isapi_Redirect 1.2.31 and i was able to reproduce the issue with mod_jk 1.2.30 with apache 2.2 both in tomcata 5.5 and 6.0.\nI'm not familiar with the test case used with mod_jk so i write a simple servlet that echoes the getLocalAddr value.\nIs that enough or you need more?\n\nthanks\n\n\nandrea", "id": 141508, "time": "2010-11-05T16:27:43Z", "bug_id": 48925, "creation_time": "2010-11-05T16:27:43Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 48925, "attachment_id": null, "id": 141512, "time": "2010-11-06T09:57:03Z", "creator": "adalfa@gmail.com", "creation_time": "2010-11-06T09:57:03Z", "is_private": false, "text": "I've tested mod_jk 1.2.30 with Jetty 7.2 and tomcat 7.0.4 and the problem does not occur anymore.\nin tomcat-6.0.29 i still have the issue"}, {"count": 5, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": null, "text": "I proposed a fix for Tomcat 6. It is available at\n\nhttp://people.apache.org/~rjung/patches/bz48925-tc6-ajp-localaddr.patch\n\nIt only happens for the default implementation of the AJP connector. If you\nswitch to protocol=\"org.apache.coyote.ajp.AjpProtocol\" in the connector\nconfiguration, it should be fine. That's the implementation used by Tomcat 7.\n\nNote also, that our implementation of localAddr() will simply return the same\nas localName(), so you can also switch to that method.\n\nRegards,\n\nRainer", "id": 141514, "time": "2010-11-06T11:44:38Z", "bug_id": 48925, "creation_time": "2010-11-06T11:44:38Z", "is_private": false}, {"count": 6, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": null, "text": "Patch applied in r1033643, will be part of Tomcat 6.0.30.\nNo fix needed and no workaround available for mod_jk.", "id": 141608, "time": "2010-11-10T14:05:03Z", "bug_id": 48925, "creation_time": "2010-11-10T14:05:03Z", "is_private": false}]