[{"count": 0, "tags": [], "creator": "jks@iname.com", "attachment_id": null, "text": "I have this in my apache config:\n<Directory \"/local/webapps/wa\">\n AuthType Basic\n AuthName \"wa\"\n AuthUserFile /usr/local/apache2/passwd/wa\n require user admins\n</Directory>\n\nThis will block requests for html files, even /server-status, but not jsps.  I'm\nusing jk connector 1.2.5", "id": 48755, "time": "2003-12-09T18:28:44Z", "bug_id": 25367, "creation_time": "2003-12-09T18:28:44Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 25367, "text": "This bug also occurs in jk2 2.0.2", "id": 53483, "time": "2004-03-05T05:57:06Z", "creator": "jks@iname.com", "creation_time": "2004-03-05T05:57:06Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "alexis@bookmark.fr", "text": "I posted this one in Apache 2.0 bug database.\nI think I found the problem but no soltution to it. \nI agree, this is a security issue.\n\n_______\n\nThere seems to be a difference between Apache 1.3 and 2.0 : they don't handle\nhtaccess files the same way. \n\nLet's say I have a site , protected with an authentification module (e.g\nmod_auth_pgsql)\nThe site is opened to eveyone, but some directories are dynamically group protected.\n\nIn this case, we have a httpd.conf with :\n\n                <Directory \"/var/www/html/mysite\">\n                        AuthName \"My Realm\"\n                        AuthType basic\n                        Auth_PG_host myhost.mydomain.org\n                        Auth_PG_port 5432\n                        Auth_PG_database users\n                        Auth_PG_encrypted off\n                        Auth_PG_user admin\n                        Auth_PG_pwd admin\n                         Auth_PG_pwd_table users\n                        Auth_PG_uid_field iduser\n                        Auth_PG_pwd_field passwd\n                        Auth_PG_grp_table group\n                        Auth_PG_grp_user_field iduser\n                        Auth_PG_grp_group_field group\n                        AllowOverride All\n               </Directory>\n\nand a .htaccess file in /var/www/html/mysite/secretdir that requires a\nparticular group\n\n             Require group secret\n\nThis works perfectly in both versions (1.3 and 2.0) with both mod_auth_pgsql\nadapted modules. All files within secretdir are protected.\n\nThe problem appears you're asking Apache to serve  JSP files, which are handled\nby  Tomcat through a mod_jk or mod_jk2 connector (same behavior, I tried it)\n\n- in Apache 1.3, the jsp files are protected like htm files : the .htaccess\ndirectives are taken into acount BEFORE tomcat handles jsp files\n- in Apache 2.0, the jsp is handled by tomcat WITHOUT looking to .htaccess (they\nare visible by everyone and I can't getRemoteUser - returns null)\n\nI tried to change the \"modules loading order\" without success.\nI have the same difference with mod_jk and mod_jk2, and with several\nBasic Authentication Modules.\n\nApache 2.0 works if the REQUIRE directive is set in httpd.conf, but this is not\ndynamical and therefore doesn't fit  my needs.\n\nI wonder if there is a magic trick to force Apache 2.0 to handle mod_jk like\nApache 1.3 does.\n\nConfiguration : (Apache 2.0.49 / Apache 1.3.27 + mod_jk / mod jk2 and tomcat 4.1.29)\n\nThanks for reading\n\nAlexis\n\n", "id": 63303, "time": "2004-09-09T17:24:13Z", "bug_id": 25367, "creation_time": "2004-09-09T17:24:13Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "\n\n*** This bug has been marked as a duplicate of 25055 ***", "id": 63308, "time": "2004-09-09T18:36:39Z", "bug_id": 25367, "creation_time": "2004-09-09T18:36:39Z", "is_private": false}]