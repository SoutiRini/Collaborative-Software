[{"count": 0, "attachment_id": null, "creator": "loz@cable.a2000.nl", "text": "Using the program below you get the following error:\n\nException in thread \"main\" java.lang.StackOverflowError\n        at org.apache.oro.text.regex.Perl5Matcher.__compare(Perl5Matcher.java:98\n)\n        at org.apache.oro.text.regex.Perl5Matcher.__match(Perl5Matcher.java:929)\n\n        at org.apache.oro.text.regex.Perl5Matcher.__match(Perl5Matcher.java:1144\n)\n        at org.apache.oro.text.regex.Perl5Matcher.__match(Perl5Matcher.java:1195\n)\n        at org.apache.oro.text.regex.Perl5Matcher.__match(Perl5Matcher.java:1156\n)\n        at org.apache.oro.text.regex.Perl5Matcher.__match(Perl5Matcher.java:1195\n)\n        at org.apache.oro.text.regex.Perl5Matcher.__match(Perl5Matcher.java:1156\n)\n        at org.apache.oro.text.regex.Perl5Matcher.__match(Perl5Matcher.java:1195\n)\n        at org.apache.oro.text.regex.Perl5Matcher.__match(Perl5Matcher.java:1156\n)\n        at org.apache.oro.text.regex.Perl5Matcher.__match(Perl5Matcher.java:1195\n\n\nThe funny thing is that you can delete any few characters from the input string \nand then the program will work correctly. I encountered this error using 2.0.3, \nbut it's also in 2.0.4. \n\n---------------------------------------------------------\n\nimport org.apache.oro.text.regex.*;\n\npublic class TestORO\n{\n    public static void main(String[] args) {\n        String input = \"&lt;box&gt;\\n\"\n                    + \"    <table cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\n\\\" width=\\\"100%\\\">\\n\"\n                    + \"      <tr>\\n\"\n                    + \"        <td valign=\\\"top\\\"><img \nsrc=\\\"/xxx/xxxxxx/xxxxxx/xxxxx/xxxxx.gif\\\" alt=\\\"\\\" align=\\\"top\\\" /></td>\\n\"\n                    + \"        <td class=\\\"content\\\" width=\\\"100%\\\">\\n\"\n                    + \"<br />  bla bla1\\n\"\n                    + \"        </td>\\n\"\n                    + \"      </tr>\\n\"\n                    + \"    </table>    <table cellspacing=\\\"0\\\" cellpadding=\\\"0\n\\\" border=\\\"0\\\" width=\\\"100%\\\">\\n\"\n                    + \"      <tr>\\n\"\n                    + \"        <td valign=\\\"top\\\"><img \nsrc=\\\"/xxx/xxxxxx/xxxxxx/xxxxx/xxxxx.gif\\\" alt=\\\"\\\" align=\\\"top\\\" /></td>\\n\"\n                    + \"        <td class=\\\"content\\\" width=\\\"100%\\\">\\n\"\n                    + \"<br />  bla bla2\\n\"\n                    + \"        </td>\\n\"\n                    + \"      </tr>\\n\"\n                    + \"    </table>    <table cellspacing=\\\"0\\\" cellpadding=\\\"0\n\\\" border=\\\"0\\\" width=\\\"100%\\\">\\n\"\n                    + \"      <tr>\\n\"\n                    + \"        <td valign=\\\"top\\\"><img \nsrc=\\\"/xxx/xxxxxx/xxxxxx/xxxxx/xxxxx.gif\\\" alt=\\\"\\\" align=\\\"top\\\" /></td>\\n\"\n                    + \"        <td class=\\\"content\\\" width=\\\"100%\\\">\\n\"\n                    + \"<br />  Bla Blablabla bla bla blablabla bla bla blabla \nblablablabla blablabla\\n\"\n                    + \"        </td>\\n\"\n                    + \"      </tr>\\n\"\n                    + \"    </table>    <table cellspacing=\\\"0\\\" cellpadding=\\\"0\n\\\" border=\\\"0\\\" width=\\\"100%\\\">\\n\"\n                    + \"      <tr>\\n\"\n                    + \"        <td valign=\\\"top\\\"><img \nsrc=\\\"/xxx/xxxxxx/xxxxxx/xxxxx/xxxxx.gif\\\" alt=\\\"\\\" align=\\\"top\\\" /></td>\\n\"\n                    + \"        <td class=\\\"content\\\" width=\\\"100%\\\">\\n\"\n                    + \"<br />  Blabla blablablabla bla blablabla bla bla \nblablabla bla blablablabla blabla\\n\"\n                    + \"        </td>\\n\"\n                    + \"      </tr>\\n\"\n                    + \"    </table>    <table cellspacing=\\\"0\\\" cellpadding=\\\"0\n\\\" border=\\\"0\\\" width=\\\"100%\\\">\\n\"\n                    + \"      <tr>\\n\"\n                    + \"        <td valign=\\\"top\\\"><img \nsrc=\\\"/xxx/xxxxxx/xxxxxx/xxxxx/xxxxx.gif\\\" alt=\\\"\\\" align=\\\"top\\\" /></td>\\n\"\n                    + \"        <td class=\\\"content\\\" width=\\\"100%\\\">\\n\"\n                    + \"<br />  bla bla5\\n\"\n                    + \"        </td>\\n\"\n                    + \"      </tr>\\n\"\n                    + \"    </table>&lt;/box&gt;\\n\";\n\n        input = substitute(input, \"&lt;box&gt;((.|\\n)*?)&lt;/box&gt;\", new \nStringSubstitution(\"foobar\"));\n\n        System.out.println(input);\n\n        System.out.println(\"\\nDone!\\n\");\n    }\n\n    private static String substitute(String input, String expression, \nSubstitution sub) {\n        // Create Perl5Compiler and Perl5Matcher instances.\n        PatternCompiler compiler = new Perl5Compiler();\n        PatternMatcher  matcher  = new Perl5Matcher();\n        Pattern         pattern  = null;\n\n        // Attempt to compile the pattern.\n        try {\n            pattern = compiler.compile(expression, \nPerl5Compiler.CASE_INSENSITIVE_MASK);\n        } catch (MalformedPatternException e) {\n            System.err.println(\"Bad pattern.\");\n            System.err.println(e.getMessage());\n            return \"\";\n        }\n\n        return Util.substitute(matcher, pattern, sub, input, \nUtil.SUBSTITUTE_ALL);\n    }\n}", "id": 8223, "time": "2001-11-23T13:27:56Z", "bug_id": 5055, "creation_time": "2001-11-23T13:27:56Z", "tags": [], "is_private": false}, {"text": "This is not a bug.  Perl does the same thing, only that it is better\nabout growing the stack size as necessary than Java.  Alternations\nare inherently recursive in nature.  The solution is either to use\na larger stack size for your JVM or, preferably, to use a more\nefficient regular expression (don't ever use (.|\\n) when . and\nSINGLELINE_MASK).  Search the email archives (keyword alternation)\nfor a discussion of why this isn't a bug.  Also refer to \nBug Report 3561 for related commentary. ", "tags": [], "bug_id": 5055, "is_private": false, "count": 1, "id": 8226, "time": "2001-11-23T15:52:45Z", "creator": "dfs@apache.org", "creation_time": "2001-11-23T15:52:45Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "dfs@apache.org", "attachment_id": null, "text": "Closing because it's been 'Resolved Invalid' for a while.", "id": 9742, "time": "2002-01-18T12:31:22Z", "bug_id": 5055, "creation_time": "2002-01-18T12:31:22Z", "is_private": false}]