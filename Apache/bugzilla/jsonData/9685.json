[{"count": 0, "tags": [], "text": "I found it inconvenient to keep removing the apache_* and index.html.*\nfiles that kept getting copied into my existing htdocs directory\neverytime I rebuild 2.0.37.\nI have a patch for Makefile.in which doesn't try to install the\ndefault web page unless the htdocs directory doesn't exist. I also\nchange things not to remove the CVS subdirectory unless it has just\ndone a copy, so as not remove a CVS directory that is supposed to be\nthere.\n*** Makefile.in Fri Jun  7 01:15:18 2002\n--- Makefile.in.orig    Fri Jun  7 01:07:51 2002\n***************\n*** 104,116 ****\n\n  install-htdocs:\n        @echo Installing HTML documents\n!       @test -d $(htdocsdir) || ($(MKINSTALLDIRS) $(htdocsdir) && \\\n!               test -d $(htdocs-srcdir) && (cd $(htdocs-srcdir) && \\\n!               cp -rp * $(htdocsdir)) && \\\n!               test \"x$(htdocsdir)\" != \"x\" && cd $(htdocsdir) && \\\n!               find . -name \"CVS\" -print | xargs rm -rf)\n        @test -d $(manualdir) || $(MKINSTALLDIRS) $(manualdir)\n        @test -d $(top_srcdir)/docs/manual && (cd $(top_srcdir)/docs/manual && cp -rp * $(manualdir))\n\n  install-error:\n        @echo Installing error documents\n--- 104,114 ----\n\n  install-htdocs:\n        @echo Installing HTML documents\n!       @test -d $(htdocsdir) || $(MKINSTALLDIRS) $(htdocsdir)\n!       @test -d $(htdocs-srcdir) && (cd $(htdocs-srcdir) && cp -rp * $(htdocsdir))\n        @test -d $(manualdir) || $(MKINSTALLDIRS) $(manualdir)\n        @test -d $(top_srcdir)/docs/manual && (cd $(top_srcdir)/docs/manual && cp -rp * $(manualdir))\n+       @test \"x$(htdocsdir)\" != \"x\" && cd $(htdocsdir) && find . -name \"CVS\" -print | xargs rm -rf\n\n  install-error:\n        @echo Installing error documents", "is_private": false, "bug_id": 9685, "id": 17390, "time": "2002-06-07T06:41:40Z", "creator": "bruno@wolff.to", "creation_time": "2002-06-07T06:41:40Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 9685, "attachment_id": null, "id": 18892, "time": "2002-07-02T21:47:44Z", "creator": "trawick@apache.org", "creation_time": "2002-07-02T21:47:44Z", "is_private": false, "text": "A different implementation of this (almost exactly the same\nfunction) was committed recently, after 2.0.39 was released.\nIt will be in the next Apache release.\n\nThanks for using Apache!\n"}, {"count": 2, "tags": [], "bug_id": 9685, "attachment_id": null, "id": 18908, "time": "2002-07-03T01:14:28Z", "creator": "bruno@wolff.to", "creation_time": "2002-07-03T01:14:28Z", "is_private": false, "text": "Thanks. I had already noticed the new feature. I am still resyncing\nfrom CVS every couple of days. Your new version leaves each subdirectory\nof htdocs alone if it already exists. That is better than what I had\nasked for, since I don't want cgi-bin scripts to get added either.\nCurrently the only thing I want updated there is the manual, and I\ncan just do a rm or mv right before make install to get that. Other\npeople who customize the manual may not want it written over either."}]