[{"count": 0, "tags": [], "bug_id": 40555, "is_private": false, "text": "I patched the cocoon.xconf with the file below (hope the attribute remove\ninstead of unless is correct). Added the sample xml-Files to\n<pub>/lenya/modules/xhmlt/samples.\n\nThis results in three radio buttons on the create doc screen with the correct\nlabels - so far encouraging.\n\nNow several problems I have encountered:\n- When I submit the form the same layout is taken no matter which one I click on\nbefore.\n- When I submit the form with invalid values, the chosen sample does not stay it\njumps back to the top one.\n- The order of the samples seems somewhat random (not the same order written in\nthe .xconf patch file).\n- There should be a markup to determine which sample is the (new) default sample\n\n\nFile to patch cocoon.xconf (in <pub>/config/cocoon-xconf/resource-type-xhtml.xconf\n\n<?xml version=\"1.0\"?>\n\n<xconf xpath=\"/cocoon/resource-types\"\nremove=\"/cocoon/resource-types/component-instance[@name = 'xhtml']\">\n  \n  <component-instance name=\"xhtml\"\n    logger=\"lenya.resourcetypes.xhtml\"\n    class=\"org.apache.lenya.cms.publication.ResourceTypeImpl\">\n    <schema language=\"http://relaxng.org/ns/structure/0.9\"\n      src=\"fallback://lenya/modules/xhtml/resources/schemas/xhtml.rng\"/>\n    \n    <!-- Default time in seconds until the resource-type has expired -->  \n    <expires seconds=\"3600\" />\n    \n    <!-- Document Samples -->\n    <sample-name name=\"Two Column\nLayout\">fallback://lenya/modules/xhtml/samples/xhtml-2col.xml</sample-name>   \n    <sample-name name=\"One Column\nLayout\">fallback://lenya/modules/xhtml/samples/xhtml.xml</sample-name>\n    <sample-name name=\"One Column with\nhighlights\">fallback://lenya/modules/xhtml/samples/xhtml-highlights.xml</sample-name>\n    \n    <link-attribute xpath=\"//*[namespace-uri() =\n'http://www.w3.org/1999/xhtml']/@href\"/>\n    <format name=\"xhtml\" uri=\"cocoon://modules/xhtml/xhtml.xml\"/>\n    <format name=\"webdavGET\" uri=\"cocoon://modules/xhtml/davget.xml\"/>\n    <format name=\"luceneIndex\" uri=\"cocoon://modules/xhtml/lucene-index\"/>\n  </component-instance>\n  \n</xconf>", "id": 93920, "time": "2006-09-20T13:50:40Z", "creator": "ragaller@apache.org", "creation_time": "2006-09-20T13:50:40Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 40555, "text": "More comments on this:\n\n1) if the node name field in the create screen is empty, a java error occurs\n(not a lenya gui message telling the user to fill in a value)\n2) In case of an error, the language selection jumps back to the default language\n3) The error messages seem to be hardcoded in english inside of Create.java\n\nJ\u00fcrgen", "id": 95289, "time": "2006-11-01T06:39:00Z", "creator": "ragaller@apache.org", "creation_time": "2006-11-01T06:39:00Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "andreas@apache.org", "text": "> When I submit the form with invalid values,\n> the chosen sample does not stay it jumps back to the top one.\n\nThis seems to work now.\n\n> - The order of the samples seems somewhat random\n> (not the same order written in the .xconf patch file).\n\nThe order from .xconf is now preserved.", "count": 2, "id": 96809, "time": "2006-12-12T07:23:49Z", "bug_id": 40555, "creation_time": "2006-12-12T07:23:49Z", "is_private": false}, {"count": 3, "text": "> When I submit the form the same layout is taken no matter\n> which one I click on before.\n\nThis is fixed.", "bug_id": 40555, "is_private": false, "id": 96813, "time": "2006-12-12T08:25:36Z", "creator": "andreas@apache.org", "creation_time": "2006-12-12T08:25:36Z", "tags": [], "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 40555, "attachment_id": null, "is_private": false, "id": 96816, "time": "2006-12-12T08:58:31Z", "creator": "andreas@apache.org", "creation_time": "2006-12-12T08:58:31Z", "text": "> There should be a markup to determine which sample\n> is the (new) default sample\n\nIMO we don't need this - the first sample is the default sample, you can change\nthe order if you want a different sample to be the default one."}, {"count": 5, "tags": [], "bug_id": 40555, "text": "I think these issues are resolved. If not, please re-open.", "id": 102060, "time": "2007-04-23T01:57:31Z", "creator": "andreas@apache.org", "creation_time": "2007-04-23T01:57:31Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "thorsten@apache.org", "text": "Renaming Lenya 1.4 to 2.0", "count": 6, "id": 105601, "time": "2007-07-16T01:59:32Z", "bug_id": 40555, "creation_time": "2007-07-16T01:59:32Z", "is_private": false}]