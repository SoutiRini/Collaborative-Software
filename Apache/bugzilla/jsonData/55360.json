[{"count": 0, "tags": [], "bug_id": 55360, "attachment_id": null, "id": 169143, "time": "2013-08-05T17:46:39Z", "creator": "mike.rumph@oracle.com", "creation_time": "2013-08-05T17:46:39Z", "is_private": false, "text": "The X and T command line options for support/ab utility can cause buffer overflow resulting in segmentation faults.\n\nBoth of these options do strcpy into fixed length buffers of length 1024.\n\nAs an example, the following test results in a segmentation fault on my Linux 64 system:\n\n$ ./ab -T text/a123456789...512 times...a123456789 localhost:8080/welcome.html\nThe total length of the -T value is 5125 bytes.\n\nI've also tried up to a length of 3845 bytes without getting a segmentation fault.\nBut even in this case the 1024 byte buffer would still be overridden.\n\nThere are also 2 fixed length buffers that are no longer referenced (postfile and url) and 3 other fixed length buffers that could potentially overflow (servername, buffer, _request).\n\nI will submit a patch for the X and T options and remove the unreferenced buffers.\n\nA fix for the other potential overflows will require a more careful study of the code."}, {"count": 1, "tags": [], "bug_id": 55360, "attachment_id": 30676, "text": "Created attachment 30676\nFix potential overflows for X and T options of support/ab.\n\nThe added patch replaces strcpy calls with the use of an APR pool.\nThe patch also removes 2 unreferenced fixed length buffers.", "id": 169144, "time": "2013-08-05T17:50:18Z", "creator": "mike.rumph@oracle.com", "creation_time": "2013-08-05T17:50:18Z", "is_private": false}, {"count": 2, "tags": [], "creator": "trawick@apache.org", "text": "This is now in trunk as r1510707, and nominated for inclusion in 2.4.next.", "id": 169181, "time": "2013-08-06T13:09:30Z", "bug_id": 55360, "creation_time": "2013-08-06T13:09:30Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "trawick@apache.org", "text": "in 2.4.x branch with r1515370", "id": 169570, "time": "2013-08-19T11:47:43Z", "bug_id": 55360, "creation_time": "2013-08-19T11:47:43Z", "is_private": false, "attachment_id": null}]