[{"count": 0, "attachment_id": null, "creator": "steve_vaz@harvardpilgrim.org", "is_private": false, "id": 15248, "time": "2002-05-01T15:49:02Z", "bug_id": 8700, "creation_time": "2002-05-01T15:49:02Z", "tags": [], "text": "After running the shutdown, tomcat appears to have shutdown in that the pages \nare no longer accessible. But once you restart it you get the error message \nstating that something is already running on that port. And if you retry the \nshutdown you get the message that nothing listening on that port. The only way \nto restart tomcat is to kill the process id and then rerun the startup script."}, {"count": 1, "tags": [], "text": "Are you creating an RMI server in one of your servlets? Or any new Thread...", "is_private": false, "bug_id": 8700, "id": 15250, "time": "2002-05-01T15:56:12Z", "creator": "pier@betaversion.org", "creation_time": "2002-05-01T15:56:12Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 8700, "text": "This is essentially what we have for server.xml. We don't have any servlets \nother than any installed by default.\n\n\n<!-- A \"Server\" is a singleton element that represents the entire JVM,\n     which may contain one or more \"Service\" instances.  The Server\n     listens for a shutdown command on the indicated port.\n\n     Note:  A \"Server\" is not itself a \"Container\", so you may not\n     define subcomponents such as \"Valves\" or \"Loggers\" at this level.\n -->\n\n<Server port=\"4040\" shutdown=\"SHUTDOWN\" debug=\"0\">\n\n\n  <!-- Define the Tomcat Stand-Alone Service -->\n  <Service name=\"Tomcat-Apache\">\n    \n    <Connector className=\"org.apache.catalina.connector.warp.WarpConnector\"\n               port=\"4041\" minProcessors=\"5\" maxProcessors=\"75\"\n               enableLookups=\"true\" \n               acceptCount=\"10\" debug=\"0\" connectionTimeout=\"60000\"/>\n    <!-- Note : To disable connection timeouts, set connectionTimeout value \n     to -1 -->\n\n    <Engine className=\"org.apache.catalina.connector.warp.WarpEngine\" \n     name=\"Apache\" defaultHost=\"localhost\" debug=\"0\">\n\n      <!-- Global logger unless overridden at lower levels -->\n      <Logger className=\"org.apache.catalina.logger.FileLogger\"\n              prefix=\"apache_log.\" suffix=\".txt\"\n              timestamp=\"true\"/>\n\n      <!-- Define the default virtual host -->\n      <Host name=\"localhost\" debug=\"0\" appBase=\"webapps\" unpackWARs=\"true\" />\n\n    </Engine>\n\n  </Service>\n\n</Server>", "id": 15251, "time": "2002-05-01T16:00:41Z", "creator": "steve_vaz@harvardpilgrim.org", "creation_time": "2002-05-01T16:00:41Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "creator": "remm@apache.org", "text": "Catalina doesn't shutdown if there is a non-daemon thread still running.\nCatalina does clean all its threads correctly, so the VM would exist. If you\ncreate threads, you either have to shut them down, or mark them as daemons.\n\nI didn't lose hope yet to make that more robust somewhere in the 4.1.x releases.\nProbably not anytime soon, though.", "id": 15265, "time": "2002-05-01T18:50:35Z", "bug_id": 8700, "creation_time": "2002-05-01T18:50:35Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "text": "On HP-UX, make sure you pass -XdoCloseWithReadPending as a JVM arg. (Also make\nsure any non-daemon threads are running, this ones easy by doing a stack dump\nand looking for non-daemon threads)", "is_private": false, "id": 35491, "creator": "funkman@joedog.org", "time": "2003-04-18T12:57:15Z", "bug_id": 8700, "creation_time": "2003-04-18T12:57:15Z", "attachment_id": null}]