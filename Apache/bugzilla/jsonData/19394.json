[{"count": 0, "tags": [], "bug_id": 19394, "is_private": false, "id": 36250, "attachment_id": null, "creator": "jasencio_cydu@hotmail.com", "creation_time": "2003-04-28T17:44:48Z", "time": "2003-04-28T17:44:48Z", "text": "Hi All!.\n I using httpd-2.0.45 \n Configure: ./configure --prefix=/usr/local/apache2 --enable-ldap \n--enable-auth-ldap \n This is OK!\n\nthe error generated is when I maked!\nThat error:\nutil_ldap.c:81:2: #error mod_ldap requires APR-util to have LDAP support built i\nn\nutil_ldap.c: In function `util_ldap_handler':\nutil_ldap.c:174: warning: passing arg 1 of `ap_rputs' makes pointer from integer\n without a cast\nutil_ldap.c: At top level:\nutil_ldap.c:189: parse error before \"util_ldap_connection_close\"\nutil_ldap.c:189: parse error before '*' token\nutil_ldap.c: In function `util_ldap_connection_close':\nutil_ldap.c:206: `ldc' undeclared (first use in this function)\nutil_ldap.c:206: (Each undeclared identifier is reported only once\nutil_ldap.c:206: for each function it appears in.)\nutil_ldap.c: At top level:\nutil_ldap.c:216: parse error before \"util_ldap_connection_destroy\"\nutil_ldap.c: In function `util_ldap_connection_destroy':\nutil_ldap.c:218: `util_ldap_connection_t' undeclared (first use in this function\n)\n\n.\n.\n.\n\n\nmake[3]: *** [util_ldap.lo] Error 1\nmake[3]: Saliendo directorio `/tmp/httpd-2.0.45/modules/experimental'\nmake[2]: *** [all-recursive] Error 1\nmake[2]: Saliendo directorio `/tmp/httpd-2.0.45/modules/experimental'\nmake[1]: *** [all-recursive] Error 1\nmake[1]: Saliendo directorio `/tmp/httpd-2.0.45/modules'\nmake: *** [all-recursive] Error 1"}, {"count": 1, "tags": [], "bug_id": 19394, "is_private": false, "id": 43000, "attachment_id": null, "creator": "Gary.Vollink@CorVu.com", "creation_time": "2003-08-19T16:29:51Z", "time": "2003-08-19T16:29:51Z", "text": "Same behavior encountered under Apache-httpd-2.0.47.  Specifically:\n\nI'm trying to compile Apache from source for LDAP support. The LDAP module\nrequires a minimum of Apache 2.0.31. I downloaded the latest 2.0.47\n\nutil_ldap.c:81:2: #error mod_ldap requires APR-util to have LDAP support built in\n\nSo I download and build apr and apr-util (www.apache.org/dist/apr)\n\nNow I re-run configure...\n\n./configure --enable-cgi --enable-so \\\n--with-apr=/usr/local/apr \\\n--with-apr-util=/usr/local/apr \\\n--enable-ldap --enable-module=auth-ldap \\\n--enable-shared=auth-ldap \\\n--enable-ssl --enable-moduel=ssl \\\n--enable-shared=ssl\n\nConfigure doesn't complete - instead of trying to run GCC it incorrectly tries\nto run apr-util. OK, I can handle that...\n\nCC=gcc CPP=\"gcc -E\" ./configure --enable-cgi --enable-so \\\n--with-apr=/usr/local/apr \\\n--with-apr-util=/usr/local/apr \\\n--enable-ldap --enable-module=auth-ldap \\\n--enable-shared=auth-ldap \\\n--enable-ssl --enable-moduel=ssl \\\n--enable-shared=ssl\n\nGreat, so I make Apache - now here's the kicker...\n\nutil_ldap.c:81:2: #error mod_ldap requires APR-util to have LDAP support built in"}, {"count": 2, "tags": [], "bug_id": 19394, "attachment_id": null, "is_private": false, "id": 43014, "time": "2003-08-19T19:18:08Z", "creator": "Gary.Vollink@CorVu.com", "creation_time": "2003-08-19T19:18:08Z", "text": "Based on information on the Apache mailing list archives... I tried a different\nconfigure set-up, but I still have the same issue:\n\n  ./configure \\\n    --prefix=/usr/local/apache2 \\\n    --enable-cgi --enable-so \\\n    --with-perl=/bin/perl \\\n    --with-ldap-lib=/usr/lib \\\n    --with-ldap-include=/usr/include \\\n--enable-mods-shared=\"ssl info auth-ldap auth-dbm auth-digest mem-cache\" \\\n    --enable-auth-ldap \\\n    --enable-auth-dbm \\\n    --enable-auth-digest \\\n    --enable-mem-cache \\\n    --enable-ssl \\\n    --enable-info\n\nStill same result during compile:\n  util_ldap.c:81:2: #error mod_ldap requires APR-util to have LDAP support built in\n\nStill investigating."}, {"count": 3, "tags": [], "text": "...Out of my league.\n\nIt appears that the APR-Util (latest version) will not work directly in place of\nthe APR that is part of the Apache2 HTTPd source distribution.  << Really I\ntried >>.  Trying to make that work gives a bunch of apr related redefinitions\nin \"export.c\".  Unable to find a way to enable LDAP in the APR within the source\n(it seems to have APR and APR Util together, but configuring and compiling that\nversion before configuring and compiling the main httpd distribution made no\ndifference.\n\nSomeone on the mailing list suggested putting LDFLAGS and CPPFLAGS to point to\nthe folder locations where the ldap libraries and includes are - but this makes\nno difference (in my case, OpenLDAP was installed directly into /usr with\n/usr/include and /usr/lib being the default installation directories for these\nfiles).  That user had gotten this to work against Solaris with Solaris LDAP\nfiles, which may have a slightly different build process than Linux.", "is_private": false, "id": 43018, "creator": "Gary.Vollink@CorVu.com", "time": "2003-08-19T21:28:18Z", "bug_id": 19394, "creation_time": "2003-08-19T21:28:18Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 19394, "is_private": false, "id": 50713, "attachment_id": null, "creator": "noah@cs.caltech.edu", "creation_time": "2004-01-19T07:06:28Z", "time": "2004-01-19T07:06:28Z", "text": "Try passing --with-ldap to configure.  That makes the configure script for the\nincluded copy of apr-util enable LDAP support in apr-util.\n\n*** This bug has been marked as a duplicate of 17244 ***"}]