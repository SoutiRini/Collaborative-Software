[{"count": 0, "tags": [], "creator": "pr3fab@yahoo.com", "text": "Certain Request variables are not available to Tomcat, when the request\noriginates from Apache 2.0. There are also differences depending on the\nconnector used (jk or jk2). We use a snoop servlet for listing Request info,\nheaders and additional variables.\n\nwith jk\n-------\n Remote user: <none>\n Remote host: <none>\n Authorization type: Negotiate\n\nwith jk2\n-------\n Remote user: DOMAIN\\admin\n Remote host: pc3358e.nt.domain.com\n Authorization type: <none>\n\n\n\nFull list\n\nApache 2.0.46 (win32) - Tomcat 4.1.24 (win32) - mod_jk-1.2.4-2.0.46-w32\n\napache httpd.conf:\n---------------------\n#\n# Configure mode_jk\n#\nJkWorkersFile C:\\Data\\Apache\\ApacheX0\\Tomcat\\conf\\workers.properties\nJkLogFile C:\\Data\\Apache\\ApacheX0\\logs\\mod_jk.log\nJkLogLevel info\nJkEnvVar REMOTE_USER NONE\n---------------------\n\nsnoop results:\n\nRequested URL:\n==============\n http://tango:16000/public/snoop\n\n\nRequest information:\n====================\n Request method: GET\n Request URI: /public/snoop\n Request protocol: HTTP/1.1\n Servlet path: /snoop\n Path info: <none>\n Path translated: <none>\n Query string: <none>\n Content length: 0\n Content type: <none>\n Server name: tango\n Server port: 16000\n Remote user: <none>\n Remote address: 10.201.128.161\n Remote host: <none>\n Authorization type: Negotiate\n Character Encoding: <none>\n Requested Session Id: <none>\n Scheme: http\n\nRequest headers:\n================\n authorization: Negotiate YIIFPgYGKwYBBQUCoIIFMjCCBS6gMD<snip>\n content-length: 0\n accept-encoding: gzip, deflate\n connection: Keep-Alive\n host: tango:16000\n accept-language: en-gb\n user-agent: Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0)\n accept: */*\n\nExtra Servlet attributes:\n=========================\n REMOTE_USER = DOMAIN\\admin\n\nResponse Information:\n=====================\nMIME character encoding: ISO-8859-1\n\n\nApache 2.0.46 (win32) - Tomcat 4.1.24 (win32) - mod_jk2-2.0.2-2.0.43-w32\nApache 2.0.46 (win32) - Tomcat 4.1.24 (win32) - mod_jk2-2.0.3-dev-2.0.46-w32\n\njk2.properties:\n---------------------\n# Set the desired handler list\nhandler.list=channelSocket,request\nrequest.tomcatAuthentication=false\n#\n# Override the default port for the socketChannel\nchannelSocket.port=8019\n---------------------\n\n\nsnoop results:\n\nRequested URL:\n==============\n http://tango:16000/public/snoop\n\n\nRequest information:\n====================\n Request method: GET\n Request URI: /public/snoop\n Request protocol: HTTP/1.1\n Servlet path: /snoop\n Path info: <none>\n Path translated: <none>\n Query string: <none>\n Content length: 0\n Content type: <none>\n Server name: tango\n Server port: 16000\n Remote user: DOMAIN\\admin\n Remote address: 10.201.128.161\n Remote host: pc3358e.nt.domain.com\n Authorization type: <none>\n Character Encoding: <none>\n Requested Session Id: <none>\n Scheme: http\n\nRequest headers:\n================\n accept: */*\n accept-language: en-gb\n accept-encoding: gzip, deflate\n user-agent: Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0)\n host: tango:16000\n connection: Keep-Alive\n authorization: Negotiate YIIFPgYGKwYBBQUCoIIFMjCCBS6gMD<snip>\n content-length: 0\n\nNo extra attributes\n===================\nResponse Information:\n=====================\nMIME character encoding: ISO-8859-1", "id": 39553, "time": "2003-06-27T15:34:00Z", "bug_id": 21146, "creation_time": "2003-06-27T15:34:00Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 21146, "is_private": false, "id": 63419, "attachment_id": null, "creator": "markt@apache.org", "creation_time": "2004-09-12T18:50:02Z", "time": "2004-09-12T18:50:02Z", "text": "*** Bug 20300 has been marked as a duplicate of this bug. ***"}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 68874, "time": "2004-12-22T23:10:52Z", "bug_id": 21146, "creation_time": "2004-12-22T23:10:52Z", "is_private": false, "text": "There have been many fixes since 1.2.4. Please can you retest with the latest \nrelease (1.2.8-RC1)?\n\nIf there is no update to this bug report within the next 3 months, I will \nassume that this issue has been fixed in 1.2.8-RC1 and later."}, {"count": 3, "tags": [], "creator": "mturk@apache.org", "text": "To be able to get the auth from webserver in front use the\ntomcatAuthentication=\"false\" inside your \n<Connector port=\"8009\" ... />\n", "id": 68937, "time": "2004-12-23T16:32:25Z", "bug_id": 21146, "creation_time": "2004-12-23T16:32:25Z", "is_private": false, "attachment_id": null}]