[{"count": 0, "text": "In the serializeNode method of the rev.1.24, which I believe the latest,\n\n(near line 966)\n--------------\nif ( !_indenting || getElementState().preserveSpace\n|| !(text.replace('\\n',' ').trim() != \"\"))\n    characters( node.getNodeValue() );\n--------------\n\nThe correct code should be\n\n--------------\nif ( !_indenting || getElementState().preserveSpace\n|| !text.replace('\\n',' ').trim().equals(\"\") )\n    characters( node.getNodeValue() );\n--------------\n\nI think we can't compare two strings by using != or == in serializer.\nI also confirmed that the above fix is actually solve the problem.\n\nI hope this bug to be fixed soon because this bug prevents everyone\nfrom serializing DOM.", "bug_id": 1695, "attachment_id": null, "id": 2373, "time": "2001-05-09T18:59:38Z", "creator": "kohsukekawaguchi@yahoo.com", "creation_time": "2001-05-09T18:59:38Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 1695, "attachment_id": null, "is_private": false, "id": 2376, "time": "2001-05-09T20:02:29Z", "creator": "lehors@apache.org", "creation_time": "2001-05-09T20:02:29Z", "text": "Fixing it the way you suggest would reverse the test which I don't think is \nwhat you meant. Otherwise, it's generally more efficient to use length() == 0, \nso that's what I used.\nHope this solves your problem! Oh, next time, please specify which file you're \ntalking about! Thanks.\n"}, {"count": 2, "tags": [], "bug_id": 1695, "attachment_id": null, "text": "Forget what I said about reversing the test, you are right the original code is \nwrong on that front too and, despite what I said, I reversed it too. :-)\n", "id": 2381, "time": "2001-05-10T07:12:22Z", "creator": "lehors@apache.org", "creation_time": "2001-05-10T07:12:22Z", "is_private": false}]