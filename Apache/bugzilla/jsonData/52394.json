[{"text": "Created attachment 28102\ndiff -c output that could be applied as a patch for ssl_engine_kernel.c\n\nxlc does not accept #if #else and/or #endif blocks within a function call\nThe following code fails:\n=========\n        ap_log_error(APLOG_MARK, APLOG_EMERG, 0, s, APLOGNO(01910)\n#ifndef OPENSSL_NO_EC\n                \"Oops, no RSA, DSA or ECC server certificate found \"\n#else\n                \"Oops, no RSA or DSA server certificate found \"\n#endif\n                \"for '%s:%d'?!\", s->server_hostname, s->port);\n========\nThe following code is accepted:\n========\n#ifndef OPENSSL_NO_EC\n        ap_log_error(APLOG_MARK, APLOG_EMERG, 0, s, APLOGNO(01910)\n        \"Oops, no RSA, DSA or ECC server certificate found \"\n                \"for '%s:%d'?!\", s->server_hostname, s->port);\n#else\n        ap_log_error(APLOG_MARK, APLOG_EMERG, 0, s, APLOGNO(01910)\n        \"Oops, no RSA or DSA server certificate found \"\n                \"for '%s:%d'?!\", s->server_hostname, s->port);\n#endif\n========\ntail of finishing messages during build...\n        /data/prj/httpd-2.3.16-beta/srclib/apr/libtool --silent --mode=compile cc -qlanglvl=extc89 -qlanglvl=extc99 -qHALT=E  -I/opt/aixtools/include   -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARGEFILE64_SOURCE    -I. -I/data/prj/httpd-2.3.16-beta/os/unix -I/data/prj/httpd-2.3.16-beta/include -I/data/prj/httpd-2.3.16-beta/srclib/apr/include -I/data/prj/httpd-2.3.16-beta/srclib/apr-util/include -I/data/prj/httpd-2.3.16-beta/srclib/apr-util/xml/expat/lib -I/opt/aixtools/include -I/data/prj/httpd-2.3.16-beta/modules/aaa -I/data/prj/httpd-2.3.16-beta/modules/cache -I/data/prj/httpd-2.3.16-beta/modules/core -I/data/prj/httpd-2.3.16-beta/modules/database -I/data/prj/httpd-2.3.16-beta/modules/filters -I/data/prj/httpd-2.3.16-beta/modules/ldap -I/data/prj/httpd-2.3.16-beta/server -I/data/prj/httpd-2.3.16-beta/modules/loggers -I/data/prj/httpd-2.3.16-beta/modules/lua -I/data/prj/httpd-2.3.16-beta/modules/proxy -I/data/prj/httpd-2.3.16-beta/modules/session -I/data/prj/httpd-2.3.16-beta/modules/ssl -I/data/prj/httpd-2.3.16-beta/modules/test -I/data/prj/httpd-2.3.16-beta/server -I/data/prj/httpd-2.3.16-beta/modules/arch/unix -I/data/prj/httpd-2.3.16-beta/modules/dav/main -I/data/prj/httpd-2.3.16-beta/modules/generators -I/data/prj/httpd-2.3.16-beta/modules/mappers -prefer-pic -c ssl_engine_init.c && touch ssl_engine_init.slo\n\"ssl_engine_init.c\", line 1105.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1107.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1109.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1105.2: 1506-276 (S) Syntax error: possible missing ')'?\n\"ssl_engine_init.c\", line 1130.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1130.2: 1506-276 (S) Syntax error: possible missing ')'?\n\"ssl_engine_init.c\", line 1132.2: 1506-201 (S) #else can only appear within a #if, #elif, #ifdef or #ifndef block.\n\"ssl_engine_init.c\", line 1133.65: 1506-275 (S) Unexpected text ')' encountered.\n\"ssl_engine_init.c\", line 1134.2: 1506-202 (S) #endif can only appear at the end of a #if, #elif, #ifdef or #ifndef block.\n\"ssl_engine_init.c\", line 1435.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1435.2: 1506-045 (S) Undeclared identifier endif.\n\"ssl_engine_init.c\", line 1436.26: 1506-275 (S) Unexpected text integer constant encountered.\n\"ssl_engine_init.c\", line 1431.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1432.26: 1506-275 (S) Unexpected text integer constant encountered.\n\"ssl_engine_init.c\", line 1430.13: 1506-045 (S) Undeclared identifier ifdef.\n\"ssl_engine_init.c\", line 1431.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1432.26: 1506-275 (S) Unexpected text integer constant encountered.\n\"ssl_engine_init.c\", line 1431.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1433.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1438.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1440.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1442.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1432.26: 1506-276 (S) Syntax error: possible missing ')'?\n\"ssl_engine_init.c\", line 1430.13: 1506-098 (E) Missing argument(s).\n\"ssl_engine_init.c\", line 1430.13: 1506-275 (S) Unexpected text ')' encountered.\n\"ssl_engine_init.c\", line 1459.1: 1506-191 (E) The character # is not a valid C source character.\n\"ssl_engine_init.c\", line 1459.2: 1506-276 (S) Syntax error: possible missing ')'?\n\"ssl_engine_init.c\", line 1462.2: 1506-201 (S) #else can only appear within a #if, #elif, #ifdef or #ifndef block.\n\"ssl_engine_init.c\", line 1465.42: 1506-275 (S) Unexpected text ')' encountered.\n\"ssl_engine_init.c\", line 1466.2: 1506-202 (S) #endif can only appear at the end of a #if, #elif, #ifdef or #ifndef block.\nmake: 1254-004 The error code from the last command is 1.\n\n\nStop.\nmake: 1254-004 The error code from the last command is 1.\n\n\nStop.\nmake: 1254-004 The error code from the last command is 1.\n\n\nStop.\nmake: 1254-004 The error code from the last command is 1.\n\n\nStop.\nmake: 1254-004 The error code from the last command is 1.\n\n\nStop.\n=======\nAttachments are diff -c differences of patched output that compiles successfully.\nFiles affected:\nmodules/ssl/ssl_engine_init.c\nmodules/ssl/ssl_engine_kernel.c", "tags": [], "bug_id": 52394, "is_private": false, "count": 0, "id": 152455, "time": "2011-12-28T23:26:39Z", "creator": "mamfelt@gmail.com", "creation_time": "2011-12-28T23:26:39Z", "attachment_id": 28102}, {"count": 1, "tags": [], "bug_id": 52394, "is_private": false, "text": "Created attachment 28103\ndiff -c output that could be applied as a patch for ssl_engine_init.c", "id": 152456, "time": "2011-12-28T23:27:59Z", "creator": "mamfelt@gmail.com", "creation_time": "2011-12-28T23:27:59Z", "attachment_id": 28103}, {"count": 2, "attachment_id": null, "creator": "sf@sfritsch.de", "is_private": false, "id": 152461, "time": "2011-12-29T09:11:16Z", "bug_id": 52394, "creation_time": "2011-12-29T09:11:16Z", "tags": [], "text": "Fixed slightly differently in r1225476 and r1225477"}]