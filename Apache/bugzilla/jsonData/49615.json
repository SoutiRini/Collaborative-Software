[{"count": 0, "tags": [], "creator": "abassouK@gmail.com", "attachment_id": 25784, "is_private": false, "id": 138514, "time": "2010-07-19T09:22:41Z", "bug_id": 49615, "creation_time": "2010-07-19T09:22:41Z", "text": "Created attachment 25784\nProposed fix, please review.\n\nWhen a class literal is loaded from the constant pool, the BCELifier produces not compilable code. The attached patch fixes this issue with 3 modifications:\n* LDC#getValue(): when a class constant is referenced, return a correct ObjectType instance.\n* PUSH: new constructor that takes an ObjectType instance and does the right thing (I hope)\n* BCELFactory#createConstant(): if the constant is an ObjectType, produce the correct embedding string."}, {"count": 1, "tags": [], "creator": "dbrosius@mebigfatguy.com", "is_private": false, "text": "Here is a sample input class showing the problem:\n\npublic class Foo\n{\n\tpublic String getFooName()\n\t{\n\t\treturn Foo.class.getName();\n\t}\n}", "id": 138529, "time": "2010-07-19T20:14:13Z", "bug_id": 49615, "creation_time": "2010-07-19T20:14:13Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "dbrosius@mebigfatguy.com", "text": "Patch fixes the issue. Seems good to me.\n\nApplied, thanks alot for your help.", "id": 138531, "time": "2010-07-19T20:29:45Z", "bug_id": 49615, "creation_time": "2010-07-19T20:29:45Z", "is_private": false, "attachment_id": null}]