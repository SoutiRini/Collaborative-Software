[{"count": 0, "tags": [], "bug_id": 16841, "attachment_id": null, "text": "Apache Ant version 1.6alpha compiled on February 3 2003\n\nI am running \"ant\" in the same directory as build.xml. When I echo the two\ndirectories, the string looks exactly equal, but the <if> jumps into the <else>\npart instead of the <then> part ???", "id": 30810, "time": "2003-02-06T13:40:24Z", "creator": "hauser@acm.org", "creation_time": "2003-02-06T13:40:24Z", "is_private": false}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "text": "May I ask which <if> task you are talking about?  There is no such task in Ant.\n\nWhat do you get for\n\n<conditon property=\"they.are.equal\">\n  <equals arg1=\"${user.dir} arg2=\"${basedir}\"/>\n</condition>\n<echo>${they.are.equal}</echo>\n", "id": 30818, "time": "2003-02-06T16:01:24Z", "bug_id": 16841, "creation_time": "2003-02-06T16:01:24Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "I beleive the user is using the if task from ant contrib\n\nThis is probably thier issue not ours.\n\nhttp://ant-contrib.sourceforge.net/ant-contrib/manual/tasks/index.html", "is_private": false, "id": 30822, "creator": "gus.heck@olin.edu", "time": "2003-02-06T16:28:42Z", "bug_id": 16841, "creation_time": "2003-02-06T16:28:42Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 16841, "attachment_id": null, "is_private": false, "id": 30825, "time": "2003-02-06T16:47:01Z", "creator": "hauser@acm.org", "creation_time": "2003-02-06T16:47:01Z", "text": "The output is \n<<Buildfile: buildErr.xml\n\nall:\n     [echo] ${they.are.equal}\n\nBUILD SUCCESSFUL\nTotal time: 1 second>>\n\nIrrespective of whether I do \n  <equals arg1=\"${user.dir}\" arg2=\"${basedir}\"/>\nor \n  <equals arg1=\"${user.dir}/abc\" arg2=\"${basedir}\"/>\n\nP.S.: Right, Diane Holt kindly directed me to the ant-contrib mainly for the\n\"foreach\" feature, but I guess this doesn't really matter here since the problem\noccurs identically with <condition...> as per Stefan's code snippet (amended\nwith an 'i' and a '\"'  ;)  )"}, {"count": 4, "tags": [], "bug_id": 16841, "is_private": false, "id": 30826, "attachment_id": null, "creator": "bodewig@apache.org", "creation_time": "2003-02-06T16:55:08Z", "time": "2003-02-06T16:55:08Z", "text": "OK,\n\n    <echo>basedir: &gt;${basedir}&lt;</echo>\n    <echo>user.dir: &gt;${user.dir}&lt;</echo>\n\nis?\n"}, {"count": 5, "tags": [], "bug_id": 16841, "is_private": false, "id": 30828, "attachment_id": null, "creator": "hauser@acm.org", "creation_time": "2003-02-06T17:11:18Z", "time": "2003-02-06T17:11:18Z", "text": "It's the drive-letter capitalization!\n\n<<Buildfile: buildErr.xml\n\nall:\n     [echo] ${they.are.equal}\n     [echo] basedir: >C:\\data<\n     [echo] user.dir: >c:\\data<\n\nBUILD SUCCESSFUL\nTotal time: 1 second>>\n\nNo clue how to fix that?"}, {"count": 6, "tags": [], "bug_id": 16841, "is_private": false, "id": 31130, "attachment_id": null, "creator": "bodewig@apache.org", "creation_time": "2003-02-12T14:42:19Z", "time": "2003-02-12T14:42:19Z", "text": "To fix your immediate problem, use the casesensitive attribute of <equals>.\n\nMore general.  user.dir is a Java system property and Ant will leave it untouched.\nbasedir is one of Ant's own properties - and this is where Ant enforces its\ncontract for file-names:  If Ant knows that it is dealing with a file, it is\ngoing to \"normalize\" the filename.  \"normalize\" involves bending slashes into\nthe \"right\" direction and capitalizing the drive letter on Windows (among other\nthings).\n\nIf you don't want to go for case-insensitive matches, you must \"normalize\"\nuser.dir as well, which can be done via\n\n<property name=\"user.dir.normalized\" location=\"${user.dir}\"/>\n"}, {"count": 7, "tags": [], "bug_id": 16841, "is_private": false, "id": 31210, "attachment_id": 4852, "creator": "hauser@acm.org", "creation_time": "2003-02-13T05:51:37Z", "time": "2003-02-13T05:51:37Z", "text": "Created attachment 4852\nPatch for using.html to help others avoid the issue here"}]