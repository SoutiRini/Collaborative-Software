[{"count": 0, "tags": [], "creator": "jiucai@qq.com", "attachment_id": null, "text": "When using tomcat8.0, itt starts and write logs as follows:\n(apache-tomcat-8.0.x)\n\n-rw-rw-r-- 1 app app 873710 Aug  4 20:08 catalina.log \n\n\nWhen using tomcat8.5.x, itt starts and write logs as follows:\n(apache-tomcat-8.5.4)\n\n-rw-r----- 1 app app 100824 Aug  4 20:10 catalina.log\n\nSo, tomcat8.5 caused other os users can not read its logs and webapps deployed at tomcat8.5.\n\nthe logs files should has permission 664, nit 640.\nI thinks its a very important change between 8.0 and 8.5, bug in changelog there was no one tell users this behaviour\u3002", "id": 192877, "time": "2016-08-04T12:42:01Z", "bug_id": 59942, "creation_time": "2016-08-04T12:42:01Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 59942, "text": "This change is listed in the changelog.\n\nIf you require further support on this issue, please address you questions to the Tomcat users' mailing list.", "id": 192879, "time": "2016-08-04T13:20:09Z", "creator": "markt@apache.org", "creation_time": "2016-08-04T13:20:09Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "jiucai@qq.com", "attachment_id": null, "text": "(In reply to Mark Thomas from comment #1)\n> This change is listed in the changelog.\n> \n> If you require further support on this issue, please address you questions\n> to the Tomcat users' mailing list.\n\nbut in http://tomcat.apache.org/tomcat-8.5-doc/changelog.html\nand http://tomcat.apache.org/tomcat-9.0-doc/changelog.html \nI can nout find msg about this change, could you give me the change message and url location ? thanks.", "id": 192902, "time": "2016-08-05T05:30:48Z", "bug_id": 59942, "creation_time": "2016-08-05T05:30:48Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "jiucai@qq.com", "text": "\nfinally, I found it at tomcat9.0 changelog \nhttp://tomcat.apache.org/tomcat-9.0-doc/changelog.html\nhere:\n\nTighten up the default file permissions for the .tar.gz distribution so no files or directories are world readable by default. Configure Tomcat to run with a default umask of 0027 which may be overridden by setting UMASK in setenv.sh. (markt) \n\n\nIn Tomcat8.5.x and Tomcat9.0.x, at bin/catalina.sh there sets umask when tomcat started , becuase umask=0027, so files cerated by tomcat will be 640 and dirs will be 750.\n\n# Set UMASK unless it has been overridden\nif [ -z \"$UMASK\" ]; then\n    UMASK=\"0027\"\nfi\numask $UMASK\n\n\nNow, When I start tomcat process, I set env var UMASK to 0022 will change back the way that log files created as tomcat8.0.", "count": 3, "id": 192905, "time": "2016-08-05T10:12:34Z", "bug_id": 59942, "creation_time": "2016-08-05T10:12:34Z", "is_private": false}]