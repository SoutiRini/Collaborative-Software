[{"attachment_id": 23417, "tags": [], "bug_id": 46915, "is_private": false, "count": 0, "id": 125800, "time": "2009-03-26T03:27:15Z", "creator": "kapilgupta77@gmail.com", "creation_time": "2009-03-26T03:27:15Z", "text": "Created attachment 23417\nmodified foreach.jsp file that reads properties file\n\nThere is issue with ResourceBundle using JSTL in tomcat 6. The problem is in using the following code\n\n${messageString.resourceBundle.keys}\n\nThe above code is not able to resolve the keys and result in printing of ???keys???\n\nHere messageString is a variable set using below code\n<fmt:setBundle basename=\"LocalStrings\" scope=\"session\" var=\"messageString\" />\n\nI have tested it with example jsp provided in the tomcat's example webapp.\n\nThe issue is reproducible with both JSTL1.1 and JSTL 1.2 and JDK 1.5 and 1.6\n\nHowever it is working fine in Tomcat 5.5\n\nAttached is the sample foreach.jsp with modified code to read a property file available in \\webapps\\examples\\WEB-INF\\classes folder under tomcat installation directory. \nJust place this file in examples webapp and view source"}, {"attachment_id": null, "tags": [], "bug_id": 46915, "text": "This has been fixed in trunk and proposed for 6.0.x", "count": 1, "id": 125823, "time": "2009-03-26T10:02:29Z", "creator": "markt@apache.org", "creation_time": "2009-03-26T10:02:29Z", "is_private": false}, {"count": 2, "attachment_id": null, "creator": "markt@apache.org", "text": "This has been fixed in 6.0.x and will be in 6.0.20 onwards.", "id": 126579, "time": "2009-04-28T04:16:24Z", "bug_id": 46915, "creation_time": "2009-04-28T04:16:24Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 46915, "text": "This bug should have been resolved as INVALID since the behaviour complained about is required by the EL specification.\n\nThere is no way to avoid this in Tomcat 6 but in Tomcat 7 onwards\n${messageString.resourceBundle.getKeys()} can be used.\n\nThe regression was reported as bug 53001.", "id": 155407, "time": "2012-03-30T16:37:20Z", "creator": "markt@apache.org", "creation_time": "2012-03-30T16:37:20Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "Confirming as INVALID.\n\nTo find the place in specification, search for the string of \"???\". -> it is in description of ResourceBundleELResolver.getValue(..) method.\n\n5.5.x might be different, because javax.el package and ResourceBundleELResolver were introduced with JSP 2.1.\n\nJust noting that JSTL has similar feature in its i18n tags - see fmt:message.", "is_private": false, "id": 155428, "creator": "knst.kolinko@gmail.com", "time": "2012-03-30T22:35:21Z", "bug_id": 46915, "creation_time": "2012-03-30T22:35:21Z", "attachment_id": null}]