[{"count": 0, "tags": [], "bug_id": 50256, "attachment_id": null, "text": "gcj implements some java 1.6 classes so ant detects it as a 1.6 jdk, but it should really be just 1.5.\n\nThis problem causes failures when building things like Xerces-J, which uses ant.java.version to set the java source level.\n\ncompile:\n[copy] Copying 23 files to /var/tmp/paludis/build/dev-java-Xerces-J-2.10.0/work/xerces-2_10_0/build/classes\n[xjavac] Compiling 704 source files to /var/tmp/paludis/build/dev-java-Xerces-J-2.10.0/work/xerces-2_10_0/build/classes\n[xjavac] Compliance level '1.5' is incompatible with source level '1.6'. A compliance level '1.6' or better is required", "id": 141638, "time": "2010-11-11T14:55:29Z", "creator": "eric225125@gmail.com", "creation_time": "2010-11-11T14:55:29Z", "is_private": false}, {"count": 1, "tags": [], "creator": "jglick@apache.org", "attachment_id": null, "id": 141641, "time": "2010-11-11T15:41:06Z", "bug_id": 50256, "creation_time": "2010-11-11T15:41:06Z", "is_private": false, "text": "(In reply to comment #0)\n> Xerces-J uses ant.java.version to set the java source level.\n\nIt shouldn't. The source level is an intrinsic property of the sources. Get them to set source=\"1.5\".\n\n> Compliance level '1.5' is incompatible with source level '1.6'.\n\nSounds like it is already setting target=\"1.5\", so certainly source must be set as well.\n\nThe bug still sounds valid for other reasons."}, {"count": 2, "tags": [], "creator": "eric225125@gmail.com", "attachment_id": null, "id": 141645, "time": "2010-11-11T17:50:16Z", "bug_id": 50256, "creation_time": "2010-11-11T17:50:16Z", "is_private": false, "text": "(In reply to comment #1)\n> It shouldn't. The source level is an intrinsic property of the sources. Get\n> them to set source=\"1.5\".\n\nI asked on the Xerces-J user mailing list and got the response:\n> No. This was intentional so that class files are generated at the\n> same level as the JDK used to compile Xerces. The source level cannot \n> be lower than the target.\n\nIt's possible I worded my question incorrectly, but, if I understand correctly, ant.java.version should still be 1.5 regardless."}, {"count": 3, "tags": [], "creator": "bodewig@apache.org", "text": "as I said on the user list, we can't simply detect \"it is gij\" and then downgrade\nto 1.5 because at one point in time gij may support the full feature set of Java6.\n\nThe best thing we could do is to pick a different class that has been added\nin Java6 but is not available in libgcj.\n\njava.net.CookieStore looks good - all other things in java.lang or .util\nI've checked seem to be in http://gcc.gnu.org/viewcvs/trunk/libjava/java/\nas well.", "id": 141905, "time": "2010-11-22T05:25:06Z", "bug_id": 50256, "creation_time": "2010-11-22T05:25:06Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "svn revision 1040148 uses Cookiestore now.", "is_private": false, "bug_id": 50256, "id": 142124, "time": "2010-11-29T10:30:18Z", "creator": "bodewig@apache.org", "creation_time": "2010-11-29T10:30:18Z", "attachment_id": null}]