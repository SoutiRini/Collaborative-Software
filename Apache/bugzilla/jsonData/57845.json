[{"count": 0, "tags": [], "creator": "j__n@yahoo.com", "attachment_id": null, "text": "Copied from http://stackoverflow.com/questions/24567224/tomcat-serving-cached-alias:\n\nSetup:  One jsp served at multiple urls:\n\n<welcome-file-list>\n    <welcome-file>index.jsp</welcome-file>\n</welcome-file-list>\n<servlet>\n    <servlet-name>Main</servlet-name>\n    <jsp-file>/index.jsp</jsp-file>\n</servlet>\n<servlet-mapping>\n    <servlet-name>Main</servlet-name>\n    <url-pattern>/advanced/</url-pattern>\n</servlet-mapping>\n\nWhen I change the contents of index.jsp and visit /, it is updated.  Then when I visit /advanced/ it is not updated.  I expect both URL's contents to be updated.  If I change index.jsp again and visit /advanced/ first, it is up-to-date, but / is not.\n\nI spent some time in org.apache.jasper.compiler.Compiler#isOutDated(boolean), and I've found that only the first URL that I visit is the one that is marked outDated. The second URL I visit is never marked outDated. So it's as if tomcat keeps two instances of JspServlet but share the same outDated information for the file, so when one JspServlet marks it as outDated and sets reload, the second JspServlet never recompiles it nor serves the recompiled version.\n\n(Also happened in 7.0.47 and some earlier versions of Tomcat7.  Never tried it on Tomcat6 or 8.)", "id": 182546, "time": "2015-04-22T07:18:52Z", "bug_id": 57845, "creation_time": "2015-04-22T07:18:52Z", "is_private": false}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 182591, "time": "2015-04-23T09:02:43Z", "bug_id": 57845, "creation_time": "2015-04-23T09:02:43Z", "text": "This is strange. Thanks for the report, I'm looking into this now. I can reproduce this with Tomcat trunk (9.0.x) so this looks like a bug somewhere in Jasper. I suspect it affects all current Tomcat versions.\n\nOnce I figure out, why this is happening, I should be able to put a patch together to fix it."}, {"count": 2, "tags": [], "bug_id": 57845, "attachment_id": null, "is_private": false, "id": 182597, "time": "2015-04-23T13:00:43Z", "creator": "markt@apache.org", "creation_time": "2015-04-23T13:00:43Z", "text": "Thanks for the report. This has been fixed in trunk (9.0.x), 8.0.x/trunk (for 8.0.22 onwards) and 7.0.x/trunk (for 7.0.62 onwards)."}, {"count": 3, "tags": [], "creator": "j__n@yahoo.com", "attachment_id": null, "text": "Thanks Mark!", "id": 182608, "time": "2015-04-24T03:25:43Z", "bug_id": 57845, "creation_time": "2015-04-24T03:25:43Z", "is_private": false}]