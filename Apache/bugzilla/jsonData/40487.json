[{"count": 0, "tags": [], "bug_id": 40487, "text": "The XSLT fails to pass arguments to the XSLT 2.0 processor (i.e. saxonb 8.8).\nThe problem here is that DTD attribute defaults are created although validation\nare turned off).\n\nExample files at\n\n   http://nw3.dk/ant-test/", "id": 93459, "time": "2006-09-12T20:31:54Z", "creator": "js@nw3.dk", "creation_time": "2006-09-12T20:31:54Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "I thought that validation and default handling are two\ndifferent actions.\nTry an invalid document.", "attachment_id": null, "id": 93460, "creator": "peterreilly@apache.org", "time": "2006-09-12T21:07:47Z", "bug_id": 40487, "creation_time": "2006-09-12T21:07:47Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 40487, "text": "As I read http://www.w3.org/TR/2006/REC-xml-20060816/#proc-types, validation and\nattribute defaukts are related items.", "count": 2, "id": 93463, "time": "2006-09-12T21:24:08Z", "creator": "js@nw3.dk", "creation_time": "2006-09-12T21:24:08Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 40487, "text": "Ok, I tried the following build file:\n<?xml version=\"1.0\"?>\n<project name=\"ant-demo\" default=\"test\">\n\n  <target name=\"clean\">\n    <delete quiet=\"yes\" file=\"demoxslt.html\"/>\n  </target>\n\n  <target name=\"test\" depends=\"clean\">\n    <xslt in=\"simple.xml\" out=\"demoxslt.html\" style=\"copy.xsl\">\n      \n      <factory name=\"net.sf.saxon.TransformerFactoryImpl\">\n        <attribute name=\"http://saxon.sf.net/feature/validation\"\n                   value=\"false\"/>\n      </factory>\n\n    </xslt>\n  </target>\n\n  <target name=\"test-invalidvalue\" depends=\"clean\">\n    <xslt in=\"simple.xml\" out=\"demoxslt.html\" style=\"copy.xsl\">\n      \n      <factory name=\"net.sf.saxon.TransformerFactoryImpl\">\n        <attribute name=\"http://saxon.sf.net/feature/validation\"\n                   value=\"true or is it?\"/>\n      </factory>\n\n    </xslt>\n  </target>\n\n  <target name=\"test-invalidname\" depends=\"clean\">\n    <xslt in=\"simple.xml\" out=\"demoxslt.html\" style=\"copy.xsl\">\n      \n      <factory name=\"net.sf.saxon.TransformerFactoryImpl\">\n        <attribute name=\"http://saxon.sf.net/feature/validation_or_is_it\"\n                   value=\"true\"/>\n      </factory>\n\n    </xslt>\n  </target>\n\n</project>\n\nif one does ant invalid-value -verbose\nthe xslt task throws a build exception:\nwith the following stack trace:\n\n\tat org.apache.tools.ant.taskdefs.XSLTProcess.process(XSLTProcess.java:696)\n\n\t... 18 more\n\n--- Nested Exception ---\n\njava.lang.IllegalArgumentException: DTD_VALIDATION must be a boolean\n\n\tat net.sf.saxon.Configuration.setConfigurationProperty(Configuration.java:2142)\n\n\tat\nnet.sf.saxon.TransformerFactoryImpl.setAttribute(TransformerFactoryImpl.java:342)\n\n\tat\norg.apache.tools.ant.taskdefs.optional.TraXLiaison.getFactory(TraXLiaison.java:375)\n\nThis shows clearly that a) the attribute has been passed to saxon and\nb) the attribute value has also been passed by ant to saxon.\nSo the issue is with the saxon xslt processor itself.", "id": 93466, "time": "2006-09-12T21:38:00Z", "creator": "peterreilly@apache.org", "creation_time": "2006-09-12T21:38:00Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "Peter,\n\nYou are right. My brain did not seem to function properly yester, so I didn't\nimmediate realize the concequence of your comment.\n\nThanks a lot", "is_private": false, "id": 93490, "creation_time": "2006-09-13T04:48:14Z", "time": "2006-09-13T04:48:14Z", "creator": "js@nw3.dk", "bug_id": 40487, "attachment_id": null}]