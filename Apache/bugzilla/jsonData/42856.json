[{"attachment_id": null, "tags": [], "bug_id": 42856, "text": "Commons-pool version 1.3, embbeded in Tocamt, has a memory leak\n(https://issues.apache.org/jira/browse/POOL-97?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#action_12484747)\n\nTrying to avoid this memory leak, I deployed older versions of commons-pool and\ncommons-dbcp in lib directory, and I defined my own factory attribute in a dbcp\nresource in context.xml.\n\n<Resource name=\"jdbc/ApplicationPool\" auth=\"Container\"\n\t  factory=\"org.apache.commons.dbcp.BasicDataSourceFactory\"\n          type=\"javax.sql.DataSource\" driverClassName=\"org.postgresql.Driver\"\n          url=\"jdbc:postgresql://DatabaseHost/DatabaseFile\"\n          username=\"DatabaseUser\" password=\"DatabasePassword\" maxActive=\"20\"\n          maxIdle=\"10\" maxWait=\"-1\"/>\n\nDoing some memory profiling, Tomcat still isn't releasing de pool properly. The\noffending class is \"org.apache.tomcat.util.modeler.BaseModelMBean\". It is\nretaining the pool in its \"resource\" attribute.\n\nYou can follow the discussion thread about this issue in tomcat-users list\n\nhttp://www.mail-archive.com/users@tomcat.apache.org/msg30838.html", "count": 0, "id": 105278, "time": "2007-07-11T03:30:26Z", "creator": "drodriguez@altiria.com", "creation_time": "2007-07-11T03:30:26Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 42856, "attachment_id": null, "text": "I've been doing some testing with the lastest 6.0.x code and the latest commons-pool and commons-dbcp and I can't reproduce this problem.\n\nI am going to assume that this bug has been fixed. If this is not the case, please re-open the bug. It would be a bug help if you could provide a test war the demonstrated the issue on a clean 6.0.x install.", "id": 116446, "time": "2008-05-10T12:06:50Z", "creator": "markt@apache.org", "creation_time": "2008-05-10T12:06:50Z", "is_private": false}]