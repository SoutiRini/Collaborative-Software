[{"count": 0, "tags": [], "bug_id": 2708, "attachment_id": null, "text": "When migrating to Xalan Java V. 2.2.D6 (from Xalan 1) I had to to some majour \ncode changes. One problem seems to be unfixable:\n\nMy XML document looks as follows:\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!DOCTYPE header [ \n <!ENTITY % ISOlat1 PUBLIC \"ISO 8879:1986//ENTITIES Added Latin 1//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOlat1.pen\" > %ISOlat1; \n <!ENTITY % ISOlat2 PUBLIC \"ISO 8879:1986//ENTITIES Added Latin 2//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOlat2.pen\" > %ISOlat2; \n <!ENTITY % ISOnum PUBLIC \"ISO 8879:1986//ENTITIES Numeric and Special \nGraphic//EN//XML\" \"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOnum.pen\" > \n%ISOnum; \n <!ENTITY % ISOpub PUBLIC \"ISO 8879:1986//ENTITIES Publishing//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOpub.pen\" > %ISOpub; \n <!ENTITY % ISOtech PUBLIC \"ISO 8879:1986//ENTITIES General Technical//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOtech.pen\" > %ISOtech; \n <!ENTITY % ISOgrk1 PUBLIC \"ISO 9573-15:1993//ENTITIES Greek Letters//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOgrk1.pen\" > %ISOgrk1; \n <!ENTITY % ISOgrk2 PUBLIC \"ISO 9573-15:1993//ENTITIES Monotoniko \nGreek//EN//XML\" \"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOgrk2.pen\" > \n%ISOgrk2; \n <!ENTITY % ISOgrk3 PUBLIC \"ISO 8879:1986//ENTITIES Greek Symbols//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOgrk3.pen\" > %ISOgrk3; \n ] > \n <header><issue><pinfo><pnm>U.S. National Science Foundation</pnm><pnm>u.s. \ndepartment of energy</pnm><pnm>los alamos national \nlaboratory</pnm><loc/></pinfo><jinfo><jid></jid><jtl></jtl><jsbt/><jabt/><issn/>\n<cdn/></jinfo><pubinfo><vid></vid><iid></iid><cd year=\"2000\" month=\"7\" \nday=\"26\"></cd></pubinfo></issue><artcon><genhdr language=\"en\"><artinfo><aid> \ncs.IR/000704</aid><artty artty=\"rp\"/><categ>Computer \nScience</categ></artinfo><tig><atl language=\"en\" purpose=\"normal\"><e5>Relevance \nas Deduction: A Logical View of Information \nRetrieval</e5></atl></tig><aug><au>Gianni Amati</au><au>Konstantinos \nGeorgatos</au></aug><aloc href=\"http://arXiv.org/abs/cs/0007041\"/><abs><p><e6>\\  \nThe problem of Information Retrieval is, given a set of documents D and aquery \nq, providing an algorithm for retrieving all documents in D relevant toq. \nHowever, retrieval should depend and be updated whenever the user is able \ntoprovide as an input a preferred set of relevant documents; this process \nisknown as em relevance feedback. Recent work in IR has been paying \ngreatattention to models which employ a logical approach; the advantage being \nthatone can have a simple computable characterization of retrieval on the basis \nofa pure logical analysis of retrieval. Most of the logical models make use \nofprobabilities or similar belief functions in order to introduce the \ninductivecomponent whereby uncertainty is treated. Their general paradigm is \nthefollowing: em find the nature of conditional $d\\imp q$ and then define \naprobability on the top of it. We just reverse this point of view; first use \nthenumerical information, frequencies or probabilities, then define your \nownlogical consequence. More generally, we claim that retrieval is a form \nofdeduction. We introduce a simple but powerful logical framework of \nrelevancefeedback, derived from the well founded area of nonmonotonic logic. \nThisdescription can help us evaluate, describe and compare from a theoretical \npointof view previous approaches based on conditionals or \nprobabilities.\\</e6></p></abs><kwdg><kwd>Information Retrieval</kwd><kwd>Logic \nin Computer Science</kwd></kwdg></genhdr></artcon></header>\n\nIt is held in a String variable.\n\nRunning the following code results in a NullPointerException which I found out \nwas thrown in StringPool.addSymbol\n\nDebugger Stack Trace Report:\n\nThread[main,5,main] (Alive)\nBreakpoint #1\n\n\tStringPool.addSymbol(String)\n\t\tthis=(org.apache.xerces.utils.StringPool) \norg.apache.xerces.utils.StringPool@7843\n\t\tstr=(java.lang.String) null\n\tDefaultEntityHandler.addExternalPEDecl(int, int, int, boolean)\n\t\tthis=(org.apache.xerces.readers.DefaultEntityHandler) \norg.apache.xerces.readers.DefaultEntityHandler@4d08\n\t\tname=(int) 37\n\t\tpublicId=(int) 38\n\t\tsystemId=(int) 39\n\t\tisExternal=(boolean) false\n\tXMLDTDScanner.scanEntityDecl()\n\t\tthis=(org.apache.xerces.framework.XMLDTDScanner) \norg.apache.xerces.framework.XMLDTDScanner@7c28\n\t\tisPEDecl=(boolean) true\n\t\tsawPERef=(boolean) false\n\t\tentityName=(int) 37\n\t\tsingle=(boolean) false\n\tXMLDTDScanner.scanDecls(boolean)\n\t\tthis=(org.apache.xerces.framework.XMLDTDScanner) \norg.apache.xerces.framework.XMLDTDScanner@7c28\n\t\textSubset=(boolean) false\n\t\tsubsetOffset=(int) 57\n\t\tparseTextDecl=(boolean) false\n\t\tprevState=(int) 50\n\t\tnewParseTextDecl=(boolean) false\n\t\tolddepth=(int) 1\n\tXMLDTDScanner.scanDoctypeDecl()\n\t\tthis=(org.apache.xerces.framework.XMLDTDScanner) \norg.apache.xerces.framework.XMLDTDScanner@7c28\n\t\tlbrkt=(boolean) true\n\t\tscanExternalSubset=(boolean) false\n\t\tpublicId=(int) -1\n\t\tsystemId=(int) -1\n\tXMLDocumentScanner.scanDoctypeDecl(boolean)\n\t\tthis=(org.apache.xerces.framework.XMLDocumentScanner) \norg.apache.xerces.framework.XMLDocumentScanner@54bf\n\t\tstandalone=(boolean) false\n\tPrologDispatcher.dispatch(boolean)\n\t\t\nthis=(org.apache.xerces.framework.XMLDocumentScanner$PrologDispatcher) \norg.apache.xerces.framework.XMLDocumentScanner$PrologDispatcher@7c23\n\t\tkeepgoing=(boolean) true\n\tXMLDocumentScanner.parseSome(boolean)\n\t\tthis=(org.apache.xerces.framework.XMLDocumentScanner) \norg.apache.xerces.framework.XMLDocumentScanner@54bf\n\t\tdoItAll=(boolean) true\n\tSAXParser(XMLParser).parse(InputSource)\n\t\tthis=(org.apache.xerces.parsers.SAXParser) \norg.apache.xerces.parsers.SAXParser@782d\n\t\tsource=(org.xml.sax.InputSource) org.xml.sax.InputSource@753b\n\tDTMManagerDefault.getDTM(Source, boolean, DTMWSFilter, boolean, boolean)\n\t\tthis=(org.apache.xml.dtm.ref.DTMManagerDefault) \norg.apache.xml.dtm.ref.DTMManagerDefault@5250\n\t\tsource=(javax.xml.transform.Source) \njavax.xml.transform.stream.StreamSource@6109\n\t\tunique=(boolean) false\n\t\twhiteSpaceFilter=(org.apache.xml.dtm.DTMWSFilter) \norg.apache.xalan.transformer.TransformerImpl@2c83\n\t\tincremental=(boolean) true\n\t\tdoIndexing=(boolean) true\n\t\txstringFactory=(org.apache.xml.utils.XMLStringFactory) \norg.apache.xpath.objects.XMLStringFactoryImpl@199a\n\t\tdtmPos=(int) 1\n\t\tdocumentID=(int) 1048576\n\t\tisSAXSource=(boolean) false\n\t\tisStreamSource=(boolean) true\n\t\treader=(org.xml.sax.XMLReader) \norg.apache.xerces.parsers.SAXParser@782d\n\t\txmlSource=(org.xml.sax.InputSource) org.xml.sax.InputSource@753b\n\t\tdtm=(org.apache.xml.dtm.ref.sax2dtm.SAX2DTM) \norg.apache.xml.dtm.ref.sax2dtm.SAX2DTM@7544\n\t\thaveXercesParser=(boolean) true\n\tTransformerImpl.transform(Source, boolean)\n\t\tthis=(org.apache.xalan.transformer.TransformerImpl) \norg.apache.xalan.transformer.TransformerImpl@2c83\n\t\tsource=(javax.xml.transform.Source) \njavax.xml.transform.stream.StreamSource@6109\n\t\tshouldRelease=(boolean) true\n\t\tbase=(java.lang.String) \nfile://localhost/Z:/hermes/etc/stylesheets/jour2mail.xsl\n\t\tmgr=(org.apache.xml.dtm.DTMManager) \norg.apache.xml.dtm.ref.DTMManagerDefault@5250\n\tTransformerImpl.transform(Source, Result, boolean)\n\t\tthis=(org.apache.xalan.transformer.TransformerImpl) \norg.apache.xalan.transformer.TransformerImpl@2c83\n\t\txmlSource=(javax.xml.transform.Source) \njavax.xml.transform.stream.StreamSource@6109\n\t\toutputTarget=(javax.xml.transform.Result) \njavax.xml.transform.stream.StreamResult@6111\n\t\tshouldRelease=(boolean) true\n\t\thandler=(org.xml.sax.ContentHandler) \norg.apache.xalan.serialize.SerializerToText@61c7\n\tTransformerImpl.transform(Source, Result)\n\t\tthis=(org.apache.xalan.transformer.TransformerImpl) \norg.apache.xalan.transformer.TransformerImpl@2c83\n\t\txmlSource=(javax.xml.transform.Source) \njavax.xml.transform.stream.StreamSource@6109\n\t\toutputTarget=(javax.xml.transform.Result) \njavax.xml.transform.stream.StreamResult@6111\n\tXSLHelper.transform(String, String)\n\t\tstylesheetURL=(java.lang.String) \nfile://localhost/Z:\\hermes\\etc\\stylesheets\\jour2mail.xsl\n\t\txmlDoc=(java.lang.String) <?xml version=\"1.0\" \nencoding=\"utf-8\"?>\n<!DOCTYPE header [ \n <!ENTITY % ISOlat1 PUBLIC \"ISO \n8879:1986//ENTITIES Added Latin 1//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOlat1.pen\" > %ISOlat1; \n \n<!ENTITY % ISOlat2 PUBLIC \"ISO 8879:1986//ENTITIES Added Latin 2//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOlat2.pen\" > %ISOlat2; \n \n<!ENTITY % ISOnum PUBLIC \"ISO 8879:1986//ENTITIES Numeric and Special \nGraphic//EN//XML\" \"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOnum.pen\" > \n%ISOnum; \n <!ENTITY % ISOpub PUBLIC \"ISO 8879:1986//ENTITIES \nPublishing//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOpub.pen\" > %ISOpub; \n \n<!ENTITY % ISOtech PUBLIC \"ISO 8879:1986//ENTITIES General Technical//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOtech.pen\" > %ISOtech; \n \n<!ENTITY % ISOgrk1 PUBLIC \"ISO 9573-15:1993//ENTITIES Greek Letters//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOgrk1.pen\" > %ISOgrk1; \n \n<!ENTITY % ISOgrk2 PUBLIC \"ISO 9573-15:1993//ENTITIES Monotoniko Greek//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOgrk2.pen\" > %ISOgrk2; \n \n<!ENTITY % ISOgrk3 PUBLIC \"ISO 8879:1986//ENTITIES Greek Symbols//EN//XML\" \n\"file://localhost/Z:\\hermes\\lib\\xml-entities\\ISO\\ISOgrk3.pen\" > %ISOgrk3; \n ] > \n <header><issue><pinfo><pnm>U.S. National Science Foundation</pnm><pnm>u.s. \ndepartment of energy</pnm><pnm>los alamos national \nlaboratory</pnm><loc/></pinfo><jinfo><jid></jid><jtl></jtl><jsbt/><jabt/><issn/>\n<cdn/></jinfo><pubinfo><vid></vid><iid></iid><cd year=\"2000\" month=\"7\" \nday=\"26\"></cd></pubinfo></issue><artcon><genhdr language=\"en\"><artinfo><aid> \ncs.IR/000704</aid><artty artty=\"rp\"/><categ>Computer \nScience</categ></artinfo><tig><atl language=\"en\" purpose=\"normal\"><e5>Relevance \nas Deduction: A Logical View of Information \nRetrieval</e5></atl></tig><aug><au>Gianni Amati</au><au>Konstantinos \nGeorgatos</au></aug><aloc href=\"http://arXiv.org/abs/cs/0007041\"/><abs><p><e6>\\  \nThe problem of Information Retrieval is, given a set of documents D and aquery \nq, providing an algorithm for retrieving all documents in D relevant toq. \nHowever, retrieval should depend and be updated whenever the user is able \ntoprovide as an input a preferred set of relevant documents; this process \nisknown as em relevance feedback. Recent work in IR has been paying \ngreatattention to models which employ a logical approach; the advantage being \nthatone can have a simple computable characterization of retrieval on the basis \nofa pure logical analysis of retrieval. Most of the logical models make use \nofprobabilities or similar belief functions in order to introduce the \ninductivecomponent whereby uncertainty is treated. Their general paradigm is \nthefollowing: em find the nature of conditional $d\\imp q$ and then define \naprobability on the top of it. We just reverse this point of view; first use \nthenumerical information, frequencies or probabilities, then define your \nownlogical consequence. More generally, we claim that retrieval is a form \nofdeduction. We introduce a simple but powerful logical framework of \nrelevancefeedback, derived from the well founded area of nonmonotonic logic. \nThisdescription can help us evaluate, describe and compare from a theoretical \npointof view previous approaches based on conditionals or \nprobabilities.\\</e6></p></abs><kwdg><kwd>Information Retrieval</kwd><kwd>Logic \nin Computer Science</kwd></kwdg></genhdr></artcon></header>\n\nIt seems that in the method \n\nDefaultEntityHandler.addExternalPEDecl(int name, int publicId, int systemId, \nboolean isExternal) \n\nStringPool.addSymbol(fSystemId) is called with fSystemId == null.\n\nI experienced a similar problem some months ago when I migrated to a newer \nXerces version and got around that problem by setting the systemId of the input \nsource explicitely. Here, this has no positive effect.", "id": 3871, "time": "2001-07-20T08:26:12Z", "creator": "faensen@inf.fu-berlin.de", "creation_time": "2001-07-20T08:26:12Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 2708, "is_private": false, "id": 3872, "time": "2001-07-20T08:37:50Z", "creator": "garyp@firstech.com", "creation_time": "2001-07-20T08:37:50Z", "tags": [], "text": "Please attach the code that you executed which resulted in this problem.  Also, \nplease attach the stylesheet in use.  This will allow us to recreate the \nproblem."}, {"count": 2, "tags": [], "creator": "faensen@inf.fu-berlin.de", "is_private": false, "id": 3914, "creation_time": "2001-07-23T00:54:29Z", "time": "2001-07-23T00:54:29Z", "bug_id": 2708, "text": "Created attachment 349\nJava class containing test case, stylesheet and some external entities needed", "attachment_id": 349}, {"count": 3, "tags": [], "creator": "faensen@inf.fu-berlin.de", "text": "In case of problems with the uploaded test case you can download it from\n\n<A \nHREF=\"http://www.inf.fu-berlin.de/~faensen/TestCaseBug2708.jar\">http://www.inf.f\nu-berlin.de/~faensen/TestCaseBug2708.jar</A> (as JAR file)\n\nor\n\n<A \nHREF=\"http://www.inf.fu-berlin.de/~faensen/TestCaseBug2708.zip\">http://www.inf.f\nu-berlin.de/~faensen/TestCaseBug2708.zip</A> (as ZIP file)\n", "id": 3915, "time": "2001-07-23T00:59:24Z", "bug_id": 2708, "creation_time": "2001-07-23T00:59:24Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 2708, "attachment_id": null, "text": "I have looked at this on the Xalan side and it appears to be strictly a XercesJ \nproblem.  At the very least, a more meaningful error message could be produced \nthat might indicate if there is a real problem.  I'm moving this over to Xerces.\nGary", "id": 3923, "time": "2001-07-23T07:54:52Z", "creator": "garyp@firstech.com", "creation_time": "2001-07-23T07:54:52Z", "is_private": false}]