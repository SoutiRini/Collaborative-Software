[{"count": 0, "tags": [], "bug_id": 1853, "attachment_id": null, "text": "When you have a JSP containig a line like follows:\n<%=response.encodeURL(\"test.jsp\")%>\nyou wont get a rewritten URL under https, http works fine.\nI modified the source as follows to get Tomcat to work:\n\nTomcat.java:\n// insert at beginning\nimport java.security.Security;\n\npublic class Tomcat {\n...\nTomcat() {\n// Enable https in URL\n// insert following two lines\nSystem.setProperty(\"java.protocol.handler.pkgs\",\"com.sun.net.ssl.internal.www.pr\notocol\");\nSecurity.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\n}\n\nAdd jsse.jar and jcert.jar (SSL Libraries from sun)  to your classpath.\nNow https:... URLs are accepted for the java class URL.\n\nNext Problem:\nin HttpServletResponseFacade.java\nprivate boolean isEncodeable(String location)\n...\n// Change code for verifying Port to the following\n        int urlPort = url.getPort();\n        if ((urlPort != -1) && (request.getServerPort() != urlPort))\n        {\n\t    \treturn (false);\n        }\n\nNow encodeURL should fully work.\n\nGreetings Gunnar", "id": 2599, "time": "2001-05-22T05:21:04Z", "creator": "Henne@otris.de", "creation_time": "2001-05-22T05:21:04Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 1853, "attachment_id": null, "id": 3104, "time": "2001-06-19T23:00:25Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-06-19T23:00:25Z", "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of 1851 ***"}]