[{"count": 0, "tags": [], "bug_id": 26142, "is_private": false, "text": "I've seen this problem on 2.0.47 and 2.0.48 for win32, on Windows XP Home. \nEnableSendFile Off is needed on my system. Otherwise, long pages get truncated.\n\nTo reproduce, try this documentation page from a local apache 2.0.48 install \non Windows XP (Home):\n\nhttp://127.0.0.1/manual/mod/quickreference.html\n\nOr try this URL specified above to see the problem, but note that you'll be \nconnecting through a wireless router to a DHCP address on my laptop, to a \nservice that I've started manually, so don't count on it to be running. Email \nme if it's not, and you want to see it.\n\nThe amount of data output from the page depends on the connection speed. I'm \nseeing much less data through my wireless connection than I saw through \nlocalhost. This problem seems to affect all \"/manual\" URLs. \n\nComponent:Core is merely a guess.\n\nExample error:\n\n[Wed Jan 14 11:31:53 2004] [info] (OS 996)Overlapped I/O event is not in a \nsignaled state.  : core_output_filter: writing data to the network\n\nThis page seems to be relevant:\n\nhttp://support.microsoft.com/default.aspx?\nscid=http://support.microsoft.com:80/support/kb/articles/Q181/6/11.ASP&NoWebCon\ntent=1\n\nIf you could make the win32 installs default to EnableSendFile Off, that might \nbe a better default.\n\nBuild info:\n\nmd5 and gpg tests were performed on 2.0.48.\nC:\\src\\apache>md5sum httpd-2.0.48-win32-src.zip\n9540125bd43ffe05749c91c93f6dd643 *httpd-2.0.48-win32-src.zip\n\nI built apache myself with Visual C++ 6.0 SP3 using nmake /f Makefile.win:\n\nC:\\src\\apache\\HTTPD-~1.48>cl\nMicrosoft (R) 32-bit C/C++ Optimizing Compiler Version 12.00.8804 for 80x86\n\nC:\\src\\apache\\HTTPD-~1.48>nmake\n\nMicrosoft (R) Program Maintenance Utility   Version 6.00.8168.0\n\nawk from cygwin:\nC:\\src\\apache\\HTTPD-~1.48>awk --version\nGNU Awk 3.1.3", "id": 50566, "time": "2004-01-14T20:14:14Z", "creator": "tallpeak@hotmail.com", "creation_time": "2004-01-14T20:14:14Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "slive@apache.org", "text": "I don't know anything about this specific bug, but I support setting\nEnableSendfile off\nby default on all platforms.\n\nThere are two many obscure causes of sendfile failures.  And almost all of them\nresult in either no error log message, or a very-difficult-to-decipher message.", "id": 50567, "time": "2004-01-14T20:28:00Z", "bug_id": 26142, "creation_time": "2004-01-14T20:28:00Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 26142, "text": "\n  Sendfile Off will not become a default setting - Apache is created and\n  maintained mostly for server hardware, we don't tweak the universal examples\n  for non-server installations.\n\n  It would be possible however to disable sendfile on XP Home installations\n  using the installer.  I'll investigate that reasonable suggestion, with\n  the httpd-win32-msi packaging instead of the default config files.\n", "id": 50637, "time": "2004-01-16T05:30:15Z", "creator": "wrowe@apache.org", "creation_time": "2004-01-16T05:30:15Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "slive@apache.org", "attachment_id": null, "text": "As I said, I'm not focusing specifically on the problem reported here.\n\nSendfile causes numerous hard-to-debug problems on unix and windows.\nOne of them is here:\nhttp://httpd.apache.org/docs-2.0/faq/error.html#error.sendfile\nbut I have seen several others on the users list.\n", "id": 50653, "time": "2004-01-16T17:34:33Z", "bug_id": 26142, "creation_time": "2004-01-16T17:34:33Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 26142, "attachment_id": null, "is_private": false, "id": 51568, "time": "2004-02-02T07:36:16Z", "creator": "tallpeak@hotmail.com", "creation_time": "2004-02-02T07:36:16Z", "text": "I suggest just adding a comment in httpd.conf as follows:\n\n# Note: Static content will be truncated or not displayed if SendFile \n# does not work on your OS. OS's known to not support SendFile include:\n# Windows XP Home, ...\n\nI *did* review httpd.conf before using my installation of Apache, and surely \nwould have noticed that.\n"}, {"count": 5, "tags": [], "bug_id": 26142, "is_private": false, "text": "Is it possible to setup the windows installer to prompt users about this issue and/or set it to off by \ndefault for XP home?\n\n", "id": 62706, "time": "2004-08-30T04:47:38Z", "creator": "chip@force-elite.com", "creation_time": "2004-08-30T04:47:38Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 26142, "text": "*** Bug 36264 has been marked as a duplicate of this bug. ***", "id": 78682, "time": "2005-08-19T02:00:28Z", "creator": "nick@webthing.com", "creation_time": "2005-08-19T02:00:28Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "simeonalbertson@hotmail.com", "attachment_id": null, "text": "It is highly possible that this bug is caused by too low free space ratio on the\nhard drive htdocs and/or Apache is installed to. This was applied to me on\nWindows XP Pro running Apache 2.2.3 with only the mod_authz_host module loaded.\nTherefore it should by definition be a core bug or in the extreme a bug in this\nsingle module.\n\nIf the Apache team has any questions regarding this bug, contact me by mail:\nazoapes@gmail.com", "id": 95445, "time": "2006-11-05T10:47:34Z", "bug_id": 26142, "creation_time": "2006-11-05T10:47:34Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 26142, "is_private": false, "id": 112015, "creation_time": "2007-12-21T20:49:02Z", "time": "2007-12-21T20:49:02Z", "creator": "wrowe@apache.org", "text": "\"set it to off by default for XP home?\"\n\nwhy not universally off, and let them toggle it.\n\nSeems like extra/httpd-mpm under winnt_mpm is the right place for this.", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 26142, "attachment_id": null, "is_private": false, "id": 127199, "time": "2009-05-19T23:54:14Z", "creator": "wrowe@apache.org", "creation_time": "2009-05-19T23:54:14Z", "text": "Here's an even stranger reason we must change this;\n\nhttp://msdn.microsoft.com/en-us/library/ms740565.aspx\n\n\"Workstation and client versions of Windows optimize the TransmitFile function for minimum memory and resource utilization by limiting the number of concurrent TransmitFile operations allowed on the system to a maximum of two. On Windows Vista, Windows XP, Windows 2000 Professional, and Windows NT Workstation 3.51 and later only two outstanding TransmitFile requests are handled simultaneously; the third request will wait until one of the previous requests is completed.\"\n\nHow's that for useless?"}]