[{"count": 0, "tags": [], "bug_id": 34867, "attachment_id": null, "is_private": false, "id": 74724, "time": "2005-05-11T16:55:51Z", "creator": "apache@nimmaj.com", "creation_time": "2005-05-11T16:55:51Z", "text": "We're deploying an ear to weblogic 8.1 (have tried both SP3 and SP4).  We run\nsome functional tests against that deployment which are driven by junit.  The\nresults of these tests are generated using junit report.\n\nWe can do this using ant 1.6.2 but upgrading to ant 1.6.3 gives us the following\nerror:\n\n/home/jammin/src/aol/ordermanagement/build2/functional.build.xml:58: Could not\nfind a valid processor version implementation from\nweblogic.xml.jaxp.RegistrySAXTransformerFactory\n        at\norg.apache.tools.ant.taskdefs.optional.junit.Xalan2Executor.getProcVersion(Xalan2Executor.java:67)\n        at\norg.apache.tools.ant.taskdefs.optional.junit.XalanExecutor.newInstance(XalanExecutor.java:88)\n        at\norg.apache.tools.ant.taskdefs.optional.junit.AggregateTransformer.transform(AggregateTransformer.java:144)\n        at\norg.apache.tools.ant.taskdefs.optional.junit.XMLResultAggregator.execute(XMLResultAggregator.java:139)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n        at\norg.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.Main.runBuild(Main.java:668)\n        at org.apache.tools.ant.Main.startAnt(Main.java:187)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:246)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)\n\nWe commented out the WLDeploy part of the deployment task and then this problem\ngoes away with 1.6.3.\n\nYou'll notice that it's suddenly trying to use a weblogic SAX factory. So we\nthink that something's hanging over from the wldeply task.\n\nThat it works in ant 1.6.2 makes us feel this is an ant problem.\n\nNo idea whether it will help but we've pasted a few targets after this so that\nyou can see what we're doing...\n\nThanks\n\n------\n\n    <taskdef name=\"wldeploy\" classname=\"weblogic.ant.taskdefs.management.WLDeploy\">\n        <classpath\npath=\"/home/jammin/apps/bea814/weblogic81/server/lib/weblogic.jar\"/>\n    </taskdef>\n\n    <target name=\"deploy-ear\" depends=\"assemble-ear\">\n        <wldeploy action=\"deploy\"\n            source=\"${ear_file_path}\"\n            name=\"bbms\"\n            user=\"${wl_admin_username}\"\n            password=\"${wl_admin_password}\"\n            verbose=\"true\"\n            adminurl=\"t3://${wl_admin_listen_address}:${wl_admin_listen_port}\"\n            debug=\"true\"\n            targets=\"${wl_deploy_target}\" upload=\"true\"/>\n    </target>\n\n    <target name=\"test-functional\" depends=\"run-functional-tests,\nformat-functional-reports\">\n        <fail if=\"functional.fail\" message=\"Functional test failure\"/>\n    </target>\n\n    <target name=\"format-functional-reports\" if=\"functional.fail\">\n        <junitreport todir=\"${functional_test_reports_dir}\">\n            <fileset dir=\"${functional_test_results_dir}\" includes=\"*.xml\"/>\n            <report format=\"noframes\" todir=\"${functional_test_reports_dir}\"/>\n        </junitreport>\n    </target>"}, {"count": 1, "attachment_id": 17191, "bug_id": 34867, "is_private": false, "id": 83511, "time": "2005-12-10T15:54:04Z", "creator": "paulkrause88@alum.mit.edu", "creation_time": "2005-12-10T15:54:04Z", "tags": [], "text": "Created attachment 17191\nXalanExecutor patch\n\nSeems like a classloader issue.  Try the attached patch as a work-around."}, {"count": 2, "tags": [], "bug_id": 34867, "attachment_id": null, "is_private": false, "id": 120075, "time": "2008-08-25T08:23:26Z", "creator": "bodewig@apache.org", "creation_time": "2008-08-25T08:23:26Z", "text": "I think the bug - at least in this form - doesn't exist in Ant 1.7.x anymore since we've switched to use <xslt> internally and XalanExecutor#newInstance isn't called anymore.\n\nsee bug 39708"}]