[{"count": 0, "tags": [], "bug_id": 52676, "attachment_id": null, "is_private": false, "id": 153825, "time": "2012-02-15T23:03:16Z", "creator": "allen@holub.com", "creation_time": "2012-02-15T23:03:16Z", "text": "This is arguably a bug in the sample application.\n\nWhen both extending and wrapping Logger, the sample application suggests that \"It's usually a good idea to add a dot suffix to the fully qualified class name...\"\n\nHowever, if you do that, the location-related format conversions (%F, %L, etc) used by org.apache.log4j.PatternLayout do not work correctly. (They print question marks instead of the actual location info.)\n\nThe problem is the following line (org.apache.log4j.spi.LocationInfo, line 143):\n      \n    if(fqnOfCallingClass.equals(thisClass)) {\n       //...\n\nwhich checks for an exact match between the FQCN and the class name reported in the stack trace. The trailing dot prevents the match from succeeding, so the location information is not fetched. This code should be modified to accept a trailing dot as a valid match."}]