[{"count": 0, "tags": [], "bug_id": 36248, "attachment_id": null, "id": 78636, "time": "2005-08-18T16:08:12Z", "creator": "thomasm003@yahoo.de", "creation_time": "2005-08-18T16:08:12Z", "is_private": false, "text": "I tried to get total numer of pages as described in\nhttp://xml.apache.org/fop/fo.html#fo-total-pages.\n\nThe following sample.fo works fine with Fop 0.20.5 but it crashes with Fop\n1.0dev with the following message :\n\nException\n:java.lang.ClassCastException :\norg.apache.fop.layoutmgr.inline.KnuthInlineBox\n\n\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<fo:root xmlns:fo=\"http://www.w3.org/1999/XSL/Format\">\n<fo:layout-master-set>\n    <fo:simple-page-master \n\tmargin-right=\"1.5cm\"\n\tmargin-left=\"1.5cm\"\n\tmargin-bottom=\"2cm\"\n\tmargin-top=\"1cm\"\n\tpage-width=\"21cm\"\n\tpage-height=\"29.7cm\"\n\tmaster-name=\"first\">\n      <fo:region-body margin-top=\"1cm\" margin-bottom=\"1.5cm\"/>\n      <fo:region-before extent=\"1cm\"/>\n      <fo:region-after extent=\"1.5cm\"/>\n    </fo:simple-page-master>\n   </fo:layout-master-set>\n  <fo:page-sequence master-reference=\"first\">\n  <fo:static-content flow-name=\"xsl-region-after\">\n\t<fo:block>\n    \n    <fo:inline line-height=\"14pt\" font-size=\"10pt\" >page \n      <fo:page-number/>/<fo:page-number-citation ref-id=\"last-page\"/>\n\t</fo:inline>\n\t\n\t</fo:block>\n    </fo:static-content>  \n <fo:flow flow-name=\"xsl-region-body\">\n \t<fo:block id=\"last-page\"/>\t\n\t</fo:flow>   \n</fo:page-sequence>\n</fo:root>"}, {"count": 1, "tags": [], "bug_id": 36248, "attachment_id": 16096, "text": "Created attachment 16096\ntotal pages bug", "id": 78637, "time": "2005-08-18T16:10:49Z", "creator": "thomasm003@yahoo.de", "creation_time": "2005-08-18T16:10:49Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 36248, "attachment_id": null, "id": 78691, "time": "2005-08-19T09:57:54Z", "creator": "jeremias@apache.org", "creation_time": "2005-08-19T09:57:54Z", "is_private": false, "text": "Definitely a side-effect from the inline-block work I thought could be done \ncheaply by mixing lists of KnuthSequences and lists of KnuthElements. Thomas' \nexample hits an area which isn't covered by the existing tests so I hadn't \nfound the problem. Looks like it is probably safer to do it consistently like \nSimon preferred even if it means creating more container instances. I'll look \ninto it ASAP."}, {"count": 3, "tags": [], "bug_id": 36248, "attachment_id": null, "id": 78720, "time": "2005-08-19T20:57:42Z", "creator": "spepping@apache.org", "creation_time": "2005-08-19T20:57:42Z", "is_private": false, "text": "InlineLM does not check whether it receives a list of KnuthElements or of\nKnuthSequences, like LineLM does. It blindly assumes the latter, while\nPageNumberLM returns the former. Hence the wrong cast to a KnuthSequence. A\ncheap solution would be to let InlineLM do the same as LineLM. That is not fail\nsafe but would cover very many cases.\n"}, {"count": 4, "tags": [], "creator": "jeremias@apache.org", "attachment_id": null, "text": "Should be fixed now. SVN revs:\nhttp://svn.apache.org/viewcvs?rev=234042&view=rev\nhttp://svn.apache.org/viewcvs?rev=234033&view=rev", "id": 78754, "time": "2005-08-20T20:30:19Z", "bug_id": 36248, "creation_time": "2005-08-20T20:30:19Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 36248, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 156201, "time": "2012-04-01T07:04:25Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T07:04:25Z", "is_private": false, "attachment_id": null}]