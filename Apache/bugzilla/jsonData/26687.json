[{"count": 0, "tags": [], "text": "Inside the validate method in Validator class, the source code:\nif(charset == null)\n      charset = isXml ? \"UTF-8\" : \"ISO-8859-1\";\nIs buggy - why every time i use JSPs, for example, the encoding must be ISO-\n8859-1? If you can export the encoding to be user choice, by taking them from \nthe web.xml you increase the flexibility of the use of other documents types, \nexcept XML, for International use, and increase the I18N support.\nOur solution for it is:\nif(charset == null)\n       //charset = isXml ? \"UTF-8\" : \"ISO-8859-1\";\n       {\n             org.apache.jasper.EmbededServletOptions opt =\n               (org.apache.jasper.EmbededServletOptions)\n                 compiler.ctxt.getOptions();\n              charset = isXml ? opt.getProperty(\"xmlEncoding\") : \n                                opt.getProperty(\"htmlEncoding\");\n              if(charset == null)\n                 charset = \"UTF-8\";\n            }\n\nWe added xmlEncoding and htmlEncoding to the web.xml and set the default if not \ndefined to \"UTF-8\" which is the preffered global encoding if not specified.", "is_private": false, "bug_id": 26687, "id": 51768, "time": "2004-02-05T16:20:48Z", "creator": "amitf@mercury.co.il", "creation_time": "2004-02-05T16:20:48Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 26687, "text": "JSP.4.1 (\"Page Character Encoding\"):\n\n  For JSP pages in standard syntax [...] If none of the above is\n  provided, ISO-8859-1 is used as the default character encoding.\n\n  For JSP documents in XML syntax, the page character encoding is\n  determined as described in section 4.3.3 and appendix F.1 of the XML\n  specification.\n\nUse a JSP configuration element \"page-encoding\" or the \"pageEncoding\"\nattribute of the page directive if you want to specify alternative\npage encodings.", "id": 51776, "time": "2004-02-05T17:47:34Z", "creator": "jan.luehe@sun.com", "creation_time": "2004-02-05T17:47:34Z", "is_private": false, "attachment_id": null}]