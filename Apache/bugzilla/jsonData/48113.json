[{"count": 0, "attachment_id": 24467, "bug_id": 48113, "is_private": false, "id": 131632, "time": "2009-11-03T10:31:25Z", "creator": "apache.org@add.za.net", "creation_time": "2009-11-03T10:31:25Z", "tags": [], "text": "Created attachment 24467\nPatch to print hostname IP components as unsigned int\n\nHey,\n\nTake the following member for example: 192.168.1.61:4000, when it's hostname is\nprinted (like in toString()), it shows as: \ntcp://{-64, -88, 1, 61}:4000\n\nLike in:\n16:23:17,773 INFO  [TcpFailureDetector] Received\nmemberDisappeared[org.apache.catalina.tribes.membership.MemberImpl[tcp://{-64,\n-88, 1, 61}:4000,{-64, -88, 1, 61},4000, alive=1814258,id={50 18 86 10 111 -47\n79 83 -108 -4 82 -8 26 82 -79 -59 }, payload={-84 -19 0 5 115 114 0 50 111\n...(423)}, command={}, domain={74 79 84 84 65 95 87 65 68 ...(10)}, ]] message.\nWill verify.\n16:23:17,897 INFO  [TcpFailureDetector] Verification complete. Member still\nalive[org.apache.catalina.tribes.membership.MemberImpl[tcp://{-64, -88, 1,\n61}:4000,{-64, -88, 1, 61},4000, alive=1814258,id={50 18 86 10 111 -47 79 83\n-108 -4 82 -8 26 82 -79 -59 }, payload={-84 -19 0 5 115 114 0 50 111 ...(423)},\ncommand={}, domain={74 79 84 84 65 95 87 65 68 ...(10)}, ]]\n\nI attached a patch which takes the Arrays.toString(byte[]) and creates another\none with a second argument \"unsigned\". Then the original delegates to this new\none with a default of \"false\" for unsigned. So existing code will continue to\nbehave as is, but the getHostname() code in MemberImpl passes \"true\" for this\nargument, which will make the name print as:\ntcp://{192, 168, 1, 61}:4000\n\nSo this code updates:\njava/org/apache/catalina/tribes/util/Arrays.java\njava/org/apache/catalina/tribes/membership/MemberImpl.java\n\nI generated the patch from trunk with a root of:\njava/org/apache/catalina/\n\nSo it needs to be applied from this directory."}, {"count": 1, "tags": [], "creator": "markt@apache.org", "text": "This was fixed in trunk in r758249. I have proposed the same patch for 6.0.x", "id": 132218, "time": "2009-11-22T15:14:51Z", "bug_id": 48113, "creation_time": "2009-11-22T15:14:51Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "markt@apache.org", "text": "The patch has been applied to 6.0.x and will be included in 6.0.21 onwards.\n\nMany thanks.", "id": 132957, "time": "2009-12-19T14:57:31Z", "bug_id": 48113, "creation_time": "2009-12-19T14:57:31Z", "is_private": false, "attachment_id": null}]