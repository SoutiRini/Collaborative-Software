[{"count": 0, "tags": [], "creator": "asdf_zxcv@yahoo.com", "attachment_id": null, "id": 44361, "time": "2003-09-19T18:24:58Z", "bug_id": 23279, "creation_time": "2003-09-19T18:24:58Z", "is_private": false, "text": "XPath queries cannot search on attribute values\n\ne.g.\n\nif my xml document is the following:\n<?xml version=\"1.0\"?>\n<product product_id=\"120320\">\n   <description>Glazed Ham</description>\n</product>\n\nthe following query fails: (throws CompilationException - see below)\n//product[@product_id='120320']\n\nif should return:\n<?xml version=\"1.0\"?>\n<product product_id=\"120320\">\n   <description>Glazed Ham</description>\n</product>\n\nAdditional Use Cases:\n   http://www.zvon.org/xxl/XPathTutorial/Output/example6.html\n\n\nCommand line:\nxindice xpath -c /db/test -q //product[@product_id=\"120320\"]\n\nLog/Stacktrace:\n[DEBUG] DatabaseImpl - -Using SAX Driver: 'xerces'\n[DEBUG] DatabaseImpl - -Using Service Location: '/xindice/'\n[DEBUG] CollectionImpl - -Using URL: 'http://127.0.0.1:8888/xindice/'\norg.apache.xmlrpc.XmlRpcException: java.lang.Exception: org.apache.xindice.core.\nquery.CompilationException: Error Compiling XPath Expression\n        at org.apache.xmlrpc.XmlRpcClient$Worker.execute(XmlRpcClient.java)\n        at org.apache.xmlrpc.XmlRpcClient.execute(XmlRpcClient.java)\n        at org.apache.xindice.client.xmldb.xmlrpc.CollectionImpl.runRemoteComman\nd(CollectionImpl.java:191)\n        at org.apache.xindice.client.xmldb.xmlrpc.CollectionImpl.query(Collectio\nnImpl.java:569)\n        at org.apache.xindice.client.xmldb.XindiceCollection.query(XindiceCollec\ntion.java:292)\n        at org.apache.xindice.client.xmldb.services.QueryService.query(QueryServ\nice.java:131)\n        at org.apache.xindice.tools.command.XPathQuery.execute(XPathQuery.java:1\n16)\n        at org.apache.xindice.tools.XMLTools.execute(XMLTools.java:336)\n        at org.apache.xindice.tools.XMLTools.process(XMLTools.java:213)\n        at org.apache.xindice.tools.XMLTools.main(XMLTools.java:124)"}, {"count": 1, "attachment_id": null, "bug_id": 23279, "is_private": false, "id": 44728, "time": "2003-09-25T23:43:56Z", "creator": "Terry.Rosenbaum@gmail.com", "creation_time": "2003-09-25T23:43:56Z", "tags": [], "text": "I just tested the bug-writer's test case in the unit-test\nenvironment with no problems. Perhaps the writer of\nthis bug ran command from the (famously problematic) MSDOS\ncommand prompt on windows? Getting the quoting\ncorrect is difficult to impossible...\n\nPerhaps xindice xpath -c /db/test -q //product[@product_id='120320']\n(single quotes) will work better.\n\nFurther, any XPath compilation errors come straight from\nXalan XPath code (not xindice code). Not as likely to be buggy\n(though I have come across the odd valid expression from\ntime to time that is unsupported in Xalan XPath). Not much\nwe can do about it anyway if it is an Xalan bug (which I\ndon't think it is).\n\n"}]