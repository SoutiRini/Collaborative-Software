[{"count": 0, "attachment_id": null, "bug_id": 19018, "is_private": false, "id": 35164, "time": "2003-04-15T04:54:17Z", "creator": "hanming@mac.com", "creation_time": "2003-04-15T04:54:17Z", "tags": [], "text": "Say I have the following simple javadoc task:\n\n  <target name=\"javadoc\" description=\"Create javadoc.\">\n    <property name=\"javadoc.window.title\" value=\"myweb API Documentation\"/>\n    <property name=\"javadoc.doc.title\" value=\"myweb API\"/>\n    <property name=\"javadoc.bottom.title\" \n      value=\"Copyright &#169; 2003 __MyCompanyName__.  All Rights Reserved.\"/>\n        \n    <property name=\"javadoc.dist.dir\" value=\"ant.dist/javadoc\"/>\n    <property name=\"javadoc.excludepackagenames\" value=\"\"/>\n    \n    <delete dir=\"${javadoc.dist.dir}\"/>\n    <mkdir dir=\"${javadoc.dist.dir}\"/>\n      <javadoc\n        destdir=\"${javadoc.dist.dir}\"\n        packagenames=\"*\"\n        excludepackagenames=\"${javadoc.excludepackagenames}\"\n        sourcepathref=\"javadoc.src.dir\"\n        author=\"true\"\n        version=\"true\"\n        windowtitle=\"${javadoc.window.title}\"\n        doctitle=\"${javadoc.doc.title}\"\n        bottom=\"${javadoc.bottom.title}\">\n        \n        <classpath refid=\"module.classpath\"/>\n    </javadoc>\n  </target>\n\nThis usually works in both Java 1.3.1 and 1.4.1. There is a pretty common case\nwhen it fails only in 1.4.1: when you have classes that are in unnamed package.\nThe error is:\n\njavadoc:\n   [delete] Deleting directory /tmp/myweb/ant.dist/javadoc\n    [mkdir] Created dir: /tmp/myweb/ant.dist/javadoc\n  [javadoc] Generating Javadoc\n  [javadoc] Javadoc execution\n  [javadoc] javadoc: Illegal package name: \"\"\n  [javadoc] Loading source files for package hello...\n  [javadoc] 1 error\n\nFor some reason, when there is unnamed package, \"\" is passed to javadoc. It used\nto work in 1.3.1. Passing \"*\" should work for 1.3.1 and 1.4.1."}, {"count": 1, "tags": [], "bug_id": 19018, "text": "I pretty much doubt that it works any different depending on the VM in use,\nthe command line Ant uses should be the same.\n\npackagname is not the correct way to specify the \"default package\", you have\nto use a plain old fileset for this.", "id": 35171, "time": "2003-04-15T07:01:26Z", "creator": "bodewig@apache.org", "creation_time": "2003-04-15T07:01:26Z", "is_private": false, "attachment_id": null}]