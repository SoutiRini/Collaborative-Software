[{"attachment_id": null, "tags": [], "bug_id": 41672, "text": "(gdb) b apr_hashfunc_default\nBreakpoint 1 at 0xb7f640f8: file tables/apr_hash.c, line 227.\n(gdb) c\nContinuing.\n[Switching to Thread -1210222912 (LWP 13243)]\nBreakpoint 1, apr_hashfunc_default (char_key=0x0, klen=0xbfff7148)\n    at tables/apr_hash.c:227\n227         if (*klen == APR_HASH_KEY_STRING) {\n(gdb) s\n228             for (p = key; *p; p++) {\n(gdb) s\n\nProgram received signal SIGSEGV, Segmentation fault.\napr_hashfunc_default (char_key=0x0, klen=0xbfff7148) at tables/apr_hash.c:228\n228             for (p = key; *p; p++) {\n\nproblematic code:\n\n    if (*klen == APR_HASH_KEY_STRING) {\n        for (p = key; *p; p++) {\n            hash = hash * 33 + *p;\n        }\n        *klen = p - key;\n    }\n    else {\n\nHappening when key = 0x0 and klen = -1, I still have to study on my side the\nbusiness logic part of the 'bug'. Hope it will help\n\nThx for keeping Apache a great product", "count": 0, "id": 99647, "time": "2007-02-21T14:42:20Z", "creator": "julien.perez@epsylonia.net", "creation_time": "2007-02-21T14:42:20Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "trawick@apache.org", "text": "A bad parm was passed to the hash function (key=NULL).\nFrom the same spot in gdb run \"bt full\" to get a backtrace, and post it here.\n\n", "count": 1, "id": 99655, "time": "2007-02-21T15:59:17Z", "bug_id": 41672, "creation_time": "2007-02-21T15:59:17Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 41672, "text": "I forgot to say I posted without being sure if it was a normal behaviour or not\n(that this function accept anything without ensuring data wont make it crash). A\nfriend of mine told me it was normal, and it was not the duty of\napr_hashfunc_default to 'sanitize' the parameters it receives. Sorry again\n\n", "id": 99662, "time": "2007-02-21T17:32:26Z", "creator": "julien.perez@epsylonia.net", "creation_time": "2007-02-21T17:32:26Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "trawick@apache.org", "text": "issue was in user's program", "count": 3, "id": 99665, "time": "2007-02-21T19:13:27Z", "bug_id": 41672, "creation_time": "2007-02-21T19:13:27Z", "is_private": false}]