[{"count": 0, "tags": [], "creator": "eric.kaplan@armanta.com", "text": "I have the following <javadoc> command and am specifying a number of packages to exclude from the javadoc. This works fine in Ant 1.6.1 but not in 1.7.1. I'm running with java 1.5.0_16. For some reason, the packages I specify in the <exclude> of the <packageset> aren't being excluded in 1.7.1, but are in 1.6.1.\n\n<property name=\"doc.params.deploy\" value=\"-d deploy/doc/api -breakiterator -author -generic -docletpath ydoc-3.0_01-jdk1.5/lib/ydoc.jar;ydoc-3.0_01-jdk1.5/resources;source/java -doclet ydoc.doclets.YStandard -filterpath ydoc-3.0_01-jdk1.5/lib/ydoc.jar -filter ydoc.filters.ExcludeFilter \n-tag y.precondition \n-tag y.postcondition \n-link http://java.sun.com/j2se/1.5/docs/api\n-tag param\n-tag return\n-tag see\n-noindex\n-windowtitle 'Armanta Application Framework API'\n-doctitle 'Armanta Application Framework API'\n-bottom 'Copyright 2009 Armanta, Inc. All rights reserved.'\n-version\n-author\n-protected\"/>\n\n...\n\n<javadoc sourcepath=\"source/java\" destdir=\"deploy/doc/api\" windowtitle=\"Armanta Application Framework API\" doctitle=\"Armanta Application Framework API\" encoding=\"iso-8859-1\" docencoding=\"iso-8859-1\"\n     bottom=\"Copyright (c) 2009 Armanta, Inc..\"  \n     additionalparam=\"${doc.params.deploy}\" classpathref=\"build-classpath\" \n     maxmemory=\"256m\">\n     <packageset dir=\"source/java\" defaultexcludes=\"yes\">\n      \t    <exclude name=\"com/armanta\"/>\n      \t    <exclude name=\"com/armanta/app\"/>\n            ...\n     </packageset>\n</javadoc>", "id": 127023, "time": "2009-05-14T10:12:56Z", "bug_id": 47196, "creation_time": "2009-05-14T10:12:56Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 47196, "is_private": false, "text": "seems to work for me, see the passing AntUnit test in svn revision 775911", "id": 127111, "time": "2009-05-18T05:01:03Z", "creator": "bodewig@apache.org", "creation_time": "2009-05-18T05:01:03Z", "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 47196, "is_private": false, "id": 127126, "time": "2009-05-18T13:50:21Z", "creator": "eric.kaplan@armanta.com", "creation_time": "2009-05-18T13:50:21Z", "tags": [], "text": "I looked, and indeed one of the tests seems to be our case. Still, makes no sense to me! I run 1.6.1 and my build.xml works fine. Run 1.7.1 and I can't seem to get it to exclude the listed packages. I tried again, same problem."}, {"count": 3, "tags": [], "bug_id": 47196, "is_private": false, "id": 127152, "attachment_id": null, "creator": "bodewig@apache.org", "creation_time": "2009-05-19T06:04:52Z", "time": "2009-05-19T06:04:52Z", "text": "can you run ant -verbose with both versions to see whether there is any difference to spot?"}, {"count": 4, "attachment_id": 23690, "bug_id": 47196, "is_private": false, "id": 127158, "time": "2009-05-19T07:30:28Z", "creator": "eric.kaplan@armanta.com", "creation_time": "2009-05-19T07:30:28Z", "tags": [], "text": "Created attachment 23690\nOutput from javadoc -verbose with ant 1.6.1"}, {"count": 5, "attachment_id": 23691, "bug_id": 47196, "is_private": false, "id": 127159, "time": "2009-05-19T07:31:07Z", "creator": "eric.kaplan@armanta.com", "creation_time": "2009-05-19T07:31:07Z", "tags": [], "text": "Created attachment 23691\nOutput from javadoc -verbose with ant 1.7.1"}, {"count": 6, "tags": [], "bug_id": 47196, "is_private": false, "id": 127161, "attachment_id": null, "creator": "eric.kaplan@armanta.com", "creation_time": "2009-05-19T07:32:17Z", "time": "2009-05-19T07:32:17Z", "text": "I attached the output from running with both versions. Note in 1.6.1, it lists only the packages I didn't exclude. In 1.7.1, it lists these pacakages, followed by all the other packages! Let me know if you see anything."}, {"count": 7, "tags": [], "creator": "bodewig@apache.org", "text": "I think I see the problem, I suspect it was svn revision 382928\n\nIn fact, if I add a sourcepath attribute, our test fails as well.\n\nMaybe you can remove the sourcepath attribute as a workaround, I'll look into fixing it for trunk.", "id": 127162, "time": "2009-05-19T08:07:19Z", "bug_id": 47196, "creation_time": "2009-05-19T08:07:19Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "creator": "eric.kaplan@armanta.com", "text": "Yes, much thanks, removing the sourcepath attribute indeed fixed the problem! I'll let you change the status of the ticket as desired.", "id": 127163, "time": "2009-05-19T08:12:51Z", "bug_id": 47196, "creation_time": "2009-05-19T08:12:51Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 128095, "time": "2009-06-19T06:50:47Z", "bug_id": 47196, "creation_time": "2009-06-19T06:50:47Z", "is_private": false, "text": "reducing severity since there is a workaround"}, {"count": 10, "tags": [], "creator": "bodewig@apache.org", "text": "I'bve come to the conclusion that 1.7.1's behavior is correct and have documented it with svn revision 786510.", "id": 128098, "time": "2009-06-19T07:01:55Z", "bug_id": 47196, "creation_time": "2009-06-19T07:01:55Z", "is_private": false, "attachment_id": null}]