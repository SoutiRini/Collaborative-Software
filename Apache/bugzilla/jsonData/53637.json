[{"count": 0, "tags": [], "creator": "nistor1@illinois.edu", "is_private": false, "id": 161050, "attachment_id": 29149, "bug_id": 53637, "creation_time": "2012-08-02T00:29:18Z", "time": "2012-08-02T00:29:18Z", "text": "Created attachment 29149\npatch\n\nThere is a performance problem in VectorSet.allAll().  It appears in\nversion 1.8.4 and also in revision 1367821.  I attached a test that\nexposes this problem and a patch that fixes it.  On my machine, the\npatch provides a 20X speedup for this test.\n\nTo run the test, just do:\n\n$ java Test\n\nThe output for the un-patched version is:\nTime is 439\n\nThe output for the patched version is:\nTime is 22\n\nThe current implementation of \"VectorSet.addAll(int index, Collection\nc)\" adds the elements of \"c\" one by one at \"index\" in the\n\"elementData\" array.  These add operations are slow, because each of\nthem requires shifting to the right all the elements after \"index\".\n\nThe attached patch adds all the elements at once, and thus performs a\nsingle shift.\n\nThe java.util.ArrayList \"addAll(int index, Collection<? extends E> c)\"\nimplementation also performs a single shift (like the patch), and does\nnot insert the elements one by one."}, {"count": 1, "tags": [], "bug_id": 53637, "text": "Created attachment 29150\ntest", "id": 161051, "time": "2012-08-02T00:29:49Z", "creator": "nistor1@illinois.edu", "creation_time": "2012-08-02T00:29:49Z", "is_private": false, "attachment_id": 29150}, {"count": 2, "tags": [], "text": "Did not make it into 1.9.0 but should be considered for 1.9.1.", "is_private": false, "id": 165710, "creator": "jglick@apache.org", "time": "2013-03-07T14:13:52Z", "bug_id": 53637, "creation_time": "2013-03-07T14:13:52Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 53637, "text": "svn revision 1554830", "count": 3, "id": 172040, "time": "2014-01-02T15:29:35Z", "creator": "bodewig@apache.org", "creation_time": "2014-01-02T15:29:35Z", "is_private": false}]