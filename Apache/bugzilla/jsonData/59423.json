[{"count": 0, "tags": [], "text": "After migrating to tomcat8, could no longer do client certificate login with the following error\n\nSEVERE: Unexpected error\njavax.security.auth.login.LoginException: No LoginModules configured for *yourServiceName*\n        at javax.security.auth.login.LoginContext.init(LoginContext.java:264)\n        at javax.security.auth.login.LoginContext.<init>(LoginContext.java:512)\n        at org.apache.catalina.realm.JAASRealm.authenticate(JAASRealm.java:395)\n        at org.apache.catalina.realm.JAASRealm.getPrincipal(JAASRealm.java:491)\n        at org.apache.catalina.realm.RealmBase.getPrincipal(RealmBase.java:1252)\n        at org.apache.catalina.realm.RealmBase.authenticate(RealmBase.java:450)\n        at org.apache.catalina.authenticator.SSLAuthenticator.authenticate(SSLAuthenticator.java:110)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581)\n\nIt turns out that while the entire service has \nclientAuth=\"true\"\n\nin the web.xml the url-pattern-based\n\n<security-constraint>\n...        <auth-constraint>\n            <role-name>*</role-name>\n        </auth-constraint>\n    </security-constraint>\n    <login-config>\n        <auth-method>CLIENT-CERT</auth-method>\n    </login-config>\n...\nwar ignored in tomcat 7, with tomcat 8, it produced the above error.\n\n==> suggestion: amend the LoginException with a hint on web.xml and \"login-config\" element", "attachment_id": null, "bug_id": 59423, "id": 190702, "time": "2016-05-03T10:45:39Z", "creator": "hauser@acm.org", "creation_time": "2016-05-03T10:45:39Z", "is_private": false}]