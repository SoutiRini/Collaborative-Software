[{"count": 0, "text": "mod_ssl appears to be stuck forever inside apr_pool_cleanup_kill when closing\nthe session cache (I have a \"SSLMutex sem\" in the config). \n\nBacktrace (full dump available on request):\n\nlibapr!apr_pool_cleanup_kill+0x24 [.\\memory\\unix\\apr_pools.c @ 1920]\nlibapr!apr_file_close+0x2d [.\\file_io\\win32\\open.c @ 420]\nlibaprutil!database_cleanup+0x31 [.\\dbm\\sdbm\\sdbm.c @ 122]\nlibapr!apr_pool_cleanup_run+0x1b [.\\memory\\unix\\apr_pools.c @ 1959]\nlibaprutil!apr_sdbm_close+0x18 [.\\dbm\\sdbm\\sdbm.c @ 225]\nlibaprutil!vt_sdbm_close+0xf [.\\dbm\\apr_dbm_sdbm.c @ 171]\nlibaprutil!apr_dbm_close+0x10 [.\\dbm\\apr_dbm.c @ 121]\nWARNING: Stack unwind information not available. Following frames may be wrong.\nmod_ssl+0xf837\nmod_ssl+0xf154\nmod_ssl+0x924d\nssleay32!SSL_SESSION_new+0x609", "bug_id": 12705, "attachment_id": null, "id": 22951, "time": "2002-09-16T19:47:01Z", "creator": "amund.elstad@ergo.no", "creation_time": "2002-09-16T19:47:01Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 12705, "attachment_id": null, "id": 22954, "time": "2002-09-16T20:01:28Z", "creator": "amund.elstad@ergo.no", "creation_time": "2002-09-16T20:01:28Z", "is_private": false, "text": "Shouldn't the calls to dbm_close in ssl_scache_dbm_retrieve be protected by the \nmutex ? Every other call to dbm_close appears to be .\n\n"}, {"attachment_id": null, "tags": [], "creator": "trawick@apache.org", "text": "The fix has been committed and will be in the next release of Apache.\n\nThanks for figuring this out!\n", "count": 2, "id": 23699, "time": "2002-10-01T17:55:33Z", "bug_id": 12705, "creation_time": "2002-10-01T17:55:33Z", "is_private": false}]