[{"count": 0, "tags": [], "creator": "rustamabd@gmail.com", "attachment_id": null, "text": "mod_proxy_hcheck in 2.4.25 causes httpd to terminate on SIGUSR1.\n\nHow to reproduce:\n\n1. install httpd 2.4.25 (tried on FreeBSD 11 amd64)\n\n2. enable modules:\nLoadModule watchdog_module libexec/apache24/mod_watchdog.so\nLoadModule proxy_module libexec/apache24/mod_proxy.so\nLoadModule proxy_hcheck_module libexec/apache24/mod_proxy_hcheck.so\n\n3. start httpd\n\n4. Send a graceful restart signal (USR1) to httpd:\nkill -30 `cat /var/run/httpd.pid`\n\n5. Notice httpd alive no more.\n\nError log contains:\n[Mon Mar 06 21:30:16.675109 2017] [mpm_prefork:notice] [pid 1911] AH00171: Graceful restart requested, doing restart\n[Mon Mar 06 21:30:16.764517 2017] [core:emerg] [pid 1911] (17)File exists: AH00023: Couldn't create the watchdog-callback mutex (file /var/run/watchdog-callback-_proxy_hcheck_.1911)\n[Mon Mar 06 21:30:16.764567 2017] [:emerg] [pid 1911] AH00020: Configuration Failed, exiting", "id": 197493, "time": "2017-03-06T20:39:02Z", "bug_id": 60825, "creation_time": "2017-03-06T20:39:02Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 60825, "attachment_id": null, "text": "Does the file exist? It looks like this is due to the graceful restart and the file not being cleaned and/or ignored", "id": 197911, "time": "2017-03-22T17:52:00Z", "creator": "jim@apache.org", "creation_time": "2017-03-22T17:52:00Z", "is_private": false}, {"count": 2, "tags": [], "creator": "jim@apache.org", "attachment_id": null, "id": 198100, "time": "2017-03-31T11:59:21Z", "bug_id": 60825, "creation_time": "2017-03-31T11:59:21Z", "is_private": false, "text": "Ahhh... I think the issue is fixed via:\n\n https://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_hcheck.c?r1=1784275&r2=1785871&diff_format=h\n\nproposed for back port"}]