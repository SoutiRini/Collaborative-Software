[{"count": 0, "tags": [], "bug_id": 11988, "attachment_id": null, "text": "In file src/main/http_protocol.c, function ap_basic_http_header (line 1549) one\ncan find the following test:\n\n    if (r->proto_num == HTTP_VERSION(1,0)\n       && ap_table_get(r->subprocess_env, \"force-response-1.0\")) {\n\nwhich means force-response-1.0 is effective only if request was done with\nHTTP/1.0. However, force-response-1.0 should force response in HTTP/1.0 even if\nrequest used HTTP/1.1. In my opinion this command should be changed to\n\n    if (r->proto_num >= HTTP_VERSION(1,0)\n       && ap_table_get(r->subprocess_env, \"force-response-1.0\")) {", "id": 21644, "time": "2002-08-23T19:21:46Z", "creator": "mike@mk-sys.cz", "creation_time": "2002-08-23T19:21:46Z", "is_private": false}, {"count": 1, "tags": [], "creator": "slive@apache.org", "text": "Hmmm... The original point of that env variable was to work around\nbroken HTTP/1.0 clients that belched when they say HTTP/1.1 in\nthe response.  What are you using it for?  Perhaps what you really\nwant is the downgrade-1.0 variable?\n", "id": 21656, "time": "2002-08-24T01:08:30Z", "bug_id": 11988, "creation_time": "2002-08-24T01:08:30Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 11988, "text": "As I understood the documentation, downgrade-1.0 means \"client says it uses 1.1\nbut it is incorrect, just pretend it said 1.0\" while force-response-1.0 stands\nfor \"use 1.0 in response even if normally you would choose 1.1\". Probably\ndowngrade-1.0 would solve my problem as well but I thought force-response-1.0\nwould be more apropriate solution.\nMy problem is like this: When using basic authentication on my site with Mozilla\nand MSIE (lynx and Konqueror are OK), the client gets the first response (code\n401) but does not show the password dialog. When I force the client to use\nHTTP/1.0 everything works right. When the server sends response in HTTP/1.0\neverything works right. I have to find out whether the bug is on the server or\nclient side. Before that I need my site to work and the easiest way is to force\nthe server response to be always HTTP/1.0 (for the directory where\nauthentication is required).", "id": 21658, "time": "2002-08-24T01:34:40Z", "creator": "mike@mk-sys.cz", "creation_time": "2002-08-24T01:34:40Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "slive@apache.org", "text": "I think you want downgrade-1.0.  You are essentially saying that the clients\nrequest 1.1 but don't understand it.\n\nI'll leave this bug open and change it to a doc bug so we can properly note that\nforce-reponse-1.0 only applies to clients requesting 1.0.", "id": 21672, "time": "2002-08-24T16:32:50Z", "bug_id": 11988, "creation_time": "2002-08-24T16:32:50Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "mike@mk-sys.cz", "text": "Unfortunately downgrade-1.0 does not work for me. With downgrade-1.0, the\nrequest is considered to be HTTP/1.0 but the response is still HTTP/1.1. What I\nneed is to use HTTP/1.0 in response.", "id": 21675, "time": "2002-08-24T19:31:56Z", "bug_id": 11988, "creation_time": "2002-08-24T19:31:56Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 11988, "attachment_id": null, "text": "The response is not 1.1.  It may be marked HTTP/1.1, but it uses only HTTP/1.0\nfeatures.  Have you tried combining the two variables?\n\nPerhaps you should really work on figuring out why you need this work-around \nin the first place.  If you can demonstrate a specific client incompatibility,\nyou may have more luck getting a developer to make requested changes.\n(Although I can't make promises.)", "id": 21676, "time": "2002-08-24T20:24:59Z", "creator": "slive@apache.org", "creation_time": "2002-08-24T20:24:59Z", "is_private": false}, {"count": 6, "tags": [], "creator": "mike@mk-sys.cz", "attachment_id": null, "id": 21703, "time": "2002-08-25T10:36:21Z", "bug_id": 11988, "creation_time": "2002-08-25T10:36:21Z", "is_private": false, "text": "Unfortunately combining downgrade-1.0 and force-response-1.0 (without proposed\nchange in source) doesn't change the protocol specification in response header.\nHowever, I was able to find the original bug (in a third-party module mod_czech)\nso that I don't need the workaround anymore. Anyway, I still believe it would be\nuseful to provide way to send 1.0 response for 1.1 requests. But the decision is\nup to you."}, {"count": 7, "tags": [], "bug_id": 11988, "attachment_id": null, "text": "The docs change will be included in the next release.", "id": 26428, "time": "2002-11-17T02:16:44Z", "creator": "slive@apache.org", "creation_time": "2002-11-17T02:16:44Z", "is_private": false}]