[{"count": 0, "tags": [], "bug_id": 54112, "attachment_id": null, "text": "My Server details are below.\n\nWindows 2008 R2 EE 64 bit\nIIS 7.5 64 bit mode\nisapi_redirect.dll (64 bit)\nTomcat 6.0 running in 64bit mode\nJava Version :1.6.0_32\nISAPI redirector : 1.2.36.0\n\nThe default IIS recycle parameter is 29 hours, in this process when IIS recycles, the current worker process which handles the request are closed and the new worker process is not created and the server is getting 503 Service unavailable. Below is the error log.\n\n\nError log:\n\n\n[Wed Nov 07 08:52:31.348 2012] [9260:9416] [debug] init_ws_service::jk_isapi_plugin.c (3446): Forwarding request header User-Agent : Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4\n[Wed Nov 07 08:52:31.349 2012] [9260:9416] [debug] init_ws_service::jk_isapi_plugin.c (3475): Service protocol=HTTP/1.1 method=GET host=10.246.0.3 addr=10.246.0.3 name=www.siva.com port=443 auth= user= uri=/SIVA/error.jsp\n[Wed Nov 07 08:52:31.349 2012] [9260:9416] [debug] init_ws_service::jk_isapi_plugin.c (3487): Service request headers=10 attributes=9 chunked=no content-length=0 available=0\n[Wed Nov 07 08:52:31.350 2012] [9260:9416] [debug] wc_get_worker_for_name::jk_worker.c (115): found a worker lb\n[Wed Nov 07 08:52:31.350 2012] [9260:9416] [debug] HttpExtensionProc::jk_isapi_plugin.c (2298): got a worker for name lb\n[Wed Nov 07 08:52:31.350 2012] [9260:9416] [debug] get_sessionid::jk_lb_worker.c (542): Detected session identifier [8E6FEF2AAA1A9B9390C5601F37AAFE58].\n[Wed Nov 07 08:52:31.351 2012] [9260:9416] [debug] service::jk_lb_worker.c (1203): service sticky_session=1 id='8E6FEF2AAA1A9B9390C5601F37AAFE58'\n[Wed Nov 07 08:52:31.351 2012] [9260:9416] [debug] service::jk_lb_worker.c (1248): service worker=node1 route=node1\n[Wed Nov 07 08:52:31.351 2012] [9260:9416] [debug] ajp_get_endpoint::jk_ajp_common.c (3154): acquired connection pool slot=0 after 0 retries\n[Wed Nov 07 08:52:31.352 2012] [9260:9416] [debug] ajp_marshal_into_msgb::jk_ajp_common.c (626): ajp marshaling done\n[Wed Nov 07 08:52:31.352 2012] [9260:9416] [debug] ajp_service::jk_ajp_common.c (2449): processing node1 with 2 retries\n[Wed Nov 07 08:52:31.353 2012] [9260:9416] [debug] ajp_send_request::jk_ajp_common.c (1623): (node1) all endpoints are disconnected.\n[Wed Nov 07 08:52:31.353 2012] [9260:9416] [debug] jk_open_socket::jk_connect.c (485): socket TCP_NODELAY set to On\n[Wed Nov 07 08:52:31.353 2012] [9260:9416] [debug] jk_open_socket::jk_connect.c (609): trying to connect socket 736 to 0.0.0.0:0\n[Wed Nov 07 08:52:31.354 2012] [9260:9416] [info] jk_open_socket::jk_connect.c (627): connect to 0.0.0.0:0 failed (errno=47)\n[Wed Nov 07 08:52:31.354 2012] [9260:9416] [info] ajp_connect_to_endpoint::jk_ajp_common.c (995): Failed opening socket to (0.0.0.0:0) (errno=47)\n[Wed Nov 07 08:52:31.354 2012] [9260:9416] [error] ajp_send_request::jk_ajp_common.c (1629): (node1) connecting to backend failed. Tomcat is probably not started or is listening on the wrong port (errno=47)\n[Wed Nov 07 08:52:31.355 2012] [9260:9416] [info] ajp_service::jk_ajp_common.c (2622): (node1) sending request to tomcat failed (recoverable), because of error during request sending (attempt=1)\n[Wed Nov 07 08:52:31.355 2012] [9260:9416] [debug] ajp_service::jk_ajp_common.c (2471): retry 1, sleeping for 100 ms before retrying\n[Wed Nov 07 08:52:31.367 2012] [9260:2860] [debug] handle_notify_event::jk_isapi_plugin.c (1909): Filter started\n[Wed Nov 07 08:52:31.368 2012] [9260:2860] [debug] map_uri_to_worker_ext::jk_uri_worker_map.c (1131): Attempting to map URI '/www.siva.com/APP302/favicon.ico' from 14 maps\n[Wed Nov 07 08:52:31.370 2012] [9260:2860] [debug] find_match::jk_uri_worker_map.c (945): Attempting to map context URI '/APP302/*=lb' source 'uriworkermap'\n[Wed Nov 07 08:52:31.373 2012] [9260:2860] [debug] find_match::jk_uri_worker_map.c (945): Attempting to map context URI '/SIVA/*=lb' source 'uriworkermap'\n[Wed Nov 07 08:52:31.376 2012] [9260:2860] [debug] find_match::jk_uri_worker_map.c (945): Attempting to map context URI '/jk-manager=jk-status' source 'uriworkermap'\n[Wed Nov 07 08:52:31.377 2012] [9260:2860] [debug] find_match::jk_uri_worker_map.c (945): Attempting to map context URI '/servlets-examples/*=lb' source 'uriworkermap'\n[Wed Nov 07 08:52:31.377 2012] [9260:2860] [debug] find_match::jk_uri_worker_map.c (945): Attempting to map context URI '/jsp-examples/*=lb' source 'uriworkermap'\n[Wed Nov 07 08:52:31.380 2012] [9260:2860] [debug] find_match::jk_uri_worker_map.c (945): Attempting to map context URI '/APP302/*=lb' source 'uriworkermap'\n[Wed Nov 07 08:52:31.380 2012] [9260:2860] [debug] find_match::jk_uri_worker_map.c (958): Found a wildchar match '/APP302/*=lb'\n\n\n\n[Wed Nov 07 08:52:31.381 2012] [9260:2860] [debug] handle_notify_event::jk_isapi_plugin.c (1991): check if [/APP302/favicon.ico] points to the web-inf directory\n[Wed Nov 07 08:52:31.381 2012] [9260:2860] [debug] handle_notify_event::jk_isapi_plugin.c (2008): [/APP302/favicon.ico] is a servlet url - should redirect to lb\n[Wed Nov 07 08:52:31.382 2012] [9260:2860] [debug] handle_notify_event::jk_isapi_plugin.c (2046): fowarding escaped URI [/APP302/favicon.ico]\n[Wed Nov 07 08:52:31.382 2012] [9260:2860] [debug] handle_notify_event::jk_isapi_plugin.c (2119): forwarding to : /jakarta/isapi_redirect.dll\n[Wed Nov 07 08:52:31.383 2012] [9260:2860] [debug] handle_notify_event::jk_isapi_plugin.c (2121): forward URI   : TOMCATURI0000000180000000:/APP302/favicon.ico\n[Wed Nov 07 08:52:31.383 2012] [9260:2860] [debug] handle_notify_event::jk_isapi_plugin.c (2126): forward worker: TOMCATWORKER0000000180000000:lb\n[Wed Nov 07 08:52:31.383 2012] [9260:2860] [debug] handle_notify_event::jk_isapi_plugin.c (2128): worker index  : TOMCATWORKERIDX0000000180000000:6\n[Wed Nov 07 08:52:31.384 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3158): Reading extension header HTTP_TOMCATWORKER0000000180000000: lb\n[Wed Nov 07 08:52:31.385 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3159): Reading extension header HTTP_TOMCATWORKERIDX0000000180000000: 6\n[Wed Nov 07 08:52:31.385 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3160): Reading extension header HTTP_TOMCATURI0000000180000000: /APP302/favicon.ico\n[Wed Nov 07 08:52:31.385 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3161): Reading extension header HTTP_TOMCATQUERY0000000180000000: (null)\n[Wed Nov 07 08:52:31.386 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3221): Applying service extensions\n[Wed Nov 07 08:52:31.386 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3446): Forwarding request header Connection : keep-alive\n[Wed Nov 07 08:52:31.387 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3446): Forwarding request header Content-Length : 0\n[Wed Nov 07 08:52:31.387 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3446): Forwarding request header Accept : */*\n[Wed Nov 07 08:52:31.388 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3446): Forwarding request header Accept-Charset : ISO-8859-1,utf-8;q=0.7,*;q=0.3\n[Wed Nov 07 08:52:31.388 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3446): Forwarding request header Accept-Encoding : gzip,deflate,sdch\n[Wed Nov 07 08:52:31.388 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3446): Forwarding request header Accept-Language : en-US,en;q=0.8\n[Wed Nov 07 08:52:31.389 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3446): Forwarding request header Cookie : JSESSIONID=3DB334C95F67416A3AEEF70C68D8BD0A\n[Wed Nov 07 08:52:31.389 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3446): Forwarding request header Host : www.siva.com\n[Wed Nov 07 08:52:31.390 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3446): Forwarding request header User-Agent : Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4\n[Wed Nov 07 08:52:31.390 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3475): Service protocol=HTTP/1.1 method=GET host=10.246.0.3 addr=10.246.0.3 name=www.siva.com port=443 auth= user= uri=/APP302/favicon.ico\n[Wed Nov 07 08:52:31.390 2012] [9260:2860] [debug] init_ws_service::jk_isapi_plugin.c (3487): Service request headers=9 attributes=9 chunked=no content-length=0 available=0\n[Wed Nov 07 08:52:31.391 2012] [9260:2860] [debug] wc_get_worker_for_name::jk_worker.c (115): found a worker lb\n[Wed Nov 07 08:52:31.391 2012] [9260:2860] [debug] HttpExtensionProc::jk_isapi_plugin.c (2298): got a worker for name lb\n[Wed Nov 07 08:52:31.391 2012] [9260:2860] [debug] get_sessionid::jk_lb_worker.c (542): Detected session identifier [3DB334C95F67416A3AEEF70C68D8BD0A].\n[Wed Nov 07 08:52:31.392 2012] [9260:2860] [debug] service::jk_lb_worker.c (1203): service sticky_session=1 id='3DB334C95F67416A3AEEF70C68D8BD0A'\n[Wed Nov 07 08:52:31.392 2012] [9260:2860] [debug] service::jk_lb_worker.c (1248): service worker=node1 route=node1\n[Wed Nov 07 08:52:31.392 2012] [9260:2860] [debug] ajp_get_endpoint::jk_ajp_common.c (3154): acquired connection pool slot=1 after 0 retries\n[Wed Nov 07 08:52:31.393 2012] [9260:2860] [debug] ajp_marshal_into_msgb::jk_ajp_common.c (626): ajp marshaling done\n[Wed Nov 07 08:52:31.393 2012] [9260:2860] [debug] ajp_service::jk_ajp_common.c (2449): processing node1 with 2 retries\n[Wed Nov 07 08:52:31.394 2012] [9260:2860] [debug] ajp_send_request::jk_ajp_common.c (1623): (node1) all endpoints are disconnected.\n[Wed Nov 07 08:52:31.394 2012] [9260:2860] [debug] jk_open_socket::jk_connect.c (485): socket TCP_NODELAY set to On\n[Wed Nov 07 08:52:31.395 2012] [9260:2860] [debug] jk_open_socket::jk_connect.c (609): trying to connect socket 744 to 0.0.0.0:0\n[Wed Nov 07 08:52:31.395 2012] [9260:2860] [info] jk_open_socket::jk_connect.c (627): connect to 0.0.0.0:0 failed (errno=47)\n[Wed Nov 07 08:52:31.395 2012] [9260:2860] [info] ajp_connect_to_endpoint::jk_ajp_common.c (995): Failed opening socket to (0.0.0.0:0) (errno=47)\n[Wed Nov 07 08:52:31.396 2012] [9260:2860] [error] ajp_send_request::jk_ajp_common.c (1629): (node1) connecting to backend failed. Tomcat is probably not started or is listening on the wrong port (errno=47)\n[Wed Nov 07 08:52:31.396 2012] [9260:2860] [info] ajp_service::jk_ajp_common.c (2622): (node1) sending request to tomcat failed (recoverable), because of error during request sending (attempt=1)\n[Wed Nov 07 08:52:31.396 2012] [9260:2860] [debug] ajp_service::jk_ajp_common.c (2471): retry 1, sleeping for 100 ms before retrying\n[Wed Nov 07 08:52:31.456 2012] [9260:9416] [debug] ajp_send_request::jk_ajp_common.c (1623): (node1) all endpoints are disconnected.\n[Wed Nov 07 08:52:31.456 2012] [11192:10828] [info] TerminateFilter::jk_isapi_plugin.c (2384): Jakarta/ISAPI/isapi_redirector/1.2.36 stopping\n[Wed Nov 07 08:52:31.457 2012] [9260:9416] [debug] jk_open_socket::jk_connect.c (485): socket TCP_NODELAY set to On\n[Wed Nov 07 08:52:31.457 2012] [11192:10828] [debug] close_workers::jk_worker.c (217): close_workers will destroy worker lb\n[Wed Nov 07 08:52:31.458 2012] [9260:9416] [debug] jk_open_socket::jk_connect.c (609): trying to connect socket 744 to 0.0.0.0:0\n[Wed Nov 07 08:52:31.458 2012] [11192:10828] [debug] ajp_destroy::jk_ajp_common.c (3032): up to 250 endpoints to close\n[Wed Nov 07 08:52:31.458 2012] [9260:9416] [info] jk_open_socket::jk_connect.c (627): connect to 0.0.0.0:0 failed (errno=47)\n[Wed Nov 07 08:52:31.458 2012] [11192:10828] [debug] ajp_close_endpoint::jk_ajp_common.c (804): (node1) closing endpoint with socket 732\n[Wed Nov 07 08:52:31.459 2012] [9260:9416] [info] ajp_connect_to_endpoint::jk_ajp_common.c (995): Failed opening socket to (0.0.0.0:0) (errno=47)\n[Wed Nov 07 08:52:31.459 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (732): About to shutdown socket 732 [127.0.0.1:57237 -> 127.0.0.1:8009]\n[Wed Nov 07 08:52:31.460 2012] [9260:9416] [error] ajp_send_request::jk_ajp_common.c (1629): (node1) connecting to backend failed. Tomcat is probably not started or is listening on the wrong port (errno=47)\n[Wed Nov 07 08:52:31.460 2012] [9260:9416] [info] ajp_service::jk_ajp_common.c (2622): (node1) sending request to tomcat failed (recoverable), because of error during request sending (attempt=2)\n[Wed Nov 07 08:52:31.460 2012] [9260:9416] [error] ajp_service::jk_ajp_common.c (2642): (node1) connecting to tomcat failed.\n[Wed Nov 07 08:52:31.460 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (803): shutting down the read side of socket 732 [127.0.0.1:57237 -> 127.0.0.1:8009]\n[Wed Nov 07 08:52:31.461 2012] [9260:9416] [debug] ajp_reset_endpoint::jk_ajp_common.c (786): (node1) resetting endpoint with socket -1 (socket shutdown)\n[Wed Nov 07 08:52:31.461 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (814): Shutdown socket 732 [127.0.0.1:57237 -> 127.0.0.1:8009] and read 0 lingering bytes in 0 sec.\n[Wed Nov 07 08:52:31.462 2012] [9260:9416] [debug] ajp_done::jk_ajp_common.c (3085): recycling connection pool for worker node1 and socket -1\n[Wed Nov 07 08:52:31.462 2012] [11192:10828] [debug] ajp_close_endpoint::jk_ajp_common.c (804): (node1) closing endpoint with socket 756\n[Wed Nov 07 08:52:31.462 2012] [9260:9416] [info] service::jk_lb_worker.c (1480): service failed, worker node1 is in local error state\n[Wed Nov 07 08:52:31.463 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (732): About to shutdown socket 756 [127.0.0.1:57239 -> 127.0.0.1:8009]\n[Wed Nov 07 08:52:31.463 2012] [9260:9416] [debug] service::jk_lb_worker.c (1491): recoverable error... will try to recover on other worker\n[Wed Nov 07 08:52:31.464 2012] [9260:9416] [debug] service::jk_lb_worker.c (1215): retry 1, sleeping for 100 ms before retrying\n[Wed Nov 07 08:52:31.463 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (803): shutting down the read side of socket 756 [127.0.0.1:57239 -> 127.0.0.1:8009]\n[Wed Nov 07 08:52:31.464 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (814): Shutdown socket 756 [127.0.0.1:57239 -> 127.0.0.1:8009] and read 0 lingering bytes in 0 sec.\n[Wed Nov 07 08:52:31.465 2012] [11192:10828] [debug] ajp_close_endpoint::jk_ajp_common.c (804): (node1) closing endpoint with socket 792\n[Wed Nov 07 08:52:31.465 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (732): About to shutdown socket 792 [127.0.0.1:57242 -> 127.0.0.1:8009]\n[Wed Nov 07 08:52:31.465 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (803): shutting down the read side of socket 792 [127.0.0.1:57242 -> 127.0.0.1:8009]\n[Wed Nov 07 08:52:31.466 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (814): Shutdown socket 792 [127.0.0.1:57242 -> 127.0.0.1:8009] and read 0 lingering bytes in 0 sec.\n[Wed Nov 07 08:52:31.466 2012] [11192:10828] [debug] ajp_close_endpoint::jk_ajp_common.c (804): (node1) closing endpoint with socket 552\n[Wed Nov 07 08:52:31.467 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (732): About to shutdown socket 552 [127.0.0.1:57247 -> 127.0.0.1:8009]\n[Wed Nov 07 08:52:31.467 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (803): shutting down the read side of socket 552 [127.0.0.1:57247 -> 127.0.0.1:8009]\n[Wed Nov 07 08:52:31.468 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (814): Shutdown socket 552 [127.0.0.1:57247 -> 127.0.0.1:8009] and read 0 lingering bytes in 0 sec.\n[Wed Nov 07 08:52:31.468 2012] [11192:10828] [debug] ajp_close_endpoint::jk_ajp_common.c (804): (node1) closing endpoint with socket 804\n[Wed Nov 07 08:52:31.468 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (732): About to shutdown socket 804 [127.0.0.1:57275 -> 127.0.0.1:8009]\n[Wed Nov 07 08:52:31.469 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (803): shutting down the read side of socket 804 [127.0.0.1:57275 -> 127.0.0.1:8009]\n[Wed Nov 07 08:52:31.469 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (814): Shutdown socket 804 [127.0.0.1:57275 -> 127.0.0.1:8009] and read 0 lingering bytes in 0 sec.\n[Wed Nov 07 08:52:31.469 2012] [11192:10828] [debug] ajp_close_endpoint::jk_ajp_common.c (804): (node1) closing endpoint with socket 824\n[Wed Nov 07 08:52:31.470 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (732): About to shutdown socket 824 [127.0.0.1:57283 -> 127.0.0.1:8009]\n[Wed Nov 07 08:52:31.471 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (803): shutting down the read side of socket 824 [127.0.0.1:57283 -> 127.0.0.1:8009]\n[Wed Nov 07 08:52:31.472 2012] [11192:10828] [debug] jk_shutdown_socket::jk_connect.c (814): Shutdown socket 824 [127.0.0.1:57283 -> 127.0.0.1:8009] and read 0 lingering bytes in 0 sec.\n[Wed Nov 07 08:52:31.472 2012] [11192:10828] [debug] ajp_close_endpoint::jk_ajp_common.c (804): (node1) closing endpoint with socket -1 (socket shutdown)\n\n[Wed Nov 07 08:52:31.497 2012] [9260:2860] [debug] ajp_send_request::jk_ajp_common.c (1623): (node1) all endpoints are disconnected.\n\n[Wed Nov 07 08:52:31.501 2012] [9260:2860] [error] ajp_service::jk_ajp_common.c (2642): (node1) connecting to tomcat failed.\n\n\n[Wed Nov 07 08:52:39.177 2012] [9260:9416] [debug] jk_open_socket::jk_connect.c (485): socket TCP_NODELAY set to On\n[Wed Nov 07 08:52:39.177 2012] [9260:9416] [debug] jk_open_socket::jk_connect.c (609): trying to connect socket 736 to 0.0.0.0:0\n[Wed Nov 07 08:52:39.178 2012] [9260:9416] [info] jk_open_socket::jk_connect.c (627): connect to 0.0.0.0:0 failed (errno=47)\n[Wed Nov 07 08:52:39.178 2012] [9260:9416] [info] ajp_connect_to_endpoint::jk_ajp_common.c (995): Failed opening socket to (0.0.0.0:0) (errno=47)\n[Wed Nov 07 08:52:39.179 2012] [9260:9416] [error] ajp_send_request::jk_ajp_common.c (1629): (node1) connecting to backend failed. Tomcat is probably not started or is listening on the wrong port (errno=47)\n[Wed Nov 07 08:52:39.179 2012] [9260:9416] [info] ajp_service::jk_ajp_common.c (2622): (node1) sending request to tomcat failed (recoverable), because of error during request sending (attempt=2)\n[Wed Nov 07 08:52:39.180 2012] [9260:9416] [error] ajp_service::jk_ajp_common.c (2642): (node1) connecting to tomcat failed.\n[Wed Nov 07 08:52:39.180 2012] [9260:9416] [debug] ajp_reset_endpoint::jk_ajp_common.c (786): (node1) resetting endpoint with socket -1 (socket shutdown)\n[Wed Nov 07 08:52:39.181 2012] [9260:9416] [debug] ajp_done::jk_ajp_common.c (3085): recycling connection pool for worker node1 and socket -1\n[Wed Nov 07 08:52:39.181 2012] [9260:9416] [debug] service::jk_lb_worker.c (1466): worker node1 escalating local error to global error\n[Wed Nov 07 08:52:39.182 2012] [9260:9416] [info] service::jk_lb_worker.c (1480): service failed, worker node1 is in error state\n[Wed Nov 07 08:52:39.182 2012] [9260:9416] [debug] service::jk_lb_worker.c (1491): recoverable error... will try to recover on other worker\n[Wed Nov 07 08:52:39.183 2012] [9260:9416] [debug] service::jk_lb_worker.c (1215): retry 1, sleeping for 100 ms before retrying\n[Wed Nov 07 08:52:39.283 2012] [9260:9416] [info] service::jk_lb_worker.c (1549): All tomcat instances failed, no more workers left (attempt=0, retry=1)\n[Wed Nov 07 08:52:39.284 2012] [9260:9416] [info] service::jk_lb_worker.c (1560): All tomcat instances are busy or in error state\n[Wed Nov 07 08:52:39.286 2012] [9260:9416] [error] service::jk_lb_worker.c (1565): All tomcat instances failed, no more workers left\n[Wed Nov 07 08:52:39.287 2012] [9260:9416] [error] HttpExtensionProc::jk_isapi_plugin.c (2328): service() failed with http error 503\n\n\nPlease help me on this.", "id": 163260, "time": "2012-11-07T13:26:43Z", "creator": "sivaramprasad.k@gmail.com", "creation_time": "2012-11-07T13:26:43Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 54112, "attachment_id": null, "id": 163374, "time": "2012-11-12T10:31:30Z", "creator": "sivaramprasad.k@gmail.com", "creation_time": "2012-11-12T10:31:30Z", "is_private": false, "text": "We are facing this issue when the IIS recycle happens. This is a show stopper for our Website."}, {"count": 2, "tags": [], "bug_id": 54112, "attachment_id": null, "id": 163380, "time": "2012-11-12T14:05:02Z", "creator": "mturk@apache.org", "creation_time": "2012-11-12T14:05:02Z", "is_private": false, "text": "Could you post your workers.properties file.\n... and is it 1.2.36 or 1.2.37? If it's 1.2.36 use 1.2.37"}, {"count": 3, "tags": [], "bug_id": 54112, "attachment_id": null, "text": "############################################\nisapi_redirect.dll file version - 1.2.36\n############################################\nworker.properties.minimal file\n############################################\n# The workers that jk should create and work with\n#\n\nworker.list=lb,jk-status\n\n#\n# Defining a worker named node1 and of type ajp13\n# Note that the name and the type do not have to match.\n#\nworker.node1.type=ajp13\nworker.node1.host=localhost\nworker.node1.port=8009\n\n#\n# Defining a load balancer\n# \n\nworker.lb.type=lb\nworker.lb.balance_workers=node1\n\n#\n# Define status worker\n#\n\nworker.jk-status.type=status\n############################################\nworker.properties file.\n############################################\n# Define two status worker:\n# - jk-status for read-only use\n# - jk-manager for read/write use\nworker.list=jk-status\nworker.jk-status.type=status\nworker.jk-status.read_only=true\n\nworker.list=jk-manager\nworker.jk-manager.type=status\n\n# We define a load balancer worker\n# with name \"balancer\"\nworker.list=balancer\nworker.balancer.type=lb\n# error_escalation_time: seconds, default = recover_time/2 (=30)\n# Determines, how fast a detected error should switch from\n# local error state to global error state\n# Since: 1.2.28\nworker.balancer.error_escalation_time=0\n\n# - max_reply_timeouts: number, default=0\n#   If there are to many reply timeouts, a worker\n#   is put into the error state, i.e. it will become\n#   unavailable for all sessions residing on the respective\n#   Tomcat. The number of tolerated reply timeouts is\n#   configured with max_reply_timeouts. The number of\n#   timeouts occuring is divided by 2 once a minute and the\n#   resulting counter is compared against max_reply_timeouts.\n#   If you set max_reply_timeouts to N and the errors are\n#   occuring equally distributed over time, you will\n#   tolerate N/2 errors per minute. If they occur in a burst\n#   you will tolerate N errors.\n#   Since: 1.2.24\nworker.balancer.max_reply_timeouts=10\n\n\n\n# Now we add members to the load balancer\n# First member is \"node1\", most\n# attributes are inherited from the\n# template \"worker.template\".\nworker.balancer.balance_workers=node1\nworker.node1.reference=worker.template\nworker.node1.host=localhost\nworker.node1.port=8109\n# Activation allows to configure\n# whether this node should actually be used\n# A: active (use node fully)\n# D: disabled (only use, if sticky session needs this node)\n# S: stopped (do not use)\n#   Since: 1.2.19\nworker.node1.activation=A\n\n# Second member is \"node2\", most\n# attributes are inherited from the\n# template \"worker.template\".\nworker.balancer.balance_workers=node2\nworker.node2.reference=worker.template\nworker.node2.host=localhost\nworker.node2.port=8209\n# Activation allows to configure\n# whether this node should actually be used\n# A: active (use node fully)\n# D: disabled (only use, if sticky session needs this node)\n# S: stopped (do not use)\n#   Since: 1.2.19\nworker.node2.activation=A\n\n# Finally we put the parameters\n# which should apply to all our ajp13\n# workers into the referenced template\n# - Type is ajp13\nworker.template.type=ajp13\n\n# - socket_connect_timeout: milliseconds, default=0\n#   Since: 1.2.27\nworker.template.socket_connect_timeout=5000\n\n# - socket_keepalive: boolean, default=false\n#   Should we send TCP keepalive packets\n#   when connection is idle (socket option)?\nworker.template.socket_keepalive=true\n\n# - ping_mode: Character, default=none\n#   When should we use cping/cpong connection probing?\n#   C = directly after establishing a new connection\n#   P = directly before sending each request\n#   I = in regular intervals for idle connections\n#       using the watchdog thread\n#   A = all of the above\n#   Since: 1.2.27\nworker.template.ping_mode=A\n\n# - ping_timeout: milliseconds, default=10000\n#   Wait timeout for cpong after cping\n#   Can be overwritten for modes C and P\n#   Using connect_timeout and prepost_timeout.\n#   Since: 1.2.27\nworker.template.ping_timeout=10000\n\n# - connection_pool_minsize: number, default=connection_pool_size\n#   Lower pool size when shrinking pool due\n#   to idle connections\n#   We want all connections to be closed when\n#   idle for a long time in order to prevent\n#   firewall problems.\n#   Since: 1.2.16\nworker.template.connection_pool_minsize=0\n\n# - connection_pool_timeout: seconds, default=0\n#   Idle time, before a connection is eligible\n#   for being closed (pool shrinking).\n#   This should be the same value as connectionTimeout\n#   in the Tomcat AJP connector, but there it is\n#   milliseconds, here seconds.\nworker.template.connection_pool_timeout=600\n\n# - reply_timeout: milliseconds, default=0\n#   Any pause longer than this timeout during waiting\n#   for a part of the reply will abort handling the request\n#   in mod_jk. The request will proceed running in\n#   Tomcat, but the web server resources will be freed\n#   and an error is send to the client.\n#   For individual requests, the timeout can be overwritten\n#   by the Apache environment variable JK_REPLY_TIMEOUT.\n#   JK_REPLY_TIMEOUT since: 1.2.27\nworker.template.reply_timeout=300000\n\n# - recovery_options: number, default=0\n#   Bit mask to configure, if a request, which was send\n#   to a backend successfully, should be retried on another backend\n#   in case there's a problem with the response.\n#   Value \"3\" disables retries, whenever a part of the request was\n#   successfully send to the backend.\nworker.template.recovery_options=3\n\n\n\n\n(In reply to comment #2)\n> Could you post your workers.properties file.\n> ... and is it 1.2.36 or 1.2.37? If it's 1.2.36 use 1.2.37", "id": 163407, "time": "2012-11-13T06:26:42Z", "creator": "sivaramprasad.k@gmail.com", "creation_time": "2012-11-13T06:26:42Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 54112, "text": "(In reply to comment #3)\n> \n> worker.list=lb,jk-status\n...\n> worker.list=jk-status\n...\n> worker.list=jk-manager\n...\n> worker.list=balancer\n...\n\nWow, what a pile of trash.\nSo how many workers you actually have and for what?\nI'll just close this case, and you can seek guidance on users list.", "id": 163409, "time": "2012-11-13T06:45:19Z", "creator": "mturk@apache.org", "creation_time": "2012-11-13T06:45:19Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 54112, "attachment_id": null, "id": 163410, "time": "2012-11-13T07:14:52Z", "creator": "sivaramprasad.k@gmail.com", "creation_time": "2012-11-13T07:14:52Z", "is_private": false, "text": "Hi,\nSorry I posted the incorrect data in my previous comment.\nWe have configured worker.properties.minimal file and the details are below.\nWe are using ISAPI redirector file version - 1.2.36\n\n############################################\nworker.properties.minimal file\n############################################\n# The workers that jk should create and work with\n#\n\nworker.list=lb,jk-status\n\n#\n# Defining a worker named node1 and of type ajp13\n# Note that the name and the type do not have to match.\n#\nworker.node1.type=ajp13\nworker.node1.host=localhost\nworker.node1.port=8009\n\n#\n# Defining a load balancer\n# \n\nworker.lb.type=lb\nworker.lb.balance_workers=node1\n\n#\n# Define status worker\n#\n\nworker.jk-status.type=status"}, {"count": 6, "tags": [], "creator": "mturk@apache.org", "attachment_id": null, "id": 163411, "time": "2012-11-13T07:50:21Z", "bug_id": 54112, "creation_time": "2012-11-13T07:50:21Z", "is_private": false, "text": "Like said, please try with latest (1.2.37)\nIt has fixed bug in shared memory address sequence which should relate to the bug you are seeing."}, {"count": 7, "tags": [], "bug_id": 54112, "attachment_id": null, "id": 163412, "time": "2012-11-13T07:53:21Z", "creator": "sivaramprasad.k@gmail.com", "creation_time": "2012-11-13T07:53:21Z", "is_private": false, "text": "Thank You, I will try to use the latest version of Jakarta plugin and let you know the updates."}, {"count": 8, "tags": [], "text": "Does this problem still exist? No user feedback since 2 years.", "is_private": false, "id": 180201, "creator": "rainer.jung@kippdata.de", "time": "2015-01-07T10:29:29Z", "bug_id": 54112, "creation_time": "2015-01-07T10:29:29Z", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 54112, "attachment_id": null, "id": 185062, "time": "2015-09-09T19:30:29Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2015-09-09T19:30:29Z", "is_private": false, "text": "I can't see any problems with app pool recycling and the redirector for current versions (1.2.42-dev on Windows 7 with IIS 7.5. Furthermore no feedback on the questions for several months, so closing as INVALID."}]