[{"count": 0, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": 25065, "text": "Created attachment 25065\nemptyTagWithAttribute_Xml.jspx\n\nSteps to reproduce:\n1. Place the attached emptyTagWithAttribute_Xml.jspx into webapps/examples\n2. Open http://localhost:8080/examples/emptyTagWithAttribute_Xml.jspx\n3. Observe error 500:\n\norg.apache.jasper.JasperException: /emptyTagWithAttribute_Xml.jspx(6,18) According to TLD, tag my:shuffle must be empty, but is not\n\torg.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:40)\n\torg.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:407)\n\torg.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:88)\n\torg.apache.jasper.compiler.JspDocumentParser.parse(JspDocumentParser.java:216)\n\torg.apache.jasper.compiler.ParserController.doParse(ParserController.java:239)\n\torg.apache.jasper.compiler.ParserController.parse(ParserController.java:103)\n\torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:170)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:332)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:312)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:299)\n\torg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:589)\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:317)\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n\n\nThe above stack trace is with 6.0.25 release candidate. IIRC, I observed the same with 6.0.24 recently. It works correctly with TC 6.0.20.\n\nThis issue affects JSP Documents (XML syntax) only. The pages in plain JSP syntax (e.g. shuffle.jsp in our examples) work correctly.", "id": 134939, "time": "2010-02-27T13:10:11Z", "bug_id": 48827, "creation_time": "2010-02-27T13:10:11Z", "is_private": false}, {"count": 1, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": 25066, "text": "Created attachment 25066\nemptyTagWithAttribute_Jsp.jsp\n\nThe same page in plain JSP syntax. It works.", "id": 134940, "time": "2010-02-27T13:11:12Z", "bug_id": 48827, "creation_time": "2010-02-27T13:11:12Z", "is_private": false}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "It is a regression in the fix for bug47977. Looking at a fix now...", "id": 135027, "time": "2010-03-03T20:25:55Z", "bug_id": 48827, "creation_time": "2010-03-03T20:25:55Z", "is_private": false}, {"count": 3, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 135028, "time": "2010-03-03T21:05:22Z", "bug_id": 48827, "creation_time": "2010-03-03T21:05:22Z", "text": "Fixed in trunk (with a couple of test cases) and proposed for 6.0.x"}, {"count": 4, "tags": [], "bug_id": 48827, "text": "Fixed in 6.0 in r919354 and will be in 6.0.26 onwards.\n\nI tested the current 5.5 (that will be 5.5.29) and it is not affected by this issue.", "id": 135094, "time": "2010-03-05T18:38:41Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2010-03-05T18:38:41Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 48827, "is_private": false, "text": "Created attachment 25736\nemptyTagWithSpaceAndComment_Xml.jspx\n\nOne more regression due to bug47977 fix:\nIf the empty tag contains a comment, Tomcat barks that \"tag .. must be empty but is not\".\n\nI am attaching a JSPX document that reproduces this issue. The steps to reproduce are the same as in Description of this issue.\n\nReproducible in 6.0.28 and in the current trunk (thus released 7.0.0-beta is also affected).\n\nI tested 5.5.30 as well and it works correctly.", "id": 138300, "time": "2010-07-09T07:52:16Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2010-07-09T07:52:16Z", "attachment_id": 25736}, {"count": 6, "tags": [], "bug_id": 48827, "is_private": false, "id": 140245, "creation_time": "2010-09-27T19:01:17Z", "time": "2010-09-27T19:01:17Z", "creator": "markt@apache.org", "text": "I have review the EBNF in the JSP 2.2 spec and I can't see anything that would permit comments in a tag that should have an empty body.", "attachment_id": null}]