[{"count": 0, "tags": [], "bug_id": 1540, "attachment_id": null, "text": "If I have two classes defined in a java source file and delete the \".class\" file \nnot having the same name as the \".java\" file, ant will not regenerate the second \nclass file when ant is run again.\n\nHere is what I did...\n\nUsing the command:\nant -buildfile .\\build.xml\n\nand with the build.xml file containing:\n\n#####\n<!-- build.xml file for the ems_v01 project  -->\n\n<project name=\"emsv01\" default=\"CompileAll\" basedir=\".\">\n\n   <target name=\"CompileAll\">\n      <!--  Compile entire source tree in debug mode  -->\n      <javac srcdir=\".\" debug=\"on\">\n      </javac>\n\n\n   </target>\n\n</project>\n#####\n\nI compiled the file \"test.java\" which was located in the same directory as the \nbuild.xml file.  The \"test.java\" file contained:\n\n######\nclass test\n{\n}\n\nclass test2\n{\n}\n######\n\nThis produced the expected \"test.class\" and a \"test2.class\" file.  I then \ndeleted the \"test2.class\" file and re-ran the ant command.  I got the following \noutput:\n\n#######\nBuildfile: .\\build.xml\n\nCompileAll:\n\nBUILD SUCCESSFUL\n\nTotal time: 4 seconds\n#######\n\nbut only the \"test.class\" file still existed in the directory.  \"test2.class\" \nwas not recreated.\n\nBesides using the not so wise convention of placing two or more classes in a \nsingle java file, what am I doing wrong?", "id": 2119, "time": "2001-04-26T10:36:27Z", "creator": "carrjd@agcs.com", "creation_time": "2001-04-26T10:36:27Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 1540, "attachment_id": null, "text": "Nothing.\n\nAnt simply does not scan your source files. It just compares files with the \nsame name (and java or class extensions). If you delete a class for which there \nis no corresponding source file you need to do a clean rebuild (delete all \nbefore compilation) or you may have a look at the depend task and try if that \nhelps in your case.", "id": 2130, "time": "2001-04-26T16:37:05Z", "creator": "nico@apache.org", "creation_time": "2001-04-26T16:37:05Z", "is_private": false}]