[{"count": 0, "tags": [], "bug_id": 4580, "attachment_id": null, "text": "The exception below occurs when the PS1 shell prompt is set as follows ...\n\nexport PS1='[$USER@$HOSTNAME:$PWD]\\\n$ENV_TYPE> '\n\nWhen PS1 is set to something like \"$ \", the problem goes away ...\n\n\n> ./ant unpack\n+++++++++++++++++++++++\nANT_HOME= /home1/jnguyen/af/af/site/../tools/ant/\nANT_HOME_SAVE=\n+++++++++++++++++++++++\n\nBUILD FAILED\n\n/home1/jnguyen/af/af/site/build.xml:26: /home1/jnguyen/af/af/site/build.xml:26: \njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\n--- Nested Exception ---\n/home1/jnguyen/af/af/site/build.xml:26: \njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\n--- Nested Exception ---\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\n        at java.lang.Throwable.fillInStackTrace(Native Method)\n        at java.lang.Throwable.fillInStackTrace(Compiled Code)\n        at java.lang.Throwable.<init>(Compiled Code)\n        at java.lang.Exception.<init>(Exception.java:42)\n        at java.lang.RuntimeException.<init>(RuntimeException.java:47)\n        at java.lang.IndexOutOfBoundsException.<init>\n(IndexOutOfBoundsException.java:44)\n        at java.lang.StringIndexOutOfBoundsException.<init>\n(StringIndexOutOfBoundsException.java:57)\n        at java.lang.String.substring(Compiled Code)\n        at org.apache.tools.ant.taskdefs.Property.loadEnvironment(Compiled Code)\n        at org.apache.tools.ant.taskdefs.Property.execute(Property.java:172)\n        at org.apache.tools.ant.ProjectHelper$TaskHandler.finished\n(ProjectHelper.java:482)\n        at org.apache.tools.ant.ProjectHelper$AbstractHandler.endElement\n(ProjectHelper.java:204)\n        at org.xml.sax.helpers.XMLReaderAdapter.endElement\n(XMLReaderAdapter.java:347)\n        at org.apache.xerces.parsers.SAXParser.endElement(SAXParser.java:1403)\n        at org.apache.xerces.validators.common.XMLValidator.callEndElement\n(Compiled Code)\n        at org.apache.xerces.framework.XMLDocumentScanner.scanElement(Compiled \nCode)\n        at \norg.apache.xerces.framework.XMLDocumentScanner$ContentDispatcher.dispatch\n(Compiled Code)\n        at org.apache.xerces.framework.XMLDocumentScanner.parseSome(Compiled \nCode)\n        at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1035)\n        at org.xml.sax.helpers.XMLReaderAdapter.parse(XMLReaderAdapter.java:223)\n        at javax.xml.parsers.SAXParser.parse(SAXParser.java:345)\n        at org.apache.tools.ant.ProjectHelper.parse(Compiled Code)\n        at org.apache.tools.ant.ProjectHelper.configureProject\n(ProjectHelper.java:85)\n        at org.apache.tools.ant.Main.runBuild(Compiled Code)\n        at org.apache.tools.ant.Main.main(Main.java:149)\n\nTotal time: 5 seconds\nFinal Exit Code = 1", "id": 7468, "time": "2001-11-01T18:14:15Z", "creator": "nguyenj2@yahoo.com", "creation_time": "2001-11-01T18:14:15Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 4580, "attachment_id": null, "text": "This has been fixed in Ant 1.4.", "id": 7469, "time": "2001-11-01T18:20:19Z", "creator": "conor@apache.org", "creation_time": "2001-11-01T18:20:19Z", "is_private": false}]