[{"count": 0, "tags": [], "creator": "tony@bci.gb.com", "text": "The cvstagdiff task does not echo the supplied package and cvsroot attributes \nin the XML output. This makes it difficult to use the remaining data in the \noutput XML file to prepare queries for CVSWeb, ViewCVS or commands for CVS. A \ncurrent (1.5.1) sample output for the the following build.xml segment:\n\n<cvstagdiff cvsroot   = \":pserver:/usr/local/cvs\"\n            destfile  = \"tagdiff.xml\"\n            package   = \"myproject\"\n            startdate = \"'2003-01-14 10:14:57'\"\n            enddate   = \"'2003-01-14 10:23:28'\" />\n\nis:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<tagdiff startDate=\"'2003-01-14 10:14:57'\" endDate=\"'2003-01-14 10:23:28'\" >\n  <entry>\n    <file>\n      <name>buildfiles/libbuild.xml</name>\n\t<revision>1.27</revision>\n\t<prevrevision>1.26</prevrevision>\n    </file>\n  </entry>\n</tagdiff>\n \nThe partial path to the file (buildfiles/libbuild.xml) is insufficient to \nindependently locate the file without implicitly knowing the cvsroot and the \npackage (module) name.\n\nIt would be more useful to output:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<tagdiff startDate=\"'2003-01-14 10:14:57'\" \n         endDate=\"'2003-01-14 10:23:28'\"\n         cvsroot=\":pserver:/usr/local/cvs\" \n         package=\"myproject\" >\n  <entry>\n    <file>\n      <name>buildfiles/libbuild.xml</name>\n\t<revision>1.27</revision>\n\t<prevrevision>1.26</prevrevision>\n    </file>\n  </entry>\n</tagdiff>\n\nWith this information it is possible to reconstruct from an independent parsing \nthe XML that the file revisons can be recovered from:\n\n:pserver:/usr/local/cvs/myproject/buildfiles/libbuild.xml\n\nThis enhancement is easily added by inserting two lines in CvsTagDiff.java in \nthe method writetagDiff at lines 473, 474:\n\n            writer.print(\"cvsroot=\\\"\" + m_cvs.getCvsRoot() + \"\\\" \");\n            writer.print(\"package=\\\"\" + m_package + \"\\\" \");", "id": 29376, "time": "2003-01-14T23:11:58Z", "bug_id": 16081, "creation_time": "2003-01-14T23:11:58Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 16081, "attachment_id": 6842, "text": "Created attachment 6842\ncode fix", "id": 38876, "time": "2003-06-15T19:03:09Z", "creator": "rob@springwellfarms.ca", "creation_time": "2003-06-15T19:03:09Z", "is_private": false}, {"count": 2, "tags": [], "creator": "rob@springwellfarms.ca", "text": "Fixed on main trunk\n\nChanged version accordingly. The patch needs to be slightly modified if it is \nto be applied to 1.5.x branch", "id": 38877, "time": "2003-06-15T19:04:20Z", "bug_id": 16081, "creation_time": "2003-06-15T19:04:20Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 16081, "is_private": false, "text": "oops", "id": 38878, "time": "2003-06-15T19:09:25Z", "creator": "rob@springwellfarms.ca", "creation_time": "2003-06-15T19:09:25Z", "attachment_id": null}]