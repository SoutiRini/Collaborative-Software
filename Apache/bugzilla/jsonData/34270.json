[{"count": 0, "attachment_id": null, "creator": "david_arcuri@mgic.com", "is_private": false, "id": 73199, "time": "2005-04-01T22:09:13Z", "bug_id": 34270, "creation_time": "2005-04-01T22:09:13Z", "tags": [], "text": "Apache HTTPD 2.0.53 + OpenSSL 0.9.7d compiled with gcc 3.3 on Solaris 8:\n\nAny time I attempt to POST a large file (> 40 MB) from Internet Explorer I\nreceive the following lines in my access log, showing the initial GET request\nand subsequent POST:\n\n[01/Apr/2005:13:47:57 -0600] 4846040534 10.1.20.92 SSLv3 RC4-MD5 \"GET\n/upload_error/upload.html HTTP/1.1\" 200 257 \"-\" \"Mozilla/4.0 (compatible; MSIE\n6.0; Windows NT 5.1; MGIC; .NET CLR 1.1.4322)\"\n[01/Apr/2005:13:48:02 -0600] 4846040534 10.1.20.92 SSLv3 RC4-MD5 \"POST\n/upload_error/upload.cgi HTTP/1.1\" 70014 539\n\"https://mytestsite.mgic.com/upload_error/upload.html\" \"Mozilla/4.0 (compatible;\nMSIE 6.0; Windows NT 5.1; MGIC; .NET CLR 1.1.4322)\"\n\nThe transfer aborts with the file being truncated, and Internet Explorer returns\nan unhelpful error page, instead of the successful result.  Note the return code\nin the POST line of 70014 -- which is an SSL EOF code.  Following is the CGI\ncode I am using to reproduce this error.\n\n\n#!/usr/bin/perl\n \nmy $bytesread = 0;\nmy $i = 0;\n \nopen(OUTPUT, \">/tmp/upload.stdin.$$\");\nwhile($i = read(STDIN,$buf,1024)) {\n        print OUTPUT $buf;\n        $bytesread += $i;\n}\nclose(OUTPUT);\n \nprint \"Content-type: text/plain\\n\\n\";\nprint \"$bytesread bytes successfully posted.\";\nexit;\n\n\nThis also fails with a simple while (<STDIN>) { print OUTPUT $_; }\n\nI know the gut reaction to this is \"Don't use Internet Explorer\" but I have\ncustomers accessing this page -- I cannot control that.  This problem does NOT\noccur in the following configurations that I have tested:\n\nXP Service Pack 2 + MSIE\nXP Service Pack 2 + FireFox\nXP Service Pack 1 + FireFox\nXP Service Pack 1 + Mozilla\nLinux + FireFox\n\nSo I am thinking we are looking at some form of Microsoft induced weirdness from\nXP Service Pack 1 (I have not tested with any other MS OS + IE, as I do not have\naccess to those configurations, it may fail in all versions of IE prior to what\ncame with XP SP2.)  If there is any way to track down this oddity and provide a\nworkaround, it would be appreciated.\n\nI can reproduce easily, and will be happy to provide additional information if\nrequested."}, {"count": 1, "tags": [], "text": "Can you include the full configuration you use for the SSL vhost?  Is anything\nlogged to the SSL vhost's error_log?\n", "attachment_id": null, "id": 73233, "creator": "jorton@redhat.com", "time": "2005-04-04T10:15:27Z", "bug_id": 34270, "creation_time": "2005-04-04T10:15:27Z", "is_private": false}, {"count": 2, "tags": [], "creator": "david_arcuri@mgic.com", "attachment_id": null, "id": 73257, "time": "2005-04-04T16:35:17Z", "bug_id": 34270, "creation_time": "2005-04-04T16:35:17Z", "is_private": false, "text": "\n<IfDefine SSL>\n \nListen 10.2.201.36:443\n \nAddType application/x-x509-ca-cert .crt\nAddType application/x-pkcs7-crl    .crl\n \nSSLPassPhraseDialog  builtin\n \nSSLSessionCache         shm:/logfiles/apache/rd.transfer.mgic.com/ssl_scache\nSSLSessionCacheTimeout  300\n \n#SSLMutex  file:/logfiles/apache/rd.transfer.mgic.com/ssl_mutex\nSSLMutex sem\n\nSSLRandomSeed startup builtin\nSSLRandomSeed connect builtin\n \n<VirtualHost 10.2.201.36:443>\n \nDocumentRoot \"/home2/rd.transfer.mgic.com\"\nServerName rd.transfer.mgic.com:443\nServerAdmin inet_admin@mgic.com\n \nSSLEngine on\n \n#SSLCipherSuite SSLv3:!EXP:!LOW\nSSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL\n \nSSLCertificateFile /usr/local/apache2/conf/ssl.crt/rd.transfer.mgic.com.crt\nSSLCertificateKeyFile /usr/local/apache2/conf/ssl.key/rd.transfer.mgic.com.key\nSSLCertificateChainFile /usr/local/apache2/conf/ssl.crt/eappqa2-new-chain-cert\n \n##SSLVerifyClient 0\nSSLVerifyClient none\n \n<Files ~ \"\\.(cgi|shtml|phtml|php3?)$\">\n    SSLOptions +StdEnvVars\n</Files>\n<Directory \"/usr/local/apache2/cgi-bin\">\n    SSLOptions +StdEnvVars\n</Directory>\n \n#SetEnvIf User-Agent \".*MSIE.*\" \\\n#         nokeepalive ssl-unclean-shutdown \\\n#         downgrade-1.0 force-response-1.0\n \nBrowserMatch \"MSIE\" nokeepalive ssl-unclean-shutdown downgrade-1.0\nforce-response-1.0\n \nLogFormat \"%t %u %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \\\"%r\\\" %>s %b\n\\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" sslcombined\n \nCustomLog \"|/usr/local/sbin/cronolog\n/logfiles/apache/rd.transfer.mgic.com/%Y%m%d-access.log\" sslcombined\n \n</VirtualHost>\n \n</IfDefine>\n \n\nAnd the error log, on Loglevel info:\n\n[Mon Apr 04 09:26:31 2005] [info] Connection to child 3 closed with unclean\nshutdown(server rd.transfer.mgic.com:443, client 10.2.20.92)\n\nLoglevel debug actually logs so much because of the SSL dump that it's difficult\nto tell whether the process is failing because httpd is churning so much data to\nthe disk or whether I'm reproducing the same issue.  I commented out the\nssl_io_data_dump in ssl_io_engine.c to eliminate that and there wasn't much\nuseful additional data.  The transfer just suddenly stops.\n"}, {"count": 3, "tags": [], "text": "Any difference if you switch the session cache from shm: to shmcb:? (MSIE can be\nvery sensitive to session caching)  This is reproducible *every* time you\nattempt the POST with that particular browser?\n\nIf you could attach the logs at debug level that might show something.", "attachment_id": null, "id": 73258, "creator": "jorton@redhat.com", "time": "2005-04-04T16:47:46Z", "bug_id": 34270, "creation_time": "2005-04-04T16:47:46Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 34270, "is_private": false, "text": "Just the tail-end of the debug info, that is, yes!", "id": 73259, "time": "2005-04-04T16:57:07Z", "creator": "jorton@redhat.com", "creation_time": "2005-04-04T16:57:07Z", "attachment_id": null}, {"count": 5, "tags": [], "text": "\nWhat, you don't want all ~30 megs? :)\n\nHere's the last few lines, without ssl_io_data_dump:\n\n[Mon Apr 04 10:13:51 2005] [debug] ssl_engine_io.c(1511): OpenSSL: read\n1196/8208 bytes from BIO#186f10 [mem: 1ba9f5] (BIO dump follows)\n[Mon Apr 04 10:13:51 2005] [debug] ssl_engine_io.c(1511): OpenSSL: read 565/7012\nbytes from BIO#186f10 [mem: 1baea1] (BIO dump follows)\n[Mon Apr 04 10:13:51 2005] [debug] ssl_engine_io.c(1511): OpenSSL: read\n6447/6447 bytes from BIO#186f10 [mem: 1bb0d6] (BIO dump follows)\n[Mon Apr 04 10:13:51 2005] [debug] ssl_engine_io.c(1511): OpenSSL: read 5/5\nbytes from BIO#186f10 [mem: 1ba9f0] (BIO dump follows)\n[Mon Apr 04 10:13:51 2005] [debug] ssl_engine_io.c(1511): OpenSSL: read\n1548/4627 bytes from BIO#186f10 [mem: 1ba9f5] (BIO dump follows)\n[Mon Apr 04 10:13:51 2005] [debug] ssl_engine_io.c(1511): OpenSSL: read 376/3079\nbytes from BIO#186f10 [mem: 1bb001] (BIO dump follows)\n[Mon Apr 04 10:13:51 2005] [debug] ssl_engine_io.c(1511): OpenSSL: read\n2703/2703 bytes from BIO#186f10 [mem: 1bb179] (BIO dump follows)\n[Mon Apr 04 10:13:51 2005] [info] Connection to child 3 closed with unclean\nshutdown(server rd.transfer.mgic.com:443, client 10.2.20.92)\n\nReproducible 9 times out of 10. Changed to shmcb and still no change.  Oddly\nenough, when requests are made to this site through an apache proxy running on\nanother host, the transfer completes without incident (but it's very slow.) \nAlso, running with ssl_io_data_dump uncommented, I do not get a failure (and it\nis also very slow, because it's writing every byte out to the log.)\n\n", "is_private": false, "bug_id": 34270, "id": 73266, "time": "2005-04-04T17:45:53Z", "creator": "david_arcuri@mgic.com", "creation_time": "2005-04-04T17:45:53Z", "attachment_id": null}, {"count": 6, "tags": [], "text": "\nThis is an issue with Solaris 8 TCP stack settings, not Apache.  I was able to\nresolve this issue by applying the following settings:\n\nip_ignore_redirect 1\ntcp_conn_grace_period 0\ntcp_conn_req_max_q 1024\ntcp_conn_req_max_q0 4096\ntcp_conn_req_min 1\ntcp_cwnd_max 1048576\ntcp_fin_wait_2_flush_interval 675000\ntcp_ip_abort_cinterval 180000\ntcp_ip_abort_interval 480000\ntcp_keepalive_interval 7200000\ntcp_recv_hiwat 49152\ntcp_rexmit_interval_initial 3000\ntcp_rexmit_interval_max 60000\ntcp_rexmit_interval_min 400\ntcp_slow_start_initial 4\ntcp_time_wait_interval 60000\ntcp_xmit_hiwat 49152\n\n\nWhich incidentally are the default settings in Solaris 9.\n", "attachment_id": null, "id": 73810, "creator": "david_arcuri@mgic.com", "time": "2005-04-19T15:48:54Z", "bug_id": 34270, "creation_time": "2005-04-19T15:48:54Z", "is_private": false}, {"count": 7, "tags": [], "text": "\nFurther research yields more data:  TCP settings help mask the problem somewhat\nbut failures still result when posting > 40 MB files from IE via an SSL\nconnection.  The failure mode is interesting -- a script which reads the input\nstream from <STDIN> by simply reading bytes until $ENV{CONTENT_LENGTH} is\nreached will eventually be killed by mod_cgi because the data stream is cut off\nbefore the filesize is reached and the script happily continues to read 0 byte\nblocks for a few loops until it receives SIGTERM.  A script which reads until\nthe read() returns 0 bytes will \"complete\" when it sees the 0 byte block but\nwill result in a filesize less than $ENV{CONTENT_LENGTH} because at some point\nin the transfer, one endpoint will close the connection before the file is\ncompletely transferred.\n\nThese failures, at least in our test environment, result about 1 out of every 10\ntransfers.  Based on the relatively infrequent failure rate, I began looking for\nlikely culprits for variability in the environment.  Our \"test\" server is a Sun\nE250 (Ultrasparc-II CPU 400 Mhz) which experiences the failures.  Our \"qa\"\nserver is a Sun E250 (Ultrasparc-II CPU 2x 300 Mhz) which also experiences\nfailures.  And our production server is an E6500 (Ultrasparc-II CPU 14x 400 Mhz)\nand, still experiences failures.\n\nOn a whim, I set up our test environment on a Sun 280R (Ultrasparc-III CPU, 2x\n750 Mhz) which is a faster, newer server with a much better pair of CPUs.  Over\nabout 80 tests I did not experience one failure.\n\nI then reviewed what other steps we took to attempt to troubleshoot this problem:\n\n1. Put the site behind an Apache proxy (mod_proxy) which halved the transfer\nspeed, but masked the problem -- no failures observed in this configuration.\n\n2. Put the site behind a load balancer appliance (BigIP) which also somewhat\nslowed the transfer speed, and masked the problem -- also no failures observed.\n\n3. Turned on Loglevel debug in httpd.conf -- seriously slowed down the transfer,\nbut masked the problem, as every packet is being written to the error_log.\n\nBecause we are looking at only one thread handling the SSL decryption I have\nconsidered that the old processors simply cannot keep up with the datastream and\nsome buffer, somewhere in the SSL code either inside Apache or in OpenSSL\n(0.9.7g) is filling up and not being emptied correctly.  If the transfer is\nbottlenecked somewhere else, this buffer isn't being filled.  The limit of my\ntroubleshooting capability has been exceeded at this point, so someone who knows\nmore about this process will need to take over.\n\nI can provide as much information as is requested -- except an apache debug\nsession, as no failures are observed when this is on.\n", "attachment_id": null, "id": 74668, "creator": "david_arcuri@mgic.com", "time": "2005-05-10T16:20:59Z", "bug_id": 34270, "creation_time": "2005-05-10T16:20:59Z", "is_private": false}, {"count": 8, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "id": 77714, "time": "2005-07-27T12:38:45Z", "bug_id": 34270, "creation_time": "2005-07-27T12:38:45Z", "is_private": false, "text": "Are you still seeing this problem, David?\n\nIt would be very useful if you could try 2.0.54 plus these two patches:\n\nhttp://people.apache.org/~jorton/httpd-2.0.54-sslnbio.patch\nhttp://people.apache.org/~jorton/httpd-2.0.52-sslbuff.patch\n\n\n"}, {"count": 9, "tags": [], "text": "Just a confirmation, I am seeing this problem on FreeBSD 6.0 with 2.0.55\n\nns.0gino.jp - - [06/Feb/2006:08:52:38 -0800] \"POST /blog/xmlrpc.php HTTP/1.1\"\n70014 - \"-\" \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;)\"\nns.0gino.jp - - [06/Feb/2006:08:52:39 -0800] \"POST /blog/xmlsrv/xmlrpc.php\nHTTP/1.1\" 70014 - \"-\" \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;)\"\nns.0gino.jp - - [06/Feb/2006:08:52:40 -0800] \"POST /blogs/xmlsrv/xmlrpc.php\nHTTP/1.1\" 70014 - \"-\" \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;)\"\nns.0gino.jp - - [06/Feb/2006:08:52:41 -0800] \"POST /drupal/xmlrpc.php HTTP/1.1\"\n70014 - \"-\" \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;)\"\nns.0gino.jp - - [06/Feb/2006:08:52:42 -0800] \"POST /phpgroupware/xmlrpc.php\nHTTP/1.1\" 70014 - \"-\" \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;)\"\nns.0gino.jp - - [06/Feb/2006:08:52:43 -0800] \"POST /wordpress/xmlrpc.php\nHTTP/1.1\" 70014 - \"-\" \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;)\"\nns.0gino.jp - - [06/Feb/2006:08:52:46 -0800] \"POST /xmlrpc/xmlrpc.php HTTP/1.1\"\n70014 - \"-\" \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;)\"\nns.0gino.jp - - [06/Feb/2006:08:52:47 -0800] \"POST /xmlsrv/xmlrpc.php HTTP/1.1\"\n70014 - \"-\" \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;)\"\n\nI could try the patches, but I want to make sure you weren't trying to solve a\nSolaris-specific problem...", "attachment_id": null, "id": 86123, "creator": "jrhett@netconsonance.com", "time": "2006-02-23T10:09:59Z", "bug_id": 34270, "creation_time": "2006-02-23T10:09:59Z", "is_private": false}, {"id": 86125, "tags": [], "bug_id": 34270, "attachment_id": null, "count": 10, "text": "FYI, here are the error logs for the same period.  Notice that these are simple\nfile does not exist errors.\n\n[Fri Feb 06 08:52:38 2006] [error] [client 219.117.208.209] File does not exist:\n/u/default_site/www/server_common/blog\n[Fri Feb 06 08:52:39 2006] [error] [client 219.117.208.209] File does not exist:\n/u/default_site/www/server_common/blog\n[Fri Feb 06 08:52:40 2006] [error] [client 219.117.208.209] File does not exist:\n/u/default_site/www/server_common/blogs\n[Fri Feb 06 08:52:41 2006] [error] [client 219.117.208.209] File does not exist:\n/u/default_site/www/server_common/drupal\n[Fri Feb 06 08:52:42 2006] [error] [client 219.117.208.209] File does not exist:\n/u/default_site/www/server_common/phpgroupware\n", "time": "2006-02-23T10:31:08Z", "creator": "jrhett@netconsonance.com", "creation_time": "2006-02-23T10:31:08Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 34270, "attachment_id": null, "id": 86458, "time": "2006-03-03T15:34:01Z", "creator": "bpommerenke@gmail.com", "creation_time": "2006-03-03T15:34:01Z", "is_private": false, "text": "In a B2B model where the apache act as a reverse HTTPS proxy, we have the same \nproblem with small post files:\n\n172.31.48.154 - - [03/Mar/2006:09:30:13 +0100] \"POST /b2b/test.eip HTTP/1.1\" \n70014 548 \"-\" \"-\"\n\nApache version: 2.0.53\nOpenSSL version: 0.9.7.e\n\n"}, {"count": 12, "tags": [], "creator": "jrhett@netconsonance.com", "attachment_id": null, "is_private": false, "id": 86470, "time": "2006-03-03T21:52:07Z", "bug_id": 34270, "creation_time": "2006-03-03T21:52:07Z", "text": "This is a fairly major problem, leaving many hits uncounted.   We're seeing an\naverage of 1k \"corrupted\" entries per night, per webserver.  All of these so\ncalled \"corrupted\" entries are invalid status codes."}, {"count": 13, "tags": [], "bug_id": 34270, "attachment_id": null, "is_private": false, "id": 87423, "time": "2006-03-30T12:40:33Z", "creator": "nick@webthing.com", "creation_time": "2006-03-30T12:40:33Z", "text": "What do you see if you insert mod_diagnostics in the input filter chain, for a \nsuccessful and a failed request? "}, {"id": 87424, "tags": [], "bug_id": 34270, "attachment_id": null, "count": 14, "text": "The fact that the bogus \"70014\" status code is logged to the error_log on an SSL\ntimeout is bug 31759; this is not necessarily symptomatic of a behavioural bug,\nbut is merely a cosmetic logging issue.  It can occur if an SSL connection times\nout or is forcibly closed by the client (i.e. under normal operating conditions).\n\nIf you are using a reverse proxy, then you may be suffering from bug 34452 -- use\nhttp://people.apache.org/~jorton/httpd-2.0.52-sslbuff.patch to fix that.\n\nIf you are using SSLVerifyClient in a per-directory or per-location context\nwhich is POSTed too, see bug 12335.", "time": "2006-03-30T13:05:03Z", "creator": "jorton@redhat.com", "creation_time": "2006-03-30T13:05:03Z", "is_private": false}, {"count": 15, "tags": [], "text": "(sorry, posted previous comment too quickly)\n\nFinally: make sure you are using the shmcb session cache, and have the\nMSIE-specific BrowserMatch/SetEnvIf statement configured in the correct SSL\nvhost context:\n\nBrowserMatch \".*MSIE.*\" \\\n         nokeepalive ssl-unclean-shutdown \\\n         downgrade-1.0 force-response-1.0\n", "is_private": false, "id": 87425, "creator": "jorton@redhat.com", "time": "2006-03-30T13:13:26Z", "bug_id": 34270, "creation_time": "2006-03-30T13:13:26Z", "attachment_id": null}, {"count": 16, "tags": [], "text": "Calling this a \"cosmetic logging issue\" makes it sound less important. 200k of\ninvalid log lines each night that must be manually mangled for proper log\nprocessing is not \"cosmetic\".  In fact, an argument could be made that this is a\nsecurity problem, because most people aren't doing this thus many log lines are\neffectively invisible to them.\n\nThis is a MAJOR problem and it needs to get fixed, rather than focusing on some\nminor trivia new feature.", "is_private": false, "bug_id": 34270, "id": 87434, "time": "2006-03-30T18:49:48Z", "creator": "jrhett@netconsonance.com", "creation_time": "2006-03-30T18:49:48Z", "attachment_id": null}, {"count": 17, "tags": [], "text": "I'd also like to point out that downgrading ALL versions of MSIE is wielding a\nbig blunt stick.  It may work fine for developers on their home systems, but it\nslows down the users with modern versions of MSIE too much.  Too many complaints\nfor large production sites.", "is_private": false, "bug_id": 34270, "id": 87435, "time": "2006-03-30T18:51:57Z", "creator": "jrhett@netconsonance.com", "creation_time": "2006-03-30T18:51:57Z", "attachment_id": null}, {"count": 18, "attachment_id": null, "bug_id": 34270, "is_private": false, "id": 87439, "time": "2006-03-30T21:09:30Z", "creator": "rpluem@apache.org", "creation_time": "2006-03-30T21:09:30Z", "tags": [], "text": "The situation is more complicated then you might think off. Even IE6 behaves\ndifferently and it is impossible to detect on server side which patches have\nbeen applied to it. See also\nhttp://mail-archives.apache.org/mod_mbox/httpd-dev/200511.mbox/%3c20051122135629.03A2882D02@cmcodec02.st1.spray.net%3e\n\nSo if you can provide more concrete information and help on this topic this is\nwelcome."}, {"count": 19, "attachment_id": null, "creator": "jrhett@netconsonance.com", "is_private": false, "id": 87442, "time": "2006-03-30T21:19:41Z", "bug_id": 34270, "creation_time": "2006-03-30T21:19:41Z", "tags": [], "text": "What IE does and doesn't do is not relevant to this APACHE bug.  IE doesn't log\nmessages in Apache's access log.\n\nWhat help do you need from me?  As I understand it, this issue has been known\nabout for over a year now, has been clearly identified... and yes nobody will\nbother to commit a fix.  So all of us running production servers have to\npre-process our logfiles cleaning out these invalid return codes before\nprocessing the logs."}, {"count": 20, "attachment_id": null, "creator": "rpluem@apache.org", "is_private": false, "id": 87443, "time": "2006-03-30T21:34:55Z", "bug_id": 34270, "creation_time": "2006-03-30T21:34:55Z", "tags": [], "text": "My remark was regarding your comment #17.\nIf you would like to see this log file issue fixed prepare a patch and attach\nit. Although there is no guarantee that it gets accepted it may speed up a\nchange in the codebase and at least it solves the problem on your servers. Thats\nthe nice thing of open source software: If the developers don't fix it you can\ndo it for yourself (or pay someone to do it)."}, {"count": 21, "tags": [], "text": "For the record, the problem referred to in  Ruediger Pluem's comment only\napplies to per-directory SSL reconfigurations.  In short, the SSLVerifyClient\nstatement inside a Directory container posted at the top.\n\nThis isn't related to this bug at all, which involves what Apache logs.", "is_private": false, "id": 87444, "creator": "jrhett@netconsonance.com", "time": "2006-03-30T21:36:41Z", "bug_id": 34270, "creation_time": "2006-03-30T21:36:41Z", "attachment_id": null}, {"count": 22, "tags": [], "creator": "jrhett@netconsonance.com", "attachment_id": null, "id": 87445, "time": "2006-03-30T21:43:40Z", "bug_id": 34270, "creation_time": "2006-03-30T21:43:40Z", "is_private": false, "text": "> If you would like to see this log file issue fixed prepare a patch and \n\nnew to open source, are we?  Yes, that's the religion.  And like God, it doesn't\nshow its face much in the real world.\n\nI've spent thousands of hours fixing major problems in open source projects.  My\nfixes are fairly rarely implemented because whoever owns that piece of code was\nignoring the problem in the first place.  Or they don't care to fix it.  Or they\nhave some religious objection to it. (\"who cares about MSIE problems? etc\")\n\nI stopped submitting unsolicited patches years ago.  The very few organizations\nthat do want and accept unsolicited patches are (a) responsive to the bug\nreports and (b) willing to review them.  It's been nearly 10 years since Apache\ndid either.\n\nSo the truth is that, with Apache, the only way bugs get fixed is if one of the\nmaintainers cares enough.  And given constant reports of this problem and\nconfirmation from the maintainers about exactly where the problem is and what\nneeds to be done to fix it... but no patches, it's clear that they don't care. \nIt's likely another personal war against MSIE.  Again. sigh."}, {"count": 23, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "is_private": false, "id": 87446, "time": "2006-03-30T21:58:26Z", "bug_id": 34270, "creation_time": "2006-03-30T21:58:26Z", "text": "Please try to keep this discussion productive.\n\n1) If the only bug you are seeing is the non-MSIE-specific logging issue, then\nfurther discussion belongs at bug 31759, which is a problem entirely outside\nmod_ssl, and nothing to do with this bug (which is frankly rather ill-specified\nanyway).\n\n2) If you are seeing bugs *other* than the logging issue, such as some issue\nwith POST requests and MSIE, *and* the problems I outlined above have all been\neliminated, then those issues need to be diagnosed further, because there is not\nenough information given thus far to help solve them.\n\n3) There is no vendetta against MSIE.  The default BrowserMatch directive is\nused in the default config exactly to *maximize interoperability with MSIE*. \nNothing else.  Any data which anyone has which can be used to refine the scope\nof this BrowserMatch and improve operation with MSIE is certainly very welcome,\nbut we currently don't have such data, so the current default seems to be safe\nand correct."}, {"count": 24, "attachment_id": null, "bug_id": 34270, "is_private": false, "id": 87447, "time": "2006-03-30T22:16:14Z", "creator": "rpluem@apache.org", "creation_time": "2006-03-30T22:16:14Z", "tags": [], "text": "(In reply to comment #14)\n\n> If you are using a reverse proxy, then you may be suffering from bug 34452 -- use\n> http://people.apache.org/~jorton/httpd-2.0.52-sslbuff.patch to fix that.\n> \nI think either the PR number or the patch is wrong :-). For 34452 it should be\nhttp://issues.apache.org/bugzilla/attachment.cgi?id=14804.\nBTW: PR 34452 will be fixed 2.0.56"}, {"count": 25, "tags": [], "bug_id": 34270, "attachment_id": null, "id": 87448, "time": "2006-03-30T22:18:48Z", "creator": "rpluem@apache.org", "creation_time": "2006-03-30T22:18:48Z", "is_private": false, "text": "(In reply to comment #21)\n> This isn't related to this bug at all, which involves what Apache logs.\n\nYes, it is not related to this bug, but to your comment in #17, as it is about\nwhy we set \n\nBrowserMatch \".*MSIE.*\" \\\n         nokeepalive ssl-unclean-shutdown \\\n         downgrade-1.0 force-response-1.0\n\nin the default config.\n\n"}, {"count": 26, "tags": [], "text": "Oops, yes, thanks Ruediger, the link you give is the correct fix for bug 34452,\nwhich is the PR I was talking about there.", "is_private": false, "id": 87449, "creator": "jorton@redhat.com", "time": "2006-03-30T22:28:52Z", "bug_id": 34270, "creation_time": "2006-03-30T22:28:52Z", "attachment_id": null}, {"count": 27, "attachment_id": null, "creator": "rpluem@apache.org", "is_private": false, "id": 87450, "time": "2006-03-30T22:31:48Z", "bug_id": 34270, "creation_time": "2006-03-30T22:31:48Z", "tags": [], "text": "(In reply to comment #22)\n\n> So the truth is that, with Apache, the only way bugs get fixed is if one of the\n> maintainers cares enough.  And given constant reports of this problem and\n> confirmation from the maintainers about exactly where the problem is and what\n> needs to be done to fix it... but no patches, it's clear that they don't care.\n \nConcerning the logging issue (PR31759): Yes, this has been reported about 6\nmonth ago and there is still no fix. If you would like, you can say that\ndevelopers do not care about this. I would say the priorities are different.\nThis problem bothers you, so it has a high priority for you. So my point is:\n\na) You can fix it yourself in comparsion to a closed source product where you\ncan do nothing if the vendor does not care.\nb) Given the low priority on developer side regarding this issue you can lower\nthe action bar of actually fixing it in the code base by providing a patch.\nc) You can try to help improving the product.\n\n"}, {"count": 28, "tags": [], "creator": "jrhett@netconsonance.com", "attachment_id": null, "id": 87451, "time": "2006-03-30T22:48:17Z", "bug_id": 34270, "creation_time": "2006-03-30T22:48:17Z", "is_private": false, "text": "Reply comment 27:\n> If you would like, you can say that developers do not care about this.\n> I would say the priorities are different.\n\nThere is no difference in these statements.  There are no crushing problems with\nApache that everyone is busy solving.  It's only adding new features to the bloat.\n\nWhen the product fails to do the basics properly (log the request) but you're\nbusy adding cute new features to the bloat, then \"developers don't care\" is much\nmore correct and apt for the situation."}, {"count": 29, "tags": [], "text": "Joe: what does a reverse proxy situation have to do with this bug?\n\nYes, they might be witnessing a problem in the same piece of code ... but\nperhaps not.  And frankly, I can understand why a problem in the reverse proxy\nwould be ignored.  But a major problem in the very basic, simple, core thing\nthat Apache is supposed to do should get attention. ", "is_private": false, "bug_id": 34270, "id": 87452, "time": "2006-03-30T22:50:18Z", "creator": "jrhett@netconsonance.com", "creation_time": "2006-03-30T22:50:18Z", "attachment_id": null}, {"count": 30, "tags": [], "text": "Harrassing volunteers seldom get good results. You might get the opposite effect\nyou were looking for.\n\nI understand your need for a fix but there must be a better way to get there.", "attachment_id": null, "id": 87462, "creator": "dag@wieers.com", "time": "2006-03-31T08:49:30Z", "bug_id": 34270, "creation_time": "2006-03-31T08:49:30Z", "is_private": false}, {"count": 31, "tags": [], "bug_id": 34270, "attachment_id": null, "id": 87464, "time": "2006-03-31T08:59:58Z", "creator": "jrhett@netconsonance.com", "creation_time": "2006-03-31T08:59:58Z", "is_private": false, "text": "> Harrassing volunteers seldom get good results.\n> You might get the opposite effect you were looking for.\n\nSorry, I've just been the recipient of about 20,000 too many \"submit a patch\"\nresponses.  And I've spent the time and done the work, and it still never gets\ncommitted.  \"submit a patch\" in open source land is often synonymous with \"go\nf**k yourself\".  Even if it isn't meant that way, neither act gains you very much."}, {"count": 32, "attachment_id": null, "creator": "pgollucci@apache.org", "is_private": false, "id": 124178, "time": "2009-01-18T16:19:22Z", "bug_id": 34270, "creation_time": "2009-01-18T16:19:22Z", "tags": [], "text": "CC myself on FreeBSD related bugs"}]