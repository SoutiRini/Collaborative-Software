[{"count": 0, "tags": [], "bug_id": 5663, "attachment_id": null, "id": 9282, "time": "2002-01-02T11:02:42Z", "creator": "jslein@crt.xerox.com", "creation_time": "2002-01-02T11:02:42Z", "is_private": false, "text": "When I reference from my namespace a group defined in another namespace, the \nelements in the group are incorrectly treated as if they had been declared in \nmy namespace.  (See http://lists.w3.org/Archives/Public/xmlschema-\ndev/2002Jan/0007.html and the response \nhttp://lists.w3.org/Archives/Public/xmlschema-dev/2002Jan/0008.html)\n\nHere is a base schema:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n xmlns:jdf=\"http://www.CIP4.org/JDFSchema_1\"\n xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n targetNamespace=\"http://www.CIP4.org/JDFSchema_1\"\n elementFormDefault=\"qualified\"\n attributeFormDefault=\"unqualified\">\n\n\n<element name=\"Comment\" type=\"string\"/>\n<group name=\"GenericElements\">\n\t\t<sequence>\n\t\t\t<element ref=\"jdf:Comment\" minOccurs=\"0\"/>\n\t\t\t<any namespace=\"##other\" processContents=\"lax\" \nminOccurs=\"0\"/>\n\t\t</sequence>\n\t</group>\n\n<group name=\"JDFChildElements_\">\n\t\t<sequence>\n\t\t\t<group ref=\"jdf:GenericElements\" minOccurs=\"0\"/>\n\t\t\t<element name=\"AncestorPool\" type=\"string\" \nminOccurs=\"0\"/>\n\t\t\t<element name=\"AuditPool\" type=\"string\" minOccurs=\"0\"/>\n\t\t\t<element name=\"CustomerInfo\" type=\"string\" \nminOccurs=\"0\"/>\n\t\t\t<element name=\"NodeInfo\" type=\"string\" minOccurs=\"0\"/>\n\t\t\t<element name=\"ResourcePool\" type=\"string\" \nminOccurs=\"0\"/>\n\t\t\t<element name=\"StatusPool\" type=\"string\" minOccurs=\"0\"/>\n\t\t\t<element ref=\"jdf:JDF\" minOccurs=\"0\"/>\n\t\t</sequence>\n\t</group>\n<complexType name=\"JDFBaseType_\" abstract=\"true\">\n\t<attribute name=\"Activation\" type=\"NMTOKEN\" use=\"optional\"/>\n\t<attribute name=\"ID\" type=\"ID\" use=\"required\"/>\n\t<attribute name=\"JobID\" type=\"string\" use=\"optional\"/>\n\t<attribute name=\"JobPartID\" type=\"string\" use=\"optional\"/>\n\t<attribute name=\"Status\" type=\"NMTOKEN\" use=\"required\"/>\n\t<attribute name=\"Types\" type=\"NMTOKENS\" use=\"optional\"/>\n</complexType>\n\n<element name=\"JDF\" type=\"jdf:JDFBaseType_\"/>\n\n</schema>\n\nHere is my extension schema:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<schema xmlns=\"http://www.w3.org/2001/XMLSchema\"\n        xmlns:jdf=\"http://www.CIP4.org/JDFSchema_1\"\n        \ntargetNamespace=\"http://www.xerox.com/XMLSchemas/Services/EmailDistMsgLayer\"\n        xmlns:em=\"http://www.xerox.com/XMLSchemas/Services/EmailDistMsgLayer\">\n\n<import namespace=\"http://www.CIP4.org/JDFSchema_1\" \n        schemaLocation=\"namespaceTestBase.xsd\"/>\n\n\n\n<!-- The EmailDistribution Process definition -->\n<complexType name=\"EmailDistribution\">\n   <complexContent>\n      <extension base=\"jdf:JDFBaseType_\">\n         <sequence minOccurs=\"0\" maxOccurs=\"unbounded\">\n<!-- Unresolved debate on XMLSchema-Dev about whether there should be ambiguous\n     content model error\n     here because of <any namespace=\"##other\"/> and local ResourceLinkPool\n-->\n            <group ref=\"jdf:JDFChildElements_\"/>\n            <element name=\"ResourceLinkPool\" type=\"string\" minOccurs=\"0\"/>\n         </sequence>\n         <attribute name=\"Type\" type=\"NMTOKEN\" use=\"required\"/>\n      </extension>\n   </complexContent>\n</complexType>\n\n</schema>\n\nHere is an instance document:\n\n<?xml version=\"1.0\" encoding=\"utf-8\" ?>\n\n<jdf:JDF ID=\"n01\" Type=\"em:EmailDistribution\" \n     JobID=\"job0938-a23\" Status=\"Waiting\"\n     xmlns:jdf=\"http://www.CIP4.org/JDFSchema_1\"\n     xmlns:em=\"http://www.xerox.com/XMLSchemas/Services/EmailDistMsgLayer\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://www.CIP4.org/JDFSchema_1 namespaceTestBase.xsd\n                     http://www.xerox.com/XMLSchemas/Services/EmailDistMsgLayer \nnamespaceTestExt.xsd\"\n     xsi:type=\"em:EmailDistribution\">\n\n   <jdf:ResourcePool>Some resources</jdf:ResourcePool>\n\n   <ResourceLinkPool>Some resource links</ResourceLinkPool>\n\n</jdf:JDF>\n\n\nWhen I run:\njava dom.DOMWriter -f -v namespaceTestInst.xml\nI get a slew of Unique Particle Attribution rule errors that should not be \nthere if the elements in the group were correctly assigned to the jdf: \nnamespace (and the wildcard were correctly treated as declared from the jdf: \nnamespace)."}]