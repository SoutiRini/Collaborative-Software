[{"attachment_id": null, "tags": [], "bug_id": 39454, "text": "when using mod_mem_cache module, it's caching the request for 5 times, from \nthe 6th time it will start serving from cache. The first 5 times it's just \ncaching. I tried 2.2.0 and 2.2.2, both gives the same response. Is there \nanything I am doing wrong? It seems to be weird behaviour. \nmod_disk_cache works fine, after the first response it will serve from the \ncache but not mod_mem_cache.\n\nThanks in advance.\n\n\n[Sun Apr 30 21:36:00 2006] [debug] mod_cache.c(129): Adding CACHE_SAVE filter \nfo\nr /images/apache_pb2_ani.gif\n[Sun Apr 30 21:36:00 2006] [debug] mod_cache.c(136): Adding CACHE_REMOVE_URL \nfil\nter for /images/apache_pb2_ani.gif\n[Sun Apr 30 21:36:00 2006] [debug] mod_cache.c(602): cache: Caching \nurl: /images\n/apache_pb2_ani.gif\n[Sun Apr 30 21:36:00 2006] [debug] mod_cache.c(608): cache: Removing \nCACHE_REMOV\nE_URL filter.\n[Sun Apr 30 21:36:00 2006] [debug] mod_cache.c(651): cache: Added date header\n[Sun Apr 30 21:36:00 2006] [info] mem_cache: Cached url: \nhttp://68.249.200.44:80\n/images/apache_pb2_ani.gif?\n[Sun Apr 30 21:36:01 2006] [debug] mod_cache.c(129): Adding CACHE_SAVE filter \nfo\nr /images/apache_pb2_ani.gif\n[Sun Apr 30 21:36:01 2006] [debug] mod_cache.c(136): Adding CACHE_REMOVE_URL \nfil\nter for /images/apache_pb2_ani.gif\n[Sun Apr 30 21:36:01 2006] [debug] mod_cache.c(602): cache: Caching \nurl: /images\n/apache_pb2_ani.gif\n[Sun Apr 30 21:36:01 2006] [debug] mod_cache.c(608): cache: Removing \nCACHE_REMOV\nE_URL filter.\n[Sun Apr 30 21:36:01 2006] [debug] mod_cache.c(651): cache: Added date header\n[Sun Apr 30 21:36:01 2006] [info] mem_cache: Cached url: \nhttp://68.249.200.44:80\n/images/apache_pb2_ani.gif?\n[Sun Apr 30 21:36:06 2006] [debug] mod_cache.c(129): Adding CACHE_SAVE filter \nfo\nr /images/apache_pb2_ani.gif\n[Sun Apr 30 21:36:06 2006] [debug] mod_cache.c(136): Adding CACHE_REMOVE_URL \nfil\nter for /images/apache_pb2_ani.gif\n[Sun Apr 30 21:36:06 2006] [debug] mod_cache.c(602): cache: Caching \nurl: /images\n/apache_pb2_ani.gif\n[Sun Apr 30 21:36:06 2006] [debug] mod_cache.c(608): cache: Removing \nCACHE_REMOV\nE_URL filter.\n[Sun Apr 30 21:36:06 2006] [debug] mod_cache.c(651): cache: Added date header\n[Sun Apr 30 21:36:06 2006] [info] mem_cache: Cached url: \nhttp://68.249.200.44:80\n/images/apache_pb2_ani.gif?\n[Sun Apr 30 21:36:10 2006] [debug] mod_cache.c(129): Adding CACHE_SAVE filter \nfo\nr /images/apache_pb2_ani.gif\n[Sun Apr 30 21:36:10 2006] [debug] mod_cache.c(136): Adding CACHE_REMOVE_URL \nfil\nter for /images/apache_pb2_ani.gif\n[Sun Apr 30 21:36:10 2006] [debug] mod_cache.c(602): cache: Caching \nurl: /images\n/apache_pb2_ani.gif\n[Sun Apr 30 21:36:10 2006] [debug] mod_cache.c(608): cache: Removing \nCACHE_REMOV\nE_URL filter.\n[Sun Apr 30 21:36:10 2006] [debug] mod_cache.c(651): cache: Added date header\n[Sun Apr 30 21:36:10 2006] [info] mem_cache: Cached url: \nhttp://68.249.200.44:80\n/images/apache_pb2_ani.gif?\n[Sun Apr 30 21:36:14 2006] [debug] mod_cache.c(129): Adding CACHE_SAVE filter \nfo\nr /images/apache_pb2_ani.gif\n[Sun Apr 30 21:36:14 2006] [debug] mod_cache.c(136): Adding CACHE_REMOVE_URL \nfil\nter for /images/apache_pb2_ani.gif\n[Sun Apr 30 21:36:14 2006] [debug] mod_cache.c(602): cache: Caching \nurl: /images\n/apache_pb2_ani.gif\n[Sun Apr 30 21:36:14 2006] [debug] mod_cache.c(608): cache: Removing \nCACHE_REMOV\nE_URL filter.\n[Sun Apr 30 21:36:14 2006] [debug] mod_cache.c(651): cache: Added date header\n[Sun Apr 30 21:36:14 2006] [info] mem_cache: Cached url: \nhttp://68.249.200.44:80\n/images/apache_pb2_ani.gif?\n[Sun Apr 30 21:36:17 2006] [debug] mod_cache.c(261): cache: running CACHE_OUT \nfi\nlter\n[Sun Apr 30 21:36:17 2006] [debug] mod_cache.c(275): cache: \nserving /images/apac\nhe_pb2_ani.gif\n[Sun Apr 30 21:36:20 2006] [debug] mod_cache.c(261): cache: running CACHE_OUT \nfi\nlter\n[Sun Apr 30 21:36:20 2006] [debug] mod_cache.c(275): cache: \nserving /images/apac\nhe_pb2_ani.gif", "count": 0, "id": 88688, "time": "2006-05-01T02:46:47Z", "creator": "vijay@buydeal.com", "creation_time": "2006-05-01T02:46:47Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 39454, "attachment_id": null, "is_private": false, "id": 88689, "time": "2006-05-01T04:24:18Z", "creator": "chip@force-elite.com", "creation_time": "2006-05-01T04:24:18Z", "text": "mod_mem_cache is known to have problems.  I highly recommend you just use\nmod_disk_cache."}, {"count": 2, "tags": [], "creator": "rpluem@apache.org", "is_private": false, "text": "This works as designed. Each httpd process has its own mem cache. So I assume\nyou had at least 5 httpd processes running and each of it got one of your\nsubsequent requests. After the 6th request you hit one process that had your\nrequest cached.\nWhen using mod_mem_cache you should try to lower the number of processes and\nincrease the number of threads per process instead. This increases the\nefficiency of mod_mem_cache.", "id": 88693, "time": "2006-05-01T09:56:05Z", "bug_id": 39454, "creation_time": "2006-05-01T09:56:05Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "vijay@buydeal.com", "is_private": false, "text": "mod_mem_cache works great. I enabled worker with 1 server and n number of \nthreads. so far it's working without any problem. Thanks for your inputs.", "id": 88761, "time": "2006-05-03T15:19:10Z", "bug_id": 39454, "creation_time": "2006-05-03T15:19:10Z", "attachment_id": null}]