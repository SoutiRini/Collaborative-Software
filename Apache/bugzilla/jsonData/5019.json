[{"count": 0, "tags": [], "bug_id": 5019, "attachment_id": null, "text": "If a <bean>-ejb.jar.xml file for an ejb refers to another bean (via <ejb-ref> \nsection), the task ejb_ref will intentionally skip the home and remote \ninterfaces specified in the <ejb-ref section.\n\nThese home and remote interfaces need to be packaged to deploy.\n\nI've resolved this problem on my machine by modifying \norg.apache.tools.ant.taskdefs.optional.ejb.DescriptorHandler to not exclude \nhome and remote classes found in ejb-ref blocks.  Note commented out code below:\n\n    protected void processElement() {\n       if (/*inEJBRef || */\n            (parseState != STATE_IN_ENTITY && parseState != STATE_IN_SESSION)) {\n            return;\n        }\n    ...\n\nThe above change fixes the problem for me.\n\nI picked severity \"Major\" because the only other way to work around this would \nbe to write an ejbjar task for each ejb and manually add the home and remote \nfiles in <ejb-ref> via a <support> block.  Writing multiple ejbjar tasks \ndefeats one of the best features of the ejbjar task.", "id": 8166, "time": "2001-11-21T16:44:47Z", "creator": "ebelisle@ix.netcom.com", "creation_time": "2001-11-21T16:44:47Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 5019, "attachment_id": null, "text": "This bug fix has been tested with JBoss 2.4.3", "id": 8168, "time": "2001-11-21T17:54:45Z", "creator": "ebelisle@ix.netcom.com", "creation_time": "2001-11-21T17:54:45Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 5019, "attachment_id": null, "text": "This bug fix has also been tested with iPlanet 6.0 SP3", "id": 8224, "time": "2001-11-23T14:56:30Z", "creator": "ebelisle@ix.netcom.com", "creation_time": "2001-11-23T14:56:30Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 5019, "text": "Looking around some older still open bugs, and is this still valid?", "id": 46246, "time": "2003-10-24T15:38:06Z", "creator": "larry.shatzer@mirotechnologies.com", "creation_time": "2003-10-24T15:38:06Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 5019, "attachment_id": null, "text": "legacy EJB 2.x stuff has to be viewed as no longer maintained. Wontfix.", "id": 90646, "time": "2006-06-27T18:06:30Z", "creator": "stevel@apache.org", "creation_time": "2006-06-27T18:06:30Z", "is_private": false}]