[{"count": 0, "text": "This is my configuration for JNDI Realm which worked with tomcat 4 but not with\ntomcat 5. \n\n<Realm className=\"org.apache.catalina.realm.JNDIRealm\" debug=\"99\"\n      \t\tconnectionURL=\"ldap://localhost:389\"\nconnectionName=\"uid=tomcat,ou=users,ou=Mainoffice,o=reality-technology.net\"\n\t\tconnectionPassword=\"tomcat\"\nuserPattern=\"uid={0},ou=users,ou=Mainoffice,o=reality-technology.net\"\n\t\troleBase=\"ou=groups,ou=Mainoffice,o=reality-technology.net\"\n\t\troleName=\"cn\" roleSearch=\"(uniqueMember={0})\" /> \n\nThis is what the catalina_log displayed.  From what I am gathering tomcat 5 can\nnot get the roles because the parenthesis is being converted \\28 \\29.\n\n2004-02-09 19:02:15 JNDIRealm[Catalina]: lookupUser(idrinks)\n2004-02-09 19:02:15 JNDIRealm[Catalina]:  \ndn=uid=idrinks,ou=users,ou=Mainoffice,o=reality-technology.net\n2004-02-09 19:02:15 JNDIRealm[Catalina]:   validating credentials by binding as\nthe user\n2004-02-09 19:02:15 JNDIRealm[Catalina]:   binding as\nuid=idrinks,ou=users,ou=Mainoffice,o=reality-technology.net\n2004-02-09 19:02:15 JNDIRealm[Catalina]: Username idrinks successfully authenticated\n2004-02-09 19:02:15 JNDIRealm[Catalina]:  \ngetRoles(uid=idrinks,ou=users,ou=Mainoffice,o=reality-technology.net)\n2004-02-09 19:02:15 JNDIRealm[Catalina]:   Searching role base\n'ou=groups,ou=Mainoffice,o=reality-technology.net' for attribute 'cn'\n2004-02-09 19:02:15 JNDIRealm[Catalina]:   With filter expression\n'\\28uniqueMember=uid=idrinks,ou=users,ou=Mainoffice,o=reality-technology.net\\29'\n2004-02-09 19:02:15 JNDIRealm[Catalina]:   Returning 0 roles\n2004-02-09 19:03:17 JNDIRealm[Catalina]: lookupUser(idrinks)\n2004-02-09 19:03:17 JNDIRealm[Catalina]:  \ndn=uid=idrinks,ou=users,ou=Mainoffice,o=reality-technology.net\n2004-02-09 19:03:17 JNDIRealm[Catalina]:   validating credentials by binding as\nthe user\n2004-02-09 19:03:17 JNDIRealm[Catalina]:   binding as\nuid=idrinks,ou=users,ou=Mainoffice,o=reality-technology.net\n2004-02-09 19:03:17 JNDIRealm[Catalina]: Username idrinks successfully authenticated\n2004-02-09 19:03:17 JNDIRealm[Catalina]:  \ngetRoles(uid=idrinks,ou=users,ou=Mainoffice,o=reality-technology.net)\n2004-02-09 19:03:17 JNDIRealm[Catalina]:   Searching role base\n'ou=groups,ou=Mainoffice,o=reality-technology.net' for attribute 'cn'\n2004-02-09 19:03:17 JNDIRealm[Catalina]:   With filter expression\n'\\28uniqueMember=uid=idrinks,ou=users,ou=Mainoffice,o=reality-technology.net\\29'\n2004-02-09 19:03:17 JNDIRealm[Catalina]:   Returning 0 roles", "bug_id": 26834, "is_private": false, "id": 52068, "time": "2004-02-10T17:55:28Z", "creator": "ivan.jr@reality-technology.com", "creation_time": "2004-02-10T17:55:28Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "is_private": false, "id": 52069, "time": "2004-02-10T17:59:14Z", "bug_id": 26834, "creation_time": "2004-02-10T17:59:14Z", "text": "\n\n*** This bug has been marked as a duplicate of 26487 ***"}, {"count": 2, "tags": [], "bug_id": 26834, "text": "I just read this bug report on jndi realm not working for tomcat 5.  Is all of\nit not working or just working in certain cases?  I am using Tomcat 5 and an\nLDAP server and following all the instructions on the jakarta.apache.org/tomcat\nsite for JNDIrealms, and it's not verifying the usernames and passwords\ncorrectly.  I saw some tidbit that the jndi 1.2 can work with either openldap 3\nor 4.  Is really true.  I am using ldap version 2.  COuld that be the problem? \nPlease clarify.", "id": 54695, "time": "2004-03-25T23:15:28Z", "creator": "dianepalla@hotmail.com", "creation_time": "2004-03-25T23:15:28Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "remm@apache.org", "is_private": false, "count": 3, "id": 56542, "time": "2004-04-28T11:21:54Z", "bug_id": 26834, "creation_time": "2004-04-28T11:21:54Z", "text": "Please try tomcat-user, and don't reopen this report.\n\n*** This bug has been marked as a duplicate of 26487 ***"}]