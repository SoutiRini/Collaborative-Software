[{"count": 0, "tags": [], "bug_id": 34147, "is_private": false, "text": "This is an Apache/2.0.53 on GNU/Linux 2.6.9-5.0.3.ELsmp #1 SMP x86_64 \n(RedHat ES 4 with Apache installed from source tarball)\n\nEven though I had a few errors in the configuration, 'apachectl -t' said\n'Syntax Ok'. The scenario:\n\n> apachectl -t\nSyntax OK\n> apachectl graceful\n(Apache coughs & dies)\n\nWe find in the error log:\n\n\"Syntax error on line 45 of /usr/local/apache2/conf/analog-setup.conf:\nExpected </Directory> but saw </Director>\"\n\nThis error is quickly fixed, I forget the 'y'. But which did 'apachectl'\nnot catch that? analog-setup.conf is included by virtualhosts.conf, which\nis included by httpd.conf, but still...\n\nOn a related note, I don't think an 'apachectl graceful' should kill the\nrunning Apache if it finds an error in the config files. This is probably\nhard to do though.", "id": 5880, "time": "2005-03-23T13:08:43Z", "creator": "bughunt@gluino.name", "creation_time": "2005-03-23T13:08:43Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "id": 5877, "time": "2005-03-23T13:43:50Z", "bug_id": 34147, "creation_time": "2005-03-23T13:43:50Z", "is_private": false, "text": "You're definitely running the apachectl from the 2.0.53 you built from source,\nnot the system-provided /usr/sbin/apachectl?"}, {"count": 2, "tags": [], "bug_id": 34147, "is_private": false, "text": "Phew...such a question makes one feel *really* unsure of oneself ;-)\n\nYes, it's the one built from source. There is not default webserver package\non the machine.\n\n$ apachectl -v\nServer version: Apache/2.0.53\nServer built:   Feb 27 2005 15:32:36\n\nHere's another gotcha:\n\napachectl did not catch an error in a mod_rewrite RewriteRule string.\n\nSome details:\n\nhttpd.conf includes virtualhosts.conf unconditionally\nhttpd.conf includes ssl.conf, but checked by a <IfModule mod_ssl.c>\n\nIf I have a buggy rewrite, missing a ']', in virtualhosts.conf:\n\nRewriteRule ^/(server-status.*$) https://rei1.m-plify.net/$1 [L,R=301\n\nthen apachectl correctly complains.\n\nIf I have a buggy rewrite, missing a ']', in ssl.conf:\n\nRewriteRule ^/?(.*)$   https://rei1.m-plify.net/bugzilla/$1 [L,R=301\n\nthe error is missed.\n\nSo: it's just an inclusion problem, I guess. apachectl is not\nincluding everything.\n\nIndeed the earlier problem occurred in a file included by ssl.conf.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n", "id": 72841, "time": "2005-03-25T14:22:18Z", "creator": "bughunt@gluino.name", "creation_time": "2005-03-25T14:22:18Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "jorton@redhat.com", "is_private": false, "id": 72978, "creation_time": "2005-03-29T15:14:58Z", "time": "2005-03-29T15:14:58Z", "bug_id": 34147, "text": "Can you reduce this to a minimal set of config files which \"apachectl\nconfigtest\" will not report the error?", "attachment_id": null}, {"count": 4, "tags": [], "creator": "chip@force-elite.com", "attachment_id": null, "id": 75854, "time": "2005-06-03T00:55:32Z", "bug_id": 34147, "creation_time": "2005-06-03T00:55:32Z", "is_private": false, "text": "apachectl configtest does not pass -D SSL like startssl does, and therefore, its\nlikely mod_ssl is not being loaded, hence the different results?"}, {"count": 5, "tags": [], "bug_id": 34147, "is_private": false, "id": 83444, "attachment_id": null, "creator": "slive@apache.org", "creation_time": "2005-12-08T19:51:21Z", "time": "2005-12-08T19:51:21Z", "text": "Probably configuration issue.  -D SSL is gone in 2.2."}, {"count": 6, "tags": [], "bug_id": 34147, "text": "Actually, as said earlier on:\n\n\"It's just an inclusion problem, I guess. apachectl is not including everything.\"\n\nI have an inclusion hierarchy 4 levels deep. This bug certainly is not\n\"invalid\", but it may be a 'worksforme' or \"wontfix\".\n\nWill test again at the next upgrade.", "id": 83454, "time": "2005-12-08T20:13:41Z", "creator": "bughunt@gluino.name", "creation_time": "2005-12-08T20:13:41Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 34147, "attachment_id": null, "text": "Don't worry about the resolution status.  We only care about \"open\" or \"closed\".\n\nWhat you are probably missing is Paul's comment about -D SSL.", "id": 83456, "time": "2005-12-08T20:27:17Z", "creator": "slive@apache.org", "creation_time": "2005-12-08T20:27:17Z", "is_private": false}]