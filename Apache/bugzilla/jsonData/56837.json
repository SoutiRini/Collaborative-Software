[{"count": 0, "tags": [], "creator": "gap75@hotmail.com", "text": "ENV: \napache-tomcat-7.0.54\nCentOS release 6.5 (Final)\njdk1.7.0_55\n\n\nin case of  setting the  \"timeBetweenEvictionRunsMillis\",\n\nwhen validationQuery is error, connection pool increase keep going.\nEven if you set the maximum value(maxActive).\n\n1. setting\n    <Resource\n         name=\"jdbc/PPAS_DS\"\n         type=\"javax.sql.DataSource\"\n         minIdle=\"2\"\n         initialSize=\"3\"\n         maxActive=\"6\"\n         timeBetweenEvictionRunsMillis=\"20000\"\n\n         username=\"xxx\"\n         validationQuery=\"select1 12 \"\n         driverClassName=\"org.postgresql.Driver\"\n         password=\"xxx\"\n         url=\"jdbc:postgresql://localhost:5432/postgres\"/>\n\n2. try to ues connection Pool\n--> validationQuery error \n-------------------------------------------------------\n3. server connection increases after 20000 Millis (timeBetweenEvictionRunsMillis value)\nnetstat -nap | grep 5432 | grep EST | grep java | wc -l\n6\n netstat -nap | grep 5432 | grep EST | grep java | wc -l\n8\n-------------------------------------------------------\nIf Pool can not guarantee maxActive value, that is problem.\n\nDid I  something wrong use timeBetweenEvictionRunsMillis option?\n\ntimeBetweenEvictionRunsMillis option is not available?", "id": 177060, "time": "2014-08-11T02:36:11Z", "bug_id": 56837, "creation_time": "2014-08-11T02:36:11Z", "is_private": false, "attachment_id": null}]