[{"count": 0, "tags": [], "creator": "mikeb@map.com", "attachment_id": null, "text": "I am attempting to use a relative path for DocumentRoot (relative to ServerRoot\nthat is) however I keep getting the message \"DocumentRoot must be a directory\".\nI have traced down the problem to the function filesys.c:apr_filepath_get(). The\nfunction GetCurrentDirectoryW() is returning a path that is exactly 1 directory\nlower then that of the ServerRoot. For example:\n\nServerRoot = \"C:\\Documents\\Internet\\Services\\Apache\"\n\nreturned value from GetCurrentDirectoryW() = \"C:\\Documents\\Internet\\Services\"\n\nI do not use a ServerRoot configuration directive in my config however even when\nI do provide one, that does not solve the problem.\n\nIt seems odd that this function is being called at all as relative paths should\nbe considered relative to ServerRoot, not the current directory of the running\nprocess. I would suggest as a fix using ServerRoot directly for all relative\npaths instead of calculating new ones.\n\nEnvironment...\n\nServerRoot: \"C:\\Documents\\Internet\\Services\\Apache\"\nApache.exe: \"C:\\Documents\\Internet\\Services\\Apache\\bin\\Apache.exe\"\nhttpd.conf: \"C:\\Documents\\Internet\\Services\\Apache\\conf\\httpd.conf\"\n    htdocs: \"C:\\Documents\\Internet\\Services\\Apache\\htdocs\"", "id": 71649, "time": "2005-03-01T01:00:36Z", "bug_id": 33781, "creation_time": "2005-03-01T01:00:36Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 33781, "is_private": false, "id": 75605, "time": "2005-05-30T20:29:40Z", "creator": "tyler@yi.org", "creation_time": "2005-05-30T20:29:40Z", "tags": [], "text": "Hi,\n I am getting the same problem in apache 2.0.54 under Linux. I tried to set my\nDocumentRoot to \"www-lib\", which is inside my ServerRoot, and I get the\nfollowing error trying to load my page:\n\n [Mon May 30 12:29:12 2005] [error] [client 192.168.99.112] File does not exist:\n/www-lib\n\n It appears that apache is putting a slash in front of the path instead of\ntreating it relative to ServerRoot. The documentation says that all relative\npaths are taken relative to ServerRoot.\n\n"}, {"count": 2, "tags": [], "bug_id": 33781, "text": "This is fixed in trunk.", "id": 75850, "time": "2005-06-03T00:47:20Z", "creator": "chip@force-elite.com", "creation_time": "2005-06-03T00:47:20Z", "is_private": false, "attachment_id": null}]