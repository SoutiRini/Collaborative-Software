[{"count": 0, "tags": [], "creator": "lkarpel@eloquent.com", "attachment_id": null, "id": 22289, "time": "2002-09-04T18:32:48Z", "bug_id": 12310, "creation_time": "2002-09-04T18:32:48Z", "is_private": false, "text": "One of my compatriots is having a problem with a 3rd party peice of software \nthat attempting to access a Tomcat 4.0.4 server.\n \nThe 3rd party software .. acting as a client .. is sending a requst with a\ncookie: header with the following value ..\n \n    JSESSIONID=F40180928E56604E197E25DEA7C4EF6F; domain=null; path=/ecs\n \nTomcat 4.0.4 complains with an IllegalArgumentException exception  ..\n \nThe exception occurs in the Coyote adaptor.. \n \n    org.apache.coyote.tomcat4CoyoteAdapter\n \nin method parseCookies .. when 'copying' the cookies for the current request .. \ncalling 'new Cookie()' ..\n \nFrom rfc 2109 the cookie header does appear to be 'wrong' since domain and \npath .. in this case .. should be $Domain and $Path ..\n \nHowever .. there is code in the jakarta-servletapi .. \njavax.servlet.http.Cookie .. that I do have a question about ..\n \nThe code for the Cookie constructor disallows cookies with the names of the set-\ncookie attribute values .. this is what is causing the above exception ..\n \nSooo .. the question is: Where in rfc 2109 does it say that cookie names cannot \nbe the names of the set-cookie attribute values ??\n \nWhile I have reported back to the 3rd party that thier software \nhas 'problems' .. I dont understand why Tomcat is performing the tests \nspecified in the code ..\n \nIf anyone could comment on this .. it would be greatly appreciated ..\n \nLen"}, {"count": 1, "attachment_id": null, "bug_id": 12310, "is_private": false, "id": 50502, "time": "2004-01-13T23:53:46Z", "creator": "markt@apache.org", "creation_time": "2004-01-13T23:53:46Z", "tags": [], "text": "I had a look at RFC2109 and I couldn't see anywhere where that cookie names \ncannot be the names of the set-cookie attribute values.\n\nHowever, to the best of my knowledge the Tomcat team is not in a position to \nchange this code as it forms part of the servlet spec (someone please correct \nme if I am wrong here). The place to send issues such as this is: servletapi-\nfeedback@eng.sun.com"}]