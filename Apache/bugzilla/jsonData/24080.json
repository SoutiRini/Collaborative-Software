[{"count": 0, "tags": [], "bug_id": 24080, "attachment_id": null, "id": 46177, "time": "2003-10-23T20:06:19Z", "creator": "rene-link@gmx.de", "creation_time": "2003-10-23T20:06:19Z", "is_private": false, "text": "Hi,\ni had a problem. I tried to compile the source code version 1.0 (stable) as\ndescribed in the How-Tos. I got a compilation error.\n\nsrc:\n     [echo] Compiling Source\n    [javac] Compiling 324 source files to ... java\\classes\n    [javac] ... src\\org\\apache\\xindice\\core\\query\\XPathQueryResolver.java:502\n: array required, but org.apache.xpath.compiler.OpMapVector found\n    [javac]          int endFunc = pos + cmp.getOpMap()[pos+1] - 1;\n\nBUILD FAILED\n\nThat's right. Take a look at http://xml.apache.org/xalan-\nj/apidocs/org/apache/xpath/compiler/OpMapVector.html.\nI fixed it by replacing \nint endFunc = pos + cmp.getOpMap()[pos+1] - 1;\nwith\nint endFunc = pos + cmp.getOpMap().elementAt(pos+1) - 1;\n\nWhen I then tried to compile it. Everything works fine.\nBut there is another problem with the command line tool.\nIt doesen't matter if i use xindice or xindiceadmin.\nWhen I try to execute a query like /catalog/cd[price=10.90] - \nno results are returned. When I read the shell-script xindiceadmin.bat,\ni found the error.\n\nset CL=\n:LOOP\nif \"%1\"==\"\" goto DONE\nset CL=%CL% %1\nshift\ngoto LOOP\n:DONE\n\nThe shell-script stores the command line arguments in a environment variable.\nBut you can't store a '=' in a environment variable. That is why the query\nis not correctly submitted to the java-vm, which executes the \norg.apache.xindice.tools.XMLAdminTool class.\nI fixed that by writing a short perl-script instead of a windows shell-script.\nNow everything works fine.\n\nI hope this message will help you to improve the xindice-db.\nSorry, if my english is not very good. I will study further.\n\nGreetings from Germany\nRene Link"}, {"count": 1, "tags": [], "bug_id": 24080, "is_private": false, "id": 48858, "attachment_id": null, "creator": "kevinoneill@apache.org", "creation_time": "2003-12-10T20:33:10Z", "time": "2003-12-10T20:33:10Z", "text": "This is due to changes in xalan from 2.4 to 2.6. I don't believe that 1.0 will\nbe updated to resolve the issue but it should be sorted for 1.1."}, {"count": 2, "tags": [], "bug_id": 24080, "attachment_id": null, "text": "I think this is fixed in CVS already. Need to verify. Is there any particular\nreason why we should not update Xalan?", "id": 48859, "time": "2003-12-10T20:36:48Z", "creator": "vgritsenko@apache.org", "creation_time": "2003-12-10T20:36:48Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 24080, "attachment_id": null, "id": 49004, "time": "2003-12-12T20:32:01Z", "creator": "vgritsenko@apache.org", "creation_time": "2003-12-12T20:32:01Z", "is_private": false, "text": "Xindice 1.1 CVS compiles with any Xalan & Xerces just allright."}]