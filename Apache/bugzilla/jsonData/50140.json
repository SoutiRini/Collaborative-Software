[{"count": 0, "tags": [], "bug_id": 50140, "attachment_id": null, "id": 140913, "time": "2010-10-21T12:54:47Z", "creator": "mf9@3ds.com", "creation_time": "2010-10-21T12:54:47Z", "is_private": false, "text": "Incorrect silent installation on Windows 2008 Enterprise:\n\nCommand: apachetomcat-6.0.26.exe /S /D=c:\\tomcat\n\nTomcat files are copied to \"c:\\Program Files\" instead of \"c:\\tomcat\"\nThe installation works fine on Windows XP and Windows 2003 Server systems."}, {"count": 1, "tags": [], "creator": "markt@apache.org", "is_private": false, "text": "That feature is provided directly by the NSIS installer.\n\nI checked the NSIS bug tracker but couldn't find anything that looked like this issue.\n\nYou might want to test with 6.0.29 since that uses a slightly later version of the installer.", "id": 140914, "time": "2010-10-21T14:01:47Z", "bug_id": 50140, "creation_time": "2010-10-21T14:01:47Z", "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 50140, "is_private": false, "id": 140918, "time": "2010-10-22T03:20:39Z", "creator": "mf9@3ds.com", "creation_time": "2010-10-22T03:20:39Z", "tags": [], "text": "Version 6.0.29 has the same problem. We are using a 64bit Windows 2008 Enterprise system. If you are sure that the problem is NSIS related, we can close this bug report. I will open a new bug report on NSIS side."}, {"count": 3, "tags": [], "creator": "knst.kolinko@gmail.com", "is_private": false, "text": "Reopening.\n\nAs Anders noted in a comment to bug 3092765 at Sourceforge [1], it is an issue with .onInit function in our tomcat.nsi.\n\n[1] http://sourceforge.net/tracker/?func=detail&aid=3092765&group_id=22049&atid=373085\n\n\nThe problem is that when Tomcat is installed on 64-bit platforms, .onInit resets the value of $INSTDIR, thus effectively ignoring the value passed with /D commandline option. There is a patch suggested in [1].", "id": 140981, "time": "2010-10-24T20:58:37Z", "bug_id": 50140, "creation_time": "2010-10-24T20:58:37Z", "attachment_id": null}, {"count": 4, "tags": [], "text": "Thanks to the NSIS folks for pointing out our (probably \"my\" but I haven't check the history) error.\n\nI'm currently looking into a patch for this that will also allow the 32-bit service wrapper to be installed on 64-bit windows if a 32-bit JVM is selected.\n\nI should hopefully have finished testing this tomorrow.", "attachment_id": null, "id": 141011, "creator": "markt@apache.org", "time": "2010-10-25T16:31:27Z", "bug_id": 50140, "creation_time": "2010-10-25T16:31:27Z", "is_private": false}, {"count": 5, "tags": [], "text": "I have fixed this in trunk and proposed the fix for 6.0.x", "attachment_id": null, "id": 141054, "creator": "markt@apache.org", "time": "2010-10-26T08:31:25Z", "bug_id": 50140, "creation_time": "2010-10-26T08:31:25Z", "is_private": false}, {"count": 6, "attachment_id": null, "bug_id": 50140, "is_private": false, "id": 143181, "time": "2011-01-07T13:01:02Z", "creator": "markt@apache.org", "creation_time": "2011-01-07T13:01:02Z", "tags": [], "text": "This (and a whole bunch of other improvements) has been applied to 6.0.x and will be included in 6.0.30 onwards."}, {"count": 7, "tags": [], "text": "This (and a whole bunch of other improvements) has been applied to 5.5.x in r1066549 and will be in 5.5.33.", "attachment_id": null, "id": 143921, "creator": "knst.kolinko@gmail.com", "time": "2011-02-02T12:58:00Z", "bug_id": 50140, "creation_time": "2011-02-02T12:58:00Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 50140, "attachment_id": null, "id": 148572, "time": "2011-08-11T18:30:44Z", "creator": "chris.lecompte@gmail.com", "creation_time": "2011-08-11T18:30:44Z", "is_private": false, "text": "This issue does not seem to address the case when the JRE is provided by a JDK installation.  In that case the HKLM \"SOFTWARE\\JavaSoft\\Java Runtime Environment\" key is not present, only a Java Development Environment key.  I found this whilst trying to perform a silent install using a 64-bit JDK (1.5.0_14) on windows 2008 server.  \n\nA manual install is still possible but it does not auto detect the location there as well. The other work around is to install a JRE but that doesn't quite mesh well with the app I'm installing."}]