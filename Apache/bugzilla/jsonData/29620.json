[{"count": 0, "tags": [], "creator": "seth@ehawaii.gov", "text": "I have Tomcat configured to display custom error pages on 404 and 500.  I have a\nfilter that should wrap those error pages.  The filter is not being called when\nerror page is displayed, though.  I have tried using the REQUEST, FORWARD, and\nINCLUDE dispatcher for the filter with no success.  I believe error pages should\nbe wrapped by filters (if a filter mapping exists for them), but I could be run.\n\nMy configurations are below.\n\nThanks,\nSeth\n\n\t<filter-mapping>\n\t\t<filter-name>sitemesh</filter-name>\n\t\t<url-pattern>/WEB-INF/jsp/error404.jsp</url-pattern>\n                <!-- trying them all -->\n\t\t<dispatcher>FORWARD</dispatcher>\n\t\t<dispatcher>REQUEST</dispatcher>\n                <dispatcher>INCLUDE</dispatcher>\n\t</filter-mapping>\n\n\t<error-page>\n\t\t<error-code>404</error-code>\n\t\t<location>/WEB-INF/jsp/error404.jsp</location>\n\t</error-page>", "id": 59342, "time": "2004-06-16T18:23:12Z", "bug_id": 29620, "creation_time": "2004-06-16T18:23:12Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 29620, "is_private": false, "id": 59343, "creation_time": "2004-06-16T18:28:11Z", "time": "2004-06-16T18:28:11Z", "creator": "funkman@joedog.org", "text": "See the servlet spec. SRV.6.2.5 Filters and the RequestDispatcher\n\n<dispatcher>ERROR</dispatcher>", "attachment_id": null}, {"count": 2, "tags": [], "creator": "seth@ehawaii.gov", "attachment_id": null, "id": 59344, "time": "2004-06-16T18:31:10Z", "bug_id": 29620, "creation_time": "2004-06-16T18:31:10Z", "is_private": false, "text": "Ah... that would explain it.  Sorry for the trouble.  Looks like I need to get\nbetter references.  Thanks very much for the tip."}, {"count": 3, "tags": [], "bug_id": 29620, "text": "After adding in <dispatcher>ERROR</dispatcher>, I still don't see the error page\nbeing wrapped by the filter.  I have just reviewed the spec, too.  Here are my\nconfigs:\n\n\t<filter-mapping>\n\t\t<filter-name>sitemesh</filter-name>\n\t\t<url-pattern>/*</url-pattern>\n\t\t<dispatcher>FORWARD</dispatcher> <!-- specifically handles login pages -->\n\t\t<dispatcher>REQUEST</dispatcher>\n\t\t<dispatcher>ERROR</dispatcher>\n\t</filter-mapping>\n\n\t<error-page>\n\t\t<error-code>404</error-code>\n\t\t<location>/WEB-INF/jsp/error404.jsp</location>\n\t</error-page>\n\nHas this functionality been confirmed in Tomcat 5.0.25 ?\n", "id": 59374, "time": "2004-06-17T00:02:47Z", "creator": "seth@ehawaii.gov", "creation_time": "2004-06-17T00:02:47Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 29620, "attachment_id": null, "text": "Yes, it works fine (The Servlet Tcks has a couple of tests like that). Please\nfollow up on tomcat-users. \n\nThanks\n\n-- Jeanfrancois", "id": 59488, "time": "2004-06-18T17:35:37Z", "creator": "jfarcand@apache.org", "creation_time": "2004-06-18T17:35:37Z", "is_private": false}]