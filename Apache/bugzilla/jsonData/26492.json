[{"count": 0, "tags": [], "creator": "grelli@msn.com", "attachment_id": null, "text": "I'm maintaining a JSP/servlet web using SSL, running on Apache 2.0.48 and Tomcat\n5.0.18.\nCookies are used for session identifier communication (not url rewriting).\n\nSome users using the web are experiencing very strange session id behaviour, the\nbehaviour is like this:\nWhen these users make their first request to the web, they already have an\nsession id that is invalid, i.e. request.getRequestedSessionId() is not null and\nthe id is not a session id that has been recently created by Tomcat (I've a\nsession listener in Tomcat that logs session creation and destruction).\nAs expected, Tomcat creates a new session id for the users (because the session\nid is invalid) but the next requests from the users do not use that session id\nbut instead continue to use the session id that they used in the first request.\n So Tomcat continues to create new session ids for each request, example:\n\nrequest.getRequestedSessionId()\trequest.getSession(false).getId()\nrequest.getRequestURI()\n01A960C22480CE9F445CDE48DE333F31\t451BA13F85AE631148022C93DFDD2811\t/first_request.jsp\n01A960C22480CE9F445CDE48DE333F31\tCBF44C3C065502D6397BC44A7AB659F9\n/second_request.jsp\n01A960C22480CE9F445CDE48DE333F31\t6453C03AF5DD2B9EA1F27D225589E8B2\t/third_request.jsp\n01A960C22480CE9F445CDE48DE333F31\t93F173966F28A972A2E70C32CC8E848B\n/fourth_request.jsp\n\nIf the users close their browser and try again - they (most often) continue to\nhave the same problem but request.getRequestedSessionId() is not the same as it\nwas at last time...\n\nWhat could be the reason for this behaviour?", "id": 51291, "time": "2004-01-28T14:31:33Z", "bug_id": 26492, "creation_time": "2004-01-28T14:31:33Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 26492, "text": "This works reasonably well. However, if the client submits more that one session\ncookie, only the first one is takes into account right now. I think there's a\nbug or enhancement about that for 4.1.x.", "id": 51300, "time": "2004-01-28T17:37:24Z", "creator": "remm@apache.org", "creation_time": "2004-01-28T17:37:24Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 26492, "text": "I've fixed this.", "count": 2, "id": 51301, "time": "2004-01-28T18:18:20Z", "creator": "remm@apache.org", "creation_time": "2004-01-28T18:18:20Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 26492, "attachment_id": null, "is_private": false, "id": 51396, "time": "2004-01-29T14:18:06Z", "creator": "grelli@msn.com", "creation_time": "2004-01-29T14:18:06Z", "text": "Thanks Remy for your reply's to this \"bug\" if is a bug in TomCat. \n\nAs I understand from your reply's there are some fix to this problem. Is the fix\nin the nightly build ore ca I get it by other ways?"}]