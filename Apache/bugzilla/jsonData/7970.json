[{"count": 0, "tags": [], "creator": "dr_mac@mail.utexas.edu", "attachment_id": null, "id": 13258, "time": "2002-04-11T16:03:07Z", "bug_id": 7970, "creation_time": "2002-04-11T16:03:07Z", "is_private": false, "text": "loading cache /root/httpd-2.0.35/./config.cache\nchecking host system type... configure: error: can not guess host type; you \nmust specify one\nconfigure failed for xml/expat\nconfigure failed for srclib/apr-util\n\nEven when I specify: \n--build=powerpc-apple-bsd --host=powerpc-apple-bsd\nto the main configure script, it does not pass these along to the apr-util \nconfigure script.\n\nI created a workaround by editing line 1947 of the main configure script. \nAll I did was add the two switches to that line so that when the main \nconfigure script call the apr-util configure, the values got passed.\n\nOnce this was done, the main configure worked fine. Apace 2.0.35 \ncompiled fine on my 10.1.2 and runs great.\n\nMatthew"}, {"count": 1, "tags": [], "creator": "jerenkrantz@apache.org", "text": "It would be very helpful if you supplied a unified patch that you applied to fix\nthis problem.\n\nFWIW, configure works fine here on OS 10.1.3, so I'm not sure why you are even\nattemping to override this information.  Is there a problem with the\nconfig.guess information?\n\njerenk@localhost% ./config.guess\npowerpc-apple-darwin5.3", "id": 13306, "time": "2002-04-12T02:01:01Z", "bug_id": 7970, "creation_time": "2002-04-12T02:01:01Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 7970, "attachment_id": null, "id": 13329, "time": "2002-04-12T08:07:42Z", "creator": "dr_mac@mail.utexas.edu", "creation_time": "2002-04-12T08:07:42Z", "is_private": false, "text": "OK. I was running 10.1.2. I just updated to 10.1.3 (Build 5Q45) and \ndownloaded a fresh httpd-2.0.35.tar.gz from Apache.org.\n\nMy config was:\n./configure --enable-usertrack --enable-unique-id --enable-ssl --with-ssl=/\nusr/local/include/ --enable-cgi --enable-cgid --enable-vhost-alias --\nenable-speling -enable-rewrite  --enable-so\n\nConfigure runs and reaches this error:\n\nConfiguring Apache Portable Runtime Utility library...\nconfiguring package in srclib/apr-util now\nloading cache /var/root/httpd-2.0.35/./config.cache\nchecking for APR... yes\n...\nupdating cache /var/root/httpd-2.0.35/./config.cache\nconfiguring package in xml/expat now\nloading cache /var/root/httpd-2.0.35/./config.cache\nchecking host system type... configure: error: can not guess host type; you \nmust specify one\nconfigure failed for xml/expat\nconfigure failed for srclib/apr-util\n\nHowever, the main configure script guessed it perfectly:\ncreating cache ./config.cache\nchecking for chosen layout... Apache\nchecking host system type... powerpc-apple-darwin5.3\nchecking target system type... powerpc-apple-darwin5.3\nchecking build system type... powerpc-apple-darwin5.3\n\nThe main config script is not passing these variables to the apr-util \nconfigure script. The only way I have found around it is by editing the main \nconfig script as stated in my previous bug report.\n\nI've never made a patch file before. Do you have instructions?\n\nmatthew"}, {"count": 3, "tags": [], "bug_id": 7970, "text": "This will build a patch:\n\n$ diff -u oldfile newfile >patch\n", "id": 13367, "time": "2002-04-12T14:01:33Z", "creator": "trawick@apache.org", "creation_time": "2002-04-12T14:01:33Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "dr_mac@mail.utexas.edu", "text": "Created attachment 1563\nPatch for configure", "id": 13512, "time": "2002-04-14T18:41:35Z", "bug_id": 7970, "creation_time": "2002-04-14T18:41:35Z", "is_private": false, "attachment_id": 1563}, {"count": 5, "tags": [], "creator": "dr_mac@mail.utexas.edu", "attachment_id": null, "id": 13513, "time": "2002-04-14T18:44:04Z", "bug_id": 7970, "creation_time": "2002-04-14T18:44:04Z", "is_private": false, "text": "I attached my patch for the main configure. Run the main configure and let \nit guess the host type. Mine guessed \"powerpc-apple-darwin5.3\" which I \nbelieve is correct. Now, when the main configure script passes the build \nand host variables to the apr-util configure script, it will complain that it \ndoesn't know how to build for that host.\n\nNow, go back to main configure and force\nboth build and host = powerpc-apple-bsd\n\nThen it will all work fine.\n\nMatthw"}, {"count": 6, "tags": [], "bug_id": 7970, "attachment_id": null, "text": "Can you please attach your config.log file?\n\nThanks!", "id": 13546, "time": "2002-04-15T01:14:05Z", "creator": "jerenkrantz@apache.org", "creation_time": "2002-04-15T01:14:05Z", "is_private": false}, {"count": 7, "tags": [], "creator": "dr_mac@mail.utexas.edu", "attachment_id": 1570, "id": 13550, "time": "2002-04-15T02:37:47Z", "bug_id": 7970, "creation_time": "2002-04-15T02:37:47Z", "is_private": false, "text": "Created attachment 1570\nConfigure output on fresh tarball"}, {"count": 8, "tags": [], "text": "Created attachment 1571\nConfigure output of different commands on fresh tarball", "attachment_id": 1571, "bug_id": 7970, "id": 13552, "time": "2002-04-15T02:43:22Z", "creator": "dr_mac@mail.utexas.edu", "creation_time": "2002-04-15T02:43:22Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 7970, "attachment_id": null, "text": "Alright. I just did some different stuff.\n1. I downloaded a fresh copy of httpd-2.0.35.tar.gz\n2. Untared it.\n3. Did ./configure with the commands listed at the top of\n    attachment \"04/15/02 02:37\"\n4. The output was saved to the attachment on #3.\n\n5. Removed all files and re-untared to get fresh files.\n6. Did ./configure with the commands listed at the top of\n    attachment \"04/15/02 02:43\"\n7. The output was saved to the attachment on #6.\n\nI guess this means that the patch isn't needed anymore. But the fact \nremains that apr-util's configure has an issue with build and host \nvariables.\n\nMatthew", "id": 13553, "time": "2002-04-15T02:46:20Z", "creator": "dr_mac@mail.utexas.edu", "creation_time": "2002-04-15T02:46:20Z", "is_private": false}, {"count": 10, "tags": [], "creator": "jerenkrantz@apache.org", "text": "Thanks.\n\nCan you please try copying the config.guess in srclib/apr/build/config.guess to\nsrclib/apr-util/xml/expat/conftools/config.guess?\n\nThese two files aren't the same, so it's possible that the expat config.guess\nis out-of-date and doesn't recognize Darwin.  But, it works for me on my 10.3\nbox.  Odd.  It's worth a shot.", "id": 13554, "time": "2002-04-15T02:46:36Z", "bug_id": 7970, "creation_time": "2002-04-15T02:46:36Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "creator": "dr_mac@mail.utexas.edu", "attachment_id": 1572, "id": 13556, "time": "2002-04-15T02:55:12Z", "bug_id": 7970, "creation_time": "2002-04-15T02:55:12Z", "is_private": false, "text": "Created attachment 1572\nNew configure output for cache copying"}, {"count": 12, "tags": [], "creator": "dr_mac@mail.utexas.edu", "attachment_id": null, "id": 13557, "time": "2002-04-15T02:56:46Z", "bug_id": 7970, "creation_time": "2002-04-15T02:56:46Z", "is_private": false, "text": "OK. I copied the config.guess to where you told me. The output is listed \nas file \"04/15/02 02:55\" and I used the same arguments as listed at the \ntop of the 2:37 attachemnent.\n\nMatthew"}, {"count": 13, "tags": [], "creator": "jerenkrantz@apache.org", "attachment_id": null, "id": 13580, "time": "2002-04-15T06:33:59Z", "bug_id": 7970, "creation_time": "2002-04-15T06:33:59Z", "is_private": false, "text": "This *is* a duplicate of Bug 7818.  Sander Temme has a proposed solution listed\nthere.  Can you try it and append comments to that bug?\n\nThanks!\n\n*** This bug has been marked as a duplicate of 7818 ***"}]