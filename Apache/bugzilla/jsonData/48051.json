[{"count": 0, "tags": [], "creator": "sabel@altmuehlnet.de", "attachment_id": null, "id": 131363, "time": "2009-10-25T13:41:32Z", "bug_id": 48051, "creation_time": "2009-10-25T13:41:32Z", "is_private": false, "text": "Today I wanted to upgrade to apr-util 1.3.9.\n\nI tried to compile it with --with-mysql=/usr, --with-mysql=/usr/include and --with-mysql=/usr/include/mysql but die configure script didn't find the mysql.h and so didn't compile the mysql driver.\n\nI also tested version 1.3.7, same result.\n\nThe last working version, as far as I can say (I don't have other versions), was 1.3.4. Everything works with it."}, {"count": 1, "tags": [], "bug_id": 48051, "attachment_id": null, "text": "Where is you MySQL installed?", "id": 131365, "time": "2009-10-25T16:13:17Z", "creator": "bojan@rexursive.com", "creation_time": "2009-10-25T16:13:17Z", "is_private": false}, {"count": 2, "tags": [], "text": "(In reply to comment #1)\n> Where is you MySQL installed?\n\nThat should have been:\n\nWhere is your MySQL installed?", "attachment_id": null, "id": 131366, "creator": "bojan@rexursive.com", "time": "2009-10-25T16:13:54Z", "bug_id": 48051, "creation_time": "2009-10-25T16:13:54Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 48051, "attachment_id": null, "text": "default gentoo mysql installation\n\nheaders are in /usr/include/mysql\nlibs are in /usr/lib/mysql", "id": 131368, "time": "2009-10-25T17:21:25Z", "creator": "sabel@altmuehlnet.de", "creation_time": "2009-10-25T17:21:25Z", "is_private": false}, {"count": 4, "tags": [], "creator": "bojan@rexursive.com", "attachment_id": null, "id": 131370, "time": "2009-10-25T17:26:39Z", "bug_id": 48051, "creation_time": "2009-10-25T17:26:39Z", "is_private": false, "text": "OK, you can try with the following:\n\n--with-mysql\n\nIt should look in the right places for you. BTW, do you have mysql_config script?\n\nAlso, could you attach config.log?"}, {"count": 5, "tags": [], "creator": "sabel@altmuehlnet.de", "attachment_id": null, "id": 131371, "time": "2009-10-25T17:55:40Z", "bug_id": 48051, "creation_time": "2009-10-25T17:55:40Z", "is_private": false, "text": "I found these lines in the config.log\n\nconfigure:40737: checking for mysql_config\nconfigure:40755: found /usr/bin/mysql_config\nconfigure:40767: result: /usr/bin/mysql_config\nconfigure:40830: checking for mysql.h\nconfigure:40851: gcc -c -g -O2 -pthread  -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -I/usr/include/mysql conftest.c >&5\nIn file included from conftest.c:18:\n/usr/include/mysql/my_global.h:361:24: error: asm/atomic.h: No such file or directory\n\nThe problem was that mysql was built against old linux headers and the solution was to rebuild mysql. Now everything works although I don't understand why 1.3.4 worked anyway.\n\nSo it was my fault, sorry for that! Thx!"}]