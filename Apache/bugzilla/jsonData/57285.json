[{"count": 0, "tags": [], "bug_id": 57285, "text": "This issue is specific to Tomcat service installations o Microsoft Windows performed with an exe installer.\n\nTested on Windows 7.\n\nSteps to reproduce:\n1. Run apache-tomcat-8.0.15.exe to install Tomcat.\nClick-through the installer to complete installation process.\nOn the last page you may uncheck [ ] Run Apache Tomcat, [ ] Show Readme items. It does not help for the issue.\n\n2. Go to Windows \"Start\" menu.\nStart > All Programs > Apache Tomcat 8.0 Tomcat8 > Uninstall Tomcat 8.0\n\nExpected, observed with Tomcat 8.0.14:\n=======\nAn UAC prompt is shown by Windows.\nYou confirm raise of privileges and uninstallation wizard dialog appears.\nYou start uninstallation and it completes successfully.\n\nActual, with Tomcat 8.0.15:\n=======\nNo UAC prompt. Wizard dialog appears.\nYou start uninstallation. Uninstallation completes, but it complains that it failed to remove some files from Tomcat directory.\n\nActually it fails to remove any files from Tomcat directory on C:\\Program Files.\nThe only thing that it does is removal of items from Tomcat group in Start menu.\n\nWorkaround\n===========\nTomcat can be uninstalled via Windows Control Panel. (Failed uninstallation does not remove Tomcat from the list of installed programs).\n\nUninstallation from Windows Control Panel completes successfully.", "id": 179369, "time": "2014-11-29T19:09:31Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2014-11-29T19:09:31Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": null, "id": 179371, "time": "2014-11-29T19:41:37Z", "bug_id": 57285, "creation_time": "2014-11-29T19:41:37Z", "is_private": false, "text": "It looks that RequestExecutionLevel directive from r1630897 affects not only installer, but also the uninstaller that is written by it.\n\nReference:\nhttp://nsis.sourceforge.net/Reference/RequestExecutionLevel"}, {"attachment_id": null, "tags": [], "bug_id": 57285, "is_private": false, "count": 2, "id": 179372, "time": "2014-11-29T19:46:08Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2014-11-29T19:46:08Z", "text": "Also\nhttp://nsis.sourceforge.net/Docs/Chapter4.html#arequestexecutionlevel"}, {"count": 3, "tags": [], "creator": "markt@apache.org", "text": "I ma leaning towards reverting r1630897 and adding a note to BUILDING.txt that UAC needs to be disabled for an unattended build.", "id": 179521, "time": "2014-12-04T21:26:22Z", "bug_id": 57285, "creation_time": "2014-12-04T21:26:22Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "(In reply to Mark Thomas from comment #3)\n> I ma leaning towards reverting r1630897 and adding a note to BUILDING.txt\n> that UAC needs to be disabled for an unattended build.\n\nor code signing has to be turned off.\n\nMaybe launching Apache Ant from within command shell that already has raised privileges will help, like Tomcat installation recipe from bug 56143.", "attachment_id": null, "id": 179522, "creator": "knst.kolinko@gmail.com", "time": "2014-12-04T22:07:54Z", "bug_id": 57285, "creation_time": "2014-12-04T22:07:54Z", "is_private": false}, {"count": 5, "attachment_id": null, "creator": "markt@apache.org", "text": "Fixed in trunk and 8.0.x for 8.0.16 onwards.", "id": 179666, "time": "2014-12-09T20:46:58Z", "bug_id": 57285, "creation_time": "2014-12-09T20:46:58Z", "tags": [], "is_private": false}]