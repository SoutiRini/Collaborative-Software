[{"count": 0, "tags": [], "text": "When I deploy the war in \nhttp://svn.cargo.codehaus.org/cargo/trunk/samples/java/src/testinput/tomcat/ \nit seems that Tomcat 5.5.x where x>=3 does not take into account the \ncontext.xml file. The war is deployed with a  \"tomcat-context\" context \n(instead of \"tomcatcontext\").", "attachment_id": null, "id": 64785, "creator": "vmassol@apache.org", "time": "2004-10-07T21:14:33Z", "bug_id": 31590, "creation_time": "2004-10-07T21:14:33Z", "is_private": false}, {"count": 1, "text": "I think there's something bad with your WAR, but your website doesn't work so I\ncan't tell for sure.", "creator": "remm@apache.org", "attachment_id": null, "id": 64786, "time": "2004-10-07T21:27:48Z", "bug_id": 31590, "creation_time": "2004-10-07T21:27:48Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 31590, "text": "I forgot to mention: In addition to attaching the WAR to the bug report, please\nalso specify how you deploy the said WAR (it's quite hard to guess).", "id": 64788, "time": "2004-10-07T21:33:37Z", "creator": "remm@apache.org", "creation_time": "2004-10-07T21:33:37Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "text": "Hi Remy,\n\nok. I'm attaching it. This war deploys fine with Tomcat 5.0.25, 5.0.28 and \n5.0.29. To deploy it, I'm simply dropping it in [tomcathome]/webapps/ and then \nI start Tomcat.", "attachment_id": null, "id": 64804, "creator": "vmassol@apache.org", "time": "2004-10-08T06:57:49Z", "bug_id": 31590, "creation_time": "2004-10-08T06:57:49Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 31590, "attachment_id": 12993, "is_private": false, "id": 64805, "time": "2004-10-08T06:58:32Z", "creator": "vmassol@apache.org", "creation_time": "2004-10-08T06:58:32Z", "text": "Created attachment 12993\nwar containing a META-INF/context.xml"}, {"count": 5, "tags": [], "bug_id": 31590, "text": "Note that the file is named: tomcat-context.war. It seems bugzilla has renamed \nmy attachment.", "id": 64807, "time": "2004-10-08T06:59:46Z", "creator": "vmassol@apache.org", "creation_time": "2004-10-08T06:59:46Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 31590, "text": "Ok, it's simple. To avoid having duplicate information about the same thing, the\npath value is aquired from the .war name (= the deployment name). So other\nplaces where a \"path\" attribute would have been specified are now ignored (I was\nconsidering printing out a message of some sort). Similarly, the docBase\nattribute is only used if referring to a docBase outside of the host's appBase\n(which is \"webapps\" here), so you also don't need it.\n\nThe exception where the \"path\" attribute is used is when you define the Context\nin server.xml. In this case, however, the docBase should not be in the host\nappBase unless it matches the path name (otherwise -> double deployment).\n\nSo, sorry, it's INVALID since I did it on purpose.\n\nNote: In 5.0.x, I think the path manipulation you did might have led to your\nwebapp being deployed twice (you might want to check with the manager or\nsomething like it).", "id": 64808, "time": "2004-10-08T07:12:01Z", "creator": "remm@apache.org", "creation_time": "2004-10-08T07:12:01Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "text": "ok. Thanks for the information.\n\nSo to summarize you're saying that the context.xml file cannot be used to tell \nthe war to be deployed under a given context?\n\nI thought that was one of the main feature of the context.xml... At least \nthat's what I was using it for till now...", "attachment_id": null, "id": 64812, "creator": "vmassol@apache.org", "time": "2004-10-08T07:30:23Z", "bug_id": 31590, "creation_time": "2004-10-08T07:30:23Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 31590, "text": "Indeed, since the place where it will be deployed is found using the war name as\nwell. Conflicting information causes trouble, unfortunately, and needs\nadditional complexity to handle (and the deployer is complex enough already :( ).\n\nSimilarly, if you deploy a .xml file directly, its name would be used to get the\nwebapp path.", "count": 8, "id": 64813, "time": "2004-10-08T07:37:10Z", "creator": "remm@apache.org", "creation_time": "2004-10-08T07:37:10Z", "is_private": false}]