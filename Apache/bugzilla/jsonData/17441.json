[{"count": 0, "tags": [], "text": "when i use the filter chain \"StripJavaComments\" following strings also will be \nstripped:\n\nhttp://xxx to http:\nhttps://xxx to https:\nftp://xxx to ftp:", "is_private": false, "bug_id": 17441, "id": 32023, "time": "2003-02-26T17:00:09Z", "creator": "otto.wehofer@a1.net", "creation_time": "2003-02-26T17:00:09Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 17441, "attachment_id": null, "id": 32025, "time": "2003-02-26T17:36:08Z", "creator": "jan@materne.de", "creation_time": "2003-02-26T17:36:08Z", "is_private": false, "text": "I can\u00b4t see any error. But I have tested it with a valid Java source file.\nI\u00b4ve created a testcase by adapting the LineContains testcase."}, {"count": 2, "tags": [], "bug_id": 17441, "is_private": false, "text": "Created attachment 5045\nJUnit Testcase; adapted from LineContainsTest", "id": 32026, "time": "2003-02-26T17:36:11Z", "creator": "jan@materne.de", "creation_time": "2003-02-26T17:36:11Z", "attachment_id": 5045}, {"count": 3, "tags": [], "text": "Created attachment 5046\nBuildfile for test; new target 'testStripJavaComments'; 'testLineContains': includes attribute for <fileset> added", "attachment_id": 5046, "bug_id": 17441, "id": 32027, "time": "2003-02-26T17:36:15Z", "creator": "jan@materne.de", "creation_time": "2003-02-26T17:36:15Z", "is_private": false}, {"count": 4, "tags": [], "creator": "jan@materne.de", "attachment_id": 5047, "is_private": false, "id": 32028, "time": "2003-02-26T17:36:18Z", "bug_id": 17441, "creation_time": "2003-02-26T17:36:18Z", "text": "Created attachment 5047\nTestdata"}, {"count": 5, "tags": [], "text": "Created attachment 5048\nextected result", "is_private": false, "bug_id": 17441, "id": 32029, "time": "2003-02-26T17:36:20Z", "creator": "jan@materne.de", "creation_time": "2003-02-26T17:36:20Z", "attachment_id": 5048}, {"count": 6, "tags": [], "creator": "otto.wehofer@a1.net", "attachment_id": null, "text": "I hava done the StripJavaComments on a JavaScript file with a line like this:\n\n...\narrMenueOben[3] = new objMenueElement(78,\"Sicherheit\",\"javascript:popup(\\\"h\nttps://www.xxxxxx.com/index.html?con=/fb/sicherheit/sicherheit.html\n\\\",\\\"newWindow\\\");\",\"Ausf\\222hrliche Informationen zum Thema Sicherheit\");\n...\n\nand the output file looks like this:\n\n...\narrMenueOben[3] = new objMenueElement(78,\"Sicherheit\",\"javascript:popup(\\\"h\nttps:\n...\n\nabstract of the buildfile:\n...\n    <loadfile srcfile=\"${file.name}\" property=\"stripped.file.content\">\n      <filterchain>\n        <stripjavacomments/>\n      </filterchain>\n    </loadfile>\n\n    <echo file=\"${file.name}\" append=\"false\" message=\"${stripped.file.content}\"/\n...\n\n\n\n", "id": 32030, "time": "2003-02-26T17:50:04Z", "bug_id": 17441, "creation_time": "2003-02-26T17:50:04Z", "is_private": false}, {"count": 7, "tags": [], "text": "I have found the problem: the \\\".\nIf I modify my testcase it will be shown:\n\nAdd to Testdata\n    private String url = \"  \\\"  http://ant.apache.org/  \\\"  \"; // The \\\" is \nmore difficult!\n\nAdd to expected result\n    private String url = \"  \\\"  http://ant.apache.org/  \\\"  \"; \n\n(both directly unter the other ant.apache-line.)\n\n\nBTW I saw, that I hadn\u00b4t changed the method name in the TestSuite while \nadapting. Should be named \"testStipJavaComments\" not \"testLineContains\". :-)\n\nI modified the StripJavaComments class by inserting a isMasked-flag. Now it \nworks for me. I attach the modified class.", "attachment_id": null, "bug_id": 17441, "id": 32058, "time": "2003-02-27T07:14:28Z", "creator": "jan@materne.de", "creation_time": "2003-02-27T07:14:28Z", "is_private": false}, {"count": 8, "tags": [], "creator": "jan@materne.de", "attachment_id": null, "is_private": false, "id": 32059, "time": "2003-02-27T07:14:28Z", "bug_id": 17441, "creation_time": "2003-02-27T07:14:28Z", "text": "I have found the problem: the \\\".\nIf I modify my testcase it will be shown:\n\nAdd to Testdata\n    private String url = \"  \\\"  http://ant.apache.org/  \\\"  \"; // The \\\" is \nmore difficult!\n\nAdd to expected result\n    private String url = \"  \\\"  http://ant.apache.org/  \\\"  \"; \n\n(both directly unter the other ant.apache-line.)\n\n\nBTW I saw, that I hadn\u00b4t changed the method name in the TestSuite while \nadapting. Should be named \"testStipJavaComments\" not \"testLineContains\". :-)\n\nI modified the StripJavaComments class by inserting a isMasked-flag. Now it \nworks for me. I attach the modified class."}, {"count": 9, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "Jan, your patch wouldn't catch \\\\\"\n\nfix committed, should be in nightly build 2003-03-28.\n", "id": 33950, "time": "2003-03-27T17:05:55Z", "bug_id": 17441, "creation_time": "2003-03-27T17:05:55Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 17441, "attachment_id": null, "id": 34020, "time": "2003-03-28T07:32:51Z", "creator": "jan@materne.de", "creation_time": "2003-03-28T07:32:51Z", "is_private": false, "text": "Nobody is perfect ... and there more eyes on it :-)\n\nThanx"}, {"count": 11, "tags": [], "creator": "Spindizzy_Wizard@yahoo.com", "attachment_id": null, "text": "I know that 'stripjavacomments' is intended for Java, but I tried it out on JavaScript.  There is still an issue with double-quoted // in that environment, and with /* in a single quoted string.  I'm not surprised that a single quoted string is a problem, since Java doesn't use single quotes for strings.  That's easily fixed by using double quotes.  But I am surprised by the continuing problem with double slash inside a double quoted string.\n\nYes, I did download 1.7.1 just yesterday and tried it out, the issue is still there.\n\nBoth examples are drawn from \"prototype.js\"; a version of which came with Scriptaculous.  The particular line I'm talking about is around 3974, and reads:\n\ndocument.write(\"<script id=__onDOMContentLoaded defer src=//:><\\/script>\");\n\nIf the problems arising from using this filter on JavaScript can be easily solved, that would be a great benefit to all.\n\nI haven't reopened the bug, because I'm not sure if anyone else feels that not handling JavaScript is really a problem for a filter designed for Java. <grin>", "id": 124101, "time": "2009-01-15T11:43:20Z", "bug_id": 17441, "creation_time": "2009-01-15T11:43:20Z", "is_private": false}]