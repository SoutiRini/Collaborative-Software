[{"count": 0, "tags": [], "bug_id": 6907, "attachment_id": null, "text": "When X clients request the same jsp page, jasper tries to compile the\npage X times ( assuming the page was not compiled before) this leads\nto very high memory usage and potentially to out of memory errors (even\nif memory would normally be sufficient for the expected load). Using jikes\nas a compiler reduces the overall memory problem, but still swamps the \nprocessor as X copies are run at the same time.\n\nIs this the expected behaviour?", "id": 11499, "time": "2002-03-06T10:13:55Z", "creator": "dylans@xs4all.nl", "creation_time": "2002-03-06T10:13:55Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 6907, "text": "I tried to work around this problem by synchronizing access to the java \ncompiler, however this only reduces the problem. since the java sourcecode\nis generated again and again until it compiles. So 1 thread is busy compiling\nwhile another is trying to overwrite the source code. Scenario:\n\n2 clients access the same page at approximately the same time\nThread 1: Generate Java code ( class not found )\nThread 2: Generate Java code ( class not found )\nThread 1: write classfile to disk\nThread 2: write classfile to dist ( fails because file is in use )\nThread 1: Generate Java code ( source is newer because of Thread 2 )\nThread 1: Compile Java code ( again! )", "id": 11506, "time": "2002-03-06T13:52:42Z", "creator": "dylans@xs4all.nl", "creation_time": "2002-03-06T13:52:42Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "vicentesalvador@netscape.net", "attachment_id": null, "id": 14506, "time": "2002-04-23T19:36:42Z", "bug_id": 6907, "creation_time": "2002-04-23T19:36:42Z", "is_private": false, "text": "So maybe this is not a \"synchronize\" scenario. Maybe a semaphore status should\nbe included on Jasper to take out this behavour."}, {"count": 3, "tags": [], "bug_id": 6907, "text": "Fixed in jasper2.  ", "id": 14585, "time": "2002-04-24T02:23:31Z", "creator": "kin-man.chung@sun.com", "creation_time": "2002-04-24T02:23:31Z", "is_private": false, "attachment_id": null}]