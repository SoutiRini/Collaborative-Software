[{"count": 0, "tags": [], "bug_id": 41025, "text": "When Htdig is used to index a collection of documents in a directory tree, pages\nthat contain the directory file list seem to flood the subsequent search\nresults.  A simple robot directive inserted into pages that are created for\ndirectories will cause the indexing robot to not index the directory, but read\nthe files instead.  This greatly improves the quality of the returning information.\n\nHere is the directive:\n     <meta name=\"robots\" content=\"noindex,follow\">\n\nIt should be placed as follows in the head section:\n\n!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 3.2 Final//EN\">\n<html>\n <head>\n  <title>Index of /~rds</title>\n  <meta name=\"robots\" content=\"noindex,follow\">\n </head>\n <body>\n<h1>Index of /~rds</h1>\n<table><tr><th><img src=\"/icons/blank.gif\" alt=\"[ICO]\"></th><th><a\nhref=\"?C=N;O=D\">Name</a></th><th><a href=\"?C=M;O=A\">Last modified</a></th><th><a\nhref=\"?C=S;O=A\">Size</a></th><th><a\nhref=\"?C=D;O=A\">Description</a></th></tr><tr><th colspan=\"5\"><hr></th></tr>\n\n<tr><td valign=\"top\"><img src=\"/icons/back.gif\" alt=\"[DIR]\"></td><td><a\nhref=\"/\">Parent Directory</a></td><td>&nbsp;</td><td align=\"right\">  - </td></tr>\n<tr><td valign=\"top\"><img src=\"/icons/folder.gif\" alt=\"[DIR]\"></td><td><a\nhref=\"Music/\">Music/</a></td><td align=\"right\">03-Sep-2006 10:52  </td><td\nalign=\"right\">  - </td></tr>\n....\n\nI've used this tweak for a year or more without difficulty.  It would certainly\nbe nice to see this incorporated so I don't need to patch future releases of the\nserver.\nThanks!\n- Richard", "id": 96116, "time": "2006-11-23T05:12:59Z", "creator": "richschaal@netscape.net", "creation_time": "2006-11-23T05:12:59Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "richschaal@netscape.net", "attachment_id": 19165, "is_private": false, "id": 96117, "time": "2006-11-23T05:17:09Z", "bug_id": 41025, "creation_time": "2006-11-23T05:17:09Z", "text": "Created attachment 19165\nAdds robot directive to mod_autoindex.c"}, {"count": 2, "tags": [], "bug_id": 41025, "text": "Created attachment 19304\nConfigurable HEAD contents\n\nThis should be configurable.  Patch attached.  Not sure about including it as\nstandard.", "id": 97295, "time": "2006-12-25T08:59:10Z", "creator": "nick@webthing.com", "creation_time": "2006-12-25T08:59:10Z", "is_private": false, "attachment_id": 19304}, {"count": 3, "tags": [], "bug_id": 41025, "text": "I concur, but I came here not because my local HTDig engine indexed it, but \ngoogle.com's search engine indexed the directory and returns it in search \nresults.  The \"configurable HEAD contents\" patch is the correct approach, but I \ndo feel there should be an additional variable (called \"IndexRobots\") that \ncontains the search engine directives - as this may be important enough a \nfunction to have its own name.  If one were to go ONLY with the HEAD patch, \nthen one would have to redefine the robots control string any time other \ninformation were inserted into the directory's head section; an easy step to \nforget.  \"IndexStyleSheet\" is already mainstream....", "id": 98891, "time": "2007-02-01T19:35:49Z", "creator": "software+apache-httpd@kd6lvw.ampr.org", "creation_time": "2007-02-01T19:35:49Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "software+apache-httpd@kd6lvw.ampr.org", "attachment_id": null, "is_private": false, "id": 103796, "time": "2007-05-29T19:53:06Z", "bug_id": 41025, "creation_time": "2007-05-29T19:53:06Z", "text": "More - I found this trick, but it's not a complete solution.\nURL:  http://www.htdig.org/FAQ.html#q4.23\n\n\"The other technique you can use, if you want the directory index to be made by \nthe web server, is to get the server to insert the robots meta tag into the \nindex page it generates. In Apache, this is done using the HeaderName and \nIndexOptions directives in the directory's .htaccess file. For example:\n\n   HeaderName .htrobots \n   IndexOptions FancyIndexing SuppressHTMLPreamble\n\nand in the .htrobots file:\n\n<HTML><head>\n<META NAME=\"robots\" CONTENT=\"noindex, follow\">\n<title>Index of /this/dir</title>\n</head>\n\n-- \nWith this method, the title is NOT dynamic but fixed.  If a fixed file with \nsome sort of server-side processing that need not reside in the directory being \ndisplayed can be used, then there might be a valid and complete fix, but such \nseems like a nasty hack to me.  The patch seems to be a better solution."}]