[{"count": 0, "attachment_id": null, "bug_id": 37855, "text": "Using the Apache 2.2.0 rev2 Windows source ZIP file, building Apache with\nmod_deflate bombs out with the following error:\n\nNMAKE  -f mod_deflate.mak CFG=\"mod_deflate - Win32 Release\" RECURSE=0\n.\\Release\\mod_deflate.so\nMicrosoft (R) Program Maintenance Utility   Version 6.00.9782.0\nCopyright (C) Microsoft Corp 1988-1998. All rights reserved.\n tempfile.bat \n rc.exe /l 0x409 /fo\".\\Release\\mod_deflate.res\" /d \"NDEBUG\" .\\mod_deflate.rc\n cl.exe @C:\\Temp\\nma04736.\nmod_deflate.c\n link.exe @C:\\Temp\\nmb04736.\nLINK : fatal error LNK1181: cannot open input file \"zlib.lib\"\nNMAKE : fatal error U1077: 'link.exe' : return code '0x49d'\nStop.\nNMAKE : fatal error U1077: '\"C:\\Program Files\\Microsoft Visual\nStudio\\VC98\\BIN\\NMAKE.exe\"' : return code '0x2'\nStop.\nError executing NMAKE.\n\nhttpd.exe - 3 error(s), 15 warning(s)", "id": 83488, "time": "2005-12-09T19:07:22Z", "creator": "apache@bakerweb.biz", "creation_time": "2005-12-09T19:07:22Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 37855, "attachment_id": null, "text": "No, this isn't a failure.  Build zlib in place first.\n\nWe now use the win32/makefile.msc results, so you build that, we\nlink in zlib.lib to bind to zlib1.dll.\n\n", "id": 83499, "time": "2005-12-10T05:24:03Z", "creator": "wrowe@apache.org", "creation_time": "2005-12-10T05:24:03Z", "is_private": false}, {"count": 2, "tags": [], "text": "That would be convenient if zlib built that way, but it doesn't. \n\nLIB : fatal error LNK1181: cannot open input file \"zlib_L.lib\"\nNMAKE : fatal error U1077: 'lib' : return code '0x49d'\nStop.\n\nThis is marked as a bug that appears as a FAQ. Which FAQ contains this subject\nso I can research further?", "is_private": false, "id": 83501, "creator": "apache@bakerweb.biz", "time": "2005-12-10T05:35:04Z", "bug_id": 37855, "creation_time": "2005-12-10T05:35:04Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "id": 83504, "time": "2005-12-10T06:50:10Z", "bug_id": 37855, "creation_time": "2005-12-10T06:50:10Z", "is_private": false, "text": "I'm guessing you are trying a debug build?\n\nIt's important to be sure you link against a debug build of libz,\nand visa versa if you are building a release.\n\nI'm not on a win32 box at the moment, but will review this when\nI have one at hand.\n\nFAQ indicates this -will- become a frequently asked question, and\nthat this is the bug thread that tracks the answers.  Thank you\nfor submitting a clearly defined and documented issue :)"}, {"count": 4, "tags": [], "creator": "apache@bakerweb.biz", "text": "OK. The problem was that when you build zlib 1.2.3 as instructed, the zlib.lib\nis not located where Apache wants it to be. You have to move the zlib.lib file\ninto the zlib root. Then it works fine.\n\nNew MSVC++ build instructions should read:\n\n1. Download zlib and open the zlib.dsw project file in MSVC++.\n2. Switch the \"Active Configuration\" to \"WIN32 LIB Release\".\n3. Build zlib.lib.\n4. Locate the newly-built zlib.lib and place it in the root directory of the \n   zlib distribution (i.e., same directory as zlib.h).\n5. Copy the zlib directory to the Apache srclib directory.\n6. Build Apache.", "id": 83506, "time": "2005-12-10T06:58:01Z", "bug_id": 37855, "creation_time": "2005-12-10T06:58:01Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "text": "Unfortunately, this is at odds with the methods in their makefile.msc\nfile which deposits the .lib (and .dll file) in the root.  Following\n-their- README to build the project results in the library residing\nin the right place.  Obviously this is an issue, one which I'll bring\nto the attention of zlib's developers.", "attachment_id": null, "id": 83507, "creator": "wrowe@apache.org", "time": "2005-12-10T07:22:06Z", "bug_id": 37855, "creation_time": "2005-12-10T07:22:06Z", "is_private": false}]