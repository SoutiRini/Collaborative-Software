[{"count": 0, "tags": [], "creator": "Dan.Osterrath@gmx.de", "attachment_id": null, "text": "After upgrading to Sun Java 1.4.2_03 SE and Tomcat 5.0.18 on Windows 2000 \nCatalina wont startup anymore.\nJava SDK is installed in C:\\Programme\\Java\nJava RE is installed in C:\\Programme\\java\\j2re1.4.2_03.\nTomcat 5 is installed in C:\\Programme\\Apache Software Foundation\\Tomcat 5.0\nJAVA_HOME is set to C:\\Programme\\java\nSome relevant registry values:\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\\CurrentVersion = 1.4\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\\1.4.2_03\\JavaHome = \nC:\\Programme\\java\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\\1.4.2_03\\MicroVersion \n= 2\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\CurrentVersion = \n1.4\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.4\\JavaHome = \nC:\\Programme\\Java\\j2re1.4.2_03\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.4\\MicroVersion \n= 2\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.4\\RuntimeLib = \nC:\\Programme\\Java\\j2re1.4.2_03\\bin\\client\\jvm.dll\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.4.2_03\\JavaHome \n= C:\\Programme\\Java\\j2re1.4.2_03\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.4.2_03\n\\MicroVersion = 2\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.4.2_03\n\\RuntimeLib = C:\\Programme\\Java\\j2re1.4.2_03\\bin\\client\\jvm.dll\n\nIn the Java VM tag in the configuration dialog there are the following setting:\nAuto = off\nJava VM = java (C:\\Programme\\java\\bin is in %PATH%)\nJava Options = -Dcatalina.home=\"C:\\Programme\\Apache Software Foundation\\Tomcat \n5.0\" -Djava.endorsed.dirs=\"C:\\Programme\\Apache Software Foundation\\Tomcat 5.0\n\\common\\endorsed\" -Xrs\nStart class = org.apache.catalina.startup.Bootstrap;main;start\nStop class = org.apache.catalina.startup.Bootstrap;main;stop\n\nWhen launching Catalina it gives the following output:\nC:\\Programme\\Apache Software Foundation\\Tomcat 5.0\\bin>catalina.bat run\nUsing CATALINA_BASE:   ..\nUsing CATALINA_HOME:   ..\nUsing CATALINA_TMPDIR: ..\\temp\nUsing JAVA_HOME:       \"C:\\Programme\\java\"\nException in thread \"main\" java.lang.NoClassDefFoundError: \nC:\\Programme\\java\\bin\\java", "id": 51931, "time": "2004-02-08T18:30:43Z", "bug_id": 26776, "creation_time": "2004-02-08T18:30:43Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 26776, "attachment_id": null, "text": "Please post on tomcat-user. I'm using this JDK, and it works fine.\nIf the fancy .exe (which is commons-daemon, not Tomcat) wrapper doesn't work,\nuse the startup scripts like with Tomcat 4.1.", "id": 51932, "time": "2004-02-08T18:53:46Z", "creator": "remm@apache.org", "creation_time": "2004-02-08T18:53:46Z", "is_private": false}, {"count": 2, "text": "This bug has some strange reasons. \nMy JAVA_HOME was set to \"C:\\Programme\\java\" and CLASSPATH was set to \n\"C:\\Programme\\java\\lib\\tools.jar;<some other stuff>\". After removing the \nquotation marks from the variable values everything is working fine now. \n \nNote that the original values (with quotation marks) have been working for \nages. The last working setup was Java SE 1.4.2_02 and Tomcat 5.0.16. \n \nNow I don't know whether this is an issue of the catalina startup skript or of \nthe java interpreter. ", "creator": "Dan.Osterrath@gmx.de", "attachment_id": null, "id": 51984, "time": "2004-02-09T12:55:58Z", "bug_id": 26776, "creation_time": "2004-02-09T12:55:58Z", "tags": [], "is_private": false}]