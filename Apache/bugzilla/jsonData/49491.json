[{"count": 0, "tags": [], "creator": "magrawal.08@gmail.com", "text": "Hi,\n\n\nIn our test server when I try to access URI \"https://DTGTEST.ORG/ukdtt2/IC008/PATH/file\" then the request is denied with error code 400. The error.log says:\n\n\"[error] Hostname dTgTeSt.OrG provided via SNI and hostname dtgtest.org provided via HTTP are different\"\n\nThe error here is that the function ssl_hook_ReadReq in file ssl_engine_kernal.c at line number 205 {if (strcmp(host, servername))} uses case sensitive URI comparison. But the RFC 4366 specifies that all the URI comparison shall be case-insensitive. So I suggest to change this line to \n     if (strcasecmp(host, servername))\n\n\nThanks you very much for your help and wonderful work at Apache.\n\nBest Regards,\n\nMayank", "id": 137818, "time": "2010-06-22T10:13:12Z", "bug_id": 49491, "creation_time": "2010-06-22T10:13:12Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 49491, "text": "What browser are you using? I am curious why it sents the hostname in the SNI extension in a different case than in the HTTP host header.", "id": 137821, "attachment_id": null, "creator": "rpluem@apache.org", "creation_time": "2010-06-22T11:28:08Z", "time": "2010-06-22T11:28:08Z", "is_private": false}, {"count": 2, "tags": [], "creator": "magrawal.08@gmail.com", "attachment_id": null, "is_private": false, "id": 137823, "time": "2010-06-22T12:08:52Z", "bug_id": 49491, "creation_time": "2010-06-22T12:08:52Z", "text": "Hi Ruediger,\n\nThis is a Set Top Box device that uses latest version of cURL and OpenSSL libraries. Strangely it seems that cURL is sending the following HTTP request after the TLS connection setup and the host name looks correct in it:\n\nGET /ukdtt2/IC008/PATH/file HTTP/1.1\nHost: DTGTEST.ORG\nUser-Agent: UK-MHEG/2 S&TITK/001 MHGS&T/260\nCache-Control: no-transform\n\n\nRegards,\n\nMayank"}, {"count": 3, "tags": [], "bug_id": 49491, "attachment_id": null, "is_private": false, "id": 145036, "time": "2011-03-16T12:33:11Z", "creator": "jorton@redhat.com", "creation_time": "2011-03-16T12:33:11Z", "text": "I can't see any harm from doing that, even if it is pretty odd behaviour on the client's part. Hostnames are generally supposed to be compared case-insensitively.\n\nCommitted in r1082189 - thanks."}, {"count": 4, "tags": [], "text": "This bug is still in the current version 2.2.19.\nIn line 139 of the file ssl_engine_kernel.c the comparisson is still case sensitive.", "is_private": false, "id": 147932, "creator": "thorsten.blankenstein@hh-software.com", "time": "2011-07-15T09:49:26Z", "bug_id": 49491, "creation_time": "2011-07-15T09:49:26Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 49491, "attachment_id": null, "is_private": false, "id": 152368, "time": "2011-12-22T12:12:29Z", "creator": "james@cowlibob.co.uk", "creation_time": "2011-12-22T12:12:29Z", "text": "This change was not applied to the 2.2.x branch. Can we have this in the next 2.2.x release?"}, {"count": 6, "tags": [], "creator": "john.planb@gmail.com", "text": "Does FixedInTrunk mean that it has been fixed in the 2.2 branch or the 2.4 branch?", "id": 157798, "time": "2012-04-10T19:23:01Z", "bug_id": 49491, "creation_time": "2012-04-10T19:23:01Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "text": "It is currently only fixed in 2.4.x and trunk.", "is_private": false, "id": 157931, "creator": "rainer.jung@kippdata.de", "time": "2012-04-11T07:51:32Z", "bug_id": 49491, "creation_time": "2012-04-11T07:51:32Z", "attachment_id": null}, {"count": 8, "tags": [], "text": "AFAICT this issue is purely an Apache problem, not the client, since the Host is lowercased by vhost.c - fix_hostname() and then compared with strcmp() in ssl_engine_kernel.c ssl_hook_ReadReq()", "attachment_id": null, "id": 162948, "creator": "david@coova.com", "time": "2012-10-26T00:32:13Z", "bug_id": 49491, "creation_time": "2012-10-26T00:32:13Z", "is_private": false}, {"count": 9, "tags": [], "text": "Fixed in 2.2.x: http://svn.apache.org/r1515565", "attachment_id": null, "id": 169579, "creator": "jorton@redhat.com", "time": "2013-08-19T19:27:40Z", "bug_id": 49491, "creation_time": "2013-08-19T19:27:40Z", "is_private": false}]