[{"count": 0, "tags": [], "bug_id": 31598, "attachment_id": null, "id": 64815, "time": "2004-10-08T09:29:26Z", "creator": "claude.ostyn@barco.com", "creation_time": "2004-10-08T09:29:26Z", "is_private": false, "text": "Using ANT 1.6.2 (currently with JDK 1.5), I am no longer able to create logfiles\nof my builds, using the XmlLogger.\n\nThis is the command line that I use:\n\n>ant -logger org.apache.tools.ant.XmlLogger -logfile build_log.xml deploy\n\nThe output (to the console) of the ANT build is formatted by the XmlLogger and\nlooks something like this:\n\n---snip---\nBuildfile: build.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<?xml-stylesheet type=\"text/xsl\" href=\"log.xsl\"?>\n\n<build error=\"D:\\project\\shared\\afw\\build.xml:35: Compile failed; see the\ncompiler error output for details.\" time=\"11 seconds\">\n...\n</build>\n---snap---\n\nThe logfile itself (build_log.xml) is not created. \n\nAccording to the manual, if no '-logfile' option is specified, the logger will\noutput to the console, just as I see here. Could this mean that the -logfile is\nnot recognized?\n\nEven more, when I try to debug (by adding the -debug option), the ANT builder\nsees errors in the command line arguments:\n\n>ant -debug -logger org.apache.tools.ant.XmlLogger -logfile deploy\nApache Ant version 1.6.2 compiled on July 16 2004\nYou must specify a classname when using the -logger argument\n\n\nCould it be that the logfile arg is ignored?\n\nNote: this worked fine on ANT 1.5 (even with JDK 1.5)."}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 65728, "time": "2004-10-26T14:26:46Z", "bug_id": 31598, "creation_time": "2004-10-26T14:26:46Z", "is_private": false, "text": "both ypur invocations work fine for me (Linux).\n\nSince the only place the OS should make a difference is the starter script, what\nis behind you ant command?  The Cygwin script, Ant's own ant.bat or something else?\n"}, {"attachment_id": null, "tags": [], "creator": "claude.ostyn@barco.com", "text": "Well, it's Ant's own ant.bat script file.\nAfter further investigation, I think I found out what the problem is and how to\nbypass it:\nin the ant.bat there's a section that 'slurps' the command line arguments and \napparently this is where it goes wrong. When I replace all that slurping stuff\nwith the following command line, it works fine:\nset ANT_CMD_LINE_ARGS=%1 %2 %3 %4 %5 %6 %7 %8 %9\nThis is not so fancy, but it works for me. \n\nThis is the complete altered section:\n---snip---\nrem Slurp the command line arguments. This loop allows for an unlimited number\nrem of arguments (up to the command line limit, anyway).\nrem if \"\"%1\"\"==\"\"\"\" goto doneStart\nrem shift\nrem :setupArgs\nrem if \"\"%1\"\"==\"\"\"\" goto doneStart\nrem set ANT_CMD_LINE_ARGS=%ANT_CMD_LINE_ARGS% %1\nrem shift\nrem This label provides a place for the argument list loop to break out\nrem and for NT handling to skip to.\nset ANT_CMD_LINE_ARGS=%1 %2 %3 %4 %5 %6 %7 %8 %9\n---snap---\n\nSo, perhaps the problems are due to my system, but with that altered line, I can\nbypass the problem.\n\nThanks for your effort ...\n\n\n\n", "count": 2, "id": 65904, "time": "2004-10-28T14:33:46Z", "bug_id": 31598, "creation_time": "2004-10-28T14:33:46Z", "is_private": false}, {"count": 3, "tags": [], "creator": "peterreilly@apache.org", "attachment_id": null, "text": "Marking this as WORKSFORME as I do not\nsee this problem on windows xp for ant 1.6.5 or for\nant 1.7(nightly) perhaps something that was fixed after ant 1.6.2?\n\n", "id": 93702, "time": "2006-09-17T22:18:56Z", "bug_id": 31598, "creation_time": "2006-09-17T22:18:56Z", "is_private": false}]