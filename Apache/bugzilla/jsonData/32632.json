[{"text": "filters / filterchains / filterreaders should all allow for patterns and nested\npatternsets.\n\n<copy todir=\"${deploy.dir}\">\n  <fileset refid=\"webapp\"/>\n  <filterset>\n    <filter token=\"DATE\" value=\"${TODAY}\"/>\n    <patternset id=\"sources\">\n      <include name=\"**/*.xml\"/>\n    </patternset>\n  </filterset>\n</copy>\n\nThis should apply the filters of the filterset only to files of the fileset\nmatching the patterns of the patternset.", "tags": [], "bug_id": 32632, "attachment_id": null, "count": 0, "id": 68236, "time": "2004-12-10T14:06:08Z", "creator": "hengels@mercatis.de", "creation_time": "2004-12-10T14:06:08Z", "is_private": false}, {"count": 1, "text": "You can do this with multiple copy tasks.", "bug_id": 32632, "attachment_id": null, "id": 68248, "time": "2004-12-10T17:10:58Z", "creator": "mbenson@apache.org", "creation_time": "2004-12-10T17:10:58Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 32632, "attachment_id": null, "id": 68332, "time": "2004-12-13T08:29:09Z", "creator": "hengels@mercatis.de", "creation_time": "2004-12-13T08:29:09Z", "is_private": false, "text": "(In reply to comment #1)\n> You can do this with multiple copy tasks.\n\nI can use multiple co\u00fcpy tasks only, if I am the one, who defines the fileset.\nUnfortunately, I'm not. The fileset is an artifact, exported by another module.\n\nThe documentation of filtersets says \"copy operations will typically corrupt\nbinary files\". But there's no straight forward way to avoid that. Imagine you\nwrite a deploy target, that copies filesets to a deployment directory and\nthereby weaves the configuration into the deployables. From the perspective of\nthe target, filesets are logical units. The target should be unconcerned about\nthe fileset's internals.\n\n.. just wanted to state my thoughts. I won't reopen the issue again.\n"}, {"count": 3, "tags": [], "bug_id": 32632, "is_private": false, "text": "It still sounds as though you could work around this using multiple copy\noperations if you had the ability to use an existing fileset as a template for a\nmore-specific fileset, per your other bug report, correct?", "id": 68367, "time": "2004-12-13T16:52:22Z", "creator": "mbenson@apache.org", "creation_time": "2004-12-13T16:52:22Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 32632, "attachment_id": null, "is_private": false, "id": 68472, "time": "2004-12-14T10:43:56Z", "creator": "hengels@mercatis.de", "creation_time": "2004-12-14T10:43:56Z", "text": "Correct. Then I could write something like:\n\n<copy todir=\"${deploy.dir}\">\n  <fileset inherit=\"webapp\">\n    <include name=\"**/*.xml\"/>\n  </fileset>\n  <filterset>\n    <filter token=\"DATE\" value=\"${TODAY}\"/>\n  </filterset>\n</copy>\n<copy todir=\"${deploy.dir}\">\n  <fileset inherit=\"webapp\">\n    <exclude name=\"**/*.xml\"/>\n  </fileset>\n</copy>\n"}]