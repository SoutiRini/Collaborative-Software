[{"count": 0, "tags": [], "bug_id": 40315, "is_private": false, "text": "Call to class.getResourceAsStream(\"/\") on a class loaded from webapp classpath\n(e.g. from a jar in WEB-INF/lib) returns directory listing for directory from\nwhere catalina was started. Apart from a potential security issue, this causes\ninconsistency in the classloader behavior (different results depending on how\nthe container got started).\n\nIn our case, we use C3P0 connection pool which for some strange reason happens\nto read \"/\" resource during initialization, and executing startup.sh from a\nread-protected directory causes webapp fail to load with an NPE with the\nfollowing stack trace (only the relevant portion shown):\n\nCaused by: java.lang.NullPointerException\n        at java.util.Arrays$ArrayList.<init>(Arrays.java:2355)\n        at java.util.Arrays.asList(Arrays.java:2341)\n        at\nsun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:67)\n        at\nsun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:161)\n        at java.net.URL.openStream(URL.java:1007)\n        at java.lang.ClassLoader.getResourceAsStream(ClassLoader.java:1161)\n        at\norg.apache.catalina.loader.WebappClassLoader.getResourceAsStream(WebappClassLoader.java:1170)\n...", "id": 92519, "time": "2006-08-25T01:26:08Z", "creator": "lsverntl@gmail.com", "creation_time": "2006-08-25T01:26:08Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "yoavs@computer.org", "text": "Huh?  Of course getResourceAsStream(\"/\") will depend on where the JVM was\nstarted, as that method lookup doens't have the concept of portability or\nenvironment references.\n\nBut that's besides my point: we use C3P0 as well, been doing so for years, in\nboth packed and unpacked WARs, on various versions of Tomcat, and haven't run\ninto this ever.  My guess is something else is causing your error.  Maybe try\nusing 5.5.20?", "id": 97281, "time": "2006-12-25T05:41:50Z", "bug_id": 40315, "creation_time": "2006-12-25T05:41:50Z", "tags": [], "is_private": false}]