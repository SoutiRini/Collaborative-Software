[{"count": 0, "attachment_id": null, "bug_id": 61232, "is_private": false, "id": 199467, "time": "2017-06-28T18:06:48Z", "creator": "csutherl@apache.org", "creation_time": "2017-06-28T18:06:48Z", "tags": [], "text": "This is a trivial thing, but I thought it a good Beginner issue (unless someone thinks that this is expected behavior).\n\nWhen you disable rotatable in the default logging.properties tomcat creates 'catalina..log' rather than the correct 'catalina.log' file. There is no functional issue, but it seems kinda buggy to do that. You can easily workaround it by overriding the default suffix with \"1catalina.org.apache.juli.AsyncFileHandler.suffix=log\".\n\nTo reproduce:\n\n1) Install tomcat\n2) Disable log rotation\n\n$ echo \"1catalina.org.apache.juli.AsyncFileHandler.rotatable = false\" >> conf/logging.properties\n\n3) Start tomcat\n\nbin/startup.sh\n\n4) Check the logs directory for catalina log with double '.'s:\n\n$ ll logs/catalina.*log\n-rw-r-----. 1 coty coty 7796 Jun 28 13:58 logs/catalina..log"}, {"count": 1, "tags": [], "text": "Looking at the o.a.juli.FileHandler class, one option would be to check the rotatable variable inside of configure() and adjust the suffix accordingly so that it doesn't add a '.' if rotatable is off (the prefix ends in '.' so unless it's non-default, which you could also check, it should have the necessary separator).", "is_private": false, "id": 199468, "creator": "csutherl@apache.org", "time": "2017-06-28T18:09:08Z", "bug_id": 61232, "creation_time": "2017-06-28T18:09:08Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 61232, "attachment_id": null, "text": "PR https://github.com/apache/tomcat/pull/69", "id": 199730, "time": "2017-07-11T19:18:10Z", "creator": "violetagg@apache.org", "creation_time": "2017-07-11T19:18:10Z", "is_private": false}, {"count": 3, "tags": [], "text": "PR #69 provided by Katya Stoycheva is applied to:\n\n- trunk for 9.0.0.M24 onwards\n- 8.5.x for 8.5.18 onwards\n- 8.0.x for 8.0.46 onwards\n- 7.0.x for 7.0.80 onwards\n\nRegards,\nVioleta", "attachment_id": null, "id": 199738, "creator": "violetagg@apache.org", "time": "2017-07-12T10:30:32Z", "bug_id": 61232, "creation_time": "2017-07-12T10:30:32Z", "is_private": false}]