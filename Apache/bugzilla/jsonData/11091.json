[{"count": 0, "tags": [], "bug_id": 11091, "text": "I have created a simple test case to illustrate this bug.\nThe test case is a simple web application, with 2 jsp pages (Error.jsp and \ntest.jsp) and a web.xml deployment descriptor.\n\nError.jsp is a simple one line jsp page (\"This is the error page\")\ntest.jsp does nothing but throw a javax.servlet.jsp.JspException.\nweb.xml has a /Error.jsp set as the designated error page for both 500 response \ncodes and exceptions of type javax.servlet.jsp.JspException.\n\nUnder tomcat 4.0.3, the expected result occurs; when test.jsp is accessed the \ncontents of the custom error page are returned instead.\n\nHowever, under tomcat 4.1.7, with the exact same web-app a different result \noccurs.  When test.jsp is accessed, a generic apache error page is displayed \ninstead of the custom error page that appears in v4.0.3", "id": 20060, "time": "2002-07-23T15:45:12Z", "creator": "sreilly@point2.com", "creation_time": "2002-07-23T15:45:12Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 11091, "is_private": false, "text": "Created attachment 2450\na zip file containing a test case (web app)", "id": 20061, "time": "2002-07-23T15:46:08Z", "creator": "sreilly@point2.com", "creation_time": "2002-07-23T15:46:08Z", "attachment_id": 2450}, {"count": 2, "tags": [], "bug_id": 11091, "attachment_id": null, "text": "The test case also fails with tomcat 4.1.8 (jakarta-tomcat-4.1.8-LE-jdk14)", "id": 20281, "time": "2002-07-26T19:51:03Z", "creator": "sreilly@point2.com", "creation_time": "2002-07-26T19:51:03Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 11091, "is_private": false, "text": "The test case also fails with tomcat 4.1.9 (jakarta-tomcat-4.1.9-LE-jdk14)", "id": 21177, "time": "2002-08-16T19:42:53Z", "creator": "sreilly@point2.com", "creation_time": "2002-08-16T19:42:53Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "sreilly@point2.com", "attachment_id": null, "is_private": false, "id": 21559, "time": "2002-08-22T20:11:06Z", "bug_id": 11091, "creation_time": "2002-08-22T20:11:06Z", "text": "Is there any information on this?\nHas anyone had success (or not had success) replicating the error?"}, {"count": 5, "tags": [], "bug_id": 11091, "is_private": false, "text": "This bug seems to violate JSP 7.5.2 and only appears to happen with the \njavax.servlet.jsp.JspException I tried a java.lang.NumberFormatException and it \nworked fine", "id": 22203, "time": "2002-09-03T18:17:57Z", "creator": "jakarta@trollingers.com", "creation_time": "2002-09-03T18:17:57Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 11091, "is_private": false, "text": "I have an additional test case that may help to further isolate the problem.\nI have created a simple HttpServlet that does nothing but throw a \njavax.servlet.ServletException.\nIn this situation, the custom error page is not displayed.  However, unlike the \njsp test case, this test case does not work correctly in tomcat 4.0.3 either.", "id": 22273, "time": "2002-09-04T15:30:01Z", "creator": "sreilly@point2.com", "creation_time": "2002-09-04T15:30:01Z", "attachment_id": null}, {"count": 7, "tags": [], "creator": "sreilly@point2.com", "attachment_id": 2919, "is_private": false, "id": 22274, "time": "2002-09-04T15:31:23Z", "bug_id": 11091, "creation_time": "2002-09-04T15:31:23Z", "text": "Created attachment 2919\na zip file containing another test case"}, {"count": 8, "tags": [], "creator": "sreilly@point2.com", "attachment_id": null, "is_private": false, "id": 22276, "time": "2002-09-04T15:37:40Z", "bug_id": 11091, "creation_time": "2002-09-04T15:37:40Z", "text": "Well, I feel a little sheepish....\n\nPlease disregard the previous test case (attachment #2919). I forgot to adjust \nweb.xml to redirect javax.servlet.ServletException to a custom error page.  \nOnce I did that, everything worked properly."}, {"count": 9, "tags": [], "bug_id": 11091, "text": "I found this by accident....\nIf the following stanza is added to web.xml in the first test case:\n\n<error-page>\n    <exception-type>javax.servlet.ServletException</exception-type>\n    <location>/Error.jsp</location>\n</error-page>\n\nThen everything works as expected, and the error page is displayed.  Is \nJspException being wrapped in ServletException when it shouldn't?", "id": 22278, "time": "2002-09-04T16:11:20Z", "creator": "sreilly@point2.com", "creation_time": "2002-09-04T16:11:20Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 11091, "text": "This works for me in the latest versions of TC4 and TC5.", "id": 50497, "time": "2004-01-13T22:32:30Z", "creator": "markt@apache.org", "creation_time": "2004-01-13T22:32:30Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "bug_id": 11091, "attachment_id": null, "text": "The test case works as it should now.  It's possible that it has been working \nfor quite some time.", "id": 50499, "time": "2004-01-13T22:54:50Z", "creator": "sreilly@point2.com", "creation_time": "2004-01-13T22:54:50Z", "is_private": false}]