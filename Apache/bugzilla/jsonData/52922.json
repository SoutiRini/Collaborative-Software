[{"count": 0, "attachment_id": null, "bug_id": 52922, "is_private": false, "id": 154953, "time": "2012-03-15T19:47:27Z", "creator": "rich@steelezone.net", "creation_time": "2012-03-15T19:47:27Z", "tags": [], "text": "The <ant> task doesn't appear to honor the built-in ant.project.name property even if the inheritAll attribute is set.\n\nIf I have one build file, build.xml:\n\n<project name=\"abuild\">\n    <target name=\"run\">\n        <property name=\"aprop\" value=\"one\" />\n        <ant antfile=\"build-other.xml\" target=\"doit\" useNativeBasedir=\"true\" inheritAll=\"false\" />\n    </target>\n</project>\n\nand the build-other.xml is:\n\n<project>\n    <target name=\"doit\">\n        <echo message=\"${aprop}\" />\n        <echo message=\"${ant.project.name}\" />\n    </target>\n</project>\n\nI get output like this when I execute the build.xml run target:\n\nC:\\Development\\projects\\ant-playground\\ant-project-name-via-ant-task>ant run\nBuildfile: C:\\Development\\projects\\ant-playground\\ant-project-name-via-ant-task\\build.xml\n\nrun:\n\ndoit:\n     [echo] ${aprop}\n     [echo] abuild\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n\nI would not have expected the ant.project.name property to be set.\n\nUnless, that is, ant.project.name is treated as a \"user property\" (i.e., one passed on the command line) in which case I understand the behavior.  I'm not sure it's what I want, nor is this documented anywhere I could find."}]