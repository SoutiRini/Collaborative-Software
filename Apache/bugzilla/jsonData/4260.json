[{"count": 0, "tags": [], "bug_id": 4260, "attachment_id": null, "text": "In JspFactoryImpl.getPageContext() line 92 you could cast to PageContext instead \nof PageContextImpl.\nWe use an own PageConetxt implementation enclosing the original PageContext (for \nclean-up at release()). If usePool is true we get a ClassCastException.", "id": 6816, "time": "2001-10-18T00:43:08Z", "creator": "udo.stark@init.de", "creation_time": "2001-10-18T00:43:08Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 4260, "attachment_id": null, "id": 6891, "time": "2001-10-19T06:52:30Z", "creator": "marc.saegesser@apropos.com", "creation_time": "2001-10-19T06:52:30Z", "is_private": false, "text": "I don't see any problems with your proposed change, but I also don't see any \nproblem with the existing code.  Usepool is true by default and I don't see any \nclass cast exceptions.  Could you please provide some additional information \nabout exactly how your system is configured (os, Java version, etc.)?"}, {"text": "We have a class ReleasingPageContext derived from PageContext for a clean-up at \nthe end of a page. We do something like this:\npageContext = new ReleasingPageContext(pageContext);\n\nI know, that's not fine. But so we can free ressources in the release() Method \nat the end of the page.\n\nBut so our derived PageContext is put into the pool of the JspFactoryImpl.\nAnd if you get this object from the pool the cast is from PageContextImpl to \nReleasingPageContext. \n", "tags": [], "bug_id": 4260, "attachment_id": null, "count": 2, "id": 6892, "time": "2001-10-19T07:01:09Z", "creator": "udo.stark@init.de", "creation_time": "2001-10-19T07:01:09Z", "is_private": false}, {"count": 3, "text": "The fix has been applied and will appear in Tomcat 3.3 Final", "bug_id": 4260, "is_private": false, "id": 6924, "time": "2001-10-19T20:01:22Z", "creator": "Larry.Isaacs@sas.com", "creation_time": "2001-10-19T20:01:22Z", "tags": [], "attachment_id": null}, {"count": 4, "text": "Fixed on the tomcat_32 branch.  This will be in the Tomcat 3.2.4 release.", "bug_id": 4260, "is_private": false, "id": 7160, "time": "2001-10-25T10:34:35Z", "creator": "marc.saegesser@apropos.com", "creation_time": "2001-10-25T10:34:35Z", "tags": [], "attachment_id": null}]