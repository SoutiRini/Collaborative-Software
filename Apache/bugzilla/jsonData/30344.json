[{"count": 0, "tags": [], "bug_id": 30344, "attachment_id": null, "text": "During HttpSession reloading HttpSessionActivationListener[s] are notified\n*before* ServletContextListner[s]. This occurs during Tomcat startup and context\nreloading. IMHO this is a bug. Objects bound into HttpSession on session\nactivation (e.g. after distributed session migration or reloading) typically\nexpect that ServletContext is already created and properly configured - as in\ndistributed session migration scenario. Spec does not madate anything like that\nexplicitly, however my intuition is so (see SRV.3.7 in Servlet 2.4). I'll attach\ntest-case WAR after submission.", "id": 61176, "time": "2004-07-27T10:49:41Z", "creator": "scooter@e-point.pl", "creation_time": "2004-07-27T10:49:41Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 30344, "attachment_id": 12237, "id": 61177, "time": "2004-07-27T10:54:14Z", "creator": "scooter@e-point.pl", "creation_time": "2004-07-27T10:54:14Z", "is_private": false, "text": "Created attachment 12237\nTest case: source files and prepackaged WAR"}, {"count": 2, "tags": [], "creator": "ms@docware.de", "text": "Exactly my opinion. I also cannnot find anything in the spec 2.3 or 2.4 reg. \nthis. So it's a spec problem not a Tomcat problem.\n\nI would also expect that preloaded servlets have run before the \nsessionDidActivated() method is called.", "id": 63110, "time": "2004-09-06T07:56:40Z", "bug_id": 30344, "creation_time": "2004-09-06T07:56:40Z", "is_private": false, "attachment_id": null}, {"count": 3, "text": "We've agreed (after also discussing this on the mailing list) that it's a spec \nproblem, so I'm closing it for now.  If the spec changes we'll of course reopen \nthis item or create a new one, and make sure the Tomcat implementation obeys \nthe spec.", "bug_id": 30344, "attachment_id": null, "id": 63246, "time": "2004-09-08T20:17:03Z", "creator": "yoavs@computer.org", "creation_time": "2004-09-08T20:17:03Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 30344, "attachment_id": null, "id": 63268, "time": "2004-09-09T06:48:25Z", "creator": "michael.suedkamp@docware.de", "creation_time": "2004-09-09T06:48:25Z", "is_private": false, "text": "Yesterday I sent a problem report regarding this to 'jsr-154-comments@jcp.org'\n\nMichael"}]