[{"count": 0, "tags": [], "creator": "kess@kess-net.de", "text": "A .html file includes a .ssi file which contains some ssi statements too. \nWhen using SetOutputFilter INCLUDES everthing works fine. \nWhen using XBitHack on or full, nothing is done (the .html file has 0750).\nWhen using AddHandler server-parsed or AddOutputFilter INCLUDES for the\nextensions html and ssi, only the html file is parsed.", "id": 19080, "time": "2002-07-06T00:57:11Z", "bug_id": 10522, "creation_time": "2002-07-06T00:57:11Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "slive@apache.org", "attachment_id": null, "id": 19181, "time": "2002-07-09T17:18:21Z", "bug_id": 10522, "creation_time": "2002-07-09T17:18:21Z", "is_private": false, "text": "I haven't tested this on recent versions, but it surely has worked in the past.\nAre you ABSOLUTELY SURE that both an AddOutputFilter\nand an \"Options Includes\" applies to the .ssi files?"}, {"count": 2, "tags": [], "creator": "kess@kess-net.de", "text": "Yes, I'm absolutely sure. I have done a lot of tests to isolate the problem. \nNow I tested a second time with the same results. And additionally: when\nrequesting the .ssi file directly, it's not parsed.\nThe relating configuration part is:\n    AddType   text/html .ssi\n    Options Includes FollowSymlinks\n    AddOutputFilter INCLUDES .ssi\n\nAnd now I found a second problem: AddType text/html .ssi does not work. The\nserver continues responding text/plain. Maybe this forced the first problem?\n\nDo you need additional information, configuration settings, configure options or\nsomething else?", "id": 19199, "time": "2002-07-09T20:21:42Z", "bug_id": 10522, "creation_time": "2002-07-09T20:21:42Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 10522, "attachment_id": null, "text": "Well, after some more tests... The \"recursing\" problem only exists with the\nextension .ssi!\nThe extensions .si, .sssi, .ssii, .blah, .html are all parsed correctly. Direct\nrequest as well as included into the html file.", "id": 19224, "time": "2002-07-10T00:13:07Z", "creator": "kess@kess-net.de", "creation_time": "2002-07-10T00:13:07Z", "is_private": false}, {"count": 4, "tags": [], "creator": "slive@apache.org", "text": "Well, I can pretty much guarantee that apache doesn't do anything special with\n.ssi on its own, so it must be something in your configuration that is treating\n.ssi differently.  Please look through your configuration again for all references\nto .ssi.\n", "id": 19255, "time": "2002-07-10T14:59:04Z", "bug_id": 10522, "creation_time": "2002-07-10T14:59:04Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "kess@kess-net.de", "text": "Created attachment 2314\nTestcase for bug 10522", "id": 19287, "time": "2002-07-10T22:43:23Z", "bug_id": 10522, "creation_time": "2002-07-10T22:43:23Z", "is_private": false, "attachment_id": 2314}, {"count": 6, "tags": [], "bug_id": 10522, "attachment_id": null, "text": "That's what I thought, too ;-)\nBut I've been searching through my configuration many times, don't know how\noften, and found nothing. Then I asked Andr\u00e9 Malo (nd@perlig.de), to do a\nseperate test. He installed apache 2.0.39 on a completely different system\nrunning debian 2.2r6. He generated a test case only for this problem.  ... and\ngot the same results. \nI know, it sounds crazy, but its's true.\n\nHe thinks, the whole problem may be assigned to mod_mime or the underlying hash\nlibrary. \n\nAttachement 2314 contains the testcase.\n\n", "id": 19288, "time": "2002-07-10T22:45:22Z", "creator": "kess@kess-net.de", "creation_time": "2002-07-10T22:45:22Z", "is_private": false}, {"count": 7, "tags": [], "creator": "kess@kess-net.de", "attachment_id": null, "id": 19290, "time": "2002-07-10T22:51:59Z", "bug_id": 10522, "creation_time": "2002-07-10T22:51:59Z", "is_private": false, "text": "*umpf* Sorry, the attachment 2314 is a compressed tar file (.tgz)."}, {"count": 8, "tags": [], "bug_id": 10522, "attachment_id": null, "text": "The Bug is also reproduceable under Windows 2000.\nI took the 2.0.39 MSI package, installed it \"typical\" and modified only two \nlines from the default httpd.conf in the htdocs Directory container:\n\n<Directory \"C:/Programme/Apache Group/Apache2/htdocs\">\n# [...]\n!    Options Indexes FollowSymLinks Includes\n+    AddOutputFilter INCLUDES .html .ssi .blah\n\nNow copied the SSI/HTML-documents from the testcase above (attachement 2314) \ninto the htdocs dir.\nSame result. .ssi files are not parsed. Neither if requested directly nor if \nnested.\n\nNB: Bug 10489 is probably pointing out the same problem.", "id": 19304, "time": "2002-07-11T08:57:00Z", "creator": "nd@perlig.de", "creation_time": "2002-07-11T08:57:00Z", "is_private": false}, {"count": 9, "tags": [], "creator": "trawick@apache.org", "text": "configuring .ssi for INCLUDES still fails on today's HEAD... something really\ninsidious is happening...\nhash lookup for ssi fails in mod_mime:find_ct() but ssi was properly parsed\nout and mod_mime was able to store it in hash at config time...\n\nI don't know if something bad happened with the hashes at dir config merge\ntime...  oops, apr_hash_merge() is busted...\n\nlooks like .ssi was the last element in the hash (higher hash value than \n.html) and apr_hash_merge() had a bug where it would lose the last entry\nin one of the hashes being merged\n\nHere is the tiny fix I'm about to commit to srclib/apr/tables/apr_hash.c\nto fix the lack of parsing of .ssi:\n\nIndex: tables/apr_hash.c\n===================================================================\nRCS file: /home/cvs/apr/tables/apr_hash.c,v\nretrieving revision 1.30\ndiff -u -r1.30 apr_hash.c\n--- tables/apr_hash.c   19 Jul 2002 11:36:19 -0000      1.30\n+++ tables/apr_hash.c   23 Nov 2002 04:26:55 -0000\n@@ -442,7 +442,7 @@\n         }\n     }\n\n-    for (k = 0; k < overlay->max; k++) {\n+    for (k = 0; k <= overlay->max; k++) {\n         for (iter = overlay->array[k]; iter; iter = iter->next) {\n             i = iter->hash & res->max;\n             for (ent = res->array[i]; ent; ent = ent->next) {\n\nHopefully this fix will make it to 2.0.44.  If not, apply locally\n(yeah, that sounds stupid but the exact contents of 2.0.44 are\nyet to be determined).\n\nThanks for your report, and thanks for using Apache!", "id": 26851, "time": "2002-11-23T04:33:02Z", "bug_id": 10522, "creation_time": "2002-11-23T04:33:02Z", "is_private": false, "attachment_id": null}]