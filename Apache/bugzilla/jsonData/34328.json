[{"count": 0, "tags": [], "bug_id": 34328, "attachment_id": null, "text": "I am using ANT 1.5.4 version. I create a zip file using the follwing command in \nbuild.xml:\n<zip destfile=\"${src.dir}/dcid/compression_process.zip\">            \n    <zipfileset dir=\"${src.dir}/dcid\" prefix=\"compression_process\"/>\n</zip>\n\nWhen i run the build.xml in Windows 2000, it creates the zip file which I can \nopen using WINZIP tool and see the contents of this zip file. Now when I run \nthe same build.xml in SunOS 5.8 and JDK1.2.2, a zip file will be created but \nwhen I open it using WINZIP tool a blank screen with no contents in the zip \nfile is shown. If I try to unzip this file created in SunOS5.8, I can see the \ncontents.\n\nPlease advice. This issue has become a showstopper for my production launch.\n\nLet me know if you need any additional information.", "id": 73341, "time": "2005-04-06T16:11:46Z", "creator": "narasimhapai@gmail.com", "creation_time": "2005-04-06T16:11:46Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 34328, "attachment_id": null, "id": 73346, "time": "2005-04-06T17:03:49Z", "creator": "stevel@apache.org", "creation_time": "2005-04-06T17:03:49Z", "is_private": false, "text": "1. you need to be running Ant1.6.3beta. if the problem does not occur there,\nthen it isnt a bug any more.\n\n2. you are implicitly including the generated zip in the source file. Is this\nreally a sensible thing to do. Consider putting the destfile somewhere else. \n\n<zip destfile=\"${src.dir}/dcid/compression_process.zip\">            \n    <zipfileset dir=\"${src.dir}/dcid\" prefix=\"compression_process\"/>\n</zip> \n\nI dont know if that is related or not, but I dont think recursive zip files are\nhelpful. I do know this: winzip is sometimes petulant, and has its own logic\nabout directory names. If you have the JDK installed, you can always use jar to\nexpand zip files..."}, {"count": 2, "tags": [], "bug_id": 34328, "attachment_id": null, "text": "Thanks for the reply...I did try creating the zip file in different folder...It \ndidnot work...\nThere was a bug # 17648 which is the one similar to mine. I heard this was an \nissue in Ant 1.5.2 and was fixed in Ant 1.5.3...\nThe fix was done by adding the following line \nin /src/main/org/apache/tools/ant/taskdefs/Zip.java \n\n    fileMode = zfs.getFileMode();\n\nThis fix is present in Ant 1.5.4. I am wondering if this fix really solved Bug \n# 17648. Can you please provide me the details or any other fix for this bug?\n\n\n(In reply to comment #1)\n> 1. you need to be running Ant1.6.3beta. if the problem does not occur there,\n> then it isnt a bug any more.\n> 2. you are implicitly including the generated zip in the source file. Is this\n> really a sensible thing to do. Consider putting the destfile somewhere else. \n> <zip destfile=\"${src.dir}/dcid/compression_process.zip\">            \n>     <zipfileset dir=\"${src.dir}/dcid\" prefix=\"compression_process\"/>\n> </zip> \n> I dont know if that is related or not, but I dont think recursive zip files \nare\n> helpful. I do know this: winzip is sometimes petulant, and has its own logic\n> about directory names. If you have the JDK installed, you can always use jar \nto\n> expand zip files...\n\n", "id": 73353, "time": "2005-04-06T20:11:34Z", "creator": "narasimhapai@gmail.com", "creation_time": "2005-04-06T20:11:34Z", "is_private": false}, {"count": 3, "tags": [], "creator": "stevel@apache.org", "text": "Download Ant 1.6.3 and try that. Even if it is something different, a fix isnt\ngoing to arise except in the 1.6 and 1.7 branches, so you may as well *upgrade\nnow*. Ant 1.5.4 is, what, two years old? Lots of things have been fixed by then.\n\n", "id": 73381, "time": "2005-04-07T10:25:29Z", "bug_id": 34328, "creation_time": "2005-04-07T10:25:29Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 34328, "attachment_id": null, "text": "bug # 17648 has been confirmed as fixed many times, so your issue must have\na different reason.\n\nSteve is certainly correct, the bug - if there is one - will only be tackled if\nit is present in the latest version.  Otherwise there is nothing to fix.", "id": 77115, "time": "2005-07-08T16:42:49Z", "creator": "bodewig@apache.org", "creation_time": "2005-07-08T16:42:49Z", "is_private": false}, {"count": 5, "tags": [], "text": "Narasima, is this bug still live? Have you upgraded to Ant1.6.5 and does the bug\nstill live there?", "attachment_id": null, "bug_id": 34328, "id": 90868, "time": "2006-07-04T20:35:56Z", "creator": "stevel@apache.org", "creation_time": "2006-07-04T20:35:56Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 34328, "attachment_id": null, "text": "Waiting for a long time. Without more information we cannot do anything as we\ndont see that error. So its INVALID.", "id": 94850, "time": "2006-10-16T07:26:52Z", "creator": "jan@materne.de", "creation_time": "2006-10-16T07:26:52Z", "is_private": false}]