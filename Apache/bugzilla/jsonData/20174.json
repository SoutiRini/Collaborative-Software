[{"attachment_id": null, "tags": [], "bug_id": 20174, "text": "Hi,\n\nif I use the task 'taskdef' with the attribute 'classpath', the envelope of jars\nloaded by this way are not available (aka: getSigners returns null)\n\nBye Thomas", "count": 0, "id": 37658, "time": "2003-05-23T08:13:06Z", "creator": "breitkreuz@emagixx.de", "creation_time": "2003-05-23T08:13:06Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 20174, "text": "I think this is because the class loader returns the wrong CodeSource. \nSpecifically, when I run a <junit> task that has a nested <classpath> that \nincludes, amongst other things, a signed jar. When executing code from the \nsigned jar, then the code:\n    CodeSource source = SignedJarClass.class.getProtectionDomain().getCodeSource\n();\n    System.out.println(\"source = \" + source.toString());\n\nprints out:\n    [junit] source = (file:/U:/Program Files/apache-ant-1.6.1/lib/ant.jar <no \ncertificates>)\n\ni.e. the ant classloader reports that this class came from the ant.jar file and \nnot my jar file, which is bogus.\n\nI am guessing this is not unique to signed jars - I suspect that getCodeSource\n() is broken for every jar, signed or not, that ant loads.", "id": 63143, "time": "2004-09-07T01:09:55Z", "creator": "aglenning@tonicsystems.com", "creation_time": "2004-09-07T01:09:55Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "comment #1 is correct", "attachment_id": null, "id": 94501, "creation_time": "2006-10-04T14:37:46Z", "time": "2006-10-04T14:37:46Z", "creator": "peterreilly@apache.org", "bug_id": 20174, "is_private": false}, {"count": 3, "tags": [], "bug_id": 20174, "text": "*** Bug 36838 has been marked as a duplicate of this bug. ***", "id": 94503, "time": "2006-10-04T14:39:25Z", "creator": "peterreilly@apache.org", "creation_time": "2006-10-04T14:39:25Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 20174, "text": "\n\n*** This bug has been marked as a duplicate of bug 46759 ***", "count": 4, "id": 125081, "time": "2009-02-23T05:17:59Z", "creator": "bodewig@apache.org", "creation_time": "2009-02-23T05:17:59Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "bodewig@apache.org", "is_private": false, "count": 5, "id": 129043, "time": "2009-07-22T06:17:37Z", "bug_id": 20174, "creation_time": "2009-07-22T06:17:37Z", "text": "fixed in svn revision 796702"}]