[{"count": 0, "tags": [], "bug_id": 29661, "attachment_id": null, "text": "Virtual Hosts is managed by the Host: header in HTTP1.x queries. Recent wap \nterminals do not lower case the host name. Host name parsed by (I assume) the \nCoyote connector is used as is (with potential upper character). RFC2616 says \nthat the Host header should be treated case insensitive (see section 3.2.3).\n\nWell, it is not really obvious because it talks about clients, I assume that a \nserver should treat a Host: header case-insensitively. Because it can leads to \nbroken connections, or unwanted 400 errors, I tag it as critical.\n\nThank you for al your work,\n\nFran\u00e7ois.", "id": 59459, "time": "2004-06-18T08:13:51Z", "creator": "francois.jeanmougin@123multimedia.com", "creation_time": "2004-06-18T08:13:51Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 29661, "attachment_id": null, "id": 59471, "creation_time": "2004-06-18T10:57:35Z", "time": "2004-06-18T10:57:35Z", "creator": "remm@apache.org", "text": "Sorry, I am not convinced: please find something which discusses the Host\nheader, and try to provide a patch.", "is_private": false}, {"count": 2, "tags": [], "bug_id": 29661, "attachment_id": null, "id": 59478, "creation_time": "2004-06-18T12:58:58Z", "time": "2004-06-18T12:58:58Z", "creator": "francois.jeanmougin@123multimedia.com", "text": "Create a Host entry like this :\n\n<Host name=www.toto.com ...>\nAdd a context here\n</Host>\n\nTest it with a simple telnet or netcat :\nnc yourhost:80 < EOT\nGET /index.jsp HTTP/1.1\nHost:www.toto.com \n\n\n\nEOT\n(Be carefull to add a double <CR>)\nYou will got your page. Now, do :\nnc yourhost:80 < EOT\nGET /index.jsp HTTP/1.1\nHost:WWW.toto.com \n\n\n\nEOT\nYou will have a 400 (invalid request) error.\n\nI can try to llok at the code and provide a patch but I never tried to read \ntomcat sources. If you can point me in which part of the code this is done, I \ncan try to read it.\n\nAs far as I know, it is NOT a invalid \"bug\" :), even if you could consider it \nas a misfeature. In fact, most of the good'all navigators do it for the user, \nit is clearly a wap (bad) terminal problem.\n\nFran\u00e7ois.", "is_private": false}, {"count": 3, "tags": [], "creator": "william.barker@wilshire.com", "text": "Fixed in the CVS, and should appear in 5.0.28.", "id": 59550, "time": "2004-06-19T04:27:14Z", "bug_id": 29661, "creation_time": "2004-06-19T04:27:14Z", "is_private": false, "attachment_id": null}]