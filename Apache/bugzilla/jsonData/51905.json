[{"count": 0, "tags": [], "bug_id": 51905, "attachment_id": null, "text": "If unlocking the acceptor during AprEndpoint shutdown fails, it enters an infinite loop, printing endpoint.warn.unlockAcceptorFailed message\n(Acceptor thread [{0}] failed to unlock. Forcing hard socket shutdown.)\n\nIt was reported on users@ mailing lists,\nhttp://tomcat.markmail.org/thread/xo2jolyr44ijuu34\n\nIt might be caused by a firewall preventing Tomcat from connecting to its own HTTP port.\n\nI can reproduce it if I turn the unlockAccept() method in endpoint into an noop (e.g. by adding \"if(true){ return; }\"), both in 6.0 and in trunk. In 6.0 this bug was introduced in r1065945 and affects 6.0.32 and 6.0.33.", "id": 149891, "time": "2011-09-28T09:20:16Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2011-09-28T09:20:16Z", "is_private": false}, {"count": 1, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": null, "id": 149895, "time": "2011-09-28T10:06:17Z", "bug_id": 51905, "creation_time": "2011-09-28T10:06:17Z", "is_private": false, "text": "Fixed in trunk and 7.0, will be in 7.0.23. Proposed for 6.0."}, {"count": 2, "tags": [], "bug_id": 51905, "text": "Fixed in 6.0.x and will be included in 6.0.34 onwards (r1186001).", "id": 150768, "attachment_id": null, "creator": "markt@apache.org", "creation_time": "2011-10-19T17:09:17Z", "time": "2011-10-19T17:09:17Z", "is_private": false}]