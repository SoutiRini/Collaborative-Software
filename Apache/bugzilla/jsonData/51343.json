[{"count": 0, "tags": [], "creator": "ivolation@gmail.com", "is_private": false, "text": "Sam as in Bug 51342\n\nI checked the same config examples (docs/ssl-howto.xml, apr.xml) and saw the same issue.\n \n----\nWhen going through the SSL docs to use APR for native OpenSSL I found an\ninconsistency in the docs.\n\nin\nhttp://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html#Edit_the_Tomcat_Configuration_File\nit suggests that a correct connector in the server.xml should look like:\n\n<-- Define a SSL Coyote HTTP/1.1 Connector on port 8443 -->\n<!--\n<Connector \n           port=\"8443\" maxThreads=\"200\"\n           scheme=\"https\" secure=\"true\" SSLEnabled=\"true\"\n           SSLCertificateFile=\"/usr/local/ssl/server.crt\" \n           SSLCertificateKeyFile=\"/usr/local/ssl/server.pem\"\n           clientAuth=\"optional\" SSLProtocol=\"TLSv1\"/>\n-->\n\nthis however didn't work and resulted in:\n\nWARNING: [SetAllPropertiesRule]{Server/Service/Connector} Setting property\n'clientAuth' to 'true' did not find a matching property.\n\nAn actual working config can be found in\nhttp://tomcat.apache.org/tomcat-7.0-doc/apr.html#HTTPS . I propose copying the\nexample section:\n\n<Connector port=\"443\" maxHttpHeaderSize=\"8192\"\n               maxThreads=\"150\"\n               enableLookups=\"false\" disableUploadTimeout=\"true\"\n               acceptCount=\"100\" scheme=\"https\" secure=\"true\"\n               SSLEnabled=\"true\" \n               SSLCertificateFile=\"${catalina.base}/conf/localhost.crt\"\n               SSLCertificateKeyFile=\"${catalina.base}/conf/localhost.key\" />\n\nTo replace the, what I believe to be false, example in the ssl-howto.", "id": 146967, "time": "2011-06-08T17:48:14Z", "bug_id": 51343, "creation_time": "2011-06-08T17:48:14Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 51343, "attachment_id": 27134, "id": 146968, "time": "2011-06-08T17:49:36Z", "creator": "ivolation@gmail.com", "creation_time": "2011-06-08T17:49:36Z", "is_private": false, "text": "Created attachment 27134\npatching docs/ssl-howto.xml to use same example as apr.xml tc7.0.x\n\nI created a patch for the current trunk version."}, {"count": 2, "tags": [], "bug_id": 51343, "attachment_id": null, "id": 146970, "time": "2011-06-08T18:40:56Z", "creator": "markt@apache.org", "creation_time": "2011-06-08T18:40:56Z", "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of bug 51342 ***"}]