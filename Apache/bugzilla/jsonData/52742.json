[{"count": 0, "tags": [], "text": "The fix revision 269961 was aimed to remove resource leak bugs on the InputStreamReader object \"reader\" (created in line 314), the OutputStreamWriter object (line 316) in the method \"processFile\"of the file \"/ant/core/trunk/src/main/org/apache/tools/ant/taskdefs/Replace.java\" , but \nit is incomplete.\n\nThere are some problems: \n1. when \"reader\" isn't created successfully but the temp FileInputStream object is created successfully (at line 315), the temp FileInputStream object will be leaked. \n2. when \"writer\" isn't created successfully but the temp FileOutputStream object is created successfully (at line 316), the temp FileOutputStream object will be leaked. \n3. when the statements at lines 327-367 throw some exception, \"bw\" will be leaked;\n4. when the statements at lines 327-367 throw some exception, \"br\" will be leaked;\n\nThe best way to close such resource objects is putting such close operations for all resource objects in the finaly block of a try-catch-finally structure and then putting all other code in a try block.\n\nThe problem still exists in the head revision.", "is_private": false, "id": 154050, "creator": "lianggt08@sei.pku.edu.cn", "time": "2012-02-23T07:45:37Z", "bug_id": 52742, "creation_time": "2012-02-23T07:45:37Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "jglick@apache.org", "text": "Committed revision 1294360.", "id": 154299, "time": "2012-02-27T22:17:01Z", "bug_id": 52742, "creation_time": "2012-02-27T22:17:01Z", "is_private": false, "attachment_id": null}]