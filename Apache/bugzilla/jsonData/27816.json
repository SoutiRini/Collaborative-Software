[{"count": 0, "tags": [], "bug_id": 27816, "attachment_id": null, "text": "the solution in http://wiki.cocoondev.org/Wiki.jsp?page=EndorsedLibsProblem is\nappealing.\n\na quick test showed problems with \n\njava.lang.ClassCastException\n\tat\norg.apache.lenya.cms.cocoon.acting.DelegatingAuthorizerAction.setHistory(DelegatingAuthorizerAction.java:87)\n\nand others.", "id": 54313, "time": "2004-03-20T18:23:59Z", "creator": "gregor@apache.org", "creation_time": "2004-03-20T18:23:59Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 27816, "attachment_id": null, "text": "vadim just mentioned that it does not provide full isolation. if your code does\nregular cp loading, it wont work..\n\nit might make more sense to wait for real blocks.", "id": 66866, "time": "2004-11-14T02:23:34Z", "creator": "gregor@apache.org", "creation_time": "2004-11-14T02:23:34Z", "is_private": false}, {"count": 2, "tags": [], "creator": "tschlabach@apache.org", "attachment_id": null, "is_private": false, "id": 70963, "time": "2005-02-14T22:49:49Z", "bug_id": 27816, "creation_time": "2005-02-14T22:49:49Z", "text": "I did a quick test with the SVN of 1_2_X as of today. I seemed to work in the\nfirst place. I was able to start Lenya and browse some pages, both in Live and\nAuthoring.\n\n>> a quick test showed problems with \n\n>> java.lang.ClassCastException\n>>\tat\n>>\norg.apache.lenya.cms.cocoon.acting.DelegatingAuthorizerAction.setHistory(DelegatingAuthorizerAction.java:87)\n\nWhen did that come up? When starting or upon what action?\n\n>> vadim just mentioned that it does not provide full isolation. if your code \n>> does regular cp loading, it wont work..\n\nWhat is \"regular cp loading\"? Does Lenya do that? What does \"not work\" mean?\nExceptions or loading the wrong classes? Which may lead to less obvious problems.\n\nThe Xalan / Xerces issue is a nightmare if you are in shared environments, i.e.,\nyou have to host different virtual hosts in one servlet container. What makes it\nreally hard is that for Xalan / Xerces the rule \"newer is better\" does not\napply. We have seen lots of examples where a particular Lenya version did not\nwork with a newer Xerces / Xalan, so just always upgrading to the lastest\nversions is not really an option.\n\nAs I lern from the recent discussion on the Cocoon lists, \"real blocks\" will\nstill take a while, so it might be worth re-investigating this bug.\n"}, {"count": 3, "tags": [], "creator": "gregor@apache.org", "attachment_id": null, "text": "(In reply to comment #2)\n> I did a quick test with the SVN of 1_2_X as of today. I seemed to work in the\n> first place. I was able to start Lenya and browse some pages, both in Live and\n> Authoring.\n\ngood news! i last tried about a year ago.\n\n\n> When did that come up? When starting or upon what action?\n\non startup\n\n> What is \"regular cp loading\"? Does Lenya do that? What does \"not work\" mean?\n\nthe paranoid servlet only changes the order of classloading. if you have your\nown classloader, it will not catch that. (lenya does not). i spent quite some\ntime the last month to get cocoon running on weblogic with the paranoid servlet,\nso i gained experience with the issues..\n\n> Exceptions or loading the wrong classes? Which may lead to less obvious problems.\n> \n> The Xalan / Xerces issue is a nightmare if you are in shared environments, i.e.,\n> you have to host different virtual hosts in one servlet container. What makes it\n> really hard is that for Xalan / Xerces the rule \"newer is better\" does not\n> apply. We have seen lots of examples where a particular Lenya version did not\n> work with a newer Xerces / Xalan, so just always upgrading to the lastest\n> versions is not really an option.\n\ncorrect. to make matters worse, xalan used to ship with BCEL in the same jar,\nwhich clashed with javaflow...\n\n> As I lern from the recent discussion on the Cocoon lists, \"real blocks\" will\n> still take a while, so it might be worth re-investigating this bug.\n\ni am currently not sure it is worth the trouble, but if someone has the\nmotivation to do so..\n\nthis would especially be helpful for screwed up containers like weblogic or\nwebsphere..", "id": 70964, "time": "2005-02-14T22:56:48Z", "bug_id": 27816, "creation_time": "2005-02-14T22:56:48Z", "is_private": false}]