[{"count": 0, "tags": [], "creator": "neigie@gmail.com", "is_private": false, "id": 176709, "attachment_id": null, "bug_id": 56775, "creation_time": "2014-07-28T06:32:24Z", "time": "2014-07-28T06:32:24Z", "text": "Hi, I'm using tomcat-jdbc-7.0.50.jar instead common-dbcp. \n\nWe expected to check idle connections every \"timeBetweenEvictionRunsMillis\".\nWhen poolCleaner thread is exeucted first, it seemed to be exeucted on time. \nBut after first time, poolCleaner is executed after \"timeBetweenEvictionRunsMillis\" * 2 times. \n\nIs it intended? I'm not sure...\n\nI think the reason is because of this code below.  \n\nConnectionPool.java : 1290 line\npoolCleanTimer.scheduleAtFixedRate(cleaner, cleaner.sleepTime,cleaner.sleepTime);\n\nAs you see, when you call scheduleAtFixedRate method of Timer class, \"period and delay\" of poolCleaner timerTask set same value of \"sleepTime\" that equals \"timeBetweenEvictionRunsMillis\". So total delay time of Timer is two time of \"timeBetweenEvictionRunsMillis\". \n\nPlease tell me why you guyz call scheduledAtFixedRate method with these arguments and whether it's a bug or not."}]