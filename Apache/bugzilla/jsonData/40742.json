[{"count": 0, "tags": [], "bug_id": 40742, "attachment_id": null, "id": 94768, "time": "2006-10-12T08:21:19Z", "creator": "opyate@gmail.com", "creation_time": "2006-10-12T08:21:19Z", "is_private": false, "text": "Tag \"isset\" does not recognise property set with argument \"-D\"\n\nWhen running Ant, on the command line I would like to specify a property:\n\n> ant -Dtest.class.name=class.to.be.Tested\n\nThen, in the build file I would like to test if this property has been set,\notherwise default to something else:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project default=\"default-task-name\" basedir=\".\" name=\"project-name\">\n\n<condition property=\"testClassSpecified\">\n <isset property=\"test.class.name\"/>\n</condition>\n<if>\n <equals arg1=\"testClassSpecified\" arg2=\"true\" />\n  <then>\n   <echo message=\"Test class specified.\" />\n  </then>\n  <else>\n   <echo message=\"Test class not specified. Setting it to default Suite...\" />\n    <property name=\"test.class.name\" value=\"some.default.Suite\"/>\n   </else>\n</if>\n\n<!-- tasks follow... -->\n</project>\n\nMaybe I'm doing something wrong, but Ant does not seem to pick up the argument,\nand the condition always fails (i.e. \"test.class.name\" always defaults to\n\"some.default.Suite\", and the rest of the tasks then execute perfectly with this\nvalue.)\n\n\nOther tools used with Ant:\n* ant-contrib-1.0b2 (of which the JAR is in %ANT_HOME%/lib\n* JUnit4.1 (of which the JAR is in %ANT_HOME%/lib"}, {"count": 1, "tags": [], "bug_id": 40742, "attachment_id": null, "id": 94770, "time": "2006-10-12T08:28:18Z", "creator": "mbenson@apache.org", "creation_time": "2006-10-12T08:28:18Z", "is_private": false, "text": "uh, well, for one thing you didn't use property expansion notation in your\n<equals> comparison; e.g. <equals arg1=\"${testClassSpecified}\" arg2=\"true\" />\n\n2. If you are wanting to compare a property to true, you could use\n<istrue value=\"${testClassSpecified}\" />\n\n3. All that is unnecessary, is if test.class.name is specified via -D, any\nsubsequent attempt to modify it will silently fail.  So you can include\n<property name=\"test.class.name\" value=\"some.default.Suite\" /> in your buildfile\nand override via -D without fear.  You should have brought your questions to the\nuserlist before submitting a bug report."}]