[{"count": 0, "tags": [], "bug_id": 44126, "text": "I have a single, simple test with one thread group (2 threads, ramp up time 1,\nloop 1). The thread group contains 3 HTTP requests (1 POST that sends contents\nof a small file and 2 GETs) and one View Results Tree listener.  In\njmeter.properties: mode=Batch, num_sample_threshold=1000, and\ntime_threshold=60000.  Only other modifications to jmeter.properties:\njmeter.laf=javax.com.sun.java.swing.plaf.windows.WindowsLookAndFeel and 6\nremote_hosts defined.  From the master GUI, I call Run->Remote Start All and I get:\n\nException in thread \"Thread-4\" java.util.ConcurrentModificationException\n  at java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:365)\n  at java.util.LinkedHashMap$ValueIterator.next(LinkedHashMap.java:380)\n  at\norg.apache.jmeter.testelement.property.PropertyIteratorImpl.next(PropertyIteratorImpl.java:50)\n  at\norg.apache.jmeter.engine.util.ValueReplacer.replaceValues(ValueReplacer.java:113)\n  at\norg.apache.jmeter.engine.util.ValueReplacer.replaceValues(ValueReplacer.java:65)\n  at org.apache.jmeter.engine.PreCompiler.addNode(PreCompiler.java:70)\n  at org.apache.jorphan.collections.HashTree.traverseInto(HashTree.java:972)\n  at org.apache.jorphan.collections.HashTree.traverseInto(HashTree.java:973)\n  at org.apache.jorphan.collections.HashTree.traverse(HashTree.java:956)\n  at org.apache.jmeter.engine.ClientJMeterEngine.run(ClientJMeterEngine.java:116)\n  at java.lang.Thread.run(Thread.java:595)\n\nThe error also occurs with mode=Statistical and with the Summary Report\nlistener.  I didn't see this error as often with fewer remote hosts.", "id": 112005, "time": "2007-12-21T19:30:30Z", "creator": "enebel@yahoo.com", "creation_time": "2007-12-21T19:30:30Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 44126, "attachment_id": null, "text": "This is similar to 43431 and 43168, but not the same (I think).", "id": 112006, "time": "2007-12-21T19:33:51Z", "creator": "enebel@yahoo.com", "creation_time": "2007-12-21T19:33:51Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 44126, "attachment_id": null, "text": "I haven't looked at the JMeter source code, but this seems to happen when JMeter\nis trying to start the test on each of the remote slaves.  The error doesn't\noccur every time, but if it occurs, one of the remote slaves doesn't run the\ntest.  All jmeter properties I modified except remote_hosts seem to be\nirrelevant: the greater the number of remote_hosts, the more likely it is that\nthis ConcurrentModificationException will occur.  (I'm now testing with 7 remote\nhosts.)", "id": 112013, "time": "2007-12-21T20:34:17Z", "creator": "enebel@yahoo.com", "creation_time": "2007-12-21T20:34:17Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 44126, "attachment_id": null, "text": "I got the same problem - I could work around it by adding a\n\ntry { Thread.sleep(6); } catch (InterruptedException ie) {}\n\nafter the line that reads\n\ndoRemoteStart(el.trim());\n\nin org/apache/jmeter/gui/action/RemoteStart.java\n\nIf that exception still shows, try a number greater than 6ms.\n", "id": 112797, "time": "2008-01-14T02:00:23Z", "creator": "horst@mailinator.com", "creation_time": "2008-01-14T02:00:23Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 44126, "text": "Does anyone have a *simple* public test case they could attach to this issue?\n\nI have tried to reproduce the problem, but so far not succeeded.", "id": 112800, "time": "2008-01-14T03:11:02Z", "creator": "sebb@apache.org", "creation_time": "2008-01-14T03:11:02Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 44126, "attachment_id": null, "text": "*** Bug 44222 has been marked as a duplicate of this bug. ***", "id": 112803, "time": "2008-01-14T04:23:44Z", "creator": "sebb@apache.org", "creation_time": "2008-01-14T04:23:44Z", "is_private": false}, {"count": 6, "tags": [], "creator": "dmitry@ardas.dp.ua", "text": "Created attachment 21384\nConcurrent Exception Example\n\nTest plan example is attached to reproduce ConcurrentModificationException for\nmulti server mode. I have 10 jmeter servers and this exception occurred in 90%\ncases.", "id": 112810, "time": "2008-01-14T06:00:53Z", "bug_id": 44126, "creation_time": "2008-01-14T06:00:53Z", "is_private": false, "attachment_id": 21384}, {"count": 7, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "Thanks,I'll try that out later.", "id": 112811, "time": "2008-01-14T06:23:25Z", "bug_id": 44126, "creation_time": "2008-01-14T06:23:25Z", "is_private": false}, {"count": 8, "attachment_id": null, "creator": "sebb@apache.org", "text": "See also Bug 43431.", "id": 113306, "time": "2008-01-30T16:39:30Z", "bug_id": 44126, "creation_time": "2008-01-30T16:39:30Z", "tags": [], "is_private": false}, {"count": 9, "tags": [], "bug_id": 44126, "attachment_id": null, "text": "Hello Sebb, I have the SpringFramework JPetstore shopping cart demo running\npublicly. This is the same application I was using for the remote distributed\ntesting that you helped me with previously off-list. I have a viable and fairly\nsimple Test Plan. If you or someone else could use the app to help resolve the \nconcurrency issue I can reply with the link. Please advise, David.\n\n(In reply to comment #4)\n> Does anyone have a *simple* public test case they could attach to this issue?\n> \n> I have tried to reproduce the problem, but so far not succeeded.\n\n", "id": 113499, "time": "2008-02-06T15:40:06Z", "creator": "david@davidwbrown.name", "creation_time": "2008-02-06T15:40:06Z", "is_private": false}, {"count": 10, "attachment_id": null, "creator": "david@davidwbrown.name", "text": "Hello sebb, in response to your email on the user list please find included\nbelow the Test Plan that generates the Concurrency exception. You have previous\nASCII network topology diagrams of my LAN but I will repeat it here: I am using\n2 client slaves as defined in my jmeter.properties. The target application\nresides at:\n\nhttps://www.davidwbrown.name:8543/jpetstore/\n\nClick the sign-in bread-crumb trail and create a user and password.\nOpen the Test Plan (your gmail address) and input your new user and password on\nthe empty petstoreuser and petstorepass name-value on the Test Plan page.\nMy use of the Test Plan invoked the Concurrency Exception with 3 users (defined\nin the ThreadGroup) against two client slaves (Remote Start All). 1 user and 1\nclient seems more stable but not really tested. My Test Plan client slaves (2)\nwere: Suse 10.1 (Intel 233 mHz 1 cpu 384 mb mem) and Windows XP (Intel 2.x+ gHz\nduo core 1 gb mem). Target application machine: Debian 3.1-2.6.8-2-686-smp\n(Intel 2 CPU @3.0 gHz 2 gb mem)\n\n(In reply to comment #4)\n> Does anyone have a *simple* public test case they could attach to this issue?\n> \n> I have tried to reproduce the problem, but so far not succeeded.\n\n", "id": 113501, "time": "2008-02-06T18:29:18Z", "bug_id": 44126, "creation_time": "2008-02-06T18:29:18Z", "tags": [], "is_private": false}, {"count": 11, "tags": [], "bug_id": 44126, "attachment_id": null, "id": 151449, "time": "2011-11-13T17:44:37Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-11-13T17:44:37Z", "is_private": false, "text": "I made many tests on nightly (> JMeter 2.5.1) with 10 remote servers and was not able to reproduce the issue.\nNote that I made many remote tests since 2.4 and was never able to reproduce it.\n\nThe fact that it works could be related to fix on 48350."}]