[{"count": 0, "tags": [], "bug_id": 47380, "text": "<fo:root xmlns:fo=\"http://www.w3.org/1999/XSL/Format\" xmlns:fox=\"http://xmlgraphics.apache.org/fop/extensions\">\n\t<fo:layout-master-set>\n\t\t<fo:simple-page-master page-height=\"10cm\" page-width=\"15cm\" master-name=\"main\">\n\t\t\t<fo:region-body/>\n\t\t</fo:simple-page-master>\n\t</fo:layout-master-set>\n\t<fo:page-sequence master-reference=\"main\">\n\t\t<fo:flow flow-name=\"xsl-region-body\">\n\t\t\t<fo:block text-align-last=\"justify\" span=\"all\" width=\"15cm\">\n\t\t\t\t<fo:inline background-color=\"red\">left page border</fo:inline>\n\t\t\t\t<fo:leader leader-pattern=\"space\" rule-style=\"dotted\" rule-thickness=\"0.0pt\" background-color=\"yellow\"/>\n\t\t\t\t<fo:inline text-align=\"right\" background-color=\"green\">right page border?</fo:inline>\n\t\t\t</fo:block>\n\t\t</fo:flow>\n\t</fo:page-sequence>\n</fo:root>\n\nOne block, an inline left, an inline right, a leader in between. I'd expect the right inline to end at the right page end. \n\nNot working in Version 784924\nStill working in a build made on 2009/05/19, definitely before IF was included in trunk (which does not mean, IF is responsible for the error!) \n\nManifest snippet:\n\nBuild-Id: 20090519-142808-CEST (gdatterl [Windows 2003 5.2 amd64, Java\n  1.5.0_15-b04])\nClass-Path: PDFBox-0.7.4-dev.jar avalon-framework-4.2.0.jar batik-all-\n 1.7.jar checkstyle-all-5.0-beta01.jar commons-io-1.3.1.jar commons-lo\n gging-1.0.4.jar fop-pdf-images-1.3.jar jai_codec.jar jai_core.jar jun\n it-4.5.jar serializer-2.7.0.jar servlet-2.2.jar xalan-2.7.0.jar xerce\n sImpl-2.7.1.jar xml-apis-1.3.04.jar xml-apis-ext-1.3.04.jar xmlgraphi\n cs-commons-1.4svn.jar xmlunit-1.2.jar", "id": 128009, "time": "2009-06-17T03:39:37Z", "creator": "gd@geneon.de", "creation_time": "2009-06-17T03:39:37Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "adelmelle@apache.org", "attachment_id": null, "text": "\nNo precise idea on the exact cause, but I already played with the testcase a bit, and it seems that changing rule-thickness to 0.1pt suffices to achieve the desired result.\n\nAlso found the revision that (most likely) introduced this: \nhttp://svn.apache.org/viewvc?rev=749012&view=rev\n\nA zero-width rule-thickness would lead to an area with zero bpd, and such an area is probably skipped during rendering...", "id": 128012, "time": "2009-06-17T04:31:25Z", "bug_id": 47380, "creation_time": "2009-06-17T04:31:25Z", "is_private": false}, {"count": 2, "tags": [], "creator": "adelmelle@apache.org", "attachment_id": null, "text": "\nNo precise idea on the exact cause, but I already played with the testcase a bit, and it seems that changing rule-thickness to 0.1pt suffices to achieve the desired result.\n\nAlso found the revision that (most likely) introduced this: \nhttp://svn.apache.org/viewvc?rev=749012&view=rev\n\nA zero-width rule-thickness would lead to an area with zero bpd, and such an area is probably skipped during rendering...", "id": 128013, "time": "2009-06-17T04:31:25Z", "bug_id": 47380, "creation_time": "2009-06-17T04:31:25Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 47380, "is_private": false, "count": 3, "id": 128014, "time": "2009-06-17T05:42:49Z", "creator": "adelmelle@apache.org", "creation_time": "2009-06-17T05:42:49Z", "text": "(In reply to comment #2)\n> Also found the revision that (most likely) introduced this: \n> http://svn.apache.org/viewvc?rev=749012&view=rev\n> \n> A zero-width rule-thickness would lead to an area with zero bpd, and such an\n> area is probably skipped during rendering...\n\nChecking the XSL-FO Rec. closer, part of that commit was definitely a mistake, since rule-thickness is not supposed to have any effect, unless the leader-pattern is specified as \"rule\". \nSame goes for the rule-style property, so one could even argue that those two properties should not be specified, since the pattern is \"space\"... \nIf you omit rule-thickness, the issue is also worked around, since rule-thickness then defaults to 1.0pt (but then, obviously, the yellow background becomes clearly visible).\n\nStill a regression, but I'll need some more background info before I'm going to revert the change in question. For leader-pattern='space', I guess we'd better look at the line-height property to determine the b-p-d trait for the corresponding area (?)"}, {"count": 4, "tags": [], "text": "resetting P2 open bugs to P3 pending further review", "is_private": false, "id": 157482, "creator": "gadams@apache.org", "time": "2012-04-07T01:43:40Z", "bug_id": 47380, "creation_time": "2012-04-07T01:43:40Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "gadams@apache.org", "text": "(In reply to comment #0)\n> One block, an inline left, an inline right, a leader in between. I'd expect the\n> right inline to end at the right page end. \n\nSaying \"inline left\" and \"inline right\" and specifying text-align=\"right\" on the second inline is misleading since text-align does not apply to inline, but only to block (and similar).\n\nIf the second inline is aligned right, it would *only* be due to  the text-align-last=\"justify\" specified on the block.", "id": 157618, "time": "2012-04-07T07:46:16Z", "bug_id": 47380, "creation_time": "2012-04-07T07:46:16Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 47380, "text": "http://svn.apache.org/viewvc?view=revision&revision=1310717", "id": 157621, "time": "2012-04-07T09:25:38Z", "creator": "gadams@apache.org", "creation_time": "2012-04-07T09:25:38Z", "is_private": false, "attachment_id": null}]