[{"count": 0, "tags": [], "text": "This is in fact a limitation of java.awt.BasicStroke, which doesn't not \nsupport negative dashoffset. here is the fix I suggest in \norg.apache.batik.bridge.PaintServer\n\nline 472:\n        if (dasharray != null) {\n            v =  CSSUtilities.getComputedStyle\n                (e, SVGCSSEngine.STROKE_DASHOFFSET_INDEX);\n            dashoffset = v.getFloatValue();\n\n            // make the dashoffset positive since BasicStroke cannot handle\n            // negative values\n            if ( dashoffset < 0 ) {\n                float dashpatternlength = 0;\n                for ( int i=0; i<dasharray.length; i++ ) {\n                    dashpatternlength += dasharray[i];\n                }\n                // if the dash pattern consists of an odd number of elements,\n                // the pattern length must be doubled\n                if ( (dasharray.length % 2) != 0 )\n                    dashpatternlength *= 2;\n\n                dashoffset += dashpatternlength;\n            }\n        }\n\nI am working on a test case for this.", "attachment_id": null, "id": 31527, "creator": "nicolas.socheleau@bitflash.com", "time": "2003-02-18T15:36:45Z", "bug_id": 17167, "creation_time": "2003-02-18T15:36:45Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 17167, "attachment_id": null, "id": 32288, "time": "2003-03-02T23:16:48Z", "creator": "deweese@apache.org", "creation_time": "2003-03-02T23:16:48Z", "is_private": false, "text": "should be fixed in CVS soon.  Also handles case where dashoffset is\nmore negative than dashpatternlength."}]