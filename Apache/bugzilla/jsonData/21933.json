[{"count": 0, "tags": [], "creator": "ckessel@tripwire.com", "attachment_id": null, "is_private": false, "id": 41662, "time": "2003-07-28T15:03:07Z", "bug_id": 21933, "creation_time": "2003-07-28T15:03:07Z", "text": "In CompressionResponseStream, the code does the following:\n\n            gzipstream = new GZIPOutputStream(output);\n            response.addHeader(\"Content-Encoding\", \"gzip\");\n\nIf the output stream already contains enough data to trip the internal buffer \nand cause a write, then the addHeader() is ignored.  The result is that the \ndata is sent gzip'd, but the header doesn't indicate it.  This causes mozilla \nto display garbage and IE to prompt for a download.\n\nSimply reversing the lines seems to fix the problem."}, {"count": 1, "tags": [], "bug_id": 21933, "text": "Patch made  - thanks!", "id": 44146, "time": "2003-09-13T14:31:45Z", "creator": "funkman@joedog.org", "creation_time": "2003-09-13T14:31:45Z", "is_private": false, "attachment_id": null}]