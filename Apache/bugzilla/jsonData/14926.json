[{"count": 0, "attachment_id": null, "bug_id": 14926, "is_private": false, "id": 27105, "time": "2002-11-28T10:54:01Z", "creator": "horikawa@wsd.csk-inet.or.jp", "creation_time": "2002-11-28T10:54:01Z", "tags": [], "text": "We use log4j1.1.3 under Solaris8 with tomcat4.03 and apache1.3.22 and \njdk13.1_03 and struts1.0.2 .\nRecently, We met Difficult Situation and We reach a dead end.\n\nthe problem is throwing an NullPointerException when trying to print the \nstacktrace.\n\n##############\n#It's source.\n#####################\ncatch(Exception e){\n    category.debug(\"throw an Exception!\",e);\n}\n###########\n#It's result in file for log.\n##################################\n2002-11-28 21:14:00,368 [className] DEBUG - throw an Exception!\n\nA stacktrace is not printed in file for log.\n\n###########\n#It's stacktrace on InternetExplorer\n#####################################\njava.lang.NullPointerException\n\tat java.io.Writer.write(Writer.java:124)\n\tat org.apache.log4j.helpers.QuietWriter.write(QuietWriter.java:39)\n\tat org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:302)\n\tat org.apache.log4j.DailyRollingFileAppender.subAppend\n(DailyRollingFileAppender.java:378)\n\tat org.apache.log4j.WriterAppender.append(WriterAppender.java:157)\n\tat org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:251)\n\tat org.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders\n(AppenderAttachableImpl.java:57)\n\tat org.apache.log4j.Category.callAppenders(Category.java:255)\n\tat org.apache.log4j.Category.forcedLog(Category.java:445)\n\tat org.apache.log4j.Category.debug(Category.java:330)\n\tat jp.mapfan.mft.service.struts.ActionBase.debug(ActionBase.java:83)\n\tat \njp.mapfan.mft.service.struts.CreditUnavailableListAction.creditUnavailableSearch\n(CreditUnavailableListAction.java:364)\n\tat jp.mapfan.mft.service.struts.CreditUnavailableListAction.perform\n(CreditUnavailableListAction.java:93)\n\tat org.apache.struts.action.ActionServlet.processActionPerform\n(ActionServlet.java:1787)\n\tat org.apache.struts.action.ActionServlet.process\n(ActionServlet.java:1586)\n\tat org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:510)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:760)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat jp.mapfan.mft.util.filter.SetCharacterEncodingFilter.doFilter\n(SetCharacterEncodingFilter.java:173)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:213)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:190)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2343)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:468)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.ajp.tomcat4.Ajp13Processor.process\n(Ajp13Processor.java:429)\n\tat org.apache.ajp.tomcat4.Ajp13Processor.run(Ajp13Processor.java:495)\n\tat java.lang.Thread.run(Thread.java:479)"}, {"count": 1, "attachment_id": null, "bug_id": 14926, "text": "\nhave you tried using log4j 1.2.x as log4j 1.1.x is no longer actively  \nmaintained... If changing to 1.2 does not help, then please re-open this bug.", "id": 31537, "time": "2003-02-18T17:36:26Z", "creator": "ceki@apache.org", "creation_time": "2003-02-18T17:36:26Z", "tags": [], "is_private": false}]