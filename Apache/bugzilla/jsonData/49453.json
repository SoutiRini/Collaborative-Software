[{"count": 0, "tags": [], "bug_id": 49453, "attachment_id": null, "is_private": false, "id": 137699, "time": "2010-06-17T07:30:39Z", "creator": "constantine.plotnikov@gmail.com", "creation_time": "2010-06-17T07:30:39Z", "text": "We have squid as a transparent proxy and if cache hit happens, it returns content with Content-Encoding: gzip. If the content missed from cache, it is returned normally. As result, the ant get task downloads and saves content in gzip-ed or normal form depending on cache state, and this is not what most ant scripts are expecting. \n\nNote, that in the case of cache hit, Content-Length: header is returned with length of gziped content.\n\nThe more technical details on this problem are available in this Ivy bug https://issues.apache.org/jira/browse/IVY-1194 , which was also affected by this problem."}, {"count": 1, "tags": [], "text": "<get> really only sits on top of java.net.URL where any \"real\" task likely\nbetter used Apache's httpclient library.\n\nIn a case where URL misbehaves as it does you are probably best of by\nsetting httpusecaches to false at the task level.", "is_private": false, "id": 137849, "creator": "bodewig@apache.org", "time": "2010-06-23T10:22:55Z", "bug_id": 49453, "creation_time": "2010-06-23T10:22:55Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 49453, "attachment_id": 25721, "is_private": false, "id": 138230, "time": "2010-07-06T17:39:52Z", "creator": "maarten_coene@yahoo.com", "creation_time": "2010-07-06T17:39:52Z", "text": "Created attachment 25721\nA patch for the Get.java task\n\nI think the \"fix\" is pretty easy since Java has built-in support for handling gzipped content. In addition, it could improve the performance of the get task when it is used to fetch plain text files.\n\nI've attached a patch that fixes the problem."}, {"count": 3, "tags": [], "bug_id": 49453, "attachment_id": null, "text": "*** Bug 50300 has been marked as a duplicate of this bug. ***", "id": 141833, "time": "2010-11-19T10:32:53Z", "creator": "bodewig@apache.org", "creation_time": "2010-11-19T10:32:53Z", "is_private": false}, {"count": 4, "tags": [], "text": "I think this is a really important bug and should be in next release for sure, I saw a very nondeterministic behaviour of get task and because of that other tasks fail and cause weird questions around build process\n(I use the task to get dependent jars(from maven repos :) ) for the rest of tasks)\nI understand that one can switch proxies or workaround, but for automated build process this is a real PITA.\n\nthank you!\nL", "is_private": false, "id": 160423, "creator": "tarzanek@post.sk", "time": "2012-07-03T15:13:02Z", "bug_id": 49453, "creation_time": "2012-07-03T15:13:02Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 49453, "attachment_id": null, "is_private": false, "id": 160443, "time": "2012-07-04T08:58:22Z", "creator": "vladimir.kotal@oracle.com", "creation_time": "2012-07-04T08:58:22Z", "text": "We're hitting this bug with OpenGrok (http://hub.opensolaris.org/bin/view/Project+opengrok/) build which has the following in build.xml:\n\n<target name=\"download-lucene\" depends=\"-check-lucene\" if=\"lucene_not_downloaded\">\n        <get src=\"http://repo1.maven.org/maven2/org/apache/lucene/lucene-core/${lucene.version}/${lucene-core.jar}\"\n        dest=\"lib/${lucene-core.jar}\" verbose=\"true\" usetimestamp=\"true\"/>\n        <get src=\"http://repo1.maven.org/maven2/org/apache/lucene/lucene-spellchecker/${lucene.version}/${lucene-spellchecker.jar}\"\n        dest=\"lib/${lucene-spellchecker.jar}\" verbose=\"true\" usetimestamp=\"true\"/>\n    </target>\n\n\nSince the repo1.maven.org server recently got misconfigured and is sending gzipped content, clean OpenGrok build fails because of this. The problem is apparently fixed on the server now but would appreciate fix anyway for future build robustness."}, {"count": 6, "tags": [], "text": "svn revision 1577701", "attachment_id": null, "bug_id": 49453, "id": 173833, "time": "2014-03-14T20:40:25Z", "creator": "bodewig@apache.org", "creation_time": "2014-03-14T20:40:25Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 49453, "attachment_id": null, "is_private": false, "id": 173835, "time": "2014-03-14T21:13:35Z", "creator": "bodewig@apache.org", "creation_time": "2014-03-14T21:13:35Z", "text": "maybe I should have committed the actual code change as well :-)\n\nsvn revision 1577711"}]