[{"attachment_id": null, "tags": [], "bug_id": 47135, "is_private": false, "count": 0, "id": 126673, "time": "2009-05-01T09:24:03Z", "creator": "dennis_brake@excite.com", "creation_time": "2009-05-01T09:24:03Z", "text": "When using an environment variable to specify a directory that requires quotes, the path is processed wrong. For example, using the following build.xml file:\n\n<project name=\"test\" basedir=\".\" >\n\n   <property environment=\"env\"/>\n   <property name=\"axis2.home\" value=\"${env.AXIS2_HOME}\" />\n\n   <path id=\"project.class.path\">\n      <fileset dir=\"${axis2.home}/lib\">\n\t <include name=\"axis2-kernel-1.4.1.jar\" />\n      </fileset>\n   </path>\n\n   <target name=\"showClasspath\">\n\t<echo message=\"Axis2: ${axis2.home}/lib\" />\n\t<property name=\"classpath.string\" refid=\"project.class.path\" />\n\t<echo message=\"${classpath.string}\" />\n   </target>\n</project>\n\nif we get an error using:\n\nC:\\test\\ESII\\Spiral-2>set AXIS2_HOME=\"\\javaapps\\axis2-1.4.1\"\n\nC:\\test\\ESII\\Spiral-2>ant showClasspath\nBuildfile: build.xml\n\nshowClasspath:\n     [echo] Axis2: \"\\javaapps\\axis2-1.4.1\"/lib\n\nBUILD FAILED\nC:\\test\\ESII\\Spiral-2\\build.xml:14: C:\\test\\ESII\\Spiral-2\\\"\\javaapps\\axis2-1.4.1\n\"\\lib not found.\n\nTotal time: 0 seconds\n\n\n\nHowever, the following works:\nC:\\test\\ESII\\Spiral-2>set AXIS2_HOME=\\javaapps\\axis2-1.4.1\n\nC:\\test\\ESII\\Spiral-2>ant showClasspath\nBuildfile: build.xml\n\nshowClasspath:\n     [echo] Axis2: \\javaapps\\axis2-1.4.1/lib\n     [echo] C:\\javaapps\\axis2-1.4.1\\lib\\axis2-kernel-1.4.1.jar\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n\n\nNow the above didn't require quotes but if the path name had embedded spaces they would be required."}, {"count": 1, "tags": [], "creator": "jkf@apache.org", "text": "Sorry to inform you that the quotes are not required, even if the path contains spaces.\n\nC:\\Users\\jkf>set FOO=C:\\Program Files\\Internet Explorer\\hmmapi.dll\n\nC:\\Users\\jkf>echo %FOO%\nC:\\Program Files\\Internet Explorer\\hmmapi.dll\n\nThere are situations where \" are legal path elements so we cannot just strip them.", "id": 126674, "time": "2009-05-01T09:44:17Z", "bug_id": 47135, "creation_time": "2009-05-01T09:44:17Z", "is_private": false, "attachment_id": null}]