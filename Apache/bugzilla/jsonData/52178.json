[{"count": 0, "text": "Created attachment 27936\npatch (search port after ] if one exists)\n\nserver/core.c:server_hostname_port() uses everything after the first \":\" as a port and prevents startup if it is not in the range 1-65535. If a IPv6 IP is used as a ServerName, the result is bound to be invalid. The enclosed patch starts the search for a \":\" after the first closing square bracket if one exists, otherwise it falls back to the current behavior.", "bug_id": 52178, "attachment_id": 27936, "id": 151480, "time": "2011-11-14T16:42:53Z", "creator": "rainer-apache@7val.com", "creation_time": "2011-11-14T16:42:53Z", "tags": [], "is_private": false}, {"count": 1, "text": "Created attachment 27983\nupdated patch\n\nIncludes an additional modification to make IPv6-address based NameVirtualHosts work like IPv4 based vhosts.", "bug_id": 52178, "attachment_id": 27983, "id": 151771, "time": "2011-11-24T17:15:35Z", "creator": "rainer-apache@7val.com", "creation_time": "2011-11-24T17:15:35Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "wrowe@apache.org", "text": "All IPv6 addresses must be disambiguated by [] notation... are you suggesting\nthat [::]:80 is not working correctly?", "id": 151782, "time": "2011-11-25T03:18:25Z", "bug_id": 52178, "creation_time": "2011-11-25T03:18:25Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "rainer-apache@7val.com", "text": "IPv6 Addresses in square brackets do work for Listen and VirtualHost statements, but not for ServerName. Aside from preventing the Server to start at all, a NameVirtualHosts with an IP as the ServerName will never match. Even with the patch, the server must not have a VirtualHost-Statement that matches the ServerName exactly (i.e. the VirtualHost should be *:80 or different due to NAT), just like it works for IPv4 Adresses now.\n\nServername [::]:80\n\nresults in\n\nSyntax error on line 2 of /etc/httpd/conf.d/vhost0.conf:\nThe port number \"[::]:80\" is outside the appropriate range (i.e., 1..65535).", "id": 151785, "time": "2011-11-25T10:08:04Z", "bug_id": 52178, "creation_time": "2011-11-25T10:08:04Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "According to doc, ServerName should be a fully-qualified-domain-name.\n\nI don't see any use case that would require it to be an IP address.\n\nCould you elaborate ?", "is_private": false, "bug_id": 52178, "id": 170501, "time": "2013-10-09T04:51:29Z", "creator": "christophe.jaillet@wanadoo.fr", "creation_time": "2013-10-09T04:51:29Z", "attachment_id": null}, {"count": 5, "tags": [], "text": "I'm not sure if it is a realistic use case, since DNS entries are quick and easy to make, and IPv6 addresses are cumbersome in URLs, but my assumption was that NameVirtualHost should work for IPv6 as it does for IPv4. That is, one can run multiple VirtualHosts via NamevirtualHost on the same address:port, where one is identified by the address instead of a name. Since ServerName permits IPv4 addresses, it should also allow IPv6 addresses, or at least produce a clear error message and possibly also forbid IPv4 addresses. \n\nWhile the syntax in the documentation does specify [scheme://]fully-qualified-domain-name[:port], it is somewhat surprising to see something so \"url-like\" that only permits names, but not IP addresses for no obvious technical reason. \n\nI've only stumbled upon this issue while checking all aspects of IPv6 readiness of our product that I could come up with, by systematically trying everything with IPv6 that works with IPv4.", "attachment_id": null, "bug_id": 52178, "id": 174198, "time": "2014-04-01T10:02:22Z", "creator": "rainer-apache@7val.com", "creation_time": "2014-04-01T10:02:22Z", "is_private": false}]