[{"count": 0, "tags": [], "text": "Created attachment 31250\nZip containing the stacktrace and both potential patches\n\nWhen using an JMeter Plugin in 2.11 that is based on the TestBean concept and defines a Property in its BeanInfo class using \n    p = property(\"text\", TypeEditor.TextAreaEditor);\na NullPointer Exception is thrown when loading a Testplan in GUI mode that makes use of the plugin. (see StackTrace in the attachment)\n\nThe Problem seems to be that \norg.apache.jmeter.gui.util.JSyntaxTextArea#setLanguage(String language) \nis called with a null value as argument.\n\nThat originates from a missing \n    p.setValue(TEXT_LANGUAGE, <some string>)\nin the BeanInfo class.\n\nThere are two potential solutions to this.\n1.) throw an IllegalArgumentException in setLanguage if the provided argument is null specifying a detailed error message so the plugin developers can check their code an get it done quickly (see exception.patch in attachment)\n\n2.) use the same default value as for the case that the map lookup returns no value. This would prevent breaking existing Testplans but the problem won't be noticed by anyone (see default.patch in attachment)", "attachment_id": 31250, "id": 172661, "creator": "real_thuri@gmx.de", "time": "2014-01-24T08:42:23Z", "bug_id": 56059, "creation_time": "2014-01-24T08:42:23Z", "is_private": false}, {"count": 1, "tags": [], "text": "I think it would be best to allow the test to continue, but ideally to log a warning if the value has not been set.\n\nUnfortunately the code that detects the problem does not have access to the details of the caller. It looks to be very difficult to work round this.", "attachment_id": null, "id": 172683, "creator": "sebb@apache.org", "time": "2014-01-24T18:59:52Z", "bug_id": 56059, "creation_time": "2014-01-24T18:59:52Z", "is_private": false}, {"count": 2, "tags": [], "text": "Thanks; patch applied with minor tweaks:\n\nURL: http://svn.apache.org/r1561134\nLog:\nOlder TestBeans incompatible with 2.11 when using TextAreaEditor\nBugzilla Id: 56059\n\nAdded:\n    jmeter/trunk/test/src/org/apache/jmeter/gui/util/JSyntaxTextAreaTest.java   (with props)\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/gui/util/JSyntaxTextArea.java\n    jmeter/trunk/xdocs/changes.xml", "attachment_id": null, "id": 172686, "creator": "sebb@apache.org", "time": "2014-01-24T20:15:21Z", "bug_id": 56059, "creation_time": "2014-01-24T20:15:21Z", "is_private": false}]