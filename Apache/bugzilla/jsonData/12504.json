[{"count": 0, "tags": [], "bug_id": 12504, "text": "A very strange regression in tomcat 4.1.10 (worked fine in 4.1.9)\n\nI am running win2000 JDK 1.4.1 (the same with other JDKs)\n\nTomcat (more likely JASPER but I did not try servlets or complied JSPs) would \nnot find classes deployed as jars in context's WEB-INF/lib directory under some \ncircumstances:\n\n1. Context explicitly defined in server.xml or in webapps/my-context.xml\n2. Context's directory is on another drive (not where tomcat is)\n\nI should add that it works if \n- deployed as war (and context in server.xml specify docBase to this war) OR\n- deployed as directory in webapps with no explicit context definition  OR\n- deployed to the same drive where tomcat resides. The same type of deployment \nwith \nexplicit context in server.xml. Directory does not matter as long as it is \ntomcat's \ndrive\n\nI also should add that context gets mounted and all resources in it are \naccessible.\n\nWhat is happening can be seen from log file. First I thought there are some \nproblems \nwith network drive z: (long name issues or whatever) so I tried c: instead - \nthe same\n\nlog file seems to be the same  for all cases:\n\n2002-09-09 17:48:34 WebappLoader[/gctrack]: Deploying class repositories to \nwork \ndirectory D:\\java\\apache\\tomcat41\\work\\Standalone\\localhost\\gctrack\n2002-09-09 17:48:34 WebappLoader[/gctrack]: Deploy JAR /WEB-INF/lib/pti-\ncommon.jar to \nD:\\java\\apache\\tomcat41\\work\\Standalone\\localhost\\gctrack\\WEB-INF\\lib\\pti-\ncommon.jar\n2002-09-09 17:48:34 WebappLoader[/gctrack]: Deploy JAR \n/WEB-INF/lib/pti-gctrack-jdo-config.jar to \nD:\\java\\apache\\tomcat41\\work\\Standalone\\localhost\\gctrack\\WEB-INF\\lib\\pti-\ngctrack-jdo-config.jar\n2002-09-09 17:48:34 WebappLoader[/gctrack]: Deploy JAR \n/WEB-INF/lib/pti-gctrack-jdo.jar to \nD:\\java\\apache\\tomcat41\\work\\Standalone\\localhost\\gctrack\\WEB-INF\\lib\\pti-\ngctrack-jdo.jar\n2002-09-09 17:48:34 LdapRealmCatalina[/gctrack]: Loading Role Map [null] ...\n2002-09-09 17:48:35 ContextConfig[/gctrack]: WARNING: Security role name staff-\nhours \nused in an <auth-constraint> without being defined in a <security-role>\n2002-09-09 17:48:35 ContextConfig[/gctrack]: Configured an authenticator for \nmethod \nFORM\n2002-09-09 17:48:35 StandardManager[/gctrack]: Seeding random number generator \nclass \njava.security.SecureRandom\n2002-09-09 17:48:35 StandardManager[/gctrack]: Seeding of random number \ngenerator has \nbeen completed\n2002-09-09 17:48:35 StandardWrapper[/gctrack:default]: Loading container \nservlet \ndefault\n2002-09-09 17:48:35 StandardWrapper[/gctrack:invoker]: Loading container \nservlet \ninvoker\n\n2002-09-09 17:50:24 WebappLoader[/gctrack]: Deploying class repositories to \nwork \ndirectory D:\\java\\apache\\tomcat41\\work\\Standalone\\localhost\\gctrack\n2002-09-09 17:50:24 WebappLoader[/gctrack]: Deploy JAR /WEB-INF/lib/pti-\ncommon.jar to \nz:\\Projects\\Gao\\ogc\\gctrack\\main\\web\\gctrack\\WEB-INF\\lib\\pti-common.jar\n2002-09-09 17:50:24 WebappLoader[/gctrack]: Deploy JAR \n/WEB-INF/lib/pti-gctrack-jdo-config.jar to \nz:\\Projects\\Gao\\ogc\\gctrack\\main\\web\\gctrack\\WEB-INF\\lib\\pti-gctrack-jdo-\nconfig.jar\n2002-09-09 17:50:24 WebappLoader[/gctrack]: Deploy JAR \n/WEB-INF/lib/pti-gctrack-jdo.jar to \nz:\\Projects\\Gao\\ogc\\gctrack\\main\\web\\gctrack\\WEB-INF\\lib\\pti-gctrack-jdo.jar\n2002-09-09 17:50:25 LdapRealmCatalina[/gctrack]: Loading Role Map [null] ...\n2002-09-09 17:50:25 ContextConfig[/gctrack]: WARNING: Security role name staff-\nhours \nused in an <auth-constraint> without being defined in a <security-role>\n2002-09-09 17:50:25 ContextConfig[/gctrack]: Configured an authenticator for \nmethod \nFORM\n2002-09-09 17:50:25 StandardManager[/gctrack]: Seeding random number generator \nclass \njava.security.SecureRandom\n2002-09-09 17:50:25 StandardManager[/gctrack]: Seeding of random number \ngenerator has \nbeen completed\n2002-09-09 17:50:25 StandardWrapper[/gctrack:default]: Loading container \nservlet \ndefault\n2002-09-09 17:50:25 StandardWrapper[/gctrack:invoker]: Loading container \nservlet \ninvoker\n\n2002-09-09 17:57:51 WebappLoader[/gctrack]: Deploying class repositories to \nwork \ndirectory D:\\java\\apache\\tomcat41\\work\\Standalone\\localhost\\gctrack\n2002-09-09 17:57:51 WebappLoader[/gctrack]: Deploy JAR /WEB-INF/lib/pti-\ncommon.jar to \nd:\\web\\gctrack\\WEB-INF\\lib\\pti-common.jar\n2002-09-09 17:57:51 WebappLoader[/gctrack]: Deploy JAR \n/WEB-INF/lib/pti-gctrack-jdo-config.jar to \nd:\\web\\gctrack\\WEB-INF\\lib\\pti-gctrack-jdo-config.jar\n2002-09-09 17:57:51 WebappLoader[/gctrack]: Deploy JAR \n/WEB-INF/lib/pti-gctrack-jdo.jar to d:\\web\\gctrack\\WEB-INF\\lib\\pti-gctrack-\njdo.jar\n2002-09-09 17:57:52 LdapRealmCatalina[/gctrack]: Loading Role Map [null] ...\n2002-09-09 17:57:52 ContextConfig[/gctrack]: WARNING: Security role name staff-\nhours \nused in an <auth-constraint> without being defined in a <security-role>\n2002-09-09 17:57:52 ContextConfig[/gctrack]: Configured an authenticator for \nmethod \nFORM\n2002-09-09 17:57:52 StandardManager[/gctrack]: Seeding random number generator \nclass \njava.security.SecureRandom\n2002-09-09 17:57:52 StandardManager[/gctrack]: Seeding of random number \ngenerator has \nbeen completed\n2002-09-09 17:57:52 StandardWrapper[/gctrack:default]: Loading container \nservlet \ndefault\n2002-09-09 17:57:52 StandardWrapper[/gctrack:invoker]: Loading container \nservlet \ninvoker\n\n2002-09-09 18:06:24 WebappLoader[/gctrack]: Deploying class repositories to \nwork \ndirectory D:\\java\\apache\\tomcat41\\work\\Standalone\\localhost\\gctrack\n2002-09-09 18:06:24 WebappLoader[/gctrack]: Deploy JAR /WEB-INF/lib/pti-\ncommon.jar to \nc:\\web\\gctrack\\WEB-INF\\lib\\pti-common.jar\n2002-09-09 18:06:24 WebappLoader[/gctrack]: Deploy JAR \n/WEB-INF/lib/pti-gctrack-jdo-config.jar to \nc:\\web\\gctrack\\WEB-INF\\lib\\pti-gctrack-jdo-config.jar\n2002-09-09 18:06:24 WebappLoader[/gctrack]: Deploy JAR \n/WEB-INF/lib/pti-gctrack-jdo.jar to c:\\web\\gctrack\\WEB-INF\\lib\\pti-gctrack-\njdo.jar\n2002-09-09 18:06:25 LdapRealmCatalina[/gctrack]: Loading Role Map [null] ...\n2002-09-09 18:06:25 ContextConfig[/gctrack]: WARNING: Security role name staff-\nhours \nused in an <auth-constraint> without being defined in a <security-role>\n2002-09-09 18:06:25 ContextConfig[/gctrack]: Configured an authenticator for \nmethod \nFORM\n2002-09-09 18:06:25 StandardManager[/gctrack]: Seeding random number generator \nclass \njava.security.SecureRandom\n2002-09-09 18:06:25 StandardManager[/gctrack]: Seeding of random number \ngenerator has \nbeen completed\n2002-09-09 18:06:25 StandardWrapper[/gctrack:default]: Loading container \nservlet \ndefault\n2002-09-09 18:06:25 StandardWrapper[/gctrack:invoker]: Loading container \nservlet \ninvoker\n\n\n\nAlex Roytman\nPeace Technology, Inc.\n301-206-9696 ext. 103", "id": 22631, "time": "2002-09-10T23:49:07Z", "creator": "roytmana@peacetech.com", "creation_time": "2002-09-10T23:49:07Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 12504, "attachment_id": null, "id": 22648, "time": "2002-09-11T05:24:14Z", "creator": "serg_main@yahoo.com", "creation_time": "2002-09-11T05:24:14Z", "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of 12387 ***"}]