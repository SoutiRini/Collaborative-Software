[{"count": 0, "tags": [], "bug_id": 47461, "attachment_id": 23915, "id": 128447, "time": "2009-06-30T12:55:10Z", "creator": "chris@cope360.com", "creation_time": "2009-06-30T12:55:10Z", "is_private": false, "text": "Created attachment 23915\ndiff of code implementing feature\n\nThis is an enhancement to the Cache Manager which can be included in HTTP test plans to support cache logic based on the HTTP Expires header.  \n\nWhen a web browser receives a response with a future expires header, it may safely reuse that cached response until the expiration date without making any request to the server.  \n\nThe HTTP specification allows for dates up to one year in the future, but in practice many websites use dates very far in the future.  This technique is described at http://www.askapache.com/htaccess/apache-speed-expires.html.  For the purposes of this feature, how far in the future the content expires is not relevant.\n\nThe attached diff implements logic to simulate browser behavior.  When a cacheable response is received, the expiration date is remembered.  Subsequent requests for the same URL will check the cache and short circuit the request if a valid (not yet expired) response is available in the cache.\n\nThis is my first attempt at JMeter code and I'm sure this could be improved by someone more familiar with the project."}, {"count": 1, "tags": [], "bug_id": 47461, "text": "Tnanks for the patch, applied:\n\n\n\nI changed the code a bit:\n- use DateUtils from HttpClient 3.1 to parse the Expiry date\n- parse the Expiry date once rather than each time\n- made the new behaviour optional\n- only apply the Expires checking to GET requests\n- apply the processing to the HttpClient sampler as well", "id": 132021, "time": "2009-11-16T16:20:28Z", "creator": "sebb@apache.org", "creation_time": "2009-11-16T16:20:28Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "sebb@apache.org", "text": "For info:\n\nURL: http://svn.apache.org/viewvc?rev=881068&view=rev\nLog:\nBug 47461 - Update Cache Manager to handle Expires HTTP header\n\nModified:\n    jakarta/jmeter/trunk/src/core/org/apache/jmeter/resources/messages.properties\n    jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/control/CacheManager.java\n    jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/gui/CacheManagerGui.java\n    jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSampler.java\n    jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSampler2.java\n    jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/util/HTTPConstantsInterface.java\n    jakarta/jmeter/trunk/xdocs/changes.xml\n    jakarta/jmeter/trunk/xdocs/usermanual/component_reference.xml", "id": 160535, "time": "2012-07-09T15:02:25Z", "bug_id": 47461, "creation_time": "2012-07-09T15:02:25Z", "tags": [], "is_private": false}]