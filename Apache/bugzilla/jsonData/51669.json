[{"count": 0, "tags": [], "text": "The documentation for the mod_rewrite B-flag uses one poorly chosen example and lacks a link to other important info.\n\nhttp://httpd.apache.org/docs/current/rewrite/flags.html#flag_b\n\nA better example would be when submitting parameters containg normal urlencoded characters, and not special cases like '+', so given a typical rewrite like:\n\nRewriteRule ^search/(.*)$ /search.php?term=$1\n\nGiven a search term of 'x & y/z', a browser will encode it as 'x%20%26%20y%2Fz', making the request 'search/x%20%26%20y%2Fz'. Without the B flag, this rewrite rule will map to 'search.php?term=x & y/z', which isn't a valid URL, and would behave as if you had requested: 'search.php?term=x%20&y%2Fz=', which is not what was intended.\n\nWith the B flag set on this same rule, the parameters are re-encoded before being passed on to the output URL, resulting in a correct mapping to '/search.php?term=x%20%26%20y%2Fz'.\n\nImportantly, both of these examples will fail on a default apache configuration because apache doesn't allow encoded slashes in URLs, and returns a 404 if it sees one. This behaviour is overridable using the AllowEncodedSlashes directive (and provide a cross-reference to that).", "attachment_id": null, "id": 148658, "creator": "marcus@synchromedia.co.uk", "time": "2011-08-17T00:22:09Z", "bug_id": 51669, "creation_time": "2011-08-17T00:22:09Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 51669, "attachment_id": null, "is_private": false, "id": 148665, "time": "2011-08-17T12:07:51Z", "creator": "rbowen@apache.org", "creation_time": "2011-08-17T12:07:51Z", "text": "Thanks for this detailed example and explanation. I'll incorporate it into the documentation as soon as I get a chance."}, {"count": 2, "tags": [], "text": "Thanks. I've applied your example in r1160345 in TRUNK.", "attachment_id": null, "id": 148770, "creator": "rbowen@apache.org", "time": "2011-08-22T17:48:08Z", "bug_id": 51669, "creation_time": "2011-08-22T17:48:08Z", "is_private": false}]