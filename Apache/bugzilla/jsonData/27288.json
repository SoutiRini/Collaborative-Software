[{"text": "doug chestnut posted the following alternate menu implementation:\n\nHere is the menu.xsl that I am using for my publications navigation menu\n(add the css and javascript to your page2xhtml.xsl):\n\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n\n<xsl:stylesheet version=\"1.0\"\n    xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n    xmlns:nav=\"http://apache.org/cocoon/lenya/navigation/1.0\"\n    xmlns=\"http://www.w3.org/1999/xhtml\"\n    exclude-result-prefixes=\"nav\"\n    >\n\n<xsl:template match=\"nav:site\">\n  <div id=\"menu\"><ul id=\"navmenu\">\n    <!-- Static link -->\n    <li><a href=\"http://www.lib.virginia.edu\">UVa Library Home</a></li>\n    <xsl:apply-templates select=\"nav:node\"/>\n  </ul></div>\n</xsl:template>\n\n<xsl:template match=\"nav:node\">\n\n  <xsl:choose>\n    <!--if last menu item at top level-->\n    <xsl:when test=\"not(ancestor::nav:node) and\nnot(following-sibling::nav:node)\">\n      <li id=\"last\"><div>\n        <xsl:call-template name=\"item\"/>\n      </div>\n        <xsl:if test=\"nav:node\">\n          <ul class=\"subnav\"><xsl:apply-templates select=\"nav:node\"/></ul>\n        </xsl:if>\n      </li>\n    </xsl:when>\n    <!--first sub menu item-->\n    <xsl:when test=\"ancestor::nav:node and\nnot(preceding-sibling::nav:node)\">\n      <li id=\"firstsub\"><div>\n        <xsl:call-template name=\"item\"/>\n      </div>\n        <xsl:if test=\"nav:node\">\n          <ul class=\"subnav\"><xsl:apply-templates select=\"nav:node\"/></ul>\n        </xsl:if>\n      </li>\n    </xsl:when>\n    <xsl:otherwise>\n      <li><div>\n        <xsl:call-template name=\"item\"/>\n      </div>\n        <xsl:if test=\"nav:node\">\n          <ul class=\"subnav\"><xsl:apply-templates select=\"nav:node\"/></ul>\n        </xsl:if>\n      </li>\n    </xsl:otherwise>\n  </xsl:choose>\n\n</xsl:template>\n\n<xsl:template name=\"item\">\n    <xsl:choose>\n      <xsl:when test=\"@current = 'true'\">\n        <xsl:call-template name=\"item-selected\"/>\n      </xsl:when>\n      <xsl:otherwise>\n        <xsl:call-template name=\"item-default\"/>\n      </xsl:otherwise>\n    </xsl:choose>\n</xsl:template>\n\n<xsl:template name=\"item-default\">\n    <a href=\"{@href}\"><xsl:apply-templates select=\"nav:label\"/></a>\n</xsl:template>\n\n<xsl:template name=\"item-selected\">\n    <xsl:apply-templates select=\"nav:label\"/>\n</xsl:template>\n\n<xsl:template match=\"nav:label\">\n  <xsl:value-of select=\".\"/>\n</xsl:template>\n\n<xsl:template match=\"@*|node()\">\n  <xsl:copy>\n    <xsl:apply-templates select=\"@*|node()\"/>\n  </xsl:copy>\n</xsl:template>\n\n</xsl:stylesheet>\n\nThis is the menu that I have been using in my publication:\n\n*****html*****:\n<ul id=\"navmenu\">\n<li><a href=\"/\">UVa Library Home</a></li>\n<li><div><a href=\"/lab/features.html\">Lab Features</a></div>\n<ul class=\"subnav\">\n<li id=\"firstsub\"><a href=\"/lab/standards.html\">Standards-based Web\nSites</a></li>\n<li><a href=\"/lab/map.html\">Map of Library Locations</a></li>\n</ul>\n</li>\n<li><a href=\"/lab/comments/\">Comments</a></li>\n<li><a href=\"/questions.html\">Questions</a></li>\n<li id=\"last\"><a href=\"http://virgo.lib.virgiia.edu\">VIRGO</a></li>\n</ul>\n\n*****css*****:\n\n/* DROP MENUS */\n\nul#navmenu {\n height: 1.4em;\n position: relative;\n margin: -6px 0 0 -12px;\n padding: 0;\n font-size: 11px;\n list-style: none;\n white-space: nowrap;\n}\n\nul#navmenu  li {\n float: left;\n position:relative;\n width: 6em;\n height: 1.4em;\n background-color: #FFFFEA;\n padding: 0px 12px 0px 4px;\n margin: 0;\n border-top: 1px solid #963;\n border-right: 0px solid #963;\n border-bottom: 1px solid #963;\n border-left: 1px solid #963;\n text-align: left;\n}\n\n/* ie 5 mac & win hacks \\*/\nul#navmenu li {\n voice-family: \"\\\"}\\\"\";\n voice-family:inherit;\n width: auto;\n}\n\nhtml > body ul#navmenu li {\n width: auto;\n}\n/* end hacks */\n\nul#navmenu a {\n font-weight: bold;\n color: #036;\n text-decoration: none;\n margin: 0;\n padding: 0px 8px 2px 4px;\n}\n\nul#navmenu li a:hover {\n text-decoration: underline;\n}\n\nul#navmenu li#last {\n border-right: 1px solid #963;\n}\n\nul#navmenu li ul {\n display: none;\n position: absolute;\n top: 105%; /* value for ie5 */\n left: -1.5em; /* value for ie5 */\n padding: 0;\n margin: 0;\n font-weight: normal;\n list-style: none;\n}\n\n/* hack to hide from IE 5 mac & 5-6 \\*/\nul#navmenu li ul {\n voice-family: \"\\\"}\\\"\";\n voice-family: inherit;\n left: -0.1em;\n}\n\nhtml > body ul#navmenu li ul {\n left: -0.1em;\n}\n/*end hacks */\n\nul#navmenu li ul li {\n display: block;\n float: none;\n margin: 0;\n padding: 2px 4px 2px 4px;\n background-color: #FFFFEA;\n border-top: 0;\n border-right: 1px solid #963;\n border-left: 1px solid #963;\n border-bottom: 1px solid #963;\n white-space: normal;\n height: auto;\n width: 17em;\n}\n\nul#navmenu li ul li a {\n display: block;\n color: #036;\n text-decoration: none;\n height: 12px;\n margin: 0;\n padding: 0;\n}\n\nul#navmenu li ul li a:hover {\n text-decoration: underline;\n}\n\n#navmenu li:hover ul, #navmenu li.over ul {\n display: block;\n margin: 0;\n}\n\n*****javascript*****:\n//hack for CSS dropmenus in IE5x\nstartList = function() {\n if (document.all&&document.getElementById) {\nnavRoot = document.getElementById(\"navmenu\");\nfor (i=0; i<navRoot.childNodes.length; i++) {\nnode = navRoot.childNodes[i];\nif (node.nodeName==\"LI\") {\nnode.onmouseover=function() {\nthis.className+=\"over\";\n  }\n    node.onmouseout=function() {\n  this.className=this.className.replace(\"over\", \"\");\n   }\n   }\n  }\n }\n}\nwindow.onload=startList;\n\n****end****\n\nIt is all css (except a few hacks for odd browsers) and best of all it\ndoesn't use tables (Just a plain old unordered list for the sake of\naccessibility).", "tags": [], "creator": "gregor@apache.org", "is_private": false, "count": 0, "id": 53100, "time": "2004-02-27T09:01:40Z", "bug_id": 27288, "creation_time": "2004-02-27T09:01:40Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 27288, "text": "make sure the dev list is kept in the loop. sorry for the spam.", "id": 66770, "time": "2004-11-11T23:39:52Z", "creator": "gregor@apache.org", "creation_time": "2004-11-11T23:39:52Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 27288, "attachment_id": null, "id": 97634, "time": "2007-01-04T05:23:29Z", "creator": "nettings@apache.org", "creation_time": "2007-01-04T05:23:29Z", "is_private": false, "text": "this would be a very nice thing to have for 1.4.1."}, {"count": 3, "tags": [], "bug_id": 27288, "text": "Has this issue already been addressed?", "id": 124398, "time": "2009-01-27T07:51:48Z", "creator": "andreas@apache.org", "creation_time": "2009-01-27T07:51:48Z", "is_private": false, "attachment_id": null}]