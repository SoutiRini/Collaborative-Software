[{"count": 0, "tags": [], "bug_id": 4069, "attachment_id": null, "id": 6539, "time": "2001-10-10T05:37:29Z", "creator": "gilles.philippart@ota.fr.socgen.com", "creation_time": "2001-10-10T05:37:29Z", "is_private": false, "text": "The following configuration (located in the default web.xml file) seems to \noverride context definitions :\n\n<!-- The mapping for the invoker servlet -->\n<servlet-mapping>\n    <servlet-name>invoker</servlet-name>\n    <url-pattern>/servlet/*</url-pattern>\n</servlet-mapping>\n\nfor example i would like to define 2 context mapping the same webapp for \ncompatibility reasons : \n\n<Host name=\"dpeapc8\" appBase=\"webapps\" unpackWARs=\"true\">\n        <Alias>dpeapc8.ota.marc.societe-generale.fr</Alias>\n        <Context path=\"/myfavoriteapp\" docBase=\"web-averagefee\" debug=\"0\" \nreloadable=\"true\"/>\n        <Context path=\"/servlet/myfavoriteapp\" docBase=\"web-averagefee\" \ndebug=\"0\" reloadable=\"true\"/>\n    </Host>\n\nthe problem is that the Invoker is called and tries to find the 'myfavoriteapp' \nservlet instead of calling the web-averagefee webapp.\n\nIn tomcat 3.2.1 it worked ok : the webapp was effectively called and the \ninvoker did not override the context definition"}, {"count": 1, "tags": [], "text": "It looks to be working for me. Did you do something else to get that problem ?\n\nHere's what I did.\n- Create some webapp folder in my vhost\n- Copy the hello world servlet + snoop servlet in the class repository of the \nroot webapp\n- Define some conflicting mappings:\n      <Host name=\"c538761-b\" debug=\"0\" appBase=\"webapps2\" unpackWARs=\"true\">\n          <Context path=\"/HelloWorldExample\" docBase=\"tomcat-docs\" debug=\"0\" \nreloadable=\"true\"/>\n          <Context path=\"/servlet/HelloWorldExample\" docBase=\"tomcat-docs\" \ndebug=\"0\" reloadable=\"true\"/>\n      </Host>\n- Then try a few conflicting URLs\n\n\"/servlet/HelloWorldExample\" goes to the second context.\n\"/HelloWorldExample\" goes to the first context.\n\"/servlet/SnoopServlet\" is served by the root context, and displays the results \nof the snoop servlet.\n\nI can't see any differences between what I did and what you describe.", "is_private": false, "id": 6550, "creator": "remm@apache.org", "time": "2001-10-10T10:49:33Z", "bug_id": 4069, "creation_time": "2001-10-10T10:49:33Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "gilles.philippart@ota.fr.socgen.com", "attachment_id": null, "text": "In fact, the web-averagefee is a struts webapp and hasn't any servlet (except \nthe controller servlet from the struts framework). \n\nThere is NO myfavoriteapp servlet (whereas there IS a HelloWorldExample servlet \nin your example). It's just an fancy name for the users (of course, they could \nuse \"http://myserver:8080/myfavoriteapp\" but in some of their excel spreadsheet \nthere are many references to \"http://myserver:8080/servlet/myfavoriteapp\" all \nover the place and i don't want them to change all these occurences).", "id": 6557, "time": "2001-10-10T12:22:31Z", "bug_id": 4069, "creation_time": "2001-10-10T12:22:31Z", "is_private": false}, {"count": 3, "tags": [], "text": "If I don't have the HelloWorldExample servlet in the repositories, it works the \nsame.", "is_private": false, "id": 6559, "creator": "remm@apache.org", "time": "2001-10-10T12:32:09Z", "bug_id": 4069, "creation_time": "2001-10-10T12:32:09Z", "attachment_id": null}]