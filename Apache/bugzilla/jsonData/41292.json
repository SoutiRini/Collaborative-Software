[{"count": 0, "tags": [], "creator": "andre.fuegenschuh@gmx.de", "attachment_id": null, "id": 97656, "time": "2007-01-04T13:28:45Z", "bug_id": 41292, "creation_time": "2007-01-04T13:28:45Z", "is_private": false, "text": "With the <javadoc> task I use a nested <packageset> element for my own project\npackages and a the \"sourcepath\" attribute to link the JDK sources for to get\nsome descendant comments via {@inheritDoc}, like so:\n\nclass Foo extends JComponent {\n  /**\n   * {@inheritDoc}<p/>\n   * My additional comments ...\n   */\n  public someJComponentMethod() {\n    super.someJComponentMethod()\n    ...\n  }\n}\n\nMy task looks like the following example:\n\n<javadoc\n  destdir=\"${destdir}\"              // my output dir\n  sourcepath=\"${sourcepath}\"        // the *unzipped* JDK sources\n  classpathref=\"${classpathref}\"    // additional, external libraries.\n  .../>\n\n  ...\n  <packageset dir=\"${src}\"          // my sources dir\n              includes=\"${pkg}/**\"  // my project package\n              excludes=\"${pkg.resources}/**\"/>\n  ...\n</javadoc>\n\nThat way it works with Ant 1.6.*.\n\nWith Ant 1.7.0 (and Java 6 std. doclet), the entire JDK sources are loaded for\nbeing documented!\n\ntask output:\n\nLoading source files for package {my package}...\nLoading source files for package {*all* JDK sources}...\n...\n\nI played a bit around with a combined <classpath> nested element and with\n<excludepackage> and the like, but can't find a solution.\n\nA bug (?) or is there another (new?) way to get the desired behaviour?"}, {"count": 1, "text": "sourcepath does more than you think 8and yes, this has been added in 1.7.x).\n\nsee also bug #47196 or bug #47790 and the updated documentation in svn revision 786510\n\nUnfortunately I'm not familar enough with the Java6 standard doclet to know what it really needs for @inheritdocs to work.  Maybe excludepackagenames=\"*\" would work in combination with your sourcepath attribute.", "creator": "bodewig@apache.org", "attachment_id": null, "id": 130210, "time": "2009-09-08T08:00:04Z", "bug_id": 41292, "creation_time": "2009-09-08T08:00:04Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "text": ">> is there another (new?) way to get the desired behaviour?\n\nI finally managed to invent a workaround for getting the {@inheritDoc} (explicit or implied) to work with Ant. (I had updated bug #47790 before I saw this one)\n\nI ran into this issue while attempting to create a javadoc task equivalent to the\nfollowing javadoc command which generates a couple hundred\ndocumentation files\n(http://code.google.com/p/filewise/source/browse/#svn/trunk/docs/api):\n\njavadoc -private -sourcepath\n/System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home/src -source 1.6\n-J-Xmx128m -d docs/api src/com/filewise/*.java\nsrc/com/applcore/java/*/*.java\n\nAs indicated, the following seemingly equivalent task definition \"does more\" in that\nit generates several thousand output files including doc for all of the JDK source\nfiles (requiring the memory to be increased to -Xmx768m), which takes about 25\nminutes:\n\n<property name=\"sdk.java.src\" \nlocation=\"/System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home/src\"/>\n<!-- that property is actually set differently with <whichresource> depending on\nwhether we're on Mac, Linux or Windows -->\n\n<target name=\"doc\" depends=\"init\">\n   <javadoc access=\"protected\" destdir=\"docs/api\" source=\"1.6\"\nmaxmemory=\"768m\">\n      <packageset dir=\"src\"/>\n      <sourcepath>\n         <pathelement location=\"${sdk.java.src}\"/>\n      </sourcepath>\n   </javadoc>\n</target>\n\nI tried the \"don't specify the sourcepath attribute at all\" solution, but then it no\nlonger picks up the inherited comments from the JDK, which makes sense, since\nthere's no longer anything to indicate where the JDK source files are.  Thus all of\nthe \"Description copied from ...\" comments disappeared from the output files.\n \nI tried adding \"-sourcepath\" as an additionalparam, but strangely it thought there\nwas more than one \"-sourcepath\", until I replaced\n\"<packageset>\" with \"<fileset>\".  So the final workaround for properly specifying\nthe \"-sourcepath\" parameter appears to be:\n\n<target name=\"doc\" depends=\"init\">\n   <javadoc access=\"protected\" destdir=\"docs/api\" source=\"1.6\"\nmaxmemory=\"768m\" additionalparam=\"-sourcepath ${sdk.java.src}\">\n      <fileset dir=\"src\">\n         <include name=\"*.java\"/>\n         <include name=\"**/*.java\"/>\n      </fileset>\n   </javadoc>\n</target>\n\nIt now generates only 250 files and runs in as little as 128m, or with more memory\ntakes 25 seconds rather than 25 minutes.\n\nRob S. http://Lnkd.com?24", "is_private": false, "bug_id": 41292, "id": 132371, "time": "2009-11-28T17:18:49Z", "creator": "robs.apache4@MailScreen.com", "creation_time": "2009-11-28T17:18:49Z", "attachment_id": null}]