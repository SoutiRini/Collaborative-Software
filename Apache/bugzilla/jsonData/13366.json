[{"count": 0, "tags": [], "creator": "jrumney@altio.com", "attachment_id": null, "id": 24074, "time": "2002-10-07T16:06:23Z", "bug_id": 13366, "creation_time": "2002-10-07T16:06:23Z", "is_private": false, "text": "org.apache.catalina.core.StandardWrapper.unload() contains the following code:\n\n        // Loaf a while if the current instance is allocated\n        // (possibly more than once if non-STM)\n        if (countAllocated > 0) {\n            boolean first = true;\n            while (countAllocated > 0) {\n                if (first) {\n                    log(\"Waiting for \" + countAllocated +\n                        \" instance(s) to be deallocated\");\n                    first = false;\n                }\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    ;\n                }\n            }\n        }\n\nIf a web application is designed to provide a continuous stream of data which\nnever ends, the above loop is effectively an infinite loop.  Perhaps after some\ntimeout it would be better if Tomcat went ahead and unloaded the web application\nregardless of the open connections."}, {"count": 1, "tags": [], "text": "This is fixed in 4.1.5 and later.", "is_private": false, "bug_id": 13366, "id": 61009, "time": "2004-07-22T22:22:11Z", "creator": "markt@apache.org", "creation_time": "2004-07-22T22:22:11Z", "attachment_id": null}]