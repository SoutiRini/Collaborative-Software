[{"count": 0, "tags": [], "text": "We have Tomcat 5.5.7 Server configured in SunOS 5.8 box. Our web service\napplication is deployed in tomcat.\nThis application is invoked using a Service URL (SOAP over http) and AXIS.\n\nProblem Description : \nOnce in a while (does not occur often) the tomcat server responds very slowly\nand consumes more CPU. \nwhen this happens we see lot of internal threads of tomcat which are active and\none of the light weight thread takes the major share of CPU.\nAfter a while the server hangs (responds slowly) and will finally stops dumping\nthe java core dump in catalina.out file.\n\nWe were able monitor this for our 2 servers. One of the server stopped and we\nfound the core dump in catalina.out\n\nSecond server was responding very slowly and was taking more CPU. \n\nSUN has asked us to change the Garbage collection (GC) method.\nThis helps to answer the Server pause and sudden increase in CPU usage by one of\nthe light weight process (JV thread for GC) \n\nBut Java core dump in generated when server came down shows lot many threads \n\nSome of them are locked and stacktrace is similar to - \n         \"http-8082-Processor350\" daemon prio=5 tid=0x00a64978 nid=0x24b68 in\nObject.wait() [5b801000..5b8019c0]\n             at java.lang.Object.wait(Native Method)\n             at java.lang.Object.wait(Object.java:429)\n             at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:656)\n             - locked <0x75e9ee28> (a\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n             at java.lang.Thread.run(Thread.java:534)\n\nSome of them have following stacktrace - \n\n    \"http-8080-Processor125\" daemon prio=5 tid=0x0135e148 nid=0x4ca32 runnable\n[69f00000..69f019c0]\n        at java.net.SocketInputStream.socketRead0(Native Method)\n        at java.net.SocketInputStream.read(SocketInputStream.java:129)\n        at java.io.BufferedInputStream.fill(BufferedInputStream.java:183)\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:222)\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:277)\n        - locked <0x8cc5e478> (a java.io.BufferedInputStream)\n        at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:756)\n        at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:711)\n        at\nsun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:635)\n        - locked <0x8cc578a0> (a sun.net.www.protocol.http.HttpURLConnection)\n        at\ncom.wfb.ivs.image.persistence.connection.DEXConnector.read(DEXConnector.java:422)\n\n \nWe dont know why these threads are locked..Is this a problem with tomcat ?\nCan any one help us to figure this out.\n\nThanks\nNaveen.", "attachment_id": null, "bug_id": 35507, "id": 76715, "time": "2005-06-26T07:08:47Z", "creator": "dnkumar1@rediffmail.com", "creation_time": "2005-06-26T07:08:47Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 15539\nThis file has got snap shot prstat command results, core dump and pstack results.", "attachment_id": 15539, "bug_id": 35507, "id": 76749, "time": "2005-06-27T21:57:26Z", "creator": "dnkumar1@rediffmail.com", "creation_time": "2005-06-27T21:57:26Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 35507, "attachment_id": 15540, "id": 76750, "creation_time": "2005-06-27T21:58:25Z", "time": "2005-06-27T21:58:25Z", "creator": "dnkumar1@rediffmail.com", "text": "Created attachment 15540\nThis file has core dump of the tomcat server. This was generated when server came down.", "is_private": false}, {"count": 3, "tags": [], "creator": "remm@apache.org", "text": "Please post to tomcat-user instead.\n\nWe cannot provide direct 1-1 user support, I hope you understand that, so we\nonly accept reasonably convincing bug reports (here, you have plenty of HTTP\ncalls inside your servlets apparently hanging, which is not Tomcat related).", "id": 76751, "time": "2005-06-27T22:11:12Z", "bug_id": 35507, "creation_time": "2005-06-27T22:11:12Z", "is_private": false, "attachment_id": null}]