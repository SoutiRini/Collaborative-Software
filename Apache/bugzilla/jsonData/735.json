[{"count": 0, "tags": [], "bug_id": 735, "text": "If I have a parameter I want to use as part of an apply/exec/execon task and it contains quotes, I have to pass it as a value, not as part of a line.  If I pass it as part of a line, then the quotes get stripped.  In practice, this is a problem because we're compiling with GCC and we have rather extensive properties defined with data like:\n\n   -DVERSION_STRING=\"1.0.0\" -DBUILD_STRING=\"51\"\n\nI've put together a demonstration project.  It uses echo for the executable, and it obviously strips the quotes from an otherwise valid parameter.  The behavior is consistent with all three tasks noted.\n\n\n<project name=\"applyBug\" default=\"all\">\n\n <property name=\"argline\" value=\"-Dsomevar=&quot;a quoted value&quot;\"/>\n\n <target name=\"all\" depends=\"doApply,doExecOn,doExec\"/>\n\n<target name=\"doApply\">\n <apply dest=\"${basedir}\" executable=\"echo\">\n  <arg line=\"${argline}\"/>\n  <fileset dir=\"${basedir}\">\n   <patternset includes=\"*.c\"/>\n  </fileset>\n  <mapper type=\"glob\" from=\"*.c\" to=\"*.o\"/>\n </apply>\n</target>\n\n<target name=\"doExecOn\">\n <execon executable=\"echo\">\n  <arg line=\"${argline}\"/>\n  <fileset dir=\"${basedir}\">\n   <patternset includes=\"*.c\"/>\n  </fileset>\n </execon>\n</target>\n\n<target name=\"doExec\">\n <exec executable=\"echo\">\n  <arg line=\"${argline} file2.c file2.c\"/>\n </exec>\n</target>\n\n</project>", "id": 887, "time": "2001-02-27T11:07:48Z", "creator": "cholmes@4d.com", "creation_time": "2001-02-27T11:07:48Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 735, "attachment_id": null, "id": 3477, "time": "2001-07-07T07:19:38Z", "creator": "conor@apache.org", "creation_time": "2001-07-07T07:19:38Z", "is_private": false, "text": "I have verified that this works as expected on NT4. You need to be careful about\necho as it may stripping the quotes."}, {"count": 2, "tags": [], "bug_id": 735, "attachment_id": null, "id": 3662, "time": "2001-07-11T23:17:15Z", "creator": "bodewig@apache.org", "creation_time": "2001-07-11T23:17:15Z", "is_private": false, "text": "I've checked on Linux and FreeBSD (I think the later is close enough to MacOS X):\n\n<project name=\"dummy\" default=\"dummy\">\n  <target name=\"dummy\">\n    <exec executable=\"ls\">\n      <arg value=\"-l\" />\n      <arg value=\"DVERSION_STRING=&quot;1.0.0&quot;\" />\n    </exec>\n  </target>\n</project>\n\nresults in \n\n> ant -f /tmp/testarg.xml \nBuildfile: /tmp/testarg.xml\n\ndummy:\n     [exec] /bin/ls: DVERSION_STRING=\"1.0.0\": Datei oder Verzeichnis nicht gefunden\n     [exec] Result: 1\n\nBUILD SUCCESSFUL\n\nTotal time: 1 second\n\nso the quotes get passed to the ls call.\n\ntried with JDK 1.1.8 and 1.3.0 (the later on Linux only) using Ant 1.4alpha\nfrom 2001-07-12"}]