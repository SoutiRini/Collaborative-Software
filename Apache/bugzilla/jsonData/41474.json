[{"count": 0, "tags": [], "bug_id": 41474, "attachment_id": null, "text": "There are always two text nodes with the value '\\n' in succession within\n<ds:SignedInfo> and <ds:X509IssuerSerial>. If we have signed some elements and\nwish to add another signature with xpath as the tranform, then we get the\nruntime exception that says could not found a node to a handle (raised by\nxalan-J). After the debug I found the responding codes as in following:\n\n\n[01]  public SignedInfo(\n[02]         Document doc, Element SignatureMethodElem, Element\nCanonicalizationMethodElem)\n[03]             throws XMLSecurityException {\n[04]\n[05]     super(doc);\n[06]     this._constructionElement.appendChild(CanonicalizationMethodElem);\n[07]     XMLUtils.addReturnToElement(this._constructionElement);\n[08]     //Check this?\n[09]     this.c14nMethod=CanonicalizationMethodElem;\n[10]     this._constructionElement.appendChild(c14nMethod);\n[11]     XMLUtils.addReturnToElement (this._constructionElement);\n  \n      this._signatureAlgorithm = new SignatureAlgorithm(SignatureMethodElem, null);\n\n      signatureMethod=this._signatureAlgorithm.getElement();\n      this._constructionElement.appendChild(signatureMethod);\n     \n      XMLUtils.addReturnToElement(this._constructionElement);\n   }\n\nLine 06 and 10 add the same element twice, hence line 06 has no effect. But the\ntext-node with the value \"\\n\" added at line 07 is remained there.\n\n[01] public XMLX509IssuerSerial(Document doc, String X509IssuerName,\n[02]                             BigInteger X509SerialNumber) {\n[03]    super(doc);\n[04]\n[05]      XMLUtils.addReturnToElement(this._constructionElement);\n[06]      this.addTextElement(X509IssuerName, Constants._TAG_X509ISSUERNAME);\n[07]      XMLUtils.addReturnToElement(this._constructionElement);\n[08]      this.addTextElement(X509SerialNumber.toString(),\nConstants._TAG_X509SERIALNUMBER);\n[09]   }\n\nLine 07 should be removed, since '\\n' is added in line 06.", "id": 98558, "time": "2007-01-26T02:09:46Z", "creator": "lijun.liao@gmail.com", "creation_time": "2007-01-26T02:09:46Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 41474, "is_private": false, "id": 99337, "attachment_id": null, "creator": "sean.mullan@oracle.com", "creation_time": "2007-02-13T11:32:27Z", "time": "2007-02-13T11:32:27Z", "text": "Fixed. Thanks for providing the fix."}, {"count": 2, "tags": [], "bug_id": 41474, "is_private": false, "id": 108404, "attachment_id": null, "creator": "sean.mullan@oracle.com", "creation_time": "2007-09-19T12:25:45Z", "time": "2007-09-19T12:25:45Z", "text": "Closing old bugs. Fixed in 1.4.1"}]