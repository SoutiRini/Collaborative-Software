[{"attachment_id": null, "tags": [], "bug_id": 22303, "is_private": false, "count": 0, "id": 42547, "time": "2003-08-11T14:22:46Z", "creator": "tjsb@slb.com", "creation_time": "2003-08-11T14:22:46Z", "text": "Tried a test build without the javax.mail jar, and found that WebServiceSampler \ngives a compilation error at line 415: it seems that the getContentType() \nmethod requires javax.mail.MessagingException.\n\nNot sure if this means that WebServiceSampler should only be included if \njavax.mail is present, as is done for some other parts of JMeter, or whether \nthe source file is using the wrong method. Or perhaps this is a bug in soap.jar?"}, {"count": 1, "tags": [], "creator": "woolfel@yahoo.com", "attachment_id": null, "id": 42551, "time": "2003-08-11T15:21:35Z", "bug_id": 22303, "creation_time": "2003-08-11T15:21:35Z", "is_private": false, "text": "the reason java mail is needed is because Apache SOAP driver requires Java \nMail. The component document mentions this, but I will double check to make \nsure the information is correct."}, {"count": 2, "tags": [], "bug_id": 22303, "attachment_id": null, "id": 42586, "time": "2003-08-11T22:40:08Z", "creator": "tjsb@slb.com", "creation_time": "2003-08-11T22:40:08Z", "is_private": false, "text": "You're right - Apache SOAP requires Java Mail, and I've since found that \ngetContentType() is documented as throwing javax.mail.MessagingException.\n\nBut this still leaves a problem with build.xml, hence I'm re-opening the call.\n\nEither build.xml needs to omit WebServiceSampler if Java Mail is missing, or \nmail.jar and activation.jar need to be added to the list of dependencies for \nJMeter (in which case the checks in build.xml should probably report an error \nif Java Mail is missing).\n\nI favour the former, which would allow JMeter to be built successfully without \nJava Mail."}, {"text": "thanks for the detailed explanation. I will double check the build file and see \nif I can make a patch.\n\npeter", "tags": [], "bug_id": 22303, "is_private": false, "count": 3, "id": 42629, "time": "2003-08-12T14:37:41Z", "creator": "woolfel@yahoo.com", "creation_time": "2003-08-12T14:37:41Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "mstover1@apache.org", "is_private": false, "text": "I've added an exclude clause to the build file for the web service sampler.\n\nHowever, that doesn't change the fact that it shows up in the menus on systems\nthat have no mail jars present - a runtime check needs to be made for whether\nmail is supported.", "id": 42643, "time": "2003-08-12T19:27:42Z", "bug_id": 22303, "creation_time": "2003-08-12T19:27:42Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 22303, "attachment_id": null, "text": "WebServiceSamplerGui imports WebServiceSampler, so the Gui needs to be \nexcluded as well, otherwise java tries to compile WebServiceSampler, even \nthough Ant excludes it (which confused me for a while - I thought the unless \nclause was not working).\n\ni.e. the following exclude line needs to be added:\n<exclude \nname=\"org/apache/jmeter/protocol/http/control/gui/WebServiceSamplerGui.java\" \nunless=\"javamail.complete\"/>", "id": 42929, "time": "2003-08-18T17:18:59Z", "creator": "tjsb@slb.com", "creation_time": "2003-08-18T17:18:59Z", "is_private": false}, {"count": 6, "tags": [], "creator": "woolfel@yahoo.com", "is_private": false, "text": "I've updated the documentation to mention the required jar files.", "id": 51054, "time": "2004-01-23T15:43:32Z", "bug_id": 22303, "creation_time": "2004-01-23T15:43:32Z", "attachment_id": null}]