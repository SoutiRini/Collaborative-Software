[{"count": 0, "tags": [], "creator": "bruno.antunes@pararede.com", "attachment_id": null, "id": 77075, "time": "2005-07-07T16:17:17Z", "bug_id": 35648, "creation_time": "2005-07-07T16:17:17Z", "is_private": false, "text": "This issue is not related with Tomcat 5, but with the JULI ClassLoaderLogManager\nimplementation in Tomcat.\n\nUsing an Anonymous Logger, we get NPE:\n\nException in thread \"main\" java.lang.NullPointerException\n        at java.util.logging.Logger.doSetParent(Logger.java:1360)\n        at java.util.logging.Logger.getAnonymousLogger(Logger.java:314)\n        at com.pararede.test.juli.Main.main(Main.java:11)\n\nSample Code:\n=== START HERE ===\npackage com.pararede.test.juli;\n\nimport java.util.logging.*;\n\npublic class Main {\n    \n    public Main() {\n    }\n    \n    public static void main(String[] args) {\n        Logger.getAnonymousLogger().log(Level.INFO , \"some log\");\n    }    \n}\n=== END HERE ==="}, {"count": 1, "tags": [], "bug_id": 35648, "attachment_id": null, "id": 77409, "time": "2005-07-19T00:01:39Z", "creator": "remm@apache.org", "creation_time": "2005-07-19T00:01:39Z", "is_private": false, "text": "The CVS HEAD has lots of fixes which make it behave very similarly to the\njava.util.logging implementation, and this appears to work now. For some reason,\nit also works for me in 5.5.9, so please submit a test war if it doesn't work\nwith the CVS build.\n\n<%\njava.util.logging.Logger.getAnonymousLogger().log(java.util.logging.Level.INFO ,\n\"some log\"); %>"}, {"count": 2, "attachment_id": null, "creator": "bruno.antunes@pararede.com", "is_private": false, "id": 78002, "time": "2005-08-03T14:08:03Z", "bug_id": 35648, "creation_time": "2005-08-03T14:08:03Z", "tags": [], "text": "My point of reporting this issue was for usage outside of Tomcat and using\nAnonymous loggers. You could tel me that is is unsupported.\n\nWith the release of juli that comes with 5.5.9 the error I reported allways happens.\n\nI have tested with the new release 5.5.10-alpha and this is solved, so something\nwas changed.\n\nYou could considering having JULI as a jakarta-commons sub-project, or as a\nsubroject of logging.apache.org.\n"}, {"count": 3, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 78005, "time": "2005-08-03T14:48:33Z", "bug_id": 35648, "creation_time": "2005-08-03T14:48:33Z", "is_private": false, "text": "(In reply to comment #2)\n> My point of reporting this issue was for usage outside of Tomcat and using\n> Anonymous loggers. You could tel me that is is unsupported.\n> \n> With the release of juli that comes with 5.5.9 the error I reported allways\nhappens.\n> \n> I have tested with the new release 5.5.10-alpha and this is solved, so something\n> was changed.\n> \n> You could considering having JULI as a jakarta-commons sub-project, or as a\n> subroject of logging.apache.org.\n\njava.util.logging is designed to be pluggable by replacing the the sigleton\nLogManager, and providing one which is tuned for your application/container/etc.\nSo the (only) LogManager provided is tuned for the Tomcat classloading\nhierarchy. For other usages, there's of course the possibility of reusing\nportions of the code, but it would likely be better to use another LogManager\nwith a different behavior.\n\nA JULI project elsewhere would be fine, as a collection of:\n- various LogManager implementations\n- Handler implementations\n- also implementations of other accessory components like formatters\n"}]