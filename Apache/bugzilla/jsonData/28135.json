[{"count": 0, "tags": [], "bug_id": 28135, "is_private": false, "id": 55077, "attachment_id": null, "creator": "patrick.luby@planamesa.com", "creation_time": "2004-04-01T17:08:56Z", "time": "2004-04-01T17:08:56Z", "text": "On some Windows configuration running a Sun JVM (version of the JVM does not\nmatter), the <exec> will hang when the spawned process finishes.\n\nThe hanging occurs because the JVM does not close the underlying pipes that the\norg.apache.tools.ant.taskdefs.PumpStreamHandler class reads from. As a result,\nthe PumpStreamHandler instances will be forever blocked in a read() call.\n\nAttached is a patch to the PumpStreamHandler class that allows Ant to resume\noperation after a reasonable period of time when this occurs."}, {"count": 1, "tags": [], "bug_id": 28135, "attachment_id": 11087, "id": 55082, "time": "2004-04-01T17:29:42Z", "creator": "patrick.luby@planamesa.com", "creation_time": "2004-04-01T17:29:42Z", "is_private": false, "text": "Created attachment 11087\nPatch file for Ant HEAD branch"}, {"count": 2, "tags": [], "creator": "mbenson@apache.org", "attachment_id": null, "text": "Can you provide us a means of reproducing this problem?", "id": 55085, "time": "2004-04-01T17:31:47Z", "bug_id": 28135, "creation_time": "2004-04-01T17:31:47Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 28135, "is_private": false, "id": 63865, "attachment_id": 12796, "creator": "alexmcmanus@bigfoot.com", "creation_time": "2004-09-20T11:42:32Z", "time": "2004-09-20T11:42:32Z", "text": "Created attachment 12796\nTest file 1"}, {"count": 4, "tags": [], "text": "Created attachment 12797\nTest file 2.", "is_private": false, "id": 63866, "creator": "alexmcmanus@bigfoot.com", "time": "2004-09-20T11:43:38Z", "bug_id": 28135, "creation_time": "2004-09-20T11:43:38Z", "attachment_id": 12797}, {"count": 5, "tags": [], "bug_id": 28135, "text": "I've attached two files that may demonstrate symptoms of the same underlying \nproblem. \n\nTomcatTest.xml does a spawned exec on the Tomcat startup.bat file. If you run \nthis directly, Tomcat starts and the script exits as you would expect.\n\nExecTest.xml does an exec command on Ant, to run TomcatTest (i.e. there is a \nnested exec). Under this scenario, it reports that TomcatTest builds \nsuccessfully, but the process does not exit (the \"After\" message in \nExecTest.xml is never reached). If I shutdown Tomcat from the Start menu, the \nAnt build then completes.\n\nThe only workaround that I have for this is to spawn both exec commands. \n\nYou will need to edit the path to Ant in ExecTest.xml and the path to Tomcat in \nTomcatTest.xml to get this working.", "id": 63867, "attachment_id": null, "creator": "alexmcmanus@bigfoot.com", "creation_time": "2004-09-20T11:49:28Z", "time": "2004-09-20T11:49:28Z", "is_private": false}, {"count": 6, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of 5003 ***", "attachment_id": null, "id": 83164, "creator": "dockerysean@gmail.com", "time": "2005-12-03T05:18:46Z", "bug_id": 28135, "creation_time": "2005-12-03T05:18:46Z", "is_private": false}]