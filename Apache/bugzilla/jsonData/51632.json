[{"count": 0, "tags": [], "creator": "michael_furman@hotmail.com", "attachment_id": 27360, "id": 148474, "time": "2011-08-08T09:51:48Z", "bug_id": 51632, "creation_time": "2011-08-08T09:51:48Z", "is_private": false, "text": "Created attachment 27360\nThe AuthenticatorBase.java file with fix\n\nBug in the Session Fixation Protection Feature\nThe Session Fixation Protection feature was added to Apache Tomcat 7 and Apache Tomcat 6.\nThe feature can be problematic if an application does not use Form Authenticator and in addition the application creates a session.\nIn this case the session will not be created by an authenticator and upon the next request the session fixation protection feature in the authenticator will recreate the session. The problem, that the application can lose its state.\nHow to fix the bug?\nPlease find attached patch for Apache Tomcat 7 \nThe fix will allow to authenticator to create a session upon the authentication and the application will not require to create a session.\nTomcat 7 already has variable alwaysUseSession, but unfortunately Tomcat 7 does not have the variable \u2013 so I just copy it to the same class\nBTW, I think that better name for the variable is enforceSessionCreation\nWhen it will be released, it will be required to configure context of your application (not the main context $CATALINA_BASE/conf/context.xml)\n<Context>\n  <Valve className=\"org.apache.catalina.authenticator.BasicAuthenticator\" alwaysUseSession=\"true\"/>  \n</Context>"}, {"count": 1, "tags": [], "bug_id": 51632, "attachment_id": null, "text": "\n\n*** This bug has been marked as a duplicate of bug 51631 ***", "id": 148475, "time": "2011-08-08T09:57:52Z", "creator": "markt@apache.org", "creation_time": "2011-08-08T09:57:52Z", "is_private": false}]