[{"count": 0, "tags": [], "bug_id": 35715, "text": "The call to the ISAPI function WriteClient should have a reasonable large \nbuffer for high latency links, because IIS waits for the data to get ACKed \nbefore sending more data.\n\nThe actual implementation uses only an 8k buffer for sending to the browser. It \nwould be very helpful to have the buffer size configurable in the worker config \nfile. The buffer size should be higher than the TCP window (bandwidth x delay \nproduct).\n\nThere are various definitions for buffer sizes. In this case the DEF_BUFFER_SZ \nin jk_msg_buff.h is probably the interesting one.\n\njk_msg_buff.h:#define DEF_BUFFER_SZ (8 * 1024)\njk_ajp12_worker.c:#define READ_BUF_SIZE           (8*1024)\njk_ajp13.h:#define AJP13_READ_BUF_SIZE         (8*1024)\njk_ajp14.h:#define AJP14_READ_BUF_SIZE         (8*1024)\njk_sockbuf.h:#define SOCKBUF_SIZE (8*1024)\njk_status.c:#define HUGE_BUFFER_SIZE (8*1024)\njk_util.c:#define HUGE_BUFFER_SIZE (8*1024)", "id": 77252, "time": "2005-07-13T11:23:37Z", "creator": "ubohnert@munichre.com", "creation_time": "2005-07-13T11:23:37Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 35715, "attachment_id": null, "id": 82896, "time": "2005-11-27T23:03:50Z", "creator": "yoavs@computer.org", "creation_time": "2005-11-27T23:03:50Z", "is_private": false, "text": "Changing to an enhancement request.  Ulrich, as you can see it has already been\n>4 months since this issue has been opened, so the chances of this being\nimplemented quickly are slim.  If you have a patch ready, please attach it to\nthis issue and we'll gladly evaluate/commit it."}, {"count": 2, "tags": [], "creator": "ubohnert@munichre.com", "attachment_id": null, "text": "The output performance can probably be enhanced with the new registry key in \nWindows2003SP1 MaxBufferedSendBytes:\nhttp://support.microsoft.com/default.aspx?scid=kb;en-us;906977\n\nHowever, it would be better to have the buffers in JK configurable also.\n\n", "id": 84680, "time": "2006-01-16T18:37:04Z", "bug_id": 35715, "creation_time": "2006-01-16T18:37:04Z", "is_private": false}]