[{"count": 0, "attachment_id": null, "bug_id": 40909, "is_private": false, "id": 95474, "time": "2006-11-06T06:10:18Z", "creator": "reconway@egrok.com", "creation_time": "2006-11-06T06:10:18Z", "tags": [], "text": "With Apache 2.2.3 and Tomcat 5.5.20 configured to pass dynamic requests to\nTomcat using either mod_jk or mod_proxy_ajp, the tomcat process starts using 50%\nof the cpu after the application is first accessed and stays at that level\nindefinitely.  If you switch back to Tomcat 5.5.17, this no longer occurs, the\ncpu stays at 1%.  The connector library used was: Tomcat Connectors 1.2.19.\nJava 1.50_09"}, {"count": 1, "tags": [], "bug_id": 40909, "attachment_id": null, "id": 95476, "time": "2006-11-06T06:18:48Z", "creator": "remm@apache.org", "creation_time": "2006-11-06T06:18:48Z", "is_private": false, "text": "If using the APR AJP connector, make sure you are not using the 1.1.4 version of\nthe APR JNI code (upgrade to 1.1.6), or set a connectionTimeout to some value on\nthe AJP Connector element."}, {"count": 2, "tags": [], "text": "No answer -> invalid.", "attachment_id": null, "bug_id": 40909, "id": 95620, "time": "2006-11-09T07:34:32Z", "creator": "remm@apache.org", "creation_time": "2006-11-09T07:34:32Z", "is_private": false}, {"text": "I'm using the latest APR (1.2.7) that ships with Apache 2.2.3 windows binary.", "tags": [], "bug_id": 40909, "attachment_id": null, "count": 3, "id": 95700, "time": "2006-11-11T15:40:53Z", "creator": "reconway@egrok.com", "creation_time": "2006-11-11T15:40:53Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 40909, "attachment_id": null, "is_private": false, "id": 96390, "time": "2006-11-30T00:33:06Z", "creator": "mars@abcsolution.co.kr", "creation_time": "2006-11-30T00:33:06Z", "text": "We are having the same problem now. We first ran Tomcat 5.5.17 and Apache 2.0 \non Windows Server 2003 x86 64bit Edition. After upgrading to Tomcat 5.5.20 and \nApache 2.2, the problem persists. The connector we chose was the best that \ncould be.\n"}, {"count": 5, "attachment_id": null, "bug_id": 40909, "is_private": false, "id": 96392, "time": "2006-11-30T01:56:18Z", "creator": "mars@abcsolution.co.kr", "creation_time": "2006-11-30T01:56:18Z", "tags": [], "text": "I found the Tomcat native library(tcnative.dll?) caused the problem. When I \nstop Tomcat, remove the native library, and restart Tomcat, everything seems \nto be working fine!\n\nIMHO, this is definitely a bug..."}, {"count": 6, "tags": [], "text": "(In reply to comment #5)\n> I found the Tomcat native library(tcnative.dll?) caused the problem. When I \n> stop Tomcat, remove the native library, and restart Tomcat, everything seems \n> to be working fine!\n> \n> IMHO, this is definitely a bug...\n\nDid you try tcnative.dll 1.1.6 as Comment #1 suggests?", "attachment_id": null, "bug_id": 40909, "id": 96393, "time": "2006-11-30T02:59:26Z", "creator": "bugzilla@schoenhaber.de", "creation_time": "2006-11-30T02:59:26Z", "is_private": false}, {"count": 7, "tags": [], "text": "Where can I download tcnative-1.dll version 1.1.6?  Version 1.1.4 comes with\nTomcat 5.5.  I downloaded and installed Tomcat 6.0 beta and that includes\ntcnative-1.dll version 1.1.7.  I'm going to give that a try.  Note, to get this\ndll you have to download and install the windows binary version - and when\ninstalling check off the box that indicates \"native\".", "attachment_id": null, "bug_id": 40909, "id": 96399, "time": "2006-11-30T06:46:56Z", "creator": "reconway@egrok.com", "creation_time": "2006-11-30T06:46:56Z", "is_private": false}, {"count": 8, "attachment_id": null, "creator": "jberry@apache.org", "text": "(In reply to comment #7)\n> Where can I download tcnative-1.dll version 1.1.6? \n\nIndeed. TCNative is so hard to find it almost doesn't exist. You can find it by going to this page (http://\ntomcat.apache.org/download-connectors.cgi) and then following the \"browse download area\" link, which \nwill lead you to the \"native\" directory.", "id": 96403, "time": "2006-11-30T07:26:32Z", "bug_id": 40909, "creation_time": "2006-11-30T07:26:32Z", "tags": [], "is_private": false}, {"count": 9, "tags": [], "creator": "bugzilla@schoenhaber.de", "text": "(In reply to comment #7)\n> Where can I download tcnative-1.dll version 1.1.6?\n\nFYI:\nPrebuilt binaries for Windows and other achitectures can be found here\nhttp://tomcat.heanet.ie/native\n\n> tcnative-1.dll version 1.1.7.  I'm going to give that a try.\n\nDo that. It will propably help (as would 1.1.6).\n", "id": 96405, "time": "2006-11-30T07:43:24Z", "bug_id": 40909, "creation_time": "2006-11-30T07:43:24Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 40909, "attachment_id": null, "id": 97100, "time": "2006-12-19T15:37:36Z", "creator": "paul@mediamens.nl", "creation_time": "2006-12-19T15:37:36Z", "is_private": false, "text": "I've just ran into the same, or at least similar, problem using the following \nconfig:\nIIS 5\nTomcat 5.5.20 + tcnative-1.dll 1.1.8\nmod_jk/isapi-redirect 1.2.19\nJDK 1.5\nWindows 2000 server\n\nWhen I start Tomcat only (so no IIS), everything works fine. As soon as I start \nIIS, the CPU load pops to 100%. The task consuming the CPU is \"tomcat5.exe\".\n\nI've also tried using tcnative.dll 1.1.7, but it resulted in the same \nbehaviour. When I tried WITHOUT tcnative.dll, everything worked fine.\n\nSo whatever is it, it is NOT fixed in tcnative 1.1.6.\n\nUntil just now, I was using Tomcat 5.5.15, isapi redirector 1.2.15 and tcnative-\n1.dll 1.1.0: this combination worked fine!"}, {"count": 11, "tags": [], "text": "I had the same problem and fixed it by switching to tcnative dll 1.1.8\n(previously 1.1.4)\nMy working config :\nTomcat 5.5.20 + tcnative 1.1.8\nIIS 6.0 (in 5.0 mode)\nisapi_redirect.dll 1.2.19\nWindows 2003 server\njre 1.5.0_09\n\nHope this helps", "attachment_id": null, "bug_id": 40909, "id": 97156, "time": "2006-12-21T08:22:59Z", "creator": "mgasco83@yahoo.com", "creation_time": "2006-12-21T08:22:59Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 40909, "is_private": false, "text": "I just bumped into this very same problem.\nI also fixed it by switching to tcnative dll 1.1.8 (from whatever version was \nincluded with Tomcat 5.5.20)\n\nMy working config is:\nTomcat 5.5.20 + tcnative 1.1.8\nIIS 6.0\nisapi_redirect.dll 1.2.20\nWindows 2003 server\njdk1.4.2_12\n\nBest regards,\n\nDick Zetterberg\nhttp://www.comers.se", "id": 99728, "time": "2007-02-23T04:29:49Z", "creator": "dick.zetterberg@transit.se", "creation_time": "2007-02-23T04:29:49Z", "attachment_id": null}, {"count": 13, "tags": [], "text": "As noted in several comments, this is fixed in alter versions of the tcnative dll.", "attachment_id": null, "bug_id": 40909, "id": 99956, "time": "2007-03-01T20:21:30Z", "creator": "markt@apache.org", "creation_time": "2007-03-01T20:21:30Z", "is_private": false}, {"count": 14, "tags": [], "text": "This was related to tcnative, changed component.", "attachment_id": null, "id": 112421, "creator": "rainer.jung@kippdata.de", "time": "2008-01-01T19:21:06Z", "bug_id": 40909, "creation_time": "2008-01-01T19:21:06Z", "is_private": false}]