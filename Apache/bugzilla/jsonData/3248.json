[{"count": 0, "tags": [], "bug_id": 3248, "attachment_id": null, "text": "Using filter tokens to replace text in a weblogic script the filter token is:\n   @int.server.all.ejb.jar@.  It is being replaced with the following value:\n   $APP_HOME/ear/rental-ejb.jar  \n\nAfter copy, the replaced text has the following value:\n   APP_HOME/ear/rental-ejb.jar\n\nThe $ has been elliminated by the copy and not placed into the copied source.", "id": 4773, "time": "2001-08-23T08:29:19Z", "creator": "bromley@htc.net", "creation_time": "2001-08-23T08:29:19Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 3248, "text": "The $ syntax is significant to Ant. I'm assuming you are using something like\nvalue=\"$APP_HOME/ear/rental-ejb.jar\"\n\nTo get the $ to appear you will need to escape it by doubling it up, thus\nvalue=\"$$APP_HOME/ear/rental-ejb.jar\"\n", "id": 4902, "time": "2001-08-27T05:51:27Z", "creator": "conor@apache.org", "creation_time": "2001-08-27T05:51:27Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "bromley@htc.net", "attachment_id": null, "id": 4932, "time": "2001-08-27T19:52:09Z", "bug_id": 3248, "creation_time": "2001-08-27T19:52:09Z", "is_private": false, "text": "I understand the possible significance of the $ but the senario described  \nworks as expected under 1.3.  Has something changed in 1.4?  If so, then it \nneeds to be addressed in the documentation of what could/will break the upgrade \nfrom 1.3 to 1.4.  \n\n"}, {"count": 3, "tags": [], "creator": "conor@apache.org", "attachment_id": null, "id": 4947, "time": "2001-08-28T03:19:20Z", "bug_id": 3248, "creation_time": "2001-08-28T03:19:20Z", "is_private": false, "text": "Can you give me the build file snippet that is relevant. I'll then have a dig \naround to confirm the change and update the doco accordingly - thanks"}, {"count": 4, "text": "This is the text containing the filter token:\n\n     EJBS=@int.server.all.ejb.jar@\n     EJBS=$EJBS,$APP_HOME/ear/elocation-ejb.jar\n\nThis is the assignment of the filter token in the buildfile.  The replace value \nis being brought in from a property file:\n     \n     <filter token=\"int.server.all.ejb.jar\" value=\"${int.server.all.ejb.jar}\"/>\n\nThis is the copy task in the buildfile:\n\n    <copy todir=\"${int.dist.home}/${int.dist.name}/  \n${int.weblogic.runtime.configuration.name}\" \n      filtering=\"true\">\n      <fileset dir=\"${int.subproject.home}/\n${int.weblogic.runtime.configuration.name}\"\n          includes=\"**/*\"\n          excludes=\"**/${int.weblogic.system.name}*\"/>\n    </copy>\n\nThis is the value being brought in from the property file:\n\n     int.server.all.ejb.jar=$APP_HOME/ear/rental-ejb.jar\n\n\nThe above are snippets from a set of configurations that builds and deploys a \nweblogic configuration.  This script worked correctly under Ant 1.3 but fails \nunder 1.4.  ", "bug_id": 3248, "attachment_id": null, "id": 4952, "time": "2001-08-28T05:59:42Z", "creator": "bromley@htc.net", "creation_time": "2001-08-28T05:59:42Z", "tags": [], "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 3248, "is_private": false, "id": 5002, "time": "2001-08-29T05:55:10Z", "creator": "conor@apache.org", "creation_time": "2001-08-29T05:55:10Z", "tags": [], "text": "OK, what has actually changed is the property file handling code. This has been \nmade common with the main property resolution code. Properties defined in \nproperties files now behave the same as those defined in the build file, \nincluding the need to escape the $ character by doubling it up. \n\nI'll add  a note to WHATSNEW - thanks"}]