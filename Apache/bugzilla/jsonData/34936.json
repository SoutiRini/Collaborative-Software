[{"count": 0, "tags": [], "bug_id": 34936, "attachment_id": null, "id": 74925, "time": "2005-05-16T13:51:22Z", "creator": "stefangoor@gmail.com", "creation_time": "2005-05-16T13:51:22Z", "is_private": false, "text": "I am trying to use ant in a crontab task but it fails constantly on the <cvs> \ncommands.\n\nThe error reported from crontab is:  'cvs: not found'\nand the error logged by ant is: 'java.io.IOException: cvs: not found'\n\nCVS is available on the path as I set the PATH=/usr/local/bin:$PATH prior to \ncalling the ant command in the script that is used by crontab.\n\nI checked to see if cvs can be found in crontab when it is not is an ant \nscript and it was called without any problems.\n\nFrom my understanding of the cvs task, all it requires is for cvs to be on the \nPATH, but this does not seem to be the case.  Is there anyway of specifying \nthe location of cvs?"}, {"count": 1, "tags": [], "creator": "alexeys@inventigo.com", "attachment_id": null, "text": "In my experience, when commands are executed from cron, their environment is not set.\nYou need to execute \". ~/.profile\" before running any other commands.", "id": 74934, "time": "2005-05-16T17:40:21Z", "bug_id": 34936, "creation_time": "2005-05-16T17:40:21Z", "is_private": false}, {"count": 2, "tags": [], "text": "> Is there anyway of specifying the location of cvs?\n\nYou can always use <exec executable=\"/path/to/cvs\"> and see if it makes a \ndifference. You could also echo the PATH before executing <cvs>. Try also \n<available> to confirm it's really in the path.\n\nThen some script other than Ant's own shell script could change the \nenvironment. --DD\n\n", "is_private": false, "id": 74946, "creator": "ddevienne@lgc.com", "time": "2005-05-17T04:13:18Z", "bug_id": 34936, "creation_time": "2005-05-17T04:13:18Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "stefangoor@gmail.com", "attachment_id": null, "text": "(In reply to comment #1)\n> In my experience, when commands are executed from cron, their environment is \nnot set.\n> You need to execute \". ~/.profile\" before running any other commands.\n\nThanks for the response.  I tried calling the .profile that I normally use but \ncrontab complained because of the 'export' command on each of the variables so \nI found some information on the Internet \n(http://www.aplawrence.com/Unixart/cron.html) that said you don't need to use \nexport so I created a script that set all the variables required and then \ncalled the ant script but still no joy.\nTo check if the cvs bin directory was added I echoed the PATH to a file and \nfound it was there and also tried calling cvs directly in the script and the \ncommand was found.  It only seemed to have problems in the ant script.\n\nThanks,\nStefan", "id": 74951, "time": "2005-05-17T09:58:15Z", "bug_id": 34936, "creation_time": "2005-05-17T09:58:15Z", "is_private": false}, {"count": 4, "tags": [], "creator": "alexeys@inventigo.com", "is_private": false, "id": 74969, "creation_time": "2005-05-17T18:05:42Z", "time": "2005-05-17T18:05:42Z", "bug_id": 34936, "text": "> I found some information on the Internet \n> (http://www.aplawrence.com/Unixart/cron.html) that said you don't need to use \n> export so I created a script that set all the variables required and then \n> called the ant script but still no joy.\n\nI think this is something else. Your script is executed with some interpreter \nand that interpreter does require \"export\". In any case, add plain \"set\" command\ninto your cron job script to see what environment is set and what is missing\n(look for PATH, HOME, TMP, etc. environment variables). You may also need to\nchange the current directory before executing any commands.", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 34936, "attachment_id": null, "id": 75519, "time": "2005-05-27T15:36:45Z", "creator": "mbenson@apache.org", "creation_time": "2005-05-27T15:36:45Z", "is_private": false, "text": "ping, is this still an issue?"}, {"count": 6, "tags": [], "bug_id": 34936, "attachment_id": null, "id": 92465, "time": "2006-08-23T12:50:08Z", "creator": "stevel@apache.org", "creation_time": "2006-08-23T12:50:08Z", "is_private": false, "text": "Stefan, is this still a problem? I'm going to close it as worksforme, because\nits a cron setup problem, not ant."}]