[{"count": 0, "tags": [], "bug_id": 16984, "attachment_id": null, "id": 31105, "time": "2003-02-12T08:45:07Z", "creator": "rfall@witsend.com", "creation_time": "2003-02-12T08:45:07Z", "is_private": false, "text": "This line is the suexec.c file is in error:\n\n        fprintf(stderr, \" -D SUEXEC_UMASK=%03o\\n\", SUEXEC_UMASK);\n\nHere's why:  most users who want to define their own SUEXEC_UMASK\nvalue probably assume that, like the system umask command, the\nvalue provided is in octal.  So, in setting up the make configuration using\nthe \"configure\" script, the user would probably enter:\n\n      \"suexec-umask=22\"\n\nbelieving that this would cause the group and world write bits to be\nturned off in any file created by a program running under suexec.\n\nHowever, because of the format used in the suexec.c line above,\nthe value of  \"SUEXEC_UMASK\" is treated as a decimal value and\nconverted to octal for internal use by suexec.  The above value of\n22 (assumed by the user to already be in octal) would become\n26 inside suexec, which is definitely not what the user expected!\n\nThe proper line would be, I think:\n\n        fprintf(stderr, \" -D SUEXEC_UMASK=%03d\\n\", SUEXEC_UMASK);\n\nEither that, or the suexec documentation should be modified to make\nit clear that suexec-umask requires a decimal  value.\n\nI would prefer the first solution."}, {"count": 1, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "is_private": false, "id": 31114, "time": "2003-02-12T13:21:00Z", "bug_id": 16984, "creation_time": "2003-02-12T13:21:00Z", "text": "It's silently assumed, that people use \"suexec-umask=022\". However, changed\nconfigure to always prepend a \"0\" as 2.x configure does, too.\n\nThanks for the report and thanks for using Apache!"}]