[{"count": 0, "tags": [], "bug_id": 52702, "is_private": false, "text": "Submitting an issue as I have no idea how to resolve this myself. Not sure if is configuration issue but have no idea how to fix it either. I assume some debugging might require me to modify JMeter sources and recompile (unless I can simply enable very verbose logging).\n\nJMeter was previously working on my machine (months back). Just started accessing it again but now it fails to start (or start properly).\n\nPer the JMeter log, it fails to load \"org.apache.commons.logging.impl.LogKitLogger\".\n\nI've tried deleting JMeter folder and using a fresh downloaded extracted instance/install and also uninstalled and reinstalled Java (JRE and JDK) and those didn't help. I also checked and I have no system CLASSPATH. Echoing it on Windows via \"echo %CLASSPATH%\" shows the variable name itself, which means it's not defined. Also checked system environment variables section of Windows GUI and found nothing on class paths there.\n\nThe JMeter install does have C:\\apache-jmeter-2.6\\lib\\commons-logging-1.1.1.jar and other Jars which I believe is the JARs in question for the class that is failing to load.\n\nI'm also starting JMeter (GUI) from the batch file JMeter.bat.\n\nAnd per the JMeter wiki, section on classpath\n\nhttp://jmeter.apache.org/usermanual/get-started.html\n\nby default \"-cp\", \"-classpath\", and CLASSPATH are all ignored. So I really see no idea how the class fails to load if it is using the defaults and the class in question should already be packaged with the JMeter files.\n\nPerhaps my complete Windows system is messed up for this particular thing and no way to fix other than reinstall Windows as I already reinstalled Java but I'd hate to do that other than a last resort effort.\n\nJava works fine for other stuff. The only Java related stuff I have installed or using on system are JEdit, Eclipse, Sikuli, Selenium server JAR, Beanshell.\n\nI think at a minimum, if possible, it would help to dump out the classpath used by JMeter when classes failed to load to help debug the issue.\n\nFull details of log below.\n\n2012/02/17 16:45:19 INFO  - jmeter.util.JMeterUtils: Setting Locale to en_US \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: Loading user properties from: C:\\apache-jmeter-2.6\\bin\\user.properties \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: Loading system properties from: C:\\apache-jmeter-2.6\\bin\\system.properties \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: Copyright (c) 1998-2012 The Apache Software Foundation \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: Version 2.6 r1237317 \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: java.version=1.6.0_30 \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: java.vm.name=Java HotSpot(TM) Client VM \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: os.name=Windows XP \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: os.arch=x86 \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: os.version=5.1 \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: file.encoding=Cp1252 \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: Default Locale=English (United States) \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: JMeter  Locale=English (United States) \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: JMeterHome=C:\\apache-jmeter-2.6 \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: user.dir  =C:\\apache-jmeter-2.6\\bin \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: PWD       =C:\\apache-jmeter-2.6\\bin \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: IP: blah Name: blah FullName: blah \n2012/02/17 16:45:19 INFO  - jmeter.JMeter: Loaded icon properties from org/apache/jmeter/images/icon.properties \n2012/02/17 16:45:20 INFO  - jmeter.engine.util.CompoundVariable: Note: Function class names must contain the string: '.functions.' \n2012/02/17 16:45:20 INFO  - jmeter.engine.util.CompoundVariable: Note: Function class names must not contain the string: '.gui.' \n2012/02/17 16:45:21 FATAL - jmeter.JMeter: An error occurred:  java.lang.ExceptionInInitializerError\n\tat org.apache.commons.jexl2.JexlEngine.getUberspect(JexlEngine.java:217)\n\tat org.apache.commons.jexl2.JexlEngine.<init>(JexlEngine.java:195)\n\tat org.apache.commons.jexl2.JexlEngine.<init>(JexlEngine.java:183)\n\tat org.apache.jmeter.functions.Jexl2Function.<clinit>(Jexl2Function.java:51)\n\tat java.lang.Class.forName0(Native Method)\n\tat java.lang.Class.forName(Unknown Source)\n\tat org.apache.jmeter.engine.util.CompoundVariable.<clinit>(CompoundVariable.java:76)\n\tat java.lang.Class.forName0(Native Method)\n\tat java.lang.Class.forName(Unknown Source)\n\tat org.apache.jmeter.functions.gui.FunctionHelper.initializeFunctionList(FunctionHelper.java:98)\n\tat org.apache.jmeter.functions.gui.FunctionHelper.init(FunctionHelper.java:71)\n\tat org.apache.jmeter.functions.gui.FunctionHelper.<init>(FunctionHelper.java:66)\n\tat org.apache.jmeter.gui.action.CreateFunctionDialog.<init>(CreateFunctionDialog.java:37)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n\tat java.lang.reflect.Constructor.newInstance(Unknown Source)\n\tat java.lang.Class.newInstance0(Unknown Source)\n\tat java.lang.Class.newInstance(Unknown Source)\n\tat org.apache.jmeter.gui.action.ActionRouter.populateCommandMap(ActionRouter.java:256)\n\tat org.apache.jmeter.gui.action.ActionRouter.getInstance(ActionRouter.java:287)\n\tat org.apache.jmeter.JMeter.startGui(JMeter.java:224)\n\tat org.apache.jmeter.JMeter.start(JMeter.java:367)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.jmeter.NewDriver.main(NewDriver.java:216)\nCaused by: org.apache.commons.logging.LogConfigurationException: User-specified log class 'org.apache.commons.logging.impl.LogKitLogger' cannot be found or is not useable.\n\tat org.apache.commons.logging.impl.LogFactoryImpl.discoverLogImplementation(LogFactoryImpl.java:874)\n\tat org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:604)\n\tat org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:336)\n\tat org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:310)\n\tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:685)\n\tat org.apache.commons.jexl2.JexlEngine$UberspectHolder.<clinit>(JexlEngine.java:129)\n\t... 28 more", "id": 153902, "time": "2012-02-18T01:17:45Z", "creator": "mangaroo@gmail.com", "creation_time": "2012-02-18T01:17:45Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "mangaroo@gmail.com", "is_private": false, "id": 153905, "attachment_id": null, "bug_id": 52702, "creation_time": "2012-02-18T01:20:26Z", "time": "2012-02-18T01:20:26Z", "text": "Forgot to mention that I tried same JMeter that I downloaded on another machine and started up fine. So it is something specific to my one machine where this fails. Problem is why and where it is failing I don't know.\n\nTo make things worse, it's (I believe) a standard utility library used by JMeter that's failing, not some third party library that would make more sense."}, {"count": 2, "tags": [], "bug_id": 52702, "text": "Try enabling debug logging by setting the following properties:\n\nlog_level.jorphan=DEBUG\nlog_level.jmeter=DEBUG\n\nThat should show the classpath in use.", "id": 154096, "time": "2012-02-24T01:25:33Z", "creator": "sebb@apache.org", "creation_time": "2012-02-24T01:25:33Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "mangaroo@gmail.com", "attachment_id": 28376, "text": "Created attachment 28376\nJMeter log with debug logging enabled\n\nAttached JMeter log with the suggested debug logging enabled.\n\nSkimming the log, it looks like classpath reference is correct for the (logging) JARs, but fails to find them still. But I'm a novice so may have interpreted log incorrectly, hence attaching it.\n\nThe JARs do exist in the referenced libs folder.", "id": 154097, "time": "2012-02-24T02:07:12Z", "bug_id": 52702, "creation_time": "2012-02-24T02:07:12Z", "is_private": false}, {"count": 4, "text": "Can you check if you don't have some disk space problem ?\nIssue seems to indicate commons-logging-1.1.1.jar is corrupt as org.apache.commons.logging.impl.LogFactoryImpl does not find one of its class org.apache.commons.logging.impl.LogKitLogger", "bug_id": 52702, "attachment_id": null, "id": 154137, "time": "2012-02-25T12:52:00Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-02-25T12:52:00Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "I close issue as it's not a JMeter one, but you can keep giving informations about it.", "id": 154138, "time": "2012-02-25T12:52:40Z", "bug_id": 52702, "creation_time": "2012-02-25T12:52:40Z", "is_private": false}, {"count": 6, "tags": [], "creator": "mangaroo@gmail.com", "attachment_id": null, "text": ">> Can you check if you don't have some disk space problem ?\n\nThe machine has over 100GB free disk space. I also ran check of SMART attributes on drive using free Speedfan tool on Windows and it reported drive as ok, with overall fitness and performance at 98%. So the drive is not bad.\n\nI also tried deploying JMeter to SD card and run on machine (the machine has an SD card reader built in) and that still failed.\n\nI am suspecting something related to Java is corrupt on the machine, highly likely requiring an OS re-install (or restore from good backup image, if any) to fix. Funny thing is everything else with Java and running Jars and classes is fine, just JMeter broke because of this.\n\nI guess good thing to do would be to compare other Java apps that use \n\norg.apache.commons.logging.impl.LogFactoryImpl and org.apache.commons.logging.impl.LogKitLogger\n\nand see if they work or not. But I don't know of any off the top of my head. Be great if someone can let me know what other apps use the class so I can do more investigation.", "id": 154295, "time": "2012-02-27T20:36:47Z", "bug_id": 52702, "creation_time": "2012-02-27T20:36:47Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 52702, "is_private": false, "text": "Try to remove libraries that exist in both jmeter and jre folders from jre folder.", "id": 165072, "time": "2013-02-05T08:02:59Z", "creator": "nikolay.kalachev@gmail.com", "creation_time": "2013-02-05T08:02:59Z", "attachment_id": null}, {"count": 8, "tags": [], "creator": "apache@amigood.com", "attachment_id": null, "is_private": false, "id": 177407, "time": "2014-08-27T17:47:10Z", "bug_id": 52702, "creation_time": "2014-08-27T17:47:10Z", "text": "Having exactly the same issue with latest (2.11) JMeter.\n\nHave two machines next to each other, Jmeter works on one, but does not on another. Same OS, same JVM version, same Jmeter. \n\nAny ideas?\n\nLeo"}, {"count": 9, "tags": [], "creator": "jaak@nutiteq.com", "attachment_id": null, "text": "I have the same issue - jMeter worked fine, but then not for some tests anymore, giving this \"logkit not found\" exception. I have the issue on mac (OSX 10.9), and two Java versions (tried with 1.7 and 1.8 new install) did not make any difference.\n\nSome details: it seems to be related to specific tests what I use. For example BSF PreProcessor gives this error, but BeanShell PreProcessor works. In HTTP Request when I select \"Implementation: HttpClient3.1\" then I get the error, but  \"java\" and \"HttpClient4\"  works.\n\nSo my workaround is to avoid using problematic tests.\n\nFor me it seems that some tests require different (older?) version of LogKit.", "id": 180259, "time": "2015-01-11T16:15:33Z", "bug_id": 52702, "creation_time": "2015-01-11T16:15:33Z", "is_private": false}]