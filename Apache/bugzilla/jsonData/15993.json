[{"count": 0, "tags": [], "bug_id": 15993, "attachment_id": null, "id": 29184, "time": "2003-01-11T11:23:00Z", "creator": "detlev.vendt@brillit.de", "creation_time": "2003-01-11T11:23:00Z", "is_private": false, "text": "Using ISAPI ServerSupportFunction with the above constant works incorrectly\nif used in a virtual directory that is not located in the Apache document root \ndirectory.\n\nExample: Assume to have a virtual directory mapped to d:\\westwind\\wconnect.\n\nIf I have a script that references /wconnect ServerSupportFunction returns:\n\nd:/program files/apache group/apache/htdocs/wconnect\\\n\nIt should return:\n\nd:/westwind/wconnect\n\nThe reason for that behavior seems to be, that the core handler resolves the \ndirectory as a part of the document root. All other handlers (in fact mod_alias \nshould do this) will not have a chance to do a correct mapping."}, {"count": 1, "attachment_id": null, "creator": "wrowe@apache.org", "text": "\n  This may be trivial.  If you  Alias /foo c:/somepath/foo  the request /foo\n  will map to c:/somepath/foo, but if you  Alias /foo/ c:/somepath/foo/  \n  (or you have unbalanced trailing slashes - that is, if the virtual path has\n  a trailing slash the target path must have one as well...) then the request\n  /foo  (or a request to map the url to that path) will fail because that\n  alias '/foo/' can't evaluate the shorter path '/foo'.\n\n", "id": 29192, "time": "2003-01-11T17:33:08Z", "bug_id": 15993, "creation_time": "2003-01-11T17:33:08Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 15993, "attachment_id": null, "id": 29197, "time": "2003-01-11T20:02:23Z", "creator": "detlev.vendt@brillit.de", "creation_time": "2003-01-11T20:02:23Z", "is_private": false, "text": "Thanks to Will Rowe for that hint - it works so far. A little ugly behaviour is \nstill there: mod_isapi puts a trailing backslash to the end of the path. With\n\n    ScriptAlias /foo/ \"c:/myfiles/foo/\"\n\nmod_isapi returns the translation\n\n    c:/myfiles/foo/\\\n\nTo substitute all slashes by backslashes will be a completely correct behaviour \nwith Win32 - including to avoid a double backslash at the end. "}, {"count": 3, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "text": "\n  Note that the trailing backslash is due to the fact that there wasn't a trailing\n  backslash already.  Correcting the path to backslashes first will assure that\n  doubled-trailing slashes don't occur.\n", "id": 29560, "time": "2003-01-16T17:51:12Z", "bug_id": 15993, "creation_time": "2003-01-16T17:51:12Z", "is_private": false}, {"count": 4, "attachment_id": null, "creator": "wrowe@apache.org", "text": "\n  Think that we've squished this in commit 416291, but it will still not\n  backslash format the filename string.\n\n  Commit 416294 changes the order a bit, appends the slash first only if\n  it's needed, and then normalizes Win32 paths to backslash.  However,\n  it's platform neutral and will not normalize the path on Unix etc.\n\n  We also pay more attention to the fact that PATH_INFO is the rest of\n  the file path that didn't corespond to a disk file, and append it.\n", "id": 90475, "time": "2006-06-22T08:28:11Z", "bug_id": 15993, "creation_time": "2006-06-22T08:28:11Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "text": "Whoops, closing.  See\n\nhttp://svn.apache.org/viewvc/httpd/httpd/trunk/modules/arch/win32/mod_isapi.c\n\nto obtain the source", "id": 90476, "time": "2006-06-22T08:29:47Z", "bug_id": 15993, "creation_time": "2006-06-22T08:29:47Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 15993, "attachment_id": null, "id": 90898, "time": "2006-07-05T13:12:12Z", "creator": "matt@iamcode.net", "creation_time": "2006-07-05T13:12:12Z", "is_private": false, "text": "Will Rowe has posted a zipfile containing compiled mod_isapi modules which\ninclude the patch correcting this bug (for use with 2.0.58 and 2.2.2), for\ntesting purposes. It is available at:\n\nhttp://people.apache.org/~wrowe/mod_isapi-416293.zip\n\nYou may read his full email to the dev@httpd.apache.org list here:\n\nhttp://marc.theaimsgroup.com/?l=apache-httpd-dev&m=115206683718140&w=2\n\nIf you test this version of mod_isapi, please post your feedback to the\ndev@httpd.apache.org list. Your feedback will help ensure that there are no\nregressions or other issues in this version of mod_isapi."}]