[{"count": 0, "tags": [], "text": "While looking through the JK connector code for the IIS integration, I found\nthat Chunked support is never turned on.  The JK codebase has support for\nchunked encoding, but the IIS-specific packaging doesn't have any code to enable\nthis.\n\nAttached is a patch to enable this.", "attachment_id": null, "id": 78450, "creator": "dbitting@yahoo.com", "time": "2005-08-12T20:05:17Z", "bug_id": 36169, "creation_time": "2005-08-12T20:05:17Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 36169, "attachment_id": 16023, "is_private": false, "id": 78451, "time": "2005-08-12T20:05:59Z", "creator": "dbitting@yahoo.com", "creation_time": "2005-08-12T20:05:59Z", "text": "Created attachment 16023\nPatch enabling chunked transfer encoding for IIS"}, {"count": 2, "tags": [], "creator": "Tim.Whittington@orionhealth.com", "is_private": false, "id": 78486, "creation_time": "2005-08-14T23:41:07Z", "time": "2005-08-14T23:41:07Z", "bug_id": 36169, "text": "Have you verified this works?\nLooking at the Apache 2.0 code, it seems to delegate both the chunked encoding\ndetection and the chunked encoded read to Apache via ap_* calls (and IIS isn't\ngonna be that accomodating).\nI can't see anywhere in the common read code that parses the chunk block length.\n\nThis will have some overlap with #15357 , which implements chunked encoding on\nthe outbound response.\n\nI'd also suggest the check for Transfer-Encoding: chunked be moved up a bit to\nwhere the Tomcat worker/query headers are checked for.", "attachment_id": null}, {"count": 3, "tags": [], "creator": "dbitting@yahoo.com", "is_private": false, "id": 78518, "creation_time": "2005-08-15T17:58:17Z", "time": "2005-08-15T17:58:17Z", "bug_id": 36169, "text": "(In reply to comment #2)\n> Have you verified this works?\n\nI've verified it on IIS 5.0 on Win2K and IIS 5.1 on WinXPPro, at least during\nour modest testing.  I tried only to make changes to the IIS-specific code, but\nobviously made one change to jk_ajp_common.c.  It's probably possible to\nrollback the change to jk_ajp_common.c and add code to the IIS-specific pieces\nso that the if-statement in jk_ajp_common.c is still tripped accordingly.\n\nIn the case of IIS, most of the work of dealing with HTTP is left up to the\nISAPI filters; IIS does very little for you.\n\nAnyway, my familiarity with the connector code involves the few hours I spent\ngetting chunked encoding to work properly with IIS.  I've tried to be a good\ncitizen and report the problem with a potential patch.  If there is a better way\nto handle this, I certainly have no ego associated with my patch.", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 36169, "attachment_id": null, "id": 86963, "time": "2006-03-17T11:26:24Z", "creator": "mturk@apache.org", "creation_time": "2006-03-17T11:26:24Z", "is_private": false, "text": "This is enhancement request, not bug report.\nI'll test your patch but not sure how to test it."}, {"count": 5, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "text": "Bumping priority down to reflect reality.", "id": 88008, "time": "2006-04-13T21:33:42Z", "bug_id": 36169, "creation_time": "2006-04-13T21:33:42Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 36169, "attachment_id": null, "is_private": false, "id": 134956, "time": "2010-03-01T01:18:48Z", "creator": "timw@apache.org", "creation_time": "2010-03-01T01:18:48Z", "text": "This has been implemented (via a slightly different mechanism) in 1.2.29/30."}]