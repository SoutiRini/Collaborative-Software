[{"count": 0, "tags": [], "text": "In AbstractJSVGComponent.updateRenderingTransform() there is this code:\n\n     if (at.equals(vt)) {\n         // No new transform\n         // Only repaint if size really changed.\n         return ((oldD.width != d.width) || (oldD.height != d.height));\n     }\n\nThe code that follows this code handles adjusting the center point in the case that this.recenterOnResize=true.\n\nI believe this code is wrong to return without executing the subsequent code, because even though the size may not have changed, the center point may have changed. The correct optimization would be to test whether either the size OR the center point have changed.\n\nFor an example, consider a square image with \"xMidYMid meet\" which is centered in a tall, narrow window, so that there is whitespace above and below. Now resize the window in height only. The result is that the image does not change size at all, but it should move up or down as the window is resized taller or shorter. This does not happen because of the above code.\n\nAs a result, an \"offset\" error gets added into the rendering transform. These errors are cumulative and tend to get worse over time. By manipulating the window size the right way, it's even possible to eventually cause the image to entirely shift out of the viewing window.", "is_private": false, "id": 116666, "creator": "archie@dellroad.org", "time": "2008-05-15T10:18:10Z", "bug_id": 45012, "creation_time": "2008-05-15T10:18:10Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "See also Bug #45021.\n", "is_private": false, "id": 116709, "creator": "archie@dellroad.org", "time": "2008-05-16T09:55:41Z", "bug_id": 45012, "creation_time": "2008-05-16T09:55:41Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "Hi Archie.\n\nI couldn't reproduce the problem using a document as described in 45021.  This is what I used:\n\n<svg xmlns='http://www.w3.org/2000/svg'\n     width='400' height='400' viewBox='0 0 400 400'\n     preserveAspectRatio='xMidYMid meet'>\n  <rect width='400' height='400'/>\n</svg>\n\nI resized the Squiggle window vertically shorter and taller, but the rectangle remained in the centre.  Is there something else I have to do?\n", "is_private": false, "id": 117711, "creator": "cam@apache.org", "time": "2008-06-15T20:48:10Z", "bug_id": 45012, "creation_time": "2008-06-15T20:48:10Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "archie@dellroad.org", "is_private": false, "text": "Bleh, my apologies. Now I cannot reproduce the bug. I think at the time I reported it I must have been working with some locally modified (i.e., broken) version of the batik. Sorry! Resolving as INVALID.\n", "id": 117720, "time": "2008-06-16T07:58:54Z", "bug_id": 45012, "creation_time": "2008-06-16T07:58:54Z", "attachment_id": null}]