[{"count": 0, "tags": [], "bug_id": 32281, "is_private": false, "text": "When using a date selector with dirset, no directories are selected when there \nshould be some selected. When using a date selector and type selector, where \ntype=dir, with a fileset the same behavior occurs. Attached are two build.xml \nfor the two scenarios that reveal this issue.", "id": 67066, "time": "2004-11-17T19:45:31Z", "creator": "riznob@hotmail.com", "creation_time": "2004-11-17T19:45:31Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 13483\nExample of the issue with dirset and date selector\n\nYou will need to create some directories and perhaps touch them with\ntimestamps.", "attachment_id": 13483, "bug_id": 32281, "id": 67067, "time": "2004-11-17T19:49:11Z", "creator": "riznob@hotmail.com", "creation_time": "2004-11-17T19:49:11Z", "is_private": false}, {"count": 2, "text": "Created attachment 13484\nExample of the issue with fileset and date selector\n\nYou will need to create some directories and perhaps touch them with\ntimestamps.", "bug_id": 32281, "attachment_id": 13484, "id": 67068, "time": "2004-11-17T19:50:00Z", "creator": "riznob@hotmail.com", "creation_time": "2004-11-17T19:50:00Z", "tags": [], "is_private": false}, {"count": 3, "text": "in isSelected in the DateType Selector, includesDirs is set to false (class\nvariable), so \n\n if (file.isDirectory() && (!includeDirs)) {\n            return true;\n }\n\nshould return true, unless something is changing the value of includesDirs to\ntrue, in which case this would fail.\n\nI've tried using the supplied build file to duplicate the behaviour, but it\ndoesn't work for me - dependency problem which I don't have the time to fix\nright now.\n\nI can't see anything from the code that would change this value and you don't\nchange it in the build file explicitly, perhaps it's an issue with the\nnet.sf.antcontrib?\n\nKev", "bug_id": 32281, "attachment_id": null, "id": 67108, "time": "2004-11-18T04:44:10Z", "creator": "kevin.jackson@it.fts-vn.com", "creation_time": "2004-11-18T04:44:10Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "creator": "riznob@hotmail.com", "attachment_id": 13503, "id": 67251, "time": "2004-11-19T18:56:19Z", "bug_id": 32281, "creation_time": "2004-11-19T18:56:19Z", "is_private": false, "text": "Created attachment 13503\nSelf contained build file that exhibits the issue\n\nThis build file will create two directories, called inbound and copytest. It\nwill then create 6 subdirs (test1,...,test6). It will then touch inbound/test6\nwith a datetime stamp of 60 minutes ago. Then it will use the copy task with a\nnested fileset with a date selector and type selector. It will attempt to copy\ndirectories that are more than 30 old to a directory called copytest, which it\ncreated earlier. It should only copy inbound/test6, since that is the only\ndirectory with a modification time more that 30 minutes old. Instead it copies\nall the directories."}, {"count": 5, "tags": [], "bug_id": 32281, "attachment_id": null, "text": "Setting the checkdirs attribute to true fixes the issue (thanks Matt Benson). \nThis attribute is undocumented. I will update the documentation and attach a \npatch to this bug report.", "id": 67839, "time": "2004-12-02T23:58:33Z", "creator": "riznob@hotmail.com", "creation_time": "2004-12-02T23:58:33Z", "is_private": false}, {"count": 6, "tags": [], "text": "Created attachment 13634\nupdate to the documentation\n\nUpdate to the documentation.", "is_private": false, "bug_id": 32281, "id": 67843, "time": "2004-12-03T00:15:28Z", "creator": "riznob@hotmail.com", "creation_time": "2004-12-03T00:15:28Z", "attachment_id": 13634}, {"count": 7, "tags": [], "creator": "mbenson@apache.org", "is_private": false, "id": 67846, "attachment_id": null, "bug_id": 32281, "creation_time": "2004-12-03T00:50:55Z", "time": "2004-12-03T00:50:55Z", "text": "Patch committed to CVS HEAD; thanks."}, {"count": 8, "tags": [], "creator": "mbenson@apache.org", "attachment_id": null, "is_private": false, "id": 67847, "time": "2004-12-03T00:58:12Z", "bug_id": 32281, "creation_time": "2004-12-03T00:58:12Z", "text": "Also merged to the 1.6 branch."}]