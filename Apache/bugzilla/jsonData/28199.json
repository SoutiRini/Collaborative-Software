[{"count": 0, "tags": [], "bug_id": 28199, "attachment_id": null, "id": 55287, "time": "2004-04-05T08:29:05Z", "creator": "kernel@pkts.ca", "creation_time": "2004-04-05T08:29:05Z", "is_private": false, "text": "I've been adding a \"NameVirtualHost www.example.com:80\" line right before each\n\"<VirtualHost www.example.com:80>\", for each customer's virtual host on my server.\n\nAs all of the customers are on the same ip address, this amounts to a bunch of\nduplicate 'NameVirtualHost' lines.\n\nHere are the nuisance warning messages I get:\n[Mon Apr 05 01:05:39 2004] [warn] NameVirtualHost cust2.example.com:80 has no\nVirtualHosts\n[Mon Apr 05 01:05:39 2004] [warn] NameVirtualHost cust3.example.com:80 has no\nVirtualHosts\n...\n\nThis warning is misleading and confusing, especially since the httpd.conf file\nhas the NameVirtualHost line right before the <VirtualHost ...> line.\n\nI've commented out all of the NameVirtualHost's except for one, and the problem\nhas gone away.\n\nWhat I'd like is to keep the NameVirtualHost lines, and have the warning go away\n(or be clearer if it has to stay).\n\nThanks!\n\n(Note, I'm using an Apache RPM from RedHat Enterprise Linux 3)"}, {"count": 1, "tags": [], "creator": "nd@perlig.de", "text": "It's a more or less wrong a configuration. You should not insist on it.\nBoth NameVirtualHost and <VirtualHost> take IP-Adresses.\n\nYou need exactly one NameVirtualHost directive for each different IP address.", "id": 55289, "time": "2004-04-05T08:41:10Z", "bug_id": 28199, "creation_time": "2004-04-05T08:41:10Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 28199, "attachment_id": null, "text": "I'd take out the warning simply because duplicate 'NameVirtualHosts' do no harm.\n\nIn addition, if the error message said 'this is a duplicate namevirtualhost'\ninstead of 'there are no virtualhosts', that'd be better.\n\nOf course, the problem I'm trying to solve is what happens when I add another\nweb server and move half of my customers to the new server.  For those\ncustomers, I'll set their DNS entries to the new ip address.  If I then copy the\nhttpd.conf file to the new server and start httpd, the move is complete.\n\nIf I have to have warnings to achieve this, so be it; I don't want to have to\nmaintain different copies of httpd.conf.  I want the same configuration \nfile on every server.", "id": 55345, "time": "2004-04-05T19:10:44Z", "creator": "kernel@pkts.ca", "creation_time": "2004-04-05T19:10:44Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 28199, "is_private": false, "id": 55347, "attachment_id": null, "creator": "slive@apache.org", "creation_time": "2004-04-05T19:30:15Z", "time": "2004-04-05T19:30:15Z", "text": "Duplicate NameVirtualHost is usually a sign of other configuration problems.\n\nAs this pages says:\nhttp://httpd.apache.org/docs-2.0/vhosts/name-based.html\nthe configuration you are looking for is\nNameVirtualHost *:80 (once)\n<VirtualHost *:80> (as many times as necessary)\n...\n\nThe only time this configuration doesn't work is if you need to mix\nIP-based and name-based virtual hosts and restrict which hosts work\non which IP."}, {"count": 4, "tags": [], "bug_id": 28199, "is_private": false, "id": 55348, "creation_time": "2004-04-05T19:48:48Z", "time": "2004-04-05T19:48:48Z", "creator": "kernel@pkts.ca", "text": "Ok, then change the error text.", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 28199, "attachment_id": null, "text": "This really is just a server misconfiguration.", "id": 63696, "time": "2004-09-17T04:32:35Z", "creator": "chip@force-elite.com", "creation_time": "2004-09-17T04:32:35Z", "is_private": false}]