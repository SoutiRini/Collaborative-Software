[{"count": 0, "tags": [], "creator": "rlips@cloudmark.com", "text": "I just installed a fresh apache2 (2.2.14) on Ubuntu Lucid.\nI wrote a small CGI script for test purpose:\n\n~# cat /usr/lib/cgi-bin/test\n#!/usr/bin/perl\n\nprint \"Content-length: 0\\r\\n\";\nprint \"Content-type: text/plain\\r\\n\\r\\n\";\n~#\n\nHere is my test:\n~$ telnet 0 80\nTrying 0.0.0.0...\nConnected to 0.\nEscape character is '^]'.\nPOST /cgi-bin/test HTTP/1.1\nHost: localhost\nContent-Length: 20\n\naaaaaaaaaaaaaaaaaa\nConnection closed by foreign host.\n~$\n\nConnection is immediately closed without any response!\nIn the logs, I can see the following:\n\n~# tail /var/log/apache2/access.log\n127.0.0.1 - - [17/Aug/2010:19:03:10 +0200] \"POST /cgi-bin/test HTTP/1.1\" 200 0 \"-\" \"-\"\n~# tail /var/log/apache2/error.log\n[Tue Aug 17 19:03:10 2010] [error] [client 127.0.0.1] (104)Connection reset by peer: ap_content_length_filter: apr_bucket_read() failed\n\nClearly the connection is not 'reset by peer'\n\nPlease advise...", "id": 139155, "time": "2010-08-17T13:06:28Z", "bug_id": 49766, "creation_time": "2010-08-17T13:06:28Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "rpluem@apache.org", "attachment_id": null, "id": 139181, "time": "2010-08-18T02:11:23Z", "bug_id": 49766, "creation_time": "2010-08-18T02:11:23Z", "is_private": false, "text": "I assume if you are just doing a get things work fine, correct?\nYour CGI script is no capable of handling POST requests as it does not read the request body prior to sending an answer."}, {"count": 2, "tags": [], "bug_id": 49766, "attachment_id": null, "text": "(In reply to comment #1)\n> I assume if you are just doing a get things work fine, correct?\n> Your CGI script is no capable of handling POST requests as it does not read the\n> request body prior to sending an answer.\n\nThanks for the quick response.\nOk, but if I want to answer back to clients after reading few bytes of a 20MB POST request, it's no possible. Anyway, I can live with that, it works now.\n\nHowever, the 200 response code in the logs is wrong.\n\nPlease merge this ticket with #49767, since it's the same problem.", "id": 139187, "time": "2010-08-18T04:40:15Z", "creator": "rlips@cloudmark.com", "creation_time": "2010-08-18T04:40:15Z", "is_private": false}, {"count": 3, "tags": [], "creator": "poirier@pobox.com", "attachment_id": null, "text": "*** Bug 49767 has been marked as a duplicate of this bug. ***", "id": 139194, "time": "2010-08-18T06:29:24Z", "bug_id": 49766, "creation_time": "2010-08-18T06:29:24Z", "is_private": false}]