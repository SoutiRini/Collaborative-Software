[{"count": 0, "tags": [], "creator": "bbland@serena.com", "attachment_id": null, "text": "I have an ISAPI extension that I'm testing with Apache.  When logging the HTTP\ntraffic I noticed that my HTTP status headers were being truncated.  Ex:\n\nHTTP/1.1 200 O     instead of   HTTP/1.1 200 OK\nHTTP/1.1 302 Obje  instead of   HTTP/1.1 302 Object Moved\nHTTP/1.1 401 Acce  instead of   HTTP/1.1 401 Access Denied\n\nI dug through the code and found a couple of problems with send_response_header\nin mod_isapi.c.  On line line 679 I made the following change:\n\nstatlen = toklen; // Instead of statlen -= tokenlen;\n\nThat left me with all of my headers truncated by one character.  After taking a\nlook at line 685 I noticed a call was made to apr_cpystrn which assumes a null\nterminated string.  The call on 685 uses statlen and stat isn't null terminated.\n So, changing it to\n\napr_cpystrn(newstat + 8, stat, statlen + 1); // Instead of apr_cpystrn(newstat +\n8, stat, statlen);\n\nFixes the second problem.  All my status headers come through correctly with\nboth changes in place.", "id": 57656, "time": "2004-05-19T17:37:58Z", "bug_id": 29098, "creation_time": "2004-05-19T17:37:58Z", "is_private": false}, {"count": 1, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "text": "apr_cpystrn takes a buffer length and must null terminate, your patch is\nquite correct.  thank you!  applied with commit 416288", "id": 90471, "time": "2006-06-22T07:13:11Z", "bug_id": 29098, "creation_time": "2006-06-22T07:13:11Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 29098, "text": "Will Rowe has posted a zipfile containing compiled mod_isapi modules which\ninclude the patch correcting this bug (for use with 2.0.58 and 2.2.2), for\ntesting purposes. It is available at:\n\nhttp://people.apache.org/~wrowe/mod_isapi-416293.zip\n\nYou may read his full email to the dev@httpd.apache.org list here:\n\nhttp://marc.theaimsgroup.com/?l=apache-httpd-dev&m=115206683718140&w=2\n\nIf you test this version of mod_isapi, please post your feedback to the\ndev@httpd.apache.org list. Your feedback will help ensure that there are no\nregressions or other issues in this version of mod_isapi.", "id": 90897, "time": "2006-07-05T13:11:53Z", "creator": "matt@iamcode.net", "creation_time": "2006-07-05T13:11:53Z", "is_private": false, "attachment_id": null}]