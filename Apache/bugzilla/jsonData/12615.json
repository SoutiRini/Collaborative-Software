[{"count": 0, "attachment_id": null, "bug_id": 12615, "is_private": false, "id": 22829, "time": "2002-09-13T14:54:56Z", "creator": "tenthumbs@cybernex.net", "creation_time": "2002-09-13T14:54:56Z", "tags": [], "text": "I found this while building apache 2.0.40 but it's in the current APR as well.\n\nIn apr/misc/unix/rand.c, Linux gcc 3.1.1 says\n\n rand.c:95: warning: comparison of unsigned expression < 0 is always false\n\nand the code is\n\n    89      apr_size_t got, tot;\n    90\n    91      if ((rnd = open(STR(DEV_RANDOM), O_RDONLY)) == -1)\n    92          return errno;\n    93\n    94      for (tot=0; tot<length; tot += got)\n    95          if ((got = read(rnd, buf+tot, length-tot)) < 0)\n    96              return errno;\n\nWhile read may return a signed value, got is unsigned so the error return \nbecomes unreachable and gcc optimizes it away. That's not what's intended."}, {"count": 1, "text": "This was just fixed and will be in the next release of APR (0.9.2, presumably).\n\nThanks for your report, and thanks for using APR!\n", "bug_id": 12615, "is_private": false, "id": 22834, "time": "2002-09-13T15:47:33Z", "creator": "trawick@apache.org", "creation_time": "2002-09-13T15:47:33Z", "tags": [], "attachment_id": null}]