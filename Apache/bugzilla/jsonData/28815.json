[{"count": 0, "tags": [], "text": "In apache 1.3 if you use a command as such: \n \nErrorLog \"|command >> filename\" \n \nIt will work, as there is an implicit passthrough to a shell. \n \nIn 2.0.49, this behavior is still documented, but it doesn't appear to work.  \nReplacing it with: \n \nErrorLog \"|/bin/sh -c \\\"command >> filename\\\"\" \n \ndoes work. \n \nOn looking at the code, it appears that there is an APR_SHELLCMD procattr, \nwhich must be set upon calling apr_create_proc if you want it to pass the child \nprocess through /bin/sh.  This is not set in the code that opens the error log \nchild process. \n \nI'm 100% certain that there is a bug - The question is whether it is in the \ndocumentation or in the core.  I leave it to you to make that determination. \n \nThanks. \n \n--Russell", "is_private": false, "bug_id": 28815, "id": 56942, "time": "2004-05-06T18:20:22Z", "creator": "rmiller@duskglow.com", "creation_time": "2004-05-06T18:20:22Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "trawick@apache.org", "text": "Try the patch I'll attach in a sec.\n", "id": 56945, "time": "2004-05-06T19:18:29Z", "bug_id": 28815, "creation_time": "2004-05-06T19:18:29Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 28815, "text": "Created attachment 11450\nrun piped loggers via shell", "id": 56946, "time": "2004-05-06T19:19:04Z", "creator": "trawick@apache.org", "creation_time": "2004-05-06T19:19:04Z", "is_private": false, "attachment_id": 11450}, {"count": 3, "tags": [], "text": "Thanks.  I will try this and get back to you when I have results. \n \n--Russell ", "attachment_id": null, "id": 56950, "creator": "rmiller@duskglow.com", "time": "2004-05-06T19:28:08Z", "bug_id": 28815, "creation_time": "2004-05-06T19:28:08Z", "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 28815, "text": "*** Bug 16391 has been marked as a duplicate of this bug. ***", "id": 58672, "time": "2004-06-03T22:04:54Z", "creator": "jorton@redhat.com", "creation_time": "2004-06-03T22:04:54Z", "tags": [], "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 28815, "is_private": false, "id": 59763, "time": "2004-06-23T12:44:11Z", "creator": "trawick@apache.org", "creation_time": "2004-06-23T12:44:11Z", "tags": [], "text": "This is now resolved in httpd 2.1-dev.\n\nThere are two issues w.r.t. putting the fix in 2.0.next:\n\n(a) there are some NetWare problems to resolve with changing the way\n    piped loggers are invoked (actively being worked on)\n(b) a new feature was added to APR to allow both\n    i. starting piped loggers via the shell (fixing one 1.3 regression)\n    ii. passing same environment variables to piped loggers (fixing another\n        regression)\n    we'll have to work out how to use the new APR feature when available and\n    not use the new feature otherwise, as there is a desire to make\n    Apache httpd 2.0.new work with the latest official APR 0.9.x release,\n    not just the level of APR bundled with Apache httpd; maybe a new APR\n    0.9.x release will be distributed before we reach this point\n\nIn the meantime, keep using the patch posted here.\n"}, {"count": 6, "attachment_id": null, "bug_id": 28815, "text": "Marking fixed since this feature is available in 2.2.x releases now.", "id": 94442, "time": "2006-10-03T11:59:28Z", "creator": "jorton@redhat.com", "creation_time": "2006-10-03T11:59:28Z", "tags": [], "is_private": false}]