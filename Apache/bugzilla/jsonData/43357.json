[{"count": 0, "tags": [], "creator": "fabio_sassi@libero.it", "is_private": false, "text": "[PATCH]\n\nIn PDFGraphics2D image are rescaled 2 times in the same way.\nFirst is rescaled by java.awt.Graphics2D and put in BufferedImage \nthat will used to write PDF code. Second is rescaled by trasformation \nmatrix in PDF code.\n\nThis will cause a resulting image that have very low resolution (pixelized). \n\nBefore look at PDFGraphics2D code I try also to change DPI but this has \nnot effect. \n\nPatch File:\n\nIndex: PDFGraphics2D.java\n===================================================================\n--- PDFGraphics2D.java  (revision 574734)\n+++ PDFGraphics2D.java  (working copy)\n@@ -522,14 +522,15 @@\n         if (imageInfo == null) {\n             // OK, have to build and add a PDF image\n \n-            Dimension size = new Dimension(width, height);\n+            Dimension size = new Dimension(img.getWidth(observer), \n+                                       img.getHeight(observer));\n             BufferedImage buf = buildBufferedImage(size);\n \n             java.awt.Graphics2D g = buf.createGraphics();\n             g.setComposite(AlphaComposite.SrcOver);\n             g.setBackground(new Color(1, 1, 1, 0));\n             g.setPaint(new Color(1, 1, 1, 0));\n-            g.fillRect(0, 0, width, height);\n+            g.fillRect(0, 0, size.width, size.height);\n             g.clip(new Rectangle(0, 0, buf.getWidth(), buf.getHeight()));\n             g.setComposite(gc.getComposite());", "id": 108040, "time": "2007-09-11T17:47:40Z", "bug_id": 43357, "creation_time": "2007-09-11T17:47:40Z", "attachment_id": null}, {"count": 1, "attachment_id": 20792, "bug_id": 43357, "text": "Created attachment 20792\npatch file", "id": 108041, "time": "2007-09-11T17:49:46Z", "creator": "fabio_sassi@libero.it", "creation_time": "2007-09-11T17:49:46Z", "tags": [], "is_private": false}]