[{"count": 0, "tags": [], "creator": "stefan.kedl@utanet.at", "attachment_id": null, "id": 17689, "time": "2002-06-12T16:35:12Z", "bug_id": 9810, "creation_time": "2002-06-12T16:35:12Z", "is_private": false, "text": "Neither apply nor exec expands wildcards handed over by the nested arg-tag.\n\n  <property name=\"SRC_DIR\" value=\"./src\"/>\n  <property name=\"TARGET\" value=\"myTarget\"/>\n  <target name=\"aTarget\">\n    <exec executable=\"ld\">\n      <arg value=\"-L\"/>\n      <arg value=\"/usr/local/lib\"/>\n      <arg value=\"-lmylib\"/>\n      <arg value=\"-Bdynamic\"/>\n      <arg value=\"-G\"/>\n      <arg value=\"${SRC_DIR}/*.o\"/>\n      <arg value=\"-o\"/>\n      <arg value=\"${SRC_DIR}/lib${TARGET}.so\"/>\n    </exec>\n  </target>\n\n\nThis target produces the following output:\n\naTarget:\n     [exec] Current OS is SunOS\n     [exec] ld -L /opt/mqm/lib -lmqm -lwmqjbind -Bdynamic -G ./src/*.o\n-o ./src/libmyTarget.so\n     [exec] ld: fatal: file ./src/*.o: open failed: No such file or directory\n     [exec] Result: 1\n\nIf myobj1.o and myobj2.o is used instead of *.o the target will be processed \nproperly (see the following target)\n\n  <property name=\"SRC_DIR\" value=\"./src\"/>\n  <target name=\"aTarget\">\n    <exec executable=\"ld\">\n      <arg value=\"-L\"/>\n      <arg value=\"/usr/local/lib\"/>\n      <arg value=\"-lmylib\"/>\n      <arg value=\"-Bdynamic\"/>\n      <arg value=\"-G\"/>\n      <arg value=\"${SRC_DIR}/myobj1.o\"/>\n      <arg value=\"${SRC_DIR}/myobj2.o\"/>\n      <arg value=\"-o\"/>\n      <arg value=\"${SRC_DIR}/lib${TARGET}.so\"/>\n    </exec>\n  </target>\n\nThis works, but if you add a new object-file (myobj3.o) to the project it is \nnecessary to add a new arg-entry (<arg value=\"${SRC_DIR}/myobj3.o\"/>)to the \nbuild-file.\nI looked for solutions in the ant-documentations as well as in some news-\ngroups, but i found no proper solution for my problem.\n\nI think it would make life easier if exec and apply are able to handle \nwildcards.\n\nthanks\n\ns. kedl"}, {"count": 1, "tags": [], "bug_id": 9810, "attachment_id": null, "text": "Use <apply> and a nested <fileset>, set relative and parallel to true.\n\nIs that good enough?", "id": 17691, "time": "2002-06-12T16:37:29Z", "creator": "bodewig@apache.org", "creation_time": "2002-06-12T16:37:29Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 9810, "attachment_id": null, "id": 17695, "time": "2002-06-12T17:02:18Z", "creator": "stefan.kedl@utanet.at", "creation_time": "2002-06-12T17:02:18Z", "is_private": false, "text": "solution\n\nUse <apply> and a nested <fileset>, set relative and parallel to true.\n\nThat's good enough!"}]