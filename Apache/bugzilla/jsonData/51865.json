[{"count": 0, "tags": [], "bug_id": 51865, "text": "Created attachment 27555\nScenario for reproducing error\n\nI tried to use new feature of JMeter2.5 \"Start next loop\".\nThere is infinite loop in thread group, it provide some users's scenario. \nIf error occured in the sampler which is inside loop, then behaviour of jmeter is strange. According to \"View Results Tree\" listener, it doesn't do anything, but thread remain active.\nI prepared simplified example for reproducing this bug(attachment).\nAfter running, it executes 3 loops and stopped (if no any errors occured)\nThen enable sampler \"(failed)Load page\" (it must cause error)and run scenario again, and look at VRT. After first error, no any other samplers executed, but thread is still active. It do something depending on parameter \"Forever\" of loop. If definite count if iterations is set, some delay between loops present(about 10 seconds for 1000 iterations)  but none the less scenario remain working.", "id": 149605, "time": "2011-09-22T06:27:05Z", "creator": "tedam@mail.ru", "creation_time": "2011-09-22T06:27:05Z", "is_private": false, "attachment_id": 27555}, {"count": 1, "tags": [], "bug_id": 51865, "text": "For reproducing the bug please set \"Forever\" option for \"Main actions(loop)\"", "id": 149606, "time": "2011-09-22T06:31:32Z", "creator": "tedam@mail.ru", "creation_time": "2011-09-22T06:31:32Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "tedam@mail.ru", "text": "I turned on DEBUG logging\nSuch strings are repeated in log:\n2011/09/22 15:08:31 DEBUG - jmeter.testelement.property.AbstractProperty: Running version, executing function \n2011/09/22 15:08:31 DEBUG - jmeter.control.GenericController: Calling next on: org.apache.jmeter.control.LoopController \n2011/09/22 15:08:31 DEBUG - jmeter.control.GenericController: Calling next on: org.apache.jmeter.control.LoopController \n2011/09/22 15:08:31 DEBUG - jmeter.control.GenericController: Calling next on: org.apache.jmeter.control.LoopController \n2011/09/22 15:08:31 DEBUG - jmeter.control.GenericController: Calling next on: org.apache.jmeter.control.LoopController \n2011/09/22 15:08:31 DEBUG - jmeter.control.GenericController: Calling next on: org.apache.jmeter.control.LoopController \n2011/09/22 15:08:31 DEBUG - jmeter.control.GenericController: Calling next on: org.apache.jmeter.control.LoopController \n2011/09/22 15:08:31 DEBUG - jmeter.control.GenericController: Calling next on: org.apache.jmeter.control.LoopController \n2011/09/22 15:08:31 DEBUG - jmeter.control.GenericController: Calling next on: org.apache.jmeter.control.LoopController \n2011/09/22 15:08:31 DEBUG - jmeter.control.GenericController: Calling next on: org.apache.jmeter.control.LoopController \nmay it can help to resolve problem?", "id": 149623, "time": "2011-09-22T11:11:09Z", "bug_id": 51865, "creation_time": "2011-09-22T11:11:09Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 51865, "attachment_id": null, "id": 149697, "time": "2011-09-23T14:01:57Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-09-23T14:01:57Z", "is_private": false, "text": "Issue is fixed in Trunk (upcoming 2.5.1).\n\nRegards\nPhilippe Mouawad"}, {"count": 4, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "id": 149709, "time": "2011-09-23T17:08:58Z", "bug_id": 51865, "creation_time": "2011-09-23T17:08:58Z", "tags": [], "text": "Hello,\n2.5.1 should be available within 2 or 3 days.\nMeanwhile if you can build JMeter from source and check issue is fixed for you it would be great.\nOtherwise test when 2.5.1 is available and answer by saying:\n- OK we will close issue\n- KO => Describe Issue\n\nThat's the info needed.\n\nRegards\nPhilippe Mouawad"}, {"count": 5, "attachment_id": null, "bug_id": 51865, "is_private": false, "id": 149710, "time": "2011-09-23T17:32:29Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-09-23T17:32:29Z", "tags": [], "text": "You can get last nightly build here if you don't want to build:\nhttps://builds.apache.org/job/JMeter-trunk/lastSuccessfulBuild/artifact/trunk/dist/\n\nRegards\nPhilippe"}, {"count": 6, "tags": [], "bug_id": 51865, "attachment_id": null, "is_private": false, "id": 151072, "time": "2011-10-31T10:52:12Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-10-31T10:52:12Z", "text": "Date: Mon Oct 31 10:50:11 2011\nNew Revision: 1195404\n\nURL: http://svn.apache.org/viewvc?rev=1195404&view=rev\nLog:\nFix to Start Next Loop broken feature, fixes following issues:\n- Bug 51865 - Infinite loop inside thread group does not work properly if \"Start next loop after a Sample error\" option set\n- Bug 51868 - A lot of exceptions in jmeter.log while using option \"Start next loop\" for thread\n- Bug 51866 - Counter under loop doesn't work properly if \"Start next loop on error\" option set for thread group\n\n\nAdded:\n   jakarta/jmeter/trunk/src/core/org/apache/jmeter/threads/FindTestElementsUpToRootTraverser.java   (with props)\nModified:\n   jakarta/jmeter/trunk/src/components/org/apache/jmeter/control/ForeachController.java\n   jakarta/jmeter/trunk/src/core/org/apache/jmeter/control/Controller.java\n   jakarta/jmeter/trunk/src/core/org/apache/jmeter/control/GenericController.java\n   jakarta/jmeter/trunk/src/core/org/apache/jmeter/control/IfController.java\n   jakarta/jmeter/trunk/src/core/org/apache/jmeter/control/LoopController.java\n   jakarta/jmeter/trunk/src/core/org/apache/jmeter/control/RunTime.java\n   jakarta/jmeter/trunk/src/core/org/apache/jmeter/control/WhileController.java\n   jakarta/jmeter/trunk/src/core/org/apache/jmeter/threads/AbstractThreadGroup.java\n   jakarta/jmeter/trunk/src/core/org/apache/jmeter/threads/JMeterThread.java\n   jakarta/jmeter/trunk/xdocs/changes.xml"}, {"count": 7, "tags": [], "bug_id": 51865, "text": "Hello,\nA Fix has been provided, it would be Nice of you to test it and submit a comment confirming it is fixed for you.\n\nRegards", "id": 151099, "time": "2011-11-01T10:05:51Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-11-01T10:05:51Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 51865, "is_private": false, "text": "verified on r1213077 - my simplified example works OK", "id": 152141, "time": "2011-12-13T13:18:32Z", "creator": "tedam@mail.ru", "creation_time": "2011-12-13T13:18:32Z", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 51865, "attachment_id": null, "id": 152801, "time": "2012-01-15T13:44:14Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-01-15T13:44:14Z", "is_private": false, "text": "Thanks for verification.\nMarking issue as RESOLVED to avoid it appearing in Bug Report."}]