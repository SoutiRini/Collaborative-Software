[{"count": 0, "attachment_id": null, "creator": "taras.tielkes@gmail.com", "text": "The 5.5.13-beta release includes a workaround for webapp Classloader reference\nleaks.\nFrom the changelog:\n-------------\n(Add code to set to null fields in loaded classes when stopping a web\napplication, as a possible workaround for suspicious garbage collection\nbehavior. (remm))\n-------------\n\nThe workaround minimizes the symtoms, but not the causes of webapp Classloader\nleaks.\nFor purposes of diagnotics, I'd like to be able to revert back to the old\nbehaviour, with the workaround code disabled.\n\nThis behaviour should be configurable, similar to how \"antiResourceLocking\" and\n\"antiJARLocking\" are configurable on the Context level.", "id": 83776, "time": "2005-12-18T19:25:11Z", "bug_id": 37956, "creation_time": "2005-12-18T19:25:11Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 37956, "attachment_id": null, "id": 87946, "time": "2006-04-13T19:01:37Z", "creator": "yoavs@computer.org", "creation_time": "2006-04-13T19:01:37Z", "is_private": false, "text": "Changing to an enhancement request.  Taras, if you feel like submitting a patch,\nthat'd be great."}, {"count": 2, "tags": [], "bug_id": 37956, "attachment_id": null, "text": "Hi,\n\nI'd like to vote for this request. We have some problems with redeployment of a \nwebapp that seems to result from this workaround. The webapp runs several \nthreads (for example within JCS) that use Log4j with commons-logging. After the \nredeployment of the application these threads are trying to access the \nLogManager which results in a NPE as all the fields were set to null. So a \npossibility of disabling of the workaround would be really nice. I seem to have \na problem accessing the anonymous cvs, so I can't offer any patches, sorry.", "id": 89813, "time": "2006-06-06T10:45:42Z", "creator": "steffen.dienst@gmx.de", "creation_time": "2006-06-06T10:45:42Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 37956, "is_private": false, "text": "Is your access to anonymous CVS/SVN better now?", "id": 90272, "time": "2006-06-15T20:10:31Z", "creator": "yoavs@computer.org", "creation_time": "2006-06-15T20:10:31Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "steffen.dienst@gmx.de", "attachment_id": 19291, "is_private": false, "id": 97113, "time": "2006-12-20T02:09:35Z", "bug_id": 37956, "creation_time": "2006-12-20T02:09:35Z", "text": "Created attachment 19291\nFlag for toggling memory leak workaround\n\nThis patch for the container subproject adds a new flag to the context\nconfiguration named \"nullifyReferences\" that toggles the workaround for memory\nleaks on redeployment of webapplications, see changelog of the 5.5.13-beta\nrelease. The default is true."}, {"count": 5, "tags": [], "bug_id": 37956, "text": "Hi,\n\nthanks for the help. I finally had the time to look into this. I attached a \npatch that adds the flag we needed in the current trunk version. Per default \nthe workaround stays enabled. Additionally there was a minor version mismatch \nin the .classpath file.", "id": 97114, "time": "2006-12-20T02:11:39Z", "creator": "steffen.dienst@gmx.de", "creation_time": "2006-12-20T02:11:39Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 37956, "text": "Re-opening since the patch has not been committed to SVN.", "id": 97116, "time": "2006-12-20T04:42:36Z", "creator": "markt@apache.org", "creation_time": "2006-12-20T04:42:36Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 37956, "attachment_id": null, "id": 98025, "time": "2007-01-13T11:10:13Z", "creator": "bugzilla@thorsten-berger.net", "creation_time": "2007-01-13T11:10:13Z", "is_private": false, "text": "Is there any progress here?\nWe are facing some serious issues with this memory leak workaround (e.g. using\nojb cross-context prevents redeployment) and would like to see the config option\nin one of the next releases.\n\nRegards, Thorsten"}, {"count": 8, "attachment_id": null, "creator": "markt@apache.org", "text": "The behaviour will be made optional in TC5.5.x\n\n*** This bug has been marked as a duplicate of 41939 ***", "id": 101967, "time": "2007-04-19T20:00:53Z", "bug_id": 37956, "creation_time": "2007-04-19T20:00:53Z", "tags": [], "is_private": false}]