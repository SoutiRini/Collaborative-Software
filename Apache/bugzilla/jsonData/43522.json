[{"count": 0, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "is_private": false, "id": 108848, "time": "2007-10-01T06:52:58Z", "bug_id": 43522, "creation_time": "2007-10-01T06:52:58Z", "text": "httpd's mod_ext_filter sets up a child process with a stdin of\nAPR_CHILD_BLOCK, but on windows the parent side of the stdin pipe\ndefaults to a \"non-blocking pipe with an infinite (-1) timeout\".  Such\na pipe in unix has its apr_file_pipe_timeout() flipped to 0 during\napr_procattr_io_set().\n\nNet, a subsequent apr_file_read() behaves differently on the two\nplatforms when no data is available w/o the explicit\napr_file_pipe_timeout_set(foo, 0) call.\n\nWhile the API might be a little ambiguous, and the caller can\nexplicitly set the timeout, is this a discrepancy APR should\neliminate?"}, {"count": 1, "tags": [], "bug_id": 43522, "attachment_id": null, "text": "complicating test of this change:\n\napr_file_write() is returning APR_TIMEUP on windows when the timeout is set to 0\non the pipe; unix returns APR_EAGAIN in the same situation.\n\nIt wasn't  clear to me how to short-circuit the overlapped IO properly to return\nEAGAIN in file_io/win32/readwrite.c\n\n", "id": 109036, "time": "2007-10-05T11:54:32Z", "creator": "covener@gmail.com", "creation_time": "2007-10-05T11:54:32Z", "is_private": false}, {"count": 2, "tags": [], "text": "Created attachment 20928\nset pipe timeouts to 0 when non-blocking", "is_private": false, "bug_id": 43522, "id": 109037, "time": "2007-10-05T11:57:41Z", "creator": "covener@gmail.com", "creation_time": "2007-10-05T11:57:41Z", "attachment_id": 20928}, {"count": 3, "tags": [], "bug_id": 43522, "attachment_id": null, "text": "moved the apr_file_write() issue to 43563\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=43563", "id": 109039, "time": "2007-10-05T12:16:53Z", "creator": "covener@gmail.com", "creation_time": "2007-10-05T12:16:53Z", "is_private": false}, {"count": 4, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "id": 109254, "time": "2007-10-11T08:51:45Z", "bug_id": 43522, "creation_time": "2007-10-11T08:51:45Z", "is_private": false, "text": "committed to trunk and 1.2.x branch\nthanks!"}]