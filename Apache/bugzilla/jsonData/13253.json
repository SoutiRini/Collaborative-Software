[{"count": 0, "attachment_id": null, "creator": "srikanth_s_india@hotmail.com", "text": "Product: \t\tJava Web Application\nOperating system:\tRedhat Linux 7.3\nWeb Server:\t\tApache 1.3.x\nApplication server:\tTomcat 4.1.10\nDatabase server:\tMySQL 3.23.x\nJava Architecture:\tJSP (presentation) + Java Bean (Business logic)\nJDK version:\t\t1.3.1_04\n\nHi,\n\n\tWhen we tried to migrate our application from Tomcat 4.0.4 to Tomcat \n4.1.10, we found that the relative path references like ../xyz/ab.jsp are not \nproperly interpreted by Netscape and the url seen on the address bar is \nsomething like this (http://www.sww.com/../xyz/ab.jsp. Also dynamic jsp \nforwarding support seems to have changed. While forwarding, the dynamic \nparameters attached are automatically url encoded. We have tested our \napplication on Tomcat 4.0.4, there were no such issues. Since we have used \nthese sort of things in many places in our application it will be difficult for \nus to change in all those places. Can anybody tell us what we can do about it?  \n\nthanks in advance,\n\nSrikanth. S.", "id": 23847, "time": "2002-10-03T17:14:56Z", "bug_id": 13253, "creation_time": "2002-10-03T17:14:56Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 13253, "text": "Please do not file user questions as bugs (only report specific issues, with a\ntest case, or detailed instructions on how to reproduce the problem). Use one of\nthe support channels for that.\nAlso, try to test with the latest available release when possible.", "id": 23849, "time": "2002-10-03T17:28:07Z", "creator": "remm@apache.org", "creation_time": "2002-10-03T17:28:07Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 13253, "is_private": false, "text": "Hi,\n\nhttp://www.xyz.com/swiz/test.jsp:\n\n    <%\n      response.sendRedirect(\"../sebase/common_login.jsp\");\n    %>\n\n\n     When I run http://www.xyz.com/swiz/test.jsp with the above code, the url \ndisplayed as http://www.xyz.com/swiz/../sebase/common_login.jsp in Netscape \naddress bar when the application is run on tomcat 4.1.10. With Internet \nexplorer and opera, it reads http://www.xyz.com/sebase/common_login.jsp. But on \nTomcat 4.0.4, there is no problem even with Netscape. Since we are tracking the \nurls in many places in our application, we are having problem because of the \nabove said type of url interpretation.\n\n\nthanks in advance,\n\nSrikanth. S.", "id": 23881, "time": "2002-10-04T04:29:56Z", "creator": "srikanth_s_india@hotmail.com", "creation_time": "2002-10-04T04:29:56Z", "attachment_id": null}, {"count": 3, "attachment_id": null, "creator": "remm@apache.org", "text": "Please reread my answer. For example, sendRedirect only accpts an absolute path.", "id": 23884, "time": "2002-10-04T05:39:20Z", "bug_id": 13253, "creation_time": "2002-10-04T05:39:20Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 13253, "attachment_id": null, "text": "Sorry, I confused with a redirect.\n\nAnyway, I don't see any need for Tomcat to normalize the redirected URL. It will\nbe normalized during the processing of the next request.\nhttp://www.xyz.com/swiz/../sebase/common_login.jsp is equivalent to\nhttp://www.xyz.com/sebase/common_login.jsp", "id": 23885, "time": "2002-10-04T05:53:47Z", "creator": "remm@apache.org", "creation_time": "2002-10-04T05:53:47Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 13253, "attachment_id": null, "text": "From the spec (2.3, section 5.3): \"It is legal to call this method with a\nrelative URL path, however the underlying container must translate the relative\npath to a fully qualified URL for transmission back to the client. If a partial\nURL is given and, for whatever reason, cannot be converted into a valid URL,\nthen this method must throw an IllegalArgumentException.\"\n\nThough you could argue that this is still a fully qualified URL, and thus that\nwhat tomcat is currently doing is allowed, it would be a pretty tenuous argument\n(at best), and it's pretty clearly violating the spirit, if not the word, of the\nspec.", "id": 23886, "time": "2002-10-04T06:01:59Z", "creator": "msmith@ns.xn.com.au", "creation_time": "2002-10-04T06:01:59Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 13253, "attachment_id": null, "is_private": false, "id": 23887, "time": "2002-10-04T06:38:14Z", "creator": "william.barker@wilshire.com", "creation_time": "2002-10-04T06:38:14Z", "text": "I'm going to agree with Srikanth and Michael here.  In almost all use \nconditions this is a non-critical path, so Coyote's optimizations are wasted.  \nReverting to the HttpConnector's code, to me, seems to be better."}, {"count": 7, "tags": [], "text": "Feel free to add some normalization code then, but this is a cosmetic issue.\nCoyote's normalization when processing the request is more or less free\nperformance wise.", "is_private": false, "id": 23888, "creator": "remm@apache.org", "time": "2002-10-04T06:44:33Z", "bug_id": 13253, "creation_time": "2002-10-04T06:44:33Z", "attachment_id": null}, {"count": 8, "tags": [], "creator": "william.barker@wilshire.com", "text": "Done for 4.1.13.", "id": 23889, "time": "2002-10-04T07:05:14Z", "bug_id": 13253, "creation_time": "2002-10-04T07:05:14Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 13253, "text": "That was fast :) Thanks Bill.", "id": 23890, "time": "2002-10-04T07:17:10Z", "creator": "remm@apache.org", "creation_time": "2002-10-04T07:17:10Z", "is_private": false, "attachment_id": null}]