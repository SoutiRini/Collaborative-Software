[{"count": 0, "tags": [], "bug_id": 33002, "attachment_id": null, "id": 69399, "time": "2005-01-07T22:39:10Z", "creator": "sastelting@earthlink.net", "creation_time": "2005-01-07T22:39:10Z", "is_private": false, "text": "Reference: the 2.4 Servlet API specification, (SRV.2.3.3.2)\n\n      A Web component that signals permanent unavailability by throwing the\nUnavailableException (using the 1-arg constructor without a time value) should\ncause a Web container to return a SC_NOT-FOUND (404) response. Instead, the Web\ncontainer returns an SC_SERVICE_UNAVAILABLE (503) response code."}, {"count": 1, "tags": [], "bug_id": 33002, "attachment_id": null, "id": 69413, "time": "2005-01-07T23:59:08Z", "creator": "remm@apache.org", "creation_time": "2005-01-07T23:59:08Z", "is_private": false, "text": "Please provide a war test case."}, {"count": 2, "tags": [], "text": "There's a test case for this in the Tomcat tester web application. This is for\nthrowing unavailable on init of a servlet. The code is identical for service, so\nit should work.\n\nPlease do not reopen this report.", "attachment_id": null, "bug_id": 33002, "id": 69646, "time": "2005-01-13T19:20:54Z", "creator": "remm@apache.org", "creation_time": "2005-01-13T19:20:54Z", "is_private": false}, {"count": 3, "tags": [], "creator": "sastelting@earthlink.net", "text": "No, the specification states that the 404 error should be returned for permanent\nunavailability in the service method. Exceptions in init are covered in\nSRV2.3.2; the bug I refer to relates to the third paragraph of SRV2.3.3.2\n\nFor the init method, (SRV2.3.2.1) the specification implies that permanent\nunavailability is treated the same way as a ServletException... the Web\ncomponent will be released, but the container can immediately attempt to\nrecreate the object.\n\nI will provide a test case to you, but it will take me a day or two.", "id": 69647, "attachment_id": null, "bug_id": 33002, "creation_time": "2005-01-13T19:38:28Z", "time": "2005-01-13T19:38:28Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 33002, "attachment_id": null, "text": "As I said, we have a test case for this, and it works fine. I recommend you\ndon't waste your time, and reopen the report.", "id": 69650, "time": "2005-01-13T21:01:29Z", "creator": "remm@apache.org", "creation_time": "2005-01-13T21:01:29Z", "is_private": false}]