[{"count": 0, "tags": [], "bug_id": 1595, "attachment_id": null, "text": "recently tried to upgrade the parser I was\nusing from 1.2.1 to 1.3.1 and encountered the\nfollowing problem:\n\n1) in my code I do the following:\nDOMParser domparser=new DOMParser();\ndomparser.setEntityResolver(s_ddresolver);\n       domparser.setFeature( \"http://apache.org/xml/features/dom/defer-node-\nexpansion\", true);\n       domparser.setFeature( \"http://xml.org/sax/features/validation\", auditLog!\n=null);\n       domparser.setFeature( \"http://xml.org/sax/features/namespaces\", true);\n       domparser.setFeature\n( \"http://apache.org/xml/features/validation/schema\", auditLog!=null);\n\n      domparser.parse(is);\n      Document ret = domparser.getDocument();\n\nin 1.2.1, the DOMParser called my EntityResolver for all external elements\nin 1.3.1, it no longer does.\n\nexample xml:\n<joobe id=\"8\" type=\"j11\" xmlns:xsi=\"http://www.w3.org/1999/XMLSchema-instance\"  \nxsi:noNamespaceSchemaLocation='main.xsd'>\n    <car>red</car>\n</joobe>\n\nnow I get:\n\norg.xml.sax.SAXParseException: Element type \"paymentList\" must be declared.\n\n\tat org.apache.xerces.framework.XMLParser.reportError\n(XMLParser.java:1067)\n\n\tat \norg.apache.xerces.validators.common.XMLValidator.reportRecoverableXMLError\n(XMLValidator.java:1645)\n\n\tat \norg.apache.xerces.validators.common.XMLValidator.validateElementAndAttributes\n(XMLValidator.java:3236)\n\n\tat org.apache.xerces.validators.common.XMLValidator.callStartElement\n(XMLValidator.java:1129)\n\n\tat org.apache.xerces.framework.XMLDocumentScanner.scanElement\n(XMLDocumentScanner.java:1862)\n\n\tat \norg.apache.xerces.framework.XMLDocumentScanner$ContentDispatcher.dispatch\n(XMLDocumentScanner.java:1005)\n\n\tat org.apache.xerces.framework.XMLDocumentScanner.parseSome\n(XMLDocumentScanner.java:381)\n\n\tat org.apache.xerces.framework.XMLParser.parse(XMLParser.java:952)\n        at joobeParser.parse(joobeParser.java:952)\n\nthe other weird thing is that the stack trace is incomplete since\nthere should be a \"at org.apache....DOMParser\" shouldn't there?", "id": 2199, "time": "2001-05-01T23:22:16Z", "creator": "theroland@earthlink.net", "creation_time": "2001-05-01T23:22:16Z", "is_private": false}, {"count": 1, "tags": [], "creator": "theroland@earthlink.net", "attachment_id": null, "is_private": false, "id": 2200, "time": "2001-05-01T23:25:12Z", "bug_id": 1595, "creation_time": "2001-05-01T23:25:12Z", "text": "oops, that stack trace was from a different document\nthe actual element it complains about is joobe the root element.\nsorry about that"}, {"count": 2, "tags": [], "creator": "elena@apache.org", "text": "If you still have a problem - please open a new bug", "id": 3196, "time": "2001-06-22T09:03:52Z", "bug_id": 1595, "creation_time": "2001-06-22T09:03:52Z", "is_private": false, "attachment_id": null}]