[{"count": 0, "tags": [], "bug_id": 2498, "attachment_id": null, "id": 3489, "time": "2001-07-07T18:19:21Z", "creator": "toraneko@kun.ne.jp", "creation_time": "2001-07-07T18:19:21Z", "is_private": false, "text": "I get invalid HTML which isn't closed table tag when use HTMLLayout because\nWriterAppender doesn't flush footer output.\n\nHere is a patch.\n\ndiff -uNr src.orig/java/org/apache/log4j/WriterAppender.java\nsrc/java/org/apache/log4j/WriterAppender.java\n--- src.orig/java/org/apache/log4j/WriterAppender.java\tSat Jul  7 10:22:34 2001\n+++ src/java/org/apache/log4j/WriterAppender.java\tSat Jul  7 10:23:10 2001\n@@ -341,8 +341,10 @@\n   void writeFooter() {\n\n     if(layout != null) {\n\n       String f = layout.getFooter();\n\n-      if(f != null && this.qw != null)\n\n+      if(f != null && this.qw != null) {\n\n \tthis.qw.write(f);\n\n+\nthis.qw.flush();\n\n+      }\n\n     }\n\n   }\n\n\n\n----\nAnd we must excute System.runFinalizersOnExit(true) to call finalize\nmethod at AppenderSkelton when I use HTMLAppender. You should write it\nto document.\n\n---\nTakashi"}, {"count": 1, "tags": [], "text": "\nAdded the change you suggested to our CVS repository.", "attachment_id": null, "id": 15676, "creator": "ceki@apache.org", "time": "2002-05-07T22:16:02Z", "bug_id": 2498, "creation_time": "2002-05-07T22:16:02Z", "is_private": false}]