[{"count": 0, "attachment_id": null, "creator": "mark@node.to", "text": "openssl version 0.9.7d\nsolaris 2.7 \nworker mpm\nMAY be related to PR #28577\n\nhttpd segfaults after random number of accesses.\nhere is the gdb stack trace capture while running:\ngdb bin/httpd\ngdb> run -X -f conf/httpd.conf -DSSL\n\n.\n. (launches LWPs)\n.\n\nProgram received signal SIGSEGV, Segmentation fault.\nallocator_free (allocator=0x2db658, node=0x0) at apr_pools.c:324\n324     apr_pools.c: No such file or directory.\n(gdb) bt\n#0  allocator_free (allocator=0x2db658, node=0x0) at apr_pools.c:324\n#1  0xff167ca0 in apr_pool_clear (pool=0x32f868) at apr_pools.c:713\n#2  0x80440 in core_output_filter (f=0x31a270, b=0x32f8a0) at core.c:4163\n#3  0x784a8 in ap_pass_brigade (next=0x31a270, bb=0x32f8a0) at util_filter.c:511\n#4  0x41954 in bio_filter_out_flush (bio=0x1) at ssl_engine_io.c:154\n#5  0x41a88 in bio_filter_out_write (bio=0xffffffff, in=0x79e438 \"\\025\\003\", inl=23)\n    at ssl_engine_io.c:220\n#6  0xff29447c in BIO_write () from /usr/local/ssl/lib/libcrypto.so.0.9.7\n#7  0xff357634 in ssl3_write_pending () from /usr/local/ssl/lib/libssl.so.0.9.7\n#8  0xff358264 in ssl3_dispatch_alert () from /usr/local/ssl/lib/libssl.so.0.9.7\n#9  0xff355b3c in ssl3_shutdown () from /usr/local/ssl/lib/libssl.so.0.9.7\n#10 0xff35e1f4 in SSL_shutdown () from /usr/local/ssl/lib/libssl.so.0.9.7\n#11 0x4ebb0 in SSL_smart_shutdown (ssl=0x74eb08) at ssl_util_ssl.c:188\n#12 0x42848 in ssl_filter_io_shutdown (filter_ctx=0x2f8b88, c=0x2f87f8, abortive=0)\n        at ssl_engine_io.c:955\n#13 0x4293c in ssl_io_filter_cleanup (data=0x2f8b88) at ssl_engine_io.c:996\n#14 0xff168538 in run_cleanups (cref=0x2f8700) at apr_pools.c:1951\n#15 0xff167c5c in apr_pool_clear (pool=0x2f86f0) at apr_pools.c:693\n#16 0x67e5c in worker_thread (thd=0x125000, dummy=0x2f86f0) at worker.c:847\n#17 0xff1635bc in dummy_worker (opaque=0x125000) at thread.c:88", "id": 57623, "time": "2004-05-18T21:22:56Z", "bug_id": 29073, "creation_time": "2004-05-18T21:22:56Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "mark@node.to", "attachment_id": null, "id": 58065, "time": "2004-05-25T17:16:48Z", "bug_id": 29073, "creation_time": "2004-05-25T17:16:48Z", "is_private": false, "text": "FYI: this does not happen with prefork mpm, only with worker."}, {"count": 2, "tags": [], "creator": "jorton@redhat.com", "text": "Try this patch:\n\nhttp://cvs.apache.org/viewcvs.cgi/httpd-2.0/modules/ssl/ssl_engine_io.c?r1=1.121&r2=1.122\n\n\n*** This bug has been marked as a duplicate of 27945 ***", "id": 58082, "time": "2004-05-25T19:15:18Z", "bug_id": 29073, "creation_time": "2004-05-25T19:15:18Z", "is_private": false, "attachment_id": null}]