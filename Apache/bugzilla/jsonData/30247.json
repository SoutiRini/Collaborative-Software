[{"count": 0, "tags": [], "bug_id": 30247, "attachment_id": null, "is_private": false, "id": 60944, "time": "2004-07-21T23:39:33Z", "creator": "jeffl@spatialinfo.com", "creation_time": "2004-07-21T23:39:33Z", "text": "The online documentation installed with Apache 2.0.50 says:\n\n>>> Signal: TERM\n>>>    apachectl -k stop \n\nbut its not the apachectl script that takes the -k switch, its the httpd binary."}, {"count": 1, "tags": [], "creator": "trawick@apache.org", "text": "(1) apachectl is the proper (most portable) way to invoke Apache 2.0's httpd\n(2) apachectl passes through any arguments other than the single argument\nkeywords (stop, start, restart, etc.) to httpd\n\nThus, \"apachectl -k stop\" is an appropriate invocation and the best way to use\nthe \"-k stop\" command line, since apachectl ensures that any required\nenvironment variables are set up prior to invoking httpd.", "id": 60945, "time": "2004-07-22T00:21:47Z", "bug_id": 30247, "creation_time": "2004-07-22T00:21:47Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 30247, "attachment_id": null, "text": "Sorry, but the closer did *NOT* pay attention to what I reported.  Here is an\nextract from the apachectl script that was installed on my machine.\n\n    case $ARGV in\n    start|stop|restart|graceful)\n        $HTTPD -k $ARGV\n        ERROR=$?\n        ;;\n\nNote that apachectl is putting the -k switch in itself prior to calling httpd.\n\nNow, if someone wants to say that the design of httpd is to expect '-k -k stop'\nthen I'll shut up.  But I doubt it.", "id": 60946, "time": "2004-07-22T00:42:25Z", "creator": "jeffl@spatialinfo.com", "creation_time": "2004-07-22T00:42:25Z", "is_private": false}, {"count": 3, "tags": [], "creator": "trawick@apache.org", "is_private": false, "text": "Put it like this:\n\nStart Apache via \"apachectl -k start\" or \"apachectl start\".  Do both work?  If\nnot, there is a problem.\n\nThen stop Apache via \"apachectl -k stop\" or \"apachectl stop\".  Do both work?  If\nnot, there is a problem.\n\nExample:\n\n[trawick@aplinux built]$ bin/apachectl start\n[trawick@aplinux built]$ bin/apachectl stop\n[trawick@aplinux built]$ bin/apachectl -k start\n[trawick@aplinux built]$ bin/apachectl -k stop\n\nA very small tutorial on reading shell scripts:\n\nThe line from apachectl which you pointed out which passes the -k to httpd\n(\"$HTTPD -k $ARGV\") does not execute in the testcase you described because when\nyou run \"apachectl -k stop\" then $ARGV will not match any of\n\"start|stop|restart|graceful\".  Instead, \"apachectl -k stop\" will pass right\nover that logic and go on to the default for that case statement:\n\n*)\n    $HTTPD $ARGV\n    ERROR=$?\n\n$ARGV will be \"-k stop\" so \"-k stop\" with only one \"-k\" will be passed to httpd.\nPut some echo statements in there to show flow of control and to display $ARGV\nfor different invocations of apachectl.\n\n--/--\n\nmeta: My prior update to this PR was not at all rude and I am disturbed that you\nwould not take it in good faith and restrict your response to further study of\nthe issue but instead make a comment such as \"the closer did *NOT* pay attention\nto what I reported.\"\n\nhttp://www.apache.org/~trawick/patience.html\n", "id": 60949, "time": "2004-07-22T02:24:53Z", "bug_id": 30247, "creation_time": "2004-07-22T02:24:53Z", "attachment_id": null}]