[{"count": 0, "tags": [], "bug_id": 40232, "attachment_id": null, "is_private": false, "id": 92144, "time": "2006-08-11T14:56:43Z", "creator": "croller@generali.fr", "creation_time": "2006-08-11T14:56:43Z", "text": "When serving objects with Apache 2.2.3, acting as a reverse proxy, date header\nfrom server's response is replaced by Apache server's date.\n\nBefore Apache 2.2.3 :\nHTTP/1.1 200 OK\nDate: Tue, 08 Aug 2006 16:14:33 GMT\nServer: Microsoft-IIS/6.0\nX-Powered-By: ASP.NET\nContent-Length: 98\nContent-Type: text/html; Charset=utf-8\nExpires: Tue, 08 Aug 2006 16:13:33 GMT\nCache-control: no-cache\n\nAfter Apache 2.2.3 :\nHTTP/1.1 200 OK\nDate: Tue, 08 Aug 2006 16:12:43 GMT\nServer: Microsoft-IIS/6.0\nX-Powered-By: ASP.NET\nContent-Length: 98\nContent-Type: text/html; Charset=utf-8\nExpires: Tue, 08 Aug 2006 16:13:33 GMT\nCache-control: no-cache\nKeep-Alive: timeout=15\nConnection: Keep-Alive\n\nFor this particular virtual host, the date is 2 min before Apache server's date\nand this is very problematic for caching purpose. I know that setting date\nproperly will fix the caching loop it occurs (and this will be done shortly),\nbut in my understanding of the related rfc, when date header is set, it mustn't\nbe changed.\n\nIn a different environnement (same application/virtual host) with another Apache\n(1.3.22), the header date is not modified :\nBefore Apache 1.3.22 :\nHTTP/1.1 200 OK\nConnection: close\nDate: Tue, 08 Aug 2006 21:47:54 GMT\nServer: Microsoft-IIS/6.0\nX-Powered-By: ASP.NET\nContent-Length: 98\nContent-Type: text/html; Charset=utf-8\nExpires: Tue, 08 Aug 2006 21:46:54 GMT\nCache-control: no-cache\n\nAfter Apache 1.3.22 :\nHTTP/1.0 200 OK\nDate: Tue, 08 Aug 2006 21:47:54 GMT\nServer: Microsoft-IIS/6.0\nX-Powered-By: ASP.NET\nContent-Length: 98\nContent-Type: text/html; Charset=utf-8\nExpires: Tue, 08 Aug 2006 21:46:54 GMT\nCache-control: no-cache\n\nMy configuration is Apache 2.2.3 (worker) on a RHEL ES 3 Update 8 (Linux ternes\n2.4.21-47.ELsmp #1 SMP Wed Jul 5 20) : for several virtual hosts (with disk\ncache enabled)."}, {"attachment_id": null, "tags": [], "bug_id": 40232, "is_private": false, "count": 1, "id": 94176, "time": "2006-09-27T19:33:13Z", "creator": "rpluem@apache.org", "creation_time": "2006-09-27T19:33:13Z", "text": "I agree with this. Could you please give the attached patch against trunk\n(should also work against 2.2.x) a try and report back?"}, {"attachment_id": 18923, "tags": [], "creator": "rpluem@apache.org", "text": "Created attachment 18923\nPatch against trunk", "count": 2, "id": 94177, "time": "2006-09-27T19:33:54Z", "bug_id": 40232, "creation_time": "2006-09-27T19:33:54Z", "is_private": false}, {"count": 3, "attachment_id": null, "creator": "croller@generali.fr", "text": "I apply the attached patch against the 2.2.3 version and it works perfectly now !\nMany thanks !!!", "id": 94372, "time": "2006-10-02T06:47:41Z", "bug_id": 40232, "creation_time": "2006-10-02T06:47:41Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 40232, "text": "Committed to trunk as r483633\n(http://svn.apache.org/viewvc?view=rev&revision=483633).", "count": 4, "id": 96626, "time": "2006-12-07T12:02:25Z", "creator": "rpluem@apache.org", "creation_time": "2006-12-07T12:02:25Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 40232, "text": "Proposed for backport as r571936 (http://svn.apache.org/viewvc?rev=571936&view=rev).", "id": 107602, "time": "2007-09-02T03:00:38Z", "creator": "rpluem@apache.org", "creation_time": "2007-09-02T03:00:38Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 40232, "is_private": false, "count": 6, "id": 107666, "time": "2007-09-03T11:53:14Z", "creator": "rpluem@apache.org", "creation_time": "2007-09-03T11:53:14Z", "text": "Backported as r572272 (http://svn.apache.org/viewvc?rev=572272&view=rev)."}]