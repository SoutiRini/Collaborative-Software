[{"count": 0, "tags": [], "bug_id": 42646, "attachment_id": null, "id": 104350, "time": "2007-06-12T15:59:38Z", "creator": "dario.vasconcelos@gmail.com", "creation_time": "2007-06-12T15:59:38Z", "is_private": false, "text": "Hi,\nI have some code that works on other version of Tomcat, that sets the\nContent-disposition header to \"attachment\" so the download dialog appears in the\nbrowser, the problem is that this same code doesn't work under Tomcat 4.1.36 on\nia64.\n\nThis is the output of uname -a:\n    Linux poseidon 2.4.21-40.EL #1 SMP Thu Feb 2 22:12:47 EST 2006 ia64 ia64\nia64 GNU/Linux\n\nThe code is pretty much like this:\n\n\t\tHttpServletResponse resp = cycle.getRequestContext().getResponse();\n\t\toutput.setContentType(\"text/plain\");\n\n\t\tresp.setHeader(\"Content-disposition\", \n\t\t\t\t\t\t\"attachment; filename=\\\"\" + fileName + \"\\\"\");\n\nit is done in Tapestry but as I said, the same code works under Linux (on a VM\non my Windows machine) and under Windows.\n\nThe output log sometimes shows ClientAbortException, but with the code I'm\ncopying, it doesn't send anything to the browser..."}, {"count": 1, "tags": [], "bug_id": 42646, "attachment_id": null, "id": 104456, "time": "2007-06-15T18:18:19Z", "creator": "markt@apache.org", "creation_time": "2007-06-15T18:18:19Z", "is_private": false, "text": "That it works on one platform but not another suggests an issue with the\nconfiguration of the platform. I suggest you follow up on the users list but\nsome things to check that might save you an e-mail:\n- does it work if you do this in a simple servlet?\n- anything in the logs?\n- try proxying through Axis's TcpMon to see exactly what headers are going back\nand forth"}]