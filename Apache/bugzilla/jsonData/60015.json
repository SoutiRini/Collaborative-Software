[{"attachment_id": 34160, "tags": [], "creator": "kaluramghelot89@gmail.com", "text": "Created attachment 34160\nsample jmx test file that we are using\n\nUnable to send the file as a multi-part/form data for PUT request using HTTP Sampler with HTTPClient4.\nPlease find attached a sample jmx test for the same.\n\nThe equivalent cURL command for the same is :\ncurl --proxy http://our_proxyurl -v -4 -k -u username:somepass -X PUT -F \"file1=@C:\\Users\\tempuser\\Desktop\\temp\\myfile.zip\" \"https://some_servername//some_api/upload?project=projectname\"\n\nIt works fine with this cURL command. And we receive a proper response.\nWe have tried using both jMeter v 2.13 and jMeter v 3.0.", "count": 0, "id": 193176, "time": "2016-08-18T14:31:46Z", "bug_id": 60015, "creation_time": "2016-08-18T14:31:46Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 60015, "text": "Your issue is probably due to a known limitation of HC4 , see Bug 57242.\n\nCan you disable Basic Auth on your server or pass a header (using Header Manager):\nAuthorization : Basic <base64 encoded version of <username>:<password>>\n\nCan you try this and give feedback ?\nThank you", "id": 193192, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-08-18T20:08:22Z", "time": "2016-08-18T20:08:22Z", "is_private": false}, {"count": 2, "attachment_id": null, "creator": "kaluramghelot89@gmail.com", "is_private": false, "id": 193211, "time": "2016-08-19T07:04:58Z", "bug_id": 60015, "creation_time": "2016-08-19T07:04:58Z", "tags": [], "text": "Hi Philippe\n\nWe had already tried using the Authorization header as well. Still we were facing the issue. \n\nI think the actual issue is that in case of PUT method there is no multipart request is being sent, as we do for POST method. And that is what might be causing the actual failure."}, {"count": 3, "attachment_id": null, "bug_id": 60015, "text": "(In reply to kaluramghelot89 from comment #2)\n> Hi Philippe\n> \n> We had already tried using the Authorization header as well. Still we were\n> facing the issue. \n> \n> I think the actual issue is that in case of PUT method there is no multipart\n> request is being sent, as we do for POST method. And that is what might be\n> causing the actual failure.\nI don't understand as it works in my test with Http Mirror Server .\nDid you try using HttpClient 3.1 ?\nThanks", "id": 193212, "time": "2016-08-19T07:09:04Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-08-19T07:09:04Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "text": "(In reply to Philippe Mouawad from comment #3)\n> (In reply to kaluramghelot89 from comment #2)\n> > Hi Philippe\n> > \n> > We had already tried using the Authorization header as well. Still we were\n> > facing the issue. \n> > \n> > I think the actual issue is that in case of PUT method there is no multipart\n> > request is being sent, as we do for POST method. And that is what might be\n> > causing the actual failure.\n> I don't understand as it works in my test with Http Mirror Server .\n> Did you try using HttpClient 3.1 ?\n> Thanks\n\nWe have not tried with HttpClient 3.1.\nAlthough as a work around we are using the above mentioned cURL command using the OS Process Sampler.\n\nAnd are you sending multiple files with in your request? Also, would you please share the request that gets created when you are testing. \n\nIn our case the request that is getting created is somewhat similar to this:\n______________________________________________________________________________\nPUT https://somehost/api/upload?project=projectname\n\nPUT data:\n<actual file content, not shown here>\n\n[no cookies]\n\nRequest Headers:\nConnection: keep-alive\nAuthorization: Basic cnV***************************NQ==\nContent-Type: multipart/form-data\nContent-Length: 0\nHost: somehost\nUser-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_101)\n______________________________________________________________________________\n\nAnd what we want is : \n______________________________________________________________________________\nPUT /api/upload?project=projectname HTTP/1.1\nHost: somehost\nAuthorization: Basic cnV*****************************NQ==\nCache-Control: no-cache\nContent-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW\n\n------WebKitFormBoundary7MA4YWxkTrZu0gW\nContent-Disposition: form-data; name=\"file\"; filename=\"\"\nContent-Type: \n\n\n------WebKitFormBoundary7MA4YWxkTrZu0gW\nContent-Disposition: form-data; name=\"\"; filename=\"\"\nContent-Type: \n______________________________________________________________________________", "attachment_id": null, "id": 193222, "creation_time": "2016-08-19T12:33:36Z", "time": "2016-08-19T12:33:36Z", "creator": "kaluramghelot89@gmail.com", "bug_id": 60015, "is_private": false}, {"count": 5, "tags": [], "bug_id": 60015, "attachment_id": null, "id": 199793, "time": "2017-07-14T05:53:54Z", "creator": "nshah@mobiquityinc.com", "creation_time": "2017-07-14T05:53:54Z", "is_private": false, "text": "any updates on this. We are using jmeter for api testing in our project where we need to upload images using put request and we are not able to test it due to this issue. I am using jmeter 3.2 and in that multipart/form-data check box is disabled for put request.can somebody look into this issue?"}]