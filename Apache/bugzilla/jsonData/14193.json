[{"count": 0, "tags": [], "bug_id": 14193, "attachment_id": null, "id": 25510, "time": "2002-11-02T18:06:11Z", "creator": "mazzuca@rjnet.com.br", "creation_time": "2002-11-02T18:06:11Z", "is_private": false, "text": "Trying to create a new \"DefaultContext\" to set Tomcat to be \"Reloadable\" with \na \"Check interval\" different of the default 15s, using http://localhost/admin.\n\nThe Web application works right, and after saving and commiting the changes, \nthe server.xml is updated with the following lines:\n\n<DefaultContext className=\"org.apache.catalina.core.StandardDefaultContext\" \ncookies=\"true\" crossContext=\"true\" name=\"defaultContext\" reloadable=\"true\" \nswallowOutput=\"false\" useNaming=\"true\" \nwrapperClass=\"org.apache.catalina.core.StandardWrapper\">\n        <Loader className=\"org.apache.catalina.loader.WebappLoader\" \ncheckInterval=\"10\" debug=\"0\" delegate=\"false\" \nloaderClass=\"org.apache.catalina.loader.WebappClassLoader\" reloadable=\"true\"/>\n</DefaultContext>\n\nAfter that, Tomcat works well, but if you try to restart it, it crashes. At the \nend you can find the error message.\n\nAlso note that if you create a new \"DefaultContext\" and set \"Reloadable\" to \ntrue, but without altering the default \"Check interval\", Tomcat restarts \nwithout problems. However, in this case, if you enter again in the \nhttp://localhost/admin web application, and click the new icon \"DefaultContext\" \nin the left panel, you will receive the message \"HTTP Status 500 - Error \nretrieving attribute debug\".\n\nHere is the error exception:\n\n...\n02/11/2002 14:55:55 org.apache.commons.digester.Digester startElement\nSEVERE: Begin event threw exception\njava.lang.ClassCastException\n        at org.apache.catalina.startup.CreateLoaderRule.begin(ContextRuleSe\na:306)\n        at org.apache.commons.digester.Digester.startElement(Digester.java:\n\n        at org.apache.xerces.parsers.AbstractSAXParser.startElement(Abstrac\narser.java:454)\n        at org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement\nractXMLDocumentParser.java:217)\n        at org.apache.xerces.impl.XMLNamespaceBinder.emptyElement(XMLNamesp\nnder.java:594)\n        at org.apache.xerces.impl.dtd.XMLDTDValidator.emptyElement(XMLDTDVa\nor.java:777)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartE\nt(XMLDocumentFragmentScannerImpl.java:748)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentCo\nDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1453)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocume\nLDocumentFragmentScannerImpl.java:333)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(DTDConfiguratio\na:524)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(DTDConfiguratio\na:580)\n        at org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:152)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXPar\nava:1169)\n        at org.apache.commons.digester.Digester.parse(Digester.java:1495)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:449)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessor\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethod\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\nCatalina.start: java.lang.ClassCastException\njava.lang.ClassCastException\n        at org.apache.commons.digester.Digester.createSAXException(Digester\n:2312)\n        at org.apache.commons.digester.Digester.createSAXException(Digester\n:2332)\n        at org.apache.commons.digester.Digester.startElement(Digester.java:\n\n        at org.apache.xerces.parsers.AbstractSAXParser.startElement(Abstrac\narser.java:454)\n        at org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement\nractXMLDocumentParser.java:217)\n        at org.apache.xerces.impl.XMLNamespaceBinder.emptyElement(XMLNamesp\nnder.java:594)\n        at org.apache.xerces.impl.dtd.XMLDTDValidator.emptyElement(XMLDTDVa\nor.java:777)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartE\nt(XMLDocumentFragmentScannerImpl.java:748)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentCo\nDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1453)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocume\nLDocumentFragmentScannerImpl.java:333)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(DTDConfiguratio\na:524)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(DTDConfiguratio\na:580)\n        at org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:152)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXPar\nava:1169)\n        at org.apache.commons.digester.Digester.parse(Digester.java:1495)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:449)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessor\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethod\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)"}, {"count": 1, "tags": [], "bug_id": 14193, "attachment_id": null, "is_private": false, "id": 52084, "time": "2004-02-10T23:23:37Z", "creator": "markt@apache.org", "creation_time": "2004-02-10T23:23:37Z", "text": "The latest version of TC4 (4.1.30) does report exceptions on startup but does \nnot crash.\n\nI have fixed the cause of the exceptions in CVS as well as the errors seen in \nthe admin app."}]