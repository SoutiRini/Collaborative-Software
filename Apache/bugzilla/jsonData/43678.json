[{"count": 0, "tags": [], "creator": "sebb@apache.org", "text": "The HTML tag:\n<META http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n\nis treated by browsers the same as the Content-Type header.\n\nAt present (JMeter 2.3) JMeter does not extract this information, it only uses \nheaders.\n\nIf no charset is present, then the platform default encoding (overridable by \ndefining sampleresult.default.encoding) is applied when converting the \nresponse to a string.\n\nThis means that the conversion of the responseData to a string may not produce \nthe correct result - for example in the Tree View Listener, and presumably in \nPost-Processors.\n\nJMeter could extract the content-type from the data.\nIt probably needs to check that the data is intended to be used as HTML first -\n i.e. the existing Content-Type should specify text/html.", "id": 109589, "time": "2007-10-23T05:56:07Z", "bug_id": 43678, "creation_time": "2007-10-23T05:56:07Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 43678, "attachment_id": null, "text": "Fixed in SVN r587702", "id": 109676, "time": "2007-10-23T17:01:49Z", "creator": "sebb@apache.org", "creation_time": "2007-10-23T17:01:49Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 43678, "is_private": false, "text": "On further reflection, perhaps this could be improved:\n\nrather than only processing the meta content-type if the header content-type \ndid not include a charset/dataEncoding, maybe the meta tag should always be \nprocessed, and used to update the sampler fields? The original headers would \nstill be available from getResponseHeaders.", "id": 109678, "time": "2007-10-23T17:15:36Z", "creator": "sebb@apache.org", "creation_time": "2007-10-23T17:15:36Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "the fix in HTTPSampleResult does not work : in the method getDataEncodingWithDefault the test :\n   getDataEncodingNoDefault() == null\nis always false because of the setDataEncoding(DEFAULT_HTTP_ENCODING); in the constructor\n\nplease note that there is no workaround to this bug because DEFAULT_HTTP_ENCODING can not be overriden with sampleresult.default.encoding", "is_private": false, "bug_id": 43678, "id": 127738, "time": "2009-06-08T06:27:10Z", "creator": "benoit.wiart@gmail.com", "creation_time": "2009-06-08T06:27:10Z", "attachment_id": null}, {"count": 4, "tags": [], "text": "line 42 in  HTTPSampleResult :\n\nsetDataEncoding(DEFAULT_HTTP_ENCODING); // default if encoding not provided be the page\n\nshould probably be removed", "is_private": false, "bug_id": 43678, "id": 127742, "time": "2009-06-08T08:37:50Z", "creator": "benoit.wiart@gmail.com", "creation_time": "2009-06-08T08:37:50Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 43678, "is_private": false, "text": "Created attachment 24291\nPath that removes encoding setting in constructor\n\nHello,\nAttached is a patch that applies Benoit Proposition.\n\nIf encoding is set through header, encoding declared in meta will not be taken into account.\nOtherwise it will.\n\nPhilippe\nhttp://www.ubik-ingenierie.com", "id": 130513, "time": "2009-09-18T06:55:56Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2009-09-18T06:55:56Z", "attachment_id": 24291}, {"count": 6, "tags": [], "bug_id": 43678, "is_private": false, "text": "Thanks for the patch.\n\nApplied with further fix so ensure correct default was used.\n\nURL: http://svn.apache.org/viewvc?rev=929364&view=rev\nLog:\nBug 43678 - Handle META tag http-equiv charset?\n\nModified:\n   jakarta/jmeter/trunk/src/core/org/apache/jmeter/samplers/SampleResult.java\n   jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSampleResult.java\n   jakarta/jmeter/trunk/xdocs/changes.xml", "id": 135804, "time": "2010-03-31T02:26:40Z", "creator": "sebb@apache.org", "creation_time": "2010-03-31T02:26:40Z", "attachment_id": null}]