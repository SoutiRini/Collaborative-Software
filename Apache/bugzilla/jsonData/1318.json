[{"count": 0, "tags": [], "creator": "patrick.schonckert@lombard.lu", "attachment_id": null, "text": "When upgrading my system to FOP 0.17 I noticed the following two bugs in \nversion 0.17 related to the use of tables :\n\n1. When using tables that have no border at all but that contain some columns \nthat exceed 350pt, the content of the columns that follow does not get \ncorrectly positioned (however you do not have that problem when you specify a \nborder of at least 1pt). This problem did not occur with FOP 0.12x (and quite \nannoying as I have some reports that need much more than 350pt)\n\n2. In the xsl-after-region, I also use a table. The last column for some \nreasons does not get completely displayed although it contains less data than \nthe first column (which is correctly displayed). When you play with the \n<fo:region-after extent=\"xxx\"/>, you end up getting the third column displayed \ncorrectly. This is not very logical as the height must be correct if FOP \nmanages to render correctly the first column (and also quite annoying because \nof the waste of space).\n\nAppended FO file :\nThe first page contains the wrong display, \nThe second page contains the expected result (by playing with the column-width \nand extend attributes)\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" \nxmlns:fo=\"http://www.w3.org/1999/XSL/Format\" version=\"1.0\">\n  <xsl:template match=\"/\">  \n    <fo:root>\n      <xsl:apply-templates/>\n    </fo:root>\n  </xsl:template>\n\n  <xsl:template match=\"LOMBARD\">\n    <fo:layout-master-set>\n      <!-- the layout to be used for the cover page -->\n      <fo:simple-page-master master-name=\"cover\" page-width=\"297mm\" page-\nheight=\"210mm\" margin-left=\"30pt\" \n       margin-right=\"30pt\" margin-top=\"10pt\" margin-bottom=\"10pt\">\n        <fo:region-body margin-top=\"10pt\" margin-bottom=\"110pt\" margin-\nleft=\"10pt\" margin-right=\"10pt\"/>\n        <fo:region-before extent=\"170pt\"/>\n        <fo:region-after extent=\"90pt\"/>\n      </fo:simple-page-master>\n\n      <!-- the layout to be used for the summary page -->\n      <fo:simple-page-master master-name=\"summary\" page-width=\"297mm\" page-\nheight=\"210mm\" margin-left=\"30pt\" \n       margin-right=\"30pt\" margin-top=\"10pt\" margin-bottom=\"10pt\">\n        <fo:region-body margin-top=\"10pt\" margin-bottom=\"110pt\" margin-\nleft=\"10pt\" margin-right=\"10pt\"/>\n        <fo:region-before extent=\"170pt\"/>\n        <fo:region-after extent=\"110pt\"/>\n      </fo:simple-page-master>\n    </fo:layout-master-set>\n\n    <!-- the cover page -->\n    <fo:page-sequence master-name=\"cover\">\n      <fo:static-content flow-name=\"xsl-region-after\">\n        <fo:block line-height=\"1pt\"><fo:leader leader-pattern=\"rule\" leader-\nlength=\"760pt\"/></fo:block>\n      <fo:table>\n\t<fo:table-column column-width=\"288pt\"/>\n\t<fo:table-column column-width=\"200pt\"/>\n\t<fo:table-column column-width=\"268pt\"/>\n\t<fo:table-body>\n  \t  <fo:table-row line-height=\"7pt\">\n          <fo:table-cell>\n\t    <fo:block font-size=\"7pt\" font-family=\"sans-serif\" text-\nalign=\"center\">\n\t      <fo:block space-before.optimum=\"5pt\" >BlaBla 1</fo:block>\n\t      <fo:block>BlaBla 2</fo:block>\n\t      <fo:block space-before.optimum=\"5pt\">BlaBla 3</fo:block>\n\t      <fo:block>BlaBla 4</fo:block>\n\t      <fo:block>BlaBla 5</fo:block>\n\t      <fo:block>BlaBla 6</fo:block>\n            </fo:block>\n\t    <fo:block font-style=\"italic\" text-align=\"start\" font-size=\"7pt\" \nspace-before.optimum=\"5pt\"\n             font-family=\"sans-serif\">SIGNATURE : xxxxx</fo:block>\n\t  </fo:table-cell>\n\t  <fo:table-cell>\n\t    <fo:block space-before.optimum=\"10pt\" text-align=\"center\" font-\nsize=\"7pt\" font-family=\"sans-serif\">\n               - Page <fo:page-number/> -\n  \t    </fo:block>\n\t  </fo:table-cell>\n\t  <fo:table-cell>\n\t    <fo:block font-size=\"7pt\" font-family=\"sans-serif\" text-\nalign=\"center\">\n\t      <fo:block space-before.optimum=\"5pt\" >BlaBla 1</fo:block>\n\t      <fo:block>BlaBla 2</fo:block>\n\t      <fo:block space-before.optimum=\"5pt\">BlaBla 3</fo:block>\n\t      <fo:block>BlaBla 4</fo:block>\n\t      <fo:block>BlaBla 5</fo:block>\n\t      <fo:block>BlaBla 6</fo:block>\n            </fo:block>\n\t  </fo:table-cell>\t  \n\t  </fo:table-row>\n\t</fo:table-body>\n      </fo:table>\n     </fo:static-content>\n\n      <fo:flow flow-name=\"xsl-region-body\">\n       <fo:block>\n  <fo:block font-weight=\"bold\">Problem 1:</fo:block>\n  <fo:block>First column 450pt, each table cell has a border of 1pt :</fo:block>\n  <fo:table>\n      <fo:table-column column-width=\"450pt\" border-width=\"0pt\"/>\n      <fo:table-column column-width=\"100pt\" border-width=\"0pt\"/>\n      <fo:table-body>                 \n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"start\">AAA</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"end\">100.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"start\">AAABBB</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"end\">1,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"start\">AAABBBCCC</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"end\">10,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"start\">AAA</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"end\">100.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"start\">AAA</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"end\">1000,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n      </fo:table-body>\n    </fo:table>\t\n\n    <fo:block space-before.optimum=\"15pt\">Exactly the same table but with each \ntable cell having a border of 0pt :</fo:block>\n    <fo:table>\n      <fo:table-column column-width=\"450pt\" border-width=\"0pt\"/>\n      <fo:table-column column-width=\"100pt\" border-width=\"0pt\"/>\n      <fo:table-body>                 \n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"start\">AAA</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"end\">100.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"start\">AAABBB</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"end\">1,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"start\">AAABBBCCC</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"end\">10,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"start\">AAA</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"end\">100.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"start\">AAA</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"end\">1000,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n      </fo:table-body>\n    </fo:table>\t\n\n    <fo:block space-before.optimum=\"15pt\">Exactly the same table but no table \ncell has any border-width specified.</fo:block>\n    <fo:table>\n      <fo:table-column column-width=\"450pt\"/>\n      <fo:table-column column-width=\"100pt\"/>\n      <fo:table-body>                 \n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell><fo:block text-align=\"start\">AAA</fo:block></fo:table-\ncell>\n\t  <fo:table-cell><fo:block text-align=\"end\">100.00</fo:block></fo:table-\ncell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell><fo:block text-\nalign=\"start\">AAABBB</fo:block></fo:table-cell>\n\t  <fo:table-cell><fo:block text-\nalign=\"end\">1,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell><fo:block text-\nalign=\"start\">AAABBBCCC</fo:block></fo:table-cell>\n\t  <fo:table-cell><fo:block text-\nalign=\"end\">10,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell><fo:block text-align=\"start\">AAA</fo:block></fo:table-\ncell>\n\t  <fo:table-cell><fo:block text-align=\"end\">100.00</fo:block></fo:table-\ncell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell><fo:block text-align=\"start\">AAA</fo:block></fo:table-\ncell>\n\t  <fo:table-cell><fo:block text-\nalign=\"end\">1000,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n      </fo:table-body>\n    </fo:table>\t\n       </fo:block>\n       <fo:block space-before.optimum=\"55pt\" font-weight=\"bold\">Problem \n2:</fo:block>\n       <fo:block>\n \t The flow-name=\"xsl-region-after\" does not display properly all the \ndata contained in the 3rd column (it simply          \n\nstops after the 2nd block (the first column however is properly displayed \nalthough it contains a supplementary \n         block).\n       </fo:block>\n     </fo:flow>    \n   </fo:page-sequence>\n\n    <!-- the summary page -->\n    <fo:page-sequence master-name=\"summary\" initial-page-number=\"2\" >\n      <fo:static-content flow-name=\"xsl-region-after\">\n        <fo:block line-height=\"1pt\"><fo:leader leader-pattern=\"rule\" leader-\nlength=\"760pt\"/></fo:block>\n      <fo:table>\n\t<fo:table-column column-width=\"288pt\"/>\n\t<fo:table-column column-width=\"200pt\"/>\n\t<fo:table-column column-width=\"268pt\"/>\n\t<fo:table-body>\n  \t  <fo:table-row line-height=\"7pt\">\n          <fo:table-cell>\n\t    <fo:block font-size=\"7pt\" font-family=\"sans-serif\" text-\nalign=\"center\">\n\t      <fo:block space-before.optimum=\"5pt\" >BlaBla 1</fo:block>\n\t      <fo:block>BlaBla 2</fo:block>\n\t      <fo:block space-before.optimum=\"5pt\">BlaBla 3</fo:block>\n\t      <fo:block>BlaBla 4</fo:block>\n\t      <fo:block>BlaBla 5</fo:block>\n\t      <fo:block>BlaBla 6</fo:block>\n            </fo:block>\n\t    <fo:block font-style=\"italic\" text-align=\"start\" font-size=\"7pt\" \nspace-before.optimum=\"5pt\"\n             font-family=\"sans-serif\">SIGNATURE : xxxxx</fo:block>\n\t  </fo:table-cell>\n\t  <fo:table-cell>\n\t    <fo:block space-before.optimum=\"10pt\" text-align=\"center\" font-\nsize=\"7pt\" font-family=\"sans-serif\">\n               - Page <fo:page-number/> -\n  \t    </fo:block>\n\t  </fo:table-cell>\n\t  <fo:table-cell>\n\t    <fo:block font-size=\"7pt\" font-family=\"sans-serif\" text-\nalign=\"center\">\n\t      <fo:block space-before.optimum=\"5pt\" >BlaBla 1</fo:block>\n\t      <fo:block>BlaBla 2</fo:block>\n\t      <fo:block space-before.optimum=\"5pt\">BlaBla 3</fo:block>\n\t      <fo:block>BlaBla 4</fo:block>\n\t      <fo:block>BlaBla 5</fo:block>\n\t      <fo:block>BlaBla 6</fo:block>\n            </fo:block>\n\t  </fo:table-cell>\t  \n\t  </fo:table-row>\n\t</fo:table-body>\n      </fo:table>\n     </fo:static-content>\n\n     <fo:flow flow-name=\"xsl-region-body\">\n       <fo:block space-after.optimum=\"25pt\">\n \t The only difference with the previous table is that the first column \nwidth is 350pt, all columns following \n\t a column that is larger than 350pt get shifted...\n       </fo:block>\n       <fo:block>\t\n  <fo:block font-weight=\"bold\">Problem 1:</fo:block>\n  <fo:block>Same as on previous page but first column has always a width of \n350pt</fo:block>\n  <fo:block space-after.optimum=\"15pt\">First column 350pt, each table cell has \na border of 1pt :</fo:block>\n  <fo:table>\n      <fo:table-column column-width=\"350pt\" border-width=\"0pt\"/>\n      <fo:table-column column-width=\"100pt\" border-width=\"0pt\"/>\n      <fo:table-body>                 \n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"start\">AAA</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"end\">100.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"start\">AAABBB</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"end\">1,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"start\">AAABBBCCC</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"end\">10,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"start\">AAA</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"end\">100.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"start\">AAA</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"1pt\"><fo:block text-\nalign=\"end\">1000,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n      </fo:table-body>\n    </fo:table>\t\n\n    <fo:block space-before.optimum=\"15pt\">Exactly the same table but with each \ntable cell having a border of 0pt :</fo:block>\n    <fo:table>\n      <fo:table-column column-width=\"350pt\" border-width=\"0pt\"/>\n      <fo:table-column column-width=\"100pt\" border-width=\"0pt\"/>\n      <fo:table-body>                 \n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"start\">AAA</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"end\">100.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"start\">AAABBB</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"end\">1,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"start\">AAABBBCCC</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"end\">10,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"start\">AAA</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"end\">100.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"start\">AAA</fo:block></fo:table-cell>\n\t  <fo:table-cell border-width=\"0pt\"><fo:block text-\nalign=\"end\">1000,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n      </fo:table-body>\n    </fo:table>\t\n\n    <fo:block space-before.optimum=\"15pt\">Exactly the same table but no table \ncell has any border-width specified.</fo:block>\n    <fo:table>\n      <fo:table-column column-width=\"350pt\"/>\n      <fo:table-column column-width=\"100pt\"/>\n      <fo:table-body>                 \n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell><fo:block text-align=\"start\">AAA</fo:block></fo:table-\ncell>\n\t  <fo:table-cell><fo:block text-align=\"end\">100.00</fo:block></fo:table-\ncell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell><fo:block text-\nalign=\"start\">AAABBB</fo:block></fo:table-cell>\n\t  <fo:table-cell><fo:block text-\nalign=\"end\">1,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell><fo:block text-\nalign=\"start\">AAABBBCCC</fo:block></fo:table-cell>\n\t  <fo:table-cell><fo:block text-\nalign=\"end\">10,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell><fo:block text-align=\"start\">AAA</fo:block></fo:table-\ncell>\n\t  <fo:table-cell><fo:block text-align=\"end\">100.00</fo:block></fo:table-\ncell>\t\n        </fo:table-row>\n        <fo:table-row line-height=\"12pt\">\n\t  <fo:table-cell><fo:block text-align=\"start\">AAA</fo:block></fo:table-\ncell>\n\t  <fo:table-cell><fo:block text-\nalign=\"end\">1000,000.00</fo:block></fo:table-cell>\t\n        </fo:table-row>\n      </fo:table-body>\n    </fo:table>\n       </fo:block>\n       <fo:block space-before.optimum=\"55pt\" font-weight=\"bold\">Problem \n2:</fo:block>\n         <fo:block>\n \t The only difference with the previous table is that the simple-page-\nmaster \"summary\" has the \n        region-after extent=\"110pt\" (instead of 90 as before).\n       </fo:block>\n     </fo:flow>\n   </fo:page-sequence>\n </xsl:template>\n</xsl:stylesheet>", "id": 1850, "time": "2001-04-12T05:56:35Z", "bug_id": 1318, "creation_time": "2001-04-12T05:56:35Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 1318, "attachment_id": 88, "text": "Created attachment 88\nillustration of the problem", "id": 1851, "time": "2001-04-12T06:09:32Z", "creator": "patrick.schonckert@lombard.lu", "creation_time": "2001-04-12T06:09:32Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 1318, "text": "Both problems are fixed in 0.20.3", "id": 15506, "time": "2002-05-05T19:28:19Z", "creator": "j3322ptm@yahoo.de", "creation_time": "2002-05-05T19:28:19Z", "is_private": false, "attachment_id": null}, {"text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "tags": [], "bug_id": 1318, "is_private": false, "count": 3, "id": 155886, "time": "2012-04-01T06:46:39Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T06:46:39Z", "attachment_id": null}]