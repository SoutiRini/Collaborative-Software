[{"count": 0, "attachment_id": null, "bug_id": 26000, "is_private": false, "id": 50281, "time": "2004-01-08T21:26:01Z", "creator": "jwilson@nmcourt.fed.us", "creation_time": "2004-01-08T21:26:01Z", "tags": [], "text": "Here is the build file:\n\n<project name=\"ACE-Fix-Scanned-DocumentTypeIds\" default=\"main\" basedir=\".\">\n\n\t<property name=\"driver\" value=\"com.informix.jdbc.IfxDriver\"/>\n\t<property name=\"url\"\nvalue=\"jdbc:informix-sqli://raventest:3305/usdcdeuce:InformixServer=raventest_tcp\"/>\n\t<property name=\"userid\" value=\"informix\"/>\n\t<property name=\"password\" value=\"ifmx2251\"/>\n\n\t<property name=\"jdbcdriverlocation\"\nlocation=\"/packages/apache/jakarta/tomcat/shared/lib/xeuce_ifxjdbc.jar\"/>\n\n\t<target name=\"main\">\n\t\t<sql\n\t\t\tdriver=\"${driver}\"\n\t\t\turl=\"${url}\"\n\t\t\tuserid=\"${userid}\"\n\t\t\tpassword=\"${password}\"\n\t\t\tclasspath=\"${jdbcdriverlocation}\"\n\t\t\tprint=\"true\">\n\t\t\t<transaction>\n            \t\t\tUPDATE\n\t\t\t\t\ttbldocument\n\t\t\t\tSET\n\t\t\t\t\ttbldocument.doctypeid = 50\n\t\t\t\tWHERE\n\t\t\t\t\ttbldocument.documentid IN\n\t\t\t\t\t\t(SELECT\n\t\t\t\t\t\t\tt2.documentid\n\t\t\t\t\t\tFROM\n\t\t\t\t\t\t\ttbldocumentcase t2,\n\t\t\t\t\t\t\ttbldocketentry t3\n\t\t\t\t\t\tWHERE\n\t\t\t\t\t\t\tt2.caseid = t3.caseid AND\n\t\t\t\t\t\t\tt2.documentid = t3.documentid AND\n\t\t\t\t\t\t\tt2.documentid = tbldocument.documentid AND\n\t\t\t\t\t\t\ttbldocument.doctypeid = 67 AND\n\t\t\t\t\t\t\tt3.eventid IN (317, 425)) ;\n            \t\t</transaction>\n        \t</sql>\n  \t</target>\n</project>\n\nHere is the result:\n[root@james ACE-Fix-Scanned-DocumentTypeIds]# ant\nBuildfile: build.xml\n \nmain:\n      [sql] Executing commands\n      [sql] Failed to execute:   UPDATE tbldocument SET tbldocument.doctypeid =\n50 WHERE tbldocument.documentid IN (SELECT t2.documentid FROM tbldocumentcase\nt2, tbldocketentry t3 WHERE t2.caseid = t3.caseid AND t2.documentid =\nt3.documentid AND t2.documentid = tbldocument.documentid AND\ntbldocument.doctypeid = 67 AND t3.eventid IN (317, 425))\n \nBUILD FAILED\n/projects/jbuilder/ACE-Fix-Scanned-DocumentTypeIds/build.xml:21:\njava.sql.SQLException: Method can be called only once.\n \nTotal time: 26 seconds\n\n\nAll sql tasks using 1.6.0 and 1.7alpha, no matter what the sql, does not work\nwith this informix jdbc driver.  However, 1.5.4 runs perfectly.  :("}, {"count": 1, "attachment_id": null, "bug_id": 26000, "text": "could you run ant -verbose so that we get the full stack trace?\n", "id": 72371, "time": "2005-03-14T13:51:09Z", "creator": "bodewig@apache.org", "creation_time": "2005-03-14T13:51:09Z", "tags": [], "is_private": false}]