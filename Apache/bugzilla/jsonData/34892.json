[{"count": 0, "tags": [], "creator": "makub@ics.muni.cz", "text": "I am using a shared TomCat 5.5 installation, so my CATALINA_HOME and\nCATALINA_BASE are different. However, the standard TomCat installation is not\nreally usable in this way, because only \"shared\" folder is relative to\nCATALINA_BASE, but folders \"common\" and \"server\" are relative to CATALINA_HOME. \n\nThat makes impossible to use JDBC drivers, which must be placed in common/lib/,\nand user realm implementations, which must be placed in server/lib, specific to\neach TomCat instance.\n\nIt took me a long time to find out that this can be changed by editing\n$CATALINA_BASE/conf/catalina.properties and changing for example line\ncommon.loader=${catalina.home}/common/classes,${catalina.home}/common/i18n/*.jar,${catalina.home}/common/endorsed/*.jar,${catalina.home}/common/lib/*.jar,${catalina.base}/common/lib/*.jar\nby adding \n${catalina.base}/common/lib/*.jar,${catalina.base}/common/classes,\nto that line before the other directories.\n\nSo here is the diff:\n32c32\n<\ncommon.loader=${catalina.base}/common/lib/*.jar,${catalina.base}/common/classes,${catalina.home}/common/classes,${catalina.home}/common/i18n/*.jar,${catalina.home}/common/endorsed/*.jar,${catalina.home}/common/lib/*.jar\n---\n>\ncommon.loader=${catalina.home}/common/classes,${catalina.home}/common/i18n/*.jar,${catalina.home}/common/endorsed/*.jar,${catalina.home}/common/lib/*.jar\n45c45\n<\nserver.loader=${catalina.base}/server/classes,${catalina.base}/server/lib/*.jar,${catalina.home}/server/classes,${catalina.home}/server/lib/*.jar\n---\n> server.loader=${catalina.home}/server/classes,${catalina.home}/server/lib/*.jar\n\nThat makes the CATALINA_BASE really usable. When the change is made, the\nRUNNING.txt should mention it.\n\nMartin", "id": 74801, "time": "2005-05-12T15:17:41Z", "bug_id": 34892, "creation_time": "2005-05-12T15:17:41Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 34892, "text": "I disagree.", "id": 74805, "time": "2005-05-12T15:30:57Z", "creator": "remm@apache.org", "creation_time": "2005-05-12T15:30:57Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 34892, "attachment_id": null, "text": "(In reply to comment #1)\n> I disagree.\n\nWhy ? Why shared.loader knows about CATALINA_BASE and common.loader and\nserver.loader ignores it ? That doesn't make sense.", "id": 74807, "time": "2005-05-12T15:36:53Z", "creator": "makub@ics.muni.cz", "creation_time": "2005-05-12T15:36:53Z", "is_private": false}]