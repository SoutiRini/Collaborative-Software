[{"count": 0, "tags": [], "creator": "wesley.acheson@gmail.com", "attachment_id": 26070, "text": "Created attachment 26070\nTarget for eclipse support in ant.\n\nThere are a number of eclipse files in the project root.\n\nI've moved them to ./res/ide-support/eclipse and updated build.xml to pull these files to project root when \"ant eclipse\".\n\nbased on this conversation. \n\nhttp://markmail.org/message/pa3slps3o55yebfk", "id": 140160, "time": "2010-09-24T22:03:53Z", "bug_id": 50001, "creation_time": "2010-09-24T22:03:53Z", "is_private": false}, {"count": 1, "attachment_id": null, "creator": "rainer.jung@kippdata.de", "text": "Test - please ignore.", "id": 140178, "time": "2010-09-26T04:46:16Z", "bug_id": 50001, "creation_time": "2010-09-26T04:46:16Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "timw@apache.org", "attachment_id": null, "is_private": false, "id": 140256, "time": "2010-09-28T05:52:57Z", "bug_id": 50001, "creation_time": "2010-09-28T05:52:57Z", "text": "Your patch seems to be broken (it seems to be missing files from your description, and instead of deleting files it's just emptying them).\n\nI've moved all the files into res/ide-support/eclipse as suggested, but I haven't templated the launch targets - they work fine from the ide-support/eclipse dir, and I'm still not sure they're a good idea."}, {"count": 3, "tags": [], "creator": "wesley.acheson@gmail.com", "attachment_id": null, "text": "(In reply to comment #2)\n> Your patch seems to be broken (it seems to be missing files from your\n> description, and instead of deleting files it's just emptying them).\n> \n> I've moved all the files into res/ide-support/eclipse as suggested, but I\n> haven't templated the launch targets - they work fine from the\n> ide-support/eclipse dir, and I'm still not sure they're a good idea.\n\nYour launch targets don't work for me. As they insist that the project is checked out with a set folder name.\n\nWhich eclipse are you using? Maybe there's a few changes.", "id": 140257, "time": "2010-09-28T06:33:29Z", "bug_id": 50001, "creation_time": "2010-09-28T06:33:29Z", "is_private": false}, {"count": 4, "attachment_id": null, "creator": "wesley.acheson@gmail.com", "text": "(In reply to comment #2)\n> Your patch seems to be broken (it seems to be missing files from your\n> description, and instead of deleting files it's just emptying them).\n> \n\nI've checked the patch file and those files contents are in there but for some reason eclipse doesn't want to apply the files. Which I find odd.\n\n\nIt appears the reason it didn't work is I first moved the launch templates you had and then modified them. Its trying to apply the modification to the moved files rather than moving then applying the modification.  Forgive as I'm not that used to creating patch files.\n\nThe basic changes to the launch files where.\n\nMove to the res/ide-support/eclipse folder. rename to start-tomcat.launch.tpl and \nstop-tomcat.launch.tpl.\n\n\nAdd in the apache licence and change the following lines. (both launch templates)  This allows for the project name to be used rather than a predefined one.\n\n-<listEntry value=\"/tomcat-7.0.x/java/org/apache/catalina/startup/Bootstrap.java\"/>\n+<listEntry value=\"/@PROJECT_NAME@/java/org/apache/catalina/startup/Bootstrap.java\"/>\n-<stringAttribute key=\"org.eclipse.jdt.launching.PROJECT_ATTR\" value=\"tomcat-7.0.x\"/>\n-<stringAttribute key=\"org.eclipse.jdt.launching.VM_ARGUMENTS\" value=\"-Dcatalina.home=${project_loc:/tomcat-7.0.x/java/org/apache/catalina/startup/Bootstrap.java}\"/>\n+<stringAttribute key=\"org.eclipse.jdt.launching.PROJECT_ATTR\" value=\"@PROJECT_NAME@\"/>\n+<stringAttribute key=\"org.eclipse.jdt.launching.VM_ARGUMENTS\" value=\"-Dcatalina.home=@TOMCAT_HOME@\"/>\n\n\n> I've moved all the files into res/ide-support/eclipse as suggested, but I\n> haven't templated the launch targets - they work fine from the\n> ide-support/eclipse dir, and I'm still not sure they're a good idea.\n\nDoes anyone know how to fix a patch file like this? The info is all there but it appears to try to apply the wrong changes.", "id": 140265, "time": "2010-09-28T08:27:17Z", "bug_id": 50001, "creation_time": "2010-09-28T08:27:17Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 50001, "text": "(In reply to comment #4)\n> Does anyone know how to fix a patch file like this? The info is all there but\n> it appears to try to apply the wrong changes.\n\nI suggest you create a new patch starting from the current trunk.\nThat will avoid the rename & move problems.", "id": 140266, "time": "2010-09-28T09:32:11Z", "creator": "sebb@apache.org", "creation_time": "2010-09-28T09:32:11Z", "is_private": false, "attachment_id": null}, {"text": "(In reply to comment #5)\n> (In reply to comment #4)\n> > Does anyone know how to fix a patch file like this? The info is all there but\n> > it appears to try to apply the wrong changes.\n> \n> I suggest you create a new patch starting from the current trunk.\n> That will avoid the rename & move problems.\n\nOkay fair enough I've tried to do this again.\n\nSo a simpler question. I need to move a file and change its contents. Does this need to be two seperate patches?", "tags": [], "bug_id": 50001, "is_private": false, "count": 6, "id": 140267, "time": "2010-09-28T09:50:44Z", "creator": "wesley.acheson@gmail.com", "creation_time": "2010-09-28T09:50:44Z", "attachment_id": null}, {"count": 7, "tags": [], "creator": "timw@apache.org", "attachment_id": null, "is_private": false, "id": 140276, "time": "2010-09-28T15:37:52Z", "bug_id": 50001, "creation_time": "2010-09-28T15:37:52Z", "text": "(In reply to comment #3)\n> (In reply to comment #2)\n> > Your patch seems to be broken (it seems to be missing files from your\n> > description, and instead of deleting files it's just emptying them).\n> > \n> > I've moved all the files into res/ide-support/eclipse as suggested, but I\n> > haven't templated the launch targets - they work fine from the\n> > ide-support/eclipse dir, and I'm still not sure they're a good idea.\n> \n> Your launch targets don't work for me. As they insist that the project is\n> checked out with a set folder name.\n> \n> Which eclipse are you using? Maybe there's a few changes.\n\nThe launch files reference the project name (which is the same as the sample in eclipse.project).\nI have Tomcat checked out in a directory with a completely different name and they work fine.\n\nLike I said, the launch targets may be more trouble than they're worth - if there continue to be issues I'll remove them and let devs create their own from the instructions.\nActually thinking about it, they'll probably create diff issues as they're modified in the filesystem when they're changed in Eclipse, so backing them out or converting them to samples that are copied in might be a better idea."}, {"text": "Reopening as the launch files don't work for me or some others. I've got a patch if you wait a moment.", "tags": [], "bug_id": 50001, "is_private": false, "count": 8, "id": 140280, "time": "2010-09-28T19:09:21Z", "creator": "wesley.acheson@gmail.com", "creation_time": "2010-09-28T19:09:21Z", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 50001, "text": "Created attachment 26098\nFixes the launch problems.\n\nPlease consider the attached patch for inclusion.\n\nThe attached patch fixes the launch problems. However it is incomplete.  As a Unified Diff won't accurately represent the changes in SVN when a file is removed please run the following two commands in the res/ide-support/eclipse folder.\n\nsvn move start-tomcat.launch start-tomcat.launch.tpl\nsvn move stop-tomcat.launch stop-tomcat.launch.tpl\n\nAfter this has been done the patch should be functioning.\n\nFeature Changes. \nUses an ant variable to set the following properties.\ncatalina.home VM Argument\nproject name\nname of the launch file now represents (start|stop)-tomcat-[version]", "id": 140281, "time": "2010-09-28T19:17:34Z", "creator": "wesley.acheson@gmail.com", "creation_time": "2010-09-28T19:17:34Z", "is_private": false, "attachment_id": 26098}, {"count": 10, "attachment_id": null, "creator": "wesley.acheson@gmail.com", "is_private": false, "id": 140282, "time": "2010-09-28T19:20:13Z", "bug_id": 50001, "creation_time": "2010-09-28T19:20:13Z", "tags": [], "text": "(In reply to comment #7)\n\n> Actually thinking about it, they'll probably create diff issues as they're\n> modified in the filesystem when they're changed in Eclipse, so backing them out\n> or converting them to samples that are copied in might be a better idea.\n\nI think you may find that adding the file pattern into svn.ignore is probably the correct way with dealing with files that should be developer specific.\n\nfor instance .classpath is in svn ignore and this doesn't allow you to commit it."}, {"count": 11, "tags": [], "bug_id": 50001, "text": "I'm a -1 for making any further changes (apart from removing the launch files if any of the committers get annoyed with them being there). The project and launch files work for me, and I hoped they'd be useful for people thinking of contributing, but there's not enough value in them to do any more tooling around it.\n\nWhat's more value to new contributors is getting their Eclipse workspace up and running, and figuring out how to actually start contributing patches - maybe creating your own launch target should become an 'exercise for the reader' in the guide.", "id": 140286, "time": "2010-09-29T04:16:54Z", "creator": "timw@apache.org", "creation_time": "2010-09-29T04:16:54Z", "is_private": false, "attachment_id": null}]