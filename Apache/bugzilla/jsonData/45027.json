[{"count": 0, "tags": [], "bug_id": 45027, "attachment_id": null, "id": 116769, "time": "2008-05-18T07:56:26Z", "creator": "un_tonio@yahoo.com", "creation_time": "2008-05-18T07:56:26Z", "is_private": false, "text": "I have tried to produce pdf documents either with blue text or embedding a svg graphic with blue color in it (#0000FF, or rgb(0,0,255)), but this color does not render correctly. However, when the embedding option is removed, blue text does fine within the 'color' option in the fo/xsl document."}, {"count": 1, "tags": [], "bug_id": 45027, "text": "\nCan you try with 0.95beta and see if the problem persists? (possible duplicate of Bug #43274)", "id": 116774, "time": "2008-05-18T10:06:36Z", "creator": "adelmelle@apache.org", "creation_time": "2008-05-18T10:06:36Z", "is_private": false, "attachment_id": null}, {"text": "(In reply to comment #1)\n> Can you try with 0.95beta and see if the problem persists? (possible duplicate\n> of Bug #43274)\n> \n\nI hve tried with 0.95beta and nothing changes.\n", "tags": [], "bug_id": 45027, "attachment_id": null, "count": 2, "id": 116813, "time": "2008-05-19T07:23:10Z", "creator": "un_tonio@yahoo.com", "creation_time": "2008-05-19T07:23:10Z", "is_private": false}, {"count": 3, "text": "Please attach an FO file that demonstrates the problem. I can't reproduce the problem with your description alone. Furthermore, can you elaborate on what you mean by \"does not render correctly\"?", "bug_id": 45027, "attachment_id": null, "id": 117168, "time": "2008-05-29T23:59:11Z", "creator": "jeremias@apache.org", "creation_time": "2008-05-29T23:59:11Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 45027, "attachment_id": 22043, "is_private": false, "id": 117209, "time": "2008-05-31T08:03:57Z", "creator": "un_tonio@yahoo.com", "creation_time": "2008-05-31T08:03:57Z", "text": "Created attachment 22043\nSVG file with blue text and an opaque box"}, {"count": 5, "tags": [], "bug_id": 45027, "is_private": false, "text": "Created attachment 22044\nFO file to embed the SVG document (named email.svg)", "id": 117210, "time": "2008-05-31T08:04:58Z", "creator": "un_tonio@yahoo.com", "creation_time": "2008-05-31T08:04:58Z", "attachment_id": 22044}, {"count": 6, "tags": [], "bug_id": 45027, "attachment_id": null, "text": "Hello FOP community\n\nI have checked the problem again (Bug #45027) and actually this problem resides in the SVG document. \n\nWhen the \u2018opacity\u2019 attribute (with a value less than 1) is included in a determinate shape element, this affects the color of the text, even if such text lies outside the shape range. That is what I mean \u2018does not render correctly\u2019.\n\nAs an example, I attached a SVG file with blue text and a rect element with an opacity attribute less than one. If you embed this with a FO/XSL file, the text won\u2019t be blue anymore.\n\nPerhaps this issue belongs to the \u2018SVG Component\u2019, but it is up to you to decide this...\n", "id": 117211, "time": "2008-05-31T08:06:44Z", "creator": "un_tonio@yahoo.com", "creation_time": "2008-05-31T08:06:44Z", "is_private": false}, {"count": 7, "tags": [], "creator": "jeremias@apache.org", "attachment_id": null, "text": "Thanks for the test files. I can now reproduce the effect. This is really strange. What I can tell you is that the text painting code in PDF doesn't change if I remove the opacity from the rectangle being painted AFTER the text. But what's important to note is that I've seen the effect only on Acrobat 8 but not on Acrobat 5 or GhostScript/GhostView. At the moment I have absolutely no clue why this happens. I'm attaching the two PDF files (with compression turned off) to demonstrate the difference. Maybe someone could check if the effect occurs on other Acrobat versions like 6 or 7 and report back here.\n\nAs a side-note: It's a bit strange that Batik paints the transparent rectangle as a bitmap as this is such a simple element. That could probably be improved somehow. That accounts for the increase in size when opacity is turned used, but it doesn't explain why the text color changes to a darker blue. There's also an inconsistency about how the coordinate system for the rectangle is set up between the two variants. But again, this doesn't account for the color change.", "id": 117253, "time": "2008-06-02T09:04:22Z", "bug_id": 45027, "creation_time": "2008-06-02T09:04:22Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 45027, "attachment_id": 22056, "is_private": false, "id": 117254, "time": "2008-06-02T09:05:33Z", "creator": "jeremias@apache.org", "creation_time": "2008-06-02T09:05:33Z", "text": "Created attachment 22056\nUncompressed PDF without opacity"}, {"count": 9, "tags": [], "creator": "jeremias@apache.org", "attachment_id": 22057, "text": "Created attachment 22057\nUncompressed PDF with opacity", "id": 117255, "time": "2008-06-02T09:06:10Z", "bug_id": 45027, "creation_time": "2008-06-02T09:06:10Z", "is_private": false}, {"text": "(In reply to comment #7)\n> Thanks for the test files. I can now reproduce the effect. This is really\n> strange. What I can tell you is that the text painting code in PDF doesn't\n> change if I remove the opacity from the rectangle being painted AFTER the text.\n> But what's important to note is that I've seen the effect only on Acrobat 8 but\n> not on Acrobat 5 or GhostScript/GhostView. At the moment I have absolutely no\n> clue why this happens. I'm attaching the two PDF files (with compression turned\n> off) to demonstrate the difference. Maybe someone could check if the effect\n> occurs on other Acrobat versions like 6 or 7 and report back here.\n> \n> As a side-note: It's a bit strange that Batik paints the transparent rectangle\n> as a bitmap as this is such a simple element. That could probably be improved\n> somehow. That accounts for the increase in size when opacity is turned used,\n> but it doesn't explain why the text color changes to a darker blue. There's\n> also an inconsistency about how the coordinate system for the rectangle is set\n> up between the two variants. But again, this doesn't account for the color\n> change.\n> \n\nActually I realized this problem when I printed a document using Acrobat 5, (the blue was not printed correct). As you said, in the screen of Acrobat 5 the blue renders accurate but it doesn't in the printer. Acrobat 8 is in this sense \u2018more WYSIWYG\u2019.\n", "tags": [], "bug_id": 45027, "attachment_id": null, "count": 10, "id": 117258, "time": "2008-06-02T09:25:30Z", "creator": "un_tonio@yahoo.com", "creation_time": "2008-06-02T09:25:30Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 45027, "attachment_id": null, "is_private": false, "id": 157001, "time": "2012-04-01T15:17:49Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T15:17:49Z", "text": "(In reply to comment #7)\n> Thanks for the test files. I can now reproduce the effect. This is really\n> strange. What I can tell you is that the text painting code in PDF doesn't\n> change if I remove the opacity from the rectangle being painted AFTER the text.\n> But what's important to note is that I've seen the effect only on Acrobat 8 but\n> not on Acrobat 5 or GhostScript/GhostView. At the moment I have absolutely no\n> clue why this happens. I'm attaching the two PDF files (with compression turned\n> off) to demonstrate the difference. Maybe someone could check if the effect\n> occurs on other Acrobat versions like 6 or 7 and report back here.\n> \n> As a side-note: It's a bit strange that Batik paints the transparent rectangle\n> as a bitmap as this is such a simple element. That could probably be improved\n> somehow. That accounts for the increase in size when opacity is turned used,\n> but it doesn't explain why the text color changes to a darker blue. There's\n> also an inconsistency about how the coordinate system for the rectangle is set\n> up between the two variants. But again, this doesn't account for the color\n> change.\n\njeremias, does this bug need to stay in the needinfo state, or should it be moved to resolved?"}, {"count": 12, "text": "Well, the bug is on NEEDINFO because what happens here is not understood, yet. If anything, this marks a known problem but IMO it shouldn't be closed.", "bug_id": 45027, "is_private": false, "id": 157044, "time": "2012-04-02T05:42:07Z", "creator": "jeremias@apache.org", "creation_time": "2012-04-02T05:42:07Z", "tags": [], "attachment_id": null}, {"count": 13, "tags": [], "bug_id": 45027, "attachment_id": null, "is_private": false, "id": 157375, "time": "2012-04-07T01:42:03Z", "creator": "gadams@apache.org", "creation_time": "2012-04-07T01:42:03Z", "text": "resetting P2 open bugs to P3 pending further review"}, {"count": 14, "tags": [], "bug_id": 45027, "attachment_id": null, "text": "issue happens with Adobe X 10.1.3 on the Mac, does not happen with Mac's own Preview. seems an Adobe issue to me, just like the dull colors issue.", "id": 158267, "time": "2012-04-21T23:26:28Z", "creator": "lmpmbernardo@gmail.com", "creation_time": "2012-04-21T23:26:28Z", "is_private": false}]