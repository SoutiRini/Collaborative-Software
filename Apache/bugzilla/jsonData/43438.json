[{"count": 0, "tags": [], "creator": "stevel@apache.org", "text": "As raised on ant-dev, the property evaluation code in SVN_HEAD is capable of\ngoing in to an infinite loop, despite the stack checks that appear designed to\nprevent exactly that. Marked as critical, as without a fix, Ant does not run to\ncompletion on approximately 50% of my builds.\n\n\"main\" prio=10 tid=0x0000000040112c00 nid=0x42cf runnable\n[0x0000000040229000..0x000000004022aec0]\n   java.lang.Thread.State: RUNNABLE\n        at java.util.Vector.contains(Vector.java:320)\n        at\norg.apache.tools.ant.taskdefs.Property$PropertyResolver.evaluate(Property.java:105)\n        at org.apache.tools.ant.PropertyHelper.getProperty(PropertyHelper.java:787)\n        - locked <0x00002aaab4013548> (a org.apache.tools.ant.PropertyHelper)\n        at\norg.apache.tools.ant.taskdefs.Property$PropertyResolver.evaluate(Property.java:110)\n        at org.apache.tools.ant.PropertyHelper.getProperty(PropertyHelper.java:787)\n        - locked <0x00002aaab4013548> (a org.apache.tools.ant.PropertyHelper)\n        at\norg.apache.tools.ant.taskdefs.Property$PropertyResolver.evaluate(Property.java:110)\n        at org.apache.tools.ant.PropertyHelper.getProperty(PropertyHelper.java:787)\n        - locked <0x00002aaab4013548> (a org.apache.tools.ant.PropertyHelper)\n        at\norg.apache.tools.ant.taskdefs.Property$PropertyResolver.evaluate(Property.java:110)\n        at org.apache.tools.ant.PropertyHelper.getProperty(PropertyHelper.java:787)\n        - locked <0x00002aaab4013548> (a org.apache.tools.ant.PropertyHelper)\n        at\norg.apache.tools.ant.taskdefs.Property$PropertyResolver.evaluate(Property.java:110)\n        at org.apache.tools.ant.PropertyHelper.getProperty(PropertyHelper.java:787)\n        - locked <0x00002aaab4013548> (a org.apache.tools.ant.PropertyHelper)\n        at\norg.apache.tools.ant.taskdefs.Property$PropertyResolver.evaluate(Property.java:110)\n        at org.apache.tools.ant.PropertyHelper.getProperty(PropertyHelper.java:787)\n        - locked <0x00002aaab4013548> (a org.apache.tools.ant.PropertyHelper)\n        at\norg.apache.tools.ant.taskdefs.Property$PropertyResolver.evaluate(Property.java:110)\n        at org.apache.tools.ant.PropertyHelper.getProperty(PropertyHelper.java:787)\n        - locked <0x00002aaab4013548> (a org.apache.tools.ant.PropertyHelper)\n        at\norg.apache.tools.ant.taskdefs.Property$PropertyResolver.evaluate(Property.java:110)\n        at org.apache.tools.ant.PropertyHelper.getProperty(PropertyHelper.java:787)\n        - locked <0x00002aaab4013548> (a org.apache.tools.ant.PropertyHelper)\n        at\norg.apache.tools.ant.taskdefs.Property$PropertyResolver.evaluate(Property.java:110)\n        at org.apache.tools.ant.PropertyHelper.getProperty(PropertyHelper.java:787)\n        - locked <0x00002aaab4013548> (a org.apache.tools.ant.PropertyHelper)\n        at\norg.apache.tools.ant.taskdefs.Property$PropertyResolver.evaluate(Property.java:110)\n        at org.apache.tools.ant.PropertyHelper.getProperty(PropertyHelper.java:787)\n        - locked <0x00002aaab4013548> (a org.apache.tools.ant.PropertyHelper)\n        at\norg.apache.tools.ant.taskdefs.Property$PropertyResolver.evaluate(Property.java:110)\n        at org.apache.tools.ant.PropertyHelper.getProperty(PropertyHelper.java:787)\n        - locked <0x00002aaab4013548> (a org.apache.tools.ant.PropertyHelper)\n        at\norg.apache.tools.ant.taskdefs.Property$PropertyResolver.evaluate(Property.java:110)\n        at org.apache.tools.ant.PropertyHelper.getProperty(PropertyHelper.java:787)\n        - locked <0x00002aaab4013548> (a org.apache.tools.ant.PropertyHelper)\n        at\norg.apache.tools.ant.PropertyHelper.parseNextProperty(PropertyHelper.java:541)\n        at\norg.apache.tools.ant.PropertyHelper.parseProperties(PropertyHelper.java:502)\n        at\norg.apache.tools.ant.RuntimeConfigurable.maybeConfigure(RuntimeConfigurable.java:390)\n        - locked <0x00002aaab3f5ea38> (a org.apache.tools.ant.RuntimeConfigurable)\n        at\norg.apache.tools.ant.RuntimeConfigurable.maybeConfigure(RuntimeConfigurable.java:349)\n        at org.apache.tools.ant.Task.maybeConfigure(Task.java:202)\n        at org.apache.tools.ant.UnknownElement.configure(UnknownElement.java:193)\n        at\norg.apache.tools.ant.UnknownElement.maybeConfigure(UnknownElement.java:160)\n        at org.apache.tools.ant.Task.perform(Task.java:347)\n        at org.apache.tools.ant.Target.execute(Target.java:354)\n        at org.apache.tools.ant.Target.performTasks(Target.java:379)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1324)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1293)\n        at\norg.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1176)\n        at org.apache.tools.ant.Main.runBuild(Main.java:758)\n        at org.apache.tools.ant.Main.startAnt(Main.java:217)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)", "id": 108446, "time": "2007-09-20T07:18:36Z", "bug_id": 43438, "creation_time": "2007-09-20T07:18:36Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "mbenson@apache.org", "text": "Did Peter's changes help here?", "id": 108650, "time": "2007-09-26T10:14:05Z", "bug_id": 43438, "creation_time": "2007-09-26T10:14:05Z", "is_private": false, "attachment_id": null}, {"count": 2, "text": "seems to, but let's leave it open for a while until I am more convinced all is\nwell. That's the trouble with any concurrency-related bug: hard to replicate,\nand hard to verify that it is gone. \n\ndowngrading to regression, as it is no longer critical for me, marking as needinfo", "bug_id": 43438, "attachment_id": null, "id": 108739, "time": "2007-09-28T02:09:24Z", "creator": "stevel@apache.org", "creation_time": "2007-09-28T02:09:24Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 121970, "time": "2008-10-28T10:06:47Z", "bug_id": 43438, "creation_time": "2008-10-28T10:06:47Z", "is_private": false, "text": "this is probably obsoleted by the code changes in trunk by now."}]