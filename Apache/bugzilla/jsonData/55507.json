[{"count": 0, "tags": [], "creator": "sebb@apache.org", "text": "When recording SSL via the proxy, the browser prompts the user to accept the certificate for any pages directly requested by the user. From then on any requests to the same host will proceed without intervention.\n\nHowever many web pages include embedded resources that are on different hosts - for example images are often served by different hosts.\n\nBrowsers don't generally prompt the user when downloading such resources; the resource is silently ignored by the browser.\n\nIt would be good if a workround could be found for this.\n\nFor example, perhaps generate a page of links that the user could click in order to add the certificate exemptions.", "id": 169821, "time": "2013-08-29T21:42:23Z", "bug_id": 55507, "creation_time": "2013-08-29T21:42:23Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "sebb@apache.org", "text": "It looks like there is a better solution:\n\nCreate a self-signed CA cert.\n\nFor each CONNECT seen by the JMeter Proxy, create a SSL certificate for the appropriate domain which is signed by the CA cert. A browser that trusts the CA cert will then accept the SSL certificates with no further intervention.\n\nThe proxy only needs to create certs for each domain - e.g. *.apache.org will work for jmeter.apache.org and www.apache.org. These can be stored in the same JKS file.\n\nThere is a description of the process here:\nhttp://docs.oracle.com/javase/7/docs/technotes/tools/windows/keytool.html\n\"Generating Certificates for a Typical SSL Server\"\n\nUnfortunately this requires Java 7, but given that this would only be needed for HTTPS recording, it seems worth adding (with fallback to the current system if Java 7 is not available). The generated test plan would still be usable on Java 6, so at worst it might be necessary to do the recording on a separate host which has Java 7.", "id": 169874, "time": "2013-09-03T02:02:34Z", "bug_id": 55507, "creation_time": "2013-09-03T02:02:34Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "sebb@apache.org", "text": "URL: http://svn.apache.org/r1519890\nLog:\nProxy SSL recording does not handle external embedded resources well\nPart 1: Add methods to create the necessary certificate and keystore\nBugzilla Id: 55507\n\nModified:\n    jmeter/trunk/src/jorphan/org/apache/jorphan/exec/KeyToolUtils.java\n\nStill need to integrate the code into the Proxy server.", "id": 169891, "time": "2013-09-04T00:54:23Z", "bug_id": 55507, "creation_time": "2013-09-04T00:54:23Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "sebb@apache.org", "text": "URL: http://svn.apache.org/r1520459\nLog:\nProxy SSL recording does not handle external embedded resources well\nAdd method to create a host certificate (no wildcard)\nBugzilla Id: 55507\n\nModified:\n    jmeter/trunk/src/jorphan/org/apache/jorphan/exec/KeyToolUtils.java", "id": 169939, "time": "2013-09-06T00:31:29Z", "bug_id": 55507, "creation_time": "2013-09-06T00:31:29Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "Making progress:\n\nURL: http://svn.apache.org/r1520704\nLog:\nProxy SSL recording does not handle external embedded resources well\nAdd generation of keystores and aliases\nBugzilla Id: 55507\n\nModified:\n    jmeter/trunk/bin/jmeter.properties\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/Proxy.java", "attachment_id": null, "bug_id": 55507, "id": 169950, "time": "2013-09-06T21:41:46Z", "creator": "sebb@apache.org", "creation_time": "2013-09-06T21:41:46Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "sebb@apache.org", "text": "URL: http://svn.apache.org/r1521320\nLog:\nProxy SSL recording does not handle external embedded resources well\nReworked; setup is now done by ProxyControl on pressing Start\nTODO: better notification of progress of keystore init\nBugzilla Id: 55507\n\nModified:\n    jmeter/trunk/bin/jmeter.properties\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages.properties\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages_fr.properties\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/Proxy.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/ProxyControl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/gui/ProxyControlGui.java", "count": 5, "id": 169997, "time": "2013-09-10T00:08:54Z", "bug_id": 55507, "creation_time": "2013-09-10T00:08:54Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "sebb@apache.org", "text": "URL: http://svn.apache.org/r1521493\nLog:\nProxy SSL recording does not handle external embedded resources well\nOpera needs Root CA and a certificate chain\nAdd export of certificate with .usr extension (Opera)\nBugzilla Id: 55507\n\nModified:\n    jmeter/trunk/src/jorphan/org/apache/jorphan/exec/KeyToolUtils.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/ProxyControl.java", "count": 6, "id": 170008, "time": "2013-09-10T14:15:38Z", "bug_id": 55507, "creation_time": "2013-09-10T14:15:38Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 55507, "text": "URL: http://svn.apache.org/r1521970\nLog:\nProxy SSL recording does not handle external embedded resources well\nAdd text tool tip on HTTPS Domains field to indicate the Java 7 runtime requirement to use this behavior\nand some help text on the usage and comma separator when the field is enabled.\nBugzilla Id: 55507\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages.properties\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages_fr.properties\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/gui/ProxyControlGui.java", "id": 170044, "time": "2013-09-11T18:15:38Z", "creator": "milamber@apache.org", "creation_time": "2013-09-11T18:15:38Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 55507, "attachment_id": null, "is_private": false, "id": 170203, "time": "2013-09-21T13:37:41Z", "creator": "sebb@apache.org", "creation_time": "2013-09-21T13:37:41Z", "text": "URL: http://svn.apache.org/r1525234\nLog:\nProxy SSL recording does not handle external embedded resources well\nClarify certificate names\nDisplay details of local certificate that user can check against\nBugzilla Id: 55507\n\nModified:\n    jmeter/trunk/src/jorphan/org/apache/jorphan/exec/KeyToolUtils.java\n    jmeter/trunk/src/jorphan/org/apache/jorphan/util/JOrphanUtils.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/ProxyControl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/gui/ProxyControlGui.java"}, {"count": 9, "attachment_id": null, "creator": "sebb@apache.org", "text": "URL: http://svn.apache.org/r1529439\nLog:\nProxy SSL recording does not handle external embedded resources well\nUpdate documentation\nBugzilla Id: 55507\n\nModified:\n    jmeter/trunk/docs/images/screenshots/proxy_control.png\n    jmeter/trunk/xdocs/changes.xml\n    jmeter/trunk/xdocs/images/screenshots/proxy_control.png\n    jmeter/trunk/xdocs/usermanual/component_reference.xml", "id": 170425, "time": "2013-10-05T12:04:45Z", "bug_id": 55507, "creation_time": "2013-10-05T12:04:45Z", "tags": [], "is_private": false}, {"count": 10, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Closing as this one is fixed", "id": 171416, "time": "2013-11-23T14:36:23Z", "bug_id": 55507, "creation_time": "2013-11-23T14:36:23Z", "is_private": false, "attachment_id": null}]