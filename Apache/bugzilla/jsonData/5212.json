[{"count": 0, "tags": [], "creator": "dwhelan@innovasys.com", "attachment_id": null, "is_private": false, "id": 8471, "time": "2001-11-30T11:29:38Z", "bug_id": 5212, "creation_time": "2001-11-30T11:29:38Z", "text": "If the pattern contains a space followed by a dash then the RE will not match \nstrings with spaces. This may be related to Bug #2121.\n\nIf you run the code at the end of this description you should get:\n\nRE('[\\d \\-]') did not match ' '\nRE('[ \\-\\d]') did not match ' '\nRE('[ \\-]') did not match ' '\nRE('[ \\-]') did not match '123 '\nRE('[ \\-]') did not match ' 456'\nRE('[ \\-]') did not match '123 456'\n\nThe following sample code shows the defect:\n\nimport org.apache.regexp.*;\n\n/**\n * Tests the org.apache.regexp.RE class\n * \n * @author\t<a href=\"mailto:dwhelan@innovasys.com\">Declan Whelan</a>\n * @version\t<!--$$Revision: 1.2 $-->\n */\npublic class RETest\n{\n\t/**\n\t * Runs the test suite.\n\t *\n\t * @param\ttheArgs\n\t */\n\tpublic static void main(String theArgs[])\n\t{\n\t\ttry\n\t\t{\n\t\t\t\n\t\t\t// all the below should match a space or a dash\n\t\t\tString[] patterns = { \"[\\\\d\\\\- ]\",\n\t\t\t\t\t\t\t\t  \"[\\\\d \\\\-]\",\n\t\t\t\t\t\t\t\t  \"[ \\\\d\\\\-]\",\n\t\t\t\t\t\t\t\t  \"[ \\\\-\\\\d]\",\n\t\t\t\t\t\t\t\t  \"[\\\\- \\\\d]\",\n\t\t\t\t\t\t\t\t  \"[\\\\-\\\\d ]\",\n\t\t\t\t\t\t\t\t  \"[ ]\",\n\t\t\t\t\t\t\t\t  \"[ \\\\-]\",\n\t\t\t\t\t\t\t\t  \"[\\\\- ]\"};\n\t\t\tString[] matchedStrings = {\" \", \"123 \", \" 456\", \"123 \n456\"};\n\t\t\t\n\t\t\tfor (int i=0; i < patterns.length; i++)\n\t\t\t{\n\t\t\t\tRE re = new RE(patterns[i]);\n\t\t\t\tfor (int j=0; j < matchedStrings.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (!re.match(matchedStrings[j]))\n\t\t\t\t\t{\n\t\t\t\t\t\tSystem.err.println(\"RE('\" + \npatterns[i] + \"') did not match '\" + matchedStrings[j] + \"'\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcatch(RESyntaxException x)\n\t\t{\n\t\t\tSystem.err.println(x.getMessage());\n\t\t}\n\t}\n}"}, {"count": 1, "attachment_id": null, "bug_id": 5212, "text": "\n\n*** This bug has been marked as a duplicate of 19329 ***", "id": 36137, "time": "2003-04-25T17:59:08Z", "creator": "vgritsenko@apache.org", "creation_time": "2003-04-25T17:59:08Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "text": "Fixed by Bug #19329", "is_private": false, "bug_id": 5212, "id": 36482, "time": "2003-05-02T01:10:02Z", "creator": "vgritsenko@apache.org", "creation_time": "2003-05-02T01:10:02Z", "attachment_id": null}]