[{"count": 0, "tags": [], "bug_id": 49373, "attachment_id": null, "is_private": false, "id": 137289, "time": "2010-06-02T19:50:31Z", "creator": "apache-bt@g3i.de", "creation_time": "2010-06-02T19:50:31Z", "text": "Unexpected behaviour change between Ant 1.8.0 (OK) and Ant 1.8.1 (wrong).\n\n <property file=\"foo.properties\" prefix=\"prfx\" />\n\nLoading properties from a file should apply the prefix only to the newly loaded properties. The prefix should not be used for property expansions on the value side.\n\nBelow build.xml works with Ant 1.8.0 and fails with Ant 1.8.1:\n\n---8<---\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project name=\"Test1\" default=\"test1\">\n\n\t<target name=\"test1\">\n\t\t<echo file=\"foo.properties\" message=\"abc=$${def}\" />\n\t\t<property name=\"def\" value=\"ghi\" />\n\t\t<property name=\"prfx.def\" value=\"jkl\" />\n\t\t<property file=\"foo.properties\" prefix=\"prfx\" />\n\t\t<echo message=\"Value of $${prfx.abc} is ${prfx.abc}, should be ghi, should not be jkl.\" />\n\t</target>\n\n</project>\n---8<---\n\n1.8.0:\n[echo] Value of ${prfx.abc} is ghi, should be ghi, should not be jkl.\n\n1.8.1 (wrong):\n[echo] Value of ${prfx.abc} is jkl, should be ghi, should not be jkl."}, {"count": 1, "attachment_id": null, "creator": "bodewig@apache.org", "is_private": false, "id": 137996, "time": "2010-06-29T12:17:51Z", "bug_id": 49373, "creation_time": "2010-06-29T12:17:51Z", "tags": [], "text": "fixed with svn revision 959019"}, {"count": 2, "tags": [], "creator": "bodewig@apache.org", "text": "svn revision 959177 looks cleaner\n\nIt may not be the final solution, though.  It looks as if we still have a\nbackwards compatibility issue that manifests itself in the\njelly-tags-ant build in Gump.\n\nhttp://vmgump.apache.org/gump/public/commons-jelly/commons-jelly-tags-ant/gump_work/build_commons-jelly_commons-jelly-tags-ant.html", "id": 138024, "time": "2010-06-29T23:42:26Z", "bug_id": 49373, "creation_time": "2010-06-29T23:42:26Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 49373, "attachment_id": null, "is_private": false, "id": 138398, "time": "2010-07-13T11:50:17Z", "creator": "bodewig@apache.org", "creation_time": "2010-07-13T11:50:17Z", "text": "I've locally confirmed that ant 1.8.0 works fine for Jelly's tests but 1.8.1 breaks it, so the error in Jelly seems unrelated to this issue or its fix."}, {"count": 4, "tags": [], "bug_id": 49373, "text": "*** Bug 49729 has been marked as a duplicate of this bug. ***", "id": 139001, "time": "2010-08-09T16:00:05Z", "creator": "bodewig@apache.org", "creation_time": "2010-08-09T16:00:05Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 49373, "text": "*** Bug 49790 has been marked as a duplicate of this bug. ***", "id": 139300, "time": "2010-08-21T03:55:32Z", "creator": "bodewig@apache.org", "creation_time": "2010-08-21T03:55:32Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "bodewig@apache.org", "is_private": false, "text": "*** Bug 49901 has been marked as a duplicate of this bug. ***", "id": 139776, "time": "2010-09-08T23:45:59Z", "bug_id": 49373, "creation_time": "2010-09-08T23:45:59Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 49373, "attachment_id": null, "is_private": false, "id": 140225, "time": "2010-09-27T11:01:29Z", "creator": "bodewig@apache.org", "creation_time": "2010-09-27T11:01:29Z", "text": "*** Bug 49989 has been marked as a duplicate of this bug. ***"}]