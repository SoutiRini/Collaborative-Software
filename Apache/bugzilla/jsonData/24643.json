[{"count": 0, "tags": [], "text": "On SMP systems build can fail because of not full dependencies in Makefile with\nnext error:\n\ngawk -f /home/svd/RPM/BUILD/httpd-2.0.48/build/make_var_export.awk `cat\nexport_files` > export_vars.h\nmake[2]: *** No rule to make target `exports.c', needed by `httpd.exp'.  Stop.\n\nTo fix it I'm using this patch:\n\n--- httpd-2.0.48/server/Makefile.in~    2003-03-11 17:41:55 +0200\n+++ httpd-2.0.48/server/Makefile.in     2003-11-12 13:57:18 +0200\n@@ -64,6 +64,8 @@\n $(top_builddir)/server/exports.c: export_files\n        $(AWK) -f $(top_srcdir)/build/make_exports.awk `cat $?` > $@\n \n+exports.c: $(top_builddir)/server/exports.c\n+\n export_vars.h: export_files\n        $(AWK) -f $(top_srcdir)/build/make_var_export.awk `cat $?` > $@", "is_private": false, "bug_id": 24643, "id": 47245, "time": "2003-11-12T12:41:02Z", "creator": "svd@altlinux.ru", "creation_time": "2003-11-12T12:41:02Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "trawick@apache.org", "is_private": false, "id": 47265, "time": "2003-11-12T20:34:10Z", "bug_id": 24643, "creation_time": "2003-11-12T20:34:10Z", "tags": [], "text": "What's the issue with SMP systems?  Do you mean that the box where it failed is\nSMP?  What commands are you using to build Apache?  What Linux is it?\n"}, {"count": 2, "tags": [], "text": "It fails with a parallel make i.e. make -j2 with GNU make... HEAD has this change:\n\n# Needed to allow exports.c to be generated in a parallel build successfully\n.NOTPARALLEL: $(top_builddir)/server/exports.c\n\nI'm not sure whether this is really needed or whether the paths to exports.c\njust need to be fixed to be either absolute or not all through that Makefile, it\nseems confused.", "is_private": false, "bug_id": 24643, "id": 47267, "time": "2003-11-12T21:05:44Z", "creator": "jorton@redhat.com", "creation_time": "2003-11-12T21:05:44Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "Sorry for not very accurate report,\nyes, it fails when make satrted as \"make -j2\".\n\nAnd it seems that adding\n\n.NOTPARALLEL: $(top_builddir)/server/exports.c\n\nalso helps. I hope, it's better solution. I'm not so experienced in Makefiles,\nso I think you'll do it better than me.\nThanks.", "attachment_id": null, "bug_id": 24643, "id": 47301, "time": "2003-11-13T10:17:35Z", "creator": "svd@altlinux.ru", "creation_time": "2003-11-13T10:17:35Z", "is_private": false}, {"count": 4, "tags": [], "text": "Created attachment 9357\nunfixes for server/Makefile.in", "attachment_id": 9357, "bug_id": 24643, "id": 48387, "time": "2003-12-02T15:16:14Z", "creator": "jorton@redhat.com", "creation_time": "2003-12-02T15:16:14Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 24643, "text": "Attached what looks like the right fix to me (for HEAD); awaiting review before\ncommitting.", "id": 48389, "time": "2003-12-02T15:21:27Z", "creator": "jorton@redhat.com", "creation_time": "2003-12-02T15:21:27Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "id": 50405, "time": "2004-01-12T14:31:50Z", "bug_id": 24643, "creation_time": "2004-01-12T14:31:50Z", "is_private": false, "text": "Fixed for 2.0.49 - thanks for the report."}]