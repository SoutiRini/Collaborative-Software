[{"count": 0, "tags": [], "text": "I don't know if this is a Jasper or Catalina problem. For some reason, when I \ntry to include the output from another JSP using RequestDispatcher object, the \noutput doesn't fall into correct place. \n\nThe keyword \"-Between-\" should be rendered between \"A\" and \"B\" inside the table \ncell tag, but it was rendered all the way to the top of the HTML output. The \nsame codes work fine under WebLogic 5.1(SP9) or above. The following is the \nsample codes to generate this problem:\n\n----- [x.jsp] -----\n\n<TABLE>\n  <TR>\n    <TD>\n    A\n    <%\n      RequestDispatcher rd = request.getRequestDispatcher(\"/y.jsp\");\n      rd.include(request, response);\n    %>\n    B\n    </TD>\n  </TR>\n</TABLE>\n\n----- [y.jsp] -----\n\n-Between-\n\n----- [HTML source from browser after x.jsp has been accessed] -----\n\n-Between-\n<TABLE>\n\t<TR>\n\t\t<TD>\n\t\tA\n\t\t\n\t\tB\n\t\t</TD>\n\t</TR>\n</TABLE>", "is_private": false, "id": 9179, "creation_time": "2001-12-27T13:59:54Z", "time": "2001-12-27T13:59:54Z", "creator": "rigel.heung@gs.com", "bug_id": 5598, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 5598, "is_private": false, "id": 9301, "time": "2002-01-02T15:31:53Z", "creator": "kin-man.chung@sun.com", "creation_time": "2002-01-02T15:31:53Z", "tags": [], "text": "The javax.servlet.jsp.JspWriter class buffers and sends output (JSP.8.3), so it\nis not surprising that including another page using RequestDispatcher object\nwould produce an out-of-order output.  You should either\n\n\t1) add \"out.flush();\" in your scriplet to explicitly flush the data in the\nbuffer; or\n\t2) add a <%@ page buffer=\"none\" %> to specify no buffering."}, {"count": 2, "tags": [], "text": "You should also use <jsp:include> action, which allows buffering.  Here, the\noutput of the included page is copied into the buffer of the including page,\npreserving the expected order.", "is_private": false, "id": 9303, "creation_time": "2002-01-02T15:38:07Z", "time": "2002-01-02T15:38:07Z", "creator": "kin-man.chung@sun.com", "bug_id": 5598, "attachment_id": null}, {"count": 3, "tags": [], "creator": "jp@encausse.net", "attachment_id": null, "is_private": false, "id": 35889, "time": "2003-04-23T12:54:43Z", "bug_id": 5598, "creation_time": "2003-04-23T12:54:43Z", "text": "Still doesn't work in Tomcat 4.1.24\n\nThe problem persists:\n - When doing the include in a Scriplet\n - When doing th include in a doStartTag\n - When implementing a new RequestDispatcher\n\nWhy flushing is not enough:\nthe <jsp:include> calls a proprietary method JspRuntimeLibrary.include() that \ndoes the flush AND inserts a proprietary ResponseWrapper\n\nWhen implementing a RequestDispatcher that do the Jobs, the Buffer mechanism \ndoesn't allow to have recursive include"}, {"count": 4, "tags": [], "creator": "funkman@joedog.org", "text": "Closing based on Kin-Man's last comments.", "id": 51846, "attachment_id": null, "bug_id": 5598, "creation_time": "2004-02-06T17:30:59Z", "time": "2004-02-06T17:30:59Z", "is_private": false}]