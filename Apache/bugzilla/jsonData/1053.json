[{"count": 0, "tags": [], "bug_id": 1053, "attachment_id": null, "text": "FixCRLF pre-loads a file before processing it; that doesn't work on huge files. \nYou'll get a java.lang.OutOfMemoryError during execution of the task. \n\nUnfortunatley the implementation of FixCRLF has private variables for the \nproperties it establishes via its setters (without corresponding getters), so \nyou can't subclass FixCRLF to easily repair the problem.  The fix must be made \nto the FixCRLF source.\n\nThis problem exists in both Ant 1.2 and 1.3; I doubt it is platform-specific.  \nThe size of file you can process will vary with the OS and available memory \nhardware and with the JVM (I've seem some inconvenient internal array size \nlimits in various JVMs, but I don't know if that is a factor in this bug).  In \nmy case I was trying to process a 39meg file with 320meg RAM on an NT 4.0 \nlaptop (with assorted development tools running while using Ant) and JDK 1.3.0-\nC.", "id": 1450, "time": "2001-03-20T11:47:50Z", "creator": "pinchbac@mpi.com", "creation_time": "2001-03-20T11:47:50Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 1053, "attachment_id": 55, "text": "Created attachment 55\nA possible replacement for the execute() method", "id": 1503, "time": "2001-03-21T10:00:14Z", "creator": "pinchbac@mpi.com", "creation_time": "2001-03-21T10:00:14Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 1053, "text": "Just to note that the replace task is similarly afflicted.", "id": 3528, "time": "2001-07-09T21:45:01Z", "creator": "conor@apache.org", "creation_time": "2001-07-09T21:45:01Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "pbwest@powerup.com.au", "attachment_id": null, "id": 3629, "time": "2001-07-11T07:30:28Z", "bug_id": 1053, "creation_time": "2001-07-11T07:30:28Z", "is_private": false, "text": "I have already submitted a patch to address some other restrictions in the\noriginal version of FixCRLF, but had not seen this bug report.\n\nI have now modified my changed version to address this issue by using a\nBufferedReader and processing the file line at at time.  My previous changes had\ndone line at a time processing, but I had maintained the notion of buffering the\nwhole file at the beginning.\n\nThe BufferedReader using ReadLine() works on linux, but I am not sure how it\nwill handle the EOF ^Z problem on Windows systems.  On linux, ^Z is read the\nsame as any other non-eol character by ReadLine, but is this the behaviour on\nWindows?"}, {"count": 4, "tags": [], "creator": "pbwest@powerup.com.au", "text": "Forwarded a patch to ant-dev which, among other things, processes files using\nBufferedReader.", "id": 3678, "time": "2001-07-12T08:09:41Z", "bug_id": 1053, "creation_time": "2001-07-12T08:09:41Z", "is_private": false, "attachment_id": null}, {"text": "Created attachment 347\nPreserve TABs in literals;allow any tabwidth;allow CR as line ending", "tags": [], "bug_id": 1053, "is_private": false, "count": 5, "id": 3902, "time": "2001-07-21T19:26:49Z", "creator": "pbwest@powerup.com.au", "creation_time": "2001-07-21T19:26:49Z", "attachment_id": 347}, {"count": 6, "attachment_id": 348, "bug_id": 1053, "text": "Created attachment 348\nHTML changes corresponding to Attachment 347", "id": 3903, "time": "2001-07-21T19:34:59Z", "creator": "pbwest@powerup.com.au", "creation_time": "2001-07-21T19:34:59Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "bug_id": 1053, "attachment_id": null, "text": "As suggested by Conor MacNeill in a recent email, I am using bugzilla to post\npatches to FixCRLF.java and fixcrlf.html.\n\nAttachments 347 and 348 are the patches to FixCRLF.java and fixcrlf.html\nrespectively to address some issues I had with this task, and also the very\nlarge files problem in this bug.\n\nThese latest versions of the patches supersede previous patches, and 347 also\nremoves a println debugging statement which was inadvertently left in the\nprevious patch, while 348 addresses an error in the HTML file.", "id": 3904, "time": "2001-07-21T19:41:00Z", "creator": "pbwest@powerup.com.au", "creation_time": "2001-07-21T19:41:00Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 1053, "is_private": false, "id": 4251, "creation_time": "2001-08-03T04:22:28Z", "time": "2001-08-03T04:22:28Z", "creator": "bodewig@apache.org", "text": "fixed in nightly build 2001-08-04", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 1053, "attachment_id": 384, "text": "Created attachment 384\nFix change in place bug from previous patch; add write-on-change facility", "id": 4270, "time": "2001-08-04T07:16:01Z", "creator": "pbwest@powerup.com.au", "creation_time": "2001-08-04T07:16:01Z", "is_private": false}, {"count": 10, "tags": [], "creator": "pbwest@powerup.com.au", "text": "Created patch as attachment 384.\nThis fixes a fatal bug in my previous patch which prevents change-in-place.\n\nAdded the facility to write the generated file only when it differs from the\ndestination file.  N.B. This patch contains some System.out.println's in the\ncode for this facility.  These should come out, but are useful for testing the\nfunctionality.", "id": 4271, "time": "2001-08-04T07:22:54Z", "bug_id": 1053, "creation_time": "2001-08-04T07:22:54Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "bug_id": 1053, "attachment_id": null, "text": "reopen to track the latest patches", "id": 4273, "time": "2001-08-04T09:10:31Z", "creator": "conor@apache.org", "creation_time": "2001-08-04T09:10:31Z", "is_private": false}, {"text": "Created attachment 385\nDocumentation changes for patch attachment 384", "tags": [], "bug_id": 1053, "is_private": false, "count": 12, "id": 4281, "time": "2001-08-05T03:14:27Z", "creator": "pbwest@powerup.com.au", "creation_time": "2001-08-05T03:14:27Z", "attachment_id": 385}, {"count": 13, "attachment_id": null, "bug_id": 1053, "text": "documentation updates committed for nightly build 2001-08-07", "id": 4293, "time": "2001-08-06T02:16:46Z", "creator": "bodewig@apache.org", "creation_time": "2001-08-06T02:16:46Z", "tags": [], "is_private": false}, {"count": 14, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 4313, "creation_time": "2001-08-06T23:26:08Z", "time": "2001-08-06T23:26:08Z", "bug_id": 1053, "text": "things should be working as expected now", "is_private": false}]