[{"count": 0, "attachment_id": null, "creator": "burkhard.mahr@softlab.de", "is_private": false, "id": 48520, "time": "2003-12-04T17:10:01Z", "bug_id": 25211, "creation_time": "2003-12-04T17:10:01Z", "tags": [], "text": "Even my ant script defines binary option to \"no\" the transfer of files\nfrom W2000 to Suse Linux is binary instead of ASCII.\n\nI use the following Ant script:\nroject name=\"template\" default=\"ftp.generic\" basedir=\".\">\n  <target name=\"ftp.generic\">\n\t<echo message=\"Deploying Test\"/>\n\n\t<!-- put ascii files -->\n\t<echo>transferring ascii files ... </echo>\n  \t<ftp server=\"pc5075\" userid=\"qqtemplate\" password=\"xbmw\" \n  \t\tremotedir=\"/www/template/config/template_deploy\"\n  \t\taction=\"put\"  \n  \t\tverbose=\"yes\"\n  \t\tbinary=\"no\">\n\t\t<fileset dir=\".\">\n\t\t\t<!-- include ascii files -->\n\t\t\t<include name=\"prepa*\"/>\n\t\t</fileset>  \n\t</ftp>\n\n  </target>\n</project>\n\n\nThe output is:\n\nftp.generic:\n     [echo] Deploying Test\n     [echo] transferring ascii files ...\n      [ftp] Opening FTP connection to pc5075\n      [ftp] connected\n      [ftp] logging in to FTP server\n      [ftp] login succeeded\n      [ftp] changing the remote directory\n      [ftp] sending files\nfileset: Setup scanner in dir D:\\unix_deploy with patternSet{ includes: \n[prepa*] excludes: [] }\n      [ftp] transferring D:\\unix_deploy\\prepare_installation\n      [ftp] File D:\\unix_deploy\\prepare_installation copied to pc5075\n      [ftp] 1 files sent\n      [ftp] disconnecting\nThe file should be ascii transfered but it is transferred binary.\n\n If I do manually transfer with windows ftp client in ascii mode the transfer \nworks fine. Any hints?"}, {"count": 1, "text": "Hi,\nI would suspect that your FTP server has binary as default transfer mode instead\nof ASCII.\nThis problem is fixed in ant 1.6, exactly since\nsrc/main/org/apache/tools/ant/taskdefs/optional/net/FTP.java revision 1.39\n(29-07-2003). You can download ant1.6beta3 to check that.", "bug_id": 25211, "is_private": false, "id": 48547, "time": "2003-12-05T08:26:00Z", "creator": "antoine@apache.org", "creation_time": "2003-12-05T08:26:00Z", "tags": [], "attachment_id": null}]