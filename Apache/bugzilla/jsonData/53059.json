[{"attachment_id": 28577, "tags": [], "bug_id": 53059, "text": "Created attachment 28577\nvariable sbindir\n\nIn order to be easily relocatable, make apachectl use a variable sbindir.\n\nThat way we can ./configure --prefix=/opt/foo && make && make install\n\nand then cp -r /opt/foo /opt/bar and have a new instance to run with.", "count": 0, "id": 157826, "time": "2012-04-10T23:24:08Z", "creator": "i.galic@brainsware.org", "creation_time": "2012-04-10T23:24:08Z", "is_private": false}, {"count": 1, "tags": [], "text": "I have made slight modifications to this patchset -- to actually work. - But of course it only works with the default layout:\n\nbin/apachectl:\n\n  HTTPD=\"$SBINDIR/httpd\"\n  #\n  # pick up any necessary environment variables\n  if test -f $SBINDIR/envvars; then\n    . $SBINDIR/envvars\n  fi\n\n  if test \"x$SERVER_ROOT\" != \"x\"; then\n    HTTPD=\"$HTTPD -d $SERVER_ROOT\"\n  fi\n\n\nbin/envvars:\n\n  envvars=$( readlink -f $0 )\n  export SERVER_ROOT=${envvars%*/*/*}\n\nconf/httpd.conf:\n\n  ServerRoot \"${SERVER_ROOT}\"\n  DocumentRoot \"${SERVER_ROOT}/htdocs\"\n  # .. etc..", "attachment_id": null, "bug_id": 53059, "id": 157933, "time": "2012-04-11T09:53:42Z", "creator": "i.galic@brainsware.org", "creation_time": "2012-04-11T09:53:42Z", "is_private": false}]