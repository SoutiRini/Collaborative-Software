[{"count": 0, "tags": [], "bug_id": 60822, "text": "ResultCollector tries to ensure that multiple references to the same file in a Test Plan only generate a single Writer.\n\nHowever, it does not canonicalise the file names, so the same physical file may be written by two Writers.\n\nFor example, test.jtl and ./test.jtl will result in separate entries in the files HashMap. This could be fixed by using File.getCanonicalPath()\n\nAlso test.jtl and Test.jtl currently generate separate entries even on case-insensitive file systems. \n\nThere does not seem to be a way to detect file system case-sensitivity in Java.\n\nPath.toRealPath() produces unique names for case-insenstive systems but only works for existing files, so would require the file to be exist first. That might be acceptable here, because the purpose of the ResultCollector is to write the file. File.toCanonicalPath() does not take account of case sensitivity.\n\nIt looks as though File.getCanonicalPath() returns the file name with its actual case if the file exists.\n\nNote that case-sensitivity is a property of the file system, not the OS, so the same host could potentially have multiple file systems with different case-sensitivity", "id": 197467, "time": "2017-03-05T19:52:10Z", "creator": "sebb@apache.org", "creation_time": "2017-03-05T19:52:10Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 60822, "attachment_id": 34801, "id": 197478, "time": "2017-03-06T15:13:52Z", "creator": "sebb@apache.org", "creation_time": "2017-03-06T15:13:52Z", "is_private": false, "text": "Created attachment 34801\nTest showing problem"}, {"count": 2, "tags": [], "creator": "sebb@apache.org", "text": "Created attachment 34802\noutput XML file showing mixed output", "id": 197479, "time": "2017-03-06T15:15:11Z", "bug_id": 60822, "creation_time": "2017-03-06T15:15:11Z", "is_private": false, "attachment_id": 34802}, {"count": 3, "tags": [], "creator": "sebb@apache.org", "text": "Created attachment 34803\nTest showing problem for CSV", "id": 197480, "time": "2017-03-06T15:23:41Z", "bug_id": 60822, "creation_time": "2017-03-06T15:23:41Z", "is_private": false, "attachment_id": 34803}, {"count": 4, "tags": [], "creator": "sebb@apache.org", "is_private": false, "text": "Created attachment 34804\noutput CSV file showing truncated output", "id": 197481, "time": "2017-03-06T15:24:19Z", "bug_id": 60822, "creation_time": "2017-03-06T15:24:19Z", "attachment_id": 34804}, {"count": 5, "tags": [], "creator": "sebb@apache.org", "text": "Note: as it happens the first call to initializeFileOutput() creates the file if it does not exist, so File.getCanonicalPath() is sufficient to ensure uniqueness.\n\nAlso added some debug logging to show when file is created/initialised.\n\nURL: http://svn.apache.org/viewvc?rev=1785990&view=rev\nLog:\nResultCollector does not ensure unique file name entries in files HashMap\nBugzilla Id: 60822\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/reporters/ResultCollector.java\n    jmeter/trunk/xdocs/changes.xml", "id": 197542, "time": "2017-03-08T15:44:27Z", "bug_id": 60822, "creation_time": "2017-03-08T15:44:27Z", "is_private": false, "attachment_id": null}]