[{"count": 0, "tags": [], "text": "Created attachment 33598\nAdd default value to mandatory fields\n\nAs this 2 fields ( expiration & priority ) are mandatory, I modify their init value by default value.", "is_private": false, "id": 188836, "creation_time": "2016-02-26T11:35:43Z", "time": "2016-02-26T11:35:43Z", "creator": "mchassagneux@apache.org", "bug_id": 59075, "attachment_id": 33598}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "is_private": false, "text": "Thanks for the patch.\n\nWhat is the rationale for choosing these particular default values?\n\nIf there is not particular best choice it's not a good idea to provide defaults; the user should be forced to choose.\n\n\nNote: the documentation should ideally also be updated.", "id": 188845, "time": "2016-02-26T15:53:59Z", "bug_id": 59075, "creation_time": "2016-02-26T15:53:59Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "mchassagneux@apache.org", "attachment_id": null, "is_private": false, "id": 188851, "time": "2016-02-26T17:28:42Z", "bug_id": 59075, "creation_time": "2016-02-26T17:28:42Z", "text": "It's not my point of view, a default value is not absolutely the best value... but if you really want the user choose is own value, it's could be interresting to indicate which field are mandatory in the GUI (like a * or a comment), or may be indicate a better error when you forget to fill this properties. Because :impossible de cast \"\" as Integer is not rly user friendly."}, {"count": 3, "attachment_id": null, "bug_id": 59075, "is_private": false, "id": 188858, "time": "2016-02-26T21:04:08Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-02-26T21:04:08Z", "tags": [], "text": "(In reply to maxime.chassagneux from comment #2)\n> It's not my point of view, a default value is not absolutely the best\n> value... but if you really want the user choose is own value, it's could be\n> interresting to indicate which field are mandatory in the GUI (like a * or a\n> comment), \nThat would be an other enhancement proposal. Patches are welcome although work is huge.\n\nor may be indicate a better error when you forget to fill this\n> properties. Because :impossible de cast \"\" as Integer is not rly user\n> friendly.\n\nIn what case do you get this exception ?\nCould you provide jmeter.log file ?\n\nAs per code:\nhttps://github.com/apache/jmeter/blob/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/PublisherSampler.java#L519\nhttps://github.com/apache/jmeter/blob/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/PublisherSampler.java#L523\n\nFor me default values are set when there is an empty value.\n\n\nPS : When you submit a patch, either provide a Github PR or a fully fledged patch file that can be applied using :\n patch -p1 < patchfile.patch"}, {"count": 4, "tags": [], "creator": "mchassagneux@apache.org", "text": "Created attachment 33612\nExample", "id": 188944, "time": "2016-02-29T09:22:46Z", "bug_id": 59075, "creation_time": "2016-02-29T09:22:46Z", "is_private": false, "attachment_id": 33612}, {"count": 5, "tags": [], "bug_id": 59075, "text": "\n\nThis is the problem, no stack trace, no error in the jmeter.log to help the user to find which field is missing.\nJust this :\n\nNom d'unit\u00e9 : Send 1-1\nDate d\u00e9but \u00e9chantillon : 2016-02-29 10:17:09 CET\nTemps de r\u00e9ponse : 0\nTemps \u00e9tablissement connexion : 0\nLatence : 0\nTaille en octets : 0\nTaille de l'ent\u00eate en octets : 0\nTaille du corps en octets : 0\nCompteur \u00e9chantillon : 1\nCompteur erreur: 1\nType de donn\u00e9es (\"text\"|\"bin\"|\"\"): \nCode de retour : 000\nMessage de retour : java.lang.NumberFormatException: For input string: \"\"", "id": 188945, "time": "2016-02-29T09:24:20Z", "creator": "mchassagneux@apache.org", "creation_time": "2016-02-29T09:24:20Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "text": "Hi,\nBut it is strange as when the fields are empty, numerical default values are sent.\nAre you sure they are empty here ?\nCan you attach the test plan ?\n\nAre you sure the NumberFormatException concerns priority and expiration ?\nThanks", "is_private": false, "bug_id": 59075, "id": 188946, "time": "2016-02-29T09:27:11Z", "creator": "support@ubikloadpack.com", "creation_time": "2016-02-29T09:27:11Z", "attachment_id": null}, {"count": 7, "attachment_id": 33613, "bug_id": 59075, "text": "Created attachment 33613\nTest plan", "id": 188947, "time": "2016-02-29T09:28:58Z", "creator": "mchassagneux@apache.org", "creation_time": "2016-02-29T09:28:58Z", "tags": [], "is_private": false}, {"count": 8, "tags": [], "bug_id": 59075, "text": "Yes I'm sure there are empty ( and it's the case for a new default sampler)\nAnd yes it's concern these fields, when I put values, it's OK.", "id": 188948, "time": "2016-02-29T09:31:56Z", "creator": "mchassagneux@apache.org", "creation_time": "2016-02-29T09:31:56Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "creator": "support@ubikloadpack.com", "is_private": false, "text": "Ok, I see the problem.\nI will submit a patch this day.\nRegards", "id": 188949, "time": "2016-02-29T09:34:47Z", "bug_id": 59075, "creation_time": "2016-02-29T09:34:47Z", "attachment_id": null}, {"count": 10, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "text": "Author: pmouawad\nDate: Mon Feb 29 12:16:39 2016\nNew Revision: 1732882\n\nURL: http://svn.apache.org/viewvc?rev=1732882&view=rev\nLog:\nBug 59075 - JMS Publisher: NumberFormatException is thrown is priority or expiration fields are empty\nBugzilla Id: 59075\n\nModified:\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/PublisherSampler.java\n    jmeter/trunk/xdocs/changes.xml", "id": 188956, "time": "2016-02-29T12:18:50Z", "bug_id": 59075, "creation_time": "2016-02-29T12:18:50Z", "attachment_id": null}, {"count": 11, "tags": [], "bug_id": 59075, "text": "Hi Maxime,\nCould you get in few minutes last nightly build (which is now ready to use as is since yesterday), it is currently being generated.\n\n\nIf bug is fixed please leave a comment, if not reopen the bug.\nThanks", "id": 188957, "time": "2016-02-29T12:20:10Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-02-29T12:20:10Z", "is_private": false, "attachment_id": null}, {"count": 12, "tags": [], "creator": "mchassagneux@apache.org", "attachment_id": null, "is_private": false, "id": 188986, "time": "2016-03-01T08:49:32Z", "bug_id": 59075, "creation_time": "2016-03-01T08:49:32Z", "text": "I just merged the last git branch and this bug is now fix. \n\nTanks again !!!!"}]