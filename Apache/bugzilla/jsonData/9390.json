[{"count": 0, "tags": [], "bug_id": 9390, "attachment_id": null, "id": 16660, "time": "2002-05-24T14:09:52Z", "creator": "t.phlips@customerdialogue.com", "creation_time": "2002-05-24T14:09:52Z", "is_private": false, "text": "Hi,\n\nI'm having a strange problem: our application is a servlet application using \nStruts and JSP (running in Tomcat 3.2 on a Windows NT4 SP 6 dual processor \nserver). The application seems to work fine in normal circumstances (single \nuser and multi-user tests have been performed). Recently we did a training \nsession of our application with 10 users simultaneously doing the same actions \n(pressing same buttons in the application etc). All of a sudden 1 of the 10 \nusers received an exception (it appeared to be a jasper compilation error, cf. \nend of message for full exception). All the other users received the same page \nwithout any problem and the one user that received the error, was able to \nrecover by just pressing the reload button of IE. But I'm wondering why this \ncould have been caused. The JSP page should normally compiles correctly (it has \nto be correct syntax as all other users received the same page without any \nproblem). Might this be a concurrency problem in tomcat or jasper? Is this a \nknown issue?\n\nThis is the full exception:\n\nError: 500\nLocation: /ap2/profile_interview/income_summary.jsp\nInternal Servlet Error:\n\norg.apache.jasper.JasperException: Unable to compile class for \nJSPC:\\tomcat\\work\\localhost_8080%2Fap2\n\\_0002fprofile_0005finterview_0002fincome_0005fsummary_0002ejspincome_0005fsumma\nry_jsp_0.java:452: Invalid expression statement.\n\n^\nC:\\tomcat\\work\\localhost_8080%2Fap2\n\\_0002fprofile_0005finterview_0002fincome_0005fsummary_0002ejspincome_0005fsumma\nry_jsp_0.java:452: ';' expected.\n\n^\nC:\\tomcat\\work\\localhost_8080%2Fap2\n\\_0002fprofile_0005finterview_0002fincome_0005fsummary_0002ejspincome_0005fsumma\nry_jsp_0.java:452: '}' expected.\n\n^\n3 errors\n\nat org.apache.jasper.compiler.Compiler.compile(Compiler.java:254)\nat org.apache.jasper.servlet.JspServlet.doLoadJSP(JspServlet.java:462)\nat org.apache.jasper.servlet.JasperLoader12.loadJSP(JasperLoader12.java:146)\nat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:433)\nat org.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:152)\nat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:164)\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:318)\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:391)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\nat org.apache.tomcat.core.ServletWrapper.doService(ServletWrapper.java:404)\nat org.apache.tomcat.core.Handler.service(Handler.java:286)\nat org.apache.tomcat.core.ServletWrapper.service(ServletWrapper.java:372)\nat org.apache.tomcat.facade.RequestDispatcherImpl.forward\n(RequestDispatcherImpl.java:194)\nat s1.struts.component.ActionComponentServlet.processForward\n(ActionComponentServlet.java:223)\nat s1.struts.component.ActionComponentServlet.processActionForward\n(ActionComponentServlet.java:99)\nat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1584)\nat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:490)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\nat org.apache.tomcat.core.ServletWrapper.doService(ServletWrapper.java:404)\nat org.apache.tomcat.core.Handler.service(Handler.java:286)\nat org.apache.tomcat.core.ServletWrapper.service(ServletWrapper.java:372)\nat org.apache.tomcat.core.ContextManager.internalService\n(ContextManager.java:797)\nat org.apache.tomcat.core.ContextManager.service(ContextManager.java:743)\nat org.apache.tomcat.service.http.HttpConnectionHandler.processConnection\n(HttpConnectionHandler.java:210)\nat org.apache.tomcat.service.TcpWorkerThread.runIt(PoolTcpEndpoint.java:416)\nat org.apache.tomcat.util.ThreadPool$ControlRunnable.run(ThreadPool.java:498)\nat java.lang.Thread.run(Thread.java:484)\n\nThanks for your help!"}, {"count": 1, "tags": [], "text": "This would probably be a concurrency problem. Marking as FIXED, since we haven't\nreceived reports about this problem with later versions of Tomcat.", "attachment_id": null, "id": 93442, "creator": "sriramnrn@gmail.com", "time": "2006-09-12T17:44:16Z", "bug_id": 9390, "creation_time": "2006-09-12T17:44:16Z", "is_private": false}]