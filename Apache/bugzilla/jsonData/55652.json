[{"attachment_id": null, "tags": [], "bug_id": 55652, "text": "If a custom JavaSampler is used and the class can not be found during JMeter startup, then JMeter silently resets the class name in the JavaSampler to the first (default) class. There's no idication in the GUI about the problem (except if you start looking at the class name drop down) and when you close the test plan, JMeter informs you the test plan has changed and that you should save it. If you save it, then the original class name information is no longer included in the test plan.\n\nI'm not sure what behavior is better, but silently overwriting the class name in the test with the default class name doesn't seem right. Perhaps a warning popup if the class name from the test plan can not be found, keeping the name and either skip the problematic samplers or somehow disable execution of the plan?", "count": 0, "id": 170599, "time": "2013-10-13T15:59:18Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2013-10-13T15:59:18Z", "is_private": false}, {"count": 1, "tags": [], "text": "I think the problem happens in JavaConfigGui:\n\n223     public void configure(TestElement config) {\n224         super.configure(config);\n225\n226         argsPanel.configure((Arguments) config.getProperty(JavaSampler.ARGUMENTS).getObjectValue());\n227\n228         classnameCombo.setSelectedItem(config.getPropertyAsString(JavaSampler.CLASSNAME));\n229     }\n\nSince the combo box is not editable, the setSelectedItem() call for a claqss name that wasn't found during load will not change the selected value which by default simply is the first enty in the values list of the combo box.", "attachment_id": null, "id": 170600, "creator": "rainer.jung@kippdata.de", "time": "2013-10-13T16:03:02Z", "bug_id": 55652, "creation_time": "2013-10-13T16:03:02Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 55652, "attachment_id": null, "id": 170611, "time": "2013-10-14T21:51:01Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2013-10-14T21:51:01Z", "is_private": false, "text": "Date: Mon Oct 14 21:50:26 2013\nNew Revision: 1532114\n\nURL: http://svn.apache.org/r1532114\nLog:\nBug 55652 - JavaSampler silently resets classname if class can not be found\nAdd as a minimum an error log\nBugzilla Id: 55652\n\nModified:\n    jmeter/trunk/src/protocol/java/org/apache/jmeter/protocol/java/config/gui/JavaConfigGui.java"}, {"count": 3, "tags": [], "bug_id": 55652, "text": "We could also add an empty item in combo and default to it when not found", "id": 170612, "time": "2013-10-14T21:51:34Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2013-10-14T21:51:34Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "(In reply to Philippe Mouawad from comment #3)\n> We could also add an empty item in combo and default to it when not found\n\nI think it would be better to show the desired classname, even if it is not present. Otherwise testplans will potentially be changed if they are run from an environment where the class is missing. However this might be tricky to implement whilst still allowing selection of available classes.\n\nIdeally if the class name is specified in the test plan, it should be shown in the drop-down regardless of whether it exists or not. Maybe the entry could be shown in a different colour if it is missing? The rest of the drop-down would be populated as normal. We'll have to see how that affects behaviour if the selection is changed as this will depend on when the stored value is updated.\n\nIf it proves too difficult to implement without being confusing, I agree that using an empty item - or possibly a special 'Missing' item? - would be better than changing to another class name.", "attachment_id": null, "id": 170618, "creator": "sebb@apache.org", "time": "2013-10-15T14:22:13Z", "bug_id": 55652, "creation_time": "2013-10-15T14:22:13Z", "is_private": false}, {"count": 5, "tags": [], "text": "Author: pmouawad\nDate: Tue Jan 24 22:18:10 2017\nNew Revision: 1780121\n\nURL: http://svn.apache.org/viewvc?rev=1780121&view=rev\nLog:\nBug 55652 - JavaSampler silently resets classname if class can not be found\nBugzilla Id: 55652\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages.properties\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages_fr.properties\n    jmeter/trunk/src/protocol/java/org/apache/jmeter/protocol/java/config/gui/JavaConfigGui.java\n    jmeter/trunk/xdocs/changes.xml", "attachment_id": null, "id": 196381, "creator": "p.mouawad@ubik-ingenierie.com", "time": "2017-01-24T22:18:30Z", "bug_id": 55652, "creation_time": "2017-01-24T22:18:30Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 55652, "attachment_id": null, "id": 196724, "time": "2017-02-04T20:32:37Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-02-04T20:32:37Z", "is_private": false, "text": "Reopening due to regression:\nWhen Element is added parameters are not set"}, {"count": 7, "tags": [], "bug_id": 55652, "attachment_id": null, "id": 196827, "time": "2017-02-07T21:39:59Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-02-07T21:39:59Z", "is_private": false, "text": "Author: pmouawad\nDate: Tue Feb  7 21:33:49 2017\nNew Revision: 1782083\n\nURL: http://svn.apache.org/viewvc?rev=1782083&view=rev\nLog:\nBug 55652 - JavaSampler silently resets classname if class can not be found\nFix regression: When Element is added parameters are not set and improve warning\nBugzilla Id: 55652\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages.properties\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages_fr.properties\n    jmeter/trunk/src/protocol/java/org/apache/jmeter/protocol/java/config/gui/JavaConfigGui.java"}]