[{"count": 0, "tags": [], "bug_id": 39073, "attachment_id": null, "text": "Overview Description:\n\nWhen a new session is created, jsp:useBean of scope=\"session\" throws \njava.lang.IllegalStateException\n\nSteps to Reproduce:\n\nThe sample.jsp can be used to reproduce the error.\n\n<!-- sample.jsp -->\n\n<%@ page session =\"true\" language=\"java\" %>\n\n<%\n// step 1 : old session is closed\n   session.invalidate();\n\n// step 2 : A new session is created\n   session = request.getSession(true);\n\n// Step 3: create a jsp bean of scope =\" session\" \n// exception occurs here \n%>\n\n<jsp:useBean id=\"test\" scope=\"session\" class=\"java.util.Date\"/>\n\n<!-- sample.jsp -->\n\nActual Results:\n\njava.lang.IllegalStateException: getAttribute: Session already invalidated\n\torg.apache.catalina.session.StandardSession.getAttribute\n(StandardSession.java:993)\n\nExpected Results:\n\nThe java bean with session scope has to be created.\n\nPlatform:\n\nThis bug can be reproduced in \nBuild 5.0.28 on windows XP\n\nAdditional Builds and Platforms:\n\nBuild 5.0.28 on windows HP-UX\nBuild 5.5.9 on Windows XP", "id": 87135, "time": "2006-03-23T08:47:02Z", "creator": "thulasir@essilor.com.sg", "creation_time": "2006-03-23T08:47:02Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 39073, "is_private": false, "count": 1, "id": 87187, "time": "2006-03-23T23:40:39Z", "creator": "william.barker@wilshire.com", "creation_time": "2006-03-23T23:40:39Z", "text": "Section 12.2.2.1 of the JSP spec is clear that SESSION_SCOPE can't be used \nafter the session has been invalidated.  Since the spec also doesn't provide a \nmechanism to allow the PageContext to join a new session, there is no reason \nto think that your example should work.\n\n"}]