[{"count": 0, "tags": [], "creator": "richard.landers@ct.gov", "attachment_id": null, "id": 105725, "time": "2007-07-17T09:01:57Z", "bug_id": 42921, "creation_time": "2007-07-17T09:01:57Z", "is_private": false, "text": "DBReceiverJob queries LOGGING_EVENT_PROPERTIES and LOGGING_EVENT_EXCEPTION with\nEVENT_ID expressed as a string (in single quotes).  On DB2, at least, this\nresults in SQL Errors whenever a LOGGING_EVENT has associated properties or\nexceptions.\n\nThis bug manifests itself in Chainsaw when the DBRecieverJob only retrieves a\nportion of the LOGGING_EVENTS available in the database.  As soon as a\nLOGGING_EVENT has an associated property or exception, the loop iterating over\nLOGGING_EVENTS exits because of an SQLException.\n\nThe solution is to remove the single-quotes from the EVENT_ID arguments of the\nSQL queries on lines 164 and 197 of DBReceiverJob.java."}, {"count": 1, "tags": [], "bug_id": 42921, "is_private": false, "text": "I don't see single quotes around event_id in DBReceiverJob on the trunk - could\nyou try and let us know?\n\nHere are the event, exception & property query strings on trunk:\n\n  String sqlException = \"SELECT trace_line FROM logging_event_exception where\nevent_id=? ORDER by i ASC\";\n\n  String sqlProperties = \"SELECT mapped_key, mapped_value FROM\nlogging_event_property WHERE event_id=?\";\n\n  String sqlSelect = \n    \"SELECT \" +\n    \"sequence_number, timestamp, rendered_message, logger_name, \" +\n    \"level_string, ndc, thread_name, reference_flag, \" +\n    \"caller_filename, caller_class, caller_method, caller_line, \" +\n    \"event_id \" +\n    \"FROM logging_event \" +\n    \"WHERE event_id > ?  ORDER BY event_id ASC\";\n\n\n", "id": 106574, "time": "2007-08-09T23:10:01Z", "creator": "sdeboy@iname.com", "creation_time": "2007-08-09T23:10:01Z", "attachment_id": null}]