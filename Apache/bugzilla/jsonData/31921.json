[{"count": 0, "tags": [], "text": "In 2004/10/26 Nightly build (and in 2.0.1) when using the new HttpSampler2 with\nan HttpHeaderManager the request fails with:\n\nERROR - jmeter.threads.JMeterThread:  java.lang.ClassCastException:\norg.apache.jmeter.protocol.http.control.Header\nat\norg.apache.jmeter.protocol.http.sampler.HTTPSampler2.setConnectionHeaders(HTTPSampler2.java:373)\nat\norg.apache.jmeter.protocol.http.sampler.HTTPSampler2.setupConnection(HTTPSampler2.java:255)\nat\norg.apache.jmeter.protocol.http.sampler.HTTPSampler2.sample(HTTPSampler2.java:469)\nat\norg.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:582)\nat\norg.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:569)\nat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:260)\nat java.lang.Thread.run(Unknown Source)\n\nIn setConnectionHeaders the sampler2 cast the headers from the headerManager in\norg.apache.commons.httpclient.Header\nBut the HeaderManager Headers are: org.apache.jmeter.protocol.http.control.Header\n\nUsing  org.apache.jmeter.protocol.http.control.Header in HttpSampler2 works for us.", "is_private": false, "bug_id": 31921, "id": 65846, "time": "2004-10-27T17:02:00Z", "creator": "ben.derouet@laposte.net", "creation_time": "2004-10-27T17:02:00Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Thanks for the report.\n\nThe module needs to refer to two different Header classes, and it was using the\nwrong one for the cast, as you discovered.\n\nI've removed the import so now both Headers use fully qualified names.\n[Currently fixed in 2.0 branch; it will find it's way into a 2.0 nightly shortly]", "is_private": false, "bug_id": 31921, "id": 65865, "time": "2004-10-27T23:10:23Z", "creator": "sebb@apache.org", "creation_time": "2004-10-27T23:10:23Z", "attachment_id": null}]