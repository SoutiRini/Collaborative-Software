[{"count": 0, "tags": [], "bug_id": 22761, "text": "XSLTInputHandler has three constructors, but only one of them (XSLTInputHandler\n(File, File)  works properly. A Driver which tries to render anything using an \nXSLTInputHandler created with the constructor that takes two InputStreams or the \nconstructor that takes the URLs will crash.\n\nThis is because of two bugs in the TraxInputHandler: both getInputSource() and \ngetParser() assume that the object was created by using the (File, File) constructor.\n\nHere are my suggestions how to fix these bugs (TraxInputHandler.java) :\n\n    public InputSource getInputSource()\n    {\n        return (this.xmlSource == null) ? InputHandler.fileInputSource(xmlfile) : xmlSource;\n    }\n\n    public XMLReader getParser()\n        throws FOPException\n    {\n        // xsltSource member variable should be added and propertly initialised by the two \nconstructors\n        return getXMLFilter(xmlfile, (xsltSource == null) ? new StreamSource(xsltfile), \nxsltSource);\n    }\n\n    public static XMLFilter getXMLFilter(File xmlfile, StreamSource source)\n        throws FOPException\n    {\n      ....\n      XMLFilter xmlfilter = saxTFactory.newXMLFilter(source);\n      ....\n    }\n\n\nHope this report will be useful... \n\ncheers,\nSlava", "id": 43386, "time": "2003-08-27T15:30:58Z", "creator": "Rostislav.Titov@cern.ch", "creation_time": "2003-08-27T15:30:58Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "glenmazza@yahoo.com", "attachment_id": null, "id": 43389, "time": "2003-08-27T15:52:00Z", "bug_id": 22761, "creation_time": "2003-08-27T15:52:00Z", "is_private": false, "text": "TraxInputHandler was removed from the 1.0 version, and XSLTInputHandler has \nbeen reimplemented as the former TraxInputHandler.  We're encouraging the use \nof JAXP for embedded XML->XSL FO translation; all examples on our Embedded page \nnow employ it.  (Also, the 1.0 version was recoded to ensure XMLSource and \nXSLTSource are populated, whatever the constructor.)\n\n\n\n"}, {"count": 2, "tags": [], "creator": "azeeshan@hotmail.com", "text": "My understanding of the problem is as follows.\nBasically, when constructor of TraxInputHandler class calls the private method \ninitTransformer(), a new transformer is created (with the given xslt source) \nand as soon the transformer is created the private class variable xsltSource is \nclosed. Then when getParser() public method is called on this instance, it \ncalls the private method getXMLFilter(), now exception is thrown as soon as it \ntries to to create the XMLFilter, Reason being that the source is closed.\n\nFollowing is my suggestion for temporary fix.\nIn initTransformer() method of the TraxInputHandler create the transformer \nwithout the source. i.e.\ntransformer = TransformerFactory.newInstance().newTransformer ();\nThis was my personal fix and might not fit to the design goals of FOP if it \ncompromise on performance etc.\n\nAzhar Zeeshan", "id": 60973, "time": "2004-07-22T15:59:34Z", "bug_id": 22761, "creation_time": "2004-07-22T15:59:34Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 22761, "text": "batch transition to closed remaining pre-FOP1.0 resolved bugs", "id": 156821, "time": "2012-04-01T13:53:24Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T13:53:24Z", "tags": [], "is_private": false}]