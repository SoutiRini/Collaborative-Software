[{"count": 0, "tags": [], "bug_id": 29836, "text": "Platform: IBM mainframe zSeries\nOS: z/OS 1.4\nTomcat Version 4.1.30, 5.0.25\nURLEncoder uses EBCDIC (the platform encoding) to translate the characters. The\nresult is\nhttp://127.0.0.1/admin/users/listRoles.do?databaseName=Users%7Atype%7EUserDatabase%6Bdatabase%7EUserDatabase&forward=Roles+List+Setup\ninstead of\nhttp://127.0.0.1/admin/users/listRoles.do?databaseName=Users%3Atype%3DUserDatabase%2Cdatabase%3DUserDatabase&forward=Roles+List+Setup\n\nBill Barker sended me the following email regarding this problem:\nLooking at the admin webapp, is seems that it is using java.net.URLEncoder\ninstead of o.a.c.u.URLEncoder.  The javadocs for the java.net class say that it\nhas exactly the problem that you are describing (i.e. it uses the platform\nencoding).  \n \nThe fix is to either use java.net.URLEncoder.encode(..., \"utf8\") (with the\ndownside that the admin webapp can't be used with a 1.3 JVM), or to use\no.a.c.u.URLEncoder as a Bean (since the encode method isn't static).  In either\ncase, I guess you get to open a new bug report for this :).", "id": 59980, "time": "2004-06-28T10:02:59Z", "creator": "Dirk.Schwartzkopff@gmx.de", "creation_time": "2004-06-28T10:02:59Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "yoavs@computer.org", "text": "The Admin webapp uses URLEncoder.encode in many many places ;(  It's not a one-\nline switch.  And for now we must stay compatible with JDK 1.3, so we should \nuse o.a.c.u.URLEncoder as a bean.", "id": 61258, "time": "2004-07-28T17:01:47Z", "bug_id": 29836, "creation_time": "2004-07-28T17:01:47Z", "tags": [], "is_private": false}, {"count": 2, "attachment_id": null, "creator": "yoavs@computer.org", "text": "Same issue, the encoding of the admin webapp.  It needs to be i18n'ed \nproperly.  URLEncoder is all over the place.  Tomcat 5.5 will address this in \nthe new persistence mechanism.\n\n*** This bug has been marked as a duplicate of 29091 ***", "id": 61381, "time": "2004-07-30T14:35:59Z", "bug_id": 29836, "creation_time": "2004-07-30T14:35:59Z", "tags": [], "is_private": false}]