[{"count": 0, "tags": [], "creator": "wtrqbbxl@grr.la", "attachment_id": null, "text": ".htaccess in root directory:\n\nRewriteEngine On\nRewriteBase /\nRewriteRule ^Admin$ admin.php [L]\nRewriteRule (.*) index.php?file=$1 [QSA,L]\n\nFor testing purposes, index.php echoes the value of the 'file' param.\n\nIf I try to access mydomain.tld/Admin now, I'm being redirected to\nmydomain.tld/Admin/?file=Admin (and the output of index.php is \"Admin\").\n\nI replaced the third line with the following:\nRewriteRule ^foo\\.php$ admin.php [L]\n\nFor some reason, Apache ignored the \"[L]\" and continued with the second\nRewriteRule. The output of index.php was \"admin.php\".\n\nIt finally worked when I tried the following:\nRewriteRule ^admin\\.php$ admin.php [L]", "id": 104670, "time": "2007-06-24T13:59:44Z", "bug_id": 42731, "creation_time": "2007-06-24T13:59:44Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 42731, "attachment_id": null, "id": 104697, "time": "2007-06-25T11:55:19Z", "creator": "basant.kukreja@sun.com", "creation_time": "2007-06-25T11:55:19Z", "is_private": false, "text": "I think the problem you are facing is that you are using [L] flag in first\nrewrite rule and use (.*) in second rewrite rule. The result is that if first\none ends the new request will follow second automatically after redirect and\nyou may conclude that first [L] didn't work.\n\ne.g\n/Admin -> After first rewrite -> /admin.php (request will end here).\n\nNew URI after redirect /admin.php\nFirst rewriterule -> fails and continues.\nSecond rewriterule -> Succeed and you get /index.php?file=admin.php\n\nHere is  my experimentation :\n\n    RewriteEngine On\n    RewriteBase /\n    RewriteRule ^Admin$ admin.php [L]\n    RewriteRule (.*) cgi-bin/index.php?file=$1 [QSA,L]\n\nURI : /Admin\nFirst pass : /admin.php\n\nNew URI after redirect : /admin.php\nAfter rewrite rule : /cgi-bin/index.php?file=admin.php\nprints admin.php\n\n\n\nUse the\nRewriteLog rewrite.log\nRewriteLogLevel 3\nto monitor what is happening.\n"}, {"count": 2, "tags": [], "creator": "wtrqbbxl@grr.la", "attachment_id": null, "id": 104709, "time": "2007-06-25T22:38:37Z", "bug_id": 42731, "creation_time": "2007-06-25T22:38:37Z", "is_private": false, "text": "(In reply to comment #1)\n\nThe problem is that I don't have access to the httpd.conf, so I can't use\nRewriteLog. One more question: why did\n\nRewriteRule ^admin\\.php$ admin.php [L]\n\nwork then? Isn't that just the same thing?"}, {"count": 3, "tags": [], "bug_id": 42731, "attachment_id": null, "is_private": false, "id": 104735, "time": "2007-06-26T14:13:00Z", "creator": "basant.kukreja@sun.com", "creation_time": "2007-06-26T14:13:00Z", "text": "Can you post exact 4 lines of rewrite rule in 2 cases, one which didn't work and\none which worked? Also please post the uri which you tried? I was confused by\nyour description which rewrite rule you changed."}, {"count": 4, "tags": [], "bug_id": 42731, "attachment_id": null, "text": "(In reply to comment #3)\n> Can you post exact 4 lines of rewrite rule in 2 cases, one which didn't work and\n> one which worked? Also please post the uri which you tried? I was confused by\n> your description which rewrite rule you changed.\nSorry, I was a bit tired when I wrote the first post.\n\n1st case:\n\nRewriteEngine On\nRewriteBase /\nRewriteRule ^Admin$ admin.php [L]\nRewriteRule (.*) index.php?file=$1 [QSA,L]\n\nURI: http://mydomain.tld/Admin\n\nResult: Redirect to http://mydomain.tld/Admin/?file=Admin (which makes\nabsolutely no sense to me)\n\n\n2nd case:\n\nRewriteEngine On\nRewriteBase /\nRewriteRule ^foo\\.php$ admin.php [L]\nRewriteRule (.*) index.php?file=$1 [QSA,L]\n\nURI: http://mydomain.tld/foo.php\n\nResult: [L] was ignored (as far as I know it should prevent the following rules\nfrom being applied, shouldn't it?); output of index.php: \"admin.php\"\n\n\n3rd case:\n\nRewriteEngine On\nRewriteBase /\nRewriteRule ^admin\\.php$ admin.php [L]\nRewriteRule (.*) index.php?file=$1 [QSA,L]\n\nURI: http://mydomain.tld/admin.php\n\nResult: Worked as expected, I saw the output of admin.php\n\n(mydomain.tld stands for my .de-Domain)", "id": 104796, "time": "2007-06-27T22:31:24Z", "creator": "wtrqbbxl@grr.la", "creation_time": "2007-06-27T22:31:24Z", "is_private": false}, {"count": 5, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "id": 104817, "time": "2007-06-28T06:16:39Z", "bug_id": 42731, "creation_time": "2007-06-28T06:16:39Z", "is_private": false, "text": "Is your first case actually a result of mod_dir sendign a 302 to add trailing\nslash? That'd make your first rule not match.\n\nThis would probably be clear in the RewriteLog."}, {"count": 6, "tags": [], "text": "There is no point in flailing around in the darkness when mod_rewrite has a tool\ndesigned for debugging this type of problem: the RewriteLog.\n\nIf you don't have access to httpd.conf, setup a test server where you do and\nreplicate the problem there.", "attachment_id": null, "id": 104831, "creator": "slive@apache.org", "time": "2007-06-28T06:52:42Z", "bug_id": 42731, "creation_time": "2007-06-28T06:52:42Z", "is_private": false}]