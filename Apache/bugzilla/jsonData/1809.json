[{"count": 0, "tags": [], "bug_id": 1809, "is_private": false, "id": 2530, "attachment_id": null, "creator": "hans@mega-schmid.de", "creation_time": "2001-05-18T07:56:45Z", "time": "2001-05-18T07:56:45Z", "text": "Hello,\n\nI just installed Tomcat3.3-m3 with ajpv13 behind Apache 1.3.19 on Win2000.\n\nWhile setting up mod_jk with ajp1.3, I noticed a bug in the mod_jk-howto.html\nIt states:\n\n\nAdd the following block to your TOMCAT_HOME/conf/server.xml file. \n\n<Connector className=\"org.apache.tomcat.service.PoolTcpConnector\">\n  <Parameter name=\"handler\" \nvalue=\"org.apache.tomcat.service.connector.Ajp13ConnectionHandler\"/>\n  <Parameter name=\"port\" value=\"8009\"/>\n</Connector>\n\n\nbut this is the way Tomcat 3.2.2 has to be setup.\n\nIn TC 3.3 the entry should be:\n\n<RequestInterceptor\nclassName=\"org.apache.tomcat.modules.server.Ajp13Interceptor\"\n port=\"8009\" />\n\n\nand its enabled by default.\n\nAnyway, I have attatched diffs against /src/doc/mod_jk-howto.html. This is the \nnew paragraph:\n\n--------------------------------------------------------------------------------\n---------------------------\n(Optional) Configuring Tomcat to use the Ajpv13 protocol\nmod_jk can use either the original Ajpv12 protocol or the newer Ajpv13 \nprotocol. If you choose the latter, you need to activate the \"Ajp13\" Connection \nHandler in Tomcat. This will give you the benefit of a faster protocol and the \nability to identify requests made via HTTPS.\n\nAdd the following block to your TOMCAT_HOME/conf/server.xml file. \n<Connector className=\"org.apache.tomcat.service.PoolTcpConnector\">\n  <Parameter name=\"handler\" \nvalue=\"org.apache.tomcat.service.connector.Ajp13ConnectionHandler\"/>\n  <Parameter name=\"port\" value=\"8009\"/>\n</Connector>\n\nThe server.xml file already has a block similar to this for Ajp12 connections \non port 8007 (as delivered by mod_jserv). Even if you think you're only using \nAjp13, you probably don't want to delete this connector -- it's required to \nshut down Tomcat.\n--------------------------------------------------------------------------------\n---------------------------\n\nThere is a mod_jk-howto.html in proposals as well. I don't know, if this \npatch should be applied to this one as well.\n\nI hope this helps a little bit since there seems to be so much confusion in the \nuser-list about setting up mod_jk.\n\nBest regards,\n\nHans"}, {"count": 1, "tags": [], "bug_id": 1809, "text": "Created attachment 167\n[PATCH] Tomcat 3.3 m3  mod_jk-howto.html", "id": 2531, "attachment_id": 167, "creator": "hans@mega-schmid.de", "creation_time": "2001-05-18T07:59:17Z", "time": "2001-05-18T07:59:17Z", "is_private": false}]