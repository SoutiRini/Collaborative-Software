[{"count": 0, "tags": [], "bug_id": 21117, "is_private": false, "text": "I'm attempting to upgrade Apache_1.3.9 running on an IBM 7025-f40 with O/S AIX \n4.3.3.  I've downloaded the Apache_1.3.27 code from a mirror site: \nwww.theonlinerecordstore.com twice.  The first time I used the AIX 'make' to \nbuild the Apache package.  The second time I used the GNU 'make'.  Each time I \ngot similar results.  Each time I first tried the following command to \nconfigure the source tree: \"./configure --prefix=/usr/local/apache --server-\nuid=webuser --server-gid=httpdgrp\".  Then the build and install would execute \nwell.  After this each time the server would fail to start because it could not \nload the .so modules from the httpd.conf file (duh! :) I realize this may \nexpose me as quite the novice but I include it for completeness.  Then after \nthe second time only, with the GNU make (not the first time with the AIX make), \nI used the 'make clean' command and deleted the install directory and untarred \nthe download again.  Each time I then configured the source tree with the \nfollowing command:  \"./configure --prefix=/usr/local/apache --enable-\nmodule=most --enable-shared=max --server-uid=webuser --server-gid=httpdgrp\".  \nEach time the error then occurred on the next attempt to build the Apache \npackage with the 'make' command.\n\n*** With AIX make:     ******************************************************\n        gcc -c  -I../../os/unix -I../../include   -DAIX=43 -\nDUSE_PTHREAD_SERIALIZED_ACCEPT -U__\nSTR__ -DAIX_BIND_PROCESSOR -DUSE_HSREGEX -DUSE_EXPAT -I../../lib/expat-lite \n`../../apaci` -fpic\n -DSHARED_MODULE mod_negotiation.c && mv mod_negotiation.o mod_negotiation.lo\n        ld -H512 -T512 -bhalt:4 -bM:SRE -bnoentry -bI:../../support/httpd.exp  -\nbE:`echo mod_ne\ngotiation.so|sed -e 's:\\.so$:.exp:'` -lc -o mod_negotiation.so \nmod_negotiation.lo\nld: 0711-317 ERROR: Undefined symbol: .__fixsfsi\nld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more information.\nmake: 1254-004 The error code from the last command is 8.\n\n\nStop.\nmake: 1254-004 The error code from the last command is 1.\n\n\nStop.\nmake: 1254-004 The error code from the last command is 1.\n\n\nStop.\nmake: 1254-004 The error code from the last command is 2.\n\n\nStop.\nmake: 1254-004 The error code from the last command is 2.\n\n\nStop.\n\n*** With GNU make:     ******************************************************\n\ngcc -c  -I../../os/unix -I../../include   -DAIX=43 -\nDUSE_PTHREAD_SERIALIZED_ACCEPT -U__STR__ -D\nAIX_BIND_PROCESSOR -DUSE_HSREGEX -DUSE_EXPAT -I../../lib/expat-lite \n`../../apaci` -fpic -DSHARE\nD_MODULE mod_negotiation.c && mv mod_negotiation.o mod_negotiation.lo\nld -H512 -T512 -bhalt:4 -bM:SRE -bnoentry -bI:../../support/httpd.exp  -\nbE:`echo mod_negotiatio\nn.so|sed -e 's:\\.so$:.exp:'` -lc -o mod_negotiation.so mod_negotiation.lo\nld: 0711-317 ERROR: Undefined symbol: .__fixsfsi\nld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more information.\nmake[4]: *** [mod_negotiation.so] Error 8\nmake[3]: *** [all] Error 1\nmake[2]: *** [subdirs] Error 1\nmake[2]: Leaving directory `/usr/local/apache_1.3.27/src'\nmake[1]: *** [build-std] Error 2\nmake[1]: Leaving directory `/usr/local/apache_1.3.27'\nmake: *** [build] Error 2\n\nAfter the first time I removed the install directory, downloaded from the same \nmirror site and uncompressed and untarred the install files again.\n\nAfter each time I restored the Apache_1.3.9 installation from backup and \nstarted the Agencies website successfully.", "id": 39493, "time": "2003-06-26T15:58:22Z", "creator": "Elliott.Waldrop@tdcj.state.tx.us", "creation_time": "2003-06-26T15:58:22Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 21117, "attachment_id": null, "id": 39507, "time": "2003-06-26T18:43:33Z", "creator": "trawick@apache.org", "creation_time": "2003-06-26T18:43:33Z", "is_private": false, "text": "The unresolved references to __fixsfsi and other such symbols from Apache DSOs\nare  due to the code generated by gcc for certain arithmetic operations and are\nnot due to Apache calling them explicitly.\n\nThere are some user work-arounds for this issue at\nhttp://www.apache.org/~trawick/apache13aix.html.  Don't hesitate to contact me\ndirectly if the instructions are not clear enough.\n\nOne, a manual edit of httpd.exp, works with any Apache 1.3 on AIX.  The other,\nwhich is cleaner because it simply sets some environment variables to get\nlibgcc.a included, is not available until Apache 1.3.28 is released.\n"}]