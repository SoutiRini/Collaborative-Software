[{"count": 0, "tags": [], "bug_id": 14604, "text": "Compiled Apache using Prefork, Worker and threadpool to test this on various \nimplementations of the thread schemes, and all three had the same problem.  \nWriting to the log file becomes blocking somewhere in the code, and all the \nprocesses were sleeping on the Write command to the log file descriptor if the \nweb server was hit with heavy load.  Apache 1.3.7 seems to work fine with this \nscheme, though notably, has the other piped logfile issue.  (Search for \"Pipe \nLog\")\n\nI'm still investigating whether this was the logging process that was blocking, \nbut considering the program works fine with apache 1.3.7, I think this maybe a \nthreading issue.  Reguardless, if the process is actually stopping input, \nApache should start discarding log file lines after a preset amount of time \nanyway to prevent degredation of the server.\n\nThe fix of course?  Use flat log files instead of logging to a process.", "id": 26400, "time": "2002-11-15T18:39:02Z", "creator": "chales@california.com", "creation_time": "2002-11-15T18:39:02Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 14604, "attachment_id": null, "is_private": false, "id": 26401, "time": "2002-11-15T19:50:13Z", "creator": "chales@california.com", "creation_time": "2002-11-15T19:50:13Z", "text": "The cronolog process was blocking for whatever reason under Apache 2.0.43, but \nnot under 1.3.7\n\nChanging the status of this bug to an Enhancement Request.  If a log file \nprocess blocks for an extrodinary period of time, Apache should try to report \nthis, perhaps via syslog or some other mechanism."}, {"count": 2, "tags": [], "text": "If you want this considered as an enhancement request, you shouldn't leave\nit as RESOLVED; you should reopen it.\n\nMy personal opinion is that trying to log problems with logfiles is pointless.\nSend it to syslog?  What if syslog doesn't work?  Grab a hammer and\nhit the admin over the head?\n\nJoshua.", "is_private": false, "id": 26406, "creation_time": "2002-11-15T20:47:30Z", "time": "2002-11-15T20:47:30Z", "creator": "slive@apache.org", "bug_id": 14604, "attachment_id": null}, {"count": 3, "text": "  In this case, I would have appreciated a whack upon the head to tell me my \nlog processor was broken.  Point taken, bug left open as an enhancement request.", "bug_id": 14604, "is_private": false, "id": 26412, "time": "2002-11-16T04:27:35Z", "creator": "chales@california.com", "creation_time": "2002-11-16T04:27:35Z", "tags": [], "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 14604, "text": "Are you using Cronolog? Cronolog is not compatible with Apache 2.", "id": 26443, "time": "2002-11-17T18:13:49Z", "creator": "info@orangexl.com", "creation_time": "2002-11-17T18:13:49Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "ianh@apache.org", "is_private": false, "text": "Um.. sorry to disappoint  \n\nbut we use cronolog quite happily on apache2 \nand have been for the last 6-8 months.\nMy guess is that the process which is reading the other end of the pipe isn't\nreading it fast enough, or has failed.\nif you are using cronolog make sure it is actually running (via ps)\n\nCheers\nIan", "id": 26446, "time": "2002-11-17T21:07:42Z", "bug_id": 14604, "creation_time": "2002-11-17T21:07:42Z", "attachment_id": null}, {"count": 6, "text": "  Yes, it was CronoLog, yes, it was still running, and yes it DOES work with \nApache 2, but you need a newer version of Cronolog to get it to work.", "bug_id": 14604, "is_private": false, "id": 26500, "time": "2002-11-18T18:16:06Z", "creator": "chales@california.com", "creation_time": "2002-11-18T18:16:06Z", "tags": [], "attachment_id": null}, {"count": 7, "tags": [], "creator": "ianh@apache.org", "attachment_id": null, "is_private": false, "id": 26501, "time": "2002-11-18T18:24:48Z", "bug_id": 14604, "creation_time": "2002-11-18T18:24:48Z", "text": "ok.. seems like the problem is resolved.. marking the bug as fixed\nFWIW.. we use cronolog 1.6.2"}, {"count": 8, "tags": [], "bug_id": 14604, "text": "According to the Cronolog website, Apache2 support is still on the to-do list! \nI've used Cronolog 1.6.2 with Apache 2 for quite a while, but with too many \nproblems. Back using rotatelogs.", "id": 26707, "time": "2002-11-21T15:49:22Z", "creator": "info@orangexl.com", "creation_time": "2002-11-21T15:49:22Z", "is_private": false, "attachment_id": null}]