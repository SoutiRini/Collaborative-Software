[{"count": 0, "attachment_id": null, "bug_id": 54713, "is_private": false, "id": 165905, "time": "2013-03-17T18:23:19Z", "creator": "nicholas@nicholaswilliams.net", "creation_time": "2013-03-17T18:23:19Z", "tags": [], "text": "With the below simple deployment descriptor, the init() method on my Servlet does not execute until the first request comes in for that Servlet:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<web-app xmlns=\"http://java.sun.com/xml/ns/javaee\"\n           xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n           xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee\n                               http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n           version=\"3.0\">\n\n    <display-name>Template Application</display-name>\n\n    <servlet>\n        <servlet-name>clusterNode1</servlet-name>\n        <servlet-class>com.wrox.ClusterNodeServlet</servlet-class>\n        <init-param>\n            <param-name>nodeId</param-name>\n            <param-value>1</param-value>\n        </init-param>\n        <load-on-startup>1</load-on-startup>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>clusterNode1</servlet-name>\n        <url-pattern>/clusterNode1</url-pattern>\n    </servlet-mapping>\n\n</web-app>\n\nLikewise, with the below annotation, the Servlet still does not get initialized until the first request comes in.\n\n@WebServlet(\n        name = \"clusterNode1\",\n        urlPatterns = \"/clusterNode1\",\n        loadOnStartup = 1\n)"}, {"count": 1, "tags": [], "bug_id": 54713, "attachment_id": null, "is_private": false, "id": 165906, "time": "2013-03-17T18:24:33Z", "creator": "nicholas@nicholaswilliams.net", "creation_time": "2013-03-17T18:24:33Z", "text": "Note that, less than two months ago, this was working fine."}, {"count": 2, "tags": [], "creator": "violetagg@apache.org", "attachment_id": null, "text": "Hi,\n\nCan you provide some small example?\nI prepared one by myself but I cannot see that behaviour.\nThe init() method is invoked in both cases with web app deployment descriptor and with annotation.\n\nRegards\nVioleta", "id": 165952, "time": "2013-03-18T10:54:21Z", "bug_id": 54713, "creation_time": "2013-03-18T10:54:21Z", "is_private": false}, {"count": 3, "attachment_id": 30064, "bug_id": 54713, "is_private": false, "id": 165953, "time": "2013-03-18T10:55:24Z", "creator": "violetagg@apache.org", "creation_time": "2013-03-18T10:55:24Z", "tags": [], "text": "Created attachment 30064\ntest application\n\nTomcat 8 build is the latest from the trunk."}, {"count": 4, "tags": [], "creator": "nicholas@nicholaswilliams.net", "attachment_id": null, "text": "There is no bug here. The init methods WERE getting called. They just weren't completing due to an exception (a different issue that may or may not be a bug) and were being re-run (and completing) on the first request.\n\nThanks and sorry for the needless report.", "id": 165966, "time": "2013-03-18T15:30:41Z", "bug_id": 54713, "creation_time": "2013-03-18T15:30:41Z", "is_private": false}]