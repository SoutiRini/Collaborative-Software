[{"count": 0, "tags": [], "creator": "promo718@gmail.com", "attachment_id": null, "is_private": false, "id": 197573, "time": "2017-03-09T15:35:41Z", "bug_id": 60842, "creation_time": "2017-03-09T15:35:41Z", "text": "jmeter 3.1 r1770033\njava version \"1.8.0_74\"\nJava(TM) SE Runtime Environment (build 1.8.0_74-b02)\nosx sierra 10.12.3\n\nWhen running a test jmeter doesn't strip newline when an html tag spans more than a single line. HTML looks like this:\n\n        <link rel=\"stylesheet\" href=\"/assets/build/css/app-1488292708\n.css\">\n\n^ newline precedes .css\n\nThe broken request:\n\n[09/Mar/2017:14:57:22 +0000] \"GET /assets/build/css/app-1489008734%0A.css HTTP/1.1\" 404 234 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:51.0) Gecko/20100101 Firefox/51.0\" \"-\""}, {"count": 1, "tags": [], "creator": "felix.schumacher@internetallee.de", "attachment_id": null, "is_private": false, "id": 197577, "time": "2017-03-09T20:32:36Z", "bug_id": 60842, "creation_time": "2017-03-09T20:32:36Z", "text": "I believe that the html page is broken.\n\nhtml and xml attribute values are allowed to include space characters.(https://www.w3.org/TR/REC-xml/#NT-AttValue and https://www.w3.org/TR/html51/syntax.html#attribute-value).\n\nLooking at https://www.w3.org/TR/1998/REC-xml-19980210#AVNormalize you could argue, that we should normalize the space(s) to one space. But I think you would not want that either.\n\nSo I tend to close this as \"won't fix\"."}, {"count": 2, "tags": [], "creator": "promo718@gmail.com", "attachment_id": null, "is_private": false, "id": 197578, "time": "2017-03-09T22:34:15Z", "bug_id": 60842, "creation_time": "2017-03-09T22:34:15Z", "text": "I can see your point, but will note that Chrome, Firefox, Safari, and IE don't subscribe to the same interpretation and correctly (or perhaps incorrectly) strip the newline and load the URI."}, {"count": 3, "tags": [], "creator": "felix.schumacher@internetallee.de", "attachment_id": null, "text": "You are correct. I checked with chrome and Firefox. The logic send to be:\n\nTrim whitespace before and after the links.\nRemove any newlines.\n\nI haven't checked for other whitespace like characters.", "id": 197579, "time": "2017-03-10T09:21:39Z", "bug_id": 60842, "creation_time": "2017-03-10T09:21:39Z", "is_private": false}, {"count": 4, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "is_private": false, "id": 197590, "time": "2017-03-10T19:48:19Z", "bug_id": 60842, "creation_time": "2017-03-10T19:48:19Z", "text": "(In reply to George Sakhnovsky from comment #0)\n> jmeter 3.1 r1770033\n> java version \"1.8.0_74\"\n> Java(TM) SE Runtime Environment (build 1.8.0_74-b02)\n> osx sierra 10.12.3\n> \n> When running a test jmeter doesn't strip newline when an html tag spans more\n> than a single line. HTML looks like this:\n> \n>         <link rel=\"stylesheet\" href=\"/assets/build/css/app-1488292708\n> .css\">\n> \n> ^ newline precedes .css\n> \n> The broken request:\n> \n> [09/Mar/2017:14:57:22 +0000] \"GET /assets/build/css/app-1489008734%0A.css\n> HTTP/1.1\" 404 234 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12;\n> rv:51.0) Gecko/20100101 Firefox/51.0\" \"-\"\n\nHow is this URL used ? Through an extractor or through resources download ?\nThanks"}, {"count": 5, "tags": [], "creator": "felix.schumacher@internetallee.de", "attachment_id": null, "is_private": false, "id": 197592, "time": "2017-03-10T20:23:33Z", "bug_id": 60842, "creation_time": "2017-03-10T20:23:33Z", "text": "Could you test with the next nightly, if the extracted links are correct now?\n\nDate: Fri Mar 10 20:12:49 2017\nNew Revision: 1786427\n\nURL: http://svn.apache.org/viewvc?rev=1786427&view=rev\nLog:\nTests for the Lagarto Html Parser in preparation for bug 60482\n\nBugzilla Id: 60482\n\nAdded:\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/parser/TestLagartoBasedHtmlParser.java   (with props)\n\nDate: Fri Mar 10 20:19:27 2017\nNew Revision: 1786434\n\nURL: http://svn.apache.org/viewvc?rev=1786434&view=rev\nLog:\nTrim extracted URLs and remove whitespace like newline, carriage return, formfeed and backspace.\n\nBugzilla Id: 60842\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/parser/LagartoBasedHtmlParser.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/parser/TestLagartoBasedHtmlParser.java\n\nDate: Fri Mar 10 20:21:59 2017\nNew Revision: 1786435\n\nURL: http://svn.apache.org/viewvc?rev=1786435&view=rev\nLog:\nMention bug in changelog.\n\nBugzilla Id: 60842\n\nModified:\n    jmeter/trunk/xdocs/changes.xml"}, {"count": 6, "tags": [], "bug_id": 60842, "attachment_id": null, "text": "Author: pmouawad\nDate: Fri Mar 10 22:18:55 2017\nNew Revision: 1786460\n\nURL: http://svn.apache.org/viewvc?rev=1786460&view=rev\nLog:\nBug 60842 - jmeter chokes on newline\nOptimize by using static Pattern\nFactor our code in base class\nUse code in JSoup based implementation\nAdd Junit tests for it\nBugzilla Id: 60842\n\nAdded:\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/parser/TestJSoupBasedHtmlParser.java   (with props)\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/parser/HTMLParser.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/parser/JsoupBasedHtmlParser.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/parser/LagartoBasedHtmlParser.java", "id": 197595, "time": "2017-03-10T22:19:09Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-03-10T22:19:09Z", "is_private": false}, {"count": 7, "tags": [], "creator": "felix.schumacher@internetallee.de", "attachment_id": null, "text": "Date: Sat Mar 11 09:15:49 2017\nNew Revision: 1786497\n\nURL: http://svn.apache.org/viewvc?rev=1786497&view=rev\nLog:\nCombine tests to reduce code duplication. Fix html-pseudo code for frame, so\nthat JSoup doesn't choke on it.\n\nBugzilla Id: 60842\n\nAdded:\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/parser/TestBug60842HtmlParser.java   (with props)\nRemoved:\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/parser/TestJSoupBasedHtmlParser.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/parser/TestLagartoBasedHtmlParser.java", "id": 197599, "time": "2017-03-11T09:16:50Z", "bug_id": 60842, "creation_time": "2017-03-11T09:16:50Z", "is_private": false}, {"count": 8, "tags": [], "creator": "felix.schumacher@internetallee.de", "attachment_id": null, "is_private": false, "id": 197600, "time": "2017-03-11T09:33:00Z", "bug_id": 60842, "creation_time": "2017-03-11T09:33:00Z", "text": "Date: Sat Mar 11 09:32:31 2017\nNew Revision: 1786498\n\nURL: http://svn.apache.org/viewvc?rev=1786498&view=rev\nLog:\nAdd return tag to javadoc\n\nBugzilla Id: 60842\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/parser/HTMLParser.java"}, {"count": 9, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "(In reply to Felix Schumacher from comment #8)\n> Date: Sat Mar 11 09:32:31 2017\n> New Revision: 1786498\n> \n> URL: http://svn.apache.org/viewvc?rev=1786498&view=rev\n> Log:\n> Add return tag to javadoc\n> \n> Bugzilla Id: 60842\n> \n> Modified:\n>    \n> jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/parser/\n> HTMLParser.java\n\nHi Felix,\nShouldn't this issue be marked as resolved ?\nThanks", "id": 198381, "time": "2017-04-19T20:15:57Z", "bug_id": 60842, "creation_time": "2017-04-19T20:15:57Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 60842, "is_private": false, "text": "(In reply to Philippe Mouawad from comment #9)\n> (In reply to Felix Schumacher from comment #8)\n> > Date: Sat Mar 11 09:32:31 2017\n> > New Revision: 1786498\n> > \n> > URL: http://svn.apache.org/viewvc?rev=1786498&view=rev\n> > Log:\n> > Add return tag to javadoc\n> > \n> > Bugzilla Id: 60842\n> > \n> > Modified:\n> >    \n> > jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/parser/\n> > HTMLParser.java\n> \n> Hi Felix,\n> Shouldn't this issue be marked as resolved ?\n\nI think so, as we released the fix and no one complained, yet :)\n\nI will probably open another bug for the case of url(...) parsing in style-attributes, when no quotes are used.\n\n> Thanks", "id": 198426, "time": "2017-04-20T18:41:46Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2017-04-20T18:41:46Z", "attachment_id": null}, {"count": 11, "tags": [], "bug_id": 60842, "is_private": false, "text": "Hi,\nIf we republish docs, then we should update changes.xml to include it.\nRegards", "id": 198427, "time": "2017-04-20T18:42:53Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-04-20T18:42:53Z", "attachment_id": null}]