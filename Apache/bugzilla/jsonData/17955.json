[{"count": 0, "tags": [], "creator": "henrik.olsson@intentia.se", "attachment_id": null, "text": "In FontInfo the method parseInt is used to figure out if weight is a number or \nnot, and if its not an exception is thrown. Its a bit nicer to look at the \nfirst char and then decide if it got a chance to be a number.\nAnd I belive that its far more common to specify the weight with 'normal' \nor 'bold' then a number, so there are some cpu-time to save...\n\nIndex: FontInfo.java\n===================================================================\nRCS file: /home/cvspublic/xml-\nfop/src/org/apache/fop/layout/Attic/FontInfo.java,v\nretrieving revision 1.12.2.4\ndiff -u -r1.12.2.4 FontInfo.java\n--- FontInfo.java\t25 Feb 2003 14:07:03 -0000\t1.12.2.4\n+++ FontInfo.java\t13 Mar 2003 13:21:40 -0000\n@@ -124,13 +124,16 @@\n      */\n     public static String createFontKey(String family, String style,\n                                        String weight) {\n-        int i;\n+\t\tint i = 0;\n \n-        try {\n-            i = Integer.parseInt(weight);\n-        } catch (NumberFormatException e) {\n-            i = 0;\n-        }\n+\t\tchar c = weight.charAt(0);\n+\t\tif (c >= '0' && c <= '9') {\n+\t\t\ttry {\n+\t\t\t\ti = Integer.parseInt(weight);\n+\t\t\t} catch (NumberFormatException e) {\n+\t\t\t\ti = 0;\n+\t\t\t}\n+\t\t}\n \n         if (i > 600)\n             weight = \"bold\";", "id": 33112, "time": "2003-03-13T13:37:03Z", "bug_id": 17955, "creation_time": "2003-03-13T13:37:03Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 17955, "text": "This code no longer bears resemblence to trunk.\n\nAdrian.", "id": 109834, "time": "2007-10-27T08:01:17Z", "creator": "dev@cumiskey.com", "creation_time": "2007-10-27T08:01:17Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "batch transition to closed remaining pre-FOP1.0 resolved bugs", "is_private": false, "id": 156893, "creator": "gadams@apache.org", "time": "2012-04-01T13:54:39Z", "bug_id": 17955, "creation_time": "2012-04-01T13:54:39Z", "attachment_id": null}]