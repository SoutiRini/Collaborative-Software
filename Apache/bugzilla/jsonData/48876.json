[{"count": 0, "tags": [], "bug_id": 48876, "text": "Created attachment 25110\nTest Case\n\nThere was a section of code removed from the ant.bat file in 1.8.0 that is having a negative effect on some of our build scripts and processing.\n\nThe section of code is:\n  set ANT_CMD_LINE_ARGS=%1\n  if \"\"%1\"\"==\"\"\"\" goto doneStart\n  shift\nand existed on line 62 of the bat file.\n\nThe failing scenario in Ant 1.8.0 is:\nWe have a top level build file that uses <exec> to call into a Windows batch file that in turn is using Ant.\nWe are noticing that the exec call and usage of ant in the lower level batch script is being passed any arguments given to the top level file and in turn failing with a message like:\n\nTarget \"exec\" does not exist in the project \"a\".\n\nWe have put together the attached test case to signify this behavior and have tested it through 1.6.x, 1.7.x and can confirm that this behavior is new to 1.8.0.\n\nThe test case uses a build.xml to exec a script file which in turn calls an ant.\nRunning the test case like:\nant exec\ncauses the error message Target \"exec\" does not exist in the project \"a\".", "id": 135186, "time": "2010-03-09T11:21:03Z", "creator": "rmulvaney@curamsoftware.com", "creation_time": "2010-03-09T11:21:03Z", "is_private": false, "attachment_id": 25110}, {"count": 1, "tags": [], "creator": "antoine@apache.org", "attachment_id": null, "is_private": false, "id": 135213, "time": "2010-03-09T20:38:34Z", "bug_id": 48876, "creation_time": "2010-03-09T20:38:34Z", "text": "I did the change which is provoking this issue.\n\nWould adding a line \n\nset ANT_CMD_LINE_ARGS=\n\nin line 62\n\nfix the problem ?\n\nRegards,\n\nAntoine"}, {"count": 2, "tags": [], "creator": "rmulvaney@curamsoftware.com", "attachment_id": null, "text": "Hi Antoine,\n\nThat would definitely satisfy our requirements for resolution and had been the way we had considered working around the issue - by passing this in our exec task as an env variable - until we figured it looked a bit too prevalent and must be a defect.", "id": 135219, "time": "2010-03-09T22:32:58Z", "bug_id": 48876, "creation_time": "2010-03-09T22:32:58Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 48876, "text": "fixed in revision 921184.", "id": 135221, "time": "2010-03-09T23:10:14Z", "creator": "antoine@apache.org", "creation_time": "2010-03-09T23:10:14Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "rmulvaney@curamsoftware.com", "attachment_id": null, "is_private": false, "id": 135228, "time": "2010-03-10T08:47:07Z", "bug_id": 48876, "creation_time": "2010-03-10T08:47:07Z", "text": "Very rude of me - I don't suppose you have a view on when 1.8.1 may be released at this point?"}, {"count": 5, "tags": [], "bug_id": 48876, "text": "I do not have a view yet of when Ant 1.8.1 can be released. The development team must first agree on what we want to achieve in the new release ... If you are subscribed to dev@ant.apache.org let's further this discussion there.", "id": 135255, "time": "2010-03-10T22:31:56Z", "creator": "antoine@apache.org", "creation_time": "2010-03-10T22:31:56Z", "is_private": false, "attachment_id": null}]