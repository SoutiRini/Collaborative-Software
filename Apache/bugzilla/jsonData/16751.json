[{"count": 0, "tags": [], "creator": "psrubi@ibit.org", "is_private": false, "text": "The fmt:setLocale value doesn't change for the scope. The value can only be\nfixed the first time, but subsequent invocations changing the value doesn't work\nfine.\nIf we have one Jsp that is used to fix the language of an aplication, if the\nlanguage is changed using fmt:setLocale whit scope=\"sessio\", the other JSP don't\ncatch this change when they use fmt:message.\nI'm using jboss-3.0.3_tomcat-4.1.12 ang I have changed the conf/web.xml\nenablePooling to false.\nIs the same problem that is described in\nhttp://www.mail-archive.com/taglibs-user@jakarta.apache.org/msg04074.html.\nThanks.", "id": 30622, "time": "2003-02-04T09:11:56Z", "bug_id": 16751, "creation_time": "2003-02-04T09:11:56Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 16751, "text": "Created attachment 4738\nExample <fmt> usage that doesn't work fine.", "id": 30718, "attachment_id": 4738, "creator": "psrubi@ibit.org", "creation_time": "2003-02-05T10:10:55Z", "time": "2003-02-05T10:10:55Z", "is_private": false}, {"count": 2, "tags": [], "creator": "psrubi@ibit.org", "is_private": false, "text": "The attachment is a war file that contains an example of <fmt> usage that\ndoesn't work fine. I attached with the name fmtexample.war. It can be deployed\nsimply copying the war file to the deploy directory. ", "id": 30720, "time": "2003-02-05T10:19:37Z", "bug_id": 16751, "creation_time": "2003-02-05T10:19:37Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "pierre.delisle@sun.com", "attachment_id": null, "id": 30766, "time": "2003-02-05T18:09:21Z", "bug_id": 16751, "creation_time": "2003-02-05T18:09:21Z", "is_private": false, "text": "The sample code provided fails to give the proper locale because\n<fmt:setLocale> is used erroneously.\n\nThe code in manager.jsp has the following:\n\n   <fmt:setLocale value=\"<%=lang%>\" scope=\"session\"/>\n\nThis should throw an exception at translation time because attributes\nin EL tag libraries have <rtexprvalue> set to false.\nThe string literal \"<%=lang%>\" is passed as is to the tag handler.\n\nYou can fix your sample code in the following ways and it will then\nwork fine.\n\nUse the RT tag library:\n   <%@ taglib uri=\"http://java.sun.com/jstl/fmt_rt\" prefix=\"fmt_rt\" %>\n   ...\n   <fmt_rt:setLocale value=\"<%=lang%>\" scope=\"session\"/>\n\nOr expose the scripting variable as a scoped variable and use the\nEL taglib:\n\n    request.setAttribute(\"lang\", lang);\n    ...\n    <fmt:setLocale value=\"${lang}\" scope=\"session\"/>"}, {"count": 4, "tags": [], "bug_id": 16751, "is_private": false, "text": "Thank you and sorry for my error.", "id": 30874, "time": "2003-02-07T09:10:08Z", "creator": "psrubi@ibit.org", "creation_time": "2003-02-07T09:10:08Z", "attachment_id": null}]