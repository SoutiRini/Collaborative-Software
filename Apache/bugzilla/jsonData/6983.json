[{"count": 0, "tags": [], "bug_id": 6983, "text": "An SSL/HTTPS servlet-application using TC 4.0.2, AJP1.3 on Apace/Linux as well \nas IIS does not support session cookies appropriately when using IE 5 on Mac, \nbut works with a variety of other browser and OS-combinations.", "id": 11567, "time": "2002-03-08T12:13:21Z", "creator": "anders.rundgren@telia.com", "creation_time": "2002-03-08T12:13:21Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "anders.rundgren@telia.com", "text": "In:\n\norg.apache.catalina.util.CookieTools.java\n\na flag \"&Secure\" is added to JSESSIONIDs for SSL sessions.\n\nThis is incompatible with Mac IE 5.0.  RFC-compliant though\n\nWhat is the *future* way to handle this?\nWe of course patched our TC.  Open Source is just GREAT!\n\n", "id": 12135, "attachment_id": null, "bug_id": 6983, "creation_time": "2002-03-21T15:12:42Z", "time": "2002-03-21T15:12:42Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 6983, "attachment_id": null, "id": 12834, "time": "2002-04-05T01:39:05Z", "creator": "jsissom@indiana.edu", "creation_time": "2002-04-05T01:39:05Z", "is_private": false, "text": "Here is how we fixed this problem.  I've never done a patch before, so I'm sorry\nif I've done it wrong.  The file to patch is\nsrc/catalina/src/share/org/apache/catalina/util/CookieTools.java\n\nJay\njsissom@indiana.edu\n\n--- CookieTools.java    Thu Apr  4 20:35:47 2002\n+++ CookieTools.fix     Thu Apr  4 20:37:07 2002\n@@ -166,7 +166,7 @@\n\n         // Secure\n         if (cookie.getSecure()) {\n-          buf.append (\";Secure\");\n+          buf.append (\"; Secure\");\n         }\n     }"}, {"count": 3, "tags": [], "bug_id": 6983, "attachment_id": null, "text": "The analysis by Anders Rundgren is slightly incorrect, although he is on the\nright track.  It would be good to see this issue resolved as I suspect it\naffects a larger number of people than anyone realises - IE5 is the default\nbrowser on MacOS 9.x, of which there are many installations out there.\n\nAs suggested in the patch from Jay Sissom, the problem is that IE5/Mac needs a\nspace between the ';' after the last parameter and 'Secure' parameter in the\ncookie.  (The actual value of JSESSIONID that Anders suggested is irrelevent).\n\nAlthough not expected by default, RFC2109 states that \"White space is permitted\nbetween tokens\".  Therefore it will not affect other browsers, and we have\ntested to confirm this.  We apply this patch to our live servers whenever\nupdating them, and it has fixed past reported problems, and not affected other\nbrowsers.\n\nSo, please could this patch be folded into the main source tree?  It would make\nmy life a lot easier.", "id": 33415, "time": "2003-03-19T09:01:51Z", "creator": "ben@goodtechnology.com", "creation_time": "2003-03-19T09:01:51Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 6983, "attachment_id": null, "id": 35783, "time": "2003-04-22T13:28:34Z", "creator": "remm@apache.org", "creation_time": "2003-04-22T13:28:34Z", "is_private": false, "text": "This has been implemented in Tomcat 4.1.x."}]