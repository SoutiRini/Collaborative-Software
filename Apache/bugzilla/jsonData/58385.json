[{"count": 0, "tags": [], "creator": "yilong.li@runtimeverification.com", "attachment_id": null, "id": 185148, "time": "2015-09-12T16:14:27Z", "bug_id": 58385, "creation_time": "2015-09-12T16:14:27Z", "is_private": false, "text": "Reported by RV-Predict (a dynamic race detector) when running the test suite:\nData race on field org.apache.catalina.connector.Request.comet: {{{\n    Concurrent read in thread T21 (locks held: {Monitor@2ea9e917})\n ---->  at org.apache.catalina.connector.Request.isComet(Request.java:2537)\n        at org.apache.catalina.connector.CometEventImpl.close(CometEventImpl.java:97)\n        at org.apache.catalina.comet.TestCometProcessor$SimpleCometServlet.event(TestCometProcessor.java:523)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterEvent(ApplicationFilterChain.java:470)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilterEvent(ApplicationFilterChain.java:363)\n        at org.apache.catalina.core.StandardWrapperValve.event(StandardWrapperValve.java:408)\n        at org.apache.catalina.core.StandardContextValve.event(StandardContextValve.java:129)\n        at org.apache.catalina.valves.ValveBase.event(ValveBase.java:202)\n        at org.apache.catalina.valves.ValveBase.event(ValveBase.java:202)\n        at org.apache.catalina.core.StandardHostValve.event(StandardHostValve.java:221)\n        at org.apache.catalina.valves.ValveBase.event(ValveBase.java:202)\n        at org.apache.catalina.core.StandardEngineValve.event(StandardEngineValve.java:108)\n        at org.apache.catalina.connector.CoyoteAdapter.event(CoyoteAdapter.java:203)\n        at org.apache.coyote.http11.Http11NioProcessor.event(Http11NioProcessor.java:106)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:666)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1526)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1482)\n        - locked Monitor@2ea9e917 at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1481)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    T21 is created by T16\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T20 (locks held: {})\n ---->  at org.apache.catalina.connector.Request.setComet(Request.java:2545)\n        at org.apache.catalina.connector.Request.cometClose(Request.java:2584)\n        at org.apache.catalina.connector.CometEventImpl.close(CometEventImpl.java:98)\n        at org.apache.catalina.comet.TestCometProcessor$AsyncCometCloseThread.run(TestCometProcessor.java:665)\n    T20 is created by T19\n        at org.apache.catalina.comet.TestCometProcessor$AsyncCometCloseValve.invoke(TestCometProcessor.java:648)\n}}}"}, {"count": 1, "tags": [], "creator": "markt@apache.org", "text": "Fixed in trunk and 8.0.x for 8.0.27 onwards.", "id": 185255, "time": "2015-09-15T13:55:40Z", "bug_id": 58385, "creation_time": "2015-09-15T13:55:40Z", "is_private": false, "attachment_id": null}]