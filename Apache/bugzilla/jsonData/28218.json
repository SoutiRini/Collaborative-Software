[{"count": 0, "tags": [], "bug_id": 28218, "attachment_id": null, "id": 55356, "time": "2004-04-05T22:06:00Z", "creator": "kjw@acm.org", "creation_time": "2004-04-05T22:06:00Z", "is_private": false, "text": "We discovered a Location block that was not working in one of our apache \nconfigs and one of the few changes was the addition of a slightly broken \nlooking regular expression which featured something like this\n\n<Location ~ ^/something/||^/something-else/>\n\n</Location>\n\nThe problem turned out to be the ||. I had a quick glance through the code and \nit reads like the regular expression library doesn't like this and regards it \nas an error (i note solaris egrep errors, perl thinks its ok). The problem is \nthat this error is not reported to the user so the configuration appears to be \nok when the process is started. I think this is both confused to the naive \nconfiguration creator and potentially dangerous if the Location block contains \nsome critical (say, security-related) directives.\n\nIt looks like the (handful of) ap_pregcomp calls in http_core.c do not check \nfor a NULL return code that would indicate a failed compilation. So this\naffects Location ~, LocationMatch, Directory ~, DirectoryMatch, Files ~, \nFilesMatch.\n\nPerhaps this problem exists in apache 2.0 as well? And maybe other areas of \napache 1.3 (not mod_alias, just had a look there!)."}, {"count": 1, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "text": "Thanks. Indeed it exists also in 2.x (even in more places).\nIt's fixed now in 2.1 and proposed for backport into the stable branches.\n\nThanks for the report and thanks for using Apache.", "id": 55614, "time": "2004-04-10T14:09:23Z", "bug_id": 28218, "creation_time": "2004-04-10T14:09:23Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 28218, "attachment_id": null, "id": 58587, "time": "2004-06-02T22:50:23Z", "creator": "nd@perlig.de", "creation_time": "2004-06-02T22:50:23Z", "is_private": false, "text": "The fix will be in the next stable versions. (1.3.32 and 2.0.50)."}]