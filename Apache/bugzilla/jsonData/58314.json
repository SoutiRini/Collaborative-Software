[{"count": 0, "tags": [], "bug_id": 58314, "attachment_id": 33057, "text": "Created attachment 33057\nPOC For Apache 2.2.22 Executing \"phtml\" as \"php\"\n\nHello Apache Security Team.\n\nJust observed an issue when one of my Arbitrary File Upload Vulnerability got fixed.\n\nHere i am explaining you a scenario.\n\nMany developers Prevent File Upload Vulnerability By Blocking \"['php', 'php3', 'php4', 'inc']\"   So most of developers do the same for their application to prevent this.\nBut the better solution is to include this extensions also \"php5,pht,phtml\"\n\nObservation: now i had observe that most of Linux Debian Which Have \"apache2-mpm-prefork package\" Package for their Apache Service are default set to executing \"phtml\" as \"php\" which look dangerous because most of Developer only use \"php,php3,php4,inc\".\nSo if any developer miss the \"phtml\" to add in black list file upload and if the Linux Debian Which Have \"apache2-mpm-prefork package\" Package is set to Execute \"phtml\" as \"php\" by default then the whole server can be compromise by the attacker.\n\nFor POC i had attached Latest Kali Linux 2.0 which allow user to execute \"phtml\" as \"php\" by default.\n\nI have tested this Latest Kali Linux 2.0 Version Which is running on Apache 2.2.22\n\nWaiting for your reply.", "id": 184899, "time": "2015-09-01T14:35:50Z", "creator": "narendra.infosec@gmail.com", "creation_time": "2015-09-01T14:35:50Z", "is_private": false}, {"count": 1, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "text": "In the future, this is not the proper way to engage the security team. Contact security@apache.org privately.\n\nHowever, if you have an issue with the default configuration of a third-party distribution of httpd, you'll have to address it with the respective project.", "id": 184900, "time": "2015-09-01T14:37:58Z", "bug_id": 58314, "creation_time": "2015-09-01T14:37:58Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 58314, "text": "(In reply to Eric Covener from comment #1)\n> In the future, this is not the proper way to engage the security team.\n> Contact security@apache.org privately.\n> \n> However, if you have an issue with the default configuration of a\n> third-party distribution of httpd, you'll have to address it with the\n> respective project.\n\nMy mistake , i was not aware about this.\n\nI guess you didnt got my point, The issue which i had reported is itself apache module  see here - http://httpd.apache.org/docs/2.2/mod/prefork.html\n\nI am talking about this.", "id": 184901, "time": "2015-09-01T14:41:23Z", "creator": "narendra.infosec@gmail.com", "creation_time": "2015-09-01T14:41:23Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 58314, "attachment_id": null, "id": 184902, "time": "2015-09-01T14:42:43Z", "creator": "covener@gmail.com", "creation_time": "2015-09-01T14:42:43Z", "is_private": false, "text": "(In reply to Narendra Bhati from comment #2)\n> (In reply to Eric Covener from comment #1)\n> > In the future, this is not the proper way to engage the security team.\n> > Contact security@apache.org privately.\n> > \n> > However, if you have an issue with the default configuration of a\n> > third-party distribution of httpd, you'll have to address it with the\n> > respective project.\n> \n> My mistake , i was not aware about this.\n> \n> I guess you didnt got my point, The issue which i had reported is itself\n> apache module  see here - http://httpd.apache.org/docs/2.2/mod/prefork.html\n> \n> I am talking about this.\n\nThe prefork MPM doesn't execute PHP code.  Maybe your confusing it with an artifact of how it's packaged by your distribution w/ some snippet of configuration."}, {"count": 4, "tags": [], "creator": "narendra.infosec@gmail.com", "attachment_id": null, "id": 184903, "time": "2015-09-01T14:45:22Z", "bug_id": 58314, "creation_time": "2015-09-01T14:45:22Z", "is_private": false, "text": "Ok , Just looking for some help\n\nI guess the reason behind this is  - https://packages.debian.org/jessie/libapache2-mod-php5\n\n<FilesMatch \".+\\.ph(p[345]?|t|tml)$\">\n    SetHandler application/x-httpd-php\n</FilesMatch>\n\n====================\n\nCan you please help me out where i should report about this."}, {"count": 5, "tags": [], "bug_id": 58314, "attachment_id": null, "text": "Stop reopening the invalid bug report.  The link you shared has a clear \"bug reports\" link", "id": 184904, "time": "2015-09-01T14:47:06Z", "creator": "covener@gmail.com", "creation_time": "2015-09-01T14:47:06Z", "is_private": false}]