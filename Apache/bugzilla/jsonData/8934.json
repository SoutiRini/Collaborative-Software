[{"count": 0, "tags": [], "creator": "sebastian.hantsch@gmx.de", "text": "According to the MSDN at\n\nhttp://msdn.microsoft.com/library/default.asp?url=/library/en-us/iisref/html/psdk/asp/isre504l.asp\n\nthe parameter \"lpdwSizeofBuffer\" should be set to \"the size of bytes transferred\ninto the buffer, including the null-terminating byte\" on successful completion.\n\nCurrently in mod_isapi.c, line 629, the null-terminating byte is not taken into\naccount, so the value of \"lpdwSizeofBuffer\" is too small by one.\n\nThis breaks ISAPI-dlls based on Borland Delphi 6.0, as these dlls use the value\nof \"lpdwSizeofBuffer\" to determinate the length of the server variable.\n\nSuggested fix:\nReplace line 629: \n*lpdwSizeofBuffer = len;\nwith\n*lpdwSizeofBuffer = len + 1;", "id": 15786, "attachment_id": null, "bug_id": 8934, "creation_time": "2002-05-09T11:29:55Z", "time": "2002-05-09T11:29:55Z", "is_private": false}, {"count": 1, "tags": [], "creator": "wrowe@apache.org", "is_private": false, "id": 16115, "attachment_id": null, "bug_id": 8934, "creation_time": "2002-05-15T00:44:26Z", "time": "2002-05-15T00:44:26Z", "text": "\n  Fixed in CVS this morning... the fix will be available in .37 and an\n  interim test mod_isapi.so I will be making available this week that\n  will be build for .36.  Will let you know when that test version is\n  available [we have refactored the code significantly, and will want\n  to get it in as many hands as possible.\n\n  There were a few more instances where we needed to count the trailing\n  NULL, but I think I caught them all (and credited you with the patch\n  in CHANGES.)\n\n  Thanks for the report and analysis!\n"}, {"attachment_id": null, "tags": [], "creator": "wrowe@apache.org", "is_private": false, "count": 2, "id": 16133, "time": "2002-05-15T05:35:00Z", "bug_id": 8934, "creation_time": "2002-05-15T05:35:00Z", "text": "\n  Adding Jira for notification of test release this week.\n"}, {"attachment_id": null, "tags": [], "creator": "wrowe@apache.org", "is_private": false, "count": 3, "id": 16369, "time": "2002-05-18T22:01:10Z", "bug_id": 8934, "creation_time": "2002-05-18T22:01:10Z", "text": "\n  There is a test module of mod_isapi.c cvs version 1.73 now available from\n\n    http://www.apache.org/~wrowe/mod_isapi.so\n\n  Please feel free to test (within Apache 2.0.36) and report back with\n  any success or hassles you encounter.  The source code is available;\n\n   \nhttp://cvs.apache.org/viewcvs.cgi/*checkout*/httpd-2.0/modules/arch/win32/mod_isapi.c?rev=1.73\n   \nhttp://cvs.apache.org/viewcvs.cgi/*checkout*/httpd-2.0/modules/arch/win32/mod_isapi.h?rev=1.1\n\n  All ISAPI directives are now per-directory, except for ISAPICacheFile (which\n  remains global.)  A new  ISAPIFakeAsync on  will allow modules to believe that\n  mod_isapi is an async server, and respond to the async requests and invoke\n  the module's completion callbacks.\n\n  Unless problems are identified, this is the code expected to be released\n  with Apache 2.0.37.\n\n  TIA\n"}, {"count": 4, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "is_private": false, "id": 16733, "time": "2002-05-26T14:43:08Z", "bug_id": 8934, "creation_time": "2002-05-26T14:43:08Z", "text": "*** Bug 9421 has been marked as a duplicate of this bug. ***"}]