[{"count": 0, "tags": [], "bug_id": 48281, "attachment_id": null, "id": 132307, "time": "2009-11-25T05:12:44Z", "creator": "jeremy.jacque@maximo.fr", "creation_time": "2009-11-25T05:12:44Z", "is_private": false, "text": "I was trying to compile apache under AIX 6.1 (gcc/g++ 4.2.0) with some shared modules but they were built static (ie: libmod_cache.a)\n\n\n\n\nIt seems to be due to the srclib/apr/configure script in which many test are done using syntax like this :\ncase $host_os in\n  aix[4-9]*)  ...\n  aix5*)      ...\nand so on.\n\nIt works under AIX 5.3 because the configure script shows : \nchecking build system type... powerpc-ibm-aix5.3.0.0\nchecking host system type... powerpc-ibm-aix5.3.0.0\nchecking target system type... powerpc-ibm-aix5.3.0.0\nConfiguring APR library\nPlatform: powerpc-ibm-aix5.3.0.0\n\nbut with AIX 6.1 it looks like this :  \nchecking build system type... rs6000-ibm-aix\nchecking host system type... rs6000-ibm-aix\nchecking target system type... rs6000-ibm-aix\nConfiguring APR library\nPlatform: rs6000-ibm-aix\n\n\nHere is my env :\n\nexport MAKE=gmake\nexport OBJECT_MODE=64\nexport CFLAGS='-maix64 -mcpu=powerpc64 -O2'\nexport CPPFLAGS='-maix64 -mcpu=powerpc64 -I/opt/freeware/include'\nexport CXXFLAGS='-maix64 -mcpu=powerpc64 -O2'\nexport LDFLAGS='-maix64 -mcpu=powerpc64 -L/usr/lib -L/opt/freeware/lib -Wl,-blibpath:LIBDIR:/usr/vac/lib:/usr/lib/threads:/usr/lib:/lib:/opt/freeware/lib:/apache/modules:/apache/lib'\nexport PATH=/usr/bin:/usr/sbin:/usr/bin/X11:/sbin:/usr/java14/jre/bin:/usr/java14/bin:/opt/freeware/bin:/usr/vac/bin:/usr/linux/bin\nexport CC=gcc\nexport CXX=g++\nexport CONFIG_SHELL=/usr/bin/bash\n\n./configure --prefix=/apache  \\\n --disable-autoindex --disable-asis \\\n --disable-actions --disable-cgid --disable-imagemap \\\n --disable-status --disable-userdir --enable-so --with-mpm=prefork \\\n --disable-include --disable-auth-basic \\\n --disable-authn-file --disable-authn-default --disable-authz-groupfile \\\n --disable-authz-user --disable-filter --disable-info \\\n --enable-mods-shared='ssl cache mem_cache deflate rewrite'"}, {"count": 1, "tags": [], "bug_id": 48281, "attachment_id": null, "is_private": false, "id": 132308, "time": "2009-11-25T05:21:26Z", "creator": "trawick@apache.org", "creation_time": "2009-11-25T05:21:26Z", "text": "See work-around documented at the end of\nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=47692 (grabbing config.guess that recognizes that level of AIX)."}, {"count": 2, "tags": [], "bug_id": 48281, "is_private": false, "id": 148467, "attachment_id": null, "creator": "covener@gmail.com", "creation_time": "2011-08-07T19:19:16Z", "time": "2011-08-07T19:19:16Z", "text": "another workaround for 2.2.x is:\n\nexport ac_cv_build=\"powerpc-ibm-aix5.3.0.0\"\nexport ac_cv_build_alias=\"powerpc-ibm-aix5.3.0.0\""}, {"count": 3, "tags": [], "bug_id": 48281, "attachment_id": null, "id": 172489, "time": "2014-01-19T19:03:40Z", "creator": "covener@gmail.com", "creation_time": "2014-01-19T19:03:40Z", "is_private": false, "text": "2.2 and later have updated config.*"}]