[{"count": 0, "attachment_id": null, "creator": "maarten@vanhulsentop.nl", "text": "When using the WebDAV servlet, the log shows java.io.UnsupportedEncodingException: UTF_8 exceptions on requests.\n\nReproduction steps;\n- Download and unzip tomcat version 7.0.81\n- Unzip the webdav.zip webdav in the root of the tomcat.\n- Start the Tomcat server \n- Connect with anyclient to http://localhost:8080/webdav/\n- See the stacktrace in the console.\n\njava.io.UnsupportedEncodingException: UTF_8\n        at sun.nio.cs.StreamEncoder.forOutputStreamWriter(StreamEncoder.java:61)\n        at java.io.OutputStreamWriter.<init>(OutputStreamWriter.java:100)\n        at org.apache.catalina.util.URLEncoder.encode(URLEncoder.java:170)\n        at org.apache.catalina.servlets.WebdavServlet.rewriteUrl(WebdavServlet.java:444)\n        at org.apache.catalina.servlets.WebdavServlet.parseProperties(WebdavServlet.java:2122)\n        at org.apache.catalina.servlets.WebdavServlet.doPropfind(WebdavServlet.java:702)\n<SNIP>\n\nI have traced this to org.apache.catalina.servlets.WebdavServlet.rewriteUrl(String) . The implementation for tc7.x is;\n  return URL_ENCODER_XML.encode(path, \"UTF_8\");\nFor tc8.5 it is;\n  return URL_ENCODER_XML.encode(path, StandardCharsets.UTF_8);\n\nI suspect that this is a pretty simple copy-paste error. The string should probably be changed from \"UTF_8\" (with underscore) to \"UTF-8\" (with a dash). But i have not tested this.", "id": 200439, "time": "2017-08-24T13:49:36Z", "bug_id": 61452, "creation_time": "2017-08-24T13:49:36Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 61452, "text": "Created attachment 35252\nwebdav webapps folder to ease reproduction", "id": 200441, "time": "2017-08-24T13:51:43Z", "creator": "maarten@vanhulsentop.nl", "creation_time": "2017-08-24T13:51:43Z", "is_private": false, "attachment_id": 35252}, {"count": 2, "tags": [], "bug_id": 61452, "text": "Fixed in:\n- 8.0.x for 8.0.47 onwards\n- 7.0.x for 7.0.82 onwards\n\nThanks for the report. 8.0.x was affected too as were a couple of tests.", "id": 200449, "time": "2017-08-24T23:29:09Z", "creator": "markt@apache.org", "creation_time": "2017-08-24T23:29:09Z", "is_private": false, "attachment_id": null}]