[{"count": 0, "tags": [], "bug_id": 20366, "attachment_id": null, "text": "I am running ANT 1.5.2 on Windows 2000 with service pack 3, Java IBM SDK 1.3.1, \nxalan 2.5.D1_4.8.2003 (and the xerces included with xalan). \n\nI am zipping a Web application underneath Tomcat. The following is ant build \ncode (a portion) \n\n<zip zipfile=\"${version.dir.webapp.pre.version.save}/${web.application}.zip\"  \nbasedir=\"${web.server.dir}/webapps\" filesonly=\"false\">\n\t \t<include name=\"${web.application}/**/*.*\"/>\n</zip>\n\nI have logged the build with verbose and debug but do not see the \nWEB-INF/classes directory (it is empty) in the log, and it is not in the \nunzipped directory structure. \n\nThanks\nTom Hutchinson \nthutchinson@iccg.com", "id": 38065, "time": "2003-05-30T18:55:08Z", "creator": "thutchinson@iccg.com", "creation_time": "2003-05-30T18:55:08Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 20366, "attachment_id": null, "text": "Your observation is correct, Ant will only include directories that contain\nother directories or files that are going to be included, this is a bug.\n\nBut even after fixing the bug, you are not going to find WEB-INF/classes in\nyour archive the your snippet as you match on *.* and \"classes\" doesn't contain\na dot.  You'll probably only want \"${web.application}/**\".\n\n", "id": 39336, "time": "2003-06-24T13:11:46Z", "creator": "bodewig@apache.org", "creation_time": "2003-06-24T13:11:46Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 20366, "attachment_id": null, "text": "Stop, I just retried, usinf a pattern like <include name=\"${web.application}/**\"/>\nyou should get all empty directories as well - at least it works for me.", "id": 39339, "time": "2003-06-24T13:16:49Z", "creator": "bodewig@apache.org", "creation_time": "2003-06-24T13:16:49Z", "is_private": false}]