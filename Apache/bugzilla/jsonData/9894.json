[{"count": 0, "tags": [], "creator": "info@infonium.com", "attachment_id": null, "text": "This a continuation of proxy_http1.1_chunking.patch. I would ask that the same\nchanges be made to htpasswd, htdigest, & logresolve.\n\nAttached is a patch that solves problems I've encountered between httpd-1.3.24,\nmod_perl 1.27 & Perl 5.8.0 RC1. Really - just a simple rename to eliminate the\ncollision.\n\nThanks for your attention on this matter!\nJay\n\ndiff -Naur support-old/htdigest.c support/htdigest.c\n--- support-old/htdigest.c      Wed Mar 13 16:05:37 2002\n+++ support/htdigest.c  Sat Jun 15 22:07:30 2002\n@@ -112,7 +112,7 @@\n     while ((line[y++] = line[x++]));\n }\n\n-static int getline(char *s, int n, FILE *f)\n+API_EXPORT(int) ap_getline(char *s, int n, FILE *f)\n {\n     register int i = 0;\n\n@@ -199,7 +199,7 @@\n {\n     static char line[MAX_STRING_LEN];\n\n-    while (!(getline(line, MAX_STRING_LEN, source))) {\n+    while (!(ap_getline(line, MAX_STRING_LEN, source))) {\n        putline(target, line);\n     }\n }\n@@ -257,7 +257,7 @@\n     strcpy(realm, argv[2]);\n\n     found = 0;\n-    while (!(getline(line, MAX_STRING_LEN, f))) {\n+    while (!(ap_getline(line, MAX_STRING_LEN, f))) {\n        if (found || (line[0] == '#') || (!line[0])) {\n            putline(tfp, line);\n            continue;\ndiff -Naur support-old/htpasswd.c support/htpasswd.c\n--- support-old/htpasswd.c      Wed Mar 13 16:05:37 2002\n+++ support/htpasswd.c  Sat Jun 15 22:06:35 2002\n@@ -141,7 +141,7 @@\n  * Get a line of input from the user, not including any terminating\n  * newline.\n  */\n-static int getline(char *s, int n, FILE *f)\n+API_EXPORT(int) ap_getline(char *s, int n, FILE *f)\n {\n     register int i = 0;\n\n@@ -590,7 +590,7 @@\n        char scratch[MAX_STRING_LEN];\n\n        fpw = fopen(pwfilename, \"r\");\n-       while (! (getline(line, sizeof(line), fpw))) {\n+       while (! (ap_getline(line, sizeof(line), fpw))) {\n            char *colon;\n\n            if ((line[0] == '#') || (line[0] == '\\0')) {\ndiff -Naur support-old/logresolve.c support/logresolve.c\n--- support-old/logresolve.c    Tue May 22 18:52:21 2001\n+++ support/logresolve.c        Sat Jun 15 22:08:40 2002\n@@ -55,7 +55,7 @@\n #endif /* !MPE && !WIN32*/\n\n static void cgethost(struct in_addr ipnum, char *string, int check);\n-static int getline(char *s, int n);\n+API_EXPORT(int) ap_getline(char *s, int n);\n static void stats(FILE *output);\n\n\n@@ -262,7 +262,7 @@\n  * gets a line from stdin\n  */\n\n-static int getline (char *s, int n)\n+API_EXPORT(int) ap_getline (char *s, int n)\n {\n     char *cp;\n\n@@ -310,7 +310,7 @@\n     for (i = 0; i < MAX_ERR + 2; i++)\n        errors[i] = 0;\n\n-    while (getline(line, MAXLINE)) {\n+    while (ap_getline(line, MAXLINE)) {\n        if (line[0] == '\\0')\n            continue;\n        entries++;", "id": 17870, "time": "2002-06-16T02:40:37Z", "bug_id": 9894, "creation_time": "2002-06-16T02:40:37Z", "is_private": false}]