[{"count": 0, "tags": [], "bug_id": 35013, "attachment_id": null, "is_private": false, "id": 75201, "time": "2005-05-22T21:43:41Z", "creator": "rwilson2@austin.rr.com", "creation_time": "2005-05-22T21:43:41Z", "text": "When I create a simple thread, hitting a single page that returns a session\ncookie, and then redirects to another page, the session cookie is not available\nfor the rest of the thread. I think the issue is related to another defect I\nread where \"expired\" cookies are removed immediately. Unfortunately, an\n\"expired\" cookie is actually a session cookie - and I need them to stay around\nuntil the thread is finished, so they can be used by subsequent HTTP Requests\nwithin the same thread."}, {"attachment_id": null, "tags": [], "bug_id": 35013, "is_private": false, "count": 1, "id": 75303, "time": "2005-05-25T00:58:19Z", "creator": "sebb@apache.org", "creation_time": "2005-05-25T00:58:19Z", "text": "Can you post details of the Cookie that is being dropped? In particular, what is\nthe Expiration value?"}, {"count": 2, "tags": [], "bug_id": 35013, "attachment_id": null, "text": "The \"Set-Cookie\" looks like this:\n\nSet-Cookie:\nMySessionId=634707E375652E48855X39524X530E78117B5A5B64AF429A512F6048EF8284EEH08D5C1177E\n\nNotice, there is no domain set, no path set, and no expiration set. It is just\nthe data...", "id": 75361, "time": "2005-05-25T17:08:58Z", "creator": "rwilson2@austin.rr.com", "creation_time": "2005-05-25T17:08:58Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 35013, "text": "Various fixes made to Cookie Manager to ensure expiry is always expressed in\nseconds.  Extra debug and test cases added.\n\nHopefully these will solve the problem (or at least the debug will enable it to\nbe investigated further).", "id": 75397, "time": "2005-05-26T01:07:56Z", "creator": "sebb@apache.org", "creation_time": "2005-05-26T01:07:56Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 35013, "attachment_id": null, "text": "Have the fixes helped?", "id": 76317, "time": "2005-06-12T01:40:48Z", "creator": "sebb@apache.org", "creation_time": "2005-06-12T01:40:48Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 35013, "text": "I just tried the build for 6/11 - no dice. \n\nI see the cookie get set on the first request, I see it attached to the second\nrequest - then it goes away, never to return... It's as though the Cookie\nManager thinks that when it doesn't come back from the server, it should delete\nit... This tends to play havoc with \"session\" cookies that are used for\nauthentication or entitlement stuff...", "id": 76329, "time": "2005-06-13T06:36:32Z", "creator": "rwilson2@austin.rr.com", "creation_time": "2005-06-13T06:36:32Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 35013, "attachment_id": null, "text": "Thanks for the update - I'll have another look at the code with this in mind.", "id": 76342, "time": "2005-06-13T15:11:01Z", "creator": "sebb@apache.org", "creation_time": "2005-06-13T15:11:01Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 35013, "is_private": false, "text": "In case it matters, here are few details of my config:\n\n1) I'm testing against \"localhost\", so the domain name isn't set. (I don't think\nthis is the problem since I get the cookie for the second request to use, and\ndon't lose it until the third request I make.)\n\n2) I'm specifically using \"SESSION\" cookies. My application is setting a session\ncookie when I POST a login form, then it sends back a page which causes me to\nrun some JavaScript, and then perform a \"GET\" on a secondary \"login\" page (don't\nask why - it's complicated and part of a legacy application). The secondary\nlogin page uses the session cookie along with 3 more session cookies.\n\n3) This fails after the 2nd request (to the JavaScript defined page).\n\n4) It fails even when I'm using the \"HTTP Proxy\" server setup in the\nworkbench... I cannot get fully logged into the application I'm testing through\nJMeter.\n\n5) The application works fine outside of JMeter. I can see the cookies being set\n(I use Firefox, and it pops a prompt for each cookie being set).\n\n6) The application works fine if I use the \"tcp_mon\" tool in a \"proxy\" mode as well.\n\n7) I have setup a \"thread\", followed by HTTP Cookie Manager, then my HTTP\nRequests, and a Tree listener. I've also tried it with HTTP Header Manager in\nthe mix, and I've tried running through the proxy to get all of the requests\nsetup... None of that works I see the requests popping, but the app reports that\nthe user is not logged in after the first page POSTs...", "id": 76355, "time": "2005-06-13T20:01:18Z", "creator": "rwilson2@austin.rr.com", "creation_time": "2005-06-13T20:01:18Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "sebb@apache.org", "text": "I've added yet more debug to the code (in the latest nightly build)\n\nTo enable it, use the command-line flag:\n\n-Ljmeter.protocol.http.control.CookieManager=DEBUG\n\nor the equivalent in jmeter.properties:\n\nlog_level.jmeter.protocol.http.control.CookieManager=DEBUG\n\nDoes that help in tracing the problem?", "count": 8, "id": 76481, "time": "2005-06-17T02:37:59Z", "bug_id": 35013, "creation_time": "2005-06-17T02:37:59Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 35013, "text": "As far as I know, this is working in the current 2.1 code", "id": 88817, "time": "2006-05-05T01:29:40Z", "creator": "sebb@apache.org", "creation_time": "2006-05-05T01:29:40Z", "is_private": false, "attachment_id": null}]