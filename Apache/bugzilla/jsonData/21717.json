[{"count": 0, "tags": [], "creator": "fatsu@pandora.be", "attachment_id": null, "text": "Can't insert page '...': Illegal to flush within a custom tag \nI'm getting this message in tomcat 4.1.x, also tried tomcat 5 dev.\n\nI can't seem to find a real explaination for this behaviour in related bug \nreports (3543 & 3776).\n\nin bug report 3543:\n>Up until 4.0-rc1, Tomcat 4 was incorrectly *not* doing the flush in it.  In \nrc1,\n>this was added to conform to the spec.  Because it is a spec requirement, \nthere is no way to turn it off.\n\nin the jsp 1.2 specs i found this note:\nJSP 1.2 extends JavaServer Pages\u2122 1.1 Specification (JSP 1.1) in the following\nways:\n\u2022 ...\n\u2022 Fixing the infamous \u201cflush before you include\u201d limitation in JSP 1.1.\n\nBut i did not find the line telling an include should be illegal if it is made\nby a tag handler... (could be looking over it :)\n\nI know weblogic 6.1 doesn't complain about this... don't know about the more\nrecent versions.", "id": 40943, "time": "2003-07-18T18:51:53Z", "bug_id": 21717, "creation_time": "2003-07-18T18:51:53Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 21717, "text": "my actual problem: (pseudo)\n\n| write aaaa;\n| start custom tag (BodyTagSupport)\n| write bbbb;\n| pageContext.getOut().flush();\n| include other jsp;\n| write cccc;\n| stop custom tag;\n\nThis gives me the \"illegal to flush\" exception.\nIf i leave the flush out.\n\ni get the following:\n| aaaa\n| <content of included jsp>\n| bbbb\n| cccc\na messed up page.\n\nBodyContent.flush() javadoc: It is not valid to flush a BodyContent because \nthere is no backing stream behind it.\n\nI took a look at Weblogic since i know on that platform the thing i described \nabove works fine. I found out that their implementation IS using a backing \nstream and therefor allows all those actions... \n\nmy question: Are their any plans on implementing this in Tomcat?", "id": 41339, "time": "2003-07-24T15:41:03Z", "creator": "fatsu@pandora.be", "creation_time": "2003-07-24T15:41:03Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 21717, "attachment_id": null, "id": 72729, "time": "2005-03-20T22:33:23Z", "creator": "markt@apache.org", "creation_time": "2005-03-20T22:33:23Z", "is_private": false, "text": "My reading of the spec is that it is very clear that flush() is not legal in\nthis case. Therefore, the Tomcat behaviour will not be changed."}]