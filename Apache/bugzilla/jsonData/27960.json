[{"count": 0, "tags": [], "bug_id": 27960, "attachment_id": null, "id": 54685, "time": "2004-03-25T21:51:24Z", "creator": "chuck@pcreducator.com", "creation_time": "2004-03-25T21:51:24Z", "is_private": false, "text": "Environment details: Tomcat 4.1.18 with J2SDK 1.4.1_02 Running on Win2K with -\nXms256M -Xmx512M\n\nSystem.activeThread() count seems to increased by 4 any time a new Mac OS X \n(10.2) client (using SSL connections from IE 5.2) browses to the site.  Threads \nare never returned, even after the Mac is powered down.  Threads do not \nincrease as a result of Windows clients using IE 5.x or 6.x, even with SSL.\n\nWe have verified that the problem is not in our application by monitoring the \nthread counts while clients were browsing to Tomcat's ROOT context (non-SSL).\n\nWe do not observe this behavior when browsing from these machines using the \nSafari browser -- So it's probably IE 5.2 causing the problem, BUT...  \nShouldn't these threads somehow time out?\n\nThanks for any help and/or advice you can offer."}, {"count": 1, "tags": [], "bug_id": 27960, "is_private": false, "text": "I have tried 4.1.27, 4.1.30 and 5.0.19 and observed the same behavior.", "id": 54686, "time": "2004-03-25T21:57:48Z", "creator": "chuck@pcreducator.com", "creation_time": "2004-03-25T21:57:48Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "chuck@pcreducator.com", "attachment_id": null, "text": "Also... these 4 new threads appear after the first request from the new Mac... \nSubsequent requests (from the same client) do not affect thread count.", "id": 54687, "time": "2004-03-25T22:04:48Z", "bug_id": 27960, "creation_time": "2004-03-25T22:04:48Z", "is_private": false}, {"text": "This report seems bogus. The only way you can attempt to prove your point is to\nproduce a thread dump proving that the threads are not doing what they should.\n\nIt is normal that processor threads are not destroyed. Look at the configuration\nparameters for the connector.", "tags": [], "bug_id": 27960, "is_private": false, "count": 3, "id": 54736, "time": "2004-03-26T12:57:09Z", "creator": "remm@apache.org", "creation_time": "2004-03-26T12:57:09Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 27960, "attachment_id": null, "is_private": false, "id": 54763, "time": "2004-03-26T23:23:10Z", "creator": "markt@apache.org", "creation_time": "2004-03-26T23:23:10Z", "text": "Resolving this based on Remy's comment."}, {"count": 5, "tags": [], "creator": "chuck@pcreducator.com", "text": "I installed 4.1.30 fresh. I browsed to the root/default page ONCE from a \nWindows IE 6.0, and got this thread dump:\n\nFull thread dump Java HotSpot(TM) Client VM (1.4.1_02-b06 mixed mode):\n\n\"TP-Monitor\" daemon prio=5 tid=0x0AF38448 nid=0xc94 in Object.wait() \n[beaf000..beafd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <0346B738> (a \norg.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)\n        at org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable.run\n(ThreadPool.java:560)\n        - locked <0346B738> (a \norg.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"TP-Processor4\" daemon prio=5 tid=0x0AC22998 nid=0x360 runnable \n[be6f000..be6fd8c]\n        at java.net.PlainSocketImpl.socketAccept(Native Method)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:353)\n        - locked <0346B7E8> (a java.net.PlainSocketImpl)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:439)\n        at java.net.ServerSocket.accept(ServerSocket.java:410)\n        at org.apache.jk.common.ChannelSocket.accept(ChannelSocket.java:287)\n        at org.apache.jk.common.ChannelSocket.acceptConnections\n(ChannelSocket.java:581)\n        at org.apache.jk.common.SocketAcceptor.runIt(ChannelSocket.java:767)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:683)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"TP-Processor3\" daemon prio=5 tid=0x0B2F2610 nid=0x1fc in Object.wait() \n[be2f000..be2fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <0346BA00> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <0346BA00> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"TP-Processor2\" daemon prio=5 tid=0x0B2F2428 nid=0x55c in Object.wait() \n[bdef000..bdefd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <0346BA80> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <0346BA80> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"TP-Processor1\" daemon prio=5 tid=0x0ADC6A28 nid=0xedc in Object.wait() \n[bdaf000..bdafd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <0346BB00> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <0346BB00> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Monitor\" prio=5 tid=0x0B2C7A80 nid=0xdcc in Object.wait() \n[bd6f000..bd6fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033BFA80> (a \norg.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)\n        at org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable.run\n(ThreadPool.java:560)\n        - locked <033BFA80> (a \norg.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Processor4\" daemon prio=5 tid=0x0B2C7898 nid=0xf34 in Object.wait() \n[bd2f000..bd2fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033BFC40> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <033BFC40> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Processor3\" daemon prio=5 tid=0x0B2C72B0 nid=0x814 in Object.wait() \n[bcef000..bcefd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033BFCC0> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <033BFCC0> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Processor2\" daemon prio=5 tid=0x0B2C6958 nid=0x8fc runnable \n[bcaf000..bcafd8c]\n        at java.net.PlainSocketImpl.socketAccept(Native Method)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:353)\n        - locked <030F4770> (a java.net.PlainSocketImpl)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:439)\n        at java.net.ServerSocket.accept(ServerSocket.java:410)\n        at org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket\n(DefaultServerSocketFactory.java:107)\n        at org.apache.tomcat.util.net.PoolTcpEndpoint.acceptSocket\n(PoolTcpEndpoint.java:387)\n        at org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:557)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:683)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Processor1\" daemon prio=5 tid=0x0B2C6800 nid=0xf1c in Object.wait() \n[bc6f000..bc6fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033BFDC0> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <033BFDC0> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"HostConfig[localhost]\" daemon prio=5 tid=0x0B2A0D38 nid=0xfa8 waiting on \ncondition [bc2f000..bc2fd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.startup.HostConfig.threadSleep\n(HostConfig.java:824)\n        at org.apache.catalina.startup.HostConfig.run(HostConfig.java:848)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"StandardManager[/webdav]\" daemon prio=5 tid=0x0B2A01A0 nid=0xf64 waiting on \ncondition [bbef000..bbefd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.session.StandardManager.threadSleep\n(StandardManager.java:810)\n        at org.apache.catalina.session.StandardManager.run\n(StandardManager.java:869)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"StandardManager[/tomcat-docs]\" daemon prio=5 tid=0x0B2CEA38 nid=0x5e4 waiting \non condition [bbaf000..bbafd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.session.StandardManager.threadSleep\n(StandardManager.java:810)\n        at org.apache.catalina.session.StandardManager.run\n(StandardManager.java:869)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"StandardManager[]\" daemon prio=5 tid=0x0B2EAA40 nid=0xdb0 waiting on condition \n[bb6f000..bb6fd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.session.StandardManager.threadSleep\n(StandardManager.java:810)\n        at org.apache.catalina.session.StandardManager.run\n(StandardManager.java:869)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"StandardManager[/manager]\" daemon prio=5 tid=0x0AED0DE8 nid=0xee8 waiting on \ncondition [bb2f000..bb2fd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.session.StandardManager.threadSleep\n(StandardManager.java:810)\n        at org.apache.catalina.session.StandardManager.run\n(StandardManager.java:869)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"StandardManager[/admin]\" daemon prio=5 tid=0x0B28D228 nid=0x820 waiting on \ncondition [baef000..baefd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.session.StandardManager.threadSleep\n(StandardManager.java:810)\n        at org.apache.catalina.session.StandardManager.run\n(StandardManager.java:869)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"StandardManager[/examples]\" daemon prio=5 tid=0x0B26F380 nid=0xce8 waiting on \ncondition [baaf000..baafd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.session.StandardManager.threadSleep\n(StandardManager.java:810)\n        at org.apache.catalina.session.StandardManager.run\n(StandardManager.java:869)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"WebappLoader[/examples]\" daemon prio=5 tid=0x0B17EEB0 nid=0xa78 waiting on \ncondition [ba6f000..ba6fd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.loader.WebappLoader.threadSleep\n(WebappLoader.java:1208)\n        at org.apache.catalina.loader.WebappLoader.run(WebappLoader.java:1328)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"Signal Dispatcher\" daemon prio=10 tid=0x009A8C90 nid=0xacc waiting on \ncondition [0..0]\n\n\"Finalizer\" daemon prio=9 tid=0x009A53A8 nid=0x50c in Object.wait() \n[ab1f000..ab1fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <02F6F8C0> (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:111)\n        - locked <02F6F8C0> (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:127)\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)\n\n\"Reference Handler\" daemon prio=10 tid=0x009A4008 nid=0xe4 in Object.wait() \n[aadf000..aadfd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <02F6F928> (a java.lang.ref.Reference$Lock)\n        at java.lang.Object.wait(Object.java:426)\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:113)\n        - locked <02F6F928> (a java.lang.ref.Reference$Lock)\n\n\"main\" prio=5 tid=0x00034858 nid=0xf54 runnable [7f000..7fc44]\n        at java.net.PlainSocketImpl.socketAccept(Native Method)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:353)\n        - locked <0346BC70> (a java.net.PlainSocketImpl)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:439)\n        at java.net.ServerSocket.accept(ServerSocket.java:410)\n        at org.apache.catalina.core.StandardServer.await\n(StandardServer.java:527)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:521)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n\n\"VM Thread\" prio=5 tid=0x009ECD00 nid=0x9f4 runnable\n\n\"VM Periodic Task Thread\" prio=10 tid=0x009A7980 nid=0xba8 waiting on condition\n\"Suspend Checker Thread\" prio=10 tid=0x009A82D0 nid=0x884 runnable\nStopping service Tomcat-Standalone\n\n========================= then ====================\nI restarted, I browsed to the same page ONCE from a Mac OS X IE 5.2.3.  Here is \nthe thread dump.  Notice the 4 threads at the top?  This is after shutting down \nIE 5.2 and powering off the Mac.  The threads are still there.\n\nAs I said before, maybe this is something flakey the OS X IE 5.2 is doing, but \nshouldn't these threads time out or get freed up when the Mac exits the browser \nand powers off?\n\nFull thread dump Java HotSpot(TM) Client VM (1.4.1_02-b06 mixed mode):\n\n\"http80-Processor8\" daemon prio=5 tid=0x0ADD45F0 nid=0xdf8 runnable \n[bfaf000..bfafd8c]\n        at java.net.PlainSocketImpl.socketAccept(Native Method)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:353)\n        - locked <030F4750> (a java.net.PlainSocketImpl)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:439)\n        at java.net.ServerSocket.accept(ServerSocket.java:410)\n        at org.apache.tomcat.util.net.DefaultServerSocketFactory.acceptSocket\n(DefaultServerSocketFactory.java:107)\n        at org.apache.tomcat.util.net.PoolTcpEndpoint.acceptSocket\n(PoolTcpEndpoint.java:387)\n        at org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:557)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:683)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Processor7\" daemon prio=5 tid=0x0ADD4408 nid=0x8b4 in Object.wait() \n[bf6f000..bf6fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <03577E28> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <03577E28> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Processor6\" daemon prio=5 tid=0x0ADD5980 nid=0x7d0 in Object.wait() \n[bf2f000..bf2fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <03577EA8> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <03577EA8> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Processor5\" daemon prio=5 tid=0x0B3619D0 nid=0x6a0 in Object.wait() \n[beef000..beefd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <03577F28> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <03577F28> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"TP-Monitor\" daemon prio=5 tid=0x0B335C00 nid=0xa8c in Object.wait() \n[beaf000..beafd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033E6548> (a \norg.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)\n        at org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable.run\n(ThreadPool.java:560)\n        - locked <033E6548> (a \norg.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"TP-Processor4\" daemon prio=5 tid=0x0B335000 nid=0x878 runnable \n[be6f000..be6fd8c]\n        at java.net.PlainSocketImpl.socketAccept(Native Method)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:353)\n        - locked <033DCA98> (a java.net.PlainSocketImpl)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:439)\n        at java.net.ServerSocket.accept(ServerSocket.java:410)\n        at org.apache.jk.common.ChannelSocket.accept(ChannelSocket.java:287)\n        at org.apache.jk.common.ChannelSocket.acceptConnections\n(ChannelSocket.java:581)\n        at org.apache.jk.common.SocketAcceptor.runIt(ChannelSocket.java:767)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:683)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"TP-Processor3\" daemon prio=5 tid=0x0B336658 nid=0x744 in Object.wait() \n[be2f000..be2fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033CF360> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <033CF360> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"TP-Processor2\" daemon prio=5 tid=0x0B336500 nid=0xdac in Object.wait() \n[bdef000..bdefd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033CF3E0> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <033CF3E0> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"TP-Processor1\" daemon prio=5 tid=0x0B35F488 nid=0xde0 in Object.wait() \n[bdaf000..bdafd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033CF460> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <033CF460> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Monitor\" prio=5 tid=0x0ADC3D00 nid=0x42c in Object.wait() \n[bd6f000..bd6fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033BE370> (a \norg.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)\n        at org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable.run\n(ThreadPool.java:560)\n        - locked <033BE370> (a \norg.apache.tomcat.util.threads.ThreadPool$MonitorRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Processor4\" daemon prio=5 tid=0x0ADC37A8 nid=0x29c in Object.wait() \n[bd2f000..bd2fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033BE3F8> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <033BE3F8> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Processor3\" daemon prio=5 tid=0x0AE19CD0 nid=0xa4 in Object.wait() \n[bcef000..bcefd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033BE478> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <033BE478> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Processor2\" daemon prio=5 tid=0x0AE196E8 nid=0x8a4 in Object.wait() \n[bcaf000..bcafd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033BE4F8> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <033BE4F8> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"http80-Processor1\" daemon prio=5 tid=0x0AE19590 nid=0x9e8 in Object.wait() \n[bc6f000..bc6fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <033BE578> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:426)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:656)\n        - locked <033BE578> (a \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"HostConfig[localhost]\" daemon prio=5 tid=0x0B29BE50 nid=0x9c0 waiting on \ncondition [bc2f000..bc2fd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.startup.HostConfig.threadSleep\n(HostConfig.java:824)\n        at org.apache.catalina.startup.HostConfig.run(HostConfig.java:848)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"StandardManager[/webdav]\" daemon prio=5 tid=0x0B29B2D0 nid=0xfdc waiting on \ncondition [bbef000..bbefd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.session.StandardManager.threadSleep\n(StandardManager.java:810)\n        at org.apache.catalina.session.StandardManager.run\n(StandardManager.java:869)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"StandardManager[/tomcat-docs]\" daemon prio=5 tid=0x0B016D60 nid=0xaf0 waiting \non condition [bbaf000..bbafd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.session.StandardManager.threadSleep\n(StandardManager.java:810)\n        at org.apache.catalina.session.StandardManager.run\n(StandardManager.java:869)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"StandardManager[]\" daemon prio=5 tid=0x0B316D10 nid=0x258 waiting on condition \n[bb6f000..bb6fd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.session.StandardManager.threadSleep\n(StandardManager.java:810)\n        at org.apache.catalina.session.StandardManager.run\n(StandardManager.java:869)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"StandardManager[/manager]\" daemon prio=5 tid=0x0B3207F0 nid=0xe8 waiting on \ncondition [bb2f000..bb2fd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.session.StandardManager.threadSleep\n(StandardManager.java:810)\n        at org.apache.catalina.session.StandardManager.run\n(StandardManager.java:869)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"StandardManager[/admin]\" daemon prio=5 tid=0x0B219E10 nid=0x958 waiting on \ncondition [baef000..baefd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.session.StandardManager.threadSleep\n(StandardManager.java:810)\n        at org.apache.catalina.session.StandardManager.run\n(StandardManager.java:869)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"StandardManager[/examples]\" daemon prio=5 tid=0x0B26A050 nid=0x9d0 waiting on \ncondition [baaf000..baafd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.session.StandardManager.threadSleep\n(StandardManager.java:810)\n        at org.apache.catalina.session.StandardManager.run\n(StandardManager.java:869)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"WebappLoader[/examples]\" daemon prio=5 tid=0x0B07BBF8 nid=0x9e0 waiting on \ncondition [ba6f000..ba6fd8c]\n        at java.lang.Thread.sleep(Native Method)\n        at org.apache.catalina.loader.WebappLoader.threadSleep\n(WebappLoader.java:1208)\n        at org.apache.catalina.loader.WebappLoader.run(WebappLoader.java:1328)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"Signal Dispatcher\" daemon prio=10 tid=0x009A8C90 nid=0x99c waiting on \ncondition [0..0]\n\n\"Finalizer\" daemon prio=9 tid=0x009A53A8 nid=0xec in Object.wait() \n[ab1f000..ab1fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <02F6F8C0> (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:111)\n        - locked <02F6F8C0> (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:127)\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)\n\n\"Reference Handler\" daemon prio=10 tid=0x009A4008 nid=0x1e8 in Object.wait() \n[aadf000..aadfd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <02F6F928> (a java.lang.ref.Reference$Lock)\n        at java.lang.Object.wait(Object.java:426)\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:113)\n        - locked <02F6F928> (a java.lang.ref.Reference$Lock)\n\n\"main\" prio=5 tid=0x00034858 nid=0x298 runnable [7f000..7fc44]\n        at java.net.PlainSocketImpl.socketAccept(Native Method)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:353)\n        - locked <033E6670> (a java.net.PlainSocketImpl)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:439)\n        at java.net.ServerSocket.accept(ServerSocket.java:410)\n        at org.apache.catalina.core.StandardServer.await\n(StandardServer.java:527)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:521)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n\n\"VM Thread\" prio=5 tid=0x009ECD00 nid=0x988 runnable\n\n\"VM Periodic Task Thread\" prio=10 tid=0x009A7980 nid=0xcc waiting on condition\n\"Suspend Checker Thread\" prio=10 tid=0x009A82D0 nid=0x98c runnable\nStopping service Tomcat-Standalone\n\n\n", "id": 54829, "time": "2004-03-29T18:38:41Z", "bug_id": 27960, "creation_time": "2004-03-29T18:38:41Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "remm@apache.org", "is_private": false, "id": 54832, "creation_time": "2004-03-29T18:54:52Z", "time": "2004-03-29T18:54:52Z", "bug_id": 27960, "text": "For this kind of questions, there's tomcat-user. For a quick summary: there's no\nbug here.\n\nAgain:\nIt is normal that processor threads are not destroyed. Look at the configuration\nparameters for the connector.\n", "attachment_id": null}, {"count": 7, "tags": [], "creator": "chuck@pcreducator.com", "attachment_id": null, "id": 54837, "time": "2004-03-29T20:53:42Z", "bug_id": 27960, "creation_time": "2004-03-29T20:53:42Z", "is_private": false, "text": "The evidence says otherwise... Every new and Mac that connects will spin up 4 \nmore of these threads.  The thread count continues to rise until the server \nfails, either with \"out of threads\" error, or \"out of memory while trying to \ncreate threads\".  When \"maxconnectors\" was set to the default of 75, it takes \nas few as 11 macs, each requesting only one page, to crash Tomcat.  Now explain \nto me how that is not a bug."}, {"count": 8, "tags": [], "bug_id": 27960, "attachment_id": null, "text": "Your thread dump looks perfectly normal, and the \"extra\" threads are ready to be\nreused. Please do not reopen the report (or I'll close it again), thanks.", "id": 54838, "time": "2004-03-29T21:00:26Z", "creator": "remm@apache.org", "creation_time": "2004-03-29T21:00:26Z", "is_private": false}]