[{"count": 0, "tags": [], "creator": "mathieu.malaterre@gmail.com", "attachment_id": 28115, "id": 152532, "time": "2012-01-02T15:22:34Z", "bug_id": 52413, "creation_time": "2012-01-02T15:22:34Z", "is_private": false, "text": "Created attachment 28115\ninput fo\n\nI have a very strange behavior for the following fo file:\n\n\n$ fop -d test.fo test.pdf\n...\n\n---------\n\njava.lang.IllegalArgumentException: factor < 0; was: -1\n\tat org.apache.fop.traits.MinOptMax.mult(MinOptMax.java:251)\n\tat org.apache.fop.layoutmgr.inline.TextLayoutManager.processWord(TextLayoutManager.java:825)\n\tat org.apache.fop.layoutmgr.inline.TextLayoutManager.getNextKnuthElements(TextLayoutManager.java:710)\n\tat org.apache.fop.layoutmgr.inline.LineLayoutManager.collectInlineKnuthElements(LineLayoutManager.java:639)\n\tat org.apache.fop.layoutmgr.inline.LineLayoutManager.getNextKnuthElements(LineLayoutManager.java:579)\n\tat org.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextChildElements(BlockStackingLayoutManager.java:571)\n\tat org.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextChildElements(BlockStackingLayoutManager.java:552)\n\tat org.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements(BlockStackingLayoutManager.java:280)\n\tat org.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:123)\n\tat org.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:115)\n\tat org.apache.fop.layoutmgr.FlowLayoutManager.getNextChildElements(FlowLayoutManager.java:199)\n\tat org.apache.fop.layoutmgr.FlowLayoutManager.addChildElements(FlowLayoutManager.java:140)\n\tat org.apache.fop.layoutmgr.FlowLayoutManager.addChildElements(FlowLayoutManager.java:129)\n\tat org.apache.fop.layoutmgr.FlowLayoutManager.getNextKnuthElements(FlowLayoutManager.java:70)\n\tat org.apache.fop.layoutmgr.PageBreaker.getNextKnuthElements(PageBreaker.java:216)\n\tat org.apache.fop.layoutmgr.AbstractBreaker.getNextBlockList(AbstractBreaker.java:692)\n\tat org.apache.fop.layoutmgr.PageBreaker.getNextBlockList(PageBreaker.java:149)\n\tat org.apache.fop.layoutmgr.PageBreaker.getNextBlockList(PageBreaker.java:132)\n\tat org.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:337)\n\tat org.apache.fop.layoutmgr.PageBreaker.doLayout(PageBreaker.java:85)\n\tat org.apache.fop.layoutmgr.PageSequenceLayoutManager.activateLayout(PageSequenceLayoutManager.java:107)\n\tat org.apache.fop.area.AreaTreeHandler.endPageSequence(AreaTreeHandler.java:238)\n\tat org.apache.fop.fo.pagination.PageSequence.endOfNode(PageSequence.java:120)\n\tat org.apache.fop.fo.FOTreeBuilder$MainFOHandler.endElement(FOTreeBuilder.java:349)\n\tat org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:177)\n\tat org.apache.xalan.transformer.TransformerIdentityImpl.endElement(TransformerIdentityImpl.java:1102)\n\tat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n\tat org.apache.xerces.xinclude.XIncludeHandler.endElement(Unknown Source)\n\tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n\tat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\n\tat org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:485)\n\tat org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:299)\n\tat org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:130)\n\tat org.apache.fop.cli.Main.startFOP(Main.java:174)\n\tat org.apache.fop.cli.Main.main(Main.java:205)"}, {"count": 1, "tags": [], "bug_id": 52413, "attachment_id": null, "text": "The crash does indeed happen in 1.0 but it is not present in trunk. The target PDF is correctly generated.", "id": 152549, "time": "2012-01-03T09:37:59Z", "creator": "lmpmbernardo@gmail.com", "creation_time": "2012-01-03T09:37:59Z", "is_private": false}, {"count": 2, "tags": [], "creator": "mathieu.malaterre@gmail.com", "text": "\n\n*** This bug has been marked as a duplicate of bug 49837 ***", "id": 152552, "time": "2012-01-03T10:02:33Z", "bug_id": 52413, "creation_time": "2012-01-03T10:02:33Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 52413, "attachment_id": null, "text": "batch transition to closed for remaining resolved bugs", "id": 156369, "time": "2012-04-01T13:42:35Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T13:42:35Z", "is_private": false}]