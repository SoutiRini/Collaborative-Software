[{"count": 0, "tags": [], "bug_id": 34191, "attachment_id": null, "text": "While building the trunk from the SVN reposotory. The build system quits with\nthe following error:\nBUILD FAILED: java.lang.NoClassDefFoundError: org/apache/xpath/XPathAPI\nThis is at the prepare-cocoon task.\n\nI've tried building against cocoon 2.1.7 and the latest 2.1.x branch both result\nin the same error. I'm using java 1.5 and building in Eclipse 3.02. I couldn't\nbuild against cocoon 2.1.6 because I'm using java 1.5 if I try to it tells me\nthen that it conflicts with the 1.3 requirement.\n\nGrtz,\nNoodle", "id": 72899, "time": "2005-03-26T21:20:55Z", "creator": "noodle@home.nl", "creation_time": "2005-03-26T21:20:55Z", "is_private": false}, {"count": 1, "tags": [], "creator": "gregor@apache.org", "attachment_id": null, "id": 72902, "time": "2005-03-26T23:32:56Z", "bug_id": 34191, "creation_time": "2005-03-26T23:32:56Z", "is_private": false, "text": "lenya currently does not support jdk 1.5\n\n"}, {"count": 2, "tags": [], "creator": "gregor@apache.org", "attachment_id": null, "id": 72904, "time": "2005-03-27T00:46:35Z", "bug_id": 34191, "creation_time": "2005-03-27T00:46:35Z", "is_private": false, "text": "the likely reason is that jdk 1.5 uses a xerces / xalan version that does not\nhave the necessary classes. that's why the lenya build script has xerces in it's\nclasspath, which i recommend you do too."}, {"count": 3, "tags": [], "creator": "gregor@apache.org", "attachment_id": null, "id": 73043, "time": "2005-03-30T06:22:43Z", "bug_id": 34191, "creation_time": "2005-03-30T06:22:43Z", "is_private": false, "text": "we need to have xalan on our build cp to make this go away. "}, {"count": 4, "tags": [], "bug_id": 34191, "text": "Hi,\n\nFirst of all thanks for the replies.\nI've did what you've said. I've added all the cocoon and leny jar to the\nclasspath and well with java 1.4 lenya compiles.\nHowever when compiling Leny with java 1.5 I now get:\n\nBUILD FAILED: /home/noodle/workspace/lenya-1.4.x/src/targets/init-build.xml:73:\nTransformerException: javax.xml.transform.TransformerException:\njava.io.FileNotFoundException:\nfile:/home/noodle/workspace/lenya-1.4.x/build/lenya/webapp/sitemap.xmap (No such\nfile or directory)\n\nFunny thing is, the sitmap.xmap file does exist.\n\nThis is still during the prepare-cocoon task.\n\nIf I shouldn't be bothering you with this, please say so. But I'd like to help\nin getting this thing going under java 1.5", "id": 73118, "attachment_id": null, "creator": "noodle@home.nl", "creation_time": "2005-03-30T23:12:07Z", "time": "2005-03-30T23:12:07Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 34191, "attachment_id": null, "text": "(In reply to comment #4)\n\n> BUILD FAILED: /home/noodle/workspace/lenya-1.4.x/src/targets/init-build.xml:73:\n> TransformerException: javax.xml.transform.TransformerException:\n> java.io.FileNotFoundException:\n> file:/home/noodle/workspace/lenya-1.4.x/build/lenya/webapp/sitemap.xmap (No such\n> file or directory)\n\nthis is a seperate issue: http://issues.apache.org/bugzilla/show_bug.cgi?id=33966", "id": 73120, "time": "2005-03-30T23:18:05Z", "creator": "gregor@apache.org", "creation_time": "2005-03-30T23:18:05Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 34191, "attachment_id": null, "text": "(In reply to comment #5)\n> (In reply to comment #4)\n> \n> > BUILD FAILED: /home/noodle/workspace/lenya-1.4.x/src/targets/init-build.xml:73:\n> > TransformerException: javax.xml.transform.TransformerException:\n> > java.io.FileNotFoundException:\n> > file:/home/noodle/workspace/lenya-1.4.x/build/lenya/webapp/sitemap.xmap (No such\n> > file or directory)\n> \n> this is a seperate issue: http://issues.apache.org/bugzilla/show_bug.cgi?id=33966\n\n\ni was wrong. this was due to an old copy of the XConfToolTask. fixed now.", "id": 75204, "time": "2005-05-23T00:26:38Z", "creator": "gregor@apache.org", "creation_time": "2005-05-23T00:26:38Z", "is_private": false}, {"count": 7, "attachment_id": 17516, "bug_id": 34191, "text": "Created attachment 17516\npatch for build.sh to set the classpath including xalan\n\npatch for build.sh to add the endorsed libs from cocoon to the ant classpath", "id": 85114, "time": "2006-01-27T15:52:14Z", "creator": "jmetzner@apache.org", "creation_time": "2006-01-27T15:52:14Z", "tags": [], "is_private": false}, {"count": 8, "tags": [], "creator": "jmetzner@apache.org", "attachment_id": 17517, "id": 85117, "time": "2006-01-27T16:30:38Z", "bug_id": 34191, "creation_time": "2006-01-27T16:30:38Z", "is_private": false, "text": "Created attachment 17517\npatch for build.sh to set the classpath including xalan\n\nsorry some typos - should work now"}, {"count": 9, "tags": [], "bug_id": 34191, "text": "(In reply to comment #8)\n> patch for build.sh to set the classpath including xalan\n\nWhy did you comment out adding the endorsed libs to the class path in your\nsecond patch?", "id": 85749, "time": "2006-02-14T02:44:38Z", "creator": "chdh@inventec.ch", "creation_time": "2006-02-14T02:44:38Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 34191, "attachment_id": 17682, "text": "Created attachment 17682\npatch for build.bat to set the classpath including xalan\n\nAnalogous patch for build.bat.\nAdds endorsed libs from Cocoon for compiling Lenya with Java 1.5.\n\nThe value of the COCOON_HOME variable has to be adjusted manually. (I don't\nknow a good method for a Windows batch file to extract this value from\nlocal.build.properties.)", "id": 85750, "time": "2006-02-14T04:18:44Z", "creator": "chdh@inventec.ch", "creation_time": "2006-02-14T04:18:44Z", "is_private": false}, {"count": 11, "tags": [], "creator": "agallardo@agsoftware.dnsalias.com", "attachment_id": null, "id": 88867, "time": "2006-05-07T04:46:50Z", "bug_id": 34191, "creation_time": "2006-05-07T04:46:50Z", "is_private": false, "text": "I activated java 1.5 support for Linux. Since Cocoon is now placed into\nexternals/, we can take advantage of this and use cocoon endorsed libs dir directly.\n\nMissing is the support for windows. Somebody can take this job and close the\nbug? Many thanks in advance."}, {"count": 12, "tags": [], "bug_id": 34191, "text": "Created attachment 18568\npatch for build.bat revision 419866 to work with winXP/JDK1.5\n\nI just adjusted the privious patch to cope with Cocoon under\nexternals\\cocoon_2_1_x", "id": 90987, "attachment_id": 18568, "creator": "michael@wohlfart.net", "creation_time": "2006-07-07T12:20:49Z", "time": "2006-07-07T12:20:49Z", "is_private": false}, {"count": 13, "tags": [], "creator": "thorsten@apache.org", "attachment_id": null, "id": 91686, "time": "2006-07-28T08:58:31Z", "bug_id": 34191, "creation_time": "2006-07-28T08:58:31Z", "is_private": false, "text": "Committed revision 426442 the patch from Michael Wohlfart (id=18568). \nThx Micheal and everyone else who helped solving this issue."}]