[{"count": 0, "tags": [], "creator": "nitin_sood@intersolutions.stpn.soft.net", "attachment_id": null, "text": "We are using Apache version 2.0.46 with Tomcat version 4.1.29. The name of web \nserver is TAAPPST1.xpn.xerox.com and the ajp connector is configured on port \n8009. Apache is running on port 80 and Tomcat is running on port 8080.\n\nApache hangs on irregular intervals and it needs to be restarted.\n\nHere are the errors visible in Apache error logs:-\n\n[Thu Dec 16 13:14:38 2004] [error] workerEnv.processCallbacks() Error reading \nreply \n[Thu Dec 16 13:14:38 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 120000 \n[Thu Dec 16 13:14:38 2004] [error] Error ajp_process_callback - write failed \n[Thu Dec 16 13:14:38 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3 \n[Thu Dec 16 13:14:38 2004] [error] Error ajp_process_callback - write failed \n[Thu Dec 16 13:14:38 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3 \n[Thu Dec 16 13:14:38 2004] [error] ajp13.service() Error  forwarding \najp13:taappst1.xpn.xerox.com:8009 1 0 \n[Thu Dec 16 13:14:38 2004] [error] mod_jk.handler() Error connecting to tomcat \n3 \n[Thu Dec 16 13:14:38 2004] [error] Error ajp_process_callback - write failed \n[Thu Dec 16 13:14:38 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3 \n[Thu Dec 16 13:14:38 2004] [error] Error ajp_process_callback - write failed \n[Thu Dec 16 13:14:38 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3 \n[Thu Dec 16 13:14:38 2004] [error] ajp13.service() Error  forwarding \najp13:taappst1.xpn.xerox.com:8009 1 0 \n[Thu Dec 16 13:14:38 2004] [error] mod_jk.handler() Error connecting to tomcat \n3 \n[Thu Dec 16 13:15:36 2004] [error] channelSocket.receive(): Error receiving \nmessage body -1 0 \n[Thu Dec 16 13:15:36 2004] [error] workerEnv.processCallbacks() Error reading \nreply \n[Thu Dec 16 13:15:36 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 120000 \n[Thu Dec 16 13:15:37 2004] [error] channelSocket.receive(): Error receiving \nmessage body -1 0 \n[Thu Dec 16 13:15:37 2004] [error] workerEnv.processCallbacks() Error reading \nreply \n[Thu Dec 16 13:15:37 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 120000 \n[Thu Dec 16 13:15:37 2004] [error] Error ajp_process_callback - write failed \n[Thu Dec 16 13:15:37 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3 \n[Thu Dec 16 13:15:37 2004] [error] Error ajp_process_callback - write failed \n[Thu Dec 16 13:15:37 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3 \n[Thu Dec 16 13:15:37 2004] [error] ajp13.service() Error  forwarding \najp13:taappst1.xpn.xerox.com:8009 1 0 \n[Thu Dec 16 13:15:37 2004] [error] mod_jk.handler() Error connecting to tomcat \n3 \n[Thu Dec 16 13:15:37 2004] [error] Error ajp_process_callback - write failed \n[Thu Dec 16 13:15:37 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3 \n[Thu Dec 16 13:15:37 2004] [error] Error ajp_process_callback - write failed \n[Thu Dec 16 13:15:37 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3 \n[Thu Dec 16 13:15:37 2004] [error] ajp13.service() Error  forwarding \najp13:taappst1.xpn.xerox.com:8009 1 0 \n[Thu Dec 16 13:15:37 2004] [error] mod_jk.handler() Error connecting to tomcat \n3 \n[Thu Dec 16 13:21:06 2004] [error] ajp13.service() Error sending initial post -\n1 0 0", "id": 69394, "time": "2005-01-07T21:15:56Z", "bug_id": 32998, "creation_time": "2005-01-07T21:15:56Z", "is_private": false}, {"count": 1, "tags": [], "creator": "nitin_sood@intersolutions.stpn.soft.net", "is_private": false, "text": "For another customer running on Solaris server also, we are getting similar \nerrors.\n\nThe configuration of this server is :\n\n\nApache: 2.0.48 \nJDK:  j2sdk1.4.1_05 \nTomcat:  jakarta-tomcat-4.1.27 \n\nHere also the restart of Apache, Tomcat was required to solve the issue\n\n[Wed May 05 17:28:10 2004] [notice] caught SIGTERM, shutting down\n[Wed May 05 17:28:16 2004] [error] env.createBean2(): Error getting factory for \n[level] (null)\n[Wed May 05 17:28:16 2004] [error] config.update(): Can't create level\n[Wed May 05 17:28:16 2004] [notice] Apache/2.0.48 (Unix) mod_jk2/2.0.2 \nconfigured -- resuming normal operations\n[Wed May 05 17:28:16 2004] [error] mod_jk child init 1 0\n[Wed May 05 17:41:53 2004] [error] [client 172.30.240.20] File does not \nexist: /myapps/employ4/apache/htdocs/emlpoy4\n[Wed May 12 19:23:02 2004] [error] channelSocket.receive(): Error receiving \nmessage body -1 131\n[Wed May 12 19:23:02 2004] [error] workerEnv.processCallbacks() Error reading \nreply\n[Wed May 12 19:23:02 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 120000\n[Wed May 12 19:23:20 2004] [error] channelSocket.receive(): Error receiving \nmessage body -1 131\n[Wed May 12 19:23:20 2004] [error] workerEnv.processCallbacks() Error reading \nreply\n[Wed May 12 19:23:20 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 120000\n[Wed May 12 19:23:20 2004] [error] channelSocket.open() connect failed \n172.27.204.44:8009 146 Connection refused \n[Wed May 12 19:23:20 2004] [error] ajp13.connect() failed \najp13:172.27.204.44:8009\n[Wed May 12 19:23:20 2004] [error] ajp13.service() failed to connect endpoint \nerrno=146 Connection refused\n[Wed May 12 19:23:20 2004] [error] ajp13.service() Error  forwarding \najp13:172.27.204.44:8009 1 1\n[Wed May 12 19:23:20 2004] [error] mod_jk.handler() Error connecting to tomcat \n120000\n[Wed May 12 19:40:07 2004] [error] channelSocket.open() connect failed \n172.27.204.44:8009 146 Connection refused \n[Wed May 12 19:40:07 2004] [error] ajp13.connect() failed \najp13:172.27.204.44:8009\n[Wed May 12 19:40:07 2004] [error] ajp13.service() failed to connect endpoint \nerrno=146 Connection refused\n[Wed May 12 19:40:07 2004] [error] ajp13.service() Error  forwarding \najp13:172.27.204.44:8009 1 1\n[Wed May 12 19:40:07 2004] [error] mod_jk.handler() Error connecting to tomcat \n120000\n[Wed May 12 19:40:09 2004] [error] channelSocket.open() connect failed \n172.27.204.44:8009 146 Connection refused \n[Wed May 12 19:40:09 2004] [error] ajp13.connect() failed \najp13:172.27.204.44:8009\n[Wed May 12 19:40:09 2004] [error] ajp13.service() failed to connect endpoint \nerrno=146 Connection refused\n[Wed May 12 19:40:09 2004] [error] ajp13.service() Error  forwarding \najp13:172.27.204.44:8009 1 1\n[Wed May 12 19:40:09 2004] [error] mod_jk.handler() Error connecting to tomcat \n120000\n[Wed May 12 19:40:11 2004] [error] channelSocket.open() connect failed \n172.27.204.44:8009 146 Connection refused \n[Wed May 12 19:40:11 2004] [error] ajp13.connect() failed \najp13:172.27.204.44:8009\n[Wed May 12 19:40:11 2004] [error] ajp13.service() failed to connect endpoint \nerrno=146 Connection refused\n[Wed May 12 19:40:11 2004] [error] ajp13.service() Error  forwarding \najp13:172.27.204.44:8009 1 1\n[Wed May 12 19:40:11 2004] [error] mod_jk.handler() Error connecting to tomcat \n120000\n[Wed May 12 19:40:40 2004] [error] channelSocket.open() connect failed \n172.27.204.44:8009 146 Connection refused \n[Wed May 12 19:40:40 2004] [error] ajp13.connect() failed \najp13:172.27.204.44:8009\n[Wed May 12 19:40:40 2004] [error] ajp13.service() failed to connect endpoint \nerrno=146 Connection refused\n[Wed May 12 19:40:40 2004] [error] ajp13.service() Error  forwarding \najp13:172.27.204.44:8009 1 1\n[Wed May 12 19:40:40 2004] [error] mod_jk.handler() Error connecting to tomcat \n120000\n[Wed May 12 19:43:49 2004] [error] channelSocket.receive(): Error receiving \nmessage body -1 131\n[Wed May 12 19:43:49 2004] [error] workerEnv.processCallbacks() Error reading \nreply\n[Wed May 12 19:43:49 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 120000\n[Wed May 12 19:44:06 2004] [error] channelSocket.receive(): Error receiving \nmessage body -1 131\n[Wed May 12 19:44:06 2004] [error] workerEnv.processCallbacks() Error reading \nreply\n[Wed May 12 19:44:06 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 120000\n[Wed May 12 19:44:06 2004] [error] Error ajp_process_callback - write failed\n[Wed May 12 19:44:06 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3\n[Wed May 12 19:44:06 2004] [error] Error ajp_process_callback - write failed\n[Wed May 12 19:44:06 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3\n[Wed May 12 19:44:06 2004] [error] ajp13.service() Error  forwarding \najp13:172.27.204.44:8009 1 0\n[Wed May 12 19:44:06 2004] [error] mod_jk.handler() Error connecting to tomcat 3\n[Wed May 12 19:44:15 2004] [error] Error ajp_process_callback - write failed\n[Wed May 12 19:44:15 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3\n[Wed May 12 19:44:15 2004] [error] Error ajp_process_callback - write failed\n[Wed May 12 19:44:15 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3\n[Wed May 12 19:44:15 2004] [error] ajp13.service() Error  forwarding \najp13:172.27.204.44:8009 1 0\n[Wed May 12 19:44:15 2004] [error] mod_jk.handler() Error connecting to tomcat 3\n[Wed May 12 19:44:17 2004] [error] Error ajp_process_callback - write failed\n[Wed May 12 19:44:17 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3\n[Wed May 12 19:44:17 2004] [error] Error ajp_process_callback - write failed\n[Wed May 12 19:44:17 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3\n[Wed May 12 19:44:17 2004] [error] ajp13.service() Error  forwarding \najp13:172.27.204.44:8009 1 0\n[Wed May 12 19:44:17 2004] [error] mod_jk.handler() Error connecting to tomcat 3\n[Thu May 13 08:15:43 2004] [error] channelSocket.open() connect failed \n172.27.204.44:8009 146 Connection refused \n[Thu May 13 08:15:43 2004] [error] ajp13.connect() failed \najp13:172.27.204.44:8009\n[Thu May 13 08:15:43 2004] [error] ajp13.service() failed to connect endpoint \nerrno=146 Connection refused\n[Thu May 13 08:15:43 2004] [error] ajp13.service() Error  forwarding \najp13:172.27.204.44:8009 1 1\n[Thu May 13 08:15:43 2004] [error] mod_jk.handler() Error connecting to tomcat \n120000\n[Thu May 13 08:16:01 2004] [error] [client 172.30.21.204] File does not \nexist: /myapps/employ4/apache/htdocs/favicon.ico\n[Thu May 13 10:37:19 2004] [error] channelSocket.open() connect failed \n172.27.204.44:8009 146 Connection refused \n[Thu May 13 10:37:19 2004] [error] ajp13.connect() failed \najp13:172.27.204.44:8009\n[Thu May 13 10:37:19 2004] [error] ajp13.service() failed to connect endpoint \nerrno=146 Connection refused\n[Thu May 13 10:37:19 2004] [error] ajp13.service() Error  forwarding \najp13:172.27.204.44:8009 1 1\n[Thu May 13 10:37:19 2004] [error] mod_jk.handler() Error connecting to tomcat \n120000\n[Thu May 13 10:57:47 2004] [error] Error ajp_process_callback - write failed\n[Thu May 13 10:57:47 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3\n[Thu May 13 10:57:47 2004] [error] Error ajp_process_callback - write failed\n[Thu May 13 10:57:47 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3\n[Thu May 13 10:57:47 2004] [error] ajp13.service() Error  forwarding \najp13:172.27.204.44:8009 1 0\n[Thu May 13 10:57:47 2004] [error] mod_jk.handler() Error connecting to tomcat 3\n[Fri May 14 04:37:35 2004] [error] channelSocket.receive(): Error receiving \nmessage body -1 131\n[Fri May 14 04:37:35 2004] [error] workerEnv.processCallbacks() Error reading \nreply\n[Fri May 14 04:37:35 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 120000\n[Fri May 14 04:37:37 2004] [error] channelSocket.receive(): Error receiving \nmessage body -1 131\n[Fri May 14 04:37:37 2004] [error] workerEnv.processCallbacks() Error reading \nreply\n[Fri May 14 04:37:37 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 120000\n[Fri May 14 09:52:12 2004] [error] channelSocket.receive(): Error receiving \nmessage body -1 131\n[Fri May 14 09:52:12 2004] [error] workerEnv.processCallbacks() Error reading \nreply\n[Fri May 14 09:52:12 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 120000\n[Fri May 14 09:53:27 2004] [error] channelSocket.receive(): Error receiving ", "id": 69410, "time": "2005-01-07T23:42:51Z", "bug_id": 32998, "creation_time": "2005-01-07T23:42:51Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 32998, "text": "I see this for connections made to Apache after restarting Tomcat but not restarting Apache.  They \nresolve shortly after Tomcat is up and running again.  A restart (graceful) of Apache also immediately \nclears the errors.  This is with Apache 1.3.33, mod_jk 1.2.8, Tomcat 5.5.4.", "count": 2, "id": 69854, "time": "2005-01-20T01:51:37Z", "creator": "jprosser@u.washington.edu", "creation_time": "2005-01-20T01:51:37Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 32998, "attachment_id": null, "id": 72578, "time": "2005-03-17T13:12:29Z", "creator": "mturk@apache.org", "creation_time": "2005-03-17T13:12:29Z", "is_private": false, "text": "Those are all related to mod_jk2.\nmod_jk2 is not supported any more, please use mod_jk."}]