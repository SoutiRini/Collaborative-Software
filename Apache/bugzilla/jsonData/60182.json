[{"count": 0, "tags": [], "bug_id": 60182, "attachment_id": null, "id": 194048, "time": "2016-09-28T01:21:44Z", "creator": "a.pietila@cpanel.net", "creation_time": "2016-09-28T01:21:44Z", "is_private": false, "text": "In modules/ssl/ssl_util_stapling.c, the following code is used to determine whether to throw an OCSP TryLater failure:\n\n\n    *prsp = modssl_dispatch_ocsp_request(&uri, mctx->stapling_responder_timeout,\n                                         req, conn, vpool);\n\n    apr_pool_destroy(vpool);\n\n    if (!*prsp) {\n        ap_log_error(APLOG_MARK, APLOG_ERR, 0, s, APLOGNO(01941)\n                     \"stapling_renew_response: responder error\");\n        if (mctx->stapling_fake_trylater) {\n            *prsp = OCSP_response_create(OCSP_RESPONSE_STATUS_TRYLATER, NULL);\n        }\n        else {\n            goto done;\n        }\n    }\n\n\nThe mctx->stapling_fake_trylater corresponds with configuration option SSLStaplingFakeTryLater. Per < https://httpd.apache.org/docs/trunk/mod/mod_ssl.html#sslstaplingfaketrylater >:\n\nOnly effective if SSLStaplingReturnResponderErrors is also enabled.\n\nHowever, the configuration variable SSLStaplingReturnResponderErrors is not referenced in the above code. As a result, the fake TryLater is sent if SSLStaplingFakeTryLater is either enabled or non-existant in the configuration file, regardless of presence or absence of SSLStaplingReturnResponderErrors. This causes connectivity issues with Firefox when, say, DNS for the OCSP responder fails."}]