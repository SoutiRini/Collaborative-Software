[{"count": 0, "tags": [], "text": "I believe I found a bug in the\norg.apache.jmeter.protocol.jdbc.util.DBConnectionManager class.\n\nThe errant symptom was a NullPointerException being thrown with the following \nstack trace:\njava.lang.NullPointerException\n        at java.util.Hashtable.get(Unknown Source)\n        at \norg.apache.jmeter.protocol.jdbc.util.DBConnectionManager.releaseConnection\n(DBConnectionManager.java:211)\n        at org.apache.jmeter.protocol.jdbc.sampler.JDBCSampler.sample\n(JDBCSampler.java:169)\n        at org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:138)\n        at java.lang.Thread.run(Unknown Source)\n\n\nThe conditions under which this exception was triggered were as follow:\n- Test Plan\n    - Test Group (number of threads 1; ramp-up 0; loop count 100)\n        - JDBC Database Connection Pool Defaults (pool size 5; max usage 50)\n        - JDBC Database Login Defaults (...)\n        - JDBC Request (pool size 5; max usage 50; query=\"[valid query]\")\n        - Constant Timer (thread delay 100 ms)\n        - Graph Results\n        - View Results Tree\n\n\nThe exception is thrown in either of the following two scenarios:\nUser \"starts\" the test (from the \"Run\" menu)\nUser can either allow the test to complete or not...\nUser \"stops\" the test (from the \"Run\" menu)\n\nAny starting or stopping of the test after this point, including the last \nmentioned stop, yields the aforementioned NullPointerException.\n\nThe error is a simple one, though, and can be easily fixed.\n\nThe solution is as follows:\nInsert between line 190 and line 191 the following lines of code:\n\t if(connectionArray==null) {\n\t\tsetup(key);\n\t\tconnectionArray=(ConnectionObject[])connections.get(key);\n\t }", "is_private": false, "id": 23583, "creator": "obernstein@commercehub.com", "time": "2002-09-27T21:49:25Z", "bug_id": 13100, "creation_time": "2002-09-27T21:49:25Z", "attachment_id": null}, {"count": 1, "text": "Again, the solution is as follows:\nInsert between line 190 and line 191 the following lines of code:\n\t if(connectionArray==null) {\n\t\tsetup(key);\n\t\tconnectionArray=(ConnectionObject[])connections.get(key);\n\t }", "creator": "obernstein@commercehub.com", "attachment_id": null, "id": 23584, "time": "2002-09-27T21:50:10Z", "bug_id": 13100, "creation_time": "2002-09-27T21:50:10Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 13100, "attachment_id": null, "id": 23586, "time": "2002-09-27T22:00:54Z", "creator": "obernstein@commercehub.com", "creation_time": "2002-09-27T22:00:54Z", "is_private": false, "text": "My apologies; forgot to mention the class in error:\nInsert between line 190 and line 191 of class,\n    org.apache.jmeter.protocol.jdbc.util.DBConnectionManager\nthe following lines of code:\n\t if(connectionArray==null) {\n\t\tsetup(key);\n\t\tconnectionArray=(ConnectionObject[])connections.get(key);\n\t }"}, {"count": 3, "attachment_id": null, "creator": "jsalvata@atg.com", "is_private": false, "id": 28333, "time": "2002-12-27T16:15:21Z", "bug_id": 13100, "creation_time": "2002-12-27T16:15:21Z", "tags": [], "text": "Marking all bugs RESOLVED before JMeter 1.8's release date as VERIFIED.\nYes, it's pretty poor QA procedure, but there's bugs here lingering since JMeter\n1.6, and we need to clean up a little."}, {"count": 4, "tags": [], "creator": "jsalvata@atg.com", "attachment_id": null, "id": 28555, "creation_time": "2002-12-29T14:20:30Z", "time": "2002-12-29T14:20:30Z", "bug_id": 13100, "text": "Bulk-closing all bugs RESOLVED before JMeter 1.8 release date.", "is_private": false}]