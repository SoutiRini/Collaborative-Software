[{"count": 0, "attachment_id": null, "bug_id": 42158, "is_private": false, "id": 101859, "time": "2007-04-18T04:21:16Z", "creator": "alf@i100.no", "creation_time": "2007-04-18T04:21:16Z", "tags": [], "text": "The code in MultipartUrlConfig.java that currently handles the parsing of\nmultipart/form-data request is vunerable.\nIf a multipart section contains any header except \"Content-Disposition:\nform-data;\", for example a \"Content-Type: text/plain\", the parsing uses\neverything after the first headerline as the value of the form parameter.\n\nThe same problem is present for file uploads\n\nI suggest to add support for having any headers in the multipar sections."}, {"count": 1, "tags": [], "text": "Created attachment 19988\nSuggested patch\n\nThis suggested patch uses regular expression to find values for headers we need\nduring parsing of multipart sections. Headers which are not used, are ignored.\nThis patch also sets the value for the parameter correctly.\n\nThis patch also adds a number of unit tests for parsing of http posting of\nmultipart/form-data and file uploads.", "is_private": false, "bug_id": 42158, "id": 101860, "time": "2007-04-18T04:23:31Z", "creator": "alf@i100.no", "creation_time": "2007-04-18T04:23:31Z", "attachment_id": 19988}, {"count": 2, "attachment_id": 19989, "bug_id": 42158, "text": "Created attachment 19989\nUpdated patch\n\nSame patch as above, but add if test to only set file parameters in sampler, if\na file name is present. If you have a form with both fields and file upload\nfields, then there will be multipart section for the the file upload fields,\nwith filename=\"\" if you do not specify a file for it. It is only confusing to\nset the mime type and file field values in the sampler in this case.", "id": 101864, "time": "2007-04-18T05:07:53Z", "creator": "alf@i100.no", "creation_time": "2007-04-18T05:07:53Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "text": "Created attachment 19990\nUpdated patch\n\nThis updated patch adds the private method addNonEncodedArgument, so that in\nthe sampler that is put into the test plan, the \"Encode?\" checkbox is off.\nA multipart/form-data request that is sent by Jmeter does not use the \"Encode?\"\nsetting at all, because multipart/form-data values are not url encoded.\nSo I think it is less likely to confuse the user if the checkbox is always off.", "is_private": false, "id": 101866, "creator": "alf@i100.no", "time": "2007-04-18T05:24:29Z", "bug_id": 42158, "creation_time": "2007-04-18T05:24:29Z", "attachment_id": 19990}, {"count": 4, "tags": [], "text": "The test case testPostMultipartFormData() fails the checkArgument() tests - \nthe arg.isAlwaysEncoded() comparisons fail. I'm not sure if this is a test \nerror or a bug ...", "is_private": false, "id": 101898, "creator": "sebb@apache.org", "time": "2007-04-18T14:49:00Z", "bug_id": 42158, "creation_time": "2007-04-18T14:49:00Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "alf@i100.no", "attachment_id": 19995, "text": "Created attachment 19995\nUpdated patch\n\nI'm sorry, but I forgot to update the unit tests after the last minute change\nto add the private method addNonEncodedArgument.\n\nI have now updated the unit tests, because the \"Encode?\" will always be false\nnow, for multipart/form-data requests.\n\nI have also included an unrelated change to the\nTestHTTPSamplersAgainstHttpMirrorServer, which was lost when patches where\napplied for it yesterday.", "id": 101915, "time": "2007-04-18T23:07:16Z", "bug_id": 42158, "creation_time": "2007-04-18T23:07:16Z", "is_private": false}, {"count": 6, "attachment_id": null, "bug_id": 42158, "is_private": false, "id": 101958, "time": "2007-04-19T14:05:20Z", "creator": "sebb@apache.org", "creation_time": "2007-04-19T14:05:20Z", "tags": [], "text": "Thanks - applied to SVN in r530547"}]