[{"count": 0, "tags": [], "bug_id": 50449, "attachment_id": null, "text": "When a methodexpression with arguments is invoked in a JSF composite component, Tomcat 7.0.5 EL fails to locate the right method. This works fine in Glassfish 3.0.1, so it's likely not a JSF/Facelets issue.\n\nBelow testcase requires the Mojarra 2.0.3 API and Impl JAR's in /WEB-INF/lib.\n\ntest.xhtml\n----------------------------------------\n<!DOCTYPE html>\n<html lang=\"en\"\n    xmlns:h=\"http://java.sun.com/jsf/html\"\n    xmlns:cc=\"http://java.sun.com/jsf/composite/components\">\n    <h:head>\n        <title>Test</title>\n    </h:head>\n    <h:body>\n        <h1>Inline components</h1>\n        <h:form>\n            <h:commandButton value=\"submit without argument\" \n                action=\"#{bean.submit}\" />\n            <h:commandButton value=\"submit with argument\" \n                action=\"#{bean.submit('test')}\" />\n        </h:form>    \n        <h1>Composite component</h1>\n        <cc:test bean=\"#{bean}\" />\n    </h:body>  \n</html>\n----------------------------------------\n\nresources/components/test.xhtml\n----------------------------------------\n<!DOCTYPE html>\n<html lang=\"en\"\n    xmlns:h=\"http://java.sun.com/jsf/html\"\n    xmlns:cc=\"http://java.sun.com/jsf/composite\">\n    <cc:interface>\n        <cc:attribute name=\"bean\" required=\"true\" />\n    </cc:interface>\n    <cc:implementation>\n        <h:form>\n            <h:commandButton value=\"submit without argument\" \n                action=\"#{cc.attrs.bean.submit}\" />\n            <h:commandButton value=\"submit with argument\"\n                action=\"#{cc.attrs.bean.submit('test')}\" />\n        </h:form>    \n    </cc:implementation>\n</html>\n----------------------------------------\n\ncom.example.Bean\n----------------------------------------\npackage com.example;\n\nimport javax.faces.bean.ManagedBean;\nimport javax.faces.bean.RequestScoped;\n\n@ManagedBean\n@RequestScoped\npublic class Bean {\n    public void submit() { \n        System.out.println(\"submit\");\n    }\n    \n    public void submit(String string) {\n        System.out.println(\"submit with string: \" + string);\n    }\n}\n----------------------------------------\n\nWhen running on Tomcat 7.0.5, the submit with argument on a JSF composite component will submit to the method without argument. When the method without argument is outcommented in bean, a javax.el.MethodNotFoundException is been thrown. While not immediately visible in the stacktrace, under the covers Tomcat seems to be returning the wrong method for the method expression.", "id": 142550, "time": "2010-12-09T21:46:12Z", "creator": "balusc@gmail.com", "creation_time": "2010-12-09T21:46:12Z", "is_private": false}, {"text": "The Mojarra download pages are currently empty so I tested 7.0.x (trunk) with MyFaces 2.0.2 and all works as expected.", "tags": [], "bug_id": 50449, "attachment_id": null, "count": 1, "id": 142602, "time": "2010-12-12T16:21:35Z", "creator": "markt@apache.org", "creation_time": "2010-12-12T16:21:35Z", "is_private": false}, {"count": 2, "tags": [], "creator": "bernhard.keprt@gmail.com", "text": "I also experience this problem.\nI use Tomcat 7.0.5 BETA, JSF-SUN RI 2.0.2.\n\nFor me, its a message like this:\njavax.el.MethodNotFoundException: /resources/components/sortableColumn.xhtml @22,74 action=\"#{cc.attrs.model.changeOrder('test', 'test')}\": Method not found: at.compax.aax2sv.model.CollectionModel@4741e072.changeOrder()", "id": 143228, "time": "2011-01-10T06:57:21Z", "bug_id": 50449, "creation_time": "2011-01-10T06:57:21Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "markt@apache.org", "text": "As I said, this works for me when tested with the provided test case.\n\nIf this doesn't work for you, you will need to provide the simplest a test case that demonstrates this.", "id": 143229, "time": "2011-01-10T07:29:15Z", "bug_id": 50449, "creation_time": "2011-01-10T07:29:15Z", "is_private": false, "attachment_id": null}]