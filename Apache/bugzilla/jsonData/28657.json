[{"count": 0, "tags": [], "text": "I'm using MultiViews for content negotiation, as described at\nhttp://tranchant.plus.com/notes/multiviews.\n\nI notice that mod_negotiation adds a Content-Location header to each request,\nwhich reveals the actual filename chosen. The URL given above details the\nauthors discovery that mod_negotiation adds this header to some sort of error\nheader array, necessitating use of the ErrorHeader directive to remove it with\nApache 1.3.\n\nErrorHeader has been removed in 2.0, and a simple Header directive doesn't work.\nThere appears to be no way to get Apache not to produce the Content-Location header.", "attachment_id": null, "bug_id": 28657, "id": 56553, "time": "2004-04-28T14:42:04Z", "creator": "mark@tranchant.plus.com", "creation_time": "2004-04-28T14:42:04Z", "is_private": false}, {"count": 1, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "is_private": false, "id": 56554, "time": "2004-04-28T14:48:11Z", "bug_id": 28657, "creation_time": "2004-04-28T14:48:11Z", "text": "Just a minor detail. It was not removed, but not ported yet ;-). The backport\nfrom 2.1 is already in voting stage."}, {"count": 2, "tags": [], "bug_id": 28657, "is_private": false, "id": 56557, "creation_time": "2004-04-28T15:10:44Z", "time": "2004-04-28T15:10:44Z", "creator": "mark@tranchant.plus.com", "text": "Summary simplified by someone else. I'm not sure whether the bug is \"no\nErrorHeader directive\", or \"mod_negotiation should add Content-Location as a\nnormal header, not an error header\".", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 28657, "is_private": false, "id": 56563, "creation_time": "2004-04-28T16:21:04Z", "time": "2004-04-28T16:21:04Z", "creator": "slive@apache.org", "text": "errorheader doesn't actually mean that the header is sent only on errors.  In\nfact, it means the header is sent both on normal responses and on errors.", "attachment_id": null}, {"count": 4, "tags": [], "text": "Understood, but the way it is stored prior to sending means that the Header\ndirective cannot modify it. I'd argue that it should be able to - as it is not\nan error.", "attachment_id": null, "bug_id": 28657, "id": 56573, "time": "2004-04-28T18:49:57Z", "creator": "mark@tranchant.plus.com", "creation_time": "2004-04-28T18:49:57Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 28657, "is_private": false, "text": "r->err_headers_out is the right place, because it must be sent always, if it's\nsent at all.", "id": 57397, "time": "2004-05-14T10:30:56Z", "creator": "nd@perlig.de", "creation_time": "2004-05-14T10:30:56Z", "attachment_id": null}, {"count": 6, "tags": [], "creator": "mark@tranchant.plus.com", "attachment_id": null, "text": "I'm not happy with that. The HTTP spec says it SHOULD be sent out for negotiated\ndocuments, not MUST. I have (I believe) good reason for not wanting it sent - I\ndon't want future requests direct to the actual document, as that may generate a\n404.\n\nIf you WONTFIX this again, I'll shut up, but I think this needs fixing.", "id": 57398, "time": "2004-05-14T10:58:58Z", "bug_id": 28657, "creation_time": "2004-05-14T10:58:58Z", "is_private": false}, {"count": 7, "tags": [], "text": "You changed the report to change the implementation, which is correct. Thatsway\nwontfix.\nIt has nothing to do with SHOULD or MUST clauses in the RFC.\n\nBy the way, *I* was the guy who suggested the backport, because of exactly the\nproblem, you're encountering.", "attachment_id": null, "bug_id": 28657, "id": 57407, "time": "2004-05-14T11:53:17Z", "creator": "nd@perlig.de", "creation_time": "2004-05-14T11:53:17Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 28657, "attachment_id": null, "text": "Accepted WONTFIX (private mail discussion). Will await ErrorHeader backporting.", "id": 57408, "time": "2004-05-14T11:55:02Z", "creator": "mark@tranchant.plus.com", "creation_time": "2004-05-14T11:55:02Z", "is_private": false}, {"count": 9, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "text": "FYI: we've changes the implementation in 2.1 with respect to the misnaming of\nErrorHeader. Now there's a new attribtute f\u00fcr Header, which controls the\nbehaviour and is hopefully more intuitive. See\n<http://httpd.apache.org/docs-2.1/mod/mod_headers.html#header>.\n\nHowever, the whole change was suggested for backport.", "id": 59437, "time": "2004-06-17T21:06:12Z", "bug_id": 28657, "creation_time": "2004-06-17T21:06:12Z", "is_private": false}, {"count": 10, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "is_private": false, "id": 62216, "time": "2004-08-19T22:58:47Z", "bug_id": 28657, "creation_time": "2004-08-19T22:58:47Z", "text": "Done. (will be in 2.0.51)."}]