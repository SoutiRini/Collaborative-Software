[{"count": 0, "tags": [], "creator": "ebourg@apache.org", "text": "I'm starting with the <java> task a program reading the input System.in in an\ninfinite loop. Since Ant 1.6b2 the call to System.in.read() no longer blocks but\nreturns -1, and the process eats all the CPU time available. If the program is\nstarted with Ant 1.5.4 the read() method blocks as expected. I'm experiencing\nthis issue with the JDK 1.4.2 on WinXP.", "id": 48605, "time": "2003-12-06T02:57:20Z", "bug_id": 25258, "creation_time": "2003-12-06T02:57:20Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 25258, "attachment_id": null, "is_private": false, "id": 48647, "time": "2003-12-07T22:26:13Z", "creator": "conor@apache.org", "creation_time": "2003-12-07T22:26:13Z", "text": "I believe the 1.6 behaviour is correct and 1.5 was incorrect. When you use\n<java> without any form of input and the program tries to read from System.in,\nit *should* get -1 (i.e. EOF) since there is no input available. Blocking is not\na good behaviour here since it tends to hang the build. \n\nIf the process eats the CPU, I would suspect that the java program is not\nhandling EOF situations correctly. \n\nWhen you say \"with Ant 1.5.4 the read() method blocks as expected\", I have to\nsay, this is not \"expected\" but was a bug in Ant prior top Ant 1.6"}, {"count": 2, "tags": [], "bug_id": 25258, "attachment_id": null, "is_private": false, "id": 48655, "time": "2003-12-08T01:46:07Z", "creator": "ebourg@apache.org", "creation_time": "2003-12-08T01:46:07Z", "text": "Ok but that's quite surprising since this change doesn't appear to be documented\nexplicitly. I guess it's a side effect of the new input redirection in the\n<exec> and <java> tasks. I'm reopening the bug to have this issue mentioned in\nthe changelog or in the manual."}, {"count": 3, "tags": [], "bug_id": 25258, "attachment_id": null, "text": "Fair enough. I've documented this. Will be in the final release.", "id": 48656, "time": "2003-12-08T02:27:33Z", "creator": "conor@apache.org", "creation_time": "2003-12-08T02:27:33Z", "is_private": false}]