[{"count": 0, "tags": [], "creator": "Florian.Dufour@inrialpes.fr", "attachment_id": null, "text": "Hi,\n\nI'm using Apache 2.2.3 as a reverse proxy :\n\n  ProxyPass /another/ http://anothersite/\n  ProxyPassReverse /another/ http://anothersite/\n\nBy default, according to the documentation, ProxyVia is set to Off.\n\nEffectively, the Via: header is left untransformed for the client :\n\n  Via: 1.1 anothersite\n\nIf I set ProxyVia to On, it's ok again :\n\n  Via: 1.1 anothersite, 1.1 mysite\n\nHowever, if I set ProxyVia to Block, the Via: header is left untransformed\nwhereas it should be deleted :\n\n  Via: 1.1 anothersite", "id": 95898, "time": "2006-11-16T05:48:09Z", "bug_id": 40987, "creation_time": "2006-11-16T05:48:09Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 40987, "text": "I think this works as documented:\n\"If set to Block, every proxy request will have all its Via: header lines\nremoved. No new Via: header will be generated.\"\n\nMind that is says that it removes Via from every *request* not from the *response*.\n\nThus I will mark it as invalid. Feel free to reopen the bug if you think\ndifferently or if you think that ProxyVia's behaviour should be changed. Then it\nis an enhancement of course :-).\n\nThank you for using httpd.", "id": 95913, "time": "2006-11-16T12:07:06Z", "creator": "rpluem@apache.org", "creation_time": "2006-11-16T12:07:06Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 40987, "text": "OK, I think I didn't understand the documentation correctly. Thanks for your\nanswer !\n\nIMHO it could be a real enhancement to also block Via: header in the response.\nIt's weird to delete the request's one whithout modifying the response's one ;\nwhat would it mean ? If Apache is part of a proxy chain, it would mean that it\nhides the proxies before itself, but not the ones after. Maybe it lacks of a\ndirective hiding the proxies before AND after.\n\nIf you don't mean, I reopen the bug, in order to discuss about this\n*enhancement* ;-)", "id": 95922, "time": "2006-11-17T03:18:28Z", "creator": "Florian.Dufour@inrialpes.fr", "creation_time": "2006-11-17T03:18:28Z", "is_private": false, "attachment_id": null}]