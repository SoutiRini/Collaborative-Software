[{"attachment_id": null, "tags": [], "bug_id": 45028, "is_private": false, "count": 0, "id": 116770, "time": "2008-05-18T08:18:20Z", "creator": "yang@xeraph.com", "creation_time": "2008-05-18T08:18:20Z", "text": "I tested under JDK 1.6.0_04, JUnit 4.4, Ant 1.7.0\n\nI made a simple junit 4 assert:\nassertEquals(\"t\", \"test\");\n\nI expected ant display the test results as below:\n[junit] Tests run: 1, Failures: 1, Errors: 0\n\nbut I got:\n[junit] Tests run: 1, Failures: 0, Errors: 1\n\nthen I add logging code to JUnitTestRunner.java for debugging.\n(in src/main/org/apache/tools/ant/taskdefs/optional/junit/JUnitTestRunner.java)\n\nwhen string assertEquals fails, junit4 throws org.junit.ComparisonFailure\nbut ant-junit's JUnitTestRunner uses junit.framework.AssertionFailedError.\nIn order to correct problem, I had to fix wrapListener method.\n\nIn case of other assertEquals fails, junit4 throws java.lang.AssertionError,\nso there's no problem at all. I got expected result as below:\nassertEquals(1, 2);\n[junit] Tests run: 1, Failures: 1, Errors: 0\n\nonly ComparisonFailure exception have the problem."}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "fixed with svn revision 704571", "id": 121505, "time": "2008-10-14T09:05:37Z", "bug_id": 45028, "creation_time": "2008-10-14T09:05:37Z", "is_private": false}, {"count": 2, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "I didn't think the URL was relevant to this bug report, sorry.", "id": 121506, "time": "2008-10-14T09:06:14Z", "bug_id": 45028, "creation_time": "2008-10-14T09:06:14Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 45028, "is_private": false, "id": 128581, "creation_time": "2009-07-07T02:32:25Z", "time": "2009-07-07T02:32:25Z", "creator": "bodewig@apache.org", "text": "*** Bug 47486 has been marked as a duplicate of this bug. ***", "attachment_id": null}]