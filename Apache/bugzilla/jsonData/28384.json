[{"count": 0, "tags": [], "bug_id": 28384, "attachment_id": null, "text": "There is a possible bug in Xerces-C 2.4.0 on linux platforms. This doesn't \noccur with solaris.\n\nThe next small program code demonstrates the problem:\n\n#include <stdio.h>\n#include <xercesc/util/PlatformUtils.hpp>\n#include <xercesc/util/XMLString.hpp>\n#include <xercesc/dom/DOM.hpp>\n#include <xercesc/framework/MemBufInputSource.hpp>\n#include <xercesc/parsers/XercesDOMParser.hpp>\n\nconst XMLCh proot[] = { 'r', 'o', 'o', 't', '\\0' };\n\nstatic const char *xml_buff =\n\"<?xml version='1.0' encoding='ISO-8859-1' ?><root>AB\u00b4BA</root>\";\n\nusing namespace xercesc;\n\nint main( int argc, char *argv[] )\n{\n   XMLPlatformUtils::Initialize( \"es_ES\" );\n   MemBufInputSource *memDoc =\n   new MemBufInputSource( (XMLByte *) xml_buff, strlen( xml_buff ), \"tmp.xml\", \nfalse );\n\n   XercesDOMParser *parser = new XercesDOMParser;\n   parser->parse( *memDoc );\n   DOMDocument *doc = parser->adoptDocument();\n   delete parser;\n   delete memDoc;\n   DOMNodeList *dnl = doc->getElementsByTagName( proot );\n   DOMNode *dn = dnl->item(0);\n   DOMText *dt = (DOMText *) dn->getFirstChild();\n   char *ptr = XMLString::transcode( dt->getNodeValue() );\n   printf( \"Value: [%s]\\n\", ptr );\n   XMLString::release( &ptr );\n   doc->release();\n   XMLPlatformUtils::Terminate();\n   return 0;\n}\n\nThe following is erroneous output when the platform is 'Linux 2.6.3 i686 \nGNU/Linux' and compiled with 'gcc 3.3.3 Debian':\n\nValue: []\n\nThe following is a correct example output with SunOS sds.intranet.abysal 5.8 \nGeneric_108528-29 sun4u sparc SUNW,Ultra-4:\n\nValue: [AB\u00b4BA]\n\nThanks and best regards", "id": 55765, "time": "2004-04-14T16:28:37Z", "creator": "jmf@abysal.com", "creation_time": "2004-04-14T16:28:37Z", "is_private": false}, {"count": 1, "attachment_id": null, "creator": "curcuru@apache.org", "is_private": false, "id": 55774, "time": "2004-04-14T18:09:06Z", "bug_id": 28384, "creation_time": "2004-04-14T18:09:06Z", "tags": [], "text": "This has been manually transferred to the appropriate project's JIRA \nbugtracking system - Xerces-C no longer uses bugzilla (I think).\nSee http://nagoya.apache.org/jira/browse/XERCESC-1193 for details."}]