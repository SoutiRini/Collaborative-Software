[{"count": 0, "tags": [], "creator": "stots@9stmaryrd.com", "attachment_id": null, "text": "When I try building after enabling any modules as shared libraries, I get an error. Here is how I run `configure`:\n\n./configure --prefix=/www --enable-rewrite=shared --enable-proxy=shared\n\nThis is how `make` fails:\n\n. . .\nBuilding shared: mod_proxy.la mod_proxy_connect.la mod_proxy_ftp.la mod_proxy_http.la mod_proxy_ajp.la mod_proxy_balancer.la\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=compile gcc -g -O2    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp    -I/Users/paul/src/httpd-2.2.9/srclib/pcre -I. -I/Users/paul/src/httpd-2.2.9/os/unix -I/Users/paul/src/httpd-2.2.9/server/mpm/prefork -I/Users/paul/src/httpd-2.2.9/modules/http -I/Users/paul/src/httpd-2.2.9/modules/filters -I/Users/paul/src/httpd-2.2.9/modules/proxy -I/Users/paul/src/httpd-2.2.9/include -I/Users/paul/src/httpd-2.2.9/modules/generators -I/Users/paul/src/httpd-2.2.9/modules/mappers -I/Users/paul/src/httpd-2.2.9/modules/database -I/Users/paul/src/httpd-2.2.9/srclib/apr/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/xml/expat/lib -I/Users/paul/src/httpd-2.2.9/modules/proxy/../generators -I/Users/paul/src/httpd-2.2.9/modules/ssl -I/Users/paul/src/httpd-2.2.9/modules/dav/main -prefer-pic -c mod_proxy.c && touch mod_proxy.slo\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=compile gcc -g -O2    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp    -I/Users/paul/src/httpd-2.2.9/srclib/pcre -I. -I/Users/paul/src/httpd-2.2.9/os/unix -I/Users/paul/src/httpd-2.2.9/server/mpm/prefork -I/Users/paul/src/httpd-2.2.9/modules/http -I/Users/paul/src/httpd-2.2.9/modules/filters -I/Users/paul/src/httpd-2.2.9/modules/proxy -I/Users/paul/src/httpd-2.2.9/include -I/Users/paul/src/httpd-2.2.9/modules/generators -I/Users/paul/src/httpd-2.2.9/modules/mappers -I/Users/paul/src/httpd-2.2.9/modules/database -I/Users/paul/src/httpd-2.2.9/srclib/apr/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/xml/expat/lib -I/Users/paul/src/httpd-2.2.9/modules/proxy/../generators -I/Users/paul/src/httpd-2.2.9/modules/ssl -I/Users/paul/src/httpd-2.2.9/modules/dav/main -prefer-pic -c proxy_util.c && touch proxy_util.slo\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=link gcc -g -O2          -o mod_proxy.la -rpath /www/modules -module -avoid-version  mod_proxy.lo proxy_util.lo \nERROR: No debug map or DWARF data was found to link./Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=compile gcc -g -O2    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp    -I/Users/paul/src/httpd-2.2.9/srclib/pcre -I. -I/Users/paul/src/httpd-2.2.9/os/unix -I/Users/paul/src/httpd-2.2.9/server/mpm/prefork -I/Users/paul/src/httpd-2.2.9/modules/http -I/Users/paul/src/httpd-2.2.9/modules/filters -I/Users/paul/src/httpd-2.2.9/modules/proxy -I/Users/paul/src/httpd-2.2.9/include -I/Users/paul/src/httpd-2.2.9/modules/generators -I/Users/paul/src/httpd-2.2.9/modules/mappers -I/Users/paul/src/httpd-2.2.9/modules/database -I/Users/paul/src/httpd-2.2.9/srclib/apr/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/xml/expat/lib -I/Users/paul/src/httpd-2.2.9/modules/proxy/../generators -I/Users/paul/src/httpd-2.2.9/modules/ssl -I/Users/paul/src/httpd-2.2.9/modules/dav/main -prefer-pic -c mod_proxy_connect.c && touch mod_proxy_connect.slo\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=link gcc -g -O2          -o mod_proxy_connect.la -rpath /www/modules -module -avoid-version  mod_proxy_connect.lo \nERROR: No debug map or DWARF data was found to link./Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=compile gcc -g -O2    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp    -I/Users/paul/src/httpd-2.2.9/srclib/pcre -I. -I/Users/paul/src/httpd-2.2.9/os/unix -I/Users/paul/src/httpd-2.2.9/server/mpm/prefork -I/Users/paul/src/httpd-2.2.9/modules/http -I/Users/paul/src/httpd-2.2.9/modules/filters -I/Users/paul/src/httpd-2.2.9/modules/proxy -I/Users/paul/src/httpd-2.2.9/include -I/Users/paul/src/httpd-2.2.9/modules/generators -I/Users/paul/src/httpd-2.2.9/modules/mappers -I/Users/paul/src/httpd-2.2.9/modules/database -I/Users/paul/src/httpd-2.2.9/srclib/apr/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/xml/expat/lib -I/Users/paul/src/httpd-2.2.9/modules/proxy/../generators -I/Users/paul/src/httpd-2.2.9/modules/ssl -I/Users/paul/src/httpd-2.2.9/modules/dav/main -prefer-pic -c mod_proxy_ftp.c && touch mod_proxy_ftp.slo\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=link gcc -g -O2          -o mod_proxy_ftp.la -rpath /www/modules -module -avoid-version  mod_proxy_ftp.lo \nERROR: No debug map or DWARF data was found to link./Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=compile gcc -g -O2    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp    -I/Users/paul/src/httpd-2.2.9/srclib/pcre -I. -I/Users/paul/src/httpd-2.2.9/os/unix -I/Users/paul/src/httpd-2.2.9/server/mpm/prefork -I/Users/paul/src/httpd-2.2.9/modules/http -I/Users/paul/src/httpd-2.2.9/modules/filters -I/Users/paul/src/httpd-2.2.9/modules/proxy -I/Users/paul/src/httpd-2.2.9/include -I/Users/paul/src/httpd-2.2.9/modules/generators -I/Users/paul/src/httpd-2.2.9/modules/mappers -I/Users/paul/src/httpd-2.2.9/modules/database -I/Users/paul/src/httpd-2.2.9/srclib/apr/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/xml/expat/lib -I/Users/paul/src/httpd-2.2.9/modules/proxy/../generators -I/Users/paul/src/httpd-2.2.9/modules/ssl -I/Users/paul/src/httpd-2.2.9/modules/dav/main -prefer-pic -c mod_proxy_http.c && touch mod_proxy_http.slo\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=link gcc -g -O2          -o mod_proxy_http.la -rpath /www/modules -module -avoid-version  mod_proxy_http.lo \nERROR: No debug map or DWARF data was found to link./Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=compile gcc -g -O2    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp    -I/Users/paul/src/httpd-2.2.9/srclib/pcre -I. -I/Users/paul/src/httpd-2.2.9/os/unix -I/Users/paul/src/httpd-2.2.9/server/mpm/prefork -I/Users/paul/src/httpd-2.2.9/modules/http -I/Users/paul/src/httpd-2.2.9/modules/filters -I/Users/paul/src/httpd-2.2.9/modules/proxy -I/Users/paul/src/httpd-2.2.9/include -I/Users/paul/src/httpd-2.2.9/modules/generators -I/Users/paul/src/httpd-2.2.9/modules/mappers -I/Users/paul/src/httpd-2.2.9/modules/database -I/Users/paul/src/httpd-2.2.9/srclib/apr/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/xml/expat/lib -I/Users/paul/src/httpd-2.2.9/modules/proxy/../generators -I/Users/paul/src/httpd-2.2.9/modules/ssl -I/Users/paul/src/httpd-2.2.9/modules/dav/main -prefer-pic -c mod_proxy_ajp.c && touch mod_proxy_ajp.slo\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=compile gcc -g -O2    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp    -I/Users/paul/src/httpd-2.2.9/srclib/pcre -I. -I/Users/paul/src/httpd-2.2.9/os/unix -I/Users/paul/src/httpd-2.2.9/server/mpm/prefork -I/Users/paul/src/httpd-2.2.9/modules/http -I/Users/paul/src/httpd-2.2.9/modules/filters -I/Users/paul/src/httpd-2.2.9/modules/proxy -I/Users/paul/src/httpd-2.2.9/include -I/Users/paul/src/httpd-2.2.9/modules/generators -I/Users/paul/src/httpd-2.2.9/modules/mappers -I/Users/paul/src/httpd-2.2.9/modules/database -I/Users/paul/src/httpd-2.2.9/srclib/apr/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/xml/expat/lib -I/Users/paul/src/httpd-2.2.9/modules/proxy/../generators -I/Users/paul/src/httpd-2.2.9/modules/ssl -I/Users/paul/src/httpd-2.2.9/modules/dav/main -prefer-pic -c ajp_header.c && touch ajp_header.slo\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=compile gcc -g -O2    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp    -I/Users/paul/src/httpd-2.2.9/srclib/pcre -I. -I/Users/paul/src/httpd-2.2.9/os/unix -I/Users/paul/src/httpd-2.2.9/server/mpm/prefork -I/Users/paul/src/httpd-2.2.9/modules/http -I/Users/paul/src/httpd-2.2.9/modules/filters -I/Users/paul/src/httpd-2.2.9/modules/proxy -I/Users/paul/src/httpd-2.2.9/include -I/Users/paul/src/httpd-2.2.9/modules/generators -I/Users/paul/src/httpd-2.2.9/modules/mappers -I/Users/paul/src/httpd-2.2.9/modules/database -I/Users/paul/src/httpd-2.2.9/srclib/apr/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/xml/expat/lib -I/Users/paul/src/httpd-2.2.9/modules/proxy/../generators -I/Users/paul/src/httpd-2.2.9/modules/ssl -I/Users/paul/src/httpd-2.2.9/modules/dav/main -prefer-pic -c ajp_link.c && touch ajp_link.slo\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=compile gcc -g -O2    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp    -I/Users/paul/src/httpd-2.2.9/srclib/pcre -I. -I/Users/paul/src/httpd-2.2.9/os/unix -I/Users/paul/src/httpd-2.2.9/server/mpm/prefork -I/Users/paul/src/httpd-2.2.9/modules/http -I/Users/paul/src/httpd-2.2.9/modules/filters -I/Users/paul/src/httpd-2.2.9/modules/proxy -I/Users/paul/src/httpd-2.2.9/include -I/Users/paul/src/httpd-2.2.9/modules/generators -I/Users/paul/src/httpd-2.2.9/modules/mappers -I/Users/paul/src/httpd-2.2.9/modules/database -I/Users/paul/src/httpd-2.2.9/srclib/apr/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/xml/expat/lib -I/Users/paul/src/httpd-2.2.9/modules/proxy/../generators -I/Users/paul/src/httpd-2.2.9/modules/ssl -I/Users/paul/src/httpd-2.2.9/modules/dav/main -prefer-pic -c ajp_msg.c && touch ajp_msg.slo\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=compile gcc -g -O2    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp    -I/Users/paul/src/httpd-2.2.9/srclib/pcre -I. -I/Users/paul/src/httpd-2.2.9/os/unix -I/Users/paul/src/httpd-2.2.9/server/mpm/prefork -I/Users/paul/src/httpd-2.2.9/modules/http -I/Users/paul/src/httpd-2.2.9/modules/filters -I/Users/paul/src/httpd-2.2.9/modules/proxy -I/Users/paul/src/httpd-2.2.9/include -I/Users/paul/src/httpd-2.2.9/modules/generators -I/Users/paul/src/httpd-2.2.9/modules/mappers -I/Users/paul/src/httpd-2.2.9/modules/database -I/Users/paul/src/httpd-2.2.9/srclib/apr/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/xml/expat/lib -I/Users/paul/src/httpd-2.2.9/modules/proxy/../generators -I/Users/paul/src/httpd-2.2.9/modules/ssl -I/Users/paul/src/httpd-2.2.9/modules/dav/main -prefer-pic -c ajp_utils.c && touch ajp_utils.slo\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=link gcc -g -O2          -o mod_proxy_ajp.la -rpath /www/modules -module -avoid-version  mod_proxy_ajp.lo ajp_header.lo ajp_link.lo ajp_msg.lo ajp_utils.lo \nERROR: No debug map or DWARF data was found to link./Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=compile gcc -g -O2    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp    -I/Users/paul/src/httpd-2.2.9/srclib/pcre -I. -I/Users/paul/src/httpd-2.2.9/os/unix -I/Users/paul/src/httpd-2.2.9/server/mpm/prefork -I/Users/paul/src/httpd-2.2.9/modules/http -I/Users/paul/src/httpd-2.2.9/modules/filters -I/Users/paul/src/httpd-2.2.9/modules/proxy -I/Users/paul/src/httpd-2.2.9/include -I/Users/paul/src/httpd-2.2.9/modules/generators -I/Users/paul/src/httpd-2.2.9/modules/mappers -I/Users/paul/src/httpd-2.2.9/modules/database -I/Users/paul/src/httpd-2.2.9/srclib/apr/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/xml/expat/lib -I/Users/paul/src/httpd-2.2.9/modules/proxy/../generators -I/Users/paul/src/httpd-2.2.9/modules/ssl -I/Users/paul/src/httpd-2.2.9/modules/dav/main -prefer-pic -c mod_proxy_balancer.c && touch mod_proxy_balancer.slo\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=link gcc -g -O2          -o mod_proxy_balancer.la -rpath /www/modules -module -avoid-version  mod_proxy_balancer.lo \nERROR: No debug map or DWARF data was found to link.Building shared: mod_rewrite.la\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=compile gcc -g -O2    -DDARWIN -DSIGPROCMASK_SETS_THREAD_MASK -no-cpp-precomp    -I/Users/paul/src/httpd-2.2.9/srclib/pcre -I. -I/Users/paul/src/httpd-2.2.9/os/unix -I/Users/paul/src/httpd-2.2.9/server/mpm/prefork -I/Users/paul/src/httpd-2.2.9/modules/http -I/Users/paul/src/httpd-2.2.9/modules/filters -I/Users/paul/src/httpd-2.2.9/modules/proxy -I/Users/paul/src/httpd-2.2.9/include -I/Users/paul/src/httpd-2.2.9/modules/generators -I/Users/paul/src/httpd-2.2.9/modules/mappers -I/Users/paul/src/httpd-2.2.9/modules/database -I/Users/paul/src/httpd-2.2.9/srclib/apr/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/include -I/Users/paul/src/httpd-2.2.9/srclib/apr-util/xml/expat/lib -I/Users/paul/src/httpd-2.2.9/modules/proxy/../generators -I/Users/paul/src/httpd-2.2.9/modules/ssl -I/Users/paul/src/httpd-2.2.9/modules/dav/main -prefer-pic -c mod_rewrite.c && touch mod_rewrite.slo\n/Users/paul/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=link gcc -g -O2          -o mod_rewrite.la -rpath /www/modules -module -avoid-version  mod_rewrite.lo \nERROR: No debug map or DWARF data was found to link.\n\n\nAs you can see, this is running Apache's own version of libtool. Could the -rpath argument be the problem? Right now /www does not exist (though creating an empty /www doesn't fix things).\n\nThe same problem occurs with only one of --enable-rewrite=shared or --enable-proxy=shared. It occurs without either when I use --enable-mods-shared, whether it is set to all, most, or 'rewrite proxy'. So it appears to be an issue with enabling dynamically-loaded modules in general.\n\nThe same problem occurs in Apache 2.2.10 and 2.2.11, but not in 2.2.8.\n\nHere is some more information about my system:\n\n15\" Macbook Pro\nMac OS 10.4.11\n2.2 GHz Intel Core 2 Duo\n4 GB 667 MHz DDR2 SDRAM\n\n$ gcc --version\ni686-apple-darwin8-gcc-4.0.1 (GCC) 4.0.1 (Apple Computer, Inc. build 5367)\nCopyright (C) 2005 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\n$ uname -a\nDarwin paul-jungwirths-computer.local 8.11.1 Darwin Kernel Version 8.11.1: Wed Oct 10 18:23:28 PDT 2007; root:xnu-792.25.20~1/RELEASE_I386 i386 i386", "id": 127510, "time": "2009-05-30T15:25:43Z", "bug_id": 47289, "creation_time": "2009-05-30T15:25:43Z", "is_private": false}, {"count": 1, "tags": [], "text": "Unfortunately I don't have a 10.4 system to try this on.  I'm not seeing this on Mac OS 10.5.7, but I notice my build is using /usr/share/apr-1/build-1/libtool rather than the libtool that comes with apache.  I'm using the same configure line, so I'm not sure why that would be.\n\nMy gcc is also slightly newer:\n\n$ gcc --version\ni686-apple-darwin9-gcc-4.0.1 (GCC) 4.0.1 (Apple Inc. build 5465)\n\nDo you have the latest developer tools installed?  Maybe that's the difference; I think mine are the latest.\n\nAlso, what's your PATH look like?  Before trying, I pared mine down to\n\nPATH=/usr/bin:/bin:/usr/sbin:/sbin:/usr/X11/bin", "attachment_id": null, "id": 127804, "creator": "poirier@pobox.com", "time": "2009-06-10T11:01:36Z", "bug_id": 47289, "creation_time": "2009-06-10T11:01:36Z", "is_private": false}, {"count": 2, "tags": [], "creator": "toscano.luca@gmail.com", "attachment_id": null, "text": "The last update was years ago, this issue seems to be abandoned. I am inclined to close the bug, but please feel free to re-open it if you need further assistance!\n\nLuca", "id": 187158, "time": "2015-12-27T21:27:31Z", "bug_id": 47289, "creation_time": "2015-12-27T21:27:31Z", "is_private": false}]