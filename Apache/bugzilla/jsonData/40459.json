[{"count": 0, "text": "When using HttpClient Sampler JMeter ignores the -H and -P command line proxy \nsettings and tries to send requests directly. \nI changed the code of the method setupConnection in \norg.apache.jmeter.protocol.http.sampler.HTTPSampler2 so the problem does not \nblock me, but I am not sure if it is clean.\n\nHttpClient setupConnection(URL u, HttpMethodBase httpMethod, HTTPSampleResult \nres) throws IOException {\n...\n if (PROXY_HOST.length() > 0 && !isNonProxy(host)) {\n            if (log.isDebugEnabled()){\n                log.debug(\"Setting proxy: \"+PROXY_HOST+\":\"+PROXY_PORT);\n            }\n            hc.setProxy(PROXY_HOST, PROXY_PORT);\n  /*ADDED*/ httpClient.setHostConfiguration(hc);\n            if (PROXY_USER.length() > 0){\n                httpClient.getState().setProxyCredentials(\n                    new \nAuthScope(PROXY_HOST,PROXY_PORT,null,AuthScope.ANY_SCHEME),\n                    // NT Includes other types of Credentials\n                    new NTCredentials(\n                            PROXY_USER,\n                            PROXY_PASS,\n                            null, // \"thishost\",\n                            \"\" // domain\n                ));\n            }\n        }\n...\n}\nElena.", "bug_id": 40459, "attachment_id": null, "id": 93325, "time": "2006-09-11T08:12:10Z", "creator": "e0125151@student.tuwien.ac.at", "creation_time": "2006-09-11T08:12:10Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 93335, "time": "2006-09-11T10:50:32Z", "bug_id": 40459, "creation_time": "2006-09-11T10:50:32Z", "is_private": false, "text": "Thanks - this was noticed by others, and has been fixed in the current nightly \nusing much the same fix."}]