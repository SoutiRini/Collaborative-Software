[{"count": 0, "attachment_id": null, "bug_id": 8730, "is_private": false, "id": 15310, "time": "2002-05-02T06:18:16Z", "creator": "jerrybaker@weirdness.com", "creation_time": "2002-05-02T06:18:16Z", "tags": [], "text": "Have the following defined in a VirtualHost container:\n\nCustomLog '|\"\"c:/.../Apache2/bin/rotatelogs.exe\" \"D:/.../logs/access.log\" \n86400\"' combined\n\nResult: Apache logs nothing. No logfiles created anywhere."}, {"count": 1, "attachment_id": null, "bug_id": 8730, "text": "\n  First observation... piped logs are NOT using SHELLCMDs.  Therefore the\n  syntax you would want became\n\n    CustomLog '|\"bin/rotatelogs.exe\" \"logs/access.log\" 86400' combined\n\n  As the create process code will deal with any major quotes around an\n  entire command line string, but only when necessary.  In your example,\n  they were interfering with the tokenization of the command, log name\n  and interval arguments.\n\n  The bug is within APR and rotatelogs... we are not using the correct\n  semantics for stdin file handling [someone changed things to do non\n  blocking reads on file pipes.]  Try this from the command line to\n  reproduce the fact that rotatelogs just doesn't work at this time.\n\n  I'm going over the stdin semantics and will follow up.  ITMT, I also\n  notice that all platforms may be broken on line 151 of rotatelogs.c\n  since beasts like APR_EAGAIN and APR_EINTR may clobber rotatelogs.\n\n", "id": 16552, "time": "2002-05-22T15:36:18Z", "creator": "wrowe@apache.org", "creation_time": "2002-05-22T15:36:18Z", "tags": [], "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 8730, "is_private": false, "id": 16922, "time": "2002-05-30T05:06:33Z", "creator": "wrowe@apache.org", "creation_time": "2002-05-30T05:06:33Z", "tags": [], "text": "\n  Well ignore my earlier comments.  rotatelogs fails with <CONSOLE> input\n  if the BUFSIZE is larger than 30704 bytes (0x77F0)... whatever that magic\n  number means.  Unfortuately, it fails with ERROR_NOT_ENOUGH_MEMORY, which\n  MS mentions only in passing as a possible async issue, which this is not.\n\n  Rotatelogs is working with piped input from another application (such as\n  Apache piped logs.)  \n\n  Using a trivial example,     \n\n  CustomLog \"|bin/rotatelogs.exe logs/test_host.log 15\" common\n\n  or just for fun,\n\n  CustomLog '|bin/wintty.exe -t \"Apache Access Log\"' common\n\n  everything seems in order again for the 2.0.37 release.\n\n"}, {"count": 3, "attachment_id": null, "bug_id": 8730, "text": "I still can't make this work (2.0.40-dev). Here are the combinations I have \ntried:\n\nCustomLog '|\"c:/Program Files/Apache Group/Apache2/bin/rotatelogs.exe\" \"D:/Web \nSites/logs/access.log\" 86400' combined\nCustomLog \"|'c:/Program Files/Apache Group/Apache2/bin/rotatelogs.exe' 'D:/Web \nSites/logs/access.log' 86400\" combined\n\n", "id": 18759, "time": "2002-06-29T18:42:33Z", "creator": "jerrybaker@attbi.com", "creation_time": "2002-06-29T18:42:33Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "creator": "wrowe@apache.org", "is_private": false, "id": 18767, "creation_time": "2002-06-30T02:28:34Z", "time": "2002-06-30T02:28:34Z", "bug_id": 8730, "text": "*** Bug 10353 has been marked as a duplicate of this bug. ***", "attachment_id": null}, {"count": 5, "attachment_id": null, "bug_id": 8730, "text": "This says resolved, but it's not working in 2.0.39.  I guess I'm confused on \nwhat resolved means.", "id": 18772, "time": "2002-06-30T17:05:22Z", "creator": "bpettit@yahoo.com", "creation_time": "2002-06-30T17:05:22Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "id": 18783, "time": "2002-07-01T04:34:12Z", "bug_id": 8730, "creation_time": "2002-07-01T04:34:12Z", "is_private": false, "text": "\n  Reopening while I investigate this report.\n"}, {"count": 7, "attachment_id": null, "bug_id": 8730, "is_private": false, "id": 20710, "time": "2002-08-06T16:53:24Z", "creator": "wrowe@apache.org", "creation_time": "2002-08-06T16:53:24Z", "tags": [], "text": "\nI just tried your \n\n  CustomLog '|\"c:/Program Files/Apache Group/Apache2/bin/rotatelogs.exe\" \"D:/Web \nSites/logs/access.log\" 86400' combined\n\nexample, with the paths;\n\nCustomLog '|\"d:/Apache2/bin/rotatelogs.exe\" \"d:/apache2/logs/access.log\" 86400'\ncommon\n\nand then with\n\nCustomLog '|\"d:/Apache Two/bin/rotatelogs.exe\" \"d:/Apache Two/logs/access.log\"\n86400' common\n\nBoth work for me.  Please try debugging at LogLevel Debug (and use the -e debug\ncommand line option when you start apache) if you continue to have problems\nwith Apache 2.  Note you needed to replace both the apache and the rotatelogs\nutility, they both had bugs I fixed before.\n\n\n"}, {"count": 8, "tags": [], "creator": "fgenolini@hotmail.com", "text": "This is broken again for 2.0.44 (see bug #16393)", "id": 33337, "time": "2003-03-18T12:29:55Z", "bug_id": 8730, "creation_time": "2003-03-18T12:29:55Z", "is_private": false, "attachment_id": null}, {"count": 9, "attachment_id": null, "bug_id": 8730, "text": "\n  This bug (in rotatelogs) doesn't exist.  You just pointed at bug #16393\n  which is tracking a new problem within Apache 2.0.44 itself, not within\n  rotatelogs, which is fixed for the 2.0.45 release... why would you feel\n  a need to have two open bugs?\n\n  rotatelogs.exe still works correctly.", "id": 33343, "time": "2003-03-18T14:00:00Z", "creator": "wrowe@apache.org", "creation_time": "2003-03-18T14:00:00Z", "tags": [], "is_private": false}, {"count": 10, "attachment_id": null, "bug_id": 8730, "is_private": false, "id": 33344, "time": "2003-03-18T14:00:18Z", "creator": "wrowe@apache.org", "creation_time": "2003-03-18T14:00:18Z", "tags": [], "text": "  Re-Closing."}]