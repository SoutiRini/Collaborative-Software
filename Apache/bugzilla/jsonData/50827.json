[{"count": 0, "tags": [], "bug_id": 50827, "text": "Created attachment 26691\nPatch for SSHBase\n\nExecuting \n\n<target ...>\n  <scp ... verbose=\"true\" />\n  <sshexec ... verbose=\"false\" />\n</target>\n\nwith Ant 1.8.2/jsch 0.1.44 results in the following output:\n\n...\n    [scp] Connecting to x.x.x.x:22\n    [scp] Connecting to x.x.x.x port 22\n    [scp] Connection established\n    [scp] Remote version string: SSH-2.0-OpenSSH_3.8.1p1\n    [scp] Local version string: SSH-2.0-JSCH-0.1.44\n    ... 25 more lines ...\n    [scp] Authentication succeeded (password).\n    [scp] Sending: file.zip : 4448442\n    [scp] ................................................. 50%\n    [scp] ................................................. 100%\n    [scp] File transfer time: 74.27 Average Rate: 59,898.77 B/s\n    [scp] done.\n    [scp] Disconnecting from x.x.x.x port 22\n    [scp] Caught an exception, leaving main loop due to socket closed\n...\n[sshexec] Connecting to 10.8.0.1:22\n    [scp] Connecting to 10.8.0.1 port 22\n    [scp] Connection established\n    [scp] Remote version string: SSH-2.0-OpenSSH_3.8.1p1\n\t[scp] Local version string: SSH-2.0-JSCH-0.1.44\n\t... same 25 more lines as above ...\n    [scp] Authentication succeeded (password).\n[sshexec] cmd : <commandline>\n[sshexec] <output of command>\n...\n\nFirst problem:\nThe value of the verbose property of the first task is kept and reused in \nthe second task; ignoring the explicit resetting of the property.\nThis problem is solved by the attached patch (created by Christian d'Heureuse).\nJSch.setLogger(null) has not been used in the patch because of a bug in JSch \n(which has already been reported to JCraft,Inc. and will be fixed by them).\n\nSecond problem:\nThe verbose property of the scp task does not work as described in the \ndocumentation (or vice versa). Furthermore showing the progress of a file \ntransfer and the actual output (looking more like debug output) should be \nconfigurable separately.\n\nThanks.", "id": 144529, "time": "2011-02-24T13:55:57Z", "creator": "mangst@inventec.ch", "creation_time": "2011-02-24T13:55:57Z", "is_private": false, "attachment_id": 26691}]