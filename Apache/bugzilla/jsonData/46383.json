[{"count": 0, "tags": [], "text": "The online manual claims the \"chained\" mapper is supported \"since Ant 1.6.2\".\n\nHowever this does not seem to be true:\n\n$ cat > build.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project name=\"foo\" default=\"foo\">\n    <target name=\"foo\">\n        <mkdir dir=\"build\"/>\n        <move todir=\"build\">\n            <fileset dir=\"${basedir}\">\n                <include name=\"**/*.xml\"/>\n            </fileset>\n            <chainedmapper>\n                <mapper type=\"glob\" from=\"*ild.xml\" to=\"*ilderdash.xml\"/>\n                <mapper type=\"flatten\"/>\n            </chainedmapper>\n        </move>\n    </target>\n</project>\n^D\n$ ant -version\nApache Ant version 1.6.2 compiled on October 3 2006\n$ ant\nBuildfile: build.xml\n\nfoo:\n\nBUILD FAILED\n/usr/share/ivyroundup/foo/build.xml:5: The <move> type doesn't support the nested \"chainedmapper\" element.\n\nTotal time: 0 seconds\n\nNote the documentation for <move> does not specify any limitation on the use of mapper subtags.", "attachment_id": null, "id": 123242, "creator": "archie@dellroad.org", "time": "2008-12-11T10:47:49Z", "bug_id": 46383, "creation_time": "2008-12-11T10:47:49Z", "is_private": false}, {"count": 1, "tags": [], "creator": "mbenson@apache.org", "is_private": false, "text": "Do any of the mappers e.g. globmapper, flattenmapper work in Ant 1.6.2?  IIRC all mappers had to be referenced e.g. <mapper type=\"chained\"> back then.", "id": 123243, "time": "2008-12-11T10:50:11Z", "bug_id": 46383, "creation_time": "2008-12-11T10:50:11Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "archie@dellroad.org", "attachment_id": null, "text": "I get this:\n\n  /usr/share/ivyroundup/foo/build.xml:5: chained is not a legal value for this attribute\n\nwith this build.xml:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project name=\"foo\" default=\"foo\">\n    <target name=\"foo\">\n        <mkdir dir=\"build\"/>\n        <move todir=\"build\">\n            <fileset dir=\"${basedir}\">\n                <include name=\"**/*.xml\"/>\n            </fileset>\n            <mapper type=\"chained\">\n                <mapper type=\"glob\" from=\"*ild.xml\" to=\"*ilderdash.xml\"/>\n                <mapper type=\"flatten\"/>\n            </mapper>\n        </move>\n    </target>\n</project>\n", "id": 123244, "time": "2008-12-11T11:43:45Z", "bug_id": 46383, "creation_time": "2008-12-11T11:43:45Z", "is_private": false}, {"count": 3, "tags": [], "creator": "archie@dellroad.org", "is_private": false, "text": "To answer the other question, yes the glob and flatten mappers do work in ant 1.6.2 when used alone, but you are right, you have to use the syntax <mapper type=\"foo\">\n\nFor example, this works:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project name=\"foo\" default=\"foo\">\n    <target name=\"foo\">\n        <mkdir dir=\"build\"/>\n        <move todir=\"build\">\n            <fileset dir=\"${basedir}\">\n                <include name=\"**/*.xml\"/>\n            </fileset>\n            <mapper type=\"glob\" from=\"*ild.xml\" to=\"*ilderdash.xml\"/>\n        </move>\n    </target>\n</project>\n\nbut <globmapper> does not.\n", "id": 123245, "time": "2008-12-11T11:53:54Z", "bug_id": 46383, "creation_time": "2008-12-11T11:53:54Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 46383, "attachment_id": null, "id": 123249, "time": "2008-12-11T21:05:53Z", "creator": "bodewig@apache.org", "creation_time": "2008-12-11T21:05:53Z", "is_private": false, "text": "the <globmapper> syntax was added together with the chained mapper in svn revision 276223 for bug 26364\n\nLooking at the svn history this has not been merged into the Ant 1.6.x branch so they first appear in Ant 1.7.0.\n\nFixed the manual in svn revision 26364 but it won't be visible online before we release the next Ant version from tunk.\n"}, {"count": 5, "tags": [], "creator": "bodewig@apache.org", "is_private": false, "text": "fixed in svn revision 725903 that is, sorry", "id": 123250, "time": "2008-12-11T21:14:28Z", "bug_id": 46383, "creation_time": "2008-12-11T21:14:28Z", "attachment_id": null}]