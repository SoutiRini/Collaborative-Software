[{"count": 0, "tags": [], "bug_id": 10704, "attachment_id": null, "text": "I am having problems upgrading to 1.5 from 1.5Alpha. The following snippet of \nbuildfile works fine in 1.5Alpha, except for the addition of dependency='full' \nwhich is new in 1.5. \n\n        <ejbjar descriptordir='${gendir.core}'\n                srcdir='${classes}'\n                manifest='${container.manifest}'\n                dependency='full'\n                naming='directory' >\n            <weblogic destdir='${jardir.core}'\n                      rebuild='true'\n                      keepgenerated='${ejbc.debug}'\n                      noEJBC='${noejbc}'>\n                <classpath>\n                    <path refid='global.classpath'/>\n                </classpath>\n                <wlclasspath>\n                    <path refid='weblogic.and.libs'/>\n                </wlclasspath>\n            </weblogic>\n            <dtd publicId='-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans \n2.0//EN'\n                 location='${j2ee.descriptors}/ejb-jar_2_0.dtd'/>\n            <include name='**/ejb-jar.xml'/>\n        </ejbjar>\n\n\n\n   [ejbjar] building container.jar with 169 files\n     [ejbc] java.io.IOException: CreateProcess: javac -nowarn -classpath \nC:\\projects\\HEAD\\pita\\ejbcgen;C:\\projects\\HEAD\\\npita\\lib\\cellectivity-lib.jar;C:\\bea\\jdk131\\jre\\lib\\rt.jar;C:\\bea\\jdk131\n\\jre\\lib\\i18n.jar;C:\\bea\\jdk131\\jre\\lib\\sunrsasi\ngn.jar;C:\\bea\\jdk131\\jre\\classes;C:\\bea\\wlserver6.1\n\\lib\\weblogic.jar;C:\\projects\\HEAD\\pita\\build\\cellectivity-vm.jar;C:\\\nprojects\\HEAD\\pita\\lib\\log4j-1.2beta4.jar -d C:\\projects\\HEAD\\pita\\ejbcgen \nC:\\projects\\HEAD\\pita\\ejbcgen\\com\\cellectivit\ny\\dblog\\*.java \nC:\\projects\\HEAD\\pita\\ejbcgen\\com\\cellectivity\\middletier\\container\\*.java \nC:\\projects\\HEAD\\pita\\ejbcgen\\\ncom\\cellectivity\\protocol\\sms\\*.java \nC:\\projects\\HEAD\\pita\\ejbcgen\\com\\cellectivity\\vault\\*.java error=2\n     [ejbc]     at java.lang.Win32Process.create(Native Method)\n     [ejbc]     at java.lang.Win32Process.<init>(Win32Process.java:66)\n     [ejbc]     at java.lang.Runtime.execInternal(Native Method)\n     [ejbc]     at java.lang.Runtime.exec(Runtime.java:551)\n     [ejbc]     at java.lang.Runtime.exec(Runtime.java:477)\n     [ejbc]     at java.lang.Runtime.exec(Runtime.java:443)\n     [ejbc]     at weblogic.utils.Executable.exec(Executable.java:209)\n     [ejbc]     at weblogic.utils.Executable.exec(Executable.java:134)\n     [ejbc]     at weblogic.utils.compiler.CompilerInvoker.compileMaybeExit\n(CompilerInvoker.java:545)\n     [ejbc]     at weblogic.utils.compiler.CompilerInvoker.compile\n(CompilerInvoker.java:372)\n     [ejbc]     at weblogic.utils.compiler.CompilerInvoker.compile\n(CompilerInvoker.java:363)\n     [ejbc]     at weblogic.ejb20.ejbc.EJBCompiler.compileEJB\n(EJBCompiler.java:246)\n     [ejbc]     at weblogic.ejbc20.runBody(ejbc20.java:360)\n     [ejbc]     at weblogic.utils.compiler.Tool.run(Tool.java:79)\n     [ejbc]     at weblogic.ejbc20.main(ejbc20.java:460)\n     [ejbc] Exec failed .. exiting\n\nBUILD FAILED\nfile:C:/projects/HEAD/pita/newbuild.xml:772: Exception while calling \nweblogic.ejbc20. Details: Ejbc reported an error", "id": 19338, "time": "2002-07-11T17:12:22Z", "creator": "j_a_fernandez@yahoo.com", "creation_time": "2002-07-11T17:12:22Z", "is_private": false}, {"count": 1, "tags": [], "text": "Before I got this error I had a diffent one which seem to be due to a \nclasspath too long on the calls been made by weblogic.ejbc20.\nI had to remove 90% of my classpath to get this far.\n\nI had none of those problems before.\n\nJose Alberto\n", "is_private": false, "id": 19339, "creator": "j_a_fernandez@yahoo.com", "time": "2002-07-11T17:28:05Z", "bug_id": 10704, "creation_time": "2002-07-11T17:28:05Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 10704, "attachment_id": null, "text": "I need some help trying to trace this issue.\nOne thing I notice is that the implementations are calling weblogic with a \ndifferent combination of parameters, the old implementation is calling this \nway:\n\nForking C:\\bea\\jdk131\\jre\\..\\bin\\java.exe -classpath C:\\bea\\wlserver6.1\n\\lib\\weblogic.jar;C:\\projects\\HEAD\\pita\\build\\cellectivity-\nvm.jar;C:\\projects\\HEAD\\pita\\lib\\log4j-1.2beta4.jar weblogic.ejbc20 \nC:\\projects\\HEAD\\pita\\build\\o2\\jars\\container-generic.jar \nC:\\projects\\HEAD\\pita\\build\\o2\\jars\\container.jar\n\nThe new implementation is doing the following:\n\nExecuting 'C:\\bea\\jdk131\\jre\\bin\\java.exe' with arguments:\n     [ejbc] '-classpath'\n     [ejbc] 'C:\\bea\\wlserver6.1\n\\lib\\weblogic.jar;C:\\projects\\HEAD\\pita\\build\\cellectivity-\nvm.jar;C:\\projects\\HEAD\\pita\\lib\\log4j-1.2beta4.jar'\n     [ejbc] 'weblogic.ejbc20'\n     [ejbc] '-classpath'\n     [ejbc] 'C:\\projects\\HEAD\\pita\\build\\classes'\n     [ejbc] 'C:\\projects\\HEAD\\pita\\build\\o2\\jars\\container-generic.jar'\n     [ejbc] 'C:\\projects\\HEAD\\pita\\build\\o2\\jars\\container.jar'\n\nYou can see the usage of the -classpath in the parameters for weblogic. This \nmay be part of the problem. The old implementation creates a jar with 168 \nclasses while the new one puts 169. I am adding an attachment with the verbose \noutput of the task (the segment I consider relevant). I have modified the use \nof the task a little to be the following:\n\n        <ejbjar descriptordir='${gendir.core}'\n                srcdir='${classes}'\n                manifest='${container.manifest}'\n                dependency='full'\n                naming='directory' >\n            <classpath>\n                <!--\n                <path refid='global.classpath'/>\n                -->\n                <pathelement location=\"${classes}\"/>\n            </classpath>\n            <weblogic destdir='${jardir.core}'\n                      rebuild='true'\n                      keepgenerated='${ejbc.debug}'\n                      noEJBC='${noejbc}'>\n                <wlclasspath>\n                    <path refid='weblogic.and.libs'/>\n                </wlclasspath>\n            </weblogic>\n            <dtd publicId='-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans \n2.0//EN'\n                 location='${j2ee.descriptors}/ejb-jar_2_0.dtd'/>\n            <include name='**/ejb-jar.xml'/>\n        </ejbjar>\n\nCan someone give me any clues on this issue?\n\n", "id": 19627, "time": "2002-07-16T16:55:57Z", "creator": "j_a_fernandez@yahoo.com", "creation_time": "2002-07-16T16:55:57Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 10704, "attachment_id": 2368, "id": 19628, "time": "2002-07-16T16:57:28Z", "creator": "j_a_fernandez@yahoo.com", "creation_time": "2002-07-16T16:57:28Z", "is_private": false, "text": "Created attachment 2368\nVerbose output from <ejbjar>"}, {"count": 4, "tags": [], "bug_id": 10704, "attachment_id": null, "id": 19757, "time": "2002-07-18T10:51:27Z", "creator": "jani.kaarela@accenture.com", "creation_time": "2002-07-18T10:51:27Z", "is_private": false, "text": "I've been banging my head against the wall with this one, too. I just tried\nrunning it with compiler=\"jikes\"... and it DIDN'T fail. With the normal java.exe\nfrom JDK 1.3.1_04 it did."}, {"count": 5, "tags": [], "bug_id": 10704, "is_private": false, "text": "i encountered this problem when the JAVA_HOME/bin was not in the PATH \nenvorinment. i have put the JAVA_HOME/bin and problem is solved!", "id": 20887, "time": "2002-08-11T20:23:49Z", "creator": "lior@tikalknowledge.com", "creation_time": "2002-08-11T20:23:49Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 10704, "attachment_id": null, "id": 28116, "time": "2002-12-20T14:45:58Z", "creator": "conor@apache.org", "creation_time": "2002-12-20T14:45:58Z", "is_private": false, "text": "I haven't seen any further reports of this. Sounds like a path issue. I'm going\nto close. Please reopen if you feel it needs further investigation."}]