[{"count": 0, "tags": [], "bug_id": 5484, "attachment_id": null, "id": 8990, "time": "2001-12-18T05:03:56Z", "creator": "obaranes@baan.com", "creation_time": "2001-12-18T05:03:56Z", "is_private": false, "text": "In my webapp i used the ShutdownHook thread as on java.lang.RunTime , it worked \nwell on Tomcat 3.2.3 but failed on Catalina 4.0.1 , the failur was as to \nClassNotFoundException thrown from the ShutdownHook thread.The reason for that \nis that the WebAppClassLoader was stop() and there for fired \"Lifecycle error : \nCL stopped\" + ClassNotFoundException .\nIt seems that the stop() was called earlier then expected.\nInvoking the start() Method(by reflection) again on the Thread ClassLoader \nsolved the problem."}, {"count": 1, "tags": [], "bug_id": 5484, "text": "We support the lifecycle of the webapp, which is something different from the \nlifecycle of the VM itself. When the VM is stopped, all the Catalina \ncomponents, including all the CL, will have been stopped already.", "id": 8991, "time": "2001-12-18T06:37:35Z", "creator": "remm@apache.org", "creation_time": "2001-12-18T06:37:35Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "This actually means that the Java ShutdownHook is *not available* when \ndeveloping webapps for Catalina ! is that what we want ?! ", "attachment_id": null, "bug_id": 5484, "id": 8999, "time": "2001-12-18T07:57:31Z", "creator": "obaranes@baan.com", "creation_time": "2001-12-18T07:57:31Z", "is_private": false}]