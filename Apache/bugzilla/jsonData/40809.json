[{"count": 0, "tags": [], "bug_id": 40809, "attachment_id": null, "id": 95049, "time": "2006-10-23T18:27:14Z", "creator": "starwhisperer@gmail.com", "creation_time": "2006-10-23T18:27:14Z", "is_private": false, "text": "I was running a jsf blank application using myfaces core 1.1.4, the log shows\nthat because the servlet listener is not called so the Faces Factories are not\ninitialized correctly. And I tried to put another listener in my tld file packed\nin a jar file(which would work with tomcat 5.5.17), and the new listener was not\nloaded either. \nAnd somehow it doesnot compatible well with WTP 1.5.1, which could cause a error\nmessage said \"could not find a client to run...\".\n\nCould you fix this, or we should still stick to tomcat 5.5.17?\nThanks."}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 95051, "time": "2006-10-23T18:31:19Z", "bug_id": 40809, "creation_time": "2006-10-23T18:31:19Z", "is_private": false, "text": "Listeners are not defined in tld files. Please use the Tomcat or MyFaces users\nmailing list for support."}, {"count": 2, "tags": [], "creator": "william.barker@wilshire.com", "attachment_id": null, "id": 95052, "time": "2006-10-23T18:47:53Z", "bug_id": 40809, "creation_time": "2006-10-23T18:47:53Z", "is_private": false, "text": "(In reply to comment #1)\n> Listeners are not defined in tld files. Please use the Tomcat or MyFaces \nusers\n> mailing list for support.\n\nThat's not what it says in section JSP.C.1 in my copy of the spec :)."}, {"count": 3, "tags": [], "bug_id": 40809, "attachment_id": null, "text": "I take it back. I'll take a look at what is going on.", "id": 95076, "time": "2006-10-24T16:00:03Z", "creator": "markt@apache.org", "creation_time": "2006-10-24T16:00:03Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 40809, "attachment_id": null, "text": "I have tested a 5.5.x build using the latest source from SVN with\ntobago-example-blank-1.0.8.war and stepping through the code shows that two\nlisteners are found in the .tld files and both start correctly.\n\nI can only suggest that you retest with a clean install and that if you still\nsee the problem you provide the exact steps to reproduce as well as the complete\nerror message from the logs.", "id": 95707, "time": "2006-11-11T19:17:32Z", "creator": "markt@apache.org", "creation_time": "2006-11-11T19:17:32Z", "is_private": false}, {"id": 96210, "tags": [], "bug_id": 40809, "attachment_id": null, "count": 5, "text": "*** Bug 41043 has been marked as a duplicate of this bug. ***", "time": "2006-11-27T07:02:37Z", "creator": "remm@apache.org", "creation_time": "2006-11-27T07:02:37Z", "is_private": false}, {"count": 6, "attachment_id": null, "bug_id": 40809, "text": "I changed back to tomcat 5.5.17 and everything was fine. Until later I removed\nthe 5.5.17 and installed the 5.5.29 again, This time the listener in the tld was\nloaded in eclipse WTP successfully while if I deployed the war file in the\nwebapp dir in the server installation root, the tld listener was not started\nlike in the above example. There must be something tricky in Tomcat 5.5.20,\nwould you check that out? I tested this on different PCs, either this happened\nwhen the server started by the WTP or started by tomcat5.exe.", "id": 96213, "time": "2006-11-27T09:28:17Z", "creator": "starwhisperer@gmail.com", "creation_time": "2006-11-27T09:28:17Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "bug_id": 40809, "attachment_id": null, "text": "There are also no apparently relevant changes between 5.5.17 and 5.5.20. All the\nprocessing is done in code in the o.a.catalina.startup.TldConfig class, and it\nhasn't changed since 5.5.17. You can trace things in there if you need to.", "id": 96317, "time": "2006-11-28T18:26:42Z", "creator": "remm@apache.org", "creation_time": "2006-11-28T18:26:42Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "henrik.hermansson@todos.se", "text": "We have had lots of problem with non-registered listeners on Tomcat releases\nafter 5.5.17. After digging around we discovered that installing Tomcat in a\npath without spaces makes the problem go away. So the normal Windows\ninstallation in '\\Program files\\' etc fails, while '\\tomcat\\' etc work.\nSome sources discuss changes in org.apache.catalina.loader.WebappClassLoader\nthat turn paths into URI (with '%20' instead of spaces). Could this be related?\n", "count": 8, "id": 100728, "time": "2007-03-21T07:24:57Z", "bug_id": 40809, "creation_time": "2007-03-21T07:24:57Z", "is_private": false}, {"count": 9, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 100766, "time": "2007-03-21T16:39:57Z", "bug_id": 40809, "creation_time": "2007-03-21T16:39:57Z", "is_private": false, "text": "You'll need to provide a test case that demonstrates this as the Tomcat team has\nbeen unable to reproduce this issue."}, {"attachment_id": null, "tags": [], "creator": "henrik.hermansson@todos.se", "text": "Try http://www.ecode.se/tmp/jsf_nb_sample.war, this war file is the result of\nmaking a new 'Visual Web Project' in Netbeans 5.5, enabling war-compression,\nthen building. No other changes. It runs fine on Tomcat 5.5.23 (Java 1.5) when\ntomcat is installed in 'c:\\Tomcat_5_5'. It won't start (NPE at\njavax.faces.webapp.FacesServlet.init(FacesServlet.java:165)) when tomcat is\ninstalled in 'C:\\Program Files\\Apache Software Foundation\\Tomcat 5.5'.", "count": 10, "id": 100781, "time": "2007-03-22T00:45:28Z", "bug_id": 40809, "creation_time": "2007-03-22T00:45:28Z", "is_private": false}, {"count": 11, "tags": [], "creator": "derek@ximbiot.com", "attachment_id": null, "id": 101117, "time": "2007-03-28T10:52:32Z", "bug_id": 40809, "creation_time": "2007-03-28T10:52:32Z", "is_private": false, "text": "I'm experiencing the same problem with Tomcat 5.5.23.  If the path has spaces in\nit, the tldCache.ser file gets created without the JSF configure listener.  If\nthe path does not have spaces, then it gets created correctly.  Copying the\ntldCache.ser from a 5.5.17 deployment of the same webapp into the 5.5.23\ndeployment works around the problem temporarily without removing the spaces from\nthe path (I originally found both workarounds here:\nhttp://forum.java.sun.com/thread.jspa?messageID=9581146 where other users are\ndescribing the same problem).\n\nI also found the same problem reported and fixed in the Glassfish bug tracker\nover a year ago.  The path to the source file makes it look like they forked\nTomcat, so I am including the link to the bug and fix in their tracker in case\nit turns out to be the same source:\nhttp://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6358409 ."}, {"count": 12, "attachment_id": null, "bug_id": 40809, "text": "Using jsf_nb_sample.war, I could not reproduce this bug at Tomcat 5.5.27, could you reproduce this bug at this version?", "id": 126903, "time": "2009-05-09T05:27:07Z", "creator": "xxd82329@gmail.com", "creation_time": "2009-05-09T05:27:07Z", "tags": [], "is_private": false}, {"id": 126908, "tags": [], "bug_id": 40809, "attachment_id": null, "count": 13, "text": "I think this bug is fix at version 5.5.27", "time": "2009-05-09T06:16:05Z", "creator": "xxd82329@gmail.com", "creation_time": "2009-05-09T06:16:05Z", "is_private": false}]