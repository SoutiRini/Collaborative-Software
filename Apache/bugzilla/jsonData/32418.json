[{"count": 0, "tags": [], "bug_id": 32418, "is_private": false, "text": "WAR deployment fails when jar: URL is passed to \"war=\"\nor \"config=\" argument of /manager/deploy service.\n\nIt seems code supporting jar: URL is currently gone from\nManagerServlet.java (it was there with Tomcat 4), so\nI added support for it once again. In addition to jar:\nURL, this patch adds support for any URL, so you can deploy\nremote WAR file located on FTP or HTTP server (or anything\njava.net.URL supports).", "id": 67516, "time": "2004-11-28T11:21:04Z", "creator": "tyamadajp@list.rakugaki.org", "creation_time": "2004-11-28T11:21:04Z", "attachment_id": null}, {"attachment_id": 13564, "tags": [], "bug_id": 32418, "is_private": false, "count": 1, "id": 67517, "time": "2004-11-28T11:22:33Z", "creator": "tyamadajp@list.rakugaki.org", "creation_time": "2004-11-28T11:22:33Z", "text": "Created attachment 13564\nPatch to regain support for various URL formats for \"war=\" or \"config=\" parameter of /manager/deploy service"}, {"count": 2, "tags": [], "bug_id": 32418, "attachment_id": null, "text": "Thanks for the patch, but this has very little use. As a result, I'm -0 for\nadding complexity to support this.\n\nPlease consider using uploading your war to the server, which does the same but\nis far simpler.", "id": 67518, "time": "2004-11-28T12:15:43Z", "creator": "remm@apache.org", "creation_time": "2004-11-28T12:15:43Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 32418, "text": "*** Bug 32505 has been marked as a duplicate of this bug. ***", "count": 3, "id": 67838, "time": "2004-12-02T23:54:24Z", "creator": "remm@apache.org", "creation_time": "2004-12-02T23:54:24Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 32418, "text": "I understand the concern on complexity, so I won't push this patch\nto be included.\n\nHowever, code might be _simpler_ if URL-style string get handled\nby URL class instead of doing internal String cut-and-pasting as\nit is now (mine was bit complex as it tried to handle extraction\nof jar: URL). Allowing generic use of URL instead of just local\nfile is powerful concept (meaning more flexible deployment style,\ngiving more power to users), and should be included if complexity\nconcern is resolved...\n\n# For example, you can do JNLP-like one-click webapp deployment\n# if generic URL is supported. Though its value on serverside is\n# arguable.\n", "id": 67864, "time": "2004-12-03T07:00:54Z", "creator": "tyamadajp@list.rakugaki.org", "creation_time": "2004-12-03T07:00:54Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 32418, "attachment_id": null, "text": "I don't understand how this is different from using the deploy task, and telling\nit to upload your war (since it does the same: the webapp is transferred to the\nserver = no benefit). The only difference is that it was pulled (so you need a\nserver of some sort) rather than pushed (the Ant task does the pushing for you).\n\nIf the WAR is local to the server, then the deploy form you're using allows to\nnot transfer the webapp, which has a benefit (and is why I left it; otherwise,\nit would be gone too).", "id": 67878, "time": "2004-12-03T15:37:40Z", "creator": "remm@apache.org", "creation_time": "2004-12-03T15:37:40Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 32418, "is_private": false, "count": 6, "id": 82447, "time": "2005-11-14T13:07:31Z", "creator": "brenmcguire@tariffenet.it", "creation_time": "2005-11-14T13:07:31Z", "text": "(In reply to comment #5)\n> I don't understand how this is different from using the deploy task, and telling\n> it to upload your war (since it does the same: the webapp is transferred to the\n> server = no benefit). The only difference is that it was pulled (so you need a\n> server of some sort) rather than pushed (the Ant task does the pushing for you).\n> \n> If the WAR is local to the server, then the deploy form you're using allows to\n> not transfer the webapp, which has a benefit (and is why I left it; otherwise,\n> it would be gone too).\n\nThe big difference is that the WAR file is already there. While you are\nuploading the WAR file, the application must not be there (undeployed) and this\nis very significant in time-critical applications.\nWe currently are building a \"updater\" web application, that receives (via\nuploading) the building blocks of a webapp, then builds the WAR, finally sends\nthe WAR file path to the caller that, after that, calls /deploy using this path.\nThis way, the time that the webapp is down is limited to the operation of\nunpacking the war and the \"real\" deployment, thus eliminating the time needed\nfor upload.\nAnother thing. If you don't want to add complexity to implement this feature,\nwhy you still report in the documentation?\nBest regards\nAntonio Petrelli"}, {"count": 7, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 82448, "time": "2005-11-14T13:12:00Z", "bug_id": 32418, "creation_time": "2005-11-14T13:12:00Z", "is_private": false, "text": "Feel free to implement any custom scenarios that are needed for your production\nneeds. That is the whole point of OSS. However, please do not reopen this report."}, {"count": 8, "tags": [], "creator": "brenmcguire@tariffenet.it", "attachment_id": null, "id": 82449, "time": "2005-11-14T13:24:23Z", "bug_id": 32418, "creation_time": "2005-11-14T13:24:23Z", "is_private": false, "text": "First of all sorry for reopening, will never do it again :-P .\nAnyway, you did not address the problem. If there are docs about the feature,\nthat feature should exist, don't you agree?\nWe are not allowed to distribute \"our\" version of Tomcat, they are running some\nother application and we cannot mix app \"our\" version with the \"official\" one.\nYou asked what are the differences between uploading and deploying directly on\nthe server and I showed it.\nStill a question: why Tomcat 4.1.31 implements this feature smoothly?\n\n(In reply to comment #7)\n> Feel free to implement any custom scenarios that are needed for your production\n> needs. That is the whole point of OSS. However, please do not reopen this report.\n"}, {"count": 9, "tags": [], "bug_id": 32418, "text": "(In reply to comment #8)\n> We are not allowed to distribute \"our\" version of Tomcat, they are running some\n> other application and we cannot mix app \"our\" version with the \"official\" one.\n> You asked what are the differences between uploading and deploying directly on\n> the server and I showed it.\n\nIf you are using Tomcat as you would of a closed source commercial offering,\nthen you are limited to what you could do with a commercial offering (aka, if\nyou want a particular feature, you're in trouble if it's not available). It's\nyour decision, so you have to live with the consequences. I don't see what's bad\nwith tweaking something like the manager servlet.", "id": 82463, "time": "2005-11-14T16:30:26Z", "creator": "remm@apache.org", "creation_time": "2005-11-14T16:30:26Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 32418, "is_private": false, "count": 10, "id": 82467, "time": "2005-11-14T16:48:52Z", "creator": "brenmcguire@tariffenet.it", "creation_time": "2005-11-14T16:48:52Z", "text": "(In reply to comment #9)\n> \n> If you are using Tomcat as you would of a closed source commercial offering,\n> then you are limited to what you could do with a commercial offering (aka, if\n> you want a particular feature, you're in trouble if it's not available). It's\n> your decision, so you have to live with the consequences. I don't see what's bad\n> with tweaking something like the manager servlet.\n\nErrr... yes it's nothing bad but I felt confused when I saw this bug, whoops\nmissing feature, after reading the documentation. At least for coherence remove\nthe docs!\nAnyway, I modified my code with different calls for Tomcat 4.1 and 5.5. It seems\nthat calling /deploy passing the complete path in the \"war\" parameter, that file\nis deployed, though this feature is undocumented.\nMaybe it's the documentation that needs a fix ;-)\n"}]