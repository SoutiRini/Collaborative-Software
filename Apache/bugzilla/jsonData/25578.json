[{"count": 0, "tags": [], "creator": "towerofpower@operamail.com", "attachment_id": null, "id": 49218, "time": "2003-12-17T01:46:09Z", "bug_id": 25578, "creation_time": "2003-12-17T01:46:09Z", "is_private": false, "text": "win2k VS.NET(2002)\n\nhttpd-2.0.48> nmake /f Makefile.win INSTDIR=\"\\www\\Apache2\" installr\n\n--------------------------------------------------------------------------------\ncd ..\\..\ncd modules\\filters\nnmake  -f mod_deflate.mak CFG=\"mod_deflate - Win32 Release\" RECURSE=0\n\nMicrosoft (R) Program Maintenance Utility Version 7.00.9466\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        cl.exe /nologo /MD /W3 /Zi /O2 /I \"../../include\" /I \"../../srclib/apr/i\nnclude\" /I \"../../srclib/apr-util/include\" /I \"../../srclib/zlib\" /D \"NDEBUG\" /D\n \"WIN32\" /D \"_WINDOWS\" /Fo\".\\Release\\\\\" /Fd\".\\Release\\mod_deflate_src\" /FD /c ..\n\\..\\srclib\\zlib\\adler32.c\nadler32.c\n        cl.exe /nologo /MD /W3 /Zi /O2 /I \"../../include\" /I \"../../srclib/apr/i\nnclude\" /I \"../../srclib/apr-util/include\" /I \"../../srclib/zlib\" /D \"NDEBUG\" /D\n \"WIN32\" /D \"_WINDOWS\" /Fo\".\\Release\\\\\" /Fd\".\\Release\\mod_deflate_src\" /FD /c ..\n\\..\\srclib\\zlib\\crc32.c\ncrc32.c\n        cl.exe /nologo /MD /W3 /Zi /O2 /I \"../../include\" /I \"../../srclib/apr/i\nnclude\" /I \"../../srclib/apr-util/include\" /I \"../../srclib/zlib\" /D \"NDEBUG\" /D\n \"WIN32\" /D \"_WINDOWS\" /Fo\".\\Release\\\\\" /Fd\".\\Release\\mod_deflate_src\" /FD /c ..\n\\..\\srclib\\zlib\\deflate.c\ndeflate.c\nNMAKE : fatal error U1073: don't know how to make '\"..\\..\\srclib\\zlib\\infblock.h\n\"'\nStop.\nNMAKE : fatal error U1077: '\"E:\\Program Files\\Microsoft Visual Studio .NET\\VC7\\B\nIN\\nmake.exe\"' : return code '0x2'\nStop.\nNMAKE : fatal error U1077: '\"E:\\Program Files\\Microsoft Visual Studio .NET\\VC7\\B\nIN\\nmake.exe\"' : return code '0x2'\nStop.\n--------------------------------------------------------------------------------\n\nSeems that 'infblock.h', that is used under... \n\\httpd-2.0.48\\modules\\filters\\mod_deflate.dep \n...is no longer present under the new zlib-1.2.1\n\nzlib-1.1.4 works."}, {"count": 1, "tags": [], "bug_id": 25578, "attachment_id": null, "text": "I've started to fix it in 2.1 by linking against zlib.lib instead of particular\nfiles. I'm not a VC guru so, I'm expecting that someone else fixes my *.dsp and\nMakefile.win changes ;)\n\nThe changes are in Makefile.win r1.134 and mod_deflate.dsp r1.9.\n\nThanks for the report.", "id": 50699, "time": "2004-01-18T17:04:51Z", "creator": "nd@perlig.de", "creation_time": "2004-01-18T17:04:51Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 25578, "attachment_id": null, "text": "we've had several changes to mod_deflate since this bug report.  Can you check\nwhether it builds correctly now, either with 2.0.51 or with mod_deflate from\ncurrent CVS?", "id": 63091, "time": "2004-09-05T15:33:49Z", "creator": "nick@webthing.com", "creation_time": "2004-09-05T15:33:49Z", "is_private": false}, {"count": 3, "tags": [], "text": "No, httpd-2.0.52 (win32) with mod_deflate (zlib 1.2.1) does not build.\n\n\n--------------------------------------------------------------------------------\n\nMicrosoft (R) Program Maintenance Utility Version 7.00.9466\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        tempfile.bat\n        rc.exe /l 0x409 /fo\".\\Release\\mod_auth_ldap.res\" /d \"NDEBUG\" .\\mod_auth_\nldap.rc\n        cl.exe @C:\\DOCUME~1\\ADMINI~1\\LOCALS~1\\Temp\\nm3CE.tmp\nmod_auth_ldap.c\n        link.exe @C:\\DOCUME~1\\ADMINI~1\\LOCALS~1\\Temp\\nm3CF.tmp\n   Creating library .\\Release\\mod_auth_ldap.lib and object .\\Release\\mod_auth_ld\nap.exp\n        cd ..\\..\n        cd modules\\filters\n        nmake  -f mod_deflate.mak     CFG=\"mod_deflate - Win32 Release\" RECURSE=\n0\n\nMicrosoft (R) Program Maintenance Utility Version 7.00.9466\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        if not exist \".\\Release/\" mkdir \".\\Release\"\n        cl.exe /nologo /MD /W3 /Zi /O2 /I \"../../include\" /I \"../../srclib/apr/i\nnclude\" /I \"../../srclib/apr-util/include\" /I \"../../srclib/zlib\" /D \"NDEBUG\" /D\n \"WIN32\" /D \"_WINDOWS\" /Fo\".\\Release\\\\\" /Fd\".\\Release\\mod_deflate_src\" /FD /c ..\n\\..\\srclib\\zlib\\adler32.c\nadler32.c\n        cl.exe /nologo /MD /W3 /Zi /O2 /I \"../../include\" /I \"../../srclib/apr/i\nnclude\" /I \"../../srclib/apr-util/include\" /I \"../../srclib/zlib\" /D \"NDEBUG\" /D\n \"WIN32\" /D \"_WINDOWS\" /Fo\".\\Release\\\\\" /Fd\".\\Release\\mod_deflate_src\" /FD /c ..\n\\..\\srclib\\zlib\\crc32.c\ncrc32.c\n        cl.exe /nologo /MD /W3 /Zi /O2 /I \"../../include\" /I \"../../srclib/apr/i\nnclude\" /I \"../../srclib/apr-util/include\" /I \"../../srclib/zlib\" /D \"NDEBUG\" /D\n \"WIN32\" /D \"_WINDOWS\" /Fo\".\\Release\\\\\" /Fd\".\\Release\\mod_deflate_src\" /FD /c ..\n\\..\\srclib\\zlib\\deflate.c\ndeflate.c\nNMAKE : fatal error U1073: don't know how to make '\"..\\..\\srclib\\zlib\\infblock.h\n\"'\nStop.\nNMAKE : fatal error U1077: '\"E:\\Program Files\\Microsoft Visual Studio .NET\\VC7\n\\BIN\\nmake.exe\"' : return code '0x2'\nStop.\nNMAKE : fatal error U1077: '\"E:\\Program Files\\Microsoft Visual Studio .NET\\VC7\n\\BIN\\nmake.exe\"' : return code '0x2'\nStop.\n\n--------------------------------------------------------------------------------", "attachment_id": null, "id": 65015, "creator": "towerofpower@operamail.com", "time": "2004-10-12T23:08:46Z", "bug_id": 25578, "creation_time": "2004-10-12T23:08:46Z", "is_private": false}, {"count": 4, "tags": [], "text": "I've just installed 2.0.52 on my XP box (from source) and I had to fix both \ndsp and mak files to build with zlib-1.2.1. I can provide complete files or \ndiff's as needed.", "attachment_id": null, "id": 69254, "creator": "frank@kromann.info", "time": "2005-01-06T00:41:56Z", "bug_id": 25578, "creation_time": "2005-01-06T00:41:56Z", "is_private": false}, {"count": 5, "tags": [], "text": "\n  First, only zlib 1.1.4 or 1.2.3 are safe, all of the 1.2.0-1.2.2 releases\n  had published vulnerabilities.\n\n  Second; ASF isn't refactoring, in fact we are keeping binary compatibility\n  for the life of httpd-2.0 (and breaking it when we ship httpd-2.2).\n  When httpd-2.2 ships, we are linking (and not compiling ourselves) to\n  the zlib 1.2.3, or then-current version of zlib.dll.\n\n  So if you want to plug in a different mod_deflate.dsp which will let you\n  build the zlib.dll (zdll.lib) and simply link that .dll with mod_deflate,\n  grab the current development project file and save it within your httpd\n  2 modules\\filters\\ directory;\n\nhttp://svn.apache.org/viewcvs.cgi/*checkout*/httpd/httpd/trunk/modules/filters/mod_deflate.dsp", "attachment_id": null, "bug_id": 25578, "id": 79826, "time": "2005-09-12T19:03:54Z", "creator": "wrowe@apache.org", "creation_time": "2005-09-12T19:03:54Z", "is_private": false}]