[{"count": 0, "tags": [], "creator": "werbung@kuhnle.net", "attachment_id": null, "is_private": false, "id": 73426, "time": "2005-04-07T23:40:55Z", "bug_id": 34363, "creation_time": "2005-04-07T23:40:55Z", "text": "Batik 1.5.1 chokes with the following exception if a characters event is\nreceived before the startElement for the \"svg\" element, even if the characters\nare only whitespace. Maybe this should be relaxed a bit, so whitespace only\ncharacters are ignored.\n\norg.w3c.dom.DOMException: The current node (type: 9, name: #document) do not\nallow children of the given type (type: 3, name: #text)\n\tat org.apache.batik.dom.AbstractNode.createDOMException(AbstractNode.java:404)\n\tat org.apache.batik.dom.AbstractDocument.checkChildType(AbstractDocument.java:545)\n\tat\norg.apache.batik.dom.AbstractParentNode.checkAndRemove(AbstractParentNode.java:457)\n\tat\norg.apache.batik.dom.AbstractParentNode.insertBefore(AbstractParentNode.java:114)\n\tat\norg.apache.batik.dom.util.SAXDocumentFactory.startElement(SAXDocumentFactory.java:542)"}, {"count": 1, "tags": [], "bug_id": 34363, "text": "Created attachment 14659\nPatch for this \"bug\"", "id": 73429, "time": "2005-04-08T01:31:34Z", "creator": "werbung@kuhnle.net", "creation_time": "2005-04-08T01:31:34Z", "is_private": false, "attachment_id": 14659}, {"attachment_id": null, "tags": [], "bug_id": 34363, "is_private": false, "count": 2, "id": 77056, "time": "2005-07-07T04:04:06Z", "creator": "cam-apache@aka.mcc.id.au", "creation_time": "2005-07-07T04:04:06Z", "text": "Hi Jochen.\n\nAccording to DOM 2 Core (and DOM 3 Core), the Document node may not have any\nText node children at all, even if they are only whitespace.  I can't reproduce\nthis bug.  I tried a document like this:\n\n\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n\n   <?blah?>\n\n<svg ...>\n</svg>\n\nso there was whitespace before the DOCTYPE, between the DOCTYPE and PI and\nbetween the PI and first element.  Do you have a test document that you can supply?"}, {"count": 3, "tags": [], "creator": "batik@bjoernsworld.de", "is_private": false, "id": 77057, "creation_time": "2005-07-07T04:31:10Z", "time": "2005-07-07T04:31:10Z", "bug_id": 34363, "text": "A SAX processor that reports characters events outside the document element is \nnon-compliant. The characters callback is meant for character data, per XML 1.0 \nwhite space outside the document element is not character data but markup. Same \ngoes for the DOM of course, as Cameron pointed out.", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 34363, "is_private": false, "count": 4, "id": 139343, "time": "2010-08-22T12:17:25Z", "creator": "helder.magalhaes@gmail.com", "creation_time": "2010-08-22T12:17:25Z", "text": "Resolving the issue given the long timespan without requested information being added. Also, marking as invalid given that the root cause was probably an external, non-compliant, XML parser being used or by an old JRE/JDK bug. Also, I was unable to reproduce using the current trunk code with JDK 1.6.0_21.\n\n@Jochen:\nPlease feel free to add the requested information (an SVG test case which reproduces the issue, maybe?) and reopen the issue. Anyway, it would be nice confirming Cameron/Bjoern hints and/or the hypothesis above. Thanks."}]