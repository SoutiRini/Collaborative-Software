[{"count": 0, "tags": [], "bug_id": 19730, "attachment_id": null, "id": 36826, "time": "2003-05-07T14:14:18Z", "creator": "mhilpert@gmx.de", "creation_time": "2003-05-07T14:14:18Z", "is_private": false, "text": "I wrote a target that is intended to do the following thing:\n1. read build number from build.number file and save to property\n2. increase build number in build.number file\n3. read new build number from build.number file and save to another property\n4. take the two build numbers to replace the build number string in a \nVersion.java file\n\n------- ant target:\n    <target name=\"increase build.number\" depends=\"info\" description=\"\">\n        <!-- get old build number: -->\n        <loadproperties srcFile=\"${java}${file.separator}build.number\"/>\n        <property name=\"oldbn\" value=\"BUILD_NUMBER = ${build.number}\"/>\n        <!-- increase build number in file build.number: -->\n        <buildnumber file=\"${java}${file.separator}build.number\"/>\n        <!-- read build number into property: -->\n        <loadproperties srcFile=\"${java}${file.separator}build.number\"/>\n        <property name=\"bn\" value=\"BUILD_NUMBER = ${build.number}\"/>\n<echo message=\"Old bn=${oldbn} new bn=${bn}\"/>\n        <!-- update build number in Version class: -->\n        <replace file=\"${src}${fs}de${fs}icomps${fs}amc${fs}amr${fs}\nVersion.java\" token=\"${oldbn}\" value=\"${bn}\"/>\n    </target>\n-------\n\nbut the debug echo output is:\n\n-------\nincrease build.number:\n        [echo] Old bn=BUILD_NUMBER = 10 new bn=BUILD_NUMBER = 10\n-------\n\nand shows the old build.number value (in this example 10). It seems that the \nsecond call of <loadproperties> doesn't work because the property build.number \nhas still the old value after second call of <loadproperties>."}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "is_private": false, "id": 36832, "time": "2003-05-07T14:52:14Z", "bug_id": 19730, "creation_time": "2003-05-07T14:52:14Z", "text": "This is by design.  All properties in Ant are immutable, no matter which task\nyou've used to set them."}]