[{"count": 0, "tags": [], "bug_id": 44258, "text": "Hi!\nWhen checking a Servers reply to a HEAD request, I found, that the \"Server: \"\nline contained some bytes from the apache config (part of a rewrite rule). When\nsaving the config with just commenting out the rewrite rule, other things\nappeared in the Server header, e.g. \"RealPlayer 4\\.0 (the corresponding line in\nthe default config says: BrowserMatch \"RealPlayer 4\\.0\" force-response-1.0).\nSometimes there are hex bytes in it, so it leaks from the memory, not from the\nfile directly.\n\nTo reproduce, do this:\ntar xfvz httpd-2.0.61.tar.gz\ncd httpd-2.0.61\n./configure --prefix=/opt/apache2 --enable-rewrite --enable-so --enable-ssl &&\nmake && make install\ncd /opt/apache2/conf\ncurl -O http://ge.mine.nu/httpd.conf\n\nmodify the file so that it fits to your IP config! Then:\n/opt/apache2/bin/apachectl start\n\nprintf \"HEAD / HTTP/1.1\\r\\nhost: www.f00bar.de\\r\\nConnection: close\\r\\n\\r\\n\" |\nnc 192.168.0.75 80\n\nThere might be some hex bytes in the output.\n\n[root@e6600 ~]# printf \"HEAD / HTTP/1.1\\r\\nhost: www.f00bar.de\\r\\nConnection:\nclose\\r\\n\\r\\n\" | nc 192.168.0.75 80  | xxd\n0000000: 4854 5450 2f31 2e31 2033 3031 204d 6f76  HTTP/1.1 301 Mov\n0000010: 6564 2050 6572 6d61 6e65 6e74 6c79 0d0a  ed Permanently..\n0000020: 4461 7465 3a20 5468 752c 2031 3720 4a61  Date: Thu, 17 Ja\n0000030: 6e20 3230 3038 2031 323a 3439 3a34 3220  n 2008 12:49:42\n0000040: 474d 540d 0a53 6572 7665 723a 2041 7061  GMT..Server: Apa\n0000050: 6368 652f 322e 302e 3631 2028 556e 6978  che/2.0.61 (Unix\n0000060: 2920 6d6f 645f 7373 6c2f 322e 302e 3631  ) mod_ssl/2.0.61\n0000070: 20e8 d319 0888 d919 08f0 300b 08a0 8406   .........0.....\n0000080: 0866 6f72 6365 2d72 6573 706f 6e73 652d  .force-response-\n0000090: 312e 300d 0a4c 6f63 6174 696f 6e3a 202f  1.0..Location: /\n00000a0: 6465 2f0d 0a43 6f6e 6e65 6374 696f 6e3a  de/..Connection:\n00000b0: 2063 6c6f 7365 0d0a 436f 6e74 656e 742d   close..Content-\n00000c0: 5479 7065 3a20 7465 7874 2f68 746d 6c3b  Type: text/html;\n00000d0: 2063 6861 7273 6574 3d69 736f 2d38 3835   charset=iso-885\n00000e0: 392d 310d 0a0d 0a                        9-1....\n\nIMPORTANT!\nIf you cannot reproduce this (sometimes even a 1 char change in the config makes\nthis behaviour disapper or get you a completely different line!), use\n192.168.0.75 temporarily, or just add/remove some blank lines from httpd.conf.\nIt WILL work, I've reproduced this behaviour on 2 Systems, one of them SLES9 SP3\ni386 and one is a Gentoo System with latest patches.", "id": 112946, "time": "2008-01-17T04:56:21Z", "creator": "Craig@haquarter.de", "creation_time": "2008-01-17T04:56:21Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "This was already fixed in 2.0.63, which will be available in a few days.\n\n*** This bug has been marked as a duplicate of 43334 ***", "attachment_id": null, "id": 112947, "creator": "takashi.asfbugzilla@tks.st", "time": "2008-01-17T05:13:37Z", "bug_id": 44258, "creation_time": "2008-01-17T05:13:37Z", "is_private": false}]