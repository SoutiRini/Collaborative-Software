[{"count": 0, "tags": [], "bug_id": 51869, "text": "Created attachment 27565\nContains a zip file of the two test plans files.\n\nI'm getting the following exception when including a Test Fragment via an include controller:\n\n2011/09/22 11:21:46 ERROR - jmeter.gui.action.ActionRouter:  java.lang.NullPointerException\n\tat org.apache.jmeter.control.IncludeController.clone(IncludeController.java:81)\n\tat org.apache.jmeter.gui.action.CheckDirty.addNode(CheckDirty.java:133)\n\tat org.apache.jorphan.collections.HashTree.traverseInto(HashTree.java:986)\n\tat org.apache.jorphan.collections.HashTree.traverseInto(HashTree.java:987)\n\tat org.apache.jorphan.collections.HashTree.traverse(HashTree.java:969)\n\tat org.apache.jmeter.gui.action.CheckDirty.doAction(CheckDirty.java:88)\n\tat org.apache.jmeter.gui.action.ActionRouter.performAction(ActionRouter.java:82)\n\tat org.apache.jmeter.gui.action.ActionRouter.access$000(ActionRouter.java:42)\n\tat org.apache.jmeter.gui.action.ActionRouter$1.run(ActionRouter.java:61)\n\tat java.awt.event.InvocationEvent.dispatch(Unknown Source)\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n\tat java.awt.EventQueue.access$000(Unknown Source)\n\tat java.awt.EventQueue$1.run(Unknown Source)\n\tat java.awt.EventQueue$1.run(Unknown Source)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(Unknown Source)\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Sour\n\nI'm attaching a zip file with the following:\n\n[-]The test plan using the include controller (Use.Include.jmx)\n[-]The test fragment (Test.Fragment.jmx)\n\nI've debugged the problem and the fix is pretty simple. Is there any way I can submit the patch?", "id": 149635, "time": "2011-09-22T15:31:27Z", "creator": "vh.garcia.valencia@gmail.com", "creation_time": "2011-09-22T15:31:27Z", "is_private": false, "attachment_id": 27565}, {"count": 1, "tags": [], "bug_id": 51869, "text": "Created attachment 27566\nPatch for fixing this.\n\nFixed 'Include Controller.java'", "id": 149636, "attachment_id": 27566, "creator": "vh.garcia.valencia@gmail.com", "creation_time": "2011-09-22T15:35:47Z", "time": "2011-09-22T15:35:47Z", "is_private": false}, {"count": 2, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "Thanks!\n\nBTW, the patch file is not actually a patch - it's the full source.\nIn this case it was easy to apply, but in general patches are better because they usually still work even if the file has been updated; also they are easier to evaluate.\n\nI'm assuming the fix works (it's unlikely to make things worse), but cannot test because the test plan contains a reference to a 3rd party library. Please only provide test cases using standard JMeter components.\n\nURL: http://svn.apache.org/viewvc?rev=1174269&view=rev\nLog:\nBug 51869 - NullPointer Exception when using Include Controller\n\nModified:\n   jakarta/jmeter/trunk/src/components/org/apache/jmeter/control/IncludeController.java\n   jakarta/jmeter/trunk/xdocs/changes.xml", "id": 149640, "time": "2011-09-22T17:13:07Z", "bug_id": 51869, "creation_time": "2011-09-22T17:13:07Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 51869, "is_private": false, "id": 149656, "attachment_id": 27572, "creator": "vh.garcia.valencia@gmail.com", "creation_time": "2011-09-22T20:36:11Z", "time": "2011-09-22T20:36:11Z", "text": "Created attachment 27572\nTest plans fixed without 3rd party components\n\nThe \"entry point\" is 'Use.Include.jmx', the fragment is 'Test.Fragment.jmx'. I removed the 3rd party component."}, {"count": 4, "tags": [], "bug_id": 51869, "is_private": false, "id": 149658, "attachment_id": null, "creator": "vh.garcia.valencia@gmail.com", "creation_time": "2011-09-22T20:37:20Z", "time": "2011-09-22T20:37:20Z", "text": "Where can I find documentation about creating a patch correctly? I uploaded the corrected test plans. Shouldn't contain the 3rd party components any more."}, {"count": 5, "tags": [], "bug_id": 51869, "is_private": false, "text": "Thanks for the updated test plan, it does load OK.\nHowever the include file has lots of elements which make it hard to see what is happening.\n\nCould you provide simpler test case?\n\nPatches are described on the Jakarta web-site, for example\n\nhttp://jakarta.apache.org/site/source.html#Patches", "id": 149659, "time": "2011-09-22T20:52:21Z", "creator": "sebb@apache.org", "creation_time": "2011-09-22T20:52:21Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 51869, "text": "I think this one is fixed looking at changes.xml and testing plan.\nSo I close it, if I am wrong reopen.\nFixed in 2.5.1.\nRegards", "id": 150032, "time": "2011-10-01T22:00:04Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-10-01T22:00:04Z", "is_private": false, "attachment_id": null}]