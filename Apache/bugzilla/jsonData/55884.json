[{"count": 0, "tags": [], "text": "I would normally message the list first, but I am fairly certain this is a Tomcat bug, and I can't attach anything to the list.\n\nI have attached a WAR file with a simple application in it, compiled for Java 7. A few months ago this application ran fine on Tomcat 8.0 with Tomcat configured to compile JSPs using Ant and source/target 1.8. Now it doesn't.\n\nWith Tomcat trunk and the standard JSP compilation configuration (Eclipse), the application runs fine. Go to http://localhost:8080/messaging1 and the JSP compiles and displays fine. However, if I add the following setenv.bat to the bin directory:\n\nset \"CLASSPATH=C:\\Program Files\\Java\\jdk8\\lib\\tools.jar;C:\\Program Files\\Apache Software Foundation\\Ant\\lib\\ant.jar;C:\\Program Files\\Apache Software Foundation\\Ant\\lib\\ant-launcher.jar\"\n\nThen reconfigure the JspServlet like so:\n\n    <servlet>\n        <servlet-name>jsp</servlet-name>\n        <servlet-class>org.apache.jasper.servlet.JspServlet</servlet-class>\n        <init-param>\n            <param-name>fork</param-name>\n            <param-value>false</param-value>\n        </init-param>\n        <init-param>\n            <param-name>xpoweredBy</param-name>\n            <param-value>false</param-value>\n        </init-param>\n        <init-param>\n            <param-name>compiler</param-name>\n            <param-value>modern</param-value>\n        </init-param>\n        <init-param>\n            <param-name>compilerSourceVM</param-name>\n            <param-value>1.8</param-value>\n        </init-param>\n        <init-param>\n            <param-name>compilerTargetVM</param-name>\n            <param-value>1.8</param-value>\n        </init-param>\n        <load-on-startup>3</load-on-startup>\n    </servlet>\n\nAnd finally test the application again, JSPs no longer compile. Instead, I get the following error in catalina.*.log. Again, this exact application worked in Tomcat 8.0 with the same JSP compilation configuration just a few months ago. I recently got and compiled the latest trunk to obtain a bug fix, and now this doesn't work.\n\n14-Dec-2013 10:54:14.432 SEVERE [http-nio-8080-exec-4] org.apache.jasper.compiler.AntCompiler.generateClass Javac exception\n Compile failed; see the compiler error output for details.\n\tat org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:1174)\n\tat org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:930)\n\tat org.apache.jasper.compiler.AntCompiler.generateClass(AntCompiler.java:234)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:380)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:355)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:342)\n\tat org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n\tat org.apache.logging.log4j.core.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:59)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:729)\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:467)\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:392)\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:319)\n\tat org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:209)\n\tat org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:266)\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1225)\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1012)\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:876)\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:931)\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:822)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:807)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n\tat org.apache.logging.log4j.core.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:66)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:107)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:76)\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:934)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:90)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522)\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1015)\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:646)\n\tat org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1555)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:744)\n\n14-Dec-2013 10:54:14.432 SEVERE [http-nio-8080-exec-4] org.apache.jasper.compiler.AntCompiler.generateClass Environment:Compile: javaFileName=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\messaging1\\org\\apache\\jsp\\WEB_002dINF\\jsp\\view\\login_jsp.java\n    classpath=/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/classes/;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/aopalliance-1.0.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/classmate-0.8.0.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/commons-lang3-3.1.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/commons-logging-1.1.1.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/hibernate-validator-5.1.0.Alpha1.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/jackson-annotations-2.3.0.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/jackson-core-2.3.0.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/jackson-databind-2.3.0.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/jackson-datatype-jsr310-2.3.0-rc1.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/javax.annotation-api-1.2.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/javax.inject-1.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/javax.servlet.jsp.jstl-1.2.2.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/javax.servlet.jsp.jstl-api-1.2.1.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/jboss-logging-3.1.3.GA.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/log4j-api-2.0-beta9.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/log4j-core-2.0-beta9.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/log4j-jcl-2.0-beta9.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/log4j-slf4j-impl-2.0-beta9.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/log4j-taglib-2.0-beta9.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/slf4j-api-1.7.5.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/spring-aop-4.0.0.RELEASE.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/spring-beans-4.0.0.RELEASE.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/spring-context-4.0.0.RELEASE.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/spring-core-4.0.0.RELEASE.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/spring-expression-4.0.0.RELEASE.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/spring-oxm-4.0.0.RELEASE.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/spring-web-4.0.0.RELEASE.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/spring-webmvc-4.0.0.RELEASE.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/spring-websocket-4.0.0.RELEASE.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/validation-api-1.1.0.Final.jar;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\messaging1;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/annotations-api.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/catalina-ant.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/catalina-ha.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/catalina-storeconfig.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/catalina-tribes.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/catalina.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/ecj-4.3.1.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/el-api.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/jasper-el.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/jasper.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/jsp-api.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/servlet-api.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-api.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-coyote.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-dbcp.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-i18n-es.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-i18n-fr.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-i18n-ja.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-jdbc.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-jni.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-spdy.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-util-scan.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-util.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-websocket.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/websocket-api.jar;/C:/Program Files/Java/jdk8/lib/tools.jar;/C:/Program Files/Apache Software Foundation/Ant/lib/ant.jar;/C:/Program Files/Apache Software Foundation/Ant/lib/ant-launcher.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/bin/bootstrap.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/bin/tomcat-juli.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/access-bridge-64.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/cldrdata.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/dnsns.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/jaccess.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/jfxrt.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/localedata.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/nashorn.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/sunec.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/sunjce_provider.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/sunmscapi.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/sunpkcs11.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/zipfs.jar\n    cp=C:\\Program Files\\Java\\jdk8\\lib\\tools.jar;C:\\Program Files\\Apache Software Foundation\\Ant\\lib\\ant.jar;C:\\Program Files\\Apache Software Foundation\\Ant\\lib\\ant-launcher.jar;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\bin\\bootstrap.jar;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\bin\\tomcat-juli.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\classes\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\aopalliance-1.0.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\classmate-0.8.0.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\commons-lang3-3.1.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\commons-logging-1.1.1.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\hibernate-validator-5.1.0.Alpha1.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\jackson-annotations-2.3.0.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\jackson-core-2.3.0.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\jackson-databind-2.3.0.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\jackson-datatype-jsr310-2.3.0-rc1.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\javax.annotation-api-1.2.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\javax.inject-1.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\javax.servlet.jsp.jstl-1.2.2.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\javax.servlet.jsp.jstl-api-1.2.1.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\jboss-logging-3.1.3.GA.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\log4j-api-2.0-beta9.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\log4j-core-2.0-beta9.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\log4j-jcl-2.0-beta9.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\log4j-slf4j-impl-2.0-beta9.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\log4j-taglib-2.0-beta9.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\slf4j-api-1.7.5.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\spring-aop-4.0.0.RELEASE.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\spring-beans-4.0.0.RELEASE.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\spring-context-4.0.0.RELEASE.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\spring-core-4.0.0.RELEASE.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\spring-expression-4.0.0.RELEASE.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\spring-oxm-4.0.0.RELEASE.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\spring-web-4.0.0.RELEASE.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\spring-webmvc-4.0.0.RELEASE.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\spring-websocket-4.0.0.RELEASE.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\messaging1\\WEB-INF\\lib\\validation-api-1.1.0.Final.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\messaging1\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\annotations-api.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\catalina-ant.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\catalina-ha.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\catalina-storeconfig.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\catalina-tribes.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\catalina.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\ecj-4.3.1.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\el-api.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\jasper-el.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\jasper.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\jsp-api.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\servlet-api.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-api.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-coyote.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-dbcp.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-i18n-es.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-i18n-fr.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-i18n-ja.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-jdbc.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-jni.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-spdy.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-util-scan.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-util.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-websocket.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\websocket-api.jar\n    cp=C:\\Program Files\\Java\\jdk8\\lib\\tools.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Ant\\lib\\ant.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Ant\\lib\\ant-launcher.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\bin\\bootstrap.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\bin\\tomcat-juli.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\access-bridge-64.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\cldrdata.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\dnsns.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\jaccess.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\jfxrt.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\localedata.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\nashorn.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\sunec.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\sunjce_provider.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\sunmscapi.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\sunpkcs11.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\zipfs.jar\n    work dir=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\messaging1\n    extension dir=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext;C:\\Windows\\Sun\\Java\\lib\\ext\n    srcDir=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\messaging1\n    compiler=modern\n   compilerTargetVM=1.8\n   compilerSourceVM=1.8\n    include=org/apache/jsp/WEB_002dINF/jsp/view/login_jsp.java\n\n14-Dec-2013 10:54:14.448 SEVERE [http-nio-8080-exec-4] org.apache.jasper.compiler.AntCompiler.generateClass Error compiling file: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\messaging1\\org\\apache\\jsp\\WEB_002dINF\\jsp\\view\\login_jsp.java     [javac] warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds\n    [javac] Compiling 1 source file\n\nC:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\messaging1\\org\\apache\\jsp\\WEB_002dINF\\jsp\\view\\login_jsp.java:108: error: package org.apache.taglibs.standard.tag.rt.core does not exist\n    org.apache.taglibs.standard.tag.rt.core.UrlTag _jspx_th_c_005furl_005f0 = (org.apache.taglibs.standard.tag.rt.core.UrlTag) _005fjspx_005ftagPool_005fc_005furl_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.UrlTag.class);\n                                           ^\nC:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\messaging1\\org\\apache\\jsp\\WEB_002dINF\\jsp\\view\\login_jsp.java:108: error: package org.apache.taglibs.standard.tag.rt.core does not exist\n    org.apache.taglibs.standard.tag.rt.core.UrlTag _jspx_th_c_005furl_005f0 = (org.apache.taglibs.standard.tag.rt.core.UrlTag) _005fjspx_005ftagPool_005fc_005furl_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.UrlTag.class);\n                                                                                                                      ^\nC:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\messaging1\\org\\apache\\jsp\\WEB_002dINF\\jsp\\view\\login_jsp.java:108: error: package org.apache.taglibs.standard.tag.rt.core does not exist\n    org.apache.taglibs.standard.tag.rt.core.UrlTag _jspx_th_c_005furl_005f0 = (org.apache.taglibs.standard.tag.rt.core.UrlTag) _005fjspx_005ftagPool_005fc_005furl_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.UrlTag.class);\n                                                                                                                                                                                                                                        ^\n3 errors", "attachment_id": null, "id": 171741, "creator": "nicholas@nicholaswilliams.net", "time": "2013-12-14T17:03:59Z", "bug_id": 55884, "creation_time": "2013-12-14T17:03:59Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 55884, "attachment_id": null, "id": 171742, "time": "2013-12-14T17:05:43Z", "creator": "nicholas@nicholaswilliams.net", "creation_time": "2013-12-14T17:05:43Z", "is_private": false, "text": "Well that was pointless, because apparently there's a tiny size limit on attachments. Suggestions on how to attach this WAR file?"}, {"count": 2, "tags": [], "bug_id": 55884, "attachment_id": null, "id": 171743, "time": "2013-12-14T20:05:12Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2013-12-14T20:05:12Z", "is_private": false, "text": "(In reply to Nick Williams from comment #1)\n\n1. Simplify.\n\nYour issue is that a single JSP page does not compile. Remove everything that is not related to the problem. There is no need to bundle all of Spring etc.\n\n2. Are you sure that you have a JAR that contains org.apache.taglibs.standard.tag.rt.core.UrlTag\non the classpath?\n\nIt seems that you are trying to use Oracle JSTL implementation (that abuses Apache package names).\n\n3. What version of Tomcat 8 are you using?\nSeveral tag-file related bugs were fixed in the last few days (those were noted during 8.0.0-RC7 voting).\n\n4. What versions of Java 8 and of Apache Ant are you using?"}, {"count": 3, "tags": [], "creator": "jboynes@apache.org", "attachment_id": null, "is_private": false, "id": 171744, "time": "2013-12-14T20:09:33Z", "bug_id": 55884, "creation_time": "2013-12-14T20:09:33Z", "text": "The mixed use of URL encoding on the classpath looks suspicious:\n  /C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/messaging1/WEB-INF/lib/javax.servlet.jsp.jstl-1.2.2.jar\nvs.\n  /C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/servlet-api.jar\n\nThe difference seems to be paths to libraries sourced from the webapp, which would include the jar containing the classes needed for JSTL.\n\nCan you reproduce this with the stock distribution (the SVG example http://localhost:8080/examples/jsp/jsp2/jspx/svgexample.html uses JSTL) when it is installed in a directory with spaces and uses the Ant compiler?"}, {"count": 4, "tags": [], "text": "Created attachment 31117\nApplication Replicating Problem\n\nOkay. I've attached the simplest possible application that replicates the problem. Just go to http://localhost:8080/test-jstl/ after deploying it.\n\nTo respond to your questions (and in anticipation of future questions):\n\n1) I'm using Tomcat 8.0.0-trunk-1550920 (compiled this morning).\n2) http://localhost:8080/examples/jsp/jsp2/jspx/svgexample.html works fine.\n3) Yes, I have the necessary JARs in my application (see attached WAR file).\n4) Java 8-ea-120 (this week)\n5) Ant 1.9.0 compiled on March 5 2013\n6) The app only fails to compile the JSP in Tomcat 8 using the Ant+Java 8 compiler configuration.\n7) The app works fine in Tomcat 8.0.0-trunk-1550920 using the built-in Eclipse compiler.\n8) The app works fine in Tomcat 7.0.47 using the built-in Eclipse compiler.\n9) The app works fine in Tomcat 7.0.47 using the same Ant+Java 8 compiler configuration.\n\nHere's the error for the new test-jstl.war app:\n\n14-Dec-2013 20:16:10.819 SEVERE [http-nio-8080-exec-2] org.apache.jasper.compiler.AntCompiler.generateClass Javac exception\n Compile failed; see the compiler error output for details.\n\tat org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:1174)\n\tat org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:930)\n\tat org.apache.jasper.compiler.AntCompiler.generateClass(AntCompiler.java:234)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:380)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:355)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:342)\n\tat org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:107)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:76)\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:934)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:90)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522)\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1015)\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:646)\n\tat org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1555)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:744)\n\n14-Dec-2013 20:16:10.834 SEVERE [http-nio-8080-exec-2] org.apache.jasper.compiler.AntCompiler.generateClass Environment:Compile: javaFileName=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\test-jstl\\org\\apache\\jsp\\index_jsp.java\n    classpath=/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/test-jstl/WEB-INF/lib/javax.servlet.jsp.jstl-1.2.2.jar;/C:/Program%20Files/Apache%20Software%20Foundation/Tomcat%208.0/webapps/test-jstl/WEB-INF/lib/javax.servlet.jsp.jstl-api-1.2.1.jar;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\test-jstl;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/annotations-api.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/catalina-ant.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/catalina-ha.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/catalina-storeconfig.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/catalina-tribes.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/catalina.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/ecj-4.3.1.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/el-api.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/jasper-el.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/jasper.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/jsp-api.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/servlet-api.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-api.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-coyote.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-dbcp.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-i18n-es.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-i18n-fr.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-i18n-ja.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-jdbc.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-jni.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-spdy.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-util-scan.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-util.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/tomcat-websocket.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/lib/websocket-api.jar;/C:/Program Files/Java/jdk8/lib/tools.jar;/C:/Program Files/Apache Software Foundation/Ant/lib/ant.jar;/C:/Program Files/Apache Software Foundation/Ant/lib/ant-launcher.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/bin/bootstrap.jar;/C:/Program Files/Apache Software Foundation/Tomcat 8.0/bin/tomcat-juli.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/access-bridge-64.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/cldrdata.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/dnsns.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/jaccess.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/jfxrt.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/localedata.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/nashorn.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/sunec.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/sunjce_provider.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/sunmscapi.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/sunpkcs11.jar;/C:/Program Files/Java/jdk8/jre/lib/ext/zipfs.jar\n    cp=C:\\Program Files\\Java\\jdk8\\lib\\tools.jar;C:\\Program Files\\Apache Software Foundation\\Ant\\lib\\ant.jar;C:\\Program Files\\Apache Software Foundation\\Ant\\lib\\ant-launcher.jar;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\bin\\bootstrap.jar;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\bin\\tomcat-juli.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\test-jstl\\WEB-INF\\lib\\javax.servlet.jsp.jstl-1.2.2.jar\n    cp=C:\\Program%20Files\\Apache%20Software%20Foundation\\Tomcat%208.0\\webapps\\test-jstl\\WEB-INF\\lib\\javax.servlet.jsp.jstl-api-1.2.1.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\test-jstl\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\annotations-api.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\catalina-ant.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\catalina-ha.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\catalina-storeconfig.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\catalina-tribes.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\catalina.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\ecj-4.3.1.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\el-api.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\jasper-el.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\jasper.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\jsp-api.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\servlet-api.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-api.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-coyote.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-dbcp.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-i18n-es.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-i18n-fr.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-i18n-ja.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-jdbc.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-jni.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-spdy.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-util-scan.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-util.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\tomcat-websocket.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\lib\\websocket-api.jar\n    cp=C:\\Program Files\\Java\\jdk8\\lib\\tools.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Ant\\lib\\ant.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Ant\\lib\\ant-launcher.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\bin\\bootstrap.jar\n    cp=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\bin\\tomcat-juli.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\access-bridge-64.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\cldrdata.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\dnsns.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\jaccess.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\jfxrt.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\localedata.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\nashorn.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\sunec.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\sunjce_provider.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\sunmscapi.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\sunpkcs11.jar\n    cp=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext\\zipfs.jar\n    work dir=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\test-jstl\n    extension dir=C:\\Program Files\\Java\\jdk8\\jre\\lib\\ext;C:\\Windows\\Sun\\Java\\lib\\ext\n    srcDir=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\test-jstl\n    compiler=modern\n   compilerTargetVM=1.8\n   compilerSourceVM=1.8\n    include=org/apache/jsp/index_jsp.java\n\n14-Dec-2013 20:16:10.834 SEVERE [http-nio-8080-exec-2] org.apache.jasper.compiler.AntCompiler.generateClass Error compiling file: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\test-jstl\\org\\apache\\jsp\\index_jsp.java     [javac] warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds\n    [javac] Compiling 1 source file\n\nC:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\test-jstl\\org\\apache\\jsp\\index_jsp.java:109: error: package org.apache.taglibs.standard.tag.rt.core does not exist\n    org.apache.taglibs.standard.tag.rt.core.UrlTag _jspx_th_c_005furl_005f0 = (org.apache.taglibs.standard.tag.rt.core.UrlTag) _005fjspx_005ftagPool_005fc_005furl_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.UrlTag.class);\n                                           ^\nC:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\test-jstl\\org\\apache\\jsp\\index_jsp.java:109: error: package org.apache.taglibs.standard.tag.rt.core does not exist\n    org.apache.taglibs.standard.tag.rt.core.UrlTag _jspx_th_c_005furl_005f0 = (org.apache.taglibs.standard.tag.rt.core.UrlTag) _005fjspx_005ftagPool_005fc_005furl_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.UrlTag.class);\n                                                                                                                      ^\nC:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\work\\Catalina\\localhost\\test-jstl\\org\\apache\\jsp\\index_jsp.java:109: error: package org.apache.taglibs.standard.tag.rt.core does not exist\n    org.apache.taglibs.standard.tag.rt.core.UrlTag _jspx_th_c_005furl_005f0 = (org.apache.taglibs.standard.tag.rt.core.UrlTag) _005fjspx_005ftagPool_005fc_005furl_0026_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.UrlTag.class);\n                                                                                                                                                                                                                                        ^\n3 errors", "attachment_id": 31117, "id": 171747, "creator": "nicholas@nicholaswilliams.net", "time": "2013-12-15T02:35:35Z", "bug_id": 55884, "creation_time": "2013-12-15T02:35:35Z", "is_private": false}, {"count": 5, "tags": [], "text": "I can reproduce this on OSX using Java 1.7 and the stock distribution.\n\nIf I copy output/build to \"/tmp/good-path\" and make the config changes described (setenv.sh and JspServlet) then the SVG demo and Nick's app work. If I then move the install to \"/tmp/bad path\" then I get the same compilation error occurs with both.\n\nI assume it's in the resource handling which is replacing the \" \" with \"%20\" in the classpath entry.", "attachment_id": null, "id": 171748, "creator": "jboynes@apache.org", "time": "2013-12-15T03:45:41Z", "bug_id": 55884, "creation_time": "2013-12-15T03:45:41Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 55884, "is_private": false, "text": "Thanks for the report. I have fixed this in trunk.", "id": 171772, "time": "2013-12-16T15:48:53Z", "creator": "markt@apache.org", "creation_time": "2013-12-16T15:48:53Z", "attachment_id": null}, {"count": 7, "attachment_id": null, "bug_id": 55884, "text": "I can confirm that this is fixed. Thanks!", "id": 171781, "time": "2013-12-17T02:01:52Z", "creator": "nicholas@nicholaswilliams.net", "creation_time": "2013-12-17T02:01:52Z", "tags": [], "is_private": false}]