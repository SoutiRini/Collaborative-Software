[{"attachment_id": null, "tags": [], "bug_id": 14038, "text": "At my first reading I found it difficult to piece together just how I could \ncontribute to the documentation.  Once I had it all down I decided that my \nfirst contribution should be a page on How To Contribute to the documentation.  \nI have a patch for putting it in xdocs/common but it is needed where ever it \nends up.\n\nIndex: menu.idx.in\n===================================================================\nRCS file: /home/cvspublic/jakarta-tomcat-connectors/jk/xdocs/menu.idx.in,v\nretrieving revision 1.2\ndiff -u -r1.2 menu.idx.in\n--- menu.idx.in\t7 Oct 2002 07:47:59 -0000\t1.2\n+++ menu.idx.in\t29 Oct 2002 07:41:44 -0000\n@@ -13,6 +13,7 @@\n   <section name=\"Commons\">\n   <document href=\"common/AJPv13.xml\"/>\n   <document href=\"common/AJPv13-extensions-proposal.xml\"/>\n+  <document href=\"common/doccontrib.xml\"/>\n   <document href=\"faq.xml\"/>\n   </section>\n   \n\n\n#########Begin new document doccontrib.xml###########\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<document>\n<properties>\n<title>How to Contribute to the Documentation</title>\n<author email=\"rsowders@usgs.gov\">Robert Sowders</author>\n<date>$Date: 2002/10/25 00:22:20 $</date>\n</properties>\n<section name=\"Introduction\">\n<p>\n    This document describes how you can easily contribute to the \ndocumentation.  I'm going to try to make it easy for everyone to help out with \nthe documentation of Tomcat, more specifically the documentation for the \nconnectors.  This is written from a windows user perspective as I believe they \nwill most benefit from it.  For people using Unix it should be easy for them to \napply these steps.  Just substitute Unix sytax where needed.\n</p>\n<p>\n    The documentation is produced using xml with xsl style sheets.  This \neffectivly seperates the content of the documents from the style, so all that \ncontributers need to worry about the content.  It is much easier to use than \nhtml.\n</p>\n<p>\n    It's all really quite simple.  Here is what you will need:\n<ul>\n<li>\n<b>A recent version of Ant</b>\n</li>\n<li>\n<b>The source code for the connectors from cvs</b>\n</li>\n<li>\n<b>Any ascii text editor</b>\n</li>\n</ul>\n</p>\n</section>\n<section name=\"Getting Started Step by Step\">\n<p>\n    After you get these tools they are simple to set up.\n</p>\n    <subsection name=\"STEP 1. Get Ant\">\n<p>\n    Install <a href=\"http://jakarta.apache.org/ant\">Ant</a>. The only advice I \nhave is to choose a simple installation path.  Now set an environment variable \nfor ANT_HOME, and then add the location of the Ant/bin directory to your PATH \nvariable.  Consult your Operating system documentation for information on how \nto do this.  When you are finished verify that you can run ant from the command \nline.\n</p>\n<p>\n    Ant is used to build the documentation, among other things, and it must be \nable to see a file called <b>build.xml</b>.  This file is located in the \n<b>CVS_HOME\\jakarta-tomcat-connectors\\jk</b> directory.  In the \n<b>build.xml</b> file there is a target named docs that will be used to build \nthe docs.\n</p>\n</subsection>\n<subsection name=\"STEP 2.  Get the sources\">\n<p>\n    Get the sources for <a href=\"http://cvs.apache.org/viewcvs/jakarta-tomcat-\nconnectors/\">jakarta-tomcat-connectors</a> from the CVS repository.  If you'll \nbe editing from a windows platform you will need a windows cvs client.  There \nare several available.  I like <a href=\"http://www.cygwin.com/\">cygwin</a>.  \nDuring the install open the developer group and click on cvs.  Unix users \nshould install the CVS client of their choice, if they don't already have one.\n</p>\n<p>\n    You are ready to download the sources now.  Change directory to the \nlocation where you want your repository to be, and run the following commands \nto download the sources for the first time.  For simplicity we will call this \nyour <b>CVS_HOME.</b>  Mine is located in C:\\build.\n</p>\n<p>\n    Login to the repository and then give the cvs password <b>anoncvs</b>.\n<screen>\n<read> </read>\n<read>C:\\build></read>\n<read>C:\\build\\>cvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic \nlogin</read>\n<read>cvs password:  anoncvs</read>\n<read> </read>\n</screen>\n</p>\n<p>\n    When your prompt comes back you are logged in.  Now run the following \ncommand to <b>checkout</b> the sources for the first time.  You should only \nneed to do this once.\n<screen>\n<read> </read>\n<read>C:\\build\\>cvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic checkout \njakarta-tomcat-connectors</read>\n<read> </read>\n</screen>\n</p>\n<p>\n    You should now be watching all the downloads come in.  Now that you have \nthe sources on your machine the hard part if over.  From now on, to update your \nsources all you have to do is cd into any directory in your repository and run \ncvs update\n    <screen>\n<note>    To update your xdocs directory simply cd into the xdocs directory \nand:</note>\n<read>C:\\build\\jakarta-tomcat-connectors\\jk\\>cd xdocs</read>\n<read>C:\\build\\jakarta-tomcat-connectors\\jk\\xdocs\\>cvs update -dP</read>\n</screen>\n</p>\n</subsection>\n<subsection name=\"STEP 3.  Test your build environment\">\n<p>\n    Open a command prompt window and cd to the directory where you downloaded \nthe source.  Now cd into the jk directory so <b>Ant</b> can see the \n<b>build.xml</b> file and,  from a command prompt, run the following:\n<screen>\n<read> </read>\n<read>C:\\build\\jakarta-tomcat-connectors>cd jk</read>\n<read>C:\\build\\jakarta-tomcat-connectors\\jk>ant docs</read>\n<read> </read>\n</screen>\n</p>.\n<p>\n    You should see the ant compiler messages scrolling by rapidly and then stop \nwith the following:\n<screen>\n<read>[style] Transforming into C:\\build\\jakarta-tomcat-\nconnectors\\jk\\build\\docs></read>\n<read>[style] Processing C:\\build\\jakarta-tomcat-connectors\\jk\\xdocs\\faq.xml \nto</read>\n<read>C:\\build\\jakarta-tomcat-connectors\\jk\\build\\docs\\faq.html</read>\n<read>[style] Loading stylesheet C:\\build\\jakarta-tomcat-\nconnectors\\jk\\xdocs\\style.xsl</read>\n<read>[style] Processing C:\\build\\jakarta-tomcat-connectors\\jk\\xdocs\\index.xml \nto</read>\n<read>C:\\build\\jakarta-tomcat-connectors\\jk\\build\\docs\\index.html</read>\n<read>[copy] Copying 8 files to C:\\build\\jakarta-tomcat-\nconnectors\\jk\\build\\docs</read>\n<read> </read>\n<read>BUILD SUCCESSFUL</read>\n<read>Total time: 10 seconds</read>\n<read>C:\\build\\jakarta-tomcat-connectors\\jk</read>\n</screen>\n</p>\n<p>\n    All the xml files present in the xdocs directory structure were transformed \nto html and copied to the <b>CVS_HOME\\jk\\docs</b> directory.  Open one of the \nhtml files in your browser and see how it looks.\n</p>\n</subsection>\n<subsection name=\"STEP 4.   The editing process.\">\n<p>\n    I find it easier to use two windows while doing my updates.  One I call my \n<b>build</b> window.  I keep this one in the <b>CVS_HOME\\jk</b> directory and I \nonly run two commands in this window:\n<screen>\n<read> </read>\n<note>   First I run</note>\n<read>ant clean</read>\n<note>   Then I run</note>\n<read>ant docs</read>\n<read> </read>\n</screen>\n</p>\n<p>\n    My second window I call my <b>edit</b> window and I keep that one in the \n<b>CVS_HOME\\jk\\xdocs</b> directory where I'm doing my edits, diffs, and cvs \nupdates.\n</p>\n<p>\n    Before you start editing you should always update your local repository to \nprevent conflicts.\n<screen>\n<note>    You only need to update the xdocs directory</note>\n<read>C:\\build\\jakarta-tomcat-connectors\\jk>cd xdocs</read>\n<read>C:\\build\\jakarta-tomcat-connectors\\jk\\xdocs></read>\n<read>C:\\build\\jakarta-tomcat-connectors\\jk\\xdocs>cvs update -dP</read>\n</screen>\n</p>\n<p>\n    Now that your repository is up to date you can begin editing.  Find \nsomething in the documentation to edit.  When you find somethng remember the \nname of the file.  In your <b>edit</b> window find and edit the xml source file \nwith the same name.  After you are done return to the  <b>build</b> window, and \nin the <b>CVS_HOME\\jk</b> directory run:\n<screen>\n<read> </read>\n<read>C:\\build\\jakarta-tomcat-connectors\\jk> ant clean</read>\n<read> </read>\n</screen>\n</p>\n<p>\n    This will delete all the previous html files and make the area ready for \nupdated material.  Now to make fresh documents that incorporate your changes \nrun:\n<screen>\n<read> </read>\n<read>C:\\build\\jakarta-tomcat-connectors\\jk\\>ant docs</read>\n<read> </read>\n</screen>\n</p>\n<p>\n    Use your browser to view the edits you just made, they will be in the \n<b>CVS_HOME\\jk\\build\\docs</b> sub-tree.  If it looks good and is ready to go, \nall that is left to do is to create a patch and submit it.\n</p>\n</subsection>\n<subsection name=\"STEP 5.  Creating a patch and submitting it.\">\n<p>\n    From your <b>edit</b> window cd into the directory that contains the xml \nfile you are working on, and run the <b>cvs update</b> command.  For example, \nto produce a unified diff of the index.xml file and call it patch.txt, you \nwould cd into the directory containing the index.xml file and:\n<screen>\n<read>C:\\build\\jakarta-tomcat-connectors\\jk\\xdocscvs diff -u index.xml  \npatch.txt.</read>\n<read> </read>\n</screen>\n</p>\n<p>\n    Now that you have your patch you are ready to send it in.\n</p>\n<p>\n    Patches to the documentation are handled just like a bug report.  You \nshould submit your patches to <a \nhref=\"http://nagoya.apache.org/bugzilla/\">http://nagoya.apache.org/bugzilla/</a>\n and include a good one line subject.  If this is your first time to use the \nbug database then you should read  <a \nhref=\"http://nagoya.apache.org/bugzilla/bugwritinghelp.html\">http://nagoya.apach\ne.org/bugzilla/bugwritinghelp.html.</a>  You will need to create a user \naccount.  At the web site paste your patch into the web form and don't forget \nto describe what it is your patch is for.  Sooner or later a someone with \ncommit privileges will review your suggestion.\n</p>\n</subsection>\n</section>\n<section name=\"CVS Basics\">\n<p>\n    After you have checked out the sources the first time it is much easier to \nuse CVS.  You can cd into any directory of the repository and run <b>cvs \nupdate -dP</b> to get the latest sources for that directory.  For editing \npurposes you should always update your repository before you start editing to \nreduce conflicts.\n</p>\n<p>\n    You will need to run <b>cvs diff</b> to generate patches for submission.  \nAgain cd into the directory containing the file you are editing and run <b>cvs \ndiff -u name_of_the_file_you_edited  patch.txt</b> to generate a patch for \nsubmission.  The <b>-u</b> is the flag for a unified diff which is the prefered \ntype.\n</p>\n<p>\n    Pay attention to the terminal window during the update.\n</p>\n<p>\n    Lines begining with a <b>P</b> mean the local copy was patched to update it \nto the current version in the master repository.\n</p>\n<p>\n    Lines begining with a <b>M</b> mean your local copy is different from the \nmaster copy, and the changes were successfully merged into your copy.\n</p>\n<p>\n    Lines begining with a <b>C</b> mean there was a conflict in merging the \nchanges and you need to review the file and merge the changes manually.  Search \nfor  >>>> and merge the changes.\n</p>\n<p>\n    Lines begining with a <b>?</b> indicate files that reside on your local \nsystem which are not part of the repository.  You will normally see this when \nyou are creating new files for submission.\n</p>\n</section>\n<section name=\"Guides and Resources\">\n<p>\n    A little help to get you if you need it\n</p>\n<ul>\n<li>\n<a href=\"http://www.xml.org/xml/resources_focus_beginnerguide.shtml\">XML \nBeginner's Guide</a>\n</li>\n<li>\n<a href=\"http://nagoya.apache.org/bugzilla/\">Bugzilla</a>\n</li>\n<li>\n<a href=\"http://nagoya.apache.org/bugzilla/bugwritinghelp.html\">Bugzilla Bug \nWriting Guide</a>\n</li>\n<li>\n<a href=\"http://jakarta.apache.org/ant\">Ant</a>\n</li>\n<li>\n<a href=\"http://www.cvshome.org/\">CVS Home</a>\n</li>\n<li>\n<a href=\"http://cvs.apache.org/viewcvs/jakarta-tomcat-connectors/jk/xdocs/\">JK \nDocs CVS</a>\n</li>\n</ul>\n</section>\n</document>", "count": 0, "id": 25299, "time": "2002-10-29T08:17:40Z", "creator": "rsowders@usgs.gov", "creation_time": "2002-10-29T08:17:40Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 14038, "is_private": false, "count": 1, "id": 33164, "time": "2003-03-14T00:14:08Z", "creator": "cmanolache@yahoo.com", "creation_time": "2003-03-14T00:14:08Z", "text": "Checked in, thanks"}]