[{"count": 0, "tags": [], "bug_id": 10730, "attachment_id": null, "is_private": false, "id": 19385, "time": "2002-07-12T10:48:06Z", "creator": "kurt.riede@web.de", "creation_time": "2002-07-12T10:48:06Z", "text": "The class org.apache.catalina.valvesAccessLogValve logs invalid time zoone \nvalues if the time zone is positiv (east to Greenwich).\nThis results from the assumption that (like in USA) the time zone is negative \nand so the related string representation starts with a minus sign. So for time \nzone values with a single digit hour, it is OK to insert a zero after the minus \nsign (after the first character), but for positive time zone values (like \ngermany: plus one hour) this technic (inserting a zero after the first \ncharacter) returns \"1000\" which means 10 hours. The reason is that the string \nrepresentation doesn't contain the plus sign.\n\nOK, so you have to handle the cases of positiv and negative tiomezones \nexplicitly, i.e. like this:\n\nOLD CODE of org/apache/catalina/valvesAccessLogValve.java:858\n\n        if (timeZone.length() < 5)\n            timeZone = timeZone.substring(0, 1) + \"0\" +\n                timeZone.substring(1, timeZone.length());\n\n\nNEW CODE of org/apache/catalina/valvesAccessLogValve.java:858\n\n        if (this.timeZone.length() < 4) {\n            this.timeZone = \"0\" + this.timeZone;\n        } else if (this.timeZone.length() < 5) {\n            timeZone = timeZone.substring(0, 1) + \"0\" +\n                timeZone.substring(1, timeZone.length());\n        }"}, {"count": 1, "text": "\n\n*** This bug has been marked as a duplicate of 18467 ***", "creator": "funkman@joedog.org", "is_private": false, "id": 34985, "time": "2003-04-11T15:35:05Z", "bug_id": 10730, "creation_time": "2003-04-11T15:35:05Z", "tags": [], "attachment_id": null}]