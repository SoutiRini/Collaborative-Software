[{"count": 0, "tags": [], "creator": "engineerpayne@gmail.com", "attachment_id": null, "text": "I am working on a C module for Apache 2.0. It uses the AP_MODULE_DECLARE_DATA\nstructure to define merging routines, and the command_rec structure for defining\noption setting routines.\n\nThe problem is this: I have two web directories:\n  /var/www/html/parent\n  /var/www/html/parent/child\n\nIn each is a .htaccess file.\n\nThe .htaccess file in /var/www/html/parent is:\n  MyParam Off\n  <Files ~ \"\\.pl$\">\n    SetHandler cgi-script\n    Options +ExecCGI\n    MyParam On\n  </Files>\n\nThe .htaccess file in /var/www/html/parent/child is:\n  MyParam Off\n  <Files ~ \"\\.pl$\">\n    SetHandler cgi-script\n    Options +ExecCGI\n  </Files>\n\nWhen I go to access http://127.0.0.1/parent/child/mypage.pl the order of\noperations is:\n  - set MyParam to Off (presume parent .htaccess)\n  - set MyParam to On (presume parent .htaccess <Files>)\n  - set MyParam to Off (presume child .htaccess)\n  - dir_merge (child .htaccess and parent .htaccess)\n  - dir_merge (default and merged)\n  - dir_merge (parent .htaccess <Files> and merged)\n\nThe order of setting the parameters appears correct. But the order of calling\nthe merge function for the directory configuration appears very screwy indeed.\nThe parent .htaccess <Files> section should not be overriding the child\n.htaccess file.\n\nHence this is a bug.", "id": 94925, "time": "2006-10-18T03:22:41Z", "bug_id": 40785, "creation_time": "2006-10-18T03:22:41Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 40785, "attachment_id": null, "id": 94926, "time": "2006-10-18T03:45:02Z", "creator": "engineerpayne@gmail.com", "creation_time": "2006-10-18T03:45:02Z", "is_private": false, "text": "I've traced through the merge process (printing out the structure addresses of\neach dir make and dir merge operation). It looks like this (starting from top\ngoing down, as we move down the parameters passed SHOULD be a higher priority):\n\n  parent(0x8ee2f58) 'Off'\n    |    child(0x8ee7f38) 'Off'\n    | _____|\n    \\/         [blank](0x8e65b10)\n  merged(0x8ee4e98)     |\n    | __________________|\n    \\/\n  merged(0x8ee51d8)\n    |    parent<Files>(0x8ee35c8)\n    | _____|\n    \\/\n  merged(0x8ee5720)\n\nAs can be seen the merge order makes little logical sense apart from the first\nmerge. Yes, the child should take priority over the parent to create a merged\nrecord. But merging that with a blank record? And then merging in the parent\n<Files> record? No, that's definately not right."}, {"count": 2, "tags": [], "bug_id": 40785, "text": "Please RTFM.  <Files> is documented as overriding Directory.  If you want that \nto change, it's a matter for the developer list, not here.", "id": 94929, "time": "2006-10-18T04:34:46Z", "creator": "nick@webthing.com", "creation_time": "2006-10-18T04:34:46Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "engineerpayne@gmail.com", "attachment_id": null, "text": "Okay thanks. My mistake. Years of working with Apache and there's so much more\nto learn :)", "id": 94930, "time": "2006-10-18T04:46:05Z", "bug_id": 40785, "creation_time": "2006-10-18T04:46:05Z", "is_private": false}]