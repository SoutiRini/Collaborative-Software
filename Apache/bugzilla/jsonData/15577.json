[{"count": 0, "tags": [], "text": "DOC \"bug\" -\nhttp://httpd.apache.org/docs/howto/auth.html has a section\n \"Creating your user file with Perl\"\ncontaining a code snippet that FAILS to produce a valid salt or crypt, leaving\nyou with a BLANK password in your DB file, thus allowing anyone with a valid \nusername access to material protected by Basic auth.\n\nGranted, one should test ones code, esp. for auth, but I'd bet there's plenty\nuntested usage \"out there\".\nHoliday cheer\n\n$pw = \"foobar\";\n# as documented http://httpd.apache.org/docs/howto/auth.html:\n# BAD as \n  @chars=(0..9,'a'..'z');\n  $salt = '', map { $chars[int rand @chars] } (0..1);\n  $crypt = crypt($pw, $salt);\n     print \"-$pw-$salt-$crypt-\\n\";\n#GOOD:\n  @chars = ('A' .. 'Z', 'a' .. 'z', '0' .. '9', '/', '.');\n  $salt = $chars[rand@chars] . $chars[rand@chars];\n  $crypt = crypt($pw, $salt);\n     print \"-$pw-$salt-$crypt-\\n\";\n\nResults:\n\nRH linux w/ 5.6.0 and 5.6.1 gets no salt, no crypt\n-foobar---\n-foobar-R6-R6QEENiwuVuaM-\n\nw2000 w/ activestate 5.6.1 gets no salt, but crypts\n-foobar--AAZk9Aj5/Ue0E-\n-foobar-Vs-VsmqKPT0uS4aY-", "is_private": false, "id": 28127, "creator": "doug@planetconnect.com", "time": "2002-12-20T16:51:49Z", "bug_id": 15577, "creation_time": "2002-12-20T16:51:49Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 15577, "attachment_id": null, "id": 28130, "time": "2002-12-20T18:22:41Z", "creator": "wrowe@apache.org", "creation_time": "2002-12-20T18:22:41Z", "is_private": false, "text": "\n  It might be worth simply proposing the Crypt::PasswdMD5 package since this\n  will run on all platforms/builds if the user is willing to obtain the\n  package from CPAN.\n"}, {"attachment_id": null, "tags": [], "bug_id": 15577, "is_private": false, "count": 2, "id": 28131, "time": "2002-12-20T18:39:37Z", "creator": "doug@planetconnect.com", "creation_time": "2002-12-20T18:39:37Z", "text": "simply changing the doc to reflect a diff salt mechanism (included in my post) \nwould be a good start IMO."}, {"count": 3, "tags": [], "creator": "kess@kess-net.de", "attachment_id": null, "is_private": false, "id": 29045, "time": "2003-01-08T21:52:18Z", "bug_id": 15577, "creation_time": "2003-01-08T21:52:18Z", "text": "Well, you are right, this code is wrong. \nBut your example has also a little blemish. You forgot to fetch the password so\nthis little script will always crypt an empty password. No problem. I'll change\nthe corresponding document.\n\nThanks for using Apache."}, {"count": 4, "tags": [], "text": "Oups, it's not a full script, but a sniplet. Didn't read it carefully enough. \n\nHowever, the docs have been changed. Thank you.", "is_private": false, "id": 29047, "creator": "kess@kess-net.de", "time": "2003-01-08T22:22:19Z", "bug_id": 15577, "creation_time": "2003-01-08T22:22:19Z", "attachment_id": null}]