[{"attachment_id": null, "tags": [], "bug_id": 38053, "is_private": false, "count": 0, "id": 84014, "time": "2005-12-27T15:12:26Z", "creator": "ono@java.pl", "creation_time": "2005-12-27T15:12:26Z", "text": "I'm attaching 2docs... 1st crashes FOP with:\njava.lang.ClassCastException: org.apache.fop.layoutmgr.inline.KnuthInlineBox\ncannot be cast to org.apache.fop.layoutmgr.KnuthGlue\n        at\norg.apache.fop.layoutmgr.InlineKnuthSequence.addALetterSpace(InlineKnuthSequence.java:124)\n        at\norg.apache.fop.layoutmgr.inline.LineLayoutManager.collectInlineKnuthElements(LineLayoutManager.java:727)\n        at\norg.apache.fop.layoutmgr.inline.LineLayoutManager.getNextKnuthElements(LineLayoutManager.java:630)\n        at\norg.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements(BlockStackingLayoutManager.java:272)\n        at\norg.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:104)\n        at\norg.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements(BlockStackingLayoutManager.java:272)\n        at\norg.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:104)\n        at\norg.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements(BlockStackingLayoutManager.java:272)\n        at\norg.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:104)\n        at\norg.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements(BlockStackingLayoutManager.java:272)\n        at\norg.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:104)\n        at\norg.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements(BlockStackingLayoutManager.java:272)\n        at\norg.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:104)\n        at\norg.apache.fop.layoutmgr.FlowLayoutManager.getNextKnuthElements(FlowLayoutManager.java:98)\n        at\norg.apache.fop.layoutmgr.PageSequenceLayoutManager$PageBreaker.getNextKnuthElements(PageSequenceLayoutManager.java:223)\n        at\norg.apache.fop.layoutmgr.AbstractBreaker.getNextBlockList(AbstractBreaker.java:488)\n        at\norg.apache.fop.layoutmgr.PageSequenceLayoutManager$PageBreaker.getNextBlockList(PageSequenceLayoutManager.java:215)\n        at\norg.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:252)\n        at\norg.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:220)\n        at\norg.apache.fop.layoutmgr.PageSequenceLayoutManager.activateLayout(PageSequenceLayoutManager.java:147)\n        at\norg.apache.fop.area.AreaTreeHandler.endPageSequence(AreaTreeHandler.java:305)\n        at\norg.apache.fop.fo.pagination.PageSequence.endOfNode(PageSequence.java:156)\n        at org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:324)\n        at\norg.apache.xalan.transformer.TransformerIdentityImpl.endElement(TransformerIdentityImpl.java:1101)\n        at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n        at\norg.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)\n        at\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown\nSource)\n        at\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at\norg.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:484)\n        at org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:141)\n        at org.apache.fop.cli.InputHandler.render(InputHandler.java:101)\n        at org.apache.fop.cli.Main.startFOP(Main.java:167)\n        at org.apache.fop.cli.Main.main(Main.java:200)\n\nSecond is pushed trough xml tidy and crashed FOP with:\njava.lang.NullPointerException\n        at\norg.apache.fop.layoutmgr.AbstractLayoutManager.isLast(AbstractLayoutManager.java:369)\n        at\norg.apache.fop.layoutmgr.inline.InlineLayoutManager.addAreas(InlineLayoutManager.java:426)\n        at\norg.apache.fop.layoutmgr.inline.LineLayoutManager.addAreas(LineLayoutManager.java:1769)\n        at\norg.apache.fop.layoutmgr.BlockLayoutManager.addAreas(BlockLayoutManager.java:381)\n        at\norg.apache.fop.layoutmgr.list.ListItemContentLayoutManager.addAreas(ListItemContentLayoutManager.java:164)\n        at\norg.apache.fop.layoutmgr.list.ListItemLayoutManager.addAreas(ListItemLayoutManager.java:479)\n        at\norg.apache.fop.layoutmgr.list.ListBlockLayoutManager.addAreas(ListBlockLayoutManager.java:192)\n        at\norg.apache.fop.layoutmgr.BlockLayoutManager.addAreas(BlockLayoutManager.java:381)\n        at\norg.apache.fop.layoutmgr.BlockLayoutManager.addAreas(BlockLayoutManager.java:381)\n        at\norg.apache.fop.layoutmgr.AreaAdditionUtil.addAreas(AreaAdditionUtil.java:108)\n        at\norg.apache.fop.layoutmgr.FlowLayoutManager.addAreas(FlowLayoutManager.java:289)\n        at\norg.apache.fop.layoutmgr.PageSequenceLayoutManager$PageBreaker.addAreas(PageSequenceLayoutManager.java:306)\n        at\norg.apache.fop.layoutmgr.AbstractBreaker.addAreas(AbstractBreaker.java:441)\n        at\norg.apache.fop.layoutmgr.PageSequenceLayoutManager$PageBreaker.doPhase3(PageSequenceLayoutManager.java:366)\n        at\norg.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:296)\n        at\norg.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:220)\n        at\norg.apache.fop.layoutmgr.PageSequenceLayoutManager.activateLayout(PageSequenceLayoutManager.java:147)\n        at\norg.apache.fop.area.AreaTreeHandler.endPageSequence(AreaTreeHandler.java:305)\n        at\norg.apache.fop.fo.pagination.PageSequence.endOfNode(PageSequence.java:156)\n        at org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:324)\n        at\norg.apache.xalan.transformer.TransformerIdentityImpl.endElement(TransformerIdentityImpl.java:1101)\n        at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n        at\norg.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)\n        at\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown\nSource)\n        at\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at\norg.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:484)\n        at org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:141)\n        at org.apache.fop.cli.InputHandler.render(InputHandler.java:101)\n        at org.apache.fop.cli.Main.startFOP(Main.java:167)\n        at org.apache.fop.cli.Main.main(Main.java:200)\n\nSorry attached files are quite big... however I had no time to seek for certain\npart of FO document that causes the crash."}, {"count": 1, "tags": [], "bug_id": 38053, "is_private": false, "text": "Created attachment 17285\nBug testcase... 2 FO files crashing FOP.", "id": 84015, "time": "2005-12-27T15:14:25Z", "creator": "ono@java.pl", "creation_time": "2005-12-27T15:14:25Z", "attachment_id": 17285}, {"count": 2, "tags": [], "bug_id": 38053, "attachment_id": null, "text": "The first problem: CastClassException is already documented in bug #37743.\n\nThe second problem: NullPointerException is a new issue.\n\nI'll have a go a fixing both of them (but it won't be pretty...).", "id": 84027, "time": "2005-12-28T03:36:02Z", "creator": "manuel@apache.org", "creation_time": "2005-12-28T03:36:02Z", "is_private": false}, {"count": 3, "tags": [], "creator": "manuel@apache.org", "is_private": false, "id": 84029, "attachment_id": null, "bug_id": 38053, "creation_time": "2005-12-28T05:17:02Z", "time": "2005-12-28T05:17:02Z", "text": "The ClassCastException has been fixed as part of Bug #37743.\n\nFor the NPE fix see http://svn.apache.org/viewcvs?rev=359383&view=rev\n\nI didn't manage to construct a small test case for the NPE. Any attempts to cut \ndown the large param-tidy.fo to a reasonable size but still exhibiting the \nproblem failed. I must be missing something. Any help / suggestions appreciated."}, {"attachment_id": null, "tags": [], "bug_id": 38053, "is_private": false, "count": 4, "id": 155790, "time": "2012-04-01T06:40:52Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T06:40:52Z", "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed"}]