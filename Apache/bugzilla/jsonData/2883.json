[{"count": 0, "tags": [], "bug_id": 2883, "attachment_id": null, "is_private": false, "id": 4126, "time": "2001-07-30T03:52:16Z", "creator": "pernica@dcb.cz", "creation_time": "2001-07-30T03:52:16Z", "text": "I have set up:\n\t<error-page>\n\t\t<error-code>401</error-code>\n\t\t<location>/err401.jsp</location>\n\t</error-page>\nin the web.xml. But this is not taken into account and Tomcat returns\nstandard system message instead of populating that page."}, {"count": 1, "attachment_id": null, "creator": "craig.mcclanahan@sun.com", "text": "Will require moving the code that processes <error-page> directives to be in a\nValve (ahead of the authenticator) instead of its current location inside\nStandardWrapperValve.\n\nNote that a 401 status (like a 302 redirect) is normally handled by the browser\nso you still might not see the page.  For example, if you're using BASIC\nauthentication, the login dialog box will be displayed -- you'd only see the\nHTML error page if you cancel out of the dialog box.\n", "id": 4266, "time": "2001-08-03T15:06:15Z", "bug_id": 2883, "creation_time": "2001-08-03T15:06:15Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 2883, "attachment_id": null, "is_private": false, "id": 5100, "time": "2001-09-04T16:15:52Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-09-04T16:15:52Z", "text": "Are you using container-managed security (i.e. you have <security-constraint>\nand <login-method> elements in your web.xml file)?  If so, are you expecting the\nerror page machinery to kick in on the 401 status that is returned by *Tomcat*?\n\nIf so, you should be aware that the Servlet Specification does *not* require\nsupport for this.  See Section 9.9.2 (of the 2.3 PFD2 spec), first paragraph --\nit is very specific about being invoked only when a servlet (not the container)\ngenerates the exception or error.\n"}, {"count": 3, "tags": [], "bug_id": 2883, "attachment_id": null, "text": "The servlet spec only requires that the <error-page> machinery be invoked when\nthe *application* (i.e., either a filter or a servlet) sets a particular error\nstatus, not when the container does it.\n", "id": 5217, "time": "2001-09-07T11:44:41Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-09-07T11:44:41Z", "is_private": false}]