[{"count": 0, "tags": [], "bug_id": 23986, "attachment_id": null, "id": 46018, "time": "2003-10-22T01:03:54Z", "creator": "Edwin_STEELE@rta.nsw.gov.au", "creation_time": "2003-10-22T01:03:54Z", "is_private": false, "text": "When trying to copy a file to a non-existant directory, the scp ant task:\na) hangs indefinitely \nb) doesn't give any feedback (like a commandline scp does)\n\nFrom a regular shell:\n\n[user@localmachine]$ scp /etc/fstab\nuser@remotemachine:/home/user/this_dir_does_not_exist/\nuser@remotemachine's password:\nscp: /home/user/this_dir_does_not_exist/: Is a directory\n\nRunning ant with this target:\n<target name=\"scptest\">\n    <scp file=\"C:\\winnt\\notepad.exe\"\ntodir=\"user@remotemachine:/home/user/this_dir_does_not_exist/\" password=\"pwd\"/>\n</target>\n\ngives\nscptest:\n      [scp] Connecting to remotemachine:22\n      [scp] java.io.FileNotFoundException: C:\\Documents and\nSettings\\user\\.ssh\\known_hosts (The system cannot find the path specified)\n<it just hangs indefinitely at this point>\n\nI'm using 1.6beta1 but there don't appear to have been any changes to the tasks\nthat would affect this.\n\nI would expect the task to (optionally) fail but most importantly give feedback\nlike the commandline version does."}, {"count": 1, "tags": [], "bug_id": 23986, "attachment_id": null, "text": "bah, forgot to mention that doing a thread dump when it's hanging indicates it's\nhung at:\norg.apache.tools.ant.taskdefs.optional.ssh.AbstractSshMessage.waitForAck(AbstractSshMessage.java:97)", "id": 46019, "time": "2003-10-22T01:06:00Z", "creator": "Edwin_STEELE@rta.nsw.gov.au", "creation_time": "2003-10-22T01:06:00Z", "is_private": false}, {"count": 2, "tags": [], "text": "This is what you'll get now\n\nBUILD FAILED\n...xml:nn: server indicated an error: scp: /home/user/this_dir_does_not_exist/:\nNo such file or directory\n\nMany thanks to Atsuhiko Yamanaka for providing the fix.\n", "attachment_id": null, "bug_id": 23986, "id": 46217, "time": "2003-10-24T08:34:59Z", "creator": "bodewig@apache.org", "creation_time": "2003-10-24T08:34:59Z", "is_private": false}]