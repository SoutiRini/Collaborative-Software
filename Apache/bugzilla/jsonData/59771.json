[{"count": 0, "tags": [], "bug_id": 59771, "is_private": false, "id": 192018, "attachment_id": 33996, "creator": "matwey.kornilov@gmail.com", "creation_time": "2016-06-29T16:46:57Z", "time": "2016-06-29T16:46:57Z", "text": "Created attachment 33996\nant -verbose output\n\nHello,\n\nI am facing the following issue at Linux, amrv7l architecture.\nHere I provide information mentioned at http://ant.apache.org/problems.html\n\n\n# ant -version\nApache Ant(TM) version 1.9.4 compiled on May 6 2016\n\n# ant -diagnostics\n------- Ant diagnostics report -------\nApache Ant(TM) version 1.9.4 compiled on May 6 2016\n\n-------------------------------------------\n Implementation Version\n-------------------------------------------\ncore tasks     : 1.9.4 in file:/usr/share/java/ant.jar\n\n-------------------------------------------\n ANT PROPERTIES\n-------------------------------------------\nant.version: Apache Ant(TM) version 1.9.4 compiled on May 6 2016\nant.java.version: 1.5\nIs this the Apache Harmony VM? no\nIs this the Kaffe VM? no\nIs this gij/gcj? yes\nant.core.lib: /usr/share/java/ant.jar\nant.home: /usr/share/ant\n\n-------------------------------------------\n ANT_HOME/lib jar listing\n-------------------------------------------\nant.home: /usr/share/ant\nant-bootstrap.jar (21309 bytes)\nant.jar (2050176 bytes)\nant-launcher.jar (18924 bytes)\n\n-------------------------------------------\n USER_HOME/.ant/lib jar listing\n-------------------------------------------\nuser.home: /root\nNo such directory.\n\n-------------------------------------------\n Tasks availability\n-------------------------------------------\nimage : Not Available (the implementation class is not present)\nsshexec : Not Available (the implementation class is not present)\nscp : Not Available (the implementation class is not present)\nrexec : Not Available (the implementation class is not present)\nsshsession : Not Available (the implementation class is not present)\nftp : Not Available (the implementation class is not present)\nnetrexxc : Not Available (the implementation class is not present)\nantlr : Not Available (the implementation class is not present)\njdepend : Not Available (the implementation class is not present)\nsplash : Not Available (the implementation class is not present)\njunit : Not Available (the implementation class is not present)\ntelnet : Not Available (the implementation class is not present)\njunitreport : Not Available (the implementation class is not present)\nsound : Not Available (the implementation class is not present)\nA task being missing/unavailable should only matter if you are trying to use it\n\n-------------------------------------------\n org.apache.env.Which diagnostics\n-------------------------------------------\nNot available.\nDownload it at http://xml.apache.org/commons/\n\n-------------------------------------------\n XML Parser information\n-------------------------------------------\nXML Parser : org.apache.xerces.jaxp.SAXParserImpl\nXML Parser Location: file:/usr/share/java/xerces-j2-2.8.1.jar\nNamespace-aware parser : org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser\nNamespace-aware parser Location: file:/usr/share/java/xerces-j2-2.8.1.jar\n\n-------------------------------------------\n XSLT Processor information\n-------------------------------------------\nXSLT Processor : gnu.xml.transform.TransformerImpl\nXSLT Processor Location: unknown\n\n-------------------------------------------\n System properties\n-------------------------------------------\ngnu.java.util.zoneinfo.dir : /usr/share/zoneinfo\nos.name : Linux\ngnu.classpath.vm.shortname : libgcj\njava.specification.version : 1.5\njava.class.version : 49.0\njava.vendor.url : http://gcc.gnu.org/java/\nos.version : 4.6.2-1-default\nuser.language : ru\nfile.encoding : UTF-8\ngnu.classpath.version : 0.99\ngnu.classpath.home : /usr\njava.vm.specification.version : 1.0\ngnu.cpu.endian : little\njava.vm.version : 4.8.5\njava.io.tmpdir : /tmp\njava.vm.vendor : Free Software Foundation, Inc.\nline.separator : \n\njava.vm.specification.vendor : Sun Microsystems Inc.\nuser.region : RU\njava.specification.vendor : Sun Microsystems Inc.\ngnu.gcj.runtime.endorsed.dirs : /usr/share/java/gcj-endorsed\ngnu.gcj.progname : org.apache.tools.ant.launch.Launcher\ngnu.classpath.home.url : file:///usr/lib/gcc/armv7hl-suse-linux-gnueabi/4.8\nant.home : /usr/share/ant\npath.separator : :\nfile.separator : /\ngnu.gcj.precompiled.db.path : /usr/lib/gcj-4.8-14/classmap.db\nhttp.agent : gnu-classpath/0.99 (libgcj/4.8.5)\ngnu.gcj.user.realname : root\njava.vm.info : GNU libgcj 4.8.5\njava.specification.name : Java(tm) Platform API Specification\njava.vendor : Free Software Foundation, Inc.\nsun.boot.class.path : /usr/lib/jvm/java-1.5.0-gcj-4.8-1.5.0.0/jre/lib/rt.jar\njava.ext.dirs : /usr/share/java/ext\njava.library.path : /usr/lib/gcj-4.8-14\njava.vm.specification.name : Java(tm) Virtual Machine Specification\njava.vm.name : GNU libgcj\njava.class.path : /usr/share/java/ant.jar:/usr/share/java/ant-launcher.jar:/usr/share/java/jaxp_parser_impl.jar:/usr/share/java/xml-commons-apis.jar:/usr/share/java/xalan-j2-serializer.jar:/usr/lib/jvm/java/lib/tools.jar:/usr/share/ant/lib/ant-bootstrap.jar:/usr/share/ant/lib/ant.jar:/usr/share/ant/lib/ant-launcher.jar\nant.library.dir : /usr/share/ant/lib\njava.runtime.version : 1.5.0\nuser.dir : /home/abuild/rpmbuild/BUILD/xml-commons-1.3.04/xml-commons-1_0_b2\nos.arch : armv7l\nuser.name : root\njava.home : /usr/lib/jvm/java-1.5.0-gcj-4.8-1.5.0.0/jre\njava.version : 1.5.0\njava.fullversion : GNU libgcj 4.8.5\nuser.home : /root\n\n-------------------------------------------\n Temp dir\n-------------------------------------------\nTemp dir is /tmp\nTemp dir is writeable\nTemp dir alignment with system clock is -970 ms\n\n-------------------------------------------\n Locale information\n-------------------------------------------\nTimezone GMT offset=0\n\n-------------------------------------------\n Proxy information\n-------------------------------------------\nJava1.5+ proxy settings:\nDirect connection\n\n# ant -verbose\nPlease, see the attachment for full output.\nThe trace is the following:\nBUILD FAILED\n/home/abuild/rpmbuild/BUILD/xml-commons-1.3.04/xml-commons-1_0_b2/build.xml:78: java.lang.IllegalArgumentException: 16877=40755 will not fit in octal number buffer of length -1283261008\n   at org.apache.tools.tar.TarUtils.formatUnsignedOctalString(TarUtils.java:387)\n   at org.apache.tools.tar.TarUtils.formatLongOctalBytes(TarUtils.java:440)\n   at org.apache.tools.tar.TarUtils.formatLongOctalOrBinaryBytes(TarUtils.java:470)\n   at org.apache.tools.tar.TarEntry.writeEntryHeaderField(TarEntry.java:866)\n   at org.apache.tools.tar.TarEntry.writeEntryHeader(TarEntry.java:819)\n   at org.apache.tools.tar.TarOutputStream.putNextEntry(TarOutputStream.java:305)\n   at org.apache.tools.ant.taskdefs.Tar.tarResource(Tar.java:480)\n   at org.apache.tools.ant.taskdefs.Tar.tarFile(Tar.java:354)\n   at org.apache.tools.ant.taskdefs.Tar.tar(Tar.java:669)\n   at org.apache.tools.ant.taskdefs.Tar.execute(Tar.java:314)\n   at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n   at java.lang.reflect.Method.invoke(libgcj.so.14)\n   at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n   at org.apache.tools.ant.Task.perform(Task.java:348)\n   at org.apache.tools.ant.Target.execute(Target.java:435)\n   at org.apache.tools.ant.Target.performTasks(Target.java:456)\n   at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\n   at org.apache.tools.ant.Project.executeTarget(Project.java:1364)\n   at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n   at org.apache.tools.ant.Project.executeTargets(Project.java:1248)\n   at org.apache.tools.ant.Main.runBuild(Main.java:851)\n   at org.apache.tools.ant.Main.startAnt(Main.java:235)\n   at org.apache.tools.ant.launch.Launcher.run(Launcher.java:280)\n   at org.apache.tools.ant.launch.Launcher.main(Launcher.java:109)"}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 192274, "time": "2016-07-10T11:01:12Z", "bug_id": 59771, "creation_time": "2016-07-10T11:01:12Z", "is_private": false, "text": "I must admit I'm a bit at a loss here. The length recoded as part of the exception method is \"-1283261008\". If you follow the stack trace backwards you'll see it is MODELEN - 1 (the -1 happens in formatLongOctalBytes) and MODELEN is the constant value 8."}, {"attachment_id": null, "tags": [], "bug_id": 59771, "is_private": false, "count": 2, "id": 192277, "time": "2016-07-10T11:42:26Z", "creator": "matwey.kornilov@gmail.com", "creation_time": "2016-07-10T11:42:26Z", "text": "So am I. Now I think that issue could be in java runtime.\n\nhttps://bugzilla.novell.com/show_bug.cgi?id=988274"}, {"count": 3, "tags": [], "bug_id": 59771, "text": "Matwey, in the link JRE bug that you linked, you mention that they fixed the issue in there. Can you confirm that this now works fine with Ant, so that we can close this issue?", "id": 199962, "time": "2017-07-23T14:31:50Z", "creator": "jaikiran@apache.org", "creation_time": "2017-07-23T14:31:50Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 59771, "is_private": false, "count": 4, "id": 199964, "time": "2017-07-23T15:49:04Z", "creator": "matwey.kornilov@gmail.com", "creation_time": "2017-07-23T15:49:04Z", "text": "This was gcc java runtime issue, which is fixed in upstream starting gcc 5.1."}]