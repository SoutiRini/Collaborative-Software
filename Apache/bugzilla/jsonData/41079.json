[{"count": 0, "text": "I fed a sample WMF file through the WMFTranscoder, converting it to an SVG file.\n However the resulting file had two issues:\n\n  1. The image was incorrectly scaled in the vertical direction -- an ellipse\n     became what looks like a circle.\n  2. The text was in incorrect positions.  For instance, text which was originally\n     inside an ellipse was now outside [the circle.]", "creator": "trejkaz@trypticon.org", "attachment_id": null, "id": 96383, "time": "2006-11-29T17:11:11Z", "bug_id": 41079, "creation_time": "2006-11-29T17:11:11Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 19205\ntest.wmf", "attachment_id": 19205, "id": 96384, "creator": "trejkaz@trypticon.org", "time": "2006-11-29T17:16:00Z", "bug_id": 41079, "creation_time": "2006-11-29T17:16:00Z", "is_private": false}, {"count": 2, "tags": [], "creator": "trejkaz@trypticon.org", "is_private": false, "text": "Created attachment 19206\nResulting SVG (compressed)\n\nFWIW, I tested this file on Firefox as well as GIMP and got roughly the same\nresults with the exception of each application's choice of font.", "id": 96386, "time": "2006-11-29T17:20:17Z", "bug_id": 41079, "creation_time": "2006-11-29T17:20:17Z", "attachment_id": 19206}, {"count": 3, "tags": [], "creator": "herve.girod@club-internet.fr", "is_private": false, "text": "(In reply to comment #2)\n> Created an attachment (id=19206) [edit]\n> Resulting SVG (compressed)\n> \n> FWIW, I tested this file on Firefox as well as GIMP and got roughly the same\n> results with the exception of each application's choice of font.\n\nWhat version of Batik do you use ? It is OK for me on the latest dev version.", "id": 96482, "time": "2006-12-03T08:09:27Z", "bug_id": 41079, "creation_time": "2006-12-03T08:09:27Z", "attachment_id": null}, {"count": 4, "tags": [], "text": "Actually I was using the latest development version. :-/\n\n", "attachment_id": null, "id": 96487, "creator": "trejkaz@trypticon.org", "time": "2006-12-03T15:24:49Z", "bug_id": 41079, "creation_time": "2006-12-03T15:24:49Z", "is_private": false}, {"count": 5, "tags": [], "text": "Is it possible this is somehow related to the DPI of the windowing environment?\n My machine here is using 100dpi whereas I remember the default being 75dpi. \nSometimes things which work correctly on one don't work correctly on the other.", "attachment_id": null, "id": 96488, "creator": "trejkaz@trypticon.org", "time": "2006-12-03T15:25:41Z", "bug_id": 41079, "creation_time": "2006-12-03T15:25:41Z", "is_private": false}, {"count": 6, "text": "(In reply to comment #4)\n> Actually I was using the latest development version. :-/\n> \n> \nSo you're not using 1.6 ?\n\nMay be it is coming from the configuration options. How did you configure the\ntranscoder ? (with the various transcoding hints). Also the resulting svgz\ndocument has a CP1252 encoding, which is not the case in my test. \n", "creator": "herve.girod@club-internet.fr", "attachment_id": null, "id": 96493, "time": "2006-12-03T16:21:23Z", "bug_id": 41079, "creation_time": "2006-12-03T16:21:23Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "bug_id": 41079, "attachment_id": null, "is_private": false, "id": 96494, "time": "2006-12-03T18:11:14Z", "creator": "trejkaz@trypticon.org", "creation_time": "2006-12-03T18:11:14Z", "text": "Not as far as I know.  Unless 1.6 happens to be what you get when you check the\ncode out of source control."}, {"count": 8, "tags": [], "creator": "trejkaz@trypticon.org", "is_private": false, "text": "To answer the second half of the last comment, here's the code I'm using (it's\nslightly different because I had to remove some of our framework classes for\nreading files...)  There are no hints and whatever encoding comes out must be\nthe default (CP1252 happens to be the default encoding on Windows, which may be\nrelated.)\n\npublic void testWmfSvg() throws Exception {\n  InputStream in = new FileInputStream(\"test.wmf\");\n  OutputStream out = new FileOutputStream(new File(scratch, \"out.svg\"));\n\n  TranscoderInput input = new TranscoderInput(in);\n  TranscoderOutput output = new TranscoderOutput(out);\n\n  new WMFTranscoder().transcode(input, output);\n  \n  in.close();\n  out.close();\n}\n", "id": 96495, "time": "2006-12-03T18:17:36Z", "bug_id": 41079, "creation_time": "2006-12-03T18:17:36Z", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 41079, "text": "(In reply to comment #7)\n> Not as far as I know.  Unless 1.6 happens to be what you get when you check the\n> code out of source control.\n\nI am still not able to reproduce the problem, even with your \"encapsulation\" of\nthe transcoder, but my local copy of the svn version begins to be a bit old (end\nof July). I will look further at it after an update...", "id": 96534, "time": "2006-12-04T17:17:34Z", "creator": "herve.girod@club-internet.fr", "creation_time": "2006-12-04T17:17:34Z", "is_private": false, "attachment_id": null}, {"count": 10, "text": "Closing... got it to work, rendering directly onto a Graphics2D from a\nBufferedImage.", "creator": "trejkaz@trypticon.org", "attachment_id": null, "id": 96930, "time": "2006-12-14T19:27:45Z", "bug_id": 41079, "creation_time": "2006-12-14T19:27:45Z", "tags": [], "is_private": false}, {"count": 11, "attachment_id": null, "bug_id": 41079, "text": "Sorry, wrong resolution.  Fixing...", "id": 96931, "time": "2006-12-14T19:28:02Z", "creator": "trejkaz@trypticon.org", "creation_time": "2006-12-14T19:28:02Z", "tags": [], "is_private": false}, {"count": 12, "text": "(In reply to comment #10)\n> Closing... got it to work, rendering directly onto a Graphics2D from a\n> BufferedImage.\n\nStill no problem with your code with the latest SVN version of Batik (and\nencoding is UTF-8, not Cp1252)...", "creator": "herve.girod@club-internet.fr", "attachment_id": null, "id": 97174, "time": "2006-12-21T15:43:43Z", "bug_id": 41079, "creation_time": "2006-12-21T15:43:43Z", "tags": [], "is_private": false}]