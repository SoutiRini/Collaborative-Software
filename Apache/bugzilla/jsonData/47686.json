[{"count": 0, "tags": [], "creator": "bjorn.wiberg@outlook.com", "text": "Setting an SSI variable to a value containing UTF-8 characters and then echoing it yields output with HTML entities for each of the two bytes of each UTF-8 character.\n\nE.g.:\n\n<!--#set var=\"DEFAULT_APPLICATION_DESCRIPTION\" value=\"den CAS-tj\u00e4nst du bes\u00f6kte\" -->\n<!--#set var=\"APPLICATION_DESCRIPTION\" value=\"${DEFAULT_APPLICATION_DESCRIPTION}\" -->\nDu &auml;r nu utloggad ur <!--#echo var=\"APPLICATION_DESCRIPTION\" -->.\n\n...yields (in browser):\n\nDu \u00e4r nu utloggad ur den CAS-tj\u00c3\u00a4nst du bes\u00c3\u00b6kte.\n\n...instead of (in browser):\n\nDu \u00e4r nu utloggad ur den CAS-tj\u00e4nst du bes\u00f6kte.\n\n...and in HTML:\n\nDu &auml;r nu utloggad ur den CAS-tj&#195;&#164;nst du bes&#195;&#182;kte.\n\n...instead of in HTML:\n\nDu &auml;r nu utloggad ur den CAS-tj\u00e4nst du bes\u00f6kte.\n\n\nThis was not so in Apache 2.2.11.\n\nThe .shtml page is in UTF-8 (with BOM) and has:\n\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n\nIn httpd.conf, AddDefaultCharset is NOT set (so uses default value).", "id": 129652, "time": "2009-08-12T05:34:34Z", "bug_id": 47686, "creation_time": "2009-08-12T05:34:34Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "rpluem@apache.org", "is_private": false, "id": 129664, "attachment_id": null, "bug_id": 47686, "creation_time": "2009-08-12T11:51:56Z", "time": "2009-08-12T11:51:56Z", "text": "I guess this is caused by the fix for PR25202 (r730296, r732583). This might be tricky to fix."}, {"count": 2, "tags": [], "bug_id": 47686, "text": "The mod_include docs do clearly state that, for echo,\n\na) encoding=entity is the default, and\nb) encoding=entity will not work correctly if a character encoding other than ISO-8859-1 is in use\n\nFor the example given here, at least, using \n\n<!--#echo encoding=\"none\" var=\"...\"\n\nwould be the correct use, surely?\n\nBut the potential for breaking backwards compat in bug 25202 does seem to have been clearly called.  Iwan Stanley's approach in bug 25202 comment 7 seems vastly preferable to the change which got committed.", "id": 129674, "attachment_id": null, "creator": "jorton@redhat.com", "creation_time": "2009-08-13T03:34:59Z", "time": "2009-08-13T03:34:59Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 47686, "text": "(In reply to comment #2)\n> For the example given here, at least, using \n> <!--#echo encoding=\"none\" var=\"...\"\n> would be the correct use, surely?\n\nThat doesn\u2019t work, though, when the variable may contain <>&\".", "id": 129743, "time": "2009-08-17T07:48:05Z", "creator": "andersk@mit.edu", "creation_time": "2009-08-17T07:48:05Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 47686, "is_private": false, "id": 131586, "attachment_id": 24464, "creator": "rafael.gattringer.floss@flowconsult.at", "creation_time": "2009-11-02T11:34:05Z", "time": "2009-11-02T11:34:05Z", "text": "Created attachment 24464\nTestcase that shows the problem, SSI has to be enabled!"}, {"count": 5, "tags": [], "creator": "rafael.gattringer.floss@flowconsult.at", "attachment_id": null, "text": "I would like to confirm this problem. See my attached SSI file for an example.", "id": 131587, "time": "2009-11-02T11:41:24Z", "bug_id": 47686, "creation_time": "2009-11-02T11:41:24Z", "is_private": false}, {"count": 6, "tags": [], "creator": "minfrin@sharp.fm", "attachment_id": null, "is_private": false, "id": 139957, "time": "2010-09-19T09:03:34Z", "bug_id": 47686, "creation_time": "2010-09-19T09:03:34Z", "text": "Fixed on trunk in r998651."}]