[{"count": 0, "tags": [], "bug_id": 42035, "attachment_id": null, "id": 101372, "time": "2007-04-03T06:23:12Z", "creator": "dominique@quatravaux.org", "creation_time": "2007-04-03T06:23:12Z", "is_private": false, "text": "When trying to authenticate against an Apache 2.0.59 server over HTTP/S using\nclient certificates, things only go smoothly when using MD5- or SHA1-signed\ncertificates. SHA256-signed certificates cause an error like so:\n\n  [Tue Apr 03 15:05:09 2007] [error] Certificate Verification: Error (7):\ncertificate signature failure\n\nyet the certificate is correct according to \"openssl verify\".\n\nAt the bug's URL you will find a test case with appropriate cryptographic keys\nand certificates, a bare-bones httpd.conf, and a Makefile to start the server,\nquery it twice using \"wget\" and stop it.  The second request uses a SHA-256\ncertificate, and causes an error 500 (instead of the expected 404), and the\naforementioned error message is written into the error log.\n\nCalling OpenSSL_add_all_algorithms() as part of ssl_init_SSLLibrary() in\nssl_engine_init.c and recompiling Apache solves the problem. My educated guess\nis that mod_ssl doesn't know about SHA-256 by default, as no SSL or TLS cipher\nuses it.\n\nThere appears to be such a call to OpenSSL_add_all_algorithms() in httpd 2.2.4's\ninit sequence already, although I haven't confirmed that my test case works with\nit (I can't seem to get 2.2.4 to compile just now)."}, {"count": 1, "attachment_id": 19901, "bug_id": 42035, "text": "Created attachment 19901\nPatch against httpd-2.0.59 that fixes the issue for me", "id": 101373, "time": "2007-04-03T06:35:25Z", "creator": "dominique@quatravaux.org", "creation_time": "2007-04-03T06:35:25Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 42035, "attachment_id": null, "is_private": false, "id": 103153, "time": "2007-05-13T23:51:09Z", "creator": "marc.stern@approach.be", "creation_time": "2007-05-13T23:51:09Z", "text": "Fixed in 2.2.4"}, {"count": 3, "tags": [], "bug_id": 42035, "text": "Please also fix it in 2.0.x, this is just a one-line patch. Thanks.\n", "id": 103155, "time": "2007-05-14T01:23:20Z", "creator": "dominique@quatravaux.org", "creation_time": "2007-05-14T01:23:20Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "Backport status needs to be tracked in the appropriate STATUS file, not in\nbugzilla.  Please mail dev@httpd.apache.org if a reminder is needed.", "is_private": false, "id": 110326, "creator": "jorton@redhat.com", "time": "2007-11-08T07:09:20Z", "bug_id": 42035, "creation_time": "2007-11-08T07:09:20Z", "attachment_id": null}]