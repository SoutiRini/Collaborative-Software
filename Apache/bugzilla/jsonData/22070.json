[{"count": 0, "tags": [], "bug_id": 22070, "attachment_id": null, "text": "The xml-rpc driver merges text node results.\n\n\tpublic void testGetMultipleTextNodes() throws Exception {\n\t\tString query = \"//person/first/text()\";\n\n\t\tCollection col = this.client.getCollection(TEST_COLLECTION_PATH);\n\t\tXPathQueryService xpathservice = (XPathQueryService)\n\t\tcol.getService(\"XPathQueryService\", \"1.0\"); ResourceSet resultSet =\n\t\txpathservice.query(query);\n\n\t\tResourceIterator results = resultSet.getIterator();\n\n\t\tList res = asList(results);\n\t\tassertEquals(2, res.size());\n\t}\n\nInternally two TextImpl nodes are returned to the server. The server puts\nthese into a result document and sends it back. As it returns it is\nserialises the Result document to a text stream. This has the effect of\nflattening the two text nodes into one and thus breaking the test (this\ndoesn't happen with the embeded driver).", "id": 41977, "time": "2003-08-01T21:17:15Z", "creator": "kevin@rocketred.com.au", "creation_time": "2003-08-01T21:17:15Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 22070, "attachment_id": null, "id": 52931, "creation_time": "2004-02-25T13:53:06Z", "time": "2004-02-25T13:53:06Z", "creator": "vgritsenko@apache.org", "text": "Fixed. Each text node result is wrapped into the <query:result> element, which\nhas meta information and result text node.", "is_private": false}]