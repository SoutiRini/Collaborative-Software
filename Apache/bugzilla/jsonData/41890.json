[{"count": 0, "tags": [], "bug_id": 41890, "attachment_id": null, "text": "S:\\auth\\dev\\auth3>ant -version\nApache Ant version 1.7.0 compiled on December 13 2006\n\n\nI'm not sure if this is by design or not, but I can't find it doc'd and it does\ncause some confusion.\n\nEssentially, you can't set a path for an env var that does not contain a '\\'.\n\nFor instance:\n<env key=\"SystemDrive\" path=\"c:\"/>\nResults in\nSystemDrive=S:\\auth\\dev\\auth3\\c\n\nWhere s:\\auth\\dev\\auth3 is your working directory.\n\nTo show this, it's easiest to create a target that allows you to view your env.\nFor another reason, I can't just launch a cmd window.  I don't know why. \nPerhaps this can be explained as well?\n\nIn any case, I create a target named taskmgr that spawns taskmgr with a new env\nand just a couple of vars set.  See below.\n\nSo, launch the target and then view its env.\nDo this by running a command prompt via taskmgr > file > run.\nThen type set to view your env vars.\n\n\n<target name=\"taskmgr\">\n  <exec dir=\"c:\\windows\\system32\\\" executable=\"c:\\windows\\system32\\taskmgr.exe\"\nnewenvironment=\"true\" >\n\t\n    <env key=\"junk\" path=\"c:\" />\n    <env key=\"SystemDrive\" value=\"c:\"/>\n\n\nenv vars are...\n\nCOMSPEC=C:\\windows\\system32\\cmd.exe\nPATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.JS;.WS\nPROMPT=$P$G\njunk=S:\\auth\\dev\\auth3\\c\nSystemDrive=c:\n\nNote, junk is _incorrect_\nYet SystemDrive is correct.\n\nWhy do you need to use value to set c:\nIsn't it a valid path?  And why is it appended otherwise?\nIs this doc'd?", "id": 100594, "time": "2007-03-19T07:58:36Z", "creator": "cehupper@gmail.com", "creation_time": "2007-03-19T07:58:36Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 41890, "text": "On a windows box, c: != c:\\\nWindows requires all Paths to have at least one '\\' character to be valid.\n\nFor example, open a command prompt and change the directory to anything other\nthan the root.  Then type \"cd c:\" and it will not take you to the root.  Now\ntype \"cd c:\\\" and it will.\n\nNot sure if this helps (or is relevant), just thought I would share.", "id": 100596, "time": "2007-03-19T08:05:42Z", "creator": "BBurgess@tiaa-cref.org", "creation_time": "2007-03-19T08:05:42Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 41890, "is_private": false, "text": "Yes, I understand that c: is not c:\\\n\nPerhaps I should ask, why a partial path is _cleaned_ and then appended to the\nworking direcotry, Is that a bug?  Is that doc'd?\n\nwhy does\n<env key=\"junk\" path=\"c:\" />\nresult in\njunk=S:\\auth\\dev\\auth3\\c\n\nWhere is this doc'd?\nwhy is the ':' trimmed?\n\nI found the behavior ambiguous.", "id": 100599, "time": "2007-03-19T08:23:25Z", "creator": "cehupper@gmail.com", "creation_time": "2007-03-19T08:23:25Z", "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 41890, "text": ": is one of the supported path separators. So Ant doesnt know that \"c:\" refers\nto \"./c\" : \"\" or or c:\\. \n\n1. what does c:; get picked up as?\n2. what does <env key=\"systemdrive\" file=\"c:\" /> get picked up as. Because there\nit is explicitly a file, not a path.", "id": 100600, "time": "2007-03-19T08:28:02Z", "creator": "stevel@apache.org", "creation_time": "2007-03-19T08:28:02Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "text": "(In reply to comment #3)\n> : is one of the supported path separators. So Ant doesnt know that \"c:\" refers\n> to \"./c\" : \"\" or or c:\\. \n> \n> 1. what does c:; get picked up as?\n> 2. what does <env key=\"systemdrive\" file=\"c:\" /> get picked up as. Because there\n> it is explicitly a file, not a path.\n\nAh, I forgot that.  Yes, while c: => ${pwd}/c is understandable, one would hope\nthat c:; => (windows) c:${context} .  In my tests, it is apparently interpreted\nas c:;=>\"c\"PATHSEP\"\"PATHSEP=>${pwd}/c .", "attachment_id": null, "bug_id": 41890, "id": 100601, "time": "2007-03-19T09:00:29Z", "creator": "mbenson@apache.org", "creation_time": "2007-03-19T09:00:29Z", "is_private": false}]