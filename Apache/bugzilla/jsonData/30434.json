[{"count": 0, "tags": [], "creator": "egiraudy@instranet.com", "attachment_id": null, "id": 61448, "time": "2004-08-02T12:05:33Z", "bug_id": 30434, "creation_time": "2004-08-02T12:05:33Z", "is_private": false, "text": "Found through Findbugs (http://www.findbugs.net):\n\nFindbugs comments:\n\"This Serializable class defines a non-primitive instance field which is \nneither transient, Serializable, or java.lang.Object, and does not appear to \nimplement the Externalizable interface or the readObject() and writeObject() \nmethods.  Objects of this class will not be deserialized correctly if a non-\nSerializable object is stored in this field. \"\n\nThis is about java classes generated from JSPs using tag libraries. The \ngenerated class contains private variable(s) of type \norg.apache.jasper.runtime.TagHandlerPool that doesnot mach the serailization \nrequirements."}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 61450, "time": "2004-08-02T12:26:48Z", "bug_id": 30434, "creation_time": "2004-08-02T12:26:48Z", "is_private": false, "text": "You need to be a lot more specific: what is the problem exactly, and what is the\nimpact of the issue."}, {"attachment_id": null, "tags": [], "bug_id": 30434, "text": "The issue is that a JSP is compiled in a servlet that implements the \nserializable interface but it has some private fields that are not.\n\nI don't have any specific issue with that 'bug' except someone having a \npreventive action in order to fix that potential bug.\n\nI've recently been running findbugs on our (pre-compiled) JSPs in order to \ndetect potential bugs in our code.\nFindbug detected this one in Jasper generated code and I thought it could be \nuseful to tell about.", "count": 2, "id": 61451, "time": "2004-08-02T12:40:36Z", "creator": "egiraudy@instranet.com", "creation_time": "2004-08-02T12:40:36Z", "is_private": false}, {"count": 3, "tags": [], "creator": "nick@reloco.com.ar", "attachment_id": null, "id": 101180, "time": "2007-03-29T13:42:36Z", "bug_id": 30434, "creation_time": "2007-03-29T13:42:36Z", "is_private": false, "text": "I've been hit by this bug, I don't think it is a theoretical issue:\n\nADVERTENCIA: No puedo serializar atributo de sesi\u00f3n 1175200206072-spiderMonitor\npara sesi\u00f3n BB2887F736CDECA5CD408CC4AFA67D45\njava.io.NotSerializableException: org.apache.jasper.runtime.TagHandlerPool\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1156)\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\n\tat\norg.apache.catalina.session.StandardSession.writeObject(StandardSession.java:1462)\n\tat\norg.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:938)\n\tat org.apache.catalina.session.StandardManager.doUnload(StandardManager.java:516)\n\tat org.apache.catalina.session.StandardManager.unload(StandardManager.java:462)\n\tat org.apache.catalina.session.StandardManager.stop(StandardManager.java:666)\n\tat org.apache.catalina.core.StandardContext.stop(StandardContext.java:4345)\n\tat org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1066)\n\tat org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1066)\n\tat org.apache.catalina.core.StandardEngine.stop(StandardEngine.java:447)\n\tat org.apache.catalina.core.StandardService.stop(StandardService.java:512)\n\tat org.apache.catalina.core.StandardServer.stop(StandardServer.java:743)\n\tat org.apache.catalina.startup.Catalina.stop(Catalina.java:601)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:576)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:294)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:432)\n\nUsing Tomcat 5.5.17"}, {"count": 4, "tags": [], "bug_id": 30434, "attachment_id": null, "text": "Now the report is more specific, as requested in comment #1, reopening.", "id": 101203, "time": "2007-03-29T22:34:36Z", "creator": "nick@reloco.com.ar", "creation_time": "2007-03-29T22:34:36Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 30434, "attachment_id": null, "text": "How to reproduce\n1) You have created an object and placed it into a session. \n2) Tomcat shuts down\n3) Tomcat tries to serialize the object in the session to disk\n\n*You can't serialize objects which can't be serialized.* Make sure the object \nbeing placed into the session is serializable. Please use the tomcat user list \nfor more help.", "id": 101216, "time": "2007-03-30T04:40:19Z", "creator": "funkman@joedog.org", "creation_time": "2007-03-30T04:40:19Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 30434, "text": "I think the \"issue\" is about placing the servlet instance in the session: he's\ncomplaining that the \"servlets\" that Jasper generates from JSPs are not\nserializable (or something like that), which I think is ridiculous.", "count": 6, "id": 101219, "time": "2007-03-30T06:33:31Z", "creator": "remm@apache.org", "creation_time": "2007-03-30T06:33:31Z", "is_private": false}, {"count": 7, "tags": [], "creator": "nick@reloco.com.ar", "attachment_id": null, "id": 101240, "time": "2007-03-30T11:00:26Z", "bug_id": 30434, "creation_time": "2007-03-30T11:00:26Z", "is_private": false, "text": "Oh, I see. It's that I have passed an inner class, and thar inner class carried\nan implicit reference to the servlet class. But wouldn't this be easily fixable\nby adding a \"readResolve()\" method to the servlet, which would find the new\nservlet instance for that URL and use it...?"}]