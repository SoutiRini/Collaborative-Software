[{"count": 0, "tags": [], "bug_id": 35337, "text": "webDAV isn't working in publications that are using pub templates,\nCan't put a document using xp web folder [wrong response status code given for\nHEAD request]", "id": 76330, "time": "2005-06-13T08:43:27Z", "creator": "dhc4z@virginia.edu", "creation_time": "2005-06-13T08:43:27Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 15384\nwebdav fixes\n\nFixed a problem with response status codes\nadded fallbacks and removed referenced to \"default\" for pub templating", "is_private": false, "id": 76331, "creator": "dhc4z@virginia.edu", "time": "2005-06-13T08:44:20Z", "bug_id": 35337, "creation_time": "2005-06-13T08:44:20Z", "attachment_id": 15384}, {"count": 2, "attachment_id": null, "bug_id": 35337, "text": "applied, thanks\n\nby the way, it looks to me like init.xsl is never called. ", "id": 76344, "time": "2005-06-13T16:08:10Z", "creator": "gregor@apache.org", "creation_time": "2005-06-13T16:08:10Z", "tags": [], "is_private": false}, {"count": 3, "attachment_id": null, "creator": "dhc4z@virginia.edu", "is_private": false, "id": 76350, "time": "2005-06-13T17:45:41Z", "bug_id": 35337, "creation_time": "2005-06-13T17:45:41Z", "tags": [], "text": "(In reply to comment #2)\n> applied, thanks\n> \n> by the way, it looks to me like init.xsl is never called. \n\nIt is a hack :( .  It is called from global-sitemap.xmap.  It simply directs\nwebDav to the authoring area of a publication.\n\nWhen a request like this comes in: PROPFIND /pubid\n\nmatches here:\n     <!-- Publications -->\n      <map:match pattern=\"*\">\n        <map:select type=\"request-method\">\n          <map:when test=\"PROPFIND\">\n            <map:generate type=\"file\"\nsrc=\"fallback://lenya/usecases/webdav/dummy.xml\"/>\n            <map:transform src=\"fallback://lenya/usecases/webdav/init.xsl\">\n              <map:parameter name=\"pubid\" value=\"{page-envelope:publication-id}\"/>\n            </map:transform>\n            <map:serialize type=\"xml\" status-code=\"207\"/>"}]