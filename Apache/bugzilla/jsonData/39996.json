[{"count": 0, "tags": [], "bug_id": 39996, "text": "apr_(v)snprintf from strings/apr_snprintf.c (according to apr_strings.h)\nshould return \"the number of characters inserted into the buffer, not\nincluding the terminating NUL\". But, as for APR 1.2.7 (Arch Linux build),\nthat's not true if length of input string >= buffer limit. In that case\nNUL byte is counted as well.\n\nThis code:\n\n    char buff[8];\n    printf(\"%d\", apr_snprintf(buff, 8, \"12345678\"));\n\nwill return '8' instead of '7'.", "id": 91035, "attachment_id": null, "creator": "regenrecht@o2.pl", "creation_time": "2006-07-09T22:38:35Z", "time": "2006-07-09T22:38:35Z", "is_private": false}, {"count": 1, "tags": [], "creator": "regenrecht@o2.pl", "text": "Created attachment 18577\nJust a simple patch - don't count NUL byte\n\nSeems to work for me...", "id": 91036, "time": "2006-07-09T22:41:27Z", "bug_id": 39996, "creation_time": "2006-07-09T22:41:27Z", "is_private": false, "attachment_id": 18577}, {"count": 2, "tags": [], "text": "Created attachment 18578\nTwo more testcases, pro futuro", "is_private": false, "bug_id": 39996, "id": 91037, "time": "2006-07-09T22:43:27Z", "creator": "regenrecht@o2.pl", "creation_time": "2006-07-09T22:43:27Z", "attachment_id": 18578}, {"count": 3, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "id": 91127, "time": "2006-07-11T14:12:44Z", "bug_id": 39996, "creation_time": "2006-07-11T14:12:44Z", "is_private": false, "text": "Thanks for the report and patch.  I've committed a slightly extended test case\nand removed the unnecessary paranthesis from the *snprintf changes:\n\nhttp://svn.apache.org/viewvc?view=rev&revision=420858\n\n...will backport to 1.2.x after some further testing."}]