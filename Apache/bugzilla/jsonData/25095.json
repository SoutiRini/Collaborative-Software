[{"count": 0, "tags": [], "bug_id": 25095, "text": "when a JSP file contains the following fragment:\n\n<jsp:plugin type=\"applet\" codebase=\"./test\" code=\"TestApplet.class\">\n<jsp:fallback>\n<p>Failed</p>\n</jsp:fallback>\n</jsp:plugin>\n\nThe content produced by it looks like this:\n\n<OBJECT classid=\"clsid:8AD9C840-044E-11D1-B3E9-00805F499D93\" codebase=\"http:\n//java.sun.com/products/plugin/1.2.2/jinstall-1_2_2-win.cab#Version=1,2,2,0\">\n<PARAM name=\"java_code\" value=\"TestApplet.class\">\n<PARAM name=\"java_codebase\" value=\"./test\">\n<PARAM name=\"type\" value=\"application/x-java-applet;\">\n<COMMENT>\n<EMBED type=\"application/x-java-applet;\" pluginspage=\"http://java.sun.\ncom/products/plugin/\" java_code=\"TestApplet.class\" java_codebase=\"./test\"\n>\n<NOEMBED>\n</COMMENT>\n\n<p>Failed</p>\n\n</NOEMBED></EMBED>\n</OBJECT>\n\nThis has been tested for MSIE \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.\n0; NetCaptor 7.2.2)\" and Opera \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.\n0) Opera 7.21  [en]\". Usually the generated code works as intended, but for \nXHTML it is not acceptable for 2 reasons: the tag names must be lowercase and \nthe tags must be properly nested (in this case <COMMENT> is partially overlapped \nwith <EMBED> and <NOEMBED>). IE tolerates such content and processes it as \nexpected, but Opera reports an XML parsing error (unless Content-Type returned \nby the server is text/html, when it is parsed as HTML rather than XML). \nMoreover, neither of <embed>, <noembed> <comment> tags is a valid XHTML tag.\nI believe the JSP compiler should check the \"contentType\" attribute of the <%\n@page %> directive and generate appropriate content for the given content type.", "id": 48323, "time": "2003-11-30T16:51:10Z", "creator": "sfzhi@yahoo.com", "creation_time": "2003-11-30T16:51:10Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "This bug also exists on tomcat5 - I was going to open a new bug for it in\ntomcat5, would that be right? Or is there a way to modify this bug to indicate\nthat it exists in both versions of tomcat?\n\nAnyway, it would be nice. I have a script that fetches & xml-validates all the\npages from my webapp, and the pages with jsp:plugin always fail.", "is_private": false, "bug_id": 25095, "id": 54850, "time": "2004-03-30T05:25:31Z", "creator": "wms@igoweb.org", "creation_time": "2004-03-30T05:25:31Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "<spec-quote>\nJSP.4.7 <jsp:plugin>\nThe plugin action enables a JSP page author to generate HTML that contains\nthe appropriate client browser dependent constructs (OBJECT or EMBED) that will\nresult in the download of the Java Plugin software (if required) and subsequent\nexecution of the Applet or JavaBeans component specified therein.\n</spec-quote>\n\nThis seems quite clear that the output is HTML, not XHTML nor does it state that\nthe output from this tag is dependent on any <%@ page ... %> directives. I\ncouldn't see anything in the spec that would suggest otherwise.", "id": 71095, "time": "2005-02-16T20:24:13Z", "bug_id": 25095, "creation_time": "2005-02-16T20:24:13Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 25095, "text": "1. That is correct, JSP spec does not require to support XHTML, but id doesn't\nforbid that either. I don't think it is reasonable to abandon other relevant\n(for web develoers at least) specifications just because JSP does not require to\nsupport those. Since valid XHTML is usually valid HTML I think that no one would\nlose anything if the suggested changes were implemented. But of course, that is\nyour decision.\n2. As you can see from the original bug report the generated HTML is not really\nvalid either (the tags are nested improperly). I hope you agree that this\ndeserves to be fixed (that's why I've reopened this bug).\n3. Another thing I'd like to mention (although a bit off topic) that\n<EMBED/NOEMBED> is anachronism, which may be needed only for very old browsers,\nwhich are most likely to be installed on very old PCs with very old OS and very\nold JRE (if any) so there is a big chance that the applet wouldn't run there\nanyway. And I believe that web developer must be able to choose whether to\nsupport ancient browsers or to adhere to the standards, otherwise it would\nrender <jsp:plugin> useless, which is what seems to be happening since no one cares.", "id": 71118, "time": "2005-02-17T11:16:08Z", "creator": "sfzhi@yahoo.com", "creation_time": "2005-02-17T11:16:08Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 25095, "text": "I have fixed the overlapping tags in TC4. They were already fixed in TC5.\n\nI agree that there is nothing to prevent XHTML support but features that are not\nrequired by the spec, not prevented by the spec and not currently implemented\nare are enhancement requests.\n\nIf you wish to raise a new bugzilla item for such an enhancement request please\ndo so but it is worth noting that if you do not supply a patch then the lack of\ninterest you have alreday identified means that such an enhancement request is\nvery unlikely to get implemented.", "id": 71376, "time": "2005-02-22T23:03:46Z", "creator": "markt@apache.org", "creation_time": "2005-02-22T23:03:46Z", "is_private": false, "attachment_id": null}]