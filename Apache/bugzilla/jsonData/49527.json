[{"count": 0, "tags": [], "bug_id": 49527, "attachment_id": null, "id": 138026, "time": "2010-06-30T01:27:56Z", "creator": "anthony@chivetta.org", "creation_time": "2010-06-30T01:27:56Z", "is_private": false, "text": "When running something like the following: \n\n  <parallel timeout=\"2000\">\n       <sequential>\n            <echo message=\"1\" />\n            <sleep seconds=\"10\" />\n            <echo message=\"2\" />\n       </sequential>\n  </parallel>\n\nI get the output (using ant 1.8.0 or 1.8.2alpha):\n\n    test:\n         [echo] 1\n         [echo] 2\n\n  BUILD FAILED\n  build.xml:7: Parallel execution timed out\n\nHowever, I expect (using ant 1.7.1):\n\n  test:\n       [echo] 1\n  \n  BUILD FAILED\n  build.xml:7: Parallel execution timed out\n\nThe documentation of <parallel> describes the timeout option as \"Number of milliseconds before execution is terminated.\"  This would seem to agree with the ant 1.7.1 behavior where execution of the <sequential> block is terminated upon timeout and the remaining <echo> elements are not executed.  I have attached a minimal build.xml file that demonstrates this bug."}, {"count": 1, "tags": [], "creator": "anthony@chivetta.org", "attachment_id": 25666, "is_private": false, "id": 138027, "time": "2010-06-30T01:39:30Z", "bug_id": 49527, "creation_time": "2010-06-30T01:39:30Z", "text": "Created attachment 25666\nMinimal testcase."}, {"count": 2, "tags": [], "bug_id": 49527, "attachment_id": null, "id": 140998, "time": "2010-10-25T10:06:00Z", "creator": "bodewig@apache.org", "creation_time": "2010-10-25T10:06:00Z", "is_private": false, "text": "In my case I do get both messages but the parallel is terminated after two\nseconds.\n\nSome changes to fix bug 42924 tries to interrupt the spawned threads a few\ntimes prior to killing them.  This terminates the sleep task and makes the\nsecond echo task start.\n\nThe changed code in svn revision 1027125 will not allow tasks to go ahead\nif a timeout occured or failOnAny is true."}]