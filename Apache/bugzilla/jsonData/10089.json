[{"count": 0, "tags": [], "bug_id": 10089, "is_private": false, "text": "I built httpd 1.3.26 using the 'largefile' cflags. The build went\nfine. After 'make install' when I attempt to run httpd, startup fails.\n\nThe error ('apachectl configtest' output):\nSyntax error on line 213 of /usr/local/apache/conf/httpd.conf:\nCannot load /usr/local/apache/libexec/mod_negotiation.so into server:\nld.so.1: /usr/local/apache/bin/httpd: fatal: relocation error:\nfile /usr/local/apache/libexec/mod_negotiation.so: symbol __floatdisf\n: referenced symbol not found\n\nI have been running a httpd 1.3.22 since Oct 2001 that was compiled\nwith the largefiles cflags. This bug appears to have been introduced\nsince 1.3.22.\n\nexport CFLAGS=\"-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64\"\n./configure --prefix=/usr/local/apache --with-perl=/usr/local/bin/perl \\\n --enable-module=most --enable-shared=max\n\nSunOS hostname 5.8 Generic_108528-03 sun4u sparc SUNW,Ultra-Enterprise\n\nCompile environment: Thu Jun 20 12:26:12 AKDT 2002\nCC=/usr/local/bin/gcc\ngcc: 2.95.2\nCFLAGS=-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64\nLDFLAGS=\nPATH=/usr/sbin:/usr/bin:/usr/ccs/bin:/usr/local/bin\n\nworkaround:\nI compiled without largefile cflags. This required recompilation\nof other third-party shared modules (libperl, etc.) without \nlargefile flags.", "id": 18252, "time": "2002-06-20T21:25:56Z", "creator": "tah@gi.alaska.edu", "creation_time": "2002-06-20T21:25:56Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "trawick@apache.org", "is_private": false, "text": "This is a common problem with certain levels of gcc on AIX and\nSolaris.  The gcc-generated code  in DSOs sometimes reference\nfunctions in libgcc.a.  There may be ways to get libgcc.a included in\nDSOs.  Alternatively, consider building mod_negotiation \nstatically.\n", "id": 18254, "time": "2002-06-20T21:44:13Z", "bug_id": 10089, "creation_time": "2002-06-20T21:44:13Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 10089, "is_private": false, "text": "This problem is due to a broken interaction between gcc and the system linker,\nin this case /usr/ccs/bin/ld.\n\nOne way to work around this problem is to force linkage between all executibles\nand libraries by sticking the full path to libgcc.a in your LDFLAGS, like this:\n\nLDFLAGS=`gcc -print-libgcc-file-name` ./configure ...\n\nAnother is to rebuild gcc to use the gnu assembler (gas).\n\nThanks for using Apache.", "id": 18263, "time": "2002-06-20T23:50:31Z", "creator": "aaron@apache.org", "creation_time": "2002-06-20T23:50:31Z", "attachment_id": null}]