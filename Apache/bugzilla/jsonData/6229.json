[{"count": 0, "tags": [], "creator": "dlr@finemaltcoding.com", "attachment_id": null, "is_private": false, "id": 10316, "time": "2002-02-04T19:05:43Z", "bug_id": 6229, "creation_time": "2002-02-04T19:05:43Z", "text": "Catalina's stdout and stderr streams are currently always written to\n$CATALINA_BASE/logs/catalina.out.  This path hardcoding lacks flexibility, and\nwould be better configurable.  Attached is a patch which allows setting of the\n(optional) env var CATALINA_OUT to specify where you want the log file written.\n If no value is specified for CATALINA_OUT, a default of\n$CATALINA_BASE/logs/catalina.out (the current path) is used."}, {"count": 1, "tags": [], "bug_id": 6229, "attachment_id": 1129, "id": 10318, "time": "2002-02-04T19:06:29Z", "creator": "dlr@finemaltcoding.com", "creation_time": "2002-02-04T19:06:29Z", "is_private": false, "text": "Created attachment 1129\nAdds support for the CATALINA_OUT env var"}, {"count": 2, "tags": [], "bug_id": 6229, "is_private": false, "text": "What about all of the myriad of log files generated by all of the webapps? \nWouldn't it be a more general feature to pass a system property via an \nenvironment variable CATALINA_LOGS or something similar that sets the \"logs\" \ndirectory? Then all logs are put in a new location. Just moving a single log file \nto a different place seems a bit limited.\n", "id": 10333, "time": "2002-02-04T20:55:12Z", "creator": "patrick.luby@planamesa.com", "creation_time": "2002-02-04T20:55:12Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 6229, "is_private": false, "count": 3, "id": 10338, "time": "2002-02-04T21:28:08Z", "creator": "dlr@finemaltcoding.com", "creation_time": "2002-02-04T21:28:08Z", "text": "Indeed it would be very nice if Catalina's output streams were supported as\nfirst class logging citizens in server.xml, just as server, access, and\ncontext-specific logs are now.  Such a change was more extensive than I needed\nto make to address my immediate need, but would definitely be much appreciated\nfor consistant logging configuration in the long term.  The attached patch\naddresses the problem of re-locating Catalina's stdout and stderr output streams\nwith the most minimal change possible, and follows the existing style of dealing\nwith startup parameters and server output streams (i.e. using env vars and\nstream redirection via a Bourne shell script, rather Java code and XML\nconfiguration).\n\nI figured I'm not the only one to run into this deficiency, so I might as well\ncontribute back something which I have implemented now and know to be working. \nPatrick, if you have time to implement and test your proposed change instead of\nintegrating this patch, I'm all for it.  If not, committing this improvement\nwill address the immediate problem.\n\nThanks, Dan\n"}, {"count": 4, "tags": [], "creator": "patrick.luby@planamesa.com", "attachment_id": null, "is_private": false, "id": 10341, "time": "2002-02-04T23:06:58Z", "bug_id": 6229, "creation_time": "2002-02-04T23:06:58Z", "text": "You may also be able to mimic this functionality by creating a softlink before\nyou start Tomcat the next time. For example:\n\n   cd $CATLINA_HOME/logs\n   # Move existing catalina.out to new location\n   mv catalina.out /The/desired/catalina.out/file\n   # Create softlink to new location\n   ln -s /The/desired/catalina.out/file catalina.out\n\nAfter you do this, all logging to catalina.out will go your custom location even\nafter repeated startups.\n"}, {"count": 5, "tags": [], "text": "Your suggestion predicates me actually having a $CATALINA_BASE/logs/ directory\n(which I am trying to avoid since my operations folks prefer all of our\napplication's logs go elsewhere -- Catalina was the only holdout until I patched\nthe startup script).\n\nSymlinks are known as the goto statement of the file system (with good reason).\n I would prefer not to introduce any more hacks into my production system, which\nis why I offered a reasonable interface following the existing conventions.\n\n\nThanks, Dan\n", "is_private": false, "id": 10343, "creator": "dlr@finemaltcoding.com", "time": "2002-02-05T00:03:16Z", "bug_id": 6229, "creation_time": "2002-02-05T00:03:16Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 6229, "is_private": false, "count": 6, "id": 68974, "time": "2004-12-24T18:40:59Z", "creator": "markt@apache.org", "creation_time": "2004-12-24T18:40:59Z", "text": "\n\n*** This bug has been marked as a duplicate of 28305 ***"}]