[{"count": 0, "tags": [], "creator": "jpowanda@vocera.com", "is_private": false, "id": 104739, "attachment_id": null, "bug_id": 42748, "creation_time": "2007-06-26T14:47:45Z", "time": "2007-06-26T14:47:45Z", "text": "I\u2019m using DocBook XSL 1.7.2.0 with FOP 0.93. When I generate a PDF, the \nindexterm elements have extra whitespace (from line breaks and tabs). I \nsuccessfully removed the whitespace by editing one of the DocBook stylesheet \ntemplates. However, the page numbers in the index are missing. Also, FOP warns \nabout unresolved ID references, such as this warning:\n\nWARNING: Page 9: Unresolved id reference \"d0e127\" found.\n\nWhen I open the FO file, here\u2019s what one of the index entries looks like:\n\n<fo:block \nxmlns:fox=\"http://xmlgraphics.apache.org/fop/extensions\">Administration \nConsole, <fo:basic-link internal-destination=\"d0e127\"><fo:page-number-citation \nref-id=\"d0e127\"/></fo:basic-link></fo:block\n\nHere\u2019s the internal destination it\u2019s pointing to in the file:\n\n<fo:inline id=\"d0e127\"><!--Administration Console--></fo:inline>\n\nAs you can see, it\u2019s an empty <fo:inline> marker, which is what I expect. \nHowever, FOP cannot resolve the reference.\n\nJeff Powanda\njpowanda@vocera.com"}, {"count": 1, "tags": [], "bug_id": 42748, "attachment_id": 20398, "id": 104740, "creation_time": "2007-06-26T14:50:15Z", "time": "2007-06-26T14:50:15Z", "creator": "jpowanda@vocera.com", "text": "Created attachment 20398\nIndexTest.xml FO file that demonstrates problem with empty <fo:inline> index markers", "is_private": false}, {"count": 2, "tags": [], "bug_id": 42748, "text": "This is not really a problem.  It is a very minor warning log message that will\nonly occur in this particular situation.  It occurs because ids are tracked only\nfor content that actually takes up space on the page output.  Anything else is\nignored/discarded.  There is no application error here, its just an unwanted\nwarning message - so I suggest we ignore it for now.\n\nAdrian.", "id": 105058, "time": "2007-07-04T02:54:50Z", "creator": "dev@cumiskey.com", "creation_time": "2007-07-04T02:54:50Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "renk@colourcountry.net", "text": "\n> This is not really a problem.  It is a very minor warning log message that will\n> only occur in this particular situation.  It occurs because ids are tracked only\n> for content that actually takes up space on the page output.  Anything else is\n> ignored/discarded.\n\nFYI (and that of people who find this bug on google)\n\nDITA Open Toolkit 1.4 produces empty <fo:inline> index markers for all\ntable-of-contents entries, on the grounds that TOC references are point\nreferences and so should not correspond to a region of actual space on the page\noutput. This does not work with FOP 0.94.\n\nTo work around, edit DITA/xslfo/dita2fo-titles.xsl and\nDITA/xslfo/dita2fo-subroutines.xsl to put the zero-width breaking space entity\n&#x200B; in the inlines.\n\n", "id": 109889, "attachment_id": null, "bug_id": 42748, "creation_time": "2007-10-29T08:23:36Z", "time": "2007-10-29T08:23:36Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 42748, "text": "\nFlagged as bug 1822157 on dita-ot\n\nhttps://sourceforge.net/tracker/index.php?func=detail&aid=1822157&group_id=132728&atid=725074", "id": 109892, "time": "2007-10-29T08:30:43Z", "creator": "renk@colourcountry.net", "creation_time": "2007-10-29T08:30:43Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 42748, "text": "Right, this is a bug. Since I don't have time right now to fix this, here's what\nneeds to be done:\nfo:inline, like fo:block, can be empty but carry an \"id\" that can be referenced.\nFor the \"id\" to survive until the rendering time, the InlineLayoutManager has to\ncreate a zero-length Knuth box for the empty FO in a similar ways as we do it\nfor fo:block in BlockStackingLayoutManager:\n  //Empty fo:block, zero-length box makes sure the IDs are registered.\n  returnList.add(new KnuthBox(0, notifyPos(new Position(this)), true));\n\nThe reason for this: If there's no Knuth box for a particular formatting object,\nthe area creation stage (addAreas()) is not done and therefore the IDs are not\nregistered on the current page.\n\nThere are probably other inline FOs that need this treatment, too. Better find\nthat out first, create a test case and fix all together.\n", "id": 109896, "time": "2007-10-29T08:45:56Z", "creator": "jeremias@apache.org", "creation_time": "2007-10-29T08:45:56Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "adelmelle@apache.org", "is_private": false, "text": "(In reply to comment #5)\n> Right, this is a bug. Since I don't have time right now to fix this, here's what\n> needs to be done:\n\nOK, I'll look into it. I'm looking into getting fo:markers working for inlines as well, and already ran into this \nvery obstacle (as well as some others).", "id": 109916, "time": "2007-10-29T11:13:52Z", "bug_id": 42748, "creation_time": "2007-10-29T11:13:52Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 42748, "text": "\nJust been looking into this one a bit more closely, and got it working, but the problem here was hidden a \nbit deeper... Empty inlines, up to now, did not even generate a LayoutManager (see: \norg.apache.fop.layoutmgr.LayoutManagerMapping, around line 270).\n\nNow that this has been traced, adding an empty InlineKnuthSequence if the inline has no content, seems \nto fix the issue.\n\nExpect the fix to be committed to the trunk soon.", "id": 110160, "time": "2007-11-02T04:35:40Z", "creator": "adelmelle@apache.org", "creation_time": "2007-11-02T04:35:40Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 42748, "text": "Fixed in FOP trunk. see: http://svn.apache.org/viewvc?rev=591437&view=rev\n\nThanks for reporting!", "id": 110187, "attachment_id": null, "creator": "adelmelle@apache.org", "creation_time": "2007-11-02T13:02:14Z", "time": "2007-11-02T13:02:14Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 42748, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 156327, "time": "2012-04-01T07:10:19Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T07:10:19Z", "is_private": false, "attachment_id": null}]