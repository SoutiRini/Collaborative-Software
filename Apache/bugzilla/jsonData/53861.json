[{"count": 0, "tags": [], "bug_id": 53861, "attachment_id": null, "text": "I have learned that one can add variables to the server.xml file.  These variables should get populated by setting them in the CATALINA_OPTS.  This works properly for starting tomcat.  But when you go to shutdown tomcat the CATALINA_OPTS are not pulled in so the the server.xml file does not have the parameters.\n\nExample:  In the server.xml file change the \"server\" XML tag attribute \"port\" to \"port=${some.variable}\".  Now set CATALINA_OPTS=\" -Dsome.variable=8005\".  If you start tomcat it will work.  If you stop tomcat it will fail.  However if you put the variables in JAVA_OPTS it will work for both starting and stopping.  However the variable that get used by TOMCAT should really be set in CATALINA_OPTS since it is specific to TOMCAT.\n\nSolution: Add CATALINA_OPTS to the shutdown script.", "id": 162110, "time": "2012-09-12T14:23:07Z", "creator": "lance@illinois.edu", "creation_time": "2012-09-12T14:23:07Z", "is_private": false}, {"count": 1, "tags": [], "text": "Working as designed and as documented.", "attachment_id": null, "bug_id": 53861, "id": 162116, "time": "2012-09-12T15:46:37Z", "creator": "markt@apache.org", "creation_time": "2012-09-12T15:46:37Z", "is_private": false}]