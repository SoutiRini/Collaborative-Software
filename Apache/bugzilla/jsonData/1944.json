[{"count": 0, "text": "in jsp page request.getParamter() is not correctly for chinese. \n1. \"charset=GBK\" is not correctly  I think you had set GBK to gb2312 ,It is \ncorrectly in tomcat 3.2.1\n2. \"request.setCharacterEncoding(\"GBK\")\"It is not correctly write to Oracle \ndatabase\n\nThis is the source code\n\n<%@ page contentType=\"text/html;charset=GBK\" //GBK is not correctly ,I think \nyou had set GBK to gb2312\n  \nimport=\"javax.naming.*,javax.rmi.*,com.scrc.personalcredit.ejb.*,com.scrc.person\nalcredit.server.*,java.sql.*,java.util.*\"\n%>\n<%   \n   \tString strCaption;\n   \tString strFileName;\n   \tString strID;\n   \tString strErrMsg;\n   \tint ID=0;\n   \tboolean CanSave;\n   \n \tstrErrMsg=\"\";\n   \tCanSave=true;\n\trequest.setCharacterEncoding(\"GBK\"); //It is not correctly write to \nOracle database\n   \tstrCaption=request.getParameter(\"Caption\").trim();\n   \tstrFileName=request.getParameter(\"FileName\").trim();\n   \tstrID=request.getParameter(\"ID\");\n   \tif(strCaption.equals(\"\"))\n\t{\n\t   \tCanSave=false;\n\t   \tstrErrMsg=strErrMsg+\"<li>\u00b2\u00bf\u00c3\u00c5\u00c3\u00fb\u00b3\u00c6\u00b2\u00bb\u00c4\u00dc\u00ce\u00aa\u00bf\u00d5</li>\";\n\t}\n\telse\n   \t{\n   \t\t//strCaption=i18n.getString(strCaption); //I must use this  \nfunction to translating ISO8859-1 to GBK\n   \t}\n   \tif(strFileName.equals(\"\"))\n\t{\n\t   \tCanSave=false;\n\t   \tstrErrMsg=strErrMsg+\"<li>\u00ce\u00c4\u00bc\u00fe\u00c3\u00fb\u00b3\u00c6\u00b2\u00bb\u00c4\u00dc\u00ce\u00aa\u00bf\u00d5</li>\";\n\t}\n\telse\n   \t{\n   \t\tstrFileName=i18n.getString(strFileName);\n   \t}\n   \tif(CanSave)\n   \t{\n\t\tDepartmentHome home;\n\t\tDepartment objShow;\n\t\tString strHome = \"zh_CN.DepartmentHome\" ;\n\t\t\n\t\tInitialContext ic = new InitialContext();\n\t\tObject objref = ic.lookup(strHome);\n\t\thome = (DepartmentHome)PortableRemoteObject.narrow\n(objref,DepartmentHome.class);\n\t\ttry\n\t\t{\n\t\t\tID=Integer.parseInt(strID);\n\t\t\tobjShow=home.findByPrimaryKey(ID);\n\t\t\tobjShow.setCaption(strCaption);\n\t\t\tobjShow.setFileName(strFileName);\n\t\t\tresponse.sendRedirect(\"index.jsp\");\n\t\t}\n\t\tcatch(Exception e)\n\t\t{\n\t\t\tout.println(\"<p>&nbsp;</p><center><h1>\u00b7\u00c7\u00b7\u00a8\u00b2\u00ce\u00ca\u00fd\u00bb\u00f2\u00d5\u00d2\u00b2\u00bb\n\u00b5\u00bd\u00bc\u00c7\u00c2\u00bc</h1></center>\");\n\t\t\tout.println(\"<p>&nbsp;</p><div align=center><font \nsize=3>\u00c7\u00eb\u00b0\u00b4\u00b4\u00cb\u00b4\u00a6<a href='javascript:history.go(-1)'>\u00b7\u00b5\u00bb\u00d8</a></font>\");\n\t\t}\n\t}\n\n%>\n<html>\n<head>\n<title>\u00d0\u00de\u00b8\u00c4\u00b2\u00bf\u00c3\u00c5</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=gb2312\">\n<link rel=\"stylesheet\" href=\"../css/style.css\">\n</head>\n\n<body>\n\n<p>&nbsp;</p>\n<table width=\"95%\" border=\"0\" cellspacing=\"1\" cellpadding=\"1\" align=\"center\">\n  <tr> \n    <td> <b><font color=\"#333366\">\u00d2\u00d4\u00cf\u00c2\u00d4\u00ad\u00d2\u00f2\u00b2\u00bb\u00c4\u00dc\u00b1\u00a3\u00b4\u00e6\u00ca\u00fd\u00be\u00dd\u00a3\u00ba</font></b> \n      <ul>\n        <font color=\"#FF0000\" size=\"3\"><%=strErrMsg%> </font> \n      </ul>\n    </td>\n  </tr>\n</table>\n<form method=\"post\" action=\"EditSave.jsp\">\n  <table width=\"40%\" align=\"center\" cellpadding=\"5\" border=\"1\" \nbordercolor=\"#FFFFFF\">\n    <tr bgcolor=\"#EBEBEB\" bordercolor=\"#002E5B\"> \n      <td colspan=\"2\" align=\"center\" height=\"30\"><font face=\"Wingdings\" \nsize=\"4\" color=\"#D00038\">Y</font> \n        <font size=\"3\">\u00d0\u00de\u00b8\u00c4\u00b2\u00bf\u00c3\u00c5</font> <font face=\"Wingdings\" size=\"4\" \ncolor=\"#D00038\">Y</font> \n      </td>\n    </tr>\n    <tr align=\"center\" bordercolor=\"#002E5B\"> \n      <td colspan=\"2\" height=\"30\">\n\n        <table border=\"0\" cellspacing=\"1\" width=\"100%\">\n          <tr> \n            <td height=\"10\" colspan=\"2\"></td>\n          </tr>\n          <tr> \n            <td width=\"38%\" height=\"30\" align=\"right\"> <font size=\"3\">ID &nbsp;\n\u00ba\u00c5\u00a3\u00ba</font></td>\n            <td> \n              <input class=\"smallInput\" maxlength=\"12\" size=\"15\" name=\"ID\" \nvalue=\"<%=strID%>\" ReadOnly>\n            </td>\n          </tr>\n          <tr> \n            <td height=\"30\" align=\"right\"><font size=\"3\">\u00c3\u00fb &nbsp;\u00b3\u00c6\u00a3\u00ba</font> \n</td>\n            <td> \n              <input name=\"Caption\" class=\"smallInput\" maxlength=\"50\" size=\"15\" \nvalue=\"<%=strCaption%>\">\n              <font color=\"#FF0000\">*</font> </td>\n          </tr>\n          <tr> \n            <td height=\"30\" align=\"right\"><font size=\"3\">\u00ce\u00c4\u00bc\u00fe\u00c3\u00fb\u00a3\u00ba</font> </td>\n            <td> \n              <input name=\"FileName\" class=\"smallInput\" maxlength=\"50\" \nsize=\"15\" value=\"<%=strFileName%>\">\n              <font color=\"#FF0000\">*</font> </td>\n          </tr>\n          <tr> \n            <td colspan=\"2\" height=\"15\"></td>\n          </tr>\n        </table>\n        \n      </td>\n    </tr>\n  </table>\n  <div align=\"center\"><br>\n    <input type=\"submit\" value=\"\u00c8\u00b7\u00b6\u00a8\"  name=\"cmdok\" class=\"buttonface\">\n    &nbsp;&nbsp; <a href=\"index.jsp\"><font size=\"3\">\u00b7\u00b5\u00bb\u00d8</font></a> </div>\n</form>\n\n</body>\n</html>", "bug_id": 1944, "attachment_id": null, "id": 2694, "time": "2001-05-31T22:50:29Z", "creator": "dragzhb@163.net", "creation_time": "2001-05-31T22:50:29Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": null, "creator": "justyna.horwat@sun.com", "text": "*** Bug 2509 has been marked as a duplicate of this bug. ***", "id": 3569, "time": "2001-07-10T12:31:58Z", "bug_id": 1944, "creation_time": "2001-07-10T12:31:58Z", "tags": [], "is_private": false}, {"count": 2, "text": "\n\n*** This bug has been marked as a duplicate of 2469 ***", "bug_id": 1944, "attachment_id": null, "id": 3697, "time": "2001-07-12T16:19:14Z", "creator": "justyna.horwat@sun.com", "creation_time": "2001-07-12T16:19:14Z", "tags": [], "is_private": false}]