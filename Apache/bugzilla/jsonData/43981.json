[{"count": 0, "tags": [], "bug_id": 43981, "is_private": false, "id": 111202, "creation_time": "2007-11-28T05:43:49Z", "time": "2007-11-28T05:43:49Z", "creator": "rsribhashyam@gmail.com", "text": "Hi,\n\nI am trying to use XSLT task to generate a html report. I have a XSL file and an\nXML file as input and expecting a HTML as an output.\n\nI am using Ant 1.7.0.\n\nThe output is as expected if i use java version 1.4.\nBut i have a problem if i use any java version above 1.4 (1.5 or 1.6)\n\nMy PC is having Windows XP OS and following is the java version detail\njava version \"1.6.0_03\"\nJava(TM) SE Runtime Environment (build 1.6.0_03-b05)\nJava HotSpot(TM) Client VM (build 1.6.0_03-b05, mixed mode, sharing)\n\nWhen i try to run this XSLT task, with java version 1.6, i get the result twice\npopulated on my output html file.\n\nAfter analysing, i found that this behaviour is seen when i use the tag\nxsl:for-each.\n\nRequest your help in resolving this.\n\nI can send you sample XML, XSL and build files if you need any.\n\nI thought of downloading the latest nightly build of ant, but could not get any\nfrom Apache Ant Site.\n\nThanks and Regards,\nRaghuveer Sribhashyam", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 43981, "is_private": false, "text": "does it go away when you add xalan.jar to the ANT_HOME/lib?\n\nRealistically, we arent the people to deal with xslt quirks ... ant just\ndelegates to the xsl engine, so its only if we are doing bad things that we can\ndeal with it. Java6 ships with Xalan xsltc, not the normal interpreted one, and\nit has different bugs from what we normally test against.", "id": 111208, "time": "2007-11-28T08:36:29Z", "creator": "stevel@apache.org", "creation_time": "2007-11-28T08:36:29Z", "attachment_id": null}, {"count": 2, "text": "I have added the xalan.jar as you have suggested to the ANT_HOME/lib.\n\nNow i get an error message saying \n\njava.lang.NoClassDefFoundError: org/apache/xml/serializer/ExtendedContentHandler\n\nRaghuveer Sribhashyam\n\n(In reply to comment #1)\n> does it go away when you add xalan.jar to the ANT_HOME/lib?\n> \n> Realistically, we arent the people to deal with xslt quirks ... ant just\n> delegates to the xsl engine, so its only if we are doing bad things that we can\n> deal with it. Java6 ships with Xalan xsltc, not the normal interpreted one, and\n> it has different bugs from what we normally test against.\n\n", "bug_id": 43981, "is_private": false, "id": 111236, "time": "2007-11-28T21:44:37Z", "creator": "rsribhashyam@gmail.com", "creation_time": "2007-11-28T21:44:37Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 43981, "attachment_id": null, "id": 111264, "creation_time": "2007-11-29T05:21:49Z", "time": "2007-11-29T05:21:49Z", "creator": "stevel@apache.org", "text": "1. is there a xerces.jar in the directory too? \n\n2. which version of xalan are you using\n\n3. what does ant -diagnostics print out\n\n", "is_private": false}, {"count": 4, "tags": [], "bug_id": 43981, "is_private": false, "id": 111272, "creation_time": "2007-11-29T06:40:00Z", "time": "2007-11-29T06:40:00Z", "creator": "rsribhashyam@gmail.com", "text": "1. is there a xerces.jar in the directory too?\n2. which version of xalan are you using\nYes I have downloaded XALANJ xalan-j_2_7_0. I have copied the xalan.jar,\nxerces.jar and xml-apis.jar files from the xalan-j_2_7_0.\n\n3. what does ant -diagnostics print out\n\nBelow is the ant -diagnostics report\n\n------- Ant diagnostics report -------\nApache Ant version 1.7.0 compiled on December 13 2006\n\n-------------------------------------------\n Implementation Version\n-------------------------------------------\ncore tasks     : 1.7.0\noptional tasks : not available\n\n-------------------------------------------\n ANT PROPERTIES\n-------------------------------------------\nant.version: Apache Ant version 1.7.0 compiled on December 13 2006\nant.java.version: 1.5\nant.core.lib: D:\\apache-ant-1.7.0\\lib\\ant.jar\nant.home: D:\\apache-ant-1.7.0\n\n-------------------------------------------\n ANT_HOME/lib jar listing\n-------------------------------------------\nant.home: D:\\apache-ant-1.7.0\nant-antlr.jar (5769 bytes)\nant-apache-bcel.jar (8627 bytes)\nant-apache-bsf.jar (3980 bytes)\nant-apache-log4j.jar (3074 bytes)\nant-apache-oro.jar (39591 bytes)\nant-apache-regexp.jar (3737 bytes)\nant-apache-resolver.jar (4080 bytes)\nant-commons-logging.jar (3943 bytes)\nant-commons-net.jar (47163 bytes)\nant-jai.jar (21368 bytes)\nant-javamail.jar (7011 bytes)\nant-jdepend.jar (8152 bytes)\nant-jmeter.jar (9264 bytes)\nant-jmf.jar (6609 bytes)\nant-jsch.jar (30122 bytes)\nant-junit.jar (92792 bytes)\nant-launcher.jar (11734 bytes)\nant-netrexx.jar (9895 bytes)\nant-nodeps.jar (430311 bytes)\nant-starteam.jar (35404 bytes)\nant-stylebook.jar (2334 bytes)\nant-swing.jar (6713 bytes)\nant-testutil.jar (14919 bytes)\nant-trax.jar (6897 bytes)\nant-weblogic.jar (14254 bytes)\nant.jar (1289806 bytes)\nxalan.jar (3176148 bytes)\nxercesImpl.jar (1212965 bytes)\nxml-apis.jar (195119 bytes)\n\n-------------------------------------------\n USER_HOME/.ant/lib jar listing\n-------------------------------------------\nuser.home: d:\\documents and settings\\600905088\nNo such directory.\n\n-------------------------------------------\n Tasks availability\n-------------------------------------------\nimage : Missing dependency javax.media.jai.PlanarImage\nsshexec : Missing dependency com.jcraft.jsch.UserInfo\nscp : Missing dependency com.jcraft.jsch.UserInfo\njdepend : Missing dependency jdepend.xmlui.JDepend\nA task being missing/unavailable should only matter if you are trying to use it\n\n-------------------------------------------\n org.apache.env.Which diagnostics\n-------------------------------------------\nNot available.\nDownload it at http://xml.apache.org/commons/\n\n-------------------------------------------\n XML Parser information\n-------------------------------------------\nXML Parser : org.apache.xerces.jaxp.SAXParserImpl\nXML Parser Location: D:\\apache-ant-1.7.0\\lib\\xercesImpl.jar\nNamespace-aware parser : org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser\nNamespace-aware parser Location: D:\\apache-ant-1.7.0\\lib\\xercesImpl.jar\n\n-------------------------------------------\n System properties\n-------------------------------------------\njava.runtime.name : Java(TM) 2 Runtime Environment, Standard Edition\nsun.boot.library.path : C:\\Program Files\\Java\\jdk1.5.0_12\\jre\\bin\njava.vm.version : 1.5.0_12-b04\nant.library.dir : D:\\apache-ant-1.7.0\\lib\njava.vm.vendor : Sun Microsystems Inc.\njava.vendor.url : http://java.sun.com/\npath.separator : ;\njava.vm.name : Java HotSpot(TM) Client VM\nfile.encoding.pkg : sun.io\nuser.country : GB\nsun.java.launcher : SUN_STANDARD\nsun.os.patch.level : Service Pack 2\njava.vm.specification.name : Java Virtual Machine Specification\nuser.dir : D:\\apache-ant-1.7.0\\bin\njava.runtime.version : 1.5.0_12-b04\njava.awt.graphicsenv : sun.awt.Win32GraphicsEnvironment\njava.endorsed.dirs : C:\\Program Files\\Java\\jdk1.5.0_12\\jre\\lib\\endorsed\nos.arch : x86\njava.io.tmpdir : d:\\DOCUME~1\\600905~1\\LOCALS~1\\Temp\\\nline.separator :\n\njava.vm.specification.vendor : Sun Microsystems Inc.\nuser.variant :\nos.name : Windows XP\nant.home : D:\\apache-ant-1.7.0\nsun.jnu.encoding : Cp1252\njava.library.path : C:\\Program Files\\Java\\jdk1.5.0_12\\bin;.;C:\\WINDOWS\\system32;\nC:\\WINDOWS;C:\\WINDOWS\\system32;C:\\Program Files\\Java\\jdk1.5.0_12\\bin;D:\\apache-a\nnt-1.7.0\\bin;C:\\Program Files\\PuTTY;C:\\Oracle\\product\\10.1.0\\Client_1\\bin;C:\\Ora\ncle\\product\\10.1.0\\Client_1\\jre\\1.4.2\\bin\\client;C:\\Oracle\\product\\10.1.0\\Client\n_1\\jre\\1.4.2\\bin;C:\\Program Files\\QuickTime\\QTSystem\\\njava.specification.name : Java Platform API Specification\njava.class.version : 49.0\nsun.management.compiler : HotSpot Client Compiler\nos.version : 5.1\nuser.home : d:\\documents and settings\\600905088\nuser.timezone : Europe/London\njava.awt.printerjob : sun.awt.windows.WPrinterJob\nfile.encoding : Cp1252\njava.specification.version : 1.5\nuser.name : 600905088\njava.class.path : D:\\apache-ant-1.7.0\\lib\\ant-launcher.jar;D:\\apache-ant-1.7.0\\b\nin\\.;C:\\Program Files\\Java\\jre1.5.0_12\\lib\\ext\\QTJava.zip;D:\\apache-ant-1.7.0\\li\nb\\ant-antlr.jar;D:\\apache-ant-1.7.0\\lib\\ant-apache-bcel.jar;D:\\apache-ant-1.7.0\\\nlib\\ant-apache-bsf.jar;D:\\apache-ant-1.7.0\\lib\\ant-apache-log4j.jar;D:\\apache-an\nt-1.7.0\\lib\\ant-apache-oro.jar;D:\\apache-ant-1.7.0\\lib\\ant-apache-regexp.jar;D:\\\napache-ant-1.7.0\\lib\\ant-apache-resolver.jar;D:\\apache-ant-1.7.0\\lib\\ant-commons\n-logging.jar;D:\\apache-ant-1.7.0\\lib\\ant-commons-net.jar;D:\\apache-ant-1.7.0\\lib\n\\ant-jai.jar;D:\\apache-ant-1.7.0\\lib\\ant-javamail.jar;D:\\apache-ant-1.7.0\\lib\\an\nt-jdepend.jar;D:\\apache-ant-1.7.0\\lib\\ant-jmeter.jar;D:\\apache-ant-1.7.0\\lib\\ant\n-jmf.jar;D:\\apache-ant-1.7.0\\lib\\ant-jsch.jar;D:\\apache-ant-1.7.0\\lib\\ant-junit.\njar;D:\\apache-ant-1.7.0\\lib\\ant-launcher.jar;D:\\apache-ant-1.7.0\\lib\\ant-netrexx\n.jar;D:\\apache-ant-1.7.0\\lib\\ant-nodeps.jar;D:\\apache-ant-1.7.0\\lib\\ant-starteam\n.jar;D:\\apache-ant-1.7.0\\lib\\ant-stylebook.jar;D:\\apache-ant-1.7.0\\lib\\ant-swing\n.jar;D:\\apache-ant-1.7.0\\lib\\ant-testutil.jar;D:\\apache-ant-1.7.0\\lib\\ant-trax.j\nar;D:\\apache-ant-1.7.0\\lib\\ant-weblogic.jar;D:\\apache-ant-1.7.0\\lib\\ant.jar;D:\\a\npache-ant-1.7.0\\lib\\xalan.jar;D:\\apache-ant-1.7.0\\lib\\xercesImpl.jar;D:\\apache-a\nnt-1.7.0\\lib\\xml-apis.jar;C:\\Program Files\\Java\\jdk1.5.0_12\\lib\\tools.jar\njava.vm.specification.version : 1.0\nsun.arch.data.model : 32\njava.home : C:\\Program Files\\Java\\jdk1.5.0_12\\jre\njava.specification.vendor : Sun Microsystems Inc.\nuser.language : en\nawt.toolkit : sun.awt.windows.WToolkit\njava.vm.info : mixed mode\njava.version : 1.5.0_12\njava.ext.dirs : C:\\Program Files\\Java\\jdk1.5.0_12\\jre\\lib\\ext\nsun.boot.class.path : C:\\Program Files\\Java\\jdk1.5.0_12\\jre\\lib\\rt.jar;C:\\Progra\nm Files\\Java\\jdk1.5.0_12\\jre\\lib\\i18n.jar;C:\\Program Files\\Java\\jdk1.5.0_12\\jre\\\nlib\\sunrsasign.jar;C:\\Program Files\\Java\\jdk1.5.0_12\\jre\\lib\\jsse.jar;C:\\Program\n Files\\Java\\jdk1.5.0_12\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.5.0_12\\jre\\li\nb\\charsets.jar;C:\\Program Files\\Java\\jdk1.5.0_12\\jre\\classes\njava.vendor : Sun Microsystems Inc.\nfile.separator : \\\njava.vendor.url.bug : http://java.sun.com/cgi-bin/bugreport.cgi\nsun.cpu.endian : little\nsun.io.unicode.encoding : UnicodeLittle\nsun.desktop : windows\nsun.cpu.isalist : pentium_pro+mmx pentium_pro pentium+mmx pentium i486 i386 i86\n\n-------------------------------------------\n Temp dir\n-------------------------------------------\nTemp dir is d:\\DOCUME~1\\600905~1\\LOCALS~1\\Temp\\\nTemp dir is writeable\nTemp dir alignment with system clock is 0 ms\n\n-------------------------------------------\n Locale information\n-------------------------------------------\nTimezone Greenwich Mean Time offset=0\n\n-------------------------------------------\n Proxy information\n-------------------------------------------\nJava1.5+ proxy settings:\nDirect connection\n", "attachment_id": null}, {"count": 5, "tags": [], "creator": "alex-pub.apache-ant@reflexion.net", "attachment_id": null, "id": 116658, "time": "2008-05-15T09:46:49Z", "bug_id": 43981, "creation_time": "2008-05-15T09:46:49Z", "is_private": false, "text": "(In reply to comment #4)\nYou will also need serializer.jar from the Xalan distribution\n"}, {"count": 6, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "is_private": false, "id": 122786, "time": "2008-11-24T08:21:45Z", "bug_id": 43981, "creation_time": "2008-11-24T08:21:45Z", "text": "please install Xalan-2 \"properly\", see http://xml.apache.org/xalan-j/faq.html#faq-N100EF\n\nThis is the XSLT processor (each JDK after 1.4 ships with a different one and most are broken) and not Ant that is causing the problem."}]