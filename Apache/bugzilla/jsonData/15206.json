[{"count": 0, "tags": [], "bug_id": 15206, "text": "I am unable to get httpd -k restart to rewrite out the new pid to the pid file. \n\nHere's an example output:\n[root@dev1 bin]# ./httpd -k start\n[root@dev1 bin]# ps -edf | grep httpd\nroot      4703     1  1 00:55 ?        00:00:00 ./httpd -k start\napache    4704  4703  0 00:55 ?        00:00:00 ./httpd -k start\napache    4705  4703  0 00:55 ?        00:00:00 ./httpd -k start\napache    4706  4703  1 00:55 ?        00:00:00 ./httpd -k start\napache    4707  4703  0 00:55 ?        00:00:00 ./httpd -k start\napache    4708  4703  0 00:55 ?        00:00:00 ./httpd -k start\napache    4709  4703  0 00:55 ?        00:00:00 ./httpd -k start\n[root@dev1 bin]# cat ../logs/httpd.pid\n4703\n[root@dev1 bin]# ./httpd -k restart\n[root@dev1 bin]# ps -edf | grep httpd\napache    4723     1  0 00:55 ?        00:00:00 ./httpd -k start\n[root@dev1 bin]# cat ../logs/httpd.pid\n4703\n[root@dev1 bin]# ./httpd -k stop\nhttpd (pid 4703?) not running\n[root@dev1 bin]# ps -edf | grep httpd\napache    4723     1  0 00:55 ?        00:00:00 ./httpd -k start\n\nIs this something you have seen before?\n\nThe process 4723 won't die unless you use kill -9 4723.", "id": 27569, "time": "2002-12-10T00:59:23Z", "creator": "richard@pointb.co.uk", "creation_time": "2002-12-10T00:59:23Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 15206, "is_private": false, "id": 27795, "attachment_id": null, "creator": "trawick@apache.org", "creation_time": "2002-12-13T12:29:54Z", "time": "2002-12-13T12:29:54Z", "text": "\"httpd -k restart\" doesn't result in a different parent process, so there\nis no need to write a different pid to the pid file.\n\nWhat is likely happening is that a segfault is happening during the\nrestart process and either mod_cgid's daemon or one of the other child\nprocesses is left stranded (which causes its ppid to be 1 -- init).\n\nPlease look for any bad messages in the error log at the time of the\nrestart.  Also, you may need to run strace on the parent process during\nthe restart test to see why it exits.\n\n\n"}, {"count": 2, "tags": [], "creator": "trawick@apache.org", "text": "no response from submitter, no reason to keep this active without more info from\nsubmitter", "id": 31126, "time": "2003-02-12T14:28:56Z", "bug_id": 15206, "creation_time": "2003-02-12T14:28:56Z", "is_private": false, "attachment_id": null}]