[{"count": 0, "tags": [], "bug_id": 33757, "is_private": false, "id": 71576, "attachment_id": null, "creator": "jan.middelkoop@bigblueball.com", "creation_time": "2005-02-27T11:54:49Z", "time": "2005-02-27T11:54:49Z", "text": "Hello.\n\nRegarding this URL:  http://3522028483/\nThis is an URL to the proper IPv4 address for httpd.apache.org.  I've tried this \nfrom several browsers and platforms on several apache2 servers, running on \ndifferent platforms.  It just doesn't seem like apache2 understands it. :)\n\n----------------------------------------------------\nConnecting to 2130706433[127.0.0.1]:80... connected.\nHTTP request sent, awaiting response... 400 Bad Request\n04:45:14 ERROR 400: Bad Request.\n----------------------------------------------------\n\nWith regards,\nJan Middelkoop"}, {"count": 1, "tags": [], "bug_id": 33757, "attachment_id": null, "is_private": false, "id": 71577, "time": "2005-02-27T12:17:26Z", "creator": "nd@perlig.de", "creation_time": "2005-02-27T12:17:26Z", "text": "(1) This notation is not valid according to the RFCs (though a lot browsers\nunderstand it, but this isn't a real criteria)\n(2) It's totally uninteresting for the *server*, how the client resolves the url\n\nThe bad request probably does happen because of one the other headers (e.g.\nHost: missing on HTTP/1.1 request). Which tool did you use and which headers\nwere sent? What does the error log for your localhost server say?"}, {"count": 2, "tags": [], "bug_id": 33757, "attachment_id": null, "id": 71578, "time": "2005-02-27T12:36:47Z", "creator": "jan.middelkoop@bigblueball.com", "creation_time": "2005-02-27T12:36:47Z", "is_private": false, "text": "Well, since you can access a website also via IP (for example, http://127.0.0.1)\n, I assumed that long ip should also work the same, since (as far as I'm aware) \nit's merely a different way of notating an IP address.  I was not aware this is \nnot covered in the RFC's.\n\nFrom /etc/httpd/logs/error_log\n---------------------------\n[Sun Feb 27 05:23:38 2005] [error] [client 127.0.0.1] Client sent malformed Host \nheader\n---------------------------\n\nI am not sure how to determine which headers the client sent to the server.\n\nWith regards,\nJan Middelkoop"}, {"count": 3, "tags": [], "bug_id": 33757, "is_private": false, "text": "You could log it in the access log via the %{Host}i format.", "id": 71579, "time": "2005-02-27T12:43:11Z", "creator": "nd@perlig.de", "creation_time": "2005-02-27T12:43:11Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 33757, "attachment_id": null, "is_private": false, "id": 71580, "time": "2005-02-27T12:53:26Z", "creator": "jan.middelkoop@bigblueball.com", "creation_time": "2005-02-27T12:53:26Z", "text": "Ok, I have added this to my httpd.conf:\n-------------------\nLogFormat \"%{Host}i\" hostheader\nCustomLog logs/hostheader_log hostheader\n-------------------\n\nOutput from /etc/httpd/logs/hostheader_log:\n-------------------\n2130706433\n-------------------\n\nHope this helps.\n\nAlso (as additional information), this is a problem that only exists in apache2 \n- not apache1.  apache1 handles longip requests fine.  I've verified this with \nseveral webservers on the internet (found via our friend Google ;)).\n\nWith regards,\nJan Middelkoop"}, {"attachment_id": null, "tags": [], "bug_id": 33757, "is_private": false, "count": 5, "id": 71581, "time": "2005-02-27T13:21:25Z", "creator": "nd@perlig.de", "creation_time": "2005-02-27T13:21:25Z", "text": "Well, I've glanced over the particular RFCs again (RFC 2616, RFC 2396 and RFC\n3986). One /could/ say, that a host header value consisting only of digits\ncomplies to the reg-name definition of RFC 3986. But I'm assuming that was not\nthe intention and it opposites a bit the defintion of RFC 2616.\n\nPerhaps you want to start a discussion at dev@httpd, I tend to mark it as\nwontfix for now."}, {"attachment_id": null, "tags": [], "bug_id": 33757, "is_private": false, "count": 6, "id": 76515, "time": "2005-06-18T08:40:24Z", "creator": "nd@perlig.de", "creation_time": "2005-06-18T08:40:24Z", "text": "*** Bug 35409 has been marked as a duplicate of this bug. ***"}, {"count": 7, "text": "That is a shame.  This worked in 1.3.  It stopped working in 2.0.  The bug was found in 2002 and FIXED!  It was then broken again by 2005 and still broken in 2009.\n\n2002-04-28\n  Bug 7441 -  RFC 2616 - Apache incorrectly expects a non-empty Host header\n\nFix:\nhttp://svn.apache.org/viewvc?view=rev&revision=94655\n\nDuplicates:\n  Bug 8604 -  Decimal ip gives \"Bad Request\"\n  Bug 8422 -  Host Header malformed with numeric version of IP\n\nThe fix to server/vhost.c is still in the code so either those were incorrectly marked duplicates or something else broke the fix.", "bug_id": 33757, "attachment_id": null, "id": 126346, "time": "2009-04-17T18:09:01Z", "creator": "apache@takeovertheworld.org", "creation_time": "2009-04-17T18:09:01Z", "tags": [], "is_private": false}]