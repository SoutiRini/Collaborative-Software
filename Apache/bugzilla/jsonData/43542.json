[{"count": 0, "tags": [], "bug_id": 43542, "attachment_id": null, "id": 108945, "time": "2007-10-03T07:18:26Z", "creator": "jiri.tyr@e-learning.vslib.cz", "creation_time": "2007-10-03T07:18:26Z", "is_private": false, "text": "I just installed fop-0.94 with jeuclid-fop plug-in to I can test MathML support\nin PDF. It works well until I use my configuration file (which worked like a\ncharm with fop-0.93). When I content out the content of <fonts>...</fonts> then\nit works. If I uncomment even one <font></font> configuration FOP crash with\nthis error:\n\n$ /usr/bin/fop -d -c /etc/xml/fop_settings/fop-0.94/conf/myfop2.xconf -fo\n./docbook.fo -pdf ./docbook.pdf\nOct 3, 2007 3:57:19 PM org.apache.fop.apps.FopFactoryConfigurator configure\nINFO: Default page-height set to: 297mm\nOct 3, 2007 3:57:19 PM org.apache.fop.apps.FopFactoryConfigurator configure\nINFO: Default page-width set to: 210mm\nException in thread \"main\" java.lang.NoClassDefFoundError:\norg/apache/xml/utils/URI$MalformedURIException\n        at org.apache.fop.fonts.FontCache.addFont(FontCache.java:246)\n        at\norg.apache.fop.render.PrintRendererConfigurator.getFontInfoFromConfiguration(PrintRendererConfigurator.java:313)\n        at\norg.apache.fop.render.PrintRendererConfigurator.buildFontListFromConfiguration(PrintRendererConfigurator.java:196)\n        at\norg.apache.fop.render.PrintRendererConfigurator.configure(PrintRendererConfigurator.java:93)\n        at\norg.apache.fop.render.pdf.PDFRendererConfigurator.configure(PDFRendererConfigurator.java:70)\n        at\norg.apache.fop.render.RendererFactory.createRenderer(RendererFactory.java:187)\n        at org.apache.fop.area.RenderPagesModel.<init>(RenderPagesModel.java:71)\n        at org.apache.fop.area.AreaTreeHandler.setupModel(AreaTreeHandler.java:126)\n        at org.apache.fop.area.AreaTreeHandler.<init>(AreaTreeHandler.java:101)\n        at\norg.apache.fop.render.RendererFactory.createFOEventHandler(RendererFactory.java:224)\n        at org.apache.fop.fo.FOTreeBuilder.<init>(FOTreeBuilder.java:100)\n        at org.apache.fop.apps.Fop.createDefaultHandler(Fop.java:147)\n        at org.apache.fop.apps.Fop.<init>(Fop.java:82)\n        at org.apache.fop.apps.FopFactory.newFop(FopFactory.java:249)\n        at org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:94)\n        at org.apache.fop.cli.Main.startFOP(Main.java:166)\n        at org.apache.fop.cli.Main.main(Main.java:197)\n\nIs there some major change in FOP configuration file which could produce the\nabove error? I tried modify config file described at\nhttp://xmlgraphics.apache.org/fop/0.94/configuration.html and\nhttp://xmlgraphics.apache.org/fop/0.94/fonts.html but with any result. Do you\nknow what could be wrong?"}, {"count": 1, "tags": [], "creator": "jiri.tyr@e-learning.vslib.cz", "attachment_id": 20910, "is_private": false, "id": 108946, "time": "2007-10-03T07:20:58Z", "bug_id": 43542, "creation_time": "2007-10-03T07:20:58Z", "text": "Created attachment 20910\nmyfop2.xconf\n\nMy FOP configuration file."}, {"count": 2, "tags": [], "creator": "jeremias@apache.org", "attachment_id": null, "is_private": false, "id": 108947, "time": "2007-10-03T07:33:17Z", "bug_id": 43542, "creation_time": "2007-10-03T07:33:17Z", "text": "Looks like an oversight when font auto-detection was added. The CachedFontInfo\nclass references classes (URI) from Xalan-J. Normally, our dependency would only\nbe on JAXP and not any JAXP implementation directly. We'll have to fix that.\n\nIn the meantime, you can simply make sure you've got xalan.jar in your classpath\nso FOP has access to the URI class."}, {"count": 3, "tags": [], "bug_id": 43542, "attachment_id": null, "text": "(In reply to comment #2)\n> We'll have to fix that.\nPlease let me know when you fix it in trunk version. I will test it.\n\n> In the meantime, you can simply make sure you've got xalan.jar in your classpath\n> so FOP has access to the URI class.\n\nI can confirm that with xalan.jar in CP it works well. Thank you for temporary\nworkaround.", "id": 108948, "time": "2007-10-03T07:50:28Z", "creator": "jiri.tyr@e-learning.vslib.cz", "creation_time": "2007-10-03T07:50:28Z", "is_private": false}, {"count": 4, "tags": [], "text": "Problem fixed in FOP Trunk:\nhttp://svn.apache.org/viewvc?rev=581806&view=rev", "is_private": false, "bug_id": 43542, "id": 108967, "time": "2007-10-04T02:06:30Z", "creator": "jeremias@apache.org", "creation_time": "2007-10-04T02:06:30Z", "attachment_id": null}, {"count": 5, "attachment_id": null, "bug_id": 43542, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 156185, "time": "2012-04-01T07:03:16Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T07:03:16Z", "tags": [], "is_private": false}]