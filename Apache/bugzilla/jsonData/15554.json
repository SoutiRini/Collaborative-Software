[{"count": 0, "tags": [], "text": "J2SDK - 1.4.1\nOS ver - RedHat 8.0\n\nI have noticed that java.net.ConnectionException: Connection refused is thrown \nwhen Tomcat is started and shutdown with any http requests. \n\nMy installation shuts down fine if a HTTP request is made but will throw the \nerror is I start and shutdown immediately.\n\n[root@lin-webserver root]# startup.sh\nUsing CATALINA_BASE:   /usr/local/jakarta/jakarta-tomcat-4.1.12\nUsing CATALINA_HOME:   /usr/local/jakarta/jakarta-tomcat-4.1.12\nUsing CATALINA_TMPDIR: /usr/local/jakarta/jakarta-tomcat-4.1.12/temp\nUsing JAVA_HOME:       /usr/java/j2sdk1.4.1_01\n[root@lin-webserver root]# shutdown.sh\nUsing CATALINA_BASE:   /usr/local/jakarta/jakarta-tomcat-4.1.12\nUsing CATALINA_HOME:   /usr/local/jakarta/jakarta-tomcat-4.1.12\nUsing CATALINA_TMPDIR: /usr/local/jakarta/jakarta-tomcat-4.1.12/temp\nUsing JAVA_HOME:       /usr/java/j2sdk1.4.1_01\nCatalina.stop: java.net.ConnectException: Connection refused\njava.net.ConnectException: Connection refused\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:305)\n        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:171)\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:158)\n        at java.net.Socket.connect(Socket.java:426)\n        at java.net.Socket.connect(Socket.java:376)\n        at java.net.Socket.<init>(Socket.java:291)\n        at java.net.Socket.<init>(Socket.java:119)\n        at org.apache.catalina.startup.Catalina.stop(Catalina.java:579)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:402)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n[root@lin-webserver root]# startup.sh\nUsing CATALINA_BASE:   /usr/local/jakarta/jakarta-tomcat-4.1.12\nUsing CATALINA_HOME:   /usr/local/jakarta/jakarta-tomcat-4.1.12\nUsing CATALINA_TMPDIR: /usr/local/jakarta/jakarta-tomcat-4.1.12/temp\nUsing JAVA_HOME:       /usr/java/j2sdk1.4.1_01\n[root@lin-webserver root]# shutdown.sh\nUsing CATALINA_BASE:   /usr/local/jakarta/jakarta-tomcat-4.1.12\nUsing CATALINA_HOME:   /usr/local/jakarta/jakarta-tomcat-4.1.12\nUsing CATALINA_TMPDIR: /usr/local/jakarta/jakarta-tomcat-4.1.12/temp\nUsing JAVA_HOME:       /usr/java/j2sdk1.4.1_01\n[root@lin-webserver root]# startup.sh\nUsing CATALINA_BASE:   /usr/local/jakarta/jakarta-tomcat-4.1.12\nUsing CATALINA_HOME:   /usr/local/jakarta/jakarta-tomcat-4.1.12\nUsing CATALINA_TMPDIR: /usr/local/jakarta/jakarta-tomcat-4.1.12/temp\nUsing JAVA_HOME:       /usr/java/j2sdk1.4.1_01\n[root@lin-webserver root]#", "attachment_id": null, "id": 28082, "creation_time": "2002-12-20T02:56:26Z", "time": "2002-12-20T02:56:26Z", "creator": "millerq@murdoch.rch.unimelb.edu.au", "bug_id": 15554, "is_private": false}, {"count": 1, "tags": [], "text": "It is the default behaviour. When you start the server, it binds 8080 port for\nHTTP request and 8005 for shutdown request. If you call shutdown before the \nserver binds to 8005 then this exception will occur. It simply means either no \nserver is running or server is not intialized completely.\n\n Next time, please ask on userlist before posting a bug.", "is_private": false, "bug_id": 15554, "id": 28083, "time": "2002-12-20T03:31:32Z", "creator": "sarora@novell.com", "creation_time": "2002-12-20T03:31:32Z", "attachment_id": null}]