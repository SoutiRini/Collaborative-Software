[{"count": 0, "tags": [], "text": "Httpd 2.4.18 added the Upgrade response header when a newer version of HTTP protocol is available. This is valid and allowed by the spec.\n\nUnfortunately NodeJS does not handle this correctly resulting in clients using that not being able to connect to an Apache Httpd server running 2.4.18 and HTTP/2.\n\nThis is an error on the NodeJS side. They have fixed the issue, though it has not been released yet and they are not able to easily backport it to previous versions. More details here:\n   https://github.com/nodejs/node/issues/4334.\nSo it could be some time before this fix is available to all the NodeJS clients.\n\nWhile I appreciate this is not a bug on the httpd side, it is something that has broken with the latest release, it affects a very popular and common technology, and could limit the uptake of httpd and HTTP/2, which I'm sure none of us want.\n\nWould there be any possibility of adding a DoNotSendUpgradeHeader, which could default to False, but would enable those affected to set this to True? Or a SendUpgradeHeader might be less confusing from a double negative point of view :-)\n\nMore details:\n\nIssue raised with mod_http2 where @icing identified the problem: https://github.com/icing/mod_h2/issues/73\n\nThanks,\nBarry", "is_private": false, "id": 188231, "creation_time": "2016-02-04T19:40:36Z", "time": "2016-02-04T19:40:36Z", "creator": "barry@tunetheweb.com", "bug_id": 58971, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 58971, "text": "As a workaround in the meantime, you can use mod_headers to unset Upgrade for announcements.\n\n  Header unset Upgrade", "id": 195633, "time": "2016-12-23T12:21:00Z", "creator": "stefan@eissing.org", "creation_time": "2016-12-23T12:21:00Z", "tags": [], "is_private": false}]