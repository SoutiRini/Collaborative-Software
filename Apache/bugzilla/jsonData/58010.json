[{"count": 0, "tags": [], "bug_id": 58010, "attachment_id": null, "id": 183356, "time": "2015-06-08T10:41:48Z", "creator": "vasa.v03@gmail.com", "creation_time": "2015-06-08T10:41:48Z", "is_private": false, "text": "JSP Classes compiled by Jasper Ant Task getting compiled without debuginfo even though by default classdebuginfo is set to true in apache-tomcat-7.0.55-src/java/org/apache/jasper/JspC.java:189 \n\n\nUsed the following snippet for compiling jsp in a sample web application\n------------------------------------------------------------\n<taskdef name=\"jasper2\" classname=\"org.apache.jasper.JspC\">\n<classpath>\n... \n</classpath>\n</taskdef>\n\n\n<mkdir dir=\"${dir}/\"/>\n<jasper2 validateXml=\"false\" classdebuginfo=\"true\" uriroot=\"${dir}/jsp\" outputDir=\"${dir}/src\" verbose=\"1\" />\n--------------------------------------------------------------\n\nUsed the following command to check if the classes compiled by Jasper has debug info enabled or not .\n\njavap -l Sample.class\n\nwhich did not give LineNumberTable and LocalVariableTable attributes.\n\nhttp://stackoverflow.com/questions/1508235/determine-whether-class-file-was-compiled-with-debug-info"}, {"count": 1, "tags": [], "bug_id": 58010, "text": "classDebugInfo not classdebuginfo", "id": 183385, "time": "2015-06-09T11:08:00Z", "creator": "markt@apache.org", "creation_time": "2015-06-09T11:08:00Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 58010, "attachment_id": null, "text": "\nI have tried that flag, but the javap -l command output for jsp class files doesn't have the LineNumberTable and LocalVariableTable attributes details.\n\nMy build.xml has this entry.\n\n<taskdef classname=\"org.apache.jasper.JspC\" name=\"jasper\" >\n            <classpath>\n                <pathelement location=\"${JAVA_HOME}/../lib/tools.jar\"/>\n                <pathelement location=\"${compile.home}\"/>\n                ...\n                <path refid=\"jasper.compile.classpath\"/>\n            </classpath>\n        </taskdef>\n        <jasper verbose=\"1\"\n                package=\"org.apache.jsp\"\n                classDebugInfo=\"true\"\n                uriroot=\"${basedir}/${prep.home}/jsp\"\n                ....\n                outputDir=\"${basedir}/${prep.home}/src\" />", "id": 183435, "time": "2015-06-10T15:35:36Z", "creator": "joshua.rebelo@gmail.com", "creation_time": "2015-06-10T15:35:36Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 58010, "attachment_id": null, "text": "Marking the defect as re-opened, as I think its still not working.", "id": 183450, "time": "2015-06-11T03:16:33Z", "creator": "joshua.rebelo@gmail.com", "creation_time": "2015-06-11T03:16:33Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 58010, "attachment_id": null, "text": "Even is the flag misspelled the default behavior for jasper is to compile class files with debuginfo as per documentation.", "id": 183476, "time": "2015-06-12T05:49:16Z", "creator": "vasa.v03@gmail.com", "creation_time": "2015-06-12T05:49:16Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 58010, "attachment_id": null, "text": "I tried with classDebugInfo as well the issue still persists .\nLet us know for more information or samples", "id": 183477, "time": "2015-06-12T05:50:56Z", "creator": "vasa.v03@gmail.com", "creation_time": "2015-06-12T05:50:56Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 58010, "attachment_id": null, "text": "I've just tested this locally using the latest 7.0.x code (not that that should matter - I don;t recall any changes in this area for years) and it works as expected. Please follow up on the users mailing list if you require further assistance.\n\nIf you are able to recreate this issue then feel free to re-open it and provide the exact steps necessary to reproduce it from a clean install of the latest 7.0.x release.", "id": 183560, "time": "2015-06-16T14:09:01Z", "creator": "markt@apache.org", "creation_time": "2015-06-16T14:09:01Z", "is_private": false}]