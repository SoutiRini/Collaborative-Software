[{"count": 0, "tags": [], "creator": "lars.sonchocky-helldorf@bbdo-interone.de", "attachment_id": null, "id": 10954, "time": "2002-02-20T17:50:49Z", "bug_id": 6586, "creation_time": "2002-02-20T17:50:49Z", "is_private": false, "text": "After unpacking jakarta-tomcat-4.0.2.tar.gz and invoking startup.sh I got the message:\n\nThe JAVA_HOME environment variable is not defined correctly\n\nin tomcat 3.3 this didn't happen. After looking around for a while I found a solution: add the following lines (taken from tomcat.sh of tomcat 3.3) to the top of setclasspath.sh:\n\n## -------------------- Find JAVA_HOME --------------------\n\n\nif [ -z \"$JAVA_HOME\" ] ;  then\n  JAVA=`which java`\n  if [ -z \"$JAVA\" ] ; then\n    echo \"Cannot find JAVA. Please set your PATH.\"\n    exit 1\n  fi\n  JAVA_BINDIR=`dirname $JAVA`\n  JAVA_HOME=$JAVA_BINDIR/..\nfi"}, {"count": 1, "tags": [], "bug_id": 6586, "text": "Unfortunately, while your patch will work on Mac OS X (since there is one and \nonly 1 JVM on the machine), this can cause very unexpected results on platforms \nthat have multiple JVM versions installed (e.g. my Solaris and Linux machines \nhave 1.1, 1.2, 1.3, and 1.4 JDKs on them).\n\nSince Tomcat 4.x will work with JDK 1.3 or higher, the \"which\" command has a high \nlikelihood of finding and using an inadequate JDK version. \n", "id": 10955, "time": "2002-02-20T17:57:35Z", "creator": "patrick.luby@planamesa.com", "creation_time": "2002-02-20T17:57:35Z", "is_private": false, "attachment_id": null}]