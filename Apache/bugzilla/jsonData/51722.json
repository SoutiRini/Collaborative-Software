[{"count": 0, "tags": [], "creator": "dawan@melix.net", "text": "If my config contains \"Redirect /images/ http://somewhere.else/images/\", the URI http://here/images/ is redirected as it should.\nCreating a file, a folder or a symlink pointing to any existing file, giving it the name \"images\" and placing it in the DocumentRoot has no effect, this actual \"image\" is ignored.\n\nBut if \"images\" is a broken symlink, the redirection will fail and the log will show \"[error] Symbolic link not allowed or link target not accessible:  /.../images\".", "id": 148818, "time": "2011-08-25T14:08:41Z", "bug_id": 51722, "creation_time": "2011-08-25T14:08:41Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "nick@webthing.com", "attachment_id": null, "is_private": false, "id": 148820, "time": "2011-08-25T15:12:50Z", "bug_id": 51722, "creation_time": "2011-08-25T15:12:50Z", "text": "That should depend on merge order.  What is the context of your Redirect?\nTop level?  In a <Location>?  A <Directory> ?  or ... ?"}, {"count": 2, "tags": [], "bug_id": 51722, "is_private": false, "text": "Pretty much this :\n\n**\n\n<VirtualHost *:80>\n        ServerName here\n\n        DocumentRoot /blah\n</VirtualHost>\n\n<Directory /blah>\n        Redirect /images/ http://somewhere.else/images/\n</Directory>\n\n**\n\nIf I add \"Options -FollowSymLinks\" in the <Directory/>, the redirection will fail with the error message no matter what \"images\" is pointing to.\nIf symlinks are allowed it only fails when it is broken, even a link towards an unauthorised file won't be a problem (though in this case mod_mime_magic complains it \"can't read /.../file\").\n\nI understand how the order can be important in some cases, but I don't get why apache even tries to access the real \"images\" in the first place.", "id": 148822, "time": "2011-08-25T15:41:18Z", "creator": "dawan@melix.net", "creation_time": "2011-08-25T15:41:18Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 51722, "is_private": false, "text": "If it's in a <Directory> then by definition it can't be applied until after the directory walk, which includes checking symlinks.\n\nArguably it's a bug that Redirect is allowed in <Directory> in the first place as it doesn't make logical sense, but changing that would be too disruptive to existing configs.\n\nWork around it either by keeping the redirect outside the <Directory> or by dumping the offending symlink.", "id": 148823, "time": "2011-08-25T16:25:43Z", "creator": "nick@webthing.com", "creation_time": "2011-08-25T16:25:43Z", "attachment_id": null}]