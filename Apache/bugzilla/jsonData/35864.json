[{"count": 0, "tags": [], "creator": "mgoldhahn@gmail.com", "attachment_id": null, "id": 77659, "time": "2005-07-26T12:45:48Z", "bug_id": 35864, "creation_time": "2005-07-26T12:45:48Z", "is_private": false, "text": "The cause of problem is that the map that stores the worker properties is free'd\nafter being read. The values of properties, worker_env.worker_list stores just\npointers to the property map. After the property map is free'd the pointers are\ninvalid. This crashes if one tries to list the workers with the status worker.\n\nSolutions: 1. copy the values (need proper allocation and freeing mem many places)\n 2. keep the map during the whole lifetime of the ISAPI filter\n\nThe patch I attached uses the second solution.\n\nI started with the first solution but this makes changes in many places necessary."}, {"count": 1, "tags": [], "creator": "mgoldhahn@gmail.com", "text": "Created attachment 15778\nPatch that fixes the bug\n\npatch for jakarta-tomcat-connectors\\jk\\native\\iis\\jk_isapi_plugin.c\nsee bug description", "id": 77660, "time": "2005-07-26T12:48:12Z", "bug_id": 35864, "creation_time": "2005-07-26T12:48:12Z", "is_private": false, "attachment_id": 15778}, {"count": 2, "attachment_id": null, "bug_id": 35864, "text": "This seems to be related to bug 35862", "id": 77661, "time": "2005-07-26T12:59:27Z", "creator": "mgoldhahn@gmail.com", "creation_time": "2005-07-26T12:59:27Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "mturk@apache.org", "text": "*** Bug 35924 has been marked as a duplicate of this bug. ***", "id": 79806, "time": "2005-09-12T16:11:40Z", "bug_id": 35864, "creation_time": "2005-09-12T16:11:40Z", "is_private": false, "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 35864, "text": "Commited. Thanks!", "id": 79807, "time": "2005-09-12T16:12:26Z", "creator": "mturk@apache.org", "creation_time": "2005-09-12T16:12:26Z", "tags": [], "is_private": false}]