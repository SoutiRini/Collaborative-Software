[{"count": 0, "tags": [], "text": "Created attachment 35088\nAdd X-Forwarded-Proto\n\nIn order for backends behind a reverse proxy to reconstruct the original URL requested by the client, mod_proxy needs to pass along not only the Host header (in X-Forwarded-Host) but also the scheme.\n\nWith more and more websites adopting https, this is becoming increasingly important.\n\nThe de-facto standard header for this purpose is X-Forwarded-Proto. Other variants exist, but this seems to be the predominant name.\n\nThe header can be added manually with RequestHeader, but I think it should be added automatically together with the other X-Forwarded-* headers when enabled.\n\nThe attached patch adds this feature. I am completely new to Apache httpd development, so please help me get it right.\n\nAn alternative to adding support for X-Forwarded-Proto is to support the Forwarded header specified in RFC 7239 (bug #58001). However, I believe both solutions can coexist.", "attachment_id": 35088, "id": 199477, "creator": "bz.apache.org@chsc.dk", "time": "2017-06-28T22:26:26Z", "bug_id": 61234, "creation_time": "2017-06-28T22:26:26Z", "is_private": false}, {"count": 1, "tags": [], "text": "Nice patch. We would like to have this feature as well.\nA current workaround could look like:\n\nRequestHeader set \"X-Forwarded-Proto\" expr=%{REQUEST_SCHEME}\nRequestHeader set \"X-Forwarded-SSL\" expr=%{HTTPS}\n\nEven better would be to support the Forwarded header (https://tools.ietf.org/html/rfc7239).", "attachment_id": null, "id": 199485, "creator": "best@univention.de", "time": "2017-06-29T11:49:13Z", "bug_id": 61234, "creation_time": "2017-06-29T11:49:13Z", "is_private": false}, {"count": 2, "text": "See also: https://bz.apache.org/bugzilla/show_bug.cgi?id=58001", "bug_id": 61234, "is_private": false, "id": 199486, "time": "2017-06-29T11:50:44Z", "creator": "best@univention.de", "creation_time": "2017-06-29T11:50:44Z", "tags": [], "attachment_id": null}]