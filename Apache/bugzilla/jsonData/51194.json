[{"count": 0, "attachment_id": null, "bug_id": 51194, "text": "Prereq: \nHave a PHP installed in a path containing a space, for example C:\\Program Files\\PHP\n\nBased on that, the httpd.conf contains the following line:\nFcgidWrapper \"C:/Program Files/php/php-cgi.exe\" .php \n\nCurrent result:\nThe Apache startup fails with the following error:\nThe Apache service named  reported the following error:\n>>> Wrapper C:/Program cannot be accessed: (720002)The system cannot find the file specified.     .\n\nExpected: \nThe Fcgid/Apache handles the path with a space correctly, so the wrapper is found successfully.", "id": 146296, "time": "2011-05-13T09:06:46Z", "creator": "mumu@seznam.cz", "creation_time": "2011-05-13T09:06:46Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 51194, "text": "*** Bug 52795 has been marked as a duplicate of this bug. ***", "count": 1, "id": 154377, "time": "2012-02-29T18:22:14Z", "creator": "wrowe@apache.org", "creation_time": "2012-02-29T18:22:14Z", "is_private": false}, {"count": 2, "tags": [], "text": "Created attachment 29520\nPatch to honor quoted FcgidWrapper command and arguments\n\nAttached is a patch which corrects only the behavior of FcgidWrapper.  The other directives for authnz/access checkers have not been corrected yet.\n\nWould appreciate validation of this patch on both unix and windows by others before applying it to trunk, particularly against some fcgid wrapper other than php.\n\nThe patch continues the documented behavior of the FcgidWrapper, which claims to allow space separated args, e.g.\n\nFcgidWrapper \"\\\"c:/Program Files (x86)/php-nts/php-cgi.exe\\\" -d date.timezone=America/Chicago\" .php\n\nThe modern phpinfo() complains bitterly if date.timezone is not set, making this a simple test that the command line value was used in place of the missing php.ini entry.", "is_private": false, "bug_id": 51194, "id": 163036, "time": "2012-10-29T19:13:20Z", "creator": "wrowe@apache.org", "creation_time": "2012-10-29T19:13:20Z", "attachment_id": 29520}, {"count": 3, "tags": [], "text": "*** Bug 52436 has been marked as a duplicate of this bug. ***", "is_private": false, "bug_id": 51194, "id": 163043, "time": "2012-10-29T20:07:23Z", "creator": "wrowe@apache.org", "creation_time": "2012-10-29T20:07:23Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 51194, "attachment_id": null, "text": "This bug affects me, too.\n\nHere are two workarounds that can be employed until the proposed patch is integrated.\n\n1.) Use the 8.3 file name, for example:\n\n#Path to php-cgi\nFcgidWrapper \"C:/Progra~1/php/php-cgi.exe\" .php\n\n(Thanks to http://www.php.net/manual/en/install.windows.apache2.php#96529 )\n\n2.) Create an NTFS junction point using the Windows Command Prompt, for example:\n\nmklink /J \"C:\\php\" \"C:\\Program Files\\php\"", "id": 163197, "time": "2012-11-05T15:23:53Z", "creator": "ben@indietorrent.org", "creation_time": "2012-11-05T15:23:53Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 51194, "is_private": false, "text": "Committed and anticipated in 2.3.8 tag.", "id": 163488, "time": "2012-11-16T18:33:22Z", "creator": "wrowe@apache.org", "creation_time": "2012-11-16T18:33:22Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 51194, "attachment_id": null, "text": "Will this patch also fix arguments to the wrapper?\n\nFor instance, right now the following is impossible with 2.3.7:\nFcgidWrapper \"c:/php/bin/php-cgi.exe -d open_basedir='C:\\\\Shared Files\\\\'\" .php\n\nWhile this works fine: \nFcgidWrapper \"c:/php/bin/php-cgi.exe -d open_basedir='C:\\\\Shared_Files\\\\'\" .php\n\nI know I can work around this by either renaming my paths or using a script file instead of php-cgi.exe directly, but this gets extremely annoying when developing and testing with both mod_php and fcgi.\n\nThe current situation forces the use of a separate configuration (wrapper) file for each virtual host. This is not very nice since it's easy to forget to update the wrapper script. \n\nIf this directive supported spaces in its arguments, It would be possible to keep everything together in the virtual hosts configuration file like:\n\n<IfModule mod_php5.c>\n  php_admin_value open_basedir \"C:\\\\Shared Files\\\\\"\n</IfModule>\n\n<IfModule fcgid_module>\n  <Files ~ \"\\.php$\">\n    AddHandler fcgid-script .php\n    FcgidWrapper \"c:/php/bin/nts/php-cgi.exe -d open_basedir='C:\\\\Shared Files\\\\'\" .php\n  </Files>\n</IfModule>", "id": 165473, "time": "2013-02-25T11:08:35Z", "creator": "edw.tests@gmail.com", "creation_time": "2013-02-25T11:08:35Z", "is_private": false}, {"count": 7, "tags": [], "creator": "gls@gknw.net", "attachment_id": null, "id": 166219, "time": "2013-03-29T06:30:40Z", "bug_id": 51194, "creation_time": "2013-03-29T06:30:40Z", "is_private": false, "text": "Bill, this seems to have broken the use of double backslash.\nFcgidWrapper \"C:\\\\php54\\\\php-cgi.exe\" .php\n\nWrapper C:php54php-cgi.exe cannot be accessed: (720002)The system cannot find the file specified.  \n\n2.3.8-dev @ r1411531"}, {"count": 8, "attachment_id": null, "bug_id": 51194, "text": "(In reply to comment #7)\n> Bill, this seems to have broken the use of double backslash.\n> FcgidWrapper \"C:\\\\php54\\\\php-cgi.exe\" .php\n> \n> Wrapper C:php54php-cgi.exe cannot be accessed: (720002)The system cannot\n> find the file specified.  \n\nGreg,\n\nI you have properly bisected the change, the very same behavior should be seen in directives like ErrorLog etc.  Can you confirm that double-backslashes are generally faulty?", "id": 166409, "time": "2013-04-05T06:04:34Z", "creator": "wrowe@apache.org", "creation_time": "2013-04-05T06:04:34Z", "tags": [], "is_private": false}, {"count": 9, "attachment_id": null, "bug_id": 51194, "text": "No, I can confirm it doesn't affect any other directives that I've looked at and mod_fcgid 2.3.7 works fine with below config snippets. Tested again with 2.3.7 + just r1410528 patch.\n\nServerRoot \"C:\\\\Apache24\"\nDocumentRoot \"C:\\\\Apache24\\\\htdocs\"\nErrorLog \"C:\\\\Apache24\\\\logs\\\\error.log\"\n\nFCGID config\n\n\tFcgidInitialEnv PHPRC \"c:\\\\php54\"\n\tFcgidInitialEnv PATH \"c:\\\\php54;C:\\\\WINDOWS\\\\system32;C:\\\\WINDOWS;C:\\\\WINDOWS\\\\System32\\\\Wbem;\"\n\tFcgidInitialEnv SystemRoot \"C:\\\\Windows\"\n\tFcgidInitialEnv SystemDrive \"C:\"\n\tFcgidInitialEnv TEMP \"C:\\\\WINDOWS\\\\TEMP\"\n\tFcgidInitialEnv TMP \"C:\\\\WINDOWS\\\\TEMP\"\n\tFcgidInitialEnv windir \"C:\\\\WINDOWS\"\n\n\t<Files ~ \"\\.php$\">\n\t  Options +ExecCGI\n\t\tAddHandler fcgid-script .php\n\t\tFcgidWrapper \"c:\\\\php54\\\\php-cgi.exe\" .php\n\t</Files>\n\nOnce FcgidWrapper is changed to \"c:/php54/php-cgi.exe\" it all works again w/ r1410528.\n\nphpinfo() shows that the FcgidInitialEnv are also not affected.\n\nPATH:        c:\\php54;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem; \nPHPRC:       c:\\php54 \nSystemRoot:  C:\\Windows \nTEMP:        C:\\WINDOWS\\TEMP \nTMP:         C:\\WINDOWS\\TEMP \nWINDIR:      C:\\WINDOWS", "id": 166763, "time": "2013-04-22T18:21:14Z", "creator": "gls@gknw.net", "creation_time": "2013-04-22T18:21:14Z", "tags": [], "is_private": false}, {"count": 10, "tags": [], "text": "I just upgraded my dev server to mod_fcgi 2.3.9 final (from the apache lounge), and guess what? Yes, exactly, the double backslash is broken. I had to change it to forward slashes everywhere. Nice...not. It's not even documented as a breaking change.", "is_private": false, "bug_id": 51194, "id": 170485, "time": "2013-10-08T15:01:30Z", "creator": "edw.tests@gmail.com", "creation_time": "2013-10-08T15:01:30Z", "attachment_id": null}]