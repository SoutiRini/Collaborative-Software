[{"count": 0, "tags": [], "creator": "sebastien.arod@gmail.com", "attachment_id": null, "text": "Please add OSGI metadata to the MANIFEST.MF of POI jars so that they can be used directly in an OSGI runtime", "id": 162147, "time": "2012-09-13T12:52:35Z", "bug_id": 53866, "creation_time": "2012-09-13T12:52:35Z", "is_private": false}, {"count": 1, "tags": [], "creator": "apache@gagravarr.org", "attachment_id": null, "text": "I'm not sure we have any OSGi experts in the project. Could you please suggest what we should be adding, and how we can test it's working?", "id": 162148, "time": "2012-09-13T13:28:12Z", "bug_id": 53866, "creation_time": "2012-09-13T13:28:12Z", "is_private": false}, {"count": 2, "tags": [], "creator": "pascal.leclercq@gmail.com", "attachment_id": null, "text": "It should be fairly easy bing using bnd (or maven-bundle-plugin if you use maven).\n\nsee :\nhttp://www.aqute.biz/Code/Bnd\n\n\nThe problem I see here is you have the same package into different jars for example : \"org.apache.poi\" into poi-ooxml.jar and poi.jar.\n\nThis doesn't behave well under OSGi.\n\n\nLet me know if I can help....", "id": 162700, "time": "2012-10-11T21:09:41Z", "bug_id": 53866, "creation_time": "2012-10-11T21:09:41Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 53866, "attachment_id": null, "id": 162701, "time": "2012-10-11T21:27:38Z", "creator": "apache@gagravarr.org", "creation_time": "2012-10-11T21:27:38Z", "is_private": false, "text": "Would we be better therefore to produce one \"POI OSGi\" jar that contains the contents of all the others rolled into it?\n\nIf you'd like to come up with a patch that uses a tool like bnd to wrap it up, we can certainly look at adding that to the build process. However, I'm not sure we have any OSGi experts on the project, so someone who's interested in seeing OSGi support will need to do the bulk of the work!"}, {"count": 4, "tags": [], "bug_id": 53866, "attachment_id": null, "id": 175826, "time": "2014-06-15T16:37:00Z", "creator": "sebastien.arod@gmail.com", "creation_time": "2014-06-15T16:37:00Z", "is_private": false, "text": "Apache servicemix is publishing an osgified version of POI but they are generally one or two versions behind latest poi version.\n\nThey build one single \"poi-osgi\" bundle that include poi, poi-contrib, poi-ooxml, and poi-scratchpad. It seems to confirm Pascal comment's.\n\nThe maven pom.xml they used to build version 3.9 is available at http://svn.apache.org/repos/asf/servicemix/smx4/bundles/trunk/poi-3.9\nThey use shade to build a single jar and bnd to generate the osgi manifest.\n\nThe problem is that poi build uses ant for the build and not maven however I think it should be possible to use bnd from ant."}, {"count": 5, "tags": [], "bug_id": 53866, "attachment_id": null, "id": 175835, "time": "2014-06-16T11:16:53Z", "creator": "apache@gagravarr.org", "creation_time": "2014-06-16T11:16:53Z", "is_private": false, "text": "I've made a quick start in r1602846, but I don't know enough about the bnd tool to know what options / parameters are needed to make it do the right thing\n\nIf someone who knows more OSGi fancies having a go at finishing that off, please attach a patch!"}, {"count": 6, "tags": [], "creator": "dominik.stadler@gmx.at", "text": "There is some more discussion of this in bug 57857 with newer patches and more information of what is still missing so I am going to duplicate this one.\n\n*** This bug has been marked as a duplicate of bug 57857 ***", "id": 184672, "time": "2015-08-20T19:27:54Z", "bug_id": 53866, "creation_time": "2015-08-20T19:27:54Z", "is_private": false, "attachment_id": null}]