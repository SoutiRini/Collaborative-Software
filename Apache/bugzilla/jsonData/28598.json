[{"count": 0, "tags": [], "bug_id": 28598, "attachment_id": null, "id": 56409, "time": "2004-04-26T14:08:36Z", "creator": "chris@runtime-collective.com", "creation_time": "2004-04-26T14:08:36Z", "is_private": false, "text": "From a standard install of Lenya from source, I log in as editor in the default publication. As per the \ntutorial, in the tutorial section I add a new document (id=foo, title=Foo). I then navigate to this \ndocument and edit it (Edit/Edit with forms). I click on any delete icon to remove an element, and receive \nan error page. The full stacktrace from $webapps/lenya/WEB-INF/logs/error.log is:\n\nERROR   (2004-04-26) 14:57.39:809   [sitemap.action.save] (/lenya/default/author\ning/tutorial/foo.html) http8080-Processor2/HTMLFormSaveAction: .act(): Exception\n: null\njava.lang.ClassCastException\n        at org.xmldb.common.xml.queries.xalan2.XPathQueryImpl.execute(Unknown So\nurce)\n        at org.apache.lenya.cms.cocoon.acting.HTMLFormSaveAction.act(HTMLFormSav\neAction.java:181)\n        at org.apache.cocoon.components.treeprocessor.sitemap.ActTypeNode.invoke\n(ActTypeNode.java:154)\n        at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNo\nde.invokeNodes(AbstractParentProcessingNode.java:84)\n        at org.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNod\ne.invoke(PreparableMatchNode.java:165)\n        at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNo\nde.invokeNodes(AbstractParentProcessingNode.java:84)\n        at org.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNod\ne.invoke(PreparableMatchNode.java:165)\n        at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNo\nde.invokeNodes(AbstractParentProcessingNode.java:84)\n        at org.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNod\ne.invoke(PreparableMatchNode.java:165)\n        at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNo\nde.invokeNodes(AbstractParentProcessingNode.java:84)\n        at org.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNod\ne.invoke(PreparableMatchNode.java:165)\n        at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNo\nde.invokeNodes(AbstractParentProcessingNode.java:107)\n        at org.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invok\ne(PipelineNode.java:162)\n        at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNo\nde.invokeNodes(AbstractParentProcessingNode.java:107)\n        at org.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invo\nke(PipelinesNode.java:136)\n        at org.apache.cocoon.components.treeprocessor.TreeProcessor.process(Tree\nProcessor.java:371)\n        at org.apache.cocoon.components.treeprocessor.TreeProcessor.process(Tree\nProcessor.java:312)\n        at org.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(M\nountNode.java:133)\n        at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNo\nde.invokeNodes(AbstractParentProcessingNode.java:84)\n        at org.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNod\ne.invoke(PreparableMatchNode.java:165)\n        at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNo\nde.invokeNodes(AbstractParentProcessingNode.java:107)\n        at org.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invok\ne(PipelineNode.java:162)\n        at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNo\nde.invokeNodes(AbstractParentProcessingNode.java:107)\n        at org.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invo\nke(PipelinesNode.java:136)\n        at org.apache.cocoon.components.treeprocessor.TreeProcessor.process(Tree\nProcessor.java:371)\n        at org.apache.cocoon.components.treeprocessor.TreeProcessor.process(Tree\nProcessor.java:312)\n        at org.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(M\nountNode.java:133)\n        at \norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractPar\nentProcessingNode.java:84)\n        at org.apache.cocoon.components.treeprocessor.sitemap.ActTypeNode.invoke\n(ActTypeNode.java:173)\n        at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNo\nde.invokeNodes(AbstractParentProcessingNode.java:84)\n        at org.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNod\ne.invoke(PreparableMatchNode.java:165)\n        at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNo\nde.invokeNodes(AbstractParentProcessingNode.java:107)\n        at org.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invok\ne(PipelineNode.java:162)\n        at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNo\nde.invokeNodes(AbstractParentProcessingNode.java:107)\n        at org.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invo\nke(PipelinesNode.java:136)\n        at org.apache.cocoon.components.treeprocessor.TreeProcessor.process(Tree\nProcessor.java:371)\n        at org.apache.cocoon.components.treeprocessor.TreeProcessor.process(Tree\nProcessor.java:312)\n        at org.apache.cocoon.Cocoon.process(Cocoon.java:656)\n        at org.apache.cocoon.servlet.CocoonServlet.service(CocoonServlet.java:11\n12)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl\nicationFilterChain.java:247)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF\nilterChain.java:193)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV\nalve.java:256)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:643)\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV\nalve.java:191)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:643)\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.catalina.core.StandardContext.invoke(StandardContext.java:\n2422)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j\nava:180)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:643)\n        at org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatche\nrValve.java:171)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:641)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j\nava:163)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:641)\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal\nve.java:174)\n        at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContex\nt.invokeNext(StandardPipeline.java:643)\n        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:19\n9)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java\n:828)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.proce\nssConnection(Http11Protocol.java:700)\n        at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java\n:584)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadP\nool.java:683)\n        at java.lang.Thread.run(Thread.java:552)"}, {"count": 1, "tags": [], "bug_id": 28598, "attachment_id": null, "id": 56801, "time": "2004-05-04T13:58:36Z", "creator": "A.Kuckartz@ping.de", "creation_time": "2004-05-04T13:58:36Z", "is_private": false, "text": "Added lenya-dev@apache.cocoon.org to CC-list."}, {"count": 2, "attachment_id": null, "creator": "egli@apache.org", "text": "I just double checked this and it works for me too. Chris, could this have been\na problem of the endorsed libs? \n\nhttp://wiki.cocoondev.org/Wiki.jsp?page=EndorsedLibsProblem", "id": 57154, "time": "2004-05-11T10:02:31Z", "bug_id": 28598, "creation_time": "2004-05-11T10:02:31Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 28598, "attachment_id": null, "id": 57156, "time": "2004-05-11T10:03:05Z", "creator": "A.Kuckartz@ping.de", "creation_time": "2004-05-11T10:03:05Z", "is_private": false, "text": "Resolved for 1.2"}]