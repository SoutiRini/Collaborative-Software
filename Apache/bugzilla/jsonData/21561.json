[{"count": 0, "tags": [], "text": "i have checked out and built jakarta_tomcat_connectors at 07/11/2003 (HEAD)\ni am only using the native part of the build ( mod_jk2.so ) for apache 2.0.47\nthe probelem that i am encountering is, that jk2 does not handle uri's like\n[uri:/examples/*] or [uri:/jkstatus/*] correctly.\n\ne.g. for the latter one no subcontext can be accessed ( /examples/jsp/ )\nbut it works if i specify an additional entry [uri:/examples/jsp/*] \n\nthe same problem occurs with the jkstatus context so it's definitly a jk2 \nproblem.\n\nFix:\nas a fix i have rolled back the file jk/native2/common/jk_uriEnv.c from version\n1.49 to version 1.48. With this change everything worked fine.\n\nI had a briev look a the diff between the versions 1.48 and 1.49 and it seems \nto me that the changes made to the uri wildcard handling could be a possible \nsource for the problem.", "attachment_id": null, "id": 40620, "creator": "christoph.grimm@db.com", "time": "2003-07-14T09:50:33Z", "bug_id": 21561, "creation_time": "2003-07-14T09:50:33Z", "is_private": false}, {"count": 1, "tags": [], "creator": "stefan.proels@gmx.de", "attachment_id": null, "id": 48002, "time": "2003-11-24T13:24:38Z", "bug_id": 21561, "creation_time": "2003-11-24T13:24:38Z", "is_private": false, "text": "I've also encountered this bug after switching from JK2 of Tomcat 4.1.27 to\n4.1.29. Thanks to this bug report which pointed me to the right file I could\ntrack down the problem. Here is a patch against the 4.1.29 distribution to fix\nthis problem.\n\n-----------------------------------------------\n--- old_jk_uriEnv.c     2003-11-24 13:43:30.000000000 +0100\n+++ jk_uriEnv.c 2003-11-24 14:13:16.000000000 +0100\n@@ -445,6 +445,7 @@\n\n     if (uri[strlen(uri) - 1] == '*') {\n         /* context based /context/prefix/ASTERISK  */\n+        uri[strlen(uri) - 1] = '\\0';\n         uriEnv->suffix      = NULL;\n         uriEnv->prefix      = uri;\n         uriEnv->prefix_len  =strlen( uriEnv->prefix );\n-----------------------------------------------"}, {"count": 2, "tags": [], "creator": "christoph.grimm@db.com", "attachment_id": null, "id": 48722, "time": "2003-12-09T09:15:22Z", "bug_id": 21561, "creation_time": "2003-12-09T09:15:22Z", "is_private": false, "text": "Stefan's fix is the same as the one done in version 1.51 on Oct 30, 2003 by mturk.\nSo this bug's resolution can be changed to 'FIXED'."}, {"count": 3, "tags": [], "bug_id": 21561, "text": "fixed in cvs with jk_uriEnv.c version 1.51 checked in 2003-Oct-30 by mturk.", "id": 52947, "time": "2004-02-25T16:51:53Z", "creator": "eflash@gmx.net", "creation_time": "2004-02-25T16:51:53Z", "is_private": false, "attachment_id": null}]