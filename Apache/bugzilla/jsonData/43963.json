[{"text": "Hi,\n\nIn the server.xml file I've the following elements:\n- 1 engine;\n- 1 host\n- 2 contexts (in the same host)\n\nSay that the contexts are C1 and C2.\nIn WEB-INF/classes on C1 there is a class a.b.c.Foo.class.\nIn WEB-INF/classes on C2 there is the same class a.b.c.Foo.class but that has\nbeen modified. So, we have a.b.c.Foo version 1 in C1 and a.b.c.Foo version 2 in C2.\n\nI have to keep the 2 versions (i.e I can't updrade a.b.c.Foo of C1).\n\nIn the web application on C2 I've a JSP that uses the class a.b.c.Foo.\n\nAs it is specified on the Class Loader HOW-TO page\n(http://tomcat.apache.org/tomcat-4.1-doc/class-loader-howto.html) \"All unpacked\nclasses and resources in the /WEB-INF/classes directory of your web application\narchive, plus classes and resources in JAR files under the /WEB-INF/lib\ndirectory of your web application archive, are made visible to the containing\nweb application, but to no others.\"\n\nSo, I'm expecting Tomcat to compile the JSP using the a.b.c.Foo class that is in\nC2 and not in C1. But, I don't know why, Tomcat uses the a.b.c.Foo classes of C1\ninstead of C2 that generates an error in my case.\n\nI don't really know if it is a bug, but according to the docs, Tomcat is not\nbehaving as it is expected to...\n\nThanks.", "tags": [], "creator": "benoit.baranne@gmail.com", "is_private": false, "count": 0, "id": 111104, "time": "2007-11-26T08:05:51Z", "bug_id": 43963, "creation_time": "2007-11-26T08:05:51Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "markt@apache.org", "is_private": false, "text": "Please post your server.xml configuration.", "id": 111109, "time": "2007-11-26T11:44:11Z", "bug_id": 43963, "creation_time": "2007-11-26T11:44:11Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 43963, "attachment_id": 21208, "text": "Created attachment 21208\nserver.xml configuration file", "id": 111298, "time": "2007-11-30T01:22:01Z", "creator": "benoit.baranne@gmail.com", "creation_time": "2007-11-30T01:22:01Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 43963, "is_private": false, "id": 111308, "attachment_id": null, "creator": "markt@apache.org", "creation_time": "2007-11-30T10:05:56Z", "time": "2007-11-30T10:05:56Z", "text": "I don't see anything in there that would cause this problem although the\ndifference in case in the path and the docBase may well cause your apps to be\ndeployed twice.\n\nA quick check of the manager app will tell you if this is the case.\n\nThinking about it, this could be the cause if:\n- your context has been deployed twice\n- your update has only been applied to one copy of the context and\n- the request is being processed by the copy of the context that has not been\nupgraded."}, {"count": 4, "tags": [], "creator": "markt@apache.org", "text": "This works as documented for me with a simple test case. It looks like a\nconfiguration issue with your app.\n\nI suggest you start with a clean install and a simple test case and build up to\nyour current configuration to isolate the problem. If you need any further\nassistance, it can be obtained from the users mailing list.", "id": 111309, "time": "2007-11-30T10:28:14Z", "bug_id": 43963, "creation_time": "2007-11-30T10:28:14Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "text": "Thx for your response but I still have the problem.\n\nI'll report my problem to the user mailing list.", "is_private": false, "id": 111393, "creation_time": "2007-12-04T00:39:07Z", "time": "2007-12-04T00:39:07Z", "creator": "benoit.baranne@gmail.com", "bug_id": 43963, "attachment_id": null}]