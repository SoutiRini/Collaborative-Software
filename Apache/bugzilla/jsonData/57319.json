[{"count": 0, "tags": [], "bug_id": 57319, "attachment_id": null, "text": "We need to upgrade to more recent HttpClient as it has interesting improvements made for JMeter.\n\n@sebb you mentionned you had started working on this, maybe submitting a patch of current state or commit partial work would be interesting to complete work.", "id": 179578, "time": "2014-12-06T15:18:15Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-12-06T15:18:15Z", "is_private": false}, {"count": 1, "tags": [], "creator": "william.law@bluereef.com.au", "attachment_id": null, "id": 183475, "time": "2015-06-12T05:24:33Z", "bug_id": 57319, "creation_time": "2015-06-12T05:24:33Z", "is_private": false, "text": "+1 for this.\n\nRelated to #57935"}, {"count": 2, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Author: pmouawad\nDate: Sun Dec 20 14:41:30 2015\nNew Revision: 1721032\n\nURL: http://svn.apache.org/viewvc?rev=1721032&view=rev\nLog:\nBug 57319 - Upgrade to HttpClient 4.5.X\nBugzilla Id: 57319\n\nModified:\n    jmeter/trunk/build.properties\n    jmeter/trunk/eclipse.classpath\n    jmeter/trunk/licenses/bin/README.txt\n    jmeter/trunk/res/maven/ApacheJMeter_parent.pom\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/control/CookieManager.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/control/HC4CookieHandler.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/MeasuringConnectionManager.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/control/TestCookieManager.java\n    jmeter/trunk/xdocs/changes.xml", "id": 187055, "time": "2015-12-20T14:43:11Z", "bug_id": 57319, "creation_time": "2015-12-20T14:43:11Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Author: pmouawad\nDate: Sun Dec 20 16:27:27 2015\nNew Revision: 1721042\n\nURL: http://svn.apache.org/viewvc?rev=1721042&view=rev\nLog:\nBug 57319 - Upgrade to HttpClient 4.5.X\nDocument why there cannot be any issue due to case difference on IGNORE_POLICY between HC3 and HC4\nBugzilla Id: 57319\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/control/HC4CookieHandler.java", "id": 187060, "time": "2015-12-20T16:28:26Z", "bug_id": 57319, "creation_time": "2015-12-20T16:28:26Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "sebb@apache.org", "text": "There are lots of deprecation warnings still to fix.", "id": 187402, "time": "2016-01-05T22:46:17Z", "bug_id": 57319, "creation_time": "2016-01-05T22:46:17Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "(In reply to Sebb from comment #4)\n> There are lots of deprecation warnings still to fix.\n\nAs discussed on mailing list, I had created Bug 58757 to follow fix of deprecated methods.\n\nIf you want this bug to stay Open , then I suggest you close the other one.\nBut it should be publicly mentionned that HttpClient was upgraded", "id": 187413, "time": "2016-01-06T12:23:15Z", "bug_id": 57319, "creation_time": "2016-01-06T12:23:15Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 57319, "is_private": false, "text": "Author: pmouawad\nDate: Sat Jan  9 20:41:41 2016\nNew Revision: 1723881\n\nURL: http://svn.apache.org/viewvc?rev=1723881&view=rev\nLog:\nBug 57319 - Upgrade to HttpClient 4.5.X\nReplace deprecated methods\nBugzilla Id: 57319\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/control/CacheManager.java", "id": 187522, "time": "2016-01-09T20:42:10Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-01-09T20:42:10Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 57319, "attachment_id": null, "text": "*** NOTE ***\nEven with these changes SSL SNI is not supported. You need to make the following two changes and then server_name / SNI / Subject-Alternative-Naming works.\n\nFILE: ./src/protocol/http/org/apache/jmeter/protocol/http/util/HC4TrustAllSSLSocketFactory.java\n\n\n26a27\n> import javax.net.SocketFactory;\n74c75,77\n<         return factory.createSocket();\n---\n>         // Does not work with SSL SNI: return factory.createSocket();\n>         // Fix below:\n>         return SocketFactory.getDefault().createSocket();\n82c85,87\n<         return factory.createSocket();\n---\n>         // Does not work with SSL SNI: return factory.createSocket();\n>         // Fix below:\n>         return SocketFactory.getDefault().createSocket();", "id": 188135, "time": "2016-02-02T00:01:36Z", "creator": "gordon@night-ray.com", "creation_time": "2016-02-02T00:01:36Z", "is_private": false}, {"count": 8, "attachment_id": null, "bug_id": 57319, "text": "NOTE: I am digging deeper on the fix listed above. It seems JMeter has buried the source of the socket factory somewhat in abstraction :-)", "id": 188138, "time": "2016-02-02T00:57:44Z", "creator": "gordon@night-ray.com", "creation_time": "2016-02-02T00:57:44Z", "tags": [], "is_private": false}, {"count": 9, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Hello,\nThanks for your contribution(In reply to Gordon McKinney from comment #8)\n> NOTE: I am digging deeper on the fix listed above. It seems JMeter has\n> buried the source of the socket factory somewhat in abstraction :-)\n\nThanks for your contribution and help.\nYes we were aware it was not fixed yet, that's why bug was reopened.\n\nI understand that for now fix is not yet complete right ?\nMaybe I can help on JMeter code, what are you looking for ?\nThanks", "id": 188168, "time": "2016-02-02T21:51:11Z", "bug_id": 57319, "creation_time": "2016-02-02T21:51:11Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "id": 188872, "time": "2016-02-26T22:53:59Z", "bug_id": 57319, "creation_time": "2016-02-26T22:53:59Z", "is_private": false, "text": "Author: pmouawad\nDate: Fri Feb 26 22:35:18 2016\nNew Revision: 1732569\n\nURL: http://svn.apache.org/viewvc?rev=1732569&view=rev\nLog:\nUpgrade to HttpClient/httpmime 4.5.2 which fixes at the same time:\n- Bug 58881 - HTTP Request : HTTPHC4Impl shows exception when server uses \"deflate\" compression\n- Bug 58583 - HTTP client fails to close connection if server misbehaves by not sending \"connection: close\", violating HTTP RFC 2616 / RFC 7230\n- Bug 56358 - Cookie manager supports cross port cookies and RFC6265\n- Bug 57319 - Upgrade to HttpClient 4.5.2\nBugzilla Id: 57319\n\nModified:\n    jmeter/trunk/build.properties\n    jmeter/trunk/eclipse.classpath\n    jmeter/trunk/lib/   (props changed)\n    jmeter/trunk/lib/aareadme.txt\n    jmeter/trunk/licenses/bin/README.txt\n    jmeter/trunk/res/maven/ApacheJMeter_parent.pom\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/control/TestCookieManager.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/sampler/TestHTTPSamplersAgainstHttpMirrorServer.java\n    jmeter/trunk/xdocs/changes.xml"}]