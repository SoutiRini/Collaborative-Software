[{"count": 0, "tags": [], "creator": "gzaronik@redhat.com", "attachment_id": null, "text": "In order to make httpd listen to a link-local scoped IPv6 address you have to specify either the scope_id or the interface along with the address\nBinding to link-local scoped IPv6 socket with httpd is possible.\nHowever, is not possible with the way suggested from the documents right now.\nCurrently, If you try to make httpd listen to an IPv6 address with link-local scope_id, for example\n*httpd.conf: * (I'm adding the scope_id in the address after the scope_id delim.)\nListen [fe80::4eeb:42ff:fedb:9dbd%3]:80\nYou'll get the following error:\nAH00526: Syntax error on line 52 of /usr/local/apache2/conf/httpd.conf:\nScope id is not supported\nIn that case we're falling into this:\nhttps://github.com/apache/httpd/blob/8828a489f4224541849a95c3f7f5364b77f08050/server/listen.c#L643\n\n  if (scope_id) {\n        /* XXX scope id support is useful with link-local IPv6 addresses */\n        return \"Scope id is not supported\";\n    }\n\nWhich means that apr is fine and filling correctly scope_id but httpd itself drops the scope_id and giving this error.\nAs noted in the Apache httpd documentation, in order to make httpd listen to an IPv6 address you have to place the address in brackets hence speaking for the above configuration, per documentation is correct. Note that, no matter the scope_id value you'll enter there, you'll always get the same error.\nNow if you have the same configuration but without the brackets you'll be able to correctly make httpd listen to link-local IPv6 address.\nFor example:\nListen fe80::4eeb:42ff:fedb:9dbd%3:80\nHowever this is not suggested(as per RFC) as it will create a confusion between interfaces with zone-ids. For example we could have an interface along with zone-id \"3:80\"\n\nFound in 2.4.6, it is still the same in trunk", "id": 190642, "time": "2016-04-29T12:27:51Z", "bug_id": 59396, "creation_time": "2016-04-29T12:27:51Z", "is_private": false}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "I forgot there was a bug for this... this is now done for trunk:\n\nhttps://svn.apache.org/viewvc?view=revision&revision=1816527\nhttps://svn.apache.org/viewvc?view=revision&revision=1816609", "id": 202469, "time": "2017-11-29T09:17:29Z", "bug_id": 59396, "creation_time": "2017-11-29T09:17:29Z", "is_private": false}, {"count": 2, "text": "Let's keep this bug opened until a 2.4.x backport is proposed/accepted, so users will be able to track it.", "bug_id": 59396, "is_private": false, "id": 202470, "time": "2017-11-29T09:35:03Z", "creator": "toscano.luca@gmail.com", "creation_time": "2017-11-29T09:35:03Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 59396, "text": "Moving to APR since the fix belongs in there.", "id": 202473, "time": "2017-11-29T11:40:53Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-11-29T11:40:53Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "(In reply to Yann Ylavic from comment #3)\n> Moving to APR since the fix belongs in there.\n\nr1816527", "attachment_id": null, "id": 202474, "creator": "ylavic.dev@gmail.com", "time": "2017-11-29T11:42:31Z", "bug_id": 59396, "creation_time": "2017-11-29T11:42:31Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 59396, "text": "Oh, it seems that changes are needed in httpd too (r1816609), along with APR-1.7 (r1816608), so moving back this PR to httpd :/", "id": 202475, "time": "2017-11-29T12:22:17Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-11-29T12:22:17Z", "is_private": false, "attachment_id": null}]