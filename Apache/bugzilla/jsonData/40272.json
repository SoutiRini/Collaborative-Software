[{"count": 0, "tags": [], "creator": "costin.leau@gmail.com", "attachment_id": null, "is_private": false, "id": 92283, "time": "2006-08-17T07:43:16Z", "bug_id": 40272, "creation_time": "2006-08-17T07:43:16Z", "text": "When defining a classloader (custom or standard) inside the server.xml,\nconfiguration is not properly read and it fails.\nExample of server.xml:\n\n<Host>\n..\n      <Context path=\"petclinic\" docBase=\"petclinic\" reloadable=\"false\">\n      \t<Loader loaderClass=\"org.apache.catalina.loader.WebappClassLoader\"/>\n      </Context>\n...\n</Host>\n\nThe webapp (petclinic in this case) will fail with the following error:\n\nSEVERE: Error configuring application listener of class\norg.springframework.web.context.ContextLoaderListener\njava.lang.NoClassDefFoundError: javax/servlet/ServletContextListener\n\tat java.lang.ClassLoader.defineClass1(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:620)\n\n\nNo matter what classloader is specified (a custom or an official one) the\nexception will appear. Removing the Loader tag, makes the application load properly."}, {"count": 1, "tags": [], "bug_id": 40272, "attachment_id": null, "id": 92284, "time": "2006-08-17T07:44:03Z", "creator": "costin.leau@gmail.com", "creation_time": "2006-08-17T07:44:03Z", "is_private": false, "text": "The bug is similar to http://issues.apache.org/bugzilla/show_bug.cgi?id=39704"}, {"count": 2, "tags": [], "bug_id": 40272, "attachment_id": null, "is_private": false, "id": 92380, "time": "2006-08-22T01:44:18Z", "creator": "markt@apache.org", "creation_time": "2006-08-22T01:44:18Z", "text": "Although the error messages differ, this is in fact a duplicate. The problem is\nthat the parent clasloader is not set so any classes that should be loaded from\nthe shared classloader or higher fail.\n\n*** This bug has been marked as a duplicate of 39704 ***"}]