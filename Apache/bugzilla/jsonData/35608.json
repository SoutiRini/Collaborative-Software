[{"count": 0, "tags": [], "bug_id": 35608, "attachment_id": null, "text": "If the complete size of the path gets too long, Slides File Store on Windows\ncreates a folder instead of a file on a file upload. \n\nThis happens with files like this:\nD:\\rd\\runtime\\covportal\\jboss\\server\\covportal\\deploy\\COVPORTALEar.ear\\COVPORTAL_JAHIA.war\\WEB-INF\\var\\content\\slide\\jvpsite\\store\\users\\root\\public\\gallerien\\hochzeit2\\06.09.03\nPo govoru pred dvorano.jpg_1.0\n\nThe problem is that the system gets instable, the database is flaged \"dirty\" and\nno slide transaction is allowed. \n\nWhen restarting the server I get the following exception:\norg.apache.commons.transaction.file.ResourceManagerSystemException:\nhttp-0.0.0.0-8080-Processor24-1120556014695-1: Commit failed (ERR_SYSTEM)\nCaused by: java.io.FileNotFoundException:\nD:\\rd\\runtime\\covportal\\jboss\\server\\covportal\\deploy\\COVPORTALEar.ear\\COVPORTAL_JAHIA.war\\WEB-INF\\var\\content\\slide\\jvpsite\\store\\users\\root\\public\\gallerien\\hochzeit2\\06.09.03\n- 01 - Pri Papezih v Avstriji - Slikanje z nevesto - Teta, stric in sestricna iz\nMadzarske.JPG_1.0 (Access is denied)\n\tat java.io.FileOutputStream.open(Native Method)\n\tat java.io.FileOutputStream.<init>(FileOutputStream.java:179)\n\tat java.io.FileOutputStream.<init>(FileOutputStream.java:131)\n\tat org.apache.commons.transaction.util.FileHelper.copy(FileHelper.java:235)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:142)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:111)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:135)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:111)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:135)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:111)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:135)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:111)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:135)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:111)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:135)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:111)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:135)\n\tat org.apache.commons.transaction.util.FileHelper.moveRec(FileHelper.java:111)\n\tat\norg.apache.commons.transaction.file.FileResourceManager$TransactionContext.commit(FileResourceManager.java:1359)\n\nCan you somehow prohibit that the store creates folders instead of the files and\nthat it triggers an exception if the path gets too long?", "id": 76992, "time": "2005-07-05T13:11:32Z", "creator": "pap@commaro.com", "creation_time": "2005-07-05T13:11:32Z", "is_private": false}]