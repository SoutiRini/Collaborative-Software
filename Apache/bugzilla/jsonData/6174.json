[{"count": 0, "tags": [], "bug_id": 6174, "attachment_id": null, "id": 10163, "time": "2002-02-01T10:28:07Z", "creator": "esc@softpro.de", "creation_time": "2002-02-01T10:28:07Z", "is_private": false, "text": "With the new version 1.4.4 I always encounter an exception when validating a XML \ndocument.\n\n*Parsing Fatal Error*  Line:    0\n  URI:     \n  Message: File \"signplus.dtd\" not found.\norg.xml.sax.SAXException: Fatal Error encountered\nat \nde.softpro.signplus.client.businessModel.MyErrorHandler.fatalError(SB_XMLHandler\n.java:2132)\n        at \norg.apache.xerces.framework.XMLParser.reportError(XMLParser.java:1242)\n        at \norg.apache.xerces.readers.DefaultEntityHandler.startReadingFromExternalEntity(De\nfaultEntityHandler.java:780)\n        at \norg.apache.xerces.readers.DefaultEntityHandler.startReadingFromExternalSubset(De\nfaultEntityHandler.java:571)\n        at \norg.apache.xerces.framework.XMLDTDScanner.scanDoctypeDecl(XMLDTDScanner.java:113\n9)\n        at \norg.apache.xerces.framework.XMLDocumentScanner.scanDoctypeDecl(XMLDocumentScanne\nr.java:2145)\n        at \norg.apache.xerces.framework.XMLDocumentScanner.access$0(XMLDocumentScanner.java:\n2100)\n        at \norg.apache.xerces.framework.XMLDocumentScanner$PrologDispatcher.dispatch(XMLDocu\nmentScanner.java:831)\n        at \norg.apache.xerces.framework.XMLDocumentScanner.parseSome(XMLDocumentScanner.java\n:381)\n        at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1098)\n\nThe XML document reverts to a DTD specification. The system id is NOT fully \nqualified:\n\n<?xml version=\"1.0\" encoding=\"Cp850\"?>\n<!DOCTYPE SignPlusEntry SYSTEM \"signplus.dtd\">\n...\n\nThe problem only appears when passing the XML file as a stream to the parse \nmethode of the XMLReader. When I pass the fully qualified URI of the XML file it \nworks fine. It also works fine when I specifiy the fully qualified URI of the \nDTD within the XML file. So I assume that the reference to the DTD file is not \nresolved correctly when passing the InputSource object to the parse method. All \nthis worked fine in version 1.4.3.\n\nIn the following I have listed parts of the code I use:\n\n  public void readXML (java.io.InputStream xmlContent) {\n    InputSource input=new InputSource(xmlContent);\n\n    XMLReader parser = \nXMLReaderFactory.createXMLReader(\"org.apache.xerces.parsers.SAXParser\");\n    parser.setContentHandler(new MyContentHandler());\n    parser.setErrorHandler(new MyErrorHandler());\n\n    // Turn on validation\n    parser.setFeature(\"http://xml.org/sax/features/validation\", true);\n    // Turn off namespace awareness\n    parser.setFeature(\"http://xml.org/sax/features/namespaces\", false);\n\n    // Parse the document\n    parser.parse(input);"}, {"count": 1, "text": "Created attachment 11383\nsee other bugs - URL exception", "creator": "csanscrainte@yahoo.com", "attachment_id": 11383, "id": 56645, "time": "2004-04-29T17:33:00Z", "bug_id": 6174, "creation_time": "2004-04-29T17:33:00Z", "tags": [], "is_private": false}]