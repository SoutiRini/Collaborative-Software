[{"count": 0, "tags": [], "bug_id": 47088, "attachment_id": null, "id": 126473, "time": "2009-04-23T19:32:52Z", "creator": "bsgcic1776@acite.com", "creation_time": "2009-04-23T19:32:52Z", "is_private": false, "text": "See the following bbs page posted by Martin Thorpe:\nhttp://www.coderanch.com/t/86515/Tomcat/Tomcat-Connector-high-cpu-usage\n\nTomcat results in massive unrelease cpu usage (100% on my machine and 25% on Martin's machine).\n\nThis happens with the latest isapi_redirect-1.2.28.dll as well as older ones.\n\nThe following should be changed in the server.xml file that ships with Tomcat (I would guess that this applies to Tomcat 6.x as well).\n\n[Martin] changed this line, which was the default Tomcat shipped with:\n    <!-- Define an AJP 1.3 Connector on port 8009 -->   \n    <Connector port=\"8009\"    \n           enableLookups=\"false\" redirectPort=\"8443\" protocol=\"AJP/1.3\"/>  \n    <!-- Define an AJP 1.3 Connector on port 8009 -->\n    <Connector port=\"8009\" \n           enableLookups=\"false\" redirectPort=\"8443\" protocol=\"AJP/1.3\"/>\n\n\nTo be this:\n    <!-- Define an AJP 1.3 Connector on port 8009 -->   \n    <Connector port=\"8009\"    \n           enableLookups=\"false\" redirectPort=\"8443\" protocol=\"AJP/1.3\"  \n   maxThreads=\"50\" minSpareThreads=\"5\" maxSpareThreads=\"20\"  \n           acceptCount=\"100\" connectionTimeout=\"2000\"/>"}, {"count": 1, "attachment_id": null, "bug_id": 47088, "is_private": false, "id": 127058, "time": "2009-05-16T12:55:44Z", "creator": "markt@apache.org", "creation_time": "2009-05-16T12:55:44Z", "tags": [], "text": "The root cause is an issue with the connector and this should be addressed there. Moving to the right product."}, {"count": 2, "tags": [], "bug_id": 47088, "attachment_id": null, "id": 127123, "time": "2009-05-18T10:24:29Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2009-05-18T10:24:29Z", "is_private": false, "text": "Could you please check, if you have the native Tomcat connector running (aka known as tcnative or APR connector)?\n\nIf so, which version of Tomcat and tcnative are you using, and can you please try once, whether the problem also goes away by disabling tcnative?"}, {"count": 3, "tags": [], "text": "Closing ticket as the problem was originally reported against Tomcat 5.0.\nI can't reproduce the problem, there's no other such report (all others have been associated with tcnative) and 5.0 is no longer under support.\n\nPlease reopen if you can reproduce with a recent 5.5.x or 6.0.x version of Tomcat.", "is_private": false, "bug_id": 47088, "id": 127124, "time": "2009-05-18T10:38:10Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2009-05-18T10:38:10Z", "attachment_id": null}]