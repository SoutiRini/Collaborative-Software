[{"attachment_id": null, "tags": [], "creator": "whurst@whurst.net", "text": "i use the latest freesbd cvs ports apache13 (with ipv6) on my cvs brand new freebsd.\n\ni test a transparent proxy on port 10001, but the AB send the wrong URL to the\nserver. the socket is ok. IP and Port are OK. but the requested URL (Host\nHeader) is very very wrong.\n\ni make a :\nab -c 16 -n 20  http://62.XXX.XX.XXX:10001/de/index.html\n\nand i got a \nNon-2xx responses:      20\n\n\nin the squid log files i saw\n\n194.162.XXX.XX TCP_DENIED NONE [24/Jul/2006:20:09:39 +0000] \"GET\nhttp://62.XXX.XX.XXX:134586416/de/index.html HTTP/0.0\" 400 1538\n\nhe scrambles the port. i think it's ONLY a datatype conflict.\n\nwith a other server (he is very old ... 2-3 month without update) it's function.\ni copy the AB to my host, and here it's function ....\n\ni can give you the destination ip for testing if you want contact me via \n[ wolfgang dot hurst at de dot tiscali dot com ] too ... \n\nthx", "count": 0, "id": 91553, "time": "2006-07-24T20:18:17Z", "bug_id": 40105, "creation_time": "2006-07-24T20:18:17Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 40105, "text": "i found the -v switch .... he prints the wrong header :\n\nGET /de/index.html HTTP/1.0\nUser-Agent: ApacheBench/1.3d\nHost: 62.XYZ.ZZT.XYZ:134586416\nAccept: */*\n\nallways ! except port 80\n\nsomething is wrong in line 1419\n [ ap_snprintf(colonport,sizeof(colonport),\":%d\",port); ]\nor in line 1215 (build the request line) ....\n\nbut i see no errors. should be a stack over-write in another fragment of code ....\n\n\n", "id": 91562, "time": "2006-07-25T00:24:21Z", "creator": "whurst@whurst.net", "creation_time": "2006-07-25T00:24:21Z", "is_private": false, "attachment_id": null}]