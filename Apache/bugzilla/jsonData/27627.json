[{"attachment_id": null, "tags": [], "bug_id": 27627, "text": "There is a buffer overflow bug in the following code in jk2 connector\n(jk/native2/common/jk_uriMap.c, jk2_uriMap_getHostCache function):\n\nchar key[1024];\n    \nif (!vhost && !port)\n    return uriMap->vhosts->get(env, uriMap->vhosts, \"*\");\nif (!vhost)\n    vhost = \"*\";\nsprintf(key, \"%s:%d\", vhost, port);\n    \nThe value of the 'vhost' variable comes from the \"Host\" header and the maximum \nlength of this variable depends on the web server (for Apache2 it is more than \n1024). \nClient that connects to the web server and enters \"Host\" header longer than \n1024 characters will cause web server crash (and this may even enable clients \nto execute arbitrary code on the server!).\nThe simlar bug is in the jk2_uriMap_hostMap function.", "count": 0, "id": 53922, "time": "2004-03-12T11:01:15Z", "creator": "tomcat@kivus.no-ip.org", "creation_time": "2004-03-12T11:01:15Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 10763\nI attach patch that fixes the problem", "attachment_id": 10763, "bug_id": 27627, "id": 53923, "time": "2004-03-12T11:02:39Z", "creator": "tomcat@kivus.no-ip.org", "creation_time": "2004-03-12T11:02:39Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 27627, "attachment_id": null, "text": "Comminted thanks", "id": 53928, "time": "2004-03-12T12:00:30Z", "creator": "hgomez@apache.org", "creation_time": "2004-03-12T12:00:30Z", "is_private": false}]