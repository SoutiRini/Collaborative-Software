[{"attachment_id": null, "tags": [], "creator": "ras@fyn.dk", "is_private": false, "count": 0, "id": 93510, "time": "2006-09-13T13:21:30Z", "bug_id": 40496, "creation_time": "2006-09-13T13:21:30Z", "text": "The PHP-commands chdir(\".\") and chdir(\"..\") seem to switch directory relative \nto Apache's application-root, rather than PHP's current working directory.\n\nThis occurs with any PHP5-release or snapshot, under any Apache release 2.0.x \nor 2.2.x, both as module and as CGI-binary.\n\nI have tried installations from scratch, using all possible combinations\nof all of the following:\n\n- PHP 5.1.6 (latest release)\n- PHP 5.2.x-dev (latest snapshot)\n\n- Apache 2.2.3 (latest release)\n- Apache 2.0.59 (last stable 2.0 release)\n- Apache 2.0.55\n\nThat is, I've tried both versions of PHP under all three different\nApaches. On all six combinations, I've tried configuring Apache to use\nboth \"php-cgi.exe\", as well as the modules (\"php5apache2.dll\" and\n\"php5apache2_2.dll\", respetively).\n\nThe test-script I've been using is as follows:\n\necho getcwd() . \"<br />\";\nchdir(\"test\");\necho getcwd() . \"<br />\";\nchdir(\"..\");\necho getcwd() . \"<br />\";\nchdir(\"..\");\necho getcwd();\n\nI've created the folder \"test\" next to the \"test.php\" script. In all\nsetups, I get the following output:\n\nC:\\Web\nC:\\Web\\test\nC:\\Programmer\\Apache Group\nC:\\Programmer\\Apache Group\n\nI have configured \"php.ini\" and \"httpd.conf\" manually every time, on two\noccassions using a configuration file written by a friend. All with the\nsame result.\n\nI have even tried downloading \"WAMPServer\" and one or two other\nout-of-the-box WAMP distributions, all with the same result - they don't\nwork.\n\nI'm at my wits end - PHP5 under Apache2 simply does not seem to be an\noption for Windows users at this point...\n\nForgot to mention, I'm using Windows XP SP2. So it is, apparently, not\nspecific to Windows NT.\n\nFinal note, I have just switched to an old Apache release, version\n1.3.37, and this works without problems, using latest PHP release,\nversion 5.1.6.\n\nI configured it to run with the \"php5apache.dll\" module, not the CGI.\n\nThe problem seems to occur only with \"php5apache2.dll\" and\n\"php5apache2_2.dll\" under Apache 2.0.x and 2.2.x, respectively.\n\nWith the same PHP-release and \"php5apache.dll\" under Apache 1.x.x, there is no \nproblem.\n\nI don't have the technical insight to say whether this is a bug in Apache, in \nthe php5apache-DLLs, or in PHP itself. But having confirmed that neither the \nDLLs or the CGI-binary work properly under any Apache release after 2.0, and \nthat binaries from the same PHP-build work fine under Apache 1.x, it seems \nlikely to be Apache.\n\nIf someone could please de/confirm this, please - thank you. PHP's bugtracker \nseems to have canned this bug, without comment, over a year ago. I wonder if \nanyone ever looked into it.\n\nThe latest releases of phpMyAdmin, for example, rely on chdir(\"..\") - it would \nbe nice if these scripts could be used \"out of the box\" with current Apache and \nPHP releases under Windows..."}, {"count": 1, "tags": [], "bug_id": 40496, "attachment_id": null, "is_private": false, "id": 93513, "time": "2006-09-13T14:24:50Z", "creator": "rpluem@apache.org", "creation_time": "2006-09-13T14:24:50Z", "text": "Sorry but this is clearly a PHP bug. So you need to open a bug there and bug\nthem for a comment."}]