[{"count": 0, "tags": [], "bug_id": 12766, "is_private": false, "id": 23017, "creation_time": "2002-09-18T11:44:09Z", "time": "2002-09-18T11:44:09Z", "creator": "woolfel@yahoo.com", "text": "The bug is repeatable every time in 4.1.10 stable on windows and solaris. I've \ntested it with 4.0.3 for comparison to make sure the code works correctly. If \nthere a tld file in both webapp/WEB-INF/ and jar file, 4.0.3 uses the one in \n/WEB-INF, whereas 4.1.10 uses the jar version. I haven't checked the spec, but \nI would expect the version in /WEB-INF/ has a presidence. to reproduce the \nbehavior, use JSTL <x:forEach>. Place a copy of JSTL tld files in /WEB-INF/ and \nmodify x.tld to include the attribute varStatus.\n\n  <tag>\n    <name>forEach</name>\n    <tag-class>org.apache.taglibs.standard.tag.common.xml.ForEachTag</tag-class>\n    <body-content>JSP</body-content>\n    <description>\n\tXML iteration tag.\n    </description>\n    <attribute>\n\t<name>var</name>\n\t<required>false</required>\n\t<rtexprvalue>false</rtexprvalue>\n    </attribute>\n    <attribute>\n\t<name>varStatus</name>\n\t<required>false</required>\n\t<rtexprvalue>false</rtexprvalue>\n    </attribute>\n    <attribute>\n\t<name>select</name>\n\t<required>true</required>\n\t<rtexprvalue>false</rtexprvalue>\n    </attribute>\n  </tag>\n\nThe work around I found is to delete the tld files in the jar. Once I do that \nand restart, varStatus works correctly. Although this bug was exposed using \nJSTL, I believe it will affect all tags.", "attachment_id": null}, {"count": 1, "tags": [], "text": "The spec only recommends that the classloader do not delegate first. TC 4.x is\nsupposed to not delegate first, however. TC 5 is likely to delegate always (not\ndelegating actually doesn't work).", "is_private": false, "bug_id": 12766, "id": 23019, "time": "2002-09-18T11:46:58Z", "creator": "remm@apache.org", "creation_time": "2002-09-18T11:46:58Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 142768, "time": "2010-12-16T05:56:26Z", "bug_id": 12766, "creation_time": "2010-12-16T05:56:26Z", "text": "It wasn't clear in the JSP 1.2 spec (for Tomcat 4) but subsequent JSP specs included the following:\n<quote spec=\"JSP\" version=\"2.0\" section=\"JSP.7.3.4\">\nThe container searches for all files with a .tld extension under /WEB-INF or a\nsubdirectory, and inside JAR files that are in /WEB-INF/lib.When examining a\nJAR file, only resources under /META-INF or a subdirectory are considered.\nThe order in which these files are searched for is implementation-specific and\nshould not be relied on by web applications.\n</quote>"}]