[{"count": 0, "tags": [], "creator": "ashpihernyuk@plesk.ru", "text": "Hello.\nWe are using apache 2.0.40 on Redhat-9:\nhttpd-2.0.40-21.9\nhttpd-manual-2.0.40-21.9\nhttpd-debuginfo-2.0.40-21.9\nredhat-config-httpd-1.0.1-18\nhttpd-devel-2.0.40-21.9\nhttpd-2.0.40-21.9\nhttpd-manual-2.0.40-21.9\nhttpd-debuginfo-2.0.40-21.9\nredhat-config-httpd-1.0.1-18\nhttpd-devel-2.0.40-21.9\nphp-mysql-4.2.2-17\nphp-imap-4.2.2-17\nphp-4.2.2-17\nkernel-pcmcia-cs-3.1.31-13\nkernel-source-2.4.20-8\nkernel-2.4.20-24.9\n\nWhen php's function \"imap_open\" is called(this function is called in horde/imp\nfor example), Apache falls down if there are  more than 496 VirtualHosts. We\nrecompiled apache-2.0.48 and php-4.3.4 however this did not make any changes.\nThe only way to prevent this it is to decrease VirtualHost <= 496. \nPlease Help!", "id": 49654, "time": "2003-12-24T00:35:33Z", "bug_id": 25739, "creation_time": "2003-12-24T00:35:33Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "Two issues here:\n\n1. We really can't help debugging version 2.0.40 since it is more than 18 months\nold and many fixes have been made since then.  If you need help with this version,\nyou should try Redhat's bug database.\n\n2. It is expected that Apache will fail if it runs out of file descriptors.\nYou must either raise the number of file descriptors available from the OS,\nor you must decrease the number used by apache.  See, for example,\nhttp://httpd.apache.org/docs-2.0/vhosts/fd-limits.html\n\nThanks for using Apache!", "is_private": false, "id": 49672, "creator": "slive@apache.org", "time": "2003-12-24T15:21:59Z", "bug_id": 25739, "creation_time": "2003-12-24T15:21:59Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 25739, "attachment_id": null, "id": 95438, "time": "2006-11-05T04:17:29Z", "creator": "josep@cdmon.com", "creation_time": "2006-11-05T04:17:29Z", "is_private": false, "text": "I experimented the same problem but the system is:\nFreeBSD 6.1-RELEASE-p10 for AMD64\nApache 2.0.59\nphp 5.1.6\n\nThe problem is when from a php file calls the function imap_open(), then apache\ncrash with the message in /var/log/messages:\nNov  5 06:42:44 hc04 kernel: pid 874 (httpd), uid 80: exited on signal 11\nI tried the same script with a fresh install of apache and it works fine, but in\nthe actual system, with 600 virtualhosts (every one in a separately .conf file)\nfails.\nI revised the maxfiles in the OS, and all seams ok."}, {"count": 3, "tags": [], "creator": "jorton@redhat.com", "is_private": false, "text": "This is probably some c-client bug in that case, it's segfaulting when it should\nfail gracefully; or alternatively hitting select() fd limits.  In any case, this\nisn't an httpd bug.", "id": 95453, "time": "2006-11-06T00:55:21Z", "bug_id": 25739, "creation_time": "2006-11-06T00:55:21Z", "attachment_id": null}]