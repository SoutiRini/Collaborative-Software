[{"count": 0, "tags": [], "creator": "sebb@apache.org", "text": "Created attachment 23455\nFix broken synchronization\n\nVarious classes synchronize on a variable which is then changed. This will not have the desired effect, as all accesses must use the same lock in order for the synchronisation to work correctly.\n\nThe patch adds new final lock objects (which cannot be changed midway).\n\nIt also adds some additional synchronization to various get() methods to ensure that reader threads get the correct updates.", "id": 126063, "time": "2009-04-07T18:52:10Z", "bug_id": 46990, "creation_time": "2009-04-07T18:52:10Z", "is_private": false, "attachment_id": 23455}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 126093, "time": "2009-04-08T09:10:50Z", "bug_id": 46990, "creation_time": "2009-04-08T09:10:50Z", "is_private": false, "text": "Thanks for the patch. I have applied to trunk and proposed it for 6.0.x. Whilst there aren't any explicit bugs caused by this it may be behind some of the harder to reproduce bugs."}, {"count": 2, "tags": [], "bug_id": 46990, "attachment_id": null, "is_private": false, "id": 126095, "time": "2009-04-08T09:15:47Z", "creator": "sebb@apache.org", "creation_time": "2009-04-08T09:15:47Z", "text": "NP.\n\nThat's the problem with incomplete or incorrect synchronization - most of the time, things work as expected. It's also really difficult to force the errors to occur..."}, {"count": 3, "attachment_id": null, "bug_id": 46990, "text": "This has been applied to 6.0.x and will be included in 6.0.20 onwards.", "id": 126732, "time": "2009-05-02T18:16:09Z", "creator": "markt@apache.org", "creation_time": "2009-05-02T18:16:09Z", "tags": [], "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 46990, "text": "Cluster membership sync improvement applied to TC 5.5 as r790321.\nWill be part of 5.5.28.", "id": 128464, "time": "2009-07-01T12:16:51Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2009-07-01T12:16:51Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "creator": "markt@apache.org", "text": "Removed spam.", "id": 129476, "time": "2009-08-05T03:40:11Z", "bug_id": 46990, "creation_time": "2009-08-05T03:40:11Z", "is_private": false, "attachment_id": null}]