[{"count": 0, "tags": [], "bug_id": 44281, "attachment_id": null, "text": "hi\n\nI tested mod_jk 1.2.27-dev (checkout from trunk head) on RHEL 4u5, i got segfault. \n\nWhen the worker name specified for the exclusion rule is \"*\", the apache doesn'\nt start. \n\nex.)\nJkUnMount /*.jpg *\nor\n!/*.jpg=*\n\nIndex: mod_jk/native/common/jk_uri_worker_map.c\n===================================================================\n--- mod_jk/native/common/jk_uri_worker_map.c    (revision 614422)\n+++ mod_jk/native/common/jk_uri_worker_map.c    (working copy)\n@@ -468,6 +468,8 @@\n\n     for (i = 0; i < IND_NEXT(uw_map->size); i++) {\n         uri_worker_record_t *uwr = IND_NEXT(uw_map->maps)[i];\n+        if(uwr->match_type & MATCH_TYPE_NO_MATCH)\n+            continue;\n         jk_worker_t *jw = wc_get_worker_for_name(uwr->worker_name, l);\n         if (JK_IS_DEBUG_LEVEL(l))\n             jk_log(l, JK_LOG_DEBUG,\n\nMy best regards. \n\nP.S.\nThe following patch was made because it was not displayed with status worker \nwhen the worker name was \"*\". \n\nIndex: mod_jk/native/common/jk_status.c\n===================================================================\n--- mod_jk/native/common/jk_status.c    (revision 614422)\n+++ mod_jk/native/common/jk_status.c    (working copy)\n@@ -1358,7 +1358,7 @@\n     if (uw_map) {\n         for (i = 0; i < uw_map->size[uw_map->index]; i++) {\n             uri_worker_record_t *uwr = uw_map->maps[uw_map->index][i];\n-            if (strcmp(uwr->worker_name, worker)) {\n+            if (strcmp(uwr->worker_name, worker)&&strcmp(uwr->worker_name, \"*\")) {\n                 continue;\n             }\n             count++;\n@@ -1409,7 +1409,7 @@\n     for (i = 0; i < uw_map->size[uw_map->index]; i++) {\n         uri_worker_record_t *uwr = uw_map->maps[uw_map->index][i];\n\n-        if (strcmp(uwr->worker_name, worker)) {\n+        if (strcmp(uwr->worker_name, worker)&&strcmp(uwr->worker_name, \"*\")) {\n             continue;\n         }\n         (*count_ptr)++;", "id": 113067, "time": "2008-01-22T23:32:28Z", "creator": "mashmk02@gmail.com", "creation_time": "2008-01-22T23:32:28Z", "is_private": false}, {"count": 1, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": null, "id": 113073, "time": "2008-01-23T04:18:30Z", "bug_id": 44281, "creation_time": "2008-01-23T04:18:30Z", "is_private": false, "text": "Fix committed slightly changed a r614517.\nWill be part of 1.2.27.\nThank you very much for testing (again)!\n"}]