[{"count": 0, "tags": [], "creator": "Tim.Whittington@orionhealth.com", "attachment_id": null, "is_private": false, "id": 96129, "time": "2006-11-23T15:06:10Z", "bug_id": 41031, "creation_time": "2006-11-23T15:06:10Z", "text": "A recent refactoring of the log format code in jk_util.c (r476849) has ended up\ncausing the log_fmt to be accessed while uninitialised.\nThis reliably (e.g. always) causes an access violation and subsequent\ninetinfo.exe crash on XP Pro when using a Debug build (I haven't tested further).\n\nThe offending call stack is:\n\n \tmsvcr80d.dll!_Strftime_l(char * string=0x00a4a008, unsigned int maxsize=8190,\nconst char * format=0xcdcdcdcd, const tm * timeptr=0x00f12ac8, void *\nlc_time_arg=0x00000000, localeinfo_struct * plocinfo=0x00000000)  Line 387 +\n0x3 bytes\tC++\n \tmsvcr80d.dll!strftime(char * string=0x00a4a008, unsigned int maxsize=8190,\nconst char * format=0xcdcdcdcd, const tm * timeptr=0x00f12ac8)  Line 301 +\n0x19 bytes\tC++\n \tisapi_redirect.dll!set_time_str(char * str=0x00a4a008, int len=8190, const\nchar * jk_log_fmt=0xcdcdcdcd)  Line 224 + 0x16 bytes\tC\n \tisapi_redirect.dll!jk_log(jk_logger * l=0x00f12a50, const char *\nfile=0x6a6e6128, int line=85, const char * funcname=0x6a6e611c, int level=0,\nconst char * fmt=0x6a6e6114, ...)  Line 400 + 0x1a bytes\tC\n \tisapi_redirect.dll!jk_shm_open(const char * fname=0x00a4c054, unsigned int\nsz=24576, jk_logger * l=0x00f12a50)  Line 85 + 0x2b bytes\tC\n>\tisapi_redirect.dll!init_jk(char * serverName=0x00a4fb70)  Line 1219 + 0x19 bytes\tC\n \tisapi_redirect.dll!HttpFilterProc(_HTTP_FILTER_CONTEXT * pfc=0x0076db6c,\nunsigned long dwNotificationType=16384, void * pvNotification=0x00a4fc5c)  Line\n730 + 0xc bytes\tC\n \tw3svc.dll!5aa427f1()"}, {"count": 1, "tags": [], "text": "Thanks for the report. Could you check, if it is fixed in revision 478710, which\ni committed a few seconds ago.\nThat would be helpful.\nIf the bug is still there, please reopen the report.", "attachment_id": null, "bug_id": 41031, "id": 96131, "time": "2006-11-23T15:25:52Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2006-11-23T15:25:52Z", "is_private": false}, {"count": 2, "text": "This does appear to be working now in 478710 (at least it hasn't crashed yet :)\nThanks", "bug_id": 41031, "attachment_id": null, "id": 96133, "time": "2006-11-23T16:25:40Z", "creator": "Tim.Whittington@orionhealth.com", "creation_time": "2006-11-23T16:25:40Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": null, "text": "Move a couple of fixed JK issues from resolved to closed.", "id": 112411, "time": "2008-01-01T16:51:31Z", "bug_id": 41031, "creation_time": "2008-01-01T16:51:31Z", "is_private": false}]