[{"count": 0, "tags": [], "bug_id": 28350, "attachment_id": null, "text": "With Tomcat 5.0.22, Apache 2.0.49, and mod_jk 1.2.6-dev (i.e. CVS head as of \n3/31/04):\n\n1) Create a file (e.g. a text file) with a name containing a % character (e.g. \nfoo%bar.txt).\n2) Place it somewhere in the doc base of a web app.\n3) Attempt to navigate to this document via a browser.\n\nYou'll be able to see such files in directory listings, but not download them \n(you get 404's instead)!\n\nNote that the links for such files in the directory listings *do* have the % \nproperly escaped as %25, but the request still does not work.  Note that using \nTomcat 4.1.24 instead of 5.0.22 produces the same result.\n\nApache 2.0.49 has no such issues, though I believe some previous versions had \nissues in this area.\n\nI am not certain which component of the architecture is at fault here.\n\nI am actually more concerned with the overall treatment of % in path-info by \nmod_jk, Coyote, and Tomcat 4.1 and 5 than by the static file serving itself \n(which we use Apache for).  I have servlets which do not get requests when \ntheir path-info contains % characters.  I'll file a separate bug on this issue.", "id": 55658, "time": "2004-04-12T18:24:13Z", "creator": "jessh@ptc.com", "creation_time": "2004-04-12T18:24:13Z", "is_private": false}, {"count": 1, "tags": [], "creator": "remm@apache.org", "text": "*** Bug 28351 has been marked as a duplicate of this bug. ***", "id": 55667, "time": "2004-04-12T20:49:42Z", "bug_id": 28350, "creation_time": "2004-04-12T20:49:42Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "william.barker@wilshire.com", "text": "You need to set either:\n  JkOptions ForwardURICompatUnparsed\nor\n  JkOptions ForwardURIEscaped\n\nto have mod_jk pass the encoded/escaped URI to Tomcat.  With the default value:\n  JkOptions ForwardURICompat\n\nmod_jk passes the decoded URI to Tomcat for backwards compatibility with \nearlier version of Tomcat.", "id": 55670, "time": "2004-04-12T21:14:52Z", "bug_id": 28350, "creation_time": "2004-04-12T21:14:52Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "jessh@ptc.com", "text": "Many thanks and sorry for the trouble.\n\nIs there a similar option for mod_jk2 that I'm also overlooking?", "id": 55671, "time": "2004-04-12T21:18:52Z", "bug_id": 28350, "creation_time": "2004-04-12T21:18:52Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 28350, "attachment_id": null, "text": "Okay, \"JkOptions +ForwardURIEscaped\" works great, but how do you accomplish the\nsame thing with mod_jk2?\n\nMy servlets get called with uri's with path-infos containing %'s when I use\nmod_jk and this option, but they don't get called with mod_jk2 and I can find no\nsuch setting noted in the mod_jk2 docs.\n\nIs this a gap in mod_jk2?", "id": 55678, "time": "2004-04-12T22:02:14Z", "creator": "jessh@ptc.com", "creation_time": "2004-04-12T22:02:14Z", "is_private": false}]