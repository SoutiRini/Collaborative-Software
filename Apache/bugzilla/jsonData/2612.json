[{"count": 0, "tags": [], "bug_id": 2612, "text": "In my web.xml(see bottom), it should authenticate users\nwhen they go to http://xxx/webapp/Admin/ or any below that.\nWorks ok, until someone type http://xxx/webapp//Admin/  (2 or\nmore shalshes in the url) ,it bypasses all authentication and\nlets everyone right in. Tested on Tomcat 3.2.1 and 3.2.2 on Linux Redhat 7.1\nwith the j2sdk1.3.0 from Sun. I suppose the big applies to all platforms ,but\ni havnt tested on other than linux.\nThe same applies to the security example bundled with tomcat so it shouldnt\nbe my we.xml thats wrong\nhere it is anyway:\n\n<security-constraint>\n      <web-resource-collection>\n         <web-resource-name>U-QoS Admin Area</web-resource-name>\n         <url-pattern>Info.jsp</url-pattern>\n         <url-pattern>/Admin/*</url-pattern>\n      </web-resource-collection>\n      <auth-constraint>\n         <role-name>uqos</role-name>\n      </auth-constraint>\n    </security-constraint>\n     <login-config>\n      <auth-method>BASIC</auth-method>\n      <realm-name>U-QoS Admin Area</realm-name>\n    </login-config>", "id": 3706, "time": "2001-07-13T03:22:57Z", "creator": "NOS@Utel.no", "creation_time": "2001-07-13T03:22:57Z", "is_private": false, "attachment_id": null}, {"count": 1, "text": "Fixed in Tomcat 3.3\nFixed in Tomcat 3.2 ( tentative )\n\n", "creator": "nacho@apache.org", "is_private": false, "id": 3742, "time": "2001-07-16T14:48:16Z", "bug_id": 2612, "creation_time": "2001-07-16T14:48:16Z", "tags": [], "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 2612, "attachment_id": null, "text": "Fixed in 4.0.  The normalization occurs as soon as the request URI is parsed, \nand before it is used for mapping or checking security constraints.  As a \nresult, the value returned by request.getRequestURI() will now always have been \nnormalized.\n\nThere are implications (but no direct discussion) in the various Internet RFCs \nthat it is appropriate for a server to do this.  A revision to the 2.3 spec is \nlikely in order to ensure portability, and Tomcat 4.0 will be adjusted if the \nspec'd behavior is different than this.\n", "id": 3744, "time": "2001-07-16T16:08:52Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-07-16T16:08:52Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 2612, "text": "Bug was fixed in all tomcats.", "count": 3, "id": 3859, "time": "2001-07-19T15:10:22Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-07-19T15:10:22Z", "is_private": false}]