[{"count": 0, "tags": [], "bug_id": 56012, "attachment_id": null, "id": 172388, "creation_time": "2014-01-15T07:30:17Z", "time": "2014-01-15T07:30:17Z", "creator": "bluewolf.chung@gmail.com", "text": "Here is the test example, extends.jsp,\n\n\n<%@ page import=\"dvt.jsp.jaspertest.*\" %>\n<%@ page extends=\"TestJspBase\" %>\n<%\n    out.println(\"TEST\");\n%>\n\n\nand its TestJspBase.java.\n\n\npackage dvt.jsp.jaspertest;\n\nimport jeus.servlet.jsp.HttpJspBase;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\npublic class TestJspBase extends HttpJspBase {\n    @Override\n    public void _jspService(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        /* do nothing here */\n    }\n}\n\n\nI know that the fully qualified class name must be used while using the extends attribute of the page directive. But the java generator of jasper has also a problem.\n\n/*\n * Generated by the Jasper component of Apache Tomcat\n * Version: Apache Tomcat/7.0.50\n * Generated at: 2014-01-15 04:56:28 UTC\n * Note: The last modified time of this file was set to\n *       the last modified time of the source file after\n *       generation to assist with modification tracking.\n */\npackage org.apache.jsp;\n\nimport javax.servlet.*;\nimport javax.servlet.http.*;\nimport javax.servlet.jsp.*;\nimport dvt.jsp.jaspertest.*;\nimport TestJspBase;\n\npublic final class extends_jsp extends TestJspBase\n    implements org.apache.jasper.runtime.JspSourceDependent {\n\n\n\nThe problem is 'import TestJspBase;'.\n\nThe java language spec. does not allow the class name of default package.\nhttp://docs.oracle.com/javase/specs/jls/se5.0/html/packages.html#70209\n\nIn my opinion, no import statement generation would be best for the simple class name.\n\norg.apache.jasper.compiler.PageInfo\n\n    public void setExtends(String value, Node.PageDirective n) {\n        xtends = value;\n    }\n\n\nFYI, there was a time that such import statement was possible to use until it was fixed at JDK 1.4.\nhttp://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4361575", "is_private": false}, {"count": 1, "tags": [], "creator": "bluewolf.chung@gmail.com", "is_private": false, "text": "It is a compile time error to import a type from the unnamed package.\n(from http://docs.oracle.com/javase/specs/jls/se5.0/html/packages.html#70209)", "id": 172389, "time": "2014-01-15T07:35:46Z", "bug_id": 56012, "creation_time": "2014-01-15T07:35:46Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 56012, "attachment_id": null, "id": 172483, "creation_time": "2014-01-18T21:30:44Z", "time": "2014-01-18T21:30:44Z", "creator": "markt@apache.org", "text": "Thanks for the report and especially for the references. Having that information to hand makes the fix a lot quicker as we don't have to go digging to find it ourselves\n\nThe fix has been applied to 8.0.x for 8.0.0 onwards and to 7.0.x for 7.0.51 onwards.", "is_private": false}]