[{"count": 0, "tags": [], "creator": "saurik@saurik.com", "attachment_id": null, "id": 1380, "time": "2001-03-19T13:06:16Z", "bug_id": 1028, "creation_time": "2001-03-19T13:06:16Z", "is_private": false, "text": "CVS from 2001/03/19 20:30 GMT.\n\nThe following change:\n\nrevision 1.12\ndate: 2001/03/08 03:44:36;  author: lehors;  state: Exp;  lines: +2 -2\ntreat empty namespaceURI as null when it is a namespace declaration\n\n:is slightly off.  I had sent a patch for this about 2 weeks before this \nmodification to the xerces-j-dev mailing list (not knowing about the bug \nsystem, had just resigned myself back up to the xerces-j-dev mailing list after \neveryone was knocked off of it before), and this came out of it.  Instead of \nusing .equals(\"\") lehors used .length() == 0, however he also changed the || to \nan && which really should cause it to throw an exception every time it hits \nthis point (albeit I admit I haven't tested it).  Here is a patch:\n\nIndex: java/src/org/apache/xerces/dom/DeferredAttrNSImpl.java\n===================================================================\nRCS file: /home/cvspublic/xml-\nxerces/java/src/org/apache/xerces/dom/DeferredAttrNSImpl.java,v\nretrieving revision 1.12\ndiff -u -r1.12 DeferredAttrNSImpl.java\n--- java/src/org/apache/xerces/dom/DeferredAttrNSImpl.java      2001/03/08 \n03:44:36     1.12\n+++ java/src/org/apache/xerces/dom/DeferredAttrNSImpl.java      2001/03/19 \n20:56:26\n@@ -157,7 +157,7 @@\n        // to be bound to \"http://www.w3.org/2000/xmlns/\"\n        // So as long as the XML parser doesn't do it, it needs to\n        // done here.\n-       if (namespaceURI == null && namespaceURI.length() == 0) {\n+       if (namespaceURI == null || namespaceURI.length() == 0) {\n            if (prefix != null)  {\n                if (prefix.equals(\"xmlns\")) {\n                    namespaceURI = \"http://www.w3.org/2000/xmlns/\";"}, {"count": 1, "attachment_id": null, "bug_id": 1028, "text": "Oops, my mistake.\n", "id": 1384, "time": "2001-03-19T14:17:06Z", "creator": "lehors@apache.org", "creation_time": "2001-03-19T14:17:06Z", "tags": [], "is_private": false}]