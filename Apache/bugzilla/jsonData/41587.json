[{"count": 0, "text": "As reported on the Ant user list [1], there seems to be a problem with the\n<available> task in Ant-1.7.0 when running under JDK1.3.1_19 (probably any 1.3.1\nsub-version) on WinXP.  Using the following build file, Junit is not found on\nthe classpath when I have junit.jar (either 3.8.1 or 3.8.2) in\n${user.home}/.ant/lib.  However, it is found if I move junit.jar to ${ant.home}/lib.\n\n3 notes of interest:\n\n1.  Under JDK1.6 on my machine, junit.jar is found just fine in\n${user.home}/.ant/lib.\n\n2.  Ant-1.6.5 has no problem under any JDK.  It works 100% of the time no matter\nthe JDK and finds junit.jar in either location.\n\n3.  It was suggested on the list that maybe there's a bug in JDK1.3.1 where it\ngets URL's wrong when the working directory is on a different drive than\njunit.jar.  I tested this theory out by putting my build file on the C:\\ drive,\nwhich is where ${user.home}/.ant/lib is.  It made no difference.  Ant-1.7.0\nstill can't find it under JDK1.3.1_19.\n\nSince Ant-1.6.5 works no matter what, it seems to me that the bug here is\nprobably in Ant-1.7.0, though it only shows itself under older JDKs.  I haven't\ntested JDK1.4.x because I don't have it installed\n\nHere's the build file for testing...\n\n<project name=\"findjunit\" default=\"build.something\">\n\n  <target name=\"-check.junit.exists\">\n    <available classname=\"junit.framework.TestCase\" property=\"junit.exists\"\nvalue=\"true\"/>\n  </target>\n\n  <target name=\"-check.junit\" depends=\"-check.junit.exists\" unless=\"junit.exists\">\n    <echo>JUnit is not currently available to the build environment. \nBecause of this, all targets that require JUnit will be skipped. To \nenable these targets, place a copy of JUnit (get latest version at \nhttp://www.junit.org/) in ANT_HOME/lib.</echo>\n  </target>\n\n  <target name=\"build.something\" depends=\"-check.junit\" if=\"junit.exists\"/>\n\n</project>\n\n\n[1] http://marc.theaimsgroup.com/?t=117083869300004&r=1&w=2\n\n\nJake", "creator": "hoju@visi.com", "is_private": false, "id": 99224, "time": "2007-02-10T09:35:57Z", "bug_id": 41587, "creation_time": "2007-02-10T09:35:57Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "creator": "hoju@visi.com", "attachment_id": 19567, "id": 99225, "creation_time": "2007-02-10T09:38:07Z", "time": "2007-02-10T09:38:07Z", "bug_id": 41587, "text": "Created attachment 19567\ntest build file", "is_private": false}, {"count": 2, "tags": [], "bug_id": 41587, "text": "Ant's trunk has dropped support for Java 1.3, so I'm marking this as WONTFIX", "id": 126836, "time": "2009-05-07T01:43:25Z", "creator": "bodewig@apache.org", "creation_time": "2009-05-07T01:43:25Z", "is_private": false, "attachment_id": null}]