[{"count": 0, "tags": [], "creator": "reiche.michael@gmail.com", "attachment_id": null, "id": 126574, "time": "2009-04-28T02:18:55Z", "bug_id": 47110, "creation_time": "2009-04-28T02:18:55Z", "is_private": false, "text": ""}, {"count": 1, "tags": [], "creator": "reiche.michael@gmail.com", "attachment_id": 23557, "text": "Created attachment 23557\nPCL Image showing text being cut", "id": 126575, "time": "2009-04-28T03:07:16Z", "bug_id": 47110, "creation_time": "2009-04-28T03:07:16Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 47110, "attachment_id": null, "id": 126576, "time": "2009-04-28T03:07:26Z", "creator": "reiche.michael@gmail.com", "creation_time": "2009-04-28T03:07:26Z", "is_private": false, "text": "When using the bitmap renderering for fonts in the PCLRenderer, some (special) characters get their top cut. Se the attached PNG image where the 2 instances of the &aring; character get the \"ring\" cut.\n\nThe text was produced by the following snippet of xsl-fo:\n\n<fo:block line-height=\"12.0pt\" white-space-collapse=\"false\" linefeed-treatment=\"preserve\" text-align=\"start\" color=\"#000000\" font-family=\"Verdana\" font-size=\"10.0pt\">\nVi h\u00e5ber, at vi p\u00e5 et senere...\n</fo:block>\n\nThe trouble is present with the 0.95 and possible the trunk version of FOP (as PCLRender.java isn't modified in the section handling this). One quick work-around is to modify the PCLRenderer.java in the method \"protected void renderText(final TextArea text)\" and add some more space for characters that expand above the ascent line.\n\nChange:\n\nfinal int additionalBPD = maxAscent - baseline;\n\nTo:\n\nfinal int additionalBPD = maxAscent - baseline + font.getCapHeight()/2;\n\n\nThis is not guaranteed to work for any font, but as I don't have any information on how to collect the right value, nor any statistical knowledge on fonts reaching higher than the ascent line, I just found this to be a suitable value. The fix could generate some trouble on text renderered near the top of page or the bottom of the page. This is not important to my use, but as the &aring; are used a lot in the scandinavian languages, it is a showstopper when it's not rendered correctly."}, {"count": 3, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "text": "resetting P2 open bugs to P3 pending further review", "id": 157461, "time": "2012-04-07T01:43:14Z", "bug_id": 47110, "creation_time": "2012-04-07T01:43:14Z", "is_private": false}]