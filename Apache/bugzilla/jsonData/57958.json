[{"count": 0, "tags": [], "bug_id": 57958, "attachment_id": 32760, "is_private": false, "id": 183138, "time": "2015-05-27T19:08:25Z", "creator": "imikla@gmail.com", "creation_time": "2015-05-27T19:08:25Z", "text": "Created attachment 32760\nJMeter script demonstrating the problem described in this report.\n\nIn a test plan, there is a need to fire the logout step if login was successful no matter which intermediate step fails.\n\nIn the test plan, the value of JMeterThread.last_sample_ok was used in an if-controller with 'Evaluate for all children' turned on so that any failing step inside the if-controller will skip the remaining steps.\n\nThis technique works, however, when assertions fail inside this if-controller, they are not reported in the 'View Results Tree' as errors if 'Generate Parent Sample' is enabled.\n\nIf these steps are not inside the above mentioned if-controller, they report correctly even if 'Generate Parent Sample' is enabled.\n\nAttached is an example JMeter script that demonstrates this problem stripped down and with URLs replaced with wikipedia.org.\n\nRunning the script as posted, the 'View Results Tree' will only report logout. The failure inside the previous if-controller that caused an error (due to an assertion failure) is not reported.\n\nIf the if-controller 'Run Things' is moved outside the test for JMeterThread.last_sample_ok, the error is reported correctly."}, {"count": 1, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "text": "Issue is due to TransactionController in Parent Sample mode generation.", "id": 184689, "time": "2015-08-21T21:48:22Z", "bug_id": 57958, "creation_time": "2015-08-21T21:48:22Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 57958, "is_private": false, "count": 2, "id": 184691, "time": "2015-08-21T22:06:08Z", "creator": "imikla@gmail.com", "creation_time": "2015-08-21T22:06:08Z", "text": "Errors should (and do in every other case) report to the View Results Tree regardless of the status of the Generate Parent Sample check-box."}, {"count": 3, "attachment_id": null, "bug_id": 57958, "is_private": false, "id": 184710, "time": "2015-08-23T12:41:46Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2015-08-23T12:41:46Z", "tags": [], "text": "Hi,\nI am not saying anything different, just pointing to root cause of your issue which is clearly due to a bug in TransactionController behaviour."}, {"count": 4, "attachment_id": 34989, "bug_id": 57958, "is_private": false, "id": 198753, "time": "2017-05-10T08:01:11Z", "creator": "artem.fedorov@blazemeter.com", "creation_time": "2017-05-10T08:01:11Z", "tags": [], "text": "Created attachment 34989\nTest plan that reproduces this bug"}, {"count": 5, "tags": [], "text": "Date: Thu May 11 18:02:25 2017\nNew Revision: 1794861\n\nURL: http://svn.apache.org/viewvc?rev=1794861&view=rev\nLog:\nBug 57958 - Fix transaction sample not generated if thread stops/restarts\n\nAdded:\n    jmeter/trunk/test/src/org/apache/jmeter/control/TestTransactionController.java\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/threads/JMeterThread.java\n    jmeter/trunk/xdocs/changes.xml\n\nModified: jmeter/trunk/src/core/org/apache/jmeter/threads/JMeterThread.java\nURL: http://svn.apache.org/viewvc/jmeter/trunk/src/core/org/apache/jmeter/threads/JMeterThread.java?rev=1794861&r1=1794860&r2=1794861&view=diff", "is_private": false, "bug_id": 57958, "id": 198764, "time": "2017-05-11T18:34:15Z", "creator": "apc4@ya.ru", "creation_time": "2017-05-11T18:34:15Z", "attachment_id": null}, {"count": 6, "tags": [], "text": "Hello,\nWithin Bug 61380, I changed a bit the fix here.\n\nCan you please test again nightly build to ensure there is no regression ?\nThanks", "is_private": false, "bug_id": 57958, "id": 200225, "time": "2017-08-07T20:53:13Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-08-07T20:53:13Z", "attachment_id": null}]