[{"count": 0, "tags": [], "creator": "mashmk02@gmail.com", "is_private": false, "text": "Created attachment 26281\npatch for NamingContext.java\n\nIf context.xml contains <ResourceLink>, ClassCastException occurs as follows.\n\njava.lang.ClassCastException: org.apache.naming.ResourceLinkRef cannot be cast to org.apache.naming.ResourceRef\n        at org.apache.naming.NamingContext.lookup(NamingContext.java:828)\n        at org.apache.naming.NamingContext.lookup(NamingContext.java:145)\n        at org.apache.naming.NamingContext.lookup(NamingContext.java:814)\n        at org.apache.naming.NamingContext.lookup(NamingContext.java:159)\n        at org.apache.catalina.core.DefaultInstanceManager.lookupFieldResource(DefaultInstanceManager.java:460)\n        at org.apache.catalina.core.DefaultInstanceManager.processAnnotations(DefaultInstanceManager.java:299)\n        at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:137)\n        at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:119)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1046)\n        at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:797)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:135)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:108)\n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:558)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:379)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:242)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:259)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:237)\n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:281)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:619)\n\nThis issue is relating to the following issue.\nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=50159\n\nI attached the patch for this issue.\nRegards.", "id": 141618, "time": "2010-11-11T01:08:11Z", "bug_id": 50252, "creation_time": "2010-11-11T01:08:11Z", "attachment_id": 26281}, {"count": 1, "tags": [], "creator": "markt@apache.org", "is_private": false, "text": "Many thanks for the patch. This has been fixed in 7.0.x and will be included in 7.0.5 onwards.", "id": 141624, "time": "2010-11-11T08:02:14Z", "bug_id": 50252, "creation_time": "2010-11-11T08:02:14Z", "attachment_id": null}]