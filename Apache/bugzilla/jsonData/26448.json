[{"count": 0, "tags": [], "bug_id": 26448, "attachment_id": null, "text": "I just moved from ant1.5.4 to ant1.6.\nWhen I try to execute a junit tasks, which uses a xml formatter, I get a \nNoSuchMethodError.\n\nIf I comment out the xmlformatter then there are no problems.\nIf I use the old ant, then there are no problems.\n\n\njava.lang.NoSuchMethodError\n        at org.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter.\nstartTest(XMLJUnitResultFormatter.java:186)\n        at junit.framework.TestResult.startTest(TestResult.java:151)\n        at junit.framework.TestResult.run(TestResult.java:103)\n        at junit.framework.TestCase.run(TestCase.java:118)\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\n        at junit.framework.TestSuite.run(TestSuite.java:203)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUni\ntTestRunner.java:231)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUn\nitTestRunner.java:409)\nException in thread \"main\"\n\n\n-------\nHere's the test run with -v turned on:\n\nImplicitly adding C:\\p4client\\dev\\tools\\ant\\lib\\junit.jar;C:\\p4client\\dev\\tools\\\nant\\lib\\ant-launcher.jar;C:\\p4client\\dev\\tools\\ant\\lib\\ant.jar;C:\\p4client\\dev\\t\nools\\ant\\lib\\ant-junit.jar to CLASSPATH\ndropping C:\\sybase\\jConnect5-5\\classes from path as it doesn't exist\ndropping C:\\sybase\\ASEP_Win32\\3pclass.zip from path as it doesn't exist\ndropping C:\\sybase\\ASEP_Win32\\monclass.zip from path as it doesn't exist\ndropping C:\\sybase\\jConnect5-5\\classes from path as it doesn't exist\ndropping C:\\sybase\\ASEP_Win32\\3pclass.zip from path as it doesn't exist\ndropping C:\\sybase\\ASEP_Win32\\monclass.zip from path as it doesn't exist\ndropping C:\\sybase\\jConnect5-5\\classes from path as it doesn't exist\ndropping C:\\sybase\\ASEP_Win32\\3pclass.zip from path as it doesn't exist\ndropping C:\\sybase\\ASEP_Win32\\monclass.zip from path as it doesn't exist\ndropping C:\\sybase\\jConnect5-5\\classes from path as it doesn't exist\ndropping C:\\sybase\\ASEP_Win32\\3pclass.zip from path as it doesn't exist\ndropping C:\\sybase\\ASEP_Win32\\monclass.zip from path as it doesn't exist\nExecuting 'C:\\p4client\\dev\\tools\\jdk\\default\\jre\\bin\\java.exe' with arguments:\n'-classpath'\n'C:\\p4client\\dev\\celequestEAR\\celequestJAR.jar;C:\\p4client\\dev\\celequestEAR\\cele\nquesttest.jar;C:\\p4client\\dev\\oem\\log4j\\dist\\lib\\log4j-1.2.7.jar;C:\\p4client\\dev\n\\oem\\javamail\\mail.jar;C:\\p4client\\dev\\tools\\jaxb-1.0\\lib\\jax-qname.jar;C:\\p4cli\nent\\dev\\tools\\jaxb-1.0\\lib\\jaxb-api.jar;C:\\p4client\\dev\\tools\\jaxb-1.0\\lib\\jaxb-\nlibs.jar;C:\\p4client\\dev\\tools\\jaxb-1.0\\lib\\jaxb-ri.jar;C:\\p4client\\dev\\tools\\ja\nxb-1.0\\lib\\jaxb-xjc.jar;C:\\p4client\\dev\\tools\\junit\\junit.jar;C:\\p4client\\dev\\to\nols\\cactus\\jakarta-cactus-13-1.4b1\\lib\\cactus-1.4b1.jar;C:\\p4client\\dev\\tools\\ca\nctus\\jakarta-cactus-13-1.4b1\\lib\\commons-logging-1.0.jar;C:\\p4client\\dev\\tools\\c\nactus\\jakarta-cactus-13-1.4b1\\lib\\commons-httpclient-2.0alpha1-20020720.jar;C:\\p\n4client\\dev\\tools\\cactus\\jakarta-cactus-13-1.4b1\\lib\\aspectjrt-1.0.5.jar;C:\\p4cl\nient\\dev\\tools\\w2k\\jdk\\j2sdkee1.3.1\\lib\\j2ee.jar;C:\\p4client\\dev\\tools\\bea\\weblo\ngic700\\server\\lib\\weblogic.jar;C:\\p4client\\dev\\tools\\oracle\\jdbc\\lib\\classes12.z\nip;C:\\p4client\\dev\\tools\\sqlserver\\jdbc\\lib\\msbase.jar;C:\\p4client\\dev\\tools\\sql\nserver\\jdbc\\lib\\msutil.jar;C:\\p4client\\dev\\tools\\sqlserver\\jdbc\\lib\\mssqlserver.\njar;C:\\p4client\\dev\\tools\\bea\\weblogic700\\server\\lib\\jconn2.jar;C:\\p4client\\dev\\\ntools\\tibco\\lib\\tibrvj.jar;C:\\p4client\\dev\\oem\\jexcel\\jxl.jar;C:\\p4client\\dev\\oe\nm\\jsr166\\jsr166.jar;C:\\p4client\\dev\\cqjdbcclient\\cqjdbcclient.jar;C:\\sybase\\jCon\nnect-5_5\\classes\\jconn2.jar;C:\\Program Files\\IBM\\WebSphere MQ\\Java\\lib\\provideru\ntil.jar;C:\\Program Files\\IBM\\WebSphere MQ\\Java\\lib\\com.ibm.mqjms.jar;C:\\Program\nFiles\\IBM\\WebSphere MQ\\Java\\lib\\ldap.jar;C:\\Program Files\\IBM\\WebSphere MQ\\Java\\\nlib\\jta.jar;C:\\Program Files\\IBM\\WebSphere MQ\\Java\\lib\\jndi.jar;C:\\Program Files\n\\IBM\\WebSphere MQ\\Java\\lib\\jms.jar;C:\\Program Files\\IBM\\WebSphere MQ\\Java\\lib\\co\nnnector.jar;C:\\Program Files\\IBM\\WebSphere MQ\\Java\\lib\\fscontext.jar;C:\\Program\nFiles\\IBM\\WebSphere MQ\\Java\\lib\\com.ibm.mq.jar;C:\\p4client\\dev;C:\\Progra~1\\MQe\\J\nava;C:\\PROGRA~1\\Segue\\SilkTest\\JavaEx\\SilkTest_Java2.jar;C:\\p4client\\dev\\tools\\a\nnt\\lib\\junit.jar;C:\\p4client\\dev\\tools\\ant\\lib\\ant-launcher.jar;C:\\p4client\\dev\\\ntools\\ant\\lib\\ant.jar;C:\\p4client\\dev\\tools\\ant\\lib\\ant-junit.jar'\n'org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner'\n'com.celequest.test.exception.VCExceptionUnitTest'\n'filtertrace=true'\n'haltOnError=false'\n'haltOnFailure=false'\n'showoutput=false'\n'formatter=org.apache.tools.ant.taskdefs.optional.junit.BriefJUnitResultFormatte\nr'\n'formatter=org.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter,\nC:\\p4client\\dev\\testoutput\\exception\\TEST-com.celequest.test.exception.VCExcepti\nonUnitTest.xml'\n'propsfile=C:\\p4client\\dev\\junit250116580.properties'\n\nThe ' characters around the executable and arguments are\nnot part of the command.\njava.lang.NoSuchMethodError\n        at org.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter.\nstartTest(XMLJUnitResultFormatter.java:186)\n        at junit.framework.TestResult.startTest(TestResult.java:151)\n        at junit.framework.TestResult.run(TestResult.java:103)\n        at junit.framework.TestCase.run(TestCase.java:118)\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\n        at junit.framework.TestSuite.run(TestSuite.java:203)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUni\ntTestRunner.java:231)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUn\nitTestRunner.java:409)\nException in thread \"main\"\n\nTEST com.celequest.test.exception.VCExceptionUnitTest FAILED\n\n----", "id": 51215, "time": "2004-01-27T00:20:57Z", "creator": "rlager@celequest.com", "creation_time": "2004-01-27T00:20:57Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 26448, "text": "My mistake.\n\nI need to include ant-junit.jar in my junit classpath, then it works.\nI had ant-junit.jar in my ant classpath, but not for junit.  I used to have \noptional.jar in my junit classpath for ant 1.5, and so using ant-junit.jar is \nthe modern equivalent to that.", "count": 1, "id": 51218, "time": "2004-01-27T01:01:48Z", "creator": "rlager@celequest.com", "creation_time": "2004-01-27T01:01:48Z", "is_private": false}]