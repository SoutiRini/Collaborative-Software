[{"count": 0, "tags": [], "bug_id": 42605, "attachment_id": null, "text": "Hello,\nI am administering an apache installation with about 200 virtual hosts on an\nAIX-5.2 platform. \nRecently I upgraded from apache-2.0.59 to apache-2.2.4. For each hosted website\nI have two virtual hosts: one standard host on port 80 and one ssl-host on a\nspecial port (each ssl-host on a separate port). \nSince I've upgraded I notice a strange behavior when requesting a directory in\nthe format https://domain.de:PORT/DIR . This request is rewritten to\nhttps://domain.de/DIR/ . \nAs it seems the PORT is omitted while the trailing slash is appended. The\ntrailing slash is wanted, but where is the specified port gone? \nI do some rewriting on the server but none of the rules is touching the given\nport. The whole configuration ran smoothly on the apache-2.0.59.\nAnd as I did NOT change the configuration for our webserver (except form the\nLoadModule-directives for the new auth-modules) there must be something wrong\nwith requesting directories without trailing slash.\n\nI did not use the DirectorySlash-directive. And I adapted the configuration for\nloading the new modules (mainly auth-modules). The changelog and upgrade\ninformation also gives no clue that there is a change in the request handling\nfor directories....\n\nSo I think this really is a bug and an unwanted behavior. \n\n\nYour help is much appreciated, regards\n\n\n         Christian", "id": 104132, "time": "2007-06-06T06:12:08Z", "creator": "christian.schneider@hrz.uni-dortmund.de", "creation_time": "2007-06-06T06:12:08Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 42605, "text": "Reading the information for mod_dir the problem seems more to be a problem of\nthe mod_dir -module: \n<quote>Typically if a user requests a resource without a trailing slash, which\npoints to a directory, mod_dir redirects him to the same resource, but with\ntrailing slash for some good reasons</quote>\nThe resource is changed.....\n", "id": 104134, "time": "2007-06-06T06:32:52Z", "creator": "christian.schneider@hrz.uni-dortmund.de", "creation_time": "2007-06-06T06:32:52Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "slive@apache.org", "text": "Check (and report) your settings for UseCanonicalName and ServerName. The latter\nshould specify an explicit port in cases like yours.", "id": 104137, "time": "2007-06-06T07:01:34Z", "bug_id": 42605, "creation_time": "2007-06-06T07:01:34Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 42605, "attachment_id": null, "id": 104139, "time": "2007-06-06T07:31:43Z", "creator": "christian.schneider@hrz.uni-dortmund.de", "creation_time": "2007-06-06T07:31:43Z", "is_private": false, "text": "Hello,\nUseCanonicalName is set ON and as you guessed right my Servername-Directive does\nonly give the name of the server not the port. \nI changed this now and the URL I gave above works... \nSo I missed the Servername-hint in the upgrade document for apache-2.0.X,\nbut up to apache-2.0.59 this was not a problem - bad luck for me.\nSo I will have to do my homework again.\nRereading all the upgrade information up to version 2.2.4.\nAnd as a punishment I will write a hundred times: \nServername <Name>:<Port>    \n;-)\n\nRegards \n\n\n    Christian\n\n\n\n"}, {"count": 4, "attachment_id": null, "bug_id": 42605, "text": "Note also that the default value of UseCanonicalName (off) will fix this too.", "id": 104142, "time": "2007-06-06T10:26:08Z", "creator": "slive@apache.org", "creation_time": "2007-06-06T10:26:08Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 42605, "attachment_id": null, "text": "As we use perl-based server-administration-scripts, \nwe rely on the values given in the SERVER_NAME and\nwe do not want the user to play tricks on the \ncontent of this variable by sending cheated hostnames.\nSo we want UseCanonicalName set On.\nAnyway thank you for the hint and background information.\n\nAnd even more thank you for your helpful and speedy response.\n\n(Apache is superb software, we use it for our central university website\n and a hundred more websites of departments and projects. \n As well, thank you for this great piece of software...)\n\n\n    Christian", "id": 104184, "time": "2007-06-08T01:15:00Z", "creator": "christian.schneider@hrz.uni-dortmund.de", "creation_time": "2007-06-08T01:15:00Z", "is_private": false}]