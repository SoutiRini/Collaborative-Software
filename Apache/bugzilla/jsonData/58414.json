[{"count": 0, "tags": [], "creator": "emironen0@gmail.com", "text": "Created attachment 33111\nExample of ServerEndpoint implementation.\n\nEvery time, when I try to transfer empty string through web socket I get an IllegalArgumentException from java.nio.Buffer#limit(int newLimit) because of negative new limit value. The reason of this issue is org.apache.tomcat.websocket.PerMessageDeflate#sendMessagePart(List<MessagePart> uncompressedParts)\nline:\n\n    // End of compressed message. Drop EOM bytes and output.\n    compressedPayload.limit(compressedPayload.limit() - EOM_BYTES.length);\n\ncompressedPayload.limit() has zero value and EOM_BYES.length has value, which greater than 0.", "id": 185275, "time": "2015-09-15T21:49:38Z", "bug_id": 58414, "creation_time": "2015-09-15T21:49:38Z", "is_private": false, "attachment_id": 33111}, {"count": 1, "tags": [], "bug_id": 58414, "text": "I've been able to reproduce this with some edits to the chat example that ships with Tomcat. Working on a fix now.", "id": 185344, "time": "2015-09-18T16:33:00Z", "creator": "markt@apache.org", "creation_time": "2015-09-18T16:33:00Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 58414, "attachment_id": null, "id": 185348, "time": "2015-09-19T07:42:35Z", "creator": "markt@apache.org", "creation_time": "2015-09-19T07:42:35Z", "is_private": false, "text": "Fixed in trunk, 8.0.x (for 8.0.27 onwards) and 7.0.x for 7.0.65 onwards."}]