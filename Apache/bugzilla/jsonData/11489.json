[{"count": 0, "tags": [], "bug_id": 11489, "text": "Scanning JAR files in WEB-INF/lib for TLDs does not work if there is no \"temp\" \ndirectory in CATALINA_BASE. Especially using a CATALINA_BASE different from \nCATALINA_HOME is tricky: You have to create \"temp\" there first. IMHO Tomcat \nshould create \"temp\" automatically if it does not already exist! This issue \nexists in both Tomcat 4.1.8 and 4.0.4.\n\nIn Tomcat 4.1.8 with JSTL, the context does not load because of the following \nexception:\n\n2002-08-06 07:33:10 ContextConfig[] Exception processing JAR at resource \npath /WEB-INF/lib/jstl.jar\njavax.servlet.ServletException: Exception processing JAR at resource path /WEB-\nINF/lib/jstl.jar\n\tat org.apache.catalina.startup.ContextConfig.tldScanJar\n(ContextConfig.java:930)\n\tat org.apache.catalina.startup.ContextConfig.tldScan\n(ContextConfig.java:868)\n\tat org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:647)\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:243)\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n\tat org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3445)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:738)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:347)\n\tat org.apache.catalina.core.StandardService.start\n(StandardService.java:497)\n\tat org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2188)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:510)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n----- Root Cause -----\njava.io.IOException: Das System kann den angegebenen Pfad nicht finden\n\tat java.io.WinNTFileSystem.createFileExclusively(Native Method)\n\tat java.io.File.checkAndCreate(File.java:1294)\n\tat java.io.File.createTempFile(File.java:1382)\n\tat java.io.File.createTempFile(File.java:1419)\n\tat sun.net.www.protocol.jar.URLJarFile$1.run(URLJarFile.java:169)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat sun.net.www.protocol.jar.URLJarFile.retrieve(URLJarFile.java:164)\n\tat sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:42)\n\tat sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:78)\n\tat sun.net.www.protocol.jar.JarURLConnection.connect\n(JarURLConnection.java:85)\n\tat sun.net.www.protocol.jar.JarURLConnection.getJarFile\n(JarURLConnection.java:69)\n\tat org.apache.catalina.startup.ContextConfig.tldScanJar\n(ContextConfig.java:906)\n\tat org.apache.catalina.startup.ContextConfig.tldScan\n(ContextConfig.java:868)\n\tat org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:647)\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:243)\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n\tat org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3445)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:738)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:347)\n\tat org.apache.catalina.core.StandardService.start\n(StandardService.java:497)\n\tat org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2188)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:510)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n\nNote: The German \"Das System kann den angegebenen Pfad nicht finden\" means \"The \nsystem cannot find the specified path\".\n\nIn Tomcat 4.0.4 with JSTL, the context processes but nevertheless does not load \nthe TLDs. Instead, it throws the following exception at page access time:\n\norg.apache.jasper.JasperException: This absolute uri \n(http://java.sun.com/jstl/core) cannot be resolved in either web.xml or the jar \nfiles deployed with this application\n\tat org.apache.jasper.compiler.TagLibraryInfoImpl.<init>\n(TagLibraryInfoImpl.java:194)\n\tat org.apache.jasper.compiler.TagLibraryInfoImpl.<init>\n(TagLibraryInfoImpl.java:174)\n\tat \norg.apache.jasper.compiler.JspParseEventListener.processTaglibDirective\n(JspParseEventListener.java:1170)\n\tat org.apache.jasper.compiler.JspParseEventListener.handleDirective\n(JspParseEventListener.java:765)\n\tat org.apache.jasper.compiler.DelegatingListener.handleDirective\n(DelegatingListener.java:125)\n\tat org.apache.jasper.compiler.Parser$Directive.accept(Parser.java:255)\n\tat org.apache.jasper.compiler.Parser.parse(Parser.java:1145)\n\tat org.apache.jasper.compiler.Parser.parse(Parser.java:1103)\n\tat org.apache.jasper.compiler.Parser.parse(Parser.java:1099)\n\tat org.apache.jasper.compiler.ParserController.parse\n(ParserController.java:214)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:210)\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:548)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:176)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:188)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:381)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:473)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:190)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2347)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:468)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:1027)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1125)\n\tat java.lang.Thread.run(Thread.java:536)", "id": 20678, "time": "2002-08-06T06:06:00Z", "creator": "juergen.hoeller@infoniqa.com", "creation_time": "2002-08-06T06:06:00Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "remm@apache.org", "is_private": false, "id": 20842, "time": "2002-08-09T10:13:24Z", "bug_id": 11489, "creation_time": "2002-08-09T10:13:24Z", "tags": [], "text": "The default installation works fine."}, {"count": 2, "tags": [], "creator": "remm@apache.org", "is_private": false, "text": "*** Bug 12474 has been marked as a duplicate of this bug. ***", "id": 22583, "time": "2002-09-10T09:51:52Z", "bug_id": 11489, "creation_time": "2002-09-10T09:51:52Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "remm@apache.org", "is_private": false, "id": 65179, "attachment_id": null, "bug_id": 11489, "creation_time": "2004-10-15T12:52:45Z", "time": "2004-10-15T12:52:45Z", "text": "\n\n*** This bug has been marked as a duplicate of 9591 ***"}]