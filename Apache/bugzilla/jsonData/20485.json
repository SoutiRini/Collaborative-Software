[{"count": 0, "text": "My buildfile used to <copy> the scripts files to the\ndist directory. After changing the file names\nin my scripts dir, the old file were not\ndeleted when I build. I want to use the <sync> task but \nit doesn't support <filterset> which I use in the <copy>.\nI can't use the <filter> task as well since <sync> doesn't\nsupport the filtering attribute.\n\nHere is my dist target:\n\n    <target name=\"dist\" depends=\"pack\"\n            description=\"--> Make a lite-dist of the project\">\n\n        <!-- Distribute the lib directory -->\n        <mkdir dir=\"${dist.lib.dir}\"/>\n        <sync todir=\"${dist.lib.dir}\">\n            <fileset dir=\"${build.lib.dir}\"/>\n        </sync>\n\n        <!-- Distribute the bin directory -->\n        <mkdir dir=\"${dist.bin.dir}\"/>\n        <pathconvert targetos=\"windows\" \n                     property=\"server.rt.classpath.text\" \n                     refid=\"server.rt.classpath\">\n            <map from=\"${basedir}\\${dist.lib.dir}\" to=\"..\\lib\"/>\n        </pathconvert>\n        <sync todir=\"${dist.bin.dir}\">\n            <fileset dir=\"${scripts.dir}\"/>\n            <filterset>\n                <filter token=\"SERVERCP\" value=\"${server.rt.classpath.text}\"/>\n                <filter token=\"SERVERMAIN\" value=\"${server.main.class}\"/>\n            </filterset>\n        </sync>\n\n    </target>\n\n- Gu", "bug_id": 20485, "is_private": false, "id": 38384, "time": "2003-06-04T21:08:45Z", "creator": "devgu@yahoo.com", "creation_time": "2003-06-04T21:08:45Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 20485, "text": "Sorry, but this was by design...\n\nI thought at the time that supporting <filterset> would force keeping track of \nthe info used to do replacements, otherwise that info could change, and <sync> \nwouldn't know about it, so stale files would exist in the target directory (not \ngood!).\n\nOTOH, <copy> is probably already affected with this behavior...\n\nSo I guess it comes down to: I needed <sync>, but not with replacement. It \nwasn't my itch ;-)\n\nIf it's yours, I invite you to contribute a patch ;-) --DD", "id": 38391, "time": "2003-06-04T21:55:16Z", "creator": "ddevienne@lgc.com", "creation_time": "2003-06-04T21:55:16Z", "is_private": false, "attachment_id": null}]