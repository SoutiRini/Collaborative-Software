[{"count": 0, "tags": [], "creator": "sue.pharoah@aquilauk.co.uk", "text": "I cannot get the sql task to work in 1.7.0 - Beta1 or Beta2. Running exactly \nthe same script on ANT 1.6.5 works fine. - see below.\nI have tried using the IP address for the port and adding the jdbc.zip to the \nant lib. But same failure. \n\nScript:\n\n <target name=\"test\">\n  <sql driver=\"oracle.jdbc.driver.OracleDriver\"\n       url=\"jdbc:oracle:thin:@host:1523:DB10\"\n      userid=\"MYUSR\"\n      password=\"MYPASS\">\n      <classpath>\n      \t<pathelement location=\"C:\\lib\\ojdbc14.zip\"/>\n      </classpath>\n      select * from dual;\n  </sql>\n\nError:\nC:\\Administrator\\install>ant -f sue.xml test -v\nApache Ant version 1.7.0Beta2 compiled on September 17 2006\nBuildfile: sue.xml\nDetected Java version: 1.5 in: C:\\Program Files\\Java\\jdk1.5.0_08\\jre\nDetected OS: Windows XP\nparsing buildfile C:\\Administrator\\install\\sue.xml with URI = \nfile:/C:/Administrator/install/sue.xml\nProject base dir set to: C:\\Administrator\\install\n[antlib:org.apache.tools.ant] Could not load definitions from resource \norg/apache/tools/ant/antlib.xml. It could no\nBuild sequence for target(s) `test' is [test]\nComplete build sequence is [test, ]\n\ntest:\n      [sql] connecting to jdbc:oracle:thin:@10.35.6.66:1523:REG10\n      [sql] Loading oracle.jdbc.driver.OracleDriver using AntClassLoader with \nclasspath C:\\Administrator\\java\\lib\\o\n\nBUILD FAILED\nC:\\Administrator\\install\\sue.xml:17: java.sql.SQLException: Io exception: The \nNetwork Adapter could not establish t\n        at org.apache.tools.ant.taskdefs.JDBCTask.getConnection\n(JDBCTask.java:329)\n        at org.apache.tools.ant.taskdefs.SQLExec.execute(SQLExec.java:414)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:276)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute\n(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:342)\n        at org.apache.tools.ant.Target.execute(Target.java:357)\n        at org.apache.tools.ant.Target.performTasks(Target.java:385)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1282)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1251)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets\n(DefaultExecutor.java:41)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1134)\n        at org.apache.tools.ant.Main.runBuild(Main.java:698)\n        at org.apache.tools.ant.Main.startAnt(Main.java:199)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:300)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:106)\nCaused by: java.sql.SQLException: Io exception: The Network Adapter could not \nestablish the connection\n        at oracle.jdbc.driver.DatabaseError.throwSqlException\n(DatabaseError.java:125)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException\n(DatabaseError.java:162)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException\n(DatabaseError.java:274)\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:319)\n        at oracle.jdbc.driver.PhysicalConnection.<init>\n(PhysicalConnection.java:344)\n        at oracle.jdbc.driver.T4CConnection.<init>(T4CConnection.java:148)\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection\n(T4CDriverExtension.java:32)\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:545)\n        at org.apache.tools.ant.taskdefs.JDBCTask.getConnection\n(JDBCTask.java:319)\n        ... 18 more\n--- Nested Exception ---\njava.sql.SQLException: Io exception: The Network Adapter could not establish \nthe connection\n        at oracle.jdbc.driver.DatabaseError.throwSqlException\n(DatabaseError.java:125)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException\n(DatabaseError.java:162)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException\n(DatabaseError.java:274)\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:319)\n        at oracle.jdbc.driver.PhysicalConnection.<init>\n(PhysicalConnection.java:344)\n        at oracle.jdbc.driver.T4CConnection.<init>(T4CConnection.java:148)\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection\n(T4CDriverExtension.java:32)\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:545)\n        at org.apache.tools.ant.taskdefs.JDBCTask.getConnection\n(JDBCTask.java:319)\n        at org.apache.tools.ant.taskdefs.SQLExec.execute(SQLExec.java:414)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:276)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute\n(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:342)\n        at org.apache.tools.ant.Target.execute(Target.java:357)\n        at org.apache.tools.ant.Target.performTasks(Target.java:385)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1282)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1251)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets\n(DefaultExecutor.java:41)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1134)\n        at org.apache.tools.ant.Main.runBuild(Main.java:698)\n        at org.apache.tools.ant.Main.startAnt(Main.java:199)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:300)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:106)", "id": 94161, "time": "2006-09-27T14:21:25Z", "bug_id": 40617, "creation_time": "2006-09-27T14:21:25Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "peterreilly@apache.org", "is_private": false, "count": 1, "id": 94168, "time": "2006-09-27T15:20:56Z", "bug_id": 40617, "creation_time": "2006-09-27T15:20:56Z", "text": "I think that this is the same issue.\n\n*** This bug has been marked as a duplicate of 40619 ***"}]