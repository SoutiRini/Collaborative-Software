[{"count": 0, "tags": [], "text": "Hi.\n\nPerhaps I haven't seen it or I'm just stupid but from the descriptions there...:\nhttp://httpd.apache.org/docs/2.2/sections.html#mergin\nhttp://httpd.apache.org/docs/2.2/mod/core.html#files\nhttp://httpd.apache.org/docs/2.2/mod/core.html#location\n...I do absolutely not understand how multiple matching <Files> sections (or <Location> sections or their regexp-counterparts are merged).\n\nIs it:\n1) the first one that matches?\n2) the last ones?\n3) all that match?\n4) the most specific match? (not to ask how one should defined this)\n\nTake the following (still very simply example)\n\n<Files *.pdf>\nOrder Deny,Allow\nSetOutputFilter INCLUDES\n</Files>\n<Files x.pdf>\nOrder Allow,Deny\nSetOutputFilter DEFLATE\n</Files>\n\nWhat is the effective outcome now when accessing \"x.pdf\"?\n1)Order Deny,Allow\nSetOutputFilter INCLUDES\n\n2)Order Allow,Deny\nSetOutputFilter DEFLATE\n\n3)Order Allow,Deny (<????)\nSetOutputFilter INCLUDES;DEFLATE\n\n4)Order Allow,Deny\nSetOutputFilter DEFLATE\n\n\n\nOr another IMHO even more confusing example:\n<Location />\n    Order allow,deny\n    Deny from all\n</Location>\n<LocationMatch /server-status>\n    SetHandler server-status\n    Order allow,deny\n    Allow from 127.0.0.1 ::1\n</LocationMatch>\n\nHow are they merged? And why? (When accessing /server-status\n\n\nAnd why does e.g.:\n<Location />\n    Allow from 127.0.0.1 ::1\n</Location>\n<LocationMatch /server-status>\n    SetHandler server-status\n    Order allow,deny\n</LocationMatch>\n\nNot lead to an allow, when accessin /server-status.\n\n\n\nFor <Directory>/Match all this is totally clear,... from the least specific to the most specific dir.\n\n\nCheers,\nChris.", "attachment_id": null, "bug_id": 50377, "id": 142158, "time": "2010-11-29T19:52:44Z", "creator": "calestyo@scientia.net", "creation_time": "2010-11-29T19:52:44Z", "is_private": false}, {"count": 1, "tags": [], "creator": "calestyo@scientia.net", "attachment_id": null, "id": 142161, "time": "2010-11-29T20:08:47Z", "bug_id": 50377, "creation_time": "2010-11-29T20:08:47Z", "is_private": false, "text": "btw: IMHO even the sentence \"Later sections override earlier ones.\" does more harm than good.\n\nIt's not clear whether this means Directory/Files/Locations or only Files/Locations and it's also not clear whether \"later\" means \"above/below\" in the config file or at a \"deeper\" position (e.g. when <Files> is nested in <Directory>).\n\nWhen I have e.g.\n<Directory />\n\n</Directory>"}, {"count": 2, "tags": [], "creator": "calestyo@scientia.net", "is_private": false, "text": "btw: IMHO even the sentence \"Later sections override earlier ones.\" does more harm than good.\n\nIt's not clear whether this means Directory/Files/Locations or only Files/Locations and it's also not clear whether \"later\" means \"above/below\" in the config file or at a \"deeper\" position (e.g. when <Files> is nested in <Directory>).\n\nWhen I have e.g.\n<Directory />\n  A param1\n  B\n</Directory>\n<Directory />\n  A param2\n  C\n</Directory>\n\nIs the effect:\nA param2\nB\nC\nor just:\nA param2\nC\n\nFor at least <Location> the later seems to be the case (completely ignoring previously matching sections, and not just overriding them)?", "id": 142162, "time": "2010-11-29T20:11:57Z", "bug_id": 50377, "creation_time": "2010-11-29T20:11:57Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 50377, "is_private": false, "id": 142163, "attachment_id": null, "creator": "calestyo@scientia.net", "creation_time": "2010-11-29T20:12:58Z", "time": "2010-11-29T20:12:58Z", "text": "(sorry for the bogus commend #1)"}, {"count": 4, "text": "Perhaps using:\nThe directives from later (\"sections below in the configuration\") matching sections (of the same type) override the directives from earlier (\"sections above in the configuration\") matching sections (of the same type).\n\nWith the addition that directives from <Directory>s of deeper directories (e.g. /foo/bar) always override directives from <Directory>s of higher directories (e.g. /foo), regardless of the sections ordering within the configuration.\n\nHowever, <Directory> sections of the very same directory (level) are again processed in the order as of the configuration file, as describe above.\n\n\ninstead of:\nLater sections override earlier ones.\n\n\nDescribes it more exactly?\nOk so?\n\nBut this still doesn't explain whyAnd why does e.g.:\n<Location />\n    Allow from 127.0.0.1 ::1\n</Location>\n<LocationMatch /server-status>\n    SetHandler server-status\n    Order allow,deny\n</LocationMatch>\ndoesn't lead to an allow, when accessing /server-status... and why:\n<LocationMatch /server-status>\n    SetHandler server-status\n    Order allow,deny\n</LocationMatch>\n<Location />\n    Allow from 127.0.0.1 ::1\n</Location>\ndoes !!!\n\n*confused*", "creator": "calestyo@scientia.net", "is_private": false, "id": 142164, "time": "2010-11-29T20:35:58Z", "bug_id": 50377, "creation_time": "2010-11-29T20:35:58Z", "tags": [], "attachment_id": null}, {"count": 5, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "id": 142168, "time": "2010-11-29T23:28:16Z", "bug_id": 50377, "creation_time": "2010-11-29T23:28:16Z", "is_private": false, "text": "The docs need to discuss that the order of the merge, and how individual modules/directives perform the merge, are two separate concerns."}, {"count": 6, "tags": [], "bug_id": 50377, "attachment_id": null, "id": 142182, "time": "2010-11-30T06:13:22Z", "creator": "calestyo@scientia.net", "creation_time": "2010-11-30T06:13:22Z", "is_private": false, "text": "Uhm... don't see what you mean. If you relate to the example with Order/Allow/Deny then I'd still say:\nThere are some \"general\" rules for merging, which are IMHO not exactly enough described.\n\nIf there are special rules for Order/Allow/Deny (like there are for example for Options) then this is missing at their respective documentation."}, {"count": 7, "tags": [], "creator": "covener@gmail.com", "is_private": false, "text": "(In reply to comment #6)\n> Uhm... don't see what you mean. If you relate to the example with\n> Order/Allow/Deny then I'd still say:\n> There are some \"general\" rules for merging, which are IMHO not exactly enough\n> described.\n> \n> If there are special rules for Order/Allow/Deny (like there are for example for\n> Options) then this is missing at their respective documentation.\n\nThere's no general rule or special rules.  Each module merges its directives however it pleases, but it's presented the base and overrides values pairwise.  Interpreting how an override applies to a base is directive-dependent.", "id": 142188, "time": "2010-11-30T07:30:38Z", "bug_id": 50377, "creation_time": "2010-11-30T07:30:38Z", "attachment_id": null}, {"count": 8, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "is_private": false, "id": 155396, "time": "2012-03-30T13:17:56Z", "bug_id": 50377, "creation_time": "2012-03-30T13:17:56Z", "text": "The merge of mod_access_compat is documented in 2.4.x already."}, {"count": 9, "tags": [], "creator": "calestyo@scientia.net", "attachment_id": null, "id": 155398, "time": "2012-03-30T13:30:51Z", "bug_id": 50377, "creation_time": "2012-03-30T13:30:51Z", "is_private": false, "text": "Is there a commit where one can see what was changed for this ticket?"}, {"count": 10, "tags": [], "text": "(In reply to comment #9)\n> Is there a commit where one can see what was changed for this ticket?\n\nhttp://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_access_compat.xml?view=log", "attachment_id": null, "bug_id": 50377, "id": 155399, "time": "2012-03-30T13:44:02Z", "creator": "covener@gmail.com", "creation_time": "2012-03-30T13:44:02Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 50377, "attachment_id": null, "text": "Well it doesn't seem to me as if the added text makes everything really clear.\n\nDon't take this offensive, but the whole documentation about merging seems to be quite a mess, especially when there are no general rules about the merging.\n\nSee also what I wrote in comments 2 and 4... as far as I can see this is still not thoroughly documented.", "id": 155404, "time": "2012-03-30T16:29:24Z", "creator": "calestyo@scientia.net", "creation_time": "2012-03-30T16:29:24Z", "is_private": false}, {"count": 12, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "is_private": false, "id": 155405, "time": "2012-03-30T16:33:30Z", "bug_id": 50377, "creation_time": "2012-03-30T16:33:30Z", "text": "Contributions are welcomed, it's a complicated subject."}]