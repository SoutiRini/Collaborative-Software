[{"count": 0, "attachment_id": null, "creator": "zhangzel@gmail.com", "is_private": false, "id": 96937, "time": "2006-12-15T05:55:28Z", "bug_id": 41180, "creation_time": "2006-12-15T05:55:28Z", "tags": [], "text": "hi:\n    I have resolve this bug by edit org.apache.jasper.compiler.Parser, in \nfunction parseOptionalBody,after 'reader.matches(\">\")' , may have a blank \ncharacter before </jsp:include>, so must skip those blank charactor.\n    I saw this bug has appearance in Tomcat5.0.* , but I find this bug in \ntomcat5.5.9 ,5.5.12. The next is Parser.java source that I have edit and test \nit in Application Server automatic test collections:\n\nprivate void parseOptionalBody( Node parent, String tag, String bodyType ) \n        throws JasperException \n{\n    if (reader.matches(\"/>\")) {\n        // EmptyBody\n        return;\n    }\n\n    if (!reader.matches(\">\")) {\n        err.jspError(reader.mark(), \"jsp.error.unterminated\",\n\t\t \"&lt;\" + tag );\n    }\n\n    //edit by zhangzel@gmail.com 20061215: beacause next may be a blank \ncharacter.\n    reader.skipSpaces();\n\n    if( reader.matchesETag( tag ) ) {\n        // EmptyBody\n        return;\n    }\n        \n    if( !parseJspAttributeAndBody( parent, tag, bodyType ) ) {\n        // Must be ( '>' # Body ETag )\n        parseBody(parent, tag, bodyType );\n    }\n}"}, {"count": 1, "attachment_id": null, "creator": "zhangzel@gmail.com", "is_private": false, "id": 96938, "time": "2006-12-15T06:02:10Z", "bug_id": 41180, "creation_time": "2006-12-15T06:02:10Z", "tags": [], "text": "In jsp file ,when write <jsp:include ...>  </jsp:include>, the jasper will \nthrow an Exception:\n\ndescription The server encountered an internal error () that prevented it from \nfulfilling this request.\n\nexception \n\norg.apache.jasper.JasperException: /jsp1.jsp(2,1) Expecting \"jsp:param\" \nstandard action with \"name\" and \"value\" attributes\n\torg.apache.jasper.compiler.DefaultErrorHandler.jspError\n(DefaultErrorHandler.java:39)\n\torg.apache.jasper.compiler.ErrorDispatcher.dispatch\n(ErrorDispatcher.java:405)\n\torg.apache.jasper.compiler.ErrorDispatcher.jspError\n(ErrorDispatcher.java:86)\n\torg.apache.jasper.compiler.Parser.parseParam(Parser.java:852)\n\torg.apache.jasper.compiler.Parser.parseBody(Parser.java:1804)\n\torg.apache.jasper.compiler.Parser.parseOptionalBody(Parser.java:1060)\n\torg.apache.jasper.compiler.Parser.parseInclude(Parser.java:888)\n\torg.apache.jasper.compiler.Parser.parseStandardAction(Parser.java:1211)\n\torg.apache.jasper.compiler.Parser.parseElements(Parser.java:1563)\n\torg.apache.jasper.compiler.Parser.parse(Parser.java:126)\n\torg.apache.jasper.compiler.ParserController.doParse\n(ParserController.java:211)\n\torg.apache.jasper.compiler.ParserController.parse\n(ParserController.java:100)\n\torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:146)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:286)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:267)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:255)\n\torg.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:556)\n\torg.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:293)\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:291)\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\n\nnote The full stack trace of the root cause is available in the Apache \nTomcat/5.5.9 logs.\n "}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 97060, "time": "2006-12-18T18:05:02Z", "bug_id": 41180, "creation_time": "2006-12-18T18:05:02Z", "text": "\n\n*** This bug has been marked as a duplicate of 25448 ***"}]