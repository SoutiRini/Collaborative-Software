[{"count": 0, "tags": [], "text": "When using mod_proxy and SSL backend with through a proxy, mod_proxy generates the wrong Host header.\n\n1.) define a proxy using ProxyRemote (e.g.: ProxyRemote https://backend.com http://myproxy:8080\n2.) Use ProxyPass to pass a connection to https://backend.com (e.g.: ProxyPass /mypath https://backend.com/target.path\n\nmod_proxy will properly generate the HTTP CONNECT method but will use the proxy's hostname in the SSL request.\n\nThis causes the backend (another httpd for instance) refuse the connection.", "is_private": false, "id": 178729, "creator": "szabolcs@gyurko.org", "time": "2014-10-24T18:00:17Z", "bug_id": 57139, "creation_time": "2014-10-24T18:00:17Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "szabolcs@gyurko.org", "attachment_id": 32144, "text": "Created attachment 32144\nPatchAvailable\n\nThis patch fixes the overridden Host header. The override happens when the code adds the HTTP CONNECT method prepending the request. The code later uses the proxy's (defined by ProxyRemote) host inside the SSL request.", "id": 178730, "time": "2014-10-24T18:03:30Z", "bug_id": 57139, "creation_time": "2014-10-24T18:03:30Z", "is_private": false}, {"count": 2, "tags": [], "creator": "rpluem@apache.org", "attachment_id": null, "id": 178731, "creation_time": "2014-10-24T19:01:22Z", "time": "2014-10-24T19:01:22Z", "bug_id": 57139, "text": "Thanks for the patch. Committed to trunk as r1634120.", "is_private": false}, {"count": 3, "tags": [], "creator": "ylavic.dev@gmail.com", "attachment_id": null, "id": 181339, "creation_time": "2015-02-25T16:58:23Z", "time": "2015-02-25T16:58:23Z", "bug_id": 57139, "text": "Backport to 2.4.x proposed in r1662261.", "is_private": false}, {"count": 4, "tags": [], "text": "Backported to 2.4.12 in r1673941.", "attachment_id": null, "id": 182619, "creator": "ylavic.dev@gmail.com", "time": "2015-04-24T20:04:54Z", "bug_id": 57139, "creation_time": "2015-04-24T20:04:54Z", "is_private": false}]