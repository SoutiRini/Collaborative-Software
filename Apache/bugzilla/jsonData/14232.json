[{"count": 0, "tags": [], "bug_id": 14232, "text": "I am working with Ant 1.5.1 within Eclipse.\nWithin Eclipse it is possible to be using Ant without ANT_HOME set.\n\nDiagnostics#listLibraries() throws a NullPointerException if ANT_HOME is not \nset.  The NPE occurs as the java.io.File#list call returns null.\n\nI would propose that Diagnostics#listLibraries should handle this case. The \ncomment claims the method will return null in error conditions but \nDiagnostics#doReportLibraries will not handle this return value.", "id": 25625, "time": "2002-11-04T16:53:27Z", "creator": "darin_swanson@oti.com", "creation_time": "2002-11-04T16:53:27Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 14232, "attachment_id": null, "text": "Thanks for spotting that. Pretty stupid code I did here...\nThere are more others potential code for NPE here, I'm looking into that.\n- ant.home could not be defined and it would crash in creating the File\n- list() can return null\n- if listLib...() return null it crashes in the doReportLib...()\n\nNPE festival here. I'm impressed by my code.\n\nOut of curiosity how come there are no 'ant.home' defined ? It might interfer \nwith forking processes AFAIK and maybe other things, I will have to check.", "id": 25626, "time": "2002-11-04T17:15:29Z", "creator": "sbailliez@apache.org", "creation_time": "2002-11-04T17:15:29Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 14232, "text": "Eclipse embeds Ant within its plugin infrastructure.  Unfortunately, Ant and \nxerces are located in different plugins so there is no easy way to emulate \nANT_HOME.  The user can manipulate the Ant classpath and I am working on \nletting the user specify ANT_HOME (see \nhttp://bugs.eclipse.org/bugs/show_bug.cgi?id=21809 if interested).\n\nNot having ant.home set can cause problems from a user's point of view in the \ntasks Exec and Execute.  The Ant code appears to handle these cases.", "id": 25632, "time": "2002-11-04T17:31:28Z", "creator": "darin_swanson@oti.com", "creation_time": "2002-11-04T17:31:28Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 14232, "attachment_id": null, "is_private": false, "id": 25633, "time": "2002-11-04T17:44:36Z", "creator": "sbailliez@apache.org", "creation_time": "2002-11-04T17:44:36Z", "text": "Thanks, bug is fixed in 1.5 branch and head."}, {"count": 4, "attachment_id": null, "bug_id": 14232, "is_private": false, "id": 25634, "time": "2002-11-04T17:53:42Z", "creator": "stevel@apache.org", "creation_time": "2002-11-04T17:53:42Z", "tags": [], "text": "IDEA doesnt define ANT_HOME either. if you do <property env> you can get at the\nsystem ANT_HOME and work from there, but you need to be looking out for it in\nyour build file"}]