[{"count": 0, "tags": [], "bug_id": 52243, "is_private": false, "text": "The documentation of the windows service installier is missing one information.\n\nIf one wants to create a service with a sepified PATH, it may not work:\n\nCitadation from the documentation:\nhttp://tomcat.apache.org/tomcat-7.0-doc/windows-service-howto.html\n\nList of environment variables that will be provided to the service in the form key=value. They are separated using either # or ; characters.\n\nOriginal documentation:\nhttp://commons.apache.org/daemon/procrun.html\nList of environment variables that will be provided to the service in the form key=value. They are separated using either # or ; characters. If you need to embed either # or ; character within a value put them inside single quotes.\n\nThe last part is important, but missing:\n\"If you need to embed either # or ; character within a value put them inside single quotes.\"\n\nThe ';' is the windows path-seperator-char and the path has to be masked by ' if it contains more than one directory.\n\nThis is missing in 5.5 and 6.0 as well.", "id": 151783, "time": "2011-11-25T09:03:49Z", "creator": "ckuetbach@googlemail.com", "creation_time": "2011-11-25T09:03:49Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "knst.kolinko@gmail.com", "text": "You sound like you have tried this feature. Can you provide an example that is close to what you used in real life? What version of Tomcat you used?\n\nFrom the description at [2] it is not clear to me where the quotes should be placed. Did you use key='value;value' or key=value';'value ?\n\n[2] http://commons.apache.org/daemon/procrun.html", "id": 151788, "time": "2011-11-25T13:29:28Z", "bug_id": 52243, "creation_time": "2011-11-25T13:29:28Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 52243, "attachment_id": null, "id": 151789, "time": "2011-11-25T13:41:59Z", "creator": "ckuetbach@googlemail.com", "creation_time": "2011-11-25T13:41:59Z", "is_private": false, "text": "I used tomcat 5.5.34. \n\nWithin my application I have to load a native *.dll file, which is loading another .dll. Therefor I needed to set the windowns PATH variable for the created windows service.\n\nFirst I set the path like this:\n\ntomcat5.exe //US//MY_SERVICE_NAME --Environment \"PATH=.\\;c:\\path\\to\\bin\"\n\nThe installed Windows service did not start at all, because the value inserted into the windows registry was not correct.\n\nThe documentation said that the value provided for --Environment is splitted at ; and also #. So I had to mask the windows-path.\n\nI changed by script into this:\n\ntomcat5.exe //US//MY_SERVICE_NAME  --Environment \"PATH='.\\;c:\\path\\to\\bin'\" \n\nand it worked just fine.\n\nI think all versions of tomcat since 5.5 until now uses the same windows service wrapper."}, {"count": 3, "tags": [], "text": "Thanks for the clarification. I have updated the docs for trunk, 7.0.x, 6.0.x and 5.5.x. I used a slightly different form of words.", "attachment_id": null, "bug_id": 52243, "id": 152411, "time": "2011-12-26T20:56:08Z", "creator": "markt@apache.org", "creation_time": "2011-12-26T20:56:08Z", "is_private": false}]