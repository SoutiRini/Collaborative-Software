[{"count": 0, "tags": [], "text": "Fop fails by trying to use a ttf font and reference it within a pdf document.\n\nI first embedded a True Type Font into my documents. Thats works great. Here is \na snippet from my userconfig.xml file:\n\n<font\nmetrics-file=\"file:D:/Asfr/unchangedfopsrc/fop-0.20.4/conf/ARIALUNI.XML\" \n   kerning=\"yes\" \n   embed-file=\"file:D:/Asfr/unchangedfopsrc/fop-0.20.4/conf/ARIALUNI.TTF\">\n      <font-triplet name=\"ArialUnicodeMS\" style=\"normal\" weight=\"normal\"/>\n      <font-triplet name=\"ArialUnicodeMS\" style=\"italic\" weight=\"bold\"/>\n      <font-triplet name=\"ArialUnicodeMS\" style=\"normal\" weight=\"bold\"/>\n      <font-triplet name=\"ArialUnicodeMS\" style=\"italic\" weight=\"normal\"/>\n</font>\n\n\nBut if I remove the embed-file attribute I end up with an error.\n\nThis is my changed userconfig.xml file:\n\n<font\nmetrics-file=\"file:D:/Asfr/unchangedfopsrc/fop-0.20.4/conf/ARIALUNI.XML\" \n   kerning=\"yes\" \n      <font-triplet name=\"ArialUnicodeMS\" style=\"normal\" weight=\"normal\"/>\n      <font-triplet name=\"ArialUnicodeMS\" style=\"italic\" weight=\"bold\"/>\n      <font-triplet name=\"ArialUnicodeMS\" style=\"normal\" weight=\"bold\"/>\n      <font-triplet name=\"ArialUnicodeMS\" style=\"italic\" weight=\"normal\"/>\n</font>\n\n\nThis is the error message I get:\n\n[INFO] FOP 0.20.4\n[INFO] building formatting object tree\n[ERROR] Failed to read font metrics file\nD:/Asfr/unchangedfopsrc/fop-0.20.4/conf\n/ARIALUNI.XML : null\n[INFO] [1]\n[ERROR] unknown font ArialUnicodeMS,normal,normal so defaulted font to any\n[ERROR] unknown font ArialUnicodeMS,normal,normal so defaulted font to any\n[ERROR] unknown font ArialUnicodeMS,normal,normal so defaulted font to any\n[INFO] [2]\n\n\nPlease note: I only changed the userconfig.xml. The font-metrics file is\nstill there.\n\n\nIf I use\n\n<font\nmetrics-file=\"file:D:/Asfr/unchangedfopsrc/fop-0.20.4/conf/ARIALUNI.XML\" \n   kerning=\"yes\" \n   embed-file=\"\"\n      <font-triplet name=\"ArialUnicodeMS\" style=\"normal\" weight=\"normal\"/>\n      <font-triplet name=\"ArialUnicodeMS\" style=\"italic\" weight=\"bold\"/>\n      <font-triplet name=\"ArialUnicodeMS\" style=\"normal\" weight=\"bold\"/>\n      <font-triplet name=\"ArialUnicodeMS\" style=\"italic\" weight=\"normal\"/>\n</font>\n\n\nfop generates the pdf document, but with this error message at the end:\n\n[INFO] Parsing of document complete, stopping renderer\n[ERROR] Failed to embed font [65] ArialUnicodeMS:\nD:\\Asfr\\unchangedfopsrc\\fop-0.\n20.4 (Access is denied)\n\nI can open the pdf document, but I get the error message \"A font required\nfor font substitution is missing\".\n\nAnd if I use the following in my userconfig.xml I end up with the same error\nmessage as the one above.\n\n<font\nmetrics-file=\"file:D:/Asfr/unchangedfopsrc/fop-0.20.4/conf/ARIALUNI.XML\" \n   kerning=\"yes\" \n   embed-file=\"*.ttf\"\n      <font-triplet name=\"ArialUnicodeMS\" style=\"normal\" weight=\"normal\"/>\n      <font-triplet name=\"ArialUnicodeMS\" style=\"italic\" weight=\"bold\"/>\n      <font-triplet name=\"ArialUnicodeMS\" style=\"normal\" weight=\"bold\"/>\n      <font-triplet name=\"ArialUnicodeMS\" style=\"italic\" weight=\"normal\"/>\n</font>\n\n\nI'm using jdk 1.4.0.\n\nI also tested this with fop-0.20.5rc3a and it seems that the issue has been \nfixed for Adobe Type 1 fonts. But with True Type fonts it still doesn't work. \nJust the fop error messages are different with 0.20.5rc3a.\nI tested the issue with arialuni.ttf and tahoma.ttf", "is_private": false, "id": 39827, "creator": "m.schaeffler@gmx.de", "time": "2003-07-02T07:58:31Z", "bug_id": 21265, "creation_time": "2003-07-02T07:58:31Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 21265, "attachment_id": null, "text": "Bug fixed in FOP 0.94", "id": 110753, "time": "2007-11-20T00:11:30Z", "creator": "pascal.sancho@takoma.fr", "creation_time": "2007-11-20T00:11:30Z", "is_private": false}, {"count": 2, "tags": [], "text": "Sorry, that was a mistake, I've not tested this bug", "is_private": false, "id": 110755, "creator": "pascal.sancho@takoma.fr", "time": "2007-11-20T00:14:53Z", "bug_id": 21265, "creation_time": "2007-11-20T00:14:53Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "id": 157017, "time": "2012-04-01T16:18:08Z", "bug_id": 21265, "creation_time": "2012-04-01T16:18:08Z", "is_private": false, "text": "please provide (1) input FO file for testing, (2) fop.xconf file, (3) output PDF file (if any), (4) any console output in a file form"}]