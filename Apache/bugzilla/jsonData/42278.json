[{"count": 0, "tags": [], "creator": "fop-dev@cumiskey.com", "attachment_id": null, "text": "Small change that should be easy to apply.  Thought I would provide this is a\nsmaller more manageable patch prior to more postscript renderer functionality\nbeing added in a forthcoming patch.  Here I have simply factored out the color\nmap cache and fo/uri resolution from FopFactory.  These objects can now be used\nindependently without reference to the FopFactory.\n\nAdrian Cumiskey.", "id": 102560, "time": "2007-04-27T07:50:31Z", "bug_id": 42278, "creation_time": "2007-04-27T07:50:31Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 20061\nsmall patch file", "is_private": false, "id": 102561, "creator": "fop-dev@cumiskey.com", "time": "2007-04-27T07:51:05Z", "bug_id": 42278, "creation_time": "2007-04-27T07:51:05Z", "attachment_id": 20061}, {"count": 2, "tags": [], "creator": "fop-dev@cumiskey.com", "attachment_id": 20062, "text": "Created attachment 20062\nsmall patch file\n\nMissed a comment header on ColorSpaceCache.", "id": 102562, "time": "2007-04-27T08:00:10Z", "bug_id": 42278, "creation_time": "2007-04-27T08:00:10Z", "is_private": false}, {"count": 3, "tags": [], "creator": "jeremias@apache.org", "attachment_id": null, "text": "Thanks for yet another patch, Adrian. Sorry it takes so long to process them.\n\nI've got three comments on this one:\n1. The HyphenationTreeResolver seems to me like a foreign body in the\nFOPResolver class. IMO, it's abuses that class as carrier. Can't you hold that\nreference in a different place for your PostScript stuff and keep the reference\nin the FopFactory?\n2. You're naming the class with the resolution code from FopFactory\n\"FOPResolver\". Now, with the existing \"FOURIResolver\" in the same package, I get\nthe impression that there will be questions like: What is what? What's the\ndifference between FOURIResolver and FOPResolver? What do you think about\nmerging FOPResolver into FOURIResolver? I think this would be a safe thing to do.\n3. I'm very much against introducing singletons for FopResolver,\nElementMappingRegistry and ColorSpaceCache. Getting rid of all the singletons\nwas one of my design goals for the new FOP API. The FopFactory should be reused\nwhenever possible by the user (you could have a singleton for FopFactory in your\napp, though), but I want to create FopFactories which are completely separate\nfrom each other. The ColorSpaceCache is probably a border case since it doesn't\nmake much sense to keep multiple instance of this class, but I wouldn't want\nsingletons for the other two because of unwanted side-effects (configuring one\nFOP environment (i.e. FopFactory) shouldn't modify the other).", "id": 103203, "time": "2007-05-14T13:14:33Z", "bug_id": 42278, "creation_time": "2007-05-14T13:14:33Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 42278, "text": "Hi Jeremias,\n\n(In reply to comment #3)\n> Thanks for yet another patch, Adrian. Sorry it takes so long to process them.\n\nYes, the patch queue is getting pretty long these days.  Its a real shame that\nall the good work that people are contributing on the patch queue is not making\nits way into the trunk more quickly.\n\n> \n> I've got three comments on this one:\n\n> 1. The HyphenationTreeResolver seems to me like a foreign body in the\n> FOPResolver class. IMO, it's abuses that class as carrier. Can't you hold that\n> reference in a different place for your PostScript stuff and keep the reference\n> in the FopFactory?\n\nThe idea behind this FOPResolver refactoring work was to delegate all resolving\nactions away from FopFactory.  It seemed to me that creating a FOPResolver class\nseemed like a good holding class for grouping all resolving related\nfunctionality together.  The postscript changes would only make use of any color\nmap cache change so there is no problem with the reference remaining rooted in\nthe FopFactory.\n\n> 2. You're naming the class with the resolution code from FopFactory\n> \"FOPResolver\". Now, with the existing \"FOURIResolver\" in the same package, I get\n> the impression that there will be questions like: What is what? What's the\n> difference between FOURIResolver and FOPResolver? What do you think about\n> merging FOPResolver into FOURIResolver? I think this would be a safe thing to do.\n\nI think it is best to wait until PATCH\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=41831 has been applied before\nlooking at merging FOPResolver and FOURIResolver.  Patch 41831 contains a\nrewrite of the FOURIResolver resolve method.\n\n> 3. I'm very much against introducing singletons for FopResolver,\n> ElementMappingRegistry and ColorSpaceCache. Getting rid of all the singletons\n> was one of my design goals for the new FOP API. The FopFactory should be reused\n> whenever possible by the user (you could have a singleton for FopFactory in your\n> app, though), but I want to create FopFactories which are completely separate\n> from each other. The ColorSpaceCache is probably a border case since it doesn't\n> make much sense to keep multiple instance of this class, but I wouldn't want\n> singletons for the other two because of unwanted side-effects (configuring one\n> FOP environment (i.e. FopFactory) shouldn't modify the other).\n\nThats a fair point on FopResolver and ElementMappingRegistry.  I think its best\nto revisit this patch once 41831 has been committed.\n\nI really wish Andreas would return to look at it because he had spent quite a\nlot of time looking at this patch and was ready to commit it when he started\nhaving problems with his ISP.  If another developer takes care of committing\nthis rather large patch I can imagine quite a lot of effort being duplicated.\n\nAll the best,\n\nAdrian.", "id": 103231, "time": "2007-05-15T05:20:00Z", "creator": "fop-dev@cumiskey.com", "creation_time": "2007-05-15T05:20:00Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "text": "Created attachment 20288\nsmall patch file\n\nUpdated following feedback.\n\n* Removed singletons.\n* Merged uri resolution code into FOURIResolver.", "is_private": false, "id": 103814, "creator": "dev@cumiskey.com", "time": "2007-05-30T08:44:24Z", "bug_id": 42278, "creation_time": "2007-05-30T08:44:24Z", "attachment_id": 20288}, {"count": 6, "tags": [], "bug_id": 42278, "is_private": false, "id": 104898, "attachment_id": null, "creator": "jeremias@apache.org", "creation_time": "2007-06-29T05:50:03Z", "time": "2007-06-29T05:50:03Z", "text": "Patch applied with modifications (see commit message):\nhttp://svn.apache.org/viewvc?view=rev&rev=551874\n\nThanks for the patch and your patience."}, {"count": 7, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 156352, "time": "2012-04-01T07:13:28Z", "bug_id": 42278, "creation_time": "2012-04-01T07:13:28Z", "is_private": false}]