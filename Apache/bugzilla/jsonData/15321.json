[{"count": 0, "tags": [], "bug_id": 15321, "attachment_id": null, "id": 27746, "creation_time": "2002-12-12T16:54:11Z", "time": "2002-12-12T16:54:11Z", "creator": "rtaylor@newatlanta.com", "text": "wordWrap seems to be blowing up if the tag attempts to wrap a string that\ncontains a newline character as the 81st character. It will not blow up\nif the 81st character is not a new line character.\n\nThis is my usage:\n<string:wordWrap><bean:write name=\"form\" property=\"body\" \nignore=\"true\"/></string:wordWrap>\n\nPartial stack trace:\n2120: java.lang.StringIndexOutOfBoundsException: String index out of range: 80\n2120:   at java.lang.String.charAt(String.java:455)\n2120:   at org.apache.taglibs.string.util.StringW.wordWrap(StringW.java:181)\n2120:   at org.apache.taglibs.string.WordWrapTag.changeString\n(WordWrapTag.java:159)\n2120:   at org.apache.taglibs.string.StringTagSupport.doEndTag\n(StringTagSupport.java:135)", "is_private": false}, {"count": 1, "tags": [], "bug_id": 15321, "attachment_id": null, "is_private": false, "id": 30213, "time": "2003-01-28T23:14:44Z", "creator": "bayard@apache.org", "creation_time": "2003-01-28T23:14:44Z", "text": "Ought to be fixed. Awaiting confirmation."}, {"count": 2, "tags": [], "bug_id": 15321, "attachment_id": null, "id": 53784, "creation_time": "2004-03-10T04:20:37Z", "time": "2004-03-10T04:20:37Z", "creator": "nagoya@felipeal.net", "text": "Robert,\n\nCould you please try it again and, if the bug persists, reopen the bug providing\na better test case?\n\nFor instance, I created the following JSP page:\n\n<%-- jsp page starts here --%>\n<%@ taglib uri=\"http://jakarta.apache.org/taglibs/string-1.0.1\" prefix=\"str\" %>\n\n<%\n\nStringBuffer buffer = new StringBuffer(100);\n\nfor ( int i=1; i<=80; i++ ) {\n   buffer.append( (char) i%10 );\n}\n\nString word = request.getParameter(\"word\");\nif ( word == null ) {\n   word = \"\";\n}\n%>\n\nWord: <str:wordWrap><%=word%></str:wordWrap>\n<br>\nLength: <str:length><%=word%></str:length>\n\n<form>\n\nWord: <textarea cols=\"80\" rows=\"10\" name=\"word\"><%=buffer.toString()%></textArea>\n<br>\n<input type=\"submit\">\n</form>\n<%-- jsp page ends here --%>\n\nAnd ran it with many inputs:\n\nhttp://localhost:8080/taglibs/bug15321.jsp?word=12345678901234567890123456789012345678901234567890123456789012345678901234567890\nhttp://localhost:8080/taglibs/bug15321.jsp?word=12345678901234567890123456789012345678901234567890123456789012345678901234567890%0D\nhttp://localhost:8080/taglibs/bug15321.jsp?word=12345678901234567890123456789012345678901234567890123456789012345678901234567890%0A\nhttp://localhost:8080/taglibs/bug15321.jsp?word=12345678901234567890123456789012345678901234567890123456789012345678901234567890%0A%0D\n\n\nNone of them caused an exception, so I think it might have been already fixed.\n\nFelipe", "is_private": false}]