[{"count": 0, "tags": [], "creator": "noelob@yahoo.com", "is_private": false, "id": 127413, "creation_time": "2009-05-26T09:04:49Z", "time": "2009-05-26T09:04:49Z", "bug_id": 47269, "text": "I'm using JMeter (2.3.2) to simulate a traffic model for our application (server) based on the traffic that our client generates. I used the JMeter proxy to sniff the traffic and then to make it more realistic I re-organised the captured samples into a series or Random and Throughput controllers. This works fine until the point in the test plan where the random/throuput controller come into play nad the the following happens, halting the test:\n\n2009/05/25 16:07:54 ERROR - jmeter.threads.JMeterThread: Test failed! java.lang.StackOverflowError\nat java.util.HashMap.getEntry(HashMap.java:344)\nat java.util.LinkedHashMap.get(LinkedHashMap.java:280)\nat java.util.Collections$SynchronizedMap.get(Collections.java:1975)\nat org.apache.jmeter.testelement.AbstractTestElement.getProperty(AbstractTestElement.java:140)\nat org.apache.jmeter.testelement.AbstractTestElement.getPropertyAsInt(AbstractTestElement.java:183)\nat org.apache.jmeter.control.ThroughputController.getStyle(ThroughputController.java:109)\nat org.apache.jmeter.control.ThroughputController.isDone(ThroughputController.java:207)\nat org.apache.jmeter.control.InterleaveControl.currentReturnedNull(InterleaveControl.java:153)\nat org.apache.jmeter.control.InterleaveControl.nextIsAController(InterleaveControl.java:94)\nat org.apache.jmeter.control.GenericController.next(GenericController.java:146)\nat org.apache.jmeter.control.InterleaveControl.next(InterleaveControl.java:83)\nat org.apache.jmeter.control.InterleaveControl.nextIsAController(InterleaveControl.java:95)\nat org.apache.jmeter.control.GenericController.next(GenericController.java:146)\nat org.apache.jmeter.control.InterleaveControl.next(InterleaveControl.java:83)\nat org.apache.jmeter.control.InterleaveControl.nextIsAController(InterleaveControl.java:95)\nat org.apache.jmeter.control.GenericController.next(GenericController.java:146)\nat org.apache.jmeter.control.InterleaveControl.next(InterleaveControl.java:83)\nat org.apache.jmeter.control.InterleaveControl.nextIsAController(InterleaveControl.java:95)", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 47269, "text": "Created attachment 23717\nTest Plan Schema", "id": 127415, "time": "2009-05-26T09:07:27Z", "creator": "noelob@yahoo.com", "creation_time": "2009-05-26T09:07:27Z", "is_private": false, "attachment_id": 23717}, {"count": 2, "tags": [], "bug_id": 47269, "attachment_id": null, "id": 127418, "creation_time": "2009-05-26T09:44:12Z", "time": "2009-05-26T09:44:12Z", "creator": "noelob@yahoo.com", "text": "Notes about the test plan schema:\n\n1. All Random Controllers have \"Ignore sub-controller blocks\" unchecked\n2. All Throughput Controllers are \"Percent Executions\", with siblings adding to 100%. e.g. 4 sibling Throughput Controllers could have \"Throughput\" set to 60, 25, 10, 5 respectively.", "is_private": false}, {"count": 3, "tags": [], "bug_id": 47269, "text": "Created attachment 23724\nsimple test plan to reproduce a StackOverflowException\n\nThis is not the exact same as the described issue but it does demonstrate a StackOverflowException", "id": 127481, "time": "2009-05-28T10:24:46Z", "creator": "noelob@yahoo.com", "creation_time": "2009-05-28T10:24:46Z", "is_private": false, "attachment_id": 23724}, {"count": 4, "tags": [], "bug_id": 47269, "text": "I get:\n\nERROR - jmeter.engine.PreCompiler: invalid variables org.apache.jmeter.functions.InvalidVariableException: __BeanShell called with wrong number of parameters. Actual: 10. Expected: >= 1 and <= 2\n\nfollowed later by the Stack Exception.\n\nDoes the same happen in the original case, i.e. is there an error prior to the Stack Exception?", "id": 127482, "time": "2009-05-28T11:13:11Z", "creator": "sebb@apache.org", "creation_time": "2009-05-28T11:13:11Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "noelob@yahoo.com", "is_private": false, "id": 127497, "creation_time": "2009-05-29T08:01:28Z", "time": "2009-05-29T08:01:28Z", "bug_id": 47269, "text": "Unfortunately it's not happening anymore (I changed the test plan) and I don't have the original jmeter.log file from when the exception happened, so I cannot confirm or deny whether or not the exception is preceded by the error in the example test case attached.\n\nI can confirm that the exception occurred between the OnceOnly Controller and the First Random/Throughput Controllers in the \"Tango Traffic\" thread group", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 47269, "attachment_id": null, "id": 149238, "time": "2011-09-14T18:16:04Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-09-14T18:16:04Z", "is_private": false, "text": "Hello,\nIsn't this one a duplicate of 50618\n\nRegards\nPhilippe"}, {"count": 7, "tags": [], "bug_id": 47269, "text": "Hello,\nI fixed test plan Switch Condition to this:\n${__BeanShell(return Math.round(Math.random()*10%4))}\n\nI don't reproduce any StackOverflow.\nFurthermore, SOW in stacktrace involves InterleaveControl so not sure it reproduces.\n\nRegards\nPhilippe", "id": 149474, "time": "2011-09-19T06:57:05Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-09-19T06:57:05Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 47269, "text": "Created attachment 27533\nFixed StackOverflow.jmx\n\nFixed to \"simple test plan to reproduce a StackOverflowException\" but SOW not reproduced.", "id": 149475, "time": "2011-09-19T06:58:56Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-09-19T06:58:56Z", "is_private": false, "attachment_id": 27533}, {"count": 9, "tags": [], "bug_id": 47269, "text": "As we have no elements to investigate, I close the issue which may have been fixed by:\n- Partial fix to 50618\n- Fix to 50032\n\nPlease reopen with test plan if issue is still here.", "id": 152452, "time": "2011-12-28T21:36:41Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-12-28T21:36:41Z", "is_private": false, "attachment_id": null}]