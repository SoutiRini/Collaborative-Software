[{"count": 0, "tags": [], "bug_id": 50091, "attachment_id": 26174, "text": "Created attachment 26174\nsample project to illustrate the problem\n\ntestcase:\nI have two classes in two jars. Both jars are located in the lib directory.\nUsing \n<java jar=\"lib/main.jar\" fork=\"true\" failonerror=\"false\" dir=\".\">\n    <jvmarg value=\"-Djava.ext.dirs=&quot;lib&quot;\"/>\n</java>\nfails with NoClassDefFoundError\n\nUsing deprecated syntax\n<java jar=\"lib/main.jar\" jvmargs=\"-Djava.ext.dirs=&quot;lib&quot;\" fork=\"true\" failonerror=\"false\" dir=\".\"/>\nworks just fine.\n\nOn Windows platform the issue doesn't occur.\n\nSeems to be a sequencing issue when building the commandline: -Djava.ext.dirs has to preceed the -jar option.\n\nAttached is a sample project to illustrate the problem.\n\nMy platform: Ubuntu Linux 10.4, 2.6.32-24-generic kernel, x86_64", "id": 140739, "time": "2010-10-14T04:52:13Z", "creator": "anhalter42@gmx.net", "creation_time": "2010-10-14T04:52:13Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "anhalter42@gmx.net", "is_private": false, "count": 1, "id": 140758, "time": "2010-10-15T03:18:51Z", "bug_id": 50091, "creation_time": "2010-10-15T03:18:51Z", "text": "JRE version doesn't matter - happens with both 1.5.0_22 and 1.6.0_20"}, {"count": 2, "tags": [], "bug_id": 50091, "text": "the \"depreacted\" jvmargs attribute strips away the quotes that aren't\nneeded anyway.\n\nusing \n\n <jvmarg value=\"-Djava.ext.dirs=lib\"/>\n\nthings work fine (for me on Linux where the version with quotes fails).\n\nYou are setting a Java property and there is no directory called \"lib\" (with \nthe quotes as part of the name).  On Windows different command line parsing\nrules apply, that's why it works there.\n\nIf your directory cotained spaces you wouldn't need quotes either since\nAnt uses a String[] version of exec() and thus the CLI won't erronously split\nthings.", "id": 140934, "time": "2010-10-22T10:56:49Z", "creator": "bodewig@apache.org", "creation_time": "2010-10-22T10:56:49Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 50091, "attachment_id": null, "id": 140996, "time": "2010-10-25T08:57:53Z", "creator": "anhalter42@gmx.net", "creation_time": "2010-10-25T08:57:53Z", "is_private": false, "text": "OK, got it.\nWorks fine for me w/o quotes on both Linux and Windows.\nThanks!"}]