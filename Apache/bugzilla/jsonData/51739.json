[{"count": 0, "tags": [], "text": "", "attachment_id": null, "bug_id": 51739, "id": 148887, "time": "2011-08-29T13:47:09Z", "creator": "servlet@ig.com.br", "creation_time": "2011-08-29T13:47:09Z", "is_private": false}, {"count": 1, "text": "No information provided.", "bug_id": 51739, "attachment_id": null, "id": 148888, "time": "2011-08-29T13:48:46Z", "creator": "markt@apache.org", "creation_time": "2011-08-29T13:48:46Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "text": "\t<Valve className=\"org.apache.catalina.authenticator.FormAuthenticator\"\n\t\tlandingPage=\"/restrito/principal.xhtml\" />\n\nA workaround is the use of a jsp page that redirect to the xhtml page (JSF page).\n\njava.lang.NullPointerException: Name is null\n\tat java.lang.Enum.valueOf(Unknown Source)\n\tat javax.faces.webapp.FacesServlet$HttpMethod.valueOf(FacesServlet.java:172)\n\tat javax.faces.webapp.FacesServlet.isHttpMethodValid(FacesServlet.java:627)\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:549)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:582)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:279)\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n\tat java.lang.Thread.run(Unknown Source)\n29/08/2011 10:42:35 org.apache.catalina.core.ApplicationDispatcher invoke\nGRAVE: Servlet.service() for servlet Faces Servlet threw exception\njava.lang.NullPointerException: Name is null\n\tat java.lang.Enum.valueOf(Unknown Source)\n\tat javax.faces.webapp.FacesServlet$HttpMethod.valueOf(FacesServlet.java:172)\n\tat javax.faces.webapp.FacesServlet.isHttpMethodValid(FacesServlet.java:627)\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:549)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:473)\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:402)\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:329)\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:466)\n\tat org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:315)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:179)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:279)\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n\tat java.lang.Thread.run(Unknown Source)\n29/08/2011 10:42:35 org.apache.catalina.core.StandardHostValve custom\nGRAVE: Exception Processing ErrorPage[exceptionType=java.lang.Exception, location=/erro_servidor.xhtml]\njava.lang.NullPointerException: Name is null\n\tat java.lang.Enum.valueOf(Unknown Source)\n\tat javax.faces.webapp.FacesServlet$HttpMethod.valueOf(FacesServlet.java:172)\n\tat javax.faces.webapp.FacesServlet.isHttpMethodValid(FacesServlet.java:627)\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:549)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:473)\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:402)\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:329)\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:466)\n\tat org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:315)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:179)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:279)\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n\tat java.lang.Thread.run(Unknown Source)", "attachment_id": null, "bug_id": 51739, "id": 148889, "time": "2011-08-29T13:52:47Z", "creator": "servlet@ig.com.br", "creation_time": "2011-08-29T13:52:47Z", "is_private": false}, {"count": 3, "tags": [], "creator": "servlet@ig.com.br", "attachment_id": null, "id": 148890, "time": "2011-08-29T13:55:34Z", "bug_id": 51739, "creation_time": "2011-08-29T13:55:34Z", "is_private": false, "text": "(In reply to comment #1)\n> No information provided.\n\nSorry, save the information before entering futher information."}, {"count": 4, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 148893, "time": "2011-08-29T14:23:06Z", "bug_id": 51739, "creation_time": "2011-08-29T14:23:06Z", "is_private": false, "text": "That is not a Tomcat problem."}, {"text": "To elaborate in order to avoid a REOPEN:\n\nFl\u00e1vio, you must have an enumerated type that is broken.", "tags": [], "bug_id": 51739, "attachment_id": null, "count": 5, "id": 148901, "time": "2011-08-29T17:10:52Z", "creator": "chris@christopherschultz.net", "creation_time": "2011-08-29T17:10:52Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 51739, "attachment_id": null, "text": "(In reply to comment #5)\n> To elaborate in order to avoid a REOPEN:\n> \n> Fl\u00e1vio, you must have an enumerated type that is broken.\n\nFrom stacktrace and message it seems that valueOf(null) was called with null as a value of HTTP method.\n\nLooking at o.a.c.authenticator.FormAuthenticator class, there are three places where \"new SavedRequest()\" constructor is called:\n one is in #saveRequest(),\n two are in #authenticate().\n\nWhen in #saveRequest() the created SavedRequest object is filled with data, but in #authenticate() only requestURI is set and thus SavedRequest#method remains null.", "id": 148902, "time": "2011-08-29T18:07:50Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2011-08-29T18:07:50Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 51739, "attachment_id": null, "text": "I take it back. It is a Tomcat problem. This has been fixed in 7.0.x and trunk and will be included in 7.0.21 onwards.", "id": 148904, "time": "2011-08-29T18:30:46Z", "creator": "markt@apache.org", "creation_time": "2011-08-29T18:30:46Z", "is_private": false}]