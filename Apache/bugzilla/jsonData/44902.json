[{"count": 0, "tags": [], "creator": "sudesna.pati@dimari.de", "is_private": false, "text": "When we work with our stylesheets to load images, FOP 0.95 works well with local drive addresses,but does not work with server drive addresses. For your convenience in understanding, let me give you a code snippet:\n\nWhat works using fop0.95:\n\n(network share connected via command net use Z: \\\\Dimari-server4\\variobill):\n \n<fo:block>\n <fo:external-graphic scaling=\"inherit\" height=\"4.0cm\" width=\"21cm\" src=\"Z:\\shared\\images\\Briefkopf2005_08.PNG\"/>\n</fo:block>\n\n\n\nWhat does not work:\n\n<fo:block>\n <fo:external-graphic scaling=\"inherit\" height=\"4.0cm\" width=\"21cm\" src=\"\\\\Dimari-server4\\variobill\\shared\\images\\Briefkopf2005_08.PNG\"/>\n</fo:block>\n\nSo it is not able to resolve the server names. Drive like one with \\\\,u drive, c drive does no more work with the old stylesheets. But this problem never occured with the old version of fop.", "id": 116027, "time": "2008-04-29T06:16:14Z", "bug_id": 44902, "creation_time": "2008-04-29T06:16:14Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 44902, "attachment_id": null, "is_private": false, "id": 116035, "time": "2008-04-29T14:45:48Z", "creator": "j3322ptm@yahoo.de", "creation_time": "2008-04-29T14:45:48Z", "text": "The src attribute of an external graphic takes an URL. Both Z:\\shared\\images\\Briefkopf2005_08.PNG and \\\\Dimari-server4\\variobill\\shared\\images\\Briefkopf2005_08.PNG are file names, not URLs, and technically invalid as the value for a src attribute. Because many people are somewhat sloppy distinguishing the two concepts, FOP attempts to detect and convert file names to URLs. This is messy for Windows file names, and apparently nobody bothered yet to extend the usual hacks to include the conversion of UNC paths.\nThe correct value to use in the second case should probably be file:////Dimari-server4\\variobill\\shared\\images\\Briefkopf2005_08.PNG (note: exactly four slashes after the file: prefix), but this may be unsupported by the underlying library.\n\nI'm tempted to close this as invalid, but someone else may want to add UNC uplifting to the URL processing code."}, {"count": 2, "tags": [], "bug_id": 44902, "attachment_id": null, "is_private": false, "id": 117142, "time": "2008-05-29T10:16:36Z", "creator": "adelmelle@apache.org", "creation_time": "2008-05-29T10:16:36Z", "text": "*** Bug 45100 has been marked as a duplicate of this bug. ***"}, {"count": 3, "tags": [], "creator": "adelmelle@apache.org", "attachment_id": null, "id": 117202, "creation_time": "2008-05-31T03:11:11Z", "time": "2008-05-31T03:11:11Z", "bug_id": 44902, "text": "*** Bug 45100 has been marked as a duplicate of this bug. ***", "is_private": false}, {"count": 4, "tags": [], "bug_id": 44902, "attachment_id": null, "is_private": false, "id": 117216, "time": "2008-05-31T14:32:23Z", "creator": "adelmelle@apache.org", "creation_time": "2008-05-31T14:32:23Z", "text": "Additional info, as I've been looking at what can be done at the FOP-side to solve this issue.\n\nAFAICT, currently the specified URL for the 'src' property is passed as-is to the XG Commons ImageManager. I assume Commons uses standard java.net.URL operations when it tries to open the stream, so it seems to be a question of whether the following would work:\n\nnew java.net.URL(\"file:////servername/dir/image.png\").openStream();\n\nIf you can find a variant for which the above works, then the same string-value should work if specified in the FO.\n"}, {"count": 5, "tags": [], "bug_id": 44902, "attachment_id": null, "is_private": false, "id": 117259, "time": "2008-06-02T10:01:23Z", "creator": "jeremias@apache.org", "creation_time": "2008-06-02T10:01:23Z", "text": "It was an issue of Apache Commons IO's FileUtils.toFile(URL) not supporting file URLs constructed from UNC paths. With the change below I'm able to access files via UNC paths.\n\nChange in XML Graphics Commons Trunk:\nhttp://svn.apache.org/viewvc?rev=662487&view=rev\n\nBTW, it's interesting to note that File.toURL().toExternalForm() yields:\nfile://myserver/myshare/mypath/myfile.bmp\nAnd File.toURI().toASCIIString() yields:\nfile:////myserver/myshare/mypath/myfile.bmp\n"}, {"count": 6, "tags": [], "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "is_private": false, "id": 156256, "creator": "gadams@apache.org", "time": "2012-04-01T07:07:05Z", "bug_id": 44902, "creation_time": "2012-04-01T07:07:05Z", "attachment_id": null}]