[{"count": 0, "tags": [], "bug_id": 59260, "attachment_id": null, "text": "Hello,\n\nI have some URLs (from an API) containing %0A.\nThese URLs go through mod_rewrite, and sounds like that the \"%0A.*\" part is removed from the URLs, which of course makes the API to fail.\n\nIs my assumption true ?\nAre there other characters / strings removed from the URL ?\nCould we think about a \"raw\" mode which would keep all characters ?\n\nThank you very much,\n\nBest regards,\n\nBen", "id": 189876, "time": "2016-04-01T07:18:21Z", "creator": "ben.rubson@gmail.com", "creation_time": "2016-04-01T07:18:21Z", "is_private": false}, {"count": 1, "tags": [], "creator": "rbowen@apache.org", "text": "Can you give us a litte more to go on? Like maybe the rewrite rule set?", "id": 189904, "time": "2016-04-02T00:22:46Z", "bug_id": 59260, "creation_time": "2016-04-02T00:22:46Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "ben.rubson@gmail.com", "attachment_id": null, "id": 189948, "time": "2016-04-04T21:37:21Z", "bug_id": 59260, "creation_time": "2016-04-04T21:37:21Z", "is_private": false, "text": "Rich,\n\nOf course, for an easy test let's use the following rule :\nRewriteRule (.*) https://127.0.0.1:1234$1 [P]\n\nLocal server access log :\n\"GET /test/test%0Aunix?{} HTTP/1.1\"\n\"GET /test/test%0D%0Awin?{} HTTP/1.1\"\n\"GET /test/test%0Dmac?{} HTTP/1.1\"\n\nCorresponding remote server access log :\n\"GET /test/test?{} HTTP/1.1\"\n\"GET /test/test%0D?{} HTTP/1.1\"\n\"GET /test/test%0Dmac?{} HTTP/1.1\"\n\nAs you can see goal is to test %OA (\\n) and %OAD (\\r) characters behavior.\n\nThank you very much,\n\nBen"}, {"count": 3, "tags": [], "text": "They haven't been removed.  What you observe is that the server decodes them, then you capture them and use those in a substution. If you want to see what was sent before it was decoded, you have to look at %{THE_REQUEST} instead.", "attachment_id": null, "bug_id": 59260, "id": 189949, "time": "2016-04-04T21:39:23Z", "creator": "covener@gmail.com", "creation_time": "2016-04-04T21:39:23Z", "is_private": false}, {"count": 4, "tags": [], "text": "Hello Eric,\n\nyes you're right, playing with the following (crappy) rule shows what you says and makes my quick test to work :\nRewriteRule (.*\\n*.*) https://127.0.0.1:1234$1 [P]\n\nAnd playing with %{THE_REQUEST} shows it too.\n\nThank you very much Eric !\n\nI then mark this (non) \"bug\" as resolved.\n\nBen", "is_private": false, "id": 189950, "creator": "ben.rubson@gmail.com", "time": "2016-04-04T21:55:16Z", "bug_id": 59260, "creation_time": "2016-04-04T21:55:16Z", "attachment_id": null}]