[{"count": 0, "tags": [], "bug_id": 57567, "text": "The following JSR223 pre-processor, javascript code:\nvar now = new Date().toISOString();\n\nFail to run on OpenJDK 7 and return the following exception:\n2015/02/11 09:16:39 ERROR - jmeter.modifiers.JSR223PreProcessor: Problem in JSR223 script  javax.script.ScriptException: sun.org.mozilla.javascript.EcmaError: TypeError: Cannot find function toISOString in object Wed Feb 11 2015 09:16:39 GMT-0000 (UTC). (<Unknown source>#3) in <Unknown source> at line number 3\n        at com.sun.script.javascript.RhinoScriptEngine.eval(RhinoScriptEngine.java:224)\n        at com.sun.script.javascript.RhinoScriptEngine.eval(RhinoScriptEngine.java:240)\n        at javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:233)\n        at org.apache.jmeter.util.JSR223TestElement.processFileOrScript(JSR223TestElement.java:202)\n        at org.apache.jmeter.modifiers.JSR223PreProcessor.process(JSR223PreProcessor.java:42)\n        at org.apache.jmeter.threads.JMeterThread.runPreProcessors(JMeterThread.java:749)\n        at org.apache.jmeter.threads.JMeterThread.process_sampler(JMeterThread.java:414)\n        at org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:257)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: sun.org.mozilla.javascript.EcmaError: TypeError: Cannot find function toISOString in object Wed Feb 11 2015 09:16:39 GMT-0000 (UTC). (<Unknown source>#3)\n        at sun.org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3654)\n        at sun.org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3632)\n        at sun.org.mozilla.javascript.ScriptRuntime.typeError(ScriptRuntime.java:3660)\n        at sun.org.mozilla.javascript.ScriptRuntime.typeError2(ScriptRuntime.java:3679)\n        at sun.org.mozilla.javascript.ScriptRuntime.notFunctionError(ScriptRuntime.java:3743)\n        at sun.org.mozilla.javascript.ScriptRuntime.getPropFunctionAndThisHelper(ScriptRuntime.java:2247)\n        at sun.org.mozilla.javascript.ScriptRuntime.getPropFunctionAndThis(ScriptRuntime.java:2214)\n        at sun.org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:3143)\n        at sun.org.mozilla.javascript.Interpreter.interpret(Interpreter.java:2487)\n        at sun.org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:164)\n        at sun.org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:398)\n        at com.sun.script.javascript.RhinoScriptEngine$1.superDoTopCall(RhinoScriptEngine.java:116)\n        at com.sun.script.javascript.RhinoScriptEngine$1.doTopCall(RhinoScriptEngine.java:109)\n        at sun.org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3065)\n        at sun.org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:175)\n        at sun.org.mozilla.javascript.Context.evaluateReader(Context.java:1135)\n        at com.sun.script.javascript.RhinoScriptEngine.eval(RhinoScriptEngine.java:214)\n        ... 8 more\n\nReproduced on RHEL + OpenJDK 7 + JMeter 2.11", "id": 180948, "time": "2015-02-11T09:57:00Z", "creator": "shmulikk@gmail.com", "creation_time": "2015-02-11T09:57:00Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 180960, "time": "2015-02-11T15:52:20Z", "bug_id": 57567, "creation_time": "2015-02-11T15:52:20Z", "is_private": false, "text": "Are you sure that OpenJDK 7 has the toISOString() method?\n\nThis does not look like a JMeter issue, nor even a RhinoScript issue."}, {"count": 2, "tags": [], "bug_id": 57567, "attachment_id": null, "id": 181088, "creation_time": "2015-02-15T15:17:37Z", "time": "2015-02-15T15:17:37Z", "creator": "shmulikk@gmail.com", "text": "Hi Sebb,\nActually I have no clue.\n\nI thought that Rhino is implemented the same across different JVMs. Just to clarify - this method should come from the Javascript Date class and not from the Java Date class.\n\nI assume this is not a bug in JMeter itself, maybe would make sense to cancel it here.", "is_private": false}]