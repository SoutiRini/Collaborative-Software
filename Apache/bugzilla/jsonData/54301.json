[{"count": 0, "tags": [], "bug_id": 54301, "text": "Created attachment 29762\npatch\n\nThe problem appears in version 1.8.4 and in revision 1421898.  I\nattached a one-line patch that fixes it.\n\nIn method \"FTP.FTPDirectoryScanner.AntFTPFile.getFastRelativePath\",\nthe call \"absPath.indexOf(rootPath + remoteFileSep) == 0\" should be\n\"absPath.startsWith(rootPath + remoteFileSep)\".  The intent of the\ncall is more explicit with \"startsWith\" than with \"indexOf(..) == 0\".\n\"startsWith\" is also more efficient than \"indexOf\", because\n\"startsWith\" tries to match only the start of the string, while\n\"indexOf\" searches until the first occurrence.\n\nThere are many calls to \"String.startsWith\" in Ant (just like in the\nproposed patch), for example, in methods \"AntlibDefinition.setURI\",\n\"AntClassLoader.isParentFirst\", \"ComponentHelper.checkNamespace\",\n\"Execute.getVMSLogicals\", \"ExecTask.isPath\", \"Jar.writeIndexLikeList\",\n\"Definer.makeResourceFromURI\", \"PathTokenizer.nextToken\", etc.", "id": 164074, "time": "2012-12-14T21:03:40Z", "creator": "nistor1@illinois.edu", "creation_time": "2012-12-14T21:03:40Z", "is_private": false, "attachment_id": 29762}, {"count": 1, "tags": [], "bug_id": 54301, "text": "svn revision 1554813", "id": 172033, "time": "2014-01-02T14:39:56Z", "creator": "bodewig@apache.org", "creation_time": "2014-01-02T14:39:56Z", "is_private": false, "attachment_id": null}]