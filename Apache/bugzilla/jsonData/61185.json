[{"count": 0, "tags": [], "creator": "rstoyanchev@yahoo.com", "is_private": false, "text": "From the Servlet spec says:\n\n\"If the AsyncContext was initialized via the startAsync(ServletRequest, ServletResponse) and the request passed is an instance of HttpServletRequest , then the dispatch is to the URI returned by HttpServletRequest.getRequestURI()\"\n\nHowever AsyncContextImpl uses the servletPath:\nhttps://github.com/apache/tomcat/blob/9af8708d7ea3817df47f34146a6ff802d96980fa/java/org/apache/catalina/core/AsyncContextImpl.java#L156-L163\n\nSo given a URL with an encoded slash (and UDecoder.ALLOW_ENCODED_SLASH=true):\n/foo/vv%2F1234/add/2\n\nThe dispatch ends up going to:\n/foo/vv/1234/add/2", "id": 199188, "time": "2017-06-14T01:01:18Z", "bug_id": 61185, "creation_time": "2017-06-14T01:01:18Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "markt@apache.org", "text": "Thanks for the report.\n\nFixed in:\n- trunk for 9.0.0.M22 onwards\n- 8.5.x for 8.5.16 onwards\n- 8.0.x for 8.0.45 onwards\n- 7.0.x for 7.0.79 onwards", "id": 199263, "attachment_id": null, "bug_id": 61185, "creation_time": "2017-06-18T19:45:23Z", "time": "2017-06-18T19:45:23Z", "is_private": false}]