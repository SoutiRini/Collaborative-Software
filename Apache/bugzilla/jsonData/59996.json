[{"count": 0, "text": "When building tomcat-native on a 64-bit system and using a 64-bit openssl distribution that isn't the in the /usr directory tcnative always generates a configure script that references /lib instead of /lib64.\n\nTo reproduce:\n\n1) Build openssl locally (for example, /tmp/openssl) or you can just point to a random directory like /tmp/test that has a lib64 subdirectory (you don't need to build to reproduce)\n2) Run buildconf to generate `configure`\n3) Execute configure and observe output:\n\n$ ./configure --with-apr=/usr/bin/apr-1-config --with-java-home=$JAVA_HOME --with-ssl=/tmp/openssl --prefix=/dist | grep \"using openssl from\"\nchecking for OpenSSL library... using openssl from /tmp/openssl/lib and /tmp/openssl/include\n\nThis causes an invalid path to be configured into rpath for 64-bit machines and prevents 64-bit distributions of tcnative that install in openssl non-standard locations from working as expected (which is referencing the correct openssl distribution).", "creator": "csutherl@apache.org", "is_private": false, "id": 193074, "time": "2016-08-12T14:45:17Z", "bug_id": 59996, "creation_time": "2016-08-12T14:45:17Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 34143\npatch proposal\n\nThis patch adds a test for $use_openssl/lib64 and if it succeeds, updates the lib directory in use to be lib64 instead of lib. It defaults to lib if lib64 is not present.", "is_private": false, "bug_id": 59996, "id": 193075, "time": "2016-08-12T14:47:20Z", "creator": "csutherl@apache.org", "creation_time": "2016-08-12T14:47:20Z", "attachment_id": 34143}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 196557, "time": "2017-01-30T11:38:30Z", "bug_id": 59996, "creation_time": "2017-01-30T11:38:30Z", "text": "Fixed for 1.2.11 onwards."}]