[{"count": 0, "tags": [], "text": "When installing CAS support\n(http://www.yale.edu/tp/cas/cas-client-2.0.11.tar.gz) into the Apache source\ntree, one should execute ./buildconf from the Apache top directory.\n\nEfter doing so, and compiling, the compilation bails out with:\n\nMaking all in support\nmake[1]: Entering directory `/usr/local/src/httpd-2.0.53/support'\nmake[2]: Entering directory `/usr/local/src/httpd-2.0.53/support'\n/usr/local/src/httpd-2.0.53/srclib/apr/libtool --silent --mode=compile gcc  -g\n-O2 -pthread    -U__STR__ -D_THREAD_SAFE -D_USE_IRS\n-DAP_HAVE_DESIGNATED_INITIALIZER -I/opt/freeware/include -I/usr/local/include \n-I/usr/local/src/httpd-2.0.53/srclib/apr/include\n-I/usr/local/src/httpd-2.0.53/srclib/apr-util/include -I/usr/local/include\n-I/usr/local/src/httpd-2.0.53/srclib/apr-util/xml/expat/lib -I.\n-I/usr/local/src/httpd-2.0.53/os/unix\n-I/usr/local/src/httpd-2.0.53/server/mpm/prefork\n-I/usr/local/src/httpd-2.0.53/modules/http\n-I/usr/local/src/httpd-2.0.53/modules/filters\n-I/usr/local/src/httpd-2.0.53/modules/proxy\n-I/usr/local/src/httpd-2.0.53/include\n-I/usr/local/src/httpd-2.0.53/modules/generators\n-I/usr/local/src/httpd-2.0.53/server -I/opt/freeware/include/openssl\n-I/opt/freeware/include -I/usr/local/src/httpd-2.0.53/modules/dav/main\n-prefer-non-pic -static -c htpasswd.c && touch htpasswd.lo\n/usr/local/src/httpd-2.0.53/srclib/apr/libtool --silent --mode=link gcc  -g -O2\n-pthread    -U__STR__ -D_THREAD_SAFE -D_USE_IRS -DAP_HAVE_DESIGNATED_INITIALIZER\n-I/opt/freeware/include -I/usr/local/include \n-I/usr/local/src/httpd-2.0.53/srclib/apr/include\n-I/usr/local/src/httpd-2.0.53/srclib/apr-util/include -I/usr/local/include\n-I/usr/local/src/httpd-2.0.53/srclib/apr-util/xml/expat/lib -I.\n-I/usr/local/src/httpd-2.0.53/os/unix\n-I/usr/local/src/httpd-2.0.53/server/mpm/prefork\n-I/usr/local/src/httpd-2.0.53/modules/http\n-I/usr/local/src/httpd-2.0.53/modules/filters\n-I/usr/local/src/httpd-2.0.53/modules/proxy\n-I/usr/local/src/httpd-2.0.53/include\n-I/usr/local/src/httpd-2.0.53/modules/generators\n-I/usr/local/src/httpd-2.0.53/server -I/opt/freeware/include/openssl\n-I/opt/freeware/include -I/usr/local/src/httpd-2.0.53/modules/dav/main\n-export-dynamic -L/usr/local/openssl/lib -lssl -lcrypto -Wl,-brtl\n-L/usr/local/src/httpd-2.0.53/srclib/apr-util/xml/expat/lib  -L/opt/freeware/lib\n-L/usr/local/lib -o htpasswd  htpasswd.lo -Wl,-uXML_Parse  -lz -lssl -lcrypto\n/usr/local/src/httpd-2.0.53/srclib/pcre/libpcre.la ./libaprutil-0.la -lldap\n-llber /usr/local/src/httpd-2.0.53/srclib/apr-util/xml/expat/lib/libexpat.la\n-liconv /usr/local/src/httpd-2.0.53/srclib/apr/libapr-0.la -lm -lnsl -lpthread\nlibtool: link: cannot find the library `./libaprutil-0.la'\nmake[2]: *** [htpasswd] Error 1\nmake[2]: Leaving directory `/usr/local/src/httpd-2.0.53/support'\nmake[1]: *** [all-recursive] Error 1\nmake[1]: Leaving directory `/usr/local/src/httpd-2.0.53/support'\nmake: *** [all-recursive] Error 1\nroot@habia:/usr/local/src/httpd-2.0.53# \n\nThe error seems to stem from that the path to libaprutil-0.la in\nbuild/config_vars.mk is set to \"./libaprutil-0.la\":\n\nAP_LIBS = /usr/local/src/httpd-2.0.53/srclib/pcre/libpcre.la ./libaprutil-0.la\n-lldap -llber\n/usr/local/src/httpd-2.0.53/srclib/apr-util/xml/expat/lib/libexpat.la -liconv\n/usr/local/src/httpd-2.0.53/srclib/apr/libapr-0.la -lm -lnsl -lpthread\n\nIf one changes this to include the full path to libaprutil-0.la, the compilation\ngoes just fine:\n\nAP_LIBS = /usr/local/src/httpd-2.0.53/srclib/pcre/libpcre.la\n/usr/local/src/httpd-2.0.53/srclib/apr-util/libaprutil-0.la -lldap -llber\n/usr/local/src/httpd-2.0.53/srclib/apr-util/xml/expat/lib/libexpat.la -liconv \n/usr/local/src/httpd-2.0.53/srclib/apr/libapr-0.la -lm -lnsl -lpthread\n\nI'm using the following versions of software:\n\nroot@habia:/usr/local/src/httpd-2.0.53# libtool --version\nltmain.sh (GNU libtool) 1.5.14 (1.1220.2.195 2005/02/12 12:12:33)\n\nroot@habia:/usr/local/src/httpd-2.0.53# gcc --version\ngcc (GCC) 3.3.2\n\nroot@habia:/usr/local/src/httpd-2.0.53# autoconf --version\nautoconf (GNU Autoconf) 2.58\n\nroot@habia:/usr/local/src/httpd-2.0.53# automake --version\nautomake (GNU automake) 1.7.9\n\nAll this under AIX 5.2 ML5 on an IBM eServer pSeries p5 model 520.\n\nMy configure line is:\n\nCC=gcc CPPFLAGS=\"-I/opt/freeware/include -I/usr/local/include\"\nLDFLAGS=\"-L/opt/freeware/lib -L/usr/local/lib\" ./configure\n--enable-auth-ldap=shared --enable-cache=shared --enable-cas=shared\n--enable-charset-lite=shared --enable-deflate=shared --enable-disk-cache=shared\n--enable-file-cache=shared --enable-ldap=shared --enable-logio=shared\n--enable-mem-cache=shared --enable-mods-shared=all --enable-proxy=shared\n--enable-proxy-connect=shared --enable-proxy-ftp --enable-proxy-http\n--enable-ssl --prefix=/apache --sysconfdir=/apache/etc --with-ldap=yes\n--with-ldap-lib=/usr/local/lib --with-ldap-include=/usr/local/include\n--with-mpm=prefork\n\nBest regards,\nBj\u00f6rn", "is_private": false, "id": 71507, "creator": "Bjorn.Wiberg@uadm.uu.se", "time": "2005-02-25T10:33:40Z", "bug_id": 33741, "creation_time": "2005-02-25T10:33:40Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "id": 71540, "time": "2005-02-25T18:26:27Z", "bug_id": 33741, "creation_time": "2005-02-25T18:26:27Z", "is_private": false, "text": "autoconf 2.58 is buggy, use 2.57 or 2.59 and it should work fine."}]