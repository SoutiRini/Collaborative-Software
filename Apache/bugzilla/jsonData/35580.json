[{"count": 0, "tags": [], "bug_id": 35580, "text": "When signing a binary file generating a detached signature, the file stream\nreference to the file is not closed. This means that the file is blocked until\nthe JVM is terminated.\nThe problem can be solved by changing the lines in the bottom of\nXMLSignatureInput.java from\n\nbytes=JavaUtils.getBytesFromStream(_inputOctetStreamProxy);\n_inputOctetStreamProxy=new ByteArrayInputStream(bytes);\n\nto\n\nbytes=JavaUtils.getBytesFromStream(_inputOctetStreamProxy);\n_inputOctetStreamProxy.close(); // added line\n_inputOctetStreamProxy=new ByteArrayInputStream(bytes);\n\nThe bug can be reproduced by generating a detached signature of a file. After\ncalling the sign method a Thread.sleep(20000) should be called to keep the JVM\nrunning. Try to delete the file while the thread is sleeping.", "id": 76875, "time": "2005-07-01T12:11:07Z", "creator": "RunR6000@yahoo.com", "creation_time": "2005-07-01T12:11:07Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 35580, "attachment_id": 15576, "id": 76876, "time": "2005-07-01T12:17:50Z", "creator": "RunR6000@yahoo.com", "creation_time": "2005-07-01T12:17:50Z", "is_private": false, "text": "Created attachment 15576\nReproduce bug\n\nSource to reproduce the bug. Change file reference in line 125:\nsig.addDocument(<file reference>); to a file on your machine.\nWhen the file is signed try to delete it."}, {"count": 2, "attachment_id": null, "bug_id": 35580, "text": "Closing old bugs.", "id": 108385, "time": "2007-09-19T11:42:25Z", "creator": "sean.mullan@oracle.com", "creation_time": "2007-09-19T11:42:25Z", "tags": [], "is_private": false}]