[{"count": 0, "tags": [], "bug_id": 13506, "text": "I have an Apache server configured to proxy requests to another server on port \n80/test (e.g. http://saturn/test) to http://europa:8082.  The problem is that \nTomcat is inconsistently managing the requests.  When I initially log into my \ntomcat app, it can find a few pages but not all of them.  Then after \n(literally) clicking a few links, the missing pages all of a sudden begin to \nappear.  Once it works, everything is fine, until I close the session, then the \nproblem reappears. There are no errors in either the Apache or Tomcat logs.   \nI've tried both Apache 1.3 and 2.0 and problem is consistent with both.. \nleaving me to believe it is isolated to Tomcat, also Tomcat not proxied, my app \nworks fine.\n\nMy hypothesis is that the proxy name is not always visible.  It seems that when \nit doesn't work, the server name is not attached to the URL.\n\nSupporting information:\nPort 8082 is configured in my server.xml file as follows:\n   <Connector className=\"org.apache.coyote.tomcat4.CoyoteConnector\" \n               port=\"8082\" minProcessors=\"5\" maxProcessors=\"75\"\n               enableLookups=\"true\"\n               acceptCount=\"10\" debug=\"9\" connectionTimeout=\"20000\"\n               proxyPort=\"80\" \n\t       proxyName=\"saturn/test\"\n\t       useURIValidationHack=\"false\" />\n\nI have Apache configured to proxy, exactly as the Tomcat documentation \nspecifies, that is:\nProxyPass        /test   http://europa:8082\nProxyPassReverse /test   http://europa:8082\n\nI'm running in a Windows 2000/NT environment.\n\nI have not been able to ascertain any additional information.", "id": 24310, "time": "2002-10-10T19:07:15Z", "creator": "thoth@actaview.com", "creation_time": "2002-10-10T19:07:15Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 13506, "is_private": false, "text": "Your proxy settings are incorrect. proxyName is intended to hold a value to be \nreturned by 'request.getServerName()'.You have:\nproxyPort=\"80\" \nproxyName=\"saturn/test\"\n\nbut 'saturn/test' is not a valid hostname, so the behavior resulting from \nputting that in there is unpredictable. You probably meant:\nproxyPort=\"80\" \nproxyName=\"saturn\"\n\nCould you try with these settings?\n", "id": 35327, "time": "2003-04-16T14:59:27Z", "creator": "Brian.Ewins@btinternet.com", "creation_time": "2003-04-16T14:59:27Z", "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "funkman@joedog.org", "is_private": false, "id": 42188, "time": "2003-08-05T20:28:06Z", "bug_id": 13506, "creation_time": "2003-08-05T20:28:06Z", "tags": [], "text": "Based on comments from  Bazza  (and the large amount of time passed) - resolving\nbug as works for me.\n\nIf this is still an issue, please confirm that issue is still present with 4.1.27."}]