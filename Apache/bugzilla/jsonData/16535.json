[{"count": 0, "tags": [], "bug_id": 16535, "attachment_id": null, "id": 30247, "time": "2003-01-29T10:22:49Z", "creator": "erictankok@yahoo.com.sg", "creation_time": "2003-01-29T10:22:49Z", "is_private": false, "text": "When using the JSTL (ver 1.0.2) fmt taglib with tomcat 4.1.2 (the tomcat that\ncomes with Java Web Services DevKit), everything works nicely. However, when I\nswitched to tomcat 4.1.18, only the very first resource message is displayed\ncorrectly while subsequent calls to fmt:message shows ????key2????.\n\nMy browser is Netscape 7.0.1.\n\nMy code segment is as follows:\n\n<html>\n<title>Test JSP</title>\n\n<%@ taglib uri=\"/jstl-fmt\" prefix=\"fmt\" %>\n\n<fmt:bundle basename=\"resources.DisplayMessages\">\n  <fmt:message key=\"key1\"/>\n  <fmt:message key=\"key2\"/>\n  <fmt:message key=\"key3\"/>\n</fmt:bundle>\n\n</html>\n\nOn tomcat 4.1.2, output is:\nvalue1\nvalue2\nvalue3\n\nOn tomcat 4.1.18, output is:\nvalue1\n????key2????\n????key3????\n\nIf I do another request to this jsp page, on tomcat 4.1.18, all output becomes\n????key????.\n\nI'm using the same war file for both tomcat versions and the resource file,\nDisplayMessages.properties, is located in the WEB-INF/classes/resources directory."}, {"count": 1, "tags": [], "creator": "pierre.delisle@sun.com", "text": "I tested with JSTL 1.0.2/Tomcat 4.1.18, and it worked for me.\nIf you still have a problem after checking your setup,\ncould you attach the simplest war possible that \ntriggers the problem, and I'll test with that.", "id": 30376, "time": "2003-01-30T20:27:04Z", "bug_id": 16535, "creation_time": "2003-01-30T20:27:04Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "Created attachment 4707\nwar file that reproduces the jstl 1.0.2 fmt resourcing issue with tomcat 4.1.18 (case 16535)", "attachment_id": 4707, "id": 30612, "creator": "erictankok@yahoo.com.sg", "time": "2003-02-04T04:14:44Z", "bug_id": 16535, "creation_time": "2003-02-04T04:14:44Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 16535, "attachment_id": null, "id": 30613, "time": "2003-02-04T04:26:25Z", "creator": "erictankok@yahoo.com.sg", "creation_time": "2003-02-04T04:26:25Z", "is_private": false, "text": "Attached a simple war file that reproduces this problem.\n\nAfter deploying, use http://host:port/jstlfmttest/testjsp to access the test case.\n\nI am using tomcat 4.1.18 right after installation without any changes to the\nconfiguration/setup.\n\nNote:\n=====\nIf I switched to using \n\n<fmt:setBundle basename=\"resources.DisplayMessages\"/> \n\ninstead of \n\n<fmt:bundle basename=\"resources.DisplayMessages\" prefix=\"test.\">\n\n,I can get the jsp to work for both tomcat 4.1.2 and 4.1.18.\n\n\n\n \n\n\n\n"}, {"count": 4, "tags": [], "creator": "pierre.delisle@sun.com", "attachment_id": null, "text": "Thanks for the attachment Eric. Indeed, I could reproduce the bug.\nThe good news though is that this bug has already been taken care of\nwhen we fixed bug 14695. If you use the nightly build of JSTL, everything\nshould work fine.", "id": 30710, "time": "2003-02-05T00:52:04Z", "bug_id": 16535, "creation_time": "2003-02-05T00:52:04Z", "is_private": false}]