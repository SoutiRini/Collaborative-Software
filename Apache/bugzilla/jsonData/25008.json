[{"count": 0, "tags": [], "text": "The release notes say:\n\n> By default, Unix symlinks will not work when used in a web application\n> to link resources located outside the web application root directory.\n\n> This behavior is optional, and the \"allowLinking\" flag may be used\n> to disable the check.\n\nThis left me wondering where to set that flag.  I propose the release notes\nshould be more specific about this.\n\n\nFor others like me: \n\nPersonally, I found some hints on web pages outside the Jakarta side.\nNow I have removed the commenting around the ROOT stuff in my\n$CATALINA_BASE/conf/server.xml.  The pertinent part of that file now reads:\n\n\n   <!-- Tomcat Root Context -->\n     <Context path=\"\" docBase=\"ROOT\" debug=\"0\">\n       <Resources\n         className=\"org.apache.naming.resources.FileDirContext\"\n         allowLinking=\"true\"\n       />\n     </Context>\n\nThis at least allows me to read the Tomcat documentation in my \nCATALINA_BASE installation, which is a farm of symbolic links to the\nCATALINA_HOME directory.\n\n\nFor the record: This bug refers to\nhttp://www.apache.org/dist/jakarta/tomcat-5/v5.0.15-alpha/RELEASE-NOTES\nand jakarta-tomcat-5.0.14/RELEASE-NOTES from jakarta-tomcat-5.0.14.tar.gz.", "attachment_id": null, "id": 48143, "creator": "andreas.krueger@famsik.de", "time": "2003-11-26T10:32:13Z", "bug_id": 25008, "creation_time": "2003-11-26T10:32:13Z", "is_private": false}, {"count": 1, "tags": [], "creator": "andreas.krueger@famsik.de", "attachment_id": null, "text": "For the likes of me:\n\nIt is not enough to specify this just for the ROOT context, the\nsame <Resources>... stuff needs to be present in *every* context\nfor which you'd like symbolic links to work.\n\nAs far as I know, you need to mention those <Context>s for which you\nwant symbolic links in your server.xml, one at a time.\n\nE.g.:\n\n\n   <Context path=\"/tomcat-docs\" docBase=\"tomcat-docs\" debug=\"1\">\n     <Resources\n       className=\"org.apache.naming.resources.FileDirContext\"\n       allowLinking=\"true\"\n     />\n   </Context>\n\n   <Context path=\"/jsp-examples\" docBase=\"jsp-examples\" debug=\"1\">\n     <Resources\n       className=\"org.apache.naming.resources.FileDirContext\"\n       allowLinking=\"true\"\n     />\n   </Context>\n\n\nIn other words, appearently you cannot automatically deploy\nanything that needs symbolic links by just placing it in webapps/ .\n\n\nRelated bugs:\n\nBug 25010, symbolic links should be supported through <DefaultContext>,\nwhich would give us symbolic links _and_ autodeployment.\n\nBug 25011, this flag should be documented for <Resources>.\n", "id": 48148, "time": "2003-11-26T11:56:13Z", "bug_id": 25008, "creation_time": "2003-11-26T11:56:13Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 25008, "is_private": false, "id": 48181, "attachment_id": null, "creator": "remm@apache.org", "creation_time": "2003-11-26T19:34:34Z", "time": "2003-11-26T19:34:34Z", "text": "Read the docs. Please do not reopen this bug."}, {"count": 3, "tags": [], "bug_id": 25008, "attachment_id": null, "id": 48470, "time": "2003-12-04T10:54:28Z", "creator": "andreas.krueger@famsik.de", "creation_time": "2003-12-04T10:54:28Z", "is_private": false, "text": "See also\nhttp://bugs.debian.org/cgi-bin/bugreport.cgi?bug=182566\n"}]