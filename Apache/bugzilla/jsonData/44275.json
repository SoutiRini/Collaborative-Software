[{"attachment_id": null, "tags": [], "bug_id": 44275, "text": "The Netbeans IDE (5/6 with JSF projects) constructs Path names in web projects\nwhich are blocked by the isapi_redirector. This is *not* changeable in Netbeans\n(verified in the Netbeans List).\n    \nRunning some tests we discovered  that allmost all Javascript was \nfiltered out and we got mostly blank pages. The Reason was that the \nisapi_redirector filters out every access to *any* URI which *contains* \nMETA-INF / WEB-INF ANYWERE in the PATH.\n\nExample : javascript   $CONTEXT/theme/META-INF/json/json.jsf\n[ typical *.js path extracted from Browser: source ..]\n \nThis is NOT the proteced META-INF config directory - its just a Path which \naccidential contains META-INF !!!", "count": 0, "id": 113038, "time": "2008-01-21T07:07:52Z", "creator": "hburde@merentis.com", "creation_time": "2008-01-21T07:07:52Z", "is_private": false}, {"count": 1, "tags": [], "text": "Part of the reason the duplicate is WONTFIX since there is no way for the\nisapi_redirector to differentiate between /foo/WEB-INF when foo is a context and\nwhen foo is just a sub-directory of the ROOT web application.\n\nWhen this has been raised in the past, AFAIR the general consensus was to err on\nthe side of safety and risk blocking a few requests that are valid.\n\nIf you have a patch for this issue that you believe would be safe, please feel\nfree to re-open this issue, attach and attach your patch for review.\n\n*** This bug has been marked as a duplicate of 39614 ***", "attachment_id": null, "bug_id": 44275, "id": 113044, "time": "2008-01-21T13:24:17Z", "creator": "markt@apache.org", "creation_time": "2008-01-21T13:24:17Z", "is_private": false}, {"count": 2, "tags": [], "creator": "hburde@merentis.com", "text": "HI;\n\nWith Netbeans 6 and maybe 5.x this is very serious. Every JSF Webapplication\nwont work when run over the isapi_redirector. I would suggest to either enhence\nthe config to explizit List those pathes or provide a switch to deaktivate this\nfilter. ", "id": 113069, "time": "2008-01-23T00:24:40Z", "bug_id": 44275, "creation_time": "2008-01-23T00:24:40Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "darryl@darrylmiles.org", "is_private": false, "text": "Why does isapi_redirector filter it ?  I thought TC itself would receive the\nrequest, calculate the meaning of the request is referencing a toplevel path\nwithin a context and return a 403/404/whatever.\n\nisapi_redirect surely can be transparent in this regard ?", "id": 113098, "time": "2008-01-23T21:41:02Z", "bug_id": 44275, "creation_time": "2008-01-23T21:41:02Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 44275, "attachment_id": null, "text": "(In reply to comment #3)\n> Why does isapi_redirector filter it ?  I thought TC itself would receive the\n> request, calculate the meaning of the request is referencing a toplevel path\n> within a context and return a 403/404/whatever.\n> \n> isapi_redirect surely can be transparent in this regard ?\n\nSee Bug ID39614 for a explanation. The rediretor does some (redundant)\nadditional filtering independent of tomcat (jk_isapi_plugin.c / uri_is_web_inf :\nlooks for uri *containing* meta-inf / web-inf). ", "id": 113099, "time": "2008-01-23T23:57:17Z", "creator": "hburde@merentis.com", "creation_time": "2008-01-23T23:57:17Z", "is_private": false}, {"count": 5, "tags": [], "creator": "darryl@darrylmiles.org", "text": "What \"explanation\" ?  Not one that I can see.  TC already has this check in\nplace so whats that reason again to not pass it through ?", "id": 113100, "time": "2008-01-24T02:55:13Z", "bug_id": 44275, "creation_time": "2008-01-24T02:55:13Z", "is_private": false, "attachment_id": null}, {"count": 6, "text": "(In reply to comment #5)\n> What \"explanation\" ?  Not one that I can see.  TC already has this check in\n> place so whats that reason again to not pass it through ?\n\nDunno - i reported this as a Bug for that reason (useless check). The\n'explanation' is something i got as reply when i reported the bug (not fixed\nbecause ..).", "creator": "hburde@merentis.com", "is_private": false, "id": 113109, "time": "2008-01-24T06:38:29Z", "bug_id": 44275, "creation_time": "2008-01-24T06:38:29Z", "tags": [], "attachment_id": null}, {"count": 7, "tags": [], "text": "Maybe someone should remove the check like mtruk suggests in\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=39614#c1 and actually provide\na test case that proves the resulting system violates the servlet spec.\n\nisapi_redirector is a \"connector\"\nApache Tomcat is a \"servlet container\"\n\nSince it is the servlet container specification which is being cited as the\nreason for the check and it is my believe that no matter what connector the\ninbound HTTP requests come in via (Coyete, AJP/mod_jk/isapi_redirector) that\nApache Tomcat will police the situation and return a 404 as the servlet\nspecification requires.\n", "attachment_id": null, "bug_id": 44275, "id": 113158, "time": "2008-01-26T09:53:57Z", "creator": "darryl@darrylmiles.org", "creation_time": "2008-01-26T09:53:57Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 44275, "attachment_id": null, "text": "To repeat what I said earlier in this bug;\n\nIf you have a patch for this issue that you believe would be safe, please feel\nfree to re-open this issue and attach your patch for review.", "id": 113159, "time": "2008-01-26T10:08:15Z", "creator": "markt@apache.org", "creation_time": "2008-01-26T10:08:15Z", "is_private": false}]