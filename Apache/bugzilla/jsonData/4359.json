[{"count": 0, "tags": [], "creator": "simon_g_brown@yahoo.com", "attachment_id": null, "text": "According to the JSP 1.2 spec (10.2.2 - Methods section), the doInitBody() \nmethod is only called when doStartTag returns EVAL_BODY_BUFFERED. In the \ngenerated code, the call to doInitBody() is called outside of the block that \npushes a new BodyContent onto the stack and subsequently passes this to the tag \nhandler with the setBodyContent method.\n\nExample of the generated code is as follows.\n\n                            if (_jspx_eval_xxx_filter_0 != \njavax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {\n                              out = pageContext.pushBody();\n                              _jspx_th_xxx_filter_0.setBodyContent\n((javax.servlet.jsp.tagext.BodyContent) out);\n                          }\n                          _jspx_th_xxx_filter_0.doInitBody();\n\nThe doInitBody() call needs to put placed wihtin the if block so that it is \nonly called when the body content is set on the tag handler.\n\nThanks\nSimon", "id": 7034, "time": "2001-10-23T02:09:42Z", "bug_id": 4359, "creation_time": "2001-10-23T02:09:42Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 4359, "attachment_id": null, "is_private": false, "id": 7123, "time": "2001-10-24T17:11:48Z", "creator": "kin-man.chung@sun.com", "creation_time": "2001-10-24T17:11:48Z", "text": "This bug is fixed with the head branch of Tomcat 4.0, and you should verify with\nthe one from the nightly build.  I'll apply the fix to tomca_40_branch so it'll\nget int 4.0.2.  Thanks."}]