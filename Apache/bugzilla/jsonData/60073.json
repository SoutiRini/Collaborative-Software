[{"count": 0, "tags": [], "text": "We have setup Apache with mod_proxy, requests to http://10.10.1.1/application should be internal proxied/forwarded to http://10.10.2.1:57211/app\n\nProxyRequests Off\nProxyRemote * http://10.10.1.2:8084\n\nProxyPass /application  http://10.10.2.1:57211/app\nProxyPassReverse /application  http://10.10.2.1:57211/app\n\n\nSpecial use case is, that the requests have to be forwareded through Firewall and squid-proxy. \n\n-> 10.10.1.1/application (Apache) -> Firewall -> 10.10.1.2 (squid Proxy) -> 10.10.2.1:57211/app (target Apache)\n\n\nWe now have one error Situation:\n\nif there is an error 503 (backend error?) i see the following lines in error_log\n\n[Wed Aug 31 06:13:43 2016] [error] [client 10.10.1.50] proxy: Error reading from remote server returned by /application\n[Wed Aug 31 06:16:52 2016] [error] (110)Connection timed out: proxy: HTTP: attempt to connect to 10.10.2.1:57211 failed\n[Wed Aug 31 06:16:52 2016] [error] ap_proxy_connect_backend disabling worker for (10.10.2.1)\n\n\nthe Problem now is: if there is an error 503 my Apache seems to try to directly Access the backend. in this case i get an error_log in the Firewall and the request is dropped.\n\nhow can i prevent mod_proxy with proxyremote directive to not in any case try to connect direct. it should allways try to use the squid-proxy. even if there is a backend or (squid-)Proxy error.\n\nMarkus", "is_private": false, "id": 193430, "creator": "markus.rietzler@fv.nrw.de", "time": "2016-08-31T13:54:42Z", "bug_id": 60073, "creation_time": "2016-08-31T13:54:42Z", "attachment_id": null}]