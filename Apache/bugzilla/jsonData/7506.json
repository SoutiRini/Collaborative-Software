[{"count": 0, "tags": [], "bug_id": 7506, "attachment_id": null, "text": "This JSP page:\n<%@ page import=\"java.net.*,java.io.*\"\n\tbuffer=\"none\" \n\terrorPage=\"\" \n\tisErrorPage=\"false\"\n\tlanguage=\"java\"\n\tsession=\"false\"\n\tcontentType=\"text/html;charset=ISO-8859-1\"\n%>\n\n<%//@ include file=\"\" %>\n<%//@ taglib uri=\"\" prefix=\"\"%>\n\n<%! //Page Declarations (member variables and functions)\n%>\n\nHi.... calling ProcessorServlet.....\n\n<% HttpURLConnection Processor = (HttpURLConnection)(new URL\n( \"http://localhost/playground/ProcessorServlet\" ) ).openConnection();\nProcessor.setRequestMethod( \"POST\" );\nProcessor.setDoOutput( true );\nProcessor.setDoInput( true );\n\n\tString messageToSend = new String( \"sent to ProcessorServlet\" );\n\n\tOutputStreamWriter Out = new OutputStreamWriter( \nProcessor.getOutputStream() );\n\t\n\tOut.write( messageToSend );\n\tOut.flush();\n\tOut.close();\n\n\n\tBufferedReader br = new BufferedReader( new InputStreamReader(  \nProcessor.getInputStream() ) );\n\n\tString line = null;\n\n\twhile ( (line = br.readLine()) != null){\n\t\tout.println(\"line: \" + line);\n\t}\n\t\n%>\n\ntalking to this Servlet code:\nimport javax.servlet.*;\nimport javax.servlet.http.*;\nimport java.io.*;\n\npublic class ProcessorServlet extends HttpServlet\n{\n\n\tprivate static final int bufferSize = 512;\n\npublic void doPost(HttpServletRequest req,\n                   HttpServletResponse resp) \n           throws ServletException, IOException\n{\n\t\tServletInputStream in = req.getInputStream();\n\n\t\tbyte[] b = new byte[100]; \n  \n\t\twhile( in.read(b) > 0) {\n\t\t\tSystem.out.write(b);\n\t\t\tSystem.out.flush(); \n\t\t} \n\t}\n\n}\n\nfails to produce any ouput to System.out under tomcat4.0.3, but works fine \nunder tomcat3.3a. And I can verify that the JSP page is producing data in the \nbody of the HTTP1.1 request, and it does work as anticipated under 3.3a.", "id": 12374, "time": "2002-03-27T06:00:23Z", "creator": "nmaynard@neomation.com", "creation_time": "2002-03-27T06:00:23Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 7506, "attachment_id": null, "id": 12401, "time": "2002-03-27T16:31:26Z", "creator": "remm@apache.org", "creation_time": "2002-03-27T16:31:26Z", "is_private": false, "text": "I strongly doubt it is a bug in Tomcat. After all, if it was, no POST method \nshould be working. It could be an issue with the client from the JDK; maybe \nupgrading to a newer JDK could help."}, {"count": 2, "tags": [], "creator": "nmaynard@neomation.com", "text": "The JVM I am using is:\n\nMicrosoft Windows 2000 [Version 5.00.2195]\n(C) Copyright 1985-2000 Microsoft Corp.\n\nC:\\>java -version\njava version \"1.4.0\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.0-b92)\nJava HotSpot(TM) Client VM (build 1.4.0-b92, mixed mode)\n\nIt is the latest JVM as far as I know..... is there something else I can try?", "id": 12451, "time": "2002-03-28T11:21:43Z", "bug_id": 7506, "creation_time": "2002-03-28T11:21:43Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "medthomas@ntlworld.com", "text": "I have just tried your example with the latest version of tomcat 4 (built from \nCVS) and I cannot reproduce this problem. This was with jdk 1.4.1 on Windows \nXP.", "id": 48638, "time": "2003-12-07T19:17:52Z", "bug_id": 7506, "creation_time": "2003-12-07T19:17:52Z", "is_private": false, "attachment_id": null}]