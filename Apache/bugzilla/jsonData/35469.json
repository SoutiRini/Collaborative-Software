[{"count": 0, "tags": [], "bug_id": 35469, "attachment_id": null, "text": "This might be related to Bug# 34520\nI was able to build Apache 2.0.54 with mod_ssl on Solais 9 using OpenSSL 0.9.7g.\nHTTPD will start with any clear text key created using:\n\nopenssl genrsa -out clr.rsa 1024\n or\nopenssl pkcs8 -nocrypt -topk8 -in clr.rsa -out clr.pkcs8\n\nAlso starts fine, prompting for pass phrase, if key was created with:\n\nopenssl rsa -in clr.rsa -des -out enc.rsa\n\nHowever, it will not accept the pass phrase for any key created using:\n\nopenssl pkcs8 -v1 PBE-MD5-DES -in clr.rsa -topk8 -out enc.des.v1.pkcs8\n or\nopenssl pkcs8 -v2 des -in clr.rsa -topk8 -out enc.des.v2.pkcs8\n or\nopenssl pkcs8 -v2 des3 -in clr.rsa -topk8 -out enc.des3.v2.pkcs8\n\nAll of the created keys are readable and results identical when the command:\n\nopenssl rsa -in <keyfile> -noout -text\n\nis issued against them.\n\nOne of the core OpenSSL developers suggests that:\n\n\"They may be missing some calls to add the PBE algorithms. This is automatic if\nyou call OpenSSL_add_all_algorithms() but needs to be handled if algorithms\nare being added manually.\"\n\nAdditional information:\nmod_jk and mpm_worker are also built-in. When started with a clear text key or a\nencrypted key in the \"old\" format, the server runs flawlessly.", "id": 76610, "time": "2005-06-22T17:59:28Z", "creator": "nickeg@northridge.com", "creation_time": "2005-06-22T17:59:28Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 35469, "text": "Created attachment 15793\npossible fix\n\nLooks like the right solution.\tCan you try this patch?", "id": 77710, "time": "2005-07-27T12:14:20Z", "creator": "jorton@redhat.com", "creation_time": "2005-07-27T12:14:20Z", "is_private": false, "attachment_id": 15793}, {"count": 2, "tags": [], "bug_id": 35469, "attachment_id": null, "id": 77836, "time": "2005-07-29T20:47:41Z", "creator": "nickeg@northridge.com", "creation_time": "2005-07-29T20:47:41Z", "is_private": false, "text": "Apologies for the delay; I was unable to install your patch, per se. However, I\nmade this change:\n\n$ diff -u modules/ssl/ssl_engine_init.orig modules/ssl/ssl_engine_init.c   \n--- modules/ssl/ssl_engine_init.orig    Fri Jul 29 12:17:39 2005\n+++ modules/ssl/ssl_engine_init.c       Fri Jul 29 12:17:56 2005\n@@ -83,6 +83,7 @@\n \n     SSL_load_error_strings();\n     SSL_library_init();\n+    OpenSSL_add_all_algorithms();\n }\n \n /*\n\nAnd that fixes the problem. So, assuming that my inability to apply the patch is\nstrictly user error (most likely case). Then I would consider this resolved."}, {"count": 3, "tags": [], "creator": "jorton@redhat.com", "text": "OK thanks, applied on the trunk. ", "id": 78145, "time": "2005-08-05T14:04:36Z", "bug_id": 35469, "creation_time": "2005-08-05T14:04:36Z", "is_private": false, "attachment_id": null}]