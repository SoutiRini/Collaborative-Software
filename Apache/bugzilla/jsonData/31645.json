[{"count": 0, "tags": [], "bug_id": 31645, "text": "Just recently, my tomcat was hanging during compilation.\n\nInterestingly, albeit not having done any compiler-related configuration, it\nchose to start the compiler via the Runtime which is quite costly in terms of\nmemory and possibly also speed.\n\nWouldn't it be possible to have\norg.apache.tools.ant.taskdefs.compilers.CompilerAdapterFactory not get \nString compilerType = \"extJavac\" for the mainstream JVMs such as sun and ibm, etc. ?\n\nthe org.apache.jasper.EmbeddedServletOptions(config, context) seems to be set \nthis.compiler = config.getInitParameter(\"compiler\");\nthis way instructed by org.apache.jasper.servlet.JspServlet .\n\nAny thoughts?\n\n3XMTHREADINFO      \"http-8443-Processor25\" (TID:10068940, sys_thread_t:89CD5B0,\nstate:CW, native ID:4408EB30) prio=5\n4XESTACKTRACE          at java.lang.Runtime.execInternal(Native Method)\n4XESTACKTRACE          at java.lang.Runtime.exec(Runtime.java:602)\n4XESTACKTRACE          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)\n4XESTACKTRACE          at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n4XESTACKTRACE          at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n4XESTACKTRACE          at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java(Compiled\nCode))\n4XESTACKTRACE          at java.lang.reflect.Method.invoke(Method.java(Compiled\nCode))\n4XESTACKTRACE          at\norg.apache.tools.ant.taskdefs.Execute$Java13CommandLauncher.exec(Execute.java:808)\n4XESTACKTRACE          at\norg.apache.tools.ant.taskdefs.Execute.launch(Execute.java:445)\n4XESTACKTRACE          at\norg.apache.tools.ant.taskdefs.Execute.execute(Execute.java:459)\n4XESTACKTRACE          at\norg.apache.tools.ant.taskdefs.compilers.DefaultCompilerAdapter.executeExternalCompile(DefaultCompilerAdapter.java:449)\n4XESTACKTRACE          at\norg.apache.tools.ant.taskdefs.compilers.JavacExternal.execute(JavacExternal.java:44)\n4XESTACKTRACE          at\norg.apache.tools.ant.taskdefs.Javac.compile(Javac.java:942)\n4XESTACKTRACE          at\norg.apache.tools.ant.taskdefs.Javac.execute(Javac.java:764)\n4XESTACKTRACE          at\norg.apache.jasper.compiler.Compiler.generateClass(Compiler.java:379)\n4XESTACKTRACE          at\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:472)\n4XESTACKTRACE          at\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:451)\n4XESTACKTRACE          at\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:439)\n4XESTACKTRACE          at\norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:511)\n4XESTACKTRACE          at\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:295)\n4XESTACKTRACE          at\norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)\n4XESTACKTRACE          at\norg.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)\n4XESTACKTRACE          at\njavax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n4XESTACKTRACE          at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)\n4XESTACKTRACE          at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n4XESTACKTRACE          at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n4XESTACKTRACE          at\norg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:535)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n4XESTACKTRACE          at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n4XESTACKTRACE          at\norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)\n4XESTACKTRACE          at\norg.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)\n4XESTACKTRACE          at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:799)\n4XESTACKTRACE          at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:705)\n4XESTACKTRACE          at\norg.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:577)\n4XESTACKTRACE          at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)\n4XESTACKTRACE          at java.lang.Thread.run(Thread.java:567)", "id": 64933, "time": "2004-10-11T15:07:15Z", "creator": "hauser@acm.org", "creation_time": "2004-10-11T15:07:15Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 31645, "text": "I have one thought at this point: please don't use Bugzilla as a discussion \nforum.  Use the mailing list(s) to discuss possible enhancements, problems, \nissues, workarounds, etc.  If you have a concrete bug (reproducible, etc.), \nopen a Bugzilla issue.  If you have a concrete enhancement, i.e. a .diff patch \nto current code, open a Bugzilla enhancement issue.  But don't just open \nBugzilla issues asking for thoughts.  Thanks ;)", "id": 65143, "time": "2004-10-14T17:37:40Z", "creator": "yoavs@computer.org", "creation_time": "2004-10-14T17:37:40Z", "tags": [], "is_private": false}]