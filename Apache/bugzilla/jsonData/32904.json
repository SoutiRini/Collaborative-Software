[{"count": 0, "tags": [], "bug_id": 32904, "attachment_id": null, "id": 69118, "time": "2004-12-31T16:03:36Z", "creator": "jack@i90.com", "creation_time": "2004-12-31T16:03:36Z", "is_private": false, "text": "<i18n:formatDate /> does not handle Locale changes properly in Tomcat/5.0.16 on\nMac OS X 10.3.6 because the Locale is cached (actually, the DateFormat is\ncached, but it ends up causing the same problem). \n\nThe problem is in i18n.FormatDateTag, right here: \n\n/** If no {@link java.text.DateFormat} is configured then use a \n      * {@link SimpleDateFormat} instance if a pattern is configured else\n      * use the default DateFormat for the {@link java.util.Locale}\n      */\n    public Format getFormat() {\n        /* if ( format == null ) { */\n            String pattern = getPattern();\n            if ( pattern != null ) {\n                format = getPatternFormat( pattern );\n            }\n            if ( pattern == null ) {\n                format = getDateFormat();\n            }\n       /* } */\n        return format;\n    }\n\nWhen tags are pooled(?) the variable 'format' gets set the first time the tag is\nused in the container, and can then not be changed. The fix is to do what I did\nabove - that is, take out the check for 'format' being null and simply redo the\nformatting every time. \n\nNote that <i18n:formatDateTime /> works fine.  I used both tags on the same page\nand switched my locale back and forth.  <i18n:formatDateTime /> responds to the\nchange in Locale, but <i18n:formatDate /> does not.  My fix (above) solves this\nproblem."}, {"count": 1, "tags": [], "bug_id": 32904, "attachment_id": null, "text": "JSTL replaced the i18n taglib, so this won't be worked on.", "id": 128698, "time": "2009-07-10T00:36:36Z", "creator": "bayard@apache.org", "creation_time": "2009-07-10T00:36:36Z", "is_private": false}]