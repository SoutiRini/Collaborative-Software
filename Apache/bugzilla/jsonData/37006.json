[{"count": 0, "tags": [], "creator": "pthakur@apsc.com", "attachment_id": null, "text": "I am trying to compile Apache 2.0.54 under AIX 5.3 using gcc 3.3.2 and \ngetting \"pthread\" error (see below). I have tried different \"\u2013-with-mpm\" \noptions but same pthread error in all cases. I have read the recommendation at \nthe following links and tried their suggestions but still having problem:\n   http://www.apache.org/~trawick/\n   http://people.apache.org/~trawick/apache-2-on-aix.html\n\nI didn't run buildconf since I am compiling under AIX 5.3 and above links \ndidn't see a need for it.  \n\nThe hello.c example compiles okay.\n\nThe following required filesets are at version:\nbos.adt.base\t\t5.3.0.10\nbos.adt.include\t\t5.3.0.20\t\nbos.adt.lib\t\t5.3.0.20\nbos.adt.libm\t\t5.3.0.10\n\nLastly, I ran ./configure with option \"--disable-threads\" and then \"make\" \ncompiles okay.\n\nPlease let me know what else to check and how to go around fixing the \"pthread\" \nerror. Your help is greatly appreciated. \n\nBelow is the \"pthread\" warning from one of the several option sets that I tried:\n=========================================\n./configure \u2013-prefix=/u01/app/arcims/apache2 \u2013-with-mpm=worker --enable-so --\nwithout-berkeley-db 2>&1 | tee configure5.log\n\nconfigure Errors:\n----------------\nChecking for Threads...\nchecking pthread.h usability... no\nchecking pthread.h presence... yes\nconfigure: WARNING: pthread.h: present but cannot be compiled\nconfigure: WARNING: pthread.h: check for missing prerequisite headers?\nconfigure: WARNING: pthread.h: see the Autoconf documentation\nconfigure: WARNING: pthread.h: section \"Present But Cannot Be Compiled\"\nconfigure: WARNING: pthread.h: proceeding with the preprocessor's result\nconfigure: WARNING: pthread.h: in the future, the compiler will take precedence\nconfigure: WARNING:     ## ------------------------------------------ ##\nconfigure: WARNING:     ## Report this to the AC_PACKAGE_NAME lists.  ##\nconfigure: WARNING:     ## ------------------------------------------ ##\n\nmake errors:\n============\nMaking all in srclib\nMaking all in apr\nMaking all in strings\n\t/bin/sh /u01/app/arcims/source/apache2.0.54/httpd-\n2.0.54/srclib/apr/libtool --silent --mode=compile gcc -g -O2   -DHAVE_CONFIG_H -\nU__STR__ -D_USE_IRS  -D_THREAD_SAFE -I../include -I../include/arch/unix  -c \napr_cpystrn.c && touch apr_cpystrn.lo\n\t/bin/sh /u01/app/arcims/source/apache2.0.54/httpd-\n2.0.54/srclib/apr/libtool --silent --mode=compile gcc -g -O2   -DHAVE_CONFIG_H -\nU__STR__ -D_USE_IRS  -D_THREAD_SAFE -I../include -I../include/arch/unix  -c \napr_snprintf.c && touch apr_snprintf.lo\nIn file included from ../include/apr_portable.h:47,\n                 from apr_snprintf.c:23:\n/usr/include/pthread.h:582: error: parse error before '*' token\n/usr/include/pthread.h:585: error: parse error before '*' token\n/usr/include/pthread.h:589: error: parse error before '*' token\n/usr/include/pthread.h:592: error: parse error before '*' token\n\nmake: 1254-004 The error code from the last command is 1. Stop.\nmake: 1254-004 The error code from the last command is 1. Stop.\nmake: 1254-004 The error code from the last command is 1. Stop.", "id": 80970, "time": "2005-10-11T00:03:05Z", "bug_id": 37006, "creation_time": "2005-10-11T00:03:05Z", "is_private": false}, {"count": 1, "text": "\n  There's a new candidate in http://httpd.apache.org/dev/dist/ ... which\n  we hope will become the next release.  It contains some build fixes for\n  AIX, could you give it a whirl and report back?\n", "creator": "wrowe@apache.org", "is_private": false, "id": 80972, "time": "2005-10-11T01:07:19Z", "bug_id": 37006, "creation_time": "2005-10-11T01:07:19Z", "tags": [], "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 37006, "attachment_id": null, "text": "This is symptomatic of a bad gcc installation.  gcc's copy of selected system\nheader files were prepared for a different level of the OS, and a mismatch ensues.\n\nThere is some sort of fix-include procedure to rebuild gcc's copy of these\nsystem header files.  google for that or ask whomever you got the gcc build from.\n", "id": 80974, "time": "2005-10-11T01:25:53Z", "creator": "trawick@apache.org", "creation_time": "2005-10-11T01:25:53Z", "is_private": false}, {"count": 3, "tags": [], "text": "I tried the new version httpd-2.0.55 but still the same \"pthread.h\" errors and \nmake is failing.", "is_private": false, "bug_id": 37006, "id": 80975, "time": "2005-10-11T02:28:20Z", "creator": "pthakur@apsc.com", "creation_time": "2005-10-11T02:28:20Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 37006, "attachment_id": null, "is_private": false, "id": 85686, "time": "2006-02-10T18:25:07Z", "creator": "rens.groenewegen@xs4all.nl", "creation_time": "2006-02-10T18:25:07Z", "text": "not a bug.\n\ngcc version too old, get a GCC for aix 5.3  from \n\nhttp://www-03.ibm.com/servers/aix/products/aixos/linux/ezinstall.html\n\ninstall gcc, gcc plusplus, c++ libs and c++devel libs and \nthen the errors are gone.....\n\nrens"}]