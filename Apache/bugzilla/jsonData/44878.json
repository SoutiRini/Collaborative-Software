[{"count": 0, "tags": [], "bug_id": 44878, "attachment_id": null, "id": 115900, "time": "2008-04-25T14:20:03Z", "creator": "Tom.Donovan@acm.org", "creation_time": "2008-04-25T14:20:03Z", "is_private": false, "text": "Change 617890 (change 649114 for 2.2.x) causes problems for some Windows VC6 compilers.\n\nThe default VC6 compiler cannot convert unsigned 64-bit int's to float:\n \"error C2520: conversion from unsigned __int64 to double not implemented, use signed __int64\"\n\nIf the optional Microsoft \"Processor Pack\" is installed, this conversion works OK. \n\nUnfortunately, the Processor Pack is only available up to VC6-SP5, so those users who have installed VC6-SP6 are out of luck.\n\nSince a signed 64-bit int would allow up to 10^20 bytes, changing the totalread, totalbread, and totalposted variables to apr_int64_t instead of apr_uint64_t would allow all VC6 users to continue to compile support/ab.c.\n\nThere are no problems with later Microsoft compilers (VC7, VC8, VC9).  This is really a Microsoft VC6 compiler weakness, not an Apache bug - but since VC6 is the default compiler for apache.org builds this change would be helpful."}, {"count": 1, "tags": [], "bug_id": 44878, "attachment_id": null, "id": 115901, "time": "2008-04-25T14:38:51Z", "creator": "Tom.Donovan@acm.org", "creation_time": "2008-04-25T14:38:51Z", "is_private": false, "text": "(In reply to comment #0)\nTypo - The current unsigned 64-bit int allows up to approx 10^20 bytes.  Changing to apr_int64_t would reduce this to approx 10^19 bytes.  Still should be plenty for the foreseeable future. "}, {"count": 2, "tags": [], "creator": "fielding@apache.org", "attachment_id": null, "text": "I started work on this but found a dozen other truncation bugs\nand some incredibly inefficient code.  It will take a few days.\n", "id": 116397, "time": "2008-05-08T19:07:17Z", "bug_id": 44878, "creation_time": "2008-05-08T19:07:17Z", "is_private": false}, {"count": 3, "tags": [], "creator": "fielding@apache.org", "attachment_id": null, "text": "This should be fixed now by r655214 of trunk.\n", "id": 116453, "time": "2008-05-10T17:43:08Z", "bug_id": 44878, "creation_time": "2008-05-10T17:43:08Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 44878, "attachment_id": null, "id": 117058, "time": "2008-05-27T15:14:23Z", "creator": "rpluem@apache.org", "creation_time": "2008-05-27T15:14:23Z", "is_private": false, "text": "Backported to 2.2.x as r660576 (http://svn.apache.org/viewvc?rev=660576&view=rev)."}]