[{"count": 0, "tags": [], "bug_id": 7844, "attachment_id": null, "text": "I have this code ...\n\n<x:forEach select=\"$addressBook/*\"> \n   ADDRESS\n</x:forEach>\n\n... which produces this output ...\n\nADDRESS\n\n... for this XML file:\n\n<addressBook>\n   <address>\n      <firstName>Anna</firstName>\n      <lastName>Keeney</lastName>\n      <email>anna.keeney@worldlink.net</email>\n      <phone type=\"work\">716-873-9644</phone>\n      <phone type=\"home\">716-834-8772</phone>\n   </address>\n   <address>\n      <firstName>Ronald</firstName>\n      <lastName>Dunlap</lastName>\n      <email>ron.dunlap@worldlink.net</email>\n      <phone type=\"work\">716-873-9644</phone>\n      <phone type=\"home\">716-834-8772</phone>\n   </address>\n</addressBook>\n\nThe output, as far as I can tell, should be ...\n\nADDRESS\nADDRESS\n\n... because there are 2 addresses in the file.", "id": 13039, "time": "2002-04-08T15:20:33Z", "creator": "sabreware@earthlink.net", "creation_time": "2002-04-08T15:20:33Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "bayern@essentially.net", "text": "No, <x:forEach> is behaving properly.\n\nI think you're misunderstanding the mechanism.  You're apparently assuming that \nthe scoped variable \"addressBook\" refers somehow to a tree where the context\nnode is the root element.  Instead, the variable refers to the entire parsed\ntree.  Thus, the single \"ADDRESS\" that's printing corresponds to the single \ndocument root element:  <addressBook> ... </addressBook>.  If you want to\nloop over each <address> ... </address> element, you'll need to use an \nexpression like\n\n $addressBook/addressBook/*\n\nThis might look odd to you at first, but I'd assert that's just because you \nused the same name for the scoped variable and the root element of your \ndocument.\n\nTo learn more about the mechanism, instead of printing just \"ADDRESS,\" print a \nproperty of the context node (e.g., the tag name).  The behavior of <x:forEach> \nis demonstrated nicely in JSTL's standard-examples application.  (*Please* \nconsult it before submitting bug reports.)  :-)  Thanks!", "count": 1, "id": 13040, "time": "2002-04-08T15:35:12Z", "bug_id": 7844, "creation_time": "2002-04-08T15:35:12Z", "is_private": false}]