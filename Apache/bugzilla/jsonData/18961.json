[{"count": 0, "tags": [], "bug_id": 18961, "attachment_id": null, "id": 35000, "time": "2003-04-11T16:25:58Z", "creator": "coucouvega@yahoo.com", "creation_time": "2003-04-11T16:25:58Z", "is_private": false, "text": "I have had some problems using the Compression Filter of Tomcat with servlets\ndoing redirections. Adding some extra null checks has solved the problem for me.\n\nI/ In CompressionResponseStream, if stream is null, we should not check that the\nstream is closed :\n\ncode for function flush is :\n>        if (closed) {\n>            throw new IOException(\"Cannot flush a closed output stream\");\n>        }\n>        if (gzipstream != null) {\n>            gzipstream.flush();\n>        }\n\nshould be :\n>       if (gzipstream != null) {\n>              if (closed) {\n>                  throw new IOException(\"Cannot flush a closed output stream\"); \n>              }\n>              gzipstream.flush();\n>       }\n\n\nII/ In CompressionServletResponseWrapper, we should check for null stream before\ncalling flush :\n\ncode for function flushBuffer() should be:\n>    if (stream != null) {\n>        ((CompressionResponseStream) stream).flush();\n>    }"}, {"count": 1, "tags": [], "bug_id": 18961, "attachment_id": null, "text": "The examples are meant to highlight functionality and are not meant for production.", "id": 44152, "time": "2003-09-13T14:55:42Z", "creator": "funkman@joedog.org", "creation_time": "2003-09-13T14:55:42Z", "is_private": false}]