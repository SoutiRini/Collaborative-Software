[{"count": 0, "tags": [], "creator": "indravardhans@gmail.com", "text": "We have a test plan that has multiple threads groups. Each thread group has same value for ramp up period and test duration(using variables).\nStartup delay is provided as 0.\n\nWhen test starts we notice that all threads groups are started sequentially and this leads to test running for longer duration then expected.\nAs group which was started late will finish later. \n\nBelow is one example.\n\n~> grep \"Starting thread group number\u201d *\n2015/07/22 03:51:45 INFO  - jmeter.threads.ThreadGroup: Starting thread group number 1 threads 31 ramp-up 300 perThread 9677.419 delayedStart=false \n2015/07/22 03:52:34 INFO  - jmeter.threads.ThreadGroup: Starting thread group number 2 threads 11 ramp-up 300 perThread 27272.727 delayedStart=false \n2015/07/22 03:52:50 INFO  - jmeter.threads.ThreadGroup: Starting thread group number 3 threads 5 ramp-up 300 perThread 60000.0 delayedStart=false \n2015/07/22 03:52:58 INFO  - jmeter.threads.ThreadGroup: Starting thread group number 4 threads 2 ramp-up 300 perThread 150000.0 delayedStart=false \n2015/07/22 03:53:01 INFO  - jmeter.threads.ThreadGroup: Starting thread group number 5 threads 13 ramp-up 300 perThread 23076.924 delayedStart=false \n2015/07/22 03:53:20 INFO  - jmeter.threads.ThreadGroup: Starting thread group number 6 threads 7 ramp-up 300 perThread 42857.145 delayedStart=false \n2015/07/22 03:53:31 INFO  - jmeter.threads.ThreadGroup: Starting thread group number 7 threads 5 ramp-up 300 perThread 60000.0 delayedStart=false \n2015/07/22 03:53:39 INFO  - jmeter.threads.ThreadGroup: Starting thread group number 8 threads 3 ramp-up 300 perThread 100000.0 delayedStart=false \n2015/07/22 03:53:44 INFO  - jmeter.threads.ThreadGroup: Starting thread group number 9 threads 4 ramp-up 300 perThread 75000.0 delayedStart=false \n\nBelow is code snippet from org.apache.jmeter.engine.StandardJMeterEngine#run().\n\nwhile (running && iter.hasNext()) {// for each thread group\n    AbstractThreadGroup group = iter.next();\n    .\n    .\n    log.info(\"Starting ThreadGroup: \" + groupCount + \" : \" + groupName);\n    startThreadGroup(group, groupCount, searcher, testLevelElements, notifier);\n    .\n    .\n} \n\n\norg.apache.jmeter.engine.StandardJMeterEngine#startThreadGroup().\nprivate void startThreadGroup(AbstractThreadGroup group, int groupCount, SearchByClass<?> searcher, List<?> testLevelElements, ListenerNotifier notifier)\n    {\n        .\n\t.\n        group.start(groupCount, notifier, threadGroupTree, this);\n    }\n\nand ThreadGroup.start() method will spawn all threads for a group. So second group will start once threads are created for first group.\n\nNow one solution I have found is to enable \u201cDelay thread creation until needed\u201d and set startup delay to some value > 0.\nThis will run new ThreadStarter thread for each group and all groups will start at the same time.\n\nCan we have some option to enable parallel start of all thread groups ?", "id": 184191, "time": "2015-07-28T08:06:46Z", "bug_id": 58182, "creation_time": "2015-07-28T08:06:46Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 58182, "text": "We can use countdown latch. Using count-down latch, we can wait all thread group run at same time.", "id": 193607, "attachment_id": null, "creator": "h.rsh89@gmail.com", "creation_time": "2016-09-10T12:58:57Z", "time": "2016-09-10T12:58:57Z", "is_private": false}, {"count": 2, "tags": [], "creator": "h.rsh89@gmail.com", "attachment_id": null, "id": 193608, "time": "2016-09-10T12:59:30Z", "bug_id": 58182, "creation_time": "2016-09-10T12:59:30Z", "is_private": false, "text": "We can use countdown latch. Using count-down latch, we can wait all thread group run at same time."}, {"count": 3, "text": "Do we have any movement on this bug? My test rig is currently suffering heavily from this bug and https://bz.apache.org/bugzilla/show_bug.cgi?id=58183 which is impacting my ability to run multiple thread groups in a planned amount of time.", "bug_id": 58182, "is_private": false, "id": 196957, "time": "2017-02-13T13:51:30Z", "creator": "stuart.kenworthy@bjss.com", "creation_time": "2017-02-13T13:51:30Z", "tags": [], "attachment_id": null}, {"count": 4, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "(In reply to Stuart Kenworthy from comment #3)\n> Do we have any movement on this bug? My test rig is currently suffering\n> heavily from this bug and\n> https://bz.apache.org/bugzilla/show_bug.cgi?id=58183 which is impacting my\n> ability to run multiple thread groups in a planned amount of time.\n\nDid you try setting delay to something high enough so that all threads are created ?\nWhat is your use case exactly ?\nThanks", "id": 196977, "time": "2017-02-13T21:01:49Z", "bug_id": 58182, "creation_time": "2017-02-13T21:01:49Z", "is_private": false, "attachment_id": null}]