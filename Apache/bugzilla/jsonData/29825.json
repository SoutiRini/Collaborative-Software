[{"count": 0, "tags": [], "creator": "kiza@kcore.de", "attachment_id": null, "is_private": false, "id": 59941, "time": "2004-06-27T12:12:17Z", "bug_id": 29825, "creation_time": "2004-06-27T12:12:17Z", "text": "I have encountered the following segfault on OpenBSD 3.5. I can't say what\ncaused it, it must have happened while running normally.\n\nGNU gdb 4.16.1\nCopyright 1996 Free Software Foundation, Inc.\nGDB is free software, covered by the GNU General Public License, and you are\nwelcome to change it and/or distribute copies of it under certain conditions.\nType \"show copying\" to see the conditions.\nThere is absolutely no warranty for GDB.  Type \"show warranty\" for details.\nThis GDB was configured as \"i386-unknown-openbsd3.5\"...\n(gdb) core-file httpd.core\nCore was generated by `httpd'.\nProgram terminated with signal 11, Segmentation fault.\nReading symbols from /usr/local/apache2/lib/libaprutil-0.so.9.5...done.\nReading symbols from /usr/local/apache2/lib/libexpat.so.1.0...done.\nReading symbols from /usr/local/apache2/lib/libapr-0.so.9.5...done.\nReading symbols from /usr/lib/libm.so.1.0...done.\nReading symbols from /usr/lib/libpthread.so.2.4...done.\nReading symbols from /usr/lib/libc.so.30.3...done.\nReading symbols from /usr/libexec/ld.so...done.\nReading symbols from /usr/lib/libz.so.3.0...done.\nReading symbols from /usr/lib/libssl.so.8.0...done.\nReading symbols from /usr/lib/libcrypto.so.10.3...done.\nReading symbols from /usr/local/apache2/modules/libphp4.so...done.\nReading symbols from /usr/local/lib/libpq.so.3.1...done.\nReading symbols from /usr/local/lib/libmhash.so.2.0...done.\nReading symbols from /usr/local/lib/libmcrypt.so.8.5...done.\nReading symbols from /usr/local/lib/libltdl.so.1.2...done.\nReading symbols from /usr/local/lib/libpng.so.4.0...done.\nReading symbols from /usr/local/lib/libjpeg.so.62.0...done.\nReading symbols from /usr/local/lib/libcurl.so.2.2...done.\nReading symbols from /usr/local/lib/libbz2.so.10.2...done.\n#0  0xe0e44c0 in ?? () from /usr/local/apache2/lib/libaprutil-0.so.9.5\n(gdb) bt\n#0  0xe0e44c0 in ?? () from /usr/local/apache2/lib/libaprutil-0.so.9.5\n#1  0x1c077758 in regcomp (preg=0x3c09b4d0, pattern=0x3c09b4c8 \"^\\\\.ht\",\n    cflags=0) at pcreposix.c:206\n#2  0x1c063832 in ap_pregcomp (p=0x3c034018, pattern=0x3c09b4c8 \"^\\\\.ht\",\n    cflags=0) at util.c:267\n#3  0x1c07003d in filesection (cmd=0xcfbfa3e4, mconfig=0x3c07bd58,\n    arg=0x3c09b4b9 \"\") at core.c:1765\n#4  0x1c05d426 in invoke_cmd (cmd=0x3c01e2d4, parms=0xcfbfa3e4,\n    mconfig=0x3c07bd58, args=0x3c07e190 \"~ \\\"^\\\\.ht\\\">\") at config.c:670\n#5  0x1c05e15a in ap_walk_config_sub (current=0x3c07e170, parms=0xcfbfa3e4,\n    section_vector=0x3c07ad10) at config.c:1048\n#6  0x1c05e1e1 in ap_walk_config (current=0x3c07d338, parms=0xcfbfa3e4,\n    section_vector=0x3c07ad10) at config.c:1087\n#7  0x1c05f090 in ap_process_config_tree (s=0x3c0373b8, conftree=0x3c07d338,\n    p=0x3c034018, ptemp=0x3c076018) at config.c:1621\n#8  0x1c061ee2 in main (argc=3, argv=0xcfbfa500) at main.c:595\n#9  0x1c01d441 in ___start ()\n#10 0x1c01d3b7 in _start ()\n#11 0xcfbfa670 in ?? ()\n#12 0x9b4cd3c in ?? () from /usr/local/apache2/lib/libaprutil-0.so.9.5\nCannot access memory at address 0x9b4cd0e."}, {"count": 1, "tags": [], "bug_id": 29825, "text": "It looks more like the PHP bug. which PHP version? Did you restart the server\nwhen this happened?", "id": 59942, "time": "2004-06-27T12:17:13Z", "creator": "nd@perlig.de", "creation_time": "2004-06-27T12:17:13Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "kiza@kcore.de", "is_private": false, "id": 59943, "time": "2004-06-27T12:28:25Z", "bug_id": 29825, "creation_time": "2004-06-27T12:28:25Z", "tags": [], "text": "The core file's time stamp was not at a time where logcycle restarts the server\nso it must have happened while running normally.\n\nAs you mention \"the PHP bug\", can you show me what you're referring to exactly\n(bugzilla #, etc.)?\n\nThe backtrace doesn't really look like PHP was involved, though. At least to me.\nPHP version was 4.3.6. This was the version the crash happened with. I've\nupgraded to 5.0.0rc3 today as there are insane amounts of memory leaks. Didn't\nhelp, but that is another issue. :/"}, {"count": 3, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "is_private": false, "id": 59944, "time": "2004-06-27T12:40:52Z", "bug_id": 29825, "creation_time": "2004-06-27T12:40:52Z", "text": "Bug 28086."}, {"count": 4, "attachment_id": null, "creator": "kiza@kcore.de", "text": "Ok, certainly seems to be the same bug. PHP's bugzilla is f*cked at the moment,\nbut thanks for the pointer.\n\nI'm closing this as a dup.\n\n*** This bug has been marked as a duplicate of 28086 ***", "id": 59945, "time": "2004-06-27T12:56:00Z", "bug_id": 29825, "creation_time": "2004-06-27T12:56:00Z", "tags": [], "is_private": false}]