[{"count": 0, "tags": [], "creator": "derrick.koes@smith-nephew.com", "is_private": false, "text": "The PDF Renderer issues a stack trace handling bitmap images.  This also \nprohibits subsequent renderings of files without bitmap images.\n\norg.apache.fop.apps.FOPException: 921600\n\tat org.apache.fop.apps.Driver.render(Unknown Source)\n\tat org.apache.fop.apps.Driver.run(Unknown Source)\n...\njava.lang.ArrayIndexOutOfBoundsException: 921600\n\tat org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1111)\n\tat org.apache.fop.apps.Driver.render(Unknown Source)\n\tat org.apache.fop.apps.Driver.run(Unknown Source)", "id": 26791, "time": "2002-11-22T14:45:52Z", "bug_id": 14770, "creation_time": "2002-11-22T14:45:52Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 14770, "is_private": false, "id": 26802, "time": "2002-11-22T16:07:02Z", "creator": "oleg@tkachenko.com", "creation_time": "2002-11-22T16:07:02Z", "tags": [], "text": "Excuse me, but without seeing details (see\nhttp://nagoya.apache.org/bugzilla/bugwritinghelp.html) I would consider the bug\nas INVALID. Provide a reproducible example, please."}, {"count": 2, "tags": [], "creator": "derrick.koes@smith-nephew.com", "is_private": false, "text": "Created attachment 3921\nexample fo which exhibits the problem", "id": 26809, "time": "2002-11-22T18:30:34Z", "bug_id": 14770, "creation_time": "2002-11-22T18:30:34Z", "attachment_id": 3921}, {"count": 3, "tags": [], "creator": "oleg@tkachenko.com", "is_private": false, "text": "Works fine for me, of course except for\nhttp://doradb1/dora/MediaContentHandler?type=image&amp;id=1&amp;mimetype=image/jpeg\nChances are the problem is there. Try to run without this image, if it helps,\ncheck  that MediaContentHandler returns image correctly (mime-type,\ncontent-length etc).", "id": 26812, "time": "2002-11-22T19:06:00Z", "bug_id": 14770, "creation_time": "2002-11-22T19:06:00Z", "attachment_id": null}, {"count": 4, "attachment_id": 3926, "bug_id": 14770, "text": "Created attachment 3926\nCorrect sample which exhibits the problem.", "id": 26824, "time": "2002-11-22T20:05:18Z", "creator": "derrick.koes@smith-nephew.com", "creation_time": "2002-11-22T20:05:18Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 14770, "attachment_id": 3927, "is_private": false, "id": 26825, "time": "2002-11-22T20:06:10Z", "creator": "derrick.koes@smith-nephew.com", "creation_time": "2002-11-22T20:06:10Z", "text": "Created attachment 3927\nExample servlet which retrieves images."}, {"count": 6, "tags": [], "creator": "derrick.koes@smith-nephew.com", "text": "Using the provided example servlet, RetrieveImage, I can successfully retrieve \nan image to the browser.  However, using the example fo provided, I cannot \nsuccessfully retrieve the image to a pdf document.\n", "id": 26826, "time": "2002-11-22T20:08:50Z", "bug_id": 14770, "creation_time": "2002-11-22T20:08:50Z", "is_private": false, "attachment_id": null}, {"count": 7, "attachment_id": null, "bug_id": 14770, "is_private": false, "id": 26881, "time": "2002-11-23T21:03:01Z", "creator": "oleg@tkachenko.com", "creation_time": "2002-11-23T21:03:01Z", "tags": [], "text": "Your servlet works very inaccurately with those buffers:\nbyte[] chunk = new byte[4096];\nwhile (fis.read(chunk) > 0)\n{\n    dos.write(chunk);\n}\nThink what a garbage you are outputting in a very last iteration. \nWhen you are copying buffers always make sure you are writing the same amount of\nbytes you are reading. Use the following pattern:\n\nint bytesRead;\nbyte[] chunk = new byte[4096];\nwhile ((bytesRead = fis.read(chunk)) > 0)\n{\n    dos.write(chunk, 0, bytesRead);                    \n}"}, {"count": 8, "tags": [], "creator": "derrick.koes@smith-nephew.com", "text": "\nRetrieveImage was simply meant as an example (cut and paste from the \"real\" \ncode).  I guess that's what I get for not looking at it thoroughly.  The \ncorrected stream read/write \"fixed\" the problem.\nThanks Oleg for your diligence.", "id": 26942, "time": "2002-11-25T14:33:06Z", "bug_id": 14770, "creation_time": "2002-11-25T14:33:06Z", "is_private": false, "attachment_id": null}, {"count": 9, "attachment_id": null, "bug_id": 14770, "is_private": false, "id": 156435, "time": "2012-04-01T13:48:03Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T13:48:03Z", "tags": [], "text": "batch transition to closed remaining pre-FOP1.0 resolved bugs"}]