[{"count": 0, "tags": [], "bug_id": 46931, "text": "If not value is specified for outptut attribute of the SQL task it takes System.out as default output which is correct. But when SQL tasks finishes it closes its output regardless of what kind of output it uses.\nAs a result after SQL taks executes there will be no more output from any code that uses System.out\n\nHere is the source code form 1.7.1 distribution that shows the problem (in execute() method):\n-----------------\nPrintStream out = System.out;\n                try {\n                    if (output != null) {\n                        log(\"Opening PrintStream to output file \" + output, Project.MSG_VERBOSE);\n                        out = new PrintStream(new BufferedOutputStream(\n                                new FileOutputStream(output.getAbsolutePath(), append)));\n                    }\n\n                    // Process all transactions\n                    for (Enumeration e = transactions.elements();\n                         e.hasMoreElements();) {\n\n                        ((Transaction) e.nextElement()).runTransaction(out);\n                        if (!isAutocommit()) {\n                            log(\"Committing transaction\", Project.MSG_VERBOSE);\n                            conn.commit();\n                        }\n                    }\n                } finally {\n                    FileUtils.close(out); //<<<<---- closes output even if it is System.out\n                }", "id": 125857, "attachment_id": null, "creator": "plitwak@hotmail.com", "creation_time": "2009-03-27T12:44:38Z", "time": "2009-03-27T12:44:38Z", "is_private": false}, {"count": 1, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of bug 46480 ***", "is_private": false, "id": 125863, "creation_time": "2009-03-28T01:21:28Z", "time": "2009-03-28T01:21:28Z", "creator": "jkf@apache.org", "bug_id": 46931, "attachment_id": null}]