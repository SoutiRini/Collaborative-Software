[{"count": 0, "tags": [], "bug_id": 46666, "attachment_id": null, "text": "In Http11Processor.java\n\n        while (started && !error && keepAlive) {\n\n            // Parsing the request header\n            try {\n                if (!disableUploadTimeout && keptAlive) {\n                    if (keepAliveTimeout > 0) {\n                        socket.setSoTimeout(keepAliveTimeout);\n                    }\n                    else if (soTimeout > 0) {\n                        socket.setSoTimeout(soTimeout);\n                    }\n                }\n                inputBuffer.parseRequestLine();\n                request.setStartTime(System.currentTimeMillis());\n                keptAlive = true;\n                if (!disableUploadTimeout) {\n                    socket.setSoTimeout(timeout);\n                }\n\ndisableUploadTimeout  - This flag allows the servlet container to use a different, longer connection timeout while a servlet is being executed, which in the end allows either the servlet a longer amount of time to complete its execution, or a longer timeout during data upload. If not specified, this attribute is set to \"true\".\n\nThe code above is waiting on a new Http Request and precedes the servlet processing logic.  It seems odd to me that I must set disableTimeout to false to get my keepAliveTimeout set.  \n\nTo set keepalivetimout, I must implicitely enable upload timeout whether I need it or not.  It seems to me that the disableTimeout is unneccessary in the following line\n\nif (!disableUploadTimeout && keptAlive) {\n\nDo you agree with this?\n\nThanks for the insight", "id": 124665, "time": "2009-02-04T08:28:34Z", "creator": "dougd@bea.com", "creation_time": "2009-02-04T08:28:34Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 46666, "attachment_id": null, "text": "Looks reasonable to me. I have made the change in trunk and proposed it for 6.0.x. There is always a chance, particularly with the connector code, that I have missed a use case that explains why this is so. If that is the case, I am sure one of my fellow committers will point it out.", "id": 124846, "time": "2009-02-13T08:19:46Z", "creator": "markt@apache.org", "creation_time": "2009-02-13T08:19:46Z", "is_private": false}, {"count": 2, "tags": [], "creator": "dougd@bea.com", "text": "Hi Mark,\n\nThanks.  I agree with your assessment of unintended consequences. The location in such well exercised code does make one pause.  I am a newbie to this process. Do you have information as to how I can look at the modification in the trunk?\n\nRegards\nDoug", "id": 124851, "time": "2009-02-13T14:42:03Z", "bug_id": 46666, "creation_time": "2009-02-13T14:42:03Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 124856, "time": "2009-02-14T11:57:13Z", "bug_id": 46666, "creation_time": "2009-02-14T11:57:13Z", "is_private": false, "text": "Best to keep an eye on the tomcat dev list. Details here: http://tomcat.apache.org/lists.html\n\nIf you aren't already subscribed to the dev list, the commit message an be found in one of the many archives such as http://markmail.org/message/f744kl4i6bkruh5i"}, {"count": 4, "tags": [], "bug_id": 46666, "attachment_id": null, "text": "This has been fixed in 6.0.x and will be included in 6.0.19 onwards.", "id": 125393, "time": "2009-03-06T07:21:53Z", "creator": "markt@apache.org", "creation_time": "2009-03-06T07:21:53Z", "is_private": false}]