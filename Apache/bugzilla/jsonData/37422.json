[{"count": 0, "tags": [], "creator": "agonzales@indra.es", "attachment_id": null, "id": 82275, "time": "2005-11-09T10:51:40Z", "bug_id": 37422, "creation_time": "2005-11-09T10:51:40Z", "is_private": false, "text": "We are utilizing Apache/1.3.33 (Win32) PHP/4.3.11 mod_ssl/2.8.22 \nOpenSSL/0.9.7g, on Windows 2000 server. We are having cont\u00ednuas fallen of \nApache. The DrWatson of Windows shows us the following error. And we have to \nresume Apache service constantly.\n\n\n\n*----> Stack Back Trace <----*\n\nFramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name\n04D8FF04 7C573B50 00000228 FFFFFFFF 00000000 6FF86E5D ntdll!\nNtWaitForSingleObject \n04D8FF74 6FF6BF3A 00000039 780085BC 00000039 0012F710 kernel32!\nWaitForSingleObject \n\nState Dump for Thread Id 0x12f4\n\neax=00000000 ebx=00000001 ecx=00000000 edx=240d9400 esi=6ff909d0 edi=00005580\neip=6ff909d8 esp=04e8dc8c ebp=0f1acf28 iopl=0         nv up ei pl nz na po nc\ncs=001b  ss=0023  ds=0023  es=0023  fs=003b  gs=0000             efl=00000206\n\n\nfunction: ap_ctx_get\n        6ff909d0 8b442404         mov     eax,[esp+0x4]          \nss:05957b73=????????\n        6ff909d4 53               push    ebx\n        6ff909d5 55               push    ebp\n        6ff909d6 56               push    esi\n        6ff909d7 57               push    edi\nFAULT ->6ff909d8 8b7804           mov     edi,[eax+0x4]          \nds:00ac9ee6=????????\n        6ff909db 33ed             xor     ebp,ebp\n        6ff909dd 897c2414         mov     [esp+0x14],edi         \nss:05957b73=????????\n        6ff909e1 8b07             mov     eax,[edi]              \nds:00005580=????????\n        6ff909e3 85c0             test    eax,eax\n        6ff909e5 7440             jz      regexec+0x23b7 (6ff99527)\n        6ff909e7 8b542418         mov     edx,[esp+0x18]         \nss:05957b73=????????\n        6ff909eb 8b00             mov     eax,[eax]              \nds:00000000=????????\n        6ff909ed 8bf2             mov     esi,edx\n        6ff909ef 8a18             mov     bl,[eax]                     \nds:00000000=??\n        6ff909f1 8acb             mov     cl,bl\n        6ff909f3 3a1e             cmp     bl,[esi]                     \nds:6ff909d0=8b\n\n\n*----> Stack Back Trace <----*\n\nFramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name\n0168FF04 7C573B50 00000220 FFFFFFFF 00000000 6FF86E5D ntdll!\nNtWaitForSingleObject \n0168FF74 6FF6BF3A 00000002 780085BC 00000002 0012F710 kernel32!\nWaitForSingleObject \n\nState Dump for Thread Id 0x1590\n\neax=00000000 ebx=0eed0060 ecx=0e4405a8 edx=000e1000 esi=0eec0000 edi=0eed0664\neip=77f9f0be esp=0178e8a0 ebp=0178e924 iopl=0         nv up ei pl zr na po nc\ncs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000246\n\n\nfunction: RtlQueryProcessHeapInformation\n        77f9f0a0 c1e006           shl     eax,0x6\n        77f9f0a3 8d7c1804         lea     edi,[eax+ebx+0x4]      \nds:0f999f47=????????\n        77f9f0a7 8b37             mov     esi,[edi]              \nds:0eed0664=0eec0000\n        77f9f0a9 897598           mov     [ebp+0x98],esi         \nss:0225880a=????????\n        77f9f0ac 8b4508           mov     eax,[ebp+0x8]          \nss:0225880a=????????\n        77f9f0af 8b4040           mov     eax,[eax+0x40]         \nds:00ac9ee6=????????\n        77f9f0b2 85c0             test    eax,eax\n        77f9f0b4 7408             jz      RtlApplyRXactNoFlush+0x39 (77fa2bbe)\n        77f9f0b6 3bc6             cmp     eax,esi\n        77f9f0b8 0f85c3000000     jne RtlQueryProcessHeapInformation+0x2bb \n(77f9f181)\nFAULT ->77f9f0be f6460c01         test    byte ptr [esi+0xc],0x1       \nds:0f989ee6=??\n        77f9f0c2 0f8511010000     jne RtlQueryProcessHeapInformation+0x313 \n(77f9f1d9)\n        77f9f0c8 ffb678050000     push    dword ptr [esi+0x578]  \nds:0eec0578=????????\n        77f9f0ce e88d2ffeff       call    RtlEnterCriticalSection (77f82060)\n        77f9f0d3 c645a001         mov     byte ptr [ebp+0xa0],0x1      \nss:0225880a=??\n        77f9f0d7 8365fc00         and   dword ptr [ebp+0xfc],0x0 \nss:0225880a=????????\n        77f9f0db 8065d400         and     byte ptr [ebp+0xd4],0x0      \nss:0225880a=??\n        77f9f0df 807dd440         cmp     byte ptr [ebp+0xd4],0x40     \nss:0225880a=??\n        77f9f0e3 732f             jnb  KiRaiseUserExceptionDispatcher+0x68 \n(77fa0014)\n        77f9f0e5 0fb645d4         movzx   eax,byte ptr [ebp+0xd4]      \nss:0225880b=??\n        77f9f0e9 8b5c8658         mov     ebx,[esi+eax*4+0x58]   \nds:00ac9ee7=????????\n        77f9f0ed 895dc4           mov     [ebp+0xc4],ebx         \nss:0225880a=????????\n\n\n-------------------------------------------------------------------------------\n----------------------\nThe logs of Apache for the moment the following error you show us.\n\n\n[Wed Nov 09 10:32:21 2005] [error] mod_ssl: SSL handshake failed (server \nykonos.gaeto.sescam.jclm.es:443, client 10.36.174.125) (OpenSSL library error \nfollows)\n[Wed Nov 09 10:32:21 2005] [error] OpenSSL: error:14094416:SSL \nroutines:SSL3_READ_BYTES:sslv3 alert certificate unknown"}, {"count": 1, "tags": [], "bug_id": 37422, "attachment_id": null, "text": "Dr Watson dumps are of little value unless you unpack the -symbols.zip, the\nmatching .pdb files, into your Apache 1.3.33.  If you are using the .msi\npackage from the http://www.apache.org/dist/httpd/binaries/win32/ distribution,\nthen grab the matching -symbols.zip file from the same location, and unzip it.\n\nYou will note in your next crash that Dr. Watson displays exactly what function\ncrashed and will provide a better backtrace.\n\nFinally, if this points you back at mod_ssl/OpenSSL, this is not from Apache\nSoftware Foundation, and we can provide you no further help with the 1.3.33\nflavor.  Contact the modssl.org project's user list (I'm unable to subscribe\nfor the last three weeks, best of luck to you), or upgrade to Apache 2.0\nwhich *does* ship with mod_ssl from the ASF.", "id": 82315, "time": "2005-11-09T20:35:11Z", "creator": "wrowe@apache.org", "creation_time": "2005-11-09T20:35:11Z", "is_private": false}, {"count": 2, "tags": [], "creator": "wrowe@apache.org", "is_private": false, "text": "\n  Scratch my previous comments.  Those binaries on www.apache.org/dist are not\n  EAPI enabled, it's impossible for you to be using them.  Please find the\n  appropriate support from your vendor or distributor.\n", "id": 82317, "time": "2005-11-09T21:17:19Z", "bug_id": 37422, "creation_time": "2005-11-09T21:17:19Z", "attachment_id": null}]