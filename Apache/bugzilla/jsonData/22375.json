[{"count": 0, "tags": [], "bug_id": 22375, "attachment_id": null, "text": "Hello developers,\n\nI wrote some module to apache2 and have following problem.\n\nI load my module to apache with line in config file:\nLoadModule Project1_module \"C:/Program \nFiles/Borland/Delphi7/Projects/apache2test/Project1.dll\"\n\nand have <location> in config to invoke module:\n<Location /Projects/apache2test/>\n  SetHandler Project1-handler\n</Location>\n\nI am expecting if I call URL http://host/Projects/apache2test/some_path\nthat request to my module will have path_info \"some_path\". But it is\ncalled with \"apache2test/some_path\" and it is wrong.\n\nIf I change <location> to:\n<Location /Proj/apache2test/>\n  SetHandler Project1-handler\n</Location>\n\nThe path_info is the same.\n\nAnother <location>\n<Location /Projects/test/apache2test/>\n  SetHandler Project1-handler\n</Location>\nthe path_info is test/apache2test/some_path.\n\nI think that Apache cut first component from URL and the rest put into module \nas path_info. I think, that it's wrong.\nApache must cut all location URL from URL and the rest pass to module as \npath_info.\n\nThank you for fix this error.\n\nVladimir Michl", "id": 42666, "time": "2003-08-13T08:17:55Z", "creator": "Vladimir.Michl@seznam.cz", "creation_time": "2003-08-13T08:17:55Z", "is_private": false}, {"text": "Some additional info:\n\nPrevious <Location> paths not have real path under DocumentRoot. PATHNAME\nin request is $DocumentRoot.\n\nIf <location> have real path under DocumentRoot apache change behaviour.\n\nDocument root is c:\\www\nDirectory tree is\n  c:\\www-- dir1\n        |   |- dir3\n        |- dir2\n\n<Location /dir1>\n  SetHandler Project1-handler\n</Location>\n\nand call URL http://host/dir1/path1/path2\n\npath_info in request to module is \"path2\" but must be \"path1/path2\"\nfilename in request is \"c:\\www\\dir1\\path1\" but must be \"c:\\www\\dir1\"\n", "tags": [], "bug_id": 22375, "attachment_id": null, "count": 1, "id": 42667, "time": "2003-08-13T10:33:38Z", "creator": "Vladimir.Michl@seznam.cz", "creation_time": "2003-08-13T10:33:38Z", "is_private": false}, {"count": 2, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "text": "Your assumptions are wrong.\n\n(1) r->filename and r->path_info work on file-system basis. <Location>\ncontainers are independent from the filesystem.\n\n(2) If you request http://host/dir/foo, r->filename is always '/path/to/foo',\neven if it doesn't exist (otherwise one couldn't check if it exists...). If one\ncalls http://host/dir/foo/bar, r->filename is still '/path/to/foo' and\nr->path_info becomes '/bar'. That is the designed behaviour. The\nAcceptPathInfo-docs explain it btw the same way.\n\nThanks for using Apache.", "id": 42867, "time": "2003-08-17T03:33:35Z", "bug_id": 22375, "creation_time": "2003-08-17T03:33:35Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 22375, "attachment_id": null, "is_private": false, "id": 42898, "time": "2003-08-18T10:50:01Z", "creator": "Vladimir.Michl@seznam.cz", "creation_time": "2003-08-18T10:50:01Z", "text": "Ok, It's feature not bug.\nBut may be added to AcceptPathInfo directive Dir, which is the same as On, but\nin path_info is path after existing directory?\n\nFor example:\n\nc:\\www -- dir1\n       |- dir2\n\nhttp://host/dir1/foo/aa\n\nWith AcceptPathInfo Default, path_info is aa and filename c:\\www\\dir1\\foo\n\nWith AcceptPathInfo Dir, path_info will be foo/aa and filename c:\\www\\dir1\n"}]