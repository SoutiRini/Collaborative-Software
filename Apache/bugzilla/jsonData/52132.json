[{"count": 0, "tags": [], "bug_id": 52132, "is_private": false, "text": "Changing the system time by -1 hour caused the calculation of the process activity score to be incorrect. This prevented the spawning of new application processes for approx 1 hour.\n\nFcgidTimeScore was set to default (1).\nFcgidSpawnScoreUpLimit was set to default (10). \n\n/var/log/messages\nNov  3 19:42:58 server207-27 ntpd[5052]: synchronized to 213.171.201.6, stratum 2\nNov  3 18:42:58 server207-27 ntpd[5052]: time reset -3599.951366 s\nNov  3 18:42:58 server207-27 ntpd[5052]: kernel time sync enabled 0001\n...\n\n/var/log/httpd/error_log\n[Thu Nov 03 18:57:37 2011] [info] mod_fcgid: /index.php spawn score 2534 >= 10, skip the spawn request\n[Thu Nov 03 18:57:38 2011] [info] mod_fcgid: /index.php spawn score 2533 >= 10, skip the spawn request\n...\n\n/var/log/http/vhost/error_log\n[Thu Nov 03 19:25:58 2011] [warn] mod_fcgid: can't apply process slot for /index.php\n[Thu Nov 03 19:26:00 2011] [warn] mod_fcgid: can't apply process slot for /cometchat_receive.php\n...", "id": 151171, "time": "2011-11-03T23:15:02Z", "creator": "aphplix@gmail.com", "creation_time": "2011-11-03T23:15:02Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 52132, "is_private": false, "text": "This is to be expected if you are changing absolute time.  It causes havoc\non other time-sensitive apps and services as well.\n\nIf it happens due to a time zone change (local time) that is a defect.  Could\nyou clarify for us?", "id": 152942, "time": "2012-01-19T17:34:45Z", "creator": "wrowe@apache.org", "creation_time": "2012-01-19T17:34:45Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "lazy@iq.pl", "text": "the logs suggest absolute time change the code in\n\nfcgid_spawn_ctl.c/register_life_death()\n...\n    /* Decrease the score based on elapsed time */\n    current_node->score -=\n        sconf->time_score *\n        (int)(apr_time_sec(now) - apr_time_sec(current_node->last_stat_time));\n\n    /* Make score reasonable */\n    if (current_node->score < 0)\n        current_node->score = 0;\n\n    current_node->last_stat_time = now;\n\n\nmod_fcgid can easly check for time going backward, this function Isn't used very often so I think it won't have any impact on performance", "id": 157810, "time": "2012-04-10T21:14:52Z", "bug_id": 52132, "creation_time": "2012-04-10T21:14:52Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 52132, "is_private": false, "text": "Created attachment 28573\ncheck for time going back", "id": 157812, "time": "2012-04-10T21:16:07Z", "creator": "lazy@iq.pl", "creation_time": "2012-04-10T21:16:07Z", "attachment_id": 28573}]