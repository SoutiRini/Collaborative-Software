[{"count": 0, "tags": [], "creator": "jeremias@apache.org", "attachment_id": null, "text": "I've seen examples where a percentage was used in\nproportional-column-width(numeric). FOP raises an error in this case, but I\nthink that's wrong. The spec says:\n\"Percentages are values that are counted in 1/100 units. That is, 10% as a\npercentage value is 0.10 as a floating point number.\"\nand\n\"For example, a value of \"110%\" on a \"font-size\" property would be evaluated to\nmean 1.1 times the current font size. Such a definition of the allowed\nconversion for percentages is specified on the property definition. If no\nconversion is specified, the resulting value is a percentage.\"\n\nhttp://www.w3.org/TR/xsl11/#d0e5420\n\nI interpret this so that the proportional-column-width(20%) is, in this case,\nsimply converted to the numeric value 0.2. So if you consistently use\npercentages to specify the column widths you'd get the expected result.\n\nTasks:\n- Get feedback if this view is correct.\n- Write a test case\n- Fix the problem", "id": 99464, "time": "2007-02-16T02:02:11Z", "bug_id": 41631, "creation_time": "2007-02-16T02:02:11Z", "is_private": false}, {"count": 1, "tags": [], "creator": "adelmelle@apache.org", "attachment_id": null, "text": "\nAgreed with the interpretation. \nproportional-column-width() takes a Numeric, so percentages should indeed be allowed, and the \nsuggested way of interpreting percentage values makes a lot of sense.\n\nRan a quick test, and the problem seems to be:\nfop.expr.PPColWidthFunction expects a number, but gets a null if percentages are specified.\nRelativeNumericProperty does not override Property.getNumber()...\n", "id": 99475, "time": "2007-02-16T03:54:17Z", "bug_id": 41631, "creation_time": "2007-02-16T03:54:17Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 41631, "attachment_id": null, "text": "\nJust FYI, adding the following simple method to PercentLength seems to do the trick:\n\n    public Number getNumber() {\n        return new Double(factor);\n    }\n\nOnly seems a bit awkward to me that a percentage as a subexpression is parsed into a PercentLength \nhere...", "id": 99483, "time": "2007-02-16T04:47:01Z", "creator": "adelmelle@apache.org", "creation_time": "2007-02-16T04:47:01Z", "is_private": false}, {"count": 3, "tags": [], "creator": "adelmelle@apache.org", "attachment_id": null, "is_private": false, "id": 113538, "time": "2008-02-07T09:21:55Z", "bug_id": 41631, "creation_time": "2008-02-07T09:21:55Z", "text": "\nupdate:\nThe attached patch should at least take care of the last task... :-)\n\nI'll see if I can add a test case as well, so we can close this one."}, {"count": 4, "tags": [], "bug_id": 41631, "attachment_id": 21494, "text": "Created attachment 21494\npatch fixing the problem", "id": 113539, "time": "2008-02-07T09:22:40Z", "creator": "adelmelle@apache.org", "creation_time": "2008-02-07T09:22:40Z", "is_private": false}, {"count": 5, "tags": [], "creator": "adelmelle@apache.org", "attachment_id": null, "text": "\nFixed in FOP Trunk.\n\nsee: http://svn.apache.org/viewvc?rev=620283&view=rev", "id": 113592, "time": "2008-02-10T05:44:18Z", "bug_id": 41631, "creation_time": "2008-02-10T05:44:18Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 41631, "attachment_id": null, "id": 155532, "time": "2012-04-01T06:26:41Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T06:26:41Z", "is_private": false, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed"}]