[{"count": 0, "tags": [], "bug_id": 47738, "attachment_id": null, "id": 129937, "time": "2009-08-25T23:17:55Z", "creator": "ascreen@agl.com.au", "creation_time": "2009-08-25T23:17:55Z", "is_private": false, "text": "Since upgrading to XP i'm recieving the following error when utilising the batik libaries.  Previously i was on Windows 2000.  PC has Java 1.6.0_13-b03 installed.  Previously i believe it was java 1.3 on the windows 2000 platform??\n\nPC has windows service pack 3 installed\n\nMy account has read & execute permissions on the files.\n\nSVG Vier Error:\n\naccess denied (java.io.FilePermission \\S:\\EIR Libraries\\batik-squiggle.jar read)\n\nwith detail:\nJava.security.AccessControlException: access denied (java.io.FilePermission \\S:\\EIR Libraries\\batik-squiggle.jar read)\n\tat java.security.AccessControlContext.checkPermission(Unknown Source)\n\tat java.security.AccessController.checkPermission(Unknown Source)\n\tat java.lang.SecurityManager.checkPermission(Unknown Source)\n\tat java.lang.SecurityManager.checkRead(Unknown Source)\n\tat sun.net.www.protocol.jar.JarFileFactory.getCachedJarFile(Unknown Source)\n\tat sun.net.www.protocol.jar.JarFileFactory.get(Unknown Source)\n\tat sun.net.www.protocol.jar.JarURLConnection.connect(Unknown Source)\n\tat sun.net.www.protocol.jar.JarURLConnection.getInputStream(Unknown Source)\n\tat org.apache.batik.util.ParsedURLData.openStreamInternal(ParsedURLData.java:547)\n\tat org.apache.batik.util.ParsedURLData.openStream(ParsedURLData.java:471)\n\tat org.apache.batik.util.ParsedURL.openStream(ParsedURL.java:417)\n\tat org.apache.batik.dom.svg.SAXSVGDocumentFactory.createDocument(SAXSVGDocumentFactory.java:158)\n\tat org.apache.batik.dom.svg.SAXSVGDocumentFactory.createSVGDocument(SAXSVGDocumentFactory.java:124)\n\tat org.apache.batik.bridge.DocumentLoader.loadDocument(DocumentLoader.java:106)\n\tat org.apache.batik.swing.svg.SVGDocumentLoader.run(SVGDocumentLoader.java:84)"}, {"count": 1, "tags": [], "bug_id": 47738, "text": "(In reply to comment #0)\n> Since upgrading to XP [...] PC has Java 1.6.0_13-b03 installed.\n[...]\n> PC has windows service pack 3 installed\n\nMy usual environment is similar to this one and everything works as expected.\n\n> access denied (java.io.FilePermission \\S:\\EIR Libraries\\batik-squiggle.jar\n> read)\n\nAre you sure about that left slash before the drive letter? That seems invalid. Also, embedded spaces in paths are a known cause for issues. Please add double quotes when using those.\n\nTry \"S:\\EIR Libraries\\batik-squiggle.jar\" instead and, if this works, please report back and/or mark this issue accordingly (I'd suggest closing as invalid). If it doesn't work, please provide more information on how you are executing Squiggle (command line or shortcut used to run it), if you have administrative privileges, etc.\n\nAnother tip: My shortcut to start Squiggle (Batik 1.7) is something like:\n * Target: %windir%\\system32\\javaw.exe -jar batik-squiggle.jar\n * Start in: \"%ProgramFiles%\\batik-1.7\"\nNote the double quotes in the path as embedded spaces are used (I've deployed it into program files directory, which usually contains spaces (in my case, the variable will expand to \"C:\\Program Files\").", "id": 129939, "time": "2009-08-26T01:33:01Z", "creator": "helder.magalhaes@gmail.com", "creation_time": "2009-08-26T01:33:01Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "ascreen@agl.com.au", "attachment_id": 24173, "text": "Created attachment 24173\nSVG Browser Policy\n\nnote sure where this comes from but i assume it part of the batik libaries??", "id": 129970, "time": "2009-08-26T16:24:18Z", "bug_id": 47738, "creation_time": "2009-08-26T16:24:18Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 47738, "text": "Created attachment 24174\nscript file that is uesd for running the svg viewer", "id": 129971, "time": "2009-08-26T16:26:33Z", "creator": "ascreen@agl.com.au", "creation_time": "2009-08-26T16:26:33Z", "is_private": false, "attachment_id": 24174}, {"count": 4, "tags": [], "creator": "ascreen@agl.com.au", "attachment_id": null, "text": "in reply to Helder's comments.  \n\nI'm not sure where the \\ at the front is comming from, it just appears. i'm executing in a script as follows :\n\n commandtoRun = \"C:\\\\new/batik/batik-squiggle.jar\" ;\n\n  commandParams = \"http://enet.agl.com.au/Business%20Teams/IT/System%20Architect/\" + svgfile ;\n\n  oShell.ShellExecute(commandtoRun,commandParams);\n\nNote the production implementation has the libaries on a shared network drive.  I've moved the libaries onto my desktop as i thought it may be something to do with permissions.  In this case the slash still appears.  I don't have adminstrative privellges on my pc.  I'll see if i can get someone to log on with these privilages to see if it make a difference! I suspect it is something to do with our environment but it's determining what that is which is proving difficult!\n\nNote the error i get is the same if i just run the jar file so i don't think it's to do with the scripting.  \ni.e. access denied (java.io.FilePermission \\C:\\new\\batik\\batik-squiggle.jar read)\n\ni've attached a policy file  that i've noticed on my desktop which i assume is created as part of the batik deployment??  Also i've attached the script file that is in use for viewing the svg files!\n\nRegards,\n\nAndrew", "id": 129972, "time": "2009-08-26T16:32:28Z", "bug_id": 47738, "creation_time": "2009-08-26T16:32:28Z", "is_private": false}, {"count": 5, "attachment_id": 25005, "creator": "ascreen@agl.com.au", "text": "Created attachment 25005\ncreation of Home directory\n\nshowing setup of home directory", "id": 134587, "time": "2010-02-17T04:09:51Z", "bug_id": 47738, "creation_time": "2010-02-17T04:09:51Z", "tags": [], "is_private": false}, {"count": 6, "attachment_id": null, "creator": "ascreen@agl.com.au", "text": "We have performed moe testing to narrow down what the issue is and we have determined that if the Home direcoty is setup using the window OOTB functionality (see attachment) the libaries don't work.  If i manually map the directory the libaries work.  I've noticed that when it works both the policy document and the XML preferences document is creatred in the My document/.batik dir.  When it doesn't only the policy document is created?", "id": 134588, "time": "2010-02-17T04:13:31Z", "bug_id": 47738, "creation_time": "2010-02-17T04:13:31Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "bug_id": 47738, "attachment_id": 25006, "id": 134589, "time": "2010-02-17T04:28:01Z", "creator": "ascreen@agl.com.au", "creation_time": "2010-02-17T04:28:01Z", "is_private": false, "text": "Created attachment 25006\npreferences file\n\npreferences document created. (i had to change to .txt extentions to be able to upload it.  it's actually a XML file!  Note this is found in the c:\\documents & setting\\A348802A directory not the My Document directory as indicated in the comment just added. The \"My Documents\" directory on our setup is actually linked to a virtual directory on another server but sync'd with the  c:\\documents & setting\\A348802A directory.  Could the batik libaries be getting confused as to where these files are being placed or something like that?"}]