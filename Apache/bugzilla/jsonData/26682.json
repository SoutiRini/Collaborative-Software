[{"count": 0, "tags": [], "creator": "nito@qindel.es", "attachment_id": null, "id": 51759, "time": "2004-02-05T12:20:34Z", "bug_id": 26682, "creation_time": "2004-02-05T12:20:34Z", "is_private": false, "text": "This my httpd.conf configuration:\n\nTimeout 10\nProxyTimeout 3\nErrorDocument 502 /error/error502.txt\nRewriteEngine on\nRewriteRule ^/sleep$ http://ws00013/cgi-bin/sleep [P]\n\nThe page times out after 10 seconds (instead of 3 seconds with ProxyTimeout).\nAnd the error that is sent back instead the default ErrorDocument (although the\nlog shows that the ErrorDocument handler is in some way executed:\n\n=================================\n502 Bad Gateway\nConnection: close\nDate: Thu, 05 Feb 2004 11:33:22 GMT\nAccept-Ranges: bytes\nETag: \"a2a1d-a-408ddc40\"\nServer: Apache/2.0.48 (Unix)\nContent-Length: 10\nContent-Type: text/plain\nLast-Modified: Thu, 05 Feb 2004 11:29:45 GMT\nClient-Date: Thu, 05 Feb 2004 11:33:32 GMT\nClient-Response-Num: 1\n\n<HTML>\n<HEAD><TITLE>An Error Occurred</TITLE></HEAD>\n<BODY>\n<H1>An Error Occurred</H1>\n502 Bad Gateway\n</BODY>\n</HTML>\n=================================\n\nBut the logs show the following:\n\nerror_log:\n----------\n\n[Thu Feb 05 11:33:32 2004] [error] [client 127.0.0.1] proxy: error reading\nstatus line from remote server ws00013\n[Thu Feb 05 11:33:32 2004] [error] [client 127.0.0.1] proxy: Error reading from\nremote server returned by /sleep\n\naccess_log:\n-----------\n\n127.0.0.1 - - [05/Feb/2004:11:33:22 +0000] \"ws00013.vfl.vodafone GET /sleep\nHTTP/1.1\" 502 10 \"-\" \"lwp-request/2.01\"\n/apps/apache/2.0.48/htdocs/error/error502.txt -\n10.99.148.170 - - [05/Feb/2004:11:33:22 +0000] \"ws00013.vfl.vodafone GET\n/cgi-bin/sleep HTTP/1.1\" 200 26 \"-\" \"lwp-request/2.01\"\n/apps/apache/2.0.48/cgi-bin/sleep\n\nrewrite_log:\n------------\n127.0.0.1 - - [05/Feb/2004:11:33:32 +0000]\n[ws00013.vfl.vodafone/sid#15d798][rid#1fac40/initial/redir#1] (2) init rewrite\nengine with requested uri /error/error502.txt\n127.0.0.1 - - [05/Feb/2004:11:33:32 +0000]\n[ws00013.vfl.vodafone/sid#15d798][rid#1fac40/initial/redir#1] (3) applying\npattern '^/sleep$' to uri '/error/error502.txt'\n127.0.0.1 - - [05/Feb/2004:11:33:32 +0000]\n[ws00013.vfl.vodafone/sid#15d798][rid#1fac40/initial/redir#1] (1) pass through\n/error/error502.txt\n\n\nI can provide full httpd.conf and sleep cgi if needed."}, {"count": 1, "tags": [], "creator": "nito@qindel.es", "attachment_id": 10234, "text": "Created attachment 10234\nhttpd.conf file", "id": 51760, "time": "2004-02-05T12:21:34Z", "bug_id": 26682, "creation_time": "2004-02-05T12:21:34Z", "is_private": false}, {"count": 2, "tags": [], "creator": "nick@webthing.com", "attachment_id": null, "text": "I've tested this at length with 2.2.8 and a custom 502 works fine.  So it appears whatever was wrong has been fixed.", "id": 116482, "time": "2008-05-11T09:13:34Z", "bug_id": 26682, "creation_time": "2008-05-11T09:13:34Z", "is_private": false}]