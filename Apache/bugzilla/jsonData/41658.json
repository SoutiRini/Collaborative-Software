[{"count": 0, "tags": [], "creator": "o-soya@seiss.co.jp", "attachment_id": null, "text": "Hello\n\n   I made two servlet files and one web.xml as bellow:\nackage jp.wangsuya.testsample;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class Sample173 extends HttpServlet {\n\tpublic void doGet(HttpServletRequest request, HttpServletResponse \nresponse)\n\t\n\t\tthrows ServletException, IOException{\n\t\t\tresponse.setContentType(\"text/html;charset=Shift_JIS\");\n\t\t\tPrintWriter out = response.getWriter();\n\t\t\tout.println\n(\"<html<head><title>Sample173</title></head><body>\");\n\t\t\tout.println(\"<h2>\u017dl\u0160p\u0152`\u0081A\u201ch\u201a\u00e8\u201a\u00c2\u201a\u00d4\u201a\u00b5</h2>\");\n\t\t\tout.println(\"<p>\");\n\t\t\tout.println(\"<img src=\\\"Sample173jpeg\\\" border=1 \nwidth=300 height=150/>\");\n\t\t\tout.println(\"</body></html>\");\n\t\t\tout.close();\n\t}\n\n}\npackage jp.wangsuya.testsample;\n\nimport java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.io.OutputStream;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport com.sun.image.codec.jpeg.JPEGCodec;\nimport com.sun.image.codec.jpeg.JPEGImageEncoder;\n\npublic class Sample173jpeg extends HttpServlet {\n\tpublic void doGet(HttpServletRequest request,HttpServletResponse \nresponse)\n\t\tthrows ServletException, IOException{\n\t\tresponse.setContentType(\"image/jpeg\");\n\t\tOutputStream out = response.getOutputStream();\n\t\tBufferedImage img = new BufferedImage\n(300,150,BufferedImage.TYPE_INT_RGB);\n\t\tGraphics2D g2 = img.createGraphics();\n\t\tg2.setRenderingHint\n(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\n\t\tg2.setBackground(new Color(64,170,191));\n\t\tg2.clearRect(0,0,300,150);\n\t\tBasicStroke thickLine1=new BasicStroke\n(5.0f,BasicStroke.CAP_BUTT,BasicStroke.JOIN_MITER,5.0f);\n\t\tg2.setStroke(thickLine1);\n\t\tg2.setPaint(Color.gray);\n\t\tg2.fill(new Rectangle(30,30,200,80));\n\t\tg2.setPaint(Color.red);\n\t\tg2.draw(new Rectangle(30,30,200,80));\n\t\t\n\t\tJPEGImageEncoder encoder = JPEGCodec.createJPEGEncoder(out);\n\t\tencoder.encode(img);\n\t\tout.close();\n\t}\n\n}\n\n<?xml version=\"1.0\" encoding=\"Shift_JIS\"?>\n<web-app xmlns=\"http://java.sun.com/xml/ns/j2ee\"\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"\n\tversion=\"2.4\">\n\t\n\t<servlet>\n\t\t<servlet-name>Sample173</servlet-name>\n\t\t<servlet-class>jp.wangsuya.testsample.Sample173</servlet-class>\n\t</servlet>\n\t\n\t<servlet-mapping>\n\t\t<servlet-name>Sample173</servlet-name>\n\t\t<url-pattern>/sample173</url-pattern>\n\t</servlet-mapping>\t\n\t\n\t<servlet>\n\t\t<servlet-name>Sample173jpeg</servlet-name>\n\t\t<servlet-class>jp.wangsuya.testsample.Sample173jpeg</servlet-\nclass>\n\t</servlet>\n\t\n\t<servlet-mapping>\n\t\t<servlet-name>Sample173jpeg</servlet-name>\n\t\t<url-pattern>/sample173jpeg</url-pattern>\n\t</servlet-mapping>\n\n</web-app>\n\n When I runed servlet/sample173, the img did not show up. But when I runed \nservlet/sample173jpeg, the img showed up. Could tell me why?", "id": 99569, "time": "2007-02-19T23:10:50Z", "bug_id": 41658, "creation_time": "2007-02-19T23:10:50Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 41658, "attachment_id": null, "id": 99575, "time": "2007-02-20T03:44:48Z", "creator": "funkman@joedog.org", "creation_time": "2007-02-20T03:44:48Z", "is_private": false, "text": "Please use the tomcat-user list for debugging code. The bug forum is not a \nsupport group/general help desk.\n\nWhen running Sample173 - the html printed is asking for an image called \nSample173jpeg, but the serlvet mapped is sample173jpeg - notice the case \ndifference in the beginning 'S'.\n\nPlease do not followup to this bug report, if you have more questios - use the \ntomcat user list."}]