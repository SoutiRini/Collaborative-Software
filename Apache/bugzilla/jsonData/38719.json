[{"count": 0, "tags": [], "creator": "Balamurali.Bhaeeman@gmail.com", "attachment_id": null, "is_private": false, "id": 85950, "time": "2006-02-20T13:56:48Z", "bug_id": 38719, "creation_time": "2006-02-20T13:56:48Z", "text": "I am using fop0.20.5 version to generate a pdf image (jpg) with <fo:external-\ngraphic src= \"url('statestreet.jpg')\"/> with other required jars in classpath \nwhich are /asle03/sle/deploy/was51/sle/lib/xalan.jar\n/asle03/sle/deploy/was51/sle/lib/xml-apis_10.jar\n/asle03/sle/deploy/was51/sle/lib/xml-apis.jar\n/asle03/sle/deploy/was51/sle/lib/xerces.jar\n/asle03/sle/deploy/was51/sle/lib/jaxp.jar\n/asle03/sle/deploy/was51/sle/lib/dom4j-1.3.jar\n/asle03/sle/deploy/was51/sle/lib/xercesImpl_230.jar\n/asle03/sle/deploy/was51/sle/lib/xalan_2.4.0.jar\n/asle03/sle/deploy/was51/sle/lib/batik_11.jar\n/asle03/sle/deploy/was51/sle/lib/avalon_414.jar\n/asle03/sle/deploy/was51/sle/lib/iText.jar\n/asle03/sle/deploy/was51/sle/lib/log4j-1.2.9.jar\n/asle03/sle/deploy/was51/sle/lib/fop.jar\n\n. It works fine in windows and one of my development Solaris 5.8 box , but it \nseems to be throwing error in integration Solaris 5.8 which is replicated as \nthe devlopment box .\n\nThe app server is Websphere 5.1 version with jre1.4 .\n\nonly one difference I see in development server is a Generic Vm argument passed \nas below\n-server -Xbootclasspath/p:${AM_HOME}/lib/bcm-\nbootstrap.jar:${AM_HOME}/lib/ppe.probe-bootstrap.jar\n\nand developemnt works fine loading the image.\n\nBut the integration env throws the error. please advice . It is something about \nthe loading of image in different environment.\n\n Below is the error\n\n[1/24/06 9:42:45:444 EST]  1296cf2 WebGroup      E SRVE0026E: [Servlet Error]-\n[org.apache.batik.dom.svg.SAXSVGDocumentFactory.createDocument&#40;Ljava/lang/St\nring&#59;Ljava/io/InputStream&#59;&#41;Lorg/w3c/dom/Document&#59;]: \njava.lang.NoSuchMethodError: \norg.apache.batik.dom.svg.SAXSVGDocumentFactory.createDocument\n(Ljava/lang/String;Ljava/io/InputStream;)Lorg/w3c/dom/Document;\n        at org.apache.fop.image.analyser.SVGReader.loadImage(SVGReader.java:101)\n        at org.apache.fop.image.analyser.SVGReader.verifySignature\n(SVGReader.java:85)\n        at org.apache.fop.image.analyser.ImageReaderFactory.Make\n(ImageReaderFactory.java:129)\n        at org.apache.fop.image.FopImageFactory.Make(FopImageFactory.java:181)\n        at org.apache.fop.fo.flow.ExternalGraphic.layout\n(ExternalGraphic.java:188)\n        at org.apache.fop.fo.flow.Block.layout(Block.java:257)\n        at org.apache.fop.fo.flow.TableCell.layout(TableCell.java:326)\n        at org.apache.fop.fo.flow.TableRow.layout(TableRow.java:360)\n        at org.apache.fop.fo.flow.AbstractTableBody.layout\n(AbstractTableBody.java:236)\n        at org.apache.fop.fo.flow.Table.layout(Table.java:302)\n        at org.apache.fop.fo.flow.AbstractFlow.layout(AbstractFlow.java:154)\n        at org.apache.fop.fo.flow.AbstractFlow.layout(AbstractFlow.java:110)\n        at org.apache.fop.fo.pagination.PageSequence.makePage\n(PageSequence.java:400)\n        at org.apache.fop.fo.pagination.PageSequence.format\n(PageSequence.java:338)\n        at org.apache.fop.apps.StreamRenderer.render(StreamRenderer.java:262)\n        at org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:223)\n        at org.apache.xalan.transformer.ResultTreeHandler.endElement\n(ResultTreeHandler.java:307)\n        at org.apache.xalan.templates.ElemLiteralResult.execute\n(ElemLiteralResult.java:716)\n        at org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes\n(ElemApplyTemplates.java:426)\n        at org.apache.xalan.templates.ElemApplyTemplates.execute\n(ElemApplyTemplates.java:215)\n        at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates\n(TransformerImpl.java:2324)\n        at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode\n(TransformerImpl.java:2147)\n        at org.apache.xalan.transformer.TransformerImpl.transformNode\n(TransformerImpl.java:1203)\n        at org.apache.xalan.transformer.TransformerImpl.run\n(TransformerImpl.java:3357)\n        at org.apache.xalan.transformer.TransformerHandlerImpl.endDocument\n(TransformerHandlerImpl.java:433)\n        at org.apache.xerces.parsers.SAXParser.endDocument(SAXParser.java:1230)\n        at org.apache.xerces.validators.common.XMLValidator.callEndDocument\n(XMLValidator.java:1146)\n        at \norg.apache.xerces.framework.XMLDocumentScanner$EndOfInputDispatcher.dispatch\n(XMLDocumentScanner.java:1499)\n        at org.apache.xerces.framework.XMLDocumentScanner.parseSome\n(XMLDocumentScanner.java:381)\n        at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1098)\n        at org.apache.xalan.transformer.TrAXFilter.parse(TrAXFilter.java:134)\n        at org.apache.fop.apps.Driver.render(Driver.java:498)\n        at com.statestreet.sle.ca.util.CAPDFHelper.getPDFAsByteArr(Unknown \nSource)\n        at com.statestreet.sle.ca.util.CAPDFHelper.getPDF(Unknown Source)\n        at org.apache.jsp._CAPDFGenerator._jspService(_CAPDFGenerator.java:85)\n        at com.ibm.ws.webcontainer.jsp.runtime.HttpJspBase.service\n(HttpJspBase.java:89)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at \ncom.ibm.ws.webcontainer.jsp.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:344)\n        at com.ibm.ws.webcontainer.jsp.servlet.JspServlet.serviceJspFile\n(JspServlet.java:683)\n        at com.ibm.ws.webcontainer.jsp.servlet.JspServlet.service\n(JspServlet.java:781)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at com.ibm.ws.webcontainer.servlet.StrictServletInstance.doService\n(StrictServletInstance.java:110)\n        at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet._service\n(StrictLifecycleServlet.java:174)\n        at com.ibm.ws.webcontainer.servlet.IdleServletState.service\n(StrictLifecycleServlet.java:313)\n        at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet.service\n(StrictLifecycleServlet.java:116)\n        at com.ibm.ws.webcontainer.servlet.ServletInstance.service\n(ServletInstance.java:283)\n        at com.ibm.ws.webcontainer.servlet.ValidServletReferenceState.dispatch\n(ValidServletReferenceState.java:42)\n        at com.ibm.ws.webcontainer.servlet.ServletInstanceReference.dispatch\n(ServletInstanceReference.java:40)\n        at \ncom.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.handleWebAppDispatch\n(WebAppRequestDispatcher.java:1095)\n        at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.dispatch\n(WebAppRequestDispatcher.java:627)\n        at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward\n(WebAppRequestDispatcher.java:201)\n        at com.ibm.ws.webcontainer.srt.WebAppInvoker.doForward\n(WebAppInvoker.java:125)\n        at com.ibm.ws.webcontainer.srt.WebAppInvoker.handleInvocationHook\n(WebAppInvoker.java:286)\n        at \ncom.ibm.ws.webcontainer.cache.invocation.CachedInvocation.handleInvocation\n(CachedInvocation.java:71)\n        at com.ibm.ws.webcontainer.srp.ServletRequestProcessor.dispatchByURI\n(ServletRequestProcessor.java:182)\n        at com.ibm.ws.webcontainer.oselistener.OSEListenerDispatcher.service\n(OSEListener.java:334)\n        at com.ibm.ws.webcontainer.http.HttpConnection.handleRequest\n(HttpConnection.java:56)\n        at com.ibm.ws.http.HttpConnection.readAndHandleRequest\n(HttpConnection.java:652)\n        at com.ibm.ws.http.HttpConnection.run(HttpConnection.java:448)\n        at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:912)"}, {"text": "Please advice as quick as possible , since the same issue is arised in UAT \nalso.But i tried in windows with the same set of versions in integration and \nuat, everything works fine.\n\nBut in Solaris execpt one dev environment others does not load the image", "tags": [], "bug_id": 38719, "is_private": false, "count": 1, "id": 85951, "time": "2006-02-20T13:59:26Z", "creator": "Balamurali.Bhaeeman@gmail.com", "creation_time": "2006-02-20T13:59:26Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "You say you deploy on JRE 1.4. That means that xml-apis*.jar, jaxp.jar,\nxerces*.jar and xalan*.jar do not need to be deployed (JAXP, XML parser and XSLT\nimplementation are included in the java class library), or rather they have no\neffect or may even be responsible for the problem you experience. I'd start by\nremoving these JARs. Please note that the two xml-apis.jar and jaxp.jar all\ncontain more or less the same stuff. Furthermore, please make sure that you use\nthe batik.jar that comes with FOP 0.20.5.\n\nI hope that helps. Please close the issue when you have resolved it.", "is_private": false, "bug_id": 38719, "id": 85960, "time": "2006-02-20T16:00:31Z", "creator": "jeremias@apache.org", "creation_time": "2006-02-20T16:00:31Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "I see that the batik.jar i use with fop 0.20.5 is 2.06MB and it works in \nwindows and one of my Solaris dev as I have already mentioned and throws the \nabove error in integration and UAT environments.\n\nBut I see the batik.jar which comes with fop 0.20.5 is 2.01MB \n\nIs there any possibilty with which batik.jar i use currently(2.06MB ) may work \nin one environment and throw the error in other?\n\nSo that I can goahead and replace the batik.jar jar shipped with fop 0.20.5 for \nimage loading on all my environment\n\n\n(In reply to comment #2)\n> You say you deploy on JRE 1.4. That means that xml-apis*.jar, jaxp.jar,\n> xerces*.jar and xalan*.jar do not need to be deployed (JAXP, XML parser and \nXSLT\n> implementation are included in the java class library), or rather they have no\n> effect or may even be responsible for the problem you experience. I'd start by\n> removing these JARs. Please note that the two xml-apis.jar and jaxp.jar all\n> contain more or less the same stuff. Furthermore, please make sure that you \nuse\n> the batik.jar that comes with FOP 0.20.5.\n> I hope that helps. Please close the issue when you have resolved it.\n", "attachment_id": null, "bug_id": 38719, "id": 86010, "time": "2006-02-21T16:23:30Z", "creator": "Balamurali.Bhaeeman@gmail.com", "creation_time": "2006-02-21T16:23:30Z", "is_private": false}, {"text": "The thing with batik.jar is probably less important in your case. Just try my\nsuggestions concerning the XML libraries and if it still doesn't work come back\nhere.", "tags": [], "bug_id": 38719, "is_private": false, "count": 4, "id": 86020, "time": "2006-02-21T17:01:56Z", "creator": "jeremias@apache.org", "creation_time": "2006-02-21T17:01:56Z", "attachment_id": null}, {"text": "(In reply to comment #4)\n> The thing with batik.jar is probably less important in your case. Just try my\n> suggestions concerning the XML libraries and if it still doesn't work come \nback\n> here.\n\nIt is working fine now . Thanks for u'r advice", "tags": [], "bug_id": 38719, "attachment_id": null, "count": 5, "id": 86120, "time": "2006-02-23T06:50:31Z", "creator": "Balamurali.Bhaeeman@gmail.com", "creation_time": "2006-02-23T06:50:31Z", "is_private": false}, {"count": 6, "tags": [], "creator": "jeremias@apache.org", "attachment_id": null, "is_private": false, "id": 86129, "time": "2006-02-23T11:47:00Z", "bug_id": 38719, "creation_time": "2006-02-23T11:47:00Z", "text": "*** Bug 38750 has been marked as a duplicate of this bug. ***"}]