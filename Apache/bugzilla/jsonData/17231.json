[{"count": 0, "tags": [], "bug_id": 17231, "text": "Some wml browser does not work with POST method.\nI guess this problem is caused by HTTP header content-type(\"application/x-www-\nform-urlencoded\").\n\nphone browser's HTTP header here: (Samsung, SK Telecom and so on...)\n\n    content-type=application/x-www-form-urlencoded;charset=iso-8859-1\n\n    content-type=application/x-www-form-urlencoded;SKY \u2013 charset=Korean\n\ncatalina source here: in org.apache.catalina.connector.HttpRequestBase\n\nprotected void parseParameters() {\n\n    ...\n    if (\"POST\".equals(getMethod()) && (getContentLength() > 0)\n        && (this.stream == null)\n        && \"application/x-www-form-urlencoded\".equals(contentType)) {\n    ...\n}", "id": 31647, "time": "2003-02-20T04:59:12Z", "creator": "dossier@hitel.net", "creation_time": "2003-02-20T04:59:12Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 17231, "attachment_id": null, "text": "There have been some additions to tomcat to address various character encoding \nissues. I have added my standard text on this below. With the latest version, \nyour first case should be handled correctly. The second case looks to be an \ninvalid header but I might be wrong about this.\n\n\nThere are a number of situations where there may be a requirement to use non-\nUS ASCII characters in a URI. These include:\n- Parameters in the query string\n- Servlet paths\n\nThere is a standard for encoding URIs (http://www.w3.org/International/O-URL-\ncode.html) but this standard is not consistently followed by clients. This \ncauses a number of problems.\n\nThe functionality provided by Tomcat (4 and 5) to handle this less than ideal \nsituation is described below.\n\n1. The Coyote HTTP/1.1 connector has a useBodyEncodingForURI attribute which \nif set to true will use the request body encoding to decode the URI query \nparameters.\n  - The default value is true for TC4 (breaks spec but gives consistent \nbehaviour across TC4 versions)\n  - The default value is false for TC5 (spec compliant but there may be \nmigration issues for some apps)\n2. The Coyote HTTP/1.1 connector has a URIEncoding attribute which defaults to \nISO-8859-1.\n3. The parameters class (o.a.t.u.http.Parameters) has a QueryStringEncoding \nfield which defaults to the URIEncoding. It must be set before the parameters \nare parsed to have an effect.\n\nThings to note regarding the servlet API:\n1. HttpServletRequest.setCharacterEncoding() normally only applies to the \nrequest body NOT the URI.\n2. HttpServletRequest.getPathInfo() is decoded by the web container.\n3. HttpServletRequest.getRequestURI() is not decoded by container.\n\nOther tips:\n1. Use POST with forms to return parameters as the parameters are then part of \nthe request body.\n", "id": 53743, "time": "2004-03-09T19:24:36Z", "creator": "markt@apache.org", "creation_time": "2004-03-09T19:24:36Z", "is_private": false}]