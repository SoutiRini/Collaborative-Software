[{"count": 0, "tags": [], "bug_id": 22437, "attachment_id": null, "is_private": false, "id": 42774, "time": "2003-08-14T19:26:54Z", "creator": "marciojc@midiaweb.com.br", "creation_time": "2003-08-14T19:26:54Z", "text": "I compiled apache without any config option.\n\nWhen I ran htpasswd a Segment Fault occurr.\nThen I ran that:\n# strace htpasswd -c teste.pw teste\nOutput is above:\n-----\nexecve(\"/usr/local/bin/htpasswd\", [\"htpasswd\", \"-c\", \"teste.pw\", \"teste\"], [/* \n29 vars */]) = 0\nuname({sys=\"Linux\", node=\"servidor.midiaweb.com.br\", ...}) = 0\nbrk(0)                                  = 0x804b558\nold_mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = \n0x40016000\nopen(\"/etc/ld.so.preload\", O_RDONLY)    = -1 ENOENT (No such file or directory)\nopen(\"/usr/local/apache/lib/i686/mmx/libaprutil-0.so.0\", O_RDONLY) = -1 ENOENT \n(No such file or directory)\nstat64(\"/usr/local/apache/lib/i686/mmx\", 0xbfffea7c) = -1 ENOSYS (Function not \nimplemented)\nstat(\"/usr/local/apache/lib/i686/mmx\", 0xbfffe99c) = -1 ENOENT (No such file or \ndirectory)\nopen(\"/usr/local/apache/lib/i686/libaprutil-0.so.0\", O_RDONLY) = -1 ENOENT (No \nsuch file or directory)\nstat(\"/usr/local/apache/lib/i686\", 0xbfffe99c) = -1 ENOENT (No such file or \ndirectory)\nopen(\"/usr/local/apache/lib/mmx/libaprutil-0.so.0\", O_RDONLY) = -1 ENOENT (No \nsuch file or directory)\nstat(\"/usr/local/apache/lib/mmx\", 0xbfffe99c) = -1 ENOENT (No such file or \ndirectory)\nopen(\"/usr/local/apache/lib/libaprutil-0.so.0\", O_RDONLY) = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\320P\\0\"..., 1024) = \n1024\nfstat(3, {st_mode=S_IFREG|0700, st_size=403927, ...}) = 0\nold_mmap(NULL, 80864, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x40017000\nmprotect(0x4002a000, 3040, PROT_NONE)   = 0\nold_mmap(0x4002a000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, \n0x12000) = 0x4002a000\nclose(3)                                = 0\nopen(\"/usr/local/apache/lib/libgdbm.so.2\", O_RDONLY) = -1 ENOENT (No such file \nor directory)\nopen(\"/etc/ld.so.cache\", O_RDONLY)      = 3\nfstat(3, {st_mode=S_IFREG|0644, st_size=38229, ...}) = 0\nold_mmap(NULL, 38229, PROT_READ, MAP_PRIVATE, 3, 0) = 0x4002b000\nclose(3)                                = 0\nopen(\"/usr/lib/libgdbm.so.2\", O_RDONLY) = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\360\\24\"..., 1024) = \n1024\nfstat(3, {st_mode=S_IFREG|0755, st_size=29050, ...}) = 0\nold_mmap(NULL, 24260, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x40035000\nmprotect(0x4003a000, 3780, PROT_NONE)   = 0\nold_mmap(0x4003a000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, \n0x4000) = 0x4003a000\nclose(3)                                = 0\nopen(\"/usr/local/apache/lib/libdb.so.2\", O_RDONLY) = -1 ENOENT (No such file or \ndirectory)\nopen(\"/usr/lib/libdb.so.2\", O_RDONLY)   = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\0\\24\\0\"..., 1024) = \n1024\nfstat(3, {st_mode=S_IFREG|0755, st_size=60752, ...}) = 0\nold_mmap(NULL, 53360, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x4003b000\nmprotect(0x40047000, 4208, PROT_NONE)   = 0\nold_mmap(0x40047000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, \n0xb000) = 0x40047000\nclose(3)                                = 0\nopen(\"/usr/local/apache/lib/libexpat.so.0\", O_RDONLY) = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\360\\37\"..., 1024) = \n1024\nfstat(3, {st_mode=S_IFREG|0755, st_size=283990, ...}) = 0\nold_mmap(NULL, 114044, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x40049000\nmprotect(0x40063000, 7548, PROT_NONE)   = 0\nold_mmap(0x40063000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, \n0x19000) = 0x40063000\nclose(3)                                = 0\nopen(\"/usr/local/apache/lib/libapr-0.so.0\", O_RDONLY) = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0`\\204\\0\"..., 1024) = \n1024\nfstat(3, {st_mode=S_IFREG|0700, st_size=643673, ...}) = 0\nold_mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = \n0x40065000\nold_mmap(NULL, 117808, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x40066000\nmprotect(0x40082000, 3120, PROT_NONE)   = 0\nold_mmap(0x40082000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, \n0x1b000) = 0x40082000\nclose(3)                                = 0\nopen(\"/usr/local/apache/lib/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such \nfile or directory)\nopen(\"/lib/libpthread.so.0\", O_RDONLY)  = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\360O\\0\"..., 1024) = \n1024\nfstat(3, {st_mode=S_IFREG|0755, st_size=557647, ...}) = 0\nold_mmap(NULL, 90460, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x40083000\nmprotect(0x40092000, 29020, PROT_NONE)  = 0\nold_mmap(0x40092000, 28672, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, \n0xe000) = 0x40092000\nold_mmap(0x40099000, 348, PROT_READ|PROT_WRITE, \nMAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x40099000\nclose(3)                                = 0\nopen(\"/usr/local/apache/lib/librt.so.1\", O_RDONLY) = -1 ENOENT (No such file or \ndirectory)\nopen(\"/lib/librt.so.1\", O_RDONLY)       = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\340!\\0\"..., 1024) = \n1024\nfstat(3, {st_mode=S_IFREG|0755, st_size=165899, ...}) = 0\nold_mmap(NULL, 70548, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x4009a000\nmprotect(0x400a0000, 45972, PROT_NONE)  = 0\nold_mmap(0x400a0000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, \n0x5000) = 0x400a0000\nold_mmap(0x400a1000, 41876, PROT_READ|PROT_WRITE, \nMAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x400a1000\nclose(3)                                = 0\nopen(\"/usr/local/apache/lib/libm.so.6\", O_RDONLY) = -1 ENOENT (No such file or \ndirectory)\nopen(\"/lib/libm.so.6\", O_RDONLY)        = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\320H\\0\"..., 1024) = \n1024\nfstat(3, {st_mode=S_IFREG|0755, st_size=615842, ...}) = 0\nold_mmap(NULL, 138964, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x400ac000\nmprotect(0x400cd000, 3796, PROT_NONE)   = 0\nold_mmap(0x400cd000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, \n0x20000) = 0x400cd000\nclose(3)                                = 0\nopen(\"/usr/local/apache/lib/libcrypt.so.1\", O_RDONLY) = -1 ENOENT (No such file \nor directory)\nopen(\"/lib/libcrypt.so.1\", O_RDONLY)    = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0@\\17\\0\\000\"..., 1024) = \n1024\nfstat(3, {st_mode=S_IFREG|0755, st_size=87119, ...}) = 0\nold_mmap(NULL, 184188, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x400ce000\nmprotect(0x400d3000, 163708, PROT_NONE) = 0\nold_mmap(0x400d3000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, \n0x4000) = 0x400d3000\nold_mmap(0x400d4000, 159612, PROT_READ|PROT_WRITE, \nMAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x400d4000\nclose(3)                                = 0\nopen(\"/usr/local/apache/lib/libnsl.so.1\", O_RDONLY) = -1 ENOENT (No such file \nor directory)\nopen(\"/lib/libnsl.so.1\", O_RDONLY)      = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0p?\\0\\000\"..., 1024) = \n1024\nfstat(3, {st_mode=S_IFREG|0755, st_size=448401, ...}) = 0\nold_mmap(NULL, 91964, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x400fb000\nmprotect(0x4010e000, 14140, PROT_NONE)  = 0\nold_mmap(0x4010e000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, \n0x12000) = 0x4010e000\nold_mmap(0x40110000, 5948, PROT_READ|PROT_WRITE, \nMAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x40110000\nclose(3)                                = 0\nopen(\"/usr/local/apache/lib/libdl.so.2\", O_RDONLY) = -1 ENOENT (No such file or \ndirectory)\nopen(\"/lib/libdl.so.2\", O_RDONLY)       = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\200\\35\"..., 1024) = \n1024\nfstat(3, {st_mode=S_IFREG|0755, st_size=65417, ...}) = 0\nold_mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = \n0x40112000\nold_mmap(NULL, 12532, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x40113000\nmprotect(0x40115000, 4340, PROT_NONE)   = 0\nold_mmap(0x40115000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, \n0x1000) = 0x40115000\nclose(3)                                = 0\nopen(\"/usr/local/apache/lib/libc.so.6\", O_RDONLY) = -1 ENOENT (No such file or \ndirectory)\nopen(\"/lib/libc.so.6\", O_RDONLY)        = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\360\\303\"..., 1024) = \n1024\nfstat(3, {st_mode=S_IFREG|0755, st_size=5725295, ...}) = 0\nold_mmap(NULL, 1265832, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0x40117000\nmprotect(0x40243000, 37032, PROT_NONE)  = 0\nold_mmap(0x40243000, 20480, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, \n0x12b000) = 0x40243000\nold_mmap(0x40248000, 16552, PROT_READ|PROT_WRITE, \nMAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x40248000\nclose(3)                                = 0\n--- SIGSEGV (Segmentation fault) ---\n+++ killed by SIGSEGV +++"}, {"count": 1, "tags": [], "bug_id": 22437, "attachment_id": null, "id": 42859, "time": "2003-08-16T19:46:50Z", "creator": "nd@perlig.de", "creation_time": "2003-08-16T19:46:50Z", "is_private": false, "text": "Hmm, cannot reproduce here.\nHowever, can you please re-compile using the --enable-maintainer-mode configure\noption and let htpasswd create a core dump and give a backtrace. About as follows:\n\nulimit -c unlimited\n./htpasswd\n# segfault should occur here and core should be dumped to file 'core'\n\ngdb ./htpasswd -core core\n(gdb) where\n\nThanks!"}, {"count": 2, "tags": [], "text": "No follow up for well over half a year; so lets close this.", "is_private": false, "id": 57053, "creator": "thom@planetarytramp.net", "time": "2004-05-09T13:17:22Z", "bug_id": 22437, "creation_time": "2004-05-09T13:17:22Z", "attachment_id": null}]