[{"count": 0, "tags": [], "creator": "andreas.ames@tenovis.com", "text": "The patch applies to revision 1.1 of SubAnt.java in the cvs repository. \n \nIt tries to achieve the following: \n \n* adds 'output' attribute to <subant> (directly corresponding to <ant>'s attribute of the \nsame name) \n* includes Gus Heck's patch (see \nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=18391) \n* fixes small bug with removal of 'target' attribute's default value \n(getOwningTarget().getName()) (removal occured on addition to cvs) \n* specifies now 'dir' attribute to delegated <ant> (under certain circumstances, see \nbelow) \n \nIf the currently processed element of the 'buildpath' attribute is a filename, the original \nbehaviour is preserved.  But if the current element is a directoryname, the behaviour is \nas follows: \n \n* If the 'antfile' attribute is an absolute filename, then the following settings are given to \n<ant>: \n \n- dir=current element of 'buildpath' \n- antfile = the value of <subant>'s 'antfile' attribute \n \n* If 'antfile' is not absolute (i.e. when the default value is used), the following settings \napply to <ant>: \n \n- dir=current element of 'buildpath' \n- antfile = the absolute filename that results when <subant>'s 'antfile' value is resolved \nagainst the current element of 'buildpath'. \n \nTo specify absolute filenames as the 'antfile' attribute to <ant> (which is not \ndocumented, AFAICT) is possible because of the (also undocumented) behaviour of \nFileUtils.resolveFile(file, filename), that it returns File(filename) if filename is absolute.  \nThe check for absoluteness seems to be platform dependent.  It would be nice, if the \nmaintainers could state, whether this behaviour will be preserved (i.e. setting absolute \nfilenames to <ant>'s 'antfile'). \n \nFor a short discussion about (and a rationale to) this patch, see \nhttp://marc.theaimsgroup.com/?t=104876704900001&r=1&w=2.  Please note that I've \nfound no easy way to preserve full backwards compatibility as I've stated too rashly in \nmy mail.", "id": 34537, "attachment_id": null, "bug_id": 18715, "creation_time": "2003-04-04T16:23:25Z", "time": "2003-04-04T16:23:25Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 5648\npatch against SubAnt.java, revision 1.1", "attachment_id": 5648, "id": 34539, "creator": "andreas.ames@tenovis.com", "time": "2003-04-04T16:26:25Z", "bug_id": 18715, "creation_time": "2003-04-04T16:26:25Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 18715, "text": "Created attachment 6381\nslightly modified version of the patch proposed by Andreas Ames", "id": 37316, "time": "2003-05-16T10:59:01Z", "creator": "levylambert@tiscali-dsl.de", "creation_time": "2003-05-16T10:59:01Z", "is_private": false, "attachment_id": 6381}, {"count": 3, "tags": [], "text": "I would prefer to create a specific attribute to support what Andreas Ames wants \nto do. I call it \"genericantfile\".\nI guess that you want to have as base dir in the sub builds the directory of the \ncurrent iteration in the dirset, so I have added an ant.setDir(directory) in \nthis case.\nLet me know if this is OK.", "is_private": false, "id": 37317, "creator": "levylambert@tiscali-dsl.de", "time": "2003-05-16T11:02:40Z", "bug_id": 18715, "creation_time": "2003-05-16T11:02:40Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "levylambert@tiscali-dsl.de", "attachment_id": null, "is_private": false, "id": 37525, "time": "2003-05-21T07:33:54Z", "bug_id": 18715, "creation_time": "2003-05-21T07:33:54Z", "text": "Code submitted, with an embryo of testcase and updated doc\nwill be in the next nightly build\nI am closing the bug report for now; reopen it if there are any issues. reopen "}, {"count": 5, "attachment_id": null, "bug_id": 18715, "is_private": false, "id": 37527, "time": "2003-05-21T07:36:12Z", "creator": "levylambert@tiscali-dsl.de", "creation_time": "2003-05-21T07:36:12Z", "tags": [], "text": "*** Bug 18391 has been marked as a duplicate of this bug. ***"}, {"count": 6, "attachment_id": null, "bug_id": 18715, "is_private": false, "id": 37546, "time": "2003-05-21T14:08:54Z", "creator": "ddevienne@lgc.com", "creation_time": "2003-05-21T14:08:54Z", "tags": [], "text": "I'm -1 to ignoremissingbuildfile. Useless code/doc for something that's more \nnaturally addressed by a fileset. This is turning Ant into Perl, where there's \nmore than one way to do something, which is far for ideal to say the least in \nthis case. This is an invalid use case, as opposed to genericAntFile. --DD"}, {"count": 7, "tags": [], "creator": "levylambert@tiscali-dsl.de", "attachment_id": null, "is_private": false, "id": 37567, "time": "2003-05-21T21:32:46Z", "bug_id": 18715, "creation_time": "2003-05-21T21:32:46Z", "text": "I will remove ignoremissingbuildfile tomorrow. Sorry for the trouble."}, {"count": 8, "tags": [], "creator": "levylambert@tiscali-dsl.de", "attachment_id": null, "id": 37790, "time": "2003-05-26T07:06:43Z", "bug_id": 18715, "creation_time": "2003-05-26T07:06:43Z", "is_private": false, "text": "ignoremissingbuildfiles has been removed in CVS on 2003/05/22 07:27:50 (SubAnt.\njava revision 1.4)\nI am marking this bug report as resolved again."}]