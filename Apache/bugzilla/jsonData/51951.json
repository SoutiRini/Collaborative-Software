[{"count": 0, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "is_private": false, "id": 150127, "time": "2011-10-04T14:46:00Z", "bug_id": 51951, "creation_time": "2011-10-04T14:46:00Z", "text": "See https://issues.apache.org/jira/browse/INFRA-3974.\n\nSome mails to the press@ mailing list hang in the \"Loading ...\" phase."}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 150634, "time": "2011-10-16T12:06:14Z", "bug_id": 51951, "creation_time": "2011-10-16T12:06:14Z", "is_private": false, "text": "The following mails from press hang in Firefox and Chrome:\n\nFW: 24 articles from Meltwater News\tThu, 29 Sep, 14:18\nFW: 13 articles from Meltwater News\tFri, 30 Sep, 13:10\n\nThese hang in Firefox, but are OK in Chrome:\n\nRe: FW: 13 articles from Meltwater News\tFri, 30 Sep, 15:22\nRe: FW: 13 articles from Meltwater News\tFri, 30 Sep, 15:45\n\nHowever, they all display OK in Opera.\n\nAnother peculiarity.\nWhen displaying Sep 2011 by date, there are two pages.\n\nBoth Firefox and Chrome showed the \"Loading ...\" box after displaying page 2, but Opera is OK. It looks as though the full page has been displayed.\nHowever, on restarting the browses, this no longer happens, so it looks like the earlier errors may have caused a flag to be set in the browser."}, {"count": 2, "text": "Just discovered something else.\n\nThe hang only seems to occur when using browser mode.\n\nIf I click on \"Message List\" the URL changes from\n\nhttps://mail-search.apache.org/members/private-arch/press/201109.mbox/browser\n\nto\n\nhttps://mail-search.apache.org/members/private-arch/press/201109.mbox/thread?0\n\nand I can successfully load the messages in Firefox and Chrome\n\nThat explains why Opera does not have a problem - it automatically switches back to non-brower (flat) mode; it just won't run in browser mode as far as I can tell.", "bug_id": 51951, "is_private": false, "id": 150635, "time": "2011-10-16T13:41:28Z", "creator": "sebb@apache.org", "creation_time": "2011-10-16T13:41:28Z", "tags": [], "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 51951, "is_private": false, "id": 150637, "time": "2011-10-16T14:32:08Z", "creator": "sf@sfritsch.de", "creation_time": "2011-10-16T14:32:08Z", "tags": [], "text": "I seem to remember another instance of mod_mbox hanging on a message with some uncommon special character in the msgid, but unfortunately I didn't write it down or otherwise investigate. Can you post what special characters are in the msgid of the relevant messages? I don't have access to that list archive."}, {"count": 4, "attachment_id": null, "bug_id": 51951, "is_private": false, "id": 150638, "time": "2011-10-16T18:39:52Z", "creator": "sebb@apache.org", "creation_time": "2011-10-16T18:39:52Z", "tags": [], "text": "One of the press messages that causes the hang has the id:\n\nMessage-ID: <838320.64757.qm@smtp107-mob.biz.mail.ird.yahoo.com>\n\nIt displays OK when accessed via the URL:\n\nhttps://mail-search.apache.org/members/private-arch/press/201109.mbox/%3C838320.64757.qm@smtp107-mob.biz.mail.ird.yahoo.com%3E\n\nHowever, it hangs with \"Loading ...\" when its link is clicked in the browser view:\n\nhttps://mail-search.apache.org/members/private-arch/press/201109.mbox/ajax/%3c838320.64757.qm@smtp107-mob.biz.mail.ird.yahoo.com%3e\n\nHowever, if the same link is opened in a new tab, I get:\n\n>>>\nThis page contains the following errors:\n\nerror on line 537 at column 12: Unescaped '<' not allowed in attributes values\nBelow is a rendering of the page up to the first error.\n<<<\n\nThe message in question does not seem to contain any confidential material; I'll ask the person who posted it if I can extract the message for debug purposes."}, {"count": 5, "attachment_id": null, "bug_id": 51951, "is_private": false, "id": 150639, "time": "2011-10-16T18:58:01Z", "creator": "danielsh@apache.org", "creation_time": "2011-10-16T18:58:01Z", "tags": [], "text": "The raw message (as retrieved by 'curl .../raw/<${message-id}>') contains the following MIME header, starting at line 786:\n\n------_=_0xb42df1f995e3b561b8f78bef56f648fa_=_----\nContent-Type: image/jpeg;\n        name=\"<translated.jpg>\"\nContent-ID: translated.jpg\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment;\n        filename=\"<translated.jpg>\"\nContent-Description: Tag-6f8d62c1-d818-44f1-8075-8b8cc065f1ff\n\nThis is the second MIME part; the first is a text/plain body.  There are several attachments."}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "is_private": false, "id": 150650, "time": "2011-10-17T00:42:24Z", "bug_id": 51951, "creation_time": "2011-10-17T00:42:24Z", "text": "Just found a public posting that causes the problem in Firefox:\n\nhttp://mail-archives.apache.org/mod_mbox/xml-xalan-j-users/201104.mbox/browser\n\nClick on penultimate message:\n\nQi Wang\t  Re: GSoC project \"Implement XSLT 2.0 and XPath 2.0 for Xalan\" need your advides\tMon, 18 Apr, 01:52\n\nThis causes the hang. Right-click/open in new tab and I get the error:\n\nXML Parsing Error: not well-formed\n\nLocation: http://mail-archives.apache.org/mod_mbox/xml-xalan-j-users/201104.mbox/ajax/%3cBANLkTin21uaRA5u+-CBw=XC4XUksDtdh_w@mail.gmail.com%3e\nLine Number 13, Column 25:\n\n2011/4/18 Jesper Steen M\uffffller &lt;jesper@selskabet.org&gt;\n------------------------^\n\nChrome loads the message OK in browse mode, but gives the error:\n\nThis page contains the following errors:\n\nerror on line 13 at column 8: Encoding error\n\nHope that helps find the issue."}, {"count": 7, "tags": [], "text": "Pressed button too soon: meant to say that the Chrome error is generated when loading the message in a new tab.", "attachment_id": null, "bug_id": 51951, "id": 150651, "time": "2011-10-17T00:44:42Z", "creator": "sebb@apache.org", "creation_time": "2011-10-17T00:44:42Z", "is_private": false}, {"count": 8, "text": "The problem is that mod_mbox claims it sends UTF8 to the browser, but it does not actually convert the message body from a different charset to UTF8. At least if the message is part of a multipart mime message.", "bug_id": 51951, "is_private": false, "id": 150885, "time": "2011-10-24T22:11:45Z", "creator": "sf@sfritsch.de", "creation_time": "2011-10-24T22:11:45Z", "tags": [], "attachment_id": null}, {"count": 9, "tags": [], "creator": "sf@sfritsch.de", "attachment_id": null, "id": 158066, "time": "2012-04-14T10:27:28Z", "bug_id": 51951, "creation_time": "2012-04-14T10:27:28Z", "is_private": false, "text": "Please check if this has been fixed by the recent changes."}, {"count": 10, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 158071, "time": "2012-04-14T12:13:19Z", "bug_id": 51951, "creation_time": "2012-04-14T12:13:19Z", "is_private": false, "text": "The xalan link:\n\nhttp://mail-archives.apache.org/mod_mbox/xml-xalan-j-users/201104.mbox/browser\n\nnow works OK in Fx, Opera, Chrome.\n\nThe Press message does not, but I guess that's because private archive server has yet to be updated.\n\nKeeping bug open until private mail server confirmed OK."}, {"count": 11, "tags": [], "creator": "danielsh@apache.org", "attachment_id": null, "is_private": false, "id": 158073, "time": "2012-04-14T12:16:59Z", "bug_id": 51951, "creation_time": "2012-04-14T12:16:59Z", "text": "That's correct, mail-search.apache.org hasn't been updated to the new code yet."}]