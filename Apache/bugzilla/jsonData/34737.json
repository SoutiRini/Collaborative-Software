[{"attachment_id": null, "tags": [], "bug_id": 34737, "is_private": false, "count": 0, "id": 74429, "time": "2005-05-04T13:40:14Z", "creator": "qmax@mediasoft.ru", "creation_time": "2005-05-04T13:40:14Z", "text": "it should load and authenticate users/groups/ipranges from ldap database."}, {"count": 1, "tags": [], "creator": "qmax@mediasoft.ru", "attachment_id": 14998, "text": "Created attachment 14998\nimplementation\n\nThis is implementation of LDAPAccreditableManager.\nIt works in read/only mode: could only read users/groups/ipranges/roles from\nldap database, but not create new.\nIPRanges are not groupable, because groups are oriented to ldap posixGroups of\nusers.\nRoles are also stored in ldap, just for fun.\n\nDocumentation is in javadoc.", "id": 74725, "time": "2005-05-11T17:40:07Z", "bug_id": 34737, "creation_time": "2005-05-11T17:40:07Z", "is_private": false}, {"count": 2, "tags": [], "creator": "qmax@mediasoft.ru", "attachment_id": null, "id": 74764, "time": "2005-05-12T06:40:20Z", "bug_id": 34737, "creation_time": "2005-05-12T06:40:20Z", "is_private": false, "text": "Required setup\ncocoon.xconf:\n<accreditable-managers>\n    <component-instance logger=\"lenya.ac.accreditablemanager\"\nclass=\"org.apache.lenya.ac.file.FileAccreditableManager\" name=\n    <component-instance logger=\"lenya.ac.accreditablemanager\"\nclass=\"org.apache.lenya.ac.ldap.LDAPAccreditableManager\" name=\n</accreditable-managers>\n\nlenya.roles:\n  <role name=\"org.apache.lenya.ac.AccreditableManagerSelector\"\n        shorthand=\"accreditable-managers\"\n       \ndefault-class=\"org.apache.avalon.excalibur.component.ExcaliburComponentSelector\">\n    <hint shorthand=\"file\"\nclass=\"org.apache.lenya.ac.file.FileAccreditableManager\"/>\n    <hint shorthand=\"ldap\"\nclass=\"org.apache.lenya.ac.ldap.LDAPAccreditableManager\"/>\n  </role>\n"}, {"count": 3, "tags": [], "bug_id": 34737, "attachment_id": 15005, "text": "Created attachment 15005\nsample configuration\n\nThis is configuration to use LDAPAccreditableManager with nis.scheme\n(posixAccount, posixGroup, ipNetwork)", "id": 74765, "time": "2005-05-12T06:48:22Z", "creator": "qmax@mediasoft.ru", "creation_time": "2005-05-12T06:48:22Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 34737, "attachment_id": null, "id": 74830, "time": "2005-05-12T23:03:50Z", "creator": "tschlabach@apache.org", "creation_time": "2005-05-12T23:03:50Z", "is_private": false, "text": "(In reply to comment #3)\n> Created an attachment (id=15005) [edit]\n> sample configuration\n> This is configuration to use LDAPAccreditableManager with nis.scheme\n> (posixAccount, posixGroup, ipNetwork)\n\nThank you for the clarification. We should point this out in the \ndocumentation. There is two kinds of LDAP schemes beeing widely used:\n\n1. posixAccount / posixGroup\n\nusually found in environments that use LDAP for Unix type of user admin\n\n2. SimpleSecurityObject / GroupOfUniqueNames\n\noften used if there is no Unix around or if LDAP is not the OS user DB but \njust used for authentication in webapps."}, {"count": 5, "tags": [], "bug_id": 34737, "attachment_id": null, "id": 74906, "time": "2005-05-15T22:10:44Z", "creator": "gregor@apache.org", "creation_time": "2005-05-15T22:10:44Z", "is_private": false, "text": "jwk, can you review?"}, {"count": 6, "tags": [], "bug_id": 34737, "attachment_id": null, "id": 74950, "time": "2005-05-17T09:55:00Z", "creator": "jwkaltz@apache.org", "creation_time": "2005-05-17T09:55:00Z", "is_private": false, "text": "What I understand regarding this patch is :\nthe patch replaces the current LDAPUser mechanism to use the NIS scheme of an\nLDAP directory. That means that other usage scenarios would no longer work, such as:\n- MS Active Directory, which constructs principals quite differently\n- scenarios where the LDAP directory may not be changed for Lenya, i.e. it is\nnot possible / wanted to store any additional information in LDAP for Lenya. In\nthese scenarios, LDAP is just used to check for username/password to avoid users\nhaving multiple passwords within an organization.\nIt looks to me that the patch would break these features. So what we would need\ninstead is maybe a PosixLDAPUser, as something separate from the current LDAPUser. \nIn addition, we would need a configuration mechanism saying whether to use\nFileAccreditableManager (meaning Lenya user confs are located in Lenya) or\nLDAPAccreditableManager (meaning they are located entirely in LDAP), and where\nto use them: e.g. for the whole publication or for individual users. If it's for\nindividual users, we would need a sort of authorization stack (as for example\nLinux's PAM), for example:\n- if a user tries to log-in, first check whether she is a Posix LDAP user\n- if not, check if she is defined in a Lenya file\n\nBottom line: applying this patch replaces the Lenya user handling from Lenya\nconfig files to LDAP Posix entries. As it stands the patch can not be applied to\ncore, more work would be needed so that current Lenya features are still supported.\n"}, {"count": 7, "tags": [], "bug_id": 34737, "attachment_id": null, "id": 75220, "time": "2005-05-23T14:23:07Z", "creator": "jwkaltz@apache.org", "creation_time": "2005-05-23T14:23:07Z", "is_private": false, "text": "added dev to CC list (otherwise IIUC dev list no longer gets notified, as is\nassigned)"}]