[{"count": 0, "tags": [], "text": "I would like to use log4j's SyslogAppender to emit XML Audit Messages\nvia  BSD Syslog Protocol (RFC 3164) from various Health care client\nand server applications to a central Audit Record Repository, as\nspecified by Integrating the Healthcare Enterprise (IHE) Integration\nProfile Audit Trail and Node Authentication (ATNA) in the IHE IT\nInfrastructure Technical Framework. (s. Vol. 1 (ITI TF-1): Integration\nProfiles\n[http://www.ihe.net/Technical_Framework/upload/ihe_iti_tf_2.0_vol1_FT_2005-08-15.pdf],\n Page 55ff).\n\nThere is no explicit requirement by IHE, that an ATNA compliant Audit\nRecord Repository  has to bind on the UDP port 514 assigned for\nsyslog, Therefore clients must be configurable, to send Audit message\nto the repository host also to a different UDP destination port than\n514.\n\nWith the current version of log4j's SyslogAppender you cannot use a\ndifferent UDP destination port than 514. The attached patches (one for\ncurrent trunk, and one for log4j-v1.2.9) would enable to configure any\nport number by new option \"SyslogPort\" - with using 514, as default\nbehavior.\n\nIt's no effort/problem, to use such modified MySyslogAppender and\nMySyslogWriter classes as proprietary extension of log4j, but perhaps\na configurable UDP destination port of log4j's SyslogAppender sounds\nalso useful for others..\n\nBest Regards,\n\ngunter zeilinger\nAgfa Healthcare", "is_private": false, "bug_id": 39687, "id": 89591, "time": "2006-05-30T19:54:10Z", "creator": "gunterze@gmail.com", "creation_time": "2006-05-30T19:54:10Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "gunterze@gmail.com", "attachment_id": 18372, "is_private": false, "id": 89596, "time": "2006-05-30T19:59:28Z", "bug_id": 39687, "creation_time": "2006-05-30T19:59:28Z", "text": "Created attachment 18372\nlog4j-trunk-add-SyslogPort-option.patch"}, {"count": 2, "tags": [], "bug_id": 39687, "attachment_id": 18373, "text": "Created attachment 18373\nlog4j-v1_2-branch-add-SyslogPort-option.patch", "id": 89597, "time": "2006-05-30T20:03:33Z", "creator": "gunterze@gmail.com", "creation_time": "2006-05-30T20:03:33Z", "is_private": false}, {"count": 3, "tags": [], "text": "Any thoughts on supporting :portno syntax on the existing syslogHost property? \nSo that if you specified syslogHost=\"syslog.example.com\", it would go to port\n514 on \"syslog.example.com\" but syslogHost=\"syslog.example.com:1514\" would go to\nport 1514?", "is_private": false, "bug_id": 39687, "id": 89602, "time": "2006-05-30T21:42:32Z", "creator": "carnold@apache.org", "creation_time": "2006-05-30T21:42:32Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 39687, "is_private": false, "id": 89604, "attachment_id": null, "creator": "gunterze@gmail.com", "creation_time": "2006-05-30T22:38:06Z", "time": "2006-05-30T22:38:06Z", "text": "I have no preference."}, {"count": 5, "tags": [], "creator": "gunterze@gmail.com", "attachment_id": 18376, "is_private": false, "id": 89611, "time": "2006-05-31T10:30:27Z", "bug_id": 39687, "creation_time": "2006-05-31T10:30:27Z", "text": "Created attachment 18376\nsupport host:port syntax (log4j-trunk)"}, {"count": 6, "tags": [], "bug_id": 39687, "is_private": false, "id": 89612, "attachment_id": 18377, "creator": "gunterze@gmail.com", "creation_time": "2006-05-31T10:31:21Z", "time": "2006-05-31T10:31:21Z", "text": "Created attachment 18377\nsupport host:port syntax (log4j-v1_2-branch)"}, {"count": 7, "tags": [], "bug_id": 39687, "is_private": false, "id": 92779, "attachment_id": null, "creator": "carnold@apache.org", "creation_time": "2006-08-31T05:17:51Z", "time": "2006-08-31T05:17:51Z", "text": "Committed a slightly different take in rev 438792 to the log4j-1_2 branch and 438801 to the trunk.\n\nAdding a separate \"port\" property to SyslogAppender (as suggested in first set of patches) was \nproblematic since SyslogWriter is created on the call ot setSyslogPort() and order of calling \nsetSyslogPort() and setSyslogHost() could be arbitrary when using configurators.\n\nThe second set of patches would break support for naked IPv6 addresses which would contain colons \nbut would now be interpreted as an address and a port.\n\nThe committed patch will use java.net.URL to parse the syslogHost property except when the property \ncontains more than one colon and does not start with a left bracket.\n\nThe following forms should still be supported:\n\nHost name:    foo.example.org\nIPv4:              127.0.0.1\nIPv6:              ::1\n\nThe following forms are added:\n\nHost and port:        foo.example.org:1514\nIPv4 and port:        127.0.0.1:1514\nIPv6 (URL form):      [::1]\nIPv6 and port:         [::1]:1514\n\nWould appreciate any feedback.                "}]