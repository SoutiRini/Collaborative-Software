[{"count": 0, "attachment_id": 31758, "creator": "richard_fujiyama@hotmail.com", "is_private": false, "id": 176082, "time": "2014-06-28T06:28:23Z", "bug_id": 56679, "creation_time": "2014-06-28T06:28:23Z", "tags": [], "text": "Created attachment 31758\nImplements apr_hash_make_custom2, apr_hash_buckets, and related tests.\n\nAllow creation of an apr_hash with a user provided initial value for ht->max to avoid multiple reallocations for larger hash tables.\n\nThe attached patch:\n- adds a new initializtion function, apr_hash_make_custom2\n- reimplements apr_hash_make and apr_hash_make_custom using apr_hash_make_custom2 to remove duplicated code\n- adds a helper function, apr_hash_buckets, which reports the length of the backing array.  This is used for testing.\n- adds new tests to test/testhash.c that cover both apr_hash_make_custom2 and apr_hash_buckets\n- is made with svn diff against apr 1.6.x branch"}]