[{"count": 0, "tags": [], "bug_id": 9976, "attachment_id": null, "text": "When building --with-egd=/some/path, the following compiler error was \nencountered:\n\n httpd-2.0.39/srclib/apr/libtool --silent --mode=compile gcc -g -O2 -\npthreads   -DHAVE_CONFIG_H -DSOLARIS2=6 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT   -I../../include -I../../include/arch/solaris_sparc -\nI../../include/arch/unix  -c rand.c && touch rand.lo\nrand.c: In function `apr_generate_random_bytes':\nrand.c:124: `socklen_t' undeclared (first use in this function)\nrand.c:124: (Each undeclared identifier is reported only once\nrand.c:124: for each function it appears in.)\nrand.c:124: parse error before \"egd_addr_len\"\nrand.c:138: `egd_addr_len' undeclared (first use in this function)\ngmake[4]: *** [rand.lo] Error 1\n\nNOTE: Configure did not find socklen_t: checking for socklen_t... no\n\nHere is a patch that I believe will resolve this:\n\n*** srclib/apr/misc/unix/rand.c.orig    Fri May 17 23:12:28 2002\n--- srclib/apr/misc/unix/rand.c Tue Jun 18 17:51:11 2002\n***************\n*** 121,127 ****\n       */\n      int egd_socket, egd_path_len, rv;\n      struct sockaddr_un addr;\n!     socklen_t egd_addr_len;\n      size_t resp_expected;\n      unsigned char req[2], resp[255];\n      char *curbuf = buf;\n--- 121,127 ----\n       */\n      int egd_socket, egd_path_len, rv;\n      struct sockaddr_un addr;\n!     apr_socklen_t egd_addr_len;\n      size_t resp_expected;\n      unsigned char req[2], resp[255];\n      char *curbuf = buf;\n\n\n\nThis is Solaris2.6/Sparc", "id": 18014, "time": "2002-06-19T01:00:28Z", "creator": "jmorris@sunflower.com", "creation_time": "2002-06-19T01:00:28Z", "is_private": false}, {"count": 1, "tags": [], "creator": "trawick@apache.org", "text": "Your patch has been committed.\n\nThanks for your report and patch, and thanks for using Apache!\n", "id": 18289, "time": "2002-06-21T11:35:11Z", "bug_id": 9976, "creation_time": "2002-06-21T11:35:11Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 9976, "attachment_id": null, "text": "bug is now fixed\n", "id": 18290, "time": "2002-06-21T11:37:46Z", "creator": "trawick@apache.org", "creation_time": "2002-06-21T11:37:46Z", "is_private": false}]