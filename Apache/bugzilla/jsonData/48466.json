[{"count": 0, "text": "Taken from:\n\nhttp://httpd.apache.org/docs/2.0/programs/apxs.html\n\nFor a quick test of the apxs mechanism you can create a sample Apache module template plus a corresponding Makefile via:\n\n$ apxs -g -n foo\nCreating [DIR] foo\nCreating [FILE] foo/Makefile\nCreating [FILE] foo/mod_foo.c\n\n   Up to here I think everything is ok\n\nWhen I do:\n\n$ make all\n\nbin/sh /usr/share/apache_2.0.63/build/libtool --silent --mode=compile gcc  -g -O2 -pthread    -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER   -I/usr/src/Apache/httpd-2.0.63/srclib/apr/include -I/usr/src/Apache/httpd-2.0.63/srclib/apr-util/include -I. -I/usr/share/apache_2.0.63/os/unix -I/usr/share/apache_2.0.63/server/mpm/prefork -I/usr/share/apache_2.0.63/modules/http -I/usr/share/apache_2.0.63/modules/filters -I/usr/share/apache_2.0.63/modules/proxy -I/usr/share/apache_2.0.63/include -I/usr/share/apache_2.0.63/modules/generators -I/usr/share/openssl-0.9.8j/include/openssl -I/usr/share/openssl-0.9.8j/include -I/usr/share/apache_2.0.63/modules/dav/main -prefer-pic -c mod_foo.c && touch mod_foo.slo\n/bin/sh /usr/share/apache_2.0.63/build/libtool --silent --mode=link gcc  -g -O2 -pthread    -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER   -I/usr/src/Apache/httpd-2.0.63/srclib/apr/include -I/usr/src/Apache/httpd-2.0.63/srclib/apr-util/include -I. -I/usr/share/apache_2.0.63/os/unix -I/usr/share/apache_2.0.63/server/mpm/prefork -I/usr/share/apache_2.0.63/modules/http -I/usr/share/apache_2.0.63/modules/filters -I/usr/share/apache_2.0.63/modules/proxy -I/usr/share/apache_2.0.63/include -I/usr/share/apache_2.0.63/modules/generators -I/usr/share/openssl-0.9.8j/include/openssl -I/usr/share/openssl-0.9.8j/include -I/usr/share/apache_2.0.63/modules/dav/main -export-dynamic -L/usr/share/openssl-0.9.8j/lib      -o mod_foo.la -rpath /usr/share/apache_2.0.63/modules -module -avoid-version  mod_foo.lo\n\n \nAnd there is no .so file, so the install fails.", "bug_id": 48466, "attachment_id": null, "id": 133229, "time": "2009-12-30T11:15:37Z", "creator": "ve2cii@canasoft.net", "creation_time": "2009-12-30T11:15:37Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 48466, "attachment_id": null, "text": "confirm there is no .so in your .libs/ directory, and re-run the link command w/o the --silent option.", "id": 133233, "time": "2009-12-30T11:53:54Z", "creator": "covener@gmail.com", "creation_time": "2009-12-30T11:53:54Z", "is_private": false}, {"count": 2, "tags": [], "creator": "ve2cii@canasoft.net", "attachment_id": null, "id": 133235, "time": "2009-12-30T12:46:46Z", "bug_id": 48466, "creation_time": "2009-12-30T12:46:46Z", "is_private": false, "text": "Hi Eric,\n\n  I have confirmed that there is no .so file in the ./libs directory.\nI don't know how to re-run the link command without the --silent option\nIf you can tell me how to do this I will. I need to know which file\nit is in so I can take it out.\n\n Now here is something interesting.\nIf I follow the commands in the apxs man pages:\n \ngcc -fpic -DSHARED_MODULE -I/apache2/include -c mod_foo.c\nld -Bshareable -o mod_foo.so mod_foo.o\n\nThen the module gets build.  I have a mod_foo.so file."}, {"count": 3, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "id": 133238, "time": "2009-12-30T13:18:25Z", "bug_id": 48466, "creation_time": "2009-12-30T13:18:25Z", "is_private": false, "text": "(In reply to comment #2)\n> Hi Eric,\n> \n>   I have confirmed that there is no .so file in the ./libs directory.\n.libs/\n\n\n> I don't know how to re-run the link command without the --silent option\n\ncopy/paste the last invocation of libtool in the terminal."}, {"count": 4, "tags": [], "creator": "ve2cii@canasoft.net", "text": "   I will be back on Monday after the holiday.  Thank you for your help\nand have a happy new year!!!\n\n   Without the --silent\n\n /usr/share/apache_2.0.63/build/libtool --mode=link gcc  -g -O2 -pthread    -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER   -I/usr/src/Apache/httpd-2.0.63/srclib/apr/include -I/usr/src/Apache/httpd-2.0.63/srclib/apr-util/include -I. -I/usr/share/apache_2.0.63/os/unix -I/usr/share/apache_2.0.63/server/mpm/prefork -I/usr/share/apache_2.0.63/modules/http -I/usr/share/apache_2.0.63/modules/filters -I/usr/share/apache_2.0.63/modules/proxy -I/usr/share/apache_2.0.63/include -I/usr/share/apache_2.0.63/modules/generators -I/usr/share/openssl-0.9.8j/include/openssl -I/usr/share/openssl-0.9.8j/include -I/usr/share/apache_2.0.63/modules/dav/main -export-dynamic -L/usr/share/openssl-0.9.8j/lib      -o mod_foo.la -rpath /usr/share/apache_2.0.63/modules -module -avoid-version  mod_foo.lo\n\nAnd the result:\n\nrm -fr  .libs/mod_foo.a .libs/mod_foo.la .libs/mod_foo.lai\nar cru .libs/mod_foo.a  mod_foo.o\nranlib .libs/mod_foo.a\ncreating mod_foo.la\n(cd .libs && rm -f mod_foo.la && ln -s ../mod_foo.la mod_foo.la)", "id": 133239, "time": "2009-12-30T14:01:59Z", "bug_id": 48466, "creation_time": "2009-12-30T14:01:59Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 48466, "attachment_id": null, "text": "I am back and i was wondering if there is any new news on this?", "id": 133303, "time": "2010-01-04T07:06:53Z", "creator": "ve2cii@canasoft.net", "creation_time": "2010-01-04T07:06:53Z", "is_private": false}, {"count": 6, "tags": [], "creator": "wrowe@apache.org", "text": "The news is that you aren't using a build of httpd that enabled shared libs.\nWhy this is we can't tell you without more information, but this is not a user\nsupport forum.  That would be the users@httpd.apache.org mailing list, and you\ncan find out how to subscribe on the http://httpd.apache.org/ website.", "id": 133533, "time": "2010-01-11T20:55:42Z", "bug_id": 48466, "creation_time": "2010-01-11T20:55:42Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "ve2cii@canasoft.net", "text": "  Thank you, I now have it working.  The problem was when I went from\napache-1.3 to apache-2.0\n\nI changed this:\n\nconfigure --enable-module=most --enable-shared=max\n\nTo this:\n\nconfigure --enable-mods=shared=all\n\nThis built all the modules with support for shared libs.", "id": 133729, "time": "2010-01-20T08:48:00Z", "bug_id": 48466, "creation_time": "2010-01-20T08:48:00Z", "is_private": false, "attachment_id": null}]