[{"count": 0, "tags": [], "bug_id": 44142, "is_private": false, "text": "Hello folks,\n\nusing function __machineName on WindowsXP with java version \"1.4.2_10\" do not \nwork and writes errors to jmeter.log:\n\n2007/12/27 10:58:49 ERROR - jmeter.threads.JMeterThread:  \njava.lang.NullPointerException\n\tat org.apache.jmeter.functions.MachineName.execute(MachineName.java:66)\n\tat org.apache.jmeter.engine.util.CompoundVariable.execute\n(CompoundVariable.java:128)\n\tat org.apache.jmeter.engine.util.CompoundVariable.execute\n(CompoundVariable.java:97)\n\tat \norg.apache.jmeter.testelement.property.FunctionProperty.getStringValue\n(FunctionProperty.java:85)\n\tat org.apache.jmeter.testbeans.TestBeanHelper.prepare\n(TestBeanHelper.java:70)\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:297)\n\tat java.lang.Thread.run(Unknown Source)\n\n\nJava-Vesion:\n------------\njava version \"1.4.2_10\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_10-b03)\nJava HotSpot(TM) Client VM (build 1.4.2_10-b03, mixed mode)\n\nWe are planing a distributed (Remote-)Database-Test-Plan, and we want to \nprevent sharing conflicts by using the machineName as a part of the database \ntablenames.\n\nPlease have a look to the problem.\n\nThanks in advance,\n\nMichael.", "id": 112225, "time": "2007-12-27T02:24:03Z", "creator": "michael.kless@dm-drogeriemarkt.de", "creation_time": "2007-12-27T02:24:03Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "is_private": false, "id": 112445, "time": "2008-01-02T17:35:19Z", "bug_id": 44142, "creation_time": "2008-01-02T17:35:19Z", "text": "How does the function call look in the test plan?\nI've found that ${__machineName} causes the problem, but ${__machineName()} \nand ${__machineName(var)} work fine.\n\nObviously the NPE needs to be fixed, but hopefully you will find that one of \nthe alternatives works for you."}, {"count": 2, "tags": [], "bug_id": 44142, "text": "The __machineName function parameter is currently required, so \n${__machineName} is not valid syntax - but it should not generate an NPE.\n\n${__machineName()} is currently parsed as if there was one parameter - the \nempty string - which is why that syntax works OK.\n\nI'll probably make the parameter optional.", "id": 112454, "time": "2008-01-03T05:26:15Z", "creator": "sebb@apache.org", "creation_time": "2008-01-03T05:26:15Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 44142, "attachment_id": null, "is_private": false, "id": 112459, "time": "2008-01-03T06:11:13Z", "creator": "michael.kless@dm-drogeriemarkt.de", "creation_time": "2008-01-03T06:11:13Z", "text": "(In reply to comment #2)\n> The __machineName function parameter is currently required, so \n> ${__machineName} is not valid syntax - but it should not generate an NPE.\n> ${__machineName()} is currently parsed as if there was one parameter - the \n> empty string - which is why that syntax works OK.\n> I'll probably make the parameter optional.\n\nThank you, these hint solves our problem: ${__machineName()} works fine. My \nrecommendation: Just correct the documentation of Functions and Variables \n(chapter 19 in ..\\jakarta-jmeter-2.3.1\\docs\\usermanual\\functions.html) rather \nthan make the parameter optional.\n\nKind regards,\n\nMichael."}, {"count": 4, "tags": [], "bug_id": 44142, "attachment_id": null, "is_private": false, "id": 112461, "time": "2008-01-03T06:25:19Z", "creator": "sebb@apache.org", "creation_time": "2008-01-03T06:25:19Z", "text": "Thanks for confirming that the problem is resolved.\n\nRe-opening as the NPE is not yet fixed.\n\nNote that the documentation *IS* currently correct - it states that the \nparameter is required.\n\nI think it still make sense to make the variable name optional."}, {"count": 5, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "Fixed in SVN: r608515 (parsing) and r608524 (optional varname)\n", "id": 112466, "time": "2008-01-03T07:22:28Z", "bug_id": 44142, "creation_time": "2008-01-03T07:22:28Z", "is_private": false}]