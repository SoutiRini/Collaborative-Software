[{"count": 0, "tags": [], "creator": "jozart@csi.com", "is_private": false, "text": "setContentLength() and setContentType() don't replace existing instances of\nthe \"Content-Length\" and \"Content-Type\" headers in the response's hash table.\nThis servlet demonstrates the problem: \n\nimport javax.servlet.http.*;\n \npublic class HeaderBug extends HttpServlet {\n    protected void doGet(HttpServletRequest request,\n                         HttpServletResponse response) {\n        response.setHeader(\"Content-Type\", \"text/html\");\n        response.setContentType(\"text/html\");\n        response.setIntHeader(\"Content-Length\", 100);\n        response.setContentLength(100);\n    }\n}\n\nGET /servlet/HeaderBug HTTP/1.1\n\nTomcat/4.0 response:\n\nHTTP/1.1 200 OK\nContent-Type: text/html\nContent-Length: 100\nDate: Sat, 29 Sep 2001 00:06:05 GMT\nServer: Apache Tomcat/4.0 (HTTP/1.1 Connector)\nContent-Type: text/html\nContent-Length: 100\n\nTomcat/3.2.3 response:\n\nHTTP/1.0 200 OK\nContent-Type: text/html\nContent-Length: 100\nServlet-Engine: Tomcat Web Server/3.2 (final) (JSP 1.1; Servlet 2.2; Java 1.3.1;\n Windows 2000 5.0 x86; java.vendor=Sun Microsystems Inc.)\n\nNotice that there are two Content-Length and Content-Type headers in the\nTomcat/4.0 response.", "id": 6186, "time": "2001-09-28T17:20:38Z", "bug_id": 3882, "creation_time": "2001-09-28T17:20:38Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of 3878 ***", "attachment_id": null, "bug_id": 3882, "id": 6188, "time": "2001-09-28T17:57:22Z", "creator": "remm@apache.org", "creation_time": "2001-09-28T17:57:22Z", "is_private": false}]