[{"text": "Hello,\nWe had an OOM that we analyzed.\nI appears that there is a memory leak in LoggerPanel due to JSyntaxtTextArea#UndoManager. It seems no limit is set on it.\n\nAlthough code overrides createUndoManager to disable Undo it is not working:\n    /**\n     * Override UndoManager to allow disabling if feature causes issues\n     * See https://github.com/bobbylight/RSyntaxTextArea/issues/19\n     */\n    @Override\n    protected RUndoManager createUndoManager() {\n        RUndoManager undoManager = super.createUndoManager();\n        if(disableUndo) {\n            undoManager.setLimit(0);\n        } else {\n            undoManager.setLimit(MAX_UNDOS);\n        }\n        return undoManager;\n    }\nAnd LoggerPanel does this:\ntextArea = new JSyntaxTextArea(15, 80, true);\nMeaning it disables UndoManager it is not working.\nIn the case of LoggerPanel it's a big issue as any edition will trigger a lot UndoEdit with a lot of content.\n\nAnalyzing issue it is due to createUndoManager being called before disableUndo is set in constructor.\n\nWorkaround for 2.12 and don't open LoggerPanel:\njmeter.loggerpanel.enable_when_closed=false\n\nRegards\n@ubikloadpack", "tags": [], "bug_id": 57440, "is_private": false, "count": 0, "id": 180288, "time": "2015-01-13T21:19:00Z", "creator": "support@ubikloadpack.com", "creation_time": "2015-01-13T21:19:00Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "text": "Hi,\nSee last comment in:\nhttps://github.com/bobbylight/RSyntaxTextArea/issues/19", "id": 180289, "time": "2015-01-13T21:46:31Z", "bug_id": 57440, "creation_time": "2015-01-13T21:46:31Z", "tags": [], "is_private": false}, {"text": "Issue also affects 2.11", "tags": [], "bug_id": 57440, "attachment_id": null, "count": 2, "id": 180290, "time": "2015-01-13T21:54:53Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2015-01-13T21:54:53Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 57440, "attachment_id": null, "id": 180291, "time": "2015-01-13T22:13:15Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2015-01-13T22:13:15Z", "is_private": false, "text": "Date: Tue Jan 13 22:12:57 2015\nNew Revision: 1651516\n\nURL: http://svn.apache.org/r1651516\nLog:\nBug 57440 - OutOfMemoryError after introduction of JSyntaxTextArea in LoggerPanel due to disableUndo not being taken into account\nBugzilla Id: 57440\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/gui/util/JSyntaxTextArea.java\n    jmeter/trunk/xdocs/changes.xml"}, {"count": 4, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "Reopening as issue persists even with fix.\nSee :\nhttps://github.com/bobbylight/RSyntaxTextArea/issues/99", "id": 180497, "time": "2015-01-23T08:12:21Z", "bug_id": 57440, "creation_time": "2015-01-23T08:12:21Z", "is_private": false}, {"text": "Date: Sat Jan 24 15:18:31 2015\nNew Revision: 1654539\n\nURL: http://svn.apache.org/r1654539\nLog:\nBug 57440 - OutOfMemoryError after introduction of JSyntaxTextArea in LoggerPanel due to disableUndo not being taken into account\nBugzilla Id: 57440\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/gui/LoggerPanel.java", "tags": [], "bug_id": 57440, "is_private": false, "count": 5, "id": 180545, "time": "2015-01-24T15:19:30Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2015-01-24T15:19:30Z", "attachment_id": null}, {"count": 6, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": 32394, "text": "Created attachment 32394\nTest Plan to reproduce bug\n\nHi,\nTo reproduce open in GUI mode this plan and run it.\nIt will throw exception, with default 2.12 bundle, OOM will occurs in few seconds.\n\nRegards\nPhilippe", "id": 180546, "time": "2015-01-24T15:46:46Z", "bug_id": 57440, "creation_time": "2015-01-24T15:46:46Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 57440, "attachment_id": null, "text": "*** Bug 57716 has been marked as a duplicate of this bug. ***", "id": 181824, "time": "2015-03-16T19:57:39Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2015-03-16T19:57:39Z", "is_private": false}]