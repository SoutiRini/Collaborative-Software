[{"count": 0, "tags": [], "bug_id": 7185, "text": "When log4j is in the classpath, by default POI just throws this lovely exception:\n\nlog4j:ERROR setFile(null,true) call failed.\njava.io.FileNotFoundException: build/poifs.log (No such file or directory)\n\tat java.io.FileOutputStream.openAppend(Native Method)\n\tat java.io.FileOutputStream.<init>(FileOutputStream.java:100)\n\tat java.io.FileWriter.<init>(FileWriter.java:52)\n\tat org.apache.log4j.FileAppender.setFile(FileAppender.java:284)\n\tat org.apache.log4j.FileAppender.activateOptions(FileAppender.java:239)\n\tat org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:247)\n\tat org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:123)\n\tat org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:87)\n\tat org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:637)\n\tat org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:595)\n\tat\norg.apache.log4j.PropertyConfigurator.parseCatsAndRenderers(PropertyConfigurator.java:522)\n\tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:412)\n\tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:436)\n\tat\norg.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:455)\n\tat org.apache.log4j.Category.<clinit>(Category.java:146)\n\tat org.apache.commons.logging.impl.Log4JCategoryLog.<init>(Log4JCategoryLog.java:97)\n\tat java.lang.reflect.Constructor.newInstance(Native Method)\n\tat\norg.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:487)\n\tat\norg.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:285)\n\tat org.apache.poi.util.POILogFactory.getLogger(POILogFactory.java:121)\n\tat org.apache.poi.util.POILogFactory.getLogger(POILogFactory.java:100)\n\tat org.apache.poi.hssf.usermodel.HSSFWorkbook.<clinit>(HSSFWorkbook.java:113)\n\tat org.apache.poi.hssf.usermodel.examples.NewSheet.main(NewSheet.java:73)\nlog4j:ERROR setFile(null,true) call failed.\n\nfor each package.  IT should be pulling this from an environment variable which\nspecifies a property file which if anything fails should default to /dev/null.\nLots of folks will not want to use POI's logging but might want to have log4j in\nthe classpath.", "id": 11910, "time": "2002-03-18T00:05:47Z", "creator": "poi-support@buni.org", "creation_time": "2002-03-18T00:05:47Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 7185, "text": "- IT should be pulling this from an environment variable\n\nit does, this is just the default behaviour.\n\nTo make thing easier for users, I've changed now the default properties of \nlog4j to output to null even when jog4j is present.\n\nTo override, one can use commoms logging env variables or simply replace \nsrc/java/log4j.properties with the one in src/resources/devtools, that works as \nusual for developers.", "id": 11922, "time": "2002-03-18T09:24:16Z", "creator": "nicolaken@apache.org", "creation_time": "2002-03-18T09:24:16Z", "is_private": false, "attachment_id": null}]