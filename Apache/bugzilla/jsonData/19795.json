[{"count": 0, "tags": [], "bug_id": 19795, "attachment_id": null, "text": "Hi all,\nwe have a very critical problem in our production env.\n\nplease see details below with excerpts from log files\n\n//User 1 loads logon form\n\nFW: Mon May 05 12:16:51 CEST \n2003,260650A570225EEFB02711F2B86A97B8.slot1,,Ajp13Processor[11009][6],New JSP \nsession starts here\n\n//User 1 sends logon request\nFW: Mon May 05 12:17:24 CEST \n2003,260650A570225EEFB02711F2B86A97B8.slot1,,Ajp13Processor[11009]\n[22],Attempting login for user U1\nFW: Mon May 05 12:17:25 CEST 2003,260650A570225EEFB02711F2B86A97B8.slot1,-\ndologin uid=U1\nFW: Mon May 05 12:17:25 CEST 2003,260650A570225EEFB02711F2B86A97B8.slot1,-logon \nok username U1name\n\n//User 1 do some work\nFW: Mon May 05 12:17:28 CEST \n2003,260650A570225EEFB02711F2B86A97B8.slot1,Ajp13Processor[11009][39],Loading \nnavigator \n....\n\n//User 2 loads logon form FROM ANOTHER TOMCAT\nFW:  Mon May 05 12:17:23 CEST \n2003,52972F85DB64BAC4A603C834793EF87F.slot3,,Ajp13Processor[11009][60],New JSP \nsession starts here\n\n//Start of logon request for User 2\n//Logon Request is a POST to a JSP and seems to carry same POST parameter of U1\n//Both requests have been served by Thread 22 \n//Logon Request with userid of U2 NEVER reached back end system\n//Thread 22 has been idle between two POST to login jsp\n//U1 is written taking request.getParameter()\nFW: Mon May 05 12:17:31 CEST \n2003,4C5EB49FE3ABEAC8ACB9047BD5EB77DE.slot1,,Ajp13Processor[11009]\n[22],Attempting login for user U1\nFW: Mon May 05 12:17:31 CEST \n2003,4C5EB49FE3ABEAC8ACB9047BD5EB77DE.slot1,Ajp13Processor[11009][22],--dologin \nuid=U1 \nFW: Mon May 05 12:17:31 CEST \n2003,4C5EB49FE3ABEAC8ACB9047BD5EB77DE.slot1,Ajp13Processor[11009][22],--logon \nok username U1name\n//This response has been sent to user 2 but contains data from user 1\n\n//Session 52972F85DB64BAC4A603C834793EF87F.slot3 doesn't contain any other \nactivity\n\n//We matched request using access log of the front end apaches so we exactly \nknow who saw what\n\nWe use an HW loadbalancer that calls two apache 2.0.43 (compiled with 1024 \nclients) with mod_jk1.2.1 to route traffic over four tomcats 4.1.12\n\nthe problem appears randomly and sporadically. We haven't been able to \nreproduce it.\nDo you have any idea? Known bugs?\n\nThanks a lot", "id": 36966, "time": "2003-05-09T11:13:04Z", "creator": "anibal@tiscali.it", "creation_time": "2003-05-09T11:13:04Z", "is_private": false}, {"count": 1, "tags": [], "creator": "funkman@joedog.org", "text": "AFAIK, there are no concurrency issues. Please double check that your webapp is\nthreadsafe.", "id": 42199, "time": "2003-08-05T20:58:56Z", "bug_id": 19795, "creation_time": "2003-08-05T20:58:56Z", "is_private": false, "attachment_id": null}]