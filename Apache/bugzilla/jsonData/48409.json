[{"count": 0, "tags": [], "creator": "sundarramalingam@gmail.com", "text": "Cookie information when read using this version strips cookie value when it sees colon. This bothers our application where login logic is dependent on reading the cookie.\n\nTomcat 5.5.25 does work very well.\n\nBut Tomcat 6.0.20 does not. Below is the example.\n\n-- Tomcat 5.5.25\nECCUser:n0MSlkL7ugtO84tH:n0MTL1Z9YZSMSolB:airsdenise\n\n--Tomcat 6.0.20\nECCUser:n0V1URmZt5prVsGl\n\nps. Cookie information is read using as below.\nCookie [] cookies = req.getCookies(); // req is HttpServletRequest\n\n\nLet us know if there is any patch that works.\n\nPlease let me know if you need more information.\n\nThanks,\nSundar", "id": 132916, "time": "2009-12-17T13:18:08Z", "bug_id": 48409, "creation_time": "2009-12-17T13:18:08Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 48409, "text": "That cookie is not spec complaint. Please ask on the users list if you need advice regarding approaches available to use colons in cookie values.", "id": 132917, "time": "2009-12-17T13:21:52Z", "creator": "markt@apache.org", "creation_time": "2009-12-17T13:21:52Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "sundarramalingam@gmail.com", "text": "(In reply to comment #1)\n> That cookie is not spec complaint. Please ask on the users list if you need\n> advice regarding approaches available to use colons in cookie values.\n\n\nMark, Thanks for immediate response. I guess I wasn't clear in my bug report. \n\n  This cookie is set by my company's enterprise site. \n\nFor Example in the below cookie testUser is the login name. I need to parse and get the username by reading cookie. \n\nCOOKIE:\n=======\n\n ECCUser:n0MSlkL7ugtO84tH:n0MTL1Z9YZSMSolB:testUser\n\nIn tomcat 5.5 when i read the above cookie I get whole information. But when I read cookie using the same code in Tomcat 6.0.20 i get only\n\n ECCUser:n0MSlkL7ugtO84tH\n\n I couldn't get whole information until testUser. Since I am using the same piece of code, I was expecting it would be consistent in tomcat 6.0.20, but it is not. Hence I raised the bug.\n\nThanks, Sundar", "id": 132943, "time": "2009-12-18T11:41:59Z", "bug_id": 48409, "creation_time": "2009-12-18T11:41:59Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "text": "Tomcat's cookie parsing was made stricter in later versions to deal with some security issues - hence the difference in behaviour.\n\nYour company's enterprise site is badly broken. If the folks that are responsible for generating the cookie are unwilling or unable to fix their broken code there are things you can do to work around this. The users list is the place to get help with that if you need it.", "is_private": false, "id": 132955, "creator": "markt@apache.org", "time": "2009-12-19T12:57:24Z", "bug_id": 48409, "creation_time": "2009-12-19T12:57:24Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 48409, "attachment_id": null, "is_private": false, "id": 146053, "time": "2011-05-01T09:39:54Z", "creator": "markt@apache.org", "creation_time": "2011-05-01T09:39:54Z", "text": "*** Bug 51138 has been marked as a duplicate of this bug. ***"}]