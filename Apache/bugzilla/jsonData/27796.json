[{"count": 0, "tags": [], "creator": "ahartstack@hotmail.com", "attachment_id": null, "id": 54257, "time": "2004-03-19T08:19:06Z", "bug_id": 27796, "creation_time": "2004-03-19T08:19:06Z", "is_private": false, "text": "Problem:\nIn my tomcat webapp a servlet manages a filedownload. Clicking on a file-link \nresults in the browser's \n\"save as\" dialog (IE6, Netscape7, Firebird0.7, Opera 7). \nUsing tomcat alone (port 8080) everything works fine. Special characters (like \nGerman umlaut) are shown \nin ISO-8859-1.\nApache2/mod_jk seems to change the charset to UTF-8, e.g. \"t\u00e4st.txt\" looks \nlike \"t\u00c3\u00a4t.txt\".\nApache's default charset is set to ISO-8859-1 (httpd.conf).\n\nServlet Code:\nresponse.setHeader(\"Content-Disposition\", \"attachment; filename=\" + file.getName\n());\nresponse.setContentLength((int)file.length());\nresponse.setContentType(\"application/octet-stream\");\nresponse.setHeader(\"Content-Transfer-Encoding\", \"binary\");\n\nConfiguration:\n- Apache 2.0.48 \n- Tomcat 4.1.18 \n- mod_jk 4.1.18\n- $tomcat_home/bin/catalina.sh:\n\texport CATALINA_OPTS=\"-Dfile.encoding=ISO-8859-1 -Duser.language=de -\nDuser.country=DE\"\n\nGreetings Andreas"}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 68860, "time": "2004-12-22T21:55:59Z", "bug_id": 27796, "creation_time": "2004-12-22T21:55:59Z", "is_private": false, "text": "*** Bug 24380 has been marked as a duplicate of this bug. ***"}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 68877, "time": "2004-12-22T23:27:42Z", "bug_id": 27796, "creation_time": "2004-12-22T23:27:42Z", "is_private": false, "text": "This was fixed some time ago."}]