[{"count": 0, "tags": [], "bug_id": 8321, "text": "I often use a function of from-parent('width') to specify column width in\ntables.  When the table is inside a <fo:block> or in a table cell, \nfrom-parent('width') returns 0 (which leads to the error, \"Zero-width \ntable column!\")\n\nI have traced this to the fact that calls to Block.getContentWidth() and\nTableCell.getContentWidth both return 0 (but for different reasons).\n\norg.apache.fop.fo.flow.Block sets its instance variable contentWidth \n*after* laying out its children.  If any child calls getContentWidth\nwhile being laid out, it returns 0.  The solution is to move the code \nthat sets areaHeight and contentWidth earlier in the layout() method\n(I will provide a patch)\n\norg.apache.fop.fo.flow.TableCell does not overwride the getContentWidth()\nmethod from FObj, so it returns 0.  I will also attach a possible \nimplementation for TableCell.getContentWidth()", "id": 14118, "time": "2002-04-19T23:54:10Z", "creator": "nancyd@spiders.com", "creation_time": "2002-04-19T23:54:10Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 8321, "text": "Created attachment 1641\nPatch for Block.java", "id": 14119, "time": "2002-04-19T23:55:12Z", "creator": "nancyd@spiders.com", "creation_time": "2002-04-19T23:55:12Z", "is_private": false, "attachment_id": 1641}, {"count": 2, "tags": [], "bug_id": 8321, "text": "Created attachment 1642\nPatch for TableCell.java", "id": 14120, "time": "2002-04-19T23:55:43Z", "creator": "nancyd@spiders.com", "creation_time": "2002-04-19T23:55:43Z", "is_private": false, "attachment_id": 1642}, {"count": 3, "tags": [], "bug_id": 8321, "attachment_id": null, "id": 14326, "time": "2002-04-22T16:20:48Z", "creator": "nancyd@spiders.com", "creation_time": "2002-04-22T16:20:48Z", "is_private": false, "text": "The patch above (to Block.java) has had the ufortunate side-effect\nof changing how lists are rendered - the list-item-label gets the \nwhole line to itself, so that the list-item-body ends up starting\non the next line.  The temporary solution that I'm using is to set \ncontentWidth before the loop to layout the children, and areaHeight\nafter.\n\nI did not investigate this further, since I hope the new redesign\nwill address this issue (I can live with the hack for now :)"}, {"count": 4, "tags": [], "bug_id": 8321, "attachment_id": null, "id": 99530, "time": "2007-02-18T03:16:35Z", "creator": "adelmelle@apache.org", "creation_time": "2007-02-18T03:16:35Z", "is_private": false, "text": "Bugzilla cleanup:\n\nShould be fixed in FOP 0.93/Trunk"}, {"count": 5, "tags": [], "bug_id": 8321, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 155783, "time": "2012-04-01T06:40:24Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T06:40:24Z", "is_private": false, "attachment_id": null}]