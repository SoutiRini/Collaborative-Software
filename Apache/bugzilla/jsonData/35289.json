[{"count": 0, "tags": [], "bug_id": 35289, "attachment_id": null, "id": 76211, "time": "2005-06-09T17:05:11Z", "creator": "bhatt@basketfunds.com", "creation_time": "2005-06-09T17:05:11Z", "is_private": false, "text": "The problem I have found with the currenct implementation is that you must hit \na protected resource before reaching a login box. \n\nHow can we allow a login box on any page that will use j_security as the form \naction and still allow the FormAuthenticator object to know where to redirect \nthe page?\n\nA solution is to add a hidden parameter to the login form that tells the \nFormAuthenticator where to go next.\n\nHere is a simple patch I am using until a more permenent solution is found.\n\n--- FormAuthenticator.java.New\t2005-06-09 10:32:33.218750000 -0400\n+++ FormAuthenticator.java\t2005-06-09 10:53:25.593750000 -0400\n@@ -267,10 +267,7 @@\n \n         // Redirect the user to the original request URI (which will cause\n         // the original request to be restored)\n-        String redirectURI = hreq.getParameter(\"j_security_redirect\");\n         requestURI = savedRequestURL(session);\n-        if (redirectURI != null )\n-            requestURI = redirectURI;\n         if (log.isDebugEnabled())\n             log.debug(\"Redirecting to original '\" + requestURI + \"'\");\n         if (requestURI == null)"}, {"count": 1, "tags": [], "creator": "bhatt@basketfunds.com", "text": "Created attachment 15352\nAn implementation of the RFE", "id": 76212, "time": "2005-06-09T17:06:26Z", "bug_id": 35289, "creation_time": "2005-06-09T17:06:26Z", "is_private": false, "attachment_id": 15352}, {"count": 2, "tags": [], "bug_id": 35289, "attachment_id": null, "id": 76450, "time": "2005-06-16T11:05:06Z", "creator": "remm@apache.org", "creation_time": "2005-06-16T11:05:06Z", "is_private": false, "text": "This seems to go beyond what FORM is supposed to provide, or I didn't understand\nthe issue at all. Is there anything from the spec that isn't implemented properly ?"}]