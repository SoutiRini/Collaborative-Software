[{"count": 0, "tags": [], "bug_id": 24372, "text": "I'm using JSTL 1.0.4, despite what the version says.\nRunning on W2k, Tomcat 4.1.27, JDK 1.4.2_02.\n\nMy problem is this:\n\n  <sql:query var=\"accList\">\n    SELECT * FROM ACCOUNT ORDER BY ACCOUNT_NAME ?\n    <sql:param value=\"ASC\" />\n  </sql:query>\n\nThe error message Tomcat gives me is:\n\norg.apache.jasper.JasperException: \n    SELECT * FROM ACCOUNT\n    ORDER BY ACCOUNT_NAME ?\n    \n  : [Microsoft][ODBC Microsoft Access Driver] Syntax error (missing operator) in\nquery expression 'ACCOUNT_NAME Pa_RaM000'.\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:254)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:295)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\netc.\n\nroot cause\n\njavax.servlet.ServletException: \n    SELECT * FROM ACCOUNT\n    ORDER BY ACCOUNT_NAME ?\n    \n  : [Microsoft][ODBC Microsoft Access Driver] Syntax error (missing operator) in\nquery expression 'ACCOUNT_NAME Pa_RaM000'.\n\tat\norg.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:531)\n\tat org.apache.jsp.index_jsp._jspService(index_jsp.java:1198)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:137)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:210)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:295)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\netc.\n\nHardcoding \"ASC\" or \"DESC\" in the query and removing the parameter will work ok.", "id": 46729, "time": "2003-11-04T04:55:15Z", "creator": "ldavis@fonix.com", "creation_time": "2003-11-04T04:55:15Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 24372, "attachment_id": null, "id": 48949, "time": "2003-12-12T00:20:09Z", "creator": "pierre.delisle@sun.com", "creation_time": "2003-12-12T00:20:09Z", "is_private": false, "text": "Parameter markers in a SQL statement can only be used where \"column\"\nvalues are normally expected, as is defined in java.sql.PreparedStatement.\n\nFor example:\n      UPDATE EMPLOYEES SET SALARY = ? WHERE ID = ?\n\nIn your example, you are trying to set how the ordering will\nbe done on the ORDER BY statement. This is not a valid\nway to use a parameter marker.\n\nYou could rewrite your code as follows to get the expected\nresult (assuming \"orderDirection\" is a scoped attribute that\nholds the value \"ASC\" or \"DESC\").\n\n  <sql:query var=\"accList\">\n    SELECT * FROM ACCOUNT ORDER BY ACCOUNT_NAME <c:out value=\"${orderDirection}\"/>\n  </sql:query>\n"}, {"count": 2, "tags": [], "bug_id": 24372, "text": "Your example was exactly how I got the effect I was looking for.\n\nSince the JSTL mechanism relies on java.sql.PreparedStatment, I agree that this\nis an invalid report.", "id": 48955, "time": "2003-12-12T03:23:44Z", "creator": "ldavis@fonix.com", "creation_time": "2003-12-12T03:23:44Z", "is_private": false, "attachment_id": null}]