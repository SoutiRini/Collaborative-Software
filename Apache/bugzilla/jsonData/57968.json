[{"count": 0, "tags": [], "bug_id": 57968, "attachment_id": null, "id": 183167, "time": "2015-05-28T15:55:48Z", "creator": "rainer-apache@7val.com", "creation_time": "2015-05-28T15:55:48Z", "is_private": false, "text": "The documentation for mod_proxy_fcgi includes an example that uses SetHandler to connect to a unix domain socket specified as proxy:unix:/path/to[...]. Those don't work for my test setup, since the path to the socket is converted to lower case. There's no hint in the documentation, either for mod_proxy_fcgi or SetHandler, that this conversion takes place (by ap_set_string_slot_lower via\u00a0AP_INIT_TAKE1 in server/core.c, if I'm not mistaken).\n\nIn my httpd.conf, I have specified\n\nSetHandler \u00a0\"proxy:unix:/home/canavan/FIT/trunk/run/php-fpm.sock|fcgi://localhost/\"\n\nand with sufficiently high log level, one can see that the lowercase path is used instead:\n\n[Thu May 28 17:33:35.560520 2015] [proxy:error] [pid 2636:tid 140176269518592] [client 127.0.0.1:53219] sockpath /home/canavan/fit/trunk/run/php-fpm.sock\n[...]\n[Thu May 28 17:33:35.560565 2015] [proxy:debug] [pid 2636:tid 140176269518592] proxy_util.c(2220): [client 127.0.0.1:53219] AH02545: fcgi: has determined UDS as /home/canavan/fit/trunk/run/php-fpm.sock\n[Thu May 28 17:33:35.560663 2015] [proxy:debug] [pid 2636:tid 140176269518592] proxy_util.c(2388): [client 127.0.0.1:53219] AH00947: connected //home/canavan/FIT/14/testhost/staticwww/index.php to httpd-UDS:0\n[Thu May 28 17:33:35.560698 2015] [proxy:error] [pid 2636:tid 140176269518592] (2)No such file or directory: AH02454: FCGI: attempt to connect to Unix domain socket /home/canavan/fit/trunk/run/php-fpm.sock (*) failed"}, {"count": 1, "tags": [], "creator": "covener@gmail.com", "is_private": false, "id": 183192, "attachment_id": null, "bug_id": 57968, "creation_time": "2015-05-29T14:25:55Z", "time": "2015-05-29T14:25:55Z", "text": "Thanks Rainer, I've fixed this in trunk http://svn.apache.org/r1682482 and proposed it for backport to 2.4.x."}, {"count": 2, "attachment_id": null, "bug_id": 57968, "is_private": false, "id": 183744, "time": "2015-06-25T06:08:04Z", "creator": "christophe.jaillet@wanadoo.fr", "creation_time": "2015-06-25T06:08:04Z", "tags": [], "text": "This is part of the (unreleased) 2.4.13\nbackport in r1682888"}]