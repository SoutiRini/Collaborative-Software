[{"count": 0, "tags": [], "creator": "midha.rakesh@gmail.com", "attachment_id": null, "id": 93149, "time": "2006-09-07T12:04:16Z", "bug_id": 40433, "creation_time": "2006-09-07T12:04:16Z", "is_private": false, "text": "I wanted to use jackrabbit repository with lenya. For that I activated jcr block\nin cocoon_2_1_x/blocks.properties using include.block.jcr=true\nand Added modules-optional in modules.root.dirs  using\nmodules.root.dirs=src/modules:src/modules-core:src/pubs/default/modules:src/modules-optional\n\nWhen I build it I am getting following build error.\ncompile-module-org.apache.lenya.modules.jcrsource:\nCreated dir: C:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\build\\lenya\\modules\\org.apach\ne.lenya.modules.jcrsource\\java\\classes\nCompiling 8 source files to C:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\build\\lenya\\mo\ndules\\org.apache.lenya.modules.jcrsource\\java\\classes\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\JCRSourceNode.java:23: cannot resolve symbol\nsymbol  : class SourceNode\nlocation: package repository\nimport org.apache.lenya.cms.repository.SourceNode;\n                                       ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\JCRSourceNode.java:28: cannot resolve symbol\nsymbol  : class SourceNode\nlocation: class org.apache.lenya.cms.jcr.JCRSourceNode\npublic class JCRSourceNode extends SourceNode {\n                                   ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:34: package org.apache.lenya.cms.use\ncase does not exist\nimport org.apache.lenya.cms.usecase.AbstractUsecase;\n                                    ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:41: cannot resolve symbol\nsymbol  : class AbstractUsecase\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\npublic class Import extends AbstractUsecase {\n                            ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\JCRImport.java:34: package org.apache.lenya.cms.\nusecase does not exist\nimport org.apache.lenya.cms.usecase.AbstractUsecase;\n                                    ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\JCRImport.java:46: cannot resolve symbol\nsymbol  : class AbstractUsecase\nlocation: class org.apache.lenya.cms.jcr.usecases.JCRImport\npublic class JCRImport extends AbstractUsecase {\n                               ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\JCRSourceNode.java:48: cannot resolve symbol\nsymbol  : variable LENYA_PROTOCOL\nlocation: class org.apache.lenya.cms.jcr.JCRSourceNode\n        String path = this.sourceUri.substring(LENYA_PROTOCOL.length());\n                                               ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:47: cannot resolve symbol\nsymbol  : variable super\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n        super.initParameters();\n        ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:48: cannot resolve symbol\nsymbol  : method getDocumentFactory ()\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n        Publication[] pubs = getDocumentFactory().getPublications();\n                             ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:50: cannot resolve symbol\nsymbol  : method setParameter (java.lang.String,java.util.List)\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n        setParameter(PUBLICATIONS, pubList);\n        ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:54: cannot resolve symbol\nsymbol  : variable super\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n        super.doExecute();\n        ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:55: cannot resolve symbol\nsymbol  : method getParameterAsString (java.lang.String)\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n        String pubId = getParameterAsString(PUBLICATION);\n                       ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:56: cannot resolve symbol\nsymbol  : method getDocumentFactory ()\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n        DocumentFactory factory = getDocumentFactory();\n                                  ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:61: cannot resolve symbol\nsymbol  : variable manager\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n            resolver = (SourceResolver) this.manager.lookup(SourceResolver.ROLE)\n;\n                                        ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:63: cannot resolve symbol\nsymbol  : variable manager\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n            selector = (ServiceSelector) this.manager.lookup(SiteManager.ROLE +\n\"Selector\");\n                                         ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:99: cannot resolve symbol\nsymbol  : variable manager\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n                if (SourceUtil.exists(contextUri, this.manager)) {\n                                                  ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:113: cannot resolve symbol\nsymbol  : class SourceNodeMetaData\nlocation: package repository\n                     org.apache.lenya.cms.repository.SourceNodeMetaData sourceMe\nta = (org.apache.lenya.cms.repository.SourceNodeMetaData) uri2meta.get(lenyaUri)\n; if\n                                                    ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:113: cannot resolve symbol\nsymbol  : class SourceNodeMetaData\nlocation: package repository\n                     org.apache.lenya.cms.repository.SourceNodeMetaData sourceMe\nta = (org.apache.lenya.cms.repository.SourceNodeMetaData) uri2meta.get(lenyaUri)\n; if\n\n                                     ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:121: cannot resolve symbol\nsymbol  : variable manager\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n                                                JCRMetaData mtd=new JCRMetaData(\n\"http://apache.org/lenya/metadata/document/1.0\",jcrUri,this.manager, getLogger()\n);\n\n                                                       ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:121: cannot resolve symbol\nsymbol  : method getLogger ()\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n                                                JCRMetaData mtd=new JCRMetaData(\n\"http://apache.org/lenya/metadata/document/1.0\",jcrUri,this.manager, getLogger()\n);\n\n                                                                     ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:135: cannot resolve symbol\nsymbol  : method addInfoMessage (java.lang.String)\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n                    addInfoMessage(\"The source [\" + contextUri + \"] does not exi\nst.\");\n                    ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:144: cannot resolve symbol\nsymbol  : variable manager\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n                this.manager.release(selector);\n                ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\Import.java:147: cannot resolve symbol\nsymbol  : variable manager\nlocation: class org.apache.lenya.cms.jcr.usecases.Import\n                this.manager.release(resolver);\n                ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\JCRImport.java:61: cannot resolve symbol\nsymbol  : variable context\nlocation: class org.apache.lenya.cms.jcr.usecases.JCRImport\n        Request request = ContextHelper.getRequest(this.context);\n                                                   ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\JCRImport.java:78: cannot resolve symbol\nsymbol  : variable manager\nlocation: class org.apache.lenya.cms.jcr.usecases.JCRImport\n            repo = (Repository)manager.lookup(Repository.class.getName());\n                               ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\JCRImport.java:150: cannot resolve symbol\nsymbol  : variable super\nlocation: class org.apache.lenya.cms.jcr.usecases.JCRImport\n        super.doExecute();\n        ^\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\modules-optional\\jcrsource\\java\\src\\or\ng\\apache\\lenya\\cms\\jcr\\usecases\\JCRImport.java:157: cannot resolve symbol\nsymbol  : variable super\nlocation: class org.apache.lenya.cms.jcr.usecases.JCRImport\n        super.initParameters();\n        ^\n27 errors\n\nBUILD FAILED\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\targets\\webapp-build.xml:163: The foll\nowing error occurred while executing this line:\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\src\\targets\\modules-build.xml:66: The foll\nowing error occurred while executing this line:\nC:\\marquis1\\Lenya1.4_3108\\lenya-1.4.x\\build\\lenya\\temp\\modules-build.xml:3752: C\nompile failed; see the compiler error output for details.\n\nTotal time: 2 minutes 52 seconds\n\n\nI figured out that this is because of missing dependencies in jcrsource. Will\nprovide the patch for this."}, {"count": 1, "text": "Created attachment 18831\nAdded dependency of jcrsource on usecase, jcr and sourcerepository\n\nModule org.apache.lenya.modules.jcrsource is dependent on following modules :\n   org.apache.lenya.modules.usecase\n   org.apache.lenya.modules.jcr\n   org.apache.lenya.modules.sourcerepository\n\nAdded dependency of these modules in module.xml\n\nCan somebody review it and commit it please.", "bug_id": 40433, "is_private": false, "id": 93151, "time": "2006-09-07T12:43:06Z", "creator": "midha.rakesh@gmail.com", "creation_time": "2006-09-07T12:43:06Z", "tags": [], "attachment_id": 18831}, {"count": 2, "tags": [], "creator": "thorsten@apache.org", "text": "Renaming Lenya 1.4 to 2.0", "id": 105521, "time": "2007-07-16T01:59:02Z", "bug_id": 40433, "creation_time": "2007-07-16T01:59:02Z", "is_private": false, "attachment_id": null}]