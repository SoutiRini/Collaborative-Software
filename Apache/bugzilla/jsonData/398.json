[{"count": 0, "tags": [], "creator": "dev@tomcat.apache.org", "attachment_id": null, "id": 372, "time": "2001-01-04T13:52:50Z", "bug_id": 398, "creation_time": "2001-01-04T13:52:50Z", "is_private": false, "text": "If the TOMCAT_HOME environment variable is already set by the user before tomcat.bat is run, tomcat.bat should respect that decision and move forward w/o quitting, even if lib/servlet.jar doesn't exist.\r\n\r\nNow, why would you want this?  Namely to have the tomcat libs located in an entirely separate directory structure from the content.  Unix allows this assuming you set your TOMCAT_HOME and CLASSPATH before calling tomcat.sh.  Windows should behave the same.\r\n\r\nHere is how I modified tomcat.bat:\r\n\r\nOriginal line 43 onward:\r\n\r\nif not \"%TOMCAT_HOME%\" == \"\" goto gotTomcatHome\r\nset TOMCAT_HOME=.\r\n:gotTomcatHome\r\nif exist \"%TOMCAT_HOME%\\lib\\servlet.jar\" goto okTomcatHome\r\necho Unable to locate servlet.jar, check the value of TOMCAT_HOME.\r\ngoto cleanup\r\n:okTomcatHome\r\n\r\n\r\nMy proposed changes:\r\n\r\nif not \"%TOMCAT_HOME%\" == \"\" goto gotTomcatHome\r\nset TOMCAT_HOME=.\r\n:gotTomcatHome\r\nif exist \"%TOMCAT_HOME%\\lib\\servlet.jar\" goto okTomcatHome\r\n\r\nrem If TOMCAT_HOME does exist, assume that the user knows what they are doing.\r\nrem Beware that if the user does not set the CLASSPATH themselves, that\r\nrem Tomcat will most likely fail to start.\r\n\r\nif not \"%TOMCAT_HOME%\" == \"\" goto okTomcatHome\r\necho Unable to locate servlet.jar, check the value of TOMCAT_HOME.\r\ngoto cleanup\r\n:okTomcatHome\r\n\r\n\r\n\r\nFor more info, please contact Mark Manca at mmanca@adobe.com.\r\n"}, {"count": 1, "tags": [], "creator": "marc.saegesser@apropos.com", "text": "Won't make it into 3.2.2, but maybe the 3.3 guys will pick this up.", "id": 1324, "time": "2001-03-16T11:51:34Z", "bug_id": 398, "creation_time": "2001-03-16T11:51:34Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "cmanolache@yahoo.com", "text": "tomcat.bat is intended as a helper - if you set your own CLASSPATH you don't\nneed the bat anyway, you can just use \"java org.apache.tomcat.startup.Main\".\nOr use java -jar tomcat.jar.\nThe BAT and .sh file should disapear in a later version ( or be replaced with \nsimpler, maybe installer-generated scripts ). I'll close this - please use your\n(local) script, it's better to not confuse users.", "id": 2020, "time": "2001-04-22T10:51:06Z", "bug_id": 398, "creation_time": "2001-04-22T10:51:06Z", "is_private": false, "attachment_id": null}]