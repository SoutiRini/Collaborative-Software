[{"count": 0, "tags": [], "creator": "sbailliez@apache.org", "text": "The deployer can throw a NPE while removing a context (remove method) because \nthe docbase may not be an absolute path so the parentFile would return null in \nthe following code:\n\n                File contextFile = new File(context.getDocBase());\n                File baseDir = contextFile.getParentFile();\n                if (appBase.getCanonicalPath().equals(baseDir.getCanonicalPath\n())) {\n                    isAppBase = true;\n                }\n\n\nTo be consistent with all the code in the app, it should probably be something \nlike:\n\nFile contextFile = new File(context.getDocBase());\nif (!contextFile .isAbsolute()){\n   contextFile = new File(System.getProperty(\"catalina.base\"), contextFile);\n}\nFile baseDir = contextFile.getParentFile();", "id": 57089, "time": "2004-05-10T14:13:08Z", "bug_id": 28871, "creation_time": "2004-05-10T14:13:08Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 28871, "attachment_id": null, "text": "Note that the install method potentially suffer from the same problem", "id": 57090, "time": "2004-05-10T14:14:37Z", "creator": "sbailliez@apache.org", "creation_time": "2004-05-10T14:14:37Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 28871, "attachment_id": null, "text": "The install method does not suffer from the same issue.\n\n*** This bug has been marked as a duplicate of 32779 ***", "id": 69546, "time": "2005-01-11T20:50:12Z", "creator": "markt@apache.org", "creation_time": "2005-01-11T20:50:12Z", "is_private": false}]