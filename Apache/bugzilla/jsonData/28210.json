[{"count": 0, "tags": [], "creator": "tomcat5@tjworld.org", "attachment_id": null, "id": 55326, "time": "2004-04-05T15:46:55Z", "bug_id": 28210, "creation_time": "2004-04-05T15:46:55Z", "is_private": false, "text": "Apache Tomcat/5.0.16 JVM 1.4.2_03-b02 Sun Microsystems Inc. Windows 2003 5.2 \nx86 \n\nSometimes after a restart all JSP pages fail to execute, with Tomcat reporting \na range of errors of which the one attached to the end of this report is \ntypical. Basically they say the .class file can't be found.\n\nWe have a directory hierachy of D:\\InetPub\\hostingRoot\\<project>\\ with various \nsub-directories depending on project context.\n\nThe hostingRoot directory is shared by windows as \"hostingroot\" on \nserver \"Popeye\" :- \\\\Popeye\\hostingroot\\\n\nFor JSP development we typically use\n\nD:\\InetPub\\hostingRoot\\<project>\\resource\\java\\\n\nOn one occassion recently we saw an error that told us the complied JSP \ncouldn't be found. We eventually worked out what had happened, fixed it \nthrough restarting Tomcat, and thought no more of it.\n\nIt's happened again today.\n\nThe context's base path is the UNC path:\n\n//Popeye/hostingRoot/test.2xp.co.uk/resource/java\n\nWhat is happening is that although the project is in the file system at:\n\nD:\\InetPub\\hostingRoot\\test.2xp.co.uk\\resource\\java\\\n\nthe complied java file is being written elsewhere:\n\nD:\\hostingRoot\\test.2xp.co.uk\\resource\\java\\work\\org\\apache\\jsp\\dbTags_jsp.clas\ns\n\nYou'll see in the error report that for some reason Jasper appears to \nbe 'forgetting' to write to \\\\Popeye\\hostingroot\\ and instead writing to\n\nD:\\hostingroot\\\n\nThe error report suggests that the file is being sought at \"\\hostingroot\\...\" \nwhich suggests 2 issues:\n\n1) Misses off the server part of the UNC path \"\\\\Popeye\\\", then creats a \nhierachy of directories on the disk file system on a new path, and the .class \nfile belonging to the JSP page is there.\n\n2) It uses the windows default drive letter for the application as a prefix, \nor the OS assumes the drive letter.\n\nWe've not managed to solve it this time by doing a restart.\n\nIt appears to be an intermittent bug but it's so rare we can't isolate a \nscenario to reproduce it.\n\nIt affects the \\jsp-examples context too. To my knowledge the server is in \nit's default configuration post-install.\n\nTJ.\n\n---- error report ----\ntype Exception report\n\nmessage \n\ndescription The server encountered an internal error () that prevented it from \nfulfilling this request.\n\nexception \n\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\torg.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:558)\n\torg.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:291)\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:301)\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:248)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:856)\n\n\nroot cause \n\njava.io.FileNotFoundException: no such file: \n\\hostingRoot\\test.2xp.co.uk\\resource\\java\\work\\org\\apache\\jsp\\dbTags_jsp.class\n\torg.apache.jasper.compiler.SmapUtil$SDEInstaller.(SmapUtil.java:237)\n\torg.apache.jasper.compiler.SmapUtil$SDEInstaller.install\n(SmapUtil.java:225)\n\torg.apache.jasper.compiler.SmapUtil.installSmap(SmapUtil.java:153)\n\torg.apache.jasper.compiler.Compiler.generateClass(Compiler.java:429)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:458)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:439)\n\torg.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:552)\n\torg.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:291)\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:301)\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:248)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:856)"}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 55328, "time": "2004-04-05T16:04:01Z", "bug_id": 28210, "creation_time": "2004-04-05T16:04:01Z", "is_private": false, "text": "You have to file reasonable and reproduceable bugs. I don't know what's\noccurring with your network or your setup, but we cannot debug this."}]