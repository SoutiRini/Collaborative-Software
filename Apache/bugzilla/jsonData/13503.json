[{"count": 0, "tags": [], "bug_id": 13503, "attachment_id": null, "id": 24296, "time": "2002-10-10T17:03:08Z", "creator": "vesalainen@mermit.fi", "creation_time": "2002-10-10T17:03:08Z", "is_private": false, "text": "The version is 4.0.6 as opposed to 4.0.4 Final (4.0.6 was not available in the  \nVersion list):  \n  \nFrom org.apache.jasper.compiler.JspParseEventListener.java: \n \n162:      defaultType = \"text/html;\"; \n163:      defaultCharset = \"ISO-8859-1\"; \n... \n362: // Per errata_a, determine the default output content type  \n363:        if (servletContentType == null) {  \n364:            servletContentType = defaultType +  \n365:                 ((pageEncoding == null)? defaultCharset: pageEncoding);  \n366:        }  \n367:        writer.println(\"response.setContentType(\"  \n378:                           + writer.quoteString(servletContentType)  \n369:                           + \");\");  \n  \nThis produces the following line of code to the compiled JSP .java file \n  \nresponse.setContentType(\"text/html;ISO-8859-1\");  \n  \nI propose that this is not correct, but should instead be:  \n  \nresponse.setContentType(\"text/html;charset=ISO-8859-1\"); \n \nThe fix is to change row 364 to be: \n \n364:            servletContentType = defaultType + \"charset=\" +"}, {"count": 1, "tags": [], "bug_id": 13503, "attachment_id": null, "id": 35626, "time": "2003-04-19T01:04:47Z", "creator": "kin-man.chung@sun.com", "creation_time": "2003-04-19T01:04:47Z", "is_private": false, "text": "The problem is not in 4.1.x"}]