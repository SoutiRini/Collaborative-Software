[{"count": 0, "tags": [], "bug_id": 3287, "text": "(The bug report form doesn't list version 1.5 alpha)\n\nThe manifest created with 1.5 alpha has a Create-By: and a blank line after \nit.  This blank line breaks the java Package class being able to retrieve info \n(e.g., Package's .getSpecificationVendor() )\n------------------------\nManifest-Version: 1.0\nCreated-By: Ant 1.5alpha\n\nName: com/ventaso/prospector\nSpecification-Title: Prospector\nSpecification-Vendor: Ventaso\nSpecification-Version: 3.0\nImplementation-Version: 0.Ben's local build\nImplementation-Title: com.ventaso.prospector\n----------------------\n\nBut under 1.3 the manifest is fine:\n----------------------\nManifest-version: 1.0\nName: com/ventaso/prospector\nSpecification-Title: Prospector\nSpecification-Version: 3.0\nSpecification-Vendor: Ventaso\nImplementation-Title: com.ventaso.prospector\nImplementation-Version: 0.Ben's local build\n------------------------", "id": 4926, "attachment_id": null, "creator": "bstout@ventaso.com", "creation_time": "2001-08-27T14:31:23Z", "time": "2001-08-27T14:31:23Z", "is_private": false}, {"count": 1, "text": "Please read\nhttp://java.sun.com/j2se/1.3/docs/guide/jar/jar.html#JAR%20Manifest\n\nI think the manifest you are providing is not valid according to that spec. In \nparticular the following statement \"The main section contains security and \nconfiguration information about the JAR file itself, as well as the application \nor extension that this JAR file is a part of. It also defines main attributes \nthat apply to every individual manifest entry.  No attribute in this section \ncan have its name equal to  'Name'. This section is terminated by an empty \nline. \n\n\nAnt treats the Name as the start of a new section. I'm not sure what the intent \nof the Named section is in your case since all attributes seem to belong to the \nmain section. Can you try this for the manifest file\n\nManifest-version: 1.0\nSpecification-Title: Prospector\nSpecification-Version: 3.0\nSpecification-Vendor: Ventaso\nImplementation-Title: com.ventaso.prospector\nImplementation-Version: 0.Ben's local build\nName: com/ventaso/prospector\n\n\n\n", "bug_id": 3287, "attachment_id": null, "id": 4927, "time": "2001-08-27T16:22:45Z", "creator": "conor@apache.org", "creation_time": "2001-08-27T16:22:45Z", "tags": [], "is_private": false}, {"count": 2, "text": "Oh, BTW, when I run your example, I get\n      [jar] Manifest warning: \"Name\" attributes should not occur in the main \nsection and must be the first element in all other sections: \"Name: \ncom/ventaso/prospector\"\n\nDid you get that?\n\nALso, All alpha builds are recorded under the version \"Nightly\".", "bug_id": 3287, "is_private": false, "id": 4929, "time": "2001-08-27T16:31:16Z", "creator": "conor@apache.org", "creation_time": "2001-08-27T16:31:16Z", "tags": [], "attachment_id": null}, {"count": 3, "text": "Created attachment 492\nillustrates manifest reading problem from jar file", "bug_id": 3287, "is_private": false, "id": 5088, "time": "2001-09-04T09:44:01Z", "creator": "bstout@ventaso.com", "creation_time": "2001-09-04T09:44:01Z", "tags": [], "attachment_id": 492}, {"count": 4, "tags": [], "bug_id": 3287, "text": "This didn't seem to get attached to my last message:  \n==========================\nI must be missing something. I've attached a test to illustrate my problem.\n\nUnzip this in a clean dir.  Execute the 'run.bat' file.  This creates an ant-\nmade jar file and a jar.exe made jar file.\n\nThe run check.bat.  This execs a util class I made to read the manifest from a \njar.  You'll see with the antMade.jar the manifest is null.  But with the \njarMade.jar, the manifest is returned and its entries are read properly.\n\nChecking more, I see this problem exists in 1.2 also.", "id": 5130, "attachment_id": null, "creator": "bstout@ventaso.com", "creation_time": "2001-09-05T13:49:21Z", "time": "2001-09-05T13:49:21Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 3287, "is_private": false, "id": 5138, "attachment_id": null, "creator": "conor@apache.org", "creation_time": "2001-09-05T16:51:39Z", "time": "2001-09-05T16:51:39Z", "text": "Your example works for me with Ant 1.4. Both jars contain the manifest.\n\nLets skip Ant 1.2, can you please test with eitehr the Ant 1.4 release or the \nlatest CVS snapshot?"}, {"count": 6, "text": "I tested with ant 1.3.\n\nBoth jars contain the manifest, but the getManifest() method in the code \nexample returns null only for the ant-created jar.\n\n\n", "bug_id": 3287, "attachment_id": null, "id": 5139, "time": "2001-09-05T17:00:36Z", "creator": "bstout@ventaso.com", "creation_time": "2001-09-05T17:00:36Z", "tags": [], "is_private": false}, {"count": 7, "text": "I see the problem. It seems that JarInputStream requires the META-INF and \nMANIFEST.MF entries to be the first two entries in the jar file regardless of \ntheir Zipfile path. That isn't documented. For example try a JarFile and it \nshould work. \n\nOK, while it arises from the JDK's implementation, it is a bug in Ant. I'll \nlook into fixing it.", "bug_id": 3287, "attachment_id": null, "id": 5140, "time": "2001-09-05T17:23:56Z", "creator": "conor@apache.org", "creation_time": "2001-09-05T17:23:56Z", "tags": [], "is_private": false}, {"count": 8, "tags": [], "creator": "conor@apache.org", "is_private": false, "id": 5459, "attachment_id": null, "bug_id": 3287, "creation_time": "2001-09-13T05:22:37Z", "time": "2001-09-13T05:22:37Z", "text": "Fixed in 1.4 branch - will be included in 1.4.1"}]