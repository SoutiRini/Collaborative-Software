[{"attachment_id": null, "tags": [], "creator": "rnewman@thecia.net", "text": "Tomcat throws a JasperException instead of NumberFormatException when an input parameter \ncan't be properly converted to a bean property.   This makes it impossible to write an application \nportably, since it has to catch a Tomcat-specific exception.\n\nMy JSP:\n\n--------\n<jsp:useBean id=\"bean\" class=\"test.TestBean\">\n  <jsp:setProperty name=\"bean\" property=\"height\"/>\n</jsp:useBean>\n\n<html>\n<head><title>Bean Test</title></head>\n\n<body>\n<p>The height is <jsp:getProperty name=\"bean\" property=\"height\"/>.</p>\n</body>\n\n</html>\n\n----------\nMy bean:\n\n----------\npackage test;\n\npublic class TestBean {\n   private int height;\n   \n   public void setHeight (int h) {height=h;}\n   public int getHeight() {return height;}\n}\n--------\n\nTo test: invoke it with \"?height=foo\" .  You'll get:\n\norg.apache.jasper.JasperException: For input string: \"foo\"\n        at \norg.apache.jasper.runtime.JspRuntimeLibrary.internalIntrospecthelper(JspRuntimeLibrary.java:274)\n        at org.apache.jasper.runtime.JspRuntimeLibrary.introspecthelper(JspRuntimeLibrary.java:220)\n        at org.apache.jsp.index_jsp._jspService(index_jsp.java:54)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:137)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:210)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:295)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n...\n\nroot cause \n\norg.apache.jasper.JasperException: For input string: \"foo\"\n        at org.apache.jasper.runtime.JspRuntimeLibrary.convert(JspRuntimeLibrary.java:185)\n        at \norg.apache.jasper.runtime.JspRuntimeLibrary.internalIntrospecthelper(JspRuntimeLibrary.java:268)\n        at org.apache.jasper.runtime.JspRuntimeLibrary.introspecthelper(JspRuntimeLibrary.java:220)\n        at org.apache.jsp.index_jsp._jspService(index_jsp.java:54)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:137)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:210)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:295)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        ...", "count": 0, "id": 42350, "time": "2003-08-07T17:48:38Z", "bug_id": 22226, "creation_time": "2003-08-07T17:48:38Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 22226, "attachment_id": null, "is_private": false, "id": 42433, "time": "2003-08-08T17:37:33Z", "creator": "funkman@joedog.org", "creation_time": "2003-08-08T17:37:33Z", "text": "I feel your pain but according to the spec, this is not a bug. Making a\nsuggestion to the spec team (jsp-spec-comments at eng.sun.com) would be the best\nsolution at this point for future versions of the spec.\n\nhttp://marc.theaimsgroup.com/?l=tomcat-dev&m=106036342911204&w=2\n\nTo work around this issue, I recommend asking the tomcat-user list for advice.\n"}]