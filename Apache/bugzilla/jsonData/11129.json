[{"count": 0, "tags": [], "bug_id": 11129, "text": "The idea behind this valve ist to encode the session id at the beginning of the \nrequestURI as if the session id were a directory: \nhttp://localhost:8080/SID414B8C73851AB59D04DEC5A4A79AF0B3/examples/test.jsp \n\nThe advantage over the response.encodeURL() method is a) you don't have to \nencode every url by hand and b) it also works with html pages as long as you \nonly use relative links. An other advantage is, that this pages are certainly \nnot cached, even by older proxy caches like wingate and you don't need cookies.\n\nThis valve only filters the the sessionID out of the requestURI and sets it in \nthe request. To get the sessionID into the requestURI you have to insert the \nfollowing code at the beginnig of every jsp-page (e.g. with an jsp-include). \n\n if(session.isNew()) {\n    String uri = \"/SID\" + session.getId() + request.getRequestURI();\n    response.sendRedirect(uri);\n    return;\n }", "id": 20131, "time": "2002-07-24T14:43:53Z", "creator": "kai@entity38.de", "creation_time": "2002-07-24T14:43:53Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "kai@entity38.de", "text": "Created attachment 2467\nThe code for the valve", "id": 20132, "time": "2002-07-24T14:46:57Z", "bug_id": 11129, "creation_time": "2002-07-24T14:46:57Z", "is_private": false, "attachment_id": 2467}, {"count": 2, "tags": [], "text": "Probably an obvious resolution given the time this has been open.\n\nThat it breaks reverse proxies is just one of many reasons why this isn't going to be added to Tomcat", "is_private": false, "bug_id": 11129, "id": 140779, "time": "2010-10-16T16:09:36Z", "creator": "markt@apache.org", "creation_time": "2010-10-16T16:09:36Z", "attachment_id": null}]