[{"count": 0, "tags": [], "creator": "minfrin@sharp.fm", "text": "When an attempt is made to cache a response, and the response contains a Set-Cookie header, the set_cookie_doo_doo() function adds revalidated cookies to the ever growing list of old cookies, resulting in the client getting the same cookie over and over again.\n\nThe workaround is to ask the cache to ignore the Set-Cookie header.\n\nstatic int set_cookie_doo_doo(void *v, const char *key, const char *val)\n{\n\t/* FIXME: We sometimes get incoming cookies that replace existing cookies,\n\t * this simple addn causes cookies to get added over and over. Think of\n\t * a way to fix this.\n\t */\n    apr_table_addn(v, key, val);\n    return 1;\n}", "id": 138038, "time": "2010-06-30T17:34:25Z", "bug_id": 49532, "creation_time": "2010-06-30T17:34:25Z", "is_private": false, "attachment_id": null}]