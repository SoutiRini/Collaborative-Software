[{"count": 0, "tags": [], "bug_id": 8673, "attachment_id": null, "is_private": false, "id": 15174, "time": "2002-04-30T18:40:09Z", "creator": "phillip.rhodes@alcoa.com", "creation_time": "2002-04-30T18:40:09Z", "text": "We are using mod_proxy to proxy pdf documents on an internal web server.\n\nThe mod_proxy with 2.x is not returning the content-length of the pdf.\nUsing a 1.3 version of mod_proxy, to the same webserver, will return a content-\nlength header.\n\nBelow is the headers for a 1.3 and a 2.0 apache version.  Notice that the 2.x \napache does not return a content length header, while the 1.3 does.\n\nRequest to a 2.0.35 apache\nGET /msds2/documents/190252.pdf  HTTP/1.1\nAccept: text/html, text/css, text/xml, text/plain, application/csv, \napplication/pdf, application/msword, application/vnd.ms-excel, application/x-\nvbscript, application/x-www-form-urlencoded, application/x-javascript\nAccept-Language: en_us\nHost: acadv04.ami.alcoa.com:16888\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)\nConnection: Close\n\nResponse:\nHTTP/1.1 200 OK\nDate: Tue, 30 Apr 2002 16:24:38 GMT\nServer: Microsoft-IIS/5.0\nContent-Type: application/pdf\nAccept-Ranges: bytes\nLast-Modified: Tue, 31 Oct 2000 04:00:00 GMT\nETag: \"0e012aef42c01:7e8\"\nConnection: close\nTransfer-Encoding: chunked\n\n81f5\n%PDF-1.3\n...etc...\n\n\nRequest to a 1.3 apache\n \nGET /msds2/documents/190252.pdf HTTP/1.1\nAccept: text/html, text/css, text/xml, text/plain, application/csv, \napplication/pdf, application/msword, application/vnd.ms-excel, application/x-\nvbscript, application/x-www-form-urlencoded, application/x-javascript\nAccept-Language: en_us\nHost: acadv04.ami.alcoa.com:7380\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)\nConnection: Close\n\nResponse:\nHTTP/1.0 200 OK\nServer: Microsoft-IIS/5.0\nDate: Tue, 30 Apr 2002 16:08:14 GMT\nContent-Type: application/pdf\nAccept-Ranges: bytes\nLast-Modified: Tue, 31 Oct 2000 04:00:00 GMT\nETag: \"0e012aef42c01:7e8\"\nContent-Length: 84348\n\n%PDF-1.3\n...etc..."}, {"count": 1, "tags": [], "bug_id": 8673, "attachment_id": null, "id": 15175, "time": "2002-04-30T18:43:37Z", "creator": "slive@apache.org", "creation_time": "2002-04-30T18:43:37Z", "is_private": false, "text": "This doesn't look like a bug to me.  The 2.0 proxy is sending an HTTP/1.1 response\nusing chunked encoding.  There is no content-length header needed when chunked\nencoding is used.\n\nThanks for using Apache!"}]