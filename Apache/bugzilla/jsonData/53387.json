[{"count": 0, "tags": [], "bug_id": 53387, "is_private": false, "id": 159821, "creation_time": "2012-06-08T12:14:41Z", "time": "2012-06-08T12:14:41Z", "creator": "knst.kolinko@gmail.com", "text": "This was originally reported in bug 48956, but it is a separate issue.\n\nIn Apache HTTPD there is such example in documentation of mod_include: [1]\n\n[[[\n<!--#if expr=\"$QUERY_STRING = /^sid=([a-zA-Z0-9]+)/\" -->\n<!--#set var=\"session\" value=\"$1\" -->\n<!--#endif -->\n]]]\n\n[1] http://httpd.apache.org/docs/current/mod/mod_include.html\n\nHere $1 references the value of group #1 as caught by regular expression.\n\nExample from comment 3 in bug 48956:\n[[[\n<!--#set var=\"aux\" value=\"aa12\" -->\n<!--#if expr=\"$aux=/^aa([a-zA-Z0-9\\-_]*)/\" -->\n        <!--#set var=\"aux2\" value=\"$1\" -->\n<!--#endif -->\n\nResulting value:<!--#echo var=\"aux2\" -->\n]]]\n\nIn Tomcat support for regular expression in SSI was added in r1136231 and r1136399 and is implemented in  ExpressionParseTree$CompareNode#compareBranches()\n\nMaybe the last used Matcher can be stored in some context, so that it can be later used to resolve $1 etc. references. I do not know whether $1 is limited to that #if, or it is available everywhere later until it is overwritten by the next regexp-matching operation. I do not know how HTTPD behaves here. I think the latter would be easier to implement.", "attachment_id": null}, {"count": 1, "text": "*** Bug 55176 has been marked as a duplicate of this bug. ***", "bug_id": 53387, "attachment_id": null, "id": 168198, "time": "2013-07-01T20:08:30Z", "creator": "markt@apache.org", "creation_time": "2013-07-01T20:08:30Z", "tags": [], "is_private": false}]