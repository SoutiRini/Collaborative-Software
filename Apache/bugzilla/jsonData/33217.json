[{"count": 0, "tags": [], "creator": "mario@ops.co.at", "attachment_id": null, "text": "After switching our server from ISO-8859-1 to UTF-8 users with german umlauts in\ntheir name couldnt login anymore using BasicAuthentication.\n\nFor me it looks like the org.apache.catalina.authenticator.BasicAuthenticator do\nnot honor the characterEncoding of the request.\n\nAttached you could find a patch which _should_ fix it, though I havent even\ncompiled it (just tested within the debugger) as I do not have a tomcat\ndevelopment environment setup.\n\nIf one of the developer could check this out - and - if it makes it into tomcat\n- please attach a BasicAuthenticator.class to this bug as drop-in into a tomcat\ninstallation. This would be VERY VERY great.", "id": 70024, "time": "2005-01-24T15:29:24Z", "bug_id": 33217, "creation_time": "2005-01-24T15:29:24Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 33217, "attachment_id": 14080, "id": 70025, "time": "2005-01-24T15:30:35Z", "creator": "mario@ops.co.at", "creation_time": "2005-01-24T15:30:35Z", "is_private": false, "text": "Created attachment 14080\nhonor request charset"}, {"attachment_id": null, "tags": [], "creator": "remm@apache.org", "text": "BASIC is implemented as a header. Any encoding used here is proprietary (or\nplease point me to the part of the relevant RFCs where this is specified).", "count": 2, "id": 70027, "time": "2005-01-24T16:10:12Z", "bug_id": 33217, "creation_time": "2005-01-24T16:10:12Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 33217, "text": "Event then, I tried it on an UTF-8 only system and from windows with firefox and\nIE. They all transfer the base64 encoded string as ISO-8859-1 string.\n\nBut I understand your point.\n\nMight it be aceptable for you if I send a patch where the \"Base64.decode\" stuff\nis extracted into its own methods to allow easy override of BasicAuthenticator?", "id": 70030, "time": "2005-01-24T16:26:58Z", "creator": "mario@ops.co.at", "creation_time": "2005-01-24T16:26:58Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 33217, "text": "Yes, it's a good point too. I see that it is a lot better to specify the\nencoding explicitely where it would be unspecified (defaulting to platform\nencoding is very bad).\n\nI would also think that anything other than ISO-8859-1 would be bad. I would say\nthat Tomcat 5.5 uses this encoding (I'm not 100% sure, but it seems ok).\n\nNote: you can configure the authenticators used (see Authenticators.properties\nin package startup), or add them as valves.", "id": 70036, "time": "2005-01-24T17:41:29Z", "creator": "remm@apache.org", "creation_time": "2005-01-24T17:41:29Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 33217, "text": "Authenticators.properties: Thanks - I already solved my problem by changing it ;-)\n\nTomcat 5.5: I check it out, maybe its time to migrate.\n\nThanks!", "id": 70039, "time": "2005-01-24T17:59:16Z", "creator": "mario@ops.co.at", "creation_time": "2005-01-24T17:59:16Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 33217, "attachment_id": null, "id": 70044, "time": "2005-01-24T20:17:19Z", "creator": "william.barker@wilshire.com", "creation_time": "2005-01-24T20:17:19Z", "is_private": false, "text": "(In reply to comment #2)\n> BASIC is implemented as a header. Any encoding used here is proprietary (or\n> please point me to the part of the relevant RFCs where this is specified).\n\nRFC 2617 Section 2 defines both 'userid' and 'password' as type 'TEXT', which \nis defined in RFC 2616 section 2.2 as being (mostly) iso-8859-1."}]