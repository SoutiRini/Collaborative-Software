[{"count": 0, "tags": [], "bug_id": 22280, "text": "Running\n\n  ant -Doffline=1 -Dtestcase=org.apache.tools.ant.IncludeTest run-single-test\n\non my SuSE-Linux 7.2 patched up to kernel 2.4.20 and with sun j2sdk1.4.1_02 \nissues:\n\n(...)\nrun-single-test-only:\n    [junit] Testsuite: org.apache.tools.ant.IncludeTest\n    [junit] Tests run: 12, Failures: 0, Errors: 1, Time elapsed: 0,36 sec\n\n    [junit] Testcase: test1 took 0,03 sec\n    [junit] Testcase: test2 took 0,01 sec\n    [junit]     Caused an ERROR\n    [junit] java.io.FileNotFoundException: D:\\antcvs\\ant\\src\\etc\\testcases\\core\\\ninclude\\frag#ment\\file:include.inc (No such file or directory)\n    [junit] java.io.FileNotFoundException: D:\\antcvs\\ant\\src\\etc\\testcases\\core\\\ninclude\\frag#ment\\file:include.inc (No such file or directory)\n    [junit]     at org.apache.tools.ant.helper.ProjectHelper2.parse(ProjectHelpe\nr2.java:261)\n(...)\n\nI can reproduce the same results on my W2K SP4 (german) and sun j2sdk1.4.1_01, \nwhere the System messages says \"(Das System kann die angegebene Datei nicht \nfinden)\"\n\nIt looks like the problem is the testcase itself since changing file\n\n  D:\\antcvs\\ant\\src\\etc\\testcases\\core\\include\\frag#ment\\include.xml\n\nto include \"file:include.inc\" as \"file:./include.inc\" lets the test pass. This \nwhat most of the includes are included. The same problem shows up with \nthe \"with blank\" include.xml.", "id": 42495, "time": "2003-08-10T10:57:05Z", "creator": "UCaspers@hotmail.com", "creation_time": "2003-08-10T10:57:05Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 22280, "text": "Created attachment 7725\nThis patch lets the the test pass.", "id": 42496, "time": "2003-08-10T10:58:53Z", "creator": "UCaspers@hotmail.com", "creation_time": "2003-08-10T10:58:53Z", "is_private": false, "attachment_id": 7725}, {"attachment_id": null, "tags": [], "bug_id": 22280, "is_private": false, "count": 2, "id": 42497, "time": "2003-08-10T11:19:30Z", "creator": "adam.hardy@cyberspaceroad.com", "creation_time": "2003-08-10T11:19:30Z", "text": "the patch fixes it for me as well with ant 1.6alpha + java 1.4.2 on Linux 2.4.20\nRH9. Thanks Ulf."}, {"attachment_id": null, "tags": [], "bug_id": 22280, "is_private": false, "count": 3, "id": 42510, "time": "2003-08-11T04:37:12Z", "creator": "conor@apache.org", "creation_time": "2003-08-11T04:37:12Z", "text": "I don't have any problems as is\n\nrun-single-test-only:\n    [junit] Testsuite: org.apache.tools.ant.IncludeTest\n    [junit] Tests run: 12, Failures: 0, Errors: 0, Time elapsed: 0.617 sec\n\n    [junit] Testcase: test1 took 0.165 sec\n    [junit] Testcase: test2 took 0.021 sec\n    [junit] Testcase: test3 took 0.019 sec\n    [junit] Testcase: test4 took 0.022 sec\n    [junit] Testcase: test5 took 0.02 sec\n    [junit] Testcase: testParseErrorInIncluding took 0.054 sec\n    [junit] Testcase: testTaskErrorInIncluding took 0.047 sec\n    [junit] Testcase: testParseErrorInIncluded took 0.138 sec\n    [junit] Testcase: testTaskErrorInIncluded took 0.032 sec\n    [junit] Testcase: testWithSpaceInclude took 0.039 sec\n    [junit] Testcase: testWithSpaceSimple took 0.021 sec\n    [junit] Testcase: testWithSpaceRelative took 0.016 sec\n\nMy OS is RH9\nJVM is build 1.4.1_01-b01\n\nThis is a straight CVS build? Do you have anything in your classpath when\nlaunching Ant? Can you run ant -diagnostics please?\n"}, {"attachment_id": 7739, "tags": [], "bug_id": 22280, "text": "Created attachment 7739\nPlus my CLASSPATH is empty", "count": 4, "id": 42524, "time": "2003-08-11T09:38:51Z", "creator": "adam.hardy@cyberspaceroad.com", "creation_time": "2003-08-11T09:38:51Z", "is_private": false}, {"count": 5, "attachment_id": null, "creator": "conor@apache.org", "is_private": false, "id": 42527, "time": "2003-08-11T11:05:09Z", "bug_id": 22280, "creation_time": "2003-08-11T11:05:09Z", "tags": [], "text": "Thanks for that info.\n\nThis is not a standard Ant distribution layout. The lib directory does not\ninclude Xerces so you have fallen back to the JDK's XML parser, crimson, which\nhas issues in this area.\n\nI assume you used dist-lite to generate this layout. It does not currently copy\nthe parser related jars. It could do so, I guess. It would affect the bootstrap\nbuild as well, duplicating the jars on your disk (probably not a big deal)."}, {"count": 6, "tags": [], "text": "Yes, having xercesImpl.jar and xml-api.jar in my lib resolves it for me too.\nTxs. Didn't realize it was a requirement. \n\nI believe that mine was a standard distribution layout - I had not changed the\njars in lib since I checked out the whole ant src a couple of days ago (apart\nfrom getting junit.jar).", "is_private": false, "id": 42532, "creator": "adam.hardy@cyberspaceroad.com", "time": "2003-08-11T12:47:36Z", "bug_id": 22280, "creation_time": "2003-08-11T12:47:36Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 22280, "is_private": false, "count": 7, "id": 42533, "time": "2003-08-11T12:49:51Z", "creator": "adam.hardy@cyberspaceroad.com", "creation_time": "2003-08-11T12:49:51Z", "text": "sorry, just saw what you meant about including xerces. Yes I did use dist-lite. "}, {"count": 8, "tags": [], "text": "I've changed dist-lite to include the parser jars. Should mean a dist-lite build\nis fully usable as is.", "is_private": false, "id": 42543, "creator": "conor@apache.org", "time": "2003-08-11T13:22:36Z", "bug_id": 22280, "creation_time": "2003-08-11T13:22:36Z", "attachment_id": null}]