[{"count": 0, "tags": [], "bug_id": 10287, "attachment_id": null, "text": "Running fop 0.20.4RC with saxon.jar (instead of xerces+xalan) I got exception:\n\nD:\\fop\\fop-0.20.4rc>java -cp\nbuild\\fop.jar;lib\\saxon.jar;lib\\batik.jar;lib\\avalon-framework-cvs-20020315.jar;lib\\logkit-1.0.jar;lib\\jimi-1.0.jar\norg.apache.fop.apps.Fop table.fo -pdf table.pdf -c conf/userconfig.xml -d   \n[DEBUG] Input mode: \n[DEBUG] FO \n[DEBUG] fo input file: table.fo\n[DEBUG] Output mode: \n[DEBUG] pdf\n[DEBUG] output file: table.pdf\n[DEBUG] OPTIONS\n[DEBUG] user configuration file: conf\\userconfig.xml\n[DEBUG] debug mode on\n[DEBUG] dump configuration\n[DEBUG] quiet mode on\n[DEBUG] Using com.icl.saxon.aelfred.SAXDriver as SAX2 Parser\n[DEBUG] reading user configuration file\n[DEBUG] Using com.icl.saxon.aelfred.SAXDriver as SAX2 Parser\n[DEBUG] base directory: file:/D:/fop/fop-0.20.4rc/\n[INFO] FOP 0.20.4rc\n[DEBUG] Using com.icl.saxon.aelfred.SAXDriver as SAX2 Parser\n[INFO] building formatting object tree\n[DEBUG] setting up fonts\n[INFO] [1]\n[DEBUG] Using com.icl.saxon.aelfred.SAXDriver as SAX2 Parser\n[ERROR] Failed to read font metrics file /d:/fop/fop-0.20.3/fonts/arial.xml : no\nmore input\n[INFO] Parsing of document complete, stopping renderer\n[ERROR] null\norg.apache.fop.apps.FOPException\n        at org.apache.fop.apps.CommandLineStarter.run(Unknown Source)\n        at org.apache.fop.apps.Fop.main(Unknown Source)\n\n---------\n\njava.lang.NullPointerException\n        at org.apache.fop.render.pdf.fonts.LazyFont.fontName(Unknown Source)\n        at org.apache.fop.render.pdf.FontSetup.addToResources(Unknown Source)\n        at org.apache.fop.render.pdf.PDFRenderer.stopRenderer(Unknown Source)\n        at org.apache.fop.apps.StreamRenderer.stopRenderer(Unknown Source)\n        at org.apache.fop.fo.FOTreeBuilder.endDocument(Unknown Source)\n        at com.icl.saxon.aelfred.SAXDriver.parse(SAXDriver.java:334)\n        at org.apache.fop.apps.Driver.render(Unknown Source)\n        at org.apache.fop.apps.CommandLineStarter.run(Unknown Source)\n        at org.apache.fop.apps.Fop.main(Unknown Source)\n\nFont definition is <font\nmetrics-file=\"file:///d:/fop/fop-0.20.3/fonts/arial.xml\" kerning=\"yes\"\nembed-file=\"d:/fop/fop-0.20.3/fonts/ttf/arial.ttf\">\n\nI believe the problem is due to the fact that metricsFile is stored in file name\nform, rather than URI, and then FontReader is trying to parse metrics file using\nthe file name, which is not of course valid URI. Well, it works in xerces, but\nAelfred is more picky and expects URI according to sax specification.", "id": 18659, "time": "2002-06-27T15:05:07Z", "creator": "oleg@tkachenko.com", "creation_time": "2002-06-27T15:05:07Z", "is_private": false}, {"count": 1, "text": "\n\n*** This bug has been marked as a duplicate of 14319 ***", "bug_id": 10287, "attachment_id": null, "id": 26714, "time": "2002-11-21T16:54:28Z", "creator": "oleg@tkachenko.com", "creation_time": "2002-11-21T16:54:28Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 10287, "text": "batch transition to closed remaining pre-FOP1.0 resolved bugs", "id": 156736, "time": "2012-04-01T13:52:02Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T13:52:02Z", "is_private": false, "attachment_id": null}]