[{"count": 0, "tags": [], "creator": "h.kipp@eurowings.com", "text": "I receive data via https post. The data transferred is 12+MB. It takes a very\nlong time before this is passed to the cgi-script (a little perl application in\nthis case).\n\nTransferring the same data in compressed form (300kB) needs only a few seconds,\nbut extracting the data inside the perlscript (using Compress::Zlib::memGunzip)\ntakes about 8 minutes (during that time I have 50-70% of CPU as user assigned to\nthe httpd-process, and about 20-30% system). BTW, using gunzip to extract the\nsame data as a .gz-file, is sort of quicker:\n\nreal    0m0.889s\nuser    0m0.265s\nsys     0m0.161s\n\nwith earlier versions of Apache13+modssl (eg Apache/1.3.28 (Unix) mod_ssl/2.8.15\nOpenSSL/0.9.7c PHP/4.3.0 mod_perl/1.27) I also got lots of \"httpd in free():\nwarning: recursive call\" (they _seem_ to have gone with Apache/1.3.29 (Unix)\nmod_ssl/2.8.16 OpenSSL/0.9.7c PHP/4.3.0 mod_perl/1.27)\n\nAnything I'm missing here?\n\nHolger Kipp", "id": 47615, "attachment_id": null, "bug_id": 24821, "creation_time": "2003-11-19T12:41:38Z", "time": "2003-11-19T12:41:38Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 24821, "is_private": false, "id": 47616, "time": "2003-11-19T12:52:45Z", "creator": "trawick@apache.org", "creation_time": "2003-11-19T12:52:45Z", "tags": [], "text": "Please see if the problem occurs without mod_ssl (i.e., with pure Apache).  We\ndon't develop/support mod_ssl for Apache 1.3 here, and if a problem only occurs\nwith mod_ssl for Apache 1.3 then you need to report it to the mod_ssl folks so\nthat the folks with the best skill match are aware of the problem.\n"}, {"count": 2, "tags": [], "text": "It looks like the problem is perl that is using FreeBSD malloc. If compiled to\nuse Perl malloc, the problem goes away.\n\nThis is repeatable using Compress::Zlib::memGunzip, extracting a gzipped file\nto glorious 40MB (which is running 1200+ seconds with FreeBSD malloc, but only\n4 seconds with Perl malloc under FreeBSD 4.9-STABLE), without using Apache at\nall.\n\nI had no time to verify that passing large chunks of data to perl-cgi-script\nsuffer from the same malloc-problem.\n\nRegards,\nHolger", "is_private": false, "bug_id": 24821, "id": 50135, "time": "2004-01-06T15:46:52Z", "creator": "h.kipp@eurowings.com", "creation_time": "2004-01-06T15:46:52Z", "attachment_id": null}]