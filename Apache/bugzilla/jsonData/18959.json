[{"count": 0, "tags": [], "bug_id": 18959, "attachment_id": null, "id": 34997, "time": "2003-04-11T16:14:26Z", "creator": "afried@cis.fed.gov", "creation_time": "2003-04-11T16:14:26Z", "is_private": false, "text": "I'm running a FreeBSD 5.0 \"CURRENT\" system.  When attempting to compile 2.0.45, \nI'm receiving the following error:\n\n/bin/sh /tmp/httpd-2.0.45/srclib/apr/libtool --silent --mode=compile gcc  -g -\nO2    -D_REENTRANT -D_THREAD_SAFE -DAP_HAVE_DESIGNATED_INITIALIZER   -\nI/tmp/httpd-2.0.45/srclib/apr/include -I/tmp/httpd-2.0.45/srclib/apr-\nutil/include -I/usr/local/include -I. -I/tmp/httpd-2.0.45/os/unix -I/tmp/httpd-\n2.0.45/server/mpm/prefork -I/tmp/httpd-2.0.45/modules/http -I/tmp/httpd-\n2.0.45/modules/filters -I/tmp/httpd-2.0.45/modules/proxy -I/tmp/httpd-\n2.0.45/include -I/tmp/httpd-2.0.45/modules/dav/main  -c /tmp/httpd-\n2.0.45/server/exports.c && touch /tmp/httpd-2.0.45/server/exports.lo\n/tmp/httpd-2.0.45/server/exports.c:145: `ap_get_module_config' undeclared here \n(not in a function)\n/tmp/httpd-2.0.45/server/exports.c:146: `ap_set_module_config' undeclared here \n(not in a function)\n/tmp/httpd-2.0.45/server/exports.c:486: `ap_strchr' undeclared here (not in a \nfunction)\n/tmp/httpd-2.0.45/server/exports.c:487: `ap_strchr_c' undeclared here (not in a \nfunction)\n/tmp/httpd-2.0.45/server/exports.c:488: `ap_strrchr' undeclared here (not in a \nfunction)\n/tmp/httpd-2.0.45/server/exports.c:489: `ap_strrchr_c' undeclared here (not in \na function)\n/tmp/httpd-2.0.45/server/exports.c:490: `ap_strstr' undeclared here (not in a \nfunction)\n/tmp/httpd-2.0.45/server/exports.c:491: `ap_strstr_c' undeclared here (not in a \nfunction)\n*** Error code 1\n\nStop in /tmp/httpd-2.0.45/server.\n*** Error code 1\n\nStop in /tmp/httpd-2.0.45/server.\n*** Error code 1\n\nStop in /tmp/httpd-2.0.45."}, {"text": "can you show your configure invocation, along with any env vars such as CFLAGS\nthat might affect the build?\n\ndid you run buildconf or use the included configure script/libtool?\n\nthanks!\n", "tags": [], "bug_id": 18959, "attachment_id": null, "count": 1, "id": 35028, "time": "2003-04-11T20:16:00Z", "creator": "trawick@apache.org", "creation_time": "2003-04-11T20:16:00Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 18959, "attachment_id": null, "id": 35030, "time": "2003-04-11T20:36:19Z", "creator": "afried@cis.fed.gov", "creation_time": "2003-04-11T20:36:19Z", "is_private": false, "text": "The compilation was attempted using both the FreeBSD \"ports\" script as well as \nmanually being downloaded, extracted, etc.  I made no changes to the \nenvironment variable with the exception of specifying a prefix directory.  I \nalso attempted it without the prefix directory setting, same error message.\n\nThe contents of the systems \"make.conf\" file is:\n# -- use.perl generated deltas -- #\n# Created: Tue Mar  4 15:19:35 2003\n# Setting to use base perl from ports:\nPERL_VER=5.6.1\nPERL_VERSION=5.6.1\nPERL_ARCH=mach\nNOPERL=yo\nNO_PERL=yo\nNO_PERL_WRAPPER=yo\n\n\nAnd my environment is:\n_       more make.conf\n\naddsuffix\nargv    ()\ncwd     /etc\ndirstack        /etc\necho_style      bsd\nedit\nfilec\ngid     0\ngroup   wheel\nhistory 100\nhome    /root\nkillring        30\nloginsh\nmail    /var/mail/root\nowd     /root\npath    \n(/sbin /bin /usr/sbin /usr/bin /usr/games /usr/local/sbin /usr/local/bin /usr/X1\n1R6/bin /root/bin)\nprompt  WEBSERVER# \nprompt2 %R? \nprompt3 CORRECT>%R (y|n|e|a)? \nsavehist        100\nshell   /bin/csh\nshlvl   1\nstatus  0\ntcsh    6.12.00\nterm    vt100\ntty     ttyp0\nuid     0\nuser    root\nversion tcsh 6.12.00 (Astron) 2002-07-23 (i386-intel-FreeBSD) options \n8b,nls,dl,al,kan,sm,rh,color,dspm,filec\n\nFinally, I used the builtin configure script.  I noticed a patch had been \npublished, so I also attempted patching the program, running buildconf and then \nconfig.  Same error during compilation.\n\nGood luck, and thanks for looking into this!\n\n"}, {"count": 3, "tags": [], "bug_id": 18959, "attachment_id": null, "id": 35035, "time": "2003-04-11T22:58:34Z", "creator": "trawick@apache.org", "creation_time": "2003-04-11T22:58:34Z", "is_private": false, "text": "works for me on FreeBSD 5.0-RELEASE...\n\nwget tarball\ntar -xzf httpd-2.0.45.tar.gz\ncd httpd-2.0.45\n./configure --prefix=/tmp/2045\n(some autoconf complaints about permissions but everything else okay)\nmake && make install\n\nHmmm...  Any chance you have apache header files in /usr/local/include from some\nprevious install?  /usr/local/include is getting searched before /tmp/httpd-\n2.0.45/include."}, {"count": 4, "tags": [], "text": "My system did have older files located under /usr/local/include.  I removed \nthose files and the compilation worked flawlessly.  I've been using Apache for \nsix or seven years and never knew that it looked outside it's temp directory \nwhen compiling.  I don't know if I feel more relieved or stupid...  \n\nThank you VERY, VERY much.  Sorry to have wasted your time with my erroneous \nbug report.\n\nAndrew\n", "attachment_id": null, "id": 35046, "creation_time": "2003-04-12T01:58:36Z", "time": "2003-04-12T01:58:36Z", "creator": "afried@cis.fed.gov", "bug_id": 18959, "is_private": false}, {"count": 5, "tags": [], "bug_id": 18959, "attachment_id": null, "id": 35050, "time": "2003-04-12T10:08:40Z", "creator": "trawick@apache.org", "creation_time": "2003-04-12T10:08:40Z", "is_private": false, "text": "This is something that at least a few people have hit.\n\nApache or apr-util or apr may need to look for include files in\n/usr/local/include, or other places where old Apache header files could have\nbeen installed, when using external libraries (zlib, berkeley db, openssl,\nwhatever).\n\nIt would be nice if the search order for Apache was\n\napache-source-directories\napr-include-directories\napr-util-include-directories\n\n(order not important for these first three)\n\nfollowed by any directories needed for libraries used by apache or apr or apr-util.\n\nThat would get rid of this problem.\n"}, {"count": 6, "tags": [], "bug_id": 18959, "attachment_id": null, "id": 51177, "time": "2004-01-26T09:24:41Z", "creator": "jorton@redhat.com", "creation_time": "2004-01-26T09:24:41Z", "is_private": false, "text": "*** Bug 23485 has been marked as a duplicate of this bug. ***"}, {"count": 7, "attachment_id": null, "bug_id": 18959, "is_private": false, "id": 60872, "time": "2004-07-20T14:25:50Z", "creator": "gobin@gobinjf.be", "creation_time": "2004-07-20T14:25:50Z", "tags": [], "text": "*** Bug 30208 has been marked as a duplicate of this bug. ***"}, {"count": 8, "tags": [], "text": "Fixed in HEAD by ensuring that the \"apache-source-directories\" come first in\nINCLUDES, which should be sufficient to fix most of these cases.", "attachment_id": null, "id": 61947, "creator": "jorton@redhat.com", "time": "2004-08-13T12:39:13Z", "bug_id": 18959, "creation_time": "2004-08-13T12:39:13Z", "is_private": false}, {"count": 9, "tags": [], "text": "*** Bug 42357 has been marked as a duplicate of this bug. ***", "is_private": false, "id": 102957, "creator": "jorton@redhat.com", "time": "2007-05-08T13:35:45Z", "bug_id": 18959, "creation_time": "2007-05-08T13:35:45Z", "attachment_id": null}]