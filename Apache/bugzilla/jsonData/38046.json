[{"count": 0, "attachment_id": null, "creator": "thaiha@psv.com.vn", "is_private": false, "id": 83995, "time": "2005-12-27T03:17:46Z", "bug_id": 38046, "creation_time": "2005-12-27T03:17:46Z", "tags": [], "text": "After unzipping apache-tomcat-5.5.14-deployer and put a valid web app in \nD:\\programs\\apache-tomcat-5.5.14-deployer\\myapp folder, I tried to run the Ant \nand here is the result:\n\n---------------------------------\nMicrosoft Windows XP [Version 5.1.2600]\n(C) Copyright 1985-2001 Microsoft Corp.\n\nD:\\programs\\apache-tomcat-5.5.14-deployer>ant\nBuildfile: build.xml\n\nclean:\n   [delete] Deleting directory D:\\programs\\apache-tomcat-5.5.14-deployer\\build\n\ncompile:\n     [copy] Copying 105 files to D:\\programs\\apache-tomcat-5.5.14-deployer\\build\n\\webapp\\myapp\n  [jasper2] java.lang.IllegalStateException: No Java compiler available\n  [jasper2]     at org.apache.jasper.JspCompilationContext.createCompiler(JspCom\npilationContext.java:224)\n  [jasper2]     at org.apache.jasper.JspC.processFile(JspC.java:979)\n  [jasper2]     at org.apache.jasper.JspC.execute(JspC.java:1135)\n  [jasper2]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  [jasper2]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAcces\nsorImpl.java:39)\n  [jasper2]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMet\nhodAccessorImpl.java:25)\n  [jasper2]     at java.lang.reflect.Method.invoke(Method.java:324)\n  [jasper2]     at org.apache.tools.ant.TaskAdapter.execute(TaskAdapter.java:123\n)\n  [jasper2]     at org.apache.tools.ant.UnknownElement.execute(UnknownElement.ja\nva:275)\n  [jasper2]     at org.apache.tools.ant.Task.perform(Task.java:364)\n  [jasper2]     at org.apache.tools.ant.Target.execute(Target.java:341)\n  [jasper2]     at org.apache.tools.ant.Target.performTasks(Target.java:369)\n  [jasper2]     at org.apache.tools.ant.Project.executeSortedTargets(Project.jav\na:1216)\n  [jasper2]     at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n\n  [jasper2]     at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(De\nfaultExecutor.java:40)\n  [jasper2]     at org.apache.tools.ant.Project.executeTargets(Project.java:1068\n)\n  [jasper2]     at org.apache.tools.ant.Main.runBuild(Main.java:668)\n  [jasper2]     at org.apache.tools.ant.Main.startAnt(Main.java:187)\n  [jasper2]     at org.apache.tools.ant.launch.Launcher.run(Launcher.java:246)\n  [jasper2]     at org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)\n\nBUILD FAILED\nD:\\programs\\apache-tomcat-5.5.14-deployer\\build.xml:45: org.apache.jasper.Jasper\nException: No Java compiler available\n\nTotal time: 8 seconds\nD:\\programs\\apache-tomcat-5.5.14-deployer>set JAVA_HOME\nJAVA_HOME=D:\\programs\\j2sdk1.4.2_09\n\nD:\\programs\\apache-tomcat-5.5.14-deployer>set PATH\nPath=D:\\Perl\\bin\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;D:\\pro\ngrams\\j2sdk1.4.2_09\\bin;D:\\programs\\apache-ant-1.6.5\\bin;D:\\cygwin\\bin;D:\\Sun\\ja\nvke1.4.1\\appserver\\bin;D:\\projects\\svntool\\bin;D:\\programs\\maven-2.0\\bin\nPATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH\n\nD:\\programs\\apache-tomcat-5.5.14-deployer>\n----------------------------\n\nWhen I add config files for common-logging by updating build.xml\n-------------\n  <path id=\"deployer.classpath\">\n    <fileset dir=\"${basedir}/lib\">\n      <include name=\"*.jar\"/>\n    </fileset>\n    <pathelement location=\"classes\"/>\n  </path>\nand adding 2 new files (commons-logging.properties, simplelog.properties) at \nD:\\programs\\apache-tomcat-5.5.14-deployer\\classes\\ as below:\n\n-----commons-logging.properties------\norg.apache.commons.logging.LogFactory=org.apache.commons.logging.impl.LogFactory\nImpl\norg.apache.commons.logging.Log=org.apache.commons.logging.impl.SimpleLog\n-------------------------------------\n \n----simplelog.properties------------\norg.apache.commons.logging.simplelog.defaultlog=info\n------------------------------------\n\nthen I can compile my web app successfully.\n------------------------------------\nD:\\programs\\apache-tomcat-5.5.x-deployer>ant\nBuildfile: build.xml\n\nclean:\n   [delete] Deleting directory D:\\programs\\apache-tomcat-5.5.x-deployer\\build\n\ncompile:\n     [copy] Copying 105 files to D:\\programs\\apache-tomcat-5.5.x-deployer\\build\\\nwebapp\\myapp\n[validator] web.xml validated\n    [javac] Compiling 19 source files to D:\\programs\\apache-tomcat-5.5.x-deploye\nr\\build\\webapp\\myapp\\WEB-INF\\classes\n    [javac] Note: Some input files use or override a deprecated API.\n    [javac] Note: Recompile with -deprecation for details.\n      [jar] Building jar: D:\\programs\\apache-tomcat-5.5.x-deployer\\build\\webapp\\\nmyapp.war\n\nBUILD SUCCESSFUL\nTotal time: 12 seconds\nD:\\programs\\apache-tomcat-5.5.x-deployer>\n-------------------------------------"}, {"count": 1, "attachment_id": null, "creator": "yoavs@computer.org", "is_private": false, "id": 97228, "time": "2006-12-24T09:43:59Z", "bug_id": 38046, "creation_time": "2006-12-24T09:43:59Z", "tags": [], "text": "Is this still an issue with Tomcat 5.5.20?"}, {"count": 2, "tags": [], "bug_id": 38046, "attachment_id": null, "is_private": false, "id": 97306, "time": "2006-12-25T18:46:38Z", "creator": "thaiha@psv.com.vn", "creation_time": "2006-12-25T18:46:38Z", "text": "(In reply to comment #1)\n> Is this still an issue with Tomcat 5.5.20?\n\nYes, I have just tested the bug again with apache-tomcat-5.5.20-deployer, \napache-ant-1.6.5, jdk1.5.0_07, WinXP and I see the same problem. If the config \nfiles for common-logging exist, the exception doesn't happen."}, {"count": 3, "tags": [], "bug_id": 38046, "attachment_id": null, "text": "Updating version to 5.5.20.", "id": 100874, "time": "2007-03-25T08:10:49Z", "creator": "yoavs@computer.org", "creation_time": "2007-03-25T08:10:49Z", "is_private": false}, {"count": 4, "tags": [], "text": "This works for me with a simple hello world JSP and the latest 5.5.x source.\n\nIf you still see this problem please feel free to re-open this issue. If re-opening, it would help a lot if you provided the simplest possible webapp that exhibited this error.", "attachment_id": null, "bug_id": 38046, "id": 124645, "time": "2009-02-03T23:08:08Z", "creator": "markt@apache.org", "creation_time": "2009-02-03T23:08:08Z", "is_private": false}]