[{"count": 0, "tags": [], "creator": "phil.pickett@springsource.com", "attachment_id": null, "id": 130262, "creation_time": "2009-09-09T14:43:33Z", "time": "2009-09-09T14:43:33Z", "bug_id": 47812, "text": "There are places in the code that don't have access to a request_rec, however there seem to be a lot of places where developers go out of their way to _not_ pass a request_rec to ap_log_rerror but instead use ap_log_error (according to a very quick grep of the source code), there are >250 counts of things like this happening:\n\nfrom mod_proxy_util.c, line 2102:\n-----------------------------------------\nap_log_error(APLOG_MARK, APLOG_DEBUG, 0, r->server,\n\"proxy: connecting %s to %s:%d\", *url, uri->hostname,\nuri->port);\n-----------------------------------------\n... where a server is passed to ap_log_error() *from a valid request_rec* for no apparent reason. It seems to me the vast majority of error log messages that would be useful to be able to tally with the source request come from ap_log_error calls like this.\n\nAccording to the documentation for ap_log_error() in http_log.h:\n\n\"If a request_rec is available, use that with ap_log_rerror() in preference to calling this function. Otherwise, if a conn_rec is available, use that with ap_log_cerror() in preference to calling this function\"", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 47812, "text": "This isn't really a bug.  But if you'd like to submit a patch, it might get applied as a minor cleanup.", "count": 1, "id": 130268, "time": "2009-09-09T16:38:17Z", "creator": "nick@webthing.com", "creation_time": "2009-09-09T16:38:17Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 47812, "attachment_id": null, "is_private": false, "id": 147177, "time": "2011-06-15T22:58:28Z", "creator": "sf@sfritsch.de", "creation_time": "2011-06-15T22:58:28Z", "text": "We have fixed a lot of these in trunk. If you find more, submit them to bugzilla."}, {"attachment_id": null, "tags": [], "bug_id": 47812, "is_private": false, "count": 3, "id": 154220, "time": "2012-02-26T16:59:01Z", "creator": "sf@sfritsch.de", "creation_time": "2012-02-26T16:59:01Z", "text": "2.4.1 is released, closing\nIf you find any more of these in 2.4.x, please open a new report."}]