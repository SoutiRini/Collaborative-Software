[{"count": 0, "tags": [], "creator": "samuli.saarinen@remion.com", "attachment_id": null, "is_private": false, "id": 117519, "time": "2008-06-09T23:20:27Z", "bug_id": 45174, "creation_time": "2008-06-09T23:20:27Z", "text": "Add support to TCPSampler for sending content from a specified file."}, {"text": "The TCP Sampler is intended to be extended by the user.\n\nI doubt very much that this enhancement will be implemented in the near future unless someone supplies patches for the code, test cases and documentation.", "tags": [], "bug_id": 45174, "is_private": false, "count": 1, "id": 117523, "time": "2008-06-10T03:22:57Z", "creator": "sebb@apache.org", "creation_time": "2008-06-10T03:22:57Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "I extended JMeter TCPClient to implement \"read from file\" feature in test plan. \n\nThe extension works as follows for end users:\n\nIn the TCP Sampler UI, in the field \"Text to send\" a variable like notation is allowed. This notation looks like $FILE{path}. For example, in my test plan I am using $FILE{C:\\work\\projects\\JMeter\\test_binary_file_send.msg}. In the field text and $FILE{path} can be mixed. All $FILE{path} is substituted with file content and sent to system under test (SUT).\n\nFrom java coding standpoint, the extension is developed as follows:\n\n1. Implement org.apache.jmeter.protocol.tcp.sampler.TCPClient with your own class\n\nhttp://svn.apache.org/repos/asf/jakarta/jmeter/trunk/src/protocol/tcp/org/apache/jmeter/protocol/tcp/sampler/TCPClient.java\n\nas shown below:\n\npackage com.acme.jmeter.protocol.tcp.sampler;\n\nimport java.io.*;\nimport java.net.*;\nimport java.util.*;\nimport org.apache.log.Logger;\nimport org.apache.jorphan.logging.LoggingManager;\nimport org.apache.jmeter.util.JMeterUtils;\nimport org.apache.jmeter.protocol.tcp.sampler.TCPClient;\n\npublic class TCPClientImplWithFileReader implements TCPClient \n{\n...\n...\n}\n\n2. Override the following method:\n\n /**\n     *\n     * @param os -\n     *            OutputStream for socket\n     * @param is -\n     *            InputStream to be written to Socket\n     */\n    void write(OutputStream os, InputStream is);\n\n    /**\n     *\n     * @param os -\n     *            OutputStream for socket\n     * @param s -\n     *            String to write\n     */\n    void write(OutputStream os, String s);\n\nWhat you need to do is parse the content in 2nd parameter to look for $FILE{path} pattern and substitute with file content. Then write the whole thing to OutputStream.", "is_private": false, "id": 132183, "creator": "soumen.sarkar@nokia.com", "time": "2009-11-20T13:36:49Z", "bug_id": 45174, "creation_time": "2009-11-20T13:36:49Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 45174, "attachment_id": null, "text": "(In reply to comment #1)\n> The TCP Sampler is intended to be extended by the user.\n> I doubt very much that this enhancement will be implemented in the near future\n> unless someone supplies patches for the code, test cases and documentation.\n\nI can supply patches for the code, test cases and documentation ... but I need some training first in regards to how to contribute to Apache JMeter correctly. I will look for developer tutorial later. I also need to explain my design first to you so that it is deemed to be acceptable. Let me know ...", "id": 132186, "time": "2009-11-20T13:53:10Z", "creator": "soumen.sarkar@nokia.com", "creation_time": "2009-11-20T13:53:10Z", "is_private": false}, {"count": 4, "tags": [], "text": "Another way to solve this problem is to supply a built in function for reading file, like shown below:\n\n${__ReadFile(path, mode)}\n\nwhere mode is ASCII or BINARY.", "attachment_id": null, "bug_id": 45174, "id": 132194, "time": "2009-11-21T13:38:09Z", "creator": "soumen.sarkar@nokia.com", "creation_time": "2009-11-21T13:38:09Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 45174, "attachment_id": null, "text": "Please also see bug 47565\n\n[Function] FileToString \nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=47565\n\nThe function FileToString is not documented. Wondering whether this function i for ASCII or BINARY file support ...", "id": 132256, "time": "2009-11-23T12:03:50Z", "creator": "soumen.sarkar@nokia.com", "creation_time": "2009-11-23T12:03:50Z", "is_private": false}, {"count": 6, "tags": [], "text": "Closing according to sebb first response on which I agree.", "attachment_id": null, "bug_id": 45174, "id": 159410, "time": "2012-05-28T20:31:34Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-05-28T20:31:34Z", "is_private": false}]