[{"count": 0, "tags": [], "creator": "rami.hanninen@davisor.com", "attachment_id": null, "text": "Tomcat Server Side Include servlet seem to drop content-type information from\nthe responses it gives. In other words, calls to URLConnection.getContentType()\nseem to return 'null' for SSI expanded documents. If SSI is deactivated, the\nsame operation works fine.\n\nI tested the problem with the following simple program. The program outputs the\ncontent type and content of a document downloaded from given URL address. For\nSSI expanded files HTML files, the content type was always 'null', for others,\n'text/html'. The content itself downloaded always fine.\n\npackage tmp;\n\nimport java.net.*;\nimport java.io.*;\n\npublic class URLReader\n{\n    public static void main(String[] args) throws Exception {\n        URL url= new URL(args[0]);\n        URLConnection yc = url.openConnection();\n        System.out.println(\"ContentType: \" + yc.getContentType());\n        BufferedReader in = new BufferedReader(\n                                new InputStreamReader(\n                                yc.getInputStream()));\n        String inputLine;\n\n        while ((inputLine = in.readLine()) != null)\n            System.out.println(inputLine);\n        in.close();\n    }\n}", "id": 6815, "time": "2001-10-18T00:31:18Z", "bug_id": 4259, "creation_time": "2001-10-18T00:31:18Z", "is_private": false}]