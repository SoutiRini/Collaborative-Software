[{"count": 0, "tags": [], "bug_id": 46492, "attachment_id": null, "id": 123860, "time": "2009-01-08T04:38:07Z", "creator": "wollis@post.cz", "creation_time": "2009-01-08T04:38:07Z", "is_private": false, "text": "ErrorDocument doesn't take effect when mod_rewrite proxy forwarding to other server is used. Following settings of httpd.conf:\n\n....\n<IfModule mod_rewrite.c>\n  RewriteLog logs/rewrite_log\n  RewriteLogLevel 9\n  RewriteEngine on\n\n\n  RewriteRule /testErr/(.*)$ http://otherServer:7777/testErr/$1 [L,P,NC]\n\n<Location /testErr >\nErrorDocument 400 myErr\nErrorDocument 401 myErr\nErrorDocument 402 myErr\nErrorDocument 403 myErr\nErrorDocument 404 myErr\nErrorDocument 406 myErr\nErrorDocument 407 myErr\nErrorDocument 506 myErr\n</Location>\n\n</IfModule>\n....\n\nWhen client requests http://apacheServer/testErr/errorservlet?err=404, apache forwards this request to otherServer and application deployed on http://otherServer:7777/testErr/ returns HTTP response with status code error 404, than original error response is returned to the client. Not error page defined in  \"ErrorDocument 404 myErr\".\n\naccess.log:\n127.0.0.1 - - [08/Jan/2009:13:14:35 +0100] \"GET /testErr/errorservlet?err=404 HTTP/1.1\" 404 327\n\nrewrite_log:\n127.0.0.1 - - [08/Jan/2009:13:14:35 +0100] [localhost/sid#935150][rid#9d3898/initial] (2) init rewrite engine with requested uri /testErr/errorservlet\n127.0.0.1 - - [08/Jan/2009:13:14:35 +0100] [localhost/sid#935150][rid#9d3898/initial] (3) applying pattern '/testErr/(.*)$' to uri '/testErr/errorservlet'\n127.0.0.1 - - [08/Jan/2009:13:14:35 +0100] [localhost/sid#935150][rid#9d3898/initial] (2) rewrite '/testErr/errorservlet' -> 'http://otherServer:7777/testErr/errorservlet'\n127.0.0.1 - - [08/Jan/2009:13:14:35 +0100] [localhost/sid#935150][rid#9d3898/initial] (2) forcing proxy-throughput with http://sucz0007:7777/testErr/errorservlet\n127.0.0.1 - - [08/Jan/2009:13:14:35 +0100] [localhost/sid#935150][rid#9d3898/initial] (1) go-ahead with proxy request proxy:http://otherServer:7777/testErr/errorservlet [OK]\n\nAlso reproducable on 2.0.63 on WinXP."}, {"count": 1, "tags": [], "bug_id": 46492, "attachment_id": null, "id": 123863, "time": "2009-01-08T05:19:17Z", "creator": "wollis@post.cz", "creation_time": "2009-01-08T05:19:17Z", "is_private": false, "text": "Sorry, my fault. Directive  ProxyErrorOverride On was requiered."}]