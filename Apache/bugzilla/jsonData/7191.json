[{"count": 0, "attachment_id": null, "bug_id": 7191, "text": "Tomcat 4 cannot handle JSP pages with utf-8 contentType header like this:\n<%@ page contentType=\"text/html; charset=utf-8\" language=\"java\" %>\n\nWhen such pages are encountered, the server throws an exception with message \nthat I dont' quite understand:\n==========================================================\norg.apache.jasper.compiler.ParseException: Cannot read file: ze file\n\tat org.apache.jasper.compiler.JspReader.pushFile2(JspReader.java:275)\n\tat org.apache.jasper.compiler.JspReader.(JspReader.java:316)\n\tat org.apache.jasper.compiler.Parser.(Parser.java:137)\n\tat org.apache.jasper.compiler.ParserController.parse\n(ParserController.java:213)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:210)\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:552)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:177)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:189)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:382)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:474)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke\n(ApplicationDispatcher.java:683)\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward\n(ApplicationDispatcher.java:431)\n\tat org.apache.catalina.core.ApplicationDispatcher.forward\n(ApplicationDispatcher.java:355)\n\tat org.apache.struts.action.ActionServlet.processActionForward\n(ActionServlet.java:1759)\n\tat org.apache.struts.action.ActionServlet.process\n(ActionServlet.java:1596)\n\tat org.apache.struts.action.ActionServlet.doGet\n(ActionServlet.java:492)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n==========================================================\n\nThe detail root cause stack trace from the log file is the following:\n\n==========================================================\n2002-03-18 14:30:32 JspReader: Exception parsing file \nsun.io.MalformedInputException\n\tat sun.io.ByteToCharUTF8.convert(ByteToCharUTF8.java:152)\n\tat java.io.InputStreamReader.convertInto(InputStreamReader.java:137)\n\tat java.io.InputStreamReader.fill(InputStreamReader.java:166)\n\tat java.io.InputStreamReader.read(InputStreamReader.java:249)\n\tat java.io.Reader.read(Reader.java:102)\n\tat org.apache.jasper.compiler.JspReader.pushFile2(JspReader.java:261)\n\tat org.apache.jasper.compiler.JspReader.<init>(JspReader.java:316)\n\tat org.apache.jasper.compiler.Parser.<init>(Parser.java:137)\n\tat org.apache.jasper.compiler.ParserController.parse\n(ParserController.java:213)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:210)\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:552)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:177)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:189)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:382)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:474)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke\n(ApplicationDispatcher.java:683)\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward\n(ApplicationDispatcher.java:431)\n\tat org.apache.catalina.core.ApplicationDispatcher.forward\n(ApplicationDispatcher.java:355)\n\tat org.apache.struts.action.ActionServlet.processActionForward\n(ActionServlet.java:1759)\n\tat org.apache.struts.action.ActionServlet.process\n(ActionServlet.java:1596)\n\tat org.apache.struts.action.ActionServlet.doGet\n(ActionServlet.java:492)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n==========================================================\n\nThis makes me unable to continue my work as I have to display characters in \nmultiple languages on a single page.", "id": 11914, "time": "2002-03-18T06:27:03Z", "creator": "chung_po_loi@hotmail.com", "creation_time": "2002-03-18T06:27:03Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 7191, "attachment_id": null, "is_private": false, "id": 11952, "time": "2002-03-18T18:09:44Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2002-03-18T18:09:44Z", "text": "Reclassifying to the correct component (Jasper).\n"}, {"count": 2, "attachment_id": null, "bug_id": 7191, "is_private": false, "id": 12242, "time": "2002-03-24T18:53:35Z", "creator": "gummi@dimonsoftware.com", "creation_time": "2002-03-24T18:53:35Z", "tags": [], "text": "Having the file attached would help. The page (i.e. the file containing the \nJSP page) needs to written using the same charset as specified in the \ncontentType attribute (according to p. 52 in JavaServer Pages Specification, \nversion 1.2). Is that the case here?"}, {"count": 3, "tags": [], "bug_id": 7191, "attachment_id": null, "text": "I think the JSP file I am viewing conforms with utf-8 encoding, because I \nhaven't input any non-ascii characters yet. I just have a testing page like \nthis and the problem still exists:\n\n<%@ page contentType=\"text/html; charset=utf-8\" language=\"java\" %>\n<html>\n<body>\nTesting.\n</body>\n</html>", "id": 12257, "time": "2002-03-25T01:48:53Z", "creator": "chung_po_loi@hotmail.com", "creation_time": "2002-03-25T01:48:53Z", "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 7191, "text": "The comment of Gudmundur Hafsteinsson is right, and this is not really a bug. I \nwas just confused by the exception message: Cannot read file: ze file. ", "id": 12285, "time": "2002-03-25T10:55:14Z", "creator": "chung_po_loi@hotmail.com", "creation_time": "2002-03-25T10:55:14Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 7191, "text": "It is not true. Since I am using the same in the same environment.\n\nTry to use UTF without hiphen. \n\n\nuse either  \nthe attribute in <jsp:page contentType = \"text/html;charset=UTF8\"  %>\n\n\n\nor \n\nresponse.setContentType(\"text/html;charset=UTF8\");\n\nIt'll work.\n\nregards,\nJeyasekar M", "id": 12292, "time": "2002-03-25T13:00:00Z", "creator": "jeyasekar_m@yahoo.com", "creation_time": "2002-03-25T13:00:00Z", "is_private": false, "attachment_id": null}]