[{"count": 0, "tags": [], "creator": "pporvatov@gmail.com", "is_private": false, "text": "After upgrading from 8.0.22 my server started to throw the following exception:\n\n17.07.2016 15:36:55 [ERROR]: sessionId 15. java.io.EOFException\n    org.apache.coyote.http11.upgrade.NioServletInputStream.doRead(NioServletInputStream.java:97)\n    org.apache.coyote.http11.upgrade.AbstractServletInputStream.read(AbstractServletInputStream.java:124)\n    org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:60)\n    org.apache.tomcat.websocket.server.WsHttpUpgradeHandler$WsReadListener.onDataAvailable(WsHttpUpgradeHandler.java:185)\n    org.apache.coyote.http11.upgrade.AbstractServletInputStream.onDataAvailable(AbstractServletInputStream.java:198)\n    org.apache.coyote.http11.upgrade.AbstractProcessor.upgradeDispatch(AbstractProcessor.java:96)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:647)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:745)\n\nThere are many such exceptions in my log file. 8.0.22 worked well", "id": 192457, "time": "2016-07-17T16:08:12Z", "bug_id": 59876, "creation_time": "2016-07-17T16:08:12Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 192477, "time": "2016-07-18T08:24:20Z", "bug_id": 59876, "creation_time": "2016-07-18T08:24:20Z", "is_private": false, "text": "You should probably investigate on the user list, and provide a simple test case."}, {"count": 2, "attachment_id": null, "bug_id": 59876, "is_private": false, "id": 194174, "time": "2016-10-06T08:29:45Z", "creator": "remi.lebastard@flexcom.lu", "creation_time": "2016-10-06T08:29:45Z", "tags": [], "text": "I have the same problem with the stack trace : \nERROR org.atmosphere.container.JSR356Endpoint -java.io.EOFException\n        at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1222) ~[tomcat-coyote.jar:8.5.3]\n        at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.isReadyForRead(NioEndpoint.java:1128) ~[tomcat-coyote.jar:8.5.3]\n        at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:58) ~[tomcat-websocket.jar:8.5.3]\n        at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148) [tomcat-websocket.jar:8.5.3]\n        at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54) [tomcat-coyote.jar:8.5.3]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:53) [tomcat-coyote.jar:8.5.3]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:785) [tomcat-coyote.jar:8.5.3]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1425) [tomcat-coyote.jar:8.5.3]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-coyote.jar:8.5.3]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_91]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_91]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:8.5.3]\n        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_91]\n\nThe class have changed due to tomcat development (I'm on a 8.5.3 version) but I think it's the same bug.\nThe issue seems to appear only on linux environment.\nI will investigate and put a test case as soon as I have a moment for that because it's tricky to reproduce!"}, {"count": 3, "tags": [], "text": "Ok, but this needs to be a bug. IO exceptions will happen once in a while, this is normal. You don't see them with the regular request processing however as they are detected and filtered out, but in upgrade mode this is not there (at least for now), that's the main difference.", "attachment_id": null, "id": 194177, "creator": "remm@apache.org", "time": "2016-10-06T08:55:51Z", "bug_id": 59876, "creation_time": "2016-10-06T08:55:51Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 59876, "attachment_id": null, "id": 194767, "time": "2016-11-02T09:30:01Z", "creator": "markt@apache.org", "creation_time": "2016-11-02T09:30:01Z", "is_private": false, "text": "As per Remy's comment. I/O exceptions are normal and there is nothing here to indicate a bug. The users list is the place to follow this up.\n\nThis can always be re-opened if information becomes available that points to a bug."}]