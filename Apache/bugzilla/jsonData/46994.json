[{"count": 0, "tags": [], "text": "If batik binaries are stored of a windows network share (or samba..), and the '-jar' parameter gave to java.exe is a UNC format, and not a mapped drive, batik crashes.\n\nWhat I tried is to create a network share on my own local hard drive, and tried the following, from jre bin directory :\n\njava.exe -jar \\\\lwpbk\\batik-1.7\\batik-rasterizer.jar\n\nWhen I do this, I get the message you can see below. \nI have all the R/W rights on the share, which is on my local machine. \n\n-If now I replace the UNC path by a local path (c:\\... \\batik\\batik-rasterizer.jar), it works fine. \n-If I map the network share, and use the drive letter in the parameter it works also fine.\nIf I give as parameter a UNC path to specify source svg (but letter drive for jar file), no problem, it handles properly.\nI tried to compile the last \"nightly build\" (batik-src-09-03-19.zip), but doesn't change anything.\n\n\nC:\\Program Files\\Java\\jre6\\bin>java.exe -jar \\\\lwpbk\\batik-1.7\\batik-rasterizer.\njar\nException in thread \"main\" java.security.AccessControlException: access denied (\njava.util.PropertyPermission java.security.policy write)\n        at java.security.AccessControlContext.checkPermission(Unknown Source)\n        at java.security.AccessController.checkPermission(Unknown Source)\n        at java.lang.SecurityManager.checkPermission(Unknown Source)\n        at java.lang.System.setProperty(Unknown Source)\n        at org.apache.batik.util.ApplicationSecurityEnforcer.installSecurityMana\nger(ApplicationSecurityEnforcer.java:257)\n        at org.apache.batik.util.ApplicationSecurityEnforcer.enforceSecurity(App\nlicationSecurityEnforcer.java:173)\n        at org.apache.batik.apps.rasterizer.Main.execute(Main.java:922)\n        at org.apache.batik.apps.rasterizer.Main.main(Main.java:992)\n\n\nOn version 1.7, I modified \n\\batik-1.7\\sources\\org\\apache\\batik\\apps\\rasterizer\\SVGConverter.java\nline 257, and set the variable securityOff to true.\nIt seems to fix my problem.\n    /** Controls whether scripts should be run securely or not */\n    protected boolean securityOff = true;\n\nOf course it does the trick for me, but not satisfactory for your project. I don't have enough skills with Java to help you on this.", "attachment_id": null, "id": 126082, "creator": "pieuvrebdx-batik@yahoo.fr", "time": "2009-04-08T04:51:12Z", "bug_id": 46994, "creation_time": "2009-04-08T04:51:12Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 46994, "attachment_id": null, "is_private": false, "id": 126199, "time": "2009-04-13T08:11:53Z", "creator": "helder.magalhaes@gmail.com", "creation_time": "2009-04-13T08:11:53Z", "text": "First, note that I haven't attempted to reproduce the unexpected behavior.\n\nPlease consider searching/asking at the mailing list(s) [1] -- batik-users seems appropriate for this particular subject -- before assuming a particular erroneous behavior is a bug... ;-)\n\nAlso, have you:\n * Seen what bug 45218 stands for? Seems pretty related with this.\n * Tried using -scriptSecurityOff [2]?\n * Tried using a proper file URI? Bug 46825, in special comment 9 [3], can provide some information. :-)\n\nIf any of the above applies, please mark this invalid/duplicate accordingly or, if you are unsure, please follow up with your results.\n\nHope this helps,\n Helder\n\n[1] http://xmlgraphics.apache.org/batik/mailing-lists.html\n[2] http://xmlgraphics.apache.org/batik/tools/rasterizer.html#using-binary\n[3] https://issues.apache.org/bugzilla/show_bug.cgi?id=46825#c9"}, {"count": 2, "tags": [], "creator": "pieuvrebdx-batik@yahoo.fr", "is_private": false, "text": "\n* bug 45218 : I don't really know, doesn't sound yes but I'm not java expert, maybe yes.\n* -scriptSecurityOff work fine! I didn't notice this option, should do the same than the modification I did in the code, except I won't need recompile in the future.\n* I think my URI format is fine as it's accepted for java.exe and for svg source, it's only on -jar parameter where it bugs.\nand this format gives that\nC:\\Program Files\\Java\\jre6\\bin>java.exe -jar file://lwpbk/batik-1.8pre/batik-ras\nterizer.jar\nUnable to access jarfile file://lwpbk/batik-1.8pre/batik-rasterizer.jar", "id": 126571, "time": "2009-04-27T15:25:15Z", "bug_id": 46994, "creation_time": "2009-04-27T15:25:15Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "helder.magalhaes@gmail.com", "attachment_id": null, "text": "(In reply to comment #2)\n> * I think my URI format is fine as it's accepted for java.exe and for svg\n> source, it's only on -jar parameter where it bugs.\n> and this format gives that\n> C:\\Program Files\\Java\\jre6\\bin>java.exe -jar\n> file://lwpbk/batik-1.8pre/batik-ras\n> terizer.jar\n> Unable to access jarfile file://lwpbk/batik-1.8pre/batik-rasterizer.jar\n\nI'd say this makes the issue invalid: the \"-jar\" parameter handling is part of \"java.exe\" and completely unrelated to Batik.\n\nThe fact that it's incoherent with other ways of specifying other UNC format is probably a Java issue, and therefore I'd suggest checking if it's a known issue or report it in the proper place [1].\n\nI'm tempted to close the issue as fixed (invalid), though I'm not sure if Batik uses some kind of internal security verification which complements the JVM one: my Java skills and Batik knowledge regarding this are pretty low, so feedback would be welcome. ;-)\n\n[1] http://bugreport.sun.com/bugreport/", "id": 127520, "time": "2009-05-31T02:49:04Z", "bug_id": 46994, "creation_time": "2009-05-31T02:49:04Z", "is_private": false}]