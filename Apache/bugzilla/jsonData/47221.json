[{"count": 0, "tags": [], "text": "Created attachment 23694\ncss file before chanegs (that did not work)\n\nHi,\n\nThe attached CSS file is not getting parsed properly by the batick CSS parser. But, if I remove the following selector(with properties) from CSS I am able to parse it.\n\nbody {\nbackground:#ffffff;\nmargin:0;\ncolor:#333333;\nfont:x-small Georgia Serif;\nfont-size/* */:/**/small;\nfont-size: /**/small;\ntext-align: center;\n}\n\n\nI tried printing names in property function but with the above selector I managed to print only background.\n\nI am getting the following error message only when I try inputting the CSS text \nps.parseStyleSheet(new\torg.w3c.css.sac.InputSource(new StringReader(src)));.\n\n [ java.lang.IllegalStateException ] nullnulljava.lang.IllegalStateException\n\tat org.apache.batik.css.parser.CSSLexicalUnit.getStringValue(CSSLexicalUnit.java:175)\n\tat CSSParser.property(CSSParser.java:82)\n\tat org.apache.batik.css.parser.Parser.parseStyleDeclaration(Parser.java:885)\n\tat org.apache.batik.css.parser.Parser.parseRuleSet(Parser.java:604)\n\tat org.apache.batik.css.parser.Parser.parseStyleSheet(Parser.java:233)\n\tat CSSParser.parseStyleSheet(CSSParser.java:48)\n\tat <filename>.run(<filename>.java:322)\n\tat java.lang.Thread.run(Thread.java:619)\n\n\nPlease fix it and let me know.\nthanks", "attachment_id": 23694, "id": 127183, "creator": "shahryar.ghazi@gmail.com", "time": "2009-05-19T11:03:36Z", "bug_id": 47221, "creation_time": "2009-05-19T11:03:36Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 47221, "is_private": false, "text": "(In reply to comment #0)\n> The attached CSS file is not getting parsed properly by the batick CSS parser.\n> But, if I remove the following selector(with properties) from CSS I am able to\n> parse it.\n> \n> body {\n> background:#ffffff;\n> margin:0;\n> color:#333333;\n> font:x-small Georgia Serif;\n> font-size/* */:/**/small;\n> font-size: /**/small;\n> text-align: center;\n> }\n\nThis might be related to bug 45663, a known issue in comment parsing: those comments in both \"font-size\" declarations hint towards that.\n\nAlso, another possibility is the shorthand \"font\" declaration [1], which may be confusing the parser: the textual font-size (\"x-small\") or the font family (\"Georgia Serif\").\n\nDecreased importance from \"blocker\" (which didn't make much sense) to \"minor\" as there seems to be an easy workaround [2] (removing the comments or changing the shorthand font declaration to a few declarations and/or enclosing font family with quotes). Could you confirm this?\n\nAlso, note that the report's URL should be a \"URL associated with the bug, if any\" [3], usually pointing to some relevant mailing list discussion or Web page displaying the issue. The current URL doesn't seem to make much sense in this scope, apart from feeling like some kind of publicity. Please confirm this (and remove the URL) or enter some detail about the relationship with the issue...\n\n[1] http://www.w3.org/TR/SVG11/text.html#FontProperty\n[2] https://issues.apache.org/bugzilla/page.cgi?id=fields.html#importance\n[3] http://www.bugzilla.org/docs/tip/en/html/bug_page.html", "id": 127194, "time": "2009-05-19T16:44:55Z", "creator": "helder.magalhaes@gmail.com", "creation_time": "2009-05-19T16:44:55Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "shahryar.ghazi@gmail.com", "attachment_id": null, "id": 127211, "time": "2009-05-20T05:55:06Z", "bug_id": 47221, "creation_time": "2009-05-20T05:55:06Z", "is_private": false, "text": "(In reply to comment #1)\nI have changed the URL to the one on the blog (with style tag). Also, I tried changing the CSS as per your suggestion but unless I remove the body selector completely or shorten it down to the following batik cannot parse it.\n\nbody {\n}\n\nAlso, I cannot change the code myself because my program needs to check CSS files (on other websites) for certain keywords. So, this should be a blocker.\n\n\n> (In reply to comment #0)\n> > The attached CSS file is not getting parsed properly by the batick CSS parser.\n> > But, if I remove the following selector(with properties) from CSS I am able to\n> > parse it.\n> > \n> > body {\n> > background:#ffffff;\n> > margin:0;\n> > color:#333333;\n> > font:x-small Georgia Serif;\n> > font-size/* */:/**/small;\n> > font-size: /**/small;\n> > text-align: center;\n> > }\n> \n> This might be related to bug 45663, a known issue in comment parsing: those\n> comments in both \"font-size\" declarations hint towards that.\n> \n> Also, another possibility is the shorthand \"font\" declaration [1], which may be\n> confusing the parser: the textual font-size (\"x-small\") or the font family\n> (\"Georgia Serif\").\n> \n> Decreased importance from \"blocker\" (which didn't make much sense) to \"minor\"\n> as there seems to be an easy workaround [2] (removing the comments or changing\n> the shorthand font declaration to a few declarations and/or enclosing font\n> family with quotes). Could you confirm this?\n> \n> Also, note that the report's URL should be a \"URL associated with the bug, if\n> any\" [3], usually pointing to some relevant mailing list discussion or Web page\n> displaying the issue. The current URL doesn't seem to make much sense in this\n> scope, apart from feeling like some kind of publicity. Please confirm this (and\n> remove the URL) or enter some detail about the relationship with the issue...\n> \n> [1] http://www.w3.org/TR/SVG11/text.html#FontProperty\n> [2] https://issues.apache.org/bugzilla/page.cgi?id=fields.html#importance\n> [3] http://www.bugzilla.org/docs/tip/en/html/bug_page.html"}, {"count": 3, "tags": [], "bug_id": 47221, "text": "(In reply to comment #1)\n\nI also noticed something very interesting. When I removed the first line from body selector leaving below given CSS, batik was able to parse it.\n..\n...\nbody {\nmargin:0;\ncolor:#333333;\nfont:x-small Georgia Serif;\nfont-size/* */:/**/small;\nfont-size: /**/small;\ntext-align: center;\n}\n..\n...\n\n\n> (In reply to comment #0)\n> > The attached CSS file is not getting parsed properly by the batick CSS parser.\n> > But, if I remove the following selector(with properties) from CSS I am able to\n> > parse it.\n> > \n> > body {\n> > background:#ffffff;\n> > margin:0;\n> > color:#333333;\n> > font:x-small Georgia Serif;\n> > font-size/* */:/**/small;\n> > font-size: /**/small;\n> > text-align: center;\n> > }\n> \n> This might be related to bug 45663, a known issue in comment parsing: those\n> comments in both \"font-size\" declarations hint towards that.\n> \n> Also, another possibility is the shorthand \"font\" declaration [1], which may be\n> confusing the parser: the textual font-size (\"x-small\") or the font family\n> (\"Georgia Serif\").\n> \n> Decreased importance from \"blocker\" (which didn't make much sense) to \"minor\"\n> as there seems to be an easy workaround [2] (removing the comments or changing\n> the shorthand font declaration to a few declarations and/or enclosing font\n> family with quotes). Could you confirm this?\n> \n> Also, note that the report's URL should be a \"URL associated with the bug, if\n> any\" [3], usually pointing to some relevant mailing list discussion or Web page\n> displaying the issue. The current URL doesn't seem to make much sense in this\n> scope, apart from feeling like some kind of publicity. Please confirm this (and\n> remove the URL) or enter some detail about the relationship with the issue...\n> \n> [1] http://www.w3.org/TR/SVG11/text.html#FontProperty\n> [2] https://issues.apache.org/bugzilla/page.cgi?id=fields.html#importance\n> [3] http://www.bugzilla.org/docs/tip/en/html/bug_page.html", "id": 127212, "time": "2009-05-20T06:00:08Z", "creator": "shahryar.ghazi@gmail.com", "creation_time": "2009-05-20T06:00:08Z", "is_private": false, "attachment_id": null}]