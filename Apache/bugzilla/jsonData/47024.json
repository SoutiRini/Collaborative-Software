[{"count": 0, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "The variable threadDone is accessed from at least two threads, but is not volatile and access is not synchronised.\n\nThere is no guarantee that the ContainerBackgroundProcessor thread will ever see threadDone == true.\n\nMaking the variable volatile would fix this.\n\nAt least two other variables are also accessed from the main and background threads and need protecting:\n\n- started\n- startChildren\n\n==\n\norg.apache.catalina.core.ContainerBase.fireContainerEvent accesses listeners.size() outside the synchronized (listeners) section. This is a bit dubious.", "id": 126218, "time": "2009-04-14T02:21:29Z", "bug_id": 47024, "creation_time": "2009-04-14T02:21:29Z", "is_private": false}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "This isn't causing any real world bugs and due to the nature of the background thread any issue is unlikely. That said, it wouldn't hurt to spend a little time looking at this. I have therefore added to TODO to trunk.\n\nGiven there is no immediate need for code changes in TC6, I am marking this as WONTFIX.", "id": 126230, "time": "2009-04-14T10:15:02Z", "bug_id": 47024, "creation_time": "2009-04-14T10:15:02Z", "is_private": false}]