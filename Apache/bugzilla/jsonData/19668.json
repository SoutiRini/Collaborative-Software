[{"count": 0, "tags": [], "creator": "moonjihad@hotmail.com", "attachment_id": null, "is_private": false, "id": 36686, "time": "2003-05-05T12:37:51Z", "bug_id": 19668, "creation_time": "2003-05-05T12:37:51Z", "text": "Using the manager app to deploy an application which is not inside\nTOMCAT_HOME\\webapps makes that particular web-app disappear at the next tomcat\nrestart, as it is not saved to the server.xml.\n\nTo reproduce this bug :\n1. Create a web-app somewhere outside of tomcat's dir\n2. Install it using the manager using :\n   WAR URL : file:c:/code/myWebApp/\n   dir     : /mywebapp\n3. Restart tomcat, webapp is not available anymore.\n\nAs a workaround, one should log into the admin app after installing a web-app\nand click the commit button to save the configuration to the server.xml config file."}, {"count": 1, "text": "There are two solutions to this:\n\nWhen you do the install of the war from a local file, install\na {context}.xml file also.  Make sure the Host in your Tomcat\nserver.xml has deployXML=true.  The {context}.xml file will\nensure that the web application gets started when Tomcat starts.\n\nor\n\nConfigure the Host in your Tomcat server.xml with unpackWARs=true\nand autoDeploy=true.  THis will make sure that the war gets unpacked\ninto your webapps directory and is started when Tomcat is started.\n\nThe manager documentation could be clearer on this point.\n", "bug_id": 19668, "is_private": false, "id": 36687, "time": "2003-05-05T12:54:20Z", "creator": "glenn@apache.org", "creation_time": "2003-05-05T12:54:20Z", "tags": [], "attachment_id": null}, {"count": 2, "text": "This is done like that in 4.1.x by design (deploy should save, install does not;\nin all cases, you can use the admin webapp to save server.xml). Glenn provided\nsome additional solutions which can help. It is extremely likely that a redesign\nof the deployer and manager will occur in 5.0.x.", "bug_id": 19668, "is_private": false, "id": 36700, "time": "2003-05-05T15:01:34Z", "creator": "remm@apache.org", "creation_time": "2003-05-05T15:01:34Z", "tags": [], "attachment_id": null}]