[{"count": 0, "tags": [], "bug_id": 1124, "is_private": false, "text": "Using the RMIC task, I have a class whose full name \nis \"com.domain.project.classes.FooClass\".  Ant will incorrectly assume the name \nof the class is \"com.domain.project\" because it searches the filename looking \nfor \".class\" and cuts the string there.\n<p>\nI Looked at the latest in CVS (Rmic.java), and the culprit code appears to be \nthis:\n<pre>\nprotected void scanDir(File baseDir, String files[],\n                           FileNameMapper mapper) {\n        SourceFileScanner sfs = new SourceFileScanner(this);\n        String[] newFiles = sfs.restrict(files, baseDir, baseDir, mapper);\n        for (int i = 0; i < newFiles.length; i++) {\n            String classname = newFiles[i].replace(File.separatorChar, '.');\n            <font color=\"red\">classname = classname.substring(0, \nclassname.indexOf(\".class\"));</font>\n            compileList.addElement(classname);\n        }\n    }\n</pre>\nIt might be better to use the lastIndexOf() method.", "id": 1605, "time": "2001-03-26T14:50:45Z", "creator": "mstover1@apache.org", "creation_time": "2001-03-26T14:50:45Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "mstover1@apache.org", "is_private": false, "text": "I guess HTML tags are not allowed.  Here's the code in a more readable format:\n\nprotected void scanDir(File baseDir, String files[],\n                           FileNameMapper mapper) {\n        SourceFileScanner sfs = new SourceFileScanner(this);\n        String[] newFiles = sfs.restrict(files, baseDir, baseDir, mapper);\n        for (int i = 0; i < newFiles.length; i++) {\n            String classname = newFiles[i].replace(File.separatorChar, '.');\nproblem-->  classname = classname.substring(0, classname.indexOf(\".class\"));\n            compileList.addElement(classname);\n        }\n    }\n", "id": 1606, "time": "2001-03-26T14:52:44Z", "bug_id": 1124, "creation_time": "2001-03-26T14:52:44Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "bodewig@apache.org", "is_private": false, "text": "Applied your fix in CVS - first nightly without this problem should be\n2001-03-28.", "id": 1610, "time": "2001-03-26T22:40:01Z", "bug_id": 1124, "creation_time": "2001-03-26T22:40:01Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 1124, "is_private": false, "text": "*** Bug 6957 has been marked as a duplicate of this bug. ***", "id": 11547, "time": "2002-03-07T12:55:45Z", "creator": "bodewig@apache.org", "creation_time": "2002-03-07T12:55:45Z", "attachment_id": null}]