[{"count": 0, "tags": [], "bug_id": 58384, "attachment_id": null, "text": "Reported by RV-Predict (a dynamic race detector) when running the test suite:\nData race on field org.apache.tomcat.websocket.WsWebSocketContainer.backgroundProcessCount: {{{\n    Concurrent write in thread T43 (locks held: {})\n ---->  at org.apache.tomcat.websocket.WsWebSocketContainer.backgroundProcess(WsWebSocketContainer.java:862)\n        at org.apache.tomcat.websocket.BackgroundProcessManager.process(BackgroundProcessManager.java:91)\n        at org.apache.tomcat.websocket.BackgroundProcessManager.access$000(BackgroundProcessManager.java:32)\n        at org.apache.tomcat.websocket.BackgroundProcessManager$WsBackgroundThread.run(BackgroundProcessManager.java:119)\n    T43 is created by T1\n        at org.apache.tomcat.websocket.BackgroundProcessManager.register(BackgroundProcessManager.java:66)\n\n    Concurrent read in thread T34 (locks held: {})\n ---->  at org.apache.tomcat.websocket.WsWebSocketContainer.backgroundProcess(WsWebSocketContainer.java:862)\n        at org.apache.tomcat.websocket.BackgroundProcessManager.process(BackgroundProcessManager.java:91)\n        at org.apache.tomcat.websocket.BackgroundProcessManager.access$000(BackgroundProcessManager.java:32)\n        at org.apache.tomcat.websocket.BackgroundProcessManager$WsBackgroundThread.run(BackgroundProcessManager.java:119)\n    T34 is created by T1\n        at org.apache.tomcat.websocket.BackgroundProcessManager.register(BackgroundProcessManager.java:66)\n}}} \n\nNot sure if this counter has to be precise, but I am reporting it anyway.", "id": 185147, "time": "2015-09-12T16:10:31Z", "creator": "yilong.li@runtimeverification.com", "creation_time": "2015-09-12T16:10:31Z", "is_private": false}, {"count": 1, "text": "The worst that would happen is a slight delay in WebSocket session expiration so negative impacts for applications is unlikely.\n\nFixed in trunk and 8.0.x for 8.0.27 onwards.", "bug_id": 58384, "attachment_id": null, "id": 185254, "time": "2015-09-15T13:49:05Z", "creator": "markt@apache.org", "creation_time": "2015-09-15T13:49:05Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 58384, "attachment_id": null, "text": "Based on the dev-list disucssion [1] I am reverting this fix and resolving this as invalid since it appears to be a false positive.\n\n[1] http://tomcat.markmail.org/thread/sz6afdhnrxnqiylt", "id": 185271, "time": "2015-09-15T21:17:26Z", "creator": "markt@apache.org", "creation_time": "2015-09-15T21:17:26Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 58384, "attachment_id": null, "text": "Interesting, I have my reservations on this. I will find some time to investigate it further. Thanks!", "id": 185273, "time": "2015-09-15T21:20:28Z", "creator": "yilong.li@runtimeverification.com", "creation_time": "2015-09-15T21:20:28Z", "is_private": false}]