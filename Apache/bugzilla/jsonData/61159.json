[{"count": 0, "tags": [], "bug_id": 61159, "attachment_id": null, "id": 199072, "time": "2017-06-06T10:52:33Z", "creator": "linux.pavank@gmail.com", "creation_time": "2017-06-06T10:52:33Z", "is_private": false, "text": "Hello Apache Team,\n\nI am installing Apache httpd 2.2.23 or httpd 2.2.25 from the source code. I have installed all the prerequisites. Openssl I have installed with OpenSSL-1.1.0e.\n\nWhen i try to install the httpd using \"make install\" i get the following error:\n\n[root@apache httpd-2.4.23]# ./configure --prefix=/usr/local/apache2  --with-ssl=/usr/local/openssl\n\nThe above command succeeded.\n\nmake & make install failed.\n\nCould you please help ?\n\n/usr/local/apr/build-1/libtool --silent --mode=compile gcc -std=gnu99 -I/usr/local/openssl/include   -g -O2 -pthread      -DLINUX -D_REENTRANT -D_GNU_SOURCE     -I. -I/root/httpd-2.4.23/os/unix -I/                                        root/httpd-2.4.23/include -I/usr/local/apr/include/apr-1 -I/root/httpd-2.4.23/modules/aaa -I/root/httpd-2.4.23/modules/cache -I/root/httpd-2.4.23/modules/core -I/root/httpd-2.4.23/modules/database                                         -I/root/httpd-2.4.23/modules/filters -I/root/httpd-2.4.23/modules/ldap -I/root/httpd-2.4.23/modules/loggers -I/root/httpd-2.4.23/modules/lua -I/root/httpd-2.4.23/modules/proxy -I/root/httpd-2.4.23/                                        modules/session -I/root/httpd-2.4.23/modules/ssl -I/root/httpd-2.4.23/modules/test -I/root/httpd-2.4.23/server -I/root/httpd-2.4.23/modules/arch/unix -I/root/httpd-2.4.23/modules/dav/main -I/root/h                                        ttpd-2.4.23/modules/generators -I/root/httpd-2.4.23/modules/mappers -prefer-pic -c ssl_engine_config.c && touch ssl_engine_config.slo\n/usr/local/apr/build-1/libtool --silent --mode=compile gcc -std=gnu99 -I/usr/local/openssl/include   -g -O2 -pthread      -DLINUX -D_REENTRANT -D_GNU_SOURCE     -I. -I/root/httpd-2.4.23/os/unix -I/                                        root/httpd-2.4.23/include -I/usr/local/apr/include/apr-1 -I/root/httpd-2.4.23/modules/aaa -I/root/httpd-2.4.23/modules/cache -I/root/httpd-2.4.23/modules/core -I/root/httpd-2.4.23/modules/database                                         -I/root/httpd-2.4.23/modules/filters -I/root/httpd-2.4.23/modules/ldap -I/root/httpd-2.4.23/modules/loggers -I/root/httpd-2.4.23/modules/lua -I/root/httpd-2.4.23/modules/proxy -I/root/httpd-2.4.23/                                        modules/session -I/root/httpd-2.4.23/modules/ssl -I/root/httpd-2.4.23/modules/test -I/root/httpd-2.4.23/server -I/root/httpd-2.4.23/modules/arch/unix -I/root/httpd-2.4.23/modules/dav/main -I/root/h                                        ttpd-2.4.23/modules/generators -I/root/httpd-2.4.23/modules/mappers -prefer-pic -c ssl_engine_init.c && touch ssl_engine_init.slo\nssl_engine_init.c: In function 'make_dh_params':\nssl_engine_init.c:61:7: error: dereferencing pointer to incomplete type\n     dh->p = prime(NULL);\n       ^\nssl_engine_init.c:62:18: error: dereferencing pointer to incomplete type\n     BN_dec2bn(&dh->g, gen);\n                  ^\nssl_engine_init.c:63:12: error: dereferencing pointer to incomplete type\n     if (!dh->p || !dh->g) {\n            ^\nssl_engine_init.c:63:22: error: dereferencing pointer to incomplete type\n     if (!dh->p || !dh->g) {\n                      ^\nssl_engine_init.c: In function 'ssl_init_ctx_protocol':\nssl_engine_init.c:519:13: warning: 'TLSv1_client_method' is deprecated (declared at /usr/local/openssl/include/openssl/ssl.h:1598) [-Wdeprecated-declarations]\n             TLSv1_client_method() : /* proxy */\n             ^\nssl_engine_init.c:520:13: warning: 'TLSv1_server_method' is deprecated (declared at /usr/local/openssl/include/openssl/ssl.h:1597) [-Wdeprecated-declarations]\n             TLSv1_server_method();  /* server */\n             ^\nssl_engine_init.c:525:13: warning: 'TLSv1_1_client_method' is deprecated (declared at /usr/local/openssl/include/openssl/ssl.h:1604) [-Wdeprecated-declarations]\n             TLSv1_1_client_method() : /* proxy */\n             ^\nssl_engine_init.c:526:13: warning: 'TLSv1_1_server_method' is deprecated (declared at /usr/local/openssl/include/openssl/ssl.h:1603) [-Wdeprecated-declarations]\n             TLSv1_1_server_method();  /* server */\n             ^\nssl_engine_init.c:530:13: warning: 'TLSv1_2_client_method' is deprecated (declared at /usr/local/openssl/include/openssl/ssl.h:1610) [-Wdeprecated-declarations]\n             TLSv1_2_client_method() : /* proxy */\n             ^\nssl_engine_init.c:531:13: warning: 'TLSv1_2_server_method' is deprecated (declared at /usr/local/openssl/include/openssl/ssl.h:1609) [-Wdeprecated-declarations]\n             TLSv1_2_server_method();  /* server */\n             ^\nssl_engine_init.c: In function 'ssl_init_ctx_session_cache':\nssl_engine_init.c:641:9: warning: passing argument 2 of 'SSL_CTX_sess_set_get_cb' from incompatible pointer type [enabled by default]\n         SSL_CTX_sess_set_get_cb(ctx,    ssl_callback_GetSessionCacheEntry);\n         ^\nIn file included from ssl_private.h:90:0,\n                 from ssl_engine_init.c:29:\n/usr/local/openssl/include/openssl/ssl.h:621:6: note: expected 'struct SSL_SESSION * (*)(struct ssl_st *, const unsigned char *, int,  int *)' but argument is of type 'struct SSL_SESSION * (*)(stru                                        ct SSL *, unsigned char *, int,  int *)'\n void SSL_CTX_sess_set_get_cb(SSL_CTX *ctx,\n      ^\nssl_engine_init.c: In function 'use_certificate_chain':\nssl_engine_init.c:861:5: warning: implicit declaration of function 'BIO_s_file_internal' [-Wimplicit-function-declaration]\n     if ((bio = BIO_new(BIO_s_file_internal())) == NULL)\n     ^\nssl_engine_init.c:861:5: warning: passing argument 1 of 'BIO_new' makes pointer from integer without a cast [enabled by default]\nIn file included from /usr/local/openssl/include/openssl/ssl.h:48:0,\n                 from ssl_private.h:90,\n                 from ssl_engine_init.c:29:\n/usr/local/openssl/include/openssl/bio.h:537:6: note: expected 'const struct BIO_METHOD *' but argument is of type 'int'\n BIO *BIO_new(const BIO_METHOD *type);\n      ^\nIn file included from ssl_private.h:33:0,\n                 from ssl_engine_init.c:29:\nssl_engine_init.c: In function 'ssl_init_server_certs':\nssl_engine_init.c:1203:42: error: dereferencing pointer to incomplete type\n                      BN_num_bits(dhparams->p), vhost_id, certfile);\n                                          ^\n/root/httpd-2.4.23/include/http_log.h:367:65: note: in definition of macro 'ap_log_error__'\n              ap_log_error_(file, line, mi, level, status, sr__, __VA_ARGS__);    \\\n                                                                 ^\nssl_engine_init.c:1201:9: note: in expansion of macro 'ap_log_error'\n         ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, s, APLOGNO(02540)\n         ^\nmake[3]: *** [ssl_engine_init.slo] Error 1\nmake[3]: Leaving directory `/root/httpd-2.4.23/modules/ssl'\nmake[2]: *** [install-recursive] Error 1\nmake[2]: Leaving directory `/root/httpd-2.4.23/modules/ssl'\nmake[1]: *** [install-recursive] Error 1\nmake[1]: Leaving directory `/root/httpd-2.4.23/modules'\nmake: *** [install-recursive] Error 1"}, {"count": 1, "tags": [], "bug_id": 61159, "text": "openssl 1.1 isn't supported by any released level. 2.4.26 is under development and will support 1.1.", "id": 199074, "time": "2017-06-06T11:08:50Z", "creator": "covener@gmail.com", "creation_time": "2017-06-06T11:08:50Z", "is_private": false, "attachment_id": null}]