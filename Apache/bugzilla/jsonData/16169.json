[{"count": 0, "tags": [], "creator": "dd@cron.ru", "attachment_id": null, "is_private": false, "id": 29540, "time": "2003-01-16T15:22:36Z", "bug_id": 16169, "creation_time": "2003-01-16T15:22:36Z", "text": "When mod_dav and mod_dav_fs modules are used and the response is relatively \nbig Apache corrupts it, e.g. a lot of zeros, some symbols < 0x20, etc. in the \nxml output.\n\nFew details. \nPROPFIND method was used against a big directory (> 400 files), following \nrequest headers were sent:\n\nPROPFIND / HTTP/1.1\nContent-Type: text/xml; charset=\"utf-8\"\nContent-Length: 94\nHost: localhost:801\nAccept: text/html, */*'\nUser-Agent: Mozilla/3.0 (compatible; DD Library)\nAuthorization: Basic xxxxxxx..removed...\nDepth: 1\n\nFollowing request body:\n\n<?xml version=\"1.0\" encoding=\"utf-8\" ?>\n<D:propfind xmlns:D=\"DAV:\">\n<D:allprop/>\n</D:propfind>\n^^^ no EOL at the end. Only 94 bytes.\n\nFollowing responce headers were given:\n\nHTTP/1.1 207 Multi-Status\nDate: Thu, 16 Jan 2003 14:32:03 GMT\nServer: Apache/2.1.0-dev (Win32) DAV/2\nTransfer-Encoding: chunked\nContent-Type: text/xml; charset=\"utf-8\"\n\nresponce body is 386kb - too big to list it here.\n\nSome excerpts:\nat the beginning everything ok. 1st chunk:\n1f45\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<D:multistatus xmlns:D=\"DAV:\">\n<D:response xmlns:lp1=\"DAV:\" xmlns:lp2=\"http://apache.org/dav/props/\">\n<D:href>/function.ftruncate.html</D:href>\n....\n2nd chunk:\n1f44\n<D:propstat>\n<D:prop>\n<lp1:creationdate>2003-01-16T14:04:47Z</lp1:creationdate>\n....\n3rd chunk:\n1fb1\n<lp1:getetag>\"90426340-971-641d2b80\"</lp1:getetag>\n<lp1:resourcetype/>\n<D:supportedlock>\n....\n4th chunk:\n1f59\n<D:lockdiscovery/>\n<D:getcontenttype>text/html</D:getcontenttype>\n</D:prop>\n....\n5th chunk:\n1f54\n</D:href>\n<D:propstat>\n<D:prop>\n.....\ncorrpution: from 0x9DBE up to 0xBD77 all are zeros then 6th chunk.\n\nSometimes corrputed block is big, sometimes is very small and contains wrong \nsymbols (<0x20 and >0x7f). Sometimes it occurs in one offset, sometimes in a \nbit different. Always it occurs in region of ~10% of the stream.\n\nPlease contact me at my e-mail and I'll provide you all you need to reproduce \nthe problem. I tried both Jan16th cvs snapshot and official 2.0.43. Both gets \nthe trouble. OS - Windows XP (w/o SP1)."}, {"count": 1, "attachment_id": null, "creator": "wrowe@apache.org", "is_private": false, "id": 29559, "time": "2003-01-16T17:48:45Z", "bug_id": 16169, "creation_time": "2003-01-16T17:48:45Z", "tags": [], "text": "\n  It is documented at http://www.apache.org/dist/httpd/binaries/win32/\n  that Windows XP had corruption problems, and you must upgrade to SP1.\n"}]