[{"count": 0, "tags": [], "text": "I've been trying to get Tomcat redirection working via mod_webapp and SSL,\nwithout any luck.  It always forces a redirect to http://<server>:443/<path>. \nThe root of the problem appears to be due to the fact that request.getScheme()\nalways returns \"http\", even if the request is an https request and I have\nspecified scheme=\"https\" in my Connector options.\n\neg:\n    <Connector className=\"org.apache.catalina.connector.warp.WarpConnector\"\n     port=\"8008\" minProcessors=\"5\" maxProcessors=\"75\"\n     enableLookups=\"true\"\n     acceptCount=\"10\" scheme=\"https\" secure=\"true\" redirectPort=\"443\"       \ndebug=\"99\"/>\n\nPlease note this bug appears to have been around for some 18 months now, in\nTomcat 3.X as well as 4.X.  I saw references to this problem in mailing lists\ndating back to April of 2000, and there was this bug filed in November:\nhttp://w4.metronet.com/~wjm/tomcat/2000/Nov/msg00645.html\n\nGiven this breaks most Tomcat/Apache+SSL implementations, I think this is a\nsignificant bug.  Thanks,\n  Lucas.", "attachment_id": null, "bug_id": 5372, "id": 8801, "time": "2001-12-11T18:31:07Z", "creator": "ladamski@yahoo.com", "creation_time": "2001-12-11T18:31:07Z", "is_private": false}, {"count": 1, "tags": [], "creator": "ladamski@yahoo.com", "attachment_id": null, "text": "server.xml excerpt:\n\n  <Service name=\"Tomcat-Apache\">\n\n    <Connector className=\"org.apache.catalina.connector.warp.WarpConnector\"\n     port=\"8008\" minProcessors=\"5\" maxProcessors=\"75\"\n     enableLookups=\"true\"\n     acceptCount=\"10\" scheme=\"https\" secure=\"true\" redirectPort=\"443\" debug=\"99\"/>\n\n    <!-- Replace \"localhost\" with what your Apache \"ServerName\" is set to -->\n    <Engine className=\"org.apache.catalina.connector.warp.WarpEngine\"\n     name=\"Apache\" defaultHost=\"whistler.mss.breakwater.net\" debug=\"99\"\nappBase=\"webapps\">\n\n...", "id": 8930, "time": "2001-12-14T11:13:23Z", "bug_id": 5372, "creation_time": "2001-12-14T11:13:23Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 5372, "text": "I've made a fix for this that I've been attempting to upload for the past day \nnow...This looks like a difference in implementations of mod_ssl and ApacheSSL \nand the determination of SSL mode in mod_webapp.c\n\n", "id": 9383, "time": "2002-01-06T14:03:11Z", "creator": "phlat@mindspring.com", "creation_time": "2002-01-06T14:03:11Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "jfclere@gmail.com", "attachment_id": 979, "text": "Created attachment 979\nphlat@mindspring.com patch's", "id": 9461, "time": "2002-01-08T09:21:35Z", "bug_id": 5372, "creation_time": "2002-01-08T09:21:35Z", "is_private": false}]