[{"count": 0, "tags": [], "bug_id": 2774, "attachment_id": null, "text": "PROBLEM:\nIn both Tomcat 3.2.2 and 3.2.3, the <session-timeout> value from the default \nweb.xml is not inherited within webapps.  This is a change in behavior since \nversion 3.2, which did support inheritance of that value.\n\nBEHAVIOR:\nRegardless of what value you set for <session-timeout> in /INSTALL/conf/web.xml, \nthis value will not be inherited by /INSTALL/webapps/*/WEB-INF/web.xml.  The \nsessions for all webapps will expire after 30 minutes.\n\nREPRODUCING BUG:\nTry setting <session-timeout> in /INSTALL/conf/web.xml to 1 (one minute), or 120 \n(2 hours).  Regardless of the value, the sessions will expire after 30 minutes. \n\nI rebooted to SuSe Linux 7.0 and reproduced this bug in both 3.2.2 final and \n3.2.3 final\n \nLOCATION (?) OF BUG:\nProbably in org.apache.tomcat.context.WebXmlReader.java:\nLine 23 reads:\n     public static final int DEFAULT_SESSION_TIMEOUT=30;\n-- but it is not accessed anywhere else in the Tomcat project\nLine 58, within setDefaults() reads\n\tctx.setSessionTimeOut( 30 );\n-- Shouldn't this value be inherited from the default web.xml?\n\nThere is a comment starting line 98 reading:\n\t    // We may read a \"default\" web.xml from INSTALL/conf/web.xml -\n\t    // the code is commented out right now because we want to\n\t    // consolidate the config in server.xml ( or API calls ),\n\t    // we may put it back for 3.2 if needed.\n\t    // note that web.xml have to be cleaned up - only diff from\n\t    // default should be inside\n\t    // readDefaultWebXml( ctx );\n\nPerhaps this needs to be re-activated?", "id": 3980, "time": "2001-07-24T16:20:41Z", "creator": "tw176@columbia.edu", "creation_time": "2001-07-24T16:20:41Z", "is_private": false}, {"count": 1, "tags": [], "creator": "cmanolache@yahoo.com", "attachment_id": null, "id": 4758, "time": "2001-08-22T22:20:37Z", "bug_id": 2774, "creation_time": "2001-08-22T22:20:37Z", "is_private": false, "text": "3.2 doesn't support conf/web.xml, the only configuration file for the container\nis server.xml. Many reasons, discussed on tomcat-dev, but you can set the\ndefault session in the session module in server.xml"}]