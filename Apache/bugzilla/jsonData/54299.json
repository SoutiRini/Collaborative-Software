[{"count": 0, "tags": [], "bug_id": 54299, "attachment_id": 29759, "id": 164071, "time": "2012-12-14T20:41:42Z", "creator": "nistor1@illinois.edu", "creation_time": "2012-12-14T20:41:42Z", "is_private": false, "text": "Created attachment 29759\nfirstCall.diff\n\nThe problem appears in version 1.8.4 and in revision 1421898.  I\nattached a one-line patch (firstCall.diff) that fixes it.\n\nIn method \"FTP.makeRemoteDir\", there are two calls to\n\"dir.indexOf(\"/\") == 0\".  These calls should be \"dir.startsWith(\"/\")\".\nThe intent of the call is more explicit with \"startsWith\" than with\n\"indexOf(..) == 0\".  \"startsWith\" is also more efficient than\n\"indexOf\", because \"startsWith\" tries to match only the start of the\nstring, while \"indexOf\" searches until the first occurrence.\n\nThere are many calls to \"String.startsWith\" in Ant (just like in the\nproposed patch), for example, in methods \"AntlibDefinition.setURI\",\n\"AntClassLoader.isParentFirst\", \"ComponentHelper.checkNamespace\",\n\"Execute.getVMSLogicals\", \"ExecTask.isPath\", \"Jar.writeIndexLikeList\",\n\"Definer.makeResourceFromURI\", \"PathTokenizer.nextToken\", etc.\n\nI attached a second one-line patch (secondCall.diff) for the second\ncall."}, {"count": 1, "tags": [], "bug_id": 54299, "attachment_id": 29760, "id": 164072, "time": "2012-12-14T20:42:05Z", "creator": "nistor1@illinois.edu", "creation_time": "2012-12-14T20:42:05Z", "is_private": false, "text": "Created attachment 29760\nsecondCall.diff"}, {"count": 2, "tags": [], "bug_id": 54299, "attachment_id": null, "is_private": false, "id": 172031, "time": "2014-01-02T14:39:26Z", "creator": "bodewig@apache.org", "creation_time": "2014-01-02T14:39:26Z", "text": "svn revision 1554813"}]