[{"count": 0, "tags": [], "bug_id": 27226, "attachment_id": null, "text": "Ant 1.6.0 and 1.6.1\nHere we are again with zip files.\n\nTar task with compression=\"gzip\" on windows XP, produces files that cannot be\nuncompressed on Sun Solaris.\nGzip spit this message:\ngunzip: test.tar.gz: invalid compressed data--format violated\n\nLast good known release is 1.5.3.1 (it's the last i installed before trying to\nmove to 1.6). This release produces files that can be uncompressed without problems.", "id": 52942, "time": "2004-02-25T16:05:05Z", "creator": "gabriele.garuglieri@infoblu.it", "creation_time": "2004-02-25T16:05:05Z", "is_private": false}, {"count": 1, "attachment_id": null, "creator": "gabriele.garuglieri@infoblu.it", "is_private": false, "id": 52943, "time": "2004-02-25T16:08:52Z", "bug_id": 27226, "creation_time": "2004-02-25T16:08:52Z", "tags": [], "text": "Forgot to mention that winzip 8.1 is working even with those files that unix\ngzip refuses.\nRegards,  Gabriele."}, {"count": 2, "tags": [], "bug_id": 27226, "is_private": false, "text": "I cannot reproduce this.  I have used:\n\n    <tar compression=\"gzip\" destfile=\"test.tar.gz\">\n        <tarfileset dir=\"${basedir}\" includes=\"*.java\" />\n    </tar>\n\nAnd opened the resulting file with gunzip on Intel and Sun Solaris.  Gnu tar \nztf seems able to read the resulting tar.gz as well.", "id": 52945, "time": "2004-02-25T16:28:02Z", "creator": "mbenson@apache.org", "creation_time": "2004-02-25T16:28:02Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "alexeys@inventigo.com", "attachment_id": null, "id": 52946, "time": "2004-02-25T16:45:02Z", "bug_id": 27226, "creation_time": "2004-02-25T16:45:02Z", "is_private": false, "text": "Maybe this is long file name problem? In that case you need to use GNU tar on Solaris."}, {"count": 4, "tags": [], "bug_id": 27226, "is_private": false, "text": "I think a bit of history is worth here.\nI'm using ant through eclipse, and during the last year to build the tar package\ni have been using releases of eclipse with embedded 1.5.x ant.\nRecently i installed the last release of eclipse 3.0 that comes with and\nembedded 1.6.0 ant and yesterday when i repackaged a new distribution of the\napplication i got the above problem.\nEclipse allows you to change the ANT_HOME to point to an external installation\nof ant, so i installed ant 1.6.1 and redirected eclipse to use that\ninstallation, no way, same problem.\nSo i redirected eclipse to use an old 1.5.3.1 installation that i still have in\nmy disk and in this case everything works as it always did in the last year.\n\nI'm using GNU gzip and GNU tar on Solaris.\nIf i try to use unzip command on files built with 1.6.0 and 1.6.1, i get the\nfollowing error:\nArchive:  infoviabilita-2.3.21-full-install.tar.gz\n  End-of-central-directory signature not found.  Either this file is not\n  a zipfile, or it constitutes one disk of a multi-part archive.  In the\n  latter case the central directory and zipfile comment will be found on\n  the last disk(s) of this archive.\nunzip:  cannot find zipfile directory in one of\ninfoviabilita-2.3.21-full-install.tar.gz or\n        infoviabilita-2.3.21-full-install.tar.gz.zip, and cannot find\ninfoviabilita-2.3.21-full-install.tar.gz.ZIP, period.\n\nWhich release of gzip and tar are you using?\nThanks, Gabriele", "id": 52981, "time": "2004-02-26T07:22:33Z", "creator": "gabriele.garuglieri@infoblu.it", "creation_time": "2004-02-26T07:22:33Z", "attachment_id": null}, {"count": 5, "attachment_id": null, "creator": "alexeys@inventigo.com", "text": "This is strange - gzip and zip formats are different.\nDid somebody replaced gzip with zip on your Soralis computer?", "id": 53022, "time": "2004-02-26T15:39:35Z", "bug_id": 27226, "creation_time": "2004-02-26T15:39:35Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "bug_id": 27226, "text": "Well done Alexey, Gabriele is using unzip instead of gunzip.\n\npreilly:~/tmp > tar czf m.tar.gz mleak.txt\npreilly:~/tmp > unzip m.tar.gz\nArchive:  m.tar.gz\n  End-of-central-directory signature not found.  Either this file is not\n  a zipfile, or it constitutes one disk of a multi-part archive.  In the\n  latter case the central directory and zipfile comment will be found on\n  the last disk(s) of this archive.\nunzip:  cannot find zipfile directory in one of m.tar.gz or\n        m.tar.gz.zip, and cannot find m.tar.gz.ZIP, period.\npreilly:~/tmp > gunzip m.tar.gz\npreilly:~/tmp >\n", "id": 53023, "time": "2004-02-26T15:49:19Z", "creator": "peter.reilly@corvil.com", "creation_time": "2004-02-26T15:49:19Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "gabriele.garuglieri@infoblu.it", "text": "Just for your information.\nI confess that my knowledge about compression algorithms is not that deep, and\nhaving used interchangeably unzip and gunzip to uncompress single .ZIP files on\nunix, i was wrongly assuming the reverse was also true, i.e. unzip could be able\nto uncompress .GZ files too.\n\nBut this was only an attempt and unfortunately it just mud the water to the\npoint that you thought i was using the wrong uncompression tool.\n\nWhat i'm doing is that i am packing together a shell and a binary compressed tar\nto obtain a self extracting archive (much like the way unix java JDK is shipped)\nand that shell is calling GNU tar zx, that in turn calls gunzip to decompress\nthe gzipped file.\n\nTo do this i'm using <concat> task that using the 1.5 defaults corrupts binary\nfiles, in a few words Peter, i guess now you realize that :), i was bitten by\nbug 26312.\n\nMy fault was i didn't debug enough before opening this.\nRegards,  Gabriele.", "id": 53255, "time": "2004-03-01T10:45:09Z", "bug_id": 27226, "creation_time": "2004-03-01T10:45:09Z", "is_private": false, "attachment_id": null}]