[{"attachment_id": null, "tags": [], "bug_id": 51427, "text": "Here is a sample session, connecting with Solaris-8's stock:\n\nftp> ls\n200 PORT: Command successful\n150 Opening ASCII mode data connection for file list\na\nz\n226 Transfer complete.\n6 bytes received in 0.00068 seconds (8.59 Kbytes/s)\nftp> ls -l\n200 PORT: Command successful\n150 Opening ASCII mode data connection for file list\ndrwxr-xr-x    4 root     wheel         512 Jun 23 14:00 A\n-rw-r--r--    1 root     wheel           3 Jun 22 03:07 a\n-rw-r--r--    1 root     wheel           0 Jun 21 23:56 z\n\nNotice, how the directory \"A\" is not listed in the short listing... According to Apache log on the server, the commands issues by the client where:\n\n158.121.105.77 - mi [23/Jun/2011:18:14:00 -0400] \"PORT 158,121,105,77,131,160\" 200 - \"-\" \"-\"\n158.121.105.77 - mi [23/Jun/2011:18:14:00 -0400] \"NLST\" 226 - \"-\" \"-\"\n158.121.105.77 - mi [23/Jun/2011:18:14:02 -0400] \"PORT 158,121,105,77,131,161\" 200 - \"-\" \"-\"\n158.121.105.77 - mi [23/Jun/2011:18:14:02 -0400] \"NLST -l\" 226 - \"-\" \"-\"\n\n(FreeBSD's ftp-client always performs \"LIST\" (not \"NLST\") and thus always gets the complete full listing...)\n\nNow, the specification for response to \"NLST\" is vague and only mentions \"filenames\": http://www.nsftools.com/tips/RawFTP.htm#NLST\n\nBut the existing servers (such as ftp.freebsd.org) always list subdirectories, even in response to NLST.", "count": 0, "id": 147419, "time": "2011-06-23T22:29:13Z", "creator": "mi+apache@aldan.algebra.com", "creation_time": "2011-06-23T22:29:13Z", "is_private": false}, {"count": 1, "tags": [], "creator": "mi+apache@aldan.algebra.com", "attachment_id": null, "is_private": false, "id": 147690, "time": "2011-07-01T20:26:52Z", "bug_id": 51427, "creation_time": "2011-07-01T20:26:52Z", "text": "Umm, never mind. Apparently, this is controlled by the FTPOptions      NLSTShowDirs.\n\nNever heard of it being off, though..."}, {"count": 2, "tags": [], "bug_id": 51427, "text": "no changes required so changing to \"invalid\"", "id": 147703, "time": "2011-07-02T19:15:47Z", "creator": "trawick@apache.org", "creation_time": "2011-07-02T19:15:47Z", "is_private": false, "attachment_id": null}]