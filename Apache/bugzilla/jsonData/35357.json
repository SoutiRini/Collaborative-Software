[{"count": 0, "tags": [], "bug_id": 35357, "text": "Hi,\n\nI moved a project from 1.4 to 1.5, and noticed that the <rmic>\ntask was compiling all the RMI classes everytime even if the\nclasses were just compiled.\n...\ncom\\abc\\server\\ServerConfImpl.class added as\ncom/abc/server/ServerConfImpl_Skel.class doesn't exist.\ncom\\abc\\server\\vam\\VAMPlatformImpl.class added as\ncom/abc/server/vam/VAMPlatformImpl_Skel.class doesn't exist.\nRMI Compiling 40 classes to W:\\70b\\tmp\\lib\n\nIf you review the RMI release notes for 1.5, they say:\n\"rmic default stub protocol version option now -v1.2\n...\n    This change means that by default, rmic does not generate any skeleton\nclasses and generates stub classes that only implement the 1.2 stub protocol\nversion. \"\n[  http://java.sun.com/j2se/1.5.0/docs/guide/rmi/relnotes.html  ]\n\nSince rmic doesn't generate Skel files anymore (unless you specify -vcompat),\nit looks like a bug that <rmic> is checking that Skel class file exists.\n\nIs this a known problem? I couldn't find a bug when I searched open\nissues. (http://issues.apache.org/bugzilla/query.cgi)\n\n-Alex\n\n------------\n\n\"Stefan Bodewig\" <bodewig@apache.org> write:\n\nAlex> I just tried ant 1.6.5 and see the same problem.\n\nYes, when I read your original post a second time I realized that we\ndo adapt the changed defaults, but we didn't change our expectations\nfor the generated files.\n\nCan you please open a new bug report?\n\nThanks\n        Stefan", "id": 76385, "time": "2005-06-14T11:39:53Z", "creator": "y3x1-wwm9@spamex.com", "creation_time": "2005-06-14T11:39:53Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "stevel@apache.org", "attachment_id": null, "id": 76387, "time": "2005-06-14T12:19:15Z", "bug_id": 35357, "creation_time": "2005-06-14T12:19:15Z", "is_private": false, "text": "This is fixed in Ant1.7. The problem was that Sun changed the default behaviour\nof rmic to be 1.2 not 1.1, so confusing ant. The fix is that we always set the\nversion to be \"compat\", so ensuring that you get the same behaviour across java\nplatforms.\n\n\nAs a 1.6.x workaround, set stubversion=\"compat\" or stubversion=\"1.2\" to force\nthe right behaviour."}]