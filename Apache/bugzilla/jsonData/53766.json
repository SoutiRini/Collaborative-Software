[{"count": 0, "tags": [], "bug_id": 53766, "attachment_id": 29266, "id": 161641, "creation_time": "2012-08-23T13:12:55Z", "time": "2012-08-23T13:12:55Z", "creator": "rmeyer@hotmail.co.uk", "text": "Created attachment 29266\nPatch to remove the PDF StandardEncoding type\n\nA support case recently highlighted the issue where PDF's generated using FOP fallback to the use of a \"StandardEncoding\" type. The reason why this was brought to our attention was because it was failing a syntax check in preflight Adobe Acrobat Pro. The error was an undefined key value on either the /Encoding or /BaseEncoding in the font definition. That undefined value was FOP's use of the StandardEncoding type. After studying the PDF specification third edition, I first found the following references with regard to valid encoding types:\n\n\"For each named character, an octal character code is given in four different encodings: StandardEncoding, MacRomanEncoding, WinAnsiEncoding, and PDFDocEncoding\"\n\nHowever, when researching the StandardEncoding type further, the following is stated in Table D.1:\n\n\"PDF does not have a predefined encoding named StandardEncoding. However, it is useful to describe this encoding, since a font\u2019s built-in encoding can be used as the base encoding from which differences are specified in an encoding dictionary.\"\n\nEssentially then, FOP's use of StandardEncoding with a definition is not valid. This patch resolves this issue by removing the /Encoding and /BaseEncoding tags when it is set to StandardEncoding as if none is specified, it will default to the default encoding type for which this tag represents. This change resolves the preflight errors.", "is_private": false}, {"count": 1, "tags": [], "bug_id": 53766, "attachment_id": null, "id": 161644, "creation_time": "2012-08-23T14:20:19Z", "time": "2012-08-23T14:20:19Z", "creator": "med1985@gmail.com", "text": "This has been committed to r1376500. Thanks for the work.", "is_private": false}]