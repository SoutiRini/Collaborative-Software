[{"count": 0, "tags": [], "creator": "kuriyama@s2factory.co.jp", "attachment_id": 22657, "id": 121108, "time": "2008-09-30T23:32:30Z", "bug_id": 45923, "creation_time": "2008-09-30T23:32:30Z", "is_private": false, "text": "Created attachment 22657\nPatch for support/htpasswd.c\n\nIn htpasswd.c, passwd file is checked for readable/writable via accessible() function.  Currently, open mode is APR_READ | APR_APPEND, and passed to apr_file_open() function.\n\nIn apr, apr_file_open() for unix converts this mode argument into fcntl.h's O_* flags.  As result, APR_READ | APR_APPEND will be converted to O_RDONLY | O_APPEND.\n\nOn FreeBSD 6.x, this call (open(O_RDONLY | O_APPEND)) is not so problem, but on FreeBSD 7.0, open(O_RDONLY | O_APPEND) for normal user's file without other writable permission by root priv fails with EACCES.\n\nTo solve this problem, attached patch should be applied.\n\nAnyway, if read/write check is required, original APR_READ | APR_APPEND seems to be wrong."}, {"count": 1, "tags": [], "bug_id": 45923, "is_private": false, "text": "CC myself on FreeBSD related bugs", "id": 124162, "time": "2009-01-18T16:19:16Z", "creator": "pgollucci@apache.org", "creation_time": "2009-01-18T16:19:16Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 45923, "is_private": false, "text": "r1369618", "id": 161099, "time": "2012-08-05T16:55:48Z", "creator": "sf@sfritsch.de", "creation_time": "2012-08-05T16:55:48Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 45923, "attachment_id": null, "text": "Fixed in 2.4 with r1372373.\nReleased with 2.4.3.\nMight get ported back to 2.2.", "id": 161572, "time": "2012-08-21T15:53:04Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2012-08-21T15:53:04Z", "is_private": false}]