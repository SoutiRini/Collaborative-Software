[{"count": 0, "attachment_id": null, "bug_id": 14002, "text": "I get an error from mod_auth_digest when running apache in a chroot environment:\ncoloppl:/home/dune73/test/apache-chroot# chroot /home/dune73/test/apache-chroot/\n/usr/sbin/httpd \nWarning: DocumentRoot [/home/httpd/index.html] does not exist\n\nerror-log says:\n[Sun Oct 27 23:50:03 2002] [notice] Digest: generating secret for digest\nauthentication ...\n[Sun Oct 27 23:50:03 2002] [crit] (2)No such file or directory: Digest: error\ngenerating secret: No such file or directory\n\nmod_aut_digest.c says:\n...\n    status = apr_generate_random_bytes(secret, sizeof(secret));\n#else\n#error APR random number support is missing; you probably need to install the\ntruerand library.\n#endif\n\n\n    if (status != APR_SUCCESS) {\n        char buf[120];\n        ap_log_error(APLOG_MARK, APLOG_CRIT, status, s,\n                     \"Digest: error generating secret: %s\", \n                     apr_strerror(status, buf, sizeof(buf)));\n\treturn status\n\n...\n\ni do not know much about digest authentification, but if this\nis not a bug, the error i get is not very understandable.\n\napache runs fine with auth-digest outside of the jail and\nfind without auth-digest inside the jail.", "id": 25253, "time": "2002-10-27T23:06:51Z", "creator": "christian.folini@unifr.ch", "creation_time": "2002-10-27T23:06:51Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "text": "It seems clear that mod_auth_digest is not able to access the source of\nentropy it needs to seed its random number generator.  You need to make \n/dev/random -- or whatever the equivalent is on your platform --\navailable inside the jail.\n\nIn general, if something works outside the jail but not inside the\njail, the problem must be with your configuration with of the jail,\nnot with the software.\n\nThanks for using Apache.", "is_private": false, "bug_id": 14002, "id": 25254, "time": "2002-10-28T00:11:04Z", "creator": "slive@apache.org", "creation_time": "2002-10-28T00:11:04Z", "attachment_id": null}]