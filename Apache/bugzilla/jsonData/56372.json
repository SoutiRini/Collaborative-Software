[{"count": 0, "tags": [], "text": "javax.el.ELResolver changed method signature for getFeatureDescriptors in svn r426537, but javax.el.ResourceBundleELResolver was not updated accordingly. ResourceBundleELResolver extends ELResolver and does not implement any other interfaces as far as I can read from the source file.\n\n$ svn log -c 426537\n------------------------------------------------------------------------\nr426537 | remm | 2006-07-28 15:57:53 +0200 (Fri, 28 Jul 2006) | 1 line\n\n- JSP 2.1 API fixes.\n------------------------------------------------------------------------\n\nChange in javax.el.ELResolver svn r426537, see: http://svn.apache.org/viewvc/tomcat/trunk/java/javax/el/ELResolver.java?r1=423920&r2=426537&pathrev=884913&diff_format=h\n\nSee signature for getFeatureDescriptors in abstract class on line 65:\nhttp://svn.apache.org/viewvc/tomcat/trunk/java/javax/el/ELResolver.java?revision=426537&view=markup&pathrev=884913#l65\n\nSee signature for getFeatureDescriptors in subclass on line 97:\nhttp://svn.apache.org/viewvc/tomcat/trunk/java/javax/el/ResourceBundleELResolver.java?revision=426537&view=markup&pathrev=884913#l97\n\n\n\n\n\nIn svn r884913 a comment appeared above getFeatureDescriptors that says \"Can't use Iterator<FeatureDescriptor> because API needs to match specification\":\n$ svn log -r 884913\n------------------------------------------------------------------------\nr884913 | markt | 2009-11-27 18:14:16 +0100 (Fri, 27 Nov 2009) | 3 lines\n\nFix https://issues.apache.org/bugzilla/show_bug.cgi?id=48267\nGenerics\nPatch provided by sebb\n------------------------------------------------------------------------\n\nChange in javax.el.ResourceBundleELResolver in svn r884913, see: http://svn.apache.org/viewvc/tomcat/trunk/java/javax/el/ResourceBundleELResolver.java?r1=832955&r2=884913&pathrev=884913&diff_format=h\n\n\n\nThe latter comment is still present in trunk for tomcat7. I am curious which API spesification that we try to satisfy in javax.el.ResourceBundleELResolver as it is different from the implementation in the parent class javax.el.ELResolver. Could we either update the comment with an url to the API or some other hint about which API we would break if we return Iterator<FeatureDescriptor> instead of Iterator, or simply remove the comment and align the signature with that in the parent class?", "is_private": false, "bug_id": 56372, "id": 174401, "time": "2014-04-09T11:06:43Z", "creator": "christian.skarby@met.no", "creation_time": "2014-04-09T11:06:43Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 56372, "attachment_id": null, "is_private": false, "id": 174413, "time": "2014-04-09T12:37:22Z", "creator": "markt@apache.org", "creation_time": "2014-04-09T12:37:22Z", "text": "The comment already states that the method declaration must match the specification which is clearly referring to the EL 2.2 specifcation where the method signature for javax.el.ResourceBundleELResolver#getFeatureDescriptors() is:\n\npublic java.util.Iterator getFeatureDescriptors(javax.el.ELContext52 context, java.lang.Object base)\n\nIt is not an issue of API breakage but one of specifcation compliance. In order to pass the TCK the API definitions must match those of the specification exactly.\n\nThis was fixed in the EL 3.0 specification so generics were correctly used in this case."}]