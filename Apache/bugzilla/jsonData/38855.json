[{"count": 0, "tags": [], "creator": "dmitriy.milashenko@teamdev.com", "attachment_id": null, "text": "Periodicaly (every day or two) Java VM crashes with next message in catalina.out\n#\n# Java VM: Java HotSpot(TM) Server VM (1.5.0_06-b05 mixed mode)\n# Problematic frame:\n# j  java.util.TreeSet.add(Ljava/lang/Object;)Z+8\n#\n# An error report file with more information is saved as hs_err_pid19338.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://java.sun.com/webapps/bugreport/crash.jsp\n#\n\nhs_err_pid19338.log contains\n\n#\n# An unexpected error has been detected by HotSpot Virtual Machine:\n#\n#  SIGSEGV (0xb) at pc=0xb2598ad8, pid=19338, tid=2346175408\n#\n# Java VM: Java HotSpot(TM) Server VM (1.5.0_06-b05 mixed mode)\n# Problematic frame:\n# j  java.util.TreeSet.add(Ljava/lang/Object;)Z+8\n#\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x8bf481e8):  JavaThread\n\"JiraQuartzScheduler_QuartzSchedulerThread\" [_thread_in_Java, id=19400]\n\nsiginfo:si_signo=11, si_errno=0, si_code=2, si_addr=0xb2b1e338\n\nRegisters:\nEAX=0x8bf481e8, EBX=0xaea831a8, ECX=0x922cc788, EDX=0xb2b1e2c8\nESP=0x8bd7bc2c, EBP=0x8bd7bc58, ESI=0x0000002c, EDI=0xaea851a0\nEIP=0xb2598ad8, CR2=0xb2b1e338, EFLAGS=0x00000207\n\nTop of Stack: (sp=0x8bd7bc2c)\n0x8bd7bc2c:   b2593d1a 91df2988 8f9601a8 922cc788\n0x8bd7bc3c:   8bd7bc3c aedc3d78 8bd7bc64 aedc4950\n0x8bd7bc4c:   00000000 aedc3d90 8bd7bc60 8bd7bc8c\n0x8bd7bc5c:   b2593993 8f9601a8 9228e7a0 00000001\n0x8bd7bc6c:   9228e7f8 8bd7bc68 aeefe54a 8bd7bca8\n0x8bd7bc7c:   aef04f18 00000000 aeefe598 8bd7bca0\n0x8bd7bc8c:   8bd7bcc8 b2593aeb 00000000 8f9601a8\n0x8bd7bc9c:   9228e7f8 8f9ae7c8 921ad168 9226d908\n\nInstructions: (pc=0xb2598ad8)\n0xb2598ac8:   04 85 20 15 bf b7 c7 80 08 01 00 00 00 00 00 00\n0xb2598ad8:   8b 42 70 85 c0 0f 85 62 00 00 00 8d 44 24 04 52\n\nStack: [0x8bcfc000,0x8bd7d000),  sp=0x8bd7bc2c,  free space=511k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nj  java.util.TreeSet.add(Ljava/lang/Object;)Z+8\nj \norg.quartz.simpl.RAMJobStore.releaseAcquiredTrigger(Lorg/quartz/core/SchedulingContext;Lorg/quartz/Trigger;)V+58\nj \ncom.atlassian.scheduler.OfBizJobStore.releaseAcquiredTrigger(Lorg/quartz/core/SchedulingContext;Lorg/quartz/Trigger;)V+18\n\n\n---------------  P R O C E S S  ---------------\nJava Threads: ( => current thread )\n  0x8d3960b0 JavaThread \"http-8180-Monitor\" [_thread_blocked, id=19448]\n  0x8bbeff00 JavaThread \"http-8180-Processor25\" daemon [_thread_blocked, id=19447]\n  0x8bbef070 JavaThread \"http-8180-Processor24\" daemon [_thread_in_native, id=19446]\n  0x8bbee3f0 JavaThread \"http-8180-Processor23\" daemon [_thread_blocked, id=19445]\n  0x8d39a770 JavaThread \"http-8180-Processor22\" daemon [_thread_blocked, id=19444]\n  0x8d399ab8 JavaThread \"http-8180-Processor21\" daemon [_thread_blocked, id=19443]\n  0x8d398e18 JavaThread \"http-8180-Processor20\" daemon [_thread_blocked, id=19442]\n  0x8d33c9a8 JavaThread \"http-8180-Processor19\" daemon [_thread_blocked, id=19441]\n  0x8d33be98 JavaThread \"http-8180-Processor18\" daemon [_thread_blocked, id=19440]\n  0x8d33b388 JavaThread \"http-8180-Processor17\" daemon [_thread_blocked, id=19439]\n  0x8bbd2a80 JavaThread \"http-8180-Processor16\" daemon [_thread_blocked, id=19438]\n  0x8bbd20f0 JavaThread \"http-8180-Processor15\" daemon [_thread_blocked, id=19437]\n  0x8d32e820 JavaThread \"http-8180-Processor14\" daemon [_thread_blocked, id=19436]\n  0x8d32dd20 JavaThread \"http-8180-Processor13\" daemon [_thread_blocked, id=19435]\n  0x8bb3ec58 JavaThread \"http-8180-Processor12\" daemon [_thread_blocked, id=19434]\n  0x8bb3e130 JavaThread \"http-8180-Processor11\" daemon [_thread_blocked, id=19433]\n  0x8bb75b40 JavaThread \"http-8180-Processor10\" daemon [_thread_blocked, id=19432]\n  0x8d30e348 JavaThread \"http-8180-Processor9\" daemon [_thread_blocked, id=19431]\n  0x8d303fe0 JavaThread \"http-8180-Processor8\" daemon [_thread_blocked, id=19430]\n  0x8d301ed8 JavaThread \"http-8180-Processor7\" daemon [_thread_blocked, id=19429]\n  0x8d303048 JavaThread \"http-8180-Processor6\" daemon [_thread_blocked, id=19428]\n  0x8d319d20 JavaThread \"http-8180-Processor5\" daemon [_thread_blocked, id=19427]\n  0x8d301d20 JavaThread \"http-8180-Processor4\" daemon [_thread_blocked, id=19426]\n  0x8d31b330 JavaThread \"http-8180-Processor3\" daemon [_thread_blocked, id=19425]\n  0x8d304de8 JavaThread \"http-8180-Processor2\" daemon [_thread_blocked, id=19424]\n  0x8d33d4b8 JavaThread \"http-8180-Processor1\" daemon [_thread_blocked, id=19423]\n  0x8d302128 JavaThread \"ContainerBackgroundProcessor[StandardEngine[Catalina]]\"\ndaemon [_thread_blocked, id=19422]\n  0x8bf03380 JavaThread \"JonasClock\" daemon [_thread_blocked, id=19402]\n\n.....\n\nOther Threads:\n  0x080ecbf8 VMThread [id=19340]\n  0x080ff608 WatcherThread [id=19348]\n\nVM state:not at safepoint (normal execution)\n\nVM Mutex/Monitor currently owned by a thread: None\n\nHeap\n def new generation   total 52416K, used 23135K [0x8e510000, 0x91df0000, 0x91df0000)\n  eden space 46592K,  45% used [0x8e510000, 0x8f9b16c8, 0x91290000)\n  from space 5824K,  34% used [0x91290000, 0x914865c0, 0x91840000)\n  to   space 5824K,   0% used [0x91840000, 0x91840000, 0x91df0000)\n tenured generation   total 466048K, used 77603K [0x91df0000, 0xae510000,\n0xae510000)\n   the space 466048K,  16% used [0x91df0000, 0x969b8da8, 0x969b8e00, 0xae510000)\n compacting perm gen  total 30208K, used 30110K [0xae510000, 0xb0290000, 0xb2510000)\n   the space 30208K,  99% used [0xae510000, 0xb02779b8, 0xb0277a00, 0xb0290000)\nNo shared spaces configured.\n\nDynamic libraries:\n001dd000-001f2000 r-xp 00000000 fd:00 198030     /lib/ld-2.3.4.so\n001f2000-001f3000 r-xp 00014000 fd:00 198030     /lib/ld-2.3.4.so\n001f3000-001f4000 rwxp 00015000 fd:00 198030     /lib/ld-2.3.4.so\n001f6000-00319000 r-xp 00000000 fd:00 198031     /lib/tls/libc-2.3.4.so\n00319000-0031a000 r-xp 00123000 fd:00 198031     /lib/tls/libc-2.3.4.so\n0031a000-0031d000 rwxp 00124000 fd:00 198031     /lib/tls/libc-2.3.4.so\n\n......\n\nVM Arguments:\njvm_args: -Xms512m -Xmx512m -Djava.awt.headless=true\n-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n-Djava.endorsed.dirs=/home/jira/jira_home/common/endorsed\n-Dcatalina.base=/home/jira/jira_home -Dcatalina.home=/home/jira/jira_home\n-Djava.io.tmpdir=/home/jira/jira_home/temp\njava_command: org.apache.catalina.startup.Bootstrap start\nLauncher Type: SUN_STANDARD\n\nEnvironment Variables:\nJAVA_HOME=/home/jira/java_home\nPATH=/sbin:/usr/sbin:/bin:/usr/bin:/usr/X11R6/bin\nLD_LIBRARY_PATH=/home/jira/jdk1.5.0_06/jre/lib/i386/server:/home/jira/jdk1.5.0_06/jre/lib/i386:/home/jira/jdk1.5.0_06/jre/../lib/i386\nSHELL=/bin/bash\n\nSignal Handlers:\nSIGSEGV: [libjvm.so+0x4fd530], sa_mask[0]=0x7ffbfeff, sa_flags=0x14000004\nSIGBUS: [libjvm.so+0x4fd530], sa_mask[0]=0x7ffbfeff, sa_flags=0x14000004\nSIGFPE: [libjvm.so+0x422860], sa_mask[0]=0x7ffbfeff, sa_flags=0x14000004\nSIGPIPE: [libjvm.so+0x422860], sa_mask[0]=0x7ffbfeff, sa_flags=0x14000004\nSIGILL: [libjvm.so+0x422860], sa_mask[0]=0x7ffbfeff, sa_flags=0x14000004\nSIGUSR1: SIG_DFL, sa_mask[0]=0x00000000, sa_flags=0x00000000\nSIGUSR2: [libjvm.so+0x424bb0], sa_mask[0]=0x00000000, sa_flags=0x14000004\nSIGHUP: [libjvm.so+0x4245e0], sa_mask[0]=0x7ffbfeff, sa_flags=0x14000004\nSIGINT: SIG_IGN, sa_mask[0]=0x00000000, sa_flags=0x00000000\nSIGQUIT: [libjvm.so+0x4245e0], sa_mask[0]=0x7ffbfeff, sa_flags=0x14000004\nSIGTERM: [libjvm.so+0x4245e0], sa_mask[0]=0x7ffbfeff, sa_flags=0x14000004\n\n\n---------------  S Y S T E M  ---------------\n\nOS:White Box Enterprise Linux release 4 (manifestdestiny)\n\nuname:Linux 2.6.9-5.ELsmp #1 SMP Fri Apr 29 12:14:36 CDT 2005 i686\nlibc:glibc 2.3.4 NPTL 2.3.4\nrlimit: STACK 10240k, CORE 0k, NPROC 16384, NOFILE 1024, AS infinity\nload average:0.53 0.38 0.35\n\nCPU:total 1 family 15, cmov, cx8, fxsr, mmx, sse, sse2, ht\n\nMemory: 4k page, physical 1034676k(185160k free), swap 524280k(517700k free)\nvm_info: Java HotSpot(TM) Server VM (1.5.0_06-b05) for linux-x86, built on Nov\n10 2005 10:56:33 by java_re with gcc 3.2.1-7a (J2SE release)", "id": 86483, "time": "2006-03-04T15:26:19Z", "bug_id": 38855, "creation_time": "2006-03-04T15:26:19Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 38855, "text": "99% sure it's not a Tomcat problem: I've seen similar issues in the past, almost\nalways traced to faulty (unpatched, or patch level not up to date, or\npermissions not correct, or compilation flags not correct, etc.) JDK\ninstallations.  Please don't reopen this unless you can prove it's a Tomcat\nissue and provide us with a way of reproducing the bug.  You may also want to\nbring this up on the user mailing list to see if anyone can suggest other causes\nfor this bug.  Thanks.", "id": 87960, "time": "2006-04-13T19:30:16Z", "creator": "yoavs@computer.org", "creation_time": "2006-04-13T19:30:16Z", "is_private": false, "attachment_id": null}]