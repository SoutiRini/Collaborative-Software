[{"count": 0, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": null, "id": 187884, "time": "2016-01-21T21:23:24Z", "bug_id": 58905, "creation_time": "2016-01-21T21:23:24Z", "is_private": false, "text": "Noted when reviewing implementation of Tomcat.silence() in relation to Tomcat unit tests.\n\nCurrently Tomcat.addContext() is implemented as following:\n[[[\n    public Context addContext(Host host, String contextPath, String contextName,\n            String dir) {\n        silence(host, contextPath);\n        Context ctx = createContext(host, contextPath);\n        ctx.setName(contextName);\n        ctx.setPath(contextPath);\n        ctx.setDocBase(dir);\n        ctx.addLifecycleListener(new FixContextListener());\n\n        if (host == null) {\n            getHost().addChild(ctx);\n        } else {\n            host.addChild(ctx);\n        }\n        return ctx;\n    }\n]]]\n\nThe silence() call attempts to silence the logger for this Context by setting its log level to Level.WARNING.\n\nThe following notes apply to Tomcat class of all current versions\n(Tomcat 7/8/9):\n\n1. Note that in Tomcat unit tests the loggers are not silenced by default,\nas Tomcat.setSilent(boolean) is not called by Tomcat test code.\n\n=> The silent(Host, contextPath) call shall respect the defaults and do not silence this logger if other loggers are not silenced.\n\n2. The Engine name used in Tomcat.getLoggerName() is wrong.\n\nTomcat.getEngine() uses \"Tomcat\" as the name, not \"default\".\n\n=> It shall get the actual Engine instance from Host.getParent().\n\n3. Tomcat.getLoggerName() shall use the same logic as ContainerBase.logName()\n\n=> It does not handle \"\" and null names correctly."}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 188103, "time": "2016-02-01T10:45:31Z", "bug_id": 58905, "creation_time": "2016-02-01T10:45:31Z", "is_private": false, "text": "Fixed in 9.0.x for 9.0.0.M3 onwards."}, {"count": 2, "tags": [], "bug_id": 58905, "attachment_id": null, "id": 188137, "time": "2016-02-02T00:36:09Z", "creator": "markt@apache.org", "creation_time": "2016-02-02T00:36:09Z", "is_private": false, "text": "Fixed in 8.0.x for 8.0.32 onwards."}, {"count": 3, "tags": [], "bug_id": 58905, "attachment_id": null, "id": 188157, "time": "2016-02-02T19:52:19Z", "creator": "markt@apache.org", "creation_time": "2016-02-02T19:52:19Z", "is_private": false, "text": "Fixed in 7.0.x for 7.0.68 onwards."}]