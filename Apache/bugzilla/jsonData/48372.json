[{"count": 0, "tags": [], "text": "Created attachment 24689\ncontains 2 png image files showing the execution with jmeter 2.3.4 and 2.3RC4 \n\nI had initially created a testplan using JMeter 2.3RC4  - because this was available as latest when i started using Jmeter for my work. All things were working absolutely fine on this.\n\nAbout 2 days back i wanted to pick the latest available version of Jmeter and start using it . Hence i downloaded 2.3.4 official release version.  \n\nso, opened my existing jmx testplan file using 2.3.4  & executed/run the testcase.\n\n\nPROBLEM:\nthe multibyte data for the HTTP POST requests are getting garbled.\ni.e\n> if i run the same using 2.3RC4 - everything works fine - multibyte data is handled correctly.\n> if i open same jmx file using 2.3.4  & run it  - multibyte data becomes garbled .\n\n\nATTACHMENTS: \nI have attached screen shots(two .png images are zipped): shows same testcase run on 2.3RC4 and 2.3.4 . If you notice in that pictures -  on 2.3RC4 the result is fine and multibyte data is also correct.  on 2.3.4 , the multibyte data is corrupted.\n\n\n\nDETAILS:\n\nThe HTTP Request was created as follows :\n\n>  Test Plan->Add->Thread Group. Entered the name and other fields.\n>  Again Right Clicked on ThreadGroup->Add->Sampler->HTTP Request.\n>  there i choose METHOD = POST .  [in some tests we need multi-part , in some\n>  we need only POST]\n>  Entered the name of the request and the Path/command . Typed UTF-8 in Content\n>  Encoding textbox.\n>  This is how that HTTP POST request is filled up.\n>\n\nAlso in jmeter.properties file  :  i have given :\nsampleresult.default.encoding  = UTF-8\n\n\nWhen i run the testcases , the response assertion checks for a particular multibyte content in the http response received.  It fails because , i can see the HTTP Response  under View result tree  - which has been garbled.\n\nThe same testcase when run using 2.3RC4 works absolutely fine and testcase passes. There is absolutely no change b/w the way i run in 2.3.RC4 & 2.3.4 .  \nWith 2.3.4 it fails because multibyte content is getting corrupted.\n\n\nNOTE:\nThe HTTP GET request handles the multibyte data correctly .The garbling issue is noticed only when i have HTTP POST.\n\n\nAdditional observation :\n(in case if its relevant)\nOn 2.3.4 ,  After running the testcase . go to  View Result Tree , there is a node called \"Sample Result\". Under this the following entries are noticed for POST request:\n\n   HTTPSampleResult fields:\n   DataEncoding: ISO-8859-1\n\nNow. If i change the HTTP request method to GET , the above is seen as follows:\n\n   HTTPSampleResult fields:\n   DataEncoding: utf-8\n\n\nSo - what is impacting this i do not know.  \n\n\n\nISSUE MARKED AS BLOCKER :\nThe issue iam raising as blocker because , all HTTP POST request's multibyte content is getting garbled if i use 2.3.4 .  Basically i cannot use 2.3.4 for running my tests having HTTP POST.\n\nAs workaround :  \niam just using the previous version that we had picked - 2.3RC4 itself. With 2.3.RC4 everything works absolutely fine.\n\n\nKindly fix the problem for 2.3.4.", "attachment_id": 24689, "bug_id": 48372, "id": 132743, "time": "2009-12-10T22:50:59Z", "creator": "jmltestaccount@gmail.com", "creation_time": "2009-12-10T22:50:59Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 48372, "attachment_id": null, "id": 132745, "time": "2009-12-11T03:51:42Z", "creator": "sebb@apache.org", "creation_time": "2009-12-11T03:51:42Z", "is_private": false, "text": "As mentioned on the e-mail thread, please provide a JMX file that contains a sampler that fails on 2.3.4.\n\nPlease also provide jmeter.properties for both versions of JMeter."}, {"count": 2, "tags": [], "bug_id": 48372, "attachment_id": 24691, "is_private": false, "id": 132755, "time": "2009-12-11T07:04:27Z", "creator": "jmltestaccount@gmail.com", "creation_time": "2009-12-11T07:04:27Z", "text": "Created attachment 24691\njmx sample file and jmeter properties file of both versions discussed"}, {"attachment_id": null, "tags": [], "bug_id": 48372, "is_private": false, "count": 3, "id": 132756, "time": "2009-12-11T07:05:56Z", "creator": "jmltestaccount@gmail.com", "creation_time": "2009-12-11T07:05:56Z", "text": "please find the attached zip file containing 3 files inside that - sample jmx file which has one of the testcase for HTTP POST Request that fails on 2.3.4 but passed on 2.3RC4  ,  and , there are jmeter.properties file of both jmeter versions."}, {"count": 4, "tags": [], "bug_id": 48372, "attachment_id": null, "is_private": false, "id": 132783, "time": "2009-12-11T15:46:29Z", "creator": "sebb@apache.org", "creation_time": "2009-12-11T15:46:29Z", "text": "Thanks for the JMX file. However, as far as I can tell, none of the HTTP requests actually contain any multibyte data, so it's not possible to determine what the problem is."}, {"attachment_id": null, "tags": [], "creator": "jmltestaccount@gmail.com", "is_private": false, "count": 5, "id": 132796, "time": "2009-12-13T20:56:38Z", "bug_id": 48372, "creation_time": "2009-12-13T20:56:38Z", "text": "In the attached jmx file , i have given a simple command that is used in our testcase -  i.e the Export command  - which will get the entire calendar data from the calendar server, as part of the HTTP response.   . Now, that HTTP Response returned from the server has multibyte content - example calendar name , etc .. which are in non-english .\n\nPlease see the screenshots of the reponses that i have added in the zip file.\nI have given the comparison of HTTP responses as seen under both Jmeter versions.\n\nIn the screenshot -  its clear that the HTTP Reponse is not being handled correctly by Jmeter 2.3.4 , when we have method as POST. \n\nIf i just use Jmeter 2.3RC4 for the ditto jmx file , the HTTP response will be proper - see the screen shot again.\n\n\nI gave just 1 sample testcase to show that the HTTP Response is not handled correctly - the multibyte data in the response are getting corrupted when handled by jmeter 2.3.4 .\nThat same jmx file works absolutely fine without any change when used with Jmeter 2.3RC4.\n\nPlease Let me know what other details would be required. may i know -Do you want me to send more testcases as samples/examples ?"}, {"count": 6, "tags": [], "text": "Do I understand you correctly?\nIs it only the response that differs between 2.3RC4 and 2.3.4?\n\nWhat do the corresponding Sampler Result pages show?\n\nJust noticed that the image of the View Results Tree in 2.3.4 looks completely different from normal. The buttons are rounded, and the tabs look completely different. Also the test tree looks different.\n\nAre you sure you are using the official build of JMeter 2.3.4?\nAre you using the same version of Java for both tests, if so which?", "attachment_id": null, "id": 132802, "creator": "sebb@apache.org", "time": "2009-12-14T05:13:07Z", "bug_id": 48372, "creation_time": "2009-12-14T05:13:07Z", "is_private": false}, {"count": 7, "tags": [], "text": "Please find my comments below for the questions you had asked :\n\n\n<<<<< Is it only the response that differs between 2.3RC4 and 2.3.4?>>>>>>>\n\nthe multibyte content inside the response is seen garbled with 2.3.4 , whereas in 2.3RC4 its proper.\nhere is the overview :\n\n* iam sending a HTTP POST request(i have explained already how the request is formed and sent, as shown in sample jmx file).\n\n* then checking the response received (i.e iam viewing this under the \"View result tree\" , under that the node called HTTP response. I have shown this in attached screenshots)\n\n* in that response it has multibyte content(like calendar names etc in non-english) . problem is -those multibyte data is garbled in response(when in 2.3.4)\n\n\n\n<<<<<<<<<What do the corresponding Sampler Result pages show?>>>>>>>>>>>>\n\ni did not understand this question clearly -- i have sent the screen shots for result - i.e of the view result tree. That shows how the result is seen.\n\n\n\n<<<<<<<<Just noticed that the image of the View Results Tree in 2.3.4 looks completely different from normal. The buttons are rounded, and the tabs look completely different. Also the test tree looks different.\nAre you sure you are using the official build of JMeter 2.3.4? >>>>>>>>>>>\n\ni accessed this page for download :\n   http://jakarta.apache.org/site/downloads/downloads_jmeter.cgi\non this page : i clicked the Binary- \"2.3.4.zip\" link and downloaded the zip file .\nis this not the official release of 2.3.4 ?\n\n\n\n<<<<<<Are you using the same version of Java for both tests, if so which?>>>>>>>\nyes. same version of Java all the time.  I mean,  i have my terminal set with JAVA_HOME to version 1.5.0_13. On same terminal i open the jmeter gui --for both versions.\nam i correct in understanding that jmeter takes java as per the terminal setting- or do i need to set that explicitly anywhere for 2.3.4 ?", "attachment_id": null, "id": 132819, "creator": "jmltestaccount@gmail.com", "time": "2009-12-14T20:38:01Z", "bug_id": 48372, "creation_time": "2009-12-14T20:38:01Z", "is_private": false}, {"count": 8, "tags": [], "text": "(In reply to comment #7)\n> Please find my comments below for the questions you had asked :\n> \n> \n> <<<<<<<<<What do the corresponding Sampler Result pages show?>>>>>>>>>>>>\n> \n> i did not understand this question clearly -- i have sent the screen shots for\n> result - i.e of the view result tree. That shows how the result is seen.\n> \n\nThere are 3 tabs; I need to see the contents of the \"Sampler result\" tab.\n\nProbably a good idea to include the \"Request\" tab contents too.\n \n> \n> <<<<<<<<Just noticed that the image of the View Results Tree in 2.3.4 looks\n> completely different from normal. The buttons are rounded, and the tabs look\n> completely different. Also the test tree looks different.\n> Are you sure you are using the official build of JMeter 2.3.4? >>>>>>>>>>>\n> \n> i accessed this page for download :\n>    http://jakarta.apache.org/site/downloads/downloads_jmeter.cgi\n> on this page : i clicked the Binary- \"2.3.4.zip\" link and downloaded the zip\n> file .\n> is this not the official release of 2.3.4 ?\n \nYes, this is the one.\n \n> \n> <<<<<<Are you using the same version of Java for both tests, if so\n> which?>>>>>>>\n> yes. same version of Java all the time.  I mean,  i have my terminal set with\n> JAVA_HOME to version 1.5.0_13. On same terminal i open the jmeter gui --for\n> both versions.\n> am i correct in understanding that jmeter takes java as per the terminal\n> setting- or do i need to set that explicitly anywhere for 2.3.4 ?\n\nNo, JMeter picks up whichever version of Java is first on the path.\n\nThe JMeter GUI should look similar in both versions, assuming that they are using the same JVM. On Windows there are slight variations between Java 1.4/1.5/1.6, but the shape of buttons does not change, and tabs always look like tabs.\n\nPlease attach jmeter.log from each version of JMeter. There may be sensitive information in it; if so please replace with something innocuous first.", "attachment_id": null, "bug_id": 48372, "id": 132827, "time": "2009-12-15T02:43:51Z", "creator": "sebb@apache.org", "creation_time": "2009-12-15T02:43:51Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 48372, "attachment_id": null, "is_private": false, "id": 149084, "time": "2011-09-07T18:20:30Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-09-07T18:20:30Z", "text": "Hello,\nRegarding the look, it's related to Mac OS, this look is the one on this OS.\nI have the same look running JDK 6 on Mac OS 10.6.8\n\nRegards\nPhilippe"}, {"attachment_id": null, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "count": 10, "id": 158896, "time": "2012-05-07T21:35:37Z", "bug_id": 48372, "creation_time": "2012-05-07T21:35:37Z", "text": "I checked code and I don't see issue on response conversion to String.\nI close issue as we cannot reproduce it and issue was not updated since 2009 by reporter."}]