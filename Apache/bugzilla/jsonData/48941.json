[{"count": 0, "tags": [], "bug_id": 48941, "text": "Created attachment 25149\nPatch which makes proposed modifications\n\nMake EL api and servlet container compatible with other Unified EL implementations\n\nCurrently tomcat instantiates EL ExpressionFactory\nnot by using standard ExpressionFactory.newInstance()\nbut by directly calling org.apache.el.ExpressionFactoryImpl()\nconstructor.\n\nSee\norg.apache.jasper.runtime.JspApplicationContextImpl\nfor example.\n\nThis proposal is simple. \n\n1. Modify bundled EL api to add newInstance method to\njavax.el.ExpressionFactory which calls org.apache.el.ExpressionFactoryImpl() constructor.\n\n2. Replace all invocations of org.apache.el.ExpressionFactoryImpl() with standard ExpressionFactory.newInstance() call.\n\nThis way if EL api is replaced, new version can be used without modification.\n\nHowever, to fully remove dependency on org.apache.el changes need to be made to \norg.apache.jasper.compiler.Validator which directly static method in ELSupport class. This is much more complex matter which can be addressed later.", "id": 135447, "attachment_id": 25149, "creator": "contact@ruslan.org", "creation_time": "2010-03-18T20:50:47Z", "time": "2010-03-18T20:50:47Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 48941, "attachment_id": null, "id": 135459, "time": "2010-03-19T07:56:54Z", "creator": "markt@apache.org", "creation_time": "2010-03-19T07:56:54Z", "is_private": false, "text": "ExpressionFactory.newInstance() is an EL 2.2 method. Tomcat 6 supports EL 2.1.\n\nNote that Tomcat 7 will support EL 2.2 and that the necessary API changes have already been made."}]