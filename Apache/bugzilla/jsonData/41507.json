[{"count": 0, "tags": [], "bug_id": 41507, "attachment_id": null, "id": 98829, "time": "2007-01-31T02:45:20Z", "creator": "EGoosen2@metropolitan.co.za", "creation_time": "2007-01-31T02:45:20Z", "is_private": false, "text": "I'm getting the above Error/Exception when Tomcat tries to redeploy my webapp.\nI've searched google/apache mailing list/ASF bugzilla, and haven't found a clear\nsolution to this problem.\nFrom what I've read, it appears that this bug crept in after version 5.5.12.\nCan you determine from your 5.5.12 code what has changed, which is causing this\nproblem on later verions?\nThis webapp has been running fine on Tomcat 4, but we have recently upgraded to\nJDK 1.5, and are considering upgrading the entire web app from servlet 2.3/jsp\n1.2 to servlet 2.4/jsp 2.0.\nThe webapp starts up and runs fine. It just fails to auto reload.\nTake a look at this post from the tomcat-user mailing list:\nhttp://marc.theaimsgroup.com/?l=tomcat-user&m=113932361804941&w=2\n\nHere's my stack trace:\n2007/01/31 10:09:41 org.apache.catalina.core.StandardContext reload\nINFO: Reloading this Context has started\npm.closed\npm.closed\njdbc.con.close\njdbc.con.close\n2007/01/31 10:09:43 org.apache.catalina.loader.WebappClassLoader loadClass\nINFO: Illegal access: this web application instance has been stopped already. \nCould not load org.apache.log4j.spi.VectorWriter.  The eventual following stack\ntrace is caused by an error thrown for debugging purposes as well as to attempt\nto terminate the thread which caused the illegal access, and has no functional\nimpact.\njava.lang.IllegalStateException\n\tat\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1241)\n\tat\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1201)\n\tat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)\n\tat org.apache.log4j.spi.LoggingEvent.<init>(LoggingEvent.java:154)\n\tat org.apache.log4j.Category.forcedLog(Category.java:388)\n\tat org.apache.log4j.Category.log(Category.java:853)\n\tat org.apache.commons.logging.impl.Log4JLogger.error(Log4JLogger.java:198)\n\tat org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:411)\n\tat org.apache.catalina.session.StandardManager.load(StandardManager.java:320)\n\tat org.apache.catalina.session.StandardManager.start(StandardManager.java:636)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4161)\n\tat org.apache.catalina.core.StandardContext.reload(StandardContext.java:3024)\n\tat org.apache.catalina.loader.WebappLoader.backgroundProcess(WebappLoader.java:432)\n\tat\norg.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1277)\n\tat\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1569)\n\tat\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1578)\n\tat\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1578)\n\tat\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1558)\n\tat java.lang.Thread.run(Thread.java:595)\n2007/01/31 10:09:43 org.apache.catalina.loader.WebappClassLoader loadClass\nINFO: Illegal access: this web application instance has been stopped already. \nCould not load org.apache.log4j.spi.VectorWriter.  The eventual following stack\ntrace is caused by an error thrown for debugging purposes as well as to attempt\nto terminate the thread which caused the illegal access, and has no functional\nimpact.\njava.lang.IllegalStateException\n\tat\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1241)\n\tat\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1201)\n\tat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)\n\tat org.apache.log4j.spi.LoggingEvent.<init>(LoggingEvent.java:154)\n\tat org.apache.log4j.Category.forcedLog(Category.java:388)\n\tat org.apache.log4j.Category.log(Category.java:853)\n\tat org.apache.commons.logging.impl.Log4JLogger.error(Log4JLogger.java:198)\n\tat org.apache.catalina.session.StandardManager.start(StandardManager.java:638)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4161)\n\tat org.apache.catalina.core.StandardContext.reload(StandardContext.java:3024)\n\tat org.apache.catalina.loader.WebappLoader.backgroundProcess(WebappLoader.java:432)\n\tat\norg.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1277)\n\tat\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1569)\n\tat\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1578)\n\tat\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1578)\n\tat\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1558)\n\tat java.lang.Thread.run(Thread.java:595)\n2007/01/31 10:09:43 org.apache.commons.modeler.Registry registerComponent\nSEVERE: Null component\nCatalina:type=JspMonitor,name=jsp,WebModule=//localhost/capri,J2EEApplication=none,J2EEServer=none\n2007/01/31 10:09:43\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor processChildren\nSEVERE: Exception invoking periodic operation: \njava.lang.NoClassDefFoundError: org/apache/log4j/spi/VectorWriter\n\tat org.apache.log4j.spi.LoggingEvent.<init>(LoggingEvent.java:154)\n\tat org.apache.log4j.Category.forcedLog(Category.java:388)\n\tat org.apache.log4j.Category.log(Category.java:853)\n\tat org.apache.commons.logging.impl.Log4JLogger.error(Log4JLogger.java:198)\n\tat org.apache.catalina.session.StandardManager.start(StandardManager.java:638)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4161)\n\tat org.apache.catalina.core.StandardContext.reload(StandardContext.java:3024)\n\tat org.apache.catalina.loader.WebappLoader.backgroundProcess(WebappLoader.java:432)\n\tat\norg.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1277)\n\tat\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1569)\n\tat\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1578)\n\tat\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1578)\n\tat\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1558)\n\tat java.lang.Thread.run(Thread.java:595)"}, {"count": 1, "tags": [], "bug_id": 41507, "attachment_id": null, "text": "\n\n*** This bug has been marked as a duplicate of 41504 ***", "id": 98857, "time": "2007-01-31T16:19:30Z", "creator": "markt@apache.org", "creation_time": "2007-01-31T16:19:30Z", "is_private": false}]