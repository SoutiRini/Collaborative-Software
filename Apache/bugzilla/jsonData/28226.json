[{"count": 0, "tags": [], "creator": "wagner@cesnet.cz", "attachment_id": null, "id": 55373, "time": "2004-04-06T09:49:12Z", "bug_id": 28226, "creation_time": "2004-04-06T09:49:12Z", "is_private": false, "text": "Launching Ant 1.6.1 in OS/2 no longer works. The current launch script ignores\nall ant-*.jar because their contents were present also in ant.jar and the\nCLASSPATH would be too long. However, ant.jar now contains only empty directory\norg/apache/tools/ant/launch. If it is intentional, please replace bin/antenv.cmd\nwith the version available from http://hroch486.icpf.cas.cz/antbugreport/ -- the\nzip file contains the new version as well as the \"diff -u\" file."}, {"count": 1, "tags": [], "creator": "wagner@cesnet.cz", "attachment_id": 11150, "text": "Created attachment 11150\nDiff file mentioned in the bug description", "id": 55374, "time": "2004-04-06T09:54:17Z", "bug_id": 28226, "creation_time": "2004-04-06T09:54:17Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 28226, "attachment_id": null, "id": 55385, "time": "2004-04-06T12:20:22Z", "creator": "bodewig@apache.org", "creation_time": "2004-04-06T12:20:22Z", "is_private": false, "text": "Thank you Zdenek,\n\nactually, Ant 1.6 should only require ant-launcher.jar on the classpath and nothing\nelse.  Can you please verify whether restricting the script to the launcher jar\nwithout having ant.jar or optional.jar (which doesn't exist anymore anyway) works?\n"}, {"count": 3, "tags": [], "bug_id": 28226, "text": "Yes, it works, but it is necessary to use the\norg.apache.tools.ant.launch.Launcher entry point. Another possibility is to use\njava -jar $ANT_HOME\\lib\\ant-launcher.jar and in this case CLASSPATH may be\nempty. It is only better to include tools.jar. I tried Java 1.4.1 from Golden\nCode and Java 1.4.2 from Innotek, both can locate tools.jar according to\nJAVA_HOME. I am not sure about Java from IBM (it is not free). Anyway, it would\nbe necessary to change ant.cmd. Should I rewrite it using the -jar option? Other\n*.cmd will not be generally needed but they provide some added value.", "id": 55398, "time": "2004-04-06T13:52:06Z", "creator": "wagner@cesnet.cz", "creation_time": "2004-04-06T13:52:06Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 28226, "text": "-jar ant-launcher.jar is fine with me, if it works.  And you are probably the only\none who knows 8-)", "id": 55400, "time": "2004-04-06T14:13:55Z", "creator": "bodewig@apache.org", "creation_time": "2004-04-06T14:13:55Z", "is_private": false, "attachment_id": null}, {"count": 5, "attachment_id": null, "bug_id": 28226, "text": "OK, -jar ant-launcher.jar works in Linux too. Can you guarantee that\nMETA-INF/MANIFEST.MF will always contain Main-Class:\norg.apache.tools.ant.launch.Launcher? I will now thoroughly examine that I do\nnot spoil something and I will send updated scripts tomorrow.", "id": 55404, "time": "2004-04-06T15:00:29Z", "creator": "wagner@cesnet.cz", "creation_time": "2004-04-06T15:00:29Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "creator": "wagner@cesnet.cz", "attachment_id": null, "text": "I am writing these comments because I think that it should be recorded somewhere.\n\n1. Both Java 1.4.1 from Golden Code and 1.4.2 from Innotek contain tools.jar in\n$JAVA_HOME/lib but it is searched in $JAVA_HOME/jre/lib although the former is\non CLASSPATH. i made a copy of tools.jar in the latter directory.\n\n2. If Ant is launched via java -jar $ANT_HOME\\lib\\ant-launcher.jar, it is unable\nto invoke Saxon through JAXP. It complains that its TransformerFactoryImpl\ncannot be found. If $ANT_HOME\\lib\\ant-launcher.jar is on CLASSPATH and Ant is\nlaunched via its entry point org.apache.tools.ant.launch.Launcher, Saxon works fine.", "id": 55554, "time": "2004-04-09T07:29:17Z", "bug_id": 28226, "creation_time": "2004-04-09T07:29:17Z", "is_private": false}, {"attachment_id": 11225, "tags": [], "bug_id": 28226, "text": "Created attachment 11225\nzipped patch files", "count": 7, "id": 55742, "time": "2004-04-14T08:05:15Z", "creator": "wagner@cesnet.cz", "creation_time": "2004-04-14T08:05:15Z", "is_private": false}, {"count": 8, "tags": [], "creator": "wagner@cesnet.cz", "text": "The zip file submitted on 04/14/04 08:05 contains patches to ant.cmd and\nantenv.cmd. Ant is invoked via entry point org.apache.tools.ant.launch.Launcher\nin ant-launcher.jar. I have tried my existing ant files. I have tested mainly\nOS/2 specific tasks <apply>, <exec> and setting properties from environment\nvariables, running <java>, <javac> and <javadoc> and invoking Saxon from <xslt>\nby setting system property\n-Djavax.xml.transform.TransformerFactory=com.icl.saxon.TransformerFactoryImpl", "id": 55743, "time": "2004-04-14T08:12:35Z", "bug_id": 28226, "creation_time": "2004-04-14T08:12:35Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "I think I've applied all patches (they initially failed since parts of the files\nhad the wrong line-ends) - could you please verify that I didn't mess up anything?\n", "id": 55761, "time": "2004-04-14T15:39:40Z", "bug_id": 28226, "creation_time": "2004-04-14T15:39:40Z", "is_private": false}, {"count": 10, "attachment_id": null, "bug_id": 28226, "text": "The version, which is now on CVS, works fine.\n\nAnyway, Rexx in OS/2 strictly requires DOS line endings but your working copy\nfrom CVS should use line endings of your OS, CVS will handle it. Even zip/unzip\nconverts line endings, thus if the binary distribution is zipped on Linux, it\nwill unzip correctly in OS/2.", "id": 55817, "time": "2004-04-15T11:10:04Z", "creator": "wagner@cesnet.cz", "creation_time": "2004-04-15T11:10:04Z", "tags": [], "is_private": false}, {"count": 11, "attachment_id": null, "bug_id": 28226, "text": "OK, thank you for verifying.\n\nI know about the line-ends 8-)  When I committed your original files I didn't\nnotice they contained cariage-returns - and I work on Linux.  So they were wrong\nin CVS.\n\nWhen we build a distribution of Ant, all .bat and .cmd files inside the bin\ndirectory explicitly get cariage-returns added and .sh files get the removed\nvia <fixcrlf>.\n", "id": 55819, "time": "2004-04-15T11:21:44Z", "creator": "bodewig@apache.org", "creation_time": "2004-04-15T11:21:44Z", "tags": [], "is_private": false}]