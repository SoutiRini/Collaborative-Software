[{"attachment_id": null, "tags": [], "bug_id": 35026, "is_private": false, "count": 0, "id": 75233, "time": "2005-05-23T18:31:45Z", "creator": "danderson_75@yahoo.com", "creation_time": "2005-05-23T18:31:45Z", "text": "In the proxy server it would be nice to have a ignore Web Server fields for the\nrecorded results. \n\nThere are two possible scenerios where this would be helpful. The first is when\na variable is defined in the Test Plan element such as some sentinal value that\nis not meant to be part of a url. When the proxy server comes accross this in\nthe URL it will substiute the name. i.e. I have the variable internet with the\nvalue of 2 and when I use my server lr2 the proxy server sets the Server name as\nlr${internet}. Which if the value for internet changes it breaks the test.\n\nThe second scenerio, and this is the more helpful one, is I have a default Http\nrequest element already in a thread. In this case I do not want or need the Web\nServer infomation. And actually it is to my detriment if I want to change web\nservers. Example if I am benchmarking diffrent hardware profiles to see which\nruns my Web Server application. Then I would want the flexibilty to change the\nwebserver in one place vs. having to change multiple http request samplers."}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "is_private": false, "text": "Works for me with a simple plan consisting of\n\nThread Group\n- HTTP Defaults (http | www.apache.org | 80)\nWorkBench\n- Proxy server\n\nSee:\nhttp://jakarta.apache.org/jmeter/usermanual/component_reference.html#HTTP_Proxy_Server\nand\nhttp://jakarta.apache.org/jmeter/usermanual/best-practices.html#proxy_server", "id": 75297, "time": "2005-05-25T00:02:38Z", "bug_id": 35026, "creation_time": "2005-05-25T00:02:38Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "danderson_75@yahoo.com", "attachment_id": 15154, "text": "Created attachment 15154\nA testplan that demonstrates the problem", "id": 75298, "time": "2005-05-25T00:11:35Z", "bug_id": 35026, "creation_time": "2005-05-25T00:11:35Z", "is_private": false}, {"count": 3, "tags": [], "text": "Attached is a testplan that I recorded that demonstrates the problem that I\nexplain in this request.\n\nNote all of the http requests are www.${not_http}gle.com because I have a\nvariable that it replaced. \n\nBecause this variable may not be intended for the http requests I do not think\nit should be included in them.", "attachment_id": null, "id": 75300, "creator": "danderson_75@yahoo.com", "time": "2005-05-25T00:16:28Z", "bug_id": 35026, "creation_time": "2005-05-25T00:16:28Z", "is_private": false}, {"count": 4, "tags": [], "text": "The attached test plan has a default host of google.com, but the URL sampled\nappears to have been www.google.com.\n\nTry fixing the test plan to use the hostname www.google.com as default.\n\nThis will prevent the substitution of goo by ${not_http}.\n\nSeems to me this fixes your second scenario.\n\nAs to the first scenario, perhaps you could be more specific about how you would\nlike variable substitution to work. i.e. under what circumstances should the\nvariable be replaced. \n\nTo maintain backward compatibility, there would also need to be a way of telling\nJMeter to use the new replacement algorithm.", "attachment_id": null, "id": 75301, "creator": "sebb@apache.org", "time": "2005-05-25T00:33:38Z", "bug_id": 35026, "creation_time": "2005-05-25T00:33:38Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 35026, "is_private": false, "count": 5, "id": 75309, "time": "2005-05-25T01:43:10Z", "creator": "danderson_75@yahoo.com", "creation_time": "2005-05-25T01:43:10Z", "text": "\"Try fixing the test plan to use the hostname www.google.com as default.\" \n\nThis would only work if I deleted not_http first and then added a hostname\nvariable to the top of the list. And in the case that is not the simple test\ncase I created to demonstrate this problem that would mean I would have to\ndelete all the variables before the hostname. It is possible to do this but I\nwould think the software should be a little more flexible.\n\nAnd as for\n \"As to the first scenario, perhaps you could be more specific about how you would\nLike variable substitution to work. i.e. under what circumstances should the\nVariable be replaced. \" \n\nI think that the problem is in the proxy server and not in all of JMeter. The\nsubstitution for variables should be maintained as normal when running the test\ncase, but when recording only time string replacement should be done is on an\nentire string and not in a substring.\nExample: (in the sample test case) \nIf I add the variable hostname www.google.com\n\nAnd start to record again. I will get the same result I did before because it is\ndoing a replacement on part of the string which may not be what the user\nintended. Such as demonstrated in the first example test scenario where I had a\nserver name variable but I had a weight variable before it. If the proxy server\nmatched the entire string it would have found my server variable further down\nthe list. Though if I did not have a servername variable I do not think I would\nwant part of the servername being replaced when recording.\n"}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "When I tried using www.google.com in the HTTP default test element, the hostname\nwas omitted from the generated HTTP requests, and so there was no \"goo\" for the\n not_http variable to be matched against.\n\nAs to substitution, the Proxy currently substitutes the contents of a variable -\n\"goo\" - with the variable name - ${not_http} - wherever the content string\nappears. You are asking for the substitution to be restricted to complete\nstrings only. \n\nFair enough, and this should be easy to change, but it might break existing scripts.\n\nSo I suggest adding whole string matching as an option in the Proxy GUI - or\nperhaps as a property.\n\nWould that meet your needs?", "id": 75380, "time": "2005-05-25T21:50:36Z", "bug_id": 35026, "creation_time": "2005-05-25T21:50:36Z", "is_private": false}, {"count": 7, "tags": [], "text": "Yes either solution would be fine. Though I would perfer it to be in the Proxy GUI.", "attachment_id": null, "id": 75381, "creator": "danderson_75@yahoo.com", "time": "2005-05-25T22:21:01Z", "bug_id": 35026, "creation_time": "2005-05-25T22:21:01Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 35026, "is_private": false, "count": 8, "id": 75561, "time": "2005-05-28T12:19:55Z", "creator": "sebb@apache.org", "creation_time": "2005-05-28T12:19:55Z", "text": "Decided to make it a bit more flexible, and added RE matching.\n\nProxy GUI has been updated to add a new checkbox - \"Regex matching\".\n\nThis treats the values as regexes, so full string matching can be specified by\nenclosing the value in ^ and $, e.g. ^2$ for the internet example.\n\n[Also fixed Proxy so TestElement.gui_class etc are not replaced]\n\nNightly build 20050528 contains the fixes"}]