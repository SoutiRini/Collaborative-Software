[{"count": 0, "tags": [], "bug_id": 39304, "attachment_id": null, "text": "I would like to share balancers accros several vhosts :\n\n<Proxy balancer://cluster>\nBalancerMember ajp://192.168.15.196:8538\nBalancerMember ajp://192.168.15.197:8538\n</Proxy>\n\n<VirtualHost xxx.xxx.xxx.xxx:80>\nServerName my.firstsite.com\n<Location />\nProxyPass balancer://cluster/bm stickysession=jsessionid nofailover=On\n</Location>\n</VirtualHost>\n<VirtualHost xxx.xxx.xxx.xxx:80>\nServerName my.secondsite.com\n<Location />\nProxypass balancer://cluster/best stickysession=jsessionid nofailover=On\n</Location>\n</VirtualHost>\n\nBut, then, if I use the balancer-manager to see if the stickysession parameter\nis properly set, it does not. If I submit it with the balancer-manager\ninterface, it does not always keep it.\n\nI feel that stickysession should be a balancer attribute, not a Proxypass one.\n\nI saw the same question 3 weeks ago on comp.apache.devel with no answer...\n\nIs there a way to do it?\n\nFran\u00e7ois.", "id": 87919, "time": "2006-04-13T15:56:10Z", "creator": "francois.jeanmougin@indexmultimedia.com", "creation_time": "2006-04-13T15:56:10Z", "is_private": false}, {"count": 1, "tags": [], "text": "Does it work if you use the following configuration?\n\n<Proxy balancer://cluster>\nBalancerMember ajp://192.168.15.196:8538\nBalancerMember ajp://192.168.15.197:8538\nProxySet stickysession=jsessionid nofailover=On\n</Proxy>\n\n<VirtualHost xxx.xxx.xxx.xxx:80>\nServerName my.firstsite.com\n<Location />\nProxyPass balancer://cluster/bm stickysession=jsessionid nofailover=On\n</Location>\n</VirtualHost>\n<VirtualHost xxx.xxx.xxx.xxx:80>\nServerName my.secondsite.com\n<Location />\nProxypass balancer://cluster/best stickysession=jsessionid nofailover=On\n</Location>\n</VirtualHost>\n\nPlease keep in minds my comments regarding session routes at\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=38357#c4 before trying.", "attachment_id": null, "id": 88053, "creator": "rpluem@apache.org", "time": "2006-04-14T12:02:53Z", "bug_id": 39304, "creation_time": "2006-04-14T12:02:53Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 39304, "text": "Please add the ProxySet directive to the documentation :).\n\nThis does not solve my problem exposed in #38357. Stickysession is not working.", "id": 88062, "time": "2006-04-14T13:54:06Z", "creator": "francois.jeanmougin@indexmultimedia.com", "creation_time": "2006-04-14T13:54:06Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 39304, "attachment_id": null, "is_private": false, "id": 88063, "time": "2006-04-14T14:06:43Z", "creator": "rpluem@apache.org", "creation_time": "2006-04-14T14:06:43Z", "text": "(In reply to comment #2)\n> Please add the ProxySet directive to the documentation :).\n\nYes, I know that it is missing :-)\n\n> \n> This does not solve my problem exposed in #38357. Stickysession is not working.\n\nHave you added a session route to your jsessionid as mentioned in\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=38357#c4? If yes, and it still\ndoes not work please add the log outputs to #38357 as you did in\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=38357#c3.\n\n"}, {"count": 4, "tags": [], "bug_id": 39304, "attachment_id": null, "text": "Using the jvmRoute in tomcat solved it.\n\nThank you for your help.\n\nSo, just a documentation problem :).\n\nFran\u00e7ois.", "id": 88065, "time": "2006-04-14T14:11:47Z", "creator": "francois.jeanmougin@indexmultimedia.com", "creation_time": "2006-04-14T14:11:47Z", "is_private": false}]