[{"count": 0, "tags": [], "bug_id": 54067, "attachment_id": null, "is_private": false, "id": 163033, "time": "2012-10-29T17:23:09Z", "creator": "joakime@apache.org", "creation_time": "2012-10-29T17:23:09Z", "text": "WebSocket upgrade response from Tomcat 7.0.32 contains an invalid response header \"Transfer-Encoding: chunked\"\n\nFull Request/Response is as follows (against example URI ws://localhost:8080/examples/websocket/echoMessage from distribution) ...\n\nGET /examples/websocket/echoMessage HTTP/1.1\nHost: localhost:8080\nUpgrade: websocket\nConnection: Upgrade\nSec-WebSocket-Key: ZDTIRU5vU9xOfkg8JAgN3A==\nSec-WebSocket-Version: 13\n\nHTTP/1.1 101 Switching Protocols\nServer: Apache-Coyote/1.1\nUpgrade: websocket\nConnection: upgrade\nSec-WebSocket-Accept: Kgo85/8KVE8YPONSeyhgL3GwqhI=\nTransfer-Encoding: chunked\nDate: Mon, 29 Oct 2012 16:32:53 GMT\n\n\nThe Jetty project is working this issue from the Jetty WebSocket client point of view.\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=393075"}, {"count": 1, "tags": [], "bug_id": 54067, "text": "This is certainly a Tomcat bug in that the header should not be sent. It could also be argued that the Jetty client should ignore it based on point 1 of section 4.4 of RFC 2616.\n\nI'll take a look at a fix now.", "id": 163038, "time": "2012-10-29T19:21:30Z", "creator": "markt@apache.org", "creation_time": "2012-10-29T19:21:30Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "Good call on RFC-2616 Section 4.4, some of us suspected something wrong on our handling of upgrade (from a client point of view) as well.", "is_private": false, "bug_id": 54067, "id": 163039, "time": "2012-10-29T19:55:08Z", "creator": "joakime@apache.org", "creation_time": "2012-10-29T19:55:08Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "Thanks for the report. There was a more general issue with 1xx responses that has now been fixed in trunk and 7.0.x. The fix will be in the 7.0.33 release onwards.", "is_private": false, "bug_id": 54067, "id": 163040, "time": "2012-10-29T19:56:49Z", "creator": "markt@apache.org", "creation_time": "2012-10-29T19:56:49Z", "attachment_id": null}]