[{"count": 0, "tags": [], "text": "After I upgraded Tomcat from 4.0.1 to 4.1.29, I switch to use Coyote connector. \nThere is no change for the client, which send a large amount of XMLs to the \nserver. The clint will get \"Connection: close\" message from the server after \ncertain time. I have two different clients software (one written in Perl, the \nother written in C++). One of them got the message after 10 minutes, the other \nwill run for a little over one hour and then got the same message.  Both works \nfine under old http 1.1 connector", "attachment_id": null, "bug_id": 27093, "id": 52610, "time": "2004-02-19T20:42:11Z", "creator": "yen.chang@alcatel.com", "creation_time": "2004-02-19T20:42:11Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 27093, "attachment_id": null, "id": 52611, "time": "2004-02-19T20:55:28Z", "creator": "remm@apache.org", "creation_time": "2004-02-19T20:55:28Z", "is_private": false, "text": "Can you send an example of a request which you would send over a telnet, as well\nas the response sent by Tomcat, and what you think is wrong with it ?"}, {"count": 2, "tags": [], "bug_id": 27093, "attachment_id": null, "id": 52612, "time": "2004-02-19T21:06:30Z", "creator": "yen.chang@alcatel.com", "creation_time": "2004-02-19T21:06:30Z", "is_private": false, "text": "The following is the last two messages. The first one is normal one, the second\none is when sever sent the \"Connection: close\" message to the client. Could you\nlist the possible reasons for the server sends this message?\n\n==============================================================================\n\n:: SEND_REQUEST ::\nPOST /ProvOrder/Package HTTP/1.1\nDate: Thu, 19 Feb 2004 10:20:33 CST\nMIME-Version: 1.0\nUser-Agent: loadgen\nHost: sms5501:8080\nAccept-encoding: 7bit\nContent-type: text/xml\nContent-length: 957\n\n<?xml version='1.0'?><PACKAGE msg_corrid=\"100001\"\nsessionid=\"BBDD0E15CCD226082D7A1553AC854608\"><CREATE comp_corrid=\"1000011\"\nasyn_flag=\"Y\"><VALIDATE/><ACTIVATE/><TF_NUMBER contact_name=\"Mark Broihier\"\ncontact_number=\"9724779720\" customer_name=\"Customer #1\"\nprovider_name=\"SBC\"><TF_NUMBER_KEY digits=\"6000000097\"/><ROUTESET><PRIMARY_SWTR\nswitch=\"001\" trunk_group=\"01230\" /><ALTERNATE_SWTR switch=\"002\"\ntrunk_group=\"01230\" /><SECOND_ALTERNATE_SWTR switch=\"003\" trunk_group=\"01230\"\n/><CALLED_PARTY_ID digits=\"2145000097\" /><OVERFLOW digits=\"2145000097\"\n/><OUTPULSE><PRIMARY outpulse_type=\"outpulse_specific\"\nnature_of_number=\"national\" numbering_plan=\"isdn\" digits=\"22345\" /><ALTERNATE\noutpulse_type=\"outpulse_specific\" nature_of_number=\"national\"\nnumbering_plan=\"isdn\" digits=\"22346\" /><SECOND_ALTERNATE\noutpulse_type=\"outpulse_specific\" nature_of_number=\"national\"\nnumbering_plan=\"isdn\" digits=\"22347\"\n/></OUTPULSE></ROUTESET></TF_NUMBER></CREATE></PACKAGE>\n\n:: SEND_REQUEST SENT: 1159 BYTES. ::\n\n:: RCV_RESPONSE RECEIVED 591 CHARACTERS. ::\nHTTP/1.1 200 OK\nContent-Type: text/xml;charset=ISO-8859-1\nTransfer-Encoding: chunked\nDate: Thu, 19 Feb 2004 16:20:39 GMT\nServer: Apache-Coyote/1.1\n\n1a9\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<RESPONSE code=\"0000\" msg_corrid=\"100001\"\nsessionid=\"BBDD0E15CCD226082D7A1553AC854608\"><RESULT code=\"0000\"\ncomp_corrid=\"1000011\"><CREATE_RESULT PCkey_exist=\"Y\" code=\"0000\"\ncomp_id=\"1007809883\">Success</CREATE_RESULT><VALIDATE_RESULT code=\"0000\"\ncomp_id=\"1007809883\">Success</VALIDATE_RESULT><ACTIVATE_RESULT code=\"0000\"\ncomp_id=\"1007809883\">Success</ACTIVATE_RESULT></RESULT></RESPONSE>\n0\n\n\n:: SEND_REQUEST ::\nPOST /ProvOrder/Package HTTP/1.1\nDate: Thu, 19 Feb 2004 10:20:40 CST\nMIME-Version: 1.0\nUser-Agent: loadgen\nHost: sms5501:8080\nAccept-encoding: 7bit\nContent-type: text/xml\nContent-length: 957\n\n<?xml version='1.0'?><PACKAGE msg_corrid=\"100001\"\nsessionid=\"BBDD0E15CCD226082D7A1553AC854608\"><CREATE comp_corrid=\"1000011\"\nasyn_flag=\"Y\"><VALIDATE/><ACTIVATE/><TF_NUMBER contact_name=\"Mark Broihier\"\ncontact_number=\"9724779720\" customer_name=\"Customer #1\"\nprovider_name=\"SBC\"><TF_NUMBER_KEY digits=\"6000000098\"/><ROUTESET><PRIMARY_SWTR\nswitch=\"001\" trunk_group=\"01230\" /><ALTERNATE_SWTR switch=\"002\"\ntrunk_group=\"01230\" /><SECOND_ALTERNATE_SWTR switch=\"003\" trunk_group=\"01230\"\n/><CALLED_PARTY_ID digits=\"2145000098\" /><OVERFLOW digits=\"2145000098\"\n/><OUTPULSE><PRIMARY outpulse_type=\"outpulse_specific\"\nnature_of_number=\"national\" numbering_plan=\"isdn\" digits=\"22345\" /><ALTERNATE\noutpulse_type=\"outpulse_specific\" nature_of_number=\"national\"\nnumbering_plan=\"isdn\" digits=\"22346\" /><SECOND_ALTERNATE\noutpulse_type=\"outpulse_specific\" nature_of_number=\"national\"\nnumbering_plan=\"isdn\" digits=\"22347\"\n/></OUTPULSE></ROUTESET></TF_NUMBER></CREATE></PACKAGE>\n\n:: SEND_REQUEST SENT: 1159 BYTES. ::\n\n:: RCV_RESPONSE RECEIVED 570 CHARACTERS. ::\nHTTP/1.1 200 OK\nContent-Type: text/xml;charset=ISO-8859-1\nDate: Thu, 19 Feb 2004 16:20:47 GMT\nServer: Apache-Coyote/1.1\nConnection: close\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<RESPONSE code=\"0000\" msg_corrid=\"100001\"\nsessionid=\"BBDD0E15CCD226082D7A1553AC854608\"><RESULT code=\"0000\"\ncomp_corrid=\"1000011\"><CREATE_RESULT PCkey_exist=\"Y\" code=\"0000\"\ncomp_id=\"1007809887\">Success</CREATE_RESULT><VALIDATE_RESULT code=\"0000\"\ncomp_id=\"1007809887\">Success</VALIDATE_RESULT><ACTIVATE_RESULT code=\"0000\"\ncomp_id=\"1007809887\">Success</ACTIVATE_RESULT></RESULT></RESPONSE>\n"}, {"count": 3, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 52615, "time": "2004-02-19T21:17:40Z", "bug_id": 27093, "creation_time": "2004-02-19T21:17:40Z", "is_private": false, "text": "Ok, this seems normal then. Look at the maxKeepAliveRequests attribute on the\nconnector. It's 100 requests by default (and -1 for unlimited)."}, {"count": 4, "tags": [], "bug_id": 27093, "attachment_id": null, "id": 52620, "time": "2004-02-19T22:09:43Z", "creator": "yen.chang@alcatel.com", "creation_time": "2004-02-19T22:09:43Z", "is_private": false, "text": "Thanks. It works!  I hope this parameter could be documented in next release."}, {"count": 5, "tags": [], "text": "Changing state as this appears as open on the weekly report.", "is_private": false, "id": 84108, "creator": "markt@apache.org", "time": "2006-01-01T13:56:28Z", "bug_id": 27093, "creation_time": "2006-01-01T13:56:28Z", "attachment_id": null}]