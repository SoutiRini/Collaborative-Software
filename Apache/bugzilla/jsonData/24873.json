[{"count": 0, "tags": [], "bug_id": 24873, "attachment_id": null, "text": "It looks like ProxyPass is not passing some URLs with special characters.  I\nhaven't done an exhaustive search, but the following URI doesn't get passed\nthrough the proxy:\n/music/%2fmisc%2fmp3%2faha%2fhunting_high_and_low%2f01%20-%20take_on_me.mp3/cover.jpg\nHowever if I replace the instances of %2f with the '/' character the proxy\npasses the URL as it should.\n\nHere are the appropriate lines from my httpd.conf file:\n  <VirtualHost *:80>\n    ServerAdmin webmaster@lapseofthought.com\n    ServerName slimp3.lapseofthought.com\n    ServerAlias slimp3\n    ErrorLog /var/log/httpd/slimp3.lapseofthought.com/error_log\n    CustomLog /var/log/httpd/slimp3.lapseofthought.com/access_log common\n    ProxyPass /error/ !\n    ProxyPass / http://morpheus.lapseofthought.com:9000/\n    ProxyPassReverse / http://morpheus.lapseofthought.com:9000/\n  </VirtualHost>", "id": 47740, "time": "2003-11-20T23:48:09Z", "creator": "drich@employees.org", "creation_time": "2003-11-20T23:48:09Z", "is_private": false}, {"count": 1, "tags": [], "creator": "hudson@mbay.net", "attachment_id": null, "id": 55012, "time": "2004-04-01T02:10:04Z", "bug_id": 24873, "creation_time": "2004-04-01T02:10:04Z", "is_private": false, "text": "Observed with the '%' (%25) character specifically.  mod_proxy appears to be\ndecoding (some?) special characters before forwarding.  So, \"proxyserver\"\ndecodes %2525 to %25, resulting in a valid request to the final web server\n\"webserver\":\n\n$ curl http://webserver/proxytest/test%25file.txt\n<TT>This is a test of a file with a % (%25) character in it's name.</TT>\n\n$ curl http://proxyserver/proxytest/test%25file.txt\n<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n<html><head>\n<title>400 Bad Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser sent a request that this server could not understand.<br />\n</p>\n</body></html>\n\n$ curl http://proxyserver/proxytest/test%2525file.\n<TT>This is a test of a file with a % (0x25) character in it's name.</TT>\n\nNote that the space (%20) character does not need special treatment:\n$ curl http://proxyserver/proxytest/test%20file.txt\n<TT>This is a test of a file with a space (0x20) character in it's name.</TT>\n\nRelevant config entries:\nProxyRequests Off\n<Proxy *>\nOrder deny,allow\nAllow from all\n</Proxy>\nProxyPass /proxytest/ http://webserver/proxytest/\n"}, {"count": 2, "tags": [], "text": "This duplicates 15207, and is fixed by my pending patch (posted to dev@httpd for\nreview, and to be committed in a couple of days if noone objects).\n\n*** This bug has been marked as a duplicate of 15207 ***", "is_private": false, "bug_id": 24873, "id": 59920, "time": "2004-06-26T14:50:24Z", "creator": "nick@webthing.com", "creation_time": "2004-06-26T14:50:24Z", "attachment_id": null}]