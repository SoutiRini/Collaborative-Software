[{"count": 0, "tags": [], "bug_id": 24429, "attachment_id": null, "id": 46851, "time": "2003-11-05T12:04:11Z", "creator": "klaasvdploeg@hotmail.com", "creation_time": "2003-11-05T12:04:11Z", "is_private": false, "text": "All versions of java.org.apache.coyote.http11.Http11Protocol.setTimeout(int \ntimeouts) incorrectly multiply the timeout with 1000 when it is initially set. \nThis causes an invalid timeout being set on the SocketConnection when a first \nrequest is made on a new TcpConnection.\n\nNew code must be:\n\nsetTimeout(int timeouts) {\n        timeout = timeouts;\n        setAttribute(\"timeout\", \"\"+timeouts);\n}\n\nI think this surely has impact (but correct me if i'm wrong) when a DOS attack \nis being made, cause the timeout is simply way to large."}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 46852, "time": "2003-11-05T12:17:41Z", "bug_id": 24429, "creation_time": "2003-11-05T12:17:41Z", "is_private": false, "text": "No, there's a misunderstanding.\ntimeout is used for the \"upload\" timeout (ie, after the HTTP header is read),\nwhich is disabled by default anyway (it's used to allow large uploads over slow\nconnections, basically).\nsoTimeout is the useful parameter (configured on the connector by the\n\"connectionTimeout\" attribute), and does what you expect.\n\nDo you experience something bad, or is it just a wild guess on your part ?\n(please don't file bugs over wild guesses)"}, {"count": 2, "tags": [], "creator": "klaasvdploeg@hotmail.com", "attachment_id": null, "text": "Well, we do experience strange InputStream.read() timeouts (wait's ranging from \n10-100 seconds) when a request is firstly made on a connection, but it seems to \nbe related to our blackdown-1.4.1-beta jvm. We changed to sun 1.4.2_02 and it's \nok. Initially I thought that it was related to the upload timeout you mention.\n\nIt was more than a wild guess, but I see now that the process(input,output) \nmethod has been fixed (and thereby reducing the impact of timeout) in revision \n1.47.\n\nWill do better research next time.", "id": 46856, "time": "2003-11-05T12:37:51Z", "bug_id": 24429, "creation_time": "2003-11-05T12:37:51Z", "is_private": false}]