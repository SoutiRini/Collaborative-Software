[{"count": 0, "tags": [], "bug_id": 56255, "text": "Created attachment 31386\nconfig.log file on ./BUILD/apr-util-1.5.3/config.log\n\nI'm trying to build apr-util-1.5.3.tar.bz2 which I downloaded from your site.\n\nI'm getting the bellow error while building the RPM using rpmbuild -tb apr-util-1.5.3.tar.bz2 and I couldn't find a solution to resolve this from the internet. \n\n\nDistro: CentOS release 6.5 (Final)\n\nInstalled RPM version(s);\n\n[root@node1 test]# rpm -qa|grep -i apr\napr-1.5.0-1.x86_64\n\nI was able to build apr-1.5.0-1.tar.bz2 without any issues.\n\n\nCommand I tried: #rpmbuild -tb apr-util-1.5.3.tar.bz2\n\n\nError I'm getting:\n......>\n+ exit 0\nProvides: libtool(/usr/lib64/libaprutil-1.la) pkgconfig(apr-util-1) = 1.5.3\nRequires(rpmlib): rpmlib(CompressedFileNames) <= 3.0.4-1 rpmlib(FileDigests) <= 4.6.0-1 rpmlib(PayloadFilesHavePrefix) <= 4.0-1 rpmlib(VersionedDependencies) <= 3.0.3-1\nRequires: /bin/sh /usr/bin/perl /usr/bin/pkg-config libaprutil-1.so.0()(64bit) pkgconfig(apr-1)\nProcessing files: apr-util-dbm-1.5.3-1.x86_64\nProvides: apr_dbm_db-1.so()(64bit) libtool(/usr/lib64/apr-util-1/apr_dbm_db.la)\nRequires(rpmlib): rpmlib(CompressedFileNames) <= 3.0.4-1 rpmlib(FileDigests) <= 4.6.0-1 rpmlib(PayloadFilesHavePrefix) <= 4.0-1\nRequires: apr_dbm_db-1.so()(64bit) libc.so.6()(64bit) libc.so.6(GLIBC_2.2.5)(64bit) libdb-4.7.so()(64bit) libpthread.so.0()(64bit) rtld(GNU_HASH)\nProcessing files: apr-util-pgsql-1.5.3-1.x86_64\nerror: File not found by glob: /root/rpmbuild/BUILDROOT/apr-util-1.5.3-1.x86_64/usr/lib64/apr-util-1/apr_dbd_pgsql*\n\n\nRPM build errors:\n    File not found by glob: /root/rpmbuild/BUILDROOT/apr-util-1.5.3-1.x86_64/usr/lib64/apr-util-1/apr_dbd_pgsql*\n<......\n\n[root@node1 SOURCES]# arch\nx86_64\n\n\n[root@node1 SOURCES]# rpm -qa|grep -i apr\napr-1.5.0-1.x86_64\napr-devel-1.5.0-1.x86_64\n\n[root@node1 rpmbuild]# cd ./BUILD/apr-util-1.5.3/test/\n[root@node1 test]# ldd testall\n    linux-vdso.so.1 =>  (0x00007fffd9d6b000)\n    libaprutil-1.so.0 => /root/rpmbuild/BUILD/apr-util-1.5.3/.libs/libaprutil-1.so.0 (0x00007fde1601e000)\n    libexpat.so.1 => /lib64/libexpat.so.1 (0x00007fde15dec000)\n    libapr-1.so.0 => /usr/lib64/libapr-1.so.0 (0x00007fde15bb9000)\n    libuuid.so.1 => /lib64/libuuid.so.1 (0x00007fde159b5000)\n    librt.so.1 => /lib64/librt.so.1 (0x00007fde157ac000)\n    libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007fde15575000)\n    libpthread.so.0 => /lib64/libpthread.so.0 (0x00007fde15358000)\n    libldap-2.4.so.2 => /lib64/libldap-2.4.so.2 (0x00007fde1510a000)\n    liblber-2.4.so.2 => /lib64/liblber-2.4.so.2 (0x00007fde14efb000)\n    libc.so.6 => /lib64/libc.so.6 (0x00007fde14b67000)\n    /lib64/ld-linux-x86-64.so.2 (0x00007fde16247000)\n    libfreebl3.so => /lib64/libfreebl3.so (0x00007fde148ef000)\n    libresolv.so.2 => /lib64/libresolv.so.2 (0x00007fde146d5000)\n    libssl3.so => /usr/lib64/libssl3.so (0x00007fde14497000)\n    libsmime3.so => /usr/lib64/libsmime3.so (0x00007fde1426a000)\n    libnss3.so => /usr/lib64/libnss3.so (0x00007fde13f2c000)\n    libnssutil3.so => /usr/lib64/libnssutil3.so (0x00007fde13d00000)\n    libplds4.so => /lib64/libplds4.so (0x00007fde13afb000)\n    libplc4.so => /lib64/libplc4.so (0x00007fde138f6000)\n    libnspr4.so => /lib64/libnspr4.so (0x00007fde136b9000)\n    libsasl2.so.2 => /usr/lib64/libsasl2.so.2 (0x00007fde1349e000)\n    libdl.so.2 => /lib64/libdl.so.2 (0x00007fde1329a000)\n    libz.so.1 => /lib64/libz.so.1 (0x00007fde13083000)\n   \n[root@node1 test]# rpm -qf /usr/lib64/libapr-1.so.0\napr-1.5.0-1.x86_64\n\n[root@node1 test]# rpm -qa|grep -i apr\napr-1.5.0-1.x86_64\napr-devel-1.5.0-1.x86_64\n\n[root@node1 test]# ./testall\nteststrmatch        : SUCCESS\ntesturi             : SUCCESS\ntestuuid            : SUCCESS\ntestbuckets         : SUCCESS\ntestpass            : SUCCESS\ntestmd4             : SUCCESS\ntestmd5             : SUCCESS\ntestcrypto          : SUCCESS\ntestldap            : SUCCESS\ntestdbd             : FAILED 1 of 2\ntestdate            : SUCCESS\ntestmemcache        : SUCCESS\ntestxml             : SUCCESS\ntestxlate           : SUCCESS\ntestrmm             : SUCCESS\ntestdbm             : FAILED 1 of 2\ntestqueue           : SUCCESS\ntestreslist         : SUCCESS\nFailed Tests           Total    Fail    Failed %\n===================================================\ntestdbd                    2       1     50.00%\ntestdbm                    2       1     50.00%\n\n[root@node1 test]# pwd\n/root/rpmbuild/BUILD/apr-util-1.5.3/test\n\n[root@node1 test]# cat /etc/redhat-release\nCentOS release 6.5 (Final)", "id": 173787, "time": "2014-03-13T02:17:51Z", "creator": "widyachacra@gmail.com", "creation_time": "2014-03-13T02:17:51Z", "is_private": false, "attachment_id": 31386}, {"count": 1, "text": "Dear Devs,\n\nI guess I found the issue. But Sorry I didn't give you the completed details to reproduce this error. So, please kindly find the below steps for it;\n\nSteps to reproduce the error;\n\n1)\nInstall CentOS 6.5(Final) x86_64\n\n2)\nadd below repo;\n\n[pgdg93]\nname=PostgreSQL 9.3 $releasever - $basearch\nbaseurl=http://yum.postgresql.org/9.3/redhat/rhel-$releasever-$basearch\nenabled=1\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-PGDG-93\n\n\n3)\nInstall 'postgresql93-devel-9.3.3-1PGDG.rhel6.x86_64' from below repo but not the default 'postgresql-devel-8.4.20-1.el6_5.x86_64'\n\n4)\ndownload the latest apr & apr-utils from 'http://apr.apache.org/download.cgi'\n\n5)\nInstalled all the required dependancies to compile these sources(apr,apr-utils)\n\n6)\nlogin from root\n\n7)\ncd ~/\nmkdir -p {BUILD,BUILDROOT,RPMS,SOURCES,SPECS,SRPMS}\n\n8)\ncopy downloaded sources(apr,apr-utils) to SOURCES\n\n9)\nrpmbuild -tb apr-1.5.0.tar.bz2\n\n***This should build without any issues***\n\n10)\nrpmbuild -tb apr-util-1.5.3.tar.bz2\n\n***sure you will end up with the above said error***\n\n---\n\nResolution;\n\n1)\nInstalled the default 'postgresql-devel' pacakge(postgresql-devel-8.4.20-1.el6_5.x86_64);\n\nyum install postgresql-devel\n\n2)\nrpmbuild -tb apr-util-1.5.3.tar.bz2\n\nnow everything will go smoothly.\n\nSo, I guess this 'apr-util-1.5.3.tar.bz2' package is not build with 'postgresql93-devel-9.3.3-1PGDG.rhel6.x86_64'", "bug_id": 56255, "attachment_id": null, "id": 173800, "time": "2014-03-13T15:43:40Z", "creator": "widyachacra@gmail.com", "creation_time": "2014-03-13T15:43:40Z", "tags": [], "is_private": false}]