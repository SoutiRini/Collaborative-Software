[{"count": 0, "tags": [], "bug_id": 1588, "attachment_id": null, "text": "Althought the flush attribute is optional for the jsp:include action, this \naction will not succeed unless it is present. The bug is in the \norg.apache.jasper.compiler.IncludeGenerator class. Below is a proposed solution:\n\n// ... other stuff above this\n\n    public IncludeGenerator(Mark start, Hashtable attrs, Hashtable param)\n        throws JasperException\n    {\n  /* removed this if  statement to avoid requiring both \n     \"page\" and \"flush\" attributes to be set\n\tif (attrs.size() != 2)\n\t    throw new CompileException(start,\n\t\t\t\t       Constants.getString\n(\"jsp.error.include.tag\"));\n*/\n\n        page = (String) attrs.get(\"page\");\n        if (page == null)\n\t    throw new CompileException(start,\n\t\t\t\t       Constants.getString\n(\"jsp.error.include.tag\"));\n\n        String flush = (String) attrs.get(\"flush\");\n  /* Remove this if statement to allow the \"flush\" attribute\n     to be omitted\n        if (flush == null)\n            throw new CompileException(start,\n\t\t\t\t       Constants.getString\n(\"jsp.error.include.noflush\"));\n\t\t\t\t       */\n\n        if (!flush.equals(\"true\"))\n            throw new CompileException(start,\n\t\t\t\t       Constants.getString\n(\"jsp.error.include.badflush\"));\n\n\n\tthis.params = param;\n\tisExpression = JspUtil.isExpression (page);\n    }\n\n// ... other stuff below this\n\nHope this helps!\n\nRyan", "id": 2188, "time": "2001-05-01T08:52:24Z", "creator": "ryan_breidenbach@hotmail.com", "creation_time": "2001-05-01T08:52:24Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 1588, "attachment_id": null, "id": 2329, "time": "2001-05-08T13:23:33Z", "creator": "Larry.Isaacs@sas.com", "creation_time": "2001-05-08T13:23:33Z", "is_private": false, "text": "All Tomcat 3.x's are required to implement the JSP 1.1 spec.  In JSP 1.1,\nthe flush attribute isn't optional and must be specified as \"true\", i.e. in\nSection 2.13.4.1 it states:\n\nflush     Mandatory boolean attribute. If the value is \u201ctrue\u201d, the buffer is\n          flushed. A \u201cfalse\u201d value is not valid in JSP 1.1.\n\nIn JSP 1.2, flush becomes optional and may be \"false\". It is Tomcat 4.0 that\nimplements the JSP 1.2 spec."}]