[{"count": 0, "tags": [], "bug_id": 61674, "attachment_id": null, "id": 201709, "time": "2017-10-27T07:07:11Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-10-27T07:07:11Z", "is_private": false, "text": "There is frequently the need in Load Testing for sharing something accross threads which might have been initialized in a setup Thread Group or by some Thread.\n\nCurrently JMeter has 2 ways to do it:\n\n- Properties but they are limited to String\n- Through Beanshell (which is deprecated) through bsh.shared\n\n\nA recent illustration of this is the Coverage Tests created for JMS, TCP and FTP.\nTo do it we had to use Beanshell.\n\nSo after discussion:\n- http://mail-archives.apache.org/mod_mbox/jmeter-dev/201710.mbox/%3CCAH9fUpY3jEb%3D_Oa-fuf-RFuSUz2Nop5ix7%2BnPzy-yVc7C47_JA%40mail.gmail.com%3E\n\nThis would be introduced this way:\n\n- any variable starting with \"global:\" is global\n- JMeterVariables class modification, which would delegate all variables with \"global:\" prefix into global thread-safe map.\n- The Map would be ConcurrentMap\n- It would be initialized/cleared in StandardJMeterEngine#run or JMeterContextService.startTest();\n\n\n\nSee dev discussion:"}, {"count": 1, "tags": [], "bug_id": 61674, "text": "This will affect any test which happens to use the global: prefix.\n\nMight be better to use a less likely prefix such as __G__\n\nIn any case if it is implemented the release notes need to make the change in behaviour very clear.", "id": 201717, "attachment_id": null, "creator": "sebb@apache.org", "creation_time": "2017-10-27T10:58:52Z", "time": "2017-10-27T10:58:52Z", "is_private": false}]