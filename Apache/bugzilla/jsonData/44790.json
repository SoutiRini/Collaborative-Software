[{"count": 0, "tags": [], "creator": "archie@dellroad.org", "attachment_id": null, "id": 115468, "time": "2008-04-09T11:52:09Z", "bug_id": 44790, "creation_time": "2008-04-09T11:52:09Z", "is_private": false, "text": "Possibly related to Bug #44731?\n\n$ cat > xx.xml\n<project name=\"foo\" default=\"foo\">\n  <target name=\"foo\">\n    <pathconvert property=\"janfu\" dirsep=\"/\">\n      <path location=\"${foobar}\"/>\n      <mapper type=\"unpackage\"/>\n    </pathconvert>\n    <echo message=\"janfu=${janfu}\"/>\n  </target>\n</project>\n\n$ ant -v -f xx.xml -Dfoobar=aa.bb.cc\nApache Ant version 1.7.0 compiled on September 22 2007\nBuildfile: xx.xml\nDetected Java version: 1.5 in: /usr/lib/jvm/java-1.5.0-sun-1.5.0_13-sr2/jre\nDetected OS: Linux\nparsing buildfile /home/archie/ivycore/trunk/xx.xml with URI = file:/home/archie/ivycore/trunk/xx.xml\nProject base dir set to: /home/archie/ivycore/trunk\nBuild sequence for target(s) `foo' is [foo]\nComplete build sequence is [foo, ]\n\nfoo:\n[antlib:org.apache.tools.ant] Could not load definitions from resource org/apache/tools/ant/antlib.xml. It could not be found.\n\nBUILD FAILED\n/home/archie/ivycore/trunk/xx.xml:3: java.lang.NullPointerException\n        at org.apache.tools.ant.types.Mapper.getImplementation(Mapper.java:233)\n        at org.apache.tools.ant.taskdefs.PathConvert.execute(PathConvert.java:342)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at org.apache.tools.ant.Target.execute(Target.java:357)\n        at org.apache.tools.ant.Target.performTasks(Target.java:385)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1298)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1181)\n        at org.apache.tools.ant.Main.runBuild(Main.java:698)\n        at org.apache.tools.ant.Main.startAnt(Main.java:199)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\nCaused by: java.lang.NullPointerException\n        at org.apache.tools.ant.util.GlobPatternMapper.setFrom(GlobPatternMapper.java:98)\n        at org.apache.tools.ant.types.Mapper.getImplementation(Mapper.java:226)\n        ... 18 more\n--- Nested Exception ---\njava.lang.NullPointerException\n        at org.apache.tools.ant.util.GlobPatternMapper.setFrom(GlobPatternMapper.java:98)\n        at org.apache.tools.ant.types.Mapper.getImplementation(Mapper.java:226)\n        at org.apache.tools.ant.taskdefs.PathConvert.execute(PathConvert.java:342)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at org.apache.tools.ant.Target.execute(Target.java:357)\n        at org.apache.tools.ant.Target.performTasks(Target.java:385)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1298)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1181)\n        at org.apache.tools.ant.Main.runBuild(Main.java:698)\n        at org.apache.tools.ant.Main.startAnt(Main.java:199)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\n\nTotal time: 1 second\n$"}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 119675, "time": "2008-08-11T04:14:13Z", "bug_id": 44790, "creation_time": "2008-08-11T04:14:13Z", "is_private": false, "text": "the underlaying reason is that from and to are in fact required attributes of the unpackage and package mappers, even though having them default to \"*\" would have been a reasonable choice.\n\nYou need to fix your build file.\n\nI'm going to remove the NPE and change it to a meaningful error message - and document that the attributes are required."}, {"count": 2, "tags": [], "text": "docchange and explicit guards in svn revision 684721", "is_private": false, "bug_id": 44790, "id": 119677, "time": "2008-08-11T04:41:03Z", "creator": "bodewig@apache.org", "creation_time": "2008-08-11T04:41:03Z", "attachment_id": null}]