[{"attachment_id": null, "tags": [], "creator": "walkerarts@hotmail.com", "text": "large files are corrupted when using:\n<a href=\"foo.file\">click to download</a>\n\nUse a CRC program to compare orig with downloaded.\n\nMy test: all on local machine - 2MB - 12MB files,\nnon-standard mime type file - in my tests a \".rec\" file.\n\nThe downloaded files are exactly the same byte-length, and\nare mostly similar - but some bits are altered.", "count": 0, "id": 7577, "time": "2001-11-06T01:03:25Z", "bug_id": 4668, "creation_time": "2001-11-06T01:03:25Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 4668, "attachment_id": null, "text": "Transfering large zips or exe files works for me.", "id": 7607, "time": "2001-11-06T09:26:05Z", "creator": "remm@apache.org", "creation_time": "2001-11-06T09:26:05Z", "is_private": false}, {"count": 2, "text": "I am having the same problem with not only large files, but the output from \njsps as well.  I inconsistently get junk mixed in with html.  I'm not sure if \nthis junk is present every time since ie is not very strict with html.  I \nnotice it when the junk shows up in the middle of javascript.  The junk \ncharacters is rarely, if ever, the same string, in the same place in the \noutput.  \nI started using apache instead of jakarta to handle large file requests, but i \ndon't know how to solve the html problem without either discarding java or \ntomcat.", "bug_id": 4668, "is_private": false, "id": 9261, "time": "2002-01-02T06:17:39Z", "creator": "benjamin_valentine@yahoo.com", "creation_time": "2002-01-02T06:17:39Z", "tags": [], "attachment_id": null}, {"count": 3, "text": "The default configuration works for me. If you're not using the default \nconfiguration, please indicate what OS and connector you're using.", "bug_id": 4668, "is_private": false, "id": 9262, "time": "2002-01-02T06:28:00Z", "creator": "remm@apache.org", "creation_time": "2002-01-02T06:28:00Z", "tags": [], "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 4668, "attachment_id": null, "text": "Didn't reopen the bug last time", "id": 9283, "time": "2002-01-02T11:17:26Z", "creator": "benjamin_valentine@yahoo.com", "creation_time": "2002-01-02T11:17:26Z", "is_private": false}, {"count": 5, "text": "As I stated before, I'm unable to do anything with that bug report without \nadditional information (which information I need is mentioned in my last \ncomment). I routinely use Tomcat to transfer very large files (about 200MB) \nwithout any problems.", "bug_id": 4668, "is_private": false, "id": 9285, "time": "2002-01-02T11:23:46Z", "creator": "remm@apache.org", "creation_time": "2002-01-02T11:23:46Z", "tags": [], "attachment_id": null}, {"count": 6, "tags": [], "creator": "benjamin_valentine@yahoo.com", "text": "Didn't notice that last entry, sorry about that.\n\nThe only change to the default configuration that I made was the port number.\nThe os is win2k.\n", "id": 9286, "time": "2002-01-02T11:38:44Z", "bug_id": 4668, "creation_time": "2002-01-02T11:38:44Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 4668, "is_private": false, "text": "Re-opening in an attempt to ensure that someone sees my last entry.", "id": 9320, "time": "2002-01-03T07:54:16Z", "creator": "benjamin_valentine@yahoo.com", "creation_time": "2002-01-03T07:54:16Z", "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 4668, "is_private": false, "text": "After spending two more months streaming MP3s from my Tomcat server, it *really*\ndoes work fine.\nOne thing which can cause trouble is if the MIME type of the file is incorrectly\nset.", "id": 9951, "time": "2002-01-27T01:40:20Z", "creator": "remm@apache.org", "creation_time": "2002-01-27T01:40:20Z", "attachment_id": null}, {"count": 9, "text": "Here are some more details:\n\nHere is the html that I am trying to use:\n<html>\n\t<body>\n\t\t<a href=\"test00.jpg\">test00.jpg</a>\n\t</body>\n</html>\n\n>> test00.jpg comes up, but it has lines through it and a green tint all over \nthe picture.\n\n>> Typing http://<publicly addressible ip>:8000/testWebApp/test00.jpg into the \nweb browser fails while typing http://localhost:8000/testWebApp/test00.jpg \nworks fine.\n\n>> Either url works with no problems on bea weblogic 6.0, 6.1 and apache http \nserver 1.3.\n\n>> I tried adding a type attribute to the anchor with a value of \"image/jpeg\" \nand saw no improvement\n\n>> The size of test00.jpg is 572kb\n\n>> Right now I am serving the picture files from the apache http server while \nusing jsp files to dynamically create pages with image links on them.\n\nany other suggestions?  I can send you any files that you may need to determine \nwhat the issue is.\n\nPlease let me know if there is anything else I can provide you with in order to \nget this resolved.\n", "bug_id": 4668, "is_private": false, "id": 10102, "time": "2002-01-31T04:31:37Z", "creator": "benjamin_valentine@yahoo.com", "creation_time": "2002-01-31T04:31:37Z", "tags": [], "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 4668, "attachment_id": null, "text": "This does work for me.", "id": 10804, "time": "2002-02-16T08:23:23Z", "creator": "remm@apache.org", "creation_time": "2002-02-16T08:23:23Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 4668, "attachment_id": null, "is_private": false, "id": 11964, "time": "2002-03-18T21:53:52Z", "creator": "yohan1701@hotmail.com", "creation_time": "2002-03-18T21:53:52Z", "text": "I am having the exact same problems as Ben reported. Its intermittent the \ngarbage characters will usually go away if refresh your browser. The images \nhave to be cleared from you cache so it can download a fresh copy. \n\nI am using tomcat 4 no configuration changes on NT 4.\nhttp://av-basesystems.dyn.dhs.org:9000/webmodule/image if you refresh this page \nabout 10 times pretty much guarenteed that on one instance the wierd characters \nwill show up."}, {"attachment_id": null, "tags": [], "creator": "remm@apache.org", "is_private": false, "count": 12, "id": 11966, "time": "2002-03-18T22:20:18Z", "bug_id": 4668, "creation_time": "2002-03-18T22:20:18Z", "text": "I tried it using a real user-agent (Mozilla) and your server does work fine even\nwhen doing lots of shift-refresh. I used to have some trouble IE 5.x when\nbrowsing the net; upgrade to IE 6 or Mozilla 0.99 (you won't regret it).\n(Unless you can give me hard cold facts, I'll close this bug as working for me;\nover my - long - use of TC as a file server, I didn't experience that problem\neven once)"}, {"count": 13, "tags": [], "bug_id": 4668, "is_private": false, "text": "thanks for looking at it. There must be something wrong with our network it \nworks fine when access the page from my computer at home. Very strange.", "id": 11998, "time": "2002-03-19T13:41:32Z", "creator": "yohan1701@hotmail.com", "creation_time": "2002-03-19T13:41:32Z", "attachment_id": null}, {"count": 14, "tags": [], "bug_id": 4668, "text": "After several more months looking at this bug I might have some more incite.\n\nI've noticed that the problem only occurs on the localhost machine running TC.\n\nAny downloads over the internet are fine.\n\nAlso - I have been getting frequent jsp and gif corruptions on my local \nmachine. I also very rarely get jsp/gif corruptions remotely.\n\nMy thought is that it could be a concurrency issue that only crops up when\nsending data too fast, as would be the case with a localhost.\n\nThe other thing that leads me to think that is the case, is that a few weeks \nago I upgraded my server to a much faster machine - and the jsp/gif \ncorruptions are more frequent.\n\nRemote:\nLinux 2.4.18 Mozilla .9.8\n\nLocal Machine (when I opened this bug):\nAthlon 1.2Ghz Win2000 TC 4.0.1 running as service. Explorer 5\n\nLocal Machine (now):\nAthlon XP 1.6Ghz WinXP TC 4.0.3 running as service. Explorer 6\n\nThe only unusual configuration I have is the oreilly jsp filter for\nfile uploading capabilities.\n\nHope this helps.\n-christian\n", "id": 12501, "time": "2002-03-29T20:23:23Z", "creator": "walkerarts@hotmail.com", "creation_time": "2002-03-29T20:23:23Z", "is_private": false, "attachment_id": null}, {"count": 15, "text": "I have a very fast computer also (Athlon XP 1700+), and I have never seen this\nhappen during the whole time I have been using Tomcat, including during load\ntesting, running test suites, or just casually using Tomcat to serve files.", "bug_id": 4668, "is_private": false, "id": 12519, "time": "2002-03-30T00:08:03Z", "creator": "remm@apache.org", "creation_time": "2002-03-30T00:08:03Z", "tags": [], "attachment_id": null}, {"count": 16, "tags": [], "bug_id": 4668, "text": "We have the very same problem...\nTomcat corrupts all types of files - big/small, images, html files, archives. \nThere is no difference. We used default configuaration. We tried the versions \nof Tomcat:\n1) JDK1.3 + Tomcat3;\n2) JDK1.3 + Tomcat4;\n3) JDK1.4 + Tomcat4.\nBoth standalone server and Apache+Tomcat. Server is Windows 2K.\nThe strange thing is that it corrupts downloads only on local network. \nDownloads from localhost and from remote network work fine.", "id": 12841, "time": "2002-04-05T07:06:58Z", "creator": "dan@texrus.com", "creation_time": "2002-04-05T07:06:58Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "hgomez@slib.fr", "is_private": false, "count": 17, "id": 12842, "time": "2002-04-05T07:10:36Z", "bug_id": 4668, "creation_time": "2002-04-05T07:10:36Z", "text": "Have you some proxy (like squid) somewhere on your networks ?\nWhat's your browser internet settings ?"}, {"attachment_id": null, "tags": [], "creator": "dan@texrus.com", "is_private": false, "count": 18, "id": 12843, "time": "2002-04-05T07:15:17Z", "bug_id": 4668, "creation_time": "2002-04-05T07:15:17Z", "text": "No proxy installed. Default browser settings. Tried IE 6.0 and Netscape 6.2."}, {"count": 19, "tags": [], "text": "I can provide bug screenshots if anyone interested...", "is_private": false, "id": 12844, "creator": "dan@texrus.com", "time": "2002-04-05T07:36:19Z", "bug_id": 4668, "creation_time": "2002-04-05T07:36:19Z", "attachment_id": null}, {"count": 20, "tags": [], "creator": "hgomez@slib.fr", "text": "Could you try to determine where the downloaded file is\nbroken, ie using a known file and checking the differences ?", "id": 12849, "time": "2002-04-05T11:48:06Z", "bug_id": 4668, "creation_time": "2002-04-05T11:48:06Z", "is_private": false, "attachment_id": null}, {"count": 21, "tags": [], "bug_id": 4668, "attachment_id": null, "is_private": false, "id": 12850, "time": "2002-04-05T13:12:39Z", "creator": "remm@apache.org", "creation_time": "2002-04-05T13:12:39Z", "text": "I am sorry, but Tomcat does not corrupt files. You clearly have some \nconfiguration problem on your network, or the files that you are trying to \nserve are already corrupted. If you need some help investigating this, please \nuse IRC or tomcat-user."}]