[{"count": 0, "tags": [], "creator": "dev@tomcat.apache.org", "attachment_id": null, "id": 241, "time": "2000-11-28T13:04:58Z", "bug_id": 264, "creation_time": "2000-11-28T13:04:58Z", "is_private": false, "text": "If a client does not send enough data as part of a post\r\n(the client was killed and closed the connection before\r\nsending all of the data), mod_jk gets into an infinite loop\r\nand uses up all of the cpu cycles.  We traced the problem\r\nto jk_ajp12_worker.c.  A patch to fix this problem is:\r\n\r\n--- jk_ajp12_worker.c.orig    Tue Oct 24 09:44:46 2000\r\n+++ jk_ajp12_worker.c Tue Oct 24 09:52:31 2000\r\n@@ -465,6 +465,11 @@\r\n                     return JK_FALSE;\r\n                 }\r\n                 jk_log(l, JK_LOG_DEBUG, \"ajpv12_handle_request, sent %d bytes\\n\", this_time);\r\n+            } else if (this_time == 0) {\r\n+             jk_log(l, JK_LOG_ERROR,\r\n+                     \"In ajpv12_handle_request, Error: short read. content length is %d, read %d\\n\",\r\n+                     s->content_length, so_far);\r\n+             return JK_FALSE;\r\n             }\r\n         }\r\n     }"}, {"count": 1, "tags": [], "text": "*** Bug 265 has been marked as a duplicate of this bug. ***", "is_private": false, "bug_id": 264, "id": 480, "time": "2001-02-01T13:47:34Z", "creator": "bjv@motive.com", "creation_time": "2001-02-01T13:47:34Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "bjv@motive.com", "attachment_id": null, "is_private": false, "id": 482, "time": "2001-02-01T13:50:05Z", "bug_id": 264, "creation_time": "2001-02-01T13:50:05Z", "text": "*** Bug 268 has been marked as a duplicate of this bug. ***"}, {"count": 3, "tags": [], "bug_id": 264, "attachment_id": null, "text": "*** Bug 462 has been marked as a duplicate of this bug. ***", "id": 484, "time": "2001-02-01T13:51:31Z", "creator": "bjv@motive.com", "creation_time": "2001-02-01T13:51:31Z", "is_private": false}]