[{"count": 0, "tags": [], "bug_id": 48048, "attachment_id": 24414, "text": "Created attachment 24414\nPatch\n\nPer the AFP GOCA specification at\nhttp://www.outputlinks.com/SpecialInterest/AFPColorConsortium/ibm_goca_ha3n1r01.pdf\n, the GBAR order should output two bytes: 0x68 (the order code) and a 1-byte\nset of bit flags.\n\nThe current FOP implementation interprets the specification in a\nleast-significant-bit fashion: bit 0 is the least-valued bit, and bit 1 is the\nnext-least-valued bit to the left. This makes the valid values (in hex) either\n0x01 or 0x03, and the constants are set to generate these values.\n\nHowever, according to the preface to the specification (page iv, or #6 in the\nPDF) , \"bits are specified with bit 0 meaning the most significant bit\".\n\nInterpreting the specification this way makes the valid values for the second\nbyte either 0x80 or 0xC0.\n\nThe attached patch updates the Graphics Begin Area code to use the proper\nconstant values.\n\nMany AFP viewers and printers ignore the bit field entirely, but those that\ninterpret it strictly reject FOP's generated AFP output.\n\nTo reproduce: Render an FO containing an SVG into AFP format; then examine the\noutput using an AFP interpreter or hex editor.", "id": 131360, "time": "2009-10-24T11:18:10Z", "creator": "dave@dwink.net", "creation_time": "2009-10-24T11:18:10Z", "is_private": false}, {"count": 1, "tags": [], "creator": "jeremias@apache.org", "text": "Thanks for spotting this and sending a patch! It is applied now: http://svn.apache.org/viewvc?rev=884129&view=rev", "id": 132311, "time": "2009-11-25T07:05:24Z", "bug_id": 48048, "creation_time": "2009-11-25T07:05:24Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "id": 156067, "time": "2012-04-01T06:56:28Z", "bug_id": 48048, "creation_time": "2012-04-01T06:56:28Z", "is_private": false, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed"}]