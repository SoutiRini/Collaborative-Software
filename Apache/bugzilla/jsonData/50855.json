[{"count": 0, "tags": [], "creator": "dorin.balaban@bnm.md", "attachment_id": null, "is_private": false, "id": 144680, "time": "2011-03-02T11:19:27Z", "bug_id": 50855, "creation_time": "2011-03-02T11:19:27Z", "text": "The description is the same as for the older bug 39255, except it is produced at\norg.apache.catalina.authenticator.AuthenticatorBase.register(AuthenticatorBase.java:688)\n\nPlease, see the following link \nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=39255\n\nThis bug has been fixed for Tomcat 5.5.16, but it looks to appear again in Tomcat 7.\n\nThis is the excerpt from AuthenticatorBase.java:\n   public void register(Request request, HttpServletResponse response,\n                            Principal principal, String authType,\n                            String username, String password) {\n\n       if (log.isDebugEnabled())\n            log.debug(\"Authenticated '\" + principal.getName() + \"' with type '\"\n                + authType + \"'\");\n\nIt is seen that there is no more condition to verify if principal is null.\n\nSpecifically, the NullPointerException is thrown when calling HttpServletRequest.logout method from a JSF managed bean. According to Java EE 6 documentation, the logout method establishes null as the value returned when getUserPrincipal, getRemoteUser, and getAuthType is called on the request. Hence, the exception thrown."}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 144769, "time": "2011-03-06T02:39:41Z", "bug_id": 50855, "creation_time": "2011-03-06T02:39:41Z", "is_private": false, "text": "Looks like this never got applied to 6.0.x (or 7.0.x)\n\nI have fixed 7.0.x (will be in 7.0.11 onwards) and proposed the fix for 6.0.x"}, {"count": 2, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 144913, "time": "2011-03-10T09:03:16Z", "bug_id": 50855, "creation_time": "2011-03-10T09:03:16Z", "is_private": false, "text": "This has been fixed in trunk and will be included in 6.0.33 onwards."}]