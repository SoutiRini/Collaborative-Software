[{"count": 0, "tags": [], "bug_id": 39911, "attachment_id": null, "id": 90636, "time": "2006-06-27T14:44:40Z", "creator": "alkinneer@hotmail.com", "creation_time": "2006-06-27T14:44:40Z", "is_private": false, "text": "The constructor for MethodGen:\n\npublic MethodGen(Method, String, ConstantPoolGen)\n\ndoes not properly initialize the max_stack and max_local variables from the\nMethod object. Thus the following sequence of actions will produce a\nnon-verifying class, even though it clearly shouldn't:\n\nClassGen cg = new ClassGen(javaClass);\nMethod m = cg.getMethodAt(0);\nMethodGen mg = new MethodGen(m, cg.getClassName(), cg.getConstantPool());\ncg.setMethodAt(mg.getMethod(), 0);\ncg.getJavaClass().dump(...);\n\nBug can be fixed by adding the following the constructor:\n\nCode c = m.getCode();\nmax_stack = c.getMaxStack();\nmax_locals = c.getMaxLocals();"}, {"count": 1, "tags": [], "creator": "alkinneer@hotmail.com", "attachment_id": null, "text": "Whoops, code confusion with a subclass.\n\n*Puts on dunce hat and sits in corner for 15 minutes*", "id": 92227, "time": "2006-08-15T15:07:11Z", "bug_id": 39911, "creation_time": "2006-08-15T15:07:11Z", "is_private": false}]