[{"count": 0, "tags": [], "creator": "jan.sievers@sap.com", "attachment_id": null, "text": "Hello,\nI'm using the ant 1.4.1 JProbe tasks with JProbe 4.0.1 on Windows2000.\nDue to the fact that the JProbe executables (e.g. jplauncher.exe) and dll's are \nnow in <jprobe.home>/bin and the jars are now in <jprobe.home>/lib, the tasks \ncan no longer find these executables. It is not possible to work around this \nbecause in the checkOptions() method, you check if coverage.jar is in the same \ndir as the executables, and this is no longer the case. This is valid for all \nthree JProbe tasks (jpcoverage, jpcovmerge, jpcovreport).\nAlso, the option \"-jp_paramfile\" of jpcovmerge.exe has changed its name to \"-\nparamfile\" :(\nAs far as I can see in the CVS, this problem is not yet fixed in the newest \nversion.\n\nBest regards, Jan", "id": 26987, "time": "2002-11-26T13:26:44Z", "bug_id": 14849, "creation_time": "2002-11-26T13:26:44Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 14849, "text": "OK, I've started to refactor the code (you can see the new CovBase class in CVS)\nto make it easier to deal with this.\n\nJust to ensure that I've understood things correrectly (I'll need you as guinea pig\nas I don't use JProbe myself):\n\nThe executables used to be jprobe.home/jplauncher, jprobe.home/jpcovmerge and\njprobe.home/jpcovreport and will now be jprobe.home/bin/jplauncher, \njprobe.home/bin/jpcovmerge and jprobe.home/bin/jpcovreport respectively.\n\nWhat used to be jprobe.home/coverage/coverage.jar is now \njprobe.home/lib/coverage/coverage.jar\n\nRight?", "count": 1, "id": 34324, "time": "2003-04-02T12:46:03Z", "creator": "bodewig@apache.org", "creation_time": "2003-04-02T12:46:03Z", "is_private": false}, {"count": 2, "tags": [], "creator": "jan.sievers@sap.com", "text": "as for the executables, you're right, they are now in <jprobe.home>/bin\n\ncoverage.jar is now in <jprobe.home>/lib/coverage.jar .\n\nBest regards,\nJan", "id": 34405, "time": "2003-04-03T08:20:45Z", "bug_id": 14849, "creation_time": "2003-04-03T08:20:45Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "OK, I've added another assumption, namely that the executables are .exe and not\n.bat or something else on Windows.\n\nCould you please either build the CVS HEAD version of Ant (or try nightly build\n2003-04-04) to confirm that it works for you now?\n\nI'll ask on the dev list to find people running older JProbe versions that I\nhaven't broken anything.", "id": 34407, "time": "2003-04-03T08:51:02Z", "bug_id": 14849, "creation_time": "2003-04-03T08:51:02Z", "is_private": false}, {"count": 4, "tags": [], "creator": "jan.sievers@sap.com", "text": "Hi Stefan,\nI built the ant_20030425102107.tar.gz nightly snapshot and tested all three \ntasks with JProbe 4.0.2.\n<jpcoverage/> and <jpcovreport/> seem OK.\n\nHowever, there is still a small bug in CovMerge.java :\n\nin createParamFile(), you put the \"tofile\" file into the temporary paramfile:\n\n// last file is the output snapshot\n            pw.println(getProject().resolveFile(tofile.getPath()));\n\nThe output file has to be the last argument on the command line (it's not \noptional) and cannot be put into the paramfile. Otherwise Jprobe will complain:\n\n[jpcovmerge] Missing arguments\n\n\nI paste the commandline help:\n\nC:\\Program Files\\JProbe Suite 4.0.2\\bin>jpcovmerge.exe\njpcovmerge [-v] [-paramfile=file] <snapshot file1> <file2> ... <output>\n\nMerge multiple snapshots:\n\n-paramfile=file         A file containing a list of files to be merged\n                        These files are inserted in the list at the point\n                        where the -paramfile option is located\n\n-v                      Verbose mode for displaying diagnostic information\n\nBest regards,\nJan", "id": 36115, "time": "2003-04-25T16:21:14Z", "bug_id": 14849, "creation_time": "2003-04-25T16:21:14Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 14849, "attachment_id": null, "id": 36214, "creation_time": "2003-04-28T10:10:22Z", "time": "2003-04-28T10:10:22Z", "creator": "bodewig@apache.org", "text": "OK, could you please try with the next snapshot?\n\nI hope JProbe 3.x can deal with the putput file being on the command line\nwhile the rest is in the parameter file.  Are you able to verify this?", "is_private": false}, {"count": 6, "tags": [], "creator": "jan.sievers@sap.com", "text": "Unfortunately, JProbe 4.0.2 is the only version I have available.\n\nJan", "id": 36279, "time": "2003-04-29T11:56:17Z", "bug_id": 14849, "creation_time": "2003-04-29T11:56:17Z", "is_private": false, "attachment_id": null}, {"text": "OK, I've committed a more defensive patch, could you please verify that things\nwork fir you with a nightly build of 2003-04-30 or later.", "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "count": 7, "id": 36287, "time": "2003-04-29T13:47:18Z", "bug_id": 14849, "creation_time": "2003-04-29T13:47:18Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 14849, "text": "Hi,\nI'm afraid there's another small bug with the \"paramfile\" parameter in CovBase:\n\n\n    protected String getParamFileArgument() {\n        return (!isJProbe4 ? \"-jp_\" : \"\") + \"paramfile=\";\n    }\n\nshould be:\n\n    protected String getParamFileArgument() {\n        return (\"-\" + (!isJProbe4 ? \"jp_\" : \"\") + \"paramfile=\";\n    }\n\nRegards, Jan\n", "count": 8, "id": 36690, "time": "2003-05-05T13:48:43Z", "creator": "jan.sievers@sap.com", "creation_time": "2003-05-05T13:48:43Z", "is_private": false}, {"count": 9, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "Thanks!\n\nHoped to be finally fixed in 2003-05-07.\n", "id": 36745, "time": "2003-05-06T13:03:17Z", "bug_id": 14849, "creation_time": "2003-05-06T13:03:17Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 14849, "text": "OK, all JProbe tasks work with JProbe 4.0.2 now.\n\nThanks, Jan", "count": 10, "id": 36825, "time": "2003-05-07T14:12:43Z", "creator": "jan.sievers@sap.com", "creation_time": "2003-05-07T14:12:43Z", "is_private": false}]