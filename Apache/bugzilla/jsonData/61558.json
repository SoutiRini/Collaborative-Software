[{"count": 0, "tags": [], "text": "Created attachment 35362\napache2ctl-t-V-M.txt\n\nHi,\nI have been struggling for quite some time now on a dedicated dev server with Apache \"sometimes\" crashing\nwhen the Apache service is started for the first time after a server boot, or when the Apache service is restarted.\n\nIt became claear after a while that it crashes at least once out of +- 25 times when I restart the Apache service (see below for the test script).\n\nApache recovers from it somehow. I \"think\" that an MPM worker child process crashes, and that main Apache process then starts another one, which always starts correctly.\n\nNow is a good time to report it because I would like to upgrade some production servers from Ubuntu 14.04.5 LTS trusty to Ubuntu Artful V17.10 in a few months time.\n\n* Environment:\n- O.S.: Ubuntu 17.04 Zesty (Desktop edition)\n- Ubuntu Package: apache2-bin:amd64/zesty 2.4.27-5.1+ubuntu17.04.1+deb.sury.org+1\n\n* Notes:\n- The Apache dbg packages have been installed. `apt --yes install apache2-dbg libapr1-dbg libaprutil1-dbg gdb`\n- This is a stable bare-metal server that is online 24x7 with no other problems.\n- I have removed the modules mod_security2 and mod_spamhaus, but it did not help.\n- No Apache sites are currently enabled, but it did not help.\n- I tried to reproduce it in a VM with a fresh install of Ubuntu Zesty and Apache 2.4.27 but then the crash never happens.\n\n* Reproducible test script \n#Bash\n#@doc The server will crash at least once every +-10 minutes when this script is running.\nwhile true\ndo\n    systemctl stop apache2; systemctl start apache2; journalctl --lines=50 --unit=apache2; sleep 10;\ndone\n\n\n* The crash details in the syslog varies as follows: \"error 4 in apache2\" or \"error 14 in libdl-2.24.so\".\n    Sep 22 11:44:04 s3black kernel: [36459.658587] apache2[12579]: segfault at 7f47d733a8c0 ip 0000559c2b73fdd4 sp 00007ffeaded5fd0 error 4 in apache2[559c2b703000+9e000]\n    Sep 22 11:44:04 s3black systemd[1]: apache2.service: Main process exited, code=dumped, status=11/SEGV\n    \n    Sep 22 11:48:06 s3black kernel: [36701.689499] apache2[14568]: segfault at 7f06524308c0 ip 00005578dc332dd4 sp 00007ffdd48f9210 error 4 in apache2[5578dc2f6000+9e000]\n    Sep 22 11:48:06 s3black systemd[1]: apache2.service: Main process exited, code=dumped, status=11/SEGV\n    \n    Sep 22 13:19:43 s3black kernel: [42198.677611] apache2[1417]: segfault at 7feb5dd26ad0 ip 00007feb5dd26ad0 sp 00007ffd97212488 error 14 in libdl-2.24.so[7feb607b0000+3000]\n    Sep 22 13:19:43 s3black systemd[1]: apache2.service: Main process exited, code=dumped, status=11/SEGV\n    \n    Sep 22 13:41:57 s3black kernel: [43532.685282] apache2[12965]: segfault at 7f3079b9dad0 ip 00007f3079b9dad0 sp 00007ffe3b47be88 error 14 in libdl-2.24.so[7f307c627000+3000]\n    \n    Sep 22 13:49:28 s3black kernel: [43983.678591] apache2[16930]: segfault at 7f0f0387d8c0 ip 000056527483fdd4 sp 00007ffd4282ba10 error 4 in apache2[565274803000+9e000]\n\n* Crash report script:\n#Bash\ncd /var/crash/\napport-retrace --rebuild-package-info --sandbox=system  _usr_sbin_apache2.0.crash\nrm --verbose -rf unpacked\napport-unpack _usr_sbin_apache2.0.crash unpacked\ncd unpacked\n# gdb: get info about the backtrace\necho \"thread apply all bt full\" | gdb /usr/sbin/apache2 CoreDump\n\n\n* The top of the thread stacktrace\n#0  0x00007feb5dd26ad0 in ?? ()\n#1  0x00005596bd360e0e in ap_run_mpm_query (query_code=query_code@entry=2, result=result@entry=0x7ffd972124ec, _rv=_rv@entry=0x7ffd972124c4) at mpm_common.c:97\n   92:                           (apr_pool_t * pchild, server_rec * s),\n   93:                           (pchild, s), OK, DECLINED)\n   94: AP_IMPLEMENT_HOOK_RUN_FIRST(int, mpm,\n   95:                             (apr_pool_t *pconf, apr_pool_t *plog, server_rec *s),\n   96:                             (pconf, plog, s), DECLINED)\n   97: AP_IMPLEMENT_HOOK_RUN_FIRST(int, mpm_query,\n   98:                             (int query_code, int *result, apr_status_t *_rv),\n   99:                             (query_code, result, _rv), DECLINED)\n  100: AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, mpm_register_timed_callback,\n  101:                             (apr_time_t t, ap_mpm_callback_fn_t *cbfn, void *baton),\n  102:                             (t, cbfn, baton), APR_ENOTIMPL)\n#2  0x00005596bd361b9e in ap_mpm_query (query_code=query_code@entry=2, result=result@entry=0x7ffd972124ec) at mpm_common.c:419\n  414: \n  415: AP_DECLARE(apr_status_t) ap_mpm_query(int query_code, int *result)\n  416: {\n  417:     apr_status_t rv;\n  418: \n  419:     if (ap_run_mpm_query(query_code, result, &rv) == DECLINED) {\n  420:         rv = APR_EGENERAL;\n  421:     }\n  422: \n  423:     return rv;\n  424: }\n\n\n* Attachments. I have collected as much info as possible.\n\nThanks for your help to find the cause of this crash. If you need more information then do not hesitate to ask.\n--\nRolf.", "is_private": false, "id": 201079, "creator": "pantaluna@outlook.com", "time": "2017-09-22T13:09:04Z", "bug_id": 61558, "creation_time": "2017-09-22T13:09:04Z", "attachment_id": 35362}, {"count": 1, "tags": [], "bug_id": 61558, "attachment_id": 35363, "id": 201080, "time": "2017-09-22T13:09:39Z", "creator": "pantaluna@outlook.com", "creation_time": "2017-09-22T13:09:39Z", "is_private": false, "text": "Created attachment 35363\napport.log"}, {"count": 2, "tags": [], "bug_id": 61558, "attachment_id": 35364, "text": "Created attachment 35364\napt-show-versions.txt", "id": 201081, "time": "2017-09-22T13:09:55Z", "creator": "pantaluna@outlook.com", "creation_time": "2017-09-22T13:09:55Z", "is_private": false}, {"count": 3, "tags": [], "text": "Created attachment 35365\nlsb_release.txt", "attachment_id": 35365, "bug_id": 61558, "id": 201082, "time": "2017-09-22T13:10:17Z", "creator": "pantaluna@outlook.com", "creation_time": "2017-09-22T13:10:17Z", "is_private": false}, {"count": 4, "tags": [], "text": "Created attachment 35366\nsyslog-filtered", "attachment_id": 35366, "id": 201083, "creator": "pantaluna@outlook.com", "time": "2017-09-22T13:10:33Z", "bug_id": 61558, "creation_time": "2017-09-22T13:10:33Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 61558, "attachment_id": 35367, "is_private": false, "id": 201084, "time": "2017-09-22T13:10:55Z", "creator": "pantaluna@outlook.com", "creation_time": "2017-09-22T13:10:55Z", "text": "Created attachment 35367\ngdb-output.txt"}, {"count": 6, "tags": [], "bug_id": 61558, "text": "Created attachment 35368\n_usr_sbin_apache2.0-without-coredump.crash.txt", "id": 201085, "time": "2017-09-22T13:11:13Z", "creator": "pantaluna@outlook.com", "creation_time": "2017-09-22T13:11:13Z", "is_private": false, "attachment_id": 35368}, {"count": 7, "tags": [], "text": "Created attachment 35369\nCoreDump", "attachment_id": 35369, "id": 201086, "creator": "pantaluna@outlook.com", "time": "2017-09-22T13:12:14Z", "bug_id": 61558, "creation_time": "2017-09-22T13:12:14Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 61558, "attachment_id": null, "id": 201099, "time": "2017-09-23T12:59:31Z", "creator": "pantaluna@outlook.com", "creation_time": "2017-09-23T12:59:31Z", "is_private": false, "text": "I would like to add that changing from mpm_worker to mpm_event did not fix it."}, {"count": 9, "tags": [], "text": "I reported that the crash occurs when restarting the Apache service.\n\nI would like to add more specifically that the crash occurs when stopping the Apache service (opposed to when starting the Apache service).\n\n````\nSep 23 12:25:53 s3black systemd[1]: Starting The Apache HTTP Server...\nSep 23 12:25:54 s3black systemd[1]: Started The Apache HTTP Server.\nSep 23 12:26:01 s3black systemd[1]: Stopping The Apache HTTP Server...\nSep 23 12:26:01 s3black kernel: [ 4356.696241] apache2[18681]: segfault at 7f6d1ccf8ad0 ip 00007f6d1ccf8ad0 sp 00007ffffd359ac8 error 14 in libdl-2.24.so[7f6d1f782000+3000]\nSep 23 12:26:01 s3black systemd[1]: apache2.service: Main process exited, code=dumped, status=11/SEGV\nSep 23 12:26:01 s3black systemd[1]: Stopped The Apache HTTP Server.\nSep 23 12:26:01 s3black systemd[1]: apache2.service: Unit entered failed state.\nSep 23 12:26:01 s3black systemd[1]: apache2.service: Failed with result 'core-dump'.\nSep 23 12:26:01 s3black systemd[1]: apparmor.service: Cannot add dependency job, ignoring: Unit apparmor.service is masked.\nSep 23 12:26:01 s3black systemd[1]: Starting The Apache HTTP Server...\nSep 23 12:26:02 s3black systemd[1]: Started The Apache HTTP Server.\nSep 23 12:26:09 s3black systemd[1]: Stopping The Apache HTTP Server...\nSep 23 12:26:09 s3black systemd[1]: Stopped The Apache HTTP Server.\n````", "is_private": false, "id": 201100, "creator": "pantaluna@outlook.com", "time": "2017-09-23T13:42:24Z", "bug_id": 61558, "creation_time": "2017-09-23T13:42:24Z", "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 61558, "attachment_id": 35372, "text": "Created attachment 35372\nMake ap_mpm_query() restart safe on unixes (for 2.4.x)\n\nIt's unclear to me whether the gdb output shows a double fault or not.\n\nOne fault is ap_mpm_query() called after the MPM is unloaded (which this patch addresses), but it looks like a first segfault was issued before (I may be confused by the signal handler in the stack trace though).\n\nAnyway, to clarify things, could you please try this patch?", "id": 201119, "time": "2017-09-25T11:08:53Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-09-25T11:08:53Z", "is_private": false}, {"count": 11, "tags": [], "text": "Thanks for the patch.\n\n1. I have installed (not built) Apache2 from the PPA https://launchpad.net/~ondrej/+archive/ubuntu/apache2/+packages \nwhich results in the Ubuntu Package: apache2-bin:amd64/zesty 2.4.27-5.1+ubuntu17.04.1+deb.sury.org+1 (read the attachments for more version info).\nAnd unfortunately I do not know how to rebuild the version from the PPA.\n\n2. Nonetheless I have rebuilt Apache v2.4.27 from source on another VMachine as described at http://httpd.apache.org/docs/current/install.html using the source download is at http://apache.belnet.be//httpd/httpd-2.4.27.tar.gz\n-> But the patch file does not match.\n-> Also I assume that the binary result will never be the same as the one in the PPA (configuration wise) so it would not result in a valid test binary.\n\nSorry for the trouble. How do you want to proceed? Do we have to contact the owner of the PPA for this?", "is_private": false, "id": 201128, "creator": "pantaluna@outlook.com", "time": "2017-09-25T16:12:11Z", "bug_id": 61558, "creation_time": "2017-09-25T16:12:11Z", "attachment_id": null}, {"count": 12, "tags": [], "text": "Yann Ylavic FYI I have created an issue in the Github repo of the PPA at https://github.com/oerdnj/deb.sury.org/issues/707\n\n We will continue over there for the moment.", "attachment_id": null, "id": 201129, "creator": "pantaluna@outlook.com", "time": "2017-09-25T17:44:10Z", "bug_id": 61558, "creation_time": "2017-09-25T17:44:10Z", "is_private": false}, {"count": 13, "tags": [], "bug_id": 61558, "attachment_id": 35375, "id": 201149, "time": "2017-09-27T12:14:28Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-09-27T12:14:28Z", "is_private": false, "text": "Created attachment 35375\nMake ap_mpm_query() restart safe on unixes (v2, for 2.4.x)\n\nThe previous version was not correct by using static initialization in ap_unixd_hook_mpm_query(), now replaced with pconf userdata.\n\nRegarding PPA (which I know very few about), looks like you could download the apache2 source package (\"apt-get source apache2\" ?), integrate the patch with the others (likely), and rebuild it (\"debuild -S\" ?). Just a hypothesis...\n\nI don't know which exact version of httpd the PPA is based on, but this patch applies cleanly to httpd 2.4.27 (and 2.4.28) sources provided by Apache, you could build from those at least."}, {"count": 14, "tags": [], "bug_id": 61558, "attachment_id": null, "id": 201150, "time": "2017-09-27T12:39:59Z", "creator": "jorton@redhat.com", "creation_time": "2017-09-27T12:39:59Z", "is_private": false, "text": "If the problem is that a registered mpm_query hook is a function in a now-unloaded DSO then I don't think that keeping a copy of the function pointer itself (not the function!) is going to help?\n\nIf we treat the root cause of the crash here as unrelated (looks like memory corruption with a crash in apr_pool_destroy?), then fixing the crash in logging during apr_destroy_and_exit_process() due to MPM cleanup should be fixable by calling apr_hook_deregister_all() at the start of that function?"}, {"count": 15, "tags": [], "text": "Sorry - I meant server/main.c:destroy_and_exit_process().", "attachment_id": null, "id": 201151, "creator": "jorton@redhat.com", "time": "2017-09-27T12:43:22Z", "bug_id": 61558, "creation_time": "2017-09-27T12:43:22Z", "is_private": false}, {"count": 16, "tags": [], "text": "(In reply to Joe Orton from comment #14)\n> If the problem is that a registered mpm_query hook is a function in a\n> now-unloaded DSO then I don't think that keeping a copy of the function\n> pointer itself (not the function!) is going to help?\n\nThe pointer is cleared (NULL) with pconf, after which ap_unixd_hook_mpm_query() will return DECLINED insteaf of calling the registered (and now unloaded) mpm function.\n\n> \n> If we treat the root cause of the crash here as unrelated (looks like memory\n> corruption with a crash in apr_pool_destroy?), then fixing the crash in\n> logging during apr_destroy_and_exit_process() due to MPM cleanup should be\n> fixable by calling apr_hook_deregister_all() at the start of that function?\n\nIt's unclear to me whether that's a double fault or not, likely yes.\nMaybe a MPM cleanup run while unloaded? Didn't find a potential one registered...\n\nEarly apr_hook_deregister_all() looks like a simpler (and wider) solution, but don't/can't we have legitimate cleanups (i.e. run in time and/or with no scope issue) that'd run hooks? If not, I'm all for this!", "attachment_id": null, "id": 201153, "creator": "ylavic.dev@gmail.com", "time": "2017-09-27T13:01:36Z", "bug_id": 61558, "creation_time": "2017-09-27T13:01:36Z", "is_private": false}, {"count": 17, "tags": [], "bug_id": 61558, "attachment_id": null, "id": 201155, "time": "2017-09-27T13:06:45Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-09-27T13:06:45Z", "is_private": false, "text": "(In reply to Yann Ylavic from comment #16)\n> \n> Early apr_hook_deregister_all() looks like a simpler (and wider) solution,\n> but don't/can't we have legitimate cleanups (i.e. run in time and/or with no\n> scope issue) that'd run hooks? If not, I'm all for this!\n\nOTOH we already do this when (re)starting before clearing pconf, so such cleanups are unlikely to have worked in the first place. So looks good to me."}, {"count": 18, "tags": [], "bug_id": 61558, "attachment_id": 35376, "id": 201156, "time": "2017-09-27T13:14:56Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-09-27T13:14:56Z", "is_private": false, "text": "Created attachment 35376\nDeregister hooks before exiting\n\nSimpler patch, per above comments."}, {"count": 19, "tags": [], "bug_id": 61558, "attachment_id": null, "id": 201157, "time": "2017-09-27T13:37:58Z", "creator": "jorton@redhat.com", "creation_time": "2017-09-27T13:37:58Z", "is_private": false, "text": "(In reply to Yann Ylavic from comment #16)\n> The pointer is cleared (NULL) with pconf, after which\n> ap_unixd_hook_mpm_query() will return DECLINED insteaf of calling the\n> registered (and now unloaded) mpm function.\n\nAh, I see.  Yes, that should work then too.\n\n> Early apr_hook_deregister_all() looks like a simpler (and wider) solution,\n> but don't/can't we have legitimate cleanups (i.e. run in time and/or with no\n> scope issue) that'd run hooks? If not, I'm all for this!\n\nSince we specifically tie hooks to the pconf lifetime it should be safe, perhaps correctly it should done as a registered cleanup."}, {"count": 20, "tags": [], "text": "(In reply to Yann Ylavic from comment #18)\n> Created attachment 35376 [details]\n> Deregister hooks before exiting\n> \n> Simpler patch, per above comments.\n\n+1 for trunk, +1 for 2.4.", "is_private": false, "id": 201158, "creator": "jorton@redhat.com", "time": "2017-09-27T13:38:19Z", "bug_id": 61558, "creation_time": "2017-09-27T13:38:19Z", "attachment_id": null}, {"count": 21, "tags": [], "bug_id": 61558, "attachment_id": null, "id": 201164, "time": "2017-09-27T16:30:03Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-09-27T16:30:03Z", "is_private": false, "text": "(In reply to Joe Orton from comment #20)\n> (In reply to Yann Ylavic from comment #18)\n> > Created attachment 35376 [details]\n> > Deregister hooks before exiting\n> > \n> > Simpler patch, per above comments.\n> \n> +1 for trunk, +1 for 2.4.\n\nCommitted the \"registered cleanup\" suggestion in r1809881."}, {"count": 22, "tags": [], "bug_id": 61558, "attachment_id": null, "id": 201175, "time": "2017-09-27T22:38:17Z", "creator": "pantaluna@outlook.com", "creation_time": "2017-09-27T22:38:17Z", "is_private": false, "text": "(In reply to Yann Ylavic from comment #18)\n> Created attachment 35376 [details]\n> Deregister hooks before exiting\n> \n> Simpler patch, per above comments.\nThanks!\n\nI have rebuild the PPA package(s) from source with the patch 35376, and did a quick redeploy & retest on the same server as before.\n\nThe apache2 binary still crashes; infrequently as before +- every 5 minutes in the test script. The stack trace is different than the original one.\n\nSee these attachments for more details:\n- test-patch-35376-syslog.txt\n- test-patch-35376-gdb.txt"}, {"count": 23, "tags": [], "creator": "pantaluna@outlook.com", "attachment_id": 35377, "text": "Created attachment 35377\ntest-patch-35376-syslog.txt", "id": 201176, "time": "2017-09-27T22:39:42Z", "bug_id": 61558, "creation_time": "2017-09-27T22:39:42Z", "is_private": false}, {"count": 24, "tags": [], "creator": "pantaluna@outlook.com", "is_private": false, "text": "Created attachment 35378\ntest-patch-35376-gdb.txt", "id": 201177, "time": "2017-09-27T22:40:05Z", "bug_id": 61558, "creation_time": "2017-09-27T22:40:05Z", "attachment_id": 35378}, {"count": 25, "tags": [], "text": "(In reply to Rolf from comment #24)\n> Created attachment 35378 [details]\n> test-patch-35376-gdb.txt\n\nLooks like the apr file data structure is already destroyed. This can happen in cases where the parent process crashes. I would leave that as is. If we still have the  apr file data structure we could log something sensible if not, well we are going to crash anyway.\n\nBut the root cause for your crash is something else anyway and the patches applied so far should only improve the handling of the original crash.", "attachment_id": null, "id": 201180, "creator": "rpluem@apache.org", "time": "2017-09-28T06:46:39Z", "bug_id": 61558, "creation_time": "2017-09-28T06:46:39Z", "is_private": false}, {"count": 26, "tags": [], "bug_id": 61558, "attachment_id": 35379, "is_private": false, "id": 201185, "time": "2017-09-28T11:22:59Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-09-28T11:22:59Z", "text": "Created attachment 35379\nSignals and hooks cleanup on exit (2.4.x)\n\nThis patch is r1809881 + r1809973 for 2.4.x (should apply to 2.4.27 too).\n\nattachment 35378 shows sig_term() called in apr_terminate(), too late (ap_pglobal is dead)...\nSo it adds some cleanups to restore signals and hooks where needed.\n\nNic, could you test this one please?"}, {"count": 27, "tags": [], "bug_id": 61558, "attachment_id": null, "id": 201186, "time": "2017-09-28T11:25:14Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-09-28T11:25:14Z", "is_private": false, "text": "(In reply to Yann Ylavic from comment #26)\n> \n> Nic, could you test this one please?\n\nI meant Rolf, really sorry (Nic reported another issue)."}, {"count": 28, "tags": [], "bug_id": 61558, "attachment_id": 35380, "id": 201187, "time": "2017-09-28T11:35:47Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-09-28T11:35:47Z", "is_private": false, "text": "Created attachment 35380\nSignals and hooks cleanup on exit (v2, 2.4.x)\n\nv1 missed r1809976, please use this v2."}, {"count": 29, "tags": [], "bug_id": 61558, "attachment_id": 35381, "id": 201188, "time": "2017-09-28T11:39:50Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-09-28T11:39:50Z", "is_private": false, "text": "Created attachment 35381\nSignals and hooks cleanup on exit (v3, 2.4.x)\n\nv2 had some unrelated changes."}, {"count": 30, "tags": [], "creator": "pantaluna@outlook.com", "attachment_id": null, "text": "(In reply to Yann Ylavic from comment #27)\n> (In reply to Yann Ylavic from comment #26)\n> > \n> > Nic, could you test this one please?\n> \n> I meant Rolf, really sorry (Nic reported another issue).\n\nThanks.\nI will apply the second patch. Do I have to keep the 1st patch applied as well? https://bz.apache.org/bugzilla/attachment.cgi?id=35376&action=diff", "id": 201193, "time": "2017-09-28T13:14:50Z", "bug_id": 61558, "creation_time": "2017-09-28T13:14:50Z", "is_private": false}, {"count": 31, "tags": [], "text": "(In reply to Rolf from comment #30)\n> \n> I will apply the second patch. Do I have to keep the 1st patch applied as\n> well? https://bz.apache.org/bugzilla/attachment.cgi?id=35376&action=diff\n\nNo, attachment 35381 is a replacement for all the previous patches, thanks!", "attachment_id": null, "bug_id": 61558, "id": 201195, "time": "2017-09-28T13:20:18Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-09-28T13:20:18Z", "is_private": false}, {"count": 32, "tags": [], "creator": "pantaluna@outlook.com", "is_private": false, "text": "(In reply to Yann Ylavic from comment #31)\n> (In reply to Rolf from comment #30)\n> > \n> No, attachment 35381 [details] is a replacement for all the previous\n> patches, thanks!\n\nGood news!\n\n1. The first test run of 2 hours using a stripped-down configuration of Apache is a success; no segfaults anymore :) The stripped-down configuration: no sites enabled, no  extra modules loaded such as mod_security mod_status mod_spamhaus etc.).\n\n2. The patch has already been released in the Apache PPA of ~ondrej https://launchpad.net/~ondrej/+archive/ubuntu/apache2/+packages 2.4.27-6.1\n\n3. I will a) run extra test runs on Friday using a fully-configured Apache environment. b) monitor that the segfault no longer happens either when rebooting the O.S. (this was the 2nd part of the problem report: 1=segfault sometimes when restarting the Apache service 2=segfault sometimews when starting/rebooting the O.S.\n\nThanks for your time.", "id": 201209, "time": "2017-09-28T21:41:59Z", "bug_id": 61558, "creation_time": "2017-09-28T21:41:59Z", "attachment_id": null}, {"count": 33, "tags": [], "bug_id": 61558, "text": "Good news.\n\nThe extra tests (running 24h) passed with success. Thanks for the patch!", "id": 201285, "time": "2017-10-03T19:02:05Z", "creator": "pantaluna@outlook.com", "creation_time": "2017-10-03T19:02:05Z", "is_private": false, "attachment_id": null}, {"count": 34, "tags": [], "bug_id": 61558, "attachment_id": null, "is_private": false, "id": 201288, "time": "2017-10-03T20:24:21Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2017-10-03T20:24:21Z", "text": "Thanks Rolf for testing!\n\nLet's keep this PR opened until the patch is reviewed and backported to 2.4.x (which I'll propose shortly)."}, {"count": 35, "tags": [], "bug_id": 61558, "attachment_id": null, "id": 203585, "time": "2018-01-31T13:36:12Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2018-01-31T13:36:12Z", "is_private": false, "text": "Backported to 2.4.x (r1820794), will be in upcoming 2.4.30."}]