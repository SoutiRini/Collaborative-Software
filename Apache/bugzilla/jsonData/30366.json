[{"count": 0, "attachment_id": null, "bug_id": 30366, "text": "%OS% is WINNT instead of Windows_NT when logging in to a Win2k workstation using\nNovell authentication.", "id": 61233, "time": "2004-07-28T14:52:53Z", "creator": "brondsem@apache.org", "creation_time": "2004-07-28T14:52:53Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": 12254, "bug_id": 30366, "is_private": false, "id": 61234, "time": "2004-07-28T14:57:19Z", "creator": "brondsem@apache.org", "creation_time": "2004-07-28T14:57:19Z", "tags": [], "text": "Created attachment 12254\nwrapper scripts handle both Windows_NT and WINNT"}, {"count": 2, "attachment_id": null, "bug_id": 30366, "is_private": false, "id": 61249, "time": "2004-07-28T15:54:19Z", "creator": "mbenson@apache.org", "creation_time": "2004-07-28T15:54:19Z", "tags": [], "text": "Looks fine to me with this exception:\n\n rem Change drive and directory to %1\n-if \"%OS%\"==\"Windows_NT\" cd /d \"\"%1\"\"\n if not \"%OS%\"==\"Windows_NT\" cd \"\"%1\"\"\n+if \"%OS%\"==\"Windows_NT\" cd /d \"\"%1\"\"\n+if \"%OS%\"==\"WINNT\" cd /d \"\"%1\"\"\n shift\n\nDon't you think this should be more along the lines of:\n\n rem Change drive and directory to %1\n-if \"%OS%\"==\"Windows_NT\" cd /d \"\"%1\"\"\n-if not \"%OS%\"==\"Windows_NT\" cd \"\"%1\"\"\n+if \"%OS%\"==\"Windows_NT\" goto nt_cd\n+if \"%OS%\"==\"WINNT\" goto nt_cd\n+cd \"\"%1\"\"\n+goto end_cd\n+:nt_cd\n+cd /d \"\"%1\"\"\n+:end_cd\n shift\n\n-Matt"}, {"count": 3, "tags": [], "creator": "brondsem@apache.org", "text": "That should work also.  My patch works too, though: it'll do a 'cd' without /d\nand then do a 'cd' with /d later.  It doesn't matter to me which way we use.", "id": 61252, "time": "2004-07-28T16:07:30Z", "bug_id": 30366, "creation_time": "2004-07-28T16:07:30Z", "is_private": false, "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 30366, "text": "Fixed in CVS HEAD; thanks!", "id": 61269, "time": "2004-07-28T19:58:42Z", "creator": "mbenson@apache.org", "creation_time": "2004-07-28T19:58:42Z", "tags": [], "is_private": false}]