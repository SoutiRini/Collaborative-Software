[{"count": 0, "tags": [], "bug_id": 9752, "attachment_id": null, "id": 17515, "time": "2002-06-10T17:53:55Z", "creator": "dsnyder91@directvinternet.com", "creation_time": "2002-06-10T17:53:55Z", "is_private": false, "text": "I am not sure if this is a bug or an enhancement.  Within my context, I \nconsider it a bug.  Others, however, may consider it an enhancment.\n\nUsing PVCS Version Manager 6.8, I was able to pull based on revision number\nbut unable to pull source based on a promotion group.  I was able to solve this \nproblem by adding another property to the Pvcs task (config). Once the property \nis added, I modified the file to add the PVCS configuration file name to the \ncommand line executable.  \n\nThe XML element for this change is as follows:\n\n<pvcs repository=\"${pvcs.repository}\" promotiongroup=\"${promotion.group}\" \nconfig=\"${pvcs.cfg}\" pvcsproject=\"${pvcs.project}\" force=\"yes\" \npvcsbin=\"${pvcs.bin}\" ignorereturncode=\"true\"/>\n\nI have the source available if the committer would like to see or use it."}, {"count": 1, "tags": [], "text": "Possibly a bug -- are you using a different location for your config file than\nthe project default?  We don't use promotion groups here so I'd be unable to\ntest it, however the config property could be generally useful.  A couple of\npieces of information could help things move smoothly -- the full set of\ntargets/properties for your PVCS usage, and the output from running the\nunpatched ant -verbose.", "is_private": false, "bug_id": 9752, "id": 17518, "time": "2002-06-10T18:47:50Z", "creator": "snewton@io.com", "creation_time": "2002-06-10T18:47:50Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 9752, "attachment_id": null, "is_private": false, "id": 17526, "time": "2002-06-10T20:34:16Z", "creator": "dsnyder91@directvinternet.com", "creation_time": "2002-06-10T20:34:16Z", "text": "We are using a the default location for the configuration file.  Our project \narchive is located at P:\\QUICKcheck archive and the configuration file, \ncp9zoqj1.cfg, defaults to that location.\n\nThe following text is taken from our build.xml file and represents our PVCS \nusage:\n\n<!-- Additional tasks available -->\n  <taskdef name=\"copytree\" classname=\"com.kyrus.tools.ant.taskdefs.Copytree\"/>\n                                 \n<!-- PVCS properties -->\n  <property name=\"promotion.group\" value=\"Dev1.2\"/>  \n  <property name=\"pvcs.repository\" value=\"P:\\QUICKcheck archive\"/>\n  <property name=\"pvcs.project\" value=\"/Version 1.2.x\"/>\n  <property name=\"pvcs.bin\" value=\"C:\\Program Files\\pvcs\\Vm\\Win32\\Bin\\\"/>\n  <property name=\"pvcs.cfg\" value=\"${pvcs.repository}/cp9zoqj1.cfg\"/>\n  \n<!-- Source tree properties -->\n  <property name=\"quickcheck.home\" value=\"D:/pvcs/Version 1.2.x\"/>\n  <property name=\"src.dir\" value=\"${quickcheck.home}/src\"/>\n  <property name=\"build.dir\" value=\"${quickcheck.home}/classes\"/>  \n  <property name=\"dist.dir\" value=\"${quickcheck.home}/dist\"/>\n  <property name=\"javadoc.dir\" value=\"${quickcheck.home}/javadoc\"/>\n\n<!-- initialize build process -->  \n<target name=\"init\" depends=\"allclean\">\n  <mkdir dir=\"${src.dir}\"/>    \n  <mkdir dir=\"${build.dir}\"/>\n  <mkdir dir=\"${dist.dir}\"/>\n  <mkdir dir=\"${javadoc.dir}\"/>\n  <copytree srcdir=\"${pvcs.repository}${pvcs.project}\" destdir=\"${src.dir}\" \npackage=\"audio\"/>\n  <copytree srcdir=\"${pvcs.repository}${pvcs.project}\" destdir=\"${src.dir}\" \npackage=\"aws\"/>\n  <copytree srcdir=\"${pvcs.repository}${pvcs.project}\" destdir=\"${src.dir}\" \npackage=\"com\"/>    \n  <copytree srcdir=\"${pvcs.repository}${pvcs.project}\" destdir=\"${src.dir}\" \npackage=\"cws\"/>\n  <copytree srcdir=\"${pvcs.repository}${pvcs.project}\" destdir=\"${src.dir}\" \npackage=\"dlls\"/>\n  <copytree srcdir=\"${pvcs.repository}${pvcs.project}\" destdir=\"${src.dir}\" \npackage=\"docs\"/>\n  <copytree srcdir=\"${pvcs.repository}${pvcs.project}\" destdir=\"${src.dir}\" \npackage=\"images\"/>\n  <copytree srcdir=\"${pvcs.repository}${pvcs.project}\" destdir=\"${src.dir}\" \npackage=\"msds\"/>\n</target>\n  \n<!-- Checkout QUICKcheck project from PVCS -->\n<target name=\"checkout\" depends=\"init\">        \n  <echo message=\"Checking out files for promotion group ${promotion.group}\"/>\n  <pvcs repository=\"${pvcs.repository}\" promotiongroup=\"${promotion.group}\" \nconfig=\"${pvcs.cfg}\" pvcsproject=\"${pvcs.project}\" force=\"yes\" \npvcsbin=\"${pvcs.bin}\" ignorereturncode=\"true\"/>\n</target>\n\n<target name=\"allclean\">\n  <delete includeEmptyDirs=\"true\" failonerror=\"false\" quiet=\"true\">\n    <fileset dir=\"${quickcheck.home}\"/>\n  </delete>\n</target>\n\nThe following is the verbose output from running this script without the config \nproperty.  This is not the entire output because it is much to large, but I've \nprovided a good bit from each target....\n\n\nD:\\QUICKcheck\\v1.2.20\\src>build -verbose checkout\nAnt version 1.4.1 compiled on May 30 2002\nBuildfile: build.xml\nDetected Java version: 1.3 in: C:\\Program Files\\JavaSoft\\JRE\\1.3\nDetected OS: Windows NT\nparsing buildfile D:\\QUICKcheck\\v1.2.20\\src\\build.xml with URI = \nfile:D:/QUICKcheck/v1.2.20/src/build.xml\nProject base dir set to: D:\\QUICKcheck\\v1.2.20\\src\nBuild sequence for target `checkout' is [allclean, init, checkout]\nComplete build sequence is [allclean, init, checkout, clean, maintbuild, \nmaintcopy, maintjar, maintenance, comm, sco, compileon, compileoff, build, jar, \ndevelopment, javadoc, memoryjar, memorycheck, source, dist, production, doc]\n\nallclean:\n   [delete] Deleting D:\\pvcs\\Version 1.2.x\\src\\aws\\www\\servlets\n   [delete] Deleting D:\\pvcs\\Version 1.2.x\\src\\aws\\www\\root\n   [delete] Deleting D:\\pvcs\\Version 1.2.x\\src\\aws\\www\n   [delete] Deleting D:\\pvcs\\Version 1.2.x\\src\\aws\\etc\n   [delete] Deleting D:\\pvcs\\Version 1.2.x\\src\\aws\n   [delete] Deleting D:\\pvcs\\Version 1.2.x\\src\\audio\n   [delete] Deleting D:\\pvcs\\Version 1.2.x\\src\n   [delete] Deleting D:\\pvcs\\Version 1.2.x\\javadoc\n   [delete] Deleting D:\\pvcs\\Version 1.2.x\\dist\n   [delete] Deleting D:\\pvcs\\Version 1.2.x\\classes\n   [delete] Deleting D:\\pvcs\\Version 1.2.x\n   [delete] Deleted 11 directories from D:\\pvcs\\Version 1.2.x\n\ninit:\n    [mkdir] Created dir: D:\\pvcs\\Version 1.2.x\\src\n    [mkdir] Created dir: D:\\pvcs\\Version 1.2.x\\classes\n    [mkdir] Created dir: D:\\pvcs\\Version 1.2.x\\dist\n    [mkdir] Created dir: D:\\pvcs\\Version 1.2.x\\javadoc\n [copytree] Scanning for directories ...\n [copytree] Created dir: D:\\pvcs\\Version 1.2.x\\src\\audio\n [copytree] Scanning for directories ...\n [copytree] Created dir: D:\\pvcs\\Version 1.2.x\\src\\aws\n [copytree] Created dir: D:\\pvcs\\Version 1.2.x\\src\\aws\\etc\n [copytree] Created dir: D:\\pvcs\\Version 1.2.x\\src\\aws\\www\n [copytree] Created dir: D:\\pvcs\\Version 1.2.x\\src\\aws\\www\\root\n [copytree] Created dir: D:\\pvcs\\Version 1.2.x\\src\\aws\\www\\servlets\n\ncheckout:\n     [echo] Checking out files for promotion group Dev1.2\n     [pvcs] Executing \"C:\\Program Files\\pvcs\\Vm\\Win32\\Bin\\pcli\" lvf -z -aw \"-\nprP:\\QUICKcheck archive\" \"/Version 1.2.x\"\n     [pvcs] PVCS Version Manager (VMGUI) v6.8.00 (Build 128) for Windows \nNT/80x86\n     [pvcs] Copyright 1985-2001 MERANT.  All rights reserved.\n     [pvcs] Creating folders\n     [pvcs] Considering \"\"P:\\QUICKcheck archive\\Version \n1.2.x\\AddMemoryCheck.java-arc(D:\\pvcs\\Version 1.2.x\\src\\AddMemoryCheck.java)\"\"\n     [pvcs] Skipped \"\"P:\\QUICKcheck archive\\Version 1.2.x\\AddMemoryCheck.java-\narc(D:\\pvcs\\Version 1.2.x\\src\\AddMemoryCheck.java)\"\"\n     [pvcs] Considering \"\"P:\\QUICKcheck archive\\Version \n1.2.x\\Amz1100BillAcceptorDvc_i18n.properties-arc(D:\\pvcs\\Version \n1.2.x\\Amz1100BillAcceptorDvc_i18n.properties)\"\"\n     [pvcs] Skipped \"\"P:\\QUICKcheck archive\\Version \n1.2.x\\Amz1100BillAcceptorDvc_i18n.properties-arc(D:\\pvcs\\Version \n1.2.x\\Amz1100BillAcceptorDvc_i18n.properties)\"\"\n     [pvcs] Considering \"\"P:\\QUICKcheck archive\\Version 1.2.x\\ApplyXSL.java-arc\n(D:\\pvcs\\Version 1.2.x\\src\\ApplyXSL.java)\"\"\n     [pvcs] Skipped \"\"P:\\QUICKcheck archive\\Version 1.2.x\\ApplyXSL.java-arc\n(D:\\pvcs\\Version 1.2.x\\src\\ApplyXSL.java)\"\"\n     [pvcs] Considering \"\"P:\\QUICKcheck archive\\Version \n1.2.x\\ApplyXSLException.java-arc(D:\\pvcs\\Version \n1.2.x\\src\\ApplyXSLException.java)\"\"\n     [pvcs] Skipped \"\"P:\\QUICKcheck archive\\Version \n1.2.x\\ApplyXSLException.java-arc(D:\\pvcs\\Version \n1.2.x\\src\\ApplyXSLException.java)\"\"\n     [pvcs] Considering \"\"P:\\QUICKcheck archive\\Version \n1.2.x\\ApplyXSLListener.java-arc(D:\\pvcs\\Version \n1.2.x\\src\\ApplyXSLListener.java)\"\"\n     [pvcs] Skipped \"\"P:\\QUICKcheck archive\\Version 1.2.x\\ApplyXSLListener.java-\narc(D:\\pvcs\\Version 1.2.x\\src\\ApplyXSLListener.java)\"\"\n[pvcs] Getting files\n     [pvcs] Executing \"C:\\Program Files\\pvcs\\Vm\\Win32\\Bin\\get\" -Y -GDev1.2 \n@D:\\QUICKcheck\\v1.2.20\\src\\pvcs_ant_-3441599070341285144.log\n     [pvcs] PVCS Version Manager (get) v6.8.00 (Build 128) for Windows NT/80x86\n     [pvcs] Copyright 1985-2001 MERANT.  All rights reserved.\n     [pvcs] get: Group \"Dev1.2\" does not exist in promotion hierarchy.\n     [pvcs] get: Group \"Dev1.2\" does not exist in promotion hierarchy.\n     [pvcs] get: Group \"Dev1.2\" does not exist in promotion hierarchy.\n     [pvcs] get: Group \"Dev1.2\" does not exist in promotion hierarchy.\n     [pvcs] get: Group \"Dev1.2\" does not exist in promotion hierarchy.\n     [pvcs] get: Group \"Dev1.2\" does not exist in promotion hierarchy.\n     [pvcs] get: Group \"Dev1.2\" does not exist in promotion hierarchy.\n     [pvcs] get: Group \"Dev1.2\" does not exist in promotion hierarchy.\n     [pvcs] get: Group \"Dev1.2\" does not exist in promotion hierarchy.\n\n\n\n\n\n\n"}, {"count": 3, "tags": [], "bug_id": 9752, "attachment_id": 4531, "is_private": false, "id": 29993, "time": "2003-01-24T11:02:50Z", "creator": "dickinson.j@ucles.org.uk", "creation_time": "2003-01-24T11:02:50Z", "text": "Created attachment 4531\nPatch to the 24 Jan nightly build to allow a config attribute"}, {"count": 4, "tags": [], "creator": "levylambert@tiscali-dsl.de", "is_private": false, "id": 37983, "attachment_id": null, "bug_id": 9752, "creation_time": "2003-05-29T16:16:37Z", "time": "2003-05-29T16:16:37Z", "text": "Will work on this one in the next days. I hope someone will be able to test the \npatch."}, {"count": 5, "tags": [], "creator": "levylambert@tiscali-dsl.de", "attachment_id": null, "id": 38005, "creation_time": "2003-05-29T21:39:05Z", "time": "2003-05-29T21:39:05Z", "bug_id": 9752, "text": "Patch submitted, thanks.\nPlease download a nightly build and check whether it is all fine.", "is_private": false}]