[{"attachment_id": null, "tags": [], "creator": "trejkaz@trypticon.org", "text": "We were sent a WMF image which Batik's WMF painter paints as all black. It turns out it was a trivial WMF with just a single 4-bit bitmap in it. Batik doesn't support 4-bit bitmaps yet, but interestingly did not throw an error for the unsupported image either.", "count": 0, "id": 159204, "time": "2012-05-21T23:18:34Z", "bug_id": 53268, "creation_time": "2012-05-21T23:18:34Z", "is_private": false}, {"count": 1, "attachment_id": 28811, "creator": "trejkaz@trypticon.org", "is_private": false, "id": 159205, "time": "2012-05-21T23:22:25Z", "bug_id": 53268, "creation_time": "2012-05-21T23:22:25Z", "tags": [], "text": "Created attachment 28811\nproposed patch\n\nSomething I hacked together which works for the only sample we have been sent.\nShould be checked carefully. I think the padding maths is right (I checked for the example we got, and at the end of the loop, the offset is exactly equal to the length of the bit array.)"}]