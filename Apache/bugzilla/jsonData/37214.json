[{"attachment_id": null, "tags": [], "bug_id": 37214, "is_private": false, "count": 0, "id": 81598, "time": "2005-10-24T10:28:09Z", "creator": "juergen@jwi.de", "creation_time": "2005-10-24T10:28:09Z", "text": "I changed a html page, but apache still sends old content.\nLast-Modified ist correct, but content is definitely a previous version.\n\nI had updated from 1.3 to 2.0.55, formerly the problem was not there.\n\nThe file in unix is\n\n-rwxrw-r--   1 apache   staff          7824 Oct 24 10:22 fee.html\n\n(timezone is Berlin, GMT+2)\n\nthe header is\n\nHTTP/1.1 200 OK\nDate: Mon, 24 Oct 2005 08:22:11 GMT\nServer: Apache/2.0.55 (Unix) PHP/5.0.5 mod_jk/1.2.14\nLast-Modified: Mon, 24 Oct 2005 08:22:05 GMT\nETag: \"2118c5-1e90-b7e80540\"\nAccept-Ranges: bytes\nContent-Length: 7824\nKeep-Alive: timeout=15, max=100\nConnection: Keep-Alive\nContent-Type: text/html\n\n\nhttpd -l\nCompiled in modules:\n  core.c\n  mod_access.c\n  mod_auth.c\n  mod_include.c\n  mod_log_config.c\n  mod_env.c\n  mod_setenvif.c\n  mod_proxy.c\n  proxy_connect.c\n  proxy_ftp.c\n  proxy_http.c\n  prefork.c\n  http_core.c\n  mod_mime.c\n  mod_status.c\n  mod_autoindex.c\n  mod_asis.c\n  mod_cgi.c\n  mod_negotiation.c\n  mod_dir.c\n  mod_imap.c\n  mod_actions.c\n  mod_userdir.c\n  mod_alias.c\n  mod_so.c"}, {"attachment_id": null, "tags": [], "bug_id": 37214, "is_private": false, "count": 1, "id": 81608, "time": "2005-10-24T14:57:20Z", "creator": "trawick@apache.org", "creation_time": "2005-10-24T14:57:20Z", "text": "What OS?"}, {"count": 2, "tags": [], "bug_id": 37214, "attachment_id": null, "is_private": false, "id": 81638, "time": "2005-10-24T17:19:54Z", "creator": "juergen@jwi.de", "creation_time": "2005-10-24T17:19:54Z", "text": "(In reply to comment #1)\n> What OS?\n\nAIX 5.2 \ngcc version 3.3.2"}, {"count": 3, "attachment_id": null, "bug_id": 37214, "text": ">AIX\n\nYes, I thought so.  Apache 2.0 is sending the file via the send_file() system\ncall.  It gets added to the AIX network buffer cache.  Certain levels of AIX and\ncertain filesystems (sorry, it has been many moons since I had the raw data)\ndon't invalidate the network buffer cache entries when the file is updated.\n\nChoose at least one of the following:\n\n(a) add \"EnableSendfile off\" to httpd.conf\n(b) contact AIX support and find out what software levels you need to be at so\nthat NBC entries are invalidated when the file changes\n\nThis needs to be resolved in the OS (and I recall that fixes are available). \n\"EnableSendfile off\" is an Apache-provided work-around.\n", "id": 81642, "time": "2005-10-24T17:34:27Z", "creator": "trawick@apache.org", "creation_time": "2005-10-24T17:34:27Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 37214, "is_private": false, "count": 4, "id": 81687, "time": "2005-10-25T09:45:38Z", "creator": "juergen@jwi.de", "creation_time": "2005-10-25T09:45:38Z", "text": "Yes, EnableSendfile off fixed it. \n\nThanks very much."}]