[{"count": 0, "tags": [], "bug_id": 14558, "text": "The following snipit from my build file \n\n     <fail unless=\"public.target.called\">\n\n     This target is not available to the general public. For a list\n     of public targets use: ant targets\n\n     </fail>\n\nproduces the following output that has 4 newlines between the message and the\nTotal time for the build instead of the expected 2 that are included in the fail\ntask text. \n\n[gus@draco webjava]$ ~/projects/jakarta-ant/dist/bin/ant mkdir-release\nBuildfile: build.xml\n\ninit:\n\nBUILD FAILED\nfile:/home/gus/projects/cs101.org/2002/11/13/webjava/build.xml:10:\n\n     This target is not available to the general public. For a list\n     of public targets use: ant targets\n\n\n\nTotal time: 1 second\n[gus@draco webjava]$ ~/projects/jakarta-ant/dist/bin/ant -version\nApache Ant version 1.6alpha compiled on November 8 2002\n[gus@draco webjava]$\n\nSince it is cosmetic I havn't tried to diagnose the source of this or come up\nwith a patch yet (I may in the future), but I wanted to get the bug in here so\nit isn't forgotten. One of these 2 extra newlines is probably the standard\nincluded newline before the Time message, but the other is clearly spurious and\nshould be eliminated. With regards to the newline for the time mesage perhaps\nwhen the message is supplied this way a trailing newline should be eaten if it\nexists to make up for the time message newline. Since output other than the time\nmessage after a fail task fails is probably not an issue, this should be reasonable.", "id": 26290, "time": "2002-11-14T18:18:41Z", "creator": "gus.heck@olin.edu", "creation_time": "2002-11-14T18:18:41Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "stevel@apache.org", "attachment_id": null, "id": 26331, "time": "2002-11-15T01:54:30Z", "bug_id": 14558, "creation_time": "2002-11-15T01:54:30Z", "is_private": false, "text": "There are four newlines in the text element of this fail task, so that is what\nyou get. Try \n\n     <fail unless=\"public.target.called\">\n     This target is not available to the general public. For a list\n     of public targets use: ant targets\n     </fail>\nfor two, and\n\n     <fail unless=\"public.target.called\">This target is not available to the\ngeneral public. For a list\nof public targets use: ant targets</fail>\nfor none"}, {"count": 2, "tags": [], "text": "If you will examine my example output a little more closely, you will notice\nthat it has _7_ newlines in total, comparing to 5 total newlines within my fail\ntask. Did you test your counter example? this is what I get for your \"0 newline\"\nexample:\n\n[gus@draco webjava]$ ~/projects/jakarta-ant/dist/bin/ant mkdir-release\nBuildfile: build.xml\n\ninit:\n\nBUILD FAILED\nfile:/home/gus/projects/cs101.org/2002/11/13/webjava/build.xml:10: This target\nis not available to the general public. For a list of public targets use: ant\ntargets\n\nTotal time: 1 second\n\n**** Note the two newlines after the word targets. ****", "is_private": false, "id": 26394, "creator": "gus.heck@olin.edu", "time": "2002-11-15T15:11:29Z", "bug_id": 14558, "creation_time": "2002-11-15T15:11:29Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "conor@apache.org", "text": "This is just the normal formatting of Ant's default logger. A line is appended\nto the output to separate the error message (in this case the fail content) from\nthe Total Time line.\n\nIt is not a specific problem of the <fail> task.", "count": 3, "id": 30495, "time": "2003-02-02T11:27:03Z", "bug_id": 14558, "creation_time": "2003-02-02T11:27:03Z", "is_private": false}]