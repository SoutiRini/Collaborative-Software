[{"count": 0, "tags": [], "bug_id": 39617, "attachment_id": null, "is_private": false, "id": 89301, "time": "2006-05-19T16:04:53Z", "creator": "pascal_rapicault@ca.ibm.com", "creation_time": "2006-05-19T16:04:53Z", "text": "I have a script that create a tar file using the ant tar task, then another\nscript appends to the tar file but nothing gets appended to the file and I get a\nmessage saying \"nothing to do <archiveName> is up to date\".\n\nHere is an example of a script that exhibit the problem.\n<project default=\"name\">\n    <target name=\"name\" description=\"--> description\">\n    \t<tar destfile=\"d:/tmp/testOutputFormat/f.tar\" >\n    \t  <tarfileset file=\"d:/tmp/productBuild.zip\"\nfullpath=\"foo/productBuild.zip\" /> \n   \t  </tar>\n    \t<tar destfile=\"d:/tmp/testOutputFormat/f.tar\" >\n    \t  <tarfileset file=\"d:/tmp/test.psf\" fullpath=\"foo/test.psf\" /> \n   \t  </tar>\n    </target>\n\n</project>"}, {"count": 1, "tags": [], "bug_id": 39617, "is_private": false, "id": 89904, "creation_time": "2006-06-07T18:23:40Z", "time": "2006-06-07T18:23:40Z", "creator": "jkf@apache.org", "text": "Please note the tar task creates a tar file, it does not append to an existing\ntar file. The existing tar file is replaced instead.\nAs with all archive tasks in ant, the destination archive is not updated if it\nis known to be newer than all the resources to be included in the archive.\n\nprobably the following is what you try to achieve:\n\n<project default=\"name\">\n    <target name=\"name\" description=\"--> description\">\n    \t<tar destfile=\"d:/tmp/testOutputFormat/f.tar\" >\n    \t  <tarfileset file=\"d:/tmp/productBuild.zip\"\nfullpath=\"foo/productBuild.zip\" /> \n    \t  <tarfileset file=\"d:/tmp/test.psf\" fullpath=\"foo/test.psf\" /> \n   \t  </tar>\n    </target>\n\n</project>\n\nIf you really want to produce two diffent tar files with the same name, you will\n have to remove or rename the first tar file before trying to create the second one.", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 39617, "attachment_id": null, "text": "It seems to me that your 1st and 3rd sentences are contradicting each others. If\nthe 3rd one is true, then the tar task has a bug since it does not comply to the\nbehaviour described, which is the point of my bug. If the first one is true,\nthen your third sentence is a lie :)\n\nI think that if you are striving for consistency, then I should be able to\nappend to a Tar like I can do it to a zip with the zip task. This could be done\nby adding an \"append\" parameter to the task. \n\nAs for the workaround, it does not work in my case since the appendage to the\nzip file is done in a separate build script.", "id": 89910, "time": "2006-06-07T18:44:55Z", "creator": "pascal_rapicault@ca.ibm.com", "creation_time": "2006-06-07T18:44:55Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 39617, "is_private": false, "id": 96717, "creation_time": "2006-12-10T15:09:57Z", "time": "2006-12-10T15:09:57Z", "creator": "peterreilly@apache.org", "text": "Added clarifiation to tar manual page,\nchanging this to an enchancement request.", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 39617, "attachment_id": null, "text": "Setting mode=\"update\" in the compress antlib's tar task should do what is requested.", "id": 141041, "time": "2010-10-26T06:22:19Z", "creator": "bodewig@apache.org", "creation_time": "2010-10-26T06:22:19Z", "is_private": false}]