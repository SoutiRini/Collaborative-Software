[{"count": 0, "tags": [], "bug_id": 39869, "text": "apr_proc_create calls getenv(\"COMSPEC\") if the program name ends in \".bat\" or\n\".cmd\".  getenv (like any environment variables related method) is not supported\non WinCE and I don't think (but could be wrong) that there is any standard\ncommand shell on WinCE (or at least ones that take .bat or .cmd).\n\nThe attached patch eliminates (for WinCE) the special handling of program files\nending in \".bat\" or \".cmd\" and falls through to the general case. \nAlternatively, you could replace\n\n            char *shellcmd = getenv(\"COMSPEC\");\n\nwith\n\n#if defined(_WIN32_WCE)\n            char *shellcmd = NULL;\n#else\n            char *shellcmd = getenv(\"COMSPEC\");\n#endif\n\nHowever, if you ever passed in a \".bat\", you would get a message that \"COMSPEC\nenvar is not set\" instead of a hopefully more helpful message from the general\ncode path (hopefully something like not valid executable or file not found).", "id": 90499, "time": "2006-06-22T17:35:11Z", "creator": "carnold@apache.org", "creation_time": "2006-06-22T17:35:11Z", "is_private": false, "attachment_id": null}, {"count": 1, "text": "Created attachment 18507\nBypasses special handling of *'bat and *.cmd files in apr_proc_create", "bug_id": 39869, "attachment_id": 18507, "id": 90500, "time": "2006-06-22T17:37:00Z", "creator": "carnold@apache.org", "creation_time": "2006-06-22T17:37:00Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 39869, "attachment_id": null, "text": "Mass reassign the 44 open apr-bugs to apr bug list", "id": 93826, "time": "2006-09-19T19:54:35Z", "creator": "wrowe@apache.org", "creation_time": "2006-09-19T19:54:35Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 39869, "attachment_id": null, "text": "It compiles and builds fine on VS C++ 6.0", "id": 102636, "time": "2007-04-29T15:11:08Z", "creator": "davi@apache.org", "creation_time": "2007-04-29T15:11:08Z", "is_private": false}, {"count": 4, "tags": [], "creator": "wrowe@apache.org", "text": "Looks great - TY for the patch!  Nice solution.\n\nCommitted as 543324", "id": 103924, "time": "2007-05-31T17:01:39Z", "bug_id": 39869, "creation_time": "2007-05-31T17:01:39Z", "is_private": false, "attachment_id": null}]