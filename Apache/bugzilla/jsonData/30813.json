[{"count": 0, "tags": [], "bug_id": 30813, "attachment_id": null, "id": 62368, "time": "2004-08-24T01:03:07Z", "creator": "rickkw@yahoo.com", "creation_time": "2004-08-24T01:03:07Z", "is_private": false, "text": "Hi,\n\nI configured the Tomcat HTTP connector with URIEncoding=\"UTF-8\".  I have done\nvarious experiments and finally narrowed down the problem that the connector\ndoes not properly decode request parameters received from HTTP POST, while it\nworks correctly with HTTP GET.\n\nI have the following simple JSP page to illustrate this problem.\n\n\n<%@ page contentType=\"text/html;charset=UTF-8\" %>\n<html>\n<head>\n<title>Testing UTF-8</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n</head>\n<body>\n\nType in UNICODE characters in input field and click the Submit button.\n\n<h1>Testing UTF-8 using GET</h1>\n<form action=\"<%=request.getRequestURI()%>\" method=\"GET\">\n<input type=\"text\" name=\"data\" value='<%=request.getParameter(\"data\")%>'/>\n<input type=\"submit\" name=\"submit\" value=\"submit\"/>\n</form>\n\n<h1>Testing UTF-8 using POST</h1>\n<form action=\"<%=request.getRequestURI()%>\" method=\"POST\">\n<input type=\"text\" name=\"data\" value='<%=request.getParameter(\"data\")%>'/>\n<input type=\"submit\" name=\"submit\" value=\"submit\"/>\n</form>\n\n</body>\n</html>"}, {"count": 1, "tags": [], "creator": "william.barker@wilshire.com", "attachment_id": null, "text": "As the name suggests, the URIEncoding attribute tells Tomcat how to decode the \nURI (including the query string).  The POST message body is (and always has \nbeen) decoded with the characterEncoding of the ServletRequest.", "id": 62369, "time": "2004-08-24T01:49:13Z", "bug_id": 30813, "creation_time": "2004-08-24T01:49:13Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 30813, "attachment_id": null, "id": 62403, "time": "2004-08-24T14:20:37Z", "creator": "ms@docware.de", "creation_time": "2004-08-24T14:20:37Z", "is_private": false, "text": "Rather than letting Tomcat UTF-8-decode the request parameters, I suggest that \nyou UTF-decode any String received from getParameter() yourself. Than you have \na solution that a) works for GET and POST and b) is portable across other \nservlet containers.\n\nMichael"}, {"count": 3, "tags": [], "bug_id": 30813, "attachment_id": null, "id": 62424, "time": "2004-08-24T19:20:04Z", "creator": "rickkw@yahoo.com", "creation_time": "2004-08-24T19:20:04Z", "is_private": false, "text": "Alright.  Once I call \n\nhttpRequest.setCharacterEncoding(\"UTF-8\");\n\nin my Servlet filter, request parameters from HTTP POST are properly decoded. \nSorry about mis-reporting the problem."}]