[{"count": 0, "tags": [], "creator": "alexei@samara.net", "attachment_id": null, "is_private": false, "id": 25373, "time": "2002-10-30T14:04:44Z", "bug_id": 14090, "creation_time": "2002-10-30T14:04:44Z", "text": "I'm in the process of upgrading from Apache 1.3.27 to Apache 2.0.43 \nwith 'worker' scheme.  I've\nnoticed that if I specify a virtual host ErrorLog location, STDERR from my\nPerl CGI programs is still directed to the default server error log file.\nThe key parts of my httpd.conf appear as follows:\n\nServerRoot \"/opt/apache2\"\n\nErrorLog logs/error_log\n\nNameVirtualHost *\n\n<VirtualHost *>\nDocumentRoot /local/httpd/mmitest/htdocs\nServerName mmitest.mmi.frco.com\nServerAlias mmitest\nErrorLog /local/httpd/mmitest/logs/error_log\nTransferLog /local/httpd/mmitest/logs/access_log\nScriptAlias /cgi-bin/ /local/httpd/mmitest/cgi-bin/\n</VirtualHost>\n\nIf I access a cgi program on this virtual host that writes to STDERR, it\nwrites to the server default ErrorLog location\n(/opt/apache2/logs/error_log), not the ErrorLog location specified in the\nvirtual host (/local/httpd/mmitest/logs/error_log)."}, {"count": 1, "tags": [], "text": "Can you verify that you're using mod_cgid instead of mod_cgi?\n\nIt works for me with mod_cgi, fails as you describe for me with mod_cgid.\n\nThanks,\n\nJeff\n", "attachment_id": null, "bug_id": 14090, "id": 31164, "time": "2003-02-12T19:09:28Z", "creator": "trawick@apache.org", "creation_time": "2003-02-12T19:09:28Z", "is_private": false}, {"count": 2, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "text": "*** Bug 22672 has been marked as a duplicate of this bug. ***", "id": 45355, "time": "2003-10-10T13:10:34Z", "bug_id": 14090, "creation_time": "2003-10-10T13:10:34Z", "is_private": false}, {"count": 3, "tags": [], "text": "Bug still exist in 2.4.08", "is_private": false, "bug_id": 14090, "id": 47478, "time": "2003-11-17T07:53:08Z", "creator": "slash@en.com.sg", "creation_time": "2003-11-17T07:53:08Z", "attachment_id": null}, {"count": 4, "tags": [], "text": "Typo earlier on 2.0.48", "is_private": false, "id": 47479, "creation_time": "2003-11-17T07:54:17Z", "time": "2003-11-17T07:54:17Z", "creator": "slash@en.com.sg", "bug_id": 14090, "attachment_id": null}, {"count": 5, "tags": [], "creator": "chip@force-elite.com", "attachment_id": null, "id": 63689, "time": "2004-09-17T04:08:41Z", "bug_id": 14090, "creation_time": "2004-09-17T04:08:41Z", "is_private": false, "text": "*** Bug 15926 has been marked as a duplicate of this bug. ***"}, {"count": 6, "tags": [], "text": "What ??\n\nI dont know how my bug report got lumped into this one.\n\nMy report is about the contents of the ScriptLog....\n\nIf a cgi app emits to stderr....\naka \n\n\nputs stderr \"hello world\"\n\n\nMod_cgi's ScriptLog will catch that informations....\nwhile mod_cgisd's ScriptLog will not!!!!\n\nPlease fix!\n", "attachment_id": null, "bug_id": 14090, "id": 63706, "time": "2004-09-17T06:28:19Z", "creator": "pedietz@west.com", "creation_time": "2004-09-17T06:28:19Z", "is_private": false}, {"count": 7, "tags": [], "creator": "chip@force-elite.com", "attachment_id": null, "text": "To fix, they would both involve a refactoring of how mod_cgid does its loging.\nThat is why I marked them as a duplicate.", "id": 63707, "time": "2004-09-17T06:39:57Z", "bug_id": 14090, "creation_time": "2004-09-17T06:39:57Z", "is_private": false}, {"count": 8, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "is_private": false, "id": 77231, "time": "2005-07-12T21:44:23Z", "bug_id": 14090, "creation_time": "2005-07-12T21:44:23Z", "text": "*** Bug 35708 has been marked as a duplicate of this bug. ***"}, {"count": 9, "tags": [], "text": "*** Bug 38398 has been marked as a duplicate of this bug. ***", "attachment_id": null, "id": 86311, "creation_time": "2006-02-28T21:15:33Z", "time": "2006-02-28T21:15:33Z", "creator": "rpluem@apache.org", "bug_id": 14090, "is_private": false}, {"count": 10, "tags": [], "text": "Since comments #6 and #7 indicate general mod_cgid logging issues are being\nrecorded here, I have another one to add.  When writing to stderr and mod_cgi is\nused, the error log includes the usual information specified for the output\nformat (e.g. time stamp, client IP address) before the output from the script,\nbut when doing the same through mod_cgid, it does not seem to include this\ninformation, meaning the CGI stderr output is without a specific identifying\ncontext.  (This is with 2.0.55 on NetBSD 3.0/i386, mod_cgi with the prefork MPM\nand mod_cgid with the worker MPM.)\n\nSo with mod_cgi, we get (first row included for visual context):\n\n[Tue Feb 28 05:34:28 2006] [error] [client 192.168.1.5] mod_mime_magic: can't\nread `/usr/pkg/libexec/cgi-bin/errtest.cgi'\n[Tue Feb 28 05:34:28 2006] [error] [client 192.168.1.5] This should be going to\nthe Apache error log.\n\nAnd with mod_cgid, we get:\n\n[Tue Feb 28 06:09:36 2006] [error] [client 192.168.1.5] mod_mime_magic: can't\nread `/usr/pkg/libexec/cgi-bin/errtest.cgi'\nThis should be going to the Apache error log.\n\n", "attachment_id": null, "bug_id": 14090, "id": 86352, "time": "2006-03-01T19:42:22Z", "creator": "dhgutteridge@hotmail.com", "creation_time": "2006-03-01T19:42:22Z", "is_private": false}, {"count": 11, "tags": [], "creator": "dhgutteridge@hotmail.com", "attachment_id": null, "is_private": false, "id": 86547, "time": "2006-03-06T21:31:31Z", "bug_id": 14090, "creation_time": "2006-03-06T21:31:31Z", "text": "(Addendum to comment #10:) I've looked at the code for mod_cgid and see that the\nApache developers are aware of this, mod_cgid apparently doesn't have the\nrequisite information available to it."}, {"count": 12, "tags": [], "creator": "matrix@itlegion.ru", "attachment_id": null, "text": "I have just tested it on 2.2.6 and this bug is still present. Why is it marked\nas RESOLVED?\n\n\n", "id": 109400, "time": "2007-10-16T10:56:21Z", "bug_id": 14090, "creation_time": "2007-10-16T10:56:21Z", "is_private": false}, {"count": 13, "tags": [], "text": "(In reply to Artem Kuchin from comment #12)\n> I have just tested it on 2.2.6 and this bug is still present. Why is it\n> marked\n> as RESOLVED?\n\nI've just tested it with 2.4.7 and the bug is still present. \n\nBut there are a simple way to fix it: disable mpm_event, enable cgi, enable mpm_event, and it works.", "is_private": false, "id": 182910, "creation_time": "2015-05-10T08:03:36Z", "time": "2015-05-10T08:03:36Z", "creator": "info@huecker.com", "bug_id": 14090, "attachment_id": null}, {"count": 14, "tags": [], "text": "(In reply to Franz-Josef Huecker from comment #13)\n> \n> I've just tested it with 2.4.7 and the bug is still present. \n> \n> But there are a simple way to fix it: disable mpm_event, enable cgi, enable\n> mpm_event, and it works.\n\nSorry if this is a stupid question -- how exactly do you \"disable mpm_event, enable cgi, enable mpm_event\"?\n\nI thought we could deal with the main error logging, but since the mod_cgid error logging does not including timestamps, on a very busy web server that hosts multiple domains, it's proven to be 99.9999% useless so far.", "is_private": false, "bug_id": 14090, "id": 197751, "time": "2017-03-17T15:05:53Z", "creator": "wick@layer3.org", "creation_time": "2017-03-17T15:05:53Z", "attachment_id": null}, {"count": 15, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "is_private": false, "id": 197759, "time": "2017-03-17T18:20:22Z", "bug_id": 14090, "creation_time": "2017-03-17T18:20:22Z", "text": "(In reply to wick from comment #14)\n> (In reply to Franz-Josef Huecker from comment #13)\n> > \n> > I've just tested it with 2.4.7 and the bug is still present. \n> > \n> > But there are a simple way to fix it: disable mpm_event, enable cgi, enable\n> > mpm_event, and it works.\n> \n> Sorry if this is a stupid question -- how exactly do you \"disable mpm_event,\n> enable cgi, enable mpm_event\"?\n\nI think this refers to some specific packaging loophole that would result in mod_cgi being used w/ event MPM,  instead of mod_cgid which is normally used with all threaded MPMs like event."}]