[{"count": 0, "tags": [], "text": "When entering a directory that has symbolic links get the following exception\n(with and without allowLinking enabled).  Can fix this by checking \nchildCacheEntry.attributes for null, but the links are not followed when\nclicked. Have tried this only on Solaris (sparc) and Linux (x86), get the same\nresults.\n\n\nserver.xml:\n      <DefaultContext allowLinking=\"true\"\n                      caseSensitive=\"true\"\n                      crossContext=\"true\"\n                      reloadable=\"true\"/>\n\n\n\nSEVERE: Servlet.service() for servlet default threw exception\njava.lang.NullPointerException\n        at\norg.apache.catalina.servlets.DefaultServlet.renderHtml(DefaultServlet.java:1324)\n        at\norg.apache.catalina.servlets.DefaultServlet.render(DefaultServlet.java:1081)\n        at\norg.apache.catalina.servlets.DefaultServlet.serveResource(DefaultServlet.java:786)\n        at\norg.apache.catalina.servlets.DefaultServlet.doGet(DefaultServlet.java:323)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:526)\n        at\norg.apache.catalina.authenticator.SingleSignOn.invoke(SingleSignOn.java:365)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n        at\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:825)\n        at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:731)\n        at\norg.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:526)\n        at\norg.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n        at java.lang.Thread.run(Thread.java:595)", "is_private": false, "id": 69669, "creator": "balbir.sanghera@ntlworld.com", "time": "2005-01-14T11:19:35Z", "bug_id": 33095, "creation_time": "2005-01-14T11:19:35Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "tfohrer@t-online.de", "text": "\n\nSee http://jakarta.apache.org/tomcat/tomcat-5.5-doc/config/context.html\n\n DefaultContext in server.xml is no longer supported by tomcat.\n\ncu Fohrer", "id": 69671, "attachment_id": null, "bug_id": 33095, "creation_time": "2005-01-14T13:34:44Z", "time": "2005-01-14T13:34:44Z", "is_private": false}, {"count": 2, "tags": [], "creator": "balbir.sanghera@ntlworld.com", "text": "I have read the doc reference and have I've taken the DefaultContext out of the\nserver.xml and I still get the exception when I open a directory containing a\nsymbolic link.\n\n\n\n", "id": 69687, "time": "2005-01-14T15:38:53Z", "bug_id": 33095, "creation_time": "2005-01-14T15:38:53Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 33095, "attachment_id": null, "text": "BZ is not a support list.", "id": 69688, "time": "2005-01-14T15:41:13Z", "creator": "remm@apache.org", "creation_time": "2005-01-14T15:41:13Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 33095, "attachment_id": null, "id": 69691, "time": "2005-01-14T15:59:17Z", "creator": "balbir.sanghera@ntlworld.com", "creation_time": "2005-01-14T15:59:17Z", "is_private": false, "text": "Ok then,  why should a symbolic link in a directory cause the container to throw\nexception??, that's why I raised a bug.\n\nThe web app directory is:\n\nROOT/\n    | filea\n    | fileb\n    | tmp1/\n         | filef -> ../filea\n    | \n    | tmp2/\n         | dirc -> /opt/test/somedir\n\n\n1.  While I open the browser at \"/\" I get a directory listing\n2.  When I move the browser into tmp or tmp2 I get an exception (weather\nI have allowLinking enabled/disabled)\n\nbal.\n\n\n\n\n       \n"}, {"count": 5, "tags": [], "creator": "guym@arizona.edu", "is_private": false, "id": 71651, "attachment_id": null, "bug_id": 33095, "creation_time": "2005-03-01T01:32:47Z", "time": "2005-03-01T01:32:47Z", "text": "Verified this on Tomcat 5.5.7. Directory listing fails when a symbolic link is\npresent."}, {"count": 6, "tags": [], "bug_id": 33095, "attachment_id": null, "is_private": false, "id": 72750, "time": "2005-03-23T17:43:13Z", "creator": "yoavs@computer.org", "creation_time": "2005-03-23T17:43:13Z", "text": "Guy, are you getting the same exception stack trace, namely an NPE in line 1324\nof DefaultServlet, on 5.5.7?  Looking at the source code for DefaultServlet,\nthat line is sb.append where sb.append had been called a few times before in\nthat method, so an NPE there doesn't seem possible."}, {"count": 7, "text": "Please do not reopen an issue without providing further comment or data.", "bug_id": 33095, "is_private": false, "id": 74369, "time": "2005-05-03T16:06:48Z", "creator": "yoavs@computer.org", "creation_time": "2005-05-03T16:06:48Z", "tags": [], "attachment_id": null}]