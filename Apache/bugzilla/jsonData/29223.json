[{"count": 0, "tags": [], "bug_id": 29223, "is_private": false, "id": 58125, "attachment_id": null, "creator": "edgar@blue-moose.net", "creation_time": "2004-05-26T11:54:51Z", "time": "2004-05-26T11:54:51Z", "text": "One performance problem with dynamic web pages is selects, which repeat the \nsame set of options.  I am using this in my applications with great success and \nthought it might be a nice addition to struts.  I don't keep a buildable copy \nof struts so there would be a small amount of integration to apply this code so \nmy apologies in advance.\n\nThis can be used in apps with and without javascript but it would be up to the \nindividual programmer to keep flags around as to the status of javascript on \nhis clients.\n\nFirst we need a tag  [JavaScriptCollection] which takes a collection in any \nscope populated with label value pairs, and turn it into a javascript function \nto populate an html:select statement.  One enhancement to this would be to add \na label and value attribute so any collection could be used.  Additionally, in \nthis I have used a js search function [Struts_eval.js] which I include as a \nstandard bit of js but could be worked around, either in the emitted js or by \nsomeone who knows js better than I.  This has been used in both IE 5.0 and \nhigher and current releases of Mozilla.\n\nThe html:select needs an additional attribute jsPopulate, which emits the \nfollowing js:\n\n<script type=\"text/javascript\">[valueOf jsPopulate]\n('[property]','[value]');</script>\n\nAn example of the select tag utilizing the features above\n\n<jsp:useBean id=\"myCollection\" class=\"MyCollectionClass\"/>\n<bean:jsCollection id=\"myCollection\" function=\"getMyCollection\" />\n<html:select property=\"mySelectProp\" jsPopulate=\"getMyCollection\" />\n\nAgain, my apologies for not integrating this code into the existing tags.\n\nEdgar"}, {"count": 1, "tags": [], "bug_id": 29223, "attachment_id": 11675, "text": "Created attachment 11675\nTag to emit a collection as a JS Function", "id": 58126, "time": "2004-05-26T11:57:15Z", "creator": "edgar@blue-moose.net", "creation_time": "2004-05-26T11:57:15Z", "is_private": false}, {"count": 2, "tags": [], "creator": "edgar@blue-moose.net", "attachment_id": 11676, "id": 58127, "time": "2004-05-26T11:58:35Z", "bug_id": 29223, "creation_time": "2004-05-26T11:58:35Z", "is_private": false, "text": "Created attachment 11676\nJavascript to find a field in an html form."}, {"count": 3, "tags": [], "bug_id": 29223, "text": "Looks like this is suited for the Taglibs project.  It doesn't interact with\nStruts' core so there's no reason to limit its usage to Struts projects.", "id": 58131, "attachment_id": null, "creator": "dgraham@apache.org", "creation_time": "2004-05-26T13:13:24Z", "time": "2004-05-26T13:13:24Z", "is_private": false}, {"count": 4, "tags": [], "text": "Hi David,\n\nPlease, change the 'Assigned To:' field to taglibs-dev@jakarta.apache.org when\nyou re-assign us a bug, otherwise we won't be immediatly notified of the change.\n\n", "attachment_id": null, "id": 58815, "creator": "nagoya@felipeal.net", "time": "2004-06-06T14:35:42Z", "bug_id": 29223, "creation_time": "2004-06-06T14:35:42Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 29223, "text": "Hi Edgar,\n\nYou tag seems interesting, although it doesn't seems to fit on any of our\ncurrent taglibs (see the whole list at http://jakarta.apache.org/taglibs/).\nThat's not a really problem, as we could add it to the Unstandard taglib. But if\nwe do so, it would be better if you could replace the following classes by\nsomething similar on  other Apache components (like Jakarta Commons Lang),\notherwise it will be a little bit harder to build the component:\n\nnet.bmllc.utils.StringTools\nnet.sf.njmvcopensource.utils.LabelValue\n\nRegards,\n\nFelipe\n", "id": 58816, "time": "2004-06-06T14:40:40Z", "creator": "nagoya@felipeal.net", "creation_time": "2004-06-06T14:40:40Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 29223, "is_private": false, "id": 58831, "creation_time": "2004-06-07T12:24:24Z", "time": "2004-06-07T12:24:24Z", "creator": "edgar@blue-moose.net", "text": "Here is a version where I used the commons versions of my custom code.  They \nare probably better versions anyway.  I also allowed the label and value pairs \nto be named.\n\nOne thing I hope happens in Struts, is that the html:select tag adds the option \nto use this collection population script so that it can be really useful in \nStruts.\n\nEdgar", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 29223, "is_private": false, "id": 58832, "attachment_id": 11777, "creator": "edgar@blue-moose.net", "creation_time": "2004-06-07T12:25:31Z", "time": "2004-06-07T12:25:31Z", "text": "Created attachment 11777\nUpdated to use commons libraries."}, {"count": 8, "tags": [], "bug_id": 29223, "text": "IMHO, this particular case is too specialised. On the other hand, I think there \nis definitely room for a more general JavaScript-centric tag library that could \nultimately solve the same problem, and many more to boot.\n\nEssentially, what this is about is serialising Java collections to JavaScript \nsource code. While that may sound esoteric, it's actually something I'm deeply \ninvolved with at my \"day job\" right now. Anyone who has tried to build highly \ninteractive web apps can probably see where this is going, too...\n\nDespite the fact that I'm responding in Bugzilla, I think it would be better if \nwe take this discussion to the taglibs-dev list and brainstorm about what a \ncomprehensive JavaScript-focussed taglib might look like, as opposed to \nindividual special-purpose tags.", "id": 59085, "attachment_id": null, "creator": "martinc@apache.org", "creation_time": "2004-06-11T04:44:43Z", "time": "2004-06-11T04:44:43Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 29223, "text": "I am interested in exploiting the client server aspects of the browser so if I \ncan be of any help let me know.\n\nSome of the javascript enhancements things that are of interest to me are true \ncheckboxes with negative request parameters, true numeric input, javascript \nawareness of application security for functions and menus (w/o view \nspecification).  I would like to see struts tags with specific data formats and \nvalidator javascript (not server side validator), built into type specific tags.\n\nEdgar", "id": 59112, "time": "2004-06-11T15:10:20Z", "creator": "edgar@blue-moose.net", "creation_time": "2004-06-11T15:10:20Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 29223, "is_private": false, "id": 59116, "attachment_id": null, "creator": "nagoya@felipeal.net", "creation_time": "2004-06-11T16:37:19Z", "time": "2004-06-11T16:37:19Z", "text": "Martin/Edgar,\n\nWhat about proposing a new taglib for javascript support then?\n\nFelipe\n\nPS: I set this bug URL to the \"New project submission\" document"}, {"count": 11, "tags": [], "bug_id": 29223, "text": "2 years later - I think it's unlikely this is going to happen. Marking as WONTFIX.", "id": 95494, "attachment_id": null, "creator": "bayard@apache.org", "creation_time": "2006-11-06T13:03:24Z", "time": "2006-11-06T13:03:24Z", "is_private": false}]