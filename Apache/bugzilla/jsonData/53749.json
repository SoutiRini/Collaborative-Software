[{"count": 0, "tags": [], "bug_id": 53749, "text": "The TestListener interface includes the following method names\n\ntestStarted\ntestEnded\ntestIterationStart\n\nNow testIterationStart is rather different from testStarted/testEnded; it is called much more frequently, and is probably much less used.\n\nSo it might make more sense to split the interface into two super-interfaces.\n\nThis would allow classes to drop testIterationStart if they don't need it, and allow (for example) JMeterThread to only store references to code that actually needs to implement testIterationStart.", "id": 161548, "time": "2012-08-20T22:30:54Z", "creator": "sebb@apache.org", "creation_time": "2012-08-20T22:30:54Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Should we close this one ?", "id": 161605, "time": "2012-08-21T23:31:11Z", "bug_id": 53749, "creation_time": "2012-08-21T23:31:11Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 53749, "text": "(In reply to comment #1)\n> Should we close this one ?\n\nNo.\n\nI hit an initial problem, but I'm still hopeful it can be resolved.\n\nFor reference, the issue is:\n\nThe code that implements the interface behaviour currently only looks for TestListener. \nAll the code needs to be updated to look for the new interfaces instead; this involves quite a lot of classes. So far I have found:\n\nConvertListeners\nStandardJMeterEngine\nFunctionParser\nRemoteSamplerListenerImpl\nProxyControl\n\nThere may perhaps be some other processing I've yet to find.\n\nI created separate threadStart/threadEnded interfaces, as some classes only need one or the other, but then realised that makes the Remote classes tricky to update.\n\nAt that point I decided to revert the initial changes.\n\nFurther investigation shows that the Remote code does not support testIterationStart currently, which should make the implementation much easier.\n[It would be expensive in network bandwidth, but luckily none of the Remoteable classes need to use it]", "id": 161606, "time": "2012-08-22T00:05:12Z", "creator": "sebb@apache.org", "creation_time": "2012-08-22T00:05:12Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "text": "Just done a check. \n\nThere are about 40 implementations of testIterationStart, only 4 of which have any code; the rest are required because of the interface.\n\nOne of the real implementations - RemoteSampleListenerImpl.testIterationStart - is probably redundant anyway because TIS has not been implemented for client-server.", "attachment_id": null, "id": 161617, "creation_time": "2012-08-22T10:11:03Z", "time": "2012-08-22T10:11:03Z", "creator": "sebb@apache.org", "bug_id": 53749, "is_private": false}, {"count": 4, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "Fixed in SVN:\n\nURL: http://svn.apache.org/viewvc?rev=1376300&view=rev\nLog:\nTestListener interface could perhaps be split up.\nBugzilla Id: 53749\n\nAdded:\n    jmeter/trunk/src/core/org/apache/jmeter/testelement/TestIterationListener.java   (with props)\n    jmeter/trunk/src/core/org/apache/jmeter/testelement/TestListener.java\n      - copied, changed from r1375825, jmeter/trunk/src/core/org/apache/jmeter/testelement/TestListener.java\n    jmeter/trunk/src/core/org/apache/jmeter/testelement/TestStateListener.java   (with props)\nModified:\n    jmeter/trunk/src/components/org/apache/jmeter/config/KeystoreConfig.java\n    jmeter/trunk/src/components/org/apache/jmeter/control/ThroughputController.java\n    jmeter/trunk/src/components/org/apache/jmeter/timers/ConstantThroughputTimer.java\n    jmeter/trunk/src/components/org/apache/jmeter/timers/SyncTimer.java\n    jmeter/trunk/src/core/org/apache/jmeter/JMeter.java\n    jmeter/trunk/src/core/org/apache/jmeter/engine/ConvertListeners.java\n    jmeter/trunk/src/core/org/apache/jmeter/engine/StandardJMeterEngine.java\n    jmeter/trunk/src/core/org/apache/jmeter/engine/util/FunctionParser.java\n    jmeter/trunk/src/core/org/apache/jmeter/gui/MainFrame.java\n    jmeter/trunk/src/core/org/apache/jmeter/reporters/ResultCollector.java\n    jmeter/trunk/src/core/org/apache/jmeter/reporters/Summariser.java\n    jmeter/trunk/src/core/org/apache/jmeter/samplers/RemoteListenerWrapper.java\n    jmeter/trunk/src/core/org/apache/jmeter/samplers/RemoteSampleListenerImpl.java\n    jmeter/trunk/src/core/org/apache/jmeter/samplers/RemoteTestListenerWrapper.java\n    jmeter/trunk/src/core/org/apache/jmeter/testelement/TestPlan.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/JMeterThread.java\n    jmeter/trunk/src/core/org/apache/jmeter/util/BeanShellTestElement.java\n    jmeter/trunk/src/functions/org/apache/jmeter/functions/StringFromFile.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/control/CacheManager.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/control/CookieManager.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/modifier/ParamModifier.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/ProxyControl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSamplerBase.java\n    jmeter/trunk/src/protocol/java/org/apache/jmeter/protocol/java/sampler/JavaSampler.java\n    jmeter/trunk/src/protocol/jdbc/org/apache/jmeter/protocol/jdbc/AbstractJDBCTestElement.java\n    jmeter/trunk/src/protocol/jdbc/org/apache/jmeter/protocol/jdbc/config/DataSourceElement.java\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/JMSSampler.java\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/PublisherSampler.java\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/SubscriberSampler.java\n    jmeter/trunk/src/protocol/ldap/org/apache/jmeter/protocol/ldap/sampler/LDAPExtSampler.java\n    jmeter/trunk/src/reports/org/apache/jmeter/testelement/ReportPlan.java\n    jmeter/trunk/xdocs/changes.xml", "id": 161629, "time": "2012-08-22T22:58:57Z", "bug_id": 53749, "creation_time": "2012-08-22T22:58:57Z", "is_private": false}]