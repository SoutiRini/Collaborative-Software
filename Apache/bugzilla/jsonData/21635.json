[{"count": 0, "tags": [], "bug_id": 21635, "is_private": false, "text": "In attempting to use custom Ant tasks with Jaxb in then I was unable get the \ncorrect class loader in the task as method: (Call stack at the end)\n\npublic AntClassLoader(Project project, Path classpath,\n                      boolean parentFirst) \n{\n        this(null,project, classpath, parentFirst);\n}\n\ndoes not pass the classloader on to the next constructor.\n\nI changed the call to the following and rebuilt and this fixed my problem:\n\npublic AntClassLoader(Project project, Path classpath,\n                      boolean parentFirst) \n{\n    this(project.getCoreLoader(), project, classpath, parentFirst);\n}\n\n\nCall Stack:\nAntClassLoader.<init>(Project, Path, boolean) line: 340\nTaskdef(Definer).createLoader() line: 275\nTaskdef(Definer).execute() line: 151\nTaskdef(Task).perform() line: 341\nTarget.execute() line: 309\nTarget.performTasks() line: 336\nProject.executeTarget(String) line: 1339\nProject.executeTargets(Vector) line: 1255\n\n\n\nMaybe I am not using ant the way it was designed to be used?\n\nHope this is helpful, ant is the greatest!", "id": 40778, "time": "2003-07-16T02:45:25Z", "creator": "tseigne@lavastorm-engineering.com", "creation_time": "2003-07-16T02:45:25Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 21635, "attachment_id": null, "is_private": false, "id": 40900, "time": "2003-07-17T11:56:58Z", "creator": "conor@apache.org", "creation_time": "2003-07-17T11:56:58Z", "text": "If you pass null, AntClassLoader uses its own ClassLoader as the parent loader.\nThis should be the same as project.getCoreLoader(). Can you let me know what\nproblem you are having as I'm not sure why the ClassLoader change you suggest\nwould change anything.\n"}, {"count": 2, "tags": [], "text": "If you have called project.setCoreLoader(coreLoader) where coreLoader is not \nnull but a specific loader you wish to be the parent loader then this loader \nhowever will get discarded in the call outlined below.\n\n\nthis(null,project, classpath, parentFirst);\n\nWe are using Ant like a workflow engine inside an app-server and so we need \ncertain things that we have from the appservers classloader available in ant \nso I need to pass appservers classloader into ant I am doing this by setting \nit in the project.\n\nHope this helps a bit?\n\nTim", "is_private": false, "id": 40910, "creator": "tseigne@lavastorm-engineering.com", "time": "2003-07-17T17:28:11Z", "bug_id": 21635, "creation_time": "2003-07-17T17:28:11Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "See also bug #30161 which could be seen as a by-product of this.", "is_private": false, "id": 60723, "creator": "jglick@apache.org", "time": "2004-07-16T22:55:57Z", "bug_id": 21635, "creation_time": "2004-07-16T22:55:57Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 21635, "attachment_id": null, "is_private": false, "id": 93629, "time": "2006-09-15T14:32:01Z", "creator": "peterreilly@apache.org", "creation_time": "2006-09-15T14:32:01Z", "text": "One needs to do a small number of other things\nas well.\nI have opened a new bug specifically for coreloader\nand will make this a duplicate of that.\n\n\n*** This bug has been marked as a duplicate of 40522 ***"}]