[{"count": 0, "tags": [], "bug_id": 23912, "is_private": false, "text": "The method getBufferSize in AsyncAppender acquire the lock on the BoundedFIFO\nobject before invoking getMaxSize() on it.  In general, the BoundedFIFO class\nrequires that clients of the class acquire the lcok on the object before\ninvoking its methods.  The one exception is the method resize(), which is\nalready declared to be synchronized.  This mixing of conventions is confusing in\ngeneral.\n\nIn this case, there isn't any real damage that can be caused by this\nunsynchronized access to the BoundedFIFO object, but the access does appear to\nviolate the intended usage convention and thus can be cause further confusion\ndown the road.\n\nIn summary, change AsyncAppender.getBufferSize() to be:\n\n  public int getBufferSize() {\n    synchronized( bf ) {\n      return bf.getMaxSize();\n    }\n  }", "id": 45884, "time": "2003-10-18T17:44:44Z", "creator": "aarong@cs.cmu.edu", "creation_time": "2003-10-18T17:44:44Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Done -- thanks for pointing this out.", "is_private": false, "id": 68427, "creator": "yoavs@computer.org", "time": "2004-12-13T20:54:37Z", "bug_id": 23912, "creation_time": "2004-12-13T20:54:37Z", "attachment_id": null}]