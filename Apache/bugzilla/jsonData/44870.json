[{"count": 0, "tags": [], "bug_id": 44870, "attachment_id": null, "id": 115847, "time": "2008-04-24T11:28:35Z", "creator": "richard_hubbe11@yahoo.com", "creation_time": "2008-04-24T11:28:35Z", "is_private": false, "text": "I tried attaching strace but got nothing back so I attached gdb.\nUsing prefork mpm.  Don't know what else is significant here.\nPlease advise if more information is wanted.\n\nAttaching to process 5241\nReading symbols from /var/proxy-cache/bin/httpd...done.\nUsing host libthread_db library \"/lib/tls/libthread_db.so.1\".\nReading symbols from /lib/tls/libm.so.6...done.\nLoaded symbols for /lib/tls/libm.so.6\nReading symbols from /var/proxy-cache/lib/libaprutil-1.so.0...done.\nLoaded symbols for /var/proxy-cache/lib/libaprutil-1.so.0\nReading symbols from /usr/lib/libexpat.so.0...done.\nLoaded symbols for /usr/lib/libexpat.so.0\nReading symbols from /var/proxy-cache/lib/libapr-1.so.0...done.\nLoaded symbols for /var/proxy-cache/lib/libapr-1.so.0\nReading symbols from /lib/libuuid.so.1...done.\nLoaded symbols for /lib/libuuid.so.1\nReading symbols from /lib/tls/librt.so.1...done.\nLoaded symbols for /lib/tls/librt.so.1\nReading symbols from /lib/libcrypt.so.1...done.\nLoaded symbols for /lib/libcrypt.so.1\nReading symbols from /lib/tls/libpthread.so.0...done.\n[Thread debugging using libthread_db enabled]\n[New Thread -151463072 (LWP 5241)]\nLoaded symbols for /lib/tls/libpthread.so.0\nReading symbols from /lib/libdl.so.2...done.\nLoaded symbols for /lib/libdl.so.2\nReading symbols from /lib/tls/libc.so.6...done.\nLoaded symbols for /lib/tls/libc.so.6\nReading symbols from /lib/ld-linux.so.2...done.\nLoaded symbols for /lib/ld-linux.so.2\nReading symbols from /lib/libnss_files.so.2...done.\nLoaded symbols for /lib/libnss_files.so.2\nReading symbols from /lib/libnss_dns.so.2...done.\nLoaded symbols for /lib/libnss_dns.so.2\nReading symbols from /lib/libresolv.so.2...done.\nLoaded symbols for /lib/libresolv.so.2\n0x00b14704 in apr_bucket_alloc@plt () from /var/proxy-cache/lib/libaprutil-1.so.0\n(gdb) where\n#0  0x00b14704 in apr_bucket_alloc@plt () from /var/proxy-cache/lib/libaprutil-1.so.0\n#1  0x00b16593 in apr_bucket_flush_create (list=0x961d4c8) at buckets/apr_buckets_flush.c:39\n#2  0x0809570f in ap_proxy_http_process_response (p=0x96174b0, r=0x9625ca0, backend=0x95f9780, origin=0x9617c08, conf=0x953f0f8,\n    server_portstr=0xfee80990 \":8888\") at mod_proxy_http.c:1632\n#3  0x080960c1 in proxy_http_handler (r=0x9625ca0, worker=0x95b22a0, conf=0x953f0f8, url=0x9617bf0 \"/cluster/news/hd/1\",\n    proxyname=0x0, proxyport=<value optimized out>) at mod_proxy_http.c:1871\n#4  0x0808a8d1 in proxy_run_scheme_handler (r=0x9625ca0, worker=0x95b22a0, conf=0x953f0f8,\n    url=0x9627376 \"http://www.dailymotion.com/cluster/news/hd/1\", proxyhost=0x0, proxyport=0) at mod_proxy.c:2208\n#5  0x0808d104 in proxy_handler (r=0x9625ca0) at mod_proxy.c:852\n#6  0x08072fe6 in ap_run_handler (r=0x9625ca0) at config.c:157\n#7  0x080733b1 in ap_invoke_handler (r=0x9625ca0) at config.c:372\n#8  0x0809e6e9 in ap_process_request (r=0x9625ca0) at http_request.c:258\n#9  0x0809c20d in ap_process_http_connection (c=0x9617680) at http_core.c:190\n#10 0x08078876 in ap_run_process_connection (c=0x9617680) at connection.c:43\n#11 0x080af2f3 in child_main (child_num_arg=<value optimized out>) at prefork.c:640\n#12 0x080af52a in make_child (s=<value optimized out>, slot=568) at prefork.c:736\n#13 0x080b00b1 in ap_mpm_run (_pconf=0x95380a8, plog=0x9582310, s=0x953e2c8) at prefork.c:871\n#14 0x080633ac in main (argc=3, argv=0xfee80ed4) at main.c:730"}, {"count": 1, "tags": [], "text": "Can you please check if the patch in comment 31 in PR 44381 (https://issues.apache.org/bugzilla/show_bug.cgi?id=44381#c31) makes this go away?", "attachment_id": null, "id": 115855, "creator": "rpluem@apache.org", "time": "2008-04-24T12:44:44Z", "bug_id": 44870, "creation_time": "2008-04-24T12:44:44Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 44870, "attachment_id": null, "id": 115861, "time": "2008-04-24T20:28:55Z", "creator": "richard_hubbe11@yahoo.com", "creation_time": "2008-04-24T20:28:55Z", "is_private": false, "text": "Will try that.  Although since changing MaxRequestsPerChild from 0 to 1000 I have not seen the issue again.  I will change that and re-try with MaxRequestsPerChild = 0 and report findings here."}, {"count": 3, "tags": [], "bug_id": 44870, "attachment_id": null, "id": 115886, "time": "2008-04-25T10:28:23Z", "creator": "richard_hubbe11@yahoo.com", "creation_time": "2008-04-25T10:28:23Z", "is_private": false, "text": "I don't think this problem would be limited to prefork mpm; would also impact work mpm and others.  True?"}, {"count": 4, "tags": [], "text": "(In reply to comment #3)\n> I don't think this problem would be limited to prefork mpm; would also impact\n> work mpm and others.  True?\n> \n\nYour understanding is correct. If this PR is the same as PR 44381, then it affects all MPM's.", "attachment_id": null, "id": 115898, "creator": "rpluem@apache.org", "time": "2008-04-25T14:10:42Z", "bug_id": 44870, "creation_time": "2008-04-25T14:10:42Z", "is_private": false}]