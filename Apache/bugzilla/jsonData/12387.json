[{"count": 0, "tags": [], "bug_id": 12387, "attachment_id": null, "text": "It seems that classes in WEB-INF/classes and jars in WEB-INF/lib are not added \nto the classpath during compilation of JSPs. This happens after a fresh \ninstallation and for all webapps which uses JSPs (e.g. examples, admin and my \nown webapps). The problem persists, even after a reboot.\n\nThis worked with Tomcat 4.1.7 Beta.\n\nUninstalled previous Tomcat installation (Tomcat 4.1.7 Beta).\nReboot after installation.\nDefault configuration unchanged.\nSame problem with both installation types:\n  - jakarta-tomcat-4.1.10\n  - jakarta-tomcat-4.1.10-LE-jdk14\n\nadmin webapp: exception from localhost_admin_log ...\n2002-09-07 10:10:23 StandardWrapperValve[jsp]: Servlet.service() for servlet \njsp threw exception\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\tat org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:477)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:182)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:289)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:260)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke\n(AuthenticatorBase.java:527)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2397)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:405)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:380)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:508)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:533)\n\tat java.lang.Thread.run(Thread.java:536)\n----- Root Cause -----\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\nAn error occurred at line: 75 in the jsp file: /login.jsp\n\nGenerated servlet error:\n    [javac] Compiling 1 source file\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:69: \npackage org.apache.struts.taglib.html does not exist\n      org.apache.struts.taglib.html.HtmlTag _jspx_th_html_html_0 = \n(org.apache.struts.taglib.html.HtmlTag) _jspx_tagPool_html_html_locale.get\n(org.apache.struts.taglib.html.HtmlTag.class);\n                                   ^\n\n\n\nAn error occurred at line: 75 in the jsp file: /login.jsp\n\nGenerated servlet error:\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:69: \npackage org.apache.struts.taglib.html does not exist\n      org.apache.struts.taglib.html.HtmlTag _jspx_th_html_html_0 = \n(org.apache.struts.taglib.html.HtmlTag) _jspx_tagPool_html_html_locale.get\n(org.apache.struts.taglib.html.HtmlTag.class);\n                                                                                \n                 ^\n\n\n\nAn error occurred at line: 75 in the jsp file: /login.jsp\n\nGenerated servlet error:\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:69: \npackage org.apache.struts.taglib.html does not exist\n      org.apache.struts.taglib.html.HtmlTag _jspx_th_html_html_0 = \n(org.apache.struts.taglib.html.HtmlTag) _jspx_tagPool_html_html_locale.get\n(org.apache.struts.taglib.html.HtmlTag.class);\n                                                                                \n                                                                                \n           ^\n\n\n\nAn error occurred at line: -1 in the jsp file: null\n\nGenerated servlet error:\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:198: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_0 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                 ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:198: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_0 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                                                                \n                     ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:198: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_0 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                                                                \n                                                                                \n                  ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:213: \npackage org.apache.struts.taglib.html does not exist\n    org.apache.struts.taglib.html.BaseTag _jspx_th_html_base_0 = \n(org.apache.struts.taglib.html.BaseTag) _jspx_tagPool_html_base.get\n(org.apache.struts.taglib.html.BaseTag.class);\n                                 ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:213: \npackage org.apache.struts.taglib.html does not exist\n    org.apache.struts.taglib.html.BaseTag _jspx_th_html_base_0 = \n(org.apache.struts.taglib.html.BaseTag) _jspx_tagPool_html_base.get\n(org.apache.struts.taglib.html.BaseTag.class);\n                                                                                \n               ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:213: \npackage org.apache.struts.taglib.html does not exist\n    org.apache.struts.taglib.html.BaseTag _jspx_th_html_base_0 = \n(org.apache.struts.taglib.html.BaseTag) _jspx_tagPool_html_base.get\n(org.apache.struts.taglib.html.BaseTag.class);\n                                                                                \n                                                                                \n  ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:227: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_1 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                 ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:227: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_1 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                                                                \n                     ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:227: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_1 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                                                                \n                                                                                \n                  ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:242: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_2 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                 ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:242: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_2 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                                                                \n                     ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:242: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_2 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                                                                \n                                                                                \n                  ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:257: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_3 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                 ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:257: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_3 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                                                                \n                     ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:257: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_3 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                                                                \n                                                                                \n                  ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:272: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_4 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                 ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:272: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_4 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                                                                \n                     ^\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:272: \npackage org.apache.struts.taglib.bean does not exist\n    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_message_4 = \n(org.apache.struts.taglib.bean.MessageTag) _jspx_tagPool_bean_message_key.get\n(org.apache.struts.taglib.bean.MessageTag.class);\n                                                                                \n                                                                                \n                  ^\n21 errors\n\n\n\tat org.apache.jasper.compiler.DefaultErrorHandler.javacError\n(DefaultErrorHandler.java:120)\n\tat org.apache.jasper.compiler.ErrorDispatcher.javacError\n(ErrorDispatcher.java:293)\n\tat org.apache.jasper.compiler.Compiler.generateClass(Compiler.java:315)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:326)\n\tat org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:474)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:182)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:289)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:260)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke\n(AuthenticatorBase.java:527)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2397)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:405)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:380)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:508)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:533)\n\tat java.lang.Thread.run(Thread.java:536)\n\nexamples webapp: exception from localhost_examples_log ...\n\n2002-09-07 11:19:31 StandardWrapperValve[jsp]: Servlet.service() for servlet \njsp threw exception\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\tat org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:477)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:182)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:289)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:260)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke\n(AuthenticatorBase.java:471)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2397)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:405)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:380)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:508)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:533)\n\tat java.lang.Thread.run(Thread.java:536)\n----- Root Cause -----\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\nAn error occurred at line: 11 in the jsp file: /jsp/num/numguess.jsp\n\nGenerated servlet error:\n    [javac] Compiling 1 source file\nD:\\Apache Group\\Tomcat 4.1\n\\work\\Standalone\\localhost\\examples\\jsp\\num\\numguess_jsp.java:7: package num \ndoes not exist\nimport num.NumberGuessBean;\n           ^\nD:\\Apache Group\\Tomcat 4.1\n\\work\\Standalone\\localhost\\examples\\jsp\\num\\numguess_jsp.java:44: package num \ndoes not exist\n      num.NumberGuessBean numguess = null;\n         ^\n\n\n\nAn error occurred at line: 11 in the jsp file: /jsp/num/numguess.jsp\n\nGenerated servlet error:\nD:\\Apache Group\\Tomcat 4.1\n\\work\\Standalone\\localhost\\examples\\jsp\\num\\numguess_jsp.java:46: package num \ndoes not exist\n        numguess = (num.NumberGuessBean) pageContext.getAttribute(\"numguess\", \nPageContext.SESSION_SCOPE);\n                       ^\n\n\n\nAn error occurred at line: 11 in the jsp file: /jsp/num/numguess.jsp\n\nGenerated servlet error:\nD:\\Apache Group\\Tomcat 4.1\n\\work\\Standalone\\localhost\\examples\\jsp\\num\\numguess_jsp.java:49: package num \ndoes not exist\n            numguess = (num.NumberGuessBean) java.beans.Beans.instantiate\n(this.getClass().getClassLoader(), \"num.NumberGuessBean\");\n                           ^\n4 errors\n\n\n\tat org.apache.jasper.compiler.DefaultErrorHandler.javacError\n(DefaultErrorHandler.java:120)\n\tat org.apache.jasper.compiler.ErrorDispatcher.javacError\n(ErrorDispatcher.java:293)\n\tat org.apache.jasper.compiler.Compiler.generateClass(Compiler.java:315)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:326)\n\tat org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:474)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:182)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:289)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:260)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke\n(AuthenticatorBase.java:471)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2397)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:405)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:380)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:508)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:533)\n\tat java.lang.Thread.run(Thread.java:536)", "id": 22406, "time": "2002-09-07T09:37:09Z", "creator": "rainer.langbehn.rl@intralogics.de", "creation_time": "2002-09-07T09:37:09Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 12387, "text": "After changing the logVerbosityLevel of the JspServlet to DEBUG and execution \nof the admin webapp, the problem comes a bit more clearer:\nWEB-INF/classes and WEB-INF/lib are dropped from the classpath\n\n- Installation path: D:\\Apache Group\\Tomcat 4.1\n- CATALINA_HOME: D:\\Apache Group\\Tomcat 4.1\n\nadmin webapp: exception from localhost_admin_log ...\n----- Root Cause -----\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\nAn error occurred at line: 75 in the jsp file: /login.jsp\n\nGenerated servlet error:\nDetected Java version: 1.4 in: E:\\Java\\j2sdk1.4.0\\jre\nDetected OS: Windows NT\n    [javac] login_jsp.java added as D:\\Apache Group\\Tomcat 4.1\n\\work\\Standalone\\localhost\\admin\\login_jsp.class doesn't exist.\n    [javac] Compiling 1 source file\n    [javac] Using modern compiler\ndropping C:\\D from path as it doesn't exist\ndropping C:\\Apache Group\\Tomcat 4.1\\server\\webapps\\admin\\WEB-INF\\classes from \npath as it doesn't exist\ndropping C:\\Apache Group\\Tomcat 4.1\\server\\webapps\\admin\\WEB-INF\\lib\\struts.jar \nfrom path as it doesn't exist\n    [javac] Compilation arguments:\n    [javac] '-classpath'\n    [javac] 'D:\\Apache Group\\Tomcat 4.1\\bin\\bootstrap.jar;D:\\Apache \nGroup\\Tomcat 4.1\\server\\classes;D:\\Apache Group\\Tomcat 4.1\\server\\lib\\catalina-\nant.jar;D:\\Apache Group\\Tomcat 4.1\\server\\lib\\catalina.jar;D:\\Apache \nGroup\\Tomcat 4.1\\server\\lib\\commons-beanutils.jar;D:\\Apache Group\\Tomcat 4.1\n\\server\\lib\\commons-digester.jar;D:\\Apache Group\\Tomcat 4.1\\server\\lib\\commons-\nlogging.jar;D:\\Apache Group\\Tomcat 4.1\\server\\lib\\commons-modeler.jar;D:\\Apache \nGroup\\Tomcat 4.1\\server\\lib\\jakarta-regexp-1.2.jar;D:\\Apache Group\\Tomcat 4.1\n\\server\\lib\\mx4j-jmx.jar;D:\\Apache Group\\Tomcat 4.1\\server\\lib\\servlets-\ncommon.jar;D:\\Apache Group\\Tomcat 4.1\\server\\lib\\servlets-default.jar;D:\\Apache \nGroup\\Tomcat 4.1\\server\\lib\\servlets-invoker.jar;D:\\Apache Group\\Tomcat 4.1\n\\server\\lib\\servlets-manager.jar;D:\\Apache Group\\Tomcat 4.1\\server\\lib\\servlets-\nwebdav.jar;D:\\Apache Group\\Tomcat 4.1\\server\\lib\\tomcat-coyote.jar;D:\\Apache \nGroup\\Tomcat 4.1\\server\\lib\\tomcat-http11.jar;D:\\Apache Group\\Tomcat 4.1\n\\server\\lib\\tomcat-jk.jar;D:\\Apache Group\\Tomcat 4.1\\server\\lib\\tomcat-\njk2.jar;D:\\Apache Group\\Tomcat 4.1\\server\\lib\\tomcat-util.jar;D:\\Apache \nGroup\\Tomcat 4.1\\server\\lib\\tomcat-warp.jar;D:\\Apache Group\\Tomcat 4.1\n\\common\\classes;D:\\Apache Group\\Tomcat 4.1\\common\\lib\\ant.jar;D:\\Apache \nGroup\\Tomcat 4.1\\common\\lib\\commons-collections.jar;D:\\Apache Group\\Tomcat 4.1\n\\common\\lib\\commons-logging-api.jar;D:\\Apache Group\\Tomcat 4.1\n\\common\\lib\\jasper-compiler.jar;D:\\Apache Group\\Tomcat 4.1\\common\\lib\\jasper-\nruntime.jar;D:\\Apache Group\\Tomcat 4.1\\common\\lib\\naming-common.jar;D:\\Apache \nGroup\\Tomcat 4.1\\common\\lib\\naming-factory.jar;D:\\Apache Group\\Tomcat 4.1\n\\common\\lib\\naming-resources.jar;D:\\Apache Group\\Tomcat 4.1\n\\common\\lib\\servlet.jar;D:\\Apache Group\\Tomcat 4.1\\common\\lib\\tools.jar'\n    [javac] '-sourcepath'\n    [javac] 'D:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin'\n    [javac] '-encoding'\n    [javac] 'UTF8'\n    [javac] '-g'\n    [javac] \n    [javac] The ' characters around the executable and arguments are\n    [javac] not part of the command.\n    [javac] File to be compiled:\n    [javac]     D:\\Apache Group\\Tomcat 4.1\n\\work\\Standalone\\localhost\\admin\\login_jsp.java\nD:\\Apache Group\\Tomcat 4.1\\work\\Standalone\\localhost\\admin\\login_jsp.java:69: \npackage org.apache.struts.taglib.html does not exist\n      org.apache.struts.taglib.html.HtmlTag _jspx_th_html_html_0 = \n(org.apache.struts.taglib.html.HtmlTag) _jspx_tagPool_html_html_locale.get\n(org.apache.struts.taglib.html.HtmlTag.class);\n                                   ^\n", "id": 22408, "time": "2002-09-07T11:44:13Z", "creator": "rainer.langbehn.rl@intralogics.de", "creation_time": "2002-09-07T11:44:13Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 12387, "text": "*** Bug 12385 has been marked as a duplicate of this bug. ***", "id": 22420, "time": "2002-09-07T16:13:50Z", "creator": "remm@apache.org", "creation_time": "2002-09-07T16:13:50Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "remm@apache.org", "text": "I have 4.1.10 running on XP, installed from the .exe distribution (and running\nas a service), and it works fine. I need you to explain me how to reproduce this\nbug.", "id": 22422, "time": "2002-09-07T17:50:49Z", "bug_id": 12387, "creation_time": "2002-09-07T17:50:49Z", "is_private": false, "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 12387, "text": "i'm running into the same problem. Installed from the exe as well. \n\nInstalled 4.1.10 on a fresh install of W2kServer SP2.\nDestinataion d:\\apache\\tomcat41x \nChecked install NT service option. \n\nWhen launching Tomcat from \"Start>Program Files>Apache Tomcat 1.1>Start \nTomcat\", Tomcat has no problem compiling the admin or example JSPs. \n\nWhen starting as a serivce, I get the same error. ", "id": 22433, "time": "2002-09-07T23:50:29Z", "creator": "scott@silentplanet.com", "creation_time": "2002-09-07T23:50:29Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "creator": "serg_main@yahoo.com", "attachment_id": null, "id": 22451, "time": "2002-09-08T12:14:17Z", "bug_id": 12387, "creation_time": "2002-09-08T12:14:17Z", "is_private": false, "text": "JDK1.4.0_01\nw2kserver_sp2\n\nGenerated servlet error:\nDetected Java version: 1.4 in: c:\\jdk1.4\\jre\nDetected OS: Windows 2000\n    [javac] index_jsp.java added as C:\\opt\\Tomcat 4.1\n\\work\\Standalone\\me.askmore\\_\\index_jsp.class doesn't exist.\n    [javac] Compiling 1 source file\n    [javac] Using modern compiler\ndropping C:\\D from path as it doesn't exist\ndropping C:\\opt2\\_me.askmore.info\\data\\WEB-INF\\classes from path as it doesn't \nexist\ndropping C:\\opt2\\_me.askmore.info\\data\\WEB-INF\\lib\\activation.jar from path as \nit doesn't exist\ndropping C:\\opt2\\_me.askmore.info\\data\\WEB-INF\\lib\\castor-0.9.3.21.jar from \npath as it doesn't exist\ndropping C:\\opt2\\_me.askmore.info\\data\\WEB-INF\\lib\\cos_servlet2.3.jar from path \nas it doesn't exist\ndropping C:\\opt2\\_me.askmore.info\\data\\WEB-INF\\lib\\log4j-1.2.6.jar from path as \nit doesn't exist\ndropping C:\\opt2\\_me.askmore.info\\data\\WEB-INF\\lib\\mail.jar from path as it \ndoesn't exist\ndropping C:\\opt2\\_me.askmore.info\\data\\WEB-INF\\lib\\mill_loc.jar from path as it \ndoesn't exist\ndropping C:\\opt2\\_me.askmore.info\\data\\WEB-INF\\lib\\millengine-v2.jar from path \nas it doesn't exist\ndropping C:\\opt2\\_me.askmore.info\\data\\WEB-INF\\lib\\ojdbc14.jar from path as it \ndoesn't exist\n    [javac] Compilation arguments:\n    [javac] '-classpath'\n    [javac] 'C:\\opt\\Tomcat 4.1\\bin\\bootstrap.jar;C:\\opt\\Tomcat 4.1\n\\shared\\classes;C:\\opt\\Tomcat 4.1\\common\\classes;C:\\opt\\Tomcat 4.1\n\\common\\lib\\jasper-runtime.jar;C:\\opt\\Tomcat 4.1\\common\\lib\\jasper-\ncompiler.jar;C:\\opt\\Tomcat 4.1\\common\\lib\\commons-collections.jar;C:\\opt\\Tomcat \n4.1\\common\\lib\\naming-resources.jar;C:\\opt\\Tomcat 4.1\\common\\lib\\naming-\ncommon.jar;C:\\opt\\Tomcat 4.1\\common\\lib\\commons-logging-api.jar;C:\\opt\\Tomcat \n4.1\\common\\lib\\ant.jar;C:\\opt\\Tomcat 4.1\\common\\lib\\servlet.jar;C:\\opt\\Tomcat \n4.1\\common\\lib\\naming-factory.jar;C:\\opt\\Tomcat 4.1\\common\\lib\\tools.jar'\n    [javac] '-sourcepath'\n    [javac] 'C:\\opt\\Tomcat 4.1\\work\\Standalone\\me.askmore\\_'\n    [javac] '-encoding'\n    [javac] 'UTF8'\n    [javac] '-g'\n    [javac] \n    [javac] The ' characters around the executable and arguments are\n    [javac] not part of the command.\n    [javac] File to be compiled:\n    [javac]     C:\\opt\\Tomcat 4.1\\work\\Standalone\\me.askmore\\_\\index_jsp.java\nC:\\opt\\Tomcat 4.1\\work\\Standalone\\me.askmore\\_\\index_jsp.java:7: package \nmill.main does not exist\nimport mill.main.Constants;\n                 ^\n\nWhat this means???:\ndropping C:\\opt2\\_me.askmore.info\\data\\WEB-INF\\lib\\castor-0.9.3.21.jar from \npath as it doesn't exist\n\n"}, {"count": 6, "tags": [], "bug_id": 12387, "attachment_id": null, "text": "part of my server.xml:\n\n\t\t\t<Host name=\"me.askmore\" debug=\"0\" appBase=\"d:\\opt2\n\\_me.askmore.info\">\n\t\t\t\t<Alias>test</Alias>\n\t\t\t\t<Valve \nclassName=\"org.apache.catalina.valves.AccessLogValve\" suffix=\".txt\" \npattern=\"common\" debug=\"0\" directory=\"c:\\opt2\\logs\\_me.askmore/access\" \nprefix=\"access_log.\"/>\n\t\t\t\t<Logger \nclassName=\"org.apache.catalina.logger.FileLogger\" suffix=\".txt\" \ntimestamp=\"true\" debug=\"0\" directory=\"c:\\opt2\\logs\\_me.askmore\\log\" \nprefix=\"log.\"/>\n\t\t\t\t<Context path=\"\" docBase=\"data\" debug=\"0\" \nreloadable=\"true\" useNaming=\"false\" crossContext=\"true\"/>\n\t\t\t</Host>\n\nWhy Jasper try load jars from c:\\...., not from d:\\....?\n", "id": 22452, "time": "2002-09-08T12:29:53Z", "creator": "serg_main@yahoo.com", "creation_time": "2002-09-08T12:29:53Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 12387, "attachment_id": null, "text": "This bug may be caused by Ant under Windows, then. Using Jasper 1 should be a\nworking workaround.\n\nI'm not sure I understand how to reroduce it. Try to find simple cases which\nwork, and simple cases which don't.", "id": 22456, "time": "2002-09-08T15:21:21Z", "creator": "remm@apache.org", "creation_time": "2002-09-08T15:21:21Z", "is_private": false}, {"count": 8, "text": "steps for reproduce bug:\n1. Install standart configuration t4.1.10\n2. move webapps folder to any disk (d, e, ... ).\n3. correct Host section in conf/server.xml to point new location of webapps\n4. create dir webapps/ROOT/WEB-INF/classes\n5. create file T.java:\npublic class T\n{\n\tpublic T(){}\n}\n6. compile it  ;)\n7. create t.jsp in webapps/ROOT:\n\n<%@page\ncontentType=\"text/html; charset=utf-8\"\nlanguage=\"java\"\nimport=\"T\"\n%>\nbug 12387:\n<%\n\n\tT t = new T();\n\n%>\n\n8. try http://localhost:8080/t.jsp \n\n", "bug_id": 12387, "attachment_id": null, "id": 22467, "time": "2002-09-08T17:01:09Z", "creator": "serg_main@yahoo.com", "creation_time": "2002-09-08T17:01:09Z", "tags": [], "is_private": false}, {"count": 9, "text": "Yes, I have been able to reproduce the problem and see what was affected. (I'm\nrelieved to see there are some easy workarounds, and I'm downgrading the bug\nseverity accordingly)\nI think this is caused by Ant bugs, for which I will attempt to find a\nworkaround. If I fail to find a workaround, Tomcat will be restricted to the\nfirst HD when running on Windows, until Ant fixes the issues.", "bug_id": 12387, "attachment_id": null, "id": 22485, "time": "2002-09-09T07:25:41Z", "creator": "remm@apache.org", "creation_time": "2002-09-09T07:25:41Z", "tags": [], "is_private": false}, {"count": 10, "tags": [], "bug_id": 12387, "text": "*** Bug 12438 has been marked as a duplicate of this bug. ***", "id": 22521, "time": "2002-09-09T14:10:57Z", "creator": "remm@apache.org", "creation_time": "2002-09-09T14:10:57Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "creator": "serg_main@yahoo.com", "attachment_id": null, "id": 22649, "time": "2002-09-11T05:24:16Z", "bug_id": 12387, "creation_time": "2002-09-11T05:24:16Z", "is_private": false, "text": "*** Bug 12504 has been marked as a duplicate of this bug. ***"}, {"count": 12, "text": "The way I fixed this problem (thanks to an article at webmasterbase.com) was to \ntake both apache and tomcat and install them in the root of my c:\\ drive.  The \nlogic behind this is that there is a problem installing in the Program FIles \ndirectory because of the space between program and files.  I installed apache \nin C:\\Apache and tomcat in C:\\Apache\\Tomcat.  After I did this it worked like a \nchamp", "bug_id": 12387, "attachment_id": null, "id": 22772, "time": "2002-09-12T23:11:43Z", "creator": "carbiner@hotmail.com", "creation_time": "2002-09-12T23:11:43Z", "tags": [], "is_private": false}, {"count": 13, "tags": [], "bug_id": 12387, "attachment_id": null, "id": 22774, "time": "2002-09-12T23:13:38Z", "creator": "carbiner@hotmail.com", "creation_time": "2002-09-12T23:13:38Z", "is_private": false, "text": "I also installed the zip version of the Tomcat download and not the exe"}, {"count": 14, "tags": [], "bug_id": 12387, "attachment_id": null, "text": "I also encountered this bug. As opposed to other reports, in my setup it also \noccurs if the webapps is on the same drive than tomcat. I extracted the zip to: \nF:\\Tools\\bin\\jakarta-tomcat-4.1.10 (no spaces, same directory layout as in \nzip). However, the JDK is on another drive, namely D:\\Java\\j2sdk1.4.0_01. With \n4.1.9 in F:\\Tools\\bin\\jakarta-tomcat-4.1.9 it works just fine. Questions: a) \nwhat are the easy workarounds? b) what version of ant is bundled with tomcat? \nc) what's the ant problem behind this bug? (sorry, just curious, but it may \nalso help me to get rid of the problem, as currently I downgraded to 4.1.9).", "id": 22793, "time": "2002-09-13T09:16:15Z", "creator": "remigius.stalder@descom-consulting.ch", "creation_time": "2002-09-13T09:16:15Z", "is_private": false}, {"count": 15, "tags": [], "creator": "Holger@Morgenstern.net", "text": "On my system (Win NT, installed tomcat 4.1.10 and the sdk on e: drive _with_\nspaces in the name) everything works o.k. when I run tomcat with the 'start'\nlink from the setup-created menu link. The bug comes up only when tomcat is run\nas a service. Maybe the only the service entries in the win reg are not\ncorrectly set?!? Does some know _what_ to check for in the registry??\n\n--Holger (http://www.morgenstern.net)", "id": 22796, "time": "2002-09-13T09:43:42Z", "bug_id": 12387, "creation_time": "2002-09-13T09:43:42Z", "is_private": false, "attachment_id": null}, {"count": 16, "tags": [], "creator": "remigius.stalder@descom-consulting.ch", "text": "Holger, Thanks for your input. On my system, it now works fine if the current \ndirectory is set to tomcat's /bin subdirectory (e.g. double-click on \nstartup.bat). Previously, I ran a start-batch file from a shortcut without \nsetting the startup directory. Therefore the startup directory was different \nfrom tomcat's bin directory. It looks like there are references to tomcat's \nstartup directory, instead of referring everything to CATALINA_HOME and/or \npaths configured in the respective places. In your case you should try to \ncontrol tomcat's startup directory when it runs as a service. However, I don't \nknow of an easy way to do this.", "id": 22798, "time": "2002-09-13T10:03:19Z", "bug_id": 12387, "creation_time": "2002-09-13T10:03:19Z", "is_private": false, "attachment_id": null}, {"count": 17, "tags": [], "bug_id": 12387, "attachment_id": null, "id": 22800, "creation_time": "2002-09-13T10:18:30Z", "time": "2002-09-13T10:18:30Z", "creator": "remigius.stalder@descom-consulting.ch", "text": "Sorry, false alert. After some more experiments, I found out that setting the \nstartup path does not work either (I only had to remove the content of the work \ndirectory and it failed again), but replacing the jasper-JARs with the ones \nfrom 4.1.9 seems to help.", "is_private": false}, {"count": 18, "tags": [], "creator": "clucas@pentacode.net", "text": "Created attachment 3041\nTemporary resolves the bug. New JspRuntimeContext.class / .java (jasper-compiler.jar)", "id": 22806, "time": "2002-09-13T11:23:41Z", "bug_id": 12387, "creation_time": "2002-09-13T11:23:41Z", "is_private": false, "attachment_id": 3041}, {"count": 19, "tags": [], "bug_id": 12387, "text": "I have committed a possible fix fo that bug (at least, it fixes it for me, \nwhere I have TC running as a service, installed on the C: drive, and trying to \nrun a webapp on another HD).\nThe fix will be in 4.1.11. If people could test it, that would help.\n\nI don't quite understand why it was working in 4.1.9 but not in 4.1.10. I \ndiffed everything, and cannot find any particular change which would explain \nthe bug was introduced. However, rewriting the Ant code using different \n(although equivalent according to the docs) API methods fixed the bug (for me).\n\nI'm looking for feedback on this. Thanks.", "id": 22810, "time": "2002-09-13T11:37:20Z", "creator": "remm@apache.org", "creation_time": "2002-09-13T11:37:20Z", "is_private": false, "attachment_id": null}, {"count": 20, "tags": [], "creator": "clucas@pentacode.net", "text": "Hi all.\nWhen the installation of jdk, tomcat or your web-applications are on diferent \nWindows Drives (C:, D:, etc) the java compiler looks for any class in the same \ndrive the jdk resides.\n\nMy new JspRuntimeContext.class (see attach 9/13/02 11:23 -> TemporalPatch.zip) \nremoves the first '/' in the url of the libraries that will go on the jsp \ncompiler classpath when they looks like an absolute addres in a drive letter \n(   /E:/myapp/WEB-INF ...   ) ... and javac finds every library :)\n\n\n", "id": 22811, "time": "2002-09-13T11:44:51Z", "bug_id": 12387, "creation_time": "2002-09-13T11:44:51Z", "is_private": false, "attachment_id": null}, {"count": 21, "tags": [], "bug_id": 12387, "attachment_id": null, "id": 22812, "time": "2002-09-13T11:49:58Z", "creator": "remigius.stalder@descom-consulting.ch", "creation_time": "2002-09-13T11:49:58Z", "is_private": false, "text": "Any idea where this leading slash comes from anywhay???"}, {"count": 22, "tags": [], "creator": "clucas@pentacode.net", "text": "I don't know ...\n\nI'm debugging and tracking back where the classpath (including myapp/WEB-\nINF/classes) is generated ... but I don't find anything (I really never looked \nat Tomcat sources ... hehehehe, this is my first time).\n\n(sorry my english)\n", "id": 22813, "time": "2002-09-13T11:53:41Z", "bug_id": 12387, "creation_time": "2002-09-13T11:53:41Z", "is_private": false, "attachment_id": null}, {"count": 23, "attachment_id": null, "bug_id": 12387, "text": "Where can I find the fix from  Remy Maucherat??\n\n--Holger (http://www.morgenstern.net)", "id": 22814, "time": "2002-09-13T11:54:19Z", "creator": "Holger@Morgenstern.net", "creation_time": "2002-09-13T11:54:19Z", "tags": [], "is_private": false}, {"count": 24, "tags": [], "creator": "remigius.stalder@descom-consulting.ch", "text": "Hi all, I have tested the fix and it works (i have removed the compiled classes \nin the work subdirectory first). But I think the leading slash added to the \nclasspath somewhere is the cause, this fix removes only the symptoms: what if \nervery piece of code has to retailor paths? (get the picture...)", "id": 22815, "time": "2002-09-13T12:01:57Z", "bug_id": 12387, "creation_time": "2002-09-13T12:01:57Z", "is_private": false, "attachment_id": null}, {"count": 25, "tags": [], "bug_id": 12387, "attachment_id": 3042, "text": "Created attachment 3042\nPatched Compiler.java source", "id": 22816, "time": "2002-09-13T12:03:00Z", "creator": "remm@apache.org", "creation_time": "2002-09-13T12:03:00Z", "is_private": false}, {"count": 26, "tags": [], "bug_id": 12387, "attachment_id": 3043, "text": "Created attachment 3043\nFixed Compiler.class", "id": 22818, "time": "2002-09-13T12:04:12Z", "creator": "remm@apache.org", "creation_time": "2002-09-13T12:04:12Z", "is_private": false}, {"count": 27, "attachment_id": null, "bug_id": 12387, "text": "I think the leading slash is ok in file paths (I've seen it already, and it \ncomes from using URLs), and is there to make a file path looks similar between \nWindows and Unix.\nAlso, you can't just strip the leading '/': there would be problems on Unix ;-)\n\nThe patch also fixes some similar issues, where there's a ' ' in the path to a \nJSP file (somehow Ant didn't handle the includes list correctly, and the patch \nuses a lower lever API to work around that).\n\nI think I understand where the bug comes from, however. The CL now generates \ncorrect URLs (with the leading '/') in 4.1.10, to fix RMI related issues. If \nthe leading '/' is what triggers the bug, then that's why 4.1.9 worked \n(although it was more by accident than by design).\n\nThanks for the feedback and patience, this will result in a quality 4.1.11 (or \n12) release eventually.", "id": 22819, "time": "2002-09-13T12:11:02Z", "creator": "remm@apache.org", "creation_time": "2002-09-13T12:11:02Z", "tags": [], "is_private": false}, {"count": 28, "tags": [], "creator": "Holger@Morgenstern.net", "text": "I've just installed the new Compiler.class into \ncommon\\classes\\org\\apache\\jasper\\compiler\nIs this correct?\n\nNow I get the following error:\n\n\norg.apache.jasper.JasperException: Unable to compile class for JSP\n        at \norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:477)\n        at \norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:182)\n        at \norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:289)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at \norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilt\nerChain.java:247)\n        at \norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.\njava:193)\n        at \norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:2\n60)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:1\n91)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.jav\na:527)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.catalina.core.StandardContext.invoke(StandardContext.java:2397)\n        at \norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java\n:170)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at \norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:171)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174\n)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:223)\n        at \norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:405)\n        at \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:380)\n        at \norg.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:508)\n        at \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:53\n3)\n        at java.lang.Thread.run(Thread.java:536)\n\nroot cause \n\njava.lang.NullPointerException: charsetName\n        at java.io.OutputStreamWriter.(OutputStreamWriter.java:81)\n        at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:208)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:323)\n        at \norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:474)\n        at \norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:182)\n        at \norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:289)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at \norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilt\nerChain.java:247)\n        at \norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.\njava:193)\n        at \norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:2\n60)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:1\n91)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.jav\na:527)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.catalina.core.StandardContext.invoke(StandardContext.java:2397)\n        at \norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java\n:170)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at \norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:171)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174\n)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:223)\n        at \norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:405)\n        at \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:380)\n        at \norg.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:508)\n        at \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:53\n3)\n        at java.lang.Thread.run(Thread.java:536)\n\n--Holger (http://www.morgenstern.net)", "id": 22821, "time": "2002-09-13T12:25:44Z", "bug_id": 12387, "creation_time": "2002-09-13T12:25:44Z", "is_private": false, "attachment_id": null}, {"count": 29, "tags": [], "bug_id": 12387, "text": "Ok. \nI have no time now to find a better solution for the problem, but I think it's \nworking OK on linux/unix systems (without any patch).\n\nI thought patching Compiler.java, but it was easier to patch JspRuntimeContext \n(the url's were separated in a vector) and I don't know if some other \ncomponents dependant on JspRuntimeContext share the same problem (and use the \nsame classpath).\n\nThat was the reason to patch at \"upper level\", at the first time I looked the \nclasspath was being generated.\n\nNow the Windows users are able to use tomcat, with app's and program on \nseparated drives (I use a drive for system, another for programs and another \nfor data/webs/web-apps).\n\nBut they must wait for a \"clean\" solution. Mine was \"Temporal\" like I said :)\n", "id": 22822, "time": "2002-09-13T12:32:37Z", "creator": "clucas@pentacode.net", "creation_time": "2002-09-13T12:32:37Z", "is_private": false, "attachment_id": null}, {"count": 30, "tags": [], "creator": "remm@apache.org", "text": "Created attachment 3044\nNew EmbeddedServletOptions to fix NPE", "id": 22823, "time": "2002-09-13T12:40:00Z", "bug_id": 12387, "creation_time": "2002-09-13T12:40:00Z", "is_private": false, "attachment_id": 3044}, {"count": 31, "tags": [], "bug_id": 12387, "attachment_id": 3045, "text": "Created attachment 3045\nNew ESO source", "id": 22824, "time": "2002-09-13T12:41:06Z", "creator": "remm@apache.org", "creation_time": "2002-09-13T12:41:06Z", "is_private": false}, {"count": 32, "attachment_id": null, "bug_id": 12387, "text": "Using a default javaEncoding=\"UTF8\" in ESO resolves the bug???\nI'll test it monday :) tx.\n\n\n", "id": 22825, "time": "2002-09-13T12:51:21Z", "creator": "clucas@pentacode.net", "creation_time": "2002-09-13T12:51:21Z", "tags": [], "is_private": false}, {"count": 33, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 22826, "time": "2002-09-13T12:55:15Z", "bug_id": 12387, "creation_time": "2002-09-13T12:55:15Z", "is_private": false, "text": "Well, the updated Compiler also modifies the way the javaEncoding is used \n(because of another patch), so now it can't be null anymore or you'd get a NPE."}, {"count": 34, "tags": [], "bug_id": 12387, "attachment_id": null, "id": 22827, "time": "2002-09-13T13:01:25Z", "creator": "Holger@Morgenstern.net", "creation_time": "2002-09-13T13:01:25Z", "is_private": false, "text": "Remy, can you please post the internal Compiler$JasperAntLogger.class too? Or is \nthis unchanged?\n\nNow with your new Compiler.class and the new ESO, I get the following:\n\njavax.servlet.ServletException: \norg.apache.jasper.compiler.Compiler$JasperAntLogger.(Lorg/apache/jasper/compiler\n/Compiler;)V\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:248)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at \norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilt\nerChain.java:247)\n        at \norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.\njava:193)\n        at \norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:2\n60)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:1\n91)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.jav\na:527)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.catalina.core.StandardContext.invoke(StandardContext.java:2397)\n        at \norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java\n:170)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at \norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:171)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174\n)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:223)\n        at \norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:405)\n        at \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:380)\n        at \norg.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:508)\n        at \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:53\n3)\n        at java.lang.Thread.run(Thread.java:536)\n\nroot cause \n\njava.lang.NoSuchMethodError: \norg.apache.jasper.compiler.Compiler$JasperAntLogger.(Lorg/apache/jasper/compiler\n/Compiler;)V\n        at org.apache.jasper.compiler.Compiler.getProject(Compiler.java:149)\n        at org.apache.jasper.compiler.Compiler.generateClass(Compiler.java:257)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:324)\n        at \norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:474)\n        at \norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:182)\n        at \norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:289)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at \norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilt\nerChain.java:247)\n        at \norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.\njava:193)\n        at \norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:2\n60)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:1\n91)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.jav\na:527)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.catalina.core.StandardContext.invoke(StandardContext.java:2397)\n        at \norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java\n:170)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at \norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:171)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174\n)\n        at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n        at \norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at \norg.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:223)\n        at \norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:405)\n        at \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:380)\n        at \norg.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:508)\n        at \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:53\n3)\n        at java.lang.Thread.run(Thread.java:536)\n\n--Holger (http://www.morgenstern.net)\n\n"}, {"count": 35, "attachment_id": 3055, "bug_id": 12387, "text": "Created attachment 3055\nUpdated JasperAntLogger", "id": 22844, "time": "2002-09-13T18:48:46Z", "creator": "remm@apache.org", "creation_time": "2002-09-13T18:48:46Z", "tags": [], "is_private": false}, {"count": 36, "tags": [], "bug_id": 12387, "attachment_id": 3056, "text": "Created attachment 3056\nUpdated jasper-compiler.jar", "id": 22845, "time": "2002-09-13T18:50:03Z", "creator": "remm@apache.org", "creation_time": "2002-09-13T18:50:03Z", "is_private": false}, {"count": 37, "attachment_id": null, "bug_id": 12387, "text": "I still get this error when trying to load the index.jsp (even with the latest \njasper-compiler.jar).\n\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\nAn error occurred at line: -1 in the jsp file: null\n\nGenerated servlet error:\n    [javac] Compiling 1 source file\n\n\n\n\tat org.apache.jasper.compiler.DefaultErrorHandler.javacError\n(DefaultErrorHandler.java:120)\n\tat org.apache.jasper.compiler.ErrorDispatcher.javacError\n(ErrorDispatcher.java:293)\n\tat org.apache.jasper.compiler.Compiler.generateClass(Compiler.java:313)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:324)\n\tat org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:474)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:182)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:289)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:260)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2397)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:405)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:380)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:508)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:533)\n\tat java.lang.Thread.run(Thread.java:484)\n\n\n\n--------------------------------------------------------------------------------\n\n", "id": 22856, "time": "2002-09-14T01:57:53Z", "creator": "dave.martin@wilytech.com", "creation_time": "2002-09-14T01:57:53Z", "tags": [], "is_private": false}, {"count": 38, "tags": [], "bug_id": 12387, "attachment_id": null, "id": 22858, "creation_time": "2002-09-14T02:16:59Z", "time": "2002-09-14T02:16:59Z", "creator": "dave.martin@wilytech.com", "text": "Could it be the offending '/' right before the source file name that is \noffending?  It seems like Windows is happy to open a file with this path,\nbut who knows about the javac compiler!?\n\n\n2002-09-13 19:07:02 Error compiling file: C:\\jakarta-tomcat-4.1.10\n\\work\\Standalone\\localho\nst\\reporter\\/agents_jsp.java     [javac] Compiling 1 source file^M\n\n", "is_private": false}, {"count": 39, "tags": [], "creator": "remm@apache.org", "text": "Well, it is working fine for me, so I don't plan to commit any additional fix. \nCheck if your configuration is right.", "id": 22860, "time": "2002-09-14T06:24:46Z", "bug_id": 12387, "creation_time": "2002-09-14T06:24:46Z", "is_private": false, "attachment_id": null}, {"count": 40, "tags": [], "creator": "Holger@Morgenstern.net", "text": "Hi,\n\nI've just tested the new jasper-compiler.jar with the fixes for this bug and it \nworks!! (Windows NT, tomcat,jdk installed not on c drive; Tomcat run via \ncommandline AND alsa as nt-service) \n\nGreat job - Thanx!!\n--Holger (http://www.morgenstern.net)\n", "id": 22904, "time": "2002-09-16T09:18:00Z", "bug_id": 12387, "creation_time": "2002-09-16T09:18:00Z", "is_private": false, "attachment_id": null}, {"count": 41, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 22978, "time": "2002-09-17T08:48:22Z", "bug_id": 12387, "creation_time": "2002-09-17T08:48:22Z", "is_private": false, "text": "*** Bug 12679 has been marked as a duplicate of this bug. ***"}, {"count": 42, "text": "*** Bug 12792 has been marked as a duplicate of this bug. ***", "bug_id": 12387, "attachment_id": null, "id": 23083, "time": "2002-09-19T06:35:18Z", "creator": "remm@apache.org", "creation_time": "2002-09-19T06:35:18Z", "tags": [], "is_private": false}, {"count": 43, "tags": [], "bug_id": 12387, "text": "*** Bug 12824 has been marked as a duplicate of this bug. ***", "id": 23138, "time": "2002-09-20T07:01:22Z", "creator": "remm@apache.org", "creation_time": "2002-09-20T07:01:22Z", "is_private": false, "attachment_id": null}, {"count": 44, "tags": [], "bug_id": 12387, "attachment_id": null, "id": 23140, "time": "2002-09-20T07:03:07Z", "creator": "remm@apache.org", "creation_time": "2002-09-20T07:03:07Z", "is_private": false, "text": "*** Bug 12839 has been marked as a duplicate of this bug. ***"}, {"count": 45, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 23420, "time": "2002-09-26T08:21:59Z", "bug_id": 12387, "creation_time": "2002-09-26T08:21:59Z", "is_private": false, "text": "*** Bug 13019 has been marked as a duplicate of this bug. ***"}, {"count": 46, "tags": [], "bug_id": 12387, "attachment_id": null, "text": "*** Bug 13028 has been marked as a duplicate of this bug. ***", "id": 23437, "time": "2002-09-26T11:18:36Z", "creator": "remm@apache.org", "creation_time": "2002-09-26T11:18:36Z", "is_private": false}, {"count": 47, "tags": [], "creator": "acukiern@yahoo.com.ar", "attachment_id": null, "id": 29567, "time": "2003-01-16T21:48:49Z", "bug_id": 12387, "creation_time": "2003-01-16T21:48:49Z", "is_private": false, "text": "Hi.\n\nI've found this problem (the way Martin has described) on 4.1.12 from the exe\ndistribution on W2K wihtout any Service Pack.\nI share he's thought about the offending slash and I also  think i've found the\nplace in the code where it happens and how to correct it.\n\nLooking deeply inside the code (I am not going to walk thru the full path of\ncode evaluation I did but I'll go straight to the point) it looks that the\nmethod getServletJavaFileName() of the class\norg.apache.jasper.JspCompilationContext is intended primary for achieving\nphysical file system path names and not virtual site names. The problem shows on\nline 333 and line 338 of source file for that class where it checks for leading\nslashes (hard-coded), where I understand it should be checking for\nsystem-dependent separator (File.separator).\n\nMy guess is that replacing the following lines:\n\n333:            if( outputDir.endsWith(\"/\" ) ) {\n\n338:                servletJavaFileName = outputDir + \"/\" + servletJavaFileName;\n\nwith:\n\n333:            if( outputDir.endsWith(\"/\" ) || outputDir.endWith(\nFile.separator ) ) {\n\n338:                servletJavaFileName = outputDir + File.separator +\nservletJavaFileName;\n\nshould solve the problem.\n\nUnfortunly I tried to recompile Tomcat after this changes using the scripts set\nprovided with source code but I couldn't. So I'm posting this here to see if\nsomeone that agrees with me on this can made those changes and recompile so we\ncan test them and see if they really solve the problem.\n\nThanks and hope it helps."}, {"count": 48, "tags": [], "bug_id": 12387, "attachment_id": null, "text": "Please, please, do not attempt to fix that bug, since it is not a bug. Instead,\nupgrade to a newer Tomcat release. I'll revert to the original resolution.\nPlease do not reopen the bug.", "id": 29568, "time": "2003-01-16T21:56:46Z", "creator": "remm@apache.org", "creation_time": "2003-01-16T21:56:46Z", "is_private": false}]