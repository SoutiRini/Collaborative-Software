[{"count": 0, "tags": [], "bug_id": 45851, "attachment_id": 22616, "id": 120817, "time": "2008-09-19T22:17:57Z", "creator": "paul.mcgurn@gmail.com", "creation_time": "2008-09-19T22:17:57Z", "is_private": false, "text": "Created attachment 22616\nfiles used to reproduce issue\n\nWhen trying to deploy a war to a cluster, it seems that the war will deploy locally when placed in the listener directory, however, it seems that either there is some corruption when moving the war across the wire, or the deployer on the target node is not able to properly unpack and read the files inside.\n\nPertinent portion of the log from the target node is attached.\n\nI can provide any other info as needed, but not sure what else would be pertinent.  The test.war is simply a war'd copy of the default Tomcat Manager web app.\n\nTo reproduce:\n\n1. Configure two nodes two make up a SimpleTCPCluster (version 6.0.18 was used)\n2. From either node, drop test.war into the listen directory\n\nResults:\n* test.war will be deployed locally\n* test.war will be copies to the webapps directory on the target\n* test.war will not fully deploy on the target\n\nExpected results:\n* war unpacked and deployed locally\n* copied to each node in the cluster\n* war unpacked and deployed on each node of the cluster"}, {"count": 1, "tags": [], "bug_id": 45851, "attachment_id": null, "id": 120862, "time": "2008-09-22T19:59:10Z", "creator": "fhanik@apache.org", "creation_time": "2008-09-22T19:59:10Z", "is_private": false, "text": "That's correct, in 6.0.x the deployer no longer works. it broke somewhere during 5.5.x when the deployer was rebuilt. \n\nthe fix is to go back to 5.0.x strategy, where the files are copied to a temp directory and deployed from there. but that is work that is to be done. \n\ncontributions happily accepted.\n\nbest\nFilip\n"}, {"count": 2, "text": "I've fixed the issues issues I could see in the FarmWarDeployer. Any additional testing much appreciated.\n\nI will propose the fix for inclusion in 6.0.x.", "bug_id": 45851, "attachment_id": null, "id": 121025, "time": "2008-09-26T10:38:56Z", "creator": "markt@apache.org", "creation_time": "2008-09-26T10:38:56Z", "tags": [], "is_private": false}, {"count": 3, "text": "I can definitely test that more.  If this ends up in the next point release, I'll upgrade my development environment and test.", "bug_id": 45851, "attachment_id": null, "id": 121026, "time": "2008-09-26T10:45:04Z", "creator": "paul.mcgurn@gmail.com", "creation_time": "2008-09-26T10:45:04Z", "tags": [], "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 45851, "text": "*** Bug 42681 has been marked as a duplicate of this bug. ***", "id": 121241, "time": "2008-10-06T10:36:21Z", "creator": "markt@apache.org", "creation_time": "2008-10-06T10:36:21Z", "tags": [], "is_private": false}, {"count": 5, "text": "This has been fixed in 6.0.x and will be in 6.0.19 onwards.", "bug_id": 45851, "is_private": false, "id": 124062, "time": "2009-01-14T16:33:28Z", "creator": "markt@apache.org", "creation_time": "2009-01-14T16:33:28Z", "tags": [], "attachment_id": null}]