[{"count": 0, "tags": [], "bug_id": 9603, "text": "xerces 1.4.3\njdk 1.3.1_01\n\nwe are using xerces as part of a webapp.\nworks fine most of the time ( 6 months online )\nbut sometimes ( happened only about 3 times )\nour custom entity resolver gets a damaged systemid \nfrom xerces, while this was parsing the doctype decl. \nof an xml-file.\n\nbefore this happens, the same xml got parsed correctly.\n\nby restarting the application, this behaviour vanishes.\n\nthings happen, while we are in DOMParser parser.parse()\n(maybe this should belong to component DOM instead of Core)\n\nthats the start of an xml file:\n\n<?xml version=\"1.0\" encoding=\"iso-8859-1\"?>\n<!DOCTYPE config SYSTEM \"modules.dtd\">\n\nif that bug occurs, this is what our custom \nentity resolver logs, then immediately, the error,\nwhich happens because the resolver can't resolve\nthe damaged systemid and so xerces can't find the \ndtd-file:\n\n<2002-06-03 14:48:17,427> <1117362628> <Server  WebApp> [DEBUG] <Import> \n    tivanoEntityResolver.resolveEntity() invoked for \n         publicId: null\n         systemId:  \"modules.d\n<2002-06-03 14:48:17,428> <1117362629> <Server  WebApp> [ERROR] <Import>  SAX\nParsing \nFatal Error: \n    Line: 0 in URI: file:////tivano/import/config/modules.xml\n    Message: File \" \"modules.d\" not found.\n\nin a similar case, the damaged system id is \"M \"fitforfun\"\nthe first two lines of the corresponding xml file being\n   \n<?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?>\n<!DOCTYPE content SYSTEM \"fitforfun.dtd\">\n\n( watch the M of SYSTEM )\n\nlast time that happened, we modified the xml file:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?><!DOCTYPE config SYSTEM \"modules.dtd\">\n\nthis resulted in a different error\n\njava.lang.RuntimeException: addSymbolToCache\n        at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1094)\n        at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1122)\n        at de.tivano.ImportConfig.getDoc(ImportConfig.java:500)\n...\n\nwhile the app was still running, both kind of errors were\nreproducible, after a restart the bug dissappeared again", "id": 17140, "time": "2002-06-04T09:16:38Z", "creator": "apel-apache@tivano.de", "creation_time": "2002-06-04T09:16:38Z", "is_private": false, "attachment_id": null}]