[{"count": 0, "tags": [], "creator": "lec@uniquare.com", "attachment_id": null, "id": 17581, "time": "2002-06-11T13:22:28Z", "bug_id": 9772, "creation_time": "2002-06-11T13:22:28Z", "is_private": false, "text": "The RequestDispatcher.forward(resource) does not perform necessary checks for \nthe specified resource. Assuming a DispatcherServlet is used to forward a \nrequest following examples are executed without error:\n\nhttp://localhost:8080/app/_dispatcher?_reqpage=/x/abc/QTAd123/anyStuff.html\nBUG: the resource does not exist and error 404 should be generated in this \ncase. Instead an \"empty\" page with following contents is returned:\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">\n<HTML><HEAD>\n<META http-equiv=Content-Type content=\"text/html; charset=windows-1252\"></HEAD>\n<BODY></BODY></HTML>\n\nhttp://localhost:8080/app/_dispatcher?_reqpage=/secure/\nBUG: the resource is protected (and configured for formbased authentication), \nbut no logon-JSP is prompted. Assuming that the removal of the last \"/\" results \nin a redirect I've tried it: the authentication becomes active again!\nSo http://localhost:8080/app/_dispatcher?_reqpage=/secure works where \nhttp://localhost:8080/app/_dispatcher?_reqpage=/secure/ and \nhttp://localhost:8080/app/_dispatcher?_reqpage=/secure/myFile.jsp do not prompt \nfor a logon. Remember: the dispatcher performs a forward() in all cases.\n\nVerifying: accesses without forward() to protected and existing resources works:\nOK: http://localhost:8080/app/_dispatcher?_reqpage=/secure\nOK: http://localhost:8080/app/secure/\nOK: http://localhost:8080/app/secure/logoff.jsp\n\nThis clues are leading to the assumption that the forward() method does not \ncheck for security and presence of the requested resource."}, {"count": 1, "tags": [], "creator": "william.barker@wilshire.com", "attachment_id": null, "is_private": false, "id": 17611, "time": "2002-06-11T18:00:23Z", "bug_id": 9772, "creation_time": "2002-06-11T18:00:23Z", "text": "Not checking security constraints on forwarded requests is part of the servlet \nspec.\n\n*** This bug has been marked as a duplicate of 5722 ***"}, {"count": 2, "tags": [], "creator": "lec@uniquare.com", "attachment_id": null, "id": 17646, "time": "2002-06-12T11:30:31Z", "bug_id": 9772, "creation_time": "2002-06-12T11:30:31Z", "is_private": false, "text": ">> Not checking security constraints on forwarded requests\n>> is part of the servlet spec.\nWhere? Checked Servlet 2.2 and 2.3 spec and could not find such a documentation.\nAnyway: there is also NO spec which tells that a check must be performed, but \nsecurity-constraints without checking do not make real sense. Also all other \nservlet-containers to perform a checking within their forward() method.\n\nIf forward() does not need to perform security checks: how can I redirect the \nconfigured (form-based) login-page to the browser?\n"}, {"count": 3, "tags": [], "text": "Java Servlet Specification Version 2.3\n\n SRV.12.2 Declarative Security\n\n The security model does not apply when a servlet uses the\n RequestDispatcher to invoke a static resource or servlet\n using a forward or an include.\n\nThe theory is that 2.3 is a clarification of 2.2 when they\naddress the same issues.\n\n You can do an HTTP redirect over to the security page instead\nof using an internal forward.\n\n (Is this really a duplicate of 5722 \"Forward to a page that\nhave no extension displays a blank page\"?)", "attachment_id": null, "bug_id": 9772, "id": 17681, "time": "2002-06-12T15:57:54Z", "creator": "apache-bugzilla@distributopia.com", "creation_time": "2002-06-12T15:57:54Z", "is_private": false}, {"count": 4, "tags": [], "creator": "lec@uniquare.com", "attachment_id": null, "is_private": false, "id": 17723, "time": "2002-06-13T07:22:28Z", "bug_id": 9772, "creation_time": "2002-06-13T07:22:28Z", "text": "Because the spec (even if only since 2.3) tells that no checking has to be \nperformed the implemented behavior is OK for me.\n\nStatus can be changed to WONTFIX (or another appropiate value).\n"}]