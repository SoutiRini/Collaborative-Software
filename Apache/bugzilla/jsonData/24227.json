[{"count": 0, "tags": [], "bug_id": 24227, "attachment_id": null, "id": 46468, "time": "2003-10-29T19:14:38Z", "creator": "Robert.Dahlem@gmx.net", "creation_time": "2003-10-29T19:14:38Z", "is_private": false, "text": "ReliantUNIX does not know about struct utimbuf without including utime.h, which\nleads to:\n\n    /usrhome4/src/pub/apache/httpd-2.0.48/srclib/apr/libtool --silent\n        --mode=compile cc   -O -DHAVE_CONFIG_H -DSVR4\n        -I../../include -I../../include/arch/unix\n        -I../../include/arch/unix -c filestat.c && touch filestat.lo\n\n    filestat.c   244: [error]:   CFE1070 incomplete type is not allowed\n        struct utimbuf buf;\n                     ^\n\nProposed patch is to check for existence of utime.h and include it from within\nfilestat.c\n\nNote: Must run autoconf in srclib/apr after applying the patch."}, {"count": 1, "tags": [], "creator": "Robert.Dahlem@gmx.net", "attachment_id": 8806, "is_private": false, "id": 46469, "time": "2003-10-29T19:15:25Z", "bug_id": 24227, "creation_time": "2003-10-29T19:15:25Z", "text": "Created attachment 8806\nProposed patch"}, {"count": 2, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "is_private": false, "id": 46607, "time": "2003-11-01T10:04:54Z", "bug_id": 24227, "creation_time": "2003-11-01T10:04:54Z", "text": "Thanks for the report.  Can you check whether it works on ReliantUNIX if you\nremove the new configure check, and use just:\n\n#ifdef HAVE_UTIME\n#include <utime.h>\n#endif\n\ninstead? (note, HAVE_UTIME not HAVE_UTIME_H)\n"}, {"count": 3, "tags": [], "bug_id": 24227, "is_private": false, "id": 46608, "creation_time": "2003-11-01T10:35:34Z", "time": "2003-11-01T10:35:34Z", "creator": "Robert.Dahlem@gmx.net", "text": "Don't need to check: the line where the compilation error occured is within\n\n    #elif defined(HAVE_UTIME)\n    #endif\n\nso your patch would definitely work too.\n\nIf there are systems knowing about struct utimbuf and utime() without including\nutime.h (Solaris 5.8 seems to be one) then my assumption was that some (weird?)\nsystem could exist without utime.h at all. That's the reason I made the extra\nconfigure check.", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 24227, "attachment_id": null, "id": 51146, "time": "2004-01-25T17:14:42Z", "creator": "jorton@redhat.com", "creation_time": "2004-01-25T17:14:42Z", "is_private": false, "text": "Thanks for the report: this is fixed for the next 2.0 release."}]