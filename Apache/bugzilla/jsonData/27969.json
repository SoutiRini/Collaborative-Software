[{"count": 0, "tags": [], "creator": "rickkw@yahoo.com", "is_private": false, "text": "Background:\n\n* JBoss 3.2.4RC1 w/Tomcat 5.0.19.\n* Two webapps: /com.loudcloud.owm.usrmgr, /com.loudcloud.owm.shared\n* Inside page /com.loudcloud.owm.usrmgr/domain.jsp, it includes the content of\nanother JSP from another webapp /com.loudcloud.owm.shared/header.jsp.  It does\nso by getting a request dispatcher\n\nServletContext ctx2 =\npageContext.getServletContext().getContext(\"/com.loudcloud.owm.shared\");\nRequestDispatcher dispatcher = ctx.getRequestDispatcher(\"/header.jsp\");\ndispatcher.include(request, response)\n\nThis results in the following NullPointerException in Catalina (see stack trace\nbelow).  Also worth mentioning is that both webapps /com.loudcloud.owm.shared\nand /com.loudcloud.owm.usrmgr have a Filter set up in the web.xml.  Only the\nfilter in the /com.loudcloud.owm.usrmgr/domain.jsp request was invoked.  The\nfilter /com.loudcloud.owm.shared/header.jsp was not invoked.  Is that the\ncorrect behavior with Servlet 2.4?\n\n------------------------------------------------------\n2004-03-25 16:15:25,323 FATAL [org.apache.jasper.runtime.JspFactoryImpl]\nException initializing page context\njava.lang.NullPointerException\n        at\norg.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationHttpRequest.java:546)\n        at\norg.apache.catalina.core.ApplicationHttpRequest.getSession(ApplicationHttpRequest.java:512)\n        at\njavax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:268)\n        at\norg.apache.jasper.runtime.PageContextImpl._initialize(PageContextImpl.java:192)\n        at\norg.apache.jasper.runtime.PageContextImpl.initialize(PageContextImpl.java:167)\n        at\norg.apache.jasper.runtime.JspFactoryImpl.internalGetPageContext(JspFactoryImpl.java:149)\n        at\norg.apache.jasper.runtime.JspFactoryImpl.getPageContext(JspFactoryImpl.java:106)\n        at com.loudcloud.owm.shared.header_jsp._jspService(header_jsp.java:52)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:133)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:856)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:284)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:204)\n        at\norg.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:750)\n        at\norg.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:636)\n        at\norg.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:546)\n        at com.loudcloud.ps.taglib.GenericBodyTag.doEndTag(GenericBodyTag.java:97)\n        at com.loudcloud.owm.usrmgr.domain_jsp._jspService(domain_jsp.java:142)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:133)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:856)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:284)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:204)\n        at\ncom.opsware.owm.util.channel.ChannelFilter.doFilter(ChannelFilter.java:173)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:233)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:204)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:257)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:151)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:567)\n        at\norg.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:245)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:199)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:151)\n        at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:587)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:149)\n        at\norg.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:66)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:149)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:567)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:184)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:151)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:164)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:149)\n        at\norg.jboss.web.tomcat.tc5.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:92)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:149)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:567)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:156)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:151)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:567)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:972)\n        at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:206)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:833)\n        at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:732)\n        at\norg.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:619)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:688)\n        at java.lang.Thread.run(Thread.java:534)", "id": 54697, "time": "2004-03-26T00:44:22Z", "bug_id": 27969, "creation_time": "2004-03-26T00:44:22Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 27969, "text": "\n\n*** This bug has been marked as a duplicate of 27309 ***", "id": 54725, "time": "2004-03-26T11:39:38Z", "creator": "remm@apache.org", "creation_time": "2004-03-26T11:39:38Z", "is_private": false, "attachment_id": null}]