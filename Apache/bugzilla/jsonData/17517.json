[{"count": 0, "tags": [], "bug_id": 17517, "attachment_id": null, "id": 32136, "time": "2003-02-28T04:53:57Z", "creator": "cbowman@spscommerce.com", "creation_time": "2003-02-28T04:53:57Z", "is_private": false, "text": "Catalina begins its chain of classloaders starting with the system classloader \ninstead of the initial thread's context classloader.  When embedding Catalina \nfrom a thread that uses a classloader that is not the system classloader but \ninstead a descendant, a jsp class cannot be found by the WebAppClassLoader.  \nThe missing class is loaded in the initial thread's context classloader.  \nAfter taking a cursory look at the code, it appears that Catalina does not \nassure that the initial context classloader is an ancestor to the classloaders \nit creates. \n\nThe end result is that the embedded Catalina serves static html pages but not \njsp pages.\n\nThe application needs to be shielded from the components that Catalina uses, \nwhich contain different versions of classes used by the application, so it \ncannot simply load the Catalina components in the system classloader."}, {"count": 1, "tags": [], "text": "Correcting the severity and updating the version.", "attachment_id": null, "id": 74253, "creator": "markt@apache.org", "time": "2005-04-28T21:12:40Z", "bug_id": 17517, "creation_time": "2005-04-28T21:12:40Z", "is_private": false}, {"count": 2, "tags": [], "text": "You need to use Catalina.setParentClassLoader(). This doesn't happen automatically and I don't think this should be changed. I will look at changing how the new Tomcat class (used for embedding) works in Tomcat 7.", "is_private": false, "id": 143313, "creation_time": "2011-01-12T12:18:00Z", "time": "2011-01-12T12:18:00Z", "creator": "markt@apache.org", "bug_id": 17517, "attachment_id": null}]