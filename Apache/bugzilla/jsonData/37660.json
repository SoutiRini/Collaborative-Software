[{"count": 0, "attachment_id": null, "bug_id": 37660, "text": "Hello:\n    Recently in my work, I needed to change all the \u2018\\n\u2019 to \u2018\\nSomeWords\u2019. I \nwrote the build file as following:\n<project name=\"xxx-test\" basedir=\".\" default=\"test1\">\n  \n  <target name=\"test1\">\n    \n    <copy file=\"originalForReplaced.txt\" tofile=\"forReplaced.txt\" \noverwrite=\"true\">\n    </copy>\n    <replace file=\"forReplaced.txt\" value=\"&#10;SomeWords\" >\n      <replacetoken>&#10;</replacetoken>\n    </replace>\n  </target>\n\n</project>\n\noriginalForReplaced.txt\n\nhello\nworld\n\nnote:between the hello and world is '\\n' not '\\r\\n'\n\n\tBut failed. I looked into the source code, discovered that the string \nto be replaced and to be replaced with have all been processed so that \u2018\\n\u2019 are \nreplaced with \u2018\\r\\n\u2019. but the string contains the whole text is not processed. \nSo if the lines of the text are terminated with \u2018\\n\u2019, all the line breaks will \nnot be replaced. Then I added the code of:\n\n\tnewString = stringReplace(newString, \"\\r\\n\",\"\\n\", false);\n        newString = stringReplace(newString, \"\\n\", StringUtils.LINE_SEP, false);\n\nin org.apache.tools.ant.taskdefs.Replace.processFile\nthe problem is resolved.", "id": 82901, "time": "2005-11-28T08:40:24Z", "creator": "louguang@vip.sina.com", "creation_time": "2005-11-28T08:40:24Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "louguang@vip.sina.com", "attachment_id": 17061, "id": 82902, "time": "2005-11-28T08:56:26Z", "bug_id": 37660, "creation_time": "2005-11-28T08:56:26Z", "is_private": false, "text": "Created attachment 17061\ntest case(build file, two needed files), patch"}, {"count": 2, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "\n\n*** This bug has been marked as a duplicate of bug 22661 ***", "id": 123107, "time": "2008-12-05T02:21:11Z", "bug_id": 37660, "creation_time": "2008-12-05T02:21:11Z", "is_private": false}]