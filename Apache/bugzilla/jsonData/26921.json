[{"count": 0, "tags": [], "bug_id": 26921, "attachment_id": null, "is_private": false, "id": 52251, "time": "2004-02-13T17:05:31Z", "creator": "David.LeRoy@net-linx.com", "creation_time": "2004-02-13T17:05:31Z", "text": "When the <borland> subtask is run on multiple directories to produce multiple \nejb jars, each directory includes generated classes from the previous \ndirectories.\n\nIn other words, if the task is run on directories X, Y and Z, Y.jar contains \nclasses from X and Z.jar contains classes from Y and Z.  If the task is run \nseparately on X, Y and Z only the correct classes are included.\n\nThe files that are added are of the form:\n\n    <*>POAInvokeHandler.class\n    <*>POA.class\n    <*>Operations.class\n    <*>.class\n    <*>.class\n\nThe problem seems to be in the writeJar() method in BorlandDeploymentTool.java:\n\n...\n_genfiles.clear();  // <--- added this line\n\nbuildBorlandStubs(homes.iterator());\n\n//add the gen files to the collection\nfiles.putAll(_genfiles);\n\nsuper.writeJar(baseName, jarFile, files, publicId);\n...\n\nAnd the correct files were incorporated in ejb jars.  Not sure of this is the \ncorrect solution but it seems to be."}, {"count": 1, "tags": [], "bug_id": 26921, "attachment_id": null, "is_private": false, "id": 118468, "time": "2008-07-10T07:54:50Z", "creator": "bodewig@apache.org", "creation_time": "2008-07-10T07:54:50Z", "text": "I don't know whether the borland appserver is still around, but I know we won't have one around for testing.\n\nThe proposed change looks trivial and I feel like applying it to trunk - nobody is going to notice if I broke it anyway. ;-)\n\nFurthermore it looks as if the patch was endorsed by BorlandDeploymentTool's original author http://www.moussaud.org/ejbjar.html\n\nsvn rev 675603"}]