[{"count": 0, "tags": [], "bug_id": 1854, "text": "I have the following deployment descriptor (web.xml):\n-------------- BEGIN: web.xml\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<!DOCTYPE web-app\n    PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN\"\n    \"http://java.sun.com/j2ee/dtds/web-app_2.2.dtd\">\n<web-app>\n    <servlet-mapping url-pattern=\"/\" servlet-name=\"portal\"/>\n    <servlet>\n        <servlet-name>portal</servlet-name>\n        <servlet-class>Turbine</servlet-class>\n        <init-param>\n            <param-name>properties</param-name>\n            <param-value>\\WEB-INF\\conf\\TurbineResources.properties</param-value>\n        </init-param>\n    </servlet>\n</web-app>\n-------------- END: web.xml\n\nWhen reading in this descriptor, Tomcat outputs the following error to the \nconsole.\n\n-------------- BEGIN: error with stacktrace\nERROR reading D:\\opt\\portal\\WEB-INF\\web.xml\nAt Line 8 /web-app/servlet-mapping/ url-pattern=/ servlet-name=portal\n\n2001-05-22 13:32:07 - WebXmlReader: ERROR reading D:\\opt\\portal\\WEB-\nINF\\web.xml - java.lang.reflect.InvocationTargetException: \njava.lang.NullPointerException:\n        at java.util.Hashtable.get(Hashtable.java:320)\n        at org.apache.tomcat.core.Context.addServletMapping(Context.java:296)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.tomcat.util.xml.MethodSetter.end(XmlMapper.java:857)\n        at org.apache.tomcat.util.xml.XmlMapper.matchEnd(XmlMapper.java:450)\n        at org.apache.tomcat.util.xml.XmlMapper.endElement(XmlMapper.java:110)\n        at org.xml.sax.helpers.XMLReaderAdapter.endElement\n(XMLReaderAdapter.java:347)\n        at org.apache.xerces.parsers.SAXParser.endElement(SAXParser.java:1403)\n        at org.apache.xerces.validators.common.XMLValidator.callEndElement\n(XMLValidator.java:1385)\n        at org.apache.xerces.framework.XMLDocumentScanner.scanElement\n(XMLDocumentScanner.java:1865)\n        at \norg.apache.xerces.framework.XMLDocumentScanner$ContentDispatcher.dispatch\n(XMLDocumentScanner.java:1238)\n        at org.apache.xerces.framework.XMLDocumentScanner.parseSome\n(XMLDocumentScanner.java:381)\n        at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:952)\n        at org.xml.sax.helpers.XMLReaderAdapter.parse(XMLReaderAdapter.java:223)\n        at javax.xml.parsers.SAXParser.parse(SAXParser.java:345)\n        at javax.xml.parsers.SAXParser.parse(SAXParser.java:290)\n        at org.apache.tomcat.util.xml.XmlMapper.readXml(XmlMapper.java:274)\n        at org.apache.tomcat.facade.WebXmlReader.processWebXmlFile\n(WebXmlReader.java:228)\n        at org.apache.tomcat.facade.WebXmlReader.contextInit\n(WebXmlReader.java:112)\n        at org.apache.tomcat.core.Context.init(Context.java:537)\n        at org.apache.tomcat.core.ContextManager.init(ContextManager.java:531)\n        at org.apache.tomcat.startup.EmbededTomcat.initContextManager\n(EmbededTomcat.java:245)\n        at org.apache.tomcat.startup.Tomcat.start(Tomcat.java:149)\n        at org.apache.tomcat.startup.Tomcat.execute(Tomcat.java:92)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.tomcat.util.IntrospectionUtils.execute\n(IntrospectionUtils.java:87)\n        at org.apache.tomcat.startup.Main.execute(Main.java:322)\n        at org.apache.tomcat.startup.Main.main(Main.java:189)\n-------------- END: error with stacktrace", "id": 2600, "time": "2001-05-22T05:25:30Z", "creator": "neeme.praks@one.lv", "creation_time": "2001-05-22T05:25:30Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 1854, "is_private": false, "text": "Ok, I figured out that I used wrong syntax for web.xml...\nThe correct syntax would be:\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<!DOCTYPE web-app\n    PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN\"\n    \"http://java.sun.com/j2ee/dtds/web-app_2.2.dtd\">\n<web-app>\n    <servlet>\n        <servlet-name>portal</servlet-name>\n        <servlet-class>Turbine</servlet-class>\n        <init-param>\n            <param-name>properties</param-name>\n            <param-value>\\WEB-INF\\conf\\TurbineResources.properties</param-value>\n        </init-param>\n    </servlet>\n    <servlet-mapping>\n        <url-pattern>/</url-pattern>\n        <servlet-name>portal</servlet-name>\n    </servlet-mapping>\n</web-app>", "id": 2601, "time": "2001-05-22T06:04:58Z", "creator": "neeme.praks@one.lv", "creation_time": "2001-05-22T06:04:58Z", "attachment_id": null}]