[{"count": 0, "tags": [], "creator": "janssk1@hotmail.com", "attachment_id": null, "is_private": false, "id": 65457, "time": "2004-10-21T18:00:38Z", "bug_id": 31832, "creation_time": "2004-10-21T18:00:38Z", "text": "Hello, \n\nI am trying to put some load on an HTTPS server, but jmeter threads keep\nblocking during the HTTPS handshake. If i launch eg ten threads, they will all\nstart issuing requests successfully but after a while they all (one by one) get\nstuck.\n\nA thread dump of one blocked thread: \n\n\"Thread Group1-14\" prio=7 tid=0x02ea1b68 nid=0x566c runnable\n[0x2dd9f000..0x2dd9f9e4]\n        at java.net.SocketInputStream.socketRead0(Native Method)\n        at java.net.SocketInputStream.read(SocketInputStream.java:129)\n        at com.sun.net.ssl.internal.ssl.InputRecord.readFully(InputRecord.java:284)\n        at com.sun.net.ssl.internal.ssl.InputRecord.read(InputRecord.java:319)\n        at\ncom.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:720)\n        - locked <0x1f38a930> (a java.lang.Object)\n        at\ncom.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:102\n5)\n        - locked <0x1f38a938> (a java.lang.Object)\n        at\ncom.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1038)\n        at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:405)\n        at\nsun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHtt\npsURLConnection.java:170)\n        at\ncom.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl.connect(HttpsURLCon\nnectionOldImpl.java:122)\n        at\norg.apache.jmeter.protocol.http.sampler.HTTPSampler.sample(HTTPSampler.java:467)\n        at\norg.apache.jmeter.protocol.http.sampler.HTTPSampler.downloadPageResources(HTTPSampler.jav\na:736)\n        at\norg.apache.jmeter.protocol.http.sampler.HTTPSampler.sample(HTTPSampler.java:580)\n        at\norg.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:585)\n        at\norg.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:573)\n        at org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:254)\n        at java.lang.Thread.run(Thread.java:595)\n\nThese blocked threads also eat up resources (https connections) at the server\nside. They are only released if jmeter is stopped.\n\nI have seen this behavior with both JDK 1.4 and 1.5. I realise this might be a\nJDK (SSL) bug, but i wonder if anybody else working with jmeter has seen this\nproblem. Is using a different SSL provider the way to go ?\n\nRegards, \nKoen.\n\nJmeter: 2.1\nJDK 1.5/1.4\nServer: jboss 3.2.3 (tomcat)"}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "is_private": false, "id": 65473, "attachment_id": null, "bug_id": 31832, "creation_time": "2004-10-21T22:52:13Z", "time": "2004-10-21T22:52:13Z", "text": "The trace suggests that JMeter is trying to download embedded\nresources within the SSL page - perhaps try switching this off, in\ncase this nested sample is causing the problem?\n\n"}, {"count": 2, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "is_private": false, "id": 104982, "time": "2007-07-02T03:30:57Z", "bug_id": 31832, "creation_time": "2007-07-02T03:30:57Z", "text": "Not been seen again, as far as I know.\n\nPlease re-open with details if the problem occurs in 2.2 or later."}]