[{"count": 0, "tags": [], "text": "A thread discussing this is has been on the ant user list for the past few days.\nSuppose a target has a <description> child element. Then running 'ant\n-projecthelp' will show that description as part of the project description, not\nas part of the target description. Note that <description> is a valid child\nelement of target. I have two patches to fix this:\n\n1. In org.apache.tools.ant.types.Description.java, it explicitly looks through\nALL targets for <description> elements and adds any text contained in those\nelements to the project description. The patch limits this to the implicit\ntarget only.\n\n2. In org.apache.tools.ant.Target.java, the description can only be set as an\nattribute. The patch appends any text contained in child <description> elements\nto any text contained in the description attribute.", "attachment_id": null, "bug_id": 27722, "id": 54111, "time": "2004-03-16T21:38:56Z", "creator": "danson@germane-software.com", "creation_time": "2004-03-16T21:38:56Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 10819\ndiff for Description.java", "is_private": false, "bug_id": 27722, "id": 54112, "time": "2004-03-16T21:39:37Z", "creator": "danson@germane-software.com", "creation_time": "2004-03-16T21:39:37Z", "attachment_id": 10819}, {"count": 2, "tags": [], "bug_id": 27722, "attachment_id": 10820, "id": 54113, "time": "2004-03-16T21:40:03Z", "creator": "danson@germane-software.com", "creation_time": "2004-03-16T21:40:03Z", "is_private": false, "text": "Created attachment 10820\npatch for Target.java"}, {"count": 3, "tags": [], "creator": "danson@germane-software.com", "is_private": false, "text": "Created attachment 10821\na better diff for Target, this one does not let -projecthelp show a description for the implicit target, as that is actually the description for the target.", "id": 54114, "time": "2004-03-16T22:00:44Z", "bug_id": 27722, "creation_time": "2004-03-16T22:00:44Z", "attachment_id": 10821}, {"attachment_id": null, "tags": [], "bug_id": 27722, "is_private": false, "count": 4, "id": 54115, "time": "2004-03-16T22:06:16Z", "creator": "danson@germane-software.com", "creation_time": "2004-03-16T22:06:16Z", "text": "That should say,\n\"a better diff for Target, this one does not let -projecthelp show a description\nfor the implicit target, as that is actually the description for the Project.\"\n\nIt would also be good to be able to show the project descriptions for projects\nimported by the <import> task.\n"}, {"count": 5, "tags": [], "text": "Did you say that right?  What does -projecthelp show then?", "attachment_id": null, "bug_id": 27722, "id": 54123, "time": "2004-03-17T00:06:01Z", "creator": "mbenson@apache.org", "creation_time": "2004-03-17T00:06:01Z", "is_private": false}, {"count": 6, "tags": [], "creator": "danson@germane-software.com", "attachment_id": null, "text": "The top-level <description> element is actually inside an \"invisible\" target,\nreferred to in the API docs as the \"implicit target\". So the <description>\nelement in the implicit target is in fact the <description> element for the\nproject. The last patch stops 'ant -projecthelp' from displaying the implicit\ntarget, which makes sense as it is invisible.", "id": 54162, "time": "2004-03-17T16:20:08Z", "bug_id": 27722, "creation_time": "2004-03-17T16:20:08Z", "is_private": false}, {"count": 7, "attachment_id": null, "bug_id": 27722, "is_private": false, "id": 54163, "time": "2004-03-17T16:24:07Z", "creator": "mbenson@apache.org", "creation_time": "2004-03-17T16:24:07Z", "tags": [], "text": "Okay, I was just making sure I understood what you were doing--the sensible \nthing, sounds like.  :)"}, {"count": 8, "tags": [], "creator": "adam.hardy@cyberspaceroad.com", "attachment_id": null, "is_private": false, "id": 54311, "time": "2004-03-20T14:49:43Z", "bug_id": 27722, "creation_time": "2004-03-20T14:49:43Z", "text": "If people are already implementing the current functionality deliberately to get\ndescription text into the project level description, perhaps an attribute like\ntargetOnly=\"true\" would be in order. \n\nAlso desirable IMHO if anyone is hacking away at this right now, would be to\noutput the target name as a prefix to the description when it appears at project\nlevel. \n\nBut otherwise, current behaviour is a bit weird. "}]