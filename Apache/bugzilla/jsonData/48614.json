[{"count": 0, "tags": [], "creator": "osegarra@gencat.net", "text": "Hi, \n\nLogs are not flushed at startup. \n\nWhen I stop service I can see the whole stack (startup and shutdown) but I cannot see any message at catalina.out while service is running.\n\nI'm using the default server.xml.\n\nThanks in advance!", "id": 133919, "time": "2010-01-26T00:38:30Z", "bug_id": 48614, "creation_time": "2010-01-26T00:38:30Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 48614, "attachment_id": null, "text": "More info:\n\n* Note that I have tested tomcat 6.0.20 and logs were displayed successfuly\n* Note that we are using tomcat 6.0.24 64bits on windows 2008 x64\n\nThanks a lot!\n\n> Hi, \n> Logs are not flushed at startup. \n> When I stop service I can see the whole stack (startup and shutdown) but I\n> cannot see any message at catalina.out while service is running.\n> I'm using the default server.xml.\n> Thanks in advance!", "id": 133920, "time": "2010-01-26T00:44:18Z", "creator": "osegarra@gencat.net", "creation_time": "2010-01-26T00:44:18Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 48614, "attachment_id": null, "text": "This is an unwanted side-effect of adding support for encoding to JULI. Buffering was also made configurable but there is some unexpected buffering going on in the classes that do the encoding. You can revert to the original behaviour by setting bufferSize=-1 for your log handlers.\n\nLooks like either the default bufferSize needs changing or we need to find a way to avoid the buffering in encoding.", "id": 133927, "time": "2010-01-26T03:30:53Z", "creator": "markt@apache.org", "creation_time": "2010-01-26T03:30:53Z", "is_private": false}, {"count": 3, "tags": [], "creator": "osegarra@gencat.net", "text": "Hi, \n\nI have been trying to find where can I change the BufferSize and there is no configuration file containing:\n\nbufferSize\n\nIf it is not possible to change it I will have to revert to 6.0.20 where flush worked perfectly.\n\nWhere can I change this property ?\n\nThanks a lot!!", "id": 133928, "time": "2010-01-26T03:37:45Z", "bug_id": 48614, "creation_time": "2010-01-26T03:37:45Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "osegarra@gencat.net", "text": "I will change priority due to a lack of logs is blocking to set this server in production environment.\n\nThanks in advance...", "id": 133931, "time": "2010-01-26T03:39:14Z", "bug_id": 48614, "creation_time": "2010-01-26T03:39:14Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 48614, "attachment_id": null, "text": "bufferSize is explained in the logging documentation:\nhttp://tomcat.apache.org/tomcat-6.0-doc/logging.html\n\nFor example:\n1catalina.org.apache.juli.FileHandler.bufferSize=-1", "id": 133933, "time": "2010-01-26T03:44:31Z", "creator": "markt@apache.org", "creation_time": "2010-01-26T03:44:31Z", "is_private": false}, {"count": 6, "tags": [], "creator": "osegarra@gencat.net", "text": "Created attachment 24888\nlogging.properties", "id": 133934, "time": "2010-01-26T03:53:47Z", "bug_id": 48614, "creation_time": "2010-01-26T03:53:47Z", "is_private": false, "attachment_id": 24888}, {"attachment_id": null, "tags": [], "bug_id": 48614, "is_private": false, "count": 7, "id": 133935, "time": "2010-01-26T03:54:41Z", "creator": "osegarra@gencat.net", "creation_time": "2010-01-26T03:54:41Z", "text": "Hi, \n\nThis workarround has worked perfectly. I have attached my logging.properties in order to help anybody experiencing the same issue.\n\nThanks a lot."}, {"count": 8, "tags": [], "creator": "markt@apache.org", "text": "This has been fixed in trunk and proposed for 6.0.x by Filip", "id": 134087, "time": "2010-01-31T16:29:48Z", "bug_id": 48614, "creation_time": "2010-01-31T16:29:48Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "creator": "markt@apache.org", "text": "The fix has been applied to 6.0.x and will be included in 6.0.25 onwards.", "id": 134412, "time": "2010-02-10T23:07:12Z", "bug_id": 48614, "creation_time": "2010-02-10T23:07:12Z", "is_private": false, "attachment_id": null}]