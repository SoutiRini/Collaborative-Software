[{"count": 0, "tags": [], "bug_id": 50578, "text": "With Ant 1.8.2, Javac task failes when the \"target\" attribute is specified as 1.1 and source\nattribute is not specified.\n\nExsample of build.xml.\n------------------------------------------------------------------------\n<?xml version=\"1.0\"?>\n\n<project default=\"compile\">\n\n  <target name=\"compile\">\n    <javac destdir = \"classes\" srcdir = \"src\" target = \"1.1\"/>\n  </target>\n\n</project>\n------------------------------------------------------------------------\n\n\nRunning the build.xml. (Version of javac is 1.6.0_22.)\n------------------------------------------------------------------------\n% ant\nBuildfile: build.xml\n\ncompile:\n    [javac] build.xml:6: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds\n    [javac] Compiling 1 source file to classes\n    [javac]\n    [javac]           WARNING\n    [javac]\n    [javac] The -source switch defaults to 1.5 in JDK 1.5 and 1.6.\n    [javac] If you specify -target 1.2 you now must also specify -source 1.1.\n    [javac] Ant will implicitly add -source 1.1 for you.  Please change your build file.\n    [javac] javac: invalid source release: 1.1\n    [javac] Usage: javac <options> <source files>\n    [javac] use -help for a list of possible options\n\nBUILD FAILED\nbuild.xml:6: Compile failed; see the compiler error output for details.\n------------------------------------------------------------------------\n\nPlease note that the target attribute value is shown as 1.2.\n\nI investigated the problem:  in org.apache.tools.ant.taskdefs.compilers.DefaultCompilerAdapter, \nsetImplicitSourceSwitch method is in called as following.\n\nsetImplicitSourceSwitch(\n\t(assumeJava15() || assumeJava16()) ? \"1.5 in JDK 1.5 and 1.6\" : \"1.7 in JDK 1.7\",\n        cmd,\n\ts,\n\tt);\n\nBut, setImplicitSourceSwitch method is declared as following.\n\nprivate void setImplicitSourceSwitch(\n\tString defaultDetails,\n\tCommandline cmd,\n\tString target,\n\tString source) \n\nPlease note the orders of \"target\" and \"source\": the call above passes parameters in wrong order.", "id": 143318, "time": "2011-01-12T22:02:32Z", "creator": "tadashi.maemura@nts.ricoh.co.jp", "creation_time": "2011-01-12T22:02:32Z", "is_private": false, "attachment_id": null}, {"id": 143330, "tags": [], "bug_id": 50578, "is_private": false, "count": 1, "text": "mea culpa.\n\nFixed with svn revision 1058854\n\nThe real solution for you is to avoid any implicit manipulations by Ant and\nspecify source explicitly as well (likely as 1.3).", "time": "2011-01-14T00:16:08Z", "creator": "bodewig@apache.org", "creation_time": "2011-01-14T00:16:08Z", "attachment_id": null}]