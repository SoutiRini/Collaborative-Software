[{"count": 0, "tags": [], "creator": "ben@opennms.org", "text": "I've winnowed down a problem with uptodate and unless where it does not act as I\nwould expect based on the examples I've seen.  It's more difficult to explain\nthan to just give an example.  First, touch a file called \"from.txt\", and then\n\"to.txt\".  Then try running ant on this build:\n\n-----------\n<?xml version=\"1.0\"?>\n \n<project name=\"uptodate_test\" default=\"test\" basedir=\".\">\n \n <target name=\"init\" >\n  <tstamp/>\n </target>\n \n <target name=\"test\" depends=\"init\">\n  <antcall target=\"something\">\n   <param name=\"testproperty\" value=\"something\"/>\n  </antcall>\n </target>\n \n <target name=\"something.uptodate\">\n  <uptodate property=\"${testproperty}.is.uptodate\" targetfile=\"to.txt\">\n   <srcfiles dir=\".\">\n    <include name=\"from.txt\"/>\n   </srcfiles>\n  </uptodate>\n </target>\n \n <target name=\"something\" depends=\"something.uptodate\"\nunless=\"${testproperty}.is.uptodate\">\n  <echo message=\"something.is.uptodate = ${something.is.uptodate}\"/>\n </target>\n \n</project>\n-----------\n\n...I would have expected it to *not* echo anything because the unless would be\ntriggered, but it is not being triggered, even though the property has been\nset.  Is this expected behavior?  If so, is there a way to accomplish what I'm\nattempting here?", "id": 4220, "time": "2001-08-01T13:44:59Z", "bug_id": 2955, "creation_time": "2001-08-01T13:44:59Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 2955, "text": "if and unless attributes were not dynamic, so the unless condition was testing \nproperty ${testproperty}.is.uptodate - i.e the testproperty was not being \nevaluated. I have made a fix for that.\n\nPlease check the nightly build 2001-08-03\n", "id": 4230, "time": "2001-08-02T04:46:15Z", "creator": "conor@apache.org", "creation_time": "2001-08-02T04:46:15Z", "tags": [], "is_private": false}]