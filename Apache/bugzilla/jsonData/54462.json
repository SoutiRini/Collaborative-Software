[{"count": 0, "tags": [], "bug_id": 54462, "text": "The \"CacheDisable\" in mod_cache uses case sensitive string comparison function, i.e., strcmp, which conflicts with the case insensitivity of Apache's configuration design. According to my understanding, httpd champions case insensitivity for both configuration directive and configuration options, e.g., the \"None\" option for \"CacheIgnoreHeaders\" as follows.\n\nAP_INIT_ITERATE(\"CacheIgnoreHeaders\", add_ignore_header,\nstatic const char *add_ignore_header(cmd_parms *parms, void *dummy, \n                                     const char *header)\n{ ...\n  if (!strcasecmp(header, \"None\")) {\n      /* if header None is listed clear array */\n      conf->ignore_headers->nelts = 0;\n  }\n  ...\n}\n\nThe fix is straightforward as follows:\n\n--- modules/cache/mod_cache.c   2013-01-21 22:11:28.712172966 -0800\n+++ modules/cache/mod_cache.c   2012-08-14 14:14:34.000000000 -0700\n@@ -2064,7 +2064,7 @@\n                                                   &cache_module);\n \n     if (parms->path) {\n-        if (!strcasecmp(url, \"on\")) {\n+        if (!strcmp(url, \"on\")) {\n             dconf->disable = 1;\n             dconf->disable_set = 1;\n             return NULL;", "id": 164778, "time": "2013-01-22T06:21:59Z", "creator": "tixu@cs.ucsd.edu", "creation_time": "2013-01-22T06:21:59Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 54462, "attachment_id": 29876, "id": 164779, "time": "2013-01-22T06:22:28Z", "creator": "tixu@cs.ucsd.edu", "creation_time": "2013-01-22T06:22:28Z", "is_private": false, "text": "Created attachment 29876\nCase insensitive for \"CacheDisable\""}, {"count": 2, "tags": [], "bug_id": 54462, "attachment_id": null, "id": 164780, "time": "2013-01-22T06:39:35Z", "creator": "tixu@cs.ucsd.edu", "creation_time": "2013-01-22T06:39:35Z", "is_private": false, "text": "Ooops, sorry, I messed up my patch...\n\nIt should be:\n\n\n--- modules/cache/mod_cache.c    2012-08-14 14:14:34.000000000 -0700\n+++ modules/cache/mod_cache.c   2013-01-21 22:11:28.712172966 -0800\n@@ -2064,7 +2064,7 @@\n                                                   &cache_module);\n \n     if (parms->path) {\n-        if (!strcmp(url, \"on\")) {\n+        if (!strcasecmp(url, \"on\")) {\n             dconf->disable = 1;\n             dconf->disable_set = 1;\n             return NULL;"}, {"count": 3, "tags": [], "bug_id": 54462, "attachment_id": 29877, "text": "Created attachment 29877\nCase insensitive for \"CacheDisable\" (updated)", "id": 164781, "time": "2013-01-22T06:41:22Z", "creator": "tixu@cs.ucsd.edu", "creation_time": "2013-01-22T06:41:22Z", "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 54462, "text": "Fixed on trunk. r1464721\n\nThanks for the report.", "id": 166387, "time": "2013-04-04T20:14:11Z", "creator": "christophe.jaillet@wanadoo.fr", "creation_time": "2013-04-04T20:14:11Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 54462, "attachment_id": null, "text": "Backported to v2.4.5.", "id": 167711, "time": "2013-06-07T11:56:04Z", "creator": "minfrin@sharp.fm", "creation_time": "2013-06-07T11:56:04Z", "is_private": false}]