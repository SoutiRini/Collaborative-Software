[{"count": 0, "tags": [], "creator": "msoulier@digitaltorque.ca", "attachment_id": null, "text": "We have two apache servers in a ProxyPass configuration, with the public address being an IPv6 address of https://[fd66:4613:4146:1::82]/. The Django web framework uses the HTTP_X_FORWARDED_HOST variable to determine the host to use for redirection, and apache passes this\n\nHTTP_X_FORWARDED_HOST = [fd66\n\nIt looks like some code is naively assuming ipv4 and stripping everything after the colon. This is breaking http redirects from Django and anyone else relying on that variable.", "id": 143230, "time": "2011-01-10T08:53:53Z", "bug_id": 50563, "creation_time": "2011-01-10T08:53:53Z", "is_private": false}, {"count": 1, "tags": [], "creator": "sf@sfritsch.de", "attachment_id": null, "text": "With 2.2.16, the correct X-Forwarded-Host header is sent to the backend. So either this got fixed between 2.2.3 and 2.2.16, or the problem is in Django.", "id": 144231, "time": "2011-02-12T16:48:46Z", "bug_id": 50563, "creation_time": "2011-02-12T16:48:46Z", "is_private": false}]