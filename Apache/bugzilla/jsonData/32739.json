[{"count": 0, "tags": [], "bug_id": 32739, "is_private": false, "text": "When creating a page, it is possible to give the page a Document ID containing an underscore character \nwithout getting a warning from Lenya. Lenya then treats this page as an alternate language page and it \ncannont be deleted from Site.", "id": 68629, "time": "2004-12-16T20:30:48Z", "creator": "fulton@cmu.edu", "creation_time": "2004-12-16T20:30:48Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 32739, "is_private": false, "text": "this is curious. there is javascript code to check for this. can you check if\nyou do have javascript errors?", "id": 68637, "time": "2004-12-17T00:39:11Z", "creator": "gregor@apache.org", "creation_time": "2004-12-17T00:39:11Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "fulton@cmu.edu", "text": "I get a the Javascript error \"Error: validateForm is not defined.\" Browser is Mozilla Firefox 1.0 on OS X.\n\nNo page is created. Lenya gives an error such that if I create a page with id \"test_dns\" I get a 404 \"he \nrequested document '/test_dns.html' with document-id '/test' does not exist.\" However, the page is in \nsitetree.xml and shows up in the navigation.", "id": 68669, "time": "2004-12-17T19:55:06Z", "bug_id": 32739, "creation_time": "2004-12-17T19:55:06Z", "is_private": false, "attachment_id": null}, {"count": 3, "text": " (In reply to comment #2)\n> I get a the Javascript error \"Error: validateForm is not defined.\" Browser is\nMozilla Firefox 1.0 on OS X.\n\ncan you check what happens if you call the validation.js that is referenced in\nthat page directly?\n\n", "bug_id": 32739, "attachment_id": null, "id": 68671, "time": "2004-12-17T21:11:33Z", "creator": "gregor@apache.org", "creation_time": "2004-12-17T21:11:33Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "text": "I can access that file directly. The validateForm function is directly in the page and has some strange \ncharacters (see below). It looks the same in Safari, too. I think it's an encoded tab.\n\n\nfunction validateForm(theForm)\n{\n&#9;if (!validContent(theForm[\"properties.create.child-id\"],\"Document ID\"))\n&#9;&#9;return false;\n\n&#9;if (!validRequired(theForm[\"properties.create.child-id\"],\"Document ID\"))\n&#9;&#9;return false;\n\n&#9;if (!validRequired(theForm[\"properties.create.child-name\"],\"Navigation Title\"))\n&#9;&#9;return false;\n\n&#9;if (!validRequired(theForm[\"properties.create.language\"],\"Language\"))\n&#9;&#9;return false;\n\n&#9;return true;\n}", "is_private": false, "bug_id": 32739, "id": 68672, "time": "2004-12-17T21:52:29Z", "creator": "fulton@cmu.edu", "creation_time": "2004-12-17T21:52:29Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "gregor@apache.org", "is_private": false, "id": 68673, "attachment_id": null, "bug_id": 32739, "creation_time": "2004-12-17T22:04:37Z", "time": "2004-12-17T22:04:37Z", "text": "oh no. thats the xalan from 2.1.6 that produces those. there are reports about\nthat problem on the cocoon mailing list too. we should ship with xalan 2.6.0 i\nthink."}, {"count": 6, "tags": [], "bug_id": 32739, "attachment_id": null, "id": 68717, "time": "2004-12-20T10:02:59Z", "creator": "josias.thoeny@wyona.org", "creation_time": "2004-12-20T10:02:59Z", "is_private": false, "text": "I've had this problem, too. My workaround was to remove all tabs from\ncreate.xsl. There should be no tabs anyway, right?"}, {"count": 7, "text": "(In reply to comment #6)\n> I've had this problem, too. My workaround was to remove all tabs from\n> create.xsl. There should be no tabs anyway, right?\n\nthat's right. do you have a patch for this?", "bug_id": 32739, "attachment_id": null, "id": 68737, "time": "2004-12-20T16:53:47Z", "creator": "gregor@apache.org", "creation_time": "2004-12-20T16:53:47Z", "tags": [], "is_private": false}, {"count": 8, "tags": [], "bug_id": 32739, "attachment_id": 13805, "text": "Created attachment 13805\na patch which removes some tabs.\n\nI added patches which remove all tabs and correct the indenting of the\nfollowing files:\nsrc/webapp/lenya/xslt/authoring/create.xsl\nsrc/webapp/lenya/pubs/default/lenya/xslt/authoring/create.xsl\nsrc/webapp/lenya/pubs/default/lenya/xslt/authoring/create-language.xsl\n(There's one patch for 1.2.X and one for trunk)\n\n(It's my first patch, I hope I did everything the right way, the patches are\njust the output of svn diff)", "id": 68739, "time": "2004-12-20T18:59:34Z", "creator": "josias.thoeny@wyona.org", "creation_time": "2004-12-20T18:59:34Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 32739, "attachment_id": null, "id": 68740, "time": "2004-12-20T20:47:00Z", "creator": "gregor@apache.org", "creation_time": "2004-12-20T20:47:00Z", "is_private": false, "text": "patch applied, thanks. please test and reopen if necessary."}]