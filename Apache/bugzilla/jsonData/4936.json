[{"count": 0, "tags": [], "creator": "joel.hughes@redknee.com", "attachment_id": null, "id": 8016, "time": "2001-11-16T15:41:36Z", "bug_id": 4936, "creation_time": "2001-11-16T15:41:36Z", "is_private": false, "text": "task [fixcrlf] options: eol=lf tab=asis eof=remove tablength=8\nGenerates java.io.IOException: Mark invalid\nException attached below.\nException occurs with and without nested <include/>, suggesting it is not a \nproblem with the processing of any one particular file.  This issues is \noccuring across the majority of our builds.  A few do not exibit this problem; \nyet to understand the differences.  Broken builds are broken on all development \nmachines.\nAlso, the exception occurs regardless of the attribute assignment. We've tried \nno attributes explicitly assigned and all the possible enumerations with no \nchange in behaviour. When we assign an invalid enumeration, the task fails with \nan expected invalid argument exception \"aa is not a legal value for this \nattribute\".\nAnd to confuse matters more, this same operation succeeds earlier in the same \nbuild.  I duplicated the first <fixcrlf/> task to test if the second always \nfailed, but this was not the case.  Also moved the offending operation earlier \nin the build, but it refused to fail at that point.\n\nOffending operation:\n\t\t<fixcrlf srcdir=\"${deploy.dir}\" eol=\"lf\" eof=\"remove\">\t\n\t\t\t<include name=\"bin/**\"/>\n\t\t\t<include name=\"etc/**\"/>\n\t\t\t<include name=\"sql/**\"/>\n\t\t\t<include name=\"doc/*.txt\"/>\n\t\t\t<include name=\"cfg/**\"/>\n\t\t\t<include name=\"var/**\"/>\n\t\t</fixcrlf>\nc:\\redknee\\product\\ussd\\build.xml:275: java.io.IOException: Mark invalid\n        at org.apache.tools.ant.taskdefs.FixCRLF$OneLiner.nextLine(FixCRLF.java:\n909)\n        at org.apache.tools.ant.taskdefs.FixCRLF$OneLiner.nextElement(FixCRLF.ja\nva:938)\n        at org.apache.tools.ant.taskdefs.FixCRLF.processFile(FixCRLF.java:431)\n        at org.apache.tools.ant.taskdefs.FixCRLF.execute(FixCRLF.java:347)\n        at org.apache.tools.ant.Task.perform(Task.java:217)\n        at org.apache.tools.ant.Target.execute(Target.java:184)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:21\n6)\n        at org.mozilla.javascript.ScriptRuntime.call(ScriptRuntime.java:1216)\n        at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1679)\n        at org.mozilla.javascript.InterpretedScript.call(InterpretedScript.java:\n63)\n        at org.mozilla.javascript.InterpretedScript.exec(InterpretedScript.java:\n54)\n        at org.mozilla.javascript.Context.evaluateReader(Context.java:741)\n        at org.mozilla.javascript.Context.evaluateString(Context.java:705)\n        at com.ibm.bsf.engines.javascript.JavaScriptEngine.eval(JavaScriptEngine\n.java:83)\n        at com.ibm.bsf.util.BSFEngineImpl.exec(BSFEngineImpl.java:106)\n        at com.ibm.bsf.BSFManager.exec(BSFManager.java:479)\n        at org.apache.tools.ant.taskdefs.optional.Script.execute(Script.java:109\n)\n        at org.apache.tools.ant.Task.perform(Task.java:217)\n        at org.apache.tools.ant.Target.execute(Target.java:184)\n        at org.apache.tools.ant.Target.performTasks(Target.java:202)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:601)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:560)\n        at org.apache.tools.ant.Main.runBuild(Main.java:454)\n        at org.apache.tools.ant.Main.start(Main.java:153)\n        at org.apache.tools.ant.Main.main(Main.java:176)\n--- Nested Exception ---\njava.io.IOException: Mark invalid\n        at java.io.BufferedReader.reset(BufferedReader.java:485)\n        at org.apache.tools.ant.taskdefs.FixCRLF$OneLiner.nextLine(FixCRLF.java:\n857)\n        at org.apache.tools.ant.taskdefs.FixCRLF$OneLiner.nextElement(FixCRLF.ja\nva:938)\n        at org.apache.tools.ant.taskdefs.FixCRLF.processFile(FixCRLF.java:431)\n        at org.apache.tools.ant.taskdefs.FixCRLF.execute(FixCRLF.java:347)\n        at org.apache.tools.ant.Task.perform(Task.java:217)\n        at org.apache.tools.ant.Target.execute(Target.java:184)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:21\n6)\n        at org.mozilla.javascript.ScriptRuntime.call(ScriptRuntime.java:1216)\n        at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:1679)\n        at org.mozilla.javascript.InterpretedScript.call(InterpretedScript.java:\n63)\n        at org.mozilla.javascript.InterpretedScript.exec(InterpretedScript.java:\n54)\n        at org.mozilla.javascript.Context.evaluateReader(Context.java:741)\n        at org.mozilla.javascript.Context.evaluateString(Context.java:705)\n        at com.ibm.bsf.engines.javascript.JavaScriptEngine.eval(JavaScriptEngine\n.java:83)\n        at com.ibm.bsf.util.BSFEngineImpl.exec(BSFEngineImpl.java:106)\n        at com.ibm.bsf.BSFManager.exec(BSFManager.java:479)\n        at org.apache.tools.ant.taskdefs.optional.Script.execute(Script.java:109\n)\n        at org.apache.tools.ant.Task.perform(Task.java:217)\n        at org.apache.tools.ant.Target.execute(Target.java:184)\n        at org.apache.tools.ant.Target.performTasks(Target.java:202)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:601)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:560)\n        at org.apache.tools.ant.Main.runBuild(Main.java:454)\n        at org.apache.tools.ant.Main.start(Main.java:153)\n        at org.apache.tools.ant.Main.main(Main.java:176)"}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "text": "I wish, people would search the database, especially since 4646 is fixed and\nhas been reported by somebody who also has an redknee.com email address.\n\n*** This bug has been marked as a duplicate of 4646 ***", "id": 8042, "time": "2001-11-18T23:37:01Z", "bug_id": 4936, "creation_time": "2001-11-18T23:37:01Z", "is_private": false, "attachment_id": null}]