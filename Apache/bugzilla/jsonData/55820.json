[{"count": 0, "tags": [], "creator": "fhanik@apache.org", "attachment_id": null, "id": 171462, "time": "2013-11-27T15:53:07Z", "bug_id": 55820, "creation_time": "2013-11-27T15:53:07Z", "is_private": false, "text": "Currently documentation states [1]\n 172.16/12 has not been enabled by default because it is complex to describe with regular expressions\n\nThe regular expression for 172.16/12 is \n172\\.1[6-9]{1}\\.\\d{1,3}\\.\\d{1,3}|172\\.2[0-9]{1}\\.\\d{1,3}\\.\\d{1,3}|172\\.3[0-1]{1}\\.\\d{1,3}\\.\\d{1,3}\n\nThe entire expression would be\n10\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|192\\.168\\.\\d{1,3}\\.\\d{1,3}|169\\.254\\.\\d{1,3}\\.\\d{1,3}|127\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|172\\.1[6-9]{1}\\.\\d{1,3}\\.\\d{1,3}|172\\.2[0-9]{1}\\.\\d{1,3}\\.\\d{1,3}|172\\.3[0-1]{1}\\.\\d{1,3}\\.\\d{1,3}\n\nAnd the escaped java string is \n10\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|192\\\\.168\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|169\\\\.254\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|127\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|172\\\\.1[6-9]{1}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|172\\\\.2[0-9]{1}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}|172\\\\.3[0-1]{1}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\n\n[1] http://tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/valves/RemoteIpValve.html"}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 171663, "time": "2013-12-09T09:49:58Z", "bug_id": 55820, "creation_time": "2013-12-09T09:49:58Z", "text": "This has been fixed in 8.0.x and will be included in 8.0.0-RC6 onwards.\n\nI thought about back-porting it to 7.0.x but in the end opted not to as unexpectedly adding to the list of allowed internal proxies between point releases might create problems for some users."}, {"count": 2, "tags": [], "text": "How about a note in the users guide mentioning that it's been changed in 8.0.0 and users might want to be mindful of the differences?", "is_private": false, "bug_id": 55820, "id": 171672, "time": "2013-12-09T22:04:31Z", "creator": "chris@christopherschultz.net", "creation_time": "2013-12-09T22:04:31Z", "attachment_id": null}]