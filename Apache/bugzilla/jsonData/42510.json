[{"count": 0, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "id": 103623, "time": "2007-05-24T06:52:20Z", "bug_id": 42510, "creation_time": "2007-05-24T06:52:20Z", "is_private": false, "text": "We have to avoid this exception:\n\nCaused by: org.apache.cocoon.components.search.IndexException: message: Timeout\nto access to the indexer (the indexer is indexing)\n\tat\norg.apache.cocoon.transformation.LuceneIndexTransformer2.handleError(LuceneIndexTransformer2.java:593)\n\tat\norg.apache.cocoon.transformation.LuceneIndexTransformer2.initIndexer(LuceneIndexTransformer2.java:523)\n\tat\norg.apache.cocoon.transformation.LuceneIndexTransformer2.startElement(LuceneIndexTransformer2.java:283)"}, {"count": 1, "tags": [], "text": "Created attachment 20269\nDon't try to index if indexer is busy\n\nThis is a temporary workaround to avoid the exceptions. The problem is that the\ndocuments don't get indexed.", "attachment_id": 20269, "bug_id": 42510, "id": 103631, "time": "2007-05-24T08:12:57Z", "creator": "andreas@apache.org", "creation_time": "2007-05-24T08:12:57Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 42510, "is_private": false, "id": 103632, "time": "2007-05-24T08:14:04Z", "creator": "andreas@apache.org", "creation_time": "2007-05-24T08:14:04Z", "tags": [], "text": "A possible solution would be to implement a queue for incremental indexing events."}, {"count": 3, "tags": [], "text": "Maybe we could send a notification to the admin so that the document can be\nindexed manually later.", "attachment_id": null, "bug_id": 42510, "id": 105365, "time": "2007-07-13T05:55:40Z", "creator": "andreas@apache.org", "creation_time": "2007-07-13T05:55:40Z", "is_private": false}, {"count": 4, "tags": [], "creator": "andreas@apache.org", "text": "Looking at the code, it might be easier to get rid of the LuceneIndexTransformer\nand use the indexer directly.", "id": 106054, "time": "2007-07-30T06:58:39Z", "bug_id": 42510, "creation_time": "2007-07-30T06:58:39Z", "is_private": false, "attachment_id": null}, {"count": 5, "attachment_id": null, "creator": "andreas@apache.org", "text": "Now it sends a notification message to user \"lenya\" (configurable in the lucene\nmodule sitemap).", "id": 106540, "time": "2007-08-09T09:17:35Z", "bug_id": 42510, "creation_time": "2007-08-09T09:17:35Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "text": "I added a note to the docs.", "is_private": false, "bug_id": 42510, "id": 106584, "time": "2007-08-10T04:39:07Z", "creator": "andreas@apache.org", "creation_time": "2007-08-10T04:39:07Z", "attachment_id": null}, {"count": 7, "attachment_id": null, "bug_id": 42510, "is_private": false, "id": 106756, "time": "2007-08-14T09:03:01Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-08-14T09:03:01Z", "tags": [], "text": "There was a deadlock issue where when trying to get the indexer, if it was\nalready being used it could not be retrieved. The code to release the indexer\nwas locked by the code waiting for the indexer to be released. I've fixed the\ncode in r565815. Can someone give it a try? It might not be perfect, but it\nshould be better so long as releaseIndexer() is always called."}, {"count": 8, "tags": [], "text": "I'm pretty sure I fixed this in r565815. The code has been corrected for locking\nerrors and it will take at least 5 seconds for it to time out. If it does time\nout, a notification message will be sent. Running the jmeter tests that\ndiscovered the problem showed no problems. I'm calling this one fixed.", "is_private": false, "bug_id": 42510, "id": 109478, "time": "2007-10-18T12:19:47Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-10-18T12:19:47Z", "attachment_id": null}]