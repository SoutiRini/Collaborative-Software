[{"count": 0, "tags": [], "creator": "mamfelt@gmail.com", "text": "The default/example webdav configuration file substitutes $prefix rather than $datadir when creating .../extra/httpd-dav.conf file - unlike extra/{httpd-multilang-errordoc.conf|httpd-ssl.conf}, and .../httpd.conf.\n\n==========\nI am expecting them to all begin with /var/httpd - except where $datadir is specified.\n\n<Layout AIX>\n    prefix:        /opt/httpd\n    exec_prefix:   /opt/httpd\n    bindir:        ${exec_prefix}/bin\n    sbindir:       ${exec_prefix}/sbin\n    libdir:        ${exec_prefix}/lib\n    libexecdir:    ${exec_prefix}/libexec\n    mandir:        /usr/share/man\n    datadir:       /var/httpd\n    sysconfdir:    ${datadir}/etc\n    installbuilddir: ${datadir}/build\n    errordir:      ${datadir}/error\n    htdocsdir:     ${datadir}/htdocs\n    cgidir:        ${datadir}/cgi-bin\n    iconsdir:      ${prefix}/icons\n    manualdir:     ${prefix}/manual\n    includedir:    ${prefix}/include\n    localstatedir: /var/httpd\n    runtimedir:    ${localstatedir}/run\n    logfiledir:    ${localstatedir}/logs\n    proxycachedir: ${localstatedir}/proxy\n</Layout>\n======\n\nexample (only looking at <Directory> directive as sample:\nroot@x104:[/var/httpd/etc/original/extra]grep Directory *\nhttpd-autoindex.conf:# a file matching those listed in the DirectoryIndex directive.\nhttpd-autoindex.conf:<Directory \"/opt/httpd/icons\">\nhttpd-autoindex.conf:</Directory>\nhttpd-dav.conf:<Directory \"/opt/httpd/uploads\">\nhttpd-dav.conf:</Directory>\nhttpd-manual.conf:<Directory \"/opt/httpd/manual\">\nhttpd-manual.conf:</Directory>\nhttpd-multilang-errordoc.conf:<Directory \"/var/httpd/error\">\nhttpd-multilang-errordoc.conf:</Directory>\nhttpd-ssl.conf:<Directory \"/var/httpd/cgi-bin\">\nhttpd-ssl.conf:</Directory>\nhttpd-userdir.conf:<Directory \"/home/*/public_html\">\nhttpd-userdir.conf:</Directory>\nroot@x104:[/var/httpd/etc/original/extra]cd ..\nroot@x104:[/var/httpd/etc/original]grep Directory *\nhttpd.conf:<Directory />\nhttpd.conf:</Directory>\nhttpd.conf:<Directory \"/var/httpd/htdocs\">\nhttpd.conf:</Directory>\nhttpd.conf:# DirectoryIndex: sets the file that Apache will serve if a directory\nhttpd.conf:    DirectoryIndex index.html\nhttpd.conf:    # need to provide a <Directory> section to allow access to\nhttpd.conf:<Directory \"/var/httpd/cgi-bin\">\nhttpd.conf:</Directory>\nroot@x104:[/var/httpd/etc/original]", "id": 164320, "time": "2013-01-02T16:03:27Z", "bug_id": 54366, "creation_time": "2013-01-02T16:03:27Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "mamfelt@gmail.com", "is_private": false, "text": "Seems the issue is how \"@@ServerRoot@@ is being parsed.\nFrom ./docs/conf/extra/httpd-dav.conf\n==\n#\n# Distributed authoring and versioning (WebDAV)\n#\n# Required modules: mod_alias, mod_auth_digest, mod_authn_core, mod_authn_file,\n#                   mod_authz_core, mod_authz_user, mod_dav, mod_dav_fs,\n#                   mod_setenvif\n\n# The following example gives DAV write access to a directory called\n# \"uploads\" under the ServerRoot directory.\n#\n# The User/Group specified in httpd.conf needs to have write permissions\n# on the directory where the DavLockDB is placed and on any directory where\n# \"Dav On\" is specified.\n\nDavLockDB \"@@ServerRoot@@/var/DavLock\"\n\nAlias /uploads \"@@ServerRoot@@/uploads\"\n\n<Directory \"@@ServerRoot@@/uploads\">\n    Dav On\n\n    AuthType Digest\n    AuthName DAV-upload\n    # You can use the htdigest program to create the password database:\n    #   htdigest -c \"@@ServerRoot@@/user.passwd\" DAV-upload admin\n    AuthUserFile \"@@ServerRoot@@/user.passwd\"\n    AuthDigestProvider file\n\n    # Allow universal read-access, but writes are restricted\n    # to the admin user.\n    <RequireAny>\n        Require method GET POST OPTIONS\n        Require user admin\n    </RequireAny>\n</Directory>\n#\n# Distributed authoring and versioning (WebDAV)\n#\n# Required modules: mod_alias, mod_auth_digest, mod_authn_core, mod_authn_file,\n#                   mod_authz_core, mod_authz_user, mod_dav, mod_dav_fs,\n#                   mod_setenvif\n\n# The following example gives DAV write access to a directory called\n# \"uploads\" under the ServerRoot directory.\n#\n# The User/Group specified in httpd.conf needs to have write permissions\n# on the directory where the DavLockDB is placed and on any directory where\n# \"Dav On\" is specified.\n\nDavLockDB \"@@ServerRoot@@/var/DavLock\"\n\nAlias /uploads \"@@ServerRoot@@/uploads\"\n\n<Directory \"@@ServerRoot@@/uploads\">\n    Dav On\n\n    AuthType Digest\n    AuthName DAV-upload\n    # You can use the htdigest program to create the password database:\n    #   htdigest -c \"@@ServerRoot@@/user.passwd\" DAV-upload admin\n    AuthUserFile \"@@ServerRoot@@/user.passwd\"\n    AuthDigestProvider file\n\n    # Allow universal read-access, but writes are restricted\n    # to the admin user.\n    <RequireAny>\n        Require method GET POST OPTIONS\n        Require user admin\n    </RequireAny>\n</Directory>\n#\n# Distributed authoring and versioning (WebDAV)\n#\n# Required modules: mod_alias, mod_auth_digest, mod_authn_core, mod_authn_file,\n#                   mod_authz_core, mod_authz_user, mod_dav, mod_dav_fs,\n#                   mod_setenvif\n\n# The following example gives DAV write access to a directory called\n# \"uploads\" under the ServerRoot directory.\n#\n# The User/Group specified in httpd.conf needs to have write permissions\n# on the directory where the DavLockDB is placed and on any directory where\n# \"Dav On\" is specified.\n\nDavLockDB \"@@ServerRoot@@/var/DavLock\"\n\nAlias /uploads \"@@ServerRoot@@/uploads\"\n\n<Directory \"@@ServerRoot@@/uploads\">\n    Dav On\n\n    AuthType Digest\n    AuthName DAV-upload\n    # You can use the htdigest program to create the password database:\n    #   htdigest -c \"@@ServerRoot@@/user.passwd\" DAV-upload admin\n    AuthUserFile \"@@ServerRoot@@/user.passwd\"\n    AuthDigestProvider file\n\n    # Allow universal read-access, but writes are restricted\n    # to the admin user.\n    <RequireAny>\n        Require method GET POST OPTIONS\n        Require user admin\n    </RequireAny>\n</Directory>\n#\n# Distributed authoring and versioning (WebDAV)\n#\n# Required modules: mod_alias, mod_auth_digest, mod_authn_core, mod_authn_file,\n#                   mod_authz_core, mod_authz_user, mod_dav, mod_dav_fs,\n#                   mod_setenvif\n\n# The following example gives DAV write access to a directory called\n# \"uploads\" under the ServerRoot directory.\n#\n# The User/Group specified in httpd.conf needs to have write permissions\n# on the directory where the DavLockDB is placed and on any directory where\n# \"Dav On\" is specified.\n\nDavLockDB \"@@ServerRoot@@/var/DavLock\"\n\nAlias /uploads \"@@ServerRoot@@/uploads\"\n\n<Directory \"@@ServerRoot@@/uploads\">\n    Dav On\n\n    AuthType Digest\n    AuthName DAV-upload\n    # You can use the htdigest program to create the password database:\n    #   htdigest -c \"@@ServerRoot@@/user.passwd\" DAV-upload admin\n    AuthUserFile \"@@ServerRoot@@/user.passwd\"\n    AuthDigestProvider file\n\n    # Allow universal read-access, but writes are restricted\n    # to the admin user.\n    <RequireAny>\n        Require method GET POST OPTIONS\n        Require user admin\n    </RequireAny>\n</Directory>\n#\n# Distributed authoring and versioning (WebDAV)\n#\n# Required modules: mod_alias, mod_auth_digest, mod_authn_core, mod_authn_file,\n#                   mod_authz_core, mod_authz_user, mod_dav, mod_dav_fs,\n#                   mod_setenvif\n\n# The following example gives DAV write access to a directory called\n# \"uploads\" under the ServerRoot directory.\n#\n# The User/Group specified in httpd.conf needs to have write permissions\n# on the directory where the DavLockDB is placed and on any directory where\n# \"Dav On\" is specified.\n\nDavLockDB \"@@ServerRoot@@/var/DavLock\"\n\nAlias /uploads \"@@ServerRoot@@/uploads\"\n\n<Directory \"@@ServerRoot@@/uploads\">\n    Dav On\n\n    AuthType Digest\n    AuthName DAV-upload\n    # You can use the htdigest program to create the password database:\n    #   htdigest -c \"@@ServerRoot@@/user.passwd\" DAV-upload admin\n    AuthUserFile \"@@ServerRoot@@/user.passwd\"\n    AuthDigestProvider file\n\n    # Allow universal read-access, but writes are restricted\n    # to the admin user.\n    <RequireAny>\n        Require method GET POST OPTIONS\n        Require user admin\n    </RequireAny>\n</Directory>\n===\nAlso, the httpd-dav.conf.in file is not being processed like the others are:\n\nhttpd-dav.conf:<Directory \"@@ServerRoot@@/uploads\">\nhttpd-dav.conf:</Directory>\nhttpd-dav.conf.in:<Directory \"@@ServerRoot@@/uploads\">\nhttpd-dav.conf.in:</Directory>\n\ncompared to:\nhttpd-manual.conf:<Directory \"/opt/httpd/manual\">\nhttpd-manual.conf:</Directory>\nhttpd-manual.conf.in:<Directory \"@exp_manualdir@\">\nhttpd-manual.conf.in:</Directory>\n\nand\nhttpd-multilang-errordoc.conf:<Directory \"/var/httpd/error\">\nhttpd-multilang-errordoc.conf:</Directory>\nhttpd-multilang-errordoc.conf.in:<Directory \"@exp_errordir@\">\nhttpd-multilang-errordoc.conf.in:</Directory>", "id": 164321, "time": "2013-01-02T16:15:16Z", "bug_id": 54366, "creation_time": "2013-01-02T16:15:16Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "mamfelt@gmail.com", "text": "Seems my \"paste\" repeated a few times above. If possible, please edit and clean out excess text.", "id": 164322, "time": "2013-01-02T16:17:51Z", "bug_id": 54366, "creation_time": "2013-01-02T16:17:51Z", "is_private": false, "attachment_id": null}]