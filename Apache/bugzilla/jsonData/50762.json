[{"count": 0, "tags": [], "text": "1) Under /webapps create a directory /foobar, and add index.html in it.\n2) Edit the /conf/server.xml and add <context path=\"/foo\" docBase=\"foobar\" />.\n3) Both /foo/index.html and /foobar/index.html are available.\n\nI'm not sure this is spelled out anywhere, but it seems like this shouldn't expose /foobar/*.", "is_private": false, "bug_id": 50762, "id": 144171, "time": "2011-02-11T00:55:52Z", "creator": "robert.flaherty@oracle.com", "creation_time": "2011-02-11T00:55:52Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "robert.flaherty@oracle.com", "attachment_id": null, "id": 144172, "time": "2011-02-11T01:04:04Z", "bug_id": 50762, "creation_time": "2011-02-11T01:04:04Z", "is_private": false, "text": "Also, I tried creating index.jsp instead.  An index_jsp.java gets created under both:\n\n    /work/Catalina/localhost/foo/org/apache/jsp\n    /work/Catalina/localhost/foobar/org/apache/jsp\n\nwhen I hit both URLs.  If this does get fixed, I'd expect the index_jsp.java to go to the:\n\n    /work/Catalina/localhost/foobar/org/apache/jsp\n\ndirectory."}, {"count": 2, "tags": [], "text": "(In reply to comment #0)\n> 1) Under /webapps create a directory /foobar, and add index.html in it.\n> 2) Edit the /conf/server.xml and add <context path=\"/foo\" docBase=\"foobar\" />.\n> 3) Both /foo/index.html and /foobar/index.html are available.\n> \n> I'm not sure this is spelled out anywhere, but it seems like this shouldn't\n> expose /foobar/*.\n\nFirst off, bugzilla is not a support forum.  If you have questions about Tomcat usage, try the users' mailing list.\n\nSecond, your results are exactly as expected.  Note the following from the Tomcat 7 docs: \"It is NOT recommended to place <Context> elements directly in the server.xml file.\"  Since you have done so, you have forced double deployment, once under the directory name of the webapp, once again by the explicit path setting in your <Context> element.  If you absolutely insist on placing <Context> elements in server.xml, you should probably disable auto deployment for the <Host> to avoid the unexpected results.  Better is to never put <Context> elements in server.xml, and to name the webapp directory properly.\n\nLook here for more information:\n\nhttp://tomcat.apache.org/tomcat-7.0-doc/config/host.html#Automatic%20Application%20Deployment", "is_private": false, "bug_id": 50762, "id": 144173, "time": "2011-02-11T01:20:07Z", "creator": "chuck.caldarale@unisys.com", "creation_time": "2011-02-11T01:20:07Z", "attachment_id": null}]