[{"count": 0, "attachment_id": null, "bug_id": 57025, "is_private": false, "id": 178134, "time": "2014-09-27T11:47:14Z", "creator": "apc4@ya.ru", "creation_time": "2014-09-27T11:47:14Z", "tags": [], "text": "Active threads info seems to be crucial and needs to be enabled by default.\n\nReference discussions: \n  http://mail-archives.apache.org/mod_mbox/jmeter-dev/201404.mbox/%3CCAH9fUpYws0k6fwgHnz2nM-hu0jUxh3xg_5zC5+Mvv0_DQvgKNA@mail.gmail.com%3E \n  http://mail-archives.apache.org/mod_mbox/jmeter-dev/201409.mbox/%3C542541EC.2020701%40ya.ru%3E"}, {"count": 1, "attachment_id": 32063, "bug_id": 57025, "is_private": false, "id": 178135, "time": "2014-09-27T12:20:07Z", "creator": "apc4@ya.ru", "creation_time": "2014-09-27T12:20:07Z", "tags": [], "text": "Created attachment 32063\nproposed patch\n\nAdded patch with the change for code and tests."}, {"count": 2, "tags": [], "text": "Sorry, but that patch is wrong.\n\nThe test cases don't need to be changed.\nAs per the mailing list discussion only the test properties file needs to updated to ensure that the active threads are not saved.\n\nI'm not sure that the code needs to be changed either; the property can just be enabled as true in jmeter.properties. This would be the simplest way to implement the change, and would not affect tests.\n\nAlso, this change may break some user tests or analysis of result files, so it needs to be carefully documented in the release notes.", "attachment_id": null, "id": 178136, "creation_time": "2014-09-27T13:00:01Z", "time": "2014-09-27T13:00:01Z", "creator": "sebb@apache.org", "bug_id": 57025, "is_private": false}, {"count": 3, "tags": [], "bug_id": 57025, "attachment_id": null, "text": "@sebb, in my opinion we should not disabled thread saving in test properties, as this setting change will be the new default, if it is disabled in test we may miss some issue introduced.\n\nRegarding Test Changes, it seems to me fine as per previous remark. I also think we need to change default also in code to be inline with how we manage other properties.\n\nFinally I agree with you we need to document it clearly in changes and I can do it mentioning how to get back to old settings.\n\nFrankly I wonder if there are many users who don't set jmeter.save.saveservice.thread_counts to true.\n\nYou absolutely need it to know how much threads were active for some response time.\n\n\nSo in summary I would like to commit patch and update changes to mention how to revert settings.", "id": 178137, "time": "2014-09-27T13:08:19Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-09-27T13:08:19Z", "is_private": false}, {"count": 4, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "(In reply to Philippe Mouawad from comment #3)\n> @sebb, in my opinion we should not disabled thread saving in test\n> properties, as this setting change will be the new default, if it is\n> disabled in test we may miss some issue introduced.\n\nIt's important to run tests without the thread count as well, so please leave the existing tests alone.\n\nYou can define more tests if you want.\n\n> Regarding Test Changes, it seems to me fine as per previous remark. I also\n> think we need to change default also in code to be inline with how we manage\n> other properties.\n\nThe minimal fix is to define the property as true.\n \n> Finally I agree with you we need to document it clearly in changes and I can\n> do it mentioning how to get back to old settings.\n> \n> Frankly I wonder if there are many users who don't set\n> jmeter.save.saveservice.thread_counts to true.\n\nSo let's just do that.\n\n> \n> So in summary I would like to commit patch and update changes to mention how\n> to revert settings.\n\nI think we should just change the property and update the docs.\nJob done.", "id": 178143, "time": "2014-09-27T23:33:47Z", "bug_id": 57025, "creation_time": "2014-09-27T23:33:47Z", "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 57025, "text": "If I can't change test files then I don't know how to fix failing batch_scripts if I define thread count saving property... Should I change failing test JMX and disable saving thread counts there?", "id": 178144, "time": "2014-09-28T09:00:46Z", "creator": "apc4@ya.ru", "creation_time": "2014-09-28T09:00:46Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 178147, "time": "2014-09-28T12:53:54Z", "bug_id": 57025, "creation_time": "2014-09-28T12:53:54Z", "is_private": false, "text": "(In reply to Andrey Pokhilko from comment #5)\n> If I can't change test files then I don't know how to fix failing\n> batch_scripts if I define thread count saving property... Should I change\n> failing test JMX and disable saving thread counts there?\n\nIf you just change jmeter.properties it won't affect the tests, because they use a different properties file. Try it and see."}, {"count": 7, "attachment_id": null, "bug_id": 57025, "text": "Ok. So if just changing the property not affect any tests, the commit becomes trivial change of single line. Do I need to provide a patch for trivial change or somebody from maintainers will just commit it?", "id": 178148, "time": "2014-09-28T12:57:01Z", "creator": "apc4@ya.ru", "creation_time": "2014-09-28T12:57:01Z", "tags": [], "is_private": false}, {"count": 8, "tags": [], "bug_id": 57025, "is_private": false, "text": "(In reply to Andrey Pokhilko from comment #7)\n> Ok. So if just changing the property not affect any tests, the commit\n> becomes trivial change of single line. Do I need to provide a patch for\n> trivial change or somebody from maintainers will just commit it?\n\nAs already mentioned, the documentation also needs to be updated.", "id": 178149, "time": "2014-09-28T12:59:29Z", "creator": "sebb@apache.org", "creation_time": "2014-09-28T12:59:29Z", "attachment_id": null}, {"count": 9, "tags": [], "text": "Date: Mon Sep 29 18:47:05 2014\nNew Revision: 1628255\n\nURL: http://svn.apache.org/r1628255\nLog:\nBug 57025 - SaveService : Better defaults, save thread counts by default\nBugzilla Id: 57025\n\nModified:\n    jmeter/trunk/bin/jmeter.properties\n    jmeter/trunk/bin/testfiles/jmeter-batch.properties\n    jmeter/trunk/bin/testfiles/jmetertest.properties\n    jmeter/trunk/src/core/org/apache/jmeter/samplers/SampleSaveConfiguration.java\n    jmeter/trunk/xdocs/changes.xml\n    jmeter/trunk/xdocs/usermanual/listeners.xml\n\nDate: Mon Sep 29 18:58:47 2014\nNew Revision: 1628258\n\nURL: http://svn.apache.org/r1628258\nLog:\nBug 57025 - SaveService : Better defaults, save thread counts by default\nBugzilla Id: 57025\n\nModified:\n    jmeter/trunk/xdocs/changes.xml", "attachment_id": null, "id": 178179, "creation_time": "2014-09-29T18:59:26Z", "time": "2014-09-29T18:59:26Z", "creator": "p.mouawad@ubik-ingenierie.com", "bug_id": 57025, "is_private": false}]