[{"count": 0, "tags": [], "text": "The HTTP_HOST environment variable reflects the value of the\n\"host\" request header.  This works well with practically any\nstandard web server.\n\nTomcat 4.0.1 sets this variable incorrectly, giving just the\nbare host name without the port number.\n\nThe problem can be seen by running the following simple CGI script\nonce on a normal web server (on a custom port) and then\non Tomcat (on a custom port).\n\n#!/usr/bin/perl\nprint \"Content-type: text/plain\\n\\n\";\n\nmy $http_host = $ENV{HTTP_HOST};\n\nprint \"HTTP_HOST was $http_host\\n\";\n\nexit 0;", "is_private": false, "id": 9482, "creator": "Georg.Koltermann@mscsoftware.com", "time": "2002-01-09T05:01:28Z", "bug_id": 5762, "creation_time": "2002-01-09T05:01:28Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 5762, "text": "This looks related to another more general issue which was reported more\nrecently. Please verify if you can.\n\n*** This bug has been marked as a duplicate of 6668 ***", "id": 11281, "time": "2002-02-28T04:27:31Z", "creator": "remm@apache.org", "creation_time": "2002-02-28T04:27:31Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 5762, "attachment_id": null, "is_private": false, "id": 11284, "time": "2002-02-28T09:45:10Z", "creator": "Georg.Koltermann@mscsoftware.com", "creation_time": "2002-02-28T09:45:10Z", "text": "I tried the patch from 6668 and it did not change the outcome of my test\nscript, the result is still wrong.\n\nDoes it really work in your environment? Did you really run the test script\nthat I provided?"}, {"count": 3, "tags": [], "bug_id": 5762, "text": "Created attachment 1452\natch to handle\r\nHTTP_HOST with the general rule for other HTTP_* variables", "id": 12579, "time": "2002-03-31T20:51:37Z", "creator": "root@martindengler.com", "creation_time": "2002-03-31T20:51:37Z", "is_private": false, "attachment_id": 1452}, {"count": 4, "tags": [], "creator": "root@martindengler.com", "attachment_id": null, "id": 12580, "time": "2002-03-31T20:52:27Z", "bug_id": 5762, "creation_time": "2002-03-31T20:52:27Z", "is_private": false, "text": "Lines 1100 - 1105 seem to actively strip out the port number.  Not sure why this\nis done...if there are no objections I'll submit the attached patch to handle\nHTTP_HOST with the general rule for other HTTP_* variables."}, {"count": 5, "tags": [], "bug_id": 5762, "is_private": false, "text": "sounds good to me.  :-)\n\nAmy", "id": 12641, "time": "2002-04-01T18:48:41Z", "creator": "amyroh@apache.org", "creation_time": "2002-04-01T18:48:41Z", "attachment_id": null}, {"count": 6, "attachment_id": null, "bug_id": 5762, "text": "I have applied your patch to CVS for TC4 and TC5. The fix will be included in \nthe next release.\n\nThanks for the patch.", "id": 49028, "time": "2003-12-12T22:55:02Z", "creator": "medthomas@ntlworld.com", "creation_time": "2003-12-12T22:55:02Z", "tags": [], "is_private": false}]