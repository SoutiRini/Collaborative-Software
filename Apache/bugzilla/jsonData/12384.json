[{"count": 0, "tags": [], "bug_id": 12384, "text": "Hi!\n\nWhen using a JSP with nested <logic:iterate> tags I receive the following\nexception (using Tomcat 4.1.10 on Win2K):\norg.apache.jasper.JasperException: Unable to compile class for JSP\nAn error occurred at line: 13 in the jsp file: /jasper.jsp\nGenerated servlet error:\n    [javac] Compiling 1 source file\nE:\\Programme\\ApacheTomcat4110\\work\\Standalone\\localhost\\docpoolstruts\\jasper_jsp.java:85:\n_jspx_two_1 is already defined in\n_jspService(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)\n          java.lang.Object _jspx_two_1 = two;\n                           ^\n\nHere is a small sample that will produce the error:\n<%@ page language=\"java\" %>\n<%@ taglib uri=\"/WEB-INF/struts-bean.tld\" prefix=\"bean\" %>\n<%@ taglib uri=\"/WEB-INF/struts-logic.tld\" prefix=\"logic\" %>\n<%\n  String[] pages = {\"1\",\"2\",\"3\"};\n  pageContext.setAttribute(\"pages\", pages);\n%>\n<html>\n<body>\n<logic:iterate id=\"one\" name=\"pages\" length=\"3\">\n  <logic:iterate id=\"two\" name=\"pages\" length=\"4\">\n      <bean:write name=\"one\"/>:<bean:write name=\"two\"/><br>\n  </logic:iterate>\n</logic:iterate>\n</body>\n</html>\n\nBye\n  gus", "id": 22397, "time": "2002-09-06T22:03:42Z", "creator": "gusweb@gmx.net", "creation_time": "2002-09-06T22:03:42Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 12384, "text": "Seems that the temporary scripting vars are declared more than once. So from a \nbrief look into the sources of jasper2 (tomcat4-branch) this means that \neither: \n   \tdeclareTemporaryScriptingVars(page); \nin org/apache/jasper/compiler/Generator.java around line 452 needs to  \nbe removed or the type declarations \n       out.printin(varInfos[i].getClassName()); \n       out.print(\" \"); \nin saveScriptingVars() in the same file (around line 1534 and 1548) needs to \nbe removed. \n ", "id": 22428, "time": "2002-09-07T20:06:17Z", "creator": "H.Zeller@acm.org", "creation_time": "2002-09-07T20:06:17Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 12384, "text": "I just ran the JSP fragment from your bug report, and got this result:\n\n1:1\n1:2\n1:3\n2:1\n2:2\n2:3\n3:1\n3:2\n3:3\n\nSo things seem to be working fine again. I suspect the problem you ran into is\nidentical to that reported in 12432, which has been fixed.\n", "id": 22565, "time": "2002-09-10T00:47:12Z", "creator": "jan.luehe@sun.com", "creation_time": "2002-09-10T00:47:12Z", "is_private": false, "attachment_id": null}]