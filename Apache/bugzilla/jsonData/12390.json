[{"count": 0, "tags": [], "bug_id": 12390, "text": "When invoking the junitreport in the following form:\n         <junitreport todir=\"${reportdir}\" tofile=\"${unitreport}\">\n             <fileset dir=\"${reportdir}\">\n                 <include name=\"TEST-*.xml\"/>\n             </fileset>\n            <report todir=\"${reportdir}/html/unit\"/>\n         </junitreport>\nan empty file is created named junit-noframes.html\nThis is because the format is an optional field defaulting to FRAMES. This error\nis still present in the current CVS version. The following patch fixes this.\n\n[jkf@user junit]$ cvs diff -u XalanExecutor.java\nIndex: XalanExecutor.java\n===================================================================\nRCS file:\n/home/cvspublic/jakarta-ant/src/main/org/apache/tools/ant/taskdefs/optional/junit/XalanExecutor.java,v\nretrieving revision 1.6\ndiff -u -r1.6 XalanExecutor.java\n--- XalanExecutor.java  15 Aug 2002 10:25:42 -0000      1.6\n+++ XalanExecutor.java  7 Sep 2002 14:16:50 -0000\n@@ -78,12 +78,15 @@\n\n     /** get the appropriate stream based on the format (frames/noframes) */\n     protected OutputStream getOutputStream() throws IOException {\n-        if (caller.FRAMES.equals(caller.format)){\n+        // martijn@kruithof.xs4all.nl\n+        // switch condition as FRAMES is default and therefore\n+        // need not be defined while FRAMES is active\n+        if (caller.NOFRAMES.equals(caller.format)){\n+            return new FileOutputStream(new File(caller.toDir,\n\"junit-noframes.html\"));\n+        } else {\n             // dummy output for the framed report\n             // it's all done by extension...\n             return new ByteArrayOutputStream();\n-        } else {\n-            return new FileOutputStream(new File(caller.toDir,\n\"junit-noframes.html\"));\n         }\n     }", "id": 22412, "time": "2002-09-07T14:39:06Z", "creator": "jkf@apache.org", "creation_time": "2002-09-07T14:39:06Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 12390, "attachment_id": 2966, "text": "Created attachment 2966\n[PATCH] swaps if statement from FRAMES to NOFRAMES", "id": 22413, "time": "2002-09-07T14:52:21Z", "creator": "jkf@apache.org", "creation_time": "2002-09-07T14:52:21Z", "is_private": false}, {"count": 2, "tags": [], "creator": "jkf@apache.org", "text": "Created attachment 2980\n[TEST] tgz file with files new for testcase to reproduce this problem / no modified files need xalan.jar", "id": 22551, "time": "2002-09-09T20:10:04Z", "bug_id": 12390, "creation_time": "2002-09-09T20:10:04Z", "is_private": false, "attachment_id": 2980}, {"count": 3, "tags": [], "bug_id": 12390, "text": "the Test tgz file contains the following files:\n\n? src/etc/testcases/taskdefs/optional/junitreport.xml\n? src/etc/testcases/taskdefs/optional/junitreport/TEST-sampleproject.coins.CoinT\nest.xml\n? src/etc/testcases/taskdefs/optional/junitreport/TEST-sampleproject.util.Unique\nStringTest.xml\n? src/testcases/org/apache/tools/ant/taskdefs/optional/junit/JUnitReportTest.jav\na\n", "id": 22553, "time": "2002-09-09T20:30:44Z", "creator": "jkf@apache.org", "creation_time": "2002-09-09T20:30:44Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "fixed in nightly build 2002-09-27.", "id": 23444, "time": "2002-09-26T12:36:16Z", "bug_id": 12390, "creation_time": "2002-09-26T12:36:16Z", "is_private": false}]