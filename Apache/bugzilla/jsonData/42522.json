[{"count": 0, "tags": [], "creator": "josh.moore@gmx.de", "attachment_id": null, "text": "Idea:\n\nAdd target-like if/unless logic to imports. Such sentinels would allow for logic\nsimilar to C/C++ header file inclusion, which could server as a\nworkaround/replacement for wanting to <import/> from within a target.\n\nBenefits:\n * Backwards compatible\n * Familiar (since <imports/> occur at the <project/> level like <target/>s\n * Powerful. Much C/C++ build magic is based on this on principle\n\nExample 1:\n\n\n <project>\n   <import file=\"online.xml\" unless=\"offline\"/>\n   <import file=\"offline.xml\" if=\"offline\"/>\n   <target name=\"get-source\">\n      <getSource/> <!-- Macro in on- or offline.xml -->\n   </target>\n   <target name=\"build\" depends=\"get-source\">\n     <!-- ... -->\n   </target>\n  </project>\n\n$ ant -Doffline=yes build\n\nExample 2:\n\nA.xml:\n  <project name=\"A\">\n    <import file=\"B.xml\" unless=\"B.xml\"/>\n    <import file=\"C.xml\" unless=\"C.xml\"/>\n  </project>\n\nB.xml:\n  <project name=\"B\">\n    <properties name=\"B.xml\" value=\"true\"/>\n    <!-- overrides C.xml -->\n    <properties name=\"C.xml\" value=\"true\"/>\n    <macrodef name=\"Cmacro\">\n      <sequential><echo>B</echo></sequential>\n    </macrodef>\n  </project>\n\nC.xml:\n  <project name=\"C\">\n    <macrodef name=\"Cmacro\">\n      <sequential><echo>C</echo></sequential>\n    </macrodef>\n  </project>\n\nPossibly related to:\n * scopes in build files (bug 23942)\n * conditions at the project level (bug 20093)", "id": 103688, "time": "2007-05-25T11:12:29Z", "bug_id": 42522, "creation_time": "2007-05-25T11:12:29Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "mbenson@apache.org", "text": "encompassed by bug 28882.\n\n*** This bug has been marked as a duplicate of 28882 ***", "count": 1, "id": 103689, "time": "2007-05-25T11:21:16Z", "bug_id": 42522, "creation_time": "2007-05-25T11:21:16Z", "is_private": false}]