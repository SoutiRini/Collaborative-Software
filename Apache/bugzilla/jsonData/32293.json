[{"count": 0, "tags": [], "text": "The following operation was found although it was not so big a problem.\nThen telneted to port 8080(tomcat 4.1.30) and gave following request\n (bat request because 2 spaspace befor \"HTTP/1.1\").\n----\nHEAD /index.html  HTTP/1.0\n\n\n----\nresponse was following\n----\nHTTP/1.1 505 HTTP Version Not Supported\nDate: Thu, 18 Nov 2004 07:34:18 GMT\nServer: Apache-Coyote/1.1\nConnection: Keep-Alive\n----\nAlthough a response header means KEEP-ALIVE processing,\nsocket close immediately.\n\nI think that correction would be inadequate at 4.1.27 folowing code.\norg.apache.coyote.http11.Http11Processor#statusDropsConnection\n----\n    /**\n     * Determine if we must drop the connection because of the HTTP status\n     * code.  Use the same list of codes as Apache/httpd.\n     */\n    protected boolean statusDropsConnection(int status) {\n        return status == 400 /* SC_BAD_REQUEST */ ||\n               status == 408 /* SC_REQUEST_TIMEOUT */ ||\n               status == 411 /* SC_LENGTH_REQUIRED */ ||\n               status == 413 /* SC_REQUEST_ENTITY_TOO_LARGE */ ||\n               status == 414 /* SC_REQUEST_URI_TOO_LARGE */ ||\n               status == 500 /* SC_INTERNAL_SERVER_ERROR */ ||\n               status == 503 /* SC_SERVICE_UNAVAILABLE */ ||\n               status == 501 /* SC_NOT_IMPLEMENTED */;\n    }\n----\nI think that 505 should also be included here, but it does not know \nwhether be else or not.(...or other fix code)\n\nregards,\nNaru Hayashi from Japan", "attachment_id": null, "bug_id": 32293, "id": 67126, "time": "2004-11-18T13:36:38Z", "creator": "hayashin@ist.fujitsu.com", "creation_time": "2004-11-18T13:36:38Z", "is_private": false}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 67187, "time": "2004-11-18T23:49:43Z", "bug_id": 32293, "creation_time": "2004-11-18T23:49:43Z", "text": "\n\n*** This bug has been marked as a duplicate of 32292 ***"}]