[{"count": 0, "tags": [], "bug_id": 17154, "text": "I want to prepend the current changes to my changes file:\n\n<target name = \"Produce changes file\">\n  <concat destfile = \"Temp.changes\" append = \"true\">\n    <filelist dir = \"${basedir}\"\n      files = \"CurrentChanges, Temp.changes\"/>\n  </concat>\n</target>\n\nAnt output:\nProduce changes file:\n  [concat] Temp.changes: input file is output file.\n\nResult: infinite loop, which prepends the contents of \"CurrentChanges\" over \nand over again.\n\nExpected: stop after one loop iteration (because detection of unusual state \nseems to take place already)\n\nI know this problem can be circumvented by writing to a temporary file and \nmoving it afterwards.", "id": 31498, "time": "2003-02-18T08:49:10Z", "creator": "Christian.Eitner@cern.ch", "creation_time": "2003-02-18T08:49:10Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 17154, "text": "I've turned this into a build exception. If you attempt to concat a file with\nitself, the build will fail. \n\nThere is no iteration involved here as such. The code is reading and writing the\nsame file, so the end of file is never reached. Therefore we cannot \"stop after\none loop iteration\".\n\nThanks", "id": 31509, "time": "2003-02-18T13:26:43Z", "creator": "conor@apache.org", "creation_time": "2003-02-18T13:26:43Z", "is_private": false, "attachment_id": null}]