[{"count": 0, "text": "Created attachment 25055\nAdds 2 new classes (ELParameters and CoerceToZeroConfigurer) in a new package (org.apache.el.parser.parameters) while modifying the AstValue class, composing a solution proposal to this issue.\n\nThe parameter \"org.apache.el.parser.COERCE_TO_ZERO\" can only be used while starting up Tomcat or any other application that uses the Jasper Expression Language implementation. I think that one should be able to set such parameter on runtime, specially while an application is being loaded.\n\nThe attached patch implements the requested feature.", "bug_id": 48813, "is_private": false, "id": 134869, "time": "2010-02-24T19:16:08Z", "creator": "ramiro.p.magalhaes@gmail.com", "creation_time": "2010-02-24T19:16:08Z", "tags": [], "attachment_id": 25055}, {"count": 1, "tags": [], "bug_id": 48813, "is_private": false, "text": "Please, notice that the patch was made against the trunk, revision 915902.", "id": 134870, "time": "2010-02-24T19:18:22Z", "creator": "ramiro.p.magalhaes@gmail.com", "creation_time": "2010-02-24T19:18:22Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": null, "text": "ELParameters#coerceToZero in the proposed patch is a static field, and thus will be shared among web applications. Thus this implementation will work no better than the old one. No good.", "id": 134882, "time": "2010-02-25T08:23:18Z", "bug_id": 48813, "creation_time": "2010-02-25T08:23:18Z", "is_private": false}, {"count": 3, "tags": [], "creator": "ramiro.p.magalhaes@gmail.com", "is_private": false, "text": "Well, that's absolutely true... and somewhat embarassing too. It is really important that each application is able to set such parameter for itself. Right now I can't figure out a way of doing that. I'm thinking about setting attributes on the ServletContext or using ThreadLocal variables with help of a ServletContextListener or a ServletRequestListener, but I'm still having trouble figuring out how to retrieve those values. Well, I guess I'll think about it and try something else later.", "id": 134903, "time": "2010-02-25T19:25:43Z", "bug_id": 48813, "creation_time": "2010-02-25T19:25:43Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 48813, "text": "Created attachment 25067\nSolves this issue and fixes the problem pointed by Konstantin.\n\nThis patch implements the mentioned feature and allows different web applications to set particular values of the parameter for themselves.", "id": 134942, "time": "2010-02-27T16:45:32Z", "creator": "ramiro.p.magalhaes@gmail.com", "creation_time": "2010-02-27T16:45:32Z", "is_private": false, "attachment_id": 25067}, {"count": 5, "text": "The private boolean field coerceToZero could - and should - be made final.", "bug_id": 48813, "is_private": false, "id": 134946, "time": "2010-02-28T13:54:39Z", "creator": "sebb@apache.org", "creation_time": "2010-02-28T13:54:39Z", "tags": [], "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 48813, "is_private": false, "text": "Created attachment 25069\nMaking the coerceToZero field final, as proposed.\n\nI agree with Sebb.", "id": 134955, "time": "2010-02-28T23:01:44Z", "creator": "ramiro.p.magalhaes@gmail.com", "creation_time": "2010-02-28T23:01:44Z", "attachment_id": 25069}, {"count": 7, "tags": [], "bug_id": 48813, "is_private": false, "id": 137019, "attachment_id": null, "creator": "ramiro.p.magalhaes@gmail.com", "creation_time": "2010-05-21T12:22:26Z", "time": "2010-05-21T12:22:26Z", "text": "Hi,\n\nsince I posted the last version of the patch I've not seen mutch discussion about it. I'd really like to have this feature implemented on Tomcat's EL. Will you implement it? Is there something avoiding you from doing it that I could help?"}, {"attachment_id": null, "tags": [], "creator": "markt@apache.org", "is_private": false, "count": 8, "id": 137020, "time": "2010-05-21T12:36:15Z", "bug_id": 48813, "creation_time": "2010-05-21T12:36:15Z", "text": "-1 to the patch as written since it creates a dependency on the Servlet API. The EL implementation should stand on its own."}, {"attachment_id": null, "tags": [], "creator": "ramiro.p.magalhaes@gmail.com", "is_private": false, "count": 9, "id": 137128, "time": "2010-05-25T20:51:10Z", "bug_id": 48813, "creation_time": "2010-05-25T20:51:10Z", "text": "Hum... This is an important point. Let me think a bit about this and see if I can make some new proposal that removes such dependency that's worth the effort."}, {"count": 10, "tags": [], "bug_id": 48813, "text": "I'd like to close this issue. I needed it to run Mojarra 1.2 but on version 2.1 they found an workaround to the problems I had. Also I wasn't able to solve the problem exposed by Mark Thomas.\n\nThank you for your attention.", "id": 145010, "time": "2011-03-14T21:08:10Z", "creator": "ramiro.p.magalhaes@gmail.com", "creation_time": "2011-03-14T21:08:10Z", "is_private": false, "attachment_id": null}]