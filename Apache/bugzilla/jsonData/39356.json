[{"count": 0, "tags": [], "bug_id": 39356, "text": "Below is a stacktrace of a startup of Tomcat 5.5.9.  You will notice that the \nstartup failed due to invalid XML parsing.  This is clearly a user error.  \nHowever, the logging is very vague as to which XML file it was trying to \nparse.  Shouldn't this type of severe error (Tomcat blew out with access \nviolation due to this) produce a better description of where the error \nocurred?  There is no way to know if it was the $tomcat_home/conf/web.xml or an \napplication specific web.xml.\n\n\nINFO: ContextListener: contextInitialized()\nApr 19, 2006 10:58:21 AM org.apache.catalina.core.ApplicationContext log\nINFO: SessionListener: contextInitialized()\nApr 19, 2006 10:58:22 AM org.apache.tomcat.util.digester.Digester fatalError\nSEVERE: Parse Fatal Error at line 44 column 24: The element type \"servlet\" must \nbe terminated by the matching end-tag \"</servlet>\".\norg.xml.sax.SAXParseException: The element type \"servlet\" must be terminated by \nthe matching end-tag \"</servlet>\".\n        at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException\n(Unknown Source)\n        at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)\n        at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n        at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n        at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEndElement\n(Unknown Source)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1561)\n        at org.apache.catalina.startup.ContextConfig.applicationWebConfig\n(ContextConfig.java:339)\n        at org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:1031)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:255)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:119)\n        at org.apache.catalina.core.StandardContext.start\n(StandardContext.java:4053)\n        at org.apache.catalina.core.ContainerBase.addChildInternal\n(ContainerBase.java:759)\n        at org.apache.catalina.core.ContainerBase.addChild\n(ContainerBase.java:739)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:524)\n        at org.apache.catalina.startup.HostConfig.deployDirectory\n(HostConfig.java:894)\n        at org.apache.catalina.startup.HostConfig.deployDirectories\n(HostConfig.java:857)\n        at org.apache.catalina.startup.HostConfig.deployApps\n(HostConfig.java:475)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1102)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent\n(HostConfig.java:311)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:119)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1020)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:718)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1012)\n        at org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:442)\n        at org.apache.catalina.core.StandardService.start\n(StandardService.java:450)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:683)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:537)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:271)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:409)\nApr 19, 2006 10:58:22 AM org.apache.catalina.startup.ContextConfig \napplicationWebConfig\nSEVERE: Parse error in application web.xml\norg.xml.sax.SAXParseException: The element type \"servlet\" must be terminated by \nthe matching end-tag \"</servlet>\".\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1561)\n        at org.apache.catalina.startup.ContextConfig.applicationWebConfig\n(ContextConfig.java:339)\n        at org.apache.catalina.startup.ContextConfig.start\n(ContextConfig.java:1031)\n        at org.apache.catalina.startup.ContextConfig.lifecycleEvent\n(ContextConfig.java:255)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:119)\n        at org.apache.catalina.core.StandardContext.start\n(StandardContext.java:4053)\n        at org.apache.catalina.core.ContainerBase.addChildInternal\n(ContainerBase.java:759)\n        at org.apache.catalina.core.ContainerBase.addChild\n(ContainerBase.java:739)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:524)\n        at org.apache.catalina.startup.HostConfig.deployDirectory\n(HostConfig.java:894)\n        at org.apache.catalina.startup.HostConfig.deployDirectories\n(HostConfig.java:857)\n        at org.apache.catalina.startup.HostConfig.deployApps\n(HostConfig.java:475)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1102)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent\n(HostConfig.java:311)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:119)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1020)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:718)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1012)\n        at org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:442)\n        at org.apache.catalina.core.StandardService.start\n(StandardService.java:450)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:683)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:537)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:271)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:409)\nApr 19, 2006 10:58:22 AM org.apache.catalina.startup.ContextConfig \napplicationWebConfig", "id": 88287, "time": "2006-04-19T16:15:22Z", "creator": "marc.farrow@gmail.com", "creation_time": "2006-04-19T16:15:22Z", "is_private": false, "attachment_id": null}, {"attachment_id": 18138, "tags": [], "bug_id": 39356, "is_private": false, "count": 1, "id": 88289, "time": "2006-04-19T16:22:03Z", "creator": "marc.farrow@gmail.com", "creation_time": "2006-04-19T16:22:03Z", "text": "Created attachment 18138\nFull stack trace"}, {"count": 2, "text": "Apr 19, 2006 10:58:22 AM org.apache.catalina.startup.ContextConfig\napplicationWebConfig\n-> processing web.xml\nSEVERE: Context [/webdav] startup failed due to previous errors\n-> you know which web application caused the problem\n\nAs for the JVM crash, you should report it to your JVM vendor.", "bug_id": 39356, "is_private": false, "id": 88293, "time": "2006-04-19T17:05:15Z", "creator": "remm@apache.org", "creation_time": "2006-04-19T17:05:15Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "creator": "marc.farrow@gmail.com", "text": "The web.xml file that was causing the problem was not webdav/web.xml.  That was \njust a severe warning that the context did not start up due to previous \nerrors.  I know the \"problem\" web.xml, but I had to figure it out by reviewing \nall web.xml file(s).  I understand the VM crash needs to be sent to vendor.\n\nThank you.", "id": 88294, "time": "2006-04-19T17:09:37Z", "bug_id": 39356, "creation_time": "2006-04-19T17:09:37Z", "is_private": false, "attachment_id": null}, {"count": 4, "text": "Just a bit of clarification on this issue. This problem was fixed by Yoav in \nOctober, 2005 with the fix for \nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=36840.\nHe added code so that when a web.xml parsing error occurs it reports the full \nurl to the illegal web.xml.\nThat would make it available from 5.5.12+\n\ncheers - Warren", "bug_id": 39356, "is_private": false, "id": 88334, "time": "2006-04-20T21:11:00Z", "creator": "warren.lewis@sas.com", "creation_time": "2006-04-20T21:11:00Z", "tags": [], "attachment_id": null}]