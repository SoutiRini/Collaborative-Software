[{"count": 0, "tags": [], "text": "request.getPathInfo() returns null in a servlet that http request is forwarded \nto.\n\n\nTo test this, save following servlet in examples web application\n($TOMCAT_HOME/webapps/examples/WEB-INF/classes) and compile it.\n\nimport javax.servlet.*;\nimport javax.servlet.http.*;\nimport java.io.*;\nimport java.util.*;\n\npublic class ForwardServlet1 extends HttpServlet {\n    public void init(ServletConfig config) throws ServletException {\n        super.init(config);\n    }\n    public void doGet(HttpServletRequest request, HttpServletResponse response) \nthrows ServletException, IOException {\n        RequestDispatcher dispatcher = request.getRequestDispatcher\n(\"/servlet/SnoopServlet\");\n        dispatcher.forward(request, response);\n    }\n}\n\nInvoke the servlet:\n\nhttp://yourHost:yourPort/examples/servlet/ForwardServlet1/fooPathInfo?a=b\n\nHere is the output in my environment\n============================================================================\n\n\nSnoop Servlet\n\nServlet init parameters:\n\nContext init parameters:\n\nContext attributes:\n   org.apache.tomcat.classloader = \norg.apache.tomcat.util.depend.DependClassLoader12@2352a5\n\nRequest attributes:\n\nServlet Name: SnoopServlet\nProtocol: HTTP/1.0\nScheme: http\nServer Name: access-prs.au.ssmb.com\nServer Port: 9878\nServer Info: Tomcat Web Server/3.3 Final ( JSP 1.1; Servlet 2.2 )\nRemote Addr: 169.191.96.112\nRemote Host: sydap1-2-qfe5.au.ssmb.com\nCharacter Encoding: null\nContent Length: 0\nContent Type: null\nLocale: en_US\nDefault Response Buffer: 8192\n\nParameter names in this request:\n   a = b \n\nHeaders in this request:\n   accept: */*\n   accept-encoding: gzip, deflate\n   accept-language: en-us\n   cache-control: max-age=604800\n   connection: keep-alive\n   cookie: JSESSIONID=9r6cjccz31; LoginUrl=http%3A%2F%2Faccess-prs.au.ssmb.com%\n3A9878%2FResearch%2FDyn%2FDocServer%2Fcompanyresearch%2FLookup%2F%2FDyn%\n2FDocServer%2Fcompanyresearch%2FLookup%2F%3Fsection%3D1; \nSITESERVER=ID=46ce64a06ab3f8102ff0b7f5f6628d46\n   host: access-prs.au.ssmb.com:9878\n   pragma: no-cache\n   user-agent: Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 4.0)\n   via: 1.1 sydap1-2.au.ssmb.com:8080 (Squid/2.3.STABLE4-hno.20000819)\n   x-forwarded-for: 169.191.80.194\n   content-length: 0\n\nCookies in this request:\n   JSESSIONID = 9r6cjccz31\n   LoginUrl = http%3A%2F%2Faccess-prs.au.ssmb.com%3A9878%2FResearch%2FDyn%\n2FDocServer%2Fcompanyresearch%2FLookup%2F%2FDyn%2FDocServer%2Fcompanyresearch%\n2FLookup%2F%3Fsection%3D1\n   SITESERVER = ID=46ce64a06ab3f8102ff0b7f5f6628d46\n\nRequest Is Secure: false\nAuth Type: null\nHTTP Method: GET\nRemote User: null\nRequest URI: /examples/servlet/SnoopServlet\nContext Path: /examples\nServlet Path: /servlet/SnoopServlet\nPath Info: null\nPath Trans: null\nQuery String: a=b\n\nRequested Session Id: null\nCurrent Session Id: 218qqudp11\nSession Created Time: 1013403818559\nSession Last Accessed Time: 1013403818559\nSession Max Inactive Interval Seconds: 1800\n\nSession values: \n\n=======================================================================\n\n\nPath Info is null\n\n\nIf SnoopServlet is invoked directly:\n\nhttp://yourHost:yourPort/examples/servlet/SnoopServlet/fooPathInfo?a=b\n\nPath Info is reported correctly (/fooPathInfo)", "attachment_id": null, "bug_id": 6355, "id": 10534, "time": "2002-02-11T05:18:17Z", "creator": "Adnan.Music@ssmb.com.au", "creation_time": "2002-02-11T05:18:17Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 6355, "attachment_id": null, "text": "Section 8.4 of the servlet spec states that the PathInfo is from the path that \nwas used to obtain the RequestDispatcher (in the \nexample: /servlet/SnoopServlet).\n\nPossible work-arounds are:\na) use a NamedDispatcher\nb) set an attribute on the Request before forwarding\nc) append the original PathInfo to the path passed to getRequestDispatcher", "id": 10558, "time": "2002-02-11T21:37:14Z", "creator": "william.barker@wilshire.com", "creation_time": "2002-02-11T21:37:14Z", "is_private": false}]