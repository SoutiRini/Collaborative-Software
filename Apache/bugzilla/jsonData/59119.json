[{"count": 0, "tags": [], "creator": "caijunj@apache.org", "attachment_id": null, "id": 189111, "time": "2016-03-04T19:38:12Z", "bug_id": 59119, "creation_time": "2016-03-04T19:38:12Z", "is_private": false, "text": "In source code [1], the \"forceRead\" section (from Line 265 to 273, as of today) does not reset \"forceRead\" to false after a forced read. This causes improper forced reading in follow-up loops even though there are still data in the socketChannel left over from last unwrap. As a result, it causes timeout in the WsWebSocketContainer.processResponse() method, and prevents websocket hand-shaking from completion.\n\n\n[1] http://svn.apache.org/repos/asf/tomcat/trunk/java/org/apache/tomcat/websocket/AsyncChannelWrapperSecure.java"}, {"count": 1, "tags": [], "bug_id": 59119, "is_private": false, "text": "Note the same issue applies to other versions as well.", "id": 189112, "time": "2016-03-04T19:41:02Z", "creator": "caijunj@apache.org", "creation_time": "2016-03-04T19:41:02Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "Thanks for the report.\n\nThis has been fixed in 9.0.x for 9.0.0.M4 onwards, 8.0.x for 8.0.33 onwards and 7.0.x for 7.0.69 onwards.", "is_private": false, "bug_id": 59119, "id": 189200, "time": "2016-03-07T12:33:52Z", "creator": "markt@apache.org", "creation_time": "2016-03-07T12:33:52Z", "attachment_id": null}]