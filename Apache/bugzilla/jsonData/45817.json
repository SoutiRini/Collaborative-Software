[{"count": 0, "tags": [], "bug_id": 45817, "text": "FTPClient.connet is not returning anything. By any means can we set timeout in the code?", "id": 120647, "attachment_id": null, "creator": "anujasnair@gmail.com", "creation_time": "2008-09-15T23:34:06Z", "time": "2008-09-15T23:34:06Z", "is_private": false}, {"count": 1, "tags": [], "text": "What is FtpClient.connect? is it part of apache code? It looks suspiciously  like part of a test script. Do let us know what the problem is in full detail.\n(Include httpd -l and your httpd.conf also in case they are relevant. and please do confirm the version of httpd.)\n\n", "is_private": false, "id": 120649, "creator": "rahul.g.nair@gmail.com", "time": "2008-09-16T00:15:59Z", "bug_id": 45817, "creation_time": "2008-09-16T00:15:59Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 45817, "text": "import org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPReply;\n\n\nI am using the above mentined Apache classes to connect to FTP\nA thread is continuously polling(15 min) FTP for a particular file and dwonloading if this is available in FTP\n\nThis thread was working fine until a Socket exception came. May be due to slow network. In the next iteetarion of the thread it came uptil \nftpClient.connect(url);\nafter that no response from FTP.\n\npublic boolean connect(String url, String user, String password) throws FtpException{\n    \tif(log.isDebugEnabled()){\n            \t log.debug(\"Inside Connect function>> \");\n            \t log.debug(\"url>> \"+url);\n            \t log.debug(\"user>> \"+user);\n            \t log.debug(\"password>> \"+password);\n            }\n        \n        boolean success = false;\n        try{\n            if(url == null || url.trim().length() == 0){\n                throw new FtpException(FtpException.FTP_CONNECTION_FAILED, \"ftp url not provided\");\n            }\n            if(log.isDebugEnabled()){\n            \tlog.debug(\"Just before Connect function>> \");\n            }\n            ftpClient.setDefaultTimeout(2000);\n            //ftpClient.setDataTimeout(1);\n            //ftpClient.setSoTimeout(20000);\n            ftpClient.connect(url);\n          \n            if(log.isDebugEnabled()){\n            \tlog.debug(\"Just before Connect function>> \");\n            }\n            success = ftpClient.login(user, password);\n            if(success){\n                if(log.isDebugEnabled()){\n                    log.debug(\"Login to ftp successfull. url: \" + \n                        url + \", user : \" + user + \", password : \" + password);\n                }\n            }else{\n                throw new FtpException(FtpException.FTP_CONNECTION_FAILED, \"Could not login to ftp. url: \" + \n                        url + \", user : \" + user + \", password : \" + password);\n            }\n        }catch(FtpException fe){\n            ExploitLogger.error(MessageCodes.CD_4007, MessageCodes.getMsg(MessageCodes.CD_4007) + \"- \" + fe.getMessage());\n            if(log.isDebugEnabled()){\n                log.debug(\"Unable to connect to ftp. url : \" +\n                  url + \" >> user : \" + user + \" >> password : \" + password, fe);\n            }\n            throw fe;\n        }catch(SocketException se){\n            ExploitLogger.error(MessageCodes.CD_4007, MessageCodes.getMsg(MessageCodes.CD_4007) + \"- \" + se.getMessage());\n            if(log.isDebugEnabled()){\n                log.debug(\"Unable to connect to ftp. url : \" +\n                  url + \" >> user : \" + user + \" >> password : \" + password, se);\n            }\n            throw new FtpException(FtpException.FTP_CONNECTION_FAILED, se);\n        }catch(IOException ie){\n            ExploitLogger.error(MessageCodes.CD_4007, MessageCodes.getMsg(MessageCodes.CD_4007) + \"- \" + ie.getMessage());\n            if(log.isDebugEnabled()){\n                log.debug(\"Unable to login to ftp. url :: \" +\n                     url + \" >> user : \" + user + \" >> password : \" + password, ie);\n            }\n            throw new FtpException(FtpException.FTP_CONNECTION_FAILED, ie);\n        }catch(Exception e){\n        \tExploitLogger.error(MessageCodes.CD_4007, MessageCodes.getMsg(MessageCodes.CD_4007) + \"- \" + e.getMessage());\n            if(log.isDebugEnabled()){\n                log.debug(\"Unable to connect to ftp. url ::: \" +\n                  url + \" >> user : \" + user + \" >> password : \" + password, e);\n            }\n            throw new FtpException(FtpException.FTP_CONNECTION_FAILED, e);\n        }\n        finally{\n        \tif(log.isDebugEnabled()){\n            \tlog.debug(\"Inside Finally>> success is> \"+success);\n            }\n        \t\n        }\n          \n        // After connection attempt, you should check the reply code to verify\n        // success.\n        if(log.isDebugEnabled()){\n            log.debug(\"Reply code for connecting to ftp >>>\" + ftpClient.getReplyCode() + \" \" + ftpClient.getReplyString());\n        }\n        return success;\n    }\n", "id": 120769, "attachment_id": null, "creator": "anujasnair@gmail.com", "creation_time": "2008-09-18T22:13:33Z", "time": "2008-09-18T22:13:33Z", "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 45817, "is_private": false, "id": 120771, "time": "2008-09-18T23:57:13Z", "creator": "rpluem@apache.org", "creation_time": "2008-09-18T23:57:13Z", "tags": [], "text": "This is the wrong bug reporting tool. Please open a report at\nhttps://issues.apache.org/jira/browse/NET"}]