[{"count": 0, "tags": [], "bug_id": 2817, "is_private": false, "text": "I have upgraded Tomcat from 3.2.1 to 3.2.3. \n\nI have found that the HTML code, <meta http-equiv=\"Content-Type\" \ncontent=\"text/html; charset=big5\">, which I put inside JSP files, no longer \nworks. The HTML code is used to inform the browser which character encoding \nschemes are used. In my case, I used BIG5 for display traditional Chinese \ncharacters. This bug prevents Tomcat 3.2.3 to be deployed by any Chinese \nwebsites.\n\nAfter a fallback to version 3.2.1, everything works normally. The bug only \noccurs for JSPs compiled with Tomcat 3.2.3. The JSPs, which were compiled by \nTomcat 3.2.1, run normally by Tomcat 3.2.3. Removing the work subdirectory, \nwhich forces Tomcat 3.2.3 to recompile all JSPs, would reveal the bugs!\n\nThanks a lot. I hope it would be fixed easily.\n\nTony Cheung", "id": 4028, "time": "2001-07-25T21:34:15Z", "creator": "tony.cheung@asiayeah.com", "creation_time": "2001-07-25T21:34:15Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 2817, "attachment_id": null, "is_private": false, "id": 4493, "time": "2001-08-11T12:29:17Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-08-11T12:29:17Z", "text": "Fixed in 3.3.\nChar encoding should be fixed in 3.3. Please check there, and if there is a\nproblem reopen the bug. "}, {"count": 2, "tags": [], "text": "I have tested with Tomcat 3.3 beta 2 and the problem is also there. However, \nTomcat 3.2.1 works smoothly. The bug is only there when Tomcat (v3.2.3 or v3.3 \nbeta 2) recompiles the jsp. So I guess the new Tomcat doesn't convert the JSP \ninto java codes correctly. \n\nIt makes the latest Tomcat v3.x releases not applicable for the Chinese \ncommunities.", "is_private": false, "id": 5353, "creator": "tony.cheung@asiayeah.com", "time": "2001-09-11T06:59:11Z", "bug_id": 2817, "creation_time": "2001-09-11T06:59:11Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 2817, "is_private": false, "text": "Could you please attach a JSP file that works and one that doesn't ? ( and their\ntranslations !). I don't speak chinese and typing big5 on my computer is not\neasy. The java files would help since I can find out what changed. \n\nThaks.", "id": 5506, "time": "2001-09-13T21:27:59Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-09-13T21:27:59Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "tony.cheung@asiayeah.com", "is_private": false, "id": 5548, "attachment_id": 539, "bug_id": 2817, "creation_time": "2001-09-14T08:26:03Z", "time": "2001-09-14T08:26:03Z", "text": "Created attachment 539\nA jsp file which contains chinese text in BIG-5 encodings."}, {"count": 5, "tags": [], "bug_id": 2817, "text": "An attachment is included. When viewing under IE and Auto-Select enabled in Encoding (View->Encoding->Auto-Select), IE should choose the Chinese Traditional (Big5) for encoding. \n\nIt works for Tomcat 3.2.1, but not for jsp compiled by Tomcat 3.2.3 and up.\n\nThe following HTML codes tells IE to choose the correct encoding,\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=big5\">\n\nIt looks like this statement has no effect when compiled by Tomcat 3.2.3 and up.\n\nTony Cheung\nhttp://www.asiayeah.com\n\n\n", "id": 5549, "time": "2001-09-14T08:31:03Z", "creator": "tony.cheung@asiayeah.com", "creation_time": "2001-09-14T08:31:03Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "cmanolache@yahoo.com", "is_private": false, "id": 5556, "attachment_id": null, "bug_id": 2817, "creation_time": "2001-09-14T10:52:29Z", "time": "2001-09-14T10:52:29Z", "text": "It was a bug in 3.2.1 that was fixed, and a bug in your page.\nYou must let jasper know you're using big5 - \n<%@ page contentType=\"text/html; charset=Big5\" %>\n\nThe http-equiv is only for the browser."}, {"count": 7, "tags": [], "text": "Thanks.\n\n<%@ page contentType=\"text/html; charset=Big5\" %> does not work for my case, as I've found java would do some encoding conversions for me. I have Java strings stored in Big-5 encoding, and it seems to treat them as Unicode and converts them for me.\n\nSo, I solved the problem by having this <%@ page contentType=\"text/html; charset=8859_1\" %> in every of my JSP. It makes browser recognise the <meta http-equiv=\"Content-Type\" content=\"text/html; charset=big5\"> as well as skipping  the encoding conversions made by Java.", "is_private": false, "id": 5567, "creator": "tony.cheung@asiayeah.com", "time": "2001-09-14T18:52:12Z", "bug_id": 2817, "creation_time": "2001-09-14T18:52:12Z", "attachment_id": null}]