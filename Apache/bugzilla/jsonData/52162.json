[{"count": 0, "tags": [], "text": "Created attachment 27913\nPatch to change \"if (s->loglevel >= APLOG_DEBUG)\" to APLOG_INFO\n\nIn order to log attempts to connect with a revoked client certificate, Apache needs to be configured at debug log level. This seems hardly ok for deployment on production servers.\n\nSource code shows that:\n- the log is emited with APLOG_INFO, which is ok;\n- but this is protected by \"if (s->loglevel >= APLOG_DEBUG)\"...\n\nIn ./modules/ssl/ssl_engine_kernel.c @ 1590:\n\n               if (s->loglevel >= APLOG_DEBUG) {\n                    char *cp = X509_NAME_oneline(issuer, NULL, 0);\n                    long serial = ASN1_INTEGER_get(sn);\n\n                    ap_log_error(APLOG_MARK, APLOG_INFO, 0, s,\n                                 \"Certificate with serial %ld (0x%lX) \"\n                                 \"revoked per CRL from issuer %s\",\n                                 serial, serial, cp);\n                    modssl_free(cp);\n                }\n\nPatch attached.", "is_private": false, "bug_id": 52162, "id": 151330, "time": "2011-11-09T15:29:04Z", "creator": "eprost@orpheus.fr", "creation_time": "2011-11-09T15:29:04Z", "attachment_id": 27913}, {"count": 1, "tags": [], "bug_id": 52162, "attachment_id": null, "id": 165272, "time": "2013-02-15T15:55:17Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2013-02-15T15:55:17Z", "is_private": false, "text": "Applied in r1165056 to trunk/2.4.x and in r1446637 to 2.2.x.\nWill be contained in 2.2.24."}, {"count": 2, "attachment_id": null, "bug_id": 52162, "is_private": false, "id": 165602, "time": "2013-03-03T16:42:50Z", "creator": "sf@sfritsch.de", "creation_time": "2013-03-03T16:42:50Z", "tags": [], "text": "2.2.24 is released"}]