[{"count": 0, "tags": [], "bug_id": 54769, "attachment_id": 30119, "is_private": false, "id": 166231, "time": "2013-03-29T14:05:43Z", "creator": "nicolas.cenerario@gmail.com", "creation_time": "2013-03-29T14:05:43Z", "text": "Created attachment 30119\nAn archive containing testing files as long a a patch (which might be only partial)\n\nInconsistency in property setting when using prefix.\n\n1) create a property files containing properties that depends on each other like, for example:\na=A\nb=${a}\n\n2) Try to set property from this file with a prefix:\n<project default=\"test\">\n\t<target name=\"test\">\n\t\t<property name=\"test.a\" value=\"test.a\" />\n\t\t<property file=\"build.properties\" prefix=\"test\" prefixValues=\"false\" />\n\t\t<echo>test.a = ${test.a}</echo>\n\t\t<echo>test.b = ${test.b}</echo>\n\t</target>\n</project>\n\n\n3) The values are not what they should be. Here, test.b should be equals to ${a}. Here is the obtained output:\ntest:\n     [echo] test.a = test.a\n     [echo] test.b = A"}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "text": "OK, both testcases fail in Jenkins, I'll add an option to completely turn of zip64 extensions and make turn it on in <jar> by default.", "id": 166265, "time": "2013-03-31T09:30:56Z", "bug_id": 54769, "creation_time": "2013-03-31T09:30:56Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "bodewig@apache.org", "is_private": false, "text": "(In reply to comment #1)\n> OK, both testcases fail in Jenkins, I'll add an option to completely turn of\n> zip64 extensions and make turn it on in <jar> by default.\n\nsorry, this was meant to be a comment to bug 54762", "id": 166269, "time": "2013-03-31T11:04:40Z", "bug_id": 54769, "creation_time": "2013-03-31T11:04:40Z", "attachment_id": null}, {"count": 3, "text": "Created attachment 30135\nPatch for the bug 54769: Setting properties one after another when reading from a file.\n\nI just saw that the two first lines from the patch included in the zip file should not be there.\n\nI attach a new version of the patch.\nI hope it helps: It is the first time I am participating to a open source project and I am not sure how to do it.\n\nThank you.", "creator": "nicolas.cenerario@gmail.com", "is_private": false, "id": 166326, "time": "2013-04-02T15:00:49Z", "bug_id": 54769, "creation_time": "2013-04-02T15:00:49Z", "tags": [], "attachment_id": 30135}, {"count": 4, "tags": [], "creator": "bodewig@apache.org", "text": "First of all, Nicolas, I'm very sorry it took so long for anybody of the team to respond.\n\nYou haven't done anything wrong, the only thing you could have done was nagging us a more aggressive way.  Things tend to get forgotten when they pop up at a point in time when you cannot deal with them right away.\n\nNested property expansion in property files has been a sore point for quite a few releases, we have repeatedly broken it over the past few years as there are too many ways to get it wrong.  Your approach of resolving one property after the other won't work when prefixValues is true (or there is no prefix at all) and the iterator isn't returning keys in the order needed - you may end up with unexpanded properties because the property refered to in the value side hasn't been iterated over, yet.\n\nshould be fixed by svn revision 1554614", "id": 171991, "time": "2014-01-01T12:13:36Z", "bug_id": 54769, "creation_time": "2014-01-01T12:13:36Z", "is_private": false, "attachment_id": null}]