[{"count": 0, "text": "The following jsp fails to compile: \n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n<jsp:useBean id=\"myBean\" scope=\"request\" class=\"com.MyBean\"/>\n<c:if test=\"${(myBean.int1 > 1 and myBean.myBool) or ((myBean.myBool or myBean.myBool1) and myBean.int1 > 1)}\">Hello world</c:if>\n\nIf I simplify test expression to: (myBean.int1 > 1 and myBean.myBool) or (myBean.myBool and myBean.int1 > 1) i.e. replace (myBean.myBool or myBean.myBool1) with myBean.myBool, then compilation will work.\n\nIt looks like Jasper cannot compile EL expressions with depth that is higher than a certain value (4?)\n\nException as follows\norg.apache.jasper.JasperException: /testCompile.jsp (line: 26, column: 0) \"${(myBean.int1 > 1 and myBean.myBool) or ((myBean.myBool or myBean.myBool) and myBean.int1 > 1)}\" contains invalid expression(s): javax.el.ELException: Failed to parse the expression [${(myBean.int1 > 1 and myBean.myBool) or ((myBean.myBool or myBean.myBool) and myBean.int1 > 1)}]\n\torg.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:42)\n\torg.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:276)\n.....\n\nWorks properly in Tomcat 6 and Tomcat 7.", "bug_id": 56185, "is_private": false, "id": 173461, "time": "2014-02-25T07:24:55Z", "creator": "serge.pak@gmail.com", "creation_time": "2014-02-25T07:24:55Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 56185, "text": "It is reproducible in 8.0.3, but not in the current trunk.\nSo I think that it was fixed with bug 56179 - r1571242 and r1571245\n\n\nTo reproduce I put the text from Description as examples/test.jsp with s/class=\"com.MyBean\"/class=\"cal.TableBean\"/\n\nIn 8.0.3 it fails at compile time with \"contains invalid expression(s)\".\nIn current trunk it compiles successfully and fails at runtime (trying to access a property that \"cal.TableBean\" does not have).\n\nClosing as duplicate.\n\n*** This bug has been marked as a duplicate of bug 56179 ***", "id": 173470, "time": "2014-02-25T15:35:53Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2014-02-25T15:35:53Z", "is_private": false, "attachment_id": null}]