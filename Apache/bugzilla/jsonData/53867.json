[{"count": 0, "tags": [], "bug_id": 53867, "attachment_id": 29369, "id": 162149, "time": "2012-09-13T13:33:48Z", "creator": "xshao@ebay.com", "creation_time": "2012-09-13T13:33:48Z", "is_private": false, "text": "Created attachment 29369\nPatch for PageContextImpl.java\n\nXmlEscape is used to do escape special characters for EL result.\n Currently it gets characters from String one by one and check whether the char is special character or not, than put the char into a StringBuilder.\n\nMost cases the string has no such special characters, However, it always creates a new StringBuilder than do such iteration.\n\nIt's better to check whether there is any special characters first.\n If there is special character, then do create a StringBuilder and put those characters in front of te special character into the StringBuilder. \nAgain, check the string by character one by one similar as the original logic.\n\n\n\nHere is the result of comparison testing between the two methods.\n\nOld escape:1610\nNew escape:1050\nOld escape:1566\nNew escape:873\nOld escape:1437\nNew escape:905\nOld escape:1590\nNew escape:890\nOld escape:1452\nNew escape:889\nOld escape:1547\nNew escape:889\nOld escape:1467\nNew escape:889\nOld escape:1575\nNew escape:930\nOld escape:1479\nNew escape:874\nOld escape:1517\nNew escape:970"}, {"count": 1, "tags": [], "creator": "xshao@ebay.com", "attachment_id": 29370, "is_private": false, "id": 162150, "time": "2012-09-13T13:41:37Z", "bug_id": 53867, "creation_time": "2012-09-13T13:41:37Z", "text": "Created attachment 29370\nComparison test case"}, {"count": 2, "tags": [], "creator": "xshao@ebay.com", "attachment_id": 29376, "is_private": false, "id": 162158, "time": "2012-09-13T14:06:21Z", "bug_id": 53867, "creation_time": "2012-09-13T14:06:21Z", "text": "Created attachment 29376\nPatch for PageContextImpl.java"}, {"count": 3, "tags": [], "creator": "jgawor@gmail.com", "attachment_id": null, "is_private": false, "id": 162256, "time": "2012-09-18T19:55:02Z", "bug_id": 53867, "creation_time": "2012-09-18T19:55:02Z", "text": "Can somebody please take a look at this patch? It's a nice & clean optimization."}, {"count": 4, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 163009, "time": "2012-10-28T21:59:43Z", "bug_id": 53867, "creation_time": "2012-10-28T21:59:43Z", "text": "This has been fixed in trunk and 7.0.x and will be included in 7.0.33 onwards."}]