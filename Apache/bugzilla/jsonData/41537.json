[{"count": 0, "tags": [], "creator": "johannes@laemmermann.eu", "attachment_id": null, "id": 98957, "time": "2007-02-04T17:42:08Z", "bug_id": 41537, "creation_time": "2007-02-04T17:42:08Z", "is_private": false, "text": "It's possible to use name-based virtual hosts wit SSL, with so called\nmulti-domain certificates.\n\nThe documentation, found at\nhttp://httpd.apache.org/docs/2.0/en/vhosts/name-based.html, contains:\n\"Name-based virtual hosting cannot be used with SSL secure servers because of\nthe nature of the SSL protocol.\"\n\nIt should be corrected to:\n\"Name-based virtual hosting over SSL can only be used with so called\nmulti-domain certificates. More information can be found at\nhttp://wiki.cacert.org/wiki/VhostTaskForce or\nhttp://wiki.cacert.org/wiki/VhostsApache or\nhttp://www.positivessl.com/ssl-certificate-products/ssl/multi-domain-ssl-certificate.html\n\""}, {"count": 1, "tags": [], "creator": "slive@apache.org", "attachment_id": null, "id": 99017, "time": "2007-02-06T07:24:20Z", "bug_id": 41537, "creation_time": "2007-02-06T07:24:20Z", "is_private": false, "text": "I, personally, would not make that change until I saw evidence that this works\ncorrectly for all major browsers without creating any certificate warnings.\n\nEven then, this is not a good place to through in a bunch of details that would\nconfuse an already very confusing issue.  It should go in the SSL FAQ."}, {"count": 2, "tags": [], "creator": "johannes@laemmermann.eu", "attachment_id": null, "id": 99396, "time": "2007-02-14T19:45:05Z", "bug_id": 41537, "creation_time": "2007-02-14T19:45:05Z", "is_private": false, "text": "(In reply to comment #1)\n> I, personally, would not make that change until I saw evidence that this \nworks\n> correctly for all major browsers without creating any certificate warnings.\nOK - let's have a look at http://wiki.cacert.org/wiki/VhostTaskForce#head-\n7236c4e2c9932ef42056b3ff6d367053081887de\nAditionally i've set up one of my boxes with ssl virtual-hosts: you can test \nthem with every major browser, just install the cacert.org root certificate.\nhttps://ssltest1.hardenberg-gymnasium.de\nhttps://ssltest2.hardenberg-gymnasium.de\n\nAnyway it's a good idea, to put it in the SSL FAQ and just link to the FAQ."}, {"count": 3, "tags": [], "bug_id": 41537, "attachment_id": null, "text": "IMO it would be vaguely irresponsible to present subjectAltName-based certs as a\n\"solution\" to NBVH for SSL.  This is a nice hack but it's better as an\nundocumented hack.\n\nIt only \"works\" insofar as the SSL configuration used for the configured vhosts\nmust be identical.  Users may be duped into thinking they can have different\nSSL-level security requirements in the various vhosts: they will silently be\nignored.", "id": 99421, "time": "2007-02-15T08:02:05Z", "creator": "jorton@redhat.com", "creation_time": "2007-02-15T08:02:05Z", "is_private": false}, {"count": 4, "tags": [], "creator": "chuck.mcintyre@gmail.com", "attachment_id": null, "id": 99591, "time": "2007-02-20T19:20:43Z", "bug_id": 41537, "creation_time": "2007-02-20T19:20:43Z", "is_private": false, "text": "(In reply to comment #1)\n> I, personally, would not make that change until I saw evidence that this works\n> correctly for all major browsers without creating any certificate warnings.\n\nBut it does. We use this in production today, I'm surprised this warning\nsuddenly started coming up, it's very obnoxious. Although slightly better than\nthe previous \"cn does not match\" error messsage."}, {"count": 5, "text": "Actually, this is not just a documentation bug, httpd-2.2.4 has now broken\nfunctionality that worked perfectly  in httpd-2.2.3 - that is name based\nvirtualhosting with wildcard certificates used to work, but now completely does\nnot, should I file a separate certificate for this?\n\nThis is running under Centos 4.4 (x86_64).", "bug_id": 41537, "is_private": false, "id": 99593, "time": "2007-02-20T19:28:42Z", "creator": "chuck.mcintyre@gmail.com", "creation_time": "2007-02-20T19:28:42Z", "tags": [], "attachment_id": null}, {"count": 6, "tags": [], "creator": "chuck.mcintyre@gmail.com", "attachment_id": null, "id": 99594, "time": "2007-02-20T19:35:45Z", "bug_id": 41537, "creation_time": "2007-02-20T19:35:45Z", "is_private": false, "text": "(In reply to comment #5)\n> Actually, this is not just a documentation bug, httpd-2.2.4 has now broken\n> functionality that worked perfectly  in httpd-2.2.3 - that is name based\n> virtualhosting with wildcard certificates used to work, but now completely does\n> not, should I file a separate certificate for this?\n\nNevermind - sorry for the spam here, but this is not true, just a documentation\nthing."}, {"count": 7, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "is_private": false, "id": 99778, "time": "2007-02-26T01:14:23Z", "bug_id": 41537, "creation_time": "2007-02-26T01:14:23Z", "text": "While pointing out that name-based virtual hosts can potentially work with\nalt-subject common names, or wild card certificates, it should also be pointed\nout that they work with SSL Upgrade (although this is not used in practice\nwith any browser I'm aware of).  Mostly a coding thing.\n\nThis SHOULD be documented.  But it should also be stressed that these are all\ncomplex solutions and are frequently misconfigured, and the explanation of WHY\na 'vanilla' named virtualhost with a 'vanilla' certificate just isn't possible.\n\nAt least to the level of detail that lets us kick users out of users@ into the\ndocumentation at a reasonable starting point for them to solve their own issue."}, {"count": 8, "tags": [], "creator": "justdave@mozilla.com", "attachment_id": null, "is_private": false, "id": 127187, "time": "2009-05-19T13:41:11Z", "bug_id": 41537, "creation_time": "2009-05-19T13:41:11Z", "text": "How about a configuration option to disable the warning?  Due to the complexities of how it's set up, as you noted, it frequently gets misconfigured.  As such, it makes sense to warn by default, to at least get you to look it over.  But when you *do* have it configured correctly, it's pretty annoying to continually get error messages in your logs complaining that your setup is broken, when it really isn't.  This type of situation is increasingly common in modern setups, and there are almost no browsers left in common usage that *don't* support both wildcard certs and subjectAltName.\n\nOn a server with an OV SSL wildcard cert:\n\n>[Tue May 19 13:30:49 2009] [warn] RSA server certificate CommonName (CN) `*.mozilla.org' does NOT match server name!?\n>[Tue May 19 13:30:49 2009] [warn] Init: SSL server IP/port conflict: foo.mozilla.org:443 (/etc/httpd/conf/domains/foo.conf:17) vs. bar.mozilla.org:443 (/etc/httpd/conf/domains/bar.conf:11)\n>[Tue May 19 13:30:49 2009] [warn] Init: You should not use name-based virtual hosts in conjunction with SSL!!"}, {"count": 9, "text": "This was implemented in version 2.2.12", "bug_id": 41537, "attachment_id": null, "id": 134967, "time": "2010-03-01T10:21:29Z", "creator": "i.galic@brainsware.org", "creation_time": "2010-03-01T10:21:29Z", "tags": [], "is_private": false}]