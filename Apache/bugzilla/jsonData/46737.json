[{"count": 0, "tags": [], "creator": "lzap@seznam.cz", "text": "Please extend documentation of echo/java-when-forked tasks. The problem is with special characters of the arg elements. Its not documented what should be output of this simple test:\n\n<project name=\"test\" default=\"test\">\n\t<target name=\"test\">\n\t\t<property name=\"a\" value=\"&quot;src&quot;\" />\n\n\t\t<echo>Variable is ${a}</echo>\n\n\t\t<echo>Now lets see what exec do with quotes</echo>\n\t\t<exec executable=\"echo\">\n\t\t\t<arg value=\"${a}\" />\n\t\t</exec>\n\n\t\t<echo>It removes quotes - even when entered directly</echo>\n\t\t<exec executable=\"echo\">\n\t\t\t<arg value=\"&quot;src&quot;\" />\n\t\t</exec>\n\t</target>\n</project>\n\nOn some systems it prints:\n\ntest:\n     [echo] Variable is \"src\"\n     [echo] Now lets see what exec do with quotes\n     [exec] src\n     [echo] It removes quotes - even when entered directly\n     [exec] src\n\non others\n\ntest:\n     [echo] Variable is \"src\"\n     [echo] Now lets see what exec do with quotes\n     [exec] \"src\"\n     [echo] It removes quotes - even when entered directly\n     [exec] \"src\"\n\nIt varies from different Java versions or platforms.\n\nThe very same for JAVA TASK when fork is set to \"true\"! A little bit dangerous.", "id": 124979, "time": "2009-02-19T07:22:38Z", "bug_id": 46737, "creation_time": "2009-02-19T07:22:38Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 46737, "text": "ant doesn't, Runtime.exec does - and there isn't much Ant can do.\n\nIf you run Ant in verbose mode you'll see\n\n     [echo] Variable is \"src\"\n     [echo] Now lets see what exec do with quotes\n     [exec] Current OS is Windows XP\n     [exec] Executing 'echo' with arguments:\n     [exec] '\"src\"'\n     [exec]\n     [exec] The ' characters around the executable and arguments are\n     [exec] not part of the command.\n     [exec] src\n     [echo] It removes quotes - even when entered directly\n     [exec] Current OS is Windows XP\n     [exec] Executing 'echo' with arguments:\n     [exec] '\"src\"'\n     [exec]\n     [exec] The ' characters around the executable and arguments are\n     [exec] not part of the command.\n     [exec] src\n\neven on Windows where echo swallows the quotes.\n\nAnt uses the String[] version of Runtime.exec and passes down the quotes, it's just that they get swallowed later either inside the class libraries implementation of exec or inside the OS.\n\nCANTFIX rather than WONTTFIX", "count": 1, "id": 126844, "time": "2009-05-07T02:42:20Z", "creator": "bodewig@apache.org", "creation_time": "2009-05-07T02:42:20Z", "is_private": false}, {"count": 2, "tags": [], "creator": "lzap@seznam.cz", "text": "Thanks but this issue was not about fixing an software issue but the documentation. It would be great to mention this. Thanks anyway.", "id": 126847, "time": "2009-05-07T03:02:55Z", "bug_id": 46737, "creation_time": "2009-05-07T03:02:55Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "text": "I mean - its hard to write once run everywhere (Ant script) when fork=true. It should be documented.", "attachment_id": null, "id": 126848, "creator": "lzap@seznam.cz", "time": "2009-05-07T03:05:33Z", "bug_id": 46737, "creation_time": "2009-05-07T03:05:33Z", "is_private": false}]