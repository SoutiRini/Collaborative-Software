[{"id": 72322, "tags": [], "creator": "tony@let-it-out.com", "is_private": false, "count": 0, "text": "Hi,\n\nI've discovered a new bug in Tomcat 5.5.\n\nCalling a mail resource simply won't work.\nBelow a full example on when it fails.\n\n\nThe CATALINA/localhost/lio2.xml contains the following code:\n------------------------------------------------------------\n<Resource\n    name=\"mail/session\"\n    type=\"javax.mail.Session\"\n    mail.smtp.host=\"localhost\"/>\n\n\nThe Servlet contains following code inside the init():\n--------------------------------------------------\nmailSession = ( javax.mail.Session ) new InitialContext().lookup \n(\"java:comp/env/mail/session\");\n\n\nThe outcome on the server shows:\n---------------------------------------\nSEVERE: Servlet /lio2 threw load() exception\njavax.naming.NamingException: Cannot create resource instance\n        at org.apache.naming.factory.ResourceFactory.getObjectInstance\n(ResourceFactory.java:132)\n        at javax.naming.spi.NamingManager.getObjectInstance(Unknown Source)\n        at org.apache.naming.NamingContext.lookup(NamingContext.java:792)\n        at org.apache.naming.NamingContext.lookup(NamingContext.java:139)\n        at org.apache.naming.NamingContext.lookup(NamingContext.java:780)\n        at org.apache.naming.NamingContext.lookup(NamingContext.java:139)\n        at org.apache.naming.NamingContext.lookup(NamingContext.java:780)\n        at org.apache.naming.NamingContext.lookup(NamingContext.java:139)\n        at org.apache.naming.NamingContext.lookup(NamingContext.java:780)\n        at org.apache.naming.NamingContext.lookup(NamingContext.java:152)\n        at org.apache.naming.SelectorContext.lookup(SelectorContext.java:136)\n        at javax.naming.InitialContext.lookup(Unknown Source)\n        at com.lio.servlet.CreateAdServlet.init(CreateAdServlet.java:66)\n\n\nInteresting enough if you test this for a database connection then it works.\n \nCheers\n \nTony", "time": "2005-03-14T09:04:48Z", "bug_id": 34001, "creation_time": "2005-03-14T09:04:48Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 34001, "text": "\n\n*** This bug has been marked as a duplicate of 34131 ***", "id": 31284, "time": "2005-03-22T17:02:46Z", "creator": "remm@apache.org", "creation_time": "2005-03-22T17:02:46Z", "is_private": false, "attachment_id": null}]