[{"count": 0, "tags": [], "bug_id": 57506, "attachment_id": 32402, "text": "Created attachment 32402\nConfig file demonstrating problem\n\nI'm trying to embed an <If> directive within a <Location> section, but the settings within the <If> block are never applied. Here's my configuration snippet:\n\n<VirtualHost *>\n  ...\n  <Location />\n    ...\n    <If \"true\">\n      AuthLDAPBindDN \"${AUTH_LDAP_BIND_DN}\"\n    </If>\n    ...\n  </Location>\n</VirtualHost>\n\nThe full config file is at http://apaste.info/sXu and attached. If I run the server at trace8, I see the following in the log:\n\nEvaluation of expression from /etc/apache2/sites-enabled/reg-proxy.conf:27 gave: 1\n\nI interpret this to mean that the condition evaluated to true, but the AuthLDAPBindDN setting is not applied. If I comment out the <If> lines, it works fine.", "id": 180602, "time": "2015-01-27T20:32:39Z", "creator": "rob@hasselbaum.net", "creation_time": "2015-01-27T20:32:39Z", "is_private": false}, {"count": 1, "tags": [], "creator": "toscano.luca@gmail.com", "text": "I found this report while looking for open issues with <If>, but the following configuration works for me:\n\n# Nothing listening on localhost:6789\n\n<Location /app2>\n        Require local\n        ProxyPass http://localhost:6789/\n        ProxyPassReverse http://localhost:6789/\n        <If \"true\">\n          ErrorDocument 503 \"This is a custom 503!!!!\"\n        </If>\n</Location>\n\n<Location /app3>\n        Require local\n        ProxyPass http://localhost:6789/\n        ProxyPassReverse http://localhost:6789/\n</Location>\n\n# curl localhost/app2\nThis is a custom 503!!!!\n\n# curl localhost/app3\n<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n<html><head>\n<title>503 Service Unavailable</title>\n</head><body>\n<h1>Service Unavailable</h1>\n<p>The server is temporarily unable to service your\nrequest due to maintenance downtime or capacity\nproblems. Please try again later.</p>\n</body></html>\n\n\nMaybe it is something specific to AuthLDAPBindDN? Are you still facing the issue? The configuration in the paste is expired..", "id": 197394, "time": "2017-03-02T15:55:09Z", "bug_id": 57506, "creation_time": "2017-03-02T15:55:09Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "toscano.luca@gmail.com", "text": "Ah saw that it is attached, sorry!", "id": 197395, "time": "2017-03-02T15:56:25Z", "bug_id": 57506, "creation_time": "2017-03-02T15:56:25Z", "is_private": false, "attachment_id": null}]