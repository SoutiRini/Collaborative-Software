[{"count": 0, "tags": [], "creator": "slaurent@apache.org", "attachment_id": 31563, "is_private": false, "id": 174896, "time": "2014-04-26T21:05:46Z", "bug_id": 56461, "creation_time": "2014-04-26T21:05:46Z", "text": "Created attachment 31563\nPatch for tomcat 8\n\nCurrently when a servlet with load-on-startup >=0 fails its startup, the context startup is still considered as OK.\nWith some webapps (like spring-based ones with a DispatcherServlet), this makes no sense at all : if the servlet failed its startup, the webapp is unuseable and it would be more sensible to have tomcat mark the context as failed.\n\nSuch a behavior is not specified in JEE specs, so I propose to have a new optional flag on Context and Host containers.\n\nIn the attached patch, the flag is named failDeploymentIfServletLoadedOnStartupFails . If specified on Context, it overrides the value potentially specified at the Host level.\n\nThe proposed patch for tomcat 8 passes checkstyle, provides a unit test and updates documentation.\nIf it's OK with the patch, I'd also like to have it backported to tomcat 7."}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 174897, "time": "2014-04-26T21:11:43Z", "bug_id": 56461, "creation_time": "2014-04-26T21:11:43Z", "text": "It needs a shorter name."}, {"count": 2, "tags": [], "creator": "slaurent@apache.org", "attachment_id": null, "id": 174898, "time": "2014-04-26T21:14:59Z", "bug_id": 56461, "creation_time": "2014-04-26T21:14:59Z", "is_private": false, "text": "what about \"failCtxIfServletStartFails\" ?"}, {"count": 3, "text": "ping?", "bug_id": 56461, "is_private": false, "id": 175032, "time": "2014-05-05T20:01:12Z", "creator": "slaurent@apache.org", "creation_time": "2014-05-05T20:01:12Z", "tags": [], "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "slaurent@apache.org", "is_private": false, "count": 4, "id": 175305, "time": "2014-05-18T21:19:39Z", "bug_id": 56461, "creation_time": "2014-05-18T21:19:39Z", "text": "committed r1595690 to tomcat 8 trunk, will be available in tomcat 8.0.9.\nThe new flag is named failCtxIfServletStartFails."}, {"count": 5, "text": "merged to tomcat 7, will be availble in 7.0.55", "bug_id": 56461, "is_private": false, "id": 175327, "time": "2014-05-19T20:45:56Z", "creator": "slaurent@apache.org", "creation_time": "2014-05-19T20:45:56Z", "tags": [], "attachment_id": null}]