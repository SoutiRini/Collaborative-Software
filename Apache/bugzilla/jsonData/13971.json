[{"count": 0, "tags": [], "creator": "teva.lautier@temis-group.com", "attachment_id": null, "is_private": false, "id": 25192, "time": "2002-10-25T14:19:16Z", "bug_id": 13971, "creation_time": "2002-10-25T14:19:16Z", "text": "Because tomcat 4.1.12 use a tag pool, when you use style tag using xml or xsl \ninside body, it throw an exception once on two.\nI know why and I know how to correct it :\n\n    public int doAfterBody() throws JspException {\n        if ( bodyContent != null ) {\n            String text = bodyContent.getString().trim();\n            if ( text.length() > 0 ) {\n                if ( xsl == null ) {^\n                   ^^^^^^^^^^^^^^^^^^\n                    xsl = new StringReader( text );\n                }\n                else if ( xml == null ) {\n                    ^^^^^^^^^^^^^^^^^^\n                    xml = new StringReader( text );\n                }\n...\nIt test if xml or xsl is null, or because it use a pool, first time it access \nto xml in body, it create a StringReader, secund times, it did not create a \nnew one (because xml is not null) and you will have an exception because this \nreader is closed.\n\nTo correct this bug, add destroying xml and xsl variable in doEndTag in \nfinally section :\n\n        finally {\n            stringWriter = null;\n            xml=null;\n            xsl=null;\n        }\n\nBest,\nTeva Lautier"}, {"count": 1, "tags": [], "creator": "schultz@adrenaline.com", "attachment_id": null, "id": 28014, "time": "2002-12-18T16:15:04Z", "bug_id": 13971, "creation_time": "2002-12-18T16:15:04Z", "is_private": false, "text": "It looks like this might be caused by Bug #13667."}, {"text": "*** Bug 17053 has been marked as a duplicate of this bug. ***", "tags": [], "bug_id": 13971, "is_private": false, "count": 2, "id": 31730, "time": "2003-02-21T06:00:34Z", "creator": "jmatula@pobox.sk", "creation_time": "2003-02-21T06:00:34Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 13971, "attachment_id": null, "text": "Resolving. Taglib has been retired.", "id": 132441, "time": "2009-11-29T19:46:41Z", "creator": "bayard@apache.org", "creation_time": "2009-11-29T19:46:41Z", "is_private": false}]