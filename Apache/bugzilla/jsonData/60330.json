[{"count": 0, "tags": [], "bug_id": 60330, "attachment_id": null, "text": "Reverse proxy of 100-continue aware backend, sends 100 continue even when backend does not. This causes a client to think it should write a request body, while the backend may still respond with a 400 and not read the request body. mod_proxy_http then responds with 502 as a result of AH01097: pass request body failed\n\nThe backend is doing the right thing: it did not send a 100 continue so it should not be required to read a request body, regardless of transfer encoding or content-length.\n\nExpected:\n\nmod_proxy_http reverse proxy should not send 100-continue to a client unless the backend does.", "id": 194778, "time": "2016-11-02T16:07:57Z", "creator": "jrwren@xmtp.net", "creation_time": "2016-11-02T16:07:57Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 60330, "attachment_id": 34438, "text": "Created attachment 34438\nin the reverse proxy case, if request had Expects: 100-continue, delay writing 100 continue response until backend has sent 100-continue response", "id": 194936, "time": "2016-11-11T22:28:03Z", "creator": "jrwren@xmtp.net", "creation_time": "2016-11-11T22:28:03Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 60330, "is_private": false, "id": 195016, "attachment_id": 34451, "creator": "ylavic.dev@gmail.com", "creation_time": "2016-11-16T00:07:40Z", "time": "2016-11-16T00:07:40Z", "text": "Created attachment 34451\nForward 100-continue (and minimize race when reusing backend connections)\n\nI proposed this patch a while ago on the dev@ list ([1]), this is an update for latest trunk, with more (though incomplete) testing.\n\nCould you please give it a try?\n\n[1]. https://lists.apache.org/thread.html/4e541e032b8a77ebec8248534637b47cdcd4f38af79baa5259845db0@1430360070@%3Cdev.httpd.apache.org%3E"}, {"count": 3, "tags": [], "creator": "jim@apache.org", "text": "*** Bug 55433 has been marked as a duplicate of this bug. ***", "id": 195124, "time": "2016-11-21T20:25:22Z", "bug_id": 60330, "creation_time": "2016-11-21T20:25:22Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "jrwren@xmtp.net", "attachment_id": null, "id": 195415, "creation_time": "2016-12-09T03:08:26Z", "time": "2016-12-09T03:08:26Z", "bug_id": 60330, "text": "Yann,\n\nI tried that patch, but I still get 503 error when expecting a 100 Continue response.", "is_private": false}]