[{"count": 0, "tags": [], "text": "when I redirect part of the site using RewriteRule [P]\nquery strings get mangled. i.e.\nmod_proxy gets proxy:http://someotherhost/somepath/aaa.cgi?xxx=yyy\nbut really it connects to someotherhost and sends:\nGET http://someotherhost/somepath/aaa.cgi%3Fxxx=yyy?xxx=yyy", "attachment_id": null, "id": 24408, "creator": "eric@rbc.ru", "time": "2002-10-13T05:36:53Z", "bug_id": 13577, "creation_time": "2002-10-13T05:36:53Z", "is_private": false}, {"count": 1, "tags": [], "text": "Verified this for apache 2.0.40 on linux as well\n\nDetailed information about this bug here:\n\nhttp://groups.google.com/groups?hl=en&lr=&ie=UTF-8&th=6c79a3ed007af58b&rnum=1", "attachment_id": null, "id": 58211, "creator": "wic@xms.se", "time": "2004-05-27T15:11:28Z", "bug_id": 13577, "creation_time": "2004-05-27T15:11:28Z", "is_private": false}, {"count": 2, "tags": [], "creator": "wic@xms.se", "attachment_id": null, "text": "Steps to reproduce:\n\n1. Add RewriteRule ^dir/.*$ http://acme/dir2/?foo=bar [QSA,P]\n2. $ curl 'http://proxy/dir/?abcd=efgh'\n3. Check access_log on acme: \n      GET  /dir2/%3Ffoo=bar&abcd=efgh?foo=bar&abcd=efgh\n\nChanging to redirect [R] instead of [P] works just fine:\n\n$ curl -D - 'http://proxy/dir/?abcd=efgh'| grep Location:\nLocation: http://acme/dir2/?foo=bar&abcd=efgh\n\nWhich points to a bug in mod_proxy and not mod_rewrite.", "id": 58217, "time": "2004-05-27T15:33:54Z", "bug_id": 13577, "creation_time": "2004-05-27T15:33:54Z", "is_private": false}, {"count": 3, "tags": [], "text": "This may be fixed in HEAD by patch for bug 15207 (mod_proxy), but the\ninteraction with mod_rewrite is untested.  Please review.", "attachment_id": null, "id": 60038, "creator": "nick@webthing.com", "time": "2004-06-29T06:53:22Z", "bug_id": 13577, "creation_time": "2004-06-29T06:53:22Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 13577, "text": "Can someone who runs rewrite+proxy please test this against my June 29th\nmod_proxy updates (from CVS), which fixes similar-looking bugs in the absence of\nmod_rewrite?   If noone is taking an interest I'll assume it's fixed.", "id": 63413, "time": "2004-09-12T16:08:35Z", "creator": "nick@webthing.com", "creation_time": "2004-09-12T16:08:35Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "text": "(In reply to comment #4)\n> Can someone who runs rewrite+proxy please test this against my June 29th\n> mod_proxy updates (from CVS), which fixes similar-looking bugs in the absence of\n> mod_rewrite?   If noone is taking an interest I'll assume it's fixed.\n\nThis bug is still present in Apache/2.0.54 so I'm assuming it is not fixed.", "attachment_id": null, "id": 75142, "creator": "aditya@grot.org", "time": "2005-05-20T18:01:10Z", "bug_id": 13577, "creation_time": "2005-05-20T18:01:10Z", "is_private": false}, {"count": 6, "tags": [], "creator": "asmorgrav@yahoo.no", "attachment_id": null, "text": "(In reply to comment #4)\n> Can someone who runs rewrite+proxy please test this against my June 29th\n> mod_proxy updates (from CVS), which fixes similar-looking bugs in the absence of\n> mod_rewrite?   If noone is taking an interest I'll assume it's fixed.\n\nI made the following test on Apache 2.0.54:\n\n   RewriteMap encode int:escape\n   RewriteRule ^/folder/([^/]*)/([^/]*)\n/cgi-bin/printenv?vara=${encode:$1}&varb=$2 [PT,QSA]\n\n\"GET /folder/apples&oranges/more?varc=rock%26roll\" yields the following output:\n\nQUERY_STRING=\"vara=apples%26oranges&varb=more&varc=rock%26roll\"\nREQUEST_URI=\"/folder/apples&oranges/more?varc=rock%26roll\"\n\nI therefore believe the problem originally described no longer exists.", "id": 80893, "time": "2005-10-07T15:30:35Z", "bug_id": 13577, "creation_time": "2005-10-07T15:30:35Z", "is_private": false}, {"count": 7, "tags": [], "text": "Previous comment contained a cut&paste error in the config. Correct\nconfiguration was:\n\n   RewriteMap encode prg:/u01/apachetest/conf/encode.pl\n   RewriteRule ^/folder/([^/]*)/([^/]*) http://labelle16:8080/cgi-bin/printenv?v\nara=${encode:$1}&varb=$2 [P,QSA]", "attachment_id": null, "id": 80895, "creator": "asmorgrav@yahoo.no", "time": "2005-10-07T15:36:07Z", "bug_id": 13577, "creation_time": "2005-10-07T15:36:07Z", "is_private": false}]