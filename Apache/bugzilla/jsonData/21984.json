[{"count": 0, "tags": [], "text": "The problem occurs if Tomcat is connected through Apache Web server. My server \nenvironemnt is Apache 2.0.46, both mod_jk and mod_jk2, and Tomcat 4.1.24. Also \nfound error log in Apache error log, i.e. \"mod_jk: Error flushing\"\n\nHowever, using the same environment with Tomcat 4.0.6 does not found any \nproblem. Also no problem if 4.1.24 is used in Standalone mode.\n\nThe problem is critical if a web server forwards all requests to Tomcat to \nhandle. The ..%5c.. requests are generated by CodeRed or others to infect IIS. \nHowever, since tomcat cannot handle ..%5c.. requests properly, Tomcat will die \nafter many such requests are received.", "attachment_id": null, "bug_id": 21984, "id": 41746, "time": "2003-07-30T02:28:05Z", "creator": "kenneth.y.kwan@pccw.com", "creation_time": "2003-07-30T02:28:05Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 21984, "attachment_id": null, "id": 41750, "time": "2003-07-30T03:28:25Z", "creator": "william.barker@wilshire.com", "creation_time": "2003-07-30T03:28:25Z", "is_private": false, "text": "Fixed in the CVS, and will appear in 4.1.27.\n\nAs a work-around, you can configure in httpd.conf:\n  JkOptions ForwardURICompat\n\nThen Tomcat gets the un-escaped URI, which doesn't trigger the bug."}, {"attachment_id": null, "tags": [], "bug_id": 21984, "is_private": false, "count": 2, "id": 41921, "time": "2003-08-01T02:28:29Z", "creator": "kenneth.y.kwan@pccw.com", "creation_time": "2003-08-01T02:28:29Z", "text": "The work around does not work\n\nhere's the mod_jk.conf\n\nLoadModule jk_module modules/mod_jk.so\n\n# Declare the module for <IfModule directive>\n#AddModule mod_jk.c\n\n# Where to find workers.properties\nJkWorkersFile /usr/local/apache2/conf/jk_workers.properties\n\n# Where to put jk logs\nJkLogFile /usr/local/apache2/logs/mod_jk.log\n\n# Set the jk log level [debug/error/info]\nJkLogLevel info\n\n# Select the log format\nJkLogStampFormat \"[%a %b %d %H:%M:%S %Y] \"\n\n# JkOptions indicate to send SSL KEY SIZE,\nJkOptions +ForwardKeySize +ForwardURICompat -ForwardDirectories\n\n# JkRequestLogFormat set the request format\nJkRequestLogFormat \"%w %V %T\"\n\n# Send JSPs for context /examples to worker named worker1\nJkMount /examples/* worker1"}, {"count": 3, "tags": [], "text": "Changing to FIXED, since while the REOPEN is INVALID, the original bug has been \nfixed.\n\nThe ForwardURICompat doesn't take a '+' sign in front of it.  It is one of an \nenum of options.\n\nThe 4.1.27 release is scheduled to go out tomorrow, so your best bet is to \nsimply wait a few hours for it to appear.", "attachment_id": null, "bug_id": 21984, "id": 41923, "time": "2003-08-01T04:37:48Z", "creator": "william.barker@wilshire.com", "creation_time": "2003-08-01T04:37:48Z", "is_private": false}]