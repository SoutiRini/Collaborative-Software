[{"count": 0, "attachment_id": null, "bug_id": 40685, "is_private": false, "id": 94520, "time": "2006-10-05T06:53:39Z", "creator": "renaud.richardet@wyona.com", "creation_time": "2006-10-05T06:53:39Z", "tags": [], "text": "when creating a new resource (image) \nhttp://www.mylenyademo.com/default/authoring/index.html?doctype=resource&lenya.usecase=resource.create\nI get the following errors:\n\njava.lang.NoClassDefFoundError\n\tat\ncom.sun.imageio.plugins.gif.GIFImageReader.getImageTypes(GIFImageReader.java:240)\n\tat com.sun.imageio.plugins.gif.GIFImageReader.read(GIFImageReader.java:962)\n\tat javax.imageio.ImageIO.read(ImageIO.java:1384)\n\tat javax.imageio.ImageIO.read(ImageIO.java:1306)\n\tat\norg.apache.lenya.cms.publication.ResourceWrapper.addResourceMeta(ResourceWrapper.java:170)\n\tat org.apache.lenya.cms.publication.ResourceWrapper.write(ResourceWrapper.java:144)\n\tat org.apache.lenya.cms.publication.ResourceWrapper.write(ResourceWrapper.java:82)\n\tat\norg.apache.lenya.cms.site.usecases.CreateResource.addResource(CreateResource.java:112)\n\tat\norg.apache.lenya.cms.site.usecases.CreateResource.doExecute(CreateResource.java:92)\n\n\njava.lang.UnsatisfiedLinkError: /usr/lib/j2sdk1.4.2_10/jre/lib/i386/libawt.so:\nlibXp.so.6: cannot open shared object file: No such file or directory\n\tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\n\tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1586)\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1503)\n\tat java.lang.Runtime.loadLibrary0(Runtime.java:788)\n\tat java.lang.System.loadLibrary(System.java:834)\n\tat sun.security.action.LoadLibraryAction.run(LoadLibraryAction.java:50)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.awt.image.ColorModel.loadLibraries(ColorModel.java:188)\n\tat java.awt.image.ColorModel.<clinit>(ColorModel.java:196)\n\tat javax.imageio.ImageTypeSpecifier$Packed.<init>(ImageTypeSpecifier.java:275)\n\tat javax.imageio.ImageTypeSpecifier.createPacked(ImageTypeSpecifier.java:327)\n\tat javax.imageio.ImageTypeSpecifier.<clinit>(ImageTypeSpecifier.java:63)\n\tat\ncom.sun.imageio.plugins.gif.GIFImageReader.getImageTypes(GIFImageReader.java:240)\n\tat com.sun.imageio.plugins.gif.GIFImageReader.read(GIFImageReader.java:962)\n\tat javax.imageio.ImageIO.read(ImageIO.java:1384)\n\tat javax.imageio.ImageIO.read(ImageIO.java:1306)\n\tat\norg.apache.lenya.cms.publication.ResourceWrapper.addResourceMeta(ResourceWrapper.java:170)\n\tat org.apache.lenya.cms.publication.ResourceWrapper.write(ResourceWrapper.java:144)\n\tat org.apache.lenya.cms.publication.ResourceWrapper.write(ResourceWrapper.java:82)\n\tat\norg.apache.lenya.cms.site.usecases.CreateResource.addResource(CreateResource.java:112)\n\tat\norg.apache.lenya.cms.site.usecases.CreateResource.doExecute(CreateResource.java:92)\n\tat org.apache.lenya.cms.usecase.AbstractUsecase.execute(AbstractUsecase.java:260)\n\n\nIt seems that it works with Java 1.5, could that be the cause?? Can anybody\nreproduce? Uploading a word document works fine.\n\nThanks,\nRenaud"}, {"count": 1, "tags": [], "bug_id": 40685, "attachment_id": null, "is_private": false, "id": 94521, "time": "2006-10-05T07:04:44Z", "creator": "dhc4z@virginia.edu", "creation_time": "2006-10-05T07:04:44Z", "text": "This error:\njava.lang.UnsatisfiedLinkError: /usr/lib/j2sdk1.4.2_10/jre/lib/i386/libawt.so:\nlibXp.so.6: cannot open shared object file: No such file or directory\n\nLeads me to think that you might want to try:\n-Djava.awt.headless=true\n\nin your java options.\n\nI don't know why this would be required though"}, {"count": 2, "tags": [], "bug_id": 40685, "text": "for the record, uploading gifs works for me on linux (opensuse 10.1), java 1.5.\ni have no java 1.4 mach\u00edne around to test on atm", "id": 94525, "time": "2006-10-05T07:18:33Z", "creator": "nettings@apache.org", "creation_time": "2006-10-05T07:18:33Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 40685, "text": "Thanks guys for helping + testing.\n\n-Djava.awt.headless=true did not solve the issue, I will have to look further.", "id": 94527, "time": "2006-10-05T07:36:05Z", "creator": "renaud.richardet@wyona.com", "creation_time": "2006-10-05T07:36:05Z", "tags": [], "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 40685, "text": "this is how I got rid of the 2nd error:\njava.lang.UnsatisfiedLinkError: /usr/lib/j2sdk1.4.2_10/jre/lib/i386/libawt.so:\nlibXp.so.6: cannot open shared object file: No such file or directory\n\nldd $JAVA_HOME/jre/lib/i386/libawt.so\nto see which libs are missing, then I had to install the corresponding packages:\napt-get install libxp6 libxt6 libxtst6 libx11-6\nthank you Josias for the help!\n\nbtw, this error is a duplicate of bug 38479, sorry for that.\n\nnow, i am looking for a fix for the 1st error:\nava.lang.NoClassDefFoundError\n\tat\ncom.sun.imageio.plugins.gif.GIFImageReader.getImageTypes(GIFImageReader.java:240)\n\n\n", "id": 94529, "time": "2006-10-05T08:40:40Z", "creator": "renaud.richardet@wyona.com", "creation_time": "2006-10-05T08:40:40Z", "tags": [], "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 40685, "is_private": false, "id": 94534, "time": "2006-10-05T10:51:45Z", "creator": "renaud.richardet@wyona.com", "creation_time": "2006-10-05T10:51:45Z", "tags": [], "text": "the 1st error is solved by -Djava.awt.headless=true, which BTW seems to be\n\"automatically\" enabled in lenya.sh:\n\nif [ \"$JAVA_OPTIONS\" = \"\" ] ; then\n  JAVA_OPTIONS='-Xms32M -Xmx512M -Djava.awt.headless=true'\nfi\n\n*** This bug has been marked as a duplicate of 38479 ***"}, {"count": 6, "tags": [], "bug_id": 40685, "text": "Renaming Lenya 1.4 to 2.0", "id": 105457, "time": "2007-07-16T01:58:37Z", "creator": "thorsten@apache.org", "creation_time": "2007-07-16T01:58:37Z", "is_private": false, "attachment_id": null}]