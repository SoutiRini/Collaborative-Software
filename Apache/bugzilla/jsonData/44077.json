[{"count": 0, "tags": [], "creator": "ragaller@apache.org", "is_private": false, "text": "OSX 10.5.1, Java 1.5. The image was created using Photoshop's png export. \nBoth png8 and\npng24 result in the same message.\n\nThe following error is shown in the console:\n\njava.io.UTFDataFormatException:\nmalformed input around byte 2624\n        at java.io.DataInputStream.readUTF(DataInputStream.java:612)\n\n       at javax.imageio.stream.ImageInputStreamImpl.readUTF(ImageInputStreamImpl.java:309)\n\n       at com.sun.imageio.plugins.png.PNGImageReader.parse_iTXt_chunk(PNGImageReader.java:443)\n\n       at com.sun.imageio.plugins.png.PNGImageReader.readMetadata(PNGImageReader.java:647)\n\n       at com.sun.imageio.plugins.png.PNGImageReader.readImage(PNGImageReader.java:1309)\n\n       at com.sun.imageio.plugins.png.PNGImageReader.read(PNGImageReader.java:1579)\n \n      at javax.imageio.ImageIO.read(ImageIO.java:1400)\n        at javax.imageio.ImageIO.read(ImageIO.java:1322)\n\n       at org.apache.lenya.cms.publication.ResourceWrapper.addResourceMeta(ResourceWrapper.java:169)\n\n       at org.apache.lenya.cms.publication.ResourceWrapper.write(ResourceWrapper.java:145)\n\n       at org.apache.lenya.cms.publication.ResourceWrapper.write(ResourceWrapper.java:85)\n\n       at org.apache.lenya.cms.site.usecases.CreateResource.addResource(CreateResource.java:114)\n\n       at org.apache.lenya.cms.site.usecases.CreateResource.doExecute(CreateResource.java:94)\n\n       at org.apache.lenya.cms.usecase.AbstractUsecase.execute(AbstractUsecase.java:319)\n\n       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\n       at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.apache.avalon.excalibur.component.ComponentProxyGenerator$ComponentInvocationHandler.invoke(ComponentProxyGenerator.java:143)\n\n       at $Proxy52.execute(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\n       at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:145)\n\n       at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:204)\n   \n    at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:3085)\n      \n at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:2251)\n        at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:161)\n\n       at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:340)\n  \n     at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:2758)\n     \n  at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:159)\n  \n     at org.mozilla.javascript.Context.call(Context.java:489)\n        at org.mozilla.javascript.ScriptableObject.callMethod(ScriptableObject.java:1556)\n\n       at org.mozilla.javascript.ScriptableObject.callMethod(ScriptableObject.java:1526)\n\n       at org.apache.cocoon.components.flow.javascript.fom.FOM_JavaScriptInterpreter.handleContinuation(FOM_JavaScriptInterpreter.java:841)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.CallFunctionNode.invoke(CallFunctionNode.java:124)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n\n       at org.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n\n       at org.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:177)\n\n       at org.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:254)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:118)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n\n       at org.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n\n       at org.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:177)\n\n       at org.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:254)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:118)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n\n       at org.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n\n       at org.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:177)\n\n       at org.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:254)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:118)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.ActTypeNode.invoke(ActTypeNode.java:139)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n\n       at org.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n\n       at org.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n\n       at org.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n\n       at org.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:177)\n\n       at org.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:254)\n\n       at org.apache.cocoon.Cocoon.process(Cocoon.java:699)\n        at org.apache.cocoon.servlet.CocoonServlet.service(CocoonServlet.java:1154)\n\n       at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n        at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:427)\n\n       at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:475)\n\n       at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:567)\n  \n     at org.mortbay.http.HttpContext.handle(HttpContext.java:1565)\n        at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:635)\n\n       at org.mortbay.http.HttpContext.handle(HttpContext.java:1517)\n        at org.mortbay.jetty.plus.PlusWebAppContext.handle(PlusWebAppContext.java:158)\n\n       at org.mortbay.http.HttpServer.service(HttpServer.java:954)\n        at org.mortbay.http.HttpConnection.service(HttpConnection.java:814)\n\n       at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:981)\n       \nat org.mortbay.http.HttpConnection.handle(HttpConnection.java:831)\n        at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)\n\n       at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)\n        at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)", "id": 111792, "time": "2007-12-13T23:58:47Z", "bug_id": 44077, "creation_time": "2007-12-13T23:58:47Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "rfrovarp@apache.org", "attachment_id": null, "text": "Can you provide the image? What browser? In testing the svg bug I used mostly\nPNGs to begin with and didn't have an issue with Java 1.6 on Linux.", "id": 111805, "time": "2007-12-14T05:14:59Z", "bug_id": 44077, "creation_time": "2007-12-14T05:14:59Z", "is_private": false}, {"count": 2, "tags": [], "text": "I gave it a second try using the lenya-logo\nhttp://lenya.apache.org/images/apache-lenya-light.png\nuploading went fine with it. \n\nI'm currently at home and don't have the pngs that caused the error here - but will provide a sample next week. Might be an incompatibility with photoshop's png export.", "attachment_id": null, "id": 111819, "creator": "ragaller@apache.org", "time": "2007-12-15T05:43:44Z", "bug_id": 44077, "creation_time": "2007-12-15T05:43:44Z", "is_private": false}, {"count": 3, "tags": [], "creator": "rfrovarp@apache.org", "is_private": false, "text": "Closing as we weren't able to reproduce.", "id": 122444, "time": "2008-11-13T12:28:37Z", "bug_id": 44077, "creation_time": "2008-11-13T12:28:37Z", "attachment_id": null}]