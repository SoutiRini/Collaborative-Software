[{"count": 0, "tags": [], "bug_id": 43758, "is_private": false, "text": "Provided a JSPX with empty jsp:scriptlet element:\n\n<jsp:root xmlns:jsp=\"http://java.sun.com/JSP/Page\"\nxmlns=\"http://www.w3.org/1999/xhtml\" version=\"2.0\">\n<jsp:scriptlet></jsp:scriptlet>\n<html>\n<head><title>Simple jspx page</title></head>\n<body>Place content here</body>\n</html>\n</jsp:root>\n\nValidated this with Jasper using ant task, similar to one described in\nhttp://tomcat.apache.org/tomcat-4.1-doc/jasper-howto.html (adjusted to Tomcat 6,\nof course). Got the trace:\n\njava.lang.NullPointerException\n\tat org.apache.jasper.compiler.ServletWriter.printMultiLn(ServletWriter.java:169)\n\tat org.apache.jasper.compiler.Generator$GenerateVisitor.visit(Generator.java:883)\n\tat org.apache.jasper.compiler.Node$Scriptlet.accept(Node.java:915)\n\tat org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2336)\n\tat org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2386)\n\tat org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2397)\n\tat org.apache.jasper.compiler.Node$JspRoot.accept(Node.java:566)\n\tat org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2336)\n\tat org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2386)\n\tat org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2392)\n\tat org.apache.jasper.compiler.Node$Root.accept(Node.java:489)\n\tat org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2336)\n\tat org.apache.jasper.compiler.Generator.generate(Generator.java:3374)\n\tat org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:210)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:306)\n\tat org.apache.jasper.JspC.processFile(JspC.java:1007)\n\tat org.apache.jasper.JspC.execute(JspC.java:1156)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n\tat org.apache.tools.ant.TaskAdapter.execute(TaskAdapter.java:134)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n\tat org.apache.tools.ant.Task.perform(Task.java:348)\n\tat org.apache.tools.ant.Target.execute(Target.java:357)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:385)\n\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1298)\n\tat\norg.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1181)\n\tat org.apache.tools.ant.Main.runBuild(Main.java:698)\n\tat org.apache.tools.ant.Main.startAnt(Main.java:199)\n\tat org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\n\tat org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat com.intellij.rt.ant.execution.AntMain2.main(AntMain2.java:17)\n\nWithout <jsp:scriptlet></jsp:scriptlet> there is no problem.", "id": 110070, "time": "2007-10-31T11:58:06Z", "creator": "Alexander.Chernikov@jetbrains.com", "creation_time": "2007-10-31T11:58:06Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Thanks for the report and test case.\n\nThis has been fixed in svn and proposed for 6.0.x", "is_private": false, "id": 112374, "creator": "markt@apache.org", "time": "2008-01-01T12:06:51Z", "bug_id": 43758, "creation_time": "2008-01-01T12:06:51Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 43758, "is_private": false, "text": "Thsi has been fixed in svn and will be included in 6.0.16 onwards.", "id": 112748, "time": "2008-01-10T13:36:29Z", "creator": "markt@apache.org", "creation_time": "2008-01-10T13:36:29Z", "attachment_id": null}]