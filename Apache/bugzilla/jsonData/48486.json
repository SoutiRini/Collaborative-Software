[{"count": 0, "tags": [], "text": "I have installed openldap-2.4.19 and am trying to install httpd-2.2.14 with the modules enable-authnz_ldap and enable-ssl.\n\nruning ./config.nice\n\"./configure\" \\\n\"--prefix=/usr/local/apache2\" \\\n\"--with-included-apr\" \\\n\"--enable-so\" \\\n\"--enable-ssl\" \\\n\"--enable-mods-shared=all\" \\\n\"--with-ssl=/usr/local/openssl\" \\\n\"--with-ldap\" \\\n\"--enable-ldap\" \\\n\"--enable-authnz_ldap\" \\\n\"--with-ldap-lib=/usr/local/lib\" \\\n\"--with-ldap-include=/usr/local/include\" \\\n\nget the following error\nchecking for ldap support...\n  setting APRUTIL_INCLUDES to \"-I/usr/local/include\"\n  setting APRUTIL_LDFLAGS to \"-L/usr/local/lib\"\nchecking for ldap_init in -lldap50... no\nchecking for ldap_init in -lldapssl41... no\nchecking for ldap_init in -lldapssl40... no\nchecking for ldap_init in -lldapssl30... no\nchecking for ldap_init in -lldapssl20... no\nchecking for ldap_init in -lldapsdk... no\nchecking for ldap_init in -lldapsdk... no\nchecking for ldap_init in -lldap... no\nchecking for ldap_init in -lldap... no\nchecking for ldap_init in -lldap... no\nchecking for ldap_init in -lldap... no\nconfigure: error: could not find an LDAP library\nconfigure failed for srclib/apr-util\n\n\nI have entered this as a bug in desperation. I have googled this problem but found no resolution. I have also entered this in apache forums but have had no response. I am hoping that the apache developers can provide some help.", "attachment_id": null, "id": 133330, "creator": "csimms@smart421.com", "time": "2010-01-05T01:41:29Z", "bug_id": 48486, "creation_time": "2010-01-05T01:41:29Z", "is_private": false}, {"count": 1, "tags": [], "creator": "nick@webthing.com", "attachment_id": null, "text": "First, this is a build problem.\n\nSecond, you just say you've installed openldap, but you have a problem telling apache where to find it.  We don't even know if you have a working ldap installation (and since you're on Linux, you could try a packaged ldap).\n\nWhat happened when you asked in a user support forum, such as the users list?", "id": 133334, "time": "2010-01-05T04:32:19Z", "bug_id": 48486, "creation_time": "2010-01-05T04:32:19Z", "is_private": false}, {"count": 2, "tags": [], "creator": "csimms@smart421.com", "attachment_id": null, "id": 133347, "time": "2010-01-05T11:15:19Z", "bug_id": 48486, "creation_time": "2010-01-05T11:15:19Z", "is_private": false, "text": "Thanks for replying.\n\nI installed openldap openldap-2.4.19 as follows:\n\nInstall OpenLDAP \ntar xvzf openldap-stable-20091028.tgz \ncd openldap-2.4.19 \nexport CPPFLAGS=\"-I/usr/local/BerkeleyDB.4.7/include -I/usr/local/openssl/include\" LDFLAGS=\"-L/usr/local/BerkeleyDB.4.7/lib -L/usr/local/openssl/lib\" \nexport LD_LIBRARY_PATH=/usr/software/apache2/db-4.7.25/build_unix/.libs \n./configure --prefix=/usr/local --sysconfdir=/etc/openldap --enable-ipv6 --with-tls --disable-slurpd --with-openssl=/usr/local/openssl \nmake depend \nmake \nmake install \nAll built and installed successfully and the ldap libraries were installed:\n\n[root@smrtvsvn02 apache2]# cd /usr/local/lib\n[root@smrtvsvn02 lib]# ls\nliblber-2.4.so.2      liblber.a   liblber.so        libldap-2.4.so.2.5.2  libldap.la          libldap_r-2.4.so.2.5.2  libldap_r.la  libldap.so\nliblber-2.4.so.2.5.2  liblber.la  libldap-2.4.so.2  libldap.a             libldap_r-2.4.so.2  libldap_r.a libldap_r.so\n\nThis is the directory I am using to support the ldap module and apache build using the following to configure:\n\"./configure\" \\\n\"--prefix=/usr/local/apache2\" \\\n\"--with-included-apr\" \\\n\"--enable-module=shared\" \\\n\"--enable-so\" \\\n\"--enable-authnz_ldap\" \\\n\"--enable-ssl\" \\\n\"--enable-ldap\" \\\n\"--with-ssl=/usr/local/openssl\" \\\n\"--with-ldap\" \\\n\"--with-ldap-lib=/usr/local/lib\" \\\n\nThe error I am getting is that the ldap library created in /usr/local/lib are not recognised as ldap libraries by apache configure.\n\nIf there is an easier way to install these libraries ie by packages I have not been able to find how to do this. I installed openssl openssl-0.9.8l successfully and apache had no problem with this installation.\n\nThe only example I found to help install ldap modules was http://blog.case.edu/gps10/2005/02/23/apache2_ssl_ldap_authentication_howto\nwhich I followed.\n\nI have tried to ask for help and have placed a couple of questions on http://www.apache.com/forums/modules/installing-enable-authnz_ldap-module/\nand got no response. If there are better forums please could you let me know where these are?\n\nThe document to install apache2.2 and the default modules is useful. I found no documents to detail how to build and install ldap and ssl modules which I believed came with apache2.2.\n\nI would be very grateful if you could give me some pointers or suggest where I could get the relevant information."}, {"count": 3, "tags": [], "creator": "nick@webthing.com", "attachment_id": null, "text": "You raise an interesting point, which I just described as a \"bombshell\" in a blog entry at http://bahumbug.wordpress.com/2010/01/07/bugs-support-and-confusion/\nThe blog entry also links to recommended support fora you should use.", "id": 133417, "time": "2010-01-07T03:50:19Z", "bug_id": 48486, "creation_time": "2010-01-07T03:50:19Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 48486, "attachment_id": null, "id": 149419, "time": "2011-09-17T19:41:43Z", "creator": "covener@gmail.com", "creation_time": "2011-09-17T19:41:43Z", "is_private": false, "text": "Try a user support forum for help building Apache: http://httpd.apache.org/userslist.html"}, {"count": 5, "tags": [], "bug_id": 48486, "attachment_id": null, "id": 153808, "time": "2012-02-15T13:01:17Z", "creator": "rclerkin@gmail.com", "creation_time": "2012-02-15T13:01:17Z", "is_private": false, "text": "After finding this bug(?) when trying to troubleshoot the same issue I thought it would be useful to put the solution of the original issue here as it stands to reason others will end up here when troubleshooting.\n\nThe ldap build is looking for the openldap library files. These are provided by openldap's devel package.\n\nIf, like me, you have installed openldap using a package manager such as yum you can do the following.\n\nEnsure you're openldap is up to date.\n\n$> yum update openldap\n\nLook for the devel package\n\n$> yum list openldap*devel*\n\nInstall the devel package listed by your package manager\n\n$> yum install openldap-devel\n\nOnce you have the openldap-devel package installed do the do a 'make clean' and re-run you configure. Your httpd package should now build without the ldap error."}]