[{"count": 0, "attachment_id": null, "creator": "etoelz@yahoo.com", "is_private": false, "id": 19340, "time": "2002-07-11T17:51:14Z", "bug_id": 10706, "creation_time": "2002-07-11T17:51:14Z", "tags": [], "text": "Currently when you specify the PatternLayout for MDC, you must specify the\nclientNumber, in the following format %X{clientNumber}. This works great when\nyou have the code or documentation in front of you, so you know what the\npossible clientNumbers in the MDC Hashtable. If you are trying to quickly find a\nproblem in production, you don't have the code or documentation with the\npossible MDC clientNumber. It would be nice if you could print the entire MDC\nHashtable. So a pattern of %X or %X{} or %X{*} would print the entire Hashtable.\nYou could then refine your MDC pattern or layout, if you so desired."}, {"count": 1, "tags": [], "bug_id": 10706, "text": "I just ran into this as well. What has not been reported is that a\nNullPointerException is thrown when you put %X in the pattern:\n\nException in thread \"main\" java.lang.NullPointerException\n        at java.util.Hashtable.get(Hashtable.java:329)\n        at org.apache.log4j.MDC.get0(MDC.java:121)\n        at org.apache.log4j.MDC.get(MDC.java:75)\n        at org.apache.log4j.spi.LoggingEvent.getMDC(LoggingEvent.java:221)\n        at\norg.apache.log4j.helpers.PatternParser$MDCPatternConverter.convert(PatternParser.java:455)\n        at\norg.apache.log4j.helpers.PatternConverter.format(PatternConverter.java:56)\n        at org.apache.log4j.PatternLayout.format(PatternLayout.java:495)\n        at org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:297)\n        at org.apache.log4j.WriterAppender.append(WriterAppender.java:150)\n        at org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:222)\n        at\norg.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:57)\n        at org.apache.log4j.Category.callAppenders(Category.java:190)\n        at org.apache.log4j.Category.forcedLog(Category.java:375)\n        at org.apache.log4j.Category.info(Category.java:678)\n        at com.kiala.common.Test.main(Test.java:32)\n", "id": 44337, "time": "2003-09-19T12:16:06Z", "creator": "ssegers@kiala.com", "creation_time": "2003-09-19T12:16:06Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "\nThis is already corrected in the latest code in our CVS rep.", "is_private": false, "bug_id": 10706, "id": 44338, "time": "2003-09-19T12:23:56Z", "creator": "ceki@apache.org", "creation_time": "2003-09-19T12:23:56Z", "attachment_id": null}]