[{"count": 0, "tags": [], "text": "If I create a <parallel> block with 10 tasks and a threadsPerProcessor value set\nto 2 on a machine with 2 processors only 4 tasks are completed and the rest\nignored. This is not the point of the parallel task, the threadsPerProcessor is\nthe throttle control. Here is an example target that shows the failure:\n\n<target name=\"test\">\n        <parallel threadsPerProcessor=\"2\" failonany=\"true\">\n            <echo message=\"01\"/>\n            <echo message=\"02\"/>\n            <echo message=\"03\"/>\n            <echo message=\"04\"/>\n            <echo message=\"05\"/>\n            <echo message=\"06\"/>\n            <echo message=\"07\"/>\n            <echo message=\"08\"/>\n            <echo message=\"09\"/>\n            <echo message=\"10\"/>\n        </parallel>\n    </target>\n\nMy output:\n\nD:\\ccViews\\ODungey_48\\Build\\Build>ant test\nBuildfile: build.xml\n\ntest:\n     [echo] 01\n     [echo] 04\n     [echo] 02\n     [echo] 03", "is_private": false, "id": 55032, "creator": "odungey@csc.com", "time": "2004-04-01T11:20:46Z", "bug_id": 28122, "creation_time": "2004-04-01T11:20:46Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 28122, "attachment_id": null, "text": "I have put in a dependency on bug 16906 as it looks like it might be relevant.", "id": 55033, "time": "2004-04-01T11:26:21Z", "creator": "odungey@csc.com", "creation_time": "2004-04-01T11:26:21Z", "is_private": false}, {"count": 2, "tags": [], "text": "The problem is that that the failonany code is incorrect, so\nI am changing the title.", "is_private": false, "id": 55037, "creator": "peter.reilly@corvil.com", "time": "2004-04-01T11:37:16Z", "bug_id": 28122, "creation_time": "2004-04-01T11:37:16Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "I have just tested this again using threadCount instead of threadsPerProcessor\nand the same effect can be observed.", "attachment_id": null, "bug_id": 28122, "id": 55038, "time": "2004-04-01T11:40:13Z", "creator": "odungey@csc.com", "creation_time": "2004-04-01T11:40:13Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 28122, "attachment_id": null, "id": 55049, "time": "2004-04-01T13:09:09Z", "creator": "peter.reilly@corvil.com", "creation_time": "2004-04-01T13:09:09Z", "is_private": false, "text": "I do not argree with the dependencies, they are different\nconcerns with the <parallel> task.\n\nThe failonany problem should not be fixed in cvs head and\nthe 1.6 branch."}]