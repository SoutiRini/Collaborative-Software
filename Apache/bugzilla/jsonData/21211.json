[{"count": 0, "tags": [], "bug_id": 21211, "is_private": false, "text": "I have a delete task with an included fileset which selects some directories.\nThe files of the direcories are deleted, but not the directories by itself even \nwhen includeEmptyDirs is set.\n\nIn the following a part of the buzildfile is given\n\n\t<target name=\"init\">\n\t\t<tstamp>\n\t\t<format property=\"log.dirtoday\" pattern=\"yyyy.MM.dd\"/>\n\t\t<format property=\"month\" pattern=\"yyyyMM\"/>\n\t\t</tstamp>\n\t\t<property name=\"archiv.name\" value=\"log${month}.zip\"/>\n\t\t<patternset id=\"log.filestoarchiv\" includes = \"log*\\**\\*\" \nexcludes=\"log${log.dirtoday}*\\**\\*\"/>\t\t\n\t\t<mkdir dir=\"${archiv.dir}\"/>\n\t</target>\n\n<target name=\"delete\" depends=\"init\">\n\t<delete includeEmptyDirs=\"true\">\n\t\t<fileset dir=\"${log.maindir}\">\n\t\t<patternset refid=\"log.filestoarchiv\"/>\n\t\t</fileset>\n\t</delete>\n\t</target>", "id": 39727, "time": "2003-07-01T08:10:37Z", "creator": "michael.ebinger@gmx.de", "creation_time": "2003-07-01T08:10:37Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "On Linux I tried to reproduce this bug with ant 1.5.1 and 1.6 alpha, but I did\nnot succeed.\n\nwith log*\\**\\* all files and directories under log* are removed, not including\nlog*. \n\nMaybe what you meant is \npatternset id=\"log.filestoarchiv\" includes =\"log*\\**\"\nexcludes=\"log${log.dirtoday}*\\**\"/>\nthen the log* directory is removed as well.", "attachment_id": null, "id": 42816, "creator": "jkf@apache.org", "time": "2003-08-15T17:06:28Z", "bug_id": 21211, "creation_time": "2003-08-15T17:06:28Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 21211, "attachment_id": null, "is_private": false, "id": 47711, "time": "2003-11-20T16:01:33Z", "creator": "peter.reilly@corvil.com", "creation_time": "2003-11-20T16:01:33Z", "text": "As per Martijn's comments, I am\nclosing this."}]