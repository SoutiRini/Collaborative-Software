[{"count": 0, "attachment_id": null, "creator": "nascif@acm.org", "is_private": false, "id": 10773, "time": "2002-02-15T21:44:35Z", "bug_id": 6495, "creation_time": "2002-02-15T21:44:35Z", "tags": [], "text": "It is a common practice to use external XML entities to support re-use\namong similar buildfiles.  \nOne of biggest problems with that practice\nis that currently there is no way to specify the \nexternal entity\nlocation other than using relative paths in the entity URI (for\nentities \nresiding in the local system).\n\nThis restriction could be removed if Ant exposed the Crimsom \nAPI that\nsupports the registration of catalogs. This little extension would\neliminate the \nissue of hardcoded relative paths. For example, instead\nof:\n\n <!DOCTYPE project [\n     \n<!ENTITY common  SYSTEM \"file:./../../../../common.xml\"\n ]\n\n We would be able to use:\n\n \n<!ENTITY common\n          PUBLIC \"-//mycompany//loadbuild-common-code//EN\"\n          \"common.xml\"\n\n The \nPUBLIC name could be used to obtain the URI from a catalog\nprovided to Ant at launch time. Ant \nwould just have to allow the user\nto register mappings for public names (i.e. the XML catalog); \nfor\nexample, passing a file in the command line or specifying it in an\nenvironment variable \n(ANT_CATALOG?).\n\n This is the method I'm talking about, from class\n \norg.apache.crimson.parser.Resolver:\n\n     /**\n      * Registers the given public ID as \ncorresponding to a particular\n      * URI, typically a local copy.  This URI will be used in \npreference\n      * to ones provided as system IDs in XML entity declarations.  This\n      * mechanism \nwould most typically be used for Document Type Definitions\n      * (DTDs), where the public IDs are \nformally managed and versioned.\n      *\n      * @param publicId The managed public ID being mapped\n      * \n@param uri The URI of the preferred copy of that entity\n      */\n     public void registerCatalogEntry \n("}, {"count": 1, "tags": [], "bug_id": 6495, "text": "Please note that Ant ships with Xerces, so relying on an internal Crimson API\nmay be a bad idea.\n\nAnt already supports catalogs to be used within <style> or <xmlvalidate>, using\nthem even before Ant's build file gets parsed seems a bit tricky.\n\nYou could write your own ProjectHelper implementation and solve it there, I guess.", "id": 34255, "time": "2003-04-01T15:47:54Z", "creator": "bodewig@apache.org", "creation_time": "2003-04-01T15:47:54Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 6495, "text": "you should be using <import> by now, catalogs can and should be supported by tasks,\nbut I don't think we'll do so for the Ant build file itself.", "id": 72586, "time": "2005-03-17T14:56:31Z", "creator": "bodewig@apache.org", "creation_time": "2005-03-17T14:56:31Z", "is_private": false, "attachment_id": null}]