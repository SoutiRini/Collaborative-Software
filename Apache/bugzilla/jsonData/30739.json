[{"count": 0, "attachment_id": null, "bug_id": 30739, "is_private": false, "id": 62149, "time": "2004-08-18T22:28:20Z", "creator": "archie@dellroad.org", "creation_time": "2004-08-18T22:28:20Z", "tags": [], "text": "According to:\n\nhttp://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#wait(long)\n\nspurious wakups from Object.wait() are possible, and therefore\nall invocations of Object.wait() must be in a loop that tests\nwhatever predicate if they want to avoid race conditions.\n\nThis is not the case at the end of\norg/apache/batik/util/RunnableQueue.suspendExecution():\n\n            if (waitTillSuspended)\n                try {\n                    stateLock.wait();\n                } catch(InterruptedException ie) { }\n\nTherefore, this code is buggy (at least according to the new\nJava memory model).\n\nThere may be other instances like this in the Batik code, I haven't\ntried to find all of them. I just happened to see this one."}, {"count": 1, "tags": [], "text": "There were only a few places and they have now been fixed.\nExpect the update sometime soon.", "attachment_id": null, "id": 62771, "creator": "deweese@apache.org", "time": "2004-08-30T11:44:35Z", "bug_id": 30739, "creation_time": "2004-08-30T11:44:35Z", "is_private": false}]