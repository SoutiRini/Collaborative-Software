[{"attachment_id": null, "tags": [], "creator": "yanan@joit.com", "is_private": false, "count": 0, "id": 121978, "time": "2008-10-28T20:46:10Z", "bug_id": 46113, "creation_time": "2008-10-28T20:46:10Z", "text": "I compiled apache 2.2.10 under Ubuntu Server 8.04.1 with parameter --with-mpm=worker, and added following configs in httpd.conf:\n<IfModule workder.c>\n  StartServers 3\n  ServerLimit 25\n  MaxClients 2000\n  MinSpareThreads 50\n  MaxSpareThreads 200\n  ThreadLimit 200\n  ThreadsPerChild 100\n  MaxRequestsPerChild 0\n</IfModule>\n\nBut when i started apache, it printed some warnings:\nWARNING: ThreadsPerChild of 100 exceeds ThreadLimit value of 64 threads, lowering ThreadPerChild to 64. To increase, please see the ThreadLimit directive.\nWARNING: MaxClients(2000) is not an integer multiple of ThreadsPerChild(64), lowering MaxClients to 1984 for a maximum of 31 child processes,\nWARNING: MaxClients of 1984 would require 31 servers, and would exceed the ServerLimit value of 25.\nAutomatically lowering MaxClients to 1600. To increase, please see the ServerLimit directve.\n\nIt seems that ThreadLimit is ignored by apache.\nCan anyone help me, please?"}, {"count": 1, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "text": "you have to maintain the relative order you see in the default config, i.e. ThreadLimit before ThreadsPerChild.\n\n(changing component to doc)", "id": 121988, "time": "2008-10-29T04:17:08Z", "bug_id": 46113, "creation_time": "2008-10-29T04:17:08Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 46113, "attachment_id": null, "id": 122010, "time": "2008-10-29T17:39:50Z", "creator": "yanan@joit.com", "creation_time": "2008-10-29T17:39:50Z", "is_private": false, "text": "I did not see the default config, because i did not know about 'worker' on my first compiling. u means my config should like this:\n\nThreadLimit 200\n<IfModule workder.c>\n  StartServers 3\n  ServerLimit 25\n  MaxClients 2000\n  MinSpareThreads 50\n  MaxSpareThreads 200\n  ThreadsPerChild 100\n  MaxRequestsPerChild 0\n</IfModule>\n\nor this:\n\n<IfModule workder.c>\n  ThreadLimit 200\n  StartServers 3\n  ServerLimit 25\n  MaxClients 2000\n  MinSpareThreads 50\n  MaxSpareThreads 200\n  ThreadsPerChild 100\n  MaxRequestsPerChild 0\n</IfModule>\n\nThank u for ur help~\n\n"}, {"count": 3, "tags": [], "bug_id": 46113, "text": "Moving docs bugs to docs@httpd.a.o ownership.", "id": 141182, "time": "2010-10-29T11:05:24Z", "creator": "rbowen@apache.org", "creation_time": "2010-10-29T11:05:24Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "poirier@pobox.com", "is_private": false, "count": 4, "id": 141263, "time": "2010-10-30T15:04:28Z", "bug_id": 46113, "creation_time": "2010-10-30T15:04:28Z", "text": "In trunk this checking all occurs after reading the entire configuration, so these problems with directive ordering shouldn't happen anymore."}]