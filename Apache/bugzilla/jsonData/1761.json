[{"count": 0, "tags": [], "bug_id": 1761, "attachment_id": null, "text": "We have a line in a JSp document as follows:\n<jsp:forward page=\"%=requset.getParameter(\"fileName\")%\" />\n\nhere fileName is the name of the  parameter passed in the request.\nThis gives an exception saying that :\n\n\nA Servlet Exception Has Occurred\n\norg.apache.jasper.compiler.ParseException:\n/home/ps125818/locus/tomcat4.0/bin/./../webapps/tcatjsp-tests/jsp/actpos/test32XML.jsp(35,-1)\nWhitespace required before attributes.\n        at\norg.apache.jasper.compiler.ParserXJspSax.parse(ParserXJspSax.java:195)\n        at\norg.apache.jasper.compiler.ParserController.parse(ParserController.java:218)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:207)\n        at org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:523)\n        at\norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary(JspServlet.java:175)\n        at\norg.apache.jasper.servlet.JspServlet$JspServletWrapper.service(JspServlet.java:187)\n        at\norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:453)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:192)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:255)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:882)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:225)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n        at\norg.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:882)\n        at\norg.apache.catalina.core.StandardContext.invoke(StandardContext.java:2227)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n        at\norg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:446)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:882)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:162)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:882)\n        at\norg.apache.catalina.connector.http.HttpProcessor.process(HttpProcessor.java:875)\n        at\norg.apache.catalina.connector.http.HttpProcessor.run(HttpProcessor.java:952)\n        at java.lang.Thread.run(Thread.java:579)", "id": 2454, "time": "2001-05-15T18:07:11Z", "creator": "prasad.subramanian@sun.com", "creation_time": "2001-05-15T18:07:11Z", "is_private": false}, {"count": 1, "tags": [], "creator": "justyna.horwat@sun.com", "attachment_id": null, "id": 2548, "time": "2001-05-18T18:02:23Z", "bug_id": 1761, "creation_time": "2001-05-18T18:02:23Z", "is_private": false, "text": "The jsp document is not in valid xml syntax. If you look at the xml syntax doc \nhttp://www.w3.org/TR/REC-xml you will find that xml attribute values are \ndelimited with \" or ' and cannot contain <, &, or the *same* type of quotes.\n\nSo, in your example:\n\n<jsp:forward page=\"%= request.getParameter(\"fileName\") %\" />\n\nThe nested quotes resulted in the parsing error. You would need to do the \nfollowing in order for this to be valid xml:\n\n<jsp:forward page='%= request.getParameter(\"fileName\") %' />\n\nSince you can nest one type of quote in another. Or you could escape out the \ndouble quotes like the following:\n\n<jsp:forward page=\"%= request.getParameter(&quot;fileName&quot;) %\" />\n"}]