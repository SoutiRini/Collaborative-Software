[{"count": 0, "tags": [], "creator": "tjerk.meesters@gmail.com", "text": "Observe the following directory structure:\n\n index.html\n test/\n   bla.txt\n\nAnd the following configuration:\n\n DirectoryIndex disabled\n DirectorySlash Off\n FallbackResource /index.html\n\nThis all works fine (index.html is shown) if the document can't be mapped to the file system; however, when `/test/` is requested, it will show a 404 page.\n\nThis is also disussed in the following question: http://serverfault.com/questions/568952/use-fallbackresource-even-if-directory-exists\n\nI've written a patch for this:\n\n static int dir_fixups(request_rec *r)\n {\n     if (r->finfo.filetype == APR_DIR) {\n         /* serve up a directory */\n -        return fixup_dir(r);\n +        if (fixup_dir(r) == DECLINED) {\n +            return fixup_dflt(r);\n +        }\n     }\n     else if ((r->finfo.filetype == APR_NOFILE) && (r->handler == NULL)) {\n         /* No handler and nothing in the filesystem - use fallback */\n         return fixup_dflt(r);\n     }\n     return DECLINED;\n }", "id": 172705, "time": "2014-01-27T06:45:03Z", "bug_id": 56067, "creation_time": "2014-01-27T06:45:03Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "tjerk.meesters@gmail.com", "text": "I've added a PR for this: https://github.com/apache/httpd/pull/5", "id": 172706, "time": "2014-01-27T07:06:48Z", "bug_id": 56067, "creation_time": "2014-01-27T07:06:48Z", "is_private": false, "attachment_id": null}, {"attachment_id": 32669, "tags": [], "bug_id": 56067, "text": "Created attachment 32669\nIf a directory exists but no indexes can be resolved, the fallback resource should be attempted first before giving up.", "count": 2, "id": 182517, "time": "2015-04-21T05:47:45Z", "creator": "tjerk.meesters@gmail.com", "creation_time": "2015-04-21T05:47:45Z", "is_private": false}, {"count": 3, "tags": [], "creator": "covener@gmail.com", "is_private": false, "text": "(In reply to Jack from comment #2)\n> Created attachment 32669 [details]\n> If a directory exists but no indexes can be resolved, the fallback resource\n> should be attempted first before giving up.\n\ncommitted with tweaks and a small paranoia addition in http://svn.apache.org/viewvc?view=revision&revision=1675103.  Proposed for backport.", "id": 182529, "time": "2015-04-21T12:25:35Z", "bug_id": 56067, "creation_time": "2015-04-21T12:25:35Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 56067, "attachment_id": null, "text": "This had to be reverted because it broke mod_autoindex and potentially something more complicated", "id": 183011, "time": "2015-05-18T16:30:24Z", "creator": "covener@gmail.com", "creation_time": "2015-05-18T16:30:24Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 56067, "text": "(In reply to Eric Covener from comment #4)\n> This had to be reverted because it broke mod_autoindex and potentially\n> something more complicated\n\nIs there a different direction we can take with this issue?", "count": 5, "id": 183050, "time": "2015-05-19T21:15:24Z", "creator": "tjerk.meesters@gmail.com", "creation_time": "2015-05-19T21:15:24Z", "is_private": false}]