[{"count": 0, "tags": [], "bug_id": 32480, "text": "If I have a taglib that defines a tag <foo:bar>, the following compiles fine:\n\n<foo:bar>\n</foo:bar>\n\nBut the following doesn't, where opentag.jspf contains the <foo:bar> tag:\n\n<%@ include file=\"opentag.jspf\" %>\n</foo:bar>\n\nI get the following exception:\n\norg.apache.jasper.JasperException: /jsp/test/both.jsp(2,0)\n/jsp/test/1.jspf(1,18) Unterminated &amp;lt;foo:bar tag\n       \norg.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:39)\n       \norg.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:409)\n        org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:90)\n        org.apache.jasper.compiler.Parser.processIncludeDirective(Parser.java:339)\n        org.apache.jasper.compiler.Parser.parseIncludeDirective(Parser.java:372)\n        org.apache.jasper.compiler.Parser.parseDirective(Parser.java:475)\n        org.apache.jasper.compiler.Parser.parseElements(Parser.java:1539)\n        org.apache.jasper.compiler.Parser.parse(Parser.java:126)\n       \norg.apache.jasper.compiler.ParserController.doParse(ParserController.java:220)\n        org.apache.jasper.compiler.ParserController.parse(ParserController.java:101)\n        org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:203)\n        org.apache.jasper.compiler.Compiler.compile(Compiler.java:470)\n        org.apache.jasper.compiler.Compiler.compile(Compiler.java:451)\n        org.apache.jasper.compiler.Compiler.compile(Compiler.java:439)\n       \norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:511)\n       \norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:295)\n        org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)\n        org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)\n        javax.servlet.http.HttpServlet.service(HttpServlet.java:810)\n        org.jboss.web.tomcat.tc5.JvmRouteFilter.doFilter(JvmRouteFilter.java:112)\n       \norg.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:75)\n\nThis works fine in other servlet containers (e.g. WebLogic 8.1) and is used\nextensively by a caching framework on my site.", "id": 67742, "time": "2004-12-01T23:38:34Z", "creator": "koreth-apache@midwinter.com", "creation_time": "2004-12-01T23:38:34Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 32480, "text": "Section 1.3.3 of the JSP spec specifically forbids what you are trying to do:\n<spec-quote>\nElements that have distinct start and end tags (with enclosed body) must start\nand end in the same file. The start tag cannot be on one file while the end \ntag is in another.\n</spec-quote>", "id": 67745, "time": "2004-12-02T00:15:21Z", "creator": "william.barker@wilshire.com", "creation_time": "2004-12-02T00:15:21Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "allistair.crossley@qas.com", "text": "you would need to do something like this\n\n<%@ include file=\"opentag.jspf\" %>\n<%@ include file=\"closetag.jspf\" %>\n\ni.e BOTH open and close of the foo tag were statically included into the \ncurrent JSP.\n\nbut the reason what you are doing does not work is due to what william \nmentions.\n\n", "id": 67747, "attachment_id": null, "bug_id": 32480, "creation_time": "2004-12-02T00:41:39Z", "time": "2004-12-02T00:41:39Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 32480, "is_private": false, "text": "Actually, in my real-world case I am using two include files. (There is a header\ninclude and a footer include, and those contain the tags in question along with\nsome other application-specific init/cleanup stuff.) I simplified it for the bug\nreport to make the test case less complex. But the spec as quoted is pretty\nunambiguous -- even though what we're doing is working perfectly well in our\nother containers, we want our JSPs to be portable, so I'll think of some way to\nrestructure our code to get the tags out of the include files.\n\nThanks for the quick followup on this.", "id": 67749, "time": "2004-12-02T00:52:31Z", "creator": "koreth-apache@midwinter.com", "creation_time": "2004-12-02T00:52:31Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 32480, "text": "ok, scrub my suggestion. i've just tried it and it failed. i thought you could \nget around it this way but evidently not! ;)", "id": 67751, "time": "2004-12-02T01:05:17Z", "creator": "allistair.crossley@qas.com", "creation_time": "2004-12-02T01:05:17Z", "is_private": false, "attachment_id": null}]