[{"count": 0, "tags": [], "creator": "frank.migge@oracle.com", "attachment_id": null, "text": "Symptom: Fatal compilation error\n--------------------------------\n\n[inet-hq01:/tmp/apache_1.3.27/src/modules/standard]>make\ngcc -c -I../../../../mm-1.3.0 -I../../os/unix -I../../include -\nI/usr/local/ssl/include  -DSOLARIS2=280 -DMOD_SSL=208114 -DEAPI -DEAPI_MM -\nDUSE_EXPAT -I../../lib/expat-lite `../../apaci` mod_auth_db.c\nmod_auth_db.c: In function `get_db_pw':\nmod_auth_db.c:176: warning: passing arg 2 of pointer to function from \nincompatible pointer type\nmod_auth_db.c:176: warning: passing arg 4 of pointer to function makes pointer \nfrom integer without a cast\nmod_auth_db.c:176: too few arguments to function\n*** Error code 1\nmake: Fatal error: Command failed for target `mod_auth_db.o'\n\nCause: The following code in mod_auth_db.c (starting line 173):\n---------------------------------------------------------------\n\n#if defined(DB3) || defined(DB4)\n    if (   db_create(&f, NULL, 0) != 0\n        || f->open(f, auth_dbpwfile, NULL, DB_HASH, DB_RDONLY, 0664) != 0) {\n\n\nReason: missing second argument on the DB open() call as defined in the\n-----------------------------------------------------------------------\nv. 4 docu: (see http://www.sleepycat.com/docs/ref/simple_tut/open.html)\n-----------------------------------------------------------------------\n\n        if ((ret = dbp->open(dbp,\n            NULL, DATABASE, NULL, DB_BTREE, DB_CREATE, 0664)) != 0) {\n\n\nSolution: Replace lines 173-175 with the code below:\n----------------------------------------------------\n\n#if defined(DB4)\n    if (   db_create(&f, NULL, 0) != 0\n        || f->open(f, NULL, auth_dbpwfile, NULL, DB_HASH, DB_RDONLY, 0664) != 0)\n {\n#elif defined(DB3)\n    if (   db_create(&f, NULL, 0) != 0\n        || f->open(f, auth_dbpwfile, NULL, DB_HASH, DB_RDONLY, 0664) != 0) {", "id": 40287, "time": "2003-07-09T19:03:26Z", "bug_id": 21443, "creation_time": "2003-07-09T19:03:26Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 21443, "is_private": false, "id": 45838, "time": "2003-10-17T15:04:26Z", "creator": "bugs@timj.co.uk", "creation_time": "2003-10-17T15:04:26Z", "tags": [], "text": "Confirmed also on Linux.\nDoesn't appear to inhibit building with DB 4.0.14, at least as supplied by\ndefault with Red Hat 9, but does cause problems with the version supplied with\nFedora Core (Severn; 0.95) Test 3, which is DB 4.1.25."}, {"count": 2, "tags": [], "creator": "nagoya@regs.nebcorp.com", "attachment_id": null, "is_private": false, "id": 48530, "time": "2003-12-04T18:57:28Z", "bug_id": 21443, "creation_time": "2003-12-04T18:57:28Z", "text": "Confirmed on Red Hat Enterprise Linux Advanced Server 3, using db4-4.1.25-8 from\nthe system RPMs.  The patch listed previously works.\n\nThis while attempting to compile apache-1.3.29."}, {"count": 3, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "is_private": false, "id": 50452, "time": "2004-01-13T10:57:26Z", "bug_id": 21443, "creation_time": "2004-01-13T10:57:26Z", "text": "Thanks for the report: that change would break with DB 4.0; committed this for\nthe next 1.3 release which works with both 4.0 and >=4.1:\n\nhttp://cvs.apache.org/viewcvs.cgi/apache-1.3/src/modules/standard/mod_auth_db.c?r1=1.50&r2=1.51"}, {"count": 4, "tags": [], "bug_id": 21443, "attachment_id": null, "id": 50841, "creation_time": "2004-01-20T21:22:46Z", "time": "2004-01-20T21:22:46Z", "creator": "erik@codefaktor.de", "text": "*** Bug 26294 has been marked as a duplicate of this bug. ***", "is_private": false}]