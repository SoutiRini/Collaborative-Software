[{"count": 0, "attachment_id": null, "creator": "rom1v@yahoo.fr", "text": "I attached a build.xml, which is in /home/rom/java/emodelfilter/build.xml.\n\nWhen I launch it from a console, it works :\n\n$ ant -f /home/rom/java/emodelfilter/build.xml deploy\nBuildfile: /home/rom/java/emodelfilter/build.xml\n \nclean:\n   [delete] Deleting directory /home/rom/java/emodelfilter/bin\n   [delete] Deleting directory /home/rom/java/emodelfilter/dist\n \ncompile:\n    [mkdir] Created dir: /home/rom/java/emodelfilter/bin\n    [javac] Compiling 16 source files to /home/rom/java/emodelfilter/bin\n \njar:\n    [mkdir] Created dir: /home/rom/java/emodelfilter/dist\n      [jar] Building jar: /home/rom/java/emodelfilter/dist/emodelfilter.jar\n \ndeploy:\n     [copy] Copying 1 file to /home/rom/java/emodelfilter/dist/lib\n     [copy] Copying 1 file to /home/rom/java/emodelfilter/dist\n \nBUILD SUCCESSFUL\nTotal time: 1 second\n\n\n\n\n\nBut when I try to call it from Java :\n\nProject ant = new Project();\nProjectHelper helper = new ProjectHelperImpl();\nDefaultLogger log = new DefaultLogger();\nlog.setErrorPrintStream(System.err);\nlog.setOutputPrintStream(System.out);\nlog.setMessageOutputLevel(Project.MSG_INFO);\nant.addBuildListener(log);\nFile buildFile = new File(\"/home/rom/java/emodelfilter/build.xml\");\nant.init();\nhelper.parse(ant, buildFile);\nant.executeTarget(\"deploy\");\n\n\nI have this error:\n\nclean:\n   [delete] Deleting directory /home/rom/java/emodelfilter/bin\n \ncompile:\n    [mkdir] Created dir: /home/rom/java/emodelfilter/bin\n    [javac] Compiling 16 source files to /home/rom/java/emodelfilter/bin\nException in thread \"main\" /home/rom/java/emodelfilter/build.xml:26: No directory specified for fileset.\n\tat org.apache.tools.ant.types.AbstractFileSet.getDirectoryScanner(AbstractFileSet.java:418)\n\tat org.apache.tools.ant.types.FileSet.iterator(FileSet.java:70)\n\tat org.apache.tools.ant.types.resources.Union.getCollection(Union.java:105)\n\tat org.apache.tools.ant.types.resources.Union.getCollection(Union.java:88)\n\tat org.apache.tools.ant.types.resources.BaseResourceCollectionContainer.cacheCollection(BaseResourceCollectionContainer.java:244)\n\tat org.apache.tools.ant.types.resources.BaseResourceCollectionContainer.iterator(BaseResourceCollectionContainer.java:120)\n...\n\n\nIt seems strange that a build.xml which works with ant in a console doesn't work when called from java.", "id": 118090, "time": "2008-06-28T04:51:04Z", "bug_id": 45303, "creation_time": "2008-06-28T04:51:04Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "rom1v@yahoo.fr", "text": "Created attachment 22195\nthe build.xml", "id": 118091, "time": "2008-06-28T04:51:47Z", "bug_id": 45303, "creation_time": "2008-06-28T04:51:47Z", "is_private": false, "attachment_id": 22195}, {"count": 2, "tags": [], "text": "Please do not enter bugs like this.\nant from the command line is done by java, therefore there\nmust be something missing from your code in configuring the\nobjects, please refer to mailing list for help.", "is_private": false, "id": 120000, "creator": "peterreilly@apache.org", "time": "2008-08-21T14:35:39Z", "bug_id": 45303, "creation_time": "2008-08-21T14:35:39Z", "attachment_id": null}]