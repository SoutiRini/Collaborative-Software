[{"count": 0, "tags": [], "bug_id": 40112, "attachment_id": null, "id": 91592, "time": "2006-07-26T09:39:45Z", "creator": "basti@h-26.de", "creation_time": "2006-07-26T09:39:45Z", "is_private": false, "text": "I've got a block container which contains:\n\n a) an image (rendered correctly)\n b) some absolute positionend containers which shall be glued to that image with\n    the keep-with-previous.within-page=\"always\" property\n\nThe idea is to have a background image (which is guaranteed to fit on the page)\nand to overlay text elements with absolute positions over it. This positions are\nnaturally in-boundery of that image, so the would no need for a page break.\nSometimes, the layout engine creates a pagebreak here and the overlayed images\nappear on the next page, which is unusefull. Trying to protect the whole\ncontainer with keep-together results in Exceptions (I found a posting on the\ndeveloper mailing list describing that keep-together is implemented only partly)."}, {"count": 1, "tags": [], "creator": "basti@h-26.de", "attachment_id": 18642, "id": 91593, "creation_time": "2006-07-26T09:42:01Z", "time": "2006-07-26T09:42:01Z", "bug_id": 40112, "text": "Created attachment 18642\nSample PDF output\n\nCode for this output:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<fo:root xmlns:fo=\"http://www.w3.org/1999/XSL/Format\"\n\txmlns:html=\"http://www.w3.org/1999/xhtml\" writing-mode=\"lr-tb\"\n\thyphenate=\"false\" text-align=\"start\" role=\"html:html\">\n\t<fo:layout-master-set>\n\t\t<fo:simple-page-master page-width=\"auto\" page-height=\"auto\"\n\t\t\tmaster-name=\"all-pages\">\n\t\t\t<fo:region-body column-gap=\"12pt\" column-count=\"1\"\nmargin-left=\"1in\"\n\t\t\t\tmargin-bottom=\"1in\" margin-right=\"1in\"\nmargin-top=\"1in\"/>\n\t\t\t<fo:region-before display-align=\"before\" extent=\"1in\"\n\t\t\t\tregion-name=\"page-header\"/>\n\t\t\t<fo:region-after display-align=\"after\" extent=\"1in\"\n\t\t\t\tregion-name=\"page-footer\"/>\n\t\t\t<fo:region-start extent=\"1in\"/>\n\t\t\t<fo:region-end extent=\"1in\"/>\n\t\t</fo:simple-page-master>\n\t</fo:layout-master-set>\n\t\n\t<fo:page-sequence master-reference=\"all-pages\">\n\t\t<fo:title>Scale</fo:title>\n\t\t<fo:static-content flow-name=\"page-header\">\n\t\t\t<fo:block font-size=\"small\" text-align=\"center\"\nspace-before=\"0.5in\"\n\t\t\t       \nspace-before.conditionality=\"retain\">Scale</fo:block>\n\t\t</fo:static-content>\n\t\t<fo:static-content flow-name=\"page-footer\">\n\t\t\t<fo:block font-size=\"small\" text-align=\"center\"\nspace-after=\"0.5in\"\n\t\t\t\tspace-after.conditionality=\"retain\">-\n\t\t\t\t<fo:page-number/> -</fo:block>\n\t\t</fo:static-content>\n\t\t<fo:flow flow-name=\"xsl-region-body\">\n\t\t\t<fo:block font-family=\"FranklinGothicMedium\"\nrole=\"html:body\">\n\t\t\t\t<fo:block font-size=\"1.17em\" font-weight=\"bold\"\nspace-before=\"1em\"\n\t\t\t\t\tspace-after=\"1em\"\nkeep-with-next.within-column=\"always\"\n\t\t\t\t\tkeep-together.within-column=\"always\"\nrole=\"html:h3\">\n\t\t\t\t\tScale</fo:block>\n\t\t\t\t<fo:block border=\"1px inset\"\nspace-before=\"0.67em\"\n\t\t\t\t\tspace-after=\"0.67em\" role=\"html:hr\"/>\n\t\t\t\t<fo:block font-size=\"1em\" font-weight=\"bold\"\nspace-before=\"1.17em\"\n\t\t\t\t\tspace-after=\"1.17em\"\nkeep-with-next.within-column=\"always\"\n\t\t\t\t\tkeep-together.within-column=\"always\"\nrole=\"html:h4\">\n\t\t\t\t\tInhaltsverzeichnis:</fo:block>\n\t\t\t\t<fo:list-block space-before=\"1em\"\nspace-after=\"1em\" role=\"html:ul\">\n\t\t\t\t\t<fo:list-item relative-align=\"baseline\"\nrole=\"html:li\">\n\t\t\t\t\t\t<fo:list-item-label\nwrap-option=\"no-wrap\" text-align=\"end\"\n\t\t\t\t\t\t       \nend-indent=\"label-end()\">\n\t\t\t\t\t\t\t<fo:block>\n\t\t\t\t\t\t\t\t<fo:inline\nfont=\"1em serif\">\u2022</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:list-item-label>\n\t\t\t\t\t\t<fo:list-item-body\nstart-indent=\"body-start()\">\n\t\t\t\t\t\t\t<fo:block>\n\t\t\t\t\t\t\t\t<fo:basic-link\ntext-decoration=\"underline\"\n\t\t\t\t\t\t\t\t       \ncolor=\"blue\" role=\"html:a\"\n\t\t\t\t\t\t\t\t       \ninternal-destination=\"2990\">neuer Knoten\n\t\t\t\t\t\t\t\t       \n<fo:inline font-family=\"starstruck\">\n\t\t\t\t\t\t\t\t       \n</fo:inline> </fo:basic-link>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:list-item-body>\n\t\t\t\t\t</fo:list-item>\n\t\t\t\t</fo:list-block>\n\t\t\t\t<fo:block padding-bottom=\"0.3em\"\nrole=\"html:br\"/>Das Symbol\n\t\t\t\t<fo:inline\nfont-family=\"starstruck\">e</fo:inline> gibt den\n\t\t\t\tSchwierigkeitsgrad einer \u00dcbungsaufabe an.\n\t\t\t\t<fo:block padding-bottom=\"0.3em\"\nrole=\"html:br\"/>\n\t\t\t\t<fo:block padding-bottom=\"0.3em\"\nrole=\"html:br\"/>\n\t\t\t\t<fo:block border=\"1px inset\"\nspace-before=\"0.67em\"\n\t\t\t\t\tspace-after=\"0.67em\" role=\"html:hr\"/>\n\t\t\t\t<fo:block font-size=\"1.17em\" font-weight=\"bold\"\nspace-before=\"1em\"\n\t\t\t\t\tspace-after=\"1em\"\nkeep-with-next.within-column=\"always\"\n\t\t\t\t\tkeep-together.within-column=\"always\"\nrole=\"html:h3\">\n\t\t\t\t\t<fo:inline color=\"#263264\">\n\t\t\t\t\t\t<fo:inline role=\"html:a\"\nid=\"2990\">neuer Knoten\n\t\t\t\t\t\t\t<fo:inline\nfont-family=\"starstruck\">\n\t\t\t\t\t\t\t</fo:inline>\n</fo:inline>\n\t\t\t\t\t</fo:inline>\n\t\t\t\t</fo:block>\n\t\t\t\t<fo:block padding-bottom=\"0.3em\"\nrole=\"html:br\"/>\n\t\t\t\t<fo:block-container role=\"html:div\">\n\t\t\t\t\t<fo:block end-indent=\"0pt\"\nstart-indent=\"0pt\">\n\t\t\t\t\t\t<fo:external-graphic\nsrc=\"url('inmemimage:gpec;9fa2fb')\"\n\t\t\t\t\t\t\tcontent-width=\"0.938in\"\ncontent-height=\"5in\"\n\t\t\t\t\t\t\trole=\"html:img\"/>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"1.103in\" left=\"0.753in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">XX</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"0.156in\" left=\"0.569in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">XXXXX\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>XXX</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"0.759in\" left=\"0.362in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">XXXX\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>xxxxx\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>XXXXX</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"1.194in\" left=\"0.162in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">XXXXXX\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>xxxxxx\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>xxxxx\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>xxxx\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>XXXX</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"1.022in\" left=\"0.744in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">ccc</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"0.138in\" left=\"0.225in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">X</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"3.216in\" left=\"0.312in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">XXXXXX\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>xxxxxx\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>xxxxx\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>xxxxxx</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"2.634in\" left=\"0.453in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">XXXX</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"1.919in\" left=\"0.416in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">XXXXXX</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"3.869in\" left=\"0.238in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">XXXXX\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>XXXXX\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>XXXXX\n\t\t\t\t\t\t\t\t       \n<fo:block padding-bottom=\"0.3em\"\n\t\t\t\t\t\t\t\t\t       \nrole=\"html:br\"/>XXXXX</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"3.091in\" left=\"0.744in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">.</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"3.916in\" left=\"0.509in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">.</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"2.338in\" left=\"0.194in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">o</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t\t<fo:block-container\n\t\t\t\t\t\t       \nkeep-with-previous.within-page=\"always\" margin=\"0px\"\n\t\t\t\t\t\t\tpadding=\"0px\"\ntop=\"4.425in\" left=\"0.478in\"\n\t\t\t\t\t\t\tposition=\"absolute\">\n\t\t\t\t\t\t\t<fo:block\nrole=\"html:div\">\n\t\t\t\t\t\t\t\t<fo:inline\nfont-size=\"7.5pt\">o</fo:inline>\n\t\t\t\t\t\t\t</fo:block>\n\t\t\t\t\t\t</fo:block-container>\n\t\t\t\t\t</fo:block>\n\t\t\t\t</fo:block-container> </fo:block>\n\t\t</fo:flow>\n\t</fo:page-sequence>\n</fo:root>", "is_private": false}, {"count": 2, "tags": [], "bug_id": 40112, "attachment_id": null, "id": 91600, "time": "2006-07-26T11:26:42Z", "creator": "basti@h-26.de", "creation_time": "2006-07-26T11:26:42Z", "is_private": false, "text": "Workaround: \n\nmanipulate the space needed by the image with block-progression-dimension.\nIt seems to work!"}, {"count": 3, "tags": [], "bug_id": 40112, "attachment_id": null, "id": 157455, "time": "2012-04-07T01:43:08Z", "creator": "gadams@apache.org", "creation_time": "2012-04-07T01:43:08Z", "is_private": false, "text": "resetting P2 open bugs to P3 pending further review"}]