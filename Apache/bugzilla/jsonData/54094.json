[{"count": 0, "tags": [], "bug_id": 54094, "text": "@break-before=\"page\" in the below fo causes:\n\n    java.lang.IllegalArgumentException: Only non-null Positions with an index can be checked\n\nin both FOP 1.0 and 1.1.\n\n(see below for stack trace).  Remove it and things work fine.\n\n<fo:root xmlns:fo=\"http://www.w3.org/1999/XSL/Format\">\n  <layout-master-set xmlns=\"http://www.w3.org/1999/XSL/Format\">\n    <simple-page-master margin-bottom=\"0.25in\" margin-left=\"1.25in\" margin-right=\"1.25in\" margin-top=\"0.25in\" master-name=\"s1-default\" page-height=\"296mm\" page-width=\"210mm\">\n      <region-body margin-bottom=\"19mm\" margin-left=\"0mm\" margin-right=\"0mm\" margin-top=\"19mm\"/>\n      <region-before extent=\"12mm\" region-name=\"xsl-region-before-default\"/>\n      <region-after extent=\"12mm\" region-name=\"xsl-region-after-default\"/>\n    </simple-page-master>\n    <simple-page-master margin-bottom=\"0.25in\" margin-left=\"1.25in\" margin-right=\"1.25in\" margin-top=\"0.25in\" master-name=\"s1-simple\" page-height=\"296mm\" page-width=\"210mm\">\n      <region-body margin-bottom=\"19mm\" margin-left=\"0mm\" margin-right=\"0mm\" margin-top=\"19mm\"/>\n      <region-before extent=\"12mm\" region-name=\"xsl-region-before-simple\"/>\n      <region-after extent=\"12mm\" region-name=\"xsl-region-after-simple\"/>\n    </simple-page-master>\n    <page-sequence-master master-name=\"s1\">\n      <repeatable-page-master-alternatives>\n        <conditional-page-master-reference master-reference=\"s1-default\"/>\n        <conditional-page-master-reference master-reference=\"s1-simple\"/>\n      </repeatable-page-master-alternatives>\n    </page-sequence-master>\n  </layout-master-set>\n  <fo:page-sequence initial-page-number=\"1\" format=\"1\" master-reference=\"s1\">\n    <fo:static-content flow-name=\"xsl-region-before-default\">\n\n      <fo:block font-family=\"Cambria\" font-size=\"12.0pt\" white-space-treatment=\"preserve\"> </fo:block>\n    </fo:static-content>\n    <fo:static-content flow-name=\"xsl-region-after-default\">\n\n      <fo:block font-family=\"Cambria\" font-size=\"12.0pt\">\n        <inline xmlns=\"http://www.w3.org/1999/XSL/Format\" font-family=\"Cambria\" font-size=\"12.0pt\"/>\n        <page-number xmlns=\"http://www.w3.org/1999/XSL/Format\"/>\n      </fo:block>\n\n      <fo:block font-family=\"Cambria\" font-size=\"12.0pt\" text-indent=\"0.25in\" white-space-treatment=\"preserve\"> </fo:block>\n    </fo:static-content>\n    <fo:static-content flow-name=\"xsl-footnote-separator\">\n      <fo:block>\n        <fo:leader rule-thickness=\"0.5pt\" rule-style=\"solid\" leader-length=\"100%\" leader-pattern=\"rule\"/>\n      </fo:block>\n    </fo:static-content>\n    <fo:flow flow-name=\"xsl-region-body\">\n\n      <fo:list-block provisional-distance-between-starts=\"0.5in\" start-indent=\"0.5in\">\n        <fo:list-item>\n          <fo:list-item-label>\n            <fo:block>1.</fo:block>\n          </fo:list-item-label>\n          <fo:list-item-body start-indent=\"body-start()\">\n            <fo:block break-before=\"page\" color=\"#345A8A\" font-family=\"Calibri\" font-size=\"16.0pt\" font-weight=\"bold\" keep-with-next=\"always\" line-height=\"115%\" space-after=\"4mm\" space-before=\"0in\">\n              <inline xmlns=\"http://www.w3.org/1999/XSL/Format\" color=\"#345A8A\" font-family=\"Calibri\" font-size=\"16.0pt\" font-weight=\"bold\">I</inline>\n              <inline xmlns=\"http://www.w3.org/1999/XSL/Format\" color=\"#345A8A\" font-family=\"Calibri\" font-size=\"16.0pt\" font-weight=\"bold\">ntroducci\u00f3n</inline>\n            </fo:block>\n          </fo:list-item-body>\n        </fo:list-item>\n      </fo:list-block>\n\n\n\n    </fo:flow>\n  </fo:page-sequence>\n</fo:root>\n\nCaused by: java.lang.IllegalArgumentException: Only non-null Positions with an index can be checked\n\tat org.apache.fop.layoutmgr.AbstractLayoutManager.verifyNonNullPosition(AbstractLayoutManager.java:309)\n\tat org.apache.fop.layoutmgr.AbstractLayoutManager.isFirst(AbstractLayoutManager.java:321)\n\tat org.apache.fop.layoutmgr.list.ListItemContentLayoutManager.addAreas(ListItemContentLayoutManager.java:136)\n\tat org.apache.fop.layoutmgr.list.ListItemLayoutManager.addAreas(ListItemLayoutManager.java:542)\n\tat org.apache.fop.layoutmgr.list.ListBlockLayoutManager.addAreas(ListBlockLayoutManager.java:184)\n\tat org.apache.fop.layoutmgr.AreaAdditionUtil.addAreas(AreaAdditionUtil.java:113)\n\tat org.apache.fop.layoutmgr.FlowLayoutManager.addAreas(FlowLayoutManager.java:364)\n\tat org.apache.fop.layoutmgr.PageBreaker.addAreas(PageBreaker.java:285)\n\tat org.apache.fop.layoutmgr.AbstractBreaker.addAreas(AbstractBreaker.java:607)\n\tat org.apache.fop.layoutmgr.AbstractBreaker.addAreas(AbstractBreaker.java:481)\n\tat org.apache.fop.layoutmgr.PageBreaker.doPhase3(PageBreaker.java:313)\n\tat org.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:436)\n\tat org.apache.fop.layoutmgr.PageBreaker.doLayout(PageBreaker.java:90)\n\tat org.apache.fop.layoutmgr.PageSequenceLayoutManager.activateLayout(PageSequenceLayoutManager.java:113)\n\tat org.apache.fop.area.AreaTreeHandler.endPageSequence(AreaTreeHandler.java:267)\n\tat org.apache.fop.fo.pagination.PageSequence.endOfNode(PageSequence.java:128)\n\tat org.apache.fop.fo.FOTreeBuilder$MainFOHandler.endElement(FOTreeBuilder.java:347)\n\tat org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:181)\n\tat org.apache.xalan.transformer.TransformerIdentityImpl.endElement(TransformerIdentityImpl.java:1102)\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)", "id": 163150, "time": "2012-11-03T08:40:32Z", "creator": "jason@plutext.org", "creation_time": "2012-11-03T08:40:32Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "lmpmbernardo@gmail.com", "attachment_id": null, "text": "this has been fixed in trunk back in July, after the RC for 1.1 was put forward.\n\nsee also http://mail-archives.apache.org/mod_mbox/xmlgraphics-fop-users/201207.mbox/%3C50171AE0.1070200%40gmail.com%3E for a workaround.", "id": 163154, "time": "2012-11-03T18:48:22Z", "bug_id": 54094, "creation_time": "2012-11-03T18:48:22Z", "is_private": false}]