[{"count": 0, "tags": [], "text": "Trailing whitespace seems to trigger a weird issue where text contents are thrown right a lot more than expected. It's as if \"text-anchor\" inheritance was no longer honored in these cases (and reset to \"start\", the lacuna value).\n\nBug's URL points to a thread (\"JSVGCanvas Problems - Rendering and Writing\") which contains the original test case and a modified test case which doesn't reproduce the issue (basically, with trailing whitespace trimmed).\n\nAccording to the thread, the issue doesn't seem to reproduce on Linux. Can anyone else confirm and provide information for MacOS as well?\n\nBug 41451 seems tightly related, although the issue is not quite the same (it refers to a MacOS-specific issue). Also, thread \"tspans fail to line up\" [1] seems related as well. I wonder if all these are the same...?\n\nA possible workaround is to make sure tspan elements don't contain trailing whitespace.\n\n[1] http://mail-archives.apache.org/mod_mbox/xmlgraphics-batik-users/200701.mbox/browser#msg-19", "attachment_id": null, "id": 139030, "creator": "helder.magalhaes@gmail.com", "time": "2010-08-10T10:12:09Z", "bug_id": 49736, "creation_time": "2010-08-10T10:12:09Z", "is_private": false}, {"attachment_id": 25875, "tags": [], "creator": "helder.magalhaes@gmail.com", "text": "Created attachment 25875\nTestcase which reproduces the behavior\n\nAs stated in comment #0, it's like the trailing whitespace in tspan elements caused the text-anchor=\"middle\" inheritance to be ignored. Changing the testcase to use text-anchor=\"end\" has a similar behavior; setting it to text-anchor=\"start\" makes the issue invisible.\n\nNote that I've used a fixed YY shift (dy=\"17\") instead of a relative one (dy=\"1.1em\") so that the test case also works in Inkscape (which, at least in version 0.47, doesn't seem to support \"em\" coordinates).", "count": 1, "id": 139031, "time": "2010-08-10T10:20:30Z", "bug_id": 49736, "creation_time": "2010-08-10T10:20:30Z", "is_private": false}, {"count": 2, "tags": [], "creator": "helder.magalhaes@gmail.com", "attachment_id": null, "id": 139968, "time": "2010-09-20T04:55:16Z", "bug_id": 49736, "creation_time": "2010-09-20T04:55:16Z", "is_private": false, "text": "*** Bug 49958 has been marked as a duplicate of this bug. ***"}, {"count": 3, "tags": [], "bug_id": 49736, "text": "I have encountered this/similar problem while using FOP 1.0 to render a PDF that included some svg figures included by fo:externalGraphic.\n\nThe PNG image rendered by PNGTranscoder on the same SVG input looks correct.\n\nIn my case it was not sufficient to remove whitespace between <tspan> ... </tspan>\nI also had to remove all white space between <text> and <tspan>\n\ne.g.\n\n<text style=\"text-anchor: middle\">\n   <tspan>..</tspan>\n   <tspan>..</tspan>\n</text> \n\nmust be turned into\n\n<text style=\"text-anchor: middle\"><tspan>..</tspan><tspan>..</tspan></text> \n\nin order to work", "id": 146030, "time": "2011-04-28T06:53:37Z", "creator": "cdbruun@flyingpigs.dk", "creation_time": "2011-04-28T06:53:37Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 49736, "text": "I recently (re)reported what appears to be this bug on the mailing list:\nhttp://thread.gmane.org/gmane.text.xml.batik.user/15374\nThe symptoms are closer to comment #3 (multiple tspans within a text element) than to the original report (tspans with trailing whitespace).  In my case, the following is true:\n1) It only occurs on 1.6 JVMs (on both linux and windows); not on 1.5 JVMs on either platform\n2) Removing whitespace between succeeding tspans is sufficient: text-to-tspan whitespace is irrelevant.", "id": 147174, "time": "2011-06-15T22:49:41Z", "creator": "nvbugs@hhecht.e4ward.com", "creation_time": "2011-06-15T22:49:41Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 49736, "text": "*** Bug 53597 has been marked as a duplicate of this bug. ***", "id": 160988, "time": "2012-07-29T23:03:49Z", "creator": "helder.magalhaes@gmail.com", "creation_time": "2012-07-29T23:03:49Z", "is_private": false, "attachment_id": null}]