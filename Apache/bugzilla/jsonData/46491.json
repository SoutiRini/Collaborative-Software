[{"count": 0, "tags": [], "creator": "slavko_h@yahoo.com", "attachment_id": null, "id": 123845, "time": "2009-01-07T16:29:32Z", "bug_id": 46491, "creation_time": "2009-01-07T16:29:32Z", "is_private": false, "text": "Use \"CSV Data Set Config\" element in your test-plan. Use there a few variables (3 or more) - assume there are {VAR1, VAR2, VAR3} (I'm using here \"{ and }\" for better explanation).\nCreate data file for it.\nThe first line has non-empty values - assume {1-1,1-2,1-3}.\nThe second line has {2-1,2-2,} where the third value is empty (I need like this TC).\nSo, when a thread is picking the second line from the CVS file - VAR3 value will be \"1-3\" (from previous line).\n\nER: VAR3 value is equal to value from the second line - in this case - empty(nothing).\n\nThe issue is valid only for the last variable in CVS file.\nI'm trying also to use (Allow quoted data = True) in the CVS file like {2-1,2-2,\"\"} and it does not help as well."}, {"count": 1, "tags": [], "bug_id": 46491, "attachment_id": null, "text": "The second line needs to be\n\n2-1,2-2\n\nIf you use\n\n2-1,2-2,\nor\n2-1,2-2,\"\"\n\nthen you are defining the 3rd column as the empty string.", "id": 123848, "time": "2009-01-07T17:00:04Z", "creator": "sebb@apache.org", "creation_time": "2009-01-07T17:00:04Z", "is_private": false}, {"count": 2, "tags": [], "creator": "slavko_h@yahoo.com", "attachment_id": null, "id": 123907, "time": "2009-01-09T09:30:18Z", "bug_id": 46491, "creation_time": "2009-01-09T09:30:18Z", "is_private": false, "text": "Reopened\n\nThat what I need - I need to have third parameter as empty string, but the value is not empty, it is equal the value from the previous line.\nSorry, if the description is not clear.\nAssume, that CVS file has description {VAR1,VAR2,VAR3} and data are like these:\n1st line: {1-1,1-2,1-3}\n2nd line: {2-1,2-2,} - third parameter is empty\n\nAR(ActualResult): when 2nd line is processing ${VAR3} will be equal \"1-3\" (from previous line);\nER(ExpectedResult): for 2nd line - ${VAR3} is equal \"\" (empty string);\n\nThis is issue valid only for the last variable of CVS file.\n"}, {"count": 3, "tags": [], "bug_id": 46491, "attachment_id": null, "text": "Sorry for annoying...\n\nWhat are you going to do with this bug?\n", "id": 124334, "time": "2009-01-23T16:08:50Z", "creator": "slavko_h@yahoo.com", "creation_time": "2009-01-23T16:08:50Z", "is_private": false}, {"count": 4, "tags": [], "creator": "sebb@apache.org", "attachment_id": 23172, "id": 124340, "time": "2009-01-24T05:09:18Z", "bug_id": 46491, "creation_time": "2009-01-24T05:09:18Z", "is_private": false, "text": "Created attachment 23172\nData file"}, {"count": 5, "tags": [], "creator": "sebb@apache.org", "attachment_id": 23173, "id": 124341, "time": "2009-01-24T05:09:41Z", "bug_id": 46491, "creation_time": "2009-01-24T05:09:41Z", "is_private": false, "text": "Created attachment 23173\nTest plan"}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "attachment_id": 23174, "id": 124342, "time": "2009-01-24T05:10:01Z", "bug_id": 46491, "creation_time": "2009-01-24T05:10:01Z", "is_private": false, "text": "Created attachment 23174\nSample output"}, {"count": 7, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 124343, "time": "2009-01-24T05:12:54Z", "bug_id": 46491, "creation_time": "2009-01-24T05:12:54Z", "is_private": false, "text": "Works fine for me - see attached test plan etc.\n\nIf it does not work for you, please reopen and attach the simplest possible test plan that shows the problem, together with data file and sample output."}, {"count": 8, "tags": [], "text": "Created attachment 23213\nmy cvs file", "is_private": false, "bug_id": 46491, "id": 124586, "time": "2009-02-02T10:55:06Z", "creator": "slavko_h@yahoo.com", "creation_time": "2009-02-02T10:55:06Z", "attachment_id": 23213}, {"count": 9, "tags": [], "bug_id": 46491, "attachment_id": null, "text": "Hi Sebb-2\n\nI've attached simple \"my cvs file\" - 4 lines only.\nWhen I do a printing by beanshell it show incorrect value for the last line.\nHere is my beanshell script:\n-------\nprint (\"TC=\"+vars.get(\"TC\") + \"::\" + \"ID=\"+vars.get(\"ID\") + \"EmailGroup=\"+vars.get(\"EMAIL-GROUP\") + \"<>Password=\"+vars.get(\"PASSWORD\") + \"<>FirstName=\"+vars.get(\"FIRSTNAME\") + \"<>LastName=\" + vars.get(\"LASTNAME\") + \"<>Position=\" + vars.get(\"POSITION\") + \"<>\");\n-------\n\nHere are test-result:\nTC=SS-01-02-05::ID=aaa5EmailGroup=bluerealm.com<>Password=dadada<>FirstName=firs\ntName<>LastName=                                  <>Position=5<>\nTC=SS-01-02-06::ID=aaa6EmailGroup=bluerealm.com<>Password=dadada<>FirstName=firs\ntName<>LastName=lastName<>Position=5<>\n-------\n\nER: the last line is shown as:\nTC=SS-01-02-06::ID=aaa6EmailGroup=bluerealm.com<>Password=dadada<>FirstName=firs\ntName<>LastName=lastName<>Position=null<>\n\n========\n\n", "id": 124587, "time": "2009-02-02T11:01:44Z", "creator": "slavko_h@yahoo.com", "creation_time": "2009-02-02T11:01:44Z", "is_private": false}, {"count": 10, "tags": [], "text": "I've also attached \"simple TestPlan\"", "attachment_id": null, "bug_id": 46491, "id": 124588, "time": "2009-02-02T11:02:44Z", "creator": "slavko_h@yahoo.com", "creation_time": "2009-02-02T11:02:44Z", "is_private": false}, {"count": 11, "tags": [], "creator": "slavko_h@yahoo.com", "attachment_id": 23214, "id": 124589, "time": "2009-02-02T11:03:38Z", "bug_id": 46491, "creation_time": "2009-02-02T11:03:38Z", "is_private": false, "text": "Created attachment 23214\nsimple TestPlan"}, {"count": 12, "tags": [], "bug_id": 46491, "attachment_id": null, "is_private": false, "id": 124591, "time": "2009-02-02T11:54:08Z", "creator": "sebb@apache.org", "creation_time": "2009-02-02T11:54:08Z", "text": "There is a subtle difference between the CSV Dataset settings in my test plan and yours - I put \"Allow quoted data\" = False, and you put True.\n\nTry setting the value to False and see if that solves the problem. It does for me.\n\nOf course, quoted data needs to behave the same as unquoted, so I'll investigate fixing that."}, {"count": 13, "tags": [], "bug_id": 46491, "attachment_id": null, "text": "Yes, you are right.\n\"Quoted\" flag is causing the problem, but even I've quoted the last field (like, {a,b,\"\"}) with \"quoted\"=True - it will not help.\n\nSo, here are two \"issues\" (maybe related - I'm mean duplicated - this is just for myself when I a fix-verification will do):\n1) \"quoted\" flag == True when data are non-quoted;\n2) if the flag == True and data is quoted (all or partially) (like [a,b,\"\"] or [\"a\",\"b\",\"\"] - it causes the problem as well;\n", "id": 124596, "time": "2009-02-02T12:39:47Z", "creator": "slavko_h@yahoo.com", "creation_time": "2009-02-02T12:39:47Z", "is_private": false}, {"count": 14, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 124597, "time": "2009-02-02T12:55:37Z", "bug_id": 46491, "creation_time": "2009-02-02T12:55:37Z", "is_private": false, "text": "Setting the \"Allow quoted data flag\" to true should not affect how *unquoted* data is treated. However at present the routine that processes quoted data doesn't handle a trailing delimiter correctly. I'm in the process of fixing that.\n\nIf your data is not quoted, then don't set Allow Quoted = true.\n\nIf your data is quoted, then you need to set Allow Quoted = true, but in that case you cannot set the last variable to empty, as the code treats {abc,} exactly the same as {abc,\"\"}. This is a bug.\n\n\n\n"}, {"count": 15, "tags": [], "creator": "sebb@apache.org", "text": "*** Bug 46651 has been marked as a duplicate of this bug. ***", "id": 124606, "time": "2009-02-02T15:02:39Z", "bug_id": 46491, "creation_time": "2009-02-02T15:02:39Z", "is_private": false, "attachment_id": null}, {"count": 16, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 124613, "time": "2009-02-02T17:39:11Z", "bug_id": 46491, "creation_time": "2009-02-02T17:39:11Z", "is_private": false, "text": "Fixed in SVN in r740183:\n\nURL: http://svn.apache.org/viewvc?rev=740183&view=rev\nLog:\nBug 46491 - Incorrect value for the last variable in \"CSV Data Set Config\" (error in processing quoted strings)"}]