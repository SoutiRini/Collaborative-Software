[{"count": 0, "tags": [], "creator": "mark@mrobinson.ca", "attachment_id": null, "text": "Occaisionally I get an NPE in org.apache.catalina.connector.Response.addSessionCookieInternal():1008\n\nCode at fault\n\n        MimeHeaders headers = coyoteResponse.getMimeHeaders();\n        int n = headers.size();\n        for (int i = 0; i < n; i++) {\n1008:        if (headers.getName(i).toString().equals(headername)) {\n                if (headers.getValue(i).toString().startsWith(startsWith)) {\n                    headers.getValue(i).setString(sb.toString());\n                    set = true;\n                }\n            }\n        }\n\nI could submit a patch that just aggressively checks for nulls but I'm not sure that is the correct solution.  Some possible causes could be:\n\n1. The value of headers.size() is changing.  Which is bad since it would indicate some threading problems.\n\n2. MessageBytes is somehow producing a null.  It could be the type is unknown or the given chunk type is occaisionally returning null contents.", "id": 180420, "time": "2015-01-20T18:15:00Z", "bug_id": 57470, "creation_time": "2015-01-20T18:15:00Z", "is_private": false}, {"count": 1, "tags": [], "creator": "chris@christopherschultz.net", "attachment_id": null, "id": 180421, "time": "2015-01-20T18:22:53Z", "bug_id": 57470, "creation_time": "2015-01-20T18:22:53Z", "is_private": false, "text": "Sound like most likely to be retaining a response object's reference somewhere and using it incorrectly/improperly.\n\nWe need much more information if you really think there is a bug here."}, {"count": 2, "tags": [], "bug_id": 57470, "text": "All the indications are that this is an application bug. Please follow-up on the users mailing list. You can always re-open this issue if a Tomcat bug is found to be at the root of this.", "id": 180481, "time": "2015-01-22T14:51:31Z", "creator": "markt@apache.org", "creation_time": "2015-01-22T14:51:31Z", "is_private": false, "attachment_id": null}]