[{"count": 0, "tags": [], "bug_id": 60675, "attachment_id": 34699, "text": "Created attachment 34699\nSimple TestFragment/ModuleController scenario to reproduce the related issue\n\nHi,\n\nSome JMeter users, I work with, encourters some TestFragment reference issues: JMeter fails saying that: \n\n2017/01/31 15:03:18 INFO  - jmeter.save.SaveService: Loading file: /home/ocadmin/IHSS/trunk/HSSTest/dist/usecases/Functional/Sh/Functional_Sh_DIT_UDR_IFC.jmx\n2017/01/31 15:03:19 ERROR - jmeter.JMeter: Error in NonGUIDriver org.apache.jorphan.util.JMeterStopTestException: ModuleController:[MC] Reset-Msgs-Params has no selected Controller (did you rename some element in the path to target controller?), test was shutdown as a consequence\n        at org.apache.jmeter.control.ModuleController.resolveReplacementSubTree(ModuleController.java:142)\n        at org.apache.jmeter.JMeter.runNonGui(JMeter.java:905)\n        at org.apache.jmeter.JMeter.startNonGui(JMeter.java:879)\n        at org.apache.jmeter.JMeter.start(JMeter.java:504)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.jmeter.NewDriver.main(NewDriver.java:259)\n\nAfter investigations, it seems that since JMeter 3.1, the ModuleController takes in account stronglier than previously the name of the TestPlan element to refer the TestFragment.\n\"My\" testers have renamed long time ago the TestPlan name but it did not impact the tests until updating JMeter.\nNow tests are failing and \"my\" testers must/will update all their scenarios and it is not very comfortable accordingly to the amount of scenarios to update.\n\nIn the sametime, I've found that renaming the TestPlan name has still hazardous propagation in particular in updating the related property of the ModuleController about the TestPlan name reference.\n\nFrom the joined jmx file, here's a way to reproduce the issue.\nThe test has a TestFragment \"TF-A\" and a ModuleController \"MC-A\" that refers to \"TF-A\" (see MC-FT-1.png).\nRenaming TestPlan fomr \"Test Plan\" to \"Test Plan 2\", then saving and reopening the test file do not take in account the renaming propagation that has to be performed into the TestPlan reference inside the ModuleController to point to the right TestFragment (see MC-FT-2.png).\n\nBut, if you rename the TestPlan name, then clicking on other TestTree elements, the TestPlan reference in the ModuleController has been well updated (See MC-FT-3.png).\n\nDo you think it is possible to improve the renaming propagation to avoid such reference issues?\n\nthank you in advance for your support and maybe suggestions to help you in fixing it.", "id": 196628, "time": "2017-02-01T15:52:25Z", "creator": "vherilier@gmail.com", "creation_time": "2017-02-01T15:52:25Z", "is_private": false}, {"count": 1, "attachment_id": 34700, "bug_id": 60675, "is_private": false, "id": 196629, "time": "2017-02-01T15:55:04Z", "creator": "vherilier@gmail.com", "creation_time": "2017-02-01T15:55:04Z", "tags": [], "text": "Created attachment 34700\nscenario before renaming"}, {"count": 2, "attachment_id": 34701, "bug_id": 60675, "is_private": false, "id": 196630, "time": "2017-02-01T15:55:57Z", "creator": "vherilier@gmail.com", "creation_time": "2017-02-01T15:55:57Z", "tags": [], "text": "Created attachment 34701\nscenario after renaming but with bad propagation of the TestPlan name"}, {"count": 3, "attachment_id": 34702, "bug_id": 60675, "is_private": false, "id": 196631, "time": "2017-02-01T15:56:33Z", "creator": "vherilier@gmail.com", "creation_time": "2017-02-01T15:56:33Z", "tags": [], "text": "Created attachment 34702\nscenario after renaming with right propagation of the TestPlan name"}, {"count": 4, "text": "Hello Vincent,\nThis is a known issue, see  Bug 59169.\n\nIf you're willing to contribute a fix, maybe you can start a thread on dev mailing list to discuss possible fixes.\nRegards\n\n*** This bug has been marked as a duplicate of bug 59169 ***", "bug_id": 60675, "attachment_id": null, "id": 196638, "time": "2017-02-01T19:37:46Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-02-01T19:37:46Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "creator": "vherilier@gmail.com", "text": "Sorry I missed 59169.\nI'll try opening the thread asap in the dev mailing list", "id": 196749, "time": "2017-02-06T09:07:26Z", "bug_id": 60675, "creation_time": "2017-02-06T09:07:26Z", "is_private": false, "attachment_id": null}]