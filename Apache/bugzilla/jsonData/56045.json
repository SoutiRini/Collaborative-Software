[{"count": 0, "tags": [], "creator": "david_syer@hotmail.com", "attachment_id": null, "id": 172586, "time": "2014-01-21T09:43:18Z", "bug_id": 56045, "creation_time": "2014-01-21T09:43:18Z", "is_private": false, "text": "If I don't have a web.xml and I'm not using JSPs I shoudln't need Jasper on the classpath (it worked in 7.0.47)\n\nCaused by: java.lang.ExceptionInInitializerError: null\n\tat org.apache.catalina.startup.TldConfig.createTldDigester(TldConfig.java:94)\n\tat org.apache.catalina.startup.TldConfig.init(TldConfig.java:576)\n\tat org.apache.catalina.startup.TldConfig.lifecycleEvent(TldConfig.java:559)\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:402)\n\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:110)\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:139)\n\t... 7 common frames omitted\nCaused by: java.lang.NullPointerException: null\n\tat org.apache.tomcat.util.descriptor.DigesterFactory.idFor(DigesterFactory.java:107)\n\tat org.apache.tomcat.util.descriptor.DigesterFactory.<clinit>(DigesterFactory.java:59)\n\t... 15 common frames omitted"}, {"count": 1, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": null, "id": 172639, "time": "2014-01-23T18:46:26Z", "bug_id": 56045, "creation_time": "2014-01-23T18:46:26Z", "is_private": false, "text": "You do not need Jasper, but you need the JSP APIs - the \"jsp-api.jar\" file.\n\n1. The common XML Schema for the Servlet 3.0 deployment descriptor does depend on the XML Schema for the JSP 2.2 deployment descriptor.\n\n2. Tomcat processes tag libraries and instantiates Listeners defined in their TLD files regardless of whether you use Jasper. This may need the schema for TLD files.\n\n\nNote that both of these issues have been fixed in Tomcat 8.\nRe: 1: in Tomcat 8 the schemas are bundled in servlet-api.jar\nRe: 2: in Tomcat 8 the listeners are initialized by Jasper and are injected into web application via ServletContext.addListener() API."}, {"count": 2, "tags": [], "creator": "david_syer@hotmail.com", "attachment_id": null, "text": "Good to know that jasper is a sufficient but not necessary dependency, but that doesn't really help if you don't want anything to do with JSPs.\n\nI did raise this issue specifically against Tomcat 7. It's a regression (and a pretty significant one) between 7.0.47 and 7.0.50, so I'm kind of hoping it might be fixable.", "id": 172643, "time": "2014-01-23T20:07:37Z", "bug_id": 56045, "creation_time": "2014-01-23T20:07:37Z", "is_private": false}, {"count": 3, "tags": [], "text": "Fixed in trunk and will be included in 7.0.51 onwards.", "attachment_id": null, "id": 172666, "creation_time": "2014-01-24T10:26:22Z", "time": "2014-01-24T10:26:22Z", "creator": "markt@apache.org", "bug_id": 56045, "is_private": false}]