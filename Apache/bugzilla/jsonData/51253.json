[{"count": 0, "tags": [], "bug_id": 51253, "attachment_id": null, "text": "When using server generated error pages (use_server_errors) and status code is 401, we need to forward the original WWW-Authenticate header to the client. For example mod_proxy does it that way.\n\nI fixed the problem in r1126561 for mod_jk / Apache. I didn't yet fix it completely for IIS. There is a new TODO in jk_isapi_plugin.c, see \"start_response()\". If anyone likes to fix it for ISAPI, there is already parts of the fix in start_response(), but the missing part is described in the following TODO around line 960:\n\nTODO: we need to save a copy of header_values[h]\nfor later reuse in write_error_message()\nwhich is called later on form HttpExtensionProc\nbecause of use_server_error_pages.\n\nActually I didn't verify the problem for ISAPI, so that might be a good first step.\n\nRegards,\n\nRainer", "id": 146577, "time": "2011-05-24T08:06:19Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2011-05-24T08:06:19Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 51253, "attachment_id": null, "text": "Implemented IIS version of the patch.\nClosing the issue.", "id": 151295, "time": "2011-11-08T18:35:28Z", "creator": "mturk@apache.org", "creation_time": "2011-11-08T18:35:28Z", "is_private": false}]