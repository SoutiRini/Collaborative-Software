[{"count": 0, "tags": [], "bug_id": 17007, "attachment_id": null, "text": "allow to define ZipFileSet(s) outside of Zip task\nallow to use ZipFileSet(s) in packaging tasks by refid=\"xyz\"\n\nA user should be able to define a ZipFileSet(s) by settign up a fileset and \nthen refering to it with refid. \n\n----------------------\nFlawed example of use follows (note this was posed to the Ant-users mailing \nlist) note I was trying to use <path> which is incorrect, I know, but also, \n<fileset> will not work here.\n----------------------\nExample:\nI have several jar files, realmutils.jar, arch.jar. base.jar which contain\nclasses that I need in various other jar files,  rbac.jar and  client.jar. \n\nIs there anyway that I can use the zipfileset task within a <path> type tag?\nWhat I am trying to do is similar to the below:\n\nCreate a path id to reference later in the build process, not all files in\nany jar file is included this is selecting a subset of classes in each jar:\n\n<path id=\"bac-client-files\">\n   <fileset dir=\"com/realm/portal/data/security/rbac/ejb\">\n      <exclude name=\"**/jboss.xml\"/>\n      <include name=\"META-INF/*.xml\"/>\n   </fileset>\n   <zipfileset src=\"${parentdir}/lib/realmutils.jar\" \n                   includes=\"com/realm/utils/string/StringCipher.class\"/>\n   <zipfileset src=\"${parentdir}/lib/arch.jar\" \n                   includes=\"com/realm/utils/log/ILogger.class\"/>\n   <zipfileset src=\"${parentdir}/lib/arch.jar\" \n                   includes=\"com/realm/utils/log/RealmLogger.class\"/>\n   <zipfileset src=\"${parentdir}/lib/base.jar\"  \n</path>\n\nWith the path id created I would then like to build my multiple jar files\nreferencing the id \"bac-client-files\", and adding in some other files\nspecific to each jar:\n\n<jar destfile=\"${rbac.jar}\">\n     <fileset refid=\"bac-client-files\"/>\n     <....other files added here.....>\n</jar>\n\nThe above code needs to be run for a couple of different jar files that all\ncontain the \"bac-client-files\". \n\nIs there a way to accomplish this? I am getting, \"The <path> data type\ndoesn't support the the nested \"zipfile\" element\" error message when I try\nto create the <path> above.", "id": 31152, "time": "2003-02-12T16:35:38Z", "creator": "cdaniell@realm.com", "creation_time": "2003-02-12T16:35:38Z", "is_private": false}, {"count": 1, "tags": [], "creator": "levylambert@tiscali-dsl.de", "text": "Created attachment 4927\npatches for Zip.java, ZipFileSet.java and defaults.properties", "id": 31623, "time": "2003-02-19T19:22:20Z", "bug_id": 17007, "creation_time": "2003-02-19T19:22:20Z", "is_private": false, "attachment_id": 4927}, {"count": 2, "tags": [], "text": "can someone review and commit this code. I hope it is innocuous and go in ant \n1.5.3 ???\n", "is_private": false, "bug_id": 17007, "id": 32844, "time": "2003-03-10T11:17:13Z", "creator": "levylambert@tiscali-dsl.de", "creation_time": "2003-03-10T11:17:13Z", "attachment_id": null}, {"count": 3, "attachment_id": 5442, "creator": "levylambert@tiscali-dsl.de", "is_private": false, "id": 33534, "time": "2003-03-20T10:31:25Z", "bug_id": 17007, "creation_time": "2003-03-20T10:31:25Z", "tags": [], "text": "Created attachment 5442\nupdated patch, including documentation"}, {"count": 4, "tags": [], "bug_id": 17007, "attachment_id": 5443, "text": "Created attachment 5443\ntest case and new standalone document for ZipFileSet", "id": 33535, "time": "2003-03-20T10:32:39Z", "creator": "levylambert@tiscali-dsl.de", "creation_time": "2003-03-20T10:32:39Z", "is_private": false}, {"count": 5, "tags": [], "creator": "levylambert@tiscali-dsl.de", "text": "the functionality is now checked in, should be available in ant 1.6", "id": 35608, "time": "2003-04-18T22:09:11Z", "bug_id": 17007, "creation_time": "2003-04-18T22:09:11Z", "is_private": false, "attachment_id": null}]