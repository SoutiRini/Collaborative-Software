[{"count": 0, "tags": [], "text": "I have a strange error with authnz_ldap_module.\nI have searched the web and tried a lot of combinations, but nothing helps.\n\nThis list is my only hope (ok, not the only, I cab also try svnserve+sasl+ldap).\n\nHere is my subversion.conf:\n\nLoadModule dav_svn_module     modules/mod_dav_svn.so\n<Location /repos>\n    DAV svn\n    SVNPath /var/www/svn/repos\n    AuthName \"Test repository\"\n    AuthType Basic\n    AuthBasicProvider ldap\n    AuthLDAPUrl\t\t\t\"ldap://server.three.two.one:389/dc=three, dc=two,\ndc=one?sAMAccountName?sub?(objectClass=*) NONE\"\n    AuthLDAPBindDN\t\t\"admin@three.two.one\"\n    AuthLDAPBindPassword\t\"password\"\n    Require valid-user\n</Location>\n\nAnd here are related error.log strings:\n...\n[Thu Feb 26 16:47:11 2009] [debug] mod_authnz_ldap.c(373): [client\n192.168.12.138] [11270] auth_ldap authenticate: using URL\nldap://server.three.two.one:389/dc=three, dc=two,\ndc=one?sAMAccountName?sub?(objectClass=*) NONE\n[Thu Feb 26 16:47:11 2009] [warn] [client 192.168.12.138] [11270]\nauth_ldap authenticate: user authentication failed; URI /repos\n[ldap_search_ext_s() for user failed][Bad search filter]\n\nBrawser show 500 Internal Server Error.\n\nPlease help me!\nThanks in advance and good luck!", "attachment_id": null, "bug_id": 46787, "id": 125253, "time": "2009-03-02T05:49:19Z", "creator": "kekc.reg@gmail.com", "creation_time": "2009-03-02T05:49:19Z", "is_private": false}, {"count": 1, "tags": [], "text": ">     AuthLDAPUrl            \"ldap://server.three.two.one:389/dc=three, dc=two,\ndc=one?sAMAccountName?sub?(objectClass=*) NONE\"\n\n\"NONE\" should be the 2nd argument, not inside the first argument by virtue of the enclosing quotes.", "is_private": false, "bug_id": 46787, "id": 125255, "time": "2009-03-02T06:26:36Z", "creator": "covener@gmail.com", "creation_time": "2009-03-02T06:26:36Z", "attachment_id": null}, {"text": "Hi Eric!\n\nYou could be more glad and not marking issue \"RESOLVED INVALID\" without confirmation..\n\nI have tried a lot of variants, suggested in users@httpd and nothng helps.\nYour \"help\" doesn't help also.\n\nHere is another variant:\n\nAuthLDAPUrl            \"ldap://server.three.two.one:389/dc=three,dc=two,dc=one?sAMAccountName\"\nAuthLDAPBindDN        \"CN=Admin,OU=Administrators,DC=tecom,DC=nnov,DC=ru\"\nAuthLDAPBindPassword    \"password\"\n\n\nBut I get the same error.\n\nPS I must say, that I have tried two linux machines in our network:\n1) CentOS, apache 2.2.3\n2) Ubuntu, apache 2.2.9\nAnd the problem is in both.\n\nBut I can't say, that it's a LDAP (AD) server, because out other ldap clients work OK:\nKnowledgeTree, Mantis, ldapsearch...\n\nThank you anyway!", "tags": [], "bug_id": 46787, "attachment_id": null, "count": 2, "id": 125256, "time": "2009-03-02T06:42:27Z", "creator": "kekc.reg@gmail.com", "creation_time": "2009-03-02T06:42:27Z", "is_private": false}, {"count": 3, "attachment_id": null, "creator": "covener@gmail.com", "is_private": false, "id": 125257, "time": "2009-03-02T07:29:57Z", "bug_id": 46787, "creation_time": "2009-03-02T07:29:57Z", "tags": [], "text": "(In reply to comment #2)\n\n> AuthLDAPUrl           \n> \"ldap://server.three.two.one:389/dc=three,dc=two,dc=one?sAMAccountName\"\n> AuthLDAPBindDN        \"CN=Admin,OU=Administrators,DC=tecom,DC=nnov,DC=ru\"\n> AuthLDAPBindPassword    \"password\"\n\nInclude logs, and a binary packet trace if you can (the bind password will be present in the trace)"}, {"count": 4, "tags": [], "bug_id": 46787, "attachment_id": null, "text": "(In reply to comment #3)\n> (In reply to comment #2)\n> \n> > AuthLDAPUrl           \n> > \"ldap://server.three.two.one:389/dc=three,dc=two,dc=one?sAMAccountName\"\n> > AuthLDAPBindDN        \"CN=Admin,OU=Administrators,DC=tecom,DC=nnov,DC=ru\"\n> > AuthLDAPBindPassword    \"password\"\n> \n> Include logs, and a binary packet trace if you can (the bind password will be\n> present in the trace)\n\nError Log is here:\n[Thu Feb 26 16:47:11 2009] [debug] mod_authnz_ldap.c(373): [client\n192.168.12.138] [11270] auth_ldap authenticate: using URL\nldap://server.three.two.one:389/dc=three, dc=two,\ndc=one?sAMAccountName?sub?(objectClass=*) NONE\n[Thu Feb 26 16:47:11 2009] [warn] [client 192.168.12.138] [11270]\nauth_ldap authenticate: user authentication failed; URI /repos\n[ldap_search_ext_s() for user failed][Bad search filter]\n\nI don't klnow how to catch \"binary packet trace\", sorry.\nWould be glad, if you show me how)", "id": 125268, "time": "2009-03-03T01:33:08Z", "creator": "kekc.reg@gmail.com", "creation_time": "2009-03-03T01:33:08Z", "is_private": false}, {"count": 5, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "id": 125277, "time": "2009-03-03T04:01:16Z", "bug_id": 46787, "creation_time": "2009-03-03T04:01:16Z", "is_private": false, "text": "(In reply to comment #4)\n> (In reply to comment #3)\n> > (In reply to comment #2)\n> > \n> > > AuthLDAPUrl           \n> > > \"ldap://server.three.two.one:389/dc=three,dc=two,dc=one?sAMAccountName\"\n> > > AuthLDAPBindDN        \"CN=Admin,OU=Administrators,DC=tecom,DC=nnov,DC=ru\"\n> > > AuthLDAPBindPassword    \"password\"\n> > \n> > Include logs, and a binary packet trace if you can (the bind password will be\n> > present in the trace)\n> \n> Error Log is here:\n> [Thu Feb 26 16:47:11 2009] [debug] mod_authnz_ldap.c(373): [client\n> 192.168.12.138] [11270] auth_ldap authenticate: using URL\n> ldap://server.three.two.one:389/dc=three, dc=two,\n> dc=one?sAMAccountName?sub?(objectClass=*) NONE\n\nThat error doesn't match the configuration quoted in this reply.\n\nIt does match the exact configuration error I've already illustrated, where the NONE is part of the LDAP URI via quotes.\n\n> I don't klnow how to catch \"binary packet trace\", sorry.\n> Would be glad, if you show me how)\n\nBugzill is for bug reports only, not working through coinfiguration issues. \nhttp://httpd.apache.org/userslist.html"}, {"count": 6, "attachment_id": null, "creator": "kekc.reg@gmail.com", "is_private": false, "id": 125279, "time": "2009-03-03T06:11:29Z", "bug_id": 46787, "creation_time": "2009-03-03T06:11:29Z", "tags": [], "text": "Thanks, sorry for confusion.."}]