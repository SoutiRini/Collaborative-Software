[{"count": 0, "tags": [], "bug_id": 50147, "attachment_id": null, "id": 140961, "time": "2010-10-24T03:28:58Z", "creator": "glamd@abv.bg", "creation_time": "2010-10-24T03:28:58Z", "is_private": false, "text": "I have this in a jsp:\n\n<c:url value=\"/static\" var=\"static\" />\n\n\nOn tomcat 7.0.0 it is fine, but I tried running it on 7.0.4, and I'm getting:\n\n[static] is not a valid Java identifier\n\nI don't think this should be verified, because after all these are request attributes, so they do not collide with java keywords.\n\nSame goes for \"class\": [class] is not a valid Java identifier\n\n(Btw, 7.0.4 is not in the version list in bugzilla)"}, {"count": 1, "tags": [], "bug_id": 50147, "is_private": false, "text": "In and of itself, that tag will compile.\n\nThe checks for Java identifiers were added to the EL processing so I suspect you have some illegal EL elsewhere on the page.", "id": 140965, "time": "2010-10-24T07:26:04Z", "creator": "markt@apache.org", "creation_time": "2010-10-24T07:26:04Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "(In reply to comment #1)\n> In and of itself, that tag will compile.\n> \n> The checks for Java identifiers were added to the EL processing so I suspect\n> you have some illegal EL elsewhere on the page.\n\nWell, I removed all instance of \"static\" and then \"class\" started complaining.\n\nI didn't understand whether this is expected behaviour (part of EL spec, for example)", "attachment_id": null, "id": 140967, "creator": "glamd@abv.bg", "time": "2010-10-24T08:05:38Z", "bug_id": 50147, "creation_time": "2010-10-24T08:05:38Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 50147, "attachment_id": null, "is_private": false, "id": 141022, "time": "2010-10-25T21:28:59Z", "creator": "balusc@gmail.com", "creation_time": "2010-10-25T21:28:59Z", "text": "From JSP 2.2 EL specification:\n\n---------------------------------------\n1.14 Reserved Words\n\nThe following words are reserved for the language and must not be used as\nidentifiers.\n\n    and   eq     gt     true   instanceof\n    or    ne     le     false  empty\n    not   lt     ge     null   div        mod\n\nNote that many of these words are not in the language now, but they may be in the\nfuture, so developers must avoid using these words.\n---------------------------------------\n\nI don't see \"static\" nor \"class\" in the list."}, {"count": 4, "tags": [], "text": "That part of the EL specification is mis-leading. The important part for this discussion is on page 21.\n\nIdentifier ::= Java language identifier\n\nJava language identifier is defined by the Java Language Specification (JLS). Tomcat correctly limits valid EL identifiers based on the rules in the JLS.", "attachment_id": null, "bug_id": 50147, "id": 141037, "time": "2010-10-26T04:54:09Z", "creator": "markt@apache.org", "creation_time": "2010-10-26T04:54:09Z", "is_private": false}, {"count": 5, "tags": [], "text": "*** Bug 51108 has been marked as a duplicate of this bug. ***", "attachment_id": null, "id": 145958, "creator": "knst.kolinko@gmail.com", "time": "2011-04-22T11:07:39Z", "bug_id": 50147, "creation_time": "2011-04-22T11:07:39Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 50147, "attachment_id": null, "is_private": false, "id": 146288, "time": "2011-05-13T01:55:07Z", "creator": "richard@kennardconsulting.com", "creation_time": "2011-05-13T01:55:07Z", "text": "Hi guys,\n\nCan I beg a little advice? I think this is the right place to ask because others who encounter this bug may have the same question.\n\nEL has always lacked some kind of 'instanceof' operator for determining the type of an Object. In the past, a common workaround for this has been to do...\n\n${foo.class.name == 'com.myapp.Person'}\n\n...or...\n\n${foo.class.simpleName == 'Person'}\n\n...these aren't the greatest from a type-safety point of view, but they are quite readable and work fine. Note they are equivalent of writing (in Java): new Foo().getClass()' not 'Foo.class' (ie. they are calling the getter, not trying to use the Java keyword 'class')\n\nHowever now that 'class' is a reserved word in EL because of (as mentioned above)...\n\nIdentifier ::= Java language identifier\n\n...such EL expressons fail to compile. What is the suggested alternative?\n\nRegards,\n\nRichard."}, {"count": 7, "tags": [], "bug_id": 50147, "attachment_id": null, "id": 146289, "time": "2011-05-13T03:33:11Z", "creator": "balusc@gmail.com", "creation_time": "2011-05-13T03:33:11Z", "is_private": false, "text": "Use the brace notation.\n\n${foo['class'].name}\n\nThe same story applies to Session#isNew() by the way.\n\n${pageContext.session['new']}"}, {"count": 8, "text": "Perfect! Thanks for that.\n\nRichard.", "bug_id": 50147, "attachment_id": null, "id": 146292, "time": "2011-05-13T04:09:23Z", "creator": "richard@kennardconsulting.com", "creation_time": "2011-05-13T04:09:23Z", "tags": [], "is_private": false}]