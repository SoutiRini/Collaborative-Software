[{"count": 0, "tags": [], "text": "2.0.53 fails to properly cache fixed text type pages. Caching of images/gifs\nseems to be OK, but normal text is failing which makes me wonder if there isn't\na deflate interaction. The end result is that the header is garbled or is\nmissing when sent to the browser resulting in raw HTML output. This has also\nbeen noticed with the delivery of stylesheets. I have reverted back to 2.0.52 at\nwork and disabled caching for everything but gifs at home.\n\nConfiguration information available upon request.", "is_private": false, "id": 70813, "creator": "bill@awmach.org", "time": "2005-02-11T05:19:22Z", "bug_id": 33512, "creation_time": "2005-02-11T05:19:22Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 33512, "attachment_id": null, "id": 71537, "time": "2005-02-25T18:07:50Z", "creator": "jorton@redhat.com", "creation_time": "2005-02-25T18:07:50Z", "is_private": false, "text": "Please do provide those config details."}, {"count": 2, "tags": [], "creator": "bill@awmach.org", "text": "Linux FC3 fully patched\n\nApache configure:\nCFLAGS=\"-O2 -march=pentium3 -mcpu=pentium3\" \\\n./configure -prefix=/usr/local/apache2 --enable-modules=\"all\" --with-mpm=worker \\\n--disable-auth-anon \\\n--disable-auth-dbm \\\n--disable-file-cache \\\n--enable-cache \\\n--enable-disk-cache \\\n--enable-mem-cache \\\n--enable-deflate \\\n--enable-rewrite \\\n--disable-cern-meta \\\n--disable-expires \\\n--disable-headers \\\n--disable-usertrack \\\n--disable-unique-id \\\n--enable-ssl \\\n--with-ssl=/usr/local/ssl \\\n--disable-dav \\\n--disable-asis \\\n--disable-vhost-alias \\\n--disable-imap \\\n--disable-userdir \\\n--enable-so\n\nSame as 2.0.52 build which works\n\nmod_perl configureperl Makefile.PL MP_AP_PREFIX=/usr/local/apache2 \\\nMP_CCOPTS=-DMP_IOBUFSIZE=16384 \\\nMP_COMPAT_1X=1 \\\nMP_USE_DSO=1 \\\nMP_INST_APACHE2=1\n\nwith 2.0.0rc4 as source. Same source with 2.0.52.\n\nmodel prefork exhibits the problem as well.\n\ncache settings:\n\nCacheEnable mem /gifs     # works - if /fixed is added which has small\nnon-changing frame files, their information gets trashed. All are under the 8k\nobject size. The gifs directory seems immune.\n\nMCacheSize 4096\nMCacheMaxObjectCount 100\nMCacheMinObjectSize 1\nMCacheMaxObjectSize 8192\n\nAddOutputFilter DEFLATE html htm would apply to the files having problems.\n\nThe work box has a different configuration, although it is also FC3, but it does\nhave the same cache/deflate operations.\n\nIf you need more information let me know.\n", "id": 71557, "time": "2005-02-26T01:06:13Z", "bug_id": 33512, "creation_time": "2005-02-26T01:06:13Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "text": "Problem still exists with 2.0.54, mod_perl 2.0.0 rc5, php 5.0.4.", "is_private": false, "bug_id": 33512, "id": 73849, "time": "2005-04-20T04:54:15Z", "creator": "bill@awmach.org", "creation_time": "2005-04-20T04:54:15Z", "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 33512, "text": "Can you please try mod_disk_cache?  Does it work correctly for you?", "id": 75834, "time": "2005-06-03T00:12:56Z", "creator": "chip@force-elite.com", "creation_time": "2005-06-03T00:12:56Z", "tags": [], "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 33512, "is_private": false, "id": 76032, "time": "2005-06-04T20:00:26Z", "creator": "bill@awmach.org", "creation_time": "2005-06-04T20:00:26Z", "tags": [], "text": "Is the mod_disk_cache suggested as an alternative or to give more info in\nsolving the problem? I have felt that memory caching - if implemented well -\nwould be a boost since Apache wouldn't have to interact with the O/S as much. If\nit has to interact with the O/S, I've felt that the O/S was probably better at\nmanaging a cache than an Apache add on. I'm willing to experiment with the\nchange to solve the problem, but won't try it as an alternative if that is what\nis being suggested."}, {"count": 6, "tags": [], "text": "mod_disk_cache is better supported, and in general, has better performance,\nsince on most operating systems, it can use sendfile() and avoid copying data.", "is_private": false, "bug_id": 33512, "id": 76033, "time": "2005-06-04T20:40:07Z", "creator": "chip@force-elite.com", "creation_time": "2005-06-04T20:40:07Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 33512, "text": "The configure file indicates sendfile is on by default if supported on the host\nO/S and can be turned off for NFS mounts.", "id": 76034, "time": "2005-06-04T21:05:53Z", "creator": "bill@awmach.org", "creation_time": "2005-06-04T21:05:53Z", "is_private": false, "attachment_id": null}]