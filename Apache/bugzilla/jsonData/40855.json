[{"count": 0, "tags": [], "bug_id": 40855, "text": "With JK 1.2.19 installed on Windows Server 2003 R2, and\ngiven the following in uriworkermap.properties:\n\n/Autoweb=perseus9010\n/Autoweb/*=perseus9010\n/autoweb=perseus9010\n/autoweb/*=perseus9010\n\nRequests are handled as follows:\n\n/Autoweb  --> tomcat --> redirect to /Autoweb/\n/Autoweb/ --> tomcat --> redirect to /Autoweb/index.html\n\nThis is operating correctly.  But:\n\n/autoweb  --> tomcat --> redirect to /autoweb/\n/autoweb/ --> IIS returns 404 (request NOT sent to tomcat)\n\nwith an explicit request to /autoweb/index.html IIS also\nreturns 404 without attempting to send the request to tomcat\nvia JK. \n\nWhat is most interesting is that reversing the uriworkermap\nentries so the /autoweb lines come first reverses the\nbehavior.  I.e. with\n\n/autoweb=perseus9010\n/autoweb/*=perseus9010\n/Autoweb=perseus9010\n/Autoweb/*=perseus9010\n\nIIS now serves /autoweb correctly but /Autoweb breaks.\n\n*************** \n\nRainer Jung replied to my posting on the user mailing list as follows:\n\nIt was not knwon (at least not to me) before your mail, but you are\nright. We changed URL case sensitivity for mod_jk 1.2.19, because URLs\nshould be case sensitive, but we missed one place.\n\nCould you please open a bug in bugzilla,\n\nhttp://issues.apache.org/bugzilla/enter_bug.cgi?product=Tomcat%205\n\nso that we can track the problem more easily? The bug applies to mod_jk\non all platforms and for all web server types. If multiple mount\npatterns are equal except for the case, only the first url pattern will\nbe made active, but with the target worker of the last pattern.\n\nHere's a workaround for your configuration:\n\n/Autoweb=perseus9010\n/Autoweb/*=perseus9010\n/autoweb|/*=perseus9010\n\nThe keys on the left side are used in a case insensitive way as a key in\na hash table. If there are multiple same keys, the first key wins and\nthe value is set to the last one.\n\nSince mod_jk 1.2.19 there is a convenience notation to combine\n/something and /something/*. You can simple write /something|/* which\ngets internally resolved as both patterns. Fortunately the hash table is\nbuild early, so that this counts as a different key. It's only a\nworkaround! We'll fix the bug for the next release.", "id": 95266, "time": "2006-10-31T13:24:14Z", "creator": "jhg@athensgroup.com", "creation_time": "2006-10-31T13:24:14Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 40855, "text": "I already opened a bugzilla by myself, because the automatic mailing of all\nissues to tomcat-dev doesn't seem to work at the moment.\n\nProblem should be fixed in revision 469665, which will be part of release 1.2.20. \n\n*** This bug has been marked as a duplicate of 40856 ***", "id": 95268, "time": "2006-10-31T14:38:06Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2006-10-31T14:38:06Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "Move a couple of fixed JK issues from resolved to closed.", "is_private": false, "id": 112416, "creation_time": "2008-01-01T17:03:44Z", "time": "2008-01-01T17:03:44Z", "creator": "rainer.jung@kippdata.de", "bug_id": 40855, "attachment_id": null}]