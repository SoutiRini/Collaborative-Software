[{"count": 0, "tags": [], "bug_id": 14019, "text": "This is the error message that i receive when a run startup.bat\nCannot find the file '-Djava.endorsed.dirs=D:\\Tomcat 4.1\\common\\endorsed' (or\none of its components). Make sure the path and file name are correct and all\nrequired libraries are available.\n\nthis is my Catalina.bat file\n\n@echo off\nif \"%OS%\" == \"Windows_NT\" setlocal\nrem ---------------------------------------------------------------------------\nrem Start/Stop Script for the CATALINA Server\nrem\nrem Environment Variable Prequisites\nrem\nrem   CATALINA_HOME   May point at your Catalina \"build\" directory.\nrem\nrem   CATALINA_BASE   (Optional) Base directory for resolving dynamic portions\nrem                   of a Catalina installation.  If not present, resolves to\nrem                   the same directory that CATALINA_HOME points to.\nrem\nrem   CATALINA_OPTS   (Optional) Java runtime options used when the \"start\",\nrem                   \"stop\", or \"run\" command is executed.\nrem\nrem   CATALINA_TMPDIR (Optional) Directory path location of temporary directory\nrem                   the JVM should use (java.io.tmpdir).  Defaults to\nrem                   %CATALINA_BASE%\\temp.\nrem\nrem   JAVA_HOME       Must point at your Java Development Kit installation.\nrem\nrem   JAVA_OPTS       (Optional) Java runtime options used when the \"start\",\nrem                   \"stop\", or \"run\" command is executed.\nrem\nrem   JSSE_HOME       (Optional) May point at your Java Secure Sockets Extension\nrem                   (JSSE) installation, whose JAR files will be added to the\nrem                   system class path used to start Tomcat.\nrem\nrem   JPDA_TRANSPORT  (Optional) JPDA transport used when the \"jpda start\"\nrem                   command is executed. The default is \"dt_shmem\".\nrem\nrem   JPDA_ADDRESS    (Optional) Java runtime options used when the \"jpda start\"\nrem                   command is executed. The default is \"jdbconn\".\nrem\nrem $Id: catalina.bat,v 1.29 2002/04/01 19:51:31 patrickl Exp $\nrem ---------------------------------------------------------------------------\n\nrem Guess CATALINA_HOME if not defined\nif not \"D:\\Tomcat 4.1\" == \"\" goto gotHome\nset CATALINA_HOME=.\nif exist \"D:\\Tomcat 4.1\\bin\\catalina.bat\" goto okHome\nset CATALINA_HOME=..\n:gotHome\nif exist \"D:\\Tomcat 4.1\\bin\\catalina.bat\" goto okHome\necho The CATALINA_HOME environment variable is not defined correctly\necho This environment variable is needed to run this program\ngoto end\n:okHome\n\nrem Get standard environment variables\nif exist \"D:\\Tomcat 4.1\\bin\\setenv.bat\" call \"D:\\Tomcat 4.1\\bin\\setenv.bat\"\n\nrem Get standard Java environment variables\nif exist \"D:\\Tomcat 4.1\\bin\\setclasspath.bat\" goto okSetclasspath\necho Cannot find D:\\Tomcat 4.1\\bin\\setclasspath.bat\necho This file is needed to run this program\ngoto end\n:okSetclasspath\nset BASEDIR=D:\\Tomcat 4.1\ncall \"D:\\Tomcat 4.1\\bin\\setclasspath.bat\"\n\nrem Add on extra jar files to CLASSPATH\nif \"%JSSE_HOME%\" == \"\" goto noJsse\nset\nCLASSPATH=%CLASSPATH%;%JSSE_HOME%\\lib\\jcert.jar;%JSSE_HOME%\\lib\\jnet.jar;%JSSE_HOME%\\lib\\jsse.jar\n:noJsse\nset CLASSPATH=%CLASSPATH%;D:\\Tomcat 4.1\\bin\\bootstrap.jar\n\nif not \"%CATALINA_BASE%\" == \"\" goto gotBase\nset CATALINA_BASE=D:\\Tomcat 4.1\n:gotBase\n\nif not \"%CATALINA_TMPDIR%\" == \"\" goto gotTmpdir\nset CATALINA_TMPDIR=%CATALINA_BASE%\\temp\n:gotTmpdir\n\nrem ----- Execute The Requested Command ---------------------------------------\n\necho Using CATALINA_BASE:   %CATALINA_BASE%\necho Using CATALINA_HOME:   D:\\Tomcat 4.1\necho Using CATALINA_TMPDIR: %CATALINA_TMPDIR%\necho Using JAVA_HOME:       C:\\jdk1.3.0_02\n\nset _EXECJAVA=%_RUNJAVA%\nset MAINCLASS=org.apache.catalina.startup.Bootstrap\nset ACTION=start\nset SECURITY_POLICY_FILE=\nset DEBUG_OPTS=\nset JPDA=\n\nif not \"\"%1\"\" == \"\"jpda\"\" goto noJpda\nset JPDA=jpda\nif not \"%JPDA_TRANSPORT%\" == \"\" goto gotJpdaTransport\nset JPDA_TRANSPORT=dt_shmem\n:gotJpdaTransport\nif not \"%JPDA_ADDRESS%\" == \"\" goto gotJpdaAddress\nset JPDA_ADDRESS=jdbconn\n:gotJpdaAddress\nshift\n:noJpda\n\nif \"\"%1\"\" == \"\"debug\"\" goto doDebug\nif \"\"%1\"\" == \"\"embedded\"\" goto doEmbedded\nif \"\"%1\"\" == \"\"run\"\" goto doRun\nif \"\"%1\"\" == \"\"start\"\" goto doStart\nif \"\"%1\"\" == \"\"stop\"\" goto doStop\n\necho Usage:  catalina ( commands ... )\necho commands:\necho   debug             Start Catalina in a debugger\necho   debug -security   Debug Catalina with a security manager\necho   embedded          Start Catalina in embedded mode\necho   jpda start        Start Catalina under JPDA debugger\necho   run               Start Catalina in the current window\necho   run -security     Start in the current window with security manager\necho   start             Start Catalina in a separate window\necho   start -security   Start in a separate window with security manager\necho   stop              Stop Catalina\ngoto end\n\n:doDebug\nshift\nset _EXECJAVA=%_RUNJDB%\nset DEBUG_OPTS=-sourcepath \"D:\\Tomcat\n4.1\\..\\..\\jakarta-tomcat-4.0\\catalina\\src\\share\"\nif not \"\"%1\"\" == \"\"-security\"\" goto execCmd\nshift\necho Using Security Manager\nset SECURITY_POLICY_FILE=%CATALINA_BASE%\\conf\\catalina.policy\ngoto execCmd\n\n:doEmbedded\nshift\nset MAINCLASS=org.apache.catalina.startup.Embedded\ngoto execCmd\n\n:doRun\nshift\nif not \"\"%1\"\" == \"\"-security\"\" goto execCmd\nshift\necho Using Security Manager\nset SECURITY_POLICY_FILE=%CATALINA_BASE%\\conf\\catalina.policy\ngoto execCmd\n\n:doStart\nshift\nif not \"%OS%\" == \"Windows_NT\" goto noTitle\nset _EXECJAVA=start \"Tomcat\" %_RUNJAVA%\ngoto gotTitle\n:noTitle\nset _EXECJAVA=start %_RUNJAVA%\n:gotTitle\nif not \"\"%1\"\" == \"\"-security\"\" goto execCmd\nshift\necho Using Security Manager\nset SECURITY_POLICY_FILE=%CATALINA_BASE%\\conf\\catalina.policy\ngoto execCmd\n\n:doStop\nshift\nset ACTION=stop\ngoto execCmd\n\n:execCmd\nrem Get remaining unshifted command line arguments and save them in the\nset CMD_LINE_ARGS=\n:setArgs\nif \"\"%1\"\"==\"\"\"\" goto doneSetArgs\nset CMD_LINE_ARGS=%CMD_LINE_ARGS% %1\nshift\ngoto setArgs\n:doneSetArgs\n\nrem Execute Java with the applicable properties\nif not \"%JPDA%\" == \"\" goto doJpda\nif not \"%SECURITY_POLICY_FILE%\" == \"\" goto doSecurity\n%_EXECJAVA% %JAVA_OPTS% %CATALINA_OPTS% %DEBUG_OPTS%\n-Djava.endorsed.dirs=\"D:\\Tomcat 4.1\\common\\endorsed\" -classpath \"%CLASSPATH%\"\n-Dcatalina.base=\"%CATALINA_BASE%\" -Dcatalina.home=\"D:\\Tomcat 4.1\"\n-Djava.io.tmpdir=\"%CATALINA_TMPDIR%\" %MAINCLASS% %CMD_LINE_ARGS% %ACTION%\ngoto end\n:doSecurity\n%_EXECJAVA% %JAVA_OPTS% %CATALINA_OPTS% %DEBUG_OPTS%\n-Djava.endorsed.dirs=\"D:\\Tomcat 4.1\\common\\endorsed\" -classpath \"%CLASSPATH%\"\n-Djava.security.manager -Djava.security.policy==\"%SECURITY_POLICY_FILE%\"\n-Dcatalina.base=\"%CATALINA_BASE%\" -Dcatalina.home=\"D:\\Tomcat 4.1\"\n-Djava.io.tmpdir=\"%CATALINA_TMPDIR%\" %MAINCLASS% %CMD_LINE_ARGS% %ACTION%\ngoto end\n:doJpda\nif not \"%SECURITY_POLICY_FILE%\" == \"\" goto doSecurityJpda\n%_EXECJAVA% %JAVA_OPTS% %CATALINA_OPTS% -Xdebug\n-Xrunjdwp:transport=%JPDA_TRANSPORT%,address=%JPDA_ADDRESS%,server=y,suspend=n\n%DEBUG_OPTS% -Djava.endorsed.dirs=\"D:\\Tomcat 4.1\\common\\endorsed\" -classpath\n\"%CLASSPATH%\" -Dcatalina.base=\"%CATALINA_BASE%\" -Dcatalina.home=\"D:\\Tomcat 4.1\"\n-Djava.io.tmpdir=\"%CATALINA_TMPDIR%\" %MAINCLASS% %CMD_LINE_ARGS% %ACTION%\ngoto end\n:doSecurityJpda\n%_EXECJAVA% %JAVA_OPTS% %CATALINA_OPTS%\n-Xrunjdwp:transport=%JPDA_TRANSPORT%,address=%JPDA_ADDRESS%,server=y,suspend=n\n%DEBUG_OPTS% -Djava.endorsed.dirs=\"D:\\Tomcat 4.1\\common\\endorsed\" -classpath\n\"%CLASSPATH%\" -Djava.security.manager\n-Djava.security.policy==\"%SECURITY_POLICY_FILE%\"\n-Dcatalina.base=\"%CATALINA_BASE%\" -Dcatalina.home=\"D:\\Tomcat 4.1\"\n-Djava.io.tmpdir=\"%CATALINA_TMPDIR%\" %MAINCLASS% %CMD_LINE_ARGS% %ACTION%\ngoto end\n\n:end\n\n\n\nI don't know what is wrong with that, can you help me please.", "id": 25280, "time": "2002-10-28T18:26:25Z", "creator": "sebastien.giguere@pwc.ca", "creation_time": "2002-10-28T18:26:25Z", "is_private": false, "attachment_id": null}, {"attachment_id": 3632, "tags": [], "bug_id": 14019, "is_private": false, "count": 1, "id": 25281, "time": "2002-10-28T18:29:58Z", "creator": "sebastien.giguere@pwc.ca", "creation_time": "2002-10-28T18:29:58Z", "text": "Created attachment 3632\nfile with problem in the setting"}, {"count": 2, "tags": [], "bug_id": 14019, "attachment_id": null, "text": "This works for me. If you are still having difficulties, may I suggest the \nfollowing:\n1. Use the file as is. It is written so you can install Tomcat pretty much \nwhere you like and it will still work.\n2. If you do need to explicitly set paths, use the environment variables. They \nare there so you do not have to edit the batch file.\n3. Post any follow up questions to the user list. Bugzilla should only be used \nto track bugs. I refer you to http://jakarta.apache.org/tomcat/bugreport.html \nfor further guidance.", "id": 43342, "time": "2003-08-26T21:59:37Z", "creator": "medthomas@ntlworld.com", "creation_time": "2003-08-26T21:59:37Z", "is_private": false}]