[{"count": 0, "tags": [], "text": "Hi.\n\nNo sure whether I've overseen something, but IMHO the Documentation should include (mainly for \"end-users\", which easily forget this) the hint that the \".htaccess\" file (and similar files) SHOULD be protected against being read by (normally) anyone.\n\nIMHO according info should go to (at least):\nhttp://httpd.apache.org/docs/2.2/howto/htaccess.html\nand\nhttp://httpd.apache.org/docs/2.2/misc/security_tips.html (in a OWN section or at least not in \"Watching your logs\")\nand perhaps also to:\nhttp://httpd.apache.org/docs/2.2/mod/core.html#accessfilename\n\n\nI found only one place where this is listed ATM:\nhttp://httpd.apache.org/docs/2.2/misc/security_tips.html#watchyourlogs\nThere the following is used:\n<Files ~ \"^\\.ht\">\nOrder allow,deny\nDeny from all\n</Files>\n\n\nAFAIU how configuration is merged this alone might be insecure, namely if anywhere \"before\" \"Statisfy\" is set to \"Any\".\n\nConsider a dir /foo/ where this is done, and a subdir /foo/bar where the .htpasswd file lays.\nNow if a user gets authenticated, he should be able to read the .htaccess/passwd (which is probably not wanted).\n\nSo may Suggest to always use:\n<FilesMatch \"^\\.ht\">\n\tSatisfy All\n\tOrder allow,deny\n\tDeny from all\n</Files>\n(As far as I read, FilesMatch is prefered over the ~ form)\nor\n<Files \".ht*\">\n\tSatisfy All\n\tOrder allow,deny\n\tDeny from all\n</Files>\nwhich should be the same (AFAIU) and even works if PCRE is not available.\n\n\nHTH,\nChris", "attachment_id": null, "id": 142147, "creator": "calestyo@scientia.net", "time": "2010-11-29T17:11:27Z", "bug_id": 50371, "creation_time": "2010-11-29T17:11:27Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 50371, "is_private": false, "id": 142245, "attachment_id": null, "creator": "i.galic@brainsware.org", "creation_time": "2010-12-01T08:16:46Z", "time": "2010-12-01T08:16:46Z", "text": "If PCRE is not available, you have entirely different problems anyway.\nNone of the *Match methods will work.\n\nWhat system do you run httpd on, that does NOT come with PCRE?!\n\nAnyway, other than that ``minor'' issue, this is probably quite reasonable."}, {"count": 2, "tags": [], "text": "Actually one should perhaps document somewhere, whether the wilcard (non-PCRE) matching is faster than PCRE.\nThus one could give a suggestion whether it's worth using non-PCRE matching if possible :D", "attachment_id": null, "id": 142246, "creator": "calestyo@scientia.net", "time": "2010-12-01T08:19:16Z", "bug_id": 50371, "creation_time": "2010-12-01T08:19:16Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 50371, "attachment_id": null, "is_private": false, "id": 142249, "time": "2010-12-01T08:56:24Z", "creator": "i.galic@brainsware.org", "creation_time": "2010-12-01T08:56:24Z", "text": "r1041011. No more PCRE!\n\nThe satisfy any stuff doesn't make sense. You're denying from all. And there's no user-based authorization, so it.. doesn't make sense."}]