[{"count": 0, "tags": [], "bug_id": 59377, "attachment_id": null, "id": 190551, "time": "2016-04-26T07:13:00Z", "creator": "275379004@qq.com", "creation_time": "2016-04-26T07:13:00Z", "is_private": false, "text": "Our server hosted in CentOS, running tomcat 6.0.44, randomly we got problems with parameter lost via POST.\n\nIn the fronted, it writes:\n\n$.post(url, {\n    templateId: some integer, non-null value,\n    data: some base64 encoded string\n}, function (result) {\n    ...\n});\n\nAnd, the server side reads\n\nString sTemplateId = controller.getParameter(\"templateId\");\n\nMost of the time, it runs OK. But randomly returns null, with a not slight probability. \n\nI search this problem over the internet, found it started ever since almost 12 year age, and yet I met it.\n\nHere's some relative talks:\nhttp://www.tek-tips.com/viewthread.cfm?qid=810751\nhttp://stackoverflow.com/questions/13560023/request-parameters-are-dropped-in-tomcat\nhttp://grokbase.com/t/tomcat/users/0933d46htg/tomcat-w-apr-data-lost-in-http-post-request\nhttp://tomcat.10.x6.nabble.com/Missing-Request-Parameters-td2018269.html"}, {"count": 1, "tags": [], "text": "Which JavaScript library do you use? $.post looks like jQuery but then all request parameters should be in 'data'. 'templateId' is something random and jQuery will just ignore it. I guess it works only in the cases when 'templateId' is also in the 'data'.", "attachment_id": null, "bug_id": 59377, "id": 190552, "time": "2016-04-26T07:17:40Z", "creator": "mgrigorov@apache.org", "creation_time": "2016-04-26T07:17:40Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 59377, "attachment_id": null, "id": 190553, "time": "2016-04-26T08:02:01Z", "creator": "275379004@qq.com", "creation_time": "2016-04-26T08:02:01Z", "is_private": false, "text": "(In reply to mgrigorov from comment #1)\n> Which JavaScript library do you use? $.post looks like jQuery but then all\n> request parameters should be in 'data'. 'templateId' is something random and\n> jQuery will just ignore it. I guess it works only in the cases when\n> 'templateId' is also in the 'data'.\n\njQuery 1.11.1\n\n$.post() is shorter wrap of $.ajax(), only $.ajax() need parameters put in field 'data'. The formal rule of $.post() looks like\n\n$.post(url, queryParams, callback, resutsDataType);\n\nthe 'data' field in my case is only a customized post parameter wish to send, no other particular syntax meaning.\n\nIt worked fine most of the time, so I believe this is not the key point.  \n\nBTW, I noticed that when the server resulted in parameter lost, the client side will appear in pending(waiting response from server) for a longer time then normal. In my case, normal time is about 1 second, and 10+ seconds if it fails."}, {"count": 3, "tags": [], "text": "Can you create a mini application that reproduces the problem?\nThis will help debugging it!\nThanks!", "attachment_id": null, "bug_id": 59377, "id": 190554, "time": "2016-04-26T08:06:56Z", "creator": "mgrigorov@apache.org", "creation_time": "2016-04-26T08:06:56Z", "is_private": false}, {"count": 4, "tags": [], "text": "(In reply to mgrigorov from comment #3)\n> Can you create a mini application that reproduces the problem?\n> This will help debugging it!\n> Thanks!\n\nOK, later, after work. Thank you~", "attachment_id": null, "bug_id": 59377, "id": 190555, "time": "2016-04-26T08:15:01Z", "creator": "275379004@qq.com", "creation_time": "2016-04-26T08:15:01Z", "is_private": false}, {"count": 5, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 190557, "time": "2016-04-26T08:51:38Z", "bug_id": 59377, "creation_time": "2016-04-26T08:51:38Z", "is_private": false, "text": "Bugzilla is not a support forum. This question belongs on the users' mailing list."}]