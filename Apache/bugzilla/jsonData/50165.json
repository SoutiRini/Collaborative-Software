[{"count": 0, "tags": [], "text": "After installing Tomcat you cannot start it manually using bootstrap.jar in the bin directory because an exception rises.\nFor example, provided that <base_dir>, <tomcat_install_dir>, <my_temp_dir> are correct directories, launching Tomcat on the command line results in:\n\nC:\\Users\\Myself>\"C:\\Program Files\\Java\\jdk\\bin\\java\" -Dcatalina.base=<base_dir> -Dcatalina.h\nome=<tomcat_install_dir> -Djava.io.tmpdir=<my_temp_dir> -jar <tomcat_install_dir>\\bin\\bootstrap.jar start\nException in thread \"main\" java.lang.NoClassDefFoundError: org/apache/juli/logging/LogFactory\n        at org.apache.catalina.startup.Bootstrap.<clinit>(Bootstrap.java:56)\nCaused by: java.lang.ClassNotFoundException: org.apache.juli.logging.LogFactory\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:307)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:248)\n        ... 1 more\nCould not find the main class: org.apache.catalina.startup.Bootstrap. Program will exit.\n\nThis is a blocker bug, especially if you want to use tomcat 7 for development and debugging from IDEs (Eclipse, etc..). \nAnyway, I discovered where the bug is and fixed it.\n\nThe solution: \nUnpacking bootstrap.jar (this is where the bug is), which is present in the direvctory <tomcat_install_dir>\\bin, \nyou discover that in the file\n/META-INF/MANIFEST.MF\nthere is this line at the end of the file:\nClass-Path: commons-daemon.jar\nHowever the commons-daemon.jar file is not present in the installation of Tomcat 7.0.4\nSo to fix the bug you just need to replace this line:\nClass-Path: commons-daemon.jar\nwith this one:\nClass-Path: tomcat-juli.jar\nthen pack again bootstrap.jar with this modified version of /META-INF/MANIFEST.MF and replace\nthe old bootstrap.jar in the bin directory of tomcat installation with the new packed one.\nProblem solved.", "attachment_id": null, "id": 141107, "creator": "antonio@compleasy.com", "time": "2010-10-27T16:40:57Z", "bug_id": 50165, "creation_time": "2010-10-27T16:40:57Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 50165, "attachment_id": null, "id": 141110, "time": "2010-10-27T17:45:02Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2010-10-27T17:45:02Z", "is_private": false, "text": "It is not a bug, it is a feature.\n\nHint: do not use -jar switch, use -classpath instead, as catalina.(sh|bat) script does.\n\n*** This bug has been marked as a duplicate of bug 49857 ***"}]