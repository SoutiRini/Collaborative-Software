[{"count": 0, "tags": [], "text": "There are some issues with the Java unit testing framework of XML Security, namely:\n\n - Most of the org.apache.* unit tests can be run via the \"AllTests\" class, but some are omitted.\n - The test configuration in build.xml runs AllTests, but also runs *Test*.java, so most of the org.apache.* unit tests are run twice.\n - Some of the tests write to System.out\n - One of the tests, IaikCoreFeaturesTest, is failing.\n\nI'll submit a patch for these issues later this week hopefully.", "is_private": false, "id": 127375, "creator": "coheigea@apache.org", "time": "2009-05-25T06:29:34Z", "bug_id": 47260, "creation_time": "2009-05-25T06:29:34Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "coheigea@apache.org", "attachment_id": 23714, "text": "Created attachment 23714\nA patch for this issue\n\n\nAttached is a patch for these issues. \n\nNamely, \"ant test\" only runs the src_unitTests\\org\\apache\\xml\\security\\test\\AllTests.java test suite, which in turn runs all of the org.apache test suites, whereas before most of these tests were run twice. I also removed a lot of the test output to System.out.\n\nI couldn't find out why one of the javax unit tests, IaikCoreFeaturesTest, was failing. I checked the 1.4.2 and 1.4.1 release tags, and the test was failing in both of these tags.", "id": 127402, "time": "2009-05-26T03:25:55Z", "bug_id": 47260, "creation_time": "2009-05-26T03:25:55Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 47260, "attachment_id": 23888, "id": 128321, "time": "2009-06-26T07:20:50Z", "creator": "coheigea@apache.org", "creation_time": "2009-06-26T07:20:50Z", "is_private": false, "text": "Created attachment 23888\nA second patch for this issue\n\n\nThis is part two of a patch for improving the unit tests.\n\nThis patch fixes the failing IaikCoreFeaturesTest. The test verifies an iaik test signature which contains a number of different references. One of the references is to the document found here:\n\nhttp://www.w3.org/TR/2000/REC-xml-20001006\n\nThe reason signature verification was failing is that this document seems to have been modified since the signature was created....specifically, it used to be:\n\n<html lang=\"EN\">\n\nbut now it has:\n\n<html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"EN\">\n\nand so the digest comparison fails. I changed the test by adding a URIDerefencer which points to a local copy of the document in \"data\" which was there previously and doesn't have the additional default namespace.\n\nColm."}, {"count": 3, "tags": [], "bug_id": 47260, "attachment_id": 23898, "id": 128382, "time": "2009-06-29T03:16:37Z", "creator": "coheigea@apache.org", "creation_time": "2009-06-29T03:16:37Z", "is_private": false, "text": "Created attachment 23898\nPatch no. 3\n\n\nPatch no. 3 for cleaning up the tests.\n\nThis patch stops the Baltimore interop test writing out bad signatures to the \"data\" directory...these particular tests are expected to fail, and we shouldn't be writing anything to a directory that isn't cleaned with ant/mvn clean."}, {"count": 4, "tags": [], "bug_id": 47260, "attachment_id": null, "id": 128635, "time": "2009-07-08T04:09:31Z", "creator": "coheigea@apache.org", "creation_time": "2009-07-08T04:09:31Z", "is_private": false, "text": "\nPatches applied.\n\nColm."}]