[{"count": 0, "tags": [], "bug_id": 37119, "attachment_id": null, "id": 81247, "time": "2005-10-17T15:45:49Z", "creator": "csisk@decaresystems.ie", "creation_time": "2005-10-17T15:45:49Z", "is_private": false, "text": "For the rootCategory definitions, whitespace characters between the log level \nand the comma before log type causes the default log level to be used (DEBUG)\n\n  >  log4j.rootCategory=INFO , FILE\n\nFor the above rootCategory definition, the logger uses DEBUG as default for the \nlog level. This is because the method \"public static Level toLevel(String sArg, \nLevel defaultLevel)\" in the org.apache.log4j.Level class does not trim the level \nstring. \n\nTherefore from the above definition of rootCatetory the string \"INFO \" is passed \nto the toLevel method. Which does not match any of the criteria in the toLevel \nmethod. A simple trim of the whitespace in the toLevel method would solve this \nissue. \n\n\n\n  /**\n     Convert the string passed as argument to a level. If the\n     conversion fails, then this method returns the value of\n     <code>defaultLevel</code>.  \n  */\n  public\n  static\n  Level toLevel(String sArg, Level defaultLevel) {                  \n    if(sArg == null)\n       return defaultLevel;\n    \n    String s = sArg.toUpperCase();\n\n    if(s.equals(\"ALL\")) return Level.ALL; \n    if(s.equals(\"DEBUG\")) return Level.DEBUG; \n    if(s.equals(\"INFO\"))  return Level.INFO;\n    if(s.equals(\"WARN\"))  return Level.WARN;  \n    if(s.equals(\"ERROR\")) return Level.ERROR;\n    if(s.equals(\"FATAL\")) return Level.FATAL;\n    if(s.equals(\"OFF\")) return Level.OFF;\n    if(s.equals(\"TRACE\")) return Level.TRACE;\n    return defaultLevel;\n  }"}, {"count": 1, "tags": [], "bug_id": 37119, "attachment_id": null, "id": 81251, "creation_time": "2005-10-17T16:27:56Z", "time": "2005-10-17T16:27:56Z", "creator": "sdeboy@iname.com", "text": "Now that we support TRACE, we should also decide if we should change the default\n(fallback) level to TRACE.", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 37119, "text": "Added a String.trim() in the implementation of OptionConverter.toLevel() which should address the issue \nin PropertyConfigurators.  Whether TRACE should be used as default if level is unrecognized is a distinct \nissue.  I think it should stick the way that it is, but if you disagree, log a new bug request.\n\nCommitted in rev 439043 and 439044 (trunk and 1.2 branch, respectively).", "count": 2, "id": 92822, "time": "2006-08-31T20:42:21Z", "creator": "carnold@apache.org", "creation_time": "2006-08-31T20:42:21Z", "is_private": false}]