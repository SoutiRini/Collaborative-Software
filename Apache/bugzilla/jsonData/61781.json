[{"count": 0, "tags": [], "bug_id": 61781, "attachment_id": null, "is_private": false, "id": 202225, "time": "2017-11-18T14:02:33Z", "creator": "lazar.kirchev@gmail.com", "creation_time": "2017-11-18T14:02:33Z", "text": "PersistentProviderRegistrations.writeProviders() throws NPE if it tries to persist a provider with null layer or app context. The NPE is caused by passing null to Writer.write(). However, it is acceptable for a Provider to have its layer and/or app context null.\n \nIt is allowed by the spec and there is logic which supports this in the AuthConfigFactoryImpl. So the layer and the app context should be treated as optional, just as the description is treated."}, {"attachment_id": null, "tags": [], "bug_id": 61781, "text": "This pull request contains a test case which illustrates the problem and a fix for it: https://github.com/apache/tomcat/pull/89", "count": 1, "id": 202226, "time": "2017-11-18T14:04:07Z", "creator": "lazar.kirchev@gmail.com", "creation_time": "2017-11-18T14:04:07Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 61781, "attachment_id": null, "id": 202281, "time": "2017-11-20T18:17:14Z", "creator": "markt@apache.org", "creation_time": "2017-11-20T18:17:14Z", "is_private": false, "text": "Again, many thanks.\n\nFixed in:\n- trunk for 9.0.2 onwards\n- 8.5.x for 8.5.24 onwards"}]