[{"count": 0, "tags": [], "bug_id": 13144, "is_private": false, "text": "There are already some bug reports about // comments in scriplets in the bug\ndatabase. Here is another one that is really dangerous, because jasper compiles\nthose JSPs without complaining, but the generated Java source doesn't work as\nexpected. See my simplified example:\n\npart of a JSP:\n\n<%  if (msg.send(user))\n    { // ok %>\n        Message sent.<br>\n        <br>\n\t<html:a href='index.jsp'>Ok</a><br><%\n    } %>\n\nthe following Java source is generated:\n\n    if (msg.send(user))\n    { // ok       out.write(\"\\n        Message sent.\");\n      out.write(\"<br>\\n        \");\n      out.write(\"<br>\\n\\t\");\n    [...]\n\nThat means that the text \"Message sent.\" is not printed on the HTML-Page. This\nis really a source for a lot of more serious problems.\nThis example used to work in tomcat 4.0 with 4.1.10 it doesn't. Is this problem\nalready fixed in a develeoper release?", "id": 23651, "time": "2002-09-30T17:06:59Z", "creator": "boris@folgmann.de", "creation_time": "2002-09-30T17:06:59Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "kin-man.chung@sun.com", "text": "\n\n*** This bug has been marked as a duplicate of 13107 ***", "id": 23655, "time": "2002-09-30T17:45:57Z", "bug_id": 13144, "creation_time": "2002-09-30T17:45:57Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "Kin,\n\nplease look at my example. There's a linefeed after the %> and it's really not\nobvious to the general JSP developer that this is not okay. This is not an exact\nduplicate of 13107 which has absolutely no linefeed.\nI could follow the spec and rewrite all my JSPs but if you don't fix that, you\nwill break thousands of pages worldwide when ISPs upgrade from tomcat 4.0 to\n4.1. Even worse nobody will get an error message from Jasper but all their JSPs\nwill stop to work properly. \n\nAnother point: if a // single line comment only ends with an linefeed why isn't\nthe %> commented out, therefore letting the preprocssor regard the HTML code as\na continuation of the scriptlet?", "is_private": false, "bug_id": 13144, "id": 23661, "time": "2002-09-30T18:12:35Z", "creator": "boris@folgmann.de", "creation_time": "2002-09-30T18:12:35Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "boris@folgmann.de", "attachment_id": null, "id": 23666, "time": "2002-09-30T18:45:34Z", "bug_id": 13144, "creation_time": "2002-09-30T18:45:34Z", "is_private": false, "text": "Regarding the spec of JSP 1.2:\n\nIn the example on page 69 of the PDF the same construction that I used is used\nin an example:\n...\n<% } // close the block %>\n...\n\n"}, {"count": 4, "tags": [], "text": "Fix in TC 4.1.x and 5.", "attachment_id": null, "bug_id": 13144, "id": 23856, "time": "2002-10-03T19:46:50Z", "creator": "kin-man.chung@sun.com", "creation_time": "2002-10-03T19:46:50Z", "is_private": false}, {"count": 5, "tags": [], "text": "*** Bug 10267 has been marked as a duplicate of this bug. ***", "is_private": false, "bug_id": 13144, "id": 23858, "time": "2002-10-03T19:50:13Z", "creator": "kin-man.chung@sun.com", "creation_time": "2002-10-03T19:50:13Z", "attachment_id": null}, {"text": "*** Bug 13004 has been marked as a duplicate of this bug. ***", "tags": [], "bug_id": 13144, "attachment_id": null, "count": 6, "id": 23861, "time": "2002-10-03T19:56:48Z", "creator": "kin-man.chung@sun.com", "creation_time": "2002-10-03T19:56:48Z", "is_private": false}, {"count": 7, "tags": [], "text": "*** Bug 13576 has been marked as a duplicate of this bug. ***", "is_private": false, "bug_id": 13144, "id": 24433, "time": "2002-10-13T21:47:49Z", "creator": "kin-man.chung@sun.com", "creation_time": "2002-10-13T21:47:49Z", "attachment_id": null}]