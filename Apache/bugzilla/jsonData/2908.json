[{"count": 0, "tags": [], "creator": "ken.grigg@amikanow.com", "attachment_id": null, "is_private": false, "id": 4162, "time": "2001-07-30T17:56:02Z", "bug_id": 2908, "creation_time": "2001-07-30T17:56:02Z", "text": "I am running Tomcat 3.2.3 on NT4/IIS4 with the Jikes 1.13 compiler\nwith Sun's JRE for Java 2, Version 1.3.0, and noticed if the server\nis reset (i.e. power glitch) without a normal shutdown, Tomcat\ncomes back up but non-operational. The symptoms are that the JSPs\ncan't be accessed until the class files from the previous run are\ndeleted from the work directory.\n\nThe log I get is:\n2001-07-26 11:33:06 - Ctx( /admin ): JasperException: R( /admin +\n/contextAdmin/contextAdmin.jsp + null) Unable to compile class for JSP\n\nThe beginning of the root cause trace is:\njava.lang.ArrayIndexOutOfBoundsException\n        at\norg.apache.jasper.compiler.ClassName.processClassData(ClassName.java:89)\n        at\norg.apache.jasper.compiler.ClassName.getClassName(ClassName.java:191)\n        at\norg.apache.jasper.compiler.JspCompiler.getRealClassName(JspCompiler.java:136\n)\n\nI was concerned it might be something to do with Jikes, but\nthere is no problem when I manually recompile the .java source\nthat Tomcat creates but can't compile. I thought it might be\na corrupted or locked class file, but they are all effected\nand they appear to be normal.\n\nI can fix this with a startup script that deletes the class\nfiles, but I assume if this is a real problem someone would\nhave logged it at least (and I don't like patchy solutions!)\n\nI couldn't find any discussion on this problem in the archives\nor the web, except for the possibly related discussion at:\n\nhttp://www.javaclue.org/tomcat/patch32b6/letspatch.html#step5\n\nI was surprised to see that this patch (against 3.2.1) hadn't\nbeen applied to 3.2.3, but it didn't work for me anyway.\n\nWithout a power glitch everything works great."}, {"count": 1, "text": "The class mangler has been rewritten in 3.3, this problem should be resolved.\n", "bug_id": 2908, "attachment_id": null, "id": 4846, "time": "2001-08-25T11:28:58Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-08-25T11:28:58Z", "tags": [], "is_private": false}]