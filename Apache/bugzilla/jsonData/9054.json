[{"count": 0, "text": "I found that currently FOP outputs wrong pdf texts.\n\n\n--- Sample fo -------------------------------------------\n<fo:root xmlns:fo=\"http://www.w3.org/1999/XSL/Format\">\n<fo:layout-master-set>\n<fo:simple-page-master master-name=\"one\">\n<fo:region-body margin-top=\"50pt\" margin-bottom=\"50pt\" margin-left=\"100pt\"\nmargin-right=\"100pt\"/>\n</fo:simple-page-master>\n</fo:layout-master-set>\n<fo:page-sequence master-reference=\"one\">\n<fo:flow flow-name=\"xsl-region-body\">\n<fo:block>A Block</fo:block>\n</fo:flow>\n</fo:page-sequence>\n</fo:root>\n--- End of sample fo ------------------------------------\n\n\nThe above simple fo is converted to the below pdf texts.\n\n\nBT\n/F1 12 Tf\n0 g\n0.0 Tc\n1 0 0 1 100.0 732.184 Tm [(A) 0.0 Tc\n-278.0 (Block) ] TJ\nET\n\n\nI think that Tc operator may not be included in TJ operator.\nSo, FOP should outputs below pdf texts.\n\n\nBT\n/F1 12 Tf\n0 g\n0.0 Tc\n1 0 0 1 100.0 732.184 Tm [(A) -278.0 (Block) ] TJ\nET\n\n\nBecause of this problem, the TouchUp function of Adobe Acrobat4/5\ncould not work. The same problem is posted at fop-user ML.\n\nSubject:  TouchUp of Acrobat 4.0\nFrom:     \"Philippe Pithon\" <ppithon@sigal.fr>\nDate:     2002-04-23 10:06:56\nhttp://marc.theaimsgroup.com/?l=fop-user&m=101955606713102&w=2\n\n\nI investigated from when this problem is awake. The cause is\nthe below commits for PDFRenderer for FOP-0.20.3 maintenance\nrelease.\n\n\nSubject:  cvs commit: xml-fop/src/org/apache/fop/render/ps PSRenderer.java\nPSStream.java\nFrom:     tore@apache.org\nDate:     2001-12-02 22:17:30\nhttp://marc.theaimsgroup.com/?l=fop-cvs&m=100733236908296&w=2\n\n  RCS file: /home/cvs/xml-fop/src/org/apache/fop/render/pdf/PDFRenderer.java,v\n  retrieving revision 1.91\n  retrieving revision 1.91.2.1\n  diff -u -r1.91 -r1.91.2.1\n  --- PDFRenderer.java\t2001/09/26 12:00:42\t1.91\n  +++ PDFRenderer.java\t2001/12/02 22:17:30\t1.91.2.1\n  @@ -548,6 +548,10 @@\n               addWordLines(area, rx, bl, size, areaColor);\n   \n   \n  +            // Set letterSpacing\n  +            float ls = area.getFontState().getLetterSpacing() /\nthis.currentFontSize;\n  +            pdf.append(ls).append(\" Tc\\n\");\n  +\n               if (!textOpen || bl != prevWordY) {\n                   closeText();\n\n\nProbably, the above code comes from the support for\nletter-spacing.\n\nSubject:  patch: added support for letter-spacing\nFrom:     Raymond Penners <raymond@duologix.nl>\nDate:     2001-11-29 14:59:18\nhttp://marc.theaimsgroup.com/?l=fop-dev&m=100704585605951&w=2\n\n\nRegards.", "bug_id": 9054, "attachment_id": null, "id": 16045, "time": "2002-05-14T00:37:14Z", "creator": "ishigami@victokai.co.jp", "creation_time": "2002-05-14T00:37:14Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "jeremias.maerki@outline.ch", "attachment_id": null, "is_private": false, "id": 17421, "time": "2002-06-07T20:17:52Z", "bug_id": 9054, "creation_time": "2002-06-07T20:17:52Z", "text": "This is now fixed in CVS (I hope). TouchUp in Acrobat 4.05 works. Please test \nwith your other tools and provide feedback."}, {"count": 2, "tags": [], "text": "Can you some one explain me how to solve this problem. where i need change my \ncode?\n", "is_private": false, "bug_id": 9054, "id": 76726, "time": "2005-06-27T09:43:50Z", "creator": "dn_urs@yahoo.com", "creation_time": "2005-06-27T09:43:50Z", "attachment_id": null}, {"count": 3, "text": "(In reply to comment #1)\n> This is now fixed in CVS (I hope). TouchUp in Acrobat 4.05 works. Please test \n> with your other tools and provide feedback.\n\nCan you provide a link to your commit?\nSo I'll can patch my FOP0.20.3. I cannot upgrade to 0.20.4 or 0.20.5 because all\nmy XSLFO need to be upgraded also to get the same result.", "bug_id": 9054, "is_private": false, "id": 85580, "time": "2006-02-08T10:01:38Z", "creator": "fguiliani@perinfo.com", "creation_time": "2006-02-08T10:01:38Z", "tags": [], "attachment_id": null}, {"count": 4, "tags": [], "text": "Created attachment 17626\nFixed patch for 0.20.3\n\nThis patch fix the problem for 0.20.3", "attachment_id": 17626, "bug_id": 9054, "id": 85629, "time": "2006-02-09T12:37:56Z", "creator": "fguiliani@perinfo.com", "creation_time": "2006-02-09T12:37:56Z", "is_private": false}, {"count": 5, "tags": [], "creator": "pascal.sancho@takoma.fr", "attachment_id": null, "id": 109611, "time": "2007-10-23T07:26:45Z", "bug_id": 9054, "creation_time": "2007-10-23T07:26:45Z", "is_private": false, "text": "Bug fixed in latest Trunk (rev 584703), and probably in all FOP 0.9x (read other\ncomments)"}, {"count": 6, "tags": [], "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "attachment_id": null, "bug_id": 9054, "id": 155996, "time": "2012-04-01T06:52:06Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T06:52:06Z", "is_private": false}]