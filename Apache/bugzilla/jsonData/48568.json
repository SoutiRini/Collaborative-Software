[{"count": 0, "tags": [], "bug_id": 48568, "is_private": false, "text": "Created attachment 24855\nPatch against trunk\n\nWe noticed two bugs when using the AjpSampler in combination with CookieManager:\n\nA) The cookie header is formatted incorrect and therefore not accepted by the application\n\nB) The cookie information is not passed along to the HTTPSampleResult\n\nProblem A) comes from formatting the cookie via getStringValue(), which returns something like a tab formatted list of the Cookie attributes. You can use a simple JSP or Servlet containing\n\nString cookie=request.getHeader(\"Cookie\");\nif (cookie != null) {\n    out.println(\"Cookie: \" + cookie);\n}\n\nto verify this. The fix consists in using an actual Cookie object instead of a generic JMeterProperty and then retrieving Cookie name and value via getName() and getValue().\n\nProblem B) is fixed by calling res.setCookies().\n\nSee the atahced patches.\n\nThanks for the great Apache JMeter software!", "id": 133686, "time": "2010-01-18T10:03:11Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2010-01-18T10:03:11Z", "attachment_id": 24855}, {"count": 1, "tags": [], "bug_id": 48568, "is_private": false, "text": "Created attachment 24856\nPatch against 2.3.4", "id": 133687, "time": "2010-01-18T10:04:02Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2010-01-18T10:04:02Z", "attachment_id": 24856}, {"count": 2, "attachment_id": null, "creator": "sebb@apache.org", "is_private": false, "id": 133688, "time": "2010-01-18T17:19:01Z", "bug_id": 48568, "creation_time": "2010-01-18T17:19:01Z", "tags": [], "text": "Good catch, thanks!\n\n\nURL: http://svn.apache.org/viewvc?rev=900635&view=rev\nLog:\nBug 48568 - CookieManager broken for AjpSampler"}]