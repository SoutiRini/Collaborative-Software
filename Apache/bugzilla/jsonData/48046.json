[{"count": 0, "tags": [], "text": "/**\n         * Get the first object out of the queue, Return null if the queue\n         * is empty.\n         */\n        public Worker peek() {\n            return workers[end];\n        }\n\n\nshould be:\n        \n         /**\n         * Get the first object out of the queue, Return null if the queue\n         * is empty.\n         */\n        public Worker peek() {\n            if (end > 0) {\n                return workers[end - 1];\n            }\n            return null;\n        }\n\nplease refer to the pop() method:\n\n        /**\n         * Get the first object out of the queue. Return null if the queue\n         * is empty. \n         */\n        public Worker pop() {\n            if (end > 0) {\n                return workers[--end];\n            }\n            return null;\n        }\n\nThough obviously wrong, the peek() method has not been invoked in the whole source code base of Tomcat. But what if future version makes use of peek() method?? So, please correct it. It is so easy.", "is_private": false, "bug_id": 48046, "id": 131353, "time": "2009-10-24T02:48:10Z", "creator": "qingyang.xu@qunar.com", "creation_time": "2009-10-24T02:48:10Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 48046, "text": "\n\n*** This bug has been marked as a duplicate of bug 48060 ***", "id": 131400, "time": "2009-10-26T17:39:14Z", "creator": "qingyang.xu@qunar.com", "creation_time": "2009-10-26T17:39:14Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 48046, "text": "This doesn't occur in trunk.(tomcat 7) JIoEndpoint was refactored to not have this issue. Going to mark as WONTFIX unless someone really wants to fix this 6.0", "id": 131747, "time": "2009-11-05T13:51:33Z", "creator": "funkman@apache.org", "creation_time": "2009-11-05T13:51:33Z", "is_private": false, "attachment_id": null}]