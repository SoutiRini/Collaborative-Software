[{"count": 0, "tags": [], "bug_id": 7356, "attachment_id": null, "text": "For some reason, when trying to use Custom JSP Tag libraries with Tomcat 4.0.3 \nJasper throws a CompileException complaining that the setter for the attribute \nnamed 'returns' cannot be found. \n\nThe error does not occur in Tomcat 4.0, it used to compile and work properly on \nthat version. \n\nThe JSP page calls the tag as follows: \n\n<PC:SQLForEach returns=\"true\" sql=\"SELECT Name FROM CHARACTERISTICS\" \nconnection=\"charconnection\">\n   //content\n</PC:SQLForEach>\n\nThe section of the TLD that defines the tag is:\n\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?>\n<!DOCTYPE taglib\n  PUBLIC \"-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN\"\n  \"http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_2.dtd\">\n<taglib>\n       <!-- some stuff -->\n\t<tag>\n\t\t<name>SQLForEach</name>\n\t\t<tag-class>jsptags.SQLForEach</tag-class>\t\t\n\t\t<body-content>JSP</body-content>\t\n\t\t<description>\n                       some description here\n\t\t</description>\n\t\t<attribute>\n\t\t\t<name>returns</name>\n\t\t\t<required>false</required>\n\t\t\t<rtexprvalue>true</rtexprvalue>\t\t\t\n\t\t</attribute>\n\t\t<attribute>\n\t\t\t<name>sql</name>\n\t\t\t<required>true</required>\n\t\t\t<rtexprvalue>true</rtexprvalue>\t\t\t\t\n\t\t</attribute>\n\t\t<attribute>\n\t\t\t<name>connection</name>\n\t\t\t<required>true</required>\n\t\t\t<rtexprvalue>true</rtexprvalue>\n\t\t</attribute>\t\t\t\n\t\t<attribute>\n\t\t\t<name>maxCount</name>\n\t\t\t<required>false</required>\n\t\t\t<rtexprvalue>true</rtexprvalue>\n\t\t</attribute>\t\n\t\t<attribute>\n\t\t\t<name>minCount</name>\n\t\t\t<required>false</required>\n\t\t\t<rtexprvalue>true</rtexprvalue>\n\t\t</attribute>\t\t\n\t</tag>\n<!-- some stuff -->\n</taglib>\n\nThe tag in question, SQLForEach, contains the methods:\n\npublic void setReturns(boolean b)\n{\n //code\n}\n\npublic boolean getReturns()\n{\n  //code \n}\n\nThe error has been replicated in Tomcat 4.0.3 on Linux Mandrake 7.0 (Intel \nPentium II, 64MB RAM), Win98 (Intel Pentium2 233, 64MB RAM) and Win2K (AMD \nDuron 600, 128MB RAM). \n\nIncluded is the url of a JSP page that uses the tag. \n\nThe stack trace is: \norg.apache.jasper.compiler.CompileException: /editall.jsp(34,0) Unable to find \nsetter method for attribute: returns\n\tat org.apache.jasper.compiler.TagBeginGenerator.generateSetters\n(TagBeginGenerator.java:214)\n\tat \norg.apache.jasper.compiler.TagBeginGenerator.generateServiceMethodStatements\n(TagBeginGenerator.java:332)\n\tat org.apache.jasper.compiler.TagBeginGenerator.generate\n(TagBeginGenerator.java:394)\n\tat \norg.apache.jasper.compiler.JspParseEventListener$GeneratorWrapper.generate\n(JspParseEventListener.java:834)\n\tat org.apache.jasper.compiler.JspParseEventListener.generateAll\n(JspParseEventListener.java:241)\n\tat org.apache.jasper.compiler.JspParseEventListener.endPageProcessing\n(JspParseEventListener.java:197)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:215)\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:552)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:177)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:189)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:382)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:474)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:190)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2343)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:468)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:1012)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1107)\n\tat java.lang.Thread.run(Thread.java:536)", "id": 12169, "time": "2002-03-22T05:56:03Z", "creator": "mgonza30@fiu.edu", "creation_time": "2002-03-22T05:56:03Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 7356, "text": "There's nothing special about \"returns\", and it works for me in a small test\ncase I tried.  Reopen this bug if you can attacah a .war file that demonstrates\nthis bug.\n\nCan you also try the nightly build to see if it also fails?", "id": 12515, "time": "2002-03-29T23:07:43Z", "creator": "kin-man.chung@sun.com", "creation_time": "2002-03-29T23:07:43Z", "tags": [], "is_private": false}]