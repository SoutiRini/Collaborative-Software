[{"count": 0, "tags": [], "bug_id": 56231, "attachment_id": null, "text": "Redirect location processing should all be handled in the shared method HTTPSamplerBase#followRedirects(), rather than in individual samplers.\n\nThe location processing code thus needs to be removed from the HC3 and HC4 samplers, which should just store the location header for subsequent processing by the method HTTPSamplerBase#followRedirects() (as is done by the Java and Soap samplers).\n\nSince it was found necessary to add location fixups to the HC3/HC4 samplers, this must mean that the existing processing in the followRedirects() method was incomplete. The next stage is to document the bug ids that drove changes to HC3/HC4 and see how to integrate fixes for these in followRedirects().\n\nTo be continued.", "id": 173682, "time": "2014-03-07T11:46:59Z", "creator": "sebb@apache.org", "creation_time": "2014-03-07T11:46:59Z", "is_private": false}, {"count": 1, "tags": [], "text": "Related fixed bugs:\n\nBug 54482 - HC fails to follow redirects with non-encoded chars\n\nBug 55717 - Bad handling of Redirect when URLs are in relative format by HttpClient4 and HttpClient31\n\nRelated unfixed bugs:\nBug 56207 - URLs get encoded on redirects in HC3.1 & HC4 samplers", "is_private": false, "bug_id": 56231, "id": 173693, "time": "2014-03-07T18:12:35Z", "creator": "sebb@apache.org", "creation_time": "2014-03-07T18:12:35Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 56231, "text": "The Location header value seems to be unencoded, so needs to be encoded before use by samplers.\n\nThis is quite easy using the java.net.URI class.\n\nUnfortunately HC3.1 does its own parsing, and this is too strict: e.g. it does not allow [] in query strings. As HC3.1 has been EOL for some while now there seems little point in applying a special fix for it.", "id": 173753, "time": "2014-03-12T00:09:03Z", "creator": "sebb@apache.org", "creation_time": "2014-03-12T00:09:03Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "URL: http://svn.apache.org/r1578188\nLog:\nMove redirect location processing from HC3/HC4 samplers to HTTPSamplerBase#followRedirects()\nBugzilla Id: 56231\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPHC3Impl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPHC4Impl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSamplerBase.java\n    jmeter/trunk/xdocs/changes.xml", "id": 173865, "time": "2014-03-17T00:51:04Z", "bug_id": 56231, "creation_time": "2014-03-17T00:51:04Z", "is_private": false}]