[{"count": 0, "tags": [], "creator": "cehjohnson@aol.com", "attachment_id": null, "text": "Xerces_1_4_4\n\nAfter serializing a document that validates at the w3 xhtml validator, the \ndocument no longer validates, as the name of the doctype has been changed to upper case \n(!DOCTYPE html becomes !DOCTYPE HTML).\n\nThis can be demonstrated by using the following code \nwith the url http://www.cehjohnson.uklinux.net/Templates/reviewX.dwt as the source for \nthe document:\n\n/**\n\t * Serialize an xhtml document to file\n\t *\n\t * @param  doc       The document to \nserialize\n\t * @param  filename  The file to serialize to\n\t */\n\tpublic static void \nserializeXhtml(Document doc, String filename) \n{\n\t\torg.apache.xml.serialize.XHTMLSerializer xs = \nnull;\n\t\torg.apache.xml.serialize.OutputFormat of = null;\n\t\ttry {\n\t\t\tof = new \norg.apache.xml.serialize.OutputFormat(doc);\n\t\t\t//DEBUG let's have a look at the Doctype \nbefore it's serialized!\n\t\t\tSystem.out.print(\"Name of the doctype (\" + doc.hashCode() + \") \nBEFORE serialization is: \n\");\n\t\t\tSystem.out.println(doc.getDoctype().getName());\n\t\t\t// This seems OK (!DOCTYPE \nhtml) - so the DOCTYPE *must* be being mangled during serialization\n\t\t\tjava.io.FileWriter \nout = new java.io.FileWriter(filename);\n\t\t\txs = new \norg.apache.xml.serialize.XHTMLSerializer(out, of);\n\t\t\txs.serialize(doc);\n\t\t} catch \n(Exception e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}", "id": 20138, "time": "2002-07-24T17:09:57Z", "bug_id": 11136, "creation_time": "2002-07-24T17:09:57Z", "is_private": false}, {"count": 1, "tags": [], "creator": "neilg@ca.ibm.com", "text": "If this involves Xerces_1_4_4, then let's put it in that component.", "id": 22398, "time": "2002-09-06T22:41:55Z", "bug_id": 11136, "creation_time": "2002-09-06T22:41:55Z", "is_private": false, "attachment_id": null}]