[{"count": 0, "tags": [], "text": "Using ant 1.6.5 I ran into the fileset ClassCastException problem that has been\nfixed in 1.7.0. While running the same application I experience a\nStackOverflowError at a much eariler point in the processing. I believe the fix\nmay have contributed to this! The stack overflow is:-\n\n\njava.lang.StackOverflowError\n        at\norg.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:541)\n        at\norg.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:394)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n        at sun.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at\norg.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at org.apache.tools.ant.Target.execute(Target.java:357)\n        at org.apache.tools.ant.Target.performTasks(Target.java:385)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1298)\n        at\norg.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1181)\n        at org.apache.tools.ant.Main.runBuild(Main.java:698)\n        at org.apache.tools.ant.Main.startAnt(Main.java:199)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\nCaused by: c:\\dev\\Installer3.4\\ecps\\ecp-toolkit-lib.xml:330: The following error\noccurred while executing\nc:\\dev\\Installer3.4\\ecps\\ecp-utils-lib.xml:684: java.lang.StackOverflowError\n        at\norg.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:541)\n        at\norg.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:394)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n        at sun.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at\norg.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:62)\n        at net.sf.antcontrib.logic.IfTask.execute(IfTask.java:197)\n        at sun.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at\norg.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.TaskAdapter.execute(TaskAdapter.java:134)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n        at sun.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at\norg.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:62)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n        at sun.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at\norg.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at\norg.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:391)\n        ... 16 more\nCaused by: c:\\dev\\Installer3.4\\ecps\\ecp-utils-lib.xml:684:\njava.lang.StackOverflowError\n        at\norg.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:115)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:62)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n        at sun.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at\norg.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at\norg.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:391)\n        ... 43 more\nCaused by: java.lang.StackOverflowError\n--- Nested Exception ---\nc:\\dev\\Installer3.4\\ecps\\ecp-toolkit-lib.xml:330: The following error occurred\nwhile executing this line:\nc:\\dev\\Installer3.4\\ecps\\ecp-utils-lib.xml:684: java.lang.StackOverflowError\n        at\norg.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:541)\n        at\norg.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:394)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n        at sun.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at\norg.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:62)\n        at net.sf.antcontrib.logic.IfTask.execute(IfTask.java:197)\n        at sun.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at\norg.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.TaskAdapter.execute(TaskAdapter.java:134)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n        at sun.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at\norg.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:62)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n        at sun.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at\norg.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:348)", "is_private": false, "id": 104325, "creator": "paul.savage@amdocs.com", "time": "2007-06-12T01:09:17Z", "bug_id": 42640, "creation_time": "2007-06-12T01:09:17Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 42640, "attachment_id": null, "is_private": false, "id": 104326, "time": "2007-06-12T01:13:23Z", "creator": "paul.savage@amdocs.com", "creation_time": "2007-06-12T01:13:23Z", "text": "The bug file id for the 1.6.5 fileset ClassClastException is 40238."}, {"count": 2, "tags": [], "text": "A stack overflow exception is normally due to a\nmacro calling itself recursively, see if you can\nget the smallest build file(s) that shows\nthe problem.\n", "attachment_id": null, "id": 104333, "creator": "peterreilly@apache.org", "time": "2007-06-12T03:45:41Z", "bug_id": 42640, "creation_time": "2007-06-12T03:45:41Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 42640, "text": "ping", "id": 104724, "time": "2007-06-26T09:47:12Z", "creator": "peterreilly@apache.org", "creation_time": "2007-06-26T09:47:12Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 42640, "text": "Created attachment 20777\nA build file that demonstrates the bug\n\nI've run into this issue as well. I've attached a sample build.xml that\ndemonstrates the issue with the default target.\n\nThis build file works with \"Apache Ant version 1.6.5 compiled on June 2 2005\"\nand fails with \"Apache Ant version 1.7.0 compiled on December 13 2006\"", "id": 107784, "time": "2007-09-06T12:37:06Z", "creator": "eric.dalquist@doit.wisc.edu", "creation_time": "2007-09-06T12:37:06Z", "is_private": false, "attachment_id": 20777}, {"count": 5, "tags": [], "bug_id": 42640, "text": "Many thanks for the build file.\nI have a fix for the problem that is in it, however\nI do not think that it is the same issue as the\noriginal report - the stackoverflowerror is from\na different place.\n\nCan you open a new bug report and I will\nmark that one fixed - (when I complete the tests\nand get on my svn machine).\n", "id": 107789, "attachment_id": null, "creator": "peterreilly@apache.org", "creation_time": "2007-09-06T15:34:07Z", "time": "2007-09-06T15:34:07Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 42640, "text": "I've opened bug http://issues.apache.org/bugzilla/show_bug.cgi?id=43324 to\naddress the issue I brought up here.", "id": 107792, "attachment_id": null, "creator": "eric.dalquist@doit.wisc.edu", "creation_time": "2007-09-06T16:05:17Z", "time": "2007-09-06T16:05:17Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 42640, "attachment_id": null, "is_private": false, "id": 107820, "time": "2007-09-07T03:58:06Z", "creator": "peterreilly@apache.org", "creation_time": "2007-09-07T03:58:06Z", "text": "Hi paul, is it possible that you can submit the build\nfile that causes the problem. Based on the stacktrace,\nit looks like the macro a (ecp-toolkit-lib.xml:330) is\ncalling another macro (cp-utils-lib.xml:684) which is\ncalling back to the first macro: (ecp-toolkit-lib.xml:330),\nbut I could be wrong."}, {"count": 8, "tags": [], "bug_id": 42640, "text": "without further information I'll assume it has been the same bug despite the different stacktrace\n\n*** This bug has been marked as a duplicate of bug 43324 ***", "id": 121967, "time": "2008-10-28T10:03:01Z", "creator": "bodewig@apache.org", "creation_time": "2008-10-28T10:03:01Z", "is_private": false, "attachment_id": null}]