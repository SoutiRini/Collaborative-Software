[{"attachment_id": null, "tags": [], "creator": "whaefelinger@epo.org", "text": "Property expansion takes place when using <property> tag. Property expansion\ndoes NOT take place using command line option -propertyfile. This problem has\nbeen reported, amongst other things, as bug #18732. Comments added to #18732\nindicate that this anoying behaviour of ANT is not a bug but a feature. \n\nFEATURE ENHANCEMENT REQUEST:\nANT's behaviour regarding expansion of properties should be \n a. clearly documented\n b. consistent\n\nEXAMPLE:\n== build.xml ==\n<project [..] default=\"default\">\n <property file=\"${config}\"/>\n <target name=\"default\"><echo>src.dir=${src.dir}</echo></target>\n</project>\n\n== build.properties ==\nroot.dir = .\nsrc.dir  = ${root.dir}/src\n\nHere are three example session to demonstrate how ANT behaves now. I simplified\nthe output a bit:\n\n$ ant \nsrc.dir=${src.dir}          # expected output \n\n$ ant -propertyfile build.properties\nsrc.dir=${root.dir}/src     # unexpected, root.dir has not been expanded.\n\n$ ant -Dconfig=build.properties\nsrc.dir=./src               # expansion takes place when using property tag.\n\nJust to clarify. This is how ANT  s h o u l d   behave:\n\n$ ant -propertyfile build.properties\nsrc.dir=./src\n\nThis should also work (of course):\n$ ant -Droot.dir=. -Dsrc.dir=${root.dir}/src     # Footnote 1.\nsrc.dir=./src\n\n \nFootnotes:\n1. The example shown assumes that no shell variable expansion takes\n    place. Windows user may safely ignore this remark.", "count": 0, "id": 7495, "time": "2005-03-23T11:26:27Z", "bug_id": 34144, "creation_time": "2005-03-23T11:26:27Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 34144, "is_private": false, "id": 72859, "time": "2005-03-25T17:27:33Z", "creator": "peterreilly@apache.org", "creation_time": "2005-03-25T17:27:33Z", "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of 18732 ***"}]