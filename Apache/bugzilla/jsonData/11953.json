[{"count": 0, "tags": [], "bug_id": 11953, "attachment_id": null, "is_private": false, "id": 21565, "time": "2002-08-23T00:30:05Z", "creator": "gregw@mortbay.org", "creation_time": "2002-08-23T00:30:05Z", "text": "If a relative scratchdir is specified, then a JSP is generated, compiled but\ncan't be loaded.  You get the exception:\n\njava.lang.ClassNotFoundException: org.apache.jsp.snoop_jsp\n\tat org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:209)\n\tat org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:131)\n\tat org.apache.jasper.JspCompilationContext.load(JspCompilationContext.java:505)\n\tat org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:144)\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:187)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:289)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:356)\n\tat\norg.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:285)\n\tat org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:216)\n\tat org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:151)\n\tat org.mortbay.servlet.RequestDispatchTest.doGet(RequestDispatchTest.java:129)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:356)\n\tat\norg.mortbay.jetty.servlet.WebApplicationHandler$Chain.doFilter(WebApplicationHandler.java:333)\n\tat org.mortbay.webapps.jetty.DemoFilter.doFilter(DemoFilter.java:34)\n\tat\norg.mortbay.jetty.servlet.WebApplicationHandler$Chain.doFilter(WebApplicationHandler.java:325)\n\tat\norg.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:277)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:553)\n\tat org.mortbay.http.HttpContext.handle(HttpContext.java:1648)\n\tat\norg.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:546)\n\tat org.mortbay.http.HttpContext.handle(HttpContext.java:1598)\n\tat org.mortbay.http.HttpServer.service(HttpServer.java:872)\n\tat org.mortbay.http.HttpConnection.service(HttpConnection.java:785)\n\tat org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:942)\n\tat org.mortbay.http.HttpConnection.handle(HttpConnection.java:800)\n\tat org.mortbay.http.SocketListener.handleConnection(SocketListener.java:200)\n\tat org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:294)\n\tat org.mortbay.util.ThreadPool$JobRunner.run(ThreadPool.java:741)\n\tat java.lang.Thread.run(Thread.java:536)\n\nAn absolute scratchdir works fine.\n\nNote that I still don't like the fact that the generated classes are in the\norg.apache.jsp package, but have not been put in an org/apache/jsp directory\nhierarchy.  I'm amazed the loader finds them even with an absolute scratchdir."}, {"count": 1, "tags": [], "bug_id": 11953, "attachment_id": null, "is_private": false, "id": 21566, "time": "2002-08-23T00:44:33Z", "creator": "gregw@mortbay.org", "creation_time": "2002-08-23T00:44:33Z", "text": "\nActually it looks like it has problems with any scratch path\nthat contains a .\n\n/tmp/./scratchdir fails\n/tmp/scratchdir works\n\n"}, {"count": 2, "tags": [], "creator": "kin-man.chung@sun.com", "attachment_id": null, "text": "By design, scratchdir has to be absolute.  The classloader in jasper won;t work\notherwise.", "id": 21748, "time": "2002-08-26T17:37:20Z", "bug_id": 11953, "creation_time": "2002-08-26T17:37:20Z", "is_private": false}]