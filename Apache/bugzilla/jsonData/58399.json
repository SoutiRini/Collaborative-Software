[{"count": 0, "attachment_id": null, "bug_id": 58399, "is_private": false, "id": 185166, "time": "2015-09-12T17:25:47Z", "creator": "yilong.li@runtimeverification.com", "creation_time": "2015-09-12T17:25:47Z", "tags": [], "text": "Reported by RV-Predict (a dynamic race detector) when running the test suite:\nData race on field org.apache.tomcat.util.buf.ByteChunk.charset: {{{\n    Concurrent read in thread T20 (locks held: {Monitor@45a7152e})\n ---->  at org.apache.tomcat.util.buf.ByteChunk.toStringInternal(ByteChunk.java:496)\n        at org.apache.tomcat.util.buf.StringCache.toString(StringCache.java:219)\n        at org.apache.tomcat.util.buf.ByteChunk.toString(ByteChunk.java:492)\n        at org.apache.tomcat.util.buf.MessageBytes.toString(MessageBytes.java:166)\n        at org.apache.catalina.connector.Request.getRequestURI(Request.java:2178)\n        at org.apache.catalina.core.AsyncContextImpl.dispatch(AsyncContextImpl.java:202)\n        - locked Monitor@45a7152e at org.apache.catalina.core.AsyncContextImpl.dispatch(AsyncContextImpl.java:192)\n        at org.apache.catalina.core.AsyncContextImpl.dispatch(AsyncContextImpl.java:187)\n        at org.apache.catalina.core.TestAsyncContextImpl$DispatchingServlet$1.run(TestAsyncContextImpl.java:710)\n    T20 is created by T19\n        at org.apache.catalina.core.TestAsyncContextImpl$DispatchingServlet.doGet(TestAsyncContextImpl.java:715)\n\n    Concurrent write in thread T19 (locks held: {Monitor@75c39be9})\n ---->  at org.apache.tomcat.util.buf.ByteChunk.toStringInternal(ByteChunk.java:497)\n        at org.apache.tomcat.util.buf.StringCache.toString(StringCache.java:219)\n        at org.apache.tomcat.util.buf.ByteChunk.toString(ByteChunk.java:492)\n        at org.apache.tomcat.util.buf.MessageBytes.toString(MessageBytes.java:166)\n        at org.apache.coyote.RequestInfo.updateCounters(RequestInfo.java:167)\n        at org.apache.coyote.Request.updateCounters(Request.java:566)\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1153)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)\n        at org.apache.tomcat.util.net.Nio2Endpoint$SocketProcessor.doRun(Nio2Endpoint.java:1074)\n        at org.apache.tomcat.util.net.Nio2Endpoint$SocketProcessor.run(Nio2Endpoint.java:1033)\n        - locked Monitor@75c39be9 at org.apache.tomcat.util.net.Nio2Endpoint$SocketProcessor.run(Nio2Endpoint.java:1032)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    T19 is created by T18\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n}}} \n\nData race on field org.apache.tomcat.util.buf.ByteChunk.charset: {{{\n    Concurrent write in thread T19 (locks held: {Monitor@75c39be9})\n ---->  at org.apache.tomcat.util.buf.ByteChunk.toStringInternal(ByteChunk.java:497)\n        at org.apache.tomcat.util.buf.StringCache.toString(StringCache.java:219)\n        at org.apache.tomcat.util.buf.ByteChunk.toString(ByteChunk.java:492)\n        at org.apache.tomcat.util.buf.MessageBytes.toString(MessageBytes.java:166)\n        at org.apache.coyote.RequestInfo.updateCounters(RequestInfo.java:167)\n        at org.apache.coyote.Request.updateCounters(Request.java:566)\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1153)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)\n        at org.apache.tomcat.util.net.Nio2Endpoint$SocketProcessor.doRun(Nio2Endpoint.java:1074)\n        at org.apache.tomcat.util.net.Nio2Endpoint$SocketProcessor.run(Nio2Endpoint.java:1033)\n        - locked Monitor@75c39be9 at org.apache.tomcat.util.net.Nio2Endpoint$SocketProcessor.run(Nio2Endpoint.java:1032)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    T19 is created by T18\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent read in thread T20 (locks held: {Monitor@45a7152e})\n ---->  at org.apache.tomcat.util.buf.ByteChunk.toStringInternal(ByteChunk.java:502)\n        at org.apache.tomcat.util.buf.StringCache.toString(StringCache.java:219)\n        at org.apache.tomcat.util.buf.ByteChunk.toString(ByteChunk.java:492)\n        at org.apache.tomcat.util.buf.MessageBytes.toString(MessageBytes.java:166)\n        at org.apache.catalina.connector.Request.getRequestURI(Request.java:2178)\n        at org.apache.catalina.core.AsyncContextImpl.dispatch(AsyncContextImpl.java:202)\n        - locked Monitor@45a7152e at org.apache.catalina.core.AsyncContextImpl.dispatch(AsyncContextImpl.java:192)\n        at org.apache.catalina.core.AsyncContextImpl.dispatch(AsyncContextImpl.java:187)\n        at org.apache.catalina.core.TestAsyncContextImpl$DispatchingServlet$1.run(TestAsyncContextImpl.java:710)\n    T20 is created by T19\n        at org.apache.catalina.core.TestAsyncContextImpl$DispatchingServlet.doGet(TestAsyncContextImpl.java:715)\n}}}"}, {"count": 1, "tags": [], "creator": "markt@apache.org", "is_private": false, "id": 185332, "creation_time": "2015-09-18T08:58:57Z", "time": "2015-09-18T08:58:57Z", "bug_id": 58399, "text": "\n\n*** This bug has been marked as a duplicate of bug 58371 ***", "attachment_id": null}]