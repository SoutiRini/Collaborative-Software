[{"count": 0, "tags": [], "creator": "calestyo@scientia.net", "attachment_id": null, "id": 153690, "time": "2012-02-12T03:39:27Z", "bug_id": 52644, "creation_time": "2012-02-12T03:39:27Z", "is_private": false, "text": "Hi.\n\nCould you please share some light (and add to the documentation at https://httpd.apache.org/docs/current/mod/mod_ssl.html#ssloptions if and how mod_ssl's FakeBasicAuth feature works with the following:\n\na) Special characters\nA certificates DN can contain basically _ANY_ character, including \u201c:\u201d, \u201c/\u201d, \u201c \u201d, \u201c\"\u201d or any weird Unicode character from any script.\nAs far as I can see this could affect us at least in the following places:\n- user file\nThere at least the colon seems to have the special meaning of separating the username from the password, e.g.:\n/C=DE/O=GermanGrid/OU=LMU/CN=Christoph Anton Mitterer:$apr1$7DksooGS$Mz9EkgYft12dREFb1gk8b.\nMaybe \u201c$\u201d, \u201c.\u201d or the other characters mentioned above have also special meanigns?!\n\nGiven that this is really security relevant, could you please document whether all this is _always_ safe for any characters in the DN or not?!\n\nGuess this would mean that the parsing has to work like this regexp ^(.*):(.*)$ and the matching must be \"greedy\" (i.e. the _last_ \u201c:\u201d) must be matched.\n\n\nb) DNs in group files\nHere things seem to be even more weird.\nDNs typically contain \u201c \u201d characters (spaces).\nThe space however is the separation characters in the group files.\n\nI found out that quoting the DN with \u201c\"\u201d seems to work.\nThis is however not (yet) documented.\nFurther,.. is this safe? I mean, DNs could be made up tricky, containing \u201c\"\u201d or \u201c:\u201d to confuse the parsing of the group files.\nThis could even be a security problem.\n\n\nCheers,\nChris."}, {"count": 1, "tags": [], "bug_id": 52644, "attachment_id": null, "id": 153898, "time": "2012-02-18T00:18:03Z", "creator": "calestyo@scientia.net", "creation_time": "2012-02-18T00:18:03Z", "is_private": false, "text": "From the code the following seems to be the case:\n- groupname is parsed to the _FIRST_ occurence of \":\"\n- the quoting styles for users seem to be described in https://httpd.apache.org/dev/apidoc/apidoc_ap_getword_conf.html\n(not yet sure what is meant by whitepace (i.e. which whitespace chars).\n\n\nCheers,\nChris."}, {"count": 2, "tags": [], "text": "From the code the following seems to be the case with respect to group file parsing:\n- groupname is parsed to the _FIRST_ occurence of \":\"\n- the quoting styles for users seem to be described in https://httpd.apache.org/dev/apidoc/apidoc_ap_getword_conf.html\n(not yet sure what is meant by whitepace (i.e. which whitespace chars).\n\n\nCheers,\nChris.", "is_private": false, "id": 153899, "creator": "calestyo@scientia.net", "time": "2012-02-18T00:21:32Z", "bug_id": 52644, "creation_time": "2012-02-18T00:21:32Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "id": 202276, "time": "2017-11-20T15:48:04Z", "bug_id": 52644, "creation_time": "2017-11-20T15:48:04Z", "is_private": false, "text": "I've added a check in r1815592 for a colon, and a note in the manual about characters to use in r1815599. Though we could probably be more clear here it might be better to push people to use AuthBasicFake with mod_auth_basic now."}]