[{"count": 0, "tags": [], "bug_id": 5158, "text": "Dear All,\n\nI'm trying to use xml:lang namespace, but got the following error:\n\n[Error] test.xml:38:25: cvc-complex-type.3.2.2: Attrib\nute 'xml:lang' is not valid respect to the attribute wildcard of \nElment 'FreeTexst'.\n\nI have looked at bug report http://nagoya.apache.org/bugzilla/show_bug.cgi?\nid=3937 and be able to run that sample files. However, I still can't\nfigure out what is wrong with my test file.  Can anyone help?\nI'm enclosing the .xsd and .xml at the bottom (since don't know\nhow to use attachment on this).\n\nThanks!\n\n--Wo\n\n--------------- test.xsd ---------------\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<schema targetNamespace=\"urn:mpeg:mpeg7:schema:2001\" \n   xmlns=\"http://www.w3.org/2001/XMLSchema\" \n   xmlns:xml=\"http://www.w3.org/XML/1998/namespace\" \n   xmlns:mpeg7=\"urn:mpeg:mpeg7:schema:2001\" \n     elementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\">\n\n\t<import namespace=\"http://www.w3.org/XML/1998/namespace\" \n            schemaLocation=\"xml-1998.xsd\"/>\n\n\t<element name=\"Root\">\n\t\t<complexType>\n\t\t\t<sequence>\n\t\t\t\t<element name=\"FreeText\" \ntype=\"mpeg7:TextualType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n\t\t\t</sequence>\n\t\t</complexType>\n\t</element>\n\n\t<complexType name=\"TextualBaseType\" abstract=\"true\">\n\t\t<simpleContent>\n\t\t\t<extension base=\"string\">\n\t\t\t\t<attribute ref=\"xml:lang\" use=\"optional\"/>\n\t\t\t\t<!-- omitted for simplicity\n\t\t\t\t<attribute name=\"phoneticTranscription\" \nuse=\"optional\">\n\t\t\t\t\t<simpleType>\n\t\t\t\t\t\t<list \nitemType=\"mpeg7:PhoneType\"/>\n\t\t\t\t\t</simpleType>\n\t\t\t\t</attribute>\n\t\t\t\t<attribute name=\"phoneticAlphabet\" \ntype=\"mpeg7:phoneticAlphabetType\" use=\"optional\" default=\"sampa\"/>\n\t\t\t\t-->\n\t\t\t</extension>\n\t\t</simpleContent>\n\t</complexType>\n\t<!-- Definition of Textual datatype -->\n\t<complexType name=\"TextualType\">\n\t\t<simpleContent>\n\t\t\t<extension base=\"mpeg7:TextualBaseType\"/>\n\t\t</simpleContent>\n\t</complexType>\n</schema>\n\n------------ xml-1998.xsd -----------\n<?xml version=\"1.0\"?>\n<schema targetNamespace=\"http://www.w3.org/XML/1998/namespace\"\n\txmlns=\"http://www.w3.org/2001/XMLSchema\"\n\txmlns:x=\"http://www.w3.org/XML/1998/namespace\">\n\t<annotation>\n\t\t<documentation>This schema defines attributes and an attribute \ngroup\n        suitable for use by\n        schemas wishing to allow xml:lang or xml:space attributes\n        on elements they define.\n\n        To enable this, such a schema must first declare the XML\n        namespace, and then import this schema\n        for the XML namespace, e.g. as follows:\n        &lt;schema . . . xmlns:xml=\"http://www.w3.org/XML/1998/namespace\">\n         . . .\n         &lt;import namespace=\"http://www.w3.org/XML/1998/namespace\"\n                    schemaLocation=\"http://www.w3.org/XML/2000/10/xml.xsd\"/>\n\n        Subsequently, qualified reference to either of the attributes\n        or the group defined below will have the desired effect, e.g.\n\n        &lt;type . . .>\n         . . .\n         &lt;attributeGroup ref=\"xml:specialAttrs\"/>\n \n         will define a type which will schema-validate a instance\n         element with both xml:space and xml:lang attribute</documentation>\n\t</annotation>\n\t<attribute name=\"lang\" type=\"language\">\n\t\t<annotation>\n\t\t\t<documentation>In due course, we should install the \nrelevant ISO 2- and 3-letter\n         codes as the enumerated possible values . . .</documentation>\n\t\t</annotation>\n\t</attribute>\n\t<attribute name=\"space\" default=\"preserve\">\n\t\t<simpleType>\n\t\t\t<restriction base=\"NCName\">\n\t\t\t\t<enumeration value=\"default\"/>\n\t\t\t\t<enumeration value=\"preserve\"/>\n\t\t\t</restriction>\n\t\t</simpleType>\n\t</attribute>\n\t<attributeGroup name=\"specialAttrs\">\n\t\t<attribute ref=\"x:lang\"/>\n\t\t<attribute ref=\"x:space\"/>\n\t</attributeGroup>\n</schema>\n\n------------ test.xml ---------------\n<?xml version=\"1.0\" encoding=\"iso-8859-1\"?>\n<Root xmlns=\"urn:mpeg:mpeg7:schema:2001\" \n      xmlns:mpeg7=\"urn:mpeg:mpeg7:schema:2001\" \n      xmlns:xml=\"http://www.w3.org/XML/1998/namespace\" \n      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n      xsi:schemaLocation=\"urn:mpeg:mpeg7:schema:2001 test.xsd\">\n\t<FreeText xml:lang=\"us\">Hello world!!</FreeText>\n\t<FreeText xml:lang=\"jp\">Sekai yo Kon-nichiwa!!</FreeText>\n</Root>", "id": 8376, "time": "2001-11-28T04:50:24Z", "creator": "wchang@nist.gov", "creation_time": "2001-11-28T04:50:24Z", "is_private": false, "attachment_id": null}]