[{"count": 0, "tags": [], "bug_id": 4737, "attachment_id": null, "id": 7680, "time": "2001-11-08T04:15:57Z", "creator": "davidw@apache.org", "creation_time": "2001-11-08T04:15:57Z", "is_private": false, "text": "> In what way?  What does it do now with subst, and how should it\n> behave?\n\nright now, web::log takes the log string and runs a subst on it. The\nidea is:\n\n     web::log debug {gimme the stats: [stats]} \n\nthis does not call stats unless the log level is debug, which can be\nquite a performance boost.\n\nNow the problem is that up to websh2 web::log (wpp_log at the time)\ndid NOT do this. -> It oftens more than just regularely that people\nhere use\n\n     web::log debug \"gimme the stats: [stats]\"\n\nin websh3. This not only corrupts the performance, but is also quite\ndangerous, because [stats] might return something like \"I could call\n[exec \\rm -rf]\" because sometimes user input is logged.\n\nMy proposal here is: instead of providing a flag to disable\nsubstitution in logging, I would provide a flag to enable substitution \nand let the default be not to [subst]. -> Change the default in\n[web::config logsubst ?boolean?]. -> Turn subst on is a explicit\nthing, so it's clear that the programmer knows what he/she does."}, {"count": 1, "tags": [], "bug_id": 4737, "text": "Changed default value of logSubst to 0 so that web::log doesn't subst by default.", "id": 8163, "time": "2001-11-21T15:05:41Z", "creator": "davidw@apache.org", "creation_time": "2001-11-21T15:05:41Z", "is_private": false, "attachment_id": null}]