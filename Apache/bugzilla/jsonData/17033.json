[{"count": 0, "tags": [], "bug_id": 17033, "attachment_id": null, "id": 31185, "time": "2003-02-13T00:40:51Z", "creator": "mouse@intranet.org", "creation_time": "2003-02-13T00:40:51Z", "is_private": false, "text": "Given:\n<propertyfile file=\"${propertyfile.project}\">\n  <entry key=\"BUILD_NUMBER\" type=\"int\" operation=\"+\" />\n</propertyfile>\n\nThe following exception occurs:\n\nfile:C:/Autobuild/MxNet/1.0.0/Source Code/build.xml:77: value and/or default \nmust be specified (key:BUILD_NUMBER)\n        at \norg.apache.tools.ant.taskdefs.optional.PropertyFile$Entry.checkParameters\n(PropertyFile.java:544)\n        at org.apache.tools.ant.taskdefs.optional.PropertyFile$Entry.executeOn\n(PropertyFile.java:386)\n        at org.apache.tools.ant.taskdefs.optional.PropertyFile.executeOperation\n(PropertyFile.java:197)\n        at org.apache.tools.ant.taskdefs.optional.PropertyFile.execute\n(PropertyFile.java:184)\n        at org.apache.tools.ant.Task.perform(Task.java:319)\n        at org.apache.tools.ant.Target.execute(Target.java:309)\n        at org.apache.tools.ant.Target.performTasks(Target.java:336)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1306)\n        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:371)\n        at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:143)\n[etc]\n\nSanity check:  Yes, the BUILD_NUMBER key property is definitely set in the \nproperty, and the variable definitely points to that file.  For example, if I \ninclude it via <property file=\"${propertyfile.system}\" /> in this build.xml and \n<echo message=\"${BUILD_NUMBER}\"/> it out, I get the value for it.\n\nNOTE: This works fine in ant 1.4.1!  It is broken in ant 1.5.1!"}, {"count": 1, "tags": [], "text": "Just add a value=\"1\" attribute and you should be right. this is what the error\nis trying to say although it may not have been clear. I have tried to make the\nerror message clearer.\n\nIt is true that some of the changes made to <propertyfile> were not backward\ncompatible - it was felt to be necessary - sorry for the inconvenience.", "is_private": false, "bug_id": 17033, "id": 31359, "time": "2003-02-16T14:03:41Z", "creator": "conor@apache.org", "creation_time": "2003-02-16T14:03:41Z", "attachment_id": null}]