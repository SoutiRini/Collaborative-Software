[{"count": 0, "tags": [], "bug_id": 18349, "attachment_id": null, "text": "I have not been able to get my program running since I switched to Tomcat \n4.1.18.  It seems that the JSP precompiler does not call release on pooled \nobject before they are reused, which I understand to be required as defined by \nthe JSP documentation.  I have verified this by looking at the Java code that \nis generated by Tomcat and also by putting some logging code in my release() \nmethods (to make sure that the pool itself is not calling release).\n\nJust by looking at sample code that is generated by Tomcat 4.0.x and Tomcat \n4.1.18, clearly the release() is missing.\n\n\nAnd when I install Tomcat 4.1.24 and try to browse to the main index page, all \nI get is: \n\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\nAn error occurred at line: -1 in the jsp file: null\n\nGenerated servlet error:\n    [javac] Since fork is true, ignoring compiler setting.\n    [javac] Compiling 1 source file\n    [javac] Since fork is true, ignoring compiler setting.\n\n\n\n\tat org.apache.jasper.compiler.DefaultErrorHandler.javacError\n(DefaultErrorHandler.java:130)\n\tat org.apache.jasper.compiler.ErrorDispatcher.javacError\n(ErrorDispatcher.java:293)\n\tat org.apache.jasper.compiler.Compiler.generateClass(Compiler.java:353)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:370)\n\tat org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:473)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:190)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:295)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:256)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2415)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:171)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:172)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe\nxt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.jk.server.JkCoyoteHandler.invoke\n(JkCoyoteHandler.java:261)\n\tat org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:360)\n\tat org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:604)\n\tat org.apache.jk.common.ChannelSocket.processConnection\n(ChannelSocket.java:562)\n\tat org.apache.jk.common.SocketConnection.runIt(ChannelSocket.java:679)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:619)\n\tat java.lang.Thread.run(Unknown Source)\n\n\nIs Tomcat development just getting really unstable?\n\nChris", "id": 33800, "time": "2003-03-25T23:08:40Z", "creator": "webmaster@swstrings.com", "creation_time": "2003-03-25T23:08:40Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 18349, "text": "\n\n*** This bug has been marked as a duplicate of 16001 ***", "id": 33801, "time": "2003-03-25T23:33:22Z", "creator": "william.barker@wilshire.com", "creation_time": "2003-03-25T23:33:22Z", "is_private": false, "attachment_id": null}]