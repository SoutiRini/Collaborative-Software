[{"count": 0, "tags": [], "bug_id": 41746, "is_private": false, "id": 99970, "creation_time": "2007-03-02T05:03:37Z", "time": "2007-03-02T05:03:37Z", "creator": "smarjan@keenresearch.com", "text": "I have downloaded tomcat 6.0.10. \nI added mysql-connector, log4j and commons-logging to lib directory.\nMy context.xml file, located in META-INF directory looks like this:\n<Context path=\"\" debug=\"5\" reloadable=\"true\" crossContext=\"true\" docBase=\"lootist\">\n  <Manager className=\"org.apache.catalina.session.PersistentManager\"\nsaveOnRestart=\"false\"/>\n  <Resource name=\"jdbc/lootist\" auth=\"Container\" type=\"javax.sql.DataSource\"\n               maxActive=\"15\" maxIdle=\"5\" maxWait=\"19000\" scope=\"Shareable\"\n               username=\"lootist\" password=\"lootist\"\ndriverClassName=\"com.mysql.jdbc.Driver\"\n               url=\"jdbc:mysql://localhost:3306/lootist?autoReconnect=true\" />\n\n  <Resource name=\"repository/lootist\" auth=\"Container\"\ntype=\"com.lootist.webapp.beans.context.Repository\"\n               scope=\"Shareable\" factory=\"org.apache.naming.factory.BeanFactory\"\n               productImageLocation=\"/lootist/data/repository/productimages\"\n              \nproductSecondaryImageLocation=\"/lootist/data/repository/productsecondaryimages\"\n               lootistImageLocation=\"/lootist/data/repository/lootistimages\"\n                />\n\n</Context>\n\nWhen I deploy it on tomcat, the default web application is still ROOT webapp. \nThere are no warning/error messages (in all logs, including my application log)\nexcept these:\n\nCatalina.out:\nMar 2, 2007 1:51:21 PM org.apache.catalina.session.PersistentManagerBase start\nSEVERE: No Store configured, persistence disabled\nMar 2, 2007 1:51:25 PM org.apache.catalina.startup.HostConfig deployDescriptor\nWARNING: A docBase /Volumes/Work/apache-tomcat-6.0.10/webapps/lootist inside the\nhost appBase has been specified, and will be ignored\n\nI haven't changed anything in tomcat config and I haven't deployed any other apps. \n\nNote:\nI tested the same app. couple of weeks ago on Apache Tomcat 6.0.7 and everything\nworked ok.", "attachment_id": null}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 99972, "time": "2007-03-02T07:06:21Z", "bug_id": 41746, "creation_time": "2007-03-02T07:06:21Z", "is_private": false, "text": "(In reply to comment #0)\n> Note:\n> I tested the same app. couple of weeks ago on Apache Tomcat 6.0.7 and everything\n> worked ok.\n\nNice try :)\n"}, {"count": 2, "tags": [], "creator": "fhanik@apache.org", "text": "Since 5.5, to create a path=\"\" you have couple of different options\n\n1. define the <Context\" in server.xml\n2. rename your app to ROOT\n3. define a TCHOME/conf/Catalina/localhost/ROOT.xml with a docbase pointing to\nyour webapp", "id": 99985, "time": "2007-03-02T14:18:33Z", "bug_id": 41746, "creation_time": "2007-03-02T14:18:33Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "smarjan@keenresearch.com", "attachment_id": null, "id": 100001, "time": "2007-03-03T06:30:17Z", "bug_id": 41746, "creation_time": "2007-03-03T06:30:17Z", "is_private": false, "text": "> 1. define the <Context\" in server.xml\nThis (need to define context in server.xml when trying to deploy application as\ndefault one) isn't mentioned in your documentation describing the use of path\nattribute (http://tomcat.apache.org/tomcat-6.0-doc/config/context.html), so this\ncould be a documentation bug. \n\n>2. rename your app to ROOT\nConsider the case when you want to change the root app - there is a loot of work\nyou need to do. This is more of a kludge then solution.    \n \n>3. define a TCHOME/conf/Catalina/localhost/ROOT.xml with a docbase pointing to\n>your webapp\nI like this solution, but I don't know how will this work with my \"base\"\ncontext.xml located in META-INF folder. If I add a ROOT.xml = <Context path=\"\"\ndocBase=\"/lootist\"/> will this affect settings in context.xml(persistent\nmanager, logging, JNDI resources availability) ?  \n\nI think you should consider the case when user doesn't have access to server.xml\nor the directory where context files are kept. Most of the companies we work for\nhave big concerns about security, and they allows us only the minimum access to\nthere servers and tomcat directories. \n\nProposal: \nWhen new app is deployed, and if path=\"\" element is found, Tomcat could create\nROOT.xml pointing to the docBase of previously mentioned app. If ROOT.xml\nalready exists, exception could be thrown.\n \n\n\n\n"}, {"count": 4, "tags": [], "bug_id": 41746, "attachment_id": null, "text": "Hi\n\nI'm using tomcat6.0.14. I need to make my application the default application of tomcat. For this purpose, i created context descriptor file in $CATALINA_HOME/conf/[enginename]/[hostname]. The name of the file is tool.xml which is same as my application name. The entries in the xml file are:\n<Context path=\"\" docBase=\"../webapps/tool\" debug=\"0\" privileged=\"true\">\n\nBut when i start tomcat i get the following warning:\nWARNING: A docBase D:\\tomcat\\webapps\\..\\webapps\\tool inside the host appBa\nse has been specified, and will be ignored\n\nIf i remove docBase entry from tool.xml file, i stop getting this WARNING. But still the default context(http://localhost:80808/) opens up the tomcat default page and not my application's page. Defining context descriptors works fine with tomcat5 but it not working properly with tomcat6.\n\nIt would be great if you provide a solution to it. I donot want to rename my application as ROOT. Defining context entry in server.xml is not recommended. I have tried defining ROOT.xml inplace of tool.xml but it doesn't work. In that case it tries to search for ROOT folder in webappps folder. Even defining context.xml file in META-INF folder of the web application is not working. Please provide a way which makes things work, its urgent.", "id": 114225, "time": "2008-03-04T01:01:00Z", "creator": "guptavibhuti@gmail.com", "creation_time": "2008-03-04T01:01:00Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 41746, "text": "Bugzilla is not a support forum. Please use the users list.", "id": 114251, "time": "2008-03-04T06:18:07Z", "creator": "markt@apache.org", "creation_time": "2008-03-04T06:18:07Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 41746, "is_private": false, "count": 6, "id": 120041, "time": "2008-08-22T15:28:07Z", "creator": "sip.sniffa@gmail.com", "creation_time": "2008-08-22T15:28:07Z", "text": "I can't see why this bug has been resolved as invalid. Can anyone explain? Mark?\n\nTomcat 6.0.18 still appears to not set the default/root application as it is described in accompanying documentation:\nhttp://tomcat.apache.org/tomcat-6.0-doc/config/context.html#Common%20Attributes (see \"path\" attribute).\n\nEither this is a bug in the Tomcat codebase or accompanying documentation requires changing (I guess this would result in raising another bug report in order to change documentation?).\n\nI'm new to the Apache way of working, so apologies if I've overlooked some regular Apache procedure here."}, {"count": 7, "tags": [], "bug_id": 41746, "attachment_id": null, "text": "This bug is invalid since the behaviour is:\na) correct\nb) as per the docs\n\nAgain, you question belongs on the users list - not Bugzilla.", "id": 120043, "time": "2008-08-23T00:54:30Z", "creator": "markt@apache.org", "creation_time": "2008-08-23T00:54:30Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 41746, "text": "(In reply to comment #7)\n> This bug is invalid since the behaviour is:\n> a) correct\n> b) as per the docs\n> \n> Again, you question belongs on the users list - not Bugzilla.\n\nHow can this possibly be considered invalid, when it obviously does not work?\nThis is not an isolated incident.\nThe only way I've been able to change the root webapp is to set it in server.xml, a la Tomcat 4, which you have suggested against. Creating a new xml file under conf/Catalina/localhost most certainly does NOT work. That is most definitely a defect in the build, not something which requires help from a userlist, but a fix.\nSounds more to me as if you've hit an issue you either can't or won't fix.", "id": 125028, "time": "2009-02-20T18:09:19Z", "creator": "antonio.malcolm@gmail.com", "creation_time": "2009-02-20T18:09:19Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 41746, "attachment_id": null, "id": 125034, "time": "2009-02-21T07:43:36Z", "creator": "sip.sniffa@gmail.com", "creation_time": "2009-02-21T07:43:36Z", "is_private": false, "text": "(In reply to comment #8)\n> (In reply to comment #7)\n> > This bug is invalid since the behaviour is:\n> > a) correct\n> > b) as per the docs\n> > \n> > Again, you question belongs on the users list - not Bugzilla.\n> \n> How can this possibly be considered invalid, when it obviously does not work?\n> This is not an isolated incident.\n> The only way I've been able to change the root webapp is to set it in\n> server.xml, a la Tomcat 4, which you have suggested against. Creating a new xml\n> file under conf/Catalina/localhost most certainly does NOT work. That is most\n> definitely a defect in the build, not something which requires help from a\n> userlist, but a fix.\n> Sounds more to me as if you've hit an issue you either can't or won't fix.\n\nI'd forgotten all about this. I PM'd Mark with the following message, but got no reply:\n  I posted a comment on Bugzilla as I believe there is a bug - my\n  experience is that Tomcat is not  behaving as described in the\n  documentation that I referenced. If you know of further documentation\n  that explains alternative behaviour, then a link would be appreciated\n  as part of marking the bug as resolved.\nGiven the curt response to my comment and the absence of any clarifying reply and/or documentation, I suspect you're right, Antonio - no one is able to or willing to fix the problem."}, {"count": 10, "tags": [], "creator": "markt@apache.org", "text": "> > Creating a new xml\n> > file under conf/Catalina/localhost most certainly does NOT work. That is most\n> > definitely a defect in the build, not something which requires help from a\n> > userlist, but a fix.\n\nTo my recollection this has worked for every single Tomcat 6.0.x release. If it doesn't work for you, your configuration is wrong. The users list is the place to get help.\n\n> > Sounds more to me as if you've hit an issue you either can't or won't fix.\n\nAnd to me it sounds like you have hit a configuration issue and are refusing to follow the advice you are being given.\n\n> I'd forgotten all about this. I PM'd Mark with the following message, but got\n> no reply:\n\nPrivate messages to committers tend to get ignored. If everyone asked their questions via private mail to a committer, the committers would drown in e-mail, the archives would be empty and there would be no public record for other users to search when they need help.\n\n>   I posted a comment on Bugzilla as I believe there is a bug - my\n>   experience is that Tomcat is not  behaving as described in the\n>   documentation that I referenced. If you know of further documentation\n>   that explains alternative behaviour, then a link would be appreciated\n>   as part of marking the bug as resolved.\n> Given the curt response to my comment and the absence of any clarifying reply\n> and/or documentation, I suspect you're right, Antonio - no one is able to or\n> willing to fix the problem.\n\nWhen you ignore http://tomcat.apache.org/bugreport.html and ask a support question on Bugzilla and continue to ignore requests to use the users list then yes, the responses will get increasing short and to the point.", "id": 125035, "time": "2009-02-21T08:52:54Z", "bug_id": 41746, "creation_time": "2009-02-21T08:52:54Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "bug_id": 41746, "attachment_id": null, "text": "I have followed the configuration instructions to the T, as per your instructions here:\n\nhttp://tomcat.apache.org/tomcat-6.0-doc/config/context.html\n\nAs such I have found no other issues, and therefore, have no choice but to believe this to be a bug. Here is the in my xml file:\n\n<?xml version='1.0' encoding='utf-8'?>\n\n\n<Host name=\"localhost\" appBase=\"webapps\">\n  <Context docBase=\"mochaCMS\" path=\"\"></Context>\n</Host>\n\nLocated in $CATALINA_BASE/conf/Catalina/localhost\n\n\nIs this not the recommended way?\n\nI suppose anyone can give a curt or short response, but I would think a professional engineer would actually look into it, considering this is an obviously widespread and well-known issue.", "id": 125049, "time": "2009-02-21T20:51:13Z", "creator": "antonio.malcolm@gmail.com", "creation_time": "2009-02-21T20:51:13Z", "is_private": false}, {"count": 12, "tags": [], "creator": "sip.sniffa@gmail.com", "attachment_id": null, "id": 125054, "time": "2009-02-22T04:56:03Z", "bug_id": 41746, "creation_time": "2009-02-22T04:56:03Z", "is_private": false, "text": "Just to clarify:\n\n> When you ignore http://tomcat.apache.org/bugreport.html\n\nI'm familiar with this doc and that's why, only after checking documentation, logs and FAQ's, I finally added to an existing bug report (this one).\n\n> and ask a support\n> question on Bugzilla and continue to ignore requests to use the users list then\n> yes, the responses will get increasing short and to the point.\n\nYour response was in reply to my first posting."}, {"count": 13, "tags": [], "bug_id": 41746, "attachment_id": null, "id": 125058, "creation_time": "2009-02-22T06:16:18Z", "time": "2009-02-22T06:16:18Z", "creator": "markt@apache.org", "text": "Antonio - your configuration is very wrong. You have missed a number of key points from the Context configuration document you quoted. How many times do I have to say this? Bugzilla is not a support forum. Please stop wasting your and my time and ask for help on the users list where any number of people, me included, will be more than willing to help you fix this.\n\nPaul - The bug report docs also say you should check the users list archives and ask on the users list. The path attribute does work as documented. I have tested this only recently. If there is ambiguity in the wording (I can't see one but my view is coloured by knowing what the docs are trying to say so I'll tend to read it the way it was intended) then the users list is the place to figure out what that is and then a bug report can be created for the docs. That said, a bug report usually isn't necessary as if I have seen the discussion on the users list I just fix the docs anyway.", "is_private": false}, {"count": 14, "tags": [], "bug_id": 41746, "attachment_id": null, "id": 125560, "creation_time": "2009-03-14T12:16:33Z", "time": "2009-03-14T12:16:33Z", "creator": "antonio.malcolm@gmail.com", "text": "Well, I mustn't have been too far off, because I eventually got it working, though I had to change some things in my web app to get it there, a number of issues I found when doing so, which made using server.xml, with my app in the webapps directory (a la Tomcat 4) still a more viable option.\n\nAll-in-all, I still appreciate having an open source project like Tomcat to work with.", "is_private": false}]