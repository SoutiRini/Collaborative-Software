[{"count": 0, "tags": [], "text": "Hello,\nI noticed this bug while working on issue 51691.\nI had issue in authentication, so connection got created but the session fails.\nSo Object was not constructed but connection was and since ReceiveSubscriber or Publisher are not created, they cannot be destroyed.\n\nI fixed this by checking in constructors that init goes to the end, if not I destroy object.\n\nRegards\nPhilippe", "attachment_id": null, "id": 149434, "creation_time": "2011-09-17T21:07:52Z", "time": "2011-09-17T21:07:52Z", "creator": "p.mouawad@ubik-ingenierie.com", "bug_id": 51841, "is_private": false}, {"count": 1, "tags": [], "bug_id": 51841, "attachment_id": 27524, "text": "Created attachment 27524\nFix to the issue", "id": 149435, "time": "2011-09-17T21:11:52Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-09-17T21:11:52Z", "is_private": false}, {"count": 2, "tags": [], "text": "Thanks!\n\nThere was strange item in the patch:\n\n         Utils.close(SUBSCRIBER, log);\n+        Utils.close(SUBSCRIBER, log);\n         Utils.close(SESSION, log);\n         Utils.close(CONN, log);\n\nI assume the second call to close SUBSCRIBER was not intentional.\n\nURL: http://svn.apache.org/viewvc?rev=1172073&view=rev\nLog:\nBug 51841 - JMS : If an error occurs in ReceiveSubscriber constructor or Publisher, then Connections will stay open\n\nModified:\n   jakarta/jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/client/Publisher.java\n   jakarta/jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/client/ReceiveSubscriber.java\n   jakarta/jmeter/trunk/xdocs/changes.xml", "attachment_id": null, "bug_id": 51841, "id": 149439, "time": "2011-09-17T21:47:34Z", "creator": "sebb@apache.org", "creation_time": "2011-09-17T21:47:34Z", "is_private": false}]