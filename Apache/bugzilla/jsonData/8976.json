[{"count": 0, "tags": [], "creator": "carlson@bookandhammer.com", "attachment_id": null, "id": 15896, "time": "2002-05-10T14:42:24Z", "bug_id": 8976, "creation_time": "2002-05-10T14:42:24Z", "is_private": false, "text": "One of the issues I had was wanting my login page to be the first page \npeople went to, but with the current FormAuthentication you get an error \n(invalid direct reference to form login page).\n\nI have modified the FormAuthenication class so if someone posts to \nj_security_check from the login page (specified in the web.xml) it will \nauthenticate and redirect them back to the login page.\n\nI also added another feature where if a person also posts the parameter\n j_redirect_url to j_security_check it will forward them to that url (note: the \nj_redirect_url must be an absolute url reference).\n\nThe logic inside this class is fairly complicated because it deals with \nmultiple requests and I think I did everything correctly. If someone wants \nto provide feedback that would be great. I can work on any bugs.\n\nThe actual code was sent to the maillist list under the subject\nForm Authentication potential contribution"}, {"count": 1, "tags": [], "creator": "carlson@bookandhammer.com", "attachment_id": 1835, "is_private": false, "id": 15897, "time": "2002-05-10T14:43:45Z", "bug_id": 8976, "creation_time": "2002-05-10T14:43:45Z", "text": "Created attachment 1835\nPotential Fix for this bug"}, {"count": 2, "tags": [], "text": "This is a good feature because TC 4.X has a lack in form auth redirection:\n\n- How about session expired?\n- How about direct login page access?\n- etc\n\nI think this is a good aproach for peter patch, so please, oh great TC gurus,\ntake it in consideration and let it checked before new release!!", "is_private": false, "bug_id": 8976, "id": 15898, "time": "2002-05-10T15:04:09Z", "creator": "vicentesalvador@netscape.net", "creation_time": "2002-05-10T15:04:09Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "Additionally, users bookmark the login page, thus going directly to the login \npage and receiving a redirect error.  This error causes them to think there is \na problem.  If you go straight to the login form on any of Tomcats apps (admin, \nprotected example) it gives this error.  Very irritating!", "attachment_id": null, "id": 35710, "creation_time": "2003-04-21T16:29:04Z", "time": "2003-04-21T16:29:04Z", "creator": "dwrenn@nehp.net", "bug_id": 8976, "is_private": false}, {"count": 4, "attachment_id": null, "creator": "paul.pacheco@wavecode.com", "is_private": false, "id": 36595, "time": "2003-05-02T16:29:49Z", "bug_id": 8976, "creation_time": "2003-05-02T16:29:49Z", "tags": [], "text": "Please take a look at bug 3839, 4104, 4048, 1861\n\nPeople have been bugged by this for ever.\n\nPLEASE, PLEASE, PLEASE, PLEASE apply the patch.\n\nthanks."}, {"count": 5, "attachment_id": null, "creator": "remm@apache.org", "is_private": false, "id": 36604, "time": "2003-05-02T17:24:58Z", "bug_id": 8976, "creation_time": "2003-05-02T17:24:58Z", "tags": [], "text": "This has been discussed a lot already, and will not be fixed. Thanks for\npointing out it was a dupe :)\n\n*** This bug has been marked as a duplicate of 3839 ***"}, {"count": 6, "tags": [], "creator": "tgeor@yahoo.com", "attachment_id": null, "id": 80410, "time": "2005-09-24T12:49:45Z", "bug_id": 8976, "creation_time": "2005-09-24T12:49:45Z", "is_private": false, "text": "I tried your solution in tomcat 4.1.31 and seemed to me not working because the\nredirect url (j_redirect_url) should be one of securiry protected resources.\n\nIn my case I have login form in any page of my site so user can login from any\npage and return to that page. To solve this problem I had to change\nFormAuthenticator.java and AuthenticatorBase.java using your trick. \n\nWhen saved request is not found after j_security_login i save a request using\nj_redirect_url and put a flag in a session note to indicate I'm redirecting from\nlogin. Now, when AuthenticatorBase.invoke is called again it checks to see if\nthe page is in security constraints or redirect from login exists and call\nauthenticate again to restore saved url.\n\nI will attach my solution because I believe a lot of developers wish that\nfeature, even if it is not compliant with servlet specs."}, {"count": 7, "tags": [], "text": "Created attachment 16515\nAn approach to have login form in any page (1/3)", "is_private": false, "id": 80411, "creation_time": "2005-09-24T12:52:10Z", "time": "2005-09-24T12:52:10Z", "creator": "tgeor@yahoo.com", "bug_id": 8976, "attachment_id": 16515}, {"count": 8, "tags": [], "bug_id": 8976, "attachment_id": 16516, "text": "Created attachment 16516\nAn approach to have login form in any page (2/3)", "id": 80412, "time": "2005-09-24T12:52:53Z", "creator": "tgeor@yahoo.com", "creation_time": "2005-09-24T12:52:53Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 8976, "is_private": false, "text": "Created attachment 16517\nAn approach to have login form in any page (3/3)", "id": 80413, "time": "2005-09-24T12:53:16Z", "creator": "tgeor@yahoo.com", "creation_time": "2005-09-24T12:53:16Z", "attachment_id": 16517}]