[{"count": 0, "tags": [], "bug_id": 40833, "attachment_id": null, "id": 95154, "time": "2006-10-27T10:56:19Z", "creator": "nettings@apache.org", "creation_time": "2006-10-27T10:56:19Z", "is_private": false, "text": "r468474 breaks cforms support (sorry, my fault, but i wanted the code out).\nthe problem lies in src/modules/cforms/flow/customFlow.js, line 48:\nvar outputStream = source.getOutputStream();\nfor some reason, outputStream is undefined, even though source is a\nModifiableSource.\n\nif you find the bug, please remove the comments to restore error handling and\nrip out the instrumentation code."}, {"count": 1, "tags": [], "bug_id": 40833, "attachment_id": null, "id": 95156, "time": "2006-10-27T11:05:08Z", "creator": "nettings@apache.org", "creation_time": "2006-10-27T11:05:08Z", "is_private": false, "text": "*** Bug 37715 has been marked as a duplicate of this bug. ***"}, {"count": 2, "tags": [], "bug_id": 40833, "attachment_id": null, "id": 95161, "time": "2006-10-27T11:13:17Z", "creator": "nettings@apache.org", "creation_time": "2006-10-27T11:13:17Z", "is_private": false, "text": "*** Bug 37091 has been marked as a duplicate of this bug. ***"}, {"count": 3, "tags": [], "bug_id": 40833, "attachment_id": null, "id": 99602, "time": "2007-02-21T00:54:47Z", "creator": "andreas@apache.org", "creation_time": "2007-02-21T00:54:47Z", "is_private": false, "text": "It would be great if we could fix this before the release candidate."}, {"count": 4, "tags": [], "bug_id": 40833, "attachment_id": null, "id": 99604, "time": "2007-02-21T01:11:47Z", "creator": "nettings@apache.org", "creation_time": "2007-02-21T01:11:47Z", "is_private": false, "text": "(In reply to comment #3)\n\ni'll look into it today. but imho the cforms module should not be a blocker for\n1.4 - it's just an example, does not do anything useful and is way behind the\ncurrent capabilities of cforms with jeremy's changes.\n\n"}, {"count": 5, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "text": "(In reply to comment #4)\n> (In reply to comment #3)\n> \n> i'll look into it today. but imho the cforms module should not be a blocker for\n> 1.4 - it's just an example, does not do anything useful and is way behind the\n> current capabilities of cforms with jeremy's changes.\n\nShould we disable it if saving doesn't work?\nOtherwise, we'll certainly confuse users.\n\n", "id": 99605, "time": "2007-02-21T01:23:17Z", "bug_id": 40833, "creation_time": "2007-02-21T01:23:17Z", "is_private": false}, {"count": 6, "tags": [], "creator": "nettings@apache.org", "attachment_id": null, "is_private": false, "id": 99611, "time": "2007-02-21T02:58:59Z", "bug_id": 40833, "creation_time": "2007-02-21T02:58:59Z", "text": "i'm currently working on it, but i'm not sure i can fix it. it uses Yet Another\nTotally Different Approach...\ni'm trying to re-sync it to the oneform editor (can i assume that oneform is\ncurrent best practice?)\n\nin any case, i'd say we should not include it as an example in the default\npublication, unless:\n * we have abstracted it so that users can handle arbitrary forms\n * it conforms to standard lenya document handling practices\n * all the ugly load/save has been removed from the flow code and into the java\neditor object.\n\n"}, {"count": 7, "tags": [], "bug_id": 40833, "is_private": false, "text": "I agree. We should disable it.", "id": 99613, "time": "2007-02-21T03:23:04Z", "creator": "thorsten@apache.org", "creation_time": "2007-02-21T03:23:04Z", "attachment_id": null}, {"count": 8, "tags": [], "creator": "nettings@apache.org", "attachment_id": 19619, "text": "Created attachment 19619\nhacked cforms flowscript to use generic Forms.saveXML function.", "id": 99617, "time": "2007-02-21T06:28:47Z", "bug_id": 40833, "creation_time": "2007-02-21T06:28:47Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 40833, "attachment_id": null, "id": 99618, "time": "2007-02-21T06:30:03Z", "creator": "nettings@apache.org", "creation_time": "2007-02-21T06:30:03Z", "is_private": false, "text": "hmm. it seems that somehow the source is not modifiable.\ni have simplified the cforms flowscript a lot (there seems to be a Forms.saveXML\nmethod in cocoon that does exactly what we need), see attachment. however, when\nyou edit and save, you will see\nERROR flow - Could not flush/close outputstream: JavaException:\njava.lang.RuntimeException: This session is not modifiab\nle!\nin the log.\n"}, {"count": 10, "tags": [], "bug_id": 40833, "attachment_id": null, "id": 99619, "time": "2007-02-21T06:58:22Z", "creator": "andreas@apache.org", "creation_time": "2007-02-21T06:58:22Z", "is_private": false, "text": "(In reply to comment #9)\n\n> ERROR flow - Could not flush/close outputstream: JavaException:\n> java.lang.RuntimeException: This session is not modifiable!\n\nThis happens if you try to save something outside a transaction. You have to do\nany write operations from the usecase handler to document.getOutputStream()."}, {"count": 11, "tags": [], "bug_id": 40833, "text": "It should work now.\n\nWhy was there such a lot of JavaScript code in the CForms flowscript?\nIt's much easier to delegate this to the usecase handler class.", "id": 101802, "time": "2007-04-17T07:06:15Z", "creator": "andreas@apache.org", "creation_time": "2007-04-17T07:06:15Z", "is_private": false, "attachment_id": null}, {"count": 12, "tags": [], "bug_id": 40833, "attachment_id": null, "id": 105618, "time": "2007-07-16T01:59:38Z", "creator": "thorsten@apache.org", "creation_time": "2007-07-16T01:59:38Z", "is_private": false, "text": "Renaming Lenya 1.4 to 2.0"}]