[{"count": 0, "tags": [], "bug_id": 10860, "text": "Compling mod_jk for Apache 2.0., Solaris 2.7.\n/usr/local/apache2/bin/apxs -o mod_jk.so -DSOLARIS -I../common -\nI/usr/j2se/include -I/usr/j2se/include/solaris  -c *.c ../common/*.c\n\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -o \nmod_jk.lo mod_jk.c && touch mod_jk.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_ajp12_worker.lo ../common/jk_ajp12_worker.c && \ntouch ../common/jk_ajp12_worker.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_ajp13.lo ../common/jk_ajp13.c && touch ../common/jk_ajp13.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_ajp13_worker.lo ../common/jk_ajp13_worker.c && \ntouch ../common/jk_ajp13_worker.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_ajp14.lo ../common/jk_ajp14.c && touch ../common/jk_ajp14.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_ajp14_worker.lo ../common/jk_ajp14_worker.c && \ntouch ../common/jk_ajp14_worker.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_ajp_common.lo ../common/jk_ajp_common.c && \ntouch ../common/jk_ajp_common.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_connect.lo ../common/jk_connect.c && \ntouch ../common/jk_connect.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_context.lo ../common/jk_context.c && \ntouch ../common/jk_context.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_jni_worker.lo ../common/jk_jni_worker.c && \ntouch ../common/jk_jni_worker.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_lb_worker.lo ../common/jk_lb_worker.c && \ntouch ../common/jk_lb_worker.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_map.lo ../common/jk_map.c && touch ../common/jk_map.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_md5.lo ../common/jk_md5.c && touch ../common/jk_md5.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_msg_buff.lo ../common/jk_msg_buff.c && \ntouch ../common/jk_msg_buff.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_nwmain.lo ../common/jk_nwmain.c && touch ../common/jk_nwmain.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_pool.lo ../common/jk_pool.c && touch ../common/jk_pool.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_sockbuf.lo ../common/jk_sockbuf.c && \ntouch ../common/jk_sockbuf.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_uri_worker_map.lo ../common/jk_uri_worker_map.c && \ntouch ../common/jk_uri_worker_map.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_util.lo ../common/jk_util.c && touch ../common/jk_util.slo\n/usr/local/apache2/build/libtool --silent --mode=compile gcc -prefer-pic  -\nDAP_HAVE_DESIGNATED_INITIALIZER -DSOLARIS2=7 -D_POSIX_PTHREAD_SEMANTICS -\nD_REENTRANT -g -O2 -DNO_DBM_REWRITEMAP -I/usr/local/apache2/include -\nI../common -I/usr/j2se/include -I/usr/j2se/include/solaris -DSOLARIS  -c -\no ../common/jk_worker.lo ../common/jk_worker.c && touch ../common/jk_worker.slo\n/usr/local/apache2/build/libtool --silent --mode=link gcc -o mod_jk.so -\nrpath /usr/local/apache2/modules -module -avoid-version -I../common -\nI/usr/j2se/include -I/usr/j2se/include/solaris -\nDSOLARIS   ../common/jk_worker.lo ../common/jk_util.lo ../common/jk_uri_worker_m\nap.lo ../common/jk_sockbuf.lo ../common/jk_pool.lo ../common/jk_nwmain.lo ../com\nmon/jk_msg_buff.lo ../common/jk_md5.lo ../common/jk_map.lo ../common/jk_lb_worke\nr.lo ../common/jk_jni_worker.lo ../common/jk_context.lo ../common/jk_connect.lo \n../common/jk_ajp_common.lo ../common/jk_ajp14_worker.lo ../common/jk_ajp14.lo ..\n/common/jk_ajp13_worker.lo ../common/jk_ajp13.lo ../common/jk_ajp12_worker.lo \nmod_jk.lo\nUndefined                       first referenced\n symbol                             in file\nsocket                              ../common/jk_connect.o\napr_date_parse_http                 mod_jk.o\nap_os_escape_path                   mod_jk.o\napr_palloc                          mod_jk.o\nap_hook_translate_name              mod_jk.o\nap_hook_handler                     mod_jk.o\nrecv                                ../common/jk_sockbuf.o\nap_rflush                           mod_jk.o\nap_server_root_relative             mod_jk.o\ndlclose                             ../common/jk_jni_worker.o  (symbol belongs \nto implicit dependency /usr/lib/libdl.so.1)\napr_table_setn                      mod_jk.o\nap_update_mtime                     mod_jk.o\napr_table_add                       mod_jk.o\nap_get_server_port                  mod_jk.o\ngethostbyname                       ../common/jk_connect.o\napr_filename_of_pathname            mod_jk.o\napr_pool_cleanup_register           mod_jk.o\nap_get_server_version               mod_jk.o\napr_pvsprintf                       mod_jk.o\nap_hook_child_init                  mod_jk.o\napr_sockaddr_port_get               mod_jk.o\nsend                                ../common/jk_sockbuf.o\nap_add_common_vars                  mod_jk.o\napr_pstrdup                         mod_jk.o\nap_setup_client_block               mod_jk.o\nsetsockopt                          ../common/jk_connect.o\nap_get_server_name                  mod_jk.o\napr_table_overlay                   mod_jk.o\nap_getword_conf                     mod_jk.o\nap_add_version_component            mod_jk.o\napr_table_set                       mod_jk.o\ninet_addr                           ../common/jk_connect.o\napr_table_make                      mod_jk.o\nap_log_error                        mod_jk.o\nap_get_client_block                 mod_jk.o\nap_should_client_block              mod_jk.o\nap_content_type_tolower             mod_jk.o\nap_get_remote_host                  mod_jk.o\napr_table_get                       mod_jk.o\nap_hook_post_config                 mod_jk.o\ndlsym                               ../common/jk_jni_worker.o  (symbol belongs \nto implicit dependency /usr/lib/libdl.so.1)\nap_set_last_modified                mod_jk.o\ndlopen                              ../common/jk_jni_worker.o  (symbol belongs \nto implicit dependency /usr/lib/libdl.so.1)\nap_rwrite                           mod_jk.o\nmain                                /usr/local/lib/gcc-lib/i386-pc-\nsolaris2.7/2.95.2/crt1.o\napr_pstrcat                         mod_jk.o\napr_psprintf                        mod_jk.o\ndlerror                             ../common/jk_jni_worker.o  (symbol belongs \nto implicit dependency /usr/lib/libdl.so.1)\nap_hook_map_to_storage              mod_jk.o\nconnect                             ../common/jk_connect.o\nld: fatal: Symbol referencing errors. No output written to mod_jk.so\ncollect2: ld returned 1 exit status\napxs:Error: Command failed with rc=65536", "id": 19594, "time": "2002-07-16T11:06:43Z", "creator": "fedj@inbox.ru", "creation_time": "2002-07-16T11:06:43Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 10860, "attachment_id": null, "id": 19595, "time": "2002-07-16T11:12:56Z", "creator": "hgomez@apache.org", "creation_time": "2002-07-16T11:12:56Z", "is_private": false, "text": "You don't have APR in the configure path, upgrade to a more recent jtc, ie the\none from 4.1.7"}, {"attachment_id": null, "tags": [], "bug_id": 10860, "is_private": false, "count": 2, "id": 19665, "time": "2002-07-17T06:36:42Z", "creator": "fedj@inbox.ru", "creation_time": "2002-07-17T06:36:42Z", "text": "Where I should add APR in the configure path? It is from mod_jk-howto.html:\n\nFor Solaris:\n\nUse the build-solaris.sh script as follows:\n\n# sh build-solaris.sh\nThis will build and install mod_jk.so in your apache/libexec directory.  This \nscript contains settings for your Java and Apache home locations.  Make sure \nthat these are set according to your installation.  The default settings are \nJAVA_HOME=/usr/java and APACHE_HOME=/usr/local/apache.  If your installation is \ndifferent, you will need to edit the build-solaris.sh script and change these \nvalues appropriately.\n\nSee README.solaris located in TOMCAT_HOME/native/mod_jk/apache1.3 for more \ninformation.\n\nIf the build script does not work, you can also build mod_jk as follows:\n\n$APACHE_HOME/bin/apxs -o mod_jk.so -DSOLARIS -I../jk -I/usr/java/include -\nI/usr/java/include/solaris -c *.c ../jk/*.c\nOn some systems, this will build the module correctly, but will fail at runtime \nwith a \"symbol \"fdatasync\" not found\". To fix, add -lposix4 just before the -c \nin the above command.\n"}]