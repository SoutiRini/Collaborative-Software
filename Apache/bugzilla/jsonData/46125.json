[{"attachment_id": null, "tags": [], "bug_id": 46125, "is_private": false, "count": 0, "id": 122011, "time": "2008-10-29T17:44:01Z", "creator": "matt@thebishops.org", "creation_time": "2008-10-29T17:44:01Z", "text": "It is possible to store too many cookies, or cookies that are too large for the header to properly carry. That's not good web programming, but still, it is quite common when one is using a JS framework.\n\nIf such a set of cookies is constructed and sent to Tomcat as part of a request, Tomcat panics and simply aborts the connection. This leads to a blank screen with no source code on the client's browser. Or, it leads to a cryptic error, like Safari's infamous \"CFErrorDomainCFNetwork error 302\" that drives many a newsgroup to tears trying to figure out what is going wrong with the server.\n\nExpected: return a '400 Bad Request error' like apache does. That would help the user know what is wrong with the request and help find a better resolution to the condition.\n\nI am attaching an HTML file that demonstrates this bug. Please run it in Tomcat and Apache as a comparison. I believe Apache handles the situation correctly."}, {"count": 1, "tags": [], "text": "Created attachment 22792\nAn HTML file that demonstrates the bug.", "is_private": false, "id": 122012, "creator": "matt@thebishops.org", "time": "2008-10-29T17:46:02Z", "bug_id": 46125, "creation_time": "2008-10-29T17:46:02Z", "attachment_id": 22792}, {"count": 2, "tags": [], "creator": "matt@thebishops.org", "attachment_id": null, "text": "The safari error is actually kCFErrorDomainCFNetwork error 302.", "id": 122031, "time": "2008-10-30T10:42:30Z", "bug_id": 46125, "creation_time": "2008-10-30T10:42:30Z", "is_private": false}, {"count": 3, "tags": [], "text": "This has been fixed in trunk and proposed for 6.0.x.\n\nNote that no content is returned but the return code is 400. There will also be a log message if debug logging is enabled.", "attachment_id": null, "id": 122110, "creation_time": "2008-11-01T17:38:01Z", "time": "2008-11-01T17:38:01Z", "creator": "markt@apache.org", "bug_id": 46125, "is_private": false}, {"count": 4, "tags": [], "bug_id": 46125, "attachment_id": null, "id": 123553, "time": "2008-12-27T11:31:05Z", "creator": "markt@apache.org", "creation_time": "2008-12-27T11:31:05Z", "is_private": false, "text": "This has been fixed in 6.0.x and will be included in 6.0.19 onwards."}]