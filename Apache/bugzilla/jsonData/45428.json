[{"count": 0, "tags": [], "bug_id": 45428, "is_private": false, "text": "my linux distro's \"/etc/init.d/tomcat stop\" roughly after 30 secs kill the tomcat process.\n\nThis probably relates to some web-app owned threads that wait and thus are no longer seen been by the manager.\n\nSince this is probably a hint about an application-internal software-engineering problem.\n\n\nTherefore, my suggestion:\n\nIf after ~ 15 secs (or some heuristic depending on the number of listeners configured by server.xml) the manager still couldn't really stop, print the stack-traces of the threads left to catalina.out (~ equivalent of \"kill -QUIT\")", "id": 118789, "time": "2008-07-18T00:54:36Z", "creator": "hauser@acm.org", "creation_time": "2008-07-18T00:54:36Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 169264, "time": "2013-08-07T18:51:58Z", "bug_id": 45428, "creation_time": "2013-08-07T18:51:58Z", "is_private": false, "text": "This has been fixed in trunk and will be included in 8.0.0-RC2 onwards.\n\nThis has been back-ported to 7.0.x and will be included in 7.0.43 onwards.\n\nThe enhancement only applies to platforms that usr catalina.sh.\n\nA thread dump is triggered if the stop command fails to complete in a timely manner. Note that detetcing a failure to stop requires that $CATALINA_PID is set.\n\nThis will not be back-ported to 6.0.x."}]