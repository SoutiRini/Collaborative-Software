[{"attachment_id": null, "tags": [], "creator": "ramon.casha@linux.org.mt", "is_private": false, "count": 0, "id": 47104, "time": "2003-11-10T10:57:18Z", "bug_id": 24556, "creation_time": "2003-11-10T10:57:18Z", "text": "The script used to run Ant doesn't add files from ANT_HOME/lib to the class \npath if they are actually symlinks to the physical files."}, {"count": 1, "text": "Can you give an example.\nI have just tested with ant1.6beta and ant1.5.4.\n\nI set up a symbolic link from $ANT_HOME/ant-contrib.jar to \n$ANT_HOME/save/ant-contrib.jar\nand the ant-contrib tasks still worked:\n<project name=\"antcontrib\" default=\"antcontrib\">\n  <taskdef resource=\"net/sf/antcontrib/antcontrib.properties\"/>\n  <target name=\"antcontrib\">\n    <if>\n      <equals arg1=\"x\" arg2=\"x\"/>\n      <then>\n        <echo>x is x</echo>\n      </then>\n    </if>\n  </target>\n</project>\nI then moved $ANT_HOME/lib/save to $ANT_HOME/lib/s, and the build\nfile correctly did not work.\n", "bug_id": 24556, "is_private": false, "id": 47106, "time": "2003-11-10T11:15:15Z", "creator": "peter.reilly@corvil.com", "creation_time": "2003-11-10T11:15:15Z", "tags": [], "attachment_id": null}, {"count": 2, "tags": [], "text": "Ant is installed in /opt/ant.\nI have several commons etc. in /opt/commons/xxx\nI created a symlink to /opt/commons/commons-net-1.1.0.jar in /opt/ant/lib,\nhowever when I run ant, this is not added to the classpath (confirmed by adding\n\"echo\" in front of command).\n\nI think this is caused by a test in the ant script (line 134 in v1.5.4), in\nwhich the script checks the files in lib using 'if [ -f \"$i\" ]'. The -f returns\ntrue only if the argument is a physical file, not if it's a symlink.", "attachment_id": null, "bug_id": 24556, "id": 47107, "time": "2003-11-10T11:35:34Z", "creator": "ramon.casha@linux.org.mt", "creation_time": "2003-11-10T11:35:34Z", "is_private": false}, {"count": 3, "tags": [], "text": "I have tested if [ -f symfile ] \non bsd, solaris and linux, in all cases\nthe symbolic file is treated as a normal file\n\nCan you check if\n\njar tf /opt/ant/lib/commons-net-1.1.0.jar\n\nworks ok", "attachment_id": null, "bug_id": 24556, "id": 47751, "time": "2003-11-21T08:36:53Z", "creator": "peter.reilly@corvil.com", "creation_time": "2003-11-21T08:36:53Z", "is_private": false}, {"count": 4, "tags": [], "creator": "ramon.casha@linux.org.mt", "attachment_id": null, "id": 47987, "time": "2003-11-24T07:37:28Z", "bug_id": 24556, "creation_time": "2003-11-24T07:37:28Z", "is_private": false, "text": "Oops, it seems to have been a file-permissions problem all along. Apparently the\nNetComponents distro has the jar file set to owner-readable-only. When I copied\nthe files they got new, readable permissions whereas the symlink pointed to the\nnon-readable original. *blush* "}]