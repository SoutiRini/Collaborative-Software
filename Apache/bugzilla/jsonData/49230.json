[{"count": 0, "tags": [], "creator": "kooper@ncsa.illinois.edu", "text": "Created attachment 25377\npatch to jreMemoryLeakPreventionListener to load sun.net.www.http.KeepAliveCache using system classloader\n\nWhen a servlet creates a URLConnection, internally this is done using sun.net.www.http.HttpClient. To have the ability to keep connections alive and close them after a certain time they are placed inside a cache. A static reference is kept to this cache (sun.net.www.http.KeepAliveCache).\n\nIt seems this cache is never released and the classloader stays in memory.\n\nI have a patch to jreMemoryLeakPreventionListener.java that will make sure the KeepAliveCache is loaded by the system classloader and not the webAppClassLoader.", "id": 136535, "attachment_id": 25377, "bug_id": 49230, "creation_time": "2010-04-29T12:17:59Z", "time": "2010-04-29T12:17:59Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 49230, "attachment_id": null, "id": 137800, "time": "2010-06-22T05:25:02Z", "creator": "markt@apache.org", "creation_time": "2010-06-22T05:25:02Z", "is_private": false, "text": "Thanks for the patch. It has been applied to 7.0.x and will be included in 7.0.1 onwards.\n\nI have also proposed the patch for back-port to  to 6.0.x"}, {"count": 2, "tags": [], "creator": "slaurent@apache.org", "attachment_id": null, "id": 137830, "time": "2010-06-22T15:36:52Z", "bug_id": 49230, "creation_time": "2010-06-22T15:36:52Z", "is_private": false, "text": "IMHO, logging an error if the class is not found might induce some users of non-Sun JVMs in error...\n\nan INFO level is probably enough, with a message explaining that it might be normal with some JVMs."}, {"count": 3, "tags": [], "text": "I've aligned the patch with how we handle other Sun specific issues for non-Sun JVMs.", "is_private": false, "id": 137836, "creation_time": "2010-06-23T03:44:14Z", "time": "2010-06-23T03:44:14Z", "creator": "markt@apache.org", "bug_id": 49230, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 49230, "text": "This has been fixed in 6.0.x and will be included in 6.0.28 onwards.", "id": 137922, "time": "2010-06-26T04:29:39Z", "creator": "markt@apache.org", "creation_time": "2010-06-26T04:29:39Z", "is_private": false, "attachment_id": null}]