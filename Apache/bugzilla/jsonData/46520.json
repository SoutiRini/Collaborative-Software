[{"count": 0, "tags": [], "text": "If running headless, constructor DefaultImageContext() currently throws an exception.\n\nPatch attached:\n\n   public DefaultImageContext() {\n    \t\n    \ttry {\n\n\t\t\tthis.sourceResolution = Toolkit.getDefaultToolkit()\n\t\t\t\t\t.getScreenResolution();\n\n\t\t} catch (HeadlessException he) {\n\n\t\t\tthis.sourceResolution = 160;\n\t\t}\n    }", "is_private": false, "bug_id": 46520, "id": 123984, "time": "2009-01-13T03:29:32Z", "creator": "jason@plutext.org", "creation_time": "2009-01-13T03:29:32Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 23111\npatch", "attachment_id": 23111, "id": 123985, "creation_time": "2009-01-13T03:30:29Z", "time": "2009-01-13T03:30:29Z", "creator": "jason@plutext.org", "bug_id": 46520, "is_private": false}, {"count": 2, "tags": [], "text": "Jason,\n\nI already noticed this in your other bug report: Why use 160 as the default resolution? Most systems use 72, 96, or 150. We should stick with standard values. If we can agree on a standard value (I'll look what fop uses - can't remember right now), I'll apply your fix.\n\nMax", "is_private": false, "bug_id": 46520, "id": 124007, "time": "2009-01-13T12:48:42Z", "creator": "max@berger.name", "creation_time": "2009-01-13T12:48:42Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "jeremias@apache.org", "is_private": false, "count": 3, "id": 124008, "time": "2009-01-13T13:00:08Z", "bug_id": 46520, "creation_time": "2009-01-13T13:00:08Z", "text": "Thanks, Jason. Thanks, Max, for processing the patch. I agree, the default should be 72 or 96 dpi. In FOP we normally use 72 dpi. Java uses the operating system's default which is 96dpi on many systems. Either is fine for me. 96 dpi is probably best for this case."}, {"count": 4, "tags": [], "creator": "jason@plutext.org", "attachment_id": null, "is_private": false, "id": 124014, "time": "2009-01-13T16:29:12Z", "bug_id": 46520, "creation_time": "2009-01-13T16:29:12Z", "text": "160 is the value Toolkit.getDefaultToolkit().getScreenResolution() returns on my system; that's the only reason I used it.  I'm also happy with either 72 or 96 dpi. Thanks guys."}, {"count": 5, "tags": [], "creator": "max@berger.name", "attachment_id": null, "id": 124080, "time": "2009-01-15T01:53:41Z", "bug_id": 46520, "creation_time": "2009-01-15T01:53:41Z", "is_private": false, "text": "I decided to use 72 according to [1].\n\nA fix is commited in rev. 734650.\n\nHowever, digging deeper into this issue (and also into bug #46468 ), I am not sure if the Screen Resultion is really what we want to use, particulary in FOP with non-screen targets, such as PDF this means that the resulting image size depends on the resultion setting of the machine it is executed on. I'll post an email to fop-dev about this.\n\n[1] http://java.sun.com/products/java-media/2D/reference/faqs/index.html#Q_Why_does_eg_a_10_pt_font_in_Ja"}, {"count": 6, "tags": [], "creator": "jeremias@apache.org", "attachment_id": null, "id": 124081, "time": "2009-01-15T02:01:30Z", "bug_id": 46520, "creation_time": "2009-01-15T02:01:30Z", "is_private": false, "text": "FOP is not affected by this since it implements the ImageContext interface in FopFactory. And the setting there is controlled through the configuration file which defaults to 72dpi."}, {"attachment_id": null, "tags": [], "creator": "max@berger.name", "is_private": false, "count": 7, "id": 124082, "time": "2009-01-15T02:24:28Z", "bug_id": 46520, "creation_time": "2009-01-15T02:24:28Z", "text": "Jeremias,\n\nthanks, so no email to fop-dev, and this issue can be kept closed.\n\nMax"}]