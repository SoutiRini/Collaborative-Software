[{"count": 0, "tags": [], "creator": "bluewolf.chung@gmail.com", "attachment_id": null, "text": "In org.apache.jasper.JspC#execute() method,\nif uriRoot is not null,\nit scans all jsp files under uriRoot,\nand then checks if uriRoot is a directory.\n\nIt should be more desirable to check if uriRoot is a directory or not first and then scanning it.\n\n\nHere are my suggestion.\n\n            if (uriRoot == null) {\n                throw new JasperException(\n                    Localizer.getMessage(\"jsp.error.jspc.no_uriroot\"));\n            }\n\n            File uriRootF = new File(uriRoot);\n            if (!uriRootF.exists() || !uriRootF.isDirectory()) {\n                throw new JasperException(\n                    Localizer.getMessage(\"jsp.error.jspc.uriroot_not_dir\"));\n            }\n\n            if( context==null ) {\n                initServletContext();\n            }\n\n            // No explicit pages, we'll process all .jsp in the webapp\n            if (pages.size() == 0) {\n                scanFiles(uriRootF);\n            }", "id": 154160, "time": "2012-02-26T07:41:43Z", "bug_id": 52772, "creation_time": "2012-02-26T07:41:43Z", "is_private": false}, {"count": 1, "tags": [], "text": "And !uriRootF.exists() || !uriRootF.isDirectory() is redundant. isDirectory() checks existence, too.", "is_private": false, "id": 154161, "creator": "bluewolf.chung@gmail.com", "time": "2012-02-26T07:44:35Z", "bug_id": 52772, "creation_time": "2012-02-26T07:44:35Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "markt@apache.org", "is_private": false, "text": "Thanks for the report and the suggested fix.\n\nThis issue has been fixed in trunk and 7.0.x and will be included in 7.0.27 onwards.", "id": 154647, "time": "2012-03-07T15:11:45Z", "bug_id": 52772, "creation_time": "2012-03-07T15:11:45Z", "attachment_id": null}]