[{"count": 0, "tags": [], "bug_id": 41777, "attachment_id": null, "id": 100114, "time": "2007-03-06T23:47:34Z", "creator": "arekm@maven.pl", "creation_time": "2007-03-06T23:47:34Z", "is_private": false, "text": "Two scenarios. First:\n\nRewriteCond %{SERVER_NAME} ^www\\.(.*)\\.xyz\\.pl$ [NC]\nRewriteRule ^(%1/.*)$  http://www.xyz.pl/$1 [L,R]\n\n% backreferences doesn't work in first argument of RewriteRule: ^(%1/.*)$\nIt's just treated literally.\n\nThe other case is:\nRewriteCond %{SERVER_NAME} ^www\\.(.*)\\.xyz\\.pl$ [NC]\nRewriteCond %{REQUEST_URI} ^/%1$ [NC]\nRewriteRule ^(.*)$  http://www.xyz.pl/$1 [L,R]\n\n% backreference doesn't work in second RewriteCond even if first matches.\n\nDocumentation says that % backreference should work there IMO."}, {"count": 1, "tags": [], "creator": "nd@perlig.de", "text": "You're just expecting the wrong things ;)\n\n(1) The control flow is extensively documented. That is: Ruleregex -> conds ->\nrule substitution, so you case cannot for that reason alone.\n\n(2) You cannot use runtime data in the regexps. They are compiled before the\nruntime data is even seen", "id": 100124, "time": "2007-03-07T02:35:49Z", "bug_id": 41777, "creation_time": "2007-03-07T02:35:49Z", "is_private": false, "attachment_id": null}]