[{"count": 0, "tags": [], "bug_id": 20852, "attachment_id": null, "text": "When invoking ssl_var_lookup through APR_RETRIEVE_OPTIONAL_FN(ssl_var_lookup),\nit crashes when the connection is not an SSL connection, and the variable is\n\"SSL_CLIENT_S_DN\". In that case, ssl_var_lookup_ssl retrieves myConnConfig(c),\nwhich returns NULL, and then accesses ssl = sslconn->ssl; which crashes.\n\nThere is apparently no way for the caller to find out whether the current\nconnection is an SSL connection (e.g. querying for \"HTTPS\" causes the same\ncrash). Therefore, I think mod_ssl should handle such calls gracefully,\nreturning NULL if an SSL_ variable is requested but no SSL connection is\nestablished.", "id": 39000, "time": "2003-06-18T05:25:47Z", "creator": "martin@v.loewis.de", "creation_time": "2003-06-18T05:25:47Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 20852, "text": "Thanks for the report.  ssl_var_lookup is safe to use for a non-SSL connection\nin HEAD; this will be proposed for backport for the next 2.0 release:\n\nhttp://cvs.apache.org/viewcvs/httpd-2.0/modules/ssl/ssl_engine_vars.c.diff?r1=1.26&r2=1.28", "id": 48114, "time": "2003-11-25T21:18:43Z", "creator": "jorton@redhat.com", "creation_time": "2003-11-25T21:18:43Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 20852, "text": "Fix backported for 2.0.49.", "id": 50408, "time": "2004-01-12T14:46:26Z", "creator": "jorton@redhat.com", "creation_time": "2004-01-12T14:46:26Z", "is_private": false, "attachment_id": null}]