[{"count": 0, "tags": [], "bug_id": 26279, "attachment_id": null, "id": 50810, "time": "2004-01-20T13:20:07Z", "creator": "ratmmmam@uol.com.br", "creation_time": "2004-01-20T13:20:07Z", "is_private": false, "text": "sorry my english, try to translate, because it is a serius problem:\n\nem servlets e jsp's n\u00e3o \u00e9 permitido executar comandos externos no servidor \n(como \u00e9 poss\u00edvel em qualquer classe java, atrav\u00e9s da java.lang.Runtime, por \nexemplo).\n\npor exemplo: Runtime.getRuntime().exec(\"rm -rf /etc/lilo.conf\"), se eu colocar isso \nnum  servlet ou num jsp n\u00e3o acontece nada... ainda bem...\n\nmas... esqueceram de implementar esta pol\u00edtica de seguran\u00e7a em listeners e \nacredito tamb\u00e9m (n\u00e3o testei) em filters, que s\u00e3o classes especiais que s\u00e3o \nutilizadas p/ \"filtrar\" requisi\u00e7\u00f5es (filters) e \"escutar\" eventos no contexto \n(listeners) da aplica\u00e7\u00e3o...\n\nem uma classe que implementa a ServletContextListener (que \"escuta\" eventos no \ncontexto da aplica\u00e7\u00e3o, quando a mesma ou o tomcat \u00e9 iniciado ou finalizado) \neu consegui executar comandos como o citado no exemplo acima!!!!\n\ne como os \"administradores de rede\" geralmente executam o tomcat como root \n(ruindous ent\u00e3o \u00e9 uma piada), imaginem o estrago que d\u00e1 p/ ser feito com \nisso!!!! mas p/ que isto ocorra o \"atacante\" tem que ter acesso a uma conta \nno server p/ poder criar um ou alterar um listener existente... o que \ndificulta o aplica\u00e7\u00e3o da t\u00e9cnica acima... mas n\u00e3o deixa de ser uma grande \nfalha, pois com uma conta qualquer em um servidor rodando o tomcat eu posso \ncriar um listener (ou filter) e executar comandos no sistema caso o tomcat \nseja executado como root!!!!\n\nacredito que ainda ningu\u00e9m tenha se tocado desse \"fato\", pois n\u00e3o encontrei na \nweb nada relacionado... mas...\n\nprovavelmente por que a manipula\u00e7\u00e3o de listeners e filters sejam t\u00e9cnicas um \npouco avan\u00e7adas e poucas pessoas as utilizam em aplica\u00e7\u00f5es web no tomcat."}, {"attachment_id": null, "tags": [], "bug_id": 26279, "is_private": false, "count": 1, "id": 50811, "time": "2004-01-20T13:24:03Z", "creator": "remm@apache.org", "creation_time": "2004-01-20T13:24:03Z", "text": "Errr, try the tomcat-user mailing list instead, and try to write in English (at\nleast find someone who can translate for you)."}, {"count": 2, "tags": [], "bug_id": 26279, "attachment_id": null, "id": 50812, "time": "2004-01-20T13:30:50Z", "creator": "ratmmmam@uol.com.br", "creation_time": "2004-01-20T13:30:50Z", "is_private": false, "text": "ok, resume:\n\nin a ServletContextListener I put a:\nRuntime.getRuntime().exec(\"rm -rf /etc/lilo.conf\")\nand it works!"}, {"count": 3, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "is_private": false, "id": 50813, "time": "2004-01-20T13:34:05Z", "bug_id": 26279, "creation_time": "2004-01-20T13:34:05Z", "text": "Solving this is the job of the security manager :) Look in the docs."}]