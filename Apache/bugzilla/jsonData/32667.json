[{"count": 0, "attachment_id": null, "bug_id": 32667, "is_private": false, "id": 68362, "time": "2004-12-13T16:43:36Z", "creator": "Joachim.Zierhold@eds.com", "creation_time": "2004-12-13T16:43:36Z", "tags": [], "text": "The setProxy task sets the properties \"http.proxyUser\" and \"http.proxyPassword\"\nin order to provide user and password for proxy authentication.\nWith JDK 1.4.2_0x on Linux this does not work (I think this is also reported in\nSuns bug database. In JDK 1.3 it seems to work). The workaround with using the\nAuthenticator class works on this platform. Following the javadoc, it should be\nusable since JDK 1.2.\n\n\ndiff -rb ./src/main/org/apache/tools/ant/taskdefs/optional/net/SetProxy.java\n../apache-ant-1.6.2/src/main/org/apache/tools/ant/taskdefs/optional/net/SetProxy.java\n25a26\n> import java.net.*;\n196a198,199\n>                     Authenticator.setDefault(\n>                        new HttpAuthenticateProxy( proxyUser, proxyPassword ));\n221a225,226\n>                     Authenticator.setDefault(\n>                        new HttpAuthenticateProxy( proxyUser, proxyPassword ));\n240a246,261\n>       public class HttpAuthenticateProxy extends Authenticator\n>          {\n>          String user, password;\n>\n>          public HttpAuthenticateProxy( String user, String password )\n>             {\n>             this.user = user;\n>             this.password = password;\n>             }\n>\n>          protected PasswordAuthentication getPasswordAuthentication()\n>             {\n>             return new PasswordAuthentication(\n>                user, password.toCharArray());\n>             }\n>          }\n246c267\n<                 + (proxyHost != null ? proxyHost : \"''\")\n---\n>                 + proxyUser + \":\" + proxyPassword + \"@\" + (proxyHost != null ?\nproxyHost : \"''\")"}, {"count": 1, "attachment_id": null, "bug_id": 32667, "is_private": false, "id": 68760, "time": "2004-12-21T15:09:56Z", "creator": "bodewig@apache.org", "creation_time": "2004-12-21T15:09:56Z", "tags": [], "text": "fixed in CVS, thanks."}, {"count": 2, "tags": [], "bug_id": 32667, "attachment_id": null, "text": "*** Bug 37595 has been marked as a duplicate of this bug. ***", "id": 90671, "time": "2006-06-27T18:33:39Z", "creator": "stevel@apache.org", "creation_time": "2006-06-27T18:33:39Z", "is_private": false}]