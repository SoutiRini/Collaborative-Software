[{"count": 0, "tags": [], "text": "When the httpd binary is set suid, to enable non-root users to use port 80 \nfor example, if multiple IPs are used, thus with two or more Listen \ndirectives, Apache will error and die on start-up with the following \nmessage:\n\n[Wed Jun 19 10:15:45 2002] [notice] Apache/1.3.26 (Unix) ApacheJServ/1.1.2 \nconfigured -- resuming normal operations\n[Wed Jun 19 10:15:45 2002] [notice] Accept mutex: sysvsem (Default: sysvsem)\naccept_mutex_on: Permission denied\n[Wed Jun 19 10:15:46 2002] [alert] Child 13364 returned a Fatal error... \nApache is exiting!\n\nit will work fine when run as root, or when run suid as a non-root users \nwith just one IP/Listen directive.\n\nThis configuration works fine on Apache 1.3.14, but not with 1.3.26. Tested \nwith and without non-standard modules compiled in, will still fail.\n\n./configure --add-module=/usr/local/src/mod_atrack/mod_atrack.c \n--enable-module=expires --disable-module=userdir --with-layout=MyLayout\n\nroot@ws2.uk0-test:~# ls -ld /usr/local/apache/bin/httpd \n-rwsr-x---    1 root     www        589052 Jun 19 09:45 \n/usr/local/apache/bin/httpd*\n\nOnly tested on GNU/Linux, but reproduced on a number of boxes.", "is_private": false, "bug_id": 9998, "id": 18066, "time": "2002-06-19T12:53:46Z", "creator": "amackinlay@tirin.openworld.co.uk", "creation_time": "2002-06-19T12:53:46Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 9998, "attachment_id": null, "id": 18077, "time": "2002-06-19T15:30:50Z", "creator": "aaron@apache.org", "creation_time": "2002-06-19T15:30:50Z", "is_private": false, "text": "You really should never set the suid bit on the httpd binary. I'm marking this\nas \"wontfix\" for now, since this is very likely a huge security hole on your system,\nbut if you can reproduce this problem without the suid bit and starting as root,\nthen please reopen this report."}]