[{"count": 0, "tags": [], "creator": "tomasz.bech@bull.com.pl", "text": "In case of wrong result from cvs, only 'Error running cvs log' is visible. The\nfix is to move the displaying of 'error log' from cvs, just after launching the\ncvs command. Below you will find the patch. Still one issue:\n- cvs is too robust in command cvs log - it often produces proper/good output\nbut still returns as result 1 (bad) - often when there are some warnings. Maybe\nit would be nice to have additional switch: 'ignoreresult'  (cvs result)\n\nIndex: ChangeLogTask.java\n===================================================================\nRCS file:\n/home/cvspublic/ant/src/main/org/apache/tools/ant/taskdefs/cvslib/ChangeLogTask.java,v\nretrieving revision 1.25\ndiff -u -r1.25 ChangeLogTask.java\n--- ChangeLogTask.java\t17 Sep 2003 20:11:43 -0000\t1.25\n+++ ChangeLogTask.java\t19 Dec 2003 09:49:07 -0000\n@@ -283,20 +283,20 @@\n             exe.setWorkingDirectory(m_dir);\n             exe.setCommandline(command.getCommandline());\n             exe.setAntRun(getProject());\n-            try {\n+\n+\t\t\t\t\t\ttry {\n                 final int resultCode = exe.execute();\n \n+\t\t\t\t\t\t\t\tfinal String errors = handler.getErrors();\n+\t\t\t\t\t\t\t\n+\t\t\t\t\t\t\t\tif (null != errors) {\n+\t\t\t\t\t\t\t\t\tlog(errors, Project.MSG_ERR);\n+\t\t\t\t\t\t\t\t}\n                 if (Execute.isFailure(resultCode)) {\n                     throw new BuildException(\"Error running cvs log\");\n                 }\n             } catch (final IOException ioe) {\n                 throw new BuildException(ioe.toString());\n-            }\n-\n-            final String errors = handler.getErrors();\n-\n-            if (null != errors) {\n-                log(errors, Project.MSG_ERR);\n             }\n \n             final CVSEntry[] entrySet = parser.getEntrySetAsArray();", "id": 49419, "time": "2003-12-19T10:01:45Z", "bug_id": 25645, "creation_time": "2003-12-19T10:01:45Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": 9638, "creator": "tomasz.bech@bull.com.pl", "is_private": false, "id": 49423, "time": "2003-12-19T11:03:28Z", "bug_id": 25645, "creation_time": "2003-12-19T11:03:28Z", "tags": [], "text": "Created attachment 9638\npatch as attachement"}, {"count": 2, "tags": [], "bug_id": 25645, "is_private": false, "text": "should be fixed with nightly build 2005-03-16", "id": 72452, "time": "2005-03-15T16:25:07Z", "creator": "bodewig@apache.org", "creation_time": "2005-03-15T16:25:07Z", "attachment_id": null}]