[{"attachment_id": null, "tags": [], "creator": "ggregory@seagullsw.com", "is_private": false, "count": 0, "id": 63324, "time": "2004-09-09T23:12:10Z", "bug_id": 31155, "creation_time": "2004-09-09T23:12:10Z", "text": "I need to throw an exception with the same message I am logging. The localized\nl7d  methods already perform the resource lookup and builds the message based on\nObject parameters; I would rather not have to do it again in my code. I\ntherefore propose the attached patch to Category.java version 1.88.\n\nThe main point of this patch is to refactor the parameterized l7d method and\nextract out the code that builds a message based on a key and Object array.\n\nThe patch also contains Javadoc fixes.\n\nThank you for considering this request and patch."}, {"attachment_id": 12688, "tags": [], "creator": "ggregory@seagullsw.com", "is_private": false, "count": 1, "id": 63325, "time": "2004-09-09T23:12:39Z", "bug_id": 31155, "creation_time": "2004-09-09T23:12:39Z", "text": "Created attachment 12688\nPatch to Category.java version 1.88."}, {"attachment_id": null, "tags": [], "creator": "genman@noderunner.net", "is_private": false, "count": 2, "id": 98594, "time": "2007-01-26T18:57:12Z", "bug_id": 31155, "creation_time": "2007-01-26T18:57:12Z", "text": "\nThe method getResourceBundleString() is really just for internal use.\n\nThe purpose of the class is to generate logging statements, not format strings,\nwhich is why the formatting aspect is not included. I understand your need, but\nI don't really agree that it is appropriate to expose such methods arbitrarily.\n\nLog 1.3 *does* allow you to specify your own org.apache.log4j.spi.LoggerFactory,\nwhere you can create specialized subclasses of Logger that suit your own needs.\n\nIn your case, you could create a method such as:\n\n/**\n * Localized log and throw.\n */\npublic void llogThrow(Level level, String key, Object param[]) \n   throws Exception\n{\n  String msg = getResourceBundleString(key, param);\n  log(level, msg);\n  throw new Exception(msg);\n}\n\nAdding a \n\n  protected getResourceBundleString(String, Object[])\n\ndoes seems useful.\n\nI'll check in with the Log4J dev folks on protected -> public, though."}, {"count": 3, "tags": [], "creator": "carnold@apache.org", "attachment_id": null, "text": "I believe that the underlying motivation (parameterized logging using resource bundles) has been \naddressed with the LogMF and LogSF classes in extras.  Marking bug as closed.  Please reopen if I've \nmisunderstood the problem.", "id": 107058, "time": "2007-08-22T14:33:45Z", "bug_id": 31155, "creation_time": "2007-08-22T14:33:45Z", "is_private": false}]