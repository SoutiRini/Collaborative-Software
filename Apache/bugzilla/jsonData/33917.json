[{"count": 0, "tags": [], "creator": "christoph@illnar.com", "attachment_id": null, "text": "I have a server that i have to query on a regular basis for a list of dynamic\ndata. this data is produced by php 4.3 and the server runs apache 2.0.50 on fedora.\n\nmy request is http/1.1 and the server responds with a chunked transfer encoding.\nthe client system is a suse 9.2 with utf-8 as standard encoding.\nit happens that the reported sizes of the chunks are slightly larger than the\nactual chunk size so that processing the chunks is not safe.\n\nas a workaround i tried to query the remote server via a local proxy server\n(apache 2.0.50, proxypass) on the same machine. chunk sizes were different now,\nbut slightly wrong as well.\n\nother pages served by this local apache are transfered well even when chunked\ntransfers are in use.\n\nit seems to me that there is some kind of endoding problems when counting octets.\n\n----\nthese are the original headers sent by the original server:\nHTTP/1.1 200 OK\nDate: Tue, 08 Mar 2005 22:38:24 GMT\nServer: Apache/2.0.50 (Fedora)\nX-Powered-By: PHP/4.3.8\nX-Accelerated-By: PHPA/1.3.3r2\nSet-Cookie: cVID=scRUlldLIHiJ40k1; expires=Wed, 09-Mar-2005 22:38:24 GMT; path=/\nConnection: close\nTransfer-Encoding: chunked\nContent-Type: text/html; charset=ISO-8859-1\n\nsaved responses are available on request (illnar@globalace.net)", "id": 72022, "time": "2005-03-08T23:46:55Z", "bug_id": 33917, "creation_time": "2005-03-08T23:46:55Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 33917, "attachment_id": null, "id": 72137, "time": "2005-03-10T14:52:23Z", "creator": "jorton@redhat.com", "creation_time": "2005-03-10T14:52:23Z", "is_private": false, "text": "Please attach the protocol traces which show bad chunk sizes (e.g. from saved\nfrom ethereal); are you using a custom HTTP client here?"}, {"attachment_id": 14457, "tags": [], "bug_id": 33917, "text": "Created attachment 14457\ndump with original response of server\n\nRequest was:\n\n--------\nGET [url @ server] HTTP/1.1\nHost: www.pabo.at\nConnection: close\n\n--------\nOriginal connections were made via the tcl http-package, modified to support\nhttp/1.1\n\nThe connection to produce the dump attached was made with\ntelnet www.pabo.at 80 > /tmp/pabo.out", "count": 2, "id": 72141, "time": "2005-03-10T15:24:33Z", "creator": "christoph@illnar.com", "creation_time": "2005-03-10T15:24:33Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 33917, "text": "A real tcpdump protocol trace e.g. saved from  ethereal is preferred to avoid\nstuff like newline translation between here and there.\n\nCan you reproduce the issues with a different HTTP/1.1 client e.g. a real\nbrowser?  This is really most likely to a client issue.", "count": 3, "id": 72142, "time": "2005-03-10T15:42:29Z", "creator": "jorton@redhat.com", "creation_time": "2005-03-10T15:42:29Z", "is_private": false}, {"count": 4, "tags": [], "text": "Verified using URL given off-line - it's some issue with the client.", "attachment_id": null, "id": 72143, "creator": "jorton@redhat.com", "time": "2005-03-10T15:59:52Z", "bug_id": 33917, "creation_time": "2005-03-10T15:59:52Z", "is_private": false}]