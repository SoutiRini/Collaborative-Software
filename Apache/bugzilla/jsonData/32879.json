[{"count": 0, "tags": [], "creator": "fmisiak@telegea.com", "is_private": false, "id": 69063, "creation_time": "2004-12-29T20:48:50Z", "time": "2004-12-29T20:48:50Z", "bug_id": 32879, "text": "To make the overriding of deployment time parameter a reality we'd need the\nfollowing fix in method\norg.apache.catalina.core.ApplicationContext.mergeParameters():\n...\n...\n        for (int i = 0; i < params.length; i++) {\n            if (params[i].getOverride()) {\n                if (results.get(params[i].getName()) == null)\n-----------------------------------------------------^\n                    results.put(params[i].getName(), params[i].getValue());\n            } else {\n                results.put(params[i].getName(), params[i].getValue());\n            }\n        }\n...\nShould be fixed this way:\n...\n        for (int i = 0; i < params.length; i++) {\n            if (params[i].getOverride()) {\n                if (results.get(params[i].getName()) != null)\n-----------------------------------------------------^\n                    results.put(params[i].getName(), params[i].getValue());\n            } else {\n                results.put(params[i].getName(), params[i].getValue());\n            }\n        }", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 32879, "attachment_id": null, "id": 69074, "time": "2004-12-30T10:00:40Z", "creator": "tfohrer@t-online.de", "creation_time": "2004-12-30T10:00:40Z", "is_private": false, "text": "See tomcat 5.5/5.0 configuration reference.\n\n\"override\t\n\nSet this to false if you do not want a <context-param> for the same parameter \nname, found in the web application deployment descriptor, to override the value \nspecified here. By default, overrides are allowed.\"\n\noverride = false => parameter from context.xml win\noverride = true => parameter from web.xml win \n\nEffect of your patch:\n  Go through parameters (context.xml)\n   If override = true\n      Exist a web.xml parameter with same name?\n       If yes \n         override it with value from context.xml parameter\n   else\n      Override/Add parameter (context.xml)\n\n   \n"}]