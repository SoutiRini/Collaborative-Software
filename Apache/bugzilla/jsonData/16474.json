[{"count": 0, "tags": [], "bug_id": 16474, "attachment_id": null, "id": 30141, "time": "2003-01-27T21:04:44Z", "creator": "Ryan.Lubke@Sun.COM", "creation_time": "2003-01-27T21:04:44Z", "is_private": false, "text": "Using a simple client that sends a cookie per RFC 2109:\n\nCookie: $Version=1; CookieName=CookieValue; $Path=/; $Domain=.test.com\n\nOn the server side, HttpServletRequest.getCookies() returns an array of Cookies\nwith 1 element.  Cookie.getName() and Cookie.getValue() both return the expected\nvalues, bug Cookie.getVersion() returns 0, and Cookie.getDomain() and\nCookie.getPath() returns null."}, {"count": 1, "tags": [], "creator": "jfarcand@apache.org", "attachment_id": null, "id": 32035, "time": "2003-02-26T19:37:14Z", "bug_id": 16474, "creation_time": "2003-02-26T19:37:14Z", "is_private": false, "text": "Fixed.\n\nThanks,\n\n-- Jeanfrancois"}, {"count": 2, "tags": [], "text": "Hi,\n\nI am using Apache Tomcat/5.5.17.\n\nWith this version I got the same result as described in the bug-report.\n\nIs it realy fixed?\n\nThe Cookie.getPath() and Cookie.getDomain() returns always 'null'.\n\n\nMy example program:\n\npackage test;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.Cookie;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class CookieAnzeige extends HttpServlet {\n\tprivate static final long serialVersionUID = 1L;\n\n\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n\t\t\tthrows ServletException, IOException {\n\t\t// Returns a writer to write to the browser\n\t\tPrintWriter out = response.getWriter();\n\n\t\t// Writes the string to the browser.\n\t\tout.println(\"Anzeige und Setzen von Cookies:\");\n\n\t\tCookie[] cookies = request.getCookies();\n\t\tif (cookies == null)\n\t\t\tout.println(\"Kein Cookie gesetzt!\");\n\t\telse {\n\t\t\tfor (int i = 0; i < cookies.length; i++) {\n\t\t\t\tString cookieName = cookies[i].getName();\n\t\t\t\tout.println(\"Cookie \" + cookieName + \" hat den Wert \"\n\t\t\t\t\t\t+ cookies[i].getValue() + \" Pfad: \"\n\t\t\t\t\t\t+ cookies[i].getPath() + \" Domain: \"\n\t\t\t\t\t\t+ cookies[i].getDomain());\n\t\t\t}\n\t\t}\n\n\t\tCookie Versicherungsnehmer = new Cookie(\"Versicherungsnehmer\", \"123456\");\n\t\tVersicherungsnehmer.setPath(\"/\");\n\t\tresponse.addCookie(Versicherungsnehmer);\n\n\t\tout.close();\n\t}\n}\n\n\nThe result:\n\nAnzeige und Setzen von Cookies:\n\nCookie JSESSIONID hat den Wert A08AE263E7D9854C649BEA65CDE5056A Pfad: null\nDomain: null\n\nCookie Versicherungsnehmer hat den Wert 123456 Pfad: null Domain: null ", "attachment_id": null, "bug_id": 16474, "id": 95860, "time": "2006-11-15T05:19:26Z", "creator": "Steffen.Spahr@oeffentliche.de", "creation_time": "2006-11-15T05:19:26Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 16474, "attachment_id": null, "id": 95916, "time": "2006-11-16T18:49:04Z", "creator": "markt@apache.org", "creation_time": "2006-11-16T18:49:04Z", "is_private": false, "text": "I have repeated the test described by the OP using telnet and the cookie is\ncorrectly parsed. I suspect your client is not sending what you think it is. The\nTomcat users list is the right place to get help with this."}]