[{"attachment_id": null, "tags": [], "bug_id": 13832, "is_private": false, "count": 0, "id": 24965, "time": "2002-10-21T23:10:52Z", "creator": "amyroh@apache.org", "creation_time": "2002-10-21T23:10:52Z", "text": "When accessing http://localhost:8443, (Not https://localhost:8443) tomcat \ngenerates SSL handshaking error and hangs.\n\nFor http://localhost:8443, tomcat should give \"Not Found\" error in the browser \nrather than trying to use SSL connection, since it is not a SSL protocol.\n\nOct 21, 2002 3:58:31 PM org.apache.tomcat.util.log.CommonLogHandler log\nSEVERE: Handshake failed\njavax.net.ssl.SSLException: Unrecognized SSL handshake.\n        at com.sun.net.ssl.internal.ssl.InputRecord.read(DashoA6275)\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.a(DashoA6275)\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.a(DashoA6275)\n        at com.sun.net.ssl.internal.ssl.AppOutputStream.write(DashoA6275)\n        at java.io.OutputStream.write(OutputStream.java:58)\n        at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(DashoA6275)\n\n        at org.apache.tomcat.util.net.jsse.JSSESocketFactory.handshake(JSSESocke\ntFactory.java:290)\n        at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java\n:513)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadP\nool.java:533)\n        at java.lang.Thread.run(Thread.java:536)\nOct 21, 2002 3:58:31 PM org.apache.tomcat.util.log.CommonLogHandler log\nSEVERE: Caught exception executing org.apache.tomcat.util.net.TcpWorkerThread@5c\n3987, terminating thread\njava.lang.NullPointerException\n        at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java\n:532)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadP\nool.java:533)\n        at java.lang.Thread.run(Thread.java:536)"}, {"attachment_id": null, "tags": [], "bug_id": 13832, "is_private": false, "count": 1, "id": 24976, "time": "2002-10-22T06:57:54Z", "creator": "remm@apache.org", "creation_time": "2002-10-22T06:57:54Z", "text": "If the connector on port 8443 in non-SSL, it works. If the connector on 8443 is\nSSL, then it won't work (using http://localhost:8443 will try to connect in\nnon-SSL mode, and the connector is right to complain)."}, {"count": 2, "tags": [], "bug_id": 13832, "text": "Ah, you're being rough on poor Amy.  If it's her itch, let her scratch it.\n\nThe NPE is simple, and should probably be patched.  I don't know any way to \nconvert an SSLSocket to a PlainSocket to give the nice, pretty, error message \nthat Apache/httpd does for this case.  However, catching the exception on the \nhandshake, closing the socket, and re-throwing looks like a viable alternative \nto me (since, from the report, the socket isn't closed in this case).\n\nAmy: Please give your JVM/JSSE version for SSL-related bugs.  It's too hard to \ntrack otherwise.", "id": 24977, "time": "2002-10-22T07:43:23Z", "creator": "william.barker@wilshire.com", "creation_time": "2002-10-22T07:43:23Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 13832, "is_private": false, "text": "Ah, ok, the NPE is the actual bug then. This is not crystal clear in the report\n(and I don't quite see the need of filing one; it looks like an easy fix).", "id": 24980, "time": "2002-10-22T09:27:51Z", "creator": "remm@apache.org", "creation_time": "2002-10-22T09:27:51Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 13832, "is_private": false, "text": "Since I've been bad, I just committed a fix. I think it fixes the issues raised\nby Bill.", "id": 24982, "time": "2002-10-22T09:44:41Z", "creator": "remm@apache.org", "creation_time": "2002-10-22T09:44:41Z", "attachment_id": null}]