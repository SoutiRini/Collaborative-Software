[{"count": 0, "attachment_id": null, "creator": "arriees@hotmail.com", "text": "I am using Apache Tomcat 5.5.9\n Mysql 5.0.20.\nWhen I try to connect after a prolonged interval,  I get the following error. \nNote: initially I am able to connect to MySQL and perform all operation.  I \nget this error only when there are no activity for a long time. \nShould I do any config changes for this or is it a known bug?\n\nthanks,\nAravind.\n\n/*ERROR MESSAGE */\nMay 22, 2006 3:39:34 PM org.apache.coyote.http11.Http11Protocol init\nINFO: Initializing Coyote HTTP/1.1 on http-6495\nMay 22, 2006 3:39:34 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 2109 ms\nMay 22, 2006 3:39:34 PM org.apache.catalina.core.StandardService start\nINFO: Starting service Catalina\nMay 22, 2006 3:39:34 PM org.apache.catalina.core.StandardEngine start\nINFO: Starting Servlet Engine: Apache Tomcat/5.5.9\nMay 22, 2006 3:39:34 PM org.apache.catalina.core.StandardHost start\nINFO: XML validation disabled\nMay 22, 2006 3:39:38 PM org.apache.coyote.http11.Http11Protocol start\nINFO: Starting Coyote HTTP/1.1 on http-6495\nMay 22, 2006 3:39:38 PM org.apache.jk.common.ChannelSocket init\nINFO: JK: ajp13 listening on /0.0.0.0:8009\nMay 22, 2006 3:39:38 PM org.apache.jk.server.JkMain start\nINFO: Jk running ID=0 time=0/78  config=null\nMay 22, 2006 3:39:38 PM org.apache.catalina.storeconfig.StoreLoader load\nINFO: Find registry server-registry.xml at classpath resource\nMay 22, 2006 3:39:39 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 4672 ms\ncom.mysql.jdbc.CommunicationsException: Communications link failure due to \nunder\nlying exception:\n\n** BEGIN NESTED EXCEPTION **\n\njava.io.EOFException\n\nSTACKTRACE:\n\njava.io.EOFException\n        at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:1865)\n        at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:2256)\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2756)\n        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1536)\n        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1626)\n        at com.mysql.jdbc.Connection.execSQL(Connection.java:3025)\n        at com.mysql.jdbc.Connection.execSQL(Connection.java:2954)\n        at com.mysql.jdbc.Statement.executeQuery(Statement.java:1009)\n        at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.executeQuery\n(Delegati\nngStatement.java:205)\n        at loginServlet.login(loginServlet.java:102)\n        at loginServlet.doPost(loginServlet.java:60)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(Appl\nicationFilterChain.java:252)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationF\nilterChain.java:173)\n        at org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperV\nalve.java:213)\n        at org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextV\nalve.java:178)\n        at org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.j\nava:126)\n        at org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.j\nava:105)\n        at org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineVal\nve.java:107)\n        at org.apache.catalina.connector.CoyoteAdapter.service\n(CoyoteAdapter.jav\na:148)\n        at org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java\n:856)\n        at \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.proce\nssConnection(Http11Protocol.java:744)\n        at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket\n(PoolTcpEndpo\nint.java:527)\n        at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt\n(LeaderFol\nlowerWorkerThread.java:80)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadP\nool.java:684)\n        at java.lang.Thread.run(Thread.java:595)\n\n\n** END NESTED EXCEPTION **\n\n\n\nLast packet sent to the server was 5953 ms ago.", "id": 89420, "time": "2006-05-24T07:50:09Z", "bug_id": 39651, "creation_time": "2006-05-24T07:50:09Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "text": "This isn't a bug.  MySQL, by default, times out connections after a prolonged\nperiod of time.  See:\n\nhttp://dev.mysql.com/doc/connector/j/en/cj-faq.html#connector_j_wait_timeout_q_and_a\n\nJust add \"autoReconnect=true\" to your JDBC URL options.  Something like:\n\njdbc:mysql://localhost/mydb?autoReconnect=true\n\nThis should solve this problem.", "attachment_id": null, "id": 89451, "creator": "dpotter@mitre.org", "time": "2006-05-24T17:57:02Z", "bug_id": 39651, "creation_time": "2006-05-24T17:57:02Z", "is_private": false}]