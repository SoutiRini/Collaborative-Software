[{"count": 0, "tags": [], "bug_id": 21951, "is_private": false, "text": "Calling 3 times JSP that contains PHP script causes crash of Tomcat with \nfollowing stack trace:\n\n\nAn unexpected exception has been detected in native code outside the VM.\nUnexpected Signal : EXCEPTION_ACCESS_VIOLATION occurred at PC=0x11D2E84B\nFunction=zend_hash_add_or_update+0xAB\nLibrary=C:\\Programme\\PHP4.3.2\\php4ts.dll\n\nCurrent Java thread:\n\tat net.php.servlet.send(Native Method)\n\tat net.php.servlet.service(servlet.java:190)\n\tat net.php.servlet.service(servlet.java:214)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:260)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke\n(AuthenticatorBase.java:550)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2415)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:172)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:509)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:1040)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1151)\n\tat java.lang.Thread.run(Thread.java:536)\n\nDynamic libraries:\n0x00400000 - 0x00406000 \tC:\\java\\jdk\\bin\\java.exe\n0x77880000 - 0x77901000 \tC:\\WINNT\\System32\\ntdll.dll\n0x77DA0000 - 0x77DFB000 \tC:\\WINNT\\system32\\ADVAPI32.dll\n0x77E70000 - 0x77F32000 \tC:\\WINNT\\system32\\KERNEL32.DLL\n0x77D30000 - 0x77DA0000 \tC:\\WINNT\\system32\\RPCRT4.DLL\n0x78000000 - 0x78046000 \tC:\\WINNT\\system32\\MSVCRT.dll\n0x6D450000 - 0x6D6AD000 \tC:\\java\\jdk\\jre\\bin\\server\\jvm.dll\n0x77E00000 - 0x77E64000 \tC:\\WINNT\\system32\\USER32.dll\n0x77F40000 - 0x77F7C000 \tC:\\WINNT\\system32\\GDI32.DLL\n0x77540000 - 0x77571000 \tC:\\WINNT\\System32\\WINMM.dll\n0x6D1D0000 - 0x6D1D7000 \tC:\\java\\jdk\\jre\\bin\\hpi.dll\n0x6D300000 - 0x6D30D000 \tC:\\java\\jdk\\jre\\bin\\verify.dll\n0x6D210000 - 0x6D228000 \tC:\\java\\jdk\\jre\\bin\\java.dll\n0x6D320000 - 0x6D32D000 \tC:\\java\\jdk\\jre\\bin\\zip.dll\n0x6D2D0000 - 0x6D2DD000 \tC:\\java\\jdk\\jre\\bin\\net.dll\n0x74FC0000 - 0x74FC9000 \tC:\\WINNT\\System32\\WSOCK32.dll\n0x74FA0000 - 0x74FB3000 \tC:\\WINNT\\System32\\WS2_32.DLL\n0x74F90000 - 0x74F98000 \tC:\\WINNT\\System32\\WS2HELP.DLL\n0x74F40000 - 0x74F5F000 \tC:\\WINNT\\system32\\msafd.dll\n0x74F80000 - 0x74F87000 \tC:\\WINNT\\System32\\wshtcpip.dll\n0x77830000 - 0x7783C000 \tC:\\WINNT\\System32\\rnr20.dll\n0x77970000 - 0x77994000 \tC:\\WINNT\\System32\\DNSAPI.DLL\n0x77310000 - 0x77323000 \tC:\\WINNT\\System32\\iphlpapi.dll\n0x774F0000 - 0x774F5000 \tC:\\WINNT\\System32\\ICMP.DLL\n0x772F0000 - 0x77307000 \tC:\\WINNT\\System32\\MPRAPI.DLL\n0x750C0000 - 0x750D0000 \tC:\\WINNT\\System32\\SAMLIB.DLL\n0x750E0000 - 0x7512F000 \tC:\\WINNT\\System32\\NETAPI32.DLL\n0x77BD0000 - 0x77BDF000 \tC:\\WINNT\\System32\\SECUR32.DLL\n0x75130000 - 0x75136000 \tC:\\WINNT\\System32\\NETRAP.DLL\n0x77940000 - 0x7796A000 \tC:\\WINNT\\system32\\WLDAP32.DLL\n0x77A40000 - 0x77B36000 \tC:\\WINNT\\system32\\OLE32.DLL\n0x779A0000 - 0x77A3B000 \tC:\\WINNT\\system32\\OLEAUT32.DLL\n0x77380000 - 0x773AF000 \tC:\\WINNT\\System32\\ACTIVEDS.DLL\n0x77350000 - 0x77372000 \tC:\\WINNT\\System32\\ADSLDPC.DLL\n0x77820000 - 0x7782E000 \tC:\\WINNT\\System32\\RTUTILS.DLL\n0x78310000 - 0x783A0000 \tC:\\WINNT\\System32\\SETUPAPI.DLL\n0x77C00000 - 0x77C5E000 \tC:\\WINNT\\System32\\USERENV.DLL\n0x774B0000 - 0x774E2000 \tC:\\WINNT\\System32\\RASAPI32.DLL\n0x77490000 - 0x774A1000 \tC:\\WINNT\\System32\\RASMAN.DLL\n0x77500000 - 0x77522000 \tC:\\WINNT\\System32\\TAPI32.DLL\n0x77B40000 - 0x77BC9000 \tC:\\WINNT\\system32\\COMCTL32.DLL\n0x77C60000 - 0x77CAA000 \tC:\\WINNT\\system32\\SHLWAPI.DLL\n0x77330000 - 0x77349000 \tC:\\WINNT\\System32\\DHCPCSVC.DLL\n0x784A0000 - 0x78525000 \tC:\\WINNT\\System32\\CLBCATQ.DLL\n0x777D0000 - 0x777D8000 \tC:\\WINNT\\System32\\winrnr.dll\n0x777E0000 - 0x777E5000 \tC:\\WINNT\\System32\\rasadhlp.dll\n0x11C70000 - 0x11C76000 \tC:\\Programme\\PHP4.3.2\\sapi\\phpsrvlt.dll\n0x11C80000 - 0x11DC9000 \tC:\\Programme\\PHP4.3.2\\php4ts.dll\n0x1F7F0000 - 0x1F825000 \tC:\\WINNT\\System32\\ODBC32.dll\n0x76B00000 - 0x76B3F000 \tC:\\WINNT\\system32\\comdlg32.dll\n0x77580000 - 0x777C8000 \tC:\\WINNT\\system32\\SHELL32.DLL\n0x1F8E0000 - 0x1F8F6000 \tC:\\WINNT\\System32\\odbcint.dll\n0x60000000 - 0x60045000 \tC:\\WINNT\\System32\\MSCTF.dll\n0x77910000 - 0x77933000 \tC:\\WINNT\\system32\\imagehlp.dll\n0x72970000 - 0x7299D000 \tC:\\WINNT\\system32\\DBGHELP.dll\n0x68F30000 - 0x68F3B000 \tC:\\WINNT\\System32\\PSAPI.DLL\n\nLocal Time = Thu Jul 24 14:09:17 2003\nElapsed Time = 70\n#\n# The exception above was detected in native code outside the VM\n#\n# Java VM: Java HotSpot(TM) Server VM (1.4.0_01-b03 mixed mode)\n#", "id": 41702, "time": "2003-07-29T07:05:00Z", "creator": "javri28@hotmail.com", "creation_time": "2003-07-29T07:05:00Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 21951, "is_private": false, "text": "Its a PHP (or JVM)bug causing the crash, not a tomcat bug.", "id": 41708, "time": "2003-07-29T11:33:31Z", "creator": "funkman@joedog.org", "creation_time": "2003-07-29T11:33:31Z", "attachment_id": null}]