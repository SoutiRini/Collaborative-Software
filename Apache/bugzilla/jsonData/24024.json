[{"count": 0, "tags": [], "bug_id": 24024, "attachment_id": null, "is_private": false, "id": 46097, "time": "2003-10-23T00:29:21Z", "creator": "jglick@apache.org", "creation_time": "2003-10-23T00:29:21Z", "text": "If you call\n\n<taskdef classpath=\"...\" resource=\"foo/antlib.xml\" uri=\"antlib:foo\"/>\n\nor just start using\n\n<sometask xmlns=\"antlib:foo\"/>\n\nwith foo/antlib.xml in the classpath, currently it seems that Definer will only\nlook for one instance of the resource \"foo/antlib.xml\". If there are multiple\nJARs in the classpath containing \"foo/antlib.xml\", only one of them (acc. to\nclasspath order) will actually be loaded.\n\nIMHO probably all of them should be loaded. But I am not sure if the current\nbehavior is intentional or simply an oversight. If an oversight, I would be\nwilling to supply a patch. Should be pretty trivial: Definer.resourceToURL\nshould call ClassLoader.getAllResources() and return Enumeration<URL> and\nDefiner.execute() should simply iterate over each URL and otherwise behave as now."}, {"count": 1, "tags": [], "bug_id": 24024, "attachment_id": null, "text": "This was something that I was thinking of doing in the\n1.7 timeframe, but it was an oversight..\nThe change\ncould/would affect <taskdef/typedef resource=\"x\" /> as\nthis is the mechanism that does the loading. This would\naffect current scripts that use resources to load in\ndefinitions (this is most likely a good thing).\n\nIt may be a useful thing to do now for 1.6.", "id": 46108, "time": "2003-10-23T08:07:08Z", "creator": "peter.reilly@corvil.com", "creation_time": "2003-10-23T08:07:08Z", "is_private": false}, {"count": 2, "tags": [], "creator": "jglick@apache.org", "is_private": false, "text": "Hmm, seems 'resource' attr of Definer is not covered by unit tests at all.", "id": 46178, "time": "2003-10-23T20:11:12Z", "bug_id": 24024, "creation_time": "2003-10-23T20:11:12Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 24024, "attachment_id": null, "text": "Try the attached patch (with unit case).", "id": 46183, "time": "2003-10-23T21:07:51Z", "creator": "jglick@apache.org", "creation_time": "2003-10-23T21:07:51Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 24024, "attachment_id": 8710, "is_private": false, "id": 46184, "time": "2003-10-23T21:08:07Z", "creator": "jglick@apache.org", "creation_time": "2003-10-23T21:08:07Z", "text": "Created attachment 8710\nSuggested patch"}, {"count": 5, "tags": [], "bug_id": 24024, "attachment_id": null, "is_private": false, "id": 46235, "time": "2003-10-24T10:22:27Z", "creator": "peter.reilly@corvil.com", "creation_time": "2003-10-24T10:22:27Z", "text": "Ok, I have committed this to cvs HEAD. Thanks,\n\nI will wait for feedback before doing similar to ant 1.6 branch"}, {"count": 6, "tags": [], "bug_id": 24024, "attachment_id": null, "is_private": false, "id": 46511, "time": "2003-10-30T16:28:02Z", "creator": "peter.reilly@corvil.com", "creation_time": "2003-10-30T16:28:02Z", "text": "made a modification so that this only affects xml resources and\nleaves property resources to be first only.\nCommitted to ant 1.6 beta"}]