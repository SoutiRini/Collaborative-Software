[{"count": 0, "attachment_id": null, "creator": "treeck@yahoo.com", "is_private": false, "id": 30520, "time": "2003-02-02T21:35:14Z", "bug_id": 16680, "creation_time": "2003-02-02T21:35:14Z", "tags": [], "text": "4.1.18 of Tomact, HttpSession.setAttribute throws the Exception, \njava.io.NotSerializableException, and displays an \"Internal Server Error\" on \nthe generated web page, when the saved session attribute is not serializeable.\n\nIn version 3 of Tomcat, it was not required that a saved attribute be \nserializable. Further, there are cases where the saved object may be very \ncomplex and difficult to serialize. While necessary for J2EE clustering, a \nsession attribute being serializable should not be hard requirement for all \ncases -- or at least handled more gracefully and documented that this is a \nrequirement.\n\n-George"}, {"count": 1, "tags": [], "bug_id": 16680, "text": "After converting all the saved state information to be serializable, I now get \nthe following, \"Internal Server Error\" with the root cause:\n\njava.lang.NoSuchMethodError\n\tat org.apache.catalina.session.StandardSession.setAttribute\n(StandardSession.java:1259)\n\tat org.apache.catalina.session.StandardSessionFacade.setAttribute\n(StandardSessionFacade.java:191)\n\tat org.apache.catalina.session.StandardSessionFacade.setAttribute\n(StandardSessionFacade.java:191)\n\tat javarex.beans.servlet.util.HttpServlet.getPage(HttpServlet.java:576)\n\nThe last line is the line number in my servlet corresponding to the following \nline of source code:\n\n        session.setAttribute(myName + \".stack\", form_stack);\n\nwhere \"session\" is defined as:\n\n\tprotected HttpSession session;\n\nand \"form_stack\" is a \"java.util.Stack\" (which cloneable and serializable).\n\nI've been working on this for week now, and it's blocking me being able to \nrelease a product -- can't even start a servlet.\n\n-George\n\n", "id": 30829, "time": "2003-02-06T17:14:18Z", "creator": "treeck@yahoo.com", "creation_time": "2003-02-06T17:14:18Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "treeck@yahoo.com", "is_private": false, "id": 30854, "time": "2003-02-07T01:21:37Z", "bug_id": 16680, "creation_time": "2003-02-07T01:21:37Z", "tags": [], "text": "I figured out the problem. I was testing my servlet with both 4.0 and 4.1 \nusing the -config parameter pointing to same server.xml file. And 4.1 uses a \ndifferent <Connector> class.\n\nIf every minor release of Tomcat is going to be using different classes, it's \ngoing to make life little more difficult for those testing servlets with \nmultiple releases...\n"}, {"count": 3, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "text": "The only time when the major version number is changed is when there's a new\nversion of the Servlet API.\nBTW, Tomcat 4.1 can work with the old HTTP/1.1 connector Tomcat 4.0 was using.\nIt could be used for your testing purposes.", "id": 30873, "time": "2003-02-07T09:07:12Z", "bug_id": 16680, "creation_time": "2003-02-07T09:07:12Z", "is_private": false}]