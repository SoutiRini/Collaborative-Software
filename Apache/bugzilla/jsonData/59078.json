[{"count": 0, "tags": [], "bug_id": 59078, "attachment_id": 33600, "id": 188854, "time": "2016-02-26T19:58:42Z", "creator": "nanook@eskimo.com", "creation_time": "2016-02-26T19:58:42Z", "is_private": false, "text": "Created attachment 33600\nScreen shot showing threads stuck in 'g' gracefully exiting.\n\nI have apache 2.4.18 in a production server setup with a script that does a graceful reload at midnight to rotate logs.  Prior to installing the http2 module this was not a problem, but after installing this module even 12 hours alter there are still threads stuck in \"exiting gracefully\" according to server-status."}, {"count": 1, "tags": [], "creator": "stefan@eissing.org", "attachment_id": 33600, "text": "Comment on attachment 33600\nScreen shot showing threads stuck in 'g' gracefully exiting.\n\nThanks, Robert. There has been a race condition identified (and fixed) that lead to a deadlock during connection shutdown. \n\nThe fix, and other improvements is currently available from the mod_http2 github site (https://github.com/icing/mod_h2), which you can configure to use a 2.4.18 apxs. Just replace the existing module with the built one.\n\nThese fixes will of course also make it into the next 2.4.x release, however, due to other dependencies, they have not all landed in the subversion branch\nyet.\n\nHope this works for you.", "id": 188953, "time": "2016-02-29T11:59:21Z", "bug_id": 59078, "creation_time": "2016-02-29T11:59:21Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 59078, "is_private": false, "id": 189003, "time": "2016-03-01T15:44:22Z", "creator": "nanook@eskimo.com", "creation_time": "2016-03-01T15:44:22Z", "tags": [], "text": "This fix stopped processes from being stuck in 'g' gracefully exiting but now all processes in 'k' keep alive are instead being shown as 'r' read in server-status."}]