[{"count": 0, "tags": [], "bug_id": 27378, "attachment_id": null, "id": 53339, "creation_time": "2004-03-02T19:12:09Z", "time": "2004-03-02T19:12:09Z", "creator": "urkle@outoforder.cc", "text": "Why is the open_logs hook run before the post_config hook?\n\nI am working on the mod_log_sql module (new maintainer), and have some code in\nthe post_config hook to assign global defaults ( i have a global per module\nconfig structure as well as per server configuration) if they have not been set\nby a configuration directive that need to be setup BEFORE the initial connection\nto the database called in open_logs.  However after placing many APLOG_DEBUG and\nstep by step gdb debugging, I find that post_config is called after open_logs..\nI'm thinking that this is a bug as it makes much more sense to call post_config\nbefore open_logs.", "is_private": false}, {"count": 1, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "is_private": false, "id": 53341, "time": "2004-03-02T19:34:28Z", "bug_id": 27378, "creation_time": "2004-03-02T19:34:28Z", "text": "dumb question. Why don't you just open your connections where you need it (in\nopen_logs)?!"}, {"count": 2, "tags": [], "bug_id": 27378, "attachment_id": null, "text": "I was opening my connections in open_logs, but the configuration was not valid\nand causing a failure because the post_config hook had not been run..\nI  have not changed it so my code openes the logs in child_init (as I don't need\nthe connection open for the parent).\n\nI've reworked the code now anyway so I'm checking the validity of the\nconfiguration in the connection function and assigning defaults there. Which in\nhindsight is where I need them anyway as I'm moving to support multiple DB\nbackends and the defaults don't apply to ALL dbs.. they are specific to the DB.", "id": 53343, "time": "2004-03-02T20:22:44Z", "creator": "urkle@outoforder.cc", "creation_time": "2004-03-02T20:22:44Z", "is_private": false}, {"count": 3, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "is_private": false, "id": 54447, "time": "2004-03-23T01:20:09Z", "bug_id": 27378, "creation_time": "2004-03-23T01:20:09Z", "text": "can't change that without breaking existing modules\n\n\n\n\n\n\n\n\n\n\n\n"}]