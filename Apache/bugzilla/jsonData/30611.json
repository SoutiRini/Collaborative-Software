[{"count": 0, "tags": [], "bug_id": 30611, "attachment_id": null, "text": "setenv PATH\n/usr/people/cip/local/apache/apache-ant-1.6.2/bin:/usr/local/j2sdk1.4.2_04/bin:/usr/people/cip/bea81/weblogic81/server/bin:/usr/local/j2sdk1.4.2_04/jre/bin:/usr/local/j2sdk1.4.2_04/bin:/usr/cip/Database/mysql/bin:/usr/cip/Database/mysql/bin:/opt/ssh/bin:/sbin:/usr/bin:/usr/sbin:/etc:/usr/openwin/bin:/usr/local/bin:/usr/local/teTeX/bin:/usr/apps/bin:/usr/WorkShop/bin:/usr/ccs/bin:/usr/ucb:/usr/apps/purify/releases/purify-5.2-solaris2:/usr/local/X11/bin:/usr/people/ccs/bin/solaris:/usr/people/ccs/bin/solaris\njava -version\njava version \"1.4.2_04\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_04-b05)\nJava HotSpot(TM) Client VM (build 1.4.2_04-b05, mixed mode)\nant -buildfile ./build.xml -logfile ./../buildlogs/build.2004.08.11.18.30.15.log\njava.lang.InstantiationException: org.apache.tools.ant.Main\n        at java.lang.Class.newInstance0(Class.java:293)\n        at java.lang.Class.newInstance(Class.java:261)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:195)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)\n\n Whats up with this ?", "id": 61863, "time": "2004-08-12T01:54:31Z", "creator": "mombasa@ptolemy.arc.nasa.gov", "creation_time": "2004-08-12T01:54:31Z", "is_private": false}, {"count": 1, "tags": [], "creator": "stevel@apache.org", "is_private": false, "text": "Wierd. \n\n\"Thrown when an application tries to use the Java new construct to instantiate\nan abstract class or an interface.\n\nNormally, this error is caught by the compiler; this error can only occur at run\ntime if the definition of a class has incompatibly changed. \"\n\nThis is a linkage error of some form or other. I would hypothesise that\nsomewhere on your classpath you have an old copy of ant.jar, an incompatible\ncopy of ant.sh, or the like\n\n1. what is CLASSPATH?\n\n2. set the env variable ant_exec_debug , run ant and see whats get printed. ", "id": 61869, "time": "2004-08-12T08:55:52Z", "bug_id": 30611, "creation_time": "2004-08-12T08:55:52Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "conor@apache.org", "text": "Yes this is odd.\n\nI've added some code to print out the root cause of the InstantiationException,\nwhich will be useful in general. I can build a version for you to try if you are\nkeen to see what the root cause is.", "id": 61888, "time": "2004-08-12T14:35:59Z", "bug_id": 30611, "creation_time": "2004-08-12T14:35:59Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "peter.reilly@corvil.com", "text": "It is not that odd.\nIf one has an old ant.jar in the CLASSPATH, (in this case\nmost likely within the weblogic jar file), one gets this\nexact exception for example:\n> ant -version\nApache Ant version 1.7alpha compiled on August 12 2004\n> CLASSPATH=~/apps/apache-ant-1.5.4/lib/ant.jar ant -version\njava.lang.InstantiationException: org.apache.tools.ant.Main\n        at java.lang.Class.newInstance0(Class.java:335)\n        at java.lang.Class.newInstance(Class.java:303)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:195)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)\n>\n", "id": 61889, "time": "2004-08-12T14:48:20Z", "bug_id": 30611, "creation_time": "2004-08-12T14:48:20Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 30611, "attachment_id": null, "text": "The problem occurs with having \"weblogic.jar\" in the classpath. This does have\nthe weblogic ANT tasks in the packaging, but does not have the ANT classes as\nfound in an \"ant.jar\" file.\n\n However when I add the ANT 1.6 jar file (repackaged with \"Class-path\" defined\nin the MANIFEST.MF to include the 31 other ant optional jar files) ahead in the\nclasspath as follows:\n\nsetenv CLASSPATH ${ANT_HOME}/lib/ant.jar:${CLASSPATH}\n\n I see the following :\n\n${ANT_HOME}/bin/ant -h\n/usr/people/cip/local/apache/apache-ant-1.6.2/bin/ant [script options] [options]\n[target [target2 [target3] ..]]\nScript Options:\n  --help, --h            print this message and ant help\n  --noconfig             suppress sourcing of /etc/ant.conf,\n                         $HOME/.ant/ant.conf, and $HOME/.antrc\n                         configuration files\n  --usejikes             enable use of jikes by default, unless\n                         set explicitly in configuration files\n  --execdebug            print ant exec line generated by this\n                         launch script\n  \nInvalid implementation version between Ant core and Ant optional tasks.\n core    : 1.6.2\n optional: 1.5\n\n\n I'm not clear how I really ensure that what was once the \"optional.jar\"", "id": 61925, "time": "2004-08-13T00:18:28Z", "creator": "mombasa@ptolemy.arc.nasa.gov", "creation_time": "2004-08-13T00:18:28Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 30611, "attachment_id": null, "is_private": false, "id": 61926, "time": "2004-08-13T00:18:55Z", "creator": "mombasa@ptolemy.arc.nasa.gov", "creation_time": "2004-08-13T00:18:55Z", "text": "The problem occurs with having \"weblogic.jar\" in the classpath. This does have\nthe weblogic ANT tasks in the packaging, but does not have the ANT classes as\nfound in an \"ant.jar\" file.\n\n However when I add the ANT 1.6 jar file (repackaged with \"Class-path\" defined\nin the MANIFEST.MF to include the 31 other ant optional jar files) ahead in the\nclasspath as follows:\n\nsetenv CLASSPATH ${ANT_HOME}/lib/ant.jar:${CLASSPATH}\n\n I see the following :\n\n${ANT_HOME}/bin/ant -h\n/usr/people/cip/local/apache/apache-ant-1.6.2/bin/ant [script options] [options]\n[target [target2 [target3] ..]]\nScript Options:\n  --help, --h            print this message and ant help\n  --noconfig             suppress sourcing of /etc/ant.conf,\n                         $HOME/.ant/ant.conf, and $HOME/.antrc\n                         configuration files\n  --usejikes             enable use of jikes by default, unless\n                         set explicitly in configuration files\n  --execdebug            print ant exec line generated by this\n                         launch script\n  \nInvalid implementation version between Ant core and Ant optional tasks.\n core    : 1.6.2\n optional: 1.5\n\n\n I'm not clear how I really ensure that what was once the \"optional.jar\""}, {"count": 6, "tags": [], "creator": "peterreilly@apache.org", "text": "Removing this as you are trying to set up your\nown env.\n\n\nYou could try to remove the ant classes from weblogic.jar.", "id": 63202, "time": "2004-09-08T10:38:28Z", "bug_id": 30611, "creation_time": "2004-09-08T10:38:28Z", "is_private": false, "attachment_id": null}]