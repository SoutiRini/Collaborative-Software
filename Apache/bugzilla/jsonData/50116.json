[{"count": 0, "tags": [], "creator": "phil.pickett@springsource.com", "attachment_id": 26183, "text": "Created attachment 26183\nWireshark screen capture showing segmentation and reassembly\n\nIn performing performance testing of Apache (2.2.x) vs. iPlanet, Apache generally performed better.  One exception though was for a page with a lot of small images.\n\nWhen monitoring the traffic for both Apache and iPlanet running on the same host using Wireshark, it was observed that Apache segments the packets while iPlanet does not.\n\nA screen capture of the Wireshark data is attached.  \n\nFor the record, I have seen the same segmenting in Wireshark using Apache, Tomcat, and Jetty).", "id": 140833, "time": "2010-10-19T14:18:57Z", "bug_id": 50116, "creation_time": "2010-10-19T14:18:57Z", "is_private": false}, {"count": 1, "tags": [], "creator": "phil.pickett@springsource.com", "attachment_id": null, "id": 140834, "time": "2010-10-19T14:25:58Z", "bug_id": 50116, "creation_time": "2010-10-19T14:25:58Z", "is_private": false, "text": "Test has been recreated adding \"EnableSendfile Off\" and then \"EnableMMAP Off\" to the configuration but the segmentation still occurred with these directives."}, {"count": 2, "tags": [], "bug_id": 50116, "attachment_id": null, "id": 140980, "time": "2010-10-24T20:23:15Z", "creator": "wrowe@apache.org", "creation_time": "2010-10-24T20:23:15Z", "is_private": false, "text": "I suspect this may be a platform side effect of the writev()/sendv() family of\ninstructions, combined with the specific tcp drivers in place.  These optimized\ninstructions require the socket stack to cooperate.  Applications which don't\nuse these vector-based multiple data streams to coalesce data into a stream\nwould not show any evidence that things are odd at the socket stack.\n\nThis is worth further investigation, but you need to indicate the specific OS\nand especially the actual tcp/ip network drivers in use, thanks!"}, {"count": 3, "tags": [], "text": "Bill - I think this should be the information you were looking for related to the Solaris 8 patch level and tcp/ip driver info:\n\n$ uname -a \nSunOS somehost 5.8 Generic_117350-54 sun4u sparc SUNW,Sun-Fire-V240 \n\n$ /usr/sbin/ifconfig -a modlist \nifconfig: _I_MUXID2FD: lo0: Invalid argument \n0 arp \n1 ip \n2 bge \n0 arp \n1 ip \n2 bge \n0 arp \n1 ip \n2 bge \n0 arp \n1 ip \n2 bge \n$ ifconfig -a \nlo0: flags=1000849<UP,LOOPBACK,RUNNING,MULTICAST,IPv4> mtu 8232 index 1 \ninet 127.0.0.1 netmask ff000000 \nbge0: flags=1000843<UP,BROADCAST,RUNNING,MULTICAST,IPv4> mtu 1500 index 2 \ninet 20.25.13.15 netmask ffffff00 broadcast 20.25.13.255 \nether 0:3:ba:de:4:ab \nbge1: flags=1000843<UP,BROADCAST,RUNNING,MULTICAST,IPv4> mtu 1500 index 3 \ninet 20.25.8.158 netmask ffffffc0 broadcast 20.25.8.191 \nether 0:3:ba:de:4:ac \nbge2: flags=1000843<UP,BROADCAST,RUNNING,MULTICAST,IPv4> mtu 1500 index 4 \ninet 20.25.9.15 netmask ffffff80 broadcast 20.25.9.127 \nether 0:3:ba:de:4:ad \nbge3: flags=1000843<UP,BROADCAST,RUNNING,MULTICAST,IPv4> mtu 1500 index 5 \ninet 20.25.8.82 netmask ffffffe0 broadcast 20.25.8.95 \nether 0:3:ba:de:4:ae", "attachment_id": null, "bug_id": 50116, "id": 141349, "time": "2010-11-02T17:50:27Z", "creator": "phil.pickett@springsource.com", "creation_time": "2010-11-02T17:50:27Z", "is_private": false}]