[{"count": 0, "tags": [], "creator": "cstoeber@amaris.de", "attachment_id": null, "is_private": false, "id": 147938, "time": "2011-07-15T10:53:41Z", "bug_id": 51513, "creation_time": "2011-07-15T10:53:41Z", "text": "As Mark said (see 51475) here is the new bug record.\n\nBecause it's not desirable and efficient to compress small packages, I've\nmodified the GzipInterceptor that it compresses only packages with a size greater than 2048 bytes. Based on org.apache.coyote.http11.Http11Protocoll this value is user configurable.\n\nTo distinguish if data is compressed or not, I've added a small one byte header, which defines if the data is compressed or not.\n\nI'm also recording some stats, which can be disabled."}, {"count": 1, "tags": [], "bug_id": 51513, "text": "It sounds like you have a patch. If you want to propose it, add it as an attachment to this issue.", "id": 147945, "time": "2011-07-16T01:31:26Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2011-07-16T01:31:26Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 51513, "is_private": false, "id": 147946, "time": "2011-07-16T12:53:19Z", "creator": "markt@apache.org", "creation_time": "2011-07-16T12:53:19Z", "tags": [], "text": "I wonder if differentiation between compressed content and non-compressed content is why this hasn't been implemented before. I also wonder about the protocol change. New messages have been added the past (that will be ignored if not understood) but I don't recall actually changing the protocol."}, {"count": 3, "tags": [], "creator": "cstoeber@amaris.de", "attachment_id": 27295, "is_private": false, "id": 147967, "time": "2011-07-18T05:19:24Z", "bug_id": 51513, "creation_time": "2011-07-18T05:19:24Z", "text": "Created attachment 27295\nPatch for this enhancement\n\nHere is the patch. I must have forgotten. I thougt I uploaded it when submitting the bug."}, {"count": 4, "tags": [], "text": "Apologies it took so long to return to this.\n\nI've applied a variation of the patch. The main changes were:\n- separate statsEnabled and interval (users might want stats via JMX without\n  logging)\n- defaults same as current behaviour\n- added some Javadoc\n- used optionFlags to indicate if compression has been applied\n\nThe fix has been applied to 9.0.x.\n\nI do not currently have plans to back-port it.", "is_private": false, "bug_id": 51513, "id": 199535, "time": "2017-07-03T19:24:46Z", "creator": "markt@apache.org", "creation_time": "2017-07-03T19:24:46Z", "attachment_id": null}]