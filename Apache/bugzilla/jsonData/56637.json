[{"count": 0, "tags": [], "creator": "zhouyanming@gmail.com", "text": "if resource name is not starts with '/',tomcat8 will throws exception,and tomcat7 will return null.\n \njava.lang.IllegalArgumentException: The resource path [resources/config.xml] is not valid\n\tat org.apache.catalina.webresources.StandardRoot.validate(StandardRoot.java:237)\n\tat org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:199)\n\tat org.apache.catalina.webresources.StandardRoot.getResource(StandardRoot.java:193)\n\tat org.apache.catalina.core.ApplicationContext.getResourceAsStream(ApplicationContext.java:559)\n\tat org.apache.catalina.core.ApplicationContextFacade.getResourceAsStream(ApplicationContextFacade.java:209)\n\naccording to http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#getResourceAsStream(java.lang.String)\nit should return null instead of throwing exception.", "id": 175858, "time": "2014-06-18T02:01:00Z", "bug_id": 56637, "creation_time": "2014-06-18T02:01:00Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "markt@apache.org", "text": "Those same Javadocs also state:\n\n<quote>\nThe path must be specified according to the rules given in getResource.\n</quote>\n\nwhich in turn states:\n\n<quote>\nThe path must begin with a / ...\n</quote>\n\nThe behaviour of getResourceAsStream() if the path does not start with / is undefined. In Tomcat 8 (which has a different resources implementation to Tomcat 7) we opted to throw an exception to make clear to the calling code that it has a bug rather than returning null which masks the problem.\n\ngetResourceAsStream() is only defined to return null if the resource does not exist. That does not apply in this case since the provided path is invalid.\n\nIf you think the specification should define the behaviour then you should lobby the Servlet EG for a clarification. I'd argue that the clarification should be that an exception is thrown.", "id": 175860, "time": "2014-06-18T07:49:15Z", "bug_id": 56637, "creation_time": "2014-06-18T07:49:15Z", "is_private": false, "attachment_id": null}]