[{"count": 0, "tags": [], "text": "This bug is present in some older versions also, but I haven't had time until now to file the report. Here it is:\n\nI've got\n\n  <error-page>\n    <error-code>403</error-code>\n    <location>/free/login/denied.jsp</location>\n  </error-page>\n\nin web.xml and call pageContext.getErrorData() in denied.jsp.\n\nTHIS WORKS FINE!\n\nWhat does not work is if the user is HTTP-redirected to denied.jsp or simply calls it by entering the URL in his browser. In this case the JSP throws\n\njava.lang.NullPointerException\n        at javax.servlet.jsp.PageContext.getErrorData(PageContext.java:515)\n        at org.apache.jsp.free.login.denied_jsp._jspService(denied_jsp.java:389)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at com.folgmann.filters.AuthFilter.doFilter(AuthFilter.java:446)\n        at com.folgmann.filters.HttpFilterSupport.doFilter(HttpFilterSupport.java:41)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at com.folgmann.filters.ValidatingThreadPoolFilter.doFilter(ValidatingThreadPoolFilter.java:138)\n        at com.folgmann.filters.HttpFilterSupport.doFilter(HttpFilterSupport.java:41)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at com.folgmann.filters.CharsetFilter.doFilter(CharsetFilter.java:114)\n        at com.folgmann.filters.HttpFilterSupport.doFilter(HttpFilterSupport.java:41)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:465)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\n        at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:190)\n        at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:291)\n        at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:769)\n        at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:698)\n        at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:891)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)\n        at java.lang.Thread.run(Thread.java:619)\n\nI'm sure that this wasn't intended by the JSP spec. I suggest that pageContext.getErrorData() returns null instead when an error page is not called like an error page should be called.\n\nTnx,\n     boris", "is_private": false, "id": 136449, "creator": "boris@folgmann.de", "time": "2010-04-27T10:37:16Z", "bug_id": 49196, "creation_time": "2010-04-27T10:37:16Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 49196, "attachment_id": null, "id": 137111, "time": "2010-05-25T10:30:40Z", "creator": "markt@apache.org", "creation_time": "2010-05-25T10:30:40Z", "is_private": false, "text": "Fixed in trunk and proposed for 6.0.x"}, {"count": 2, "attachment_id": 25534, "creator": "knst.kolinko@gmail.com", "is_private": false, "id": 137390, "time": "2010-06-06T16:07:12Z", "bug_id": 49196, "creation_time": "2010-06-06T16:07:12Z", "tags": [], "text": "Created attachment 25534\n2010-06-07_tc55_bug49196.patch\n\nPatch for 5.5. It is backport of r948057 from trunk."}, {"count": 3, "attachment_id": null, "creator": "knst.kolinko@gmail.com", "text": "The fix was applied to 6.0 in r951941 and will be in 6.0.27.\n\nProposed for backport to 5.5, so I am changing Product and Version to track this issue further.", "id": 137391, "time": "2010-06-06T16:15:26Z", "bug_id": 49196, "creation_time": "2010-06-06T16:15:26Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 49196, "attachment_id": null, "id": 137798, "time": "2010-06-22T05:01:05Z", "creator": "markt@apache.org", "creation_time": "2010-06-22T05:01:05Z", "is_private": false, "text": "This has been fixed in 5.5.x and will be included in 5.5.30 onwards."}]