[{"count": 0, "tags": [], "bug_id": 24076, "text": "I have the following JMeter Test Plan:\n\n-Test Plan1\n -Thread Group1\n  *Number of Threads =3\n  *Ramp-up =1\n  *Loop Count=3\n  -User Parameters (1-User, multi-Variable)\n    *Update Once Per Iteration (checked)\n    *var1=${__CSVRead(file,0)}\n    *var2=${__CSVRead(file,1)}\n    *var3=${__CSVRead(file,next)}\n  -HTTP Request1\n  -HTTP Request2\n  -HTTP Cookie Manager\n\n__CSVRead() reads from the following file:\n1,line1\n2,line2\n3,line3\n4,line4\n5,line5\n6,line6\n7,line7\n8,line8\n9,line9\n\nIn Loop#1, Thread-1 reads \"1,line1\", Thread-2 reads \"2,line2\", Thread-3 \nreads \"3,line3\".\nIn Loop#2 Thread-1 reads \"2,line2\", Thread-2 reads \"3,line3\", Thread-3 \nreads \"4,line4\".\nIn Loop#3 Thread-1 reads \"5,line5\", Thread-2 reads \"6,line6\", Thread-3 \nreads \"7,line7\".\n\nFirst thread of Loop#2 goes back to the second line of the file even if the \nlast line read by Loop#1 was the third line.", "id": 46163, "attachment_id": null, "creator": "gerry_campos@choicehotels.com", "creation_time": "2003-10-23T19:02:29Z", "time": "2003-10-23T19:02:29Z", "is_private": false}, {"count": 1, "tags": [], "text": "Agreed; got the same behaviour, though it did seem to depend on the relative \ntimings of the threads.\n\nI think I've found the problem: after processing the \"next\" request, the code \ndropped through as if it was processing a normal column fetch. This meant that \nthe function read and stored the next row (i.e. line 2). At the start of the \nnext thread, it would then find the original \"next\" row - but of course by \nthen the other threads had moved on.\n\nProvided that the Threads always ran in the same order, from then on, the rows \nwould be seemingly be processed in the correct order - though in fact they \nwould be several lines behind.\n\nThe code has now been updated in CVS, so closing this call - please re-open if \nthere are still any problems.", "is_private": false, "bug_id": 24076, "id": 46297, "time": "2003-10-26T19:22:07Z", "creator": "sebb@apache.org", "creation_time": "2003-10-26T19:22:07Z", "attachment_id": null}]