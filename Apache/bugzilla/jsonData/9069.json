[{"count": 0, "tags": [], "bug_id": 9069, "attachment_id": null, "id": 16083, "time": "2002-05-14T14:54:37Z", "creator": "hiroki@jasminesoft.co.jp", "creation_time": "2002-05-14T14:54:37Z", "is_private": false, "text": "I found that patch task can't be executed when using\njakarta-ant-1.5Beta.\n\n1. Let prepare two file da/test and db/test.\n\n-----start da/test\nthis is patch test\n-----end da/test\n\n-----start db/test\nthis is patch test.\n\nthis is test for ant.\n-----end db/test\n\n2. And make patch file with diff\n\n$ diff da/test db/test > testpatch\n\n-----start testpatch\n1c1,3\n< this is patch test\n---\n> this is patch test.\n> \n> this is added by ant.\n-----end testpatch\n\n3. prepare build.xml file like this: \n\n-----start build.xml\n<?xml version=\"1.0\"?>\n<project name=\"patchtest\" default=\"all\" basedir=\".\" >\n  <target name=\"all\">\n     <patch patchfile=\"${basedir}/testpatch\"\n         originalfile=\"${basedir}/da/test\" />\n  </target>\n</project>\n-----end build.xml\n\n4. Before executing ant, let check ANT_HOME and PATH\n\nANT_HOME=/usr/java/jakarta-ant-1.5Beta1\nPATH=/usr/java/jakarta-ant-1.5Beta1/bin/:\\\n/usr/java/jdk1.3.1_02/bin/:/bin:/usr/local/bin/:\\\n/usr/bin:/usr/X11R6/bin:/home/hiroki/bin/\n\n5. execute ant. then it shows BUILD FAILED message.\n\n-----start output of ant\nBuildfile: build.xml\n\nall:\n\nBUILD FAILED\n/home/hiroki/patchtest/build.xml:5: Unable to execute command\n\nTotal time: 1 second\n\n-----end output of ant"}, {"count": 1, "tags": [], "bug_id": 9069, "attachment_id": null, "id": 16087, "time": "2002-05-14T15:49:29Z", "creator": "bodewig@apache.org", "creation_time": "2002-05-14T15:49:29Z", "is_private": false, "text": "Could you throw in a little -verbose on the command line of Ant?"}, {"count": 2, "tags": [], "bug_id": 9069, "is_private": false, "text": "Following is the result of \"ant -verbose\". The environment\nand files are same as previous report.\n\n-----\nApache Ant version 1.5Beta1 compiled on April 30 2002\nBuildfile: build.xml\nDetected Java version: 1.3 in: /usr/java/jdk1.3.1_02/jre\nDetected OS: Linux\nparsing buildfile build.xml with URI = file:/home/hiroki/patchtest/build.xml\nProject base dir set to: /home/hiroki/patchtest\nBuild sequence for target `all' is [all]\nComplete build sequence is [all]\n\nall:\n\nBUILD FAILED\n/home/hiroki/patchtest/build.xml:5: Unable to execute command\n\tat org.apache.tools.ant.taskdefs.Execute$Java13CommandLauncher.exec(Execute.java:633)\n\tat org.apache.tools.ant.taskdefs.Execute.launch(Execute.java:396)\n\tat org.apache.tools.ant.taskdefs.Execute.execute(Execute.java:407)\n\tat org.apache.tools.ant.taskdefs.Patch.execute(Patch.java:190)\n\tat org.apache.tools.ant.Task.perform(Task.java:313)\n\tat org.apache.tools.ant.Target.execute(Target.java:309)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:334)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1216)\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1160)\n\tat org.apache.tools.ant.Main.runBuild(Main.java:605)\n\tat org.apache.tools.ant.Main.start(Main.java:195)\n\tat org.apache.tools.ant.Main.main(Main.java:234)\n--- Nested Exception ---\njava.lang.NullPointerException\n\tat java.lang.Runtime.exec(Runtime.java:528)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.tools.ant.taskdefs.Execute$Java13CommandLauncher.exec(Execute.java:624)\n\tat org.apache.tools.ant.taskdefs.Execute.launch(Execute.java:396)\n\tat org.apache.tools.ant.taskdefs.Execute.execute(Execute.java:407)\n\tat org.apache.tools.ant.taskdefs.Patch.execute(Patch.java:190)\n\tat org.apache.tools.ant.Task.perform(Task.java:313)\n\tat org.apache.tools.ant.Target.execute(Target.java:309)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:334)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1216)\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1160)\n\tat org.apache.tools.ant.Main.runBuild(Main.java:605)\n\tat org.apache.tools.ant.Main.start(Main.java:195)\n\tat org.apache.tools.ant.Main.main(Main.java:234)\n\nTotal time: 1 second\n-----", "id": 16137, "time": "2002-05-15T09:11:01Z", "creator": "hiroki@jasminesoft.co.jp", "creation_time": "2002-05-15T09:11:01Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 9069, "attachment_id": null, "id": 16154, "time": "2002-05-15T13:45:35Z", "creator": "bodewig@apache.org", "creation_time": "2002-05-15T13:45:35Z", "is_private": false, "text": "OK, got it.\n\nWill be fixed in 1.5beta2."}]