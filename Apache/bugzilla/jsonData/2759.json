[{"count": 0, "tags": [], "bug_id": 2759, "is_private": false, "id": 3944, "creation_time": "2001-07-23T23:36:47Z", "time": "2001-07-23T23:36:47Z", "creator": "pernica@dcb.cz", "text": "When I start tomcat 4.0b6 with reloadble context libraries are reloaded all the \ntime. When I invoke my JSP I get follwing error:\n\n\n\n\nA Servlet Exception Has Occurred\nException Report:\njavax.servlet.ServletException: org/apache/jasper/runtime/HttpJspBase\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:464)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke\n(ApplicationDispatcher.java:645)\n\tat org.apache.catalina.core.ApplicationDispatcher.doInclude\n(ApplicationDispatcher.java:550)\n\tat org.apache.catalina.core.ApplicationDispatcher.include\n(ApplicationDispatcher.java:473)\n\tat org.apache.jasper.runtime.PageContextImpl.include\n(PageContextImpl.java:391)\n\tat org.apache.jasper.runtime.PageContextImpl.handlePageException\n(PageContextImpl.java:443)\n\tat org.apache.jsp._0002findex_jsp._jspService(_0002findex_jsp.java:297)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:107)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:200)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:379)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:456)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:219)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke\n(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2251)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:446)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:984)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1074)\n\tat java.lang.Thread.run(Thread.java:484)\n\nRoot Cause:\njava.lang.NoClassDefFoundError: org/apache/jasper/runtime/HttpJspBase\n\tat java.lang.ClassLoader.defineClass0(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:486)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:426)\n\tat org.apache.jasper.servlet.JasperLoader.loadClass\n(JasperLoader.java:216)\n\tat org.apache.jasper.servlet.JasperLoader.loadClass\n(JasperLoader.java:132)\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:555)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:175)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:187)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:379)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:456)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke\n(ApplicationDispatcher.java:645)\n\tat org.apache.catalina.core.ApplicationDispatcher.doInclude\n(ApplicationDispatcher.java:550)\n\tat org.apache.catalina.core.ApplicationDispatcher.include\n(ApplicationDispatcher.java:473)\n\tat org.apache.jasper.runtime.PageContextImpl.include\n(PageContextImpl.java:391)\n\tat org.apache.jasper.runtime.PageContextImpl.handlePageException\n(PageContextImpl.java:443)\n\tat org.apache.jsp._0002findex_jsp._jspService(_0002findex_jsp.java:297)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:107)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:200)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:379)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:456)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:219)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke\n(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2251)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:446)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:984)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1074)\n\tat java.lang.Thread.run(Thread.java:484)", "attachment_id": null}, {"count": 1, "tags": [], "creator": "remm@apache.org", "is_private": false, "text": "As was reported before, you should have only JARs in /WEB-INF/lib. That's a bug \nwhich has already been fixed.\nCould you give more details on your setup for the second issue (with JSPs) ?", "id": 3945, "time": "2001-07-24T00:35:40Z", "bug_id": 2759, "creation_time": "2001-07-24T00:35:40Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 2759, "is_private": false, "id": 3949, "creation_time": "2001-07-24T01:23:02Z", "time": "2001-07-24T01:23:02Z", "creator": "pernica@dcb.cz", "text": "Everything is OK when reloadable=\"false\".\nI have no classes in the WEB-INF/classes. All application specific libraries\nare in the WEB-INF/lib directory.\nI am not able to invoke JSPs when reloadble=\"false\".", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 2759, "attachment_id": null, "id": 3964, "creation_time": "2001-07-24T10:02:17Z", "time": "2001-07-24T10:02:17Z", "creator": "remm@apache.org", "text": "> Everything is OK when reloadable=\"false\".\n> I am not able to invoke JSPs when reloadble=\"false\".\n\nWhen reloadable is false, is everything working ok, or is Jasper broken ?\n\nI'm also using Win2k, and I definitely can't reproduce your problem (Jasper is \nworking fine for me regardless of the value of reloadable) unless you give me \nmore detailed information. For example, did you move JARs around in the Tomcat \ndistribution ?", "is_private": false}, {"count": 4, "tags": [], "creator": "pernica@dcb.cz", "is_private": false, "id": 3994, "creation_time": "2001-07-24T21:47:48Z", "time": "2001-07-24T21:47:48Z", "bug_id": 2759, "text": "Hi.\n\nSorry for the typing error. Everything is OK when reloadable=\"false\"\nif it is true then one class is causing to be constantly reloaded withing JAR \nplaced in the WEB-INF/lib directory.\n\nI have not changed any Tomcat jar files. I just installed Tomcat.\n\nI am using Win NT 4.0 SP6, JDK 1.3.1.\n", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 2759, "attachment_id": null, "id": 3995, "creation_time": "2001-07-24T22:23:52Z", "time": "2001-07-24T22:23:52Z", "creator": "pernica@dcb.cz", "text": "I solved it out. I found that files jaxp.jar and crimson.jar are also placed in \nthe ${JAVA_HOME}/jre/lib/ext directory because I use them in my applications.\nI removed them from that location and placed them into WEB-INF/lib directory.\nAfter that change my application works fine even with reloadable.", "is_private": false}, {"count": 6, "attachment_id": null, "creator": "pernica@dcb.cz", "is_private": false, "id": 3996, "time": "2001-07-24T22:35:55Z", "bug_id": 2759, "creation_time": "2001-07-24T22:35:55Z", "tags": [], "text": "Another solution: I have removed $TOMCAT_HOME/jasper/jaxp.jar and crimson.jar\nI put crimson.jar and xalan.jar into $TOMCAT_HOME/lib directory\n\nEverything is OK.\n\nThanks for your help."}]