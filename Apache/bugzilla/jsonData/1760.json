[{"count": 0, "attachment_id": null, "bug_id": 1760, "text": "> I have just found a bug in one of my SVG file. I have spend some time to\n> isolate the problem and here is the result.\n> \n> Combining the whitespace in a text content and the 'letter-spacing' property\n> throws exceptions such as:\n> \n>      [java] java.lang.NullPointerException\n>      [java]     at\n>\nsun.awt.font.StandardGlyphVector.setGlyphPosition(StandardGlyphVector.java:417)\n>      [java]     at\n>\norg.apache.batik.gvt.font.AWTGVTGlyphVector.setGlyphPosition(AWTGVTGlyphVector.java:321)\n>      [java]     at\n> org.apache.batik.gvt.text.GlyphLayout.doSpacing(GlyphLayout.java:898)\n>      [java]     at\n> org.apache.batik.gvt.text.GlyphLayout.applySpacingParams(GlyphLayout.java:774)\n>      [java]     at\n> org.apache.batik.gvt.text.GlyphLayout.adjustTextSpacing(GlyphLayout.java:720)\n>      [java]     at\n> org.apache.batik.gvt.text.GlyphLayout.setOffset(GlyphLayout.java:158)\n>      [java]     at\n>\norg.apache.batik.gvt.renderer.StrokingTextPainter.adjustChunkOffsets(StrokingTextPainter.java:388)\n>      [java]     at\n>\norg.apache.batik.gvt.renderer.StrokingTextPainter.getTextRuns(StrokingTextPainter.java:127)\n>      [java]     at\n>\norg.apache.batik.gvt.renderer.StrokingTextPainter.getOutline(StrokingTextPainter.java:588)\n>      [java]     at\n>\norg.apache.batik.gvt.renderer.BasicTextPainter.getStrokeOutline(BasicTextPainter.java:400)\n>      [java]     at\n>\norg.apache.batik.gvt.renderer.StrokingTextPainter.getBounds(StrokingTextPainter.java:557)\n>      [java]     at\n>\norg.apache.batik.gvt.renderer.BasicTextPainter.getPaintedBounds(BasicTextPainter.java:277)\n>      [java]     at\n> org.apache.batik.gvt.TextNode.getPrimitiveBounds(TextNode.java:154)\n>      [java]     at\n>\norg.apache.batik.gvt.AbstractGraphicsNode.getTransformedPrimitiveBounds(AbstractGraphicsNode.java:815)\n>      [java]     at\n>\norg.apache.batik.gvt.AbstractGraphicsNode.getTransformedBounds(AbstractGraphicsNode.java:789)\n>      [java]     at\n>\norg.apache.batik.gvt.CompositeGraphicsNode.getTransformedPrimitiveBounds(CompositeGraphicsNode.java:321)\n> \n> Attached to this email, a simple SVG document that fails.\n> \n> PS: A simple if (newPos != null) in the AWTGVTGlyphVector does not solve the\n> problem :) - that just ignores the whitespace so the global spacing\n> (letter-spacing+whitespace+letter-spacing) is wrong.\n>", "id": 2452, "time": "2001-05-15T15:48:19Z", "creator": "tkormann@apache.org", "creation_time": "2001-05-15T15:48:19Z", "tags": [], "is_private": false}]