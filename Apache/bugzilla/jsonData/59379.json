[{"count": 0, "tags": [], "creator": "jlmuir@imca-cat.org", "attachment_id": 33806, "text": "Created attachment 33806\nTest case\n\n# Overview\n\nThe Get task is not quiet when the `dest' file exists and the `quiet' and `skipexisting' attributes are set to `true'; it displays a message like this:\n\n[get] Destination already exists (skipping): /tmp/ant-get-test/mylib.jar\n\n# Steps to Reproduce\n\n1. Save the attached build.xml file to the directory /tmp/ant-get-test (or wherever)\n\n2. Run Ant in the directory:\n\n   $ ant\n\n# Actual Results\n\nBuildfile: /tmp/ant-get-test/build.xml\n\nbuild:\n    [touch] Creating /tmp/ant-get-test/mylib.jar\n      [get] Destination already exists (skipping): /tmp/ant-get-test/mylib.jar\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n\n# Expected Results\n\nThe Get task should not write the message about the destination file already existing because the `quiet' attribute is set to `true':\n\nBuildfile: /tmp/ant-get-test/build.xml\n\nbuild:\n    [touch] Creating /tmp/ant-get-test/mylib.jar\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n\n# Build Date & Hardware\n\nAnt 1.9.6 on OS X El Capitan (10.11.4).\n\n# Additional Builds and Platforms\n\nI haven't tested on other platforms, but the problem probably exists everywhere.\n\n# Additional Information\n\nLooking at the source code for the Get task from the Git master branch, it seems like one fix would be to only call the `log' method if the `quiet' attribute is not set to `true' as in the attached get-quiet-skip-existing.diff (untested).\n\nAnother approach would be to change the `log(String, int)' method to use a different conditional for the `msgLevel' test.  Right now, it uses `msgLevel >= Project.MSG_ERR', but in Project, MSG_ERR, MSG_WARN, MSG_INFO, MSG_VERBOSE, and MSG_DEBUG are set to 0-4, respectively, so the `msgLevel >= Project.MSG_ERR' test will always evaluate to true (and hence the super.log call will always be made) unless a value less than 0 is specified (i.e. not one of the Project class constants).", "id": 190567, "time": "2016-04-26T17:14:49Z", "bug_id": 59379, "creation_time": "2016-04-26T17:14:49Z", "is_private": false}, {"attachment_id": 33807, "tags": [], "creator": "jlmuir@imca-cat.org", "is_private": false, "count": 1, "id": 190568, "time": "2016-04-26T17:15:47Z", "bug_id": 59379, "creation_time": "2016-04-26T17:15:47Z", "text": "Created attachment 33807\nFix"}, {"count": 2, "tags": [], "bug_id": 59379, "is_private": false, "text": "Thank you!\n\nI've opted to fix the logic inside the log method as the intend was to suppress anything less severe than ERR - and it now does with commit 647bdfb - will be fixed in 1.9.8 and 1.10.0.", "id": 190655, "time": "2016-05-01T04:42:35Z", "creator": "bodewig@apache.org", "creation_time": "2016-05-01T04:42:35Z", "attachment_id": null}]