[{"count": 0, "tags": [], "creator": "med1985@gmail.com", "attachment_id": 27014, "text": "Created attachment 27014\nGOCA text poorly encoded test\n\nThis bug is caused by the SVG fonts are handled in AFP (and in general). There is a disparity between the way normal text, which is rendered into PTOCA, and SVG text, which is rendered to GOCA, is handled. The EBCDIC encoding isn't passed through to the GOCA object (GraphicalCharacterString), the GCS ALWAYS converts text using Cp1146 encoding regardless of what's given in the fop.xconf. I've attached an FO that illustrates the point.\n\nI'm not that familiar with SVG so I may have copy/pasted some superfluous information but the bug is clearly visible if converted to AFP.", "id": 146372, "time": "2011-05-17T10:12:22Z", "bug_id": 51209, "creation_time": "2011-05-17T10:12:22Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 51209, "attachment_id": null, "id": 146380, "time": "2011-05-17T13:07:49Z", "creator": "med1985@gmail.com", "creation_time": "2011-05-17T13:07:49Z", "is_private": false, "text": "To add to this, if you wish to produce the correctly rendered AFP, you can change the EBCDIC encoding scheme to \"CP500\". This can be done by changing o.a.f.afp.goca.GraphicsCharacterString.getStringAsBytes() from:\n\n\n    private byte[] getStringAsBytes() throws UnsupportedEncodingException {\n        return str.getBytes(AFPConstants.EBCIDIC_ENCODING);\n    }\n\nTo:\n\n    private byte[] getStringAsBytes() throws UnsupportedEncodingException {\n        return str.getBytes(\"Cp500\");\n    }\n\nThis will provide the correct encoding scheme for Helvetica ONLY and render the FO properly. Though obviously this doesn't address the larger issue already described."}, {"count": 2, "tags": [], "bug_id": 51209, "attachment_id": 28122, "id": 152612, "time": "2012-01-06T14:38:47Z", "creator": "lmpmbernardo@gmail.com", "creation_time": "2012-01-06T14:38:47Z", "is_private": false, "text": "Created attachment 28122\npatch to address issue described"}, {"count": 3, "tags": [], "bug_id": 51209, "attachment_id": null, "id": 152846, "time": "2012-01-17T15:19:07Z", "creator": "lmpmbernardo@gmail.com", "creation_time": "2012-01-17T15:19:07Z", "is_private": false, "text": "edited title to reflect patch"}, {"count": 4, "tags": [], "bug_id": 51209, "text": "Hi Luis,\n\nThanks for the patch. This has been committed in revision 1232845.\n\nThanks,\n\nChris", "id": 152884, "time": "2012-01-18T11:54:59Z", "creator": "bowditch_chris@hotmail.com", "creation_time": "2012-01-18T11:54:59Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 51209, "is_private": false, "text": "resetting P2 open bugs to P3 pending further review", "id": 157330, "time": "2012-04-07T01:41:33Z", "creator": "gadams@apache.org", "creation_time": "2012-04-07T01:41:33Z", "attachment_id": null}, {"count": 6, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "text": "increase priority due to presence of a patch", "id": 157689, "time": "2012-04-08T09:11:03Z", "bug_id": 51209, "creation_time": "2012-04-08T09:11:03Z", "is_private": false}, {"count": 7, "tags": [], "creator": "med1985@gmail.com", "attachment_id": null, "text": "Patch applied, this can be closed", "id": 157697, "time": "2012-04-08T09:17:38Z", "bug_id": 51209, "creation_time": "2012-04-08T09:17:38Z", "is_private": false}]