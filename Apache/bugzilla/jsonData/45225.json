[{"count": 0, "tags": [], "bug_id": 45225, "attachment_id": null, "id": 117780, "time": "2008-06-17T22:30:03Z", "creator": "matt@blissett.me.uk", "creation_time": "2008-06-17T22:30:03Z", "is_private": false, "text": "Problem: The transfer of a document fails if it was chosen by Apache because of DirectoryIndex and MultiViews, and XBitHack is set. \n\nReproduction:\n\nVirtualHost configuration:\n<VirtualHost *:80>\n\tServerName problem\n\tDocumentRoot /web/problem\n\tCustomLog \"/var/log/apache2/problem\" combined\n\tErrorLog \"/var/log/apache2/problem_e\"\n\n\tOptions +MultiViews +Includes\n\n\tDirectoryIndex index\n\n\tXBitHack Full\n</VirtualHost>\n\nThe file in DocumentRoot:\n$ echo '<!--#set var=\"a\" value=\"ABC\" -->T: <!--#echo var=\"a\" -->' > index.html\n$ chmod 744 index.html\n\nExample HEAD request (works fine):\n$ curl -I http://problem/\nHTTP/1.1 200 OK\nDate: Wed, 18 Jun 2008 05:08:43 GMT\nServer: Apache\nContent-Location: index.html\nVary: negotiate\nTCN: choice\nAccept-Ranges: bytes\nContent-Type: text/html; charset=UTF-8\n\nBut a GET request hangs (curl hangs for 10 seconds before exiting with the error, web browsers just fail and display an error):\n$ curl http://problem/\nT: ABC\ncurl: (18) transfer closed with outstanding read data remaining\n\nThe log records a successful request.\n\nThis request is fine:\n$ curl http://problem/index\nT: ABC\n\nTo \"fix\":\n$ chmod 644 index.html\n$ curl http://problem/\n<!--#set var=\"a\" value=\"ABC\" -->T: <!--#echo var=\"a\" -->\n\nBring back the SSI:\n$ mv index.html index.shtml\n$ curl http://problem/\nT: ABC"}, {"count": 1, "tags": [], "bug_id": 45225, "attachment_id": null, "id": 125437, "time": "2009-03-09T09:39:16Z", "creator": "zhangweiwu@realss.com", "creation_time": "2009-03-09T09:39:16Z", "is_private": false, "text": "I can confirm this bug do exist on two of my servers, one with gentoo linux and the other ubuntu. Matt made a very good bug report IMHO because all what he said waisted me 1 full day to find out."}, {"count": 2, "tags": [], "creator": "david@fastolfe.net", "text": "This may be related to bug 43289.", "id": 128156, "time": "2009-06-22T12:24:38Z", "bug_id": 45225, "creation_time": "2009-06-22T12:24:38Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 45225, "attachment_id": null, "id": 144931, "time": "2011-03-11T01:13:20Z", "creator": "zhangweiwu@realss.com", "creation_time": "2011-03-11T01:13:20Z", "is_private": false, "text": "*** Bug 50914 has been marked as a duplicate of this bug. ***"}]