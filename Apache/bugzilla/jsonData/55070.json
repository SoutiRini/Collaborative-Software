[{"count": 0, "tags": [], "text": "mod_fcgid does not listen to per vhosts errorlog directive\nmod_fcgid loggs to apache error_log using his own format or more exacly complete lack of it:\n\nCannot load the ionCube PHP Loader - it was built with configuration 2.2.0, whereas running engine is API220090626,NTS\nZend Optimizer requires Zend Engine API version 220060519.\nThe Zend Engine API version 220090626 which is installed, is newer.\nContact Zend Technologies at http://www.zend.com/ for a later version of Zend Optimizer.\n\nNo date, no identification of process, virtualhost, directives. Full wtf.\n\nmod_fcgid logs without any regard for LogLevel.\n\nmod_fcgid spams apache error_log and should not log to it as it is.", "is_private": false, "id": 167698, "creator": "naox@yum.pl", "time": "2013-06-06T21:09:30Z", "bug_id": 55070, "creation_time": "2013-06-06T21:09:30Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 55070, "text": "ioncube PHP loader is writing to stderr.  stderr is sent to the main error log.", "id": 167700, "time": "2013-06-06T21:26:21Z", "creator": "covener@gmail.com", "creation_time": "2013-06-06T21:26:21Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 55070, "attachment_id": null, "is_private": false, "id": 167701, "time": "2013-06-06T21:28:23Z", "creator": "naox@yum.pl", "creation_time": "2013-06-06T21:28:23Z", "text": "Then I guess stderr should not be send to main apache error_log by mod_fcgid"}, {"count": 3, "tags": [], "text": "Then I guess stderr should not be send to main apache error_log by mod_fcgid - especialy without any formating - date, time, identification", "is_private": false, "id": 167702, "creator": "naox@yum.pl", "time": "2013-06-06T21:29:12Z", "bug_id": 55070, "creation_time": "2013-06-06T21:29:12Z", "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 55070, "is_private": false, "id": 167703, "time": "2013-06-06T21:44:39Z", "creator": "covener@gmail.com", "creation_time": "2013-06-06T21:44:39Z", "tags": [], "text": "Marking as an enhancement, processes kicked off from fcgid could have their stderr redirected or wrapped by some pipe and related back to some config directive, but not IMO a bug."}, {"count": 5, "tags": [], "bug_id": 55070, "attachment_id": 30763, "text": "Created attachment 30763\nA patch to redirect stderr of processes spawned by mod_fcgid to the vhost's error log\n\nThe attached patch was tested with mod_fcgid 2.3.7 and apache 2.2.25. It should be simple enough to adapt to newer versions, if necessary at all. It does not wrap the output in any way. Also note that it depends on the order of vhosts at initialization. If any module changes that order, this patch will not write to the correct error log.", "id": 169705, "time": "2013-08-26T11:50:33Z", "creator": "Eruquen@gmail.com", "creation_time": "2013-08-26T11:50:33Z", "is_private": false}, {"count": 6, "tags": [], "creator": "covener@gmail.com", "text": "Comment on attachment 30763\nA patch to redirect stderr of processes spawned by mod_fcgid to the vhost's error log\n\nCan a FCGI app handle requests only on the VH that started it?", "id": 169708, "time": "2013-08-26T12:31:22Z", "bug_id": 55070, "creation_time": "2013-08-26T12:31:22Z", "is_private": false, "attachment_id": 30763}, {"count": 7, "tags": [], "bug_id": 55070, "attachment_id": null, "is_private": false, "id": 169713, "time": "2013-08-26T14:03:00Z", "creator": "Eruquen@gmail.com", "creation_time": "2013-08-26T14:03:00Z", "text": "(In reply to Eric Covener from comment #6)\n> Can a FCGI app handle requests only on the VH that started it?\n\nAs far as I can tell, fcgid_bridge.c:62 should prevent that from happening. No running process with vhost_id different from the request's vhost_id is ever taken into consideration."}, {"count": 8, "tags": [], "bug_id": 55070, "attachment_id": 30791, "text": "Created attachment 30791\nfixed a bug in the patch\n\nThis is a new version of the patch, which fixes a off-by-one error in the previous version. Sadly, I also learned that the patch only works when all virtual hosts have at least one Fcgid* directive in their configuration. Otherwise, the vhost_id of main_server will be used for requests and, thus, errors will be written to the main error log.", "id": 169858, "time": "2013-09-01T22:19:25Z", "creator": "Eruquen@gmail.com", "creation_time": "2013-09-01T22:19:25Z", "is_private": false}]