[{"count": 0, "tags": [], "creator": "dianne.jiao@sun.com", "is_private": false, "text": "To reproduce, deploy the attached application on web server and access:\n\n/servlet_spec_crosscontext1_web/JSPAccessServlet.jsp?testname=includeJSPServlet\n\nor\n\n/servlet_spec_crosscontext1_web/JSPAccessServlet.jsp?testname=forwardJSPServlet", "id": 58474, "time": "2004-06-01T17:53:15Z", "bug_id": 29327, "creation_time": "2004-06-01T17:53:15Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "dianne.jiao@sun.com", "text": "Created attachment 11711\nweb app to reproduce; its source code and class files", "id": 58475, "time": "2004-06-01T17:55:33Z", "bug_id": 29327, "creation_time": "2004-06-01T17:55:33Z", "is_private": false, "attachment_id": 11711}, {"count": 2, "attachment_id": null, "bug_id": 29327, "is_private": false, "id": 58476, "time": "2004-06-01T17:56:08Z", "creator": "remm@apache.org", "creation_time": "2004-06-01T17:56:08Z", "tags": [], "text": "How about mentioning the exception as well, in case the problem is obvious ?"}, {"count": 3, "tags": [], "creator": "remm@apache.org", "text": "The test is bad (it's an EAR): please include a regular test case, as well as\nthe exception report.\nBTW, given the presence of the default servlet, I do not see how you can expect\nto get a null RD back (yet another weird test, maybe ?).", "id": 58477, "time": "2004-06-01T17:59:16Z", "bug_id": 29327, "creation_time": "2004-06-01T17:59:16Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "funkman@joedog.org", "text": "I bet this is a duplicate of 23211\n\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=23211", "id": 58478, "time": "2004-06-01T18:20:28Z", "bug_id": 29327, "creation_time": "2004-06-01T18:20:28Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 29327, "attachment_id": 11712, "text": "Created attachment 11712\nSimpler version of the test case - same URL to reproduce", "id": 58483, "time": "2004-06-01T18:38:27Z", "creator": "dianne.jiao@sun.com", "creation_time": "2004-06-01T18:38:27Z", "is_private": false}, {"text": "Exception thrown:\njava.lang.NullPointerException\n\n", "tags": [], "creator": "dianne.jiao@sun.com", "is_private": false, "count": 6, "id": 58484, "time": "2004-06-01T18:39:16Z", "bug_id": 29327, "creation_time": "2004-06-01T18:39:16Z", "attachment_id": null}, {"text": "I can't quite see how your package is simpler.\nI did waste some time investigating (while my right eye was watching roland\ngarros ;) ), and your bug is really invalid: the NPE is thrown somewhere in your\ncode, and it works (apparently) after setting crossContext in DefaultContext.\nAs a general rule, don't bother filing a bug if:\n- we can't really know for sure what your test is doing and/or you don't want to\ntell\n- you can't post stack traces", "tags": [], "creator": "remm@apache.org", "is_private": false, "count": 7, "id": 58488, "time": "2004-06-01T18:51:40Z", "bug_id": 29327, "creation_time": "2004-06-01T18:51:40Z", "attachment_id": null}, {"text": "Created attachment 11713\nthird attachment with correct path to a servlet", "tags": [], "creator": "dianne.jiao@sun.com", "is_private": false, "count": 8, "id": 58491, "time": "2004-06-01T19:08:41Z", "bug_id": 29327, "creation_time": "2004-06-01T19:08:41Z", "attachment_id": 11713}, {"count": 9, "tags": [], "creator": "dianne.jiao@sun.com", "text": "To respond to Tim Funk's comment -- created a third test case attachment so that\na correct servlet path is used when place call\nServletContext.getRequestDispatcher(path_servlet).  \n\nTo respond to Remy's comment #1 - with code like this, the exception is from\nTomcat:\n            try {\n                rd = context.getRequestDispatcher(path_servlet);\n            } catch (Exception ex) {\n                out.println(\"Unexpected Exception thrown:\" + ex.toString());\n            }\n\nTo respond to Remy's comment #2 -- \"it works (apparently) after setting\ncrossContext in DefaultContext\" -- It should also return null if crossContext\nnot set, not just throwing an exception.   Both of them together(!!!) make the\npicture complete.", "id": 58492, "time": "2004-06-01T19:14:32Z", "bug_id": 29327, "creation_time": "2004-06-01T19:14:32Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "creator": "remm@apache.org", "text": "Whatever ;) I won't waste any more time of this issue, that's for sure.", "id": 58494, "time": "2004-06-01T19:22:46Z", "bug_id": 29327, "creation_time": "2004-06-01T19:22:46Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "creator": "william.barker@wilshire.com", "text": "If context == null (which it will be by default), then surprise surprise, \n*your* code will throw an NPE.\n\nPlease go back and read Remy's comments about how to submit a bug report.", "id": 58498, "time": "2004-06-01T20:01:43Z", "bug_id": 29327, "creation_time": "2004-06-01T20:01:43Z", "is_private": false, "attachment_id": null}, {"count": 12, "tags": [], "bug_id": 29327, "attachment_id": null, "text": "Well, to respond to William Barker's comment - BIG surprise that you didn't read\nthe source code before respond - to quote the more code in the third\nattachement:\n\n        ses = req.getSession(true);\n        if (ses != null) {\n            ServletContext context =\ngetServletConfig().getServletContext().getContext(path_context);\n\n            try {\n                rd = context.getRequestDispatcher(path_servlet);\n            } catch (Exception ex) {\n                out.println(\"Unexpected Exception thrown:\" + ex.toString());\n            }\n\n        } else {\n            out.println(\"Cannot get a HttpSession\");\n        }\n\n\nTo respond to Remy's comment since I am back in here  -  I think this is\nimportant to fix - crossContext maynot be always turned on for security reason.", "id": 58499, "time": "2004-06-01T20:10:49Z", "creator": "dianne.jiao@sun.com", "creation_time": "2004-06-01T20:10:49Z", "is_private": false}, {"text": "If crossContext is false then \"getContext(path_context)\" would return null.\n\nIf context is null then trying to call one of it's methods will always yield a\nNullPointerException.\n rd = context.getRequestDispatcher(path_servlet);\n\nIOW: There is no context to respond to the \"getRequestDispatcher\" call.", "tags": [], "creator": "bsouther@fwdco.com", "is_private": false, "count": 13, "id": 58501, "time": "2004-06-01T20:18:26Z", "bug_id": 29327, "creation_time": "2004-06-01T20:18:26Z", "attachment_id": null}, {"count": 14, "attachment_id": null, "bug_id": 29327, "is_private": false, "id": 58506, "time": "2004-06-01T21:03:25Z", "creator": "dianne.jiao@sun.com", "creation_time": "2004-06-01T21:03:25Z", "tags": [], "text": "Response to Ben Souther and william.barker, thanks, ServletContext returned Null\nin this case.  \n\nTest error."}]