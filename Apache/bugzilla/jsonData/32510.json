[{"count": 0, "tags": [], "bug_id": 32510, "text": "Upon validating the contents of the Content-Type header, it seems that Tomcat is\nputting the header back together in a way not consistent with how it was\nsubmitted by the application. Example:\nContent-Type: application/xml; charset=\"utf-8\"\nis changed to\nContent-Type: application/xml;charset=utf-8\n\nThis breaks certain applications who expect the first variant (both are\nperfectly valid). In addition, all examples in XML and HTTP specifications\n(RFCs) are of the form\nContent-Type: application/xml; charset=utf-8\n(with space, without quotes).\n\nLine 521 in\njakarta-tomcat-connectors/coyote/src/java/org/apache/coyote/Response.java\nreads\nret = ret + \";charset=\" + characterEncoding;\nbut should be changed to read\nret = ret + \"; charset=\" + characterEncoding;\n\nPS: This also applies when using Tomcat in standalone mode (i.e. no connector)!", "id": 67868, "time": "2004-12-03T10:46:59Z", "creator": "ltning-apache@anduin.net", "creation_time": "2004-12-03T10:46:59Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "william.barker@wilshire.com", "attachment_id": null, "text": "It's not Tomcat's responsibility to fix broken clients.  I see absolutely no \nreason why Tomcat should favor broken clients that want a space over broken \nclients that don't.  At least the latter are saving one byte of output :).\n\nAs you've pointed out, the white space is optional in the RFC, so what Tomcat \nis doing is correct. ", "id": 67883, "time": "2004-12-03T17:05:07Z", "bug_id": 32510, "creation_time": "2004-12-03T17:05:07Z", "is_private": false}]