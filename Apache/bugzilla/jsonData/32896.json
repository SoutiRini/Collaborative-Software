[{"count": 0, "attachment_id": null, "creator": "rasto@griddlers.net", "is_private": false, "id": 69106, "time": "2004-12-30T21:19:43Z", "bug_id": 32896, "creation_time": "2004-12-30T21:19:43Z", "tags": [], "text": "The function endsWith in standard library returns false also when the searched\nsubstring is contained twice in string. \nExample : fn:endsWith( 'abcdb' ,'b' ) returns false.\n\nOriginal source code :\n\n    public static boolean endsWith(String input, String substring) {\n        if (input == null) input = \"\";\n        if (substring == null) substring = \"\";\n        int index = input.indexOf(substring);\n        if (index == -1) return false;\n        if (index == 0 && substring.length() == 0) return true;\n        return (index == input.length() - substring.length());\n    }  \n\nshould be :\n\n    public static boolean endsWith(String input, String substring) {\n        if (input == null) input = \"\";\n        if (substring == null) substring = \"\";\n        int index = input.lastIndexOf(substring);\n        if (index == -1) return false;\n        if (index == 0 && substring.length() == 0) return true;\n        return (index == input.length() - substring.length());\n    }"}, {"count": 1, "tags": [], "creator": "dhiru.pandey@sun.com", "text": "Thanks for the fix Rastislav Rehak. The fix was committed by Pierre Delisle.\n\nMarking this bug fixed.\n\n-Dhiru", "id": 71112, "time": "2005-02-17T02:33:19Z", "bug_id": 32896, "creation_time": "2005-02-17T02:33:19Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "bayard@apache.org", "is_private": false, "id": 135494, "time": "2010-03-22T01:29:43Z", "bug_id": 32896, "creation_time": "2010-03-22T01:29:43Z", "tags": [], "text": "*** Bug 48848 has been marked as a duplicate of this bug. ***"}]