[{"count": 0, "tags": [], "creator": "adam@labkey.com", "is_private": false, "id": 138673, "attachment_id": null, "bug_id": 49647, "creation_time": "2010-07-26T01:35:22Z", "time": "2010-07-26T01:35:22Z", "text": "OS is Windows 7 (which probably could be added to your OS list now).\n\n5.5.30 appears to have reintroduced this bug: https://issues.apache.org/bugzilla/show_bug.cgi?id=40668\n\nComparing naming-factory.jar in Tomcat 5.5.29 with the one distributed in Tomcat 5.5.30 confirms that the following classes are missing:\n\n SendMailFactory\n SendMailFactory$1\n MailSessionFactory\n MailSessionFactory$1\n MailSessionFactory$2\n\nAs a result, sending email from our Tomcat application is completely broken."}, {"count": 1, "tags": [], "text": "Confirmed.\n\nI checked all the jar files, those are the only classes missing, all other changes are as expected.\n\ncontainer/catalina/build.xml builds the classes if property compile.javamail is set, which is true if either full.dist==\"on\" or javamail.present is set. The latter is true, if it finds \"javax.activation.DataSource\" in activation.jar and \"javax.mail.Service\" in mail.jar. Both are not part of the download target, possibly because of licensing. So I guess they were not present on the build machine.\n\nWe need better release documentation for TC 5.5, release process seems to be to fragile. There are lots of other dynamically determined conditions in the build.xml files.", "attachment_id": null, "id": 138675, "creator": "rainer.jung@kippdata.de", "time": "2010-07-26T05:45:36Z", "bug_id": 49647, "creation_time": "2010-07-26T05:45:36Z", "is_private": false}, {"count": 2, "tags": [], "text": "5.5.31 has been released that fixes this.", "is_private": false, "bug_id": 49647, "id": 139921, "time": "2010-09-17T03:12:42Z", "creator": "markt@apache.org", "creation_time": "2010-09-17T03:12:42Z", "attachment_id": null}]