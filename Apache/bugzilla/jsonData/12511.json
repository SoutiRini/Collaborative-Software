[{"count": 0, "tags": [], "text": "<concat> directive must have a newline at the end of the concatenating files.\nNot sure if this is bug or feature, but annoying when ie performing concat of\ntwo property files (Last line and first line is joined and the last property\nvalue is then messed up)", "is_private": false, "bug_id": 12511, "id": 22654, "time": "2002-09-11T09:20:35Z", "creator": "joachim.gjesdal@ecomda.de", "creation_time": "2002-09-11T09:20:35Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "is_private": false, "id": 22661, "time": "2002-09-11T10:42:25Z", "bug_id": 12511, "creation_time": "2002-09-11T10:42:25Z", "text": "Hmm, this is consistent with Unix cat which in some way has been the inspiration\nfor the task:\n\n[bodewig@bodewig tmp]$ cat a\na[bodewig@bodewig tmp]$ cat b\nb\n[bodewig@bodewig tmp]$ cat a b\nab\n\nwe could throw in an optional attribute to control this, maybe."}, {"count": 2, "tags": [], "text": "I have started implementing an optional attribute, when I discovered that if \nthe user specifies the encoding the concat task will have the requested \nbehaviour if the encoding is set:\n\n  <target name=\"concattest\">\n      <concat destfile=\"out\">\n          <fileset dir=\"input\"/>\n      </concat>\n      <concat destfile=\"out2\" encoding=\"ASCII\">\n          <fileset dir=\"input\"/>\n      </concat>\n  </target>\n\n[jkf@kruithof ~/a]$ ant -f test.xml concattest\nBuildfile: test.xml\n\nconcattest:\n\nBUILD SUCCESSFUL\nTotal time: 8 seconds\n[jkf@kruithof ~/a]$ cat out\nab[jkf@kruithof ~/a]$ cat out2\na\nb\n[jkf@kruithof ~/a]$\n\nThe question is, is this a bug or a feature.", "is_private": false, "bug_id": 12511, "id": 22708, "time": "2002-09-11T22:15:29Z", "creator": "jkf@apache.org", "creation_time": "2002-09-11T22:15:29Z", "attachment_id": null}, {"count": 3, "attachment_id": null, "creator": "bodewig@apache.org", "is_private": false, "id": 22803, "time": "2002-09-13T11:07:09Z", "bug_id": 12511, "creation_time": "2002-09-13T11:07:09Z", "tags": [], "text": "I'd say it is a bug, encoding shouldn't have an influence on line endings (other\nthan properly encoding them, that is)."}, {"count": 4, "tags": [], "text": "OK, no difference regardless of encoding now - there will never be a newline\nseparating the files.\n\nMartijn are you still looking into a patch for the optional attribute?", "is_private": false, "bug_id": 12511, "id": 26479, "time": "2002-11-18T15:26:09Z", "creator": "bodewig@apache.org", "creation_time": "2002-11-18T15:26:09Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 12511, "is_private": false, "id": 34500, "creation_time": "2003-04-04T09:08:51Z", "time": "2003-04-04T09:08:51Z", "creator": "peter.reilly@corvil.com", "text": "Created attachment 5643\nadd outputencoding, fixlastline, eol and writer attributes", "attachment_id": 5643}, {"count": 6, "attachment_id": null, "creator": "peter.reilly@corvil.com", "text": "Ok I have including the patch. It is part of\nan update to the enchanced concat.\n\nThe patch implements following attributes\n\n* outputencoding\n* fixlastline\n* eol\n\nand *encoding on header and footer nested elements\n\nThere is test cases for the outputencoding and fixlastline. The\ntest case for outputencoding depends on the files used in the\ncopy tests.\n\nA new method setWriter has been added. This is to allow\nconcat to be used as a nested element (as part of a filter\nchain). The idea here is to remove header and footer as nested elements\nof concat, and add them as nested elements of filterchain (so they\ncan be used with concat, loadfile and copy).\nexample:\n   <concat>\n     <some files>\n     <filterchain>\n         <header>This is the header</header>\n         <footer><path path=\"footer.txt\"></footer>\n     </filterchain>\n   </concat>\n\nPeter.\n       \n", "id": 34501, "time": "2003-04-04T09:19:19Z", "bug_id": 12511, "creation_time": "2003-04-04T09:19:19Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "bug_id": 12511, "is_private": false, "id": 36976, "creation_time": "2003-05-09T13:34:14Z", "time": "2003-05-09T13:34:14Z", "creator": "bodewig@apache.org", "text": "I've committed a slightly modified version of Peter's patch.\n\nShould be in nightly build 2003-05-10.", "attachment_id": null}, {"count": 8, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "*** Bug 23832 has been marked as a duplicate of this bug. ***", "id": 72611, "time": "2005-03-17T16:29:26Z", "bug_id": 12511, "creation_time": "2005-03-17T16:29:26Z", "is_private": false}]