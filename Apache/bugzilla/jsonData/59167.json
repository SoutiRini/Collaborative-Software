[{"count": 0, "attachment_id": null, "bug_id": 59167, "text": "I have a cluster of two nodes, using DeltaManager to transfer session data in a failover scheme.  \n\nI noticed that only certain session attributes were being replicated.  On some variables I was getting a warning, which caused me to trace the code and I found this in org.apache.catalina.session.ManagerBase: \n\n    public ManagerBase() {\n        if (Globals.IS_SECURITY_ENABLED) {\n            // Minimum set required for default distribution/persistence to work\n            // plus String\n            setSessionAttributeValueClassNameFilter(\n                    \"java\\\\.lang\\\\.(?:Boolean|Integer|Long|Number|String)\");\n            setWarnOnSessionAttributeFilterFailure(true);\n        }\n    }\n\nLater in the code it uses the sessionAttributeValueClassNamePattern to determine what can be sent or not.  The problem is this doesn't respect the security manager.  I should be able to explicitly grant permission to this class and have it sent via the DeltaManager.", "id": 189363, "time": "2016-03-11T18:34:14Z", "creator": "mwenk@posportal.com", "creation_time": "2016-03-11T18:34:14Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 59167, "text": "Please user the users mailing list for assistance.", "id": 189364, "time": "2016-03-11T18:47:56Z", "creator": "markt@apache.org", "creation_time": "2016-03-11T18:47:56Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "mwenk@posportal.com", "attachment_id": null, "is_private": false, "id": 189366, "time": "2016-03-11T19:19:47Z", "bug_id": 59167, "creation_time": "2016-03-11T19:19:47Z", "text": "The user mailing list isn't going to fix the fact that the tomcat source code is not respecting the security manager.  \n\nI have two workarounds, and to be honest both suck.  \n\nIf you're reaching into the security manager, then you should respect it.  If not, then why the hell are you going into it?"}, {"count": 3, "tags": [], "creator": "chris@christopherschultz.net", "attachment_id": null, "text": "Trying vinegar, eh?\n\nI was involved in the design of the feature you are complaining about, and I have no idea what you mean when you say \"isn't respecting the SecurityManager\". Is there some overlooked TomcatPermission.allowThisClassNametoBeDeserializedFromARemoteSource() method?\n\nSeriously, please use the user's list to discuss this. Not saying there isn't a bug here. Just saying that long discussions about why and how to fix things is best done on a mailing list and not in BZ comments.", "id": 189370, "time": "2016-03-11T20:11:01Z", "bug_id": 59167, "creation_time": "2016-03-11T20:11:01Z", "is_private": false}, {"count": 4, "tags": [], "creator": "markt@apache.org", "text": "For the last time, this belongs on the users mailing list, not in Bugzilla.", "id": 189377, "time": "2016-03-11T20:55:51Z", "bug_id": 59167, "creation_time": "2016-03-11T20:55:51Z", "is_private": false, "attachment_id": null}]