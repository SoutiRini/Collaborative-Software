[{"count": 0, "text": "I'll attach a patch that automatically uses the -emacs option if running under \n(X)Emacs' compile mode, which sets the environment variable EMACS=t.", "bug_id": 11057, "is_private": false, "id": 20013, "time": "2002-07-22T21:45:47Z", "creator": "ville.skytta@iki.fi", "creation_time": "2002-07-22T21:45:47Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "creator": "ville.skytta@iki.fi", "text": "Created attachment 2438\nAuto-detect (X)Emacs' compile mode", "id": 20014, "time": "2002-07-22T21:46:26Z", "bug_id": 11057, "creation_time": "2002-07-22T21:46:26Z", "is_private": false, "attachment_id": 2438}, {"count": 2, "tags": [], "text": "Believe it or not, I almost always run Ant from within XEmacs and I never want\nto set the -emacs switch.\n\nWhat would I do after your patch has been applied?", "attachment_id": null, "id": 20028, "creator": "bodewig@apache.org", "time": "2002-07-23T06:27:48Z", "bug_id": 11057, "creation_time": "2002-07-23T06:27:48Z", "is_private": false}, {"count": 3, "tags": [], "text": "Well, depends on how you run ant from XEmacs.  If you run it as a shell  \ncommand (M-!/M-x shell-command), this patch won't affect it at all, since the \nEMACS=t is only set in compile mode. \n  \nIf you run it in compile mode (M-x compile), there would be no way  \nto prevent the -emacs switch at the moment.  A -noemacs switch could of course \nbe provided for people wishing to explicitly say no to it. \n \nMaybe it's just me, but if I run ant in XEmacs' compile mode, I *do* want the \ncompile mode to understand the error messages so I can jump around in the \ncode.  This patch, together with another one I sent, #11056 makes ant+XEmacs \nwork the way I want, by default. ", "attachment_id": null, "id": 20039, "creator": "ville.skytta@iki.fi", "time": "2002-07-23T12:05:40Z", "bug_id": 11057, "creation_time": "2002-07-23T12:05:40Z", "is_private": false}, {"count": 4, "tags": [], "creator": "bodewig@apache.org", "text": "M-x compile\n\nAnd my XEmacs has no problems parsing the error messages (using that nice little\npiece of elisp from Ant's FAQ).\n\nUsing this lisp and not using -emacs enables me to jump around in the code and\nmakes XEmacs+ant work the way I want, by default. ;-)", "id": 20040, "time": "2002-07-23T12:20:13Z", "bug_id": 11057, "creation_time": "2002-07-23T12:20:13Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "text": "Well, to be exact, not by default, since you're using the \"nice little piece   \nof elisp from Ant's FAQ\" :)   \n  \nAnyway, if you don't think this (and bug 11056) is a Good Thing by default,  \nmaybe the FAQ could be updated to contain something like:  \n------ \nTo make your Ant auto-detect (X)Emacs' compile mode, put this into your \n.antrc: \n \n# Detect (X)Emacs compile mode \nif [ \"$EMACS\" = \"t\" ] ; then \n  ANT_ARGS=\"$ANT_ARGS -emacs\" \n  ANT_OPTS=\"$ANT_OPTS -Dbuild.compiler.emacs=true\" \nfi \n------ \n...and a similar one for Windows users, if .antrc or something like it is \napplicable there (don't remember ATM). ", "attachment_id": null, "id": 20046, "creator": "ville.skytta@iki.fi", "time": "2002-07-23T12:49:58Z", "bug_id": 11057, "creation_time": "2002-07-23T12:49:58Z", "is_private": false}, {"count": 6, "tags": [], "creator": "bodewig@apache.org", "text": "Added to the FAQ.", "id": 20423, "time": "2002-07-30T14:50:15Z", "bug_id": 11057, "creation_time": "2002-07-30T14:50:15Z", "is_private": false, "attachment_id": null}]