[{"count": 0, "tags": [], "text": "With JspC, when a relative URI is used in a taglib directive, it is resolved \nagainst the URI root, not the current JSP file, which will cause the directive \nto fail. This is apparently due to differences in the way resolveRelativeUri is \nimplemented in JspEngineContext (when actually running the JSP, it works fine) \nand CommandLineContext (with JspC, it fails).\n\nFor example, suppose Test.jsp contains \n\n  <%@ taglib uri=\"../tlds/mylib.tld\" prefix=\"my\" %>\n\nWith the command line\n\n  jspc -uriroot /rootdir /rootdir/subdir/Test.jsp\n\nIn the CommandLineContext, uriBase gets set to \"/\", so resolveRelativeUri \nresolves the taglib URI into \"/rootdir/../tlds/mylib.tld\", which is wrong. \nTrying to workaround this by setting the uribase\n\n  jspc -uribase /subdir -uriroot /rootdir /rootdir/subdir/Test.jsp\n\ncauses a different problem: the uribase gets doubled up, and JspC tries to \ncompile /rootdir/subdir/subdir/Test.jsp, which is wrong. (There is also one \nreference to \"WEB-INF/lib\" in JspC.java, which is relative, and would be wrong \nwhen evaluated against a non-root uribase; it probably should be \"/WEB-\nINF/lib\".)", "is_private": false, "id": 468, "creator": "kchan@borland.com", "time": "2001-01-31T18:47:27Z", "bug_id": 506, "creation_time": "2001-01-31T18:47:27Z", "attachment_id": null}]