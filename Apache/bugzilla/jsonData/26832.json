[{"count": 0, "tags": [], "text": "In the file jk_requtil.c jk_requtil_escapeUrl() returns JK_OK (which evaluates \nto 0) to indicate success. \n\nIn the current jk_isapi_plugin.c the call expects 0 to mean failure as follows:\n\nif (!jk_requtil_escapeUrl(uri,snuri,INTERNET_MAX_URL_LENGTH)) {\n    env->l->jkLog(env, env->l,  JK_LOG_ERROR, \n      \"HttpFilterProc [%s] re-encoding request exceeds maximum buffer size.\\n\", \n      uri);\n    write_error_response(pfc,\"400 Bad Request\", HTML_ERROR_400);\n               workerEnv->globalEnv->releaseEnv( workerEnv->globalEnv, env );\n    return SF_STATUS_REQ_FINISHED;\n}\n\nThe if statement should be changed to:\n\nif (jk_requtil_escapeUrl(uri,snuri,INTERNET_MAX_URL_LENGTH) != JK_OK) {", "is_private": false, "id": 52065, "creator": "haake@logicalimages.com", "time": "2004-02-10T16:56:09Z", "bug_id": 26832, "creation_time": "2004-02-10T16:56:09Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 26832, "text": "OK, done.", "id": 59319, "time": "2004-06-16T15:38:07Z", "creator": "yoavs@computer.org", "creation_time": "2004-06-16T15:38:07Z", "tags": [], "is_private": false}]