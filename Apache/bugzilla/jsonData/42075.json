[{"count": 0, "tags": [], "bug_id": 42075, "attachment_id": null, "id": 101547, "creation_time": "2007-04-10T02:00:49Z", "time": "2007-04-10T02:00:49Z", "creator": "frodef@stud.cs.uit.no", "text": "In order to move an element to the \"top\", I use the following script, which\nremoves an element from its parent, and inserts it as the last child of the root\nelement (thereby ensuring it gets draw last).\n\nfunction raise(e) {\n  if\n(document.documentElement.childNodes.item(document.documentElement.childNodes.length-1)\n!= e) {\n    e.parentNode.removeChild(e);\n    document.documentElement.appendChild(e);\n  }\n\nHowever, if the element in question has a SET sub-element, something in the\nevent processing gets confused, and each subsequent event causes a\nNullPointerException like this:\n\n     [java]     at\norg.apache.batik.anim.timing.TimedElement.eventOccurred(Unknown Source)\n     [java]     at\norg.apache.batik.anim.timing.EventbaseTimingSpecifier.handleEvent(Unknown Source)\n     [java]     at\norg.apache.batik.dom.events.EventSupport.fireEventListeners(Unknown Source)\n     [java]     at\norg.apache.batik.dom.events.EventSupport.fireEventListeners(Unknown Source)\n     [java]     at\norg.apache.batik.dom.events.EventSupport.dispatchEvent(Unknown Source)\n     [java]     at org.apache.batik.dom.AbstractNode.dispatchEvent(Unknown Source)\n     [java]     at\norg.apache.batik.bridge.BridgeEventSupport$Listener.dispatchMouseEvent(Unknown\nSource)\n     [java]     at\norg.apache.batik.bridge.BridgeEventSupport$Listener.mouseEntered(Unknown Source)\n     [java]     at\norg.apache.batik.gvt.event.AbstractAWTEventDispatcher.processMouseEvent(Unknown\nSource)\n     [java]     at\norg.apache.batik.gvt.event.AbstractAWTEventDispatcher.dispatchMouseEvent(Unknown\nSource)\n     [java]     at\norg.apache.batik.gvt.event.AbstractAWTEventDispatcher.dispatchEvent(Unknown Source)\n     [java]     at\norg.apache.batik.gvt.event.AWTEventDispatcher.dispatchEvent(Unknown Source)\n     [java]     at\norg.apache.batik.gvt.event.AbstractAWTEventDispatcher.mouseMoved(Unknown Source)\n     [java]     at\norg.apache.batik.swing.svg.AbstractJSVGComponent$SVGListener$1MouseMovedRunnable.run(Unknown\nSource)\n     [java]     at org.apache.batik.util.RunnableQueue.run(Unknown Source)\n     [java]     at java.lang.Thread.run(Thread.java:595)\n\n\nThe following SVG demonstrates the effect: click the rectangle to trigger the\nraise function, and then observe the exceptions:\n\n<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\nxmlns:xlink=\"http://www.w3.org/1999/xlink\"\nxmlns:sbthd=\"http://www.selvaag.no/2007/sbthd\" viewBox=\"-0.50 -1.00 11.00 22.00\"\nfont-family=\"Verdana\" font-size=\"50.0\">\n\n<title>\nHouse Designer SVG Output\n</title>\n<defs>\n<script type=\"text/ecmascript\">\n<![CDATA[function raise(e) {\n  if\n(document.documentElement.childNodes.item(document.documentElement.childNodes.length-1)\n!= e) {\n    e.parentNode.removeChild(e);\n    document.documentElement.appendChild(e);\n  }\n}]]>\n</script>\n</defs>\n\n<rect x=\"0.0\" y=\"0.0\" width=\"10.0\" height=\"20.0\" fill=\"blue\" opacity=\"0.9\"\nstroke=\"black\" stroke-width=\"1.0\" onclick=\"raise(evt.target)\">\n  <set attributeName=\"stroke-width\" to=\"5.0\" begin=\"mouseover\" end=\"mouseout\" />\n</rect>\n</svg>", "is_private": false}, {"count": 1, "tags": [], "bug_id": 42075, "attachment_id": null, "id": 108605, "creation_time": "2007-09-25T20:59:33Z", "time": "2007-09-25T20:59:33Z", "creator": "cam@apache.org", "text": "This is now fixed in SVN.", "is_private": false}]