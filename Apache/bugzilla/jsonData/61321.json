[{"count": 0, "tags": [], "bug_id": 61321, "attachment_id": null, "id": 199918, "time": "2017-07-21T08:49:39Z", "creator": "aniketaghodke@gmail.com", "creation_time": "2017-07-21T08:49:39Z", "is_private": false, "text": "Observed with version 3.2 , \nwhen loading HTTP request for a page or home page of application for 5 iterations with cache enabled and embedded resources enabled\n\nfor 1st iteration all resources are requested to server (obviously) ,\nsecond iteration refers few resources from cache returns 304- Not Modified\n3rd iteration requests all resources from server - NOT Referring cache\n4th iteration works like 2nd iteration - refers few resources from cache returns 304- Not Modified\n5th iteration works like 3rd  requests all resources from server - NOT Referring cache\n\nTested for 5 iterations and for couple of application homepages. not sure if its known issue - at least didn't find it reported.\nApologies if duplicate and already being looked in to. Thanks !"}, {"count": 1, "attachment_id": null, "bug_id": 61321, "is_private": false, "id": 199948, "time": "2017-07-22T12:59:39Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-07-22T12:59:39Z", "tags": [], "text": "Are you sure there is no time validity on your resources ?\nCan you provide:\n- JMX Test plan\n- Full View Results Output in XML with all fields for the run of your failing test? \n\nThank you"}, {"count": 2, "tags": [], "text": "Created attachment 35162\nTest Script 3.0", "attachment_id": 35162, "id": 199970, "creator": "aniketaghodke@gmail.com", "time": "2017-07-24T05:36:50Z", "bug_id": 61321, "creation_time": "2017-07-24T05:36:50Z", "is_private": false}, {"count": 3, "tags": [], "text": "Created attachment 35163\nTest script 3.2", "attachment_id": 35163, "id": 199971, "creator": "aniketaghodke@gmail.com", "time": "2017-07-24T05:37:07Z", "bug_id": 61321, "creation_time": "2017-07-24T05:37:07Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 61321, "attachment_id": 35164, "id": 199972, "time": "2017-07-24T05:37:34Z", "creator": "aniketaghodke@gmail.com", "creation_time": "2017-07-24T05:37:34Z", "is_private": false, "text": "Created attachment 35164\nResults 3.0"}, {"count": 5, "tags": [], "creator": "aniketaghodke@gmail.com", "is_private": false, "text": "Created attachment 35165\nResults 3.2", "id": 199973, "time": "2017-07-24T05:37:54Z", "bug_id": 61321, "creation_time": "2017-07-24T05:37:54Z", "attachment_id": 35165}, {"count": 6, "tags": [], "bug_id": 61321, "attachment_id": 35166, "id": 199974, "time": "2017-07-24T05:38:17Z", "creator": "aniketaghodke@gmail.com", "creation_time": "2017-07-24T05:38:17Z", "is_private": false, "text": "Created attachment 35166\nResults Table 3.2"}, {"count": 7, "tags": [], "text": "Created attachment 35167\nResults Table 3.0", "attachment_id": 35167, "id": 199975, "creator": "aniketaghodke@gmail.com", "time": "2017-07-24T05:38:36Z", "bug_id": 61321, "creation_time": "2017-07-24T05:38:36Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 61321, "attachment_id": null, "id": 199976, "time": "2017-07-24T05:39:28Z", "creator": "aniketaghodke@gmail.com", "creation_time": "2017-07-24T05:39:28Z", "is_private": false, "text": "Here are requested details scripts and results file"}, {"count": 9, "tags": [], "bug_id": 61321, "attachment_id": null, "id": 200037, "time": "2017-07-26T04:52:11Z", "creator": "aniketaghodke@gmail.com", "creation_time": "2017-07-26T04:52:11Z", "is_private": false, "text": "(In reply to Philippe Mouawad from comment #1)\n> Are you sure there is no time validity on your resources ?\n> Can you provide:\n> - JMX Test plan\n> - Full View Results Output in XML with all fields for the run of your\n> failing test? \n> \n> Thank you\n\nYOu can refer files with 3.2version attached below, isit valid bug or any mistake from my end ? please advice thanks"}, {"count": 10, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "id": 200045, "creation_time": "2017-07-26T11:25:55Z", "time": "2017-07-26T11:25:55Z", "bug_id": 61321, "text": "Thanks for provided elements , unfortunately as you have checked Generate Parent Sample, I don't have any useful information.\nCan you please uncheck it and provide elements again ?\nEnsure that you select XML format and all fields available for XML.\n\nThanks", "attachment_id": null}, {"count": 11, "tags": [], "text": "Created attachment 35176\nTest case 3.0", "attachment_id": 35176, "id": 200046, "creator": "p.mouawad@ubik-ingenierie.com", "time": "2017-07-26T11:37:23Z", "bug_id": 61321, "creation_time": "2017-07-26T11:37:23Z", "is_private": false}, {"count": 12, "tags": [], "text": "Created attachment 35177\nCache Test 3.2", "attachment_id": 35177, "id": 200047, "creator": "p.mouawad@ubik-ingenierie.com", "time": "2017-07-26T11:37:48Z", "bug_id": 61321, "creation_time": "2017-07-26T11:37:48Z", "is_private": false}, {"count": 13, "tags": [], "bug_id": 61321, "attachment_id": null, "id": 200048, "time": "2017-07-26T11:38:33Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-07-26T11:38:33Z", "is_private": false, "text": "Hello,\nI confirm bug.\nMarking it as blocker for 3.3 release.\n\nRegards"}, {"count": 14, "tags": [], "text": "(In reply to Philippe Mouawad from comment #13)\n> Hello,\n> I confirm bug.\n> Marking it as blocker for 3.3 release.\n> \n> Regards\n\nThanks Philippe !", "attachment_id": null, "id": 200051, "creator": "aniketaghodke@gmail.com", "time": "2017-07-26T12:20:01Z", "bug_id": 61321, "creation_time": "2017-07-26T12:20:01Z", "is_private": false}, {"count": 15, "attachment_id": null, "bug_id": 61321, "is_private": false, "id": 200079, "time": "2017-07-27T18:50:53Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2017-07-27T18:50:53Z", "tags": [], "text": "I believe the cache gets cleared in HTTPSamplerBase:2013 when the sampler gets cloned. This happens when a new AsyncSample is created."}, {"count": 16, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "text": "I (In reply to Felix Schumacher from comment #15)\n> I believe the cache gets cleared in HTTPSamplerBase:2013 when the sampler\n> gets cloned. This happens when a new AsyncSample is created.\n\nI came accross this also but I don't understand why next sample is ok, while the following is not.", "id": 200080, "time": "2017-07-27T18:56:32Z", "bug_id": 61321, "creation_time": "2017-07-27T18:56:32Z", "attachment_id": null}, {"count": 17, "tags": [], "bug_id": 61321, "attachment_id": null, "is_private": false, "id": 200082, "time": "2017-07-27T19:20:30Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2017-07-27T19:20:30Z", "text": "(In reply to Philippe Mouawad from comment #16)\n> I (In reply to Felix Schumacher from comment #15)\n> > I believe the cache gets cleared in HTTPSamplerBase:2013 when the sampler\n> > gets cloned. This happens when a new AsyncSample is created.\n> \n> I came accross this also but I don't understand why next sample is ok, while\n> the following is not.\n\nLooking closer, I see, that a cache is cleared, but that is a new one, which is replaced immediately by the original one."}, {"count": 18, "tags": [], "bug_id": 61321, "attachment_id": null, "id": 200083, "time": "2017-07-27T19:56:43Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2017-07-27T19:56:43Z", "is_private": false, "text": "Ok, another try: When we get an entry out of the cache, the headers are missing the vary-part. Therefore it will update an entry without a vary header, which will \"delete\" the entry with the vary-part. Next lookup in cache will find nothing."}, {"count": 19, "tags": [], "text": "I think I found the issue. Could you please re-test with the next nightly?\n\nDate: Sat Jul 29 13:41:07 2017\nNew Revision: 1803362\n\nURL: http://svn.apache.org/viewvc?rev=1803362&view=rev\nLog:\nDon't store entries in the cache, when they are already present.\n\nBugzilla Id: 61321\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/control/CacheManager.java", "attachment_id": null, "id": 200102, "creator": "felix.schumacher@internetallee.de", "time": "2017-07-29T13:44:54Z", "bug_id": 61321, "creation_time": "2017-07-29T13:44:54Z", "is_private": false}, {"count": 20, "attachment_id": null, "bug_id": 61321, "is_private": false, "id": 200103, "time": "2017-07-29T14:03:27Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-07-29T14:03:27Z", "tags": [], "text": "I tested, it looks ok to me.\nIt works with the attached test plan.\n\nRegards"}, {"count": 21, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "text": "Author: pmouawad\nDate: Thu Aug  3 21:11:20 2017\nNew Revision: 1804046\n\nURL: http://svn.apache.org/viewvc?rev=1804046&view=rev\nLog:\nBug 61321 - HTTP Cache Manager : with cache enabled & Retrieving embedded resources, JMeter fetches resource from server rather than cache at each alternate iteration\nAdd test case\nBugzilla Id: 61321\n\nModified:\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/control/TestCacheManagerBase.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/control/TestCacheManagerHC4.java", "id": 200183, "time": "2017-08-03T21:11:39Z", "bug_id": 61321, "creation_time": "2017-08-03T21:11:39Z", "attachment_id": null}]