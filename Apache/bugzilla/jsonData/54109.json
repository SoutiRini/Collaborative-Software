[{"count": 0, "attachment_id": null, "bug_id": 54109, "text": "Currently JSR223Sampler calls these methods after script has been executed:\nresult.setSuccessful(true);\n            result.setResponseCodeOK();\n            result.setResponseMessageOK();\n            if (ret != null){\n                result.setResponseData(ret.toString(), null);\n            }\n\n\nThis does not allow script to set:\n- Different response code than 200\n- Different message\n- And response data is overriden by ret.toString()\n\nI think this should be changed, JSR223Sampler should call these before calling script and script would be able to change that.\n\nIt could break existing script that set these values to non successful ones and make assertions fails so a jmeter property could be introduced although I am not in favor of this as I think in fact scripts that do that are wrong and it is hidden currently.", "id": 163251, "time": "2012-11-06T22:19:48Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-11-06T22:19:48Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Date: Sun Nov 18 22:29:35 2012\nNew Revision: 1411006\n\nURL: http://svn.apache.org/viewvc?rev=1411006&view=rev\nLog:\nBug 54109 - JSR223TestElement : SampleResult properties should be set before entering script to allow user setting different code\nBugzilla Id: 54109\n\nModified:\n    jmeter/trunk/src/protocol/java/org/apache/jmeter/protocol/java/sampler/JSR223Sampler.java\n    jmeter/trunk/xdocs/changes.xml\n\n\n\nDate: Sun Nov 18 22:34:56 2012\nNew Revision: 1411008\n\nURL: http://svn.apache.org/viewvc?rev=1411008&view=rev\nLog:\nBug 54109 - JSR223TestElement : SampleResult properties should be set before entering script to allow user setting different code\nBugzilla Id: 54109\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/samplers/SampleResult.java", "id": 163512, "time": "2012-11-18T22:37:24Z", "bug_id": 54109, "creation_time": "2012-11-18T22:37:24Z", "is_private": false, "attachment_id": null}]