[{"count": 0, "tags": [], "text": "Our program is called 'SONAR' so I have a sonar.war file with META-INF/context.\nxml. Upon deployment, a _directory_  is created here:\n\n  $CATALINA_HOME/conf/Catalina/localhost/sonar.xml/\n                                         ^^^^^^^^^\n\nIf I remove this directory and replace it with a file of the same name (sonar.\nxml) containing what I have in META-INF/context.xml, everything works happily. \nThat is, if, after deployment, I execute:\n\n  $ rm -r $CATALINA_HOME/conf/Catalina/localhost/sonar.xml\n  $ cp $CATALINA_HOME/webapps/sonar/META-INF/context.xml \n       $CATALINA_HOME/conf/Catalina/localhost/sonar.xml\n\n(And reload the web app using the Manager page.)\n\nThen everything works. Until I do this, I have the following error, seen in \n$CATALINA_HOME/logs/catalina.out:\n\nJul 22, 2004 10:31:46 AM org.apache.catalina.core.StandardHostDeployer remove\nINFO: Removing web application at context path /sonar\nJul 22, 2004 10:31:46 AM org.apache.catalina.core.StandardHostDeployer install\nINFO: Processing Context configuration file URL file:\n/home/greg/jakarta-tomcat-5.0.27/conf/Catalina/localhost/sonar.xml\nJul 22, 2004 10:31:46 AM org.apache.catalina.startup.HostConfig \ndeployDescriptors\nSEVERE: Error deploying configuration descriptor sonar.xml\njava.io.IOException: java.io.FileNotFoundException: /home/greg/jakarta-tomcat-5.\n0.27/conf/Catalina/localhost/sonar.xml (Is a directory)\n        at org.apache.catalina.core.StandardHostDeployer.\ninstall(StandardHostDeployer.java:494)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:863)\n        at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.\njava:482)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:\n427)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1068)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.\njava:327)\n        at org.apache.catalina.util.LifecycleSupport.\nfireLifecycleEvent(LifecycleSupport.java:119)\n        at org.apache.catalina.core.StandardHost.backgroundProcess(StandardHost.\njava:800)\n        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.\nprocessChildren(ContainerBase.java:1619)\n        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.\nprocessChildren(ContainerBase.java:1628)\n        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.\nrun(ContainerBase.java:1608)\n        at java.lang.Thread.run(Thread.java:534)\n\n\nThis is the contents of my context.xml file:\n\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<!-- Context for Pooled connections to SONAR MySQL database -->\n<Context path=\"/sonar\"\n    docBase=\"\"\n    debug=\"5\"\n    reloadable=\"true\">\n\n    <Logger className=\"org.apache.catalina.logger.FileLogger\"\n        prefix=\"localhost_sonar_log.\"\n        suffix=\".txt\"\n        timestamp=\"true\"/>\n\n    <Valve className=\"org.apache.catalina.valves.AccessLogValve\"\n        directory=\"logs\"\n        prefix=\"localhost_sonar_access_log.\"\n        suffix=\".txt\"\n        pattern=\"common\"\n        resolveHosts=\"false\"/>\n\n    <!-- The MySQL database -->\n\n    <Resource name=\"jdbc/sonarDB\"\n        auth=\"Container\"\n        type=\"javax.sql.DataSource\"/>\n\n    <ResourceParams name=\"jdbc/sonarDB\">\n        <parameter>\n                <name>factory</name>\n                <value>org.apache.commons.dbcp.BasicDataSourceFactory</value>\n        </parameter>\n\n        <!-- Maximum number of dB connections in pool. Make sure you\n             configure your mysqld max_connections large enough to handle\n             all of your db connections. Set to 0 for no limit. -->\n        <parameter>\n            <name>maxActive</name>\n            <value>100</value>\n        </parameter>\n\n        <!-- Maximum number of idle dB connections to retain in pool.\n             Set to 0 for no limit. -->\n        <parameter>\n            <name>maxIdle</name>\n            <value>30</value>\n        </parameter>\n\n        <!-- Maximum time to wait for a dB connection to become\n             available in ms, in this example 10 seconds. An\n             Exception is thrown if this timeout is exceeded.\n             Set to -1 to wait indefinitely. -->\n        <parameter>\n            <name>maxWait</name>\n            <value>10000</value>\n        </parameter>\n\n        <!-- MySQL dB username and password for dB connections  -->\n        <parameter>\n            <name>username</name>\n            <value>xxx</value>\n        </parameter>\n        <parameter>\n            <name>password</name>\n            <value>xxx</value>\n        </parameter>\n\n        <!-- Class name for the official MySQL Connector/J driver -->\n        <parameter>\n            <name>driverClassName</name>\n            <value>com.mysql.jdbc.Driver</value>\n        </parameter>\n\n        <!-- The JDBC connection url for connecting to your MySQL dB.\n             The autoReconnect=true argument to the url makes sure that\n             the mm.mysql JDBC Driver will automatically reconnect if\n             mysqld closed the connection.  mysqld by default closes\n             idle connections after 8 hours. -->\n        <parameter>\n            <name>url</name>\n            <value>jdbc:mysql://xxx/sonar?autoReconnect=true</value>\n        </parameter>\n\n        <!-- When available db connections run low DBCP will\n             recover and recyle any abandoned dB connections it\n             finds. -->\n        <parameter>\n            <name>removeAbandoned</name>\n            <value>true</value>\n        </parameter>\n\n        <!-- Use the removeAbandonedTimeout parameter to set the\n             number of seconds a dB connection has been idle\n             before it is considered abandoned. -->\n        <parameter>\n            <name>removeAbandonedTimeout</name>\n            <value>60</value>\n        </parameter>\n\n        <!-- The logAbandoned parameter can be set to true if\n             you want DBCP to log a stack trace of the code\n             which abandoned the dB connection resources. -->\n        <parameter>\n            <name>logAbandoned</name>\n            <value>true</value>\n        </parameter>\n    </ResourceParams>\n</Context>", "is_private": false, "bug_id": 30249, "id": 60948, "time": "2004-07-22T00:49:38Z", "creator": "greg@symbionetworks.com", "creation_time": "2004-07-22T00:49:38Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "kbottner@comcast.net", "attachment_id": null, "id": 61063, "time": "2004-07-23T15:36:00Z", "bug_id": 30249, "creation_time": "2004-07-23T15:36:00Z", "is_private": false, "text": "This bug appears on Windows XP Pro, as well."}, {"count": 2, "tags": [], "text": "Hey,\n\nsee my bug fix at:\nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=29688\n\nregards\nPeter", "is_private": false, "bug_id": 30249, "id": 61093, "time": "2004-07-25T05:16:22Z", "creator": "pr@objektpark.de", "creation_time": "2004-07-25T05:16:22Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 30249, "attachment_id": null, "id": 61253, "time": "2004-07-28T16:08:15Z", "creator": "yoavs@computer.org", "creation_time": "2004-07-28T16:08:15Z", "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of 29688 ***"}]