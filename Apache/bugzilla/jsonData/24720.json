[{"count": 0, "tags": [], "bug_id": 24720, "text": "If <antcall/> is invoked many times in the same JVM, the JVM may throw an \nOutOfMemeory exception.\n\nProblem can be easily reproduced by the following simple build file:\n<project name=\"mybuild\" default=\"run\" >\n\n    <target name=\"echo\" >\n         <echo message=\"Hello,world\" />\n    </target>\n\n   <target name=\"run\">\n        <antcall target=\"echo\" />\n        <antcall target=\"echo\" />\n        <!-- repeat 1000 times -->\n   </target>\n\n</project>\n\n\nErrors reported :\necho:\n     [echo] Hello, world\n  [antcall] calling target echo in build \nfile /private/fip/viewwork/fip_j2ee6/tklocal/build1.xml\n\n[ ... repeated many times ...]\necho:\n     [echo] Hello, world\n  [antcall] calling target echo in build \nfile /private/fip/viewwork/fip_j2ee6/tklocal/build1.xml\n\nBUILD FAILED\njava.lang.OutOfMemoryError\n\nTotal time: 1 minute 31 seconds\njava.lang.OutOfMemoryError", "id": 47376, "time": "2003-11-14T23:13:56Z", "creator": "francisip@yahoo.com", "creation_time": "2003-11-14T23:13:56Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "mbenson@apache.org", "text": "This is a known limitation of <antcall>, the reason being that it creates a new \nproject for each invocation.  The first workaround, historically, would be to \nuse the -X options to your JVM to increase available memory.  In Ant 1.6,  \n<macrodef> and <presetdef> address some of the requirements that might lead one \nto use <antcall> in the first place.  Also see Dale Anson's Antelope project at \nsourceforge.net for some <antcall> variants.\n\nMost likely this bug is a duplicate of some other, as well.", "id": 47377, "time": "2003-11-14T23:22:13Z", "bug_id": 24720, "creation_time": "2003-11-14T23:22:13Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "stevel@apache.org", "attachment_id": null, "is_private": false, "id": 47379, "time": "2003-11-14T23:45:25Z", "bug_id": 24720, "creation_time": "2003-11-14T23:45:25Z", "text": "There were actually some memory leaks to do with ant+antcall and exec that were\nfixed in later versions; try Ant1.5.4 or 1.6 beta to see if this makes your\nexisting build file better. The new ant1.6 features will be faster."}]