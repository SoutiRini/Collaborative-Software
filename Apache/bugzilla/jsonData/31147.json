[{"count": 0, "tags": [], "text": "hi all,\nI have a org.w3c.dom.Node variable and I'm trying to use the JSTL with it.\nSomething like:\n\n<x:out select=\"$node/@name\"/>\n\nThe odd thing is that the XPath expression is evaluated relative to the document\nroot, not to the specified node. The following works:\n\n<x:out select=\"$node/full/path/to/node/@name\"/>\n\nI'm filing this bug after a discussion on the taglibs-user mailing list:\nhttp://www.mail-archive.com/taglibs-user@jakarta.apache.org/msg07667.html\n\nA solution proposal is in this message:\nhttp://www.mail-archive.com/taglibs-user@jakarta.apache.org/msg07682.html\n\nregards,\nflavio", "is_private": false, "id": 63301, "creator": "flaviotordini@tiscali.it", "time": "2004-09-09T16:18:31Z", "bug_id": 31147, "creation_time": "2004-09-09T16:18:31Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 31147, "attachment_id": null, "id": 63305, "time": "2004-09-09T17:35:20Z", "creator": "kschneider@gmail.com", "creation_time": "2004-09-09T17:35:20Z", "is_private": false, "text": "I've got what appears to be a working fix, but I'll want to post a patch for\nreview as opposed to blindly committing it. I'm just not that familiar with the\nnuances of XPathUtil. Patch to follow, hopefully tonight."}, {"count": 2, "tags": [], "bug_id": 31147, "text": "Created attachment 12691\nPatch for XPathUtil.java", "id": 63327, "time": "2004-09-10T02:49:48Z", "creator": "kschneider@gmail.com", "creation_time": "2004-09-10T02:49:48Z", "is_private": false, "attachment_id": 12691}, {"count": 3, "tags": [], "text": "Maybe there is another (faster) way to achieve the same result. instead of\ncreating a new Document and prepend \"/*\" to the original XPath, we may simply\nremove the starting slash from the XPath.\n\nxpath = xpath.substring( xpath.indexOf(\"/\"));\n(XPathUtils 648)\n\nwould become:\nxpath = xpath.substring( xpath.indexOf(\"/\") + 1);\n\nThen evaluate the XPath with the original Node as its context.\nI don't know if this may have side-effects, but I think this is the way to go.\nWhat do you think?\n\nflavio\n", "is_private": false, "id": 63333, "creator": "flaviotordini@tiscali.it", "time": "2004-09-10T09:00:37Z", "bug_id": 31147, "creation_time": "2004-09-10T09:00:37Z", "attachment_id": null}, {"count": 4, "tags": [], "text": "I tested Flavio's fix and found that it did not work in all cases. Tested and verified Kris Schneider's fix \nand committed it to the JSTL 1.1.x workspace.", "attachment_id": null, "bug_id": 31147, "id": 63623, "time": "2004-09-15T20:26:22Z", "creator": "justyna.horwat@sun.com", "creation_time": "2004-09-15T20:26:22Z", "is_private": false}]