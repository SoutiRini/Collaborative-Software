[{"count": 0, "tags": [], "creator": "alan.christopher.jenkins@gmail.com", "text": "httpd.apache.org/docs/2.4/rewrite/remapping.html#fallback-resource\n\n\"If, on the other hand, you wish to pass the requested URI as a query string argument to index.php, you can replace that RewriteRule with:\n\nRewriteRule (.*) index.php?$1 [PT,QSA]\"\n\nshould be:\n\nRewriteRule (.*) index.php?${encode:$1} [PT,QSA]\n\nsince RewriteRule matches against the *decoded* url path  (http://httpd.apache.org/docs/2.4/mod/mod_rewrite.html#rewriterule).\n\n\nThat's the context I encountered the bug in.  I think it applies to most of the other remapping examples that use $1.\n\nhttp://httpd.apache.org/docs/2.4/rewrite/remapping.html#backward-compatibility\nhttp://httpd.apache.org/docs/2.4/rewrite/remapping.html#canonicalhost\nhttp://httpd.apache.org/docs/2.4/rewrite/remapping.html#archive-access-multiplexer\nhttp://httpd.apache.org/docs/2.4/rewrite/remapping.html#canonicalurl\n\nNote that that this doesn't apply to rewrite rules which map to full filesystem paths - i.e.\n\nhttp://httpd.apache.org/docs/2.4/rewrite/remapping.html#multipledirs>\n\n.\n\nNo idea what you're supposed to do with substitutions in Redirect directives; it's not documented as supporting the ${encode:$1} syntax.  Alias is fine though (same reason as above).", "id": 158843, "time": "2012-05-05T10:03:03Z", "bug_id": 53196, "creation_time": "2012-05-05T10:03:03Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "alan.christopher.jenkins@gmail.com", "text": "Ah, I see my solution was missing a\n\n  RewriteMap encode int:escape\n\nwhich means this wasn't as friendly as I thought: you can't use it in .htaccess.", "id": 158844, "time": "2012-05-05T10:33:06Z", "bug_id": 53196, "creation_time": "2012-05-05T10:33:06Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "alan.christopher.jenkins@gmail.com", "text": "It looks like a much better solution would be to use the flag [B], to \"escape non-alphanumerics before applying the transformation\".  So this can be fixed nicely.\n\nCredit goes to <http://www.dracos.co.uk/code/apache-rewrite-problem/>.", "id": 158845, "time": "2012-05-05T10:42:10Z", "bug_id": 53196, "creation_time": "2012-05-05T10:42:10Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 53196, "attachment_id": null, "is_private": false, "id": 158846, "time": "2012-05-05T10:51:41Z", "creator": "alan.christopher.jenkins@gmail.com", "creation_time": "2012-05-05T10:51:41Z", "text": "...fixed nicely, that is, for the specific front-controller pattern in the description.  For everything else, it breaks, because '/' is non-alphanumeric and apache refuses to handle %2F as a path separator.  (Is that even legal?)"}, {"count": 4, "tags": [], "bug_id": 53196, "text": "I don't think the examples should be complicated with encoding the capture copied into the path or query string.  There's ample coverage of the options in the reference manual.", "id": 158847, "attachment_id": null, "creator": "covener@gmail.com", "creation_time": "2012-05-05T11:47:24Z", "time": "2012-05-05T11:47:24Z", "is_private": false}]