[{"count": 0, "tags": [], "bug_id": 38982, "text": "As discussed in log4j-dev message \"Contribution of non-blocking socket appender\"\non 2006-01-11 (http://marc.theaimsgroup.com/?t=113700495300004&r=1&w=2), it\nwould be desirable to configure AsyncAppender so that logging requests made when\nthe buffer is full do not cause the requesting thread to block.\n\nThis feature is included in a resubstantial rewriting of AsyncAppender that will\nfollow which hopefully addresses the large number of deadlock reports with the\ncurrent AsyncAppender.\n\nA new configuration \"blocking\" with a default value of true is added.  If set to\nfalse, log requests received while the buffer is blocked will be used to update\na Map that is used to maintain the highest severity and count of messages for\neach encountered logger.  After the messages in the buffer are output, the map\nwill be used to generate messages like:\n\norg.example.foobar ERROR Discarded 15 messages due to full event buffer\nincluding: Message from first ERROR on org.example.foobar", "id": 86864, "time": "2006-03-15T15:55:29Z", "creator": "carnold@apache.org", "creation_time": "2006-03-15T15:55:29Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "Committed rework of AsyncAppender in rev 386266.", "is_private": false, "id": 86891, "creator": "carnold@apache.org", "time": "2006-03-16T05:34:48Z", "bug_id": 38982, "creation_time": "2006-03-16T05:34:48Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 38982, "text": "Created attachment 17910\nPatches to log4j 1.3 AsyncAppender to use with log4j 1.2\n\nTo modify a log4j 1.2 build to use the initial reworked appender.\n\ncd src/java/org/apache/log4j\nsvn cat\nhttp://svn.apache.org/repos/asf/logging/log4j/trunk/src/java/org/apache/log4j/AsyncAppender.java\n> AsyncAppender.java\npatch -p 5 -i AsyncAppender.patch\n\nand build as normal.", "id": 86892, "time": "2006-03-16T06:04:12Z", "creator": "carnold@apache.org", "creation_time": "2006-03-16T06:04:12Z", "is_private": false, "attachment_id": 17910}, {"count": 3, "tags": [], "bug_id": 38982, "attachment_id": null, "id": 89304, "time": "2006-05-19T20:02:24Z", "creator": "carnold@apache.org", "creation_time": "2006-05-19T20:02:24Z", "is_private": false, "text": "Committed new AsyncAppender to log4j 1.2 branch in rev 407896."}]