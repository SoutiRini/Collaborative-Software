[{"count": 0, "tags": [], "creator": "bugreport@lamp-solutions.de", "attachment_id": null, "id": 185820, "time": "2015-10-21T11:58:51Z", "bug_id": 58512, "creation_time": "2015-10-21T11:58:51Z", "is_private": false, "text": "Following settings are applied in the VHost.conf:\n \n        ProxyRequests Off\n        ProxyVia Off\n        ProxyPreserveHost On\n\n        <Proxy *>\n          Order deny,allow\n          Allow from all\n        </Proxy>\n\n        <Proxy balancer://mycluster>\n            BalancerMember http://192.168.11.31 loadfactor=8 retry=10\n            BalancerMember http://192.168.11.32 loadfactor=7 retry=10\n            BalancerMember http://192.168.11.33 loadfactor=10 retry=10\n            BalancerMember http://192.168.11.34 loadfactor=5 retry=10\n            BalancerMember http://192.168.11.35 loadfactor=10 retry=10\n            BalancerMember http://192.168.11.36 loadfactor=8 retry=10\n        </Proxy>\n\n        ProxyPass /balancer-manager !\n        ProxyPass / balancer://mycluster/\n\nThis settings worked very well with apache2.2 for about 5 years. And were migrated to apache 2.4.7 on Ubuntu 14.04 LTS.\n\nIt's all fine, but sometimes it happens that some admins exclude some balancer-members or change the loadfactor according the needings at the moment.\n\nProblem:\n\nWhen reloading the apache-service, e.g. through \"logrotate\" or simply an adaption in the configuration, the settings defined in the balancer-manager are going lost.\nA similar issue had been reported in \"44736\" for apache2.2 and had been resolved."}, {"count": 1, "tags": [], "text": "You should use \"BalancerPersist on\" ([1]).\nThere were many improvements on mod_proxy_balancer in 2.4, one of those is dynamic configuration via the balancer-manager, which does not persist by default.\n\n[1] https://httpd.apache.org/docs/2.4/mod/mod_proxy.html#balancerpersist", "attachment_id": null, "id": 185821, "creator": "ylavic.dev@gmail.com", "time": "2015-10-21T12:24:00Z", "bug_id": 58512, "creation_time": "2015-10-21T12:24:00Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 58512, "attachment_id": null, "id": 185822, "time": "2015-10-21T12:42:27Z", "creator": "bugreport@lamp-solutions.de", "creation_time": "2015-10-21T12:42:27Z", "is_private": false, "text": "Hi Yann,\n\nthank you! Works as expected.\n\nI had the 2.2 bug in mind so I was confused."}]