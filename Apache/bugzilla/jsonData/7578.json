[{"count": 0, "tags": [], "bug_id": 7578, "attachment_id": null, "text": "This stops me from doing funky things with policies and perfoming some\nintegrity checks...\n\nSteps to reproduce:\n 1. Sign a jar\n 2. Put it in /WEB-INF/lib of some webapp\n 3. Grant permission java.lang.RuntimePermission \"getProtectionDomain\" to\n    everyone in 'catalina.policy'.\n 4. Execute the following in a servlet, JSP, etc:\n\n      java.security.cert.Certificate[] jarSigners = \n          ClassInJar.class.getProtectionDomain().getCodeSource().getCertificates\n();\n      if ( jarSigners == null )\n          System.out.println( \"Houston, we've got a problem...\" );\n      else\n          System.out.println( \"All's well...\" );\n\nAn interesting workaround is that if you move the jar to /common/lib, you get \nan \"all's well\" message. I can work with this for the moment, but I'd prefer my \nwebapps to be self-contained...\n\n(This also happens in TC4.0)", "id": 12459, "time": "2002-03-28T14:41:56Z", "creator": "ranger@noonetics.com", "creation_time": "2002-03-28T14:41:56Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 7578, "attachment_id": null, "text": "This has been fixed in 4.1.3.", "id": 17248, "time": "2002-06-06T00:41:32Z", "creator": "remm@apache.org", "creation_time": "2002-06-06T00:41:32Z", "is_private": false}]