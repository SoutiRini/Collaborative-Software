[{"count": 0, "tags": [], "bug_id": 39063, "attachment_id": null, "text": "I am running Ant 1.6.5 build on June 2/2005, and am using the Eclipse Ant plugin\nof the same version. I am using JDK 1.5.0_04.\n\nIn a target, I call another target (in my case, a macro) which includes: <java\nclassname=\"...\" fork=\"true\">, then I try to do something like this after calling\nthe target/macro:\n\n------------EX-------\n<condition property=\"condition.result\" \n           value=\"found.server\" \n           else=\"failed.to.find.server\">\n\t<http url=\"http://www.google.com\"/>\n</condition>\n<echo>${condition.result}</echo>\n------------END EX-------\n\nThe process hangs on the 'http' condition when executed from the Ant Eclipse\nplugin. (But works fine when executed from command line.)\n\nIf I change the fork to false, everything works fine. Also, if I remove the http\ncondition, and replace it with another condition, such as: \"<isset\nproperty=\"basedir\"/> then everything works fine (process does not hang.)\n\nThe same hanging occurs outside of the Eclipse plugin in at least one case. That\ncase is when the process is run from CruiseControl:\n- version 2.3.1\n- Windows 2000\n- JDK 1.5.0_04\n- Multi-threaded to allow at most 4 simultaneous builds", "id": 87112, "time": "2006-03-22T18:40:08Z", "creator": "mathew.delong@embarcadero.com", "creation_time": "2006-03-22T18:40:08Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 39063, "attachment_id": null, "text": "We have similar bug reports in the Eclipse space:\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=132871\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=104634\n\nunfortunately I have been unable to reproduce the problems.\n\nCan anyone provide insight on what I could look into to further diagnose/address\nthis issue?", "id": 87939, "time": "2006-04-13T18:33:23Z", "creator": "Darin_Swanson@us.ibm.com", "creation_time": "2006-04-13T18:33:23Z", "is_private": false}, {"count": 2, "tags": [], "creator": "stevel@apache.org", "attachment_id": null, "id": 87979, "time": "2006-04-13T20:04:30Z", "bug_id": 39063, "creation_time": "2006-04-13T20:04:30Z", "is_private": false, "text": "This is interesting. Most of the eclipse bugs seem related to network calls (ip\naddress lookup) causing a hang, which implies a deadlock on some synchronized\nbit fo code."}, {"count": 3, "attachment_id": null, "creator": "mbenson@apache.org", "text": "I had thought it was a fairly insignificant one, but there was a synchro \nproblem detailed at bug 37767.  Since it was for the I/O redirector, it could \nbe related... anybody game to try these with a build of HEAD?", "id": 88016, "time": "2006-04-13T21:56:21Z", "bug_id": 39063, "creation_time": "2006-04-13T21:56:21Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 39063, "attachment_id": null, "text": "Thanks. I will ping in the Eclipse bugs to see if someone will attempt to \nreproduce with the HEAD Ant (as I cannot reproduce the problem).", "id": 88018, "time": "2006-04-13T21:59:44Z", "creator": "Darin_Swanson@us.ibm.com", "creation_time": "2006-04-13T21:59:44Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 39063, "attachment_id": null, "text": "Are the Ant nightly builds coming back any time soon? \nWe are having trouble building ant...are there instructions anywhere we could\nfollow? Thanks.", "id": 88367, "time": "2006-04-21T23:09:34Z", "creator": "Darin_Swanson@us.ibm.com", "creation_time": "2006-04-21T23:09:34Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 39063, "attachment_id": null, "text": "Hello Darin,\n\nto build ant, you need to collect the external jars first (assuming you want to\nbuild the optional tasks). These jars are to be placed under lib/optional.\nSome of the external jars need to be \"epurated\" to be suitable for the build.\nweblogic.jar and antlr.jar tend to come with stuff that you do not want, such as\nan old version of ant, XML parsers, ...\n\n\nRemove the bootstrap directory (if present) before building.\n\nAfterwards, you simply need to run 'build.sh' or 'build.bat' depending upon your\nplatform.\n\nMy typical incantation is :\n\nrm -rf bootstrap; rm $ANT_HOME/lib/ant-*.jar; ./build.sh\n-Dtest.haltonfailure=false install-lite test\n\nHope this helps.\n\nIf this is not good enough, send emails to the ant dev list.\n\nRegards,\n\nAntoine\n\n", "id": 88372, "time": "2006-04-22T01:44:08Z", "creator": "antoine@apache.org", "creation_time": "2006-04-22T01:44:08Z", "is_private": false}, {"count": 7, "tags": [], "creator": "dtbaines@xactware.com", "text": "I can't build it on Windows because it doesn't like the 'space' in the path to\nmy tools jars. \n\n\n\n...\ndist-lite:\nCreated dir: C:\\Apache\\antHead\\ant\\bootstrap\nCreated dir: C:\\Apache\\antHead\\ant\\bootstrap\\bin\nCreated dir: C:\\Apache\\antHead\\ant\\bootstrap\\lib\nCopying 11 files to C:\\Apache\\antHead\\ant\\bootstrap\\lib\nCopying 2 files to C:\\Apache\\antHead\\ant\\bootstrap\\lib\nCopying 13 files to C:\\Apache\\antHead\\ant\\bootstrap\\bin\n\nBUILD SUCCESSFUL\nTotal time: 30 seconds\n\n... Cleaning Up Build Directories\n\n... Done Bootstrapping Ant Distribution\njava.lang.IllegalArgumentException\n        at java.net.URI.create(URI.java:842)\n        at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.apache.tools.ant.launch.Locator.fromURI(Locator.java:160)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:268)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:99)\nCaused by: java.net.URISyntaxException: Illegal character in path at index 16:\nfile:/C:/Program Files/Java/jdk1.5.0_06/lib/tools.jar\n        at java.net.URI$Parser.fail(URI.java:2809)\n        at java.net.URI$Parser.checkChars(URI.java:2982)\n        at java.net.URI$Parser.parseHierarchical(URI.java:3066)\n        at java.net.URI$Parser.parse(URI.java:3014)\n        at java.net.URI.<init>(URI.java:578)\n        at java.net.URI.create(URI.java:840)\n        ... 6 more\n\nIs there any way around this? For one thing, my tools.jar is in C:\\Program\nFiles\\Java\\jdk1.5.0_06\\lib\\tools.jar and not where it is looking for it.", "id": 88448, "time": "2006-04-24T16:51:44Z", "bug_id": 39063, "creation_time": "2006-04-24T16:51:44Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "creator": "mbenson@apache.org", "text": "Try up-to-the-minute HEAD code.", "id": 88449, "time": "2006-04-24T17:00:56Z", "bug_id": 39063, "creation_time": "2006-04-24T17:00:56Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 39063, "attachment_id": null, "text": "It works now for me with the HEAD build, so that probably was the issue.\n\nThanks for all your help.", "id": 88450, "time": "2006-04-24T17:55:07Z", "creator": "dtbaines@xactware.com", "creation_time": "2006-04-24T17:55:07Z", "is_private": false}, {"count": 10, "tags": [], "creator": "jkf@apache.org", "text": "*** Bug 39066 has been marked as a duplicate of this bug. ***", "id": 88526, "time": "2006-04-26T21:31:13Z", "bug_id": 39063, "creation_time": "2006-04-26T21:31:13Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "creator": "mqm@magma.ca", "attachment_id": null, "id": 92423, "time": "2006-08-22T18:47:19Z", "bug_id": 39063, "creation_time": "2006-08-22T18:47:19Z", "is_private": false, "text": "I have this exact same problem (the ant build hangs in an http condition) but\noutside Eclipse. In my case it is running under Anthill 1.8.1.303 inside Tomcat\n5.5.17.\n\nIf I build from the cmd-line, it just works. If I build from Eclipse, it just\nworks. But from Anthill, it hangs."}, {"count": 12, "attachment_id": null, "creator": "mqm@magma.ca", "text": "I just tried the socket condition instead of the http condition and got the same\nproblem.", "id": 92424, "time": "2006-08-22T18:50:08Z", "bug_id": 39063, "creation_time": "2006-08-22T18:50:08Z", "tags": [], "is_private": false}, {"count": 13, "tags": [], "bug_id": 39063, "attachment_id": null, "text": "On Ant 1.6.2 it does not hang for me under Anthill.", "id": 92436, "time": "2006-08-22T23:12:12Z", "creator": "mqm@magma.ca", "creation_time": "2006-08-22T23:12:12Z", "is_private": false}, {"count": 14, "tags": [], "bug_id": 39063, "attachment_id": 20791, "text": "Created attachment 20791\nTest case that shows the bug\n\nI'm attaching a test case I used to replicate the bug (no Eclipse involved).\nEdit \"ant.apache.org\" to some URL that will work for you if you have firewall\nor proxy problems.\n\nThis was on an older Windows 2000 system, with Ant 1.7.0. The same version \nof Ant with the same build file does *not* fail on other machines.", "id": 108038, "time": "2007-09-11T11:55:44Z", "creator": "robert.clark@quest.com", "creation_time": "2007-09-11T11:55:44Z", "is_private": false}, {"count": 15, "tags": [], "creator": "bodewig@apache.org", "text": "If I'm reading this correctly the problem in Eclipse has been solved with the fix for bug 37767 and this should be fixed by Ant 1.7.0.\n\nThe non-Eclipse example works for me with ant 1.7.1.\n\nI'll set this to fixed, please reopen if I'm wrong.", "id": 120021, "time": "2008-08-22T04:49:01Z", "bug_id": 39063, "creation_time": "2008-08-22T04:49:01Z", "is_private": false, "attachment_id": null}]