[{"count": 0, "attachment_id": null, "bug_id": 41849, "is_private": false, "id": 100433, "time": "2007-03-15T07:21:11Z", "creator": "robin.pelgrim@keyprocessor.com", "creation_time": "2007-03-15T07:21:11Z", "tags": [], "text": "Going to a page, let say main.html, the first time everything is fine:\n\nlogin.html (login and push OK button)\n\nand then correctly goin to main.html:\n\nThen quit the browser and then going to main.html; it goes wrong:\n\nlogin.html (login and push OK button)\n\nand then for IE: blank page\n         for FireFox: nothing happens (login page is still there)\n\nthis behaviour is repeating...\n\nsummary http workflow (Internet Explorer):\nFirst time (the one that works fine):\nrequest: GET main.html HTTP/1.1\nresponse: HTTP/1.1 304 Not modified\n\n          [for some reason the unmodified source is that of login.html]\n\nrequest:  POST /j_security_check HTTP/1.1\nresponse: HTTP/1.1 302 Moved Temporarily\n          etc.\n\nrequest:  GET main.html HTTP/1.1\n          Cache-control: no-cache\nresponse: HTTP/1.1 200 OK\n\n          [html for main.html]\n\nSecond time (the one that doesnt work):\n\nrequest: GET main.html HTTP/1.1\nresponse: HTTP/1.1 200 OK\n          Set-Cookie: .....\n          ETAG: ...\n          Last-Modified: ..etc.\n\n          [html for login.html]\n\nrequest:  POST /j_security_check HTTP/1.1\nresponse: HTTP/1.1 302 Moved Temporarily\n          etc.\n\nrequest:  GET main.html HTTP/1.1\n          Cache-control: no-cache\nresponse: HTTP/1.1 304 Not Modified\n          [this is strange, how can the response be not modified when no Last-\nModified information is send with the request?????]"}, {"count": 1, "tags": [], "bug_id": 41849, "attachment_id": null, "id": 100771, "time": "2007-03-21T19:33:32Z", "creator": "markt@apache.org", "creation_time": "2007-03-21T19:33:32Z", "is_private": false, "text": "Form authentication works as expected for me. Please provide a simple test WAR\nthat demonstrates this issue."}, {"count": 2, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "id": 100937, "time": "2007-03-25T15:51:32Z", "bug_id": 41849, "creation_time": "2007-03-25T15:51:32Z", "is_private": false, "text": "Also works for me on 6.0.10."}, {"count": 3, "tags": [], "bug_id": 41849, "attachment_id": 19811, "id": 101024, "time": "2007-03-27T03:10:11Z", "creator": "robin.pelgrim@keyprocessor.com", "creation_time": "2007-03-27T03:10:11Z", "is_private": false, "text": "Created attachment 19811\nWhite page test case\n\nSimple test case (Eclipse project) (the TomcatAthenticator class should be\nplaced in CATALINA_HOME/server/classes/whitepage)."}, {"count": 4, "tags": [], "bug_id": 41849, "is_private": false, "id": 101025, "attachment_id": 19812, "creator": "robin.pelgrim@keyprocessor.com", "creation_time": "2007-03-27T03:32:01Z", "time": "2007-03-27T03:32:01Z", "text": "Created attachment 19812\nserver.xml\n\nserver.xml used for previous test case"}, {"count": 5, "tags": [], "text": "I can reproduce the behavior with the standard jsp-examples (security/protected).\n\njust add\n\n\n <Valve className=\"org.apache.catalina.authenticator.FormAuthenticator\"\n\t\t\t\t\tdisableProxyCaching=\"false\" />\n\nfor this context.\n\nMake a test page (say test.html)\n\nlogin.\nquit the browser\nlogin again.\nthan a blank page appears :(\n\n\nIt is disableProxyCaching=\"false\" that causes the problem!\n\n(Tested on 5.5.23)", "attachment_id": null, "id": 120161, "creator": "robin.pelgrim@keyprocessor.com", "time": "2008-08-28T00:01:29Z", "bug_id": 41849, "creation_time": "2008-08-28T00:01:29Z", "is_private": false}, {"count": 6, "tags": [], "creator": "robin.pelgrim@keyprocessor.com", "attachment_id": null, "id": 121074, "time": "2008-09-30T01:30:22Z", "bug_id": 41849, "creation_time": "2008-09-30T01:30:22Z", "is_private": false, "text": "Can somebody confirm this bug, or look at this."}, {"count": 7, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 129061, "time": "2009-07-22T23:50:43Z", "bug_id": 41849, "creation_time": "2009-07-22T23:50:43Z", "is_private": false, "text": "Given the way that FORM authentication works, if you allow the secured page to be cached (which is what you are doing when you set disableProxyCaching=\"false\") then the results you see are expected.\n\nDepending on what you are trying to do by setting disableProxyCaching=\"false\", you might have more luck with securePagesWithPragma=\"false\".\n\nIf you need further assistance, please ask on the users list."}]