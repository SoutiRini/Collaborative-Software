[{"count": 0, "tags": [], "bug_id": 54450, "attachment_id": null, "text": "Hi,\n\nI have a servlet with:\n- annotated properties\n- and injection-target declarations in web.xml\n\nWhen I try to request this servlet I receive:\n\n\njavax.naming.NameNotFoundException: Name [envEntry1] is not bound in this Context. Unable to find [envEntry1].\n\tat org.apache.naming.NamingContext.lookup(NamingContext.java:820)\n\tat org.apache.naming.NamingContext.lookup(NamingContext.java:154)\n\tat org.apache.naming.NamingContext.lookup(NamingContext.java:831)\n\tat org.apache.naming.NamingContext.lookup(NamingContext.java:168)\n\tat org.apache.catalina.core.DefaultInstanceManager.lookupMethodResource(DefaultInstanceManager.java:622)\n\tat org.apache.catalina.core.DefaultInstanceManager.processAnnotations(DefaultInstanceManager.java:466)\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:157)\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:138)\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1137)\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:858)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n\tat java.lang.Thread.run(Thread.java:680)\n\n\nThe problem is that when the application uses 'injection-target' declarations in \n\norg.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(Class<?>, Map<String, String>)\n\nonly the first setter method is evaluated and the rest are skipped.\n\n\nI would like to propose a patch and test case.\n\nI'm looking forward to your comments.\n\nRegards\nVioleta", "id": 164737, "time": "2013-01-18T18:18:08Z", "creator": "violetagg@apache.org", "creation_time": "2013-01-18T18:18:08Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 54450, "attachment_id": 29867, "text": "Created attachment 29867\npatch proposal + test\n\nThe test case extends the test case from https://issues.apache.org/bugzilla/show_bug.cgi?id=54448", "id": 164738, "time": "2013-01-18T18:20:26Z", "creator": "violetagg@apache.org", "creation_time": "2013-01-18T18:20:26Z", "is_private": false}, {"count": 2, "tags": [], "creator": "markt@apache.org", "text": "Thanks once again for the report, test case and patch. The patch has been applied to trunk and 7.0.x and will be included in 7.0.36 onwards.", "id": 164822, "time": "2013-01-23T11:03:16Z", "bug_id": 54450, "creation_time": "2013-01-23T11:03:16Z", "is_private": false, "attachment_id": null}]