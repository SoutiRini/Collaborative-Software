[{"count": 0, "tags": [], "bug_id": 51583, "attachment_id": null, "text": "As discussed with Filip via mail: (just to do report it officially):\n\nI've encountered an issue on closing the pool:\nClosing a ConnectionPool will always take at least one second if more than zero connections have been acquired.\nPlease have a look at ConnectionPool.java:367 :\n\n                    con = pool.poll(1000, TimeUnit.MILLISECONDS);\n\nImagine that we've previously fetched the last connection out of the queue.\nIn this case the that command will cause that we've to wait 1000ms (to return null).\n\nThe solution would be easy - just check prior to polling if the pool queue is empty.\n\nThe 1 second wait time is really annoying because I am creating and destroying the pool for each junit test which causes that each test will take more than 2 seconds (I am using two pools per test).", "id": 148271, "time": "2011-07-29T08:10:00Z", "creator": "patric@rufflar.com", "creation_time": "2011-07-29T08:10:00Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 51583, "text": "Fixed in r1157874", "id": 148612, "time": "2011-08-15T15:19:48Z", "creator": "fhanik@apache.org", "creation_time": "2011-08-15T15:19:48Z", "is_private": false, "attachment_id": null}]