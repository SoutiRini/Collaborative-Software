[{"count": 0, "text": "<checksum algorithm=\"SHA\" file=\"${build.lib}/app.jar\" todir=\"${build.dest}\"/>\nthrows\n/home/app/build.xml: java.lang.NullPointerException\nIf i remove todir=\"${build.dest}\" parameter, everything compiles.\nI'm using Ant 1.6.5 on Sun JDK 1.5.0_05.\n\nThe build.xml and the trace is attached.\n\n[app@miracle src]$ ant -v\nApache Ant version 1.6.5 compiled on June 2 2005\nBuildfile: build.xml\nDetected Java version: 1.5 in: /usr/local/java/jdk1.5.0_05/jre\nDetected OS: Linux\nparsing buildfile /home/app/src/build.xml with URI = file:///home/app/src/build.xml\nProject base dir set to: /home/app/src\nBuild sequence for target(s) `all' is [compile, checksum, all]\nComplete build sequence is [compile, checksum, all, ]\n\ncompile:\n    [javac] helloworld.java added as helloworld.class doesn't exist.\n    [javac] Compiling 1 source file\n    [javac] Using modern compiler\n    [javac] Compilation arguments:\n    [javac] '-classpath'\n    [javac]\n'/usr/local/apache-ant-1.6.5/lib/ant-launcher.jar:/usr/local/apache-ant-1.6.5/lib/ant-xalan1.jar:/usr/local/apache-ant-1.6.5/lib/ant-apache-resolver.jar:/usr/local/apache-ant-1.6.5/lib/xercesImpl.jar:/usr/local/apache-ant-1.6.5/lib/ant-junit.jar:/usr/local/apache-ant-1.6.5/lib/ant-icontract.jar:/usr/local/apache-ant-1.6.5/lib/ant-netrexx.jar:/usr/local/apache-ant-1.6.5/lib/ant-xslp.jar:/usr/local/apache-ant-1.6.5/lib/ant-commons-net.jar:/usr/local/apache-ant-1.6.5/lib/ant-nodeps.jar:/usr/local/apache-ant-1.6.5/lib/ant-jsch.jar:/usr/local/apache-ant-1.6.5/lib/ant-apache-log4j.jar:/usr/local/apache-ant-1.6.5/lib/xml-apis.jar:/usr/local/apache-ant-1.6.5/lib/ant-vaj.jar:/usr/local/apache-ant-1.6.5/lib/ant-weblogic.jar:/usr/local/apache-ant-1.6.5/lib/ant-starteam.jar:/usr/local/apache-ant-1.6.5/lib/ant-swing.jar:/usr/local/apache-ant-1.6.5/lib/ant-jdepend.jar:/usr/local/apache-ant-1.6.5/lib/ant.jar:/usr/local/apache-ant-1.6.5/lib/ant-commons-logging.jar:/usr/local/apache-ant-1.6.5/lib/ant-trax.jar:/usr/local/apache-ant-1.6.5/lib/ant-stylebook.jar:/usr/local/apache-ant-1.6.5/lib/ant-jai.jar:/usr/local/apache-ant-1.6.5/lib/ant-apache-bcel.jar:/usr/local/apache-ant-1.6.5/lib/ant-javamail.jar:/usr/local/apache-ant-1.6.5/lib/ant-apache-bsf.jar:/usr/local/apache-ant-1.6.5/lib/ant-apache-regexp.jar:/usr/local/apache-ant-1.6.5/lib/ant-apache-oro.jar:/usr/local/apache-ant-1.6.5/lib/ant-jmf.jar:/usr/local/apache-ant-1.6.5/lib/ant-antlr.jar:/usr/local/java/jdk1.5.0_05/lib/tools.jar\n'\n    [javac] '-sourcepath'\n    [javac] '/home/app/src'\n    [javac] '-g'\n    [javac]\n    [javac] The ' characters around the executable and arguments are\n    [javac] not part of the command.\n    [javac] File to be compiled:\n    [javac]     /home/app/src/helloworld.java\n\nchecksum:\n\nBUILD FAILED\n/home/app/src/build.xml:10: java.lang.NullPointerException\n        at org.apache.tools.ant.Task.perform(Task.java:373)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n        at\norg.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.Main.runBuild(Main.java:668)\n        at org.apache.tools.ant.Main.startAnt(Main.java:187)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:246)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)\nCaused by: java.lang.NullPointerException\n        at java.io.File.<init>(File.java:277)\n        at org.apache.tools.ant.taskdefs.Checksum.getChecksumFile(Checksum.java:406)\n        at\norg.apache.tools.ant.taskdefs.Checksum.addToIncludeFileMap(Checksum.java:366)\n        at\norg.apache.tools.ant.taskdefs.Checksum.validateAndExecute(Checksum.java:349)\n        at org.apache.tools.ant.taskdefs.Checksum.execute(Checksum.java:224)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        ... 10 more\n--- Nested Exception ---\njava.lang.NullPointerException\n        at java.io.File.<init>(File.java:277)\n        at org.apache.tools.ant.taskdefs.Checksum.getChecksumFile(Checksum.java:406)\n        at\norg.apache.tools.ant.taskdefs.Checksum.addToIncludeFileMap(Checksum.java:366)\n        at\norg.apache.tools.ant.taskdefs.Checksum.validateAndExecute(Checksum.java:349)\n        at org.apache.tools.ant.taskdefs.Checksum.execute(Checksum.java:224)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n        at\norg.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.Main.runBuild(Main.java:668)\n        at org.apache.tools.ant.Main.startAnt(Main.java:187)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:246)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)\n\nTotal time: 2 seconds\n\n***********************************************\n<?xml version='1.0'?>\n<project name=\"hello\" default=\"all\" basedir=\".\">\n<description>Simple ANT build file</description>\n\n    <target name=\"compile\">\n        <javac srcdir=\".\" debug=\"true\" includes=\"*.java\"/>\n    </target>\n\n    <target name=\"checksum\">\n        <checksum algorithm=\"SHA\" file=\"helloworld.class\" todir=\".\"/>\n    </target>\n   \n    <target name=\"all\" depends=\"compile,checksum\">\n        <echo message=\"All Done\"/>\n    </target>\n</project>", "bug_id": 37386, "attachment_id": null, "id": 82192, "time": "2005-11-07T19:32:06Z", "creator": "ajchida@gmail.com", "creation_time": "2005-11-07T19:32:06Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 37386, "attachment_id": null, "is_private": false, "id": 93706, "time": "2006-09-17T22:50:44Z", "creator": "peterreilly@apache.org", "creation_time": "2006-09-17T22:50:44Z", "text": "Thanks for the report, and the nice test case.\nThis is now fixed in SVN, will be in ANT 1.7.\n"}]