[{"count": 0, "tags": [], "bug_id": 40061, "attachment_id": null, "text": "When publishing a document in the default publication for the first time, the\nfooter on the page in live states \"This page has not been published yet.\" When\ndoing the same action for a new publication created from the default template it\nstates \"never-published\". In both cases, this the text that existed on the page\nin the authoring area. Upon publication the authoring area is updated with the\nnew last published time, but live retains the old.", "id": 91368, "time": "2006-07-17T18:09:05Z", "creator": "rfrovarp@apache.org", "creation_time": "2006-07-17T18:09:05Z", "is_private": false}, {"count": 1, "tags": [], "creator": "rfrovarp@apache.org", "text": "As just tested, after the first publication of the page, the time stamp does not\nchange. The authoring retains first publication time stamp. Live with pick up\nthe first publication timestamp upon second publication of the page.", "id": 91369, "time": "2006-07-17T18:20:19Z", "bug_id": 40061, "creation_time": "2006-07-17T18:20:19Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "josias.thoeny@wyona.org", "attachment_id": null, "id": 91374, "time": "2006-07-18T07:48:14Z", "bug_id": 40061, "creation_time": "2006-07-18T07:48:14Z", "is_private": false, "text": "I believe the problem is that in the live area, the workflow information is\ntaken from the meta data of the live document. \nIf a document is published the first time, the authoring version will contain\nthe publish event:\n\n<lenya:workflowVersion>1 event:publish state:live user:lenya machine:127.0.0.1\ndate:2006-07-18_09:39:25 var:is_live=true</lenya:workflowVersion>\n\nbut the live version doesn't.\n\nProbably it doesn't make sense to read workflow information from the live\ndocument. WDOT?\n"}, {"count": 3, "tags": [], "bug_id": 40061, "attachment_id": null, "text": "We could either\n\na) persist the workflow history to all area versions of a document\nb) in DocumentWorkflowable, always refer to the authoring version:\n\nthis.document = document.getIdentityMap()\n        .getAreaVersion(document, Publication.AUTHORING_AREA);\n\nIMO (a) is cleaner (because the authoring area is not hard-coded, and the code\nwill work when the authoring document is not present - for instance if you have\na staging area). The problem is to keep all area versions synchronized.\n\nAn even nicer approach would be to provide meta data which are shared by all\narea versions.", "id": 91376, "time": "2006-07-18T09:18:36Z", "creator": "andreas@apache.org", "creation_time": "2006-07-18T09:18:36Z", "is_private": false}, {"count": 4, "tags": [], "creator": "josias.thoeny@wyona.org", "attachment_id": null, "id": 91385, "time": "2006-07-18T13:16:15Z", "bug_id": 40061, "creation_time": "2006-07-18T13:16:15Z", "is_private": false, "text": "> An even nicer approach would be to provide meta data which are shared by all\n> area versions.\n\nYes, maybe we should think again about having unversioned, area-independent\nmeta-data...\n\n"}, {"count": 5, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "id": 92416, "time": "2006-08-22T16:05:51Z", "bug_id": 40061, "creation_time": "2006-08-22T16:05:51Z", "is_private": false, "text": "(In reply to comment #3)\n> We could either\n> \n> a) persist the workflow history to all area versions of a document\n\nI implemented this (because it was the easiest approach)."}, {"count": 6, "tags": [], "bug_id": 40061, "attachment_id": null, "text": "It was fixed, however it is happening again.", "id": 96418, "time": "2006-11-30T09:39:03Z", "creator": "rfrovarp@apache.org", "creation_time": "2006-11-30T09:39:03Z", "is_private": false}, {"count": 7, "tags": [], "creator": "aturetta@bestunion.it", "attachment_id": null, "id": 96455, "time": "2006-12-01T06:04:08Z", "bug_id": 40061, "creation_time": "2006-12-01T06:04:08Z", "is_private": false, "text": "I can confirm, it's particularly visible when publishing one page for the first\ntime, where the live version says \"This page has not been published\" (Ah no? So,\nwhat am I seeing now :-)\n\nAngelo."}, {"count": 8, "tags": [], "bug_id": 40061, "attachment_id": null, "text": "*** Bug 41762 has been marked as a duplicate of this bug. ***", "id": 100055, "time": "2007-03-05T09:22:50Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-03-05T09:22:50Z", "is_private": false}, {"count": 9, "tags": [], "creator": "rfrovarp@apache.org", "text": "Current behavior is to never change from \"not published yet\".", "id": 100056, "time": "2007-03-05T09:24:21Z", "bug_id": 40061, "creation_time": "2007-03-05T09:24:21Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "creator": "andreas@apache.org", "text": "Apparently the workflow meta data of the live version are not updated.", "id": 100724, "time": "2007-03-21T06:30:37Z", "bug_id": 40061, "creation_time": "2007-03-21T06:30:37Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "creator": "andreas@apache.org", "text": "The workflow meta data are not copied to the live version: Element.ONCOPY_DELETE", "id": 100732, "time": "2007-03-21T08:43:48Z", "bug_id": 40061, "creation_time": "2007-03-21T08:43:48Z", "is_private": false, "attachment_id": null}, {"count": 12, "tags": [], "creator": "andreas@apache.org", "text": "Should be OK now.", "id": 100734, "time": "2007-03-21T09:36:38Z", "bug_id": 40061, "creation_time": "2007-03-21T09:36:38Z", "is_private": false, "attachment_id": null}, {"count": 13, "tags": [], "creator": "rfrovarp@apache.org", "text": "Publish a page once, get the correct timestamp. Publish the page again get \"This\npage has not been published yet.\" Doesn't change away from that error message\nfor any subsequent publishes.", "id": 101241, "time": "2007-03-30T11:17:13Z", "bug_id": 40061, "creation_time": "2007-03-30T11:17:13Z", "is_private": false, "attachment_id": null}, {"count": 14, "tags": [], "creator": "andreas@apache.org", "text": "It should work now.", "id": 101331, "time": "2007-04-02T07:51:38Z", "bug_id": 40061, "creation_time": "2007-04-02T07:51:38Z", "is_private": false, "attachment_id": null}, {"count": 15, "tags": [], "creator": "thorsten@apache.org", "text": "Renaming Lenya 1.4 to 2.0", "id": 105624, "time": "2007-07-16T01:59:40Z", "bug_id": 40061, "creation_time": "2007-07-16T01:59:40Z", "is_private": false, "attachment_id": null}]