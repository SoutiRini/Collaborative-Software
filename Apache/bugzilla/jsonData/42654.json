[{"count": 0, "tags": [], "bug_id": 42654, "attachment_id": null, "is_private": false, "id": 104383, "time": "2007-06-13T23:52:46Z", "creator": "isurues@gmail.com", "creation_time": "2007-06-13T23:52:46Z", "text": "This patch is regarding fixing tailing in the VFS Receiver. This includes\nseveral changes to VFSLogFilePatternReceiver in Chainsaw and\nLogFilePatternReceiver in log4j, which fixes the tailing problem. By applying\nthese changes, tailing works when the log events are added to the file\nfrequently. But still the receiver gets stuck when log events are not added to\nthe log file for more than 15 or 20 seconds. This is due to some bug in Commons-VFS."}, {"count": 1, "tags": [], "bug_id": 42654, "attachment_id": 20344, "id": 104384, "time": "2007-06-13T23:55:55Z", "creator": "isurues@gmail.com", "creation_time": "2007-06-13T23:55:55Z", "is_private": false, "text": "Created attachment 20344\nchanges to VFSLogFilePatternReceiver to fix tailing"}, {"count": 2, "tags": [], "bug_id": 42654, "attachment_id": 20345, "text": "Created attachment 20345\nIncludes changes to LogFilePatternReceiver in log4j to fix tailing", "id": 104385, "time": "2007-06-13T23:57:48Z", "creator": "isurues@gmail.com", "creation_time": "2007-06-13T23:57:48Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 42654, "text": "Created attachment 20357\nThis patch includes the complete fix for VFS tailing\n\nNew changes to the VFSLogFilePatternReceiver to fix tailing completely", "id": 104446, "time": "2007-06-15T11:02:07Z", "creator": "isurues@gmail.com", "creation_time": "2007-06-15T11:02:07Z", "is_private": false, "attachment_id": 20357}, {"count": 4, "tags": [], "creator": "isurues@gmail.com", "attachment_id": 20358, "is_private": false, "id": 104447, "time": "2007-06-15T11:05:47Z", "bug_id": 42654, "creation_time": "2007-06-15T11:05:47Z", "text": "Created attachment 20358\nNew changes to fix tailing completely\n\nThis includes changes to LogFilePatternReceiver in log4j in order to fix VFS \ntailing in Chainsaw completely.."}, {"count": 5, "tags": [], "bug_id": 42654, "text": "The only comments I can make here are:\n\n* Constants should be extracted and named appropriately (for wait/sleep times). \n\n* Threads created should be given an appropriate name so that one can identify\ntheir purpose easily in a thread dump or debug view\n\n* Personally the anonymous Runnable inner-class implementation looks a bit long\nto be anonymous.  Can we extract that into a separate private inner-class?  I\nknow this doesn't really get us anywhere but I find the code readability better\nIMHO.\n\n* I/O classes are not properly close()'d.  I think we probably should obey the\ngeneral I/O and execute the tidy up operations in appropriate finally blocks. \nOn some platforms failing to do this can lead to dangling handles until the\nprocess exits.  \n\n(these were all here before your changes, but we might as well make it tidy\nwhile we're here).\n\nScott, do you have other comments?  If I see these above changes in a new patch\nI'd be ok to commit this.", "id": 105255, "time": "2007-07-10T15:34:19Z", "creator": "psmith@apache.org", "creation_time": "2007-07-10T15:34:19Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 42654, "text": "Looks good\n\nI can apply the LogFilePatternReceiver patch myself after doing a bit of testing\n- no need for you to provide another patch.  I would like to see a few changes\nfor the VFSLogFilePatternReceiver.\n\n\nLogFilePatternReceiver:\nbraces for empty catch blocks should both be on the same line\n\nVFSLogFilePatternReceiver: \nadd a comment next to the use of fileobject.refresh explaining why we need it\nremove * imports in favor of explicit imports.\nbraces for empty catch blocks should both be on the same line\nclose rac in a finally block\n\n", "id": 105268, "time": "2007-07-10T23:41:00Z", "creator": "sdeboy@iname.com", "creation_time": "2007-07-10T23:41:00Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 42654, "text": "I've committed a modified version of your patch (it wouldn't tail for me) - I\nended up using the fileobject.refresh method (and reworked how credentials are\nhanded over).\n\nPlease see revision 564112 at http://svn.apache.org/viewvc?view=rev&revision=564112\n\nFeel free to email or add comments here if you have questions or suggestions.\n\nThanks Isuru!", "id": 106516, "time": "2007-08-08T23:43:31Z", "creator": "sdeboy@iname.com", "creation_time": "2007-08-08T23:43:31Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 42654, "attachment_id": null, "is_private": false, "id": 107132, "time": "2007-08-23T00:18:26Z", "creator": "psmith@apache.org", "creation_time": "2007-08-23T00:18:26Z", "text": "Scott, can you confirm this is working now after your modifications?  Can we\nclose this?"}, {"count": 9, "tags": [], "creator": "sdeboy@iname.com", "attachment_id": null, "text": "I've tested it and it works.", "id": 107134, "time": "2007-08-23T00:23:56Z", "bug_id": 42654, "creation_time": "2007-08-23T00:23:56Z", "is_private": false}]