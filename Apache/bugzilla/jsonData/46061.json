[{"count": 0, "tags": [], "bug_id": 46061, "text": "I'm using Jmeter 2.3.2 and looks like its not supporting SOAP 1.2 as my SOAP request containing <soap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"> is failing with error response in jMeter as :\n\n<?xml version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:wsa=\"http://www.w3.org/2005/08/addressing\"><soapenv:Header><wsa:Action>http://www.w3.org/2005/08/addressing/soap/fault</wsa:Action></soapenv:Header><soapenv:Body><soapenv:Fault><faultcode>soap:VersionMismatch</faultcode><faultstring>Transport level information does not match with SOAP Message namespace URI</faultstring><detail /></soapenv:Fault></soapenv:Body></soapenv:Envelope>\n\nPlease confirm", "id": 121771, "time": "2008-10-22T05:17:57Z", "creator": "nitin.sachdeva@tcs.com", "creation_time": "2008-10-22T05:17:57Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "Which SOAP sampler are you using? \nWebService(SOAP) or SOAP/XML-RPC?\n\nI suspect the former; try using the latter instead.\n\nAlso, please attach a sample request that is failing (redact any sensitive information first).", "attachment_id": null, "id": 121772, "creator": "sebb@apache.org", "time": "2008-10-22T05:23:31Z", "bug_id": 46061, "creation_time": "2008-10-22T05:23:31Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 46061, "attachment_id": null, "id": 121799, "time": "2008-10-22T21:26:17Z", "creator": "nitin.sachdeva@tcs.com", "creation_time": "2008-10-22T21:26:17Z", "is_private": false, "text": "\nI tried both samplers(WebService(SOAP) or SOAP/XML-RPC) and got same response:\n\nResponse:\n\n<?xml version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:wsa=\"http://www.w3.org/2005/08/addressing\"><soapenv:Header><wsa:Action>http://www.w3.org/2005/08/addressing/soap/fault</wsa:Action></soapenv:Header><soapenv:Body><soapenv:Fault><faultcode>soap:VersionMismatch</faultcode><faultstring>Transport level information does not match with SOAP Message namespace URI</faultstring><detail /></soapenv:Fault></soapenv:Body></soapenv:Envelope\n\nAlso here is the request that I'm sending in the jmeter:\n\nRequest:\n\n<soap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:alt=\"http://altbuy.brewzone.bds.qualcomm.com\" xmlns:xsd=\"http://altbuy.brewzone.bds.qualcomm.com/xsd\" xmlns:xsd1=\"http://dto.altbuy.brewzone.bds.qualcomm.com/xsd\">\n   <soap:Header>\n\t<soap:Action>http://bmc-si:80/altl-brewzonews/services/AlternatePurchaseWS</soap:Action>\n  </soap:Header>\n   <soap:Body>\n      <alt:sendAlternatePurchase>\n         <!--Optional:-->\n           <alt:request>\n            \n            <!--Optional:-->\n            <xsd:billingEvent>\n               <!--Optional:-->\n               <xsd1:carrierId>41</xsd1:carrierId>\n               <!--Optional:-->\n               <xsd1:contentFee>0.04</xsd1:contentFee>\n               <!--Optional:-->\n               <xsd1:contentId>12345453</xsd1:contentId>\n               <!--Optional:-->\n               <xsd1:ctxId>123466789238767</xsd1:ctxId>\n              \n               <xsd1:customerType>SID</xsd1:customerType>\n               <xsd1:customerId>5554024321943</xsd1:customerId>\n               <xsd1:gmtOffset>0</xsd1:gmtOffset>\n               <!--Optional:-->\n               <xsd1:listPrice>3.48</xsd1:listPrice>\n               <!--Optional:-->\n               <xsd1:listPriceCurrency>USD</xsd1:listPriceCurrency>\n               <!--Optional:-->\n               <xsd1:longDescription>fsdfsdfsdf</xsd1:longDescription>\n               <!--Zero or more repetitions:-->\n              \n               <!--Optional:-->\n               <xsd1:payeeId>Gameloft</xsd1:payeeId>\n               <!--Optional:-->\n               <xsd1:prePay>Y</xsd1:prePay>\n               <xsd1:shortDescription>short description</xsd1:shortDescription>\n              \n               <!--Optional:-->\n\t       <xsd1:subtype>1</xsd1:subtype>\n               <xsd1:timestamp>1221215392472</xsd1:timestamp>\n               <!--Optional:-->\n               \n            </xsd:billingEvent>\n            <!--Optional:-->\n            <!--xsd:ctxId>12346412389898</xsd:ctxId-->\n            <!--Optional:-->\n            <xsd:deliveryId>5554024321943</xsd:deliveryId>\n            <!--Optional:-->\n            <xsd:deliveryType>SID</xsd:deliveryType>\n            <!--Optional:-->\n            <xsd:expirationPeriod>5</xsd:expirationPeriod>\n            <!--Zero or more repetitions:-->\n            <xsd:type>1</xsd:type>\n          \n            \n         </alt:request>\n      </alt:sendAlternatePurchase>\n   </soap:Body>\n</soap:Envelope>\n\n\n"}, {"count": 3, "tags": [], "text": "[Bugs are only only supposed to be assigned by developers to indicate that they are dealing with the bug.]\n\n\nI don't know why this is occurring. The SOAP/XML-RPC sampler does not do any processing of the request, so either the request itself is incorrect, or there are some missing or incorrect headers.\n\nAre you 100% sure that the data is correct?", "attachment_id": null, "id": 121811, "creator": "sebb@apache.org", "time": "2008-10-23T03:17:40Z", "bug_id": 46061, "creation_time": "2008-10-23T03:17:40Z", "is_private": false}, {"count": 4, "tags": [], "creator": "nitin.sachdeva@tcs.com", "is_private": false, "id": 121843, "creation_time": "2008-10-24T01:41:02Z", "time": "2008-10-24T01:41:02Z", "bug_id": 46061, "text": "(In reply to comment #3)\n> [Bugs are only only supposed to be assigned by developers to indicate that they\n> are dealing with the bug.]\n> I don't know why this is occurring. The SOAP/XML-RPC sampler does not do any\n> processing of the request, so either the request itself is incorrect, or there\n> are some missing or incorrect headers.\n> Are you 100% sure that the data is correct?\n\nYes the request is fine. I tried the same with SOAP 1.1 and it works now.\n\nsoap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"\n\nSo looks there is some problem with using SOAP 1.2 . Please confirm", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 46061, "attachment_id": null, "id": 121845, "time": "2008-10-24T04:30:36Z", "creator": "sebb@apache.org", "creation_time": "2008-10-24T04:30:36Z", "is_private": false, "text": "I don't have a SOAP 1.2 service to test against, so I can't confirm the problem.\n\nHowever I have found a document describing the differences between SOAP 1.1 and 1.2:\n\nhttp://www.idealliance.org/papers/xmle02/dx_xmle02/papers/02-02-02/02-02-02.html#http\n\nwhich says that the Content-Type has changed.\n\nAs the SOAP/XML-RPC sampler does not work, this seems the most likely culprit.\n\nSo try adding a Header Manager to the SOAP/XML-RPC sampler with the setting:\n\n     Content-Type     text/soap+xml\n\nYou may need to add \"; charset=utf-8\" to the content-type value.\n\nDoes this solve the problem?\n\n==\n\nI cannot get the WebService sampler to send the data at all - it complains:\n\nSOAP-ENV:VersionMismatch: Envelope element must be associated with the 'http://schemas.xmlsoap.org/soap/envelope/' namespace.\n\nThis occurs before sending the data and is to be expected as thw WebService sampler uses a SOAP library that does not support 1.2.\n\nIt's unlikely that this will be fixed in the near future."}]