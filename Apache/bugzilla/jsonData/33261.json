[{"count": 0, "tags": [], "creator": "lucisandor@gmail.com", "attachment_id": null, "text": "Users might try to install Tomcat as a service although they migt not have this\nright. The installer should check for admin rights and, if not admin, allow him\nto install only as a console application.\nInspired by http://issues.apache.org/bugzilla/show_bug.cgi?id=32361", "id": 70139, "time": "2005-01-27T03:48:29Z", "bug_id": 33261, "creation_time": "2005-01-27T03:48:29Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 33261, "attachment_id": null, "is_private": false, "id": 77940, "time": "2005-08-02T16:01:34Z", "creator": "yoavs@computer.org", "creation_time": "2005-08-02T16:01:34Z", "text": "I suppose this a good excuse for me to learn more about NSIS ;)  First, the FAQ\nat\nhttp://nsis.sourceforge.net/wiki/How_can_I_make_sure_the_user_installing_my_software_has_admin_rights\nsays to go look at the UserInfo example that ships with NSIS.  Let me go look\nand see.. ;)\n\nI don't think I'll stop the installation, but maybe print out a big warning message."}, {"count": 2, "tags": [], "bug_id": 33261, "attachment_id": null, "is_private": false, "id": 77941, "time": "2005-08-02T16:09:33Z", "creator": "yoavs@computer.org", "creation_time": "2005-08-02T16:09:33Z", "text": "The example that ships with NSIS does this:\n\nName \"UserInfo.dll test\"\nOutFile UserInfo.exe\n\nSection\n\tClearErrors\n\tUserInfo::GetName\n\tIfErrors Win9x\n\tPop $0\n\tUserInfo::GetAccountType\n\tPop $1\n\tStrCmp $1 \"Admin\" 0 +3\n\t\tMessageBox MB_OK 'User \"$0\" is in the Administrators group'\n\t\tGoto done\n\tStrCmp $1 \"Power\" 0 +3\n\t\tMessageBox MB_OK 'User \"$0\" is in the Power Users group'\n\t\tGoto done\n\tStrCmp $1 \"User\" 0 +3\n\t\tMessageBox MB_OK 'User \"$0\" is just a regular user'\n\t\tGoto done\n\tStrCmp $1 \"Guest\" 0 +3\n\t\tMessageBox MB_OK 'User \"$0\" is a guest'\n\t\tGoto done\n\tMessageBox MB_OK \"Unknown error\"\n\tGoto done\n\n\tWin9x:\n\t\t# This one means you don't need to care about admin or\n\t\t# not admin because Windows 9x doesn't either\n\t\tMessageBox MB_OK \"Error! This DLL can't run under Windows 9x!\"\n\n\tdone:\nSectionEnd"}, {"count": 3, "tags": [], "bug_id": 33261, "attachment_id": null, "id": 77966, "time": "2005-08-02T20:12:40Z", "creator": "yoavs@computer.org", "creation_time": "2005-08-02T20:12:40Z", "is_private": false, "text": "Done, committing now.  Please test it when you get a chance.\n\nNote that I chose to not stop the installation: I think that's too severe a\nmove.  Instead, the installer will warn and explain what you were saying above\nto non-admin users."}]