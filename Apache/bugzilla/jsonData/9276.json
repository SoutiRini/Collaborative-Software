[{"count": 0, "tags": [], "bug_id": 9276, "text": "By using a script, if a shape is moved and then removed, the repaint is not \ncorrect. When the shape is moved, the UpdateTracker will be notified that the \nshape has changed and will record the old bounding box for the shape and all \nits parents ( this occurs before the shape updates its values ). When the shape \nis removed, the UpdateTraker will be notified that the parent of the shape has \nchanged ( lost one child ), and will record it new bounding box, and recall the \nold one ( before the shape was moved ) to be the dirty rectangles to be \nrepainted. If the shape was moved outside of those 2 rectangles, then it is \nstill visible after the repaint. ( Resizing the frame, will make the shape \ndisappears, since the while canvs is repainted ).\n\nhere is an example, move the mouse over the left rectangle first and then over \nthr right one. The two rectangles are still visible, but if you check the DOM \nViewer, only one is left in the document.\n\n<?xml version=\"1.0\" standalone=\"no\"?>\n\n<svg width=\"5cm\" height=\"3cm\"  viewBox=\"0 0 500 300\" \nxmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\n\n<script><![CDATA[\n    function remove(evt,id){\n        var e = evt.target;\n        e = e.getOwnerDocument().getElementById(id);\n        var p = e.getParentNode();\n        p.removeChild(e);\n    }\n    function move(evt){\n        var e = evt.target;\n        e.setAttribute('x','10');\n        e.setAttribute('y','150');\n    }       \n]]></script>\n\n  <rect id='rect1' x=\"10\" y=\"10\" width=\"100\" height=\"100\" onmouseover=\"move\n(evt)\" />\n\n  <rect id='rect2' x=\"150\" y=\"10\" width=\"100\" height=\"100\" onmouseover=\"remove\n(evt,'rect1')\" />\n\n</svg>\n\nFound in CVS May 17 2002", "id": 16468, "time": "2002-05-21T12:19:57Z", "creator": "nicolas.socheleau@bitflash.com", "creation_time": "2002-05-21T12:19:57Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 9276, "attachment_id": null, "text": "UpdateTracker now updates parent's node's cached bounds when\na node changes.", "id": 17935, "time": "2002-06-17T20:17:55Z", "creator": "deweese@apache.org", "creation_time": "2002-06-17T20:17:55Z", "is_private": false}]