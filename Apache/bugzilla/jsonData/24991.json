[{"count": 0, "tags": [], "bug_id": 24991, "text": "When reverse proxying a web page using the ProxyPass directive, Apache leaks \nmemory when running the JMeter stress test tool using HTTP POST requests.  \nThis does not happen with HTTP GET requests.\n\nSample config:\n\n<VirtualHost *:81>\n\tServerName <your-server-name>\n\t<Location />\n\t\tProxyPass http://localhost/\n\t</Location>\n</VirtualHost>", "id": 48119, "attachment_id": null, "creator": "l_toppi@hotmail.com", "creation_time": "2003-11-25T21:32:38Z", "time": "2003-11-25T21:32:38Z", "is_private": false}, {"count": 1, "attachment_id": 9470, "creator": "l_toppi@hotmail.com", "text": "Created attachment 9470\nFixed EOS bucket leak in proxy_http.c", "id": 48760, "time": "2003-12-09T21:35:43Z", "bug_id": 24991, "creation_time": "2003-12-09T21:35:43Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 24991, "text": "the patch looks simple (and correct) enough...  \n\nany idea if the short-circuit test for EOS just above this leaks that bucket too?\n\nI'm referring to this logic:\n\nif (APR_BUCKET_IS_EOS(APR_BRIGADE_FIRST(bb))) {\n                break;\n            }\n\nIt looks to me like that simple brigade will get leaked in that condition.\n\nI'm re-opening the bug and adding the PatchAvailable keyword; until somebody\ncommits your fix to 2.1-dev, it should be visible by everybody as something to\nwork on.\n", "id": 48761, "time": "2003-12-09T21:52:21Z", "creator": "trawick@apache.org", "creation_time": "2003-12-09T21:52:21Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 24991, "attachment_id": null, "id": 48768, "time": "2003-12-09T22:37:54Z", "creator": "jwoolley@apache.org", "creation_time": "2003-12-09T22:37:54Z", "is_private": false, "text": "> I'm referring to this logic:\n> if (APR_BUCKET_IS_EOS(APR_BRIGADE_FIRST(bb))) {\n>                 break;\n>             }\n> It looks to me like that simple brigade will get leaked in that condition.\n\nNot necessarily completely leaked, though it might live longer than one could \nhope for.  As long as the bucket remains in its brigade, the bucket and brigade \nwill get killed off when the pool associated with the brigade is cleaned up."}, {"count": 4, "text": "Thanks for clarifying, Cliff!\n\nI'm +1 for the patch.  That was my only dangling question.\n", "creator": "trawick@apache.org", "attachment_id": null, "id": 48771, "time": "2003-12-09T22:51:37Z", "bug_id": 24991, "creation_time": "2003-12-09T22:51:37Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "creator": "trawick@apache.org", "text": "thanks for the patch!\n\ncommited to 2.1-dev, proposed for merging to stable branch for 2.0.next\n", "id": 48853, "attachment_id": null, "bug_id": 24991, "creation_time": "2003-12-10T19:57:32Z", "time": "2003-12-10T19:57:32Z", "is_private": false}, {"count": 6, "tags": [], "text": "patch now committed to stable branch for 2.0.next\n", "is_private": false, "id": 49074, "creator": "trawick@apache.org", "time": "2003-12-14T00:18:19Z", "bug_id": 24991, "creation_time": "2003-12-14T00:18:19Z", "attachment_id": null}]