[{"count": 0, "tags": [], "bug_id": 29676, "is_private": false, "id": 59484, "attachment_id": null, "creator": "alphonse.bendt@it-fws.de", "creation_time": "2004-06-18T16:18:45Z", "time": "2004-06-18T16:18:45Z", "text": "it would be really useful if you could use the classpath and classpathref\nattribute with the script task:\n\n<script language=\"beanshell\" classpathref=\"my.classpath\" >\n  print(getClassPath());\n</script>\n\nthanks,\n  alphonse"}, {"attachment_id": null, "tags": [], "bug_id": 29676, "is_private": false, "count": 1, "id": 59602, "time": "2004-06-19T17:26:23Z", "creator": "antoine@apache.org", "creation_time": "2004-06-19T17:26:23Z", "text": "You can re - taskdef the tasks if you want to add something new into their\nclasspath. Is this a workaround ?"}, {"count": 2, "tags": [], "bug_id": 29676, "is_private": false, "id": 59647, "attachment_id": null, "creator": "alphonse.bendt@it-fws.de", "creation_time": "2004-06-21T08:27:02Z", "time": "2004-06-21T08:27:02Z", "text": "i tried the following:\n\n<pathconvert refid=\"base.path\" property=\"cp.base\" targetos=\"windows\" />\n\n<taskdef name=\"script2\" classpath=\"cp.base\"\n  classname=\"org.apache.tools.ant.taskdefs.optional.Script\">\n</taskdef>\n  \n<script2 language=\"beanshell\">\n   print(\"Hello World!\");   \n   print(\"This is my Classpath:\");\n   print(getClassPath());\n</script2>\n\nunfortunately this does not seem to work."}, {"count": 3, "tags": [], "text": "i am currently using the following workaround:\n\n  <target name=\"test\" depends=\"init\">\n    <scriptdef name=\"beanshell-test\" language=\"beanshell\">\n      <element name=\"classpath\" type=\"path\" />\n\t&classpath-beanshell;\n\n\tprint(\"Hello World!\");      \n\tprint(\"This is my Classpath:\");\n\tprint(getClassPath());\n    </scriptdef>\n\n    <beanshell-test>\n      <classpath refid=\"base.path\" />\n    </beanshell-test>\n  </target>\n\nentity classpath-beanshell defined as:\n\nclasspath = Arrays.asList(elements.get(\"classpath\").get(0).list());\nIterator i = classpath.iterator();\nwhile (i.hasNext()) {\n  addClassPath(i.next());\n}", "attachment_id": null, "id": 59758, "creator": "alphonse.bendt@it-fws.de", "time": "2004-06-23T10:12:09Z", "bug_id": 29676, "creation_time": "2004-06-23T10:12:09Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 29676, "is_private": false, "count": 4, "id": 87480, "time": "2006-03-31T16:09:26Z", "creator": "preuss@disy.net", "creation_time": "2006-03-31T16:09:26Z", "text": "Neither approach seems to work for me using Groovy as the scripting language.\n\nI also tried to patch the original script task, but didn't get it to work. \nAlthough BSFEngineImpl has a classpath property, Groovy seems to simply ignore \nit. In fact it seems like *all* concrete implementations ignore it.\n\nThis basically makes it impossible to use the script tag in my environment. If \nsomeone has an idea of what else to try, I'd be highly interested."}, {"count": 5, "tags": [], "bug_id": 29676, "is_private": false, "id": 92928, "attachment_id": null, "creator": "peterreilly@apache.org", "creation_time": "2006-09-02T23:02:13Z", "time": "2006-09-02T23:02:13Z", "text": "This will be added in ant 1.7"}]