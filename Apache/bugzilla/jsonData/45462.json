[{"count": 0, "tags": [], "bug_id": 45462, "attachment_id": null, "text": "Hi list,\n\nI'm currently using the trunk version of Lenya 2 (downloaded aprox. 2 days ago). To update our website at \"unipost.es\".\n\nIf you go to the \"Site\" mode and change some meta field using a special character (\u00e1\u00e9\u00ed, etc), it gets garbled. It also doesn't match any search using this word. It is reproducible with the default publication.\n\nI found that the characters are saved broken in the .meta file.\n\nIn the other side, if you use a special character in the document creation screen, there is no problem at all.\n\nSo, i think it should be related to the \"metadata.change\" usecase, but couldn't find the problem.\n\nDoes anyone know what could be done to fix it?\n\nThanks in advance for any suggestion.\n\n-- \nCarlos Palol\nhttp://www.awarepixel.com", "id": 118912, "time": "2008-07-22T11:57:39Z", "creator": "andreas@apache.org", "creation_time": "2008-07-22T11:57:39Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 45462, "is_private": false, "id": 118954, "creation_time": "2008-07-23T13:36:31Z", "time": "2008-07-23T13:36:31Z", "creator": "andreas@apache.org", "text": "I can confirm the problem.", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 45462, "is_private": false, "id": 118956, "creation_time": "2008-07-23T14:51:15Z", "time": "2008-07-23T14:51:15Z", "creator": "andreas@apache.org", "text": "Setting the container encoding to UTF-8 fixes the issue.", "attachment_id": null}, {"count": 3, "tags": [], "text": "(In reply to comment #2)\n> Setting the container encoding to UTF-8 fixes the issue.\n\nOnly with Firefox 3. With Safari, the characters are garbage.", "is_private": false, "bug_id": 45462, "id": 118957, "time": "2008-07-23T14:53:14Z", "creator": "andreas@apache.org", "creation_time": "2008-07-23T14:53:14Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "andreas@apache.org", "is_private": false, "text": "(In reply to comment #3)\n> (In reply to comment #2)\n> > Setting the container encoding to UTF-8 fixes the issue.\n> \n> Only with Firefox 3. With Safari, the characters are garbage.\n\nSafari doesn't add the \"charset=UTF-8\" snippet to the Content-Type header of the POST request.", "id": 118958, "time": "2008-07-23T14:57:40Z", "bug_id": 45462, "creation_time": "2008-07-23T14:57:40Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 45462, "text": "(In reply to comment #4)\n> (In reply to comment #3)\n> > (In reply to comment #2)\n> > > Setting the container encoding to UTF-8 fixes the issue.\n> > \n> > Only with Firefox 3. With Safari, the characters are garbage.\n> \n> Safari doesn't add the \"charset=UTF-8\" snippet to the Content-Type header of\n> the POST request.\n\nFixed, see http://ospublish.wordpress.com/2008/06/09/encoding-of-dojo-xhrpost-parameters-in-safari/.", "id": 118960, "time": "2008-07-23T15:09:16Z", "creator": "andreas@apache.org", "creation_time": "2008-07-23T15:09:16Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "text": "See also http://marc.info/?l=xml-cocoon-dev&m=121684794817371&w=2", "is_private": false, "bug_id": 45462, "id": 118961, "time": "2008-07-23T15:11:15Z", "creator": "andreas@apache.org", "creation_time": "2008-07-23T15:11:15Z", "attachment_id": null}, {"count": 7, "tags": [], "creator": "andreas@apache.org", "is_private": false, "text": "Created attachment 22312\nPatch by Jeremy Quinn to resolve the encoding issues\n\nSee http://www.nabble.com/request-encoding-conundrum-td18620867.html", "id": 118966, "time": "2008-07-24T03:01:14Z", "bug_id": 45462, "creation_time": "2008-07-24T03:01:14Z", "attachment_id": 22312}, {"count": 8, "tags": [], "bug_id": 45462, "text": "*** Bug 46414 has been marked as a duplicate of this bug. ***", "id": 123402, "time": "2008-12-18T06:01:15Z", "creator": "andreas@apache.org", "creation_time": "2008-12-18T06:01:15Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 45462, "is_private": false, "text": "This issue has been fixed in Cocoon. I can't reproduce it anymore with Firefox and Safari.", "id": 124269, "time": "2009-01-22T03:31:06Z", "creator": "andreas@apache.org", "creation_time": "2009-01-22T03:31:06Z", "attachment_id": null}]