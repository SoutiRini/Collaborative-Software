[{"attachment_id": null, "tags": [], "bug_id": 33760, "is_private": false, "count": 0, "id": 71586, "time": "2005-02-27T23:51:22Z", "creator": "renaud.richardet@gmail.com", "creation_time": "2005-02-27T23:51:22Z", "text": "Fopdev's\n\nI've been working on the AWTRenderer those last days. Before I move forward, I\nwould welcome some feedback to know if I'm heading in the right direction.\n\n= What I did =\n\nBasically, I tried to implement in AWTRenderer what the PDFRenderer does. The\ndrawback is that all what doesn't work for the PDFRenderer doesn't work for the\nAWTRenderer neither.\nI've posted a patch with the updated renderers. The patch has changes for the\nclasses AWTRenderer, AbstractRenderer, PDFRenderer and CTM plus a new class\nBMPReader.\n\nAWTRenderer: I implemented several renderXXX() methods and the corresponding\nhelper methods.\n\nAbstractRenderer: I moved what I could reuse from PDFRenderer to\nAbstractRenderer: renderTextDecorations(), handleRegionTraits(), and added the\nneeded empty methods.\n\nPDFRenderer ans PSRenderer:\nI moved 2 lines (currentIPPosition = 0; currentBPPosition = 0; ) in\nstartVParea()  because the AWTRenderer uses those values in another way and need\nto keep track of them (see startVParea() in AWTRenderer).\nSpeaking of startVParea(), could we rename it to something more meanigfull?\nProposition: TransformPosition, or something like this.\nDeleted the methods moved to AbstractRenderer. \n\nfop.area.CTM: added two getters for e and f. If there's another way to get those\nvalues, please let me know.\n\n= Points I would like to discuss (see the corresponding FIXME in the code) =\n\nFonts: I must be missing something with the font-mechanism: the rendered text in\nthe AWTRenderer is smaller that the one of PDFRenderer. What I need is a way to\nget a java.awt.Font from an area. \nIs the class FontSetup implemented correctly? Do I have to worry about\nmultibyte-stuff?\nI could investigate the whole mechanism, but a hint would certainly speed my work.\n\nColors: My method updateColor (Graphics2D graphics, Area area) doesn't work for\nsome areas.Same question here: how can I get a java.awt.Color from ANY area?\n\nThere are still many issues with the positioning of the areas. I keep track of\nthe current position with the variables currentIPPosition and currentBPPosition. \n\nImages: I can't update the currentIPDPosition and currentBPDPosition for\nImage-areas. The Viewport associated with the image doesn't have any bpd\nassociated with it. Is this normal? The enclosed image doesn't have ipd/bpd\neither. Again: is this normal so? I have a workaround in mind (getting those\nvalues through the FopImage), but it doesn't sound right. \nI implemented a simple .bmp rendering (BMPReader.java). It only supports 8-bit\nand 24-bit uncompressed windows bitmap images. I found this code on the net. I\nknow you had problems with licences and I don't want to raise an issue here. I\ndid this implementation more for myself than anything. If there's a better way\nto render .bmp (JAI?), let me know. Otherwise, I could try to convince the\nauthor to donate the code in conterpart of some fine chocolate :)\n\nSVG + External Objects rendering is very alpha. \n\nrenderTextDecoration(InlineArea) seems to work, even if it's not implemented??\n\nrenderViewport is overriden in PDFRenderer to allow clip(). Is this feature also\nneeded in AWTRenderer?\n\n= What's next = \n\n- fix the bugs described here \n- implement the remaining features\n- test the renderer on more complex files \n- implement what's described on the wiki FopAndJava2D [1]\n\n\nIn the code, I used the following conventions: FIXME for the points I would like\nyou to review before checking the code in. And TODO for the points I still have\nto work out (so please leave them). If someone using eclipse could mail me his\nformatter (Preferences>Java>Code Style>Formatter, then Export profile), that\nwould be nice.\n\nAny comments or suggestions most welcome. Again, please let me know if I'm doing\nthings the right way. \n\nI wish you a nice weekstart.\nRenaud\n\n[1] http://wiki.apache.org/xmlgraphics-fop/FopAndJava2D"}, {"count": 1, "text": "Created attachment 14371\n[PATCH] implementation of the AWTRenderer", "creator": "renaud.richardet@gmail.com", "is_private": false, "id": 71587, "time": "2005-02-27T23:52:25Z", "bug_id": 33760, "creation_time": "2005-02-27T23:52:25Z", "tags": [], "attachment_id": 14371}, {"count": 2, "tags": [], "text": "Created attachment 14372\n[PATCH] implementation of the AWTRenderer (2)\n\nPLEASE USE THIS PATCH INSTEAD (same as before, but after I understood how\nCheckstyle works :)\n\nRegards,\nRenaud", "attachment_id": 14372, "id": 71590, "creator": "renaud.richardet@gmail.com", "time": "2005-02-28T03:16:00Z", "bug_id": 33760, "creation_time": "2005-02-28T03:16:00Z", "is_private": false}, {"count": 3, "tags": [], "creator": "renaud.richardet@gmail.com", "attachment_id": 14426, "text": "Created attachment 14426\npatch agains head for AWTRenderer", "id": 71942, "time": "2005-03-08T03:25:02Z", "bug_id": 33760, "creation_time": "2005-03-08T03:25:02Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 33760, "is_private": false, "count": 4, "id": 71963, "time": "2005-03-08T12:53:12Z", "creator": "jeremias@apache.org", "creation_time": "2005-03-08T12:53:12Z", "text": "Patch applied with modifications. Thanks a lot!"}, {"count": 5, "tags": [], "bug_id": 33760, "attachment_id": 14520, "id": 72682, "time": "2005-03-19T02:08:22Z", "creator": "renaud.richardet@gmail.com", "creation_time": "2005-03-19T02:08:22Z", "is_private": false, "text": "Created attachment 14520\nUnified diff against HEAD."}, {"count": 6, "tags": [], "text": "Created attachment 15340\nUnified diff against HEAD\n\nplease see my mail to the list for more details", "is_private": false, "id": 76186, "creator": "renaud.richardet@gmail.com", "time": "2005-06-08T23:13:15Z", "bug_id": 33760, "creation_time": "2005-06-08T23:13:15Z", "attachment_id": 15340}, {"count": 7, "attachment_id": null, "bug_id": 33760, "is_private": false, "id": 76199, "time": "2005-06-09T10:52:03Z", "creator": "jeremias@apache.org", "creation_time": "2005-06-09T10:52:03Z", "tags": [], "text": "Patch applied. This stuff looks very good now. Thank you very much for your \neffort and the quick response, Renaud!"}, {"count": 8, "tags": [], "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "attachment_id": null, "id": 155579, "creator": "gadams@apache.org", "time": "2012-04-01T06:28:44Z", "bug_id": 33760, "creation_time": "2012-04-01T06:28:44Z", "is_private": false}]