[{"count": 0, "tags": [], "creator": "jfkavaka@icqmail.com", "attachment_id": null, "is_private": false, "id": 28850, "time": "2003-01-03T12:07:59Z", "bug_id": 15778, "creation_time": "2003-01-03T12:07:59Z", "text": "I have tomcat 4.1.12 configured with JNDI DataSource with PostgreSQL 7.2.3 \nconnection pool configured like the documentation (tried it with pgjdbc2.jar \nand also the 7.3 jar from jdbc.postgresql.org that claims to work with PG 7.2 \nand even a compiled jar from the PG 7.3 source). The connection pool works fine \nwith the \"normal\" SQL interface (not LargeObject), but when reach this line I \nget a ClassCastException:\n\nLargeObjectManager lobj = ((org.postgresql.PGConnection)db).getLargeObjectAPI();\n\nBefore trying to use the DBCP, I never got a ClassCastException here.\n\nIs this a new bug or just something that is not supported by the DBCP/JDBC?"}, {"count": 1, "tags": [], "creator": "funkman@joedog.org", "attachment_id": null, "is_private": false, "id": 35558, "time": "2003-04-18T15:27:14Z", "bug_id": 15778, "creation_time": "2003-04-18T15:27:14Z", "text": "Dbcp wraps its connections. The release of dbcp you have doesn't allow you to\nget to the physical connection. But you can get the real connection. Build\ncommons-dbcp from source and check out the api to find out the correct method to\nget the real connection. \n\norg.apache.commons.dbcp.DelegatingConnection.getDelete() will return the real\nconnection.\n"}]