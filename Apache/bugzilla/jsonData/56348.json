[{"count": 0, "tags": [], "bug_id": 56348, "attachment_id": null, "id": 174279, "time": "2014-04-04T14:10:57Z", "creator": "yann.simon.fr@gmail.com", "creation_time": "2014-04-04T14:10:57Z", "is_private": false, "text": "In a ReadListener, if the servlet input stream is read with another thread as the servlet thread, the upload is very slow.\n\nThe following sample application reproduces the problem:\nhttps://github.com/yanns/servlet31_async/tree/async-perf\n\n/upload2 reads the input stream in the servlet thread\n/upload forks a new thread that reads the servlet input stream\n\nMy measurements:\n\nWith tomcat 8.0.5\n/upload: 2 minutes\n/upload2: 3,8 s\n\nIt is expected that /upload is more slow that /upload2, but not with that difference.\n\nThe same tests with jetty:\n/upload: 9,5 s\n/upload2: 3,7s"}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 174819, "time": "2014-04-23T21:11:38Z", "bug_id": 56348, "creation_time": "2014-04-23T21:11:38Z", "text": "Thanks for the report and the test case. This has been fixed in 8.0.x for 8.0.6 onwards."}]