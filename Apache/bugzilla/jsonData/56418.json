[{"count": 0, "attachment_id": 31536, "bug_id": 56418, "is_private": false, "id": 174660, "time": "2014-04-16T20:59:13Z", "creator": "slaurent@apache.org", "creation_time": "2014-04-16T20:59:13Z", "tags": [], "text": "Created attachment 31536\nProposed patch on tomcat7 trunk\n\nWhen using the Manager to deploy a webapp remotely (uploading the war with an http PUT), the deployment status is incorrectly reported.\nIt does not occur when deploying a WAR that is on the server filesystem.\n\nThe proposed patch factors the check for the context state."}, {"count": 1, "tags": [], "bug_id": 56418, "text": "Comment on attachment 31536\nProposed patch on tomcat7 trunk\n\nThe first and second chunks of your patch change behavior (by adding an isAvailable check). Is that the real fix for this bug?\n\nIn general, I'm not a fan of having a \"check\" method dump anything to the output writer. Would it be possible to re-write the patch with the re-factored method but not dump any output? Or, maybe just change the name so it's clear that stuff will be printed to the output writer (even though it should be obvious to the reader than the writer is bring used since it's passed as a parameter).", "id": 174712, "time": "2014-04-18T19:19:35Z", "creator": "chris@christopherschultz.net", "creation_time": "2014-04-18T19:19:35Z", "is_private": false, "attachment_id": 31536}, {"count": 2, "text": "Created attachment 31554\nProposed patch on tomcat7 trunk\n\n(In reply to Christopher Schultz from comment #1)\n> The first and second chunks of your patch change behavior (by adding an\n> isAvailable check). Is that the real fix for this bug?\n\nYes, exactly.\n> \n> In general, I'm not a fan of having a \"check\" method dump anything to the\n> output writer. Would it be possible to re-write the patch with the\n> re-factored method but not dump any output? Or, maybe just change the name\n> so it's clear that stuff will be printed to the output writer (even though\n> it should be obvious to the reader than the writer is bring used since it's\n> passed as a parameter).\n\nOK, I renamed the method to \"checkAndOutputContextDeploymentStatus\", see new patch attached.\n\nIf this is OK, I can commit it since I should still have commit rights.\nBut I did not follow much tomcat dev lately : should I commit on 8.x  then 7.x ? should I update the changelog in the same commit or different one ?\nOr if you prefer to commit this yourself, be my guest ;-)", "bug_id": 56418, "attachment_id": 31554, "id": 174817, "time": "2014-04-23T19:44:39Z", "creator": "slaurent@apache.org", "creation_time": "2014-04-23T19:44:39Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 56418, "attachment_id": null, "id": 174880, "creation_time": "2014-04-25T16:11:34Z", "time": "2014-04-25T16:11:34Z", "creator": "markt@apache.org", "text": "(In reply to Sylvain Laurent from comment #2)\n> OK, I renamed the method to \"checkAndOutputContextDeploymentStatus\", see new\n> patch attached.\n\nI'm all for clear method names but that seems a little long\n\noutputDeploymentResult()\n\nshould do.\n\n> If this is OK, I can commit it since I should still have commit rights.\n> But I did not follow much tomcat dev lately : should I commit on 8.x  then\n> 7.x ?\n\nYes. Commit to 8.0.x and then svn merge back to 7.0.x.\n \n> Should I update the changelog in the same commit or different one ?\n\nIdeally the same one.\n\n> Or if you prefer to commit this yourself, be my guest ;-)\n\nAs I am looking at this now I'll do it (but you will get the credit/blame in the changelog).", "is_private": false}, {"count": 4, "tags": [], "bug_id": 56418, "attachment_id": null, "text": "Thanks.\n\nApplied to 8.0.x for 8.0.6 and 7.0.x for 7.0.54.", "id": 174882, "time": "2014-04-25T16:23:06Z", "creator": "markt@apache.org", "creation_time": "2014-04-25T16:23:06Z", "is_private": false}]