[{"count": 0, "tags": [], "bug_id": 51366, "attachment_id": null, "text": "I don't know whether this proposal has been made before so I apologize in advance if I'm rehashing an old idea. I'd like to propose a simple but powerful architectural change: each webapp should run in its own JVM.\n\nBenefits:\n\n* Ability to manage resources (memory, cpu, etc) on a per-webapp level\n* Improved fault-tolerance (a failing webapp won't take others down with it)\n* Ability to load JNI libraries from webapps without having to jump through any hoops or running into \"java.lang.UnsatisfiedLinkError: Native Library x already loaded in another classloader.\"\n\nPlease let me know what you think.", "id": 147063, "time": "2011-06-13T15:55:12Z", "creator": "cowwoc@bbs.darktech.org", "creation_time": "2011-06-13T15:55:12Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 51366, "is_private": false, "text": "Just run multiple Tomcat instances. The overhead is minimal.", "id": 147064, "time": "2011-06-13T16:03:37Z", "creator": "markt@apache.org", "creation_time": "2011-06-13T16:03:37Z", "attachment_id": null}, {"count": 2, "text": "Mark,\n\nThis isn't a matter of overhead. It's a matter of convenience. By providing a single management interface for multiple webapps you could enhance productivity that is not possible by using separate Tomcat instances today.\n\nFor example: when a user asks to reload a webapp, you could preload Tomcat-minus-webapp sitting idle in the background. When the reload requests come in you simply shut down the old JVM and load the new webapp into the waiting JVM. If I were to implement this today the act of shutting down an instance and relaunching it serially would take a lot longer (and thereby reduce development productivity).\n\nWhat do you think?", "creator": "cowwoc@bbs.darktech.org", "attachment_id": null, "id": 147065, "time": "2011-06-13T16:18:29Z", "bug_id": 51366, "creation_time": "2011-06-13T16:18:29Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 51366, "is_private": false, "text": "If you don't accept the premise of a full-blown architectural change, is it possible to convert this RFE into a mechanism for reloading the webapps in the manner specified above? It would fix the UnsatisfiedLinkError I mentioned above, memory leak problems that have been plaguing us for years, while maintaining quick reloads.", "id": 147066, "time": "2011-06-13T16:26:20Z", "creator": "cowwoc@bbs.darktech.org", "creation_time": "2011-06-13T16:26:20Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 51366, "attachment_id": null, "text": "(In reply to comment #3)\n> If you don't accept the premise of a full-blown architectural change, is it\n> possible to convert this RFE into a mechanism for reloading the webapps in the\n> manner specified above? It would fix the UnsatisfiedLinkError I mentioned\n> above, memory leak problems that have been plaguing us for years, while\n> maintaining quick reloads.\n\nHave a read of:\nhttp://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Parallel_deployment\n\nIf you want to discuss this, the Users List is the place to do it.", "id": 147067, "time": "2011-06-13T16:54:14Z", "creator": "bugzilla@pidster.com", "creation_time": "2011-06-13T16:54:14Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 51366, "attachment_id": null, "text": "Done: http://old.nabble.com/One-process-per-webapp-to31836121.html", "id": 147068, "time": "2011-06-13T17:29:37Z", "creator": "cowwoc@bbs.darktech.org", "creation_time": "2011-06-13T17:29:37Z", "is_private": false}]