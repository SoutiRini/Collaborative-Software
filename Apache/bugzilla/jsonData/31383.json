[{"count": 0, "attachment_id": null, "bug_id": 31383, "text": "I added support for certificate validation through OCSP, where the OCSP server\nURI is contained in the certificate itself (following the X.509 standard).\n\nThe check is optional.\nThere is also a parameter to decide if the authentication fails or not when the\nserver cannot be reached.\n\nThe code allows conditional compilation (full code enclosed in #ifdef).\n\nThis was developed for the Belgium Government and distributed publicly from may\n2004. No bug has been reported since.\n\nThe code supports a proxy, although the option was not added in the config file\nAnother option in the config file could be to use a specified URI in case it is\nnot present in the certificate.\nAnother", "id": 64094, "time": "2004-09-23T09:39:06Z", "creator": "marc.stern@approach.be", "creation_time": "2004-09-23T09:39:06Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 12845\nPatch + new files", "is_private": false, "id": 64095, "creator": "marc.stern@approach.be", "time": "2004-09-23T09:47:10Z", "bug_id": 31383, "creation_time": "2004-09-23T09:47:10Z", "attachment_id": 12845}, {"count": 2, "tags": [], "text": "Thanks for the contribution, Marc.  A few meta-comments:\n\n1) please attach the source files and patches as-is rather than in a zip file\n\n2) please try and stick to the correct code style:\nhttp://httpd.apache.org/dev/styleguide.html\n\n3) ideally the patch should be against HEAD, failing that, the latest stable\nrelease (i.e. without the unnecessary FakeBasicAuth fixes already in the tree)\n\nFrom actual review:\n\na) I'd put the ssl_ocsp.h stuff straight into mod_ssl.h (or ssl_private.h for\nHEAD) rather than adding a new header\n\nb) ssl_ocsp_setProxy and the global variables are not OK.  If this needs to be\nconfigurable it should be properly configurable...\n\nc) use of the X509_get_ext/X509V3_EXT_get/X509V3_EXT_d2i form of retrieving\nextensions is not encouraged, AIUI: the correct (and simpler) method is to use\nX509_get_ext_d2i.\n\nd) C++/C99 style comments are not portable \n    // establish a connection to the OCSP responder\n\nI suppose this also needs to be built conditionally on versions of OpenSSL\n(>=0.9.7 ?) which support the OCSP stuff.", "is_private": false, "id": 64255, "creation_time": "2004-09-27T09:01:36Z", "time": "2004-09-27T09:01:36Z", "creator": "jorton@redhat.com", "bug_id": 31383, "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 31383, "is_private": false, "id": 64256, "time": "2004-09-27T09:28:02Z", "creator": "marc.stern@approach.be", "creation_time": "2004-09-27T09:28:02Z", "tags": [], "text": "1) One file per attachment ?\n2) OK\n3) OK, should I wait for 2.0.52 ?\n\na) OK: ssl_private.h seems the place to go\nb) This is only a feature useful for internal tests, it should not be used in\nproduction; otherwise, an option should obviously be necessary.\nc) I'll check that\nd) OK\n\nThis needs OpenSSL 0.9.7; I tested with 0.9.7d\n\nI may not have the possibility to work on this for some time; does somebody want\nto take the ownership of this ?"}, {"count": 4, "tags": [], "creator": "marc.stern@approach.be", "text": "Created attachment 12880\nDiff file", "id": 64311, "time": "2004-09-28T13:27:03Z", "bug_id": 31383, "creation_time": "2004-09-28T13:27:03Z", "is_private": false, "attachment_id": 12880}, {"count": 5, "attachment_id": 12881, "bug_id": 31383, "text": "Created attachment 12881\nOCSP include file: ssl_ocsp.h", "id": 64312, "time": "2004-09-28T13:28:17Z", "creator": "marc.stern@approach.be", "creation_time": "2004-09-28T13:28:17Z", "tags": [], "is_private": false}, {"count": 6, "attachment_id": 12882, "bug_id": 31383, "is_private": false, "id": 64313, "time": "2004-09-28T13:28:58Z", "creator": "marc.stern@approach.be", "creation_time": "2004-09-28T13:28:58Z", "tags": [], "text": "Created attachment 12882\nOCSP source file: ssl_ocsp.c"}, {"count": 7, "tags": [], "creator": "marc.stern@approach.be", "text": "I separated the files - ignore the first attachment (ZIP file).\n\nI corrected the code style.\n\nThe patch is against 2.0.52 (I hope it is HEAD).\n\n\"ssl_ocsp.h\" is still present, because I did not find \"ssl_private.h\".\n\n\"X509_get_ext/X509V3_EXT_get/X509V3_EXT_d2i\" are not yet replaced, because I did\nnot had the time to investigate this yet.\n\nC++/C99 style comments are corrected\n\nI added a pre-processor check to ensure it is compiled with OpenSSL. Maybe is it\npossible to check the version number also ?\n\nI suppose the status has to be be changed by somebody else than me. If I have to\ntake some more actions, please tell it (and apology).", "id": 64315, "time": "2004-09-28T13:43:27Z", "bug_id": 31383, "creation_time": "2004-09-28T13:43:27Z", "is_private": false, "attachment_id": null}, {"count": 8, "attachment_id": 13520, "bug_id": 31383, "text": "Created attachment 13520\nNew OCSP Patch\n\nThis patch is the same as above but with a valid format.\nIt also add 3 directives:\n\nSSLOCSPDefaultResponderURL\nto specify an responder in case certificate don't have one\n\nSSLOCSPForceResponderURL\nto force the responder url :p\n\nSSLOCSPResponderVerify\nActually can be NO_VERIFY and make mod_ssl not verify the answer of responder", "id": 67382, "time": "2004-11-23T10:42:46Z", "creator": "mestrade@apache.org", "creation_time": "2004-11-23T10:42:46Z", "tags": [], "is_private": false}, {"count": 9, "attachment_id": 13521, "bug_id": 31383, "text": "Created attachment 13521\nAdditionnal file for patch 13520\n\nContain all ocsp code", "id": 67383, "time": "2004-11-23T10:44:19Z", "creator": "mestrade@apache.org", "creation_time": "2004-11-23T10:44:19Z", "tags": [], "is_private": false}, {"count": 10, "tags": [], "text": "Closing out, bug 41123 has the most update-to-date patch and there is no need to\nkeep more than one bug open for this feature.\n\n*** This bug has been marked as a duplicate of 41123 ***", "is_private": false, "id": 110322, "creator": "jorton@redhat.com", "time": "2007-11-08T07:00:23Z", "bug_id": 31383, "creation_time": "2007-11-08T07:00:23Z", "attachment_id": null}]