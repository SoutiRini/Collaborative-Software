[{"count": 0, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "text": "see https://issues.apache.org/bugzilla/show_bug.cgi?id=49621", "id": 157630, "time": "2012-04-07T19:14:09Z", "bug_id": 53046, "creation_time": "2012-04-07T19:14:09Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 53046, "attachment_id": null, "id": 157632, "time": "2012-04-07T19:15:31Z", "creator": "gadams@apache.org", "creation_time": "2012-04-07T19:15:31Z", "is_private": false, "text": "*** Bug 49621 has been marked as a duplicate of this bug. ***"}, {"count": 2, "tags": [], "text": "dominik, if you would like to submit a patch that addresses this issue, i will endeavor to apply it asap; otherwise, i will shortly move this to resolved+later due to lack of action", "attachment_id": null, "id": 157824, "creation_time": "2012-04-10T22:22:39Z", "time": "2012-04-10T22:22:39Z", "creator": "gadams@apache.org", "bug_id": 53046, "is_private": false}, {"count": 3, "tags": [], "creator": "dominik.stadler@gmx.at", "attachment_id": null, "text": "I have worked around this via the following helper method which iterates over any image that was used for creating a PDF with FOP and tries to get the related source and closes it.\n\n\tpublic static void cleanupFOAgentImages(final Collection<String> images, final FOUserAgent foUserAgent) {\n\t\tfor(String image : images) {\n\t\t\tif(logger.isLoggable(Level.FINE)) {\n\t\t\t\tlogger.fine(\"Try to remove file: file:///\" + image + \" from FOP image session context.\"); //$NON-NLS-1$ //$NON-NLS-2$\n\t\t\t}\n\n\t\t\tImageSessionContext imageCtx = foUserAgent.getImageSessionContext();\n\t\t\tif(imageCtx instanceof AbstractImageSessionContext) {\n\t\t\t\tAbstractImageSessionContext aImageCtx = (AbstractImageSessionContext)imageCtx;\n\t\t\t\tSource src = aImageCtx.getSource(BaseConstants.FILE_PROTOCOL + image);\n\n\t\t\t\t// use helper method which does the correct close for all types of Source, e.g. StreamSource, ImageSource, ...\n\t\t\t\t// this also handles src==null gracefully.\n\t\t\t\tImageUtil.closeQuietly(src);\n\t\t\t}\n\t\t}\n\t}", "id": 157946, "time": "2012-04-11T15:19:12Z", "bug_id": 53046, "creation_time": "2012-04-11T15:19:12Z", "is_private": false}]