[{"count": 0, "tags": [], "bug_id": 421, "attachment_id": null, "text": "Using apxs from apache 1.3.14 to build mod_jk on\r\nSolaris 8/sparc with gcc 2.95.2 fails:\r\n\r\nlondon-bridge:...src/native/apache1.3:# make -f Makefile.linux OS=solaris APXS=/opt/apache/sbin/apxs\r\n/opt/apache/sbin/apxs -I ../jk -I /usr/java/include -I /usr/java/include/solaris -c -o mod_jk.so mod_jk.c ../jk/jk_ajp12_worker.c ../jk/jk_connect.c ../jk/jk_msg_buff.c ../jk/jk_util.c ../jk/jk_ajp13.c ../jk/jk_jni_worker.c ../jk/jk_pool.c ../jk/jk_worker.c ../jk/jk_ajp13_worker.c ../jk/jk_lb_worker.c ../jk/jk_sockbuf.c  ../jk/jk_map.c ../jk/jk_uri_worker_map.c           \r\ngcc -pipe -DSOLARIS2=270 -DUSE_EXPAT -I../lib/expat-lite -O2 -fPIC -DSHARED_MODULE -I/usr/local/apache/include -I../jk -I/usr/java/include -I/usr/java/include/solaris  -c mod_jk.c\r\nIn file included from ../jk/jk_util.h:66,\r\n                 from mod_jk.c:90:\r\n../jk/jk_pool.h:116: parse error before `jk_pool_atom_t'\r\nmod_jk.c: In function `jk_handler':\r\nmod_jk.c:679: `jk_pool_atom_t' undeclared (first use in this function)\r\nmod_jk.c:679: (Each undeclared identifier is reported only once\r\nmod_jk.c:679: for each function it appears in.)\r\nmod_jk.c:679: parse error before `buf'\r\nmod_jk.c:680: `buf' undeclared (first use in this function)\r\napxs:Break: Command failed with rc=1\r\nmake: *** [mod_jk.so] Error 1\r\n\r\nCode inspections shows that the definition of `jk_pool_atom_t' \r\nis conditional on some CPP macro that shows what the OS is:\r\nclearly on this system, the macro should be SOLARIS, but that\r\nisn't defined anywhere.\r\n\r\napxs however defines a SOLARIS2 macro.", "id": 392, "time": "2001-01-09T11:07:37Z", "creator": "dev@tomcat.apache.org", "creation_time": "2001-01-09T11:07:37Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 421, "text": "\n\n*** This bug has been marked as a duplicate of 1343 ***", "id": 2296, "time": "2001-05-07T08:04:43Z", "creator": "hgomez@slib.fr", "creation_time": "2001-05-07T08:04:43Z", "is_private": false, "attachment_id": null}]