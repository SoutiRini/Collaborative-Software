[{"count": 0, "tags": [], "creator": "J.Gao@isu.usyd.edu.au", "attachment_id": null, "id": 132363, "creation_time": "2009-11-27T22:26:38Z", "time": "2009-11-27T22:26:38Z", "bug_id": 48295, "text": "From Apache documentation:\n\n\"Usage is basically similar to ProxyPassReverse, but instead of rewriting headers that are a URL, this rewrites the path string in Set-Cookie headers.\"\n\nIt does not seem to be the case.\n\nExample:\n\n<Location /sss/>\nProxyHTMLEnable On\nProxyPass http://backend.server/\nProxyPassReverse /\nProxyHTMLURLMap / /sss/\nProxyPassReverseCookiePath / /sss/\n</Location>\n\nThis will rewrite cookie path from backend server's /cgi-bin to /sss/ for the frontend server.\n\nIs this intended behaviour?\n\n\n\nJie", "is_private": false}, {"count": 1, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "id": 132364, "time": "2009-11-28T03:59:59Z", "bug_id": 48295, "creation_time": "2009-11-28T03:59:59Z", "is_private": false, "text": "Post verbatim headers of the bug you're describing."}, {"count": 2, "tags": [], "text": "Script setting the cookie:\n\n#!/usr/bin/perl -w\n\nuse strict;\nuse CGI;\n\nmy $q = new CGI;\n\nmy $cookie_1 = $q->cookie(-name=>'jie_COOKIE_1',\n    -value=>'BEST_COOKIE=chocolatechip',\n    -domain=>'www-dev.xxxxxx.xxx.xx',\n    -path=>'/cgi-bin');\n\nprint $q->header(-cookie=>$cookie_1);\n\n\nprint $q->start_html('My cookie-set.cgi program');\nprint $q->h3('The cookie has been set');\n\nprint $q->end_html;\n-----------------------------------------------------\n\nRunning it directly to the backend server\n\n\nHTTP/1.0 200 OK\nDate: Sun, 29 Nov 2009 01:42:56 GMT\nServer: Apache/2.2.3 (Red Hat)\nSet-Cookie: jie_COOKIE_1=BEST_COOKIE%3Dchocolatechip; domain=xxx.xxx.xxx; path=/cgi-bin\nContent-Type: text/html; charset=ISO-8859-1\nX-Cache: MISS from www-cacheE.xxx.xxx.xx\nX-Cache-Lookup: MISS from www-cacheE.xxx.xxx.xx:8080\nVia: 1.0 www-cacheE.xxx.xxx.xx:8080 (squid/2.6.STABLE5)\nProxy-Connection: close\n\nRunning it on the rp server:\n\nHTTP/1.0 200 OK\nDate: Sun, 29 Nov 2009 01:46:24 GMT\nServer: Apache/2.2.3 (Red Hat)\nContent-Type: text/html; charset=utf-8\nSet-Cookie: jie_COOKIE_1=BEST_COOKIE%3Dchocolatechip; domain=www-dev.xxx.xxx.xx; path=/sss/\nX-Cache: MISS from www-cacheE.xxxx.xxx.xx\nX-Cache-Lookup: MISS from www-cacheE.xxx.xxx.xx:8080\nVia: 1.0 www-cacheE.xxx.xx.xx:8080 (squid/2.6.STABLE5)\nProxy-Connection: close", "attachment_id": null, "bug_id": 48295, "id": 132374, "time": "2009-11-28T17:47:34Z", "creator": "J.Gao@isu.usyd.edu.au", "creation_time": "2009-11-28T17:47:34Z", "is_private": false}, {"count": 3, "tags": [], "text": "Path is defined as the component of the URL up to and including the rightmost slash.  So the path of \"/cgi-bin\" is \"/\".", "is_private": false, "bug_id": 48295, "id": 132375, "time": "2009-11-28T18:33:58Z", "creator": "nick@webthing.com", "creation_time": "2009-11-28T18:33:58Z", "attachment_id": null}, {"count": 4, "tags": [], "text": "I changed the script to set the cookie path to \"/cgi-bin/', but I got the same\nresult from the RP as before.", "is_private": false, "id": 132377, "creator": "J.Gao@isu.usyd.edu.au", "time": "2009-11-28T19:17:34Z", "bug_id": 48295, "creation_time": "2009-11-28T19:17:34Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 48295, "text": "I changed the script to set the cookie path to \"/cgi-bin/', but I got the same\nresult from the RP as before.", "count": 5, "id": 132378, "time": "2009-11-28T19:19:54Z", "creator": "J.Gao@isu.usyd.edu.au", "creation_time": "2009-11-28T19:19:54Z", "is_private": false}, {"count": 6, "attachment_id": null, "creator": "J.Gao@isu.usyd.edu.au", "is_private": false, "id": 132395, "time": "2009-11-29T18:34:50Z", "bug_id": 48295, "creation_time": "2009-11-29T18:34:50Z", "tags": [], "text": "From rfc 2965:\n\nPath    Defaults to the path of the request URL that generated the\n           Set-Cookie2 response, up to and including the right-most /."}, {"count": 7, "tags": [], "text": "*** Bug 48312 has been marked as a duplicate of this bug. ***", "attachment_id": null, "bug_id": 48295, "id": 132489, "time": "2009-11-30T16:02:01Z", "creator": "J.Gao@isu.usyd.edu.au", "creation_time": "2009-11-30T16:02:01Z", "is_private": false}, {"count": 8, "tags": [], "text": "Note that due to a data loss on 26/27 Nov 2009 the issue that was originally created as bug 48295 was lost. It has been re-created as bug 48306.", "is_private": false, "id": 132510, "creator": "markt@apache.org", "time": "2009-11-30T16:46:36Z", "bug_id": 48295, "creation_time": "2009-11-30T16:46:36Z", "attachment_id": null}]