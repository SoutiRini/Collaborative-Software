[{"count": 0, "tags": [], "creator": "fitness_mania@yahoo.com", "text": "Tomcat 6.0.20 does not include imports from included JSP, i.e.,\n- JSP A includes JSP B.\n- JSP B has some page imports\n\nResult: JSP A is not able to see page imports imported in JSP B - the page imports imported in JSP B are not imported on JSP A generated class file.\n\nExpected Result: JSP A is able to see page imports imported in JSP B\n\nThis worked in Tomcat 6.0.18.", "id": 127668, "time": "2009-06-04T19:21:41Z", "bug_id": 47318, "creation_time": "2009-06-04T19:21:41Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 47318, "text": "please attach an example which reproduces this situation. I was unable to reproduce in a very simplistic setting.", "id": 127671, "attachment_id": null, "creator": "funkman@joedog.org", "creation_time": "2009-06-05T04:32:53Z", "time": "2009-06-05T04:32:53Z", "is_private": false}, {"count": 2, "attachment_id": 23763, "bug_id": 47318, "is_private": false, "id": 127677, "time": "2009-06-05T08:46:05Z", "creator": "fitness_mania@yahoo.com", "creation_time": "2009-06-05T08:46:05Z", "tags": [], "text": "Created attachment 23763\ninclude-prelude sample\n\nI forgot to mention that this happened when using JSP include-prelude. I did not try include-coda though.\n\nI have attached a sample."}, {"count": 3, "attachment_id": null, "bug_id": 47318, "is_private": false, "id": 127682, "time": "2009-06-05T11:53:30Z", "creator": "funkman@joedog.org", "creation_time": "2009-06-05T11:53:30Z", "tags": [], "text": "It seems like this might be the culprit:\n\nhttp://svn.apache.org/viewvc?view=rev&revision=708165\n\nThis does look a little serious since its convenient to stick directives into a include-prelude so that all (or a group) of files can all get the same directives.\n\nAlso moving status back to new - since the attached patch does reproduce the issue."}, {"count": 4, "tags": [], "creator": "markt@apache.org", "text": "I'll take a look.", "id": 127686, "time": "2009-06-05T13:59:28Z", "bug_id": 47318, "creation_time": "2009-06-05T13:59:28Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 47318, "attachment_id": null, "text": "Yep, that patch was the culprit although a little indirectly.\n\nIt has been fixed in trunk and the patch proposed for 6.0.x. I've also added it to the 5.5.x back port", "id": 127698, "time": "2009-06-05T16:49:32Z", "creator": "markt@apache.org", "creation_time": "2009-06-05T16:49:32Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 47318, "text": "Created attachment 23775\nwebapp with tag files fail\n\nThe same war file as previous attached with the new use case where tag file fail\n\nNow fails with\njavax.servlet.error.exception: java.lang.RuntimeException: org.apache.jasper.JasperException: ...  <%@ page directive cannot be used in a tag file", "id": 127736, "attachment_id": 23775, "creator": "funkman@apache.org", "creation_time": "2009-06-08T06:07:38Z", "time": "2009-06-08T06:07:38Z", "is_private": false}, {"count": 7, "tags": [], "text": "Created attachment 23781\nPatch for jasper \n\nHere is a patch derived from 6.0.x [https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk ]\n\nChanged files are \n - java/org/apache/jasper/compiler/ParserController.java\n - java/org/apache/jasper/compiler/Compiler.java\n\nIt works on both test cases attached to the bug as well as some other code I have locally. Placing here instead of committing to trunk since this is my first dive into jasper.", "is_private": false, "id": 127767, "creator": "funkman@apache.org", "time": "2009-06-09T10:08:14Z", "bug_id": 47318, "creation_time": "2009-06-09T10:08:14Z", "attachment_id": 23781}, {"count": 8, "attachment_id": null, "bug_id": 47318, "is_private": false, "id": 127785, "time": "2009-06-10T05:33:15Z", "creator": "markt@apache.org", "creation_time": "2009-06-10T05:33:15Z", "tags": [], "text": "Better fix is now in trunk and proposed for 6.0.x. I went for a patch that kept the changes in parser."}, {"count": 9, "tags": [], "bug_id": 47318, "text": "This has been fixed in 6.0.x and will be included in 6.0.21 onwards.", "id": 127924, "attachment_id": null, "creator": "markt@apache.org", "creation_time": "2009-06-12T15:43:47Z", "time": "2009-06-12T15:43:47Z", "is_private": false}, {"count": 10, "attachment_id": null, "bug_id": 47318, "is_private": false, "id": 128479, "time": "2009-07-02T05:02:54Z", "creator": "markt@apache.org", "creation_time": "2009-07-02T05:02:54Z", "tags": [], "text": "*** Bug 47466 has been marked as a duplicate of this bug. ***"}]