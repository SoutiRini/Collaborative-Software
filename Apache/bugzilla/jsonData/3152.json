[{"count": 0, "tags": [], "text": "I have a jsp file which has a form which contains a text field and a link. When \nthe link is clicked a pop-up window, which is another jsp page, is opened thru \na servlet and the form on the 1st jsp is submitted.\n\nThe service method of the servlet is as shown below:\n\npublic class test extends HttpServlet\n{\n\n    /**\n     ** init(): overiding method from parent class\n     ** @return:  void\n    **/\n    public void init() throws ServletException\n    {\n\n    }\n\n     /**\n      ** handleRequest: This is implementation of the abstract process from \nBaseServlet\n      ** All the exceptions are caught here.\n      ** @param request The servlet request we are processing\n      ** @return\n     **/\n     public void service(HttpServletRequest request, HttpServletResponse \nresponse) throws ServletException,IOException\n     {\n         String _action = request.getParameter(\"action\");\n\n         System.out.println(\"The action is: \"+_action);\n\n         try\n         {\n\t\t\t   RequestDispatcher _rd = getServletConfig\n().getServletContext().getRequestDispatcher(\"test.jsp\");\n\t\t\t   _rd.forward(request, response);\n         }\n         catch(IOException e)\n         {\n           throw new ServletException(e);\n         }\n\n     }\n\n}\n\nwhen i enter a string starting with a % followed by a character (eg: %g) the \nwhole thing works fine (i.e. the form is submitted and the popup window appears.\nBut if i enter a % followed by 2 characters (eg: %gg) then i get the following \nerror:\n\nInternal Servlet Error:\n\njava.lang.IllegalArgumentException: Decode error \n\tat org.apache.tomcat.util.RequestUtil.unUrlDecode(RequestUtil.java:346)\n\tat org.apache.tomcat.util.RequestUtil.processFormData\n(RequestUtil.java:233)\n\tat org.apache.tomcat.core.RequestImpl.handleParameters\n(RequestImpl.java:714)\n\tat org.apache.tomcat.core.RequestImpl.getParameterValues\n(RequestImpl.java:259)\n\tat org.apache.tomcat.core.RequestImpl.getParameter(RequestImpl.java:250)\n\tat org.apache.tomcat.facade.HttpServletRequestFacade.getParameter\n(HttpServletRequestFacade.java:223)\n\tat com.cisco.finadm.common.test.service(test.java:57)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.tomcat.core.ServletWrapper.doService\n(ServletWrapper.java:405)\n\tat org.apache.tomcat.core.Handler.service(Handler.java:287)\n\tat org.apache.tomcat.core.ServletWrapper.service\n(ServletWrapper.java:372)\n\tat org.apache.tomcat.core.ContextManager.internalService\n(ContextManager.java:797)\n\tat org.apache.tomcat.core.ContextManager.service\n(ContextManager.java:743)\n\tat \norg.apache.tomcat.service.http.HttpConnectionHandler.processConnection\n(HttpConnectionHandler.java:213)\n\tat org.apache.tomcat.service.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:416)\n\tat org.apache.tomcat.util.ThreadPool$ControlRunnable.run\n(ThreadPool.java:501)\n\tat java.lang.Thread.run(Thread.java:484)", "is_private": false, "id": 4612, "creation_time": "2001-08-16T22:21:44Z", "time": "2001-08-16T22:21:44Z", "creator": "pjpk_pes@yahoo.com", "bug_id": 3152, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 3152, "attachment_id": null, "id": 4841, "time": "2001-08-25T09:59:26Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-08-25T09:59:26Z", "is_private": false, "text": "Well, of course - '%' is not allowed in URLs ( except for encoding ), you must \nencode it ( using %?? - I don't remember the hex code, read the URL RFC ).\n"}]