[{"attachment_id": null, "tags": [], "creator": "patrick@qantel.com", "is_private": false, "count": 0, "id": 65371, "time": "2004-10-20T17:19:55Z", "bug_id": 31806, "creation_time": "2004-10-20T17:19:55Z", "text": "ApplicationContext.getResource throws a MalformedURLException when paths start \nwith a back-slash.  Unfortunately, UNCs use a backslash.  In fact, \ncontext.getRealPath(\"\") returns a path with a back-slash.\n\n        if (path == null || !path.startsWith(\"/\")) {\n            throw new MalformedURLException(sm.getString\n(\"applicationContext.requestDispatcher.iae\", path));\n        }\n\njava.net.MalformedURLException: Path \n\\\\serverpath\\webapp\\webappname\\config/uaprofValidatorConfig.xml does not start \nwith a \"/\" character\n\tat org.apache.catalina.core.ApplicationContext.getResource\n(ApplicationContext.java:469)\n\tat org.apache.catalina.core.ApplicationContextFacade.getResource\n(ApplicationContextFacade.java:176)\n\tat org.apache.cocoon.environment.http.HttpContext.getResource\n(HttpContext.java:99)\n\tat \norg.apache.cocoon.components.deli.DeliImpl$CocoonServletContext.getResource\n(DeliImpl.java:254)\n\tat com.hp.hpl.deli.Workspace.getResource(Workspace.java:473)\n\tat com.hp.hpl.deli.Workspace.getInputSource(Workspace.java:439)\n\tat com.hp.hpl.deli.DatatypeExpression.<init>\n(DatatypeExpression.java:38)\n\tat com.hp.hpl.deli.Workspace$1$CreateWorkspace.<init>\n(Workspace.java:204)\n\tat com.hp.hpl.deli.Workspace.configure(Workspace.java:367)\n\tat org.apache.cocoon.components.deli.DeliImpl.initialize\n(DeliImpl.java:147)\n\tat org.apache.avalon.framework.container.ContainerUtil.initialize\n(ContainerUtil.java:282)\n\tat \norg.apache.avalon.excalibur.component.DefaultComponentFactory.newInstance\n(DefaultComponentFactory.java:313)\n\tat \norg.apache.avalon.excalibur.component.ThreadSafeComponentHandler.initialize\n(ThreadSafeComponentHandler.java:143)\n\tat \norg.apache.avalon.excalibur.component.ExcaliburComponentManager.initialize\n(ExcaliburComponentManager.java:558)\n\tat org.apache.cocoon.components.CocoonComponentManager.initialize\n(CocoonComponentManager.java:547)\n\tat org.apache.avalon.framework.container.ContainerUtil.initialize\n(ContainerUtil.java:282)\n\tat org.apache.cocoon.Cocoon.initialize(Cocoon.java:340)\n\tat org.apache.avalon.framework.container.ContainerUtil.initialize\n(ContainerUtil.java:282)\n\tat org.apache.cocoon.servlet.CocoonServlet.createCocoon\n(CocoonServlet.java:1371)\n\tat org.apache.cocoon.servlet.CocoonServlet.init(CocoonServlet.java:514)\n\tat org.apache.catalina.core.StandardWrapper.loadServlet\n(StandardWrapper.java:1029)\n\tat org.apache.catalina.core.StandardWrapper.load\n(StandardWrapper.java:862)\n\tat org.apache.catalina.core.StandardContext.loadOnStartup\n(StandardContext.java:4013)\n\tat org.apache.catalina.core.StandardContext.start\n(StandardContext.java:4357)\n\tat org.apache.catalina.core.ContainerBase.addChildInternal\n(ContainerBase.java:823)\n\tat org.apache.catalina.core.ContainerBase.addChild\n(ContainerBase.java:807)\n\tat org.apache.catalina.core.StandardHost.addChild\n(StandardHost.java:595)\n\tat org.apache.catalina.core.StandardHostDeployer.addChild\n(StandardHostDeployer.java:903)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.commons.beanutils.MethodUtils.invokeMethod\n(MethodUtils.java:216)\n\tat org.apache.commons.digester.SetNextRule.end(SetNextRule.java:256)\n\tat org.apache.commons.digester.Rule.end(Rule.java:276)\n\tat org.apache.commons.digester.Digester.endElement(Digester.java:1058)\n\tat org.apache.catalina.util.CatalinaDigester.endElement\n(CatalinaDigester.java:76)\n\tat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown \nSource)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEndElement\n(Unknown Source)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher\n.dispatch(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n\tat org.apache.commons.digester.Digester.parse(Digester.java:1567)\n\tat org.apache.catalina.core.StandardHostDeployer.install\n(StandardHostDeployer.java:488)\n\tat org.apache.catalina.core.StandardHost.install(StandardHost.java:863)\n\tat org.apache.catalina.startup.HostConfig.deployDescriptors\n(HostConfig.java:483)\n\tat org.apache.catalina.startup.HostConfig.deployApps\n(HostConfig.java:427)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:983)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent\n(HostConfig.java:349)\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:119)\n\tat org.apache.catalina.core.ContainerBase.start\n(ContainerBase.java:1091)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:789)\n\tat org.apache.catalina.core.ContainerBase.start\n(ContainerBase.java:1083)\n\tat org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:478)\n\tat org.apache.catalina.core.StandardService.start\n(StandardService.java:480)\n\tat org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2313)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:556)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:287)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:425)"}, {"count": 1, "tags": [], "bug_id": 31806, "text": "What do you propose that should be done ?\n\nThe specification is very clear that the argument for this is a path inside the\nwebapp (so starting with \"/\").", "id": 65372, "time": "2004-10-20T17:26:10Z", "creator": "remm@apache.org", "creation_time": "2004-10-20T17:26:10Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 31806, "text": "Then perhaps the problem is in ApplicationContext.java which returns the \ngetRealPath by using file.getAbsolutePath().  The docbase in my context file \nuses forward-slashes to describe the path (//serverpath/webapp/webappname).  \nIf the specification indicates that a forward-slash should be used, then \ngetRealPath should not be using getAbsolutePath, which returns a path with a \nback-slash.\n\n        File file = new File(basePath, path);\n        return (file.getAbsolutePath());\n", "count": 2, "id": 65373, "time": "2004-10-20T17:55:39Z", "creator": "patrick@qantel.com", "creation_time": "2004-10-20T17:55:39Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 31806, "text": "I do not understand what you mean at all. There is of course no relation between\ngetResource and getRealPath. I recommend that you think over your report, and\ncome up with something stated clearly if you really believe there's something wrong.", "id": 65374, "time": "2004-10-20T18:02:22Z", "creator": "remm@apache.org", "creation_time": "2004-10-20T18:02:22Z", "is_private": false, "attachment_id": null}]