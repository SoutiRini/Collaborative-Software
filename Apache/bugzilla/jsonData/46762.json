[{"count": 0, "tags": [], "bug_id": 46762, "text": "Created attachment 23302\nConfig.log of apache-2.2.11\n\nI ran into error while compiling apache-2.2.11.\nError message: Error, SSL/TLS libraries were missing or unusable\nHere are the last lines before the error (details see config.log):\n\nchecking openssl/engine.h usability... yes\nchecking openssl/engine.h presence... yes\nchecking for openssl/engine.h... yes\nchecking for SSLeay_version... no\nchecking for SSL_CTX_new... no\nchecking for ENGINE_init... no\nchecking for ENGINE_load_builtin_engines... no\nchecking for SSL_set_cert_store... no\nconfigure: error: ... Error, SSL/TLS libraries were missing or unusable\n\nIn the config.log, you can see that ld gets an error while checking SSLeay_version:\nconfigure:15034: checking for SSLeay_version\nconfigure:15090: gcc -o conftest  -g -O2 -pthread  -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -D_LARGEFILE64_SOURCE -I/www/jamba/src/openssl-0.9.8j/include   -L/www/hans/src/openssl-0.9.8j/lib conftest.c  -lm -lssl -lcrypto -lrt\n-lcrypt -lpthread -ldl >&5\n/usr/bin/ld: cannot find -lssl\ncollect2: ld returned 1 exit status\n\nBut in apache-2.2.9 this works without errors:\nconfigure:15062: checking for SSLeay_version in -lcrypto\nconfigure:15097: gcc -o conftest  -g -O2 -pthread  -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -D_LARGEFILE64_SOURCE   -L/www/hans/src/openssl-0.9.8j conftest.c -lcrypto   -lm  -lrt -lcrypt  -lpthread -ldl >&5\nconfigure:15104: $? = 0\nconfigure:15125: result: yes\n\nInstalling the Debian package \"libssl-dev\" will fix that, but this should also work with openssl source package.\n\nIt seems that the path to openssl source generally works:\nconfigure:14916: gcc -c  -g -O2 -pthread  -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -D_LARGEFILE64_SOURCE -I/www/hans/src/openssl-0.9.8j/include conftest.c >&5\nconfigure:14923: $? = 0\n\nIn the attachment, you can find the config.log of apache-2.2.9 (config.log_2.2.9) and apache-2.2.11 (config.log_2.2.9).\n\nThanks..", "id": 125121, "time": "2009-02-24T04:38:35Z", "creator": "fherzberg@gmx.de", "creation_time": "2009-02-24T04:38:35Z", "is_private": false, "attachment_id": 23302}, {"count": 1, "tags": [], "bug_id": 46762, "text": "Created attachment 23303\nconfig.log of apache-2.2.9", "id": 125122, "time": "2009-02-24T04:39:25Z", "creator": "fherzberg@gmx.de", "creation_time": "2009-02-24T04:39:25Z", "is_private": false, "attachment_id": 23303}, {"attachment_id": null, "tags": [], "creator": "fherzberg@gmx.de", "is_private": false, "count": 2, "id": 125180, "time": "2009-02-26T04:14:42Z", "bug_id": 46762, "creation_time": "2009-02-26T04:14:42Z", "text": "Ok, i found the error.\nSetting the following environment variables fix this issuee:\n\nexport LD_LIBRARY_PATH=\"/www/hans/src/openssl-0.9.8j/\"\nexport LIBS=\"-L/www/hans/src/openssl-0.9.8j\"\nexport CPPFLAGS=\"-I/www/hans/src/openssl-0.9.8j/include/openssl\""}, {"count": 3, "text": "Thanks for the update. Do you think this problem could have been prevented by some improvement in the documentation, and if so, what would you suggest?", "bug_id": 46762, "is_private": false, "id": 125186, "time": "2009-02-26T05:04:44Z", "creator": "poirier@pobox.com", "creation_time": "2009-02-26T05:04:44Z", "tags": [], "attachment_id": null}, {"count": 4, "text": "I don't think that this have to be updated in the documentation.\nstange is, that apache-2.2.9 is able compile without setting this variables while apache-2.2.11 is failed.\n\nIt seems that the style of checking the SSLeay_version is the reason for that.\nIn Version 2.2.9 it was checked by\ngcc -o conftest  -g -O2 -pthread  -DLINUX=2 -D_REENTRANT\n-D_GNU_SOURCE -D_LARGEFILE64_SOURCE   -L/www/hans/src/openssl-0.9.8j conftest.c\n-lcrypto   -lm  -lrt -lcrypt  -lpthread -ldl >&5\n\nIn Version 2.2.11 it is checked by:\ngcc -o conftest  -g -O2 -pthread  -DLINUX=2 -D_REENTRANT\n-D_GNU_SOURCE -D_LARGEFILE64_SOURCE -I/www/jamba/src/openssl-0.9.8j/include  \n-L/www/hans/src/openssl-0.9.8j/lib conftest.c  -lm -lssl -lcrypto -lrt\n-lcrypt -lpthread -ldl >&5\n\nPossible solution could be to check this without -lssl Flag, which cause this error.\n\nAnother solution is, to set these variables in configure Script, because the Path to ssl will pass through the --with-ssl Parameter", "bug_id": 46762, "is_private": false, "id": 125189, "time": "2009-02-26T07:09:30Z", "creator": "fherzberg@gmx.de", "creation_time": "2009-02-26T07:09:30Z", "tags": [], "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 46762, "text": "Will this be modified in the next Version of Apache?", "id": 125611, "time": "2009-03-18T03:41:47Z", "creator": "fherzberg@gmx.de", "creation_time": "2009-03-18T03:41:47Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 46762, "text": "This bug still occur during configure of apache 2.2.25 with openssl 1.0.1e. I've read from google search that you can solve this bug by using this environment:\n\n# LDFLAGS=\"-ldl\" ./configure [...]", "id": 170116, "time": "2013-09-16T08:39:46Z", "creator": "tomofumi@nameinn.com", "creation_time": "2013-09-16T08:39:46Z", "is_private": false, "attachment_id": null}]