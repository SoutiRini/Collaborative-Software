[{"count": 0, "tags": [], "bug_id": 30957, "text": "I'm writing a Hello World custom tag. It works perfectely if my tag class is \nin a package, but it doesn't if not.\n\n---------------------------------------\nHere is the JSP\n\n<%@ taglib uri=\"/WEB-INF/petstore.tld\" prefix=\"hy\" %>\n\n<html>\n    <body>\n        <hy:hello/>\n    </body>\n</html>\n\n\n---------------------------------------\nHere is the tag class\n\nimport java.io.*;\nimport javax.servlet.jsp.tagext.*;\nimport javax.servlet.jsp.JspException;\nimport javax.servlet.jsp.JspWriter;\n\npublic class HelloTag extends SimpleTagSupport {\n\n    public void doTag() throws JspException, IOException {\n        JspWriter out = getJspContext().getOut();\n        out.println(\"Hello PetStore !!!\");\n    }\n}\n\n---------------------------------------\nHere is the tld class\n\n<?xml version=\"1.0\"?>\n\n<taglib xmlns=\"http://java.sun.com/xml/ns/j2ee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee web-\njsptaglibrary_2_0.xsd\"\n    version=\"2.0\">\n    \n    <tlib-version>1.0</tlib-version>\n    <jsp-version>2.0</jsp-version>\n    <short-name>Herong's Tag Library</short-name>\n    <tag>\n        <name>hello</name>\n        <tag-class>HelloTag</tag-class>\n        <body-content>empty</body-content>\n    </tag>\n</taglib>\n\n---------------------------------------\nHere is the exception (sorry french browser)\n\norg.apache.jasper.JasperException: Impossible de compiler la classe pour la JSP\n\nUne erreur s'est produite \u00e0 la ligne: 5 dans le fichier jsp: /hello.jsp\nErreur de servlet g\u00e9n\u00e9r\u00e9e:\nD:\\Java\\jakarta-tomcat-5.0.27\n\\work\\Catalina\\localhost\\petstore\\org\\apache\\jsp\\hello_jsp.java:74: cannot \nresolve symbol\nsymbol  : class HelloTag \nlocation: class org.apache.jsp.hello_jsp\n    HelloTag _jspx_th_hy_hello_0 = new HelloTag();\n    ^\n\n\nUne erreur s'est produite \u00e0 la ligne: 5 dans le fichier jsp: /hello.jsp\nErreur de servlet g\u00e9n\u00e9r\u00e9e:\nD:\\Java\\jakarta-tomcat-5.0.27\n\\work\\Catalina\\localhost\\petstore\\org\\apache\\jsp\\hello_jsp.java:74: cannot \nresolve symbol\nsymbol  : class HelloTag \nlocation: class org.apache.jsp.hello_jsp\n    HelloTag _jspx_th_hy_hello_0 = new HelloTag();\n                                       ^\n2 errors\n\n\n\n\torg.apache.jasper.compiler.DefaultErrorHandler.javacError\n(DefaultErrorHandler.java:84)\n\torg.apache.jasper.compiler.ErrorDispatcher.javacError\n(ErrorDispatcher.java:332)\n\torg.apache.jasper.compiler.Compiler.generateClass(Compiler.java:412)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:472)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:451)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:439)\n\torg.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:511)\n\torg.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:295)\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:292)\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\n---------------------------------------\nNow if you just move the HelloTag class to a package, it works fine", "id": 62835, "time": "2004-08-31T09:40:09Z", "creator": "a.goncal@caramail.com", "creation_time": "2004-08-31T09:40:09Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 30957, "text": "It is a standard feature of Java that classes to be used by other code have to be in a package.\n\n\"Put your class in a package like a good boy\" :-)", "id": 62846, "time": "2004-08-31T13:15:53Z", "creator": "ian988@darwinsys.com", "creation_time": "2004-08-31T13:15:53Z", "tags": [], "is_private": false}]