[{"count": 0, "tags": [], "bug_id": 21975, "attachment_id": null, "text": "I am using mod_rewrite to map username's last names to their row_id in my\nperson database. The Perl script I am using to do this *works* I have\ntested it. I try to follow the KISS design philosphy.\n\nexample I/O session with this script: # ./facmap.pl\nuserlastname<ENTER>\n53\n\nIt spits out the row_id if it gets a valid last name.\n\nNow I am using RewriteMap prg: to get this mapping in Apache as follows:\n\nRewriteMap faculty_map prg:/usr/local/bin/facmap.pl\n\nRewriteRule ^/faculty/([^/]*)(/*.*) /webdir/fp$2?id=${faculty_map:$1} [L]\n\nThis *works*!  I know it does. I have seen it! :)\n\nNow, the problem is that it *stops* *working*! After a certain amount of\ntime, the map gets munged. I have to restart or reload or graceful apache\nto get the map working properly again!\n\nThings I do know:\n  * The perl script works on its own.\n  * The rewrite rules are doing waht I want them to do when I first start\nApache\n  * I upgraded the server software recently as follows:\n    * Apache 1.3.23 -> 1.3.27\n    * PHP 4.3.1 -> 4.3.2\n    * MySQL 3.23.23 (?) -> 2.23.56\n    * RHL 7.2 -> RHL9\n    I mention these upgrades because I had the same basic rewrite rules\nbefore the upgrade and they never seemd to get munged.\n  * I tried adding a RewriteLock directive but it did not seem to help.\n\nThings I do NOT know:\n  * How much time passes before the problem occurs. * *what* is causing\n  the problem\n  * How to get the system to log this problem ( I tried bumping up the\nRewriteLogLevel to 2 and 3 but this did not seem to capture the event).\n\nThanks!", "id": 41725, "time": "2003-07-29T17:39:59Z", "creator": "jeffrey@jhu.edu", "creation_time": "2003-07-29T17:39:59Z", "is_private": false}, {"count": 1, "tags": [], "text": "What do you mean with \"stops working\"? doesn't respond anymore? Returns wrong data?", "attachment_id": null, "id": 45130, "creator": "nd@perlig.de", "time": "2003-10-06T09:55:18Z", "bug_id": 21975, "creation_time": "2003-10-06T09:55:18Z", "is_private": false}, {"count": 2, "attachment_id": null, "creator": "nd@perlig.de", "text": "Maybe it is related to Bug 14453?", "id": 45133, "time": "2003-10-06T10:01:22Z", "bug_id": 21975, "creation_time": "2003-10-06T10:01:22Z", "tags": [], "is_private": false}, {"count": 3, "attachment_id": null, "creator": "tobia.caneschi@register.it", "text": "yes, is the same bug.", "id": 45137, "time": "2003-10-06T10:16:26Z", "bug_id": 21975, "creation_time": "2003-10-06T10:16:26Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "creator": "nd@perlig.de", "text": "Well, then I'll link this report to the other one. After the missing vote for\nbackport into the stable branches the fix will be done.\n\nThanks.\n\n*** This bug has been marked as a duplicate of 14453 ***", "id": 45138, "time": "2003-10-06T10:18:54Z", "bug_id": 21975, "creation_time": "2003-10-06T10:18:54Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 21975, "attachment_id": null, "text": "We are using Apache/2.2.4, but we are still facing the same problem. Basically what happens is that user A starts, getting pages asked by user B. The same problem was faced by another user and is mentioned at: http://www.pubbs.net/httpd/200810/23667/\n\nThanks!", "id": 130256, "time": "2009-09-09T11:33:04Z", "creator": "ssinghi@kreeti.com", "creation_time": "2009-09-09T11:33:04Z", "is_private": false}, {"count": 6, "tags": [], "creator": "mss@apache.org", "attachment_id": null, "id": 145159, "time": "2011-03-21T11:11:16Z", "bug_id": 21975, "creation_time": "2011-03-21T11:11:16Z", "is_private": false, "text": "This bug was originally reported against Apache HTTP Server 1.3 and marked as FIXED/DUPLICATE of bug 14453.  The reopening comment 5 and the referred post seem to point to a different bug with RewriteLock.  If this bug is still reproducible in a recent version, please open a new bug so we can keep track of it."}]