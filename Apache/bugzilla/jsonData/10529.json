[{"count": 0, "tags": [], "text": "Configuration:\nSolaris 8 64-bit kernel, GCC 3.1 32-bit\n\n% uname -a\nSunOS talishman 5.8 Generic sun4u sparc SUNW,Ultra-30\n% gcc -v\nReading specs from /usr/local/lib/gcc-lib/sparc-sun-solaris2.8/3.1/specs\nConfigured with: ./configure\nThread model: posix\ngcc version 3.1\n% sudo ./httpd -V\nServer version: Apache/2.0.39\nServer built:   Jul  7 2002 03:04:37\nServer's Module Magic Number: 20020612:1\nArchitecture:   32-bit\nServer compiled with....\n -D APACHE_MPM_DIR=\"server/mpm/prefork\"\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6\n -D APR_USE_PROC_PTHREAD_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D HTTPD_ROOT=\"/usr/local/apache2\"\n -D SUEXEC_BIN=\"/usr/local/apache2/bin/suexec\"\n -D DEFAULT_PIDLOG=\"logs/httpd.pid\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_LOCKFILE=\"logs/accept.lock\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D AP_TYPES_CONFIG_FILE=\"conf/mime.types\"\n -D SERVER_CONFIG_FILE=\"conf/httpd.conf\"\n\nCompile options: \"CC=gcc ./configure\".\n\nWhen I start Apache2 from either httpd or apachectl, it reads the \nconfiguration file, binds to port 80, then locks up.  Connections are accepted \non port 80, but nothing is sent back.  All files are on local disk (not an NFS \nissue as suggested by the FAQ).  Other pthread programs appear to run fine on \nthe machine, including LWP-bound ones.  Nothing is written to the error logs \nand -X mode doesn't display anything.\n\nTruss output:\n...\nsetsockopt(3, 65535, 4, 0xFFBEF0EC, 4, 1)       = 0\nsetsockopt(3, 65535, 8, 0xFFBEF0EC, 4, 1)       = 0\nsetsockopt(3, 6, 1, 0xFFBEF0E4, 4, 1)           = 0\nbind(3, 0x0009252C, 32, 3)                      = 0\nlisten(3, 511, 1)                               = 0\npipe()                                          = 5 [6]\nfcntl(5, F_GETFL, 0x00000000)                   = 2\nfstat64(5, 0xFFBEF078)                          = 0\nfstat64(5, 0xFFBEF078)                          = 0\nfcntl(5, F_SETFL, 0x00000082)                   = 0\nbrk(0x001149F8)                                 = 0\nbrk(0x001169F8)                                 = 0\nlwp_sema_wait(0x0008C820)       (sleeping...)\nsignotifywait()                 (sleeping...)\ndoor_return(0x00000000, 0, 0x00000000, 0) (sleeping...)\nlwp_cond_wait(0xFEFC55B0, 0xFEFC55C0, 0xFEF73C48) (sleeping...)", "is_private": false, "bug_id": 10529, "id": 19091, "time": "2002-07-07T07:59:55Z", "creator": "mailings@happie.com", "creation_time": "2002-07-07T07:59:55Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "This is the same bug as listed in this email:\n\nhttp://citadelle.intrinsec.com/mailing/current/HTML/ml_apache-server-\nbugs/0981.html\n\nBasically, for Solaris you always need to Bind to 0.0.0.0:80 or Apache will \ntry and lookup \"::\" as an IPv6 address, which hangs.  Also, I needed to \nspecify the \"Group nobody\" because otherwise Apache was trying to change group \nid to some other (uninitialized?) value and failing.\n\nSeems these should be the default configurations for Solaris.  I can't fathom \nwhy IPv6 would be.\n\n", "attachment_id": null, "bug_id": 10529, "id": 19093, "time": "2002-07-07T10:04:19Z", "creator": "mailings@happie.com", "creation_time": "2002-07-07T10:04:19Z", "is_private": false}]