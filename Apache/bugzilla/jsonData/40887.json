[{"count": 0, "tags": [], "creator": "shrirangm@rediffmail.com", "attachment_id": null, "text": "we need db2jcc_license_cu.jar to connect to DB2 which on linux.  \nNow On my win2k m/c, I browse this file from ANTInstaller using File select & \ncopy it to required lib directory.After that i set my classpath also. Now when \ninstallation progresses it tries to connect to DB2 using sql task.It gives me \nfollwing error:-\n\nS:\\eRefFE\\StreetStation\\dist\\build.xml:199: com.ibm.db2.jcc.b.SqlException: \nThe version of the IBM Universal JDBC driver in use is not licensed for \nconnectivity to QDB2/LINUX databases.\nTo connect to this DB2 server, please obtain a licensed copy of the IBM DB2 \nUniversal Driver for JDBC and SQLJ.\nAn appropriate license file db2jcc_license_*.jar for this target platform must \nbe installed to the application classpath.\nConnectivity to QDB2/LINUX databases is enabled by any of the following license \nfiles: { db2jcc_license_cu.jar, db2jcc_license_cisuz.jar }\n\nError indicationtes that it's not getting mentioned jar file.\nbuild.xml:199 is location of <sql ...> task\n\nThe same Installation runs second time PROPERLY or If i copy this jar file \nMANUALLY into the lib dir.\nSo does copy task keeps handle to jar file engaged ?\nwhy it fails first time and runs second time?\nI tried with specifying <sleep> and <waitFor> options in copy and sql tag \nbut useless.\n\nplease help", "id": 95396, "time": "2006-11-03T06:04:37Z", "bug_id": 40887, "creation_time": "2006-11-03T06:04:37Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 40887, "text": "This is a silly question, but what is ANTInstaller? ", "id": 95397, "time": "2006-11-03T06:09:58Z", "creator": "stevel@apache.org", "creation_time": "2006-11-03T06:09:58Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "j_cumps@yahoo.com", "is_private": false, "count": 2, "id": 95398, "time": "2006-11-03T07:06:44Z", "bug_id": 40887, "creation_time": "2006-11-03T07:06:44Z", "text": "Shirang,\n\nCan you verify that that you create the classpath that includes this jar after \nyou copy the jar to the expected location?\n\nYou can validate this by running ant with the -verbose option (ant -\nverbose ...).\nAnt's output might tell you: dropping db2jcc_license_cu.jar (or \ndb2jcc_license_cisuz.jar ) from path as it doesn't exist.\n"}, {"attachment_id": null, "tags": [], "creator": "jkf@apache.org", "is_private": false, "count": 3, "id": 95425, "time": "2006-11-04T08:26:29Z", "bug_id": 40887, "creation_time": "2006-11-04T08:26:29Z", "text": "Maybe the classpath used is determined before the file is being copied?\n"}, {"count": 4, "tags": [], "bug_id": 40887, "is_private": false, "id": 95450, "creation_time": "2006-11-05T21:21:31Z", "time": "2006-11-05T21:21:31Z", "creator": "shrirangm@rediffmail.com", "text": "Hi all,\nBelow is the code i am using:-\n\n<target name=\"copy.licensejar\">\n <copy todir=\"${installkit.lib.dir}\" file=\"${ai.db2.licensejar}\" \n   verbose=\"true\" overwrite=\"true\" failonerror=\"true\"/>\n <path id=\"project.class.path\">\n  <pathelement location=\"./resources\"/>\n  <fileset dir=\"./installlib/\" includes=\"*.jar\"/>\t\t\t\n </path>\t\t\n <property name=\"project.class.path\" refid=\"project.class.path\"/>\n <echo message=\"the value is :- ${project.class.path}\"/>\n</target>\n<target name=\"verify.database.access\">\n <echo message=\"the project.class.path is :- ${project.class.path}\"/>\n <echo message=\"Check whether database can be reached: ${db.url} \n  userid=${ai.db.username}\"/>\n <sql driver=\"${db.driver.name}\" url=\"${db.url}\" userid=\"${ai.db.username}\" \n  password=\"${ai.db.password}\" onerror=\"abort\">\n  \"select current_timestamp from sysibm.sysdummy1\"\n </sql>\n</target>\n<target name=\"verify.input\" depends=\"copy.licensejar,verify.database.access\"/>\n\n\nMy Installer calls target \"verify.input\" which \ndepepnds on copy.licensejar,verify.database.access targets.\nnow <echo message=\"the project.class.path is :- ${project.class.path}\"/>\nline prints the classpath which inlcudes db2jcc_license_cu.jar also.  \n \t", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 40887, "is_private": false, "text": "You cannot set the project class path from\nwithin the build.xml (or at least not\nwithout a third party classpath antlib)\n\nYou can set the classpath used to load the driver\nfor the sql task by using the classpath or classpath ref\nattributes - so try something like:\n <sql driver=\"${db.driver.name}\" url=\"${db.url}\" userid=\"${ai.db.username}\" \n      classpathref=\"project.class.path\">\n...\n\n", "id": 95786, "time": "2006-11-13T12:01:11Z", "creator": "peterreilly@apache.org", "creation_time": "2006-11-13T12:01:11Z", "attachment_id": null}, {"count": 6, "text": "ping", "bug_id": 40887, "is_private": false, "id": 96713, "time": "2006-12-10T14:33:53Z", "creator": "peterreilly@apache.org", "creation_time": "2006-12-10T14:33:53Z", "tags": [], "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "shrirangm@rediffmail.com", "text": "Hey thanks !!\nI used it already and it was working fine.\n", "count": 7, "id": 96727, "time": "2006-12-10T20:32:31Z", "bug_id": 40887, "creation_time": "2006-12-10T20:32:31Z", "is_private": false}]