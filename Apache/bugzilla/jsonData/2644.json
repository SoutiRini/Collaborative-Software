[{"count": 0, "attachment_id": null, "creator": "vineet_bhatia@ocs.com", "is_private": false, "id": 3743, "time": "2001-07-16T15:47:57Z", "bug_id": 2644, "creation_time": "2001-07-16T15:47:57Z", "tags": [], "text": "Environment - Win2K + java version \"1.3.0_02\" + Ant 1.3\n\nDescription -\nThe jar task fails with a java.util.zip.ZipException: ZIP file must have at \nleast one entry.\n\nTask XML -\n<jar jarfile=\"${some.jar}\" basedir=\"${buildjardir}\">\n  \t<fileset dir=\".\" includes=\"*.class\"/>\n</jar>\n\nException details -\nProblem creating jar: ZIP file must have at least one entry (and the archive is \nprobably corrupt but I could not delete it)\njava.util.zip.ZipException: ZIP file must have at least one entry\n\tat java.util.zip.ZipOutputStream.finish(ZipOutputStream.java:294)\n\tat java.util.zip.ZipOutputStream.close(ZipOutputStream.java:312)\n\tat org.apache.tools.ant.taskdefs.Zip.execute(Zip.java:172)\n\tat org.apache.tools.ant.Target.execute(Target.java:142)\n\tat org.apache.tools.ant.Project.runTarget(Project.java:818)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:532)\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:506)\n\tat org.apache.tools.ant.Main.runBuild(Main.java:420)\n\tat org.apache.tools.ant.Main.main(Main.java:149)"}, {"count": 1, "tags": [], "creator": "conor@apache.org", "is_private": false, "id": 3803, "attachment_id": null, "bug_id": 2644, "creation_time": "2001-07-18T07:15:00Z", "time": "2001-07-18T07:15:00Z", "text": "Are you sure it does have any entries. Can you run ant with -debug and see what \nthe output of the jar task is there."}, {"count": 2, "tags": [], "bug_id": 2644, "text": "Yes. I have class files in ${buildjardir}\nMy guess is that the jar task in Ant 1.3 does'nt work with Java 1.3\nBut, I got the latest from CVS and it works okay with Java 1.3\n\n\n", "id": 3806, "time": "2001-07-18T07:28:26Z", "creator": "vineet_bhatia@ocs.com", "creation_time": "2001-07-18T07:28:26Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 2644, "text": "If there were no files, Ant would complain - or create an empty zip file depending\non the whenempty attribute.\n\nProblem must be different, but as it seems to be fixed in the nightly build, I'll\nmark it resolved.", "id": 3807, "time": "2001-07-18T07:35:28Z", "creator": "bodewig@apache.org", "creation_time": "2001-07-18T07:35:28Z", "is_private": false, "attachment_id": null}]