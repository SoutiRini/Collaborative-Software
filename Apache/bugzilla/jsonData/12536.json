[{"count": 0, "tags": [], "creator": "werner.donne@re.be", "is_private": false, "id": 22688, "creation_time": "2002-09-11T14:48:40Z", "time": "2002-09-11T14:48:40Z", "bug_id": 12536, "text": "For  a SAC_EM LexicalUnit the getDimensionUnitText() method should return \"em\"\ninstead of throwing an IllegalStateException.", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 12536, "attachment_id": null, "is_private": false, "id": 39632, "time": "2003-06-30T09:38:10Z", "creator": "vincent.hardy@sun.com", "creation_time": "2003-06-30T09:38:10Z", "text": "The DimensionLexicalUnit class (see org.apache.batik.css.parser.CSSLexicalUnit)\ndoes return the unit string. Could you check on which CSSLexicalUnit instance\ntype you are getting an exception?"}, {"count": 2, "tags": [], "creator": "vincent.hardy@sun.com", "text": "We can re-open this bug if you provide more information.", "id": 40171, "time": "2003-07-08T14:22:47Z", "bug_id": 12536, "creation_time": "2003-07-08T14:22:47Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "werner.donne@re.be", "is_private": false, "id": 40705, "creation_time": "2003-07-15T09:21:53Z", "time": "2003-07-15T09:21:53Z", "bug_id": 12536, "text": "I use SAC and looking in the source I think a CSSLexicalUnit.FloatLexicalUnit is\ncreated, with type SAC_EM, which extends CSSLexicalUnit. The latter is however\nan abstract class, which contains a number of methods that throw an\nIllegalStateException, among which getDimensionUnitText. These are not\nreimplemented in FloatLexicalUnit.", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 12536, "text": "Ahh, can you please attach a reproducable test case (presumably an SVG file with\na small script) that shows where this excpetion occurs?  Then please reopen\nthe bug.", "count": 4, "id": 41000, "time": "2003-07-20T12:40:20Z", "creator": "deweese@apache.org", "creation_time": "2003-07-20T12:40:20Z", "is_private": false}, {"count": 5, "tags": [], "creator": "werner.donne@re.be", "text": "Created attachment 7408\nTest program with example", "id": 41019, "time": "2003-07-20T20:03:30Z", "bug_id": 12536, "creation_time": "2003-07-20T20:03:30Z", "is_private": false, "attachment_id": 7408}, {"count": 6, "tags": [], "creator": "werner.donne@re.be", "is_private": false, "id": 41020, "creation_time": "2003-07-20T20:08:59Z", "time": "2003-07-20T20:08:59Z", "bug_id": 12536, "text": "The attachment is a test-program. It simply dumps the contents of a CSS file\nwhile parsing. The class be.re.css.TestSAC has a main with the following synopsis:\n\n  java -Dorg.w3c.css.sac.parser=org.apache.batik.css.parser.Parser \\\n    -cp ... be.re.css.TestSAC <URL>\n\nThe accompanying test-file t.css should produce the following stack trace:\n\nException in thread \"main\" java.lang.IllegalStateException\n        at\norg.apache.batik.css.parser.CSSLexicalUnit.getDimensionUnitText(Unknown Source)\n        at be.re.css.Util.lexicalUnitAtom(Util.java:246)\n        at be.re.css.Util.lexicalUnitChain(Util.java:308)\n        at be.re.css.Util.lexicalUnitToString(Util.java:321)\n        at be.re.css.TestSAC$SACWriter.property(TestSAC.java:268)\n        at org.apache.batik.css.parser.Parser.parseStyleDeclaration(Unknown\nSource)\n        at org.apache.batik.css.parser.Parser.parseRuleSet(Unknown Source)\n        at org.apache.batik.css.parser.Parser.parseStyleSheet(Unknown Source)\n        at org.apache.batik.css.parser.Parser.parseStyleSheet(Unknown Source)\n        at be.re.css.TestSAC.main(TestSAC.java:49)\n", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 12536, "text": "This is now fixed in CVS.\nI believe that I implemented correctly however it would be helpful\nif you provided more information in the future if you would \nclarify what the expected behaviour is and reference the specification\n(although the specification is a bit weak as to what is supposed\nto be done here - at first glance getDimensionUnitText might only\nbe used for SAC_DIMENSION).", "count": 7, "id": 41571, "time": "2003-07-26T18:58:57Z", "creator": "deweese@apache.org", "creation_time": "2003-07-26T18:58:57Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 12536, "text": "> I believe that I implemented correctly however it would be helpful\n> if you provided more information in the future if you would \n> clarify what the expected behaviour is and reference the specification\n\nI will see to it.\n\n> (although the specification is a bit weak as to what is supposed\n> to be done here - at first glance getDimensionUnitText might only\n> be used for SAC_DIMENSION).\n\nThe SAC javadoc says the following about the LexicalUnit.getDimensionUnitText:\n\n<<\ngetDimensionUnitText\n\npublic java.lang.String getDimensionUnitText()\n\n    Returns the string representation of the unit.\n\n    if this lexical unit represents a float, the dimension is an empty string.\n\n    See Also:\n        SAC_REAL, SAC_DIMENSION, SAC_EM, SAC_EX, SAC_PIXEL, SAC_INCH,\nSAC_CENTIMETER, SAC_MILLIMETER, SAC_POINT, SAC_PICA, SAC_PERCENTAGE, SAC_DEGREE,\nSAC_GRADIAN, SAC_RADIAN, SAC_MILLISECOND, SAC_SECOND, SAC_HERTZ, SAC_KILOHERTZ\n>>\n\nThat is not a lot, but all the constants in the \"See also\" refer back to the\nmethod. Therefore, my interpretation is that the method may be used for all the\nmentioned constants.", "count": 8, "id": 41625, "time": "2003-07-28T07:50:04Z", "creator": "werner.donne@re.be", "creation_time": "2003-07-28T07:50:04Z", "is_private": false}]