[{"count": 0, "tags": [], "bug_id": 9183, "attachment_id": null, "is_private": false, "id": 16269, "time": "2002-05-16T22:28:07Z", "creator": "danfuzz@milk.com", "creation_time": "2002-05-16T22:28:07Z", "text": "Ant likes JAVA_HOME to be set, but with the following small addition to the\nwrapper script, it can make a reasonable guess about it. I am only familiar\nwith Sun's JDKs, but I imagine that the same general technique can be used to\nfor other vms.\n\noldwd=`pwd`\njpath=`which javac 2>/dev/null`\nif [ -n \"$jpath\" ]; then\n    cd `dirname $jpath`/..\n    if [ -r \"lib/tools.jar\" -o -r \"lib/classes.zip\" ]; then\n        # looks like a Sun JDK\n        JAVA_HOME=`pwd`\n    fi\nfi\ncd $oldwd\n\nThanks for listening.\n\n-dan"}, {"count": 1, "tags": [], "bug_id": 9183, "is_private": false, "text": "I believe you can do even a little better. If your system is setup so that java\nand javac are symlinks from /usr/bin or /usr/local/bin (or wherever), you can do\nthis:\n\njpath=$(realpath `which java`)\n \n(on the systems I've tested this on, jpath points to the file\n$JAVA_HOME/bin/.java_wrapper )", "id": 16364, "time": "2002-05-18T15:40:36Z", "creator": "burner@core.binghamton.edu", "creation_time": "2002-05-18T15:40:36Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "New launcher code now finds JAVA_HOME internally and locates tools.jar if it\ncan. Doing this in the bat/sh files is not required.", "attachment_id": null, "id": 40328, "creator": "conor@apache.org", "time": "2003-07-10T11:33:02Z", "bug_id": 9183, "creation_time": "2003-07-10T11:33:02Z", "is_private": false}]