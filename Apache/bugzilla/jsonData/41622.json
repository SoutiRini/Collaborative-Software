[{"count": 0, "text": "Running apache-ant-1.7.0\\bin\\ant results in the following error message on a\nWindows 2000 Command Shell:\n\nThe syntax of the command is incorrect.\n\nThe cause is:\n:stripAntHome\nif not _%ANT_HOME:~-1%==_\\ goto checkClasspath\nset ANT_HOME=%ANT_HOME:~0,-1%\ngoto stripAntHome", "bug_id": 41622, "is_private": false, "id": 99413, "time": "2007-02-15T04:49:17Z", "creator": "mike.haller@innovations.de", "creation_time": "2007-02-15T04:49:17Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 41622, "attachment_id": null, "text": "Any idea exactly what it is that w2k doesn't like?", "id": 99494, "time": "2007-02-16T09:37:49Z", "creator": "mbenson@apache.org", "creation_time": "2007-02-16T09:37:49Z", "is_private": false}, {"count": 2, "attachment_id": null, "creator": "peterreilly@apache.org", "text": "ping", "id": 100376, "time": "2007-03-14T03:37:30Z", "bug_id": 41622, "creation_time": "2007-03-14T03:37:30Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "mike.haller@innovations.de", "text": "Cannot reproduce any more, probably local problem not related to Ant. Sorry for \ninconvenience.", "id": 100379, "time": "2007-03-14T06:04:15Z", "bug_id": 41622, "creation_time": "2007-03-14T06:04:15Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 41622, "attachment_id": null, "text": "I have the same problem running ant.bat on Win2k. In my case it's the section\n\n:stripClasspath\nif not _%CLASSPATH:~-1%==_\\ goto findAntHome\nset CLASSPATH=%CLASSPATH:~0,-1%\ngoto stripClasspath\n\nwhich causes the trouble.\n\nSince in my case the \"stripAntHome\" section didn't cause any trouble, I checked for the differences and discovered that this error message appears if the variable contains a string with the windows path separator...\n\nI don't know enough about Windows batchfile programming to understand the two lines between the label and the goto command, for now it works for me when I delete the CLASSPATH variable in the system environment (its content was obsolete already, so that's currently no problem for me...)\n\nSo, as an intermediate workaround I would propose:\n\nMake sure your ANT_HOME and CLASSPATH variables are unset before running the \"ant.bat\" script file.\n\n\ntsch\u00fc\u00df,\n  webbasan.\n\n", "id": 122425, "time": "2008-11-13T06:21:48Z", "creator": "webbasan@sitewaerts.de", "creation_time": "2008-11-13T06:21:48Z", "is_private": false}, {"count": 5, "tags": [], "creator": "antoine@apache.org", "text": "the lines\n\nif not _%CLASSPATH:~-1%==_\\ goto findAntHome\nset CLASSPATH=%CLASSPATH:~0,-1%\n\nare there to remove a back-slash character which would be the last character of the value of CLASSPATH.\n\nif someone is still impacted by this bug and can propose a workaround that works in Windows 2000 and does not hurt other Windows version, we could do something about it.", "id": 134729, "time": "2010-02-21T00:16:48Z", "bug_id": 41622, "creation_time": "2010-02-21T00:16:48Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 41622, "attachment_id": null, "id": 139844, "time": "2010-09-12T20:02:24Z", "creator": "vincent.marquez@gmail.com", "creation_time": "2010-09-12T20:02:24Z", "is_private": false, "text": "Want to comment that this is an issue for me in Windows 7.  Removing the classpath environment variable is the only way to fix it..."}, {"count": 7, "tags": [], "text": "I tried to reproduce this issue on Windows 7.\n\n\nset CLASSPATH=jar1;jar2\ncall ant -f something.xml\n\nno problem.\n\nCan someone provide more details on this bug ?", "attachment_id": null, "id": 166913, "creator": "antoine@apache.org", "time": "2013-04-28T18:57:36Z", "bug_id": 41622, "creation_time": "2013-04-28T18:57:36Z", "is_private": false}, {"count": 8, "tags": [], "creator": "german.gonzalez@gmail.com", "text": "This is similar to bug 43971\n(probably the same).\n\nThe issue can be replicated by adding double quotes to the end of CLASSPATH variable enviroment.\n\ni.e.:\n\nset CLASSPATH=%ANT_HOME%\\lib\\ant.jar;%CLASSPATH%;c:\\bin\\tmp\"\n\nthen execute ant.bat\n\nI think the CLASSPATH is wrong and not the ant batch script.", "id": 172155, "time": "2014-01-07T21:21:58Z", "bug_id": 41622, "creation_time": "2014-01-07T21:21:58Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "creator": "german.gonzalez@gmail.com", "text": "\n\n*** This bug has been marked as a duplicate of bug 43971 ***", "id": 172175, "time": "2014-01-08T13:56:33Z", "bug_id": 41622, "creation_time": "2014-01-08T13:56:33Z", "is_private": false, "attachment_id": null}]