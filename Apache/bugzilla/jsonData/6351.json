[{"count": 0, "tags": [], "creator": "jakarta@ehatchersolutions.com", "text": "Illegal characters can get placed in the XML output of <junit> and cannot be \nprocessed by <junitreport>.", "id": 10520, "time": "2002-02-10T20:10:32Z", "bug_id": 6351, "creation_time": "2002-02-10T20:10:32Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 6351, "is_private": false, "text": "Can you be a little bit more precise about the 'illegal characters' ?\n", "id": 10521, "time": "2002-02-10T20:31:28Z", "creator": "sbailliez@apache.org", "creation_time": "2002-02-10T20:31:28Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 6351, "attachment_id": null, "is_private": false, "id": 10523, "time": "2002-02-10T21:32:33Z", "creator": "jakarta@ehatchersolutions.com", "creation_time": "2002-02-10T21:32:33Z", "text": "Ummm, nevermind.  I was seeing things.  Certain characters can generate bad \nXML, but its an encoding issue, not one that CDATA would fix."}, {"count": 3, "tags": [], "bug_id": 6351, "attachment_id": null, "text": "The encoding is UTF-8 and there is always an OutputStreamWriter in UTF8 so that \nshould be just fine. Otherwise the entities encoding is in the \nDOMElementWriter, maybe there are some missing.", "id": 10524, "time": "2002-02-10T21:35:25Z", "creator": "sbailliez@apache.org", "creation_time": "2002-02-10T21:35:25Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 6351, "attachment_id": null, "text": "Ok, here's a concrete example:\n\nchar c = 0;\nSystem.out.println( c );\n\nThis will corrupt the resultant XML file, at least such that Xalan 2.2.1 \nreports:\n\n[junitreport] The file <filename>.xml is not a valid XML document. It is \npossibly corrupted.", "id": 10525, "time": "2002-02-10T22:21:43Z", "creator": "jakarta@ehatchersolutions.com", "creation_time": "2002-02-10T22:21:43Z", "is_private": false}, {"count": 5, "tags": [], "text": "Erik, I cannot reproduce this with the current nightly builds (in fact I don't\nget any System.out output in the XML files at all, which probably is a different\nbug.\n\nI'll attach my personal testsetup, am I doing something wrong with it?", "is_private": false, "bug_id": 6351, "id": 13079, "time": "2002-04-09T11:06:28Z", "creator": "bodewig@apache.org", "creation_time": "2002-04-09T11:06:28Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 6351, "attachment_id": 1505, "id": 13080, "creation_time": "2002-04-09T11:07:11Z", "time": "2002-04-09T11:07:11Z", "creator": "bodewig@apache.org", "text": "Created attachment 1505\nzip file with simple testcase", "is_private": false}, {"count": 7, "tags": [], "bug_id": 6351, "attachment_id": null, "text": "OK, I get output if fork is false (thought I had set this by default, sorry).\n\nAnd I get the same error message you quote, sorry for the noise.", "id": 13082, "time": "2002-04-09T11:25:00Z", "creator": "bodewig@apache.org", "creation_time": "2002-04-09T11:25:00Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 6351, "is_private": false, "text": "OK, <http://www.w3.org/TR/1998/REC-xml-19980210#charsets> is rather clear, &#x0;\nis illegal in XML documents, so we probably need to patch DOMElementWriter\nto exclude certain characters completely.\n\nThis in turn means that we may be losing information inside the logfile. Any idea\nwhat we should do about this, except documenting it?", "id": 13083, "time": "2002-04-09T11:31:13Z", "creator": "bodewig@apache.org", "creation_time": "2002-04-09T11:31:13Z", "attachment_id": null}, {"count": 9, "attachment_id": null, "bug_id": 6351, "text": "I've committed a patch to DOMElementWriter and patched junit's documentation to\ninclude a warning.\n\nPlease close this bug if you think it is sufficient (or provide a better patch\notherwise ;-) .", "id": 13085, "time": "2002-04-09T12:14:38Z", "creator": "bodewig@apache.org", "creation_time": "2002-04-09T12:14:38Z", "tags": [], "is_private": false}, {"count": 10, "attachment_id": null, "bug_id": 6351, "text": "Looks good to me!  Thanks Stefan.", "id": 13121, "time": "2002-04-09T18:24:38Z", "creator": "jakarta@ehatchersolutions.com", "creation_time": "2002-04-09T18:24:38Z", "tags": [], "is_private": false}]