[{"count": 0, "tags": [], "bug_id": 4855, "text": "Line 91 of jakarta-tomcat-4.0.1-src/build.properties.sample is:\n\njsse.home=${base.path}/jsse-1.0.2\n\nHowever, the jsse-1_0_2-gl.zip file from Sun unzips to a directory\nnamed \"jsse1.0.2\".\n\nPerhaps the sample build file should be changed to reflect the filename\nfrom Sun.\n\nAlso, according to the jakarta-tomcat-4.0.1-src/BUILDING.txt file,\ninstalling JSSE 1.0.2 is optional.  However, without it, one gets these\nerrors during an \"ant dist\":\n\nBuildfile: build.xml\n\ndeploy-prepare:\n    [mkdir] Created dir: /usr/local/jakarta-tomcat-4.0.1-src/build\n\ndeploy-static:\n\ndeploy:\n     [echo] Target: Catalina - Deploy ...\n\nflags:\n\nflags.display:\n     [echo] --- Build environment for Catalina ---\n     [echo] If ${property_name} is displayed, then the property is not set)\n     [echo] --- Build options ---\n     [echo] full.dist=${full.dist}\n     [echo] build.sysclasspath=${build.sysclasspath}\n     [echo] compile.debug=on\n     [echo] compile.deprecation=off\n     [echo] compile.optimize=on\n     [echo] --- Ant Flags ---\n     [echo] <style> task available (required)=true\n     [echo] --- JDK ---\n     [echo] jdk.1.2.present=true\n     [echo] jdk.1.3.present=true\n     [echo] jdk.1.4.present=${jdk.1.4.present}\n     [echo] --- Required Libraries ---\n     [echo] jaxp.present=true\n     [echo] jndi.present=true\n     [echo] regexp.present=true\n     [echo] servlet.present=true\n     [echo] --- Optional Libraries ---\n     [echo] javamail.present=${javamail.present}\n     [echo] jsse.present=${jsse.present}\n     [echo] jta.present=${jta.present}\n     [echo] junit.present=${junit.present}\n     [echo] ldap.present=true\n     [echo] tyrex.present=${tyrex.present}\n     [echo] --- Required JARs ---\n     [echo] jndi.jar.present(except JDK 1.3+)=${jndi.jar.present}\n     [echo] regexp.jar.present=true\n     [echo] servlet.jar.present=true\n     [echo] xerces.jar.present(except JDK 1.4+)=true\n     [echo] --- Optional JARs ---\n     [echo] tomcat-ajp.jar.present=true\n     [echo] javamail.jar.present=${javamail.jar.present}\n     [echo] jdbc20ext.jar.present=${jdbc20ext.jar.present}\n     [echo] jta.jar.present=${jta.jar.present}\n     [echo] junit.jar.present=${junit.jar.present}\n     [echo] ldap.jar.present=${ldap.jar.present}\n     [echo] tomcat-util.jar.present=true\n     [echo] tyrex.jar.present=${tyrex.jar.present}\n     [echo] --- Conditional compilation flags ---\n     [echo] compile.javamail=${compile.javamail}\n     [echo] compile.jmx=${compile.jmx}\n     [echo] compile.jndi=true\n     [echo] compile.jsse=${compile.jsse}\n     [echo] compile.jta=${compile.jta}\n     [echo] compile.junit=${compile.junit}\n     [echo] compile.ldap=true\n     [echo] compile.tyrex=${compile.tyrex}\n     [echo] --- Distribution flags ---\n     [echo] copy.tomcat-ajp.jar=true\n     [echo] copy.jdbc20ext.jar=${copy.jdbc20ext.jar}\n     [echo] copy.jndi.jar=${copy.jndi.jar}\n     [echo] copy.javamail.jar=${copy.javamail.jar}\n     [echo] copy.jta.jar=${copy.jta.jar}\n     [echo] copy.ldap.jar=${copy.ldap.jar}\n     [echo] copy.tyrex.jar=${copy.tyrex.jar}\n     [echo] copy.xerces.jar=true\n\nbuild-prepare:\n    [mkdir] Created dir: /usr/local/jakarta-tomcat-4.0.1-src/catalina/build\n    [mkdir] Created dir: /usr/local/jakarta-tomcat-4.0.1-src/catalina/build/bin\n    [mkdir] Created dir:\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/common/classes\n    [mkdir] Created dir:\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/common/lib\n    [mkdir] Created dir: /usr/local/jakarta-tomcat-4.0.1-src/catalina/build/conf\n    [mkdir] Created dir: /usr/local/jakarta-tomcat-4.0.1-src/catalina/build/logs\n    [mkdir] Created dir:\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/server/classes\n    [mkdir] Created dir:\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/server/lib\n    [mkdir] Created dir:\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/classes\n    [mkdir] Created dir: /usr/local/jakarta-tomcat-4.0.1-src/catalina/build/lib\n    [mkdir] Created dir: /usr/local/jakarta-tomcat-4.0.1-src/catalina/build/work\n\ncopy-activation.jar:\n\ncopy-tomcat-ajp.jar:\n     [copy] Copying 1 file to\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/server/lib\n\ncopy-jdbc20ext.jar:\n\ncopy-jndi.jar:\n\ncopy-jsse.jar:\n\ncopy-jta.jar:\n\ncopy-ldap.jar:\n\ncopy-tomcat-util.jar:\n     [copy] Copying 1 file to\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/server/lib\n\ncopy-tyrex.jar:\n\ncopy-xerces.jar:\n     [copy] Copying 1 file to\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/common/lib\n\nbuild-static:\n     [copy] Copying 9 files to\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/bin\n     [copy] Copying 1 file to\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/common/lib\n     [copy] Copying 5 files to\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/conf\n     [copy] Copying 1 file to\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/server/lib\n\nbuild-main:\n    [javac] Compiling 4 source files to\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/server/classes\n    [javac] Compiling 281 source files to\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build/server/classes\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/net/SSLServerSocketFactory.java:71:\nClass javax.net.ServerSocketFactory not found in import.\n    [javac] import javax.net.ServerSocketFactory;\n    [javac]        ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/net/SSLServerSocketFactory.java:72:\nClass javax.net.ssl.SSLServerSocket not found in import.\n    [javac] import javax.net.ssl.SSLServerSocket;\n    [javac]        ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/net/SSLServerSocketFactory.java:73:\nClass javax.net.ssl.SSLSocket not found in import.\n    [javac] import javax.net.ssl.SSLSocket;\n    [javac]        ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/net/SSLServerSocketFactory.java:74:\nClass javax.net.ssl.HandshakeCompletedListener not found in import.\n    [javac] import javax.net.ssl.HandshakeCompletedListener;\n    [javac]        ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/net/SSLServerSocketFactory.java:75:\nClass javax.net.ssl.HandshakeCompletedEvent not found in import.\n    [javac] import javax.net.ssl.HandshakeCompletedEvent;\n    [javac]        ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/net/SSLServerSocketFactory.java:77:\nClass com.sun.net.ssl.KeyManagerFactory not found in import.\n    [javac] import com.sun.net.ssl.KeyManagerFactory;\n    [javac]        ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/net/SSLServerSocketFactory.java:78:\nClass com.sun.net.ssl.SSLContext not found in import.\n    [javac] import com.sun.net.ssl.SSLContext;\n    [javac]        ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/net/SSLServerSocketFactory.java:79:\nClass com.sun.net.ssl.TrustManagerFactory not found in import.\n    [javac] import com.sun.net.ssl.TrustManagerFactory;\n    [javac]        ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/connector/HttpRequestFacade.java:198:\nMethod getRequestURL() not found in interface\njavax.servlet.http.HttpServletRequest.\n    [javac]         return ((HttpServletRequest) request).getRequestURL();\n    [javac]                                                            ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/connector/RequestFacade.java:139:\nMethod setCharacterEncoding(java.lang.String) not found in interface\njavax.servlet.ServletRequest.\n    [javac]         request.setCharacterEncoding(env);\n    [javac]                                     ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/connector/RequestFacade.java:175:\nMethod getParameterMap() not found in interface javax.servlet.ServletRequest.\n    [javac]         return request.getParameterMap();\n    [javac]                                       ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/connector/ResponseFacade.java:223:\nMethod resetBuffer() not found in interface javax.servlet.ServletResponse.\n    [javac]         response.resetBuffer();\n    [javac]                             ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/core/ApplicationHttpRequest.java:523:\nMethod getParameterMap() not found in interface\njavax.servlet.http.HttpServletRequest.\n    [javac]             parameters = copyMap(request.getParameterMap());\n    [javac]                                                         ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/core/ApplicationDispatcher.java:371:\nMethod resetBuffer() not found in interface javax.servlet.ServletResponse.\n    [javac]             response.resetBuffer();\n    [javac]                                 ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/session/StandardSession.java:1070:\nWrong number of arguments in constructor.\n    [javac]           new HttpSessionBindingEvent((HttpSession) this, name,\nvalue);\n    [javac]           ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/session/StandardSession.java:1182:\nWrong number of arguments in constructor.\n    [javac]             event = new HttpSessionBindingEvent\n    [javac]                     ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/session/StandardSession.java:1185:\nWrong number of arguments in constructor.\n    [javac]             event = new HttpSessionBindingEvent\n    [javac]                     ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/session/StandardSessionFacade.java:151:\nMethod getServletContext() not found in interface\njavax.servlet.http.HttpSession.\n    [javac]         return session.getServletContext();\n    [javac]                                         ^\n    [javac]\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/src/share/org/apache/catalina/authenticator/FormAuthenticator.java:422:\nMethod getParameterMap() not found in interface\njavax.servlet.http.HttpServletRequest.\n    [javac]         Map parameters = hreq.getParameterMap();\n    [javac]                                              ^\n    [javac] Note: 12 files use or override a deprecated API.  Recompile with\n\"-deprecation\" for details.\n    [javac] 19 errors, 1 warning\n\nTotal time: 50 seconds\n\nBUILD FAILED\n\n/usr/local/jakarta-tomcat-4.0.1-src/catalina/build.xml:480: Compile failed,\nmessages should have been provided.", "id": 7890, "time": "2001-11-13T15:37:59Z", "creator": "wes@wesbarris.com", "creation_time": "2001-11-13T15:37:59Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "remm@apache.org", "is_private": false, "id": 7895, "creation_time": "2001-11-13T15:54:29Z", "time": "2001-11-13T15:54:29Z", "bug_id": 4855, "text": "*** Bug 4824 has been marked as a duplicate of this bug. ***", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 4855, "is_private": false, "text": "You don't appear to be using the right version of the servlet API JAR. You need \nversion 2.3 to build Tomcat 4.x.\n\nThere's a conditional compilation flag triggered by the JSSE availability.\nMaybe it's a bug with the version of Ant you're using, or it was a bug in the \nbuild script for version 4.0.1, which got fixed since then (the HEAD branch \ncompiled fine for me when I removed JSSE).", "id": 7896, "time": "2001-11-13T16:04:14Z", "creator": "remm@apache.org", "creation_time": "2001-11-13T16:04:14Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 4855, "text": "There does not appear to be any servlet listed on the jakarta.apache.org\nweb site.  By trial and error I found this unlinked directory:\n\nhttp://jakarta.apache.org/builds/jakarta-tomcat-4.0/release/v4.0/\nwhich contains: jakarta-servletapi-4.tar.gz\nHowever, I can't tell what version it is (if not 4).  Please supply\na URL to the location of verion 2.3 of the servlet API.\n\nThe version of Ant I am using is jakarta-ant-1.4.1 . If there is a\nbetter version, please let me know which one I should use.", "count": 3, "id": 7903, "time": "2001-11-13T18:23:34Z", "creator": "wes@wesbarris.com", "creation_time": "2001-11-13T18:23:34Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "wes@wesbarris.com", "is_private": false, "count": 4, "id": 8041, "time": "2001-11-18T18:15:26Z", "bug_id": 4855, "creation_time": "2001-11-18T18:15:26Z", "text": "Although I have given up on trying to build tomcat from source, my guess is\nthat this behavior was caused by an old servlet.jar file found in\n/usr/java/jre/lib/ext/ ."}]