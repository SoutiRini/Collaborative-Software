[{"text": "I'm having this Ant-Tomcat build issue with Ant 1.5.3 and Ant 1.6alpha.  The \nsame script worked with Tomcat 5.0.2. I am using ant-catalina.jar from the \nTomcat 5.0.6 distro.  \n\nI'm running on a windows xp pro development box that has j2sdk1.4.1_03 \ninstalled.\n\nPlease let me know if there is a better place for this bug or if you need any \nmore information.  -- Joe\n\nANT -V OUTPUT\n=============\n\nundeploy:\n     [echo] Undeploying myApp.\n   [remove] OK - Undeployed application at context path /myApp\n\n\ndeploy:\n     [echo] Deploying myApp.\n   [deploy] FAIL - Encountered exception java.net.MalformedURLException: \nunknown protocol: c\n\n   [deploy] OK - Deployed application at context path /myApp\n\n\nBUILD FAILED\nfile:c:/SuperFly/Source/myApp/build.xml:128: FAIL - Encountered exception \njava.net.MalformedURLException: unknown protocol: c\n        at org.apache.catalina.ant.AbstractCatalinaTask.execute\n(AbstractCatalinaTask.java:278)\n        at org.apache.catalina.ant.DeployTask.execute(DeployTask.java:229)\n        at org.apache.tools.ant.Task.perform(Task.java:341)\n        at org.apache.tools.ant.Target.execute(Target.java:309)\n        at org.apache.tools.ant.Target.performTasks(Target.java:336)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1339)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1255)\n        at org.apache.tools.ant.Main.runBuild(Main.java:609)\n        at org.apache.tools.ant.Main.start(Main.java:196)\n        at org.apache.tools.ant.Main.main(Main.java:235)\nCaused by: FAIL - Encountered exception java.net.MalformedURLException: \nunknown protocol: c\n        at org.apache.catalina.ant.AbstractCatalinaTask.execute\n(AbstractCatalinaTask.java:274)\n        ... 9 more\n--- Nested Exception ---\nFAIL - Encountered exception java.net.MalformedURLException: unknown protocol: \nc\n        at org.apache.catalina.ant.AbstractCatalinaTask.execute\n(AbstractCatalinaTask.java:274)\n        at org.apache.catalina.ant.DeployTask.execute(DeployTask.java:229)\n        at org.apache.tools.ant.Task.perform(Task.java:341)\n        at org.apache.tools.ant.Target.execute(Target.java:309)\n        at org.apache.tools.ant.Target.performTasks(Target.java:336)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1339)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1255)\n        at org.apache.tools.ant.Main.runBuild(Main.java:609)\n        at org.apache.tools.ant.Main.start(Main.java:196)\n        at org.apache.tools.ant.Main.main(Main.java:235)\n\nTotal time: 29 seconds\nc:\\SuperFly\\Source\\myApp>\n\nANT SCRIPT\n==========\n\n<!-- Properties are read from build.properties with a <property/> tag. -->\n<!-- WAR file creation omitted. -->\n\n<target name=\"undeploy\" description=\"Undeploys the Web Application\" \ndepends=\"backupsource\">\n    <echo message=\"Undeploying ${tomcat.app.name}.\"/>\n    <remove url=\"${tomcat.manager.url}\" username=\"${tomcat.mgr.username}\" \npassword=\"${tomcat.mgr.password}\" path=\"/${tomcat.app.name}\"/>\n</target>\n\t\n<target name=\"deploy\" description=\"Deploys the Web Application\" \ndepends=\"undeploy\">\n    <echo message=\"Deploying ${tomcat.app.name}.\"/>\n    <deploy url=\"${tomcat.manager.url}\" username=\"${tomcat.mgr.username}\" \npassword=\"${tomcat.mgr.password}\" path=\"/${tomcat.app.name}\"  \nwar=\"file:${tomcat.app.name}-(bld${build.number})-${build.time}.war\"/>\n</target>", "tags": [], "bug_id": 22247, "attachment_id": null, "count": 0, "id": 42396, "time": "2003-08-08T13:08:54Z", "creator": "joe@joereger.com", "creation_time": "2003-08-08T13:08:54Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 22247, "attachment_id": null, "id": 42397, "time": "2003-08-08T13:13:48Z", "creator": "remm@apache.org", "creation_time": "2003-08-08T13:13:48Z", "is_private": false, "text": "This has been fixed already. Thanks for testing, and sorry for the trouble. Get\nreplacement binaries from a nightly on cvs.apache.org (you need the JAR in the\nmanager webapp, as well as catalina-ant.jar), or you can use the HTML manager\nservlet (that one works without problems)."}, {"text": "Although I know this is a Tomcat 5 bugbase but I'm having the same problem with \nthe Tomcat 4.1.29. There is no such bug in the Tomcat 4 bug base and I don't \nwant to insert a same bug for Tomcat 4.", "tags": [], "bug_id": 22247, "attachment_id": null, "count": 2, "id": 60180, "time": "2004-07-06T09:03:48Z", "creator": "deepak.raina@bt.com", "creation_time": "2004-07-06T09:03:48Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 22247, "attachment_id": null, "id": 61056, "time": "2004-07-23T13:50:11Z", "creator": "yoavs@computer.org", "creation_time": "2004-07-23T13:50:11Z", "is_private": false, "text": "Tomcat 4 is not being actively developed, and since this is not a showstopper \nor security bug it's not likely to get fixed in the Tomcat 4 branch.  If it's \ncritical to you and you must stay on Tomcat 4, I suggest you fix it yourself by \nusing the code from Tomcat 5's CVS, and have your own custom Tomcat 4.  \n\nThis works for me in Tomcat 5 (just re-tested), so I'm closing this issue \nbecause of the above."}]