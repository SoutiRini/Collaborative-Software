[{"count": 0, "tags": [], "text": "Getting the following exception when running JSTL in the webcontainer runtime\nwith security turned on:\njava.security.AccessControlException: Access denied (java.lang.RuntimePermission\ngetClassLoader)\n\tat java.security.AccessController.checkPermission(AccessController.java:104)\n\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:547)\n\tat\ncom.ibm.ws.security.core.SecurityManager.checkPermission(SecurityManager.java:189)\n\tat java.lang.Thread.getContextClassLoader(Thread.java:484)\n\tat org.apache.taglibs.standard.tag.common.fmt.BundleSupport.findMatch(Unknown\nSource)\n\nAccording to http://java.sun.com/j2se/1.4.2/docs/guide/security/permissions.html,\nthe following restrictions are applied:\nIf the caller's class loader is null, or is the same as or an ancestor of the\ncontext class loader for the thread whose context class loader is being\nrequested, no permission is needed. Otherwise,\njava.lang.RuntimePermission \"getClassLoader\"\nis required.\n\nIn the org.apache.taglibs.standard.tag.common.fmt.BundleSupport.findMatch, among\nother areas, JSTL is calling Thread.currentThread().getContextClassLoader());\nSince JSTL is now a part of the JEE5 runtime and not a jar added to an\napplication, these calls to the classloader need to be wrappered with a doPriv\nblock.", "attachment_id": null, "id": 88784, "creator": "kenna@us.ibm.com", "time": "2006-05-03T20:33:26Z", "bug_id": 39480, "creation_time": "2006-05-03T20:33:26Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 39480, "text": "I see three locations that call getContextClassLoader():\n\nsrc/org/apache/taglibs/standard/tag/common/fmt/BundleSupport.java (twice)\nsrc/org/apache/taglibs/standard/tag/common/sql/DataSourceWrapper.java\n\nWhile JSTL is a part of JEE5; we currently don't have any strong plans for a 1.2\ncompliant release, so effort is on a version of the 1.1 spec with bugfixes. So\nyou should still be adding a jar to the runtime. If the JEE5 one is the only\nscenario for this bug, then it's probably best reported to the Glassfish\nimplementation. \n\nhttps://glassfish.dev.java.net/", "count": 1, "id": 97379, "time": "2006-12-27T14:20:05Z", "creator": "bayard@apache.org", "creation_time": "2006-12-27T14:20:05Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 39480, "attachment_id": null, "is_private": false, "id": 127361, "time": "2009-05-25T02:34:37Z", "creator": "bayard@apache.org", "creation_time": "2009-05-25T02:34:37Z", "text": "Now fixed."}]