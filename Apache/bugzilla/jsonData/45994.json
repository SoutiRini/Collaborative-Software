[{"count": 0, "attachment_id": null, "creator": "apachebugs@kyon.de", "is_private": false, "id": 121454, "time": "2008-10-12T18:01:26Z", "bug_id": 45994, "creation_time": "2008-10-12T18:01:26Z", "tags": [], "text": "On line 248 uldap_connection_init in modules/ldap/util_ldap.c returns result->rc. That fails if apr_ldap cannot be loaded, because result is still NULL then."}, {"count": 1, "attachment_id": 22740, "creator": "poirier@pobox.com", "text": "Created attachment 22740\nPatch to avoid SEGFAULT\n\nThis patch avoids the segmentation fault.  \n\nThe result is still a bit ugly ([Wed Oct 15 13:37:19 2008] [warn] [client 127.0.0.1] [32143] auth_ldap authenticate: user x authentication failed; URI /foo [LDAP: ldap initialization failed][Unknown (private extension) error]) - maybe there's a better error code to use here.  \n\nBut if the ldap module can't be loaded, things are in bad shape anyway.", "id": 121556, "time": "2008-10-15T10:40:47Z", "bug_id": 45994, "creation_time": "2008-10-15T10:40:47Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 45994, "attachment_id": 22746, "text": "Created attachment 22746\nBetter patch\n\nHere's a better patch.  Thanks to Paul Reder for pointing out another problem that was lurking.  This patch checks for result being NULL and handles it\nimmediately, which makes it clearer that we're handling the case properly than\nit was with the previous logic where there were multiple branches trying to\ncover all the cases.", "id": 121641, "time": "2008-10-16T12:00:34Z", "creator": "poirier@pobox.com", "creation_time": "2008-10-16T12:00:34Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 45994, "is_private": false, "text": "Can you try the patch and see if it solves the problem?\n\nThanks.", "id": 122173, "time": "2008-11-04T06:03:24Z", "creator": "poirier@pobox.com", "creation_time": "2008-11-04T06:03:24Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 45994, "text": "I've committed this patch and submitted it for backporting.", "id": 123361, "time": "2008-12-16T15:31:00Z", "creator": "rederpj@remulak.net", "creation_time": "2008-12-16T15:31:00Z", "is_private": false, "attachment_id": null}]