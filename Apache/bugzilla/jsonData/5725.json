[{"count": 0, "tags": [], "creator": "ryildirim@yahoo.com", "text": "When you declare the error page for 403 unauthorized access \n\n<error-page>\n  <error-code>403</error-code>\n  <location>/unauthorized.html</location>\n</error-page>\n\nand use form based authentication\n\n<login-config>\n      <auth-method>FORM</auth-method>\n      <realm-name>Example Form-Based Authentication Area</realm-name>\n      <form-login-config>\n        <form-login-page>/login.jsp</form-login-page>\n        <form-error-page>/login.jsp?error=1</form-error-page>\n      </form-login-config>\n </login-config>\n\nand when you try to access a resource that your credentials aren't enough \nnormally you should be redirected to unauthorized.html, but actually a HTTP 500 \nerror happens. I have checked the logs a NullPointerException is thrown.\n\nBut if you don't set the error page for 403, Tomcat shows the default 403 Error \nPage (No Problems)\nBelow is the log entry:\n\n2002-01-07 00:08:43 JDBCRealm[Standalone]: Username operator successfully \nauthenticated\n2002-01-07 00:08:43 JDBCRealm[Standalone]: Username operator does NOT have role \nBROKER\n2002-01-07 00:08:43 JDBCRealm[Standalone]: Username operator does NOT have role \nLOADER\n2002-01-07 00:08:43 HttpProcessor[80][3] process.invoke\njava.lang.NullPointerException\n\tat org.apache.catalina.valves.ErrorDispatcherValve.status\n(ErrorDispatcherValve.java:291)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:180)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:462)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:1011)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1106)\n\tat java.lang.Thread.run(Unknown Source)", "id": 9420, "time": "2002-01-07T11:38:57Z", "bug_id": 5725, "creation_time": "2002-01-07T11:38:57Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 9421, "time": "2002-01-07T11:52:00Z", "bug_id": 5725, "creation_time": "2002-01-07T11:52:00Z", "is_private": false, "text": "After many iterations (sorry for the trouble), this should have been fixed in\n4.0.2 b1. Variations on that bug have been filed in the past."}]