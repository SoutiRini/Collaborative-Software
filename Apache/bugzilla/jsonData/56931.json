[{"count": 0, "tags": [], "bug_id": 56931, "is_private": false, "id": 177640, "creation_time": "2014-09-08T18:34:36Z", "time": "2014-09-08T18:34:36Z", "creator": "pbusque@mediagrif.com", "text": "When a docbase is not absolute, by the usage of a symbolic link for instance, resources are not resolved.\n\nHow to reproduce:\n\n1- Configure a webapp  with a symbolic link in the path. Typical example: A home directory on another volume than the /home\n/home/tomcat -> /volume2/home/tomcat\n\n2- Configure the docbase to use the logical name of the docbase.\nExample:  /home/tomcat/webapps/ would resolve to /home/tomcat/webapps/ROOT\n\n\nExpected result:\nResources are displayed.\n\nActual result:\nResources are not found\n\nAn investigation pointed the issue iun the VirtualDirContext class.\nhttp://svn.apache.org/viewvc/tomcat/tc7.0.x/trunk/java/org/apache/naming/resources/VirtualDirContext.java?revision=HEAD&view=markup#l217\n\nWhen evaluating a resource, it first check if the resource is inside the docbase.\nWhile the resource is resolved through an absolute path, the docbase isn't.\n\nAs a result, using the example above, the resource is evaluated through /volume2/home/tomcat/webapps/ROOT while the docbase is evaluated through /home/tomcat/webapps/ROOT and fail.\n\nBoth path should be evaluated as absolute path.", "attachment_id": null}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "Based on the fact that the steps to reproduce contain no information on how to configure the VirtualDirContext, this does not appear to have anything to do with the VirtualDirContext. This looks to be a configuration error.\n\nSee the allowLinking of the Context element:\nhttp://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Standard_Implementation", "id": 183544, "time": "2015-06-16T07:32:45Z", "bug_id": 56931, "creation_time": "2015-06-16T07:32:45Z", "is_private": false}]