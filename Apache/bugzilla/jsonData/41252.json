[{"count": 0, "tags": [], "creator": "k.burger@burgernet.org", "attachment_id": null, "id": 97400, "time": "2006-12-28T03:03:04Z", "bug_id": 41252, "creation_time": "2006-12-28T03:03:04Z", "is_private": false, "text": "Apache/2.0.54 (Debian GNU/Linux) mod_python/3.1.3 Python/2.3.5 PHP/4.3.10-18\nmod_ssl/2.0.54 OpenSSL/0.9.7e\n\n<IfModule prefork.c>\nStartServers         3\nMinSpareServers      3 \nMaxSpareServers     10\nMaxClients          20\nMaxRequestsPerChild  0\n</IfModule>\n<IfModule worker.c>\nStartServers         2\nMaxClients         150 \nMinSpareThreads     25\nMaxSpareThreads     75\nThreadsPerChild     25\nMaxRequestsPerChild  0\n</IfModule>\n<IfModule perchild.c>\nNumServers           3\nStartThreads         3\nMinSpareThreads      3\nMaxSpareThreads     10\nMaxThreadsPerChild  20\nMaxRequestsPerChild  0\nAcceptMutex fcntl\n</IfModule>\nLog:\n[error] server reached MaxClients setting, consider raising the MaxClients setting\n\nApache2 crash and need to restart. I don't know why this problem occured but\nmore than once a day.\n\nThanks."}, {"count": 1, "attachment_id": null, "bug_id": 41252, "is_private": false, "id": 97402, "time": "2006-12-28T05:11:52Z", "creator": "rpluem@apache.org", "creation_time": "2006-12-28T05:11:52Z", "tags": [], "text": "What MPM are you using?\nWhat do you mean by crash? Do the httpd processes really crash or does httpd\njust stop responding?"}, {"count": 2, "attachment_id": null, "bug_id": 41252, "is_private": false, "id": 97438, "time": "2006-12-29T05:11:09Z", "creator": "k.burger@burgernet.org", "creation_time": "2006-12-29T05:11:09Z", "tags": [], "text": "Paket: apache2-mpm-prefork\nVersion: 2.0.54-5sarge1\n\nThe httpd processes stop responding."}, {"count": 3, "attachment_id": null, "bug_id": 41252, "text": "In this case it is most likely that one of the applications you are running\ninside httpd via mod_python, php or something else (e.g. cgi) got stuck. If this\nhappens for MaxClients requests the server stops responding.\nYou can cross check if this is really the case by attaching gdb to a stuck httpd\nprocess (see http://httpd.apache.org/dev/debugging.html#backtrace). Please\nreport back with the results such that it can be decided if this is a problem\nwith a 3rd party module / one of your applications or httpd.", "id": 97459, "time": "2006-12-29T15:29:13Z", "creator": "rpluem@apache.org", "creation_time": "2006-12-29T15:29:13Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 41252, "attachment_id": null, "text": "May be I made anything false but this is the output.\n:~# gdb apache2 13313\nGNU gdb 6.3-debian\nCopyright 2004 Free Software Foundation, Inc.\nGDB is free software, covered by the GNU General Public License, and you are\nwelcome to change it and/or distribute copies of it under certain conditions.\nType \"show copying\" to see the conditions.\nThere is absolutely no warranty for GDB.  Type \"show warranty\" for details.\nThis GDB was configured as \"i386-linux\"...(no debugging symbols found)\nUsing host libthread_db library \"/lib/libthread_db.so.1\".\n\nAttaching to program: /usr/sbin/apache2, process 13313\nReading symbols from /lib/libdl.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libdl.so.2\nReading symbols from /lib/libcrypt.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libcrypt.so.1\nReading symbols from /usr/lib/libpcre.so.3...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libpcre.so.3\nReading symbols from /usr/lib/libz.so.1...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libz.so.1\nReading symbols from /usr/lib/i686/cmov/libssl.so.0.9.7...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/i686/cmov/libssl.so.0.9.7\nReading symbols from /usr/lib/i686/cmov/libcrypto.so.0.9.7...(no debugging\nsymbols found)...done.\nLoaded symbols for /usr/lib/i686/cmov/libcrypto.so.0.9.7\nReading symbols from /usr/lib/libaprutil-0.so.0...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libaprutil-0.so.0\nReading symbols from /usr/lib/libldap_r.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libldap_r.so.2\nReading symbols from /usr/lib/liblber.so.2...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/liblber.so.2\nReading symbols from /usr/lib/libdb-4.2.so...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libdb-4.2.so\nReading symbols from /usr/lib/libexpat.so.1...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libexpat.so.1\nReading symbols from /usr/lib/libapr-0.so.0...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libapr-0.so.0\nReading symbols from /lib/librt.so.1...\n(no debugging symbols found)...done.\nLoaded symbols for /lib/librt.so.1\nReading symbols from /lib/libm.so.6...(no debugging symbols found)...done.\nLoaded symbols for /lib/libm.so.6\nReading symbols from /lib/libnsl.so.1...\n(no debugging symbols found)...done.\nLoaded symbols for /lib/libnsl.so.1\nReading symbols from /lib/libpthread.so.0...(no debugging symbols found)...done.\n[Thread debugging using libthread_db enabled]\n[New Thread 16384 (LWP 13313)]\nLoaded symbols for /lib/libpthread.so.0\nReading symbols from /lib/libc.so.6...\n(no debugging symbols found)...done.\nLoaded symbols for /lib/libc.so.6\nReading symbols from /lib/ld-linux.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/ld-linux.so.2\nReading symbols from /lib/libresolv.so.2...\n(no debugging symbols found)...done.\nLoaded symbols for /lib/libresolv.so.2\nReading symbols from /usr/lib/libsasl2.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libsasl2.so.2\nReading symbols from /usr/lib/libgnutls.so.11...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgnutls.so.11\nReading symbols from /usr/lib/libtasn1.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libtasn1.so.2\nReading symbols from /usr/lib/libgcrypt.so.11...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgcrypt.so.11\nReading symbols from /usr/lib/libgpg-error.so.0...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libgpg-error.so.0\nReading symbols from /lib/libnss_compat.so.2...\n(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_compat.so.2\nReading symbols from /lib/libnss_nis.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_nis.so.2\nReading symbols from /lib/libnss_files.so.2...\n(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_files.so.2\nReading symbols from /usr/lib/apache2/modules/mod_actions.so...(no debugging\nsymbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_actions.so\nReading symbols from /usr/lib/apache2/modules/mod_cgi.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_cgi.so\nReading symbols from /usr/lib/apache2/modules/mod_include.so...(no debugging\nsymbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_include.so\nReading symbols from /usr/lib/apache2/modules/mod_python.so...\n---Type <return> to continue, or q <return> to quit---\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_python.so\nReading symbols from /usr/lib/libpython2.3.so.1.0...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libpython2.3.so.1.0\nReading symbols from /lib/libutil.so.1...\n(no debugging symbols found)...done.\nLoaded symbols for /lib/libutil.so.1\nReading symbols from /usr/lib/apache2/modules/libphp4.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/apache2/modules/libphp4.so\nReading symbols from /usr/lib/libzzip-0.so.12...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libzzip-0.so.12\nReading symbols from /usr/lib/libbz2.so.1.0...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libbz2.so.1.0\nReading symbols from /usr/lib/libgssapi_krb5.so.2...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgssapi_krb5.so.2\nReading symbols from /usr/lib/libkrb5.so.3...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libkrb5.so.3\nReading symbols from /usr/lib/libk5crypto.so.3...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libk5crypto.so.3\nReading symbols from /lib/libcom_err.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libcom_err.so.2\nReading symbols from /usr/lib/apache2/modules/mod_rewrite.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_rewrite.so\nReading symbols from /usr/lib/apache2/modules/mod_ssl.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_ssl.so\nReading symbols from /usr/lib/apache2/modules/mod_suexec.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_suexec.so\nReading symbols from /usr/lib/php4/20020429/mysql.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/php4/20020429/mysql.so\nReading symbols from /usr/lib/libmysqlclient.so.12...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libmysqlclient.so.12\nReading symbols from /usr/lib/php4/20020429/imap.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/php4/20020429/imap.so\nReading symbols from /usr/lib/libc-client.so.2002edebian...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libc-client.so.2002edebian\nReading symbols from /lib/libpam.so.0...(no debugging symbols found)...done.\nLoaded symbols for /lib/libpam.so.0\nReading symbols from /usr/lib/php4/20020429/imagick.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/php4/20020429/imagick.so\nReading symbols from /usr/lib/libWand.so.6...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libWand.so.6\nReading symbols from /usr/lib/libMagick.so.6...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libMagick.so.6\nReading symbols from /usr/lib/liblcms.so.1...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/liblcms.so.1\nReading symbols from /usr/lib/libtiff.so.4...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libtiff.so.4\nReading symbols from /usr/lib/libjasper-1.701.so.1...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libjasper-1.701.so.1\nReading symbols from /usr/lib/libjpeg.so.62...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libjpeg.so.62\nReading symbols from /usr/lib/libpng12.so.0...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libpng12.so.0\nReading symbols from /usr/X11R6/lib/libdpstk.so.1...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/X11R6/lib/libdpstk.so.1\nReading symbols from /usr/X11R6/lib/libdps.so.1...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libdps.so.1\nReading symbols from /usr/X11R6/lib/libXext.so.6...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/X11R6/lib/libXext.so.6\nReading symbols from /usr/X11R6/lib/libXt.so.6...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libXt.so.6\nReading symbols from /usr/X11R6/lib/libSM.so.6...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/X11R6/lib/libSM.so.6\nReading symbols from /usr/X11R6/lib/libICE.so.6...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libICE.so.6\nReading symbols from /usr/X11R6/lib/libX11.so.6...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/X11R6/lib/libX11.so.6\nReading symbols from /usr/lib/libxml2.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libxml2.so.2\nReading symbols from /usr/lib/libfreetype.so.6...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libfreetype.so.6\nReading symbols from /usr/lib/php4/20020429/gd.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/php4/20020429/gd.so\nReading symbols from /usr/lib/libgd.so.2...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgd.so.2\nReading symbols from /usr/lib/libt1.so.5...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libt1.so.5\nReading symbols from /usr/X11R6/lib/libXpm.so.4...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/X11R6/lib/libXpm.so.4\nReading symbols from /usr/lib/libfontconfig.so.1...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libfontconfig.so.1\nReading symbols from /lib/libnss_dns.so.2...\n(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_dns.so.2\n0x40479a18 in poll () from /lib/libc.so.6\n", "id": 97615, "time": "2007-01-03T21:56:27Z", "creator": "k.burger@burgernet.org", "creation_time": "2007-01-03T21:56:27Z", "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 41252, "text": "You made it right, but not complete :-). Please issue the following gdb command\nonce you have attached gdb to the hanging process:\n\nthread apply all bt full\n\nAlso keep in mind not to attach gdb to the parent httpd process (the one running\nwith root), but to one of the child processes.", "id": 97620, "time": "2007-01-04T02:20:20Z", "creator": "rpluem@apache.org", "creation_time": "2007-01-04T02:20:20Z", "tags": [], "is_private": false}, {"count": 6, "attachment_id": null, "bug_id": 41252, "text": "I had attached gdb on a child process. The output doesn't look better.\n:~# gdb apache2 24708\nGNU gdb 6.3-debian\nCopyright 2004 Free Software Foundation, Inc.\nGDB is free software, covered by the GNU General Public License, and you are\nwelcome to change it and/or distribute copies of it under certain conditions.\nType \"show copying\" to see the conditions.\nThere is absolutely no warranty for GDB.  Type \"show warranty\" for details.\nThis GDB was configured as \"i386-linux\"...(no debugging symbols found)\nUsing host libthread_db library \"/lib/libthread_db.so.1\".\n\nAttaching to program: /usr/sbin/apache2, process 24708\nReading symbols from /lib/libdl.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libdl.so.2\nReading symbols from /lib/libcrypt.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libcrypt.so.1\nReading symbols from /usr/lib/libpcre.so.3...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libpcre.so.3\nReading symbols from /usr/lib/libz.so.1...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libz.so.1\nReading symbols from /usr/lib/i686/cmov/libssl.so.0.9.7...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/i686/cmov/libssl.so.0.9.7\nReading symbols from /usr/lib/i686/cmov/libcrypto.so.0.9.7...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/i686/cmov/libcrypto.so.0.9.7\nReading symbols from /usr/lib/libaprutil-0.so.0...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libaprutil-0.so.0\nReading symbols from /usr/lib/libldap_r.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libldap_r.so.2\nReading symbols from /usr/lib/liblber.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/liblber.so.2\nReading symbols from /usr/lib/libdb-4.2.so...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libdb-4.2.so\nReading symbols from /usr/lib/libexpat.so.1...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libexpat.so.1\nReading symbols from /usr/lib/libapr-0.so.0...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libapr-0.so.0\nReading symbols from /lib/librt.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/librt.so.1\nReading symbols from /lib/libm.so.6...(no debugging symbols found)...done.\nLoaded symbols for /lib/libm.so.6\nReading symbols from /lib/libnsl.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libnsl.so.1\nReading symbols from /lib/libpthread.so.0...\n(no debugging symbols found)...done.\n[Thread debugging using libthread_db enabled]\n[New Thread 16384 (LWP 24708)]\nLoaded symbols for /lib/libpthread.so.0\nReading symbols from /lib/libc.so.6...(no debugging symbols found)...done.\nLoaded symbols for /lib/libc.so.6\nReading symbols from /lib/ld-linux.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/ld-linux.so.2\nReading symbols from /lib/libresolv.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libresolv.so.2\nReading symbols from /usr/lib/libsasl2.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libsasl2.so.2\nReading symbols from /usr/lib/libgnutls.so.11...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgnutls.so.11\nReading symbols from /usr/lib/libtasn1.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libtasn1.so.2\nReading symbols from /usr/lib/libgcrypt.so.11...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgcrypt.so.11\nReading symbols from /usr/lib/libgpg-error.so.0...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libgpg-error.so.0\nReading symbols from /lib/libnss_compat.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_compat.so.2\nReading symbols from /lib/libnss_nis.so.2...\n(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_nis.so.2\nReading symbols from /lib/libnss_files.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_files.so.2\nReading symbols from /usr/lib/apache2/modules/mod_actions.so...(no debugging\nsymbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_actions.so\nReading symbols from /usr/lib/apache2/modules/mod_cgi.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_cgi.so\nReading symbols from /usr/lib/apache2/modules/mod_include.so...(no debugging\nsymbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_include.so\nReading symbols from /usr/lib/apache2/modules/mod_python.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_python.so\nReading symbols from /usr/lib/libpython2.3.so.1.0...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libpython2.3.so.1.0\nReading symbols from /lib/libutil.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libutil.so.1\nReading symbols from /usr/lib/apache2/modules/libphp4.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/apache2/modules/libphp4.so\nReading symbols from /usr/lib/libzzip-0.so.12...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libzzip-0.so.12\nReading symbols from /usr/lib/libbz2.so.1.0...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libbz2.so.1.0\nReading symbols from /usr/lib/libgssapi_krb5.so.2...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libgssapi_krb5.so.2\nReading symbols from /usr/lib/libkrb5.so.3...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libkrb5.so.3\nReading symbols from /usr/lib/libk5crypto.so.3...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libk5crypto.so.3\nReading symbols from /lib/libcom_err.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libcom_err.so.2\nReading symbols from /usr/lib/apache2/modules/mod_rewrite.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_rewrite.so\nReading symbols from /usr/lib/apache2/modules/mod_ssl.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_ssl.so\nReading symbols from /usr/lib/apache2/modules/mod_suexec.so...(no debugging\nsymbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_suexec.so\nReading symbols from /usr/lib/php4/20020429/mysql.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/php4/20020429/mysql.so\nReading symbols from /usr/lib/libmysqlclient.so.12...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libmysqlclient.so.12\nReading symbols from /usr/lib/php4/20020429/imap.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/php4/20020429/imap.so\nReading symbols from /usr/lib/libc-client.so.2002edebian...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libc-client.so.2002edebian\nReading symbols from /lib/libpam.so.0...(no debugging symbols found)...done.\nLoaded symbols for /lib/libpam.so.0\nReading symbols from /usr/lib/php4/20020429/imagick.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/php4/20020429/imagick.so\nReading symbols from /usr/lib/libWand.so.6...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libWand.so.6\nReading symbols from /usr/lib/libMagick.so.6...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libMagick.so.6\nReading symbols from /usr/lib/liblcms.so.1...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/liblcms.so.1\nReading symbols from /usr/lib/libtiff.so.4...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libtiff.so.4\nReading symbols from /usr/lib/libjasper-1.701.so.1...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libjasper-1.701.so.1\nReading symbols from /usr/lib/libjpeg.so.62...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libjpeg.so.62\nReading symbols from /usr/lib/libpng12.so.0...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libpng12.so.0\nReading symbols from /usr/X11R6/lib/libdpstk.so.1...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libdpstk.so.1\nReading symbols from /usr/X11R6/lib/libdps.so.1...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libdps.so.1\nReading symbols from /usr/X11R6/lib/libXext.so.6...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libXext.so.6\nReading symbols from /usr/X11R6/lib/libXt.so.6...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libXt.so.6\nReading symbols from /usr/X11R6/lib/libSM.so.6...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/X11R6/lib/libSM.so.6\nReading symbols from /usr/X11R6/lib/libICE.so.6...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libICE.so.6\nReading symbols from /usr/X11R6/lib/libX11.so.6...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libX11.so.6\nReading symbols from /usr/lib/libxml2.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libxml2.so.2\nReading symbols from /usr/lib/libfreetype.so.6...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libfreetype.so.6\nReading symbols from /usr/lib/php4/20020429/gd.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/php4/20020429/gd.so\nReading symbols from /usr/lib/libgd.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgd.so.2\nReading symbols from /usr/lib/libt1.so.5...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libt1.so.5\nReading symbols from /usr/X11R6/lib/libXpm.so.4...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libXpm.so.4\nReading symbols from /usr/lib/libfontconfig.so.1...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libfontconfig.so.1\n\n0x4047aa18 in poll () from /lib/libc.so.6\n(gdb) thread apply all bt full\n\nThread 1 (Thread 16384 (LWP 24708)):\n#0  0x4047aa18 in poll () from /lib/libc.so.6\nNo symbol table info available.\n#1  0x4030b1bd in apr_poll () from /usr/lib/libapr-0.so.0\nNo symbol table info available.\n#2  0x4030b8f3 in apr_wait_for_io_or_timeout () from /usr/lib/libapr-0.so.0\nNo symbol table info available.\n#3  0x4030116f in apr_socket_sendv () from /usr/lib/libapr-0.so.0\nNo symbol table info available.\n#4  0x403015e4 in apr_sendv () from /usr/lib/libapr-0.so.0\nNo symbol table info available.\n#5  0x0808da32 in ap_add_output_filters_by_type ()\nNo symbol table info available.\n#6  0x0808efd7 in ap_core_translate ()\nNo symbol table info available.\n#7  0x080860f1 in ap_pass_brigade ()\nNo symbol table info available.\n#8  0x080860f1 in ap_pass_brigade ()\nNo symbol table info available.\n#9  0x08088b8e in ap_content_length_filter ()\nNo symbol table info available.\n#10 0x080860f1 in ap_pass_brigade ()\nNo symbol table info available.\n#11 0x401a59f4 in apr_brigade_write () from /usr/lib/libaprutil-0.so.0\nNo symbol table info available.\n#12 0x08088f6d in ap_old_write_filter ()\nNo symbol table info available.\n#13 0x0808907b in ap_rwrite ()\nNo symbol table info available.\n#14 0x4086f158 in execute () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#15 0x4083e5b5 in php_ob_get_length () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#16 0x087f93dc in ?? ()\nNo symbol table info available.\n#17 0x0000305b in ?? ()\nNo symbol table info available.\n#18 0x00000000 in ?? ()\nNo symbol table info available.\n#19 0x40a00274 in ?? () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#20 0x087eb7bc in ?? ()\nNo symbol table info available.\n#21 0xbffef130 in ?? ()\nNo symbol table info available.\n#22 0xbffef0e8 in ?? ()\nNo symbol table info available.\n#23 0x4083d3e9 in php_body_write () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#24 0x4083d3e9 in php_body_write () from /usr/lib/apache2/modules/libphp4.so\n---Type <return> to continue, or q <return> to quit---\nNo symbol table info available.\n#25 0x4082b3c6 in php_request_shutdown () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#26 0x4085995c in zend_print_zval_ex () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#27 0x408598e2 in zend_print_zval () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#28 0x408594c5 in zend_print_variable () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#29 0x4086989f in execute () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#30 0x4086c404 in execute () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#31 0x4086ad15 in execute () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#32 0x4086ad15 in execute () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#33 0x4085abc1 in zend_execute_scripts () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#34 0x4082cccf in php_execute_script () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#35 0x4087013f in execute () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#36 0x08078375 in ap_run_handler ()\nNo symbol table info available.\n#37 0x08078980 in ap_invoke_handler ()\nNo symbol table info available.\n#38 0x08069c6a in ap_process_request ()\nNo symbol table info available.\n#39 0x0806512d in _start ()\nNo symbol table info available.\n#40 0x082fce88 in ?? ()\nNo symbol table info available.\n#41 0x00000004 in ?? ()\nNo symbol table info available.\n#42 0x082fce88 in ?? ()\nNo symbol table info available.\n#43 0x0808370c in ap_run_pre_connection ()\nNo symbol table info available.\n#44 0x080835c5 in ap_run_process_connection ()\nNo symbol table info available.\n#45 0x08076974 in ap_graceful_stop_signalled ()\nNo symbol table info available.\n#46 0x08076ac7 in ap_graceful_stop_signalled ()\nNo symbol table info available.\n#47 0x08076d59 in ap_graceful_stop_signalled ()\nNo symbol table info available.\n#48 0x08077445 in ap_mpm_run ()\nNo symbol table info available.\n#49 0x0807da8d in main ()\nNo symbol table info available.\n---Type <return> to continue, or q <return> to quit---\n#0  0x4047aa18 in poll () from /lib/libc.so.6\n\n", "id": 97750, "time": "2007-01-07T09:08:25Z", "creator": "k.burger@burgernet.org", "creation_time": "2007-01-07T09:08:25Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "text": "(In reply to comment #6)\n> I had attached gdb on a child process. The output doesn't look better.\n\nIt does look better. Can you please execute\n\nnetstat -apn\n\nas root in the case your server stops responding again?\nFurthermore please let me know if you set the directive TimeOut somewhere in\nyour configuration and if yes, to what value it is set.", "attachment_id": null, "bug_id": 41252, "id": 97758, "time": "2007-01-07T14:01:15Z", "creator": "rpluem@apache.org", "creation_time": "2007-01-07T14:01:15Z", "is_private": false}, {"count": 8, "tags": [], "text": "The output of netstat -anp. I replaced the ip.\n:~# netstat -apn\nActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address           Foreign Address         State      \nPID/Program name   \ntcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN    \n5504/apache2        \ntcp        0      0 ip:80        71.142.74.165:4045      SYN_RECV   -          \n        \ntcp        0      0 ip:80        152.99.132.11:28857     SYN_RECV   -          \n        \ntcp        0      0 ip:80        60.49.83.120:2623       SYN_RECV   -          \n        \ntcp        0      0 ip:80        203.177.206.111:3657    SYN_RECV   -          \n        \ntcp        0      0 ip:80        61.6.163.20:47252       SYN_RECV   -          \n        \ntcp        0      0 ip:80        69.156.10.49:60031      SYN_RECV   -          \n        \ntcp        0      0 ip:80        202.158.82.81:33516     SYN_RECV   -          \n        \ntcp        0      0 ip:80        202.84.120.231:13848    SYN_RECV   -          \n        \ntcp        0      0 ip:80        60.50.83.71:33475       SYN_RECV   -          \n        \ntcp        0      0 ip:80        218.186.8.13:26775      SYN_RECV   -          \n        \ntcp        0      0 ip:80        219.95.162.52:50236     SYN_RECV   -          \n        \ntcp        0      0 ip:80        210.213.148.30:63747    SYN_RECV   -          \n        \ntcp        0      0 ip:80        60.52.16.206:14394      SYN_RECV   -          \n        \ntcp        0      0 ip:80        60.50.216.224:50373     SYN_RECV   -          \n        \ntcp        0      0 ip:80        218.208.208.198:4701    SYN_RECV   -          \n        \ntcp        0      0 ip:80        203.12.220.237:52125    SYN_RECV   -          \n        \ntcp        0      0 ip:80        60.49.83.120:2522       SYN_RECV   -          \n        \ntcp        0      0 ip:80        60.48.71.121:3926       SYN_RECV   -          \n        \ntcp        0      0 ip:80        218.186.8.13:55934      SYN_RECV   -          \n        \ntcp        0      0 ip:80        60.52.14.17:3650        SYN_RECV   -          \n        \ntcp        0      0 ip:80        203.12.220.237:52640    SYN_RECV   -          \n        \ntcp        0      0 ip:80        203.12.220.238:51122    SYN_RECV   -          \n        \ntcp        0      0 ip:80        219.93.220.30:63869     SYN_RECV   -          \n        \ntcp        0      0 ip:80        219.94.88.250:3518      SYN_RECV   -          \n        \ntcp        0      0 0.0.0.0:21              0.0.0.0:*               LISTEN    \n6466/proftpd: (acce \ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN    \n13984/sshd          \ntcp        0      0 0.0.0.0:25              0.0.0.0:*               LISTEN    \n23459/master        \ntcp        0      0 0.0.0.0:993             0.0.0.0:*               LISTEN    \n14050/inetd         \ntcp        0      0 127.0.0.1:10025         0.0.0.0:*               LISTEN    \n13381/clamsmtpd     \ntcp        0      0 0.0.0.0:6666            0.0.0.0:*               LISTEN    \n1824/perl           \ntcp        0      0 127.0.0.1:10026         0.0.0.0:*               LISTEN    \n23459/master        \ntcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN    \n31840/mysqld        \ntcp        0      0 0.0.0.0:110             0.0.0.0:*               LISTEN    \n14050/inetd         \ntcp        0      0 127.0.0.1:783           0.0.0.0:*               LISTEN    \n30692/spamd.pid     \ntcp        0      0 0.0.0.0:143             0.0.0.0:*               LISTEN    \n14050/inetd         \ntcp      260      0 ip:80        61.6.163.20:45833       ESTABLISHED-          \n        \ntcp      144      0 ip:80        71.142.74.165:1580      CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:31745       ESTABLISHED-          \n        \ntcp      260      0 ip:80        61.6.163.20:46366       ESTABLISHED-          \n        \ntcp      260      0 ip:80        61.6.163.20:24604       ESTABLISHED-          \n        \ntcp        0  14600 ip:80        152.99.132.11:10055     CLOSE_WAIT\n12800/apache2       \ntcp      145      0 ip:80        218.208.199.6:62651     CLOSE_WAIT -          \n        \ntcp      144      0 ip:80        202.84.120.231:13725    CLOSE_WAIT -          \n        \ntcp      144      0 ip:80        202.84.120.231:13468    CLOSE_WAIT -          \n        \ntcp      144      0 ip:80        71.142.74.165:3645      CLOSE_WAIT -          \n        \ntcp      142      0 ip:80        152.99.132.11:21071     CLOSE_WAIT -          \n        \ntcp      171      0 ip:80        60.51.77.240:3537       CLOSE_WAIT -          \n        \ntcp      144      0 ip:80        71.142.74.165:3845      CLOSE_WAIT -          \n        \ntcp      142      0 ip:80        222.164.164.93:4806     CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        202.128.48.101:4943     CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        202.128.48.101:3917     CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        69.156.10.49:61234      CLOSE_WAIT 6179/apache2\n       \ntcp      153      0 ip:80        203.12.220.237:35141    CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:40759       ESTABLISHED-          \n        \ntcp      153      0 ip:80        202.128.48.101:4438     CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:26419       ESTABLISHED-          \n        \ntcp      155      0 ip:80        69.156.10.49:61733      CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:25137       ESTABLISHED-          \n        \ntcp      150      0 ip:80        218.111.107.186:61629   CLOSE_WAIT -          \n        \ntcp      157      0 ip:80        124.83.18.1:61371       CLOSE_WAIT -          \n        \ntcp      144      0 ip:80        71.142.74.165:1380      CLOSE_WAIT -          \n        \ntcp      144      0 ip:80        60.49.83.120:2019       CLOSE_WAIT -          \n        \ntcp      138      0 ip:80        218.111.190.39:4367     CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:44355       ESTABLISHED-          \n        \ntcp      144      0 ip:80        71.142.74.165:3442      CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:35933       ESTABLISHED-          \n        \ntcp      238      0 ip:80        218.186.8.13:11097      ESTABLISHED-          \n        \ntcp      145      0 ip:80        218.208.199.6:63733     CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:22355       ESTABLISHED-          \n        \ntcp      154      0 ip:80        219.95.19.90:1496       CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        71.142.74.165:4950      CLOSE_WAIT\n25250/apache2       \ntcp      260      0 ip:80        61.6.163.20:21620       ESTABLISHED-          \n        \ntcp        0  13860 ip:80        218.208.199.36:57335    CLOSE_WAIT\n30881/apache2       \ntcp        0      0 ip:80        222.164.164.93:4706     ESTABLISHED-          \n        \ntcp      157      0 ip:80        124.83.18.1:60797       CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:21132       ESTABLISHED-          \n        \ntcp      260      0 ip:80        61.6.163.20:30093       ESTABLISHED-          \n        \ntcp      142      0 ip:80        203.215.65.78:62689     CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        60.52.14.17:4893        CLOSE_WAIT\n13954/apache2       \ntcp        0  14520 ip:80        219.95.100.203:4155     CLOSE_WAIT\n27616/apache2       \ntcp        0      0 ip:80        69.156.10.49:61832      ESTABLISHED-          \n        \ntcp      233      0 ip:80        74.6.73.158:58117       CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:23195       ESTABLISHED-          \n        \ntcp      260      0 ip:80        61.6.163.20:27289       ESTABLISHED-          \n        \ntcp      260      0 ip:80        61.6.163.20:42900       ESTABLISHED-          \n        \ntcp      144      0 ip:80        71.142.74.165:1980      CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:30867       ESTABLISHED-          \n        \ntcp      144      0 ip:80        202.84.120.231:13609    CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        69.156.10.49:61631      CLOSE_WAIT -          \n        \ntcp      171      0 ip:80        60.51.77.240:3430       CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:36796       ESTABLISHED-          \n        \ntcp      260      0 ip:80        61.6.163.20:35005       ESTABLISHED-          \n        \ntcp        0  10136 ip:80        61.6.163.20:13245      \nESTABLISHED30753/apache2       \ntcp      144      0 ip:80        71.142.74.165:1179      CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:28083       ESTABLISHED-          \n        \ntcp      260      0 ip:80        61.6.163.20:32479       ESTABLISHED-          \n        \ntcp      144      0 ip:80        71.142.74.165:1780      CLOSE_WAIT -          \n        \ntcp        0  14600 ip:80        124.83.18.1:60199       CLOSE_WAIT\n13058/apache2       \ntcp        0  14520 ip:80        69.156.10.49:61432      CLOSE_WAIT\n16099/apache2       \ntcp      260      0 ip:80        61.6.163.20:43502       ESTABLISHED-          \n        \ntcp      260      0 ip:80        61.6.163.20:24046       ESTABLISHED-          \n        \ntcp      239      0 ip:80        218.186.8.13:50400      CLOSE_WAIT -          \n        \ntcp      150      0 ip:80        218.111.107.186:64543   CLOSE_WAIT -          \n        \ntcp        0      0 ip:80        60.49.83.120:2119       ESTABLISHED-          \n        \ntcp      142      0 ip:80        152.99.132.11:23478     CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        69.156.10.49:61931      CLOSE_WAIT -          \n        \ntcp      260      0 ip:80        61.6.163.20:37626       ESTABLISHED-          \n        \ntcp      150      0 ip:80        218.111.107.186:61449   CLOSE_WAIT -          \n        \ntcp      145      0 ip:80        218.208.199.6:63319     CLOSE_WAIT -          \n        \ntcp      239      0 ip:80        218.186.8.13:49402      CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        218.208.199.6:61525     CLOSE_WAIT\n13122/apache2       \ntcp      145      0 ip:80        218.208.199.6:64081     CLOSE_WAIT -          \n        \ntcp      239      0 ip:80        203.12.220.238:49276    CLOSE_WAIT -          \n        \ntcp        0  14480 ip:80        203.12.220.238:54653    CLOSE_WAIT\n12960/apache2       \ntcp        0  14320 ip:80        219.93.220.30:62756     CLOSE_WAIT\n10020/apache2       \ntcp      145      0 ip:80        219.95.162.52:50303     CLOSE_WAIT -          \n        \ntcp      150      0 ip:80        222.131.212.220:4314    CLOSE_WAIT -          \n        \ntcp        0      1 ip:80        152.99.132.12:38726     FIN_WAIT1  -          \n        \ntcp      145      0 ip:80        218.208.208.198:4501    CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        60.53.72.134:38051      CLOSE_WAIT\n17634/apache2       \ntcp      155      0 ip:80        219.95.94.132:2264      CLOSE_WAIT -          \n        \ntcp        0      0 ip:80        125.212.67.17:1304      ESTABLISHED-          \n        \ntcp      150      0 ip:80        60.50.83.71:33208       CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        219.93.220.30:63244     CLOSE_WAIT -          \n        \ntcp      239      0 ip:80        203.12.220.238:54607    CLOSE_WAIT -          \n        \ntcp        0      0 ip:80        219.95.94.132:2038      ESTABLISHED-          \n        \ntcp      142      0 ip:80        152.99.132.12:52066     CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        218.111.37.247:15562    CLOSE_WAIT -          \n        \ntcp      142      0 ip:80        124.82.28.158:50602     CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        60.48.71.121:3724       CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        60.48.71.121:3825       CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        219.93.220.30:63586     CLOSE_WAIT -          \n        \ntcp      475      0 ip:80        75.126.32.98:58822      CLOSE_WAIT -          \n        \ntcp      239      0 ip:80        203.12.220.238:36406    CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        219.93.220.30:63081     CLOSE_WAIT -          \n        \ntcp        0  14600 ip:80        152.99.132.12:25118     CLOSE_WAIT\n14245/apache2       \ntcp      145      0 ip:80        60.50.216.224:50177     CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        219.95.162.52:50489     CLOSE_WAIT\n28641/apache2       \ntcp      238      0 ip:80        203.12.220.238:55338    ESTABLISHED-          \n        \ntcp        0      1 ip:80        60.50.216.224:50975     FIN_WAIT1  -          \n        \ntcp      154      0 ip:80        218.111.37.247:14756    CLOSE_WAIT -          \n        \ntcp      193      0 ip:80        74.6.73.247:50339       CLOSE_WAIT -          \n        \ntcp      145      0 ip:80        219.95.162.52:50966     CLOSE_WAIT -          \n        \ntcp       90      0 ip:80        195.225.107.63:35436    CLOSE_WAIT -          \n        \ntcp        0  11152 ip:22        62.203.134.30:19588     ESTABLISHED24548/0    \n        \ntcp      239      0 ip:80        203.12.220.238:59668    CLOSE_WAIT -          \n        \ntcp        0      0 ip:143       62.203.134.30:19587     ESTABLISHED17954/imapd\n        \ntcp        0  14520 ip:80        219.95.162.52:50950     CLOSE_WAIT\n13794/apache2       \ntcp      142      0 ip:80        152.99.132.12:32288     CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        60.48.71.121:3524       CLOSE_WAIT 1681/apache2\n       \ntcp      144      0 ip:80        60.48.55.169:2969       CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        219.94.88.250:3015      CLOSE_WAIT -          \n        \ntcp      239      0 ip:80        203.12.220.238:44796    CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        210.213.194.236:13880   CLOSE_WAIT -          \n        \ntcp       90      0 ip:80        195.225.107.63:34958    CLOSE_WAIT -          \n        \ntcp      144      0 ip:80        60.48.55.169:3177       CLOSE_WAIT -          \n        \ntcp       90      0 ip:80        195.225.107.63:34432    CLOSE_WAIT -          \n        \ntcp      150      0 ip:80        60.50.83.71:33044       CLOSE_WAIT -          \n        \ntcp        0      0 ip:80        62.203.134.30:19581     ESTABLISHED-          \n        \ntcp      239      0 ip:80        203.12.220.238:49901    CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        218.111.37.247:14958    CLOSE_WAIT -          \n        \ntcp      239      0 ip:80        203.12.220.238:54251    CLOSE_WAIT -          \n        \ntcp      239      0 ip:80        203.12.220.238:38372    CLOSE_WAIT -          \n        \ntcp        0  14320 ip:80        219.93.220.30:62598     CLOSE_WAIT\n21702/apache2       \ntcp      156      0 ip:80        125.212.67.17:3487      CLOSE_WAIT -          \n        \ntcp      157      0 ip:80        60.53.72.134:47634      CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        219.95.94.132:2159      CLOSE_WAIT -          \n        \ntcp      145      0 ip:80        60.50.216.224:50662     CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        60.53.72.134:40207      CLOSE_WAIT\n13920/apache2       \ntcp      145      0 ip:80        218.208.208.198:4401    CLOSE_WAIT -          \n        \ntcp      157      0 ip:80        60.53.72.134:41986      CLOSE_WAIT -          \n        \ntcp      150      0 ip:80        222.131.212.220:4208    CLOSE_WAIT -          \n        \ntcp      239      0 ip:80        203.12.220.238:46783    CLOSE_WAIT -          \n        \ntcp      239      0 ip:80        203.12.220.238:47281    CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        219.93.220.30:63992     CLOSE_WAIT -          \n        \ntcp        0  14480 ip:80        203.12.220.238:32935    CLOSE_WAIT\n27425/apache2       \ntcp      239      0 ip:80        203.12.220.238:35490    CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        218.111.37.247:15137    CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        218.111.37.247:15391    CLOSE_WAIT -          \n        \ntcp      145      0 ip:80        60.50.216.224:50862     CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        219.94.88.250:3417      CLOSE_WAIT -          \n        \ntcp      150      0 ip:80        60.50.83.71:32875       CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        219.95.94.132:2367      CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        218.111.37.247:14343    CLOSE_WAIT -          \n        \ntcp      294      0 ip:80        66.249.72.50:38339      ESTABLISHED-          \n        \nudp        0      0 0.0.0.0:10000           0.0.0.0:*                         \n1824/perl           \nActive UNIX domain sockets (servers and established)\nProto RefCnt Flags       Type       State         I-Node PID/Program name    Path\nunix  2      [ ACC ]     STREAM     LISTENING     859948410 23459/master       \nprivate/rewrite\nunix  2      [ ACC ]     STREAM     LISTENING     859948447 23459/master       \nprivate/bounce\nunix  2      [ ACC ]     STREAM     LISTENING     859945598 31840/mysqld       \n/var/run/mysqld/mysqld.sock\nunix  2      [ ACC ]     STREAM     LISTENING     859944538 11654/clamd        \n/var/run/clamav/clamd.ctl\nunix  2      [ ACC ]     STREAM     LISTENING     859948401 23459/master       \npublic/cleanup\nunix  2      [ ACC ]     STREAM     LISTENING     859948484 23459/master       \npublic/flush\nunix  2      [ ACC ]     STREAM     LISTENING     859948506 23459/master       \npublic/showq\nunix  2      [ ACC ]     STREAM     LISTENING     859948452 23459/master       \nprivate/defer\nunix  2      [ ACC ]     STREAM     LISTENING     859948464 23459/master       \nprivate/trace\nunix  2      [ ACC ]     STREAM     LISTENING     859948479 23459/master       \nprivate/verify\nunix  2      [ ACC ]     STREAM     LISTENING     859948489 23459/master       \nprivate/proxymap\nunix  2      [ ACC ]     STREAM     LISTENING     859948494 23459/master       \nprivate/smtp\nunix  2      [ ACC ]     STREAM     LISTENING     859948499 23459/master       \nprivate/relay\nunix  2      [ ACC ]     STREAM     LISTENING     859948511 23459/master       \nprivate/error\nunix  2      [ ACC ]     STREAM     LISTENING     859948516 23459/master       \nprivate/local\nunix  2      [ ACC ]     STREAM     LISTENING     859948521 23459/master       \nprivate/virtual\nunix  2      [ ACC ]     STREAM     LISTENING     859948526 23459/master       \nprivate/lmtp\nunix  2      [ ACC ]     STREAM     LISTENING     859948531 23459/master       \nprivate/anvil\nunix  2      [ ACC ]     STREAM     LISTENING     859948536 23459/master       \nprivate/maildrop\nunix  2      [ ACC ]     STREAM     LISTENING     859948541 23459/master       \nprivate/uucp\nunix  2      [ ACC ]     STREAM     LISTENING     859948546 23459/master       \nprivate/ifmail\nunix  2      [ ACC ]     STREAM     LISTENING     859948552 23459/master       \nprivate/bsmtp\nunix  2      [ ACC ]     STREAM     LISTENING     859948557 23459/master       \nprivate/scalemail-backend\nunix  2      [ ACC ]     STREAM     LISTENING     859948562 23459/master       \nprivate/scan\nunix  14     [ ]         DGRAM                    859941280 14183/syslogd      \n/dev/log\nunix  2      [ ACC ]     STREAM     LISTENING     859948876 29701/saslauthd    \n/var/run/saslauthd/mux\nunix  2      [ ]         DGRAM                    1462646311 31136/CRON          \nunix  3      [ ]         STREAM     CONNECTED     1462626545 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462626544 16099/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462621643 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462621642 13954/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462614142 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462614141 30881/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462612860 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462612859 27425/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462611736 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462611735 25250/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462611053 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462611052 13920/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462610285 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462610284 13794/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462609496 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462609495 13122/apache2       \nunix  2      [ ]         DGRAM                    1462602465 17954/imapd         \nunix  2      [ ]         DGRAM                    1462599688 4134/smtpd          \nunix  3      [ ]         STREAM     CONNECTED     1462568406 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462568405 6179/apache2        \nunix  3      [ ]         STREAM     CONNECTED     1462566204 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462566203 30753/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462564408 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462564406 1681/apache2        \nunix  3      [ ]         STREAM     CONNECTED     1462562365 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462562364 13058/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462556702 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462556695 12800/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462555544 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462555543 17634/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462550309 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462550308 10020/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462549604 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462549603 28641/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462547068 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462547067 12960/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462529777 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462529776 27616/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462528093 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462528092 14245/apache2       \nunix  3      [ ]         STREAM     CONNECTED     1462527393 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1462527392 21702/apache2       \nunix  2      [ ]         DGRAM                    1460113424 6688/pickup         \nunix  3      [ ]         STREAM     CONNECTED     1456949831 31840/mysqld      \n /var/run/mysqld/mysqld.sock\nunix  3      [ ]         STREAM     CONNECTED     1456949829 27425/apache2       \nunix  2      [ ]         DGRAM                    1074098776 1824/perl           \nunix  2      [ ]         DGRAM                    859983760 13381/clamsmtpd     \nunix  2      [ ]         DGRAM                    859951539 30692/spamd.pid     \nunix  2      [ ]         DGRAM                    859948875 29701/saslauthd     \nunix  2      [ ]         DGRAM                    859948582 24961/qmgr          \nunix  3      [ ]         STREAM     CONNECTED     859948570 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948569 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948566 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948565 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948561 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948560 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948556 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948555 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948550 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948549 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948545 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948544 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948540 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948539 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948535 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948534 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948530 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948529 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948525 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948524 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948520 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948519 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948515 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948514 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948510 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948509 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948503 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948502 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948498 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948497 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948493 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948492 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948488 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948487 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948483 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948482 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948478 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948477 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948463 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948462 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948451 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948450 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948446 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948445 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948409 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948408 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948405 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948404 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948398 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948397 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948393 23459/master        \nunix  3      [ ]         STREAM     CONNECTED     859948392 23459/master        \nunix  2      [ ]         DGRAM                    859948378 23459/master        \nunix  2      [ ]         DGRAM                    859945950 31908/logger        \nunix  2      [ ]         DGRAM                    859941327 15010/klogd \n\nI didn't find a TimeOut directive anywhere. ", "is_private": false, "bug_id": 41252, "id": 97796, "time": "2007-01-08T21:08:11Z", "creator": "k.burger@burgernet.org", "creation_time": "2007-01-08T21:08:11Z", "attachment_id": null}, {"count": 9, "tags": [], "text": "Ok. Next step :-).\nIf the server hangs again please do the following as root:\n\nnetstat -apn | egrep \":80 .*CLOSE_WAIT\"\n\nThis results in a list of processes which have connections in CLOSE_WAIT state.\nPlease choose a pid from one of those processes. E.g this would be 1681 in\nthe following line from your output\n\ntcp        0  14520 ip:80        60.48.71.121:3524       CLOSE_WAIT 1681/apache2\n\nand attach gdb to this process and issue the gdb command\n\nthread apply all bt full\n\nas done by you in comment #6.", "is_private": false, "bug_id": 41252, "id": 97847, "time": "2007-01-09T13:01:35Z", "creator": "rpluem@apache.org", "creation_time": "2007-01-09T13:01:35Z", "attachment_id": null}, {"count": 10, "attachment_id": null, "bug_id": 41252, "text": ":~# netstat -apn | egrep \":80 .*CLOSE_WAIT\"\ntcp      145      0 ip:80        219.95.97.240:3726      CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        201.228.82.187:54089    CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        203.167.26.85:3666      CLOSE_WAIT -          \n        \ntcp        0  14600 ip:80        161.142.55.242:2316     CLOSE_WAIT\n27269/apache2       \ntcp      142      0 ip:80        58.69.74.43:18076       CLOSE_WAIT -          \n        \ntcp      256      0 ip:80        213.42.21.76:17372      CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        58.69.136.11:63083      CLOSE_WAIT 354/apache2\n        \ntcp      155      0 ip:80        58.69.215.164:62051     CLOSE_WAIT -          \n        \ntcp      150      0 ip:80        71.200.2.227:3967       CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        210.213.147.92:63165    CLOSE_WAIT -          \n        \ntcp      152      0 ip:80        203.87.201.218:3612     CLOSE_WAIT -          \n        \ntcp        0  14140 ip:80        219.94.82.231:1968      CLOSE_WAIT 4612/apache2\n       \ntcp      153      0 ip:80        222.129.100.131:3385    CLOSE_WAIT -          \n        \ntcp        0  14600 ip:80        124.83.19.226:61693     CLOSE_WAIT 1938/apache2\n       \ntcp        0  14520 ip:80        58.69.215.164:61265     CLOSE_WAIT\n12769/apache2       \ntcp      150      0 ip:80        71.200.2.227:4167       CLOSE_WAIT -          \n        \ntcp      145      0 ip:80        124.105.86.249:63157    CLOSE_WAIT -          \n        \ntcp      142      0 ip:80        58.69.136.11:61761      CLOSE_WAIT -          \n        \ntcp      157      0 ip:80        219.95.9.172:63224      CLOSE_WAIT -          \n        \ntcp      150      0 ip:80        71.200.2.227:4667       CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        124.105.86.249:64981    CLOSE_WAIT\n30560/apache2       \ntcp      152      0 ip:80        203.87.201.218:3921     CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        201.228.82.187:54288    CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        210.213.147.92:62925    CLOSE_WAIT -          \n        \ntcp      142      0 ip:80        58.69.136.11:59921      CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        201.228.82.187:53792    CLOSE_WAIT -          \n        \ntcp      150      0 ip:80        71.200.2.227:4868       CLOSE_WAIT -          \n        \ntcp        0  14600 ip:80        124.83.19.226:61075     CLOSE_WAIT 1250/apache2\n       \ntcp      154      0 ip:80        161.142.55.242:2430     CLOSE_WAIT -          \n        \ntcp      150      0 ip:80        71.200.2.227:1301       CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        210.213.147.92:63525    CLOSE_WAIT -          \n        \ntcp      152      0 ip:80        203.87.201.218:3718     CLOSE_WAIT -          \n        \ntcp      150      0 ip:80        71.200.2.227:4067       CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        218.208.240.103:63593   CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        58.69.215.164:62433     CLOSE_WAIT -          \n        \ntcp      142      0 ip:80        58.69.74.43:18176       CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        219.95.185.216:2265     CLOSE_WAIT -          \n        \ntcp      412      0 ip:80        89.13.26.63:64574       CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        201.228.82.187:53990    CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        203.167.26.85:3559      CLOSE_WAIT -          \n        \ntcp      150      0 ip:80        71.200.2.227:40666      CLOSE_WAIT -          \n        \ntcp        0  14120 ip:80        201.228.82.187:53495    CLOSE_WAIT\n24835/apache2       \ntcp      152      0 ip:80        203.87.201.218:3512     CLOSE_WAIT -          \n        \ntcp      150      0 ip:80        71.200.2.227:4267       CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        201.228.82.187:53891    CLOSE_WAIT -          \n        \ntcp        0  14120 ip:80        201.228.82.187:53396    CLOSE_WAIT 9124/apache2\n       \ntcp      152      0 ip:80        203.87.201.218:3821     CLOSE_WAIT -          \n        \ntcp        0  14120 ip:80        201.228.82.187:53693    CLOSE_WAIT 2150/apache2\n       \ntcp      150      0 ip:80        71.200.2.227:4767       CLOSE_WAIT -          \n        \ntcp      145      0 ip:80        124.105.86.249:64369    CLOSE_WAIT -          \n        \ntcp      155      0 ip:80        58.69.215.164:62863     CLOSE_WAIT -          \n        \ntcp      111      0 ip:80        208.57.124.32:19674     CLOSE_WAIT -          \n        \ntcp      138      0 ip:80        75.30.187.145:3191      CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        203.84.184.206:65383    CLOSE_WAIT -          \n        \ntcp        0  13800 ip:80        60.51.202.74:20485      CLOSE_WAIT\n14210/apache2       \ntcp        0  14520 ip:80        70.152.128.96:50126     CLOSE_WAIT\n24739/apache2       \ntcp      153      0 ip:80        70.152.128.96:50379     CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        70.152.128.96:50121     CLOSE_WAIT -          \n        \ntcp      138      0 ip:80        60.52.24.154:4601       CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        70.152.128.96:50900     CLOSE_WAIT 3013/apache2\n       \ntcp      145      0 ip:80        60.51.43.179:16636      CLOSE_WAIT -          \n        \ntcp      156      0 ip:80        125.212.67.17:3872      CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        70.152.128.96:50410     CLOSE_WAIT\n21442/apache2       \ntcp      153      0 ip:80        203.84.184.206:59471    CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        210.213.174.16:60901    CLOSE_WAIT 832/apache2\n        \ntcp      111      0 ip:80        208.57.124.32:28896     CLOSE_WAIT -          \n        \ntcp       90      0 ip:80        195.225.107.63:33588    CLOSE_WAIT -          \n        \ntcp      138      0 ip:80        75.30.187.145:3402      CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        70.152.128.96:50680     CLOSE_WAIT -          \n        \ntcp      144      0 ip:80        210.213.176.242:21394   CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        70.152.128.96:50050     CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        210.213.174.16:61592    CLOSE_WAIT 385/apache2\n        \ntcp      153      0 ip:80        203.84.184.206:60723    CLOSE_WAIT -          \n        \ntcp      156      0 ip:80        125.212.67.17:4203      CLOSE_WAIT -          \n        \ntcp      171      0 ip:80        58.69.51.97:44287       CLOSE_WAIT -          \n        \ntcp      138      0 ip:80        75.30.187.145:3604      CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        70.152.128.96:50599     CLOSE_WAIT -          \n        \ntcp      144      0 ip:80        210.213.176.242:1206    CLOSE_WAIT -          \n        \ntcp      154      0 ip:80        60.48.64.132:3286       CLOSE_WAIT -          \n        \ntcp      156      0 ip:80        125.212.67.17:4445      CLOSE_WAIT -          \n        \ntcp      111      0 ip:80        208.57.124.32:6320      CLOSE_WAIT -          \n        \ntcp      111      0 ip:80        208.57.124.32:12974     CLOSE_WAIT -          \n        \ntcp      111      0 ip:80        208.57.124.32:18598     CLOSE_WAIT -          \n        \ntcp      138      0 ip:80        75.30.187.145:3300      CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        203.84.184.206:60403    CLOSE_WAIT -          \n        \ntcp      142      0 ip:80        60.52.83.167:4892       CLOSE_WAIT -          \n        \ntcp      111      0 ip:80        208.57.124.32:14406     CLOSE_WAIT -          \n        \ntcp      145      0 ip:80        60.51.43.179:18550      CLOSE_WAIT -          \n        \ntcp        0  14520 ip:80        70.152.128.96:50008     CLOSE_WAIT\n30433/apache2       \ntcp       90      0 ip:80        195.225.107.63:32940    CLOSE_WAIT -          \n        \ntcp      111      0 ip:80        208.57.124.32:20594     CLOSE_WAIT -          \n        \ntcp      156      0 ip:80        210.213.174.16:60281    CLOSE_WAIT -          \n        \ntcp      111      0 ip:80        208.57.124.32:16230     CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        203.84.184.206:59555    CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        203.84.184.206:59557    CLOSE_WAIT -          \n        \ntcp      144      0 ip:80        210.213.176.242:21278   CLOSE_WAIT -          \n        \ntcp      156      0 ip:80        210.213.174.16:60186    CLOSE_WAIT -          \n        \ntcp      156      0 ip:80        210.213.174.16:61494    CLOSE_WAIT -          \n        \ntcp      156      0 ip:80        125.212.67.17:4316      CLOSE_WAIT -          \n        \ntcp      156      0 ip:80        125.212.67.17:4567      CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        70.152.128.96:50229     CLOSE_WAIT -          \n        \ntcp      144      0 ip:80        210.213.176.242:21546   CLOSE_WAIT -          \n        \ntcp      153      0 ip:80        70.152.128.96:50488     CLOSE_WAIT -\n\n:~# gdb apache2 27269\nGNU gdb 6.3-debian\nCopyright 2004 Free Software Foundation, Inc.\nGDB is free software, covered by the GNU General Public License, and you are\nwelcome to change it and/or distribute copies of it under certain conditions.\nType \"show copying\" to see the conditions.\nThere is absolutely no warranty for GDB.  Type \"show warranty\" for details.\nThis GDB was configured as \"i386-linux\"...(no debugging symbols found)\nUsing host libthread_db library \"/lib/libthread_db.so.1\".\n\nAttaching to program: /usr/sbin/apache2, process 27269\nReading symbols from /lib/libdl.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libdl.so.2\nReading symbols from /lib/libcrypt.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libcrypt.so.1\nReading symbols from /usr/lib/libpcre.so.3...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libpcre.so.3\nReading symbols from /usr/lib/libz.so.1...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libz.so.1\nReading symbols from /usr/lib/i686/cmov/libssl.so.0.9.7...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/i686/cmov/libssl.so.0.9.7\nReading symbols from /usr/lib/i686/cmov/libcrypto.so.0.9.7...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/i686/cmov/libcrypto.so.0.9.7\nReading symbols from /usr/lib/libaprutil-0.so.0...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libaprutil-0.so.0\nReading symbols from /usr/lib/libldap_r.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libldap_r.so.2\nReading symbols from /usr/lib/liblber.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/liblber.so.2\nReading symbols from /usr/lib/libdb-4.2.so...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libdb-4.2.so\nReading symbols from /usr/lib/libexpat.so.1...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libexpat.so.1\nReading symbols from /usr/lib/libapr-0.so.0...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libapr-0.so.0\nReading symbols from /lib/librt.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/librt.so.1\nReading symbols from /lib/libm.so.6...(no debugging symbols found)...done.\nLoaded symbols for /lib/libm.so.6\nReading symbols from /lib/libnsl.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libnsl.so.1\nReading symbols from /lib/libpthread.so.0...\n(no debugging symbols found)...done.\n[Thread debugging using libthread_db enabled]\n[New Thread 16384 (LWP 27269)]\nLoaded symbols for /lib/libpthread.so.0\nReading symbols from /lib/libc.so.6...(no debugging symbols found)...done.\nLoaded symbols for /lib/libc.so.6\nReading symbols from /lib/ld-linux.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/ld-linux.so.2\nReading symbols from /lib/libresolv.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libresolv.so.2\nReading symbols from /usr/lib/libsasl2.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libsasl2.so.2\nReading symbols from /usr/lib/libgnutls.so.11...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgnutls.so.11\nReading symbols from /usr/lib/libtasn1.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libtasn1.so.2\nReading symbols from /usr/lib/libgcrypt.so.11...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgcrypt.so.11\nReading symbols from /usr/lib/libgpg-error.so.0...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libgpg-error.so.0\nReading symbols from /lib/libnss_compat.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_compat.so.2\nReading symbols from /lib/libnss_nis.so.2...\n(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_nis.so.2\nReading symbols from /lib/libnss_files.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_files.so.2\nReading symbols from /usr/lib/apache2/modules/mod_actions.so...(no debugging\nsymbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_actions.so\nReading symbols from /usr/lib/apache2/modules/mod_cgi.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_cgi.so\nReading symbols from /usr/lib/apache2/modules/mod_include.so...(no debugging\nsymbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_include.so\nReading symbols from /usr/lib/apache2/modules/mod_python.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_python.so\nReading symbols from /usr/lib/libpython2.3.so.1.0...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libpython2.3.so.1.0\nReading symbols from /lib/libutil.so.1...(no debugging symbols found)...done.\nLoaded symbols for /lib/libutil.so.1\nReading symbols from /usr/lib/apache2/modules/libphp4.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/apache2/modules/libphp4.so\nReading symbols from /usr/lib/libzzip-0.so.12...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libzzip-0.so.12\nReading symbols from /usr/lib/libbz2.so.1.0...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libbz2.so.1.0\nReading symbols from /usr/lib/libgssapi_krb5.so.2...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libgssapi_krb5.so.2\nReading symbols from /usr/lib/libkrb5.so.3...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libkrb5.so.3\nReading symbols from /usr/lib/libk5crypto.so.3...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libk5crypto.so.3\nReading symbols from /lib/libcom_err.so.2...(no debugging symbols found)...done.\nLoaded symbols for /lib/libcom_err.so.2\nReading symbols from /usr/lib/apache2/modules/mod_rewrite.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_rewrite.so\nReading symbols from /usr/lib/apache2/modules/mod_ssl.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_ssl.so\nReading symbols from /usr/lib/apache2/modules/mod_suexec.so...(no debugging\nsymbols found)...done.\nLoaded symbols for /usr/lib/apache2/modules/mod_suexec.so\nReading symbols from /usr/lib/php4/20020429/mysql.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/php4/20020429/mysql.so\nReading symbols from /usr/lib/libmysqlclient.so.12...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libmysqlclient.so.12\nReading symbols from /usr/lib/php4/20020429/imap.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/php4/20020429/imap.so\nReading symbols from /usr/lib/libc-client.so.2002edebian...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libc-client.so.2002edebian\nReading symbols from /lib/libpam.so.0...(no debugging symbols found)...done.\nLoaded symbols for /lib/libpam.so.0\nReading symbols from /usr/lib/php4/20020429/imagick.so...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/php4/20020429/imagick.so\nReading symbols from /usr/lib/libWand.so.6...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libWand.so.6\nReading symbols from /usr/lib/libMagick.so.6...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libMagick.so.6\nReading symbols from /usr/lib/liblcms.so.1...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/liblcms.so.1\nReading symbols from /usr/lib/libtiff.so.4...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libtiff.so.4\nReading symbols from /usr/lib/libjasper-1.701.so.1...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libjasper-1.701.so.1\nReading symbols from /usr/lib/libjpeg.so.62...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libjpeg.so.62\nReading symbols from /usr/lib/libpng12.so.0...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libpng12.so.0\nReading symbols from /usr/X11R6/lib/libdpstk.so.1...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libdpstk.so.1\nReading symbols from /usr/X11R6/lib/libdps.so.1...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libdps.so.1\nReading symbols from /usr/X11R6/lib/libXext.so.6...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libXext.so.6\nReading symbols from /usr/X11R6/lib/libXt.so.6...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libXt.so.6\nReading symbols from /usr/X11R6/lib/libSM.so.6...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/X11R6/lib/libSM.so.6\nReading symbols from /usr/X11R6/lib/libICE.so.6...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libICE.so.6\nReading symbols from /usr/X11R6/lib/libX11.so.6...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libX11.so.6\nReading symbols from /usr/lib/libxml2.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libxml2.so.2\nReading symbols from /usr/lib/libfreetype.so.6...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libfreetype.so.6\nReading symbols from /usr/lib/php4/20020429/gd.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/php4/20020429/gd.so\nReading symbols from /usr/lib/libgd.so.2...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libgd.so.2\nReading symbols from /usr/lib/libt1.so.5...(no debugging symbols found)...done.\nLoaded symbols for /usr/lib/libt1.so.5\nReading symbols from /usr/X11R6/lib/libXpm.so.4...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/X11R6/lib/libXpm.so.4\nReading symbols from /usr/lib/libfontconfig.so.1...(no debugging symbols\nfound)...done.\nLoaded symbols for /usr/lib/libfontconfig.so.1\nReading symbols from /lib/libnss_dns.so.2...\n(no debugging symbols found)...done.\nLoaded symbols for /lib/libnss_dns.so.2\n0x4047aa18 in poll () from /lib/libc.so.6\n(gdb) thread apply all bt full\n\nThread 1 (Thread 16384 (LWP 27269)):\n#0  0x4047aa18 in poll () from /lib/libc.so.6\nNo symbol table info available.\n#1  0x4030b1bd in apr_poll () from /usr/lib/libapr-0.so.0\nNo symbol table info available.\n#2  0x4030b8f3 in apr_wait_for_io_or_timeout () from /usr/lib/libapr-0.so.0\nNo symbol table info available.\n#3  0x4030116f in apr_socket_sendv () from /usr/lib/libapr-0.so.0\nNo symbol table info available.\n#4  0x403015e4 in apr_sendv () from /usr/lib/libapr-0.so.0\nNo symbol table info available.\n#5  0x0808da32 in ap_add_output_filters_by_type ()\nNo symbol table info available.\n#6  0x0808efd7 in ap_core_translate ()\nNo symbol table info available.\n#7  0x080860f1 in ap_pass_brigade ()\nNo symbol table info available.\n#8  0x080860f1 in ap_pass_brigade ()\nNo symbol table info available.\n#9  0x08088b8e in ap_content_length_filter ()\nNo symbol table info available.\n#10 0x080860f1 in ap_pass_brigade ()\nNo symbol table info available.\n#11 0x401a59f4 in apr_brigade_write () from /usr/lib/libaprutil-0.so.0\nNo symbol table info available.\n#12 0x08088f6d in ap_old_write_filter ()\nNo symbol table info available.\n#13 0x0808907b in ap_rwrite ()\nNo symbol table info available.\n#14 0x4086f158 in execute () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#15 0x4083e5b5 in php_ob_get_length () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#16 0x088126c4 in ?? ()\nNo symbol table info available.\n#17 0x0000305a in ?? ()\nNo symbol table info available.\n#18 0x00000000 in ?? ()\nNo symbol table info available.\n#19 0x40a00274 in ?? () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#20 0x0864f614 in ?? ()\nNo symbol table info available.\n#21 0xbffef020 in ?? ()\nNo symbol table info available.\n#22 0xbffeefd8 in ?? ()\nNo symbol table info available.\n#23 0x4083d3e9 in php_body_write () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#24 0x4083d3e9 in php_body_write () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#25 0x4082b3c6 in php_request_shutdown () from /usr/lib/apache2/modules/libphp4.so\n---Type <return> to continue, or q <return> to quit---\nNo symbol table info available.\n#26 0x4085995c in zend_print_zval_ex () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#27 0x408598e2 in zend_print_zval () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#28 0x408594c5 in zend_print_variable () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#29 0x4086989f in execute () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#30 0x4086c404 in execute () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#31 0x4086ad15 in execute () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#32 0x4086ad15 in execute () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#33 0x4085abc1 in zend_execute_scripts () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#34 0x4082cccf in php_execute_script () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#35 0x4087013f in execute () from /usr/lib/apache2/modules/libphp4.so\nNo symbol table info available.\n#36 0x08078375 in ap_run_handler ()\nNo symbol table info available.\n#37 0x08078980 in ap_invoke_handler ()\nNo symbol table info available.\n#38 0x08069c6a in ap_process_request ()\nNo symbol table info available.\n#39 0x0806512d in _start ()\nNo symbol table info available.\n#40 0x082fcee0 in ?? ()\nNo symbol table info available.\n#41 0x00000004 in ?? ()\nNo symbol table info available.\n#42 0x082fcee0 in ?? ()\nNo symbol table info available.\n#43 0x0808370c in ap_run_pre_connection ()\nNo symbol table info available.\n#44 0x080835c5 in ap_run_process_connection ()\nNo symbol table info available.\n#45 0x08076974 in ap_graceful_stop_signalled ()\nNo symbol table info available.\n#46 0x08076ac7 in ap_graceful_stop_signalled ()\nNo symbol table info available.\n#47 0x08076d59 in ap_graceful_stop_signalled ()\nNo symbol table info available.\n#48 0x08077445 in ap_mpm_run ()\nNo symbol table info available.\n#49 0x0807da8d in main ()\nNo symbol table info available.\n#0  0x4047aa18 in poll () from /lib/libc.so.6\n", "id": 97856, "time": "2007-01-09T21:04:38Z", "creator": "k.burger@burgernet.org", "creation_time": "2007-01-09T21:04:38Z", "tags": [], "is_private": false}, {"count": 11, "tags": [], "creator": "rpluem@apache.org", "attachment_id": null, "id": 97909, "time": "2007-01-10T13:05:27Z", "bug_id": 41252, "creation_time": "2007-01-10T13:05:27Z", "is_private": false, "text": "As I am little bit in a hurry right now just a short answer. After further\nanalysis I guess your server is impacted by some kind of DoS attack. Whether\nthis is intended or just a result of configuring your server with a too small\ncapacity for your site is a different story. So what can you do about it?\n\n1. Increase MaxClients in the <IfModule prefork.c> section by a huge amount.\n   Lets say to 100.\n2. Decrease the Timeout which by default is set to 300 secs (= 5 minutes) to a\n   much lower value. From my experience 15 is a good choice provided that you do  \n   not use CGI scripts that run longer than this time. Unfortunately the \n   directive Timeout sets timeouts for many different situations.\n3. Increase SendBufferSize to lets say 65536 (= 64kb). Keep in mind that this\n   amount of memory is used by every http connection done to your box and is \n   used until this connection is closed. So you have to take into account the \n   memory utilization of your box and the maximum number of clients (see 1.).\n\nLet me know if this gives you relief and helps."}, {"count": 12, "tags": [], "bug_id": 41252, "attachment_id": null, "text": "I set the timeout to 30 and installed mod-security last Thursday. Mod-security \nblocks a lot of access to the same site from different ip-addresses. I hope \nthe problem is now solved. Thank you for your help. ", "id": 98029, "time": "2007-01-14T02:43:36Z", "creator": "k.burger@burgernet.org", "creation_time": "2007-01-14T02:43:36Z", "is_private": false}]