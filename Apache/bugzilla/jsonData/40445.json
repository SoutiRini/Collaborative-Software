[{"count": 0, "tags": [], "bug_id": 40445, "attachment_id": null, "id": 93204, "time": "2006-09-08T10:46:30Z", "creator": "midha.rakesh@gmail.com", "creation_time": "2006-09-08T10:46:30Z", "is_private": false, "text": "With applying patch provided in Bug 40443, I was able to successfully Import\ndefault publication to jcrrepository.\n\nNow I changed\n <component class=\"org.apache.lenya.cms.repository.SourceNodeFactory\"\nlogger=\"lenya.nodefactory.source\"\nrole=\"org.apache.lenya.cms.repository.NodeFactory\"/> to   <component\nclass=\"org.apache.lenya.cms.jcr.JCRNodeFactory\" \nlogger=\"lenya.nodefactory.source\"\nrole=\"org.apache.lenya.cms.repository.NodeFactory\"/>\nin WEB-INF/cocoon-xconf, which means all the data for publication will come from\njcrrepository.\n\nWhen I try to open Default publication fro authoring, I get following error.\nNo resource type defined for document [default:authoring:/index:en]!\n\norg.apache.cocoon.ProcessingException: Sitemap: error when calling sub-sitemap\nat <map:mount> -\nfile:/C:/marquis1/Lenya1.4_3108/lenya-1.4.x/build/lenya/webapp/global-sitemap.xmap:421:113\nat <map:mount> -\nfile:/C:/marquis1/Lenya1.4_3108/lenya-1.4.x/build/lenya/webapp/sitemap.xmap:668:106\n\ncause: org.apache.lenya.cms.publication.DocumentException: No resource type\ndefined for document [default:authoring:/index:en]!\n\norg.apache.lenya.cms.publication.DocumentException: No resource type defined for\ndocument [default:authoring:/index:en]!\n\tat\norg.apache.lenya.cms.publication.DocumentImpl.getResourceType(DocumentImpl.java:414)\n\tat\norg.apache.lenya.cms.cocoon.components.modules.input.PageEnvelopeModule.getAttribute(PageEnvelopeModule.java:125)\n\tat\norg.apache.cocoon.components.treeprocessor.variables.PreparedVariableResolver.processModule(PreparedVariableResolver.java:272)"}, {"attachment_id": 18843, "tags": [], "bug_id": 40445, "is_private": false, "count": 1, "id": 93209, "time": "2006-09-08T10:56:05Z", "creator": "midha.rakesh@gmail.com", "creation_time": "2006-09-08T10:56:05Z", "text": "Created attachment 18843\nImported meta information in Import usecase\n\n\nThe problem is because of the way metadata is handled now. The information\nabout resourcetype is stored in metadata. The current Import usecase was\nimporting all the data files but was not importing meta information for each\npages.\n\nAdded code for importing metafiles to jcr repository, hence the resource type\nis found.\n\nThis patch fixes the problem with usage of default publication after importing."}, {"count": 2, "tags": [], "bug_id": 40445, "attachment_id": null, "id": 93741, "time": "2006-09-18T14:47:45Z", "creator": "andreas@apache.org", "creation_time": "2006-09-18T14:47:45Z", "is_private": false, "text": "Thanks for the patch! But:\n\nThe patch contains a hard-coded meta data URL. This should be handled in a\ngeneric way. BTW, please don't use tabstops. See the Lenya website for coding\nguidelines."}, {"count": 3, "tags": [], "bug_id": 40445, "attachment_id": null, "id": 138318, "time": "2010-07-10T05:23:49Z", "creator": "rfrovarp@apache.org", "creation_time": "2010-07-10T05:23:49Z", "is_private": false, "text": "JCR integration is a goal for the next version of Lenya. Modification of Lenya 2.x to have proper support for JCR will not happen at this time. Thank you for your submission."}]