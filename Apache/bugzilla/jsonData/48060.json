[{"count": 0, "tags": [], "creator": "qingyang.xu@qunar.com", "attachment_id": null, "is_private": false, "id": 131397, "time": "2009-10-26T17:36:03Z", "bug_id": 48060, "creation_time": "2009-10-26T17:36:03Z", "text": "/**\n         * Get the first object out of the queue, Return null if the queue\n         * is empty.\n         */\n        public Worker peek() {\n            return workers[end];\n        }\n\n\nshould be:\n\n         /**\n         * Get the first object out of the queue, Return null if the queue\n         * is empty.\n         */\n        public Worker peek() {\n            if (end > 0) {\n                return workers[end - 1];\n            }\n            return null;\n        }\n\nplease refer to the pop() method (apart from pop()'s side effect, pop() and peek() should return the same result):\n\n        /**\n         * Get the first object out of the queue. Return null if the queue\n         * is empty. \n         */\n        public Worker pop() {\n            if (end > 0) {\n                return workers[--end];\n            }\n            return null;\n        }\n\n\n'end' denotes the index beyond the last element, not the index of the last element itself. That is why the variable of 'end' is assigned a zero value at first."}, {"count": 1, "tags": [], "bug_id": 48060, "is_private": false, "text": "*** Bug 48046 has been marked as a duplicate of this bug. ***", "id": 131401, "time": "2009-10-26T17:39:14Z", "creator": "qingyang.xu@qunar.com", "creation_time": "2009-10-26T17:39:14Z", "attachment_id": null}]