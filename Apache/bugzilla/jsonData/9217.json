[{"count": 0, "tags": [], "bug_id": 9217, "attachment_id": null, "text": "I downloaded the 1.5Beta1 and ran it against my build.xml files that ran \ncorrectly in the nightly builds as late as early April. The only noticed problem \nwas a NullPointerException inside the WeblogicDeploymentTool class. \n\nWeblogicDeploymentTool was getting a null result back from \nGenericDeploymentTool.getCombinedPath(). GenericDeploymentTool builds this value \nfrom classpath which, if absent, from the task specification is null and causes \ngetCombinedPath to be returned as null.\n\nprotected Path getCombinedClasspath() {\n    Path combinedPath = classpath;    <-- if classpath null, this returns null\n    if (config.classpath != null) {\n        if (combinedPath == null) {\n            combinedPath = config.classpath;\n        } else {\n            combinedPath.append(config.classpath);\n        }\n    }\n    return combinedPath;\n}\n\n\n\nI added classpath=\"\" to the weblogic attributed and the NullPointerException \nceased. However, I got an invocation error because there was no classpath; \ncausing a command like the following to be submitted \"java -classpath \n-Dsomething=somthing package.Class\". \n\nWhen I added classpath=\"xxx\" to the weblogic attribute, it fixed the \nNullPointerException and the invocation error. The invocation command was then \nsomething like \"java -classpath xxx -Dsomething=something package.Class\".\n\n<ejbjar descriptordir=\"${src}\"\n        srcdir=\"${classes}\"\n        basejarname=\"${ejbfile}\"\n        manifest=\"${metainf}/MANIFEST.MF\"\n        flatdestdir=\"true\">\n   <support dir=\"${classes}\" includes=\"**/*\"/>\n   <weblogic destdir=\"${exploded.ear.dir}\"\n             classpath=\"xxx\"  <--- if missing, get NullPointerException\n                                   if \"\", get a jvm invocation error\n             wlclasspath=\"${wl.classes}\"\n             newCMP=\"true\"\n             keepgeneric=\"false\">\n   </weblogic>\n   <include name=\"META-INF/ejb-jar.xml\"/>\n   <dtd\n   publicId=\"-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN\"\n   location=\"${dtd.dir}/ejb-jar_2_0.dtd\"/>\n   <dtd\n   publicId=\"-//BEA Systems, Inc.//DTD WebLogic 6.0.0 EJB//EN\"\n   location=\"${dtd.dir}/weblogic-ejb-jar.dtd\"/>\n</ejbjar>", "id": 16357, "time": "2002-05-18T02:20:56Z", "creator": "jcstaff@apl.jhu.edu", "creation_time": "2002-05-18T02:20:56Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 9217, "text": "Fixed in 1.5 Beta 2. Please retest when the Beta is available\nThanks\n", "id": 16937, "time": "2002-05-30T13:23:26Z", "creator": "conor@apache.org", "creation_time": "2002-05-30T13:23:26Z", "is_private": false, "attachment_id": null}]