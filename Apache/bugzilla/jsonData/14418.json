[{"count": 0, "tags": [], "bug_id": 14418, "text": "I've compiled apache-2.0.43 on OpenBSD 3.2 very normal with:\n'./configure --prefix=/.../... --datadir=/.../...'\n\nAfter the configuration I've started it and it's running but if I want to \nconnect to the server my client tells me that it's unable to connect to the \nremote host.\n\nThere are no entries in the error or access log for this action.\nI've no problems to connect to the apache-1.3.27", "id": 26032, "time": "2002-11-10T12:59:25Z", "creator": "LukasRazik@web.de", "creation_time": "2002-11-10T12:59:25Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 14418, "attachment_id": null, "id": 26063, "time": "2002-11-11T13:23:52Z", "creator": "trawick@apache.org", "creation_time": "2002-11-11T13:23:52Z", "is_private": false, "text": "Did you get a core dump?\n\nTry\n\n  truss /path/to/httpd -DONE_PROCESS 2>&1 >tracefile\n\nand see why it exits (e.g., fatal signal or some syscall failed unexpectedly).\n\nIf it exits with a fatal signal, get a backtrace from a coredump.\n\n"}, {"count": 2, "tags": [], "bug_id": 14418, "text": "It doesn't exit with a fatal signal...\nI don't have truss on my system and I didn't find OpenBSD compatible source of \ntruss :(((\n\n=========================\n=== kernel trace data ===\n=========================\n\n======================================================\n=== only system calls ===\n=========================\nhttp://net.razik.de/apache/apache-2.0.43-c.txt\n\n--- system calls (with httpd shutdown by SIGINT) ---\nhttp://net.razik.de/apache/apache-2.0.43-c-SIGINT.txt\n======================================================\n\n======================================================\n===     only I/O      ===\n=========================\nhttp://net.razik.de/apache/apache-2.0.43-i.txt\n\n--- I/O (with httpd shutdown by SIGINT) ---\nhttp://net.razik.de/apache/apache-2.0.43-i-SIGINT.txt\n======================================================\n\nFor example the syscalls I've made with:\nktrace -t c -f apache-2.0.43-c /usr/local/apache/2.0.43/bin/httpd -X\nand\nkdump -f apache-2.0.43-c > apache-2.0.43-c.txt\n\nThen after a SIGINT to the process I've made a:\nkdump -f apache-2.0.43-c > apache-2.0.43-c-SIGINT.txt\n\nI hope this information help you...\n", "id": 26083, "attachment_id": null, "creator": "LukasRazik@web.de", "creation_time": "2002-11-11T19:09:51Z", "time": "2002-11-11T19:09:51Z", "is_private": false}, {"count": 3, "attachment_id": null, "creator": "LukasRazik@web.de", "text": "I've also read this\nhttp://spitfire.velocet.net/pipermail/freebsd-stable/2002-June/032077.html\nafter searching for\naccept -1 errno 35 Resource temporarily unavailable\n\nbut it didn't really understand the comments...\n", "id": 26087, "time": "2002-11-11T20:40:34Z", "bug_id": 14418, "creation_time": "2002-11-11T20:40:34Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 14418, "text": "Please run \"make distclean\" then add\n\n  --disable-threads \n\nto your configure invocation and try again.\n\nI see that you aren't providing --with-mpm= parameter.  (You need\nto use non-threaded prefork MPM.)\n", "id": 26187, "time": "2002-11-13T15:45:25Z", "creator": "trawick@apache.org", "creation_time": "2002-11-13T15:45:25Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 14418, "text": "If I configure apache with\n'--disable-threads' and '--with-mpm=prefork'\nor\n'--without-threads' and '--with-mpm=prefork'\nor only with\n'--with-mpm=prefork'\n\nthen 'httpd -l' lists:\ncore.c\nmod_access.c\nmod_auth.c\nmod_include.c\nmod_log_config.c\nmod_env.c\nmod_setenvif.c\nprefork.c\nhttp_core.c\nmod_mime.c\nmod_status.c\nmod_autoindex.c\nmod_asis.c\nmod_cgi.c\nmod_negotiation.c\nmod_dir.c\nmod_imap.c\nmod_actions.c\nmod_userdir.c\nmod_alias.c\nmod_so.c\n\nBut there's still the same problem:\n'errno 35 Resource temporarily unavailable'", "id": 26389, "time": "2002-11-15T14:32:13Z", "creator": "LukasRazik@web.de", "creation_time": "2002-11-15T14:32:13Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "text": "shots in the dark:\n\n  try specifying IPv4 on Listen statement\n    Listen 0.0.0.0:portnumber\n\n  try running as non-root (with port number > 1024)\n", "is_private": false, "id": 26636, "creator": "trawick@apache.org", "time": "2002-11-20T11:57:45Z", "bug_id": 14418, "creation_time": "2002-11-20T11:57:45Z", "attachment_id": null}, {"count": 7, "tags": [], "text": "If I run the server as non-root on port 8088 there are no problems...\nBut it would be _much_ better If apache could be started at port 80...???\n", "is_private": false, "bug_id": 14418, "id": 26738, "time": "2002-11-21T20:41:24Z", "creator": "LukasRazik@web.de", "creation_time": "2002-11-21T20:41:24Z", "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 14418, "text": "Did you ever resolve this problem?\n\nThe only thing I can suggest is to ask on an OpenBSD mailing list or newsgroup\nabout how to deal with accept returning EAGAIN.\n\nIt could be mbufs or something I guess, but I don't know why that would change\nwhen you switch to non-root and a high port.\n", "id": 31835, "time": "2003-02-24T04:33:31Z", "creator": "trawick@apache.org", "creation_time": "2003-02-24T04:33:31Z", "is_private": false, "attachment_id": null}, {"count": 9, "attachment_id": null, "creator": "LukasRazik@web.de", "text": "Hi!\n\nI've never resolved this problem but yesterday I've built the v2.0.44 of apache \non the same system and it works.\n\ncya and thnx!\nLukas\n", "id": 32061, "time": "2003-02-27T09:56:45Z", "bug_id": 14418, "creation_time": "2003-02-27T09:56:45Z", "tags": [], "is_private": false}, {"count": 10, "tags": [], "text": "Very weird, but I'm glad it is resolved\n\nThanks for using Apache!\n", "attachment_id": null, "id": 32069, "creator": "trawick@apache.org", "time": "2003-02-27T11:19:14Z", "bug_id": 14418, "creation_time": "2003-02-27T11:19:14Z", "is_private": false}]