[{"count": 0, "tags": [], "bug_id": 41196, "text": "Move the worker_queue to be created on the child rather than on the worker threads.\nAlso avoid using the child pool, it's not thread-safe.", "id": 97001, "time": "2006-12-17T11:33:19Z", "creator": "davi@apache.org", "creation_time": "2006-12-17T11:33:19Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "davi@apache.org", "attachment_id": 19275, "is_private": false, "id": 97002, "time": "2006-12-17T11:34:48Z", "bug_id": 41196, "creation_time": "2006-12-17T11:34:48Z", "text": "Created attachment 19275\nworker pchild pool thread usage"}, {"attachment_id": null, "tags": [], "creator": "sander.de.boer@eo.nl", "is_private": false, "count": 2, "id": 125894, "time": "2009-03-31T01:08:32Z", "bug_id": 41196, "creation_time": "2009-03-31T01:08:32Z", "text": "I have upgraded my apache 2.2.6 (solaris 10) box with the prefork mpm to apache 2.2.11 with the worker mpm. It's a reverse proxy for 2 backend tomcat(ajp) servers. Apache is also used as balancer.\n\n<Proxy balancer://patmos>\n  BalancerMember ajp://tomcat2:8009 route=mmbase01 min=5 smax=10 max=15\n  BalancerMember ajp://tomcat1:8009 route=mmbase02 min=5 smax=10 max=15\n</Proxy>\n\nSince this upgrade apache serves sometimes wrong content. It seems that the served content comes from another thread."}, {"count": 3, "text": "Which version of Tomcat do you use?\nAre you using the so-called tcnative or APR connector inside Tomcat?", "bug_id": 41196, "is_private": false, "id": 125895, "time": "2009-03-31T01:12:49Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2009-03-31T01:12:49Z", "tags": [], "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 41196, "text": "I am using the default APR connector with tomcat 6.0.16.", "id": 125896, "time": "2009-03-31T01:22:56Z", "creator": "sander.de.boer@eo.nl", "creation_time": "2009-03-31T01:22:56Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 41196, "text": "Can you disable the APR connector to check, whether the problem goes away? There have been a few reports of this problem against mod_jk, and in all cases which could be resolved, the reason was the APR connector.\n\nIn case removing APR helps, we will reassign your bug report to tomcat and try to solve the problem there.", "id": 125897, "time": "2009-03-31T02:17:23Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2009-03-31T02:17:23Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 41196, "attachment_id": null, "id": 125898, "time": "2009-03-31T02:22:17Z", "creator": "sander.de.boer@eo.nl", "creation_time": "2009-03-31T02:22:17Z", "is_private": false, "text": "but with apache 2.2.6 with the prefork mpm, everything work okay. So, why is this a tomcat related bug?"}, {"count": 7, "tags": [], "bug_id": 41196, "text": "My comments above are not related to this issue. My problems are introduced in 2.2.11. Sorry!\nI will open an new issue.", "id": 125924, "time": "2009-04-01T00:21:46Z", "creator": "sander.de.boer@eo.nl", "creation_time": "2009-04-01T00:21:46Z", "is_private": false, "attachment_id": null}]