[{"count": 0, "attachment_id": null, "bug_id": 34967, "is_private": false, "id": 75049, "time": "2005-05-19T10:57:38Z", "creator": "blumm@apache.org", "creation_time": "2005-05-19T10:57:38Z", "tags": [], "text": "setBufferSize() from HttpServletResponse fails.\n\nScenario:\n\na) Servlet A includes servlet B using a NamedDispatcher.\n\nb) Servlet B tests if buffering is supported by getBuffersize .\n     If buffering is supported servlet B uses setBufferSize to enlarge the \nbuffer. This does not work. \n \nThis is a code snippet from servlet B:\n\n public void doGet(HttpServletRequest request,\n                      HttpServletResponse response)\n        throws IOException, ServletException\n{\n\n//tests if buffering is supported\nint orgSize = response.getBufferSize()\nif (orgSize == 0) {\n  // not supported\n  \u2026\n} else if  ( orgSize > 0) {\n            int modSize=orgSize+1;\n            try {\n                response.setBufferSize(modSize) ;\n                int newSize = response.getBufferSize();\n                if (newSize >= modSize) {\n                   // (1) successful\n                } else {\n                   // (2) failed\n                }\n            } catch (IllegalStateException e) {\n                // (3) IllegalStateException caught\n            }\n}\n\nI ran this scenario and servlet B failed at point (2).\nIf I run servlet B stand alone (i.e. without including it from servlet A), it \nworks as expected and reaches point (1)."}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "is_private": false, "id": 75050, "time": "2005-05-19T11:16:33Z", "bug_id": 34967, "creation_time": "2005-05-19T11:16:33Z", "text": "See section 8.3 in the spec."}]