[{"count": 0, "tags": [], "bug_id": 42411, "attachment_id": null, "id": 103190, "time": "2007-05-14T09:10:13Z", "creator": "alex@dailycandy.com", "creation_time": "2007-05-14T09:10:13Z", "is_private": false, "text": "currently the DefaultServlet only uses PathInfo to locate the file to serve. i\nthink it should use ServletPath + PathInfo to serve the file.\n\nas it is now, it is impossible to use a servlet mapping like this:\n\n<servlet-mapping>\n   <servlet-name>default</servlet-name>\n   <url-pattern>/images/*</url-pattern>\n</servlet-mapping>\n\n<servlet-mapping>\n   <servlet-name>dispatcher</servlet-name>\n    <url-pattern>/</url-pattern>\n</servlet-mapping>\n\nif you make a request for '/images/blah.gif', ServletPath = '/images' and\nPathInfo = '/blah.gif'.\n\nso DefaultServlet will try to serve '/blah.gif' which doesn't exist because it\nis in the '/images/' directory. if it used ServletPath + PathInfo, it will work\nas expected.\n\nmaking this change will not affect the current standard usage of DefaultServlet\n(where its mapped to '/') because in that case ServletPath is null, so it only\nuses PathInfo. it will also still work if people use a suffix mapping.\n\nin the other case, where its is used with a path mapping like '/images/*', the\ncurrent behavior seems almost useless."}, {"count": 1, "tags": [], "text": "This is not going to be supported, however I encourage you to modify and use the\ndefault servlet.", "attachment_id": null, "id": 103194, "creator": "remm@apache.org", "time": "2007-05-14T09:37:30Z", "bug_id": 42411, "creation_time": "2007-05-14T09:37:30Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 42411, "text": "ok, if thats the only option.\n\njust out of curiosity, are you rejecting this cuz tomcat has always had this\nbehavior so why change it, or is there an actual reason for only using PathInfo?\n\ni couldn't really think of a good reason for only using PathInfo, so i'm\ninterested to know if there is one.", "id": 103196, "time": "2007-05-14T09:52:27Z", "creator": "alex@dailycandy.com", "creation_time": "2007-05-14T09:52:27Z", "is_private": false, "attachment_id": null}]