[{"count": 0, "text": "Users,\n    First off, my relevant information:  Apache 1.3.22 (Using this version\nbecause of single cookie bug in 23/24.) on Solaris 8.\n    I am attempting to proxy a PeopleSoft web application that has the\nannoying habit of constructing escaped HREF and SRC attributes like such:\n\nhttp%3a%2f%2fps-web.mycorp.net%3a8800%2fservlets%2ficlientservlet%2fpeopleso\nft8portal%2f\n\n    This causes my rewrite rules to treat it as a relative URL although it\nshould really be absolute.  These improperly escaped URLs end up getting\nrewritten into something like this:\n\n/servlets/psportal/peoplesoft8portal/http://ps-web.mycorp.net:8800/servlets/\niclientservlet/peoplesoft8portal/\n\nThe relevant portion of my httpd.conf:\n\n> ServerName ps-web.mycorp.net\n> Listen 8800\n>\n> CustomLog /path/to/apache/logs/custom.log \"\\n%p) %U%q\\n%p) %{REWRITE}e\\n\"\n> TransferLog /path/to/apache/logs/custom.log\n>\n> RewriteEngine On\n> RewriteRule ^(.*)$ $1 [E=REWRITE:$1]\n> RewriteRule ^/(.*)$  to://medusa.corp.rcn.net:8800/$1\n> RewriteRule ^to://([^/]+)/(.*)   http://$1/$2 [E=SERVER:$1,P,L]\n> RewriteRule .*  -  [F]\n>\n> ProxyRequests On\n> NoCache *\n>\n> ProxyPassReverse /  http://ps-web.mycorp.net:8800/\n\nAn example log snippet showing the empty URL string mod_rewrite is seeing.\nThe top line is generated by the TransferLog directive, and the bottom by\nthe RewriteLog.\n\n> 443)\n/servlets/psportal/peoplesoft8portal/http://ps-web.mycorp.net:8800/servlets/\niclientservlet/peoplesoft8portal/\n> 443) -\n\nAn example log snippet of a URL that wasn't escaped:\n\n> 443) /servlets/iclientservlet/peoplesoft8portal/\n> 443) /servlets/iclientservlet/peoplesoft8portal/", "bug_id": 7982, "is_private": false, "id": 13278, "time": "2002-04-11T20:25:53Z", "creator": "chet@rcn.com", "creation_time": "2002-04-11T20:25:53Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 7982, "attachment_id": null, "id": 34897, "time": "2003-04-10T17:54:57Z", "creator": "nd@perlig.de", "creation_time": "2003-04-10T17:54:57Z", "is_private": false, "text": "Hmm. Does the problem persist in the current version (1.3.27)? If so, could you\nplease attach the whole rewritelog with rewriteloglevel 9?\n\nThanks."}, {"count": 2, "tags": [], "text": "Again, in order work on this, we need the requested information. Apache 1.3.23\nis quite outdated. Please reproduce it with 1.3.28 or 1.3.29 (comming soon) and\nattach a full rewritelog. Thanks.", "is_private": false, "id": 46328, "creation_time": "2003-10-27T17:30:45Z", "time": "2003-10-27T17:30:45Z", "creator": "nd@perlig.de", "bug_id": 7982, "attachment_id": null}]