[{"count": 0, "tags": [], "bug_id": 41190, "attachment_id": null, "text": "When using an sdbm map mod_rewrite stats the wrong file when checking for\nfreshness, it stats the .dir file (that seldom changes) instead of the .pag file.\n\nThe problem lies in the fact that cmd_rewritemap() ignores the second value\nreturned from apr_dbm_get_usednames_ex. The only dbm type that uses the second\nvalue is sdbm, and it's always the .pag file.\n\nThere are multiple things to consider to solve this, which is why I won't\nprovide a patch. I'll give my point of view though:\n\nIt should be documented which file returned from apr_dbm_get_usednames_ex is the\none to check freshness, I'd suggest that this be the first value and that\napr-util/dbm/apr_dbm_sdbm.c is fixed to follow this (it's the only one returning\ntwo values).\n\nOr you can document that the second value is the file to check for freshness and\nfix mod_rewrite.c. This would be the most backwards compatible solution as it\nwould not require an updated apr-utils when not using the httpd-bundled apr-utils.", "id": 96989, "time": "2006-12-17T02:34:17Z", "creator": "nikke@acc.umu.se", "creation_time": "2006-12-17T02:34:17Z", "is_private": false}, {"count": 1, "attachment_id": null, "creator": "nikke@acc.umu.se", "text": "Fix committed to trunk as http://svn.apache.org/viewvc?rev=632730&view=rev", "id": 114171, "time": "2008-03-02T04:38:12Z", "bug_id": 41190, "creation_time": "2008-03-02T04:38:12Z", "tags": [], "is_private": false}, {"count": 2, "attachment_id": null, "creator": "sf@sfritsch.de", "is_private": false, "id": 149391, "time": "2011-09-17T15:54:36Z", "bug_id": 41190, "creation_time": "2011-09-17T15:54:36Z", "tags": [], "text": "2.2.9 / r633885"}]