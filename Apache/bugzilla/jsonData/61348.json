[{"count": 0, "tags": [], "text": "Before Apache httpd-2.4.26 compilation, openssl has been compiled. \nI built both (openssl and apache) on Windows with nmake. \n\nOpenssl is placed in srclib folder:\n\\httpd-2.4.26\\srclib\\openssl\nits headers - here:\n\\httpd-2.4.26\\srclib\\openssl\\inc32\\openssl\n    \nApache compilation failed just after abs.mak execution.\nHave a look at these lines in abs.mak (~330):\n\n\n!IF  \"$(CFG)\" == \"abs - Win32 Release\"\n\nInputPath=../include\\ap_release.h\n\n\"..\\srclib\\openssl\\include\\openssl\\applink.c\" : $(SOURCE) \"$(INTDIR)\" \"$(OUTDIR)\"\n\t<<tempfile.bat \n\t@echo off \n\tIF EXIST ..\\srclib\\openssl\\ms\\applink.c type ..\\srclib\\openssl\\ms\\applink.c > ..\\srclib\\openssl\\include\\openssl\\applink.c\n<< \n\n\nThe file applink.c cannot be found in \\srclib\\openssl\\include\\openssl\n(if openssl built on Windows, it's in inc32 folder).\n\nThe output of apache:\n        cd ..\\..\n        cd modules\\ssl\n        \"C:\\Program Files (x86)\\Microsoft Visual Studio 10.0\\VC\\BIN\\nmake.exe\" -\nnologo -f mod_ssl.mak         CFG=\"mod_ssl - Win32 Release\" RECURSE=0\n        rc.exe /l 0x409 /fo\".\\Release\\mod_ssl.res\" /i \"../../include\" /i \"../../\nsrclib/apr/include\" /i \"../../build\\win32\" /d \"NDEBUG\" /d BIN_NAME=\"mod_ssl.so\"\n/d LONG_NAME=\"proxy_ssl_module for Apache\" ..\\..\\build\\win32\\httpd.rc\nMicrosoft (R) Windows (R) Resource Compiler Version 6.1.7600.16385\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        cl.exe @C:\\Users\\USER_NAME\\AppData\\Local\\Temp\\82\\nmCEF9.tmp\nmod_ssl.c\nssl_engine_config.c\nssl_engine_init.c\nssl_engine_io.c\nssl_engine_kernel.c\nssl_engine_kernel.c(2373) : warning C4018: '<' : signed/unsigned mismatch\nssl_engine_log.c\nssl_engine_mutex.c\nssl_engine_pphrase.c\nssl_engine_rand.c\nssl_engine_vars.c\nssl_engine_ocsp.c\nssl_util_ocsp.c\nssl_scache.c\nssl_util_stapling.c\nssl_util.c\nssl_util_ssl.c\nGenerating Code...\n        link.exe @C:\\Users\\USER_NAME\\AppData\\Local\\Temp\\82\\nm288.tmp\n   Creating library .\\Release\\mod_ssl.lib and object .\\Release\\mod_ssl.exp\n        if exist .\\Release\\mod_ssl.so.manifest mt.exe -manifest .\\Release\\mod_ss\nl.so.manifest -outputresource:.\\Release\\mod_ssl.so;2\n        echo Helper for Post-build step > \".\\Release\\postbld.dep\"\n        cd ..\\..\n        cd support\n        \"C:\\Program Files (x86)\\Microsoft Visual Studio 10.0\\VC\\BIN\\nmake.exe\" -\nnologo -f abs.mak             CFG=\"abs - Win32 Release\" RECURSE=0\n        tempfile.bat\nThe system cannot find the path specified.\nNMAKE : fatal error U1077: '.\\tempfile.bat' : return code '0x1'\nStop.\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio 10.0\n\\VC\\BIN\\nmake.exe\"' : return code '0x2'\nStop.\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio 10.0\n\\VC\\BIN\\nmake.exe\"' : return code '0x2'\nStop.\n\n\nThe issue has gone after I modified abs.mak manually and replaced \"\\srclib\\openssl\\include\" with \"\\srclib\\openssl\\inc32\".\nPlease note that the issue does not occur with apache-2.4.20.", "is_private": false, "id": 200061, "creator": "alena.tuzhilova@mail.ru", "time": "2017-07-26T16:55:08Z", "bug_id": 61348, "creation_time": "2017-07-26T16:55:08Z", "attachment_id": null}]