[{"count": 0, "text": "PROBLEM:\n~~~~~~~~\nThe default property for JDK1.4's 'java.endorsed.dirs' property is /install-\npath/j2sdk/jre/lib/endorsed (or $JAVA_HOME/jre/lib/endorsed). Catalina's start-\nup scripts do not preserve this value and overrides/replaces it with whatever \nis defined in bin/setclasspath.sh (and bin/setclasspath.bat).\n\nFIX: (setclasspath.sh: line: 30)\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfrom:\nJAVA_ENDORSED_DIRS=\"$BASEDIR\"/bin:\"$BASEDIR\"/common/endorsed\nto:\nJAVA_ENDORSED_DIRS=\"$JAVA_HOME\"/jre/lib/endorsed:\"$BASEDIR\"/bin:\"$BASEDIR\"/commo\nn/endorsed\n\nFIX: (setclasspath.bat: line: 36)\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfrom:\nset JAVA_ENDORSED_DIRS=%BASEDIR%\\bin;%BASEDIR%\\common\\endorsed\nto:\nset JAVA_ENDORSED_DIRS=%JAVA_HOME%\\jre\\lib\\endorsed;%BASEDIR%\\bin;%BASEDIR%\n\\common\\endorsed", "bug_id": 17860, "is_private": false, "id": 32910, "time": "2003-03-11T05:51:31Z", "creator": "amoebaworks@yahoo.ca", "creation_time": "2003-03-11T05:51:31Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 17860, "attachment_id": null, "text": "I think you are correct in preserving the endorsed dirs property but it should \ngive precedence to Catalina THEN to the J2SDK property.\n\nJAVA_ENDORSED_DIRS=\"$BASEDIR\"/common/endorsed:\"$BASEDIR\"/bin:\"$JAVA_HOME\"/jre/li\nb/endorsed", "id": 32942, "time": "2003-03-11T12:21:50Z", "creator": "phlat@mindspring.com", "creation_time": "2003-03-11T12:21:50Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 17860, "attachment_id": null, "text": "This is equivalent to asking why the system CLASSPATH is ignored. You're free to\nhack the startup script, but this won't go into the main distribution.", "id": 32944, "time": "2003-03-11T12:24:43Z", "creator": "remm@apache.org", "creation_time": "2003-03-11T12:24:43Z", "is_private": false}]