[{"count": 0, "tags": [], "bug_id": 47977, "text": "If <body-content>empty</body-content> is specified in the TLD, it is ignored for JSP Documents but not for JSP Pages (for JSP Pages the container correctly returns \"According to TLD, tag <prefix>:<tag_name> be empty, but is not\"\n\nBelow are my test files:\n\n\nTestBodyContentEmptyBug.jspx:\n\n<jsp:root xmlns:jsp=\"http://java.sun.com/JSP/Page\" version=\"2.0\" xmlns:jcc=\"TestBodyContentEmptyBug\" >   \n<jsp:directive.page contentType=\"text/html\" />   \n<html>   \n<head>   \n</head>   \n<body>   \n<pre>   \n  \n  \n<jsp:text>About to call TestBodyContentEmptyBug...</jsp:text>   \n<jcc:TestBodyContentEmptyBug />   \n<jsp:text>Done calling TestBodyContentEmptyBug...</jsp:text>   \n<hr/>   \n  \n  \n<jsp:text>About to call TestBodyContentEmptyBug with a body...</jsp:text>   \n<jcc:TestBodyContentEmptyBug >   \nHello from the body of TestBodyContentEmptyBug... this body should cause an error... should it not?   \n</jcc:TestBodyContentEmptyBug >   \n<jsp:text>Done calling TestBodyContentEmptyBug...</jsp:text>   \n<hr/>   \n  \n  \n</pre>   \n</body>   \n</html>   \n</jsp:root>  \n\n\n\n\n\nTestBodyContentEmptyBug.tld:\n\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?>   \n  \n<taglib xmlns=\"http://java.sun.com/xml/ns/j2ee\"  \n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"  \n        xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd\" version=\"2.0\">   \n  \n        <tlib-version>2.0</tlib-version>   \n        <uri>TestBodyContentEmptyBug</uri>   \n        <tag>   \n                <description>This is the description TestBodyContentEmptyBug</description>   \n                <name>TestBodyContentEmptyBug</name>   \n                <tag-class>mypackage.TestBodyContentEmptyBug</tag-class>   \n                <body-content>empty</body-content>   \n        </tag>   \n</taglib>  \n\n\n\n\n\n\nTestBodyContentEmptyBug.java:\n\npackage mypackage;   \n  \nimport javax.servlet.jsp.PageContext;   \nimport javax.servlet.jsp.JspException;   \nimport javax.servlet.jsp.tagext.Tag;   \n  \n  \npublic class TestBodyContentEmptyBug implements Tag {   \n  \n    private PageContext pageContext = null;   \n    private Tag parent = null;   \n  \n    public void setPageContext(PageContext p) {   \n        pageContext = p;   \n    }   \n  \n  \n    public void setParent(Tag t) {   \n        parent = t;   \n    }   \n  \n  \n    public Tag getParent() {   \n        return parent;   \n    }   \n  \n  \n    public int doStartTag() throws JspException {   \n        return Tag.EVAL_BODY_INCLUDE;   \n    }   \n  \n  \n    public int doEndTag() throws JspException {   \n        return EVAL_PAGE;   \n    }   \n  \n  \n    public void release() {   \n        pageContext = null;   \n        parent = null;   \n    }   \n  \n  \n}  \n\n\n\n\n\n\nFilename web.xml:\n\n<web-app version=\"2.4\">   \n  \n  <description>This is the optional description of the web-app1</description>   \n  \n</web-app>", "id": 131058, "time": "2009-10-10T13:39:39Z", "creator": "julian.corallo@gmail.com", "creation_time": "2009-10-10T13:39:39Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 47977, "text": "This has been fixed in trunk and proposed for 6.0.x", "id": 133525, "time": "2010-01-11T16:13:27Z", "creator": "markt@apache.org", "creation_time": "2010-01-11T16:13:27Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 47977, "attachment_id": null, "text": "This has been fixed in 6.0.x and will be included in 6.0.23 onwards.", "id": 133596, "time": "2010-01-14T02:35:11Z", "creator": "markt@apache.org", "creation_time": "2010-01-14T02:35:11Z", "is_private": false}, {"count": 3, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": null, "is_private": false, "id": 135093, "time": "2010-03-05T18:36:34Z", "bug_id": 47977, "creation_time": "2010-03-05T18:36:34Z", "text": "There was a regression caused by the fix to this issue: Bug 48827.\nThe fix for this issue was reimplemented to fix both this bug and bug 48827 and was applied to 6.0.x in r919354 and will be in 6.0.26 onwards."}]