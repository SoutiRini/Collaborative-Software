[{"count": 0, "tags": [], "creator": "sadaf_choudhry@infosys.com", "attachment_id": null, "id": 64205, "time": "2004-09-25T01:46:19Z", "bug_id": 31415, "creation_time": "2004-09-25T01:46:19Z", "is_private": false, "text": "In order to take advantage of the breaking of optional.jar, I put my junit.jar \nand ant-junit.jar in a separate directory (ext). i.e., I took them out of \nant_home/lib\n\nI use taskef in my build scripts to get ant to recognise these tasks (junit and \njunitreport)\n\nJunit and junitreport get recognized and my tests run, but junitreport fails,  \ngiving me \njava.lang.NoClassDefFoundError:\norg/apache/tools/ant/taskdefs/optional/junit/XalanExecutor\n\nXalanExecutor is a part of ant-junit.jar,\nMy Taskdef for junitreport is as below:\n    <path id=\"junit.path\">\n            <fileset dir=\"${ext}\">\n                <include name=\"*.jar\"/><!--this dir has junit.jar and ant-\njunit.jar in it-->\n            </fileset>\n    </path>\n    <taskdef name=\"junitreport\" classpathref=\"junit.path\" \nclassname=\"org.apache.tools.ant.taskdefs.optional.junit.XMLResultAggregator\">\n    </taskdef>\n\nSince these jars were part of the taskdef classpath, they should also have been \nloaded, rt? So this no classfound exception should not have been raised..\n\nI got junitreport specific classes:\nXMLResultAggregator.class\nAggregateTransformer.class\nBriefJUnitResultFormatter.class\nDOMUtil$NodeFilter.class\nDOMUtil$NodeListImpl.class\nDOMUtil.class\nXalan1Executor.class\nXalan2Executor.class\nXalanExecutor.class\nXMLConstants.class\nAggregateTransformer$Format.class \n\nalong with the xls's into a new jar (junitreport.jar), and put this under \nant_home/lib. junitreport now succeeds, if I try taskdef classpath to point to \njunitreport.jar as opposed to ant-junit.jar.\n\nBut I shouldnt have to do this. Once I have defined junitreport in taskdef, I \nshouldn't have to do anything more to make it work.\n\nlooks like a taskdef bug."}, {"count": 1, "tags": [], "bug_id": 31415, "text": "JUnitReport is not related to junit.jar or ant-junit.jar at all.\n\nStarting with Ant 1.6.2, Xalan2Executor is in ant-trax.jar.", "id": 64407, "time": "2004-09-30T12:48:25Z", "creator": "bodewig@apache.org", "creation_time": "2004-09-30T12:48:25Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "sbailliez@apache.org", "is_private": false, "text": "Info provided by Stefan", "id": 66793, "time": "2004-11-12T13:55:05Z", "bug_id": 31415, "creation_time": "2004-11-12T13:55:05Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 31415, "text": "This is not true...\nUsing ant-1.6.2 JDK1.5 and putting junit + ant-junit.jar outside of ANT_HOME/lib \nI get the same error as described above. (Windows XP SP 2, x86, JDK1.5, Ant 1.6.2)\nMy Task is as follows:\n\n<path id=\"junitreport.path\">\n  <path refid=\"libpath\" />\n  <!-- this includes everything in ANT_HOME/lib -->\n  <fileset dir=\"${ant.home}/lib\" id=\"report.ant.fileset\">\n    <include name=\"*.jar\" />\n  </fileset>\n</path>\n<taskdef name=\"junitrepor classpathref=\"junitreport.path\"\n  classname=\"org.apache.tools.ant.taskdefs.optional.junit.XMLResultAggregator\" \n        \n  onerror=\"fail\" />\n\n<junitreport todir=\"${test.reports}\">\n  <fileset dir=\"${test.reports}\">\n    <include name=\"TEST-*.xml\" />\n  </fileset>\n  <report format=\"frames\" todir=\"${test.reports}/html\" />\n</junitreport>\n\nUsing the above mentioned workaround the task works perfectly.", "id": 72724, "time": "2005-03-20T19:48:34Z", "creator": "apache@bettsockentraeger.de", "creation_time": "2005-03-20T19:48:34Z", "is_private": false, "attachment_id": null}]