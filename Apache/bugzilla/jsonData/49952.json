[{"count": 0, "tags": [], "bug_id": 49952, "is_private": false, "text": "Created attachment 26044\nKeep the listeners added by ServletContainerInitializer\n\nAny listeners added by a ServletContainerInitializer will be wiped out when the listeners from web.xml are sorted and overwrite the arrays that already have the SCI-added listeners in them.\n\nI've taken the approach of keeping the single list of listeners from web.xml and keeping the sort into types in listenerStart.  I think it might also be possible and more elegant to have the addApplicationListener method be the same code as the ServletContext.addListener(String listenerClassName) method.\n\nPatch includes a test demonstrating the problem.  The patch to ServletContext may need line number adjustment unless you have applied my patch for supplying the jsp file as a jsp servlet init param.", "id": 139936, "time": "2010-09-17T13:49:20Z", "creator": "djencks@apache.org", "creation_time": "2010-09-17T13:49:20Z", "attachment_id": 26044}, {"count": 1, "tags": [], "bug_id": 49952, "attachment_id": null, "text": "Fixed in trunk and will be in 7.0.4 onwards.", "id": 140522, "time": "2010-10-06T17:47:25Z", "creator": "markt@apache.org", "creation_time": "2010-10-06T17:47:25Z", "is_private": false}]