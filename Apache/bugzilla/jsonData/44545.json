[{"count": 0, "tags": [], "bug_id": 44545, "attachment_id": 21635, "text": "Created attachment 21635\nExample\n\nKeep together on table rows that has cells that spans multiple rows do not work correctly. The spanned rows can fall over to the next page. See attached example.", "id": 114321, "time": "2008-03-06T00:35:53Z", "creator": "krister.wicksell@zert.se", "creation_time": "2008-03-06T00:35:53Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 44545, "attachment_id": null, "text": "Hi,\n\nUnfortunately you're hitting a corner case that is not well described by the XSL-FO Recommendation.\n\nI for myself would say that FOP's behaviour is correct: the row is actually displayed in only one block on the first page. The content on the second page actually corresponds to the last two rows. keep-together is an inherited property but doesn't apply to fo:table-cell, so the fact that cell \"1\" is split on two pages would not be wrong.\n\nIf you want to have the row-spanning cell kept on one page, set keep-together on every spanned table-row, plus keep-with-next on each of them but the last one:\n    <fo:table-row keep-together=\"always\" keep-with-next=\"always\">\n      <fo:table-cell number-rows-spanned=\"3\" border=\".5pt solid black\">\n        <fo:block>1</fo:block>\n      </fo:table-cell>\n      <fo:table-cell border=\".5pt solid black\">\n        <fo:block>2.1</fo:block>\n      </fo:table-cell>\n    </fo:table-row>\n    <fo:table-row keep-together=\"always\" keep-with-next=\"always\">\n      <fo:table-cell border=\".5pt solid black\">\n        <fo:block>2.2</fo:block>\n      </fo:table-cell>\n    </fo:table-row>\n    <fo:table-row keep-together=\"always\">\n      <fo:table-cell border=\".5pt solid black\">\n        <fo:block>2.3</fo:block>\n      </fo:table-cell>\n    </fo:table-row>\n\nI'm leaving this bug open and ask for other opinions on this topic. But this is probably a candidate for another request for clarification to xsl-editors@.\n\nVincent Hennebert", "id": 114326, "time": "2008-03-06T02:59:37Z", "creator": "vhennebert@gmail.com", "creation_time": "2008-03-06T02:59:37Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 44545, "attachment_id": 21638, "id": 114330, "time": "2008-03-06T04:05:05Z", "creator": "krister.wicksell@zert.se", "creation_time": "2008-03-06T04:05:05Z", "is_private": false, "text": "Created attachment 21638\nResult of proposed solution\n\nWhen Using keep-with-next=\"always\" FOP will try to keep the complete table on the same page resulting in the attached PDF."}, {"count": 3, "tags": [], "creator": "krister.wicksell@zert.se", "text": "(In reply to comment #1)\nThanks for the quick reply!\n\nI tried this solution before and FOP tries to keep the whole table on the same page when using keep-wth-next. Even if not applied to every row.\n\n/Krister Wicksell", "id": 114331, "time": "2008-03-06T04:09:20Z", "bug_id": 44545, "creation_time": "2008-03-06T04:09:20Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "vhennebert@gmail.com", "text": "(In reply to comment #3)\n> (In reply to comment #1)\n> Thanks for the quick reply!\n> \n> I tried this solution before and FOP tries to keep the whole table on the same\n> page when using keep-wth-next. Even if not applied to every row.\n> \n> /Krister Wicksell\n> \n\nIt works for me. Make sure you are using the latest version of Trunk, there have been some changes regarding keeps and breaks in tables recently. Also, are you sure you didn't set keep-with-next on row 3 (and row 6)? You might want to attach your complete FO file.\n\nVincent", "id": 114333, "time": "2008-03-06T04:26:10Z", "bug_id": 44545, "creation_time": "2008-03-06T04:26:10Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 44545, "attachment_id": null, "text": "(In reply to comment #4)\n\nThanks!\n\nI updated my FOP SVN and now it works.\n\n/Krister\n", "id": 114334, "time": "2008-03-06T04:41:31Z", "creator": "krister.wicksell@zert.se", "creation_time": "2008-03-06T04:41:31Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 44545, "text": "(In reply to comment #4)\n> (In reply to comment #3)\n> > (In reply to comment #1)\n> > Thanks for the quick reply!\n> > \n> > I tried this solution before and FOP tries to keep the whole table on the same\n> > page when using keep-wth-next. Even if not applied to every row.\n> > \n> > /Krister Wicksell\n> > \n> \n> It works for me. Make sure you are using the latest version of Trunk, there\n> have been some changes regarding keeps and breaks in tables recently. Also, are\n> you sure you didn't set keep-with-next on row 3 (and row 6)? You might want to\n> attach your complete FO file.\n> \n> Vincent\n\nvincent, could you move this to resolved (in some flavor), or does it need to stay open?", "id": 157000, "time": "2012-04-01T15:15:38Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T15:15:38Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 44545, "text": "Marking this bug as invalid as FOP actually behaves according to the spec, plus an alternative solution has been found.", "id": 157141, "time": "2012-04-04T09:33:28Z", "creator": "vhennebert@gmail.com", "creation_time": "2012-04-04T09:33:28Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "creator": "gadams@apache.org", "text": "batch transition resolved+invalid to closed+invalid", "id": 158535, "time": "2012-04-30T00:11:30Z", "bug_id": 44545, "creation_time": "2012-04-30T00:11:30Z", "is_private": false, "attachment_id": null}]