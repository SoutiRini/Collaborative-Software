[{"count": 0, "attachment_id": null, "bug_id": 36102, "is_private": false, "id": 78278, "time": "2005-08-09T15:31:38Z", "creator": "chuck.sumpter@lmco.com", "creation_time": "2005-08-09T15:31:38Z", "tags": [], "text": "I was told by the jk connector component developer to open a new bug here.  He\nclosed the one in his queue as works-for-him (see bug # 35901). So here goes...\n=================================================================\nJk version in use is a 1.2.14 binary.\n\nScenario: open jkstatus in broswer click worker #1, check \"Stopped\" and \"Update\nWorker\".  Stat now shows stopped. \n\nOpen second browser.  Navigate to the same jkstatus page.  Worker\n#1 stat is OK.\n\nBoth browsers are IE5 one located on my workstation, one the browser for a\nserver, so broswer cash should not be involved. \n\nThe same symptoms are seen in a single browser instance if you click worker #1\nagain, but not on a simple page refresh."}, {"count": 1, "text": "Created attachment 15986\nISAPI Redirect log", "bug_id": 36102, "attachment_id": 15986, "id": 78281, "time": "2005-08-09T15:36:17Z", "creator": "chuck.sumpter@lmco.com", "creation_time": "2005-08-09T15:36:17Z", "tags": [], "is_private": false}, {"count": 2, "attachment_id": 15987, "creator": "chuck.sumpter@lmco.com", "text": "Created attachment 15987\nuriworkermap.properties", "id": 78282, "time": "2005-08-09T15:36:50Z", "bug_id": 36102, "creation_time": "2005-08-09T15:36:50Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "text": "Created attachment 15988\nworkers.properties", "is_private": false, "bug_id": 36102, "id": 78283, "time": "2005-08-09T15:37:08Z", "creator": "chuck.sumpter@lmco.com", "creation_time": "2005-08-09T15:37:08Z", "attachment_id": 15988}, {"count": 4, "tags": [], "bug_id": 36102, "text": "Component: Other is getting nowhere.  Back to Connector. This time I'm not going\nto accept the \"works for me\" resolution.  ", "id": 78535, "time": "2005-08-16T14:27:44Z", "creator": "chuck.sumpter@lmco.com", "creation_time": "2005-08-16T14:27:44Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "text": "The comments on bug 35901 said start a discussion on tomcat-dev, not open a\nduplicate bug report. This probably explains why there has been no activity on\nthis bug.\n\nI did some testing of this with the latest TC4.1.x from CVS, jk 1.2.14, Apache\n2.0.54 & Firefox 1.0.6 when you opened this bug but could not reproduce the issue.\n\nObviously my environment isn't a great match for yours so I didn't bother\nreporting my results. I should have IIS available in the next few days. I'll\nretest then with IIS (version TBD) and IE6 but it still won't be an exact match\nfor your environment.\n\nIt would be good to eliminate some of the variables. If you could repeat your\ntests using IE6 or Firefox 1.0.6 that would help narrow down the problem. On the\nsubject of browsers are you sure it is IE5 on both client and server? IE5 is\nrather old to have shipped with Windows 2003.", "attachment_id": null, "id": 78536, "creation_time": "2005-08-16T14:59:11Z", "time": "2005-08-16T14:59:11Z", "creator": "markt@apache.org", "bug_id": 36102, "is_private": false}, {"count": 6, "tags": [], "creator": "chuck.sumpter@lmco.com", "attachment_id": null, "is_private": false, "id": 78538, "time": "2005-08-16T15:22:35Z", "bug_id": 36102, "creation_time": "2005-08-16T15:22:35Z", "text": "(In reply to comment #5)\nTests repeated on IE6, Netscape 8 and FireFox 1.06.  Same results. \n\nSorry about the duplicate bug, didn't catch the \"discussion\" keyword.   "}, {"count": 7, "text": "No solution but a remark: The observation, that you don't see the problem when\nreloading/refreshing the page might come from the fact, that he chang i done via\n GET request, so refreshing the page again sends the request including all\nparameters, so the change is applied a second time.\n\nI don't know much about IIS, but maybe you can limit the number of threads to\nsome low count (e.g. 5 or 10) and then check the status of the stopped worker\nnot only once or twice but 10 to 20 times and check, if it is non-stopped all\nthe time, or sporadically stopped.", "bug_id": 36102, "is_private": false, "id": 78554, "time": "2005-08-17T01:26:04Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2005-08-17T01:26:04Z", "tags": [], "attachment_id": null}, {"count": 8, "attachment_id": null, "bug_id": 36102, "is_private": false, "id": 78580, "time": "2005-08-17T15:48:38Z", "creator": "chuck.sumpter@lmco.com", "creation_time": "2005-08-17T15:48:38Z", "tags": [], "text": "(In reply to comment #7)\nYour remark started me down a trail that lead to at least a workaround for the\n\"problem\".  The version of IIS that is available for install (no longer\ndelivered installed) has some enhanced security and performance \"features\".  In\ntypical Microsoft fashion, they make you dig for what they \"really did\".  I\ntried all kinds of thread pool, memory caching, etc.  No luck.  Then I\nremembered IIS5 isolation mode.  As soon as I set that switch and restarted the\nweb services, the setting for Disabled in jkstatus held.\n\nI'm going to have to research the performance considerations of this, and I\nwould be interested in your input in this arena.  Do you think that I should (as\nI was asked to do before), start a discussion thread in Tomcat-Dev?  Being a\nlittle un-familiar with the bug resolution, I picked \"Remind\", change this is\nyou want.  \n\n"}, {"text": "First off, I am no JK expert.\n\nA quick Google suggests that some people needed to set the isolation mode to get\njk to work whilst others didn't.\n\nI would move this to tomcat-dev list and see what response you get. I'll still\ndo my test with IIS and contribute to that discussion if I find anything\nenlightening.", "tags": [], "bug_id": 36102, "is_private": false, "count": 9, "id": 78599, "time": "2005-08-17T19:50:38Z", "creator": "markt@apache.org", "creation_time": "2005-08-17T19:50:38Z", "attachment_id": null}, {"count": 10, "tags": [], "text": "Created attachment 16097\nIlustration of the jkstatus page", "attachment_id": 16097, "id": 78638, "creation_time": "2005-08-18T16:24:29Z", "time": "2005-08-18T16:24:29Z", "creator": "chuck.sumpter@lmco.com", "bug_id": 36102, "is_private": false}, {"count": 11, "attachment_id": null, "bug_id": 36102, "is_private": false, "id": 78639, "time": "2005-08-18T16:25:41Z", "creator": "chuck.sumpter@lmco.com", "creation_time": "2005-08-18T16:25:41Z", "tags": [], "text": "Thanks Mark! \n\nOne other thing to look for.  I noticed that even in IIS5 isolation mode,\nchanges to the load balancing worker aren't exactly smooth.  For example:\n\nI open the home page of the app running under Tomcat.  Click refresh several\ntimes quickly and it switches tomcat instances (workers).  If we were on tomcat\n5, and clustering, it wouldn't be any big deal.  But with tomcat 4, the user\nwill loose there session vars. \n\nI tried checking the sticky = True, and updating the worker.  When I refreshed\nthe page, it 404'd.  I closed the browser and the worker displays contained\njibberish, but the sticky was reset to False.  Screen shot of the jibberish will\nbe attached to the issue.  Only a \"bounce\" of the WWW Pub service got the\njkstatus page to display correctly again. \n\nNot sure what this has to do with anything, but thought you might like to have\nany additional \"symptoms\" I ran across. "}, {"count": 12, "tags": [], "bug_id": 36102, "attachment_id": null, "id": 79577, "time": "2005-09-07T20:24:50Z", "creator": "chuck.sumpter@lmco.com", "creation_time": "2005-09-07T20:24:50Z", "is_private": false, "text": "Symptoms recreated in Tomcat 5.5.9"}, {"count": 13, "tags": [], "bug_id": 36102, "attachment_id": null, "id": 79796, "time": "2005-09-12T14:59:39Z", "creator": "mturk@apache.org", "creation_time": "2005-09-12T14:59:39Z", "is_private": false, "text": "Fixed in the CVS.\nCan you try the CVS head if the problem still exists."}, {"text": "(In reply to comment #13)\n> Fixed in the CVS.\n> Can you try the CVS head if the problem still exists.\n\nActually, I can't try the CVS head, primarily because I have no clue what that\nis.  Sorry, but saying anything else would be counterproductive. \n\n\n\n\n\n", "tags": [], "bug_id": 36102, "is_private": false, "count": 14, "id": 79834, "time": "2005-09-12T22:43:05Z", "creator": "chuck.sumpter@lmco.com", "creation_time": "2005-09-12T22:43:05Z", "attachment_id": null}]