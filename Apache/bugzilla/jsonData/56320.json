[{"count": 0, "attachment_id": null, "bug_id": 56320, "text": "While running ab test against tomcat 8 I have the following failure:\n+++\n44714 27-Mar-2014 04:41:00.605 SEVERE [http-bio-8001-Acceptor-0] org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run Socket accept failed\n244715  java.net.SocketException: Too many open files\n244716         at java.net.PlainSocketImpl.socketAccept(Native Method)\n244717         at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:398)\n244718         at java.net.ServerSocket.implAccept(ServerSocket.java:530)\n+++\nThat doesn't depend on the connector.\n\nAnd lsof says:\n+++\n[hudson@messaging-09 tc8]$ lsof | grep ROOT | wc -l\n32667\n[hudson@messaging-09 tc8]$ lsof | grep ROOT | grep 64KiB.bin | wc -l\n32667\n+++\n\n64KiB.bin is the file I am requesting in ab.", "id": 174124, "time": "2014-03-27T08:44:50Z", "creator": "jfclere@gmail.com", "creation_time": "2014-03-27T08:44:50Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "creator": "jfclere@gmail.com", "text": "In fact it seems it is linked with sendfile.", "count": 1, "id": 174125, "time": "2014-03-27T09:18:18Z", "bug_id": 56320, "creation_time": "2014-03-27T09:18:18Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 56320, "is_private": false, "text": "Thanks for the report. I've fixed this in trunk and it will be included in 8.0.6 onwards.", "id": 174138, "time": "2014-03-27T16:59:58Z", "creator": "markt@apache.org", "creation_time": "2014-03-27T16:59:58Z", "attachment_id": null}]