[{"count": 0, "tags": [], "creator": "Clement_Pellerin@ibi.com", "is_private": false, "id": 137717, "creation_time": "2010-06-17T12:22:57Z", "time": "2010-06-17T12:22:57Z", "bug_id": 49458, "text": "Created attachment 25608\nsource code patch with augmented junit\n\nThe StorageResolver creates an iterator once and always returns the same\niterator afterwards. After the iterator is traversed once, it will always\nappear empty. Even if the implementation would be changed to reset the iterator to the beginning, the single iterator instance approach will never\nbe thread-safe.\n\nTo reproduce use the junit in attachment.\n\nThe solution is to return a new iterator each time.\nSince the methods StorageResolver.hasNext() and StorageResolver.next() cannot use this solution, they have been marked deprecated.\nThe KeyResolvers have been changed to call StorageResolver.getIterator() instead.\n\nThis patch assumes the patch in Bug 49456 has already been applied.", "attachment_id": 25608}, {"count": 1, "attachment_id": null, "creator": "coheigea@apache.org", "is_private": false, "id": 137739, "time": "2010-06-18T07:20:43Z", "bug_id": 49458, "creation_time": "2010-06-18T07:20:43Z", "tags": [], "text": "\nPatch applied, thanks.\n\nColm."}]