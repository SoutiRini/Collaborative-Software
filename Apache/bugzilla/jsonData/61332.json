[{"count": 0, "tags": [], "bug_id": 61332, "attachment_id": null, "id": 199979, "time": "2017-07-24T11:28:57Z", "creator": "mchassagneux@apache.org", "creation_time": "2017-07-24T11:28:57Z", "is_private": false, "text": "In the last version of the trunk, since vary header patch, all HTTP sampler with a cache manager doesn't work with JAVA implementation :\n\njava.lang.IllegalArgumentException: Name may not be null\n\tat org.apache.http.util.Args.notNull(Args.java:54)\n\tat org.apache.http.message.BasicHeader.<init>(BasicHeader.java:60)\n\tat org.apache.jmeter.protocol.http.control.CacheManager.asHeaders(CacheManager.java:458)\n\tat org.apache.jmeter.protocol.http.control.CacheManager.setHeaders(CacheManager.java:394)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPJavaImpl.setConnectionHeaders(HTTPJavaImpl.java:381)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPJavaImpl.setupConnection(HTTPJavaImpl.java:198)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPJavaImpl.sample(HTTPJavaImpl.java:500)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:74)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1189)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1178)\n\tat org.apache.jmeter.threads.JMeterThread.executeSamplePackage(JMeterThread.java:500)\n\tat org.apache.jmeter.threads.JMeterThread.processSampler(JMeterThread.java:425)\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:254)\n\tat java.lang.Thread.run(Thread.java:745)"}, {"count": 1, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "id": 199991, "time": "2017-07-24T20:15:36Z", "bug_id": 61332, "creation_time": "2017-07-24T20:15:36Z", "tags": [], "text": "Author: pmouawad\nDate: Mon Jul 24 20:15:05 2017\nNew Revision: 1802864\n\nURL: http://svn.apache.org/viewvc?rev=1802864&view=rev\nLog:\nBug 61332 - NIGHTLY BUILD : HTTP sampler with Cache manager doesn't work with JAVA implementation\nBugzilla Id: 61332\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/control/CacheManager.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPJavaImpl.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/control/TestCacheManagerUrlConnection.java"}, {"count": 2, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "I fixed issue which is due to call of HttpURLConnection#getHeaderFields while connection is already opened.\n\nWe need to add a Test case to catch such regression.", "id": 199992, "time": "2017-07-24T20:16:50Z", "bug_id": 61332, "creation_time": "2017-07-24T20:16:50Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 61332, "text": "Thanks for looking into this.\n\nStrange thing is, that HttpURLConnection#getHeaderFields puts the connection into connected state.", "id": 199993, "time": "2017-07-24T20:27:17Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2017-07-24T20:27:17Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "is_private": false, "id": 199995, "time": "2017-07-24T20:30:17Z", "bug_id": 61332, "creation_time": "2017-07-24T20:30:17Z", "text": "(In reply to Felix Schumacher from comment #3)\n> Thanks for looking into this.\n> \n> Strange thing is, that HttpURLConnection#getHeaderFields puts the connection\n> into connected state.\n\nHi Felix,\nNo problem, thanks for your work on Vary-Header.\nCould you review my fix please ?\nIsn't it strange that none of our tests caught this issue ?\nDo you think we need an jmx plan for that testing ?"}, {"count": 5, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "id": 200028, "time": "2017-07-25T20:23:42Z", "bug_id": 61332, "creation_time": "2017-07-25T20:23:42Z", "tags": [], "text": "Hi Maxime,\nCan you confirm issue is fixed for you ?\nThanks"}, {"count": 6, "attachment_id": null, "creator": "mchassagneux@apache.org", "is_private": false, "id": 200055, "time": "2017-07-26T12:55:11Z", "bug_id": 61332, "creation_time": "2017-07-26T12:55:11Z", "tags": [], "text": "Hi Philippe, \n\nIt's perfect ! now it work again :)\n\nThanks !"}]