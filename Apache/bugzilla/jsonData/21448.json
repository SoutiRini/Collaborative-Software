[{"count": 0, "tags": [], "creator": "ivanfm@users.sourceforge.net", "attachment_id": null, "text": "When an exception occurr in a JSP page, the stackwriter is not cleared, and this\ncan cause memory leaks.\nThis patch clear stackWriter when the page is released.\n\nIndex: jasper/src/share/org/apache/jasper/runtime/PageContextImpl.java\n===================================================================\nRCS file:\n/home/cvspublic/jakarta-tomcat-4.0/jasper/src/share/org/apache/jasper/runtime/PageContextImpl.java,v\nretrieving revision 1.17\ndiff -u -r1.17 PageContextImpl.java\n--- jasper/src/share/org/apache/jasper/runtime/PageContextImpl.java     6 May\n2002 23:32:42 -0000       1.17\n+++ jasper/src/share/org/apache/jasper/runtime/PageContextImpl.java     9 Jul\n2003 20:47:31 -0000\n@@ -195,6 +195,7 @@\n        session      = null;\n\n        attributes.clear();\n+       stackWriter.clear();\n     }\n\n     public Object getAttribute(String name) {", "id": 40298, "time": "2003-07-09T20:55:30Z", "bug_id": 21448, "creation_time": "2003-07-09T20:55:30Z", "is_private": false}, {"text": "Tomcat 4.1.x uses jasper 2\n\n/home/cvspublic/jakarta-tomcat-\n4.0/jasper/src/share/org/apache/jasper/runtime/PageContextImpl.java is the \nfirst version of jasper.\n\nFurther I have looked at the source file you quote, the latest TC4 source and \nthe latest TC5 source for PageContextImpl and can find no references \nto \"stackWriter\".", "tags": [], "creator": "markt@apache.org", "attachment_id": null, "count": 1, "id": 57027, "time": "2004-05-08T15:48:43Z", "bug_id": 21448, "creation_time": "2004-05-08T15:48:43Z", "is_private": false}]