[{"count": 0, "tags": [], "creator": "jbrice@titansolutions.com", "text": "I've got two FO xml files that are identical except that one has two inline\nimages. Running ExampleFO2PDF.java breaks on the line:\n\n// Start XSLT transformation and FOP processing\ntransformer.transform(src, res);\n\nwith a java.lang.OutOfMemoryError. \n\nThis is happening in Eclipse Version: 3.1.0 with the memory cranked way up\n(-vmargs -Xms1024m -Xmx1024m -XX:PermSize=128m -XX:MaxPermSize=128m), these are\nsmall files (the \"good\" one is 166 KB -->\nhttp://hornet.titansolutions.com/fotestgood.xml, the \"bad\" one is 280 KB -->\nhttp://hornet.titansolutions.com/fotestbad.xml), so I don't believe it is the\nxml files themselves that are causing the OOM exception. \n\nThe full stack trace:\nException in thread \"main\" java.lang.OutOfMemoryError\n\tat java.io.WinNTFileSystem.getBooleanAttributes(Native Method)\n\tat java.io.File.exists(File.java:702)\n\tat org.apache.fop.apps.FOURIResolver.resolve(FOURIResolver.java:67)\n\tat org.apache.fop.apps.FOUserAgent.resolveURI(FOUserAgent.java:549)\n\tat org.apache.fop.image.ImageFactory.loadImage(ImageFactory.java:204)\n\tat org.apache.fop.image.ImageLoader.loadImage(ImageLoader.java:54)\n\tat org.apache.fop.image.ContextImageCache.getImage(ImageFactory.java:441)\n\tat org.apache.fop.image.ImageFactory.getImage(ImageFactory.java:171)\n\tat org.apache.fop.fo.flow.ExternalGraphic.bind(ExternalGraphic.java:64)\n\tat org.apache.fop.fo.FObj.processNode(FObj.java:120)\n\tat org.apache.fop.fo.FOTreeBuilder.startElement(FOTreeBuilder.java:290)\n\tat\norg.apache.xalan.transformer.TransformerIdentityImpl.startElement(TransformerIdentityImpl.java:1072)\n\tat org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)\n\tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\n\tat\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown\nSource)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown\nSource)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n\tat\norg.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:484)\n\tat ms.ExampleFO2PDF.convertFO2PDF(ExampleFO2PDF.java:84)\n\tat ms.ExampleFO2PDF.main(ExampleFO2PDF.java:138)\n\nRegards,\nJason Brice", "id": 87846, "time": "2006-04-12T17:08:15Z", "bug_id": 39285, "creation_time": "2006-04-12T17:08:15Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 39285, "text": "The server seems to be down. I can't download the demo files.", "id": 87886, "time": "2006-04-13T07:26:51Z", "creator": "jeremias@apache.org", "creation_time": "2006-04-13T07:26:51Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 39285, "text": "Created attachment 18094\nxml contains inline images causes out of memory error", "id": 87915, "time": "2006-04-13T15:07:06Z", "creator": "jbrice@titansolutions.com", "creation_time": "2006-04-13T15:07:06Z", "is_private": false, "attachment_id": 18094}, {"count": 3, "tags": [], "bug_id": 39285, "attachment_id": 18095, "id": 87916, "time": "2006-04-13T15:07:59Z", "creator": "jbrice@titansolutions.com", "creation_time": "2006-04-13T15:07:59Z", "is_private": false, "text": "Created attachment 18095\nxml no inline images works fine"}, {"count": 4, "tags": [], "bug_id": 39285, "text": "The bug should be fixed now in FOP Trunk:\nhttp://svn.apache.org/viewcvs?rev=396251&view=rev\n\nWhile running your examples I got a ClassCastException rather than an\nOutOfMemoryError because of a problem with markers in fo:static-content. Seems\nto be a problem with white space before and after the blocks in the marker. I'll\ntake a closer look at that but I wonder why you didn't run into this. Or did you?", "id": 88401, "time": "2006-04-23T10:52:11Z", "creator": "jeremias@apache.org", "creation_time": "2006-04-23T10:52:11Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "jbrice@titansolutions.com", "attachment_id": null, "is_private": false, "id": 88474, "time": "2006-04-25T15:27:54Z", "bug_id": 39285, "creation_time": "2006-04-25T15:27:54Z", "text": "(In reply to comment #4)\n\nNo, I never got a class cast exception... just the out of memory error. I did\nsuspect that the OOM was a bogus error though because of how quickly it\nhappened. When stepping over the line in question, it only took a split second\nto get the error, and yet my system showed no noticable spike in memory usage. \n\nI'll try the patch and follow up. Thx."}, {"count": 6, "tags": [], "creator": "gadams@apache.org", "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 156318, "time": "2012-04-01T07:09:51Z", "bug_id": 39285, "creation_time": "2012-04-01T07:09:51Z", "is_private": false, "attachment_id": null}]