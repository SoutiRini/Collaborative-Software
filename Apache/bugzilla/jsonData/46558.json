[{"count": 0, "attachment_id": null, "creator": "melbichon@laposte.net", "text": "We use Tomcat in a cluster configuration.\nConnectors can be bind an address but not the server container.\n\nIs it possible to add an address attribute for the server container so Catalina.java open port for this address and not for 127.0.0.1 ?\n\nThanks in advance\n\nMarc", "id": 124182, "time": "2009-01-19T04:55:02Z", "bug_id": 46558, "creation_time": "2009-01-19T04:55:02Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 46558, "is_private": false, "id": 124203, "attachment_id": null, "creator": "markt@apache.org", "creation_time": "2009-01-20T05:24:14Z", "time": "2009-01-20T05:24:14Z", "text": "I have changed this to an enhancement.\n\nBe aware that this was changed several major versions ago (around Tomcat 3 or 4) to only listen on localhost due to the security issues with listening on other interfaces.\n\nAny patch would have to address the obvious security concerns.\n\nAlso keep in mind that in production environments the port is often set to -1 to completely disable this feature - again for security reasons. The general push seems to be to tighten this up rather than relax it."}, {"count": 2, "tags": [], "bug_id": 46558, "text": "If -1 is set to disable the feature, is there another way to stop Tomcat rather than killing the process ?", "id": 124204, "time": "2009-01-20T05:30:03Z", "creator": "melbichon@laposte.net", "creation_time": "2009-01-20T05:30:03Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 46558, "is_private": false, "id": 140676, "creation_time": "2010-10-11T16:08:14Z", "time": "2010-10-11T16:08:14Z", "creator": "markt@apache.org", "text": "kill -15 <pid> will initiate a controlled shutdown that does exactly the same things as the shutdown command.\n\nThe address attribute was added to the Server element for Tomcat 7. It is highly unlikely to get back-ported to Tomcat 6.", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 46558, "text": "reopening because in an ipv6 only environment where 'localhost' is not used, the server fails to start. This is not a clustered environment \n\nSEVERE: StandardServer.await: create[8005]: \njava.net.BindException: Cannot assign requested address\n        at java.net.PlainSocketImpl.socketBind(Native Method)\n        at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:383)\n        at java.net.ServerSocket.bind(ServerSocket.java:328)\n        at java.net.ServerSocket.<init>(ServerSocket.java:194)\n        at org.apache.catalina.core.StandardServer.await(StandardServer.java:406)\n        at org.apache.catalina.startup.Catalina.await(Catalina.java:676)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:628)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\nAug 7, 2012 3:40:03 PM org.apache.coyote.http11.Http11AprProtocol pause\nINFO: Pausing Coyote HTTP/1.1 on http-0%3A0%3A0%3A0%3A0%3A0%3A0%3A1-8080\n\nthis has been fixed in tomcat7, so I'm reopening and offering a patch which ports changes from tomcat7 where the address attribute is defined under\nServer.Let me know if the format needs to be corrected, or if i've missed\npatch protocol.", "id": 166693, "time": "2013-04-18T16:27:12Z", "creator": "dknox@redhat.com", "creation_time": "2013-04-18T16:27:12Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "dknox@redhat.com", "attachment_id": 30209, "id": 166694, "time": "2013-04-18T16:28:16Z", "bug_id": 46558, "creation_time": "2013-04-18T16:28:16Z", "is_private": false, "text": "Created attachment 30209\nPatch adding address attribute to server"}, {"count": 6, "tags": [], "bug_id": 46558, "is_private": false, "id": 195779, "creation_time": "2017-01-01T11:21:46Z", "time": "2017-01-01T11:21:46Z", "creator": "markt@apache.org", "text": "Marking as fixed since this was fixed in 7.0.x.\n\nNote it was not back-ported to 6.0.x since 6.0.x reached end of life before anyone expressed an interest in back-porting the fix.", "attachment_id": null}]