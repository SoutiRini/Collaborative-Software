[{"count": 0, "tags": [], "bug_id": 21883, "attachment_id": null, "text": "When using -listener or -logger option to Ant, the basedir property is not set \nto the path of the current build-file - it remains the current directory.\n\nThis makes it impossible to specify an absolute or relative build filename at \nthe same time as using a listener or logger.", "id": 41500, "time": "2003-07-25T12:24:02Z", "creator": "jarl-petter.kvalsvik@edbtelesciences.com", "creation_time": "2003-07-25T12:24:02Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 21883, "attachment_id": null, "id": 41554, "time": "2003-07-26T14:15:22Z", "creator": "antoine@apache.org", "creation_time": "2003-07-26T14:15:22Z", "is_private": false, "text": "I have tried to check what you are saying here with :\nant -logger org.apache.tools.ant.listener.MailLogger\nI have checked this against :\nApache Ant version 1.5.3 compiled on April 16 2003\nand\nagainst CVS head\nwith or without explicit basedir.\nAnd I cannot reproduce your problem.\nI am closing it as \"WORKSFORME\".\nReopen it if you can provide a build snippet and the exact command line leading \nto the problem so that someone can reproduce and fix the problem.\nCheers,\nAntoine"}, {"count": 2, "attachment_id": null, "creator": "jarl-petter.kvalsvik@edbtelesciences.com", "is_private": false, "id": 41624, "time": "2003-07-28T06:56:21Z", "bug_id": 21883, "creation_time": "2003-07-28T06:56:21Z", "tags": [], "text": "I have tracked down the bug to the following statement in my BuildListener:\n\npackage com.edb.listener;\n\nimport org.apache.tools.ant.BuildEvent;\nimport org.apache.tools.ant.BuildListener;\n\npublic class IsThisABug implements BuildListener\n{\n    public void buildFinished(BuildEvent arg0)\n    {\n    }\n\n    public void buildStarted(BuildEvent arg0)\n    {\n        // This statement seems to prevent Ant from changing basedir\n        String directoryName = arg0.getProject().getBaseDir().getName();\n    }\n\n    public void messageLogged(BuildEvent arg0)\n    {\n    }\n\n    public void targetFinished(BuildEvent event)\n    {\n    }\n\n    public void targetStarted(BuildEvent arg0)\n    {\n    }\n\n    public void taskFinished(BuildEvent arg0)\n    {\n    }\n\n    public void taskStarted(BuildEvent arg0)\n    {\n    }\n\n}\n"}, {"count": 3, "tags": [], "text": "No it is not a bug. The buildStarted event is sent when the build is started.\nThis occurs prior to most configuration of the project instance and certainly\nbefore the parsing of the build file, and therefore the setting of basedir. ", "attachment_id": null, "id": 42409, "creator": "conor@apache.org", "time": "2003-08-08T14:43:11Z", "bug_id": 21883, "creation_time": "2003-08-08T14:43:11Z", "is_private": false}]