[{"count": 0, "tags": [], "bug_id": 27801, "text": "I have added HTTP authorization manager, but jmeter \ndoes not seem to send the basic auth to the server.\n\nI can send the test plan.\nAlso  the docs just have a brief mention of basic\nauth, not in details.", "id": 54279, "time": "2004-03-19T18:14:18Z", "creator": "vsubrama@lehman.com", "creation_time": "2004-03-19T18:14:18Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "is_private": false, "id": 54280, "time": "2004-03-19T18:22:50Z", "bug_id": 27801, "creation_time": "2004-03-19T18:22:50Z", "text": "Rather than *sending* the testplan, please add it to this bug as an attachment \nusing the \"Create a new attachment link\".\n\nNote that Bugzilla is effectively public, so do not include any private web \nservers or passwords etc. [The same applies to sending e-mails to the mailing \nlists.]\n\nHave you tried switching on DEBUG logging?"}, {"count": 2, "tags": [], "bug_id": 27801, "attachment_id": 10872, "id": 54281, "time": "2004-03-19T18:39:29Z", "creator": "vsubrama@lehman.com", "creation_time": "2004-03-19T18:39:29Z", "is_private": false, "text": "Created attachment 10872\nThe test plan that I used"}, {"count": 3, "tags": [], "bug_id": 27801, "text": "Created attachment 10873\nLog file", "id": 54282, "time": "2004-03-19T18:40:12Z", "creator": "vsubrama@lehman.com", "creation_time": "2004-03-19T18:40:12Z", "is_private": false, "attachment_id": 10873}, {"count": 4, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 54289, "time": "2004-03-19T21:59:08Z", "bug_id": 27801, "creation_time": "2004-03-19T21:59:08Z", "is_private": false, "text": "The base Url in the test plan is set to /console, yet the URL you are testing \nagainst starts with http://nywlxfstg01:11072/console.\n\nSo the Authorization Manager does not find a match.\n\nSee the example in the Help file.\n\n"}, {"count": 5, "tags": [], "creator": "vsubrama@lehman.com", "attachment_id": 10877, "is_private": false, "id": 54291, "time": "2004-03-19T22:16:56Z", "bug_id": 27801, "creation_time": "2004-03-19T22:16:56Z", "text": "Created attachment 10877\nScreen shots and output of http ersponse"}, {"count": 6, "tags": [], "bug_id": 27801, "attachment_id": null, "is_private": false, "id": 54292, "time": "2004-03-19T22:18:02Z", "creator": "vsubrama@lehman.com", "creation_time": "2004-03-19T22:18:02Z", "text": "The base url in auth was set to http://nywlxfstg01:11072/console\nand yet it does not work\nActually its a weblogic server7.0 console\nand this forwards it to another page\nhttp://nywlxfstg01:11072/loginform/login.jsp\nwhich accepts form based authentication.\n\nI have added this url also and yet it does not work.\nI also tried with URL rewriting and cookie manager, but no positive results.\n\nAppreciate your help."}, {"count": 7, "tags": [], "bug_id": 27801, "attachment_id": null, "text": "Try just http://nywlxfstg01:11072/ and try disabling redirects.\n\nCan you switch on logging on the Weblogic server to check if any credentials \nare being sent? I.e. perhaps it is matching the URL, but not sending the \ncorrect data.\n\nIf this does not work, it would be helpful if you could post a test case that \nuses a publicly available server.\n\nBTW, not everyone can read Word documents, and they tend to be much bigger \nthan the contents (the Word doc was 112kb; the extracted screenshots plus text \ntotalled about 67kb). Best to attach screenshots as separate files, or if you \nwant to keep the files together, use Zip.", "id": 54299, "time": "2004-03-19T23:16:41Z", "creator": "sebb@apache.org", "creation_time": "2004-03-19T23:16:41Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 27801, "is_private": false, "text": "I have tried with just \"http://nywlxfstg01:11072/\" in the Auth manager\nbase url. Also I have disabled the url-rewriting. Still the same problem.\n\nI have captured the following access logs when I hit the site, through\na browser and the second one is through JMeter.\n\n\nAccess Logs when accesses teh site http://nywlxfstg01:11072/console\nthrough web browser:\n\n10.11.78.38 - - [22/Mar/2004:12:16:27 -0500] \"GET /console/ HTTP/1.1\" 302 0\n10.11.78.38 - - [22/Mar/2004:12:16:27 -0500] \"GET /console/login/LoginForm.jsp \nH\nTTP/1.1\" 200 8538\n10.11.78.38 - - [22/Mar/2004:12:16:27 -0500] \"GET /console/login/bea_logo.gif \nHT\nTP/1.1\" 304 0\n10.11.78.38 - - [22/Mar/2004:12:16:31 -0500] \"POST /console/j_security_check \nHTT\nP/1.1\" 302 0\n10.11.78.38 - system [22/Mar/2004:12:16:31 -0500] \"GET /console/ HTTP/1.1\" 302 \n7\n49\n10.11.78.38 - system [22/Mar/2004:12:16:31 -\n0500] \"GET /console/actions/mbean/MB\neanFramesetAction?\nsidebarFrameId=wl_console_frame_1079732109188&isNew=false&fram\neId=wl_console_frame_1079732109189&MBean=etg%3AName%3Detg%2CType%\n3DDomain&bodyFr\nameId=wl_console_frame_1079732109190 HTTP/1.1\" 200 1191\n10.11.78.38 - system [22/Mar/2004:12:16:32 -\n0500] \"GET /console/actions/common/S\nidebarAction?navAction=%2Factions%2Fmbean%2FMBeanNavAction%3FMBean%3Detg%\n253ANam\ne%253Detg%252CType%253DDomain&bodyFrameId=wl_console_frame_1079732109190 \nHTTP/1.\n1\" 200 1341\n10.11.78.38 - system [22/Mar/2004:12:16:32 -\n0500] \"GET /console/actions/common/H\nomeAction?MBean=etg%3AName%3Detg%2CType%3DDomain HTTP/1.1\" 200 0\n10.11.78.38 - system [22/Mar/2004:12:16:32 -0500] \"GET /console/images/home.gif\nHTTP/1.1\" 304 0\n10.11.78.38 - system [22/Mar/2004:12:16:32 -\n0500] \"GET /console/images/popup.gif\n HTTP/1.1\" 304 0\n10.11.78.38 - system [22/Mar/2004:12:16:32 -0500] \"GET /console/images/help.gif\nHTTP/1.1\" 304 0\n10.11.78.38 - system [22/Mar/2004:12:16:32 -\n0500] \"GET /console/images/bea_logo_\nright.gif HTTP/1.1\" 304 0\n10.11.78.38 - system [22/Mar/2004:12:16:32 -\n0500] \"GET /console/images/transpare\nnt.gif HTTP/1.1\" 304 0\n10.11.78.38 - system [22/Mar/2004:12:16:32 -\n0500] \"GET /console/actions/mbean/MB\neanNavAction?MBean=etg%3AName%3Detg%2CType%3DDomain HTTP/1.1\" 200 0\n\n\n\n\n\n\n\n\n===========================\n\nAccess logs through JMeter\n\n10.11.78.38 - - [22/Mar/2004:12:19:39 -0500] \"GET /console HTTP/1.1\" 302 0\n10.11.78.38 - - [22/Mar/2004:12:19:39 -\n0500] \"GET /console/login/LoginForm.jsp;A\nDMINCONSOLESESSION=AfgrkN14Hu9lcplPp0NKHT3MxDCQ5BlVu404I1vcLCYbvolDGvr2!-\n2988167\n83 HTTP/1.1\" 200 8532\n\n\n", "id": 54405, "time": "2004-03-22T17:26:34Z", "creator": "vsubrama@lehman.com", "creation_time": "2004-03-22T17:26:34Z", "attachment_id": null}, {"count": 9, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 54521, "time": "2004-03-24T00:19:03Z", "bug_id": 27801, "creation_time": "2004-03-24T00:19:03Z", "is_private": false, "text": "The second URL used by JMeter looks wrong.\n\nInstead of:\n/console/login/LoginForm.jsp\nit is asking for \n/console/login/LoginForm.jsp;ADMINCONSOLESESSION=AfgrkN14Hu9lcplPp0NKHT3MxDCQ5B\nlVu404I1vcLCYbvolDGvr2!-298816783\n\nThis is presumably caused by the HTTP URL Rewriting test element.\nAre you sure that you need it? I suggest removing it to see what happens."}, {"count": 10, "text": "Yes , this error log was posted when the url rewriting is disabled as mentioned\n in my previous comment.", "bug_id": 27801, "is_private": false, "id": 54579, "time": "2004-03-24T16:43:18Z", "creator": "vsubrama@lehman.com", "creation_time": "2004-03-24T16:43:18Z", "tags": [], "attachment_id": null}, {"count": 11, "tags": [], "bug_id": 27801, "attachment_id": null, "id": 54581, "time": "2004-03-24T17:18:42Z", "creator": "sebb@apache.org", "creation_time": "2004-03-24T17:18:42Z", "is_private": false, "text": "Well, it looks to me like the Rewriting is still occurring, so try deleting the \ntest element.\n\nCan you attach the JMX file?"}, {"count": 12, "tags": [], "bug_id": 27801, "is_private": false, "id": 54582, "creation_time": "2004-03-24T17:27:04Z", "time": "2004-03-24T17:27:04Z", "creator": "vsubrama@lehman.com", "text": "Created attachment 10953\njmx for http auth", "attachment_id": 10953}, {"count": 13, "tags": [], "bug_id": 27801, "text": "It's very difficult debugging this without access to working server.\n\nThe HTML page which you included in the Word Document contains a login form \nwith fields for username: and password:\n \nDo you see a login form when you connect using a browser?\n\nIf so, then HTTP Authorization is not going to work: it does not fill in \nforms - it only knows about HTTP authorisation requests.\n\nWhat you need to do is to create an HTTP Request that mimics the behaviour \nwhen you press the \"Sign In\" button.\n\nExamination of the source code shows that the button does the following:\n\nPOST to /console/j_security_check with the fields:\n\nj_username\nj_password\n\nIt also seems to set the cookie\n\nBEAWLSConsoleLastUsername=\"+username+\";expires=\" + expireTime.toGMTString() \n+ \";\"\n\nwhere expireTime = current time + 1 week.\n\nBut you could probably set any expire time. \n\nIf you don't get a login form when using the browser, try a different browser -\n perhaps the webserver checks to see which browser is being used; maybe it \nneeds a particular User-agent setting.", "id": 54629, "time": "2004-03-25T01:25:20Z", "creator": "sebb@apache.org", "creation_time": "2004-03-25T01:25:20Z", "is_private": false, "attachment_id": null}, {"count": 14, "tags": [], "bug_id": 27801, "attachment_id": null, "id": 54756, "time": "2004-03-26T19:39:24Z", "creator": "vsubrama@lehman.com", "creation_time": "2004-03-26T19:39:24Z", "is_private": false, "text": "Well I tried another url which does not use form based authentication.\nI am getting these errors:\n\nIn the Results Root:\n Request :\nhttp://nywlxfstg01:11073/WLS/javaservice\nCookie Data:\nnull\n\nResponse:\nHTTP/1.1 401 Unauthorized xxx\nDate: Fri, 26 Mar 2004 19:35:24 GMT\nServer: WebLogic Server 7.0 SP3 Mon Jun 30 10:52:50 PDT 2003 273102 with\nWWW-Authenticate: Basic realm=\"default\"\nContent-Length: 1590\nContent-Type: text/html\nConnection: Close\n\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Draft//EN\">\n<HTML>\n<HEAD>\n<TITLE>Error 401--Unauthorized xxx</TITLE>\n<META NAME=\"GENERATOR\" CONTENT=\"WebLogic htmlKona WebLogic Server 7.0 SP3  Mon \nJun 30 10:52:50 PDT 2003 273102 \">\n</HEAD>\n<BODY bgcolor=\"white\">\n<FONT FACE=Helvetica><BR CLEAR=all>\n<TABLE border=0 cellspacing=5><TR><TD><BR CLEAR=all>\n<FONT FACE=\"Helvetica\" COLOR=\"black\" SIZE=\"3\"><H2>Error 401--Unauthorized \nxxx</H2>\n</FONT></TD></TR>\n</TABLE>\n<TABLE border=0 width=100% cellpadding=10><TR><TD VALIGN=top WIDTH=100% \nBGCOLOR=white><FONT FACE=\"Courier New\"><FONT FACE=\"Helvetica\" \nSIZE=\"3\"><H3>From RFC 2068 <i>Hypertext Transfer Protocol -- HTTP/1.1</i>:</H3>\n</FONT><FONT FACE=\"Helvetica\" SIZE=\"3\"><H4>10.4.2 401 Unauthorized</H4>\n</FONT><P><FONT FACE=\"Courier New\">The request requires user authentication. \nThe response MUST include a WWW-Authenticate header field (section 14.46) \ncontaining a challenge applicable to the requested resource. The client MAY \nrepeat the request with a suitable Authorization header field (section 14.8). \nIf the request already included Authorization credentials, then the 401 \nresponse indicates that authorization has been refused for those credentials. \nIf the 401 response contains the same challenge as the prior response, and the \nuser agent has already attempted authentication at least once, then the user \nSHOULD be presented the entity that was given in the response, since that \nentity MAY include relevant diagnostic information. HTTP access authentication \nis explained in section 11.</FONT></P>\n</FONT></TD></TR>\n</TABLE>\n\n</BODY>\n</HTML>\n\n\n=================\nNext leaf:\nRequest:\nhttp://nywlxfstg01:11073/WLS/javaservice\nCookie Data:\nnull\n\nResponse:\nHTTP/1.1 401 Unauthorized xxx\nDate: Fri, 26 Mar 2004 19:35:24 GMT\nServer: WebLogic Server 7.0 SP3 Mon Jun 30 10:52:50 PDT 2003 273102 with\nWWW-Authenticate: Basic realm=\"default\"\nContent-Length: 1590\nContent-Type: text/html\nConnection: Close\n\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Draft//EN\">\n<HTML>\n<HEAD>\n<TITLE>Error 401--Unauthorized xxx</TITLE>\n<META NAME=\"GENERATOR\" CONTENT=\"WebLogic htmlKona WebLogic Server 7.0 SP3  Mon \nJun 30 10:52:50 PDT 2003 273102 \">\n</HEAD>\n<BODY bgcolor=\"white\">\n<FONT FACE=Helvetica><BR CLEAR=all>\n<TABLE border=0 cellspacing=5><TR><TD><BR CLEAR=all>\n<FONT FACE=\"Helvetica\" COLOR=\"black\" SIZE=\"3\"><H2>Error 401--Unauthorized \nxxx</H2>\n</FONT></TD></TR>\n</TABLE>\n<TABLE border=0 width=100% cellpadding=10><TR><TD VALIGN=top WIDTH=100% \nBGCOLOR=white><FONT FACE=\"Courier New\"><FONT FACE=\"Helvetica\" \nSIZE=\"3\"><H3>From RFC 2068 <i>Hypertext Transfer Protocol -- HTTP/1.1</i>:</H3>\n</FONT><FONT FACE=\"Helvetica\" SIZE=\"3\"><H4>10.4.2 401 Unauthorized</H4>\n</FONT><P><FONT FACE=\"Courier New\">The request requires user authentication. \nThe response MUST include a WWW-Authenticate header field (section 14.46) \ncontaining a challenge applicable to the requested resource. The client MAY \nrepeat the request with a suitable Authorization header field (section 14.8). \nIf the request already included Authorization credentials, then the 401 \nresponse indicates that authorization has been refused for those credentials. \nIf the 401 response contains the same challenge as the prior response, and the \nuser agent has already attempted authentication at least once, then the user \nSHOULD be presented the entity that was given in the response, since that \nentity MAY include relevant diagnostic information. HTTP access authentication \nis explained in section 11.</FONT></P>\n</FONT></TD></TR>\n</TABLE>\n\n</BODY>\n</HTML>\n\nTest plan is attached."}, {"count": 15, "tags": [], "bug_id": 27801, "text": "Created attachment 11013\ntestplan with basic auth", "id": 54757, "time": "2004-03-26T19:40:21Z", "creator": "vsubrama@lehman.com", "creation_time": "2004-03-26T19:40:21Z", "is_private": false, "attachment_id": 11013}, {"count": 16, "tags": [], "bug_id": 27801, "is_private": false, "id": 54769, "creation_time": "2004-03-27T01:29:49Z", "time": "2004-03-27T01:29:49Z", "creator": "sebb@apache.org", "text": "The base URL is set to \nhttp://nywlxfstg01:11073//WLS/javaservice\nand the requested page is\nhttp://nywlxfstg01:11073/WLS/javaservice\n\nTry removing the extra / in the base URL", "attachment_id": null}, {"count": 17, "tags": [], "bug_id": 27801, "text": "Sebb,\n\n  It worked!!!\n  Thanks a lot, man.\n  Its a great tool and keep up the good work.\n\n  BTW do you guys have a example of how to use SOAP/XML RPC request.\n", "id": 54818, "time": "2004-03-29T16:35:33Z", "creator": "vsubrama@lehman.com", "creation_time": "2004-03-29T16:35:33Z", "is_private": false, "attachment_id": null}]