[{"count": 0, "tags": [], "bug_id": 21978, "attachment_id": null, "id": 41728, "time": "2003-07-29T18:43:35Z", "creator": "ecarmich@alumni.rice.edu", "creation_time": "2003-07-29T18:43:35Z", "is_private": false, "text": "Tomcat can't compile certain tag files:\n\n1) Tag files whose relative pathname contains a component (one of the \ndirectories, or the filename without the \".tag\" suffix) which is not a legal \nJava identifier.  Tomcat converts the relative pathname to a fully-qualified \nclass name, and if the parts aren't all legal Java identifiers, the Java \ncompiler will throw an error.\n\n2) Tag files in /<some_directories>/<immediate_parent_directory>/ when there's \na tag file in /<some_directories>/ with \nfilename \"<immediate_parent_directory>.tag\".  Here the problem is that the \npackage of the tag files in /<some_directories>/<immediate_parent_directory>/ \nclashes with the class of the \"<immediate_parent_directory>.tag\" tag file.  \nFor instance, the tag file /WEB-INF/tags/foo/bar.tag will have package name \norg.apache.jsp.tag.web.foo, which conflicts with the fully-qualified class \nname of the tag file /WEB-INF/tags/foo.tag.\n\nI will attach a patch that fixes this."}, {"count": 1, "tags": [], "creator": "ecarmich@alumni.rice.edu", "attachment_id": 7563, "text": "Created attachment 7563\nProposed patch", "id": 41729, "time": "2003-07-29T18:45:15Z", "bug_id": 21978, "creation_time": "2003-07-29T18:45:15Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 21978, "is_private": false, "id": 41741, "attachment_id": null, "creator": "kin-man.chung@sun.com", "creation_time": "2003-07-29T23:26:48Z", "time": "2003-07-29T23:26:48Z", "text": "Patch applied.  I also added checks for Java keywords in the package names. \nThanks.\n"}, {"count": 3, "tags": [], "text": "Good catch on checking for Java keywords.  That also makes it possible to \nrefactor getDerivedPackageName and eliminate some duplicate code.  I will \nattach a patch implementing this.\n\nNo issues whatsoever with your commit fixing the bug I reported, so if you \ndon't think the new patch makes the code cleaner, feel free to change this bug \nticket back to \"Resolved/Fixed\".", "is_private": false, "bug_id": 21978, "id": 41747, "time": "2003-07-30T02:51:14Z", "creator": "ecarmich@alumni.rice.edu", "creation_time": "2003-07-30T02:51:14Z", "attachment_id": null}, {"count": 4, "tags": [], "text": "Created attachment 7574\nRefactoring getDerivedPackageName()", "is_private": false, "bug_id": 21978, "id": 41748, "time": "2003-07-30T02:52:14Z", "creator": "ecarmich@alumni.rice.edu", "creation_time": "2003-07-30T02:52:14Z", "attachment_id": 7574}, {"count": 5, "tags": [], "text": "I thought about refactoring that part, but was too lazy to actually do it.  Glad\nthat you did though.  Thanks.\n", "is_private": false, "id": 41795, "creator": "kin-man.chung@sun.com", "time": "2003-07-30T17:38:53Z", "bug_id": 21978, "creation_time": "2003-07-30T17:38:53Z", "attachment_id": null}]