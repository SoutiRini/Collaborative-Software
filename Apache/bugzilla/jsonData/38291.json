[{"count": 0, "tags": [], "bug_id": 38291, "text": "I've got two invocations of my authenticate.jsp hanging since 130501996 ms in\ntomcat5-5.0.30-8jpp like this:\n\n\"TP-Processor6\" daemon prio=1 tid=0x08493c68 nid=0x4f34 waiting on condition\n[0x59c85000..0x59c86658]\n        at org.apache.tomcat.util.buf.UDecoder.convert(UDecoder.java:82)\n        at org.apache.tomcat.util.buf.UDecoder.convert(UDecoder.java:42)\n        at org.apache.tomcat.util.http.Parameters.urlDecode(Parameters.java:405)\n        at\norg.apache.tomcat.util.http.Parameters.processParameters(Parameters.java:389)\n        at\norg.apache.tomcat.util.http.Parameters.processParameters(Parameters.java:341)\n        at\norg.apache.coyote.tomcat5.CoyoteRequest.parseRequestParameters(CoyoteRequest.java:2418)\n        at\norg.apache.coyote.tomcat5.CoyoteRequest.getParameter(CoyoteRequest.java:1073)\n        at\norg.apache.coyote.tomcat5.CoyoteRequestFacade.getParameter(CoyoteRequestFacade.java:267)\n        at\njavax.servlet.ServletRequestWrapper.getParameter(ServletRequestWrapper.java:157)\n        at\norg.apache.jsp.free.login.authenticate_jsp._jspService(authenticate_jsp.java:141)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:324)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n[...]\n\nThe JSP is a form action, and the requests are hanging during the POST request.\nThe page doesn't receive anything special, just username and password.", "id": 84678, "time": "2006-01-16T17:43:25Z", "creator": "boris@folgmann.de", "creation_time": "2006-01-16T17:43:25Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "boris@folgmann.de", "text": "We've got exactly the same problem with the Edit.jsp form action of JSPWiki (for\nsee more info see http://www.jspwiki.org/) on a different server.\nDifferent hardware, but RedHat 9 and tomcat version are the same. Here's the trace \nof the hanging threads:\n\n\"TP-Processor9\" daemon prio=1 tid=0x080f38c0 nid=0x5050 waiting on condition\n[0x59e08000..0x59e094d8]\n        at org.apache.tomcat.util.buf.UDecoder.convert(UDecoder.java:82)\n        at org.apache.tomcat.util.buf.UDecoder.convert(UDecoder.java:42)\n        at org.apache.tomcat.util.http.Parameters.urlDecode(Parameters.java:405)\n        at\norg.apache.tomcat.util.http.Parameters.processParameters(Parameters.java:389)\n        at\norg.apache.tomcat.util.http.Parameters.processParameters(Parameters.java:341)\n        at\norg.apache.coyote.tomcat5.CoyoteRequest.parseRequestParameters(CoyoteRequest.java:2418)\n        at\norg.apache.coyote.tomcat5.CoyoteRequest.getParameter(CoyoteRequest.java:1073)\n        at\norg.apache.coyote.tomcat5.CoyoteRequestFacade.getParameter(CoyoteRequestFacade.java:267)\n        at com.ecyrd.jspwiki.WikiEngine.safeGetParameter(WikiEngine.java:591)\n        at org.apache.jsp.Edit_jsp._jspService(Edit_jsp.java:73)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:324)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n        at\norg.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n        at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:118)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)\n        at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)\n        at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:300)\n        at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:374)\n        at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:743)\n        at\norg.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:675)\n        at org.apache.jk.common.SocketConnection.runIt(ChannelSocket.java:866)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n\nand\n\"TP-Processor5\" daemon prio=1 tid=0x084936e8 nid=0x4f33 waiting on condition\n[0x59c04000..0x59c056d8]\n        at org.apache.tomcat.util.buf.UDecoder.convert(UDecoder.java:82)\n        at org.apache.tomcat.util.buf.UDecoder.convert(UDecoder.java:42)\n        at org.apache.tomcat.util.http.Parameters.urlDecode(Parameters.java:405)\n        at\norg.apache.tomcat.util.http.Parameters.processParameters(Parameters.java:389)\n        at\norg.apache.tomcat.util.http.Parameters.processParameters(Parameters.java:341)\n        at\norg.apache.coyote.tomcat5.CoyoteRequest.parseRequestParameters(CoyoteRequest.java:2418)\n        at\norg.apache.coyote.tomcat5.CoyoteRequest.getParameter(CoyoteRequest.java:1073)\n        at\norg.apache.coyote.tomcat5.CoyoteRequestFacade.getParameter(CoyoteRequestFacade.java:267)\n        at com.ecyrd.jspwiki.WikiEngine.safeGetParameter(WikiEngine.java:591)\n        at org.apache.jsp.Edit_jsp._jspService(Edit_jsp.java:73)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:324)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n        at\norg.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n        at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:118)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)\n        at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)\n        at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:300)\n        at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:374)\n        at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:743)\n        at\norg.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:675)\n        at org.apache.jk.common.SocketConnection.runIt(ChannelSocket.java:866)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n        at java.lang.Thread.run(Thread.java:595)\n\nI hope you can fix that!\n\n\n", "id": 84726, "attachment_id": null, "bug_id": 38291, "creation_time": "2006-01-17T20:24:40Z", "time": "2006-01-17T20:24:40Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 38291, "text": "I hope you can tell us the input to the convert call that makes it hang,\notherwise we can't reproduce it.  Thanks.", "id": 87958, "time": "2006-04-13T19:26:09Z", "creator": "yoavs@computer.org", "creation_time": "2006-04-13T19:26:09Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 38291, "text": "Without information to reproduce there is little we can do with this.", "id": 109573, "time": "2007-10-22T17:43:59Z", "creator": "markt@apache.org", "creation_time": "2007-10-22T17:43:59Z", "is_private": false, "attachment_id": null}]