[{"count": 0, "tags": [], "text": "Created attachment 29878\nCase insensitive for mod_auth\n\nThe \"AuthGroupFile\" and \"AuthUserFile\" in mod_auth use case sensitive string comparison function, i.e., strcmp, which conflicts with the case insensitivity of Apache's configuration design. According to my understanding, httpd champions case insensitivity for both configuration directive and configuration options, e.g., all boolean options and the options in the core module.\n\nThe fix is straightforward as follows:\n\n\n--- modules/aaa/mod_authn_file.c        2011-12-04 16:08:01.000000000 -0800\n+++ modules/aaa/mod_authn_file.c        2013-01-21 22:29:01.536197988 -0800\n@@ -48,7 +48,7 @@\n static const char *set_authn_file_slot(cmd_parms *cmd, void *offset,\n                                        const char *f, const char *t) \n {\n-    if (t && strcmp(t, \"standard\")) {\n+    if (t && strcasecmp(t, \"standard\")) {\n         return apr_pstrcat(cmd->pool, \"Invalid auth file type: \", t, NULL);\n     }   \n\n\n--- modules/aaa/mod_authz_groupfile.c   2011-12-04 16:08:01.000000000 -0800\n+++ modules/aaa/mod_authz_groupfile.c   2013-01-21 22:29:25.056198548 -0800\n@@ -73,7 +73,7 @@\n static const char *set_authz_groupfile_slot(cmd_parms *cmd, void *offset, const char *f, \n                                  const char *t) \n {\n-    if (t && strcmp(t, \"standard\")) {\n+    if (t && strcasecmp(t, \"standard\")) {\n         return apr_pstrcat(cmd->pool, \"Invalid auth file type: \", t, NULL);\n     }", "is_private": false, "bug_id": 54463, "id": 164782, "time": "2013-01-22T06:47:14Z", "creator": "tixu@cs.ucsd.edu", "creation_time": "2013-01-22T06:47:14Z", "attachment_id": 29878}, {"count": 1, "tags": [], "creator": "christophe.jaillet@wanadoo.fr", "attachment_id": null, "id": 166388, "time": "2013-04-04T20:58:27Z", "bug_id": 54463, "creation_time": "2013-04-04T20:58:27Z", "is_private": false, "text": "Well, not sure this is the correct fix.\n\nI really don't see the use of the 2nd optional parameter for these options. They are not documented and the code seems to be useless.\n\nThis has been this way for more than 10 years.\n\n\n\nShould these parameters be defined with AP_INIT_TAKE1 (instead of AP_INIT_TAKE12) and/or the test against \"standard\" removed ?\n\nThis could break conf file compatibility, but I see no reason for someone to use this 2nd parameter anyway."}, {"count": 2, "tags": [], "creator": "christophe.jaillet@wanadoo.fr", "attachment_id": null, "id": 167299, "time": "2013-05-20T08:30:07Z", "bug_id": 54463, "creation_time": "2013-05-20T08:30:07Z", "is_private": false, "text": "\"standard\" option removed in trunk in r1484398"}, {"count": 3, "attachment_id": null, "bug_id": 54463, "is_private": false, "id": 167522, "time": "2013-05-31T07:00:30Z", "creator": "christophe.jaillet@wanadoo.fr", "creation_time": "2013-05-31T07:00:30Z", "tags": [], "text": "Backported in 2.4.x: r1485737\n\nWill be available in 2.4.5"}]