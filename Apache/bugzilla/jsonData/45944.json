[{"count": 0, "tags": [], "bug_id": 45944, "attachment_id": null, "text": "This does not work even if you wrap these file elements in a resources element. The last example on the manual, at URL:\n\nhttp://ant.apache.org/manual/CoreTasks/copy.html\n\nactually fails. No files are copied.\n\nEg, the following task\n\n  <copy todir=\"dest\">\n        <resources>\n          <file file=\"src_dir/file1.txt\"/>\n          <file file=\"src_dir/file2.txt\"/>\n        </resources>\n  </copy>\n\nwon't copy any files. Filing the bug as major as a manual example breaks (!)\n\nNote: a fileset with one element works. Maybe the <file> resource element is just obsolete? (would be strange though).", "id": 121180, "time": "2008-10-03T09:31:53Z", "creator": "elvanor@gentoo.org", "creation_time": "2008-10-03T09:31:53Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 45944, "is_private": false, "count": 1, "id": 121228, "time": "2008-10-06T05:52:37Z", "creator": "bodewig@apache.org", "creation_time": "2008-10-06T05:52:37Z", "text": "The issue here is that a file resource represents an absolute path unless you also set the basedir attribute.\n\nIf you don't specify a mapper, the identity-mapper will be used in order to determine the target file name, which in the case of an absolute path is the file itself.\n\nIf you change you example to either\n\n  <copy todir=\"dest\">\n        <resources>\n          <file basedir=\"src_dir\" file=\"file1.txt\"/>\n          <file basedir=\"src_dir\" file=\"file2.txt\"/>\n        </resources>\n  </copy>\n\nor\n\n  <copy todir=\"dest\" flatten=\"true\">\n        <resources>\n          <file file=\"src_dir/file1.txt\"/>\n          <file file=\"src_dir/file2.txt\"/>\n        </resources>\n  </copy>\n\nit will copy the files.\n\nI completely agree this is inconsistent with the docs, but I think the docs are wrong and need to talk about resources returning absolute paths.  I don't really know how <copy> is supposed to pick the target file names from our examples - flatten seems both reasonable and arbitrary.\n\nBefore I go any further, I'm going to raise this on the dev list."}, {"text": "(In reply to comment #1)\n\n>   <copy todir=\"dest\">\n>         <resources>\n>           <file basedir=\"src_dir\" file=\"file1.txt\"/>\n>           <file basedir=\"src_dir\" file=\"file2.txt\"/>\n>         </resources>\n>   </copy>\n\nshould have been\n\n  <copy todir=\"dest\">\n        <resources>\n          <file basedir=\"src_dir\" file=\"src_dir/file1.txt\"/>\n          <file basedir=\"src_dir\" file=\"src_dir/file2.txt\"/>\n        </resources>\n  </copy>\n", "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "count": 2, "id": 121230, "time": "2008-10-06T06:27:38Z", "bug_id": 45944, "creation_time": "2008-10-06T06:27:38Z", "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 45944, "is_private": false, "id": 121239, "time": "2008-10-06T09:21:02Z", "creator": "bodewig@apache.org", "creation_time": "2008-10-06T09:21:02Z", "tags": [], "text": "note that the example says flatten=\"true\", so it is correct (but needs more explanations)."}, {"count": 4, "tags": [], "text": "changed the documentation in trunk with svn revision 703136.", "is_private": false, "id": 121335, "creator": "bodewig@apache.org", "time": "2008-10-09T04:29:33Z", "bug_id": 45944, "creation_time": "2008-10-09T04:29:33Z", "attachment_id": null}]