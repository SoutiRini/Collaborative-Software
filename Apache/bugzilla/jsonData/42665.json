[{"count": 0, "tags": [], "creator": "pulsifer3@comcast.net", "attachment_id": null, "id": 104413, "time": "2007-06-14T12:46:06Z", "bug_id": 42665, "creation_time": "2007-06-14T12:46:06Z", "is_private": false, "text": "When processing a \"GET /.../file.html\", httpd attempts to open the file\n\"docroot/.../file.html/.htaccess\".  The OS returns ENOTDIR, and then processing\nof the request continues.\n\nA full description of the bug is located at\nhttp://mail-archives.apache.org/mod_mbox/httpd-dev/200706.mbox/%3c004c01c7ac28$aaf63540$670aa8c0@apt23%3e\n\nThe \"final\" patch is located at\nhttp://mail-archives.apache.org/mod_mbox/httpd-dev/200706.mbox/%3c001601c7ae72$1e88b910$640aa8c0@apt23%3e\n\nA description of the fix and some test output are located at\nhttp://mail-archives.apache.org/mod_mbox/httpd-dev/200706.mbox/%3c00a701c7ae24$e06eec50$660aa8c0@apt23%3e\nhttp://mail-archives.apache.org/mod_mbox/httpd-dev/200706.mbox/%3c009b01c7ae14$f47e5f10$660aa8c0@apt23%3e\nhttp://mail-archives.apache.org/mod_mbox/httpd-dev/200706.mbox/%3c00a101c7ae1d$0642e380$660aa8c0@apt23%3e"}, {"count": 1, "tags": [], "creator": "pulsifer3@comcast.net", "is_private": false, "text": "Created attachment 20351\n\"final\" patch", "id": 104414, "time": "2007-06-14T12:48:07Z", "bug_id": 42665, "creation_time": "2007-06-14T12:48:07Z", "attachment_id": 20351}, {"count": 2, "tags": [], "bug_id": 42665, "attachment_id": null, "text": "Your idea is good; however your patch has two flaws...\n\nif r->finfo.filetype is neither APR_DIR nor APR_REG, then what?  Whoops.\n\nalso I believe your change to validating the symlink status is not a valid\nchange.  Please explain since that has little to do with the proposed problem\nand solution.", "id": 105812, "time": "2007-07-21T01:34:06Z", "creator": "wrowe@apache.org", "creation_time": "2007-07-21T01:34:06Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 42665, "is_private": false, "text": "> if r->finfo.filetype is neither APR_DIR nor APR_REG, then what?  Whoops.\n\nThe patch corrects an optimization.  In other words, the code is supposed to\nwork correctly even without the optimization--the entire optimization could be\nremoved and the code should still function correctly.  The patch corrects the\noptimization so that it handles and cases r->finfo.filetype == APR_DIR and\nr->finfo.filetype == APR_REG.  If r->finfo.filetype is neither APR_DIR nor\nAPR_REG, then the optimization simply falls through and executes the code below,\nwhich again is intended to correctly handle all cases.  So the answer to your\nquestion is: it does whatever it would do if the optimization did not exists.\n\n> also I believe your change to validating the symlink status is not a valid\n> change.  Please explain since that has little to do with the proposed problem\n> and solution.\n\nI don't understand what those two sentences say.  Please elaborate.\n", "id": 105813, "time": "2007-07-21T02:31:38Z", "creator": "pulsifer3@comcast.net", "creation_time": "2007-07-21T02:31:38Z", "attachment_id": null}]