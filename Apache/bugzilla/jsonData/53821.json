[{"count": 0, "tags": [], "creator": "nistor1@illinois.edu", "attachment_id": 29320, "id": 161927, "creation_time": "2012-09-03T15:30:21Z", "time": "2012-09-03T15:30:21Z", "bug_id": 53821, "text": "Created attachment 29320\npatch\n\n\"IdentityStack.removeAll(Collection coll)\" has the same performance\nproblem as the previously fixed Bug 53622 (for\n\"VectorSet.retainAll(Collection coll)\").  The problem is that\n\"removeAll(Collection coll)\" performs \"coll.contains(e.next())\", which\nis slow if for example \"coll\" is a list.\n\nI attached a patch similar to the one used by Jesse Glick in Bug\n53622.  I also attached a test that exposes this problem.  For this\ntest, the patch provides a 97X speedup on my machine.\n\nTo run the test, just do:\n\n$ java Test\n\nThe output for the un-patched version is:\nTime is 2516\n\nThe output for the patched version is:\nTime is 26", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 29321\ntest", "is_private": false, "id": 161928, "creator": "nistor1@illinois.edu", "time": "2012-09-03T15:31:16Z", "bug_id": 53821, "creation_time": "2012-09-03T15:31:16Z", "attachment_id": 29321}, {"count": 2, "tags": [], "bug_id": 53821, "attachment_id": null, "id": 172025, "time": "2014-01-02T14:37:56Z", "creator": "bodewig@apache.org", "creation_time": "2014-01-02T14:37:56Z", "is_private": false, "text": "svn revision 1554813"}]