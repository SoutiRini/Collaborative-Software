[{"count": 0, "attachment_id": null, "bug_id": 40858, "is_private": false, "id": 95275, "time": "2006-11-01T02:54:43Z", "creator": "firiazabal@gmail.com", "creation_time": "2006-11-01T02:54:43Z", "tags": [], "text": "I've a problem in WindowsXP with exec task. I'm trying to make a database \nrestore in postgreSQL, using the postgreSQL command pg_restore.\n\nWhen i do this, i'm requested for a password (the database user password), so \ni've put the password as an inputstring property. I think that we are having a \nsynchronization problem between the exec task and the request of pg_restore, \nbecause the process hang up waiting without doing anything.\n\nThis is the task i'm trying to run:\n\n<exec dir=\".\" executable=\"pg_restore\" inputstring=\"postgres\">\n  <arg line=\"-i -h localhost -p 5432 -U postgres -v -d postgres -O \nfichero.dump\" /> \n</exec>\n\nThanks"}, {"count": 1, "tags": [], "bug_id": 40858, "attachment_id": null, "id": 95276, "time": "2006-11-01T03:16:03Z", "creator": "peterreilly@apache.org", "creation_time": "2006-11-01T03:16:03Z", "is_private": false, "text": "Does adding a newline help?\ninputstring=\"postgres${line.lineseparator}\""}, {"count": 2, "tags": [], "bug_id": 40858, "attachment_id": null, "is_private": false, "id": 95277, "time": "2006-11-01T03:19:12Z", "creator": "peterreilly@apache.org", "creation_time": "2006-11-01T03:19:12Z", "text": "Opps, that should be ${line.separator}"}, {"count": 3, "tags": [], "bug_id": 40858, "attachment_id": null, "id": 95283, "time": "2006-11-01T04:38:05Z", "creator": "peterreilly@apache.org", "creation_time": "2006-11-01T04:38:05Z", "is_private": false, "text": "The pg_* commands do not use standard input\nto get input, they directy access the tty device\n(or console on windows).\nThis can be seen by using the command line:\npg_dump -i -h localhost -p 5432 -U postgres -v -d postgres -f x.dump  < pass\nwhere pass is a file containing the password\nThe program ignores the input stream and outputs\nto the console: Password:\nand then reads from the console.\nThe pg_* commands do not seem to provide a way to\nspecify a password on the command line, or useing\na file, so you will need something\nlike expect:\nhttp://expect.nist.gov/\n"}, {"count": 4, "tags": [], "bug_id": 40858, "attachment_id": null, "text": "Thanks for your answer.\n\nAnyway, do you know if there is any other way to do this with ant. I would like \nto distribute my application with ant, and if i have to search externals tools \nto do some things, the distributions will be very complain for users.", "id": 95293, "time": "2006-11-01T06:58:37Z", "creator": "firiazabal@gmail.com", "creation_time": "2006-11-01T06:58:37Z", "is_private": false}, {"text": "I am sorry, I cannot think of any way to do this with java, or\nant.", "tags": [], "bug_id": 40858, "attachment_id": null, "count": 5, "id": 95301, "time": "2006-11-01T10:01:32Z", "creator": "peterreilly@apache.org", "creation_time": "2006-11-01T10:01:32Z", "is_private": false}]