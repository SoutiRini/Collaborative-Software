[{"count": 0, "tags": [], "bug_id": 40557, "attachment_id": null, "id": 93932, "time": "2006-09-20T18:52:19Z", "creator": "cchouinard@groupecho.com", "creation_time": "2006-09-20T18:52:19Z", "is_private": false, "text": "Documents created with an owner password and no edit/copy/annotations can't be\nopenned with Acrobat Reader 5 and 4, Acrobat asks for a password to open the\nfile, even if no user password is set. Everything works fine with fop 0.91.\n\nWe tried to specify a user password, but we can't open the document with the\nuser password nor the owner password.\n\nIt works well with Acrobat Reader 6 and 7. But some of our customers who are\nreceiving our PDF files are on Windows 98 and Acrobat Reader 4.0.5 seems to be\nthe last version available for this OS."}, {"count": 1, "tags": [], "bug_id": 40557, "attachment_id": 21960, "is_private": false, "id": 116592, "time": "2008-05-13T22:35:23Z", "creator": "vipermax@gmail.com", "creation_time": "2008-05-13T22:35:23Z", "text": "Created attachment 21960\nAn ugly fix.\n\nchanged function outputTrailer().\n\nOutput only one \u201c/ID\u201d key in trailer dictionary whether the PDF is encrypted or not."}, {"count": 2, "tags": [], "bug_id": 40557, "attachment_id": null, "is_private": false, "id": 116593, "time": "2008-05-13T22:40:11Z", "creator": "vipermax@gmail.com", "creation_time": "2008-05-13T22:40:11Z", "text": "I happened to meet this problem too. (with FOP0.94 and Acrobat5.0.5jp)\nEncrypted PDF made by FOP have two \u201c/ID\u201d keys in trailer dictionary, it looks like:\n\ntrailer\n<<\n/Size 13\n/Root 2 0 R\n/Info 4 0 R\n/ID [<DC6AA9DED0627627476219E8BB6F5592> <DC6AA9DED0627627476219E8BB6F5592>]\n/Encrypt 5 0 R\n/ID[<3A965D0CD346E846E46079C99CC8651D><169B38EC863D117DEEFDB50695766732>]\n>>\n\nIt seems that Acrobat5 use the first (which should be the second in the example above) \u201c/ID\u201d to authenticate user password. Acrobat after 6.0 seems to read dictionary from below.\n\nAccording to PDF spec (v1.4), \u201cNo two entries in the same dictionary should have the same key. If a key does appear more than once, its value is unde\ufb01ned.\u201d ([Page35]3.2.6 Dictionary Objects). It should have only one \u201c/ID\u201d key in trailer dictionary whether the PDF is encrypted or not.\n\nI have upload an temporary (ugly) fix for this.\n\n"}, {"count": 3, "text": "\nThanks for offering the fix. I'm not sure it is that 'ugly' as you think. Simply seems to correct a small oversight in FOP's PDF library.", "creator": "adelmelle@apache.org", "is_private": false, "id": 116625, "time": "2008-05-15T00:21:58Z", "bug_id": 40557, "creation_time": "2008-05-15T00:21:58Z", "tags": [], "attachment_id": null}, {"count": 4, "tags": [], "creator": "jeremias@apache.org", "attachment_id": null, "text": "It appears this has been fixed by the following revision:\nhttp://svn.apache.org/viewvc?view=rev&revision=708012", "id": 123701, "time": "2009-01-02T08:36:01Z", "bug_id": 40557, "creation_time": "2009-01-02T08:36:01Z", "is_private": false}, {"count": 5, "tags": [], "creator": "Kostecki@his.de", "attachment_id": null, "text": "*** Bug 46730 has been marked as a duplicate of this bug. ***", "id": 124925, "time": "2009-02-18T05:52:51Z", "bug_id": 40557, "creation_time": "2009-02-18T05:52:51Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 40557, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 155584, "time": "2012-04-01T06:29:12Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T06:29:12Z", "is_private": false, "attachment_id": null}]