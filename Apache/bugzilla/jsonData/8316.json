[{"count": 0, "tags": [], "bug_id": 8316, "attachment_id": null, "text": "sql:setDataSource is not exporting scope.  Repro is:  Only the results for a\nscope of page are correct\n\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jstl/core\" %>\n<%@ taglib prefix=\"sql\" uri=\"http://java.sun.com/jstl/sql\" %>\n<%@ taglib prefix=\"sql_rt\" uri=\"http://java.sun.com/jstl/sql_rt\" %>\n<%@ taglib prefix=\"tck\" uri=\"http://java.sun.com/jstltck/jstltck-util\" %>\n<%@ page import=\"javax.sql.*, java.util.*\" %>\n\n<tck:test testName=\"positiveSetDataSourceScopeAttributeTest\">\n\n\n   <!-- EL: Validate the explicit/implicit behavior of the\n             action when scope is and isn't provided -->\n\n   <h1>Validating sql:setDataSource action scope attributes using EL</h1>\n   <p>\n\n   <sql:setDataSource dataSource=\"${jstlDS}\" var='iPage' /> \n   <tck:checkScope varName=\"iPage\" />\n\n   <sql:setDataSource dataSource=\"${jstlDS}\" var='ePage' scope='page'/> \n   <tck:checkScope varName=\"ePage\"  inScope='page'/>\n\n   <sql:setDataSource dataSource=\"${jstlDS}\" var='eSession' scope='session'/> \n   <tck:checkScope varName=\"eSession\" inScope=\"session\" />\n\n   <sql:setDataSource dataSource=\"${jstlDS}\" var='eRequest' scope='request'/> \n   <tck:checkScope varName=\"eRequest\" inScope='request'/>\n\n   <sql:setDataSource dataSource=\"${jstlDS}\" var='eApplication'\nscope='application'/> \n   <tck:checkScope varName=\"eApplication\"  inScope='application'/>\n\n   <!-- RT: Validate the explicit/implicit behavior of the\n             action when scope is and isn't provided -->\n\n   <h1>Validating sql:setDataSource action scope attributes using RT</h1>\n   <p>\n\n   <sql_rt:setDataSource \n       dataSource='<%=(DataSource) pageContext.getAttribute(\"jstlDS\",\nPageContext.APPLICATION_SCOPE) %>' \n       var='riPage' />\n   <tck:checkScope varName=\"riPage\" />\n\n   <sql_rt:setDataSource \n       dataSource='<%=(DataSource) pageContext.getAttribute(\"jstlDS\",\nPageContext.APPLICATION_SCOPE) %>' \n       var='rePage' scope='page'   /> \n   <tck:checkScope varName=\"rePage\"  inScope='page'/>\n\n     <sql_rt:setDataSource \n       dataSource='<%=(DataSource) pageContext.getAttribute(\"jstlDS\",\nPageContext.APPLICATION_SCOPE) %>' \n       var='reSession' scope='session'   /> \n   <tck:checkScope varName=\"reSession\" inScope=\"session\" />\n\n    <sql_rt:setDataSource \n       dataSource='<%=(DataSource) pageContext.getAttribute(\"jstlDS\",\nPageContext.APPLICATION_SCOPE) %>' \n       var='reRequest' scope='request'   /> \n   <tck:checkScope varName=\"reRequest\"  inScope='request'/>\n\n     <sql_rt:setDataSource \n       dataSource='<%=(DataSource) pageContext.getAttribute(\"jstlDS\",\nPageContext.APPLICATION_SCOPE) %>' \n       var='reApplication' scope='application'   /> \n   <tck:checkScope varName=\"reApplication\" inScope='application'/>\n  \n</tck:test", "id": 14105, "time": "2002-04-19T22:33:19Z", "creator": "Lance.Andersen@Sun.COM", "creation_time": "2002-04-19T22:33:19Z", "is_private": false}, {"count": 1, "tags": [], "creator": "jan.luehe@sun.com", "text": "Fixed.\nThe setter method for 'scope' in <sql:setDataSource> was not saving the\nspecified scope.\n", "id": 14110, "time": "2002-04-19T22:51:22Z", "bug_id": 8316, "creation_time": "2002-04-19T22:51:22Z", "is_private": false, "attachment_id": null}]