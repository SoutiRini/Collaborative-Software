[{"count": 0, "tags": [], "bug_id": 29116, "attachment_id": null, "text": "if you go directly to the login usecase (from a bookmark, for instance), lenya\nthrows a NPE because the referrer is empty.\n\nthe referrer is, as far as i can tell, no longer necessary because we do not\nchange URLs when calling the login usecase. before we adapted consistent\nusecases, we needed to go to a different URL for login. thus, the login code can\nbe refactored to no longer use the referrer.", "id": 57698, "time": "2004-05-20T14:07:43Z", "creator": "gregor@apache.org", "creation_time": "2004-05-20T14:07:43Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 29116, "attachment_id": null, "text": "in lenya/content/ac/login.xsp I commented out a bit of code:\n\n\n/* FIXME: causes problems when no referrer      \n      String\nauthenticatorId=(String)session.getAttribute(\"org.apache.lenya.cms.cocoon.acting.Authenticator.id\");\n  \t  String\nauthenticatorName=(String)session.getAttribute(\"org.apache.lenya.cms.cocoon.acting.Authenticator.name\");\n\n      if(authenticatorId != null){\n          <authenticator><xsp:attribute\nname=\"type\"><xsp:expr>authenticatorId</xsp:expr></xsp:attribute>\n            <name><xsp:expr>authenticatorName</xsp:expr></name>\n          </authenticator>\n      }\n      else{\n          <no_authenticator_id_yet/>\n      }\n\n      String\nprotected_destination=(String)session.getAttribute(\"protected_destination\");\n      if(protected_destination != null){\n       \n<xsp:content><protected_destination><xsp:expr>protected_destination</xsp:expr></protected_destination></xsp:content>\n      }\n      else{\n        <xsp:content><no_protected_destination/></xsp:content>\n      }\n  */\n\n\nand it seems to work with no referrer. This anything to do with fixing the\nproblem or have I opened myself up to a world of pain ?! Functionality seems to\nbe the same.", "id": 60368, "time": "2004-07-09T15:56:00Z", "creator": "ps@nomensa.com", "creation_time": "2004-07-09T15:56:00Z", "is_private": false}, {"count": 2, "text": "The session was obtained using request.getSession(false). Because it was not yet\ninitialized, the NPE was thrown when accessing the session object.", "bug_id": 29116, "attachment_id": null, "id": 60421, "time": "2004-07-10T23:55:06Z", "creator": "andreas@apache.org", "creation_time": "2004-07-10T23:55:06Z", "tags": [], "is_private": false}]