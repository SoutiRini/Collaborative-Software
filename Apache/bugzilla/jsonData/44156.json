[{"count": 0, "tags": [], "bug_id": 44156, "attachment_id": null, "text": "On Windows Server 2003 with apache 2.2.6 with Tomcat 6.0 and tomcat connector\nFrom the crash log:\n#\n# An unexpected error has been detected by Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x7c81a379, pid=3796, tid=320\n#\n# Java VM: Java HotSpot(TM) Client VM (1.6.0_03-b05 mixed mode, sharing)\n# Problematic frame:\n# C  [ntdll.dll+0x1a379]\n#\n# If you would like to submit a bug report, please visit:\n#   http://java.sun.com/webapps/bugreport/crash.jsp\n#\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x0276e000):  JavaThread \"Finalizer\" daemon \n[_thread_in_native, id=320]\n\nsiginfo: ExceptionCode=0xc0000005, writing address 0x00000008\n\nRegisters:\nEAX=0x00000000, EBX=0x26e42b10, ECX=0x00000008, EDX=0x00000004\nESP=0x0290f5b0, EBP=0x0290f5bc, ESI=0x00000008, EDI=0x03379ae8\nEIP=0x7c81a379, EFLAGS=0x00010246\n\nTop of Stack: (sp=0x0290f5b0)\n0x0290f5b0:   03379ae8 00000000 00000008 0290f5d8\n0x0290f5c0:   488c4c36 00000004 03379b0c 488927af\n0x0290f5d0:   03379b0c 03379ae8 0290f5e8 48892fdd\n0x0290f5e0:   03379b0c 0276e0ec 0290f608 488997c9\n0x0290f5f0:   03379ae8 0276e0ec 02c51368 488c0000\n0x0290f600:   0290f658 6d3f4d80 0290f658 6d3f4d8b\n0x0290f610:   03379ae8 0276e000 26e42b10 0061a2c0\n0x0290f620:   0276e0ec 0290f674 03379ae8 00000000 \n\nInstructions: (pc=0x7c81a379)\n0x7c81a369:   56 8d 72 04 57 89 75 fc b8 00 00 00 00 8b 4d fc\n0x7c81a379:   f0 0f b3 01 0f 92 c0 84 c0 0f 84 0e 0d 01 00 64 \n\n\nStack: [0x028d0000,0x02910000),  sp=0x0290f5b0,  free space=253k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [ntdll.dll+0x1a379]\nC  [ODBC32.dll+0x34c36]\nC  [ODBC32.dll+0x2fdd]\nC  [ODBC32.dll+0x97c9]\nC  [JdbcOdbc.dll+0x4d8b]\nj  sun.jdbc.odbc.JdbcOdbc.SQLDisconnect(J)V+132\nj  sun.jdbc.odbc.JdbcOdbcDriver.disconnect(J)V+4\nj  sun.jdbc.odbc.JdbcOdbcConnection.close()V+42\nj  sun.jdbc.odbc.JdbcOdbcConnection.finalize()V+37\nv  ~StubRoutines::call_stub\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  sun.jdbc.odbc.JdbcOdbc.disconnect(J[B)V+0\nj  sun.jdbc.odbc.JdbcOdbc.SQLDisconnect(J)V+132\nj  sun.jdbc.odbc.JdbcOdbcDriver.disconnect(J)V+4\nj  sun.jdbc.odbc.JdbcOdbcConnection.close()V+42\nj  sun.jdbc.odbc.JdbcOdbcConnection.finalize()V+37\nv  ~StubRoutines::call_stub\nJ  java.lang.ref.Finalizer.invokeFinalizeMethod(Ljava/lang/Object;)V\nJ  java.lang.ref.Finalizer.runFinalizer()V\nJ  java.lang.ref.Finalizer$FinalizerThread.run()V\nv  ~StubRoutines::call_stub\n\n---------------  P R O C E S S  ---------------\n\nJava Threads: ( => current thread )\n  0x02ac7000 JavaThread \"TP-Processor12\" daemon [_thread_in_native, id=2304]\n  0x02d1c800 JavaThread \"TP-Processor11\" daemon [_thread_blocked, id=1588]\n  0x02d1c000 JavaThread \"TP-Processor10\" daemon [_thread_blocked, id=1116]\n  0x02f60800 JavaThread \"TP-Processor9\" daemon [_thread_blocked, id=1856]\n  0x02d75400 JavaThread \"TP-Processor8\" daemon [_thread_blocked, id=1892]\n  0x02e4d400 JavaThread \"TP-Processor7\" daemon [_thread_in_native, id=1932]\n  0x02c14c00 JavaThread \"TP-Processor6\" daemon [_thread_in_native, id=1908]\n  0x0278d800 JavaThread \"TP-Processor5\" daemon [_thread_in_native, id=1900]\n  0x02dea000 JavaThread \"TP-Monitor\" daemon [_thread_blocked, id=2524]\n  0x02de9400 JavaThread \"TP-Processor4\" daemon [_thread_in_native, id=2404]\n  0x02df6400 JavaThread \"TP-Processor3\" daemon [_thread_blocked, id=2384]\n  0x02df5800 JavaThread \"TP-Processor2\" daemon [_thread_in_native, id=2376]\n  0x02de8400 JavaThread \"TP-Processor1\" daemon [_thread_in_native, id=2540]\n  0x02d77400 JavaThread \"http-8082-Acceptor-0\" daemon [_thread_in_native, \nid=2532]\n  0x02d64400 JavaThread \"ContainerBackgroundProcessor[StandardEngine\n[Catalina]]\" daemon [_thread_blocked, id=2392]\n  0x02800400 JavaThread \"Thread-1\" [_thread_in_native, id=2400]\n  0x0277c800 JavaThread \"Low Memory Detector\" daemon [_thread_blocked, id=3328]\n  0x02777c00 JavaThread \"CompilerThread0\" daemon [_thread_blocked, id=1084]\n  0x02776800 JavaThread \"Attach Listener\" daemon [_thread_blocked, id=460]\n  0x02775800 JavaThread \"Signal Dispatcher\" daemon [_thread_blocked, id=2696]\n=>0x0276e000 JavaThread \"Finalizer\" daemon [_thread_in_native, id=320]\n  0x0276d000 JavaThread \"Reference Handler\" daemon [_thread_blocked, id=876]\n  0x005d6400 JavaThread \"main\" [_thread_in_native, id=244]\n\nOther Threads:\n  0x0276bc00 VMThread [id=648]\n  0x0277ec00 WatcherThread [id=3332]\n\nVM state:not at safepoint (normal execution)\n\nVM Mutex/Monitor currently owned by a thread: None\n\nHeap\n def new generation   total 1792K, used 183K [0x22970000, 0x22b60000, \n0x22e50000)\n  eden space 1600K,  11% used [0x22970000, 0x2299df28, 0x22b00000)\n  from space 192K,   0% used [0x22b30000, 0x22b30000, 0x22b60000)\n  to   space 192K,   0% used [0x22b00000, 0x22b00000, 0x22b30000)\n tenured generation   total 23244K, used 11692K [0x22e50000, 0x24503000, \n0x26970000)\n   the space 23244K,  50% used [0x22e50000, 0x239bb080, 0x239bb200, 0x24503000)\n compacting perm gen  total 12288K, used 10916K [0x26970000, 0x27570000, \n0x2a970000)\n   the space 12288K,  88% used [0x26970000, 0x274191f8, 0x27419200, 0x27570000)\n    ro space 8192K,  62% used [0x2a970000, 0x2ae714a8, 0x2ae71600, 0x2b170000)\n    rw space 12288K,  52% used [0x2b170000, 0x2b7b7278, 0x2b7b7400, 0x2bd70000)\n\nDynamic libraries:\n0x00400000 - 0x0040f000 \tC:\\Tomcat\\bin\\tomcat6.exe\n0x7c800000 - 0x7c8c0000 \tC:\\WINDOWS\\system32\\ntdll.dll\n0x77e40000 - 0x77f42000 \tC:\\WINDOWS\\system32\\kernel32.dll\n0x77380000 - 0x77411000 \tC:\\WINDOWS\\system32\\USER32.dll\n0x77c00000 - 0x77c48000 \tC:\\WINDOWS\\system32\\GDI32.dll\n0x77f50000 - 0x77feb000 \tC:\\WINDOWS\\system32\\ADVAPI32.dll\n0x77c50000 - 0x77cef000 \tC:\\WINDOWS\\system32\\RPCRT4.dll\n0x76f50000 - 0x76f63000 \tC:\\WINDOWS\\system32\\Secur32.dll\n0x77ba0000 - 0x77bfa000 \tC:\\WINDOWS\\system32\\MSVCRT.dll\n0x7c8d0000 - 0x7d0ce000 \tC:\\WINDOWS\\system32\\SHELL32.dll\n0x77da0000 - 0x77df2000 \tC:\\WINDOWS\\system32\\SHLWAPI.dll\n0x76290000 - 0x762ad000 \tC:\\WINDOWS\\system32\\IMM32.DLL\n0x77420000 - 0x77523000 \tC:\\WINDOWS\\WinSxS\\x86_Microsoft.Windows.Common-\nControls_6595b64144ccf1df_6.0.3790.3959_x-ww_D8713E55\\comctl32.dll\n0x6d7c0000 - 0x6da0a000 \tC:\\Java\\jre1.6.0_03\\bin\\client\\jvm.dll\n0x76aa0000 - 0x76acd000 \tC:\\WINDOWS\\system32\\WINMM.dll\n0x7c340000 - 0x7c396000 \tC:\\WINDOWS\\system32\\MSVCR71.dll\n0x6d310000 - 0x6d318000 \tC:\\Java\\jre1.6.0_03\\bin\\hpi.dll\n0x76b70000 - 0x76b7b000 \tC:\\WINDOWS\\system32\\PSAPI.DLL\n0x6d770000 - 0x6d77c000 \tC:\\Java\\jre1.6.0_03\\bin\\verify.dll\n0x6d3b0000 - 0x6d3cf000 \tC:\\Java\\jre1.6.0_03\\bin\\java.dll\n0x6d7b0000 - 0x6d7bf000 \tC:\\Java\\jre1.6.0_03\\bin\\zip.dll\n0x6d570000 - 0x6d583000 \tC:\\Java\\jre1.6.0_03\\bin\\net.dll\n0x71c00000 - 0x71c17000 \tC:\\WINDOWS\\system32\\WS2_32.dll\n0x71bf0000 - 0x71bf8000 \tC:\\WINDOWS\\system32\\WS2HELP.dll\n0x71b20000 - 0x71b61000 \tC:\\WINDOWS\\system32\\mswsock.dll\n0x5f270000 - 0x5f2ca000 \tC:\\WINDOWS\\system32\\hnetcfg.dll\n0x71ae0000 - 0x71ae8000 \tC:\\WINDOWS\\System32\\wshtcpip.dll\n0x76ed0000 - 0x76efa000 \tC:\\WINDOWS\\system32\\DNSAPI.dll\n0x76f70000 - 0x76f77000 \tC:\\WINDOWS\\System32\\winrnr.dll\n0x76f10000 - 0x76f3e000 \tC:\\WINDOWS\\system32\\WLDAP32.dll\n0x76f80000 - 0x76f85000 \tC:\\WINDOWS\\system32\\rasadhlp.dll\n0x6d3f0000 - 0x6d3fd000 \tC:\\Java\\jre1.6.0_03\\bin\\JdbcOdbc.dll\n0x48890000 - 0x488cd000 \tC:\\WINDOWS\\system32\\ODBC32.dll\n0x77530000 - 0x775c7000 \tC:\\WINDOWS\\WinSxS\\x86_Microsoft.Windows.Common-\nControls_6595b64144ccf1df_5.82.3790.3959_x-ww_78FCF8D0\\COMCTL32.dll\n0x762b0000 - 0x762f9000 \tC:\\WINDOWS\\system32\\comdlg32.dll\n0x034a0000 - 0x034b7000 \tC:\\WINDOWS\\system32\\odbcint.dll\n0x4d7a0000 - 0x4d7ba000 \tC:\\WINDOWS\\system32\\odbccp32.dll\n0x77670000 - 0x777a9000 \tC:\\WINDOWS\\system32\\ole32.dll\n0x77b90000 - 0x77b98000 \tC:\\WINDOWS\\system32\\VERSION.dll\n0x12170000 - 0x12269000 \tC:\\advantage\\ODBC\\ACE32.dll\n0x71bd0000 - 0x71be1000 \tC:\\WINDOWS\\system32\\MPR.dll\n0x71bb0000 - 0x71bb9000 \tC:\\WINDOWS\\system32\\WSOCK32.dll\n0x187b0000 - 0x187da000 \tC:\\advantage\\ODBC\\axcws32.dll\n\nVM Arguments:\njvm_args: -Dcatalina.home=C:\\Tomcat -Dcatalina.base=C:\\Tomcat -\nDjava.endorsed.dirs=C:\\Tomcat\\common\\endorsed -Djava.io.tmpdir=C:\\Tomcat\\temp -\nDjava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -\nDjava.util.logging.config.file=C:\\Tomcat\\conf\\logging.properties vfprintf\njava_command: <unknown>\nLauncher Type: generic\n\nEnvironment Variables:\nJAVA_HOME=C:\\JAVA\\JDK1.6\nCLASSPATH=C:\\advantage\\JDBC\\ADSJDBC.JAR\nPATH=C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;c:\\php\\ext;c:\\php\nOS=Windows_NT\nPROCESSOR_IDENTIFIER=x86 Family 6 Model 8 Stepping 6, GenuineIntel\n\n\n\n---------------  S Y S T E M  ---------------\n\nOS: Windows Server 2003 family Build 3790 Service Pack 2\n\nCPU:total 2 (1 cores per cpu, 1 threads per core) family 6 model 8 stepping 6, \ncmov, cx8, fxsr, mmx, sse\n\nMemory: 4k page, physical 1310208k(643588k free), swap 3135056k(2689196k free)\n\nvm_info: Java HotSpot(TM) Client VM (1.6.0_03-b05) for windows-x86, built on \nSep 24 2007 22:24:33 by \"java_re\" with unknown MS VC++:1310", "id": 112366, "time": "2007-12-31T21:29:45Z", "creator": "loc.ngo@lacity.org", "creation_time": "2007-12-31T21:29:45Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 44156, "attachment_id": null, "text": "This isn't a Tomcat issue.\n\nFrom info you provided it looks like you are using the notoriously unstable\nJdbcOdbc bridge. Get the Jdbc driver for your data source and you should be fine.\n\nIf you need further help with this, please ask on the users list.", "id": 112367, "time": "2008-01-01T05:49:52Z", "creator": "markt@apache.org", "creation_time": "2008-01-01T05:49:52Z", "is_private": false}]