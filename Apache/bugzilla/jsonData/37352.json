[{"count": 0, "tags": [], "creator": "ltg@zes.uni-bremen.de", "attachment_id": null, "id": 82116, "time": "2005-11-04T08:40:35Z", "bug_id": 37352, "creation_time": "2005-11-04T08:40:35Z", "is_private": false, "text": "Hi,\n\nI compiled Apache 2.0.53 with gcc 3.4.4 on AIX 5.2.\n\nThis is the error message I got in the log file:\n\n  [Fri Nov 04 08:09:47 2005] [warn] proxy: No protocol handler was valid for the\n  URL /. If you are using a DSO version of mod_proxy, make sure the proxy\n  submodules are included in the configuration using LoadModule.\n  [Fri Nov 04 08:09:47 2005] [debug] mod_proxy.c(418): Trying to run\n  scheme_handler\n\nThis is the error I get when I try to access the server being proxyied:\n\n  Forbidden\n\n  You don't have permission to access / on this server.\n  Apache/2.0.53 (Unix) PHP/4.3.11 mod_ssl/2.0.53 OpenSSL/0.9.8 DAV/2 Server at\n  bbb.aaa.aaa.aaa Port 80\n\nWhen I access bbb.aaa.aaa.aaa directly it displays without (noticeable) \nproblems.\n\n\nThis is a part of my config file:\n\n  <virtualHost 134.102.3.1:80>\n        ServerName bbb.aaa.aaa.aaa\n        ServerAlias ccc.aaa.aaa.aaa\n        DocumentRoot /dir1/dir2/dir3\n        DirectoryIndex startHere.html index.html Welcome.html\n        ServerAdmin admin@aaa.aaa.aaa\n\n        ErrorLog /dir4/dir5/dir6/file1\n        TransferLog /dir4/dir5/dir6/file2\n\n        <Directory /dir1/dir2/dir3 >\n                AllowOverride AuthConfig\n        </Directory>\n\n        <IfModule mod_proxy.c>\n                ProxyRequests Off\n                <Proxy *>\n                        Order deny,allow\n                        Allow from all\n                </Proxy>\n                ProxyPass        /      http://ddd.ddd.ddd:8080/\n                ProxyPassReverse /      http://ddd.ddd.ddd:8080/\n        </IfModule>\n</VirtualHost>\n\nI loaded all proxy submodules in httpd.conf (and all other modules built\nwhen using the \"all\" keyword).\n\n\nDoes anybody has a clue what went wrong here?\n\nThanx in advance,\nLothar"}, {"count": 1, "tags": [], "text": "Load mod_proxy_http to reverse proxy the HTTP protocol.", "attachment_id": null, "id": 82117, "creator": "chip@force-elite.com", "time": "2005-11-04T08:52:51Z", "bug_id": 37352, "creation_time": "2005-11-04T08:52:51Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 37352, "text": "(In reply to comment #1)\n> Load mod_proxy_http to reverse proxy the HTTP protocol.\n\nmod_proxy_http is in my httpd.conf file.", "id": 82118, "time": "2005-11-04T09:02:38Z", "creator": "ltg@zes.uni-bremen.de", "creation_time": "2005-11-04T09:02:38Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "text": "no clue here; I regularly use reverse proxy on various levels of AIX\n", "is_private": false, "id": 82122, "creator": "trawick@apache.org", "time": "2005-11-04T10:56:07Z", "bug_id": 37352, "creation_time": "2005-11-04T10:56:07Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 37352, "is_private": false, "text": "(In reply to comment #3)\n> no clue here; I regularly use reverse proxy on various levels of AIX\n> \n\nI activated the server info module and got the following:\n\n\n  Module Name: proxy_ftp.c\n  Content handlers: none\n  Configuration Phase Participation: none\n  Request Phase Participation: none\n  Module Directives: none\n\n  Module Name: proxy_http.c\n  Content handlers: none\n  Configuration Phase Participation: none\n  Request Phase Participation: none\n  Module Directives: none\n\n  Module Name: proxy_connect.c\n  Content handlers: none\n  Configuration Phase Participation: none\n  Request Phase Participation: none\n  Module Directives: none\n\n  Module Name: mod_proxy.c\n  Content handlers: yes\n  Configuration Phase Participation: Create Directory Config, Merge Directory\n    Configs, Create Server Config, Merge Server Configs\n  Request Phase Participation: Post-Read Request, Translate Path, Fixups\n  Module Directives:\n    <Proxy - Container for directives affecting resources located in the proxied\nlocation\n    <ProxyMatch - Container for directives affecting resources located in the\nproxied location, in regular expression syntax\n    ProxyRequests - on if the true proxy requests should be accepted\n    ProxyRemote - a scheme, partial URL or '*' and a proxy server\n    ProxyRemoteMatch - a regex pattern and a proxy server\n    ProxyPass - a virtual path and a URL\n    ProxyPassReverse - a virtual path and a URL for reverse proxy behaviour\n    ProxyBlock - A list of names, hosts or domains to which the proxy will not\nconnect\n    ProxyReceiveBufferSize - Receive buffer size for outgoing HTTP and FTP\nconnections in bytes\n    ProxyIOBufferSize - IO buffer size for outgoing HTTP and FTP connections in\nbytes\n    ProxyMaxForwards - The maximum number of proxies a request may be forwarded\nthrough.\n    NoProxy - A list of domains, hosts, or subnets to which the proxy will\nconnect directly\n    ProxyDomain - The default intranet domain name (in absence of a domain in\nthe URL)\n    AllowCONNECT - A list of ports which CONNECT may connect to\n    ProxyVia - Configure Via: proxy header header to one of: on | off | block | full\n    ProxyErrorOverride - use our error handling pages instead of the servers' we\nare proxying\n    ProxyPreserveHost - on if we should preserve host header while proxying\n    ProxyTimeout - Set the timeout (in seconds) for a proxied connection. This\noverrides the server timeout\n    ProxyBadHeader - How to handle bad header line in response: IsError | Ignore\n| StartBody\n  Current Configuration:\n\n\nDoes this provide any helpful information?", "id": 82240, "time": "2005-11-08T20:12:11Z", "creator": "ltg@zes.uni-bremen.de", "creation_time": "2005-11-08T20:12:11Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 37352, "attachment_id": null, "text": "(In reply to comment #4)\n\nI tried to look into the src of the function \"proxy_run_scheme_handler\",\nbut unfortunately I could not find the implmentation of this function.\nCan anybody tell me where the src of this function is?\n\nTIA, Lothar", "id": 82372, "time": "2005-11-10T22:47:27Z", "creator": "ltg@zes.uni-bremen.de", "creation_time": "2005-11-10T22:47:27Z", "is_private": false}, {"count": 6, "tags": [], "text": "proxy_run_FOO (like ap_run_FOO) is a macro.  \n\nThe guts are down in srclib/apr-util/include/apr_hooks.h.\n\nEssentially this macro should call functions which have been registered via\nproxy_hook_scheme_handler() (also such a macro).\n\n$ grep proxy_hook_scheme_handler *.c\nproxy_connect.c:    proxy_hook_scheme_handler(ap_proxy_connect_handler, NULL, NU\nLL, APR_HOOK_MIDDLE);\nproxy_ftp.c:    proxy_hook_scheme_handler(ap_proxy_ftp_handler, NULL, NULL, APR_\nHOOK_MIDDLE);\nproxy_http.c:    proxy_hook_scheme_handler(ap_proxy_http_handler, NULL, NULL, AP\nR_HOOK_FIRST);", "attachment_id": null, "id": 82408, "creator": "trawick@apache.org", "time": "2005-11-11T22:57:43Z", "bug_id": 37352, "creation_time": "2005-11-11T22:57:43Z", "is_private": false}, {"count": 7, "tags": [], "text": "* Original report looks like configuration error.\n* No activity for nearly two years.\n\nThe recommended fix for 2.0 proxy problems is to upgrade to 2.2.", "is_private": false, "id": 107948, "creator": "nick@webthing.com", "time": "2007-09-10T03:07:50Z", "bug_id": 37352, "creation_time": "2007-09-10T03:07:50Z", "attachment_id": null}]