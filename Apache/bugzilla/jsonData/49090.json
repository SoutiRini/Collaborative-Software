[{"count": 0, "tags": [], "creator": "javabrett@gmail.com", "text": "In 1.7.1, given a src/META-INF/MANIFEST.MF of:\n\nBuild-Date: 2010-04-12T11:32:38+1000\n\nand\n\n<project default=\"jar\">\n\t<target name=\"jar\">\n\t\t<delete file=\"my.jar\" />\n\t\t<jar destfile=\"my.jar\" filesetmanifest=\"merge\">\n\t\t\t<fileset dir=\"src\" />\n\t\t</jar>\n\t</target>\n</project>\n\nThe resulting JAR will contain (merged):\n\njar:\n   [delete] Deleting: C:\\workspace\\testjartask\\my.jar\n      [jar] Building jar: C:\\workspace\\testjartask\\my.jar\n      [jar] Building jar: C:\\workspace\\testjartask\\my.jar\n\nBUILD SUCCESSFUL\nTotal time: 1 second\n\nManifest-Version: 1.0\nAnt-Version: Apache Ant 1.7.1\nCreated-By: 1.5.0_11-b03 (Sun Microsystems Inc.)\nBuild-Date: 2010-04-12T11:32:38+1000\n\nOn 1.8.0, the Build-Date is missing for the same build:\n\njar:\n   [delete] Deleting: C:\\workspace\\testjartask\\my.jar\n      [jar] Building jar: C:\\workspace\\testjartask\\my.jar\n\nBUILD SUCCESSFUL\nTotal time: 1 second\n\nand the resulting JAR contains:\n\nManifest-Version: 1.0\nAnt-Version: Apache Ant 1.8.0\nCreated-By: 1.5.0_11-b03 (Sun Microsystems Inc.)\n\nNote that in the run on 1.8.0, the [jar] task only reports as running once, whereas is reports as running a double-pass on 1.7.1.  This resonates with some changes in the code around double-pass processing, but I can't point at the exact problem yet (and probably won't have the time to work on that either - have dropped back to 1.7.1 for this build).\n\nSample project attached.", "id": 136024, "time": "2010-04-11T22:27:20Z", "bug_id": 49090, "creation_time": "2010-04-11T22:27:20Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 25261\nTest project", "is_private": false, "bug_id": 49090, "id": 136025, "time": "2010-04-11T22:29:49Z", "creator": "javabrett@gmail.com", "creation_time": "2010-04-11T22:29:49Z", "attachment_id": 25261}, {"count": 2, "tags": [], "bug_id": 49090, "attachment_id": null, "text": "it's not the double file pass mode but the fact that you are using Windows, will be fixed in a few minutes.", "id": 136089, "time": "2010-04-13T10:19:56Z", "creator": "bodewig@apache.org", "creation_time": "2010-04-13T10:19:56Z", "is_private": false}, {"count": 3, "tags": [], "text": "fixed with svn revision 933630", "is_private": false, "bug_id": 49090, "id": 136090, "time": "2010-04-13T10:26:46Z", "creator": "bodewig@apache.org", "creation_time": "2010-04-13T10:26:46Z", "attachment_id": null}]