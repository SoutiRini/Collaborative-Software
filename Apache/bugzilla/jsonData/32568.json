[{"count": 0, "tags": [], "text": "JspWriter ignores any information i provide about the encoding of the response. \nMy plattform encoding is UTF-8 running on Fedora1. But i need iso-8859-1 \nencoding. I did various test. \n\nAll i can say is, that if i encode the Strings by myself and write this into the \noutputstream the result is as expected.\n\nAnd the only thing, that all this contentType stuff is changing is thr response \nheader.\n\nI read a loot in news/google/tomcat-mailinglist. As far as i know the solution \nfor this problem was all the time \"change encoding to utf-8\". But this is not a \nsolution.\n\nExcample code included:\n\n<%@page contentType=\"text/html; charset=ISO-8859-1\"%>\n<br>\nAe - \u00c4 - &Auml;<br>\nOe - \u00d6 - &Ouml;<br>\nUe - \u00dc - &Uuml;<br>\n<br>\n<%\n\t\n\tString[][] test=\n\t\t{\n\t\t\t{\"Ae\",\"\u00c4\"},\n\t\t\t{\"Oe\",\"\u00d6\"},\n\t\t\t{\"Ue\",\"\u00dc\"},\n\t\t};\n\t\n\tfor (int i=0,s=test.length;i<s;i++)\n\t{\n\t\tout.print(test[i][0]);\n\t\tout.print(\" - \");\n\t\tout.print(test[i][1]);\n\t\tout.print(\"<br>\\n\");\n\t\t\n\t\tSystem.out.print(test[i][0]);\n\t\tSystem.out.print(\" - \");\n\t\tSystem.out.print(test[i][1]);\n\t\tSystem.out.print(\"<br>\\n\");\n\t\t\n\t}\n%>", "attachment_id": null, "id": 68049, "creation_time": "2004-12-07T17:26:12Z", "time": "2004-12-07T17:26:12Z", "creator": "michael@mosmann.de", "bug_id": 32568, "is_private": false}, {"count": 1, "tags": [], "text": "Check the javaEncoding option for the JSPs, as documented in the Jasper How-\nTo.  Then if you're still having a problem, bring it up on the tomcat-user \nlist, which is a far better discussion forum than Bugzilla.", "attachment_id": null, "bug_id": 32568, "id": 68050, "time": "2004-12-07T17:30:50Z", "creator": "yoavs@computer.org", "creation_time": "2004-12-07T17:30:50Z", "is_private": false}, {"count": 2, "tags": [], "creator": "allistair.crossley@qas.com", "attachment_id": null, "id": 68053, "time": "2004-12-07T17:31:42Z", "bug_id": 32568, "creation_time": "2004-12-07T17:31:42Z", "is_private": false, "text": "what do you mean by your platform is UTF-8?\n\nsee:\n\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=32500"}, {"count": 3, "attachment_id": null, "bug_id": 32568, "text": "(In reply to comment #1)\n> Check the javaEncoding option for the JSPs, as documented in the Jasper How-\n> To.  Then if you're still having a problem, bring it up on the tomcat-user \n> list, which is a far better discussion forum than Bugzilla.\n\nok. for short.\n\ni use fedora-1 on wich the file encoding is utf-8. so if i edit my jsp i can put\nan \u00c4 (&Auml;) into it and i the this also in my mypage_jsp.java an if it\ncompiles and i write this with System.out... i see this also in my logfile..\n\nhowever i set the contentType the output as html response is everytime utf-8\nencoded...\n\nnow i try to get this to tomcat-user..\n\nanyway thanks for response :)", "id": 68074, "time": "2004-12-07T21:58:41Z", "creator": "michael@mosmann.de", "creation_time": "2004-12-07T21:58:41Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "creator": "michael@mosmann.de", "attachment_id": null, "text": "i dont know to get this right..\n\nif i use page contentType=\"..; charset=ISO-8859-1\" or any other i set the\nresponse header ContentType: ...\n\ndoes it has any other effect than this? and if not, how can i set the\noutput-encoding to the same value as in ContentType?\n\nthanks.. :)\n\n\n", "id": 68075, "time": "2004-12-07T22:06:39Z", "bug_id": 32568, "creation_time": "2004-12-07T22:06:39Z", "is_private": false}, {"count": 5, "tags": [], "creator": "allistair.crossley@qas.com", "attachment_id": null, "text": "what does the following output when you put it into a jsp\n\n    <p>Locale.getDefault().toString(): <%= Locale.getDefault().toString() %\n></p>\n    <p>response.getLocale().toString(): <%= response.getLocale().toString() %\n></p>\n    <p>System.getProperty(\"file.encoding\"): <%= System.getProperty\n(\"file.encoding\") %></p>\n    <p>request.getCharacterEncoding(): <%= request.getCharacterEncoding() %\n></p>\n    <p>response.getCharacterEncoding(): <%= response.getCharacterEncoding() %\n></p>", "id": 68079, "time": "2004-12-08T00:29:11Z", "bug_id": 32568, "creation_time": "2004-12-08T00:29:11Z", "is_private": false}, {"count": 6, "attachment_id": null, "bug_id": 32568, "text": "(In reply to comment #5)\n> what does the following output when you put it into a jsp\n> \n>     <p>Locale.getDefault().toString(): <%= Locale.getDefault().toString() %\n> ></p>\n>     <p>response.getLocale().toString(): <%= response.getLocale().toString() %\n> ></p>\n>     <p>System.getProperty(\"file.encoding\"): <%= System.getProperty\n> (\"file.encoding\") %></p>\n>     <p>request.getCharacterEncoding(): <%= request.getCharacterEncoding() %\n> ></p>\n>     <p>response.getCharacterEncoding(): <%= response.getCharacterEncoding() %\n> ></p>\n\nLocale.getDefault().toString(): de_DE\nresponse.getLocale().toString(): de_DE\nSystem.getProperty(\"file.encoding\"): UTF-8\nrequest.getCharacterEncoding(): null\nresponse.getCharacterEncoding(): ISO-8859-1", "id": 68090, "time": "2004-12-08T08:41:32Z", "creator": "michael@mosmann.de", "creation_time": "2004-12-08T08:41:32Z", "tags": [], "is_private": false}, {"count": 7, "attachment_id": null, "bug_id": 32568, "text": "News!...\n\nas i found out by comment out all my filters in web.xml i saw, that the encoding \nwas right..., so as i will see, why some of this filters will have any effect on \nthe encoding.. , \n\nif i detect some misbehave i will open a new bug..\n\nthank you a lot.. :) you all saved my day..\n\n- - - - \n\nsummary: (for anybody like me, who blame others for own mistake)\n\nmake it as simple as you can and switch of any of your own extensions first\ncheck your setup like in Comment #5\ncheck if some of your filters have any influence on your output\ncheck if some of your other stuff \n\nas far as i know the problem is often in your(in this case in my) own hand..\ni have only 2 eyes.. so why i should see more than 100 of other good guys.. \n\nshame on me\n", "id": 68096, "time": "2004-12-08T10:10:41Z", "creator": "michael@mosmann.de", "creation_time": "2004-12-08T10:10:41Z", "tags": [], "is_private": false}]