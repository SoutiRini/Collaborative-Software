[{"count": 0, "attachment_id": null, "bug_id": 28545, "text": "Hi,\n\nI noticed a problem on a few apache servers running on Linux. It appears that \ninstead of closing the connection immediately after serving the page when the \nrequest contains connection:close the web server does not terminate the \nconnection for at least 15 seconds.\n\nThis can easily be produced with telnet. Simply telnet to a 2.40+ Apache \nserver on Linux and request a page like the following example (note host has \nbeen changed to protect the innocent).\n\ntelnet yourdomain.co.uk 80\nHEAD /index.php HTTP/1.1\nHost: www.yourdomain.co.uk\nConnection: close\nCache-Control: no-cache\nAccept: */*\n\nOn all other servers I have seen and older Apache servers the telnet \nconnection is closed immedately after serving the page. For some reason newer \nversions of Apache hang around for up to 15 seconds.\n\nApologies if this has been reported or is not a bug. I had a good look \nthrougth the bug database and could find nothing similar and have not been \nable to find any resoultion to the issue either.\n\nI assume this could cause a resource issue on the server and certainly effects \ncertain type of client.", "id": 56269, "time": "2004-04-22T19:04:06Z", "creator": "duncan@dcl.co.uk", "creation_time": "2004-04-22T19:04:06Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 28545, "text": "What version of PHP?  Works fine here with httpd-2.0.49/php-4.3.6.", "id": 56270, "time": "2004-04-22T19:24:13Z", "creator": "jorton@redhat.com", "creation_time": "2004-04-22T19:24:13Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "duncan@dcl.co.uk", "attachment_id": null, "id": 56272, "time": "2004-04-22T19:33:39Z", "bug_id": 28545, "creation_time": "2004-04-22T19:33:39Z", "is_private": false, "text": "Apache 2.0.46 With 4.3.2 and Apache 2.0.40 with 4.2.2.\n\nIt only occurs with a HTTP/1.1 request, HTTP/1.0 request closes the connection \nimmediately."}, {"count": 3, "tags": [], "bug_id": 28545, "text": "Yes, this is a PHP bug which was fixed in 4.3.5:\nhttp://bugs.php.net/bug.php?id=26604.  If that's an RHEL3 box, mail me privately\nand I can point you at packages which include the fix.", "id": 56273, "attachment_id": null, "creator": "jorton@redhat.com", "creation_time": "2004-04-22T19:47:11Z", "time": "2004-04-22T19:47:11Z", "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 28545, "text": "Thanks for that. \n\nDon't know why I didn't find that one with my search.\n\nYour help in this matter is greatly appreciated.", "id": 56274, "time": "2004-04-22T19:53:08Z", "creator": "duncan@dcl.co.uk", "creation_time": "2004-04-22T19:53:08Z", "tags": [], "is_private": false}]