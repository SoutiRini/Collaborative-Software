[{"count": 0, "tags": [], "creator": "pieter.pareit@easypay.be", "attachment_id": 22838, "id": 122269, "time": "2008-11-07T02:42:08Z", "bug_id": 46164, "creation_time": "2008-11-07T02:42:08Z", "is_private": false, "text": "Created attachment 22838\nerror description\n\nError in Jasper for tomcat-6.0.18\n\nTest environment:\nUsing: tomcat 6.0.18\nUsing: JSF 2.0 (error can be simulated with JSF)\n\n------------------------------------------------------- JSF Managedbean\npublic class TestHandler {\n\nprivate Boolean active = null;\n\npublic Boolean getActive(){ \n\treturn active;\n}\n\nPublic void setActive(Boolean active){\n\tSystem.out.println(\u201cMy value is: \u201c+ active);\n\tthis.active = active;\n}\n}\n\n------------------------------------------------------- JSF Custom Component\n\n<e:yesNo value=\"#{testHandler.active}\" id=\u201dactive\u201d/>\n\n------------------------------------------------------- RENDERED HTML\n\n<select name=\"f:active\" id=\"f:active\">\n\t<option value=\"\" selected=\"selected\"></option>\n\t<option value=\"YES\">Ja</option>\n\t<option value=\"NO\">Nee</option>\n</select>\n\n----------------------------------- yesNo COMPONENT RENDERER\n\npublic void decode(FacesContext context, UIComponent component) {\n\tUIInput input = (UIInput) component;\ninput.setValue(null); //just as a test case!!! Explicit set the null value!!!! \n}\n\n\n!!!!!!!!!!!!!!!!!!!!!!!!!!!! RESULT !!!!!!!!!!!!!!!!!!!!!!\nExpected result: \n-\tproperty active of the testhandler must be null\n-\t[console output] My value is: null\nActual result: \n-\tproperty active is false\n-\t[console output] My value is: false\n\n!!!!!!!!!!!!!!!!!!!!!!!!!! WORK AROUND !!!!!!!!!!!!!!!!!!!!\nI copied the following jar files from tomcat-6.0.13 to tomcat-6.0.18 and it works\nel-api.jar\njasper.jar\njasper-el.jar\njasper-jdt.jar\n\n!!!!!  Looks like tomcat-6.0.18 converts a Boolean null value to false !!!!!!"}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 122312, "time": "2008-11-08T17:26:57Z", "bug_id": 46164, "creation_time": "2008-11-08T17:26:57Z", "is_private": false, "text": "This behaviour is as per the spec.  See the JSP-EL spec, section 1.18.5\n\nThe following option may disable this behaviour but I haven't tested it:\norg.apache.el.parser.COERCE_TO_ZERO=false\n\nPlease use the users list if you require further assistance."}]