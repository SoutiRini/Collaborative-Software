[{"count": 0, "tags": [], "bug_id": 35793, "attachment_id": null, "text": "Ant copy-filterset bug!\n=======================\n\nTest project is available at:\n\thttp://backo.everywebhost.com/downloads/org.apache.ant.test.filtersetbug\n.zip\n\nDescription:\n\tWhen copying UTF-8 text documents with the copy task and filterset, the \nfiles seem to be spoiled by ant. Some certain cyrillic letters are being \ntransfered to other bytes.\n\t(Use the supplied test1.txt to see the result.)\n\tThis problem seems not to exist when using the copy task without \nfilterset.\n\nVersion:\n\tTested in Eclipse 3.0 and 3.1 release versions.\n\tAnt version 1.6.5.\n\nReproducing the error in Eclipse 3.0 or 3.1:\n\t1. Supply the following files before loading the project:\n\n\t\tdownload/apache-ant-1.6.5-bin.zip\n\t\tdownload/apache-ant-1.6.5-src.zip\n\t\tlib/<all ant jars>\n\n\t2. After opening Eclipse from the Window/Preferences/Ant/Runtime page \nchange Ant Home... to the project folder in order to use the supplied jars \ninstead of the built-in eclipse ant.\n\n\t3. When launching one of the two tester classes, start in folder \n${project}/test.\n\n\nSubmitted by:\n\tVasil Bachvarov (http://backo.everywebhost.com)", "id": 77437, "time": "2005-07-19T16:10:47Z", "creator": "v_bachvarov@yahoo.com", "creation_time": "2005-07-19T16:10:47Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 15707\nTest Project", "attachment_id": 15707, "bug_id": 35793, "id": 77438, "time": "2005-07-19T16:11:44Z", "creator": "v_bachvarov@yahoo.com", "creation_time": "2005-07-19T16:11:44Z", "is_private": false}, {"count": 2, "tags": [], "creator": "v_bachvarov@yahoo.com", "attachment_id": null, "id": 77439, "time": "2005-07-19T16:12:54Z", "bug_id": 35793, "creation_time": "2005-07-19T16:12:54Z", "is_private": false, "text": "Ant copy-filterset bug!\n=======================\n\nTest project is available at:\n\thttp://backo.everywebhost.com/downloads/org.apache.ant.test.filtersetbug\n.zip\n\nDescription:\n\tWhen copying UTF-8 text documents with the copy task and filterset, the \nfiles seem to be spoiled by ant. Some certain cyrillic letters are being \ntransfered to other bytes.\n\t(Use the supplied test1.txt to see the result.)\n\tThis problem seems not to exist when using the copy task without \nfilterset.\n\nVersion:\n\tTested in Eclipse 3.0 and 3.1 release versions.\n\tAnt version 1.6.5.\n\nReproducing the error in Eclipse 3.0 or 3.1:\n\t1. Supply the following files before loading the project:\n\n\t\tdownload/apache-ant-1.6.5-bin.zip\n\t\tdownload/apache-ant-1.6.5-src.zip\n\t\tlib/<all ant jars>\n\n\t2. After opening Eclipse from the Window/Preferences/Ant/Runtime page \nchange Ant Home... to the project folder in order to use the supplied jars \ninstead of the built-in eclipse ant.\n\n\t3. When launching one of the two tester classes, start in folder \n${project}/test.\n\n\nSubmitted by:\n\tVasil Bachvarov (http://backo.everywebhost.com)"}, {"count": 3, "tags": [], "bug_id": 35793, "text": "Your copy command does not have a encoding attribute.\nWhen copy is used with filtering, it opens the file\nin character mode - (as a Reader) - as against byte mode\nwithout filtering.\n\nIf an encoding attribute is not given, the java default for\nthe OS will be used. On linux this appears to be UTF-8. On\ndos however it is some microsoft encodeing codepage something\nor other. As you are modifying a utf-8 file, the encoding gets\nmangled.\n\nCan you check if this is the case.", "id": 77441, "time": "2005-07-19T16:31:50Z", "creator": "peterreilly@apache.org", "creation_time": "2005-07-19T16:31:50Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "You're absolutely right!\n\nSorry for messing up, but I was confused, because when I do not use filterset I \nreceive correct results. That's why I thought there is a bug in filterset \nimplementation.\n\nThanks a lot!\nVasil", "attachment_id": null, "id": 77443, "creator": "v_bachvarov@yahoo.com", "time": "2005-07-19T16:49:04Z", "bug_id": 35793, "creation_time": "2005-07-19T16:49:04Z", "is_private": false}]