[{"count": 0, "tags": [], "creator": "339128088@qq.com", "attachment_id": null, "text": "when I am using tomcat-embed, the following exception appears in the console, and this exception affect some http requests.\n\n```\n19:54:24.162 ERROR [http-nio-8779-exec-108] o.a.c.c.C.[.[.[.[dispatcherServlet][?:?] -> Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\njava.lang.NullPointerException: null\n        at org.apache.tomcat.util.http.MimeHeaders.getName(MimeHeaders.java:201)\n        at org.apache.catalina.connector.Response.getHeaderNames(Response.java:914)\n        at org.apache.catalina.connector.ResponseFacade.getHeaderNames(ResponseFacade.java:639)\n        at org.springframework.boot.actuate.trace.WebRequestTraceFilter.getResponseHeaders(WebRequestTraceFilter.java:221)\n        at org.springframework.boot.actuate.trace.WebRequestTraceFilter.enhanceTrace(WebRequestTraceFilter.java:215)\n        at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:115)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n```\n\n\n\n```\n19:54:24.262 ERROR [http-nio-8779-exec-108] o.a.c.http11.Http11Processor[?:?] -> Error processing request\njava.lang.NullPointerException: null\n        at org.apache.tomcat.util.http.MimeHeaders.setValue(MimeHeaders.java:320)\n        at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1242)\n        at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:258)\n        at org.apache.coyote.Response.action(Response.java:175)\n        at org.apache.coyote.Response.sendHeaders(Response.java:357)\n        at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:303)\n        at org.apache.catalina.connector.OutputBuffer.close(OutputBuffer.java:263)\n        at org.apache.catalina.connector.Response.finishResponse(Response.java:484)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:373)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at cn.com.duiba.wolf.threadpool.MonitorRunnable.run(MonitorRunnable.java:57)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:745)\n19:54:24.272 ERROR [http-nio-8779-exec-108] o.a.c.http11.Http11Processor[?:?] -> Error finishing response\njava.lang.NullPointerException: null\n        at org.apache.tomcat.util.http.MimeHeaders.setValue(MimeHeaders.java:320)\n        at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1242)\n        at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:258)\n        at org.apache.coyote.http11.Http11Processor.endRequest(Http11Processor.java:1523)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:843)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at cn.com.duiba.wolf.threadpool.MonitorRunnable.run(MonitorRunnable.java:57)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:745)\n```", "id": 202775, "time": "2017-12-14T03:15:46Z", "bug_id": 61903, "creation_time": "2017-12-14T03:15:46Z", "is_private": false}, {"count": 1, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": null, "text": "1. http://tomcat.apache.org/bugreport.html#Bugzilla_is_not_a_support_forum\n\n2. See \"Troubleshooting unexpected Response state problems\" in Troubleshooting FAQ,\n\nhttps://wiki.apache.org/tomcat/FAQ/Troubleshooting_and_Diagnostics#Troubleshooting_unexpected_Response_state_problems", "id": 202782, "time": "2017-12-14T12:06:57Z", "bug_id": 61903, "creation_time": "2017-12-14T12:06:57Z", "is_private": false}]