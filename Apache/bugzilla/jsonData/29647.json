[{"count": 0, "tags": [], "text": "This is an odd one, so I'll try to explain it as best as possible.\n\nWe're running Apache 2.0.49 on linux with Symlinksifownermatch turned on for\npublic_html directories. However, when you try to access a file in someone's\nwebspace through a symlink, even though the owners match, a 403 forbidden is\nthrown with this in the error log:\n\n[Thu Jun 17 11:51:55 2004] [error] [client 131.94.133.26] Symbolic link not\nallowed: /home/vixen2/flynnj/public_html/link.html\n\nNow, if there is an .htaccess file in the public_html directory, containing ONLY\nthe following:\n\nErrorDocument 404 /~flynnj/404.html\n\n...suddenly symlinks are followed correctly! It even does the owner check; if\nthe symlink is owned by root, I get a 403 forbidden.\n\nAlso, the 403 forbidden generated by this seems to behave differently than a\nnormal 403 forbidden, in that it complains about an \"additional 403 forbidden\"\naccessing the ErrorDocument, which appears just fine when the 403 occurs due to\nanother reason, such as an unreadable file. There are no other ErrorDocument\ndeclarations in the httpd.conf, so I'm not sure where this could be coming from.\n\nI can clarify and/or provide more information if required. \n\nVirtualhost with the problem:\n\n<VirtualHost *>\n ServerName www.cs.fiu.edu\n ServerAlias www.cs.fiu.edu\n ServerAdmin webmaster@cs.fiu.edu\n DocumentRoot /depot/http/www.cs.fiu.edu/data\n ErrorLog /depot/http/www.cs.fiu.edu/logs/error_log.apache2\n ErrorDocument 500 /errors/500.html\n ErrorDocument 403 /errors/403.html\n ErrorDocument 404 /errors/404.html\n ReadmeName README\n HeaderName HEADER\n TransferLog /depot/http/www.cs.fiu.edu/logs/access_log.apache2\n CustomLog /depot/http/www.cs.fiu.edu/logs/referer_log.apache2 referer\n CustomLog /depot/http/www.cs.fiu.edu/logs/agent_log.apache2 agent\n CustomLog /depot/http/www.cs.fiu.edu/logs/combined_access_log.apache2 combined\n ScriptLog /depot/http/www.cs.fiu.edu/logs/cgi.log.apache2\n ScriptAlias /cgi-bin/ /depot/http/www.cs.fiu.edu/cgi-bin/\n Alias /icons/ \"/depot/http/icons/\"\n</VirtualHost>\n\n\nDirectory declaration for home directories:\n\n <Directory /home/*>\n  AllowOverride AuthConfig FileInfo Limit Indexes\n  Options +SymLinksIfOwnerMatch Indexes Includes +ExecCGI\n  php_admin_flag safe_mode on\n </Directory>", "is_private": false, "bug_id": 29647, "id": 59428, "time": "2004-06-17T16:08:57Z", "creator": "flynnj@cs.fiu.edu", "creation_time": "2004-06-17T16:08:57Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "flynnj@cs.fiu.edu", "attachment_id": null, "text": "Just wondering,\n\nIs anyone actually reading these bug reports? I looked at a bunch of others and\nthey're all unanswered, just like this one...\n\n-John", "id": 59783, "time": "2004-06-23T16:26:48Z", "bug_id": 29647, "creation_time": "2004-06-23T16:26:48Z", "is_private": false}, {"count": 2, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "id": 59784, "time": "2004-06-23T16:36:36Z", "bug_id": 29647, "creation_time": "2004-06-23T16:36:36Z", "is_private": false, "text": "The short answer is \"yes.\"  You probably don't want to hear the long answer.\nWord to the wise: Look in the several CHANGES files in the source distribution\nfor the string \" PR \" and consider how those issues were addressed.\n\n"}, {"count": 3, "tags": [], "bug_id": 29647, "text": "Is this still reproducible in 2.0.53? Can you reduce it to a minimal set of\nchanges to the stock httpd.conf?  A simple attempt to reproduce here (outside a\nvhost, notably) didn't show the problem.", "id": 71475, "time": "2005-02-24T17:38:23Z", "creator": "jorton@redhat.com", "creation_time": "2005-02-24T17:38:23Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "Not sure if it's an exact duplicate, but if not (and if it's not already fixed), 2.0 is too old.\n\n*** This bug has been marked as a duplicate of bug 36783 ***", "attachment_id": null, "bug_id": 29647, "id": 138564, "time": "2010-07-20T09:41:44Z", "creator": "nick@webthing.com", "creation_time": "2010-07-20T09:41:44Z", "is_private": false}]