[{"count": 0, "tags": [], "bug_id": 30124, "text": "I use Ant 1.6.1 for cvs checkout on Windows 2000 Prof. The CVS Server is \nconfigured to Port 30001. If 30001 is put to the port Attribute of the <cvs> \nTask, login to the CVS Server is just done with default port 2401, which then \nfails.\n\nWith the following code change, the custom port was taken correctly: \n\nClass: org\\apache\\tools\\ant\\taskdefs\\AbstractCvsTask.java, \nMethod: protected void runCommand(...): \n\nCode Block: \nif (port > 0) {\n    Environment.Variable var = new Environment.Variable();\n    var.setKey(\"CVS_CLIENT_PORT\");\n    var.setValue(String.valueOf(port));\n    env.addVariable(var);\n// new code begin \n    Environment.Variable var2 = new Environment.Variable();\n    var2.setKey(\"CVS_PSERVER_PORT\");\n    var2.setValue(String.valueOf(port));\n    env.addVariable(var2);\n// new code end \n}\n\nI have downloaded the Source for Ant 1.6.2beta1, which has not included usage \nof the Environment Variable CVS_PSERVER_PORT.", "id": 60642, "time": "2004-07-15T14:56:05Z", "creator": "jherunter@gmx.at", "creation_time": "2004-07-15T14:56:05Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 30124, "text": "I do not think that this is a correct solution.\nThe env variables used by cvs are defined by:\nhttps://www.cvshome.org/docs/manual/cvs-1.12.9/cvs_19.html#SEC187\nCVS_PSERVER_PORT is not specified there.\n\nIt is probally that the cvs client you use is using another\nenv variable, however the cvs task cannot set different env variables\nfor random clients.\n\nA better fix would be to allow env variables to be set by the <cvs>\ntask. This is currently not possible.", "id": 60648, "time": "2004-07-15T16:51:34Z", "creator": "peterreilly@apache.org", "creation_time": "2004-07-15T16:51:34Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "jherunter@gmx.at", "attachment_id": null, "text": "Can you give me a standard solution to my problem? All i need is to assign port\n30001 to the <cvs> Task. \nBecause Ant gives the possibility for a custom port, how can I make it work\nunder Windows? \n\nI also have not found a documentation for that issue / problem.  \n\nThe CVS Server runs on Linux. ", "id": 60673, "time": "2004-07-16T06:51:31Z", "bug_id": 30124, "creation_time": "2004-07-16T06:51:31Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 30124, "text": "this is not related to the server but to the client that is being used.  cvsnt seems to have chosen to be incompatible with \"plain\" cvs and Ant doesn't really support or even know cvsnt's line of thinking.\n\nCVS_PSERVER_PORT seems to be used by a couple of other clients as well, though.  Looks like a semi-standard, no idea why people have chosen to use something different from CVS_CLIENT_PORT.", "id": 121592, "time": "2008-10-16T05:00:38Z", "creator": "bodewig@apache.org", "creation_time": "2008-10-16T05:00:38Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 121598, "creation_time": "2008-10-16T05:42:43Z", "time": "2008-10-16T05:42:43Z", "bug_id": 30124, "text": "committed as svn revision 705228.\n\nUntested since I don't use any client using CVS_PSERVER_PORT.", "is_private": false}]