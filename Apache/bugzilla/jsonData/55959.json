[{"count": 0, "tags": [], "bug_id": 55959, "is_private": false, "id": 172102, "attachment_id": 31172, "creator": "rikard.edgren@thetesteye.com", "creation_time": "2014-01-06T10:54:18Z", "time": "2014-01-06T10:54:18Z", "text": "Created attachment 31172\nlog output for issue\n\nThe new 2.10/2.11 Test Script Recorder seems promising, but some users have a hard time getting it running. \nhttps://wiki.apache.org/jmeter/TestRecording210 informs about how to get Java JDK up and running.\nBut it also doesn't work when installed in a folder without full access rights, e.g. C:\\Program Files\\apache-jmeter-2.11\nThis seems to be a known issue according to thread http://mail-archives.apache.org/mod_mbox/jmeter-dev/201311.mbox/%3cCAH9fUpb6USD6=-6T_2Fyf6GYBdmMmN7W5ySw8AyN+S133faHvQ@mail.gmail.com%3e\nNot sure if it can be addressed so it works, but a more helpful error message would be good.\n\nClient: Windows 8, 64-bit, Java JRE 1.7.0_45_b18, Java JDK 1.7.0_45, JMeter 2.11\nJMeter location: C:\\Program Files\\apache-jmeter-2.11\n\n1. Edit jmeter.bat according to https://wiki.apache.org/jmeter/TestRecording210 so Java JDK is accessed\n2. Start JMeter 2.11\n3. In Workbench, Add Non-Test Elements, HTTP(S) Test Script Recorder\n4. Click Start\n\nResult: An extremely wide error message (2 lines): \n\"Could not create script recording proxy - see log for details: Command :'\"C:\\Program Files\\Java\\jre7\\bin\\keytool\" -genkeypair -alias :root_ca: -dname \"CN=_ DO NOT INSTALL unless this is your certificate (JMeter root CA), OU=Username: rikard, C=US\" -keyalg RSA -keystore proxyserver.jks -storepass {redacted) -keypass {redacted) -validity 7 -ext bc:c' failed, code: 1\nkeytool error: java.io.FileNotFoundException: proxyserver.jks (Access is denied)\"\n\n(Full log message in attached JMeter210_ProgramFiles_ProxyRecordingError.txt)\n\nThe path listed in error dialog is for Java, which is misleading, since the work-around is to place JMeter in a folder with full administrative rights.\n\nExpected: A more informative error message that helps the user address the problem, e.g. by hinting at access rights problems for the JMeter location.\nOr that it works also when JMeter is installed in Program Files (or similar)\n\nhttps://wiki.apache.org/jmeter/TestRecording210 could also be updated with information regarding this."}, {"count": 1, "tags": [], "bug_id": 55959, "is_private": false, "text": "(In reply to rikard_edgren from comment #0)\n> Created attachment 31172 [details]\n> log output for issue\n> \n> The new 2.10/2.11 Test Script Recorder seems promising, but some users have\n> a hard time getting it running. \n> https://wiki.apache.org/jmeter/TestRecording210 informs about how to get\n> Java JDK up and running.\n> But it also doesn't work when installed in a folder without full access\n> rights, e.g. C:\\Program Files\\apache-jmeter-2.11\n> This seems to be a known issue according to thread\n> http://mail-archives.apache.org/mod_mbox/jmeter-dev/201311.mbox/\n> %3cCAH9fUpb6USD6=-6T_2Fyf6GYBdmMmN7W5ySw8AyN+S133faHvQ@mail.gmail.com%3e\n> Not sure if it can be addressed so it works, but a more helpful error\n> message would be good.\n\nJMeter can be told to create the file in a different directory, see:\n\nhttp://jmeter.apache.org/usermanual/component_reference.html#HTTP%28S%29_Test_Script_Recorder\n\nproxy.cert.directory\n\n> Client: Windows 8, 64-bit, Java JRE 1.7.0_45_b18, Java JDK 1.7.0_45, JMeter\n> 2.11\n> JMeter location: C:\\Program Files\\apache-jmeter-2.11\n> \n> 1. Edit jmeter.bat according to\n> https://wiki.apache.org/jmeter/TestRecording210 so Java JDK is accessed\n> 2. Start JMeter 2.11\n> 3. In Workbench, Add Non-Test Elements, HTTP(S) Test Script Recorder\n> 4. Click Start\n> \n> Result: An extremely wide error message (2 lines): \n> \"Could not create script recording proxy - see log for details: Command\n> :'\"C:\\Program Files\\Java\\jre7\\bin\\keytool\" -genkeypair -alias :root_ca:\n> -dname \"CN=_ DO NOT INSTALL unless this is your certificate (JMeter root\n> CA), OU=Username: rikard, C=US\" -keyalg RSA -keystore proxyserver.jks\n> -storepass {redacted) -keypass {redacted) -validity 7 -ext bc:c' failed,\n> code: 1\n> keytool error: java.io.FileNotFoundException: proxyserver.jks (Access is\n> denied)\"\n> \n> (Full log message in attached JMeter210_ProgramFiles_ProxyRecordingError.txt)\n> \n> The path listed in error dialog is for Java, which is misleading, since the\n> work-around is to place JMeter in a folder with full administrative rights.\n\nI think the error message is clear that the path is for the command that failed.\n \n> Expected: A more informative error message that helps the user address the\n> problem, e.g. by hinting at access rights problems for the JMeter location.\n\nThe last part of the error message clearly states:\n\njava.io.FileNotFoundException: proxyserver.jks (Access is denied)\"\n\nIs that not clear?\n\nI suppose the command line could be dropped from the error dialog to make it a bit easier to read, but the information is there.\n\n> Or that it works also when JMeter is installed in Program Files (or similar)\n\nIt does, provided that you tell JMeter where to store the JKS file\n \n> https://wiki.apache.org/jmeter/TestRecording210 could also be updated with\n> information regarding this.\n\nYes", "id": 172144, "time": "2014-01-07T12:04:04Z", "creator": "sebb@apache.org", "creation_time": "2014-01-07T12:04:04Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 55959, "is_private": false, "id": 172235, "attachment_id": null, "creator": "sebb@apache.org", "creation_time": "2014-01-09T19:43:39Z", "time": "2014-01-09T19:43:39Z", "text": "URL: http://svn.apache.org/r1556930\nLog:\nimprove error message when Test Script Recorder fails due to I/O problem\nBugzilla Id: 55959\n\nModified:\n    jmeter/trunk/src/jorphan/org/apache/jorphan/exec/KeyToolUtils.java\n\nURL: http://svn.apache.org/r1556932\nLog:\nimprove error message when Test Script Recorder fails due to I/O problem\nBugzilla Id: 55959\n\nModified:\n    jmeter/trunk/xdocs/changes.xml"}]