[{"count": 0, "tags": [], "creator": "garlic@garlic.com", "attachment_id": null, "id": 60405, "time": "2004-07-10T12:27:46Z", "bug_id": 30023, "creation_time": "2004-07-10T12:27:46Z", "is_private": false, "text": "configure in srclib/aprs-util fails to find the Berkeley DB on AIX 5.2 using \nthe IBM C Compiler.  The result is the following (as shown in the config.log)\n\nconfigure:16370: cc -o conftest -O3 -I/usr/local/BerkeleyDB.4.1/include -\nqHALT=E  -U__STR__ -D_THREAD_SAFE -D_USE_\nIRS -I/usr/local/BerkeleyDB.4.1/include  -L/usr/local/BerkeleyDB.4.1/lib \nconftest.c -L/usr/local/lib -ldb-4.1 >&5\nld: 0711-317 ERROR: Undefined symbol: .pthread_mutex_destroy\nld: 0711-317 ERROR: Undefined symbol: .pthread_mutex_lock\nld: 0711-317 ERROR: Undefined symbol: .pthread_cond_signal\nld: 0711-317 ERROR: Undefined symbol: .pthread_mutex_unlock\nld: 0711-317 ERROR: Undefined symbol: .pthread_mutex_trylock\nld: 0711-317 ERROR: Undefined symbol: .pthread_cond_wait\nld: 0711-317 ERROR: Undefined symbol: .pthread_mutex_init\nld: 0711-317 ERROR: Undefined symbol: .pthread_mutexattr_init\nld: 0711-317 ERROR: Undefined symbol: .pthread_mutexattr_setpshared\nld: 0711-317 ERROR: Undefined symbol: .pthread_mutexattr_destroy\nld: 0711-317 ERROR: Undefined symbol: .pthread_condattr_init\nld: 0711-317 ERROR: Undefined symbol: .pthread_condattr_setpshared\nld: 0711-317 ERROR: Undefined symbol: .pthread_cond_init\nld: 0711-317 ERROR: Undefined symbol: .pthread_condattr_destroy\n\nI can fix it by adding the -lpthread.  The diff of the configure file shows\n\n<     LIBS=\"$LIBS -l$apu_try_berkeley_db_libname\"\n---\n>     LIBS=\"$LIBS -l$apu_try_berkeley_db_libname -lpthreads\""}, {"count": 1, "tags": [], "bug_id": 30023, "attachment_id": null, "id": 60664, "time": "2004-07-15T22:01:07Z", "creator": "trawick@apache.org", "creation_time": "2004-07-15T22:01:07Z", "is_private": false, "text": "If using the IBM C compiler on AIX, set CC to either cc_r or xlc_r to enable \nthread-related settings.\n\nCC=cc_r ./configure --your-opts-go-here\n\nIt would be useful to detect that the user hasn't disabled threads and hasn't \nset CC and we didn't find gcc and cc is the IBM compiler, and then turn on \nwhatever compile and link flags and libraries that _r implies.\n\nPlease let us know whether or not setting CC as above solved the problem."}, {"count": 2, "tags": [], "bug_id": 30023, "attachment_id": null, "text": "Feedback requested above; is this still a problem with current releases?", "id": 78922, "time": "2005-08-24T16:35:47Z", "creator": "jorton@redhat.com", "creation_time": "2005-08-24T16:35:47Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 30023, "text": "\n  Compiling apr without thread support against a BerkeleyDB with thread support\n  is a jumbled configuration; no response from submittor, presuming issue is\n  resolved.", "id": 85505, "time": "2006-02-07T07:43:21Z", "creator": "wrowe@apache.org", "creation_time": "2006-02-07T07:43:21Z", "is_private": false, "attachment_id": null}]