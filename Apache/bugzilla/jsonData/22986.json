[{"count": 0, "tags": [], "bug_id": 22986, "text": "I'd like to run my own instance of Tomcat and use admin & manager apps. To avoid\ncoying of these apps I tried to setup CATALINA_BASE dir with conf, logs, work,\nand temp dirs and set appBase to $CATALINA_HOME/webapps (the actual path - not\nwith the variable). This works well on Linux but fails on WinXP with following\nexception:\njava.io.IOException: The filename, directory name, or volume label syntax is\nincorrect\n\tat org.apache.commons.digester.Digester.createSAXException(Digester.java:2540)\n\tat org.apache.commons.digester.Digester.createSAXException(Digester.java:2566)\n\tat org.apache.commons.digester.Digester.startElement(Digester.java:1276)\n\tat org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)\n\tat org.apache.xerces.impl.dtd.XMLDTDValidator.startElement(Unknown Source)\n\tat\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown\nSource)\n\tat\norg.apache.xerces.impl.XMLDocumentScannerImpl$ContentDispatcher.scanRootElementHook(Unknown\nSource)\n\tat\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown\nSource)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown\nSource)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n\tat org.apache.commons.digester.Digester.parse(Digester.java:1567)\n\tat\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:515)\n\tat org.apache.catalina.core.StandardHost.install(StandardHost.java:866)\n\tat org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:529)\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1008)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:399)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:166)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1135)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:792)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1127)\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:502)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:519)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:2311)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:578)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\nthe problem is that \nnew File(<anything>,\n\"D:\\\\path\\\\to\\\\my\\\\catalina_home\\\\webapps\").getCannonicalFile()) always throws\nan exception. More accurately it fails when the child argument is absolute path.", "id": 43834, "time": "2003-09-08T13:13:57Z", "creator": "radim.kubacki@sun.com", "creation_time": "2003-09-08T13:13:57Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 22986, "attachment_id": null, "text": "This is an obvious mistake in SetDocBaseRule. A few lines after that bad\ncanonicalization, there was the same call, with the right isAbsolute check. This\nis now fixed.", "id": 43835, "time": "2003-09-08T13:51:11Z", "creator": "remm@apache.org", "creation_time": "2003-09-08T13:51:11Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 22986, "attachment_id": null, "text": "Confirmed that it is OK (tested with 5.0.12).", "id": 44430, "time": "2003-09-22T09:18:23Z", "creator": "radim.kubacki@sun.com", "creation_time": "2003-09-22T09:18:23Z", "is_private": false}]