[{"count": 0, "tags": [], "bug_id": 57331, "attachment_id": null, "id": 179645, "time": "2014-12-08T21:37:10Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2014-12-08T21:37:10Z", "is_private": false, "text": "The current code is\n\n            if (\"years\".equalsIgnoreCase(currentToken)) {\n                durationUnit = DurationUnit.YEAR;\n            } else if (\"month\".equalsIgnoreCase(currentToken) ||\n                    \"months\".equalsIgnoreCase(currentToken)) {\n                durationUnit = DurationUnit.MONTH;\n            ...\n\nThe above if/else tree misses \"year\" case. All other time units have support for singular form, e.g. \"months\"/\"month\" above.\n\nThis was observed by a stackoverflow user [1]. \nThe following configuration fails:\n\n  <init-param>\n   <param-name>ExpiresDefault</param-name>\n   <param-value>access plus 1 year</param-value>\n </init-param>\n\nbut succeeds if one replaces s/year/years/.\n\n\n[1] http://stackoverflow.com/questions/27353512/how-to-configure-expires-filter-in-tomcat-7"}, {"count": 1, "text": "Fixed in Tomcat 7, 8, trunk. It will be in 7.0.58, 8.0.16 onwards.\n\n(revisions 1643963, 1643964, 1643965)", "bug_id": 57331, "is_private": false, "id": 179647, "time": "2014-12-09T01:00:00Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2014-12-09T01:00:00Z", "tags": [], "attachment_id": null}]