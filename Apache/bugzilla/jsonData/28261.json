[{"count": 0, "attachment_id": null, "bug_id": 28261, "text": "Hello,\n\nI have been trying to automate our deployment to WebSphere 5.0 on z/OS and \nwhenever I try to compile the source code I receive the following Out of \nMemory error:\n\ncompile:\n     [echo] ------------------------------------------------------------\n     [echo] Compiling SPI - Specific Property Information\n    [javac] Compiling 136 source files\n    [javac] Compiling 72 source files\n    [javac] Compiling 62 source files\n    [javac] Compiling 1 source file\n    [javac] Compiling 1 source file\n    [javac] Compiling 1 source file\n    [javac] Compiling 1 source file\n    [javac] Compiling 1 source file\n    [javac] Compiling 1 source file\n \n \n    [javac] The system is out of resources.\n    [javac] Consult the following stack trace for details.\n \n    [javac] java.lang.OutOfMemoryError\n\nThis doesn't happen all the time. It happens occasionally which is about 25% \nof the time it occurs. I have tried the following:\n1. Used ANT_OPTS=-Xmx1024m - Problem occurs 35% of the time\n2. Used ANT_OPTS=-Xmx1536m - Problem occurs 25& of the time\n3. Used ANT_OPTS=-Xmx2048m - Could not run. Not enough memory could be \nallocated\n4. Used javac fork=true memoryInitialSize=512m memoryMaximumSize=1024m - Did \nnot work.\n5. Used javac fork=true memoryInitialSize=512m memoryMaximumSize=1536m - Did \nnot work.\n6. Used javac fork=true memoryInitialSize=512m memoryMaximumSize=2048m - Did \nnot work.\n\nDoes anyone have any other suggestions?\n\nRegards,\n\nLuis", "id": 55467, "time": "2004-04-07T15:45:14Z", "creator": "lbarbier@iso.com", "creation_time": "2004-04-07T15:45:14Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 28261, "is_private": false, "id": 55476, "attachment_id": null, "creator": "stevel@apache.org", "creation_time": "2004-04-07T16:44:49Z", "time": "2004-04-07T16:44:49Z", "text": "1. try using forked javac; it lets you run it in subprocesses.\n2. try switching to jikes (jikes.org). You will love it for the compile time\nspeedup anyway :)"}, {"count": 2, "tags": [], "creator": "lbarbier@iso.com", "text": "Thank you for your suggestion but I tried using javac fork but it could not \ncompile on z/OS. There was an error compiling using the jikes compiler.", "id": 55504, "time": "2004-04-07T23:13:54Z", "bug_id": 28261, "creation_time": "2004-04-07T23:13:54Z", "is_private": false, "attachment_id": null}, {"text": "Make sure that when you run\n\njava -version \n\nThat it reports 1.3.1. This is the version that WSAD 5.0 uses anyway. There's \nsomething about ANT 1.6.1, JDK 1.4, and headless WSAD builds that don't get \nalong.\n", "tags": [], "creator": "jay@drummondsoftware.com", "is_private": false, "count": 3, "id": 60262, "time": "2004-07-07T20:41:44Z", "bug_id": 28261, "creation_time": "2004-07-07T20:41:44Z", "attachment_id": null}, {"text": "ping, is this an issue with ant?", "tags": [], "creator": "peterreilly@apache.org", "is_private": false, "count": 4, "id": 67804, "time": "2004-12-02T18:49:31Z", "bug_id": 28261, "creation_time": "2004-12-02T18:49:31Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "bodewig@apache.org", "text": "Luis, what happens when you try to fork javac?", "id": 72214, "time": "2005-03-11T17:11:10Z", "bug_id": 28261, "creation_time": "2005-03-11T17:11:10Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "mbenson@apache.org", "text": "I agree with Peter; can't see how this relates to Ant, and the discussion seems\neffectively dead.  Further discourse can take place on ant-user.", "id": 90702, "time": "2006-06-27T21:52:31Z", "bug_id": 28261, "creation_time": "2006-06-27T21:52:31Z", "is_private": false, "attachment_id": null}]