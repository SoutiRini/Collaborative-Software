[{"count": 0, "tags": [], "creator": "peo@bsd-guide.net", "is_private": false, "text": "Build of htpasswd in support directory fails on OpenBSD 4.1.\n\nConfigure-command used:\ncd httpd-2.2.6\n./configure --prefix=/usr/local/apache2 --enable-mods-shared=most \\\n--enable-suexec --with-suexec-docroot=/home/www \\\n--with-suexec-userdir=public_html \\\n--with-suexec-bin=/usr/local/apache2/bin/suexec \\\n--with-suexec-caller=www --enable-so --with-included-apr\n\nWhen building reaches the support directory (build of htpasswd), ld fails with:\n/usr/local/src/httpd-2.2.6/srclib/apr/libtool --silent --mode=link gcc -g -O2\n-pthread        -o htpasswd  htpasswd.lo   -lm\n/usr/local/src/httpd-2.2.6/srclib/pcre/libpcre.la\n/usr/local/src/httpd-2.2.6/srclib/apr-util/libaprutil-1.la -lexpat -liconv\n/usr/local/src/httpd-2.2.6/srclib/apr/libapr-1.la -lpthread\n/usr/bin/ld: cannot find -lexpat\ncollect2: ld returned 1 exit status\n*** Error code 1\n\nStop in /usr/local/src/httpd-2.2.6/support (line 39 of Makefile).\n*** Error code 1\n\nStop in /usr/local/src/httpd-2.2.6/support (line 90 of\n/usr/local/src/httpd-2.2.6/build/rules.mk).\n\nManually inserting the missing -L/usr/local/lib (which was automatically\ndetected configuring httpd 2.2.4) solves this problem.", "id": 107952, "time": "2007-09-10T03:26:44Z", "bug_id": 43337, "creation_time": "2007-09-10T03:26:44Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 43337, "attachment_id": null, "id": 108233, "time": "2007-09-16T01:48:53Z", "creator": "peo@bsd-guide.net", "creation_time": "2007-09-16T01:48:53Z", "is_private": false, "text": "The simplest possible work-around is to edit build/config_vars.mk:\nSearch for 'EXTRA_LDFLAGS' (near the end of the file) and change that line to:\n\nEXTRA_LDFLAGS = -L/usr/local/include\n"}, {"count": 2, "tags": [], "bug_id": 43337, "attachment_id": null, "text": "This is a regression with the apr-util expat configure code rewrite; Justin's\nfix now backported to 1.2.x:\n\nhttp://svn.apache.org/viewvc?view=rev&revision=583621", "id": 109209, "time": "2007-10-10T14:23:54Z", "creator": "jorton@redhat.com", "creation_time": "2007-10-10T14:23:54Z", "is_private": false}]