[{"count": 0, "tags": [], "creator": "sebb@apache.org", "is_private": false, "text": "See Bug 58083; same applies to TC native:\n\nThe build.xml file imports properties from build.properties.default (amongst other places).\n\nversion.major=1\nversion.minor=2\nversion.build=0\nversion.patch=0\nversion.suffix=-dev\n\ncompile.source=1.8\ncompile.target=1.8\ncompile.debug=off\ncompile.deprecation=on\ncompile.optimize=on\n\njunit.home=${base.path}/junit${junit.version}\njunit.jar=${junit.home}/junit.jar\n\nHowever it also defines the same properties itself:\n\n<property name=\"compile.source\" value=\"1.8\"/>\n<property name=\"compile.target\" value=\"1.8\"/>\n<property name=\"compile.debug\" value=\"off\"/>\n<property name=\"compile.optimize\" value=\"on\"/>\n<property name=\"compile.deprecation\" value=\"on\"/>\n\n<property name=\"version.major\" value=\"1\"/>\n<property name=\"version.minor\" value=\"2\"/>\n<property name=\"version.build\" value=\"0\"/>\n<property name=\"version.patch\" value=\"0\"/>\n<property name=\"version.suffix\" value=\"-dev\"/>\n\n<property name=\"junit.home\" value=\"/usr/local/junit3.8\"/>\n<property name=\"junit.jar\" value=\"${junit.home}/junit.jar\"/>\n\nThis seems wrong; surely these properties should be defined once - either in the properties.default file or in the build.xml file.\n\nNote that build.properties has\njunit.version=3.8.2\nThis disagrees with build.xml which uses 3.8 AFAICT", "id": 185177, "time": "2015-09-13T12:23:36Z", "bug_id": 58404, "creation_time": "2015-09-13T12:23:36Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 58404, "attachment_id": null, "is_private": false, "id": 185259, "time": "2015-09-15T18:08:33Z", "creator": "chris@christopherschultz.net", "creation_time": "2015-09-15T18:08:33Z", "text": "This may not be a bug: ant scripts often provide sane defaults in case the properties files do not specify a value: it's possible to remove compile.source for example from build.properties.default and end up confusing the compiler.\n\nNote that ant does not allow property values to be changed once they have been set, so the value from build.properties.default will override the default hard-coded in build.xml."}, {"attachment_id": null, "tags": [], "bug_id": 58404, "text": "(In reply to Christopher Schultz from comment #1)\n> This may not be a bug: ant scripts often provide sane defaults in case the\n> properties files do not specify a value: \n\nSee Bug 58083 - the same issue was fixed in Tomcat itself.\n\n> it's possible to remove\n> compile.source for example from build.properties.default and end up\n> confusing the compiler.\n\nbuild.properties.default is not supposed to be changed.\n\n> Note that ant does not allow property values to be changed once they have\n> been set, so the value from build.properties.default will override the\n> default hard-coded in build.xml.\n\nThis is partly why it's a bad idea; the user may change the value in build.xml and wonder why the change has no effect.\n\nBut the main issue is that it's not a good idea to have multiple definitions of the same data. At least one definition is likely to get out of date. viz JUnit.\n\nEither define the values in the properties file or in build.xml; don't define them in both. But I think the properties file is better for these properties; it's easier to read and maintain.", "count": 2, "id": 185268, "time": "2015-09-15T20:30:27Z", "creator": "sebb@apache.org", "creation_time": "2015-09-15T20:30:27Z", "is_private": false}, {"count": 3, "tags": [], "creator": "chris@christopherschultz.net", "attachment_id": null, "id": 185278, "time": "2015-09-15T21:56:32Z", "bug_id": 58404, "creation_time": "2015-09-15T21:56:32Z", "is_private": false, "text": "Fair enough."}, {"attachment_id": null, "tags": [], "bug_id": 58404, "text": "Fixed in r1711935\n\nNote: Not back-porting to 1.1.x since a) this is clean-up rather than a bug and b) 1.2.x is intended/expected to replace 1.1.x rather than have the two releasing in parallel.", "count": 4, "id": 186176, "time": "2015-11-02T11:03:20Z", "creator": "markt@apache.org", "creation_time": "2015-11-02T11:03:20Z", "is_private": false}]