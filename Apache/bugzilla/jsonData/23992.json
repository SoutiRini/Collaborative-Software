[{"count": 0, "tags": [], "creator": "Edwin_STEELE@rta.nsw.gov.au", "text": "When using the sshexec task with a very short timeout (like 10ms - see bug 23991\nfor a reason why someone might have such a short timeout), the sshexec task\nfails but gives a cryptic message with no indication that the timeout has been\nreached.\n\ne.g.\n  [sshexec] Connecting to remotemachine:22\n  [sshexec] java.io.FileNotFoundException: C:\\Documents and\nSettings\\user\\.ssh\\known_hosts (The system cannot find the path specified)\n\nBUILD FAILED\nfile:H:/Projects/Construction/deploy.xml:340: com.jcraft.jsch.JSchException:\nsession is down\n\nThis appears to be because taskdefs/optional/ssh/SSHExec.java, around line 180\nhas a line: session.setTimeout((int) maxwait);\nThis means that by the time channel.connect() is called, the session's socket\nhas been closed and the cryptic message is given rather than the more useful\n\"Timeout period exceeded, connection dropped.\" message that would have been\ntriggered further on.\n\nPerhaps a session.isConnected() call just before the channel.connect() in\nSSHExec.java and a suitable error message would catch the majority of these\ncases (it wouldn't help if it timed out during the channel.connect(), but\nstill...). Perhaps a restriction on the minimum value for the timeout may help too.", "id": 46031, "time": "2003-10-22T07:20:23Z", "bug_id": 23992, "creation_time": "2003-10-22T07:20:23Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "text": "session.siConnected returned true for me.\n\nI've changed it to parse the thrown exception, let's hope Atsuhiko doesn't change\nit too often.\n", "id": 46221, "time": "2003-10-24T08:52:11Z", "bug_id": 23992, "creation_time": "2003-10-24T08:52:11Z", "is_private": false, "attachment_id": null}]