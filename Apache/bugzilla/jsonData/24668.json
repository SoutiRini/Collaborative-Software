[{"count": 0, "tags": [], "creator": "matt@thebishops.org", "attachment_id": null, "id": 47286, "time": "2003-11-13T00:54:45Z", "bug_id": 24668, "creation_time": "2003-11-13T00:54:45Z", "is_private": false, "text": "In the docs, it seems that the 'stop' setting will not continue with addtional transactions in the \nevent of an error, but it will allow the script to continue.  Only the 'abort' setting should fail the \ntask."}, {"count": 1, "tags": [], "bug_id": 24668, "attachment_id": null, "text": "implementation and documentation are quite ambiguos to me.\n\nabort -> explicit rollback + fail\ncontinue -> only log exception, commit what we have at end of transaction, no fail\n\nstop docs are not clear at all\n\nstop implementation -> exactly identical to abort just that the rollback doesn't\n                       happen explicitly.  But the transaction won't be committed\n                       either.\n\nMy interpreation of the docs (and what probably is desired behavior) would be to\nrollback the transaction, don't run consecutive transactions but don't make\nthe task fail.  This seems to be the same as your interpretation.", "id": 48154, "time": "2003-11-26T12:39:17Z", "creator": "bodewig@apache.org", "creation_time": "2003-11-26T12:39:17Z", "is_private": false}, {"count": 2, "tags": [], "creator": "dbriones@gmail.com", "text": "Created attachment 16999\nProposed patch for src/main/org/apache/tools/ant/taskdefs/SQLExec.java\n\nAdded a conditional check for onError=\"stop\" before throwing BuildException", "id": 82691, "time": "2005-11-20T15:47:45Z", "bug_id": 24668, "creation_time": "2005-11-20T15:47:45Z", "is_private": false, "attachment_id": 16999}, {"count": 3, "tags": [], "text": "Created attachment 17000\nTest class for SQLExec's onError behavior\n\nTests for onError behavior...currently dependent on a local install of MySQL.", "attachment_id": 17000, "bug_id": 24668, "id": 82692, "time": "2005-11-20T15:50:49Z", "creator": "dbriones@gmail.com", "creation_time": "2005-11-20T15:50:49Z", "is_private": false}, {"count": 4, "tags": [], "creator": "dbriones@gmail.com", "text": "Created attachment 17001\nTest class for SQLExec's onError behavior\n\nCurrently dependent on a local MySQL installation...", "id": 82693, "time": "2005-11-20T15:54:28Z", "bug_id": 24668, "creation_time": "2005-11-20T15:54:28Z", "is_private": false, "attachment_id": 17001}, {"count": 5, "tags": [], "creator": "dbriones@gmail.com", "text": "I've created a patch for this bug, but the tests I've written are dependent on a local installation of MySQL \n(with a user named 'test', etc.)\n\nIt would be a lot better to use something like Hypersonic to create the DB in memory at the start of each \ntest.  Would it be possible to incorporate something like this into the automated build?  Obviously, this \nwould make the unit tests dependent on the Hypersonic jar.  \n\nI'm probably going to tweak the test to get it running under Hypersonic anyway, but do let me know if it \nwill be possible to incorporate this test into the full test suite.\n", "id": 82694, "time": "2005-11-20T16:00:18Z", "bug_id": 24668, "creation_time": "2005-11-20T16:00:18Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 24668, "attachment_id": 17002, "text": "Created attachment 17002\nTest class for SQLExec's onError behavior -- using HSQLDB\n\nDidn't realize that it was going to be so easy to use HSQLDB instead.  Now the\ntest only depends on having the HSQLDB classes in the classpath.", "id": 82696, "time": "2005-11-20T17:02:54Z", "creator": "dbriones@gmail.com", "creation_time": "2005-11-20T17:02:54Z", "is_private": false}, {"count": 7, "tags": [], "creator": "antoine@apache.org", "text": "reopening since I do not think that the patch attached to this bug report is\nsubmitted in SVN.", "id": 82698, "time": "2005-11-20T20:54:40Z", "bug_id": 24668, "creation_time": "2005-11-20T20:54:40Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 24668, "is_private": false, "text": "I don't think we should bundle the HyperSonic jar since its license is homegrown\n(albeit BSD-based) and might need legal interpretation for compatibility, but I\nsee no reason not to include the tests in our codebase with an enablement check\nin build.xml .", "id": 82703, "time": "2005-11-21T16:04:39Z", "creator": "mbenson@apache.org", "creation_time": "2005-11-21T16:04:39Z", "attachment_id": null}, {"count": 9, "tags": [], "creator": "mbenson@apache.org", "attachment_id": null, "id": 82704, "time": "2005-11-21T16:08:43Z", "bug_id": 24668, "creation_time": "2005-11-21T16:08:43Z", "is_private": false, "text": "In fact I don't see much reason not to adapt the attached testcase into the\nexisting SQLExecTest.  And possibly put the test for the availability of the\ndriver class into the testcase itself, leaving it out of the buildfile in this case."}, {"count": 10, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 118460, "time": "2008-07-10T07:07:41Z", "bug_id": 24668, "creation_time": "2008-07-10T07:07:41Z", "is_private": false, "text": "fixed after almost five years, phew.\n\nThat's what you get for closing the bug before a patch has been committed 8-)\n\nThanks.\n\nsvn rev 675579"}, {"count": 11, "tags": [], "creator": "matt@thebishops.org", "text": "better late than never...", "id": 118482, "time": "2008-07-10T08:59:21Z", "bug_id": 24668, "creation_time": "2008-07-10T08:59:21Z", "is_private": false, "attachment_id": null}]