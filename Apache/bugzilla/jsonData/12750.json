[{"count": 0, "attachment_id": null, "bug_id": 12750, "text": "Defining a virtual host in Apache, redirecting to Tomcat (via \nworkers.properties), defining a virtual host and context in the server.xml file \nisn't working somehow.  The examples example works just fine when defined \nwithout a virtual host in Apache.  When defined as a virtual host, Tomcat seems \nunable to find Java classes and import files.  No errors are written anywhere \n(that I can find) and the jsp executes ok, but any Java classes are not \ncalled.  If I run the date example form a non virtual host Apache, everything \nworks.  When running the same example with an Apache virtual host set up, the \ndate jsp is executed but the date class it calls is not invoked.  The date \nexample boiler plate text is displayed without values.", "id": 23005, "time": "2002-09-17T22:03:07Z", "creator": "dshort@san.rr.com", "creation_time": "2002-09-17T22:03:07Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 12750, "is_private": false, "id": 23006, "creation_time": "2002-09-17T22:19:30Z", "time": "2002-09-17T22:19:30Z", "creator": "thom@planetarytramp.net", "text": "This seems more like a bug with Tomcat.", "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 12750, "text": "Can you attach the config files used ( workers2.properties, server.xml ) ?\nAlso - check the log/ directory for messages - it should have something...", "id": 23776, "time": "2002-10-02T20:30:03Z", "creator": "cmanolache@yahoo.com", "creation_time": "2002-10-02T20:30:03Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "jswedberg@mail.com", "text": "I also have encountered the same problem as Dave.\nI am running Apache 2.0.44 and Tomcat 4.1.24, with mod_jk2 2.0.1-1.\n\n---------------------------------------------\nHere is my workers2.properties file:\n\n[channel.socket:localhost:8009]\ninfo=Ajp13 forwarding over socket\ntomcatId=localhost:8009\n\n[shm:]\ninfo=Scoreboard. Required for reconfiguration/status with multiprocess servers\nfile=/var/run/jk2.shm\nsize=1000000\ndebug=0\ndisabled=0\n\n[status:]\ninfo=Status worker, displays runtime informations\n\n[uri:/examples/*]\ninfo=Map the whole webapp\n\n[uri:/jkstatus/*]\ninfo=Display status information and checks the config file for changes.\ngroup=status:\n\n[uri:www.richlandmeadows.org]\ninfo=RichlandMeadows virtual host\nalias=192.168.1.8\nalias=helios2\n\n--------------------------------------------\nHere is the relevant apache vhosts definition:\n\n<VirtualHost 192.168.1.8>\n  ServerAdmin rmna@richlandmeadows.org\n  DocumentRoot /home/httpd/richlandmeadows.org/html\n  ServerName www.richlandmeadows.org\n  Alias /icons/ /home/httpd/richlandmeadows.org/icons/\n  ScriptAlias /cgi-bin/ /home/httpd/richlandmeadows.org/cgi-bin/\n  ErrorLog logs/richlandmeadows.org/error_log\n  CustomLog logs/richlandmeadows.org/access_log combined\n</VirtualHost>\n\n----------------------------------------\nAnd here is the snippet from the tomcat Host server.xml file:\n\n<Host name=\"www.richlandmeadows.org\" unpackWARs=\"true\" debug=\"4\"\n      appBase=\"/home/httpd/richlandmeadows.org/html\">\n  <Alias>192.168.1.8</Alias>\n  <Alias>helios2</Alias>\n  <DefaultContext reloadable=\"true\" swallowOutput=\"true\"/>\n  <Logger className=\"org.apache.catalina.logger.FileLogger\"\n          prefix=\"richlandmeadows_org_log.\" suffix=\".txt\"\n          verbosity=\"3\" timestamp=\"true\"/>\n</Host>\n\n-------------------------------\nI can get the \"examples\" and jk-status to run fine on localhost, but when I try \nto access a servlet or JSP on the virtual host tomcat never sees the request, \nas far as I can tell.  I get a 404 \"File not found\" error and the logs do not \nshow any attempt to access the servlet.  I have tried various combinations of \ntrading around the aliases, but that does not seem to be the problem.\n\nIf you'd like I can attache the full configuration files.\n\n", "id": 34752, "attachment_id": null, "bug_id": 12750, "creation_time": "2003-04-08T18:58:14Z", "time": "2003-04-08T18:58:14Z", "is_private": false}, {"count": 4, "tags": [], "creator": "jswedberg@mail.com", "text": "I looked at Umberto's response in 14017, and got mine to work now.\n\nApparently you can't assume to use a DefaultContext in server.xml and just the \nhostname (e.g. [www.richlandmeadows.org]) in workers2.properties.\n\nI coded up seperate Contexts for my JSPs (/ROOT) and servlets (/servlet) in \nserver.xml, and then made uris that specified the directory paths \n([www.richlandmeadows.org/servlet/*], for instance) in workers2.properties, and \nit now works!\n", "id": 34756, "attachment_id": null, "bug_id": 12750, "creation_time": "2003-04-08T19:42:11Z", "time": "2003-04-08T19:42:11Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 12750, "text": "Resolved as INVALID based on the previous comments that indicate that this is \na configuration issue.", "id": 45108, "time": "2003-10-05T18:41:37Z", "creator": "medthomas@ntlworld.com", "creation_time": "2003-10-05T18:41:37Z", "is_private": false, "attachment_id": null}]