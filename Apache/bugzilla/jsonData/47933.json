[{"count": 0, "tags": [], "creator": "sesfei@gmail.com", "attachment_id": null, "id": 130803, "time": "2009-10-02T01:04:24Z", "bug_id": 47933, "creation_time": "2009-10-02T01:04:24Z", "is_private": false, "text": "hi, all\n\ni have a bug occassionly with tomcat 5.5.27 + linux + Ajax . that is happended while Client(IE) post request to Tomcat with port 8080, then tomcat lost the http body while parse the request parameters .\n\npick the org.apache.catalina.connector.Request.java source that's method of readPostBody() what gets the length of 0. for the reason , tomcat is hunging\nafter 20 seconds.\n\nafter ajax get errors with json. the error message shows on IE7.\nby the way, prototype.js go to Onfilure while parse ie's return-code beyonds(200 - 299).\n\n\nfollowing is server.xml in tomcat setting.\n================================================================================\n    <!-- Define a non-SSL HTTP/1.1 Connector on port 8080 -->\n    <Connector port=\"8080\" maxHttpHeaderSize=\"8192\"\n               maxThreads=\"150\" minSpareThreads=\"25\" maxSpareThreads=\"75\"\n               enableLookups=\"false\" redirectPort=\"8443\" acceptCount=\"100\"\n               connectionTimeout=\"20000\" disableUploadTimeout=\"true\" />\n\n    <!-- Define an AJP 1.3 Connector on port 8009 -->\n    <Connector port=\"8009\"\n               enableLookups=\"false\" redirectPort=\"8443\" protocol=\"AJP/1.3\" />\n================================================================================\n\nfollowing is log\n================================================================================\n2009-10-01 20:25:10,860 WARN  [http-8080-Processor23] [/***]         - Exception thrown whilst processing POSTed parameters\njava.net.SocketTimeoutException: Read timed out\n\tat java.net.SocketInputStream.socketRead0(Native Method)\n\tat java.net.SocketInputStream.read(SocketInputStream.java:129)\n\tat org.apache.coyote.http11.InternalInputBuffer.fill(InternalInputBuffer.java:777)\n\tat org.apache.coyote.http11.InternalInputBuffer$InputStreamInputBuffer.doRead(InternalInputBuffer.java:807)\n\tat org.apache.coyote.http11.filters.IdentityInputFilter.doRead(IdentityInputFilter.java:116)\n\tat org.apache.coyote.http11.InternalInputBuffer.doRead(InternalInputBuffer.java:742)\n\tat org.apache.coyote.Request.doRead(Request.java:419)\n\tat org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:270)\n\tat org.apache.tomcat.util.buf.ByteChunk.substract(ByteChunk.java:403)\n\tat org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:293)\n\tat org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:193)\n\tat org.apache.catalina.connector.Request.readPostBody(Request.java:2420)\n\tat org.apache.catalina.connector.Request.parseParameters(Request.java:2399)\n\tat org.apache.catalina.connector.Request.getParameterNames(Request.java:1047)\n\tat org.apache.catalina.connector.RequestFacade.getParameterNames(RequestFacade.java:369)\n\tat org.apache.struts.util.RequestUtils.populate(RequestUtils.java:459)\n\tat org.apache.struts.action.RequestProcessor.processPopulate(RequestProcessor.java:816)\n\tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:203)\n\tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)\n\tat org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)\n\tat jp.co.tzs.web.action.TzsActionServlet.doPost(Unknown Source)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n\tat jp.co.tzs.web.common.TzsCharacterEncodingFilter.doFilter(Unknown Source)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875)\n\tat org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)\n\tat org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)\n\tat org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\n\tat java.lang.Thread.run(Thread.java:595)\n================================================================================\n\nplease help me!"}, {"count": 1, "tags": [], "text": "It seems on various places that there is a resurgence of the Internet Explorer keepalive bug: http://support.microsoft.com/kb/831167 . \n\nSee as well http://www.nabble.com/DWR-gives-SocketTimeout-on-parsePost-td21294810.html", "is_private": false, "bug_id": 47933, "id": 130828, "time": "2009-10-02T10:53:20Z", "creator": "kame@cinemasie.com", "creation_time": "2009-10-02T10:53:20Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "kame@cinemasie.com", "attachment_id": null, "id": 130833, "time": "2009-10-02T13:32:17Z", "bug_id": 47933, "creation_time": "2009-10-02T13:32:17Z", "is_private": false, "text": "See as well: http://support.microsoft.com/kb/833301/en-us\n\n\"Microsoft Internet Explorer may stop responding for up to six minutes\""}, {"count": 3, "tags": [], "text": "hi, Mr Damien Bonvillain \n\nthank you for your reply, the informations provided is very useful to me.", "is_private": false, "id": 130835, "creation_time": "2009-10-03T02:37:21Z", "time": "2009-10-03T02:37:21Z", "creator": "sesfei@gmail.com", "bug_id": 47933, "attachment_id": null}, {"count": 4, "text": "The description indicates that the client is not sending the data and Tomcat is timing out waiting for the body. This indicates an error at the client or in the network.\n\nA tool such as Wireshark will help you see what is going on on the network. use the users list if you need help interpreting the data you get.", "bug_id": 47933, "is_private": false, "id": 130847, "time": "2009-10-03T09:27:57Z", "creator": "markt@apache.org", "creation_time": "2009-10-03T09:27:57Z", "tags": [], "attachment_id": null}]