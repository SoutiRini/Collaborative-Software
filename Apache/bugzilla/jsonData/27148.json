[{"count": 0, "tags": [], "bug_id": 27148, "attachment_id": null, "text": "Patch : \n\nbuild.bat\nsrc/script/ant.bat\n\n(as in bootstrap.bat) to keep Windows 98 compatibility.\n\np.b.", "id": 52774, "time": "2004-02-22T22:00:14Z", "creator": "pierrick.brihaye@free.fr", "creation_time": "2004-02-22T22:00:14Z", "is_private": false}, {"count": 1, "text": "I think in build.bat, the offending line is this one :\nset ANT_HOME=%~dp0\\bootstrap\n\ndo you know the equivalent in Win98 syntax ?\n\nI introduced this line, because otherwise one test case (I think\nModifiedSelectorTest, not sure) fails because it needs the full path of ANT_HOME.\n\nPre ant 1.6 the same line read\nset ANT_HOME=bootstrap\n\nI guess I will change the build.bat to test for Windows NT, and just say \"set\nANT_HOME=bootstrap\"\n\nUsers using Win98 will fail the ModifiedSelectorTest if they run the testcases.\nOr maybe we can fix the test case so that it does not need the full path of\nANT_HOME.\n\nWe know that there is a problem here.\n\nSee this posting by Peter Reilly :\nhttp://marc.theaimsgroup.com/?l=ant-dev&m=106871369603012&w=2\n\nI had promised to fix it. :(", "bug_id": 27148, "attachment_id": null, "id": 52795, "time": "2004-02-23T13:13:57Z", "creator": "antoine@apache.org", "creation_time": "2004-02-23T13:13:57Z", "tags": [], "is_private": false}, {"count": 2, "text": "I suppose this is also the problem under Windows 98 :\n\nset DEFAULT_ANT_HOME=%~dp0.. \n\nin ant.bat\n\n", "bug_id": 27148, "attachment_id": null, "id": 52796, "time": "2004-02-23T13:17:32Z", "creator": "antoine@apache.org", "creation_time": "2004-02-23T13:17:32Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 27148, "text": "Well... first we should have to deal with a syntax like this :\n\nif     \"%OS%\" == \"Windows_NT\" do_something\nif not \"%OS%\" == \"Windows_NT\" do_another_thing\n\nA quick solution would be :\nif not \"%OS%\" == \"Windows_NT\" set DEFAULT_ANT_HOME=..\n\nBut, if you want to get the current directory under Win 98, this batch file \ndoes the trick :\n\nsetpwd.bat :\n\n@echo off\necho @prompt set PWD=$p$_ > _temp_A.bat\n%comspec% /e:2048 /c _temp_A.bat > _temp_B.bat\ncall _temp_B.bat\ndel _temp_?.bat\n\nAlso remember that %0 is the current program's name, i.e.\n\nsetpwf.bat :\n\n@echo off\nlfnfor on\nset PWF=%0\nlfnfor off\n\nHope this helps,\n\nCheers,\n\np.b.\n", "count": 3, "id": 52814, "time": "2004-02-23T17:27:17Z", "creator": "pierrick.brihaye@free.fr", "creation_time": "2004-02-23T17:27:17Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 27148, "attachment_id": null, "text": "Since ant is used in *many* projects, support of Windows 98 would be greatly\nappreciated.\n\nUntill now, I have to patch all the projects to which I contribute :-(\n\nCheers,\n\np.b.\n\n", "id": 53415, "time": "2004-03-04T10:58:15Z", "creator": "pierrick.brihaye@free.fr", "creation_time": "2004-03-04T10:58:15Z", "is_private": false}, {"count": 5, "tags": [], "creator": "jkf@apache.org", "attachment_id": null, "text": "*** Bug 27506 has been marked as a duplicate of this bug. ***", "id": 53635, "time": "2004-03-07T20:16:02Z", "bug_id": 27148, "creation_time": "2004-03-07T20:16:02Z", "is_private": false}, {"count": 6, "tags": [], "creator": "jan@materne.de", "attachment_id": null, "text": "Win98 support has been dropped.\nhttp://marc.theaimsgroup.com/?l=ant-dev&m=115261794927251&w=2", "id": 91118, "time": "2006-07-11T11:39:14Z", "bug_id": 27148, "creation_time": "2006-07-11T11:39:14Z", "is_private": false}]