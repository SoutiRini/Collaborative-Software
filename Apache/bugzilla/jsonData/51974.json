[{"count": 0, "attachment_id": 27705, "bug_id": 51974, "text": "Created attachment 27705\nResolves null pointer issue in new picture logic\n\n+++ This bug may have been introduced by fixes submitted last weekend that resolved Bug #51902 +++\n\n**Effects Daily Build**\n\nEssentially the new Picture related fixes can now encounter NULL pointer Exceptions in two places when doing extraction with TIKA that were not an issue for documents prior to the fixes.\n\nThe resolution is rather simple, just adding a couple null checks in two places, in getRawContent() and suggestPictureType() \n\nThe patch file for the daily build is attached.\n\n\n\nStack Trace (Daily build 10/05/2011  both POI and TIKA)\n-------------------------------------------------\nCaused by: java.lang.NullPointerException\n\tat org.apache.poi.hwpf.usermodel.Picture.suggestPictureType(Picture.java:519)\n\tat org.apache.poi.hwpf.usermodel.Picture.suggestFileExtension(Picture.java:500)\n\tat org.apache.poi.hwpf.usermodel.Picture.suggestFullFileName(Picture.java:512)\n\tat org.apache.tika.parser.microsoft.WordExtractor$PicturesSource.<init>(WordExtractor.java:520)\n\tat org.apache.tika.parser.microsoft.WordExtractor$PicturesSource.<init>(WordExtractor.java:504)\n\tat org.apache.tika.parser.microsoft.WordExtractor.parse(WordExtractor.java:85)\n\tat org.apache.tika.parser.microsoft.OfficeParser.parse(OfficeParser.java:200)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242)\n\t... 46 more", "id": 150244, "time": "2011-10-06T05:17:22Z", "creator": "rpi_alum@yahoo.com", "creation_time": "2011-10-06T05:17:22Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 51974, "is_private": false, "id": 150618, "attachment_id": null, "creator": "apache@gagravarr.org", "creation_time": "2011-10-15T14:15:22Z", "time": "2011-10-15T14:15:22Z", "text": "Thanks, fixed in r1183645."}]