[{"count": 0, "tags": [], "bug_id": 33686, "attachment_id": null, "id": 71341, "time": "2005-02-22T10:40:59Z", "creator": "tleigh@ndsuk.com", "creation_time": "2005-02-22T10:40:59Z", "is_private": false, "text": "Unzip the 1.6.2 installation of ant on windos and set your classpath. At the \ncommand prompt (with a valid build.xml) type:\n\nant thisdoesnotexist\n\nExpected:\nant returns stating that the target does not exist\n\nActual:\nant builds the default target and igonores the option\n\nThe problem is in ant.bat line 86 which is:\n:runAntWithClasspath\n\"%_JAVACMD%\" %ANT_OPTS% -classpath \"%ANT_HOME%\\lib\\ant-launcher.jar\" \"-Dant.\nhome=%ANT_HOME%\" org.apache.tools.ant.launch.Launcher %ANT_ARGS% -lib \"%\nCLASSPATH%\" %ANT_CMD_LINE_ARGS%\ngoto end\n\nand should be:\n\n:runAntWithClasspath\n\"%_JAVACMD%\" %ANT_OPTS% -classpath \"%ANT_HOME%\\lib\\ant-launcher.jar\" \"-Dant.\nhome=%ANT_HOME%\" org.apache.tools.ant.launch.Launcher %ANT_ARGS% %\nANT_CMD_LINE_ARGS% -lib \"%CLASSPATH%\"\ngoto end\n\nNote that the %ANT_CMD_LINE_ARGS% should always be just after the %ANT_ARGS% and \nbefore the -lib.\n\nCan someone please just update the script."}, {"count": 1, "tags": [], "bug_id": 33686, "text": "what is your CLASSPATH?", "id": 71343, "time": "2005-02-22T11:16:28Z", "creator": "stevel@apache.org", "creation_time": "2005-02-22T11:16:28Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "tleigh@ndsuk.com", "attachment_id": null, "text": "CLASSPATH=C:\\java\\junit3.8.1\\junit.jar;C:\\java\\junit3.8.1;.\\", "id": 71344, "time": "2005-02-22T11:18:08Z", "bug_id": 33686, "creation_time": "2005-02-22T11:18:08Z", "is_private": false}, {"count": 3, "tags": [], "text": "I worry about that trailing slash. It could be interfering with the closing\nquote of the classpath string and so somehow the ant arguments and the classpath\nare merging. this would explain why your target is getting missed.\n\ntry doing an ant -diagnostics to see what happens there. and then if the\n-diagnostics gets ignored, try \n\nant \"\" -diagnostics", "attachment_id": null, "bug_id": 33686, "id": 71346, "time": "2005-02-22T13:50:48Z", "creator": "stevel@apache.org", "creation_time": "2005-02-22T13:50:48Z", "is_private": false}, {"count": 4, "tags": [], "text": "Well spotted.  ant -diagnostics does not work, but ant \"\" -diagnostics does.\n\nI've changed my CLASSPATH to:\n\n\".\\;C:\\java\\junit3.8.1\\junit.jar;C:\\java\\junit3.8.1\"\n\nand it all works as expected.  I'm not sure if you can/want to do anything about \nthis, maybe ensure that there is a ; trailing in the classpath?\n\nThanks", "attachment_id": null, "bug_id": 33686, "id": 71350, "time": "2005-02-22T14:32:36Z", "creator": "tleigh@ndsuk.com", "creation_time": "2005-02-22T14:32:36Z", "is_private": false}, {"count": 5, "tags": [], "creator": "stevel@apache.org", "attachment_id": null, "text": "I'm going to mark this down as WONTFIX. The reason for that is those scripts are\ninordinately brittle, what with all the different versions of windows (or unix,\nfor the .sh) scripts, and a nightmare to work with/test in a language that isn't\ndesigned for complex tests.\n\nwe recommend you dont use a classpath. Stick junit.jar into ANT_HOME/lib and be\ndone with it. Its been debated whether Ant1.7 would ignore the classpath\naltogether. It wont, but it would have been nice.", "id": 71352, "time": "2005-02-22T15:36:01Z", "bug_id": 33686, "creation_time": "2005-02-22T15:36:01Z", "is_private": false}]