[{"count": 0, "tags": [], "text": "Hello, I have enhanced PVCS task:\n- addied ability to get to any directory, not only to workspace,\n- user name/password,\n- Bill of Materials.\n\nIf you are interested in including these features I can send modified Pvcs.java\nand PvcsProject.java to you.\n\nModified help page with new features description is here:\n<HTML>\n<HEAD>\n<META HTTP-EQUIV=\"Content-Type\" CONTENT=\"text/html; charset=windows-1252\">\n<META NAME=\"Generator\" CONTENT=\"Microsoft Word 97\">\n<TITLE>PVCS task</TITLE>\n<META NAME=\"Template\" CONTENT=\"C:\\Program Files\\Microsoft \nOffice\\Office\\html.dot\">\n<META HTTP-EQUIV=\"Content-Language\" CONTENT=\"en-us\"></HEAD>\n<BODY LINK=\"#0000ff\" VLINK=\"#800080\">\n\n<P><!doctype html public \"-//w3c//dtd html 4.0 transitional//en\"></P>\n<H1>Ant Pvcs Task User Manual</H1>\n<P>Modified by Pavel Vlasov (<A \nHREF=\"mailto:Pavel.Vlasov@ercgroup.com\">Pavel.Vlasov@ercgroup.com</A>) on \n2002/01/10 </P>\n\n<UL>\n<LI>User and password properties to access protected repositories</LI>\n<LI>toDir property to get to any location</LI>\n<LI>bom and style properties to create a bill of materials - xml file that \ncontains relative file names and revision numbers.</LI></UL>\n\n<P>by <BR>\n<!-- Names are in alphabetical order, on last name --></P>\n\n<UL>\n<LI>Thomas Christensen (<A \nHREF=\"mailto:tchristensen@nordija.com\">tchristensen@nordija.com</A>) </LI>\n<LI>Don Jeffery (<A HREF=\"mailto:donj@apogeenet.com\">donj@apogeenet.com</A>) \n</LI></UL>\n\n<P>Version 1.1 - 2001/06/27</P>\n<P>Problems with UNC pathnames and the use of () in paths are fixed and an \nupdateonly argument introduced.</P>\n<P>Version 1.0 - 2001/01/31</P>\n<P>Initial release.</P>\n<P><HR></P>\n<H2>Table of Contents</H2>\n\n<UL>\n<LI><A HREF=\"#introduction\">Introduction</A> </LI>\n<LI><A HREF=\"#configuretask\">Pvcs Task</A> </LI></UL>\n\n<P><HR></P><DIR>\n<DIR>\n\n<H2><A NAME=\"introduction\"></A>Introduction</H2>\n<P>The &lt;pvcs task allows the user of ant to extract the latest edition of \nthe source code from a PVCS repository. PVCS is a version control system \ndeveloped by <A HREF=\"http://www.merant.com/products/pvcs\">Merant</A>. <BR>\nBefore using this tag, the user running ant must have access to the commands of \nPVCS (get and pcli) and must have access to the repository. Note that the way \nto specify the repository is platform dependent so use property to specify \nlocation of repository. <BR>\nThis version has been tested agains PVCS version 6.5 and 6.6 under Windows and \nSolaris. </P></DIR>\n</DIR>\n\n<P><HR></P><DIR>\n<DIR>\n\n<H2><A NAME=\"pvcs\"></A>Pvcs Task</H2>\n<H3>Description</H3>\n<P>The pvcs task is set to point at a PVCS repository and optionally a project \nwithin that repository, and can from that specification get the latest version \nof the files contained by the repository. </P>\n<H3>Parameters</H3></DIR>\n</DIR>\n\n<TABLE BORDER CELLSPACING=1 CELLPADDING=2 WIDTH=623>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P><B>Attribute</B></TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<B><P>Description</B></TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<B><P>Required</B></TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>repository</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>The location of the repository (see your PVCS manuals)</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>Yes</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>pvcsproject</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>The project within the PVCS repository to extract files from (\"/\" is root \nproject and that is default if this attribute isn't specified)</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>label</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>Only files marked with this label are extracted.</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>promotiongroup</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>Only files within this promotion group are extracted. Using both the \n<I>label</I> and the <I>promotiongroup</I> tag will cause the files in the \npromotion group and with that label to be extracted. </TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>force</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>If set to <I>yes</I> all files that exists and are writable are overwritten. \nDefault <I>no</I> causes the files that are writable to be ignored. This stops \nthe PVCS command <I>get</I> to stop asking questions!</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>workspace</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>By specifying a workspace, the files are extracted to that location. A PVCS \nworkspace is a name for a location of the workfiles and isn't as such the \nlocation itself. You define the location for a workspace using the PVCS GUI \nclients. If this isn't specified the default workspace for the current user is \nused.</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>pvcsbin</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>On some systems the PVCS executables <I>pcli</I> and <I>get</I> are not \nfound in the PATH. In such cases this attribute should be set to the bin \ndirectory of the PVCS installation containing the executables mentioned before. \nIf this attribute isn't specified the tag expects the executables to be found \nusing the PATH environment variable.</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>ignorereturncode</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>If set to <I>true</I> the return value from executing the pvcs commands are \nignored.</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>updateonly</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>If set to <I>true</I> files are gotten only if newer than existing local \nfiles.</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>toDir</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>If this attribute is specified get retrieves files to this directory instead \nof working directory specified in project's workspace</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>bom</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>Bill Of Materials - xml file that contains relative file names and revision \nnumbers. If bom is specified then get output doesn't go to console.</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>style</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>If bom is set and style is set then the stylesheet specified gets applied to \nbom</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>user</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>User name</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>password</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>Password</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>No</TD>\n</TR>\n</TABLE>\n<DIR>\n<DIR>\n\n<H3><A NAME=\"nested\">Nested Elements</A></H3>\n<H3>pvcsproject element</H3>\n<CODE><P>pvcs</CODE> supports a nested <CODE>&lt;pvcsproject&gt;</CODE> \nelement, that represents a project within the PVCS repository to extract files \nfrom. By nesting multiple <CODE>&lt;pvcsproject&gt;</CODE> elements under the \n<CODE>&lt;pvcs&gt;</CODE> task, multiple projects can be specified.</P>\n<H3>Parameters</H3></DIR>\n</DIR>\n\n<TABLE BORDER CELLSPACING=1 CELLPADDING=2 WIDTH=623>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P><B>Attribute</B></TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<B><P>Description</B></TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<B><P>Required</B></TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>name</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>The name of the pvcs project</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">\n<P>Yes</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>workspace</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>By specifying a workspace, the files are extracted to that location. A PVCS \nworkspace is a name for a location of the workfiles and isn't as such the \nlocation itself. You define the location for a workspace using the PVCS GUI \nclients. If this isn't specified the default workspace for the current user is \nused.</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">&nbsp;</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>toDir</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>If this attribute is specified get retrieves files to this directory instead \nof working directory specified in project's workspace</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">&nbsp;</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>bom</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>Bill Of Materials - xml file that contains relative file names and revision \nnumbers. If bom is specified then get output doesn't go to console.</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">&nbsp;</TD>\n</TR>\n<TR><TD WIDTH=\"12%\" VALIGN=\"TOP\">\n<P>style</TD>\n<TD WIDTH=\"78%\" VALIGN=\"TOP\">\n<P>If bom is set and style is set then the stylesheet specified gets applied to \nbom</TD>\n<TD WIDTH=\"10%\" VALIGN=\"TOP\">&nbsp;</TD>\n</TR>\n</TABLE>\n<DIR>\n<DIR>\n\n<H3>Examples</H3>\n<P>The following set-up extracts the latest version of the files in the pvcs \nrepository. </P><DIR>\n\n<P>&nbsp;&nbsp;&nbsp; &lt;!-- \n=================================================================== -- <BR>\n&nbsp;&nbsp;&nbsp; &lt;!-- Get the latest \nversion&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&\nnbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&\nnbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&\nnbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb\nsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp\n;&nbsp; -- <BR>\n&nbsp;&nbsp;&nbsp; &lt;!-- \n=================================================================== -- <BR>\n&nbsp;&nbsp;&nbsp; &lt;target name=\"getlatest\" <BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt; pvcs repository=\"/mnt/pvcs\" \npvcsproject=\"/myprj\"/ <BR>\n&nbsp;&nbsp;&nbsp; &lt;/target</P></DIR>\n\n<P>Now run: </P>\n<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ant getlatest </P>\n<P>This will cause the following output to appear: </P>\n<PRE>&nbsp;&nbsp;&nbsp; getlatest:\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] PVCS Version Manager (VMGUI) v6.6.10 (Build \n870) for Windows NT/80x86\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] Copyright 1985-2000 MERANT.&nbsp; All rights \nreserved.\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] PVCS Version Manager (get) v6.6.10 (Build 870) \nfor Windows NT/80x86\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] Copyright 1985-2000 MERANT.&nbsp; All rights \nreserved.\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] c:\\myws\\myprj\\main.java &lt;- \nC:\\mypvcs\\archives\\myprj\\main.java-arc\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] rev 1.1\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] c:\\myws\\myprj\\apache\\tool.java &lt;- \nC:\\mypvcs\\archives\\myprj\\apache\\tools.java-arc\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] rev 1.5\n\n&nbsp;&nbsp;&nbsp; BUILD SUCCESSFUL\n\n&nbsp;&nbsp;&nbsp; Total time: 19 seconds</PRE>\n<P>This next example extracts the latest version of the files in the pvcs \nrepository from two projects using nested &lt;pvcsproject&gt; elements. \n</P><DIR>\n\n<P>&nbsp;&nbsp;&nbsp; &lt;!-- \n=================================================================== -- <BR>\n&nbsp;&nbsp;&nbsp; &lt;!-- Get latest from myprj and \nmyprj2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n\nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs\np;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n\nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs\np;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n\nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- <BR>\n&nbsp;&nbsp;&nbsp; &lt;!-- \n=================================================================== -- <BR>\n&nbsp;&nbsp;&nbsp; &lt;target name=\"getlatest2\" <BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;pvcs repository=\"/mnt/pvcs\" <BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;pvcsproject \nname=\"/myprj\" / <BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;pvcsproject \nname=\"/myprj2\" / <BR>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/pvcs <BR>\n&nbsp;&nbsp;&nbsp; &lt;/target</P></DIR>\n\n<P>Now run: </P>\n<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ant getlatest2 </P>\n<P>This will cause the following output to appear: </P>\n<PRE>&nbsp;&nbsp;&nbsp; getlatest2:\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] PVCS Version Manager (VMGUI) v6.6.10 (Build \n870) for Windows NT/80x86\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] Copyright 1985-2000 MERANT.&nbsp; All rights \nreserved.\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] PVCS Version Manager (get) v6.6.10 (Build 870) \nfor Windows NT/80x86\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] Copyright 1985-2000 MERANT.&nbsp; All rights \nreserved.\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] c:\\myws\\myprj\\main.java &lt;- \nC:\\mypvcs\\archives\\myprj\\main.java-arc\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] rev 1.1\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] c:\\myws\\myprj\\apache\\tool.java &lt;- \nC:\\mypvcs\\archives\\myprj\\apache\\tool.java-arc\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] rev 1.5\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] c:\\myws\\myprj2\\apache\\tool2.java &lt;- \nC:\\mypvcs\\archives\\myprj2\\apache\\tool2.java-arc\n&nbsp;&nbsp;&nbsp;&nbsp; [pvcs] rev 1.2\n\n&nbsp;&nbsp;&nbsp; BUILD SUCCESSFUL\n\n&nbsp;&nbsp;&nbsp; Total time: 22 seconds\n</PRE></DIR>\n</DIR>\n\n<P><HR></P>\n<P>PVCS is a registered trademark of MERANT. </P></BODY>\n</HTML>", "is_private": false, "id": 9514, "creator": "Pavel.Vlasov@ercgroup.com", "time": "2002-01-10T09:35:31Z", "bug_id": 5787, "creation_time": "2002-01-10T09:35:31Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 989\nModified html help.", "attachment_id": 989, "id": 9515, "creator": "Pavel.Vlasov@ercgroup.com", "time": "2002-01-10T09:37:31Z", "bug_id": 5787, "creation_time": "2002-01-10T09:37:31Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 5787, "text": "Created attachment 990\nModified Pvcs.java", "id": 9516, "time": "2002-01-10T09:39:14Z", "creator": "Pavel.Vlasov@ercgroup.com", "creation_time": "2002-01-10T09:39:14Z", "is_private": false, "attachment_id": 990}, {"count": 3, "tags": [], "creator": "Pavel.Vlasov@ercgroup.com", "attachment_id": 991, "text": "Created attachment 991\nModified PvcsProject.java", "id": 9517, "time": "2002-01-10T09:39:51Z", "bug_id": 5787, "creation_time": "2002-01-10T09:39:51Z", "is_private": false}, {"count": 4, "tags": [], "creator": "Pavel.Vlasov@ercgroup.com", "attachment_id": null, "text": "Styling Bill of Materials requires xalan.jar", "id": 9518, "time": "2002-01-10T09:41:53Z", "bug_id": 5787, "creation_time": "2002-01-10T09:41:53Z", "is_private": false}]