[{"count": 0, "tags": [], "creator": "dhornig@eldervision.net", "attachment_id": null, "id": 24088, "time": "2002-10-07T18:14:17Z", "bug_id": 13373, "creation_time": "2002-10-07T18:14:17Z", "is_private": false, "text": "For zip files created with ANT 1.4.1, Java's getSize() and getCompressedSize() \nreturn -1.  This is using Java 1.1.4 from an Internet Explorer applet.  The \napplet works fine if the zip file is created with zip or winzip, rather than \nwith ant."}, {"count": 1, "tags": [], "text": "Ant's zip code is taking advantage of something that has been added to the\n\"version 2\" of the ZIP format.  Technically that is that you are allowed to\nput -1 for the sizes into the \"local file header\" if you are deflating the\ndata.  Ant does store the correct sized into the \"central file header\".\n\nRecent Sun based JVM support this format (at least on Unix like systems) and even\ncreate it themselves.  Recent here is 1.1.8 on Linux for example.\n\nSorry, I don't think this is going to be fixed as fixing it requires Ant to\neither compress the whole data to be stored in memory or to compress it twice\nto determine the compressed size.\n\nA workaround is to set compress to false.  In this case Ant will store the\nsizes in the local file header as well.", "attachment_id": null, "id": 26365, "creator": "bodewig@apache.org", "time": "2002-11-15T13:28:02Z", "bug_id": 13373, "creation_time": "2002-11-15T13:28:02Z", "is_private": false}]