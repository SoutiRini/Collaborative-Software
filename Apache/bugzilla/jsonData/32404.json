[{"count": 0, "tags": [], "bug_id": 32404, "attachment_id": null, "is_private": false, "id": 67487, "time": "2004-11-26T11:55:44Z", "creator": "vincenzo.maione@libero.it", "creation_time": "2004-11-26T11:55:44Z", "text": "I have the follow scenario :\nApache apache2.0.49 loadbalance amongst 2 tomcat instances (tomcat version is \n4.1.29).\nThis is configuration about loadbalance :\n. httpd.conf :\nListen 80\nServerName 10.90.15.234:80\nLoadModule jk2_module modules/mod_jk2.so\n\n---------------------------------\n\n2. workers2.properties file\n[logger]\nlevel=DEBUG\n\n# Alternate file logger\n[logger.file:0]\nlevel=DEBUG\nfile=c:/Program Files/Apache Group/Apache2/logs/jk2.log\n\n\n[shm]\nfile=${serverRoot}/logs/shm.file\nsize=1048576\n\n[workerEnv:]\ninfo=Global server options\ntiming=1\ndebug=0\n# Default Native Logger (apache2 or win32 ) \n# can be overriden to a file logger, useful \n# when tracing win32 related issues\nlogger=logger.file:0\n\n# define the worker\n[ajp13:localhost:8010]\nchannel=channel.socket:localhost:8010\n\n# define the worker\n[ajp13:localhost:8011]\nchannel=channel.socket:localhost:8011\n\n\n[lb:lb]\ninfo=Default load balancer.\ndebug=1\n\n[channel.socket:localhost:8010]\ninfo=Ajp13 forwarding over socket\ndebug=1\ntomcatId=TC1\nlb_factor=1\ngroup=lb\n\n[channel.socket:localhost:8011]\ninfo=A second tomcat instance. \ndebug=1\ntomcatId=TC2\nlb_factor=1\ngroup=lb\n\n[status:]\ninfo=Status worker, displays runtime informations\n\n[uri:/jkstatus/*]\ninfo=Display status information and checks the config file for changes.\ngroup=status:\n\n# Uri mapping for eMatrix\n[uri:/ematrix/*]\n\n# Uri mapping for default Tomcat Example\n[uri:/examples/*]\n---------------------------\n\n\nWith this configuration, if I try to upload/download file \n(http://xx.xx.xx.xx:9080 Apache Port) , usualy the transfer rate is about \n240Kbs, instead if I try with the same operation directy to tomcat port (same \noperation,same file) the transfer rate is about 5.1 Mbs. I try to put in place \nold \"mod_jk2-2.0.43.dll\" and modify apache httpd.conf file with the new \ndirective \"LoadModule jk2_module modules/mod_jk2-2.0.43.dll\", now I have \naccetable value in termo of upload/download (about 1.6 Mbs still slow but \naccetable value)."}, {"count": 1, "text": "As of November 15, 2004, JK2 is no longer supported. All bugs related to JK2 \nwill be marked as WONTFIX. In its place, some of its features have been \nbackported to jk1. Most of those features will be seen in 1.2.7, which is \nslated for release on November 30th, 2004.\n\nAnother alternative is the ajp addition to mod_proxy which will be part of \napache 2.\n\nFor more information on the Tomat connectors docs at\nhttp://jakarta.apache.org/tomcat/connectors-doc/\n", "bug_id": 32404, "is_private": false, "id": 68831, "time": "2004-12-22T21:09:22Z", "creator": "markt@apache.org", "creation_time": "2004-12-22T21:09:22Z", "tags": [], "attachment_id": null}]