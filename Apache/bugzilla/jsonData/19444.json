[{"count": 0, "tags": [], "creator": "art_w@eastpoint.com", "attachment_id": null, "is_private": false, "id": 36331, "time": "2003-04-29T21:58:13Z", "bug_id": 19444, "creation_time": "2003-04-29T21:58:13Z", "text": "It appears that for the JNDIRealm to be able to locate roles, they must be \nanonymous accessible. I believe that for security purposes this should not be \nnecessary if we are validating the user by binding to the directory. In that \ncase the roles could be accessible to any bound user or that particular user. I \ndiscussed this very briefly on the Tomcat user list. It sounds like this had \nbeen discussed previously and for whatever reason, the idea rejected. Anyhow I \nsubmit that there is a bug, either in the code - which requires the roles to be \nanonymous, or in the documentation which does not make it clear that this is \nthe case (at least in \"Tomcat 4 Servlet/JSP Container - Realm Configuration HOW-\nTO). It seems reasonable to me that if we are binding to the directory to \nauthenticate, we would have that user's access to roles. Perhaps the \ndocumentation should more explicetly state that this is not the case.\n\nIn the hope that it would be accepted as an enhancement, I am going to attempt \nto attach a modified JNDIRealm that uses the authenticated connection to obtain \nthe roles.\n\nThank You,\nArt"}, {"count": 1, "attachment_id": 6087, "bug_id": 19444, "text": "Created attachment 6087\nModified JNDIRealm to use authenticated connection for roles.", "id": 36332, "time": "2003-04-29T22:00:28Z", "creator": "art_w@eastpoint.com", "creation_time": "2003-04-29T22:00:28Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 19444, "is_private": false, "id": 36333, "creation_time": "2003-04-29T22:01:42Z", "time": "2003-04-29T22:01:42Z", "creator": "art_w@eastpoint.com", "text": "Created attachment 6088\nDiff from version 4.1.24.", "attachment_id": 6088}, {"count": 3, "tags": [], "bug_id": 19444, "text": "I forgot to mention that using connectionName and connectionPassword is also \nnot an option for us.\n\nArt", "id": 36335, "time": "2003-04-29T22:11:54Z", "creator": "art_w@eastpoint.com", "creation_time": "2003-04-29T22:11:54Z", "is_private": false, "attachment_id": null}, {"count": 4, "attachment_id": null, "creator": "markt@apache.org", "is_private": false, "id": 55795, "time": "2004-04-14T21:33:06Z", "bug_id": 19444, "creation_time": "2004-04-14T21:33:06Z", "tags": [], "text": "Here is the relevant thread from tomact-user\n\nhttp://marc.theaimsgroup.com/?l=tomcat-user&m=103158720132648&w=2\n\nI am going to mark this as an enhancement request for now."}, {"count": 5, "tags": [], "bug_id": 19444, "text": "*** Bug 22948 has been marked as a duplicate of this bug. ***", "id": 114810, "time": "2008-03-20T07:01:25Z", "creator": "seth.leger@raritan.com", "creation_time": "2008-03-20T07:01:25Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 19444, "is_private": false, "text": "The code has moved on somewhat since this enhancement request was made so the patch does not apply cleanly.\n\nI have added a new JNDIRealm option in Tomcat 7.0.x to optionally allow role searches as the user being authenticated rather than using using an anonymous user or using connectionName/connectionPassword.\n\nThe new option will be included in 7.0.9 onwards.", "id": 144468, "time": "2011-02-22T06:10:26Z", "creator": "markt@apache.org", "creation_time": "2011-02-22T06:10:26Z", "attachment_id": null}]