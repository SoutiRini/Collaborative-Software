[{"count": 0, "attachment_id": null, "creator": "rahman.ia@db.com", "is_private": false, "id": 74216, "time": "2005-04-28T12:41:01Z", "bug_id": 34665, "creation_time": "2005-04-28T12:41:01Z", "tags": [], "text": "I am running make on AIX 5.1.0.0 (Apache 2.0.54). By the way Berkeley is a \nmandory requirement? \n\nmy configure option is as follows.\n\n./configure --prefix=/dbtpwm/pbccoadm/apache2\n\nmake gives below error.\nMaking all in support\nTarget \"local-all\" is up to date.\nTarget \"all\" is up to date.\n        /dbtpwm/pbccoadm/Apache/httpd-2.0.54/srclib/apr/libtool --silent --\nmode=\ncompile cc  -g -qHALT=E    -U__STR__ -D_THREAD_SAFE -D_USE_IRS    -\nI/dbtpwm/pbcc\noadm/Apache/httpd-2.0.54/srclib/apr/include -I/dbtpwm/pbccoadm/Apache/httpd-\n2.0.\n54/srclib/apr-util/include -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/srclib/apr-\nuti\nl/xml/expat/lib -I. -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/os/unix -\nI/dbtpwm/pbc\ncoadm/Apache/httpd-2.0.54/server/mpm/prefork -I/dbtpwm/pbccoadm/Apache/httpd-\n2.0\n.54/modules/http -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/modules/filters -\nI/dbtpw\nm/pbccoadm/Apache/httpd-2.0.54/modules/proxy -I/dbtpwm/pbccoadm/Apache/httpd-\n2.0\n.54/include -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/modules/generators -\nI/dbtpwm/\npbccoadm/Apache/httpd-2.0.54/modules/dav/main -prefer-non-pic -static -c \nmodules\n.c && touch modules.lo\n        /dbtpwm/pbccoadm/Apache/httpd-2.0.54/srclib/apr/libtool --silent --\nmode=\nlink cc  -g -qHALT=E    -U__STR__ -D_THREAD_SAFE -D_USE_IRS    -\nI/dbtpwm/pbccoad\nm/Apache/httpd-2.0.54/srclib/apr/include -I/dbtpwm/pbccoadm/Apache/httpd-\n2.0.54/\nsrclib/apr-util/include -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/srclib/apr-\nutil/x\nml/expat/lib -I. -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/os/unix -\nI/dbtpwm/pbccoa\ndm/Apache/httpd-2.0.54/server/mpm/prefork -I/dbtpwm/pbccoadm/Apache/httpd-\n2.0.54\n/modules/http -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/modules/filters -\nI/dbtpwm/p\nbccoadm/Apache/httpd-2.0.54/modules/proxy -I/dbtpwm/pbccoadm/Apache/httpd-\n2.0.54\n/include -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/modules/generators -\nI/dbtpwm/pbc\ncoadm/Apache/httpd-2.0.54/modules/dav/main -export-dynamic -Wl,-brtl -\nL/dbtpwm/p\nbccoadm/Apache/httpd-2.0.54/srclib/apr-util/xml/expat/lib   -o httpd  \nmodules.lo\n -Wl,-uXML_Parse -Wl,-bE:/dbtpwm/pbccoadm/Apache/httpd-2.0.54/server/httpd.exp \nm\nodules/aaa/mod_access.la modules/aaa/mod_auth.la modules/filters/mod_include.la\nmodules/loggers/mod_log_config.la modules/metadata/mod_env.la \nmodules/metadata/m\nod_setenvif.la modules/http/mod_http.la modules/http/mod_mime.la \nmodules/generat\nors/mod_status.la modules/generators/mod_autoindex.la \nmodules/generators/mod_asi\ns.la modules/generators/mod_cgi.la modules/mappers/mod_negotiation.la \nmodules/ma\nppers/mod_dir.la modules/mappers/mod_imap.la modules/mappers/mod_actions.la \nmodu\nles/mappers/mod_userdir.la modules/mappers/mod_alias.la \nmodules/mappers/mod_so.l\na  server/mpm/prefork/libprefork.la  server/libmain.la  \nos/unix/libos.la  /dbtpw\nm/pbccoadm/Apache/httpd-\n2.0.54/srclib/pcre/libpcre.la /dbtpwm/pbccoadm/Apache/ht\ntpd-2.0.54/srclib/apr-util/libaprutil-0.la /dbtpwm/pbccoadm/Apache/httpd-\n2.0.54/\nsrclib/apr-util/xml/expat/lib/libexpat.la -\nliconv /dbtpwm/pbccoadm/Apache/httpd-\n2.0.54/srclib/apr/libapr-0.la -lm -lnsl -lpthread\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_mutex_create\nld: 0711-317 ERROR: Undefined symbol: .apr_os_thread_current\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_mutex_lock\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_rwlock_rdlock\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_rwlock_wrlock\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_mutex_unlock\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_rwlock_unlock\nld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more information.\nmake: 1254-004 The error code from the last command is 8.\n\n\nStop.\nmake: 1254-004 The error code from the last command is 1.\n\n\nStop."}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "text": "Looks a little like APR was not built with thread support properly enabled; can\nyou attach the \"srclib/apr/config.log\" file generated during the build?", "id": 74235, "time": "2005-04-28T16:59:21Z", "bug_id": 34665, "creation_time": "2005-04-28T16:59:21Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 34665, "attachment_id": 14876, "text": "Created attachment 14876\nsrclib/apr/config.log file\n\nAs requested, pls find the attachment.", "id": 74265, "time": "2005-04-29T03:45:41Z", "creator": "rahman.ia@db.com", "creation_time": "2005-04-29T03:45:41Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 34665, "text": "The config.log looks OK.  Please read through:\nhttp://people.apache.org/~trawick/apache-2-on-aix.html\n\nperhaps try using:\n\nCC=xlc_r ./configure ...\n\n", "id": 74652, "time": "2005-05-10T10:10:20Z", "creator": "jorton@redhat.com", "creation_time": "2005-05-10T10:10:20Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "rahman.ia@db.com", "text": "Hi Joe,\n\nThanks for providing the info. I tried the below command. \n\n$ CC=xlc_r ./configure \\\n> --with-mpm=worker --enable-so --enable-layout=Apache \\\n> --enable-mods-shared=most --enable-maintainer-mode   \\\n> --with-expat=`pwd`/srclib/apr-util/xml/expat         \\\n> --enable-static-support --prefix=/dbtpwm/pbccoadm/apache2\n\nAfter executing the above, when I tried \"make\" command, again I am getting the \nbelow error.  Pls help to resolve this issue. Thanks.\n\n\nMaking all in support\nTarget \"local-all\" is up to date.\nTarget \"all\" is up to date.\n        /dbtpwm/pbccoadm/Apache/httpd-2.0.54/srclib/apr/libtool --silent --\nmode=\ncompile xlc_r  -g -qHALT=E -qfullpath -qinitauto=FE -qcheck=all -qinfo=pro    -\nU\n__STR__ -D_THREAD_SAFE -D_USE_IRS -DAP_DEBUG    -\nI/dbtpwm/pbccoadm/Apache/httpd-\n2.0.54/srclib/apr/include -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/srclib/apr-\nutil\n/include -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/srclib/apr-util/xml/expat/lib -\nI\n. -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/os/unix -\nI/dbtpwm/pbccoadm/Apache/httpd\n-2.0.54/server/mpm/worker -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/modules/http -\nI\n/dbtpwm/pbccoadm/Apache/httpd-2.0.54/modules/filters -\nI/dbtpwm/pbccoadm/Apache/h\nttpd-2.0.54/modules/proxy -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/include -\nI/dbtp\nwm/pbccoadm/Apache/httpd-2.0.54/modules/generators -\nI/dbtpwm/pbccoadm/Apache/htt\npd-2.0.54/modules/dav/main -prefer-non-pic -static -c modules.c && touch \nmodules\n.lo\n        /dbtpwm/pbccoadm/Apache/httpd-2.0.54/srclib/apr/libtool --silent --\nmode=\nlink xlc_r  -g -qHALT=E -qfullpath -qinitauto=FE -qcheck=all -qinfo=pro    -\nU__S\nTR__ -D_THREAD_SAFE -D_USE_IRS -DAP_DEBUG    -I/dbtpwm/pbccoadm/Apache/httpd-\n2.0\n.54/srclib/apr/include -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/srclib/apr-\nutil/in\nclude -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/srclib/apr-util/xml/expat/lib -\nI. -\nI/dbtpwm/pbccoadm/Apache/httpd-2.0.54/os/unix -I/dbtpwm/pbccoadm/Apache/httpd-\n2.\n0.54/server/mpm/worker -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/modules/http -\nI/db\ntpwm/pbccoadm/Apache/httpd-2.0.54/modules/filters -\nI/dbtpwm/pbccoadm/Apache/http\nd-2.0.54/modules/proxy -I/dbtpwm/pbccoadm/Apache/httpd-2.0.54/include -\nI/dbtpwm/\npbccoadm/Apache/httpd-2.0.54/modules/generators -\nI/dbtpwm/pbccoadm/Apache/httpd-\n2.0.54/modules/dav/main -export-dynamic -Wl,-brtl -\nL/dbtpwm/pbccoadm/Apache/http\nd-2.0.54/srclib/apr-util/xml/expat/lib   -o httpd  modules.lo -Wl,-uXML_Parse -\nW\nl,-bE:/dbtpwm/pbccoadm/Apache/httpd-2.0.54/server/httpd.exp \nmodules/http/mod_htt\np.la modules/mappers/mod_so.la  server/mpm/worker/libworker.la  \nserver/libmain.l\na  os/unix/libos.la  /dbtpwm/pbccoadm/Apache/httpd-\n2.0.54/srclib/pcre/libpcre.la\n /dbtpwm/pbccoadm/Apache/httpd-2.0.54/srclib/apr-util/libaprutil-\n0.la /dbtpwm/pb\nccoadm/Apache/httpd-2.0.54/srclib/apr-util/xml/expat/lib/libexpat.la -\nliconv /db\ntpwm/pbccoadm/Apache/httpd-2.0.54/srclib/apr/libapr-0.la -lm -lnsl -lpthread\nld: 0711-317 ERROR: Undefined symbol: .apr_setup_signal_thread\nld: 0711-317 ERROR: Undefined symbol: .apr_threadattr_create\nld: 0711-317 ERROR: Undefined symbol: .apr_threadattr_detach_set\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_create\nld: 0711-317 ERROR: Undefined symbol: .apr_signal_thread\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_join\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_cond_destroy\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_mutex_destroy\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_mutex_lock\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_mutex_unlock\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_cond_broadcast\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_cond_wait\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_cond_signal\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_mutex_create\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_cond_create\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_exit\nld: 0711-317 ERROR: Undefined symbol: .apr_thread_pool_get\nld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more information.\nmake: 1254-004 The error code from the last command is 8.\n\n\nStop.\nmake: 1254-004 The error code from the last command is 1.\n\n\nStop.\n$\n\n", "id": 75620, "time": "2005-05-31T08:13:16Z", "bug_id": 34665, "creation_time": "2005-05-31T08:13:16Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 34665, "attachment_id": null, "is_private": false, "id": 79654, "time": "2005-09-08T15:37:40Z", "creator": "jorton@redhat.com", "creation_time": "2005-09-08T15:37:40Z", "text": "If you run \"nm srclib/apr/.libs/libapr-0.so\" does it list the symbols mentioned?\n\nAttach the complete nm output if unsure.  This looks like some weird APR build\nissue in any case."}, {"count": 6, "tags": [], "bug_id": 34665, "attachment_id": null, "is_private": false, "id": 85546, "time": "2006-02-07T18:18:44Z", "creator": "wrowe@apache.org", "creation_time": "2006-02-07T18:18:44Z", "text": "\n  No response from submittor, presuming bug is closed.\n\n  It's apparent from the report that as some fixes were added, such as reconfig\n  for threads and using xlc_r, that the user had not rebuilt clean, and had\n  lingering polution from the previous attempt.\n"}]