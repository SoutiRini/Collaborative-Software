[{"attachment_id": 25728, "tags": [], "creator": "pieter@emweb.be", "is_private": false, "count": 0, "id": 138250, "time": "2010-07-07T09:22:22Z", "bug_id": 49567, "creation_time": "2010-07-07T09:22:22Z", "text": "Created attachment 25728\ntestcase demonstrating the bug\n\nwhen starting a new thread from a startAsync Runnable, an infinite amount of doPosts is generated.\n\nAlso, the GET status is: 500 Internal Server Error,\nhowever, there is no exception thrown by tomcat.\n\nThe attached code demonstrates this, by printing \"Start async()\" an infinite amount of times."}, {"count": 1, "tags": [], "bug_id": 49567, "text": "Looks like you attached the wrong test case to this report.", "id": 138343, "time": "2010-07-10T17:26:55Z", "creator": "markt@apache.org", "creation_time": "2010-07-10T17:26:55Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 49567, "text": "(In reply to comment #1)\n> Looks like you attached the wrong test case to this report.\n\nDear Mark,\n\nwhy do you think this is the wrong test case?\nAre you not able to reproduce the problem with it?\n\nKind regards,\n\nPieter", "id": 138358, "time": "2010-07-12T04:23:47Z", "creator": "pieter@emweb.be", "creation_time": "2010-07-12T04:23:47Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 49567, "text": "Because at first glance the test case appears to be identical to the previous bug you reported and there is no reference in it to doPost which you refer to in both the title and the description. On closer inspection I see there are differences but I am still confused about the references to doPost in the title and description.", "id": 138359, "time": "2010-07-12T04:40:25Z", "creator": "markt@apache.org", "creation_time": "2010-07-12T04:40:25Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 49567, "text": "(In reply to comment #3)\n> Because at first glance the test case appears to be identical to the previous\n> bug you reported and there is no reference in it to doPost which you refer to\n> in both the title and the description. On closer inspection I see there are\n> differences but I am still confused about the references to doPost in the title\n> and description.\n\nI'm sorry for the confusion, please replace doPost by doGet.", "id": 138362, "time": "2010-07-12T05:26:27Z", "creator": "pieter@emweb.be", "creation_time": "2010-07-12T05:26:27Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 49567, "text": "I've converted the attached test case to a Tomcat 7 unit test and can reproduce the issue. Looking at it now...", "id": 138367, "time": "2010-07-12T09:58:05Z", "creator": "markt@apache.org", "creation_time": "2010-07-12T09:58:05Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 49567, "is_private": false, "text": "*** Bug 49635 has been marked as a duplicate of this bug. ***", "id": 138628, "time": "2010-07-22T02:08:45Z", "creator": "markt@apache.org", "creation_time": "2010-07-22T02:08:45Z", "attachment_id": null}, {"count": 7, "tags": [], "text": "This has been fixed in 7.0.x and will be included in 7.0.1 onwards.", "is_private": false, "id": 138643, "creator": "markt@apache.org", "time": "2010-07-22T18:51:36Z", "bug_id": 49567, "creation_time": "2010-07-22T18:51:36Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "kevin@infofinity.com", "is_private": false, "count": 8, "id": 138788, "time": "2010-07-31T16:24:10Z", "bug_id": 49567, "creation_time": "2010-07-31T16:24:10Z", "text": "(In reply to comment #7)\n> This has been fixed in 7.0.x and will be included in 7.0.1 onwards.\n\nHi, I built from trunk (http://svn.apache.org/repos/asf/tomcat/trunk/) but continue to have this problem. Is the fix in another part of the svn tree?\nThanks."}, {"count": 9, "tags": [], "bug_id": 49567, "text": "Nope. This issue has been fixed in trunk for over a week.", "id": 138792, "time": "2010-08-01T10:04:29Z", "creator": "markt@apache.org", "creation_time": "2010-08-01T10:04:29Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 49567, "text": "(In reply to comment #9)\n> Nope. This issue has been fixed in trunk for over a week.\n\nOkay, I'm still having the problem with revision 981332:\n\njava.lang.StackOverflowError\n        at org.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java:963)\n        at org.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java:963)\n...\n\n# svn info\nPath: .\nURL: http://svn.apache.org/repos/asf/tomcat/trunk\nRepository Root: http://svn.apache.org/repos/asf\nRepository UUID: 13f79535-47bb-0310-9956-ffa450edef68\nRevision: 981332\nNode Kind: directory\nSchedule: normal\nLast Changed Author: markt\nLast Changed Rev: 981318\nLast Changed Date: 2010-08-01 14:04:25 -0700 (Sun, 01 Aug 2010)\n\n# ant\n...\nBUILD SUCCESSFUL\n\n# start tomcat from $TRUNK/output/build/bin/startup\n\nI am using the same test as in Bug 49635. Also, how does one write a Tomcat 7 unit test to make bug reporting easier for the Tomcat developers?", "id": 138799, "time": "2010-08-01T18:36:11Z", "creator": "kevin@infofinity.com", "creation_time": "2010-08-01T18:36:11Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "kevin@infofinity.com", "is_private": false, "count": 11, "id": 138801, "time": "2010-08-01T19:20:15Z", "bug_id": 49567, "creation_time": "2010-08-01T19:20:15Z", "text": "> Okay, I'm still having the problem with revision 981332:\n\nNevermind, it works, sorry."}, {"count": 12, "tags": [], "bug_id": 49567, "text": "Hi, although Kevin backed down, I am still having this problem with the current 7.0.2-beta and with a self-compiled trunk. The identical servlet works perfectly with Glassfish v3.0.1.\n\njava.lang.StackOverflowError\n\torg.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java:1031)\n\torg.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java:1031)\n\torg.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java:1031)\n\torg.apache.catalina.connector.RequestFacade.startAsync(RequestFacade.java:1031)\n...\n\nS:\\codebase\\TOMCAT_trunk>svn info\nPath: .\nURL: http://svn.apache.org/repos/asf/tomcat/trunk\nRepository Root: http://svn.apache.org/repos/asf\nRepository UUID: 13f79535-47bb-0310-9956-ffa450edef68\nRevision: 998790\nNode Kind: directory\nSchedule: normal\nLast Changed Author: markt\nLast Changed Rev: 998554\nLast Changed Date: 2010-09-18 23:41:44 +0200 (Sa, 18 Sep 2010)", "id": 139962, "time": "2010-09-20T02:07:11Z", "creator": "janko@dalighe.de", "creation_time": "2010-09-20T02:07:11Z", "is_private": false, "attachment_id": null}, {"count": 13, "tags": [], "bug_id": 49567, "text": "(In reply to comment #12)\n> Hi, although Kevin backed down, I am still having this problem with the current\n\nJanko, I'm sorry but I'm afraid I can't remember how I resolved the problem, but it ended up being user error. I would suggest checking out a brand new trunk, rebuilding, and starting with the simplest async servlet and seeing if that works.", "id": 140647, "time": "2010-10-10T17:11:27Z", "creator": "kevin@infofinity.com", "creation_time": "2010-10-10T17:11:27Z", "is_private": false, "attachment_id": null}]