[{"count": 0, "tags": [], "bug_id": 51641, "text": "org.apache.coyote.http11.Http11NioProtocol.Http11ConnectionHandler\n\ncode segment:\n==================================\n        @Override\n        public void release(SocketWrapper<NioChannel> socket) {\n            Http11NioProcessor processor = connections.remove(socket);\n            if (processor != null) {\n                processor.recycle();\n                recycledProcessors.offer(processor);\n            }\n        }\n==================================\n\nshould be:\n==================================\n        @Override\n        public void release(SocketWrapper<NioChannel> socket) {\n            Http11NioProcessor processor = connections.remove(socket.getSocket());\n            if (processor != null) {\n                processor.recycle();\n                recycledProcessors.offer(processor);\n            }\n        }\n==================================\n\ntype of connections is ConcurrentHashMap<NioChannel, Http11NioProcessor> ,\nnot ConcurrentHashMap<SocketWrapper<NioChannel>, Http11NioProcessor>.", "id": 148517, "attachment_id": null, "creator": "zhh200910@gmail.com", "creation_time": "2011-08-10T03:37:44Z", "time": "2011-08-10T03:37:44Z", "is_private": false}, {"count": 1, "tags": [], "creator": "markt@apache.org", "text": "Thanks for the report. This has been fixed in trunk and 7.0.x.\n\nI couldn't see a way to trigger this in normal operation. Did you see a memory leak due to this or did you find it some other way?", "id": 148524, "time": "2011-08-10T11:44:27Z", "bug_id": 51641, "creation_time": "2011-08-10T11:44:27Z", "is_private": false, "attachment_id": null}]