[{"count": 0, "tags": [], "bug_id": 4520, "attachment_id": null, "is_private": false, "id": 7312, "time": "2001-10-30T11:28:47Z", "creator": "serch@acme.com", "creation_time": "2001-10-30T11:28:47Z", "text": "when I run the example servlet on context from tomcat (port 8080) I get the \nvalues I set in the server.xml file, but when I try the same servlet from \nApache (port 80) I only get null's instead any value I set on the server.xml\n\nI tryed seting the context values inside the apache engine definition but I get \nno results..."}, {"count": 1, "text": "Can you please provide a test application (and the associated configuration\nfiles) so that we can dupliate this?\n", "bug_id": 4520, "attachment_id": null, "id": 7315, "time": "2001-10-30T11:49:43Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-10-30T11:49:43Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "pier@betaversion.org", "attachment_id": null, "is_private": false, "id": 7319, "time": "2001-10-30T12:37:03Z", "bug_id": 4520, "creation_time": "2001-10-30T12:37:03Z", "text": "Did you set your value within the <Service name=\"Tomcat-Apache\"> tag?"}, {"count": 3, "tags": [], "creator": "serch@acme.com", "attachment_id": null, "id": 7343, "time": "2001-10-30T15:29:15Z", "bug_id": 4520, "creation_time": "2001-10-30T15:29:15Z", "is_private": false, "text": "Yes!\nI did it also.\nas a test aplication you can use the servlet that comes with Tomcat 4\n\nI have this in httpd.conf\n\nWebAppConnection ApacheCon      warp  localhost:8008\nWebAppDeploy     examples  ApacheCon  /examples/\nWebAppInfo /webapp-info\n\nand this in server.xml:\n\n\n<Server port=\"8005\" shutdown=\"SHUTDOWN\" debug=\"0\">\n  <Service name=\"Tomcat-Apache\">\n    <Connector className=\"org.apache.catalina.connector.warp.WarpConnector\"\n     port=\"8008\" minProcessors=\"5\" maxProcessors=\"75\"\n     enableLookups=\"true\"\n     acceptCount=\"10\" debug=\"0\"/>\n    <Engine className=\"org.apache.catalina.connector.warp.WarpEngine\"\n     name=\"Apache\" debug=\"0\" appBase=\"webapps\">\n      <Logger className=\"org.apache.catalina.logger.FileLogger\"\n              prefix=\"apache_log.\" suffix=\".txt\"\n              timestamp=\"true\"/>\n      <Realm className=\"org.apache.catalina.realm.MemoryRealm\" />\n      <Host name=\"localhost\" debug=\"0\" appBase=\"webapps\" unpackWARs=\"true\">\n        <Valve className=\"org.apache.catalina.valves.AccessLogValve\"\n                 directory=\"logs\"  prefix=\"localhost_access_log.\" suffix=\".txt\"\n                 pattern=\"common\"/>\n        <Logger className=\"org.apache.catalina.logger.FileLogger\"\n                 directory=\"logs\"  prefix=\"localhost_log.\" suffix=\".txt\"\n         timestamp=\"true\"/>\n        <Context path=\"/manager\" docBase=\"manager\"\n         debug=\"0\" privileged=\"true\"/>\n        <Context path=\"/examples\" docBase=\"examples\" debug=\"0\"\n                 reloadable=\"true\">\n          <Logger className=\"org.apache.catalina.logger.FileLogger\"\n                     prefix=\"localhost_examples_log.\" suffix=\".txt\"\n           timestamp=\"true\"/>\n          <Ejb   name=\"ejb/EmplRecord\" type=\"Entity\"\n                 home=\"com.wombat.empl.EmployeeRecordHome\"\n               remote=\"com.wombat.empl.EmployeeRecord\"/>\n          <Environment name=\"maxExemptions\" type=\"java.lang.Integer\"\n                      value=\"15\"/>\n          <Parameter name=\"context.param.name\" value=\"context.param.value\"\n                     override=\"false\"/>\n          <Resource name=\"jdbc/EmployeeAppDb\" auth=\"SERVLET\"\n                    type=\"javax.sql.DataSource\"/>\n          <ResourceParams name=\"jdbc/EmployeeAppDb\">\n            <parameter><name>user</name><value>sa</value></parameter>\n            <parameter><name>password</name><value></value></parameter>\n            <parameter><name>driverClassName</name>\n              <value>org.hsql.jdbcDriver</value></parameter>\n            <parameter><name>driverName</name>\n              <value>jdbc:HypersonicSQL:database</value></parameter>\n          </ResourceParams>\n          <Resource name=\"jdbc/TroubleTicket\" auth=\"SERVLET\"\n                    type=\"javax.sql.DataSource\"/>\n          <ResourceParams name=\"jdbc/TroubleTicket\">\n            <parameter><name>user</name><value>root</value></parameter>\n            <parameter><name>password</name><value></value></parameter>\n            <parameter><name>driverClassName</name>\n              <value>org.gjt.mm.mysql.Driver</value></parameter>\n            <parameter><name>driverName</name>\n              <value>jdbc:mysql://localhost/ttbeta1</value></parameter>\n          </ResourceParams>\n          <Resource name=\"mail/Session\" auth=\"Container\"\n                    type=\"javax.mail.Session\"/>\n          <ResourceParams name=\"mail/Session\">\n            <parameter>\n              <name>mail.smtp.host</name>\n              <value>localhost</value>\n            </parameter>\n          </ResourceParams>\n        </Context>\n      </Host>\n    </Engine>\n  </Service>\n</Server>"}, {"count": 4, "tags": [], "bug_id": 4520, "is_private": false, "text": "Is \"ServerName\" in httpd.conf set to \"localhost\" too? How does your \n\"httpd.conf\" file looks like in terms of VirtualHosts?\n", "id": 7350, "time": "2001-10-30T17:00:58Z", "creator": "pier@betaversion.org", "creation_time": "2001-10-30T17:00:58Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 4520, "attachment_id": null, "is_private": false, "id": 7419, "time": "2001-10-31T17:03:54Z", "creator": "serch@acme.com", "creation_time": "2001-10-31T17:03:54Z", "text": "The server name points to the IP of the server\nthe virtual hosts are not using tomcat.\nand in the server.xml I have this:\n\n\n<Server port=\"8005\" shutdown=\"SHUTDOWN\" debug=\"0\">\n  <Service name=\"Tomcat-Apache\">\n\n    <Connector className=\"org.apache.catalina.connector.warp.WarpConnector\"\n     port=\"8008\" minProcessors=\"5\" maxProcessors=\"75\"\n     enableLookups=\"true\"\n     acceptCount=\"10\" debug=\"0\"/>\n\n    <Engine className=\"org.apache.catalina.connector.warp.WarpEngine\"\n     name=\"Apache\" debug=\"0\" appBase=\"webapps\">\n      <Logger className=\"org.apache.catalina.logger.FileLogger\"\n              prefix=\"apache_log.\" suffix=\".txt\"\n              timestamp=\"true\"/>\n      <Realm className=\"org.apache.catalina.realm.MemoryRealm\" />\n\n\n      <Host name=\"localhost\" debug=\"0\" appBase=\"webapps\" unpackWARs=\"true\">\n        <Valve className=\"org.apache.catalina.valves.AccessLogValve\"\n                 directory=\"logs\"  prefix=\"localhost_access_log.\" suffix=\".txt\"\n                 pattern=\"common\"/>\n        <Logger className=\"org.apache.catalina.logger.FileLogger\"\n                 directory=\"logs\"  prefix=\"localhost_log.\" suffix=\".txt\"\n\t        timestamp=\"true\"/>\n        <Context path=\"/manager\" docBase=\"manager\" \n         debug=\"0\" privileged=\"true\"/>\n         \n        <Context path=\"economia\" docBase=\"economia\" \n         debug=\"0\" privileged=\"true\"/>\n        <Context path=\"/examples\" docBase=\"examples\" debug=\"0\"\n                 reloadable=\"true\">\n          <Logger className=\"org.apache.catalina.logger.FileLogger\"\n                     prefix=\"localhost_examples_log.\" suffix=\".txt\"\n        \t  timestamp=\"true\"/>\n          <Ejb   name=\"ejb/EmplRecord\" type=\"Entity\"\n                 home=\"com.wombat.empl.EmployeeRecordHome\"\n               remote=\"com.wombat.empl.EmployeeRecord\"/>\n          <Manager className=\"org.apache.catalina.session.PersistentManager\"\n              debug=\"0\"\n              saveOnRestart=\"true\"\n              maxActiveSessions=\"-1\"\n              minIdleSwap=\"-1\"\n              maxIdleSwap=\"-1\"\n              maxIdleBackup=\"-1\">\n                <Store className=\"org.apache.catalina.session.FileStore\"/>\n          </Manager>\n\t\t  -->\n          <Environment name=\"maxExemptions\" type=\"java.lang.Integer\"\n                      value=\"15\"/>\n          <Parameter name=\"context.param.name\" value=\"context.param.value\"\n                     override=\"false\"/>\n          <Resource name=\"mail/Session\" auth=\"Container\"\n                    type=\"javax.mail.Session\"/>\n          <ResourceParams name=\"mail/Session\">\n            <parameter>\n              <name>mail.smtp.host</name>\n              <value>localhost</value>\n            </parameter>\n          </ResourceParams>\n        </Context>\n      </Host>\n    </Engine>\n  </Service>\n</Server>\n"}, {"count": 6, "text": "Can you send over your httpd.conf too???", "bug_id": 4520, "attachment_id": null, "id": 7420, "time": "2001-10-31T17:47:28Z", "creator": "pier@betaversion.org", "creation_time": "2001-10-31T17:47:28Z", "tags": [], "is_private": false}, {"count": 7, "attachment_id": null, "bug_id": 4520, "is_private": false, "id": 7443, "time": "2001-11-01T08:16:50Z", "creator": "serch@acme.com", "creation_time": "2001-11-01T08:16:50Z", "tags": [], "text": "ServerType standalone\nServerRoot \"/opt/www/apache\"\nPidFile /opt/www/apache/logs/httpd.pid\nScoreBoardFile /opt/www/apache/logs/httpd.scoreboard\nTimeout 300\nKeepAlive On\nMaxKeepAliveRequests 100\nKeepAliveTimeout 15\nMinSpareServers 5\nMaxSpareServers 10\nStartServers 5\nMaxClients 150\n\nMaxRequestsPerChild 0\n\nLoadModule webapp_module libexec/mod_webapp.so\nAddModule mod_webapp.c\nPort 80\nUser nobody\nGroup nobody\nServerAdmin webmstr@ZEUSDB.rtn.net.mx\nServerName 207.249.0.102\n\nDocumentRoot \"/opt/www/apache/htdocs\"\n<Directory />\n    Options FollowSymLinks\n    AllowOverride None\n</Directory>\n<Directory \"/opt/www/apache/htdocs\">\n    Options Indexes FollowSymLinks MultiViews ExecCGI\n    AllowOverride None\n    Order allow,deny\n    Allow from all\n</Directory>\n<IfModule mod_userdir.c>\n    UserDir public_html\n</IfModule>\n\n<IfModule mod_dir.c>\n    DirectoryIndex index.html\n</IfModule>\nAccessFileName .htaccess\n<Files ~ \"^\\.ht\">\n    Order allow,deny\n    Deny from all\n    Satisfy All\n</Files>\n\nUseCanonicalName On\n\n<IfModule mod_mime.c>\n    TypesConfig /opt/www/apache/conf/mime.types\n</IfModule>\nDefaultType text/plain\n\n<IfModule mod_mime_magic.c>\n    MIMEMagicFile /opt/www/apache/conf/magic\n</IfModule>\n\nHostnameLookups Off\n\nErrorLog /opt/www/apache/logs/error_log\n\nLogLevel warn\nLogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" \ncombined\nLogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common\nLogFormat \"%{Referer}i -> %U\" referer\nLogFormat \"%{User-agent}i\" agent\n\nCustomLog /opt/www/apache/logs/access_log common\n\nServerSignature On\n\n<IfModule mod_alias.c>\n    Alias /icons/ \"/opt/www/apache/icons/\"\n\n    <Directory \"/opt/www/apache/icons\">\n        Options Indexes MultiViews\n        AllowOverride None\n        Order allow,deny\n        Allow from all\n    </Directory>\n    Alias /manual/ \"/opt/www/apache/htdocs/manual/\"\n\n    <Directory \"/opt/www/apache/htdocs/manual\">\n        Options Indexes FollowSymlinks MultiViews\n        AllowOverride None\n        Order allow,deny\n        Allow from all\n    </Directory>\n    ScriptAlias /cgi-bin/ \"/opt/www/apache/cgi-bin/\"\n    <Directory \"/opt/www/apache/cgi-bin\">\n        AllowOverride None\n        Options None\n        Order allow,deny\n        Allow from all\n    </Directory>\n\n</IfModule>\n<IfModule mod_autoindex.c>\n    IndexOptions FancyIndexing\n\n    AddIconByEncoding (CMP,/icons/compressed.gif) x-compress x-gzip\n\n    AddIconByType (TXT,/icons/text.gif) text/*\n    AddIconByType (IMG,/icons/image2.gif) image/*\n    AddIconByType (SND,/icons/sound2.gif) audio/*\n    AddIconByType (VID,/icons/movie.gif) video/*\n\n    AddIcon /icons/binary.gif .bin .exe\n    AddIcon /icons/binhex.gif .hqx\n    AddIcon /icons/tar.gif .tar\n    AddIcon /icons/world2.gif .wrl .wrl.gz .vrml .vrm .iv\n    AddIcon /icons/compressed.gif .Z .z .tgz .gz .zip\n    AddIcon /icons/a.gif .ps .ai .eps\n    AddIcon /icons/layout.gif .html .shtml .htm .pdf\n    AddIcon /icons/text.gif .txt\n    AddIcon /icons/c.gif .c\n    AddIcon /icons/p.gif .pl .py\n    AddIcon /icons/f.gif .for\n    AddIcon /icons/dvi.gif .dvi\n    AddIcon /icons/uuencoded.gif .uu\n    AddIcon /icons/script.gif .conf .sh .shar .csh .ksh .tcl\n    AddIcon /icons/tex.gif .tex\n    AddIcon /icons/bomb.gif core\n\n    AddIcon /icons/back.gif ..\n    AddIcon /icons/hand.right.gif README\n    AddIcon /icons/folder.gif ^^DIRECTORY^^\n    AddIcon /icons/blank.gif ^^BLANKICON^^\n\n    DefaultIcon /icons/unknown.gif\n\n    ReadmeName README\n    HeaderName HEADER\n    IndexIgnore .??* *~ *# HEADER* README* RCS CVS *,v *,t\n\n</IfModule>\n<IfModule mod_mime.c>\n\n    AddEncoding x-compress Z\n    AddEncoding x-gzip gz tgz\n\n    AddLanguage da .dk\n    AddLanguage nl .nl\n    AddLanguage en .en\n    AddLanguage et .ee\n    AddLanguage fr .fr\n    AddLanguage de .de\n    AddLanguage el .el\n    AddLanguage he .he\n    AddCharset ISO-8859-8 .iso8859-8\n    AddLanguage it .it\n    AddLanguage ja .ja\n    AddCharset ISO-2022-JP .jis\n    AddLanguage kr .kr\n    AddCharset ISO-2022-KR .iso-kr\n    AddLanguage nn .nn\n    AddLanguage no .no\n    AddLanguage pl .po\n    AddCharset ISO-8859-2 .iso-pl\n    AddLanguage pt .pt\n    AddLanguage pt-br .pt-br\n    AddLanguage ltz .lu\n    AddLanguage ca .ca\n    AddLanguage es .es\n    AddLanguage sv .se\n    AddLanguage cz .cz\n    AddLanguage ru .ru\n    AddLanguage zh-tw .tw\n    AddLanguage tw .tw\n    AddCharset Big5         .Big5    .big5\n    AddCharset WINDOWS-1251 .cp-1251\n    AddCharset CP866        .cp866\n    AddCharset ISO-8859-5   .iso-ru\n    AddCharset KOI8-R       .koi8-r\n    AddCharset UCS-2        .ucs2\n    AddCharset UCS-4        .ucs4\n    AddCharset UTF-8        .utf8\n\n    <IfModule mod_negotiation.c>\n        LanguagePriority en da nl et fr de el it ja kr no pl pt pt-br ru ltz ca \nes sv tw\n    </IfModule>\n\n    AddType application/x-tar .tgz\n    AddHandler cgi-script .cgi\n    AddType text/html .shtml\n    AddHandler server-parsed .shtml\n\n</IfModule>\n<IfModule mod_setenvif.c>\n    BrowserMatch \"RealPlayer 4\\.0\" force-response-1.0\n    BrowserMatch \"Java/1\\.0\" force-response-1.0\n    BrowserMatch \"JDK/1\\.0\" force-response-1.0\n</IfModule>\n### SubSEction for Tomcat 4\n\nWebAppConnection ApacheCon      warp  localhost:8008\nWebAppDeploy     examples  ApacheCon  /examples/\nWebAppInfo /webapp-info\n\n#### End Tomcat 4\n"}, {"count": 8, "text": "Ok... See how in server.xml <Host name=\"localhost\" ...> is different from \n\"ServerName 207.249.0.102\" in httpd.conf???\nThat's your problem.. Make sure both of them are the same, and you'll be \nset.\nAnyway, this problem will go away when my next big update will come in, \n\"deprecating\" the use of \"Host\" in server.xml. (Yes, it's _very_ confusing).", "bug_id": 4520, "attachment_id": null, "id": 7444, "time": "2001-11-01T08:37:43Z", "creator": "pier@betaversion.org", "creation_time": "2001-11-01T08:37:43Z", "tags": [], "is_private": false}, {"count": 9, "attachment_id": null, "bug_id": 4520, "is_private": false, "id": 7446, "time": "2001-11-01T09:25:01Z", "creator": "serch@acme.com", "creation_time": "2001-11-01T09:25:01Z", "tags": [], "text": "Ok, but in case I'll have a set of virtual servers? do I need to set all of them \nas HOST's tags?"}, {"count": 10, "tags": [], "creator": "pier@betaversion.org", "attachment_id": null, "is_private": false, "id": 7448, "time": "2001-11-01T09:40:52Z", "bug_id": 4520, "creation_time": "2001-11-01T09:40:52Z", "text": "Touche`... Right on the spot. That's why in the upcoming releases there \nwon't be any notion of a \"Host\" in the Apache part of server.xml, you'll be \nable to configure your application once, and reuse it from several different \nvirtualhosts configured in httpd.conf..."}, {"count": 11, "attachment_id": null, "bug_id": 4520, "is_private": false, "id": 7452, "time": "2001-11-01T10:01:07Z", "creator": "serch@acme.com", "creation_time": "2001-11-01T10:01:07Z", "tags": [], "text": "perhaps it could be convinient in this way, so I can access some resources just \nfor the virtual host that those resources where configured to work with, I mean\nThinking about a set of virtual hosts with diferent path to a DB (or diferent \nuser) with the same name of the resourse.\nmaybe if the INSTALL.txt had this info it would be great!"}]