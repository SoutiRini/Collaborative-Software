[{"count": 0, "tags": [], "text": "Tomcat4 currently (approximately 05/02/01 build) does not support the Servlet\nSpec (2.2 & 2.3) for <error-page> declarations in the web application's web.xml\nfile when using the DTD 2.3 specification.\nIt DOES however work properly using the DTD 2.2 specification.\n\nAlso, Tomcat4 does not support <error-page> declarations in the\ntomcat4/conf/web.xml as I have been told it is supposed to do (i.e. for setting\nglobal error handlers unless overridden by web application web.xml\ndeclarations). (If the DTD in the conf/web.xml is set to version 2.2, empty\npages are returned rather than the standard error responses.)\n\n\nPlease see the following two war files for examples of handling <error-code>404\nand <exception-type>javax.servlet.ServletException errors. The only difference\nis in whether the web app's web.xml file uses:\n<!DOCTYPE web-app\n    PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\"\n    \"http://java.sun.com/j2ee/dtds/web-app_2_3.dtd\">\n\nOR 2.2 in place of 2.3.\n\nhttp://www.more.net/~jupham/tomcat4/error-pages-2.3.war\nand\nhttp://www.more.net/~jupham/tomcat4/error-pages-2.2.war\n\n--------------------------\n\nFinally, I might mention that in the file:\nwebapps/servlet-tests/WEB-INF/web.xml  (part of WatchDog)\n\n there appear to be examples of error-page declarations in which an exception is\ndeclared simply as \"<exception-type>ServletException</exception-type>\", whereas\nthe documentation appears to be quite clear that the fully qualified exception\nname must be used, which my testing has shown to be correct.\n\nThanks,\njbu", "attachment_id": null, "id": 2478, "creator": "jupham@more.net", "time": "2001-05-16T14:44:28Z", "bug_id": 1783, "creation_time": "2001-05-16T14:44:28Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 1783, "text": "Please try this with a more recent build (such as \"Beta 5\" that was recently \nreleased).  The unit tests in the Tomcat 4.0 source directory test this behavior \nthoroughly (using a web.xml that requires the 2.3 DTD), and current behavior \nconforms to the Servlet 2.3 PFD2 requirements.\n", "id": 2629, "time": "2001-05-23T19:59:23Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-05-23T19:59:23Z", "is_private": false, "attachment_id": null}]