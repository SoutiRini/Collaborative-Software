[{"count": 0, "tags": [], "creator": "nicolaken@apache.org", "attachment_id": null, "id": 13107, "time": "2002-04-09T15:42:30Z", "bug_id": 7877, "creation_time": "2002-04-09T15:42:30Z", "is_private": false, "text": "depend.xsl outputs the values in % instead of the 0-1 range as stated on the \nbottom.\nFurthermore, it shown NaN on many values, and my guess is that it's because I'm \nusing an Italian os.\n\nSo attached is the jdepend.xsl that corrects the above issues (removed \nformatnumber and definition of ,. separators)."}, {"count": 1, "tags": [], "creator": "nicolaken@apache.org", "attachment_id": 1508, "id": 13108, "time": "2002-04-09T15:44:19Z", "bug_id": 7877, "creation_time": "2002-04-09T15:44:19Z", "is_private": false, "text": "Created attachment 1508\njdepend.xsl that doesn't output values as percentages"}, {"count": 2, "text": "Out of curiosity what is the format of the numbers produced with your locale ?\n\nThe definition of separators is made on purpose to avoid a problem on xsl \nspecification so that you can safely process an xml file.\n\nSee the thread:\nhttp://marc.theaimsgroup.com/?l=xalan-dev&m=99712869323389&w=2\n\nIf an xml is produced with formatting made with a specific locale separator it \nis unlikely that someone with another locale will be able to process your xml.\n\nTherefore, the best solution is obviouslly to make the numbers in your xml \nlocale independant. Typically you have this kind of problems with java software \nthat produces some sorts of csv data in not so correct format and you end up \nwith:\n1,236, 5,456 which will be read as '1', '236', '5', '456' instead \nof '1.236' '5.456'.\n\n", "bug_id": 7877, "attachment_id": null, "id": 13493, "time": "2002-04-14T16:23:11Z", "creator": "sbailliez@apache.org", "creation_time": "2002-04-14T16:23:11Z", "tags": [], "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 7877, "is_private": false, "id": 13514, "time": "2002-04-14T19:26:52Z", "creator": "nicolaken@apache.org", "creation_time": "2002-04-14T19:26:52Z", "tags": [], "text": "My locale uses , for decimals and . as a thousands separator.\n\nWhat the stylesheet produces is 1 for 1, 0 for 0 and NaN for any other.\n\nAnyway, the description at the bottom explains that there are values from 0 to \n1, but the values are in percentage.\nRemoving the conversion, both these problems are solved."}, {"count": 4, "attachment_id": null, "bug_id": 7877, "is_private": false, "id": 13520, "time": "2002-04-14T20:24:24Z", "creator": "sbailliez@apache.org", "creation_time": "2002-04-14T20:24:24Z", "tags": [], "text": "It will work in your case if you transform your xml with the xsl with your \nlocale because it will be able to parse correctly your xml. Removing the \nformatting is just a workaround because it will use the appropriate formatter \nwhen parsing the number.\n\nIf someone with a US locale is processing your XML it will not work as '.' is \nthe decimal separator and ',' is the thousand separator, so the problem is on \nthe xml side not on the xsl side. The output of the xml should use a format \nthat allows exchange within different locales so it should use a well defined \nformat, not one that you have no idea of.\n\nXML Schema identifies a float with a mandatory '.' (dot) and put emphasis on \ninteroperability by specifying that there must be conversion from locale-\ndependent datatype. Same applies here IMHO. So I'm -1 for this. Sorry.\n\nOtherwise I agree about the % or the normalized value is a matter of taste... I \nneed feedback from users to know which is better % or normalized and fix one or \nthe other.\n\nPeter speak up about your taste please. :-)"}, {"count": 5, "attachment_id": null, "bug_id": 7877, "is_private": false, "id": 13521, "time": "2002-04-14T20:41:32Z", "creator": "nicolaken@apache.org", "creation_time": "2002-04-14T20:41:32Z", "tags": [], "text": "Well, since I remove the formatting alltogether, I don't see why different \nlocales are a problem. I could give it letters instead of numbers and it still \nwould work.\n\nIMHO using 0-1 range is better, since percentage implies that there is \na \"whole\" from which you take a part, while 0-1 range is like \"how near you are \nto boolean 1 or 0\" with regards to a statement."}, {"count": 6, "tags": [], "text": "How am I suppose to do if I want to format numbers ? I cannot because I have no \nidea where the xml file was produced so there is no possibility of \ninteroperability between locales. The normalized value fix is incidentally a \nworkaround to avoid dealing with the source of the problem which IMHO should be \nreported.\n\nI agree on your explanation about normalized value instead of %", "is_private": false, "id": 13522, "creation_time": "2002-04-14T20:52:42Z", "time": "2002-04-14T20:52:42Z", "creator": "sbailliez@apache.org", "bug_id": 7877, "attachment_id": null}, {"count": 7, "tags": [], "text": "Fixed in CVS..\n\nI will cc Mike so that the formatter can be fixed by setting a well defined \npattern rather than a locale dependent one.", "is_private": false, "bug_id": 7877, "id": 13524, "time": "2002-04-14T21:13:03Z", "creator": "sbailliez@apache.org", "creation_time": "2002-04-14T21:13:03Z", "attachment_id": null}]