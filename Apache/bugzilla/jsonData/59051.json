[{"count": 0, "tags": [], "bug_id": 59051, "attachment_id": null, "text": "Hello,\nRelated to Bug 58786, a bug was introduced.\n\nWhen KeepAlive is used and Connection Age is set to 5 seconds, DBCP will close the Active connection if it exceeds this timeout and following is logged:\n\n2016/02/23 09:09:29 WARN  - org.apache.commons.dbcp2.BasicDataSource: An internal object pool swallowed an Exception. org.apache.commons.dbcp2.LifetimeExceededException: The lifetime of the connection [13,988] milliseconds exceeds the maximum permitted value of [5,000] milliseconds\n        at org.apache.commons.dbcp2.PoolableConnectionFactory.validateLifetime(PoolableConnectionFactory.java:424)\n        at org.apache.commons.dbcp2.PoolableConnectionFactory.passivateObject(PoolableConnectionFactory.java:364)\n        at org.apache.commons.pool2.impl.GenericObjectPool.returnObject(GenericObjectPool.java:578)\n        at org.apache.commons.dbcp2.PoolableConnection.close(PoolableConnection.java:206)\n        at org.apache.commons.dbcp2.DelegatingConnection.closeInternal(DelegatingConnection.java:236)\n        at org.apache.commons.dbcp2.DelegatingConnection.close(DelegatingConnection.java:218)\n        at org.apache.commons.dbcp2.PoolingDataSource$PoolGuardConnectionWrapper.close(PoolingDataSource.java:244)\n        at org.apache.jmeter.protocol.jdbc.AbstractJDBCTestElement.close(AbstractJDBCTestElement.java:555)\n        at org.apache.jmeter.protocol.jdbc.sampler.JDBCSampler.sample(JDBCSampler.java:103)\n        at org.apache.jmeter.threads.JMeterThread.executeSamplePackage(JMeterThread.java:446)\n        at org.apache.jmeter.threads.JMeterThread.processSampler(JMeterThread.java:391)\n        at org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:240)\n        at java.lang.Thread.run(Thread.java:745)", "id": 188703, "time": "2016-02-23T11:19:53Z", "creator": "support@ubikloadpack.com", "creation_time": "2016-02-23T11:19:53Z", "is_private": false}, {"count": 1, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "Author: pmouawad\nDate: Tue Feb 23 20:12:26 2016\nNew Revision: 1731938\n\nURL: http://svn.apache.org/viewvc?rev=1731938&view=rev\nLog:\nBug 59051 - JDBC Request : Connection is closed by pool if it exceeds the configured lifetime\nBugzilla Id: 59051\n\nModified:\n    jmeter/trunk/src/protocol/jdbc/org/apache/jmeter/protocol/jdbc/config/DataSourceElement.java\n    jmeter/trunk/xdocs/changes.xml", "id": 188730, "time": "2016-02-23T20:14:59Z", "bug_id": 59051, "creation_time": "2016-02-23T20:14:59Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 59051, "is_private": false, "id": 188780, "creation_time": "2016-02-24T20:08:40Z", "time": "2016-02-24T20:08:40Z", "creator": "p.mouawad@ubik-ingenierie.com", "text": "Author: pmouawad\nDate: Tue Feb 23 12:51:03 2016\nNew Revision: 1731847\n\nURL: http://svn.apache.org/viewvc?rev=1731847&view=rev\nLog:\nBug 58786 - JDBC Sampler : Replace Excalibur DataSource by more up to date library commons-dbcp2\nUpdate documentation and rename properties to match DBCP names (and more recent pools)\nBugzilla Id: 58786\n\nModified:\n    jmeter/trunk/src/protocol/jdbc/org/apache/jmeter/protocol/jdbc/config/DataSourceElementResources.properties\n    jmeter/trunk/xdocs/usermanual/component_reference.xml", "attachment_id": null}]