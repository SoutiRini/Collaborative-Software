[{"count": 0, "tags": [], "bug_id": 52238, "text": "We have installed Tomcat 6.0.26 on a linux server and we have created 2 instances of tomcat on 2 servers.  We also have initialised the CATALINA_PID and thats been stored in a file on /tmp.  We were testing this on server1 which is controlled by a cluster software.\nOn server 1 and 2 normal shut downs and startups are fine .\nBut if we kill a tomcat instance on server1 for failover test , the cleanup script for the cluster which calls the tomcat shutdown.sh gives an exit status of 1.\nSince an exit status of 1 is received the cluster software clean up script fails. \nEvery minute it tries for clean up and it fails due to this and so cannot failover to server2 . I understand that this is a test where the process is killed but would like to know if I could change the exit 1 to exit 0 and what are the implications of this\nThis is on the line in catalina.sh script  where we have the message\nPID file ($CATALINA_PID) found but no matching process was found. Stop aborted.\"\n===========================================================\nif [ ! -z \"$CATALINA_PID\" ]; then\n    if [ -f \"$CATALINA_PID\" ]; then\n      kill -0 `cat $CATALINA_PID` >/dev/null 2>&1\n      if [ $? -eq 1 ]; then\n        echo \"PID file ($CATALINA_PID) found but no matching process was found. Stop aborted.\"\n        exit 1\n      fi\n    else\n      echo \"\\$CATALINA_PID was set ($CATALINA_PID) but the specified file does not exist. Is Tomcat running? Stop aborted.\"\n      exit 1\n    fi\n  fi\n\n\n=======================================================\nInstead of the exit 1 above, can we replace it with rm $PID;exit 0. \nThis condition was not there in 5.x release.", "id": 151763, "time": "2011-11-24T14:04:10Z", "creator": "mmon_s@yahoo.co.uk", "creation_time": "2011-11-24T14:04:10Z", "is_private": false, "attachment_id": null}, {"text": "Bugzilla is not a support forum. Please use the Tomcat users mailing list.", "tags": [], "bug_id": 52238, "is_private": false, "count": 1, "id": 151764, "time": "2011-11-24T14:31:50Z", "creator": "markt@apache.org", "creation_time": "2011-11-24T14:31:50Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "mmon_s@yahoo.co.uk", "attachment_id": null, "is_private": false, "id": 151765, "time": "2011-11-24T15:04:31Z", "bug_id": 52238, "creation_time": "2011-11-24T15:04:31Z", "text": "Thanks Mark. Sorry should I send an email to that group you mentioned.or how do i raise a support call"}, {"count": 3, "tags": [], "bug_id": 52238, "text": "(In reply to comment #2)\n> Sorry should I send an email to that group you mentioned.or how do\n> i raise a support call\n\nLook at the Tomcat home page for mailing lists, and sign up.\n\nhttp://tomcat.apache.org/lists.html#tomcat-users\n\nNote that all Tomcat support is by volunteers, unless you hire someone for it.\n\n - Chuck", "id": 151766, "time": "2011-11-24T15:18:51Z", "creator": "chuck.caldarale@unisys.com", "creation_time": "2011-11-24T15:18:51Z", "is_private": false, "attachment_id": null}]