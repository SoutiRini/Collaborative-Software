[{"count": 0, "tags": [], "bug_id": 56500, "is_private": false, "id": 175101, "attachment_id": null, "creator": "me@ninosego.de", "creation_time": "2014-05-07T23:03:34Z", "time": "2014-05-07T23:03:34Z", "text": "OS: Debian Wheezy x64\nServer version: Apache/2.2.22 (Debian)\n\nHey there, I wanted to create a server default page and found following error.\nAt first, I have configuration files like 00_master.conf, domain1.conf.\n\nIn the 00_master.conf you can find the defined vhost for the admin panel (I'm using an iscp [i-mscp.net]). Here's an example:\n\n<VirtualHost SERVERIP:80>\n    ServerName admin.srv01.example.tld (url to the panel)\n    DocumentRoot /var/www/.../panel/\n    ...\n</VirtualHost>\n\n\nFor the domains I'm using following:\n\n<VirtualHost SERVERIP:80>\n    ServerName domain1.tld\n    ServerAlias www.domain1.tld\n    DocumentRoot /var/www/.../domain1.tld/\n    ...\n</VirtualHost>\n\n\nNo to my problem. As already mentioned I want to add a server default page. So if someone is visiting an url like \"doesnotexists.domain1.tld\" or \"asd.admin.srv01.example.tld\" I want to show a default page with an static html output like \"Site not found\" or something like that.\n\nFor that I added in the 00_master.conf over the first vhost another vhost, which should be used if no ServerName is defined. I tried with a hardcoded ip and it works fine. Here's an example:\n\n<VirtualHost SERVERIP:80>\n    DocumentRoot /var/www/.../default\n    </Directory>\n</VirtualHost>\n\nBut if I use an wildcard like *:80 or _default_:80 the vhost will not be used. I think it's because of a wrong priority of the vhosts.\n\nBest regards,\nNinos"}, {"count": 1, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "text": "This is working as desined -- If there's a wildcard and an exact match IP in the <virtualhost>, the exact match wins and the name-based vhost will be picked from the best IP-based match.", "id": 175257, "time": "2014-05-15T19:08:35Z", "bug_id": 56500, "creation_time": "2014-05-15T19:08:35Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 56500, "text": "I think the design is a little bit wrong or wrong implemented. The vhosts with the wildcard should have a higher priority on a not defined vhost. Here're some examples:\n\nEXAMPLE 1\nVisit:\nDomain: example1.com\nIP: IP1\n\nDefined vhost:\nDomain: example2.com\nIP: IP1\n\nPriority:\nCurrent: IP1:example2.com -> wildcard\nShould be: wildcard -> IP1:example2.com\n\n\nEXAMPLE 2\nVisit:\nDomain: example1.com\nIP: IP1\n\nDefined vhost:\nDomain: example2.com\nIP: IP2\n\nPriority:\nCurrent: wildcard -> IP2:example2.com\nShould be: wildcard -> IP2:example2.com\n\n\nEXAMPLE 3\nVisit:\nDomain: example1.com\nIP: IP1\n\nDefined vhost:\nDomain: *\nIP: IP1\n\nPriority:\nCurrent: IP1:* -> wildcard\nShould be: IP1:* -> wildcard\n\nWhat I mean is, if all vhosts have a defined ServerName (expect whildcard), the vhosts shouldn't have a higher priority than the wildcard IF the domain can't be matched with a vhost. If someone want's to match all undefined ip-requests to a vhost, he can also use a wildcard for the ServerName. (Servername *,example1.com, *.example1.com).\n\nThis design would be cleaner and more logical.", "id": 175286, "time": "2014-05-16T20:04:29Z", "creator": "me@ninosego.de", "creation_time": "2014-05-16T20:04:29Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 56500, "is_private": false, "text": "Not a bug, this is by design. IP/interface based mapping first, name-based mapping second.  \n\nIf you just want name-based, you have to limit yourself to all *:port.  Otherwise, ip-based discrimination happens first.", "id": 175290, "time": "2014-05-16T21:43:25Z", "creator": "covener@gmail.com", "creation_time": "2014-05-16T21:43:25Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 56500, "text": "I understand the current mapping and also know now, that's not a bug. In my second comment I asked for a little modified design, because for me my example seems more logical. :)", "id": 175292, "time": "2014-05-16T22:34:45Z", "creator": "me@ninosego.de", "creation_time": "2014-05-16T22:34:45Z", "is_private": false, "attachment_id": null}, {"id": 175293, "tags": [], "bug_id": 56500, "is_private": false, "count": 5, "text": "(In reply to Ninos from comment #4)\n> I understand the current mapping and also know now, that's not a bug.\n\nReclassifying as an enhancement. I don't think it's well defined here thouh.", "time": "2014-05-16T23:12:51Z", "creator": "covener@gmail.com", "creation_time": "2014-05-16T23:12:51Z", "attachment_id": null}]