[{"attachment_id": 25234, "tags": [], "bug_id": 49052, "is_private": false, "count": 0, "id": 135900, "time": "2010-04-06T10:29:24Z", "creator": "peterhull90@gmail.com", "creation_time": "2010-04-06T10:29:24Z", "text": "Created attachment 25234\nzip containing 'good' and 'bad' svg files and pngs at 100 and 200dpi\n\nIf an SVG file contains a width/height in 'real' units but no viewBox attribute on the svg tag, and the image contains graphics in pixel units, the rasterizer works ok if the -dpi command line parameter is 100 but not otherwise when converting to raster formats. If, for example, the dpi is set to 200 the image is physically twice the size but the graphic is not, it stays in the top left hand corner. \n\nRasterizer must be using an implicit DPI of 100 to draw the graphic so it probably should generate an implicit viewBox based on the width/height. As far as I can see the viewBox is not required by SVG and the observed behaviour is not in the SVG spec, apologies if I have missed it.\n\nThis file is affected\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<svg xmlns=\"http://www.w3.org/2000/svg\"   height=\"10cm\"   version=\"1.1\" width=\"10cm\">\n  <rect height=\"350\" fill=\"#d8d8d8\" stroke=\"black\" width=\"350\" x=\"25\" y=\"25\"/>\n</svg>\nWith an added viewBox it works correctly\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<svg xmlns=\"http://www.w3.org/2000/svg\"   height=\"10cm\"   version=\"1.1\" width=\"10cm\" viewBox=\"0 0 394 394\">\n  <rect height=\"350\" fill=\"#d8d8d8\" stroke=\"black\" width=\"350\" x=\"25\" y=\"25\"/>\n</svg>"}, {"count": 1, "tags": [], "bug_id": 49052, "attachment_id": null, "is_private": false, "id": 135901, "time": "2010-04-06T10:49:10Z", "creator": "deweese@apache.org", "creation_time": "2010-04-06T10:49:10Z", "text": "It sounds like the '-dpi' switch is working fine.\n\nThe 'dpi' switch changes the mapping from realworld units to userspace\nunits.  Not the other way around.  So without the viewBox attribute you are changing the effective width and height of the SVG in userspace but\nyour document uses the same portion of the userspace."}]