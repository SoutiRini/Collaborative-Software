[{"count": 0, "tags": [], "text": "The zip-task doesn't zip the empty directories since 1.6.2\n\n\nExample:\n\t<target name=\"zipIt\">\n\t\t<property name=\"destZipDir\" location=\"../\" />\n\t\t<echo message=\"Zip\" />\n\t\t<tstamp />\n\t\t<zip destfile=\"${destZipDir}/update-${DSTAMP}.zip\" basedir=\".\" update=\"true\"/>\n\t</target>\n\n\nThe task works correctly with 1.6.1", "is_private": false, "id": 61230, "creator": "thomas.ploch@ttc-informatik.de", "time": "2004-07-28T14:32:02Z", "bug_id": 30365, "creation_time": "2004-07-28T14:32:02Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 30365, "text": "It looks like the problem was introduced in the revision 1.126 of Zip.java\n\nhttp://cvs.apache.org/viewcvs.cgi/ant/src/main/org/apache/tools/ant/taskdefs/Zip.java\nRevision 1.126 - (view) (download) (annotate) - [select for diffs]\nMon Jun 7 12:26:03 2004 UTC (2 months, 2 weeks ago) by bodewig\nBranch: MAIN\nChanges since 1.125: +10 -0 lines\nDiff to previous 1.125 (colored) , to selected 1.116.2.5 (colored)\n\nprevent empty archive in zip if whenempty is set to skip, PR: 22865\n", "id": 62460, "time": "2004-08-25T13:31:17Z", "creator": "antoine@apache.org", "creation_time": "2004-08-25T13:31:17Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 30365, "is_private": false, "id": 62476, "attachment_id": null, "creator": "antoine@apache.org", "creation_time": "2004-08-25T15:02:11Z", "time": "2004-08-25T15:02:11Z", "text": "The problem was already fixed by Matt Benson in CVS HEAD, anyway after the\nrelease of ANT_162.\nI have added one testcase and merged the change of Matt into the ANT_16 branch."}, {"count": 3, "tags": [], "bug_id": 30365, "is_private": false, "id": 62481, "attachment_id": null, "creator": "mbenson@apache.org", "creation_time": "2004-08-25T16:29:12Z", "time": "2004-08-25T16:29:12Z", "text": "Funny.  When I was fixing the <classfileset> + <jar> issue I happened to notice \nthose always-zero subscripts, so I fixed them without actually knowing what the \nresult would be ;)"}, {"count": 4, "tags": [], "bug_id": 30365, "attachment_id": null, "text": "*** Bug 31730 has been marked as a duplicate of this bug. ***", "id": 65190, "time": "2004-10-15T15:22:16Z", "creator": "peterreilly@apache.org", "creation_time": "2004-10-15T15:22:16Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 30365, "attachment_id": null, "text": "Changed name to include the derived tasks.", "id": 65879, "time": "2004-10-28T08:16:35Z", "creator": "peterreilly@apache.org", "creation_time": "2004-10-28T08:16:35Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 30365, "text": "*** Bug 31925 has been marked as a duplicate of this bug. ***", "id": 65881, "attachment_id": null, "creator": "peterreilly@apache.org", "creation_time": "2004-10-28T08:18:14Z", "time": "2004-10-28T08:18:14Z", "is_private": false}, {"count": 7, "tags": [], "creator": "mstralka@gmail.com", "attachment_id": null, "id": 95107, "time": "2006-10-26T05:33:27Z", "bug_id": 30365, "creation_time": "2006-10-26T05:33:27Z", "is_private": false, "text": "This appears to be an issue in Ant 1.6.5 now too.  I cannot get the <zip> task\nto include empty directories.\n\nI'm trying to zip this folder structure:\n\n-testsiteContent/\n--assets/ (empty)\n--images/ (empty)\n--javascript/\n---util.js\n\nWhen testsiteContent/ is zipped, it only includes:\n--javascript/\n---util.js\n\nI'm using the <zip> task like this:\n<zip destfile=\"${hp2.content.dir}/${new.site.name}Content.zip\"\nbasedir=\"${hp2.content.dir}\" includes=\"${new.site.name}Content/**\"/>"}, {"count": 8, "tags": [], "bug_id": 30365, "attachment_id": null, "text": "Works for me with Ant 1.6.5 and 1.7.\n\nI created a test\n\n  +\n  |build.xml\n  +--dir1\n      +--dir2\n\nThe buildfile\n\n  <project default=\"zip\">\n      <target name=\"zip\">\n          <zip destfile=\"a.zip\" basedir=\".\" excludes=\"*.zip\"/>\n      </target>\n  </project>\n\nIn WinZip you dont see the empty dirs dir1+dir2, but when extracting with WinZip\nthey are created.\n\n\nHow do you check, that <zip> should not create the empty dirs?", "id": 95108, "time": "2006-10-26T05:42:42Z", "creator": "jan@materne.de", "creation_time": "2006-10-26T05:42:42Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 30365, "text": "I stand corrected - I had only looked at it in Winzip and had not unzipped the\nfile.  I apologize", "id": 95109, "attachment_id": null, "creator": "mstralka@gmail.com", "creation_time": "2006-10-26T05:48:53Z", "time": "2006-10-26T05:48:53Z", "is_private": false}]