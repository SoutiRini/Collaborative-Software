[{"attachment_id": null, "tags": [], "creator": "jimes@hiwaay.net", "is_private": false, "count": 0, "id": 9767, "time": "2002-01-21T11:39:09Z", "bug_id": 5947, "creation_time": "2002-01-21T11:39:09Z", "text": "Problem: In the JUnit optional task, the <classpath> nested tag does not have\nthe desired effect for JUnit with fork=\"no\" (the default).  Instead of coming\nfrom the tag, JUnit's classpath comes from the $CLASSPATH system environment\nvariable.\n\nWorkaround: use the fork=\"yes\" option or set the $CLASSPATH environment\nvariable.\n\nAnother user report follows, detailing the same problem and another workaround.\n(He and I are using the same versions of software, but I'm running on Solaris.)\n\n--\n\nFrom: opensourcetim@yahoo.com (Tim Rapp)\nNewsgroups: comp.lang.java\nSubject: Re: JUnit 3.7 with Ant 1.4 Property definitions - doesn't work\nDate: 26 Oct 2001 12:23:25 -0700\nOrganization: http://groups.google.com/\nLines: 33\nMessage-ID: <b66a2a66.0110261123.3af8849f@posting.google.com>\nReferences: <170adb52.0110170416.231a2c50@posting.google.com>\nNNTP-Posting-Host: 208.243.87.205\nContent-Type: text/plain; charset=ISO-8859-1\nContent-Transfer-Encoding: 8bit\nX-Trace: posting.google.com 1004124205 15024 127.0.0.1 (26 Oct 2001 19:23:25\nGMT)\nX-Complaints-To: groups-abuse@google.com\nNNTP-Posting-Date: 26 Oct 2001 19:23:25 GMT\n\n\nchristopher.ross@fmr.com (christopher) wrote in message\nnews:<170adb52.0110170416.231a2c50@posting.google.com>...\n> My Ant JUnits always fail with an Ant Property defined CLASSPATH.\n>\n> The error is 'cannot find the optional.jar' - \n> which is on the Property defined CLASSPATH.  These\n> same Property definitions converted to env vars work great!  I have\n> also tried some <systemproperty> and <classpath> overrides in the\n> JUnit task itself to no avail.\n\nThanks Christopher, I had the same problem.  To fix, I added\n\"set CLASSPATH=C:\\myproject\\lib\\junit.jar\" to my NT script that calls Ant.  \nI still have a <classpath> tag in my <junit> task.  Excerpts from my\nbuild.xml file (unnecessary details replaced with ...) are below:\n\n<path id=\"test.classpath\" >\n        <pathelement location=\"${lib}/junit.jar\" />\n        <pathelement location=\"${lib}/httpunit.jar\" />\n        <pathelement location=\"${lib}/parser.jar\" />\n        <pathelement location=\"${classes}\" />\n        <path refid=\"tomcat.classpath\" />\n        <path refid=\"mysql.classpath\" />\n</path>\n...\n<junit ... >\n        <classpath>\n                <path refid=\"test.classpath\" />\n        </classpath>\n        ...\n</junit>\n\nSeems like this should be added to the Ant documentation for the \n<junit> task.  FYI, I'm running Ant 1.4.1, JUnit 3.7, Win2k Pro, \nand JDK 1.3.1."}, {"count": 1, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of 6606 ***", "is_private": false, "id": 11002, "creator": "bodewig@apache.org", "time": "2002-02-21T10:13:12Z", "bug_id": 5947, "creation_time": "2002-02-21T10:13:12Z", "attachment_id": null}]