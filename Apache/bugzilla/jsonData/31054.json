[{"count": 0, "tags": [], "creator": "todd.trimmer@trizetto.com", "text": "In a JSP if I enter:\n\n    <c:out value=\"${param[&quot;action&quot;]}\" />\n\nThe EL parser will complain about the first '&'. But why is the '&' even getting\nthat far? Why aren't the character entities in the XML attribute resolved before\ngetting passed into the tag handler?", "id": 63061, "time": "2004-09-03T18:30:00Z", "bug_id": 31054, "creation_time": "2004-09-03T18:30:00Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 31054, "attachment_id": null, "id": 65290, "creation_time": "2004-10-18T22:17:23Z", "time": "2004-10-18T22:17:23Z", "creator": "justyna.horwat@sun.com", "text": "With JSP 2.0 the parser for JSP will consider the escaping rules for this attribute according to section 1.6 \nof the JSP 2.0 spec. There it lists \"&quot;\" as a valid way to escape a quotation mark.\n\nBy the way, the escaping is not in the domain of the EL Evaluator since the escaping rules should have \nalready been applied by the JSP parser before the expression evaluation begins.\n\nI wrote a jsp to verify that the escaping rules are followed correctly on a JSP 2.0 container. I used \nTomcat 5.0.25:\n\n----\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n\n<c:set var=\"singleTick\"><c:out value=\"${param['singleTick']}\" default=\"\\'\"/></c:set>\n<c:set var=\"doubleTick\"><c:out value=\"${param[\\\"doubleTick\\\"]}\" default=\"\\\"\"/></c:set>\n<c:set var=\"xmlEntity\"><c:out value=\"${param[&quot;xmlEntity&quot;]}\" default=\"&quot;\"/></c:set>\n\n\n<h1>Testing different ways to nest quotes</h1>\n<ul>\n  <li>Single tick quotation mark: <c:out value=\"${singleTick}\" escapeXml=\"false\"/></li>\n  <li>Double tick quotation mark: <c:out value=\"${doubleTick}\" escapeXml=\"false\"/></li>\n  <li>Xml '&quot;' entity: <c:out value=\"${xmlEntity}\" escapeXml=\"false\"/></li>\n</ul>\n----\n\nThe result of running this page should be:\n----\nSingle tick quotation mark: '\nDouble tick quotation mark: \"\nXml '\"' entity: \"\n----\n\nIf you are using a JSP 1.2 container with JSTL 1.0, I don't think that \"&quot;\" was a valid way to escape a \nquotation. You can easily work around this by either using the single tick character: ', or escaping the \ndouble tick character: \\\".\n", "is_private": false}]