[{"count": 0, "tags": [], "creator": "julien.ayme@gmail.com", "attachment_id": 25557, "text": "Created attachment 25557\nThe proposed patch\n\nPropertyUtil references a non-existent resource bundle: \"org.apache.xmlgraphics.image.codec.resources.Messages\".\n\nThe PropertyUtil class is used to generated localized message for the exception thrown in image.codec subpackages, and since the resource is not supplied, the generated exceptions messages are all useless (e.g. \"PNGEncodeParam0\").\n\nI propose to change the pattern of the message key, instead of using \"classname + number\", by using a \"real\" meaningful message, like \"invalid value supplied\".\n\nI will attach shortly:\n- A patch to PropertyUtil to be able to give arguments to the messages,\n- an enhancement of the messages for some classes in image.codec,\n- a resource bundle (for Locale \"en\" and \"fr\")", "id": 137471, "time": "2010-06-09T05:55:23Z", "bug_id": 49412, "creation_time": "2010-06-09T05:55:23Z", "is_private": false}, {"count": 1, "tags": [], "creator": "julien.ayme@gmail.com", "text": "Note that the issue 47175 is similar to this issue; but this one propose a better approach for solving the problem encountered.", "id": 137472, "time": "2010-06-09T05:57:15Z", "bug_id": 49412, "creation_time": "2010-06-09T05:57:15Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "julien.ayme@gmail.com", "text": "Created attachment 25558\nResource bundle for English locale", "id": 137473, "time": "2010-06-09T05:58:58Z", "bug_id": 49412, "creation_time": "2010-06-09T05:58:58Z", "is_private": false, "attachment_id": 25558}, {"count": 3, "tags": [], "creator": "julien.ayme@gmail.com", "attachment_id": 25559, "text": "Created attachment 25559\nResource bundle for French locale", "id": 137474, "time": "2010-06-09T05:59:22Z", "bug_id": 49412, "creation_time": "2010-06-09T05:59:22Z", "is_private": false}, {"count": 4, "attachment_id": 25560, "bug_id": 49412, "is_private": false, "id": 137475, "time": "2010-06-09T06:01:18Z", "creator": "julien.ayme@gmail.com", "creation_time": "2010-06-09T06:01:18Z", "tags": [], "text": "Created attachment 25560\nPatch for PNGDecodeParam class\n\nAdding path for PNGDecodeParam class using the new bundle.\nIt produces more explicit/understandable messages in the exceptions thrown."}, {"count": 5, "tags": [], "bug_id": 49412, "attachment_id": 25561, "id": 137476, "time": "2010-06-09T06:03:06Z", "creator": "julien.ayme@gmail.com", "creation_time": "2010-06-09T06:03:06Z", "is_private": false, "text": "Created attachment 25561\nPatch for PNGEncodeParam class\n\nAdding path for PNGEncodeParam class using the new bundle.\nIt produces more explicit/understandable messages in the exceptions thrown."}, {"count": 6, "tags": [], "creator": "julien.ayme@gmail.com", "attachment_id": null, "is_private": false, "id": 137477, "time": "2010-06-09T06:06:49Z", "bug_id": 49412, "creation_time": "2010-06-09T06:06:49Z", "text": "I intend to continue for other classes in the image.codec package,\nso I would like to have some comments/feedback on the method I used to add localization for the codec package before changing the whole classes.\n\nAny thoughts?\nJulien"}, {"count": 7, "tags": [], "creator": "jeremias@apache.org", "text": "Julien, thanks for looking into this. I've been wanting to do this for a long time, and with your ticket I actually had to. Turns out, the original message resources got lost along the way at some point and they didn't make the transition from Batik to XGC.\n\nApparently, the mistake happened here:\nhttp://svn.apache.org/viewvc/xmlgraphics/batik/trunk/resources/org/apache/batik/ext/awt/image/codec/properties?r1=378233&r2=378232&pathrev=378233\n\nIn that light, your effort to start translating the messages is great but unnecessary, except if you want to refine the whole thing. The exception handling in these classes is certainly not a role model, for example. I'm closing this issue. Please re-open if you think it's not good enough and want to refine.\n\nMessages restored:\nhttp://svn.apache.org/viewvc?rev=954256&view=rev", "id": 137599, "time": "2010-06-13T12:37:13Z", "bug_id": 49412, "creation_time": "2010-06-13T12:37:13Z", "is_private": false, "attachment_id": null}]