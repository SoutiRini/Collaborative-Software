[{"count": 0, "tags": [], "text": "I am consistently getting the EmptyStackException when attempting to precompile \na basic JSP file via an invocation of JspC in the ANT scriptlet that follows:\n\n_____| Environment |____\n+ Win 2000\n+ JDK 1.3.1 01\n+ j2sdkee 1.3\n+ ANT 1.4.1 (final)\n+ TOMCAT 4.0.1 (final)\n\n_____| ANT Code |______\n<java classname=\"org.apache.jasper.JspC\">\n  <arg line=\"-webapp ${jsp}\"/>\n  <classpath>\n   <pathelement \npath=\"${global_j2ee_home}/lib/j2ee.jar;${global_tomcat_home}/bin/jasper-\ncompiler.jar;${temp_lib}\"/>\n   </classpath>\n</java>\n\n\n____| Stack |_____\n2001-12-03 05:13:05 - ERROR-the file '\\test.jsp' generated the following general\n exception: java.util.EmptyStackException\n     [java] java.util.EmptyStackException\n     [java]     at java.util.Stack.peek(Stack.java:82)\n     [java]     at org.apache.jasper.compiler.ParserController.resolveFileName(P\narserController.java:419)\n     [java]     at org.apache.jasper.compiler.ParserController.parse(ParserContr\noller.java:187)\n     [java]     at org.apache.jasper.compiler.Compiler.compile(Compiler.java:210\n)\n     [java]     at org.apache.jasper.JspC.parseFile(JspC.java:385)\n     [java]     at org.apache.jasper.JspC.parseFiles(JspC.java:651)\n     [java]     at org.apache.jasper.JspC.main(JspC.java:699)\n     [java]     at java.lang.reflect.Method.invoke(Native Method)\n     [java]     at org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava\n.java:124)\n     [java]     at org.apache.tools.ant.taskdefs.Java.run(Java.java:305)\n     [java]     at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:127)\n\n     [java]     at org.apache.tools.ant.taskdefs.Java.execute(Java.java:88)\n     [java]     at org.apache.tools.ant.Task.perform(Task.java:217)\n     [java]     at org.apache.tools.ant.Target.execute(Target.java:184)\n     [java]     at org.apache.tools.ant.Target.performTasks(Target.java:202)\n     [java]     at org.apache.tools.ant.Project.executeTarget(Project.java:601)\n     [java]     at org.apache.tools.ant.Project.executeTargets(Project.java:560)\n\n     [java]     at org.apache.tools.ant.Main.runBuild(Main.java:454)\n     [java]     at org.apache.tools.ant.Main.start(Main.java:153)\n     [java]     at org.apache.tools.ant.Main.main(Main.java:176)", "attachment_id": null, "bug_id": 5254, "id": 8549, "time": "2001-12-03T15:22:10Z", "creator": "jason.block@gvsi.com", "creation_time": "2001-12-03T15:22:10Z", "is_private": false}, {"count": 1, "tags": [], "text": "If you want to invoke org.apache.jasper.JspC, directly, make sure that you set\nup the classpath correctly (like that in jasper.sh).  Including j2ee.jar is\ntrouble, since you may pick up incompatible classes.", "attachment_id": null, "bug_id": 5254, "id": 8841, "time": "2001-12-12T11:15:02Z", "creator": "kin-man.chung@sun.com", "creation_time": "2001-12-12T11:15:02Z", "is_private": false}]