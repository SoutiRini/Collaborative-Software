[{"count": 0, "tags": [], "bug_id": 47016, "attachment_id": 23481, "is_private": false, "id": 126192, "time": "2009-04-12T07:54:42Z", "creator": "amir@thegur.net", "creation_time": "2009-04-12T07:54:42Z", "text": "Created attachment 23481\ntest plan that demonstrates the bug\n\nAdd a BSF Sampler to a Thread Group.\nSet the scripting language to javascript.\nIn the 'script to run' field just put:\n\nreturn (\"test\");\n\nand run the test.\n\nIn a results tree, in the 'sampler results' tab, you can see now:\n\nError Count: 1\nResponse code: 500\nResponse message: org.apache.bsf.BSFException: JavaScript Error: invalid return"}, {"count": 1, "tags": [], "text": "This is not a JMeter error. The script is not valid, as shown by the message:\n\nJavaScript Error: invalid return\n\nTry leaving off the return.", "is_private": false, "id": 126193, "creator": "sebb@apache.org", "time": "2009-04-12T08:03:00Z", "bug_id": 47016, "creation_time": "2009-04-12T08:03:00Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "amir@thegur.net", "text": "The JMeter documentation for BSF Sampler (18.1.11) states that:\n\n\"The SampleResult ResponseData is set from the return value of the script\".\n\n\nThe statement 'return (\"test\");' is a legal javascript code.\n\nThe same test works fine if I change the scripting language to beanshell.", "id": 126194, "time": "2009-04-12T08:13:12Z", "bug_id": 47016, "creation_time": "2009-04-12T08:13:12Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "amir@thegur.net", "text": "As a workaround, you can use:\n\n(function(){\n   return (\"test\");\n})();\n\n\ninstead of just \n\nreturn (\"test\");", "id": 126196, "time": "2009-04-12T09:02:06Z", "bug_id": 47016, "creation_time": "2009-04-12T09:02:06Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 47016, "attachment_id": null, "id": 126203, "time": "2009-04-13T16:56:54Z", "creator": "sebb@apache.org", "creation_time": "2009-04-13T16:56:54Z", "is_private": false, "text": "\"return\" is only valid when used in a function - that is why the error is reported.\n\nTry the following script:\n\n123+456\n\nand you will see that the result is 579.\n\nLikewise, try the following script (as already suggested):\n\n\"test\"\n\nand you will see that the value test is returned."}]