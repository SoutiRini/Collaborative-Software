[{"count": 0, "tags": [], "bug_id": 29087, "is_private": false, "text": "If I declare a variable somehow in a tag file, it cannot be accessed from a fragment passed into the tag \nfile.\n\nFor example, consider this tag file, test.tagx:\n\n<jsp:root version=\"2.0\" xmlns:jsp=\"http://java.sun.com/JSP/Page\">\n  <jsp:directive.attribute name=\"item\"/>\n  <jsp:doBody/>\n</jsp:root>\n\nAnd invoke it so:\n\n<tt:test item=\"some string\">Have item: ${empty item}</tt:test>\n\nI would expect to get \"Have item: false\" output, but instead I get \"Have item: true\" because the attribute \n\"item\" is not visible to the tag body.", "id": 57648, "time": "2004-05-19T13:41:44Z", "creator": "mike@vee.net", "creation_time": "2004-05-19T13:41:44Z", "attachment_id": null}, {"text": "Not a bug.\n\nSee JSP.5.12.3 (\"Providing a Fragment Access to Variables\"):\n\n  Tag files have access to a local page scope, separate from the page\n  scope of the calling page. When a tag file invokes a fragment that\n  appears in the calling page, the JSP container provides a way to\n  synchronize variables between the local page scope in the tag file and\n  the page scope of the calling page. For each variable that is to be\n  synchronized, the tag file author must declare the variable with a\n  scope of either AT_BEGIN or NESTED.\n\nIn order for your scenario to work, you need to make the following\nmodifications:\n\ntest.jsp:\n\n  <%@ taglib prefix=\"tt\" tagdir=\"/WEB-INF/tags\" %>\n  <tt:test item=\"some string\">Have item: ${empty xxx}</tt:test>\n\ntest.tagx:\n\n  <jsp:root version=\"2.0\" xmlns:jsp=\"http://java.sun.com/JSP/Page\"\n                          xmlns:c=\"http://java.sun.com/jsp/jstl/core\" >\n\n    <jsp:directive.attribute name=\"item\"/>\n    <jsp:directive.variable name-given=\"xxx\" scope=\"NESTED\"/>\n\n    <c:set var=\"xxx\" value=\"${item}\"/>\n\n    <jsp:doBody/>\n\n  </jsp:root>\n", "tags": [], "bug_id": 29087, "is_private": false, "count": 1, "id": 57660, "time": "2004-05-19T18:17:41Z", "creator": "jan.luehe@sun.com", "creation_time": "2004-05-19T18:17:41Z", "attachment_id": null}]