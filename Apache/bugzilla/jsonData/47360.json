[{"count": 0, "attachment_id": null, "bug_id": 47360, "text": "Hi,\n\nWe are hosting two applications from a single server. Database server is beyond a firewall. \n\nThere are two (virtual) hosts, both connecting to the same database.\nOne URL (first page of the host) , has a select query. Other URL\nhas a login page which calls validation page.\n\nAfter a few hours, first URL (the first server) works fine whereas\nthe second URL gives problem on validation page saying\n\"could not connect to Oracle\".\n\nWould appreciate help.\n\nDB pooling context parameters is given below.\n\n---------------\n\n\n\t\t<DefaultContext path=\"\" docBase=\"ROOT\"\n        debug=\"5\" reloadable=\"true\" crossContext=\"true\"> \n\n\t\t\t<Resource\n\t\t\t\tname=\"jdbc/xyzdb\"\n\t\t\t\tauth=\"Container\"\n\t\t\t\ttype=\"javax.sql.DataSource\"/>\n\t\t\t<ResourceParams name=\"jdbc/xyzdb\">\n\t\t\t\t<parameter>\n\t\t\t\t\t<name>factory</name>\n\t\t\t\t\t<value>org.apache.commons.dbcp.BasicDataSourceFactory</value>\n\t\t\t\t</parameter>\n\t\t\t\t<parameter>\n\t\t\t\t\t<name>driverClassName</name>\n\t\t\t\t\t<value>sun.jdbc.odbc.JdbcOdbcDriver</value>\n\t\t\t\t</parameter>\n\t\t\t\t<parameter>\n\t\t\t\t\t<name>url</name>\n\t\t\t\t\t<value>jdbc:odbc:xyzdb</value>\n\t\t\t\t</parameter>\n\t\t\t\t<parameter>\n\t\t\t\t\t<name>username</name>\n\t\t\t\t\t<value>xyz</value>\n\t\t\t\t</parameter>\n\t\t\t\t<parameter>\n\t\t\t\t\t<name>password</name>\n\t\t\t\t\t<value>xyz</value>\n\t\t\t\t</parameter>\n\t\t\t\t<parameter>\n\t\t\t\t\t<name>maxActive</name>\n\t\t\t\t\t<value>200</value>\n\t\t\t\t</parameter>\n\t\t\t\t<parameter>\n\t\t\t\t\t<name>maxIdle</name>\n\t\t\t\t\t<value>10</value>\n\t\t\t\t</parameter>\n\t\t\t\t<parameter>\n\t\t\t\t\t<name>maxWait</name>\n\t\t\t\t\t<value>20</value>\n\t\t\t\t</parameter>\n\t\t\t\t<parameter>\n\t\t\t\t\t<name>removeAbandoned</name>\n\t\t\t\t\t<value>false</value>\n\t\t\t\t</parameter>\n\t\t\t\t<parameter>\n\t\t\t\t\t<name>removeAbandonedTimeout</name>\n\t\t\t\t\t<value>300</value>\n\t\t\t\t</parameter>\n\t\t\t\t<parameter>\n\t\t\t\t\t<name>logAbandoned</name>\n\t\t\t\t\t<value>true</value>\n\t\t\t\t</parameter>\n\t\t\t\t<parameter>\n\t\t\t\t\t<name>validationQuery</name>\n\t\t\t\t\t<value>select 1 from dual</value>\n\t\t\t\t</parameter>\n\t\t\t</ResourceParams>\n\t\t</DefaultContext>\n----------------\n\ntks", "id": 127909, "time": "2009-06-12T03:56:46Z", "creator": "nb4obelix@gmail.com", "creation_time": "2009-06-12T03:56:46Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 47360, "attachment_id": null, "text": "This parameter has been put later and trial going on.\n\n------------\n\n               <parameter>\n                    <name>validationQuery</name>\n                    <value>select 1 from dual</value>\n                </parameter>\n--------------", "id": 127910, "time": "2009-06-12T03:58:55Z", "creator": "nb4obelix@gmail.com", "creation_time": "2009-06-12T03:58:55Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 47360, "text": "Bugzilla is not a support forum. Please use the users list.", "id": 127911, "time": "2009-06-12T04:14:34Z", "creator": "markt@apache.org", "creation_time": "2009-06-12T04:14:34Z", "tags": [], "is_private": false}]