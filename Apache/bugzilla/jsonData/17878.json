[{"count": 0, "tags": [], "creator": "jakarta@trollingers.com", "attachment_id": null, "id": 32954, "time": "2003-03-11T14:36:24Z", "bug_id": 17878, "creation_time": "2003-03-11T14:36:24Z", "is_private": false, "text": "JSPC is creating .java files with package names based on directory structure, \nbut when I go to a jsp page via my web app it still wants the package to be \norg.apache.jsp so I get an error will all jsp pages.  If I set the package to \nbe \"org.apache.jsp\" in jspc then it just prepends that to the rest of the \npackage name so\n\n/test/test.jsp becomes org.apache.jsp.test.test_jsp.java\n\nis there a way around this without mapping all my jsp pages in the web.xml"}, {"count": 1, "attachment_id": 5262, "creator": "jakarta@trollingers.com", "is_private": false, "id": 32958, "time": "2003-03-11T15:03:13Z", "bug_id": 17878, "creation_time": "2003-03-11T15:03:13Z", "tags": [], "text": "Created attachment 5262\nant script to show problem"}, {"count": 2, "tags": [], "text": "\nIf you run the following ant script in your examples webapp directory, then try \nto go to any example jsp page you get the following error\n\njavax.servlet.ServletException: org/apache/jsp/numguess_jsp (wrong name: \njsp/num/numguess_jsp)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:249)\n", "attachment_id": null, "bug_id": 17878, "id": 32959, "time": "2003-03-11T15:04:13Z", "creator": "jakarta@trollingers.com", "creation_time": "2003-03-11T15:04:13Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 17878, "attachment_id": null, "is_private": false, "id": 32960, "time": "2003-03-11T15:04:58Z", "creator": "remm@apache.org", "creation_time": "2003-03-11T15:04:58Z", "text": "John, I always find your bug reports frustrating. Please use the Ant build\nscrtipt included in the documentation, and add the mappings. The behavior you\nreport is completely normal.\nPlease do not reopen this."}, {"count": 4, "tags": [], "text": "\nSorry Remy I read the release notes and they said nothing about changes to the \nway JSPC functions.  So now the only way you can use JspC is by mapping all the \njsp pages.  This seems like a poor solution if you have 1000+ jsp pages as your \nweb.xml seems to become unmanagable.", "is_private": false, "bug_id": 17878, "id": 32961, "time": "2003-03-11T15:17:16Z", "creator": "jakarta@trollingers.com", "creation_time": "2003-03-11T15:17:16Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 32964, "time": "2003-03-11T15:22:29Z", "bug_id": 17878, "creation_time": "2003-03-11T15:22:29Z", "is_private": false, "text": "I don't agree. The changlog and the announcement explicitely mention JSPC\nchanges. The big change is that the files are packaged properly now. The wb.xml\ngeneration is automatic, and can be inserted easily into the XML by Ant.\nPlease read the documentation."}, {"text": "This is all the release notes say about JspC\n\n[4.1.22] JspC:\n         Add package name mangling for Java keywords.\n\n[4.1.22] JspC:\n         Add documentation.\n\nnow the change log and javadocs do have more but the release notes should point \nout a change in functionality. \n\nMy problem with this implementation of jspc is now jspc does not generate jsp \npages in the same manner as going to a web page and clicking on the jsp.  \n(which is why the mappings are now needed)\n\nIf JspC is supposed to be a precompiler for jsp pages I would expect it to work \nin the same manner that going to the web page would work.\n\nbut if this is the way the communtity wants it to work that is fine.. the \nbeauty of opensouce is I can change some code to work the way I want.\n\n", "tags": [], "bug_id": 17878, "attachment_id": null, "count": 6, "id": 32967, "time": "2003-03-11T15:30:02Z", "creator": "jakarta@trollingers.com", "creation_time": "2003-03-11T15:30:02Z", "is_private": false}, {"count": 7, "attachment_id": null, "creator": "remm@apache.org", "is_private": false, "id": 32973, "time": "2003-03-11T17:36:19Z", "bug_id": 17878, "creation_time": "2003-03-11T17:36:19Z", "tags": [], "text": "Yes, the dev community wanted to have JSPC being modified that way. As for\nprecompiling to the webapp work dir, I was explained that it wasn't supposed to\nwork that way."}, {"id": 32979, "tags": [], "bug_id": 17878, "is_private": false, "count": 8, "text": "Well the way it is now it seems to be more of a servlet generator than a JSP \nprecompiler as the results of the precompile can only be executed as servlets \nmapped the the correct url.", "time": "2003-03-11T18:00:57Z", "creator": "jakarta@trollingers.com", "creation_time": "2003-03-11T18:00:57Z", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 17878, "attachment_id": null, "id": 32981, "time": "2003-03-11T18:47:53Z", "creator": "jessh@ptc.com", "creation_time": "2003-03-11T18:47:53Z", "is_private": false, "text": "It would certainly seem that there is a need for a pre-compilation capability\nwhich is consistent with the effects of clients requesting the same pages.\n\nTo some degree, if both pre-compilation and visiting both work the same way from\na web.xml (i.e. nothing additional required here) and client perspective, great.\n That's the most critical aspect.  If this is not the case, then this would seem\nlike a regression.\n\nOn the other hand, having different results leads to a doubling of test cases,\netc, and seems like a bad thing in the long term.  For a given site, I would\nthink that you'd want to configure both \"on demand\" and \"pre\" compilation to\nproduce the same results."}, {"count": 10, "tags": [], "bug_id": 17878, "attachment_id": null, "id": 32986, "time": "2003-03-11T21:22:07Z", "creator": "steve.downey@netfolio.com", "creation_time": "2003-03-11T21:22:07Z", "is_private": false, "text": "JspC a JSP compiler. It is for compiling .jsp files into servlets. If you want \nto precompile, pass the ?jsp_precompile request to tomcat, as per the JSP spec.\n\nHere's a script I use to get all of the jsp precompiled for my app. Jsp pages \nare in the html directory, which is a sibling to the bin directory where this \nscript lives:\n\n#!/bin/bash\n#-------------------------------------------------------------------------\n# precompilejsp; author: Steve Downey \n#\n\nLOG_FILE=`dirname $0`/../logs/precompilejsp.out\n\nnohup find `dirname $0`/../html -name '*jsp'  \\\n -printf \"http://`echo $HOSTNAME`/%P?jsp_precompile\\n\"  \\\n| xargs -n 1 lynx -head -source > $LOG_FILE &\n\n"}, {"count": 11, "tags": [], "creator": "jakarta@trollingers.com", "attachment_id": null, "id": 33028, "time": "2003-03-12T13:38:52Z", "bug_id": 17878, "creation_time": "2003-03-12T13:38:52Z", "is_private": false, "text": "Is there any reason JspC cannot handle both use cases.  I know that the spec \nhas a precompile however this is not very good for building a system as you get \nno errors back on broken precompiles.  I am sure I was not the only person \nusing JspC as a precompiler and it used to do a good job of it."}, {"count": 12, "tags": [], "creator": "cbendell@point2.com", "attachment_id": null, "id": 33033, "time": "2003-03-12T14:00:39Z", "bug_id": 17878, "creation_time": "2003-03-12T14:00:39Z", "is_private": false, "text": "IMHO, it is better to precompile before deploying than for customers to \nexpereience lag whiel the system compiles the page.  For this reason, I \npersonally have reverted back to the 4.1.18 jasper code."}]