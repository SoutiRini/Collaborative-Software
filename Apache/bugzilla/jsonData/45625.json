[{"count": 0, "tags": [], "bug_id": 45625, "text": "Many command line applications (including Ant) require that there be no space between a command line argument type and its value.\n\nFor example:\nant -Dmy.prop=myfile.txt\n\nIf myfile.txt is a <targetfile> then it is not possible to run this command as:\n<apply executable='ant'\n       ...>\n  <fileset refid=\"my.fileset\"/>\n  <arg value=\"-Dmy.prop=\"/>\n  <targetfile/>\n  <arg value=\"-f\"/>\n  <srcfile/>\n  <mapper type=\"glob\" from\"*.xml\" to=\"*.txt\"/>\n</apply>\n\nWill produce calls like\n\nant -Dmy.prop= myfile.txt -f myfile.xml\n\nThere should be a method of specifying that there should be no spaces between an argument and the <targetfile/> or <srcfile/>", "id": 119775, "time": "2008-08-13T05:56:15Z", "creator": "tom.hennen@gmail.com", "creation_time": "2008-08-13T05:56:15Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 45625, "text": "Actually apply doesn't so much produce a space as send the target file as a separate element of the argument array.  What might make sense here is to allow the srcfile and targetfile nested elements to apply mappers to the arguments so that you might, in your case, do:\n\n<apply executable='ant'\n       ...>\n  <fileset refid=\"my.fileset\" />\n  <targetfile>\n    <globmapper from=\"*\" to=\"-Dmy.prop=*\" />\n  </targetfile>\n  <arg value=\"-f\" />\n  <srcfile />\n  <mapper type=\"glob\" from\"*.xml\" to=\"*.txt\" />\n</apply>\n\nWDYT?", "id": 119788, "time": "2008-08-13T07:17:36Z", "creator": "mbenson@apache.org", "creation_time": "2008-08-13T07:17:36Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "tom.hennen@gmail.com", "is_private": false, "id": 119790, "attachment_id": null, "bug_id": 45625, "creation_time": "2008-08-13T07:40:10Z", "time": "2008-08-13T07:40:10Z", "text": "Sounds good to me."}, {"count": 3, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "I cam across this issue when I applied the patch for bug #47365 - and applied a similar idea here.\n\nWhile the mapper approach is more powerful, prefix and suffix are easier to explain (how do the mappers you define at the task level interact with those at the argument level?) and likely are sufficient.\n\nThe original problem becomes\n\n<apply executable='ant'\n       ...>\n  <fileset refid=\"my.fileset\"/>\n  <targetfile prefix=\"-Dmy.prop=\"/>\n  <arg value=\"-f\"/>\n  <srcfile/>\n  <mapper type=\"glob\" from\"*.xml\" to=\"*.txt\"/>\n</apply>\n\nsvn revision 789271", "id": 128376, "time": "2009-06-29T02:41:53Z", "bug_id": 45625, "creation_time": "2009-06-29T02:41:53Z", "is_private": false}]