[{"count": 0, "tags": [], "creator": "bjorn@exoweb.net", "attachment_id": null, "id": 61169, "time": "2004-07-27T05:38:05Z", "bug_id": 30341, "creation_time": "2004-07-27T05:38:05Z", "is_private": false, "text": "We're trying to upgrade to Apache 2.0, but for the longest time this bug has\nprevented us from doing so.\n\nWe've got Apache set up as a cacheing surrogate server (using ProxyPass and disk\ncache) in front of a Zope/Plone site.  We've created a simple script that\noutputs the datetime and sets a \"Cache-Control: no-cache\" header.\n\nAs you can see from the attached traces, unless a \"Pragma: no-cache\" is provided\nin the request, Apache wrongly serves up a cached version of the content.  The\nZope/Plone server is not contacted at all (not even for validation)."}, {"attachment_id": 12232, "tags": [], "bug_id": 30341, "text": "Created attachment 12232\nRequest trace showing \"Cache-Control: no-cache\" is ignored", "count": 1, "id": 61170, "time": "2004-07-27T05:39:22Z", "creator": "bjorn@exoweb.net", "creation_time": "2004-07-27T05:39:22Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 30341, "text": "Created attachment 12233\nRequest trace showing \"Pragma: no-cache\" results in a fresh copy being served", "id": 61171, "time": "2004-07-27T05:40:12Z", "creator": "bjorn@exoweb.net", "creation_time": "2004-07-27T05:40:12Z", "is_private": false, "attachment_id": 12233}, {"attachment_id": null, "tags": [], "bug_id": 30341, "text": "Moreover, the \"Pragma: no-cache\" request fails to update the cache.  New\naccesses will still get the old copy from before the reload.  Assuming our\nscript had incremented a variable and returned it every time we accessed it, the\nresult would be like this:\n\nbefore turning on mod_cache:\n\nrequest #1 (normal) => 1\nrequest #2 (normal) => 2\nrequest #3 (normal) => 3\n\nafter turning on mod_cache:\n\nrequest #4 (normal) => 4\nrequest #5 (normal) => 4\nrequest #6 (normal) => 4\nrequest #7 (reload) => 5\nrequest #8 (normal) => 4\nrequest #9 (reload) => 6\nrequest #10 (normal) => 4\netc...", "count": 3, "id": 61172, "time": "2004-07-27T06:04:05Z", "creator": "bjorn@exoweb.net", "creation_time": "2004-07-27T06:04:05Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 30341, "attachment_id": null, "id": 66900, "time": "2004-11-15T02:50:04Z", "creator": "jerenkrantz@apache.org", "creation_time": "2004-11-15T02:50:04Z", "is_private": false, "text": "This is fixed in httpd 2.0.52.  Please try that version.\n\nThanks!"}]