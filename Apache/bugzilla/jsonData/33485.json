[{"count": 0, "tags": [], "bug_id": 33485, "text": "Calling apr_file_flush on an unbuffered file is a no-op in the Unix and OS/2\nimplementations, however on Windows it is a call to FileFlushBuffers which can\nbe an incredibly expensive call.  I ran into this when the Windows build of\nlog4cxx was 100-fold slower when writing to file than the Linux build.\n\nI've worked around the problem in log4cxx, however this seems like a landmine to\ncatch unsuspecting developers.  \n\nAs it currently stands, apr_file_flush on Win32 leaves the buffered and\nunbuffered files in different states.  If buffered, it flushes the APR\nmaintained buffer but doesn't flush the OS buffer by calling FileFlushBuffers.", "id": 70737, "time": "2005-02-10T09:20:41Z", "creator": "carnold@apache.org", "creation_time": "2005-02-10T09:20:41Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 33485, "attachment_id": null, "id": 85825, "time": "2006-02-15T19:46:11Z", "creator": "wrowe@apache.org", "creation_time": "2006-02-15T19:46:11Z", "is_private": false, "text": "\n  Committed, and backported for the next 0.9 and 1.2 releases."}]