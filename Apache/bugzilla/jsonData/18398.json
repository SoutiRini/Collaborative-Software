[{"count": 0, "tags": [], "creator": "jhuang@idncn.com", "text": "In one of my projects, I compile several components like this:\n(using \"...\" to omit some info)\n<target ...>\n  <ant antfile=\"common.xml\" .../>\n  <parellel>\n    <ant antfile=\"comp1.xml\" .../>\n    <ant antfile=\"comp2.xml\" .../>\n    <ant antfile=\"comp3.xml\" .../>\n  </parellel>\n</target>\n\nThe comp*.xml are independent to each other, but depend on the result of \ncommon.xml.\nIt's ok on Win2K, but sometimes it may make mistake on RedHat7.2.\nThe compile may result different output without any changes.\nIf without <parellel>, it's ok on Win2k & RedHat7.2.\njdk version: sun-jdk1.3.6\n\nThanks.", "id": 33893, "time": "2003-03-27T08:00:32Z", "bug_id": 18398, "creation_time": "2003-03-27T08:00:32Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "text": "If I'm reading this correctly, all spawned Ant builds will use javac tasks, right?\nAnd you are probably using Sun's javac and no external command.\n\nThe problem you see is that Sun's javac is not thread-safe (at least not in \nJDK 1.3) and can produce several bad results.  I used to have a bookmark to\na couple of bugparade entries that showed that, but have lost them.  If you\ngo to the JDC and search for javac and thread, you'll find a lot of problems.\n\nTo solve your problem, you will want to add fork=\"true\" in at least two of your\nthree build files that get called in the parallel task.", "id": 33895, "time": "2003-03-27T08:09:54Z", "bug_id": 18398, "creation_time": "2003-03-27T08:09:54Z", "is_private": false, "attachment_id": null}]