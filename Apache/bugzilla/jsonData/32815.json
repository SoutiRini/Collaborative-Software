[{"count": 0, "tags": [], "creator": "ben_hutchison@yahoo.com", "attachment_id": null, "id": 68886, "time": "2004-12-23T04:15:21Z", "bug_id": 32815, "creation_time": "2004-12-23T04:15:21Z", "is_private": false, "text": "The Ant.java file throws a build exception with a message \"subant task calling \na target that depends on its parent target\" that suggests cicular recursion. \n\nThis occurrs even when circular recursion is not present, because the logic \nthat triggers this check does not scope target names to the defining project. \nIt fires when a task in a different project has the same name. Consider this 2 \nproject example:\n\nProject ModuleA:\n  target build\n    compile\n  target build-dependencies\n    do-nothing\n\nProject ModuleB (depends on ModuleA):\n  target build\n    depends=\"build-dependencies\"\n  target build-dependencies\n    subant ModuleA target=\"build\"\n\nThis case will trigger a complaint that ModuleB.build-dependencies depends on \nits parent (ModuleB.build), which is false; in fact it depends on \nModuleA.build. \n\nThe cause is plain to see in Ant.java - the logic is not handling project \nscopes, and treats targets as if they are guaranteed to be globally unique \nacross super- and sub- projects. \n\nEg use of task names rather than task objects across project boundaries \n(Ant.java; 1.6.2, line 368). This isnt going to yield a system that is robust \nin the face of sub-projects.\n\nif (other != null && other.dependsOn(owningTargetName)) {\n                        throw new BuildException(getTaskName()\n                                                 + \" task calling a target\"\n                                                 + \" that depends on\"\n                                                 + \" its parent target \\'\"\n                                                 + owningTargetName\n                                                 + \"\\'.\");"}, {"count": 1, "attachment_id": null, "bug_id": 32815, "is_private": false, "id": 69689, "time": "2005-01-14T15:50:37Z", "creator": "bodewig@apache.org", "creation_time": "2005-01-14T15:50:37Z", "tags": [], "text": "Seems to work for me in CVS HEAD, it is quite possible that some changes have fixed\nthat (Executor or multiple target support for <ant>).\n\nCould you please verify using a recent nightly build that the problem has been\nfixed?\n"}, {"count": 2, "tags": [], "bug_id": 32815, "text": "No answer - so setting to WORKSFORME", "id": 97741, "time": "2007-01-07T06:31:52Z", "creator": "peterreilly@apache.org", "creation_time": "2007-01-07T06:31:52Z", "is_private": false, "attachment_id": null}]