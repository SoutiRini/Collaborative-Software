[{"count": 0, "tags": [], "bug_id": 33712, "is_private": false, "id": 71408, "creation_time": "2005-02-23T18:11:05Z", "time": "2005-02-23T18:11:05Z", "creator": "jamie@outer.net", "text": "At some point in the recent updates of mod_dav, some type of internal\nconsistency check involving the filename has caused a bug to form. The problem\nmanifests itself by the server returning an warning (on a new file upload) that\nit \"already exists,\" when in fact it does not.\n\nTo recreate:\n\nCreate 2 files on your local system. Call them:\n\n    foo.zip.old\nand\n    foo.zip\n   \nIt doesn't matter what's in them or what their extension is, only that the names\nare structured the same way.\n\nFIRST:  Upload the \"foo.zip.old\" file using the DAV PUT method.\nSECOND: Attempt to upload the \"foo.zip\" file with DAV PUT.\n\nIf conducted in that order, the second file will fail with a variety of warning\nmessages (depending on which client was used). For instance, Goliath on MacOSX\nreturns this:\n\n\"One or more items in this location have the same names as items you're copying.\n Do you want to replace them with the ones you're copying?\"\n\nCadaver in linux simply copies over the first uploaded file 'foo.zip.old' with\nthe data within 'foo.zip'\n\nLastly, if the order of the files is reversed (foo.zip before foo.zip.old), then\nthings work as expected.\n\ninfo:\n\nServer: Apache/2.0.52 (Gentoo/Linux) mod_ssl/2.0.52 OpenSSL/0.9.7e DAV/2 PHP/4.3.10\n\nFilesystem is reiserfs\n\n#\n# WebDAV Settings and Directory Data\n#\n\nDavLockDB /www/lock/DavLock\nDAVMinTimeout 600\nDAVDepthInfinity On\n\n<Directory \"/var/www/localhost/htdocs/www.example.com/agentdata\">\n  DAV On\n  AuthType Basic\n  AuthUserFile /www/secrets/.agentdata_htpasswd\n  AuthName \"AgentData WebDAV Directory\"\n  <Limit PUT POST DELETE PROPFIND PROPPATCH MKCOL COPY MOVE LOCK UNLOCK>\n        require valid-user\n  </Limit>\n</Directory>", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 33712, "attachment_id": null, "text": "Do you have multiviews turned on for that directory?  Try adding: \n\nOptions -MultiViews\n\nto that Directory section.", "id": 71467, "time": "2005-02-24T16:52:23Z", "creator": "jorton@redhat.com", "creation_time": "2005-02-24T16:52:23Z", "is_private": false}, {"count": 2, "tags": [], "creator": "jamie@outer.net", "text": "that does it!  thanks.", "id": 71468, "time": "2005-02-24T17:09:51Z", "bug_id": 33712, "creation_time": "2005-02-24T17:09:51Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 33712, "text": "Great, thanks for confirming.  Marking as INVALID.", "id": 71472, "attachment_id": null, "creator": "jorton@redhat.com", "creation_time": "2005-02-24T17:14:17Z", "time": "2005-02-24T17:14:17Z", "is_private": false}]