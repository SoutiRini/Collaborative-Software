[{"count": 0, "tags": [], "bug_id": 50689, "is_private": false, "id": 143795, "creation_time": "2011-01-29T15:42:48Z", "time": "2011-01-29T15:42:48Z", "creator": "richard@kennardconsulting.com", "text": "Hi guys,\n\nFirst, thank you for creating Tomcat! I've used it over and over again for more than a decade and it's been a wonderful help to me.\n\nI've been tracking a bug in my app which seemed like a bug in HttpClient and now (according to the HttpClient guys) appears to be a bug in Tomcat.\n\nDetails of the bug, including analysis and test case, attached here:\n\n   https://issues.apache.org/jira/browse/HTTPCLIENT-1048\n\nEssentially if FormAuthenticator receives an HTTP request containing a 'Expect: 100-Continue' header, it is meant to respond with either a 100 or a 417 in order to request the body of the request. But instead, Tomcat is not responding at all. Luckily a 'fallback' use case of the spec is that the client should wait, say, 2 seconds then send the body anyway.\n\nThe result is that logging in takes much longer (2 longers versus 10ms) than expected, which can be a problem for people doing automated testing against FormAuthenticator.\n\nNote the issue may affect use cases beyond FormAuthenticator too.\n\nRegards,\n\nRichard.", "attachment_id": null}, {"count": 1, "tags": [], "text": "Reproducible with the current 6.0.x with Bio and Nio HTTP connectors.\n\nDoes not happen with the current trunk with Bio and Nio HTTP connectors.\nDoes not happen with the 7.0.6 with Bio, Nio and APR HTTP connectors.\nThe relevant test was added to TC7 testsuite in r987948\n\nSo, it looks like backporting r987948 is the way to go.", "is_private": false, "id": 143796, "creator": "knst.kolinko@gmail.com", "time": "2011-01-29T16:21:20Z", "bug_id": 50689, "creation_time": "2011-01-29T16:21:20Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": 26576, "id": 143797, "time": "2011-01-29T16:51:26Z", "bug_id": 50689, "creation_time": "2011-01-29T16:51:26Z", "is_private": false, "text": "Created attachment 26576\n2011-01-30_tc6_50689.patch\n\nPatch for tc6.0.x. It is backport of r987948.\nConfirming that it fixes the issue."}, {"count": 3, "tags": [], "text": "Terrific! Thanks for the quick response guys!\n\nRichard.", "is_private": false, "id": 143812, "creator": "richard@kennardconsulting.com", "time": "2011-01-30T16:47:33Z", "bug_id": 50689, "creation_time": "2011-01-30T16:47:33Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": null, "id": 143883, "time": "2011-02-01T22:03:37Z", "bug_id": 50689, "creation_time": "2011-02-01T22:03:37Z", "is_private": false, "text": "Fixed in 6.0, will be in 6.0.32."}]