[{"count": 0, "tags": [], "bug_id": 13713, "attachment_id": null, "text": "The following svg throws a null pointer during load.. I'm running\nthe latest cvs version (day or two old).  It works fine in the adobe svg viewer\nand mixing percentages and exact units works fine for <line>s.\n\n** Note from Thomas **\n(just an FYI, Since the use element creates a viewport I'm guessing that we are\ntrying to resolve the x coord in the as yet unfinished viewport the use defines\nrather than the viewport the use lives in).\n\n\n<?xml version=\"1.0\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.0//EN\"\n\"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\">\n\n<svg xmlns=\"http://www.w3.org/2000/svg\"\nxmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"297mm\" height=\"210mm\"\nviewBox=\"0 0 297 210\">\n   <title>Question Template</title>\n   <defs>\n      <g id=\"arrow\" stroke-linecap=\"round\" transform=\"scale(0.4)\">\n         <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"10\"/>\n         <line x1=\"0\" y1=\"0\" x2=\"-3.3\" y2=\"3.3\"/>\n         <line x1=\"0\" y1=\"0\" x2=\"3.3\" y2=\"3.3\"/>\n      </g>\n   </defs>\n   <use x=\"25%\" y=\"147\" xlink:href=\"#arrow\"/>\n</svg>\n\nStack trace...\njava.lang.NullPointerException\n        at\norg.apache.batik.bridge.UnitProcessor$DefaultContext.getViewportWidth(Unknown\nSource)\n        at org.apache.batik.util.UnitProcessor.percentagesToPixels(Unknown\nSource)\n        at org.apache.batik.util.UnitProcessor.svgToUserSpace(Unknown Source)\n        at org.apache.batik.util.UnitProcessor.svgToUserSpace(Unknown Source)\n        at org.apache.batik.bridge.UnitProcessor.svgToUserSpace(Unknown Source)\n        at\norg.apache.batik.bridge.UnitProcessor.svgHorizontalCoordinateToUserSpace(Unknown\nSource)\n        at org.apache.batik.bridge.SVGUseElementBridge.computeTransform(Unknown\nSource)\n        at\norg.apache.batik.bridge.SVGUseElementBridge.createGraphicsNode(Unknown\nSource)\n        at org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(Unknown Source)\n        at org.apache.batik.bridge.GVTBuilder.buildComposite(Unknown Source)\n        at org.apache.batik.bridge.GVTBuilder.build(Unknown Source)\n        at org.apache.batik.swing.svg.GVTTreeBuilder.run(Unknown Source)", "id": 24666, "time": "2002-10-16T23:18:51Z", "creator": "apietsch@optushome.com.au", "creation_time": "2002-10-16T23:18:51Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 13713, "attachment_id": null, "is_private": false, "id": 32616, "time": "2003-03-06T23:21:38Z", "creator": "deweese@apache.org", "creation_time": "2003-03-06T23:21:38Z", "text": "Fixed in CVS."}]