[{"count": 0, "tags": [], "bug_id": 61519, "attachment_id": null, "id": 200867, "time": "2017-09-14T09:59:52Z", "creator": "h.reindl@thelounge.net", "creation_time": "2017-09-14T09:59:52Z", "is_private": false, "text": "* /cms/ is a physical folder\n* user missed the trailing /\n* while the request was https:// the rdirect goes to http://\n* in case a script has a check and redirects non-https to https -> endless-loop\n\n<VirtualHost *:80 *:443>\n DocumentRoot \"/www/contentlounge\"\n ServerName contentlounge.rhsoft.net\n SSLEngine optional\n SSLCertificateFile \"conf/ssl/rhsoft.net.pem\"\n</VirtualHost>\n\n[harry@srv-rhsoft:~]$ curl --head --insecure https://contentlounge/cms\nHTTP/1.1 301 Moved Permanently\nDate: Thu, 14 Sep 2017 09:40:27 GMT\nX-DNS-Prefetch-Control: off\nX-Content-Type-Options: nosniff\nX-Response-Time: D=1311 us\nLocation: http://contentlounge/cms/\nCache-Control: max-age=0\nExpires: Thu, 14 Sep 2017 09:40:27 GMT\nContent-Type: text/html; charset=iso-8859-1"}, {"count": 1, "tags": [], "creator": "h.reindl@thelounge.net", "attachment_id": null, "id": 200913, "time": "2017-09-17T00:39:07Z", "bug_id": 61519, "creation_time": "2017-09-17T00:39:07Z", "is_private": false, "text": "my connection is for sure https:// because of the mod_rewrite and finally HSTS\n\nphpinfo():\nSERVER_PORT \t80\n\n<VirtualHost *:80 *:443>\n ServerName www.rhsoft.net\n SSLEngine Optional\n SSLUseStapling On\n SSLCertificateFile \"certs/rhsoft-www.conf_rsa.pem\"\n SSLCertificateFile \"certs/rhsoft-www.conf_ecdsa.pem\"\n <IfModule mod_rewrite.c>\n  RewriteEngine on\n  RewriteCond %{HTTPS} off\n  RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}\n </IfModule>\n <IfModule mod_headers.c>\n  Header always set \"Strict-Transport-Security\" \"max-age=31536000\"\n </IfModule>\n</VirtualHost>"}]