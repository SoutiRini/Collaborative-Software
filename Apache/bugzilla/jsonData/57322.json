[{"count": 0, "tags": [], "bug_id": 57322, "attachment_id": 32265, "text": "Created attachment 32265\nPatch to add ResultSet returned from Callable Statements.\n\nIn Oracle it is a common practice to return queries from stored procedures as a construct called refcursor. Refcursors are then returned as ResultSets to Java and if you really want to do thorough load test you actually have to loop through the whole result set. The current code does not iterate through those ResultSet and stores the ResultSet as string so it is not possible to do any further processing on it. If the ResultSet is stored as a Object they can actually be iterated in JSR223 of BeanShell script. It would also be nice if the JDBC sampler would actually just iterate through the RS by itself.\n\nAttached is a patch for your consideration, that adds the code and configuration options for dealing with ResultSets : Store as String, Store as Object, and Count Records. \n\nRegards \nYngvi", "id": 179592, "time": "2014-12-07T00:51:35Z", "creator": "blitzkopf@gmail.com", "creation_time": "2014-12-07T00:51:35Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 57322, "attachment_id": null, "text": "Date: Mon Dec 15 20:47:22 2014\nNew Revision: 1645746\n\nURL: http://svn.apache.org/r1645746\nLog:\nBug 57322 - JDBC: add methods to deal with ResultSets(cursors) returned by callable statements\nBugzilla Id: 57322\n\nModified:\n    jmeter/trunk/src/protocol/jdbc/org/apache/jmeter/protocol/jdbc/AbstractJDBCTestElement.java\n    jmeter/trunk/src/protocol/jdbc/org/apache/jmeter/protocol/jdbc/JDBCTestElementBeanInfoSupport.java\n    jmeter/trunk/src/protocol/jdbc/org/apache/jmeter/protocol/jdbc/processor/JDBCPostProcessorResources.properties\n    jmeter/trunk/src/protocol/jdbc/org/apache/jmeter/protocol/jdbc/processor/JDBCPreProcessorResources.properties\n    jmeter/trunk/src/protocol/jdbc/org/apache/jmeter/protocol/jdbc/sampler/JDBCSamplerResources.properties\n    jmeter/trunk/xdocs/changes.xml\n    jmeter/trunk/xdocs/usermanual/component_reference.xml", "id": 179779, "time": "2014-12-15T20:51:49Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-12-15T20:51:49Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 57322, "attachment_id": null, "text": "Hello,\nThanks for contribution.\nI commited code with a fix to the count of rows as I think there was a bug in :\n                            else if( RS_COUNT_RECORDS.equals(resultSetHandler))\n\n270 \t\n\n                                jmvars.put(name,o.toString()+\" \"+((java.sql.ResultSet)o).getRow()+\" rows\");\n\nIt would be great to test nightly build and tell us if it works for you as you wanted it to .\n\nThanks\nRegards\nPhilippe M.\n@philmdot", "id": 179780, "time": "2014-12-15T20:53:42Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-12-15T20:53:42Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 57322, "text": "Date: Mon Dec 15 21:03:31 2014\nNew Revision: 1645749\n\nURL: http://svn.apache.org/r1645749\nLog:\nBug 57322 - JDBC: add methods to deal with ResultSets(cursors) returned by callable statements\nAdd missing FR translations\nBugzilla Id: 57322\n\nModified:\n    jmeter/trunk/src/protocol/jdbc/org/apache/jmeter/protocol/jdbc/processor/JDBCPostProcessorResources.properties\n    jmeter/trunk/src/protocol/jdbc/org/apache/jmeter/protocol/jdbc/processor/JDBCPreProcessorResources_fr.properties\n    jmeter/trunk/src/protocol/jdbc/org/apache/jmeter/protocol/jdbc/sampler/JDBCSamplerResources_fr.properties", "id": 179781, "time": "2014-12-15T21:04:26Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-12-15T21:04:26Z", "is_private": false, "attachment_id": null}]