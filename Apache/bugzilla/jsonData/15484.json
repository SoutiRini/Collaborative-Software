[{"count": 0, "tags": [], "bug_id": 15484, "attachment_id": null, "id": 28005, "creation_time": "2002-12-18T14:20:32Z", "time": "2002-12-18T14:20:32Z", "creator": "pr@webapp.de", "text": "remove Context don't kill Classloader ?\n\nHere my ant trace:\n\nlist:\n     [list] OK - Listed applications for virtual host localhost\n\n     [list] /admin:running:0:C:/server/jakarta/jakarta-tomcat-\n4.1.12/server/weba\npps/admin\n\n     [list] /login:running:5:C:/Dokumente/Struts/example/project/Login/build\n\n     [list] /manager:running:0:C:/server/jakarta/jakarta-tomcat-\n4.1.12/server/we\nbapps/manager\n\n\nBUILD SUCCESSFUL\nTotal time: 1 second\nC:\\Dokumente\\Struts\\example\\project\\Login>ant remove\nBuildfile: build.xml\n\nremove:\n   [remove] OK - Removed application at context path /login\n\n\nBUILD SUCCESSFUL\nTotal time: 1 second\nC:\\Dokumente\\Struts\\example\\project\\Login>ant clean\nBuildfile: build.xml\n\nclean:\n   [delete] Deleting directory C:\\Dokumente\\Struts\\example\\project\\Login\\build\n\nBUILD FAILED\nfile:C:/Dokumente/Struts/example/project/Login/build.xml:49: Unable to delete \nfi\nle C:\\Dokumente\\Struts\\example\\project\\Login\\build\\WEB-INF\\lib\\struts.jar\n\nTotal time: 1 second\nC:\\Dokumente\\Struts\\example\\project\\Login>ant clean\nBuildfile: build.xml\n\nclean:\n   [delete] Deleting directory C:\\Dokumente\\Struts\\example\\project\\Login\\build\n\nBUILD FAILED\nfile:C:/Dokumente/Struts/example/project/Login/build.xml:49: Unable to delete \nfi\nle C:\\Dokumente\\Struts\\example\\project\\Login\\build\\WEB-INF\\lib\\struts.jar\n\nTotal time: 1 second\nC:\\Dokumente\\Struts\\example\\project\\Login>ant list\nBuildfile: build.xml\n\nlist:\n     [list] OK - Listed applications for virtual host localhost\n\n     [list] /admin:running:0:C:/server/jakarta/jakarta-tomcat-\n4.1.12/server/weba\npps/admin\n\n     [list] /manager:running:0:C:/server/jakarta/jakarta-tomcat-\n4.1.12/server/we\nbapps/manager\n\n\nBUILD SUCCESSFUL\nTotal time: 1 second\nC:\\Dokumente\\Struts\\example\\project\\Login>", "is_private": false}, {"count": 1, "tags": [], "bug_id": 15484, "attachment_id": null, "is_private": false, "id": 28010, "time": "2002-12-18T15:28:41Z", "creator": "jfarcand@apache.org", "creation_time": "2002-12-18T15:28:41Z", "text": "This is the normal behaviour on Windowses platform. Some of your tools is\npointing to that jar (is having a reference). That's why ant it is not able to\nremove the file (probably Tomcat is started, and Tomcat uses struts.jar).\n\nNext time, I recommend you first ask the question on tomcat-user@jakarta.apache.org.\n\n-- Jeanfrancois"}, {"count": 2, "text": "Situation:\n\nno other tool used the libs in my application\n\n1) install application with manager (ant task)\n2) used appliction\n3) detect a error\n4) remove application with manager (ant task)\n5) now I can't remove the copy application to make a clean build!\n\nI think tomcat classloader not correct delete all reference on the removed \njars!\n\n", "creator": "pr@webapp.de", "is_private": false, "id": 28020, "time": "2002-12-18T17:42:48Z", "bug_id": 15484, "creation_time": "2002-12-18T17:42:48Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "text": "I face the same issue on Windows 2000 platform. \"Remove\" command deletes all \nthe files except for struts.jar in WEB-INF/lib directory. Manual deletion of \nthe file gives an error \"Cannot delete struts.jar: There has been a sharing \nviolation. The source or destination file may be in use.\"\nShouldn't the application context have it's own classloader? Deleting \nstruts.jar in the application directory should not affect other applications. \nHowever I notice either manager or admin application in Tomcat is based on \nstruts, it might be related to that.", "is_private": false, "id": 54016, "creator": "kkurman@hotmail.com", "time": "2004-03-15T16:14:13Z", "bug_id": 15484, "creation_time": "2004-03-15T16:14:13Z", "attachment_id": null}, {"count": 4, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of 10026 ***", "attachment_id": null, "id": 73668, "creator": "markt@apache.org", "time": "2005-04-14T23:13:12Z", "bug_id": 15484, "creation_time": "2005-04-14T23:13:12Z", "is_private": false}]