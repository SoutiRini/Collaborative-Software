[{"count": 0, "tags": [], "creator": "borysb@gmail.com", "attachment_id": null, "is_private": false, "id": 120708, "time": "2008-09-17T07:54:10Z", "bug_id": 45825, "creation_time": "2008-09-17T07:54:10Z", "text": "Log4j version 1.2.15.\nMethod getThrowableStrRep in org.apache.log4j.spi.ThrowableInformation should be synchronized in some way. The variable rep can be read by one thread (for example AsynsAppender) in line 72, while another is in line 91 (lines.toArray(rep)). This may cause rep to contain some nulls. It leads to NullPointerException at java.io.Writer.write(Writer.java:140). Stacktrace:\n\njava.lang.NullPointerException   \n at java.io.Writer.write(Writer.java:140)   \n at org.apache.log4j.helpers.QuietWriter.write(QuietWriter.java:48)   \n at org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:309)   \n at org.apache.log4j.WriterAppender.append(WriterAppender.java:160)   \n at org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:251)   \n at org.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:66)   \n at org.apache.log4j.Category.callAppenders(Category.java:206)   \n at org.apache.log4j.Category.forcedLog(Category.java:391)   \n at org.apache.log4j.Category.info(Category.java:683)"}, {"count": 1, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of bug 44032 ***", "is_private": false, "id": 120712, "creation_time": "2008-09-17T09:12:17Z", "time": "2008-09-17T09:12:17Z", "creator": "carnold@apache.org", "bug_id": 45825, "attachment_id": null}]