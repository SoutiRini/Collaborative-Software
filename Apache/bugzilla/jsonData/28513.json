[{"count": 0, "tags": [], "text": "If a target is not selected because of the \"if\" attribute, it's dependencies \nare still executed, even if there is no other reason to execute them.  Here is \nan example, with output also listed:\n\n<project name=\"testif\" default=\"good\">\n  <property name=\"property-that-is-set\" value=\"true\" />\n  <target name=\"good\" depends=\"notselected1,notselected2\"/>\n  <target name=\"notselected1\" if=\"property-that-isnt-set\" depends=\"bad-\ntarget1\">\n    <echo message=\"shouldn't display this 1\" />\n  </target>\n  <target name=\"notselected2\" unless=\"property-that-is-set\" depends=\"bad-\ntarget2\">\n    <echo message=\"shouldn't display this 2\" />\n  </target>\n  <target name=\"bad-target1\">\n    <echo message=\"bad target 1\" />\n  </target>\n  <target name=\"bad-target2\">\n    <echo message=\"bad target 2\" />\n  </target>\n</project>\n\nOutput:\n\n[steves@localhost testant]$ ant -f build2.xml\nBuildfile: build2.xml\n\nbad-target1:\n     [echo] bad target 1\n\nnotselected1:\n\nbad-target2:\n     [echo] bad target 2\n\nnotselected2:\n\ngood:\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n[steves@localhost testant]$", "is_private": false, "bug_id": 28513, "id": 56167, "time": "2004-04-21T14:47:10Z", "creator": "schveiguy@yahoo.com", "creation_time": "2004-04-21T14:47:10Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "This is by design.\n\nThe if/unless attributes are only tested at the time the target is about to be\nexecuted. It is impossible, in the formal turing-equivalence sense, to determine\nif those properties will be set/unset untill all dependent targets have executed. \n\nThe if/unless attributes therefore do not control execution of the entire\ndependency graph, only the indivudal targets that are so marked up. ", "is_private": false, "bug_id": 28513, "id": 56178, "time": "2004-04-21T15:34:44Z", "creator": "stevel@apache.org", "creation_time": "2004-04-21T15:34:44Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "I guess that makes sense.  I was thinking in terms of the dependencies being \nexecuted as part of the target, and therefore the property being checked \nbefore the dependencies were checked.  To a certain degree, this is true, \nsince targets will only be executed if they are direct or indirect \ndependencies of the default or passed in target, but that once the targets to \nbe executed are resolved, the dependency tree only governs the order, and \ntargets are executed independently of eachother.\n\nI see now that this is clear in the documentation.  I should have paid better \nattention, sorry for the nuisance :)", "attachment_id": null, "id": 56245, "creator": "schveiguy@yahoo.com", "time": "2004-04-22T13:22:02Z", "bug_id": 28513, "creation_time": "2004-04-22T13:22:02Z", "is_private": false}]