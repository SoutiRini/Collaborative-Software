[{"count": 0, "tags": [], "bug_id": 12516, "is_private": false, "text": "The documentation for form based authentication states (Realm HOW-TO, under\nJDBCRealm):\n\n>>>\n# Once a user has been authenticated, the user (and his or her associated roles)\nare cached within Tomcat for the duration of the user's login. (For FORM-based\nauthentication, that means until the session times out or is invalidated; for\nBASIC authentication, that means until the user closes their browser). Any\nchanges to the database information for an already authenticated user will not\nbe reflected until the next time that user logs on again.\n<<<\n\nSo it looks like the principal is stored in the session, and that it is\npersisted between server reloads, however the sources state the following:\n\nStandardSession.java:\n    /**\n     * The authenticated Principal associated with this session, if any.\n     * <b>IMPLEMENTATION NOTE:</b>  This object is <i>not</i> saved and\n     * restored across session serializations!\n     */\n     private transient Principal principal = null;\n\nSo for some reason the principal is not persisted (why??). \nApparently the implementation is not going to change, so maybe the documentation\ncould state this behavior more clearly.", "id": 22660, "time": "2002-09-11T10:36:32Z", "creator": "kmichael@capnova.com", "creation_time": "2002-09-11T10:36:32Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 12516, "attachment_id": null, "is_private": false, "id": 62283, "time": "2004-08-21T12:41:00Z", "creator": "markt@apache.org", "creation_time": "2004-08-21T12:41:00Z", "text": "Fixed in CVS for TC4 and TC5"}]