[{"count": 0, "tags": [], "creator": "igor@fastmail.fm", "is_private": false, "text": "If Ant would support using mapper inside <zip> task then it would be possible to\ncopy a loose collection of jars from different directories into single archive\nfolder without coping the files first to a temporary directory with flatten\nmapper and archive then from there.", "id": 54733, "time": "2004-03-26T12:37:07Z", "bug_id": 27980, "creation_time": "2004-03-26T12:37:07Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 27980, "text": "Seems like you might achieve better flexibility associating a <mapper> with a \n<zipfileset>, but I don't know the code well enough to know for sure.  Either \nway, the fact that <fileset>s can't (yet) include files from multiple base \ndirectories still makes this pretty verbose, doesn't it?  I can't think of any \nway to do that except use a single-file <fileset> for each file.  There is an \nopen request to have <fileset> support absolute paths.  I'm not sure what its \nstatus is, but maybe that would be a better place to start on this general \nproblem.  The <mapper> is really a separate issue, though.", "id": 54744, "time": "2004-03-26T15:08:58Z", "creator": "mbenson@apache.org", "creation_time": "2004-03-26T15:08:58Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 27980, "attachment_id": null, "is_private": false, "id": 54745, "time": "2004-03-26T15:24:50Z", "creator": "igor@fastmail.fm", "creation_time": "2004-03-26T15:24:50Z", "text": "Actually this feature requets came from my previous message to user@ant.apache.org\n\n> Is it possible to put all files from <filelist> into one directory in \n> zip archive?\n> \n> I use <filelist> to represent a collection of jar files that are \n> referenced during compilation but when I package the jars into a single \n> directory in a distribution zip currently I have to copy filelist into a \n> temporary directory. I have to use this unnecessary annoying copy since \n> it seems there is no other way to put the list into a particular \n> directory in the zip archive using <zip>. Did I missed something?\n>\n\nThen i realized that mapper would give me better flexibility. In any case\nideally <zip> should support the same facilities as <copy> does but for now even\nsimple addition of mapper would be enough\n "}, {"count": 3, "attachment_id": null, "bug_id": 27980, "text": "I remembered the recent posts.  But again, <zip> & co. don't support \n<filelist>s, do they?  But if <fileset> supported absolute pathnames, it should \nbe a simple matter to use <pathconvert> to create a <fileset> from a <filelist>.", "id": 54746, "time": "2004-03-26T15:40:02Z", "creator": "mbenson@apache.org", "creation_time": "2004-03-26T15:40:02Z", "tags": [], "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 27980, "text": "In my case I can use either <filelist> or <fileset> for the collection of jars\nbut since <copy> does not support <filelist> and <fileset> + <mapper> would do\nthe job in my case while making <zip> to look more in uniform with <copy>, I\ndecided to file the bug against <fileset>. \n\nIn addition <mapper> would solve the problem of placing the files into some\narbitrary directory while <fileset> with absolute paths would still require to\nadd the same facility to <zipfileset> to be useful in this situation.", "id": 54758, "time": "2004-03-26T19:41:06Z", "creator": "igor@fastmail.fm", "creation_time": "2004-03-26T19:41:06Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "creator": "mbenson@apache.org", "text": "But even if <zip> or <zipfileset> could work in concert with a <mapper> you \nstill have no means of using your <filelist> directly, correct?", "id": 54759, "time": "2004-03-26T19:43:15Z", "bug_id": 27980, "creation_time": "2004-03-26T19:43:15Z", "is_private": false, "attachment_id": null}, {"count": 6, "attachment_id": null, "bug_id": 27980, "text": "Direct support for <filelist> would be ideal indeed but since <filelist> can be\nemulated with <fileset dir=\"/\"> and <mapper> would actually remove another case\nof  using temporary dir just to cleanup names before coping into zip, the\n<mapper> IMHO is nicer to have.", "id": 54760, "time": "2004-03-26T19:59:29Z", "creator": "igor@fastmail.fm", "creation_time": "2004-03-26T19:59:29Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "bug_id": 27980, "attachment_id": null, "is_private": false, "id": 54761, "time": "2004-03-26T21:57:56Z", "creator": "mbenson@apache.org", "creation_time": "2004-03-26T21:57:56Z", "text": "I wouldn't be too keen on direct <filelist> support.  Absolute paths in \n<fileset>s would, with <pathconvert>, provide a simple conversion from \n<filelist> to <fileset>.  I think both things are really needed here.  The \n<mapper> would be useful without the absolute paths though.\n\n(<fileset dir=\"/\"> is not cross-platform, and really isn't emulating <filelist> \nbut just behaving as normal since where this works the files in question do \nshare a common path ancestor, root."}, {"count": 8, "attachment_id": null, "bug_id": 27980, "text": "\n\n*** This bug has been marked as a duplicate of 19523 ***", "id": 68660, "time": "2004-12-17T16:03:37Z", "creator": "peterreilly@apache.org", "creation_time": "2004-12-17T16:03:37Z", "tags": [], "is_private": false}]