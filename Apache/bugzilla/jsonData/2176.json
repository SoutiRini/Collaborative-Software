[{"count": 0, "tags": [], "text": "The HTTP/1.1 Connector fails to call setTcpNoDelay on\nit's accepted connections. I believe this should at least \nbe a configurable option.\n\nIn it's current state HTTP/1.1 performance for short messages is about\n20 times slower than possible. The TCP stack is waiting for a full packet and \ntimes out in 200ss. this results in 200ms response times during which the\nclient and the server are doing absolutely nothing. HTTP/1.0 does not have this\nproblem since the network buffers are implicitly flushed when the connection\nis closed.\n\nin house tests have shown the following performance timings in short requests:\n\nHTTP/1.0: ~30 ms\nHTTP/1.1 without setTcpNoDelay: ~200ms\nHTTP/1.1 with setTcpNoDelay: ~9ms\n\nSuggestion:\n\nadd setTcpNoDelay(true) after a connection has been accepted", "is_private": false, "bug_id": 2176, "id": 2979, "time": "2001-06-14T03:25:53Z", "creator": "dylans@xs4all.nl", "creation_time": "2001-06-14T03:25:53Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 2176, "attachment_id": null, "is_private": false, "id": 2982, "time": "2001-06-14T07:33:03Z", "creator": "remm@apache.org", "creation_time": "2001-06-14T07:33:03Z", "text": "Good point.\n\nI'll enable it by default, and add a Java bean style property to switch it off."}, {"count": 2, "tags": [], "creator": "remm@apache.org", "is_private": false, "text": "I did the commit. Please send me an email if there's a problem with that change.", "id": 2985, "time": "2001-06-14T08:12:03Z", "bug_id": 2176, "creation_time": "2001-06-14T08:12:03Z", "attachment_id": null}]