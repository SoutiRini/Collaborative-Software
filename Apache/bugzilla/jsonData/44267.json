[{"count": 0, "tags": [], "bug_id": 44267, "attachment_id": null, "id": 112982, "creation_time": "2008-01-18T04:42:44Z", "time": "2008-01-18T04:42:44Z", "creator": "Shivananda.Yadrami@headstrong.com", "text": "I have upgraded my JDK 5.0 Update 10 to JDK 5.0 Update 14. After updating, I am\nunable to run the ant tool from cygwin. \n\nThe same thing is working when I run the ant from CMD. \n\nBelow is the error message what I am getting: \n\nError: JAVA_HOME is not defined correctly.\n  We cannot execute /cygdrive/c/Java/jdk14/bin/java\n\nI have set the JAVA_HOME properly and interesting thing is; I am able to run all\nthe java commands from the cygwin. \n\nIt is clearly seen from ant.sh that you are setting JAVACMD like this:\nJAVACMD=\"$JAVA_HOME/bin/java\", which is correct. \n\nHowever when I try to execute the below command, I am getting the proper message. \n$ $JAVA_HOME/bin/java.exe\nUsage: java [-options] class [args...]\n           (to execute a class)\n   or  java [-options] -jar jarfile [args...]\n           (to execute a jar file)\n\nwhere options include:\n    -client       to select the \"client\" VM\n    -server       to select the \"server\" VM\n    -hotspot      is a synonym for the \"client\" VM  [deprecated]\n                  The default VM is client.\n\n    -cp <class search path of directories and zip/jar files>\n    -classpath <class search path of directories and zip/jar files>\n                  A ; separated list of directories, JAR archives,\n                  and ZIP archives to search for class files.\n    -D<name>=<value>\n                  set a system property\n    -verbose[:class|gc|jni]\n                  enable verbose output\n    -version      print product version and exit\n    -version:<value>\n                  require the specified version to run\n    -showversion  print product version and continue\n    -jre-restrict-search | -jre-no-restrict-search\n                  include/exclude user private JREs in the version search\n    -? -help      print this help message\n    -X            print help on non-standard options\n    -ea[:<packagename>...|:<classname>]\n    -enableassertions[:<packagename>...|:<classname>]\n                  enable assertions\n    -da[:<packagename>...|:<classname>]\n    -disableassertions[:<packagename>...|:<classname>]\n                  disable assertions\n    -esa | -enablesystemassertions\n                  enable system assertions\n    -dsa | -disablesystemassertions\n                  disable system assertions\n    -agentlib:<libname>[=<options>]\n                  load native agent library <libname>, e.g. -agentlib:hprof\n                    see also, -agentlib:jdwp=help and -agentlib:hprof=help\n    -agentpath:<pathname>[=<options>]\n                  load native agent library by full pathname\n    -javaagent:<jarpath>[=<options>]\n                  load Java programming language agent, see java.lang.instrument\n\nFrom my basic tests, it seems JAVA_HOME & cygwin setting are proper.\n\nPlease look at this issue & correct if any thing wrong with my end. \n\nPlease suggest me if you have any work around for this.", "is_private": false}, {"count": 1, "tags": [], "bug_id": 44267, "attachment_id": null, "text": "Ant does not know that you are using cygwin,\nthe directory \\cygwin\\c does not exist:\nfrom a command line (cmd):\n\"\"\"\nMicrosoft Windows XP [Version 5.1.2600]\n(C) Copyright 1985-2001 Microsoft Corp.\n\nC:\\Documents and Settings\\reilly>dir \\cygwin\\c\nThe system cannot find the file specified.\n\nC:\\Documents and Settings\\reilly>\n\"\"\"\n\n\n", "id": 112984, "time": "2008-01-18T06:50:52Z", "creator": "peterreilly@apache.org", "creation_time": "2008-01-18T06:50:52Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 44267, "is_private": false, "text": "I am able to execute $JAVACMD succssfully from cygwin. But the ant.sh is saying\nwe can execute $JAVACMD.\n\nMay I know what this below code does?\nif [ ! -x \"$JAVACMD\" ] ; then\n  echo \"Error: JAVA_HOME is not defined correctly.\"\n  echo \"  We cannot execute $JAVACMD\"\n  exit 1\nfi\n\nIf I put $JAVACMD just above this code, it is executing the $JAVACMD.\n\nThis is happening only when I upgrde the JDK from Update 10 to 14 or 13.\n\n", "id": 112986, "time": "2008-01-18T07:16:59Z", "creator": "Shivananda.Yadrami@headstrong.com", "creation_time": "2008-01-18T07:16:59Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 44267, "attachment_id": null, "text": "-x means \"check whether the file is executable\" and I have no idea how this check is implemented in Cygwin.\n\nI've been running Ant via Cygwin with various different JDKs and never seen this.  Right now it works quite well for Java6 Update 7, for example.\n\nThere has been bug 45245 that made sure JAVA_HOME was set to be a Windows path before executing Java, maybe what you see is a side effect of this?  Could you please download http://svn.eu.apache.org/viewvc/ant/core/trunk/src/script/ant?view=co and verify that the problem still exists/has been fixed by this?\n", "id": 120072, "time": "2008-08-25T07:53:44Z", "creator": "bodewig@apache.org", "creation_time": "2008-08-25T07:53:44Z", "is_private": false}]