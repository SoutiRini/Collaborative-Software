[{"count": 0, "tags": [], "bug_id": 56489, "is_private": false, "id": 175024, "attachment_id": null, "creator": "mueller@wave-computer.de", "creation_time": "2014-05-05T12:56:57Z", "time": "2014-05-05T12:56:57Z", "text": "I would like to split workers.properties into different smaller files.\nFor this instead of \n\"JkWorkersFile = /path/to/workers.properties\" an option like \n\"JkWorkersDir = /path/to/dir/*.conf\" would be needed.\n\nIn this example, every file in that directory that ends in \".conf\" should be loaded in alphabetical or numerical order.\n\nFiles could look like this:\n00-templates.conf:\nworker.tpl.method=Busyness\nworker.tpl.sticky_session=True\nworker.tpl.recover_time=20\nworker.tpl.type=ajp13\nworker.tpl.lbfactor=2\nworker.tpl.fail_on_status=500,503\nworker.tpl.socket_timeout=0\nworker.tpl.connect_timeout=50000\n\n01-host1.mydomain.tld:\nworker.host1.reference=worker.tpl\nworker.host1.host=host1.mydomain.tld\nworker.host1.port=8009\nworker.host1.route=host1\n\n02-www.mydomain.tld:\nworker.list=www.mydomain.tld\nworker.www.mydomain.tld.type=lb\nworker.www.mydomain.tld.balance_workers=host1.mydomain.tld\n\nand so on. I think you'll get it.\n\nReasons for this are:\n1) workers.properties gets really big and confusing. Our production config's got 750 lines right now, and it keeps growing.\nSplitting it in smaller files by e.g. domain would be a huge improvement in terms of complexity.\n2) With configuration management tools (e.g. puppet) it's way more easier to handle seperate files than a single big one. Goal is to auto create all the stuff."}, {"count": 1, "tags": [], "text": "Note that you can work around this issue by using the JkWorkerProperty syntax inside httpd.conf instead of using workers.properties. See for JkWorkerProperty in http://tomcat.apache.org/connectors-doc/reference/apache.html.\n\nExample:\n\nJkWorkerProperty worker.list=myworker\nJkWorkerProperty worker.myworker.type=ajp13\nJkWorkerProperty worker.myworker.host=localhost\nJkWorkerProperty worker.myworker.port=8009\n...\n\nApache allows to split up config files into modular pieces and paste them together using the \"Include\" directive with various wildcard possibilities. With that approach you can also mix the \"reference\" feature of the mod_jk properties and e.g. mod_macro to simplify config files.\n\nIt could make sense to support your original enhancement request, but currently I don't plan to work on it.", "attachment_id": null, "id": 180151, "creator": "rainer.jung@kippdata.de", "time": "2015-01-05T11:17:21Z", "bug_id": 56489, "creation_time": "2015-01-05T11:17:21Z", "is_private": false}]