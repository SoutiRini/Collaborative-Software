[{"count": 0, "tags": [], "text": "As of mod_jk 1.2.21 it is no longer possible to define workers via \nJkWorkerProperties directives.\n\nConfigurations that worked with previous versions now get \"Error in reading \nworker properties\". When the properties are moved to a separate file, there is \nno error.", "attachment_id": null, "id": 100076, "creator": "ulf.moeller@secardeo.com", "time": "2007-03-06T01:57:34Z", "bug_id": 41770, "creation_time": "2007-03-06T01:57:34Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 41770, "attachment_id": null, "is_private": false, "id": 100085, "time": "2007-03-06T07:10:08Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2007-03-06T07:10:08Z", "text": "I have a running config which uses workers.properties and JkWorkerProperty.\n\nCould you please attach a test case, i.e. a small example configuration with\nwhich we can reproduce the problem."}, {"count": 2, "tags": [], "text": "You are correct.\nIf there is no define JkWorkersFile mo_jk on Windows shuts\ndown the httpd.\nIf there is a JkWorkersFile directive (even pointing to an empty file)\nthen everything works as expected. Not sure if you reported that exactly.\n", "is_private": false, "id": 100087, "creator": "mturk@apache.org", "time": "2007-03-06T07:33:43Z", "bug_id": 41770, "creation_time": "2007-03-06T07:33:43Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 41770, "text": "Aha, it's the same on the other platforms. We check for return form\njk_map_read_properties() and this returns JK_FALSE, if the file name is NULL.\n\nSo either we return JK_TRUE in case the file nae is NULL and the given map is\nnon empty, or we need to use a multi value return code, which distinguishes\nseveral kinds of anomalies.\n\nSince IIS and Netscape have no JkWorkerProperty statement, a NULL file name\nreally is an error for them. But maybe (it seems so) we already check for\nnon-NULL filenames during config parsing of IIS and netscape?\n", "id": 100088, "time": "2007-03-06T08:00:49Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2007-03-06T08:00:49Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "As a temporary workaround for those of you on UNIX, you may try adding:\n\n  JkWorkersFile /dev/null\n\n...in addition to your JkWorkerProperty directives (which still seem to apply).\n\nBest regards,\nBj\u00f6rn", "is_private": false, "id": 100095, "creator": "Bjorn.Wiberg@uadm.uu.se", "time": "2007-03-06T10:00:42Z", "bug_id": 41770, "creation_time": "2007-03-06T10:00:42Z", "attachment_id": null}, {"count": 5, "text": "Not sure if it's related, but worker.<name>.local_worker will also now toss an\nerror where it wouldn't in 1.2.20.  Removing the local_worker directive fixed\nthe error, but was surprising in a point release to say the least.", "creator": "jason.corley@gmail.com", "is_private": false, "id": 100096, "time": "2007-03-06T10:35:34Z", "bug_id": 41770, "creation_time": "2007-03-06T10:35:34Z", "tags": [], "attachment_id": null}, {"count": 6, "tags": [], "text": "When we introduced the new check for valid attributes, we carefully included all\nold obsolete attributes to not break old configs. Unfortunately if one goes back\nuntil mod_jk 1.2.6, there are two attributes that got completely removed between\n1.2.8 and 1.2.9: local_worker and local_worker_only. These two slipped our\nattention. So if you still have them in your configuration, the validity check\nfor the config will detect an unknown attribute and the web server will not start.\n\nWe should have added those two to our deprecation list long ago, then the web\nserver would start but log a notice, that these two properties are deprecated.\n\nAs a workaround please remove these two attributes from your configuration. They\ndon't work since 1.2.9 in early 2005. You can use the distance attribute to\nexpress proximity relations.\n\nWe will add local_worker and local_worker_only to our list of deprecated\nattributes in the next release, so that other users upgrading from very old\nversions will still be able to start their servers, but might need to optimize\ntheir configurations with respect to all attributes logged as deprecated during\nstartup.\n\nThanks for reporting this and sorry for the inconvenience.\n\nAnd: yes, I think we are not far from starting a new major release. We tried to\nimprove over a lot of dot releases and the functional break was not intentional.\n", "is_private": false, "id": 100108, "creation_time": "2007-03-06T15:18:38Z", "time": "2007-03-06T15:18:38Z", "creator": "rainer.jung@kippdata.de", "bug_id": 41770, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 41770, "text": "The startup error when no JkWorkersFile is given is fixed now.\nI also deleted the check for an empty init_map, because it is never empty (we\nadd at least one entry inside mod_jk: \"ServerRoot\").\n\nThe most important check is during wc_open(), where we try to create the workers.\n\nThe other startup error because of the old local_worker attribute is also fixed now.\n\nBoth fixes will be part of 1.2.21.1 or 1.2.22.\n\n", "count": 7, "id": 100278, "time": "2007-03-11T08:20:46Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2007-03-11T08:20:46Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 41770, "text": "*** Bug 42002 has been marked as a duplicate of this bug. ***", "id": 101263, "time": "2007-03-31T00:00:53Z", "creator": "mturk@apache.org", "creation_time": "2007-03-31T00:00:53Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "text": "Move a couple of fixed JK issues from resolved to closed.", "is_private": false, "id": 112393, "creation_time": "2008-01-01T16:32:31Z", "time": "2008-01-01T16:32:31Z", "creator": "rainer.jung@kippdata.de", "bug_id": 41770, "attachment_id": null}]