[{"count": 0, "tags": [], "creator": "jason.morris@citigroup.com", "text": "I have a JUnit test class which has it's own implementation of the runTest() \nand getName() methods. This is so that I can get more detail in the output of \nmy test cases by enhancing the test name.\n\nIt works fine if I use the junit.textui.TestRunner runner but not the ant \n<junit> runner.\n\nLooking at the code for \norg.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter, it seems \nthat it uses Reflection to get a handle on the Method for getName(). The \nproblem is that it explicitly grabs the getName() method for the base class \njunit.framework.TestCase, rather than calling getClass() on the individual \nTestCase object.\n\nBecause of this, my overridden getName() method is bypassed and the base-class \nversion is always used.\n\nA pretty minor thing but it would be really useful to use the object instance \nto find the getName() method rather than always assuming it should use the base \nclass version.\n\nMany thanks,\n\nJason Morris", "id": 45781, "time": "2003-10-16T10:34:42Z", "bug_id": 23862, "creation_time": "2003-10-16T10:34:42Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "jason.morris@citigroup.com", "text": "My mistake - I meant that this code is in class \norg/apache/tools/ant/taskdefs/optional/junit/JUnitVersionHelper, not \nXMLJUnitResultFormatter. Sorry about that.", "id": 45782, "time": "2003-10-16T10:37:23Z", "bug_id": 23862, "creation_time": "2003-10-16T10:37:23Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 23862, "attachment_id": null, "text": "I've just committed a JUnit test for this,\nhttp://cvs.apache.org/viewcvs/ant/src/testcases/org/apache/tools/ant/taskdefs/optional/junit/JUnitVersionHelperTest.java\n\nit passes for me, does it fail for you?  Which JDK?\n\nWe could probably remove the static reflection part completely and always use the\nsecond branch in getTestCaseName - at a certain performance penalty, that is.", "id": 46059, "time": "2003-10-22T14:34:08Z", "creator": "bodewig@apache.org", "creation_time": "2003-10-22T14:34:08Z", "is_private": false}, {"text": "Turned out Jason was using a version of JUnit that didn't have TestCase#getName\nso TestCase#name was called, bypassing his getName method.", "tags": [], "bug_id": 23862, "attachment_id": null, "count": 3, "id": 46111, "time": "2003-10-23T09:44:02Z", "creator": "bodewig@apache.org", "creation_time": "2003-10-23T09:44:02Z", "is_private": false}]