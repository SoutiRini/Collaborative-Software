[{"count": 0, "tags": [], "creator": "dev@tomcat.apache.org", "attachment_id": null, "id": 393, "time": "2001-01-10T03:59:19Z", "bug_id": 422, "creation_time": "2001-01-10T03:59:19Z", "is_private": false, "text": "This situation is that my project require to make 4 modules that are jsp, servlet, javabean and library modules. The relation of  them are that\r\n\r\n    jsp <-> javabean <-> library\r\n   jsp <-> servlet <-> library\r\n\r\nThis library module are responsible for all database related functions, and other modules only get , transform and send data to library.\r\n\r\nAbout my database related source codes use only basic syntax\r\nsuch as\r\n\r\n   ...\r\n   Class.forName(DRIVER);\r\n   conn = DriverManager.getConnection(url);\r\n   stmt = conn.createStatement();\r\n   rst = stmt.executeQuery(sql);\r\n   ...\r\n\r\n   -> DRIVER = sun.jdbc.odbc.JdbcOdbcDriver\r\n   -> url = jdbc:odbc:[my DSN name]\r\n\r\nI found that when I view JSP page or make servlet  request  through web browser. Many  times tomcat program make illegal operation and then window200 terminate it suddenly.\r\nI don't know what are cause. I try to check this situation by\r\ncreating new servlet source code whose functions only sequentially select data from 3-5 tables in one database. The result is that I still found this illegal operation.\r\n\r\nMy test servlet source code is that \r\n\r\n  ... CODE HEADER ...\r\n   try {\r\n   Class.forName(DRIVER);\r\n   } catch (Exception e) {}\r\n\r\n  String sql = \"select * from table_a\";\r\n   try {\r\n   conn = DriverManager.getConnection(url);\r\n   stmt = conn.createStatement();\r\n   rst = stmt.executeQuery(sql);\r\n   } catch (Exception e) {}\r\n   \r\n   sql = \"select * from table_b\";\r\n   try {\r\n   conn = DriverManager.getConnection(url);\r\n   stmt = conn.createStatement();\r\n   rst = stmt.executeQuery(sql);\r\n   } catch (Exception \r\n\r\n   sql = \"select * from table_c\";\r\n   try {\r\n   conn = DriverManager.getConnection(url);\r\n   stmt = conn.createStatement();\r\n   rst = stmt.executeQuery(sql);\r\n   } catch (Exception \r\n\r\n   ... CODE TAIL ...\r\n"}]