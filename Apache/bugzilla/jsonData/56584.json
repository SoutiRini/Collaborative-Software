[{"count": 0, "attachment_id": null, "bug_id": 56584, "is_private": false, "id": 175599, "time": "2014-06-02T17:11:25Z", "creator": "ralf.hergert.de@gmail.com", "creation_time": "2014-06-02T17:11:25Z", "tags": [], "text": "Ant's filter chains are a powerful concept, but so far non of the filters manages to resolve a placeholder like \"@@VERSION@@\". While ReplaceTokens gets close, it struggles on the repeating begin and end tokens.\n\nIf ReplaceTokens would support Strings instead of primitive chars, then ReplaceTokens might be even capable replacing Velocity-style- (${...}) or Mustache-style-placeholders ({{...}}).\n\nI would love to eighter provide a patch for ReplaceTokens to deal with Strings as limiters, or - if ReplaceTokens should not be touched - write another filter class which can."}, {"count": 1, "tags": [], "bug_id": 56584, "attachment_id": null, "id": 175613, "time": "2014-06-03T03:54:39Z", "creator": "bodewig@apache.org", "creation_time": "2014-06-03T03:54:39Z", "is_private": false, "text": "extending ReplaceTokens sounds good to me"}, {"count": 2, "tags": [], "bug_id": 56584, "attachment_id": 31707, "is_private": false, "id": 175773, "time": "2014-06-11T17:00:39Z", "creator": "ralf.hergert.de@gmail.com", "creation_time": "2014-06-11T17:00:39Z", "text": "Created attachment 31707\npatch which etends class ReplaceTokens to deal with Strings as begin- or end-token\n\nOK. I extended ReplaceTokens to deal with Strings as begin- and end-tokens. Please find the patch as attachment. Origin git repository is: https://git-wip-us.apache.org/repos/asf/ant.git\n\nBesides changing char to String the extenal interface of this class has not been changed and the existing tests for ReplaceTokens are still performed successfully. I created two more tests two proof that also placeholders like @@foo@@ can be replaced.\n\nSo far I did not update the documentation to the extended capabilities of ReplaceTokens."}, {"count": 3, "tags": [], "bug_id": 56584, "attachment_id": null, "id": 175945, "time": "2014-06-21T06:13:49Z", "creator": "bodewig@apache.org", "creation_time": "2014-06-21T06:13:49Z", "is_private": false, "text": "going from chat to String in the setters is not exactly backwards compatible but I'm willing to live with that.  It's pretty unlikely the class has been used from Java code directly.\n\nUnfortunately your patch relies on Java6 (TreeMap#ceilingKey) and currently Ant targets Java5, do you think you could adapt it to the older API?"}, {"count": 4, "tags": [], "text": "Created attachment 31745\nfixed patch which extends class ReplaceTokens to deal with Strings as begin- or end-token\n\nSure. The method TreeMap#ceilingKey is now replaced by TreeMap#tailMap, which does essentially the same, but is supported in Java5. I recreated the patch, instead of providing fixes for the previous patch file. I hope this is OK.", "attachment_id": 31745, "id": 175994, "creator": "ralf.hergert.de@gmail.com", "time": "2014-06-23T21:36:07Z", "bug_id": 56584, "creation_time": "2014-06-23T21:36:07Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 56584, "is_private": false, "text": "Thank you, git commit 6e88f92", "id": 175998, "time": "2014-06-24T04:32:53Z", "creator": "bodewig@apache.org", "creation_time": "2014-06-24T04:32:53Z", "attachment_id": null}]