[{"count": 0, "tags": [], "creator": "mrsea77@yahoo.com", "attachment_id": null, "id": 86236, "time": "2006-02-26T21:46:08Z", "bug_id": 38787, "creation_time": "2006-02-26T21:46:08Z", "is_private": false, "text": "There is a bug in org.apache.bcel.internal.util.InstructionFinder.compilePattern\nPlease also refer to this bug report for more details about dottless i and \nTurkish .toLowerCase problem. Second comment of the bug report (Submitted On 08-\nJAN-2006) is very important.\nhttp://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6240963\n\nI am trying to use ActiveMQ JMS 1.1 Provider but when I am trying to start it \non a Windows 2000 SP4 with Turkish Default Locale I have following exception;\n\njava.lang.RuntimeException: Instruction unknown: load\u00b2nstruction \n        at com.sun.org.apache.bcel.internal.util.InstructionFinder.mapName\n(InstructionFinder.java:138) \n        at \ncom.sun.org.apache.bcel.internal.util.InstructionFinder.compilePattern\n(InstructionFinder.java:170) \n        at com.sun.org.apache.bcel.internal.util.InstructionFinder.search\n(InstructionFinder.java:218) \n        at com.sun.org.apache.bcel.internal.util.InstructionFinder.search\n(InstructionFinder.java:264) \n        at \ncom.sun.org.apache.xalan.internal.xsltc.compiler.Mode.peepHoleOptimization\n(Mode.java:1444) \n        at \ncom.sun.org.apache.xalan.internal.xsltc.compiler.Mode.compileApplyTemplates\n(Mode.java:1058) \n        at \ncom.sun.org.apache.xalan.internal.xsltc.compiler.Stylesheet.compileModes\n(Stylesheet.java:615) \n        at com.sun.org.apache.xalan.internal.xsltc.compiler.Stylesheet.translate\n(Stylesheet.java:730) \n        at com.sun.org.apache.xalan.internal.xsltc.compiler.XSLTC.compile\n(XSLTC.java:335) \n        at com.sun.org.apache.xalan.internal.xsltc.compiler.XSLTC.compile\n(XSLTC.java:410) \n        at \ncom.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates\n(TransformerFactoryImpl.java:791) \n        at \ncom.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTransform\ner(TransformerFactoryImpl.java:619) \n        at org.activemq.spring.ActiveMQBeanDefinitionReader.createTransformer\n(ActiveMQBeanDefinitionReader.java:63) \n        at org.activemq.spring.ActiveMQBeanDefinitionReader.transformDocument\n(ActiveMQBeanDefinitionReader.java:94) \n        at \norg.activemq.spring.ActiveMQBeanDefinitionReader.registerBeanDefinitions\n(ActiveMQBeanDefinitionReader.java:53) \n        at \norg.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinition\ns(XmlBeanDefinitionReader.java:155) \n        at org.activemq.spring.ActiveMQBeanFactory.<init>\n(ActiveMQBeanFactory.java:86) \n        at org.activemq.spring.ActiveMQBeanFactory.<init>\n(ActiveMQBeanFactory.java:57) \n        at \norg.activemq.spring.SpringBrokerContainerFactory.createBrokerContainer\n(SpringBrokerContainerFactory.java:86) \n        at org.activemq.spring.Main.main(Main.java:71) \n\n\n   When I switch to English US defult locale everything works fine.\n\nSo there are lots of tools and open source projects (like NetBeans) which uses \nBCEL. This is a big problem for us which working on Turkish Locale.\n\nThanks"}, {"count": 1, "tags": [], "creator": "dbrosius@apache.org", "attachment_id": null, "is_private": false, "id": 86239, "time": "2006-02-27T02:14:03Z", "bug_id": 38787, "creation_time": "2006-02-27T02:14:03Z", "text": "Thanks for the report.\n\nchanged toLowerCase to toLowerCase(Locale.ENGLISH), as use is to search for java\ninstructions, which are always english anyway."}, {"count": 2, "tags": [], "bug_id": 38787, "attachment_id": null, "id": 90833, "creation_time": "2006-07-03T12:23:41Z", "time": "2006-07-03T12:23:41Z", "creator": "serkan.erdur@eu.sony.com", "text": "Hi could you tell us in which version this bug is fixed?", "is_private": false}, {"count": 3, "tags": [], "bug_id": 38787, "attachment_id": null, "id": 130300, "time": "2009-09-11T01:48:06Z", "creator": "tmnsur@gmail.com", "creation_time": "2009-09-11T01:48:06Z", "is_private": false, "text": "Latest bcel release, 5.2 still has this bug. Official jre have the bug in com/sun/org/apache/bcel/internal/util/InstructionFinder.compilePattern. It exists even in latest jre6 and jre1.5.0_21. It is not very hard to modify the bcel source code and load it into bootclasspath before rt.jar but to be clean it needs to be fixed. Will Apache or Sun fix this sometime?"}, {"count": 4, "tags": [], "text": "This is fixed in BCEL trunk (so scheduled for 5.3).\n\nWhen/if BCEL gets updated inside the JDK - no idea.", "attachment_id": null, "bug_id": 38787, "id": 133482, "time": "2010-01-10T11:34:39Z", "creator": "tcurdt@apache.org", "creation_time": "2010-01-10T11:34:39Z", "is_private": false}]