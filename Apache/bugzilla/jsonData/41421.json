[{"count": 0, "tags": [], "bug_id": 41421, "text": "By merely visiting a page in authoring that is currently locked by a user that\nis not the user that has the page locked, the locked page is added to it's list\nof work. This causes errors to be thrown when trying to save other pages, or\nwhen trying to log out. Since the item is never removed from the users list of\nTransactionables, the only way to clear the error is to keep hitting logout,\nwhich will work on the second try.\n\nTo reproduce: login into lenya with one user. Open a page for editing. Open a\ncompletely different browser and login as a different user. Visit the page that\nis being edited. Then try to log out with that second user.", "id": 98285, "time": "2007-01-19T11:30:40Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-01-19T11:30:40Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "rfrovarp@apache.org", "is_private": false, "text": "Why is it that commits are being called on pages that the user isn't currently\nediting? Shouldn't there be some sort of test in UnitOfWorkImpl to see what it\nis that the user is doing? Or is IdentityMapImpl.get() being called incorrectly\nsome where? Only thing is I don't see any way of removing anything so that\nIdentityMapImpl.getObjects() won't return it anymore. \n\nI have tracked the problem down to svn commit r492591. I have no idea what\nexactly caused the problem in that commit.", "id": 98378, "time": "2007-01-22T15:04:29Z", "bug_id": 41421, "creation_time": "2007-01-22T15:04:29Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "Would it be possible to add a test case for this bug?", "is_private": false, "id": 98385, "creator": "andreas@apache.org", "time": "2007-01-23T01:17:08Z", "bug_id": 41421, "creation_time": "2007-01-23T01:17:08Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "Should be fixed now.", "is_private": false, "id": 98405, "creator": "andreas@apache.org", "time": "2007-01-23T09:34:50Z", "bug_id": 41421, "creation_time": "2007-01-23T09:34:50Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 41421, "attachment_id": null, "id": 98409, "time": "2007-01-23T11:06:49Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-01-23T11:06:49Z", "is_private": false, "text": "Mostly fixed. Works for logout, BXE, and Kupu. Forms and oneForm present a\ncancel button, which calls rollback. FCKedit just throws up a warning message,\nallowing the user to edit the page. At this point they too have checked the file\nout, so they are allowed to save a file that is already checked out by another\nuser. I will work on a patch for FCKedit. I don't have TinyMCE configured, so\nsomeone will have to give that one a try."}, {"count": 5, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "is_private": false, "id": 98416, "time": "2007-01-23T12:09:25Z", "bug_id": 41421, "creation_time": "2007-01-23T12:09:25Z", "text": "Thanks for testing!\nI'll take a look at Neutron/Yulup too."}, {"count": 6, "tags": [], "text": "I've tried, but I can't quite figure out how to prevent FCKeditor from loading\nin the same way the BXE and Kupu do. Changing the usecase to have a oneForm type\nbehavior shouldn't be too tough.", "attachment_id": null, "id": 98422, "creator": "rfrovarp@apache.org", "time": "2007-01-23T14:30:39Z", "bug_id": 41421, "creation_time": "2007-01-23T14:30:39Z", "is_private": false}, {"count": 7, "tags": [], "creator": "rfrovarp@apache.org", "attachment_id": 19462, "id": 98522, "time": "2007-01-25T11:42:40Z", "bug_id": 41421, "creation_time": "2007-01-25T11:42:40Z", "is_private": false, "text": "Created attachment 19462\nPrevents users of FCKeditor from editing locked pages by other users.\n\nI was in the end able to follow the methods used by Kupu and BXE. This will\ndisplay who and when the check out occurred."}, {"count": 8, "tags": [], "text": "Created attachment 19463\nUpdate UnitOfWorkImpl to check for checkout owner upon rollback\n\nChecks to see if current user has checked the file out for rollback. Prevents\nerrors when hitting cancel from the Forms or oneForm editors for checked out\nfiles.", "is_private": false, "bug_id": 41421, "id": 98523, "time": "2007-01-25T12:09:04Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-01-25T12:09:04Z", "attachment_id": 19463}, {"attachment_id": null, "tags": [], "bug_id": 41421, "text": "I've fixed FCKedit, and the problem with Forms and oneForm editors. It does not\nlook from the code that TinyMCE is stopping users from editing checked out\ndocuments. Some one familiar with that code will have to fix it.", "count": 9, "id": 98524, "time": "2007-01-25T12:10:28Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-01-25T12:10:28Z", "is_private": false}, {"count": 10, "tags": [], "creator": "thorsten@apache.org", "attachment_id": null, "text": "committed to revision: 500014\nthx Richard.\nsalu2", "id": 98526, "time": "2007-01-25T14:13:00Z", "bug_id": 41421, "creation_time": "2007-01-25T14:13:00Z", "is_private": false}, {"count": 11, "tags": [], "text": "Renaming Lenya 1.4 to 2.0", "is_private": false, "bug_id": 41421, "id": 105580, "time": "2007-07-16T01:59:25Z", "creator": "thorsten@apache.org", "creation_time": "2007-07-16T01:59:25Z", "attachment_id": null}]