[{"count": 0, "tags": [], "creator": "dave.pawson@gmail.com", "attachment_id": null, "id": 129600, "time": "2009-08-10T11:32:00Z", "bug_id": 47671, "creation_time": "2009-08-10T11:32:00Z", "is_private": false, "text": "catalog entry of\n\n <system\n      systemId=\"erlref.dtd\"\n      uri=\"/files/erlang/dtds/erlref.dtd\"\n      \n     />\n\nIs never seen by the resolver. See http://www.sagehill.net/docbookxsl/WriteCatalog.html#ResolveDtdLoc\n\n\nYet http://xmlsoft.org/XSLT/xsltproc.html  catalog resolves this?\n\nI.e. I think it should resolve appropriately\n\nMarked as XSLTBug, since transform cannot take place\nwithout DTD resolution\n\n\nregards DaveP"}, {"count": 1, "tags": [], "bug_id": 47671, "attachment_id": null, "is_private": false, "id": 129603, "time": "2009-08-10T16:27:31Z", "creator": "earl@earlhood.com", "creation_time": "2009-08-10T16:27:31Z", "text": "What is the full catalog?\nDoes the path \"/files/erlang/dtds/erlref.dtd\" exist on\nthe filesystem?  Or have you set xml:base?\n\nHave you tried setting the verbosity with the\nxml.catalog.verbosity property. Set to 5 or larger to get maximum\nverbosity.  This will determine if your catalog is actually getting\nread and what the resolver does when resolving a uri.\n\nWhat is the exact error message(s) you get?\n\nIf you can provide a reproducable test case, it will make\nfinding a solution faster.\n\nBTW, I'm not an official maintainer of the resolver code,\nbut I had to dive into it over a year ago to fix bugs.\nI believe some of my patches have been accepted, but\nI do not think a new release of the resolver has been\ndone in quite some time."}, {"count": 2, "tags": [], "text": "What is the full catalog?\nDoes the path \"/files/erlang/dtds/erlref.dtd\" exist on\nthe filesystem?  Or have you set xml:base?\n\nHave you tried setting the verbosity with the\nxml.catalog.verbosity property. Set to 5 or larger to get maximum\nverbosity.  This will determine if your catalog is actually getting\nread and what the resolver does when resolving a uri.\n\nWhat is the exact error message(s) you get?\n\nIf you can provide a reproducable test case, it will make\nfinding a solution faster.\n\n1. full catalog\n\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<catalog xmlns=\"urn:oasis:names:tc:entity:xmlns:xml:catalog\"\n\t >\n <system\n      systemId=\"erlref.dtd\"\n      uri=\"/files/erlang/dtds/erlref.dtd\"            />\n <systemSuffix\n      systemIdSuffix=\"xhtml-lat1.ent\"\n      uri=\"/files/erlang/dtds/xhtml-lat1.ent\"     />\n</catalog>\n\n2. The dtd and entity file are in ./dtds /files/erlang/dtds\n3. I had tried xml:base, but now removed.\n\nInstance has \n<?xml version=\"1.0\" encoding=\"latin1\" ?>\n<!DOCTYPE erlref SYSTEM \"erlref.dtd\">\na file of \n<erlref>&nbsp</erlref>\n\nwould test it.\n\nI have CatalogManger.properties with verbosity set high.\n\nError reported is:\n\nParse catalog: erlang.catalog.xml                            \nLoading catalog: erlang.catalog.xml\nDefault BASE: file:////files/erlang/erlang.catalog.xml\nsystem: erlref.dtd\n        /files/erlang/dtds/erlref.dtd\nSYSTEM: erlref.dtd\n        file:/files/erlang/dtds/erlref.dtd\nsystemSuffix: xhtml-lat1.ent\n        /files/erlang/dtds/xhtml-lat1.ent\nSYSTEM_SUFFIX: xhtml-lat1.ent\n        file:/files/erlang/dtds/xhtml-lat1.ent\nresolveSystem(file:/files/erlang/module.xsl)\nresolveSystem(file:/files/erlang/erlang.xml)\nresolveSystem(file:/files/erlang/erlref.dtd)\nError on line 2 column 37 of file:/files/erlang/erlang.xml:\n  Error reported by XML parser: Cannot read from file:/files/erlang/erlref.dtd (/files/erlang/erlref.dtd (No such file or directory))\nTransformation failed: Run-time errors were reported\n\nHTH", "attachment_id": null, "id": 129605, "creator": "dave.pawson@gmail.com", "time": "2009-08-10T21:53:34Z", "bug_id": 47671, "creation_time": "2009-08-10T21:53:34Z", "is_private": false}, {"count": 3, "tags": [], "creator": "earl@earlhood.com", "attachment_id": null, "is_private": false, "id": 129611, "time": "2009-08-11T08:00:03Z", "bug_id": 47671, "creation_time": "2009-08-11T08:00:03Z", "text": "(In reply to comment #2)\n> resolveSystem(file:/files/erlang/module.xsl)\n> resolveSystem(file:/files/erlang/erlang.xml)\n> resolveSystem(file:/files/erlang/erlref.dtd)\n\nThe above verbosity implies (to me) that the parser is passing\nthe wrong system ID to the resolver.\n\nI.e. Instead of the XML parser passing just \"erlref.dtd\" to\nthe resolver, the parser is first fully qualifying the system ID\n(probably based upon the current working directory)\nbefore it passes the system ID to the resolver.  Since the\ncatalog has no entry for \"file:/files/erlang/erlref.dtd\", the\nresolver will find no matching entries.\n\nThe parser then attempts to load the file directory, which of\ncourse fails since the file does not exist with given path.\n\nAt this time, this appears to be an XML parser problem.\nThe parser should only be passing \"erlref.dtd\" to the\nresolver.\n\nBTW, did you trim some of the diagnostic output?  It seems\nthe XML parser is calling Catalog directly versus the\nCatalogResolver class that implements the SAX EntityResolver\nand JAXP URIResolver interfances.  I see no debugging messages\nfrom the CatalogResolver class."}, {"count": 4, "tags": [], "text": "I think that this bug may be a duplicate of: https://issues.apache.org/bugzilla/show_bug.cgi?id=28719", "attachment_id": null, "id": 133591, "creator": "buckett@bumph.org", "time": "2010-01-14T01:46:08Z", "bug_id": 47671, "creation_time": "2010-01-14T01:46:08Z", "is_private": false}]