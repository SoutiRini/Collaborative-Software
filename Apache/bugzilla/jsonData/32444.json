[{"count": 0, "tags": [], "bug_id": 32444, "attachment_id": null, "id": 67611, "time": "2004-11-30T09:27:41Z", "creator": "hollandr@gis.a-star.edu.sg", "creation_time": "2004-11-30T09:27:41Z", "is_private": false, "text": "Hi all. I have a webapp which refers to javax.activation.DataSource. This class \nis contained in activation.jar. I placed activation.jar in WEB-INF/lib for the \napplication, generated the WAR file, and uploaded it. Checking on server shows \nthat WAR file was correctly unpacked and contains WEB-INF/lib/activation.jar. \nHowever, when the servlet that needs it is called by Tomcat, it fails \nconsistently with a NoClassdefFoundException. \n\nI managed to workaround it by moving activation.jar from WEB-INF/lib to the \nTomcat-wide common/lib folder, after which it all worked just fine. Moving it \nback again, and it stops working again.\n\nSo, is this a bug with the Tomcat classloader that loads JAR files from WEB-\nINF/lib?"}, {"count": 1, "text": "activation.jar in WEB-INF/lib works for me just fine, and has been since 4.x.", "bug_id": 32444, "attachment_id": null, "id": 67626, "time": "2004-11-30T17:47:11Z", "creator": "yoavs@computer.org", "creation_time": "2004-11-30T17:47:11Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "text": "when you say you have a webapp that refers to .. do you mean you are using \ntomcat to generate mail Sessions for you? or does your own code reference this \nclass? if you just want tomcat to give you sessions, you do not need activation \nand mail jars in your web-inf lib and common/lib is fine imo.", "is_private": false, "id": 67632, "creator": "allistair.crossley@qas.com", "time": "2004-11-30T18:00:25Z", "bug_id": 32444, "creation_time": "2004-11-30T18:00:25Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 32444, "attachment_id": null, "text": "The webapp includes the jar in WEB-INF/lib, imports it, and uses it directly. \nThis is because the code in question is some generic code that is used both \nwithin and outside webapps. I am curious because we have a number of boxes, and \nthis is the only one it does not work on. The only difference between this box \nand the others is that this box is running Solaris 9, whereas the others are \nrunning Windows XP, RedHat, and Solaris 8. This problem is common to all \nwebapps on this particular box which use activation.jar. We tried a fresh \ninstall of Tomcat 5.0.28 but to no avail. The jar file, other jars and their \nlocations, Tomcat version and Java version (1.5.0 b64) are exactly the same on \nall boxes.", "id": 67669, "time": "2004-12-01T01:39:08Z", "creator": "hollandr@gis.a-star.edu.sg", "creation_time": "2004-12-01T01:39:08Z", "is_private": false}]