[{"count": 0, "tags": [], "text": "I've compiled PHP4.3.8 as:\n./configure --enable-gd-imgstrttf --with-gd --with-jpeg --with-\napache=../apache_1.3.31 --with-mysql --with-pspell \n\n--with-ttf --with-zlib --enable-bcmath --enable-filepro --enable-ftp --enable-\ntrack-vars --enable-calendar --enable-ctype \n\n--enable-exif --enable-trans-sid --enable-shmop --enable-sockets --enable-\nsysvsem --enable-sysvshm --enable-wddx \n\n--with-sybase-ct=/opt/sybase-11.9.2 --enable-sigchild --with-oci8=/ora/9iR2 --\nwith-oracle=/ora/9iR2 --without-pear\n\n#make all\n#make install\n#cd ../apache_1.3.31\n#cp src/modules/php4/libphp4.module src/modules/php4/libphp4.a\n#./configure --prefix=/usr/local/apache --enable-module=most --enable-module=so \n--activate-module=src/modules/php4/libphp4.a\n#make all\n#make install\n#cd ../php-4.3.8\n#cp php.ini-dist /usr/local/lib/php.ini\n\n...no errors so far....\n# /usr/local/apache/bin/apachectl start\n/usr/local/apache/bin/apachectl: line 186: 16158 Trace/breakpoint trap   $HTTPD\n/usr/local/apache/bin/apachectl start: httpd could not be started\nfls:/sources/php-4.3.8# ldd /usr/local/apache/bin/httpd \n        libcrypt.so.1 => /lib/libcrypt.so.1 (0x4001d000)\n        libinsck.so => /opt/sybase-11.9.2/lib/libinsck.so (0x4004a000)\n        libsybtcl.so => /opt/sybase-11.9.2/lib/libsybtcl.so (0x4004e000)\n        libintl.so => /opt/sybase-11.9.2/lib/libintl.so (0x40070000)\n        libcomn.so => /opt/sybase-11.9.2/lib/libcomn.so (0x40078000)\n        libct.so => /opt/sybase-11.9.2/lib/libct.so (0x400d0000)\n        libcs.so => /opt/sybase-11.9.2/lib/libcs.so (0x4012d000)\n        libpspell.so.4 => /usr/lib/libpspell.so.4 (0x4013a000)\n        libpng.so.2 => /usr/lib/libpng.so.2 (0x40157000)\n        libz.so.1 => /usr/lib/libz.so.1 (0x40182000)\n        libresolv.so.2 => /lib/libresolv.so.2 (0x40191000)\n        libm.so.6 => /lib/libm.so.6 (0x401a1000)\n        libdl.so.2 => /lib/libdl.so.2 (0x401c2000)\n        libnsl.so.1 => /lib/libnsl.so.1 (0x401c5000)\n        libclntsh.so.9.0 => /ora/9iR2/lib/libclntsh.so.9.0 (0x401d9000)\n        libdb.so.2 => /lib/libdb.so.2 (0x40baa000)\n        libc.so.6 => /lib/libc.so.6 (0x40bb7000)\n        libpthread.so.0 => /lib/libpthread.so.0 (0x40cd4000)\n        libstdc++-libc6.2-2.so.3 => /usr/lib/libstdc++-libc6.2-2.so.3 \n(0x40ce9000)\n        libltdl.so.3 => /usr/lib/libltdl.so.3 (0x40d32000)\n        libpspell-modules.so.1 => /usr/lib/libpspell-modules.so.1 (0x40d38000)\n        libwtc9.so => /ora/9iR2/lib/libwtc9.so (0x40d3a000)\n        /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)\n\n\n# gdb /usr/local/apache/bin/httpd \nGNU gdb 2002-04-01-cvs\nCopyright 2002 Free Software Foundation, Inc.\nGDB is free software, covered by the GNU General Public License, and you are\nwelcome to change it and/or distribute copies of it under certain conditions.\nType \"show copying\" to see the conditions.\nThere is absolutely no warranty for GDB.  Type \"show warranty\" for details.\nThis GDB was configured as \"i386-linux\"...\n(gdb) b ap_process_request\nBreakpoint 1 at 0x81c8f8a\n(gdb) run -X -d /usr/local/apache\nStarting program: /usr/local/apache/bin/httpd -X -d /usr/local/apache\n[New Thread 1024 (LWP 16166)]\n\nProgram received signal SIGTRAP, Trace/breakpoint trap.\n[Switching to Thread 1024 (LWP 16166)]\n0x40ccc6bb in __morecore () from /lib/libc.so.6\n(gdb) s\nSingle stepping until exit from function __morecore, \nwhich has no line number information.\n\nProgram received signal SIGILL, Illegal instruction.\n0x40ccc6c5 in __morecore () from /lib/libc.so.6\n(gdb) n\nSingle stepping until exit from function __morecore, \nwhich has no line number information.\nCannot find user-level thread for LWP 16166: generic error\n(gdb) s\nCannot find thread 1024: generic error\n\nI've compiled this two with all the options but Sybase and Oracle, Now I've \nmanaged to install both on Debian/Woody and wanted to use them from Apache/PHP.\n\nGood luck!!\nFrancisco Puente", "is_private": false, "id": 62220, "creator": "francisco.puente@ericsson.ca", "time": "2004-08-20T00:49:04Z", "bug_id": 30767, "creation_time": "2004-08-20T00:49:04Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "I don't see a segfault ;)\n\nAnyway it looks more like broken lib(c?) or the like. If you still think,\nwhether it's a bug in httpd, please compile a plain httpd and see if the problem\npersists.", "attachment_id": null, "id": 62225, "creator": "nd@perlig.de", "time": "2004-08-20T06:31:16Z", "bug_id": 30767, "creation_time": "2004-08-20T06:31:16Z", "is_private": false}]