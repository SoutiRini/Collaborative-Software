[{"count": 0, "tags": [], "text": "mod_disk_cache reads and closes hdrs.fd in recall_headers() but clearly closes hdrs.fd in open_entity (the immediately preceding callback).\n\nOn unix, the read from the closed file seems to be tolerated because they are open with buffering, but I think this is not intended.\n\nIIUC, hdrs.fd should be left open from branches that return OK, and closed on the others.  Or the relatively short data should be buffered explicitly somewhere in memory / mod_disk_cache.", "attachment_id": null, "id": 171522, "creator": "covener@gmail.com", "time": "2013-12-02T00:34:14Z", "bug_id": 55833, "creation_time": "2013-12-02T00:34:14Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 55833, "is_private": false, "id": 171533, "attachment_id": 31087, "creator": "covener@gmail.com", "creation_time": "2013-12-02T17:26:32Z", "time": "2013-12-02T17:26:32Z", "text": "Created attachment 31087\nclose headers.fd only when declining open_entity"}, {"count": 2, "tags": [], "text": "Fixed and released in 2.4.8", "is_private": false, "id": 177236, "creator": "christophe.jaillet@wanadoo.fr", "time": "2014-08-18T08:24:35Z", "bug_id": 55833, "creation_time": "2014-08-18T08:24:35Z", "attachment_id": null}]