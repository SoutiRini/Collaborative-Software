[{"count": 0, "tags": [], "bug_id": 50112, "is_private": false, "text": "There are two issues.\n\n#1)\n\nWhen I attempt to do ./buildconf I get:\n\nCopying libtool helper files ...\n$_prefix/share/aclocal/libtool.m4 not found\n\nI found this here:\n\nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=48776\n\nBut I was unable to find a solution. Temporarily I edited /usr/bin/glibtoolize and changed:\n\naclocaldir=$_prefix/share/aclocal\n\nto:\n\naclocaldir=/usr/share/aclocal\n\nAnd that fixed this issue. I can confirm this on 2.2.14 through 2.2.16 (Didn't test 2.2.17 with this issue)\n\n#2)\n\nAfter working around #1 I get this:\n\n./buildconf failed for apr-util\n\n(with a few possible relevant lines above this one)\n\nI was unable to find a work around. This ONLY applies to 2.2.15 through 2.2.17. It works fine with 2.2.14, which means this problem was introduced in 2.2.15.\n\n\nAs far as I can tell each version builds fine as long as you dont need to run ./buildconf. But buildconf is needed, as far as I know, when you want to include optional extensions like mod_fcgid (these issues happen regardless if I have that included or not).\n\nLuke", "id": 140813, "time": "2010-10-18T21:52:48Z", "creator": "luke@cywh.com", "creation_time": "2010-10-18T21:52:48Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 50112, "is_private": false, "id": 140814, "creation_time": "2010-10-19T00:22:30Z", "time": "2010-10-19T00:22:30Z", "creator": "rainer.jung@kippdata.de", "text": "Can you try running after setting an environment variable named LIBTOOL_M4 to the full file name (including absolute directory path) of your libtool.m4 file?\n\nIf there are still failures, e.g. your #2 failure, please provide full buildconf output.", "attachment_id": null}, {"count": 2, "tags": [], "text": "For #1 here is the complete output:\n\n\nfound apr source: srclib/apr\nfound apr-util source: srclib/apr-util\nrebuilding srclib/apr/configure\nbuildconf: checking installation...\nbuildconf: python version 2.6.1 (ok)\nbuildconf: autoconf version 2.61 (ok)\nbuildconf: libtool version 2.2.4 (ok)\nCopying libtool helper files ...\n$_prefix/share/aclocal/libtool.m4 not found\n./buildconf failed for apr\n\n\nI tried setting LIBTOOL_M4 to /usr/share/aclocal and /usr/share/aclocal/libtool.m4 and nothing changed (output is still the same as above).\n\nThis is the code in /usr/bin/glibtoolize which is bundled with OS X 10.6.4:\n\nprefix=/usr\ndatadir=$_prefix/share\npkgdatadir=$_prefix/share/libtool\npkgltdldir=$_prefix/share/libtool\naclocaldir=$_prefix/share/aclocal\n\nNot sure how ./buildconf gets the value of libtool.m4, but if it's reading it directly \"$_prefix\" is not being parsed.\n\nFor #2 (still manually editing glibtoolize to aclocaldir=/usr/share/aclocal):\n\nThe output is:\n\n\nfound apr source: srclib/apr\nfound apr-util source: srclib/apr-util\nrebuilding srclib/apr/configure\nbuildconf: checking installation...\nbuildconf: python version 2.6.1 (ok)\nbuildconf: autoconf version 2.61 (ok)\nbuildconf: libtool version 2.2.4 (ok)\nCopying libtool helper files ...\nbuildconf: Using libtool.m4 at /usr/share/aclocal/libtool.m4.\nCreating include/arch/unix/apr_private.h.in ...\nCreating configure ...\nGenerating 'make' outputs ...\nrebuilding rpm spec file\nrebuilding srclib/apr-util/configure\n\nLooking for apr source in /Users/lukescott/Downloads/httpd-2.2.17/srclib/apr\ncp: /Users/lukescott/Downloads/httpd-2.2.17/srclib/apr/build/config.guess: No such file or directory\ncp: /Users/lukescott/Downloads/httpd-2.2.17/srclib/apr/build/config.sub: No such file or directory\n./buildconf failed for apr-util\n\n\nAgain this isn't an issue in version 2.2.14.\n\n\nThe above was just tested in build 2.2.17", "is_private": false, "id": 140835, "creator": "luke@cywh.com", "time": "2010-10-19T15:33:02Z", "bug_id": 50112, "creation_time": "2010-10-19T15:33:02Z", "attachment_id": null}]