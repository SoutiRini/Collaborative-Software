[{"count": 0, "tags": [], "bug_id": 11482, "is_private": false, "id": 20670, "creation_time": "2002-08-05T21:06:40Z", "time": "2002-08-05T21:06:40Z", "creator": "sandymac@ufl.edu", "text": "Below is a diff to org/apache/tools/ant/taskdefs/optional/splash/SplashTask.java\nthat make it so if you run ant in an enviroment that doesn't have a GUI (eg:\nwhen DISPLAY=\"\" in a unix os) it doesn't thow the error:\n\njava.lang.InternalError: Can't connect to X11 window server using '' as the\nvalue of the DISPLAY variable.\n\n\n--- SplashTask.orig.java        Mon Aug  5 16:57:05 2002\n+++ SplashTask.java     Mon Aug  5 16:57:26 2002\n@@ -218,6 +218,9 @@\n                 success = true;\n             } catch (Exception e) {\n                 throw new BuildException(e);\n+            } catch (InternalError e) {\n+                log(e.toString(),  Project.MSG_DEBUG);\n+                return;\n             } finally {\n                 try {\n                     din.close();", "attachment_id": null}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "is_private": false, "id": 51806, "creation_time": "2004-02-06T09:09:40Z", "time": "2004-02-06T09:09:40Z", "bug_id": 11482, "text": "InternalError is not enough, you could also get a java.awt.HeadlessException in\nJDK 1.4.  Solved in a more general way at the cost of potentially swallowing too\nmany errors in 1.6.1.\n", "attachment_id": null}]