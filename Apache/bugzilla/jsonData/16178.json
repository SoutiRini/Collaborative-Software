[{"count": 0, "tags": [], "bug_id": 16178, "attachment_id": null, "is_private": false, "id": 29565, "time": "2003-01-16T19:37:25Z", "creator": "kathy-j@vips.com", "creation_time": "2003-01-16T19:37:25Z", "text": "I bring up Tomcat 4.1 with the startup.sh script.  Both the $CATALINA_HOME and \n$JAVA_HOME are set correctly.  When I run the shutdown.sh script, I do not get \nany errors, the catalina.out and localhost output looks normal, but, the Unix \nprocess is still running.  I have to run the \"kill\" command to kill the \nprocess.  When I was running Tomcat 3.2 I did not have to do this."}, {"count": 1, "tags": [], "bug_id": 16178, "attachment_id": null, "is_private": false, "id": 29579, "time": "2003-01-17T01:43:46Z", "creator": "glenn@apache.org", "creation_time": "2003-01-17T01:43:46Z", "text": "The shutdown.sh script only signals the running tomcat 4 instance to shutdown.\nIt can take tomcat a while to shutdown depending on the request load.\nOn a production system I have had to wait 10-30 seconds sometime for tomcat\nto complete its shutdown. Do a tail on the log for the Connector you are using\nand check for Processor stopping messages."}, {"count": 2, "tags": [], "bug_id": 16178, "attachment_id": null, "is_private": false, "id": 29620, "time": "2003-01-17T16:45:01Z", "creator": "tmoore@blackboard.com", "creation_time": "2003-01-17T16:45:01Z", "text": "An additional note:\n\nWe discovered that Tomcat 4.1 was not completely shutting down on our system \nbecause our app was spawning non-daemon threads that never terminated.  In \nTomcat 3.x, the VM would be killed by the shutdown script, but in 4.1 it's \nexpected to shutdown gracefully.  Ensure that any background threads that your \nwebapp starts are stopped when the context is destroyed."}]