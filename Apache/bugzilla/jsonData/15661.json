[{"count": 0, "tags": [], "bug_id": 15661, "attachment_id": null, "id": 28262, "time": "2002-12-25T22:49:51Z", "creator": "kms@skontorp.net", "creation_time": "2002-12-25T22:49:51Z", "is_private": false, "text": "When using the same context path for different applications, it would have been\nvery useful if the work directory could have been deleted on undeploy.\n\nI am using one virtual host with the root context path to test different\napplications, running deploy (with a war file) and undeploy on the manager\nservlet from ant.\n\nIt looks like the jsp is compiled only when the jsp is newer than the java/class\nin the work directory. This is probably fine when you are deploying the same\napplication, however, not good when switching between applications.\n\nBug #6749 seems similar. It has apparently been resolved, though.\n\nA workaround is to touch the jsp files before deployment to get them recompiled."}, {"count": 1, "tags": [], "creator": "rsteele@pharmanet.com", "is_private": false, "text": "Created attachment 7163\nRemove temp files on undeploy", "id": 40174, "time": "2003-07-08T14:49:17Z", "bug_id": 15661, "creation_time": "2003-07-08T14:49:17Z", "attachment_id": 7163}, {"count": 2, "tags": [], "bug_id": 15661, "text": "This patch (and the previous bugzilla attachment) is for version 4.1.24:\n\n---\nsrc/catalina/src/share/org/apache/catalina/servlets/ManagerServlet.java.orig\n2003-03-19 04:18:38.000000000 -0500\n+++ src/catalina/src/share/org/apache/catalina/servlets/ManagerServlet.java\n2003-07-07 16:08:58.000000000 -0400\n@@ -1226,7 +1226,7 @@\n                 writer.println(sm.getString(\"managerServlet.noSelf\"));\n                 return;\n             }\n-            deployer.remove(path);\n+            deployer.remove(path,true);\n             if (docBaseDir.isDirectory()) {\n                 undeployDir(docBaseDir);\n             } else {", "id": 40178, "time": "2003-07-08T15:03:47Z", "creator": "rsteele@pharmanet.com", "creation_time": "2003-07-08T15:03:47Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 15661, "text": "This is what the remove command does in the manager app. See\nhttp://jakarta.apache.org/tomcat/tomcat-4.1-doc/manager-howto.html#Remove%20an%\n20Existing%20Application", "id": 59353, "time": "2004-06-16T19:29:45Z", "creator": "markt@apache.org", "creation_time": "2004-06-16T19:29:45Z", "is_private": false, "attachment_id": null}]