[{"count": 0, "tags": [], "text": "This evening, I returned from dinner to find that my Apache 2.0.39 Web server, \nrunning on FreeBSD, was completely unresponsive. A \"ps\" command revealed that \nthe server had spawned dozens of child processes. And the error log had filled \nup with messages that looked like this:\n\n[Wed Jun 26 15:55:01 2002] [error] server reached MaxClients setting, consider \nraising the MaxClients setting\n[Wed Jun 26 21:28:36 2002] [warn] child process 164 still did not exit, sending \na SIGTERM\n[Wed Jun 26 21:28:36 2002] [warn] child process 165 still did not exit, sending \na SIGTERM\n[Wed Jun 26 21:28:36 2002] [warn] child process 166 still did not exit, sending \na SIGTERM\n[Wed Jun 26 21:28:36 2002] [warn] child process 167 still did not exit, sending \na SIGTERM\n[Wed Jun 26 21:28:36 2002] [warn] child process 168 still did not exit, sending \na SIGTERM\n[Wed Jun 26 21:28:36 2002] [warn] child process 497 still did not exit, sending \na SIGTERM\n[Wed Jun 26 21:28:36 2002] [warn] child process 498 still did not exit, sending \na SIGTERM\n[Wed Jun 26 21:28:36 2002] [warn] child process 1307 still did not exit, sending \na SIGTERM\n[Wed Jun 26 21:28:36 2002] [warn] child process 2965 still did not exit, sending \na SIGTERM\n\n...and many more similar messages. These were followed by a continuous stream of \nmessages which started with the following and continued in a similar vein:\n\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: chunk is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\nhttpd in free(): warning: page is already free\n\nWhile the Apache Group has claimed that Apache HTTPD 2.0.39 is immune to the \napache-scalp.c exploit, users on several mailing lists say that these symptoms \nare similar to those which are seen when the exploit is used against one of the \nvulnerable Apache versions. Even if no one got in, the fact that someone clearly \ntriggered a memory management bug, and that the Web server was tied up in knots \nuntil I shut it down and restarted it is greatly disturbing. There may be an \neffective DoS against Apache even the intruder can't break root. Please \ninvestigate....\n\n--Brett Glass", "attachment_id": null, "id": 18680, "creation_time": "2002-06-27T21:41:38Z", "time": "2002-06-27T21:41:38Z", "creator": "apachebugs@brettglass.com", "bug_id": 10302, "is_private": false}, {"count": 1, "tags": [], "creator": "jwoolley@apache.org", "attachment_id": null, "is_private": false, "id": 18682, "time": "2002-06-27T22:11:45Z", "bug_id": 10302, "creation_time": "2002-06-27T22:11:45Z", "text": "We discovered a few conditions like this under certain configurations after 2.0.39 was released.  The ones we know about are fixed in CVS.  Can you try HEAD?  Run the exploit code against it if you like and see what happens; it should be better-behaved than 2.0.39.  2.0.40 will be released soon, by the way, so it would be good to have verification that all known issues in this regard are cleaned up before then. "}, {"count": 2, "tags": [], "text": "In the future please mail \nsecurity@apache.org\nfor security related bugs\nand don't post them on the incidents mailing list", "attachment_id": null, "bug_id": 10302, "id": 18683, "time": "2002-06-27T22:17:46Z", "creator": "ianh@apache.org", "creation_time": "2002-06-27T22:17:46Z", "is_private": false}, {"count": 3, "attachment_id": null, "creator": "apachebugs@brettglass.com", "is_private": false, "id": 18687, "time": "2002-06-27T23:27:50Z", "bug_id": 10302, "creation_time": "2002-06-27T23:27:50Z", "tags": [], "text": "ianh@apache.org wrote:\n\n> In the future please mail security@apache.org for security related bugs\n> and don't post them on the incidents mailing list\n\nI apologize; when I entered the bug reporting system it did not say\nthat security-related bugs should be handled differently than any\nother variety.\n\nPerhaps the \"Bugzilla\" system should ask the person who submits a\nreport to categorize the bug and divert the report to the correct\nmailing list.\n\n--Brett Glass"}, {"count": 4, "tags": [], "creator": "jwoolley@apache.org", "attachment_id": null, "text": "There's a notice on http://nagoya.apache.org/bugzilla/ -- you probably just didn't scroll down that far.  I agree we should make the notice more prominent. ", "id": 18688, "time": "2002-06-27T23:30:55Z", "bug_id": 10302, "creation_time": "2002-06-27T23:30:55Z", "is_private": false}, {"count": 5, "tags": [], "text": "http://nagoya.apache.org/bugzilla/ doesn't prompt where to send security\nvulnerabilities, but it tries to.  It displays \"Do NOT report security\nvulnerabilities through this form! Send all security vulnerability reports via\nemail to . Do NOT send questions about security or configuration to either  nor\nthis bug forum, send such questions to the appropriate users support mailing\nlist or newsgroup.\"\n\nThe email addresses are in the HTML, but enclosed with '<' and '>' so they're\nnot rendered.  ", "is_private": false, "bug_id": 10302, "id": 18691, "time": "2002-06-28T00:30:34Z", "creator": "dpejesh@yahoo.com", "creation_time": "2002-06-28T00:30:34Z", "attachment_id": null}, {"count": 6, "tags": [], "text": "dpejesh@yahoo.com writes:\n\n> http://nagoya.apache.org/bugzilla/ doesn't prompt where to send \n> security vulnerabilities, but it tries to.  It displays \"Do NOT \n> report security vulnerabilities through this form! \n\nThere was a note to this effect, but alas on my browser it was\n\"below the fold.\" There was a link leading to the bug reporting\nsystem at the top, and since I wanted to report what appeared\nto be a bug, I simply clicked that. Again, I apologize.\n\nAt least this isn't a new vulnerability.... It's an old one\nthat must not have been completely fixed.\n\n--Brett\n", "is_private": false, "bug_id": 10302, "id": 18692, "time": "2002-06-28T00:51:09Z", "creator": "apachebugs@brettglass.com", "creation_time": "2002-06-28T00:51:09Z", "attachment_id": null}, {"count": 7, "tags": [], "creator": "pier@betaversion.org", "is_private": false, "text": "I fixed the static page on the bugzilla home...\nLet me know of any more problems...", "id": 18693, "time": "2002-06-28T01:00:33Z", "bug_id": 10302, "creation_time": "2002-06-28T01:00:33Z", "attachment_id": null}, {"count": 8, "tags": [], "creator": "dpejesh@yahoo.com", "is_private": false, "text": "There's another reference to security@apache.org at\nhttp://nagoya.apache.org/bugzilla/ in the following sentance that needs to be\nupdated aswell.\n\n\"Do NOT send questions about security or configuration to either\n<security@apache.org> nor this bug form, ...\" ", "id": 19223, "time": "2002-07-09T23:53:59Z", "bug_id": 10302, "creation_time": "2002-07-09T23:53:59Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 10302, "is_private": false, "count": 9, "id": 24680, "time": "2002-10-17T02:14:51Z", "creator": "slive@apache.org", "creation_time": "2002-10-17T02:14:51Z", "text": "Seems this was fixed."}]