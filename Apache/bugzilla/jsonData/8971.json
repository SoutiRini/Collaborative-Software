[{"count": 0, "tags": [], "bug_id": 8971, "attachment_id": null, "id": 15885, "time": "2002-05-10T10:16:01Z", "creator": "stutte@interfree.it", "creation_time": "2002-05-10T10:16:01Z", "is_private": false, "text": "I have a configuration, in which i want to have to applications served by \ntomcat, one at http://myhost:8080 and one at http://myhost:8081, both as root \ncontext. I tried a configuration like this:\n\n<Server port=\"8005\" shutdown=\"SHUTDOWN\" debug=\"0\">\n  <Service name=\"AdoraWeb\">\n    <Connector className=\"org.apache.catalina.connector.http.HttpConnector\"\n               port=\"8080\" minProcessors=\"5\" maxProcessors=\"75\"\n               enableLookups=\"true\"\n               acceptCount=\"10\" debug=\"0\" connectionTimeout=\"60000\"/>\n    <Engine name=\"BC\" defaultHost=\"localhost\" debug=\"0\">\n      <Logger className=\"org.apache.catalina.logger.FileLogger\"\n              prefix=\"AdoraWeb.\" suffix=\".txt\"\n              timestamp=\"true\"/>\n      <Realm className=\"org.apache.catalina.realm.MemoryRealm\" />\n      <Host name=\"localhost\" debug=\"0\" appBase=\"webapps\" unpackWARs=\"true\">\n        <Valve className=\"org.apache.catalina.valves.AccessLogValve\"\n                 directory=\"logs\"  prefix=\"AdoraWeb_access_log.\" suffix=\".txt\"\n                 pattern=\"common\"/>\n        <Logger className=\"org.apache.catalina.logger.FileLogger\"\n                 directory=\"logs\"  prefix=\"AdoraWeb_log.\" suffix=\".txt\"\n\t        timestamp=\"true\"/>\n          <Context path=\"\" docBase=\"D:\\Java\\projects\\cvs\\classes\\web\\adoraweb\" \ndebug=\"0\" />\n      </Host>\n    </Engine>\n  </Service>\n  <Service name=\"EmmeLunga\">\n    <Connector className=\"org.apache.catalina.connector.http.HttpConnector\"\n               port=\"8081\" minProcessors=\"5\" maxProcessors=\"75\"\n               enableLookups=\"true\"\n               acceptCount=\"10\" debug=\"0\" connectionTimeout=\"60000\"/>\n    <Engine name=\"ML\" defaultHost=\"localhost\" debug=\"0\">\n      <Logger className=\"org.apache.catalina.logger.FileLogger\"\n              prefix=\"ML.\" suffix=\".txt\"\n              timestamp=\"true\"/>\n      <Realm className=\"org.apache.catalina.realm.MemoryRealm\" />\n      <Host name=\"localhost\" debug=\"0\" appBase=\"webapps\" unpackWARs=\"true\">\n        <Valve className=\"org.apache.catalina.valves.AccessLogValve\"\n                 directory=\"logs\"  prefix=\"ML_access_log.\" suffix=\".txt\"\n                 pattern=\"common\"/>\n        <Logger className=\"org.apache.catalina.logger.FileLogger\"\n                 directory=\"logs\"  prefix=\"ML_log.\" suffix=\".txt\"\n\t        timestamp=\"true\"/>\n          <Context path=\"\" docBase=\"D:\\Java\\projects\\cvs\\classes\\web\\bcml\" \ndebug=\"0\" />\n      </Host>\n    </Engine>\n  </Service>\n</Server>\n\nwith an empty (!) webapps directory and the contexts pointing to two different \napplications, which uses jsp which may have the same names. What happens, is \nthat tomcat creates in his \"work\\localhost\" only one directory \"_\" for the \ncompiled jsp-servlets and uses this directory for both applications - which \nobviously won't work correctly. Maybe there is a different way to configure a \nscenario like this that i did not find out, but i would consider this to be a \nbug anyway, since tomcat seems to allow this kind of configuration.\n\nBest regards,\n\nJens Stutte"}, {"count": 1, "tags": [], "bug_id": 8971, "attachment_id": null, "id": 15887, "time": "2002-05-10T10:32:48Z", "creator": "stutte@interfree.it", "creation_time": "2002-05-10T10:32:48Z", "is_private": false, "text": "BTW: A (dirty) way to achieve, what i wanted, is to change the \"localhost\" in\n\n<Host name=\"localhost\" debug=\"0\" appBase=\"webapps\" unpackWARs=\"true\">\n\nof the second host into a real name or ip adress. In this way you can set up as \nmany hosts as you have aliases for your machine in your DNS ;-)\n"}, {"count": 2, "tags": [], "text": "This is fixed in 4.0.4 and 4.1 (the service name is used as part of the work \ndirectory path).", "is_private": false, "id": 15899, "creation_time": "2002-05-10T15:52:20Z", "time": "2002-05-10T15:52:20Z", "creator": "remm@apache.org", "bug_id": 8971, "attachment_id": null}]