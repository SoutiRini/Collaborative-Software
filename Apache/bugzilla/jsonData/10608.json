[{"count": 0, "attachment_id": null, "creator": "cdhowell@lucent.com", "text": "I recently downloaded tomcat 4.0.4.  I am able to successfully startup tomcat \nwhen using CATALINA_HOME as the default for CATALINA_BASE.  However, when I \nchange my CATALINA_BASE to use a different location, I cannot start up tomcat \nsuccessfully.  I get a core dump every time.  I'd like to mention that I was \nable to use CATALINA_BASE successfully with tomcat 4.0.3, but since I \ndownloaded version 4.0.4, I have had no success.  \n\nHere is part of an output of catalina.out showing the errors:\n\nStarting service Tomcat-Standalone                                              \nApache Tomcat/4.0.4                                                             \nERROR reading java.io.ByteArrayInputStream@ac7d7373                             \nAt Line 57 /web-app/servlet/                                                    \n                                                                                \nSIGBUS    10*  bus error                                                        \n    si_signo [10]: SIGBUS    10*  bus error                                     \n    si_errno [0]: Error 0                                                       \n    si_code [1]: BUS_ADRALN [addr: 0x29]                                        \n                                                                                \n    stackpointer=efffdf30                                                       \n                                                                                \nFull thread dump Classic VM (JDK-1.2.2-W, green threads):                       \n    \"StandardManager[/examples]\" (TID:0xebcbb000, sys_thread_t:0x5df2f0, state:C\nW) prio=5                                                                       \n    at java.lang.Thread.sleep(Native Method)                                    \n    at org.apache.catalina.session.StandardManager.threadSleep(StandardManager.j\nava, Compiled Code)                                                             \n    at org.apache.catalina.session.StandardManager.run(StandardManager.java, Com\npiled Code)                                                                     \n    at java.lang.Thread.run(Thread.java, Compiled Code)                         \n    \"WebappLoader[/examples]\" (TID:0xebcbbd00, sys_thread_t:0x6b30d0, state:CW) \nprio=5     \nRegistered Monitor Dump:                                \n    PCMap lock: <unowned>                               \n    utf8 hash table: <unowned>                          \n    JNI pinning lock: <unowned>                         \n    JNI global reference lock: <unowned>                \n    BinClass lock: owner \"main\" (0x26d80) 1 entry       \n    Class linking lock: <unowned>                       \n    System class loader lock: <unowned>                 \n    Code rewrite lock: <unowned>                        \n    Heap lock: <unowned>                                \n    Monitor cache lock: owner \"main\" (0x26d80) 1 entry  \n    Dynamic loading lock: <unowned>                     \n    Monitor IO lock: <unowned>                          \n    User signal monitor: <unowned>                      \n    Waiting to be notified:                             \n        \"Signal dispatcher\" (0x5ffa0)                   \n    Child death monitor: <unowned>                      \n    I/O monitor: <unowned>                              \n    Alarm monitor: <unowned>                            \n    Waiting to be notified:                             \n        <unknown thread> (0x2bae0)                      \n    Thread queue lock: owner \"main\" (0x26d80) 1 entry   \n    Monitor registry: owner \"main\" (0x26d80) 1 entry", "id": 19198, "time": "2002-07-09T20:15:29Z", "bug_id": 10608, "creation_time": "2002-07-09T20:15:29Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "text": "If a VM crash occurs, then it is a VM bug (unless you can point out to a\nspecific Tomcat bug).", "id": 19205, "time": "2002-07-09T21:37:12Z", "bug_id": 10608, "creation_time": "2002-07-09T21:37:12Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 10608, "text": "I beg to differ for the following reasons:\n\n1/  If I do NOT specify a CATALINA_BASE, I can start up Tomcat with no problem \nwith version 4.0.4.\n2/  I can start up Tomcat WITH a specified CATALINA_BASE for version 4.0.3, but \nNOT 4.0.4.\n\nSo, either there is something NEW in 4.0.4 that I am not aware of that I should \nbe doing, or there IS a bug.\n\nAccording to the release notes, version 4.0.4 should be able to work with \njdk1.2.2 which is what I am using for both 4.0.3 and 4.0.4.", "id": 19258, "time": "2002-07-10T15:48:11Z", "creator": "cdhowell@lucent.com", "creation_time": "2002-07-10T15:48:11Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "text": "Anytime there is a core dump, there is an underlying JVM problem.  The JVM is\nnever supposed to core dump.\n", "attachment_id": null, "bug_id": 10608, "id": 20935, "time": "2002-08-12T21:37:30Z", "creator": "bob@jadn.com", "creation_time": "2002-08-12T21:37:30Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 10608, "text": "The POINT IS that on my machine, I have catalina_base defined.  When I try to \nstart up tomcat 4.0.4, I get the core dump, but it works fine in 4.0.3.  So, \nhow can this be an underlying JVM problem?  SOMETHING changed in *TOMCAT* \nbetween 4.0.3 and 4.0.4 since the JVM is the same.  Are you expecting that \nusers use a new version of jdk than 1.2.2??  If so, DOCUMENT it.  Have you \ntested tomcat 4.0.4 against jdk 1.2.2 with catalina_base defined?  ", "id": 20975, "time": "2002-08-13T17:08:56Z", "creator": "cdhowell@lucent.com", "creation_time": "2002-08-13T17:08:56Z", "is_private": false, "attachment_id": null}]