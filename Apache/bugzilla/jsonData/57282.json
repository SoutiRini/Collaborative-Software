[{"count": 0, "tags": [], "bug_id": 57282, "attachment_id": null, "id": 179358, "time": "2014-11-29T03:19:59Z", "creator": "chrwhy@gmail.com", "creation_time": "2014-11-29T03:19:59Z", "is_private": false, "text": "apache-tomcat-7.0.56/webapps/docs/architecture/requestProcess/requestProcess.pdf\n\n\nit is about the request process UML diagram, I have been reading tomcat 7.0.56 source code for weeks, and along with source code reading along with debug which helps so much, and one day after I debgued the whole end-to-end request flow, I found that the document seems is derived from Tomcat 5(please check the footer of the pdf).\n\nand there are few steps on the diagram which are different from my finding/debuging.\n\nPlease kindly check attachments, thanks!"}, {"count": 1, "tags": [], "bug_id": 57282, "attachment_id": 32236, "id": 179359, "time": "2014-11-29T03:20:36Z", "creator": "chrwhy@gmail.com", "creation_time": "2014-11-29T03:20:36Z", "is_private": false, "text": "Created attachment 32236\nPage 2 step"}, {"count": 2, "tags": [], "text": "Created attachment 32237\nPage 1 step", "attachment_id": 32237, "id": 179360, "creator": "chrwhy@gmail.com", "time": "2014-11-29T03:21:22Z", "bug_id": 57282, "creation_time": "2014-11-29T03:21:22Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 57282, "text": "Yes, those diagrams are out of date.\n\nThe problem is bigger than you have identified. Page 2 is completely wrong. The call sequence is very different.", "id": 179493, "time": "2014-12-03T22:24:20Z", "creator": "markt@apache.org", "creation_time": "2014-12-03T22:24:20Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "chrwhy@gmail.com", "attachment_id": null, "text": "(In reply to Mark Thomas from comment #3)\n> Yes, those diagrams are out of date.\n> \n> The problem is bigger than you have identified. Page 2 is completely wrong.\n> The call sequence is very different.\n\nHi Mark,\ncommunity would fix that in the future? or what can I help ?", "id": 179497, "time": "2014-12-04T06:47:59Z", "bug_id": 57282, "creation_time": "2014-12-04T06:47:59Z", "is_private": false}, {"count": 5, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "You are part of community too. No-one else has stepped up to do this so if you want to fix these diagrams go for it.", "id": 179503, "time": "2014-12-04T12:57:32Z", "bug_id": 57282, "creation_time": "2014-12-04T12:57:32Z", "is_private": false}, {"count": 6, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "This isn't going to stop a release so mark as an enhancement.", "id": 179673, "time": "2014-12-09T21:40:31Z", "bug_id": 57282, "creation_time": "2014-12-09T21:40:31Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 57282, "text": "Created attachment 32329\nTomcat 7.0 request process flow\n\nHi Mark, please check the drafted request reprocess diagram, since the exported UML pdf is not that readable, please check whether the diagram meets or not first, thanks!", "id": 180012, "time": "2014-12-24T11:37:52Z", "creator": "chrwhy@gmail.com", "creation_time": "2014-12-24T11:37:52Z", "is_private": false, "attachment_id": 32329}, {"count": 8, "tags": [], "bug_id": 57282, "attachment_id": null, "id": 180111, "time": "2014-12-31T18:20:26Z", "creator": "markt@apache.org", "creation_time": "2014-12-31T18:20:26Z", "is_private": false, "text": "The calls prior to CoyoteAdapter don't look right. Specifically, there is no Http11Processor and no SocketProcessor. After that things look OK. I do wonder if it would be more useful with an Authenticator + Realm configured. Maybe that should/could be in a separate diagram."}, {"count": 9, "tags": [], "creator": "chrwhy@gmail.com", "attachment_id": null, "text": "(In reply to Mark Thomas from comment #8)\n> The calls prior to CoyoteAdapter don't look right. Specifically, there is no\n> Http11Processor and no SocketProcessor. After that things look OK. I do\n> wonder if it would be more useful with an Authenticator + Realm configured.\n> Maybe that should/could be in a separate diagram.\n\nMark, I was thinking about Http11Protocol represents both SockeProcessor(before Http11Protocol) and Http11Processor(after Http11Protocol) which is not right, the call hierarchy is very clear(at in the source code) and it should be reflected in the diagram accordingly.\n\nthanks for your  comments, would supplement missed part, and as your said authenticator + Realm diagram would be very useful, would supplement accordingly too.\n\nRegards", "id": 180123, "time": "2015-01-02T07:11:04Z", "bug_id": 57282, "creation_time": "2015-01-02T07:11:04Z", "is_private": false}, {"count": 10, "tags": [], "text": "Created attachment 32344\nrequest process(revised)", "attachment_id": 32344, "id": 180176, "creator": "chrwhy@gmail.com", "time": "2015-01-06T11:40:09Z", "bug_id": 57282, "creation_time": "2015-01-06T11:40:09Z", "is_private": false}, {"count": 11, "tags": [], "text": "Created attachment 32345\nauthenticate and realm", "attachment_id": 32345, "id": 180177, "creator": "chrwhy@gmail.com", "time": "2015-01-06T11:40:37Z", "bug_id": 57282, "creation_time": "2015-01-06T11:40:37Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 57282, "attachment_id": null, "id": 180178, "time": "2015-01-06T11:42:01Z", "creator": "chrwhy@gmail.com", "creation_time": "2015-01-06T11:42:01Z", "is_private": false, "text": "Hi Mark, please help to review the revised&advise request process and Authenticator&Realm diagrams, thanks!"}, {"count": 13, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "Broadly it looks OK but the detail around the Pipelines isn't right. Calls to getFirst() are missing and some method names shown don't exist. Also methods are being called on the wrong objects (e.g. getHost() on the StandardHost). \n\nSimilar comments apply to the Authentication diagram. For example getContext() is shown as being called on StandardContext.\n\nI'd consider ignoring the various getHost(), getPipeline() calls and just show the calls that do the real work.", "id": 180268, "time": "2015-01-12T10:35:18Z", "bug_id": 57282, "creation_time": "2015-01-12T10:35:18Z", "is_private": false}, {"count": 14, "tags": [], "text": "Created attachment 32368\nRevised(V3) request process according to Mark's comment", "attachment_id": 32368, "id": 180309, "creation_time": "2015-01-16T00:11:36Z", "time": "2015-01-16T00:11:36Z", "creator": "chrwhy@gmail.com", "bug_id": 57282, "is_private": false}, {"count": 15, "attachment_id": 32369, "creator": "chrwhy@gmail.com", "text": "Created attachment 32369\nRevised(V3) authenticate process according to Mark's comment", "id": 180310, "time": "2015-01-16T00:12:16Z", "bug_id": 57282, "creation_time": "2015-01-16T00:12:16Z", "tags": [], "is_private": false}, {"count": 16, "tags": [], "text": "(In reply to Mark Thomas from comment #13)\n> Broadly it looks OK but the detail around the Pipelines isn't right. Calls\n> to getFirst() are missing and some method names shown don't exist. Also\n> methods are being called on the wrong objects (e.g. getHost() on the\n> StandardHost). \n> \n> Similar comments apply to the Authentication diagram. For example\n> getContext() is shown as being called on StandardContext.\n> \n> I'd consider ignoring the various getHost(), getPipeline() calls and just\n> show the calls that do the real work.\n\nMark, thanks for your valuable comment as a reader.\nThat diagram wasn't that strict, since in my mind, I wanted to express the process in a verbose&abstract way which is confusing people.\nI have removed those unnecessary methods(getHost, getContext...) from previous diagrams, please check the latest ones and give comments, would be delighted to help.", "attachment_id": null, "id": 180311, "creator": "chrwhy@gmail.com", "time": "2015-01-16T00:18:19Z", "bug_id": 57282, "creation_time": "2015-01-16T00:18:19Z", "is_private": false}, {"count": 17, "tags": [], "bug_id": 57282, "attachment_id": null, "id": 180413, "time": "2015-01-20T10:12:57Z", "creator": "markt@apache.org", "creation_time": "2015-01-20T10:12:57Z", "is_private": false, "text": "Looking better. Some of the method calls are missing method names which makes it hard to review and less useful to the reader."}, {"count": 18, "tags": [], "text": "Created attachment 32417\nadd missed methods\n\nRequest process V4", "attachment_id": 32417, "id": 180671, "creator": "chrwhy@gmail.com", "time": "2015-01-31T11:20:05Z", "bug_id": 57282, "creation_time": "2015-01-31T11:20:05Z", "is_private": false}, {"count": 19, "tags": [], "bug_id": 57282, "attachment_id": 32418, "id": 180672, "time": "2015-01-31T11:20:49Z", "creator": "chrwhy@gmail.com", "creation_time": "2015-01-31T11:20:49Z", "is_private": false, "text": "Created attachment 32418\nadd missed methods\n\nauthentication diagram V4"}, {"count": 20, "tags": [], "text": "Mark, any update ?", "attachment_id": null, "id": 181082, "creator": "chrwhy@gmail.com", "time": "2015-02-15T12:00:50Z", "bug_id": 57282, "creation_time": "2015-02-15T12:00:50Z", "is_private": false}, {"count": 21, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "The request processing diagram looks really good. There is one issue that needs fixing before we can use it. At the end of the chain Servlet.service() is called from ApplicationFilterChain.doFilter(), not ApplicationFilterChain.doRelease(). Get that fixed and I think it will be ready to commit.", "id": 183071, "time": "2015-05-22T11:47:22Z", "bug_id": 57282, "creation_time": "2015-05-22T11:47:22Z", "is_private": false}, {"count": 22, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "The authentication diagram also looks good. I do have a few more comments on this.\n\nregisterAuthSuccess() is specific to the LockOutRealm. It would be worth showing this Realm and the 'real' Realm (e.g. UserDataBaseRealm) on the diagram.\n\nFor BASIC auth I'd add the call to obtain the headers from the request since that is where the user name and password are called from.", "id": 183072, "time": "2015-05-22T11:55:11Z", "bug_id": 57282, "creation_time": "2015-05-22T11:55:11Z", "is_private": false}, {"count": 23, "tags": [], "creator": "chrwhy@gmail.com", "attachment_id": 32751, "text": "Created attachment 32751\nrequest process V5", "id": 183084, "time": "2015-05-23T12:04:32Z", "bug_id": 57282, "creation_time": "2015-05-23T12:04:32Z", "is_private": false}, {"count": 24, "tags": [], "bug_id": 57282, "attachment_id": 32752, "id": 183085, "time": "2015-05-23T12:05:01Z", "creator": "chrwhy@gmail.com", "creation_time": "2015-05-23T12:05:01Z", "is_private": false, "text": "Created attachment 32752\nauthenticate v5"}, {"count": 25, "tags": [], "creator": "chrwhy@gmail.com", "attachment_id": null, "text": "Hello Mark,\n\nGood to hear from you again, for the request process diagram, that was a typo, andfixed now.\n\nfor the authenticate diagram, revised with you nice suggestions, please have a look and review, thanks.", "id": 183086, "time": "2015-05-23T12:09:30Z", "bug_id": 57282, "creation_time": "2015-05-23T12:09:30Z", "is_private": false}, {"count": 26, "tags": [], "text": "These have been added to the documentation for trunk (9.0.x), 8.0.x (for 8.0.24 onwards) and 7.0.x (for 7.0.63 onwards).\n\nMany thanks for all your hard work.", "attachment_id": null, "id": 183113, "creator": "markt@apache.org", "time": "2015-05-26T21:17:34Z", "bug_id": 57282, "creation_time": "2015-05-26T21:17:34Z", "is_private": false}, {"count": 27, "tags": [], "bug_id": 57282, "attachment_id": null, "id": 183115, "time": "2015-05-26T23:31:36Z", "creator": "chrwhy@gmail.com", "creation_time": "2015-05-26T23:31:36Z", "is_private": false, "text": "(In reply to Mark Thomas from comment #26)\n> These have been added to the documentation for trunk (9.0.x), 8.0.x (for\n> 8.0.24 onwards) and 7.0.x (for 7.0.63 onwards).\n> \n> Many thanks for all your hard work.\n\nYeah, I am so honored&thrilled what I have done. \nOf course, many thanks for your great help, (In reply to Mark Thomas from comment #26)\n> These have been added to the documentation for trunk (9.0.x), 8.0.x (for\n> 8.0.24 onwards) and 7.0.x (for 7.0.63 onwards).\n> \n> Many thanks for all your hard work.\n\nYeah!!! I am so thrilled&honored about what I have done for community.\nof course, many thanks for your great help(valuable reviews and comments), it can't be done without your help."}, {"count": 28, "tags": [], "text": "Created attachment 32813\nrequest process pdf version", "attachment_id": 32813, "bug_id": 57282, "id": 183483, "time": "2015-06-12T14:40:00Z", "creator": "chrwhy@gmail.com", "creation_time": "2015-06-12T14:40:00Z", "is_private": false}, {"count": 29, "tags": [], "bug_id": 57282, "text": "Created attachment 32814\nAuthenticate pdf", "id": 183484, "time": "2015-06-12T14:52:32Z", "creator": "chrwhy@gmail.com", "creation_time": "2015-06-12T14:52:32Z", "is_private": false, "attachment_id": 32814}, {"count": 30, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "I prefer the old versions.", "id": 183745, "time": "2015-06-25T08:03:02Z", "bug_id": 57282, "creation_time": "2015-06-25T08:03:02Z", "is_private": false}]