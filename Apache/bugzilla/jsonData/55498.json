[{"count": 0, "tags": [], "creator": "ra0077@gmail.com", "text": "In Transaction Controller, by default :\nGenerate Parent sample if unchecked\nInclude duration of timer ... is checked\n\nI think it will be better (and more logic) to have :\nGenerate Parent sample if checked\nInclude duration of timer ... is unchecked\n\nEach time I use Transaction Controller, I must do it in each Transaction Controller (not productive :( )\nSome of my co-worker have not seen this 2 parameters and have bas response time during test. Now they think that JMeter is untrusted/crap tool.\n\nI propose this patch to TransactionController class\n\n# This patch file was generated by NetBeans IDE\n# It uses platform neutral UTF-8 encoding and \\n newlines.\n--- Base (BASE)\n+++ Locally Modified (Based On LOCAL)\n@@ -109,7 +109,7 @@\n     }\n \n     public boolean isParent(){\n-        return getPropertyAsBoolean(PARENT);\n+        return getPropertyAsBoolean(PARENT, true);\n     }\n \n     /**\n@@ -299,9 +299,9 @@\n     /**\n      * Whether to include timer and pre/post processor time in overall sample.\n      *\n-     * @return boolean (defaults to true for backwards compatibility)\n+     * @return boolean\n      */\n     public boolean isIncludeTimers() {\n-        return getPropertyAsBoolean(INCLUDE_TIMERS, true);\n+        return getPropertyAsBoolean(INCLUDE_TIMERS, false);\n     }\n }", "id": 169792, "time": "2013-08-29T08:39:20Z", "bug_id": 55498, "creation_time": "2013-08-29T08:39:20Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "text": "If we do decide to change the default, it needs to be done in such a way that existing test plans are unaffected.\n\nDo you have a suggestion for a patch to the documentation to make the choice of options clearer to users?", "id": 169796, "time": "2013-08-29T11:19:11Z", "bug_id": 55498, "creation_time": "2013-08-29T11:19:11Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "ra0077@gmail.com", "text": "The patch don't work well, I will work in it more.\n\nAbout the documentation, I think it will be great to have in wiki and in changes, a paragraph which explain \"How to migrate script from XX release to XX release\" and another paragraph called \"What to look between XX release and XX release to avoid problem\"", "id": 169798, "time": "2013-08-29T12:16:27Z", "bug_id": 55498, "creation_time": "2013-08-29T12:16:27Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "ra0077@gmail.com", "text": "Correct patch to \"Include duration of timer ...\"\n\nTransactionControllerGui file :\n\n--- Base (BASE)\n+++ Locally Modified (Based On LOCAL)\n@@ -83,7 +83,7 @@\n         add(makeTitlePanel());\n         parent = new JCheckBox(JMeterUtils.getResString(\"transaction_controller_parent\")); // $NON-NLS-1$\n         add(parent);\n-        includeTimers = new JCheckBox(JMeterUtils.getResString(\"transaction_controller_include_timers\"), true); // $NON-NLS-1$\n+        includeTimers = new JCheckBox(JMeterUtils.getResString(\"transaction_controller_include_timers\")); // $NON-NLS-1$\n         add(includeTimers);\n     }\n }\n\n\nTransactionController file :\n\n--- Base (BASE)\n+++ Locally Modified (Based On LOCAL)\n@@ -293,15 +293,15 @@\n      * @param includeTimers\n      */\n     public void setIncludeTimers(boolean includeTimers) {\n-        setProperty(INCLUDE_TIMERS, includeTimers, true); // default true for compatibility\n+        setProperty(INCLUDE_TIMERS, includeTimers,false);\n     }\n \n     /**\n      * Whether to include timer and pre/post processor time in overall sample.\n      *\n-     * @return boolean (defaults to true for backwards compatibility)\n+     * @return boolean\n      */\n     public boolean isIncludeTimers() {\n-        return getPropertyAsBoolean(INCLUDE_TIMERS, true);\n+        return getPropertyAsBoolean(INCLUDE_TIMERS);\n     }\n }\n\n\n\nAbout \"Generate Parent sample if\", I need more time to modify it (if you have a pointer to do it, it will be great)", "id": 169800, "time": "2013-08-29T12:51:03Z", "bug_id": 55498, "creation_time": "2013-08-29T12:51:03Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "(In reply to Antonio Gomes Rodrigues from comment #2)\n> The patch don't work well, I will work in it more.\n> \n> About the documentation, I think it will be great to have in wiki and in\n> changes, a paragraph which explain \"How to migrate script from XX release to\n> XX release\" \n\nJMeter releasese are upwards compatible; there should be no need to change scripts between versions. The unit tests include checks of the test script format.\n\nBut if there is a breaking change it is documented in the release notes.\nIt is very rare that a test script has to be modified.\nSometimes changes are made to the behaviour to improve performance, but again this will be documented.\n\n> and another paragraph called \"What to look between XX release\n> and XX release to avoid problem\"\n\nLikewise, there should be no need for this.\n\nWhat I was referring to was documentation on the Transaction Controller.\nIf it is not currently obvious how to configure it, then perhaps it needs more documentation.", "attachment_id": null, "bug_id": 55498, "id": 169801, "time": "2013-08-29T13:02:05Z", "creator": "sebb@apache.org", "creation_time": "2013-08-29T13:02:05Z", "is_private": false}, {"count": 5, "tags": [], "creator": "ra0077@gmail.com", "text": "(In reply to Sebb from comment #4)\n\n> JMeter releasese are upwards compatible; there should be no need to change\n> scripts between versions. The unit tests include checks of the test script\n> format.\n>\nI understand but all old scripts will work as same as before, no ?\nIt's only for new scripts which will have an different behavior with how to calculate the response time\n \n\n> \n> > and another paragraph called \"What to look between XX release\n> > and XX release to avoid problem\"\n> \n> Likewise, there should be no need for this.\n> \n> What I was referring to was documentation on the Transaction Controller.\n> If it is not currently obvious how to configure it, then perhaps it needs\n> more documentation.\n\nOk I understand.\n\nThe problem is the actual behavior of Transaction Controller is not logical (for me and to all the people I have talk (co-worker, load test specialist, during my meetings...) and different of other load testing tool (my co-worker work with neoload and loadruner).\nAnd unfortunately, people don't read all the documentation.\n\nThe second problem for me, it's when I record a script with the proxy recorder, I use Transaction Controller. And at the end of the recording I need to check/unched all the created transaction. I think it's not productive.\n\nAntonio", "id": 169802, "time": "2013-08-29T13:27:11Z", "bug_id": 55498, "creation_time": "2013-08-29T13:27:11Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 169805, "time": "2013-08-29T15:38:10Z", "bug_id": 55498, "creation_time": "2013-08-29T15:38:10Z", "is_private": false, "text": "(In reply to Antonio Gomes Rodrigues from comment #5)\n> (In reply to Sebb from comment #4)\n> \n> > JMeter releasese are upwards compatible; there should be no need to change\n> > scripts between versions. The unit tests include checks of the test script\n> > format.\n> >\n> I understand but all old scripts will work as same as before, no ?\n\nThat may depend on how the change is implemented.\n\n> The second problem for me, it's when I record a script with the proxy\n> recorder, I use Transaction Controller. And at the end of the recording I\n> need to check/unched all the created transaction. I think it's not\n> productive.\n\nThat's a separate issue, for which a different fix might be appropriate.\nPlease file a new enhancement request.\n\n> Antonio"}, {"count": 7, "tags": [], "bug_id": 55498, "attachment_id": null, "text": "Ok I will study it after my holidays", "id": 169832, "time": "2013-08-30T07:57:17Z", "creator": "ra0077@gmail.com", "creation_time": "2013-08-30T07:57:17Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 55498, "attachment_id": null, "is_private": false, "id": 170372, "time": "2013-10-01T15:58:35Z", "creator": "ra0077@gmail.com", "creation_time": "2013-10-01T15:58:35Z", "text": "Can you send me pointer to make this 2 modifications (which file to modify)\n\nThanks,\nAntonio"}, {"count": 9, "tags": [], "text": "To change default for Proxy recording, you could add a configurable property in jmeter.properties to enable/disable the checkbox \"Include duration of timer\"\nand use it in TransactionControllerGui.\n\n\nThis would not affect existing scripts but newly recorded ones would have the checkbox disabled.\nWe could add in changes.xml, in Incompatible changes a note about this change.\n\nI agree on the fact default should be not to include time for processing and timers.", "attachment_id": null, "bug_id": 55498, "id": 170519, "time": "2013-10-09T20:07:53Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2013-10-09T20:07:53Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 55498, "attachment_id": null, "is_private": false, "id": 170601, "time": "2013-10-13T18:07:01Z", "creator": "sebb@apache.org", "creation_time": "2013-10-13T18:07:01Z", "text": "(In reply to Philippe Mouawad from comment #9)\n> To change default for Proxy recording, you could add a configurable property\n> in jmeter.properties to enable/disable the checkbox \"Include duration of\n> timer\"\n> and use it in TransactionControllerGui.\n\nThat should be a separate issuee please.\n\n> \n> This would not affect existing scripts but newly recorded ones would have\n> the checkbox disabled."}, {"count": 11, "tags": [], "bug_id": 55498, "attachment_id": null, "text": "Fixed in Bugzilla Id: 55854", "id": 171726, "time": "2013-12-13T09:21:26Z", "creator": "ra0077@gmail.com", "creation_time": "2013-12-13T09:21:26Z", "is_private": false}]