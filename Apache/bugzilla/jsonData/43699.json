[{"count": 0, "tags": [], "bug_id": 43699, "attachment_id": null, "is_private": false, "id": 109741, "time": "2007-10-25T09:52:18Z", "creator": "Michiel.Meeuwissen@gmail.com", "creation_time": "2007-10-25T09:52:18Z", "text": "If I place a symlink in WEB-INF, e.g. like so:\nls -la\ntotal 12\ndrwxr-xr-x 2 michiel michiel 4096 2007-10-25 18:44 .\ndrwxr-xr-x 4 michiel michiel 4096 2007-10-25 18:37 ..\nlrwxrwxrwx 1 michiel michiel    7 2007-10-25 18:44 eo -> /mnt/eo\n-rw-r--r-- 1 michiel michiel  297 2007-10-25 18:36 web.xml\n\nWhere /mnt/eo is a nfs mount.\n80.79.41.7:/home/blob /mnt/eo nfs rw,noauto 0 0\n\nThen Tomcat will not start up.\n\nA Thread-dump looks like this:\nFull thread dump Java HotSpot(TM) Server VM (1.5.0_11-b03 mixed mode):\n\n\"Low Memory Detector\" daemon prio=1 tid=0x0813c608 nid=0x1328 runnable\n[0x00000000..0x00000000]\n\n\"CompilerThread1\" daemon prio=1 tid=0x0813b130 nid=0x1327 waiting on condition\n[0x00000000..0x85a840e8]\n\n\"CompilerThread0\" daemon prio=1 tid=0x0813a080 nid=0x1326 waiting on condition\n[0x00000000..0x85b05068]\n\n\"AdapterThread\" daemon prio=1 tid=0x08138ef0 nid=0x1325 waiting on condition\n[0x00000000..0x00000000]\n\n\"Signal Dispatcher\" daemon prio=1 tid=0x08137f58 nid=0x1324 waiting on condition\n[0x00000000..0x00000000]\n\n\"Surrogate Locker Thread (CMS)\" daemon prio=1 tid=0x081371d8 nid=0x1323 waiting\non condition [0x00000000..0x00000000]\n\n\"Finalizer\" daemon prio=1 tid=0x0812c1a0 nid=0x1322 in Object.wait()\n[0x85d09000..0x85d0a040]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x88200428> (a java.lang.ref.ReferenceQueue$Lock)\n\tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116)\n\t- locked <0x88200428> (a java.lang.ref.ReferenceQueue$Lock)\n\tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:132)\n\tat java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)\n\n\"Reference Handler\" daemon prio=1 tid=0x0812bcc0 nid=0x1321 in Object.wait()\n[0x85d8a000..0x85d8afc0]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x88200438> (a java.lang.ref.Reference$Lock)\n\tat java.lang.Object.wait(Object.java:474)\n\tat java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)\n\t- locked <0x88200438> (a java.lang.ref.Reference$Lock)\n\n\"main\" prio=1 tid=0x0805d560 nid=0x1317 runnable [0xbf854000..0xbf855038]\n\tat java.io.UnixFileSystem.checkAccess(Native Method)\n\tat java.io.File.canRead(File.java:660)\n\tat org.apache.naming.resources.FileDirContext.file(FileDirContext.java:822)\n\tat org.apache.naming.resources.FileDirContext.list(FileDirContext.java:299)\n\tat org.apache.naming.resources.ProxyDirContext.list(ProxyDirContext.java:482)\n\tat\norg.apache.catalina.startup.TldConfig.tldScanResourcePathsWebInf(TldConfig.java:634)\n\tat\norg.apache.catalina.startup.TldConfig.tldScanResourcePathsWebInf(TldConfig.java:649)\n\tat\norg.apache.catalina.startup.TldConfig.tldScanResourcePathsWebInf(TldConfig.java:649)\n\tat\norg.apache.catalina.startup.TldConfig.tldScanResourcePathsWebInf(TldConfig.java:649)\n\tat\norg.apache.catalina.startup.TldConfig.tldScanResourcePathsWebInf(TldConfig.java:649)\n\tat\norg.apache.catalina.startup.TldConfig.tldScanResourcePathsWebInf(TldConfig.java:649)\n\tat\norg.apache.catalina.startup.TldConfig.tldScanResourcePathsWebInf(TldConfig.java:649)\n\tat org.apache.catalina.startup.TldConfig.tldScanResourcePaths(TldConfig.java:603)\n\tat org.apache.catalina.startup.TldConfig.execute(TldConfig.java:276)\n\tat org.apache.catalina.core.StandardContext.processTlds(StandardContext.java:4428)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4235)\n\t- locked <0x88316438> (a org.apache.catalina.core.StandardContext)\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:791)\n\t- locked <0x88261740> (a java.util.HashMap)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:771)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)\n\tat org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:920)\n\tat org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:883)\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:492)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1138)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\n\t- locked <0x8821b368> (a org.apache.catalina.core.StandardHost)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:719)\n\t- locked <0x8821b368> (a org.apache.catalina.core.StandardHost)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)\n\t- locked <0x88217f98> (a org.apache.catalina.core.StandardEngine)\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:516)\n\t- locked <0x88217f98> (a org.apache.catalina.core.StandardEngine)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:710)\n\t- locked <0x882004a8> (a [Lorg.apache.catalina.Service;)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:566)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)\n\n\"VM Thread\" prio=1 tid=0x08129798 nid=0x1320 runnable \n\n\"Gang worker#0 (Parallel GC Threads)\" prio=1 tid=0x0806d100 nid=0x131d runnable \n\n\"Gang worker#1 (Parallel GC Threads)\" prio=1 tid=0x0806dd48 nid=0x131e runnable \n\n\"Concurrent Mark-Sweep GC Thread#0\" prio=1 tid=0x080b0b68 nid=0x131f runnable \n\n\"VM Periodic Task Thread\" prio=1 tid=0x0813daf0 nid=0x1329 waiting on condition \n\n\n\n\nMETA-INF/context.xml looks like this:\n<Context debug=\"0\" reloadable=\"false\" allowLinking=\"true\">\n</Context>"}, {"count": 1, "tags": [], "bug_id": 43699, "text": "Created attachment 21045\nsimple web-app.\n\nThis webapp reproduces the problem on my computer, if I unzip it in\n${catalina.base}/webapps.", "id": 109742, "time": "2007-10-25T09:57:51Z", "creator": "Michiel.Meeuwissen@gmail.com", "creation_time": "2007-10-25T09:57:51Z", "is_private": false, "attachment_id": 21045}, {"count": 2, "tags": [], "bug_id": 43699, "text": "That looks like a JVM problem to me. It appears to have hung on\njava.io.UnixFileSystem.checkAccess(Native Method). It is just doing a\nFile.canRead() so I don't see what Tomcat can be doing that is wrong here.\n\nI am closing this as INVALID on the basis that it is a JVM bug.\n\nThe other option is that you have some sort of network issue that is holding\nthings up.", "id": 112607, "time": "2008-01-07T16:27:11Z", "creator": "markt@apache.org", "creation_time": "2008-01-07T16:27:11Z", "is_private": false, "attachment_id": null}]