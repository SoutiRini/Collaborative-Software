[{"count": 0, "tags": [], "bug_id": 52339, "text": "Depoly latest JMeter NightBuild on two machines [apache-jmeter-r1214179 15-Dec-2011 02:38]\n\nSteps:\n1. Start one machine as JMeter server.\n2. Update JMeter client jmeter.properties to use mode=Statistical on another machine.\n3. Add JMeter server to remote_hosts\n3. Start Jmeter client.\n4. Open a http test script with some simple http request [about 20 threads and 20 loop]\n5. Run script on JMeter client. [In Aggregate Report: Average response is 32ms and Max response is 145ms]\n6. Run same script by JMeter server. [in Aggregate Report: Average response is 1464ms and Max response is 2098ms]\n\nThe Statistical mode couldn't get correct response time in distributed testing.\n\nJMeter 2.5.1 release version doesn't have the issue.", "id": 152185, "time": "2011-12-15T09:17:59Z", "creator": "liu.xp2003@gmail.com", "creation_time": "2011-12-15T09:17:59Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "Is it only statistical mode that has the problem?\n\nDoes the same problem occur if you replace the HTTP samplers with Java samplers?\nThis will eliminate the effects of accessing the server from different hosts.", "id": 152186, "time": "2011-12-15T10:23:02Z", "bug_id": 52339, "creation_time": "2011-12-15T10:23:02Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 52339, "attachment_id": null, "id": 152190, "time": "2011-12-15T13:40:38Z", "creator": "liu.xp2003@gmail.com", "creation_time": "2011-12-15T13:40:38Z", "is_private": false, "text": "I have verified with Standard,Batch,Hold and Statistical mode. It was only occurred on Statistical mode.\nI have justed checked with BeanShell Sampler. Both of HTTP and BeanShell sampler have this problem."}, {"count": 3, "tags": [], "text": "Can you try with Java Sampler please?\n\nI cannot reproduce the problem.", "attachment_id": null, "id": 152195, "creator": "sebb@apache.org", "time": "2011-12-15T14:30:21Z", "bug_id": 52339, "creation_time": "2011-12-15T14:30:21Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 52339, "attachment_id": 28075, "id": 152198, "time": "2011-12-15T15:21:10Z", "creator": "liu.xp2003@gmail.com", "creation_time": "2011-12-15T15:21:10Z", "is_private": false, "text": "Created attachment 28075\nJAVA sample script to reproduce the problem"}, {"count": 5, "tags": [], "creator": "liu.xp2003@gmail.com", "text": "The issue could be reproduced by JavaTest class.\nI attached script. It could help you reproduce the issue.", "id": 152199, "attachment_id": null, "bug_id": 52339, "creation_time": "2011-12-15T15:22:09Z", "time": "2011-12-15T15:22:09Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 52339, "attachment_id": null, "id": 152212, "time": "2011-12-16T11:40:20Z", "creator": "sebb@apache.org", "creation_time": "2011-12-16T11:40:20Z", "is_private": false, "text": "I'm still not seeing the problem, but have not yet been able to test across two different physical hosts.\n\nAlso I don't see anything obvious in the changes to StatisticalSampleSender since 2.5.1."}, {"count": 7, "tags": [], "bug_id": 52339, "text": "I have recorded about the problem with video.\nAnd you can download from the URL \"http://speedy.sh/RfBCj/JMeter-Bug52339.zip\" to review it.[The file size is about 5.14MB. MD5: 43F7E75749DFFC778B7C53864271550A]\nI have made it to execution file. You can open it directly to replay it.", "id": 152238, "time": "2011-12-17T06:48:07Z", "creator": "liu.xp2003@gmail.com", "creation_time": "2011-12-17T06:48:07Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 52339, "attachment_id": null, "id": 152243, "time": "2011-12-17T11:02:24Z", "creator": "sebb@apache.org", "creation_time": "2011-12-17T11:02:24Z", "is_private": false, "text": "Can you run the Java test sample you provided, and attach the following output:\n\njmeter.log from client and server systems\nJTL file from the run (make sure subsamples are saved).\n\nAlso, please do the same for the test run as non-GUI on the server node.\nObviously in that case cannot use Statistical mode."}, {"count": 9, "tags": [], "bug_id": 52339, "text": "Created attachment 28082\nJMeter log for Bug 52339\n\nRun_C-S_clientLog.zip and Run_C-S_serverLog.zip is the first run log.\nRun_no-GUI_serverlog.zip is the second run log.", "id": 152247, "time": "2011-12-17T13:53:16Z", "creator": "liu.xp2003@gmail.com", "creation_time": "2011-12-17T13:53:16Z", "is_private": false, "attachment_id": 28082}, {"count": 10, "tags": [], "bug_id": 52339, "attachment_id": null, "id": 152248, "time": "2011-12-17T14:01:41Z", "creator": "liu.xp2003@gmail.com", "creation_time": "2011-12-17T14:01:41Z", "is_private": false, "text": "The problem is not happened when running as non-GUI on the server node.\njmeter.properties has not been changed on server node.\nrun command:\njmeter -n -t Sample_JMeterBug_52339.jmx -l runNOGUI-onJMeterServer.jtl"}, {"count": 11, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "Thanks for the JTL files - I think I've found the problem.\n\nTry using Summary Report instead of Aggregate Report, and the figures look OK.\n\nSeems that Aggregate report is not allowing for the fact that Statistical results represent multiple samples.\n\nI'll try and post a fix for that shortly.", "id": 152249, "time": "2011-12-17T14:21:51Z", "bug_id": 52339, "creation_time": "2011-12-17T14:21:51Z", "is_private": false}, {"count": 12, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "Looks like the problem might have been caused by the fix for Bug 52125.\n\nIn the meantime, use Summary Report rather than Aggregate Report and the display problem should go away.\n\nPlease can you confirm if that fixes the issue?", "id": 152250, "time": "2011-12-17T14:32:25Z", "bug_id": 52339, "creation_time": "2011-12-17T14:32:25Z", "is_private": false}, {"count": 13, "tags": [], "bug_id": 52339, "attachment_id": null, "id": 152252, "time": "2011-12-17T15:43:57Z", "creator": "liu.xp2003@gmail.com", "creation_time": "2011-12-17T15:43:57Z", "is_private": false, "text": "Revision 1197375 is ok for Aggregate Report."}, {"count": 14, "tags": [], "bug_id": 52339, "attachment_id": null, "id": 152253, "time": "2011-12-17T15:47:20Z", "creator": "liu.xp2003@gmail.com", "creation_time": "2011-12-17T15:47:20Z", "is_private": false, "text": "Summary Report is correct in apache-jmeter-r1214179 build.\nAggregate Report is incorrect in apache-jmeter-r1214179 build."}, {"count": 15, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "Also fixes Bug 52125\n\nURL: http://svn.apache.org/viewvc?rev=1221486&view=rev\nLog:\nBug 52339 - JMeter Statistical mode in distributed testing shows wrong response time<\n\nModified:\n   jmeter/trunk/src/jorphan/org/apache/jorphan/math/StatCalculator.java\n   jmeter/trunk/src/jorphan/org/apache/jorphan/math/StatCalculatorInteger.java\n   jmeter/trunk/src/jorphan/org/apache/jorphan/math/StatCalculatorLong.java\n   jmeter/trunk/test/src/org/apache/jorphan/math/TestStatCalculator.java\n   jmeter/trunk/xdocs/changes.xml", "id": 152341, "time": "2011-12-20T20:51:32Z", "bug_id": 52339, "creation_time": "2011-12-20T20:51:32Z", "is_private": false}]