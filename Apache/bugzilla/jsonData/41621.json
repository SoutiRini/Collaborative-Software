[{"count": 0, "tags": [], "creator": "hnmr@gft.com", "is_private": false, "id": 99412, "creation_time": "2007-02-15T02:50:50Z", "time": "2007-02-15T02:50:50Z", "bug_id": 41621, "text": "We have an internal Webserver (IWS), which serves our Subversion repositories.\nFor the external access we have a reverse proxy (RP). The both servers are\nrunning under SuSE Linux i586. The external connections from the Client to the\nRP are always HTTPS as well as the connections between RP and IWS. The user\nauthentication and authorization are provided by \n authnz_ldap_module (shared)\n ldap_module (shared)\nagainst our MS ADS LDAP.\n\nAter we had upgraded IWS to Apache HTTPD 2.2.4 we faced on the problems, that\nour external clients get the PROXY ERROR with a description 'Reason: Error\nreading from the remote server'. The external users access to the repositories\nwith TortoiseSVN 1.4 and with Webbrowsers (Mozilla Firefox 2.0 and MS IE\n6.0/7.0). The error is not depending on the client used.\n\nIn the error_log on RP there are entries like that:\n[Thu Feb 15 11:10:52 2007] [error] [client xx.136.xxx.32] proxy: error reading\nstatus line from remote server IWS, referer: https://RP/blah-blah\n[Thu Feb 15 11:10:52 2007] [error] [client xx.136.xxx.32] proxy: Error reading\nfrom remote server returned by /blah-blah referer: https://RP/blah-blah\n\nOn the IWS there are only entries, which mean, that there are NO problems while\nserving the appropriate request:\n\nxxx.xx.191.xx - user1 [15/Feb/2007:11:10:45 +0100] \"GET /blah-blah HTTP/1.1\" 200\n9021\nxxx.xx.191.xx - user1 [15/Feb/2007:11:10:45 +0100] \"GET /blah-blah HTTP/1.1\" 200\n9021\n\nThe both boxes have the same clock time.\n\nThe users must reload the pages in their webbrowser or restart their subversion\naction, when they get such an error. Sometimes they get the error once again but\n normally the next try works. Unfortunately the errors come sporadically, so we\ncannot see any other relevant conditions for this behaivour like day time, the\nload on the leased line, a definded url and so on.\n\nConfiguration:\nIWS:\nhttpd -V\nServer version: Apache/2.2.4 (Unix)\nServer built:   Jan 16 2007 09:28:12\nServer's Module Magic Number: 20051115:4\nServer loaded:  APR 1.2.8, APR-Util 1.2.8\nCompiled using: APR 1.2.8, APR-Util 1.2.8\nArchitecture:   32-bit\nServer MPM:     Prefork\n  threaded:     no\n    forked:     yes (variable process count)\nServer compiled with....\n -D APACHE_MPM_DIR=\"server/mpm/prefork\"\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)\n -D APR_USE_SYSVSEM_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D DYNAMIC_MODULE_LIMIT=128\n -D HTTPD_ROOT=\"/usr/local\"\n -D SUEXEC_BIN=\"/usr/local/bin/suexec\"\n -D DEFAULT_PIDLOG=\"/var/run/httpd.pid\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_LOCKFILE=\"/var/run/accept.lock\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D AP_TYPES_CONFIG_FILE=\"/etc/httpd/mime.types\"\n -D SERVER_CONFIG_FILE=\"/etc/httpd/httpd.conf\"\n\nhttpd -l\nCompiled in modules:\n  core.c\n  prefork.c\n  http_core.c\n  mod_so.c\n---------------------------\nRP:\nhttpd -V\nServer version: Apache/2.0.59\nServer built:   Jul 31 2006 10:23:39\nServer's Module Magic Number: 20020903:12\nServer loaded:  APR 0.9.12, APR-UTIL 0.9.12\nCompiled using: APR 0.9.12, APR-UTIL 0.9.12\nArchitecture:   32-bit\nServer compiled with....\n -D APACHE_MPM_DIR=\"server/mpm/prefork\"\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)\n -D APR_USE_SYSVSEM_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D HTTPD_ROOT=\"/usr/local\"\n -D SUEXEC_BIN=\"/usr/local/bin/suexec\"\n -D DEFAULT_PIDLOG=\"/var/run/httpd.pid\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_LOCKFILE=\"/var/run/accept.lock\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D AP_TYPES_CONFIG_FILE=\"/etc/httpd/mime.types\"\n -D SERVER_CONFIG_FILE=\"/etc/httpd/httpd.conf\"\n\nhttpd -l\nCompiled in modules:\n  core.c\n  prefork.c\n  http_core.c\n  mod_so.c\n\nAny help is appreciated. I'm ready to supply any additional information, that\ncould be needful to solve the problem. \nThank you!", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 41621, "text": "You might find helpful settings for your RP here:\nhttp://httpd.apache.org/docs/2.0/en/mod/mod_proxy.html#envsettings.\nBut it is really strange to me that this happened after you upgraded your IWS to\n2.2.4. As there had been many changes between 2.0.x and 2.2.x in the proxy\nbackend connection handling I would have expected that there might be problems\nafter upgrading the RP to 2.2.4, but not after upgrading the IWS.", "id": 99449, "time": "2007-02-15T13:21:31Z", "creator": "rpluem@apache.org", "creation_time": "2007-02-15T13:21:31Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "FYI: Because of the problems we have to get back to Apache HTTP Server 2.0.59 on\nIWS. After the downgrade yesterday there were no errors anymore.\n\n", "attachment_id": null, "id": 99462, "creator": "hnmr@gft.com", "time": "2007-02-16T00:33:16Z", "bug_id": 41621, "creation_time": "2007-02-16T00:33:16Z", "is_private": false}, {"count": 3, "tags": [], "text": "Closing since this task has not get any follow up in 10 years. Please re-open if necessary.\n\nThanks!", "attachment_id": null, "id": 202257, "creator": "toscano.luca@gmail.com", "time": "2017-11-19T17:57:44Z", "bug_id": 41621, "creation_time": "2017-11-19T17:57:44Z", "is_private": false}]