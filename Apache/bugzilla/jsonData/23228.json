[{"count": 0, "tags": [], "bug_id": 23228, "attachment_id": null, "text": "The following error occurs in a web app I'm working on, and it all works fine in\n Tomcat 4. If it's a change in JSP syntax or libraries, I certainly can't find\nit anywhere...\n\nI looked on the net and found such things as:\n\nhttp://www.google.com/url?sa=U&start=1&q=http://archives.real-time.com/pipermail/tomcat-devel/2003-February/046448.html&e=747\n\nBut I can't see anywhere that answers the problem, so I have to assume it's a\nbug since Tomcat 4 works ... until I can find if it's a coding error that is new\nin JSP 2.0 and Tomcat 5.\n\n\n\nHere is the first line from one error:\n\n /layout/search-body-layout.jsp(12,0) Unknown attribute type (String) for\nattribute action.'\n\nHere's the JSP that goes with it:\n\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\"  %>\n<%@ taglib uri=\"/WEB-INF/struts-bean.tld\" prefix=\"bean\" %>\n<%@ taglib uri=\"/WEB-INF/struts-html.tld\" prefix=\"html\" %>\n<%@ taglib uri=\"/WEB-INF/struts-logic.tld\" prefix=\"logic\" %>\n<%@ taglib uri=\"/WEB-INF/struts-nested.tld\" prefix=\"nested\" %>\n<%@ taglib uri=\"/WEB-INF/struts-tiles.tld\" prefix=\"tiles\" %>\n<%@ taglib uri=\"/WEB-INF/struts-layout.tld\" prefix=\"layout\" %>\n\n\n<%@ taglib uri='/WEB-INF/tlds/AppTags.tld' prefix='app' %>\n\n<nested:form action=\"search\" method=\"Post\">\n\n\n\nAnd then the full stacktrace from another page...\n\norg.apache.jasper.JasperException: /layout/main-layout.jsp(58,16) Unknown\nattribute type (String) for attribute name.\n\torg.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:83)\n\torg.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:404)\n\torg.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:271)\n\torg.apache.jasper.compiler.Validator$ValidateVisitor.checkXmlAttributes(Validator.java:970)\n\torg.apache.jasper.compiler.Validator$ValidateVisitor.visit(Validator.java:734)\n\torg.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1444)\n\torg.apache.jasper.compiler.Node$Nodes.visit(Node.java:2143)\n\torg.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2193)\n\torg.apache.jasper.compiler.Validator$ValidateVisitor.visit(Validator.java:754)\n\torg.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1444)\n\torg.apache.jasper.compiler.Node$Nodes.visit(Node.java:2143)\n\torg.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2193)\n\torg.apache.jasper.compiler.Validator$ValidateVisitor.visit(Validator.java:754)\n\torg.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1444)\n\torg.apache.jasper.compiler.Node$Nodes.visit(Node.java:2143)\n\torg.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2193)\n\torg.apache.jasper.compiler.Node$Visitor.visit(Node.java:2199)\n\torg.apache.jasper.compiler.Node$Root.accept(Node.java:471)\n\torg.apache.jasper.compiler.Node$Nodes.visit(Node.java:2143)\n\torg.apache.jasper.compiler.Validator.validate(Validator.java:1510)\n\torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:259)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:453)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:439)\n\torg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:555)\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:300)\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:293)\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:856)\n\torg.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1058)\n\torg.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:269)\n\torg.apache.struts.tiles.TilesRequestProcessor.processTilesDefinition(TilesRequestProcessor.java:249)\n\torg.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:303)\n\tfr.improve.struts.taglib.layout.workflow.LayoutRequestProcessor.processForwardConfig(LayoutRequestProcessor.java:37)\n\torg.apache.struts.action.RequestProcessor.processActionForward(RequestProcessor.java:401)\n\torg.apache.struts.action.RequestProcessor.process(RequestProcessor.java:279)\n\torg.apache.struts.action.ActionServlet.process(ActionServlet.java:1420)\n\torg.apache.struts.action.ActionServlet.doGet(ActionServlet.java:502)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:743)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:856)\n\n\nAnd the code for it:\n\n<logic:present name=\"searchResults\">\n<logic:notEmpty name=\"searchResults\" property=\"message(fullQueryTime)\">\n\n<br>Query Time: <bean:write name=\"searchResults\"\nproperty=\"message(fullQueryTime)\"/> ms   <bean:write name=\"searchResults\"\nproperty=\"message(fullQueryTimeSeconds)\"/> seconds\n&nbsp;&nbsp;&nbsp;&nbsp;  SQL Query Time: <bean:write name=\"searchResults\"\nproperty=\"message(queryTime)\"/> ms   <bean:write name=\"searchResults\"\nproperty=\"message(queryTimeSeconds)\"/> seconds\n\n</logic:notEmpty>\n</logic:present>\n\nIt has the same JSP init tags as the previous example.", "id": 44278, "time": "2003-09-17T21:04:27Z", "creator": "benjc-list@novisum.com", "creation_time": "2003-09-17T21:04:27Z", "is_private": false}, {"count": 1, "tags": [], "text": "I'm sure you're not trying to file obsfucated bug reports, but try to separate\nthe eventual test case from comments and traces, it's easier. I'll change the\nseverity of the bug to something more sane, as you should be able to find a\nworkaround, given all Struts webapps I tried did work fine so far.\n\nPlease reopen the report with a ready to run JSP (you seem to have that), thanks.", "is_private": false, "id": 44279, "creator": "remm@apache.org", "time": "2003-09-17T21:14:34Z", "bug_id": 23228, "creation_time": "2003-09-17T21:14:34Z", "attachment_id": null}]