[{"count": 0, "tags": [], "bug_id": 40343, "attachment_id": null, "text": "When I sign via my eID card using xmlsec 1.3.0 everything works.\nWhen I perform the same via xmlsec 1.4.Beta2 I get the following exception:\n\norg.apache.xml.security.signature.XMLSignatureException: Private keys must be\ninstance of RSAPrivate(Crt)Key or have PKCS#8 encoding\nOriginal Exception was java.security.InvalidKeyException: Private keys must be\ninstance of RSAPrivate(Crt)Key or have PKCS#8 encoding\n\tat\norg.apache.xml.security.algorithms.implementations.SignatureBaseRSA.engineInitSign(SignatureBaseRSA.java:172)\n\tat\norg.apache.xml.security.algorithms.SignatureAlgorithm.initSign(SignatureAlgorithm.java:249)\n\tat org.apache.xml.security.signature.XMLSignature.sign(XMLSignature.java:488)", "id": 92655, "time": "2006-08-29T10:27:57Z", "creator": "info@frankcornelis.be", "creation_time": "2006-08-29T10:27:57Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 40343, "attachment_id": null, "text": "Hello\nIt seems very weird, I need more information. Can you send me keystore and a\ncompilable example so I can reproduce it.\n", "id": 92716, "time": "2006-08-30T10:12:28Z", "creator": "raul-info@r-bg.com", "creation_time": "2006-08-30T10:12:28Z", "is_private": false}, {"count": 2, "tags": [], "creator": "sean.mullan@oracle.com", "attachment_id": null, "is_private": false, "id": 92753, "time": "2006-08-30T19:40:03Z", "bug_id": 40343, "creation_time": "2006-08-30T19:40:03Z", "text": "(In reply to comment #0)\n> When I sign via my eID card using xmlsec 1.3.0 everything works.\n> When I perform the same via xmlsec 1.4.Beta2 I get the following exception:\n> \n> org.apache.xml.security.signature.XMLSignatureException: Private keys must be\n> instance of RSAPrivate(Crt)Key or have PKCS#8 encoding\n> Original Exception was java.security.InvalidKeyException: Private keys must be\n> instance of RSAPrivate(Crt)Key or have PKCS#8 encoding\n\nThis exception usually indicates that your PKCS#11 token Key object has been\npassed to a Java Signature impl. that does not understand it (i.e. - it is not a\nPKCS#11 based provider). This could happen if you passed a non-PKCS#11 provider \nname explicitly to the Signature.getInstance call. Hmm, by any chance have \nyou called the JCEMapper.setProviderId method in your code? How are your\nproviders configured in the JRE/lib/security/java.security file?"}, {"count": 3, "tags": [], "bug_id": 40343, "attachment_id": null, "id": 93601, "time": "2006-09-14T18:40:59Z", "creator": "sean.mullan@oracle.com", "creation_time": "2006-09-14T18:40:59Z", "is_private": false, "text": "Closing this out as WORKSFORME since we still need more info\nto analyze/reproduce. Can reopen later if we can reproduce it."}]