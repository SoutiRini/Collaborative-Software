[{"count": 0, "tags": [], "bug_id": 57778, "attachment_id": null, "text": "Hi!\n\nThe latest documentation of the AddType directive [1] says that it \"maps the given filename extensions onto the specified content type\".  What it is not saying is what that mapping is responsible for.\n\nI read the docs like adding a mapping results in a server response header\n\n  Content-type: xxxx\n\nrathern than sending the type set by DefaultType, and nothing more.\n\nA fellow developer explained that a call to AddType can affect the handler used, too.  Is that correct?  Right now my impression is that AddType is more like AddHandler /plus/ producing a Content-Type header rather than just controlling server response header content.  The docs should have an answer or a quality pointer to more details, at least.\n\nSo please add details about the actual effects of using the Addtype directive.  Many thanks!\n\n\n[1] https://httpd.apache.org/docs/current/mod/mod_mime.html#addtype", "id": 182181, "time": "2015-03-30T01:14:35Z", "creator": "sebastian@pipping.org", "creation_time": "2015-03-30T01:14:35Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 57778, "is_private": false, "id": 182253, "time": "2015-04-05T21:33:57Z", "creator": "sebastian@pipping.org", "creation_time": "2015-04-05T21:33:57Z", "tags": [], "text": "Update:  With Apache 2.4 the line\n\n  AddType application/x-httpd-php .php .php5 .phtml\n\ndoes get my PHP files executed, I verified.\n\nThat's not documented at [1].  Please document it.  Thank you!"}, {"count": 2, "tags": [], "text": "thanks for the report. I've added a note in trunk and 2.4 about the legacy type-as-handler stuff.", "is_private": false, "bug_id": 57778, "id": 182569, "time": "2015-04-22T17:27:43Z", "creator": "covener@gmail.com", "creation_time": "2015-04-22T17:27:43Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 57778, "attachment_id": null, "text": "(In reply to Eric Covener from comment #2)\n> thanks for the report. I've added a note in trunk and 2.4 about the legacy\n> type-as-handler stuff.\n\nThanks for your work on this matter.\n\nI found the related commit at r1675426:\nhttps://svn.apache.org/viewvc?view=revision&revision=1675426\n\nTo be honest, I find the note rather hard to understand, even _with_ a background of having understood what's going on to some extent prior to reading.\nAnd there is no mention of potential danger / security.\n\nI'd provide a patch if I knew how to put it well.\nQuoting a public mail of yours, \n\n  \"If no handler is explicitly set, the content-type is copied over\n  as the handler.\"\n\nput it much more clearly.\n\nBesides:\n\n * there is a typo \"diretives\", \n\n * some double quotes may need conversion to \"&quot;\" (not sure) and\n\n * for \"magic\" I would use \"artificial\", instead.\n\nMy vote for re-opening, please.", "id": 182573, "time": "2015-04-22T18:39:47Z", "creator": "sebastian@pipping.org", "creation_time": "2015-04-22T18:39:47Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 57778, "attachment_id": null, "text": "updated in r1675471, trunk only for now. I've tried to lead with the short form and warn at the end.", "id": 182577, "time": "2015-04-22T19:37:29Z", "creator": "covener@gmail.com", "creation_time": "2015-04-22T19:37:29Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 57778, "attachment_id": null, "is_private": false, "id": 182702, "time": "2015-04-28T19:25:22Z", "creator": "sebastian@pipping.org", "creation_time": "2015-04-28T19:25:22Z", "text": "(In reply to Eric Covener from comment #4)\n> updated in r1675471, trunk only for now. I've tried to lead with the short\n> form and warn at the end.\n\nA lot better now.\n\nFor the\n\n  Configurations that rely on such \"synthetic\" types should be avoided\n\na rationale would be cool.\n\nOn\n\n  Additionally, configurations that restrict access to SetHandler\n  or AddHandler should restrict access to this directive as well\n\nI'm unsure what that really is about. If it means to say \"AddType has the same security implications as AddHandler (getting you into remote code execution); you may want to use ForceType wrapped by FilesMatch, instead\", that's the kind of warning I hoped for."}]