[{"count": 0, "tags": [], "creator": "hauser@acm.org", "text": "or http://ant.apache.org/manual/CoreTypes/fileset.html\n\nBasically, in a war task, I want to include all *.class in the directory tree,\nexcept in one directory, I only want the file abc.class, but none of the 100+\nother files in there.\n\nOr could http://ant.apache.org/manual/CoreTypes/selectors.html#filenameselect\nand http://ant.apache.org/manual/CoreTypes/selectors.html#selectcontainers be\nused to create a work-around?\n\nP.S.: somewhat related to http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10888 ?", "id": 45468, "time": "2003-10-13T08:02:25Z", "bug_id": 23760, "creation_time": "2003-10-13T08:02:25Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "To answer your question first: yes.\n\nYour examples\n\n<and>\n  <filename name=\"**/*.class\"/>\n  <not>\n    <filename name=\"**/one directory/**\"/>\n  </not>\n</and>\n\nand the second one should already work with includes=\"**/abc.class\".\n\nAdding new selectors has become straight forward in Ant 1.6, what you need can\nalready be done using selector containers.  A matches attribute on <filename>\nor something similar might be a good idea, but certainly is an enhancement\nrequest.", "attachment_id": null, "bug_id": 23760, "id": 45482, "time": "2003-10-13T09:37:50Z", "creator": "bodewig@apache.org", "creation_time": "2003-10-13T09:37:50Z", "is_private": false}, {"count": 2, "tags": [], "creator": "hauser@acm.org", "text": "Somehow, I don't get it to work with your below suggestion that I interpreted as\nfollows:\na) abc.class remains in the \"nested element 'classes'\" as per\nhttp://ant.apache.org/manual/CoreTasks/war.html\nb) your <and> goes into a generic fileset?\n\n<war warfile=\"${deploy.dir}/myApp.war\"\n\t\t   webxml=\"./WEB-INF/web.xml\">\n\t\t<fileset dir=\"./\" >\n\t\t   <and>\n\t\t      <filename name=\"**/*.class\"/>\n\t\t      <not>\n\t\t        <filename name=\"**/one directory/**\"/>\n\t\t      </not>\n\t\t   </and>\n\t\t</fileset>\n\t\t<classes dir=\"${build.dir}\"\n\t\t   includes=\"./WEB-INF/classes/com/privasphere/myApp/*/one directory/abc.class\"\n\t   />\n\t\t</war>\n\nnow all *.class files are gone in all directories and in \n/usr/local/tomcat/work/MyService/localhost/myApp/WEB-INF/classes/com/*/one\ndirectory/ not even abc.class is found...\n", "id": 45506, "attachment_id": null, "bug_id": 23760, "creation_time": "2003-10-13T13:35:38Z", "time": "2003-10-13T13:35:38Z", "is_private": false}, {"count": 3, "tags": [], "text": "<classes> is a fileset and thus supports <and>.\n\nIf I knew what you really wanted, I could help you.  What is where and where do\nyou want it to end up inside the war?", "attachment_id": null, "bug_id": 23760, "id": 45513, "time": "2003-10-13T13:54:02Z", "creator": "bodewig@apache.org", "creation_time": "2003-10-13T13:54:02Z", "is_private": false}, {"count": 4, "tags": [], "text": "With\n<classes dir=\"${build.dir}\"\n   includes=\" ${build.resources.include},\n          **/control/action/SmtpsProcessAction.class\">\n  \t\t<and>\n     \t\t  <filename name=\"**/*.class\"/>\n      \t\t  <not>\n        \t\t<filename name=\"**/privalope/control/action/**\"/>\n      \t\t  </not>\n   \t\t</and>\n </classes>\n\nthe entire <and> has no effect  :(\n\nrelated Fileset Problems are in\nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=23791", "is_private": false, "bug_id": 23760, "id": 45553, "time": "2003-10-13T18:50:55Z", "creator": "hauser@acm.org", "creation_time": "2003-10-13T18:50:55Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 122479, "time": "2008-11-14T06:46:41Z", "bug_id": 23760, "creation_time": "2008-11-14T06:46:41Z", "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of bug 45284 ***"}]