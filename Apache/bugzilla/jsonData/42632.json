[{"attachment_id": null, "tags": [], "creator": "stevel@apache.org", "is_private": false, "count": 0, "id": 104290, "time": "2007-06-11T05:56:30Z", "bug_id": 42632, "creation_time": "2007-06-11T05:56:30Z", "text": "Just a note that IDEA is complaining that \nJar.filesetManifest() opens some streams and does not appear to close them; I've\nlooked inside the methods it calls and this appears to be the case.\n\nsomeone else should take a look, and if we agree that there is a potential\nstream leakage, fix it."}, {"count": 1, "tags": [], "creator": "peterreilly@apache.org", "attachment_id": null, "is_private": false, "id": 104291, "time": "2007-06-11T06:08:26Z", "bug_id": 42632, "creation_time": "2007-06-11T06:08:26Z", "text": "Had a quick look, the method  filesetManifest(File file, InputStream is) \nis opening a reader on an inputstream. The reader is not closed,\nhowever as the inputstream is is the one that has the file descriptor,\nclosing the reader should be a no op.\n"}, {"count": 2, "tags": [], "creator": "jkf@apache.org", "attachment_id": null, "id": 104958, "time": "2007-06-30T14:49:23Z", "bug_id": 42632, "creation_time": "2007-06-30T14:49:23Z", "is_private": false, "text": "Closing the reader is not a no-op, it will close the stream, in case the stream\nis still needed by the superclass this could be wrong. As Zip is the owner of\nthe stream, imo Zip should close the stream."}, {"count": 3, "tags": [], "bug_id": 42632, "is_private": false, "text": "I agree with Martijn.\n\nfilesetmanifest() doesn't close the reader if and only if it is called from within zipFile() with a non-null InputStream.  The caller of zipFile is the owner of that InputStream and responsible for closing it IMHO.\n\nI had a look through Zip and it closes the streams after calling zipFile().  Jar looks different  with writeServices and writeManifest, but the streams are ByteArrayInputStreams only.\n\nWill check the other subclasses and add a JavaDoc statement to the zipFile method.", "id": 121731, "time": "2008-10-21T08:07:19Z", "creator": "bodewig@apache.org", "creation_time": "2008-10-21T08:07:19Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 42632, "is_private": false, "text": "svn revision 706674.", "id": 121735, "time": "2008-10-21T09:06:25Z", "creator": "bodewig@apache.org", "creation_time": "2008-10-21T09:06:25Z", "attachment_id": null}]