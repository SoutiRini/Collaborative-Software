[{"count": 0, "tags": [], "bug_id": 31233, "is_private": false, "id": 63557, "attachment_id": null, "creator": "hyshih@yahoo.com", "creation_time": "2004-09-15T04:31:11Z", "time": "2004-09-15T04:31:11Z", "text": "My jsp pages (which contains Chinese characters and encoded in UTF8) can be \nexecuted without any problems in Tomcat 4.1 and Tomcat 5.0. When I try to run \nthese jsp pages in Tomcat 5.5, either it will result in compile errors or the \nChinese characters can not be displayed correctly on the browser. Then I tried \nto replace jasper-compiler.jar and jasper-runtime.jar in Tomcat 5.5 with those \nin Tomcat 5.0 and all back to normal."}, {"count": 1, "attachment_id": null, "bug_id": 31233, "is_private": false, "id": 63558, "time": "2004-09-15T05:13:36Z", "creator": "remm@apache.org", "creation_time": "2004-09-15T05:13:36Z", "tags": [], "text": "Can you provide a test case ?"}, {"count": 2, "tags": [], "bug_id": 31233, "is_private": false, "text": "Created attachment 12737\na simple jsp which contains a few chinese chars with UTF8 encoded", "id": 63559, "time": "2004-09-15T06:50:52Z", "creator": "hyshih@yahoo.com", "creation_time": "2004-09-15T06:50:52Z", "attachment_id": 12737}, {"count": 3, "tags": [], "bug_id": 31233, "text": "Created attachment 12739\nanother jsp which will cause compile error", "id": 63569, "time": "2004-09-15T10:15:53Z", "creator": "hyshih@yahoo.com", "creation_time": "2004-09-15T10:15:53Z", "is_private": false, "attachment_id": 12739}, {"count": 4, "tags": [], "bug_id": 31233, "is_private": false, "text": "I can't test the correctness of the characters right now, but I do not get any\ncompilation error with the second file. So this part of the report is bad.\n\nAlthough I'm not the biggest expert in i18n, one of the pages seem wrong: it\ndoes not include a page directive with the correct charset.\n\nLast, you might want to try using the init-param of Jasper (in conf/web.xml) to\nplay with the encoding during the compilation.\n        <init-param>\n            <param-name>javaEncoding</param-name>\n            <param-value>ISO-8859-1</param-value>\n        </init-param>\n", "id": 63579, "time": "2004-09-15T13:59:48Z", "creator": "remm@apache.org", "creation_time": "2004-09-15T13:59:48Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 31233, "text": "Created attachment 12742\ntest jsp on tomcat 5.0", "id": 63594, "time": "2004-09-15T16:06:40Z", "creator": "hyshih@yahoo.com", "creation_time": "2004-09-15T16:06:40Z", "is_private": false, "attachment_id": 12742}, {"count": 6, "tags": [], "bug_id": 31233, "text": "Created attachment 12743\ntest jsp on tomcat 5.5 with default javaEncoding", "id": 63595, "time": "2004-09-15T16:08:15Z", "creator": "hyshih@yahoo.com", "creation_time": "2004-09-15T16:08:15Z", "is_private": false, "attachment_id": 12743}, {"count": 7, "tags": [], "creator": "hyshih@yahoo.com", "attachment_id": 12744, "text": "Created attachment 12744\ntest jsp on tomcat 5.5 with javaEncoding set to ISO-8859-1", "id": 63596, "time": "2004-09-15T16:09:11Z", "bug_id": 31233, "creation_time": "2004-09-15T16:09:11Z", "is_private": false}, {"count": 8, "attachment_id": null, "bug_id": 31233, "is_private": false, "id": 63602, "time": "2004-09-15T16:15:37Z", "creator": "hyshih@yahoo.com", "creation_time": "2004-09-15T16:15:37Z", "tags": [], "text": "I tested the second jsp on three environment settings and got three different \nresults(please see the attatched images):\n\n1. on tomcat 5.0 with default jsp compiler setting: ok\n2. on tomcat 5.5 with default jsp compiler setting: compile error\n3. on tomcat 5.5 with javaEncoding set to ISO-8859-1: display incorrectly"}, {"count": 9, "attachment_id": null, "bug_id": 31233, "is_private": false, "id": 63605, "time": "2004-09-15T16:18:45Z", "creator": "remm@apache.org", "creation_time": "2004-09-15T16:18:45Z", "tags": [], "text": "The is not productive at all. As I said: the syntax error does not occur for me.\nSo I will ignore this part of the report until I get a real test case.\n\nAs for the rest, since the generated source will very likely be the same (you\ndidn't compare, though), and the encoding is properly set on the compiler (you\ncan verify that in the compiler adapter source), the issue must rest with the\ncompiler itself. You have the option of using Ant as the compiler if JDT is the\nissue (remove the JDT jar, and put ant.jar where the JDT jar was).\n\nSupporting JDT is outside of Tomcat's scope, so I will resolve this report as\nINVALID."}]