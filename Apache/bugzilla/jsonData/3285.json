[{"count": 0, "tags": [], "bug_id": 3285, "attachment_id": null, "is_private": false, "id": 4925, "time": "2001-08-27T13:19:19Z", "creator": "sullivan@mathcom.com", "creation_time": "2001-08-27T13:19:19Z", "text": "Hi, I'm running Tomcat 4.0-b5 on RedHat 7.1 on a Pentium.\nWhen I run with Sun's JDK, everything works fine.\n    $ java -version\n    java version \"1.4.0-beta\"\n    Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.0-beta-b65)\n    Java HotSpot(TM) Client VM (build 1.4.0-beta-b65, mixed mode)\n\nBut when I run with IBM's JDK, Tomcat gets ClassLoader problems\n(see log below).\n\t$ java -version\n\tjava version \"1.3.0\"\n\tJava(TM) 2 Runtime Environment, Standard Edition (build 1.3.0)\n\tClassic VM (build 1.3.0, J2RE 1.3.0 IBM build cx130-20010626 (JIT enabled:\njitc))\n\nI'd really rather use IBM's JDK, since in general it\nis much more reliable than Sun's.\n\nMany thanks,\nSteve\n\nExtract from localhost_log.2001-08-27.txt: (scan down for exception)\n\n2001-08-27 12:27:44 StandardHost[localhost]: Installing web application at\ncontext path /testappa from URL\nfile:/stuff/tdtomcat/jakarta-tomcat-4.0-b5-src/build/webapps/testappa\n2001-08-27 12:27:44 StandardManager[/testappa]: Seeding random number generator\nclass java.security.SecureRandom\n2001-08-27 12:27:44 StandardManager[/testappa]: Seeding of random number\ngenerator has been completed\n2001-08-27 12:27:44 ContextConfig[/testappa]: Configured an authenticator for\nmethod BASIC\n2001-08-27 12:27:44 StandardWrapper[/testappa:default]: Loading container\nservlet default\n2001-08-27 12:27:44 default: init\n2001-08-27 12:27:44 StandardWrapper[/testappa:invoker]: Loading container\nservlet invoker\n2001-08-27 12:27:44 invoker: init\n2001-08-27 12:27:44 StandardWrapper[/testappa:jsp]: Using Jasper classloader for\nservlet jsp\n2001-08-27 12:27:44 jsp: init\n2001-08-27 12:27:45 StandardWrapper[/testappa:Testapia]: Marking servlet\nTestapia as unavailable\n2001-08-27 12:27:45 StandardContext[/testappa]: Servlet /testappa threw load()\nexception\njavax.servlet.ServletException: Wrapper cannot find servlet class testpk/Testa\nor a class it depends on\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:797)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:3277)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:785)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:413)\n\tat org.apache.catalina.core.StandardHost.install(StandardHost.java:641)\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:300)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:389)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:232)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:155)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1131)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:278)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:353)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:458)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:725)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:647)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:177)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:196)\n----- Root Cause -----\njava.lang.ClassNotFoundException: testpk/Testa\n\tat\norg.apache.catalina.loader.StandardClassLoader.loadClass(StandardClassLoader.java(Compiled\nCode))\n\tat\norg.apache.catalina.loader.StandardClassLoader.loadClass(StandardClassLoader.java(Compiled\nCode))\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:792)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:3277)\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:785)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:413)\n\tat org.apache.catalina.core.StandardHost.install(StandardHost.java:641)\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:300)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:389)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:232)\n\tat\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:155)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1131)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:278)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:353)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:458)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:725)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:647)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:177)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:196)"}, {"count": 1, "tags": [], "bug_id": 3285, "text": "This also occurs in beta 7.", "id": 4961, "time": "2001-08-28T09:33:42Z", "creator": "sullivan@mathcom.com", "creation_time": "2001-08-28T09:33:42Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 3285, "text": "I finally was able to use a Linux machine, and I installed the IBM JDK. The \nsimple example servlets run fine. Do they also run fine for you ? If they do, \nI'll try with more complex servlets.", "id": 5162, "time": "2001-09-06T10:58:25Z", "creator": "remm@apache.org", "creation_time": "2001-09-06T10:58:25Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "text": "Hmmm, partly my mistake.  The format for the\n<servlet-class> tag in web.xml is the issue.\nThe Sun compiler will accept:\n\t<servlet-class> testpk/Testa </servlet-class>\nHowever, the IBM compiler will not accept \"/\" there, and demands:\n\t<servlet-class> testpk.Testa </servlet-class>\n\nUser error?  Still it's odd that the compilers differ here.\n", "attachment_id": null, "bug_id": 3285, "id": 5167, "time": "2001-09-06T13:11:18Z", "creator": "sullivan@mathcom.com", "creation_time": "2001-09-06T13:11:18Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 3285, "attachment_id": null, "is_private": false, "id": 5173, "time": "2001-09-06T14:24:53Z", "creator": "remm@apache.org", "creation_time": "2001-09-06T14:24:53Z", "text": "Ok, I'll mark the bug as invalid then. Thanks for the confirmation. The IBM \nbehavior seems ok, though, since you're supposed to separate package names \nusing '.' (not '/').\nThanks !"}]