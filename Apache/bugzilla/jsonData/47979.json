[{"count": 0, "tags": [], "creator": "rhys.ulerich@gmail.com", "attachment_id": null, "text": "As reported in this thread [1], 'pkg-config apr-1 --cflags' includes extraneous information.  This has occurred since at least 1.3.6.\n\nTo reproduce:\n1) Get the latest APR tarball and untar it\n2) unset CFLAGS && ./configure --prefix=SOMESPOT1 && make install\n3) CFLAGS=\"\" && ./configure --prefix=SOMESPOT2 && make install\n3) CFLAGS=\"-g -O2\" && ./configure --prefix=SOMESPOT3 && make install\n\nObserve that SOMESPOT{1,2,3}/lib/pkgconfig/apr-1.pc  all improperly contain\n> Cflags: -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE  -pthread -I${includedir}\nwhich causes incorrect information to appear in 'pkg-config apr-1 --cflags'.\n\n[1] http://www.nabble.com/apr-1.3.6-incorrectly-includes-\"-g--O2\"-in-'pkg-config---cflags\"-to24470493.html", "id": 131072, "time": "2009-10-11T13:23:23Z", "bug_id": 47979, "creation_time": "2009-10-11T13:23:23Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 47979, "attachment_id": null, "id": 131073, "time": "2009-10-11T13:59:35Z", "creator": "rpluem@apache.org", "creation_time": "2009-10-11T13:59:35Z", "is_private": false, "text": "Just to be clear: You complain that -g -O2 show up in apr.pc when CFLAGS aren't set or set to \"\", correct?\n-DLINUX=2 -D_REENTRANT -D_GNU_SOURCE  -pthread -I${includedir}\nare important flags and belong there as they influence the behavior of libc headers on Linux that will be included via the apr header files in you own code."}, {"count": 2, "tags": [], "creator": "rhys.ulerich@gmail.com", "attachment_id": null, "text": "> Just to be clear: You complain that -g -O2 show up in apr.pc when\n> CFLAGS aren't set or set to \"\", correct?\n\nCorrect.  Sorry for not being clear in the bug report.\n\nunset CFLAGS gives\n> Cflags: -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -g -O2 -pthread -I${includedir}\nwhich seems incorrect.\n\nCFLAGS=\"\" gives \n> Cflags: -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -pthread -I${includedir}\nlike I expect, at least in 1.3.8.  This behavior is correct.\n\nCFLAGS=\"-g -O2\" gives\n> Cflags: -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE  -pthread -I${includedir}\nlike I expect.  This behavior is correct.", "id": 131076, "time": "2009-10-11T14:09:14Z", "bug_id": 47979, "creation_time": "2009-10-11T14:09:14Z", "is_private": false}]