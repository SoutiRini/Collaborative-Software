[{"count": 0, "tags": [], "bug_id": 31245, "text": "I'm having problems with CLASSPATH handling with the apache-ant-1.6.2/bin/ant\nshell script on Cygwin.\n\nIn lines 236-238, the CLASSPATH environment variable is processed unnecessarily\nthrough \"cygpath --path --$format\".  These three lines of shell script should be\ndeleted.\n\nHere's a small test case:\n\n<project default=\"echo\">\n <property environment=\"env\"/>\n <target name=\"echo\">\n   <echo message=\"${env.CLASSPATH}\"/>\n </target>\n</project>\n\nWhen the CLASSPATH variable contains \".;C:\\dir1\\lib1.jar;C:\\dir2\\lib2.jar\" and\nthe current drive is the C:\\ drive, running the build.xml file with Ant 1.6.2\nresults in\n\n==================================\n[weiqi@gao] $ ant\nBuildfile: build.xml\n\necho:\n    [echo] .;C;c:/dir1/lib1.jar;C;c:/dir2/lib2.jar\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n==================================\n\nThis is clearly weird but still works.\n\nWhen the same command is executed while the current drive is the R:\\ drive, the\nresult looks like this:\n\n==================================\n[weiqi@gao] $ ant\nBuildfile: build.xml\n\necho:\n    [echo] .;C;r:/dir1/lib1.jar;C;r:/dir2/lib2.jar\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n==================================\n\nThis is wrong.  he result is also wrong when I worked from a shared home\ndirectory with a UNC path //server/share as HOME.  The result looks like this:\n\n==================================\n[weiqi@gao] $ ant\nBuildfile: build.xml\n\necho:\n    [echo] .;C;//server/share/dir1/lib1.jar;C;//server/share/dir2/lib2.jar\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n==================================", "id": 63589, "time": "2004-09-15T15:24:20Z", "creator": "weiqigao@networkusa.net", "creation_time": "2004-09-15T15:24:20Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 31245, "text": "Created attachment 12760\nPatch to fix the problem.  Tested with latest Cygwin.", "id": 63753, "time": "2004-09-17T18:28:58Z", "creator": "weiqigao@networkusa.net", "creation_time": "2004-09-17T18:28:58Z", "is_private": false, "attachment_id": 12760}, {"count": 2, "text": "The cygpath command is necessary in case the CLASSPATH has been provided as a\nunix style path, at the same time it mustn't be applied in case a windows style\npath has been provided.\n\nI've coded another workaround, to make the paths being converted correctly\nregardless wheter it was a windows or unix style path.", "bug_id": 31245, "is_private": false, "id": 72463, "time": "2005-03-15T21:57:14Z", "creator": "jkf@apache.org", "creation_time": "2005-03-15T21:57:14Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "creator": "jkf@apache.org", "is_private": false, "id": 73921, "attachment_id": null, "bug_id": 31245, "creation_time": "2005-04-21T22:16:32Z", "time": "2005-04-21T22:16:32Z", "text": "*** Bug 33703 has been marked as a duplicate of this bug. ***"}]