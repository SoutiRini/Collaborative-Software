[{"attachment_id": null, "tags": [], "creator": "eddy@bsd.sh", "text": "In trying to configure httpd-2.0.45 on FreeBSD 5.0-Release to spawn all \nprocesses as an unprivelaged user, I came across the following behavior. When \nyou have set file permissions, binding port, and User in httpd.conf and then \nexecute httpd via apachectl thus 'su -m www -c \"/usr/local/apache/bin/apachectl \nstart\"' the command exits, no httpd instances are spawned, and no debugging \ninformation is written to Error_Log. This occurs even with the error log \nsetting set to \"debug\". Upon investigation I found that the issue was the \ndefault location of LockFile was not user writeable and easily corrected the \nsituation (go truss). However, some sort of logging should be enabled if \npossible on that file and written to Error_Log or stderr as with all other \nEPERM issues. Thanks.\n\nwww# su -m www -c \"/usr/local/apache/bin/apachectl start\"\nwww# ps auxwww|grep apache|grep -v grep\nwww# ls -al *error_log\n-rw-r--r--  1 www  wheel  0 May 12 00:36 apt.antinode.net-error_log\n\nwww# su -m www\nwww# truss -f /usr/local/apache/bin/apachectl start\n<snip>\n58630: open(\"/usr/local/apache/logs/accept.lock.58630\",0xa01,0600) \nERR#13 'Permission denied'\nSIGNAL 11\nSIGNAL 11\nProcess stopped because of:  16\nprocess exit, rval = 11", "count": 0, "id": 37048, "time": "2003-05-11T23:25:39Z", "bug_id": 19833, "creation_time": "2003-05-11T23:25:39Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 19833, "attachment_id": null, "text": "It segfaulted (signal 11).  This problem has been fixed since 2.0.45 and will be\nin the next release.  Thanks for using Apache!\n\n\n*** This bug has been marked as a duplicate of 19036 ***", "id": 37055, "time": "2003-05-12T10:29:31Z", "creator": "trawick@apache.org", "creation_time": "2003-05-12T10:29:31Z", "is_private": false}]