[{"count": 0, "tags": [], "creator": "alain@reqwireless.com", "text": "We have a successfully deployed servlet servicing 1000s of users.  We recently\nswitched from the following (working reasonably well) configuration:\n\nApache 1.3\nJRE 1.4.0_03\nTomcat 4.1.29\nmod_jk\n\nto:\n\nApache 2.0\nJRE 1.4.0_03\nTomcat 4.1.29\nmod_jk2\n\nSince making the switch, we have noticed a marked increase (5-fold) in the\nnumber of \"java.io.IOException: Connection reset by peer\" instances in our\nservlet logs.\n\nWe've also noticed a correlation between occurrences of these exceptions in the\nservlet logs, and the following entries in the apache error log:\n\n[Tue May 04 10:54:00 2004] [error] ajp13.service() ajpGetReply recoverable error 3\n[Tue May 04 10:54:00 2004] [error] ajp13.service() Error  forwarding\najp13:216.16.231.79:11009 1 0\n[Tue May 04 10:54:00 2004] [error] mod_jk2.handler() Error connecting to tomcat\n3, status 200\n\nWe aren't sure yet, but we have to assume that each such occurrence represents a\nfailed request by one of our users.  We have since reverted to using mod_jk\ninstead of mod_jk2:\n\nApache 2.0\nJRE 1.4.0_03\nTomcat 4.1.29\nmod_jk\n\nBut we are still quite interested in moving to mod_jk2, and hope to find the\nsolution to this problem.  We are willing to help w/ further information and\nassistance.", "id": 56886, "time": "2004-05-05T18:36:15Z", "bug_id": 28790, "creation_time": "2004-05-05T18:36:15Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 28790, "text": "The \"java.io.IOException: Connection reset by peer\" instances in our\nservlet logs occur when we attempt to write to the output stream that we obtain\nby calling HttpServletResponse.getOutputStream().\n\nSwitching back to mod_jk from mod_jk2 brought down the occurrences of the\nexceptions back to levels we were used to seeing before the upgrade.\n", "count": 1, "id": 56892, "time": "2004-05-05T19:46:21Z", "creator": "alain@reqwireless.com", "creation_time": "2004-05-05T19:46:21Z", "is_private": false}, {"count": 2, "tags": [], "creator": "matt@xrefer.com", "is_private": false, "text": "Created attachment 11594\nPatch to correct mod_jk2 build", "id": 57638, "time": "2004-05-19T11:33:19Z", "bug_id": 28790, "creation_time": "2004-05-19T11:33:19Z", "attachment_id": 11594}, {"attachment_id": null, "tags": [], "bug_id": 28790, "text": "Sorry, don't know how that patch crept in, it's gone to the wrong bug id. Apologies.", "count": 3, "id": 57639, "time": "2004-05-19T11:34:35Z", "creator": "matt@xrefer.com", "creation_time": "2004-05-19T11:34:35Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 28790, "attachment_id": null, "text": "We are having the same error with windows 2000/Apache2/mod_jk2 and Jboss.\nOur apache version is 2.0.48.\n\nI believe the problem is within the mod_jk2 code, but found this but in the\nTomcat tree so I added my comments to it.\n\n[Fri Aug 13 13:01:49 2004][error]ajp13.service() ajpGetReply recoverable error 3\n[Fri Aug 13 13:01:49 2004][error]ajp13.service() ajpGetReply recoverable error 3\n[Fri Aug 13 13:01:49 2004][error]ajp13.service() Error  forwarding\najp13:localhost:8009 1 0\n[Fri Aug 13 13:01:49 2004][error]mod_jk2.handler() Error connecting to tomcat 3,\nstatus 200\n\n", "id": 61966, "time": "2004-08-13T20:41:40Z", "creator": "tony@varsityswing.com", "creation_time": "2004-08-13T20:41:40Z", "is_private": false}, {"count": 5, "text": "We are having the same error with Linux and JBoss 3.2.5\n\n\nmod_jk: Error flushing\n[Fri Nov 05 11:21:31 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3\n[Fri Nov 05 11:21:31 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3\n[Fri Nov 05 11:21:31 2004] [error] ajp13.service() Error  forwarding \najp13:192.168.205.2:8009 1 0\n[Fri Nov 05 11:21:31 2004] [error] mod_jk2.handler() Error connecting to \ntomcat 3, status 200\n[Fri Nov 05 11:32:46 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3\n[Fri Nov 05 11:32:46 2004] [error] ajp13.service() ajpGetReply recoverable \nerror 3\n[Fri Nov 05 11:32:46 2004] [error] ajp13.service() Error  forwarding \najp13:192.168.205.2:8009 1 0\n[Fri Nov 05 11:32:46 2004] [error] mod_jk2.handler() Error connecting to \ntomcat 3, status 200\n\n\nCompiled jk2 using the (eventually located) build.xml that downloaded from CVS.\n\nThen compiled inside jk/native2 using the INSTALL.txt instructions.\n\n\n", "creator": "mykel@weirdness.com", "is_private": false, "id": 66552, "time": "2004-11-05T18:37:56Z", "bug_id": 28790, "creation_time": "2004-11-05T18:37:56Z", "tags": [], "attachment_id": null}, {"count": 6, "tags": [], "creator": "funkman@joedog.org", "attachment_id": null, "id": 68446, "time": "2004-12-14T01:37:18Z", "bug_id": 28790, "creation_time": "2004-12-14T01:37:18Z", "is_private": false, "text": "As of November 15, 2004, JK2 is no longer supported. All bugs related to JK2 \nwill be marked as WONTFIX. In its place, some of its features have been \nbackported to jk1. Most of those features will be seen in 1.2.7, which is \nslated for release on November 30th, 2004.\n\nAnother alternative is the ajp addition to mod_proxy which will be part of \napache 2.\n\nFor more information on the Tomat connectors docs at\nhttp://jakarta.apache.org/tomcat/connectors-doc/\n\n"}]