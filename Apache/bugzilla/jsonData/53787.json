[{"count": 0, "tags": [], "bug_id": 53787, "attachment_id": 29290, "text": "Created attachment 29290\nYou can see there the access I did and the listing of the cacheRoot.\n\nHi,\n\nI build a sample forward-proxy with disk cache enable. In 2.2.22, everything is OK but in 2.4.2 and 2.4.3, the cache doesn't work any more.\n\nThe configuration is quiet simple (as in the documentation, I do a simple POC for the 2 versions) :\n\nProxyRequests On\nProxyVia On\nProxyRemote * http://<hostname of my internet proxy>:8080\n\n<Proxy *>\n  Order Deny,Allow\n  Deny from all\n  Allow from 172.20.192\n</Proxy>\n\nCacheEnable disk /\nCacheRoot \"/tmp/apache243cache\"\n\nI can see the access, http access are OK from my brower using this proxy but only the htdocs/index.html is cached on the disk while in 2.2, all the gif and html files are written in the cache.", "id": 161769, "time": "2012-08-28T10:05:05Z", "creator": "johnny.barray@maif.fr", "creation_time": "2012-08-28T10:05:05Z", "is_private": false}, {"count": 1, "tags": [], "creator": "johnny.barray@maif.fr", "text": "Created attachment 29291\nThe complete configuration file used", "id": 161770, "time": "2012-08-28T10:13:36Z", "bug_id": 53787, "creation_time": "2012-08-28T10:13:36Z", "is_private": false, "attachment_id": 29291}, {"count": 2, "tags": [], "bug_id": 53787, "attachment_id": null, "text": "I have this same issue.\n\nThe disk cache will work for local content.\n\nBut proxied requests are not getting cached.", "id": 162911, "time": "2012-10-24T05:26:32Z", "creator": "jlpetz@gmail.com", "creation_time": "2012-10-24T05:26:32Z", "is_private": false}, {"count": 3, "text": "Same issue while Apache 2.2.22 from Debian 7.0.\n\n'CacheEnable /' is not caching forward-proxied any more, but it can be done with 'CacheEnable http://'. Which is actually much better since we can separately control if we cache local and/pr proxied content.\n\nBut the behaviour change is not documented in http://httpd.apache.org/docs/2.2/mod/mod_cache.html#cacheenable - I only found out while seeing the 'CacheEnable ftp://' example.\n\nMy old Apache 2.2.9 was caching forward-proxied requests with 'CacheEnable /'. Thus the change occured in the 2.2.9 (r666274) - 2.2.22 (r1235965) interval. That's a looots of commits : http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/cache/mod_cache.c?view=log\n\nI suggest to change the doc :\n* change the 'CacheEnable /' as 'CacheEnable http://' after the '# Cache proxied url's' line (this is obivously a typo)\n* specify at which Apache version this behaviour changed (sorry, dunno which)", "bug_id": 53787, "attachment_id": null, "id": 167341, "time": "2013-05-21T21:14:01Z", "creator": "vcaron@bearstech.com", "creation_time": "2013-05-21T21:14:01Z", "tags": [], "is_private": false}]