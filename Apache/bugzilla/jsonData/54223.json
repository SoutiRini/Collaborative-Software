[{"count": 0, "tags": [], "text": "Error message says...\n\nAH00554: Access to file /etc/apache2/conf.d/ denied by server: not a regular file\napache2: Syntax error on line 227 of /etc/apache2/apache2.conf: Could not open configuration file /etc/apache2/conf.d/: Bad file descriptor\n\n\nTo reproduce...\n\nThe server root is /etc/apache2.\nThe configuration file /etc/apache2/apache2.conf contains:\n  Include conf.d/\nRun `httpd -t -f /etc/apache2/apache2.conf`\n\n\nThis is a bug because...\nIt used to work in Apache 2.2, but fails in Apache 2.4.3.  Nothing in the release notes suggests that it was intentionally changed, so it's a regression.\n\n\nSuggested workaround...\nInclude conf.d/*\n\n\nGDB stack trace...\n\n881\t        ap_log_error(APLOG_MARK, APLOG_ERR, 0, NULL, APLOGNO(00554)\n(gdb) bt\n#0  ap_pcfg_openfile (ret_cfg=0x7fffffffdb58, p=0x6a9138, \n    name=0x774788 \"/etc/apache2/conf.d/\") at util.c:881\n#1  0x000000000045a0bc in ap_process_resource_config (s=0x6d5cb8, \n    fname=0x774788 \"/etc/apache2/conf.d/\", conftree=0x7fffffffdca8, \n    p=0x6a9138, ptemp=0x70c5c8) at config.c:1789\n#2  0x000000000045a95d in ap_process_fnmatch_configs (s=0x6d5cb8, \n    fname=0x774788 \"/etc/apache2/conf.d/\", conftree=0x7fffffffdca8, \n    p=0x6a9138, ptemp=0x70c5c8, optional=0) at config.c:2016\n#3  0x000000000044555b in include_config (cmd=0x7fffffffe1f0, \n    dummy=0x7fffffffe028, name=0x774778 \"conf.d/\") at core.c:2979\n#4  0x0000000000457e6f in invoke_cmd (cmd=0x485bf0, parms=0x7fffffffe1f0, \n    mconfig=0x7fffffffe028, args=0x70c71f \"\") at config.c:909\n#5  0x0000000000459c54 in execute_now (cmd_line=0x774718 \"Include\", \n    args=0x70c718 \"conf.d/\", parms=0x7fffffffe1f0, p=0x6a9138, \n    ptemp=0x70c5c8, sub_tree=0x7fffffffe028, parent=0x0) at config.c:1666\n#6  0x0000000000458b9c in ap_build_config_sub (p=0x6a9138, \n    temp_pool=0x70c5c8, l=0x70c710 \"Include conf.d/\", parms=0x7fffffffe1f0, \n    current=0x7fffffffe0f8, curr_parent=0x7fffffffe0f0, conftree=0x6a0180)\n    at config.c:1131\n#7  0x00000000004593e0 in ap_build_config (parms=0x7fffffffe1f0, p=0x6a9138, \n    temp_pool=0x70c5c8, conftree=0x6a0180) at config.c:1383\n#8  0x000000000045a135 in ap_process_resource_config (s=0x6d5cb8, \n    fname=0x710f90 \"/etc/apache2/apache2.conf\", conftree=0x6a0180, \n#9  0x000000000045b991 in ap_read_config (process=0x6a7218, ptemp=0x70c5c8, \n    filename=0x7fffffffe7ee \"/etc/apache2/apache2.conf\", conftree=0x6a0180)\n    at config.c:2407\n#10 0x000000000042dc76 in main (argc=4, argv=0x7fffffffe558) at main.c:624", "attachment_id": null, "bug_id": 54223, "id": 163716, "time": "2012-11-29T00:31:10Z", "creator": "apachebugs@acrotect.com", "creation_time": "2012-11-29T00:31:10Z", "is_private": false}, {"count": 1, "tags": [], "text": "Looks inadvertent to me", "attachment_id": null, "bug_id": 54223, "id": 163717, "time": "2012-11-29T00:55:07Z", "creator": "covener@gmail.com", "creation_time": "2012-11-29T00:55:07Z", "is_private": false}, {"count": 2, "attachment_id": 29651, "creator": "covener@gmail.com", "text": "Created attachment 29651\nrestore ability to add a single dir w/o /*", "id": 163718, "time": "2012-11-29T01:26:32Z", "bug_id": 54223, "creation_time": "2012-11-29T01:26:32Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "id": 163719, "time": "2012-11-29T01:34:38Z", "bug_id": 54223, "creation_time": "2012-11-29T01:34:38Z", "is_private": false, "text": "thanks for the detailed report, fixed in r1415023 and will propose for backport."}]