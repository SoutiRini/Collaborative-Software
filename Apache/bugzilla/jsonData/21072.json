[{"count": 0, "tags": [], "bug_id": 21072, "attachment_id": null, "id": 39388, "time": "2003-06-25T06:06:13Z", "creator": "paul_roebuck@mac.com", "creation_time": "2003-06-25T06:06:13Z", "is_private": false, "text": "In the file 'ant' in the bin directory, the following line exists:\n> ANT_LIB=\"${ANT_HOME}/lib\"\n\nEssentially, what I would request is that another variable (USER_ANT_LIB?) be\nmade available as a top-level environment variable like ANT_HOME and that the\nline be changed to be:\n> ANT_LIB=${USER_ANT_LIB:-${ANT_HOME}/lib}\n\nThis provides the same default value as before unless the new environment\nvariable is set. If set, the specified user directory would take the place\nof the standard one.\n\nBenefits to user:\nNot everyone has root access. So making a change to the standard install\non a system may not be possible for just anyone. And anyone having done\nmuch XML coding will agree, sometimes putting the jar in $ANT_HOME/lib is\nthe only way to fix classpath loading errors. Having to share a single\ndirectory can have its downsides.\n\nThis would allow creation of library director(y|ies) that can be maintained\nindependent of the version of Ant installed on the system."}, {"count": 1, "tags": [], "bug_id": 21072, "attachment_id": null, "text": "Why not in this case simply install a complete ant distro in the user's home \ndirectory. The libs are a large part of the disk space used by ant anyway. Then \nthe user's who want to use their own ant distro can do it by doing\nexport ANT_HOME=$HOME/ant\nexport PATH=$ANT_HOME/bin:$PATH\nin their .profile", "id": 39391, "time": "2003-06-25T07:17:16Z", "creator": "antoine@apache.org", "creation_time": "2003-06-25T07:17:16Z", "is_private": false}, {"count": 2, "tags": [], "creator": "paul_roebuck@mac.com", "is_private": false, "text": ">Why not in this case simply install a complete ant distro in the user's home \n>directory. The libs are a large part of the disk space used by ant anyway.\n\nThat's possible but a hassle to maintain multiple copies of Ant for different\nprojects just for minor differences in library content. Apologies for not properly\nthinking out my request before submitting.\n\nIntent was actually more along having a cascading mechanism (like the\nMac OS X Java setup) such that my particular overrides would be prepended\nto the classpath prior to loading the normal Ant libraries. As such, I can override\n(for example) xerces.jar at the project level and use the rest of the libraries\n from the current version of Ant.\n", "id": 39400, "time": "2003-06-25T09:14:37Z", "bug_id": 21072, "creation_time": "2003-06-25T09:14:37Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 21072, "is_private": false, "text": "The new launch scripts will pick up libraries from \n\n.ant/lib\n\nin the user's home directory.\n\nWould that suffice?\n", "id": 40611, "time": "2003-07-14T07:35:39Z", "creator": "conor@apache.org", "creation_time": "2003-07-14T07:35:39Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 21072, "is_private": false, "id": 40618, "attachment_id": null, "creator": "paul_roebuck@mac.com", "creation_time": "2003-07-14T09:20:01Z", "time": "2003-07-14T09:20:01Z", "text": "The original thought was something akin to 'java.ext.dirs' but specific to Ant.\nThe '-Dant.ext.dirs' would add all jars from any existing directory found in the path.\nThis could accomodate both project and user level setups.\n\nIf a single directory is being offered, could it be environment-based?\n\nUSER_ANT_LIB=${ANT_EXT_LIB:-${HOME}/.ant/lib}\nif [ -d $USER_ANT_LIB ];\nthen\n    # load any jars found\nfi\n\nThis would allow turning it off (if necessary) or redirecting it to another directory.\nIt would be very handy for many common extensions. The question remains as\nto whether it will this allow Xerces/Xalan to be loaded from there.\n\n"}, {"count": 5, "tags": [], "bug_id": 21072, "attachment_id": null, "text": "In Ant 1.6, the new Ant launch scripts will support multiple -lib options to \ndesignate either directories containing jars/classes or a classpath. In fact \nAnt is now lauched with a minimal classpath and the CLASSPATH value, if any, is \npassed using a -lib option.\n\nThis all should allow Xerces/Xalan to be loaded from an alternate directory.", "id": 44593, "time": "2003-09-24T15:02:41Z", "creator": "conor@apache.org", "creation_time": "2003-09-24T15:02:41Z", "is_private": false}, {"count": 6, "tags": [], "creator": "paul_roebuck@mac.com", "attachment_id": null, "text": ">In Ant 1.6, the new Ant launch scripts will support multiple -lib options to \n>designate either directories containing jars/classes or a classpath. In fact \n>Ant is now lauched with a minimal classpath and the CLASSPATH value, if any,  \n>is passed using a -lib option.\n\nCurious as to how this impacts 'optional.jar' for the JUnit task, if at all.\nIs 'optional.jar' now to be located elsewhere?\n\n>This all should allow Xerces/Xalan to be loaded from an alternate directory.\n\nHow does it tell the endorsed standards jars from the others? Using '-lib'\nwouldn't appear to give it enough information to do so.\n\n", "id": 44748, "time": "2003-09-26T17:38:50Z", "bug_id": 21072, "creation_time": "2003-09-26T17:38:50Z", "is_private": false}]