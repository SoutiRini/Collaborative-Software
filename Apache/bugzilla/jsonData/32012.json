[{"attachment_id": null, "tags": [], "bug_id": 32012, "is_private": false, "count": 0, "id": 66267, "time": "2004-11-02T03:08:29Z", "creator": "jax@well.com", "creation_time": "2004-11-02T03:08:29Z", "text": "IBM JTOpen project build.xml contains the following invocation of the JavaC task:\n\n    <javac srcdir=\"${source}:${source-contrib}\"\n           destdir=\"${output}\"\n           memoryMaximumSize=\"256m\"\n           failonerror=\"true\"\n           debug=\"on\"\n           debuglevel=\"lines,source\"\n           fork=\"true\"\n           target=\"1.1\">\n      <classpath>\n        <pathelement path=\"${include}\"/>\n        <pathelement location=\"${include}/servlet.jar\"/> <!-- Need the JSDK\nclasses to compile the com.ibm.as400.util.servlet pa\nckage. -->\n        <pathelement location=\"${stubs}\"/>\n      </classpath>\n    </javac>\n\nWhen executed, this statement produces the following error:\n\n [javac] javac: invalid flag: -J-Xmx256m"}, {"count": 1, "attachment_id": null, "creator": "jax@well.com", "text": "My Java level:\n\n[20:03:36 jax@mitra:~]$ java -version\njava version \"1.4.2_04\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_04-b04)\nJava HotSpot(TM) Client VM (build 1.4.2_04-b04, mixed mode)\n", "id": 66268, "time": "2004-11-02T03:09:16Z", "bug_id": 32012, "creation_time": "2004-11-02T03:09:16Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 32012, "is_private": false, "text": "do a 'which javac' or otherwise locate the version of javac on your sourcepath.\nThen do 'javac' and show us what it prints.\n\nYou quite probably have an old version somewhere on your path, that is being\npicked up in fork=true mode.", "id": 66276, "time": "2004-11-02T09:48:44Z", "creator": "stevel@apache.org", "creation_time": "2004-11-02T09:48:44Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 32012, "text": "[08:15:22 jax@mitra:~]$ ls -l `which java`\n-r-xr-xr-x    1 root     other       38468 Apr 13  2004 /usr/java/bin/java\n[08:15:34 jax@mitra:~]$ ls -l `which javac`\n-r-xr-xr-x    1 root     other       28576 Apr 13  2004 /usr/java/bin/javac\n[08:15:39 jax@mitra:~]$ echo $JAVA_HOME\n/usr/java\n[08:15:45 jax@mitra:~]$ ls -l /usr/java\nlrwxrwxrwx    1 root     other          22 Apr 13  2004 /usr/java ->\n/opt/SUNWappserver/jdk\n[08:16:04 jax@mitra:~]$ javac\nUsage: javac <options> <source files>\nwhere possible options include:\n  -g                        Generate all debugging info\n  -g:none                   Generate no debugging info\n  -g:{lines,vars,source}    Generate only some debugging info\n  -nowarn                   Generate no warnings\n  -verbose                  Output messages about what the compiler is doing\n  -deprecation              Output source locations where deprecated APIs are used\n  -classpath <path>         Specify where to find user class files\n  -sourcepath <path>        Specify where to find input source files\n  -bootclasspath <path>     Override location of bootstrap class files\n  -extdirs <dirs>           Override location of installed extensions\n  -d <directory>            Specify where to place generated class files\n  -encoding <encoding>      Specify character encoding used by source files\n  -source <release>         Provide source compatibility with specified release\n  -target <release>         Generate class files for specific VM version\n  -help                     Print a synopsis of standard options\n", "id": 66286, "time": "2004-11-02T15:23:24Z", "creator": "jax@well.com", "creation_time": "2004-11-02T15:23:24Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 32012, "text": "This is interesting. \n\nFirst -J-Xmx256m is legit for the current javac. From the docs\n\n\"-Joption\n    Pass option to the java launcher called by javac. For example, -J-Xms48m\nsets the startup memory to 48 megabytes. Although it does not begin with -X, it\nis not a `standard option' of javac. It is a common convention for -J to pass\noptions to the underlying VM executing applications written in Java.\"\n\n\nSo if your version of Javac is unhappy, we have something very unusual indeed.\nNothing obvious springs to mind; I've never encountered this before. The only\njavac implementations i'd expect trouble on is the MS jvc.exe, and that doesnt\ncount. \n\n1. you may want to try jikes instead. Its faster; you'll love it.\n\n2. set fork=false to get the in-JVM javac; for which you may need to tune memory\nrequirements of ant itself, if you really need 256M.\n\n3. what is the output of running the target in -verbose mode?\n\n", "id": 66287, "time": "2004-11-02T15:33:19Z", "creator": "stevel@apache.org", "creation_time": "2004-11-02T15:33:19Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 32012, "is_private": false, "text": "Arglebargle. This bug appeared consistently for a day and now I can't reproduce\nit. Let's close this and I'll re-open if can reproduce it. My apologizes for\nadding to the white noise.", "id": 66682, "time": "2004-11-10T18:50:29Z", "creator": "jax@well.com", "creation_time": "2004-11-10T18:50:29Z", "attachment_id": null}]