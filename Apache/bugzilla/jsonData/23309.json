[{"count": 0, "tags": [], "text": "Well, I have a very strange error, that happens only some times, randomly : i'm \nsuddenly not able anymore to use the php mail() fonction :\n\nWarning: mail(): Could not execute mail delivery program \n\nThen I rehash Apache ( /etc/init.d/httpd reload ), and it works fine again.\n\nMy PHP configuration is OK, and my mail server too. When I execute my PHP \nscript from the shell, there's no problem and the mail is sent. It's why it's \nan Apache problem, I'm quite sure.\n\nIf it could help, my PHP is installed as a CGI module, and I'm running Apache \nwith -DSSL attribute and all the modules dynamically configured\n\nNote : The error has occured on my 2 servers, that have the same apache \nconfiguration. \n\nI saw on some forums that some guys had the same problem, but i couldnt find \nany solution. Could you help ?\n\nThank you very much !", "attachment_id": null, "bug_id": 23309, "id": 44408, "time": "2003-09-21T19:57:20Z", "creator": "mc@webheberg.com", "creation_time": "2003-09-21T19:57:20Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 23309, "attachment_id": null, "id": 44409, "time": "2003-09-21T20:09:51Z", "creator": "nd@perlig.de", "creation_time": "2003-09-21T20:09:51Z", "is_private": false, "text": "Would be nice if you could find out, *why* the mail delivery program could not\nbe started. Without that info we can only guess here.\n\nThanks."}, {"count": 2, "tags": [], "bug_id": 23309, "attachment_id": null, "id": 44410, "time": "2003-09-21T20:20:01Z", "creator": "mc@webheberg.com", "creation_time": "2003-09-21T20:20:01Z", "is_private": false, "text": "But how could I ? I've just this error message, and nothing else. Nothing \nspecial in error_log or cgi.log\n\nMy mail program works fine, as i can use it from shell, but through apache, it \nbugs sometimes. It's not a load problem because my second server is new and \nthere's no load on it. \n\nAnd the weirdest : /etc/init/httpd reload, and it works again...\n\n"}, {"attachment_id": null, "tags": [], "bug_id": 23309, "text": "Hmm. I don't know how to get the error code from PHP. The technical flow is about:\n* pipe program (or get error)\n* write to pipe (or get error)\n* close pipe (or get error)\n\nOne of these errors you hit. We must know, which one. I can imagine that you hit\nsystem limits, either number of open files or number of forked processes. What\ndoes ulimit -a say within the apache environment say?", "count": 3, "id": 44411, "time": "2003-09-21T20:33:51Z", "creator": "nd@perlig.de", "creation_time": "2003-09-21T20:33:51Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 23309, "attachment_id": null, "id": 44414, "time": "2003-09-21T20:51:16Z", "creator": "mc@webheberg.com", "creation_time": "2003-09-21T20:51:16Z", "is_private": false, "text": "Well as I told you my new server has a really low load, there are only a few \nrequests per hour, and everything is logged into access_log, so i dont think \nits a system memory problem or something like that...\n\nAnd the problem is that it's working now, so i cant test anything, but would \nyou have any idea of what i should do the next time it happens ?"}, {"count": 5, "tags": [], "creator": "mc@webheberg.com", "text": "Hello,\n\nI've identified the problem : Apache is unable to fork, and its why the mail \nprogram doesnt work. \n\nWhat should I do to avoid that ? Which parameters should I adjust in my config ?\n\nThanks ", "id": 44698, "time": "2003-09-25T16:54:15Z", "bug_id": 23309, "creation_time": "2003-09-25T16:54:15Z", "is_private": false, "attachment_id": null}]