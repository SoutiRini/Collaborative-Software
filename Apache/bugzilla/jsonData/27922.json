[{"count": 0, "tags": [], "creator": "rainer@noacks.net", "attachment_id": null, "text": "If ANT_HOME is set to a UNC drive name (f.e. \"\\\\mymachine\\mydrive\\myantpath\"), \noata.launch.Launcher throws ClassNotFoundException for Class oata.Main.\n\nI found out, that the problem is method oata.launch.Locator.fromURL. It \ndoesn't handle UNC drive names. \nAs it initially removes url's \"file://\" prefix, the above example with the \nurl \"file://mymachine/mydrive/myantpath\" results in the (relative) filename \n\"mymachine\\mydrive\\myantpath\".\n\nBTW another comment to oata.launch.Launcher: \nIf ANT_HOME_PROPERTY is set, the default value for ANTLIBDIR_PROPERTY\nshould be ANT_HOME/lib instead of the codebase oata.launch.Launcher is loaded \nfrom.\n\nP.S.: If Ant is not intended to support UNC drive names, please change \nseverity to 'Enhancement'.", "id": 54606, "time": "2004-03-24T22:12:17Z", "bug_id": 27922, "creation_time": "2004-03-24T22:12:17Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 27922, "text": "After some investigation, I found out that this depends on the inconsistency\nof how Java notates UNC pathes as URLs and URIs:\n1. new File()\"\\\\\\\\A\\\\B\").toURI().toString() = \"file:////A/B\"     whereas\n2. new File()\"\\\\\\\\A\\\\B\").toURL().toString() = \n   new File()\"\\\\\\\\A\\\\B\").toURI().toURL().toString() = \"file://A/B\"\n\nLocator's fromURI-method would handle the 1st case (as implied by the \nmethod name) correctly but overgiven arguments are constructed in\nthe 2nd way. \n\nThe inconsistency is a generally Java Problem. \nHowever, Ant should support UNC path names as they are widely used.\n\nIt might be a possible solution, to change the behaviour in Loactor's fromURI\nmethod to strip only two leading slashes if there are more then two. But I'm\nnot familiar with file-URLs produced from the various OSs that Ant supports.\n\nRegards,\nRainer", "id": 54777, "time": "2004-03-27T23:18:23Z", "creator": "rainer@noacks.net", "creation_time": "2004-03-27T23:18:23Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "rainer@noacks.net", "attachment_id": 11101, "text": "Created attachment 11101\nFixes bug on Windows. Unix should be unaffected. Not tested for other OS (esp. Netware).", "id": 55133, "time": "2004-04-02T08:37:23Z", "bug_id": 27922, "creation_time": "2004-04-02T08:37:23Z", "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 27922, "text": "I used a slightly different (& shorter) approach to fix this in CVS.  My fix \nworks on Windows and Unix as well, but I also am unable to test on Netware.", "id": 55183, "time": "2004-04-02T20:23:30Z", "creator": "mbenson@apache.org", "creation_time": "2004-04-02T20:23:30Z", "tags": [], "is_private": false}]