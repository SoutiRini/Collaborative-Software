[{"attachment_id": null, "tags": [], "creator": "knst.kolinko@gmail.com", "is_private": false, "count": 0, "id": 166498, "time": "2013-04-09T22:41:24Z", "bug_id": 54821, "creation_time": "2013-04-09T22:41:24Z", "text": "I noted this issue while reviewing code for bug 54801.\nReproducible with current 7.0 = 7.0.39.\n\nSteps to reproduce:\n1. Put the attached \"page3.jspx\" and \"page4.jspx\" files into examples webapp.\n\nPage 3:\n<jsp:root xmlns:jsp=\"http://java.sun.com/JSP/Page\" version=\"2.0\">\n<jsp:directive.page isELIgnored=\"true\"/>\n${Hello, world!!}\n</jsp:root>\n\nPage 4:\n<jsp:root xmlns:jsp=\"http://java.sun.com/JSP/Page\" version=\"2.0\">\n<jsp:directive.page isELIgnored=\"true\"/>\n${Hello, world!!\n</jsp:root>\n\n2. Start Tomcat\n3. Access http://localhost:8080/examples/page3.jspx\nThis works as expected and prints \"${Hello, world!!}\"\n\n4. Access http://localhost:8080/examples/page4.jspx\nThis fails with error 500,\n\norg.apache.jasper.JasperException: /page4.jspx (line: 21, column: 12) Unterminated ${ tag\n\n* root cause *:\norg.xml.sax.SAXParseException: Unterminated ${ tag\norg.apache.jasper.compiler.JspDocumentParser.processChars(JspDocumentParser.java:538)\norg.apache.jasper.compiler.JspDocumentParser.endElement(JspDocumentParser.java:610)\ncom.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601)"}, {"count": 1, "tags": [], "bug_id": 54821, "attachment_id": 30170, "id": 166499, "time": "2013-04-09T22:42:03Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2013-04-09T22:42:03Z", "is_private": false, "text": "Created attachment 30170\npage3.jspx"}, {"count": 2, "tags": [], "bug_id": 54821, "attachment_id": 30171, "is_private": false, "id": 166500, "time": "2013-04-09T22:42:24Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2013-04-09T22:42:24Z", "text": "Created attachment 30171\npage4.jspx"}, {"count": 3, "tags": [], "bug_id": 54821, "attachment_id": null, "is_private": false, "id": 166853, "time": "2013-04-25T13:21:35Z", "creator": "markt@apache.org", "creation_time": "2013-04-25T13:21:35Z", "text": "Fixed in trunk and will be included in 7.0.40 onwards.\nI turned the example JSP documents into unit tests."}]