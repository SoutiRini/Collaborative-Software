[{"count": 0, "tags": [], "creator": "takehiko.yokota@toshiba.co.jp", "attachment_id": null, "text": "When Tomcat and Apache are connected by Coyote/JK2 AJP1.3 connector,\nHTTP request headers are broken after invoking pageContext.include() method\nin a JSP file. This problem does not occur when using legacy APJ1.3 connector.\n\nFor example, when request \"http://localhost/test/index.jsp\" is sent,\nWeb browser displays like follows:\n------------------------------------------------------------------\ntest test test test test test test test test test test test test test test test \ntest test test test test test test test test test test test test test test test \ntest test test test test test test test test test test test test test test test \ntest test test test test test test test test test test test test test test test \ntest test test test test test test test test test test TEST accept: te\naccept-encoding: st test test \naccept-language: te\nconnection: st test te\ncookie: st test test test test test test test test test test test test test \ntest test test test \nhost: test test t\nuser-agent: est test test test test test test test test test t\ncontent-length: e\n------------------------------------------------------------------\n\nwhere /test/index.jsp and /test/included.jsp are like follows:\n[/test/index.jsp]\n------------------------------------------------------------------\n<%@ page contentType=\"text/html\" import=\"java.util.*\" %>\n\ntest test test test test test test test test test test test test test test\ntest test test test test test test test test test test test test test test\ntest test test test test test test test test test test test test test test\ntest test test test test test test test test test test test test test test\ntest test test test test test test test test test test test test test test\n<% pageContext.include(\"/included.jsp\"); %>\n\n<%\n    Enumeration enum = request.getHeaderNames();\n    while (enum.hasMoreElements()) {\n        String name = (String)enum.nextElement();\n        %><%= name %>:\n        <%= request.getHeader(name) %><br />\n <% } %>\n------------------------------------------------------------------\n[/test/included.jsp]\n------------------------------------------------------------------\n<%@ page contentType=\"text/html\" %>\n\nTEST\n------------------------------------------------------------------\n\nHowever, a request \"http://localhost:8080/test/index.jsp\"\n does not cause the problem.\n\nEnvironment:\n  Tomcat4.1.12\n  Linux 2.2.18-0vl4.2\n  Apache1.3.23 + mod_jk-1.3-eapi.so", "id": 26862, "time": "2002-11-23T13:57:42Z", "bug_id": 14797, "creation_time": "2002-11-23T13:57:42Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 14797, "attachment_id": 3930, "text": "Created attachment 3930\nsample war file. Deploy and access /test/index.jsp", "id": 26863, "time": "2002-11-23T14:01:18Z", "creator": "takehiko.yokota@toshiba.co.jp", "creation_time": "2002-11-23T14:01:18Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 14797, "is_private": false, "text": "Fixed in 4.1.15", "id": 26878, "time": "2002-11-23T20:05:33Z", "creator": "william.barker@wilshire.com", "creation_time": "2002-11-23T20:05:33Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 14797, "attachment_id": null, "text": "*** Bug 15032 has been marked as a duplicate of this bug. ***", "id": 27438, "time": "2002-12-04T21:03:09Z", "creator": "william.barker@wilshire.com", "creation_time": "2002-12-04T21:03:09Z", "is_private": false}]