[{"count": 0, "tags": [], "bug_id": 21496, "attachment_id": null, "id": 40442, "time": "2003-07-11T11:37:20Z", "creator": "miroslav.sulc@startnet.cz", "creation_time": "2003-07-11T11:37:20Z", "is_private": false, "text": "I am trying to configure SSL on my Apache 2.0.47 and I got this strange (at\nleast for me) error:\n\n[Fri Jul 11 12:50:38 2003] [error] Illegal attempt to re-initialise SSL for\nserver (theoretically shouldn't happen!)\n\nSSL module is configured as shared. In fact I have all modules built as shared\nand loaded into Apache. I am not sure whether the order of loading modules can\nplay a role in this error. Here is the list:\n\nLoadModule status_module        modules/mod_status.so\nLoadModule info_module          modules/mod_info.so\nLoadModule rewrite_module       modules/mod_rewrite.so\nLoadModule asis_module          modules/mod_asis.so\nLoadModule access_module        modules/mod_access.so\nLoadModule userdir_module       modules/mod_userdir.so\nLoadModule dir_module           modules/mod_dir.so\nLoadModule mime_module          modules/mod_mime.so\nLoadModule log_config_module    modules/mod_log_config.so\nLoadModule alias_module         modules/mod_alias.so\nLoadModule autoindex_module     modules/mod_autoindex.so\nLoadModule negotiation_module   modules/mod_negotiation.so\nLoadModule setenvif_module      modules/mod_setenvif.so\nLoadModule ssl_module           modules/mod_ssl.so\nLoadModule auth_module          modules/mod_auth.so\nLoadModule deflate_module       modules/mod_deflate.so\nLoadModule php4_module          modules/libphp4.so\n\n\nI am not an expert so I might something misconfigured.\n\nHere is my configuration related to SSL:\n\n<IfModule mod_ssl.c>\n    SSLEngine on\n    SSLPassPhraseDialog  builtin\n    SSLSessionCache         dbm:/var/log/httpd/ssl_scache\n    SSLSessionCacheTimeout      300\n    SSLMutex  file:/var/log/httpd/ssl_mutex\n    SSLRandomSeed startup builtin\n    SSLRandomSeed connect builtin\n    SSLCertificateFile /etc/httpd/ssl.crt/server.crt\n    SSLCertificateKeyFile /etc/httpd/ssl.crt/server.key\n    SSLCipherSuite ALL\n</IfModule>\n\n<VirtualHost 192.168.1.28:443>\n    ... \n    <IfModule mod_ssl.c>\n        SSLEngine on\n        SSLProtocol +ALL\n        SSLCipherSuite ALL\n        SSLCertificateFile /etc/httpd/ssl.crt/cvs-server.crt\n        SSLCertificateKeyFile /etc/httpd/ssl.crt/server.key\n    </IfModule>\n    ... \n</VirtualHost>\n\nThe VirtualHost section is repeted for several virtual hosts and only the\nSSLCertificateFile is changed for each VirtualHost.\n\nThere are also some VirtualHost items that are not configured for SSL.\n\nThere are 12 VirtualHost items and 4 VirtualHost items with configured SSL. They\nare 1st, 6th, 11th and 12th. The error occures not in SSL configured VirtualHost\nerror log file but in 10th VirtualHost error log file. When I inserted new\nVirtualHost without SSL configured at 11th position, then the same error occured\nin the 11th VirtualHost error log file.\n\nI also tried to make all virtual hosts configured for SSL but I got\n'Segmentation fault' error."}, {"count": 1, "tags": [], "bug_id": 21496, "text": "A common misconfiguration error - you shouldn't have SSLEngine on in the global\ncontext. Just remove it from this place:\n\n<IfModule mod_ssl.c>\n    SSLEngine on\n\nPlease use the Apache HTTP Server Users Mailing List for this type of problem\nbefore reporting it as a bug.\nhttp://httpd.apache.org/lists.html#http-users", "id": 40449, "time": "2003-07-11T12:08:28Z", "creator": "mads@apache.org", "creation_time": "2003-07-11T12:08:28Z", "is_private": false, "attachment_id": null}]