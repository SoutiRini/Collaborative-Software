[{"count": 0, "tags": [], "bug_id": 8588, "text": "Tomcat 4.0.3 directory redirection 302 returns wrong Location.\n\nTo see for yourself try:\n\ntelnet cheetah.vergecorp.com.ejip.org 80\nTrying 204.144.141.232...\nConnected to cheetah.vergecorp.com.ejip.org.\nEscape character is '^]'.\nGET / HTTP/1.1\nHOST: cheetah.vergecorp.com.ejip.org\n\nHTTP/1.0 302 Moved Temporarily\nContent-Type: text/html\nDate: Sat, 27 Apr 2002 16:23:19 GMT\nLocation: http://cheetah.vergecorp.com/index.jsp\nServer: Apache Tomcat/4.0.3 (HTTP/1.1 Connector)\nVia: 1.1 cheetah.vergecorp.com.ejip.org\n\nThe location header should be:\nLocation: http://cheetah.vergecorp.com.ejip.org/index.jsp\n\n\nThanks for fixing this soon.  Our customers use .ejip.org domains to test and \nmigrate sites before moving DNS.", "id": 14910, "time": "2002-04-27T16:27:55Z", "creator": "plittle@vergecorp.com", "creation_time": "2002-04-27T16:27:55Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 14976, "time": "2002-04-29T07:10:02Z", "bug_id": 8588, "creation_time": "2002-04-29T07:10:02Z", "is_private": false, "text": "You are not using Coyote (I can tell because of the Server header).\n\nCoyote uses the Host header to determine the server name (used in redirections)\nand server port.\nThe old HTTP/1.1 connector should also have been fixed.\n\nExample:\nGET / HTTP/1.1\nHost: foobar:4042\n\nResponse header:\nHTTP/1.1 302 Moved Temporarily\nLocation: http://foobar:4042/index.jsp\n...\n\n*** This bug has been marked as a duplicate of 6668 ***"}, {"count": 2, "tags": [], "creator": "plittle@vergecorp.com", "text": "Hi Remy, thanks for pointing out the bug is not in Coyote.  I'm using the plain \nvanillay binary distribution so whatever it is set up for it by default, that's \nwhere the bug is.  If the workaround is to switch to Coyote then that will be \nhelpful to know -- I'll try and figure out how to do that.\n\nRegardless, this is not the same bug as 6668.  The host in the Location tag is \ntruncated in this bug. The other bug didn't get the port right.  Also, bug 6668 \nis marked as completed for 4.0.2 and I'm using 4.0.3.\n\nRemy, you didn't mention if you tried to repeat the error using my \ninstructions.  If you didn't please give them a try and see for yourself.\n\nThanks for your time.\n\n", "id": 15036, "time": "2002-04-29T14:02:31Z", "bug_id": 8588, "creation_time": "2002-04-29T14:02:31Z", "is_private": false, "attachment_id": null}, {"count": 3, "text": "It is the same issue (the server name is set at the same place at the server \nport, and both were set according to the socket).\nIf you read my response, you'll see that I did the same thing you did.", "bug_id": 8588, "attachment_id": null, "id": 15037, "time": "2002-04-29T14:06:41Z", "creator": "remm@apache.org", "creation_time": "2002-04-29T14:06:41Z", "tags": [], "is_private": false}]