[{"count": 0, "tags": [], "creator": "dusty@nibbles.it", "attachment_id": null, "text": "Hello,\nI'm testing an application with a DataSourceRealm configured in the Context in\nthis way:\n<Realm className=\"org.apache.catalina.realm.DataSourceRealm\"\n dataSourceName=\"jdbc/myds\"\n roleNameCol=\"domain_name\"\n userCredCol=\"password\"\n userNameCol=\"username\"\n userRoleTable=\"domainadmin\" \n userTable=\"adminuser\"\n/>\n\nThey works fine but everytime I redeploy the application a connection is kept\nand not freed, so after redeploying n times where n is the number of connections\ndefined in the datasource the realm can't work any more and I have to restart\ntomcat.\nI suppose the realm should intercept the context shutdown and release the\nconnection used to authenticate users.", "id": 80318, "time": "2005-09-22T15:38:05Z", "bug_id": 36771, "creation_time": "2005-09-22T15:38:05Z", "is_private": false}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "text": "You should investigate more, and test again with a more recent build (5.5.9+).", "id": 80361, "time": "2005-09-23T13:17:59Z", "bug_id": 36771, "creation_time": "2005-09-23T13:17:59Z", "is_private": false}, {"count": 2, "tags": [], "text": "First, a DataSourceRealm works for me just fine with no connection leaks in both\n5.5.9 and 5.5.12, across multiple application redeploys and restarts.  Second,\nif you look at the DataSourceRealm code, you will see it does not hold on to\nconnections anyways.\n\nIf you can reproduce this reliably on 5.5.12, please reopen this issue and\nprovide a WAR we can use to reproduce this ourselves.  Thanks.", "is_private": false, "id": 81215, "creator": "yoavs@computer.org", "time": "2005-10-17T00:31:18Z", "bug_id": 36771, "creation_time": "2005-10-17T00:31:18Z", "attachment_id": null}]