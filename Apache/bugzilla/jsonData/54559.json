[{"count": 0, "tags": [], "bug_id": 54559, "attachment_id": 29951, "id": 165242, "time": "2013-02-13T19:43:01Z", "creator": "ville.skytta@iki.fi", "creation_time": "2013-02-13T19:43:01Z", "is_private": false, "text": "Created attachment 29951\nThe minimum required APR version is now 1.3.0\n\nThe introduced use of APR_POLLSET_NOCOPY, APR_RING_FOREACH, and APR_RING_FOREACH_SAFE in 1.1.27 has bumped the minimum required APR version to 1.3.0; those don't exist in 1.2.x. Untested patch attached."}, {"count": 1, "tags": [], "bug_id": 54559, "text": "Thanks for the patch.\nApplied to 1.1.x in r1445989.\nWill be part of version 1.1.28.", "id": 165246, "time": "2013-02-13T23:43:03Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2013-02-13T23:43:03Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "We need a different approach, please revert that change.", "is_private": false, "id": 165253, "creation_time": "2013-02-14T22:53:11Z", "time": "2013-02-14T22:53:11Z", "creator": "mturk@apache.org", "bug_id": 54559, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 54559, "attachment_id": 29955, "id": 165254, "time": "2013-02-14T22:54:13Z", "creator": "mturk@apache.org", "creation_time": "2013-02-14T22:54:13Z", "is_private": false, "text": "Created attachment 29955\nPatch that allows compiling against 1.2.x\n\nThe patch just adds missing bits from APR 1.3.x"}, {"count": 4, "tags": [], "bug_id": 54559, "text": "Suppose you can leave the warning message inside configure so that user is aware it compiles against less performant APR version", "id": 165255, "time": "2013-02-14T22:55:54Z", "creator": "mturk@apache.org", "creation_time": "2013-02-14T22:55:54Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": null, "is_private": false, "id": 165258, "time": "2013-02-15T04:28:11Z", "bug_id": 54559, "creation_time": "2013-02-15T04:28:11Z", "text": "- reverted the original patch\n- added a configure warning about 1.2.0 for better performance when 1.2.0 is used\n- added another changelog entry\n- added your 1.2.0 compat patch\n\nNote taken from mail on dev list:\n\nThe APR version check in jnilib.c wouldn't detect whether a build was\ndone against 1.3.x and at runtime there's only 1.2.x. I don't know\nwhether that leads to missing symbols or other problems. I refrained\nfrom writing the configure time apr version to a generated header file\nand then use that version during the runtime test: On Unix/Linux that\nshould not happen because of the SONAME rules used by APR libs. Don't\nknow whether the same is true for Windows. If \"yes\", then we don't have\na problem, but I then don't understand the necessity for the runtime APR\nversion check in jnilib.c \n\nRegards,\n\nRainer"}, {"count": 6, "tags": [], "bug_id": 54559, "text": "Please note that before my initial patch (see initial comment) the minimum APR version was set to 1.2.1, now it got pushed back to 1.2.0 - I assume that's not intentional so reopening.", "id": 165477, "time": "2013-02-25T15:08:09Z", "creator": "ville.skytta@iki.fi", "creation_time": "2013-02-25T15:08:09Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": null, "is_private": false, "id": 165478, "time": "2013-02-25T15:42:45Z", "bug_id": 54559, "creation_time": "2013-02-25T15:42:45Z", "text": "Thanks for the QA.\n\nFixed in r1449753.\n\nNote that the difference between checking against 1.2.0 and 1.2.1 is small, because it seems 1.2.0 was not released."}]