[{"count": 0, "tags": [], "bug_id": 38651, "text": "Under Debian Sarge/stable, with packages libldap2 libldap2-dev libsasl2\nlibssl-dev, I try to compile Apache 2.0.55 without patch.\n\nI configure with success \"./configure --prefix=/usr/local/httpd\n--enable-auth-digest  --enable-auth-ldap  --enable-expires --enable-ldap \n--enable-logio --enable-ssl\".\nAfter I launch \"make\" with success too.\nBut the \"make install\" failed. Detailed of error :\njoshua5:~/install/Apache-2.0.55/httpd-2.0.55# make install\nMaking install in srclib\nmake[1]: Entering directory `/root/install/Apache-2.0.55/httpd-2.0.55/srclib'\nMaking install in apr\nmake[2]: Entering directory `/root/install/Apache-2.0.55/httpd-2.0.55/srclib/apr'\n/bin/sh /root/install/Apache-2.0.55/httpd-2.0.55/srclib/apr/libtool --silent\n--mode=link gcc -g -O2 -pthread -DHAVE_CONFIG_H   -DLINUX=2 -D_REENTRANT\n-D_XOPEN_SOURCE=500 -D_BSD_SOURCE -D_SVID_SOURCE -D_GNU_SOURCE -I./include\n-I../include -version-inf  o 9:7:9 -o libapr-0.la -rpath /usr/local/httpd/lib\nstrings/*.lo passwd/*.lo tables/*.lo file_io/unix/*.lo network_io/unix/*.  lo\nthreadproc/unix/*.lo misc/unix/*.lo locks/unix/*.lo time/unix/*.lo\nmmap/unix/*.lo shmem/unix/*.lo user/unix/*.lo memory/u  nix/*.lo\natomic/unix/*.lo poll/unix/*.lo support/unix/*.lo dso/unix/*.lo -lrt -lm -lcrypt\n-lnsl -lpthread -ldl\nlibtool: link: `strings/*.lo' is not a valid libtool object\nmake[2]: *** [libapr-0.la] Error 1\nmake[2]: Leaving directory `/root/install/Apache-2.0.55/httpd-2.0.55/srclib/apr'\nmake[1]: *** [install-recursive] Error 1\nmake[1]: Leaving directory `/root/install/Apache-2.0.55/httpd-2.0.55/srclib'\nmake: *** [install-recursive] Error 1\n\nSo I try to recompile \"./Apache-2.0.55/httpd-2.0.55/srclib/apr-util\" and\n\"./Apache-2.0.55/httpd-2.0.55/srclib/apr\" without error.\n\nWhen I search all libapr files, I find :\n\n./Apache-2.0.55/httpd-2.0.55/srclib/apr-util/libaprutil.dsp\n./Apache-2.0.55/httpd-2.0.55/srclib/apr-util/libaprutil.rc\n./Apache-2.0.55/httpd-2.0.55/srclib/apr-util/.libs/libaprutil-0.so.0.9.7\n./Apache-2.0.55/httpd-2.0.55/srclib/apr-util/.libs/libaprutil-0.so.0\n./Apache-2.0.55/httpd-2.0.55/srclib/apr-util/.libs/libaprutil-0.so\n./Apache-2.0.55/httpd-2.0.55/srclib/apr-util/.libs/libaprutil-0.a\n./Apache-2.0.55/httpd-2.0.55/srclib/apr-util/.libs/libaprutil-0.lai\n./Apache-2.0.55/httpd-2.0.55/srclib/apr-util/.libs/libaprutil-0.la\n./Apache-2.0.55/httpd-2.0.55/srclib/apr-util/libaprutil-0.la\n./Apache-2.0.55/httpd-2.0.55/srclib/apr/libapr.rc\n./Apache-2.0.55/httpd-2.0.55/srclib/apr/build/libapr_app.dsp\n./Apache-2.0.55/httpd-2.0.55/srclib/apr/libapr.dsp\n./Apache-2.0.55/httpd-2.0.55/srclib/apr/libaprnw.mcp.zip\n\nWhy the libapr doesn't create correctly ?", "id": 85799, "time": "2006-02-15T07:51:56Z", "creator": "legerf@free.fr", "creation_time": "2006-02-15T07:51:56Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "Is your $HOME readable and writable by root?  It looks like it can't find the files.", "id": 87399, "time": "2006-03-29T16:13:35Z", "bug_id": 38651, "creation_time": "2006-03-29T16:13:35Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 38651, "attachment_id": null, "id": 123172, "time": "2008-12-08T09:44:17Z", "creator": "cjames53@yahoo.com", "creation_time": "2008-12-08T09:44:17Z", "is_private": false, "text": "This is a Fedora 8 64-bit system.  When running \"./configure --with-apache2-apxs=/usr/sbin/apxs\", a partial output of configure includes this:\n\n  setting APR_INCLUDES to \" -I/usr/include/apr-1 \"\n  adding \"-I/usr/include/mysql\" to APR_INCLUDES\n  setting APR_LTFLAGS to \" /usr/lib64/libapr-1.la\"\n  adding \"-L\" to APR_LTFLAGS\n  adding \"-R\" to APR_LTFLAGS\n\nNotice the \"-R\" flag in particular.  In library/makefile, we find this:\n\n  APR_LTFLAGS =  /usr/lib64/libapr-1.la -L -R -laprutil-1\n\nNotice that there is no directory after the -R option.  When you run make(1), you get this error:\n\n/bin/sh ../libtool --tag=CC --mode=link gcc  -g -O2 -fno-strict-aliasing   -o libapreq2.la -rpath /usr/lib -version-info 9:0:6  /usr/lib64/libapr-1.la -L -R -laprutil-1  -lldap -llber -ldb-4.6 -lexpat -lpthread -ldl util.lo version.lo cookie.lo param.lo parser.lo parser_urlencoded.lo parser_header.lo parser_multipart.lo module.lo module_custom.lo module_cgi.lo error.lo  \nlibtool: link: only absolute run-paths are allowed\n\nThis bug is critical - libapreq2 worked on earlier versions of FC8, and now with a recent update to some of the RPMs (including Apache), it won't link.\n"}, {"count": 3, "tags": [], "bug_id": 38651, "attachment_id": null, "id": 132985, "time": "2009-12-20T15:20:18Z", "creator": "nick@webthing.com", "creation_time": "2009-12-20T15:20:18Z", "is_private": false, "text": "Looks like an issue with the OP's toolchain, and should've been asked on users@.  Assuming long-since resolved.\n\nComment 2 appears unrelated, and it's unclear what the commenter is trying to build (httpd is presumably already installed if apxs exists)."}]