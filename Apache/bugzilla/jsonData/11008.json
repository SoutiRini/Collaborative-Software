[{"count": 0, "tags": [], "creator": "jari.aalto@cante.net", "attachment_id": null, "is_private": false, "id": 19895, "time": "2002-07-20T18:10:14Z", "bug_id": 11008, "creation_time": "2002-07-20T18:10:14Z", "text": "Environment:\n\n- W2k/Cygwin (latest, 1.3.1) http://cygwin.com\n- gcc (GCC) 3.1.1 20020714 (prerelease)\n- (GNU libtool) 1.4.2 (1.922.2.53 2001/09/11 03:18:52)\n- Apache/1.3.24 (Cygwin)\n\n- CVS ant\n- CVS jakarta-tomcat-connectors\n- tomcat 4.1b7 \n- JDK 1.4.1\n\nHow to compile under Cygwin:\n\n1. After patches according to article below (patches at the end)\n\nhttp://www.apachelabs.org/tomcat-user/200204.mbox/%\n3c9BAE99905FCF684D91F63E1439475FBA0484EF07@sydmsg1.int.f2.com.au%3e\n\nthe ./configure --with-apxs for some reason cannot find apxs.\n\n    checking for perl... /usr/local/bin/perl\n    configure: error: Invalid location for apxs: 'yes'\n\nI don not know why, perhaps you should mention that under cygwin this must\nbe called with absolute path\n\n     ./configure --with-apxs=$(which apxs)\n\nThat solved the ./configure.\n\n2. After Make, these messages were reported. Notce that final message\n\"warning: remember to run `libtool --finish /usr/local/libexec'\" in invalid,\nmecause Cygwin apache does not have libexec directory. The ddl's are under\n/usr/lib/apache/ (mod_rewrite.dll etc)\n\n\n\ngcc -I/usr/include/apache -Wall -Wno-format -Wstrict-prototypes -Wmissing-\nprototypes -mwindows -DGETTEXT_STATIC -DCYGWIN -DUSE_HSREGEX -DSHARED_CORE -\nWall -Wno-format -Wstrict-prototypes -Wmissing-prototypes -mwindows -\nDGETTEXT_STATIC -I d:javasunjdk-1.4.1/include -I d:javasunjdk-\n1.4.1/include/Windows_NT -c jk_msg_buff.c  -DDLL_EXPORT -DPIC -\no .libs/jk_msg_buff.lo\njk_msg_buff.c: In function `jk_b_dump':\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:96: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c:107: warning: operation on `i' may be undefined\njk_msg_buff.c: At top level:\njk_msg_buff.c:424: warning: `swap_16' defined but not used\n\n\n[...]\n\ngcc -I/usr/include/apache -Wall -Wno-format -Wstrict-prototypes -Wmissing-\nprototypes -mwindows -DGETTEXT_STATIC -DCYGWIN -DUSE_HSREGEX -DSHARED_CORE -\nWall -Wno-format -Wstrict-prototypes -Wmissing-prototypes -mwindows -\nDGETTEXT_STATIC -I d:javasunjdk-1.4.1/include -I d:javasunjdk-\n1.4.1/include/Windows_NT -c jk_util.c  -DDLL_EXPORT -DPIC -o .libs/jk_util.lo\njk_util.c: In function `jk_get_worker_secret':\njk_util.c:298: warning: unused variable `secret_file'\njk_util.c: At top level:\njk_util.c:508: warning: no previous prototype for \n`jk_get_local_worker_only_flag'\n\n[...]\n\ngcc -I/usr/include/apache -Wall -Wno-format -Wstrict-prototypes -Wmissing-\nprototypes -mwindows -DGETTEXT_STATIC -DCYGWIN -DUSE_HSREGEX -DSHARED_CORE -\nWall -Wno-format -Wstrict-prototypes -Wmissing-prototypes -mwindows -\nDGETTEXT_STATIC -I d:javasunjdk-1.4.1/include -I d:javasunjdk-\n1.4.1/include/Windows_NT -c jk_lb_worker.c  -DDLL_EXPORT -DPIC -\no .libs/jk_lb_worker.lo\njk_lb_worker.c: In function `get_path_param':\njk_lb_worker.c:140: warning: suggest parentheses around assignment used as \ntruth value\njk_lb_worker.c: In function `get_cookie':\njk_lb_worker.c:173: warning: suggest parentheses around assignment used as \ntruth value\njk_lb_worker.c: In function `validate':\njk_lb_worker.c:423: warning: implicit declaration of function \n`jk_get_local_worker_only_flag'\n\n[...]\n\ngcc -I/usr/include/apache -Wall -Wno-format -Wstrict-prototypes -Wmissing-\nprototypes -mwindows -DGETTEXT_STATIC -DCYGWIN -DUSE_HSREGEX -DSHARED_CORE -\nWall -Wno-format -Wstrict-prototypes -Wmissing-prototypes -mwindows -\nDGETTEXT_STATIC -I d:javasunjdk-1.4.1/include -I d:javasunjdk-\n1.4.1/include/Windows_NT -c jk_uri_worker_map.c  -DDLL_EXPORT -DPIC -\no .libs/jk_uri_worker_map.lo\njk_uri_worker_map.c:63:29: warning: \"/*\" within comment\njk_uri_worker_map.c:63:53: warning: \"/*\" within comment\njk_uri_worker_map.c:64:33: warning: \"/*\" within comment\njk_uri_worker_map.c:64:64: warning: \"/*\" within comment\njk_uri_worker_map.c:273:60: warning: \"/*\" within comment\njk_uri_worker_map.c:274:27: warning: \"/*\" within comment\njk_uri_worker_map.c:429: warning: no previous prototype for `last_index_of'\n\n\n[...]\n\ngcc -DPACKAGE=\\\"mod_jk\\\" -DVERSION=\\\"1.2.0\\\" -DHAVE_DLFCN_H=1 -I. -I. -\nI/usr/include/apache -I../common -Wall -Wno-format -Wstrict-prototypes -\nWmissing-prototypes -mwindows -DGETTEXT_STATIC -Wp,-MD,.deps/mod_jk.pp -c \nmod_jk.c  -DDLL_EXPORT -DPIC -o .libs/mod_jk.lo\nIn file included from mod_jk.c:73:\n/usr/include/apache/http_config.h:98: warning: function declaration isn't a \nprototype\nIn file included from ../common/jk_global.h:68,\n                 from mod_jk.c:94:\n../common/jk_version.h:80:1: warning: \"PACKAGE\" redefined\nmod_jk.c:1:1: warning: this is the location of the previous definition\nmod_jk.c: In function `request_log_transaction':\nmod_jk.c:857: warning: passing arg 3 of `jk_log' makes integer from pointer \nwithout a cast\nmod_jk.c:858: warning: control reaches end of non-void function\nmod_jk.c: In function `parse_request_log_item':\nmod_jk.c:1102: warning: unused variable `i'\nmod_jk.c: At top level:\nmod_jk.c:1307: warning: no previous prototype for `jk_set_options'\nmod_jk.c: In function `jk_handler':\nmod_jk.c:1502: warning: suggest parentheses around assignment used as truth \nvalue\nmod_jk.c:1561: warning: unused variable `status'\n\n\n[...]\n\nlibtool: install: warning: remember to run `libtool --finish /usr/local/libexec'\n\n\n[Patch for compilation  jk/native]\n\n diff -u buildconf.sh.1.7 buildconf.sh     \n--- buildconf.sh.1.7    2002-07-20 20:42:16.000000000 +0300\n+++ buildconf.sh        2002-07-20 20:42:36.000000000 +0300\n@@ -6,7 +6,7 @@\n #aclocal --acdir=`aclocal --print-ac-dir`\n #aclocal --acdir=/usr/local/share/aclocal\n aclocal\n-echo \"automake -a --foreign -i --copy\"\n-automake -a --foreign -i --copy\n+echo \"automake -a --foreign --copy\"\n+automake -a --foreign --copy\n echo \"autoconf\"\n autoconf\n\n diff -uBbw configure.in.1.17 configure.in\n--- configure.in.1.17   2002-07-20 20:44:00.000000000 +0300\n+++ configure.in        2002-07-20 20:44:18.000000000 +0300\n@@ -13,6 +13,8 @@\n \n AM_INIT_AUTOMAKE(${PACKAGE}, ${VERSION})\n \n+AC_PROG_CC\n+\n dnl Not sure what it does, but the libtool manual seems to require this\n dnl It should use the native platform dlopen ( if available )\n AC_LIBTOOL_DLOPEN\n@@ -21,7 +23,7 @@\n dnl I have solved them once using aclocal --acdir=/usr/local/share/aclocal/\n AM_PROG_LIBTOOL\n \n-AC_PROG_CC\n+\n \n diff -bBwu common/jk_global.h.1.18 common/jk_global.h\n--- common/jk_global.h.1.18     2002-07-20 20:35:10.000000000 +0300\n+++ common/jk_global.h  2002-07-20 20:35:58.000000000 +0300\n@@ -92,7 +92,7 @@\n         #include <netinet/tcp.h>\n         #include <arpa/inet.h>\n         #include <sys/un.h>\n-        #ifndef _OSD_POSIX\n+        #if !defined( _OSD_POSIX ) && !defined( CYGWIN )\n             #include <sys/socketvar.h>\n         #endif\n         #ifndef HPUX11\n\n\n\n AC_PROG_LD"}, {"count": 1, "tags": [], "bug_id": 11008, "is_private": false, "text": "*** Bug 11007 has been marked as a duplicate of this bug. ***", "id": 23211, "time": "2002-09-21T20:49:38Z", "creator": "nacho@apache.org", "creation_time": "2002-09-21T20:49:38Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 11008, "attachment_id": null, "text": "Bug#11007 perhaps contain addtional infos, but in any case the one below is \nmuch more complete description and patch..", "id": 23212, "time": "2002-09-21T20:50:30Z", "creator": "nacho@apache.org", "creation_time": "2002-09-21T20:50:30Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 11008, "attachment_id": null, "text": "I think I have fixed it but I do not have a machine to test.", "id": 52938, "time": "2004-02-25T15:33:06Z", "creator": "jfclere@gmail.com", "creation_time": "2004-02-25T15:33:06Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 11008, "text": "\nThis belongs to jk not jk2.\nPlease check and file the correct bug report.", "id": 53211, "time": "2004-02-29T07:21:22Z", "creator": "mturk@apache.org", "creation_time": "2004-02-29T07:21:22Z", "is_private": false, "attachment_id": null}]