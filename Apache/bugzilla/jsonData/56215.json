[{"count": 0, "tags": [], "bug_id": 56215, "text": "This bug is closely related to 51197 (sendError/sendRedirect don't work with AsyncContext). It can be reproduced in the test for 51197, which was created by the reporter of that bug and can be found here:\n\nhttps://github.com/dcheckoway/async-test\n\nTo reproduce this bug, run the test servlet on Tomcat 7, and hit the \"/test/error1\" endpoint. This should return a 400 and a related error page. It does indeed return a 400, but not an error page. \n\nFor the record, this isn't tested by the associated test, namely doTestBug51197 on line 1180 on this  file:\n\nhttp://svn.apache.org/viewvc/tomcat/trunk/test/org/apache/catalina/core/TestAsyncContextImpl.java?view=markup&pathrev=1290875\n\nThe test only checks that the endpoint returns and that the status code is correct. The problem, though, is that no error page is generated.", "id": 173617, "time": "2014-03-04T10:55:43Z", "creator": "alexaltanis@gmail.com", "creation_time": "2014-03-04T10:55:43Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 56215, "attachment_id": null, "id": 173636, "time": "2014-03-05T14:44:59Z", "creator": "markt@apache.org", "creation_time": "2014-03-05T14:44:59Z", "is_private": false, "text": "See r1297017 and/or section 10.9.2 (last paragraph) of the Servlet 3 specification for an explanation of why the container does not write an error response in this case."}, {"count": 2, "tags": [], "bug_id": 56215, "attachment_id": null, "text": "Thank you. Is there a way to reproduce the synchronous behaviour easily?", "id": 173661, "time": "2014-03-06T10:07:05Z", "creator": "alexaltanis@gmail.com", "creation_time": "2014-03-06T10:07:05Z", "is_private": false}]