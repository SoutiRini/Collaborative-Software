[{"count": 0, "tags": [], "creator": "philip@rsuk.com", "attachment_id": null, "text": "Create a jsp:\n\n<%\nlong now = System.currentTimeMillis();\nresponse.setDateHeader(\"TestDateHeader\", now + 14*24*60*60*1000);\n%>\n<%=new java.util.Date(now)%>\n\nWhen requested, the following will be returned:\n\nHTTP/1.0 200 OK\nContent-Type: text/html;charset=ISO-8859-1\nTestDateHeader: Fri, 22 Nov 2002 12:25:56 GMT\nDate: Fri, 22 Nov 2002 12:25:56 GMT\nServlet-Engine: Tomcat Web Server/3.2.4 (JSP 1.1; Servlet 2.2; Java 1.3.1; \nWindows 2000 5.0 x86; java.vendor=Sun Microsystems Inc.)\nX-Cache: MISS from sonic.rsuk.com\nProxy-Connection: close\n\n\nFri Nov 08 12:25:56 GMT 2002\n\nThe Date header is incorrectly set to the value of the TestDateHeader header \nrather than the current date.\n\nChange the jsp to replace 14*24*60*60*1000 with 16*24*60*60*1000. The following \ncontent will now be returned:\n\nHTTP/1.0 200 OK\nContent-Type: text/html;charset=ISO-8859-1\nTestDateHeader: Sun, 24 Nov 2002 12:28:04 GMT\nDate: Fri, 08 Nov 2002 12:28:04 GMT\nServlet-Engine: Tomcat Web Server/3.2.4 (JSP 1.1; Servlet 2.2; Java 1.3.1; \nWindows 2000 5.0 x86; java.vendor=Sun Microsystems Inc.)\nX-Cache: MISS from sonic.rsuk.com\nProxy-Connection: close\n\n\nFri Nov 08 12:28:04 GMT 2002\n\nBoth the Date and TestDateHeader headers are now set correctly.\n\nI have also noticed other problems when setting more than one date header. All \nthe date headers will often take the value of one of them.", "id": 25913, "time": "2002-11-08T12:33:08Z", "bug_id": 14386, "creation_time": "2002-11-08T12:33:08Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 14386, "text": "Note this bug is with Tomcat version 3.2.4 final (there was no option in the \nversion list for this release). The behaiviour of the headers is correct in \nversion 3.2.3 final.", "id": 25914, "time": "2002-11-08T12:34:53Z", "creator": "philip@rsuk.com", "creation_time": "2002-11-08T12:34:53Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 14386, "attachment_id": null, "id": 93688, "time": "2006-09-17T13:55:14Z", "creator": "sriramnrn@gmail.com", "creation_time": "2006-09-17T13:55:14Z", "is_private": false, "text": "Works fine on Tomcat 3.3.2 (JDK 1.5.0_08, Windows XP)\n\nRESPONSE \t\tHTTP/1.1 200 OK\nContent-Type\t\ttext/html;charset=ISO-8859-1\nTestDateHeader\t\tSun, 01 Oct 2006 13:54:31 GMT\nSet-Cookie\t\tJSESSIONID=h5feuqcnfi; Path=/examples\nTransfer-Encoding\tchunked\nDate\t\t\tSun, 17 Sep 2006 13:54:31 GMT\nServer\t\t\tApache-Coyote/1.1\n"}]