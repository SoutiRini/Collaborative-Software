[{"count": 0, "tags": [], "bug_id": 41083, "is_private": false, "id": 96406, "creation_time": "2006-11-30T07:50:10Z", "time": "2006-11-30T07:50:10Z", "creator": "rfrovarp@apache.org", "text": "When going to the trash, archive, or authoring root node an error is thrown.\nUsing the old build of Cocoon, I get:\n\nUnable to get transformer handler for\ncocoon://lenya-page/default/trash/default.xml at <map:serialize type=\"xhtml\"> - \n\nUsing the new build of Cocoon I get:\n\n[object Error]\n(file:/home/rfrovarp/lenya-1.4.x/build/lenya/webapp/lenya/usecases/usecases.js#340)\n\norg.apache.cocoon.ProcessingException: Error calling flowscript function\nexecuteUsecase at [JavaScriptException] -\nfile:/home/rfrovarp/lenya-1.4.x/build/lenya/webapp/lenya/usecases/usecases.js:340\nat\nfile:/home/rfrovarp/lenya-1.4.x/build/lenya/webapp/lenya/usecases/usecases.js:342\nat <map:call> -\nfile:/home/rfrovarp/lenya-1.4.x/build/lenya/webapp/lenya/usecases/usecase.xmap:95:45\nat <map:mount> -\nfile:/home/rfrovarp/lenya-1.4.x/build/lenya/webapp/lenya/usecase.xmap:57:128 at\n<map:mount> -\nfile:/home/rfrovarp/lenya-1.4.x/build/lenya/webapp/global-sitemap.xmap:314:105\nat <map:mount> -\nfile:/home/rfrovarp/lenya-1.4.x/build/lenya/webapp/sitemap.xmap:645:106", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 41083, "is_private": false, "text": "After deleting or archiving a page the same error occurs. The page is archived\nor deleted. However, upon trying to redirect back to the UI, it tries to load\nthe default.xml and throws up an error. To recover from this, the user must hit\nback twice, then click on a part of the sitetree that won't cause an error or\nwas just deleted/archived.", "id": 96407, "time": "2006-11-30T07:54:19Z", "creator": "rfrovarp@apache.org", "creation_time": "2006-11-30T07:54:19Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 41083, "attachment_id": null, "id": 96408, "time": "2006-11-30T08:01:58Z", "creator": "andreas@apache.org", "creation_time": "2006-11-30T08:01:58Z", "is_private": false, "text": "I can't reproduce this (Mac OS X, Java 5, Cocoon from today)."}, {"count": 3, "attachment_id": null, "creator": "rfrovarp@apache.org", "text": "Issue a build.sh clean in the Cocoon directory. This problem is reproduceable on\nlenya.zones.apache.org.", "id": 96410, "time": "2006-11-30T08:20:16Z", "bug_id": 41083, "creation_time": "2006-11-30T08:20:16Z", "tags": [], "is_private": false}, {"count": 4, "attachment_id": null, "creator": "ragaller@apache.org", "text": "possibly this bug is related to 41067? I will try to reproduce both errors with\na new working copy (fresh checkout).", "id": 96411, "time": "2006-11-30T08:32:31Z", "bug_id": 41083, "creation_time": "2006-11-30T08:32:31Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "creator": "rfrovarp@apache.org", "attachment_id": null, "text": "Everything worked in revision 479977. Updating to revision 480037 creates an\nerror when clicking on the Archive, Trash, or Authoring links in the sitetree.\nThe previous behavior is desireable as it easily allows the setting of\npermissions on the entire sitetree.\n\nI am not sure what part of the commit broke this functionality.\nhttp://svn.apache.org/viewvc?view=rev&rev=480037 \n\nThe subsequent patch to redirect the user back up to a parrent upon delete or\narchive is causing the error to be thrown upon those actions due to this lack of\nfunctionality.", "id": 96465, "time": "2006-12-01T13:42:16Z", "bug_id": 41083, "creation_time": "2006-12-01T13:42:16Z", "is_private": false}, {"count": 6, "tags": [], "creator": "rfrovarp@apache.org", "attachment_id": null, "text": "This only happens if the debugging level is set to debug. Any other debugging\nlevel does not produce this error. ", "id": 96673, "time": "2006-12-08T13:44:15Z", "bug_id": 41083, "creation_time": "2006-12-08T13:44:15Z", "is_private": false}, {"count": 7, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "is_private": false, "id": 96741, "time": "2006-12-11T05:59:18Z", "bug_id": 41083, "creation_time": "2006-12-11T05:59:18Z", "text": "I still can't reproduce it, but maybe this helps:\n\nIn usecases.js, you could move the loopFlow fall in line 332 out of the try block:\n\nChange\n\n        try {\n            loopFlow(view, proxy, generic); //usecase must be released here!\n        } catch (exception) {\n\nto\n\n        loopFlow(view, proxy, generic); //usecase must be released here!\n        try {\n        } catch (exception) {\n\nThis could output the real cause of the error instead of this useless exception\nmessage."}, {"count": 8, "tags": [], "bug_id": 41083, "attachment_id": null, "id": 96758, "time": "2006-12-11T07:04:38Z", "creator": "rfrovarp@apache.org", "creation_time": "2006-12-11T07:04:38Z", "is_private": false, "text": "That yields better error results. I once again get:\n\naused by: org.mozilla.javascript.WrappedException: Wrapped\norg.apache.cocoon.ProcessingException: Unable to get transformer handler for\ncocoon://lenya-page/default/trash/default.xml\n\tat <map:serialize type=\"xhtml\"> -\nfile:/home/rfrovarp/lenya-1.4.x/build/lenya/webapp/lenya/usecases/usecase.xmap:84:38\n\nTo reproduce, just login to lenya.zones.apache.org as Lenya, then go to the site\ntab, then click on Trash. It only does it at the 'debug' debugging level."}, {"count": 9, "tags": [], "bug_id": 41083, "attachment_id": null, "text": "java.lang.NullPointerException\n\tat\norg.apache.lenya.cms.linking.ContentLinkManager.getLinksFrom(ContentLinkManager.java:48)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat\norg.apache.avalon.excalibur.component.ComponentProxyGenerator$ComponentInvocationHandler.invoke(ComponentProxyGenerator.java:143)\n\tat $Proxy41.getLinksFrom(Unknown Source)\n\tat\norg.apache.lenya.defaultpub.cms.usecases.Publish.getUnpublishedLinks(Publish.java:110)\n\tat\norg.apache.lenya.defaultpub.cms.usecases.Publish.initParameters(Publish.java:100)\n", "id": 96767, "time": "2006-12-11T08:31:32Z", "creator": "andreas@apache.org", "creation_time": "2006-12-11T08:31:32Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 41083, "attachment_id": null, "id": 96786, "creation_time": "2006-12-12T00:39:29Z", "time": "2006-12-12T00:39:29Z", "creator": "andreas@apache.org", "text": "It seems to work now.", "is_private": false}, {"count": 11, "attachment_id": null, "creator": "thorsten@apache.org", "text": "Renaming Lenya 1.4 to 2.0", "id": 105497, "time": "2007-07-16T01:58:53Z", "bug_id": 41083, "creation_time": "2007-07-16T01:58:53Z", "tags": [], "is_private": false}]