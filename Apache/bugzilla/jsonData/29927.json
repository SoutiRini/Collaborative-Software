[{"count": 0, "attachment_id": null, "creator": "dave@cs.curtin.edu.au", "is_private": false, "id": 60172, "time": "2004-07-06T05:19:15Z", "bug_id": 29927, "creation_time": "2004-07-06T05:19:15Z", "tags": [], "text": "hi all,\n\napache 2.0.50 - using APR in source tree.\n\nwhen enabling suexec apachectl configtest/start reports:\nWarning: SuexecUserGroup directive requires SUEXEC wrapper.\n\non closer inspection it seems that in os/unix/unixd.c the apr_stat function \ndoesn't correctly report SETUID bits on the suexec wrapper. this was meant to \nbe in apr 0.9.5 but its not - or broken.\n\ncheers\ndave"}, {"count": 1, "tags": [], "bug_id": 29927, "attachment_id": null, "id": 60173, "time": "2004-07-06T05:40:22Z", "creator": "nd@perlig.de", "creation_time": "2004-07-06T05:40:22Z", "is_private": false, "text": "Hmm, works fine for me (suse and gentoo linux). Can you please give more\ninformation?"}, {"count": 2, "tags": [], "creator": "dave@cs.curtin.edu.au", "text": "ok:\n\nhere is my configure line:\n\n./configure --prefix=/usr/httpd --enable-ssl --enable-http --enable-cgi --\ndisable-userdir --enable-suexec --with-suexec-caller=nobody\n\n[root@ns]# ls -las /usr/httpd/bin/suexec\n44 -rwsr-xr-x  1 root root 44040 Jul  6 15:38 /usr/httpd/bin/suexec\n\nim running fedora core 1 with all the yum updates\n\nthe line that seems to be the problem is line 601 in os/unix/unixd.c:\n\nif ((apr_stat(&wrapper, SUEXEC_BIN, APR_FINFO_NORM, ptemp)) != APR_SUCCESS) {\n\nwhen i check wrapper.protection it is equal to 1877 or 1855 i cant remember now.\n\nthe next if statement (wrapper.protection & APR_USETID) comes to == 0 - so \neffectively it leaves unixd_config.suexec_enabled set to 0 - and i get the \nwarning.\n\ncheers\ndave\n\n\n", "id": 60175, "time": "2004-07-06T05:49:28Z", "bug_id": 29927, "creation_time": "2004-07-06T05:49:28Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "nd@perlig.de", "text": "Hmm. Wild guess: is SUEXEC_BIN correct? (/path/to/httpd -V)", "id": 60176, "time": "2004-07-06T06:43:55Z", "bug_id": 29927, "creation_time": "2004-07-06T06:43:55Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "dave@cs.curtin.edu.au", "attachment_id": null, "id": 60187, "time": "2004-07-06T10:47:46Z", "bug_id": 29927, "creation_time": "2004-07-06T10:47:46Z", "is_private": false, "text": "*sigh* i thought that include option was to a directory not the file.\n\nthanks again\n\ndave."}, {"count": 5, "tags": [], "text": "Thanks for the feedback :)", "attachment_id": null, "bug_id": 29927, "id": 60188, "time": "2004-07-06T11:47:36Z", "creator": "nd@perlig.de", "creation_time": "2004-07-06T11:47:36Z", "is_private": false}]