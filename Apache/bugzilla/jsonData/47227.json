[{"count": 0, "attachment_id": null, "bug_id": 47227, "is_private": false, "id": 127217, "time": "2009-05-20T06:43:54Z", "creator": "thierry.leveque@vantrix.com", "creation_time": "2009-05-20T06:43:54Z", "tags": [], "text": "When setting a \"namePrefix\" to an Executor in server.xml, new threads in the pool do not always use the given name prefix.\n\nFor my tests I used this descriptor:\n<Executor name=\"VanExecutor\" namePrefix=\"VanMx6Mn1-STI\" maxThreads=\"6\" minSpareThreads=\"1\" maxIdleTime=\"10000\" daemon=\"false\" />\n\nThe executor is assigned to my http connector:\n<Connector port=\"8700\" executor=\"VanExecutor\" enableLookups=\"false\" allowTrace=\"true\" vanAdditionalParams=\"here\" maxThreads=\"200\" acceptCount=\"20\" connectionTimeout=\"60000\" bufferSize=\"4096\" disableUploadTimeout=\"true\" maxProcessors=\"10\" minProcessors=\"5\" />\n\nWhen I start my server and look with jconsole (or jstack), I can see that the first thread is really using my defined prefix. But most of the subsequent threads use the name \"Null_Thread_Name\".\nI said \"most\" because sometime I see my prefix used again correctly but only when using a large amount of threads (i.e. max 200 min 100).\n\nI am using jdk 1.6.012."}, {"count": 1, "attachment_id": null, "creator": "markt@apache.org", "is_private": false, "id": 130467, "time": "2009-09-16T14:46:25Z", "bug_id": 47227, "creation_time": "2009-09-16T14:46:25Z", "tags": [], "text": "I can't reproduce this with trunk or 6.0.x. I have checked the code and the text \"Null_Thread_Name\" does not appear any where in the 6.0.x source.\n\nI also can't see, given the thread creation code, how a thread could end up with a null thread name.\n\nThe only possibility I can think of is a JVM bug but there isn't much evidence of that.\n\nGiven that this can't be reproduced and a source code review shows no obvious cause, I am resolving this as works for me."}]