[{"count": 0, "tags": [], "bug_id": 44756, "is_private": false, "text": "Created attachment 21782\nAnt's -v log of the junit task, also the contents of my ant/lib\n\nI am running the JUnit ant task. The output of the task is:\n\n    [junit] Exception in thread \"main\" java.lang.NoClassDefFoundError: \n    [junit] Tests FAILED\n\nI've tried everything I can think of to get the class name or a stack trace without success, including:\n\n* -v and -debug flags\n* loading up a console and looking in the ClassLoader for duplicates of Ant classes (i'm not using anything suspect like weblogic.jar)\n* running Ant in a debugger. I can't set a breakpoint for NoClassDefFoundError because it's occurring in a forked process\n\nI'm at a loss to figure out what's going on. There may be a problem with my classpath but Ant doesn't give me enough information to figure out what it might be.\n\nSame problem occurs with Ant 1.6.2.", "id": 115320, "time": "2008-04-04T07:43:50Z", "creator": "kevin.gilpin@alum.mit.edu", "creation_time": "2008-04-04T07:43:50Z", "attachment_id": 21782}, {"count": 1, "tags": [], "bug_id": 44756, "is_private": false, "text": "I agree it's not very obvious how to achieve this, but if you add an element\n<formatter type=\"plain\">\nwithin your <junit> element, a text file will be created with the stack trace of your test case.\n\nI wrote a basic test class XXXTest (no package) that referred to a missing class; the output went to a file TEST-XXXTest.txt as follows:\n\nTestsuite: XXXTest\nTests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec\n------------- Standard Error -----------------\nThis message went to syserr\n------------- ---------------- ---------------\n\n\tCaused an ERROR\nYYYTest\njava.lang.NoClassDefFoundError: YYYTest\n\tat XXXTest.<clinit>(XXXTest.java:17)\n\tat java.lang.Class.forName0(Native Method)\n\tat java.lang.Class.forName(Class.java:169)\nCaused by: java.lang.ClassNotFoundException: YYYTest\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:200)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:188)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:251)\n\tat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)\n\n\nNote the NoClassDefFoundError. If however you run it on a class that doesn't exist (e.g. XXXTest1), you get a ClassNotFoundException:\n\nTestsuite: XXXTest1\nTests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec\n\n\tCaused an ERROR\nXXXTest1\njava.lang.ClassNotFoundException: XXXTest1\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:200)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:188)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:251)\n\tat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)\n\tat java.lang.Class.forName0(Native Method)\n\tat java.lang.Class.forName(Class.java:169)\n\nI hope this helps.", "id": 116587, "time": "2008-05-13T17:11:25Z", "creator": "lateralcoder@gmail.com", "creation_time": "2008-05-13T17:11:25Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "kevin.gilpin@alum.mit.edu", "text": "The problem is not when the test class itself does not exist, it appears to be when some class referenced by the test class does not exist. These tests work fine in my IDE. I can't figure out how to get Ant to tell me what class it can't find, nor how to attach a debugger to a running Ant JUnitTestRunner.", "id": 118880, "attachment_id": null, "bug_id": 44756, "creation_time": "2008-07-21T13:14:59Z", "time": "2008-07-21T13:14:59Z", "is_private": false}]