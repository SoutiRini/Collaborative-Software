[{"attachment_id": null, "tags": [], "bug_id": 35019, "is_private": false, "count": 0, "id": 75218, "time": "2005-05-23T13:26:02Z", "creator": "qnxuserit@yahoo.it", "creation_time": "2005-05-23T13:26:02Z", "text": "I'm trying to certificate my company's site as compatible with firefox but, in\nsome case (apparently random), I can see only a blank page. I have noticed when\nthis happen the page's source contains alway an onload() that should submit a\nform and redirect the user to an other page. I tested the onload() with a simple\npage which display a pop-up when the onload() function starts. I spent much time\ntrying to understand this strange problem, now I can tell you how to reproduce\nthis bug.\n\nThis is my test page:\n\n<html>\n<head>\n<title>Test OnLoad</title>\n<script language=\"JavaScript\">\nfunction imloaded() {\n alert('Onload() worked!');\n}\n</script>\n</head>\n<body onload=\"imloaded()\">\n<p>If you didn't get a popup message, then onload failed.</p>\n</body>\n</html>\n\nIf you put this page on an \n\n1) HTTP webserver (apache/IIS) behind an \n2) HTTPS reverse-proxy (apache-2) from https to http with \n3) HTTP/1.1 enabled and\n4) keep-alive enabled\n\n(web-server and reverse proxy MUST be on different machines)\n\nand you test this page with Firefox 1.0.4 or Mozilla 1.7.8 with a DIRECT\nconnection to internet (if you use a proxy like squid this page works fine) you\n can see the pop-up appearing only sometimes.\nIf you press SHIFT-reload many times you can see the bug (sometime the pop-up\nappears and sometime not!)\nIf you bypass the reverse proxy using the address of the web-server the page\nworks ALWAYS fine.\n\nYou can try this URLs:\n\n- behind a reverse proxy: https://webcert.bpvnsgs.it/bpn/newcert/onload.html\n(Apache 2.0.52 like rev-proxy and 1.3.29 like webserver)\n- without the rev-proxy: https://trade.bpv.it/mozilla_firefox/onload.html\n(apache 2.0.54)\n\nSee this screenshots:\n\nhttps://trade.bpv.it/mozilla_firefox/firefox_onload.png\nhttps://trade.bpv.it/mozilla_firefox/mozilla_onload4.png\n(behind the rev-proxy the onload() does not starts)\n\nhttps://trade.bpv.it/mozilla_firefox/firefox_onload1.png\nhttps://trade.bpv.it/mozilla_firefox/mozilla_onload2.png\n(after some refresh the pop-up appears)\n\nhttps://trade.bpv.it/mozilla_firefox/firefox_onload3.png\nhttps://trade.bpv.it/mozilla_firefox/mozilla_onload.png\nhttps://trade.bpv.it/mozilla_firefox/mozilla_onload3.png\n(behind the rev-proxy the onload() does not starts and the output is wrong)\n\nhttps://trade.bpv.it/mozilla_firefox/firefox_onload2.png\n(without rev-proxy onload() starts and the pop-up appears)\n\nIf you don't use only 1 features from this list:\n\n-Mozilla/Firefox\n-reverse-proxy\n-HTTPS\n-HTTP/1.1\n-Keep-Alive\n\nor if you use a proxy to browse internet the problem disappears....\n\nI tried many versions of apache2 and openssl on Linux and HP-UX; I also tried\nMozilla and Firefox on Linux, Win2k and MacOS X. The results are the same!\n\nMozilla/Firefox have two bugs apparently related to this: #199281 and #269754.\n\nI think mod_proxy has some problem when used with openssl, have you got any idea?\n\nThanks in advance.\n\nBye\nFabio"}, {"count": 1, "tags": [], "text": "I missed to write an important info: to reproduce this bug mod_deflate must be\nenabled too.\nThe bug seems not related to apache but to Firefox.\nSee https://bugzilla.mozilla.org/show_bug.cgi?id=269754 for more info.\nThe last Nightly Builds seems to work fine.\nI'm waiting for a stable relase by mozilla.org then I'll close this bug.\n\nBye\nFabio", "is_private": false, "id": 75348, "creator": "qnxuserit@yahoo.it", "time": "2005-05-25T15:33:15Z", "bug_id": 35019, "creation_time": "2005-05-25T15:33:15Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "Mozilla Bug, not Apache -> Closing.", "attachment_id": null, "id": 75831, "creation_time": "2005-06-03T00:08:21Z", "time": "2005-06-03T00:08:21Z", "creator": "chip@force-elite.com", "bug_id": 35019, "is_private": false}]