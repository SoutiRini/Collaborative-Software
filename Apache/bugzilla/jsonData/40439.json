[{"count": 0, "tags": [], "text": "When ProxyPass with path on <Location is written, error message should \nbe \"ProxyPass can not have a path when defined in a location\", but \"Invalid \nProxyPass parameter.  Parameter must be in the form 'key=value'\".\n\nI confirmed this bug in version 2.2.3, and I think this occurs also in trunk.\n\n\nI wrote httpd.conf:\n\n<Location /foo>\nProxyPass /test http://example.jp/bar\n<Location>\n\nAnd #apachectl -t .\n\nError message is:\nSyntax error on line 7 of /usr/local/apache2/conf/httpd.conf:\nInvalid ProxyPass parameter.  Parameter must be in the form 'key=value'\n\nthen I removed that configuration and wrote:\n\n<VirtualHost *:80>\nProxyPass /test http://example.jp/bar keepalive\n</VirtualHost>\n\nAnd #apachectl -t .\n\nError message is:\nSyntax error on line 20 of /usr/local/apache2/conf/httpd.conf:\nProxyPass can not have a path when defined in a location\n\n\nI think these error message should be reversed.", "attachment_id": null, "id": 93160, "creator": "takashi.asfbugzilla@tks.st", "time": "2006-09-07T15:47:04Z", "bug_id": 40439, "creation_time": "2006-09-07T15:47:04Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 18833\npatch for mod_proxy.c\n\npatch for\nhttp://svn.apache.org/repos/asf/httpd/httpd/trunk/modules/proxy/mod_proxy.c", "is_private": false, "bug_id": 40439, "id": 93161, "time": "2006-09-07T15:50:23Z", "creator": "takashi.asfbugzilla@tks.st", "creation_time": "2006-09-07T15:50:23Z", "attachment_id": 18833}, {"count": 2, "tags": [], "bug_id": 40439, "attachment_id": null, "is_private": false, "id": 93169, "time": "2006-09-07T19:45:53Z", "creator": "rpluem@apache.org", "creation_time": "2006-09-07T19:45:53Z", "text": "You are correct the messages should be reversed. But your patch can lead to the\nwrong error message in the following case:\n\n<Location /test>\n  ProxyPass balancer://mycluster/test On\n</Location>\n\nIn order to address this I prepared a slightly modified version of your patch.\nCan you please give it a try and report back?"}, {"count": 3, "tags": [], "bug_id": 40439, "attachment_id": 18835, "id": 93170, "time": "2006-09-07T19:46:20Z", "creator": "rpluem@apache.org", "creation_time": "2006-09-07T19:46:20Z", "is_private": false, "text": "Created attachment 18835\nSlightly modified patch"}, {"count": 4, "attachment_id": null, "bug_id": 40439, "is_private": false, "id": 93246, "time": "2006-09-08T18:17:56Z", "creator": "takashi.asfbugzilla@tks.st", "creation_time": "2006-09-08T18:17:56Z", "tags": [], "text": "> But your patch can lead to the\n> wrong error message in the following case:\n> <Location /test>\n>   ProxyPass balancer://mycluster/test On\n> </Location>\n\nI got it.\nThen, I tried the patch on Apache httpd 2.2.3.\n\nI tested these three patterns:\n\n1.\n<Location /foo>\nProxyPass /test http://example.com/test\n</Location>\n\nError message:\nProxyPass can not have a path when defined in a location.\n\n2.\n<Location /foo>\nProxyPass http://example.com/test SomeOption\n</Location>\n\nError message:\nInvalid ProxyPass parameter. Parameter must be in the form 'key=value'.\n\n3.\nin root of httpd.conf\nProxyPass /foo http://example.com/bar SomeOption\n\nError message:\nInvalid ProxyPass parameter. Parameter must be in the form 'key=value'.\n\n(I used \"apachectl -t\")\nError message are now correct. It seems like the bug has been fixed."}, {"count": 5, "tags": [], "text": "Thanks for testing. Committed as r441947\n(http://svn.apache.org/viewvc?view=rev&rev=441947) to trunk.", "is_private": false, "bug_id": 40439, "id": 93297, "time": "2006-09-10T12:35:59Z", "creator": "rpluem@apache.org", "creation_time": "2006-09-10T12:35:59Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 40439, "attachment_id": null, "id": 103037, "time": "2007-05-10T07:05:42Z", "creator": "takashi.asfbugzilla@tks.st", "creation_time": "2007-05-10T07:05:42Z", "is_private": false, "text": "I have two questions.\n\nHow about backport?\nCan I change state to RESOLVED FIXED?"}, {"count": 7, "tags": [], "text": "(In reply to comment #6)\n> I have two questions.\n> \n> How about backport?\n\nProposed for backport as r536986\n(http://svn.apache.org/viewvc?view=rev&revision=536986).\n\nThanks for the reminder.\n\n> Can I change state to RESOLVED FIXED?\n\nNo. Please leave it in its current state. Although there is no fixed rule for\nthis I typically wait to change the state to RESOLVED FIXED until the patch is\naccepted for backport.", "is_private": false, "bug_id": 40439, "id": 103053, "time": "2007-05-10T13:20:33Z", "creator": "rpluem@apache.org", "creation_time": "2007-05-10T13:20:33Z", "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 40439, "attachment_id": null, "id": 104294, "time": "2007-06-11T07:27:35Z", "creator": "takashi.asfbugzilla@tks.st", "creation_time": "2007-06-11T07:27:35Z", "is_private": false, "text": "Backported to 2.2.x as r539277\nhttp://svn.apache.org/viewvc?view=rev&revision=539277"}]