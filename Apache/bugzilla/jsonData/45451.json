[{"attachment_id": null, "tags": [], "bug_id": 45451, "text": "Hello,\nI have an web app with 2 tag files.\nHere is my first tag 'testtag':\n\n<%@ tag %>\n<%@ attribute name=\"onLoad\" %>\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n\n<c:if test=\"${! empty onLoad}\">\n   <input type=\"hidden\" name=\"OnLoadParameter\" value=\"${onLoad}\" />\n</c:if>\n\nMy second tag ('testtag2') use the first one:\n\n<%@ tag %>\n<%@ attribute name=\"name\" %>\n<%@ taglib prefix=\"widget\" tagdir=\"/WEB-INF/tags/widgets\" %>\n\n<widget:testtag onLoad=\"{Script:'jsFunction(\\\\\\'${name}\\\\\\')'}\" />\n\n\nIn a JSP, I use the second tag:\n\n...\n<%@ taglib prefix=\"widget\" tagdir=\"/WEB-INF/tags/widgets\" %>\n...\n<widget:testtag2 name=\"toto\" />\n...\n\n\nWith tomcat 5.5.25, I have the following result:\n<input type=\"hidden\" name=\"OnLoadParameter\" value=\"{Script:'jsFunction(\\'toto\\')'}\" />\n\nAnd with tomcat 6.0.16:\n<input type=\"hidden\" name=\"OnLoadParameter\" value=\"{Script:'jsFunction('toto')'}\" />\n\nIt seems that the attribute is evaluate once more on tomcat 6 than on tomcat 5.", "count": 0, "id": 118894, "time": "2008-07-22T01:37:27Z", "creator": "herve@instranet.com", "creation_time": "2008-07-22T01:37:27Z", "is_private": false}, {"count": 1, "tags": [], "creator": "ilangocal@yahoo.com", "attachment_id": null, "id": 119660, "time": "2008-08-10T09:35:44Z", "bug_id": 45451, "creation_time": "2008-08-10T09:35:44Z", "is_private": false, "text": "(In reply to comment #0)\n> Hello,\n> I have an web app with 2 tag files.\n> Here is my first tag 'testtag':\n> \n> <%@ tag %>\n> <%@ attribute name=\"onLoad\" %>\n> <%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n> \n> <c:if test=\"${! empty onLoad}\">\n>    <input type=\"hidden\" name=\"OnLoadParameter\" value=\"${onLoad}\" />\n> </c:if>\n> \n> My second tag ('testtag2') use the first one:\n> \n> <%@ tag %>\n> <%@ attribute name=\"name\" %>\n> <%@ taglib prefix=\"widget\" tagdir=\"/WEB-INF/tags/widgets\" %>\n> \n> <widget:testtag onLoad=\"{Script:'jsFunction(\\\\\\'${name}\\\\\\')'}\" />\n> \n> \n> In a JSP, I use the second tag:\n> \n> ...\n> <%@ taglib prefix=\"widget\" tagdir=\"/WEB-INF/tags/widgets\" %>\n> ...\n> <widget:testtag2 name=\"toto\" />\n> ...\n> \n> \n> With tomcat 5.5.25, I have the following result:\n> <input type=\"hidden\" name=\"OnLoadParameter\"\n> value=\"{Script:'jsFunction(\\'toto\\')'}\" />\n> \n> And with tomcat 6.0.16:\n> <input type=\"hidden\" name=\"OnLoadParameter\"\n> value=\"{Script:'jsFunction('toto')'}\" />\n> \n> It seems that the attribute is evaluate once more on tomcat 6 than on tomcat 5.\n> \n\nI would like to test this behaviour. Do you have a simple test case?"}, {"count": 2, "tags": [], "creator": "markt@apache.org", "text": "I have committed a fix for this to trunk and proposed it for 6.0.x. The patch also includes various fixes around handling \\${...}\n\nAny testing you can do would be appreciated.", "id": 120694, "time": "2008-09-16T14:14:55Z", "bug_id": 45451, "creation_time": "2008-09-16T14:14:55Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 45451, "attachment_id": null, "text": "The final fix for this got caught up in a spec query (http://markmail.org/message/2rq3vkvx76vmhq75). This has been resolved and the fix has now been applied to 6.0.x. It will be in 6.0.19 onwards.", "id": 121902, "time": "2008-10-27T06:34:52Z", "creator": "markt@apache.org", "creation_time": "2008-10-27T06:34:52Z", "is_private": false}]