[{"count": 0, "tags": [], "creator": "ondra.hosek@gmail.com", "attachment_id": null, "id": 106508, "time": "2007-08-08T17:07:05Z", "bug_id": 43066, "creation_time": "2007-08-08T17:07:05Z", "is_private": false, "text": "The Windows implementation of get_password in passwd/apr_getpass.c is a kludge.\nThe same problem can be solved by an API very akin to termios -- using the\nGetConsoleMode and SetConsoleMode system calls. These are available since\nWindows 95 (according to MSDN)."}, {"count": 1, "tags": [], "bug_id": 43066, "is_private": false, "id": 106509, "attachment_id": 20617, "creator": "ondra.hosek@gmail.com", "creation_time": "2007-08-08T17:10:41Z", "time": "2007-08-08T17:10:41Z", "text": "Created attachment 20617\nProposed solution\n\nThe patch basically replaces the current Windows implementation of get_password\nwith one copied from the termios version and edited to work on Windows. It\nshould provide behavior comparable to that on Unix (in terms of arrow key,\nbackspace, etc. behaviour).\n\nIt has not been extensively tested."}, {"count": 2, "tags": [], "bug_id": 43066, "attachment_id": null, "text": "A few comments: the last printf(\"\\n\") goes to stdout, GetStdHandle() might\nreturn NULL, the return is \"wrong\". Otherwise looks good.", "id": 106510, "time": "2007-08-08T17:50:09Z", "creator": "davi@apache.org", "creation_time": "2007-08-08T17:50:09Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 43066, "attachment_id": null, "text": "If the printf going to stdout and the return are wrong, then it's probably a\nproblem with the termios implementation a few lines up too. I confess I was\naggressively copypasting.\n\nAs for the NULL on GetStdHandle, yeah, sorry for that oversight. I overlooked\nthe corresponding paragraph on MSDN.\n\nAnyway, thanks for the positive feedback. It's the first time I'm contributing\nto an Apache project.", "id": 106517, "time": "2007-08-09T02:53:56Z", "creator": "ondra.hosek@gmail.com", "creation_time": "2007-08-09T02:53:56Z", "is_private": false}, {"count": 4, "tags": [], "creator": "wrowe@apache.org", "text": "AIUI the unix termios flavor actually lets you redirect password input from the\ncurrent stream, correct?\n\nThis patch would break that concept horridly, if applicable.", "id": 112205, "time": "2007-12-26T12:43:05Z", "bug_id": 43066, "creation_time": "2007-12-26T12:43:05Z", "is_private": false, "attachment_id": null}]