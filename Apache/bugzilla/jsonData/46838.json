[{"attachment_id": null, "tags": [], "creator": "Wang_zhifeng@emc.com", "is_private": false, "count": 0, "id": 125502, "time": "2009-03-11T22:07:34Z", "bug_id": 46838, "creation_time": "2009-03-11T22:07:34Z", "text": "When I run a post operation which do a create operation on the server, the latency of the web request is always 0 no matter how big the operation is. \nI traced into the source file, and found in HTTPSamplerBase.java, if no response data, the sampleResult.latencyEnd(); will not be called. \n\nwhile ((bytesRead = in.read(readBuffer)) > -1) {\n    \t\tif (first) {\n    \t\t\tsampleResult.latencyEnd();\n    \t\t\tfirst = false;\n    \t\t}\n    \t\tif (asMD5 && md != null) {\n    \t\t    md.update(readBuffer, 0 , bytesRead);\n    \t\t    totalBytes += bytesRead;\n    \t\t} else {\n    \t\t    w.write(readBuffer, 0, bytesRead);\n    \t\t}\n    \t}\n\nAdd following code after the while loop will fix this bug.\nif (first)\n    sampleResult.latencyEnd();"}, {"count": 1, "tags": [], "bug_id": 46838, "text": "Thanks for the report and fix.\n\nApplied to SVN in\n\nURL: http://svn.apache.org/viewvc?rev=761584&view=rev\nLog:\nBug 46838 - if there was no data, still need to set latency in HTTPSampler\n\nWill be in nightly builds after r761584", "id": 125966, "time": "2009-04-03T02:43:24Z", "creator": "sebb@apache.org", "creation_time": "2009-04-03T02:43:24Z", "is_private": false, "attachment_id": null}]