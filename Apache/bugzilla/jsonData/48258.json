[{"count": 0, "tags": [], "bug_id": 48258, "attachment_id": 24580, "text": "Created attachment 24580\ndiffs for Globals.java and Request.java\n\nA request was made on the Tomcat email list to allow for the session cookie created to be created with a specific default domain in a fashion similar to the WebLogic server.\n\nThis patch allows the default domain to be set.  The user needs to set a specific System property upon startup of the container, and the session cookie will be created with the specified domain.\n\nThe change includes modifications to Globals.java to specify the parameter, and Request.java to actually implement the setting of the created cookie.\n\nThe diffs are attached.", "id": 132193, "time": "2009-11-21T10:43:04Z", "creator": "donn.aiken@gmail.com", "creation_time": "2009-11-21T10:43:04Z", "is_private": false}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 132195, "time": "2009-11-21T16:53:30Z", "bug_id": 48258, "creation_time": "2009-11-21T16:53:30Z", "is_private": false, "text": "+1 to the idea but the implementation needs some tweaks.\n\nI'd suggest implementing this as a context attribute, in a similar manner to the httpOnly setting. It allows more control and I am generally -1 for doing config with a system proprty that could be done elsewhere."}, {"count": 2, "tags": [], "creator": "donn.aiken@gmail.com", "text": "Created attachment 24581\ndiffs using an context-param instead of a system property\n\nMark --\n\nI think you're right.  I initially did it the other way to be symmetrical with the other System properties regarding session.  Hopefully these revised patches are more to your liking.  Thanks,\n\nDonn", "id": 132196, "time": "2009-11-21T18:11:21Z", "bug_id": 48258, "creation_time": "2009-11-21T18:11:21Z", "is_private": false, "attachment_id": 24581}, {"count": 3, "tags": [], "bug_id": 48258, "attachment_id": 24607, "text": "Created attachment 24607\ndiffs using a context attribute to set the cookie domain\n\nMark -\n\nI re-read your note and I think got the message this time.  If you feel this should be done at a different level than Context, please let me know.\n\nThanks,\n\nDonn", "id": 132294, "time": "2009-11-24T17:18:34Z", "creator": "donn.aiken@gmail.com", "creation_time": "2009-11-24T17:18:34Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 48258, "attachment_id": null, "text": "Hello - \n\nIs there anything else I can do to ask people to look this over for possible inclusion?  I think the last set of diffs implement the change as requested.  \n\n(SetCookieDomain3.diff is the filename for the attachment, id=24607)\n\nThanks.", "id": 132565, "time": "2009-12-01T16:25:09Z", "creator": "donn.aiken@gmail.com", "creation_time": "2009-12-01T16:25:09Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 48258, "attachment_id": null, "text": "The general approach is good.\n\nSome misc comments in no particular order:\n- Use 4 spaces rather than tabs\n- Remove the changes that just add/remove whitespace at the end of a line\n- Some methods are missing JavaDocs\n- Provide the spelling corrections as a separate patch (makes things easier to review)\n- The new attribute needs documenting.\n- Some thought needs to be given to how this will interact with the session cookie config that will come in the Tomcat 7.", "id": 132567, "time": "2009-12-01T16:42:58Z", "creator": "markt@apache.org", "creation_time": "2009-12-01T16:42:58Z", "is_private": false}, {"count": 6, "attachment_id": null, "creator": "donn.aiken@gmail.com", "text": "(In reply to comment #5)\n> The general approach is good.\n> \n> Some misc comments in no particular order:\n> - Use 4 spaces rather than tabs\n> - Remove the changes that just add/remove whitespace at the end of a line\n> - Some methods are missing JavaDocs\n> - Provide the spelling corrections as a separate patch (makes things easier to\n> review)\n> - The new attribute needs documenting.\n> - Some thought needs to be given to how this will interact with the session\n> cookie config that will come in the Tomcat 7.\n\nThank you very much for the feedback.  I believe this set of diffs much closer to what what you're looking for.  I have not looked at the cookie handing in TC 7 yet, however.", "id": 132568, "time": "2009-12-01T18:37:27Z", "bug_id": 48258, "creation_time": "2009-12-01T18:37:27Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "bug_id": 48258, "text": "Created attachment 24656\ncleaned up diffs, documentation\n\nThank you very much for the feedback.  I believe this set of diffs much closer to what what you're looking for.  I have not looked at the cookie handing in TC 7 yet, however.", "id": 132569, "time": "2009-12-01T18:38:32Z", "creator": "donn.aiken@gmail.com", "creation_time": "2009-12-01T18:38:32Z", "is_private": false, "attachment_id": 24656}, {"count": 8, "tags": [], "bug_id": 48258, "attachment_id": null, "text": "See also https://issues.apache.org/bugzilla/show_bug.cgi?id=48379", "id": 135226, "time": "2010-03-10T08:29:14Z", "creator": "markt@apache.org", "creation_time": "2010-03-10T08:29:14Z", "is_private": false}, {"count": 9, "attachment_id": null, "creator": "markt@apache.org", "text": "I've applied a patch to Tomcat 7 based on your patch. I plan to make a couple of related changes (bug 48379) to Tomcat 7 and then apply a combined patch to Tomcat 6.\n\nI'm marking this issue as a duplicate of 48379 and will track further progress in bug 48376.\n\n*** This bug has been marked as a duplicate of bug 48379 ***", "id": 135234, "time": "2010-03-10T12:56:12Z", "bug_id": 48258, "creation_time": "2010-03-10T12:56:12Z", "tags": [], "is_private": false}]