[{"count": 0, "tags": [], "creator": "bruce@callenish.com", "attachment_id": null, "text": "When weblogic.ejbc (called from the weblogic subtask) tries to compile a \nContainer Managed Persistence bean on a machine which has not had weblogic \ninstalled, it fails with the message:\n\n[ejbjar] building MyEJB.jar with 7 files\n  [ejbc] ERROR: Error from ejbc: weblogic.boot.ZipSource\n  [ejbc] ERROR: ejbc found errors\n\nThe problem is that ejbc requires a JAR file called \"weblogic_rdbms.jar\", and \nrather than getting it from the classpath, it loads it manually \nfrom \"${weblogic.home}/lib/persistence\". That means you have to have \n${weblogic.home} as a system property of the JVM running the weblogic subtask, \nbut there is currently no way to specify a system property within that task in \nyour build file.", "id": 8272, "time": "2001-11-26T10:36:37Z", "bug_id": 5094, "creation_time": "2001-11-26T10:36:37Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 5094, "text": "Created attachment 847\nAdds an undocumented <sysproperty> element to the <weblogic> subtask of <ejbjar>", "id": 8403, "time": "2001-11-28T11:06:58Z", "creator": "bruce@callenish.com", "creation_time": "2001-11-28T11:06:58Z", "is_private": false, "attachment_id": 847}, {"count": 2, "tags": [], "bug_id": 5094, "attachment_id": null, "text": "I've added the ability to specify <sysproperty> elements within <weblogic> so \nthat you can define the weblogic.home property.\n\nThis is a simple change that fixes this particular bug. Since this is an issue \nonly in rare cases, it may be more confusing to add it to the documentation \nthan to leave it out. It also has the downside that it is asymmetrical, since \nmost tasks that run Java do not have access to setting system properties in the \nJVM.\n\nMy questions are:\n\n  1) Should the documentation be changed to indicate that <weblogic> supports a \n<sysproperty> element?\n\n  2) Should I go through and add support for sysproperty with any task that \ncalls java?\n\n  3) Should I also go through and add support for <jvmarg>?\n\nI'm willing to go through the code and make these changes if it is considered a \ngood thing.\n\n", "id": 8404, "time": "2001-11-28T11:14:26Z", "creator": "bruce@callenish.com", "creation_time": "2001-11-28T11:14:26Z", "is_private": false}, {"count": 3, "tags": [], "creator": "umagesh@apache.org", "attachment_id": null, "text": "Did you try invoking ant with ant -Dweblogic.home=/opt/bea or something like \nthat?  You can pass system properties to ant in this fashion.", "id": 8638, "time": "2001-12-05T14:27:51Z", "bug_id": 5094, "creation_time": "2001-12-05T14:27:51Z", "is_private": false}, {"count": 4, "tags": [], "text": "Yes, as my original message to the ant-users mailing list said (http://www.mail-\narchive.com/ant-user@jakarta.apache.org/msg10758.html), I tried many ways of \ngetting that system property in there, including by adding it to the ant shell \nscript. All failed. It appears that when one JVM launches another, it doesn't \npass its system properties along.\n\nThe patch I offered is a hack to get around this, but it works. In thinking \nabout the problem further, it occurs to me that the best (read \"least hackish\") \napproach may be to let any task which manually loads Ant's Java class to also \nallow <java> as an element within. More work, but much more flexible. Of \ncourse, if their were no <java> element within, the Java class would still be \ncreated manually.\n\nBetter? Or is the simple patch I offered more appropriate because it keeps the \ncomplexity to a minimum?\n", "attachment_id": null, "bug_id": 5094, "id": 8717, "time": "2001-12-08T09:45:25Z", "creator": "bruce@callenish.com", "creation_time": "2001-12-08T09:45:25Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 5094, "text": "Committed on the 1.5 branch. If you get around to the doco before me, that would\nbe good :-)", "id": 17137, "time": "2002-06-04T07:13:44Z", "creator": "conor@apache.org", "creation_time": "2002-06-04T07:13:44Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 5094, "attachment_id": 2003, "id": 17149, "time": "2002-06-05T00:28:04Z", "creator": "bruce@callenish.com", "creation_time": "2002-06-05T00:28:04Z", "is_private": false, "text": "Created attachment 2003\nDocument the sysproperty element in weblogic element"}, {"count": 7, "tags": [], "bug_id": 5094, "text": "Your wish is my command.", "id": 17150, "time": "2002-06-05T00:28:34Z", "creator": "bruce@callenish.com", "creation_time": "2002-06-05T00:28:34Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 5094, "attachment_id": null, "text": "Reopening until doco patch applied\nThanks for the patch", "id": 17231, "time": "2002-06-05T22:57:48Z", "creator": "conor@apache.org", "creation_time": "2002-06-05T22:57:48Z", "is_private": false}, {"count": 9, "tags": [], "creator": "conor@apache.org", "attachment_id": null, "text": "Doc patch applied - thanks", "id": 17794, "time": "2002-06-14T14:03:53Z", "bug_id": 5094, "creation_time": "2002-06-14T14:03:53Z", "is_private": false}]