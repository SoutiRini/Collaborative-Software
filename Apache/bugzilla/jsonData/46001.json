[{"count": 0, "tags": [], "creator": "andreas@apache.org", "text": "The menubar doesn't work if the page contains an iframe.\n\nReason:\nThe menu.js tries to assign the event handlers before the DOM construction is finished, therefore the menu objects (id=nav*) are null.\n\nIf the initialize() function is called in the body/@onload attribute, it works:\n\n\nIndex: src/modules/menubar/xslt/menu2xslt.xsl\n===================================================================\n--- src/modules/menubar/xslt/menu2xslt.xsl\t(Revision ...)\n+++ src/modules/menubar/xslt/menu2xslt.xsl\t(working copy)\n@@ -59,14 +59,14 @@\n               </xso:variable>\n               <xso:comment>[if IE 6]<![CDATA[>]]>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"<xso:value-of select=\"$contextprefix\"/>/lenya/css/ie6hacksonly.css\" /><![CDATA[<![endif]]]></xso:comment>\n             </head>\n-            <body>\n+            <body onload=\"initialize();\">\n+\n               <xso:apply-templates select=\"xhtml:html/xhtml:body/@*\"/>\n               <xsl:apply-templates select=\"xhtml:div/xhtml:div[@id = 'lenya-logo']\"/>\n               <xsl:apply-templates select=\"xhtml:div/xhtml:div[@id = 'lenya-menus']\"/>\n               <div id=\"lenya-cmsbody\">\n                 <xso:apply-templates select=\"xhtml:html/xhtml:body/node()\"/>\n               </div>\n-              <script type=\"text/javascript\"> initialize(); </script>\n             </body>\n           </html>\n         </xso:template>", "id": 121485, "time": "2008-10-14T01:57:30Z", "bug_id": 46001, "creation_time": "2008-10-14T01:57:30Z", "is_private": false, "attachment_id": null}]