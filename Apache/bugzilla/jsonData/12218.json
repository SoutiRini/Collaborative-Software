[{"count": 0, "tags": [], "bug_id": 12218, "attachment_id": null, "id": 22080, "time": "2002-09-01T17:27:13Z", "creator": "borisu@tx.technion.ac.il", "creation_time": "2002-09-01T17:27:13Z", "is_private": false, "text": "GetAttribute(\"javax.servlet.X509certifictae\") returns null although SSL  is \nestablished connection. getAttributeNames on request returns empty enumeration.\nI'm using my own SSLFactory with iaik ssl implementation"}, {"count": 1, "tags": [], "text": "I cannot get certificate attribute from request in servlet on server side  \nthough SSL connection is established with client authentications needed.\nrequest.getAttribiute(\"javax.servlet...\") returns null. I'm using my own \ncustom SSLfactory using iaik libraries. Actually request.getattributesNames \nreturns empty enumeration. No servlet are running simultaneously, the servlet \nitself is as simple as can be (actually almost sample code generated by \njbuilder). I'm running tomcat with ,y custom configuration file (can it be a \nproblem?) ", "attachment_id": null, "id": 22084, "creation_time": "2002-09-01T19:06:35Z", "time": "2002-09-01T19:06:35Z", "creator": "borisu@tx.technion.ac.il", "bug_id": 12218, "is_private": false}, {"count": 2, "tags": [], "bug_id": 12218, "attachment_id": null, "text": "I have checked this with the HEAD of 4.1 and 5.0 and both work using the \nfollowing code snippet in the jsp page.\n\n<%@ page import=\"java.security.cert.*\" %>\n<%\n  X509Certificate[] certChain;\n  X509Certificate clientCert;\n  java.security.Principal userDN;\n\n  certChain = (X509Certificate[])request.getAttribute\n(\"javax.servlet.request.X509Certificate\");\n  clientCert = certChain[0];\n  userDN = clientCert.getSubjectDN();\n\n  out.println(\"<P>Subject distinguished name is: \" + userDN + \"</P>\");\n  out.println(\"<p>getRemoteUser() returns: \" + request.getRemoteUser() \n+ \"</P>\");\n%>\n\nYour suspicion that your custom SSL factory might be the root cause would \nappear to be correct.", "id": 43338, "time": "2003-08-26T19:05:16Z", "creator": "medthomas@ntlworld.com", "creation_time": "2003-08-26T19:05:16Z", "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 12218, "is_private": false, "id": 43388, "time": "2003-08-27T15:38:03Z", "creator": "borisu@tx.technion.ac.il", "creation_time": "2003-08-27T15:38:03Z", "tags": [], "text": "Well Guys the solution was that i used to create in my manual SocketFactory \nthe socket which is socket but not JSSE socket. That's why one of valaves of \ntomcat which is responsible for putting this argument (it uses instsneof) was \nnot recognizing the socket as SSL socket. The solution is to provide your own \nvalve to init this argument.\n\nGoog Luck!"}]