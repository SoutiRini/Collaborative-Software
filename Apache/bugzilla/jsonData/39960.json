[{"count": 0, "tags": [], "bug_id": 39960, "attachment_id": null, "text": "I'm trying to copy a datastream into a directory, and was curious about the\nresult. Its not good.\n\n  <target name=\"create-file\"\n    xmlns:res=\"antlib:org.antbook.resources\"\n    depends=\"ready-to-run\">\n    <copy todir=\"build\">\n      <res:random size=\"8192\"/>\n    </copy>\n  </target>\n\nBUILD FAILED\nC:\\Personal\\examples\\sections\\extending\\ch18_extras\\resources\\build.xml:84: java\n.lang.NullPointerException\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.jav\na:114)\n        at org.apache.tools.ant.Task.perform(Task.java:375)\n        at org.apache.tools.ant.Target.execute(Target.java:356)\n        at org.apache.tools.ant.Target.performTasks(Target.java:384)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1268)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1237)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExe\ncutor.java:40)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1120)\n        at org.apache.tools.ant.Main.runBuild(Main.java:685)\n        at org.apache.tools.ant.Main.startAnt(Main.java:196)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:279)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:100)\nCaused by: java.lang.NullPointerException\n        at org.apache.tools.ant.util.ResourceUtils.selectOutOfDateSources(Resour\nceUtils.java:155)\n        at org.apache.tools.ant.util.ResourceUtils.selectOutOfDateSources(Resour\nceUtils.java:123)\n        at org.apache.tools.ant.taskdefs.Copy.buildMap(Copy.java:729)\n        at org.apache.tools.ant.taskdefs.Copy.scan(Copy.java:661)\n        at org.apache.tools.ant.taskdefs.Copy.execute(Copy.java:544)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.jav\na:104)\n        ... 11 more\n\nIf a resource must have a name for a copy, and that name may be null, there\nshould be a proper check and a meaningful exception.", "id": 90863, "time": "2006-07-04T16:33:54Z", "creator": "stevel@apache.org", "creation_time": "2006-07-04T16:33:54Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 39960, "attachment_id": null, "text": "(In reply to comment #0)\n> If a resource must have a name for a copy, and that name may be null, there\n> should be a proper check and a meaningful exception.\n\nAre you suggesting that a resource might not need to have a name for a copy?  I\ncan see that, but only if a (merge) mapper is used.  In any event, I can agree\nwith there needing to be a meaningful exception.", "id": 90911, "time": "2006-07-05T15:30:05Z", "creator": "mbenson@apache.org", "creation_time": "2006-07-05T15:30:05Z", "is_private": false}, {"count": 2, "text": "no, I'm suggesting that if a resource doesnt have a name, that it should do\nsomething meaningful like throw an exception \"you idiot, you forgot a name\"", "bug_id": 39960, "is_private": false, "id": 90912, "time": "2006-07-05T15:34:49Z", "creator": "stevel@apache.org", "creation_time": "2006-07-05T15:34:49Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 39960, "attachment_id": null, "text": "*** Bug 40565 has been marked as a duplicate of this bug. ***", "id": 93966, "time": "2006-09-21T14:48:51Z", "creator": "mbenson@apache.org", "creation_time": "2006-09-21T14:48:51Z", "is_private": false}, {"count": 4, "tags": [], "creator": "stevel@apache.org", "text": "good catch. I forgot I'd filed it, but now that we are (almost) running this\nstuff under gump, I was reminded. ", "id": 93967, "time": "2006-09-21T15:01:17Z", "bug_id": 39960, "creation_time": "2006-09-21T15:01:17Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "mbenson@apache.org", "text": "Steve, I just tried a fix for this but didn't have a handy means of testing it.\n Do you (still)?", "id": 96677, "time": "2006-12-08T15:44:07Z", "bug_id": 39960, "creation_time": "2006-12-08T15:44:07Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 39960, "is_private": false, "text": "1. yes, I do still have the source. So do you, if you check it out from CVS\nunder http://sourceforge.net/projects/antbook , and gump may run it too.\n\n2. you've managed to move it.\n\n--- Nested Exception ---\njava.lang.NullPointerException\n        at\norg.apache.tools.ant.util.ResourceUtils.selectOutOfDateSources(ResourceUtils.java:176)\n        at\norg.apache.tools.ant.util.ResourceUtils.selectOutOfDateSources(ResourceUtils.java:126)\n        at org.apache.tools.ant.taskdefs.Copy.buildMap(Copy.java:732)\n        at org.apache.tools.ant.taskdefs.Copy.scan(Copy.java:664)\n        at org.apache.tools.ant.taskdefs.Copy.execute(Copy.java:547)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at\norg.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)\n        at org.apache.tools.ant.Task.perform(Task.java:348)\n        at org.apache.tools.ant.Target.execute(Target.java:357)\n        at org.apache.tools.ant.Target.performTasks(Target.java:385)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1298)\n        at\norg.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1181)\n        at org.apache.tools.ant.Main.runBuild(Main.java:698)\n        at org.apache.tools.ant.Main.startAnt(Main.java:199)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:298)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\n\nTotal time: 0 seconds", "id": 96678, "time": "2006-12-08T16:06:38Z", "creator": "stevel@apache.org", "creation_time": "2006-12-08T16:06:38Z", "attachment_id": null}, {"count": 7, "text": "svn revision 708948", "bug_id": 39960, "is_private": false, "id": 122000, "time": "2008-10-29T10:39:45Z", "creator": "bodewig@apache.org", "creation_time": "2008-10-29T10:39:45Z", "tags": [], "attachment_id": null}]