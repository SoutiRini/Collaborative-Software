[{"count": 0, "tags": [], "bug_id": 47653, "text": "Tar archive created with ant tar task with attribute longfile=\"gnu\" has gnu tar identifier as ustar\\0\\0\\0 where the gnu tar is \"ustar\\000\" (just 0 and not \\0).", "id": 129523, "time": "2009-08-06T03:46:19Z", "creator": "l.serwatka@gazeta.pl", "creation_time": "2009-08-06T03:46:19Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "Some more info:\ngnu and oldgnu do \"ustar  \\0\"; pax and ustar do \"ustar\\000\" and v7 does \"\\0\\0\\0\\0\\0\\0\\0\\0\"\n\nAnt should use gnu (\"ustar  \\0\") if use long file names, but \"ustar\\000\" is valid as long as that option is not turned on.\n\nRef. to OLDGNU and TMAGIC/TVERSION in the document http://sunsite.ualberta.ca/Documentation/Gnu/tar-1.13/html_chapter/tar_8.html", "is_private": false, "id": 129525, "creator": "l.serwatka@gazeta.pl", "time": "2009-08-06T04:01:51Z", "bug_id": 47653, "creation_time": "2009-08-06T04:01:51Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 47653, "is_private": false, "text": "Just an FYI that this bug has now been found to affect the untarring abilities of at least one widely-deployed unarchiving application, The Unarchiver.  An issue I filed against The Unarchiver:\n\nhttp://code.google.com/p/theunarchiver/issues/detail?id=204\n\nis actually due to this Ant-related TAR bug; when Ant-TARred files with long pathnames are unarchived by The Unarchiver, the long paths don't survive and the affected files are either lost or misnamed.", "id": 130925, "time": "2009-10-06T17:20:08Z", "creator": "apache.org@site.masshole.us", "creation_time": "2009-10-06T17:20:08Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 47653, "attachment_id": 24357, "is_private": false, "id": 130945, "time": "2009-10-07T10:04:31Z", "creator": "lorenzd@gmail.com", "creation_time": "2009-10-07T10:04:31Z", "text": "Created attachment 24357\nMake TarEntry set the magic to the proper value when a gnu longlink typeflag is passed.\n\nHello, Unarchiver tar person here.\n\nThe Problem seems to be an oversight in http://svn.apache.org/viewvc/ant/core/trunk/src/main/org/apache/tools/tar/TarEntry.java?view=markup - in the constructor that allows people to set the linkFlag, the magic value is not set to GNU_TMAGIC when a gnu longlink linkflag is passed. I've attached a patch to make it do that."}, {"count": 4, "tags": [], "bug_id": 47653, "attachment_id": null, "is_private": false, "id": 130951, "time": "2009-10-07T11:20:51Z", "creator": "apache.org@site.masshole.us", "creation_time": "2009-10-07T11:20:51Z", "text": "Weirdly, I now have the second file created by (I think) Ant that has issues with this long-pathname issue -- the latest version of the Hibernate Java library.\n\nhttp://sourceforge.net/projects/hibernate/files/hibernate3/3.3.2.GA/hibernate-distribution-3.3.2.GA-dist.tar.gz/download\n\nThis file appears to have at least one path in the documentation directory that is >100 characters long, and extracting it fails the same way as described in comment 2."}, {"count": 5, "tags": [], "bug_id": 47653, "is_private": false, "id": 130977, "attachment_id": null, "creator": "bodewig@apache.org", "creation_time": "2009-10-08T04:55:35Z", "time": "2009-10-08T04:55:35Z", "text": "Thanks!\n\ncommitted in svn revision 823136"}]