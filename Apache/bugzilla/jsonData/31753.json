[{"count": 0, "tags": [], "bug_id": 31753, "attachment_id": null, "text": "I couldn't help noticing the inconsistency in #authenticate(Connection, String, \nString) for JDBCRealm and DataSourceRealm.\n\n- Getting dbCredentials\nJDBCRealm:\n  if (rs.next()) {\n    dbCredentials = rs.getString(1);\n  }\n\nDataSourceRealm:\n  while (rs.next()) {\n    dbCredentials = rs.getString(1);\n  }\n\n- Getting roles\nJDBCRealm:\n  while (rs.next()) {\n    String role = rs.getString(1);\n    if (null!=role) {\n      roleList.add(role.trim());\n    }\n  }\n\nDataSourceRealm:\n  while (rs.next()) {\n    list.add(rs.getString(1).trim());\n  }\n\nI think the JDBCRealm approach is better in both cases.", "id": 65270, "time": "2004-10-18T02:48:42Z", "creator": "shinobu@apache.org", "creation_time": "2004-10-18T02:48:42Z", "is_private": false}, {"count": 1, "tags": [], "creator": "yoavs@computer.org", "text": "OK, fixed.  Thanks for pointing this out.", "id": 66071, "attachment_id": null, "bug_id": 31753, "creation_time": "2004-10-29T13:32:37Z", "time": "2004-10-29T13:32:37Z", "is_private": false}]