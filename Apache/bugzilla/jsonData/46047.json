[{"count": 0, "tags": [], "text": "Created attachment 22760\npatch for ParserController class\n\nWhen we use the include directive inside a tag file like :\n<%@ tag body-content=\"empty\" description=\"Renders a date control to query the creation date of a content object.\" %>\n\n<%@include file=\"/META-INF/tags/search/declaration.tagf\" %>\n\nAnd that this tag file is inside a jar file, jasper has an issue dealing the dependencies by losing the fact that the included file is inside a jar file.\n\nstatic {\n    _jspx_dependants = new java.util.ArrayList(4);\n    _jspx_dependants.add(\"/META-INF/tags/search/declaration.tagf\");\n    _jspx_dependants.add(\"/META-INF/tags/search/date.tagf\");\n    _jspx_dependants.add(\"jar:file:/home/rincevent/tools/apache-tomcat-6.0.18/webapps/jahia/WEB-INF/lib/jahia-taglib-6.0-SNAPSHOT.jar!/META-INF/search.tld\");\n    _jspx_dependants.add(\"jar:file:/home/rincevent/tools/apache-tomcat-6.0.18/webapps/jahia/WEB-INF/lib/jahia-taglib-6.0-SNAPSHOT.jar!/META-INF/tags/search/resultsPageUrl.tag\");\n  }\n\nThe other dependencies are handled correctly thanks to patch https://issues.apache.org/bugzilla/show_bug.cgi?id=43741 .\n\nI propose a patch to ParserController so that when we detect that we are inside a jarFile we prepend the jarFileUrl to absFileName.\n\nThe patch has been made on the trunk source code of tomcat.", "attachment_id": 22760, "bug_id": 46047, "id": 121711, "time": "2008-10-21T02:20:44Z", "creator": "cedric.mailleux@jahia.com", "creation_time": "2008-10-21T02:20:44Z", "is_private": false}, {"count": 1, "tags": [], "text": "This has been applied to trunk and proposed for 6.0.x. Many thanks for the patch.", "attachment_id": null, "bug_id": 46047, "id": 122157, "time": "2008-11-03T14:53:23Z", "creator": "markt@apache.org", "creation_time": "2008-11-03T14:53:23Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 46047, "text": "This has been fixed for 6.0.x and will be included in 6.0.19 onwards.", "id": 122944, "time": "2008-11-30T15:07:07Z", "creator": "markt@apache.org", "creation_time": "2008-11-30T15:07:07Z", "is_private": false, "attachment_id": null}]