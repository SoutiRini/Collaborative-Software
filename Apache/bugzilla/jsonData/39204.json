[{"count": 0, "tags": [], "text": "I have to get a file from the server, but the name has to be encloses by ' \nsymbol, for example: 'foo.txt', but Ant process the file name an eliminates the \ndelimitors. I have tested the ftp action with a file without ' on its name and \nit works.\n\nIt is a problem with the ftp task and not with the fileSet definition, I guess \nbecause I have tried to use the '-symbol on the name for making a copy of the \nfile and it works (see below)\n\nI am sending to you a piece of code in orde to see more clear:\n\n    <target name=\"get-input-files\"\n        description=\"Get the input files from the LRA production machine\"\n        depends=\"get-current-time\"\n        >\n        <echo level=\"verbose\"\n          message= \"Getting file: '${holder.prefix}${current.time}' from \nserver: ${server}\"/>\n        <copy file=\"'borrame.txt'\" tofile=\"'nuevo_borrame.txt'\"/>\n        <ftp action=\"get\"\n            server=\"${server}\"\n            userid=\"${login}\"\n            password=\"${password}\"\n            verbose=\"yes\"\n            binary = \"false\"\n            >\n            <fileset dir=\".\">\n              <include name=\"BORRAME.TXT\"/>\n              <include name=\"'PRVL.JSCHIT.L3BSCHI2.SALIDA.NNBAA.D060404'\"/>\n            </fileset>\n            <!--fileset file=\"'${holder.prefix}${current.time}'\"/-->\n        </ftp>\n    </target>\nand I get the following output in debug mode:\n\nget-input-files:\n     [echo] Getting file: 'PRVL.JSCHIT.L3BSCHI2.SALIDA.NNBAA.D060404' from \nserver: aris.bsch\n     [copy] P:\\LRA\\src\\resource\\'borrame.txt' omitted as \nP:\\LRA\\src\\resource\\'nuevo_borrame.txt' is up to date.\n      [ftp] Opening FTP connection to aris.bsch\n      [ftp] connected\n      [ftp] logging in to FTP server\n      [ftp] login succeeded\n      [ftp] getting files\nCould not load a dependent class (com/sun/media/jai/codec/FileSeekableStream) \nfor type image\nCould not load a dependent class (com/jcraft/jsch/UserInfo) for type sshexec\nCould not load a dependent class (com/jcraft/jsch/UserInfo) for type scp\nCould not load a dependent class (jdepend/xmlui/JDepend) for type jdepend\nfileset: Setup scanner in dir P:\\LRA\\src\\resource with patternSet{ includes: \n[BORRAME.TXT, PRVL.JSCHIT.L3BSCHI2.SALIDA.NNBAA.D060404] excludes: [] }\nfilelist map used in listing files\nfilelist map used in listing files\nfilelist map used in listing files\n      [ftp] transferring BORRAME.TXT to P:\\LRA\\src\\resource\\BORRAME.TXT\n      [ftp] File P:\\LRA\\src\\resource\\BORRAME.TXT copied from aris.bsch\n      [ftp] 1 files retrieved\n      [ftp] disconnecting\n\nBUILD SUCCESSFUL\n\n\nas you can see the file name is changed for the ftp task but not for the copy \ntask. WHY????\n\nPlease let me know if the is any shortcut solution for this problem in the mean \ntime you solve it for the next release.\n\nThanks,\n\nDavid", "attachment_id": null, "id": 87573, "creator": "achepati67@yahoo.es", "time": "2006-04-04T18:24:58Z", "bug_id": 39204, "creation_time": "2006-04-04T18:24:58Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 39204, "attachment_id": null, "id": 116539, "time": "2008-05-12T16:43:38Z", "creator": "lateralcoder@gmail.com", "creation_time": "2008-05-12T16:43:38Z", "is_private": false, "text": "The following message from your report suggests that the bug is (or was) actually in fileset rather than the ftp task:\n\nfileset: Setup scanner in dir P:\\LRA\\src\\resource with patternSet{ includes: \n[BORRAME.TXT, PRVL.JSCHIT.L3BSCHI2.SALIDA.NNBAA.D060404] excludes: [] }\n\nWhen I repeat this test on Ant 1.7, I get the following message:\n\nfileset: Setup scanner in dir C:\\Dev\\ant2 with patternSet{ includes: [BORRAME.TXT, 'PRVL.JSCHIT.L3BSCHI2.SALIDA.NNBAA.D060404'] excludes: [] }\n\nYou'll notice the single quotes are present.\n\nPlease re-test on Ant 1.7 and close if resolved. Downgrading to P3/minor pending response."}, {"count": 2, "tags": [], "bug_id": 39204, "text": "I'll simply assume it has been fixed by more recent versions of Ant and/or commons-net.  Please re-open if I'm wrong.", "id": 118624, "time": "2008-07-14T06:42:39Z", "creator": "bodewig@apache.org", "creation_time": "2008-07-14T06:42:39Z", "is_private": false, "attachment_id": null}]