[{"count": 0, "tags": [], "text": "I found this when trying to get Tomcat 4.1.24 running as a client to Weblogic 8.\n\nWhile running a standard Tomcat distribution with no Security Manager, when the \nWeblogic client classes initialize, they appear to check for a Security \nManager, and if it does not find one, it installs one.\n\nWhen the JasperLoader's contructor initializes, it caches the \nSystem.getSecurityManager() into the local securityManager instance variable.\n\nHowever, later on, it checks to see if System.getSecurityManager() is not null, \nand if true, it then tries to use securityManager. When something like Weblogic \ninstalls its own Security Manager behind the back of the JasperLoader, you get \nan ugly NullPointerException because while System.getSecurityManager() is not \nnull, securityManager IS null.\n\nNow, I do not know the reason why securityManager is cached at all, so whatever \nreasoning is behind that determines how to properly fix the test so that the \nbehavior is consistent. Simple oversight, and a subtle bug.\n\nFor my case, I work around it by creating a permiscuous catalina.policy and \nstarting Tomcat with -security. This seems to prevent Weblogic from loading its \nown.", "attachment_id": null, "id": 41541, "creation_time": "2003-07-25T23:41:02Z", "time": "2003-07-25T23:41:02Z", "creator": "willh@msoft.com", "bug_id": 21901, "is_private": false}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 41547, "time": "2003-07-26T08:12:08Z", "bug_id": 21901, "creation_time": "2003-07-26T08:12:08Z", "is_private": false, "text": "It is stupid to install a security manager from inside a webapp. I recommend\nusing a security manager with AllPermission."}]