[{"count": 0, "tags": [], "text": "The current bootstrap.sh fails when running under qsh on the as400. I think the \ncommand is limited to 256 characters in length.\n\nPlease find below the fix to bootstrap.sh that will work under the qsh on the \n400.\n\n-Steve More\n\n\necho ... Compiling Ant Classes\n\nfor X in `ls ${TOOLS}/bzip2/*.java \\\n        ${TOOLS}/tar/*.java ${TOOLS}/zip/*.java \\\n        ${TOOLS}/ant/util/regexp/RegexpMatcher.java \\\n        ${TOOLS}/ant/util/regexp/RegexpMatcherFactory.java \\\n        ${TOOLS}/ant/types/*.java \\\n        ${TOOLS}/ant/*.java ${TOOLS}/ant/taskdefs/*.java \\\n        ${TOOLS}/ant/taskdefs/compilers/*.java \\\n        ${TOOLS}/ant/taskdefs/condition/*.java`\ndo\n        \"${JAVAC}\" $BOOTJAVAC_OPTS -d ${CLASSDIR} $X \n        ret=$?\n        if [ $ret != 0 ]; then  \n          echo ... Failed compiling Ant classes !\n          exit $ret\n        fi\ndone", "is_private": false, "bug_id": 28101, "id": 54983, "time": "2004-03-31T17:32:07Z", "creator": "smore@empirecorp.org", "creation_time": "2004-03-31T17:32:07Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 28101, "is_private": false, "text": "This looks okay, but if there is a way to detect qsh, I'd rather see something \nlike:\n<pre>\nparallel=true\n\nif some-way-to-determine qsh ; then\n  parallel=false\nfi\n\nsourcefiles=${TOOLS}/bzip2/*.java \\\n            ${TOOLS}/tar/*.java ${TOOLS}/zip/*.java \\\n            ${TOOLS}/ant/util/regexp/RegexpMatcher.java \\\n            ${TOOLS}/ant/util/regexp/RegexpMatcherFactory.java \\\n            ${TOOLS}/ant/types/*.java \\\n            ${TOOLS}/ant/*.java ${TOOLS}/ant/taskdefs/*.java \\\n            ${TOOLS}/ant/taskdefs/compilers/*.java \\\n            ${TOOLS}/ant/taskdefs/condition/*.java\n\nif $parallel ; then\n  ret=0\n  for X in $sourcefiles ; do\n    if [ $ret == 0 ] ; then\n      \"${JAVAC}\" $BOOTJAVAC_OPTS -d ${CLASSDIR} $X \n      ret=$?\n    fi\n  done\nelse\n  \"${JAVAC}\" $BOOTJAVAC_OPTS -d ${CLASSDIR} $X $sourcefiles\n  ret=$?\nfi\n\nif [ $ret != 0 ]; then  \n  echo ... Failed compiling Ant classes !\n  exit $ret\nfi\n</pre>\n\n-just being nitpicky to avoid multiple invocations of the compiler except when \nnecessary.", "id": 55117, "time": "2004-04-01T22:37:11Z", "creator": "mbenson@apache.org", "creation_time": "2004-04-01T22:37:11Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "smore@empirecorp.org", "text": "OK, This should work then:\n\n> echo $0             \n  QSHELL/QZSHSH       ", "id": 55157, "time": "2004-04-02T13:42:41Z", "bug_id": 28101, "creation_time": "2004-04-02T13:42:41Z", "is_private": false, "attachment_id": null}]