[{"count": 0, "tags": [], "bug_id": 56836, "text": "Created attachment 31892\nXML signature support version 1\n\nThis patch adds xml signature support. [1]\n\nMy aim was to workaround, the limitation of the first implementation try [2],\nso basically, to compile it, there's no further library neccessary (-> see HorribleProxy),\nat runtime the bouncy castle jar needs to be in the context class loader.\nThe bc provider is not included in the patch and the (e.g.) bcprov-ext-jdk15on-1.49.jar needs\nto be placed in test-data/xmldsign.\n\nThe work on this patch hasn't been finished yet, as the following issues still exist:\n- the license issues with the eid applet project for non-aslv2-licensed files need be clarified\n- not all tests (e.g. timestamp service and XAdESXL facets haven't been tested at all ...)\n  have been migrated\n- I'd like to have feedback if the HorribleProxy-approach is ok\n- it uses code of #56814, which hasn't been committed yet\n- documentation left for later ...\n\nImplementation notes:\n- Originally I thought I can use the SignatureDocument xmlbean as a baking store, which works with JDK 6.\n  ... but in the end didn't with JDK 7, as it calls the unsupported DOM3 setIdAttribue method\n- The HorribleProxy references classes in the bouncy castle and sun/oracle jdk namespace.\n  I haven't tested it with other JDKs than oracle JDK 6/7. the clean way would be the usage of\n  Apache Santuario or similar\n- I haven't yet understood the canonization process fully. Basically you need to make sure that the\n  input for the digesting is binary equal to what you write to the sig1.xml with the xmlbean.\n  To the check the input/output, my solution was to provide my own implementation of\n  UnsyncBufferedOutputStream and preload it via -Xbootclasspath/p jvm option\n- The logging of the jdk classes is of course JUL-based, so you might want to include the usual suspects\n  i.e. logback-classic/slf4j/jul-to-slf4j/jcl-over-slf4j jars for debugging and use the jvm options\n  -Dorg.apache.poi.util.POILogger=org.apache.poi.util.CommonsLogger\n  -Djava.util.logging.config.file=<path>/logging.properties\n\n[1] http://apache-poi.1045710.n5.nabble.com/Digital-signature-on-MS-Office-documents-td5715238.html\n[2] http://apache-poi.1045710.n5.nabble.com/Recent-additions-to-POI-quot-Added-implementation-of-Digital-Signature-support-quot-td2339353.html", "id": 177047, "time": "2014-08-10T11:33:13Z", "creator": "kiwiwings@apache.org", "creation_time": "2014-08-10T11:33:13Z", "is_private": false, "attachment_id": 31892}, {"count": 1, "tags": [], "creator": "apache@gagravarr.org", "attachment_id": null, "text": "For a patch like this, it might be worth you creating a branch in svn, and working on that. We can merge that into trunk when it's ready, but may make it easier to track and review", "id": 177048, "time": "2014-08-10T11:36:48Z", "bug_id": 56836, "creation_time": "2014-08-10T11:36:48Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 56836, "text": "I've created a branch for this - r1617141", "id": 177057, "time": "2014-08-10T18:29:30Z", "creator": "kiwiwings@apache.org", "creation_time": "2014-08-10T18:29:30Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "text": "Branch merged with r1628348\n\nThe license thread can be found under https://groups.google.com/d/msg/eid-applet/Mnnl2KpdTXE/9fJrHUOl1SMJ", "attachment_id": null, "bug_id": 56836, "id": 178188, "time": "2014-09-30T01:29:08Z", "creator": "kiwiwings@apache.org", "creation_time": "2014-09-30T01:29:08Z", "is_private": false}, {"count": 4, "tags": [], "creator": "kiwiwings@apache.org", "text": "For the time being, I'm resolving this issues now with a bit more documentation - r1632447\n\nFeel free to reopen it, when integration issues arise ... ibm jdk, timestamp or ocsp integration for instance ...", "id": 178525, "attachment_id": null, "bug_id": 56836, "creation_time": "2014-10-16T23:56:05Z", "time": "2014-10-16T23:56:05Z", "is_private": false}]