[{"count": 0, "tags": [], "creator": "pcantrell@mpr.org", "attachment_id": null, "id": 709, "time": "2001-02-15T10:48:40Z", "bug_id": 620, "creation_time": "2001-02-15T10:48:40Z", "is_private": false, "text": "Using the \"inet\" parameter of PoolTcpConnector, it's possible to have multiple\nTomcat workers listening on the same port, but different IP addresses.\n\norg.apache.tomcat.task.StopTomcat doesn't realize this, however -- it defaults\nto localhost.  The result is that if you bing Tomcat to a specific IP, the stop\nscript chokes with \"Connection refused\".\n\nI've fixed this by adding a few lines to StopTomcat.java which read the INET\nproperty of PoolTcpConnector:\n\n89a90\n>  InetAddress host=null;\n97a99\n>        host=(InetAddress) tcpCon.getAttribute(PoolTcpConnector.INET);\n104c106,108\n<  Socket socket = new Socket(\"localhost\", portInt);\n---\n>  if(host == null)\n>     host = InetAddress.getLocalHost();\n>  Socket socket = new Socket(host, portInt);"}, {"count": 1, "tags": [], "creator": "cmanolache@yahoo.com", "is_private": false, "id": 5638, "attachment_id": null, "bug_id": 620, "creation_time": "2001-09-16T21:44:45Z", "time": "2001-09-16T21:44:45Z", "text": "Fixed in 3.3"}]