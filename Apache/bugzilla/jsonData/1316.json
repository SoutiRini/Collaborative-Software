[{"count": 0, "tags": [], "creator": "jcpage@excitehome.net", "attachment_id": null, "is_private": false, "id": 1847, "time": "2001-04-11T13:41:48Z", "bug_id": 1316, "creation_time": "2001-04-11T13:41:48Z", "text": "I have an error page set as:\n<error-page>\n<exception-type>javax.servlet.ServletException</exception-type>\n<location>/command/Error</location>\n</error-page>\n\nIn this case, \"/command/*\" is mapped to a servlet, so \"/Error\" is pathinfo \n(this is done for an app framework that maps actions via pathinfo on a \nsingle 'main' servlet...)\n(from looking at debug logs) if the servlet throws a ServletException, then it \nis correctly mapped by the SimpleMapper to R(/appname + /command + /Error), but \nthen the pathinfo returned via \"req.getpathInfo()\" is still that of the \nORIGINAL URI.\n\nIt looks like the \"fixRequestPaths() method in SimpleMapper1 does this (and I \ndo get a debug log message \"SM: Adjust for prefix map /command /Error\" that \nindicates that code is being called).  So I'm not sure yet why that isn't \nworking...\n\nProbably not related (I'll file another bug), but if I use <error-\ncode>500</error-code> instead of exception-type, a 500 gets send back to the \nuse without ever forwarding to my error page..."}, {"count": 1, "tags": [], "creator": "jcpage@excitehome.net", "text": "Well I found the reason, but looking at it more this really raises a question \nabout the definition form the Spec.\nBasically, when dispatching to a servlet for an error page, does the request \nobject get updated with the correct 'info' for the location?  If the answer is \nno, then disregard this bug...\n", "id": 1849, "time": "2001-04-11T19:03:14Z", "bug_id": 1316, "creation_time": "2001-04-11T19:03:14Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "Error handling may need some enhancements - I'm not sure what's the best way to\ndeal with that. Maybe we should treat error pages as 'includes' ( or forward )?\nIt would make sense. ", "is_private": false, "bug_id": 1316, "id": 4797, "time": "2001-08-24T14:09:23Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-08-24T14:09:23Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "Larry.Isaacs@sas.com", "text": "Reopen to change resolution", "id": 6948, "time": "2001-10-21T17:17:06Z", "bug_id": 1316, "creation_time": "2001-10-21T17:17:06Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "Larry.Isaacs@sas.com", "is_private": false, "text": "In Tomcat 3.3, the request passed to the error handling servlet still\ncarries the original request values too.  We can review this in Tomcat 3.3.1.", "id": 6949, "time": "2001-10-21T17:32:03Z", "bug_id": 1316, "creation_time": "2001-10-21T17:32:03Z", "attachment_id": null}]