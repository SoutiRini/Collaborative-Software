[{"count": 0, "tags": [], "bug_id": 11293, "attachment_id": null, "id": 20422, "time": "2002-07-30T14:48:04Z", "creator": "cwestnea@indiana.edu", "creation_time": "2002-07-30T14:48:04Z", "is_private": false, "text": "The XSLT processor throws a NullPointerError when importing a styeesheet from\nanother stylesheet that is imported from a stylesheet that is being used by\n<x:transform>, but does not throw one from the command line. For example, I have\n3 xsl sheets, page1.xsl, page2.xsl, and page3.xsl. \n\npage1 is like:\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\n<xsl:import href=\"page2.xsl\" />\n\n<xsl:template match=\"/\">\n\t<xsl:call-template name=\"do-something\" />\n</xsl:template>\n</xsl:stylesheet>\n\npage2 is like:\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\n<xsl:import href=\"page3.xsl\" />\n\n<xsl:template name=\"do-something\">\n\t<xsl:call-template name=\"do-another-thing\" />\n</xsl:template>\n</xsl:stylesheet>\n\npage3 is like:\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\n\n<xsl:template name=\"do-another-thing\">\n\tanother thing\n</xsl:template>\n</xsl:stylesheet>\n\nand the jsp is:\n<%@ taglib prefix=\"x\" uri=\"http://java.sun.com/jstl/xml\" %>\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jstl/core\" %>\n\n<c:import url=\"page1.xsl\" var=\"xsl\" />\n<x:transform xslt=\"${xsl}\">\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<doc>\n\t<test>test</test>\n</doc>\n</x:transform>\n\nThe result is:\njavax.servlet.ServletException:\njavax.xml.transform.TransformerConfigurationException:\njavax.xml.transform.TransformerException: java.lang.NullPointerException\n\tat\norg.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:490)\n\tat org.apache.jsp.test2$jsp._jspService(test2$jsp.java:114)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:136)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n...\netc\n\nif I change page2 to be:\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\n<!-- xsl:import href=\"page3.xsl\" / -->\n\n<xsl:template name=\"do-something\">\n\t<xsl:call-template name=\"do-another-thing\" />\n</xsl:template>\n\n<xsl:template name=\"do-another-thing\">\n\tanother thing\n</xsl:template>\n</xsl:stylesheet>\n\nit works."}, {"count": 1, "tags": [], "text": "It's not absolutely clear to me that this is a bug against the JSTL 1.0 \nspecification, but in the interest of what seems like appropriate \nfunctionality, I have adjusted the RI code to allow your examples to work.  \nThanks for the report.", "attachment_id": null, "id": 20429, "creator": "bayern@essentially.net", "time": "2002-07-30T15:16:56Z", "bug_id": 11293, "creation_time": "2002-07-30T15:16:56Z", "is_private": false}]