[{"count": 0, "tags": [], "text": "The implementation of PageContextImpl.include, which is used by the jsp\ndirective 'include', completely breaks the spec.  According to the specification\n(section 4.4), the default of the 'autoflush' attribute should be 'false'.  Not\nonly is the default set to 'true', but it's hard-coded in.. there's no way to\nswitch it.\n\nThis is also the case for the jasper codebase in Tomcat.", "attachment_id": null, "id": 14030, "creator": "aah@acm.org", "time": "2002-04-18T23:22:20Z", "bug_id": 8285, "creation_time": "2002-04-18T23:22:20Z", "is_private": false}, {"count": 1, "tags": [], "creator": "kin-man.chung@sun.com", "attachment_id": null, "id": 14070, "creation_time": "2002-04-19T17:49:50Z", "time": "2002-04-19T17:49:50Z", "bug_id": 8285, "text": "PageContextImpl.include is an implementation of PageContext.include.  According\nto javadoc comment for javax.servlet.jsp.PageContext.include,\n\n    /**\n     * <p>\n     * Causes the resource specified to be processed as part of the current\n     * ServletRequest and ServletResponse being processed by the calling Thread.\n     * The output of the target resources processing of the request is written\n     * directly to the ServletResponse output stream.\n     * </p>\n     * <p>\n     * The current JspWriter \"out\" for this JSP is flushed as a side-effect\n     * of this call, prior to processing the include.\n     * </p>\n\nso clearly, invoking PageContextImpl.include should do a flush.\n\nNow the default value of \"flush\" for a JSP include action **IS** false, but then\nthe code that is generated from an include action does not call\nPageContextImpl.include but calls JspRuntimeLibrary.include, and there the value\nfor flush is correctly set, and the default value of flush is also passed\ncorrectly.\n\nDo you have a test case that is behaving otherwise?\n\n", "is_private": false}, {"count": 2, "tags": [], "creator": "aah@acm.org", "attachment_id": null, "id": 14122, "creation_time": "2002-04-20T01:20:26Z", "time": "2002-04-20T01:20:26Z", "bug_id": 8285, "text": "This was my bad, I apologize.  I misread the spec, and believed that\nPageContext.include() was the necessary handler for all includes;  I elided the\ndifference between the include directive and the jsp:include action.", "is_private": false}]