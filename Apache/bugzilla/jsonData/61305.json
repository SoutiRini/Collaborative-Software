[{"count": 0, "tags": [], "text": "Hello everyone.\nI was analyzing the modularization of some classes, and I identified that the class Project has an opportunity for cohesion improvement. \nThe class BaseResourceCollectionWrapper was in the same situation and the problem was solved as follows: The AbstractResourceCollectionWrapper class was created, and several get() and set() methods that were used only to configure the class parameters were moved from BaseResourceCollectionWrapper to AbstractResourceCollectionWrapper. \nThe new class was then accessed through an instance variable in BaseResourceCollectionWrapper. This strategy has cleaned and improved BaseResourceCollectionWrapper cohesion.\nWith this in mind, I would recommend creating a new class: ProjectConfig , and moving the following methods:\n\nsetPropertyInternal\nsetInheritedProperty\ngetUserProperty\ngetCopyOfDataTypeDefinitions\nsetKeepGoingMode\ngetProject\nsetJavaVersionProperty\nsetInputHandler\ngetName\ngetProperties\nsetSystemProperties\ngetProperty\ngetCopyOfTargets\ngetExecutor\nsetName\ngetDescription\ngetCoreLoader\ngetFilters\ngetResource\ngetCopyOfReferences\nsetUserProperty\nsetProjectReference\nsetDefaultInputStream\ngetCopyOfTaskDefinitions\ngetReferences\nsetExecutor\ngetDataTypeDefinitions\nsetCoreLoader\ngetJavaVersion\nsetNewProperty\ngetElementName\nsetFileLastModified\ngetInheritedProperties\ngetBuildListeners\ngetThreadTask\nsetBasedir\ngetUserProperties\ngetGlobalFilterSet\ngetDefaultInputStream\ngetTargets\ngetBaseDir\nsetAntLib\nsetDescription\nsetDefaultTarget\nsetProperty\nsetDefault\ngetReference\ngetTaskDefinitions\ngetDefaultTarget\ngetInputHandler\n\nfrom the Project.\nThose parameters accessed by an instance variable in the Project.\nMoreover, the orthogonality is the design would be enhanced.\n\nWhat do you think about that?", "attachment_id": null, "bug_id": 61305, "id": 199810, "time": "2017-07-15T22:17:03Z", "creator": "lemesmachado@gmail.com", "creation_time": "2017-07-15T22:17:03Z", "is_private": false}, {"count": 1, "tags": [], "text": "I'm sure your changes would improve the quality of the Project class but at the same time it scares me.\n\nProject is a central class and we know there exist subclasses that are out of our control. AFAIK the components that integrate Ant into IDEs use subclasses of Project.\n\nWe don't really know what those subclasses do. As long as they only override some methods your refactoring wouldn't break them, but they may rely upon a certain method calling another method, for example.\n\nSometime last year I made an attribute final and promptly broke Eclipse's Ant integration - see bug 60582\n\nI guess what I'm trying to say is be extra careful with this class and ensure the refactoring doesn't break any assumption anybody who knows the current code may have about the inner workings of the class. In the end this may mean you can't make all the changes that would improve the code.", "is_private": false, "id": 199813, "creator": "bodewig@apache.org", "time": "2017-07-16T08:40:31Z", "bug_id": 61305, "creation_time": "2017-07-16T08:40:31Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 61305, "text": "Hi Stefan, thanks for the comment. I've also found refactoring opportunities in other classes. Would you mind if I created other issues to discuss about them?\nThe recommendation will be very similar, changing the list of methods and class names.", "id": 199820, "time": "2017-07-16T13:44:00Z", "creator": "lemesmachado@gmail.com", "creation_time": "2017-07-16T13:44:00Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 61305, "text": "Many, many thanks for your interest.\n\nActually, I'd rather invite you over to the dev mailing list and discuss the opportunities there rather than inside the issue tracker. Once we've agreed on what would be good candidates to refactor, opening issues for each candidate would be fine.", "count": 3, "id": 199833, "time": "2017-07-16T15:24:52Z", "creator": "bodewig@apache.org", "creation_time": "2017-07-16T15:24:52Z", "is_private": false}, {"count": 4, "tags": [], "creator": "lemesmachado@gmail.com", "attachment_id": null, "id": 199840, "time": "2017-07-16T22:02:42Z", "bug_id": 61305, "creation_time": "2017-07-16T22:02:42Z", "is_private": false, "text": "\nI totally agree. Discuss the refactoring opportunities would be great. Thank you."}, {"attachment_id": null, "tags": [], "bug_id": 61305, "text": "Hi Stefan, I send the list of opportunities to the dev mailing list. Can you tell me if it was received?", "count": 5, "id": 199887, "time": "2017-07-20T10:20:45Z", "creator": "lemesmachado@gmail.com", "creation_time": "2017-07-20T10:20:45Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 61305, "attachment_id": null, "id": 199888, "time": "2017-07-20T10:39:26Z", "creator": "bodewig@apache.org", "creation_time": "2017-07-20T10:39:26Z", "is_private": false, "text": "yes, it has been received. But you really should subscribe to the dev list or you might miss responses."}, {"count": 7, "tags": [], "bug_id": 61305, "attachment_id": null, "id": 199889, "time": "2017-07-20T11:03:26Z", "creator": "lemesmachado@gmail.com", "creation_time": "2017-07-20T11:03:26Z", "is_private": false, "text": "Thank you Stefan, I already subscribed."}]