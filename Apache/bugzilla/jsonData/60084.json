[{"count": 0, "tags": [], "creator": "stuart.barlow@gmail.com", "attachment_id": 34199, "text": "Created attachment 34199\nSimple test plan with HTTPRequest configured to download embedded resources\n\nHi all.\n\nI'm migrating all of my tests to JMeter 3.0 and found some \nthat worked fine with earlier versions now fail with 3.0. The \nproblem is with HTTP Request embedded resources. I'm using Java 1.7.0_45\n\nA HTTP Request is configured to download all embedded resources but if \na resource contains some special characters (like '+'), they are \nautomatically encoded before being downloaded. This breaks the test.\n\nFor example, if the parent HTML contains something like this:\n\n<img alt=\"Captcha\" class=\"captcha-image\" width=\"100\" height=\"50\" \nsrc=\"/IqGo6EM1JEVZ+MSRJqUSo@qhjVMSFBTs/37/0/1\"/>\n\nThe + is encoded as %20 and is then unreachable. A HTTP 500 is returned \ninstead of the expected content.\n\nIs there a configuration parameter to control this? Or is this a bug?\n\nI have attached a very simple .jmx file to allow you to easily reproduce the problem. You'll also need to create and deploy a HTML containing the above markup to your web server of choice.\n\nBug 58137 seems like a close match. Did the fix to this bug create the issue I am now seeing? \n\nThank you!\n\nStuart", "id": 193489, "time": "2016-09-05T10:06:38Z", "bug_id": 60084, "creation_time": "2016-09-05T10:06:38Z", "is_private": false}, {"count": 1, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "Hi,\nThanks for opening the bug and providing test case.\nI'll try to analyze it asap this week.\n\nRegards", "id": 193541, "time": "2016-09-07T11:52:25Z", "bug_id": 60084, "creation_time": "2016-09-07T11:52:25Z", "is_private": false}, {"count": 2, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "Hello,\nYour issue is due to fix of Bug 58137.\nIt appears an url containing + is valid, our processing to escapeIllegal leads to the change from + to %20.\n\n\nI think we should switch this part of code to use :\nhttps://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/UrlValidator.html\n\n\nBut anyway I tested using org.apache.commons.validator.routines.UrlValidator#isValid and your URL appears no to be.\nI asked a question on commons user mailing list.\n\"Question about URLValidator#isValid\"\n\nOnce I get an answer we'll see what to do.\nRegards", "id": 193617, "time": "2016-09-10T14:52:16Z", "bug_id": 60084, "creation_time": "2016-09-10T14:52:16Z", "is_private": false}, {"count": 3, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": 34230, "text": "Created attachment 34230\nPatch proposal to fix issue", "id": 193622, "time": "2016-09-10T22:05:29Z", "bug_id": 60084, "creation_time": "2016-09-10T22:05:29Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 60084, "attachment_id": null, "id": 193634, "time": "2016-09-11T13:39:57Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-09-11T13:39:57Z", "is_private": false, "text": "Author: pmouawad\nDate: Sun Sep 11 13:39:13 2016\nNew Revision: 1760249\n\nURL: http://svn.apache.org/viewvc?rev=1760249&view=rev\nLog:\nBug 60084 - JMeter 3.0 embedded resource URL is silently encoded\nBugzilla Id: 60084\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSamplerBase.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/util/TestHTTPUtils.java\n    jmeter/trunk/xdocs/changes.xml"}, {"count": 5, "tags": [], "creator": "stuart.barlow@gmail.com", "attachment_id": null, "text": "Those updates fixed the problem. \nThank you Philippe.", "id": 193648, "time": "2016-09-12T14:27:30Z", "bug_id": 60084, "creation_time": "2016-09-12T14:27:30Z", "is_private": false}]