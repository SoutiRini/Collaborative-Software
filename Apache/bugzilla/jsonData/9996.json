[{"count": 0, "tags": [], "creator": "anonpermutation@hotmail.com", "attachment_id": null, "id": 18062, "time": "2002-06-19T12:24:10Z", "bug_id": 9996, "creation_time": "2002-06-19T12:24:10Z", "is_private": false, "text": "both <jsp:include> and <@%include> break when the included page contains non-\nascii encoding.  I have logged bug#9993 against <jsp:include>. This one is for \n<@%include>.  Consider the following examples:\n\n\nhead.jsp ==>\n<%@ page contentType=\"text/html\" pageEncoding=\"Big5\"%>\n<html>\n<body>\n<p>helloworld</p>\n<%@include file=\"tail.jsp\"%>\n</body>\n</html>\n\ntail.jsp ==>\n<%! static int ii = 0;%>\n<p>\n<% out.println(\"tail begins 2\\n\"); %>\n\u2014\u00fc\u008d\u2021\u2019\u00ca\u0090u\u017d\u00d0\u0160\u00bf\u008f\u00e9 \n<% out.println(\"tail ends\\n\"); ii++;%>\n</p>\n\n<p> <%=ii%> </p>\n\nThe resultant page produced by accessing head.jsp shows broken chinese \ncharacters that were in tail.jsp\n\nHowever, if I remove the (pageEncoding=\"Big5\") parameter from head.jsp, \neverything will work fine.  Likewise, if I wrote \n<%@ page contentType=\"text/html;charset=Big5\"%> in head.jsp instead, \neverything works fine.  Coupled with bug9993, this bug pretty much prevents us \nfrom using tomcat to build a professional chinese website...\n\nMy installation is running on Chinese Big5 WinXP.\n\nThanks."}, {"count": 1, "tags": [], "creator": "anonpermutation@hotmail.com", "attachment_id": null, "is_private": false, "id": 18065, "time": "2002-06-19T12:30:41Z", "bug_id": 9996, "creation_time": "2002-06-19T12:30:41Z", "text": "I can't attach tail.jsp to the bug for some reason.  please let me know if you \nwant me to email you the file.  think bugzilla screwed up the encoding on the \nbug descriptions."}, {"count": 2, "tags": [], "text": "The problem is not in the <@%include%> directive, but in the setting of default\ncharset.  The rules are specified in the errata a:\n\nhttp://jcp.org/aboutJava/communityprocess/maintenance/jsr053/errata_1\n_2_a_20020321.html\n\nIn particular, if a contentType is specified but it does not contain a charset,\nthen the charset should use pageEncoding, if specified.\n\nFixed in jasper 2.", "attachment_id": null, "bug_id": 9996, "id": 18265, "time": "2002-06-20T23:55:36Z", "creator": "kin-man.chung@sun.com", "creation_time": "2002-06-20T23:55:36Z", "is_private": false}]