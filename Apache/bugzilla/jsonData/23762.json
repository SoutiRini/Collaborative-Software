[{"count": 0, "tags": [], "bug_id": 23762, "attachment_id": null, "id": 45475, "time": "2003-10-13T08:44:12Z", "creator": "apache.org@schildbach.de", "creation_time": "2003-10-13T08:44:12Z", "is_private": false, "text": "When trying to start a web application mounted at root context with the HTML\nmanager, I get the following message:\n\nFAIL - Application at context path / could not be started\n\nProblem 1: This message is not contained in the documentation of the HTML manager.\n\nProblem 2: I can't imagine why this bug is happening. Attached to this report,\nyou find the host element of server.xml (some names replaced by xxx) and the\nLogfile. My web application lives in /var/lib/tomcat4/webapp-xxx/xxx/.\n\nRegards,\n\nAndreas Schildbach\n\n---\n\n<Host name=\"xxx.com\" appBase=\"/var/lib/tomcat4/webapp-xxx\"\n  unpackWARs=\"false\" autoDeploy=\"false\" liveDeploy=\"false\" deployXML=\"false\">\n\n  <Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\"\n    prefix=\"xxx_access_log.\" suffix=\".txt\" pattern=\"common\"/>\n\n  <Logger className=\"org.apache.catalina.logger.FileLogger\"                    \n                directory=\"logs\" \n    prefix=\"xxx_log.\" suffix=\".txt\" timestamp=\"true\"/>\n\n  <Context path=\"\" docBase=\"xxx\" debug=\"0\"/>\n\n  <Context path=\"/manager\" privileged=\"true\"\n    docBase=\"/usr/share/tomcat4/server/webapps/manager\">\n    <Realm className=\"org.apache.catalina.realm.MemoryRealm\"\n      pathname=\"/var/lib/tomcat4/webapp-xxx/users.xml\"/>\n  </Context>\n\n</Host>\n\n2003-10-13 10:17:56 HTMLManager: init\n2003-10-13 10:17:56 HTMLManager: init: Associated with Deployer 'xxx.com'\n2003-10-13 10:17:56 HTMLManager: init: Global resources are available\n2003-10-13 10:17:56 HTMLManager: list: Listing contexts for virtual host 'xxx.com'\n2003-10-13 10:18:42 HTMLManager: start: Starting web application at '/'\n2003-10-13 10:18:42 StandardHost[xxx.com]: standardHost.start \n2003-10-13 10:18:42 StandardContext[]: Resources start failed:\njava.lang.IllegalArgumentException: Doc base must point to a WAR file\n        at\norg.apache.naming.resources.WARDirContext.setDocBase(WARDirContext.java:180)\n        at\norg.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:3342)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:3472)\n        at\norg.apache.catalina.core.StandardHostDeployer.start(StandardHostDeployer.java:629)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:897)\n        at\norg.apache.catalina.servlets.ManagerServlet.start(ManagerServlet.java:1105)\n        at\norg.apache.catalina.servlets.HTMLManagerServlet.start(HTMLManagerServlet.java:555)\n        at\norg.apache.catalina.servlets.HTMLManagerServlet.doGet(HTMLManagerServlet.java:157)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n        at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:551)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n        at\norg.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at\norg.apache.catalina.core.StandardContext.invoke(StandardContext.java:2415)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n        at\norg.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:172)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:509)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:223)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:594)\n        at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:392)\n        at\norg.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:565)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:619)\n        at java.lang.Thread.run(Thread.java:534)\n\n2003-10-13 10:18:42 StandardContext[]: Context startup failed due to previous errors\n2003-10-13 10:18:42 StandardContext[]: Exception during cleanup after start failed\nLifecycleException:  Container StandardContext[] has not been started\n        at org.apache.catalina.core.StandardContext.stop(StandardContext.java:3643)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:3621)\n        at\norg.apache.catalina.core.StandardHostDeployer.start(StandardHostDeployer.java:629)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:897)\n        at\norg.apache.catalina.servlets.ManagerServlet.start(ManagerServlet.java:1105)\n        at\norg.apache.catalina.servlets.HTMLManagerServlet.start(HTMLManagerServlet.java:555)\n        at\norg.apache.catalina.servlets.HTMLManagerServlet.doGet(HTMLManagerServlet.java:157)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n        at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:551)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n        at\norg.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at\norg.apache.catalina.core.StandardContext.invoke(StandardContext.java:2415)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n        at\norg.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n        at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:172)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:509)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:223)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:594)\n        at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:392)\n        at\norg.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:565)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:619)\n        at java.lang.Thread.run(Thread.java:534)"}, {"count": 1, "attachment_id": null, "bug_id": 23762, "text": "I can't reproduce the problem on my machine but the exception is thrown if any \nof the following are true:\n- the xxx.war file specified in docBase does not exist\n- the xxx.war file can not be read (is it a file permission problem?)\n- xxx.war is actually a directory\n\nAre any of these true? For now I am going to resolve this.", "id": 50770, "time": "2004-01-19T19:58:43Z", "creator": "markt@apache.org", "creation_time": "2004-01-19T19:58:43Z", "tags": [], "is_private": false}]