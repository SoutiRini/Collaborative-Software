[{"count": 0, "tags": [], "bug_id": 31227, "attachment_id": null, "id": 63545, "time": "2004-09-14T20:36:11Z", "creator": "jblayer@graphtronics.net", "creation_time": "2004-09-14T20:36:11Z", "is_private": false, "text": "The org.apache.tomcat.util.threads.ThreadPool.adjustLimits() method denies a\n\"maxProcessors\" (maxThreads) value less than that established by the (class\nprivate) constant MAX_THREADS_MIN variable. MAX_THREADS_MIN is hardwired to a\nvalue of 10. The adjustLimits() method therefore forces a minimum of 10 threads,\nproviding servicing of up to 9 concurrent connections.\n\nThis is problematic in some deployment scenarios where support for a very\nlimited number of concurrent connections is desired due to resource and/or other\nlimitations. While all of the other \"sanity\" checks and corresponding value\nadjustments in the adjustLimits() method appear reasonable, the MAX_THREADS_MIN\nvalue seems simply arbitrary.\n\nI have tested a ThreadPool variant with MAX_THREADS_MIN = 2 and managed to run\nTomcat V4.1.30 configured to service a single connection with no apparent ill\neffects (beyond the occasional warning message).\n\nIMHO, the MAX_THREADS_MIN value should be set to 2."}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 63550, "time": "2004-09-14T22:32:45Z", "bug_id": 31227, "creation_time": "2004-09-14T22:32:45Z", "is_private": false, "text": "This was discussed some time ago on the dev list (see \nhttp://marc.theaimsgroup.com/?l=tomcat-dev&m=106767463421462&w=2). The minimum \nvalue of 10 was reached after some discussion. On this basis, I am going to \nmark this as WONTFIX."}]