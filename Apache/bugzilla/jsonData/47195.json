[{"count": 0, "tags": [], "creator": "thomas.paumier@digitech-sa.ch", "is_private": false, "id": 127007, "creation_time": "2009-05-14T03:48:53Z", "time": "2009-05-14T03:48:53Z", "bug_id": 47195, "text": "On one of our installations, we're using Apache Tomcat 6.0.14, with the JVM 1.5.0_11, om a 64 bits platform with windows server 2003.\n\nTomcat run as a windows service. The service wa running from several months without problems. But since some days, the service crashes.\n\nThere is not additional infor\u00e9ations about theses carshes on Tomcat logs files. \n\nThere is below the JVM log file :\n#\n# An unexpected error has been detected by HotSpot Virtual Machine:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x7d623705, pid=4416, tid=4148\n#\n# Java VM: Java HotSpot(TM) Server VM (1.5.0_11-b03 mixed mode)\n# Problematic frame:\n# C  [ntdll.dll+0x23705]\n#\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x18ee1618):  JavaThread \"http-9090-9\" daemon [_thread_in_native, id=4148]\n\nsiginfo: ExceptionCode=0xc0000005, writing address 0x7269412f\n\nRegisters:\nEAX=0x18629008, EBX=0x00000401, ECX=0x7269412f, EDX=0x18104440\nESP=0x1cf8edec, EBP=0x1cf8ee04, ESI=0x18629000, EDI=0x00870000\nEIP=0x7d623705, EFLAGS=0x00010297\n\nTop of Stack: (sp=0x1cf8edec)\n0x1cf8edec:   18629000 18629000 00870000 18610000\n0x1cf8edfc:   18610000 03070000 1cf8ee4c 7d628f6b\n0x1cf8ee0c:   00000401 01629000 00000401 00870000\n0x1cf8ee1c:   18629000 00000000 00001008 1862a000\n0x1cf8ee2c:   17b4b188 18610000 00000000 00000000\n0x1cf8ee3c:   18628fe8 00000000 00000000 00000201\n0x1cf8ee4c:   1cf8ef30 7d628e04 18629000 00001000\n0x1cf8ee5c:   00000401 000002b0 18629008 00002000 \n\nInstructions: (pc=0x7d623705)\n0x7d6236f5:   00 00 8b d0 8b 4a 04 8d 46 08 89 10 89 48 04 56\n0x7d623705:   89 01 57 89 42 04 e8 00 c2 ff ff 89 5d 08 0f b7 \n\n\nStack: [0x1cf50000,0x1cf90000),  sp=0x1cf8edec,  free space=251k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [ntdll.dll+0x23705]\nC  [ntdll.dll+0x28f6b]\nC  [ntdll.dll+0x28e04]\nC  [MSVCRT.dll+0x1cef6]\nC  [net.dll+0x6a86]\nj  java.net.SocketInputStream.socketRead0(Ljava/io/FileDescriptor;[BIII)I+0\nj  java.net.SocketInputStream.read([BII)I+84\nj  org.apache.coyote.http11.InternalInputBuffer.fill()Z+59\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  java.net.SocketInputStream.socketRead0(Ljava/io/FileDescriptor;[BIII)I+0\nj  java.net.SocketInputStream.read([BII)I+84\nj  org.apache.coyote.http11.InternalInputBuffer.fill()Z+59\nv  ~C2IAdapter\nJ  org.apache.coyote.http11.InternalInputBuffer.parseRequestLine()V\nJ  org.apache.coyote.http11.Http11Processor.process(Ljava/net/Socket;)V\nv  ~I2CAdapter\nj  org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Ljava/net/Socket;)Z+82\nj  org.apache.tomcat.util.net.JIoEndpoint$Worker.run()V+41\nj  java.lang.Thread.run()V+11\nv  ~StubRoutines::call_stub\n\n---------------  P R O C E S S  ---------------\n\nJava Threads: ( => current thread )\n=>0x18ee1618 JavaThread \"http-9090-9\" daemon [_thread_in_native, id=4148]\n  0x189fe710 JavaThread \"http-9090-8\" daemon [_thread_blocked, id=5060]\n  0x18740710 JavaThread \"http-9090-7\" daemon [_thread_blocked, id=2248]\n  0x18fa0e38 JavaThread \"http-9090-6\" daemon [_thread_blocked, id=4464]\n  0x18e21e68 JavaThread \"http-9090-5\" daemon [_thread_blocked, id=5480]\n  0x189d7da8 JavaThread \"http-9090-4\" daemon [_thread_blocked, id=4460]\n  0x18d1c938 JavaThread \"http-9090-3\" daemon [_thread_blocked, id=4704]\n  0x18dde560 JavaThread \"Java2D Disposer\" daemon [_thread_blocked, id=1548]\n  0x19540050 JavaThread \"http-9090-2\" daemon [_thread_blocked, id=3800]\n  0x18d79b40 JavaThread \"http-9090-1\" daemon [_thread_blocked, id=3864]\n  0x193f4d78 JavaThread \"TP-Monitor\" daemon [_thread_blocked, id=2172]\n  0x19e41e48 JavaThread \"TP-Processor4\" daemon [_thread_in_native, id=3488]\n  0x186bdd28 JavaThread \"TP-Processor3\" daemon [_thread_blocked, id=5328]\n  0x18f98bf8 JavaThread \"TP-Processor2\" daemon [_thread_blocked, id=500]\n  0x189de220 JavaThread \"TP-Processor1\" daemon [_thread_blocked, id=5384]\n  0x18e32948 JavaThread \"http-9090-Acceptor-0\" daemon [_thread_in_native, id=5000]\n  0x1a0da008 JavaThread \"ContainerBackgroundProcessor[StandardEngine[Catalina]]\" daemon [_thread_blocked, id=2948]\n  0x18dfd258 JavaThread \"Thread-3\" daemon [_thread_in_native, id=1400]\n  0x19204e30 JavaThread \"Thread-2\" daemon [_thread_blocked, id=3480]\n  0x181130e8 JavaThread \"Thread-1\" [_thread_in_native, id=4036]\n  0x180adb40 JavaThread \"Low Memory Detector\" daemon [_thread_blocked, id=2696]\n  0x180ac830 JavaThread \"CompilerThread1\" daemon [_thread_blocked, id=3044]\n  0x00bff9a8 JavaThread \"CompilerThread0\" daemon [_thread_blocked, id=472]\n  0x00bfeaa8 JavaThread \"AdapterThread\" daemon [_thread_blocked, id=2504]\n  0x00bfded0 JavaThread \"Signal Dispatcher\" daemon [_thread_blocked, id=3304]\n  0x180a8850 JavaThread \"Finalizer\" daemon [_thread_blocked, id=5424]\n  0x180a8528 JavaThread \"Reference Handler\" daemon [_thread_blocked, id=4516]\n  0x00875d28 JavaThread \"main\" [_thread_in_native, id=3016]\n\nOther Threads:\n  0x00bf61c8 VMThread [id=1868]\n  0x180aef60 WatcherThread [id=6076]\n\nVM state:not at safepoint (normal execution)\n\nVM Mutex/Monitor currently owned by a thread: None\n\nHeap\n PSYoungGen      total 25536K, used 24394K [0x16420000, 0x17ed0000, 0x18090000)\n  eden space 24256K, 97% used [0x16420000,0x17b568c8,0x17bd0000)\n  from space 1280K, 48% used [0x17d90000,0x17e2c010,0x17ed0000)\n  to   space 1536K, 0% used [0x17bd0000,0x17bd0000,0x17d50000)\n PSOldGen        total 152896K, used 96635K [0x08090000, 0x115e0000, 0x16420000)\n  object space 152896K, 63% used [0x08090000,0x0deeec58,0x115e0000)\n PSPermGen       total 56320K, used 37262K [0x04090000, 0x07790000, 0x08090000)\n  object space 56320K, 66% used [0x04090000,0x064f3898,0x07790000)\n\nDynamic libraries:\n0x00400000 - 0x0040f000 \tD:\\AIRS3DOSSIER\\apache-tomcat-6.0.14\\bin\\tomcat6.exe\n0x7d600000 - 0x7d6f0000 \tC:\\WINDOWS\\system32\\ntdll.dll\n0x7d4c0000 - 0x7d5f0000 \tC:\\WINDOWS\\syswow64\\kernel32.dll\n0x7d930000 - 0x7da00000 \tC:\\WINDOWS\\syswow64\\USER32.dll\n0x7d800000 - 0x7d890000 \tC:\\WINDOWS\\syswow64\\GDI32.dll\n0x00330000 - 0x003cb000 \tC:\\WINDOWS\\syswow64\\ADVAPI32.dll\n0x7da20000 - 0x7db00000 \tC:\\WINDOWS\\syswow64\\RPCRT4.dll\n0x7d8d0000 - 0x7d920000 \tC:\\WINDOWS\\syswow64\\Secur32.dll\n0x77ba0000 - 0x77bfa000 \tC:\\WINDOWS\\syswow64\\MSVCRT.dll\n0x7c8d0000 - 0x7d0cf000 \tC:\\WINDOWS\\syswow64\\SHELL32.dll\n0x00410000 - 0x00462000 \tC:\\WINDOWS\\syswow64\\SHLWAPI.dll\n0x7dee0000 - 0x7df40000 \tC:\\WINDOWS\\system32\\IMM32.DLL\n0x7dbc0000 - 0x7dbc9000 \tC:\\WINDOWS\\system32\\LPK.DLL\n0x75490000 - 0x754f5000 \tC:\\WINDOWS\\system32\\USP10.dll\n0x7dbd0000 - 0x7dcd3000 \tC:\\WINDOWS\\WinSxS\\WOW64_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.3790.3959_x-ww_5FA17F4E\\comctl32.dll\n0x6d8e0000 - 0x6dc85000 \tC:\\java\\jdk1.5.0_11\\jre\\bin\\server\\jvm.dll\n0x76aa0000 - 0x76acd000 \tC:\\WINDOWS\\system32\\WINMM.dll\n0x6d300000 - 0x6d308000 \tC:\\java\\jdk1.5.0_11\\jre\\bin\\hpi.dll\n0x76b70000 - 0x76b7b000 \tC:\\WINDOWS\\system32\\PSAPI.DLL\n0x6d710000 - 0x6d71c000 \tC:\\java\\jdk1.5.0_11\\jre\\bin\\verify.dll\n0x6d380000 - 0x6d39d000 \tC:\\java\\jdk1.5.0_11\\jre\\bin\\java.dll\n0x6d730000 - 0x6d73f000 \tC:\\java\\jdk1.5.0_11\\jre\\bin\\zip.dll\n0x6d540000 - 0x6d553000 \tC:\\Java\\jdk1.5.0_11\\jre\\bin\\net.dll\n0x71c00000 - 0x71c17000 \tC:\\WINDOWS\\system32\\WS2_32.dll\n0x71bf0000 - 0x71bf8000 \tC:\\WINDOWS\\system32\\WS2HELP.dll\n0x7db30000 - 0x7dbb0000 \tC:\\WINDOWS\\system32\\mswsock.dll\n0x77670000 - 0x777a9000 \tC:\\WINDOWS\\syswow64\\ole32.dll\n0x5f270000 - 0x5f2ca000 \tC:\\WINDOWS\\system32\\hnetcfg.dll\n0x71ae0000 - 0x71ae8000 \tC:\\WINDOWS\\System32\\wshtcpip.dll\n0x6d200000 - 0x6d22f000 \tC:\\Java\\jdk1.5.0_11\\jre\\bin\\cmm.dll\n0x6d440000 - 0x6d45f000 \tC:\\Java\\jdk1.5.0_11\\jre\\bin\\jpeg.dll\n0x6d070000 - 0x6d1da000 \tC:\\Java\\jdk1.5.0_11\\jre\\bin\\awt.dll\n0x73070000 - 0x73097000 \tC:\\WINDOWS\\system32\\WINSPOOL.DRV\n0x76ed0000 - 0x76efa000 \tC:\\WINDOWS\\system32\\DNSAPI.dll\n0x76f70000 - 0x76f77000 \tC:\\WINDOWS\\System32\\winrnr.dll\n0x76f10000 - 0x76f3e000 \tC:\\WINDOWS\\syswow64\\WLDAP32.dll\n0x76f80000 - 0x76f85000 \tC:\\WINDOWS\\system32\\rasadhlp.dll\n0x73860000 - 0x738ac000 \tC:\\WINDOWS\\system32\\ddraw.dll\n0x73b30000 - 0x73b36000 \tC:\\WINDOWS\\system32\\DCIMAN32.dll\n0x6d2b0000 - 0x6d300000 \tC:\\Java\\jdk1.5.0_11\\jre\\bin\\fontmanager.dll\n0x6d230000 - 0x6d253000 \tC:\\Java\\jdk1.5.0_11\\jre\\bin\\dcpr.dll\n\nVM Arguments:\njvm_args: -Dcatalina.base=D:\\AIRS3DOSSIER\\apache-tomcat-6.0.14 -Dcatalina.home=D:\\AIRS3DOSSIER\\apache-tomcat-6.0.14 -Djava.endorsed.dirs=D:\\AIRS3DOSSIER\\apache-tomcat-6.0.14\\endorsed -Djava.io.tmpdir=D:\\AIRS3DOSSIER\\apache-tomcat-6.0.14\\temp vfprintf -Xms128m -Xmx256m\njava_command: <unknown>\nLauncher Type: generic\n\nEnvironment Variables:\nJAVA_HOME=C:\\java\\jdk1.5.0_11\nJRE_HOME=c:\\java\\jdk1.5.0_11\\jre\nPATH=C:\\PROGRA~2\\CA\\SHARED~1\\Etpki\\lib;C:\\PROGRA~1\\CA\\SHARED~1\\Etpki\\lib;D:\\oracle\\product\\10.2.0\\db_1\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\PROGRA~1\\CA\\SHARED~1\\SCANEN~1\nOS=Windows_NT\nPROCESSOR_IDENTIFIER=EM64T Family 6 Model 23 Stepping 10, GenuineIntel\n\n\n\n---------------  S Y S T E M  ---------------\n\nOS: Windows Server 2003 family Build 3790 Service Pack 2\n\nCPU:total 4 (cores per cpu 4, threads per core 1) family 6 model 7 stepping 10, cmov, cx8, fxsr, mmx, sse, sse2\n\nMemory: 4k page, physical 4187788k(791144k free), swap 4194303k(2119832k free)\n\nvm_info: Java HotSpot(TM) Server VM (1.5.0_11-b03) for windows-x86, built on Dec 15 2006 00:54:53 by \"java_re\" with MS VC++ 6.0\n\n\n\n\nI can't update teh JVM because our web application doesn't run with  Java 6.\nWe use the same version of the JDK and the same version of the Tomcat, with exactly the sames applications on other installations without any problem. The only difference is that we are on a 64 bits platform. \n\nThere is not upgrades which have been installed on this server.", "attachment_id": null}, {"count": 1, "tags": [], "text": "That looks like a JVM bug.", "attachment_id": null, "id": 127009, "creator": "markt@apache.org", "time": "2009-05-14T04:09:18Z", "bug_id": 47195, "creation_time": "2009-05-14T04:09:18Z", "is_private": false}]