[{"count": 0, "tags": [], "bug_id": 24179, "attachment_id": null, "text": "The idea is to modify org.apache.catalina.startup.Bootstrap (or implement a \nsubclass) to include the following paths in the base class loaders:\n\ncommonLoader:\n  - $CATALINA_BASE/common/classes\n  - $CATALINA_BASE/common/endorsed/*.jar\n  - $CATALINA_BASE/common/lib/*.jar\ncatalinaLoader:\n  - $CATALINA_BASE/server/classes\n  - $CATALINA_BASE/server/lib/*.jar\n\nA reason for this modification would be the next scenario:\n\nSuppose a web-enabled solution that uses a Tomcat server as a servlet \ncontainer, but that involves the development or usage of custom valves, \nlisteners, socket factories and so.\n\nSome of these applications will require some extra libraries to be added to the \ncommon class loader. Some others will require them to be in the catalina class \nloader.\n\nCurrently, the only way to get this to work is to customize a full Tomact \ninstallation, putting the additional jars in common/lib or server/lib.\n\nThis means that, in a development environment, each programmer will need a \nlocal full tomcat installed for the product to be tested.\n\nIf you multiply this by N developers, and by M different products, the waste of \nspace begins to become important.\n\nIf those \"tomcat components\" are shared among products, and different versions \nare incompatible, the same can be applied to a customer production environment, \nwhere using a shared instance would be desirable, but it would not be possible \ndue to library incompatibilities.", "id": 46370, "time": "2003-10-28T15:09:38Z", "creator": "rruiz@gridsystems.com", "creation_time": "2003-10-28T15:09:38Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 8771\nProposed patch", "attachment_id": 8771, "id": 46371, "creator": "rruiz@gridsystems.com", "time": "2003-10-28T15:13:21Z", "bug_id": 24179, "creation_time": "2003-10-28T15:13:21Z", "is_private": false}, {"count": 2, "tags": [], "creator": "kreiger@imcode.com", "text": "Duplicate of bug 10060 ?", "id": 70020, "time": "2005-01-24T14:36:44Z", "bug_id": 24179, "creation_time": "2005-01-24T14:36:44Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 24179, "text": "In my experience, most of the time it suffices to make a custom\n\ncatalina.properties\n\nwith a new definition of common.oader, server.loader and shared.loader.\n\nExample:\n\ncommon.loader=${catalina.base}/common/classes,${catalina.base}/common/lib/*jar,${catalina.home}/common/classes,${catalina.home}/common/endorsed/*.jar,${catalina.home}/common/lib/*.jar\n\nYou can select the appropriate catalina.properties by using a commandline\nparameter, e.g.:\n\nCATALINA_OPTS=\"-Dcatalina.config=file:${CATALINA_BASE}/conf/catalina.properties\"\n\nI think, that part of the discussion should better be continued on tomcat-users.\n", "count": 3, "id": 70060, "time": "2005-01-25T11:12:28Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2005-01-25T11:12:28Z", "is_private": false}, {"count": 4, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of bug 10060 ***", "attachment_id": null, "bug_id": 24179, "id": 134243, "time": "2010-02-04T12:31:52Z", "creator": "markt@apache.org", "creation_time": "2010-02-04T12:31:52Z", "is_private": false}]