[{"count": 0, "tags": [], "creator": "noisex@apollo.lv", "text": "i have been having some weird issues with Apache 1.3.33 now. I have been trying\nto dig out the reason, but I have been unable to catch anything abnormal.\n\nWe are running Web server on HP proliant D360 G3 / Linux Suse 9.2 PRO. We\nupgraded to Apache 1.3.33, PHP 4.3.10 and MySQL 4.1 a week ago.\n\nOur problem is that the libhttpd.ep processes appear to be leaking\nmemory for some reason. They also will go to sleep indefinitely (as\nseen in a truss). The processes that are problematic will grow up to\n80-100M in RES size, checking out a truss on them, doesn't seem to show\nanything abnormal, nothing that would denote its size getting so large.\nWhen we get a lot of these processes between 50M and 80M the machines\nRAM and swap will get filled up, and then it will become fairly\nunusable. I have left a truss go overnight on one of these processes\nthat is \"dead\" and this is all it would show, over and over again in\nthet output of the truss. Aprox. after 1 week from boot time we RAM leake from\n130Mb to 860Mb of 1Gb\n\n 3918 nobody    25   0 37548  12m  34m S  0.0  1.2   0:00.00 libhttpd.ep       \n                                                    \n 3919 nobody    25   0 37548  12m  34m S  0.0  1.2   0:00.00 libhttpd.ep       \n                                                    \n 3920 nobody    25   0 37548  12m  34m S  0.0  1.2   0:00.00 libhttpd.ep       \n                                                    \n 3921 nobody    25   0 37548  12m  34m S  0.0  1.2   0:00.00 libhttpd.ep       \n                                                    \n 3922 nobody    25   0 37548  12m  34m S  0.0  1.2   0:00.00 libhttpd.ep       \n                                                    \n 3911 root      16   0 37476  12m  34m S  0.0  1.2   0:00.26 libhttpd.ep\n\n\nApache compiled:\n\nServer version: Apache/1.3.33 (Unix)\nServer built:   Feb  1 2005 12:35:54\nServer's Module Magic Number: 19990320:16\nServer compiled with....\n -D HAVE_MMAP\n -D HAVE_SHMGET\n -D USE_SHMGET_SCOREBOARD\n -D USE_MMAP_FILES\n -D HAVE_FCNTL_SERIALIZED_ACCEPT\n -D HAVE_SYSVSEM_SERIALIZED_ACCEPT\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D DYNAMIC_MODULE_LIMIT=64\n -D HARD_SERVER_LIMIT=256\n -D SHARED_CORE\n -D HTTPD_ROOT=\"/var/www\"\n -D SUEXEC_BIN=\"/var/www/bin/suexec\"\n -D SHARED_CORE_DIR=\"/var/www/libexec\"\n -D DEFAULT_PIDLOG=\"logs/httpd.pid\"\n -D DEFAULT_SCOREBOARD=\"logs/httpd.scoreboard\"\n -D DEFAULT_LOCKFILE=\"logs/httpd.lock\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D TYPES_CONFIG_FILE=\"conf/mime.types\"\n -D SERVER_CONFIG_FILE=\"conf/httpd.conf\"\n -D ACCESS_CONFIG_FILE=\"conf/access.conf\"\n -D RESOURCE_CONFIG_FILE=\"conf/srm.conf\"\n\nCompiled-in modules:\n  http_core.c\n  mod_env.c\n  mod_log_config.c\n  mod_mime.c\n  mod_negotiation.c\n  mod_status.c\n  mod_include.c\n  mod_autoindex.c\n  mod_dir.c\n  mod_cgi.c\n  mod_asis.c\n  mod_imap.c\n  mod_actions.c\n  mod_userdir.c\n  mod_alias.c\n  mod_access.c\n  mod_auth.c\n  mod_so.c\n  mod_setenvif.c\n\n\nIf you need any additional information, welcomed :)\n\nGatis Rumbens\nIPS Lattelekom/Apollo\nnoisex@apollo.lv", "id": 71071, "time": "2005-02-16T11:04:55Z", "bug_id": 33602, "creation_time": "2005-02-16T11:04:55Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 33602, "attachment_id": null, "id": 106194, "time": "2007-08-02T12:52:30Z", "creator": "jim@apache.org", "creation_time": "2007-08-02T12:52:30Z", "is_private": false, "text": "likely php"}]