[{"count": 0, "text": "The method org.apache.xml.internal.security.utils.Base64.decode(String) is not\nworking in NOT ASCII platform. Now the method are using String.getBytes()\nwithout take care of the default charset of the platform (EBCDIC in my case).\n\nI have made a change, and now is working perfectly in different platforms.\n\nThanks very much for your wonderful effort !!\n\nBest Regards. AC.\n\npublic final static byte[] decode(String encoded) throws Base64DecodingException {\n\n\nbyte[] base64Byte;\n\n\nif (encoded == null)\n\nreturn null;\n\ntry{\n\nbase64Byte = decodeInternal(encoded.getBytes(\"ISO-8859-1\"));\n\n}\n\ncatch (UnsupportedEncodingException e){\n\nthrow new Base64DecodingException (\"charset ISO-8859-1 is not supported \" + e);\n\n}\n\nreturn base64Byte;\n\n}", "bug_id": 40215, "is_private": false, "id": 92044, "time": "2006-08-08T16:19:00Z", "creator": "acastro.dit@aeat.es", "creation_time": "2006-08-08T16:19:00Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 40215, "is_private": false, "text": "Created attachment 18693\nBase64.decode(String)  is not working when is used in not ascii platform\n\nThe binary representation of a Byte64 is independent of the platform for this\nreason if not possible to use String.getBytes(), we must use something like\nStrign.getBytes(\"ASCII\") or String.getBytes(\"ISO-8859-1\"). By example in EBCDIC\nplatform the actual code is not working properly until this patch is aply.", "id": 92076, "time": "2006-08-09T06:13:30Z", "creator": "acastro.dit@aeat.es", "creation_time": "2006-08-09T06:13:30Z", "attachment_id": 18693}, {"count": 2, "tags": [], "creator": "sean.mullan@oracle.com", "attachment_id": null, "id": 92127, "time": "2006-08-10T22:15:10Z", "bug_id": 40215, "creation_time": "2006-08-10T22:15:10Z", "is_private": false, "text": "Fixed, and thanks for the patch."}, {"count": 3, "tags": [], "creator": "raul-info@r-bg.com", "attachment_id": null, "id": 92293, "time": "2006-08-17T10:01:15Z", "bug_id": 40215, "creation_time": "2006-08-17T10:01:15Z", "is_private": false, "text": "I have change slightly the solution.\nInstead of relaying in the getBytes(coding) method in java.lang.String. I have\ncode our really simple base64-valid utf16(java representation of char) symbols\nto ascii. At the same time a get rid of the whitespaces.\n\nSo can you test again in xmlsec-1.4beta2?.\n\nY muchas gracias por encontrar el problema. (And thnks for finding the bug)"}, {"count": 4, "tags": [], "bug_id": 40215, "attachment_id": null, "text": "(In reply to comment #3)\n> I have change slightly the solution.\n> Instead of relaying in the getBytes(coding) method in java.lang.String. I have\n> code our really simple base64-valid utf16(java representation of char) symbols\n> to ascii. At the same time a get rid of the whitespaces.\n> \n> So can you test again in xmlsec-1.4beta2?.\n> \n> Y muchas gracias por encontrar el problema. (And thnks for finding the bug)\n\n We have tested it with xmlsec-1.4beta2 and works perfectly.\n\n Thanks a lot, best regards A.castro.", "id": 92328, "time": "2006-08-18T10:29:57Z", "creator": "acastro.dit@aeat.es", "creation_time": "2006-08-18T10:29:57Z", "is_private": false}]