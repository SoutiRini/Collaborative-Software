[{"count": 0, "tags": [], "creator": "wp02855@gmail.com", "text": "Created attachment 29791\npatch file for httpd-2.4.3/support/ab.c\n\nIn directory 'httpd-2.4.3/support', file 'ab.c', function\n'ssl_proceed_handshake', I found an instance of a call to\nmalloc() without a check for a return value of NULL, indicating\nfailure.  Additionally, I found no instance where free() is\ncalled to release the allocated memory prior to leaving\nthe function, causing the potential for a memory leak.\n\nThe patch file is below:\n\n--- ab.c.orig   2012-12-21 17:21:39.451547287 -0800\n+++ ab.c        2012-12-21 17:23:50.502769885 -0800\n@@ -622,6 +622,10 @@\n                     pk_bits = 0;  /* Anon DH */\n \n                 ssl_info = malloc(128);\n+                if (ssl_info == NULL) {\n+                    fprintf(stderr, \"ab: Could not allocate ssl_info data buffer\\n\");\n+                    return;\n+                }\n                 apr_snprintf(ssl_info, 128, \"%s,%s,%d,%d\",\n                              SSL_CIPHER_get_version(ci),\n                              SSL_CIPHER_get_name(ci),", "id": 164216, "time": "2012-12-22T18:37:49Z", "bug_id": 54344, "creation_time": "2012-12-22T18:37:49Z", "is_private": false, "attachment_id": 29791}, {"count": 1, "tags": [], "bug_id": 54344, "text": "Thanks for the report.\n\nFixed in trunk in r1488492.", "id": 167550, "time": "2013-06-01T08:43:39Z", "creator": "christophe.jaillet@wanadoo.fr", "creation_time": "2013-06-01T08:43:39Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 54344, "text": "Fixed in trunk and back-ported to 2.4.x branch with a different approach.\nSee r1554214.\n\nWill be part of 2.4.8.", "id": 172052, "time": "2014-01-03T06:17:08Z", "creator": "christophe.jaillet@wanadoo.fr", "creation_time": "2014-01-03T06:17:08Z", "is_private": false, "attachment_id": null}]