[{"count": 0, "tags": [], "creator": "vlad@jstripe.com", "attachment_id": null, "text": "Hi guys,\n\ni've been meaning to report this problem quite a while ago but it is better late\nthen never... so here it goes:\n\nWe have a deployment system based on the back of Subversion, which facilitates\nrolling application back as well as forward. The system also maintains file\ndates to be consistent with the dates in the repository. \n\nWe started noticing problems when Tomcat would choose not to compile JSPs that\nhave been updated. On the closer inspection it appears that isOutDated()\nfunction would return as positive only if targetLastModified < jspLastModified,\nwhich is not always the case when JSP files are rolled back in time.\n\nI think it would be more accurate to compile the JSP if \"targetLastModified !=\njspLastModified\" and when the generated servlet and the compiled class have the\nsame \"lastModified\" value as the source JSP file. \n\nThere is also more complicated problem to fix, which is to do with how \"include\"\nfiles affect isOutDated() function. isOutDated() should be called recursively on\nthe included files instead of comparing their dates to the master jsp date.\n\nI'd be happy to submit a patch should you want me to.\n\nRegards,\nVlad", "id": 93071, "time": "2006-09-06T01:30:31Z", "bug_id": 40420, "creation_time": "2006-09-06T01:30:31Z", "is_private": false}, {"count": 1, "attachment_id": null, "creator": "markt@apache.org", "is_private": false, "id": 93072, "time": "2006-09-06T01:46:27Z", "bug_id": 40420, "creation_time": "2006-09-06T01:46:27Z", "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of 33453 ***"}]