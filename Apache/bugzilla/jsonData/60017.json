[{"count": 0, "tags": [], "creator": "support@ubikloadpack.com", "is_private": false, "text": "Currently comment field are useless during the run of a test plan but very useful to allow readability and maintainability of scripts.\n\nIt would be useful to nullify this field so that it does not occupy useless memory during the load test and avoid its transfer on the wire for distributed tests.\n\nAs it is possible that some users have used this field for something in their test (which would be a bad practice), we could introduce a property to allow cancelling this behaviour if really needed.\n\nThoughts ?\nThanks\n@ubikloadpack Team", "id": 193179, "time": "2016-08-18T15:43:37Z", "bug_id": 60017, "creation_time": "2016-08-18T15:43:37Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 60017, "attachment_id": null, "is_private": false, "id": 193193, "time": "2016-08-18T20:54:48Z", "creator": "sebb@apache.org", "creation_time": "2016-08-18T20:54:48Z", "text": "Is the memory taken by comments really that much?\n\nI don't think it's worth the risk of affecting existing test plans.\nAlso it will be more work for some users who have to enable/disable the option.\n\nUnless it can be shown to have a significant effect on memory usage, I am -1."}, {"count": 2, "attachment_id": null, "bug_id": 60017, "text": "(In reply to Sebb from comment #1)\n> Is the memory taken by comments really that much?\n> \n> I don't think it's worth the risk of affecting existing test plans.\n> Also it will be more work for some users who have to enable/disable the\n> option.\n> \n> Unless it can be shown to have a significant effect on memory usage, I am -1.\n\nI made a test, you multiply number of thread  * number of element * comment size.\nIt is possible that the space is highly reduced by using -XX:+UseStringDeduplication which AFAIK is not enable by default. \n\nAnyway, shouldn't we gain whatever we can in memory footprint ot Test plans ? \n\nRegarding impacted test plan:\n- Either we add a property to revert behaviour (but as you wrote, it's more code to maintain ...)\n- My opinion is that why should we take into account hacks and bad practices ? We just add a breaking change in release notes and that's it", "id": 193200, "time": "2016-08-18T21:35:10Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-08-18T21:35:10Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 60017, "text": "Many test plans will only have a few comments, in which case the change will not help much.\n\nI don't think it's worth the risk.", "id": 193201, "time": "2016-08-18T21:40:17Z", "creator": "sebb@apache.org", "creation_time": "2016-08-18T21:40:17Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "support@ubikloadpack.com", "attachment_id": 34166, "id": 193237, "time": "2016-08-20T13:30:33Z", "bug_id": 60017, "creation_time": "2016-08-20T13:30:33Z", "is_private": false, "text": "Created attachment 34166\nPatch implementing the enhancement"}, {"count": 5, "attachment_id": null, "bug_id": 60017, "text": "Thanks for the patch, but it not complete.\nAlso there is not yet agreement that it should be applied.\n\nFor the record:\n\nThe patch does not address:\n- making the behaviour optional\n- documentation of the change\n- unit tests\n\nFurthermore, the change to AbstractTestElement affects all properties, not just comments, so may cause problems elsewhere. This could be avoided by changing the PreCompiler to drop the comment property entirely instead of setting the content to null. That would save more space.\n\nI am still -1 on applying this change", "id": 193238, "time": "2016-08-20T14:37:48Z", "creator": "sebb@apache.org", "creation_time": "2016-08-20T14:37:48Z", "tags": [], "is_private": false}]