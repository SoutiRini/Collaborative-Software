[{"count": 0, "text": "I have two classes one of them runs thread which is accepting data from \nkeyboard.\nEverything is going fine if I run my program in cmd window (Windows XP) like  \n\u201cc:\\> java A \u201c, where A is name of class with main method. I can accept symbols \nfrom keyboard in my thread. As soon as I run same program using ant, there is \nno respond from my program. It seems to me either there is something I need to \nadd to \"java\" task as a parameter or something is wrong with ant.\n I also tried to run batch file from ant environment, but it did not help me.\n\n\nBelow you can find my test classes both batch file as well as  build file.\n\nSinserely, \nAleksandr Grinberg\nagrinbrg@yahoo.com\n\n\n///////////////////////////////////////////////////////////////////////\n// class with main method\nimport java.io.*;\n\nclass A{\n\npublic static void main(String[] args) \n{\n \tString f=\"1234 \";\n\tString x=\" \";\nString empty=\"\";\n \n\tSystem.out.println (\" emty string \" + empty.trim().length());\n\tSystem.out.println (\"f.indexof(x) \" +f.indexOf(x) );\n\tSystem.out.println(\" f.substring(f.indexof(x) \" + f.substring(f.indexOf\n(x)));\n\tSystem.out.println(\" f.substring(f.indexof(x).length() \" \n           + f.substring(f.indexOf(x)).length()\n\t\t);\n\n\n\tConsole console = new Console();\n\tconsole.start();\n\n}\n}\n///////////////////////////////////////////////////////////////////////\n//  thread class that interacts with console\nimport java.lang.Thread;\nimport java.io.*;\n\npublic class Console extends Thread {\n\n\n\tpublic void run()\n\t{\n\t\tbyte b[] =  new byte[200];\n\n\t\tint bites_in_buffer = 0;\n\n\t\tBufferedReader is = new BufferedReader (new InputStreamReader\n(System.in));\n\n\t\tint bytes_read    = -1;\n\t\twhile ( true )\n\t\t{\n\t\t   try{\t\t\t\t\n\t\t    String command  = is.readLine();\n\t\t    if (command.length() == 0)\n\t\t\tbreak;\t\n\t\t\t\n                        // execute command \n                        // inform user about executing \n\t\t\tSystem.out.println (\"Executing command......\");\n                        // delay  \n                         try{\n\t\t\t\tsleep (1000);\n\t\t\t }\n\t\t\t catch (InterruptedException e)\n\t\t\t\t{}\n                        // print results \n\t\t\tSystem.out.println (\"Entered command : \" + command);\n\t\t\t}\n\t\t\tcatch (Exception e)\n\t\t\t{\n\t\t\t\tSystem.out.println (e);\n\t\t\t}\n\t\t}\nSystem.out.println (\"leaving thread \");\n\t}\n\t\n\npublic void die()\n\t{\n\t}\n\n}\n\n///////////////////////////////////////////////////////////////////////\n// build.xml file\n<project name=\"TEST\" default=\"init\" basedir=\".\">\n    <description>\n          build file\n    </description>\n  <!-- set global properties for this build -->\n\n <target name=\"compile\">\n    <javac srcdir=\"${basedir}\" >\n    </javac>\n </target>\n\n\n <target name=\"run-thread\" depends=\"compile\">\n   <java classname=\"A\" fork=\"true\" >\n       <classpath path=\"${basedir}\"/>\n   </java>\n </target>\n\n\n <target name=\"run-bat\" depends=\"compile\">\n   <exec  executable=\"run-thread.bat\">\n   </exec>\n\n </target>\n\n</project>\n\n///////////////////////////////////////////////////////////////////////\n//this is a body of run-thread.bat file\n\njava A\n\n///////////////////////////////////////////////////////////////////////\n//", "creator": "agrinbrg@yahoo.com", "is_private": false, "id": 30308, "time": "2003-01-29T21:42:18Z", "bug_id": 16562, "creation_time": "2003-01-29T21:42:18Z", "tags": [], "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "bodewig@apache.org", "is_private": false, "count": 1, "id": 30335, "time": "2003-01-30T10:19:38Z", "bug_id": 16562, "creation_time": "2003-01-30T10:19:38Z", "text": "input doesn't work with <exec> or <java fork=\"true\">, this is a know limitation.\n\nI'm surprised I cannot find any bug report that I could use to mark this one as\nduplicate."}, {"count": 2, "tags": [], "bug_id": 16562, "attachment_id": null, "is_private": false, "id": 90647, "time": "2006-06-27T18:09:40Z", "creator": "stevel@apache.org", "creation_time": "2006-06-27T18:09:40Z", "text": "Has this been fixed in ant1.6, where we stream input to forked programs?"}]