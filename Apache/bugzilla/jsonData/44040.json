[{"count": 0, "tags": [], "creator": "mgainty@hotmail.com", "attachment_id": null, "id": 111544, "creation_time": "2007-12-07T13:18:46Z", "time": "2007-12-07T13:18:46Z", "bug_id": 44040, "text": "TOMCAT 6.0.14\njava version \"1.5.0_02\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_02-b09)\nJava HotSpot(TM) Client VM (build 1.5.0_02-b09, mixed mode)\n\njar listing:\ncommons-logging.jar is not on the path and is not located in %TOMCAT_HOME%\n%CATALINA_HOME%/lib/log4j.jar 158.892 05/02/2006\n%CATALINA_HOME%/bin/tomcat-juli.jar 13kb jul 13 2006 (manifest specifies 1.0)\n\n%CATALINA_HOME%/lib/log4j.properties contains\n\nlog4j.rootLogger=INFO, R \nlog4j.appender.R=org.apache.log4j.RollingFileAppender \nlog4j.appender.R.File=${catalina.home}logs/tomcat.log \nlog4j.appender.R.MaxFileSize=10MB \nlog4j.appender.R.MaxBackupIndex=10 \nlog4j.appender.R.layout=org.apache.log4j.PatternLayout \nlog4j.appender.R.layout.ConversionPattern=%p %t %c - %m%n\n\ncatalina.bat contains these logging statements\n\nset JAVA_OPTS=%JAVA_OPTS% -\nDjava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -\nDjava.util.logging.config.file=\"%CATALINA_BASE%\\conf\\logging.properties\"\n\nwhere \"%CATALINA_BASE%\\conf\\logging.properties\" contains these handlers\n\nhandlers = 1catalina.org.apache.juli.FileHandler, \n2localhost.org.apache.juli.FileHandler, 3manager.org.apache.juli.FileHandler, \n4admin.org.apache.juli.FileHandler, 5host-manager.org.apache.juli.FileHandler, \njava.util.logging.ConsoleHandler\n\n.handlers = 1catalina.org.apache.juli.FileHandler, \njava.util.logging.ConsoleHandler\n\n############################################################\n# Handler specific properties.\n# Describes specific configuration info for Handlers.\n############################################################\n\n1catalina.org.apache.juli.FileHandler.level = FINE\n1catalina.org.apache.juli.FileHandler.directory = ${catalina.base}/logs\n1catalina.org.apache.juli.FileHandler.prefix = catalina.\n\n2localhost.org.apache.juli.FileHandler.level = FINE\n2localhost.org.apache.juli.FileHandler.directory = ${catalina.base}/logs\n2localhost.org.apache.juli.FileHandler.prefix = localhost.\n\n3manager.org.apache.juli.FileHandler.level = FINE\n3manager.org.apache.juli.FileHandler.directory = ${catalina.base}/logs\n3manager.org.apache.juli.FileHandler.prefix = manager.\n\n4admin.org.apache.juli.FileHandler.level = FINE\n4admin.org.apache.juli.FileHandler.directory = ${catalina.base}/logs\n4admin.org.apache.juli.FileHandler.prefix = admin.\n\n5host-manager.org.apache.juli.FileHandler.level = FINE\n5host-manager.org.apache.juli.FileHandler.directory = ${catalina.base}/logs\n5host-manager.org.apache.juli.FileHandler.prefix = host-manager.\n\njava.util.logging.ConsoleHandler.level = FINE\njava.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\n\n############################################################\n# Facility specific properties.\n# Provides extra control for each logger.\n############################################################\n\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].level = INFO\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].handlers = \n2localhost.org.apache.juli.FileHandler\n\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/manager].level \n= INFO\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].\n[/manager].handlers = 3manager.org.apache.juli.FileHandler\n\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/admin].level = \nINFO\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/admin].handlers \n= 4admin.org.apache.juli.FileHandler\n\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-\nmanager].level = INFO\norg.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/host-\nmanager].handlers = 5host-manager.org.apache.juli.FileHandler\n\n# For example, set the com.xyz.foo logger to only log SEVERE\n# messages:\n#org.apache.catalina.startup.ContextConfig.level = FINE\n#org.apache.catalina.startup.HostConfig.level = FINE\n#org.apache.catalina.session.ManagerBase.level = FINE\n#org.apache.catalina.core.AprLifecycleListener.level=FINE\n\n%CATALINA_HOME/bin/startup.bat produces\nHandler error\njava.lang.IllegalArgumentException: Bad level \"DEBUG\"\n        at java.util.logging.Level.parse(Level.java:336)\n        at org.apache.juli.FileHandler.configure(FileHandler.java:205)\n        at org.apache.juli.FileHandler.<init>(FileHandler.java:58)\n        at org.apache.juli.FileHandler.<init>(FileHandler.java:50)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstruct\norAccessorImpl.java:39)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingC\nonstructorAccessorImpl.java:27)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\n        at java.lang.Class.newInstance0(Class.java:350)\n        at java.lang.Class.newInstance(Class.java:303)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:398)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:342)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:238)\n        at java.util.logging.LogManager$2.run(LogManager.java:249)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.util.logging.LogManager.readPrimordialConfiguration(LogManager.j\nava:247)\n        at java.util.logging.LogManager.getLogManager(LogManager.java:230)\n        at java.util.logging.Logger.<init>(Logger.java:149)\n        at java.util.logging.LogManager$RootLogger.<init>(LogManager.java:964)\n        at java.util.logging.LogManager$RootLogger.<init>(LogManager.java:961)\n        at java.util.logging.LogManager$1.run(LogManager.java:179)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.util.logging.LogManager.<clinit>(LogManager.java:156)\n        at java.util.logging.Logger.getLogger(Logger.java:228)\n        at java.util.logging.Logger.<clinit>(Logger.java:181)\n        at org.apache.juli.logging.DirectJDKLog.<init>(DirectJDKLog.java:71)\n        at org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:17\n8)\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:170)\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:241)\n        at org.apache.juli.logging.LogFactory.getLog(LogFactory.java:296)\n        at org.apache.catalina.startup.Bootstrap.<clinit>(Bootstrap.java:54)\nHandler error\njava.lang.IllegalArgumentException: Bad level \"DEBUG\"\n        at java.util.logging.Level.parse(Level.java:336)\n        at org.apache.juli.FileHandler.configure(FileHandler.java:205)\n        at org.apache.juli.FileHandler.<init>(FileHandler.java:58)\n        at org.apache.juli.FileHandler.<init>(FileHandler.java:50)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstruct\norAccessorImpl.java:39)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingC\nonstructorAccessorImpl.java:27)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\n        at java.lang.Class.newInstance0(Class.java:350)\n        at java.lang.Class.newInstance(Class.java:303)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:398)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:342)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:238)\n        at java.util.logging.LogManager$2.run(LogManager.java:249)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.util.logging.LogManager.readPrimordialConfiguration(LogManager.j\nava:247)\n        at java.util.logging.LogManager.getLogManager(LogManager.java:230)\n        at java.util.logging.Logger.<init>(Logger.java:149)\n        at java.util.logging.LogManager$RootLogger.<init>(LogManager.java:964)\n        at java.util.logging.LogManager$RootLogger.<init>(LogManager.java:961)\n        at java.util.logging.LogManager$1.run(LogManager.java:179)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.util.logging.LogManager.<clinit>(LogManager.java:156)\n        at java.util.logging.Logger.getLogger(Logger.java:228)\n        at java.util.logging.Logger.<clinit>(Logger.java:181)\n        at org.apache.juli.logging.DirectJDKLog.<init>(DirectJDKLog.java:71)\n        at org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:17\n8)\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:170)\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:241)\n        at org.apache.juli.logging.LogFactory.getLog(LogFactory.java:296)\n        at org.apache.catalina.startup.Bootstrap.<clinit>(Bootstrap.java:54)\nHandler error\njava.lang.IllegalArgumentException: Bad level \"DEBUG\"\n        at java.util.logging.Level.parse(Level.java:336)\n        at org.apache.juli.FileHandler.configure(FileHandler.java:205)\n        at org.apache.juli.FileHandler.<init>(FileHandler.java:58)\n        at org.apache.juli.FileHandler.<init>(FileHandler.java:50)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstruct\norAccessorImpl.java:39)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingC\nonstructorAccessorImpl.java:27)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\n        at java.lang.Class.newInstance0(Class.java:350)\n        at java.lang.Class.newInstance(Class.java:303)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:398)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:342)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:238)\n        at java.util.logging.LogManager$2.run(LogManager.java:249)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.util.logging.LogManager.readPrimordialConfiguration(LogManager.j\nava:247)\n        at java.util.logging.LogManager.getLogManager(LogManager.java:230)\n        at java.util.logging.Logger.<init>(Logger.java:149)\n        at java.util.logging.LogManager$RootLogger.<init>(LogManager.java:964)\n        at java.util.logging.LogManager$RootLogger.<init>(LogManager.java:961)\n        at java.util.logging.LogManager$1.run(LogManager.java:179)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.util.logging.LogManager.<clinit>(LogManager.java:156)\n        at java.util.logging.Logger.getLogger(Logger.java:228)\n        at java.util.logging.Logger.<clinit>(Logger.java:181)\n        at org.apache.juli.logging.DirectJDKLog.<init>(DirectJDKLog.java:71)\n        at org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:17\n8)\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:170)\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:241)\n        at org.apache.juli.logging.LogFactory.getLog(LogFactory.java:296)\n        at org.apache.catalina.startup.Bootstrap.<clinit>(Bootstrap.java:54)\nHandler error\njava.lang.IllegalArgumentException: Bad level \"DEBUG\"\n        at java.util.logging.Level.parse(Level.java:336)\n        at org.apache.juli.FileHandler.configure(FileHandler.java:205)\n        at org.apache.juli.FileHandler.<init>(FileHandler.java:58)\n        at org.apache.juli.FileHandler.<init>(FileHandler.java:50)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstruct\norAccessorImpl.java:39)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingC\nonstructorAccessorImpl.java:27)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\n        at java.lang.Class.newInstance0(Class.java:350)\n        at java.lang.Class.newInstance(Class.java:303)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:398)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:342)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:238)\n        at java.util.logging.LogManager$2.run(LogManager.java:249)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.util.logging.LogManager.readPrimordialConfiguration(LogManager.j\nava:247)\n        at java.util.logging.LogManager.getLogManager(LogManager.java:230)\n        at java.util.logging.Logger.<init>(Logger.java:149)\n        at java.util.logging.LogManager$RootLogger.<init>(LogManager.java:964)\n        at java.util.logging.LogManager$RootLogger.<init>(LogManager.java:961)\n        at java.util.logging.LogManager$1.run(LogManager.java:179)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.util.logging.LogManager.<clinit>(LogManager.java:156)\n        at java.util.logging.Logger.getLogger(Logger.java:228)\n        at java.util.logging.Logger.<clinit>(Logger.java:181)\n        at org.apache.juli.logging.DirectJDKLog.<init>(DirectJDKLog.java:71)\n        at org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:17\n8)\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:170)\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:241)\n        at org.apache.juli.logging.LogFactory.getLog(LogFactory.java:296)\n        at org.apache.catalina.startup.Bootstrap.<clinit>(Bootstrap.java:54)\nHandler error\njava.lang.IllegalArgumentException: Bad level \"DEBUG\"\n        at java.util.logging.Level.parse(Level.java:336)\n        at org.apache.juli.FileHandler.configure(FileHandler.java:205)\n        at org.apache.juli.FileHandler.<init>(FileHandler.java:58)\n        at org.apache.juli.FileHandler.<init>(FileHandler.java:50)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstruct\norAccessorImpl.java:39)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingC\nonstructorAccessorImpl.java:27)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\n        at java.lang.Class.newInstance0(Class.java:350)\n        at java.lang.Class.newInstance(Class.java:303)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:398)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:342)\n        at org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLo\ngManager.java:238)\n        at java.util.logging.LogManager$2.run(LogManager.java:249)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.util.logging.LogManager.readPrimordialConfiguration(LogManager.j\nava:247)\n        at java.util.logging.LogManager.getLogManager(LogManager.java:230)\n        at java.util.logging.Logger.<init>(Logger.java:149)\n        at java.util.logging.LogManager$RootLogger.<init>(LogManager.java:964)\n        at java.util.logging.LogManager$RootLogger.<init>(LogManager.java:961)\n        at java.util.logging.LogManager$1.run(LogManager.java:179)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.util.logging.LogManager.<clinit>(LogManager.java:156)\n        at java.util.logging.Logger.getLogger(Logger.java:228)\n        at java.util.logging.Logger.<clinit>(Logger.java:181)\n        at org.apache.juli.logging.DirectJDKLog.<init>(DirectJDKLog.java:71)\n        at org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:17\n8)\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:170)\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:241)\n        at org.apache.juli.logging.LogFactory.getLog(LogFactory.java:296)\n        at org.apache.catalina.startup.Bootstrap.<clinit>(Bootstrap.java:54)\n[GC [DefNew: 3968K->0K(4032K), 0.0147834 secs] 3968K->602K(16320K), 0.0149027 se\ncs]\n[GC [DefNew: 3964K->0K(4032K), 0.0060619 secs] 4567K->977K(16320K), 0.0061717 se\ncs]\nDec 7, 2007 4:01:31 PM org.apache.catalina.core.AprLifecycleListener init\nINFO: The Apache Tomcat Native library which allows optimal performance in produ\nction environments was not found on the java.library.path: C:\\Java\\jdk1.5.0_0\\bi\nn;.;C:\\WINNT\\system32;C:\\WINNT;C:\\Java\\jdk1.5.0_0\\bin;F:\\Flex\\FLEXBU~1\\FLEXSD~1\\\nbin;F:\\Rhino\\rhino1_6R5;F:\\ANT\\apache-ant-1.7.0\\bin;F:\\SVN;F:\\GZIP;F:\\Ruby\\exe\\b\nin;F:\\MySQL\\MYSQLS~1.0\\bin;F:\\CVS;F:\\Maven-2.0.7\\bin;F:\\AXIS\\axis2-1.3\\bin;F:\\TA\nR\\BIN;F:\\Maven\\maven-2.0.2\\bin;C:\\Java\\JDK15~1.0_0\\bin;C:\\Perl\\bin;F:\\Textpad\\TE\nXTPA~2;C:\\GREP;F:\\Flash\\FlashCompiler.con\\bin;C:\\PROGRA~1\\COMMON~1\\BORLAN~1\\BDE;\nC:\\WINNT\\system32;C:\\WINNT;C:\\WINNT\\System32\\Wbem;C:\\PROGRA~1\\MI6841~1\\80\\Tools\\\nBinn;C:\\Program Files\\Microsoft.NET\\SDK\\v1.1\\Bin;F:\\IsoBuster;C:\\Program Files\\M\nicrosoft SQL Server\\90\\Tools\\binn\\;C:\\Program Files\\Microsoft.NET\\SDK\\v1.1\\Bin;F\n:\\WINNT\\Microsoft.NET\\Framework\\v1.1.4322;C:\\Program Files\\Microsoft Visual Stud\nio\\Common\\Tools\\WinNT;C:\\Program Files\\Microsoft Visual Studio\\Common\\MSDev98\\Bi\nn;C:\\Program Files\\Microsoft Visual Studio\\Common\\Tools;C:\\Program Files\\Microso\nft Visual Studio\\VC98\\bin ;C:\\PROGRA~1\\Microsoft Visual Studio\\VC98\\Bin;C:\\WINNT\n\\Microsoft.NET\\Framework\\v1.1.4322;\nDec 7, 2007 4:01:31 PM org.apache.coyote.http11.Http11Protocol init\nINFO: Initializing Coyote HTTP/1.1 on http-8080\nDec 7, 2007 4:01:31 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 582 ms\nDec 7, 2007 4:01:31 PM org.apache.catalina.core.StandardService start\nINFO: Starting service Catalina\nDec 7, 2007 4:01:31 PM org.apache.catalina.core.StandardEngine start\nINFO: Starting Servlet Engine: Apache Tomcat/6.0.14\n[GC [DefNew: 3968K->0K(4032K), 0.0109888 secs] 4945K->1399K(16320K), 0.0110964 s\necs]\n[GC [DefNew: 3968K->0K(4032K), 0.0091984 secs] 5367K->1832K(16320K), 0.0093090 s\necs]\n[GC [DefNew: 3968K->0K(4032K), 0.0023601 secs] 5800K->1947K(16320K), 0.0024615 s\necs]\n[GC [DefNew: 3968K->0K(4032K), 0.0061354 secs] 5915K->2337K(16320K), 0.0062413 s\necs]\nDec 7, 2007 4:01:32 PM org.apache.coyote.http11.Http11Protocol start\nINFO: Starting Coyote HTTP/1.1 on http-8080\nDec 7, 2007 4:01:32 PM org.apache.jk.common.ChannelSocket init\nINFO: JK: ajp13 listening on /0.0.0.0:8009\nDec 7, 2007 4:01:32 PM org.apache.jk.server.JkMain start\nINFO: Jk running ID=0 time=0/16  config=null\nDec 7, 2007 4:01:32 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 1114 ms\n\nAny idea what is causing these exceptions?", "is_private": false}, {"count": 1, "tags": [], "bug_id": 44040, "text": "As per http://tomcat.apache.org/tomcat-6.0-doc/logging.html, if you want to use\nlog4j you need to use output/extras/tomcat-juli.jar and\noutput/extras/tomcat-juli-adapters.jar", "id": 112148, "time": "2007-12-23T15:37:36Z", "creator": "markt@apache.org", "creation_time": "2007-12-23T15:37:36Z", "is_private": false, "attachment_id": null}]