[{"count": 0, "attachment_id": null, "bug_id": 21836, "text": "I'm trying to use the JSTL <fmt:formatNumber> tag with request-time expressions (NOT the JSTL \nexpression language) and not having much luck.\n\nHere's my JSP:\n\n<%@ taglib uri=\"http://java.sun.com/jstl/fmt_rt\" prefix=\"f\" %> \n\n<% \n  byte b = 92;\n  short s = 1025;\n  int i = 172343;\n  long l = 4782472384782L;\n  float f = 3.14159f;\n  double d = 2.718281828e55;\n%>\n\n<html>\n<head><title>JSTL Test</title></head>\n\n<body>\n\n<p>b <f:formatNumber pattern=\"#,##0\" value=\"<%= b %>\"/></p>\n<p>s <f:formatNumber pattern=\"#,##0\" value=\"<%= s %>\"/></p>\n<p>i <f:formatNumber pattern=\"#,##0\" value=\"<%= i %>\"/></p>\n<p>l <f:formatNumber pattern=\"#,##0\" value=\"<%= l %>\"/></p>\n<p>f <f:formatNumber pattern=\"#,##0.00e00\" value=\"<%= f %>\"/></p>\n<p>d <f:formatNumber pattern=\"#,##0.00e00\" value=\"<%= d %>\"/></p>\n\n</body>\n</html>\n\nand here are the error messages I get from Jasper.  (I've removed most of the file paths for \nreadability.)\n\n    [javac] .../jstl-test/bug_jsp.java:72: cannot resolve symbol\n    [javac] symbol  : method setValue (byte)\n    [javac] location: class org.apache.taglibs.standard.tag.rt.fmt.FormatNumberTag\n    [javac]       _jspx_th_f_formatNumber_0.setValue( b );\n\n    [javac] .../jstl-test/bug_jsp.java:84: cannot resolve symbol\n    [javac] symbol  : method setValue (short)\n    [javac] location: class org.apache.taglibs.standard.tag.rt.fmt.FormatNumberTag\n    [javac]       _jspx_th_f_formatNumber_1.setValue( s );\n\n    [javac] .../jstl-test/bug_jsp.java:96: cannot resolve symbol\n    [javac] symbol  : method setValue (int)\n    [javac] location: class org.apache.taglibs.standard.tag.rt.fmt.FormatNumberTag\n    [javac]       _jspx_th_f_formatNumber_2.setValue( i );\n\n    [javac] .../jstl-test/bug_jsp.java:108: cannot resolve symbol\n    [javac] symbol  : method setValue (long)\n    [javac] location: class org.apache.taglibs.standard.tag.rt.fmt.FormatNumberTag\n    [javac]       _jspx_th_f_formatNumber_3.setValue( l );\n\n    [javac] .../jstl-test/bug_jsp.java:120: cannot resolve symbol\n    [javac] symbol  : method setValue (float)\n    [javac] location: class org.apache.taglibs.standard.tag.rt.fmt.FormatNumberTag\n    [javac]       _jspx_th_f_formatNumber_4.setValue( f );\n\n    [javac] .../jstl-test/bug_jsp.java:132: cannot resolve symbol\n    [javac] symbol  : method setValue (double)\n    [javac] location: class org.apache.taglibs.standard.tag.rt.fmt.FormatNumberTag\n    [javac]       _jspx_th_f_formatNumber_5.setValue( d );", "id": 41260, "time": "2003-07-23T21:07:06Z", "creator": "rnewman@thecia.net", "creation_time": "2003-07-23T21:07:06Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "pierre.delisle@sun.com", "text": "As per the spec, section 9.7, the value attribute of <fmt:formatNumber>\naccepts values of type String or Number. It does not accept\nprimitive types such as short, int, etc...\n\n[Automatic type conversions are supported with the EL version of the\nlibrary.]", "id": 41988, "time": "2003-08-02T01:43:20Z", "bug_id": 21836, "creation_time": "2003-08-02T01:43:20Z", "is_private": false, "attachment_id": null}]