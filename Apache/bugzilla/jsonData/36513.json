[{"count": 0, "tags": [], "bug_id": 36513, "attachment_id": null, "is_private": false, "id": 79426, "time": "2005-09-06T10:47:07Z", "creator": "long.jianglei3@zte.com.cn", "creation_time": "2005-09-06T10:47:07Z", "text": "I have an ant project:if I run it in a path not including chiness words,it work \nwell,but if the path include chinese words,it work wrong and the following is \nthe console print:\n\nE:\\vss\\uep3.01.03a\u00b0\u00e6\u00b1\u00be\\ums-3.01.03a\\ums-svr\\docs\\dbscript\\install-\ndb\\uep\\bin>../impl/run-ant.bat -buildfile ../impl/install-db-mssql.xml\nJDK: ..\\..\\..\\..\\..\\..\\jdk-windows\nBuildfile: ..\\impl\\install-db-mssql.xml\n\nBUILD FAILED\nError reading project file E:\\vss\\uep3.01.03a\u00b0\u00e6\u00b1\u00be\\ums-3.01.03a\\ums-\nsvr\\docs\\dbscript\\install-db\\uep\\bin\\..\\impl\\install-db-mssql.xml: no \nprotocol: ./install-db-common.xml\n\nTotal time: 0 seconds\n\u00c7\u00eb\u00b0\u00b4\u00c8\u00ce\u00d2\u00e2\u00bc\u00fc\u00bc\u00cc\u00d0\u00f8 . . ."}, {"count": 1, "tags": [], "bug_id": 36513, "attachment_id": null, "id": 80247, "time": "2005-09-21T04:41:37Z", "creator": "long.jianglei3@zte.com.cn", "creation_time": "2005-09-21T04:41:37Z", "is_private": false, "text": "My ant project can work well in a path which not include chinese words but fail \nin a path which include chinese words,the error message as follow:\n\nError reading project file E:\\vss\\uep3.01.03a\u201d\u00c5\u2013{\\ums-3.01.03a\\ums-\nsvr\\docs\\dbscript\\install-db\\uep\\bin\\..\\impl\\install-db-mysql.xml: no \nprotocol: ./install-db-common.xml\n"}, {"count": 2, "tags": [], "bug_id": 36513, "attachment_id": null, "is_private": false, "id": 91234, "time": "2006-07-12T21:46:38Z", "creator": "stevel@apache.org", "creation_time": "2006-07-12T21:46:38Z", "text": "This looks like it is being raised in ProjectHelper.parse\nCan you give us a full stack trace so we can get more details on where it happened.\n\nPlease can you run ant in a path with chinese words, with the -d option and\npaste the output in as a comment.\n\n"}, {"count": 3, "tags": [], "bug_id": 36513, "attachment_id": null, "id": 91245, "time": "2006-07-13T01:24:47Z", "creator": "long.jianglei3@zte.com.cn", "creation_time": "2006-07-13T01:24:47Z", "is_private": false, "text": "(In reply to comment #2)\n> This looks like it is being raised in ProjectHelper.parse\n> Can you give us a full stack trace so we can get more details on where it \nhappened.\n> Please can you run ant in a path with chinese words, with the -d option and\n> paste the output in as a comment.\n\nJ:\\ums\\uep3.01.03P005c\\ums-svr\u00b2\u00e2\u00ca\u00d4\\docs\\dbscript\\install-db\\tools\\bin>ant -d  -\nbuildfile ../../uep/impl/install-db-mssql.xml\nANT_HOME=J:\\ums\\uep3.01.03P005c\\ums-svr\u00b2\u00e2\u00ca\u00d4\\docs\\dbscript\\install-\ndb\\tools\\bin\\\\..\n\nWarning: JAVA_HOME environment variable is not set.\n  If build fails because sun.* classes could not be found\n  you will need to set the JAVA_HOME environment variable\n  to the installation directory of java.\n\nApache Ant version 1.6.1 compiled on February 12 2004\nBuildfile: ..\\..\\uep\\impl\\install-db-mssql.xml\nAdding reference: ant.PropertyHelper\nDetected Java version: 1.4 in: F:\\jdk\\j2sdk1.4.2_01_win\\jre\nDetected OS: Windows 2000\nAdding reference: ant.ComponentHelper\nSetting ro project property: ant.version -> Apache Ant version 1.6.1 compiled \non February 12 2004\nSetting ro project property: ant.file -> J:\\ums\\uep3.01.03P005c\\ums-svr\u00b2\u00e2\u00ca\u00d4\n\\docs\\dbscript\\install-db\\tools\\bin\\..\\..\\uep\\impl\\install-db-mssql.xml\nAdding reference: ant.projectHelper\nAdding reference: ant.parsing.context\nAdding reference: ant.targets\nparsing buildfile J:\\ums\\uep3.01.03P005c\\ums-svr\u00b2\u00e2\u00ca\u00d4\\docs\\dbscript\\install-\ndb\\tools\\bin\\..\\..\\uep\\impl\\install-db-mssql.xml with URI = \nfile:///J:/ums/uep3.01.03P\nSetting ro project property: ant.project.name -> install-db-uep\nAdding reference: install-db-uep\nSetting ro project property: ant.file.install-db-uep -> \nJ:\\ums\\uep3.01.03P005c\\ums-svr\u00b2\u00e2\u00ca\u00d4\\docs\\dbscript\\install-\ndb\\tools\\bin\\..\\..\\uep\\impl\\install-db-mssql.xml\nProject base dir set to: J:\\ums\\uep3.01.03P005c\\ums-svr\u00b2\u00e2\u00ca\u00d4\n\\docs\\dbscript\\install-db\\uep\\impl\n +Target:\nresolving systemId: ./install-db-common.xml\n\nBUILD FAILED\nError reading project file J:\\ums\\uep3.01.03P005c\\ums-svr\u00b2\u00e2\u00ca\u00d4\n\\docs\\dbscript\\install-db\\tools\\bin\\..\\..\\uep\\impl\\install-db-mssql.xml: no \nprotocol: ./install-db-c\n        at org.apache.tools.ant.helper.ProjectHelper2.parse\n(ProjectHelper2.java:238)\n        at org.apache.tools.ant.helper.ProjectHelper2.parse\n(ProjectHelper2.java:133)\n        at org.apache.tools.ant.ProjectHelper.configureProject\n(ProjectHelper.java:89)\n        at org.apache.tools.ant.Main.runBuild(Main.java:617)\n        at org.apache.tools.ant.Main.startAnt(Main.java:183)\n        at org.apache.tools.ant.Main.start(Main.java:147)\n        at org.apache.tools.ant.Main.main(Main.java:230)\nCaused by: java.net.MalformedURLException: no protocol: ./install-db-common.xml\n        at java.net.URL.<init>(URL.java:537)\n        at java.net.URL.<init>(URL.java:434)\n        at java.net.URL.<init>(URL.java:383)\n        at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown \nSource)\n        at org.apache.xerces.impl.XMLEntityManager.startEntity(Unknown Source)\n        at org.apache.xerces.impl.XMLEntityManager.startEntity(Unknown Source)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEntityReference\n(Unknown Source)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.tools.ant.helper.ProjectHelper2.parse\n(ProjectHelper2.java:210)\n        ... 6 more\n--- Nested Exception ---\njava.net.MalformedURLException: no protocol: ./install-db-common.xml\n        at java.net.URL.<init>(URL.java:537)\n        at java.net.URL.<init>(URL.java:434)\n        at java.net.URL.<init>(URL.java:383)\n        at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown \nSource)\n        at org.apache.xerces.impl.XMLEntityManager.startEntity(Unknown Source)\n        at org.apache.xerces.impl.XMLEntityManager.startEntity(Unknown Source)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEntityReference\n(Unknown Source)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.tools.ant.helper.ProjectHelper2.parse\n(ProjectHelper2.java:210)\n        at org.apache.tools.ant.helper.ProjectHelper2.parse\n(ProjectHelper2.java:133)\n        at org.apache.tools.ant.ProjectHelper.configureProject\n(ProjectHelper.java:89)\n        at org.apache.tools.ant.Main.runBuild(Main.java:617)\n        at org.apache.tools.ant.Main.startAnt(Main.java:183)\n        at org.apache.tools.ant.Main.start(Main.java:147)\n        at org.apache.tools.ant.Main.main(Main.java:230)\n"}, {"count": 4, "tags": [], "text": "Hi,\nI think that this bug is solved in Ant 1.7\nCould you try downloading ant's source and rebuilding ?\n\nI mark it as duplicate of 37348. The bug report 37085 is also a bit similar.\nIt all boils down to the need to handle specially non ASCII characters to build\nURIs.\n\nAntoine\n\n*** This bug has been marked as a duplicate of 37348 ***", "is_private": false, "id": 91249, "creator": "antoine@apache.org", "time": "2006-07-13T03:39:53Z", "bug_id": 36513, "creation_time": "2006-07-13T03:39:53Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "long.jianglei3@zte.com.cn", "attachment_id": null, "text": "(In reply to comment #4)\n> Hi,\n> I think that this bug is solved in Ant 1.7\n> Could you try downloading ant's source and rebuilding ?\n> I mark it as duplicate of 37348. The bug report 37085 is also a bit similar.\n> It all boils down to the need to handle specially non ASCII characters to \nbuild\n> URIs.\n> Antoine\n> *** This bug has been marked as a duplicate of 37348 ***\n\nCould you tell change which jar to solve it? I don't want change all jars and \nmy ant version is ant1.6.1", "id": 91252, "time": "2006-07-13T03:57:48Z", "bug_id": 36513, "creation_time": "2006-07-13T03:57:48Z", "is_private": false}, {"count": 6, "attachment_id": null, "creator": "antoine@apache.org", "is_private": false, "id": 91292, "time": "2006-07-14T00:34:32Z", "bug_id": 36513, "creation_time": "2006-07-14T00:34:32Z", "tags": [], "text": "Hi,\n\nactually, you would have to download ant from source and rebuild it yourself.\nThe Ant 1.7 version is not yet released.\n\nRegards,\n\nAntoine"}]