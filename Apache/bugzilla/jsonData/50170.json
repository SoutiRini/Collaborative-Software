[{"count": 0, "attachment_id": null, "bug_id": 50170, "text": "Using a load testing tool, one would expect to see the real amount of data that went over the wire in the reports, but the HTTPSampler does not call setBytes on its result, meaning that the length of the response data is used when SamplerResult.getBytes() is called. \nThis response data has the length after unzipping!\n\nDue to a chain of input streams in HTTPSampler.readResponse, the original length is not available directly.\nA possibility would be to use the response header value \"content-length\" plus the header length (how to get that one from the HttpUrlConnection?).", "id": 141121, "time": "2010-10-28T05:11:38Z", "creator": "jens_0@hotmail.com", "creation_time": "2010-10-28T05:11:38Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "milamber@apache.org", "text": "See Bug 43363", "id": 141880, "time": "2010-11-21T06:33:48Z", "bug_id": 50170, "creation_time": "2010-11-21T06:33:48Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 50170, "attachment_id": null, "id": 145529, "time": "2011-04-03T19:17:30Z", "creator": "milamber@apache.org", "creation_time": "2011-04-03T19:17:30Z", "is_private": false, "text": "A new property allow to change the method to get response size. Please try with a nightly build after revision 1088435.\nReopen if needs.\n\nURL: http://svn.apache.org/viewvc?rev=1088435&view=rev\nLog:\nBug 50170 - Bytes reported by http sampler is after GUnZip\nAdd an optional property to allow change the method to get response size.\n\nModified:\n    jakarta/jmeter/trunk/bin/jmeter.properties\n    jakarta/jmeter/trunk/src/core/org/apache/jmeter/util/JMeterUtils.java\n    jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSampleResult.java\n    jakarta/jmeter/trunk/xdocs/changes.xml\n    jakarta/jmeter/trunk/xdocs/usermanual/component_reference.xml"}, {"count": 3, "tags": [], "bug_id": 50170, "text": "New revision, better design. Thanks to sebb.\n\n\n\nURL: http://svn.apache.org/viewvc?rev=1088748&view=rev\nLog:\nSimplify new properties to change method to calculate getBytes()\nSave Headers size and Content-length on sample (in HTTPSampleResult) instead of calculting when gets results\n\nModified:\n    jakarta/jmeter/trunk/bin/jmeter.properties\n    jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPHC3Impl.java\n    jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPHC4Impl.java\n    jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPJavaImpl.java\n    jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSampleResult.java\n    jakarta/jmeter/trunk/xdocs/changes.xml\n    jakarta/jmeter/trunk/xdocs/usermanual/component_reference.xml", "id": 145551, "time": "2011-04-04T15:36:44Z", "creator": "milamber@apache.org", "creation_time": "2011-04-04T15:36:44Z", "is_private": false, "attachment_id": null}]