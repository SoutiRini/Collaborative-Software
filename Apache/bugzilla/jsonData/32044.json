[{"count": 0, "tags": [], "bug_id": 32044, "is_private": false, "text": "Attachment to follow.\n\nGiven the following file content:\n<html>\n</html\n\nJasper won't compile the above. A test file will be attached. The key to\nreproducing is end of file immediately after the </html with no line feed.", "id": 66359, "time": "2004-11-03T16:29:56Z", "creator": "funkman@joedog.org", "creation_time": "2004-11-03T16:29:56Z", "attachment_id": null}, {"attachment_id": 13320, "tags": [], "creator": "funkman@joedog.org", "text": "Created attachment 13320\nexample file", "count": 1, "id": 66360, "time": "2004-11-03T16:37:21Z", "bug_id": 32044, "creation_time": "2004-11-03T16:37:21Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 32044, "attachment_id": null, "id": 66369, "time": "2004-11-03T17:22:06Z", "creator": "funkman@joedog.org", "creation_time": "2004-11-03T17:22:06Z", "is_private": false, "text": "Stack trace in the logs.\n\n2004-11-03 12:20:22 StandardWrapperValve[jsp]: Servlet.service() for servlet jsp\nthrew exception\njava.lang.ArrayIndexOutOfBoundsException: 161\n\tat org.apache.jasper.compiler.JspReader.peekChar(JspReader.java:164)\n\tat org.apache.jasper.compiler.JspReader.isSpace(JspReader.java:357)\n\tat org.apache.jasper.compiler.JspReader.isDelimiter(JspReader.java:440)\n\tat org.apache.jasper.compiler.JspReader.parseToken(JspReader.java:405)\n\tat org.apache.jasper.compiler.Parser.checkUnbalancedEndTag(Parser.java:1699)\n\tat org.apache.jasper.compiler.Parser.parseElements(Parser.java:1561)\n\tat org.apache.jasper.compiler.Parser.parse(Parser.java:126)\n\tat org.apache.jasper.compiler.ParserController.doParse(ParserController.java:220)\n\tat org.apache.jasper.compiler.ParserController.parse(ParserController.java:101)\n\tat org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:203)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:470)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:451)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:439)\n"}, {"count": 3, "tags": [], "text": "Sweet ... it only affects 5.0.X.  Doesn't affect 5.5.X\n\nSo I guess a patch was made for 5.5 that already fixed this.\n", "is_private": false, "id": 66523, "creator": "funkman@joedog.org", "time": "2004-11-05T13:59:33Z", "bug_id": 32044, "creation_time": "2004-11-05T13:59:33Z", "attachment_id": null}, {"count": 4, "tags": [], "text": "If someone is interested in applying the patch to 5.0 branch, the fix is in\nr1.23 of JspReader.java\n\n*** This bug has been marked as a duplicate of 29866 ***", "is_private": false, "id": 66553, "creator": "kin-man.chung@sun.com", "time": "2004-11-05T19:28:23Z", "bug_id": 32044, "creation_time": "2004-11-05T19:28:23Z", "attachment_id": null}]