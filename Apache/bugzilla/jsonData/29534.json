[{"count": 0, "tags": [], "bug_id": 29534, "attachment_id": null, "text": "OK, here's the issue.  Apache 2.0.49, stock install, only non-shipped modules \ninstalled are php and suphp.  Suexec is not standard but the problem manifests \nitself before it runs. \n \nHere's how to reproduce: \n \nmake a directory and a subdirectory, say, bin.  create an executable file in \nthe bin directory (call it greeting, I guess).  It can just be a shell script. \n \nNow, create an index.html file in the current directory.  Inside that file, it \nshould contain only the text: \n \n<!--#exec cmd=\"bin/greeting\"--> \n \nAccording to the documentation, a forward slash means that it is relative to \nthe document root, and a lack of forward slash means that it is relative to the \ncurrent working directory. \n \nNow, try to access that page.  You will get a blank page. \n \nAn strace will reveal that it is chdir()ing into the current directory, and \nrunning suexec with the argument of \"greeting\".  There is no attempt to change \ninto the correct directory.  If you copy bin/greeting into the current \ndirectory, it will work as expected. \n \nIt also will not work if you specify a full path.  It also will not work if you \nspecify a system binary, such as \"finger\".  It appears to be completely broken. \n \nServer version: Apache/2.0.49 \nServer built:   Jun 10 2004 11:23:59 \nServer's Module Magic Number: 20020903:7 \nArchitecture:   32-bit \nServer compiled with.... \n -D APACHE_MPM_DIR=\"server/mpm/prefork\" \n -D APR_HAS_SENDFILE \n -D APR_HAS_MMAP \n -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled) \n -D APR_USE_SYSVSEM_SERIALIZE \n -D APR_USE_PTHREAD_SERIALIZE \n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT \n -D APR_HAS_OTHER_CHILD \n -D AP_HAVE_RELIABLE_PIPED_LOGS \n -D HTTPD_ROOT=\"/usr/local/apache/2.0.49\" \n -D SUEXEC_BIN=\"/usr/local/apache/2.0.49/bin/suexec\" \n -D DEFAULT_PIDLOG=\"logs/httpd.pid\" \n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\" \n -D DEFAULT_LOCKFILE=\"logs/accept.lock\" \n -D DEFAULT_ERRORLOG=\"logs/error_log\" \n -D AP_TYPES_CONFIG_FILE=\"conf/mime.types\" \n -D SERVER_CONFIG_FILE=\"conf/httpd.conf\"", "id": 59142, "time": "2004-06-12T02:34:28Z", "creator": "rmiller@duskglow.com", "creation_time": "2004-06-12T02:34:28Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 29534, "attachment_id": null, "is_private": false, "id": 72857, "time": "2005-03-25T17:26:12Z", "creator": "asfbugz@velox.ch", "creation_time": "2005-03-25T17:26:12Z", "text": "\n\n*** This bug has been marked as a duplicate of 31302 ***"}]