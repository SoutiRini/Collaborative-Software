[{"count": 0, "tags": [], "bug_id": 16604, "attachment_id": null, "id": 30356, "time": "2003-01-30T16:39:00Z", "creator": "edwin@woudt.nl", "creation_time": "2003-01-30T16:39:00Z", "is_private": false, "text": "The java task does not work correctly if a classpath is specified and when it \nis executed on JDK 1.2 and Windows 9x. \n\nThe following is the output:\n\n     [java] Executing 'C:\\JAVA\\JDK12\\JRE\\bin\\java.exe' with arguments:\n     [java] '-classpath'\n     \n[java] 'C:\\Devel\\cryptix\\projects\\openpgp\\build\\classes;C:\\Devel\\cryptix\\project\ns\\openpgp\\lib\\junit.jar;C:\\Devel\\cryptix\\projects\\openpgp\\lib\\cryptix-jce-\napi.jar;C:\\Devel\\cryptix\\projects\\openpgp\\lib\\cryptix-jce-provider.jar'\n     [java] 'cryptix.test.Test'\n     [java] 'openpgp'\n     [java]\n     [java] The ' characters around the executable and arguments are\n     [java] not part of the command.\n     [java] java.lang.NoClassDefFoundError: \nC:\\Devel\\cryptix\\projects\\openpgp\\lib\\junit/jar\n     [java] Exception in thread \"main\"\n\nFor this particular combination of JDK version and windows version, the \nbatchfile antRun.bat is used to run the command. I added an echo statement to \nthis batchfile to see the command line it generated. This was the result:\n\nC:\\JAVA\\JDK12\\JRE\\bin\\java.exe -classpath \nC:\\Devel\\cryptix\\projects\\openpgp\\build\\classes \nC:\\Devel\\cryptix\\projects\\openpgp\\lib\\junit.jar \nC:\\Devel\\cryptix\\projects\\openpgp\\lib\\cryptix-jce-api.jar \nC:\\Devel\\cryptix\\projects\\openpgp\\lib\\cryptix-jce-provider.jar \ncryptix.test.Test openpgp\n     \nAs you can see the semicolons between the various elements of the classpath are \nmissing and replaced by a space. This is because apparently windows treats \nsemicolons on the command line as parameter separators.\n\nThe solution is to add quotes around the classpath when calling the batchfile. \nThe attached patch should do the trick (unfortunately I could not get ant to \nbuild on my machine, thus was unable to test it)."}, {"count": 1, "tags": [], "bug_id": 16604, "is_private": false, "id": 30357, "attachment_id": 4647, "creator": "edwin@woudt.nl", "creation_time": "2003-01-30T16:42:53Z", "time": "2003-01-30T16:42:53Z", "text": "Created attachment 4647\nPatch to jakarta-ant/src/main/org/apache/tools/ant/types/Commandline.java"}, {"count": 2, "tags": [], "text": "Assuming this is Win9x only, and as win9x is not supported in ant1.7, I'm\ntempted to mark this as wontfix. \n\nI have one worry: what happens on Winnt in the same environment?", "attachment_id": null, "id": 92462, "creator": "stevel@apache.org", "time": "2006-08-23T12:42:40Z", "bug_id": 16604, "creation_time": "2006-08-23T12:42:40Z", "is_private": false}, {"count": 3, "tags": [], "text": "We do need an example build file containing the problem", "is_private": false, "id": 92529, "creator": "peterreilly@apache.org", "time": "2006-08-25T10:33:23Z", "bug_id": 16604, "creation_time": "2006-08-25T10:33:23Z", "attachment_id": null}, {"count": 4, "tags": [], "text": "The reason that it is seen in win9x and not in winnt,xp\nis that win9x uses a batch script (antrun.bat) to\nexecute the external programs (decided in a static part\nof Execute.java).\nI have placed the fix in the code\nif the os is win9x. I know that ant 1.7 is not meant\nto support win9x but I do not know of any change yet\nthat makes it impossible to use win9x ...\nNote that netware uses a perl script (!) to run\nan external program and if os cannot detect the os\nthe antrun shell script is used.", "attachment_id": null, "id": 93662, "creator": "peterreilly@apache.org", "time": "2006-09-16T21:42:07Z", "bug_id": 16604, "creation_time": "2006-09-16T21:42:07Z", "is_private": false}]