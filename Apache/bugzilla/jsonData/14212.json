[{"count": 0, "tags": [], "text": "The API provices for over-riding a property with a new value, but there is no\nway to over-rider ti with a null value or remove that value.  This is kind of a\nselfish request (http://freeroller.net/page/shemnon/20021103), but as you can\nsee from the log it would be a Good Thing if it can get pas the philosophical\nobjection to it.\n\nSomthing like this... (Project.java version 1.116)\n\n--- Project.java.old    2002-11-03 21:43:03.000000000 -0700\n+++ Project.java        2002-11-03 21:46:50.000000000 -0700\n@@ -440,6 +440,25 @@\n     }\n\n     /**\n+     * Removes a property from the project property set.  If the property\n+     * is set as a user property then this will not attempt to delete\n+     * the property and will instead log an error\n+     */\n+    public synchronized void setProperty(String name, String value) {\n+        // command line properties take precedence\n+        if (null != userProperties.get(name)) {\n+            log(\"Remove ignored for user property \" + name, MSG_VERBOSE);\n+            return;\n+        }\n+\n+        if (null != properties.get(name)) {\n+            log(\"Removing previous definition of property \" + name,\n+                MSG_VERBOSE);\n+            properties.remove(name);\n+        }\n+    }\n+\n+    /**\n      * Sets a property if no value currently exists. If the property\n      * exists already, a message is logged and the method returns with\n      * no other effect.", "is_private": false, "bug_id": 14212, "id": 25597, "time": "2002-11-04T04:51:40Z", "creator": "shemnon@yahoo.com", "creation_time": "2002-11-04T04:51:40Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "shemnon@yahoo.com", "attachment_id": 3710, "is_private": false, "id": 25598, "time": "2002-11-04T04:54:44Z", "bug_id": 14212, "creation_time": "2002-11-04T04:54:44Z", "text": "Created attachment 3710\nthis patch is better, no un-needed params..."}, {"count": 2, "tags": [], "text": "I think we may have a philosophical objection to it. \n\nThe only reason that you can overwrite an existing property is bug compatibility\nwith old build files and user tasks; all new tasks should be using\nSetNewProperty() which enforces the immutability rules. The only ant task that\nprovides explicit access to the overwrite feature is <available> , and event\nthat complains when newvalue!=oldvalue. \n\nThat's also why when you ask for the properties object you get a clone. \n\n(leaving the bug open for a second opinion)", "attachment_id": null, "bug_id": 14212, "id": 25600, "time": "2002-11-04T07:14:46Z", "creator": "stevel@apache.org", "creation_time": "2002-11-04T07:14:46Z", "is_private": false}, {"count": 3, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "is_private": false, "id": 25683, "time": "2002-11-05T13:02:51Z", "bug_id": 14212, "creation_time": "2002-11-05T13:02:51Z", "text": "\n\n*** This bug has been marked as a duplicate of 13408 ***"}]