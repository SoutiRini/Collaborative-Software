[{"count": 0, "tags": [], "bug_id": 40115, "text": "Hello\n\nI'd like to have a setFacility() that accepts LOG_DAEMON etc and not \"deamon\" as\nstring. Attached is a patch.\n\nbye,\n\n-christian-\n\n\n--- src/java/org/apache/log4j/net/SyslogAppender.java.orig      2006-07-26\n14:15:46.270450392 +0200\n+++ src/java/org/apache/log4j/net/SyslogAppender.java   2006-07-26\n14:51:33.063088304 +0200\n@@ -327,6 +327,28 @@\n   }\n \n   /**\n+   * Set the syslog facility. This is the <b>Facility</b> option.\n+   *\n+   * <p>The <code>facility</code> parameter must be one of predefined class\n+   * fields LOG_KERN, LOG_USER, LOG_MAIL, LOG_DAEMON, LOG_AUTH, LOG_SYSLOG,\n+   * LOG_LPR, LOG_NEWS, LOG_UUCP, LOG_CRON, LOG_AUTHPRIV, LOG_FTP,\n+   * LOG_LOCAL0, LOG_LOCAL1, LOG_LOCAL2, LOG_LOCAL3, LOG_LOCAL4, LOG_LOCAL5,\n+   * LOG_LOCAL6, LOG_LOCAL7.\n+   *\n+   * See RFC 3164 for more information about the\n+   * <b>Facility</b> option.\n+   * */\n+  public void setFacility(final int facility) {\n+    syslogFacility = facility;\n+    if (getFacilityString(syslogFacility) == null) {\n+      System.err.println(\"[\" + facility + \n+                \"] is an unknown syslog facility. Defaulting to [USER].\");\n+      syslogFacility = LOG_USER;\n+    }\n+    facilityStr = getFacilityString(syslogFacility);\n+  }\n+\n+  /**\n    * Returns the value of the <b>Facility</b> option.\n    *\n    * See {@link #setFacility} for the set of allowed values.", "id": 91611, "time": "2006-07-26T13:35:07Z", "creator": "ch@westend.com", "creation_time": "2006-07-26T13:35:07Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "carnold@apache.org", "attachment_id": null, "text": "I don't know how this would affect the configurators which might now see the setFacility(int) method and \nthink that facility in property or XML files would need to be int and would no longer accept \nfacility=daemon and the like.  My guess is that it would probably mess them up and am hesitant to accept \nthe patch without more review.", "id": 92780, "time": "2006-08-31T05:23:18Z", "bug_id": 40115, "creation_time": "2006-08-31T05:23:18Z", "is_private": false}]