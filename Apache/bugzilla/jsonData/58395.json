[{"count": 0, "tags": [], "bug_id": 58395, "attachment_id": null, "is_private": false, "id": 185162, "time": "2015-09-12T17:07:52Z", "creator": "yilong.li@runtimeverification.com", "creation_time": "2015-09-12T17:07:52Z", "text": "Reported by RV-Predict (a dynamic race detector) when running the test suite:\nData race on field org.apache.catalina.tribes.membership.MemberImpl.command: {{{\n    Concurrent read in thread T198 (locks held: {Monitor@30e70e68})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getDataLength(MemberImpl.java:176)\n        at org.apache.catalina.tribes.io.ChannelData.getDataPackageLength(ChannelData.java:186)\n        at org.apache.catalina.tribes.io.XByteBuffer.createDataPackage(XByteBuffer.java:342)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:334)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:310)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:133)\n        - locked Monitor@30e70e68 at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:126)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.memberAdded(DomainFilterInterceptor.java:65)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:245)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T198 is created by T170\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T170 (locks held: {Monitor@2ddfcdd0})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.setCommand(MemberImpl.java:611)\n        at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:134)\n        - locked Monitor@2ddfcdd0 at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:n/a)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.memberDataReceived(McastServiceImpl.java:389)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.receive(McastServiceImpl.java:356)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$ReceiverThread.run(McastServiceImpl.java:541)\n    T170 is created by T156\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:269)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.command: {{{\n    Concurrent read in thread T198 (locks held: {Monitor@30e70e68})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getCommand(MemberImpl.java:485)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:318)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:310)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:133)\n        - locked Monitor@30e70e68 at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:126)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.memberAdded(DomainFilterInterceptor.java:65)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:245)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T198 is created by T170\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T170 (locks held: {Monitor@2ddfcdd0})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.setCommand(MemberImpl.java:611)\n        at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:134)\n        - locked Monitor@2ddfcdd0 at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:n/a)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.memberDataReceived(McastServiceImpl.java:389)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.receive(McastServiceImpl.java:356)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$ReceiverThread.run(McastServiceImpl.java:541)\n    T170 is created by T156\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:269)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.command: {{{\n    Concurrent write in thread T1 (locks held: {Monitor@77f324cd, Monitor@54110076, Monitor@77f324c6, Monitor@77d14322})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.setCommand(MemberImpl.java:611)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.stop(McastServiceImpl.java:329)\n        - locked Monitor@77d14322 at org.apache.catalina.tribes.membership.McastServiceImpl.stop(McastServiceImpl.java:n/a)\n        at org.apache.catalina.tribes.membership.McastService.stop(McastService.java:372)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.internalStop(ChannelCoordinator.java:229)\n        - locked Monitor@77f324c6 at org.apache.catalina.tribes.group.ChannelCoordinator.internalStop(ChannelCoordinator.java:n/a)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.stop(ChannelCoordinator.java:121)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.stop(NonBlockingCoordinator.java:467)\n        - locked Monitor@54110076 at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.stop(NonBlockingCoordinator.java:463)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.GroupChannel.stop(GroupChannel.java:444)\n        - locked Monitor@77f324cd at org.apache.catalina.tribes.group.GroupChannel.stop(GroupChannel.java:n/a)\n        at org.apache.catalina.tribes.group.interceptors.TestNonBlockingCoordinator.tearDown(TestNonBlockingCoordinator.java:127)\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)\n        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n        at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:535)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1182)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1033)\n    T1 is the main thread\n\n    Concurrent read in thread T280 (locks held: {Monitor@23afd3e1})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.toString(MemberImpl.java:525)\n        at org.apache.catalina.tribes.util.StringManager.getString(StringManager.java:147)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberDisappeared(TcpFailureDetector.java:151)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.sendMessage(TcpFailureDetector.java:99)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.sendMessage(ChannelInterceptorBase.java:76)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.sendElectionMsg(NonBlockingCoordinator.java:260)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.sendElectionMsgToNextInline(NonBlockingCoordinator.java:270)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.handleOtherToken(NonBlockingCoordinator.java:365)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.handleToken(NonBlockingCoordinator.java:331)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.processCoordMessage(NonBlockingCoordinator.java:322)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.messageReceived(NonBlockingCoordinator.java:498)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:81)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.messageReceived(TcpFailureDetector.java:117)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:81)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.messageReceived(DomainFilterInterceptor.java:48)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:81)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.messageReceived(ChannelCoordinator.java:262)\n        at org.apache.catalina.tribes.transport.ReceiverBase.messageDataReceived(ReceiverBase.java:242)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.drainChannel(NioReplicationTask.java:211)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:102)\n        - locked Monitor@23afd3e1 at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:n/a)\n    T280 is created by T177\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.dataPkg: {{{\n    Concurrent write in thread T170 (locks held: {Monitor@2ddfcdd0})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:197)\n        at org.apache.catalina.tribes.membership.MemberImpl.setCommand(MemberImpl.java:612)\n        at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:134)\n        - locked Monitor@2ddfcdd0 at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:n/a)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.memberDataReceived(McastServiceImpl.java:389)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.receive(McastServiceImpl.java:356)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$ReceiverThread.run(McastServiceImpl.java:541)\n    T170 is created by T156\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:269)\n\n    Concurrent read in thread T198 (locks held: {Monitor@30e70e68})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:199)\n        at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:170)\n        at org.apache.catalina.tribes.io.ChannelData.getDataPackage(ChannelData.java:205)\n        at org.apache.catalina.tribes.io.XByteBuffer.createDataPackage(XByteBuffer.java:350)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:334)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:310)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:133)\n        - locked Monitor@30e70e68 at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:126)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.memberAdded(DomainFilterInterceptor.java:65)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:245)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T198 is created by T170\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.dataPkg: {{{\n    Concurrent write in thread T1 (locks held: {Monitor@423345cf, Monitor@423345c4, Monitor@5829fe44})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:197)\n        at org.apache.catalina.tribes.membership.MemberImpl.setCommand(MemberImpl.java:612)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.stop(McastServiceImpl.java:329)\n        - locked Monitor@5829fe44 at org.apache.catalina.tribes.membership.McastServiceImpl.stop(McastServiceImpl.java:n/a)\n        at org.apache.catalina.tribes.membership.McastService.stop(McastService.java:372)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.internalStop(ChannelCoordinator.java:229)\n        - locked Monitor@423345c4 at org.apache.catalina.tribes.group.ChannelCoordinator.internalStop(ChannelCoordinator.java:n/a)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.stop(ChannelCoordinator.java:121)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.GroupChannel.stop(GroupChannel.java:444)\n        - locked Monitor@423345cf at org.apache.catalina.tribes.group.GroupChannel.stop(GroupChannel.java:n/a)\n        at org.apache.catalina.tribes.group.interceptors.TestOrderInterceptor.tearDown(TestOrderInterceptor.java:143)\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)\n        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n        at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:535)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1182)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1033)\n    T1 is the main thread\n\n    Concurrent read in thread T19 (locks held: {})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:204)\n        at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:170)\n        at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:164)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.send(McastServiceImpl.java:501)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.send(McastServiceImpl.java:487)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$SenderThread.run(McastServiceImpl.java:575)\n    T19 is created by T13\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:280)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.dataPkg: {{{\n    Concurrent write in thread T170 (locks held: {Monitor@2ddfcdd0})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:197)\n        at org.apache.catalina.tribes.membership.MemberImpl.setCommand(MemberImpl.java:612)\n        at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:134)\n        - locked Monitor@2ddfcdd0 at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:n/a)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.memberDataReceived(McastServiceImpl.java:389)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.receive(McastServiceImpl.java:356)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$ReceiverThread.run(McastServiceImpl.java:541)\n    T170 is created by T156\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:269)\n\n    Concurrent read in thread T198 (locks held: {Monitor@30e70e68})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:206)\n        at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:170)\n        at org.apache.catalina.tribes.io.ChannelData.getDataPackage(ChannelData.java:205)\n        at org.apache.catalina.tribes.io.XByteBuffer.createDataPackage(XByteBuffer.java:350)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:334)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:310)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:133)\n        - locked Monitor@30e70e68 at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:126)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.memberAdded(DomainFilterInterceptor.java:65)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:245)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T198 is created by T170\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.dataPkg: {{{\n    Concurrent read in thread T198 (locks held: {Monitor@30e70e68})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:199)\n        at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:170)\n        at org.apache.catalina.tribes.io.ChannelData.getDataPackage(ChannelData.java:205)\n        at org.apache.catalina.tribes.io.XByteBuffer.createDataPackage(XByteBuffer.java:350)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:334)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:310)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:133)\n        - locked Monitor@30e70e68 at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:126)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.memberAdded(DomainFilterInterceptor.java:65)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:245)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T198 is created by T170\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T170 (locks held: {Monitor@2ddfcdd0})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:286)\n        at org.apache.catalina.tribes.membership.MemberImpl.setCommand(MemberImpl.java:612)\n        at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:134)\n        - locked Monitor@2ddfcdd0 at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:n/a)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.memberDataReceived(McastServiceImpl.java:389)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.receive(McastServiceImpl.java:356)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$ReceiverThread.run(McastServiceImpl.java:541)\n    T170 is created by T156\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:269)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.dataPkg: {{{\n    Concurrent read in thread T19 (locks held: {})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:204)\n        at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:170)\n        at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:164)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.send(McastServiceImpl.java:501)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.send(McastServiceImpl.java:487)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$SenderThread.run(McastServiceImpl.java:575)\n    T19 is created by T1\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:280)\n\n    Concurrent write in thread T1 (locks held: {Monitor@421ef1ee, Monitor@421ef194, Monitor@421a2667})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:286)\n        at org.apache.catalina.tribes.membership.MemberImpl.setCommand(MemberImpl.java:612)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.stop(McastServiceImpl.java:329)\n        - locked Monitor@421a2667 at org.apache.catalina.tribes.membership.McastServiceImpl.stop(McastServiceImpl.java:n/a)\n        at org.apache.catalina.tribes.membership.McastService.stop(McastService.java:372)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.internalStop(ChannelCoordinator.java:229)\n        - locked Monitor@421ef194 at org.apache.catalina.tribes.group.ChannelCoordinator.internalStop(ChannelCoordinator.java:n/a)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.stop(ChannelCoordinator.java:121)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor.stop(MessageDispatchInterceptor.java:180)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.GroupChannel.stop(GroupChannel.java:444)\n        - locked Monitor@421ef1ee at org.apache.catalina.tribes.group.GroupChannel.stop(GroupChannel.java:n/a)\n        at org.apache.catalina.tribes.group.TestGroupChannelStartStop.testDoubleFullStart(TestGroupChannelStartStop.java:61)\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n        at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:535)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1182)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1033)\n    T1 is the main thread\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.dataPkg: {{{\n    Concurrent read in thread T198 (locks held: {Monitor@30e70e68})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:206)\n        at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:170)\n        at org.apache.catalina.tribes.io.ChannelData.getDataPackage(ChannelData.java:205)\n        at org.apache.catalina.tribes.io.XByteBuffer.createDataPackage(XByteBuffer.java:350)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:334)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:310)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:133)\n        - locked Monitor@30e70e68 at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:126)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.memberAdded(DomainFilterInterceptor.java:65)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:245)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T198 is created by T170\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T170 (locks held: {Monitor@2ddfcdd0})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:286)\n        at org.apache.catalina.tribes.membership.MemberImpl.setCommand(MemberImpl.java:612)\n        at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:134)\n        - locked Monitor@2ddfcdd0 at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:n/a)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.memberDataReceived(McastServiceImpl.java:389)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.receive(McastServiceImpl.java:356)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$ReceiverThread.run(McastServiceImpl.java:541)\n    T170 is created by T156\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:269)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.dataPkg: {{{\n    Concurrent write in thread T58 (locks held: {Monitor@1c114987})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:286)\n        at org.apache.catalina.tribes.membership.MemberImpl.setCommand(MemberImpl.java:612)\n        at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:134)\n        - locked Monitor@1c114987 at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:n/a)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.memberAdded(NonBlockingCoordinator.java:514)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.memberAdded(NonBlockingCoordinator.java:509)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:141)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.memberAdded(DomainFilterInterceptor.java:65)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:245)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T58 is created by T41\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T93 (locks held: {Monitor@5aaa2914})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:286)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator$CoordinationMessage.write(NonBlockingCoordinator.java:736)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.createData(NonBlockingCoordinator.java:281)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.sendElectionMsg(NonBlockingCoordinator.java:260)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.sendElectionMsgToNextInline(NonBlockingCoordinator.java:270)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.handleOtherToken(NonBlockingCoordinator.java:365)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.handleToken(NonBlockingCoordinator.java:331)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.processCoordMessage(NonBlockingCoordinator.java:322)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.messageReceived(NonBlockingCoordinator.java:498)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:81)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.messageReceived(TcpFailureDetector.java:117)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:81)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.messageReceived(DomainFilterInterceptor.java:48)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:81)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.messageReceived(ChannelCoordinator.java:262)\n        at org.apache.catalina.tribes.transport.ReceiverBase.messageDataReceived(ReceiverBase.java:242)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.drainChannel(NioReplicationTask.java:211)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:102)\n        - locked Monitor@5aaa2914 at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:n/a)\n    T93 is created by T28\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.hostname: {{{\n    Concurrent read in thread T153 (locks held: {Monitor@e49c5d2, Monitor@622146b6})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getHostname(MemberImpl.java:440)\n        at org.apache.catalina.tribes.membership.MemberImpl.getName(MemberImpl.java:418)\n        at org.apache.catalina.tribes.util.Arrays.toNameString(Arrays.java:101)\n        at org.apache.catalina.tribes.util.Arrays.toNameString(Arrays.java:95)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator$CoordinationEvent.toString(NonBlockingCoordinator.java:824)\n        at org.apache.juli.logging.DirectJDKLog.info(DirectJDKLog.java:123)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.fireInterceptorEvent(NonBlockingCoordinator.java:750)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.handleViewConf(NonBlockingCoordinator.java:385)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.startElection(NonBlockingCoordinator.java:198)\n        - locked Monitor@622146b6 at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.startElection(NonBlockingCoordinator.java:191)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.start(NonBlockingCoordinator.java:456)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.start(ChannelInterceptorBase.java:155)\n        at org.apache.catalina.tribes.group.GroupChannel.start(GroupChannel.java:425)\n        - locked Monitor@e49c5d2 at org.apache.catalina.tribes.group.GroupChannel.start(GroupChannel.java:n/a)\n        at org.apache.catalina.tribes.group.interceptors.TestNonBlockingCoordinator$1.run(TestNonBlockingCoordinator.java:53)\n    T153 is created by T1\n        at org.apache.catalina.tribes.group.interceptors.TestNonBlockingCoordinator.setUp(TestNonBlockingCoordinator.java:63)\n\n    Concurrent write in thread T200 (locks held: {})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getHostname(MemberImpl.java:446)\n        at org.apache.catalina.tribes.membership.MemberImpl.getName(MemberImpl.java:418)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.memberAdded(NonBlockingCoordinator.java:516)\n        at org.apache.catalina.tribes.group.interceptors.NonBlockingCoordinator.memberAdded(NonBlockingCoordinator.java:509)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:141)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.memberAdded(DomainFilterInterceptor.java:65)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:245)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T200 is created by T167\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.memberAliveTime: {{{\n    Concurrent read in thread T50 (locks held: {Monitor@282ad193, Monitor@282ad199})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getMemberAliveTime(MemberImpl.java:466)\n        at org.apache.catalina.tribes.membership.Membership$MemberComparator.compare(Membership.java:280)\n        at org.apache.catalina.tribes.membership.Membership.addMember(Membership.java:155)\n        - locked Monitor@282ad199 at org.apache.catalina.tribes.membership.Membership.addMember(Membership.java:147)\n        at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:125)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:134)\n        - locked Monitor@282ad193 at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:126)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.memberAdded(DomainFilterInterceptor.java:65)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:245)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T50 is created by T41\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T41 (locks held: {Monitor@72aaa02a})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.setMemberAliveTime(MemberImpl.java:505)\n        at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:132)\n        - locked Monitor@72aaa02a at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:n/a)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.memberDataReceived(McastServiceImpl.java:389)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.receive(McastServiceImpl.java:356)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$ReceiverThread.run(McastServiceImpl.java:541)\n    T41 is created by T21\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:269)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.msgCount: {{{\n    Concurrent write in thread T19 (locks held: {})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.inc(MemberImpl.java:155)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.send(McastServiceImpl.java:497)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.send(McastServiceImpl.java:487)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$SenderThread.run(McastServiceImpl.java:575)\n    T19 is created by T1\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:280)\n\n    Concurrent read in thread T1 (locks held: {Monitor@421ef1ee, Monitor@421ef194, Monitor@421a2667})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.inc(MemberImpl.java:155)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.send(McastServiceImpl.java:497)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.send(McastServiceImpl.java:487)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.stop(McastServiceImpl.java:331)\n        - locked Monitor@421a2667 at org.apache.catalina.tribes.membership.McastServiceImpl.stop(McastServiceImpl.java:n/a)\n        at org.apache.catalina.tribes.membership.McastService.stop(McastService.java:372)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.internalStop(ChannelCoordinator.java:229)\n        - locked Monitor@421ef194 at org.apache.catalina.tribes.group.ChannelCoordinator.internalStop(ChannelCoordinator.java:n/a)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.stop(ChannelCoordinator.java:121)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor.stop(MessageDispatchInterceptor.java:180)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.GroupChannel.stop(GroupChannel.java:444)\n        - locked Monitor@421ef1ee at org.apache.catalina.tribes.group.GroupChannel.stop(GroupChannel.java:n/a)\n        at org.apache.catalina.tribes.group.TestGroupChannelStartStop.testDoubleFullStart(TestGroupChannelStartStop.java:61)\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n        at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:535)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1182)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1033)\n    T1 is the main thread\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.payload: {{{\n    Concurrent read in thread T22 (locks held: {Monitor@5f2f118d})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getDataLength(MemberImpl.java:176)\n        at org.apache.catalina.tribes.io.ChannelData.getDataPackageLength(ChannelData.java:186)\n        at org.apache.catalina.tribes.io.XByteBuffer.createDataPackage(XByteBuffer.java:342)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:334)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAlive(TcpFailureDetector.java:310)\n        at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:133)\n        - locked Monitor@5f2f118d at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.memberAdded(TcpFailureDetector.java:126)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.memberAdded(DomainFilterInterceptor.java:65)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:245)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T22 is created by T13\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T13 (locks held: {Monitor@5b81c5f3})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.setPayload(MemberImpl.java:601)\n        at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:133)\n        - locked Monitor@5b81c5f3 at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:n/a)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.memberDataReceived(McastServiceImpl.java:389)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.receive(McastServiceImpl.java:356)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$ReceiverThread.run(McastServiceImpl.java:541)\n    T13 is created by T1\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:269)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.payload: {{{\n    Concurrent read in thread T59 (locks held: {})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getPayload(MemberImpl.java:480)\n        at org.apache.catalina.tribes.group.TestGroupChannelMemberArrival$TestMbrListener.report(TestGroupChannelMemberArrival.java:170)\n        at org.apache.catalina.tribes.group.TestGroupChannelMemberArrival$TestMbrListener.memberAdded(TestGroupChannelMemberArrival.java:133)\n        at org.apache.catalina.tribes.group.GroupChannel.memberAdded(GroupChannel.java:350)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.interceptors.DomainFilterInterceptor.memberAdded(DomainFilterInterceptor.java:65)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.memberAdded(ChannelInterceptorBase.java:87)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.memberAdded(ChannelCoordinator.java:245)\n        at org.apache.catalina.tribes.membership.McastService.memberAdded(McastService.java:461)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$2.run(McastServiceImpl.java:397)\n    T59 is created by T38\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent write in thread T38 (locks held: {Monitor@20ac1622})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.setPayload(MemberImpl.java:601)\n        at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:133)\n        - locked Monitor@20ac1622 at org.apache.catalina.tribes.membership.Membership.memberAlive(Membership.java:n/a)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.memberDataReceived(McastServiceImpl.java:389)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.receive(McastServiceImpl.java:356)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$ReceiverThread.run(McastServiceImpl.java:541)\n    T38 is created by T17\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:269)\n}}} \n\nData race on field org.apache.catalina.tribes.membership.MemberImpl.serviceStartTime: {{{\n    Concurrent read in thread T19 (locks held: {})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.getServiceStartTime(MemberImpl.java:470)\n        at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:203)\n        at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:170)\n        at org.apache.catalina.tribes.membership.MemberImpl.getData(MemberImpl.java:164)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.send(McastServiceImpl.java:501)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.send(McastServiceImpl.java:487)\n        at org.apache.catalina.tribes.membership.McastServiceImpl$SenderThread.run(McastServiceImpl.java:575)\n    T19 is created by T1\n        at org.apache.catalina.tribes.membership.McastServiceImpl.start(McastServiceImpl.java:280)\n\n    Concurrent write in thread T1 (locks held: {Monitor@b7fbe22, Monitor@b7fbe2b, Monitor@b72d033})\n ---->  at org.apache.catalina.tribes.membership.MemberImpl.setServiceStartTime(MemberImpl.java:590)\n        at org.apache.catalina.tribes.membership.McastServiceImpl.stop(McastServiceImpl.java:335)\n        - locked Monitor@b72d033 at org.apache.catalina.tribes.membership.McastServiceImpl.stop(McastServiceImpl.java:n/a)\n        at org.apache.catalina.tribes.membership.McastService.stop(McastService.java:372)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.internalStop(ChannelCoordinator.java:229)\n        - locked Monitor@b7fbe2b at org.apache.catalina.tribes.group.ChannelCoordinator.internalStop(ChannelCoordinator.java:n/a)\n        at org.apache.catalina.tribes.group.ChannelCoordinator.stop(ChannelCoordinator.java:121)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor.stop(MessageDispatchInterceptor.java:180)\n        at org.apache.catalina.tribes.group.ChannelInterceptorBase.stop(ChannelInterceptorBase.java:171)\n        at org.apache.catalina.tribes.group.GroupChannel.stop(GroupChannel.java:444)\n        - locked Monitor@b7fbe22 at org.apache.catalina.tribes.group.GroupChannel.stop(GroupChannel.java:n/a)\n        at org.apache.catalina.tribes.group.TestGroupChannelStartStop.testDoubleFullStart(TestGroupChannelStartStop.java:61)\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n        at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:535)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1182)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1033)\n    T1 is the main thread\n}}}\n\nThat's a lot of data races here."}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 185324, "time": "2015-09-17T20:36:22Z", "bug_id": 58395, "creation_time": "2015-09-17T20:36:22Z", "text": "No option but to use a fair amount of synchronization for these.\n\nI think I caught everything but I'll be re-running the tests with RV-Predict once all the issues are fixed so if I missed anything I'll catch it then.\n\nThis has been fixed in trunk and 8.0.x for 8.0.27 onwards."}, {"count": 2, "tags": [], "bug_id": 58395, "attachment_id": null, "id": 185338, "time": "2015-09-18T09:23:55Z", "creator": "markt@apache.org", "creation_time": "2015-09-18T09:23:55Z", "is_private": false, "text": "*** Bug 58401 has been marked as a duplicate of this bug. ***"}]