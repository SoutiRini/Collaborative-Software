[{"count": 0, "tags": [], "bug_id": 58386, "text": "Reported by RV-Predict (a dynamic race detector) when running the test suite:\nData race on field org.apache.catalina.tribes.io.ObjectReader.accessed: {{{\n    Concurrent write in thread T93 (locks held: {Monitor@8a841fe, Monitor@8a9a01a})\n ---->  at org.apache.catalina.tribes.io.ObjectReader.finish(ObjectReader.java:82)\n        - locked Monitor@8a9a01a at org.apache.catalina.tribes.io.ObjectReader.finish(ObjectReader.java:n/a)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.registerForRead(NioReplicationTask.java:246)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.drainChannel(NioReplicationTask.java:195)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:102)\n        - locked Monitor@8a841fe at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:n/a)\n    T93 is created by T24\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent read in thread T24 (locks held: {})\n ---->  at org.apache.catalina.tribes.io.ObjectReader.isAccessed(ObjectReader.java:87)\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.socketTimeouts(NioReceiver.java:215)\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.listen(NioReceiver.java:265)\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.run(NioReceiver.java:419)\n    T24 is created by T19\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.start(NioReceiver.java:91)\n}}} \n\nData race on field org.apache.catalina.tribes.io.ObjectReader.lastAccess: {{{\n    Concurrent read in thread T23 (locks held: {})\n ---->  at org.apache.catalina.tribes.io.ObjectReader.getLastAccess(ObjectReader.java:155)\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.socketTimeouts(NioReceiver.java:214)\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.listen(NioReceiver.java:265)\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.run(NioReceiver.java:419)\n    T23 is created by T19\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.start(NioReceiver.java:91)\n\n    Concurrent write in thread T91 (locks held: {Monitor@6514fc67})\n ---->  at org.apache.catalina.tribes.io.ObjectReader.setLastAccess(ObjectReader.java:163)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.drainChannel(NioReplicationTask.java:153)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:102)\n        - locked Monitor@6514fc67 at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:n/a)\n    T91 is created by T23\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n}}} \n\nData race on field org.apache.catalina.tribes.io.ObjectReader.lastAccess: {{{\n    Concurrent write in thread T91 (locks held: {Monitor@6514fc67, Monitor@69f56f6c})\n ---->  at org.apache.catalina.tribes.io.ObjectReader.access(ObjectReader.java:78)\n        - locked Monitor@69f56f6c at org.apache.catalina.tribes.io.ObjectReader.access(ObjectReader.java:n/a)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.drainChannel(NioReplicationTask.java:154)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:102)\n        - locked Monitor@6514fc67 at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:n/a)\n    T91 is created by T23\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent read in thread T23 (locks held: {})\n ---->  at org.apache.catalina.tribes.io.ObjectReader.getLastAccess(ObjectReader.java:155)\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.socketTimeouts(NioReceiver.java:214)\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.listen(NioReceiver.java:265)\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.run(NioReceiver.java:419)\n    T23 is created by T19\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.start(NioReceiver.java:91)\n}}} \n\nData race on field org.apache.catalina.tribes.io.ObjectReader.lastAccess: {{{\n    Concurrent write in thread T211 (locks held: {Monitor@216a833f, Monitor@17a455ea})\n ---->  at org.apache.catalina.tribes.io.ObjectReader.finish(ObjectReader.java:83)\n        - locked Monitor@17a455ea at org.apache.catalina.tribes.io.ObjectReader.finish(ObjectReader.java:n/a)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.cancelKey(NioReplicationTask.java:281)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.remoteEof(NioReplicationTask.java:240)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.drainChannel(NioReplicationTask.java:189)\n        at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:102)\n        - locked Monitor@216a833f at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:n/a)\n    T211 is created by T166\n        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1010)\n\n    Concurrent read in thread T166 (locks held: {})\n ---->  at org.apache.catalina.tribes.io.ObjectReader.getLastAccess(ObjectReader.java:155)\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.socketTimeouts(NioReceiver.java:214)\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.listen(NioReceiver.java:265)\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.run(NioReceiver.java:419)\n    T166 is created by T157\n        at org.apache.catalina.tribes.transport.nio.NioReceiver.start(NioReceiver.java:91)\n}}}", "id": 185150, "time": "2015-09-12T16:21:13Z", "creator": "yilong.li@runtimeverification.com", "creation_time": "2015-09-12T16:21:13Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 58386, "is_private": false, "text": "Fixed in trunk and 8.0.x for 8.0.27 onwards.", "id": 185292, "time": "2015-09-16T13:41:24Z", "creator": "markt@apache.org", "creation_time": "2015-09-16T13:41:24Z", "attachment_id": null}]