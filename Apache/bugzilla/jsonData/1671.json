[{"text": "My Configuration:\nSolaris 2.7 on Sparc CPU\nApache 1.3.12\nMod-Jk: 3.1.1, 3.2.1\nTomcat: 3.1\n\nMy Problem:\nMy Configuration works fine for more then 1 year without any problems. After I \nhad installed Tomcat mit mod_jk.so (Apache with dso-support) sometimes the the \nmain httpd process uses 100% CPU and it is not possible to restart or kill the \nprocess! I have to reboot the server. At that point a can use my Servlet normal \n(but very slow). Also I can see that the main httpd process is blocking port \n8007.\n\nI have tried mod_jk Versions: 3.1.1 and 3.2.1\n\nThis is realy a show stopper. Some ideas???\n\nGreatings\nStefan", "tags": [], "bug_id": 1671, "is_private": false, "count": 0, "id": 2344, "time": "2001-05-09T02:49:24Z", "creator": "sgrieben@gmx.de", "creation_time": "2001-05-09T02:49:24Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "carl.timo@ems.guj.de", "text": "We have the same problem  when a tomcat engine of an lb worker is about to tear\ndown.\n\nHeres a description of the error:\n\nThe hanging httpd processes do nothing but taking lots of cpu time.\nThe connection for this process has died. The client has no connection any\nmore and on the server a netstat says \"close_wait\".\nAn Apache server status shows that those processes are in status WAIT for a\nServlet response.\n\nA stacktrace shows that the httpd makes no system calls.\n\nThe logfile (mod_jk.log):\n[jk_ajp12_worker.c (596)]: ajpv12_handle_response, error writing back to\n server [jk_ajp12_worker.c (596)]: ajpv12_handle_response, error writing back\n to server ... 500 lines deleted ...\n[jk_ajp12_worker.c (596)]: ajpv12_handle_response, error writing back to\n server [jk_ajp12_worker.c (596)]: ajpv12_handle_response, error writing back\n to server [jk_ajp12_worker.c (596)]: ajpv12_handle_response, error writing\n back to server\n\nIf I look with gdb in the process it hangs in ajpv12_handle_response() from\nwhich the process will never return.\n\nI think, the exit conditions of mod_jk fail in this case and end in a life lock.\n\n", "id": 2676, "time": "2001-05-28T03:10:54Z", "bug_id": 1671, "creation_time": "2001-05-28T03:10:54Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 1671, "is_private": false, "text": "That seems to be resolved in 3.3, after the first error writing it'll\nnot try again.\n\nPlease check again with 3.3 or j-t-c, many bugs were fixed since 3.1", "id": 4802, "time": "2001-08-24T16:33:54Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-08-24T16:33:54Z", "attachment_id": null}]