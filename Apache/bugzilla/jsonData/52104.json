[{"count": 0, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "id": 150969, "time": "2011-10-27T16:57:04Z", "bug_id": 52104, "creation_time": "2011-10-27T16:57:04Z", "is_private": false, "text": "Currently, when an IOException occurs or subclasses, these errors are ignored in implementations of TCPClient interface:\nBinaryTCPClientImpl:\n- SocketTimeoutException is ignored => an incomplete result is returned\n- InterruptedIOException is ignored => an incomplete result is returned\n- IOException is handled => an empty result is returned (sampler interprets it as OK response)\nresulting in Samplers \n\nSame for TCPClientImpl, and for LengthPrefixedBinaryTCPClientImpl it ignores IOException and returns incomplete response."}, {"count": 1, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Also fixed NPE in TCPSampler:\n if an exception occurs , setSoTimeout will throw NPE if init fails\n\nDate: Thu Oct 27 20:45:11 2011\nNew Revision: 1190014\n\nURL: http://svn.apache.org/viewvc?rev=1190014&view=rev\nLog:\nBug 52104 - TCP Sampler handles badly errors\n\nModified:\n   jakarta/jmeter/trunk/src/protocol/tcp/org/apache/jmeter/protocol/tcp/sampler/BinaryTCPClientImpl.java\n   jakarta/jmeter/trunk/src/protocol/tcp/org/apache/jmeter/protocol/tcp/sampler/LengthPrefixedBinaryTCPClientImpl.java\n   jakarta/jmeter/trunk/src/protocol/tcp/org/apache/jmeter/protocol/tcp/sampler/TCPClient.java\n   jakarta/jmeter/trunk/src/protocol/tcp/org/apache/jmeter/protocol/tcp/sampler/TCPClientImpl.java\n   jakarta/jmeter/trunk/src/protocol/tcp/org/apache/jmeter/protocol/tcp/sampler/TCPSampler.java\n   jakarta/jmeter/trunk/xdocs/changes.xml", "id": 150980, "time": "2011-10-27T20:44:43Z", "bug_id": 52104, "creation_time": "2011-10-27T20:44:43Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 52104, "attachment_id": null, "text": "I'm not sure it's the best solution to throw an IOException on read() errors\n\nIf a response is truncated or otherwise incomplete, it might still contain useful information. This information was previously returned.\n\nMaybe there should be some kind of status code returned from read (e.g. Throwable?)\n\nPerhaps this could be a separate method (with default implementation in the abstract class).\n\nThoughts?", "id": 151181, "time": "2011-11-04T11:43:11Z", "creator": "sebb@apache.org", "creation_time": "2011-11-04T11:43:11Z", "is_private": false}, {"count": 3, "tags": [], "creator": "sebb@apache.org", "text": "See also Bug 52087", "id": 151182, "time": "2011-11-04T11:44:21Z", "bug_id": 52104, "creation_time": "2011-11-04T11:44:21Z", "is_private": false, "attachment_id": null}, {"text": "(In reply to comment #2)\n> I'm not sure it's the best solution to throw an IOException on read() errors\n> \n> If a response is truncated or otherwise incomplete, it might still contain\n> useful information. This information was previously returned.\n> \nBut Sample was marked OK while it was in Error.\n\n> Maybe there should be some kind of status code returned from read (e.g.\n> Throwable?)\n\nI don't understand what you mean. Do you want to provide what was partially read ? \n\n> \n> Perhaps this could be a separate method (with default implementation in the\n> abstract class).\n> \n> Thoughts?", "tags": [], "bug_id": 52104, "attachment_id": null, "count": 4, "id": 151211, "time": "2011-11-04T21:07:51Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-11-04T21:07:51Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 52104, "attachment_id": null, "is_private": false, "id": 151212, "time": "2011-11-04T22:00:14Z", "creator": "sebb@apache.org", "creation_time": "2011-11-04T22:00:14Z", "text": "Yes, I think it would be useful to provide the partial response, but it should be marked as in error."}, {"count": 6, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Date: Thu Nov 10 08:25:32 2011\nNew Revision: 1200210\n\nURL: http://svn.apache.org/viewvc?rev=1200210&view=rev\nLog:\nBug 52104 - TCP Sampler handles badly errors\nBug 52087 - TCPClient interface does not allow for partial reads\n\nAdded:\n   jmeter/trunk/src/protocol/tcp/org/apache/jmeter/protocol/tcp/sampler/ReadException.java   (with props)\nModified:\n   jmeter/trunk/src/protocol/tcp/org/apache/jmeter/protocol/tcp/sampler/BinaryTCPClientImpl.java\n   jmeter/trunk/src/protocol/tcp/org/apache/jmeter/protocol/tcp/sampler/LengthPrefixedBinaryTCPClientImpl.java\n   jmeter/trunk/src/protocol/tcp/org/apache/jmeter/protocol/tcp/sampler/TCPClient.java\n   jmeter/trunk/src/protocol/tcp/org/apache/jmeter/protocol/tcp/sampler/TCPClientImpl.java\n   jmeter/trunk/src/protocol/tcp/org/apache/jmeter/protocol/tcp/sampler/TCPSampler.java\n   jmeter/trunk/xdocs/changes.xml", "id": 151358, "time": "2011-11-10T08:27:00Z", "bug_id": 52104, "creation_time": "2011-11-10T08:27:00Z", "is_private": false, "attachment_id": null}]