[{"count": 0, "tags": [], "bug_id": 50435, "attachment_id": null, "text": "when using fop 1.0 in java webstart (here java 1.6.0_22, under windows and linux) it is not possible to render anything. We are getting always a SecurityException (even if <all-permissions/> is activated in the jnlp.\n\noutside of webstart everything works fine\n\n\n\n21:35:53,218 DEBUG [org.apache.fop.fo.FOTreeBuilder] Building formatting object tree\njava.lang.ExceptionInInitializerError\n\tat org.apache.fop.fo.expr.PropertyParser.parsePrimaryExpr(PropertyParser.java:324)\n\tat org.apache.fop.fo.expr.PropertyParser.parseUnaryExpr(PropertyParser.java:214)\n\tat org.apache.fop.fo.expr.PropertyParser.parseMultiplicativeExpr(PropertyParser.java:179)\n\tat org.apache.fop.fo.expr.PropertyParser.parseAdditiveExpr(PropertyParser.java:153)\n\tat org.apache.fop.fo.expr.PropertyParser.parseProperty(PropertyParser.java:127)\n\tat org.apache.fop.fo.expr.PropertyParser.parse(PropertyParser.java:93)\n\tat org.apache.fop.fo.properties.PropertyMaker.make(PropertyMaker.java:436)\n\tat org.apache.fop.fo.properties.FontSizePropertyMaker.make(FontSizePropertyMaker.java:54)\n\tat org.apache.fop.fo.PropertyList.convertAttributeToProperty(PropertyList.java:412)\n\tat org.apache.fop.fo.PropertyList.addAttributesToList(PropertyList.java:305)\n\tat org.apache.fop.fo.FObj.processNode(FObj.java:119)\n\tat org.apache.fop.fo.FOTreeBuilder$MainFOHandler.startElement(FOTreeBuilder.java:282)\n\tat org.apache.fop.fo.FOTreeBuilder.startElement(FOTreeBuilder.java:171)\n\tat com.sun.org.apache.xml.internal.serializer.ToXMLSAXHandler.closeStartTag(ToXMLSAXHandler.java:204)\n\tat com.sun.org.apache.xml.internal.serializer.ToSAXHandler.flushPending(ToSAXHandler.java:277)\n\tat com.sun.org.apache.xml.internal.serializer.ToXMLSAXHandler.startElement(ToXMLSAXHandler.java:646)\n\tat com.sun.org.apache.xml.internal.serializer.ToXMLSAXHandler.startElement(ToXMLSAXHandler.java:508)\n\tat GregorSamsa.template$dot$0()\n\tat GregorSamsa.applyTemplates()\n\tat GregorSamsa.applyTemplates()\n\tat GregorSamsa.transform()\n\tat com.sun.org.apache.xalan.internal.xsltc.runtime.AbstractTranslet.transform(AbstractTranslet.java:602)\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:709)\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:313)\n\tat \n\n\nCaused by: java.security.AccessControlException: access denied (java.util.PropertyPermission org.apache.fop.fo.properties.use-cache read)\n\tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:323)\n\tat java.security.AccessController.checkPermission(AccessController.java:546)\n\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\n\tat java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:1285)\n\tat java.lang.System.getProperty(System.java:686)\n\tat org.apache.fop.fo.properties.PropertyCache.<init>(PropertyCache.java:284)\n\tat org.apache.fop.fo.properties.FixedLength.<clinit>(FixedLength.java:48)", "id": 142495, "time": "2010-12-08T15:48:21Z", "creator": "armin.haaf@mercatis.com", "creation_time": "2010-12-08T15:48:21Z", "is_private": false}, {"count": 1, "tags": [], "creator": "armin.haaf@mercatis.com", "attachment_id": null, "id": 142496, "time": "2010-12-08T15:49:36Z", "bug_id": 50435, "creation_time": "2010-12-08T15:49:36Z", "is_private": false, "text": "this problem did not exists in version 0.95"}, {"count": 2, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "id": 155419, "time": "2012-03-30T20:36:06Z", "bug_id": 50435, "creation_time": "2012-03-30T20:36:06Z", "is_private": false, "text": "move to normal priority, pending further action"}, {"count": 3, "tags": [], "bug_id": 50435, "attachment_id": null, "text": "resetting P2 open bugs to P3 pending further review", "id": 157468, "time": "2012-04-07T01:43:21Z", "creator": "gadams@apache.org", "creation_time": "2012-04-07T01:43:21Z", "is_private": false}, {"count": 4, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "id": 157642, "time": "2012-04-08T00:10:39Z", "bug_id": 50435, "creation_time": "2012-04-08T00:10:39Z", "is_private": false, "text": "http://svn.apache.org/viewvc?view=revision&revision=1310924\n\nthis should prevent a security exception; if property is not accessible, then cache will not be used"}, {"count": 5, "tags": [], "bug_id": 50435, "attachment_id": null, "text": "I think that the commit above introduces an inconsistency related to the default values, when FOP is executed in a normal (cache is used, unless a system property is set) and in a security constrained environment (cache is never used). Assuming that the cache is significantly reducing the memory requirements, then it would be difficult to identify why this does not happen when executed for example with webstart. When a SecurityException is caught, I would set the useCache to true and log an info message.", "id": 157702, "time": "2012-04-08T14:38:15Z", "creator": "alex.giotis@gmail.com", "creation_time": "2012-04-08T14:38:15Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 50435, "attachment_id": null, "text": "(In reply to comment #5)\n> I think that the commit above introduces an inconsistency related to the\n> default values, when FOP is executed in a normal (cache is used, unless a\n> system property is set) and in a security constrained environment (cache is\n> never used). Assuming that the cache is significantly reducing the memory\n> requirements, then it would be difficult to identify why this does not happen\n> when executed for example with webstart. When a SecurityException is caught, I\n> would set the useCache to true and log an info message.\n\nchanged to 'true' and log (info) in case of access exception: see r1311070\n\nthanks alex!", "id": 157703, "time": "2012-04-08T19:04:44Z", "creator": "gadams@apache.org", "creation_time": "2012-04-08T19:04:44Z", "is_private": false}]