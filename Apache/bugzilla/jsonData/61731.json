[{"count": 0, "tags": [], "bug_id": 61731, "text": "There were many issues where file was corrupted, specifically when running on GUI mode, which means that jmx file can't be fixed to a working condition,\n\nWhen running a Test Plan, sometimes GUI stuck and test plan can't be saved.\n\nBackup mechanism currently happens when clicking Save\n\nI suggest A flag  \"Save before Run\" which will save (and backup file) before executing Run and therefore file will not be corrupted and can be opened again.", "id": 201955, "time": "2017-11-07T07:35:14Z", "creator": "orimarko@gmail.com", "creation_time": "2017-11-07T07:35:14Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 61731, "text": "Hello,\nIt looks like an interesting idea.\nCan you discuss this on dev mailing list so that we have some lights from other members before we start anything on it ?\n\n\nWe do popup a Save dialog when you first run a project without saving it, so maybe we should do the same here.\n\nRegards", "id": 201957, "time": "2017-11-07T07:39:54Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-11-07T07:39:54Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "orimarko@gmail.com", "attachment_id": null, "is_private": false, "id": 201974, "time": "2017-11-08T07:54:04Z", "bug_id": 61731, "creation_time": "2017-11-08T07:54:04Z", "text": "From mailing list add:\n\n- new property: save_automatically_before_run\n- For regression reasons, the property should be set to false by default to keep behavior as today\n\n- user can modify in Options > \"Save automatically before run\", it is stored in Preferences\n\nPreferences override property"}, {"count": 3, "tags": [], "bug_id": 61731, "attachment_id": 35505, "id": 201976, "time": "2017-11-08T08:09:15Z", "creator": "orimarko@gmail.com", "creation_time": "2017-11-08T08:09:15Z", "is_private": false, "text": "Created attachment 35505\nPatch with new action on menu\n\nPatch with new action on Options menu \"Save Automatically Before Run\" check box\nIt toggle property save_automatically_before_run value on runtime\nIf it's true before Run saves the test plan if exists"}, {"count": 4, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "is_private": false, "id": 201977, "time": "2017-11-08T08:24:12Z", "bug_id": 61731, "creation_time": "2017-11-08T08:24:12Z", "text": "Hello,\nThanks for your patch !\n\nMy notes:\n- Patch contains a test file for an old patch TestDigestFunction\n- I don't think you implemented the part related to preferences (have a look at LookAndFeelCommand to see what it is about)\n- Are you sure about guiInstance.setMenuItemLoggerPanel(saveBeforeRun); ?"}, {"count": 5, "tags": [], "text": "You are right, About preferences, can it just change property value (true/false) on run time instead of using preferences?", "attachment_id": null, "bug_id": 61731, "id": 201978, "time": "2017-11-08T08:35:32Z", "creator": "orimarko@gmail.com", "creation_time": "2017-11-08T08:35:32Z", "is_private": false}, {"count": 6, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "is_private": false, "id": 201979, "time": "2017-11-08T08:46:26Z", "bug_id": 61731, "creation_time": "2017-11-08T08:46:26Z", "text": "(In reply to orimarko from comment #5)\n> You are right, About preferences, can it just change property value\n> (true/false) on run time instead of using preferences?\n\nPreferences are persisted when you restart jmeter. Properties are not unless user updates his file.\nSo to be coherent with Language and LAF, I'd prefer we stick to what was discussed on user mailing list.\n\n\nThanks"}, {"count": 7, "tags": [], "creator": "orimarko@gmail.com", "attachment_id": 35506, "text": "Created attachment 35506\nPatch with new action on menu\n\nUpdate patch with preference override property value", "id": 201980, "time": "2017-11-08T09:39:01Z", "bug_id": 61731, "creation_time": "2017-11-08T09:39:01Z", "is_private": false}, {"count": 8, "attachment_id": 35507, "creator": "orimarko@gmail.com", "is_private": false, "id": 201983, "time": "2017-11-08T09:50:39Z", "bug_id": 61731, "creation_time": "2017-11-08T09:50:39Z", "tags": [], "text": "Created attachment 35507\nPatch with new action on menu\n\nAdd // $NON-NLS-1$ comments"}, {"count": 9, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "is_private": false, "id": 201998, "time": "2017-11-08T20:24:18Z", "bug_id": 61731, "creation_time": "2017-11-08T20:24:18Z", "text": "Author: pmouawad\nDate: Wed Nov  8 20:23:55 2017\nNew Revision: 1814635\n\nURL: http://svn.apache.org/viewvc?rev=1814635&view=rev\nLog:\nBug 61731 - Enhance Test plan Backup with option to save before run\nBugzilla Id: 61731\n\nAdded:\n    jmeter/trunk/src/core/org/apache/jmeter/gui/action/SaveBeforeRun.java   (with props)\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/gui/GuiPackage.java\n    jmeter/trunk/src/core/org/apache/jmeter/gui/action/AbstractAction.java\n    jmeter/trunk/src/core/org/apache/jmeter/gui/action/ActionNames.java\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages.properties\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages_fr.properties\n    jmeter/trunk/xdocs/changes.xml"}, {"count": 10, "tags": [], "bug_id": 61731, "text": "Author: pmouawad\nDate: Wed Nov  8 20:29:42 2017\nNew Revision: 1814636\n\nURL: http://svn.apache.org/viewvc?rev=1814636&view=rev\nLog:\nBug 61731 - Enhance Test plan Backup with option to save before run\nAdd documentation in properties and mention breaking change\nBugzilla Id: 61731\n\nModified:\n    jmeter/trunk/xdocs/changes.xml\n    jmeter/trunk/xdocs/usermanual/properties_reference.xml", "id": 201999, "time": "2017-11-08T20:30:04Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-11-08T20:30:04Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "Author: pmouawad\nDate: Wed Nov  8 20:32:21 2017\nNew Revision: 1814637\n\nURL: http://svn.apache.org/viewvc?rev=1814637&view=rev\nLog:\nBug 61731 - Enhance Test plan Backup with option to save before run\nOups forgot 1 file\nBugzilla Id: 61731\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/gui/util/JMeterMenuBar.java", "id": 202000, "time": "2017-11-08T20:44:52Z", "bug_id": 61731, "creation_time": "2017-11-08T20:44:52Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 61731, "text": "Author: pmouawad\nDate: Wed Nov  8 21:08:07 2017\nNew Revision: 1814649\n\nURL: http://svn.apache.org/viewvc?rev=1814649&view=rev\nLog:\nBug 61731 - Enhance Test plan Backup with option to save before run\nAdd property to jmeter.properties\nBugzilla Id: 61731\n\nModified:\n    jmeter/trunk/bin/jmeter.properties\n    \nAuthor: pmouawad\nDate: Wed Nov  8 21:05:57 2017\nNew Revision: 1814647\n\nURL: http://svn.apache.org/viewvc?rev=1814647&view=rev\nLog:\nBug 61731 - Enhance Test plan Backup with option to save before run\nFix test failure in headless mode\nBugzilla Id: 61731\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/gui/util/JMeterMenuBar.java", "id": 202005, "time": "2017-11-08T21:10:16Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-11-08T21:10:16Z", "is_private": false, "attachment_id": null}]