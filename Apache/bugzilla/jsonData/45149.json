[{"count": 0, "tags": [], "bug_id": 45149, "is_private": false, "id": 117429, "attachment_id": 22086, "creator": "rahul.g.nair@gmail.com", "creation_time": "2008-06-06T04:30:31Z", "time": "2008-06-06T04:30:31Z", "text": "Created attachment 22086\nA handler to provide cache purge operation\n\nA simple minded cache purge.\n    1) does not understand variants.\n    2) takes input as a post request with a number of URLs one per line\n    3) generates our own request, so should be possible to add vary &\n        headers\nconfiguration\n-------------\n<Location /cache>\n    SetHandler meta_cache\n</Location>\n\ninvoke e.g\n\n$cat > url.file\n/index.html\nhttp://webproxy.india.sun.com/index.html\n^D\n\n$wget --post-file url.file 'http://agneyam.india.sun.com:8080/cache?purge'"}, {"count": 1, "tags": [], "bug_id": 45149, "attachment_id": null, "is_private": false, "id": 117482, "time": "2008-06-08T11:02:52Z", "creator": "nick@webthing.com", "creation_time": "2008-06-08T11:02:52Z", "text": "Thanks for the patch, but aren't you doing rather too much work here?\n\n(1) Why wouldn't a normal subrequest serve for your fake_request?\n(2) How about mod_request vs your process_post?  Hmmm, OK, I think that's a limitation of mod_request rather than of your patch.\n\nMore importantly, you're touching private parts of mod_cache.  That's liable to break at any time.  If you can't get what you need from the public API, that's a subject that should be raised on the dev@ list.  As it stands, it's something between a patch and a module.\n\nAlso more fundamental: what protocols does your module implement?  I'm not sure what web caching protocols are relevant in the real world (e.g. compatibility with squid would be a plus), but folks on dev@ might know better."}, {"count": 2, "tags": [], "creator": "minfrin@sharp.fm", "attachment_id": null, "id": 140243, "time": "2010-09-27T17:30:47Z", "bug_id": 45149, "creation_time": "2010-09-27T17:30:47Z", "is_private": false, "text": "From what I can see, I don't see what PURGE does that isn't already done by a\nGET with a \"Cache-Control: no-cache\" header (to refresh) or \"no-store\" header\n(to purge) in the request?\n\nI suspect what is being attempted here is already offered out the box by\nRFC2616."}, {"count": 3, "tags": [], "creator": "minfrin@sharp.fm", "attachment_id": null, "id": 140809, "time": "2010-10-18T19:15:48Z", "bug_id": 45149, "creation_time": "2010-10-18T19:15:48Z", "is_private": false, "text": "htcacheclean in httpd-trunk includes the capability to purge cache entries from the command line:\n\nhtcacheclean -p /path/to/my/cache http://delete.me/?\n\nResolving as fixed for now, as we have means to purge entries in the cache via RFC2616, and (in trunk) via the command line."}]