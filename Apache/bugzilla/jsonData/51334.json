[{"count": 0, "attachment_id": null, "bug_id": 51334, "is_private": false, "id": 146922, "time": "2011-06-07T11:39:20Z", "creator": "oliver.wulff@zurich.ch", "creation_time": "2011-06-07T11:39:20Z", "tags": [], "text": "The specification WS-Federation describes the Web SSO solution in chapter 13:\nhttp://docs.oasis-open.org/wsfed/federation/v1.2/ws-federation.pdf\n\nTomcat should support this standard to integrate with other SSO solutions natively.\n\nInitially, an unauthenticated request is redirected to an identity provider (IP) which issues for instance a SAML token. The IP is an external system. The SAML token is validated by Tomcat (Replying Party) and creates the security context in Tomcat.\n\nThe idea is to write a custom Authenticator which triggers the redirect, verifies the signed SAML token, reads the claims information (like Role), set up a cookie and create the security context.\n\nThe authenticator must provide the following configuration options:\n- URL of IDP (mandatory)\n- audience URI (mandatory)\n- trusted certificate (signed SAML token) (mandatory)\n- service (RP) keystore to decrypt encrypted SAML tokens (optional)\n- list of requested claims (firstname, lastname, email, ...  see http://docs.oasis-open.org/imi/identity/v1.0/os/identity-1.0-spec-os.pdf)\n- URI of the claim which contains the roles (needed for isUserInRole()...)\n- token type, SAML 1.1, 2.0"}, {"count": 1, "attachment_id": null, "creator": "markt@apache.org", "text": "If implemented, I don't see this being back-ported to 6 so moving to Tomcat 7.\n\nMarking as an enhancement. As with any enhancement, providing a patch greatly increases the chances of it getting into the code base. Without a patch or a committer interested in implementing the feature it will eventually get resolved as WONTFIX.", "id": 146932, "time": "2011-06-07T14:59:36Z", "bug_id": 51334, "creation_time": "2011-06-07T14:59:36Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 51334, "attachment_id": 27797, "id": 150655, "creation_time": "2011-10-17T08:05:00Z", "time": "2011-10-17T08:05:00Z", "creator": "oliver.wulff@zurich.ch", "text": "Created attachment 27797\nProposal\n\nI've attached a complete maven project which consists of the following modules:\n\n- wsfed-core\nthis is the core federation funtionality which is servlet container agnostic\n\n- wsfed-tomcat\nthis is the adaption of the wsfed-core component for tomcat implemented as an authenticator\n\n- wsfed-tomcat-example\nthis is the sample web application where federation is enabled. This example must be deployed into a tomcat container which contains the above library and dependencies in wsfed-core and wsfed-tomcat.\n\n\nWS-Federation depends on a third party security component called Identity Provider (IDP). I've posted a blog which explains this in more detail. The Identity Provider is responsible to authenticate a user and a security token which is handled by an STS. The following two modules provide the IDP functionality:\n\n- wsfed-idp\nthis is the IDP component which is required for a web application which has federation enabled. For more information check this out:\nhttp://owulff.blogspot.com/2011/10/configure-and-deploy-identity-provider.html\n\n- wsfed-idp-sts\nthis is the STS component which is used by the idp. For more information check this out:\nhttp://owulff.blogspot.com/2011/10/configure-and-deploy-cxf-25-sts-part-i.html", "is_private": false}, {"count": 3, "tags": [], "bug_id": 51334, "attachment_id": null, "id": 152816, "creation_time": "2012-01-15T22:14:15Z", "time": "2012-01-15T22:14:15Z", "creator": "markt@apache.org", "text": "This is a relatively large amount of code and I do not recall any demand for this from the Tomcat user community. On that basis, I do not believe that this belongs in the Core Tomcat distribution.\n\nIt might make sense as a module and distributed as another extra (i.e. built as part of the release but provided as a separate download). Even then, I'm not convinced there is sufficient demand for this feature to make the effort required to add it and maintain it going forward worth while.", "is_private": false}, {"count": 4, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "On further reflection, I do not see sufficient demand for this to be included in the Tomcat core distribution or as an extra.\n\nFor now, I would suggest hosting this elsewhere, adding it to [1] and sending a note to the users list to ensure folks are aware that it exists. If demand for this feature increases, we can always revisit whether or not to include this feature in the Tomcat distribution.\n\nOne option for external hosting, would be Apache extras [2].\n\n[1] http://wiki.apache.org/tomcat/AddOns\n[2] http://code.google.com/a/apache-extras.org/hosting/", "id": 153026, "time": "2012-01-22T19:55:33Z", "bug_id": 51334, "creation_time": "2012-01-22T19:55:33Z", "is_private": false}]