[{"count": 0, "tags": [], "bug_id": 20062, "attachment_id": null, "is_private": false, "id": 37480, "time": "2003-05-20T14:41:18Z", "creator": "dpociu@itgp.com", "creation_time": "2003-05-20T14:41:18Z", "text": "As ant tasks are called from Java classes, it would be extremelly helpful to be \nable to control whether System.exit() is called or not at the end of the tasks.\n\nCurrently, the workaround is to replace the security manager with something \nlike org.apache.tools.ant.util.optional.NoExitSecurityManager. This tends to be \nmessy, since the exception stacktrace gets printed no matter what, and \ntherefore the ant output cannot easily displayed to a user.\n\nPerhaps a top-level attribute in the ant XML could specify whether System.exit\n() should be called or not."}, {"count": 1, "tags": [], "text": "well, the normal way to embed ant is to create your own Project class and drive\nit from there. But if you want to have better embedding of main, the way to do\nit would be to have a public inner main method that returned an exit code,\nleaving the existing main class to drive system.exit()", "attachment_id": null, "id": 37692, "creator": "stevel@apache.org", "time": "2003-05-23T21:01:13Z", "bug_id": 20062, "creation_time": "2003-05-23T21:01:13Z", "is_private": false}, {"count": 2, "text": "Don't embed using Main. It is the wrong thing to do. Main does a lot more\nbesides call System.exit. It will reassign System.out, System.err, System.in,\netc. You do not want this inside another application. Main is only suitable for\nuse from the command line. As Steve says, If you want to integrate Ant into\nanother application, use the Project object.", "creator": "conor@apache.org", "attachment_id": null, "id": 37817, "time": "2003-05-27T04:32:20Z", "bug_id": 20062, "creation_time": "2003-05-27T04:32:20Z", "tags": [], "is_private": false}]