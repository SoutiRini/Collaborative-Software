[{"count": 0, "tags": [], "bug_id": 60522, "is_private": false, "text": "Currently, if the connection is abandoned, it do nothing to commit() or rollback(). \nHowever, I have seen problems for this, especially on Oracle, because for Oracle, the Oracle JDBC driver will commit the transaction when close() is called. See http://stackoverflow.com/questions/218350/does-java-connection-close-rollback\n\nSo, the following code will causes dirty data in DB:\n\nConnection conn = getConnectionFromPool();\ntry {\n     //Do something with the conn. And after some time, it is ABANDONED.\n    conn.commit(); // OOPS!!!! Connection already closed because it is abandoned and closed.\n} catch (Exception e) {\n     log it;\n     conn.rollback();  <===== Rollback failed, because the connection is abandoned and closed.\n} \n\n!!!!!!!! Dirty data got. Because in Oracle, the JDBC driver will commit() the transaction when the connection is closed.", "id": 195664, "time": "2016-12-27T03:51:57Z", "creator": "lff0305@gmail.com", "creation_time": "2016-12-27T03:51:57Z", "attachment_id": null}]