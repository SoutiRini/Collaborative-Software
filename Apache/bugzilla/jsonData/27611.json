[{"count": 0, "tags": [], "bug_id": 27611, "attachment_id": null, "text": "I have two installations of Tomcat 5.0.18 with Axis 1.1 on 4 processor box \nrunning Linux 2.4.20 and using JDK 1.4.2.  Neither is in production right now so \nthey are not being hit too often - sometimes days go by without any accesses.  \nThis morning both responded fine initially then, after attempting to go to the \nmanager application, one froze up and would not respond to any more requests.  I \nwas able to generate the stack trace below using kill -QUIT.\n\nFull thread dump Java HotSpot(TM) Client VM (1.4.2-b28 mixed mode):\n\n\"Thread-35\" daemon prio=1 tid=0x0809f958 nid=0x5736 runnable [4dc82000..\n4dc82714]\n\tat java.net.PlainSocketImpl.socketAccept(Native Method)\n\tat java.net.PlainSocketImpl.accept(PlainSocketImpl.java:353)\n\t- locked <0x45603720> (a java.net.PlainSocketImpl)\n\tat java.net.ServerSocket.implAccept(ServerSocket.java:448)\n\tat java.net.ServerSocket.accept(ServerSocket.java:419)\n\tat org.apache.axis.monitor.SOAPMonitorService$ServerSocketThread.\nrun(SOAPMonitorService.java:228)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"TP-Monitor\" daemon prio=1 tid=0x4e702b98 nid=0x5736 in Object.wait() [4ea84000.\n.4ea84714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x45190290> (a org.apache.tomcat.util.threads.\nThreadPool$MonitorRunnable)\n\tat org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable.\nrun(ThreadPool.java:560)\n\t- locked <0x45190290> (a org.apache.tomcat.util.threads.\nThreadPool$MonitorRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"TP-Processor4\" daemon prio=1 tid=0x4e712638 nid=0x5736 runnable [4ea03000..\n4ea03714]\n\tat java.net.PlainSocketImpl.socketAccept(Native Method)\n\tat java.net.PlainSocketImpl.accept(PlainSocketImpl.java:353)\n\t- locked <0x45190318> (a java.net.PlainSocketImpl)\n\tat java.net.ServerSocket.implAccept(ServerSocket.java:448)\n\tat java.net.ServerSocket.accept(ServerSocket.java:419)\n\tat org.apache.jk.common.ChannelSocket.accept(ChannelSocket.java:287)\n\tat org.apache.jk.common.ChannelSocket.acceptConnections(ChannelSocket.java:\n581)\n\tat org.apache.jk.common.SocketAcceptor.runIt(ChannelSocket.java:767)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:683)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"TP-Processor3\" daemon prio=1 tid=0x4e711bc8 nid=0x5736 in Object.wait() \n[4e982000..4e982714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x45190530> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x45190530> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"TP-Processor2\" daemon prio=1 tid=0x4e711a68 nid=0x5736 in Object.wait() \n[4e901000..4e901714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x451905b0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x451905b0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"TP-Processor1\" daemon prio=1 tid=0x4e711878 nid=0x5736 in Object.wait() \n[4e880000..4e880714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x45190630> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x45190630> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Monitor\" prio=1 tid=0x081f0380 nid=0x5736 in Object.wait() [4e696000..\n4e696714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cb468> (a org.apache.tomcat.util.threads.\nThreadPool$MonitorRunnable)\n\tat org.apache.tomcat.util.threads.ThreadPool$MonitorRunnable.\nrun(ThreadPool.java:560)\n\t- locked <0x450cb468> (a org.apache.tomcat.util.threads.\nThreadPool$MonitorRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor25\" daemon prio=1 tid=0x081ef7c8 nid=0x5736 in Object.wait() \n[4e615000..4e615714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cb520> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cb520> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor24\" daemon prio=1 tid=0x081eec10 nid=0x5736 in Object.wait() \n[4e594000..4e594714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cb5a0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cb5a0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor23\" daemon prio=1 tid=0x081ee098 nid=0x5736 in Object.wait() \n[4e513000..4e513714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cb620> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cb620> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor22\" daemon prio=1 tid=0x0858d148 nid=0x5736 in Object.wait() \n[4e492000..4e492714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cb6a0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cb6a0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor21\" daemon prio=1 tid=0x0858c590 nid=0x5736 in Object.wait() \n[4e411000..4e411714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cb720> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cb720> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor20\" daemon prio=1 tid=0x0858b9d8 nid=0x5736 in Object.wait() \n[4e390000..4e390714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cb7a0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cb7a0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor19\" daemon prio=1 tid=0x0858ae20 nid=0x5736 in Object.wait() \n[4e30f000..4e30f714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cb820> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cb820> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor18\" daemon prio=1 tid=0x08589d68 nid=0x5736 in Object.wait() \n[4e28e000..4e28e714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cb8a0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cb8a0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor17\" daemon prio=1 tid=0x085891b0 nid=0x5736 in Object.wait() \n[4e20d000..4e20d714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cb920> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cb920> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor16\" daemon prio=1 tid=0x085885f8 nid=0x5736 in Object.wait() \n[4e18c000..4e18c714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cb9a0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cb9a0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor15\" daemon prio=1 tid=0x08587a40 nid=0x5736 in Object.wait() \n[4e10b000..4e10b714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cba20> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cba20> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor14\" daemon prio=1 tid=0x08591008 nid=0x5736 in Object.wait() \n[4e08a000..4e08a714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cbaa0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cbaa0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor13\" daemon prio=1 tid=0x08590450 nid=0x5736 in Object.wait() \n[4e009000..4e009714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cbb20> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cbb20> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor12\" daemon prio=1 tid=0x0858f898 nid=0x5736 in Object.wait() \n[4df88000..4df88714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cbba0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cbba0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor11\" daemon prio=1 tid=0x0858ed00 nid=0x5736 in Object.wait() \n[4df07000..4df07714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cbc20> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cbc20> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor10\" daemon prio=1 tid=0x08441e70 nid=0x5736 in Object.wait() \n[4de86000..4de86714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cbca0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cbca0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor9\" daemon prio=1 tid=0x084412b8 nid=0x5736 in Object.wait() \n[4de05000..4de05714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cbd20> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cbd20> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor8\" daemon prio=1 tid=0x08440700 nid=0x5736 in Object.wait() \n[4dd84000..4dd84714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cbda0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cbda0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor7\" daemon prio=1 tid=0x0843fc28 nid=0x5736 in Object.wait() \n[4dd03000..4dd03714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cbe20> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cbe20> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor6\" daemon prio=1 tid=0x085a6a88 nid=0x5736 in Object.wait() \n[4dbfb000..4dbfb714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cbea0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cbea0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor5\" daemon prio=1 tid=0x085a5f08 nid=0x5736 in Object.wait() \n[4db7a000..4db7a714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cbf20> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cbf20> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor4\" daemon prio=1 tid=0x085a5338 nid=0x5736 in Object.wait() \n[4daf9000..4daf9714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cbfa0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cbfa0> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor3\" daemon prio=1 tid=0x085a4968 nid=0x5736 in Object.wait() \n[4da78000..4da78714]\n\tat java.lang.Object.wait(Native Method)\n\t- waiting on <0x450cc020> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Object.wait(Object.java:429)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.\nrun(ThreadPool.java:656)\n\t- locked <0x450cc020> (a org.apache.tomcat.util.threads.\nThreadPool$ControlRunnable)\n\tat java.lang.Thread.run(Thread.java:534)\n\n\"http7000-Processor2\" daemon prio=1 tid=0x085a4008 nid=0x5736 in Object.wait() \n[4d9f7000..4d9f7714]\n\tat java.lang.Object.wait(Native Method)", "id": 53881, "time": "2004-03-11T17:05:34Z", "creator": "rcoad@exelixis.com", "creation_time": "2004-03-11T17:05:34Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 27611, "attachment_id": null, "is_private": false, "id": 53882, "time": "2004-03-11T17:11:56Z", "creator": "remm@apache.org", "creation_time": "2004-03-11T17:11:56Z", "text": "If you're running RedHat 9, set LD_ASSUME_KERNEL=2.4.1."}, {"count": 2, "tags": [], "text": "Should building latest snapshot of Tomcat from source using JDK-1.5.0-beta1 \nresolve this problem?", "attachment_id": null, "id": 56108, "creator": "max@kita.dgtu.donetsk.ua", "time": "2004-04-20T14:48:15Z", "bug_id": 27611, "creation_time": "2004-04-20T14:48:15Z", "is_private": false}]