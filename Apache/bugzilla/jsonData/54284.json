[{"count": 0, "tags": [], "bug_id": 54284, "text": "How to reproduce?\n\nFrom inside the contextInitialized-Method of an ServletContextListener instance, call\n\ncontext.addFilter(null,\n      new ArbitraryFilter(pathPrefix)).addMappingForUrlPatterns(null, false, pathPrefix);\n\nWhat happens?\n\nDec 12, 2012 3:59:03 PM org.apache.catalina.core.StandardContext filterStart\nSEVERE: Exception starting filter null\njava.lang.NullPointerException\n        at org.apache.tomcat.util.modeler.Util.objectNameValueNeedsQuote(Util.java:26)\n        at org.apache.catalina.core.ApplicationFilterConfig.registerJMX(ApplicationFilterConfig.java:421)\n        at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:282)\n        at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:108)\n        at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4650)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5306)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:657)\n        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1637)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:722)\n\nDec 12, 2012 3:59:03 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Error filterStart\nDec 12, 2012 3:59:03 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Context [] startup failed due to previous errors\n\n\nWhat should happen?\nEither - if null is not an allowed filter name, throw a IllegalArgumentException on context.addFilter(...)\nOr, if it is an allowed filter name, handle null-values gracefully", "id": 164037, "time": "2012-12-12T15:51:40Z", "creator": "benjamin.gehrels_external@immobilienscout24.de", "creation_time": "2012-12-12T15:51:40Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "benjamin.gehrels_external@immobilienscout24.de", "text": "I just recognized that i created the bug with a wrong affected version number.\nThe bug happens in Rel. 7.0.34, probably as a result of fixing #54170", "id": 164051, "attachment_id": null, "bug_id": 54284, "creation_time": "2012-12-13T11:45:24Z", "time": "2012-12-13T11:45:24Z", "is_private": false}, {"count": 2, "tags": [], "creator": "violetagg@apache.org", "attachment_id": null, "text": "Hi,\n\nI'm going to work on this.\n\nRegards\nVioleta", "id": 164338, "time": "2013-01-02T21:56:02Z", "bug_id": 54284, "creation_time": "2013-01-02T21:56:02Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 54284, "attachment_id": null, "id": 164360, "time": "2013-01-03T16:30:07Z", "creator": "violetagg@apache.org", "creation_time": "2013-01-03T16:30:07Z", "is_private": false, "text": "Hi,\n\nServlet 3.0 javadoc does not specify what should be the behavior when filterName is NULL.\nI requested a clarification [1] from the Servlet Specification expert group.\nI'm changing the status to NEEDINFO.\n\nRegards\nVioleta\n\n[1] http://java.net/jira/browse/SERVLET_SPEC-51"}, {"count": 4, "tags": [], "bug_id": 54284, "attachment_id": 29817, "id": 164401, "time": "2013-01-05T12:48:28Z", "creator": "violetagg@apache.org", "creation_time": "2013-01-05T12:48:28Z", "is_private": false, "text": "Created attachment 29817\nPatch proposal"}, {"count": 5, "tags": [], "text": "Created attachment 29818\nTest case", "attachment_id": 29818, "id": 164402, "creator": "violetagg@apache.org", "time": "2013-01-05T12:51:17Z", "bug_id": 54284, "creation_time": "2013-01-05T12:51:17Z", "is_private": false}, {"count": 6, "tags": [], "creator": "violetagg@apache.org", "text": "Hi,\n\nAs per clarification provided by Servlet Specification expert group - IllegalArgumentException should be thrown when filter name is NULL or empty string.\n\nPatch proposal and test case are attached.\n\nAny comments will be appreciated.\n\nRegards\nVioleta", "id": 164403, "attachment_id": null, "bug_id": 54284, "creation_time": "2013-01-05T12:55:33Z", "time": "2013-01-05T12:55:33Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 54284, "attachment_id": 29822, "id": 164427, "time": "2013-01-07T11:57:14Z", "creator": "violetagg@apache.org", "creation_time": "2013-01-07T11:57:14Z", "is_private": false, "text": "Created attachment 29822\npatch proposal"}, {"count": 8, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "Thanks for the patch and for working with the EG to obtain the clarification.\n\nThe patch has been applied to trunk and 7.0.x and will be included in 7.0.35 onwards.", "id": 164443, "time": "2013-01-07T19:11:04Z", "bug_id": 54284, "creation_time": "2013-01-07T19:11:04Z", "is_private": false}]