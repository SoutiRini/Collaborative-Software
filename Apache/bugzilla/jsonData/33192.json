[{"count": 0, "attachment_id": null, "bug_id": 33192, "is_private": false, "id": 69905, "time": "2005-01-21T07:43:19Z", "creator": "surfer97301@yahoo.com", "creation_time": "2005-01-21T07:43:19Z", "tags": [], "text": "First is the ant verbose output then follows the dos command output.\n\nrun-server:\n     [echo] hello \"-Xdebug\n-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501\"\n     [java] Executing 'F:\\program files\\j2sdk14204\\jre\\bin\\java.exe' with arguments:\n     [java] '\"-Xdebug\n-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501\"'\n     [java] '-jar'\n     [java] 'C:\\projects\\scjd\\release-temp\\runme.jar'\n     [java] 'server'\n     [java]\n     [java] The ' characters around the executable and arguments are\n     [java] not part of the command.\n     [java] Unrecognized debug option: -Xdebug\n-Xrunjdwp:transport=dt_socket,suspend=n,server=y,addr\ness=20501\n     [java] Could not create the Java virtual machine.\n     [java] Java Result: 1\n  [antcall] Exiting C:\\projects\\scjd\\build\\build.xml.\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n\nDOS Command Output\n\nC:\\projects\\scjd\\build>\"F:\\program files\\j2sdk14204\\jre\\bin\\java.exe\" -Xdebug\n-Xrunjdwp:transport=dt\n_socket,suspend=n,server=y,address=20501 -jar\nC:\\projects\\scjd\\release-temp\\runme.jar server\nAttempting to save fields\nsetting (port, 1099)\nsetting (database.location, db-1x1.db)\nStart Server"}, {"count": 1, "tags": [], "bug_id": 33192, "is_private": false, "text": "Can post the <java> built of your build file, theere may be some error there. It\nlooks like the -X command are all being merged onto one command. ", "id": 69916, "time": "2005-01-21T12:23:09Z", "creator": "stevel@apache.org", "creation_time": "2005-01-21T12:23:09Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "surfer97301@yahoo.com", "text": "My jvmarg value looks something like:\n\n<jvmarg value=\"-Xdebug\n-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501\"/>\n\nDo I have to put these as two seperate arguments?  According to the command line\ndocumentation it looks like I should be able to use them as a single argument as\nseen below:\n\n  <arg value=\"-l -a\"/>\nis a single command-line argument containing a space character.", "id": 69931, "time": "2005-01-21T19:32:20Z", "bug_id": 33192, "creation_time": "2005-01-21T19:32:20Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "ddevienne@lgc.com", "attachment_id": null, "is_private": false, "id": 69934, "time": "2005-01-21T20:17:26Z", "bug_id": 33192, "creation_time": "2005-01-21T20:17:26Z", "text": "You need either:\n\n<jvmarg line=\"-Xdebug\n-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501\"/>\n\nor\n\n<jvmarg value=\"-Xdebug\"/>\n<jvmarg value=\"-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501\"/>\n\n--DD"}, {"count": 4, "tags": [], "bug_id": 33192, "is_private": false, "id": 69970, "creation_time": "2005-01-22T04:00:49Z", "time": "2005-01-22T04:00:49Z", "creator": "surfer97301@yahoo.com", "text": "\nTried the line= attribute value combo but pretty much the same result.\n\n\nrun-server:\n     [echo] hello \"-Xdebug\n-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501 \"\n     [java] Executing 'F:\\program files\\j2sdk14204\\jre\\bin\\java.exe' with arguments:\n     [java] '-Xdebug\n-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501 '\n     [java] '-jar'\n     [java] 'C:\\projects\\scjd\\release-temp\\runme.jar'\n     [java] 'server'\n     [java]\n     [java] The ' characters around the executable and arguments are\n     [java] not part of the command.\n     [java] Unrecognized debug option: -Xdebug\n-Xrunjdwp:transport=dt_socket,suspend=n,server=y,addr\ness=20501\n     [java] Could not create the Java virtual machine.\n     [java] Java Result: 1\n  [antcall] Exiting C:\\projects\\scjd\\build\\build.xml.", "attachment_id": null}, {"count": 5, "tags": [], "creator": "surfer97301@yahoo.com", "text": "Here are my build rules.\n\n# from mybuild.properties\n\nDEBUG_JVM_OPTIONS=\"-Xdebug\n-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501\"\n\n#start of build.xml\n\n<property file=\"mybuild.properties\"/>\n\n\t<target name=\"debug-server\">\n\t\t<property name=\"jvm.options\" value=\"${DEBUG_JVM_OPTIONS}\"/>\n\t\t<antcall target=\"run-server\"/>\n\t</target>\n\n\t<target name=\"run-server\">\n\t\t<echo message=\"hello ${jvm.options}\"/>\n\t\t<java dir=\"${project.release.tempdir}\" jar=\"${project.release.jar}\"  fork=\"true\">\n\t\t\t<arg line=\"server\" />\n\t\t\t<jvmarg line=\"${jvm.options}\"/>\n\t\t</java>\n\t</target>", "id": 69971, "time": "2005-01-22T04:03:13Z", "bug_id": 33192, "creation_time": "2005-01-22T04:03:13Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 33192, "is_private": false, "id": 69972, "creation_time": "2005-01-22T04:09:33Z", "time": "2005-01-22T04:09:33Z", "creator": "surfer97301@yahoo.com", "text": "It does however work if i directly insert the value into the ant target like so:\n\n<target name=\"run-server\">\n\t\t<echo message=\"hello ${jvm.options}\"/>\n\t\t<java dir=\"${project.release.tempdir}\" jar=\"${project.release.jar}\"  fork=\"true\">\n\t\t\t<arg line=\"server\" />\n\t\t\t<jvmarg line=\"-Xdebug\n-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501\"/>\n\t\t</java>\n\t</target>\n\nand then the verbose output looks like it properly splits the string into\narguments.  \n\n     [java] Executing 'F:\\program files\\j2sdk14204\\jre\\bin\\java.exe' with arguments:\n     [java] '-Xdebug'\n     [java] '-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501'\n     [java] '-jar'\n     [java] 'C:\\projects\\scjd\\release-temp\\runme.jar'\n     [java] 'server'\n     [java]\n     [java] The ' characters around the executable and arguments are\n     [java] not part of the command.\n     [java] Attempting to save fields\n     [java] setting (port, 1099)\n     [java] setting (database.location, db-1x1.db)\n     [java] Start Server\n", "attachment_id": null}, {"count": 7, "tags": [], "creator": "peterreilly@apache.org", "is_private": false, "id": 70015, "creation_time": "2005-01-24T10:46:57Z", "time": "2005-01-24T10:46:57Z", "bug_id": 33192, "text": "You have \" in the properties file, this is not necessary\nand is most likely the cause of your problem.", "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 33192, "is_private": false, "text": "You were correct, the problem was the quotes in the properties file.  First\nthank you to everyone who read through my bug report and helped me to solve my\nissue!!  Also thanks for all the development on Ant, it is a great tool!    \n\nIn an effort to make it better/easier to use I can think of a couple things.\n\nThe first thing that would have helped me out would be if the verbose output for\nant had been a little more helpful and showed the command how it would have been\nrun.  Then I could have seen that the quotes were causing the problem when I\ntried to run the output.\n\nInstead of outputing something like:\n\n     [java] Executing 'F:\\program files\\j2sdk14204\\jre\\bin\\java.exe' with arguments:\n     [java] '-Xdebug'\n     [java] '-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501'\n     [java] '-jar'\n     [java] 'C:\\projects\\scjd\\release-temp\\runme.jar'\n     [java] 'server'\n\nCould you not output something like:\n\n     [java] F:\\program files\\j2sdk14204\\jre\\bin\\java.exe\" \"-Xdebug\n-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501\" -jar\nC:\\projects\\scjd\\release-temp\\runme.jar server\n\nor is there really no easy way to output the commandline equivalent of the call\nin the verbose output?\n\nThe final thing that might be nice is if on the using page\nhttp://ant.apache.org/manual/using.html you had a little excerpt of code like\ncomment #5 of this bug showing how to use a basic property file to propagate\nvalues to ant and commenting on how using quotes around your values is\nunnecessary and can lead to problems.  Even just the little example would likely\nbe quite helpful as this feature is quite useful.\n\nThanks again!\n\n\n", "id": 70057, "time": "2005-01-25T08:44:35Z", "creator": "surfer97301@yahoo.com", "creation_time": "2005-01-25T08:44:35Z", "attachment_id": null}, {"count": 9, "tags": [], "text": "(In reply to comment #8)\n\n> The first thing that would have helped me out would be if the verbose output for\n> ant had been a little more helpful and showed the command how it would have been\n> run.  Then I could have seen that the quotes were causing the problem when I\n> tried to run the output.\n> \n> Instead of outputing something like:\n> \n>      [java] Executing 'F:\\program files\\j2sdk14204\\jre\\bin\\java.exe' with\narguments:\n>      [java] '-Xdebug'\n>      [java] '-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501'\n>      [java] '-jar'\n>      [java] 'C:\\projects\\scjd\\release-temp\\runme.jar'\n>      [java] 'server'\n> \n> Could you not output something like:\n> \n>      [java] F:\\program files\\j2sdk14204\\jre\\bin\\java.exe\" \"-Xdebug\n> -Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501\" -jar\n> C:\\projects\\scjd\\release-temp\\runme.jar server\n> \n> or is there really no easy way to output the commandline equivalent of the call\n> in the verbose output?\n\nThe output Ant generates is as close to reality as it gets.  Your example would\nsimply be wrong.  Ant uses the String[] version of exec, i.e. it doesn't quote\nanything and doesn't use a \"command line\" at all.", "is_private": false, "bug_id": 33192, "id": 70058, "time": "2005-01-25T08:49:30Z", "creator": "bodewig@apache.org", "creation_time": "2005-01-25T08:49:30Z", "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 33192, "text": "This was not closed!", "id": 93501, "time": "2006-09-13T08:27:27Z", "creator": "peterreilly@apache.org", "creation_time": "2006-09-13T08:27:27Z", "is_private": false, "attachment_id": null}]