[{"count": 0, "tags": [], "creator": "inu@inusasha.de", "attachment_id": null, "is_private": false, "id": 175113, "time": "2014-05-08T13:43:33Z", "bug_id": 56503, "creation_time": "2014-05-08T13:43:33Z", "text": "When a variable is not defined and surounded by a IfDefine (on this variable),\na warning is raised, which is not relevant.\n\nThis warning should not appear.\nThe IfDefine-section have to dropped, in front of the variable replacment. (i think)\n\nHere a simple example.\nservername_sso is not defined for this configuration.\n\n# Config\n<IfDefine servername_sso>\n  <VirtualHost *:80>\n    # intern\n    ServerName                 ${servername_sso}\n    RedirectMatch permanent    ^/$ /auth/login/ssointern\n    RedirectMatch permanent    ^/auth/login$ /auth/login/ssointern\n  </VirtualHost>\n</IfDefine>\n\n# ErrorMessage\n[core:warn] [pid 7482] AH00111: Config variable ${servername_sso} is not defined"}, {"count": 1, "tags": [], "creator": "christophe.jaillet@wanadoo.fr", "attachment_id": null, "is_private": false, "id": 176693, "time": "2014-07-26T09:41:15Z", "bug_id": 56503, "creation_time": "2014-07-26T09:41:15Z", "text": "Confirmed.\n\nThis is due to a call to 'ap_resolve_env' in 'ap_soak_end_container()' (config.c)"}, {"count": 2, "tags": [], "creator": "Chaosed0@gmail.com", "attachment_id": null, "is_private": false, "id": 176772, "time": "2014-07-30T14:32:23Z", "bug_id": 56503, "creation_time": "2014-07-30T14:32:23Z", "text": "ap_soak_end_container() throws away anything that isn't a \"<Container>\" or \"</Container>\" directive, so the ap_resolve_env() would only have an impact if a var was defined to one of those. I'm not sure if there's any other use cases that I'm missing, but simply removing the ap_resolve_env() call doesn't seem like it would be much of an issue.\n\nAn alternative would be to ignore undefined vars in an <IfX> container, but this would require some restructuring of ap_resolve_env(), which currently doesn't have a mechanism for that."}, {"count": 3, "tags": [], "bug_id": 56503, "attachment_id": null, "is_private": false, "id": 176781, "time": "2014-07-30T19:48:22Z", "creator": "christophe.jaillet@wanadoo.fr", "creation_time": "2014-07-30T19:48:22Z", "text": "See https://marc.info/?l=apache-httpd-dev&m=140635726532490&w=2 on httpd-dev mailing list.\n\nIf no response within the coming weeks, I will apply the change to trunk and propose it to backport for 2.4.x"}, {"count": 4, "tags": [], "creator": "inu@inusasha.de", "text": "I will try it, this or next week, and give response.\n\nThanks,\nSascha", "id": 176782, "time": "2014-07-30T20:01:33Z", "bug_id": 56503, "creation_time": "2014-07-30T20:01:33Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 56503, "attachment_id": null, "text": "Ich had tested the httpd 2.4.10 with the given fix on Sparc-Solaris 2.10\n\nBuild:         fine\nRunning:       fine \n               (only short time, but is now in our main test-stage)\nParsed Config: fine\n               is identical between 2.4.9 and 2.4.10+fix \n               (checked via info_handler output)\n\nThanks to team :)\n\n\nBye,\nSascha", "id": 176982, "time": "2014-08-07T14:31:46Z", "creator": "inu@inusasha.de", "creation_time": "2014-08-07T14:31:46Z", "is_private": false}, {"count": 6, "tags": [], "creator": "christophe.jaillet@wanadoo.fr", "attachment_id": null, "id": 178522, "time": "2014-10-16T21:54:27Z", "bug_id": 56503, "creation_time": "2014-10-16T21:54:27Z", "is_private": false, "text": "This has been fixed in 2.4.x in r1621603.\n\nThis will be part of 2.4.11"}, {"count": 7, "tags": [], "creator": "christophe.jaillet@wanadoo.fr", "attachment_id": null, "id": 189762, "time": "2016-03-28T16:38:07Z", "bug_id": 56503, "creation_time": "2016-03-28T16:38:07Z", "is_private": false, "text": "*** Bug 59242 has been marked as a duplicate of this bug. ***"}]