[{"count": 0, "tags": [], "text": "Simple 'nuf. (Could it be a platform-specific issue? I can verify on Linux.)", "attachment_id": null, "id": 39965, "creator": "Christopher.D.Knight@nasa.gov", "time": "2003-07-03T23:40:07Z", "bug_id": 21330, "creation_time": "2003-07-03T23:40:07Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 21330, "text": "I just did a test of truncation on Solaris 8 and it worked for me.  We'll\nneed to know how you are calling apr_file_open(), but first:\n\nPlease try this updated version of srclib/apr/test/testfile.c with your\n2.0.46 source tree: http://www.apache.org/~trawick/testfile.c\n\nI just added a test of APR_TRUNCATE to see if I could hit a truncation problem.\n\nTo try it out:\n\ncopy the file into srclib/apr/test\ncd srclib/apr/test\nmake testall\n./testall -v testfile\n\nLet us know whether or not it works on your box, and if this test works let us\nknow how your testcase is different.  (Compare with function test_truncate() in\nthe new testfile.c mentioned above.)\n\nThanks!\n", "id": 40351, "time": "2003-07-10T15:06:29Z", "creator": "trawick@apache.org", "creation_time": "2003-07-10T15:06:29Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "Yup, the test passes...I'm using:\n\napr_file_open(&file, \"my/path\", APR_WRITE | APR_CREATE | APR_TRUNCATE,\nAPR_OS_DEFAULT, pool)\n\nI've even tried adding APR_CREATE to testfile.c and other tests. Strange. I'll\nmark this as INVALID and reopen if I can generate a test that recreates the problem.", "is_private": false, "id": 40363, "creator": "Christopher.D.Knight@nasa.gov", "time": "2003-07-10T18:26:08Z", "bug_id": 21330, "creation_time": "2003-07-10T18:26:08Z", "attachment_id": null}]