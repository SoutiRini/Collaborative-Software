[{"count": 0, "tags": [], "text": "After serving a lot of requests, Apache sets the socket state to \"CLOSE\" (as \nreported by netstat `netstat -n -a -t`).  After this, only [MaxClients] \nconnections will be served before the server stops taking requests.  I've \ndisabled just about everything on the 'configure' line and it still does this \nno matter what's enabled or disabled.  It also does it regardless of virtual \nhost and keep-alive settings.\n\nIt's a Slackware distro running kernel 2.2.19 on a AMD Athlon chip.\n\nThe quickest way to force it to do this is to write a script that throws ~75 of \nthe following requests at the server:\n\nGET /scripts/..%2f../winnt/system32/cmd.exe?/c+dir HTTP/1.0\nHOST: www\nCONNECTION: CLOSE\n\nVarious GET lines take different numbers of runs before causing the server to \ndo this.  My server needs to be restarted about once every other week to keep \nit running, but I do get a large number of exploit attempts (like the one \nabove).", "is_private": false, "id": 32646, "creator": "lonewolf@greyskydesigns.com", "time": "2003-03-07T09:43:56Z", "bug_id": 17764, "creation_time": "2003-03-07T09:43:56Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 17764, "text": "Looks like I didn't search this bug database hard enough. This appears to be a \nlog pipe problem like what was reported in bug #15761.\n\n*** This bug has been marked as a duplicate of 15761 ***", "id": 32647, "time": "2003-03-07T09:58:34Z", "creator": "lonewolf@greyskydesigns.com", "creation_time": "2003-03-07T09:58:34Z", "is_private": false, "attachment_id": null}]