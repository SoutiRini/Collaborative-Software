[{"count": 0, "tags": [], "bug_id": 45235, "attachment_id": null, "id": 117808, "time": "2008-06-19T04:04:43Z", "creator": "regis.martin@americas.bnpparibas.com", "creation_time": "2008-06-19T04:04:43Z", "is_private": false, "text": "Windows environment:\nSeems that environment PATH is not provided/forwarded to perl when called.\nOr that %SystemRoot% variables are not interpreted\n\nSystem Variables:\nPATH=C:\\perl\\bin;C:\\Windows\\System32;C:\\Windows\nJAVA_HOME=C:\\Program Files\\Java\\jdk1.6.0_06\nCATALINA_HOME=E:\\tomcat-5.5.9\nSystemRoot=C:\\Windows\n\nConf:\n    <servlet>\n        <servlet-name>cgi</servlet-name>\n        <servlet-class>org.apache.catalina.servlets.CGIServlet</servlet-class>\n        <init-param>\n          <param-name>debug</param-name>\n          <param-value>1</param-value>\n        </init-param>\n        <init-param>\n\t  <param-name>executable</param-name>\n\t  <param-value>C:/Perl/bin/perl.exe</param-value>\n        </init-param>\n        <init-param>\n          <param-name>cgiPathPrefix</param-name>\n          <param-value>WEB-INF/cgi</param-value>\n        </init-param>\n        <init-param>\n          <param-name>passShellEnvironment</param-name>\n\t  <param-value>true</param-value>\n        </init-param>\n        <load-on-startup>5</load-on-startup>\n    </servlet>\n\nCalling a simple cgi script such as bellow shows that PATH is not setup\n#!C:/Perl/bin/perl.exe\nuse CGI qw(:standard);\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\nuse Data::Dumper ; \nuse Net::LDAP;\nmy $IN = new CGI;\nprint \"Content-type:text/html\\n\\n\";\nprint <<EndOfHTML;\n<html><head><title>Print Environment</title></head>\n<body>\nEndOfHTML\nprint \"Path:\" . $ENV{'PATH'} . \"<BR>\";\n\n\nTracing systems calls shows:\nperl searcing for dlls or protocol in:\nC:\\Perl\\bin\\%SystemRoot%\\System32\nThen in C:\\Windows\\System32\\%SystemRoor%\n\nDuring Java installation the ENV PATH was setup with a foward slash \nC:\\Perl\\Bin\\;C:\\windows\\System32"}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 121129, "creation_time": "2008-10-01T09:52:22Z", "time": "2008-10-01T09:52:22Z", "bug_id": 45235, "text": "This works for me on the latest 5.5.x. If you still see this problem please provide the exact steps to reproduce the error you see from a clean Tomcat install.", "is_private": false}]