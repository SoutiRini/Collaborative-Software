[{"count": 0, "text": "We have a lot of problems that timeouts in our build environment do not work as\nwe expect. A timeout for the <java> task will kill the Java programm all right -\nbut not, when that Java programm has itself started (as in: fork) another programm.\n\nI'll include a build file that demonstrates the problem, plus the output\ngenerated by that build.\n\nIt starts a Java programm, with a timeout of 5 seconds. That Java programm\nhappens to be Ant, which in turn starts yet another Java programm, this time\nwith a timeout of 10 seconds. That final Java program simply does nothing for 30\nseconds.\n\nAfter reading the documentation, we'd expect this build to run some 5 seconds,\nplus a bit of overhead for the setup.\n\nInstead, it takes 30 seconds (plus a bit of overhead), to complete. Neither the\n5 second timeout nor the 10 second timeout are obeyed.\n\nThis problem seems to be specific to MS-Windows. We have tried something very\nsimilar under Linux, where it works just fine.\n\nThis is a \"lab\" example to clearly demonstrate the problem. Our real life\nsituation called an <exec> task instead of the second <java> task. That did not\nwork, either.", "creator": "andreas.krueger@famsik.de", "attachment_id": null, "id": 83220, "time": "2005-12-05T12:20:14Z", "bug_id": 37787, "creation_time": "2005-12-05T12:20:14Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "andreas.krueger@famsik.de", "attachment_id": 17147, "text": "Created attachment 17147\nA build file that demonstrates the problem.", "id": 83221, "time": "2005-12-05T12:21:49Z", "bug_id": 37787, "creation_time": "2005-12-05T12:21:49Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 37787, "text": "Created attachment 17148\nThe System.out generated by build.xml.\n\nSystem.err had to say:\n\nBUILD FAILED\nC:\\muell\\timeout\\build.xml:29: Timeout: killed the sub-process\n\nTotal time: 34 seconds", "id": 83222, "time": "2005-12-05T12:29:49Z", "creator": "andreas.krueger@famsik.de", "creation_time": "2005-12-05T12:29:49Z", "is_private": false, "attachment_id": 17148}, {"count": 3, "tags": [], "creator": "peterreilly@apache.org", "attachment_id": null, "text": "This is the same root cause as\nbug 5003 and 40632\n\n*** This bug has been marked as a duplicate of 5003 ***", "id": 94855, "time": "2006-10-16T07:59:37Z", "bug_id": 37787, "creation_time": "2006-10-16T07:59:37Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 37787, "attachment_id": null, "id": 150116, "time": "2011-10-04T10:54:28Z", "creator": "andreas.krueger@famsik.de", "creation_time": "2011-10-04T10:54:28Z", "is_private": false, "text": "As of Ant 1.8.2, my old trial build script now runs as expected:\n\n...\nBUILD FAILED\nD:\\cygwin\\tools\\home\\KruegerA\\muell\\old-ant-bug\\build.xml:29: Timeout: killed the sub-process\n\nTotal time: 5 seconds"}]