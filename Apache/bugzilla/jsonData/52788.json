[{"count": 0, "tags": [], "bug_id": 52788, "attachment_id": null, "id": 154326, "time": "2012-02-28T14:21:42Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-02-28T14:21:42Z", "is_private": false, "text": "Hello,\nAnalyzing code I must say I don't understand what's the use of these lines in HttpRequestHdr#createSampler:\n\n           // Damn! A whole new GUI just to instantiate a test element?\n            // Isn't there a beter way?\n            HttpTestSampleGui tempGui = new HttpTestSampleGui();\n            sampler.setProperty(TestElement.GUI_CLASS, tempGui.getClass().getName());\n            tempGui.configure(sampler);\n            tempGui.modifyTestElement(sampler);\n\n\nThey should be in my opinion replaced by:\n\n            sampler.setProperty(TestElement.GUI_CLASS, HttpTestSampleGui.class.getName());\n\n\nMy analysis is the following:\n\n    Configure will configure GUI from Sampler\n    Then sampler is configured from GUI\n    And then GUI is thrown away\n\n\nDid I miss something ?\n\nRegards\nPhilippe"}, {"count": 1, "tags": [], "bug_id": 52788, "attachment_id": null, "id": 154327, "time": "2012-02-28T14:31:19Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-02-28T14:31:19Z", "is_private": false, "text": "(In reply to comment #0)\n> Hello,\n> Analyzing code I must say I don't understand what's the use of these lines in\n> HttpRequestHdr#createSampler:\n> \n>            // Damn! A whole new GUI just to instantiate a test element?\n>             // Isn't there a beter way?\n>             HttpTestSampleGui tempGui = new HttpTestSampleGui();\n>             sampler.setProperty(TestElement.GUI_CLASS,\n> tempGui.getClass().getName());\n>             tempGui.configure(sampler);\n>             tempGui.modifyTestElement(sampler);\n> \n> \n> They should be in my opinion replaced by:\n> \n>             sampler.setProperty(TestElement.GUI_CLASS,\n> HttpTestSampleGui.class.getName());\nReplaced by;\n            HttpTestSampleGui tempGui = new HttpTestSampleGui();\n            sampler.setProperty(TestElement.GUI_CLASS,\ntempGui.class.getName());\n> \n> \n> My analysis is the following:\n> \n>     Configure will configure GUI from Sampler\n>     Then sampler is configured from GUI\n>     And then GUI is thrown away\n> \n> \n> Did I miss something ?\n1) tempGui.configure(sampler) =>  will configure GUI from Sampler\n2) tempGui.modifyTestElement(sampler);  =>  will reconfigure sampler from GUI (that has just been configured from Sampler)\n3) And then tempGui is thrown away\n> \n> Regards\n> Philippe"}, {"count": 2, "tags": [], "bug_id": 52788, "attachment_id": null, "text": "(In reply to comment #1)\n> (In reply to comment #0)\n> > Hello,\n> > Analyzing code I must say I don't understand what's the use of these lines in\n> > HttpRequestHdr#createSampler:\n> > \n> >            // Damn! A whole new GUI just to instantiate a test element?\n> >             // Isn't there a beter way?\n> >             HttpTestSampleGui tempGui = new HttpTestSampleGui();\n> >             sampler.setProperty(TestElement.GUI_CLASS,\n> > tempGui.getClass().getName());\n> >             tempGui.configure(sampler);\n> >             tempGui.modifyTestElement(sampler);\n> > \n> > \n> > They should be in my opinion replaced by:\n> > \n> >             sampler.setProperty(TestElement.GUI_CLASS,\n> > HttpTestSampleGui.class.getName());\n> Replaced by;\n>             HttpTestSampleGui tempGui = new HttpTestSampleGui();\n>             sampler.setProperty(TestElement.GUI_CLASS,\n> tempGui.class.getName());\n\nReplaced by;\n             sampler.setProperty(TestElement.GUI_CLASS,  HttpTestSampleGui.getClass().getName());\n\n> > \n> > \n> > My analysis is the following:\n> > \n> >     Configure will configure GUI from Sampler\n> >     Then sampler is configured from GUI\n> >     And then GUI is thrown away\n> > \n> > \n> > Did I miss something ?\n> 1) tempGui.configure(sampler) =>  will configure GUI from Sampler\n> 2) tempGui.modifyTestElement(sampler);  =>  will reconfigure sampler from GUI\n> (that has just been configured from Sampler)\n> 3) And then tempGui is thrown away\n> > \n> > Regards\n> > Philippe", "id": 154328, "time": "2012-02-28T14:36:46Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-02-28T14:36:46Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 52788, "attachment_id": null, "text": "AFAIK, this was from before I started on JMeter.\n\nAt present, the convoluted process only results in setting the GUI_CLASS.\n\nHowever, perhaps the thinking was that in future the code might change, and so it was safer to create use the normal way of creating a sampler, rather than trying to shorten the process.", "id": 154329, "time": "2012-02-28T14:45:41Z", "creator": "sebb@apache.org", "creation_time": "2012-02-28T14:45:41Z", "is_private": false}, {"count": 4, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Date: Tue Feb 28 16:01:05 2012\nNew Revision: 1294708\n\nURL: http://svn.apache.org/viewvc?rev=1294708&view=rev\nLog:\nBug 52788 - HttpRequestHdr : Optimize code to avoid useless work\n\nModified:\n   jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/HttpRequestHdr.java\n   jmeter/trunk/xdocs/changes.xml", "id": 154330, "time": "2012-02-28T16:21:04Z", "bug_id": 52788, "creation_time": "2012-02-28T16:21:04Z", "is_private": false, "attachment_id": null}]