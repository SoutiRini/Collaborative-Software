[{"count": 0, "tags": [], "text": "When using directive\nProxyPreserveHost On\nthe host (HTTP_HOST as well as SERVER_NAME) is preserved in the header, but \nnot the port.\n\nThe following directive\nProxyPass /foo/ http://foo:8080/\ndes not preserve the SERVER_PORT in the header but replace it with 8080.\n\nRecommandation : \n- preserve the port or \n- create a ProxyPreservePort directive or\n- create a ProxyPreserveHeader directive that will preserve all. (Because at a \ntime some may need also to preserve SERVER_PROTOCOL or other. In most cases, I \nthink that when you want to preserve a field in the header, you want to \npreserve all fields.\n\nGM", "is_private": false, "bug_id": 11404, "id": 20596, "time": "2002-08-02T09:02:37Z", "creator": "gilles@morlet.nom.fr", "creation_time": "2002-08-02T09:02:37Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "gilles@morlet.nom.fr", "text": "Sorry not a bug in mod_proxy, finaly. \nAfter additional analysis, headers are fine enough. In fact it's my web server\n(IIS 5.0) that was reverse proxied by apache that is doing a mistake by creating\na wrong HTTP_PORT using the port he listen to, instead of the port specified in\nthe http header. Close this one and open a new one to microsoft corp...", "id": 21031, "time": "2002-08-14T14:40:33Z", "bug_id": 11404, "creation_time": "2002-08-14T14:40:33Z", "is_private": false, "attachment_id": null}]