[{"count": 0, "tags": [], "bug_id": 57718, "attachment_id": null, "text": "Hi\n\nWe are using Tomcat as webserver.\nWe set the tomcat connector like this\n\nconnector = new Connector(\"HTTP/1.1\");\n                connector.setPort(httpsPort);\n                connector.setSecure(true);\n                connector.setProperty(\"clientAuth\", \"false\");\n                connector.setAllowTrace(false);\n  connector.setProperty(\"server\", \"Server Hardware Management Console\");\n                connector.setEnableLookups(true); // -27\n                connector.setProperty(\"SSLEnabled\", \"true\");\n                connector.setProperty(\"backlog\", \"10\");\n                connector.setProperty(\"maxThreads\", \"75\");\n                connector.setProperty(\"minSpareThreads\", \"5\");\n                connector.setProperty(\"maxSpareThreads\", \"20\");\n                connector.setProperty(\"soTimeout\", \"20000\");\n                connector.setScheme(\"https\");\n                connector.setProperty(\"algorithm\", KeyManagerFactory\n                        .getDefaultAlgorithm());\n                connector.setProperty(\"keystoreFile\", CertUtils\n                        .getConfiguredKeyStoreFileName());\n                connector.setProperty(\"keystorePass\", \"password\");\n                connector.setProperty(\"keystoreType\", \"JKS\");\n                if(\"nist_sp800_131a\".equals(sm.getSecurityMode())){\n                    connector.setProperty(\"sslProtocol\", \"TLSv1.2\");\n                }else{\n                 connector.setProperty(\"sslProtocol\", \"TLS\");\n\n connector.setProperty(\"sslEnabledProtocols\",\"TLSv1,TLSv1.1,TLSv1.2\");\n                }\n                connector.setProperty(\"ciphers\", sm.getCiphers());\n<<<<<<<<<<<<<<<<<----------------------- Here we set the Cipher.\n\n                tomcat.getService().addConnector(connector);\n                commonSystem.setListeningOnHttps(true);\n\nThis is the Cipher list we have and we set the below Cipher to Tomcat (\nCheck the above code.)\navailablTLSv11CipherList.add(\"TLS_RSA_WITH_AES_128_CBC_SHA\");\n  availablTLSv11CipherList.add(\"TLS_RSA_WITH_3DES_EDE_CBC_SHA\");\n  availablTLSv11CipherList.add(\"TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\");\n  availablTLSv11CipherList.add(\"TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\");\n  availablTLSv11CipherList.add(\"TLS_DHE_RSA_WITH_AES_128_CBC_SHA\");\n\navailablTLSv12CipherList.add(\"TLS_RSA_WITH_AES_128_CBC_SHA256\");\n  availablTLSv12CipherList.add(\"TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\"\n);\n  availablTLSv12CipherList.add(\"TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\");\n  availablTLSv12CipherList.add(\"TLS_RSA_WITH_AES_128_GCM_SHA256\");\n  availablTLSv12CipherList.add(\"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\"\n);\n\nI am using the Cipher list starting with TLS for ex:\n\"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\", Earlier everything was\nworking fine, but after Tomcat update to 7.0.59 from 7.0.29, I see that if I set the above Cipher\nlist I am getting below error\n\nWARNING: None of the ciphers specified are supported\nby the SSL engine : TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA,TLS_DHE_DS\nS_WITH_AES_128_CBC_SHA,TLS_DHE_DSS_WITH_AES_128_CBC_SHA256,TLS_DHE_DSS_W\nITH_AES_128_GCM_SHA256,TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA,TLS_DH\nE_RSA_WITH_AES_128_CBC_SHA,TLS_DHE_RSA_WITH_AES_128_CBC_SHA256,TLS_DHE_R\nSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SH\nA,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_\nSHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WI\nTH_3DES_EDE_CBC_SHA,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_RSA_WIT\nH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_\nECDH_ECDSA_WITH_3DES_EDE_CBC_SHA,TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA,TLS\n_ECDH_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDH_ECDSA_WITH_AES_128\n_GCM_SHA256,TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA,TLS_ECDH_RSA_WITH_AES_128\n_CBC_SHA,TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDH_RSA_WITH\n_AES_128_GCM_SHA256,TLS_RSA_FIPS_WITH_3DES_EDE_CBC_SHA,TLS_RSA_WITH_3DES\n_EDE_CBC_SHA,TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_128_\n\nIf I set the Cipher name to SSL it works. I mean to say Instead of\n\"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\" to\nSSL_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256. I want to know why this\nbehaviour got changed.\n\nWe are using IBM JAVA 6.", "id": 181829, "time": "2015-03-17T06:10:10Z", "creator": "shekargm@gmail.com", "creation_time": "2015-03-17T06:10:10Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 57718, "is_private": false, "id": 181831, "creation_time": "2015-03-17T08:39:56Z", "time": "2015-03-17T08:39:56Z", "creator": "markt@apache.org", "text": "See bug 54406.\n\nIBM uses SSL_XXX for all it ciphers although it will accept TLS_XXX. When Tomcat compares the available ciphers against the requested ciphers it can't tell that SSL_XXX and TLS_XXX are the same.\n\nBugzilla is not a support forum. If you have any further questions, they belong on the users mailing list.", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 57718, "text": "Hi \nI have a small question here\n1. When we were using tomcat 7.0.29 , This same set of ciphers use to work. I guess it was using default ciphers if none of the ciphers is supported.\nI have upgraded tomcat to 7.0.59 and now I am not able to establish socket connection. Because none of the cipher is supported , Is it the design it will not allow default cipher list when none of the user set cipher is supported,  in latest tomcat ?\nThanks\nChandu", "id": 181858, "time": "2015-03-18T08:56:15Z", "creator": "shekargm@gmail.com", "creation_time": "2015-03-18T08:56:15Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 57718, "attachment_id": null, "id": 181860, "time": "2015-03-18T13:12:03Z", "creator": "chuck.caldarale@unisys.com", "creation_time": "2015-03-18T13:12:03Z", "is_private": false, "text": "What part of the following did you not understand?\n\n\"Bugzilla is not a support forum. If you have any further questions, they belong on the users mailing list.\""}, {"count": 4, "attachment_id": null, "bug_id": 57718, "is_private": false, "id": 181862, "time": "2015-03-18T14:00:26Z", "creator": "shekargm@gmail.com", "creation_time": "2015-03-18T14:00:26Z", "tags": [], "text": "Hi \n1. When we were using tomcat 7.0.29 , This same set of ciphers use to work. \n\nI have upgraded tomcat to 7.0.59 and now I am not able to establish socket connection. Because I am getting  Warning as \"none of the cipher is supported \"\n\nSo My question is does BIO Connector will not use default cipher list when \"none of the ciphers is supported \" in tomcat 7.0.59? This behaviour is different from 7.0.29 where it was connecting using default cipher."}, {"count": 5, "attachment_id": null, "bug_id": 57718, "text": "Can you please answer this question \n\n When we were using tomcat 7.0.29 , This same set of ciphers use to work. \n\nI have upgraded tomcat to 7.0.59 and now I am not able to establish socket connection. Because I am getting  Warning as \"none of the cipher is supported \"\n\nSo My question is does BIO Connector will not use default JVM cipher list when \"none of the ciphers is supported \" in tomcat 7.0.59?", "id": 181919, "time": "2015-03-20T06:10:23Z", "creator": "shekargm@gmail.com", "creation_time": "2015-03-20T06:10:23Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "bug_id": 57718, "attachment_id": null, "id": 181921, "time": "2015-03-20T13:08:23Z", "creator": "chuck.caldarale@unisys.com", "creation_time": "2015-03-20T13:08:23Z", "is_private": false, "text": "(In reply to Chandu from comment #5)\n> Can you please answer this question \n\nWe'll do this one more time before suspending your account:\n\nBugzilla is not a support forum. If you have any further questions, they belong on the users mailing list."}]