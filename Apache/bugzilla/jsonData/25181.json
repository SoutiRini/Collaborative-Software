[{"count": 0, "tags": [], "creator": "ross@saafe.org", "text": "<symlink link=\"${project.webapp}/skins/${project.skin}\"\n      resource=\"${project.home}/${project.skins-dir}/${project.skin}\"\n      failonerror=\"false\"/>\n\nWorks fine on first pass (i.e. when the link does not already exist), however on\na second pass (i.e. when the link does exist) the result is a link inside the\noriginal directory. That is suppose that:\n\n${project.webapp}/skins/${project.skin} = a/skins/b\n${project.home}/${project.skins-dir}/${project.skin} = x/y/b\n\nThe first pass gives:\n\na/skins/b --> x/y/b\n\nbut the second pass results in a second link in x/y/b as follows:\n\nb --> x/y/b\n\n----------------\n\nA workaround is available for those experienceing this problem:\n\n    <symlink link=\"${project.webapp}/skins/${project.skin}\"\n      action=\"delete\"\n      failonerror=\"false\"/>\n    <symlink link=\"${project.webapp}/skins/${project.skin}\"\n      resource=\"${project.home}/${project.skins-dir}/${project.skin}\"\n      failonerror=\"false\"/>", "id": 48440, "time": "2003-12-03T20:56:28Z", "bug_id": 25181, "creation_time": "2003-12-03T20:56:28Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "gus.heck@olin.edu", "text": "Nice to see someone using my task, not so nice to see a bug... :)\n\nI take it that b is a directory? I know why I havn't run into this though... I\nuse Symlink it in a context where every thing is deleted and replaced each time.\nI am pretty busy at work right now, but I will try to find time to look at this\nin the near future. (maybe this weekend, maybe next?) Please bug me if you don't\nsee anything by then.", "id": 49000, "time": "2003-12-12T19:55:31Z", "bug_id": 25181, "creation_time": "2003-12-12T19:55:31Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "I have replicated this in a failing test case now.\n\nIt seems I have run afoul of a polymorphic syntax in the ln command\n\n       ln [OPTION]... TARGET [LINK_NAME]\n       ln [OPTION]... TARGET... DIRECTORY\n\nObviously, I need to account for this.... Hopefully by later today.", "is_private": false, "bug_id": 25181, "id": 49480, "time": "2003-12-20T19:20:12Z", "creator": "gus.heck@olin.edu", "creation_time": "2003-12-20T19:20:12Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 25181, "attachment_id": 9654, "is_private": false, "id": 49507, "time": "2003-12-22T01:49:45Z", "creator": "gus.heck@olin.edu", "creation_time": "2003-12-22T01:49:45Z", "text": "Created attachment 9654\nFix for bug 25181 with coresponding tests"}, {"count": 4, "tags": [], "creator": "gus.heck@olin.edu", "text": "The patch just attached contains an amended testcase that fails based on this\nreport with the old code, and a patch to make the amended test case pass.\n\nIn doing this I took the position that the recorded symlinks take precedence\nover the existing links, since that seems to me to be the case that is likely to\nbe more common. As the patch stands running a recreate will alter existing links\nto match the recorded version. I am not sure if links to files were altered in\nthe past, but I think that was the behavior (links to directories were\nmishandled as per this bug). If it is desired, I could put in an atribute that\ncontrols whether or not links are overwritten and set the behavior to be default\nwhichever way seems most useful to the rest of the world. Let me know if you\nwant me to do that.\n\nThis overwriting behavior is also covered in the amended testcase.\n\nAfter I go eat dinner, I am going to check the manual page for symlink to see if\nthe overwiting behavior is documented and patch it if it is not.\n", "id": 49508, "time": "2003-12-22T02:03:18Z", "bug_id": 25181, "creation_time": "2003-12-22T02:03:18Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 25181, "attachment_id": 9655, "is_private": false, "id": 49509, "time": "2003-12-22T02:08:34Z", "creator": "gus.heck@olin.edu", "creation_time": "2003-12-22T02:08:34Z", "text": "Created attachment 9655\nFixed silly netscape html wrapper (obsoletes previous attachment)"}, {"count": 6, "tags": [], "bug_id": 25181, "attachment_id": null, "is_private": false, "id": 58830, "time": "2004-06-07T12:08:01Z", "creator": "bodewig@apache.org", "creation_time": "2004-06-07T12:08:01Z", "text": "Committed, thanks.\n\nBTW, Gus, the patchfile for symlink.xml has been unusable, please check I didn't\nbreak anything while trying to apply it manually.\n"}]