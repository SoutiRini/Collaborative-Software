[{"count": 0, "tags": [], "creator": "alanmspencer@yahoo.com", "attachment_id": null, "id": 18136, "time": "2002-06-20T08:59:32Z", "bug_id": 10048, "creation_time": "2002-06-20T08:59:32Z", "is_private": false, "text": "Hello,\nI've found what I think is a bug in Jasper.\n\norg.apache.jasper.runtime.PageContextImpl.forward (line 401)\n\n        while (response instanceof HttpServletResponseWrapper)\n            response = ((HttpServletResponseWrapper)response).getResponse();\n\nRemoves filter wrapped responses as well as JSP inlcude ones.\nI think it should be:\n        while (response instanceof ServletResponseWrapperInclude)\n            response = ((ServletResponseWrapperInclude)response).getResponse();\nThis seems to fix the problem.\nMy problem is that I have a filter which wraps the response. When a forward\nhappens the arapping get's removed and the postprocessing of the response\nget's skipped.\nI'll send code to test this if required...\nThanks,\nAlan."}, {"count": 1, "tags": [], "bug_id": 10048, "attachment_id": null, "id": 18149, "time": "2002-06-20T09:28:28Z", "creator": "remm@apache.org", "creation_time": "2002-06-20T09:28:28Z", "is_private": false, "text": "Doing what you propose seems reasonable. I'll commit the patch to Jasper 2 and\nsee if there are people who think it is a bad idea."}, {"count": 2, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 18153, "time": "2002-06-20T09:37:34Z", "bug_id": 10048, "creation_time": "2002-06-20T09:37:34Z", "is_private": false, "text": "I've applied the patch. The fix will be in milestone 4.1.6."}]