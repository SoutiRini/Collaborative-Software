[{"count": 0, "tags": [], "bug_id": 7785, "text": "There seems to be a bug in the version 3.2.3 of tomcat \n\nDue to which , I am getting this exception\njava.lang.ClassCastException: ClassTeacher.Registration.RegSession\nat com.MindShaper.ClassTeacher.Apps.HigherEd.IIFT.Users.ProgramBuy.doPost\n(ProgramBuy.java:44)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:760)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\nat org.apache.tomcat.core.ServletWrapper.doService(ServletWrapper.java:405)\nat org.apache.tomcat.core.Handler.service(Handler.java:287\nPlz see the link below. My problem is similer.\n\nhttp://www.apachelabs.org/tomcat-dev/200007.mbox/%\n3C396BA057.818CFF8C@eng.sun.com%3E\n\nthis exception shows up whenever I am trying to cast an Object obtained from \nsession after uploading a servlet.The details are same as discussed in the \nabove link. Plz note that we need auto reloading of the servlets so it cannot \nbe turned false.\nPlease note that this problem would be temporarily resolved once you restart \nthe tomcat, but will show up as soon as I upload a servlets.\n\n\nThe source code of the TestServlet. \n\nHttpSession sess=req.getSession(false);\nObject o=sess.getValue(SessionObjectDefines.KEY_REGINFO);\nout.print(\"o.getClass() \"+o.getClass()+\"<br>\");\nClassTeacher.Registration.RegSession regSess = \n(ClassTeacher.Registration.RegSession)o;\nOn running this , we see this o.getClass() prints the fully qualified class \nname as \nClassTeacher.Registration.RegSession which is same as the object I am trying to \ncast to. \n\ncounter is ...11\no.getClass() class ClassTeacher.Registration.RegSession\n\nError: 500\nLocation: /servlets/TestServlet\nInternal Servlet Error:\n\njava.lang.ClassCastException: ClassTeacher.Registration.RegSession\nat TestServlet.doGet(TestServlet.java:39)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\nat org.apache.tomcat.core.ServletWrapper.doService(ServletWrapper.java:405)\nat org.apache.tomcat.", "id": 12898, "attachment_id": null, "creator": "manojpandey@classteacher.com", "creation_time": "2002-04-06T05:25:12Z", "time": "2002-04-06T05:25:12Z", "is_private": false}, {"count": 1, "tags": [], "creator": "sriramnrn@gmail.com", "text": "Marking this report as INVALID.\n\nPlease ask application side questions on the Tomcat-user list.\n\nAlso, please be more clear on what you mean when you write \"upload a servlet\".", "id": 93407, "time": "2006-09-12T15:20:04Z", "bug_id": 7785, "creation_time": "2006-09-12T15:20:04Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 7785, "attachment_id": null, "text": "This should be need info rather than invalid.", "id": 93470, "time": "2006-09-12T22:09:34Z", "creator": "markt@apache.org", "creation_time": "2006-09-12T22:09:34Z", "is_private": false}, {"count": 3, "tags": [], "creator": "sriramnrn@gmail.com", "attachment_id": null, "id": 93683, "time": "2006-09-17T13:26:40Z", "bug_id": 7785, "creation_time": "2006-09-17T13:26:40Z", "is_private": false, "text": "Mark is correct.\n\nWe'll need more information such as:\n1. In which folders are the classes kept? Ideally, all the web application\nspecific classes should be within the war file, unless the classes are shared\nacross applications (or are provided by Tomcat).\n\n2. What does the following give ?\nObject o=sess.getValue(SessionObjectDefines.KEY_REGINFO);\nboolean result = o.getClass() == ClassTeacher.Registration.RegSession.class;\nout.print(\"are the classes the same ? = \" + result);\n"}, {"count": 4, "tags": [], "creator": "markt@apache.org", "text": "Tomcat 3 is no longer the focus of development.\n\nIt is almost certain there will be no development work on versions prior to 3.3.x and it is highly unlikely that further development will take place on 3.3.x\n\nAll open Tomcat 3 bugs are therefore being closed as WONTFIX.\n\nIf any of these issues is still a problem for you, please test the latest stable release of a supported version (http://wiki.apache.org/tomcat/TomcatVersions). If you still have the issue with the latest stable release of a supported version, please re-open this bug and change the version to the one you tested.", "id": 114106, "time": "2008-02-28T11:46:15Z", "bug_id": 7785, "creation_time": "2008-02-28T11:46:15Z", "is_private": false, "attachment_id": null}]