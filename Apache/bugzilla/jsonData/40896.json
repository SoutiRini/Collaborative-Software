[{"count": 0, "tags": [], "creator": "ruchith.fernando@gmail.com", "attachment_id": null, "is_private": false, "id": 95439, "time": "2006-11-05T05:51:03Z", "bug_id": 40896, "creation_time": "2006-11-05T05:51:03Z", "text": "An \"java.security.SignatureException: object not\ninitialized for verification\" exception when trying to do sign and\nverify *twice* in the same thread, using different XMLSignature\ninstances."}, {"count": 1, "tags": [], "bug_id": 40896, "is_private": false, "text": "Created attachment 19088\nTestcase to reproduce the bug\n\nPlease drop the interop.jks file to your classpath along with\nxml-sec and other pre-reqs and run the test case (TestSig.java). I ran\nthis inside my IDE within the xml-security project.", "id": 95440, "time": "2006-11-05T05:55:02Z", "creator": "ruchith.fernando@gmail.com", "creation_time": "2006-11-05T05:55:02Z", "attachment_id": 19088}, {"count": 2, "tags": [], "bug_id": 40896, "is_private": false, "text": "You Wss4j guy always using untested XMLSignature constructors!!! ;)\nJust joking. You hit again another XMLSignature constructor that there\nis no unit test for it.\nThe problem is that for creating new Signatures(for signing)\n public XMLSignature( Document doc, String BaseURI,\n         Element SignatureMethodElem, Element CanonicalizationMethodElem)\n             throws XMLSecurityException\n\nUse the SignatureAlgorithm (Element) constructor, that normally is\nonly used for verifying.\nThe SignatureAlgorith obtain a java.security.Signature from the\nverifying pool but is going to be use for signing and when latter is\nrecycled for verifying it gives you the error.\nNow the SignatureAlgorihtm is more lazy and only obtains a signature\nwhen asked for sign or verify and obtain it from the right pool.\n\nAnyway you are doing a lot of redundat work creating firs a\nSignatureAlgorithm DOMificated it and later make the XMLSignature\nlibrary read it again from DOM. (Before the fix it will be worse as it\nobtain a new java.security.Signature that is even slower).", "id": 95443, "time": "2006-11-05T08:55:43Z", "creator": "raul-info@r-bg.com", "creation_time": "2006-11-05T08:55:43Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 40896, "text": "Closing old bugs. Fixed in 1.4", "id": 108399, "time": "2007-09-19T12:22:12Z", "creator": "sean.mullan@oracle.com", "creation_time": "2007-09-19T12:22:12Z", "is_private": false, "attachment_id": null}]