[{"count": 0, "tags": [], "bug_id": 19099, "attachment_id": null, "text": "I have an attachment, but can't see where to attach it.\n\nI use 3rd party java software that returns -1 whenever it issues a warning.\nThese warnings are harmless. Whenever an error occurs -2 is returned. To make\nthe build fail on real problems it is necessary to catch the exit code. This\npatch takes the resultproperty code from the <exec> task and grafts it onto the\n<java> task. Exit code can only be non zero when failonerror=false and when\nfork=true.\n\nHere is an example on how to use it.\n\n     <java classname=\"test.Main\"\n           fork=\"true\"\n           failonerror=\"false\"\n           resultproperty=\"exitcode\"\n           >\n     </java>\n     <condition property=\"good.build\">\n       <or>\n         <equals arg1=\"${exitcode}\" arg2=\"0\" />\n         <equals arg1=\"${exitcode}\" arg2=\"-1\" />\n       </or>\n     </condition>\n     <fail unless=\"good.build\"\n           message=\"Unexpected exit code: exitcode = ${exitcode}\"/>", "id": 35387, "time": "2003-04-17T00:18:48Z", "creator": "donal@savvion.com", "creation_time": "2003-04-17T00:18:48Z", "is_private": false}, {"count": 1, "tags": [], "creator": "donal@savvion.com", "attachment_id": 5870, "text": "Created attachment 5870\nJar file containing diffs and updates for java, tests, and html", "id": 35388, "time": "2003-04-17T00:21:58Z", "bug_id": 19099, "creation_time": "2003-04-17T00:21:58Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 19099, "is_private": false, "id": 35389, "time": "2003-04-17T00:25:32Z", "creator": "donal@savvion.com", "creation_time": "2003-04-17T00:25:32Z", "tags": [], "text": "Attachment now attached.\n\nDonal"}, {"count": 3, "tags": [], "creator": "levylambert@tiscali-dsl.de", "attachment_id": null, "id": 35827, "time": "2003-04-22T22:19:26Z", "bug_id": 19099, "creation_time": "2003-04-22T22:19:26Z", "is_private": false, "text": "code checked in, thanks."}, {"count": 4, "attachment_id": null, "bug_id": 19099, "is_private": false, "id": 35828, "time": "2003-04-22T22:20:25Z", "creator": "levylambert@tiscali-dsl.de", "creation_time": "2003-04-22T22:20:25Z", "tags": [], "text": "will need to be extended to work also if fork=false"}]