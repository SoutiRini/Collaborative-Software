[{"count": 0, "attachment_id": null, "bug_id": 57316, "is_private": false, "id": 179560, "time": "2014-12-05T18:56:36Z", "creator": "alex@varju.ca", "creation_time": "2014-12-05T18:56:36Z", "tags": [], "text": "I ran into an issue today where my Jenkins build failed because the working directory contained '%2F' in the name.  When the build got as far as attempting to precompile the JSPs, an exception was thrown complaining that the directory didn't exist.\n\nGradle error output:\n\nInternal Error: File /WEB-INF/web.xml not found\n[ant:jasper] java.lang.NullPointerException\n[ant:jasper]  at java.io.File.<init>(File.java:277)\n[ant:jasper]  at org.apache.jasper.JspC.initClassLoader(JspC.java:1555)\n[ant:jasper]  at org.apache.jasper.JspC.processFile(JspC.java:1196)\n[ant:jasper]  at org.apache.jasper.JspC.execute(JspC.java:1362)\n[ant:jasper]  at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n[ant:jasper]  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ant:jasper]  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n[ant:jasper]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ant:jasper]  at java.lang.reflect.Method.invoke(Method.java:606)\n[ant:jasper]  at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n[ant:jasper]  at groovy.util.AntBuilder.performTask(AntBuilder.java:260)\n\nI believe the problem is caused by JspC.initClassLoader's call to JspCompilationContext.getRealPath.  This calls JspCServletContext.getRealPath, which in turn uses the value from URL.getFile to build the path.  This returns a URL encoded variant of the path, which in my case means a double-encoded path.  I believe JspCompilationContext.getRealPath should be URL decoding the return value."}, {"count": 1, "tags": [], "bug_id": 57316, "is_private": false, "text": "This did not affect trunk or 8.0.x as the code that caused the issue had already been removed.\n\nThis has been fixed in 7.0.x for 7.0.58 onwards.", "id": 179764, "time": "2014-12-15T10:52:32Z", "creator": "markt@apache.org", "creation_time": "2014-12-15T10:52:32Z", "attachment_id": null}]