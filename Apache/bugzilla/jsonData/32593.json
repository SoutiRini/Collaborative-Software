[{"count": 0, "tags": [], "creator": "chamaras@singnet.com.sg", "text": "hi,\n\nmy apache 2.0.48 is setup to access the tomcat 5.0.25 over ajp13 using\nmod_jk/1.2.2 on FreeBSD/i386.\n\nlately i have the issue of my apache reaching maxclients. After working with the\napache folks, \n(Bug 32239 - http://issues.apache.org/bugzilla/show_bug.cgi?id=32239#c19),\nwe figured out that there are child processes waiting in mod_jk indefinetely for\na response from Tomcat. They suggested I talk to you guys to see if you can help\nto show a way to find out what the tomcat is busy doing at the time (without\ngetting a java core dump).\n\nI will attach the output from apache's mod_status and a backtrace for a waiting\nprocess. if you require any additional information please let me know.\n\nthnks in adv n rgds,\n-kc.", "id": 68151, "time": "2004-12-09T03:41:16Z", "bug_id": 32593, "creation_time": "2004-12-09T03:41:16Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "chamaras@singnet.com.sg", "text": "Created attachment 13692\napache mod_status output", "id": 68152, "time": "2004-12-09T03:41:59Z", "bug_id": 32593, "creation_time": "2004-12-09T03:41:59Z", "is_private": false, "attachment_id": 13692}, {"count": 2, "tags": [], "bug_id": 32593, "attachment_id": 13693, "text": "Created attachment 13693\nbacktrace for child process", "id": 68153, "time": "2004-12-09T03:42:36Z", "creator": "chamaras@singnet.com.sg", "creation_time": "2004-12-09T03:42:36Z", "is_private": false}, {"count": 3, "tags": [], "creator": "mturk@apache.org", "text": "Can you use more recent mod_jk versions like\nmod_jk 1.2.6 for example.\n\nIt would be great to use and test the new 1.2.7-beta-2.\n\n", "id": 68159, "time": "2004-12-09T07:42:29Z", "bug_id": 32593, "creation_time": "2004-12-09T07:42:29Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 32593, "text": "(In reply to comment #3)\n> Can you use more recent mod_jk versions like\n> mod_jk 1.2.6 for example.\n> \n> It would be great to use and test the new 1.2.7-beta-2.\n> \n> \n\nSorry for the late reply.\n\nI just got back from a month long vacation. I can't test this on my current\nproduction box as I would have to shutdown the server for upgrading the mod_jk.\n\nI'll be getting a test box in three or four weeks time. I will try this out when\nthat happens and update you. Is there anything else we could try untill then?\n\nthanks again and best regards,\n-kc", "id": 69414, "attachment_id": null, "creator": "chamaras@singnet.com.sg", "creation_time": "2005-01-08T01:14:13Z", "time": "2005-01-08T01:14:13Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 32593, "text": "You could send SIGQUIT to the Tomcat JVM process to get a thread dump showing\nwhat it's doing.  And you should feel free to use the tomcat mailing lists for\nfurther discussion and ideas.", "id": 79306, "attachment_id": null, "creator": "yoavs@computer.org", "creation_time": "2005-09-01T20:45:32Z", "time": "2005-09-01T20:45:32Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 32593, "text": "There have been many fixes to mod_jk and the AJP connector sicne this bug\nreport. Given the lack of response (over 12 months) to Yoav's request for\ninformation, I am going to assume that an upgrade to a later version fixed it.\n\nIf this is not the case, please provide (using the latest Tomcat 5.5.x and\nmod_jk 1.2.x) either the steps to reproduce the issue or a thread dump from\nTomcat once it hangs.", "id": 93261, "attachment_id": null, "creator": "markt@apache.org", "creation_time": "2006-09-09T04:43:40Z", "time": "2006-09-09T04:43:40Z", "is_private": false}]