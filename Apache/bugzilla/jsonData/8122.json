[{"count": 0, "tags": [], "creator": "martin.t.kutschker@blackbox.net", "attachment_id": null, "id": 13675, "time": "2002-04-15T19:27:29Z", "bug_id": 8122, "creation_time": "2002-04-15T19:27:29Z", "is_private": false, "text": "With the SSLMutex option the user could (in 1.3.x) ask for file based or\nsemaphore based locking. Now mod_ssl asks apr for the default mechanism. Which\nis not a bad thing, but the option values should reflect what is provided.\n\nI suggest using the same options as for the AcceptMutex option or using a\nbackward compatible style:\n\nsem = sysvsem\nfile: = flock | fcntl (whatever is preferred on the platform)"}, {"count": 1, "tags": [], "bug_id": 8122, "attachment_id": 1794, "id": 15553, "time": "2002-05-06T16:55:10Z", "creator": "martin.t.kutschker@blackbox.net", "creation_time": "2002-05-06T16:55:10Z", "is_private": false, "text": "Created attachment 1794\nnew config behaviour"}, {"count": 2, "tags": [], "bug_id": 8122, "attachment_id": null, "id": 15555, "time": "2002-05-06T17:01:43Z", "creator": "martin.t.kutschker@blackbox.net", "creation_time": "2002-05-06T17:01:43Z", "is_private": false, "text": "The patch changes the SSLMutex command and offers these options:\n\ndefault | yes\nnone | no\nfcntl\nflock\nsysvsem\nposixsem\npthread\nsem = sysvsem | posixsem\nfile: = fcntl | flock\n\nThe meaning of \"yes\" changes to \"default\", \"sem\" will use either Sys V or Posix\nsemaphores (the former are preferred) and file will use either Fcntl or Flock\n(preferring Fcntl).\n\nThe command remains (reasonably) backward compatible and is now in sync with the\nAcceptMutex command."}, {"count": 3, "tags": [], "bug_id": 8122, "attachment_id": 1801, "is_private": false, "id": 15615, "time": "2002-05-07T09:55:27Z", "creator": "martin.t.kutschker@blackbox.net", "creation_time": "2002-05-07T09:55:27Z", "text": "Created attachment 1801\nRemove debug output in ssl_engine_config.c else same as the previous which is btw a proposed fix."}, {"attachment_id": null, "tags": [], "bug_id": 8122, "is_private": false, "count": 4, "id": 24710, "time": "2002-10-17T02:34:36Z", "creator": "slive@apache.org", "creation_time": "2002-10-17T02:34:36Z", "text": "[This is a mass bug update.]\nThis bug reports a problem in an older version of Apache 2.\nCould you please update to the most recent version and see\nif you can reproduce this problem.  If the bug still exists,\nplease update the bug with the latest version number.  If \nthe bug no longer exists, please close the bug report.\n\nSorry for this impersonal response, but we get many more bug\nreports than our volunteers can keep up with.\nThanks for using Apache!"}, {"count": 5, "tags": [], "bug_id": 8122, "text": "[This is a mass bug update.] [Resolve-20021102]\nNo response from submitter; assuming issue is resolved.\nIf the problem still exists in the lastest version,\nplease reopen this report and update appropriately.", "id": 25535, "time": "2002-11-02T20:18:16Z", "creator": "slive@apache.org", "creation_time": "2002-11-02T20:18:16Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "text": "\n  This is a behavior change.  I don't see where we have considered this\n  patch yet, so reopening the report.  Thanks for keeping up with the stale\n  reports, Joshua!\n", "attachment_id": null, "id": 25606, "creator": "wrowe@apache.org", "time": "2002-11-04T13:14:46Z", "bug_id": 8122, "creation_time": "2002-11-04T13:14:46Z", "is_private": false}, {"count": 7, "tags": [], "creator": "jim@apache.org", "attachment_id": null, "id": 30700, "time": "2003-02-04T23:01:01Z", "bug_id": 8122, "creation_time": "2003-02-04T23:01:01Z", "is_private": false, "text": "S'funny. I didn't even see this (old) \"bug\" and had just send email to dev@ proposing the \nsame sort of thing.\n\nI'm a very big +1 on this."}, {"count": 8, "tags": [], "bug_id": 8122, "attachment_id": null, "id": 33238, "time": "2003-03-15T15:13:10Z", "creator": "madhusudan_mathihalli@hp.com", "creation_time": "2003-03-15T15:13:10Z", "is_private": false, "text": "Can you please verify the options available now in the latest source base (HEAD \nincludes Jim's patch), and close the PR if you think the problem is resolved.\n\nThanks\n-Madhu"}, {"count": 9, "tags": [], "text": "Sounds ok looking at the code.\n\nIn ssl_engine_mutex.c it would have been nice to us verbose eror reporting in\nssl_mutex_init and friends. See below for the relevant code of my original patch\n(it did help a lot while tracking bugs):\n\n+    status = apr_global_mutex_create(&mc->pMutex, mc->szMutexFile,\nmc->nMutexMech, p);\n+    if (status != APR_SUCCESS) {\n+        char buf[120];\n+\n+        apr_strerror(status, buf, sizeof(buf));\n+        if (mc->szMutexFile)\n+            ssl_log(s, SSL_LOG_ERROR,\n+                       \"Failed to create global mutex lock using file `%s': %s\",\n+                        mc->szMutexFile, buf);\n+        else\n+            ssl_log(s, SSL_LOG_ERROR,\n+                       \"Failed to create global mutex lock: %s\", buf);", "is_private": false, "id": 33241, "creator": "martin.t.kutschker@blackbox.net", "time": "2003-03-15T18:26:49Z", "bug_id": 8122, "creation_time": "2003-03-15T18:26:49Z", "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 8122, "attachment_id": null, "is_private": false, "id": 33713, "time": "2003-03-24T20:38:31Z", "creator": "wrowe@apache.org", "creation_time": "2003-03-24T20:38:31Z", "text": "\n  Ok, the patch is backported to 2.0.45 to honor the full range of SSLMutex\n  flavors, mirroring the AcceptMutex core directive.\n"}, {"count": 11, "tags": [], "creator": "towerofpower@operamail.com", "is_private": false, "text": "Please look at bug 19182, ssl.conf needs to be updated.", "id": 35739, "time": "2003-04-22T00:08:30Z", "bug_id": 8122, "creation_time": "2003-04-22T00:08:30Z", "attachment_id": null}]