[{"count": 0, "attachment_id": null, "creator": "aogburn@redhat.com", "is_private": false, "id": 170721, "time": "2013-10-21T14:21:12Z", "bug_id": 55683, "creation_time": "2013-10-21T14:21:12Z", "tags": [], "text": "mod_jk can't properly parse version 1 cookies, which can break sticky sessions if a session cookie has a quoted version 1 cookie value.\n\nReproducing with mod_jk trace logging shows how it parses the session cookie and jvmroute.  I tested with my jvmRoute set to `testing:123`, which produces a quoted version 1 cookie value:\n\n[Tue Oct 15 15:20:12 2013][9846:140521757296384] [debug] init_ws_service::mod_jk.c (1097): Service protocol=HTTP/1.1 method=GET ssl=false host=(null) addr=127.0.0.1 name=localhost port=80 auth=(null) user=(null) laddr=127.0.0.1 raddr=127.0.0.1 uri=/helloworld2/hi.jsp\n[Tue Oct 15 15:20:12 2013][9846:140521757296384] [debug] service::jk_lb_worker.c (1201): service sticky_session=1 id='\"QO1g5upa1l+mpzaJpor0Ko41.testing:123\"'\n[Tue Oct 15 15:20:12 2013][9846:140521757296384] [debug] get_most_suitable_worker::jk_lb_worker.c (1012): searching worker for partial sessionid \"QO1g5upa1l+mpzaJpor0Ko41.testing:123\"\n[Tue Oct 15 15:20:12 2013][9846:140521757296384] [debug] get_most_suitable_worker::jk_lb_worker.c (1020): searching worker for session route testing:123\"\n\nSo it does not parse the quotes out of the session cookie value, thus looking for route testing:123\" instead of testing:123.\n\nThat can be worked around by manually setting the route to include that trailing \":\n\nworker.node01.reference=worker.template\nworker.node01.port=8009\nworker.node01.host=127.0.0.1\nworker.node01.type=ajp13\nworker.node01.route=testing:123\""}, {"count": 1, "text": "This should be fixed in r1583415.\nWill be part of version 1.2.40.\nWould be nice if you could give the change a try.", "creator": "rainer.jung@kippdata.de", "is_private": false, "id": 174189, "time": "2014-03-31T19:28:33Z", "bug_id": 55683, "creation_time": "2014-03-31T19:28:33Z", "tags": [], "attachment_id": null}]