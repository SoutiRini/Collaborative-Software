[{"count": 0, "tags": [], "bug_id": 61128, "attachment_id": null, "id": 198903, "creation_time": "2017-05-26T20:49:54Z", "time": "2017-05-26T20:49:54Z", "creator": "chris@christopherschultz.net", "text": "Cluster managers support \"mapSendOptions\" which is specified as an integer value, bitwise-ORd from the individual bits which make-up the various options.\n\nThe default value is 8 for the DeltaManager which means \"asynchronous\".\n\nIt would be nice if the configuration could use human-readable options like \"async\" instead of \"8\".\n\nThese are the channel send options available:\n\nSEND_OPTIONS_ASYNCHRONOUS\nSEND_OPTIONS_BYTE_MESSAGE\nSEND_OPTIONS_MULTICAST\nSEND_OPTIONS_SECURE\nSEND_OPTIONS_SYNCHRONIZED_ACK\nSEND_OPTIONS_UDP\nSEND_OPTIONS_USE_ACK\n\nThey could be specified as human-readable strings e.g. mapSendOptions=\"async,multicast\" instead of mapSendOptions=\"72\" which would make the configuration much easier to both read and write.\n\nFor backward compatibility, the integer values should also be acceptable.\n\nThis bug is nearly the same as bug #61127, but on a different component.", "is_private": false}, {"count": 1, "tags": [], "bug_id": 61128, "is_private": false, "id": 198935, "creation_time": "2017-05-28T22:36:05Z", "time": "2017-05-28T22:36:05Z", "creator": "dev@21solutions.net", "text": "Please see https://github.com/apache/tomcat/pull/56 as a WIP.\n\nEspecially given the fact that this is my first PR I would need more feedback.", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 61128, "is_private": false, "id": 198945, "creation_time": "2017-05-29T22:08:21Z", "time": "2017-05-29T22:08:21Z", "creator": "dev@21solutions.net", "text": "Chris,\n\nhttps://github.com/apache/tomcat/pull/56/files should take care of #61127, but where do you set \"mapSendOptions\"?\n\nI see `public void setMapSendOptions(int mapSendOptions)` in 3 classes:\n\n* BackupManager\n* ClusterSingleSignOn  \n* ReplicatedContext\n\nThe \"fix\" should be to add another method that takes a String input, as follows:\n\n    public void setMapSendOptions(String mapSendOptions) {\n\n        int value = Channel.parseChannelSendOptions(mapSendOptions);\n        if (value > 0)\n            this.setMapSendOptions(value);\n    }\n\nBut... Do all 3 of them use that?  TBH I'm not sure and I've never set up a Cluster in Tomcat so I don't know if I should add those or not.  For example, are those used in config elements like \"Cluster\" in server.xml?  I can't find anything about that.", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 61128, "is_private": false, "id": 199321, "creation_time": "2017-06-21T19:39:54Z", "time": "2017-06-21T19:39:54Z", "creator": "chris@christopherschultz.net", "text": "\n\n*** This bug has been marked as a duplicate of bug 61127 ***", "attachment_id": null}]