[{"count": 0, "tags": [], "bug_id": 59811, "attachment_id": null, "text": "First reported on StackOverflow:\nhttp://stackoverflow.com/questions/38178536/tomcat-ssl-illegalstateexception-ssl-session-id-not-available\n\nThe current implementation of SSL.getSessionId() returns null if the session ID length is zero. If session tickets are used, OpenSSL sets the length to zero.\n\nThe null session Id results in an ISE:\n\njava.lang.IllegalStateException: SSL session ID not available\n at org.apache.tomcat.util.net.openssl.OpenSSLEngine$OpenSSLSession.getId(OpenSSLEngine.java:1048)\n at org.apache.tomcat.util.net.jsse.JSSESupport.getSessionId(JSSESupport.java:156)\n\netc.\n\nWe need to see if we can get the current session Id from tie ticket. If not, the ISE needs to be removed.", "id": 192177, "time": "2016-07-06T15:12:01Z", "creator": "markt@apache.org", "creation_time": "2016-07-06T15:12:01Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 59811, "attachment_id": null, "text": "Digging into to RFC 5077, it is very likely that there will be no session ID when session tickets are being used.\n\nTherefore, we need to handle this in the Tomcat code.\n\nThis was fixed a few weeks ago in r1799701 and r1799703", "id": 200396, "time": "2017-08-21T13:29:23Z", "creator": "markt@apache.org", "creation_time": "2017-08-21T13:29:23Z", "is_private": false}]