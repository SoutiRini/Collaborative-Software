[{"count": 0, "tags": [], "creator": "jdperlow@alumni.princeton.edu", "attachment_id": null, "text": "When using mod_proxy as a reverse proxy, I hit the case where it would buffer\naccross chunk boundaries for chunks that are returned to the client. The data\nwill no be sent until the buffer limit is reached. This breaks certain classes\nof web applications that return intermediate results over http over an extended\nperiod of time.\n\nThe fix is to apply the following diff to proxy_util.c. This forces each chunk\nto be flushed to the socket when the end of the chunk is reached.\n\n--- proxy_util.c.prev   2005-05-11 13:29:13.000000000 -0700\n+++ proxy_util.c        2005-05-11 13:30:25.000000000 -0700\n@@ -605,6 +605,10 @@\n \n             w = ap_bwrite(con->client, &buf[o], n);\n \n+            if (chunked) {\n+              ap_bflush(con->client);\n+            }\n+\n             if (alternate_timeouts)\n                 ap_kill_timeout(r);\n             else", "id": 74750, "time": "2005-05-11T22:36:28Z", "bug_id": 34876, "creation_time": "2005-05-11T22:36:28Z", "is_private": false}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "This is really a special case of bug 18157.\n\n*** This bug has been marked as a duplicate of 18157 ***", "id": 74775, "time": "2005-05-12T08:55:30Z", "bug_id": 34876, "creation_time": "2005-05-12T08:55:30Z", "is_private": false}]