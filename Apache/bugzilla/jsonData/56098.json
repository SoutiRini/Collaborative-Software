[{"count": 0, "tags": [], "creator": "erik@adaptations.com", "attachment_id": null, "is_private": false, "id": 172840, "time": "2014-02-01T01:42:17Z", "bug_id": 56098, "creation_time": "2014-02-01T01:42:17Z", "text": "When using mod_session and mod_session_cookie, two Set-Cookie headers are sent to the browser.\nThe cookies are identical. \nPoking around mod_session.c and mod_session_cookie.c revealed that there was only one call to set the cookie being made per request. \nIn mod_session.c, though, the call to set the cookie supplies two header structures, headers_out and err_headers_out. Removing err_headers_out from the cookie setting calls in mod_session_cookie.c makes the problem go away. That is, only one Set-Cookie header is sent to the browser, and sessions continue to work. \nThere may be adverse affects of this change -- I've read that a redirect may require the cookie to be set in err_headers_out. But it is working with sessions combined with mod_auth_form.\n\nGoogling now I find evidence that others have encountered this:\n\nhttp://apache-http-server.18135.x6.nabble.com/May-be-a-bug-in-mod-session-based-cookie-two-times-Set-Cookie-in-response-headers-td4781793.html\n\nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=55278"}, {"count": 1, "tags": [], "bug_id": 56098, "is_private": false, "id": 172841, "attachment_id": null, "creator": "erik@adaptations.com", "creation_time": "2014-02-01T01:46:17Z", "time": "2014-02-01T01:46:17Z", "text": "Hmm, not sure how to propose that this possible bug is related to another in an indeterminate way ... but assuming this is a bug, and the same as 55278, resolving this one would probably resolve the other."}, {"count": 2, "tags": [], "creator": "alexandre@zia.com.br", "attachment_id": null, "id": 185721, "time": "2015-10-11T21:24:41Z", "bug_id": 56098, "creation_time": "2015-10-11T21:24:41Z", "is_private": false, "text": "I confirm this is happening, I'm having the same issue.\n\n< HTTP/1.1 302 Found\n< Server: nginx\n< Date: Sun, 11 Oct 2015 19:16:59 GMT\n< Content-Type: text/html; charset=iso-8859-1\n< Content-Length: 211\n< Connection: close\n< Set-Cookie: session=;Max-Age=0;path=/\n< Location: /login.html\n< Cache-Control: no-cache\n< Set-Cookie: session=;Max-Age=0;path=/\n< Age: 0\n\nTwo Set-Cookie  headers.\nAnf this is causing auth_form not working,"}]