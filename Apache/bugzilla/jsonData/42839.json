[{"count": 0, "tags": [], "creator": "asf.bugzilla@daleroberts.info", "attachment_id": null, "id": 105199, "time": "2007-07-09T02:19:17Z", "bug_id": 42839, "creation_time": "2007-07-09T02:19:17Z", "is_private": false, "text": "The native tomcat connector for iPlanet / SunONE Web Server does not re-use\nconnections to back end tomcat servers.\n\nVersion: tomcat-connectors-1.2.23-src\nComponent: netscape connector\nWeb Server: Sun ONE Web Server 6.1SP4 B01/20/2005 17:43\n\n\nBelow are a couple of log messages that were recorded when using the connector\nwith debug logging:\n  Available Source CODE:\n    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n    [Mon Jul 09 10:16:18 2007] [27363:0169] [debug] jk_ajp_common.c (1499):\nAJP13 protocol: Reuse is disabled\n    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n  After below UPDATE:\n    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n    [Mon Jul 09 10:17:29 2007] [27409:0169] [debug] jk_ajp_common.c (1506):\nAJP13 protocol: Reuse is OK\n    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n\nThis appears to be a result of NOT having the follwowing line in the setup\nsection of the init_ws_service function of the jk_nsapi_plugin.c file:\n\n    s->disable_reuse = JK_FALSE;\n\nBelow is the result of a \"diff -c\" of the oringinal and new files I used to \"un\ndisable\" connection pooling which from initial testing appears to work and\nprovide greater performacne and stability under heavy load:\n\n*** jk_nsapi_plugin.c   Sun Jan 28 21:10:33 2007\n--- jk_nsapi_plugin.c.new       Mon Jul  9 10:01:19 2007\n***************\n*** 372,377 ****\n--- 372,378 ----\n      s->write = ws_write;\n      s->flush = NULL;\n  \n+     s->disable_reuse = JK_FALSE;\n      /* Clear RECO status */\n      s->reco_status = RECO_NONE;"}, {"count": 1, "tags": [], "creator": "rainer.jung@kippdata.de", "text": "This will be part of 1.2.24, which we expect to release soon.\nThanks for sharing you experience.", "id": 105803, "attachment_id": null, "bug_id": 42839, "creation_time": "2007-07-20T06:39:59Z", "time": "2007-07-20T06:39:59Z", "is_private": false}, {"count": 2, "tags": [], "creator": "rainer.jung@kippdata.de", "is_private": false, "text": "Move a couple of fixed JK issues from resolved to closed.", "id": 112384, "time": "2008-01-01T16:32:27Z", "bug_id": 42839, "creation_time": "2008-01-01T16:32:27Z", "attachment_id": null}]