[{"id": 40904, "tags": [], "bug_id": 21684, "attachment_id": null, "count": 0, "text": "When using the following sysproperties tag to send system properties to a JUNIT \ntestcase I get a null pointer exception. I have confirmed the file can be found \nby the script by simply using the <property/> construct.\n\n<sysproperty file=\"Test.properties\"/> \n\njava.lang.NullPointerException\n        at java.util.Hashtable.put(Hashtable.java:380)\n        at org.apache.tools.ant.types.CommandlineJava$SysProperties.setSystem\n(CommandlineJava.java:130)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.executeInVM\n(JUnitTask.java:795)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute\n(JUnitTask.java:556)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute\n(JUnitTask.java:532)\n        at org.apache.tools.ant.Task.perform(Task.java:341)\n        at org.apache.tools.ant.Target.execute(Target.java:309)\n        at org.apache.tools.ant.Target.performTasks(Target.java:336)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1339)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1255)\n        at org.apache.tools.ant.Main.runBuild(Main.java:609)\n        at org.apache.tools.ant.Main.start(Main.java:196)\n        at org.apache.tools.ant.Main.main(Main.java:235)", "time": "2003-07-17T13:02:12Z", "creator": "james.fawke@ecrossnet.com", "creation_time": "2003-07-17T13:02:12Z", "is_private": false}, {"text": "instead of \n<sysproperty file=\"Test.properties\"/> \nyou should have\n\n<sysproperty key=\"somekey\" file=\"Test.properties\"/> \n\nthe semantics of this is not like <property file=\"Test.properties\"/>\n\nit means really create a system property called \"somekey\" whose value is the \nlocation of \"Test.properties\" resolved by ant (that is with the project base dir \nprepended to the file name when it is not absolute).\n\nthe problem is that there should be a check that sysproperties are valid when \nthey get added.\n", "tags": [], "bug_id": 21684, "is_private": false, "count": 1, "id": 41126, "time": "2003-07-22T06:31:11Z", "creator": "antoine@apache.org", "creation_time": "2003-07-22T06:31:11Z", "attachment_id": null}, {"id": 41130, "tags": [], "bug_id": 21684, "attachment_id": null, "count": 2, "text": "Starting with ant 1.6, if you do something like that, you will get an exception \ntelling you that :\n\"keys and values must be specified for environment variables.\"", "time": "2003-07-22T08:01:29Z", "creator": "antoine@apache.org", "creation_time": "2003-07-22T08:01:29Z", "is_private": false}]