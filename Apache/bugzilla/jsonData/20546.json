[{"count": 0, "tags": [], "creator": "dcymbal@yahoo.com", "attachment_id": null, "id": 38496, "time": "2003-06-06T13:30:05Z", "bug_id": 20546, "creation_time": "2003-06-06T13:30:05Z", "is_private": false, "text": "I've uncovered a condition with 4.0.3 where the following response is returned \nto the client:\n\nHTTP/1.1 400 Bad Request\nContent-Type: text/html\nDate: Wed, 28 May 2003 18:37:02 GMT\nConnection: close\nServer: Apache Tomcat/4.0.3 (HTTP/1.1 Connector)\n\nTomcat does not close the connection however which is causing the two\nclients I've tested against (IE 6.0 and curl) to hang in their read loops.\nI've been digging in RFC 2616 to try and understand who is at fault here,\nand my understanding is that since there is no Content-Length returned and\nthe response is not chunked-encoded that the client should read until the\nconnection is closed.  Speaking with the curl developers they feel that this is \na Tomcat bug and that the response needs to either set Content-Length: 0 or \nTomcat needs to shutdown the connection after sending the header.  Also they \npoint out that 2616 says that a 400 request SHOULD include an entity (but is \nobviously not required to do so).\n\nSo, any thoughts on this?  Are we understanding this properly as a server issue \nvs. a client problem?\n\nP.S. The way I am able to duplicate this issue is to issue a GET request where \nthe URI exceeds 32k.  I realize that in itself is pretty ridiculous and perhaps \nthis behavior is some sort of defense against a DOS attack or the like but I \ncould not find it documented anywhere."}, {"count": 1, "tags": [], "bug_id": 20546, "attachment_id": null, "text": "I believe this was corrected in 4.1.X and the Coyote based connectors.", "id": 38559, "time": "2003-06-08T15:01:31Z", "creator": "funkman@joedog.org", "creation_time": "2003-06-08T15:01:31Z", "is_private": false}]