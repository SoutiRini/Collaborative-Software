[{"count": 0, "text": "We are expriencing strange problem:\n\nDocuments generated using FOP 0.20.5 sticks words accidentaly in PDF document.\n\nWe are using FOP 0.20.5 to generate PDF documents using XSL and XML on command \nline and progrmmaticaly. We are using Java j2sdk1.4.1_02\n\nExample:\n\ncode in XSL:\n<fo:inline xsl:use-attribute-sets=\"chr.012\">This text is example</fo:inline>\n\nIn PDF is seen:\n\"Thistext is example\"\nor\n\"This textisexample\"\n\nWhen we open the same PDF document several times, it sticks different words \nsometimes, not the same each time. Occasionaly is text correct and not sticked. \nWhen we look in XSL, the text is correct.\n\nError can be produced only on large PDF files (our example has 5 pages) with \nlong continuous text and many <fo:inline> sections.\n\nWe did try another XSL:FO processor - XEP 4.1 with the same XSL and XML files \nand it produces PDF without any formatting error. So it is why we assume, that \nerror is in FOP.\n\nWe did test, that error can be produced on Adobe Acrobat Reader 5.0.0 CE, 5.0.5 \nCE, 6.0.0 CE.\nError does not appear on AR 6.0.2 CE. But you can understood, we are not able \nto influence on users, which version of AR they will use...\n\nIn document we are using Arial font defined in userconfig and appropriate xml \ndefinition file.\n\nIf needed, I can provide more necessary informations as:\n- XSL and XML example\n- fop configuration \n\nSide effect of this error is GPF in AR sometimes.\n\nAny help very wellcomed, because it looks to be serious problem for us.", "bug_id": 32970, "is_private": false, "id": 69282, "time": "2005-01-06T19:19:01Z", "creator": "petr.marek@sybase.cz", "creation_time": "2005-01-06T19:19:01Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 32970, "attachment_id": 13913, "text": "Created attachment 13913\nExample of error. Interesting is that this error is accompanied by formatting problem to which arrow is pointing", "id": 69283, "time": "2005-01-06T19:21:10Z", "creator": "petr.marek@sybase.cz", "creation_time": "2005-01-06T19:21:10Z", "is_private": false}, {"count": 2, "tags": [], "creator": "petr.marek@sybase.cz", "attachment_id": null, "id": 69284, "time": "2005-01-06T19:24:20Z", "bug_id": 32970, "creation_time": "2005-01-06T19:24:20Z", "is_private": false, "text": "comment to picture:\nunderlined text shoul be:\n\"nebo prevodem\", \"zvolene variante\", \"v pojistne\""}, {"count": 3, "text": "Please attach a testcase (FO file) so we can reproduce such a PDF ourselves.\nOtherwise, I don't know how to help.", "bug_id": 32970, "is_private": false, "id": 69329, "time": "2005-01-07T10:28:27Z", "creator": "jeremias@apache.org", "creation_time": "2005-01-07T10:28:27Z", "tags": [], "attachment_id": null}, {"count": 4, "text": "Created attachment 13924\nExample of error. Please read readme.txt\n\nThanks for response. Sorry that example is in Czech. I hope you will see the\ncorrect display of text from attachet image or text source in xsl. If it will\nmake big problem, I can try to prepare example with english text section.\nError can be seen in the middle of fifth page of pdf example.", "bug_id": 32970, "is_private": false, "id": 69339, "time": "2005-01-07T12:20:16Z", "creator": "petr.marek@sybase.cz", "creation_time": "2005-01-07T12:20:16Z", "tags": [], "attachment_id": 13924}, {"count": 5, "tags": [], "bug_id": 32970, "attachment_id": 13925, "text": "Created attachment 13925\nfont files used in example - part 1", "id": 69341, "time": "2005-01-07T12:21:39Z", "creator": "petr.marek@sybase.cz", "creation_time": "2005-01-07T12:21:39Z", "is_private": false}, {"count": 6, "tags": [], "creator": "petr.marek@sybase.cz", "attachment_id": 13926, "is_private": false, "id": 69342, "time": "2005-01-07T12:22:23Z", "bug_id": 32970, "creation_time": "2005-01-07T12:22:23Z", "text": "Created attachment 13926\nfont files used in example - part 2"}, {"count": 7, "tags": [], "creator": "petr.marek@sybase.cz", "attachment_id": null, "id": 69343, "time": "2005-01-07T12:27:43Z", "bug_id": 32970, "creation_time": "2005-01-07T12:27:43Z", "is_private": false, "text": "I am sending the font files, too. It is because I thing problem could be \nsomewhere in embedding fonts or something similar. Our test did show two things:\n\n1) If you remove font definitions for Arial from userconfig.xml, error never \noccurs... But # sign is displayed instead Czech characters, of course.\n2) Very occasionaly Acrobat Reader shows error with text similar to \"Can not \nremove 2ac2eArial font .....\" before GPF."}, {"count": 8, "text": "I checked on Acrobat Readers 4.0.5, 5.0, 6.0.2 and GhostScript 8.14 and all\nshowed your PDF and a newly generated one (using your sources) correctly, even\nclosing and reopening the file several times.\n\nWhat you could try is to disable kerning by setting kerning=\"no\" on each font,\nbut it may be necessary to remove all \"kerning\" elements from the font metrics\nXML files. Maybe it has something to do with that but I'm not sure.\n\nAt the moment I have no clue what's wrong.", "bug_id": 32970, "is_private": false, "id": 69345, "time": "2005-01-07T12:56:22Z", "creator": "jeremias@apache.org", "creation_time": "2005-01-07T12:56:22Z", "tags": [], "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 32970, "attachment_id": null, "text": "Thank you for quick reply.\n\nWell, we have here a typical helpdesk problem - how to reproduce problem \ncustomer is reporting :-/. I know it, because I was on techsupport helpdesk one \nupon the time :-)\n\nDisabling of kerning I did try early and it does not help at all.\n\nYour reply discover that problem can be reproduced only on regional versions of \nAcrobat Reader. It does not matter, if it is Czech version or English Central \nEuropean version. Of course I did not test all existing versions of AR, but I \nthink that this example is satisfactionary.\n\nTo comment more versions you did test:\n4.0.5 - we are not using it and so I did not test it\n5.0.0 CE - regional czech version produces the error.\n5.0.5 - english version - does not produce error, \n5.0.5 CE - regional czech version produces the error.\n6.0.0 CE - English version for Central Europe produces the error\n6.0.1 - English version does not produce the error\n6.0.2 - as stated early, does not produce problem on regional czech version\n\nSo it seems, that problem is attached with  English CE or Czech CE versions of \nAcrobat of versions 5.x and 6.0.0 or 6.0.1.\nBut still here remains question, why PDF produced by XEP 4.1 does not produce \nthe error on any version.\n\nI am not expert - but only to give you any informations - can not be problem \nconnected with embedding fonts some way? Maybe XEP uses a little bit different \naproach for it?\n\nTo help you reproduce the problem I put on our ftp two examples of installation \npackages of AR 5.0.5 CE:\n\nftp.sybase.cz/pub\n\nyou can use anonymous login\n\nAny conclusions, which can help us to solve this problem wellcomed\n", "id": 69368, "time": "2005-01-07T17:44:04Z", "creator": "petr.marek@sybase.cz", "creation_time": "2005-01-07T17:44:04Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "jeremias@apache.org", "is_private": false, "count": 10, "id": 69514, "time": "2005-01-11T10:31:16Z", "bug_id": 32970, "creation_time": "2005-01-11T10:31:16Z", "text": "I'm extremely reluctant to install a software in a language I don't understand.\nIt's already enough of a pain to have a mixed german/english system. I'm sorry,\nbut I won't install that version of Acrobat.\n\nIMO if different Acrobat variant (even with the same version numbers) produce\ndifferent results it's more of a problem of Acrobat. I'd check if Adobe support\nhas any idea."}, {"attachment_id": null, "tags": [], "creator": "petr.marek@sybase.cz", "is_private": false, "count": 11, "id": 69517, "time": "2005-01-11T11:00:37Z", "bug_id": 32970, "creation_time": "2005-01-11T11:00:37Z", "text": "I understand. \n\nMeantime, is any way how to embed complete ttf font into PDF document instead \nneeded parts only?\n\nhttp://xml.apache.org/fop/fonts.html writes:\n\"... When embedding TrueType fonts (ttf) or TrueType Collections (ttc), a \nsubset of the original font, containing only the glyphs used, is embedded in \nthe output document. ...\"\n\nXEP includes complette font informations and theirs PDF does not prouce the \nproblem. \n\nWe have some developers capacity to try to solve such problem ourself, so if \nsome change of souce will help, we can try it."}, {"count": 12, "tags": [], "bug_id": 32970, "attachment_id": null, "text": "The description is a bit misleading. FOP embeds the whole font file into the\nPDF, which is actually a bad idea (CJK fonts files are big). There are additional\nstructures in the PDF which are needed for mapping PDF character indexes into\nglyph indexes. FOP fills these with data only for characters which have been\nused in the document. I vaguely remember there are a few more PDF structures\nstill missing.", "id": 69533, "time": "2005-01-11T16:58:42Z", "creator": "j3322ptm@yahoo.de", "creation_time": "2005-01-11T16:58:42Z", "is_private": false}]