[{"count": 0, "attachment_id": null, "bug_id": 33909, "text": "It seems that context attributes get nullified before ServletContextListener\n\nI have created a small ServletContextListener and this causes a \nNullPointerException on contextDestroyed.\n\npublic class ProblemListener implements ServletContextListener {\n    public void contextInitialized(ServletContextEvent arg0) {\n        SimpleClass contextObject = new SimpleClass();\n        arg0.getServletContext().setAttribute(\"CONTEXT\", contextObject);\n    }\n\n    public void contextDestroyed(ServletContextEvent arg0) {\n        SimpleClass container = (SimpleClass) arg0.getServletContext\n().getAttribute(\"CONTEXT\");\n        container.setFoo(\"ABC!!!!\");\n        arg0.getServletContext().removeAttribute(\"CONTEXT\");\n    }\n}\n\nSimpleClass is a bean that as a getter and setter called Foo and a finalizer \nthat does System.out.println(\"FINALIZE THIS\");\n\nThe sample from Sun (near the bottom of http://java.sun.com/j2ee/tutorial/1_3-\nfcs/doc/Servlets4.html) sounds like it should not be null at that point.", "id": 71990, "time": "2005-03-08T18:34:11Z", "creator": "trajano@yahoo.com", "creation_time": "2005-03-08T18:34:11Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 33909, "text": "\n\n*** This bug has been marked as a duplicate of 33463 ***", "id": 71991, "time": "2005-03-08T18:36:23Z", "creator": "remm@apache.org", "creation_time": "2005-03-08T18:36:23Z", "is_private": false, "attachment_id": null}]