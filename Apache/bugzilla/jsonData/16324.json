[{"count": 0, "tags": [], "text": "Dinamic content generated by:\n\nint med_evento_novo_handler( request_rec *r )\n{\n    if ( strcmp( r->handler, \"med-evento-novo-handler\" ) ) {\n       return DECLINED;\n    }\n    r->allowed |= ( AP_METHOD_BIT << M_GET );\n    if ( r->method_number != M_GET ) {\n       return DECLINED;\n    }\n    ap_set_content_type( r, \"text/html\" );\n    if ( r->header_only ) {\n       return OK;\n    }\n    return med_evento_novo( r );\n}\n\nint med_evento_novo( request_rec *r )\n{\n...\nap_rputs( DOCTYPE_HTML_4_0S, r );\nap_rprintf( r, \"<HTML><HEAD><TITLE>NOVO EVENTO</TITLE>\"\n               \"<LINK REL=\\\"StyleSheet\\\" HREF=\\\"%s/css/med.css\\\" TITLE=\\\"MED\ncss\\\" TYPE=\\\"text/css\\\">\"\n               \"<SCRIPT LANGUAGE=\\\"JavaScript1.2\\\" TYPE=\\\"text/javascript\\\">var\njanela;</SCRIPT>\"\n               \"<SCRIPT LANGUAGE=\\\"JavaScript1.2\\\"\nSRC=\\\"%s/javascript/vt_sup_cliente.js\\\" TYPE=\\\"text/javascript\\\"></SCRIPT>\",\npath, path );\nap_rputs( \"</HEAD><BODY>\", r );\n...\n\nMozilla reports these errors:\nError: The stylesheet http://localhost/med/css/med.css was not loaded because\nits MIME type, \"text/html\", is not \"text/css\".\n\nError: syntax error\nSource File: http://localhost/med/javascript/vt_sup_cliente.js\nLine: 1\nSource Code:\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0//EN\"\n\nAnd trying telnet localhost 80\nand GET /page\n\nNOT RETURN ANY HEADER!!\nONLY THE HTML CODE!!!\n\nWhy the headers are not sent to client?\nWhy is include the first line of the html code in file vt_sup_cliente.js, \ngenerating syntax error in javascript interpretation?", "attachment_id": null, "bug_id": 16324, "id": 29862, "time": "2003-01-22T12:49:04Z", "creator": "ranier@cultura.com.br", "creation_time": "2003-01-22T12:49:04Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 16324, "attachment_id": null, "is_private": false, "id": 29866, "time": "2003-01-22T13:26:02Z", "creator": "nd@perlig.de", "creation_time": "2003-01-22T13:26:02Z", "text": "I can't see a bug here. Looks more like a configuration problem.\n\nSome Hints:\nI guess, your CSS and JS URLs are also affected by that handler (SetHandler?).\nYou should change that.\n\n> if ( r->header_only ) {\n>    return OK;\n> }\n\ndrop that code. Otherwise you probably get different Header sets for GET and\nHEAD. Apache drops the response body itself if neccessary.\n\n> And trying telnet localhost 80\n> and GET /page\n> NOT RETURN ANY HEADER!!\n\nwell, this is because you do an HTTP/0.9 Request, which doesn't know about\nheaders. Use something like\n\nGET /page HTTP/1.0\n\nI'd suggest, for configuration problems you subscribe one of the mailinglists on\nhttp://httpd.apache.org/lists.html.\n\nThanks for using Apache!"}]