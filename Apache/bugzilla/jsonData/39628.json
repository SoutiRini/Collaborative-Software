[{"count": 0, "tags": [], "creator": "jrsisson@gmail.com", "attachment_id": null, "text": "Currently the InputStream that is constructed inside the\norg.apache.tools.ant.taskdefs.Manifest.getDefaultManifest() method is not\nclosed, resulting in resources only being cleaned up during finalization of the\nInputStream.\n\nFor example, the InputStream and its associated inflater don't get released\nuntil finalization:\n\njava.util.zip.Inflater.<init>(Inflater.java:83)\njava.util.zip.ZipFile.getInflater(ZipFile.java:305)\njava.util.zip.ZipFile.getInputStream(ZipFile.java:250)\njava.util.zip.ZipFile.getInputStream(ZipFile.java:219)\njava.util.jar.JarFile.getInputStream(JarFile.java:378)\nsun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:119)\njava.net.URL.openStream(URL.java:913)\njava.lang.ClassLoader.getResourceAsStream(ClassLoader.java:997)\njava.lang.Class.getResourceAsStream(Class.java:1331)\norg.apache.tools.ant.taskdefs.Manifest.getDefaultManifest(Manifest.java:702)\norg.apache.tools.ant.taskdefs.Jar.createManifest(Jar.java:355)\norg.apache.tools.ant.taskdefs.Jar.initZipOutputStream(Jar.java:347)\norg.apache.tools.ant.taskdefs.Zip.executeMain(Zip.java:476)\norg.apache.tools.ant.taskdefs.Zip.execute(Zip.java:350)\n\nThe attached patch closes the input stream.", "id": 89333, "time": "2006-05-22T05:35:01Z", "bug_id": 39628, "creation_time": "2006-05-22T05:35:01Z", "is_private": false}, {"count": 1, "tags": [], "creator": "jrsisson@gmail.com", "attachment_id": 18327, "is_private": false, "id": 89334, "time": "2006-05-22T05:36:59Z", "bug_id": 39628, "creation_time": "2006-05-22T05:36:59Z", "text": "Created attachment 18327\nPatch to close the InputStream in Manifest getDefaultManifest()"}, {"count": 2, "attachment_id": null, "creator": "jkf@apache.org", "is_private": false, "id": 90312, "time": "2006-06-16T22:04:06Z", "bug_id": 39628, "creation_time": "2006-06-16T22:04:06Z", "tags": [], "text": "Patch commited, thank you very much."}]