[{"count": 0, "tags": [], "bug_id": 25705, "attachment_id": null, "text": "Produced with this script:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project default=\"all\">\n    <target name=\"all\">\n        <taskdef name=\"checklinks\"\nclasspath=\"/space/src/nb_all/nbbuild/nbantext.jar\"\nclassname=\"org.netbeans.nbbuild.CheckLinks\"/>\n        <checklinks basedir=\"/space/ant16/docs\">\n            <include name=\"**/*.html\"/>\n            <exclude name=\"manual/api/\"/>\n        </checklinks>\n    </target>\n</project>\n\nwhere nbantext.jar contains this task:\n\nhttp://www.netbeans.org/unbranded-source/browse/~checkout~/nbbuild/antsrc/org/netbeans/nbbuild/CheckLinks.java?content-type=text/plain\n\nThere are probably a few false positives in there but most look to be real errors.", "id": 49552, "time": "2003-12-22T17:56:58Z", "creator": "jglick@apache.org", "creation_time": "2003-12-22T17:56:58Z", "is_private": false}, {"count": 1, "attachment_id": 9666, "creator": "jglick@apache.org", "is_private": false, "id": 49553, "time": "2003-12-22T17:57:19Z", "bug_id": 25705, "creation_time": "2003-12-22T17:57:19Z", "tags": [], "text": "Created attachment 9666\nLog of broken links and similar HTML errors"}, {"count": 2, "tags": [], "bug_id": 25705, "attachment_id": null, "text": "Nice class. But it seems that it can\u00b4t handle anchors inside html pages. E.g. \nit reported on my machine\n\nC:\\seu\\cvs-downloads\\ant\\ant\\docs\\manual\\tutorial-tasks-filesets-\nproperties.html:24:14: broken link: file:/C:/seu/cvs-\ndownloads/ant/ant/docs/manual/tutorial-tasks-filesets-properties.html#filesets\n\nBut the tutorial*.html exists and has an anchor \"filesets\". MSIE shows the \nright place inside the file.\n\n\nFor more comfortable use I tried to make an automated download of the JAR, but \ncouldn\u00b4t find the location. Searches on the netbeans site said that you have to \ncompile that class for your own. So I did a little bit automatisation here. \n\nI can publish thoughts here, but I\u00b4m not sure whether this can be part of the \nofficial release, becuase it downloads sources from Sun ...\n\n\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<project>\n\n    <!-- Where is the basedir for the project to check -->\n    <property name=\"project.base\" location=\"ant\"/>\n\n    <!-- proxy settings -->\n    <property name=\"proxy.host\" value=\"---your-proxyhost---\"/>\n    <property name=\"proxy.port\" value=\"---your-proxyport---\"/>\n    <setproxy proxyhost=\"${proxy.host}\" proxyport=\"${proxy.port}\"/>\n\n\n    <target name=\"checklinks.check\">\n        <available property=\"checklinks.present\" file=\"checklinks.jar\"/>\n    </target>\n\n    <target name=\"checklinks.create\" unless=\"checklinks.present\">\n        <!-- Load source of the task and compile it if not present -->\n        <!-- see http://nagoya.apache.org/bugzilla/show_bug.cgi?id=25705 -->\n        <mkdir dir=\"__src/org/netbeans/nbbuild\"/>\n        <get dest=\"__src/org/netbeans/nbbuild/CheckLinks.java\" \nsrc=\"http://www.netbeans.org/unbranded-\nsource/browse/~checkout~/nbbuild/antsrc/org/netbeans/nbbuild/CheckLinks.java?\ncontent-type=text/plain\"/>\n        <javac srcdir=\"__src\"/>\n        <tstamp><format property=\"date\" pattern=\"dd.MM.yyyy - \nHH:mm:ss\"/></tstamp>\n        <jar destfile=\"checklinks.jar\" basedir=\"__src\">\n            <manifest>\n                <attribute name=\"Built-By\" value=\"${user.name}\"/>\n                <attribute name=\"Built-On\" value=\"${date}\"/>\n            </manifest>\n        </jar>\n        <delete includeemptydirs=\"true\"><fileset dir=\"__src\"/></delete>\n    </target>\n\n    <target name=\"checklinks\" description=\"Checks Ant-Docs for broken Links\" \ndepends=\"checklinks.check,checklinks.create\">\n        <taskdef name=\"checklinks\"\n                 classpath=\"checklinks.jar\"\n                 classname=\"org.netbeans.nbbuild.CheckLinks\"/>\n        <!-- delete old reports -->\n        <delete><fileset dir=\".\" \nincludes=\"checklinks.tmp,checklinks.log\"/></delete>\n\n        <!-- check for broken links and report to checklinks.log -->\n        <record name=\"checklinks.tmp\" action=\"start\"/>\n        <checklinks basedir=\"${project.base}/docs\" checkexternal=\"false\">\n            <include name=\"**/*.html\"/>\n            <exclude name=\"manual/api/\"/>\n        </checklinks>\n        <record name=\"checklinks.tmp\" action=\"stop\"/>\n\n        <!-- clean the logfile -->\n        <copy file=\"checklinks.tmp\" tofile=\"checklinks.all.log\">  <!-- \ntofile=\"${project.base}/checklinks.log\" -->\n            <filterchain>\n                <linecontains>\n                    <contains value=\"[checklinks]\"/>\n                </linecontains>\n                <tokenfilter>\n                    <linetokenizer/>\n                    <replacestring from=\"[checklinks] \" to=\"\"/>\n                    <trim/>\n                </tokenfilter>\n            </filterchain>\n        </copy>\n\n        <!-- split logfile according to error message -->\n        <copy file=\"checklinks.all.log\" tofile=\"checklinks.broken-links.log\">\n            <filterchain>\n                <linecontains>\n                    <contains value=\" broken link:\"/>\n                </linecontains>\n            </filterchain>\n        </copy>\n        <copy file=\"checklinks.all.log\" tofile=\"checklinks.bad-uri.log\">\n            <filterchain>\n                <linecontains>\n                    <contains value=\" bad relative URI:\"/>\n                </linecontains>\n            </filterchain>\n        </copy>\n        <delete file=\"checklinks.tmp\"/>\n    </target>\n\n</project>", "id": 50800, "time": "2004-01-20T08:38:21Z", "creator": "jan@materne.de", "creation_time": "2004-01-20T08:38:21Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 25705, "attachment_id": null, "text": "this list is certainly out of date (we will have a different set of broken links now).\n\n", "id": 118463, "time": "2008-07-10T07:15:42Z", "creator": "bodewig@apache.org", "creation_time": "2008-07-10T07:15:42Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 25705, "text": "Yes, I have a list of fixes to make which I will do as soon as I get a chance.", "id": 118494, "time": "2008-07-10T14:01:49Z", "creator": "jglick@apache.org", "creation_time": "2008-07-10T14:01:49Z", "is_private": false, "attachment_id": null}]