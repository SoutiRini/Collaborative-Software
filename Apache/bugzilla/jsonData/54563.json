[{"count": 0, "tags": [], "bug_id": 54563, "is_private": false, "text": "Hi *,\n\nI am using a Debian 6.0.6 system with Apache 2.2.16.\n# apache2 -v\nServer version: Apache/2.2.16 (Debian)\nServer built:   Nov 30 2012 08:33:45\n\nI like to use webdav and configured it correctly. \nIt works fine so far. Now the problem:\n\nThe data for the webdav share is physical located on a Windows CIFS share\nwith NTFS as filesystem and configured quota to limit data to 50 MB.\n\nOn Linux I get a correct message, when I try to copy a file on a \"full\" share:\n\nwww-data@Skolerouter:~$ env LANG=c cp rules.png /var/davmnt/Lehrer/Lehrer1/\ncp: closing `/var/davmnt/Lehrer/Lehrer1/rules.png': No space left on device\nwww-data@Skolerouter:~$ mount \n..\n//172.16.0.2/Lehrer1$/ on /UNIONFS/var/davmnt/Lehrer/Lehrer1 type cifs (rw,mand,relatime,vers=1.0,sec=ntlmi,cache=loose,unc=\\z.16.0.2\\Lehrer1$,username=Lehrer1,uid=0,noforceuid,gid=0,noforcegid,addr=172.16.0.2,file_mode=0666,dir_mode=0777,nounix,serverino,rsize=61440,wsize=16580,actimeo=1)\n  \nWhen I upload a file with Linux and cadaver or with Windows 7, I get no error\nmessage, but a NULL byte file is created:\n\ndav:/Lehrer1/> put qemu.bz2 \nUploading qemu.bz2 to `/Lehrer1/qemu.bz2':\nProgress: [=============================>] 100,0% of 9865186 bytes succeeded.\ndav:/Lehrer1/> ls\nListing collection `/Lehrer1/': succeeded.\nColl:   Eigene Dateien                         0  Feb 14 15:28\nColl:   Favoriten                              0  Feb 14 14:21\n        7z920-x64.msi                          0  Feb 14 16:39\n        foo                             51179520  Feb 15 11:10\n        foo.png                          1231977  Feb 14 16:47\n        http.so                                0  Feb 15 11:11\n        index.php                            940  Feb 15 11:11\n        qemu.bz2                               0  Feb 15 11:27\n        rules.png                              0  Feb 15 11:25\ndav:/Lehrer1/> \n\nWhen there is some space left on the device, data is filled up to the quota limit and the uploaded file is broken.\n\nShouldn't mod_webdav tell the user that the underlying operating system \ncan not write the file?\n\nThanks for any hints or fixes.\n\nbest regards\n Waldemar Brodkorb", "id": 165260, "time": "2013-02-15T10:32:27Z", "creator": "waldemar.brodkorb@pl.rlp.de", "creation_time": "2013-02-15T10:32:27Z", "attachment_id": null}]