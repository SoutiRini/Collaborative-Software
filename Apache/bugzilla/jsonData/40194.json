[{"attachment_id": null, "tags": [], "bug_id": 40194, "text": "I've installed isapi_redirect.dll (tomcat-connectors version 1.2.18) on IIS 5.1.\n Once I got it working it works fine so long as you don't invoke a rewrite rule\nthat ends up with a longer path and a query string.\n\nIn my rewrite_rule_file.properties:\n/pub/=/widgetsample/\n\nHit a servlet that is served by that rewrite\nexample http://localhost/pub/pf/request.htm?myparam=foo\n\nWhen the URL hits tomcat, the url is corrupt.\nexample result http://localhost//widgetsample/pf/request.htm?uest.htm\nShould be http://localhost//widgetsample/pf/request.htm?myparam=foo\n\nI debugged into it, and the problem is the call to simple_rewrite in\njk_isapi_plugin.c line 924 is trying to do an in place modification of the path,\nwhich is also the same buffer that the query string is using.\n\nAn in place modification is only going to work if the target path is less than\nor equal to the length of the starting path.", "count": 0, "id": 91923, "time": "2006-08-06T01:01:22Z", "creator": "filter3@excite.com", "creation_time": "2006-08-06T01:01:22Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 40194, "text": "This was fixed by Mladen in 1.2.20 (or maybe 19).\nThe query string was changed from a pointer into the URI to be a copy of the\noriginal query string.\nCan you please retest with 1.2.20.", "id": 97674, "time": "2007-01-04T19:37:31Z", "creator": "Tim.Whittington@orionhealth.com", "creation_time": "2007-01-04T19:37:31Z", "is_private": false, "attachment_id": null}]