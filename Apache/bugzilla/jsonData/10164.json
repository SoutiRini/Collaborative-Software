[{"count": 0, "tags": [], "creator": "chapman@gsctech.com", "attachment_id": null, "text": "In apache 2.0.35 and 2.0.39, sending the parent process a SIGHUP (used by RedHat\nLogRotate to open new log files after renaming the old ones) causes the server\nto seg fault and exit.\n\nEsxtract from log file:\n\n[Sun Jun 23 13:02:39 2002] [notice] Apache/2.0.39 (Unix) PHP/4.2.1 configured --\nresuming normal operations\n[Sun Jun 23 13:02:59 2002] [notice] SIGHUP received.  Attempting to restart\n[Sun Jun 23 13:02:59 2002] [notice] seg fault or similar nasty error detected in\nthe parent process", "id": 18425, "time": "2002-06-23T18:22:32Z", "bug_id": 10164, "creation_time": "2002-06-23T18:22:32Z", "is_private": false}, {"count": 1, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "text": "Did you get a coredump?  If so, a backtrace from the coredump\nwould be very helpful.\n", "id": 18887, "time": "2002-07-02T21:19:56Z", "bug_id": 10164, "creation_time": "2002-07-02T21:19:56Z", "is_private": false}, {"count": 2, "tags": [], "creator": "hinsonjr@yahoo.com", "attachment_id": null, "text": "I was having this same problem and I am running the server on port 80 on a \nSolaris platform. I just noticed that the httpd.pid file was owned by root and \nI was getting an fopen error in the error_log. I chown'd the file back to the \nnon-root owner of the install and it stopped dieing. This is on an older \nversion...\n\nServer version: Apache/1.3.0 Syncinc/3.2 RSA-SSLC/2.0 (Unix)\n\nThis is not good though, in that I can't start the server unless I am root, but \nI can kill it with a -HUP as the non-root user.", "id": 19346, "time": "2002-07-11T18:49:50Z", "bug_id": 10164, "creation_time": "2002-07-11T18:49:50Z", "is_private": false}, {"count": 3, "tags": [], "creator": "kevin@kevinnet.net", "attachment_id": null, "id": 22206, "time": "2002-09-03T22:15:45Z", "bug_id": 10164, "creation_time": "2002-09-03T22:15:45Z", "is_private": false, "text": "I'm running apache version 2.0.40 (from httpd-2.0.40-1.i386.rpm) and the same\nthing happens.  No core file is produced.  Changing the owner of the\n/var/run/httpd.pid file does not fix the problem.\n"}, {"count": 4, "tags": [], "bug_id": 10164, "attachment_id": null, "text": "try running \nulimit -c unlimited before you start httpd.\nalso you may want to upgrade to a more recent version of PHP, as they have fixed\na lot of things since 4.2.1.\ncan you also attach.\na httpd.conf file\nthe output of httpd -l\n(so we can see if that helps)", "id": 22207, "time": "2002-09-03T22:29:06Z", "creator": "ianh@apache.org", "creation_time": "2002-09-03T22:29:06Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 10164, "text": "The problems seems caused by the 2.0.40 API patch for 4.2.2 version of PHP \nfrom Red Hat Inc.\nA 2.0.40 running with PHP 4.2.2 (actually 4.2.2-11 from Red Hat Rawhide \nRepository) behaves with a segfault after HUP signal. On the contrary, HUP \nsignal to a 2.0.40 *without* any PHP stuff works very well. No segfaults so \nfar.\n\nHaven't tried with PHP 4.2.3 yet.", "id": 22627, "attachment_id": null, "creator": "berk@linux.org.tr", "creation_time": "2002-09-10T22:41:48Z", "time": "2002-09-10T22:41:48Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 10164, "attachment_id": null, "text": "\n  This is certainly related to PHP's, and not Apache's handling of signals.\n  This is something that needs to be addressed by the PHP developers since\n  they choose their signal handling and need to live, as a library, within\n  another applications choices.  It's up to the PHP Apache module to inform\n  the PHP core code of those choices.\n", "id": 24522, "time": "2002-10-15T03:47:17Z", "creator": "wrowe@apache.org", "creation_time": "2002-10-15T03:47:17Z", "is_private": false}]