[{"count": 0, "tags": [], "bug_id": 38677, "is_private": false, "text": "During development I frequently redeploy war files by copying them to the\nwebapps directory and waiting for Tomcat to pick them up automatically. But it\nfrequently happens that Tomcat happens to check for war files while the file is\nstill being transferred, which results in an \"Invalid or unreadable WAR file\"\nexception. Would it make sense to instead wait a few seconds (perhaps check if\nthe file size has changed), and retry?", "id": 85845, "time": "2006-02-16T13:09:30Z", "creator": "eric.jain@gmail.com", "creation_time": "2006-02-16T13:09:30Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 38677, "is_private": false, "id": 97237, "creation_time": "2006-12-24T18:21:24Z", "time": "2006-12-24T18:21:24Z", "creator": "yoavs@computer.org", "text": "I see your point.  I guess if you want to stick with your use case, you should\nset backgroundProcessorDelay on your Host to something greater than the time it\ntakes to copy your new WAR: see\nhttp://tomcat.apache.org/tomcat-5.5-doc/config/host.html for more.\n\nHowever, what I usually do is more deterministic since I hate waiting on these\ntimings, so I would recommend it over your approach anyways: use the Manager\nwebapp to (re)deploy or (re)start your apps.  Let's say your app lives at\ncontext path /foo and your new WAR is created at /usr/local/bar.war.  Simply\nbookmark the appropriate URL as explained in\nhttp://tomcat.apache.org/tomcat-5.5-doc/manager-howto.html#Deploy%20A%20New%20Application%20from%20a%20Local%20Path\nand ping it when you want to redeploy.  That seems to work well for me...", "attachment_id": null}]