[{"count": 0, "tags": [], "creator": "tivv@gtech-ua.com", "attachment_id": null, "id": 34352, "time": "2003-04-02T15:37:49Z", "bug_id": 18614, "creation_time": "2003-04-02T15:37:49Z", "is_private": false, "text": "Current charset support is awful. It tries to encode header, but fails( at least\nnone of my mailers could parse such a header ) and encodes body as latin1\n(giving \"?\" chars instead of all other characters).\nI've tried to do next change to SendTag.java:\n            try {\n                // set the message with a mimetype according to type set by user\n                String tp = myparent.getType();\n                if (\"text/plain\".equals(tp))\n                    message.setText(myparent.getBody());\n                else\n                        message.setContent(myparent.getBody(), tp);\n            } catch (MessagingException me) {\n                // this error is not very likely to occur\n                throw new JspException(\"The message could not be set in \" +\n                                   \"the e-mail, please back up and try again.\");\n            }\nbut it did not help. For now  I use \n            try {\n                // set the message with a mimetype according to type set by user\n                String tp = myparent.getType();\n                if (\"text/plain\".equals(tp))\n                    message.setText(myparent.getBody(), \"KOI8-R\");\n                else\n                        message.setContent(myparent.getBody(), tp);\n            } catch (MessagingException me) {\n                // this error is not very likely to occur\n                throw new JspException(\"The message could not be set in \" +\n                                   \"the e-mail, please back up and try again.\");\n            }\n\n, but this fixes charset. May be we can add charset parameter to some tag to\nallow selecting any charset?"}, {"count": 1, "tags": [], "creator": "martinc@apache.org", "is_private": false, "id": 48795, "attachment_id": null, "bug_id": 18614, "creation_time": "2003-12-10T07:39:53Z", "time": "2003-12-10T07:39:53Z", "text": "The titles of #18614 and #23858 do not seem related, but they are both issues \nresulting from the lack of ability to specify a character set for the message. \nBug #23858 now includes patches to resolve that problem, so I'm marking this \nbug report as a duplicate of it.\n\n*** This bug has been marked as a duplicate of 23858 ***"}]