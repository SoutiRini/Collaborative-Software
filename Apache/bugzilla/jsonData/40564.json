[{"count": 0, "tags": [], "bug_id": 40564, "is_private": false, "id": 93948, "creation_time": "2006-09-21T07:53:21Z", "time": "2006-09-21T07:53:21Z", "creator": "edith@apache.org", "text": "I override the tabs.xsl in a pub that uses the default pub as template.", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 40564, "is_private": false, "id": 95106, "creation_time": "2006-10-26T03:40:55Z", "time": "2006-10-26T03:40:55Z", "creator": "andreas@apache.org", "text": "*** Bug 40674 has been marked as a duplicate of this bug. ***", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 40564, "is_private": false, "id": 102450, "creation_time": "2007-04-26T06:16:17Z", "time": "2007-04-26T06:16:17Z", "creator": "andreas@apache.org", "text": "I can confirm this problem.", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 40564, "is_private": false, "id": 102452, "creation_time": "2007-04-26T06:23:04Z", "time": "2007-04-26T06:23:04Z", "creator": "andreas@apache.org", "text": "Well, I don't think that can be fixed.\n\ntemplate-fallback:// doesn't look for the parent of the publication it is called\nfrom (because it can't figure out from which location it has been called). It\njust returns the second match. So if you include something with\ntemplate-fallback which in turn contains a template-fallback statement, the\nlatter file will try to include itself.\n\nI'm afraid you have to address the stylesheet you want to include explicitely\n(e.g., with a context:// URL).\n\nI'm leaving this issue open, maybe we'll find a way to determine the calling\npublication.", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 40564, "text": "i think this is a major issue. it will specifically bite those users who are\ntrying something clever and elegant with lenya. we must not frighten them :)\n\nstill, a hard problem...\n", "id": 102458, "time": "2007-04-26T06:34:13Z", "creator": "nettings@apache.org", "creation_time": "2007-04-26T06:34:13Z", "is_private": false, "attachment_id": null}, {"count": 5, "attachment_id": null, "creator": "andreas@apache.org", "text": "Apparently the template-fallback source factory doesn't get to resolve the URI\ntwice. I guess Xalan only looks at the URL and thinks that the stylesheet would\ninclude itself ...", "id": 110037, "time": "2007-10-31T07:38:00Z", "bug_id": 40564, "creation_time": "2007-10-31T07:38:00Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "bug_id": 40564, "text": "Yes, this is the problem:\n\nXalan/ProcessorImport.java:134\n\n      if (handler.importStackContains(hrefUrl))\n      {\n        throw new org.xml.sax.SAXException(\n\nWell, I hope we'll find a way around this :(", "id": 110043, "time": "2007-10-31T07:58:21Z", "creator": "andreas@apache.org", "creation_time": "2007-10-31T07:58:21Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "text": "J\u00f6rn suggested to use a query string (e.g., ...?salt=1345243) to trick Xalan.\nI'm trying this now.", "id": 110051, "time": "2007-10-31T08:14:20Z", "bug_id": 40564, "creation_time": "2007-10-31T08:14:20Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 40564, "is_private": false, "id": 110062, "creation_time": "2007-10-31T09:05:18Z", "time": "2007-10-31T09:05:18Z", "creator": "andreas@apache.org", "text": "Now the leaf can resolve its parent, but then the Lenya context resolving fails.\nMaybe the only solution is to change the context like the cocoon:// protocol\ndoes ...", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 40564, "text": "The only simple way is to pass the publication ID in the URL:\n\ntemplate-fallback:pub://path\n\nI'm reducing the severity because this workaround exists.", "id": 110066, "time": "2007-10-31T09:50:13Z", "creator": "andreas@apache.org", "creation_time": "2007-10-31T09:50:13Z", "is_private": false, "attachment_id": null}]