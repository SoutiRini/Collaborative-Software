[{"count": 0, "tags": [], "creator": "solprovider@gmail.com", "attachment_id": null, "is_private": false, "id": 75495, "time": "2005-05-27T07:37:52Z", "bug_id": 35098, "creation_time": "2005-05-27T07:37:52Z", "text": "\"make install\" fails if the prefix is not /usr/local/apache2\n\n---\nhttpd-2.1.3-beta\n\n./configure --prefix=/usr/local/apache21 --enable-auth-anon --enable-auth-dbm\n--enable-headers --enable-logio --enable-ssl --enable-usertrack\n--enable-vhost-alias --enable-rewrite --enable-proxy\nmake\nmake install\n\n/bin/sh /opt/httpd-2.1.3-beta/srclib/apr/libtool --mode=install /usr/bin/install\n-c -m 755 libaprutil-1.la /usr/local/apache21/lib\nlibtool: install: error: cannot install `libaprutil-1.la' to a directory not\nending in /usr/local/apache2/lib\nmake[2]: *** [install] Error 1\nmake[2]: Leaving directory `/opt/httpd-2.1.3-beta/srclib/apr-util'"}, {"count": 1, "tags": [], "bug_id": 35098, "attachment_id": null, "id": 75496, "time": "2005-05-27T07:46:58Z", "creator": "chip@force-elite.com", "creation_time": "2005-05-27T07:46:58Z", "is_private": false, "text": "Using a --prefix works for me, and I have never seen an issue like this.  This\nis a libtool error, perhaps something else is broken."}, {"count": 2, "tags": [], "bug_id": 35098, "attachment_id": null, "id": 75497, "time": "2005-05-27T08:20:39Z", "creator": "solprovider@gmail.com", "creation_time": "2005-05-27T08:20:39Z", "is_private": false, "text": "libtool --version\nltmain.sh (GNU libtool) 1.4 (1.920 2001/04/24 23:26:18)\nUpgrade.\nltmain.sh (GNU libtool) 1.5.18 (1.1220.2.245 2005/05/16 08:55:27)\nSame error."}, {"count": 3, "tags": [], "bug_id": 35098, "attachment_id": null, "text": "did you run configure and make without a --prefix first? Did you later run\nconfigure with a new prefix?\n\nTry a 'make clean' after running configure.", "id": 75499, "time": "2005-05-27T08:30:05Z", "creator": "chip@force-elite.com", "creation_time": "2005-05-27T08:30:05Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 35098, "is_private": false, "id": 75501, "attachment_id": null, "creator": "solprovider@gmail.com", "creation_time": "2005-05-27T09:26:50Z", "time": "2005-05-27T09:26:50Z", "text": "make clean\nmake\nmake install\nWORKED (mod_jk complains about wrong version, but that is not this bug.)\n\nSo there is a problem with libtool-1.4 and httpd-2.1.3-beta."}, {"count": 5, "tags": [], "bug_id": 35098, "is_private": false, "id": 81285, "attachment_id": null, "creator": "peter@betterppc.com", "creation_time": "2005-10-18T02:48:00Z", "time": "2005-10-18T02:48:00Z", "text": "I ran into this bug after installing apache in /usr/local/apache2.1.\n\n \n\nSubsequent installations with a different prefix fail during \u201cmake install\u201d :\n\n \nfor f in libtool shlibtool; do \\\n    if test -f ${f}; then /usr/bin/install -c -m 755 \n${f} /usr/local/apache2/build; fi; \\\ndone\n/usr/bin/install -c -m 755 /usr/src/httpd-2.1.8-\nbeta/srclib/apr/build/mkdir.sh /usr/local/apache2/build\nfor f in make_exports.awk make_var_export.awk; do \\\n    /usr/bin/install -c -m 644 /usr/src/httpd-2.1.8-beta/srclib/apr/build/\n${f} /usr/local/apache2/build; \\\ndone\n/usr/bin/install -c -m 644 \nbuild/apr_rules.out /usr/local/apache2/build/apr_rules.mk\n/usr/bin/install -c -m 755 apr-config.out /usr/local/apache2/bin/apr-1-config\nmake[2]: Leaving directory `/usr/src/httpd-2.1.8-beta/srclib/apr'\nMaking install in apr-util\nmake[2]: Entering directory `/usr/src/httpd-2.1.8-beta/srclib/apr-util'\nsed 's,^\\(location=\\).*$,\\1installed,' < apu-1-config > apu-config.out\nmake[3]: Entering directory `/usr/src/httpd-2.1.8-beta/srclib/apr-util'\nmake[3]: Nothing to be done for `local-all'.\nmake[3]: Leaving directory `/usr/src/httpd-2.1.8-beta/srclib/apr-util'\n/usr/src/httpd-2.1.8-\nbeta/srclib/apr/build/mkdir.sh /usr/local/apache2/include /usr/local/apache2/li\nb/pkgconfig \\\n             /usr/local/apache2/lib /usr/local/apache2/bin\nfor f in /usr/src/httpd-2.1.8-beta/srclib/apr-util/include/*.h /usr/src/httpd-\n2.1.8-beta/srclib/apr-util/include/*.h; do \\\n        /usr/bin/install -c -m 644 ${f} /usr/local/apache2/include; \\\ndone\n/usr/bin/install -c -m 644 apr-util.pc /usr/local/apache2/lib/pkgconfig/apr-\nutil-1.pc\nlist=''; for i in $list; do \\\n        ( cd $i ; make DESTDIR= install ); \\\ndone\n/bin/sh /usr/src/httpd-2.1.8-beta/srclib/apr/libtool --\nmode=install /usr/bin/install -c -m 755 libaprutil-1.la /usr/local/apache2/lib\nlibtool: install: error: cannot install `libaprutil-1.la' to a directory not \nending in /usr/local/apache2.1/lib\nmake[2]: *** [install] Error 1\nmake[2]: Leaving directory `/usr/src/httpd-2.1.8-beta/srclib/apr-util'\nmake[1]: *** [install-recursive] Error 1\nmake[1]: Leaving directory `/usr/src/httpd-2.1.8-beta/srclib'\nmake: *** [install-recursive] Error 1\n"}, {"count": 6, "tags": [], "bug_id": 35098, "attachment_id": null, "id": 81286, "time": "2005-10-18T02:49:25Z", "creator": "peter@betterppc.com", "creation_time": "2005-10-18T02:49:25Z", "is_private": false, "text": "make clean does the trick.\n\n(In reply to comment #5)\n> I ran into this bug after installing apache in /usr/local/apache2.1.\n>  \n> Subsequent installations with a different prefix fail during \u201cmake install\u201d :\n>  \n> for f in libtool shlibtool; do \\\n>     if test -f ${f}; then /usr/bin/install -c -m 755 \n> ${f} /usr/local/apache2/build; fi; \\\n> done\n> /usr/bin/install -c -m 755 /usr/src/httpd-2.1.8-\n> beta/srclib/apr/build/mkdir.sh /usr/local/apache2/build\n> for f in make_exports.awk make_var_export.awk; do \\\n>     /usr/bin/install -c -m 644 /usr/src/httpd-2.1.8-beta/srclib/apr/build/\n> ${f} /usr/local/apache2/build; \\\n> done\n> /usr/bin/install -c -m 644 \n> build/apr_rules.out /usr/local/apache2/build/apr_rules.mk\n> /usr/bin/install -c -m 755 apr-config.out /usr/local/apache2/bin/apr-1-config\n> make[2]: Leaving directory `/usr/src/httpd-2.1.8-beta/srclib/apr'\n> Making install in apr-util\n> make[2]: Entering directory `/usr/src/httpd-2.1.8-beta/srclib/apr-util'\n> sed 's,^\\(location=\\).*$,\\1installed,' < apu-1-config > apu-config.out\n> make[3]: Entering directory `/usr/src/httpd-2.1.8-beta/srclib/apr-util'\n> make[3]: Nothing to be done for `local-all'.\n> make[3]: Leaving directory `/usr/src/httpd-2.1.8-beta/srclib/apr-util'\n> /usr/src/httpd-2.1.8-\n> \nbeta/srclib/apr/build/mkdir.sh /usr/local/apache2/include /usr/local/apache2/li\n> b/pkgconfig \\\n>              /usr/local/apache2/lib /usr/local/apache2/bin\n> for f in /usr/src/httpd-2.1.8-beta/srclib/apr-\nutil/include/*.h /usr/src/httpd-\n> 2.1.8-beta/srclib/apr-util/include/*.h; do \\\n>         /usr/bin/install -c -m 644 ${f} /usr/local/apache2/include; \\\n> done\n> /usr/bin/install -c -m 644 apr-util.pc /usr/local/apache2/lib/pkgconfig/apr-\n> util-1.pc\n> list=''; for i in $list; do \\\n>         ( cd $i ; make DESTDIR= install ); \\\n> done\n> /bin/sh /usr/src/httpd-2.1.8-beta/srclib/apr/libtool --\n> mode=install /usr/bin/install -c -m 755 libaprutil-\n1.la /usr/local/apache2/lib\n> libtool: install: error: cannot install `libaprutil-1.la' to a directory not \n> ending in /usr/local/apache2.1/lib\n> make[2]: *** [install] Error 1\n> make[2]: Leaving directory `/usr/src/httpd-2.1.8-beta/srclib/apr-util'\n> make[1]: *** [install-recursive] Error 1\n> make[1]: Leaving directory `/usr/src/httpd-2.1.8-beta/srclib'\n> make: *** [install-recursive] Error 1\n\n"}, {"count": 7, "tags": [], "bug_id": 35098, "attachment_id": null, "is_private": false, "id": 81291, "time": "2005-10-18T09:18:00Z", "creator": "jorton@redhat.com", "creation_time": "2005-10-18T09:18:00Z", "text": "A \"make clean\" is usually necessary after re-running \"configure\"."}, {"count": 8, "tags": [], "creator": "jzago@odyssey-group.com", "attachment_id": null, "id": 96037, "time": "2006-11-21T09:10:14Z", "bug_id": 35098, "creation_time": "2006-11-21T09:10:14Z", "is_private": false, "text": "*** Bug 39157 has been marked as a duplicate of this bug. ***"}, {"count": 9, "tags": [], "creator": "denis_truffaut@hotmail.com", "attachment_id": null, "is_private": false, "id": 152497, "time": "2011-12-31T20:49:59Z", "bug_id": 35098, "creation_time": "2011-12-31T20:49:59Z", "text": "I confirm that :\n\nsudo make clean && sudo make && sudo make install \n\n...works.\n\n\nPlease note that a make clean is always required... even on a fresh download !"}, {"count": 10, "tags": [], "bug_id": 35098, "is_private": false, "id": 152498, "attachment_id": null, "creator": "denis_truffaut@hotmail.com", "creation_time": "2011-12-31T20:52:23Z", "time": "2011-12-31T20:52:23Z", "text": "Verified on 2.2.21"}]