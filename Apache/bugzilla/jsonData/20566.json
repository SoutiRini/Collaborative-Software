[{"count": 0, "tags": [], "creator": "rocken7@hotmail.com", "attachment_id": null, "is_private": false, "id": 38532, "time": "2003-06-06T20:49:07Z", "bug_id": 20566, "creation_time": "2003-06-06T20:49:07Z", "text": "<?xml version=\"1.0\"?>\n<project name=\"SiteBuilder\" default=\"sites-update\" basedir=\".\">\n\t<description>\n\t    Update SecurityProShop\n\t</description>\n\n\t<property name=\"src\" location=\".\"/>\n\t<property name=\"dst\" location=\"..\\\\test\"/>\n\t<property name=\"site\" location=\"${src}\"/>\n\n\t<target name=\"sites-update\">\n\n        <copy  todir=\"${dst}\">\n\t\t\t<fileset dir=\"${src}\" defaultexcludes=\"no\">\n\t\t\t\t<patternset id=\"base.pattern\">\n\t\t\t\t\t<patternset id=\"non.system\">\n\t\t\t            <exclude name=\"images/**\"/>\n\t\t\t            <exclude name=\"old/**\"/>\n\t\t\t            <exclude name=\"**/_notes/**\"/>\n\t\t\t            <exclude name=\"**/_vti_*/**\"/>\n\t\t\t            <exclude name=\"**/*.vbproj*/**\"/>\n\t\t\t            <exclude name=\"**/*.gif\"/>\n\t\t\t            <exclude name=\"**/*.GIF\"/>\n\t\t\t            <exclude name=\"**/*.jpg\"/>\n\t\t\t            <exclude name=\"**/*.JPG\"/>\n\t\t\t            <exclude name=\"**/*.psd\"/>\n\t\t\t            <exclude name=\"**/*.PSD\"/>\n\t\t\t            <exclude name=\"**/*.pdf\"/>\n\t\t\t            <exclude name=\"**/*.PDF\"/>\n\t\t\t            <exclude name=\"**/*.lck\"/>\n\t\t\t            <exclude name=\"**/*.LCK\"/>\n\t\t\t            <exclude name=\"**/*.bat\"/>\n\t\t\t            <exclude name=\"**/*.class\"/>\n\t\t\t            <exclude name=\"**/new_rod/**\"/>\n\t\t\t            <exclude name=\"**/*rod*/**\"/>\n\t\t\t            <exclude name=\"**/*.zip\"/>\n\t\t\t            <exclude name=\"**/*.gzip\"/>\n\t\t\t            <exclude name=\"**/*.tar\"/>\n\t\t\t            <exclude name=\"**/*.xls\"/>\n\t\t\t            <exclude name=\"**/WS_FTP.LOG\"/>\n\t\t\t\t\t</patternset>\n\n\t\t\t\t\t<patternset \nid=\"websites.infrastructure\">\n\n\t\t\t\t\t\t<include name=\"cart/*\"/>\n\n\t\t\t\t            <exclude name=\"dwz/**\"/>\n\n\t\t\t\t\t\t<include name=\"includes/**\"/>\n\n\t\t\t\t\t\t\t<exclude \nname=\"site/page/page.css\"/>\n\n\t\t\t\t\t\t<include \nname=\"site/page/page_top.asp\"/>\n\t\t\t\t\t\t<include \nname=\"site/page/page_bottom.asp\"/>\n\t\t\t\t\t\t<include \nname=\"site/page/bottom/*\"/>\n\t\t\t\t\t\t<include \nname=\"site/page/content/*\"/>\n\t\t\t\t\t\t<include \nname=\"site/page/left/*\"/>\n\t\t\t\t\t\t<include \nname=\"site/page/right/*\"/>\n\n\t\t\t\t\t\t\t<exclude \nname=\"site/page/top/*\"/>\n\n\t\t\t\t\t\t<include \nname=\"site/xml/xsl/*\"/>\n\t\t\t\t\t\t<include name=\"site/*.asp\"/>\n\t\t\t\t\t\t<include \nname=\"site/proshops_styles.css\"/>\n\t\t\t\t\t</patternset>\n\n\t\t\t\t\t<patternset id=\"websites.content\">\n\t\t\t\t\t\t<include name=\"about/*\"/>\n\t\t\t\t\t\t<include \nname=\"buymore_savemore/*\"/>\n\t\t\t\t\t\t<include \nname=\"applications/*\"/>\n\t\t\t\t\t\t<include name=\"contact/*\"/>\n\t\t\t\t\t\t<include \nname=\"customize_order/*\"/>\n\t\t\t\t\t\t<include name=\"gsa_program/*\"/>\n\t\t\t\t\t\t<include \nname=\"hardware_basics/*\"/>\n\t\t\t\t\t\t<include name=\"help/*\"/>\n\t\t\t\t\t\t<include name=\"leasing/*\"/>\n\t\t\t\t\t\t<include name=\"downloads/*\"/>\n\t\t\t\t\t\t<include \nname=\"professional_systems/*\"/>\n\t\t\t\t\t\t<include name=\"security/*\"/>\n\t\t\t\t\t\t<include name=\"services/*\"/>\n\t\t\t\t\t\t<include name=\"shipping/*\"/>\n\n\t\t\t\t\t\t<include \nname=\"product_search.asp\"/>\n\t\t\t\t\t\t<include \nname=\"category_main.asp\"/>\n\t\t\t\t\t\t<include name=\"shop_main.asp\"/>\n\n\t\t\t\t\t</patternset>\n\t\t\t\t</patternset>\n\t\t\t</fileset>\n\t\t</copy>\n\t</target>\n</project>\n\n====================================\n\nAny file that has the name 'product_' or '_product' will not be copied, why? \nVerbose and Debug mode indicate that 'product_search.asp' is a patternset and \nthat the file /product_search.asp was not copied.  There may be some kind of \nbad character or encoding issue with the '_' ?"}, {"count": 1, "tags": [], "creator": "rocken7@hotmail.com", "attachment_id": null, "text": "Another file refusing to be copied: \n\n/site/page/right/bnr_product.asp \n\nA folder refusing to be copied: \n\n/product_reviews \n\n", "id": 38533, "time": "2003-06-06T20:50:23Z", "bug_id": 20566, "creation_time": "2003-06-06T20:50:23Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 20566, "is_private": false, "text": "With the previous comment, it should be noted that I did not include the \npatternset for **/product_reviews/*  and **/site/page/right/bnr_product.asp \nbut in previous tests these patterns where in there and it continually failed \nto copy.", "id": 38534, "time": "2003-06-06T20:53:44Z", "creator": "rocken7@hotmail.com", "creation_time": "2003-06-06T20:53:44Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 20566, "text": "It is hard to know for sure what is going on because your example is so \ncomplicated. In the future, it would be helpful to simplify it down as much as \npossible before submitting a bug report. Until then, all we can do is guess.\n\nI suspect that your problem is related to the FAQ at \nhttp://ant.apache.org/faq.html#include-order, but it is hard to tell, \nparticularly since it isn't clear what the directory structure of ${src} looks \nlike (and no, you shouldn't upload a 5000 line long recursive directory \nlisting). But keeping in mind that the list of includes and excludes are folded \ntogether into a single patternset within <copy>, does the behaviour you are \nseeing make more sense?\n", "id": 38737, "time": "2003-06-11T22:34:42Z", "creator": "bruce@callenish.com", "creation_time": "2003-06-11T22:34:42Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 20566, "is_private": false, "text": "The exclude pattern \n<exclude name=\"**/*rod*/**\"/>\nfrom the \"non.system\" patternset will exclude all files with the the word\n\"product\" including all the examples you cited. You could try changing the\nexclude pattern to\n\n<exclude name=\"**/*rod*/**/*.*\"/>\n\n", "id": 39266, "time": "2003-06-23T11:34:41Z", "creator": "conor@apache.org", "creation_time": "2003-06-23T11:34:41Z", "attachment_id": null}]