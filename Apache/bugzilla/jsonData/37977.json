[{"count": 0, "tags": [], "creator": "hauser@acm.org", "attachment_id": null, "id": 83846, "time": "2005-12-20T14:56:15Z", "bug_id": 37977, "creation_time": "2005-12-20T14:56:15Z", "is_private": false, "text": "Tried to rebuild tomcat according to BUILDING.txt \n\n<<RalfCHauser@RalfHauser:~/<2>tomcat/mybuild> ant\nBuildfile: build.xml\n\ncheck.source:\n\nget.source:\n\ncheckout:\n     [echo] If the checkout fails, - todo -\n\nBUILD FAILED\nC:\\Documents and Settings\\RalfCHauser\\My\nDocuments\\psph\\workspace\\tomcat\\mybuild\\build.xml:87: The following error occur\nred while executing this line:\nC:\\Documents and Settings\\RalfCHauser\\My\nDocuments\\psph\\workspace\\tomcat\\mybuild\\build.xml:70: Execute failed: java.io.I\nOException: CreateProcess: svn checkout\nhttp://svn.apache.org/repos/asf//tomcat/current/tc5.5.x C:\\Documents and Setting\ns\\RalfCHauser\\My Documents\\psph\\workspace\\tomcat\\mybuild error=2\n\nTotal time: 0 seconds>>\n\n1) I guess it would be good to update the BUILDING.txt to reflect the move from\nCVS to SVN since it still mentions CVS.\n2) I do not know a command-line svn client for windows since I use Tortoise as\nper http://www.apache.org/dev/version-control.html#anon-svn\n\nI did download the \"subversion\" package in cygwin and got a little bit further\n<<RalfCHauser@RalfHauser:~/<2>tomcat/mybuild> ant\nBuildfile: build.xml\n\ncheck.source:\n\nget.source:\n\ncheckout:\n     [echo] If the checkout fails, - todo -\n     [exec] svn: Can't make directory\n'Documents\\psph\\workspace\\tomcat\\mybuild/tc5.5.x': No such file or directory\n     [exec] Result: 1\n\nbuild:\n\nBUILD FAILED\nC:\\Documents and Settings\\RalfCHauser\\My\nDocuments\\psph\\workspace\\tomcat\\mybuild\\build.xml:48: Basedir C:\\Documents and\nSettings\\RalfCHauser\\My Documents\\psph\\workspace\\tomcat\\mybuild\\build does not exist\n\nTotal time: 39 seconds\nRalfCHauser@RalfHauser:~/<2>tomcat/mybuild>\n>>\n\nSo, it appears that either the build.xml should be made cygwin aware i.e.\n3) a `cygpath -u ${basedir}` might help here or\n4) <exec dir=\"${basedir}\" executable=\"svn\">\n         <arg line=\"checkout ${svnroot}/${current.loc} ${basedir}\" />\n    </exec>\ncould be changed to \n<exec dir=\"${basedir}\" executable=\"svn\">\n         <arg line=\"checkout ${svnroot}/${current.loc} . \" />\n    </exec>\n\nAt least, with cygwin's command line \"svn checkout\nhttp://svn.apache.org/repos/asf/tomcat/current/tc5.5.x .\" it worked nicely\nafterwards"}, {"count": 1, "tags": [], "creator": "funkman@joedog.org", "is_private": false, "text": "If anything - I need to post this script on the site: (providing it still works)\n\nhttp://marc.theaimsgroup.com/?l=tomcat-dev&m=112868500005136&w=2\n\n\n", "id": 83847, "time": "2005-12-20T15:02:29Z", "bug_id": 37977, "creation_time": "2005-12-20T15:02:29Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 37977, "is_private": false, "text": "Updated BUILDING.txt as suggested in (1) above.  Waiting for Tim or Ralf (who's\nnow a committer) to take further action, if any.", "id": 87948, "time": "2006-04-13T19:04:34Z", "creator": "yoavs@computer.org", "creation_time": "2006-04-13T19:04:34Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "chrisahn@gmx.net", "attachment_id": null, "id": 89628, "time": "2006-06-01T01:28:26Z", "bug_id": 37977, "creation_time": "2006-06-01T01:28:26Z", "is_private": false, "text": "I ran into similar problems...\n\n-> BUILDING.txt should contain a section on installing subversion\n-> in the initial build.xml, I changed\n\n    <exec dir=\"${basedir}\" executable=\"svn\">\n         <arg line=\"checkout ${svnroot}/${current.loc} ${basedir}\" />\n    </exec>\n\nto\n\n    <exec dir=\"${basedir}\" executable=\"svn\" \n     inputstring=\"t${line.separator}\" failonerror=\"true\">\n         <arg value=\"checkout\" />\n         <arg value=\"${svnroot}/${current.loc}\" />\n         <arg value=\"${basedir}\" />\n    </exec>\n\nThis fixes two problems:\n(1) whitespace in the filenames is handled correctly\n(2) svn temporarily accepts the self-signed certificate of svn.apache.org\n\nWith these changes, the build went just smoothly for me!"}, {"count": 4, "tags": [], "bug_id": 37977, "attachment_id": 18381, "id": 89629, "time": "2006-06-01T01:30:59Z", "creator": "chrisahn@gmx.net", "creation_time": "2006-06-01T01:30:59Z", "is_private": false, "text": "Created attachment 18381\nBUILDING.txt with new section on installing subversion\n\nbased on yoavs version from 2006-04-13, added section on subversion (basically\na copy of the section on Ant)"}, {"count": 5, "text": "Created attachment 18382\nbuild.xml with improved exec svn  task\n\nsplit arg line to let ant handle whitespace in file names & use a little hack\nto let svn temporarily accept the certificate of svn.apache.org.", "bug_id": 37977, "is_private": false, "id": 89630, "time": "2006-06-01T01:35:09Z", "creator": "chrisahn@gmx.net", "creation_time": "2006-06-01T01:35:09Z", "tags": [], "attachment_id": 18382}, {"count": 6, "tags": [], "bug_id": 37977, "attachment_id": 18383, "id": 89631, "time": "2006-06-01T01:37:41Z", "creator": "chrisahn@gmx.net", "creation_time": "2006-06-01T01:37:41Z", "is_private": false, "text": "Created attachment 18383\nbuild.xml with improved exec svn task\n\ndammit... picked the wrong file..."}, {"count": 7, "text": "two more things come to mind...\n\n- BUILDING.txt still needs info about svn and proxies... haven't tried it, but \nhttp://subversion.tigris.org/faq.html#proxy should work.\n- The 'Building with Eclipse' section on http://tomcat.apache.org/tomcat-5.5-\ndoc/building.html is very helpful. It should be clarified though that one \n*should* use the elipse workspace as ${tomcat.source}. I found the \nsentence 'Unless you thought ahead to make the ${tomcat.source} directory be \nunder your Workspace folder...' rather confusing. -> Move that sentence to the \ntop of the section, and make clear that ${tomcat.source} should be == Workspace \nfolder.", "creator": "chrisahn@gmx.net", "attachment_id": null, "id": 89632, "time": "2006-06-01T01:49:48Z", "bug_id": 37977, "creation_time": "2006-06-01T01:49:48Z", "tags": [], "is_private": false}, {"count": 8, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "is_private": false, "id": 97227, "time": "2006-12-24T09:43:08Z", "bug_id": 37977, "creation_time": "2006-12-24T09:43:08Z", "text": "Christian, these are great suggestions.  I've applied them all more or less. \nThey're in SVN and will be included in the next Tomcat 5.5 release.  Thanks!"}]