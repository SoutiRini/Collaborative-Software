[{"count": 0, "tags": [], "bug_id": 54351, "attachment_id": null, "id": 164241, "time": "2012-12-26T09:51:39Z", "creator": "shmulikk@gmail.com", "creation_time": "2012-12-26T09:51:39Z", "is_private": false, "text": "When using HC4 and a URI fragments (i.e. http://en.wikipedia.org/wiki/Fragment_identifier#Examples) then the fragment part (\"#Examples\") is also sent as part of the HTTP Request.\n\nIn previous versions: HC3.1 and Java HTTP Samplers this didn't occurred.\n\nI am unsure if that's a bug in JMeter or should be handled on HC side, but debugging these samplers in JMeter code, shows that in HC3 we use:\nhttpMethod = new GetMethod(urlStr);\n...\nclient.executeMethod(httpMethod);\n\nWhile on HC4 we have a different usage:\nhttpRequest = new HttpGet(uri);\n...\nHttpResponse httpResponse = httpClient.execute(httpRequest, localContext); // perform the sample\n\n\nSeems like the previous implementation excluded the fragment part of the request, following: http://tools.ietf.org/html/rfc3986#section-3.5  while the new one doesn't.\n\nThis broken behavior causing errors for some applications, i.e. in my test, the application fails to parse and serve the request."}, {"count": 1, "tags": [], "creator": "shmulikk@gmail.com", "is_private": false, "text": "Another point is that I don't specify this fragment as part of the path, it is the application which returns me with a 302 redirect to a URL like this.\nFor now I am working around this, by using the older HC3.1 implementation.", "id": 164242, "time": "2012-12-26T09:54:54Z", "bug_id": 54351, "creation_time": "2012-12-26T09:54:54Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "Hello,\nThanks for report.\nCan you attach a document with screenshots of what you get and which url are wrong ?\nAlso a jmeter.log file showing issue if you get any stacktrace ?\n\nThank you", "attachment_id": null, "id": 164243, "creator": "p.mouawad@ubik-ingenierie.com", "time": "2012-12-26T10:07:17Z", "bug_id": 54351, "creation_time": "2012-12-26T10:07:17Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 54351, "attachment_id": 29794, "id": 164246, "time": "2012-12-26T11:34:49Z", "creator": "shmulikk@gmail.com", "creation_time": "2012-12-26T11:34:49Z", "is_private": false, "text": "Created attachment 29794\nScreen shots comparing HC3 and HC4 behavior\n\nPlease note the response came from /post.jspa is a 302 redirect to /message/1000#1000 in both cases but the following request (follow redriects) is the problematic one on HC4."}, {"count": 4, "tags": [], "creator": "shmulikk@gmail.com", "is_private": false, "text": "No errors on JMeter side.", "id": 164247, "time": "2012-12-26T11:36:11Z", "bug_id": 54351, "creation_time": "2012-12-26T11:36:11Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "text": "Hello,\nI checked behaviour and JAVA Impl and HC4 behave the same way, they send the fragment.\nHC3.1 does not.", "id": 164290, "time": "2012-12-31T13:26:09Z", "bug_id": 54351, "creation_time": "2012-12-31T13:26:09Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 54351, "attachment_id": null, "id": 164291, "time": "2012-12-31T13:27:29Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-12-31T13:27:29Z", "is_private": false, "text": "(In reply to comment #5)\n> Hello,\n> I checked behaviour and JAVA Impl and HC4 behave the same way, they send the\n> fragment.\n> HC3.1 does not.\n\nOups, no you are right, java removes fragment"}, {"count": 7, "tags": [], "text": "Seems to have been submitted previously:\n\nhttps://issues.apache.org/jira/browse/HTTPCLIENT-1177\n\nBut I reproduced it and opened:\nhttps://issues.apache.org/jira/browse/HTTPCLIENT-1286", "is_private": false, "id": 164292, "creation_time": "2012-12-31T13:49:24Z", "time": "2012-12-31T13:49:24Z", "creator": "p.mouawad@ubik-ingenierie.com", "bug_id": 54351, "attachment_id": null}, {"count": 8, "tags": [], "text": "Created attachment 29801\nTest Plan showing issue", "attachment_id": 29801, "id": 164293, "creation_time": "2012-12-31T13:49:46Z", "time": "2012-12-31T13:49:46Z", "creator": "p.mouawad@ubik-ingenierie.com", "bug_id": 54351, "is_private": false}, {"count": 9, "tags": [], "text": "Created attachment 29802\nJSP to put in /examples/jsp folder of Tomcat6", "attachment_id": 29802, "id": 164294, "creation_time": "2012-12-31T13:50:27Z", "time": "2012-12-31T13:50:27Z", "creator": "p.mouawad@ubik-ingenierie.com", "bug_id": 54351, "is_private": false}, {"count": 10, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "is_private": false, "id": 164309, "time": "2013-01-01T20:31:30Z", "bug_id": 54351, "creation_time": "2013-01-01T20:31:30Z", "text": "Fix will be available as soon as HttpClient-4.2.3 is released"}, {"count": 11, "tags": [], "creator": "shmulikk@gmail.com", "is_private": false, "text": "Thanks Philippe - I am following...\nHappy new year :)", "id": 164311, "time": "2013-01-01T21:23:42Z", "bug_id": 54351, "creation_time": "2013-01-01T21:23:42Z", "attachment_id": null}, {"count": 12, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "text": "Date: Tue Jan 15 12:58:03 2013\nNew Revision: 1433386\n\nURL: http://svn.apache.org/viewvc?rev=1433386&view=rev\nLog:\nBug 54351 - HC4 and URI fragments is failing\nBugzilla Id: 54351\n\nModified:\n    jmeter/trunk/build.properties\n    jmeter/trunk/eclipse.classpath\n    jmeter/trunk/res/maven/ApacheJMeter_parent.pom\n    jmeter/trunk/xdocs/changes.xml\n\n\nDate: Tue Jan 15 13:00:14 2013\nNew Revision: 1433387\n\nURL: http://svn.apache.org/viewvc?rev=1433387&view=rev\nLog:\nBug 54351 - HC4 and URI fragments is failing\nBugzilla Id: 54351\n\nModified:\n    jmeter/trunk/lib/   (props changed)", "id": 164634, "time": "2013-01-15T13:02:08Z", "bug_id": 54351, "creation_time": "2013-01-15T13:02:08Z", "attachment_id": null}]