[{"count": 0, "tags": [], "text": "The problem is:\nThe jspInit method is called twice.\n\nThe definition is:\n-The JSP background compilations are enable.\n (In default web.xml, define checkInterval and define development false.)\n-Define the JSP with <servlet> and <load-on-startup> tag in web.xml.\n\nThe proposing:\norg/apache/jasper/compiler/Compiler.java \n----\npublic void compile(boolean compileClass, boolean jspcMode)\n    throws FileNotFoundException, JasperException, Exception\n{\n....\n    if( compileClass ) {\n        File targetFile = new File(ctxt.getClassFileName());\n        if (targetFile.exists()) {\n            long targetLastModified = targetFile.lastModified();\n            if (jsw != null) {\n                jsw.setServletClassLastModifiedTime(targetLastModified);\n            }   \n        }\n    }\n}// last of the method.\n----\n\nRegards,\nYuichiro", "attachment_id": null, "id": 99357, "creation_time": "2007-02-13T20:46:54Z", "time": "2007-02-13T20:46:54Z", "creator": "suzuki.yuichiro@jp.fujitsu.com", "bug_id": 41606, "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 19692\nPatch to prevent double jspInit() when a JSP is set in web.xml to load-on-startup\n\nConfirmed in 5.5.23.  I've attached a patch based on the OP's suggested fix.", "attachment_id": 19692, "id": 100230, "creator": "chris@sourcelabs.com", "time": "2007-03-09T12:42:55Z", "bug_id": 41606, "creation_time": "2007-03-09T12:42:55Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 41606, "attachment_id": null, "text": "*** Bug 45774 has been marked as a duplicate of this bug. ***", "id": 125836, "time": "2009-03-27T02:43:34Z", "creator": "markt@apache.org", "creation_time": "2009-03-27T02:43:34Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 41606, "attachment_id": null, "id": 125837, "time": "2009-03-27T02:49:45Z", "creator": "markt@apache.org", "creation_time": "2009-03-27T02:49:45Z", "is_private": false, "text": "Chris - thanks for the patch.\n\nThe patch has been applied to trunk and proposed for 6.0.x and 5.5.x"}, {"count": 4, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "*** Bug 47013 has been marked as a duplicate of this bug. ***", "id": 126237, "time": "2009-04-14T14:58:08Z", "bug_id": 41606, "creation_time": "2009-04-14T14:58:08Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 41606, "text": "This has been fixed in 6.0.x and will be included in 6.0.20 onwards.", "id": 126580, "attachment_id": null, "creator": "markt@apache.org", "creation_time": "2009-04-28T04:22:43Z", "time": "2009-04-28T04:22:43Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 41606, "text": "This has been fixed in 5.5.x and will be included in 5.5.28 onwards.", "id": 127636, "time": "2009-06-04T07:19:08Z", "creator": "markt@apache.org", "creation_time": "2009-06-04T07:19:08Z", "is_private": false, "attachment_id": null}]