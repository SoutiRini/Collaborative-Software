[{"count": 0, "tags": [], "bug_id": 20330, "is_private": false, "id": 37987, "creation_time": "2003-05-29T17:05:52Z", "time": "2003-05-29T17:05:52Z", "creator": "tomcat@esposito.newnetco.com", "text": "I am running Tomcat 4.1.18 under JBOSS ... I am connecting to Tomcat directly \n(no mod_jk) ... I have an error page configured in my web.xml as follows:\n\n<error-page>\n\t<error-code>500</error-code>\n\t<location>/500.shtml</location>\n</error-page>\n\nWhen I add the following to my servlet:\n\nres.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n\nthe error page is returned, but the HTTP status and Content-type are incorrect. \nI used ethereal to sniff the response and see this:\n\n    HTTP/1.1 200 OK\\r\\n\n    ETag: W/\"853-1051564868000\"\\r\\n\n    Last-Modified: Mon, 28 Apr 2003 21:21:08 GMT\\r\\n\n    Content-Type: text/plain\\r\\n\n    Content-Length: 853\\r\\n\n    Date: Thu, 29 May 2003 16:45:53 GMT\\r\\n\n    Server: Apache Coyote/1.0\\r\\n\n\nSo why isn't the sendError causing the response status to be 500 and the \nContent-type set to text/html?\n\nThe ultimate result of this problem is that my error document renders as plain \ntext in Netscape ... IE ignores the Content-type header and renders it as \nHTML ...", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 20330, "attachment_id": null, "id": 38031, "time": "2003-05-30T09:33:47Z", "creator": "remm@apache.org", "creation_time": "2003-05-30T09:33:47Z", "is_private": false, "text": "For the content-type to work, you have to declare a mime mapping for *.shtml.\nFor the status code, this is a duplicate, which likely won't be fixed in Tomcat\n4.1.x."}]