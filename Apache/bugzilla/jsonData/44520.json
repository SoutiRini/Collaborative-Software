[{"count": 0, "tags": [], "text": "Platform Windows.\n\nI have an application that tries to read and write some files outside of the application context.\nWhen I start the tomcat as Windows Service, I get FileNotFoundException:\nStack trace + debug info:\nparse got: h:/web/user-stories/ \nChecking file: h:\\web\\user-stories isDirectory false\njava.io.FileNotFoundException: h:\\web\\user-stories (The system cannot find the path specified)\n\tat java.io.FileInputStream.open(Native Method)\n\tat java.io.FileInputStream.<init>(Unknown Source)\n\tat java.io.FileReader.<init>(Unknown Source)\n\tat com.xilinx.userstories.UserStoriesParser.getLatestFile(UserStoriesParser.java:52)\n\tat com.xilinx.userstories.UserStoriesParser.parse(UserStoriesParser.java:105)\n\tat org.apache.jsp.user_002dstories_jsp._jspService(user_002dstories_jsp.java:324)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:337)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n\tat java.lang.Thread.run(Unknown Source)\n\nBut same application works fine when the tomcat is started manually from command line (<TOMCAT_INSTALL_DIR>/bin/tomcat6.exe)\nparse got: h:/web/user-stories/\nChecking file: h:\\web\\user-stories isDirectory true \n\nAs you can see from the Stack Trace + debug Info above, somehow the same directory (h:/web/user-stories) is not a directory :) when the tomcat is started as Windows service", "is_private": false, "id": 114198, "creation_time": "2008-03-03T09:22:33Z", "time": "2008-03-03T09:22:33Z", "creator": "nassera@xilinx.com", "bug_id": 44520, "attachment_id": null}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 114201, "time": "2008-03-03T10:23:43Z", "bug_id": 44520, "creation_time": "2008-03-03T10:23:43Z", "is_private": false, "text": "Bugzilla is not a support forum. Please use the users list."}, {"count": 2, "text": "Hi.\nSince the behavior between starting tomcat as a service and from the commond line, is different, then I think this is a bug.\n/N", "bug_id": 44520, "attachment_id": null, "id": 114203, "time": "2008-03-03T10:31:09Z", "creator": "nassera@xilinx.com", "creation_time": "2008-03-03T10:31:09Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "markt@apache.org", "is_private": false, "id": 114205, "attachment_id": null, "bug_id": 44520, "creation_time": "2008-03-03T10:32:55Z", "time": "2008-03-03T10:32:55Z", "text": "You are wrong. This is a configuration error / lack of understanding on your part. Please use the users list."}, {"count": 4, "tags": [], "creator": "albrecht@a-weinert.de", "attachment_id": null, "id": 114224, "time": "2008-03-03T23:07:15Z", "bug_id": 44520, "creation_time": "2008-03-03T23:07:15Z", "is_private": false, "text": "Started manualy Tomcat runs as the logged in user.\nStarted as service Tomcat runs as local system, \nif not otherwise configured in windows services.\n\nAs local system has virtualy nil domain right,\nmny files and directories \"disappear\", especially\nall on UNC- / Network-drives.\n\n(German readers found helpful hints in\nhttp://www.a-weinert.de/weinert/pub/tomcat-tips.pdf)\n\nSo this behavour is not necesarily a bug.\nTomcat has (of course, under Windows) only the \nfile access right of the account, it runs under.\n\nA real (severe) bug is, that the same file, that\ncan be accessed as \\\\pD321S\\uhu\\emil\\xyz.html\ncan't be accessed as N:\\xyz.html, if N:\\ is\n\\\\pD321S\\uhu\\emil\\.\n"}, {"count": 5, "tags": [], "creator": "nassera@xilinx.com", "attachment_id": null, "is_private": false, "id": 114262, "time": "2008-03-04T09:09:05Z", "bug_id": 44520, "creation_time": "2008-03-04T09:09:05Z", "text": "Hi.\nThanks for your replay and professionalism.\ncomment number 4 states, \"Started as service Tomcat runs as local system, \nif not otherwise configured in windows services.\"\n\"if not otherwise configured in windows services.\", just for your information, the windows service is configured to run the tomcat service using the same login cardinals as if the tomcat was started manually.\nAnyway I think we had enough discussion on this subject.\nThanks again.\n/N\n"}]