[{"attachment_id": null, "tags": [], "bug_id": 37718, "text": "Symptom:\n\n- A custom DocumentBuilder is used.\n- When you click \"Publish\", Lenya complains about references\n  to unpublished documents although they are actually published.\n\nCause:\n\nThe o.a.l.cms.publication.tools.DocumentReferencesHelper parses the links using\na pattern, the document ID is extracted directly from the link URL. This is a\ntypical knowledge duplication problem, actually only the DocumentBuilder might\nknow the semantics of parsing the URL and identifying the document ID.\n\nThe custom document builder uses an additional URL snippet which is not part of\nthe document ID:\n\nURL:          /newsletter/subscribe.html\nDocument-ID:  /newsletter\n\nThe DocumentReferencesHelper identifies /newsletter/subscribe as\nthe document ID, doesn't find a corresponding node in the live site tree, and\nconcludes that the linked document is not published.", "count": 0, "id": 83017, "time": "2005-11-30T16:40:27Z", "creator": "andreas@apache.org", "creation_time": "2005-11-30T16:40:27Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 37718, "attachment_id": null, "text": "This will be resolved when UUIDs are used in links.", "id": 92030, "time": "2006-08-08T14:23:51Z", "creator": "andreas@apache.org", "creation_time": "2006-08-08T14:23:51Z", "is_private": false}, {"count": 2, "tags": [], "text": "The code has to be updated since UUIDs are used.", "is_private": false, "bug_id": 37718, "id": 96232, "time": "2006-11-27T13:59:33Z", "creator": "andreas@apache.org", "creation_time": "2006-11-27T13:59:33Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 37718, "attachment_id": null, "text": "The DocumentReferencesHelper has been removed in the trunk.", "id": 96262, "time": "2006-11-28T05:47:16Z", "creator": "andreas@apache.org", "creation_time": "2006-11-28T05:47:16Z", "is_private": false}]