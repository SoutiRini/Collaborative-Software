[{"count": 0, "tags": [], "bug_id": 41729, "text": "hye everybody\n\nin a apache 2.2.4 using proxyreverse \nthere is every second a error line in the error_log\n\n[Wed Feb 28 15:59:42 2007] [error] proxy: ap_get_scoreboard_lb(130) failed in \nchild 28303 for worker proxy:reverse", "id": 99896, "time": "2007-02-28T07:07:24Z", "creator": "a.labbe@orsid.com", "creation_time": "2007-02-28T07:07:24Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 41729, "attachment_id": null, "text": "Please post your proxy configuration here. Did you do a graceful restart before\nthese messages appeared? Do the messages disappear after a hard stop and start?", "id": 99915, "time": "2007-02-28T14:18:32Z", "creator": "rpluem@apache.org", "creation_time": "2007-02-28T14:18:32Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 41729, "text": "(In reply to comment #1)\n> Please post your proxy configuration here. Did you do a graceful restart \nbefore\n> these messages appeared? Do the messages disappear after a hard stop and \nstart?\n\nApparently, this messages appears every new child launched by Apache but not \nappear on startup or graceful command. it's appear on use, and start or stop \nhas no effect on this bug......the message returns when the proxypass is \nused... but it doesn't impact on functionality\n\nthe proxy conf\n\n<IfModule mod_proxy.c>\nProxyRequests Off\nProxyPass         /test/   http://xx.xx.xx.xx/work/\nProxyPassReverse  /test/   http://xx.xx.xx.xx/work/\n......\nProxyVia On\n</IfModule>\n\nload modules in http.conf : libphp.so mod_security.so libxml2.so\n\nCompiled in modules: core.c  mod_authn_file.c  mod_authn_default.c  \nmod_authz_host.c  mod_authz_groupfile.c  mod_authz_user.c  mod_authz_default.c\n  mod_auth_basic.c  mod_include.c  mod_filter.c  mod_log_config.c  mod_env.c\n  mod_unique_id.c  mod_setenvif.c  mod_proxy.c  mod_proxy_connect.c  \nmod_proxy_ftp.c  mod_proxy_http.c  mod_proxy_ajp.c  mod_proxy_balancer.c\n  mod_ssl.c  prefork.c  http_core.c  mod_mime.c  mod_status.c  mod_autoindex.c\n  mod_asis.c  mod_cgi.c  mod_negotiation.c  mod_dir.c  mod_actions.c\n  mod_userdir.c  mod_alias.c  mod_rewrite.c  mod_so.c\n\n\nthanks for your reply", "id": 99929, "time": "2007-02-28T23:57:33Z", "creator": "a.labbe@orsid.com", "creation_time": "2007-02-28T23:57:33Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 41729, "attachment_id": null, "id": 99942, "time": "2007-03-01T13:21:02Z", "creator": "rpluem@apache.org", "creation_time": "2007-03-01T13:21:02Z", "is_private": false, "text": "Still strange. I am a little bit astonished by the number 130 in the error\nmessage. Please let me know how many distinct ProxyPass directives you have in\nyour whole configuration (including all virtual hosts). Please let me also know\nif you have configured balancers somewhere in your configuration and all <Proxy\n> sections."}, {"count": 4, "tags": [], "bug_id": 41729, "attachment_id": null, "id": 112581, "time": "2008-01-07T07:18:21Z", "creator": "glenn@apache.org", "creation_time": "2008-01-07T07:18:21Z", "is_private": false, "text": "I also see these errors in apache 2.2.6 on FreeBSD 6.2-RELEASE-p4 #0.\n\nMon Jan 07 08:59:36 2008] [error] proxy: ap_get_scoreboard_lb(325) failed in\nchild 49900 for worker proxy:reverse\n\nWe setup a reverse proxy for every virtual host for backend searches using a\ngoogle mini.\n\nEach Virtual Host has two ProxyPass config lines. A grep of our VH configs shows\nabout 1000 ProxyPass config lines. These are split out between three different\nHTTP servers.\n\nI can confirm that this appears to happen once for each new httpd process."}, {"count": 5, "tags": [], "text": "Do you have any third party modules installed in your configuration? It seems\nthat the child_init hook is called multiple times for the same child. Which MPM\nare you using?", "attachment_id": null, "id": 112586, "creator": "rpluem@apache.org", "time": "2008-01-07T08:31:19Z", "bug_id": 41729, "creation_time": "2008-01-07T08:31:19Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 41729, "text": "Hi\n\n\nExactly the same problem here. But it doesn't seem to be related (at least not in this case) to the way apache is restarted/reloaded.\n\nAfter a short code-review .. I would say that the problem has something to do with thread-based apache configuration. It looks like each new httpd.worker child (up to the ServerLimit) is keeping it's own set of proxy workers, which, except the first set, are not counted in when scoreboard is preinitialized.\n\nCan someone please look into the mod_proxy scoreboard problem?\n\n\nRegards,\n\nAnna\n\n\n\n\n", "id": 121782, "time": "2008-10-22T08:17:04Z", "creator": "anias@popoludnica.pl", "creation_time": "2008-10-22T08:17:04Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 41729, "attachment_id": null, "text": "CC myself on FreeBSD related bugs", "id": 124170, "time": "2009-01-18T16:19:17Z", "creator": "pgollucci@apache.org", "creation_time": "2009-01-18T16:19:17Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 41729, "text": "Is it possible this bug has a significant performance impact? (maybe caused by an fsync() after every log entry)\n\nI experience tremendous load spikes on a server with numerous reverse proxies. I've got close to 600 ProxyPass statements in my apache config. The disk of the server is not very fast for writes. It's a virtual box connected to an iSCSI server which isn't too fast at the moment.", "id": 133344, "time": "2010-01-05T07:42:03Z", "creator": "hensema@hostingxs.nl", "creation_time": "2010-01-05T07:42:03Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "text": "I also experience these error messages on one of my servers. The curious thing is, though, that mod_proxy isn't used at all on these servers, e.g., there is no VirtualHost section with a Proxy* directive.\nSeen with Apache 2.2.3 on RHEL 5.6.", "attachment_id": null, "bug_id": 41729, "id": 162117, "time": "2012-09-12T17:23:18Z", "creator": "mephinet@gmx.net", "creation_time": "2012-09-12T17:23:18Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 41729, "text": "hi,\nwe have the same problem with openbsd 5.7 and apache 2.2.29, a line on error log for every proxy pass, every second", "id": 192323, "time": "2016-07-12T10:16:37Z", "creator": "giotex9@gmail.com", "creation_time": "2016-07-12T10:16:37Z", "is_private": false, "attachment_id": null}]