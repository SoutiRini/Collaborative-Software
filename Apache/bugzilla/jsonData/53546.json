[{"count": 0, "tags": [], "creator": "mathieu.malaterre@gmail.com", "text": "Created attachment 29058\nproblematic SVG file\n\nI cannot generate a pdf from an input fo file. It fails with:\n\n\n$ fop /tmp/o.fo /tmp/o.pdf\n[warning] /usr/bin/fop: Unable to locate servlet-api in /usr/share/java\nImage not found. URI: images/draft.png. (See position 1:9612)\nImage not found. URI: images/draft.png. (See position 1:10270)\nImage not found. URI: images/draft.png. (See position 1:10926)\nImage not found. URI: images/draft.png. (See position 1:11579)\nImage not found. URI: images/draft.png. (See position 1:12229)\nImage not found. URI: images/draft.png. (See position 1:12879)\nImage not found. URI: images/draft.png. (See position 1:13526)\nImage not found. URI: images/draft.png. (See position 1:14178)\nImage not found. URI: images/draft.png. (See position 1:14830)\nImage not found. URI: images/draft.png. (See position 1:15479)\nImage not found. URI: images/draft.png. (See position 1:16130)\nImage not found. URI: images/draft.png. (See position 1:16781)\nImage not found. URI: images/draft.png. (See position 1:17429)\nImage not found. URI: images/draft.png. (See position 1:18080)\nImage not found. URI: images/draft.png. (See position 1:18731)\nImage not found. URI: images/draft.png. (See position 1:19379)\nImage not found. URI: images/draft.png. (See position 1:20031)\nImage not found. URI: images/draft.png. (See position 1:20683)\nImage not found. URI: images/draft.png. (See position 1:21332)\nFont \"Symbol,normal,700\" not found. Substituting with \"Symbol,normal,400\".\nFont \"ZapfDingbats,normal,700\" not found. Substituting with \"ZapfDingbats,normal,400\".\n\n***** CSSEngine: exception property.syntax.error:org.w3c.dom.DOMException: The \"even-odd\" identifier is not a valid value for the \"fill-rule\" property. \n\nAttrValue:even-odd\n\nException:org.w3c.dom.DOMException\norg.w3c.dom.DOMException: The \"even-odd\" identifier is not a valid value for the \"fill-rule\" property. \n\tat org.apache.batik.css.engine.value.AbstractValueFactory.createInvalidIdentifierDOMException(Unknown Source)\n\tat org.apache.batik.css.engine.value.IdentifierManager.createValue(Unknown Source)\n\tat org.apache.batik.css.engine.CSSEngine$1.property(Unknown Source)\n\tat org.apache.batik.css.engine.CSSEngine.getCascadedStyleMap(Unknown Source)\n\tat org.apache.batik.css.engine.CSSEngine.getComputedStyle(Unknown Source)\n\tat org.apache.batik.bridge.CSSUtilities.getComputedStyle(Unknown Source)\n\tat org.apache.batik.bridge.CSSUtilities.convertDisplay(Unknown Source)\n\tat org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(Unknown Source)\n\tat org.apache.batik.bridge.GVTBuilder.buildComposite(Unknown Source)\n\tat org.apache.batik.bridge.GVTBuilder.build(Unknown Source)\n\tat org.apache.fop.render.pdf.PDFImageHandlerSVG.handleImage(PDFImageHandlerSVG.java:93)\n\tat org.apache.fop.render.intermediate.AbstractIFPainter.drawImage(AbstractIFPainter.java:227)\n\tat org.apache.fop.render.intermediate.AbstractIFPainter.drawImage(AbstractIFPainter.java:183)\n\tat org.apache.fop.render.intermediate.AbstractIFPainter.drawImageUsingImageHandler(AbstractIFPainter.java:148)\n\tat org.apache.fop.render.intermediate.AbstractIFPainter.drawImageUsingURI(AbstractIFPainter.java:270)\n\tat org.apache.fop.render.pdf.PDFPainter.drawImage(PDFPainter.java:146)\n\tat org.apache.fop.render.intermediate.IFRenderer.drawImage(IFRenderer.java:1171)\n\tat org.apache.fop.render.intermediate.IFRenderer.renderImage(IFRenderer.java:1158)\n\tat org.apache.fop.render.AbstractRenderer.renderViewport(AbstractRenderer.java:741)\n\tat org.apache.fop.render.AbstractPathOrientedRenderer.renderViewport(AbstractPathOrientedRenderer.java:709)\n\tat org.apache.fop.render.intermediate.IFRenderer.renderViewport(IFRenderer.java:860)\n\tat org.apache.fop.render.AbstractRenderer.renderInlineArea(AbstractRenderer.java:634)\n\tat org.apache.fop.render.intermediate.IFRenderer.renderInlineArea(IFRenderer.java:912)\n\tat org.apache.fop.render.AbstractRenderer.renderLineArea(AbstractRenderer.java:609)\n\tat org.apache.fop.render.AbstractRenderer.renderBlocks(AbstractRenderer.java:544)\n\tat org.apache.fop.render.AbstractRenderer.renderBlock(AbstractRenderer.java:581)\n\tat org.apache.fop.render.intermediate.IFRenderer.renderBlock(IFRenderer.java:976)\n\tat org.apache.fop.render.AbstractRenderer.renderBlocks(AbstractRenderer.java:534)\n\tat org.apache.fop.render.AbstractRenderer.renderBlock(AbstractRenderer.java:581)\n\tat org.apache.fop.render.intermediate.IFRenderer.renderBlock(IFRenderer.java:976)\n\tat org.apache.fop.render.AbstractRenderer.renderBlocks(AbstractRenderer.java:534)\n\tat org.apache.fop.render.AbstractRenderer.renderFlow(AbstractRenderer.java:432)\n\tat org.apache.fop.render.AbstractPathOrientedRenderer.renderFlow(AbstractPathOrientedRenderer.java:665)\n\tat org.apache.fop.render.AbstractRenderer.renderMainReference(AbstractRenderer.java:411)\n\tat org.apache.fop.render.AbstractRenderer.renderBodyRegion(AbstractRenderer.java:345)\n\tat org.apache.fop.render.AbstractRenderer.renderRegionViewport(AbstractRenderer.java:292)\n\tat org.apache.fop.render.intermediate.IFRenderer.renderRegionViewport(IFRenderer.java:731)\n\tat org.apache.fop.render.AbstractRenderer.renderPageAreas(AbstractRenderer.java:265)\n\tat org.apache.fop.render.AbstractRenderer.renderPage(AbstractRenderer.java:230)\n\tat org.apache.fop.render.intermediate.IFRenderer.renderPage(IFRenderer.java:580)\n\tat org.apache.fop.area.RenderPagesModel.addPage(RenderPagesModel.java:114)\n\tat org.apache.fop.layoutmgr.AbstractPageSequenceLayoutManager.finishPage(AbstractPageSequenceLayoutManager.java:312)\n\tat org.apache.fop.layoutmgr.PageSequenceLayoutManager.finishPage(PageSequenceLayoutManager.java:167)\n\tat org.apache.fop.layoutmgr.PageSequenceLayoutManager.activateLayout(PageSequenceLayoutManager.java:109)\n\tat org.apache.fop.area.AreaTreeHandler.endPageSequence(AreaTreeHandler.java:238)\n\tat org.apache.fop.fo.pagination.PageSequence.endOfNode(PageSequence.java:120)\n\tat org.apache.fop.fo.FOTreeBuilder$MainFOHandler.endElement(FOTreeBuilder.java:349)\n\tat org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:177)\n\tat org.apache.xalan.transformer.TransformerIdentityImpl.endElement(TransformerIdentityImpl.java:1102)\n\tat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n\tat org.apache.xerces.xinclude.XIncludeHandler.endElement(Unknown Source)\n\tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n\tat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\n\tat org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:485)\n\tat org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:299)\n\tat org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:130)\n\tat org.apache.fop.cli.Main.startFOP(Main.java:174)\n\tat org.apache.fop.cli.Main.main(Main.java:205)\n\n***** CSSEngine: exception....", "id": 160620, "time": "2012-07-13T10:25:39Z", "bug_id": 53546, "creation_time": "2012-07-13T10:25:39Z", "is_private": false, "attachment_id": 29058}, {"count": 1, "attachment_id": null, "creator": "mathieu.malaterre@gmail.com", "is_private": false, "id": 160621, "time": "2012-07-13T10:26:35Z", "bug_id": 53546, "creation_time": "2012-07-13T10:26:35Z", "tags": [], "text": "I used the following docbook to reproduce the issue:\n\n$ cat test.xml\n<?xml version='1.0' encoding='UTF-8'?>\n<!DOCTYPE article PUBLIC \"-//OASIS//DTD DocBook XML V4.5//EN\" \"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd\" []>\n<article>\n<section>\n<title>bla</title>\n      <mediaobject id=\"sop-class\">\n        <imageobject>\n          <imagedata fileref=\"test.svg\" format=\"SVG\" width=\"100%\" contentdepth=\"100%\" align=\"center\" scalefit=\"1\"/>\n        </imageobject>\n      </mediaobject>\n</section>\n</article>\n\nThen:\n\n\n$ fop -xsl /usr/share/xml/docbook/stylesheet/docbook-xsl/fo/docbook.xsl -xml test.xml -foout /tmp/o.fo\n$ fop /tmp/o.fo /tmp/o.pdf"}, {"count": 2, "tags": [], "text": "The trace you provide indicate the initial cause:\n***** CSSEngine: exception property.syntax.error:org.w3c.dom.DOMException: The \"even-odd\" identifier is not a valid value for the \"fill-rule\" property.\n\nyou should have \"evenodd\" instead; see [1]\n\n[1] http://www.w3.org/TR/SVG/painting.html#FillRuleProperty", "is_private": false, "bug_id": 53546, "id": 160623, "time": "2012-07-13T11:55:41Z", "creator": "psancho.asf@gmail.com", "creation_time": "2012-07-13T11:55:41Z", "attachment_id": null}]