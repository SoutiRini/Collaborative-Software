[{"count": 0, "tags": [], "bug_id": 54710, "attachment_id": 30057, "id": 165891, "time": "2013-03-17T09:59:10Z", "creator": "nicholas@nicholaswilliams.net", "creation_time": "2013-03-17T09:59:10Z", "is_private": false, "text": "Created attachment 30057\nPatch to address issue\n\nTitle pretty much explains it all. The specification says that @OnMessage methods may have an InputStream parameter (and no boolean parameter) for binary messages, or a Reader parameter (and no boolean parameter) for text messages. However, the current implementation does not support that; an IllegalArgumentException is thrown when Tomcat processes the endpoint annotations.\n\nAlso, the specification says that @OnClose methods may have a CloseReason parameter, but the current implementation does not support that.\n\nIt was difficult for me to separate these issues, so I have combined them and the patch for them."}, {"attachment_id": 30058, "tags": [], "bug_id": 54710, "text": "Created attachment 30058\nPatch to address issue\n\nI attached the wrong patch. Correct patch attached.", "count": 1, "id": 165892, "time": "2013-03-17T10:03:03Z", "creator": "nicholas@nicholaswilliams.net", "creation_time": "2013-03-17T10:03:03Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 54710, "text": "Thanks for the patch. It has been applied to trunk.", "count": 2, "id": 165975, "time": "2013-03-18T21:55:42Z", "creator": "markt@apache.org", "creation_time": "2013-03-18T21:55:42Z", "is_private": false}]