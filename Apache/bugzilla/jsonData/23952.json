[{"count": 0, "tags": [], "bug_id": 23952, "attachment_id": null, "id": 45944, "time": "2003-10-20T18:36:28Z", "creator": "ben@socialtools.net", "creation_time": "2003-10-20T18:36:28Z", "is_private": false, "text": "The Apache 2.0.47 distribution contains the Perl Compatible Regular Expressions\nlibrary (PCRE) version 3.0.\n\nThe mod_caml module (http://www.merjis.com/developers/mod_caml/) uses a more\nrecent version of PCRE (typically 4.3 or above).  This works with Apache 1.3,\nbut causes Apache 2.0.47 to segfault on startup, in PCRE code (a gdb backtrace\nis included at the end of this message).\n\nPlease add an option to the Apache 2 ./configure script to build Apache with an\nalready-installed version of PCRE, instead of the older version that's included\nin the Apache 2 distribution.\n\nHere's the gdb backtrace of the segfault, using Apache 2.0.47 on Debian\nGNU/Linux; I configured Apache with \"./configure --prefix=/usr/local/apache2\n--enable-mime-magic --enable-http --with-mpm=worker --enable-so\".  The mod_caml\nmodule is attempting to use PCRE 4.3.\n\n#0  0x4038e461 in pcre_free_substring () from /usr/lib/libpcre.so.3\n#1  0x4038ea38 in pcre_study () from /usr/lib/libpcre.so.3\n#2  0x4002c56e in pcre_study_wrapper () from\n/usr/lib/ocaml/3.06/stublibs/dllpcre_stubs.so\n#3  0x40340c07 in interprete () from /usr/local/apache2/modules/mod_caml.so\n#4  0x403335aa in caml_main () from /usr/local/apache2/modules/mod_caml.so\n#5  0x4032c34c in init () at mod_caml_c.c:80\n#6  0x40342a25 in __do_global_ctors_aux () from\n/usr/local/apache2/modules/mod_caml.so\n#7  0x4032a5f9 in _init () from /usr/local/apache2/modules/mod_caml.so\n#8  0x4000b2ce in call_init () from /lib/ld-linux.so.2\n#9  0x4000b3ba in _dl_init_internal () from /lib/ld-linux.so.2\n#10 0x402f2b5e in getutmpx () from /lib/libc.so.6\n#11 0x4000b116 in _dl_catch_error_internal () from /lib/ld-linux.so.2\n#12 0x402f2fdc in _dl_open () from /lib/libc.so.6\n#13 0x4019acd8 in dlinfo () from /lib/libdl.so.2\n#14 0x4000b116 in _dl_catch_error_internal () from /lib/ld-linux.so.2\n#15 0x4019a456 in dlerror () from /lib/libdl.so.2\n#16 0x4019ad2c in dlopen () from /lib/libdl.so.2\n#17 0x4011f05e in apr_dso_load (res_handle=0xbfffce68, path=0xbfffce68 \"\",\npool=0x80c4b18) at dso.c:176\n#18 0x080820f8 in load_module (cmd=0xbffff830, dummy=0xbfffce68,\nmodname=0x8104780 \"caml_module\",\n    filename=0x40014b00 \"PJ\\001\") at mod_so.c:282\n#19 0x08087482 in invoke_cmd (cmd=0x80af9e0, parms=0xbffff830,\nmconfig=0xbfffd650, args=0xbfffd6dd \"\") at config.c:739\n#20 0x080884a9 in execute_now (cmd_line=0x8104718 \"LoadModule\", args=0xbfffce68\n\"\", parms=0xbffff830, p=0x80c4b18,\n    ptemp=0x80fec00, sub_tree=0xbfffce68, parent=0x0) at config.c:1353\n#21 0x08087cba in ap_build_config_sub (p=0x80c4b18, temp_pool=0x80fec00,\nl=0x1089379f <Address 0x1089379f out of bounds>,\n    parms=0xbffff830, current=0xbfffd698, curr_parent=0xbfffd69c,\nconftree=0x80bbcf4) at config.c:942\n#22 0x0808808e in ap_build_config (parms=0xbffff830, p=0x80c4b18,\ntemp_pool=0x80fec00, conftree=0x8104718) at config.c:1149\n#23 0x080889d4 in ap_process_resource_config (s=0x80c78d0, fname=0x8104718\n\"LoadModule\", conftree=0x80bbcf4, p=0x80c4b18,\n    ptemp=0x80fec00) at config.c:1565\n#24 0x08089256 in ap_read_config (process=0xbfffce68, ptemp=0x80fec00,\nfilename=0x80b1111 \"conf/httpd.conf\",\n    conftree=0x80bbcf4) at config.c:1843\n#25 0x0808b78a in main (argc=2, argv=0xbffff964) at main.c:574"}, {"count": 1, "tags": [], "creator": "chip@force-elite.com", "is_private": false, "id": 62734, "attachment_id": null, "bug_id": 23952, "creation_time": "2004-08-30T07:27:20Z", "time": "2004-08-30T07:27:20Z", "text": "\n\n*** This bug has been marked as a duplicate of 27550 ***"}]