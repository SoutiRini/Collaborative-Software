[{"count": 0, "tags": [], "creator": "lowfill@yahoo.com", "attachment_id": null, "is_private": false, "id": 41687, "time": "2003-07-28T21:06:11Z", "bug_id": 21947, "creation_time": "2003-07-28T21:06:11Z", "text": "Hello!\nThis is my task to run the tests\n\n  <path id=\"classpath\">\n    <fileset dir=\"${lib.dir}\" includes=\"*.jar\"/>\n\t<pathelement location=\"${build.dir}/\"/>\n  </path>\n\n(...)\n\n<junit  fork=\"true\" printsummary=\"yes\" dir=\"${test.dir}\">\n\t\t\t<classpath refid=\"classpath\"/>\n\t\t\t<formatter type=\"plain\"/>\n\t\t\t<formatter type=\"xml\"/> \n\t\t\t\t<test name=\"test.com.iurupari.dao.PIDAOFactoryTest\" haltonfailure=\"no\" \ntodir=\"${test.dir}\" />\n\t\t</junit>\n\nwhen I tries to write de xml report ant shows the following message\n\ntest:\n    [junit] Running test.com.iurupari.dao.PIDAOFactoryTest\n    [junit] Exception in thread \"main\" java.lang.NullPointerException\n    [junit]     at java.io.Writer.write(Writer.java:126)\n    [junit]     at\norg.apache.tools.ant.util.DOMElementWriter.write(DOMElementWriter.java:151)\n    [junit]     at\norg.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter.endTestSuite(XMLJUnitResultFormatter.java:171)\n    [junit]     at\norg.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.fireEndTestSuite(JUnitTestRunner.java:452)\n    [junit]     at\norg.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:346)\n    [junit]     at\norg.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:536)\n    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.792 secnull\n    [junit] TEST test.com.iurupari.dao.PIDAOFactoryTest FAILED"}, {"count": 1, "text": "the line 151 of DOMElementWriter.java is the one doing out.write(lSep); \n            case Node.ELEMENT_NODE:\n                if (!hasChildren) {\n                    out.write(lSep);\n                    hasChildren = true;\n                }\n                write((Element) child, out, indent + 1, indentWith);\n                break;\nCan it be that there is no system property line.separator in your Java Virtual \nMachine ?\n\nlSep is initialized like this :\n    private static String lSep = System.getProperty(\"line.separator\");\n\ntry to run this build snippet\n<project default=\"default\">\n  <target name=\"default\">\n   <echoproperties/>\n  </target>\n</project>  \nlook in the output if line.separator is defined.\nIf it is not defined, then you need to start ant with\nant -D\"line.separator=\n\" \n", "bug_id": 21947, "attachment_id": null, "id": 41899, "time": "2003-07-31T20:08:31Z", "creator": "antoine@apache.org", "creation_time": "2003-07-31T20:08:31Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "lowfill@yahoo.com", "attachment_id": null, "is_private": false, "id": 41910, "time": "2003-07-31T23:21:17Z", "bug_id": 21947, "creation_time": "2003-07-31T23:21:17Z", "text": "When I run your ant script the system says:\n...\n[echoproperties] sun.boot.library.path=/usr/java/j2sdk1.4.2/jre/lib/i386\n[echoproperties] java.vm.version=1.4.2-b28\n[echoproperties] ant.version=Apache Ant version 1.5.3 compiled on April 16 2003\n[echoproperties] ant.java.version=1.4\n[echoproperties] java.vm.vendor=Sun Microsystems Inc.\n...\n[echoproperties] java.io.tmpdir=/tmp\n[echoproperties] line.separator=\\n\n[echoproperties] java.vm.specification.vendor=Sun Microsystems Inc.\n[echoproperties] os.name=Linux\n...\n\nI'm try the other option too but the error persists"}, {"count": 3, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "is_private": false, "id": 72357, "time": "2005-03-14T12:11:47Z", "bug_id": 21947, "creation_time": "2005-03-14T12:11:47Z", "text": "could you please re-check with Ant 1.6.2?\n"}, {"attachment_id": null, "tags": [], "creator": "tim@leftmoon.com", "is_private": false, "count": 4, "id": 106591, "time": "2007-08-10T07:51:14Z", "bug_id": 21947, "creation_time": "2007-08-10T07:51:14Z", "text": "This seems to be the same issue and yes, it is still happening in Ant 1.7.  My \nscript works when I set the formatter type to \"plain\" and fails under \"xml\".  \nHopefully this can help in resolving the issue.  If you need more info, let me \nknow.\n\nAnt script:\n================\n<?xml version=\"1.0\"?>\n\n<project default=\"dist\" basedir=\".\">\n\n\t<property name=\"src\"        location=\"src\"/>\n\t<property name=\"test\"       location=\"test\"/>\n\t<property name=\"report\"     location=\"report\"/>\n\t<property name=\"build\"      location=\"build\"/>\n\t<property name=\"dist\"       location=\"dist\"/>\n\t<property name=\"${where I work}.config.loc\" \nlocation=\"${test}/config.xml\"/>\n\t\n\t<target name=\"init\">\n\t\t<!-- Create the time stamp -->\n\t\t<tstamp/>\n\t\t<!-- Create the build directory structure used by compile -->\n\t\t<mkdir dir=\"${build}\"/>\n\t</target>\n\t\n\t<path id=\"wu.classpath\">\n\t\t<pathelement path=\"${classpath}\"/>\n\t\t<fileset dir=\"lib\">\n\t\t\t<include name=\"**/*.jar\"/>\n\t\t</fileset>\n\t\t<dirset dir=\"${build}\"/>\n\t</path>\n\t\n\t<target name=\"compile\" depends=\"init\" description=\"compile the source \" \n>\n\t\t<!-- Compile the java code from ${src} into ${build} -->\n\t\t<javac srcdir=\"${src}\"  destdir=\"${build}\" \nclasspathref=\"wu.classpath\"/>\n\t\t<javac srcdir=\"${test}\" destdir=\"${build}\" \nclasspathref=\"wu.classpath\"/>\n\t</target>\n\t\n\t<target name=\"test\" depends=\"compile\" description=\"excute unit tests\">\n\t\t<mkdir dir=\"${report}/test-${DSTAMP}\"/>\n\t\t<junit printsummary=\"yes\" haltonerror=\"yes\">\n\t\t\t<formatter type=\"xml\"/>\n\t\t\t<sysproperty key=\"${where I work}.config.loc\" \nvalue=\"test/config.xml\"/>\n\t\t\t<classpath>\n\t\t\t\t<pathelement path=\"${classpath}\"/>\n\t\t\t\t<fileset dir=\"lib\">\n\t\t\t\t\t<include name=\"**/*.jar\"/>\n\t\t\t\t</fileset>\n\t\t\t\t<dirset dir=\"${build}\"/>\n\t\t\t</classpath>\n\t\t\t\n\t\t\t<batchtest todir=\"${report}/test-${DSTAMP}\">\n\t\t\t\t<fileset dir=\"${test}\">\n\t\t\t\t      <include name=\"**/test/*Test.java\"/>\n\t\t\t\t      <exclude name=\"**/${where I work}\nTestCase.java\"/>\n\t\t\t\t</fileset>\n\t\t\t</batchtest>\n\t\t</junit>\n\t</target>\n\t\n\t<target name=\"reportTest\" depends=\"test\" description=\"make\">\n\t\t<junitreport todir=\"${report}/test-${DSTAMP}\">\n\t\t  <fileset dir=\"${report}/test-${DSTAMP}\">\n\t\t    <include name=\"TEST-*.xml\"/>\n\t\t  </fileset>\n\t\t  <report format=\"frames\" todir=\"./report/html\"/>\n\t\t</junitreport>\n\t</target>\n\n\t<target name=\"dist\" depends=\"test\" description=\"generate the \ndistribution\" >\n\t\t<!-- Create the distribution directory -->\n\t\t<mkdir dir=\"${dist}/lib\"/>\n\n\t\t<!-- Put everything in ${build} into the superDuper-\n${DSTAMP}.jar file -->\n\t\t<jar jarfile=\"${dist}/lib/superDuper-${DSTAMP}.jar\" \nbasedir=\"${build}\">\n\t\t\t<fileset dir=\"${build}\">\n\t\t\t\t<exclude name=\"**/*Test*\"/>\n\t\t\t</fileset>\n\t\t</jar>\n\t</target>\n\n  \n</project>\n\n\nVerbose output (stripped unimportant info like classnames):\n======================\n\nApache Ant version 1.7.0 compiled on December 13 2006\nBuildfile: ${path}\\build.xml\nparsing buildfile ${path}\\build.xml with URI = file${path}/build.xml\nProject base dir set to: ${path}\n[antlib:org.apache.tools.ant] Could not load definitions from resource \norg/apache/tools/ant/antlib.xml. It could not be found.\nProperty \"classpath\" has not been set\nBuild sequence for target(s) `dist' is [init, compile, test, dist]\nComplete build sequence is [init, compile, test, dist, reportTest, ]\ninit:\n    [mkdir] Skipping ${path}\\build because it already exists.\ncompile:\n    [javac] ${blah}.java omitted as ${blah}.class is up to date.\n    [javac] config.xml skipped - don't know how to handle it\n    [javac] log4j.properties skipped - don't know how to handle it\ntest:\n    [mkdir] Skipping ${path}\\test-20070810 because it already exists.\nProperty \"classpath\" has not been set\ndropping ${path}\\${classpath} from path as it doesn't exist\n    [junit] Using System properties {java.runtime.name=Java(TM) 2 Runtime \nEnvironment, Standard Edition, sun.boot.library.path=C:\\j2sdk1.4.2_15\\jre\\bin, \njava.vm.version=1.4.2_15-b02, ant.library.dir=N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib, ${where I \nwork}.config.loc=test/config.xml, java.vm.vendor=Sun Microsystems Inc., \njava.vendor.url=http://java.sun.com/, path.separator=;, java.vm.name=Java \nHotSpot(TM) Client VM, file.encoding.pkg=sun.io, user.country=US, \nsun.os.patch.level=Service Pack 2, java.vm.specification.name=Java Virtual \nMachine Specification, user.dir=N:\\java\\workspace\\SuperDuper, \njava.runtime.version=1.4.2_15-b02, \njava.awt.graphicsenv=sun.awt.Win32GraphicsEnvironment, \njava.endorsed.dirs=C:\\j2sdk1.4.2_15\\jre\\lib\\endorsed, os.arch=x86, \njava.io.tmpdir=${d-drive}\\LOCALS~1\\Temp\\, line.separator=\n    [junit] , java.vm.specification.vendor=Sun Microsystems Inc., \nuser.variant=, os.name=Windows XP, ant.home=N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842, sun.java2d.fontpath=, \njava.library.path=N:\\eclipse-java-europa-win32\n\\eclipse;.;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\Program \nFiles\\Java\\jre1.6.0_01\\bin\\client;C:\\Program Files\\Java\\jre1.6.0_01\n\\bin;C:\\Perl\\site\\bin;C:\\Perl\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\Syst\nem32\\Wbem;C:\\Program Files\\CA\\SharedComponents\\ScanEngine;C:\\Program \nFiles\\CA\\SharedComponents\\CAUpdate\\;C:\\Program \nFiles\\CA\\SharedComponents\\ThirdParty\\;C:\\Program \nFiles\\CA\\SharedComponents\\SubscriptionLicense\\;C:\\Program \nFiles\\CA\\eTrustITM;C:\\Program Files\\QuickTime\\QTSystem\\;N:\\eclipse-java-europa-\nwin32\\eclipse\\configuration\\org.eclipse.osgi\\bundles\\132\\1\\.cp, \njava.specification.name=Java Platform API Specification, \njava.class.version=48.0, \njava.util.prefs.PreferencesFactory=java.util.prefs.WindowsPreferencesFactory, \nos.version=5.1, user.home=C:\\Documents and Settings\\${me!!!}, \nuser.timezone=America/Chicago, java.awt.printerjob=sun.awt.windows.WPrinterJob, \nfile.encoding=Cp1252, java.specification.version=1.4, \njava.class.path=N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant.jar;N:\\eclipse-java-\neuropa-win32\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-\nantlr.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-apache-\nbcel.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-apache-\nbsf.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-apache-\nlog4j.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-apache-\noro.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-apache-\nregexp.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-apache-\nresolver.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-commons-\nlogging.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-commons-\nnet.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-jai.jar;N:\\eclipse-\njava-europa-win32\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-\njavamail.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-\njdepend.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-jmf.jar;N:\\eclipse-\njava-europa-win32\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-\njsch.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-\njunit.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-\nlauncher.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-\nnetrexx.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-\nnodeps.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-\nstarteam.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-\nstylebook.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-\nswing.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-trax.jar;N:\\eclipse-\njava-europa-win32\\eclipse\\plugins\\org.apache.ant_1.7.0.v200706080842\\lib\\ant-\nweblogic.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\configuration\\org.eclipse.osgi\\bundles\\16\\1\n\\.cp\\lib\\remoteAnt.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\com.jcraft.jsch_0.1.31.jar;C:\\j2sdk1.4.2_15\n\\lib\\tools.jar;N:\\eclipse-java-europa-win32\n\\eclipse\\plugins\\org.eclipse.swt.win32.win32.x86_3.3.0.v3346.jar, \nuser.name=${me!!!}, java.vm.specification.version=1.0, \njava.home=C:\\j2sdk1.4.2_15\\jre, sun.arch.data.model=32, user.language=en, \njava.specification.vendor=Sun Microsystems Inc., \nawt.toolkit=sun.awt.windows.WToolkit, java.vm.info=mixed mode, \njava.version=1.4.2_15, java.ext.dirs=C:\\j2sdk1.4.2_15\\jre\\lib\\ext, \nsun.boot.class.path=C:\\j2sdk1.4.2_15\\jre\\lib\\rt.jar;C:\\j2sdk1.4.2_15\n\\jre\\lib\\i18n.jar;C:\\j2sdk1.4.2_15\\jre\\lib\\sunrsasign.jar;C:\\j2sdk1.4.2_15\n\\jre\\lib\\jsse.jar;C:\\j2sdk1.4.2_15\\jre\\lib\\jce.jar;C:\\j2sdk1.4.2_15\n\\jre\\lib\\charsets.jar;C:\\j2sdk1.4.2_15\\jre\\classes, java.vendor=Sun \nMicrosystems Inc., file.separator=\\, \njava.vendor.url.bug=http://java.sun.com/cgi-bin/bugreport.cgi, \nsun.io.unicode.encoding=UnicodeLittle, sun.cpu.endian=little, \nsun.cpu.isalist=pentium i486 i386}\n    [junit] Running ${where I work}.authorization.test.BouncerFactoryTest\n    [junit] junit.framework.TestListener: tests to run: 3\n    [junit] junit.framework.TestListener: startTest(testGetBouncer)\n    [junit] junit.framework.TestListener: endTest(testGetBouncer)\n    [junit] junit.framework.TestListener: startTest(testNullResource)\n    [junit] junit.framework.TestListener: endTest(testNullResource)\n    [junit] junit.framework.TestListener: startTest(testMissingConfig)\n    [junit] junit.framework.TestListener: endTest(testMissingConfig)\n    [junit] Tests run: 3, Failures: 0, Errors: 0, Time elapsed: 4.39 secnull\n\nBUILD FAILED\n${path}\\build.xml:35: java.lang.NullPointerException\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute\n(DispatchUtils.java:115)\n\tat org.apache.tools.ant.Task.perform(Task.java:348)\n\tat org.apache.tools.ant.Target.execute(Target.java:357)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:385)\n\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1298)\n\tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets\n(DefaultExecutor.java:41)\n\tat \norg.eclipse.ant.internal.ui.antsupport.EclipseDefaultExecutor.executeTargets\n(EclipseDefaultExecutor.java:32)\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1181)\n\tat org.eclipse.ant.internal.ui.antsupport.InternalAntRunner.run\n(InternalAntRunner.java:423)\n\tat org.eclipse.ant.internal.ui.antsupport.InternalAntRunner.main\n(InternalAntRunner.java:137)\nCaused by: java.lang.NullPointerException\n\tat java.io.Writer.write(Writer.java:126)\n\tat org.apache.tools.ant.util.DOMElementWriter.write\n(DOMElementWriter.java:210)\n\tat \norg.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter.endTestSuit\ne(XMLJUnitResultFormatter.java:168)\n\tat \norg.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.fireEndTestSuite\n(JUnitTestRunner.java:620)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run\n(JUnitTestRunner.java:453)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.executeInVM\n(JUnitTask.java:1245)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute\n(JUnitTask.java:814)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.executeOrQueue\n(JUnitTask.java:1657)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute\n(JUnitTask.java:764)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute\n(DispatchUtils.java:105)\n\t... 10 more\n--- Nested Exception ---\njava.lang.NullPointerException\n\tat java.io.Writer.write(Writer.java:126)\n\tat org.apache.tools.ant.util.DOMElementWriter.write\n(DOMElementWriter.java:210)\n\tat \norg.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter.endTestSuit\ne(XMLJUnitResultFormatter.java:168)\n\tat \norg.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.fireEndTestSuite\n(JUnitTestRunner.java:620)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run\n(JUnitTestRunner.java:453)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.executeInVM\n(JUnitTask.java:1245)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute\n(JUnitTask.java:814)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.executeOrQueue\n(JUnitTask.java:1657)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute\n(JUnitTask.java:764)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute\n(DispatchUtils.java:105)\n\tat org.apache.tools.ant.Task.perform(Task.java:348)\n\tat org.apache.tools.ant.Target.execute(Target.java:357)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:385)\n\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1329)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1298)\n\tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets\n(DefaultExecutor.java:41)\n\tat \norg.eclipse.ant.internal.ui.antsupport.EclipseDefaultExecutor.executeTargets\n(EclipseDefaultExecutor.java:32)\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1181)\n\tat org.eclipse.ant.internal.ui.antsupport.InternalAntRunner.run\n(InternalAntRunner.java:423)\n\tat org.eclipse.ant.internal.ui.antsupport.InternalAntRunner.main\n(InternalAntRunner.java:137)\n\nTotal time: 6 seconds\n"}, {"attachment_id": null, "tags": [], "creator": "stevel@apache.org", "is_private": false, "count": 5, "id": 106593, "time": "2007-08-10T08:16:04Z", "bug_id": 21947, "creation_time": "2007-08-10T08:16:04Z", "text": "ok. \n\n1. What happens when you run from the command line, rather than from Eclipse?\n2. the log shows that you arent passing down the classpath you thought you were,\nwhich doesnt help:\n\nProperty \"classpath\" has not been set\ndropping ${path}\\${classpath} from path as it doesn't exist\n\nTry using the property java.class.path instead. \n\nlooking in to Writer.write(), it looks like it is probably the write(String)\nmethod that is NPE-ing on a null string...maybe we need some fallback code to\ncheck that you really can get a line separator from system properties (a\nsecurity manager could block it, after all),and then drop back to a \\n in such a\ncase."}, {"count": 6, "tags": [], "creator": "tim@leftmoon.com", "attachment_id": null, "is_private": false, "id": 106601, "time": "2007-08-10T09:23:38Z", "bug_id": 21947, "creation_time": "2007-08-10T09:23:38Z", "text": "I went ahead and ran it from the command line, the results appear to be the \nsame. I can attach ant.out to the ticket, if you'd like.\n\nAlso, Ant was unable to find tools.jar, would you like me to manually set \nJAVA_HOME as I had to inside of Eclipse to help it out?\n\n{\nN:\\java\\workspace\\SuperDuper>N:\\java\\apache-ant-1.7.0-bin\\apache-ant-1.7.0\n\\bin\\ant.bat > ant.out\n\nBUILD FAILED\nN:\\java\\workspace\\SuperDuper\\build.xml:36: java.lang.NullPointerException\n\nTotal time: 14 seconds\n}\n\nSnip after changing ${classpath} to ${java.class.path} and adding \n<echoproperties/> in 'test' target.\n========\ntest:\n[echoproperties] #Ant properties\n[echoproperties] #Fri Aug 10 11:14:50 CDT 2007\n[echoproperties] DSTAMP=20070810\n[echoproperties] TODAY=August 10 2007\n[echoproperties] TSTAMP=1114\n[echoproperties] ant.core.lib=N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\ant.jar\n[echoproperties] ant.file=N\\:\\\\java\\\\workspace\\\\SuperDuper\\\\build.xml\n[echoproperties] ant.home=N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\bin\\\\..\n[echoproperties] ant.java.version=1.6\n[echoproperties] ant.library.dir=N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-\n1.7.0\\\\lib\n[echoproperties] ant.version=Apache Ant version 1.7.0 compiled on December 13 \n2006\n[echoproperties] awt.toolkit=sun.awt.windows.WToolkit\n[echoproperties] basedir=N\\:\\\\java\\\\workspace\\\\SuperDuper\n[echoproperties] build=N\\:\\\\java\\\\workspace\\\\SuperDuper\\\\build\n[echoproperties] dist=N\\:\\\\java\\\\workspace\\\\SuperDuper\\\\dist\n[echoproperties] file.encoding=Cp1252\n[echoproperties] file.encoding.pkg=sun.io\n[echoproperties] file.separator=\\\\\n[echoproperties] java.awt.graphicsenv=sun.awt.Win32GraphicsEnvironment\n[echoproperties] java.awt.printerjob=sun.awt.windows.WPrinterJob\n[echoproperties] java.class.path=N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-\n1.7.0\\\\bin\\\\..\\\\lib\\\\ant-\nlauncher.jar;N\\:\\\\java\\\\workspace\\\\SuperDuper\\\\.;C\\:\\\\Program \nFiles\\\\QuickTime\\\\QTSystem\\\\QTJava.zip;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-\nant-1.7.0\\\\lib\\\\ant-antlr.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\ant-apache-bcel.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\ant-apache-bsf.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\ant-apache-log4j.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\ant-apache-oro.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\ant-apache-regexp.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\ant-commons-net.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\ant-apache-resolver.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\ant-commons-logging.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\ant-jai.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\njavamail.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\njdepend.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\njmf.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\njsch.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\njunit.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\nlauncher.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\nnetrexx.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\nnodeps.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\nstarteam.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\nstylebook.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\nswing.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\ntestutil.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\ntrax.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\\\\lib\\\\ant-\nweblogic.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\ant.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\xercesImpl.jar;N\\:\\\\java\\\\apache-ant-1.7.0-bin\\\\apache-ant-1.7.0\n\\\\lib\\\\xml-apis.jar\n[echoproperties] java.class.version=50.0\n[echoproperties] java.endorsed.dirs=C\\:\\\\Program Files\\\\Java\\\\jre1.6.0_01\n\\\\lib\\\\endorsed\n[echoproperties] java.ext.dirs=C\\:\\\\Program Files\\\\Java\\\\jre1.6.0_01\n\\\\lib\\\\ext;C\\:\\\\WINDOWS\\\\Sun\\\\Java\\\\lib\\\\ext\n[echoproperties] java.home=C\\:\\\\Program Files\\\\Java\\\\jre1.6.0_01\n[echoproperties] java.io.tmpdir=C\\:\\\\DOCUME~1\\\\mooneyti\\\\LOCALS~1\\\\Temp\\\\\n[echoproperties] \njava.library.path=C\\:\\\\WINDOWS\\\\system32;.;C\\:\\\\WINDOWS\\\\Sun\\\\Java\\\\bin;C\\:\\\\WIN\nDOWS\\\\system32;C\\:\\\\WINDOWS;C\\:\\\\Perl\\\\site\\\\bin;C\\:\\\\Perl\\\\bin;C\\:\\\\WINDOWS\\\\sy\nstem32;C\\:\\\\WINDOWS;C\\:\\\\WINDOWS\\\\System32\\\\Wbem;C\\:\\\\Program \nFiles\\\\CA\\\\SharedComponents\\\\ScanEngine;C\\:\\\\Program \nFiles\\\\CA\\\\SharedComponents\\\\CAUpdate\\\\;C\\:\\\\Program \nFiles\\\\CA\\\\SharedComponents\\\\ThirdParty\\\\;C\\:\\\\Program \nFiles\\\\CA\\\\SharedComponents\\\\SubscriptionLicense\\\\;C\\:\\\\Program \nFiles\\\\CA\\\\eTrustITM;C\\:\\\\Program Files\\\\QuickTime\\\\QTSystem\\\\\n[echoproperties] java.runtime.name=Java(TM) SE Runtime Environment\n[echoproperties] java.runtime.version=1.6.0_01-b06\n[echoproperties] java.specification.name=Java Platform API Specification\n[echoproperties] java.specification.vendor=Sun Microsystems Inc.\n[echoproperties] java.specification.version=1.6\n[echoproperties] java.vendor=Sun Microsystems Inc.\n[echoproperties] java.vendor.url=http\\://java.sun.com/\n[echoproperties] java.vendor.url.bug=http\\://java.sun.com/cgi-bin/bugreport.cgi\n[echoproperties] java.version=1.6.0_01\n[echoproperties] java.vm.info=mixed mode, sharing\n[echoproperties] java.vm.name=Java HotSpot(TM) Client VM\n[echoproperties] java.vm.specification.name=Java Virtual Machine Specification\n[echoproperties] java.vm.specification.vendor=Sun Microsystems Inc.\n[echoproperties] java.vm.specification.version=1.0\n[echoproperties] java.vm.vendor=Sun Microsystems Inc.\n[echoproperties] java.vm.version=1.6.0_01-b06\n[echoproperties] line.separator=\\r\\n\n[echoproperties] os.arch=x86\n[echoproperties] os.name=Windows XP\n[echoproperties] os.version=5.1\n[echoproperties] path.separator=;\n[echoproperties] report=N\\:\\\\java\\\\workspace\\\\SuperDuper\\\\report\n[echoproperties] src=N\\:\\\\java\\\\workspace\\\\SuperDuper\\\\src\n[echoproperties] sun.arch.data.model=32\n[echoproperties] sun.boot.class.path=C\\:\\\\Program Files\\\\Java\\\\jre1.6.0_01\n\\\\lib\\\\resources.jar;C\\:\\\\Program Files\\\\Java\\\\jre1.6.0_01\n\\\\lib\\\\rt.jar;C\\:\\\\Program Files\\\\Java\\\\jre1.6.0_01\n\\\\lib\\\\sunrsasign.jar;C\\:\\\\Program Files\\\\Java\\\\jre1.6.0_01\n\\\\lib\\\\jsse.jar;C\\:\\\\Program Files\\\\Java\\\\jre1.6.0_01\n\\\\lib\\\\jce.jar;C\\:\\\\Program Files\\\\Java\\\\jre1.6.0_01\n\\\\lib\\\\charsets.jar;C\\:\\\\Program Files\\\\Java\\\\jre1.6.0_01\\\\classes\n[echoproperties] sun.boot.library.path=C\\:\\\\Program Files\\\\Java\\\\jre1.6.0_01\n\\\\bin\n[echoproperties] sun.cpu.endian=little\n[echoproperties] sun.cpu.isalist=\n[echoproperties] sun.desktop=windows\n[echoproperties] sun.io.unicode.encoding=UnicodeLittle\n[echoproperties] sun.java.launcher=SUN_STANDARD\n[echoproperties] sun.jnu.encoding=Cp1252\n[echoproperties] sun.management.compiler=HotSpot Client Compiler\n[echoproperties] sun.os.patch.level=Service Pack 2\n[echoproperties] test=N\\:\\\\java\\\\workspace\\\\SuperDuper\\\\test\n[echoproperties] user.country=US\n[echoproperties] user.dir=N\\:\\\\java\\\\workspace\\\\SuperDuper\n[echoproperties] user.home=C\\:\\\\Documents and Settings\\\\mooneyti\n[echoproperties] user.language=en\n[echoproperties] user.name=mooneyti\n[echoproperties] user.timezone=\n[echoproperties] user.variant=\n[echoproperties] \nwashburn.config.loc=N\\:\\\\java\\\\workspace\\\\SuperDuper\\\\test\\\\config.xml\n    [junit] Running edu.washburn.authorization.test.BouncerFactoryTest"}, {"attachment_id": null, "tags": [], "creator": "tim@leftmoon.com", "is_private": false, "count": 7, "id": 106759, "time": "2007-08-14T11:38:54Z", "bug_id": 21947, "creation_time": "2007-08-14T11:38:54Z", "text": "I'm not sure what happened, but this is working today.  I had a few minutes so \nI figured I'd run my Ant script and see if I could see anything helpful, but \nsurprise-surprise, it ran just fine.  Very questionable, but it works for me."}]