[{"count": 0, "tags": [], "bug_id": 523, "text": "Either I have found a bug with taskdef or I am botching the systax of\nclasspath elements.\n\nI can define classpath as an attribute of taskdef, but I cannot define\nclasspath in a nested <classpath> tag.\n\nHere is an example I built to illustrate this.\n\nI make a class ant_test.SysOutTask by copying the example MyVeryOwnTask\ngiven in the docs.\n\nThe class is located at c:\\AntTests\\ant_test\\SysOutTask.class and also\nwithin the jar c:\\AntTests\\sysout.jar.\n\nI place build.xml (text below) in c:\\AntTests\\run (not in c:\\AntTests, since\npresent working directory is in the classpath for Ant anyway.)\n\nI run ant.\n\nI find that when classpath is defined as an attribute, Ant finds the class,\nbut when classpath is a nested element,  I get\njava.lang.ClassNotFoundException: ant_test.SysOutTask\n        at java.lang.Throwable.<init>(Throwable.java:96)\n\nReplacing backslash with slash does not help.\n\nSincerely,\n\n\nJoshua Fox\n\n\n////////////////////////////////////////////////////////////////////////////\n////////////////////////////////\n\n\nHere is build.xml: Uncomment appropriately to test taskdefs. I have\nindicated which taskdefs are OK and not OK.\n\n\n\n<?xml version = \"1.0\" encoding = \"UTF-8\"?>\n<project name=\"simple\" default=\"do_all\" basedir=\"c:/ant_test\">\n\n<!--  OK: -->\n\n <taskdef name=\"sysout\"\n  classname=\"ant_test.SysOutTask\"\n  classpath=\"C:\\AntTests\"\n >\n </taskdef>\n\n<!-- *************************************** -->\n<!--  OK: -->\n<!--\n <taskdef name=\"sysout\"\n  classname=\"ant_test.SysOutTask\"\n  classpath=\"C:\\AntTests\\sysout.jar\"\n >\n </taskdef>\n\n-->\n\n<!-- *************************************** -->\n<!-- Not OK: -->\n<!--\n <taskdef name=\"sysout\"\n  classname=\"ant_test.SysOutTask\"\n >\n  <classpath path=\"C:\\AntTests\" />\n </taskdef>\n-->\n\n<!-- *************************************** -->\n<!-- Not OK: -->\n<!--\n <taskdef name=\"sysout\"\n  classname=\"ant_test.SysOutTask\"\n >\n  <classpath>\n        <pathelement path=\"C:\\AntTests\\sysout.jar\"  />\n     </classpath>\n </taskdef>\n-->\n   <target name=\"do_all\" />\n</project>", "id": 557, "time": "2001-02-04T23:01:02Z", "creator": "jtfox@usa.net", "creation_time": "2001-02-04T23:01:02Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "conor@apache.org", "is_private": false, "text": "I could not reproduce this problem under the latest 1.3 build. If you could \nplease run \n\nant -debug \n\nwhen this code fails so we can see a bit more about what is going on.\n", "id": 558, "time": "2001-02-05T01:28:02Z", "bug_id": 523, "creation_time": "2001-02-05T01:28:02Z", "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "conor@apache.org", "is_private": false, "id": 574, "time": "2001-02-06T04:55:45Z", "bug_id": 523, "creation_time": "2001-02-06T04:55:45Z", "tags": [], "text": "I have verified that this was indeed a bug under 1.2 but functions as expected \nunder 1.3"}]