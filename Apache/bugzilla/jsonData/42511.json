[{"count": 0, "tags": [], "bug_id": 42511, "attachment_id": null, "id": 103627, "time": "2007-05-24T07:38:14Z", "creator": "stefan.wachter@gmx.de", "creation_time": "2007-05-24T07:38:14Z", "is_private": false, "text": "I am using Ant inside an installer that runs with administrator privileges on\nWindows Vista. The files that are copied into the C:\\Programm Files\\<myapp>\nfolder have their security set such that all users can read and execute these files.\n\nThe FixCrLf task creates temporary files in the temporary directory of the\ncurrent user. Files that are created there can not be read and executed by all\nusers. Only the current user has \"full control\".\n\nWhen the FixCrLf task renames its temporary files in order to replace the\noriginal ones the security settings of the temporary files are kept.\n\nIn my example the files under C:\\Programm Files\\<myapp> that were processed by\nthe FixCrLf task are no longer readable by all users!\n\nProposed fix: The temporary file that is used by the FixCrLf task to process a\nsource file must be created in the directory the original file stays in. By this\nmeans the temporary file gets the same security settings as the source file."}, {"count": 1, "tags": [], "text": "A few workarounds.\n1. use setACL: http://setacl.sourceforge.net/html/doc-basics.html\n2. after the fixcrlf, use <copy> to make a copy of the file in the target dir.\nthat will ensure that no move takes place\n3. fixcrlf at build time, and copy out the fixed file on windows systems", "attachment_id": null, "id": 103630, "creator": "stevel@apache.org", "time": "2007-05-24T08:11:26Z", "bug_id": 42511, "creation_time": "2007-05-24T08:11:26Z", "is_private": false}]