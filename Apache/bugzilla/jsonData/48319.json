[{"count": 0, "tags": [], "text": "Created attachment 24653\npstack & pflags output\n\nHi,\n\nAn core has been generated while load testing the product having Apache web server (version: 2.2.6) on Solaris OS. Httpd process crashed on one of the machines after about 4hrs. \n\nFlag details are:\ncore 'core1' of 8625:\t.../httpd/bin/httpd\n data model = _ILP32\n /19:\tflags = PR_PCINVAL\n  sigmask = 0xfffffeff,0x00003fff  cursig = SIGSEGV\n /20:\tflags = PR_STOPPED \n why = PR_SUSPENDED\n sigmask = 0x7fbe6007,0x00003ff6\n /21:\tflags = PR_STOPPED\n  why = PR_SUSPENDED\n  sigmask = 0x7fbe6007,0x00003ff6\n  /22:\tflags = PR_STOPPED\n  why = PR_SUSPENDED\n  sigmask = 0x7fbe6007,0x00003ff6\n.......\n\nStack looks like below:\ncore 'core1' of 8625:\t..../httpd/bin/httpd \n-----------------  lwp# 19 / thread# 19  --------------------\nff268fac apr_pvsprintf (6e740098, fed86b34, fd87a85c, 0, 0, 0) + 2c\nff269300 apr_psprintf (6e740098, fed86b34, c8, 35b1cd, 2a03af, ff0204ec) + 38\nfed51df8 ws_start_response (fd87ba94, c8, 35b1cd, 202448, 202450, 1) + a0\n fed7d598 ajp_process_callback (202418, 202430, 2023e0, fd87ba94, 0, ff00) + 1b8\n fed7e040 ajp_get_reply (20440c, fd87ba94, 0, 2023e0, fd87a9f8, ff0000) + 3d0\n fed7e8bc ajp_service (20440c, fd87ba94, 0, fd87bb5c, 6c657400, 6c657400) + 4cc\n fed5647c jk_handler (326cd0, 0, 25, 0, fd87bb84, ff00) + 954\n 0005a47c ap_run_handler (326cd0, 0, 326cd0, 265468, 0, 0) + 74\n 0005b158 ap_invoke_handler (326cd0, 0, 4, 326cd0, 0, 326e81) + 1b8\n 00076810 ap_process_request (326cd0, 4, 326cd0, 265468, 265468, feea0a84) + 80\n 00072180 ap_process_http_connection (265468, 265378, 265378, fffffff8, 0, 2654cd) + 88\n 00066de4 ap_run_process_connection (265468, 265378, 265378, 90, 265460, 324c90) + 74\n 0006747c ap_process_connection (265468, 265378, 265378, 90, 265460, 324c90) + 94\n 0007e50c process_socket (265338, 265378, 2, 10, 324c90, 0) + c4\n 0007f158 worker_thread (162928, 1f6960, 0, 0, 0, 0) + 300\n ff27bb8c dummy_worker (162928, 0, 0, 0, 0, 0) + 24\n ff0b5854 _lwp_start (0, 0, 0, 0, 0, 0)\n\nMore apache details are:\nServer version: Apache/2.2.6 \nServer built:   Jul 29 2009 15:00:58\nServer's Module Magic Number: 20051115:5\nServer loaded:  APR 1.2.11, APR-Util 1.2.10\nCompiled using: APR 1.2.11, APR-Util 1.2.10\nArchitecture:   32-bit\n  threaded:     yes (fixed thread count)\n    forked:     no\nServer compiled with....\n -D APACHE_MPM_DIR=\"server/mpm/winnt\"\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses disabled)\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D DYNAMIC_MODULE_LIMIT=128\n -D HTTPD_ROOT=\"/apache\"\n -D SUEXEC_BIN=\"/apache/bin/suexec\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_ERRORLOG=\"logs/error.log\"\n -D AP_TYPES_CONFIG_FILE=\"conf/mime.types\"\n -D SERVER_CONFIG_FILE=\"conf/httpd.conf\"\n\nCan you please provide more insight about what can be the potential causes for this core?\n\n\nthanks\nRaminder Singh", "is_private": false, "id": 132549, "creator": "raminder_singh@infosys.com", "time": "2009-12-01T07:32:07Z", "bug_id": 48319, "creation_time": "2009-12-01T07:32:07Z", "attachment_id": 24653}, {"count": 1, "text": "2.2.6 is fairly old. Does this also happen with 2.2.14?", "bug_id": 48319, "is_private": false, "id": 132552, "time": "2009-12-01T09:05:15Z", "creator": "rpluem@apache.org", "creation_time": "2009-12-01T09:05:15Z", "tags": [], "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 48319, "text": "In addition to R\u00fcdiger's question: the stack looks like it is crashing in mod_jk. Do you have mod_jk in your configuration?\n\nThere is no known reason for a crash in the most recent mod_jk version 1.2.28, but there were crashes possible in older versions.\n\nPlease also update mod_jk when doing another test with more recent versions.", "id": 132553, "time": "2009-12-01T11:23:53Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2009-12-01T11:23:53Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "raminder_singh@infosys.com", "attachment_id": null, "is_private": false, "id": 132574, "time": "2009-12-02T00:55:28Z", "bug_id": 48319, "creation_time": "2009-12-02T00:55:28Z", "text": "Hi,\n\n@Ruediger Pluem: Since the product is using apache (2.2.6) after building its source, it is not possible to upgrade the apache at this moment.\n\n@Rainer Jung: Yes, the mod_jk is also being used in the configuration. \nDetails are: mod_jk/1.2.18, mod_ssl/2.2.6, OpenSSL/0.9.8j-fips\n\n1. Can you please share the link where the details for various crashes with older versions of mod_jk are listed?\n2. Any more configuration parameter to look for in the setup?\n\nRegards,\nRaminder Singh"}, {"count": 4, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": null, "is_private": false, "id": 132575, "time": "2009-12-02T01:13:51Z", "bug_id": 48319, "creation_time": "2009-12-02T01:13:51Z", "text": "Most mod_jk related crashes should be noted in\n\nhttp://tomcat.apache.org/connectors-doc/miscellaneous/changelog.html\n\n(look for \"crash\").\n\nWe won't go through it for details, since 1.2.18 is so old, that you might hit lots of other bugs fixed long ago. So please update.\n\nI'll close this as \"resolved invalid\" for now, but if the problem still occurs after upgrading to 1.2.18 please reopen this issue and we'll go into it."}]