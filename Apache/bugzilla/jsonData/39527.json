[{"count": 0, "tags": [], "creator": "hauser@acm.org", "attachment_id": null, "text": "Background: my SSL site needs to proxy a few pages (all with a relative URL\nprefix such as /static) coming from a CMS on a different machine.\n\nSolution:\nuse web.xml's <error-code>404</error-code>\n<location>/pageNotFound404.do</location>\nand in there, if the requestURI starts with \"/static\", use commons.httpclient to\nretrieve the page (and do some caching irrelevant for this RFE)\n\nIssue:\n- This works fine for almost any content, except for pdf or flash animations\n- it even works for pdf is the line-mode browser lynx is used\n- it appears that acrobat's pdf plugin doesn't entirely download a page, but\ngrabs parts of the file at a time.\nUnfortunately, the HttpServletRequest the application programmer gets access to\ndoesn't expose the corresponding attributes.\n\nSuggestion:\n-----------\nSimilarly to adding security extra info to the HttpServletRequest such as \njavax.servlet.request.cipher_suite=TLS_DHE_RSA_WITH_AES_128_CBC_SHA\nalso add such RANGE/chunk values in request attributes to the request before\npassing the control on to the error page/action.\n\nAfter all, tomcat appears to know how to deal with those for the static elements\nin its war file as per org.apache.catalina.servlets.DefaultServlet.parseRange.\n\nsee also Bug 38214", "id": 88943, "time": "2006-05-09T07:52:26Z", "bug_id": 39527, "creation_time": "2006-05-09T07:52:26Z", "is_private": false}, {"count": 1, "tags": [], "creator": "rick@knowleses.org", "text": "Errr ... forgive what might be possibly a stupid question, but is there any \nreason you don't just map your error servlet to /static/* ? Why use the error \nservlet ? Seems kinda backwards.", "id": 88953, "time": "2006-05-09T11:13:45Z", "bug_id": 39527, "creation_time": "2006-05-09T11:13:45Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "rick@knowleses.org", "attachment_id": null, "text": "To clarify, I mean take the code that you now have mapped to error code 404, \nand mount it as a normal servlet at /static/*. You would have access to all \nthe request attributes you need without being forced to return an error code \nthat isn't appropriate (ie a 404 that has data) - probably the cause of your \npdf problems.\n", "id": 88954, "time": "2006-05-09T11:18:54Z", "bug_id": 39527, "creation_time": "2006-05-09T11:18:54Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 39527, "attachment_id": null, "text": "thx that even fixed it for .swt files.", "id": 88982, "time": "2006-05-10T04:49:50Z", "creator": "hauser@acm.org", "creation_time": "2006-05-10T04:49:50Z", "is_private": false}]