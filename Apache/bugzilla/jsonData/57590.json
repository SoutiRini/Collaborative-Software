[{"count": 0, "tags": [], "creator": "i.galic@brainsware.org", "attachment_id": null, "is_private": false, "id": 181126, "time": "2015-02-18T09:20:34Z", "bug_id": 57590, "creation_time": "2015-02-18T09:20:34Z", "text": "in our setup, we use mod_proxy_fcgi to talk to the php backend (fpm).\nfor reasons of efficiency, we do not proxy all requests to fpm, only\nthe ones that are either php, or not satisfiable by anything else.\n\nthis is the common scenario in which one would use FallbackResource\nhowever, FallbackResource (as of 2.4.10) cannot be used with a proxy resource.\ninstead, we use mod_rewrite:\n\n  RewriteEngine On\n\n  RewriteRule ^/.*\\.php(/.*)?$ unix:///srv/web/acme.com/logs/socket|fcgi://127.0.0.1%{DOCUMENT_ROOT}$0 [P]\n\n  RewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME} !-f\n  RewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME} !-d\n  RewriteRule ^ unix:///srv/web/acme.com/logs/socket|fcgi://127.0.0.1%{DOCUMENT_ROOT}/index.php$0 [P]\n\n\nand it works perfectly fine. so long as we do *not* load mod_proxy_http into the same httpd daemon. if we do, the above proxy urls will suddenly be assumed as http://. this seems\u2026 bad. and wrong."}]