[{"count": 0, "tags": [], "bug_id": 11288, "attachment_id": null, "text": "compiling httpd with gcc (mine is 2.95.3) and --enable-shared=max on solaris may\ncause startup errors like \n\nCannot load /B/highway/apache/libexec/mod_negotiation.so into server: ld.so.1:\n/B/highway/apache/bin/httpd: fatal: relocation error: file\n/B/highway/apache/libexec/mod_negotiation.so: symbol __floatdisf: referenced\nsymbol not found\n\nthis can happen with mod_proxy too.\n\ngeneral solution: force link of __floatdisf (in libgcc.a) in httpd;\n\nworkaround: include statically mod_negotiation (or mod_proxy) with\n--disable-shared=negotiation;\n\ncleaner (maybe :-) )  solution: include these lines in any httpd source:\n\n    extern void __floatdisf(void);\n    void *dummy_floatdisf_pointer = (void *) __floatdisf;\n\nboth cases have been tested on my solaris 8 servers.\n\npietro cagnoni.\n\np.s. maybe this belongs to the Build component? it doesn't give any error during\ncompilation/linking.", "id": 20411, "time": "2002-07-30T13:51:22Z", "creator": "pcagnoni@mclink.net", "creation_time": "2002-07-30T13:51:22Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 11288, "attachment_id": null, "id": 21303, "time": "2002-08-19T18:12:54Z", "creator": "slive@apache.org", "creation_time": "2002-08-19T18:12:54Z", "is_private": false, "text": "I have seen this problem on the newsgroups with some frequency.  But there must\nbe a better solution?  You workarounds look quite hackish."}, {"count": 2, "tags": [], "bug_id": 11288, "attachment_id": null, "id": 22112, "time": "2002-09-02T10:25:39Z", "creator": "pcagnoni@mclink.net", "creation_time": "2002-09-02T10:25:39Z", "is_private": false, "text": "yes they are! :-)\n\nthe floatdisf routine looks like a float/int conversion tool that should be\nlinked inside the *.so to guarantee a successful dynamic link in any executable\n(with or without floatdisf).\n\nprobably it's a bug in how gcc calls solaris ld to make the so. in this case a\nsolution could be to hack the gcc specs file, or to use gnu ld. i'm afraid we\ndefinitely need a gcc/ld wizard...\n\nit's quite easy for me to check any fix, so i'm available for further testing.\n\nanyway the bug looks now documented and workarounded. the first step has been made!\n"}, {"count": 3, "tags": [], "bug_id": 11288, "attachment_id": null, "id": 23613, "time": "2002-09-28T18:25:11Z", "creator": "pier@betaversion.org", "creation_time": "2002-09-28T18:25:11Z", "is_private": false, "text": "I solved this problem by simply doing:\n\n$ LDFLAGS=\"-L/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/3.2 -lgcc\" ./configure ....\n\nOf course \"/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/32\" needs to be changed according \nto each individual GCC install...\n"}, {"count": 4, "text": "This is, however, a dup of several other bugs.\n\n*** This bug has been marked as a duplicate of 7839 ***", "bug_id": 11288, "attachment_id": null, "id": 31717, "time": "2003-02-21T00:05:03Z", "creator": "nd@perlig.de", "creation_time": "2003-02-21T00:05:03Z", "tags": [], "is_private": false}]