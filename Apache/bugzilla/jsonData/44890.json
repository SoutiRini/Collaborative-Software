[{"count": 0, "tags": [], "bug_id": 44890, "attachment_id": null, "is_private": false, "id": 115958, "time": "2008-04-28T05:47:21Z", "creator": "brunni@netestate.de", "creation_time": "2008-04-28T05:47:21Z", "text": "If I build apache 2.2.8 with kernel 2.6.x, configure says\n\n checking whether TCP_NODELAY and TCP_CORK can both be enabled... yes\n\nbut the binary will close HTTP-connections without even sending a header after\na HTTP-request when running on kernel 2.4.x. SSL-Connections or very small files\ndo not seem to be affected.\n\nIf I build it with kernel 2.4.x, configure says\n\n checking whether TCP_NODELAY and TCP_CORK can both be enabled... no\n\nand the binary works on both kernels.\n\nI have changed \"apr_cv_tcp_nodelay_with_cork=yes\" to \"apr_cv_tcp_nodelay_with_cork=no\" in srclib/apr/configure and now my binary\nbuilt with kernel 2.6.x also works with 2.4.x.\n\nIf you do not want to change this behavior please put at least a warning somewhere. I have spent much time debugging this."}, {"count": 1, "text": "This works as expected. You always need to compile your httpd either on the box where you want to use it or on a box that is configured similar to the box where you want to use it. Compiling and using it on boxes with different kernel version is waiting for an accident to happen, like you experienced.", "bug_id": 44890, "attachment_id": null, "id": 115963, "time": "2008-04-28T07:43:51Z", "creator": "rpluem@apache.org", "creation_time": "2008-04-28T07:43:51Z", "tags": [], "is_private": false}]