[{"count": 0, "tags": [], "bug_id": 42168, "attachment_id": null, "text": "Would it be possible to generate maven2 bundles as part of the build, so that it\nis easy to get them deployed into the official repositories.\nHaving the bundle produced as part of the official release process would help\navoid the disaster of the 1.6 bundles.\n\nI have a patch to the build that adds a mvnbundle target which produces a\nbatik-all-VERSION-bundle.jar, which contains the batik-all jar as well as\njavadocs and source code. I made all the dependencies optional except the\nxml-apis stuff.\n\nFor more information on the bundle structure:\nhttp://maven.apache.org/guides/mini/guide-ibiblio-upload.html\n\nI set the groupId to org.apache.batik - this is inconsistent with the previous\n1.6/1.6-1 bundle, which had groupId=batik. However the mistake lies with\n1.6/1.6-1 and it is imho better to fix it now than later.", "id": 101918, "time": "2007-04-19T01:05:02Z", "creator": "bruyeron@fullsix.com", "creation_time": "2007-04-19T01:05:02Z", "is_private": false}, {"attachment_id": 19996, "tags": [], "creator": "bruyeron@fullsix.com", "text": "Created attachment 19996\npatch to build process + pom template file\n\n\nThis patch adds a \"mvnbundle\" and \"clean-mvnbundle\" targets to the build\nprocess.\nIt produces a batik-all-VERSION-bundle.jar", "count": 1, "id": 101919, "time": "2007-04-19T01:21:07Z", "bug_id": 42168, "creation_time": "2007-04-19T01:21:07Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 42168, "attachment_id": null, "text": "\nThe pom-all.xml can be used as a template to do the pom files for the subjars if\none is interested in having maven artifacts for the batik subcomponents (like it\nwas done for 1.6). I don't really care myself so I'll let someone else provide a\npatch if there is a want for it :-)\n\nThe hard part is figuring out the dependencies *between* the different batik jars...\n\nNote that I put an optional dependency on FOP even though it does not exist in\nthe official maven2 repo: I guess it's up to the FOP project to do the same thing.\n", "id": 101920, "time": "2007-04-19T01:25:51Z", "creator": "bruyeron@fullsix.com", "creation_time": "2007-04-19T01:25:51Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 42168, "attachment_id": 19997, "text": "Created attachment 19997\ncorrect small mistake on FOP groupId\n\n\ngroupId for FOP should be org.apache.fop", "id": 101921, "time": "2007-04-19T01:27:51Z", "creator": "bruyeron@fullsix.com", "creation_time": "2007-04-19T01:27:51Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 42168, "is_private": false, "text": "\nThe new maven2 upload process requires a public URL for the bundle (see link\nabove): would it be possible to host the bundle for the next releases somewhere\non http://xmlgraphics.apache.org/batik/ ?", "id": 101922, "time": "2007-04-19T01:29:52Z", "creator": "bruyeron@fullsix.com", "creation_time": "2007-04-19T01:29:52Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 42168, "attachment_id": null, "text": "Hi Renaud.\n\nThanks for supplying the build target and all-in-one pom file.  I did plan to\nfigure out the maven stuff, but got distracted with other things.\n\n> The hard part is figuring out the dependencies *between* the different batik\n> jars...\n\nIf I were to compute the dependencies (they'll be different from the diagram\nthat's currently on the website), would you be able to supply pom files for each\nof the artifacts?\n\n> The new maven2 upload process requires a public URL for the bundle (see link\n> above): would it be possible to host the bundle for the next releases\n> somewhere on http://xmlgraphics.apache.org/batik/ ?\n\nPossibly.  Do you have a pointer to this upload process so I can read up on it?\n\nThanks,\n\nCameron", "id": 101962, "time": "2007-04-19T17:17:21Z", "creator": "cam@apache.org", "creation_time": "2007-04-19T17:17:21Z", "is_private": false}, {"count": 6, "tags": [], "text": "\nCameron,\n\nthe bundle layout is described here:\nhttp://maven.apache.org/guides/mini/guide-ibiblio-upload.html\n\nThe JIRA used to request uploads to the repositories is there:\nhttp://jira.codehaus.org/browse/MAVENUPLOAD\n\nIf you try to create a new task, you'll notice that there is a \"Bundle URL\"\nfield which is not optional. They have scripts that automates the download of\nthe bundle, verifying its content, etc. They prefer if that public URL is on the\nsite of the project, which is the reason why I was asking if it was possible to\nhost the bundles on http://xmlgraphics.apache.org/batik/\n\nI since then found out that there is a better process in place for apache\nprojects: http://www.apache.org/dev/release-publishing.html#maven-repo\nIt looks quite involved but can be automated fairly easily.", "is_private": false, "bug_id": 42168, "id": 101976, "time": "2007-04-20T00:01:59Z", "creator": "bruyeron@fullsix.com", "creation_time": "2007-04-20T00:01:59Z", "attachment_id": null}, {"count": 7, "tags": [], "creator": "bruyeron@fullsix.com", "text": "\nTo answer your initial question: yes, if you provide a dependency graph, I can\nhelp you with the poms for the subjars.", "id": 101977, "time": "2007-04-20T00:02:56Z", "bug_id": 42168, "creation_time": "2007-04-20T00:02:56Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 42168, "attachment_id": null, "text": "Build file now generates maven artifacts (ant target is \"maven-artifacts\").", "id": 111390, "time": "2007-12-03T22:02:29Z", "creator": "cam@apache.org", "creation_time": "2007-12-03T22:02:29Z", "is_private": false}]