[{"count": 0, "tags": [], "creator": "mcross@endeca.com", "attachment_id": null, "id": 88170, "time": "2006-04-17T18:45:09Z", "bug_id": 39326, "creation_time": "2006-04-17T18:45:09Z", "is_private": false, "text": "I have a web application that uses RMI.  This application works fine\nwhen my app is either deployed in exploded form or when I deploy as a WAR\nbut set unpackWars=\"false\".\n\nWhen I set unpackWars=\"true\" I get EOFException each time I call\nNaming.lookup(url) (where url is something like //localhost:9222/FooObject)"}, {"count": 1, "tags": [], "bug_id": 39326, "attachment_id": null, "text": "Stack trace?  JDK version?\n\nAlso downgrading from critical, as you noted alternative deployments work.", "id": 88200, "time": "2006-04-18T13:10:30Z", "creator": "yoavs@computer.org", "creation_time": "2006-04-18T13:10:30Z", "is_private": false}, {"count": 2, "tags": [], "text": "JDK 1.5.0_06\nStack trace on it's way...", "attachment_id": null, "id": 88202, "creator": "mcross@endeca.com", "time": "2006-04-18T13:12:34Z", "bug_id": 39326, "creation_time": "2006-04-18T13:12:34Z", "is_private": false}, {"count": 3, "tags": [], "text": "com.endeca.esf.EsfException: Error connecting \nto //localhost:9222/ComponentFactory: error unmarshalling return; nested \nexception is: \n\tjava.io.EOFException\n\tat com.endeca.esf.framework.RemoteLookup.lookupComponentFactory\n(RemoteLookup.java:15)\n\tat \ncom.endeca.esf.framework.builder.ApplicationBuilder.getRemoteComponentFactory\n(ApplicationBuilder.java:90)\n\tat com.endeca.esf.framework.builder.ApplicationBuilder.processComponent\n(ApplicationBuilder.java:74)\n\tat \ncom.endeca.esf.framework.builder.ApplicationBuilder.buildApplicationImpl\n(ApplicationBuilder.java:57)\n\tat com.endeca.esf.framework.builder.ApplicationBuilder.buildApplication\n(ApplicationBuilder.java:35)\n\tat \ncom.endeca.esf.service.ProvisioningPortSOAPBindingImpl.createApplicationFromSpe\nc(ProvisioningPortSOAPBindingImpl.java:50)\n\tat \ncom.endeca.esf.service.ProvisioningPortSOAPBindingImpl.defineApplication\n(ProvisioningPortSOAPBindingImpl.java:33)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.axis.providers.java.RPCProvider.invokeMethod\n(RPCProvider.java:388)\n\tat org.apache.axis.providers.java.RPCProvider.processMessage\n(RPCProvider.java:283)\n\tat org.apache.axis.providers.java.JavaProvider.invoke\n(JavaProvider.java:323)\n\tat org.apache.axis.strategies.InvocationStrategy.visit\n(InvocationStrategy.java:32)\n\tat org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\n\tat org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\n\tat org.apache.axis.handlers.soap.SOAPService.invoke\n(SOAPService.java:453)\n\tat org.apache.axis.server.AxisServer.invoke(AxisServer.java:281)\n\tat org.apache.axis.transport.http.AxisServlet.doPost\n(AxisServlet.java:699)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:709)\n\tat org.apache.axis.transport.http.AxisServletBase.service\n(AxisServletBase.java:327)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:252)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:173)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:213)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:178)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke\n(AuthenticatorBase.java:432)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:126)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:105)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:107)\n\tat org.apache.catalina.connector.CoyoteAdapter.service\n(CoyoteAdapter.java:148)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:869)\n\tat \norg.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConn\nection(Http11BaseProtocol.java:664)\n\tat org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket\n(PoolTcpEndpoint.java:527)\n\tat org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt\n(LeaderFollowerWorkerThread.java:80)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:684)\n\tat java.lang.Thread.run(Thread.java:595)\nCaused by: java.rmi.UnmarshalException: error unmarshalling return; nested \nexception is: \n\tjava.io.EOFException\n\tat sun.rmi.registry.RegistryImpl_Stub.lookup(Unknown Source)\n\tat java.rmi.Naming.lookup(Naming.java:84)\n\tat com.endeca.esf.framework.RemoteLookup.lookupComponentFactory\n(RemoteLookup.java:13)\n\t... 37 more\nCaused by: java.io.EOFException\n\tat java.io.ObjectInputStream$BlockDataInputStream.peekByte\n(ObjectInputStream.java:2502)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1267)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:339)\n\tat sun.rmi.server.MarshalInputStream.readLocation\n(MarshalInputStream.java:285)\n\tat sun.rmi.server.MarshalInputStream.resolveProxyClass\n(MarshalInputStream.java:228)\n\tat java.io.ObjectInputStream.readProxyDesc(ObjectInputStream.java:1494)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1457)\n\tat java.io.ObjectInputStream.readOrdinaryObject\n(ObjectInputStream.java:1693)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1299)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:339)\n\t... 40 more\nApr 17, 2006 3:12:04 PM com.endeca.esf.service.ComponentImpl severe\nSEVERE: 'Define application' request encountered an error for \napplication 'agidx'\ncom.endeca.esf.EsfException: Error connecting \nto //localhost:9222/ComponentFactory: error unmarshalling return; nested \nexception is: \n\tjava.io.EOFException\n\tat com.endeca.esf.framework.RemoteLookup.lookupComponentFactory\n(RemoteLookup.java:15)\n\tat \ncom.endeca.esf.framework.builder.ApplicationBuilder.getRemoteComponentFactory\n(ApplicationBuilder.java:90)\n\tat com.endeca.esf.framework.builder.ApplicationBuilder.processComponent\n(ApplicationBuilder.java:74)\n\tat \ncom.endeca.esf.framework.builder.ApplicationBuilder.buildApplicationImpl\n(ApplicationBuilder.java:57)\n\tat com.endeca.esf.framework.builder.ApplicationBuilder.buildApplication\n(ApplicationBuilder.java:35)\n\tat \ncom.endeca.esf.service.ProvisioningPortSOAPBindingImpl.createApplicationFromSpe\nc(ProvisioningPortSOAPBindingImpl.java:50)\n\tat \ncom.endeca.esf.service.ProvisioningPortSOAPBindingImpl.defineApplication\n(ProvisioningPortSOAPBindingImpl.java:33)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.axis.providers.java.RPCProvider.invokeMethod\n(RPCProvider.java:388)\n\tat org.apache.axis.providers.java.RPCProvider.processMessage\n(RPCProvider.java:283)\n\tat org.apache.axis.providers.java.JavaProvider.invoke\n(JavaProvider.java:323)\n\tat org.apache.axis.strategies.InvocationStrategy.visit\n(InvocationStrategy.java:32)\n\tat org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\n\tat org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\n\tat org.apache.axis.handlers.soap.SOAPService.invoke\n(SOAPService.java:453)\n\tat org.apache.axis.server.AxisServer.invoke(AxisServer.java:281)\n\tat org.apache.axis.transport.http.AxisServlet.doPost\n(AxisServlet.java:699)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:709)\n\tat org.apache.axis.transport.http.AxisServletBase.service\n(AxisServletBase.java:327)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:252)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:173)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:213)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:178)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke\n(AuthenticatorBase.java:432)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:126)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:105)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:107)\n\tat org.apache.catalina.connector.CoyoteAdapter.service\n(CoyoteAdapter.java:148)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:869)\n\tat \norg.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConn\nection(Http11BaseProtocol.java:664)\n\tat org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket\n(PoolTcpEndpoint.java:527)\n\tat org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt\n(LeaderFollowerWorkerThread.java:80)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:684)\n\tat java.lang.Thread.run(Thread.java:595)\nCaused by: java.rmi.UnmarshalException: error unmarshalling return; nested \nexception is: \n\tjava.io.EOFException\n\tat sun.rmi.registry.RegistryImpl_Stub.lookup(Unknown Source)\n\tat java.rmi.Naming.lookup(Naming.java:84)\n\tat com.endeca.esf.framework.RemoteLookup.lookupComponentFactory\n(RemoteLookup.java:13)\n\t... 37 more\nCaused by: java.io.EOFException\n\tat java.io.ObjectInputStream$BlockDataInputStream.peekByte\n(ObjectInputStream.java:2502)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1267)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:339)\n\tat sun.rmi.server.MarshalInputStream.readLocation\n(MarshalInputStream.java:285)\n\tat sun.rmi.server.MarshalInputStream.resolveProxyClass\n(MarshalInputStream.java:228)\n\tat java.io.ObjectInputStream.readProxyDesc(ObjectInputStream.java:1494)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1457)\n\tat java.io.ObjectInputStream.readOrdinaryObject\n(ObjectInputStream.java:1693)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1299)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:339)\n\t... 40 more", "attachment_id": null, "id": 88204, "creation_time": "2006-04-18T13:15:04Z", "time": "2006-04-18T13:15:04Z", "creator": "mcross@endeca.com", "bug_id": 39326, "is_private": false}, {"count": 4, "tags": [], "bug_id": 39326, "attachment_id": null, "text": "Again this seems to only affect RMI and only happens when you have a war file \nthat tomcat unpacks but this happens to be the way most of our apps are \ndeployed.", "id": 88205, "time": "2006-04-18T13:17:08Z", "creator": "mcross@endeca.com", "creation_time": "2006-04-18T13:17:08Z", "is_private": false}, {"count": 5, "tags": [], "text": "Understood.  Any chance of a simpler test app to show this?  We don't have\naccess to the com.endeca classes, and I don't particularly feel like setting up\na test Axis server either... Maybe a one-class webapp that just tests\nmarshalling / unmarshalling via RMI?", "is_private": false, "id": 88206, "creator": "yoavs@computer.org", "time": "2006-04-18T13:26:20Z", "bug_id": 39326, "creation_time": "2006-04-18T13:26:20Z", "attachment_id": null}, {"count": 6, "tags": [], "creator": "mcross@endeca.com", "attachment_id": null, "id": 88209, "time": "2006-04-18T13:31:30Z", "bug_id": 39326, "creation_time": "2006-04-18T13:31:30Z", "is_private": false, "text": "I'll try to write you a sample app.  If you get to it first simply ignore the \nendeca and axis stuff.  Just try to make an RMI request from a servlet."}, {"count": 7, "tags": [], "creator": "yoavs@computer.org", "text": "The chances of me getting to it first are nil ;)", "id": 88210, "time": "2006-04-18T13:37:53Z", "bug_id": 39326, "creation_time": "2006-04-18T13:37:53Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 39326, "text": "Ping?  Still the case with Tomcat 5.5.20?", "id": 97247, "time": "2006-12-24T19:05:15Z", "creator": "yoavs@computer.org", "creation_time": "2006-12-24T19:05:15Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "creator": "markt@apache.org", "text": "I can't repeat this with the latest trunk (with a 1.6 JVM) or with the latest 5.5.x (with a 1.5 JVM).", "id": 128600, "time": "2009-07-07T11:56:20Z", "bug_id": 39326, "creation_time": "2009-07-07T11:56:20Z", "is_private": false, "attachment_id": null}]