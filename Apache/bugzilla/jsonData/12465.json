[{"count": 0, "tags": [], "creator": "zacjacobson@hotmail.com", "attachment_id": null, "id": 22564, "time": "2002-09-10T00:07:34Z", "bug_id": 12465, "creation_time": "2002-09-10T00:07:34Z", "is_private": false, "text": "I am using org.apache.ajp.tomcat4.Ajp13Connector to connect Apache 1.3.36 to\nTomcat 4.04 (I can't get jk2 to work with Apache1.3, the module can't find some\nAPR stuff)\n\nEverything is on RedHat 7.3 (kernel 2.4).\n\nI turned on the RequestDumperValve to see what was being passed in, and here is\nwhat I see (trimmed down for brevity):\n\nRequestDumperValve[localhost]:        contextPath=\nRequestDumperValve[localhost]:             header=accept-language=en-ca,\nen-gb;q=0.83, en-us;q=0.66, en;q=0.50, fr-ca;q=0.33, fr;q=0.16\nRequestDumperValve[localhost]:             locale=en_US\n...\n\nBut in my servlet when I call request.getLocales() I get only \"en_US\", the\naccept-language header does not seem to be consulted.\n\nI don't have an issue when I use the HttpConnector, the accept-language header\nis returned to me from request.getLocales()\n\nThis is similar to Bug 6832 which is marked as fixed. Could this be an Apache\n1.3.x problem?"}, {"count": 1, "tags": [], "creator": "zacjacobson@hotmail.com", "text": "I just checked Tomcat 4.0.6, and this bug is not present there, i.e.\nrequest.getLocales() returns a list matching that in the accept-language header.\n\nCheers.\nZac", "id": 25499, "time": "2002-11-01T22:43:28Z", "bug_id": 12465, "creation_time": "2002-11-01T22:43:28Z", "is_private": false, "attachment_id": null}]