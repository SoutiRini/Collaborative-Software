[{"count": 0, "tags": [], "text": "Created attachment 35690\nFix for editing headers from mod_auth_basic in mod_headers\n\nHi!\n\nWhen using a directive like\n\n    \"Header always edit WWW-Authenticate ^Basic SR_Basic\"\n\nin the apache configuration to fine tune mod_auth_basic functionality, mod_headers doesn't change this header as expected.\n\nI traced that apache adds the \"WWW-Authenticate\" header in mod_auth_basic.c (to r->err_headers_out) and afterwards handles the \"Header\" directive in mod_headers.c which unfortunately operates on a different copy of r->err_headers_out in mod_headers.c:ap_headers_error_filter().\n\nWhen adding a second do_headers_fixup() to ap_headers_error_filter() as done in ap_headers_output_filter() to operate on r->headers_out also, the problem is gone.\n\nSome context with a similar problem description at:\n\nhttps://stackoverflow.com/questions/46220113/remove-www-authenticate-header\n\nI'm attaching a patch that fixed it for me.\n\nThanks!\n\nRoland", "attachment_id": 35690, "id": 203382, "creator": "rr@antcom.de", "time": "2018-01-20T08:11:55Z", "bug_id": 62025, "creation_time": "2018-01-20T08:11:55Z", "is_private": false}]