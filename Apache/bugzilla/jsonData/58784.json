[{"count": 0, "tags": [], "bug_id": 58784, "attachment_id": 33386, "id": 187259, "time": "2015-12-30T15:13:28Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2015-12-30T15:13:28Z", "is_private": false, "text": "Created attachment 33386\nUse invokeLater instead of invokeAndWait\n\nThe usage of invokeAndWait in runSafe will slow down the samplers in gui mode, when listeners are used.\n\nWhen running with 1000 threads in 500 loops using just a simple java sampler (0ms wait) and a Summary Report the version with invokeAndWait will do about 30.000 req/s and the one with invokeLater around 100.000 req/s. (Tested on my ubunutu notebook with local X).\n\nWhen run over remote X the version with invokeAndWait can perform a lot worse, due to heavy lock contention.\n\nThe proposed patch ignores the potentially thrown exceptions, as they are probably ignored by the other usages of invokeLater in other parts of jmeter code."}, {"count": 1, "tags": [], "text": "Created attachment 33390\nUse invokeLater instead of invokeAndWait everywhere except in proxycontrol\n\nAs pointed out by Phillip, the proxy control has problems when runSafe is asynchronous. So leave runSafe synchronous per default, but add a version which is configurable, whether it should do the runnable synchronously or asynchronously.", "attachment_id": 33390, "id": 187301, "creator": "felix.schumacher@internetallee.de", "time": "2016-01-01T12:41:35Z", "bug_id": 58784, "creation_time": "2016-01-01T12:41:35Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 58784, "attachment_id": null, "id": 187302, "time": "2016-01-01T12:53:59Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2016-01-01T12:53:59Z", "is_private": false, "text": "Date: Fri Jan  1 12:51:20 2016\nNew Revision: 1722493\n\nURL: http://svn.apache.org/viewvc?rev=1722493&view=rev\nLog:\nMake JMeterUtils#runSafe sync/async awt invocation configurable and\nchange the visualizers to use the async version.\n\nBugzilla Id: 58784\n\nModified:\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/AssertionVisualizer.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/ComparisonVisualizer.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/DistributionGraphVisualizer.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/GraphVisualizer.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/MailerVisualizer.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/RespTimeGraphVisualizer.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/SplineVisualizer.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/StatGraphVisualizer.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/StatVisualizer.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/SummaryReport.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/TableVisualizer.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/ViewResultsFullVisualizer.java\n    jmeter/trunk/src/core/org/apache/jmeter/util/JMeterUtils.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/ProxyControl.java\n    jmeter/trunk/xdocs/changes.xml"}, {"count": 3, "attachment_id": null, "bug_id": 58784, "is_private": false, "id": 187313, "time": "2016-01-01T19:23:58Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2016-01-01T19:23:58Z", "tags": [], "text": "Date: Fri Jan  1 19:21:40 2016\nNew Revision: 1722543\n\nURL: http://svn.apache.org/viewvc?rev=1722543&view=rev\nLog:\nCorrect (flip) sync/async usage of JMeterUtils#runSafe as noted by pmouawad.\n\nFollowup to r1722493\n\nBugzilla Id: 58784"}]