[{"count": 0, "attachment_id": null, "bug_id": 45147, "text": "Conversion pattern used - %d{yy-MM-dd HH:mm:ss}[%c{1}][%t][%L][%p]- %m%n\n\nlog output - 08-06-06 10:38:32[<class name>][Thread-31][?][INFO]- <Exception messsage>\n\nNote that the line number in the log output is printed as \"?\". What is the reason for this?", "id": 117423, "time": "2008-06-05T23:18:32Z", "creator": "sivaramans@huawei.com", "creation_time": "2008-06-05T23:18:32Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 45147, "text": "Possibly either class file was compiled without debug information or an AsyncAppender was used without setting locationInfo to true.  \n\nHowever, the current approach depends on parsing the output of Throwable.printStackTrace and is susceptible to formatting issues.  There is an open enhancement request (Bug 45039) to use Throwable.getStackTrace() when running on JDK 1.4 and later.  If you think you are running into this type of issue, it would be helpful if you could single step through the LocationInformation constructor and report where the constructor bails out of parsing the output of printStackTrace. ", "id": 117439, "time": "2008-06-06T09:49:25Z", "creator": "carnold@apache.org", "creation_time": "2008-06-06T09:49:25Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "sivaramans@huawei.com", "attachment_id": null, "text": "The following is my log4j properties file.\n\nlog4j.rootLogger=DEBUG,R\nlog4j.appender.R=org.apache.log4j.RollingFileAppender\nlog4j.appender.R.File=<filePath>\nlog4j.appender.R.MaxFileSize=<fileSize>\nlog4j.appender.R.MaxBackupIndex=<No.OfBackups>\nlog4j.appender.R.layout=org.apache.log4j.PatternLayout \nlog4j.appender.R.layout.ConversionPattern=%d{yy-MM-dd HH:mm:ss}[%c{1}][%t][%L][%p]- %m%n\n\nThe line number is displayed, if i launch the application from Eclipse. But, if i generate a build and launch the application, i get this problem with the line number.", "id": 117491, "time": "2008-06-08T21:34:52Z", "bug_id": 45147, "creation_time": "2008-06-08T21:34:52Z", "is_private": false}, {"count": 3, "tags": [], "creator": "carnold@apache.org", "text": "> But, if i generate a build and launch the application, i get this problem with the line number.\n\nSounds very much like you may have built your application without debugging info and there is no line numbers within the class file for log4j to extract.  If you are compiling with Sun's javac, did you specify -g to add debugging info?  If you build some other manner, did you specify that you wanted debugging information added to the class files.", "id": 117499, "time": "2008-06-09T02:31:56Z", "bug_id": 45147, "creation_time": "2008-06-09T02:31:56Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "sivaramans@huawei.com", "is_private": false, "text": "I am using ANT script for compilation. I have added debug=\"ON\" and this solved my problem. The doubt here is, won't javac, by default adds the line number information to the class file (http://java.sun.com/j2se/1.5.0/docs/tooldocs/windows/javac.html)\n\nAnyway, thanks for the hint. I have fixed my problem. I am moving the bug to invalid state, since this has no relevance with the malfunctioning of log4j.", "id": 117505, "time": "2008-06-09T03:38:45Z", "bug_id": 45147, "creation_time": "2008-06-09T03:38:45Z", "attachment_id": null}]