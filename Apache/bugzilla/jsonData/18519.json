[{"count": 0, "tags": [], "creator": "bruno@wolff.to", "attachment_id": null, "id": 34177, "time": "2003-03-31T14:02:54Z", "bug_id": 18519, "creation_time": "2003-03-31T14:02:54Z", "is_private": false, "text": "I got the following log message when trying to start apache with\nthis morning's (and last night's) 2.1:\n[crit] (1)Operation not permitted: apr_proc_detach failed\nI am running httpd with the -DNO_DETACH option and am using the\nprefork MPM.\nI got a copy of 2.1 CVS from 3/27 (though I didn't try to figure out\nthe latest time that still worked) and that source seems to work\nproperly for me."}, {"count": 1, "tags": [], "bug_id": 18519, "is_private": false, "id": 38114, "attachment_id": null, "creator": "bruno@wolff.to", "creation_time": "2003-05-31T14:41:14Z", "time": "2003-05-31T14:41:14Z", "text": "This is still a problem as of yesterday (2003-05-30).\nIs -DNO_DETACH an unsupported option for the prefork MPM?"}, {"count": 2, "tags": [], "text": "I easily duplicated the problem on FreeBSD 5 today.  I tried 20030327 and\n20021231 trees as well, and they both had the same problem.\n\nI think the the fix is to ignore setsid() failure, or at least ignore it if it\nfailed because the current process is already the leader of a process group\n\nA temporary solution for now is to remove the error checking for setsid() in\nfile srclib/apr/threadproc/unix/procsup.c, function apr_proc_detach().\n", "is_private": false, "id": 38117, "creation_time": "2003-06-01T00:30:50Z", "time": "2003-06-01T00:30:50Z", "creator": "trawick@apache.org", "bug_id": 18519, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 18519, "attachment_id": null, "text": "Thanks for the suggestion. I didn't really know what to look for\nand wasn't expecting such a simple fix. Commenting out the return\nsolved my immediate problem and I am now running a current version\nof 2.1.", "id": 38118, "time": "2003-06-01T06:11:55Z", "creator": "bruno@wolff.to", "creation_time": "2003-06-01T06:11:55Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 18519, "attachment_id": null, "id": 38165, "time": "2003-06-02T12:52:22Z", "creator": "trawick@apache.org", "creation_time": "2003-06-02T12:52:22Z", "is_private": false, "text": "apr_proc_detach() has been changed to ignore setsid() failures\nwhen it has been told to leave the calling process in the foreground."}]