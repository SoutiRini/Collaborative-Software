[{"count": 0, "tags": [], "bug_id": 7245, "attachment_id": null, "text": "Hi, \n\nI use the JUnit Ant task with fork mode=\"on\", because I want the JUnit tests to \nrun in another VM than the build. For performance reasons (4 mins to run all \nthe tests instead of 30 mins), I use the same VM to run all the tests (this \navoid initializing the class instances with their configuration for each test).\nSo to meet these goals, I use the JUnit task with a single entry point : a test \nsuite that browses recursively in all the packages all the tests.\n\nThe problem is that I would like to use the JUnitReport task to build an HTLM \nreport. But the XMLJUnitResultFormatter makes in my case a single XML document \nwhich can't be used with the JUnitReport task because the XML doesn't have the \ntest package & class information :\n\n<testsuite name=\"org.na.tests.AllTests\" tests=\"267\" failures=\"0\" errors=\"0\" \ntime=\"215.123\">\n...\n\t<testcase name=\"testDefaultLanguage\" time=\"30.885\"/>\n\t<testcase name=\"testRetryAuthentication\" time=\"0.26\"/>\n\t<testcase name=\"testTrustedAuthentication\" time=\"0.11\"/>\n\t<testcase name=\"testTrustedExist\" time=\"0.09\"/>\n\t<testcase name=\"testTrustedSession\" time=\"0.081\"/>\n\t<testcase name=\"testActionMgrSerialization\" time=\"2.363\"/>\n\t<testcase name=\"testSessionSerialization\" time=\"0.09\"/>\n...\n</testsuite>\n\nThe solution could be to add the test package & class information in the XML \nformatter output, and to change the JunitReport task...\n\nOr an other solution might be to have the option to fork a VM just once, for \nall the tests. This would allows to use the JUnitReport the way it works now, \nand solve the performance problem.\n\nI would like to have your opinion about this problem. If you have suggestions, \nI could try to make a patch with them.\n\nThank you\nFabrice", "id": 12001, "time": "2002-03-19T14:18:53Z", "creator": "fabrice_carnet@users.sourceforge.net", "creation_time": "2002-03-19T14:18:53Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 7245, "attachment_id": null, "is_private": false, "id": 12002, "time": "2002-03-19T14:41:14Z", "creator": "sbailliez@apache.org", "creation_time": "2002-03-19T14:41:14Z", "text": "from the top of my head I don't think it is possible to get the original \nclassname of tests from a suite. (ie you could have several test1() but would \nnot be able to see where to which testcase class it belongs).\n\nSo I would say you are somewhat blocked for now.\n\nMy suggestion is a work in slow progress located in the proposal/sandbox/junit \ndirectory of Ant. It runs everything in a single VM (client) and send the \nresults step by step to the Ant vm (server) that is in charge of logging \nevents. For now it works fine if you launch it to launch both server and client \nat the same time while it would be nicer if it were able to act as a server in \none machine run any number of clients in another and send a stop command or \nsomething like that.\n"}, {"count": 2, "tags": [], "creator": "fabrice_carnet@users.sourceforge.net", "text": "To get the package & classname information of a test in a suite, could we use \nthe test.getClass().getName() (where test is junit.framework.Test) ?\n ", "id": 12004, "time": "2002-03-19T14:55:37Z", "bug_id": 7245, "creation_time": "2002-03-19T14:55:37Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "sbailliez@apache.org", "text": "Yes I think we can do this.", "id": 12222, "time": "2002-03-23T21:01:00Z", "bug_id": 7245, "creation_time": "2002-03-23T21:01:00Z", "is_private": false, "attachment_id": null}, {"text": "I think forkmode=\"once\" will solve all issues.", "tags": [], "bug_id": 7245, "attachment_id": null, "count": 4, "id": 72512, "time": "2005-03-16T17:16:46Z", "creator": "bodewig@apache.org", "creation_time": "2005-03-16T17:16:46Z", "is_private": false}]