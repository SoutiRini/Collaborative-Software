[{"count": 0, "tags": [], "creator": "jens_scheffler@hp.com", "text": "TITLE:\n<fo:marker> broke in 0.20.3rc: Error:null\nBODY:\nHi,\nwe have problems using <fo:marker> in our fo-documents. \nWe use xml+xsl->fo to generate invoices out of our billing system in pdf-\nformat. Therefore we need to have <fo:marker> to create subtotals at the end of \neach page.\n\nProblem #1:\nIn the new fop release 0.20.3rc our fo-documents are not working anymore, \nbecause we get an \"ERROR: null\" when we try to generate an invoice. In tour \ntesting we tried to use the same format for the markers like in the provided \nexamples, but in our installation, we get the same error with the \nexample \"glossary.fo\" and \"hide.fo\".\nIs there a possibility to debug the fop application more deeply?\nDo we use the wrong .jar files? We copied all the current versions which were \nsupplied in the tar-file into the $CLASSPATH directory. The marker was working \nwith release 0.20.2RC.\nThe debug output is like this:\n[DEBUG]: Input mode:\n[DEBUG]: FO\n[DEBUG]: fo input file: C:\\Temp\\FOP-02~1.TAR\\FOP-\n02~1.3RC\\docs\\examples\\markers\\glossary.fo\n[DEBUG]: Output mode:\n[DEBUG]: awt on screen\n[DEBUG]: OPTIONS\n[DEBUG]: no user configuration file is used [default]\n[DEBUG]: debug mode on\n[DEBUG]: dump configuration\n[DEBUG]: quiet mode on\n[DEBUG]: base directory: file:/C:/Temp/FOP-02~1.TAR/FOP-\n02~1.3RC/docs/examples/markers/\n[DEBUG]: using SAX parser org.apache.xerces.parsers.SAXParser\n[INFO]: building formatting object tree\n[DEBUG]: setting up fonts\n[ERROR]: null\norg.apache.fop.apps.FOPException\n        at org.apache.fop.apps.Driver.render(Driver.java:486)\n        at org.apache.fop.apps.AWTStarter.run(AWTStarter.java:116)\n        at org.apache.fop.apps.Fop.main(Fop.java:19)\n\n---------\n\njava.lang.NullPointerException\n        at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1094)\n        at org.apache.fop.apps.Driver.render(Driver.java:481)\n        at org.apache.fop.apps.AWTStarter.run(AWTStarter.java:116)\n        at org.apache.fop.apps.Fop.main(Fop.java:19)\n\n---------\n\njava.lang.NullPointerException\n        at org.apache.fop.fo.FObjMixed.addCharacters(FObjMixed.java:47)\n        at org.apache.fop.fo.FOTreeBuilder.characters(FOTreeBuilder.java:166)\n        at org.apache.xerces.parsers.SAXParser.characters(SAXParser.java:1579)\n        at org.apache.xerces.validators.common.XMLValidator.processCharacters\n(XMLValidator.java:866)\n        at org.apache.xerces.readers.UTF8Reader.scanContent\n(UTF8Reader.java:2377)\n        at \norg.apache.xerces.framework.XMLDocumentScanner$ContentDispatcher.dispatch\n(XMLDocumentScanner.java:1094)\n        at org.apache.xerces.framework.XMLDocumentScanner.parseSome\n(XMLDocumentScanner.java:381)\n        at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1081)\n        at org.apache.fop.apps.Driver.render(Driver.java:481)\n        at org.apache.fop.apps.AWTStarter.run(AWTStarter.java:116)\n        at org.apache.fop.apps.Fop.main(Fop.java:19)\n\n\nProblem #2:\nWe have a need to get a subtotal from the last page onto the top of every \ncurrent page and a subtotal on the bottom of every page. Therefore we use a \nsecond <fo:marker>. Unfortunatly we get an error for every block which is \ncontaining more than one marker, like this:\n(...)\n  <fo:block>\n    <fo:marker marker-class-name=\"marker1\">last subtotal: $100</fo:marker>\n    <fo:marker marker-class-name=\"marker2\">current subtotal: $100</fo:marker>\n    1x Potatoe washing machine................. $100\n  </fo:block>\n(...)\nThe Output is like this:\n\"fo:marker must be an initial child,and 'marker-class-name' must be unique for \nsame parent\"\nWe are pretty much sure, that we use the right syntax for the two markers, we \ntried to debug through the code and it SHOULD work. The mysterious part of our \nsecond marker-problem is, that we get an error but the content of the marker is \nshown on the resulting invoice.\n\nAny help appreciated!\nThanks!\n\nJens Scheffler", "id": 9855, "time": "2002-01-24T15:46:47Z", "bug_id": 6009, "creation_time": "2002-01-24T15:46:47Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "j3322ptm@yahoo.de", "attachment_id": null, "id": 13065, "time": "2002-04-08T21:09:26Z", "bug_id": 6009, "creation_time": "2002-04-08T21:09:26Z", "is_private": false, "text": "The fo:marker is still broken in 0.20.3.\nThe problem is that the TextState ts in the parent FObjMixed object is not\ninitialised. The fix should be to copy a line from the Block constructor."}, {"count": 2, "tags": [], "bug_id": 6009, "attachment_id": null, "id": 14261, "creation_time": "2002-04-22T09:07:45Z", "time": "2002-04-22T09:07:45Z", "creator": "j3322ptm@yahoo.de", "text": "*** Bug 6741 has been marked as a duplicate of this bug. ***", "is_private": false}, {"count": 3, "tags": [], "bug_id": 6009, "attachment_id": null, "id": 155927, "creation_time": "2012-04-01T06:49:17Z", "time": "2012-04-01T06:49:17Z", "creator": "gadams@apache.org", "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "is_private": false}]