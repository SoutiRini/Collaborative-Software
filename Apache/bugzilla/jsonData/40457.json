[{"count": 0, "tags": [], "bug_id": 40457, "text": "The junit task sets a property with the name specified by the failureproperty\nattribute if a TestCase fails for any reason.\n\nHowever if your test code extends TestSuite rather than TestCase the failure\nproperty doesn't appear to get set even when the test fails.\n\ne.g.\n\n    <target name=\"junit\">\n        <junit failureproperty=\"failed\">\n            <formatter type=\"xml\"/>\n            <batchtest todir=\"${report}\">\n                <fileset dir=\"${src}\">\n                    <include name=\"test/extends/TestCase/fails/MyTest.java\"/>\n                </fileset>\n            </batchtest>\n        </junit>\n    </target>\n\nwill set the property, \"failed\", but,\n\n    <target name=\"junit\">\n        <junit failureproperty=\"failed\">\n            <formatter type=\"xml\"/>\n            <batchtest todir=\"${report}\">\n                <fileset dir=\"${src}\">\n                    <include name=\"test/extends/TestSuite/fails/MySuite.java\"/>\n                </fileset>\n            </batchtest>\n        </junit>\n    </target>\n\nwill not set the property \"failed\".", "id": 93313, "time": "2006-09-10T22:41:54Z", "creator": "bruce@biomatters.com", "creation_time": "2006-09-10T22:41:54Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "is_private": false, "id": 120986, "attachment_id": null, "bug_id": 40457, "creation_time": "2008-09-25T07:17:46Z", "time": "2008-09-25T07:17:46Z", "text": "it may be the specific TestSuite, but with\n\npublic class ATest extends TestSuite {\n    public ATest() {\n        super(test.ATest.class);\n    }\n    public void testFail() {\n        Assert.assertTrue(false);\n    }\n}\n\nI get a failureproperty.  See the testFailurePropertyOnTest(Suite|Case) tests in http://svn.apache.org/repos/asf/ant/core/trunk/src/tests/antunit/taskdefs/optional/junit/junit-test.xml\n\nworks in trunk, at least."}]