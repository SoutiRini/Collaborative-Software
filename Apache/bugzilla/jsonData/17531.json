[{"count": 0, "tags": [], "bug_id": 17531, "text": "When the log4j properties file is changed only  added logger are taken into\naccount, removed logger are still enabled. I mean that if a logger is drop down\nfrom debug to warn it still prints debugging information after the log4j\nproperties file has been saved.\n\nThis is because in class PropertyWatchdog in doOnChange() method the\nconfiguration is not reset before reading the changed one -> Here is a\ncorrection that works fine for me:\n\n    public\n    void doOnChange() {\n        LoggerRepository hierarchy = LogManager.getLoggerRepository();\n        hierarchy.resetConfiguration();\n        new PropertyConfigurator().doConfigure(filename,hierarchy);\n    }", "id": 32162, "time": "2003-02-28T16:08:54Z", "creator": "eric.chastan@netcelo.com", "creation_time": "2003-02-28T16:08:54Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 17531, "text": "Thanx! Was just about to submit the exact same change.\nAltough there is an abbreviation availabel:\n\n    public void doOnChange() {\n        LogManager.resetConfiguration();\n        new PropertyConfigurator().doConfigure(filename,\n                LogManager.getLoggerRepository());\n    }\n\nThe same improvement also applies to the DOMConfigurator.", "id": 46663, "time": "2003-11-03T11:34:43Z", "creator": "tumblin.dice@stones.com", "creation_time": "2003-11-03T11:34:43Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 17531, "text": "The \"additive\" nature of configuration application, as you describe it, is \nactually considered a feature.  For 1.3 we are looking to add a \"reset\" option \nin the configuration file.  Leaving this open until this feature is added to \nv1.3 code.", "id": 76918, "time": "2005-07-01T23:01:42Z", "creator": "mwomack@apache.org", "creation_time": "2005-07-01T23:01:42Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "genman@noderunner.net", "text": "Fix added to 1.3, SVN trunk.\n\nDTD modified to include attribute \"reset\" for <configuration>, default value is\n\"false\"; \"true\" resets the repository.", "count": 3, "id": 98546, "time": "2007-01-25T23:40:39Z", "bug_id": 17531, "creation_time": "2007-01-25T23:40:39Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "genman@noderunner.net", "text": "For properties files, use the analogous \"log4j.reset\", default is false.", "count": 4, "id": 98573, "time": "2007-01-26T14:23:21Z", "bug_id": 17531, "creation_time": "2007-01-26T14:23:21Z", "is_private": false}, {"count": 5, "tags": [], "creator": "carnold@apache.org", "attachment_id": null, "text": "Changes committed by Elias Ross in rev 500169 and rev 500384", "id": 98771, "time": "2007-01-30T10:29:47Z", "bug_id": 17531, "creation_time": "2007-01-30T10:29:47Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 17531, "text": "Committed against log4j 1.2 branch in rev 568750 and against extras companion in 568753.", "id": 107053, "time": "2007-08-22T14:20:45Z", "creator": "carnold@apache.org", "creation_time": "2007-08-22T14:20:45Z", "is_private": false, "attachment_id": null}]