[{"count": 0, "tags": [], "bug_id": 33913, "attachment_id": null, "is_private": false, "id": 72005, "time": "2005-03-08T21:17:41Z", "creator": "lendev7492@log1.net", "creation_time": "2005-03-08T21:17:41Z", "text": "There is a problem with image drawers and local link drawers in\nkupu, which shows up when accessing externally  mod_rewrite, but not when\naccessing the site directly and locally through port 8080. \n\nthe problem relates to two files in the directory:\n./lenya/lenya/resources/kupu/apache-lenya/lenya/drawers\n\nthere are imagedrawer.xsl  and linkdrawer.xsl    \n\nboth these have a line in the xsl:\n  <xsl:import\nhref=\"${parameters.getParameter('import-stylesheet-url')}\"/>\n\n\nwhich when resolved by the xsl engine become:\n<xsl:import\nhref=\"http://mytestsite:8080/lenya/kupu/common/kupudrawers/drawer.xsl\"/>\n\nthe xsl arrives on the browser like that and so it can never see the file\ndrawer.xsl through mod_rewrite and not at all if port 8080 or the\napplication server cannot be seen from the outside world."}, {"count": 1, "text": "(In reply to comment #0)\n\n> both these have a line in the xsl:\n>   <xsl:import\n> href=\"${parameters.getParameter('import-stylesheet-url')}\"/>\n\ncan you try replacing it with <xsl:import\nhref=\"../../common/kupudrawers/drawer.xsl\"/>", "bug_id": 33913, "attachment_id": null, "id": 72036, "time": "2005-03-09T03:21:16Z", "creator": "gregor@apache.org", "creation_time": "2005-03-09T03:21:16Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 33913, "attachment_id": null, "text": "Thanks for the pointer. I tried it but unfortunately it didn't work; however I\nfiddled around a bit and found that using:\n\n<xsl:import href=\"../../../../kupu/common/kupudrawers/drawer.xsl\"/>\n\nworked for me. ", "id": 72038, "time": "2005-03-09T06:10:11Z", "creator": "lendev7492@log1.net", "creation_time": "2005-03-09T06:10:11Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 33913, "text": "(In reply to comment #2)\n> \n> <xsl:import href=\"../../../../kupu/common/kupudrawers/drawer.xsl\"/>\n> \n> worked for me. \n\nActually I find I have to use:\n<xsl:import href=\"/lenya/kupu/common/kupudrawers/drawer.xsl\"/>\n\nsince the authoring page is actually relative to the published page, while the\nlocation of the drawer is fixed, so navigating with ../.. won't work every time\nwhen your site is more than one menu level deep.\n\n\n", "id": 72040, "time": "2005-03-09T06:27:24Z", "creator": "lendev7492@log1.net", "creation_time": "2005-03-09T06:27:24Z", "is_private": false, "attachment_id": null}, {"count": 4, "text": "does not apply to 1.4 iiuc.", "bug_id": 33913, "attachment_id": null, "id": 102376, "time": "2007-04-25T10:21:53Z", "creator": "nettings@apache.org", "creation_time": "2007-04-25T10:21:53Z", "tags": [], "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 33913, "is_private": false, "id": 138386, "time": "2010-07-13T11:31:52Z", "creator": "rfrovarp@apache.org", "creation_time": "2010-07-13T11:31:52Z", "tags": [], "text": "Kupu will not be supported in future versions."}]