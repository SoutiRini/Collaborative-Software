[{"count": 0, "tags": [], "bug_id": 57956, "text": "There is a reference in the jmeter.properties file:\n\n# define a properties file for overriding Apache HttpClient parameters\n# See: TBA\n# Uncomment this line if you put anything in hc.parameters file\n#hc.parameters.file=hc.parameters\n\nSetup:\n\n1. HttpClient4 used in script.\n\n2. In jmeter.properties, uncomment the line:\n\n     #hc.parameters.file=hc.parameters\n\n3. In the file httpclient.parameters uncomment and modify:\n\n     #http.authentication.preemptive$Boolean=true\n\n   to:\n\n     http.authentication.preemptive$Boolean=false\n\n4. In user.properties, add the line:\n\n     httpclient4.retrycount=1\n\n5. In hc.parameters, uncomment and modify:\n\n     #http.connection.stalecheck$Boolean=false\n\n   to:\n\n     http.connection.stalecheck$Boolean=true\n\n\nScript is in its own project folder. JMeter bin is specified on the path.\n\nIssue:\n\nWhen script is run, the following error is written to the log file:\n\nERROR - jmeter.protocol.http.sampler.HttpClientDefaultParameters: Problem loading properties java.io.FileNotFoundException: hc.parameters (The system cannot find the file specified)\n\nWork-around:\n\nIf EITHER the hc.parameters file is copied into the folder where JMeter is started (ugly)\n\nOR the line:\n\n  hc.parameters.file=hc.parameters\n\nis added to the file user.properties (less ugly but not documented usage), the error does not occur.", "id": 183133, "attachment_id": null, "creator": "imikla@gmail.com", "creation_time": "2015-05-27T16:12:31Z", "time": "2015-05-27T16:12:31Z", "is_private": false}, {"count": 1, "tags": [], "text": "(In reply to Michael Aichlmayr from comment #0)\n\n> OR the line:\n> \n>   hc.parameters.file=hc.parameters\n> \n> is added to the file user.properties (less ugly but not documented usage),\n> the error does not occur.\n\nThat does not make sense.\nThe entries from user.properties are merged with the ones from jmeter.properties, so it does not matter where the property is defined.\nI just tried.\n\n==\n\nJMeter uses the path name to open the file.\nIf you use a relative path name then it does not currently check the home directory as well. This is not a bug.", "is_private": false, "id": 183135, "creation_time": "2015-05-27T18:36:34Z", "time": "2015-05-27T18:36:34Z", "creator": "sebb@apache.org", "bug_id": 57956, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 57956, "text": "It does not make sense at first look but I reproduce the bug.", "id": 183136, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2015-05-27T18:38:28Z", "time": "2015-05-27T18:38:28Z", "is_private": false}, {"count": 3, "tags": [], "text": "OK. I have made a fresh installation of JMeter and I believe I have resolved the problem, but there is still appears to be an issue, so I am not going to mark this resolved yet.\n\nIt turns out that I didn't uncomment the line in jmeter.properties for httpclient.parameters.file which is required because I have modified the file httpclient.parameters.\n\nBy changing (in addition to the original customizations above):\n\n  #httpclient.parameters.file=httpclient.parameters\n\nto:\n\n  httpclient.parameters.file=httpclient.parameters\n\nthe error:\n  ERROR - jmeter.protocol.http.sampler.HttpClientDefaultParameters:\n    Problem loading properties java.io.FileNotFoundException: hc.parameters\n    (The system cannot find the file specified)\n\ngoes away.\n\nSo it would appear that either the error is wrong, or uncommenting the hc.parameters.file line requires the httpclient.parameters.file line to be uncommented as well or for some reason the hc.parameters file cannot be found (doesn't make sense to me, but maybe there is a logical explanation).", "is_private": false, "bug_id": 57956, "id": 183168, "time": "2015-05-28T16:25:27Z", "creator": "imikla@gmail.com", "creation_time": "2015-05-28T16:25:27Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 183169, "time": "2015-05-28T17:52:51Z", "bug_id": 57956, "creation_time": "2015-05-28T17:52:51Z", "is_private": false, "text": "There are two different parameters files; one for Apache Commons HttpClient (property: httpclient.parameters.file) and the other for Apache HttpComponents HttpClient (property: hc.parameters.file).\n\nThe relevant file is opened when the sampler class is loaded, which will only occur if there is an instance of the relevant sampler in the test plan *and* the property is defined.\n\nIt does not make sense to edit the httpclient.parameters file, nor enable the property httpclient.parameters.file if the test plan only uses HttpClient4"}, {"count": 5, "tags": [], "bug_id": 57956, "attachment_id": null, "id": 183170, "creation_time": "2015-05-28T18:05:21Z", "time": "2015-05-28T18:05:21Z", "creator": "imikla@gmail.com", "text": "It specifically says in the jmeter.properties file, uncomment the line:\n\n#httpclient.parameters.file=httpclient.parameters\n\nif you put anything in httpclient.parameters.\n\nIt specifically says in the jmeter.properties file, uncomment the line:\n\n#hc.parameters.file=hc.parameters\n\nif you put anything in hc.parameters.\n\nIf you read my original settings, you will see that I do modify (add something to)\nboth of these files.\n\nWhen the line:\n\n  #hc.parameters.file=hc.parameters\n\nis uncommented without uncommenting the line:\n\n  #httpclient.parameters.file=httpclient.parameters\n\nJMeter reports that it cannot open hc.parameters. This makes no sense.", "is_private": false}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "text": "(In reply to Michael Aichlmayr from comment #5)\n> It specifically says in the jmeter.properties file, uncomment the line:\n> \n> #httpclient.parameters.file=httpclient.parameters\n> \n> if you put anything in httpclient.parameters.\n> \n> It specifically says in the jmeter.properties file, uncomment the line:\n> \n> #hc.parameters.file=hc.parameters\n> \n> if you put anything in hc.parameters.\n\nYes.\n\n> If you read my original settings, you will see that I do modify (add\n> something to)\n> both of these files.\n\nBut if the test only uses HttpClient4, then updating httpclient.parameters makes no sense. Nor does it make sense to enable the property httpclient.parameters.file.\nNeither action will have any effect on the test, because they only apply to the HttpClient3.1 sampler.\n\n> When the line:\n> \n>   #hc.parameters.file=hc.parameters\n> \n> is uncommented without uncommenting the line:\n> \n>   #httpclient.parameters.file=httpclient.parameters\n> \n> JMeter reports that it cannot open hc.parameters. This makes no sense.\n\nWhen I try the same test, the log shows it cannot open hc.parameters\nThis is expected because the file is in bin, not in the current directory.\n\nThis error happens regardless of the setting of httpclient.parameters.file.\n\nThe *.parameters.file properties are independent.", "id": 183176, "time": "2015-05-29T00:10:36Z", "bug_id": 57956, "creation_time": "2015-05-29T00:10:36Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "imikla@gmail.com", "text": "You are right. It does happen regardless of whether or not httpclient.parameters.file is exposed or not. When I retested, I realized that I was thrown off by the fact that the error only happens once per startup. That is, when I start JMeter, load a test-plan, and run the test-plan, the error occurs. If I run the test-plan a second time, the error does not occur. Because I was not aware of this behavior, my edit of jmeter.properties appeared to fix it when in fact it was only that the error had already occurred once.\n\nRegards settings, we have many tens of JMeter projects and try to have a base configuration that works with the majority of them. Some of the settings I reported may not make sense for what I was doing at the time that I discovered the issue I was reporting.\n\nI am puzzled that only the hc.parameters file is expected to be in the current folder when all the other files are found in bin regardless of the startup folder (at least that has been my experience). The way we use JMeter to-date is to start in a project folder so that logs and all output is relative to the project and the JMeter installation does not get polluted with run-data.", "id": 183243, "time": "2015-06-01T15:35:07Z", "bug_id": 57956, "creation_time": "2015-06-01T15:35:07Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "text": "Date: Sat Jun 13 21:17:47 2015\nNew Revision: 1685333\n\nURL: http://svn.apache.org/r1685333\nLog:\nBug 57956 - The hc.parameters reference in jmeter.properties doesn't work when JMeter is not started in bin\nBugzilla Id: 57956\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPHC3Impl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPHC4Impl.java\n    jmeter/trunk/xdocs/changes.xml\n\n\nDate: Sat Jun 13 21:32:18 2015\nNew Revision: 1685335\n\nURL: http://svn.apache.org/r1685335\nLog:\nBug 57956 - The hc.parameters reference in jmeter.properties doesn't work when JMeter is not started in bin\nRollback and fix differently.\nBugzilla Id: 57956\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPHC3Impl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPHC4Impl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HttpClientDefaultParameters.java", "is_private": false, "bug_id": 57956, "id": 183516, "time": "2015-06-13T21:33:03Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2015-06-13T21:33:03Z", "attachment_id": null}]