[{"count": 0, "tags": [], "bug_id": 25989, "is_private": false, "text": "I've encountered the following crash during a nightly restart of Apache. 2.0.48\nrunning on OpenBSD 3.3. This was after about 49 days uptime of Apache.\n\nerror.log:\n[Wed Jan 07 00:00:06 2004] [notice] Graceful restart requested, doing restart\n[Wed Jan 07 00:00:06 2004] [warn] (22)Invalid argument: connect to listener\n[Wed Jan 07 00:00:06 2004] [crit] [Wed Jan 07 00:00:06 2004] file config.c, line\n1864, assertion \"rv == APR_SUCCESS\" failed\n[Wed Jan 07 00:00:06 2004] [notice] seg fault or similar nasty error detected in\nthe parent process\n\nBacktrache from httpd.core:\n(gdb) core-file  httpd.core\nCore was generated by `httpd'.\nProgram terminated with signal 6, Abort trap.\nReading symbols from /usr/libexec/ld.so...done.\nReading symbols from /usr/lib/libssl.so.7.0...done.\nReading symbols from /usr/lib/libcrypto.so.9.0...done.\nReading symbols from /usr/local/apache2/lib/libaprutil-0.so.9.5...done.\nReading symbols from /usr/local/lib/libexpat.so.3.0...done.\nReading symbols from /usr/local/apache2/lib/libapr-0.so.9.5...done.\nReading symbols from /usr/lib/libm.so.1.0...done.\nReading symbols from /usr/lib/libpthread.so.1.0...done.\nReading symbols from /usr/lib/libc.so.29.0...done.\n#0  0x402c6fdb in _thread_sys_kill ()\n(gdb) where\n#0  0x402c6fdb in _thread_sys_kill ()\n#1  0x402c68c7 in abort ()\n#2  0x6ef29 in ap_log_assert (szExp=0x6d5cd \"rv == APR_SUCCESS\",\n    szFile=0x6a627 \"config.c\", nLine=1864) at log.c:728\n#3  0x6d710 in init_server_config (process=0xc9098, p=0xcb018) at config.c:1864\n#4  0x6d7a5 in ap_read_config (process=0xc9098, ptemp=0x11d018,\n    filename=0x705eb \"conf/httpd.conf\", conftree=0xb6b70) at config.c:1883\n#5  0x70ec0 in L112 () at main.c:631\n\n\nI know it's probably not much info, but as I still have the core file I can\nprovide any more info you want.", "id": 50253, "time": "2004-01-08T13:44:11Z", "creator": "kiza@kcore.de", "creation_time": "2004-01-08T13:44:11Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 25989, "is_private": false, "text": "I've encountered the same bug with Solaris 9 (sparc). I use a apache in a chroot\nenvironment, with the latest Solaris patches. Every time I start or stop the\napache process, I see this in my server log:\n\n[Thu Apr 15 20:42:39 2004] [crit] [Thu Apr 15 20:42:39 2004] file vhost.c, line\n189, assertion \"rv == APR_SUCCESS\" failed\nAbort - core dumped\n\nI've compiled apache with gcc 3.2.2.", "id": 55855, "time": "2004-04-15T20:58:29Z", "creator": "pgauthier@nihilisme.ca", "creation_time": "2004-04-15T20:58:29Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 25989, "is_private": false, "count": 2, "id": 55862, "time": "2004-04-15T21:31:24Z", "creator": "trawick@apache.org", "creation_time": "2004-04-15T21:31:24Z", "text": "These are definitely not the same problem.\n\nThe Solaris vhost.c issue is described in another open PR , where there is an\noutstanding request to try a test program to help isolate where the problem is.\n\nSee PR 27525, and re-open if you can try the test program mentioned there and\nreport the results.  "}, {"count": 3, "tags": [], "bug_id": 25989, "text": "Assuming this isn't totally outdated in current code, the assertion is testing a return value of apr_sockaddr_info_get.  We could perhaps insert code to give us some decent diagnostic information if/when the error happens.\n\nPlease let us know if this problem still exists in 2.2.8 or trunk, or other uptodate version.", "id": 114181, "time": "2008-03-02T19:28:11Z", "creator": "nick@webthing.com", "creation_time": "2008-03-02T19:28:11Z", "is_private": false, "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 25989, "is_private": false, "id": 114253, "time": "2008-03-04T06:27:35Z", "creator": "kiza@kcore.de", "creation_time": "2008-03-04T06:27:35Z", "tags": [], "text": "I don't have the system environment the bug occured on anymore, sorry. I've never seen this crash with the Debian Apache package. Also it is more than 4 years old so I guess this should be just closed."}, {"count": 5, "attachment_id": null, "bug_id": 25989, "is_private": false, "id": 114319, "time": "2008-03-05T20:50:00Z", "creator": "noodl@apache.org", "creation_time": "2008-03-05T20:50:00Z", "tags": [], "text": "Closed due to inability to reproduce on the part of the reporter."}]