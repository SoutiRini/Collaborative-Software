[{"count": 0, "tags": [], "creator": "chadi.bousleiman@jinnysoftware.com", "text": "Hello\n\nOnce Apache is receiving a post similar to the below\n\n192.168.49.85 - - [01/Oct/2011:00:04:35 +0300] \"POST //../ HTTP/1.1\" 403 283 \"-\" \"curl/7.15.5 (x86_64-redhat-linux-gnu) libcurl/7.15.5 OpenSSL/0.9.8b zlib/1.2.3 libidn/0.6.5\"\n\nthe \"//../\" is changed to \"/\" as if it is translating //../  and changing the // to /\n\nhence this is causing some problems in denying such requests or in redirecting \"POST //../ HTTP/1.1\" since we only need the \"POST /\"\n\n\n\n\n\nrewrite rules in httpd.conf\n\nRewriteCond  %{REQUEST_METHOD}    POST\n#RewriteCond  %{QUERY_STRING}     ^/$\nRewriteRule  ^//../$ http://hotmail.com    [P,L]\nRewriteRule  ^/$     http://google.com     [P,L]\n\n\naccess_log\n\n192.168.49.85 - - [01/Oct/2011:00:04:35 +0300] \"POST //../ HTTP/1.1\" 403 283 \"-\" \"curl/7.15.5 (x86_64-redhat-linux-gnu) libcurl/7.15.5 OpenSSL/0.9.8b zlib/1.2.3 libidn/0.6.5\"\n\nrewrite_log \n\n192.168.49.85 - - [01/Oct/2011:00:04:35 +0300] [mms.celcom.net.my/sid#8e84e88][rid#8f48448/initial] (3) applying pattern '^//../$' to uri '/'\n192.168.49.85 - - [01/Oct/2011:00:04:35 +0300] [mms.celcom.net.my/sid#8e84e88][rid#8f48448/initial] (3) applying pattern '^/$' to uri '/'\n\n\nPlease advice on the above case. is there anyway to keep the POST as it appear in the access_log while applying the RewriteCond", "id": 149989, "time": "2011-09-30T18:06:42Z", "bug_id": 51930, "creation_time": "2011-09-30T18:06:42Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "wrowe@apache.org", "text": "The behavior is correct.\n\nYou might want use RewriteCond to evaluate THE_REQUEST but be aware you are\ngoing to be comparing to \"METHOD //../... HTTP/1.1\" where METHOD is HEAD, GET,\netc...", "id": 149990, "time": "2011-09-30T18:09:49Z", "bug_id": 51930, "creation_time": "2011-09-30T18:09:49Z", "is_private": false, "attachment_id": null}]