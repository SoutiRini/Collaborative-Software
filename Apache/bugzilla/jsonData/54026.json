[{"count": 0, "attachment_id": null, "bug_id": 54026, "is_private": false, "id": 162817, "time": "2012-10-18T22:15:04Z", "creator": "dtrebbien@gmail.com", "creation_time": "2012-10-18T22:15:04Z", "tags": [], "text": "Steps to reproduce:\n\n1. Create a folder named `test' with the following:\n\n   test/\n   test/test1\n   test/subdir/\n   test/subdir/test2\n\n   (`test1' and `test2' are regular files.)\n\n2. Create a `build.xml' with the following:\n\n<project name=\"testcase\" default=\"go\" basedir=\".\">\n    <target name=\"go\">\n        <zip destfile=\"destzip.zip\">\n            <mappedresources>\n                <fileset dir=\"test\"/>\n                <globmapper from=\"subdir/*\" to=\"subdir.orig/*\"/>\n            </mappedresources>\n        </zip>\n    </target>\n</project>\n\n3. Run `ant'.\n\n\n\nActual result:\nNullPointerException thrown in org.apache.tools.ant.taskdefs.Zip.addResources.\n\n\n\nExpected result:\n`ant' finishes without error and there is a new ZIP file called `destzip.zip' in the current directory. `zip -sf destzip.zip' should print:\n\nArchive contains:\n  subdir.orig/\n  subdir.orig/test2\nTotal 2 entries\n\n\n\nTested in:\nAnt 1.8.2 and 1.8.4 on Mac OS 10.7.5.\n\n\n\nKnown work-around:\nAdd an `excludes' attribute to the <fileset> to exclude all files not matched by the \"from\" glob. For the given example, `excludes=\"test1\"'."}, {"count": 1, "attachment_id": 29496, "bug_id": 54026, "text": "Created attachment 29496\nPatch", "id": 162819, "time": "2012-10-18T23:02:07Z", "creator": "dtrebbien@gmail.com", "creation_time": "2012-10-18T23:02:07Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 54026, "is_private": false, "text": "Patch submitted, thanks", "id": 164420, "time": "2013-01-06T23:38:50Z", "creator": "antoine@apache.org", "creation_time": "2013-01-06T23:38:50Z", "attachment_id": null}]