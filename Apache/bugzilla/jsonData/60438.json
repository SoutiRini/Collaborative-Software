[{"count": 0, "tags": [], "text": "As reported in PR 235 on github, JSON Processor leaves old variables when extracting new ones. That can lead to weird behaviour in ForEach loops.\n\nThis bug can be triggered for example by the following flow:\n\n 1. JSON Processor is configured to extract all members of an array and finds the specified path in the result. It will fill the vars REF, REF_matchNr and REF_Xs\n 2. JSON Processor is still configured to extract all members, but gets an empty result to extract from. It will remove REF, but REF_matchNr and REF_Xs will be left untouched.\n\nAnother bug, that was uncovered while working on this one, was that the Processor wrongly filled REF_matchNr with \"1\" without filling REF_1 when configured to extract a random match (match number = \"0\"). The correct behaviour here seems to be to not fill REF_matchNr at all.", "is_private": false, "id": 195321, "creator": "felix.schumacher@internetallee.de", "time": "2016-12-01T19:38:47Z", "bug_id": 60438, "creation_time": "2016-12-01T19:38:47Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 60438, "attachment_id": null, "text": "Date: Thu Dec  1 18:39:36 2016\nNew Revision: 1772247\n\nURL: http://svn.apache.org/viewvc?rev=1772247&view=rev\nLog:\nClear leftover variables before extracting new ones in JSON Extractor.\nBased on a patch by Qi Chen (qi.chensh at ele.me)\n\nThis closes #235 on github.\n\nModified:\n    jmeter/trunk/src/components/org/apache/jmeter/extractor/json/jsonpath/JSONPostProcessor.java\n    jmeter/trunk/test/src/org/apache/jmeter/extractor/TestJSONPostProcessor.java\n    jmeter/trunk/xdocs/changes.xml", "id": 195322, "time": "2016-12-01T19:39:14Z", "creator": "felix.schumacher@internetallee.de", "creation_time": "2016-12-01T19:39:14Z", "is_private": false}]