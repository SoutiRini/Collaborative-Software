[{"count": 0, "tags": [], "creator": "jamie.hankins@gmail.com", "attachment_id": null, "id": 197727, "time": "2017-03-16T22:37:47Z", "bug_id": 60878, "creation_time": "2017-03-16T22:37:47Z", "is_private": false, "text": "Repro:\n1. Set CATALINA_HOME to \"C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.12\"\n2. Set CATALINA_BASE to \"C:\\ProgramData\\Tomcat\"\n3. Add file \"C:\\ProgramData\\Tomcat\\conf\\Catalina\\localhost\\host-manager.xml\" with following content:\n<Context privileged=\"true\" antiResourceLocking=\"false\"\n  docBase=\"${catalina.home}/webapps/host-manager\">\n</Context>\n4. Start Tomcat and navigate to http://localhost:8080/host-manager\n\nTomcat hits the following exception:\n>java.lang.NullPointerException\n>    at org.apache.catalina.core.ApplicationMapping.getServletMapping(ApplicationMapping.java:62)\n>    at org.apache.catalina.connector.Request.getServletMapping(Request.java:2210)\n>    at org.apache.catalina.connector.RequestFacade.getServletMapping(RequestFacade.java:1127)\n>    at org.apache.catalina.core.ApplicationHttpRequest.setRequest(ApplicationHttpRequest.java:710)\n>    at org.apache.catalina.core.ApplicationHttpRequest.<init>(ApplicationHttpRequest.java:107)\n>    at org.apache.catalina.core.ApplicationDispatcher.wrapRequest(ApplicationDispatcher.java:933)\n>    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:357)\n>    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:311)\n>    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:395)\n>    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:254)\n>    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:177)\n>    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80)\n>    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:624)\n>    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n>    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n>    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\n>    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n>    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)\n>    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1441)\n>    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n>    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n>    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n>    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n>    at java.lang.Thread.run(Thread.java:745)\n\nHere's the offending line, mappingData.pathInfo is null:\n>mapping = new MappingImpl(mappingData.pathInfo.toString().substring(1),\n>        mappingData.wrapperPath.toString() + \"/*\",\n>        mappingData.matchType, servletName);"}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 197746, "time": "2017-03-17T13:28:07Z", "bug_id": 60878, "creation_time": "2017-03-17T13:28:07Z", "text": "\n\n*** This bug has been marked as a duplicate of bug 60882 ***"}]