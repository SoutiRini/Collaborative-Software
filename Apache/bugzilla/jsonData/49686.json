[{"count": 0, "tags": [], "bug_id": 49686, "attachment_id": null, "id": 138804, "time": "2010-08-02T01:50:02Z", "creator": "feng_yu_jia@hotmail.com", "creation_time": "2010-08-02T01:50:02Z", "is_private": false, "text": "SocketConnector has the unsafe synchronization as follow. \n\npublic class SocketConnector extends IOConnector {\n...\n static int id = 0;\n\n    public synchronized NioThread getSelector() {\n        if (selector == null) {\n            String name = \"SelectorThread-\" + id++;\n            selector = new NioThread(name, true);\n        }\n\n        return selector;\n    }\n...\n}\n\nid is a static shared data, and it is not proper to use a instance lock to protect it, especially when two instance of the class are created.\n\nit would be more safer to write this instead:\n\npublic static synchronized NioThread getSelector() {\n        if (selector == null) {\n            String name = \"SelectorThread-\" + id++;\n            selector = new NioThread(name, true);\n        }\n\n        return selector;\n    }"}, {"count": 1, "tags": [], "creator": "reprogrammer@gmail.com", "attachment_id": null, "text": "This issue is an instance of <https://www.securecoding.cert.org/confluence/x/j4CBAg> and is still not fixed <http://svn.apache.org/repos/asf/!svn/bc/1435416/tomcat/trunk/modules/tomcat-lite/java/org/apache/tomcat/lite/io/SocketConnector.java>. Has anyone reviewed this issue? Is there any reason for not fixing it?", "id": 164740, "time": "2013-01-18T23:47:59Z", "bug_id": 49686, "creation_time": "2013-01-18T23:47:59Z", "is_private": false}, {"count": 2, "tags": [], "creator": "chris@christopherschultz.net", "attachment_id": null, "text": "(In reply to comment #1)\n> This issue is an instance of\n> <https://www.securecoding.cert.org/confluence/x/j4CBAg> and is still not\n> fixed\n> <http://svn.apache.org/repos/asf/!svn/bc/1435416/tomcat/trunk/modules/tomcat-\n> lite/java/org/apache/tomcat/lite/io/SocketConnector.java>. Has anyone\n> reviewed this issue? Is there any reason for not fixing it?\n\nThe reason nobody is fixing it is because Tomcat-lite has essentially been abandoned: it hasn't seen development in several years and it never had any official release.\n\nIs there any particular reason you think this ought to be fixed? Or does publicly-accessible code with a coding error just make your skin crawl?", "id": 164796, "time": "2013-01-22T17:57:23Z", "bug_id": 49686, "creation_time": "2013-01-22T17:57:23Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 49686, "attachment_id": null, "is_private": false, "id": 195108, "time": "2016-11-21T11:27:06Z", "creator": "markt@apache.org", "creation_time": "2016-11-21T11:27:06Z", "text": "Tomcat-lite is no longer being developed"}]