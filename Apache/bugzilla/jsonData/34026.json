[{"count": 0, "tags": [], "bug_id": 34026, "attachment_id": null, "id": 72467, "time": "2005-03-15T23:48:09Z", "creator": "sunlightbeach@yahoo.com", "creation_time": "2005-03-15T23:48:09Z", "is_private": false, "text": "The other appenders check layout.ignoresThrowable() before writing the stack\ntrace.  SyslogAppender does not.  As a workaround, I'm having to extend\nSyslogAppender, capture LoggingEvent and create a new LoggingEvent without the\nstack trace.\n\nSearching for: ignoresThrowable\nsrc\\java\\org\\apache\\log4j\\WriterAppender.java(294): if(layout.ignoresThrowable()) {\nsrc\\java\\org\\apache\\log4j\\net\\SMTPAppender.java(220):\nif(layout.ignoresThrowable()) {\nsrc\\java\\org\\apache\\log4j\\net\\TelnetAppender.java(90):\nif(layout.ignoresThrowable()) {\nsrc\\java\\org\\apache\\log4j\\nt\\NTEventLogAppender.java(103):\nif(layout.ignoresThrowable()) {"}, {"count": 1, "attachment_id": null, "creator": "sunlightbeach@yahoo.com", "is_private": false, "id": 72470, "time": "2005-03-16T05:54:32Z", "bug_id": 34026, "creation_time": "2005-03-16T05:54:32Z", "tags": [], "text": "I just went ahead and used your SyslogAppender code, but fixed the bug and put\nit in my own package until it gets fixed in Log4J."}, {"count": 2, "tags": [], "text": "1.2.12 candidate", "is_private": false, "bug_id": 34026, "id": 76931, "time": "2005-07-01T23:44:36Z", "creator": "mwomack@apache.org", "creation_time": "2005-07-01T23:44:36Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 34026, "attachment_id": null, "is_private": false, "id": 77065, "time": "2005-07-07T08:19:29Z", "creator": "andmov@yahoo.com", "creation_time": "2005-07-07T08:19:29Z", "text": "Please Note that other appenders check for ignoresThrowable() but they does not \nrealy ignores, for example PatternLayout ignoresThrowable() returns true and \njava doc says \"The PatternLayout does not handle the throwable contained within \nLoggingEvents. Thus, it returns true\" but appenders print stack trace.\n\nSo Line in all above mentioned appenders:\nif(layout.ignoresThrowable()) { \nshould be modified to\nif(!layout.ignoresThrowable()) { \nin order to prevent stack trace printing if it is ignored from layout\n\nWorkaround to this problem is just extend appropriate layout, override \nignoresThrowable() method, return true if stack trace must be printed and \nreturn false if not and finally use this layout in your log4j config."}, {"count": 4, "tags": [], "text": "Brought SyslogAppender in line with all the other appenders and now checks the \nignoresThrowable() method.  However, all this does is just control whether the \nappender outputs the throwable (true) or lets the layout handle it (false).  \nIf you truly do not want the throwable ever output, then you need to override \nthe layout to return false for ignoresThrowable and to then do nothing with \nthe throwable when it creates the output.\n\nLooking at the cvs head version of SyslogAppender, there were a number of \nchanges to make it RFC 3164 compatible, one of the changes to completely \nremove the output of throwables (assuming the layout doesn't do it).", "is_private": false, "id": 77820, "creation_time": "2005-07-29T05:53:44Z", "time": "2005-07-29T05:53:44Z", "creator": "mwomack@apache.org", "bug_id": 34026, "attachment_id": null}]