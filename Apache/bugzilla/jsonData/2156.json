[{"count": 0, "tags": [], "bug_id": 2156, "attachment_id": null, "id": 2943, "time": "2001-06-13T10:04:19Z", "creator": "blundberg@ebuilt.com", "creation_time": "2001-06-13T10:04:19Z", "is_private": false, "text": "When using the manager webapp to hot-deploy a war file, the url is apparently \nnot handled properly.\n\nIf the manager servlet is invoked as:\nhttp://localhost/manager/install?\npath=/a2&war=jar:file:d:/codigoxp/cxviewer.war!/\nthe application deployment descriptor is not found.\n\n\n2001-06-13 09:42:21 Manager: install: Installing web application at '/a2' \nfrom 'jar:file:d:/codigoxp/cxviewer.war!/'\n2001-06-13 09:42:21 StandardHost[localhost]: Installing web application at \ncontext path /a2 from URL jar:file:d:/codigoxp/cxviewer.war!/\n2001-06-13 09:42:21 StandardManager[/a2]: Seeding random number generator class \njava.security.SecureRandom\n2001-06-13 09:42:21 StandardManager[/a2]: Seeding of random number generator \nhas been completed\n2001-06-13 09:42:21 ContextConfig[/a2]: Missing application web.xml, using \ndefaults only\n2001-06-13 09:42:21 StandardWrapper[/a2:default]: Loading container servlet \ndefault\n2001-06-13 09:42:21 default: init\n2001-06-13 09:42:21 StandardWrapper[/a2:invoker]: Loading container servlet \ninvoker\n2001-06-13 09:42:21 invoker: init\n2001-06-13 09:42:21 StandardWrapper[/a2:jsp]: Using Jasper classloader for \nservlet jsp\n2001-06-13 09:42:21 jsp: init\n2001-06-13 09:42:21 Internal Error: File /WEB-INF/web.xml not found\n2001-06-13 09:42:21 \n\n\n\nIf the WEB-INF directory is added to the path:\nhttp://localhost/manager/install?\npath=/a2&war=jar:file:d:/codigoxp/cxviewer.war!/WEB-INF\nthe application the app is properly activated.\n\n\n2001-06-13 09:45:35 Manager: install: Installing web application at '/a3' \nfrom 'jar:file:d:/codigoxp/cxviewer.war!/WEB-INF'\n2001-06-13 09:45:35 StandardHost[localhost]: Installing web application at \ncontext path /a3 from URL jar:file:d:/codigoxp/cxviewer.war!/WEB-INF\n2001-06-13 09:45:35 StandardManager[/a3]: Seeding random number generator class \njava.security.SecureRandom\n2001-06-13 09:45:35 StandardManager[/a3]: Seeding of random number generator \nhas been completed\n2001-06-13 09:45:36 StandardWrapper[/a3:default]: Loading container servlet \ndefault\n2001-06-13 09:45:36 default: init\n2001-06-13 09:45:36 action: init\n2001-06-13 09:45:41 StandardWrapper[/a3:invoker]: Loading container servlet \ninvoker\n2001-06-13 09:45:41 invoker: init\n2001-06-13 09:45:41 _startup_: init\n2001-06-13 09:45:41 _startup_: Processing configuration file /WEB-INF/codigoxp-\nconfig.xml\n2001-06-13 09:45:42 StandardWrapper[/a3:jsp]: Using Jasper classloader for \nservlet jsp\n2001-06-13 09:45:42 jsp: init\n2001-06-13 09:45:43 StandardWrapper[/a3:ssi]: Loading container servlet ssi\n2001-06-13 09:45:43 ssi: init"}, {"count": 1, "tags": [], "bug_id": 2156, "attachment_id": null, "id": 2975, "time": "2001-06-13T19:41:33Z", "creator": "remm@apache.org", "creation_time": "2001-06-13T19:41:33Z", "is_private": false, "text": "I successfully tested with the HTML manager, with or without WAR unpacking.\nI'm using Win2k / JDK 1.3.0_02 with a Catalina build from CVS.\n\nThe WAR contains a /WEB-INF/web.xml file, which is correctly loaded.\n\nMy log contains :\n\n2001-06-13 19:32:10 StandardHost[localhost]: Installing web application at \ncontext path /foobar from URL jar:file:d:/cvs/slidedoc.war!/\n2001-06-13 19:32:11 StandardManager[/foobar]: Seeding random number generator \nclass java.security.SecureRandom\n2001-06-13 19:32:11 StandardManager[/foobar]: Seeding of random number \ngenerator has been completed\n2001-06-13 19:32:11 StandardWrapper[/foobar:default]: Loading container servlet \ndefault\n2001-06-13 19:32:11 default: init\n2001-06-13 19:32:11 StandardWrapper[/foobar:invoker]: Loading container servlet \ninvoker\n2001-06-13 19:32:11 invoker: init\n2001-06-13 19:32:11 StandardWrapper[/foobar:jsp]: Using Jasper classloader for \nservlet jsp\n2001-06-13 19:32:11 jsp: init\n2001-06-13 19:32:12 StandardWrapper[/foobar:ssi]: Loading container servlet ssi\n2001-06-13 19:32:12 ssi: init\n2001-06-13 19:32:12 StandardWrapper[/foobar:cgi]: Loading container servlet cgi\n2001-06-13 19:32:12 cgi: init\n2001-06-13 19:32:12 cgi: init: loglevel set to 6\n\n\nAs you can see in the log, I tried something very similar to what you did.\n\nNote that the URLs generated when installing is :\nhttp://127.0.0.1:8080/manager/install?path=%2Ffoobar&war=jar%3Afile%3Ad%3A%\n2Fcvs%2Fslidedoc.war%21%2F\n\nYours wasn't properly encoded, which probably wouldn't break anything here, but \nwould if the filename was containing non ascii characters."}]