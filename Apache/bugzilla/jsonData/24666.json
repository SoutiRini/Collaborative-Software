[{"count": 0, "tags": [], "creator": "glenmazza@yahoo.com", "attachment_id": null, "text": "Tom Vijlbrief has found errors with SVG containing 6-digit translates embedded \nwithin FOP 0.20.5 (<fo:instream-foreign-object>) (Problem is also relevant for \n1.0).  The SVG renders fine with Batik's squiggle application (shows a \nneighboorhood map.)  \n\n1st attachment -- SVG file (view via Squiggle).\n2nd attachment -- FO file (which has above, plus one red & one blue rectangle \nfor testing.)\n3rd attachment -- (bad) PDF result\n\nFor 0.20.5, he has proposed this change to the PDFNumber.java class, which he\nbelieves will accomodate PDFNumber receiving doubles in scientific notation \n(e.g., 1E-04).  (unsure of the validity of this.)\n\npublic class PDFNumber {\n    static java.text.DecimalFormat myFormatter = new java.text.DecimalFormat\n(\"#.########\");\n    public static String doubleOut(Double doubleDown) {\n        return doubleOut(doubleDown.doubleValue());\n    }\n    public static String doubleOut(double doubleDown) {\n        return myFormatter.format(doubleDown);\n    }\n    public static String doubleOut(double doubleDown, int dec) {\n        return doubleOut(doubleDown);\n    }\n    ... other methods in 1.0...\n}\n\nThe new class appears to fix the problem when applied to 0.20.5, however will \n*not* work with nightly build of maintenance (has a different Batik library).  \nNor will it work with 1.0, because of the (even newer) Batik library in HEAD \n(as well as perhaps other reasons, 1.0 being incomplete).\n\nAnother possible problem with the above patch is that it neutralizes the third \nmethod in the class (just calls the second method, # decimal points desired is \nignored).  I'm unsure how important the third method is to FOP.\n\n4th attachment -- PDF result from 0.20.5 modified with PDFNumber as above.  \nRenders well\n\nThomas DeWeese (Batik) commented on this problem earlier, prior to Tom \nVijlbrief's patch:\nsee http://marc.theaimsgroup.com/?l=fop-dev&m=106709286423914&w=2.\n\nWill keep this bug open for 1.0 to ensure that these types of SVG's can be \ngenerated in the new 1.0 version of FOP.  Also, the rendering is usually worse \nin Acrobat Reader 5.0 vs. AR 6.0, so recommended to make sure changes render \ncorrectly at least in AR 6.0.", "id": 47279, "time": "2003-11-12T23:19:44Z", "bug_id": 24666, "creation_time": "2003-11-12T23:19:44Z", "is_private": false}, {"count": 1, "tags": [], "creator": "glenmazza@yahoo.com", "is_private": false, "text": "Created attachment 9080\nSVG file that renders correctly w/Squiggle application.", "id": 47280, "time": "2003-11-12T23:20:43Z", "bug_id": 24666, "creation_time": "2003-11-12T23:20:43Z", "attachment_id": 9080}, {"count": 2, "tags": [], "text": "Created attachment 9081\nEquivalent FO file (does not render correctly.)", "is_private": false, "id": 47281, "creation_time": "2003-11-12T23:21:38Z", "time": "2003-11-12T23:21:38Z", "creator": "glenmazza@yahoo.com", "bug_id": 24666, "attachment_id": 9081}, {"count": 3, "tags": [], "bug_id": 24666, "attachment_id": 9082, "is_private": false, "id": 47282, "time": "2003-11-12T23:23:21Z", "creator": "glenmazza@yahoo.com", "creation_time": "2003-11-12T23:23:21Z", "text": "Created attachment 9082\n0.20.5 FOP output (1.0 very similar), before applying patch"}, {"count": 4, "tags": [], "creator": "glenmazza@yahoo.com", "is_private": false, "text": "Created attachment 9083\nResult in 0.20.5 after patch applied.", "id": 47283, "time": "2003-11-12T23:23:45Z", "bug_id": 24666, "creation_time": "2003-11-12T23:23:45Z", "attachment_id": 9083}, {"count": 5, "tags": [], "creator": "glenmazza@yahoo.com", "text": "*** Bug 23883 has been marked as a duplicate of this bug. ***", "id": 47285, "time": "2003-11-12T23:40:29Z", "bug_id": 24666, "creation_time": "2003-11-12T23:40:29Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "pascal.sancho@takoma.fr", "is_private": false, "text": "Fixed in FOP 0.94 and probably earlier versions", "id": 110774, "time": "2007-11-20T00:56:14Z", "bug_id": 24666, "creation_time": "2007-11-20T00:56:14Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 24666, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 156200, "time": "2012-04-01T07:04:17Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T07:04:17Z", "is_private": false, "attachment_id": null}]