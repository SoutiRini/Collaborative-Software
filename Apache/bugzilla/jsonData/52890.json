[{"count": 0, "tags": [], "bug_id": 52890, "attachment_id": 28452, "text": "Created attachment 28452\nFull log of ./configure --with-included-apr\n\nI have downloaded httpd-2.4.1, apr-1.4.6 and apr-1.4.1 sources packages.\nThen I have unpacked them in the same directory:\n\n  apr-1.4.6/\n  apr-util-1.4.1/\n  httpd-2.4.1/\n\nThen, in httpd-2.4.1/srclib, I have created symlinks:\n\n  apr -> ../../apr-1.4.6\n  apr-util -> ../../apr-util-1.4.1\n\nRunning ./configure --with-included-apr is working up to apr-util configuration step.\nIt fails with:\n\nchecking for APR... configure: error: the --with-apr parameter is incorrect. It must specify an install prefix, a build directory, or an apr-config file.\nconfigure failed for srclib/apr-util", "id": 154833, "time": "2012-03-12T18:19:08Z", "creator": "yann@droneaud.fr", "creation_time": "2012-03-12T18:19:08Z", "is_private": false}, {"count": 1, "tags": [], "creator": "yann@droneaud.fr", "attachment_id": 28453, "id": 154835, "time": "2012-03-12T18:21:50Z", "bug_id": 52890, "creation_time": "2012-03-12T18:21:50Z", "is_private": false, "text": "Created attachment 28453\nhttpd-2.4.1/config.log"}, {"count": 2, "tags": [], "creator": "yann@droneaud.fr", "attachment_id": 28454, "is_private": false, "id": 154836, "time": "2012-03-12T18:22:15Z", "bug_id": 52890, "creation_time": "2012-03-12T18:22:15Z", "text": "Created attachment 28454\nhttpd-2.4.1/srclib/apr/config.log"}, {"count": 3, "tags": [], "creator": "yann@droneaud.fr", "attachment_id": 28455, "id": 154837, "time": "2012-03-12T18:22:34Z", "bug_id": 52890, "creation_time": "2012-03-12T18:22:34Z", "is_private": false, "text": "Created attachment 28455\nhttpd-2.4.1/srclib/apr-util/config.log"}, {"count": 4, "tags": [], "text": "Copying the apr and apr-util sources instead of symlinking them works better.\n\nIf this problem is not fixed in the build system, a little warning should be added in httpd-2.4.1/INSTALL.", "attachment_id": null, "bug_id": 52890, "id": 154838, "time": "2012-03-12T18:24:01Z", "creator": "yann@droneaud.fr", "creation_time": "2012-03-12T18:24:01Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 52890, "attachment_id": null, "text": "You should also specify that the apr \"bundle\" should be extracted into srclib/apr. There is nothing, as least as far as I read that indicate this in the docs. I had to find out by reading this in configure:\n\nif test \"x$with_included_apr\" = \"xyes\"; then\n  apr_found=reconfig\n  if test ! -d srclib/apr && test ! -d $srcdir/srclib/apr; then\n    as_fn_error $? \"Bundled APR requested but not found at ./srclib/. Download and unpack the corresponding apr and apr-util packages to ./srclib/.\" \"$LINENO\" 5\n  fi\n\n\nNot exactly correct.", "id": 159203, "time": "2012-05-21T22:57:29Z", "creator": "carl.furst@mlb.com", "creation_time": "2012-05-21T22:57:29Z", "is_private": false}, {"count": 6, "tags": [], "creator": "inviteman3@gmail.com", "attachment_id": null, "id": 160335, "time": "2012-06-29T06:17:26Z", "bug_id": 52890, "creation_time": "2012-06-29T06:17:26Z", "is_private": false, "text": "You need to rename your apr-1.4.6 to apr and possibly your apr-util-1.4.1 to apr-util. This is because apr-util looks back to ../apr somewhere, but it doesn't exist in your case. Then recreate the symlinks."}]