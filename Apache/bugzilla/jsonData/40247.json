[{"count": 0, "tags": [], "bug_id": 40247, "is_private": false, "id": 92195, "creation_time": "2006-08-14T12:41:31Z", "time": "2006-08-14T12:41:31Z", "creator": "Christof.Engel@navigon.com", "text": "In the following example the test of file-availiable does only work inside the\nsame target, but as I think, the property should be set also outside the target.\nThe build1.building should be echoed twice, not only once as it does here:\n\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<!-- \n@author  Christof Engel\n@brief   Availiable / property / Antcall bug?\n  checkFiles should set the properties \"build1.building\" and \"build2.building\"\n  regarding to the existence of files \"build1-pc.building\" / \"build2-pc.building\".\n  But these properties are not set outside the target \"checkFiles\" as you see,\n  when the call to \"echo1\" and \"echo2\" does nothing.\n  But when checking again (inside target \"test\") and calling again echo1 and echo2\n  now the echo comes up, regarding to the file existence.\n  Bug: the properties build1.building and build2.building should also be availiable\n  outside the target \"checkFiles\"\n-->\n\n<project default=\"test\" name=\"Test\" basedir=\".\">\n\n  <property name=\"exdir\" value=\"C:/\"/>\n  \n  <target name=\"test\">\n    <echo file=\"${exdir}\\build1-pc.building\">test</echo>\n    <antcall target=\"checkFiles\"/>\n    <antcall target=\"echo1\"/>\n    <antcall target=\"echo2\"/>\n    <available file=\"${exdir}\\build1-pc.building\" property=\"build1.building\"/>\n    <available file=\"${exdir}\\build2-pc.building\" property=\"build2.building\"/>\n    <antcall target=\"echo1\"/>\n    <antcall target=\"echo2\"/>\n  </target>\n  \n  <target name=\"checkFiles\">\n    <available file=\"${exdir}\\build1-pc.building\" property=\"build1.building\"/>\n    <available file=\"${exdir}\\build2-pc.building\" property=\"build2.building\"/>\n  </target>\n  \n  <target name=\"echo1\" if=\"build1.building\">\n    <echo>property build1.building is set</echo>\n  </target>\n\n  <target name=\"echo2\" if=\"build2.building\">\n    <echo>property build2.building is set</echo>\n  </target>\n\n</project>", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 40247, "attachment_id": null, "id": 92196, "time": "2006-08-14T12:54:53Z", "creator": "carej@us.ibm.com", "creation_time": "2006-08-14T12:54:53Z", "is_private": false, "text": "Please review the manual page for antcall."}, {"count": 2, "tags": [], "bug_id": 40247, "is_private": false, "text": "the property is only set as long as the sub-project spawned is executing, i.e.\nyou cannot access any property set during the targets you run weith <antcall>\nafter that task has completed.\n\nYou want your echo targets to declare depend=\"checkFiles\" instead of using\nantcall.", "id": 92210, "time": "2006-08-14T16:27:28Z", "creator": "bodewig@apache.org", "creation_time": "2006-08-14T16:27:28Z", "attachment_id": null}]