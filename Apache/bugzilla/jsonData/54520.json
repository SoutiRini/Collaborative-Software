[{"count": 0, "tags": [], "bug_id": 54520, "attachment_id": null, "id": 165006, "time": "2013-02-02T14:20:09Z", "creator": "stevenmartin99@gmail.com", "creation_time": "2013-02-02T14:20:09Z", "is_private": false, "text": "The Documentation says that apache can be controlled from command line when NOT using a service,\n\nTo start apache type\n\nhttpd.exe  (works fine)\n\nTo stop restart etc   type\n\nhttpd.exe -k stop\nhttpd.exe -k restart\n\n\nThis does not work and fails with the error\n\n[mpm_winnt:error] [pid 4480:tid 116] (OS 2)The\n system cannot find the file specified.  : AH00436: No installed service named \"\nApache2.4\".\n\n\nI have tried this with apache 2.2.17 and 2.2.21 and it also fails pointing to a service  Apache2.2 not installed.\n\nIm not using a service and have never installed the service with this name.\nWhy is apache not checking the PID in the httpd.pid and killing that exe like it used to?"}, {"count": 1, "tags": [], "bug_id": 54520, "attachment_id": null, "id": 165007, "time": "2013-02-02T14:22:39Z", "creator": "covener@gmail.com", "creation_time": "2013-02-02T14:22:39Z", "is_private": false, "text": "Apache can't be controlled like this when not running as a service on Windows."}, {"count": 2, "tags": [], "text": "Can you quote the misleading doc?", "attachment_id": null, "id": 165008, "creator": "covener@gmail.com", "time": "2013-02-02T14:23:21Z", "bug_id": 54520, "creation_time": "2013-02-02T14:23:21Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 54520, "attachment_id": null, "id": 165009, "time": "2013-02-02T14:29:53Z", "creator": "stevenmartin99@gmail.com", "creation_time": "2013-02-02T14:29:53Z", "is_private": false, "text": "http://httpd.apache.org/docs/2.2/platform/windows.html#winsvc\n\nhttp://httpd.apache.org/docs/2.4/platform/windows.html#winsvc\n\nunder the heading\n\nRunning Apache as a Console Application"}, {"count": 4, "tags": [], "creator": "stevenmartin99@gmail.com", "attachment_id": null, "text": "sorry i see you have direct links to sections\n\nhttp://httpd.apache.org/docs/2.2/platform/windows.html#wincons\nhttp://httpd.apache.org/docs/2.4/platform/windows.html#wincons", "id": 165010, "time": "2013-02-02T14:31:21Z", "bug_id": 54520, "creation_time": "2013-02-02T14:31:21Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 54520, "attachment_id": null, "id": 165011, "time": "2013-02-02T14:35:11Z", "creator": "stevenmartin99@gmail.com", "creation_time": "2013-02-02T14:35:11Z", "is_private": false, "text": "btw i reopened this because it is valid. \n\nits always been a valid way on windows to control the console\n\n\"open a new console and run the command\""}, {"count": 6, "tags": [], "text": "Thanks for making a mess.\nNow the documentation is useless\n\nUnder the heading  \"Running Apache as a Console Application\" you added bits about Services... \n\nThis used to work in apache on windows...thats why the documentation is written as so...\n\n Please provide a link to where this feature has been removed in apache and the docs were just not changed...", "attachment_id": null, "id": 165012, "creator": "stevenmartin99@gmail.com", "time": "2013-02-02T14:46:06Z", "bug_id": 54520, "creation_time": "2013-02-02T14:46:06Z", "is_private": false}, {"count": 7, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "text": "(In reply to comment #6)\n> Thanks for making a mess.\n> Now the documentation is useless\n> \n> Under the heading  \"Running Apache as a Console Application\" you added bits\n> about Services... \n\nNo, I added entries to the section about running it as a service.  You can even see in the context of the diff the changes are preceded by \"To start an installed Apache service you'll use this:\"\n\n> \n> This used to work in apache on windows...thats why the documentation is\n> written as so...\n\nUsed to? When?\n\nThe section of the manual you pointed to says the _shortcut_ uses a service if it exists, at which point -k stop|start can be used.\n\n>  Please provide a link to where this feature has been removed in apache and\n> the docs were just not changed...\n\nI've got no idea if or when anything changed.  It sounds like some fringe feature, but if you can narrow it down I'd certainly have a look.", "id": 165013, "time": "2013-02-02T15:58:53Z", "bug_id": 54520, "creation_time": "2013-02-02T15:58:53Z", "is_private": false}, {"count": 8, "tags": [], "text": "Can you see the documentation page as I see it?\n\n\nThere is 2 SECTIONS.....  \n\nThe first is about services\n\nThe second was about runnig it as a console application until you edited it\nand started to add bits about services into it.\n\n\nIT DOESN'T SAY , \"Running Apache SERVICE FROM THE COMMANDLINE\"\nIT SAYS \"Running Apache AS A CONSOLE APPLICATION\"", "attachment_id": null, "id": 165014, "creator": "stevenmartin99@gmail.com", "time": "2013-02-02T16:12:53Z", "bug_id": 54520, "creation_time": "2013-02-02T16:12:53Z", "is_private": false}, {"count": 9, "tags": [], "creator": "stevenmartin99@gmail.com", "attachment_id": null, "text": "\n\n\nTo run Apache from the command line as a CONSOLE APPLICATION, use the following command:\n\nhttpd.exe\n\n\nYou can tell a running Apache to stop by opening another CONSOLE window and entering:\n\nhttpd.exe -k shutdown", "id": 165015, "time": "2013-02-02T16:15:25Z", "bug_id": 54520, "creation_time": "2013-02-02T16:15:25Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 54520, "attachment_id": null, "id": 165016, "time": "2013-02-02T16:16:11Z", "creator": "covener@gmail.com", "creation_time": "2013-02-02T16:16:11Z", "is_private": false, "text": "(In reply to comment #8)\n> Can you see the documentation page as I see it?\n> \n> \n> There is 2 SECTIONS.....  \n> \n> The first is about services\n> \n> The second was about runnig it as a console application until you edited it\n> and started to add bits about services into it.\n> \n> \n> IT DOESN'T SAY , \"Running Apache SERVICE FROM THE COMMANDLINE\"\n> IT SAYS \"Running Apache AS A CONSOLE APPLICATION\"\n\n\nYes, the console section talks about using the shortcut and then talks about what the shortcut does if you have a service:\n\n========\nApache will execute, and will remain running until it is stopped by pressing Control-C.\n\nYou can also run Apache via the shortcut Start Apache in Console placed to Start Menu --> Programs --> Apache HTTP Server 2.4.xx --> Control Apache Server during the installation. This will open a console window and start Apache inside it. If you don't have Apache installed as a service, the window will remain visible until you stop Apache by pressing Control-C in the console window where Apache is running in. The server will exit in a few seconds. However, if you do have Apache installed as a service, the shortcut starts the service. If the Apache service is running already, the shortcut doesn't do anything.\n\nIf Apache is running as a service, you can tell it to stop by opening another console window and entering:\n========="}, {"count": 11, "tags": [], "bug_id": 54520, "text": "(In reply to comment #9)\n> \n> \n> To run Apache from the command line as a CONSOLE APPLICATION, use the\n> following command:\n> \n> httpd.exe\n> \n> \n> You can tell a running Apache to stop by opening another CONSOLE window and\n> entering:\n> \n> httpd.exe -k shutdown\n\n\nRead it in context.", "id": 165017, "time": "2013-02-02T16:16:28Z", "creator": "covener@gmail.com", "creation_time": "2013-02-02T16:16:28Z", "is_private": false, "attachment_id": null}, {"count": 12, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "text": "You're looking at 2.2 documentation, and I'm looking at 2.4.\n\nEven in 2.2:\n\nHowever, if you do have Apache installed as a service, the shortcut starts the service. If the Apache service is running already, the shortcut doesn't do anything.\n\nYou can tell a running Apache to stop by opening another console window and entering:", "id": 165018, "time": "2013-02-02T16:17:48Z", "bug_id": 54520, "creation_time": "2013-02-02T16:17:48Z", "is_private": false}, {"count": 13, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "text": "Marking as invalid -- No service, no -k.", "id": 165019, "time": "2013-02-02T16:18:18Z", "bug_id": 54520, "creation_time": "2013-02-02T16:18:18Z", "is_private": false}, {"count": 14, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "text": "will clarify 2.2 docs", "id": 165020, "time": "2013-02-02T16:19:24Z", "bug_id": 54520, "creation_time": "2013-02-02T16:19:24Z", "is_private": false}, {"count": 15, "tags": [], "bug_id": 54520, "text": "Backported the emphasis on service in the conspole/shortcut text to 2.2 from http://svn.apache.org/viewvc?rev=1031312&view=rev\n\n\nSee https://issues.apache.org/bugzilla/show_bug.cgi?id=47325", "id": 165021, "time": "2013-02-02T16:25:57Z", "creator": "covener@gmail.com", "creation_time": "2013-02-02T16:25:57Z", "is_private": false, "attachment_id": null}, {"count": 16, "tags": [], "text": "Can i just point out , your all reading it wrong\n\nits not from a console - ITS AS A CONSOLE\n\ni just went to the trouble of downloading apache1.3 and IT WORKS\n\nto start as a console  (type)\n\napache\n\n\nto stop ( open a new cmd and type )\n\napache -k stop\n\n\nand you look in the other console window and it has stopped.\n\nIts a bug,  or else  its been removed and if so why...\n\nctrl + c   is not a solution ,  just like the original docs said", "attachment_id": null, "id": 165022, "creator": "stevenmartin99@gmail.com", "time": "2013-02-02T16:38:30Z", "bug_id": 54520, "creation_time": "2013-02-02T16:38:30Z", "is_private": false}, {"count": 17, "tags": [], "bug_id": 54520, "text": "-k is not for a service,   its used  as a reminder as kill , \n\nthis is written in the documentation....\n\n\n-n is for service name\n\n\nso \n\n -k stop -n apache2.2   should stop a service named apache2.2\n\n-k stop should stop the apache running who's PID is in the pid file", "id": 165023, "time": "2013-02-02T16:41:21Z", "creator": "stevenmartin99@gmail.com", "creation_time": "2013-02-02T16:41:21Z", "is_private": false, "attachment_id": null}, {"count": 18, "tags": [], "text": "(In reply to comment #17)\n> -k is not for a service,   its used  as a reminder as kill , \n> \n> this is written in the documentation....\n> \n> \n> -n is for service name\n> \n> \n> so \n> \n>  -k stop -n apache2.2   should stop a service named apache2.2\n> \n> -k stop should stop the apache running who's PID is in the pid file\n\n\n\nIn all the maintained releases, -k only signals a service on Windows.   \n\nI'd suggest changing this to an enhancement and updating the abstract.  It won't be resolved as a bug.", "attachment_id": null, "id": 165024, "creator": "covener@gmail.com", "time": "2013-02-02T16:46:34Z", "bug_id": 54520, "creation_time": "2013-02-02T16:46:34Z", "is_private": false}, {"count": 19, "tags": [], "bug_id": 54520, "attachment_id": null, "id": 165025, "time": "2013-02-02T16:57:22Z", "creator": "stevenmartin99@gmail.com", "creation_time": "2013-02-02T16:57:22Z", "is_private": false, "text": "It was working in an older version... \n The documentation still said it works.. ( until you edited it)\nIt makes sense that it should work\nAnd there is no reason that it shouldnt work...\n\nthat makes it a bug\n\n\nThe help file for httpd.exe STILL says  \n\n1.3\n-k shutdown      : tell running Apache to shutdown\n-k restart       : tell running Apache to do a graceful restart\n\n2.2\n-k restart         : tell running Apache to do a graceful restart\n-k stop|shutdown   : tell running Apache to shutdown\n\n2.4\n-k restart         : tell running Apache to do a graceful restart\n-k stop|shutdown   : tell running Apache to shutdown\n---------------------------------------------------------------------\n\n\n-k is supposed to singal to the RUNNING apache, ie the PID in the PID file."}, {"count": 20, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "text": "okay, good luck!", "id": 165026, "time": "2013-02-02T16:59:01Z", "bug_id": 54520, "creation_time": "2013-02-02T16:59:01Z", "is_private": false}, {"count": 21, "tags": [], "text": "(In reply to comment #0)\n> The Documentation says that apache can be controlled from command line when\n> NOT using a service,\n> \n> To start apache type\n> \n> httpd.exe  (works fine)\n> \n> To stop restart etc   type\n> \n> httpd.exe -k stop\n> httpd.exe -k restart\n> \n> \n> This does not work and fails with the error\n> \n> [mpm_winnt:error] [pid 4480:tid 116] (OS 2)The\n>  system cannot find the file specified.  : AH00436: No installed service\n> named \"\n> Apache2.4\".\n> \n> \n> I have tried this with apache 2.2.17 and 2.2.21 and it also fails pointing\n> to a service  Apache2.2 not installed.\n> \n> Im not using a service and have never installed the service with this name.\n> Why is apache not checking the PID in the httpd.pid and killing that exe\n> like it used to?\n\nyou need to install the service to run properly apache, you must install the service in this way:\n\nrunning the console as administrator\n\nhttpd -k install -n \"ServiceName\" in this case Apache", "attachment_id": null, "id": 167069, "creator": "vigorena@live.cl", "time": "2013-05-07T01:24:02Z", "bug_id": 54520, "creation_time": "2013-05-07T01:24:02Z", "is_private": false}, {"count": 22, "tags": [], "bug_id": 54520, "attachment_id": null, "id": 167078, "time": "2013-05-07T14:57:23Z", "creator": "stevenmartin99@gmail.com", "creation_time": "2013-05-07T14:57:23Z", "is_private": false, "text": "can people not read on this forum???\n\nfor the last time i say it!\n\n\nAS A CONSOLE!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n\nI NEVER MENTIONED AS A SERVICE. GRR"}, {"count": 23, "tags": [], "bug_id": 54520, "text": "Console ... I hear you.\n\nI think this did work in 1.3.x and maybe 2.0.x as well running on Win95/98/ME since they didn't have Windows services. I remember mashing ctrl+c back in those days would leave the pid file behind, and a nice little error message about not gracefully stopping on next start up.\n\nI'm assuming that back in those days httpd would check if running on an NT version or not, and use the -k signal for console or a service accordingly.\n\nMashing ctrl+c has been the way I've been doing for years, and at least with 2.2 and now 2.4, the pid file will get removed properly. So, since Win95/98/ME are long dead, the pid file is properly removed when mashing ctrl+c, all Windows versions these days are NT based, I see no big need for this 15 year old behavior come June 20th.\n\nMuch of the old code that dealt with Win95/98/ME has been ripped out of the source as well so I do not consider it a bug. I consider it a reality of current times (only NT versions of Windows).", "id": 167202, "time": "2013-05-14T19:06:23Z", "creator": "gls@gknw.net", "creation_time": "2013-05-14T19:06:23Z", "is_private": false, "attachment_id": null}]