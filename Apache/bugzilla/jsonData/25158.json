[{"attachment_id": null, "tags": [], "bug_id": 25158, "text": "When putting an instance into the session that has a non transient reference to \nthe current session, storage on tomcat shutdown succeeds but on loading the \nsession during tomcat startup fails with a java.io.StreamCorruptedException.  \n(see attachment, which contains a sample app as well as a log file with \ndebug=\"99\")\n\nAs an additional Note: when one tries to serialize the session instance into a \nByteArrayOutputStream just before storage, there is no serialization error.  \nThis problem seems to be special to *loading*.\n\nSteps to reproduce:\n0. optionally build the webapp\n1. deploy the web application\n2. start tomcat\n3. access http://<server>/<path>/index.jsp\n4. shutdown tomcat\n5. start tomcat\n6. check the log\n\nWhen the instance of class test.SessionBindingListener does *not* keep the \nreference to the session instance, the problem goes away.", "count": 0, "id": 48410, "time": "2003-12-03T10:56:26Z", "creator": "bob.news@gmx.net", "creation_time": "2003-12-03T10:56:26Z", "is_private": false}, {"count": 1, "tags": [], "creator": "bob.news@gmx.net", "text": "Created attachment 9371\nlog file with error (debug=99), webapp to reproduce error", "id": 48411, "time": "2003-12-03T10:59:34Z", "bug_id": 25158, "creation_time": "2003-12-03T10:59:34Z", "is_private": false, "attachment_id": 9371}, {"count": 2, "tags": [], "creator": "funkman@joedog.org", "text": "HttpSession does not extend Serializable so the assumption cannot be made that\nit can or cannot be persisted.", "id": 48413, "time": "2003-12-03T11:41:02Z", "bug_id": 25158, "creation_time": "2003-12-03T11:41:02Z", "is_private": false, "attachment_id": null}]