[{"count": 0, "tags": [], "text": "Looking into tomcat-jdbc.jar/META-INF/MANIFEST.MF file,\n\nActual behaviour:\ncurrently (e.g. for 8.0.14) it contains:\n[[[\nManifest-Version: 1.0\nAnt-Version: Apache Ant 1.7.0\nCreated-By: 11.0-b16 (Sun Microsystems Inc.)\nExport-Package: org.apache.tomcat.jdbc.naming;uses:=\"javax.naming,org.\n apache.juli.logging,javax.naming.spi\";version=\"1.1.0.1\",org.apache.to\n mcat.jdbc.pool;uses:=\"org.apache.juli.logging,javax.sql,org.apache.to\n mcat.jdbc.pool.jmx,javax.management,javax.naming,javax.naming.spi,org\n .apache.tomcat.jdbc.pool.interceptor\";version=\"1.1.0.1\",org.apache.to\n mcat.jdbc.pool.interceptor;uses:=\"org.apache.tomcat.jdbc.pool,org.apa\n che.juli.logging,javax.management.openmbean,javax.management\";version\n =\"1.1.0.1\",org.apache.tomcat.jdbc.pool.jmx;uses:=\"org.apache.tomcat.j\n dbc.pool,org.apache.juli.logging,javax.management\";version=\"1.1.0.1\"\nBundle-Vendor: Apache Software Foundation\nBundle-Version: 1.1.0.1\nBundle-Name: Apache Tomcat JDBC Connection Pool\nBundle-ManifestVersion: 2\nBundle-SymbolicName: org.apache.tomcat.jdbc\nImport-Package:  javax.management;version=\"0\", javax.management.openmb\n ean;version=\"0\", javax.naming;version=\"0\", javax.naming.spi;version=\"\n 0\", javax.sql;version=\"0\", org.apache.juli.logging;version=\"0\"\n]]]\n\nIt is generated from template in modules/jdbc-pool/resources/MANIFEST.MF \n\nExpected behaviour:\n1) I expected \"Ant-Version: Apache Ant 1.8.4\", because that was the version of Ant used to build Tomcat 8.0.14.\n\"Ant-Version: Apache Ant 1.7.0\" is hard-coded in template file.\n\n2) \"Bundle-Version: 1.1.0.1\" and versions in \"Export-Package\" to be 8.0.14.\nThe goal is to discern different builds of JDBC Pool.\nI guess it boils down to passing relevant ${version} property when invoking its build file from Tomcat one.\n\nCan we change that \"1.1.0.1\" to be \"8.0.14\", or there will be any problems?\n\nAs this issue involves OSGi, a better reference would be bug 52381.", "is_private": false, "id": 178406, "creator": "knst.kolinko@gmail.com", "time": "2014-10-13T13:10:32Z", "bug_id": 57079, "creation_time": "2014-10-13T13:10:32Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Fixed in 8.0.x for 8.0.15 onwards.\n\nUsing the Tomcat version number makes sense to me when shipping as part of Tomcat.\n\nSince the version numbers are not over-lapping, this shouldn't cause any problems.", "is_private": false, "id": 178516, "creator": "markt@apache.org", "time": "2014-10-16T19:47:19Z", "bug_id": 57079, "creation_time": "2014-10-16T19:47:19Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 57079, "text": "Backported to Tomcat 7 in r1633478 and will be in 7.0.57 onwards.", "id": 178659, "attachment_id": null, "creator": "knst.kolinko@gmail.com", "creation_time": "2014-10-21T22:52:50Z", "time": "2014-10-21T22:52:50Z", "is_private": false}]