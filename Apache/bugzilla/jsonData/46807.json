[{"count": 0, "tags": [], "creator": "eabbott@crunchtime.com", "attachment_id": null, "id": 125343, "creation_time": "2009-03-05T12:17:24Z", "time": "2009-03-05T12:17:24Z", "bug_id": 46807, "text": "Set jvm param -Dorg.apache.jasper.runtime.JspFactoryImpl.USE_POOL=false.\nIn web.xml set enablePooling to false.\n\nCreated a custom tag that extends \nimport javax.servlet.jsp.tagext.BodyTagSupport;\n\n\nVerified by adding member field\nprivate long creation_time = System.currentTimeMillis();\n\ninside doInitBody()...\n  public void doInitBody() {\n    System.out.println(\"creation_time=\"+ creation_time);\n  }", "is_private": false}, {"count": 1, "tags": [], "bug_id": 46807, "attachment_id": null, "text": "It appears that once a jsp is compiled (pre or live), tag pooling is no longer changeable via web.xml nor the jvm compiler flag.", "id": 125345, "time": "2009-03-05T14:00:43Z", "creator": "eabbott@crunchtime.com", "creation_time": "2009-03-05T14:00:43Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 46807, "text": "http://tomcat.apache.org/tomcat-6.0-doc/jasper-howto.html\nThe documentation is misleading when it states:\n\"Use java system property at server runtime to disable tag pooling org.apache.jasper.runtime.JspFactoryImpl.USE_POOL=false. and limit the buffering with org.apache.jasper.runtime.BodyContentImpl.LIMIT_BUFFER=true. Note that changing from the defaults may affect performance, but it will vary depending on the application.\"\n\nThe pooling for a given jsp can only be determined at compile time, be it precompiled or compiled by the server.  Also the ant jasper precompile task attribute poolingEnabled unfortunately differs from the web.xml value of enablePooling which can cause confusion.", "id": 125346, "time": "2009-03-05T15:05:32Z", "creator": "eabbott@crunchtime.com", "creation_time": "2009-03-05T15:05:32Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 46807, "attachment_id": null, "text": "Sorry for the confusion.\n\norg.apache.jasper.runtime.JspFactoryImpl.USE_POOL controls the pooling of PageContext objects, not tag instances. I have updated the docs to reflect this.\n\nI have also update the docs to make to clear that enablePooling is a compile time option, not a runtime one.\n\nThe changes have been applied to trunk and 6.0.x and will be included in 6.0.20 onwards.", "id": 125412, "time": "2009-03-07T08:16:45Z", "creator": "markt@apache.org", "creation_time": "2009-03-07T08:16:45Z", "is_private": false}]