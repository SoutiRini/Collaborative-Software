[{"count": 0, "tags": [], "bug_id": 42218, "attachment_id": null, "is_private": false, "id": 102225, "time": "2007-04-24T04:57:28Z", "creator": "matthias.reich@siemens-enterprise.com", "creation_time": "2007-04-24T04:57:28Z", "text": "The behavior is easily reproducible for both Http11AprProtocol and\nHttp11NioProtocol by running my corrected test webapp from bug 42198 (\nhttp://issues.apache.org/bugzilla/attachment.cgi?id=20025 ) in Tomcat 6 compiled\nfrom trunk with the Servlet init parameter 'maxTimeout' set to 100 in web.xml.\n\nLoad the index page into a browser. When the page has started polling, close the\nbrowser.\nThe Servlet's event method will get a READ event, tries to read from the input\nstream, but there is nothing to read. Therefore, it simply returns.\nHowever, it gets the READ presented again and again (with 100% CPU) until the\nresponse is closed by the response provider thread.\n\nShould the Servlet itself interpret a READ event with no bytes to read as a\nclient disconnect and close the event?"}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "is_private": false, "id": 102229, "time": "2007-04-24T05:11:27Z", "bug_id": 42218, "creation_time": "2007-04-24T05:11:27Z", "text": "On some platforms, at least with APR, it is not possible to get the disconnect\nstatus, in which case you get a READ and an exception trying to read data.\nAgain, please use the user list to discuss things before filing a bug report."}]