[{"count": 0, "text": "The ModMimeUsePathInfo at http://httpd.apache.org/docs/2.2/mod/mod_mime.html#modmimeusepathinfo should be clarified:\n\nThe given example (/bar/foo.shtml) could be easily misunderstood that /bar/ is a director containing the file foo.shtml.\n\nIt would be better to have something like \"/bar.txt/additionPathinfo/type.html\" and to explain which of the two extensions are (txt and html) are now parsed for the different things (type, charset, encoding, etc.) and which of them overrides.", "creator": "calestyo@scientia.net", "attachment_id": null, "id": 142067, "time": "2010-11-28T10:03:33Z", "bug_id": 50354, "creation_time": "2010-11-28T10:03:33Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 50354, "text": "I think the confusion starts with:\n\n\"\"\"If you have a request for /bar/foo.shtml where /bar is a Location and ModMimeUsePathInfo is On\"\"\"\n\nGiven that it's not linked to the <Location> documentation, and not put in <code> either, but still written with a a capital ``L'' is very confusing.\n\n\nI think the example would be much more clear if we added something like:\n\n<Location /bar>\n  AddOutputFilter INCLUDES .shtml\n  ModMimeUsePathInfo On\n</Location>\n\nIf /bar is part of your application, that for some obscure reason produces .shtml output, httpd will now parse it.\n\nOr how about:\n\n<Location /bar>\n    AddOutputFilter DEFLATE .html\n    ModMimeUsePathInfo On\n</Location>\n\nAdding now .html to your fancy SEO URLs will have your content compressed on the fly.\n\n\nOf course the same is valid if you have Links like /index.php/modulename/actionname/idnumber.html\n\n<Files index.php>\n  AddOutputFilter INCLUDES .shtml\n  AddOutputFilter DEFLATE .html\n  ModMimeUsePathInfo On\n</Files>\n\netc...\n\nDoes that make more sense now? Should I add that to the docs?", "id": 142076, "time": "2010-11-28T17:10:19Z", "creator": "i.galic@brainsware.org", "creation_time": "2010-11-28T17:10:19Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 50354, "text": "I guess it makes sense,... but not sure whether adding extra <Location> sections here makes the example unnecessarily complicated for beginners.\n\nIf we take: http://httpd.apache.org/docs/2.2/mod/core.html#acceptpathinfo\nThey simply use \"/test/here.html/more\" and it's clear to everybody that \"/test/here.html\" is the location (small \"l\"),... regardless of whether it's an existing file, directory (with not \"more\" subdir\", something defined via Alias,Redirect,<Location>, etc.\n... and that \"more\" is the \"extra thingy\".", "id": 142083, "time": "2010-11-28T17:51:53Z", "creator": "calestyo@scientia.net", "creation_time": "2010-11-28T17:51:53Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "text": "My only problem is making that damn thing work at all. (Knowing how it works generally makes documenting it easier ;)\n\nMy config looks like this:\n\n<VirtualHost *:80>\n        DocumentRoot /home/i.galic/Projects/bomb.ground\n        ServerName bomb.ground\n\n        AddOutPutFilter INCLUDES .shtml\n\n        <Directory /home/i.galic/Projects/bomb.ground>\n                Options +MultiViews\n                Require all granted\n                DirectoryIndex index.php\n                ModMimeUsePathInfo On\n        </Directory>\n        #FallBackResource /index.php\n</VirtualHost>\n\nNow, every request for an index.html or index.txt which look like this:\n\n<html>\n        <head>\n                <title>Silly SSI</title>\n        </head>\n        <body>\n<!--#echo var=\"DATE_GMT\" -->\n        </body>\n</html>\n\nends in a 404.\nEvery request for index.php which has the echo line changed to:\n<?php\necho '<!--#echo var=\"DATE_GMT\" -->'. \"\\n\"\n?>\n\nEnds in a blank page -- i.e.: No display of DATE_GMT.", "attachment_id": null, "id": 142088, "creator": "i.galic@brainsware.org", "time": "2010-11-28T18:11:49Z", "bug_id": 50354, "creation_time": "2010-11-28T18:11:49Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 50354, "attachment_id": null, "text": "That is, because I forgot AcceptPathInfo On\nNow all files deliver nothing.. Great. BUT. If we do something like:\n\n        <Directory /home/i.galic/Projects/bomb.ground>\n                Options +MultiViews IncludesNoExec\n                Require all granted\n                AddOutputFilter Includes shtml\n                DirectoryIndex index.php\n                ModMimeUsePathInfo On\n        </Directory>\n        FallBackResource /index.php\n\nEverything works as expected -- even better so: The request for http://bomb.ground/foo/bar/baz.shtml will be \"rewritten\" (with FallbackResource) to /index.php which produces SSI, which is interpreted by httpd.\n\nProposed patch:\n\nIndex: mod/mod_mime.xml\n===================================================================\n--- mod/mod_mime.xml    (revision 1039792)\n+++ mod/mod_mime.xml    (working copy)\n@@ -693,13 +693,12 @@\n       ModMimeUsePathInfo On\n     </example>\n \n-    <p>If you have a request for <code>/bar/foo.shtml</code> where\n-    <code>/bar</code> is a Location and <directive\n-    >ModMimeUsePathInfo</directive> is <code>On</code>,\n-    <module>mod_mime</module> will treat the incoming request as\n-    <code>/bar/foo.shtml</code> and directives like <code>AddOutputFilter\n-    INCLUDES .shtml</code> will add the <code>INCLUDES</code> filter to the\n-    request. If <directive>ModMimeUsePathInfo</directive> is not set, the\n+    <p>If you have a request for <code>/index.php/foo.shtml</code> where\n+    <code>/index.php</code> <module>mod_mime</module> will now treat the\n+    incoming request as <code>/index.php/foo.shtml</code> and directives\n+    like <code>AddOutputFilter INCLUDES .shtml</code> will add the\n+    <code>INCLUDES</code> filter to the request. If <directive\n+    >ModMimeUsePathInfo</directive> is not set, the\n     <code>INCLUDES</code> filter will not be added.</p>\n </usage>\n <seealso><directive module=\"core\">AcceptPathInfo</directive></seealso>", "id": 142090, "time": "2010-11-28T18:30:28Z", "creator": "i.galic@brainsware.org", "creation_time": "2010-11-28T18:30:28Z", "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 50354, "text": "r1041003.", "id": 142247, "time": "2010-12-01T08:36:04Z", "creator": "i.galic@brainsware.org", "creation_time": "2010-12-01T08:36:04Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "creator": "calestyo@scientia.net", "attachment_id": null, "id": 142251, "time": "2010-12-01T09:15:07Z", "bug_id": 50354, "creation_time": "2010-12-01T09:15:07Z", "is_private": false, "text": "Hi Igor.\n\nSome words seems to be missing here:\n\n>If you have a request for <code>/index.php/foo.shtml</code> where ><code>/index.php</code> ???????????????? <module>mod_mime</module> will\n\nCheers,\nChris."}, {"count": 7, "text": "r1041047.", "bug_id": 50354, "is_private": false, "id": 142252, "time": "2010-12-01T10:17:43Z", "creator": "i.galic@brainsware.org", "creation_time": "2010-12-01T10:17:43Z", "tags": [], "attachment_id": null}]