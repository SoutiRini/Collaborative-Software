[{"count": 0, "tags": [], "bug_id": 21422, "attachment_id": null, "text": "The mod_rivet.so binary that is built by the patches submitted as bug 21336\ncrashes under apache 1.3.27. The symptoms are that under normal use the server\nis stuck in a loop. What is happening is that the master apache server launches\nthe child process which will create a number of threads to service the incoming\nrequests. This child process is then crashing due to a configuration problem and\nthe master notices this and then creates a new child and on and on.\n\nThe crash is occurring in Rivet_InitTclStuff at mod_rivet.c:714 where memory is\nallocated for the cache using ap_pcalloc. The default value of rsc->cache_size *\nsizeof(char *) overflows a signed int and becomes negative. ap_pcalloc takes a\nsigned int and passes this int to memset which raises an access violation.\n\nThe workaround is to use the RivetServerConf CacheSize directive. Values up to\n50 appear to be fine.\n\nThe error seems to be in mod_rivet.c:703 where the value\nap_max_requests_per_child appears to have some gibberish value in it.", "id": 40232, "time": "2003-07-08T22:23:08Z", "creator": "patthoyts@users.sourceforge.net", "creation_time": "2003-07-08T22:23:08Z", "is_private": false}, {"count": 1, "text": "This got fixed.", "creator": "patthoyts@users.sourceforge.net", "attachment_id": null, "id": 64082, "time": "2004-09-23T01:30:37Z", "bug_id": 21422, "creation_time": "2004-09-23T01:30:37Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 21422, "text": "fixed long ago. Closing", "id": 162212, "time": "2012-09-16T10:58:55Z", "creator": "mxmanghi@apache.org", "creation_time": "2012-09-16T10:58:55Z", "is_private": false, "attachment_id": null}]