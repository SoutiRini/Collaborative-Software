[{"count": 0, "tags": [], "bug_id": 52354, "attachment_id": null, "text": "Field \"org.apache.catalina.tribes.transport.bio.util.FastQueue.inRemove\" may be read and written in parallel. Thus, accesses to it should be synchronized. The following is a sequence of method calls from the \"run\" method of a class that implements \"Runnable\" to a method that accesses \"FastQueue.inRemove\" without proper synchronization.\n\n1. org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor.run()\n2. org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor.removeFromQueue()\n3. org.apache.catalina.tribes.transport.bio.util.FastQueue.remove()\n\nField \"FastQueue.inRemove\" is declared at <http://svn.apache.org/repos/asf/!svn/bc/1220560/tomcat/trunk/java/org/apache/catalina/tribes/transport/bio/util/FastQueue.java>.", "id": 152267, "time": "2011-12-18T23:04:53Z", "creator": "reprogrammer@gmail.com", "creation_time": "2011-12-18T23:04:53Z", "is_private": false}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 152378, "time": "2011-12-23T21:06:21Z", "bug_id": 52354, "creation_time": "2011-12-23T21:06:21Z", "text": "There is a concurrency issue but not the one described here. Access to that field is protected by an exclusive lock. It does however need to be volatile."}, {"count": 2, "text": "Fixed in trunk and 7.0.x and will be included in 7.0.24 onwards.", "bug_id": 52354, "is_private": false, "id": 152382, "time": "2011-12-23T21:17:24Z", "creator": "markt@apache.org", "creation_time": "2011-12-23T21:17:24Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 52354, "is_private": false, "id": 152390, "creation_time": "2011-12-24T00:10:25Z", "time": "2011-12-24T00:10:25Z", "creator": "reprogrammer@gmail.com", "text": "Thanks for resolving the visibility issue. Keshmesh <http://keshmesh.cs.illinois.edu/> detected this problem when we ran it on Tomcat using method \"org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor.run()\" as an entry point.\n\n(In reply to comment #2)\n> Fixed in trunk and 7.0.x and will be included in 7.0.24 onwards.", "attachment_id": null}]