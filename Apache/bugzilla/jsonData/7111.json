[{"count": 0, "tags": [], "text": "SAXDocumentBuilderFactory does not differentiate xmlns=\"\" \n(which should revoke the default namespace) from the non-zero\nlength case which results in an element like\n\n<foo xmlns=\"\"/>\n\nreturning \"\" for getNamespaceURI() instead of null.\n\nThe following patch (which includes the fix for the early warning exception\nproblem) appears to fix the problem\n\ncvs -z6 diff SAXDocumentFactory.java (in directory D:\\apache-xml\\xml-\nbatik\\sources\\org\\apache\\batik\\dom\\util\\)\nIndex: SAXDocumentFactory.java\n===================================================================\nRCS file: /home/cvspublic/xml-\nbatik/sources/org/apache/batik/dom/util/SAXDocumentFactory.java,v\nretrieving revision 1.6\ndiff -r1.6 SAXDocumentFactory.java\n154c154\n<     public Document createDocument(String ns, String root, String uri, \n---\n>     public Document createDocument(String ns, String root, String uri,\n198c198\n<             parser.setFeature(\"http://xml.org/sax/features/namespaces\", \n---\n>             parser.setFeature(\"http://xml.org/sax/features/namespaces\",\n207a208\n>             e.printStackTrace();\n240c241\n<      * document \n---\n>      * document\n295c296,301\n< \t\tnamespaces.put(\"\", attributes.getValue(i));\n---\n>                 if(attributes.getValue(i).length() > 0) {\n> \t\t  namespaces.put(\"\", attributes.getValue(i));\n>                 }\n>                 else {\n>                   namespaces.put(\"\", \"#null\");\n>                 }\n336c342,347\n< \t    e = document.createElementNS(nsURI, rawName);\n---\n>             if(nsURI != null && !nsURI.equals(\"#null\")) {\n> \t      e = document.createElementNS(nsURI, rawName);\n>             }\n>             else {\n>               e = document.createElement(rawName);\n>             }\n383c394\n< \tthrow ex;\n---\n> \t    //throw ex;\n395c406\n<     \n---\n> \n408c419\n<     \n---\n>", "is_private": false, "bug_id": 7111, "id": 11780, "time": "2002-03-14T08:26:54Z", "creator": "carnold@houston.rr.com", "creation_time": "2002-03-14T08:26:54Z", "attachment_id": null}]