[{"count": 0, "tags": [], "creator": "stefanblanke@t-online.de", "attachment_id": null, "is_private": false, "id": 152044, "time": "2011-12-07T09:01:40Z", "bug_id": 52298, "creation_time": "2011-12-07T09:01:40Z", "text": "Configured an XAMPP installation (1.7.7) to enter a website with client certificates. Works fine in Firefox, IE and Chrome. \n\nBut when entering the website with an iPad (tested on an iPad 2) there comes no prompt (as expected) to select a client certificate. It just returns a 403 error.\n\nUsing an older XAMPP installation (1.7.4) with Apache 2.2.17 everything works fine.\n\n\nSnippet of my ssl config:\n\nhttpd-ssl.conf:\n...\nSSLVerifyClient optional \nSSLVerifyDepth 10\nInclude conf/extra/httpd-ssl-papp.conf\n...\n\nhttpd-ssl-papp.conf:\n<Location /test>\n      SSLRequire %{SSL_CLIENT_S_DN_CN} in { \"CERT NAME\" }\n</Location>"}, {"count": 1, "tags": [], "bug_id": 52298, "attachment_id": null, "text": "It's not a bug in Apache, but a problem in Mobile Safari behavior.\nChange the \"SSLVerifyClient optional\" into \"SSLVerifyClient verify\", and you'll be prompted.\nMobile Safari tries to connect to a site without a client certificate, and if it works, no renegotiation will be accepted.", "id": 152050, "time": "2011-12-07T11:23:27Z", "creator": "erwann.abalea@keynectis.com", "creation_time": "2011-12-07T11:23:27Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "erwann.abalea@keynectis.com", "text": "Sorry, use \"SSLVerifyClient require\" instead.", "count": 2, "id": 152051, "time": "2011-12-07T11:24:41Z", "bug_id": 52298, "creation_time": "2011-12-07T11:24:41Z", "is_private": false}, {"count": 3, "tags": [], "text": "After setting it to require instead of optional I get the following error message:\n\"This website requires a certificate to validate your identity.\"\nor similar to this, I just translated it.\n\nBut the p12-cert is installed correctly.", "attachment_id": null, "bug_id": 52298, "id": 152064, "time": "2011-12-08T09:07:49Z", "creator": "stefanblanke@t-online.de", "creation_time": "2011-12-08T09:07:49Z", "is_private": false}, {"count": 4, "attachment_id": null, "creator": "covener@gmail.com", "is_private": false, "id": 152066, "time": "2011-12-08T11:30:28Z", "bug_id": 52298, "creation_time": "2011-12-08T11:30:28Z", "tags": [], "text": "maybe it's not signed by a CA trusted by the server."}, {"count": 5, "tags": [], "bug_id": 52298, "attachment_id": null, "text": "The server trusts the CA. Otherwise it couldn't work in other browsers. We used the same files like on the older version.\n\nOn client side: client.p12, root CA, client CA\nOn server side: server.crt, server.key, server-chain.crt\n\nclient CA and server CA are built from the root CA.", "id": 152067, "time": "2011-12-08T12:34:44Z", "creator": "stefanblanke@t-online.de", "creation_time": "2011-12-08T12:34:44Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 52298, "is_private": false, "text": "Can you show how the handshakes differ between the two versions?", "id": 152078, "time": "2011-12-08T21:04:23Z", "creator": "covener@gmail.com", "creation_time": "2011-12-08T21:04:23Z", "attachment_id": null}]