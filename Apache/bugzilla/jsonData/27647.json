[{"count": 0, "tags": [], "bug_id": 27647, "is_private": false, "id": 53961, "creation_time": "2004-03-14T14:50:49Z", "time": "2004-03-14T14:50:49Z", "creator": "pr@webapp.de", "text": "Have a probleme to compile the current JK isapi adaptor\n\nThe compilation from jk2 and jk work fine but isapi not.\n\nMy build configuration work for some day at 5.0.19 cvs head.\n\na) env\nWindows XP SP 1\nJDK 1.4.2_03\nVC 98\ntomcat cvs head from 14.05.2004\n\nb) \nBuild with my own target\n\n<target name=\"jk2\" depends=\"check.source,get.source\"\n   description=\"build windows connector source dist\">\n     <ant dir=\"${jtc.home}\" target=\"coyote\" >\n\t<property name=\"tomcat5.home\" value=\"${basedir}/jakarta-tomcat-5/build\" />\n     </ant>\n     <ant dir=\"${jtc.home}/jk\" target=\"build-main\" >\n\t<property name=\"tomcat5.home\" value=\"${basedir}/jakarta-tomcat-5/build\" />\n     </ant>\n     <ant dir=\"${jtc.home}/jk\" target=\"jkant\" >\n\t<property name=\"tomcat5.home\" value=\"${basedir}/jakarta-tomcat-5/build\" />\n     </ant>\n     <ant dir=\"${jtc.home}/jk/native2\" target=\"main\" >\n\t<property name=\"tomcat5.home\" value=\"${basedir}/jakarta-tomcat-5/build\" />\n     </ant>\n  </target>\n\nd) build.properties\nmssdk.home=D:/Programme/Microsoft Visual Studio/VC98\napache2.home=D:/Programme/ApacheGroup/Apache2\n\n\nd) Output:\nCompiling D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\server\\\nisapi\\jk_isapi_plugin.c\n       [so] Compile failed 2 D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\n\\jk\\native2\\server\\isapi\\jk_isapi_plugin.c\n       [so] Output:\n       [so] jk_isapi_plugin.c\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(163) : error C2065: 'SF_NOTIFY_AUTH_COMPLETE' : nichtd\neklarierter Bezeichner\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(163) : warning C4018: '==' : Konflikt zwischen signed\nund unsigned\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(233) : warning C4018: '==' : Konflikt zwischen signed\nund unsigned\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(234) : error C2065: 'PHTTP_FILTER_AUTH_COMPLETE_INFO'\n: nichtdeklarierter Bezeichner\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(234) : error C2146: Syntaxfehler : Fehlendes ')' vor B\nezeichner 'pvNotification'\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(234) : warning C4047: '=' : Anzahl der Dereferenzierun\ngen bei 'int (__stdcall *)(struct _HTTP_FILTER_CONTEXT *,char *,void *,unsigned\nlong *)' und 'int ' unterschiedlich\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(234) : error C2059: Syntaxfehler : ')'\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(235) : error C2146: Syntaxfehler : Fehlendes ')' vor B\nezeichner 'pvNotification'\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(235) : warning C4047: '=' : Anzahl der Dereferenzierun\ngen bei 'int (__stdcall *)(struct _HTTP_FILTER_CONTEXT *,char *,char *)' und 'in\nt ' unterschiedlich\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(235) : error C2059: Syntaxfehler : ')'\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(236) : error C2146: Syntaxfehler : Fehlendes ')' vor B\nezeichner 'pvNotification'\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(236) : warning C4047: '=' : Anzahl der Dereferenzierun\ngen bei 'int (__stdcall *)(struct _HTTP_FILTER_CONTEXT *,char *,char *)' und 'in\nt ' unterschiedlich\n       [so] D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\\serve\nr\\isapi\\jk_isapi_plugin.c(236) : error C2059: Syntaxfehler : ')'\n       [so] StdErr:\n\n\nBUILD FAILED\nfile:D:/tomcat/develop/tomcat5/jakarta-tomcat-connectors/jk/native2/build.xml:61\n1: Compile failed D:\\tomcat\\develop\\tomcat5\\jakarta-tomcat-connectors\\jk\\native2\n\\server\\isapi\\jk_isapi_plugin.c\n\nTotal time: 1 minute 22 seconds\nD:\\tomcat\\develop\\tomcat5>\n\n\nRegards\nPeter", "attachment_id": null}, {"count": 1, "tags": [], "creator": "pr@webapp.de", "text": "I read the mailing list that you want tag for 2.0.4. Great\nbut the isapi don't compile (CVS HEAD 24.03.04)\n\nCan you document your way, to build the 2.0.4 release with ISAPI ?\n\nregards\nPeter\n", "id": 54555, "time": "2004-03-24T10:19:31Z", "bug_id": 27647, "creation_time": "2004-03-24T10:19:31Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 27647, "attachment_id": null, "id": 54559, "time": "2004-03-24T11:30:43Z", "creator": "hgomez@apache.org", "creation_time": "2004-03-24T11:30:43Z", "is_private": false, "text": "Well you should upgrade to a recent dev tools \n\nHere is the Mladen comment on the commit :\n\nRemove the SF_NOTIFY_AUTH_COMPLETE define\n  checking. If someone wishes to compile jk2 he will anyhow\n  need the platform SDK. Any sdk since year 2000 has that\n  defined in the httpfilt.h\n"}]