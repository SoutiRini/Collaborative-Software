[{"count": 0, "text": "Mod_rewrite has problems with the special character codes %23, %26, and %2F (for\n\u2018#\u2019, \u2018&\u2019, \u2018/\u2019) appearing in the request URL - the URL pattern being rewritten.\n\n\u2018%23\u2019 and \u2018%26\u2019 seem to escape the rewrite (any substitution variables after\nthis point seem to be set to null). \u2018%2F\u2019 causes the rewrite to break (404\nerror) in all examples I tested.\n\nmod_rewrite seems to automatically decode the '%25' code. So these characters\ncan be passed on by replacing the '%' with '%25', and passing the characters\ninto the URL as \u2018%2523\u2019, \u2018%2526\u2019, and \u2018%252F\u2019.\n\nHowever, this workaround causes the variable values to be treated differently\nthan if they were passed from the un-rewritten URL. E.g., given the RewriteRule:\n\nRewriteRule ^test/(.*) test.php?testvar=$1\n\nIn the case of the pattern URL:\n\t/test/apples%2526oranges\nVersus a direct request to:\n\t/test.php?testvar=apples%2526oranges\nThe variable testvar would have a value of \u2018&\u2019 in the former, and \u2018%26\u2019 in the\nlatter. This inconsistency can be solved by regex substitutions in GET variables\nin the script itself, but that doesn\u2019t seem like a transparent or robust solution.\n\nNote that the [NE] flag is for the substitution side rather than the pattern\nside, so that doesn't help here.\n\nTo me this seems to be a bug, as %23, %26 and %2F probably shouldn't be treated\nany differently than other special character codes.\n\n\nAlso, I couldn't find the tendency of mod_rewrite to automatically decode '%25'\nbefore rewriting (when it is followed by a two-character hexadecimal code) noted\nanywhere in the documentation, and I think it should be. And this, too, can\ncause problems. e.g., given the same RewriteRule above, requests to:\n\n/test/sports%25fan\n\tversus:\n/test.php?testvar=sports%25fan\n\nResult in different values of testvar: 'sports\u00fan' versus 'sports%fan'.\n\nI am unsure if this should be classified as a separate issue, but since both\nissues are strongly related I am reporting them together.\n\nRegards,\nSaqib", "bug_id": 36986, "attachment_id": null, "id": 80948, "time": "2005-10-10T12:40:15Z", "creator": "web@saqibkadri.net", "creation_time": "2005-10-10T12:40:15Z", "tags": [], "is_private": false}, {"count": 1, "text": "\n\n*** This bug has been marked as a duplicate of 34602 ***", "bug_id": 36986, "attachment_id": null, "id": 82144, "time": "2005-11-05T10:37:04Z", "creator": "marcus@synchromedia.co.uk", "creation_time": "2005-11-05T10:37:04Z", "tags": [], "is_private": false}]