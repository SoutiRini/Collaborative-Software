[{"attachment_id": null, "tags": [], "creator": "enrico.schnepel@gmx.de", "text": "I am getting the following error while processing the atached file\n\nERROR: The id \"Bottom\" already exists in this document\n\nmy file locks like:\n\n-- snip --\n\n<?xml version=\"1.0\"?>\n<fo:root xmlns:fo=\"http://www.w3.org/1999/XSL/Format\">\n\t<fo:layout-master-set>\n\t\t<fo:simple-page-master master-name=\"first\">\n\t\t\t<fo:region-body/>\n\t\t</fo:simple-page-master>\n\t</fo:layout-master-set>\n\n\t<fo:page-sequence master-name=\"first\" language=\"de\">\n\t\t<fo:flow flow-name=\"xsl-region-body\">\n\n\n\t\t\t<fo:block>\n\t\t\t\t<fo:basic-link internal-destination=\"Bottom\">a Link to the\n\"Bottom\"-ID</fo:basic-link>\n\t\t\t</fo:block>\n\n\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\t\t\t<fo:block> text for running into the next page </fo:block>\n\n\n\t\t\t<fo:block id=\"Bottom\"> This is the Paragraph with the \"Bottom\"-ID </fo:block>\n\n\n\t\t</fo:flow>\n\t</fo:page-sequence>\n</fo:root>\n\n-- snip --", "count": 0, "id": 4301, "time": "2001-08-06T13:28:28Z", "bug_id": 3007, "creation_time": "2001-08-06T13:28:28Z", "is_private": false}, {"attachment_id": 400, "tags": [], "creator": "lmckenzi@ca.ibm.com", "is_private": false, "count": 1, "id": 4392, "time": "2001-08-08T14:32:23Z", "bug_id": 3007, "creation_time": "2001-08-08T14:32:23Z", "text": "Created attachment 400\nModified IDReferences.java"}, {"attachment_id": 401, "tags": [], "creator": "lmckenzi@ca.ibm.com", "is_private": false, "count": 2, "id": 4393, "time": "2001-08-08T14:33:34Z", "bug_id": 3007, "creation_time": "2001-08-08T14:33:34Z", "text": "Created attachment 401\nModified PDFDocmument.java"}, {"count": 3, "tags": [], "bug_id": 3007, "text": "I ran into the same problem and did some digging.  I believe I've located the \nproblem.  The problem is that the PDFDocument class sometimes creates an IDNode \nfor an ID before the IDReferences.createID gets called.  When createID gets \ncalled a bit later, it sees that the ID already exists and things it's a \nduplicate.\n\nI made the following modifications to IDReferences, and that seemed to clear up \nthe problem:\n\n1. Created a new attribute 'unvalidatedIds' to track IDs that have been created, \nbut not validated.\n\n2. Created methods to add to, remove from and search for an ID in the \nunvalidatedIds list.  Modified constructor to initialize the list.\n\n3. Modified createID to check if the Id is in the unvalidatedIds.  If so, it \nremoves it from the list (as well as from the idValidation list).  It does NOT \nraise a dup error :>\n\n4. Added a CreateUnvalidatedID(ID as String) method that calls createNewId, AND \nadds the new id to the unvalidateIds list.\n\n5. Modified PDFDocument.getGoToReference to call CreateUnvalidatedID instead of \ncreateNewId\n\nI've attached the modified java files.  (Hope it's ok this way.  Didn't have \ntime to pursue installing/using CVS)  You may wish to consider a different name \nthan unvalidatedId (the similarity with idValidation may cause confusion).  I \ncouldn't come up with anything better in the 5 minutes I spent thinking about it \n:>\n", "id": 4394, "time": "2001-08-08T14:35:20Z", "creator": "lmckenzi@ca.ibm.com", "creation_time": "2001-08-08T14:35:20Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "luke.studley@cerillion.com", "text": "Am also experiencing similar difficulties.\nI see there is a work around supplied but not added to the product. When is it \nlikely that the fix will be applied to the core product? Unfortunately I am not \ncompetent enough in OpenSource development projects to achieve this myself yet, \notherwise obviously I would do so.\n\nThanks\n\nLuke", "count": 4, "id": 5111, "time": "2001-09-05T01:50:07Z", "bug_id": 3007, "creation_time": "2001-09-05T01:50:07Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 3007, "attachment_id": null, "is_private": false, "id": 11101, "time": "2002-02-25T14:01:01Z", "creator": "bugzilla@proefrock.de", "creation_time": "2002-02-25T14:01:01Z", "text": "The same patch should also be applied in org/apache/fop/fo/flow/Block.java:\n\n            if (area.getIDReferences() != null)\n\t    {\n                // area.getIDReferences().createID(id);\n\t\tarea.getIDReferences().createUnvalidatedID(id);\n\t\tarea.getIDReferences().addToIdValidationList(id);\n\t    }\n"}, {"attachment_id": null, "tags": [], "creator": "j3322ptm@yahoo.de", "text": "*** Bug 3354 has been marked as a duplicate of this bug. ***", "count": 6, "id": 14286, "time": "2002-04-22T10:49:15Z", "bug_id": 3007, "creation_time": "2002-04-22T10:49:15Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 3007, "text": "*** Bug 3379 has been marked as a duplicate of this bug. ***", "id": 14288, "time": "2002-04-22T10:50:29Z", "creator": "j3322ptm@yahoo.de", "creation_time": "2002-04-22T10:50:29Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 3007, "text": "*** Bug 5718 has been marked as a duplicate of this bug. ***", "id": 14293, "time": "2002-04-22T11:17:18Z", "creator": "j3322ptm@yahoo.de", "creation_time": "2002-04-22T11:17:18Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 3007, "text": "*** Bug 7005 has been marked as a duplicate of this bug. ***", "id": 14307, "time": "2002-04-22T11:51:09Z", "creator": "j3322ptm@yahoo.de", "creation_time": "2002-04-22T11:51:09Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 3007, "attachment_id": null, "text": "The test case works in 0.20.3.", "id": 15548, "time": "2002-05-06T16:13:26Z", "creator": "j3322ptm@yahoo.de", "creation_time": "2002-05-06T16:13:26Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 3007, "is_private": false, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 155659, "time": "2012-04-01T06:34:01Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T06:34:01Z", "attachment_id": null}]