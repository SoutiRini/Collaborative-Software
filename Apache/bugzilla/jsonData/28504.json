[{"count": 0, "tags": [], "text": "The (undocumented yet protected!) field 'archiveType' in Zip currently is set to\n\"zip\", \"jar\", \"war\", or \"ear\". This patch capitalizes those values. I am not\nsure about \"ZIP\" vs. \"Zip\" (usage acc. to Google is inconsistent), but typically\nthe other words as considered near-acronyms (_J_ava _AR_chive etc.) and should\nbe in all caps. The archiveType is used in various messages and it looks bad\nIMHO to display e.g.\n\n  Building jar: /tmp/foo.jar\n\nso the patch will produce\n\n  Building JAR: /tmp/foo.jar\n\nAlso \"JAR archive\" is technically redundant, just \"JAR\" is enough.\n\nAlso it seems that some overloads of Zip.<init> had redundant calls which I\ncommented out; and overloads of Zip.reset() were missing some attributes which\nwere set in the constructor. I am not sure about this part of the patch since\nthe documentation and intended usage of Zip.reset() seems vague - can't find any\ncode which actually calls it, or any reason why just Zip and subclasses have\nsuch a method. Didn't notice any problems in Zip.cleanUp() overrides.\n\nUnit tests pass for me with this patch, though I am not sure how much Zip\nsubclass functionality is currently actually tested.\n\nIf there is some intended usage of Zip.archiveType that would have an API\ncompatibility impact, i.e. changing the values would be incompatible for\nsomeone, then consider using String.toUpperCase(Locale.US) when using the value\nin Project.log messages. (Locale.US is necessary so that \"zip\" will become \"ZIP\"\neven in Turkish locale.)", "attachment_id": null, "bug_id": 28504, "id": 56116, "time": "2004-04-20T17:23:43Z", "creator": "jglick@apache.org", "creation_time": "2004-04-20T17:23:43Z", "is_private": false}, {"count": 1, "attachment_id": 11292, "creator": "jglick@apache.org", "is_private": false, "id": 56117, "time": "2004-04-20T17:24:32Z", "bug_id": 28504, "creation_time": "2004-04-20T17:24:32Z", "tags": [], "text": "Created attachment 11292\nSuggested patch"}, {"count": 2, "tags": [], "text": "Note: Cab.java is not touched by the patch as it is not a Zip subclass, though\nit has somewhat similar code for archiveType. Google usage seems to say \"CAB\" is\nmore common than \"Cab\".", "is_private": false, "bug_id": 28504, "id": 56118, "time": "2004-04-20T17:25:54Z", "creator": "jglick@apache.org", "creation_time": "2004-04-20T17:25:54Z", "attachment_id": null}]