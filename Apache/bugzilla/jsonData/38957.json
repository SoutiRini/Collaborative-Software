[{"count": 0, "text": "Using latest 1.2.5-dev (Cocoon 2.1.8, Tomcat 5.5.12) build under Tomcat results\nin different behavior than running as Jetty. After build and install, log in as\nlenya and submit the index page of the default publication, then publish it as\nalice. The links in the page are all internal and pointing to pages that are not\nyet published. Under Jetty the  anchor tags for the links are not put in,\nleaving the text however. When running under Tomcat the anchor tags are inserted\nresulting in dead links. The Jetty behavior is the one that is desired.", "creator": "rfrovarp@apache.org", "attachment_id": null, "id": 86788, "time": "2006-03-13T22:20:43Z", "bug_id": 38957, "creation_time": "2006-03-13T22:20:43Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 38957, "attachment_id": null, "id": 86793, "time": "2006-03-14T07:46:18Z", "creator": "josias.thoeny@wyona.org", "creation_time": "2006-03-14T07:46:18Z", "is_private": false, "text": "The problem probably is that internal links in Lenya 1.2 contain the context\npath of the servlet container.\nThat means if Lenya runs with an empty context path (like with Jetty), a correct\ninternal link looks like this (as stored in the XML file):\n<a href=\"/default/authoring/features.html\">Features section</a>\n\nBut in Tomcat, where Lenya is normally deployed under the /lenya context, and\ninternal link would look like this:\n<a href=\"/lenya/default/authoring/features.html\">Features section</a>\n\nThe internal links of the default publication contain no context path, so they\ndon't work with Tomcat. \nHowever, if you create new links when running in Tomcat, they will contain the\n/lenya prefix and everything should be working.\n\nThis means one has to migrate the content when moving it from Jetty to Tomcat or\nvice versa. This is bad, but it is unlikely to be fixed in Lenya 1.2.x. It has\nbeen fixed already in Lenya 1.4-dev (links don't contain the context prefix\nanymore).\n\n\n"}]