[{"count": 0, "tags": [], "text": "The bug occurs when concurrent requests are made for a servlet that has not yet\nbeen loaded.  In my test case, I issued many concurrent requests for\n\"/examples/servlet/RequestInfoExample\".  In thread A, the servlet invoker checks\nto see if the servlet has been loaded yet, and when it is told no, it attempts\nto set up the resources to load it -- WITHOUT any apparent synchronization.  So,\nbefore thread A finishes setting up the resources to load the servlet, thread\nB's servlet invoker also checks to see if that servlet has been loaded yet and\nis also told no, so it too begins setting up the resources to load the servlet. \nEventually, one thread will discover that the servlet already exists when it\ntries to add a servlet Wrapper as a child of the Context object (because the\n\"unique\" name of the Wrapper will collide with an existing Wrapper).  Tomcat's\nreaction to this problem is to generate a 404 response code, and log the\nfollowing exception message:\n\n2001-08-20 14:06:27 invoker: Cannot create servlet wrapper for path\n/examples/servlet/RequestInfoExample\njava.lang.IllegalArgumentException: addChild:  Child name\n'org.apache.catalina.INVOKER.RequestInfoExample' is not unique\n        at\norg.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)\n        at\norg.apache.catalina.core.StandardContext.addChild(StandardContext.java:1256)\n        at\norg.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:351)\n        at\norg.apache.catalina.servlets.InvokerServlet.doGet(InvokerServlet.java:180)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n        at filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n        at filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:243)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n        at\norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:215)       \nat\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n        at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n        at\norg.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n        at\norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)        at\norg.apache.catalina.core.StandardContext.invoke(StandardContext.java:2314)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n        at\norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:163)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n        at\norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)        at\norg.apache.catalina.connector.http.HttpProcessor.process(HttpProcessor.java:1000)\n        at\norg.apache.catalina.connector.http.HttpProcessor.run(HttpProcessor.java:1093)\n        at java.lang.Thread.run(Thread.java:579)", "is_private": false, "bug_id": 3188, "id": 4657, "time": "2001-08-20T14:23:29Z", "creator": "ruvinsky@yahoo.com", "creation_time": "2001-08-20T14:23:29Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 3188, "attachment_id": null, "id": 4662, "time": "2001-08-20T15:49:53Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-08-20T15:49:53Z", "is_private": false, "text": "Fixed in nightly build 20010821 -- thanks for the report!\n\nBy the way, have you tried this on servlets that are explicitly mapped with a\n<servlet-mapping>?  There should already be sufficient synchronization here, but\nit's always nice to have independent confirmation.\n\nCraig\n"}, {"count": 2, "tags": [], "creator": "ruvinsky@yahoo.com", "text": "Great.  As an aside, to confirm your request, I just tried hitting the same \nservlet (except I configured it to be explicitly mapped) under the same \nconcurrency/load/environment conditions and did not experience this problem.", "id": 4663, "time": "2001-08-20T16:33:39Z", "bug_id": 3188, "creation_time": "2001-08-20T16:33:39Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 3188, "text": "When I tried retesting this issue on the 082101 build of Tomcat, I still\nexperienced the \"same\"(?) problem.  Please revisit!  The Tomcat log contained\nthe following set of exception messages:\n2001-08-22 17:37:08 invoker: Cannot create servlet wrapper for path\n/examples/servlet/RequestInfoExample\njava.lang.IllegalArgumentException: addChild:  Child name\n'org.apache.catalina.INVOKER.RequestInfoExample' is not unique\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)\n\tat org.apache.catalina.core.StandardContext.addChild(StandardContext.java:1256)\n\tat org.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:354)\n\tat org.apache.catalina.servlets.InvokerServlet.doGet(InvokerServlet.java:180)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:215)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2314)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.process(EsiProcessor.java:1004)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.run(EsiProcessor.java:1108)\n\tat java.lang.Thread.run(Thread.java:579)\n\n2001-08-22 17:37:08 StandardWrapperValve[invoker]: Servlet.service() for servlet\ninvoker threw exception\njava.lang.NullPointerException\n\tat org.apache.catalina.core.StandardWrapper.logName(StandardWrapper.java:1136)\n\tat org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1148)\n\tat org.apache.catalina.core.StandardWrapper.stop(StandardWrapper.java:1181)\n\tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:983)\n\tat org.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:360)\n\tat org.apache.catalina.servlets.InvokerServlet.doGet(InvokerServlet.java:180)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:215)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2314)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.process(EsiProcessor.java:1004)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.run(EsiProcessor.java:1108)\n\tat java.lang.Thread.run(Thread.java:579)\n\n2001-08-22 17:37:08 StandardContext[/examples]:  Mapped to servlet 'invoker'\nwith servlet path '/servlet' and path info '/RequestInfoExample' and update=true\n2001-08-22 17:37:08 invoker: Cannot allocate servlet instance for path\n/examples/servlet/RequestInfoExample\njavax.servlet.ServletException: Error allocating a servlet instance\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:625)\n\tat org.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:393)\n\tat org.apache.catalina.servlets.InvokerServlet.doGet(InvokerServlet.java:180)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:215)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2314)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.process(EsiProcessor.java:1004)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.run(EsiProcessor.java:1108)\n\tat java.lang.Thread.run(Thread.java:579)\n----- Root Cause -----\njava.lang.LinkageError: duplicate class definition: RequestInfoExample\n\tat java.lang.ClassLoader.defineClass0(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:495)\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:110)\n\tat\norg.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:1484)\n\tat org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:851)\n\tat\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1230)\n\tat\norg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1113)\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:813)\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:621)\n\tat org.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:393)\n\tat org.apache.catalina.servlets.InvokerServlet.doGet(InvokerServlet.java:180)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:215)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2314)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.process(EsiProcessor.java:1004)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.run(EsiProcessor.java:1108)\n\tat java.lang.Thread.run(Thread.java:579)\n\n\n", "id": 4747, "time": "2001-08-22T18:07:14Z", "creator": "ruvinsky@yahoo.com", "creation_time": "2001-08-22T18:07:14Z", "tags": [], "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 3188, "is_private": false, "id": 4776, "time": "2001-08-23T09:50:27Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-08-23T09:50:27Z", "tags": [], "text": "I think I really got it this time :-).  The critical section inside the invoker\nservlet that needed to be synchronized is somewhat bigger than what my first\npatch encompassed.  Thanks for your help!\n\nFixed in nightly build 20010824.\n"}, {"count": 5, "attachment_id": null, "bug_id": 3188, "is_private": false, "id": 4785, "time": "2001-08-24T09:42:11Z", "creator": "ruvinsky@yahoo.com", "creation_time": "2001-08-24T09:42:11Z", "tags": [], "text": "Ok, I really mean it this time!  :)  I got similar problematic results on the\n082401 Tomcat build.  Here's the logged set of exceptions:\n\njava.lang.IllegalArgumentException: addChild:  Child name\n'org.apache.catalina.INVOKER.RequestInfoExample' is not unique\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)\n\tat org.apache.catalina.core.StandardContext.addChild(StandardContext.java:1256)\n\tat org.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:355)\n\tat org.apache.catalina.servlets.InvokerServlet.doGet(InvokerServlet.java:180)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:215)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2314)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.process(EsiProcessor.java:1004)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.run(EsiProcessor.java:1108)\n\tat java.lang.Thread.run(Thread.java:579)\n\n2001-08-24 09:35:41 StandardContext[/examples]: ContainerBase.removeChild: stop: \nLifecycleException:  Container\nStandardWrapper[null:org.apache.catalina.INVOKER.RequestInfoExample] has not\nbeen started\n\tat org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1147)\n\tat org.apache.catalina.core.StandardWrapper.stop(StandardWrapper.java:1184)\n\tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:983)\n\tat org.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:361)\n\tat org.apache.catalina.servlets.InvokerServlet.doGet(InvokerServlet.java:180)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:215)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2314)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.process(EsiProcessor.java:1004)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.run(EsiProcessor.java:1108)\n\tat java.lang.Thread.run(Thread.java:579)\n\n2001-08-24 09:35:41 invoker: Cannot create servlet wrapper for path\n/examples/servlet/RequestInfoExample\njava.lang.IllegalArgumentException: addChild:  Child name\n'org.apache.catalina.INVOKER.RequestInfoExample' is not unique\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)\n\tat org.apache.catalina.core.StandardContext.addChild(StandardContext.java:1256)\n\tat org.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:355)\n\tat org.apache.catalina.servlets.InvokerServlet.doGet(InvokerServlet.java:180)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:215)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2314)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.process(EsiProcessor.java:1004)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.run(EsiProcessor.java:1108)\n\tat java.lang.Thread.run(Thread.java:579)\n\n2001-08-24 09:35:41 StandardContext[/examples]: ContainerBase.removeChild: stop: \nLifecycleException:  Container\nStandardWrapper[null:org.apache.catalina.INVOKER.RequestInfoExample] has not\nbeen started\n\tat org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1147)\n\tat org.apache.catalina.core.StandardWrapper.stop(StandardWrapper.java:1184)\n\tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:983)\n\tat org.apache.catalina.servlets.InvokerServlet.serveRequest(InvokerServlet.java:361)\n\tat org.apache.catalina.servlets.InvokerServlet.doGet(InvokerServlet.java:180)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat filters.ExampleFilter.doFilter(ExampleFilter.java:149)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:213)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:215)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2314)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.process(EsiProcessor.java:1004)\n\tat com.akamai.catalina.connector.esi.EsiProcessor.run(EsiProcessor.java:1108)\n\tat java.lang.Thread.run(Thread.java:579)\n"}, {"count": 6, "tags": [], "text": "Can you send me some sort of test client script?  I pounded on this with \"ab\"\nand \"jmeter\" and could not get the current build to fail.\n", "is_private": false, "bug_id": 3188, "id": 4786, "time": "2001-08-24T09:50:10Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-08-24T09:50:10Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 3188, "text": "Third time is a charm ...", "id": 4800, "time": "2001-08-24T16:25:40Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-08-24T16:25:40Z", "is_private": false, "attachment_id": null}]