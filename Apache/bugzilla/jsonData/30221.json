[{"count": 0, "tags": [], "creator": "dsaranch@cme.com", "text": "When I try to restart my webapp using Manager's Stop/Start or Reload, I get \nseveral stack traces similar to the one listed below. The stack traces are in \nthe Tomcat window but not in the log file. The issue is not a show-stopper, but \nit makes it impossible to restart my application.\n\nJul 20, 2004 1:47:43 PM org.apache.catalina.core.StandardContext registerJMX\nINFO: Error registering wrapper with jmx StandardEngine[Catalina].StandardHost\n[localhost].StandardContext[/salem] \nCatalina:j2eeType=WebModule,name=//localhost/s\nalem,J2EEApplication=none,J2EEServer=none java.security.AccessControlException: \nAccess denied (mx4j.server.MBeanTrustPermission register): MBean class org.apach\ne.commons.modeler.BaseModelMBean is not trusted for registration\njava.security.AccessControlException: Access denied \n(mx4j.server.MBeanTrustPermission register): MBean class \norg.apache.commons.modeler.BaseModelMBean is not trusted for registration\n        at \nmx4j.server.interceptor.SecurityMBeanServerInterceptor.checkTrustRegistration\n(SecurityMBeanServerInterceptor.java:156)\n        at mx4j.server.interceptor.SecurityMBeanServerInterceptor.registration\n(SecurityMBeanServerInterceptor.java:116)\n        at mx4j.server.interceptor.DefaultMBeanServerInterceptor.registration\n(DefaultMBeanServerInterceptor.java:113)\n        at mx4j.server.interceptor.DefaultMBeanServerInterceptor.registration\n(DefaultMBeanServerInterceptor.java:113)\n        at \nmx4j.server.interceptor.ContextClassLoaderMBeanServerInterceptor.registration\n(ContextClassLoaderMBeanServerInterceptor.java:108)\n        at mx4j.server.MBeanServerImpl.registerImpl(MBeanServerImpl.java:1051)\n        at mx4j.server.MBeanServerImpl.registerMBeanImpl\n(MBeanServerImpl.java:1002)\n        at mx4j.server.MBeanServerImpl.registerMBean(MBeanServerImpl.java:978)\n        at org.apache.commons.modeler.Registry.registerComponent\n(Registry.java:871)\n        at org.apache.catalina.core.StandardContext.registerJMX\n(StandardContext.java:5339)\n        at org.apache.catalina.core.StandardContext.start\n(StandardContext.java:4357)\n        at org.apache.catalina.core.StandardContext.reload\n(StandardContext.java:3021)\n        at org.apache.catalina.manager.ManagerServlet.reload\n(ManagerServlet.java:1014)\n        at org.apache.catalina.manager.ManagerServlet.doGet\n(ManagerServlet.java:330)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:697)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:810)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.security.SecurityUtil$1.run\n(SecurityUtil.java:241)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAsPrivileged(Subject.java:500)\n        at org.apache.catalina.security.SecurityUtil.execute\n(SecurityUtil.java:268)\n        at org.apache.catalina.security.SecurityUtil.doAsPrivilege\n(SecurityUtil.java:157)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.access$000\n(ApplicationFilterChain.java:50)\n        at org.apache.catalina.core.ApplicationFilterChain$1.run\n(ApplicationFilterChain.java:140)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:136)\n        at org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:214)\n        at org.apache.catalina.core.StandardValveContext.invokeNext\n(StandardValveContext.java:104)\n        at org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:520)\n        at org.apache.catalina.core.StandardContextValve.invokeInternal\n(StandardContextValve.java:198)\n        at org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:152)\n        at org.apache.catalina.core.StandardValveContext.invokeNext\n(StandardValveContext.java:104)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke\n(AuthenticatorBase.java:540)\n        at org.apache.catalina.core.StandardValveContext.invokeNext\n(StandardValveContext.java:102)\n        at org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:520)\n        at org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:137)\n        at org.apache.catalina.core.StandardValveContext.invokeNext\n(StandardValveContext.java:104)\n        at org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:117)\n        at org.apache.catalina.core.StandardValveContext.invokeNext\n(StandardValveContext.java:102)\n        at org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:520)\n        at org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:109)\n        at org.apache.catalina.core.StandardValveContext.invokeNext\n(StandardValveContext.java:104)\n        at org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:520)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)\n        at org.apache.coyote.tomcat5.CoyoteAdapter.service\n(CoyoteAdapter.java:160)\n        at org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:793)\n        at \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:702)\n        at org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:571)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:644)\n        at java.lang.Thread.run(Thread.java:534)\nJul 20, 2004 1:48:56 PM org.apache.catalina.loader.WebappClassLoader loadClass\nINFO: Illegal access: this web application instance has been stopped already \n(the eventual following stack trace is caused by an error thrown for debugging \npurp\noses as well as to attempt to terminate the thread which caused the illegal \naccess, and has no functional impact)\nJul 20, 2004 1:55:01 PM org.apache.catalina.loader.WebappClassLoader loadClass\nINFO: Illegal access: this web application instance has been stopped already \n(the eventual following stack trace is caused by an error thrown for debugging \npurposes as well as to attempt to terminate the thread which caused the illegal \naccess, and has no functional impact)", "id": 60889, "time": "2004-07-20T19:52:31Z", "bug_id": 30221, "creation_time": "2004-07-20T19:52:31Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "yoavs@computer.org", "text": "Stop, Start, and Reload of my webapps via the Manager (either HTML or Ant \ninterface) works for me.  Are you running with a security manager, and if so \nare you using an unusual security policy?\n\nThis is a good example of why it's good to discuss issues on the mailing list \nrather than open a Bugzilla item right away: it's much easier for you to get \nfeedback and advice there.  Then if it's a real bug, you can open it with a \nlot more pertinent information, including any special configuration you may \nhave done.", "id": 61277, "time": "2004-07-28T21:50:32Z", "bug_id": 30221, "creation_time": "2004-07-28T21:50:32Z", "is_private": false, "attachment_id": null}]