[{"count": 0, "tags": [], "creator": "john.carroll@usap.gov", "attachment_id": null, "id": 14771, "time": "2002-04-25T19:40:47Z", "bug_id": 8528, "creation_time": "2002-04-25T19:40:47Z", "is_private": false, "text": "I am having trouble getting Apache HTTPD 2.0.35 to compile on a Sun\nSolaris 2.8 system (Ultra 10 w/ 256 MB mem), with GNU gcc 3.0.4, make 3.79.1, \nbinutils 2.12, etc (all 32-bit versions).  I am getting the following error in \nthe apr section, with libtool reporting an error of:\n\nmake[3]: Entering directory `/usr/local/src/NMS/httpd-2.0.35/srclib/apr'\n/bin/sh /usr/local/src/NMS/httpd-2.0.35/srclib/apr/libtool --silent --mode=link \ngcc -g -O2 -pthreads -DHAVE_CONFIG_H -DSOLARIS2=8 -D_POSIX_PTHREAD_SEMANTICS \n-D_REENTRANT -I./include -I../include -o libapr.la -rpath refix/lib \nstrings/apr_cpystrn.lo strings/apr_fnmatch.lo strings/apr_snprintf.lo \nstrings/apr_strings.lo strings/apr_strnatcmp.lo strings/apr_strtok.lo \npasswd/apr_getpass.lo passwd/apr_md5.lo tables/apr_hash.lo tables/apr_tables.lo \nfile_io/unix/copy.lo file_io/unix/dir.lo file_io/unix/fileacc.lo \nfile_io/unix/filedup.lo file_io/unix/filepath.lo file_io/unix/filestat.lo \nfile_io/unix/flock.lo file_io/unix/fullrw.lo file_io/unix/mktemp.lo \nfile_io/unix/open.lo file_io/unix/pipe.lo file_io/unix/readwrite.lo \nfile_io/unix/seek.lo network_io/unix/inet_ntop.lo network_io/unix/inet_pton.lo \nnetwork_io/unix/poll.lo network_io/unix/sendrecv.lo network_io/unix/sockaddr.lo \nnetwork_io/unix/sockets.lo network_io/unix/sockopt.lo threadproc/unix/proc.lo \nthreadproc/unix/procsup.lo threadproc/unix/signals.lo threadproc/unix/thread.lo \nthreadproc/unix/threadpriv.lo misc/unix/errorcodes.lo misc/unix/getopt.lo \nmisc/unix/getuuid.lo misc/unix/otherchild.lo misc/unix/rand.lo \nmisc/unix/start.lo misc/unix/uuid.lo misc/unix/version.lo \nlocks/unix/crossproc.lo locks/unix/global_mutex.lo locks/unix/intraproc.lo \nlocks/unix/locks.lo locks/unix/proc_mutex.lo locks/unix/thread_cond.lo \nlocks/unix/thread_mutex.lo locks/unix/thread_rwlock.lo time/unix/time.lo \ntime/unix/timestr.lo mmap/unix/common.lo mmap/unix/mmap.lo shmem/unix/shm.lo \ni18n/unix/xlate.lo user/unix/groupinfo.lo user/unix/userinfo.lo \nmemory/unix/apr_pools.lo atomic/solaris_sparc/apr_atomic_sparc.lo \ndso/unix/dso.lo\n\nlibtool: link: only absolute run-paths are allowed\nmake[3]: *** [libapr.la] Error 1\nmake[3]: Leaving directory `/usr/local/src/NMS/httpd-2.0.35/srclib/apr'\nmake[2]: *** [all-recursive] Error 1\nmake[2]: Leaving directory `/usr/local/src/NMS/httpd-2.0.35/srclib/apr'\nmake[1]: *** [all-recursive] Error 1\nmake[1]: Leaving directory `/usr/local/src/NMS/httpd-2.0.35/srclib'\nmake: *** [all-recursive] Error 1\n\nit configures with no errors, using\n./configure --enable-layout=USAP --enable-ssl --with-ssl=/usr/local/lib\n\nwhere the USAP layout is:\n<Layout USAP>\n    prefix:        /usr/local\n    exec_prefix:   $prefix\n    bindir:        $exec_prefix/bin\n    sbindir:       $exec_prefix/bin\n    libexecdir:    $exec_prefix/libexec\n    mandir:        $prefix/man\n    sysconfdir:    $prefix/etc\n    datadir:       $prefix/www\n    iconsdir:      $datadir/icons\n    htdocsdir:     $datadir/html\n    manualdir:     $mandir/info\n    cgidir:        $datadir/cgi-bin\n    includedir:    $prefix/include\n    localstatedir: $datadir\n    runtimedir:    $localstatedir/log\n    logfiledir:    $localstatedir/log\n    proxycachedir: $localstatedir/proxy\n</Layout>\n\nand the SSL lib in /usr/local/lib is:\nopenssl-0.9.6c\n/usr/local/lib/libssl.a\n\nconfigured with the following:\n./config --prefix=/usr/local\n\nand installed with no errors\n\nI was able to get the old HTTPD 1.3 compiled and installed with no problems, so \nit seems to be an error specific to HTTPD 2.0.\n\nJohn Patrick Carroll\nLAN/WAN Specialist\nRaytheon Polar Services Company\njohn.carroll@usap.gov"}, {"count": 1, "tags": [], "text": "Here's the problem:\n\n-rpath refix/lib\n\nfor some reason the $prefix part isn't being substituted...\n\nWhat are your $prefix, $libdir, etc... set to in your Makefile?", "attachment_id": null, "id": 14774, "creator": "aaron@apache.org", "time": "2002-04-25T20:08:55Z", "bug_id": 8528, "creation_time": "2002-04-25T20:08:55Z", "is_private": false}, {"count": 2, "tags": [], "text": "Actually, I just realized that you don't have {} delimiters around\nthe variables in your USAP layout. Add those and if you are still\nseeing the problem please reopen this bug. Thanks for using Apache!", "is_private": false, "id": 14775, "creator": "aaron@apache.org", "time": "2002-04-25T20:11:11Z", "bug_id": 8528, "creation_time": "2002-04-25T20:11:11Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 8528, "attachment_id": null, "id": 14805, "time": "2002-04-25T22:54:03Z", "creator": "john.carroll@usap.gov", "creation_time": "2002-04-25T22:54:03Z", "is_private": false, "text": "Worked like a charm... for that problem.\nDang, do I feel stupid... it didn't even occur to me, even though, in all the \nscripts *I* write, I make sure I use brackets around my variables.\n*slaps forehead* :^)\n\nthanks,\nJohn\n\nLooks like I have another issue with compiling, but not related to this problem."}]