[{"count": 0, "tags": [], "text": "breakiterator attribute on javadoc is ignored if a doclet element is provided.\nCode like this\n\nif (breakiterator && doclet == null) {\n    toExecute.createArgument().setValue(\"-breakiterator\");\n}\n\nis the cause. I can't think of a reason why this would be the case. I can still\nconfigure the task by passing say -breakiterator as an additionalparam, and if I\ncan do that (and it works) when I've a doclet element then there's no reason why\nthe attribute shouldn't work. Also the default is false, so if there are\nscenarios where setting to true would break the expected funtonality of the\ndoclet then that's a configuration error.\n\nIn any case the documentation mentions nothing about this.\n\nbased on the history in bug 11569 -\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=11569 - it looks like someone\napplied the linksource patch and blindly duplicated the pattern for the\nbreakiterator.\n\nthe code above should be replaced with \n\nif (breakiterator) {\n    toExecute.createArgument().setValue(\"-breakiterator\");\n}", "is_private": false, "bug_id": 34580, "id": 73996, "time": "2005-04-22T18:56:36Z", "creator": "darragh-apache@peelmeagrape.net", "creation_time": "2005-04-22T18:56:36Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 74126, "time": "2005-04-26T12:21:23Z", "bug_id": 34580, "creation_time": "2005-04-26T12:21:23Z", "is_private": false, "text": "According to\nhttp://java.sun.com/j2se/1.4.2/docs/tooldocs/solaris/javadoc.html#standard\n-breakiterator is an option of the standard doclet, not javadoc.\n\nAssuming this is true, the code is correct."}, {"count": 2, "tags": [], "creator": "darragh-apache@peelmeagrape.net", "text": "I do agree with your interpretation of the link you provided - I can work around -  \nthe sun documentation on how to write doclets says things like -  \"copy the\nwhole standard doclet and modify it. If you use a copy of the standard doclet as\nyour starting point, you may want to remove the package statements at the\nbeginning of each source file and replace them with the name of your own, new\npackage\" - http://java.sun.com/j2se/1.4.2/docs/tooldocs/javadoc/overview.html#custom\n\nso many doclets are effectively specialised versions of the standard doclet -\nand will handle the optional settings of the standard doclet. \n\nI can see how making the change I proposed would potentially break existing\ndoclets, ", "id": 74127, "time": "2005-04-26T12:32:25Z", "bug_id": 34580, "creation_time": "2005-04-26T12:32:25Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 34580, "attachment_id": null, "text": "Well, if I look up my local JDK 1.5.0_01 docs, -breakiterator is now a Javadoc \noption and not a Standard doclet option. So it seems it graduated, which sounds \nlogical to me. --DD", "id": 74138, "time": "2005-04-26T16:33:45Z", "creator": "ddevienne@lgc.com", "creation_time": "2005-04-26T16:33:45Z", "is_private": false}, {"count": 4, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 74139, "time": "2005-04-26T16:47:47Z", "bug_id": 34580, "creation_time": "2005-04-26T16:47:47Z", "is_private": false, "text": "Working on <javadoc> or any other task wrapping a JDK executable really is a\nspecial kind of challenge.\n\nThe logic therefore needs to be \"if we are running JDK 1.5 or higher or no\ndoclet has been specified, -breakiterator can be used\".  With JDK 1.4's javadoc\nthings may fail otherwise."}, {"count": 5, "tags": [], "creator": "bodewig@apache.org", "text": "Fixed in CVS (and only for Java 5 and up).\n\nChecking in WHATSNEW;\n/home/cvs/ant/WHATSNEW,v  <--  WHATSNEW\nnew revision: 1.845; previous revision: 1.844\ndone\nMore commits to come...\nChecking in src/main/org/apache/tools/ant/taskdefs/Javadoc.java;\n/home/cvs/ant/src/main/org/apache/tools/ant/taskdefs/Javadoc.java,v  <-- \nJavadoc.java\nnew revision: 1.143; previous revision: 1.142\ndone\n", "id": 77111, "time": "2005-07-08T16:27:32Z", "bug_id": 34580, "creation_time": "2005-07-08T16:27:32Z", "is_private": false, "attachment_id": null}]