[{"attachment_id": null, "tags": [], "bug_id": 53418, "text": "Currently JMeter starts all threads at startup and makes them pause to respect the ramp.\nThis feature is interesting when you want to use short lived thread and start a lot of them (thousands).\n\nTaking into account Kirk Pepperdine requirement on users list:\nhttp://mail-archives.apache.org/mod_mbox/jmeter-user/201206.mbox/%3CDB7650C0-5BA5-4C1E-A094-F8E5D35BA189%40gmail.com%3E", "count": 0, "id": 160013, "time": "2012-06-14T21:13:02Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-06-14T21:13:02Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 53418, "attachment_id": null, "text": "I investigated this one, my draft implementation idea is the following:\n- Make AbstractThreadGroup control the life of the JMeterThread threads\n- So AbstractThreadGroup would have:\n1) a start method that would trigger a Thread. This thread will launch JMeterThreads and control their life.\n2) A stop method to stop/interrupt them\n3) isCreatingThreadsOnDemand which would return true for new behaviour\n\nIf isCreatingThreadsOnDemand returns false, StandardJMeterEngine would create Threads as today.\nIf true, implementation of ThreadGroup would create threads as part of its internal behaviour.\n\nThis way I think we don't break existing plugins that extend AbstractThreadGroup.\nBut the bad point about it is that thread creation algorithm will be in Thread Group unless we move it in AbstractThreadGroup  and call it or not, which might be better as we need to keep control on this part to ensure right shutdown, stop....", "id": 160503, "time": "2012-07-08T13:59:27Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-07-08T13:59:27Z", "is_private": false}, {"count": 2, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": 29054, "id": 160612, "time": "2012-07-12T21:53:39Z", "bug_id": 53418, "creation_time": "2012-07-12T21:53:39Z", "is_private": false, "text": "Created attachment 29054\nProposed Patch\n\nHello,\nI implemented this feature.\nHope you can have a look at it soon.\n\nRegards\nPhilippe M."}, {"count": 3, "tags": [], "bug_id": 53418, "attachment_id": 29055, "text": "Created attachment 29055\nTest Plan", "id": 160613, "time": "2012-07-12T21:53:56Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-07-12T21:53:56Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 53418, "is_private": false, "count": 4, "id": 160614, "time": "2012-07-12T21:55:47Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-07-12T21:55:47Z", "text": "Hello,\nFeature is implemented this way:\n- Moved Thread control into AbstractThreadGroup\n- Default start method of AbstractThreadGroup creates threads at start of test\n- New AbstractThreadGroup called OnDemandThreadGroup creates Threads when needed\n- OnDemandThreadGroupGui just changes class of ThreadGroup"}, {"count": 5, "tags": [], "bug_id": 53418, "is_private": false, "id": 160627, "creation_time": "2012-07-13T21:50:47Z", "time": "2012-07-13T21:50:47Z", "creator": "p.mouawad@ubik-ingenierie.com", "text": "Date: Fri Jul 13 21:49:30 2012\nNew Revision: 1361410\n\nURL: http://svn.apache.org/viewvc?rev=1361410&view=rev\nLog:\nBug 53418 - New OnDemandThreadGroup that creates threads when needed instead of creating them on Test startup\nBugzilla Id: 53418\n\nAdded:\n    jmeter/trunk/src/core/org/apache/jmeter/threads/OnDemandThreadGroup.java   (with props)\n    jmeter/trunk/src/core/org/apache/jmeter/threads/gui/OnDemandThreadGroupGui.java   (with props)\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/engine/StandardJMeterEngine.java\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages.properties\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages_fr.properties\n    jmeter/trunk/src/core/org/apache/jmeter/threads/AbstractThreadGroup.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/JMeterThread.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/ThreadGroup.java\n    jmeter/trunk/xdocs/changes.xml\n\n\nDate: Fri Jul 13 21:50:08 2012\nNew Revision: 1361411\n\nURL: http://svn.apache.org/viewvc?rev=1361411&view=rev\nLog:\nBug 53418 - New OnDemandThreadGroup that creates threads when needed instead of creating them on Test startup\nDocumentation update\nBugzilla Id: 53418\n\nAdded:\n    jmeter/trunk/docs/images/screenshots/ondemandthreadgroup.png   (with props)\n    jmeter/trunk/xdocs/images/screenshots/ondemandthreadgroup.png   (with props)\nModified:\n    jmeter/trunk/xdocs/usermanual/component_reference.xml", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 53418, "attachment_id": null, "text": "Date: Fri Jul 13 21:58:42 2012\nNew Revision: 1361414\n\nURL: http://svn.apache.org/viewvc?rev=1361414&view=rev\nLog:\nBug 53418 - New OnDemandThreadGroup that creates threads when needed instead of creating them on Test startup\nFix saveservice.properties\n\n\nBugzilla Id: 53418\n\nModified:\n    jmeter/trunk/bin/saveservice.properties", "id": 160628, "time": "2012-07-13T21:59:20Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-07-13T21:59:20Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 53418, "attachment_id": null, "id": 160629, "time": "2012-07-13T22:04:49Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2012-07-13T22:04:49Z", "is_private": false, "text": "Date: Fri Jul 13 22:04:06 2012\nNew Revision: 1361415\n\nURL: http://svn.apache.org/viewvc?rev=1361415&view=rev\nLog:\nBug 53418 - New OnDemandThreadGroup that creates threads when needed instead of creating them on Test startup\nFix SaveService fileVersion and version\n\n\nBugzilla Id: 53418\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/save/SaveService.java"}, {"attachment_id": null, "tags": [], "bug_id": 53418, "text": "Reworked the code:\n\nURL: http://svn.apache.org/viewvc?rev=1372462&view=rev\nLog:\nMerge OnDemandThreadGroup into ThreadGroup\nBugzilla Id: 53418\n\nRemoved:\n    jmeter/trunk/src/core/org/apache/jmeter/threads/OnDemandThreadGroup.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/gui/OnDemandThreadGroupGui.java\nModified:\n    jmeter/trunk/bin/saveservice.properties\n    jmeter/trunk/docs/images/screenshots/threadgroup.png\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages.properties\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages_fr.properties\n    jmeter/trunk/src/core/org/apache/jmeter/save/SaveService.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/AbstractThreadGroup.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/ThreadGroup.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/gui/ThreadGroupGui.java\n    jmeter/trunk/xdocs/images/screenshots/threadgroup.png\n    jmeter/trunk/xdocs/usermanual/component_reference.xml\n\n\nURL: http://svn.apache.org/viewvc?rev=1372467&view=rev\nLog:\nNo longer need these\n\nRemoved:\n    jmeter/trunk/docs/images/screenshots/ondemandthreadgroup.png\n    jmeter/trunk/xdocs/images/screenshots/ondemandthreadgroup.png\n\nURL: http://svn.apache.org/viewvc?rev=1372481&view=rev\nLog:\nMerge OnDemandThreadGroup into ThreadGroup:\nDon't display delayed start for setUp/tearDown thread groups\nRename onDemand as delayed_start\nMake the property optional in JMC files\n\nBugzilla Id: 53418\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages.properties\n    jmeter/trunk/src/core/org/apache/jmeter/threads/ThreadGroup.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/gui/PostThreadGroupGui.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/gui/SetupThreadGroupGui.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/gui/ThreadGroupGui.java\n\n\nURL: http://svn.apache.org/viewvc?rev=1372484&view=rev\nLog:\ndelayedStartup needs to be constant\nBugzilla Id: 53418\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/threads/ThreadGroup.java", "count": 8, "id": 161343, "time": "2012-08-13T16:09:58Z", "creator": "sebb@apache.org", "creation_time": "2012-08-13T16:09:58Z", "is_private": false}, {"count": 9, "tags": [], "creator": "milamber@apache.org", "attachment_id": null, "id": 161353, "time": "2012-08-13T22:24:59Z", "bug_id": 53418, "creation_time": "2012-08-13T22:24:59Z", "is_private": false, "text": "URL: http://svn.apache.org/viewvc?rev=1372655&view=rev\nLog:\nAdd delayed_start French translation\nBugzilla Id: 53418\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages_fr.properties"}, {"count": 10, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 161391, "time": "2012-08-14T19:35:10Z", "bug_id": 53418, "creation_time": "2012-08-14T19:35:10Z", "is_private": false, "text": "URL: http://svn.apache.org/viewvc?rev=1373042&view=rev\nLog:\nStandardJMeterEngine is now responsible for starting thread groups, which in turn are responsible for their threads.\nAll the thread creation and scheduling is now handled by the thread group.\nThis allows the JMeterThread instances to be created only when needed by the delayed start method.\nMemory should now be only limited by the number of concurrent threads.\nBugzilla Id: 53418\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/engine/StandardJMeterEngine.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/AbstractThreadGroup.java\n    jmeter/trunk/src/core/org/apache/jmeter/threads/ThreadGroup.java"}, {"count": 11, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "id": 161544, "time": "2012-08-20T19:57:14Z", "bug_id": 53418, "creation_time": "2012-08-20T19:57:14Z", "is_private": false, "text": "Bug name was:\n- New OnDemandThreadGroup that creates threads when needed instead of creating them on Test startup"}, {"attachment_id": null, "tags": [], "bug_id": 53418, "text": "*** Bug 47886 has been marked as a duplicate of this bug. ***", "count": 12, "id": 162454, "time": "2012-09-28T14:05:41Z", "creator": "sebb@apache.org", "creation_time": "2012-09-28T14:05:41Z", "is_private": false}]