[{"count": 0, "tags": [], "creator": "shawn.peters@cerner.com", "text": "Created attachment 27877\nExample FO to recreate the problem\n\nSome font sizes, such as 10 pt, seem to produce good output. However, when other font sizes are used, spacing on <inlines> becomes unpredictable.", "id": 151083, "time": "2011-10-31T15:21:39Z", "bug_id": 52114, "creation_time": "2011-10-31T15:21:39Z", "is_private": false, "attachment_id": 27877}, {"count": 1, "tags": [], "bug_id": 52114, "attachment_id": null, "text": "(In reply to comment #0)\n \n> Some font sizes, such as 10 pt, seem to produce good output. However, when\n> other font sizes are used, spacing on <inlines> becomes unpredictable.\n\nCan you give a more accurate description of what you get, I see nothing wrong on what I get (against either FOP 1.0 or FOR trunk).\n\n - what FOP version do you use?\n - diff between expected et get result?", "id": 151141, "time": "2011-11-03T09:15:37Z", "creator": "pascal.sancho@takoma.fr", "creation_time": "2011-11-03T09:15:37Z", "is_private": false}, {"count": 2, "tags": [], "creator": "pascal.sancho@takoma.fr", "is_private": false, "text": "forgot to change status", "id": 151142, "time": "2011-11-03T09:16:08Z", "bug_id": 52114, "creation_time": "2011-11-03T09:16:08Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "we are currently using version 0.95beta-1. We did test against the 1.0 version as well and it was still an issue for us.\n\nBasically the word with the apostrophes gets a bunch of extra spaces put in between them when producing text output", "is_private": false, "id": 151143, "creator": "shawn.peters@cerner.com", "time": "2011-11-03T13:58:51Z", "bug_id": 52114, "creation_time": "2011-11-03T13:58:51Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 52114, "text": "One cause should be line breaks between inline elements in original FO.\n\nIf this is the case, then the behavior is normal: line breaks are considered as blank spaces in XML content (unless explicitly specified LF treatment).\n\nCan you check that point?", "count": 4, "id": 151150, "time": "2011-11-03T15:06:22Z", "creator": "pascal.sancho@takoma.fr", "creation_time": "2011-11-03T15:06:22Z", "is_private": false}, {"count": 5, "tags": [], "text": "Sorry for the long delay, but I attached the original FO and i dont see any that in it.", "is_private": false, "id": 152480, "creator": "shawn.peters@cerner.com", "time": "2011-12-30T22:47:55Z", "bug_id": 52114, "creation_time": "2011-12-30T22:47:55Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 52114, "text": "resolved invalid due to lack of information (PDF output file)", "count": 6, "id": 157010, "time": "2012-04-01T15:47:23Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T15:47:23Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 52114, "text": "Could you provide additional questions? I thought I provided what was requested before.", "count": 7, "id": 157054, "time": "2012-04-02T13:32:22Z", "creator": "shawn.peters@cerner.com", "creation_time": "2012-04-02T13:32:22Z", "is_private": false}, {"count": 8, "tags": [], "creator": "gadams@apache.org", "text": "(In reply to comment #7)\n> Could you provide additional questions? I thought I provided what was requested\n> before.\n\nyou have not provided a PDF output file produced by the version of FOP you are testing/using with the sample input file you did provide", "id": 157058, "time": "2012-04-02T14:06:35Z", "bug_id": 52114, "creation_time": "2012-04-02T14:06:35Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "text": "(In reply to comment #5)\n> Sorry for the long delay, but I attached the original FO and i dont see any\n> that in it.\n\nI see nothing wrong in PDF output, against FOP v0.95, v1.0, or trunk.\nSo I persist that there are some extra spaces in your original XSL-FO that are not in your test case.\n\nAs Glenn said, there is no output file or description, showing/explaining what is wrong.", "is_private": false, "id": 157061, "creator": "pascal.sancho@takoma.fr", "time": "2012-04-02T14:37:44Z", "bug_id": 52114, "creation_time": "2012-04-02T14:37:44Z", "attachment_id": null}, {"count": 10, "tags": [], "creator": "shawn.peters@cerner.com", "text": "Created attachment 28571\nExample TXT file that FOP produces\n\nSorry for the delayed response. Here is an example TXT file FOP produced from the example FO file already attached. The issue is not producing PDF its producing plain text output. PDF is just fine. I apologize for the confusion. Is there anything else I can provide?", "id": 157794, "time": "2012-04-10T18:32:45Z", "bug_id": 52114, "creation_time": "2012-04-10T18:32:45Z", "is_private": false, "attachment_id": 28571}, {"count": 11, "attachment_id": null, "bug_id": 52114, "is_private": false, "id": 157828, "time": "2012-04-10T23:42:47Z", "creator": "gadams@apache.org", "creation_time": "2012-04-10T23:42:47Z", "tags": [], "text": "only fixed font usage is supported for the TXT renderer; see\n\nhttp://xmlgraphics.apache.org/fop/1.0/output.html#txt"}, {"count": 12, "attachment_id": 28595, "bug_id": 52114, "is_private": false, "id": 157987, "time": "2012-04-12T14:15:19Z", "creator": "shawn.peters@cerner.com", "creation_time": "2012-04-12T14:15:19Z", "tags": [], "text": "Created attachment 28595\nUpdated FO based based on recoomendations\n\nMy FO is using a fixed width font (Courier). I updated it based on the recommendations on the page provided. I changed the font size and the line height and it made it even worse."}, {"count": 13, "tags": [], "text": "Created attachment 28596\nOutput based on updated FO - Event worse", "is_private": false, "id": 157988, "creator": "shawn.peters@cerner.com", "time": "2012-04-12T14:15:49Z", "bug_id": 52114, "creation_time": "2012-04-12T14:15:49Z", "attachment_id": 28596}, {"count": 14, "tags": [], "creator": "gadams@apache.org", "is_private": false, "text": "(In reply to comment #13)\n> Created attachment 28596 [details]\n> Output based on updated FO - Event worse\n\n(In reply to comment #11)\n> only fixed font usage is supported for the TXT renderer; see\n> \n> http://xmlgraphics.apache.org/fop/1.0/output.html#txt\n\nit appears the data in that page is out of date; please try font-size=\"10pt\"; also, you may need to play with line-height; i reduced the page width to force line breaks, then experimented with line height to produce reasonable results; oddly, i found that line-height='6pt' seemed to work best when font-size was 10pt\n\nin any case, the caveat emptor found in the description of the TXT rendereer \"The renderer is very limited, so do not be surprised if it gives unsatisfactory results.\" should be kept in mind", "id": 157991, "time": "2012-04-12T16:27:51Z", "bug_id": 52114, "creation_time": "2012-04-12T16:27:51Z", "attachment_id": null}, {"count": 15, "tags": [], "creator": "shawn.peters@cerner.com", "text": "That definitely seemed to work. Thanks!\n\nI do need to know if this could potentially break existing text we might be sending through this renderer that come out looking just fine. If we made this change this would effectively be used for all plain text renderer we need to do. we could get any combination of text. Basically we hard code the font size, but allow the client to override it.\n\nWe hard code it to 10.5 with no line height specified. Im trying to figure out if your recommendation should be our new default or if we should just instruct the client to override our default.", "id": 157992, "time": "2012-04-12T17:31:56Z", "bug_id": 52114, "creation_time": "2012-04-12T17:31:56Z", "is_private": false, "attachment_id": null}, {"count": 16, "tags": [], "bug_id": 52114, "attachment_id": null, "text": "http://svn.apache.org/viewvc?view=revision&revision=1325394\n\nfixed bug in TXT renderer's handling of row height computation due to it not taking into account space before/after produced by leading (before and after)\n\nat this time, use of the following appears to produce desired results:\n\nfont-family = \"Courier\"\nfont-size = \"10pt\"\nline-height = \"10pt\"\n\nnote that the default line height if not specified will be 1.2*font-size = 12pt, which will not produce the correct results\n\nalso updated site documentation (which i will publish to apache shortly)", "id": 157993, "time": "2012-04-12T17:44:34Z", "creator": "gadams@apache.org", "creation_time": "2012-04-12T17:44:34Z", "is_private": false}, {"count": 17, "tags": [], "text": "Hey Glenn, it looks like you found a way to fix it? I don't suppose you could provide any more details about what you think was causing it could you?\n\nAlso, will there be any issues if I don't specify a line height? The way our cod works today we typically are not specifying a line height. When looking at the result the text looks fine, but the space allocated for the height is certainly larger than what we need, but i don't necessarily see anything wrong with it.\n\nIf it is fixed, do you have an anticipated release date? Or a version I could try out?\n\nThanks a lot, I really appreciate it!", "is_private": false, "id": 157997, "creator": "shawn.peters@cerner.com", "time": "2012-04-12T19:20:52Z", "bug_id": 52114, "creation_time": "2012-04-12T19:20:52Z", "attachment_id": null}, {"count": 18, "attachment_id": null, "bug_id": 52114, "is_private": false, "id": 157999, "time": "2012-04-12T20:49:35Z", "creator": "gadams@apache.org", "creation_time": "2012-04-12T20:49:35Z", "tags": [], "text": "(In reply to comment #17)\n> Hey Glenn, it looks like you found a way to fix it? I don't suppose you could\n> provide any more details about what you think was causing it could you?\n\nsee the link i put in the prior comment, repeated here [1]:\n\n[1] http://svn.apache.org/viewvc?view=revision&revision=1325394\n\n> Also, will there be any issues if I don't specify a line height? The way our\n> cod works today we typically are not specifying a line height.\n\nyes, as i indicate, the default line height is 1.2*font-size, so that will produce incorrect row computation, resulting in unexpected blank lines on TXT rendering; note that since line-height is inheritable, you only need to specify it once, e.g., on fo:flow or on fo:page-sequence or fo:root, to have it inherited by descendant fo:blocks\n\n> When looking at\n> the result the text looks fine, but the space allocated for the height is\n> certainly larger than what we need, but i don't necessarily see anything wrong\n> with it.\n> \n> If it is fixed, do you have an anticipated release date? Or a version I could\n> try out?\n\nthe fix will be incorporated into the nightly builds [2] and the upcoming FOP1.1 release (no date set)\n\n[2] http://ci.apache.org/projects/xmlgraphics/fop/snapshots/\n\n> Thanks a lot, I really appreciate it!"}]