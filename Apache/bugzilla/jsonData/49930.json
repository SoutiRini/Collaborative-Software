[{"count": 0, "tags": [], "text": "OS: Linux 2.6.16.46-0.12-smp\n\nMachine: Intel(R) Core(TM)2 Duo CPU\n\nAPR version: 1.4.2\n\nThe crash results from the line 39 in file activemq-cpp-library-3.2.1/src/main/decaf/net/InetAddress.cpp. It is an initialization for a static variable inside class InetAddress. In the initialization code, InetAddress constructor eventually calls an atomic operation function apr_atomic_add32() to do atomic increment. This function apr_atomic_add32() then tries to get a mutex from an uninitialized array of mutexes. Since the pointer to this array is NULL, it leads to a segmentation fault.\n\nFix: apr-1.4.2/src/atomic/unix/mutex.c\n\nIn mutex_hash(), if mutex hash table does not exist, call apr_initialize() to create it.", "attachment_id": null, "bug_id": 49930, "id": 139873, "time": "2010-09-14T16:54:43Z", "creator": "kaiwan@cisco.com", "creation_time": "2010-09-14T16:54:43Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 49930, "attachment_id": null, "text": "Not calling apr_initialize() before using apr is an error in the calling application.", "id": 139884, "time": "2010-09-15T14:39:47Z", "creator": "rpluem@apache.org", "creation_time": "2010-09-15T14:39:47Z", "is_private": false}]