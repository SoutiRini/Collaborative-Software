[{"count": 0, "tags": [], "bug_id": 10555, "is_private": false, "text": "The HttpServlet.doHead method is\n\n protected void doHead(HttpServletRequest req, HttpServletResponse resp)\n\tthrows ServletException, IOException\n    {\n\tNoBodyResponse response = new NoBodyResponse(resp);\n\t\n\tdoGet(req, response);\n\tresponse.setContentLength();\n    }\n\nwhere\n\n  class NoBodyResponse implements HttpServletResponse {...}\n\n\n\nThis breaks older versions of Jetty if a head request is\npassed to a request dispatcher.  This is because Jetty used\nto enforce the SRV 8.2 and the javadoc for RequestDispatcher \nthat says\n\n * The request and response parameters must be either the same\n * objects as were passed to the calling servlet's service method or be\n * subclasses of the {@link ServletRequestWrapper} or \n * {@link ServletResponseWrapper} classes that wrap them.\n\n\nThus the doHead mechanism breaks this because NoBodyResponse\ndoes not extend HttpServletResponseWrapper.\n\nThe NoBodyResponse should extend the wrapper, so that containers can\nenforce the SRC8.2 if they wish.", "id": 19117, "time": "2002-07-08T14:51:00Z", "creator": "gregw@mortbay.org", "creation_time": "2002-07-08T14:51:00Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 10555, "attachment_id": null, "text": "\n\n*** This bug has been marked as a duplicate of 22290 ***", "id": 50354, "time": "2004-01-10T11:58:08Z", "creator": "markt@apache.org", "creation_time": "2004-01-10T11:58:08Z", "is_private": false}]