[{"count": 0, "tags": [], "bug_id": 22080, "is_private": false, "id": 41997, "attachment_id": null, "creator": "landers@in.tum.de", "creation_time": "2003-08-02T11:34:23Z", "time": "2003-08-02T11:34:23Z", "text": "The VAJImport task fails with a NullPointerException in\nDirectoryScanner.getIncludedFiles. The reason for this is that\nFileSet.setupDirectoryScanner does not call DirectoryScanner.scan (anymore?);\nleaving attributes uninitialized, causing the NullPointerException later on.\nThis bug most likely breaks the task no matter what circumstances (os, etc.)."}, {"count": 1, "tags": [], "bug_id": 22080, "attachment_id": null, "text": "Calling DirectoryScanner.scan() manually after having obtained one via\nFileSet.setupDirectoryScanner() corrects the problem. Bui Dinh Chian (see CC)\nhas confirmed this. I'll attach a patch against CVS head.", "id": 41998, "time": "2003-08-02T11:37:24Z", "creator": "landers@in.tum.de", "creation_time": "2003-08-02T11:37:24Z", "is_private": false}, {"count": 2, "tags": [], "creator": "landers@in.tum.de", "attachment_id": 7626, "id": 41999, "time": "2003-08-02T11:38:14Z", "bug_id": 22080, "creation_time": "2003-08-02T11:38:14Z", "is_private": false, "text": "Created attachment 7626\nPatch that adds a call to ds.scan() in VAJImport"}, {"count": 3, "tags": [], "text": "So the changes to DirectoryScanner are backwards incompatible in the sense that\nwe break subclasses of DirectoryScanner.\n\nI think it would be better to find a way that keeps the old method incocation\norder in DirectoryScanner than to patch all subclasses we can get a hold on\n(because there will always be more).\n", "attachment_id": null, "bug_id": 22080, "id": 42059, "time": "2003-08-04T12:30:29Z", "creator": "bodewig@apache.org", "creation_time": "2003-08-04T12:30:29Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 22080, "is_private": false, "text": "Stefan, I would rather think that this bug report denotes something really \nspecific to VAJImport. FileSet#getDirectoryScanner is the method which should be \ncalled instead of FileSet#setupDirectoryScanner.\n\nI am going to fix this one.", "id": 42083, "time": "2003-08-04T15:58:17Z", "creator": "antoine@apache.org", "creation_time": "2003-08-04T15:58:17Z", "attachment_id": null}, {"count": 5, "tags": [], "text": "patch committed, thanks. Since VAJImport has its own subclass of \nDirectoryScanner, I have committed the patch as it was.\nCan you test the nightly 2003-08-05 and later ?", "is_private": false, "bug_id": 22080, "id": 42084, "time": "2003-08-04T16:11:00Z", "creator": "antoine@apache.org", "creation_time": "2003-08-04T16:11:00Z", "attachment_id": null}]