[{"count": 0, "tags": [], "bug_id": 5026, "attachment_id": null, "id": 8181, "time": "2001-11-22T01:12:08Z", "creator": "kay@sonofon.dk", "creation_time": "2001-11-22T01:12:08Z", "is_private": false, "text": "The INITIAL_CONTEXT_FACTORY is not defined from the properties file due to a missing \"else\". Consequence is, that it must be hard defined in the source code, which is not always an option.\n\nHere is a patch:\n\n*** catalina/src/share/org/apache/naming/NamingService.java~    Tue Nov 20 12:19:24 2001\n--- catalina/src/share/org/apache/naming/NamingService.java     Thu Nov 22 10:09:53 2001\n***************\n*** 196,202 ****\n              oldValue = System.getProperty(Context.INITIAL_CONTEXT_FACTORY);\n              if (oldValue != null) {\n                  oldIcValue = oldValue;\n!             }\n              System.setProperty(Context.INITIAL_CONTEXT_FACTORY,\n                                 Constants.Package \n                                 + \".java.javaURLContextFactory\");\n--- 196,202 ----\n              oldValue = System.getProperty(Context.INITIAL_CONTEXT_FACTORY);\n              if (oldValue != null) {\n                  oldIcValue = oldValue;\n!             } else {\n              System.setProperty(Context.INITIAL_CONTEXT_FACTORY,\n                                 Constants.Package \n                                 + \".java.javaURLContextFactory\");"}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "text": "Fixed. Thanks for the patch.", "id": 8198, "time": "2001-11-22T09:04:49Z", "bug_id": 5026, "creation_time": "2001-11-22T09:04:49Z", "is_private": false}]