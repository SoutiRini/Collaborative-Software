[{"count": 0, "tags": [], "bug_id": 3381, "attachment_id": null, "text": "The code generated for a \"short\" attribute on a custom tag is of the form \nmyTag.setAttributeX(123) and causes a \"cannot convert int to short\" error.\n\nLine 295/6 of TagBeginGenerator.java are the following :\n\n        } else if (c == short.class) {\n            return Short.valueOf(s).toString();\n\nConverting an int (the default) to a short requires a narrowing conversion and \nhence should be explicitly cast. Therefore, something like the following is \nrequired (as implemented on byte a few lines earlier).\n\n        } else if (c == short.class) {\n            return \"((short)\" + Short.valueOf(s).toString() + \")\";\n\nThis would therefore generate myTag.setAttributeX((short)123) which should work.\n\nAs an aside and something that I've raised with the spec team, supporting short \nand java.lang.Short doesn't seem to be part of the JSP spec (section JSP.2.13.2 \nentitled Type conversions).", "id": 5060, "time": "2001-09-03T04:05:06Z", "creator": "simon_g_brown@yahoo.com", "creation_time": "2001-09-03T04:05:06Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 3381, "attachment_id": null, "text": "Fixed in nightly build 20010907.\n", "id": 5184, "time": "2001-09-06T17:28:55Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-09-06T17:28:55Z", "is_private": false}]