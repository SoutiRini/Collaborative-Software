[{"count": 0, "attachment_id": null, "bug_id": 42674, "text": "Hi,\n\nFollowing is my problem scenario:\n\n1. I have a web service deployed in web logic server on a Solaris machine.\n2. There are web logic user groups created to restrict the web services being\nused by a specific user.\n3. These groups have a user name and a password.\n\nTo fire requests using jmeter(From a Windows XP PC), i added a HTTP\nAuthorisation Manager with the following fields:\nBase URL : {my web services URL}\nUser Name : {username for my group on weblogic}\nPassword : {password for my group on weblogic}\n\nWith this setting am able to fire requests to my web services using jmeter 2.1\nBut when i try to use jmeter 2.2 ( the latest nightly build dated 11/06/2007), i\nhave a problem. ( It doesn't work with any of the 2.2 builds till now including\nthe stable version)\n\nWhen i have Base URL, Username and Password as it was in jmeter 2.1 it gives me\na \"401 Unauthorized\" error message.\nI never gave any domain in jmeter 2.1.\n\nI have tried giving the domain also in jmeter 2.2.\nI gave the domain to be\n\n1. My Network Domain\n2. Web Logic Server Domain.\n\nBut neither worked. It even doesn't work with a blank domain.\n\nThis is very important to me to be working on Jmeter 2.2 as i have to use XPATH\nextractor as well in my test scripts.\n\nI have the following structure for my test plan.\n\nTest Plan\n|----Thread Group\n     |----SOAP/XML-RPC Request\n          |----Response Assertion\n|----View Results in Tree\n|----HTTP Authorization Manager\n\nFollowing are the required information to test the same.\n\nFor SOAP/XML-RPC Request :\n1. URL : http://192.65.219.57/DnPWS/DNPWS\n2. Request Data :\n\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\nxmlns:prof=\"http://bt21st.bt.com.sep/Profile\" xmlns:java=\"java:sep.com.bt.prf.data\">\n   <soapenv:Header/>\n   <soapenv:Body>\n      <prof:getUserAddress>\n         <prof:RequestSystemCd>SDP</prof:RequestSystemCd>\n         <prof:userSearchCriteria>\n            <java:categoryCd>ADDRESS</java:categoryCd>\n            <java:identifierDomain>FVC</java:identifierDomain>\n            <java:identifierValue>JMETER-TEST-USER-ERIC</java:identifierValue>\n            <java:universalId></java:universalId>\n         </prof:userSearchCriteria>\n      </prof:getUserAddress>\n   </soapenv:Body>\n</soapenv:Envelope>\n\nFor HTTP Authorization Manager :\n\n1. Base URL : http://192.65.219.57/DnPWS/DNPWS\n2. User Name : jmeteruser\n3. Password : jm3t3rus3r\n\nI can upload the test plan i have created, if you can guide me where i can\nupload them.\n\nAlso can you let me know how to check the status of this bug.\n\nThanks in anticipation.\n\nRaghuveer Sribhashyam", "id": 104431, "time": "2007-06-15T06:05:00Z", "creator": "rsribhashyam@gmail.com", "creation_time": "2007-06-15T06:05:00Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "rsribhashyam@gmail.com", "text": "Created attachment 20353\nTest Plan for Jmeter 2.1\n\nI have created different Test Plans with same structure for 2.1 and 2.2 as a\njmx file opened with 2.2 doesnot open back in 2.1.\nThis is the test plan for 2.1. Will attach the 2.2 test plan as well.", "id": 104432, "time": "2007-06-15T06:07:31Z", "bug_id": 42674, "creation_time": "2007-06-15T06:07:31Z", "is_private": false, "attachment_id": 20353}, {"count": 2, "tags": [], "creator": "rsribhashyam@gmail.com", "text": "Created attachment 20354\nTest Plan for Jmeter 2.2\n\nI have created different Test Plans with same structure for 2.1 and 2.2 as a\njmx file opened with 2.2 doesnot open back in 2.1.\nThis is the test plan for 2.2. Also attached the test plan for 2.1. Its in the\nprevious attachment.", "id": 104433, "time": "2007-06-15T06:08:30Z", "bug_id": 42674, "creation_time": "2007-06-15T06:08:30Z", "is_private": false, "attachment_id": 20354}, {"count": 3, "tags": [], "bug_id": 42674, "attachment_id": null, "id": 104643, "creation_time": "2007-06-22T11:42:03Z", "time": "2007-06-22T11:42:03Z", "creator": "sebb@apache.org", "text": "Try putting the User Defined Variables before the HTTP Authorization Manager.\nDoes this help?\n\n[The reason the 2.1 test plan does not load in 2.2 is that 2.1 saved the \nformatter if the time format was set to anything other than none or ms. The \nformatter cannot be reloaded, and causes the error. I'll see if I can fix it \nso that the formatter is ignored.]", "is_private": false}, {"count": 4, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 104738, "time": "2007-06-26T14:46:13Z", "bug_id": 42674, "creation_time": "2007-06-26T14:46:13Z", "is_private": false, "text": "I've fixed JMeter so that the formatter is ignored (if present). This will \nappear in the next release of JMeter."}, {"count": 5, "tags": [], "bug_id": 42674, "attachment_id": null, "id": 104775, "creation_time": "2007-06-27T10:23:35Z", "time": "2007-06-27T10:23:35Z", "creator": "rsribhashyam@gmail.com", "text": "(In reply to comment #3)\n> Try putting the User Defined Variables before the HTTP Authorization Manager.\n> Does this help?\n> \n> [The reason the 2.1 test plan does not load in 2.2 is that 2.1 saved the \n> formatter if the time format was set to anything other than none or ms. The \n> formatter cannot be reloaded, and causes the error. I'll see if I can fix it \n> so that the formatter is ignored.]\n\nI have tried the suggestion you have suggested. But having User defined\nVariables before HTTP Authorization Manager does not work.\n\nDo you need some more information?", "is_private": false}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "text": "It looks like the Authorisation is being picked up correctly and saved with \nthe connection.\n\nThe problem is that the server requires pre-emptive authentication - it is not \ngenerating a WWW-Authenticate response to which Httpclient can reply.\n\nTo enable pre-emptive authentication, change the files below to add:\n\njmeter.properties:\nhttpclient.parameters.file=httpclient.parameters\n\nhttpclient.parameters:\nhttp.authentication.preemptive$Boolean=true\n\nDoes this fix the problem?", "id": 104794, "time": "2007-06-27T17:45:35Z", "bug_id": 42674, "creation_time": "2007-06-27T17:45:35Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "rsribhashyam@gmail.com", "text": "(In reply to comment #6)\n> It looks like the Authorisation is being picked up correctly and saved with \n> the connection.\n> \n> The problem is that the server requires pre-emptive authentication - it is not \n> generating a WWW-Authenticate response to which Httpclient can reply.\n> \n> To enable pre-emptive authentication, change the files below to add:\n> \n> jmeter.properties:\n> httpclient.parameters.file=httpclient.parameters\n> \n> httpclient.parameters:\n> http.authentication.preemptive$Boolean=true\n> \n> Does this fix the problem?\n\nHi Sebb,\n\nThis solution fixes the problem.\nBut i suggest this to be the default behaviour for the next version of jmeter.\n\nRaghuveer", "id": 104909, "time": "2007-06-29T08:53:26Z", "bug_id": 42674, "creation_time": "2007-06-29T08:53:26Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "creator": "sebb@apache.org", "text": "Sounds like a good idea to make it the default, but then HttpClient complains \nif there are no credentials. This needs further thought.", "id": 104912, "time": "2007-06-29T09:34:11Z", "bug_id": 42674, "creation_time": "2007-06-29T09:34:11Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 42674, "attachment_id": null, "text": "The code has now been fixed so that pre-emptive authentication is used if:\n- there are some credentials\n- the pre-emptive setting has not been defined\nThis is in SVN r552013.", "id": 104926, "time": "2007-06-29T12:57:02Z", "creator": "sebb@apache.org", "creation_time": "2007-06-29T12:57:02Z", "is_private": false}]