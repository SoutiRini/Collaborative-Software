[{"count": 0, "tags": [], "creator": "sammykanan@yahoo.com", "attachment_id": null, "id": 14899, "time": "2002-04-27T10:38:27Z", "bug_id": 8583, "creation_time": "2002-04-27T10:38:27Z", "is_private": false, "text": "Solaris 2.8:\nAfter having compiled the httpd enabling mod_so and mod_proxy using gcc 3.0.3 \nand mod_webapp for tomcat sucessfully, running up the server results in:\n\n\ngreenpark# ./apachectl configtest\nSyntax error on line 983 of /usr/local/apache/conf/httpd.conf:\nCannot load /usr/local/apache/libexec/mod_webapp.so into server: \nld.so.1: /usr/local/apache/bin/httpd: fatal: relocation error: \nfile /usr/local/apache/libexec/mod_webapp.so: symbol __lshrdi3: referenced \nsymbol not found\n\nline 983:\nLoadModule webapp_module      libexec/mod_webapp.so\n\nChecking mod_webapp.so using ldd:\ngreenpark# ldd mod_webapp.so\n        librt.so.1 =>    /usr/lib/librt.so.1\n        libm.so.1 =>     /usr/lib/libm.so.1\n        libsocket.so.1 =>        /usr/lib/libsocket.so.1\n        libnsl.so.1 =>   /usr/lib/libnsl.so.1\n        libresolv.so.2 =>        /usr/lib/libresolv.so.2\n        libdl.so.1 =>    /usr/lib/libdl.so.1\n        libaio.so.1 =>   /usr/lib/libaio.so.1\n        libc.so.1 =>     /usr/lib/libc.so.1\n        libmp.so.2 =>    /usr/lib/libmp.so.2\n        /usr/platform/SUNW,Ultra-5_10/lib/libc_psr.so.1"}, {"count": 1, "tags": [], "bug_id": 8583, "is_private": false, "text": "More info: I am trying to get hold of another version of the libc_psr.so any \nideas ?\n\ngreenpark# ldd -r mod_webapp.so\n        librt.so.1 =>    /usr/lib/librt.so.1\n        libm.so.1 =>     /usr/lib/libm.so.1\n        libsocket.so.1 =>        /usr/lib/libsocket.so.1\n        libnsl.so.1 =>   /usr/lib/libnsl.so.1\n        libresolv.so.2 =>        /usr/lib/libresolv.so.2\n        libdl.so.1 =>    /usr/lib/libdl.so.1\n        libaio.so.1 =>   /usr/lib/libaio.so.1\n        libc.so.1 =>     /usr/lib/libc.so.1\n        libmp.so.2 =>    /usr/lib/libmp.so.2\n        /usr/platform/SUNW,Ultra-5_10/lib/libc_psr.so.1\n        symbol not found: __lshrdi3             (./mod_webapp.so)\n        symbol not found: ap_table_get          (./mod_webapp.so)\n        symbol not found: ap_setup_client_block         (./mod_webapp.so)\n        symbol not found: ap_pstrdup            (./mod_webapp.so)\n        symbol not found: ap_log_error          (./mod_webapp.so)\n        symbol not found: ap_table_add          (./mod_webapp.so)\n        symbol not found: ap_get_remote_host            (./mod_webapp.so)\n        symbol not found: ap_send_http_header           (./mod_webapp.so)\n        symbol not found: ap_should_client_block                \n(./mod_webapp.so)\n        symbol not found: ap_rwrite             (./mod_webapp.so)\n        symbol not found: ap_get_client_block           (./mod_webapp.so)\n        symbol not found: ap_rflush             (./mod_webapp.so)\n        symbol not found: ap_add_common_vars            (./mod_webapp.so)", "id": 14901, "time": "2002-04-27T11:05:13Z", "creator": "sammykanan@yahoo.com", "creation_time": "2002-04-27T11:05:13Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "sammykanan@yahoo.com", "attachment_id": null, "id": 14906, "time": "2002-04-27T14:26:51Z", "bug_id": 8583, "creation_time": "2002-04-27T14:26:51Z", "is_private": false, "text": "Check the sun/sparc 8 patches: The references to:\n   /usr/platform/SUNW,Ultra-5_10/lib/libc_psr.so.1\n        symbol not found: __lshrdi3             (./mod_webapp_gcc.so)\n        symbol not found: ap_table_get          (./mod_webapp_gcc.so)\n        symbol not found: ap_setup_client_block         (./mod_webapp_gcc.so)\n        symbol not found: ap_pstrdup            (./mod_webapp_gcc.so)\n        symbol not found: ap_log_error          (./mod_webapp_gcc.so)\n        symbol not found: ap_table_add          (./mod_webapp_gcc.so)\n        symbol not found: ap_get_remote_host            (./mod_webapp_gcc.so)\n        symbol not found: ap_send_http_header           (./mod_webapp_gcc.so)\n        symbol not found: ap_should_client_block                \n(./mod_webapp_gcc.so)\n        symbol not found: ap_rwrite             (./mod_webapp_gcc.so)\n        symbol not found: ap_get_client_block           (./mod_webapp_gcc.so)\n        symbol not found: ap_rflush             (./mod_webapp_gcc.so)\n        symbol not found: ap_add_common_vars            (./mod_webapp_gcc.so)\n\ncannot be found in any of the sun 8 patches.\n\nThe binary files located on the download site also appear to suffer from the \nsame problem."}, {"count": 3, "tags": [], "creator": "slive@apache.org", "attachment_id": null, "id": 14907, "time": "2002-04-27T14:50:18Z", "bug_id": 8583, "creation_time": "2002-04-27T14:50:18Z", "is_private": false, "text": "Looks like a Tomcat issue to me."}, {"count": 4, "tags": [], "bug_id": 8583, "is_private": false, "text": "The ldd messages are a red herring, they also appear on another Linux server we \nhave (and mod_webapp there works). I've tried various ld, gcc, apache \ncombinations without any success, recompiling from scratch everytime.\n\n", "id": 14916, "time": "2002-04-27T17:28:20Z", "creator": "sammykanan@yahoo.com", "creation_time": "2002-04-27T17:28:20Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "pier@betaversion.org", "attachment_id": null, "id": 15017, "time": "2002-04-29T12:53:13Z", "bug_id": 8583, "creation_time": "2002-04-29T12:53:13Z", "is_private": false, "text": "Did you try with GCC 2.9.x?"}, {"count": 6, "tags": [], "creator": "jfclere@gmail.com", "attachment_id": null, "is_private": false, "id": 15039, "time": "2002-04-29T14:19:18Z", "bug_id": 8583, "creation_time": "2002-04-29T14:19:18Z", "text": "That is a problem of mixing as and gcc.\nIf you use gcc 3.0.3 you need binutils  2.11.93.0.2 (at least).\nThe configure of mod_webapp should have detected that you are mixing gcc and\nnative libraries."}]