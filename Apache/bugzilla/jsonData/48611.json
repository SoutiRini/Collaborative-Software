[{"count": 0, "tags": [], "creator": "tmccune@yahoo-inc.com", "attachment_id": null, "id": 133903, "time": "2010-01-25T12:57:59Z", "bug_id": 48611, "creation_time": "2010-01-25T12:57:59Z", "is_private": false, "text": "This bug actually affects version 6.0.24, but that was not an option in this form.\n\nAs of 6.0.24, building the \"extras\" package no longer works.\n\n$ ant -f extras.xml\n...\nBUILD FAILED\napache-tomcat-6.0.24-src/extras.xml:154: Manifest file: apache-tomcat-6.0.24-src/output/tmp/default.manifest does not exist."}, {"count": 1, "attachment_id": null, "bug_id": 48611, "is_private": false, "id": 133904, "time": "2010-01-25T13:27:57Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2010-01-25T13:27:57Z", "tags": [], "text": "(In reply to comment #0)\n> This bug actually affects version 6.0.24, but that was not an option in this\n> form.\nThank you. Added to the list.\n\n> \n> As of 6.0.24, building the \"extras\" package no longer works.\n> \n> $ ant -f extras.xml\n> ...\n> BUILD FAILED\n> apache-tomcat-6.0.24-src/extras.xml:154: Manifest file:\n> apache-tomcat-6.0.24-src/output/tmp/default.manifest does not exist.\n\nYou should build with build.xml first, before building extra. It is \"build-manifests\" target in build.xml that creates that file. The full building sequence is the following:\n\n$ ant download\n$ ant\n$ ant -f extras.xml\n$ ant -f dist.xml release"}, {"count": 2, "tags": [], "bug_id": 48611, "attachment_id": null, "id": 133906, "time": "2010-01-25T14:04:39Z", "creator": "tmccune@yahoo-inc.com", "creation_time": "2010-01-25T14:04:39Z", "is_private": false, "text": "Thank you for the clarification.  I just verified that that does work.  However, until this new release of Tomcat, it was never a requirement to go through all of those extra build steps just to build the \"extras\" package.  Looking at the contents of default.manifest, it looks pretty useless:\n\nManifest-Version: 1.0\nSpecification-Title: Catalina\nSpecification-Version: 6.0\nX-Compile-Source-JDK: 1.5\nX-Compile-Target-JDK: 1.5\n\nSo I'd encourage you to simplify things and remove manifest dependency from extras.xml in a future version."}, {"count": 3, "tags": [], "bug_id": 48611, "attachment_id": null, "id": 133907, "time": "2010-01-25T14:25:00Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2010-01-25T14:25:00Z", "is_private": false, "text": "Thank you. Looks like this was introduced in rev.817260 (2009-09-21)\n\nBy the way, note, that pre-built extras are available for download in the bin/extras folder at the distribution sites."}, {"count": 4, "tags": [], "text": "I think the manifests need to be made more useful (I have proposed a patch that adds the full version number) rather than removed.\n\nGiven that the documented way to build the extras is as Konstantin set out in comment#1, and that the extras script does assume that Tomcat has at least been compiled then I am leaning towards WONTFIX for this issue.\n\nI am in the process of cleaning up the build scripts for Tomcat 7 but I my current thinking is not to back port these changes to 6.0.x as there are rather invasive and I don't want to introduce regressions.", "is_private": false, "id": 134113, "creator": "markt@apache.org", "time": "2010-02-01T16:35:44Z", "bug_id": 48611, "creation_time": "2010-02-01T16:35:44Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 48611, "attachment_id": null, "id": 134570, "time": "2010-02-16T18:56:23Z", "creator": "markt@apache.org", "creation_time": "2010-02-16T18:56:23Z", "is_private": false, "text": "The first patch has been applied and I have proposed a patch to add further improvements.\n\nAs a short-cut to building all of Tomcat you can do:\nant build-manifests\nant -f extras.xml\n\nbut I don't want to remove the dependency. Therefore, I am closing this as WONTFIX."}]