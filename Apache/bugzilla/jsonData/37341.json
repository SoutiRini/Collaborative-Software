[{"count": 0, "tags": [], "bug_id": 37341, "is_private": false, "text": "When I use a filter task, then copy a file using filtering, then use a second\nfilter task with another filtersfile and copy a file again, the entries of the\nsecond filtersfile are completely ignored. So tokens in the copied file are not\nreplaced with filter values given in the second filtersfile.\n\nHere is a target to reproduce this behavior:\n\n<target name=\"test_filtersfile\">\n  <filter filtersfile=\"first.properties\" />\n  <copy file=\"mycopyfile.test\" tofile=\"mycopiedfile.test\" filtering=\"true\"></copy>\n  <filter filtersfile=\"second.properties\" />   \n  <copy file=\"mycopyfile.test\" tofile=\"mycopiedfile2.test\"\nfiltering=\"true\"></copy>               \n</target>\n\nmycopyfile.test contains three filter tokens: @my.first.key@, @my.second.key@,\n@my.third.key@. Values for  my.first.key and my.second.key are given in\nfirst.properties. Values for my.second.key and my.third.key are defined in\nsecond.properties. \n\nAfter the execution of the first copy task the tokens @my.first.key@ and\n@my.second.key@ in the file mycopiedfile.test are replaced with the values from\nfirst.properties, which is the expected behavior.\n\nAfter the execution of the second copy task the file mycopiedfile2.test looks\nexactly like mycopiedfile.test. The tokens @my.first.key@ and @my.second.key@\nare replaced with the values from first.properties. I expected that all tokens\nare replaced. The @my.first.key@ token with the value from first.properties, the\n other tokens with the values from second.properties.\n\nWith Ant version 1.6.2 I get the expected behaviour. With Ant 1.6.5 and the\ncurrent sources (2005-11-02) from CVS I get the above behaviour.\n\nAll files I used are attached.", "id": 82083, "time": "2005-11-03T10:42:45Z", "creator": "miriam.doelle@web.de", "creation_time": "2005-11-03T10:42:45Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 37341, "is_private": false, "id": 82084, "attachment_id": 16857, "creator": "miriam.doelle@web.de", "creation_time": "2005-11-03T10:47:50Z", "time": "2005-11-03T10:47:50Z", "text": "Created attachment 16857\nBuild file, file to copy and filterfiles"}, {"count": 2, "attachment_id": null, "creator": "jkf@apache.org", "is_private": false, "id": 82110, "time": "2005-11-03T23:11:03Z", "bug_id": 37341, "creation_time": "2005-11-03T23:11:03Z", "tags": [], "text": "Fixed on head, thanks for the good bugrep."}]