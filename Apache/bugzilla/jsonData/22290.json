[{"count": 0, "tags": [], "creator": "gregw@mortbay.com", "attachment_id": null, "text": "The HttpServlet.NoBodyResponse class implements\nHttpServletResponse.\n\nIt should extend HttpServletResponseWrapper\n\nThis is simpler and I think more legal - as it is unclear (to me\nat least) that the spec allows for arbitrary wrapper classes\nto be used.", "id": 42508, "time": "2003-08-11T03:42:42Z", "bug_id": 22290, "creation_time": "2003-08-11T03:42:42Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 22290, "attachment_id": null, "id": 42511, "time": "2003-08-11T05:00:28Z", "creator": "william.barker@wilshire.com", "creation_time": "2003-08-11T05:00:28Z", "is_private": false, "text": "Please cite the section of the Servlet-2.4 spec that you feel is violated if \nyou REOPEN, since I can't find it."}, {"count": 2, "attachment_id": null, "bug_id": 22290, "is_private": false, "id": 42513, "time": "2003-08-11T06:53:56Z", "creator": "gregw@mortbay.com", "creation_time": "2003-08-11T06:53:56Z", "tags": [], "text": "\nNote that even if this is/was legal, I think there is no harm\nin using the wrappers provided here and it will reduce the code volume.\n\nThe way in which the spec gets violated is a little obscure, but\nit depends on SRV.8.2 Using a Request Dispatcher, which says:\n\n\"To use a request dispatcher, a servlet calls either the include method or\nforward method of the RequestDispatcher interface. The parameters to these\nmethods can be either the request and response arguments that were passed in via\nthe service method of the javax.servlet interface, or instances of subclasses of\nthe request and response wrapper classes that were introduced for version 2.3 of\nthe specification. In the latter case, the wrapper instances must wrap the\nrequest or response objects that the container passed into the service method.\"\n\nThe problem occurs if I write a servlet based on HttpServlet and in doGet \ncall a RequestDispatcher with the response that was passed in to doGet.  For\na HEAD method, this is not the response passed to the service method, nor is it\na wrapper of that object.\n\nThis leads to a class of errors for webapps that want/need to unwrap\nto the objects passed to service not working for HEAD requests. I have \nactually seen such problems in the field.\n\ncheers\n\n\ncheers\n"}, {"count": 3, "attachment_id": null, "bug_id": 22290, "is_private": false, "id": 44972, "time": "2003-10-02T01:16:26Z", "creator": "funkman@joedog.org", "creation_time": "2003-10-02T01:16:26Z", "tags": [], "text": "Who is responsible for the servlet api classes? The Sun people or the tomcat\npeople? If it is the Sun people - then shouldn't this be sent to the\nservletapi-feedback@eng.sun.com and set as resolved?\n"}, {"count": 4, "tags": [], "text": "I have sent the following to servletapi-feedback@eng.sun.com\n\nThe following bugs were reported against Tomcat.\n\nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=10555 (tomcat 4)\nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=22290 (tomcat 5)\n\nI have resolved these bugs as INVALID for Tomcat as the NoBodyResponse class \nis part of the API spec (it is included in the API class files download) and \nis outside of our control. If you believe this is not the case, or can provide \nany other feedback that would be useful to add to our bug reports, please let \nme know.\n\nRegards,\n\nMark Thomas", "attachment_id": null, "bug_id": 22290, "id": 50353, "time": "2004-01-10T11:57:42Z", "creator": "markt@apache.org", "creation_time": "2004-01-10T11:57:42Z", "is_private": false}, {"count": 5, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "*** Bug 10555 has been marked as a duplicate of this bug. ***", "id": 50355, "time": "2004-01-10T11:58:09Z", "bug_id": 22290, "creation_time": "2004-01-10T11:58:09Z", "is_private": false}]