[{"count": 0, "tags": [], "bug_id": 60474, "is_private": false, "text": "Hi,\n\nI'm running locally in PC.\n\nI haven't got my test plan that works in 3.0, to work in 3.1! \nIf I disable https://jmeter-plugins.org/wiki/ThroughputShapingTimer/\nin my test plan it works perfect even with 3.1.\n\nWhen it's active I only get the first request and then it seem to be hanging...  No more request is sent.\n\nSame plugin version, jmeter-plugins-tst-2.0.\n\nJMeter versions:\n\n3.0: r1743807\n3.1: r1770033  (http://jmeter.apache.org/download_jmeter.cgi)\n\n\nI haven't seen any known issue about this...\n\n\nRegards\nRichard", "id": 195473, "time": "2016-12-13T13:48:02Z", "creator": "richard.olsson@hiq.se", "creation_time": "2016-12-13T13:48:02Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 60474, "text": "Hello,\nAs you know this TST is a 3rd party plugin.\nYou have been directed to report issue here, still it is not confirmed:\nhttps://groups.google.com/forum/#!msg/jmeter-plugins/d_qnsinrHpI/hXd3UUBlDgAJ\n\nAnyway, if you want us to help, we need more information:\n- A Simple Test plan using Java Request or Debug Sampler that reprduces the issue\n- A jmeter.log file showing the problem\n- The expected result , and what you get\nThank you", "id": 195484, "time": "2016-12-13T20:58:58Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-12-13T20:58:58Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "My first test was to create a simple test plan with HTTP request to a Webpage.\nCannot find any issue when I use the Throughput Shapig Timer in that test plan.\n\nBut the one with problem is more complex. Will test more after the Christmas vacations...", "is_private": false, "bug_id": 60474, "id": 195630, "time": "2016-12-23T08:14:30Z", "creator": "richard.olsson@hiq.se", "creation_time": "2016-12-23T08:14:30Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "richard.olsson@hiq.se", "text": "The reason for failing is the specific parameter definition I use in the Throughput Sharping Timer, to get it to work in JMeter 2.13 version. It also works in 3.0:\n\nTo be able to use variables in Throughput Sharping Timer sample I had to use the format \"${__jexl(${THROUGHPUT})}\". Then could that variable be set in User Defined Variables sample. (THROUGHPUT : ${__P(THROUGHPUT,1)})\n\nBut obvious some changes has been made in 3.1, since above stuff isn't working anymore.\n\nBut it seems that normal variable reference format can be used now, in Throughput sharping Timer.\n\n${THROUGHPUT} \n \n\nI get some errors for Throughput Sharping Timer. But guess I can live with that since it seems to work...\nGuess it's used to write the expected graphs...\n\n\n2016/12/23 13:43:42 ERROR - jmeter.testelement.property.AbstractProperty: Tried to parse a non-number string to an integer java.lang.NumberFormatException: For input string: \"${THROUGHPUT}\"\n                          at sun.misc.FloatingDecimal.readJavaFormatString(Unknown Source)\n                          at sun.misc.FloatingDecimal.parseDouble(Unknown Source)\n                          at java.lang.Double.parseDouble(Unknown Source)\n                          at org.apache.jmeter.testelement.property.AbstractProperty.getDoubleValue(AbstractProperty.java:149)\n                          at kg.apc.jmeter.timers.VariableThroughputTimer.getDoubleValue(VariableThroughputTimer.java:164)\n                          at kg.apc.jmeter.timers.VariableThroughputTimer.getRPSForSecond(VariableThroughputTimer.java:151)\n                          at kg.apc.jmeter.timers.VariableThroughputTimerGui.updateChart(VariableThroughputTimerGui.java:195)\n                          at kg.apc.jmeter.timers.VariableThroughputTimerGui.updateUI(VariableThroughputTimerGui.java:164)\n                          at kg.apc.jmeter.timers.VariableThroughputTimerGui.configure(VariableThroughputTimerGui.java:154)\n                          at org.apache.jmeter.gui.GuiPackage.updateCurrentGui(GuiPackage.java:426)\n                          at org.apache.jmeter.gui.action.ActionRouter.performAction(ActionRouter.java:72)\n                          at org.apache.jmeter.gui.action.ActionRouter.access$000(ActionRouter.java:40)\n                          at org.apache.jmeter.gui.action.ActionRouter$1.run(ActionRouter.java:62)\n                          at java.awt.event.InvocationEvent.dispatch(Unknown Source)\n                          at java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n                          at java.awt.EventQueue.access$500(Unknown Source)\n                          at java.awt.EventQueue$3.run(Unknown Source)\n                          at java.awt.EventQueue$3.run(Unknown Source)\n                          at java.security.AccessController.doPrivileged(Native Method)\n                          at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\n                          at java.awt.EventQueue.dispatchEvent(Unknown Source)\n                          at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n                          at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n                          at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n                          at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n                          at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n                          at java.awt.EventDispatchThread.run(Unknown Source)", "count": 3, "id": 195636, "time": "2016-12-23T13:22:52Z", "bug_id": 60474, "creation_time": "2016-12-23T13:22:52Z", "is_private": false}, {"count": 4, "tags": [], "creator": "felix.schumacher@internetallee.de", "attachment_id": null, "text": "__jexl was dropped in JMeter 3.1, but can easily replaced by __jexl3. (https://bz.apache.org/bugzilla/show_bug.cgi?id=60225)\n\nThe reported error will be thrown, when no variable named THROUGHPUT can be found and thus the raw string ${THROUGHPUT} will be parsed as a number, which obviously fails.", "id": 195637, "time": "2016-12-23T13:33:58Z", "bug_id": 60474, "creation_time": "2016-12-23T13:33:58Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 60474, "text": "Note!  Now I remember (maybe I should say think, but I'm almost 100% sure...) the reason for the format \"${__jexl(${THROUGHPUT})}\". I think it is that I have to use it when running distributed mode. And that I want to do, but now I only tested this locally.   Hmmm..", "id": 195638, "time": "2016-12-23T13:46:54Z", "creator": "richard.olsson@hiq.se", "creation_time": "2016-12-23T13:46:54Z", "is_private": false, "attachment_id": null}, {"count": 6, "attachment_id": null, "bug_id": 60474, "is_private": false, "id": 195640, "time": "2016-12-23T13:58:40Z", "creator": "apc4@ya.ru", "creation_time": "2016-12-23T13:58:40Z", "tags": [], "text": "So looks like this is not a regression with TST, it's more a usage question for JMeter JEXL functions."}, {"count": 7, "tags": [], "text": "Hi,\n\nWe're not planning any upgrade in the near future so won't spend any more time on this.\nJust reported it when I saw it. \nYes, it's working locally.\n\nBut since the ${__jexl(${THROUGHPUT})} stopped working I think there is an issue when running distributed mode with variables, i.e. have my doubts that it's possible to get the Throughput Shaping Timer to work with variables in distributed mode...", "is_private": false, "bug_id": 60474, "id": 195675, "time": "2016-12-28T07:25:13Z", "creator": "richard.olsson@hiq.se", "creation_time": "2016-12-28T07:25:13Z", "attachment_id": null}, {"count": 8, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "__jexl function has not stopped working it has been removed and replaced by __jexl3 function which uses last release of jexl library.\n\nThis was mentioned in release notes:\n\n- http://jmeter.apache.org/changes.html\n\nWe highly advise you to upgrade which is usually a matter of reading release notes carefully and applying advised changes.\nSee this for benefits of this release:\n\n- http://www.ubik-ingenierie.com/blog/jmeter-3-1-is-out-with-new-great-features/\n\nClosing issue as worksforme", "id": 195676, "time": "2016-12-28T10:04:10Z", "bug_id": 60474, "creation_time": "2016-12-28T10:04:10Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "richard.olsson@hiq.se", "is_private": false, "count": 9, "id": 195681, "time": "2016-12-28T10:39:29Z", "bug_id": 60474, "creation_time": "2016-12-28T10:39:29Z", "text": "I should at least share that I did change from format ${__jexl(${THROUGHPUT})}\nto ${THROUGHPUT} in Throughput Shaping Timer. And it seems to work in 2.13.\nAnd then I guess it would work in latest releases too.\n\n(Now I'm not sure what actually forced me to use ${__jexl(${THROUGHPUT})} format before...)"}]