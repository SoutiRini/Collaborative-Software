[{"text": "We have a jsp application running on tomcat (5.5.23) and jdk 1.5.0.13. \nWe added a filter class to collect service time for every request:\n\n    <filter>\n      <filter-name>siapFilter</filter-name>\n      <filter-class>APUtility.SiapFilter</filter-class>\n    </filter>\n    <filter-mapping>\n      <filter-name>siapFilter</filter-name>\n      <url-pattern>/servlet/*</url-pattern>\n    </filter-mapping>\n\nand the SiapFilter class is in attachment. \n\nWhen we put the code to start a new thread to write statistical data to a log file every hour tomcat doesn't stop anymore. While the same code:\n\n\t   //start a new thread to write stats to log hourly\n  \t   if (service_time_logger == null){\n  \t\t   service_time_logger = new SiapFilter();\n  \t\t   service_time_logger.start();\n  \t   }\n  \t  \t\t\t\t\t\n\nis put in the doFilter method there's no problem.", "tags": [], "creator": "bnicolotti@siapcn.it", "is_private": false, "count": 0, "id": 114335, "time": "2008-03-06T06:07:25Z", "bug_id": 44547, "creation_time": "2008-03-06T06:07:25Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 44547, "attachment_id": 21639, "id": 114336, "time": "2008-03-06T06:09:05Z", "creator": "bnicolotti@siapcn.it", "creation_time": "2008-03-06T06:09:05Z", "is_private": false, "text": "Created attachment 21639\nSiapFilter code"}, {"count": 2, "tags": [], "bug_id": 44547, "attachment_id": null, "is_private": false, "id": 114380, "time": "2008-03-06T13:28:35Z", "creator": "markt@apache.org", "creation_time": "2008-03-06T13:28:35Z", "text": "Google for daemon threads.\n\nAsk on the users list of you need more help."}]