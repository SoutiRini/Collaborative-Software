[{"count": 0, "tags": [], "creator": "masaoki@techfirm.co.jp", "attachment_id": null, "id": 88189, "time": "2006-04-18T07:01:50Z", "bug_id": 39332, "creation_time": "2006-04-18T07:01:50Z", "is_private": false, "text": "Using with worker MPM, mod_cgid fails to launch CGI program.  This also happens \non httpd 2.0.55, however, it sometimes works there.  i.e. All execution on \n2.2.x fails on Solaris worker MPM, while about a half of them fails on 2.0.x on \nSolaris worker MPM.  No problem with prefork MPM and mod_cgi.\nIt is observed on Solaris 10 x86 64 bit kernel with 64 bit httpd binary.  I did \nnot check it on 32 bit environment.  I will debug it into details later.\n\nThe error_log shows the following lines.\n\n[Tue Apr 18 15:47:19 2006] [error] [client 192.168.237.21] Premature end of \nscript headers: printenv\n[Tue Apr 18 15:47:19 2006] [error] [client 192.168.237.21] (3)No such process: \ncgid daemon is gone; is Apache terminating?: /var/apache2/cgi-bin/printenv\n[Tue Apr 18 15:47:19 2006] [notice] child pid 8121 exit signal Segmentation \nfault (11)\n[Tue Apr 18 15:47:19 2006] [error] cgid daemon process died, restarting"}, {"count": 1, "tags": [], "bug_id": 39332, "attachment_id": null, "text": "Have you applied Patch #120665 to Solaris? There is a known problem with Unix\ndomain sockets on Solaris 10 without this patch.", "id": 88225, "time": "2006-04-18T21:07:48Z", "creator": "rpluem@apache.org", "creation_time": "2006-04-18T21:07:48Z", "is_private": false}, {"count": 2, "tags": [], "creator": "masaoki@techfirm.co.jp", "text": "I tried patch #120665 (and also the latest patch cluster), it changes nothing \nhowever.  Let me have time to look into details.", "id": 88406, "time": "2006-04-24T02:49:45Z", "bug_id": 39332, "creation_time": "2006-04-24T02:49:45Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "masaoki@techfirm.co.jp", "attachment_id": null, "id": 88409, "time": "2006-04-24T05:21:45Z", "bug_id": 39332, "creation_time": "2006-04-24T05:21:45Z", "is_private": false, "text": "My former message was not correct.  The thing now changes that it sometimes \nhappens, not always.\nIn my v20z Solaris 10 x86 (amd64) box, the apache 2.2.2 sometimes fails to \nlaunch the CGI.  When I added some debug codes inside sock_read()/sock_write() \ninside mod_cgid.c, the order of read/write sometimes changes, which causes \nSIGSEGV inside cgid server.\nI now guess this may be a Solaris fault because my v20z box has 2 dual core \nprocessors (total 4 cores), which can cause a race condition inside the \nmultithreaded kernel.\nI created a patch to fix this problem.  This is a passive approach in order to \navoid the Solaris suspicious behavior, but works fine."}, {"count": 4, "tags": [], "text": "Created attachment 18160\nFix the intermittent SIGSEGV in mod_cgid on Solaris 10\n\nThis patch eliminates the intermittent SIGSEGV in mod_cgid on Solaris 10.  I am\nnot sure about writev() and stdargs compatibility among many platforms.", "attachment_id": 18160, "bug_id": 39332, "id": 88411, "time": "2006-04-24T05:27:28Z", "creator": "masaoki@techfirm.co.jp", "creation_time": "2006-04-24T05:27:28Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 39332, "attachment_id": null, "text": "*** Bug 34264 has been marked as a duplicate of this bug. ***", "id": 123549, "time": "2008-12-26T18:08:40Z", "creator": "nick@webthing.com", "creation_time": "2008-12-26T18:08:40Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 39332, "attachment_id": null, "text": "Fixed in trunk - r729579.\nThanks for the patch!", "id": 123550, "time": "2008-12-26T18:15:14Z", "creator": "nick@webthing.com", "creation_time": "2008-12-26T18:15:14Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 39332, "attachment_id": null, "text": "Patch backported to 2.2 branch in r732067", "id": 123803, "time": "2009-01-06T11:22:22Z", "creator": "nick@webthing.com", "creation_time": "2009-01-06T11:22:22Z", "is_private": false}]