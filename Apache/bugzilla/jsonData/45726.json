[{"count": 0, "tags": [], "bug_id": 45726, "attachment_id": null, "text": "Feature Request\n===============\n\nHello,\n\nif a user types in (debian)\n\"/etc/init.d/apache2 maintenance\"\n\nthe apache2 should direct every http/https access to a default, changeable \"maintenance.html\" file.\n\nWhy user should need this?:\n- no changes in the sites-available section is needed\n- fast way to set up a maintenance page quickly, secure and clean, without touching everything, to update something\n\n\nfriendly regards\nMaik", "id": 120277, "time": "2008-09-02T03:45:23Z", "creator": "maikrd123@gmx.de", "creation_time": "2008-09-02T03:45:23Z", "is_private": false}, {"count": 1, "tags": [], "text": "You can do this by asking apache to run with a different configu file.\nsee\n\nsee http://www.dotcomunderground.com/blogs/2006/08/31/return-503-status-with-apache-webserver/\n\n\ne.g\n|cat maintenance.conf \nListen 8080\nServerName agneyam\nScriptAlias / 503.sh/\n\n|cat 503.sh\n#!/bin/sh\ncat <<EOF\nstatus: 503\nContent-Type: text/html\n\n\n<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 3.2//EN\">\n<html>\n<head>\n<title>503 - Service temporary unavailable</title>\n</head>\n<body>\n<h1>503 - Service temporary unavailable</h1>\n<p>Sorry, this website is currently down for maintenance please\nretry in a few minutes</p>\n</body>\n</html>\nEOF\n\n|./bin/httpd -f ./maintenance.conf                \n|echo \"GET / HTTP/1.0\\r\\n\\r\\n\" | nc 0 8080\nHTTP/1.1 503 Service Temporarily Unavailable\nDate: Tue, 02 Sep 2008 12:21:52 GMT\nServer: Apache/2.2.9 (Unix)\nConnection: close\nContent-Type: text/html\n\n\n<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 3.2//EN\">\n<html>\n<head>\n<title>503 - Service temporary unavailable</title>\n</head>\n<body>\n<h1>503 - Service temporary unavailable</h1>\n<p>Sorry, this website is currently down for maintenance please\nretry in a few minutes</p>\n</body>\n</html>\n|echo \"GET /abc?def HTTP/1.0\\r\\n\\r\\n\" | nc 0 8080\nHTTP/1.1 503 Service Temporarily Unavailable\nDate: Tue, 02 Sep 2008 12:21:57 GMT\nServer: Apache/2.2.9 (Unix)\nContent-Length: 284\nConnection: close\nContent-Type: text/html\n\n\n<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 3.2//EN\">\n<html>\n<head>\n<title>503 - Service temporary unavailable</title>\n</head>\n<body>\n<h1>503 - Service temporary unavailable</h1>\n<p>Sorry, this website is currently down for maintenance please\nretry in a few minutes</p>\n</body>\n</html>\n", "is_private": false, "bug_id": 45726, "id": 120283, "time": "2008-09-02T05:37:34Z", "creator": "rahul.g.nair@gmail.com", "creation_time": "2008-09-02T05:37:34Z", "attachment_id": null}]