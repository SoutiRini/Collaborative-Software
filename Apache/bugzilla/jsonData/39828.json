[{"count": 0, "tags": [], "text": "Our web apps put out what we believe to be valid HTTP.\n\nYet we see results like this:\n\n1150500039934,2,HTTP Request,Non HTTP response code,Non HTTP response message,DirectApp \nOne-Two-Three Testers 1-5,text,false\n\nHere is sample output from one of our apps:\n\n% curl --head 'http://localhost:55555/'\nHTTP/1.1 200 Apple WebObjects\ncache-control: private\ncache-control: no-cache\ncache-control: no-store\ncache-control: must-revalidate\ncache-control: max-age=0\nexpires: Fri, 16-Jun-2006 23:21:12 GMT\ndate: Fri, 16-Jun-2006 23:21:12 GMT\npragma: no-cache\nx-webobjects-loadaverage: 1\ncontent-type: text/html\ncontent-length: 459\n\n%\n\nIf we are not correct here, please let me know what I can do. Thanks.", "is_private": false, "id": 90317, "creator": "kiddyr@apple.com", "time": "2006-06-17T01:05:23Z", "bug_id": 39828, "creation_time": "2006-06-17T01:05:23Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "text": "There must be some further information in jmeter.log - or failing that, add a \nTree View Listener and have a look at the response pane.\n\nIt does seem to be a valid HTTP - at least it seems to follow the letter of \nRFC 2916, if not the spirit: the message - here it would normally be \"OK\" - \nmay be replaced by \"the local equivalent\".", "id": 90328, "time": "2006-06-17T20:55:52Z", "bug_id": 39828, "creation_time": "2006-06-17T20:55:52Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "kiddyr@apple.com", "text": "\nI will attach a jmeter.log file. I do not see anything in it relevant to this errror.\n\nI looked at the output of a Tree Viewer Listener and the Sampler Result looks the same as the header I put \nin above.", "id": 90329, "time": "2006-06-17T21:15:22Z", "bug_id": 39828, "creation_time": "2006-06-17T21:15:22Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 39828, "attachment_id": 18483, "text": "Created attachment 18483\njmeter.log file", "id": 90330, "time": "2006-06-17T21:16:12Z", "creator": "kiddyr@apple.com", "creation_time": "2006-06-17T21:16:12Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 39828, "is_private": false, "text": "That looks fine.\n\nCan you try using the other HTTP Sampler?\n\nDo you get the same results with GET and HEAD?", "id": 90331, "time": "2006-06-17T21:28:40Z", "creator": "sebb@apache.org", "creation_time": "2006-06-17T21:28:40Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 39828, "attachment_id": null, "is_private": false, "id": 90332, "time": "2006-06-17T21:40:27Z", "creator": "kiddyr@apple.com", "creation_time": "2006-06-17T21:40:27Z", "text": "\nUsed the HTTP Request HTTPClient sampler. Used both GET and HEAD methods. The results were the \nsame.\n\nIs there some reason you do not think it is just that the response header analysis in JMeter is being too \nstrict? It seems pretty clear. I just do not know the code well enough to be sure where that parsing is being \ndone.\n"}, {"count": 6, "attachment_id": null, "bug_id": 39828, "is_private": false, "id": 90333, "time": "2006-06-17T22:09:20Z", "creator": "sebb@apache.org", "creation_time": "2006-06-17T22:09:20Z", "tags": [], "text": "The NON HTTP response is only generated if some kind of error occurs, e.g. IO \nexception; this should also result in putting the exception details in the \nresponseData - i.e. the 3rd pane in the Tree View, not the one with the \nheaders.\n\nThe parsing of the response code is done by the underlying HTTP protocol \nhandler - this is then checked by the isSuccessCode(int) method in \nHTTPSamplerBase.\n\nBut if there is a serious error, then an error sample is generated using \nerrorResult() in HTTPSamplerBase."}, {"count": 7, "tags": [], "bug_id": 39828, "text": "\nI looked at the third pane if the Tree Results Listener, but the contents looked normal, so I did not \nmention it.\n\nFor example:\n\n<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"\n\"http://www.w3c.org/TR/html4/loose.dtd\">\n<html>\n    <head<\n      <meta name=\"generator\" content=\"WebObjects 5.3.1\">\n      <title>Untitled</title>\n    </head>\n    <body><h2><big>One</big></h2><p></P><a href=\"/cgi-bin/WebObjects/direct1.woa/wa/\ntwo?wosid=c0\">two</a> or <a href=\"/cgi-bin/WebObjects/direct1.woa/wa/three?wosid=c0\">three</\na></body>\n</html>\n\n", "id": 90334, "time": "2006-06-18T04:53:56Z", "creator": "kiddyr@apple.com", "creation_time": "2006-06-18T04:53:56Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 90337, "time": "2006-06-18T10:56:16Z", "bug_id": 39828, "creation_time": "2006-06-18T10:56:16Z", "is_private": false, "text": "The example response is not valid HTML:\n\n<head<\n\nbut perhaps that is a cut-n-paste error?\n\nIf not, perhaps this is causing a later error, eg if you are using download \nresources. Though it does not explain why HEAD fails.\n\nAre you using redirection?\n\nDoes it happen for all samples?\n\nPerhaps you could try adding a Listener and save the results as XML (save \neverything you can), and then attach the JMX, JTL and jmeter.log to this \nissue. Replace any sensitive material first!"}, {"count": 9, "tags": [], "bug_id": 39828, "attachment_id": null, "text": "Actually, it was not a copy-and-paste error. On Mac OS X, I cannot use Copy from the JMeter app. So, it \nwas a \"retyping the whole darned thing error\". The HTML was fine. My typing is at fault.", "id": 90341, "time": "2006-06-18T23:01:40Z", "creator": "kiddyr@apple.com", "creation_time": "2006-06-18T23:01:40Z", "is_private": false}, {"count": 10, "attachment_id": null, "bug_id": 39828, "is_private": false, "id": 90346, "time": "2006-06-19T08:52:57Z", "creator": "sebb@apache.org", "creation_time": "2006-06-19T08:52:57Z", "tags": [], "text": "Note that you can use the Save Responses Post-Processor for saving the \nresponse contents"}]