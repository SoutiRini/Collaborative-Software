[{"count": 0, "tags": [], "bug_id": 34488, "text": "I am using Tomcat 5.0.28, jdk1.5.0_02, Struts 1.2.4 and Jakarta JSTL 1.1.2. If I\nuse the x:forEach xml tag in any tile I get an XPathException. x:parse works,\nbut if I use x:forEach I get the XPathException. Here is the sample code:\n\n<x:parse var=\"document\">\n <doc>\n  <a>\n   <b foo=\"foo\">foo 1</b>\n  </a>\n  <a>\n   <c foo=\"bar\">bar 2</c>\n  </a>\n  <a>\n   <d foo=\"bar\">bar 3</d>\n  </a>\n  <a>\n   <d foo=\"foo\">foo 4</d>\n  </a>\n </doc>\n</x:parse>\n\n<x:forEach select=\"$document//a\">\n  <x:out select=\".\"/>\n  <br />\n</x:forEach>\n\nHere is my Exception:\n\njavax.servlet.ServletException: org/apache/xpath/XPathException\n    at\norg.apache.jasper.runtime.PageContextImpl.doHandlePageException(PageContextImpl.java:825)\n    at\norg.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:758)\n    at org.apache.jsp.WEB_002dINF.tiles.menu_jsp._jspService(menu_jsp.java:99)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n    at\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:324)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n    at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)\n    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)\n    at\norg.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:362)\n    at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:186)\n    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)\n    at\norg.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:704)\n    at\norg.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:590)\n    at\norg.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:510)\n    at\norg.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:966)\n    at org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:581)\n    at org.apache.struts.tiles.TilesUtilImpl.doInclude(TilesUtilImpl.java:101)\n    at org.apache.struts.tiles.TilesUtil.doInclude(TilesUtil.java:137)\n    at org.apache.struts.taglib.tiles.InsertTag.doInclude(InsertTag.java:758)\n    at\norg.apache.struts.taglib.tiles.InsertTag$InsertHandler.doEndTag(InsertTag.java:890)\n    at org.apache.struts.taglib.tiles.InsertTag.doEndTag(InsertTag.java:460)\n    at\norg.apache.jsp.WEB_002dINF.tiles.mainlayout_jsp._jspx_meth_tiles_insert_1(mainlayout_jsp.java:146)\n    at\norg.apache.jsp.WEB_002dINF.tiles.mainlayout_jsp._jspService(mainlayout_jsp.java:89)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n    at\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:324)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n    at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)\n    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)\n    at\norg.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:362)\n    at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:186)\n    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)\n    at\norg.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:704)\n    at\norg.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:474)\n    at\norg.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:409)\n    at\norg.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\n    at\norg.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1056)\n    at\norg.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:261)\n    at\norg.apache.struts.tiles.TilesRequestProcessor.processTilesDefinition(TilesRequestProcessor.java:237)\n    at\norg.apache.struts.tiles.TilesRequestProcessor.internalModuleRelativeForward(TilesRequestProcessor.java:339)\n    at\norg.apache.struts.action.RequestProcessor.processForward(RequestProcessor.java:553)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:211)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1164)\n    at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:397)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n    at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)\n    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)\n    at\norg.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:362)\n    at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:186)\n    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)\n    at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)\n    at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n    at\norg.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)\n    at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)\n    at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n    at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:118)\n    at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n    at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n    at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)\n    at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:799)\n    at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:705)\n    at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:577)\n    at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)\n    at java.lang.Thread.run(Thread.java:595)", "id": 73745, "time": "2005-04-17T20:17:51Z", "creator": "oliver@code-project.org", "creation_time": "2005-04-17T20:17:51Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "oliver@code-project.org", "is_private": false, "id": 74207, "creation_time": "2005-04-28T08:17:21Z", "time": "2005-04-28T08:17:21Z", "bug_id": 34488, "text": "I have tested the standard-examples.war. All tags are working but the xml tags \nthrow an XPathException (Tomcat 5.0.28) in the samples page. ", "attachment_id": null}, {"count": 2, "tags": [], "creator": "oliver@code-project.org", "is_private": false, "id": 74219, "creation_time": "2005-04-28T13:56:02Z", "time": "2005-04-28T13:56:02Z", "bug_id": 34488, "text": "I forgot Xalan. I have downloaded Xalan and installed it and now all works fine.", "attachment_id": null}]