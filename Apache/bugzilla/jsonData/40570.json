[{"count": 0, "tags": [], "creator": "peter_clewlow@nl.ibm.com", "attachment_id": null, "text": "When it is time to rollover and a backup log file must be created but that \nfile name already exists the rollover fails. This used to work in log4j \nversion 1.2 in class DailyRollingFileAppender method rollOver() where the code \nfirst deletes the target file if it already exists. In log4j version 1.3alpha \nsimilar code could be added in class FileRenameAction method execute() to fix \nthis issue.", "id": 93961, "time": "2006-09-21T12:54:28Z", "bug_id": 40570, "creation_time": "2006-09-21T12:54:28Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 40570, "is_private": false, "text": "To quote the Java-Doc for io.File.renameTo():\n\"Many aspects of the behavior of this method are inherently platform-dependent:\nThe rename operation might not be able to move a file from one filesystem to\nanother, it might not be atomic, and it might not succeed if a file with the\ndestination abstract pathname already exists. The return value should always be\nchecked to make sure that the rename operation was successful.\"\n\nShould be blocker for next alpha release 1.3alpha9", "id": 95742, "time": "2006-11-12T11:45:30Z", "creator": "kay.abendroth@raxion.net", "creation_time": "2006-11-12T11:45:30Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 40570, "is_private": false, "text": "I would suggest to change:\n\n  public static boolean execute(\n    final File source, final File destination, boolean renameEmptyFiles) {\n    if (renameEmptyFiles || (source.length() > 0)) {\n      return source.renameTo(destination);\n    }\n\n    return source.delete();\n  }\n\ninto:\n\n  public static boolean execute(\n    final File source, final File destination, boolean renameEmptyFiles) {\n\t  if (renameEmptyFiles || (source.length() > 0)) {\n\t\t  if(destination.delete()) {\n\t\t\t  return source.renameTo(destination); \n\t\t  }\n\t\t  \n\t\t  return false; // Destination file deletion failed.\n\t  }\n\t  \n\t  return source.delete();\n  }\n", "id": 95746, "time": "2006-11-12T12:13:12Z", "creator": "kay.abendroth@raxion.net", "creation_time": "2006-11-12T12:13:12Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "thorbjoern@gmail.com", "text": "Is this bug still a blocker?  It is against 1.3alpha which is a discontinued branch\n", "count": 3, "id": 118121, "time": "2008-06-30T12:44:55Z", "bug_id": 40570, "creation_time": "2008-06-30T12:44:55Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 40570, "text": "No response in a month.  Setting status to NEEDINFO.", "id": 119256, "time": "2008-08-02T10:01:23Z", "creator": "thorbjoern@gmail.com", "creation_time": "2008-08-02T10:01:23Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "grobmeier@gmail.com", "attachment_id": null, "text": "Sorry 1.3 is not longer developed.\nUses are encouraged to revert back to 1.2 or better, try 2.0 (helping hands welcome)", "id": 158860, "time": "2012-05-06T12:02:27Z", "bug_id": 40570, "creation_time": "2012-05-06T12:02:27Z", "is_private": false}]