[{"count": 0, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "If a log4j configuration file is found by the classpath search inside a JAR file, the file will be loaded from the JAR. However, the initial URLConnection.getDefaultUseCaches() setting means that caching is used and the JAR file is locked.\n\nThis is a particular problem for container environments like Tomcat, as it prevents a web application from being removed. Whilst the workaround is simple - don't put your log4j configuration in a JAR - it impacts a large number of users.\n\nI have a patch and test case for PropertyConfigurator. I still need to test DOMConfigurator. I will update this bug report with the results of that test (and a patch if necessary) later today.", "id": 128475, "time": "2009-07-02T03:20:48Z", "bug_id": 47465, "creation_time": "2009-07-02T03:20:48Z", "is_private": false}, {"count": 1, "attachment_id": 23919, "bug_id": 47465, "text": "Created attachment 23919\nPatch and test cases\n\nTest cases to demonstrate the issue and a patch to fix the issue attached.\n\nNote the test cases use files paths that work on my machine. These do not appear to be consistent with the other test cases so a few tweaks may be required.", "id": 128476, "time": "2009-07-02T03:45:08Z", "creator": "markt@apache.org", "creation_time": "2009-07-02T03:45:08Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 47465, "attachment_id": null, "id": 130867, "time": "2009-10-03T15:06:23Z", "creator": "sdeboy@iname.com", "creation_time": "2009-10-03T15:06:23Z", "is_private": false, "text": "Patch applied to svn trunk in r821433.\n\nThanks Mark!"}]