[{"count": 0, "attachment_id": null, "creator": "dcox@cysive.com", "is_private": false, "id": 14973, "time": "2002-04-29T04:20:13Z", "bug_id": 8611, "creation_time": "2002-04-29T04:20:13Z", "tags": [], "text": "The webapp classloader (org.apache.catalina.loaderWebappClassLoader) appears to \nnot handle sealed .jar files properly. On line 1598 (Revision 1.15.2.9) the \ncall to definePackage passes entry.source as the URL that is the \"sealBase\" of \nthe package. Everything is fine until a second class is loaded from the same \npackage.  On line 1614, the check to ensure a sealing violation is not occuring \npasses entry.source of the class being loaded. This check always fails because \nentry.source that the package was defined with was the *full* pathname to the \nclassfile. The same holds true for the path being passed during the seal check. \nThese URL's are never equal and therefore pkg.isSealed returns false on line \n1614.\n\nAs I am not in control of the .jar file that contains the sealed package I \ncan't simply not seal it. This is the only reason I have given this a \"major\" \npriority. Please forgive if this was inappropriate..."}, {"count": 1, "tags": [], "text": "This has been fixed. The fix will be in 4.1.1, but is unlikely to be ported to \n4.0.x.", "attachment_id": null, "id": 15013, "creation_time": "2002-04-29T12:49:49Z", "time": "2002-04-29T12:49:49Z", "creator": "remm@apache.org", "bug_id": 8611, "is_private": false}, {"count": 2, "tags": [], "text": "on Tomcat 4.1.9 I have the same troubles", "is_private": false, "id": 21199, "creator": "rds@astral.ntu-kpi.kiev.ua", "time": "2002-08-17T14:31:10Z", "bug_id": 8611, "creation_time": "2002-08-17T14:31:10Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 8611, "attachment_id": null, "id": 50208, "time": "2004-01-07T20:46:24Z", "creator": "medthomas@ntlworld.com", "creation_time": "2004-01-07T20:46:24Z", "is_private": false, "text": "I have tested this on NT and 4.1.24 and it works correctly. I am therefore \nresolving this as fixed."}]