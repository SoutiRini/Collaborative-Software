[{"count": 0, "tags": [], "text": "It just shuts down. Sometimes after half an hour... today it was running all \nnight, and then when I came in this morning and banged the keyboard (knocking \nthe pc out of powersave mode), tomcat promptly shut itself off. Quite bizarre.", "attachment_id": null, "id": 15817, "creator": "tmotte@s-s-t.com", "time": "2002-05-09T17:03:44Z", "bug_id": 8940, "creation_time": "2002-05-09T17:03:44Z", "is_private": false}, {"count": 1, "tags": [], "text": "This looks like a VM crash, unless you see somewhere that Tomcat shut itself\ndown properly.\nWhich VM are you using ?\nAnything interesting in te logs ?", "is_private": false, "bug_id": 8940, "id": 15818, "time": "2002-05-09T17:09:08Z", "creator": "remm@apache.org", "creation_time": "2002-05-09T17:09:08Z", "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 8940, "is_private": false, "id": 15824, "time": "2002-05-09T17:38:45Z", "creator": "tmotte@s-s-t.com", "creation_time": "2002-05-09T17:38:45Z", "tags": [], "text": "JDK 1.4\n\nThat's the thing.... it actually does shut itself down in a totally orderly \nmanner. \n\ncatalina.out:\n[INFO] Registry - -Loading registry information\n[INFO] Registry - -Creating new Registry instance\n[INFO] Registry - -Creating MBeanServer\n[INFO] Http11Protocol - -setAttribute port 8080\n[INFO] Http11Protocol - -setAttribute maxThreads 75\n[INFO] Http11Protocol - -setAttribute backlog 10\n[INFO] Http11Protocol - -setAttribute tcpNoDelay true\n[INFO] Http11Protocol - -setAttribute soTimeout 0\n[INFO] Http11Protocol - -setAttribute timeout 0\n[INFO] Http11Protocol - -setAttribute secure false\nStarting service Tomcat-Standalone\nApache Tomcat/4.1\n[INFO] Http11Protocol - -Starting on 8080\n[INFO] JkMain - -Starting Jk2, base dir= c:\\Programs\\Tomcat40 \nconf=c:\\Programs\\Tomcat40\\conf\\jk2.properties\n[ERROR] JkMain - -APR error, disabling jni components: java.io.IOException: no \napr in java.library.path\n[INFO] ChannelSocket - -JK: listening on tcp port 8009\n[INFO] JkMain - -Jk running ID=0 ... init time=9003 ms\nStopping service Tomcat-Standalone\n\n\n\nSame deal in localhost log:\n2002-05-09 11:24:03 ContextConfig[/webdav]: Added certificates -> request \nattribute Valve\n2002-05-09 11:24:03 StandardManager[/webdav]: Seeding random number generator \nclass java.security.SecureRandom\n2002-05-09 11:24:03 StandardManager[/webdav]: Seeding of random number \ngenerator has been completed\n2002-05-09 11:24:03 StandardWrapper[/webdav:default]: Loading container servlet \ndefault\n2002-05-09 11:24:03 default: init\n2002-05-09 11:24:03 StandardWrapper[/webdav:invoker]: Loading container servlet \ninvoker\n2002-05-09 11:24:03 invoker: init\n2002-05-09 11:24:03 jsp: init\n2002-05-09 12:29:46 StandardHost[localhost]: Removing web application at \ncontext path /manager\n2002-05-09 12:29:46 StandardHost[localhost]: Removing web application at \ncontext path /mirs6\n2002-05-09 12:29:46 StandardHost[localhost]: Removing web application at \ncontext path /examples\n2002-05-09 12:29:46 StandardHost[localhost]: Removing web application at \ncontext path /tomcat-docs\n2002-05-09 12:29:46 StandardHost[localhost]: Removing web application at \ncontext path /webdav\n2002-05-09 12:29:46 StandardHost[localhost]: Removing web application at \ncontext path \n2002-05-09 12:29:46 StandardHost[localhost]: Removing web application at \ncontext path /admin\n"}, {"count": 3, "tags": [], "text": "Are you running Tomcat as a service ?\nI don't have any explanation or idea about this bug.", "attachment_id": null, "id": 15829, "creator": "remm@apache.org", "time": "2002-05-09T18:04:07Z", "bug_id": 8940, "creation_time": "2002-05-09T18:04:07Z", "is_private": false}, {"count": 4, "tags": [], "text": "Nope, not as a service, just as standalone on 8080.\n\nIt isn't killing me, as I'm only using it for development, but just thought I'd \nmake note of it. Never seems to die when I'm using it.\n\nIt's as if something is signaling it to die... but nothing is, unless some \nscript has hung on somewhere out there... like the new \"reload\" ant task, but \nthat doesn't make sense. Will try rebooting to see if that helps...", "is_private": false, "bug_id": 8940, "id": 15831, "time": "2002-05-09T18:10:04Z", "creator": "tmotte@s-s-t.com", "creation_time": "2002-05-09T18:10:04Z", "attachment_id": null}, {"count": 5, "tags": [], "text": "Maybe it has to deal with the thread pool removing threads when TC is inactive.\nWhen the VM only has daemon threads running, it will shut itself down (and\nTomcat, because of the shutdown hook).\n\nCostin, any comments on this ?", "attachment_id": null, "id": 15832, "creator": "remm@apache.org", "time": "2002-05-09T18:21:18Z", "bug_id": 8940, "creation_time": "2002-05-09T18:21:18Z", "is_private": false}, {"count": 6, "tags": [], "text": "You're going to be really disgusted with me now :)\n\nThis is happening because I fixed (in a very minor fashion) some variables in \nmy copy of the catalina.sh script and got Tomcat to work again under Cygwin. \nRemember that? The problem goes away if I run under DOS. \n\nGiven that catalina.sh uses \"&\" to background the process, Cygwin is probably \nsending kill/HUP signals or something for some (buggy) reason, causing tomcat \nto shut itself down as requested (and quite orderly so).\n\nI'll try playing with nohup in catalina.sh, but given the lack of general \nenthusiasm for Cygwin, I'll keep me hacks to meself and close the bug.\n\n\n", "is_private": false, "bug_id": 8940, "id": 15848, "time": "2002-05-09T21:05:52Z", "creator": "tmotte@s-s-t.com", "creation_time": "2002-05-09T21:05:52Z", "attachment_id": null}, {"count": 7, "tags": [], "text": "That's fine.\nIt was worth reporting it, because it may happen to others.\n\nCygwin doesn't seem to be a very good platform to run production apps on, so I\ndon't see the point of supporting it (esp since it adds many hacks in the Unix\nscripts).\n\nBetter cross platform support and enhanced reliability (like VM restart in the\nevent of a crash) will probably come from the \"daemon\" component from the commons.", "attachment_id": null, "id": 15850, "creator": "remm@apache.org", "time": "2002-05-09T21:29:44Z", "bug_id": 8940, "creation_time": "2002-05-09T21:29:44Z", "is_private": false}, {"count": 8, "attachment_id": null, "bug_id": 8940, "is_private": false, "id": 28278, "time": "2002-12-27T02:21:57Z", "creator": "xjhuang@eastcom-ca.com", "creation_time": "2002-12-27T02:21:57Z", "tags": [], "text": "I had the same problem, I am using tomcat4.1.17 under solaris8, jdk1.4.1. \nsometimes it happened shutdown itself. I have looked the catalina.out found \nthat the last infomation is 'Stopping service Tomcat-Standalone', But it is \nsure that nobody shutdown the tomcat. What happens? is that a tomcat bug?"}, {"count": 9, "tags": [], "text": "This is a Cygwin issue, not a tomcat bug.", "attachment_id": null, "id": 52261, "creator": "markt@apache.org", "time": "2004-02-13T20:32:34Z", "bug_id": 8940, "creation_time": "2004-02-13T20:32:34Z", "is_private": false}, {"count": 10, "tags": [], "text": "This is not a cygwin bug. I've seen this happen on Linux, Solaris, Windows. No\nlog information, nothing at all unusual. It just shuts itself down, in a\nproduction server environment, with people doing work (so no empty thread pool\neither).", "attachment_id": null, "bug_id": 8940, "id": 71812, "time": "2005-03-04T10:46:57Z", "creator": "vkleinschmidt@blackboard.com", "creation_time": "2005-03-04T10:46:57Z", "is_private": false}, {"count": 11, "tags": [], "text": "This version of Tomcat is no longer actively developed or maintained.  If it \nhappens on Tomcat 5.5.x or maybe even 5.0.x, and you can give us precise steps \nfor reproducing it, we'll be glad to address the issue.  Please don't reopen \nthis issue, unless both of the clauses in the above sentense are demonstrably \ntrue.", "is_private": false, "id": 71815, "creator": "yoavs@computer.org", "time": "2005-03-04T13:02:55Z", "bug_id": 8940, "creation_time": "2005-03-04T13:02:55Z", "attachment_id": null}, {"count": 12, "tags": [], "bug_id": 8940, "attachment_id": null, "id": 71839, "time": "2005-03-04T19:40:36Z", "creator": "markt@apache.org", "creation_time": "2005-03-04T19:40:36Z", "is_private": false, "text": "If you can provide steps that reproduce this on Tomcat 4.1.x, I would be happy\nto take a look at this."}]