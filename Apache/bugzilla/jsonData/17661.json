[{"count": 0, "tags": [], "bug_id": 17661, "is_private": false, "id": 32450, "attachment_id": null, "creator": "Stephan.Decker.sd@bayer-ag.de", "creation_time": "2003-03-05T08:17:39Z", "time": "2003-03-05T08:17:39Z", "text": "Environment:\nPerl 5.0\nSGI Irix 6.5\n\nI receive a truncated POST-String after a commit of a form.\nThe bug only occurred in conjunction with perl(i.e. not with php) and after \nupgrading to apache 2.0.43.\nIn the earlier version of apache (1.3.22) the POST-functionality was still O.K.\n\nTo to test the POST-String, I use the following example.\nThe CONTENT_LENGTH var is alright (> 8000), but $in is truncated!\n\nread (STDIN, $in, $ENV{'CONTENT_LENGTH'});\nprint \"Content Length: $ENV{'CONTENT_LENGTH'}\\n\\n<P>\\n\";\nprint \"Data Input: $in\\n\\n<P>\\n\";\nprint \"Data Length: \", length $in;"}, {"count": 1, "text": "The POST-string is also truncated after 8000 chars by using a newer perl \nversion (5.6.1). It seems to be only a Apache problem.", "bug_id": 17661, "is_private": false, "id": 32534, "time": "2003-03-06T07:17:48Z", "creator": "Stephan.Decker.sd@bayer-ag.de", "creation_time": "2003-03-06T07:17:48Z", "tags": [], "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 17661, "text": "Does it make any difference whether you use mod_cgi or mod_cgid?\n\nCan you get a system call trace of Apache writing the post data to the CGI\nprocess?\n", "id": 33016, "attachment_id": null, "creator": "trawick@apache.org", "creation_time": "2003-03-12T10:26:03Z", "time": "2003-03-12T10:26:03Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 17661, "is_private": false, "id": 33110, "attachment_id": null, "creator": "Stephan.Decker.sd@bayer-ag.de", "creation_time": "2003-03-13T12:50:36Z", "time": "2003-03-13T12:50:36Z", "text": "Thank you for the workaround, Jeff!\nNow I'm using mod_cgid instead of mod_cgi.\n\nAdditionally I tried to get a system call trace via the tool \"strace\".\nApache wrote a lot of stuff, but nothing which pointed to an error.\n"}, {"count": 4, "tags": [], "bug_id": 17661, "attachment_id": null, "text": "I had somewhat similar problems with PHP.  Large POST requests were truncated,\nseemingly at random locations.  I wrote a small test script (PHP) to let me\npost large amounts of data.  It worked well a couple of times (entire request\nwas given to PHP) after server restart, but after two or three requests, the\ntruncation started.\n\nI \"fixed\" the problem (temporarily) by setting MaxRequestsPerChild to 1.\n\nApache 2.0.44, PHP 4.3.2RC1.  I don't know which one is to blame, if any.\n", "id": 33312, "time": "2003-03-17T22:20:13Z", "creator": "shh@thathost.com", "creation_time": "2003-03-17T22:20:13Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 17661, "is_private": false, "id": 33368, "attachment_id": null, "creator": "shh@thathost.com", "creation_time": "2003-03-18T19:17:48Z", "time": "2003-03-18T19:17:48Z", "text": "Sorry, my \"fix\" of setting MaxRequestsPerChild to 1 didn't help after all.\n"}, {"count": 6, "tags": [], "creator": "thomas.apsel@ixos.de", "text": "I have the same problem using Apache httpd-2.0.45 on HPUX 11.11. Post requests \nare truncated by apache if the were send to a cgi script. You can easily \nreproduce this problem with the following cgi script and html page by posting \na text longer than 8000 characters. The reported \"Content length\" and \"Data \nlength\" differs.\n\npost.html\n=========\n<HTML><HEAD></HEAD>\n<BODY>\n<form action=\"http://localhost/cgi-bin/testpost.pl\" method=\"POST\">\n      <textarea name=\"review\" cols=100 rows=40></textarea>\n      <input type=\"submit\" value=\"Publish\">\n</form>\n</BODY></HTML>\n\ncgi-bin/testpost.pl\n===================\n#!perl\n\nuse CGI;\n\nprint \"Content-type: text/html\\n\\n\";\nprint \"<html>\\n\";\nprint \"<head>\\n\";\nprint \"<title>TestCgi\\n\";\nprint \"</title>\\n\";\nprint \"</head>\\n\";\n\nprint \"<body>\\n\";\nprint \"<pre>\\n\";\n\nread (STDIN, $in, $ENV{'CONTENT_LENGTH'});\nprint \"REQUEST_METHOD: $ENV{'REQUEST_METHOD'}\\n\";\nprint \"Content Length: $ENV{'CONTENT_LENGTH'}\\n\\n<P>\\n\";\nprint \"Data Input: $in\\n\\n<P>\\n\";\nprint \"Data Length: \", length $in;\n\nprint \"</pre>\\n\";\nprint \"</body>\\n\";\nprint \"</html>\";\n\nexit;\n", "id": 57275, "time": "2004-05-12T10:45:38Z", "bug_id": 17661, "creation_time": "2004-05-12T10:45:38Z", "is_private": false, "attachment_id": null}, {"count": 7, "text": "Is this reproducible with 2.0.49?  It sounds a bit like that old bug 20295, no?", "bug_id": 17661, "is_private": false, "id": 58602, "time": "2004-06-03T09:08:19Z", "creator": "jorton@redhat.com", "creation_time": "2004-06-03T09:08:19Z", "tags": [], "attachment_id": null}, {"count": 8, "text": "Worksforme.\n\nIn the absence of a reply to Joe's last question, this probably wants closing.\nAnyone who disagrees, reopen and tell us why!", "creator": "nick@webthing.com", "attachment_id": null, "id": 62665, "time": "2004-08-29T20:18:02Z", "bug_id": 17661, "creation_time": "2004-08-29T20:18:02Z", "tags": [], "is_private": false}]