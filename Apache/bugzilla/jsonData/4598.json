[{"count": 0, "tags": [], "text": "After downloading the release binary for Tomcat 3.3 and installing it\non a Sparcstation 20 running Solaris 8, and making sure with lsof that\nno process is using ports 8080 and 8007, executing startup.sh produces\nthe output that appears below.  The problem does not occur with\nTomcat 3.2.3 Final, and is reproducible after a restart.\n\n[~ 4] java -version\njava version \"1.3.1_01\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.3.1_01)\nJava HotSpot(TM) Client VM (build 1.3.1_01, mixed mode)\n\n[~ 5] startup.sh\nUsing classpath: /usr/local/java/jakarta-tomcat-3.3/bin/../lib/tomcat.jar\nUsing JAVA_HOME: /usr/j2se\nUsing TOMCAT_HOME: /usr/local/java/jakarta-tomcat-3.3\n[~ 6] 2001-11-02 12:56:26 - AutoDeploy: Expanding\n/usr/dev/java/jakarta-tomcat-3.3/webapps/admin.war\n2001-11-02 12:56:29 - AutoDeploy: Expanding\n/usr/dev/java/jakarta-tomcat-3.3/webapps/ROOT.war\n2001-11-02 12:56:53 - AutoDeploy: Expanding\n/usr/dev/java/jakarta-tomcat-3.3/webapps/examples.war\n2001-11-02 12:57:00 - ServerXmlReader: Config=$TOMCAT_HOME/conf/server.xml\n2001-11-02 12:57:00 - PathSetter: home=/usr/dev/java/jakarta-tomcat-3.3\n2001-11-02 12:57:01 - ContextXmlReader: Context\nconfig=$TOMCAT_HOME/conf/apps-127.0.0.1.xml\n2001-11-02 12:57:01 - ContextXmlReader: Context\nconfig=$TOMCAT_HOME/conf/apps-admin.xml\n2001-11-02 12:57:01 - ContextXmlReader: Context\nconfig=$TOMCAT_HOME/conf/apps-examples.xml\n2001-11-02 12:57:01 - AutoWebApp: Loaded from config: DEFAULT:/admin\n2001-11-02 12:57:01 - AutoWebApp: Auto-Adding DEFAULT:/\n2001-11-02 12:57:01 - AutoWebApp: Loaded from config: DEFAULT:/examples\n2001-11-02 12:57:01 - ContextManager: Tomcat configured and in stable state \n2001-11-02 12:57:01 - WorkDirSetup: Creating work dir\n/usr/dev/java/jakarta-tomcat-3.3/work/DEFAULT/admin\n2001-11-02 12:57:02 - ContextManager: Adding  DEFAULT:/admin\n2001-11-02 12:57:02 - WorkDirSetup: Creating work dir\n/usr/dev/java/jakarta-tomcat-3.3/work/DEFAULT/examples\n2001-11-02 12:57:02 - ContextManager: Adding  DEFAULT:/examples\n2001-11-02 12:57:02 - WorkDirSetup: Creating work dir\n/usr/dev/java/jakarta-tomcat-3.3/work/DEFAULT/ROOT\n2001-11-02 12:57:02 - ContextManager: Adding  DEFAULT:/ROOT\n2001-11-02 12:57:02 - Ctx(/admin) : Validating web.xml\n2001-11-02 12:57:04 - Ctx() : Validating web.xml\nEmbededTomcat: Init time 45658\n2001-11-02 12:57:05 - Http10Interceptor: Starting on 8080\n2001-11-02 12:57:05 - Ajp12Interceptor: Starting on 8007\nGuessed home=/usr/dev/java/jakarta-tomcat-3.3\njava.lang.reflect.InvocationTargetException:\norg.apache.tomcat.core.TomcatException: Root cause - Address already in use\n        at org.apache.tomcat.modules.server.PoolTcpConnector.engineStart(Unknown\nSource)\n        at org.apache.tomcat.core.ContextManager.start(Unknown Source)\n        at org.apache.tomcat.startup.EmbededTomcat.start(Unknown Source)\n        at org.apache.tomcat.startup.EmbededTomcat.execute1(Unknown Source)\n        at org.apache.tomcat.startup.EmbededTomcat$1.run(Unknown Source)\n        at\norg.apache.tomcat.util.compat.Jdk12Support$PrivilegedProxy.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.apache.tomcat.util.compat.Jdk12Support.doPrivileged(Unknown Source)\n        at org.apache.tomcat.startup.EmbededTomcat.execute(Unknown Source)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.tomcat.util.IntrospectionUtils.execute(Unknown Source)\n        at org.apache.tomcat.startup.Main.execute(Unknown Source)\n        at org.apache.tomcat.startup.Main.main(Unknown Source)", "attachment_id": null, "id": 7486, "creator": "alanlb@vt.edu", "time": "2001-11-02T10:08:52Z", "bug_id": 4598, "creation_time": "2001-11-02T10:08:52Z", "is_private": false}, {"count": 1, "tags": [], "creator": "alanlb@vt.edu", "attachment_id": null, "text": "I forgot to report my Tomcat-related env vars:\n\nJAVA_HOME=/usr/j2se\nANT_HOME=/usr/local/java/jakarta-ant-1.4\nTOMCAT_HOME=/usr/local/java/jakarta-tomcat-3.3\nCLASSPATH=/usr/local/java/jdbc-oracle/classes12.zip:/usr/local/java/electric/lib/GLUE-STD.jar:/usr/local/java/electric/lib/jcert.jar:/usr/local/java/electric/lib/jndi.jar:/usr/local/java/electric/lib/jnet.jar:/usr/local/java/electric/lib/jsse.jar:/usr/local/java/jakarta-ant-1.4/lib/ant.jar:/usr/local/java/jakarta-ant-1.4/lib/jaxp.jar:/usr/local/java/jakarta-ant-1.4/lib/crimson.jar:/usr/local/java/jakarta-tomcat-3.3/lib/common/servlet.jar", "id": 7487, "time": "2001-11-02T10:13:57Z", "bug_id": 4598, "creation_time": "2001-11-02T10:13:57Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 4598, "attachment_id": null, "id": 7488, "time": "2001-11-02T10:17:09Z", "creator": "Larry.Isaacs@sas.com", "creation_time": "2001-11-02T10:17:09Z", "is_private": false, "text": "The default Tomcat 3.3 installation also starts Ajp13Interceptor on port 8009,\nsince Ajp13 is the protocol of choice now instead of Ajp12.  Assuming that is\nthe source of port conflict.  Reopen if this is not the case."}]