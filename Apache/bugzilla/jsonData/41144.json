[{"count": 0, "tags": [], "creator": "davi@apache.org", "attachment_id": null, "text": "A especially crafted Date header may cause the ap_proxy_date_canon function to read past the end of a \nbuffer because no bounds checking is performed.\n\nSince the function is badly indented and broken, I diceded to take it out entirely.", "id": 96718, "time": "2006-12-10T15:14:40Z", "bug_id": 41144, "creation_time": "2006-12-10T15:14:40Z", "is_private": false}, {"count": 1, "tags": [], "creator": "davi@apache.org", "attachment_id": 19240, "text": "Created attachment 19240\npatch against the 2.2.x branch", "id": 96719, "time": "2006-12-10T15:15:18Z", "bug_id": 41144, "creation_time": "2006-12-10T15:15:18Z", "is_private": false}, {"count": 2, "tags": [], "creator": "davi@apache.org", "attachment_id": null, "is_private": false, "id": 96720, "time": "2006-12-10T15:19:04Z", "bug_id": 41144, "creation_time": "2006-12-10T15:19:04Z", "text": "ap_proxy_date_canon is called for the fowling headers:\n\n\"Date\", \"Expires\", \"Last-Modified\"\n\nHeader example:\n\n\"Date: Monday, oops\"\n\n\n"}, {"count": 3, "tags": [], "bug_id": 41144, "text": "A simpler fix would just be to check strlen of the date at the top of the\nfunction, wouldn't it?", "id": 96722, "time": "2006-12-10T15:57:14Z", "creator": "nick@webthing.com", "creation_time": "2006-12-10T15:57:14Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 41144, "text": "(In reply to comment #3)\n> A simpler fix would just be to check strlen of the date at the top of the\n> function, wouldn't it?\n\nNot quite, because the length varies per date format. Well, let's make it less likely to bite us later.\n", "id": 96726, "time": "2006-12-10T20:00:31Z", "creator": "davi@apache.org", "creation_time": "2006-12-10T20:00:31Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 41144, "is_private": false, "id": 97172, "attachment_id": 19299, "creator": "davi@apache.org", "creation_time": "2006-12-21T14:24:09Z", "time": "2006-12-21T14:24:09Z", "text": "Created attachment 19299\nproxy canon date gmt"}, {"count": 6, "tags": [], "bug_id": 41144, "is_private": false, "id": 97173, "attachment_id": null, "creator": "davi@apache.org", "creation_time": "2006-12-21T14:27:01Z", "time": "2006-12-21T14:27:01Z", "text": "The first patch version incorrectly converted the time in local timezone instead of GMT."}, {"count": 7, "tags": [], "bug_id": 41144, "text": "Both your patches are identical - but they're more sensible than the original\ncode.  I'm updating it to use gmt as you intended, and made the tiny\noptimisation of avoiding a copy.", "id": 97194, "time": "2006-12-22T11:00:18Z", "creator": "nick@webthing.com", "creation_time": "2006-12-22T11:00:18Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 41144, "is_private": false, "id": 97195, "attachment_id": 19301, "creator": "nick@webthing.com", "creation_time": "2006-12-22T11:03:00Z", "time": "2006-12-22T11:03:00Z", "text": "Created attachment 19301\nupdated patch on 2.2"}, {"count": 9, "tags": [], "creator": "nick@webthing.com", "attachment_id": null, "text": "Should've mentioned: my patch relies on Davi's patch to have got the format right:-)\n\nMore importantly, this needs to be applied to trunk ahead of 2.2.x.", "id": 97196, "time": "2006-12-22T11:12:28Z", "bug_id": 41144, "creation_time": "2006-12-22T11:12:28Z", "is_private": false}, {"count": 10, "tags": [], "creator": "davi@apache.org", "attachment_id": null, "text": "I double checked, the patches are not identical. Anyway, your patch is better. Thanks.", "id": 97197, "time": "2006-12-22T12:40:19Z", "bug_id": 41144, "creation_time": "2006-12-22T12:40:19Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 41144, "is_private": false, "id": 106485, "attachment_id": null, "creator": "davi@apache.org", "creation_time": "2007-08-08T05:57:21Z", "time": "2007-08-08T05:57:21Z", "text": "Committed to trunk in revision 561616:\n\nhttp://svn.apache.org/viewvc?view=rev&rev=561616\n\nBackported to 2.2.x in revision 563198:\n\nhttp://svn.apache.org/viewvc?view=rev&rev=563198\n\nBackported to 2.0.x in revision 563329:\n\nhttp://svn.apache.org/viewvc?view=rev&rev=563329"}]