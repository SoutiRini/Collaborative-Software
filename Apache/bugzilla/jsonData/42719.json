[{"count": 0, "tags": [], "bug_id": 42719, "attachment_id": null, "id": 104615, "time": "2007-06-22T00:42:46Z", "creator": "osegarra@gencat.net", "creation_time": "2007-06-22T00:42:46Z", "is_private": false, "text": "Hi, \n\nI cannot start apache server after installing mod_ssl and i'm not able to fix \nit.\n\nin httpd.conf (with this configuration it does not start up)\n\nNameVirtualHost *:443\n\n<VirtualHost *:443>\n\tSSLEngine On\n\tCustomLog logs/ssl_request_log.log \"%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}\nx \\\"%r\\\" %b\"\n</VirtualHost>\n\nin httpd.conf (with this configuration it starts up)\n\nNameVirtualHost *:443\n\n<VirtualHost *:443>\n#####\tSSLEngine On\n\tCustomLog logs/ssl_request_log.log \"%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}\nx \\\"%r\\\" %b\"\n</VirtualHost>\n\nI have set loglevel to debug and i could see the following:\n\n[Fri Jun 22 09:21:27 2007] [info] Init: Initializing OpenSSL library\n[Fri Jun 22 09:21:27 2007] [info] Init: Seeding PRNG with 0 bytes of entropy\n[Fri Jun 22 09:21:27 2007] [info] Loading certificate & private key of SSL-\naware server\n[Fri Jun 22 09:21:27 2007] [debug] ssl_engine_pphrase.c(469): unencrypted RSA \nprivate key - pass phrase not required\n[Fri Jun 22 09:21:27 2007] [info] Init: Generating temporary RSA private keys \n(512/1024 bits)\n[Fri Jun 22 09:21:27 2007] [info] Init: Generating temporary DH parameters \n(512/1024 bits)\n[Fri Jun 22 09:21:27 2007] [debug] ssl_scache_dbm.c(406): Inter-Process Session \nCache (DBM) Expiry: old: 0, new: 0, removed: 0\n[Fri Jun 22 09:21:27 2007] [info] Init: Initializing (virtual) servers for SSL\n[Fri Jun 22 09:21:27 2007] [info] Configuring server for SSL protocol\n[Fri Jun 22 09:21:27 2007] [debug] ssl_engine_init.c(405): Creating new SSL \ncontext (protocols: SSLv2, SSLv3, TLSv1)\n[Fri Jun 22 09:21:27 2007] [debug] ssl_engine_init.c(530): Configuring client \nauthentication\n[Fri Jun 22 09:21:27 2007] [debug] ssl_engine_init.c(1095): CA \ncertificate: /C=ES/O=Agencia Catalana de Certificacio (NIF Q-0801176-\nI)/OU=Serveis Publics de Certificacio/OU=Vegeu \nhttps://www.catcert.net/verpreproduccio (c)03/OU=Jerarquia Entitats de \nCertificacio Catalanes/CN=PREPRODUCCIO EC-ACC\n[Fri Jun 22 09:21:27 2007] [debug] ssl_engine_init.c(1095): CA \ncertificate: /C=ES/O=Agencia Catalana de Certificacio (NIF Q-0801176-\nI)/OU=Serveis Publics de Certificacio ECV-1/OU=Vegeu \nhttps://www.catcert.net/verpreproduccio  (c)03/OU=Generalitat de \nCatalunya/CN=PREPRODUCCIO EC-GENCAT\n[Fri Jun 22 09:21:27 2007] [debug] ssl_engine_init.c(1095): CA \ncertificate: /C=ES/O=Agencia Catalana de Certificacio (NIF Q-0801176-\nI)/L=Passatge de la Concepcio 11 08008 Barcelona/OU=Serveis Publics de \nCertificacio ECV-2/OU=Vegeu https://www.catcert.net/verCIC-2   (c)\n03/OU=Secretaria d'Administracio i Funcio Publica\n[Fri Jun 22 09:21:27 2007] [debug] ssl_engine_init.c(716): Configuring RSA \nserver certificate\n[Fri Jun 22 09:21:27 2007] [warn] RSA server certificate CommonName (CN) \n`www.presidencia.intranet' does NOT match server name!?\n[Fri Jun 22 09:21:27 2007] [debug] ssl_engine_init.c(755): Configuring RSA \nserver private key\n[Fri Jun 22 09:21:27 2007] [info] Server: Apache/2.0.59, Interface: \nmod_ssl/2.0.59, Library: OpenSSL/0.9.8d\n[Fri Jun 22 09:21:27 2007] [info] Init: Initializing OpenSSL library\n[Fri Jun 22 09:21:27 2007] [info] Init: Seeding PRNG with 0 bytes of entropy\n[Fri Jun 22 09:21:27 2007] [info] Loading certificate & private key of SSL-\naware server\n[Fri Jun 22 09:21:27 2007] [debug] ssl_engine_pphrase.c(469): unencrypted RSA \nprivate key - pass phrase not required\n[Fri Jun 22 09:21:27 2007] [info] Init: Generating temporary RSA private keys \n(512/1024 bits)\n[Fri Jun 22 09:21:28 2007] [info] Init: Generating temporary DH parameters \n(512/1024 bits)\n[Fri Jun 22 09:21:28 2007] [debug] ssl_scache_dbm.c(406): Inter-Process Session \nCache (DBM) Expiry: old: 0, new: 0, removed: 0\n[Fri Jun 22 09:21:28 2007] [info] Init: Initializing (virtual) servers for SSL\n[Fri Jun 22 09:21:28 2007] [info] Configuring server for SSL protocol\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(405): Creating new SSL \ncontext (protocols: SSLv2, SSLv3, TLSv1)\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(530): Configuring client \nauthentication\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(1095): CA \ncertificate: /C=ES/O=Agencia Catalana de Certificacio (NIF Q-0801176-\nI)/OU=Serveis Publics de Certificacio/OU=Vegeu \nhttps://www.catcert.net/verpreproduccio (c)03/OU=Jerarquia Entitats de \nCertificacio Catalanes/CN=PREPRODUCCIO EC-ACC\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(1095): CA \ncertificate: /C=ES/O=Agencia Catalana de Certificacio (NIF Q-0801176-\nI)/OU=Serveis Publics de Certificacio ECV-1/OU=Vegeu \nhttps://www.catcert.net/verpreproduccio  (c)03/OU=Generalitat de \nCatalunya/CN=PREPRODUCCIO EC-GENCAT\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(1095): CA \ncertificate: /C=ES/O=Agencia Catalana de Certificacio (NIF Q-0801176-\nI)/L=Passatge de la Concepcio 11 08008 Barcelona/OU=Serveis Publics de \nCertificacio ECV-2/OU=Vegeu https://www.catcert.net/verCIC-2   (c)\n03/OU=Secretaria d'Administracio i Funcio Publica\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(716): Configuring RSA \nserver certificate\n[Fri Jun 22 09:21:28 2007] [warn] RSA server certificate CommonName (CN) \n`www.presidencia.intranet' does NOT match server name!?\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(755): Configuring RSA \nserver private key\n[Fri Jun 22 09:21:28 2007] [info] Server: Apache/2.0.59, Interface: \nmod_ssl/2.0.59, Library: OpenSSL/0.9.8d\n[Fri Jun 22 09:21:28 2007] [notice] Apache/2.0.59 (Win32) mod_ssl/2.0.59 \nOpenSSL/0.9.8d mod_jk/1.2.21 configured -- resuming normal operations\n[Fri Jun 22 09:21:28 2007] [notice] Server built: Jul 27 2006 15:55:03\n[Fri Jun 22 09:21:28 2007] [notice] Parent: Created child process 5240\n[Fri Jun 22 09:21:28 2007] [debug] mpm_winnt.c(480): Parent: Sent the \nscoreboard to the child\n[Fri Jun 22 09:21:28 2007] [info] Init: Initializing OpenSSL library\n[Fri Jun 22 09:21:28 2007] [info] Init: Seeding PRNG with 0 bytes of entropy\n[Fri Jun 22 09:21:28 2007] [info] Loading certificate & private key of SSL-\naware server\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_pphrase.c(469): unencrypted RSA \nprivate key - pass phrase not required\n[Fri Jun 22 09:21:28 2007] [info] Init: Generating temporary RSA private keys \n(512/1024 bits)\n[Fri Jun 22 09:21:28 2007] [info] Init: Generating temporary DH parameters \n(512/1024 bits)\n[Fri Jun 22 09:21:28 2007] [debug] ssl_scache_dbm.c(406): Inter-Process Session \nCache (DBM) Expiry: old: 0, new: 0, removed: 0\n[Fri Jun 22 09:21:28 2007] [info] Init: Initializing (virtual) servers for SSL\n[Fri Jun 22 09:21:28 2007] [info] Configuring server for SSL protocol\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(405): Creating new SSL \ncontext (protocols: SSLv2, SSLv3, TLSv1)\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(530): Configuring client \nauthentication\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(1095): CA \ncertificate: /C=ES/O=Agencia Catalana de Certificacio (NIF Q-0801176-\nI)/OU=Serveis Publics de Certificacio/OU=Vegeu \nhttps://www.catcert.net/verpreproduccio (c)03/OU=Jerarquia Entitats de \nCertificacio Catalanes/CN=PREPRODUCCIO EC-ACC\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(1095): CA \ncertificate: /C=ES/O=Agencia Catalana de Certificacio (NIF Q-0801176-\nI)/OU=Serveis Publics de Certificacio ECV-1/OU=Vegeu \nhttps://www.catcert.net/verpreproduccio  (c)03/OU=Generalitat de \nCatalunya/CN=PREPRODUCCIO EC-GENCAT\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(1095): CA \ncertificate: /C=ES/O=Agencia Catalana de Certificacio (NIF Q-0801176-\nI)/L=Passatge de la Concepcio 11 08008 Barcelona/OU=Serveis Publics de \nCertificacio ECV-2/OU=Vegeu https://www.catcert.net/verCIC-2   (c)\n03/OU=Secretaria d'Administracio i Funcio Publica\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(716): Configuring RSA \nserver certificate\n[Fri Jun 22 09:21:28 2007] [warn] RSA server certificate CommonName (CN) \n`www.presidencia.intranet' does NOT match server name!?\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_init.c(755): Configuring RSA \nserver private key\n[Fri Jun 22 09:21:28 2007] [info] Server: Apache/2.0.59, Interface: \nmod_ssl/2.0.59, Library: OpenSSL/0.9.8d\n[Fri Jun 22 09:21:28 2007] [info] Init: Initializing OpenSSL library\n[Fri Jun 22 09:21:28 2007] [info] Init: Seeding PRNG with 0 bytes of entropy\n[Fri Jun 22 09:21:28 2007] [info] Loading certificate & private key of SSL-\naware server\n[Fri Jun 22 09:21:28 2007] [debug] ssl_engine_pphrase.c(469): unencrypted RSA \nprivate key - pass phrase not required\n[Fri Jun 22 09:21:28 2007] [info] Init: Generating temporary RSA private keys \n(512/1024 bits)\n[Fri Jun 22 09:21:32 2007] [crit] master_main: create child process failed. \nExiting.\n[Fri Jun 22 09:21:32 2007] [notice] Parent: Forcing termination of child \nprocess 2867576 \n[Fri Jun 22 09:21:32 2007] [info] removed PID file C:/Apache2/logs/httpd.pid \n(pid=6064)\n\nFeel free to ask me for new information.\nThanks you in advance\nOscar Segarra."}, {"count": 1, "tags": [], "text": "Created attachment 20383\nhttpd.conf", "is_private": false, "id": 104616, "creator": "osegarra@gencat.net", "time": "2007-06-22T00:43:33Z", "bug_id": 42719, "creation_time": "2007-06-22T00:43:33Z", "attachment_id": 20383}, {"count": 2, "tags": [], "text": "Created attachment 20384\nworkers.properties", "is_private": false, "id": 104617, "creator": "osegarra@gencat.net", "time": "2007-06-22T00:44:17Z", "bug_id": 42719, "creation_time": "2007-06-22T00:44:17Z", "attachment_id": 20384}, {"count": 3, "tags": [], "creator": "osegarra@gencat.net", "attachment_id": 20385, "id": 104618, "time": "2007-06-22T00:44:44Z", "bug_id": 42719, "creation_time": "2007-06-22T00:44:44Z", "is_private": false, "text": "Created attachment 20385\nssl.conf"}, {"count": 4, "tags": [], "bug_id": 42719, "attachment_id": 20386, "id": 104619, "time": "2007-06-22T00:45:16Z", "creator": "osegarra@gencat.net", "creation_time": "2007-06-22T00:45:16Z", "is_private": false, "text": "Created attachment 20386\nerror.log"}, {"count": 5, "tags": [], "bug_id": 42719, "attachment_id": 20387, "text": "Created attachment 20387\nmod_jk.log", "id": 104620, "time": "2007-06-22T00:45:33Z", "creator": "osegarra@gencat.net", "creation_time": "2007-06-22T00:45:33Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 42719, "attachment_id": null, "id": 106279, "time": "2007-08-03T07:58:13Z", "creator": "jim@apache.org", "creation_time": "2007-08-03T07:58:13Z", "is_private": false, "text": "Bugzilla is not a support forum. Please use the users@ list for support help."}]