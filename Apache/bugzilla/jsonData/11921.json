[{"count": 0, "tags": [], "creator": "manfred.steinbach@heidelberg.com", "attachment_id": null, "text": "When starting tomcat-4.1 I get following exception:\n\n------------------------------ Exception start\n\n2002-08-22 10:16:21 HostConfig[localhost]: Expanding web application archive\njteservice.war\n2002-08-22 10:16:21 StandardHost[localhost]: Installing web application at\ncontext path /jteservice from URL file:G:/Pro\ngram Files/Apache Group/Tomcat 4.1/bin/../webapps/jteservice\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploying class repositories to\nwork directory G:\\Program Files\\Apache Gr\noup\\Tomcat 4.1\\work\\Standalone\\localhost\\jteservice\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy class files\n/WEB-INF/classes to G:\\Program Files\\Apache Group\\Tomc\nat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\classes\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/commons-beanutils.jar to G:\\Program Files\\Apache\nGroup\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\commons-beanutils.jar\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/commons-collections.jar to G:\\Program Files\\Apach\ne Group\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\commons-collections.jar\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/commons-dbcp.jar to G:\\Program Files\\Apache Group\n\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\commons-dbcp.jar\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/commons-digester.jar to G:\\Program Files\\Apache G\nroup\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\commons-digester.jar\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/commons-fileupload.jar to G:\\Program Files\\Apache\n Group\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\commons-fileupload.jar\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/commons-lang.jar to G:\\Program Files\\Apache Group\n\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\commons-lang.jar\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/commons-logging.jar to G:\\Program Files\\Apache Gr\noup\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\commons-logging.jar\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/commons-pool.jar to G:\\Program Files\\Apache Group\n\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\commons-pool.jar\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/commons-resources.jar to G:\\Program Files\\Apache\nGroup\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\commons-resources.jar\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/commons-services.jar to G:\\Program Files\\Apache G\nroup\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\commons-services.jar\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/commons-validator.jar to G:\\Program Files\\Apache\nGroup\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\commons-validator.jar\n2002-08-22 10:16:21 WebappLoader[/jteservice]: Deploy JAR /WEB-INF/lib/jacl.jar\nto G:\\Program Files\\Apache Group\\Tomcat\n4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\jacl.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/jakarta-oro.jar to G:\\Program Files\\Apache Group\\\nTomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\jakarta-oro.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/jdbc2_0-stdext.jar to G:\\Program Files\\Apache Gro\nup\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\jdbc2_0-stdext.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/jndi_fscontext.jar to G:\\Program Files\\Apache Gro\nup\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\jndi_fscontext.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/jndi_providerutil.jar to G:\\Program Files\\Apache\nGroup\\Tomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\jndi_providerutil.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR /WEB-INF/lib/jte.jar\nto G:\\Program Files\\Apache Group\\Tomcat 4\n.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\jte.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/jteservice.jar to G:\\Program Files\\Apache Group\\T\nomcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\jteservice.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR /WEB-INF/lib/log4j.jar\nto G:\\Program Files\\Apache Group\\Tomcat\n 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\log4j.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR /WEB-INF/lib/omg.jar\nto G:\\Program Files\\Apache Group\\Tomcat 4\n.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\omg.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR /WEB-INF/lib/opm.jar\nto G:\\Program Files\\Apache Group\\Tomcat 4\n.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\opm.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/orbix2000.jar to G:\\Program Files\\Apache Group\\To\nmcat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\orbix2000.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/servlet.jar to G:\\Program Files\\Apache Group\\Tomc\nat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\servlet.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/struts.jar to G:\\Program Files\\Apache Group\\Tomca\nt 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\struts.jar\n2002-08-22 10:16:22 WebappLoader[/jteservice]: Deploy JAR\n/WEB-INF/lib/tcljava.jar to G:\\Program Files\\Apache Group\\Tomc\nat 4.1\\bin\\..\\webapps\\jteservice\\WEB-INF\\lib\\tcljava.jar\n2002-08-22 10:16:31 StandardManager[/jteservice]: Seeding random number\ngenerator class java.security.SecureRandom\n2002-08-22 10:16:31 StandardManager[/jteservice]: Seeding of random number\ngenerator has been completed\n2002-08-22 10:16:31 StandardWrapper[/jteservice:default]: Loading container\nservlet default\n2002-08-22 10:16:31 default: init\n2002-08-22 10:16:31 StandardWrapper[/jteservice:invoker]: Loading container\nservlet invoker\n2002-08-22 10:16:31 invoker: init\n2002-08-22 10:16:32 StandardWrapper[/jteservice:action]: Marking servlet action\nas unavailable\n2002-08-22 10:16:32 StandardContext[/jteservice]: Servlet /jteservice threw\nload() exception\njavax.servlet.ServletException: Error instantiating servlet class\norg.apache.struts.action.ActionServlet\n        at\norg.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:896)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:811)\n        at\norg.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:3293)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:3486)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:821)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:807)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:579)\n        at\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:257)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:774)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:502)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:410)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:882)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:368)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:166)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1198)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:740)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1190)\n        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:347)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:499)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:2186)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:510)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n----- Root Cause -----\njava.lang.ExceptionInInitializerError:\norg.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.\nLogConfigurationException: org.apache.commons.logging.LogConfigurationException:\nClass org.apache.commons.logging.impl.Log4JCategoryLog does not implement Log\n        at\norg.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:530)\n        at\norg.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:285)\n        at\norg.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:255)\n        at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:375)\n        at org.apache.struts.action.ActionServlet.<clinit>(ActionServlet.java:375)\n        at java.lang.Class.newInstance0(Native Method)\n        at java.lang.Class.newInstance(Class.java:237)\n        at\norg.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:887)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:811)\n        at\norg.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:3293)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:3486)\n        at\norg.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:821)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:807)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:579)\n        at\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:257)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:774)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:502)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:410)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:882)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:368)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:166)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1198)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:740)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1190)\n        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:347)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:499)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:2186)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:510)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n\n2002-08-22 10:16:32 jsp: init\n\n------------------------------ Exception end\n\nThe exception is now new since I used log4j-1.2.6.\nAlthough I read something about the modified class loading in bug report #9305,\nI did not find a solution to solve the bug. The exception is gone, when I put\nthe log4j.jar in lib/ext of the java virtual machine. The exception occurs, when\nthe archive is located in WEB_INF\\lib.\n\nI'm using following:\n- Tomcat-4.1.3\n- Struts-1.1b2\n- Log4j-1.2.6\n\nThanks for any help,\n\nManfred Steinbach", "id": 21525, "time": "2002-08-22T09:57:38Z", "bug_id": 11921, "creation_time": "2002-08-22T09:57:38Z", "is_private": false}, {"count": 1, "tags": [], "creator": "manfred.steinbach@heidelberg.com", "attachment_id": null, "text": "The bug does not occur anymore after installing Tomcat-4.1.10. Seems, as if the\nlogging mechanismn changed during Tomcat-4.1.3 and Tomcat-4.1.10.\n\nManfred Steinbach", "id": 22733, "time": "2002-09-12T10:33:41Z", "bug_id": 11921, "creation_time": "2002-09-12T10:33:41Z", "is_private": false}]