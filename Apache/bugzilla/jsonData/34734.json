[{"count": 0, "tags": [], "bug_id": 34734, "attachment_id": null, "text": "The <get src=...> target fails with java.lang.ArrayIndexOutOfBoundsException.\n\nHere's the build\n\n<get src=\"${jre.url}\"\n   dest=\"${zip.dir}/${jre.name}\"\n   username=\"${web.downloadid}\"\n   password=\"${web.downloadpassword}\"\n   usetimestamp=\"true\"\n/>\n\nHere's a full stack trace:\n\nBUILD FAILED\n/usr/local/faster/ejbserver/build.xml:2339: The following error occurred while\nexecuting this line:\n/usr/local/faster/ejbserver/build.xml:2364:\njava.lang.ArrayIndexOutOfBoundsException: 28\n        at\norg.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:539)\n        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:384)\n        at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:107)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n        at\norg.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.Main.runBuild(Main.java:668)\n        at org.apache.tools.ant.Main.startAnt(Main.java:187)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:246)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)\nCaused by: /usr/local/faster/ejbserver/build.xml:2364:\njava.lang.ArrayIndexOutOfBoundsException: 28\n        at org.apache.tools.ant.Task.perform(Task.java:373)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at\norg.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:37)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:382)\n        ... 13 more\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 28\n        at org.apache.tools.ant.taskdefs.Get$Base64Converter.encode(Get.java:379)\n        at org.apache.tools.ant.taskdefs.Get.doGet(Get.java:152)\n        at org.apache.tools.ant.taskdefs.Get.execute(Get.java:76)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        ... 19 more\n--- Nested Exception ---\n/usr/local/faster/ejbserver/build.xml:2364:\njava.lang.ArrayIndexOutOfBoundsException: 28\n        at org.apache.tools.ant.Task.perform(Task.java:373)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at\norg.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:37)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:382)\n        at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:107)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n        at\norg.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.Main.runBuild(Main.java:668)\n        at org.apache.tools.ant.Main.startAnt(Main.java:187)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:246)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 28\n        at org.apache.tools.ant.taskdefs.Get$Base64Converter.encode(Get.java:379)\n        at org.apache.tools.ant.taskdefs.Get.doGet(Get.java:152)\n        at org.apache.tools.ant.taskdefs.Get.execute(Get.java:76)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        ... 19 more\n--- Nested Exception ---\njava.lang.ArrayIndexOutOfBoundsException: 28\n        at org.apache.tools.ant.taskdefs.Get$Base64Converter.encode(Get.java:379)\n        at org.apache.tools.ant.taskdefs.Get.doGet(Get.java:152)\n        at org.apache.tools.ant.taskdefs.Get.execute(Get.java:76)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at\norg.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:37)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:382)\n        at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:107)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n        at\norg.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.Main.runBuild(Main.java:668)\n        at org.apache.tools.ant.Main.startAnt(Main.java:187)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:246)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)\n\nSame for Linux/PC.", "id": 74426, "time": "2005-05-04T12:44:32Z", "creator": "steveh@nesstar.com", "creation_time": "2005-05-04T12:44:32Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 34734, "text": "looks like it is setting up the resulting byte[] incorrectly.  Might be easiest\nto change to a StringBuffer internally.", "id": 74449, "time": "2005-05-04T18:53:50Z", "creator": "mbenson@apache.org", "creation_time": "2005-05-04T18:53:50Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 34734, "text": "I just committed a simple change to CVS HEAD; if you can download tonight's\nnightly build and verify that your problem is fixed that would be helpful.\n\nThanks!", "id": 74450, "time": "2005-05-04T19:01:40Z", "creator": "mbenson@apache.org", "creation_time": "2005-05-04T19:01:40Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 34734, "text": "i am testing now but i noticed the version is still set to 1.6.2 in the one i\ndownloaded\n\nC:\\Documents and Settings\\steveh\\Desktop\\apache-ant-1.7alpha\\bin>path\nPATH=(null)\nC:\\Documents and Settings\\steveh\\Desktop\\apache-ant-1.7alpha\\bin>ant -version\nApache Ant version 1.6.2 compiled on July 16 2004\nC:\\Documents and Settings\\steveh\\Desktop\\apache-ant-1.7alpha\\bin>\n\ni download it from here\n\nhttp://brutus.apache.org/~nightlybuild/builds/ant/20050504/bin/apache-ant-1.7alpha-bin.zip", "id": 74471, "time": "2005-05-05T11:48:06Z", "creator": "steveh@nesstar.com", "creation_time": "2005-05-05T11:48:06Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "mbenson@apache.org", "attachment_id": null, "text": "Is your ANT_HOME environment variable set?  If so ant.bat will still call the\none set in that variable (i.e. probably 1.6.2).", "id": 74501, "time": "2005-05-05T20:17:59Z", "bug_id": 34734, "creation_time": "2005-05-05T20:17:59Z", "is_private": false}, {"count": 5, "tags": [], "text": "Thanks i corrected that, but i am now getting an authorisation problem with the\n1.7 alpha version that i don't have with the 1.6.2 version. Here is the stack trace:\n\nBUILD FAILED\nC:\\faster\\ejbserver\\build.xml:2343: The following error occurred while executing\n this line:\nC:\\faster\\ejbserver\\build.xml:2368: HTTP Authorization failure\n        at org.apache.tools.ant.ProjectHelper.addLocationToBuildException(Projec\ntHelper.java:536)\n        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:398)\n        at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:104)\n\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.jav\na:104)\n        at org.apache.tools.ant.Task.perform(Task.java:365)\n        at org.apache.tools.ant.Target.execute(Target.java:340)\n        at org.apache.tools.ant.Target.performTasks(Target.java:368)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExe\ncutor.java:40)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.Main.runBuild(Main.java:668)\n        at org.apache.tools.ant.Main.startAnt(Main.java:187)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:249)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:70)\nCaused by: C:\\faster\\ejbserver\\build.xml:2368: HTTP Authorization failure\n        at org.apache.tools.ant.taskdefs.Get.doGet(Get.java:183)\n        at org.apache.tools.ant.taskdefs.Get.execute(Get.java:76)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.jav\na:104)\n        at org.apache.tools.ant.Task.perform(Task.java:365)\n        at org.apache.tools.ant.Target.execute(Target.java:340)\n        at org.apache.tools.ant.Target.performTasks(Target.java:368)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(Single\nCheckExecutor.java:37)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:396)\n        ... 17 more\n--- Nested Exception ---\nC:\\faster\\ejbserver\\build.xml:2368: HTTP Authorization failure\n        at org.apache.tools.ant.taskdefs.Get.doGet(Get.java:183)\n        at org.apache.tools.ant.taskdefs.Get.execute(Get.java:76)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.jav\na:104)\n        at org.apache.tools.ant.Task.perform(Task.java:365)\n        at org.apache.tools.ant.Target.execute(Target.java:340)\n        at org.apache.tools.ant.Target.performTasks(Target.java:368)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(Single\nCheckExecutor.java:37)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:396)\n        at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:104)\n\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.jav\na:104)\n        at org.apache.tools.ant.Task.perform(Task.java:365)\n        at org.apache.tools.ant.Target.execute(Target.java:340)\n        at org.apache.tools.ant.Target.performTasks(Target.java:368)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExe\ncutor.java:40)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.Main.runBuild(Main.java:668)\n        at org.apache.tools.ant.Main.startAnt(Main.java:187)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:249)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:70)", "attachment_id": null, "id": 74521, "creator": "steveh@nesstar.com", "time": "2005-05-06T12:21:09Z", "bug_id": 34734, "creation_time": "2005-05-06T12:21:09Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 34734, "attachment_id": null, "text": "This may simply mean that my quick & dirty attempt to fix the problem yielded\nincorrect results / the authentication failure may be due to the encoded\nusername & password having been corrupted.  Will investigate further.", "id": 74534, "time": "2005-05-06T16:39:34Z", "creator": "mbenson@apache.org", "creation_time": "2005-05-06T16:39:34Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 34734, "text": "Okay, I think I've fixed it.  Try the jar at:\nhttp://people.apache.org/~mbenson/sharedfiles/ant.jar", "id": 74540, "time": "2005-05-06T18:05:00Z", "creator": "mbenson@apache.org", "creation_time": "2005-05-06T18:05:00Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 34734, "attachment_id": null, "text": "another problem:\n\nc:\\faster\\ejbserver>ant release.quicker\nInvalid implementation version between Ant core and Ant optional tasks.\n core    : 1.6.3\n optional: 1.7\nc:\\faster\\ejbserver>set|grep ANT\nANT_HOME=C:\\Documents and Settings\\steveh\\Desktop\\apache-ant-1.7alpha\nANT_OPTS=-Dsun.java2d.noddraw=true -Xms64M -Xmx1024M\n\nc:\\faster\\ejbserver>path\nPATH=C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\Program Files\\Co\nmmon Files\\Adaptec Shared\\System;C:\\Program Files\\Microsoft SQL Server\\80\\Tools\\\nBINN;C:\\Documents and Settings\\steveh\\Desktop\\apache-ant-1.7alpha\\bin;C:\\faster\\\ndevutils;C:\\Program Files\\Java\\jdk1.4.2_04\\bin;C:\\Program Files\\GNU\\WinCvs 1.3\\C\nVSNT;C:\\Documents and Settings\\steveh\\My Documents\\Nesstar;", "id": 74546, "time": "2005-05-06T20:13:25Z", "creator": "steveh@nesstar.com", "creation_time": "2005-05-06T20:13:25Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 34734, "text": "sorry, i guess that's a fix for the 1.6.3 version?", "id": 74547, "time": "2005-05-06T20:19:50Z", "creator": "steveh@nesstar.com", "creation_time": "2005-05-06T20:19:50Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 34734, "attachment_id": null, "id": 74548, "time": "2005-05-06T20:20:30Z", "creator": "steveh@nesstar.com", "creation_time": "2005-05-06T20:20:30Z", "is_private": false, "text": "yes that works fine now, excellent! :-)"}, {"count": 11, "tags": [], "bug_id": 34734, "text": "okay, this will go right into CVS HEAD and the 1.6 branch for incorporation into\nAnt 1.6.4\n\nThanks!", "id": 74549, "time": "2005-05-06T20:30:52Z", "creator": "mbenson@apache.org", "creation_time": "2005-05-06T20:30:52Z", "is_private": false, "attachment_id": null}, {"count": 12, "tags": [], "text": "*** Bug 34872 has been marked as a duplicate of this bug. ***", "attachment_id": null, "id": 74738, "creator": "mbenson@apache.org", "time": "2005-05-11T21:07:45Z", "bug_id": 34734, "creation_time": "2005-05-11T21:07:45Z", "is_private": false}]