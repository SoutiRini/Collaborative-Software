[{"count": 0, "tags": [], "creator": "jan@materne.de", "attachment_id": null, "id": 38337, "time": "2003-06-04T11:27:59Z", "bug_id": 20474, "creation_time": "2003-06-04T11:27:59Z", "is_private": false, "text": "I wrote a Selector which can:\n- compute a value of a file\n- compare this value with one stored in a cache\n- decide whether to select\n\nThe \"compute\" algorithm and the cache is configurable. Current implementations:\nHashvalueAlgorithm: reads the file\u00b4s content into a String and uses its \nhashValue(), \ntherefore only files are selected whichs CONTENT has changed\nPropertyfileCache: use java.util.Properties for storing the key-value-pairs.\n\nWhile writing the selector and its testcase I realized that the doco needs some \nimprovents in that area. So I have done that, too."}, {"count": 1, "tags": [], "creator": "jan@materne.de", "text": "Created attachment 6622\nZip containing diffs and complete files", "id": 38338, "time": "2003-06-04T11:29:16Z", "bug_id": 20474, "creation_time": "2003-06-04T11:29:16Z", "is_private": false, "attachment_id": 6622}, {"count": 2, "tags": [], "bug_id": 20474, "attachment_id": null, "text": "The zip contains:\n\ndocs\\manual\\CoreTypes\\*.html - the improved/updated doco (complete files)\ndocs\\manual\\CoreTypes\\*.diff -    \"  diff-file\ndocs\\manual\\CoreTypes\\*.png  - graphics used in the doco\n\n**\\cacheselector\\*.java - new files for the selector (complete files)\n\nCacheSelectorTest.java - JUnit testcase for the new selector\n\nAbstractFileSet, SelectorContainer - adding support for the new selector\n\nBaseExtendSelector - my fault :-(  no changes done\n\n\n\nI have forgotten the BaseSelectorContainer for the support for the new selector.\nNext attachement.\n", "id": 38339, "time": "2003-06-04T11:36:17Z", "creator": "jan@materne.de", "creation_time": "2003-06-04T11:36:17Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 20474, "attachment_id": 6623, "text": "Created attachment 6623\nthe forgotten diff", "id": 38340, "time": "2003-06-04T11:37:00Z", "creator": "jan@materne.de", "creation_time": "2003-06-04T11:37:00Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 20474, "attachment_id": 6642, "is_private": false, "id": 38414, "time": "2003-06-05T09:05:36Z", "creator": "jan@materne.de", "creation_time": "2003-06-05T09:05:36Z", "text": "Created attachment 6642\nAdd support for CacheSelector (without this, many classes can"}, {"count": 5, "tags": [], "creator": "jan@materne.de", "text": "Created attachment 6671\nComplete refactored implemenation and updated documentation", "id": 38499, "time": "2003-06-06T14:05:23Z", "bug_id": 20474, "creation_time": "2003-06-06T14:05:23Z", "is_private": false, "attachment_id": 6671}, {"count": 6, "tags": [], "bug_id": 20474, "attachment_id": null, "is_private": false, "id": 38500, "time": "2003-06-06T14:06:58Z", "creator": "jan@materne.de", "creation_time": "2003-06-06T14:06:58Z", "text": "The attachement 6671 contains the full new sources (complete and diff\u00b4s), so \nthe other are out of date."}, {"count": 7, "tags": [], "creator": "umagesh@apache.org", "attachment_id": null, "id": 38501, "time": "2003-06-06T14:41:56Z", "bug_id": 20474, "creation_time": "2003-06-06T14:41:56Z", "is_private": false, "text": "I like the idea behind the cache selector.  But I am not comfortable with the\nHashValueAlgorithm where you convert a byte array into a character string \nobject before computing the hashvalue for it.  Instead of converting from bytes\nto string, use MessageDigest along with the MD5 algorithm to calculate the MD5\nhashvalue for each file (See the code for the checksum task for an example).\nThis is purely stream based and not string based."}, {"count": 8, "tags": [], "bug_id": 20474, "is_private": false, "text": "I know why I implement the CacheSelector against the Algorithm _interface_ :-)\n\nI will try an implementation as MD5Algorithm.", "id": 38503, "time": "2003-06-06T15:02:00Z", "creator": "jan@materne.de", "creation_time": "2003-06-06T15:02:00Z", "attachment_id": null}, {"count": 9, "tags": [], "creator": "jan@materne.de", "text": "Created attachment 6675\nMD5Algorithm uses MessageDigest for computing the value", "id": 38511, "time": "2003-06-06T16:37:04Z", "bug_id": 20474, "creation_time": "2003-06-06T16:37:04Z", "is_private": false, "attachment_id": 6675}, {"count": 10, "tags": [], "bug_id": 20474, "text": "Created attachment 6676\nAdded test for MD5Algorithm", "id": 38512, "attachment_id": 6676, "creator": "jan@materne.de", "creation_time": "2003-06-06T16:37:06Z", "time": "2003-06-06T16:37:06Z", "is_private": false}, {"count": 11, "tags": [], "creator": "jan@materne.de", "attachment_id": 6677, "id": 38513, "time": "2003-06-06T16:37:08Z", "bug_id": 20474, "creation_time": "2003-06-06T16:37:08Z", "is_private": false, "text": "Created attachment 6677\nAdded MD5Algorithm (contains the other modifications)"}, {"count": 12, "tags": [], "creator": "jan@materne.de", "text": "After a while a refactorisation this would be the final version.\n\nFeatures:\n- CacheSelector uses a third interface java.util.Comparator for comparing\n  the new and the cached value\n- smaller Algorithm interface\n- configuration of Algorithm and Cache is done via IntrospectionHelper\n- MD5Algorithm is changed to DigestAlgorithm and supports SHA\n- default values for easier use\n\nNow I need comments. \nThen I can try my first change to the cvs tree :-)", "id": 39821, "time": "2003-07-02T06:53:36Z", "bug_id": 20474, "creation_time": "2003-07-02T06:53:36Z", "is_private": false, "attachment_id": null}, {"count": 13, "tags": [], "bug_id": 20474, "is_private": false, "text": "Created attachment 7049\nZIP containing refactored CacheSelector and docs", "id": 39822, "time": "2003-07-02T06:53:45Z", "creator": "jan@materne.de", "creation_time": "2003-07-02T06:53:45Z", "attachment_id": 7049}, {"count": 14, "tags": [], "creator": "jan@materne.de", "text": "In conjunction with forrest I created a test scenario.\nI attache a zip file containing the two files for running the scenario on \nwindows.\n\nNeeded:\n- Ant distribution containing the cacheselector\n- Ant-Contrib\n\nInstall + Run:\n- unzip forrests fresh-site.zip into %forrest_home%\\fresh-site\n- unzip the attached cacheselector+forrest.zip into %forrest_home%\\fresh-site\n- open a cmd.exe in %forrest_home%\\fresh-site\n- type #suite.bat\n\nScenario:\n- deletes all generated files (so you can run this multiple times)\n- generate the site\n- copy to dist-1: should contain all files\n- copy to dist-2: should contain no files, because nothing has changed\n- generate the site\n- copy to dist-3: should contain no files, because no CONTENT has changed\n- modify two sources (using notepad)\n- generate the site\n- copy to dist-4: should contain only the derived files (faq.html, faq.pdf, \ntest1.html)\n\n", "id": 39825, "time": "2003-07-02T07:39:25Z", "bug_id": 20474, "creation_time": "2003-07-02T07:39:25Z", "is_private": false, "attachment_id": null}, {"count": 15, "tags": [], "bug_id": 20474, "is_private": false, "id": 39826, "attachment_id": 7050, "creator": "jan@materne.de", "creation_time": "2003-07-02T07:39:29Z", "time": "2003-07-02T07:39:29Z", "text": "Created attachment 7050\nScenario CacheSelector in conjunction with Apache Forrest"}, {"count": 16, "tags": [], "creator": "jefft@apache.org", "text": "Seems a useful addition, and a nicely done patch.\n\nOne comment: when I see <cache/>, it's not immediately obvious what the selector\ndoes. I think the fact that a cache is used is more an implementation detail,\nthan anything of relevance to the user.  Perhaps <modified/> would be better?\n\n\n--Jeff", "id": 40012, "time": "2003-07-05T14:32:47Z", "bug_id": 20474, "creation_time": "2003-07-05T14:32:47Z", "is_private": false, "attachment_id": null}, {"count": 17, "text": "commited as <modified> selector\n\nJan", "bug_id": 20474, "is_private": false, "id": 44158, "time": "2003-09-13T17:17:03Z", "creator": "jan@materne.de", "creation_time": "2003-09-13T17:17:03Z", "tags": [], "attachment_id": null}]