[{"count": 0, "tags": [], "text": "Hi,\n\nYou could set the JM_LAUNCH but this information is not used to detected the java version, so JM_LAUNCH and 'java' could have differents versions\n\nrem   JM_LAUNCH - java.exe (default) or javaw.exe\n\nset JM_LAUNCH=d:\\java\\jdk1.7\n\nbut the java -version 2^>^&1 use the version in the PATH not the JM_LAUNCH\n\n...\nfor /f \"tokens=3\" %%g in ('java -version 2^>^&1 ^| findstr /i \"version\"') do (\n    rem @echo Debug Output: %%g\n    set JAVAVER=%%g\n)\n\n\nRegards.\nVincent D.", "attachment_id": null, "id": 188706, "creator": "vdaburon@gmail.com", "time": "2016-02-23T12:33:19Z", "bug_id": 59052, "creation_time": "2016-02-23T12:33:19Z", "is_private": false}, {"count": 1, "tags": [], "text": "It's clear from the comment that JM_LAUNCH is the executable name, and does not include the PATH.\n\nOther usage is not supported/", "attachment_id": null, "bug_id": 59052, "id": 188786, "time": "2016-02-24T21:54:31Z", "creator": "sebb@apache.org", "creation_time": "2016-02-24T21:54:31Z", "is_private": false}, {"count": 2, "tags": [], "text": "I second this. \n\nIt is usual that the JDK or JRE present in the PATH of the system is not the one used to run JMeter. And I know you can copy the jmeter.bat and modify it yourself but this can be easily fixed moving one line in the jmeter.bat file:\n\nLine 64: if .%JM_LAUNCH% == . set JM_LAUNCH=java.exe <-- Move this to line 33 \n\nAnd changing this:\nLine 34: for /f \"tokens=3\" %%g in ('java -version 2^>^&1 ^| findstr /i \"version\"') do (\n\nTo:\n\nfor /f \"tokens=3\" %%g in ('%JM_LAUNCH% -version 2^>^&1 ^| findstr /i \"version\"') do (\n\nSo the new would look like:\n\nLine 33: if .%JM_LAUNCH% == . set JM_LAUNCH=java.exe\nLine 34: for /f \"tokens=3\" %%g in ('%JM_LAUNCH% -version 2^>^&1 ^| findstr /i \"version\"') do (\n\n\nThen you can set JM_LAUNCH to use a full path (i.e JM_LAUNCH=C:\\myjdk\\bin\\java.exe) and it works perfectly (winxp, win7, winserver2012 at least).\n\nIs not a big deal but simplifies the execution when having multiple JDKs", "attachment_id": null, "bug_id": 59052, "id": 191339, "time": "2016-05-31T20:32:05Z", "creator": "lando.orellana@gmail.com", "creation_time": "2016-05-31T20:32:05Z", "is_private": false}]