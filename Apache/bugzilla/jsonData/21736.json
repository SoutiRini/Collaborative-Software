[{"count": 0, "tags": [], "bug_id": 21736, "attachment_id": null, "text": "it's useful to do ``Header append \"Cache-Control\" \"post-check=60, pre-\ncheck=120\"'' for images, and even expires headers, it's terrible important\n\nfor the first time browser request a image, it's not cached, \napache run output filters correctly, which enable mod_headers to add headers\nand server response 202 \"OK\".\n\nbut after \"post-check\", browser send IF_MODIFIED_SINCE header, and \ndefault_handler response \"Not modified\" which won't run output filters, and \nmod_headers unable to add headers, and now, browser forget the value of \"post-\ncheck\"\n\n\nin server/core.c invoke ap_meets_condition, which in http_protocol.c\nwhen ap_meets_condition return HTTP_NOT_MODIFIED, output filters seems not be \nran\n\nthus, the output filter of mod_headers won't work, and no response headers is \nprocess by mod_headers", "id": 40992, "time": "2003-07-20T04:39:02Z", "creator": "Xuefer@21cn.com", "creation_time": "2003-07-20T04:39:02Z", "is_private": false}, {"count": 1, "tags": [], "text": "Hi, I'm running version 2.0.47 of Apache, and I use mod_headers to change the \nServer: header to \"none of your business\" or \"dummyserver\" as to hide the \nApache Identity. But on not-modified, the Server: Apache header jumps out to \nthe \"public\" (i.e. hackers), revealing Apache's identity and rendering my \nHeader Set Server useless.\n\nThis ALSO happens with 500 errors and 404-on-404's.\n\nI tried to redirect the 304 with an ErrorDocument to a zero-length dummyfile, \nbut then i'd have to worry about hiding that dummyfile from outsider access.\nIf i use mod_rewrite to fake a 404, then on not modified files i get a 404 \ninstead.\n\nThe result: Someone trying to hack my site will EASILY know not only what \nserver, but also what scripting language i'm using on my scripts (If you're \nusing Apache, you are very probably using PHP).\n\nSo, PLEASE, fix this bug, since it involves a security issue (stealth).\n\nPossible quick-fixes: Add a new directive to the httpd.conf (AND .htaccess!) as \nto report the \"new\" server name.", "is_private": false, "bug_id": 21736, "id": 44907, "time": "2003-09-30T20:16:28Z", "creator": "rick_g22@yahoo.com", "creation_time": "2003-09-30T20:16:28Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "nd@perlig.de", "text": "Ricardo, you cannot modify the server header with mod_headers. No way. In fact,\nit is not that useful as you might think. You can, however, use the ServerTokens\ndirective to *reduce* the amount of information that is given with the server\nheader. Alternatively you may hack the code, of course. You issue is a 'wontfix'.\n\nFor the future: please open a new report for different issues and do not put\ndifferent things together. Thanks.", "id": 44927, "time": "2003-10-01T06:41:33Z", "bug_id": 21736, "creation_time": "2003-10-01T06:41:33Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "id": 77232, "time": "2005-07-12T22:20:39Z", "bug_id": 21736, "creation_time": "2005-07-12T22:20:39Z", "is_private": false, "text": "\n  Close this bug, as Andre correctly intended to do."}]