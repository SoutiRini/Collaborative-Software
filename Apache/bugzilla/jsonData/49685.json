[{"count": 0, "tags": [], "bug_id": 49685, "attachment_id": null, "id": 138803, "time": "2010-08-02T01:42:27Z", "creator": "feng_yu_jia@hotmail.com", "creation_time": "2010-08-02T01:42:27Z", "is_private": false, "text": "Class ManagedBean has eneffectiv code as follow:\n \npublic void addNotification(NotificationInfo notification) {\n\n        synchronized (notifications) {\n            NotificationInfo results[] =\n                new NotificationInfo[notifications.length + 1];\n            System.arraycopy(notifications, 0, results, 0,\n                             notifications.length);\n            results[notifications.length] = notification;\n            notifications = results;\n            this.info = null;\n        }\n\n    }\n\nIn this case, the object of notifications has been changed in the synchronized block. this may cause two threads synchronizing on different objects. If thread A and B access this method concurrently, and thread A execute the code  \" notifications = results; \" earlier and then finished while thread B is still not finished. At the same time, Thread C access this method, then C will hold the different lock instance as Thread B. This is dangerous."}, {"count": 1, "tags": [], "bug_id": 49685, "attachment_id": null, "id": 195105, "time": "2016-11-21T11:27:05Z", "creator": "markt@apache.org", "creation_time": "2016-11-21T11:27:05Z", "is_private": false, "text": "Tomcat-lite is no longer being developed"}]