[{"count": 0, "tags": [], "bug_id": 50700, "attachment_id": null, "text": "Context parameters are being overridden with parameters from the web application deployment descriptor even through \"override\" attribute is set to \"false\"\n\nFor example:\nlines from context file\n<Context path=\"/path\" docBase=\"/path/to/docbase\" cookies=\"true\">\n    <Parameter name=\"parameter_name\" value=\"test1\" override=\"false\"/>\n....\n</Context>\n\nlines from web.xml\n    <context-param>\n        <description>default value for parameter_name</description>\n        <param-name>parameter_name</param-name>\n        <param-value>test2</param-value>\n    </context-param>\n\nNow servletContext.getInitParameter(\"parameter_name\") returns \"test2\"", "id": 143863, "time": "2011-02-01T13:04:17Z", "creator": "dx_xb@mail.ru", "creation_time": "2011-02-01T13:04:17Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 50700, "attachment_id": null, "is_private": false, "id": 143993, "time": "2011-02-04T13:52:27Z", "creator": "odoepner@gmail.com", "creation_time": "2011-02-04T13:52:27Z", "text": "I can reproduce the problem (Tomcat 6.0.30 on JDK6u23, Windows XP, 32bit, *.zip distribution)."}, {"count": 2, "tags": [], "creator": "chris@derham.me.uk", "attachment_id": null, "is_private": false, "id": 144021, "time": "2011-02-07T11:22:09Z", "bug_id": 50700, "creation_time": "2011-02-07T11:22:09Z", "text": "can reproduce using apache-tomcat-7.0.8-windows-x86.zip, jdk1.6.0_23, windows 7"}, {"count": 3, "tags": [], "bug_id": 50700, "attachment_id": null, "is_private": false, "id": 144035, "time": "2011-02-08T04:12:56Z", "creator": "chris@derham.me.uk", "creation_time": "2011-02-08T04:12:56Z", "text": "Sergey's explanation is good, but just in case any more detail is required in how to reproduce it, here's the steps I take. Expand a tomcat distribution. Edit the <tomcat_home>\\webapps\\root\\WEB-INF\\web.xml file to become\n\n<web-app xmlns=\"http://java.sun.com/xml/ns/javaee\"\n   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n   version=\"2.5\">\n  <display-name>Welcome to Tomcat</display-name>\n  <description>\n     Welcome to Tomcat\n  </description>\n  <context-param>\n    <param-name>initialDbPath</param-name>\n\t<param-value>a</param-value>\n  </context-param>\n</web-app>\n\nthen edit <tomcat_home>\\conf\\context.xml to become\n\n<Context>\n\t<Parameter name=\"initialDbPath\" value=\"xyz\" override=\"false\"/>\n</Context>\n\nthen add a new file <tomcat_home>\\webapps\\ROOT\\test.jsp which contains\n\n<%@ page contentType=\"text/html; charset=UTF-8\" %>\n<html>\n<body>\n<br>initialDbPath is : ${initParam.initialDbPath}\n</body>\n</html>   \n\nThe context.xml setting should override the web.xml setting, but this is not happening"}, {"count": 4, "tags": [], "bug_id": 50700, "attachment_id": null, "id": 144265, "creation_time": "2011-02-14T14:06:02Z", "time": "2011-02-14T14:06:02Z", "creator": "markt@apache.org", "text": "This has been fixed in 7.0.x and will be included in 7.0.9 onwards.", "is_private": false}, {"count": 5, "tags": [], "bug_id": 50700, "attachment_id": null, "id": 144266, "time": "2011-02-14T14:09:10Z", "creator": "markt@apache.org", "creation_time": "2011-02-14T14:09:10Z", "is_private": false, "text": "The Tomcat 7 patch has been proposed for backport to 6.0.x."}, {"count": 6, "tags": [], "bug_id": 50700, "attachment_id": null, "is_private": false, "id": 144288, "time": "2011-02-15T02:48:13Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2011-02-15T02:48:13Z", "text": "Some comments on the fix for this issue (r1070609), for better understanding:\n\n1) This bug was caused by the fix for bug 49987 (r1022117), Tomcat 6.0.30-32 are affected.\n2) The cause of this, which went unnoticed when the patch for Bug 49987 was reviewed, is that ApplicationContext#setInitParameter(name, value) is effective only once.\n\nSubsequent calls to #setInitParameter(name, value) with the same name are ignored. That is why init-param overriding with override=\"false\" stopped working."}, {"count": 7, "tags": [], "bug_id": 50700, "attachment_id": null, "is_private": false, "id": 144911, "time": "2011-03-10T08:52:53Z", "creator": "markt@apache.org", "creation_time": "2011-03-10T08:52:53Z", "text": "Fixed in 6.0.x and will be included in 6.0.33 onwards."}, {"count": 8, "tags": [], "bug_id": 50700, "attachment_id": null, "is_private": false, "id": 147893, "time": "2011-07-13T12:35:10Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2011-07-13T12:35:10Z", "text": "*** Bug 47516 has been marked as a duplicate of this bug. ***"}]