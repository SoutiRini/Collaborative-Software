[{"count": 0, "tags": [], "creator": "anny.mak@springsource.com", "attachment_id": null, "id": 126553, "time": "2009-04-27T10:59:26Z", "bug_id": 47108, "creation_time": "2009-04-27T10:59:26Z", "is_private": false, "text": "When there are multiple header that has the same name, set-cookie in particular, Header cannot modify/edit a particular set-cookie in the set based on a particular pattern in the cookie.  We can only replace a matching pattern in the header with a new pattern.  It does not have the capability to add/append extra value to the header with the matching pattern in the header.\n\nFor example, the following is in the headers:\n\nSet-Cookie: secure; httponly\nSet-Cookie: PHHCHALLENGE=; expires=Tue, 12 Aug 2008 13:09:54 GMT; path=/; domain=.company.com \nSet-Cookie: PHHSESSION=xyz; path=/; domain=.company.com \n\nI cannot append \"httponly\" to the Set-Cookie header that has PHHSESSSION be xyz.\n\nWe are requesting an enhancement on conditional \"Header edit\"."}, {"count": 1, "tags": [], "text": "Both the specific bug [set/append not working correctly for cookie headers] and \nHeaders edit are entirely addressed by 2.3-trunk.\n\nI'd be partial to just backporting the current mod_headers module to 2.2 and\ncalling it a day; will propose in STATUS.", "attachment_id": null, "id": 126554, "creation_time": "2009-04-27T11:32:13Z", "time": "2009-04-27T11:32:13Z", "creator": "wrowe@apache.org", "bug_id": 47108, "is_private": false}, {"count": 2, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "id": 126565, "time": "2009-04-27T14:09:21Z", "bug_id": 47108, "creation_time": "2009-04-27T14:09:21Z", "is_private": false, "text": "Actually; this was already done;\n\nhttps://svn.apache.org/viewvc?view=rev&revision=684100\n\nand was part of httpd 2.2.10\n\nThere is only one open patch which is an aspect of content-type handling;\n\n@@ -680,6 +680,9 @@\n             }\n             break;\n         case hdr_set:\n+            if (!strcasecmp(hdr->header, \"Content-Type\")) {\n+                 ap_set_content_type(r, process_tags(hdr, r));\n+            }\n             apr_table_setn(headers, hdr->header, process_tags(hdr, r));\n             break;\n         case hdr_unset:"}]