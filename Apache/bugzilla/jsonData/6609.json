[{"count": 0, "tags": [], "text": "Hi,\n\ncompiling Tomcat 4.0.2 Final I detected the following problem:\n\nEven if you place javamail to the correct directory (which is also\nsaid by catalina/build.xml) and set full.dist=on\nwebapps/examples/WEB-INF/classes/SendMailServlet.java won't be compiled thus\nbreaking the mail jsp example.\n\nTaking a look at webapps/examples/build.xml I noticed that\nwebapps/examples/WEB-INF/classes/SendMailServlet.java will be compiled only if\ncompile.javamail is set (line 81). Running ant flags in webapps/examples says\nthat compile.javamail will be set. In my opinion the problem seems that the\ntarget flags is not used by any other targets as dependency. So I added flags as\ndependency to the target build-prepare, recompiled Tomcat and\nwebapps/examples/WEB-INF/classes/SendMailServlet.java got compiled.\n\nAdding the dependency is done by the following Patch:\n\n--- jakarta-tomcat-4.0.2-src.orig/webapps/examples/build.xml    Sun Feb 10 20:11\n+++ jakarta-tomcat-4.0.2-src/webapps/examples/build.xml Thu Feb 21 11:26:53 2002\n@@ -53,7 +53,7 @@\n   </target>\n \n   <!-- =================== BUILD: Create Directories ====================== -->\n-  <target name=\"build-prepare\">\n+  <target name=\"build-prepare\" depends=\"flags\">\n     <mkdir dir=\"${webapps.build}\"/>\n     <mkdir dir=\"${webapps.build}/${webapp.name}\"/>\n   </target>\n\n\nIs this ok? Any comments?\nBest regards\nR\u00fcdiger Pl\u00fcm", "is_private": false, "id": 11019, "creation_time": "2002-02-21T12:27:31Z", "time": "2002-02-21T12:27:31Z", "creator": "ruediger.pluem@vodafone-telecommerce.de", "bug_id": 6609, "attachment_id": null}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 11077, "time": "2002-02-21T23:29:28Z", "bug_id": 6609, "creation_time": "2002-02-21T23:29:28Z", "is_private": false, "text": "Fixed. Thanks."}]