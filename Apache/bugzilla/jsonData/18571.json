[{"count": 0, "tags": [], "bug_id": 18571, "text": "oot@zeus[/usr/src/jakarta-tomcat-connectors/jk/native/common]% make  \n<snip>  \njk_ajp_common.c: In function `ajp_get_endpoint':  \njk_ajp_common.c:1575: stray '\\' in program  \nmake: *** [jk_ajp_common.lo] Error 1  \n  \nroot@zeus[/usr/src/jakarta-tomcat-connectors/jk/native/common]% gcc --version  \n2.95.3  \n  \nSimilar errors in jk_md5.c, due to multi-line #defines.  \n  \ngcc 2.95.{2,3} apparently can't handle multi-line #defines. The error above is  \nnot in a #define, but is an extranous (unnecessary) slash:  \njk_log(l, JK_LOG_DEBUG,  \n \"In jk_endpoint_t::ajp_get_endpoint,\" \\  \n \" cleaning cache slot = %d elapsed %d\\n\",  \n i, elapsed);  \n  \n  \nRemoving the extra \\'s and reformatting the #defines to a single line makes it \nwork.", "id": 34256, "attachment_id": null, "creator": "stephan@wanderinghorse.net", "creation_time": "2003-04-01T15:56:35Z", "time": "2003-04-01T15:56:35Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 18571, "attachment_id": null, "is_private": false, "id": 34524, "time": "2003-04-04T12:56:34Z", "creator": "hgomez@apache.org", "creation_time": "2003-04-04T12:56:34Z", "text": "It works for me with gcc 2.96.\n\nMaking the define fit on a single line will brake Apache edit recommandation...\n\n"}, {"count": 2, "tags": [], "bug_id": 18571, "attachment_id": null, "id": 34525, "time": "2003-04-04T13:02:56Z", "creator": "stephan@wanderinghorse.net", "creation_time": "2003-04-04T13:02:56Z", "is_private": false, "text": "gcc 2.96 was only shipped on RedHat machines, if i recall correctly. It is not in general use, in \nany case. Most Linux distros skipped from 2.95.3 to 3.x. \nIn any case, which is worse: breaking apache's recomendation or breaking the compile process? "}, {"text": "Well I build JK on Redhat 6.2, 7.2 and 8.0 using gcc 2.91.66, 2.96 and 3.x.\n\nI fixed the problem in jk_ajp_common.c but in jk_md5.c the multi defs are valid.\nThis code came from Apache HTTP server (1.3.x) and I didn't see error reports\nwith it.\n\nBTW, if you're using Apache Web server you don't need this code, just define\nUSE_APACHE_MD5...\n\nRegards\n", "tags": [], "creator": "hgomez@apache.org", "is_private": false, "count": 3, "id": 34532, "time": "2003-04-04T13:46:10Z", "bug_id": 18571, "creation_time": "2003-04-04T13:46:10Z", "attachment_id": null}]