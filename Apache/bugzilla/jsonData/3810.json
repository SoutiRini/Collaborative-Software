[{"count": 0, "tags": [], "bug_id": 3810, "text": "According to servlet 2.3 final specification (6.2.2) container must not wrap \nrequests/responses submitted from filter or through RequestDispatcher due to \nreasons explained in the same section.\nHowever, current final version of Tomcat 4.0 does wrap supplied request with \norg.apache.catalina.core.ApplicationHttpRequest instance and response with \norg.apache.catalina.connector.HttpResponseFacade.", "id": 5994, "time": "2001-09-25T04:47:27Z", "creator": "sami.pajunen@almare.com", "creation_time": "2001-09-25T04:47:27Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 3810, "is_private": false, "text": "The language of section 6.2 does *not* prohibit a container from using wrappers\nto implement the functionality of a request dispatcher.  Instead, it requires\nthat, if an *application* wraps the request and/or response in a filter or\nservlet, and then invokes a servlet via request dispatcher, that the request and\nresponse objects seen by the invoked servlet MUST be the same wrapper instances\nthat were created by the application.\n\nTomcat does indeed use wrappers to implement part of its request dispatching\nfunctionality, but it conforms to be above requirement.  The container's\nwrappers are inserted into the request and/or response chain *below* any\napplication provided wrappers, and above the original request and/or response\nimplementation object.\n\nI also just committed unit test cases that demonstrate this functionality works\nper the spec requirements.  Please reopen the bug report if you can provide a\nreproducible failure case where this is not being done correctly.\n", "id": 6035, "time": "2001-09-25T16:35:46Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-09-25T16:35:46Z", "attachment_id": null}]