[{"count": 0, "text": "Footnotes are declared into blocks which can have different properties (font-\nfamily, left margin...). These properties are transmitted to the footnote \nbodies and I don't think it's the expected behaviour.\n\nInto the zip (http://emmanuel.dieul.free.fr/bugs/fop-bug-on-footnote.zip), \nyou'll find the FO file and the corresponding PDF file. The incriminated \nfootnotes are around the end of the FO file and at the (last page - 1) of the \nPDF file. Three footnotes are placed in different blocks with different \nproperties and then, footnote bodies (placed into the same page) don't have \nthe same left margin and the same font-family (which looks ugly).", "bug_id": 43609, "is_private": false, "id": 109293, "time": "2007-10-11T23:43:11Z", "creator": "emmanuel.dieul@free.fr", "creation_time": "2007-10-11T23:43:11Z", "tags": [], "attachment_id": null}, {"count": 1, "text": "Created attachment 20970\nThe FO and PDF files which shows the footnote body styles\n\nNo specific comment.", "bug_id": 43609, "is_private": false, "id": 109294, "time": "2007-10-11T23:45:39Z", "creator": "emmanuel.dieul@free.fr", "creation_time": "2007-10-11T23:45:39Z", "tags": [], "attachment_id": 20970}, {"count": 2, "tags": [], "creator": "adelmelle@apache.org", "attachment_id": null, "id": 109305, "time": "2007-10-12T09:09:15Z", "bug_id": 43609, "creation_time": "2007-10-12T09:09:15Z", "is_private": false, "text": "(In reply to comment #0)\n> Footnotes are declared into blocks which can have different properties (font-\n> family, left margin...). These properties are transmitted to the footnote \n> bodies and I don't think it's the expected behaviour.\n\nCan you clarify? On what do you base that assessment? For markers, I know this is the case: a retrieved \nmarker should have properties as if it were specified in place of the retrieve-marker.\n\nFor footnotes, OTOH, I guess simple inheritance applies: a fo:footnote and its descendants inherit the \nproperties op the parent (for inherited props like font-family, font-size, space-before/-after, ...).\n\n> Into the zip (http://emmanuel.dieul.free.fr/bugs/fop-bug-on-footnote.zip), \n> you'll find the FO file and the corresponding PDF file. The incriminated \n> footnotes are around the end of the FO file and at the (last page - 1) of the \n> PDF file. Three footnotes are placed in different blocks with different \n> properties and then, footnote bodies (placed into the same page) don't have \n> the same left margin and the same font-family (which looks ugly).\n\nThe solution is simple, on the other hand: *always* reset inheritable properties on the fo:footnote. That \nis the only way to guarantee that you get no such ugliness.\n\nAs far as I can tell from the XSL-FO Rec, this is definitely not a bug.\n\nHTH!\n\nAndreas\n\n"}, {"count": 3, "tags": [], "bug_id": 43609, "is_private": false, "text": "> The solution is simple, on the other hand: *always* reset inheritable\n> properties on the fo:footnote. That is the only way to guarantee that \n> you get no such ugliness.\n> As far as I can tell from the XSL-FO Rec, this is definitely not a bug.\n\nYes, I already thought about that. For the font-family and whitespaces, it's \neasy (but it's not a pretty solution). But how would you do for left margin? I \nalready tried many things before posting this bug report and nothing works. \nCould you precise how you reset the left margin?\nHowever, I think that the PDF renderer should do the reset to defaults itself, \nas footnote bodies and text in the page are *really* in different zones and \n*really* have different meanings.", "id": 109452, "time": "2007-10-18T05:33:54Z", "creator": "emmanuel.dieul@free.fr", "creation_time": "2007-10-18T05:33:54Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "jeremias@apache.org", "text": "(In reply to comment #3)\n> Could you precise how you reset the left margin?\n\nYou don't reset the margins, you reset start-indent and end-indent. Margins are\nmapped into those two properties. Not that margins are only included in XSL-FO\nfor CSS compatibility. start-indent and end-indent are the real FO properties\nfor general text indents. And these two are inherited and that's why you see\nthis effect. So just do: start-indent=\"0cm\" end-indent=\"0pt\"\n\n> However, I think that the PDF renderer should do the reset to defaults itself, \n> as footnote bodies and text in the page are *really* in different zones and \n> *really* have different meanings.\n\nBig dilemma: Should we do what the spec says or what someone thinks should\nhappen? Reminds me of our \"break-indent-inheritance\" setting. :-( You can always\ntake it to the XSL working group. The spec/standard is certainly not perfect but\nit's what we're implementing.", "id": 109455, "attachment_id": null, "bug_id": 43609, "creation_time": "2007-10-18T06:07:13Z", "time": "2007-10-18T06:07:13Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 43609, "attachment_id": null, "id": 109456, "time": "2007-10-18T06:22:03Z", "creator": "emmanuel.dieul@free.fr", "creation_time": "2007-10-18T06:22:03Z", "is_private": false, "text": "(In reply to comment #4)\n\nOK, it works fine. Sorry for this bug report."}]