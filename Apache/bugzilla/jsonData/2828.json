[{"count": 0, "attachment_id": null, "creator": "tkormann@apache.org", "is_private": false, "id": 4043, "time": "2001-07-26T04:41:51Z", "bug_id": 2828, "creation_time": "2001-07-26T04:41:51Z", "tags": [], "text": "Hi !\n\nI paint a chart. For each bar I paint, I use fill3DRect. But it happens\nsometimes, that I need to paint a rectangle with a null height. I just have\nseen that fill3DRect draws this rectangle (even with a null height), and to\nhave a 3D effect, it tries to paint a second rectangle with negative height!\nWell, no problem occurs for draw it. When a convert this\nnegative-height-rectangle into svg, still no problem, but if I want to\ntrancode it into a JPEG image, you can see the following exception.\nSo, where is the source of the problem? Can we think that fill3DRect need to\ntest the height of the rectangle before to draw it, or bridge of batik need\nto transcode negative height ?\n\n\norg.apache.batik.bridge.BridgeException:\nfile:/C:/WINNT/Profiles/ausebast.000/cache/documentInterface42725.svg:0\nThe attribute 'height' of the element <rect> can not be negative         \nat\norg.apache.batik.bridge.UnitProcessor.svgLengthToUserSpace(UnitProcessor.jav\na:344)   \nat\norg.apache.batik.bridge.UnitProcessor.svgVerticalLengthToUserSpace(UnitProce\nssor.java:273)   \nat\norg.apache.batik.bridge.SVGRectElementBridge.buildShape(SVGRectElementBridge\n.java:85)        \nat\norg.apache.batik.bridge.SVGShapeElementBridge.createGraphicsNode(SVGShapeEle\nmentBridge.java:44)      \nat org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(GVTBuilder.java:170)\n\nat org.apache.batik.bridge.GVTBuilder.buildComposite(GVTBuilder.java:136)\n\nat org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(GVTBuilder.java:176)\n\nat org.apache.batik.bridge.GVTBuilder.buildComposite(GVTBuilder.java:136)\n\nat org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(GVTBuilder.java:176)\n\nat org.apache.batik.bridge.GVTBuilder.buildComposite(GVTBuilder.java:136)\n\nat org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(GVTBuilder.java:176)\n\nat org.apache.batik.bridge.GVTBuilder.buildComposite(GVTBuilder.java:136)\n\nat org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(GVTBuilder.java:176)\n\nat org.apache.batik.bridge.GVTBuilder.buildComposite(GVTBuilder.java:136)\n\nat org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(GVTBuilder.java:176)\n\nat org.apache.batik.bridge.GVTBuilder.buildComposite(GVTBuilder.java:136)\n\nat org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(GVTBuilder.java:176)\n\nat org.apache.batik.bridge.GVTBuilder.buildComposite(GVTBuilder.java:136)\n\nat org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(GVTBuilder.java:176)\n\nat org.apache.batik.bridge.GVTBuilder.buildComposite(GVTBuilder.java:136)\n\nat org.apache.batik.bridge.GVTBuilder.build(GVTBuilder.java:69)          \nat\norg.apache.batik.transcoder.image.ImageTranscoder.transcode(ImageTranscoder.\njava:155)        \nat\norg.apache.batik.transcoder.XMLAbstractTranscoder.transcode(XMLAbstractTrans\ncoder.java:126)          \nat\ncom.ft.pcl.service.dc.engine.storyboard.PCLStoryboardEngine.svg2jpeg(PCLStor\nyboardEngine.java:255)   \nat\ncom.ft.pcl.service.dc.engine.storyboard.PCLStoryboardEngine.swing2jpeg(PCLSt\noryboardEngine.java:170)         \nat\ncom.ft.pcl.service.dc.engine.storyboard.PCLStoryboardEngine.dml2fo(PCLStoryb\noardEngine.java:411)     \nat\ncom.ft.pcl.service.dc.engine.storyboard.PCLStoryboardEngine.dml2pdf(PCLStory\nboardEngine.java:165)    \nat\ncom.ft.pcl.presentation.net.dialogue.storyboard.PCLNetStoryBoard.actionPerfo\nrmed(PCLNetStoryBoard.java:158)          \nat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1450)\n\nat\njavax.swing.AbstractButton$ForwardActionEvents.actionPerformed(AbstractButto\nn.java:1504)     \nat\njavax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:3\n78)      \nat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:250)\n\nat\njavax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener\n.java:216)       \nat java.awt.Component.processMouseEvent(Component.java:3715)     \nat java.awt.Component.processEvent(Component.java:3544)          \nat java.awt.Container.processEvent(Container.java:1164)          \nat java.awt.Component.dispatchEventImpl(Component.java:2593)     \nat java.awt.Container.dispatchEventImpl(Container.java:1213)     \nat java.awt.Component.dispatchEvent(Component.java:2497)         \nat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:2451)\n\nat java.awt.LightweightDispatcher.processMouseEvent(Container.java:2216)\n\nat java.awt.LightweightDispatcher.dispatchEvent(Container.java:2125)     \nat java.awt.Container.dispatchEventImpl(Container.java:1200)     \nat java.awt.Window.dispatchEventImpl(Window.java:914)    \nat java.awt.Component.dispatchEvent(Component.java:2497)         \nat java.awt.EventQueue.dispatchEvent(EventQueue.java:339)        \nat\njava.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.ja\nva:131)          \nat\njava.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java\n:98)     \nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:85)"}]