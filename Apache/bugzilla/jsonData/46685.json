[{"count": 0, "tags": [], "creator": "clement.hermann@free.fr", "text": "Hi,\n\nWhen protecting files (in a <files> or <filesmatch> block), the file which will be requested via the DirectoryIndex Directive will trigger a 401 response, but without WWW-Authenticate header.\n\neg :\n\nDirectoryIndex index.php\n<files index.php>\n [Authtype basic stuff]\n require valid-user\n</files>\n\nWhen requesting http://server/index.php, the response is 401 and WWW-Authenticate header is sent.\nWhen requesting http://server/, the response is 401 but no WWW-Authenticate header is sent, so no way to access the file.\n\nOne can work around this with a rewrite rule or a redirectmatch.\n\nRegards,\n\nCl\u00e9ment Hermann (nodens)", "id": 124745, "time": "2009-02-09T11:18:41Z", "bug_id": 46685, "creation_time": "2009-02-09T11:18:41Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 46685, "attachment_id": null, "text": "I can't reproduce this alleged bug (it sends me the WWW-Authenticate as expected).  Are you sure it isn't a PHP problem, or something elsewhere in your config (e.g. messing with mod_rewrite)?\n\nIf you're sure it's a bug, please reopen and supply a minimal config to provoke it, excluding extras like PHP that could confuse the issue.", "id": 127427, "time": "2009-05-26T16:19:50Z", "creator": "nick@webthing.com", "creation_time": "2009-05-26T16:19:50Z", "is_private": false}, {"count": 2, "tags": [], "creator": "mark@lanfear.net", "text": "I can reproduce it like so:\n\nDirectoryIndex index.html\n\n<Files \"index.html\">\n    Order allow,deny\n    Allow from all\n    AuthType Basic\n    AuthName \"Some Auth\"\n    AuthUserFile \"/var/www/htpasswd\"\n    Require valid-user\n</Files>\n\nLive HTTP headers:\n\nhttp://localhost/\n\nGET / HTTP/1.1\nHost: localhost\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: en-us,en;q=0.5\nAccept-Encoding: gzip, deflate\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7\nKeep-Alive: 115\nConnection: keep-alive\n\nHTTP/1.1 401 Authorization Required\nDate: Mon, 27 Jun 2011 18:39:39 GMT\nServer: Apache/2.2.17 (Fedora)\nContent-Length: 476\nConnection: close\nContent-Type: text/html; charset=iso-8859-1\n----------------------------------------------------------\n\nHere are the modules enabled:\n\nLoaded Modules:\n core_module (static)\n mpm_prefork_module (static)\n http_module (static)\n so_module (static)\n auth_basic_module (shared)\n auth_digest_module (shared)\n authn_file_module (shared)\n authn_alias_module (shared)\n authn_anon_module (shared)\n authn_dbm_module (shared)\n authn_default_module (shared)\n authz_host_module (shared)\n authz_user_module (shared)\n authz_owner_module (shared)\n authz_groupfile_module (shared)\n authz_dbm_module (shared)\n authz_default_module (shared)\n ldap_module (shared)\n authnz_ldap_module (shared)\n include_module (shared)\n log_config_module (shared)\n logio_module (shared)\n env_module (shared)\n ext_filter_module (shared)\n mime_magic_module (shared)\n expires_module (shared)\n deflate_module (shared)\n headers_module (shared)\n usertrack_module (shared)\n setenvif_module (shared)\n mime_module (shared)\n dav_module (shared)\n status_module (shared)\n autoindex_module (shared)\n info_module (shared)\n dav_fs_module (shared)\n vhost_alias_module (shared)\n negotiation_module (shared)\n dir_module (shared)\n actions_module (shared)\n speling_module (shared)\n userdir_module (shared)\n alias_module (shared)\n substitute_module (shared)\n rewrite_module (shared)\n proxy_module (shared)\n proxy_balancer_module (shared)\n proxy_ftp_module (shared)\n proxy_http_module (shared)\n proxy_ajp_module (shared)\n proxy_connect_module (shared)\n cache_module (shared)\n suexec_module (shared)\n disk_cache_module (shared)\n cgi_module (shared)\n version_module (shared)", "id": 147535, "time": "2011-06-27T18:43:21Z", "bug_id": 46685, "creation_time": "2011-06-27T18:43:21Z", "is_private": false, "attachment_id": null}]