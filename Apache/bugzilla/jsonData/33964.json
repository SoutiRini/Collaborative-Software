[{"attachment_id": null, "tags": [], "creator": "ibjorda@hotmail.com", "text": "In JMeter, the HTTP samplers are limited to either:\n- URL parameters (GET)\n- name-value variables (POST)\n\nThis limits the content body that is sent - for e.g.: an arbitrary MIME\ndocument can't be sent.\n\nIt would be good if all the HTTP Request samplers had an option to load an \narbitrary file from disk as their content body.", "count": 0, "id": 72201, "time": "2005-03-11T15:48:54Z", "bug_id": 33964, "creation_time": "2005-03-11T15:48:54Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 33964, "text": "I've just looked at the code in 2.0.2, and as far as I can see, one can send any\nfile with any MIME type.\n\nSo I'm not sure what the problem is - also I don't know how to check if POST is\nworking OK.\n\nCan you supply a test-case?", "id": 72246, "time": "2005-03-11T22:53:18Z", "creator": "sebb@apache.org", "creation_time": "2005-03-11T22:53:18Z", "is_private": false, "attachment_id": null}, {"count": 2, "text": "(In reply to comment #1)\n> I've just looked at the code in 2.0.2, and as far as I can see, one can send \nany\n> file with any MIME type.\n> So I'm not sure what the problem is - also I don't know how to check if POST \nis\n> working OK.\n> Can you supply a test-case?\n\n\nYes, one can send any file with any mime type. Follows an excerpt of what is \nsent by browsers or JMeter HTTP sampler:\n\nHTTP Headers \n\nContent-type: multipart/form-data; boundary=---------------------------\n7d159c1302d0y0\n\nHTTP Body\n\n---------------------------7d159c1302d0y0\n\nContent-Disposition: form-data\nname= \"form file fieldname\" \nfilename= \"file name\"\nContent-type: \"file mime type\"\n\nFile Contents...........\n\n---------------------------7d159c1302d0y0\n\nHowever we would like to be able to send any type of information in the body, \ni.e.\n\nHTTP Headers\n\nContent-type: Any (it doesn't matter because the HTTP sampler should send the \nbody  as is..).\n\nHTTP Body\n\nAny data ( binary, ASCII,  EBCDIC ..). Not necessarily loaded from a file. \nMaybe what confuses you is that we suggested to load it from a file\nbecause that is much easier that transcript it with some Hexa editor into the \nJMeter GUI and also it could be a long file.\n\nOur testcase:\n\nPOST http://xxx.xxxxxxxxxx.xx/xxxx/xxxxx/xxxxx/ HTTP/1.1\nHost: xxx.xxxxxxxxxx.xx\nAuthorization: XXXXXX XXXXXXXXXXXXXXXXX\nConnection: close\nContent-Type: application/octet-string\nContent-Length: 30\n\nBody\n\n30 characters EBCDIC\n\nWe did the trick to intercept the request with the HTTP Proxy Server and we got \nthe binary body data as the first parameter name (as expected). We could also \nsend it back to the server (no encode) the same way and it worked. But we \nrather prefer to load it from a file and not misuse the method parameters. \n\nHope it helps\n        ", "creator": "ibjorda@hotmail.com", "is_private": false, "id": 72403, "time": "2005-03-14T18:49:10Z", "bug_id": 33964, "creation_time": "2005-03-14T18:49:10Z", "tags": [], "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 33964, "text": "Sorry, I still don't undestand what is wrong with the exising HTTP Sampler.\n\nYou say that one can send any file with any Mime type. Is that not enough?\nWhat is missing or wrong with the existing file processing? \n\nDoes the file content get changed in some way?\nOr are some headers wrong or missing?", "id": 72404, "time": "2005-03-14T19:33:29Z", "creator": "sebb@apache.org", "creation_time": "2005-03-14T19:33:29Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 33964, "text": "Sebb - the problem with existing HTTP sampler is one cannot submit arbitrary \ndata in the content body. \n\nFor instance, I don't think one can submit a multi-part MIME document - where \nthe first MIME part is an XML document, the second MIME part is a text \ndocument, a third is binary, and so on. \n\nThe 2.0.1 HTTP sampler seems limited to sending a single file in an HTTP \nrequest, as a single name-value pair.", "id": 72426, "time": "2005-03-15T04:14:30Z", "creator": "sonam.chauhan@ce.com.au", "creation_time": "2005-03-15T04:14:30Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 33964, "attachment_id": null, "id": 72432, "time": "2005-03-15T10:56:02Z", "creator": "ibjorda@hotmail.com", "creation_time": "2005-03-15T10:56:02Z", "is_private": false, "text": "(In reply to comment #3)\n> Sorry, I still don't undestand what is wrong with the exising HTTP Sampler.\n> You say that one can send any file with any Mime type. Is that not enough?\n> What is missing or wrong with the existing file processing? \n> Does the file content get changed in some way?\n> Or are some headers wrong or missing?\n\nThere is nothing wrong with the existing file processing and there is no \nheaders wrong or missing. Maybe that's why I suggested it was an enhancement \nand not a bug.\n\nWe just need to send any data in the body request, not necessarily name/value \npairs or a file. And one way to achieve this is to have this arbitrary data as \nthe \"contents\" of a file loaded into the request body; But, it could be, in \nsome cases, (depending of the data) transcript through the GUI.\n\nWe are not talking about sending a file, we are talking about sending the \ncontents. And these contents do not need any extra processing. That's something \nsimilar as it is done in the WebService Sampler.  The WEB Service Sampler GUI \nallows you to enter the SOAP/XML-RPC Data or to load it from a file. For our \npurposes, is just enough if JMeter HTTP Sampler  allows us to load it from a \nfile and send it as is in the request body.\n\nHope it helps\n\n"}, {"count": 6, "attachment_id": null, "creator": "sebb@apache.org", "is_private": false, "id": 72532, "time": "2005-03-16T22:13:32Z", "bug_id": 33964, "creation_time": "2005-03-16T22:13:32Z", "tags": [], "text": "OK, I think I see now - the current sampler sends the contents of the file as\nis, but wraps it in some extra stuff that causes problems when trying to include\nmixed data.\n\nHow about the following suggestion: if a file is specified, but the Parameter\nName AND MIME type fields are blank, then only send the file contents, and omit:\nContent-Disposition\nContent-Type\nCRLF before\nCRLF after\n\nand the -- boundary markers before and after.\n\nIs this what you are after?"}, {"count": 7, "tags": [], "bug_id": 33964, "text": "Created attachment 14503\nAllows to load arbitrary file contents as the request body using the HTTP Request sampler GUI", "id": 72565, "time": "2005-03-17T10:19:43Z", "creator": "ibjorda@hotmail.com", "creation_time": "2005-03-17T10:19:43Z", "is_private": false, "attachment_id": 14503}, {"count": 8, "tags": [], "bug_id": 33964, "attachment_id": null, "id": 72566, "time": "2005-03-17T10:28:11Z", "creator": "ibjorda@hotmail.com", "creation_time": "2005-03-17T10:28:11Z", "is_private": false, "text": "Sebb, thanks. What you propose is enough for our purposes. I have attached \nPostWriter.java to show you what we already coded to achieve it. We did the \ntrick for all files with .bin extension. I'd rather prefer your idea and we \nfeel more comfortable if you include it in JMeter source. \n"}, {"count": 9, "attachment_id": 14703, "creator": "Ralph.Goers@dslextreme.com", "is_private": false, "id": 73634, "time": "2005-04-13T23:02:51Z", "bug_id": 33964, "creation_time": "2005-04-13T23:02:51Z", "tags": [], "text": "Created attachment 14703\nThis patch adds a checkbox to the HttpRequest panel. If checked, the file is sent as the body of the request.\n\nThis patch adds a checkbox to the HttpRequest panel. If checked, the contents\nof the specified file are written to the output stream of the connection."}, {"count": 10, "tags": [], "creator": "bronagh.mcelduff@mobilecohesion.com", "attachment_id": null, "id": 76755, "creation_time": "2005-06-28T15:49:26Z", "time": "2005-06-28T15:49:26Z", "bug_id": 33964, "text": "Will this patch be made available on the 2.0.3 codeline (or in a nightbuild) in\nthe near future?", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "sebb@apache.org", "text": "Finally got around to this again. Sorry for the delay.\n\nJMeter now sends the file as the entire body of the POST request if both the \nfile \"name\" and MIME type parameters are blank. Otherwise, the behaviour is as \nbefore.\n\nI did not add the extra checkbox, as it is now unnecessary.\n\nThe code is in SVN, and will be in the next nightly build - see\n\nhttp://people.apache.org/builds/jakarta-jmeter/nightly/\n\nif you want to try the code.", "count": 11, "id": 99181, "time": "2007-02-09T08:13:49Z", "bug_id": 33964, "creation_time": "2007-02-09T08:13:49Z", "is_private": false}]