[{"count": 0, "tags": [], "bug_id": 50682, "attachment_id": null, "text": "The class import of com.sun.org.apache.xml.internal.security.utils.Base64 fails.\n\nant output:\n\n    [javac] C:\\....\\security\\EncryptionManager.java:23: package com.sun.org.apache.xml.internal.security.utils does not exist\n    [javac] import com.sun.org.apache.xml.internal.security.utils.Base64;\n\nThe above specified class is in ${JAVA_HOME}/jre/lib/rt.jar.  The javac task is not allowing this jar to be specified in the class path to the compiler if the jar is specified using the ${JAVA_HOME}/jre/lib/rt.jar path.\n\nThis class is found if rt.jar is copied to the project lib directory and then specified in the classpath to the javac task.\n\nThis does not happen when the same class is compiled in Eclipse.\n\nRelevant build.xml fragments:\n\n    <path id=\"project.classpath\">\n      <fileset dir=\"./lib\">\n        <include name=\"*.jar\"/>\n      </fileset>\n      <pathelement path=\"${java.home}/lib/rt.jar\"/>  <!-- this is ignored!!! -->\n      <pathelement path=\"${java.home}/lib/resources.jar\"/>\n      <pathelement path=\"${java.home}/lib/jsse.jar\"/>\n      <pathelement path=\"${java.home}/lib/jce.jar\"/>\n      <pathelement path=\"${java.home}/lib/charsets.jar\"/>\n      <pathelement path=\"${java.home}/lib/dnsns.jar\"/>\n      <pathelement path=\"${java.home}/lib/localedata.jar\"/>\n      <pathelement path=\"${java.home}/lib/plugin.jar\"/>\n      <pathelement path=\"${java.home}/lib/sunjce_provider.jar\"/>\n      <pathelement path=\"${java.home}/lib/sunmscapi.jar\"/>\n      <pathelement path=\"${java.home}/lib/sunpkcs11.jar\"/>\n    </path>\n\n    <target name=\"classes\" depends=\"init\">\n      <pathconvert targetos=\"windows\" refid=\"project.classpath\"/>\n      <javac srcdir=\"./src\"\n             destdir=\"./build/classes\"\n             source=\"1.6\"\n             target=\"1.6\"\n             includeAntRuntime=\"no\"\n             includeJavaRuntime=\"yes\"\n             classpathref=\"project.classpath\"/>\n    </target>", "id": 143762, "time": "2011-01-28T13:35:46Z", "creator": "dlkingjr@yahoo.com", "creation_time": "2011-01-28T13:35:46Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 50682, "attachment_id": null, "id": 143763, "time": "2011-01-28T14:08:41Z", "creator": "jglick@apache.org", "creation_time": "2011-01-28T14:08:41Z", "is_private": false, "text": "com.sun.**.internal.** classes are not part of the JRE's exposed API and code is forbidden to compile against them. Use e.g. org.apache.commons.codec.binary.Base64 instead."}]