[{"count": 0, "tags": [], "text": "Years ago I wrote to the APR mailing list about the missing trylock functions in\nlocks/unix/proc_mutex.c, and since then I've just been patching APR to make what\nI needed available:\n\nhttp://marc.theaimsgroup.com/?l=apr-dev&m=103004616828872&w=2\n\nI finally sat down and wrote out a full set of trylock functions; see the\nattached patch.  I'm hoping they can be added to APR!  :-)  I've tested them on\nSolaris and Linux, but other Unixes should probably be checked as well.  I've\nsupplied two test programs for doing that.\n\nIn my original email thread, Aaron Bannert and I briefly discussed the issue of\nwhat happens when a lock is acquired by a process and then that process dies. \nFor reference, I did some testing and I'll include my results as an attachment.\n   The interesting new development in this field is described here, namely that\nLinux support for robust pthread mutexes may be \"coming real soon\":\n\nhttp://lwn.net/Articles/172134/", "is_private": false, "bug_id": 38758, "id": 86105, "time": "2006-02-22T22:36:11Z", "creator": "chrisd@apache.org", "creation_time": "2006-02-22T22:36:11Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 17769\nadds trylock functions for unix process mutexes", "is_private": false, "bug_id": 38758, "id": 86106, "time": "2006-02-22T22:36:49Z", "creator": "chrisd@apache.org", "creation_time": "2006-02-22T22:36:49Z", "attachment_id": 17769}, {"count": 2, "tags": [], "text": "Created attachment 17770\ntest program for lock functions", "attachment_id": 17770, "id": 86107, "creation_time": "2006-02-22T22:38:02Z", "time": "2006-02-22T22:38:02Z", "creator": "chrisd@apache.org", "bug_id": 38758, "is_private": false}, {"count": 3, "tags": [], "bug_id": 38758, "attachment_id": 17771, "is_private": false, "id": 86108, "time": "2006-02-22T22:39:09Z", "creator": "chrisd@apache.org", "creation_time": "2006-02-22T22:39:09Z", "text": "Created attachment 17771\ntest program for trylock functions\n\nIf my trylock implementations are merged, let me know and I'll rewrite this\ntest program to fit into the APR test suite, a la test/testprocmutex.c."}, {"count": 4, "tags": [], "text": "Created attachment 17772\nresults of testing on solaris and linux", "is_private": false, "bug_id": 38758, "id": 86109, "time": "2006-02-22T22:39:41Z", "creator": "chrisd@apache.org", "creation_time": "2006-02-22T22:39:41Z", "attachment_id": 17772}, {"count": 5, "tags": [], "bug_id": 38758, "attachment_id": 17878, "is_private": false, "id": 86739, "time": "2006-03-12T19:58:46Z", "creator": "chrisd@apache.org", "creation_time": "2006-03-12T19:58:46Z", "text": "Created attachment 17878\nadds trylock functions for unix process mutexes\n\ninitial patch was reversed"}, {"count": 6, "tags": [], "text": "This looks good, thanks a lot Chris; I've committed it with a few minor tweaks:\n\nhttp://svn.apache.org/viewcvs?rev=385523&view=rev\n\nAn addition to the testsuite would be great too.", "attachment_id": null, "id": 86765, "creation_time": "2006-03-13T11:46:05Z", "time": "2006-03-13T11:46:05Z", "creator": "jorton@redhat.com", "bug_id": 38758, "is_private": false}, {"count": 7, "tags": [], "bug_id": 38758, "attachment_id": null, "id": 115363, "time": "2008-04-07T03:31:15Z", "creator": "jorton@redhat.com", "creation_time": "2008-04-07T03:31:15Z", "is_private": false, "text": "*** Bug 43752 has been marked as a duplicate of this bug. ***"}]