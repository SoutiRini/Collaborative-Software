[{"count": 0, "tags": [], "creator": "carnold@apache.org", "text": "Giesen Giesen wrote to log4j-users on 2006-07-10:\n\nI sporadically get the following error when my JSF app starts up.\nAnyone know what I can do? Would the 1.3 alpha version help? (I hate\nto use prerelease software)\n\nException sending context initialized event to listener instance of\nclass com.sun.faces.config.ConfigureListener\njava.lang.NullPointerException\n\tat org.apache.log4j.NDC.get(NDC.java:209)\n\tat org.apache.log4j.spi.LoggingEvent.getNDC(LoggingEvent.java:238)\n\n----\n\nGoogle searching for NDC.get did find other mentions of NPE being thrown at the\nsame location.  The stack trace is consistent with ht == null, however ht is\nexpected to be initialized at class load and is not changed in the log4j code\nbase, however the field is neither static or final so there is nothing\npreventing client code from changing its value.  The log4j 1.3 implementation is\nsubstantially different.\n\nThe committed patch checks whether ht != null before calling get() and should\navoid the NPE, but would be nice to know the mechanism by which it got that way.", "id": 91798, "time": "2006-08-02T04:17:08Z", "bug_id": 40159, "creation_time": "2006-08-02T04:17:08Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 40159, "text": "Patch committed in rev 427881.  Waiting for feedback before marking as closed.", "id": 91799, "time": "2006-08-02T04:19:28Z", "creator": "carnold@apache.org", "creation_time": "2006-08-02T04:19:28Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 40159, "attachment_id": null, "text": "Hello,\n\nThis problem does also occur in the MDC.\nI got the NullPointerException in NDC.get() as mentioned here and now in the\nMDC.get(). I think both are related to each other, so that's why I added this\ncomment here.\nThe exceptions are raised in my case, when I trigger a reload of a Tomcat\ncontext which uses Log4j as the logging system.\nTomcat reloads the context and then:\n- before Log4j 1.2.14: NullPointerException at NDC.get (as mentioned here)\n- now: NullPointerException at MDC.get(). There propably the tlm==null.\n\nCan this be fixed too with a \"not-null-check\" in the next release of Log4j as\nwas done with NDC.get()?\n\nThanks", "id": 96063, "time": "2006-11-22T04:12:09Z", "creator": "steven.rasschaert@telenet.be", "creation_time": "2006-11-22T04:12:09Z", "is_private": false}, {"count": 3, "tags": [], "creator": "bayard@apache.org", "text": "Reopening so Steven's comment gets noticed.", "id": 100345, "time": "2007-03-13T12:40:49Z", "bug_id": 40159, "creation_time": "2007-03-13T12:40:49Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "carnold@apache.org", "text": "Split off MDC issue as bug 43181 since 40159 was reported as resolved in log4j 1.2.14 release notes.  \nMDC fix committed in rev 568278.", "id": 106983, "time": "2007-08-21T14:02:09Z", "bug_id": 40159, "creation_time": "2007-08-21T14:02:09Z", "is_private": false, "attachment_id": null}]