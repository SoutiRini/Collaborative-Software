[{"count": 0, "tags": [], "text": "The Cookie option of mod_rewrite supports setting the cookie's name, value, domain, path, and expiry date. However the original Netscape cookie specification [1] also supports the \"secure\" flag. Internet Explorer 6 SP1 introduced the HttpOnly flag [2] for cookies that are not accessible to JavaScript code, a feature which is now also supported by Firefox 2 and newser. \n\nThe attached patch adds support for these two flags, changing the formal signature of the cookie option as follows:\n\ncookie|CO=NAME:VAL:domain[:lifetime[:path[:secure[:httponly]]]]\n\nExamples:\nCO=name:value:.example.com:0:/:true\nCO=name:value:.example.com:0:/:false\n\nCO=name:value:.example.com:0:/:1:HttpOnly\nCO=name:value:.example.com:0:/:0:HttpOnly\n\nIn my opinion this would be a useful addition to mod_rewrite and should not break existing applications. \n\n[1] http://wp.netscape.com/newsref/std/cookie_spec.html\n[2] http://msdn2.microsoft.com/en-us/library/ms533046.aspx", "is_private": false, "id": 115503, "creator": "christian@wenz.org", "time": "2008-04-10T08:37:37Z", "bug_id": 44799, "creation_time": "2008-04-10T08:37:37Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 44799, "text": "Created attachment 21807\nPatch adding the described functionality\n\nPatch adding support for secure and HttpOnly cookie features", "id": 115504, "time": "2008-04-10T08:39:42Z", "creator": "christian@wenz.org", "creation_time": "2008-04-10T08:39:42Z", "is_private": false, "attachment_id": 21807}, {"count": 2, "tags": [], "creator": "christian@wenz.org", "text": "assigning PatchAvailable keyword.", "id": 115505, "time": "2008-04-10T08:40:26Z", "bug_id": 44799, "creation_time": "2008-04-10T08:40:26Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 44799, "text": "The patch looks good to me. Care to provide a documentation patch for the mod_rewrite documentation (mod_rewrite.xml), because having this undocumented would be a pity :-).", "id": 115519, "time": "2008-04-10T13:18:34Z", "creator": "rpluem@apache.org", "creation_time": "2008-04-10T13:18:34Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 44799, "text": "will do that first (or second ;-) ) thing tomorrow!", "id": 115524, "time": "2008-04-10T14:43:00Z", "creator": "christian@wenz.org", "creation_time": "2008-04-10T14:43:00Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 44799, "text": "Created attachment 21814\nUpdate for the docs, describing the new functionality\n\nUpdate for the docs, describing the new functionality", "id": 115538, "time": "2008-04-10T23:09:16Z", "creator": "christian@wenz.org", "creation_time": "2008-04-10T23:09:16Z", "is_private": false, "attachment_id": 21814}, {"count": 6, "attachment_id": null, "bug_id": 44799, "is_private": false, "id": 115539, "time": "2008-04-10T23:11:23Z", "creator": "christian@wenz.org", "creation_time": "2008-04-10T23:11:23Z", "tags": [], "text": "Added the documentation patch. It may be a good idea to add the version number of the release(s) that introduces the new features. I'll provide an appropriate patch once this version number is known/a new release is out. "}, {"count": 7, "attachment_id": null, "bug_id": 44799, "is_private": false, "id": 115567, "time": "2008-04-12T01:42:51Z", "creator": "rpluem@apache.org", "creation_time": "2008-04-12T01:42:51Z", "tags": [], "text": "Committed to trunk as r647395 (http://svn.apache.org/viewvc?rev=647395&view=rev)."}, {"attachment_id": null, "tags": [], "bug_id": 44799, "text": "Allow me to suggest s/not accessible/inaccessible/ in the docs before backporting.\n\nI'd do it myself but I'm not sure how that affects the commit list in STATUS.", "count": 8, "id": 115568, "time": "2008-04-12T03:00:19Z", "creator": "noodl@apache.org", "creation_time": "2008-04-12T03:00:19Z", "is_private": false}, {"count": 9, "attachment_id": null, "bug_id": 44799, "is_private": false, "id": 115569, "time": "2008-04-12T03:54:10Z", "creator": "rpluem@apache.org", "creation_time": "2008-04-12T03:54:10Z", "tags": [], "text": "(In reply to comment #8)\n> Allow me to suggest s/not accessible/inaccessible/ in the docs before\n> backporting.\n> \n> I'd do it myself but I'm not sure how that affects the commit list in STATUS.\n> \n\nFeel free to do it. It is much appreciated."}, {"count": 10, "tags": [], "bug_id": 44799, "text": "> Allow me to suggest s/not accessible/inaccessible/ in the docs before\n> backporting.\n\naah, thanks -- that sounds much better! ", "id": 115611, "time": "2008-04-15T07:34:06Z", "creator": "christian@wenz.org", "creation_time": "2008-04-15T07:34:06Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "creator": "rpluem@apache.org", "text": "Proposed for backport to 2.2.x as r660284 (http://svn.apache.org/viewvc?rev=660284&view=rev).", "id": 116982, "time": "2008-05-26T13:05:39Z", "bug_id": 44799, "creation_time": "2008-05-26T13:05:39Z", "is_private": false, "attachment_id": null}, {"count": 12, "tags": [], "creator": "marc.stern@approach.be", "text": "I ignore the way cookie parts are internally stored, but are they always stored in this order (expires:path:secure:HttpOnly) ?\nCouldn't we have ...:HttpOnly:secure ?\nIf so, we could end up with comparing strings with the wrong cookie part.\n\nAlso, in the internal format, \"secure\" and \"httponly\" could be stored as \"1\" or \"true\" ?\nIn rev 664330, both\"secure\" and \"httponly\" are compared against \"1\" and \"true\", in rev 647395 and in the attached patch, only secure is compared against \"1\" and \"true\".\nThis is quite confusing ...\n", "id": 119171, "time": "2008-07-31T03:35:35Z", "bug_id": 44799, "creation_time": "2008-07-31T03:35:35Z", "is_private": false, "attachment_id": null}, {"count": 13, "tags": [], "creator": "christian@wenz.org", "is_private": false, "text": "> I ignore the way cookie parts are internally stored, but are they always stored\n> in this order (expires:path:secure:HttpOnly) ?\n> Couldn't we have ...:HttpOnly:secure ?\n\nsince the cookie \"specs\" regarding HttpOnly demand this very order, I'd say we stick with that, as well.\n\n", "id": 119173, "time": "2008-07-31T04:00:51Z", "bug_id": 44799, "creation_time": "2008-07-31T04:00:51Z", "attachment_id": null}, {"count": 14, "tags": [], "creator": "rpluem@apache.org", "is_private": false, "text": "Backported to 2.2.10", "id": 121566, "time": "2008-10-15T12:57:41Z", "bug_id": 44799, "creation_time": "2008-10-15T12:57:41Z", "attachment_id": null}]