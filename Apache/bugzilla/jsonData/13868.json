[{"count": 0, "tags": [], "bug_id": 13868, "attachment_id": null, "text": "I am testing apache-2.0.43 --with-mpm=worker on tru64 UNIX.\nI found the bug when I runned bench mark test using the ab\nand REGET-tool.\n The apache are accessed by REGET-tool(Partial download) when\nthe apache has fully child-processis as server-limit by the ab,\nI found a lot of the httpd prosessis more than server-limit \ndirective.\n\n I changed the source code. \n\n worker.c:1524\noriginal>        if (free_length == 0) {\nchanged >        if (free_length == 0 || totally_free_length == 0) {\n\n and compiled with 'MAX_SPAWN_RATE (1)'\n\n so, the apache has been not exceeded the Serverlimit.\nI guess worker.c has not tuned in working on heavycondition yet.", "id": 25019, "time": "2002-10-23T04:46:19Z", "creator": "masaharu@mutsuyoshi.net", "creation_time": "2002-10-23T04:46:19Z", "is_private": false}, {"count": 1, "tags": [], "text": "Hi,\nI found more smart way to fix the big on worker.c.\nFollowing code add on between line 1540-1541.\n---\n            if (free_length > totally_free_length ) {\n                free_length = totally_free_length;\n            }\n---\nWe do not need to define 'MAX_SPAWN_RATE (1)' any more.\nDefault definision is OK!.\nNew httpd has no more make child proseses than ServerLimit directive. \n ", "attachment_id": null, "id": 25090, "creator": "masaharu@mutsuyoshi.net", "time": "2002-10-24T02:29:41Z", "bug_id": 13868, "creation_time": "2002-10-24T02:29:41Z", "is_private": false}]