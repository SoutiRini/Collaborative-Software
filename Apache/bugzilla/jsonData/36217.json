[{"count": 0, "tags": [], "bug_id": 36217, "text": "I'll attach an example build file", "id": 78563, "time": "2005-08-17T08:59:56Z", "creator": "ralf@rw7.de", "creation_time": "2005-08-17T08:59:56Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "ralf@rw7.de", "attachment_id": 16074, "is_private": false, "id": 78564, "time": "2005-08-17T09:01:37Z", "bug_id": 36217, "creation_time": "2005-08-17T09:01:37Z", "text": "Created attachment 16074\nTest build script"}, {"count": 2, "tags": [], "bug_id": 36217, "text": "Please have a look at the attached build script. I want to define a macro \n\"javacc\", that behaves like javac, but prefilles some parameters with values i \nprefer. Target \"compile\" is, what i think is correct, but this fails. Target \n\"compile.workaround\" does, what I expected \"compile\" to do, but it needs an \nadditional wrapper classpath element. \n \nTo try out the script, create two directories \"src\" and \"classes\" (can be \nempty) and run the targets \"compile\" and \"compile.workaround\". \n ", "id": 78565, "time": "2005-08-17T09:08:02Z", "creator": "ralf@rw7.de", "creation_time": "2005-08-17T09:08:02Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 36217, "is_private": false, "text": "You need to use the \"implicit\" attribute.\n\n\t<macrodef name=\"my.javac\">\n\t\t<attribute name=\"srcdir\" />\n\t\t<attribute name=\"destdir\" />\n\t\t<element name=\"classpath\" optional=\"true\" implicit=\"yes\"/>\n\t\t<sequential>\n\t\t\t<echo message=\"macro my.javac @{srcdir} @{destdir}\" />\n\t\t\t<javac srcdir=\"@{srcdir}\"\n\t\t\t\t\t destdir=\"@{destdir}\"\n\t\t\t\t\t deprecation=\"on\"\n\t\t\t\t\t debug=\"on\"\n\t\t\t\t\t optimize=\"off\">\n\t\t\t\t<classpath/>\n\t\t\t</javac>\n\t\t</sequential>\n\t</macrodef>\n\nPs, I would not use the javacc as a task name, as there is already a task\nof that name.", "id": 79238, "time": "2005-08-31T17:57:12Z", "creator": "peterreilly@apache.org", "creation_time": "2005-08-31T17:57:12Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "ralf@rw7.de", "attachment_id": null, "text": "Ooops. Should have had a closer look at the docs. \n \nThank you very much for the hint. \n ", "id": 79295, "time": "2005-09-01T18:11:38Z", "bug_id": 36217, "creation_time": "2005-09-01T18:11:38Z", "is_private": false}]