[{"count": 0, "tags": [], "text": "Hi,\n\nWhen using the style task as follows to precess multiple docbook\nfiles at once:\n\n    <style  basedir=\".\"\n            destdir=\".\"\n            includes=\"**/*.dbx\"\n            extension=\".html\"\n            style=\"docbook/stylesheets/html/docbook.xsl\"\n        />\n\nI get the following exception:\njavax.xml.transform.TransformerException: Unknown error in XPath\n\nWhen running the style task multiple times on the individual\nfiles everythings goes correctly.\n\nThis is using Xalan-j_2_2_D11.\n\nI had to explicitly add a\n    transformer = templates.newTransformer();\njust before the line\n    transformer.transform(src, res);\nin the transform(File infile, File outfile) method of\nTraXLiaison to get it working.\n\nIt seems that you cannot reuse a Transformer after you\nhave already called transform() on it.", "is_private": false, "id": 6977, "creator": "wielaard@tryllian.com", "time": "2001-10-22T08:04:32Z", "bug_id": 4335, "creation_time": "2001-10-22T08:04:32Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "sbailliez@apache.org", "text": "http://xml.apache.org/xalan-j/apidocs/javax/xml/transform/Transformer.html\n\"A Transformer may be used multiple times. Parameters and output properties are \npreserved across transformations.\"\n\nI added a testcase for TraxLiaison that does a simple transform 50 times \nconsecutively using the same transformer. It works fine with Xalan 2.2D12 and \n2.2D11.\n\nI also tried with D11 and D12 a more or less complex transformation \n(src/etc/maudit-frames.xsl in Ant) with 10 XML documents of 264KB and I had no \nerror with the following snippet:\n\n    <style  basedir=\".\"\n            destdir=\".\"\n            includes=\"maudit*.xml\"\n            style=\"maudit-frames.xsl\"\n        />\n\nIf you can come up with a testcase that demonstrate the bug, it would be nice, \notherwise I will set the bug as invalid since I cannot reproduce it, for now I \nset it as worksforme.", "id": 8009, "time": "2001-11-16T14:24:32Z", "bug_id": 4335, "creation_time": "2001-11-16T14:24:32Z", "is_private": false, "attachment_id": null}, {"count": 2, "text": "I am having the exact same problem with docbook sources.  When running the \nstyle task multiple times on individual files it works, but i get the \nTransformerException when using the style task to process multiple files at \nonce.", "creator": "erik.engstrom@dot.state.mn.us", "is_private": false, "id": 21757, "time": "2002-08-26T21:04:08Z", "bug_id": 4335, "creation_time": "2002-08-26T21:04:08Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "text": "Created attachment 2846\nHere is a testcase which demonstrates the problem.  The single target succeeds but the multi target fails.", "attachment_id": 2846, "id": 21796, "creator": "erik.engstrom@dot.state.mn.us", "time": "2002-08-27T13:39:29Z", "bug_id": 4335, "creation_time": "2002-08-27T13:39:29Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 4335, "attachment_id": null, "is_private": false, "id": 21800, "time": "2002-08-27T14:12:49Z", "creator": "sbailliez@apache.org", "creation_time": "2002-08-27T14:12:49Z", "text": "Information missing. What version of xslt processor, etc...\nFYI your tests pass for me. Xalan 2.4D1.\n\nPlease refer also to bug #6719.\n\nAnt does nothing special but using the trax api and per the api the transformer \ncan be reused at will. It is more than probably a Xalan bug which from various \nreports is not totally fixed. Try with Saxon."}, {"count": 5, "tags": [], "bug_id": 4335, "attachment_id": null, "text": "Adding to CC.", "id": 21801, "time": "2002-08-27T14:13:45Z", "creator": "sbailliez@apache.org", "creation_time": "2002-08-27T14:13:45Z", "is_private": false}, {"count": 6, "tags": [], "text": "Invalid not an Ant bug.", "attachment_id": null, "id": 21802, "creator": "sbailliez@apache.org", "time": "2002-08-27T14:14:10Z", "bug_id": 4335, "creation_time": "2002-08-27T14:14:10Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 4335, "is_private": false, "count": 7, "id": 21803, "time": "2002-08-27T14:20:35Z", "creator": "erik.engstrom@dot.state.mn.us", "creation_time": "2002-08-27T14:20:35Z", "text": "OOPS! yep, sorry, thought I was using Xalan 2.4D1.  Works fine with that verson."}]