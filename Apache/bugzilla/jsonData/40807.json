[{"count": 0, "tags": [], "text": "the problem manifests itself in an exception of the dateconverter module when we\ntry to set the last-modified header for a non-existing translation.\ntry to access\nhttp://lenya.zones.apache.org:9999/default/authoring/doctypes/links_de.html\n(which does not exist). \n\ninstead of asking whether to create this translation, the dateconverter barfs.\n\n(btw, i wonder if we should make the dateconverter more lenient and return some\nblank date object, but then the next one down the pipe will probably explode -\nany suggestions?)", "attachment_id": null, "bug_id": 40807, "id": 95037, "time": "2006-10-21T10:33:13Z", "creator": "nettings@apache.org", "creation_time": "2006-10-21T10:33:13Z", "is_private": false}, {"count": 1, "tags": [], "text": "iiuc, problem is that we only check for the existence of the *path*, not for the\n*path plus language extension*:\n\nLanguageExistsAction.java calls into SiteUtil.contains:\n\npublic static boolean contains(ServiceManager manager, DocumentFactory factory,\n            DocumentLocator locator) throws SiteException {\n        SiteManager siteManager = null;\n        ServiceSelector selector = null;\n\n        try {\n            selector = (ServiceSelector) manager.lookup(SiteManager.ROLE +\n\"Selector\");\n            Publication pub = factory.getPublication(locator.getPublicationId());\n            String siteManagerHint = pub.getSiteManagerHint();\n            siteManager = (SiteManager) selector.select(siteManagerHint);\n            SiteStructure site = siteManager.getSiteStructure(factory, pub,\nlocator.getArea());\n            return site.contains(locator.getPath());\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nthis will return true when *any* language version exists.\ndunno how to fix this myself (i'm reluctant to learn by reading existing code\natm, as the stuff is so much in flux i'll probably end up with deprecated\nmethods), but it should be trivial for anybody familiar with the repository code.\n\ni would appreciate a quick fix so that i can release another milestone of my\nproject...", "attachment_id": null, "bug_id": 40807, "id": 95038, "time": "2006-10-21T11:17:00Z", "creator": "nettings@apache.org", "creation_time": "2006-10-21T11:17:00Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 40807, "is_private": false, "text": "It should work now. Would you mind trying again? Thanks!", "id": 95054, "time": "2006-10-24T02:18:56Z", "creator": "andreas@apache.org", "creation_time": "2006-10-24T02:18:56Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "thorsten@apache.org", "attachment_id": null, "text": "Renaming Lenya 1.4 to 2.0", "id": 105595, "time": "2007-07-16T01:59:30Z", "bug_id": 40807, "creation_time": "2007-07-16T01:59:30Z", "is_private": false}]