[{"count": 0, "tags": [], "creator": "max.valjanski@gmail.com", "attachment_id": null, "id": 144525, "time": "2011-02-24T08:47:47Z", "bug_id": 50826, "creation_time": "2011-02-24T08:47:47Z", "is_private": false, "text": "Embedded Tomcat sometimes throws this exception when calling destroy() method:\n\njava.lang.IllegalArgumentException: null source\n\tat java.util.EventObject.<init>(EventObject.java:56)\n\tat javax.management.Notification.<init>(Notification.java:184)\n\tat org.apache.catalina.core.StandardContext.destroyInternal(StandardContext.java:5433)\n\tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:285)\n\tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:969)\n\tat org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1108)\n\tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:285)\n\tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:969)\n\tat org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1108)\n\tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:285)\n\tat org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:593)\n\tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:285)\n\tat org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:786)\n\tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:285)\n\tat org.apache.catalina.startup.Tomcat.destroy(Tomcat.java:323)\n\tat su.msk.jet.nioproxy.rule.config.EmbeddedWebserver.stop(EmbeddedWebserver.java:26)\n\nI think that StandardContext.destroyInternal() misses check that this.getObjectName()!=null"}, {"count": 1, "tags": [], "creator": "markt@apache.org", "text": "Thanks for the report. This has been fixed in 7.0.x and will be included in 7.0.9 onwards.\n\nTo avoid it in the meantime, ensure that the embedded Tomcat instance is started before you destroy it.", "id": 144528, "time": "2011-02-24T12:26:54Z", "bug_id": 50826, "creation_time": "2011-02-24T12:26:54Z", "is_private": false, "attachment_id": null}]