[{"count": 0, "tags": [], "bug_id": 53624, "attachment_id": null, "is_private": false, "id": 161013, "time": "2012-07-30T19:07:39Z", "creator": "rstoyanchev@yahoo.com", "creation_time": "2012-07-30T19:07:39Z", "text": "A call to sendRedirect after AsyncContext.dispatch doesn't redirect and returns with a 200 status code instead.\n\nA project demonstrating the issue:\nhttps://github.com/rstoyanchev/dispatch-test\n\nBuild and deploy the source in the 'tomcat-issue-repro'. From the home page of the deployed application, select the \"Redirect\" scenario. The scenario involves Servlet \"RedirectA\" that creates a thread and dispatches to Servlet \"RedirectB\", which in turn redirects to Servlet \"RedirectC\" and that forwards to a simple JSP page. Instead of the JSP page rendering, you should see a blank page and the log output will show that processing ended at ServletC.\n\nFor details on the setup see WebAppInitializer.setupRedirectScenario(ServletContext).\n\n---\n\nFWIW if a forward is used instead of a dispatch from the async thread, the scenario works. To do that, modify the line that creates servlet \"RedirectA\" to be ForwardingAsyncServlet instead of DispatchingAsyncServlet.\n\n---\n\nThis issue is very similar to 51197, which was marked resolved in 7.0.25. The current issue was tested against 7.0.29."}, {"count": 1, "tags": [], "bug_id": 53624, "attachment_id": null, "is_private": false, "id": 161402, "time": "2012-08-14T22:39:05Z", "creator": "markt@apache.org", "creation_time": "2012-08-14T22:39:05Z", "text": "This looks to have a different root cause.\n\nThis has been fixed in trunk and 7.0.x and will be included in 7.0.30 onwards."}, {"count": 2, "attachment_id": null, "bug_id": 53624, "is_private": false, "id": 161405, "time": "2012-08-14T22:50:45Z", "creator": "markt@apache.org", "creation_time": "2012-08-14T22:50:45Z", "tags": [], "text": "*** Bug 53627 has been marked as a duplicate of this bug. ***"}]