[{"count": 0, "tags": [], "bug_id": 31712, "attachment_id": null, "id": 65109, "time": "2004-10-14T03:07:45Z", "creator": "lavr@ncbi.nlm.nih.gov", "creation_time": "2004-10-14T03:07:45Z", "is_private": false, "text": "Hi,\n\nThere are few things to improve, if you don't mind:\n\n1. server/config.c:execute_now() should not check for\n   command existence in modules as it has been just [successfully]\n   done before, in ap_build_config_sub(), the sole caller of execute_now().\n\n2. cmd_parm::config_file is NULL when command handlers (command_rec*)\n   are invoked [via invoke_cmd()], for \"normal\" commands\n   (cf ap_walk_config[_sub]()).  This limitation is in\n   discrepancy with Apache 1.3 API, yet ap_directive_t\n   commentary notices that file and line_num fields would be gone in the\n   future.  If so, then how it would be possible to report an error\n   to the user using file:line coordinates from the command handler.\n   The field cmd_parm::config_file is now okay (!=NULL) only for EXEC_ON_READ\n   commands, but then \"mconfig\" [middle] argument for the command handler\n   is passed NOT as a module config, but as a configuration subtree :-(\n   This kind of hacks makes development of extensions very difficult.\n\nThanks for considering this.\n\nAnton Lavrentiev"}]