[{"attachment_id": 31502, "tags": [], "bug_id": 56379, "text": "Created attachment 31502\nhttpd-2.4.9/modules/lua/lua_dbd.c patch\n\nMod_dbd, when coupled with mod_lua, works fine to return pgsql connections.  Mod_lua's \"select\" or \"prepare / selection\" can return the correct number of rows.  However, the number of columns is always zero.\n\nNote that \"cols\" from Line 333 seems to return 0 regardless of the number of columns in the SELECT SQL statement.  Thus, the if statement at Line 335 always returns false.\n\nThe attached patch seems to fix this issue for the pgsql connections.  I've not tested if this fix causes issues in other database connections.", "count": 0, "id": 174426, "time": "2014-04-09T18:29:16Z", "creator": "zhou.lixin@gmail.com", "creation_time": "2014-04-09T18:29:16Z", "is_private": false}]