[{"count": 0, "tags": [], "text": "The following application prints out the key-size and cipher-suite attributes \nfor a SSL connection. The following is the output.\n\njavax.servlet.request.cipher_suite\njavax.servlet.request.key_size\nKey size: null\nCipher suite: null\n\nAs you can see, they are both set to null. The following is the output for \nTomcat 4.0 Beta 1 which has the correct behavior.\n\njavax.servlet.request.key-size\njavax.servlet.request.cipher-suite\nKey size: 128\nCipher suite: SSL_RSA_WITH_RC4_128_MD5\n\nThe URL used to run the application was.\n\nhttps://skate.uchicago.edu:8443/servlet/Test\n\nThis information is critical for an application that I am working on. I want to \nmake sure that all clients are using 128-bit security. Ideally, there would be \na way in the Tomcat configuration files to specify this. Since there doesn't \nappear to be a way to do this. I'm going to do it manually, but, I currently \ncan't even do that because the attributes aren't being set. Also, it would be \nvery nice if these attributes were present in 3.x.\n\nJon\n\nimport java.io.*;\nimport java.util.*;\nimport javax.servlet.http.*;\n\npublic class Test extends HttpServlet\n{\n\tpublic void doGet(HttpServletRequest req, HttpServletResponse resp) \nthrows IOException\n\t{\n\t\ttry\n\t\t{\n\t\t\tresp.setContentType(\"text/html\");\n\t\t\n\t\t\tPrintWriter pw = resp.getWriter();\n\t\t\n\t\t\tpw.println\n(\"<html><head><title>Test</title></head><body>\");\n\t\t\t\n\t\t\tEnumeration e = req.getAttributeNames();\n\t\t\t\n\t\t\twhile(e.hasMoreElements())\n\t\t\t{\n\t\t\t\tpw.println(\"<p>\" + (String)e.nextElement() \n+ \"</p>\");\n\t\t\t}\n\t\t\t\n\t\t\tpw.println(\"<p>Key size: \" + req.getAttribute\n(\"javax.servlet.request.key-size\") + \"</p>\");\n\t\t\n\t\t\tpw.println(\"<p>Cipher suite: \" + req.getAttribute\n(\"javax.servlet.request.cipher-suite\") + \"</p>\");\n\t\t\n\t\t\tpw.println(\"</body></html>\");\n\t\t\n\t\t\tpw.close();\n\t\t}\n\t\tcatch(Exception e)\n\t\t{\n\t\t\tSystem.err.println(e);\n\t\t}\n\t}\n}", "attachment_id": null, "id": 2688, "creator": "jemiller@uchicago.edu", "time": "2001-05-29T13:15:24Z", "bug_id": 1940, "creation_time": "2001-05-29T13:15:24Z", "is_private": false}, {"count": 1, "tags": [], "creator": "craig.mcclanahan@sun.com", "text": "Works for me, using the new names for the request attributes:\n\n  javax.servlet.request.key_size\n  javax.servlet.request.cipher_suite\n\nNote that your test program is still looking for \"key-size\" and \"cipher-suite\". \n The attribute names were changed in Servlet 2.3 PFD2.\n", "id": 2717, "time": "2001-06-01T17:15:12Z", "bug_id": 1940, "creation_time": "2001-06-01T17:15:12Z", "is_private": false, "attachment_id": null}]