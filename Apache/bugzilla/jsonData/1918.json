[{"count": 0, "tags": [], "bug_id": 1918, "is_private": false, "id": 2669, "creation_time": "2001-05-27T13:55:34Z", "time": "2001-05-27T13:55:34Z", "creator": "ggregory@seagullsw.com", "text": "I would like to have tasks with descriptions that include ${param} substituions.\nWith \"param\"s being defined in a property files loaded at the top of my \nbuild.xml, I then want to run \"ant -projecthelp\" and have the \"param\" \nsubstituted. Now, this does not work, for example, my build file includes the \ntask:\n\n\t<target \n\t\tname=\"connect.cal2.vol2\"\n\t\tdescription=\"Connects ${net-drive-letter} to ${net-root-vol}\">\n\t\t\n\t\t<exec executable=\"net\">\n\t\t\t<arg value=\"use\"/>\n\t\t\t<arg value=\"${net-drive-letter}:\"/>\n\t\t\t<arg value=\"${net-root-vol}\"/>\n\t\t</exec>\n\t\t\n\t</target>\n\nRunning \"ant -projecthelp\" yields:\n\n connect.cal2.vol2                Connects ${net-drive-letter} to ${net-root-\nvol}\n\nNot very interesting.\n\nGary", "attachment_id": null}, {"count": 1, "tags": [], "creator": "glennm@apache.org", "attachment_id": null, "id": 3409, "creation_time": "2001-07-04T10:16:51Z", "time": "2001-07-04T10:16:51Z", "bug_id": 1918, "text": "Hmm... lets think about property expansion in descriptions.  Why do \nyou want it?  Nominally, to reflect what is happening in the target based on\nwhat are effectively parameters to the target.  What happens when I \nhave\n\n<property name=\"funky.stuff\" value=\"use your imagination\" />\n<property name=\"sucker\" value=\"someone you don't like\" />\n\n<target name=\"do_this\" description=\"Do ${funky.stuff} to ${sucker}.\">\n  ...\n</target>\n\n<target name=\"call_do_this\">\n  <antcall target=\"do_this\">\n    <param name=\"funky.stuff\" value=\"throw chickens at\" />\n    <param name=\"sucker\" value=\"your boss\" />\n  </antcall>\n</target>\n\nwith ant -projecthelp you get\n\n  do_this     Do use your imagination to someone you don't like\n\nbut in reality you mean\n\n  do_this     Do throw chickens at to your boss\n\n\nOk, the English grammer sucks, but you get the point.  I'd argue that having the\nproperty names unexpanded in the description are more useful than \nhaving the potentially incorrect information - at least you know which\nproperties are involved in the target.\n", "is_private": false}, {"count": 2, "tags": [], "creator": "michael.cepek@spanlink.com", "attachment_id": null, "is_private": false, "id": 74630, "time": "2005-05-09T20:47:42Z", "bug_id": 1918, "creation_time": "2005-05-09T20:47:42Z", "text": "(In reply to comments #0 and #1)\n\nI second Gary's desire for this feature, and I cast a vote for it as well.\n\nGlenn's example is flawed and should be ignored.  Now I wasn't using Ant in\n2001, but all recent versions of Ant ignore any attempt to assign a new value to\na property which already has a value.  If anything, that is the issue that\nGlenn's example illustrates.  And that issue is completely independent of this\nfeature request.\n\nI'm trying to use this proposed feature in a much less controversial way:\n\n---- FILE: common.properties\n\nDESC_B1=Builds this package\nDESC_B2=Builds all packages\n\n---- FILE: one/build.xml\n\n<project name=\"one\" default=\"usage\" basedir=\"..\">\n<property file=\"common.properties\"/>\n\n<target name=\"build\" depends=\"init\" description=\"${DESC_B1}\">\n    <!-- : -->\n</target>\n\n<target name=\"build-all\" depends=\"init\" description=\"${DESC_B2}\">\n    <!-- : -->\n</target>\n\n---- FILE: two/build.xml\n\n<project name=\"two\" default=\"usage\" basedir=\"..\">\n<property file=\"common.properties\"/>\n\n<target name=\"build\" depends=\"init\" description=\"${DESC_B1}\">\n    <!-- : -->\n</target>\n\n<target name=\"build-all\" depends=\"init\" description=\"${DESC_B2}\">\n    <!-- : -->\n</target>\n\n------- End of sample files\n\nThis type of use is just common sense - define it once, use it many times.  In\nsimilar situations it's call encapsulation, or string resourcing, etc.  With one\nbuild.xml file per Java package, and many, many packages per project, it makes a\nlot of sense to centralize this.\n\nIn my case, all the tasks call a common \"queen ant\" script to perform the actual\ntask anyway.  I've encapsulated the code - I want to encapsulate the description\ntoo.\n\nSee also bugid 34823.\n"}, {"count": 3, "tags": [], "bug_id": 1918, "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of 34823 ***", "id": 75653, "time": "2005-05-31T17:02:56Z", "creator": "mbenson@apache.org", "creation_time": "2005-05-31T17:02:56Z", "attachment_id": null}]