[{"count": 0, "tags": [], "text": "POST Parameter are nulled when PrintWriter from response.getWriter() is closed, before request.getParamter(\"id\") is called.\n\nExamlpe:\n\n################################Servlet####################################\n\npublic void service(HttpServletRequest request, HttpServletResponse response) throws Exception {\n\t\t\n\t\t\t\t\n        PrintWriter wr = response.getWriter();\n\twr.write(\"OK\");\n\twr.close();\n\t\t\t\n\t\t\t\n\tSystem.out.println(\"HTTP Method is: \" + request.getMethod() + \" \" + request.getParameter(\"id\"));\n\n}\n\n#################################Servlet###################################\n\n################################GET Curl###################################\n\ncurl -iv \"http://127.0.0.1:8080/test/test?id=123\"\n\n################################GET Curl###################################\n\n###############################POST Curl###################################\n\ncurl -iv --data \"id=123\" http://127.0.0.1:8080/test/test\n\n###############################POST Curl###################################", "is_private": false, "id": 197530, "creator": "stefan.mocken@congstar.net", "time": "2017-03-08T10:44:24Z", "bug_id": 60835, "creation_time": "2017-03-08T10:44:24Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "This is intentional. See bug 50189 for the details.\n\nI'm struggling to think of a use case where it makes sense not to process the request body until the response body has been closed. There may be such a use case but it is going to be rare.\n\nI'm fairly sure this isn't going to be addressed but I want to review the specs first to see whether WONTFIX or INVALID is the appropriate resolution.", "is_private": false, "id": 197535, "creator": "markt@apache.org", "time": "2017-03-08T13:27:27Z", "bug_id": 60835, "creation_time": "2017-03-08T13:27:27Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 60835, "attachment_id": null, "is_private": false, "id": 197536, "time": "2017-03-08T13:36:33Z", "creator": "stefan.mocken@congstar.net", "creation_time": "2017-03-08T13:36:33Z", "text": "Sure, if any use cases exist they are rare. \n\nI was just wondering why in this case the parameter handling for GET and POST is  different."}, {"count": 3, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 197539, "time": "2017-03-08T13:59:22Z", "bug_id": 60835, "creation_time": "2017-03-08T13:59:22Z", "text": "I couldn't find any text in either RFC 7230 (HTTP/1.1) or the Servlet specification that prohibits reading the request body after the response has been closed. Therefore, I am resolving this as WONTFIX.\n\nIf a use cases emerges we can take a second look. Options at that point would include:\n- user work-around to call getParameter() earlier\n- Tomcat parses any POST parameters if the request body is unread when the input stream is closed"}]