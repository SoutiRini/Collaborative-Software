[{"count": 0, "tags": [], "creator": "wknauf@hg-online.de", "attachment_id": 22994, "text": "Created attachment 22994\nSample for the failing Tags\n\nI asked this on the mailing list (Dec. 2nd, same subject), but got no reply. I think it is a bug, but maybe it is just an error of mine.\n\nI have a JSP tag file, which sets an attribute to the PageContext. I \nexpect this attribute to be present in child tags.\n\nHere is the outer tag (in a file \"outer.tag\"):\n\n<%@ tag language=\"java\" pageEncoding=\"ISO-8859-1\"%>\n<%@ variable name-given=\"test\" scope=\"NESTED\" %>\n<%\njspContext.setAttribute (\"test\", \"This is a test !\", PageContext.PAGE_SCOPE);\n%>\nValue before doBody: ${test} <br>\n<jsp:doBody/>\nValue after doBody: ${test} <br>\n\nThe tag just sets a string \"This is a test !\" to a page scope attribute \n\"test\" and calls the tag body.\n\nThis is the inner tag (file \"inner.tag\"), it tries to display the page scope attribute from the outer tag:\n<%@ tag language=\"java\" pageEncoding=\"ISO-8859-1\"%>\nValue in inner tag: ${test} <br/>\n\nMy JSP is this:\n<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n     pageEncoding=\"ISO-8859-1\"%>\n<%@ taglib prefix=\"tagfiles\" tagdir=\"/WEB-INF/tags\" %>\n<html>\n<head>\n</head>\n<body>\n<tagfiles:outer>\n   Value in test.jsp: ${test} <br>\n   <tagfiles:inner/>\n</tagfiles:outer>\n<br/>\n\nThe browser shows this:\nValue before doBody: This is a test !\nValue in test.jsp: This is a test !\nValue in inner tag:\nValue after doBody: This is a test !\n\nThe problem is the empty output in the inner tag. I expect the third \nline to be \"Value in inner tag: This is a test !\".\n\nIf I code this with tag classes, everything works fine: the attribute is \nset through \"this.pageContext.setAttribute(\"test\", \"This is a test !\");\" \nand the inner tag finds the value with \n\"this.getJspContext().getAttribute(\"test\", PageContext.PAGE_SCOPE);\".\n\nAttached is a sample for this (WAR file created by Eclipse 3.4/WTP 3.0, including sources).\nIt contains the .tag files and java code version of the tag. Both are called on \"index.jsp\", and the coded tag shows the expected behavior.", "id": 123094, "time": "2008-12-04T12:29:35Z", "bug_id": 46343, "creation_time": "2008-12-04T12:29:35Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 46343, "attachment_id": null, "id": 123562, "time": "2008-12-27T14:43:27Z", "creator": "markt@apache.org", "creation_time": "2008-12-27T14:43:27Z", "is_private": false, "text": "The behaviour you are seeing is as per the JSP spec. See the third bullet of JSP.8.3 "}]