[{"count": 0, "tags": [], "bug_id": 44887, "attachment_id": null, "text": "Hi,\n\nWe use the version 0.93 of FOP.\nWhen this library is used in a Multi Threaded environment, we receive the following error message:\n\n         java.lang.Thread.run(Thread.java:595)\n            Caused by: <java.lang.NumberFormatException: For input string: \"E444444411E411EEEEEE1\">\n            sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1224)\n            java.lang.Double.parseDouble(Double.java:482)\n            java.text.DigitList.getDouble(DigitList.java:141)\n            java.text.DecimalFormat.parse(DecimalFormat.java:1276)\n            java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1375)\n            java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1124)\n            java.text.DateFormat.parse(DateFormat.java:333)\n            org.apache.xmlgraphics.xmp.XMPSchemaAdapter.parseISO8601Date(XMPSchemaAdapter.java:189)\n\nThe reason is the use of a DateFormat as static class variable:\nhttp://svn.apache.org/viewvc/xmlgraphics/commons/tags/commons-1_1/src/java/org/apache/xmlgraphics/xmp/XMPSchemaAdapter.java?view=markup\n\nThe JAVA DateFormat classes are not at all thread safe. This is written in the API description: <Date formats are not synchronized>.\n\nOn your site http://xmlgraphics.apache.org/fop/0.94/embedding.html#multithreading\nyou write:\n <If you encounter any suspicious behaviour, please notify us.>\n\nI hope that the notification of this problem will help you.\n\nBest Regards\nJean-Claude", "id": 115951, "time": "2008-04-28T01:52:41Z", "creator": "jcrouvi@yahoo.com", "creation_time": "2008-04-28T01:52:41Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 44887, "text": "Yeah, we know that we use the date and number format classes in a not so good way but so far I can't remember a bug report before. I'm just curious: what Java VM, operating system and CPU are you using?\n\nI'll look into this and try to find a better solution. I guess while we're at it we'll have to fix similar misuses in FOP, too.", "id": 115966, "time": "2008-04-28T08:27:03Z", "creator": "jeremias@apache.org", "creation_time": "2008-04-28T08:27:03Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "The issue in XG Commons should be fixed now:\nhttp://svn.apache.org/viewvc?rev=652284&view=rev\n\nI'll keep this issue open until I've fixed similar problems in FOP, too.", "is_private": false, "bug_id": 44887, "id": 116042, "time": "2008-04-29T23:17:58Z", "creator": "jeremias@apache.org", "creation_time": "2008-04-29T23:17:58Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 44887, "is_private": false, "count": 3, "id": 116126, "time": "2008-05-02T02:33:06Z", "creator": "jcrouvi@yahoo.com", "creation_time": "2008-05-02T02:33:06Z", "text": "$ java -version\njava version \"1.5.0_09\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_09-b03)\nJava HotSpot(TM) Client VM (build 1.5.0_09-b03, mixed mode)\n\nIntel(R)\nPentium(R) 4 CPU 2.80GHz\n2.79GHz, 1.99 GB RAM\n\nMicrosoft Windows XP\nProfessional\nVersion 2002\nService Pack 2"}, {"count": 4, "tags": [], "text": "Problematic uses of DecimalFormat now fixed in 0.95 branch of FOP, too:\nhttp://svn.apache.org/viewvc?rev=669173&view=rev", "is_private": false, "id": 117787, "creator": "jeremias@apache.org", "time": "2008-06-18T07:10:56Z", "bug_id": 44887, "creation_time": "2008-06-18T07:10:56Z", "attachment_id": null}]