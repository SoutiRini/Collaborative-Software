[{"count": 0, "tags": [], "bug_id": 54512, "is_private": false, "text": "Version:Apache/2.2.6 (Unix)         \nOS: AIX\n\nWe have an intermittent, but frequent, problem where Apache in production hangs and requires us to restart it.  This is on AIX.  There are 2 apache instances on each server and the each instance has its own IP. The problem occurs on only one of the instances at one time and the other instance works normally during the issue. Httpd threads reach to maximum( 256) and apache hang up and does not take any requests. The process port does not respond to the telnet on the server when it hung up. Most of  the threads are 1 -2 mins old by the time web server hung up totally. We have taken thread dump when apache hump up. Please let me know if you need any config files and logs.", "id": 164962, "time": "2013-01-31T20:24:51Z", "creator": "giri_marni@dellteam.com", "creation_time": "2013-01-31T20:24:51Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "The thread dumps of the httpd processes at the time of the hang should be looked at first.", "attachment_id": null, "bug_id": 54512, "id": 164963, "time": "2013-01-31T20:29:50Z", "creator": "trawick@apache.org", "creation_time": "2013-01-31T20:29:50Z", "is_private": false}, {"count": 2, "tags": [], "creator": "giri_marni@dellteam.com", "attachment_id": null, "is_private": false, "id": 164965, "time": "2013-01-31T20:54:16Z", "bug_id": 54512, "creation_time": "2013-01-31T20:54:16Z", "text": "Thanks Jeff. I am not able to upload the dump here as the compressed file size is 1.3mb."}, {"text": "Created attachment 29915\ngdb output\n\nThe issue happened again today. We ran gdb for the process and I attached the output here. Can you please take a look? AIX trace for the process was also taken. The issue is impacting Hilton worldwide production web site.", "tags": [], "bug_id": 54512, "is_private": false, "count": 3, "id": 164995, "time": "2013-02-01T21:23:17Z", "creator": "giri_marni@dellteam.com", "creation_time": "2013-02-01T21:23:17Z", "attachment_id": 29915}, {"count": 4, "tags": [], "creator": "rpluem@apache.org", "attachment_id": null, "is_private": false, "id": 165027, "time": "2013-02-02T18:34:00Z", "bug_id": 54512, "creation_time": "2013-02-02T18:34:00Z", "text": "Sorry, but the output is useless. You need an apache compiled with debugging symbols available (CFLAGS=\"-O2 -g\" on gcc, don't know it for AIX compilers).\nIn addition you should run the gdb command: thread apply all bt full"}, {"text": "We used the gdb on a core dump we have taken for the httpd process, can you please check the info stack output?\n-------------------------------\n$ gdb /usr/IBMAHS/bin/httpd /home/wsadmin/inc_10130484/apache_core_4a_20130118\nGNU gdb (GDB) 7.3\nCopyright (C) 2011 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"--host=powerpc-ibm-aix6.1.2.0 --target=powerpc64-ibm-aix6.1.2.0\".\nFor bug reporting instructions, please see:\n<http://www.gnu.org/software/gdb/bugs/>...\nReading symbols from /usr/IBMAHS/bin/httpd...done.\n\nwarning: core file may not match specified executable file.\n#0  0xd024ca4c in ?? ()\n(gdb) info stack\n#0  0xd024ca4c in ?? ()\n#1  0xffffffff in ?? ()\n#2  0xd22e0378 in ?? ()\n#3  0xd22e043c in ?? ()\n#4  0x1002958c in ap_wait_or_timeout () at mpm_common.c:410\n#5  0x100262b8 in ap_mpm_run () at prefork.c:1007\n#6  0x10001840 in main () at main.c:730\n(gdb) q\n-------------------------------", "tags": [], "bug_id": 54512, "is_private": false, "count": 5, "id": 165056, "time": "2013-02-04T18:52:42Z", "creator": "giri_marni@dellteam.com", "creation_time": "2013-02-04T18:52:42Z", "attachment_id": null}, {"count": 6, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "is_private": false, "id": 172529, "time": "2014-01-20T00:37:20Z", "bug_id": 54512, "creation_time": "2014-01-20T00:37:20Z", "text": "Need useful backtraces to proceed"}, {"count": 7, "tags": [], "text": "No usable backtraces, no followup in several years", "attachment_id": null, "bug_id": 54512, "id": 190999, "time": "2016-05-16T15:24:41Z", "creator": "covener@gmail.com", "creation_time": "2016-05-16T15:24:41Z", "is_private": false}]