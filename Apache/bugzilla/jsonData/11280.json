[{"count": 0, "tags": [], "bug_id": 11280, "attachment_id": null, "text": "I used the updated ant wrapper script but still encountered two problems:\n\n\n1. If you have a home dir path ($HOME variable) with spaces in it, for example, \nc:/Documents and Settings/... and also use an .antrc file the script crashes. \n\n  bash> c:/ant/bin/ant\n  .: Can't open /cygdrive/c/Documents: No such file or directory\n\nMy $HOME variable is:\n  /cygdrive/c/Documents and Settings/osu.CID-LAP2/My Documents\n\nThis is easily fixed by quoting the call to .antrc (the following diff fixed it)\n\n21c21\n<   . $HOME/.antrc\n---\n>   . \"$HOME/.antrc\"\n\nNote the version 1.4.1 wrapper script had the same problem (when I downloaded \nit a while ago).\n\n\n2. The second problem also has to do with spaces in home environment variable. \nIt is the ANT_OPTS (line 184) that makes the java call (line 187) crash:\n\n  bash> c:/ant/bin/ant.sh\n  Exception in thread \"main\" java.lang.NoClassDefFoundError: and\n\nThe actual call (line 187) to java looks like this:\n\n/cygdrive/c/Java/j2sdk1.4.0/bin/java -classpath c:\\ant\\lib\\xml-\napis.jar;c:\\ant\\lib\\xercesImpl.jar;c:\\ant\\lib\\optional.jar;c:\\ant\\lib\\ant.jar;c:\n\\Java\\j2sdk1.4.0\\lib\\tools.jar -Dant.home=c:\\ant -\nDcygwin.user.home=c:\\Documents and Settings\\osu.CID-LAP2\\My Documents \norg.apache.tools.ant.Main\n\nthus java tries to start the class \"and\" (the and in \"Documents and Settings\"). \nI found no simple way to quote the path here so my solution was to comment out \nline 184:\n\n  #ANT_OPTS=\"$ANT_OPTS -Dcygwin.user.home=\"`cygpath --path --windows \"$HOME\"`\n\nI don't know yet if this causes other problems but everything seems to be \nworking ok on w2k at least.", "id": 20402, "time": "2002-07-30T10:16:25Z", "creator": "olle.sundblad@eris.se", "creation_time": "2002-07-30T10:16:25Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 11280, "text": "\n\n*** This bug has been marked as a duplicate of 10654 ***", "id": 20417, "time": "2002-07-30T14:17:03Z", "creator": "bodewig@apache.org", "creation_time": "2002-07-30T14:17:03Z", "is_private": false, "attachment_id": null}]