[{"count": 0, "tags": [], "creator": "michael_s_kidonakis@bcbsil.com", "text": "Our server team upgraded the openssl version on our servers. Since they did that we cannot get apache to run or install. We keep receiving the below error:\n\nUndefined symbol: .SSLv2_client_method\n\nI'm assuming this is due to the fact that sslv2 is now disabled due to security risks. Can I build apache with it not trying to find the sslv2 methods?", "id": 190791, "time": "2016-05-09T18:57:13Z", "bug_id": 59447, "creation_time": "2016-05-09T18:57:13Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": null, "is_private": false, "id": 190792, "time": "2016-05-09T20:52:31Z", "bug_id": 59447, "creation_time": "2016-05-09T20:52:31Z", "text": "That is a bug in OpenSSL 1.0.2g and 1.0.1s. The symbols were accidentally removed when sslv2 support was removed. To stay API compatible, they should have been replaced by a dumy impl that simply returns NULL.\n\nThis was corrected in 1.0.2h and 1.0.1t, so if you update yet again, the problem should be gone.\n\nThe simple commits were:\n\nhttps://github.com/openssl/openssl/commit/133138569f37d149ed1d7641fe8c75a93fded445\n\n(for 1.0.2) and\n\nhttps://github.com/openssl/openssl/commit/5bac9d44e712bc4acfbdd156244fca4486285ec9\n\n(for 1.0.1).\n\nClosing this, because there's no need for a workaround in Apache. Use the latest OpenSSL library and the problem will be gone - or apply one of the above simple patches to the buggy versions. Since the newer versions also fix security issues, you'd better update again."}, {"count": 2, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": null, "text": "See also\n\nhttps://rt.openssl.org/Ticket/Display.html?id=4398", "id": 190793, "time": "2016-05-09T20:53:35Z", "bug_id": 59447, "creation_time": "2016-05-09T20:53:35Z", "is_private": false}, {"count": 3, "tags": [], "text": "It doesn't look like this version is available yet from IBM for AIX servers. Is there another workaround we can do. Our server admins said they don't see the class they are asking to change code on in the server", "is_private": false, "id": 190809, "creator": "michael_s_kidonakis@bcbsil.com", "time": "2016-05-10T15:19:26Z", "bug_id": 59447, "creation_time": "2016-05-10T15:19:26Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "michael_s_kidonakis@bcbsil.com", "text": "Our server admins don't compile openssl they install the vendor provided packages and 1.0.2h is not available yet from IBM", "id": 190810, "time": "2016-05-10T15:20:39Z", "bug_id": 59447, "creation_time": "2016-05-10T15:20:39Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 59447, "text": "I only see the following possibilities:\n\n- compile OpenSSL 1.0.2h yourself\n\nor\n\n- do a fresh compile of Apache against your new but slightly broken system openssl\n\nor\n\n- open a ticket with IBM, tell them they provided a buggy OpenSSL update with an API break. You can point them to the details I have provided.\n\nor\n\n- use the previous versions with security issues\n\nor\n\n- experimental and ugly: compile a separate small library that has dummy implementations of this/these missing symbol(s) and load this library with LoadFile in the Apache config.", "count": 5, "id": 190811, "time": "2016-05-10T16:12:18Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2016-05-10T16:12:18Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 59447, "attachment_id": null, "id": 190812, "time": "2016-05-10T16:16:02Z", "creator": "michael_s_kidonakis@bcbsil.com", "creation_time": "2016-05-10T16:16:02Z", "is_private": false, "text": "For this option:\n\n- do a fresh compile of Apache against your new but slightly broken system openssl\n\nI tried the compile but the compile fails on the sslv2 method. Can I somehow compile it without making reference to sslv2"}]