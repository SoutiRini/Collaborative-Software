[{"count": 0, "tags": [], "bug_id": 35827, "attachment_id": null, "is_private": false, "id": 77544, "time": "2005-07-22T12:32:46Z", "creator": "morgotin@hotmail.com", "creation_time": "2005-07-22T12:32:46Z", "text": "Hello.\nWe have several servers with Windows 2003/IIS/Tomcat 5.0.19 working fine.\nNow, we have tried to install the same code on a XP machine, SP1, and \neverything works fine except the POST traffic, when we submit a form.\n\nThis issue is related to:\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=30551\n\nWhen we use a POST form, the browser fail by timeout, and we find this \ninformation in the log:\n\n21-jul-2005 13:12:32 org.apache.jk.common.HandlerRequest invoke\nGRAVE: Error decoding request \njava.io.IOException\n\tat org.apache.jk.common.JkInputStream.receive(JkInputStream.java:294)\n\tat org.apache.jk.common.HandlerRequest.decodeRequest\n(HandlerRequest.java:570)\n\tat org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:393)\n\tat org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:716)\n\tat org.apache.jk.common.ChannelSocket.processConnection\n(ChannelSocket.java:650)\n\tat org.apache.jk.common.SocketConnection.runIt(ChannelSocket.java:829)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:688)\n\tat java.lang.Thread.run(Thread.java:536)\n12 34 02 23 02 04 00 08 48 54 54 50 2f 31 2e 31  | .4.#....HTTP/1.1\n00 00 1d 2f 6e 70 6f 72 74 61 6c 2f 62 6d 73 5f  | .../nportal/bms_\n63 6f 72 70 2f 64 6f 6c 6f 67 69 6e 2e 6a 73 70  | corp/dologin.jsp\n00 00 09 31 32 37 2e 30 2e 30 2e 31 00 00 09 31  | ...127.0.0.1...1\n32 37 2e 30 2e 30 2e 31 00 00 09 6c 6f 63 61 6c  | 27.0.0.1...local\n68 6f 73 74 00 00 50 00 00 0c a0 01 00 85 69 6d  | host..P...?..?im\n61 67 65 2f 67 69 66 2c 20 69 6d 61 67 65 2f 78  | age/gif, image/x\n2d 78 62 69 74 6d 61 70 2c 20 69 6d 61 67 65 2f  | -xbitmap, image/\n6a 70 65 67 2c 20 69 6d 61 67 65 2f 70 6a 70 65  | jpeg, image/pjpe\n67 2c 20 61 70 70 6c 69 63 61 74 69 6f 6e 2f 76  | g, application/v\n6e 64 2e 6d 73 2d 65 78 63 65 6c 2c 20 61 70 70  | nd.ms-excel, app\n6c 69 63 61 74 69 6f 6e 2f 76 6e 64 2e 6d 73 2d  | lication/vnd.ms-\n70 6f 77 65 72 70 6f 69 6e 74 2c 20 61 70 70 6c  | powerpoint, appl\n69 63 61 74 69 6f 6e 2f 6d 73 77 6f 72 64 2c 20  | ication/msword, \n2a 2f 2a 00 a0 04 00 02 65 73 00 a0 06 00 0a 4b  | */*.?...es.?...K\n65 65 70 2d 41 6c 69 76 65 00 a0 0b 00 09 6c 6f  | eep-Alive.?...lo\n63 61 6c 68 6f 73 74 00 a0 0d 00 2c 68 74 74 70  | calhost.?..,http\n3a 2f 2f 6c 6f 63 61 6c 68 6f 73 74 2f 6e 70 6f  | ://localhost/npo\n72 74 61 6c 2f 62 6d 73 5f 63 6f 72 70 2f 6c 6f  | rtal/bms_corp/lo\n67 69 6e 32 2e 6a 73 70 00 a0 0e 00 45 4d 6f 7a  | gin2.jsp.?..EMoz\n69 6c 6c 61 2f 34 2e 30 20 28 63 6f 6d 70 61 74  | illa/4.0 (compat\n69 62 6c 65 3b 20 4d 53 49 45 20 36 2e 30 3b 20  | ible; MSIE 6.0; \n57 69 6e 64 6f 77 73 20 4e 54 20 35 2e 31 3b 20  | Windows NT 5.1; \n2e 4e 45 54 20 43 4c 52 20 31 2e 31 2e 34 33 32  | .NET CLR 1.1.432\n32 29 00 a0 09 00 2b 4a 53 45 53 53 49 4f 4e 49  | 2).?..+JSESSIONI\n44 3d 41 43 32 36 43 30 43 32 45 36 39 37 32 33  | D=AC26C0C2E69723\n38 38 33 34 30 42 31 33 45 38 45 31 39 35 35 37  | 88340B13E8E19557\n34 37 00 a0 08 00 02 32 38 00 a0 07 00 21 61 70  | 47.?...28.?..!ap\n70 6c 69 63 61 74 69 6f 6e 2f 78 2d 77 77 77 2d  | plication/x-www-\n66 6f 72 6d 2d 75 72 6c 65 6e 63 6f 64 65 64 00  | form-urlencoded.\na0 03 00 0d 67 7a 69 70 2c 20 64 65 66 6c 61 74  | ?...gzip, deflat\n65 00 00 0d 63 61 63 68 65 2d 63 6f 6e 74 72 6f  | e...cache-contro\n6c 00 00 08 6e 6f 2d 63 61 63 68 65 00 00 07 6e  | l...no-cache...n\n6f 76 69 6e 65 74 00 00 04 76 31 2e 30 00 03 00  | ovinet...v1.0...\n00 00 04 00 00 00 ff                             | ......?\n21-jul-2005 13:12:32 org.apache.jk.common.ChannelSocket processConnection\nADVERTENCIA: processCallbacks status 2\n\nWe're sure that the problem is with POST traffic, and if we use Tomcat \ndirectly, without using IIS, the form works, so it seems that the problem is on \nthe connection between tomcat and IIS. And we know that the problem only \nappears on Windows XP.\n\nIn the bug ID=30551, there was no solution to this problem, and we are not sure \nif the problem is caused by Windows XP, IIS or the JK connector."}, {"count": 1, "tags": [], "bug_id": 35827, "text": "It has been tested with 1.2.1, 1.2.6 and 1.2.8 versions of isapi_redirect.dll", "id": 77550, "time": "2005-07-22T14:27:57Z", "creator": "morgotin@hotmail.com", "creation_time": "2005-07-22T14:27:57Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 35827, "is_private": false, "count": 2, "id": 82580, "time": "2005-11-16T19:54:16Z", "creator": "yoavs@computer.org", "creation_time": "2005-11-16T19:54:16Z", "text": "Have recent versions (1.2.15 is the latest right now) addressed this?"}, {"count": 3, "tags": [], "bug_id": 35827, "text": "Please see the related issue, particularly the final comment. It describes\nexactly the same issue as you are seeing and an upgrade to XP SP2 resolved this\nissue.\n\nMladen's comments on the related issue are also worth reading to ensure you\ndon't hit the XP client limit.\n\n*** This bug has been marked as a duplicate of 30551 ***", "id": 94361, "time": "2006-10-01T21:27:48Z", "creator": "markt@apache.org", "creation_time": "2006-10-01T21:27:48Z", "is_private": false, "attachment_id": null}]