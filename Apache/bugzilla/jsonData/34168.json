[{"count": 0, "tags": [], "creator": "engineering@energycontrolsystems.com", "attachment_id": null, "is_private": false, "id": 72805, "time": "2005-03-24T22:03:39Z", "bug_id": 34168, "creation_time": "2005-03-24T22:03:39Z", "text": "Using batik-src-05-03-06.zip and loading an svg in a JSVGCanvas in an applet on\nthe Linux console and the svg includes ecmascript in a separate file (a\nsub-directory of the svg directory), I get:\n\njava.security.AccessControlException: access denied (java.lang.RuntimePermission\ncreateClassLoader)\n\tat\njava.security.AccessControlContext.checkPermission(AccessControlContext.java:264)\n\tat java.security.AccessController.checkPermission(AccessController.java:427)\n\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\n\tat java.lang.SecurityManager.checkCreateClassLoader(SecurityManager.java:594)\n\tat java.lang.ClassLoader.<init>(ClassLoader.java:225)\n\tat org.mozilla.javascript.DefiningClassLoader.<init>(DefiningClassLoader.java:55)\n\tat org.mozilla.javascript.Context.createClassLoader(Context.java:1837)\n\tat org.mozilla.javascript.optimizer.InvokerImpl.createInvoker(InvokerImpl.java:62)\n\tat org.mozilla.javascript.FunctionObject.doInvoke(FunctionObject.java:495)\n\tat org.mozilla.javascript.FunctionObject.callVarargs(FunctionObject.java:513)\n\tat org.mozilla.javascript.FunctionObject.call(FunctionObject.java:378)\n\tat org.mozilla.javascript.ScriptRuntime.call(ScriptRuntime.java:1191)\n\tat org.mozilla.javascript.ScriptableObject.callMethod(ScriptableObject.java:1573)\n\tat org.apache.batik.script.rhino.RhinoInterpreter.<init>(Unknown Source)\n\tat\norg.apache.batik.script.rhino.RhinoInterpreterFactory.createInterpreter(Unknown\nSource)\n\tat org.apache.batik.script.InterpreterPool.createInterpreter(Unknown Source)\n\tat org.apache.batik.bridge.BridgeContext.getInterpreter(Unknown Source)\n\tat org.apache.batik.bridge.BaseScriptingEnvironment.getInterpreter(Unknown Source)\n\tat org.apache.batik.bridge.BaseScriptingEnvironment.loadScripts(Unknown Source)\n\tat org.apache.batik.bridge.UpdateManager.dispatchSVGLoadEvent(Unknown Source)\n\tat org.apache.batik.swing.svg.SVGLoadEventDispatcher.run(Unknown Source)\n\n\nIf I strip the \"optimizer\" directory from \"js.jar\", the applet loads and the\necmascript works but I have the following problem:\n\n>> Batik 1.5.1\n>> JSVGCanvas in Java applet\n>> setURI(url.toString()) called from init() is OK in all cases\n>> \n>> setURI(url.toString()) called from UserAgent openLink() is:\n>>         OK from Windows I.E. or Firefox with \"http:\" URL\n>>         OK on Linux console if a \"file:\" URL is used to load the\napplet\n>>         HANGS on Linux console if an \"http:\" URL is used to load the\n>>                 applet (Mozilla or Firefox, Java 1.4.2 or Java 1.5.0)\n>> \n\n>...I noticed that when this problem occurs, the last entry in\n>/var/log/httpd/access_log is \"...GET\n>/java/org/mozilla/javascript/optimizer/InvokerImpl.class...\" so I tried\n>js.jar WITH the optimizer directory (not stripped as discussed in a\n>thread last fall).  I got a security exception as expected but setURI()\n>succeeded.\n\nThese threads discuss the problem:\n\nhttp://mail-archives.eu.apache.org/mod_mbox/xmlgraphics-batik-users/200410.mbox/%3c1097086626.4691.177.camel@ecs.energycontrolsystems.com%3e\n\nhttp://mail-archives.eu.apache.org/mod_mbox/xmlgraphics-batik-users/200501.mbox/%3c41DF0BDE.1080709@freemail.hu%3e"}, {"count": 1, "tags": [], "text": "This is now fixed in CVS.", "attachment_id": null, "bug_id": 34168, "id": 72970, "time": "2005-03-29T14:42:05Z", "creator": "deweese@apache.org", "creation_time": "2005-03-29T14:42:05Z", "is_private": false}]