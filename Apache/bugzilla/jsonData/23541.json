[{"count": 0, "tags": [], "creator": "hauser@acm.org", "attachment_id": null, "is_private": false, "id": 44946, "time": "2003-10-01T12:31:45Z", "bug_id": 23541, "creation_time": "2003-10-01T12:31:45Z", "text": "if the class is found but some import not, mention this specifically!!\nSince I have the target also print the directory path and then verify it \nmanually, I cannot imaging that the classes proper are not found...\n\nThe current error message is not all to helpful ...    :(\n\nBackground:\n===========\nSomebody sent me two *.java files I can compile in my eclipse, but ant fails to\nrecognize them as tasks even though the provider says he has it running with the\nsame build.xml snippet:\n\n<<It's not clear to me why your example isn't working, though, it seems\nbasically correct.\n\nChris\n\n\n> \n>     <property name=\"dumpFields_dir\"\n>        location=\"${basedir}/WEB-INF/classes/net/sf/cglib/transform\"/>\n>     <property name=\"myProjClasses_dir\"\n>          location=\"${build.dir}/com/myDom/myProj\"/>\n> \n> <path id=\"dumpFileClasspath.path\">\n>    <pathelement location=\"${dumpFields_dir}\"/>\n> </path>\n> \n> <target name=\"dumpfields\"><!-- depends=\"compile\"-->\n>   <echo message=\"${dumpFields_dir}\" />\n>     <taskdef name=\"dumpfields\" classpathref=\"dumpFileClasspath.path\"\n>        classname=\"net.sf.cglib.transform.DumpFieldsTask\" />\n>     <dumpfields outputFile=\"${javaConstFile}\">\n>        <fileset dir=\"${myProjClasses_dir}/business\">\n>             <include name=\"**/*.class\"/>\n>        </fileset>\n>     </dumpfields>\n> </target>\n> \n> I am getting:\n> \n> c:\\data\\\\eclipse\\workspace\\myProj>ant dumpfields\n> Buildfile: build.xml\n> \n> dumpfields:\n>      [echo]\n> C:\\data\\eclipse\\workspace\\myProj\\WEB-INF\\classes\\net\\sf\\cglib\\transform\n> \n> BUILD FAILED\n> file:c:/data/eclipse/workspace/myProj/build.xml:65: taskdef class \n> net.sf.cglib.transform.DumpFieldsTask cannot be found\n> \n> Total time: 3 seconds\n> \n> c:\\data\\eclipse\\workspace\\myProj>dir\n> C:\\data\\eclipse\\workspace\\privaLope\\WEB-INF\\classes\\net\\sf\\cglib\\tra\n> nsform\n>  Volume Serial Number is 1A25-17E1\n> \n>  Directory of\n> C:\\data\\eclipse\\workspace\\myProj\\WEB-INF\\classes\\net\\sf\\cglib\\transform\n> \n> 29.09.2003  19:50       <DIR>          .\n> 29.09.2003  19:50       <DIR>          ..\n> 29.09.2003  19:53                1'726 DumpFieldsTask.class\n> 29.09.2003  19:53                2'042 DumpFieldsTask$1.class\n> 29.09.2003  19:53                2'569 AbstractProcessTask.class\n>                3 File(s)          6'337 bytes>>"}, {"count": 1, "tags": [], "bug_id": 23541, "text": "Created attachment 8534\nthis patch to AntClassLoader.java may save many people a lot of worries!", "id": 45413, "time": "2003-10-11T09:46:23Z", "creator": "hauser@acm.org", "creation_time": "2003-10-11T09:46:23Z", "is_private": false, "attachment_id": 8534}, {"count": 2, "tags": [], "bug_id": 23541, "attachment_id": null, "is_private": false, "id": 45415, "time": "2003-10-11T10:22:37Z", "creator": "hauser@acm.org", "creation_time": "2003-10-11T10:22:37Z", "text": "similar problems with inner classes are reported in\nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=23741"}, {"count": 3, "tags": [], "text": "o.k. Thanks to Stefan, I figured that my class-path went too close to the real file.\n\nTherefore, my suggestion alter the current error message as follows to prevent\n\"classpath-conventions-ignorants\" like myself from endless trials:\n\nCurrent:\n<<C:\\data\\MyDocRalf\\bin\\Java\\jars\\eclipse\\workspace\\privaLope\\build.xml:76:\ntaskdef class net.sf.cglib.transform.DumpFieldsTask cannot be found>>\n\nSuggestions:\n1)<<Could not find Class net.sf.cglib.transform.DumpFieldsTask.class in\nC:\\data\\MyProj\\WEB-INF\\classes\\net\\sf\\cglib\\transform (the \".\" in the classname\nwill converted into path delimiters as per your platform.)\"\n\n\n2) debug case:\nCurrent: <<Finding class net.sf.cglib.transform.DumpFieldsTask>>\n\nSuggestion: as per my\nhttp://nagoya.apache.org/bugzilla/showattachment.cgi?attach_id=8534\n<<C:\\data\\MyProj\\WEB-INF\\classes\\net\\sf\\cglib\\transform (the \".\" in the\nclassname will converted into path delimiters as per your platform.\n\n- did you specify a path that is too deep?\n- did you put the directory of a jar file into the path instead of the jar itself?\nsee also http://ant.apache.org/manual/using.html#path>>\n\nPerhaps, it would also be useful to:\n3) enhance http://ant.apache.org/manual/using.html#path with a reference to the\nofficial java classpath conventions\n4) or mention the important parts of the classpath convention there", "is_private": false, "id": 45525, "creator": "hauser@acm.org", "time": "2003-10-13T15:03:39Z", "bug_id": 23541, "creation_time": "2003-10-13T15:03:39Z", "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 23541, "is_private": false, "id": 45560, "time": "2003-10-14T03:44:22Z", "creator": "hauser@acm.org", "creation_time": "2003-10-14T03:44:22Z", "tags": [], "text": "another safeguard would be to warn users who do not have dots \".\" in their class\nname that they most likely are forgetting that the \"classpath\" is basically a\n\"classROOTpath\" and need not to go up to the very file.\n==> can the fully qualified classname be made mandatory?"}, {"count": 5, "attachment_id": null, "bug_id": 23541, "text": "see also Bug 43982", "id": 111206, "time": "2007-11-28T07:53:20Z", "creator": "hauser@acm.org", "creation_time": "2007-11-28T07:53:20Z", "tags": [], "is_private": false}]