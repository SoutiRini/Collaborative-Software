[{"count": 0, "tags": [], "bug_id": 3868, "attachment_id": null, "id": 6163, "time": "2001-09-28T07:43:17Z", "creator": "sdupre@allaire.com", "creation_time": "2001-09-28T07:43:17Z", "is_private": false, "text": "<%@taglib uri=\"http://jakarta.apache.org/taglibs/io-1.0\" prefix=\"io\" %>\n<io:http url=\"http://www.allaire.com\" action=\"get\" />\n\nOur JRun 3.1 server has tag caching.  When we use this in a JSP, we get the \npage the first time but not the second during refresh of the browser.\n\nSteps:\n1.  If you have JRun 3.1 16777 or higher \nNT\nhttp://download1.allaire.com/publicdl/en/jrun/31/jr31_MPSB_03_04_05_06.exe \nUnix/Linux\nhttp://download1.allaire.com/publicdl/en/jrun/31/jr31_MPSB_03_04_05_06.sh\n\ninstalled and the default server running.  (No key is required).\n\nThe install should pretty much get you running.  NT starts up immediately and \nbrings you to http://localhost:8000 - our html admin server.  The default \nserver and web server you'll use is on http://localhost:8100.\n\nGoing to http://localhost:8100/demo should bring up a 'demo' examples page when \nthe install is complete and default server running.\n\nDo the following:\n\nFile 26888.zip will be mailed or included - it contains a subset of the Jakarta \ntag library - enough to run io:http\n\nIt contains tagtest.jsp, io.jar, web.xml and io.tld files.\n\n-Place tagtest.jsp in web-app root (like /JRun/default/demo-app).\n-Place web.xml and io.tld in /JRun/default/demo-app/WEB-INF. \n(if you're using JRun/default/demo-app, rename the existing web.xml to \nweb.xml.orig first)\n\n-Place io.jar in \\JRun\\default\\demo-app\\WEB-INF\\lib\n\n- Restart JRuns Default server and and run tagtest.jsp.\n\nUnix - cd /usr/jrun/bin\njrun -start default &\n\nNT\nright mouse on the 'default server' in the sys tray and pick restart.\n\nwhen the server is up (10 seconds or less), browse to\n\nhttp://localhost:8100/demo/tagtest.jsp\n\nThe Allaire home page will display (WITHOUT IMAGES - THIS IS OK).  \n- Click the browser refresh button - it now shows blank.\n\nWe found a workaround:  (and a bug according to Tom Reilly \n(treilly@allaire.com - the JRun developer).\n\n(JRun) 3.0 didn't reuse tag handlers, 3.1 does.  This relies on a \nproperly coded release method which was the problem with the tag in question.\n\nLook at the initialization in the release method and compare that to the \nrelease method.  The release method should be setting output to true. \n\nWorkaround:\nSet the output=\"true\" in the properties\n\nChange:\n<io:http url=\"http://www.allaire.com\" action=\"GET\" />\nto\n<io:http url=\"http://www.allaire.com\" action=\"GET\" output=\"true\" />\n\nYou could also make this a REQUIRED attribute so you get a \"REQUIRED \nattribute\"  error when someone leaves it off (until the bug is fixed).\n\nIn io.tld, make sure it has the following:\n\n<name>http</name>\n<tagclass>org.apache.taglibs.io.HttpTag</tagclass>\n<bodycontent>JSP</bodycontent>\n<attribute>\n<name>url</name>\n<required>true</required>\n<rtexprvalue>true</rtexprvalue>\n</attribute>\n<attribute>\n<name>output</name>\n<required>false</required>\n<rtexprvalue>true</rtexprvalue>\n</attribute>\n<attribute>"}, {"count": 1, "tags": [], "bug_id": 3868, "attachment_id": 608, "id": 6164, "time": "2001-09-28T07:45:47Z", "creator": "sdupre@allaire.com", "creation_time": "2001-09-28T07:45:47Z", "is_private": false, "text": "Created attachment 608\nContains all files required for bug except copy of JRun."}, {"count": 2, "tags": [], "creator": "jstrachan@apache.org", "attachment_id": null, "is_private": false, "id": 9089, "time": "2001-12-20T07:25:36Z", "bug_id": 3868, "creation_time": "2001-12-20T07:25:36Z", "text": "Hi Stephen\n\nSorry for the long delay getting back to this one. Artem Grigoryan found the \nissue with this one - the instance variable output was erroneously being set to \nfalse rather than true.\n\nThis fix has been applied and is now in CVS so the next nightly build should \nwork fine I think.\n\nJames\n\n*** This bug has been marked as a duplicate of 5450 ***"}]