[{"count": 0, "tags": [], "bug_id": 43157, "text": "Trying to save in BXE or Kupu ends up failing. \n\nSocketListener0-8 ERROR sitemap.handled-errors - Sitemap: error calling function\n'selectMethod'\n        at <map:call> -\nfile:///home/rfrovarp/asf/base/lenya-2.0.x/build/lenya/webapp/lenya/modules/webdav/sitemap.xmap:143:43\n        at <map:mount> -\nfile:///home/rfrovarp/asf/base/lenya-2.0.x/build/lenya/webapp/lenya/pubs/default/sitemap.xmap:95:135\n        at <map:mount> -\nfile:///home/rfrovarp/asf/base/lenya-2.0.x/build/lenya/webapp/global-sitemap.xmap:429:117\n        at <map:mount> -\nfile:///home/rfrovarp/asf/base/lenya-2.0.x/build/lenya/webapp/sitemap.xmap:670:106\norg.apache.cocoon.ProcessingException: Sitemap: error calling function\n'selectMethod'\n        at <map:call> -\nfile:///home/rfrovarp/asf/base/lenya-2.0.x/build/lenya/webapp/lenya/modules/webdav/sitemap.xmap:143:43\n        at <map:mount> -\nfile:///home/rfrovarp/asf/base/lenya-2.0.x/build/lenya/webapp/lenya/pubs/default/sitemap.xmap:95:135\n        at <map:mount> -\nfile:///home/rfrovarp/asf/base/lenya-2.0.x/build/lenya/webapp/global-sitemap.xmap:429:117\n        at <map:mount> -\nfile:///home/rfrovarp/asf/base/lenya-2.0.x/build/lenya/webapp/sitemap.xmap:670:106\n        at\norg.apache.cocoon.ProcessingException.throwLocated(ProcessingException.java:113)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.CallFunctionNode.invoke(CallFunctionNode.java:141)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n        at\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n        at\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:177)\n        at\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:254)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:118)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.SelectNode.invoke(SelectNode.java:98)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n        at\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n        at\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:177)\n        at\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:254)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:118)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.SelectNode.invoke(SelectNode.java:98)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n        at\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n        at\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:177)\n        at\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:254)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:118)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.ActTypeNode.invoke(ActTypeNode.java:139)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n        at\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n        at\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:177)\n        at\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:254)\n        at org.apache.cocoon.Cocoon.process(Cocoon.java:699)\n        at org.apache.cocoon.servlet.CocoonServlet.service(CocoonServlet.java:1154)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n        at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:427)\n        at\norg.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:475)\n        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:567)\n        at org.mortbay.http.HttpContext.handle(HttpContext.java:1565)\n        at\norg.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:635)\n        at org.mortbay.http.HttpContext.handle(HttpContext.java:1517)\n        at\norg.mortbay.jetty.plus.PlusWebAppContext.handle(PlusWebAppContext.java:158)\n        at org.mortbay.http.HttpServer.service(HttpServer.java:954)\n        at org.mortbay.http.HttpConnection.service(HttpConnection.java:814)\n        at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:981)\n        at org.mortbay.http.HttpConnection.handle(HttpConnection.java:831)\n        at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)\n        at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)\n        at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)\nCaused by: org.mozilla.javascript.WrappedException: Wrapped\norg.apache.cocoon.ProcessingException: Sitemap: error calling function 'put'\n        at <map:call> -\nfile:///home/rfrovarp/asf/base/lenya-2.0.x/build/lenya/webapp/lenya/modules/webdav/sitemap.xmap:247:36\n(file:///home/rfrovarp/asf/base/lenya-2.0.x/build/lenya/webapp/lenya/modules/web\ndav/webdav.js#62)\n        at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1693)\n        at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160)\n        at org.mozilla.javascript.FunctionObject.call(FunctionObject.java:471)\n        at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:3085)\n        at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:2251)\n        at\norg.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:161)\n        at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:340)\n        at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:2758)\n        at\norg.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:159)\n        at org.mozilla.javascript.ScriptRuntime.call(ScriptRuntime.java:915)\n        at\norg.apache.cocoon.components.flow.javascript.fom.FOM_JavaScriptInterpreter.callFunction(FOM_JavaScriptInterpreter.java:764)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.CallFunctionNode.invoke(CallFunctionNode.java:139)\n        ... 62 more\nCaused by: org.apache.cocoon.ProcessingException: Sitemap: error calling\nfunction 'put'\n        at <map:call> -\nfile:///home/rfrovarp/asf/base/lenya-2.0.x/build/lenya/webapp/lenya/modules/webdav/sitemap.xmap:247:36\n        at\norg.apache.cocoon.ProcessingException.throwLocated(ProcessingException.java:113)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.CallFunctionNode.invoke(CallFunctionNode.java:141)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:47)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.MatchNode.invoke(MatchNode.java:108)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:143)\n        at\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:69)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:93)\n        at\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.process(ConcreteTreeProcessor.java:235)\n        at\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.handleCocoonRedirect(ConcreteTreeProcessor.java:299)\n        at\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor.access$000(ConcreteTreeProcessor.java:48)\n        at\norg.apache.cocoon.components.treeprocessor.ConcreteTreeProcessor$TreeProcessorRedirector.cocoonRedirect(ConcreteTreeProcessor.java:340)\n        at\norg.apache.cocoon.environment.ForwardRedirector.redirect(ForwardRedirector.java:60)\n        at\norg.apache.cocoon.components.flow.AbstractInterpreter.forwardTo(AbstractInterpreter.java:210)\n        at\norg.apache.cocoon.components.flow.javascript.fom.FOM_JavaScriptInterpreter.forwardTo(FOM_JavaScriptInterpreter.java:865)\n        at\norg.apache.cocoon.components.flow.javascript.fom.FOM_Cocoon.forwardTo(FOM_Cocoon.java:701)\n        at\norg.apache.cocoon.components.flow.javascript.fom.FOM_Cocoon.jsFunction_sendPage(FOM_Cocoon.java:270)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:145)\n        ... 72 more\nCaused by: org.mozilla.javascript.WrappedException: Wrapped\njava.lang.IllegalStateException: No transition found for event\n[lockInvolvedObjects] in state [start]! (file:///home/rfrovarp/asf/base/lenya-2.0.x/\nbuild/lenya/webapp/lenya/modules/webdav/webdav.js#183)\n        at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1693)\n        at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:160)\n        at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:204)\n        at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:3085)\n        at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:2251)\n        at\norg.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:161)\n        at org.mozilla.javascript.ScriptRuntime.call(ScriptRuntime.java:915)\n        at\norg.apache.cocoon.components.flow.javascript.fom.FOM_JavaScriptInterpreter.callFunction(FOM_JavaScriptInterpreter.java:764)\n        at\norg.apache.cocoon.components.treeprocessor.sitemap.CallFunctionNode.invoke(CallFunctionNode.java:139)\n        ... 92 more\nCaused by: java.lang.IllegalStateException: No transition found for event\n[lockInvolvedObjects] in state [start]!\n        at\norg.apache.lenya.cms.usecase.StateMachine.checkTransition(StateMachine.java:72)\n        at org.apache.lenya.cms.usecase.StateMachine.invoke(StateMachine.java:40)\n        at\norg.apache.lenya.cms.usecase.AbstractUsecase.advanceState(AbstractUsecase.java:101)\n        at\norg.apache.lenya.cms.usecase.AbstractUsecase.lockInvolvedObjects(AbstractUsecase.java:772)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at\norg.apache.avalon.excalibur.component.ComponentProxyGenerator$ComponentInvocationHandler.invoke(ComponentProxyGenerator.java:143)\n        at $Proxy52.lockInvolvedObjects(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:145)\n        ... 99 more", "id": 106864, "time": "2007-08-17T09:49:48Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-08-17T09:49:48Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "text": "The response when saving: 415 Unsupported media type", "id": 106910, "time": "2007-08-19T10:42:28Z", "bug_id": 43157, "creation_time": "2007-08-19T10:42:28Z", "is_private": false}, {"count": 2, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "text": "The problem is that the webdav.js session is not the same one which checked out\nthe nodes.", "id": 106911, "time": "2007-08-19T10:47:07Z", "bug_id": 43157, "creation_time": "2007-08-19T10:47:07Z", "is_private": false}]