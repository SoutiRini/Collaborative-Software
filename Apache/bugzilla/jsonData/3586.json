[{"count": 0, "tags": [], "bug_id": 3586, "attachment_id": null, "id": 5470, "time": "2001-09-13T07:02:10Z", "creator": "tedx@elegiant.com", "creation_time": "2001-09-13T07:02:10Z", "is_private": false, "text": "I use java code in script tasks to do things like bump a version number stored \nin java source based on the type of build being done. In this case I wanted to \nhave other tasks in my build use the version number that was calculated in the \nscript task but because a script is treated as a subproject there was no way to \ncommunicate this information back to the main project. So what I did was make \nminor changes to Ant.java and Project.java to build a parent relationship. In \nAnt I added on line to init:\n\n    public void init() {\n        p1 = new Project();\n*p1.setParent(project);\n        p1.setJavaVersionProperty();\n        p1.addTaskDefinition(\"property\", \n                             (Class)project.getTaskDefinitions().get\n(\"property\"));\n    }"}, {"count": 1, "tags": [], "text": "In Project.java I added a parent attribute and parent accessors.\n\nIn my build.xml script code I then get the parent project of the script task \nand use setUserProperty to \"return\" the version number amkeing it accessible to \nother tasks in the main project.", "is_private": false, "id": 5472, "creator": "tedx@elegiant.com", "time": "2001-09-13T07:06:45Z", "bug_id": 3586, "creation_time": "2001-09-13T07:06:45Z", "attachment_id": null}, {"count": 2, "text": "Is this an enhancement that could be added to the source base?", "bug_id": 3586, "attachment_id": null, "id": 5473, "time": "2001-09-13T07:08:55Z", "creator": "tedx@elegiant.com", "creation_time": "2001-09-13T07:08:55Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 3586, "attachment_id": null, "id": 12593, "time": "2002-04-01T02:22:23Z", "creator": "holtdl@yahoo.com", "creation_time": "2002-04-01T02:22:23Z", "is_private": false, "text": "There are already ways to do this."}]