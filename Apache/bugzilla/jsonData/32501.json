[{"count": 0, "tags": [], "creator": "jglick@apache.org", "attachment_id": null, "is_private": false, "id": 67826, "time": "2004-12-02T22:55:24Z", "bug_id": 32501, "creation_time": "2004-12-02T22:55:24Z", "text": "Partial deprecation of FileUtils.createTempFile, in the spirit of using standard\nJava APIs whenever they suffice, for both readability and maintainability.\n\nAlso using the default ${java.io.tmpdir} rather than getProject().getBaseDir()\nin AbstractMetamataTask (no documented change) and JUnitTask (change of\ndocumented default), both to avoid leaving crud in a project directory in case\nthe Ant process is killed, and to avoid problems in case the project directory\nis read-only.\n\nAlso a change to use a particular dir (generally dir of target file) rather than\n${java.io.tmpdir} in ReplaceRegExp and FixCRLF, so FileUtils.rename need not\ncross drive/mount boundaries (may be more efficient). Zip and Replace were\nalready doing this.\n\nI have tried to leave untouched any usages of FileUtils.createTempFile which\nactually depended on the file *not* existing after the call, at least according\nto my understanding of the surrounding code. This seems to be relatively uncommon.\n\nAdvance code reviews welcome."}, {"attachment_id": 13629, "tags": [], "bug_id": 32501, "text": "Created attachment 13629\nProposed patch", "count": 1, "id": 67827, "time": "2004-12-02T22:56:29Z", "creator": "jglick@apache.org", "creation_time": "2004-12-02T22:56:29Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 32501, "attachment_id": null, "id": 119986, "time": "2008-08-21T06:19:04Z", "creator": "bodewig@apache.org", "creation_time": "2008-08-21T06:19:04Z", "is_private": false, "text": "probably long obsoleted by changes over the past four years"}, {"count": 3, "text": "FileUtils.createTempFile does indeed have a new createFile parameter which does what my patch did. JUnitTask.createTempPropertiesFile still uses the project basedir by default, which is a bad idea. I haven't checked which other parts of the patch are still applicable.", "creator": "jglick@apache.org", "attachment_id": null, "id": 120004, "time": "2008-08-21T17:20:36Z", "bug_id": 32501, "creation_time": "2008-08-21T17:20:36Z", "tags": [], "is_private": false}]