[{"count": 0, "tags": [], "creator": "andreas@apache.org", "text": "We're facing a serious problem with the\no.a.l.cms.ant.LinkRewriteTask.\n\nIt serves the following purpose:\n\n- you move a document /foo/bar to\n  foo/bar2 (-> change document ID)\n\n- the task replaces all internal links to this\n  document\n\nThis works fine for links to /foo/bar.\nBut what about links to /foo/bar/baz?\nThey are not rewritten to foo/bar2/baz.", "id": 60049, "time": "2004-06-29T15:03:02Z", "bug_id": 29861, "creation_time": "2004-06-29T15:03:02Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "roku@apache.org", "text": "Shouldn't be fixed in 1.2.1\nbecause of the major impact on the code base.\nUnless someone finds a way to fix them without much\neffort, it is fine with me to defer them to 1.4.\n", "id": 63718, "time": "2004-09-17T08:58:44Z", "bug_id": 29861, "creation_time": "2004-09-17T08:58:44Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "Added lenya-dev@cocoon.apache.org to CC-list.", "is_private": false, "id": 63726, "creator": "A.Kuckartz@ping.de", "time": "2004-09-17T14:09:58Z", "bug_id": 29861, "creation_time": "2004-09-17T14:09:58Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "gregor@apache.org", "text": "deferred", "id": 65685, "time": "2004-10-26T02:18:26Z", "bug_id": 29861, "creation_time": "2004-10-26T02:18:26Z", "is_private": false, "attachment_id": null}, {"attachment_id": 14279, "tags": [], "bug_id": 29861, "is_private": false, "count": 4, "id": 70958, "time": "2005-02-14T22:36:45Z", "creator": "thomas@wyona.com", "creation_time": "2005-02-14T22:36:45Z", "text": "Created attachment 14279\nlinkRewrite.xsl.diff\n\nPatch rewrites uri segments in links to children of renamed docs according to\nthe docs new url.\n\nAlso fixes an issue with links to default language docs containing language\nsuffixes not being rewritten correctly."}, {"count": 5, "tags": [], "text": "Created attachment 14280\nLinkRewriteTask.java\n\nsee linkRewrite.xsl", "is_private": false, "id": 70959, "creator": "thomas@wyona.com", "time": "2005-02-14T22:37:26Z", "bug_id": 29861, "creation_time": "2005-02-14T22:37:26Z", "attachment_id": 14280}, {"attachment_id": null, "tags": [], "bug_id": 29861, "text": "Above patches only fix issues after renaming docs. Links to moved (cut/paste)\ndocs are still broken.", "count": 6, "id": 70960, "time": "2005-02-14T22:40:06Z", "creator": "thomas@wyona.com", "creation_time": "2005-02-14T22:40:06Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 29861, "attachment_id": null, "text": "applied for 1.2. does not work on 1.4, unfortunately:\n\nCompiling 1 source file to C:\\src\\lenya-trunk\\build\\lenya\\tools\\anttasks\nC:\\src\\lenya-trunk\\src\\java\\org\\apache\\lenya\\cms\\ant\\LinkRewriteTask.java:255:\nbuildCanonicalUrl(org.apache.lenya.cms.publication.Publication,java.lang.String,java.lang.String,java.lang.String)\nin org.apache.lenya.cms.publication.DocumentBuilder cannot be applied to\n(org.apache.lenya.cms.publication.Publication,java.lang.String,java.lang.String)\n            getContextPrefix() + builder.buildCanonicalUrl(publication, _area,\n_oldDocumentId);\n                                        ^\nC:\\src\\lenya-trunk\\src\\java\\org\\apache\\lenya\\cms\\ant\\LinkRewriteTask.java:257:\nbuildCanonicalUrl(org.apache.lenya.cms.publication.Publication,java.lang.String,java.lang.String,java.lang.String)\nin org.apache.lenya.cms.publication.DocumentBuilder cannot be applied to\n(org.apache.lenya.cms.publication.Publication,java.lang.String,java.lang.String)\n            getContextPrefix() + builder.buildCanonicalUrl(publication, _area,\n_newDocumentId);\n                                        ^\n2 errors\n\n\nplease provide an updated patch for 1.4", "id": 70984, "time": "2005-02-15T06:18:48Z", "creator": "gregor@apache.org", "creation_time": "2005-02-15T06:18:48Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 29861, "attachment_id": 14287, "is_private": false, "id": 71000, "time": "2005-02-15T15:41:26Z", "creator": "thomas@wyona.com", "creation_time": "2005-02-15T15:41:26Z", "text": "Created attachment 14287\nLinkRewriteTask.java\n\nUpdated patch, again 1.2.2-dev only. Will submit patches for 1.4 ASAP."}, {"count": 9, "tags": [], "creator": "thomas@wyona.com", "text": "Had a look at 1.4 (I'm not familiar with 1.4 bwt). Anyway, I wont have the time\nto fix what's broken there till 2-3 weeks from now. \n\nPlease apply the latest attached patch to 1.2.2-dev for now. \n\nThank you...", "id": 71026, "time": "2005-02-15T18:59:41Z", "bug_id": 29861, "creation_time": "2005-02-15T18:59:41Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 29861, "is_private": false, "count": 10, "id": 71307, "time": "2005-02-21T14:33:17Z", "creator": "egli@apache.org", "creation_time": "2005-02-21T14:33:17Z", "text": "Andreas checked in the new java code to do link rewriting. I would say this\nobsoletes the patches that you had for the linkrewrite.xml (which is no longer\nused). I guess we can set this bug to fixed as soon as the fixes are ported to\nthe trunk.\n"}, {"count": 11, "tags": [], "text": "Ported to the trunk.", "is_private": false, "id": 71406, "creator": "andreas@apache.org", "time": "2005-02-23T16:33:11Z", "bug_id": 29861, "creation_time": "2005-02-23T16:33:11Z", "attachment_id": null}]