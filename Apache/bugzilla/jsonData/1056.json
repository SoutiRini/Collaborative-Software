[{"count": 0, "tags": [], "creator": "tom@58k.com", "attachment_id": null, "id": 1480, "time": "2001-03-20T17:27:35Z", "bug_id": 1056, "creation_time": "2001-03-20T17:27:35Z", "is_private": false, "text": "The jikes compiler code in JikesJavaCompiler.java has extra quotes around\nthe arguments to the exec command.\n\nHere's the patch to fix it:\n\n--- jakarta-tomcat/src/share/org/apache/jasper/compiler/JikesJavaCompiler.java\t\nSun Jan 14 15:45:40 2001\n+++ \njakarta-tomcat-new/src/share/org/apache/jasper/compiler/JikesJavaCompiler.java\t\nTue Mar 20 20:17:37 2001\n@@ -67,6 +67,7 @@\n import java.io.File;\n import java.io.ByteArrayOutputStream;\n \n+\n /**\n   * A Plug-in class for specifying a 'jikes' compile.\n   *\n@@ -161,25 +162,26 @@\n \n         String[] compilerCmd;\n         if (classDebugInfo) {\n-\t    compilerCmd = new String[] {\n-\t\t\"\\\"\" + compilerPath + \"\\\"\",\n-                \"-g\",\n-\t\t//XXX - add encoding once Jikes supports it\n-\t\t\"-classpath\", \"\\\"\" + classpath + MicrosoftClasspath + \"\\\"\",\n-\t\t\"-d\", \"\\\"\" + outdir + \"\\\"\",\n-\t\t\"-nowarn\",\n-\t\t\"\\\"\" + source + \"\\\"\"\n-\t    };\n+\t    \t    compilerCmd = new String[] {\n+\t    \t\tcompilerPath,\n+\t                 \"-g\",\n+\t    \t\t//XXX - add encoding once Jikes supports it\n+\t    \t\t\"-classpath\", classpath,\n+\t    \t\t\"-d\", outdir,\n+\t    \t\t\"-nowarn\",\n+\t    \t\tsource \n+\t    \t    };\n         } else {\n-\t    compilerCmd = new String[] {\n-\t\t\"\\\"\" + compilerPath + \"\\\"\",\n-\t\t//XXX - add encoding once Jikes supports it\n-\t\t\"-classpath\", \"\\\"\" + classpath + MicrosoftClasspath + \"\\\"\",\n-\t\t\"-d\", \"\\\"\" + outdir + \"\\\"\",\n-\t\t\"-nowarn\",\n-\t\t\"\\\"\" + source + \"\\\"\"\n-\t    };\n+\t        compilerCmd = new String[] {\n+\t    \t\tcompilerPath,\n+\t\t\t\"-encoding\", \"UTF8\",\n+\t    \t\t\"-classpath\", classpath,\n+\t    \t\t\"-d\",  outdir,\n+\t    \t\t\"-nowarn\",\n+\t    \t\tsource \n+\t    \t    };\n \t}\n+\n \n         ByteArrayOutputStream tmpErr = new \nByteArrayOutputStream(OUTPUT_BUFFER_SIZE);\n \ttry {"}, {"count": 1, "tags": [], "bug_id": 1056, "attachment_id": 52, "id": 1481, "time": "2001-03-20T17:28:20Z", "creator": "tom@58k.com", "creation_time": "2001-03-20T17:28:20Z", "is_private": false, "text": "Created attachment 52\nPatch"}, {"count": 2, "attachment_id": null, "bug_id": 1056, "text": "This is under version 3.3 - there is no 3.3 option on the pulldown.", "id": 1482, "time": "2001-03-20T17:29:15Z", "creator": "tom@58k.com", "creation_time": "2001-03-20T17:29:15Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "text": "Your patch was not used at all :(, very unfriendly with Windows guys ( as me )..\n\nPlease test it.", "attachment_id": null, "bug_id": 1056, "id": 1591, "time": "2001-03-25T05:38:06Z", "creator": "nacho@apache.org", "creation_time": "2001-03-25T05:38:06Z", "is_private": false}]