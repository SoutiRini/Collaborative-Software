[{"count": 0, "tags": [], "text": "Created attachment 33831\nBuild file from Bug 41307 to demonstrate the bug\n\nLines 38-39 of src/script/ant look like an attempted fix for Bug 41307:\n\n# wrap all arguments as \"\" strings, escape any internal back-slash or double-quote characters\nant_exec_args=\"$ant_exec_args \\\"$(printf '%s' \"$arg\" | sed -e 's@\"\\|\\\\@\\\\\\0@g' )\\\"\"\n\nHowever, they fail to account for backticks, and therefore backtick arguments are evaluated before ant starts.\n\n$ ant -Dthis.variable='`cd /tmp; pwd`' -f tt.xml test                                                                                                                                                                                                                                                                                                                                                                 \nBuildfile: /tmp/tt.xml\n\ntest:\n     [echo] Ant version: Apache Ant(TM) version 1.9.7 compiled on April 24 2016\n     [echo] this.variable: /tmp\n     [exec] /tmp\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n\n$ ant '-Dthis.variable=`cat /etc/shadow`' -f tt.xml test\ncat: /etc/shadow: Permission denied\nBuildfile: /tmp/tt.xml\n\ntest:\n     [echo] Ant version: Apache Ant(TM) version 1.9.7 compiled on April 24 2016\n     [echo] this.variable: \n     [exec] \n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n\nwith the attached tt.xml file.\n\nTo fix this issue, I propose to change lines 38-39 of the script to:\n\n# wrap all arguments as \"\" strings, escape any internal double-quote, backtick or backslash characters\nant_exec_args=\"$ant_exec_args \\\"$(printf '%s' \"$arg\" | sed -e 's@\"\\|`\\|\\\\@\\\\\\0@g' )\\\"\"", "is_private": false, "bug_id": 59445, "id": 190789, "time": "2016-05-09T18:36:06Z", "creator": "mail@lucaswerkmeister.de", "creation_time": "2016-05-09T18:36:06Z", "attachment_id": 33831}, {"count": 1, "tags": [], "bug_id": 59445, "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of bug 60150 ***", "id": 194060, "time": "2016-09-28T19:05:05Z", "creator": "bodewig@apache.org", "creation_time": "2016-09-28T19:05:05Z", "attachment_id": null}]