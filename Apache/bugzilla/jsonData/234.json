[{"count": 0, "attachment_id": null, "bug_id": 234, "text": "If a servlet sets more than one cookie using HttpServletResponse.addCookie(), one one of the cookies is actually returned in the response. This occurs because the HTTP header fields are returned by a mechanism which can return only one instance of each HTTP header field. \r\n\r\nSpecifically:\r\n\r\nAjp13ConnectorResponse.endHeaders(..) calls\r\nMimeHeaders.names() which returns a MimeHeadersEnumerator.\r\nThis Enumerator builds its list of values from a HashTable,\r\nfrom the comments \"to guarantee uniqueness\". The Ajp13..endHeaders() call then loops over this (unique) list of field names, passing each as the argument to MimeHeaders.getHeader(headerName), which returns one value (from observation, the first one set).\r\n", "id": 212, "time": "2000-11-10T22:47:30Z", "creator": "dev@tomcat.apache.org", "creation_time": "2000-11-10T22:47:30Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 234, "attachment_id": null, "text": "For query purposes, mark as fixed in Tomcat 3.3:\nFixed in Tomcat 3.3", "id": 583, "time": "2001-02-06T13:26:35Z", "creator": "Larry.Isaacs@sas.com", "creation_time": "2001-02-06T13:26:35Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 234, "is_private": false, "id": 38931, "attachment_id": null, "creator": "webmaster@flomerics.co.uk", "creation_time": "2003-06-16T16:14:01Z", "time": "2003-06-16T16:14:01Z", "text": "I am currently testing tomcat 4.1.24 (apache 2.0.40 & JK2 2.0.1) and have found \nthis bug re-appear.  The last cookie set is the only one that successfully \nsets.  The same code on our live web server works which is tomcat 3.2.2 (apache \n1.3.19 & jk)"}, {"count": 3, "attachment_id": null, "bug_id": 234, "text": "I am using tomcat 4.1.24, jk2 and apache 2.0.43, and I have the same problem.", "id": 39469, "time": "2003-06-26T09:56:46Z", "creator": "mvanr@bigfoot.com", "creation_time": "2003-06-26T09:56:46Z", "tags": [], "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 234, "is_private": false, "id": 40575, "time": "2003-07-13T19:10:02Z", "creator": "mvanr@bigfoot.com", "creation_time": "2003-07-13T19:10:02Z", "tags": [], "text": "I was using mod_jk2-2.0.43.so (jk2 v2.0.1) downloaded from the jakarta site, \nand it appears that the problem is related to this library.  I downloaded \njakarta-tomcat-connectors-4.1.24-src (jk2 v2.0.2), rebuilt the library, and the \ncookies now get through.  Unfortunately for some reason, only solaris and win32 \nbinaries are available from the jakarta site for v2.0.2, so linux users will \nhave to build their own...  This bug should probably be closed."}, {"count": 5, "tags": [], "text": "Closing bug as FIXED on the basis of Michael van Rooyen's previous post.", "attachment_id": null, "id": 43461, "creator": "medthomas@ntlworld.com", "time": "2003-08-28T21:49:07Z", "bug_id": 234, "creation_time": "2003-08-28T21:49:07Z", "is_private": false}]