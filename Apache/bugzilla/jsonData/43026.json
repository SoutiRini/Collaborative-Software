[{"count": 0, "tags": [], "bug_id": 43026, "text": "If Apache Configured As  NameVirtualHosts and in Vitrual Host section  define \nValue of Custom Log, Then mod deflate setting custom log not work in this \nvirtual host. for different Virtual Host (not define log options) all its fine, \nlog write in  /var/log/httpd/deflate_log\n\nhttpd.conf\n...SKIP....\nLoadModule deflate_module        /usr/lib/httpd/mod_deflate.so\nNameVirtualHost *:80\nInclude /etc/httpd/conf.d/mod_deflate.conf\nInclude /etc/httpd/conf/vhosts/\n\n---------------------------------\n/etc/httpd/conf.d/mod_deflate.conf\n\n\nAddOutputFilterByType DEFLATE text/html text/plain text/xml text/css \napplication/x-javascript\nAddOutputFilterByType DEFLATE text/*\nAddOutputFilterByType DEFLATE application/ms* application/vnd* \napplication/postscript application/x-httpd-php*\n<Location />\nSetOutputFilter DEFLATE\nBrowserMatch ^Mozilla/4 gzip-only-text/html\nBrowserMatch ^Mozilla/4\\.0[678] no-gzip\nBrowserMatch \\bMSIE !no-gzip !gzip-only-text/html\nBrowserMatch \\bMSI[E] !no-gzip !gzip-only-text/html\nSetEnvIfNoCase Request_URI \\\nSetEnvIfNoCase Request_URI \\\n\\.(?:exe|t?gz|zip|bz2|sit|rar)$ \\    no-gzip dont-vary\nSetEnvIfNoCase Request_URI \\.pdf$ no-gzip dont-vary\nHeader append Vary User-Agent env=!dont-vary\nSetEnvIf User-Agent .* force-no-vary\nSetEnvIf Accept-Encoding gzip !force-no-vary\nSetEnvIf Accept-Encoding deflate !force-no-vary\n\n</Location>\n\nDeflateCompressionLevel 9\nDeflateFilterNote Input instream\nDeflateFilterNote Output outstream\nDeflateFilterNote Ratio ratio\nLogFormat '%v \"%r\" %{outstream}n/%{instream}n (%{ratio}n%%) \"%{User-agent}i\"' \ndeflate\nCustomLog /var/log/httpd/deflate_log deflate\n\n\n---------------------------------\n/etc/httpd/conf/vhosts/fake_host.conf\n\n<VirtualHost *:80>\n        ServerAdmin web@____.com\n        DocumentRoot /home/web/htdocs\n        ServerName web.com\n        ServerAlias www.web.com\n        ErrorLog /home/web/logs/error.log\n        CustomLog /home/web/logs/access.log combined\n        <Directory /home/web/htdocs>\n                Options FollowSymLinks Multiviews -Indexes\n                AllowOverride All\n        </Directory>\n</VirtualHost>", "id": 106302, "time": "2007-08-03T09:16:51Z", "creator": "chodorenko@mail.ru", "creation_time": "2007-08-03T09:16:51Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 43026, "text": "This is expected and documented behavior:\nhttp://httpd.apache.org/docs/2.2/logs.html#virtualhost\n\nOnce a CustomLog is placed in a <VirtualHost>, the \"main server\" log will no\nlonger include entries for that host. You can simply add another CustomLog to\nthat <VirtualHost> in common or combined format to get the other info.", "id": 106306, "time": "2007-08-03T11:55:34Z", "creator": "slive@apache.org", "creation_time": "2007-08-03T11:55:34Z", "is_private": false, "attachment_id": null}]