[{"count": 0, "tags": [], "bug_id": 4780, "text": "Bug in: src\\main\\org\\apache\\tools\\ant\\types\\Path.java\n\nThe ant Path type does not include directories from a nested FileSet.  This \nmeans that there is no way to use a FileSet to include directories in a \nCLASSPATH or PATH, you'd have to specify them individually using nested \npathelements, which isn't workable in my situation.\n\nHere is a reasonable fix for this problem in the \"public String[] list()\" \nmethod (I just added the code for getting the included directories from the \nfileset). \n(I would be happy to commit this fix to the 1.5 nightly myself if I had a cvs \naccount, just let me know what I need to do.)\n\nStarting at line 301 of Path.java\n\n            } else if (o instanceof FileSet) {\n                FileSet fs = (FileSet) o;\n                DirectoryScanner ds = fs.getDirectoryScanner(project);\n                String[] s = ds.getIncludedFiles();\n                File dir = fs.getDir(project);\n                for (int j=0; j<s.length; j++) {\n                    File f = new File(dir, s[j]);\n                    String absolutePath = f.getAbsolutePath();\n                    addUnlessPresent(result, translateFile(absolutePath));\n                } \n                s = ds.getIncludedDirectories();\n                for (int j=0; j<s.length; j++) {\n                    File f = new File(dir, s[j]);\n                    String absolutePath = f.getAbsolutePath();\n                    addUnlessPresent(result, translateFile(absolutePath));\n                } \n\n            }\n\n\n\nThanks!\nBrian", "id": 7733, "time": "2001-11-09T12:42:32Z", "creator": "bmoriarty@polexis.com", "creation_time": "2001-11-09T12:42:32Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 4780, "text": "starting with nightly build 2002-04-03 Ant has a new data type <dirset> that can\nbe used as child element of <path>.  <dirset> is similar to <fileset> but\n<path> will use the included directories instead of the files.", "id": 12865, "time": "2002-04-05T14:42:50Z", "creator": "bodewig@apache.org", "creation_time": "2002-04-05T14:42:50Z", "tags": [], "is_private": false}]