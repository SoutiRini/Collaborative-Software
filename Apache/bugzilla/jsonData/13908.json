[{"count": 0, "tags": [], "bug_id": 13908, "attachment_id": null, "is_private": false, "id": 25071, "time": "2002-10-23T20:55:55Z", "creator": "TerryLaurenzo@amexbf.com", "creation_time": "2002-10-23T20:55:55Z", "text": "I began experimenting with using BEA JRockit VM (v7.0, sdk version 1.4.0). At \nfirst all seemed well. I was able to deploy and run applications through the \nAnt tasks. Then I restarted the Tomcat instance. It would not restart and \nlogged the following error to logs/stdout.txt and logs/stderr.txt:\n---------------------------- BEGIN\nCatalina.start: java.lang.IllegalAccessException: Class \norg.apache.commons.digester.ObjectCreateRule can not access a member of class \norg.apache.catalina.core.StandardContextValve with modifiers \"\"\njava.lang.IllegalAccessException: Class \norg.apache.commons.digester.ObjectCreateRule can not access a member of class \norg.apache.catalina.core.StandardContextValve with modifiers \"\"\n\tat org.apache.commons.digester.Digester.createSAXException\n(Ljava.lang.String;Ljava.lang.Exception;)Lorg.xml.sax.SAXException;(Unknown \nSource)\n\tat org.apache.commons.digester.Digester.createSAXException\n(Ljava.lang.Exception;)Lorg.xml.sax.SAXException;(Unknown Source)\n\tat org.apache.commons.digester.Digester.startElement\n(Ljava.lang.String;Ljava.lang.String;Ljava.lang.String;Lorg.xml.sax.Attributes;)\nV(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.startElement\n(Lorg.apache.xerces.xni.QName;Lorg.apache.xerces.xni.XMLAttributes;Lorg.apache.x\nerces.xni.Augmentations;)V(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement\n(Lorg.apache.xerces.xni.QName;Lorg.apache.xerces.xni.XMLAttributes;Lorg.apache.x\nerces.xni.Augmentations;)V(Unknown Source)\n\tat org.apache.xerces.impl.XMLNamespaceBinder.emptyElement\n(Lorg.apache.xerces.xni.QName;Lorg.apache.xerces.xni.XMLAttributes;Lorg.apache.x\nerces.xni.Augmentations;)V(Unknown Source)\n\tat org.apache.xerces.impl.dtd.XMLDTDValidator.emptyElement\n(Lorg.apache.xerces.xni.QName;Lorg.apache.xerces.xni.XMLAttributes;Lorg.apache.x\nerces.xni.Augmentations;)V(Unknown Source)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement()Z\n(Unknown Source)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(Z)Z(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Z)\nZ(Unknown Source)\n\tat org.apache.xerces.parsers.DTDConfiguration.parse(Z)Z(Unknown Source)\n\tat org.apache.xerces.parsers.DTDConfiguration.parse\n(Lorg.apache.xerces.xni.parser.XMLInputSource;)V(Unknown Source)\n\tat org.apache.xerces.parsers.XMLParser.parse\n(Lorg.apache.xerces.xni.parser.XMLInputSource;)V(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse\n(Lorg.xml.sax.InputSource;)V(Unknown Source)\n\tat org.apache.commons.digester.Digester.parse(Lorg.xml.sax.InputSource;)\nLjava.lang.Object;(Unknown Source)\n\tat org.apache.catalina.startup.Catalina.start()V(Unknown Source)\n\tat org.apache.catalina.startup.Catalina.execute()V(Unknown Source)\n\tat org.apache.catalina.startup.Catalina.process([Ljava.lang.String;)V\n(Unknown Source)\n\tat COM.jrockit.reflect.NativeMethodInvoker.invoke0(ILjava.lang.Object;\n[Ljava.lang.Object;)Ljava.lang.Object;(Unknown Source)\n\tat COM.jrockit.reflect.NativeMethodInvoker.invoke(Ljava.lang.Object;\n[Ljava.lang.Object;)Ljava.lang.Object;(Unknown Source)\n\tat COM.jrockit.reflect.VirtualNativeMethodInvoker.invoke\n(Ljava.lang.Object;[Ljava.lang.Object;)Ljava.lang.Object;(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Ljava.lang.Object;\n[Ljava.lang.Object;I)Ljava.lang.Object;(Unknown Source)\n\tat org.apache.catalina.startup.Bootstrap.main([Ljava.lang.String;)V\n(Unknown Source)\n-------------------------------- END\n\nI found this very odd since I have been working with this version of Tomcat for \nsome time with the Sun JVM(1.4.0) and never experienced this. Upon further \ninspection, I found that when the manager or admin application saves the \nserver.xml it differs substantially between the two VMs and this was the cause \nof the problem. When saved under JRockit, it adds a lot of extra listeners and \nvalves to the file that are not present when run with the SUN VM. Consequently, \nthe next time the system starts, it fails because these extra definitions throw \nexceptions. The immediate solution is to not use JRockit, but this is a \ntroubling problem -- it seems to be an awefully high level problem to be \nassociated to which VM you use. Anyway, here are copies of the configuration \nfiles generated when making the same sequence of changes in the admin app when \nrunning under JRockit (first) and Sun 1.4.0 (second):\n\n------------------------ BEGIN server.xml generated with JRockit ---------------\n<?xml version='1.0' encoding='utf-8'?>\n<Server className=\"org.apache.catalina.core.StandardServer\" debug=\"0\" port=\"0\" \nshutdown=\"SHUTDOWN\">\n  <Listener className=\"org.apache.catalina.core.NamingContextListener\" \ndebug=\"0\" name=\"/\"/>\n  <Listener className=\"org.apache.catalina.mbeans.ServerLifecycleListener\" \ndebug=\"0\"/>\n  <Listener \nclassName=\"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener\" \ndebug=\"0\"/>\n  <GlobalNamingResources>\n    <Environment name=\"simpleValue\" override=\"true\" type=\"java.lang.Integer\" \nvalue=\"30\"/>\n    <Resource auth=\"Container\" description=\"User database that can be updated \nand saved\" name=\"UserDatabase\" scope=\"Shareable\" \ntype=\"org.apache.catalina.UserDatabase\"/>\n    <Resource name=\"mail/default\" scope=\"Shareable\" type=\"javax.mail.Session\"/>\n    <Resource name=\"jdbc/cardapp\" scope=\"Shareable\" \ntype=\"javax.sql.DataSource\"/>\n    <ResourceParams name=\"UserDatabase\">\n      <parameter>\n        <name>factory</name>\n        <value>org.apache.catalina.users.MemoryUserDatabaseFactory</value>\n      </parameter>\n      <parameter>\n        <name>pathname</name>\n        <value>conf/tomcat-users.xml</value>\n      </parameter>\n    </ResourceParams>\n    <ResourceParams name=\"mail/default\">\n      <parameter>\n        <name>mail.smtp.host</name>\n        <value>10.116.66.6</value>\n      </parameter>\n    </ResourceParams>\n    <ResourceParams name=\"jdbc/cardapp\">\n      <parameter>\n        <name>validationQuery</name>\n        <value>SELECT 1</value>\n      </parameter>\n      <parameter>\n        <name>url</name>\n        <value></value>\n      </parameter>\n      <parameter>\n        <name>password</name>\n        <value></value>\n      </parameter>\n      <parameter>\n        <name>maxActive</name>\n        <value>35</value>\n      </parameter>\n      <parameter>\n        <name>maxWait</name>\n        <value>5000</value>\n      </parameter>\n      <parameter>\n        <name>driverClassName</name>\n        <value>com.sybase.jdbc2.jdbc.SybDriver</value>\n      </parameter>\n      <parameter>\n        <name>username</name>\n        <value></value>\n      </parameter>\n      <parameter>\n        <name>maxIdle</name>\n        <value>10</value>\n      </parameter>\n    </ResourceParams>\n  </GlobalNamingResources>\n  <Service className=\"org.apache.catalina.core.StandardService\" debug=\"0\" \nname=\"Tomcat-Standalone\">\n    <Connector className=\"org.apache.coyote.tomcat4.CoyoteConnector\" \nacceptCount=\"10\" bufferSize=\"2048\" connectionTimeout=\"20000\" debug=\"0\" \nenableLookups=\"true\" maxProcessors=\"75\" minProcessors=\"5\" port=\"8082\" \nprotocolHandlerClassName=\"org.apache.coyote.http11.Http11Protocol\" \nproxyPort=\"0\" redirectPort=\"8443\" scheme=\"http\" secure=\"false\" \ntcpNoDelay=\"true\" useURIValidationHack=\"false\">\n      <Factory className=\"org.apache.catalina.net.DefaultServerSocketFactory\"/>\n    </Connector>\n    <Connector className=\"org.apache.coyote.tomcat4.CoyoteConnector\" \nacceptCount=\"10\" bufferSize=\"2048\" connectionTimeout=\"20000\" debug=\"0\" \nenableLookups=\"true\" maxProcessors=\"75\" minProcessors=\"5\" port=\"8012\" \nprotocolHandlerClassName=\"org.apache.jk.server.JkCoyoteHandler\" proxyPort=\"0\" \nredirectPort=\"8443\" scheme=\"http\" secure=\"false\" tcpNoDelay=\"true\" \nuseURIValidationHack=\"false\">\n      <Factory className=\"org.apache.catalina.net.DefaultServerSocketFactory\"/>\n    </Connector>\n    <Engine className=\"org.apache.catalina.core.StandardEngine\" debug=\"0\" \ndefaultHost=\"localhost\" \nmapperClass=\"org.apache.catalina.core.StandardEngineMapper\" name=\"Standalone\">\n      <Host className=\"org.apache.catalina.core.StandardHost\" appBase=\"webapps\" \nautoDeploy=\"true\" configClass=\"org.apache.catalina.startup.ContextConfig\" \ncontextClass=\"org.apache.catalina.core.StandardContext\" debug=\"0\" \ndeployXML=\"true\" \nerrorReportValveClass=\"org.apache.catalina.valves.ErrorReportValve\" \nliveDeploy=\"true\" mapperClass=\"org.apache.catalina.core.StandardHostMapper\" \nname=\"localhost\" unpackWARs=\"true\">\n        <Context className=\"org.apache.catalina.core.StandardContext\" \ncachingAllowed=\"true\" \ncharsetMapperClass=\"org.apache.catalina.util.CharsetMapper\" cookies=\"true\" \ncrossContext=\"false\" debug=\"0\" displayName=\"Tomcat Administration Application\" \ndocBase=\"../server/webapps/admin\" \nmapperClass=\"org.apache.catalina.core.StandardContextMapper\" path=\"/admin\" \nprivileged=\"true\" reloadable=\"false\" swallowOutput=\"false\" useNaming=\"true\" \nwrapperClass=\"org.apache.catalina.core.StandardWrapper\">\n          <Listener className=\"org.apache.catalina.startup.ContextConfig\" \ndebug=\"0\"/>\n          <Listener className=\"org.apache.catalina.core.NamingContextListener\" \ndebug=\"0\" name=\"/Standalone/localhost/admin\"/>\n          <Logger className=\"org.apache.catalina.logger.FileLogger\" debug=\"0\" \ndirectory=\"logs\" prefix=\"localhost_admin_log.\" suffix=\".txt\" timestamp=\"true\" \nverbosity=\"1\"/>\n          <Valve \nclassName=\"org.apache.catalina.authenticator.FormAuthenticator\" algorithm=\"MD5\" \ncache=\"true\" debug=\"0\" \nentropy=\"org.apache.catalina.authenticator.FormAuthenticator@cd\" \nrandomClass=\"java.security.SecureRandom\"/>\n          <Valve className=\"org.apache.catalina.core.StandardContextValve\" \ndebug=\"0\"/>\n        </Context>\n        <Context className=\"org.apache.catalina.core.StandardContext\" \ncachingAllowed=\"true\" \ncharsetMapperClass=\"org.apache.catalina.util.CharsetMapper\" cookies=\"true\" \ncrossContext=\"false\" debug=\"0\" displayName=\"String Match Services\" \ndocBase=\"C:\\TomcatServers_Prod\\ScoringServices\\work\\Standalone\\localhost\\manager\n\\StringMatchServices.war\" \nmapperClass=\"org.apache.catalina.core.StandardContextMapper\" \npath=\"/StringMatchServices\" privileged=\"false\" reloadable=\"false\" \nswallowOutput=\"false\" useNaming=\"true\" \nwrapperClass=\"org.apache.catalina.core.StandardWrapper\">\n          <Listener className=\"org.apache.catalina.startup.ContextConfig\" \ndebug=\"0\"/>\n          <Listener className=\"org.apache.catalina.core.NamingContextListener\" \ndebug=\"0\" name=\"/Standalone/localhost/StringMatchServices\"/>\n          <Valve className=\"org.apache.catalina.core.StandardContextValve\" \ndebug=\"0\"/>\n        </Context>\n        <Context className=\"org.apache.catalina.core.StandardContext\" \ncachingAllowed=\"true\" \ncharsetMapperClass=\"org.apache.catalina.util.CharsetMapper\" cookies=\"true\" \ncrossContext=\"false\" debug=\"0\" displayName=\"AddressServices\" \ndocBase=\"C:\\TomcatServers_Prod\\ScoringServices\\work\\Standalone\\localhost\\manager\n\\AddressServices.war\" \nmapperClass=\"org.apache.catalina.core.StandardContextMapper\" \npath=\"/AddressServices\" privileged=\"false\" reloadable=\"false\" \nswallowOutput=\"false\" useNaming=\"true\" \nwrapperClass=\"org.apache.catalina.core.StandardWrapper\">\n          <Listener className=\"org.apache.catalina.startup.ContextConfig\" \ndebug=\"0\"/>\n          <Listener className=\"org.apache.catalina.core.NamingContextListener\" \ndebug=\"0\" name=\"/Standalone/localhost/AddressServices\"/>\n          <Valve className=\"org.apache.catalina.core.StandardContextValve\" \ndebug=\"0\"/>\n          <ResourceLink global=\"jdbc/cardapp\" name=\"jdbc/cardapp\" \ntype=\"javax.sql.DataSource\"/>\n        </Context>\n        <Context className=\"org.apache.catalina.core.StandardContext\" \ncachingAllowed=\"true\" \ncharsetMapperClass=\"org.apache.catalina.util.CharsetMapper\" cookies=\"true\" \ncrossContext=\"false\" debug=\"0\" displayName=\"Cardapp Models\" \ndocBase=\"C:\\TomcatServers_Prod\\ScoringServices\\work\\Standalone\\localhost\\manager\n\\CardModelServices.war\" \nmapperClass=\"org.apache.catalina.core.StandardContextMapper\" \npath=\"/CardModelServices\" privileged=\"false\" reloadable=\"false\" \nswallowOutput=\"false\" useNaming=\"true\" \nwrapperClass=\"org.apache.catalina.core.StandardWrapper\">\n          <Listener className=\"org.apache.catalina.startup.ContextConfig\" \ndebug=\"0\"/>\n          <Listener className=\"org.apache.catalina.core.NamingContextListener\" \ndebug=\"0\" name=\"/Standalone/localhost/CardModelServices\"/>\n          <Valve className=\"org.apache.catalina.core.StandardContextValve\" \ndebug=\"0\"/>\n          <ResourceLink global=\"jdbc/cardapp\" name=\"jdbc/cardapp\" \ntype=\"javax.sql.DataSource\"/>\n        </Context>\n        <Context className=\"org.apache.catalina.core.StandardContext\" \ncachingAllowed=\"true\" \ncharsetMapperClass=\"org.apache.catalina.util.CharsetMapper\" cookies=\"true\" \ncrossContext=\"false\" debug=\"0\" displayName=\"BureauServices\" \ndocBase=\"C:\\TomcatServers_Prod\\ScoringServices\\work\\Standalone\\localhost\\manager\n\\BureauServices.war\" \nmapperClass=\"org.apache.catalina.core.StandardContextMapper\" \npath=\"/BureauServices\" privileged=\"false\" reloadable=\"false\" \nswallowOutput=\"false\" useNaming=\"true\" \nwrapperClass=\"org.apache.catalina.core.StandardWrapper\">\n          <Listener className=\"org.apache.catalina.startup.ContextConfig\" \ndebug=\"0\"/>\n          <Listener className=\"org.apache.catalina.core.NamingContextListener\" \ndebug=\"0\" name=\"/Standalone/localhost/BureauServices\"/>\n          <Valve className=\"org.apache.catalina.core.StandardContextValve\" \ndebug=\"0\"/>\n        </Context>\n        <Context className=\"org.apache.catalina.core.StandardContext\" \ncachingAllowed=\"true\" \ncharsetMapperClass=\"org.apache.catalina.util.CharsetMapper\" cookies=\"true\" \ncrossContext=\"false\" debug=\"0\" displayName=\"Welcome to Tomcat\" docBase=\"ROOT\" \nmapperClass=\"org.apache.catalina.core.StandardContextMapper\" path=\"\" \nprivileged=\"false\" reloadable=\"false\" swallowOutput=\"false\" useNaming=\"true\" \nwrapperClass=\"org.apache.catalina.core.StandardWrapper\">\n          <Listener className=\"org.apache.catalina.startup.ContextConfig\" \ndebug=\"0\"/>\n          <Listener className=\"org.apache.catalina.core.NamingContextListener\" \ndebug=\"0\" name=\"/Standalone/localhost\"/>\n          <Valve className=\"org.apache.catalina.core.StandardContextValve\" \ndebug=\"0\"/>\n        </Context>\n        <Context className=\"org.apache.catalina.core.StandardContext\" \ncachingAllowed=\"true\" \ncharsetMapperClass=\"org.apache.catalina.util.CharsetMapper\" cookies=\"true\" \ncrossContext=\"false\" debug=\"0\" displayName=\"Tomcat Manager Application\" \ndocBase=\"../server/webapps/manager\" \nmapperClass=\"org.apache.catalina.core.StandardContextMapper\" path=\"/manager\" \nprivileged=\"true\" reloadable=\"false\" swallowOutput=\"false\" useNaming=\"true\" \nwrapperClass=\"org.apache.catalina.core.StandardWrapper\">\n          <Listener className=\"org.apache.catalina.startup.ContextConfig\" \ndebug=\"0\"/>\n          <Listener className=\"org.apache.catalina.core.NamingContextListener\" \ndebug=\"0\" name=\"/Standalone/localhost/manager\"/>\n          <Valve \nclassName=\"org.apache.catalina.authenticator.BasicAuthenticator\" \nalgorithm=\"MD5\" cache=\"true\" debug=\"0\" \nentropy=\"org.apache.catalina.authenticator.BasicAuthenticator@e5\" \nrandomClass=\"java.security.SecureRandom\"/>\n          <Valve className=\"org.apache.catalina.core.StandardContextValve\" \ndebug=\"0\"/>\n          <ResourceLink global=\"UserDatabase\" name=\"users\" \ntype=\"org.apache.catalina.UserDatabase\"/>\n        </Context>\n        <Listener className=\"org.apache.catalina.startup.HostConfig\" \nconfigClass=\"org.apache.catalina.startup.ContextConfig\" \ncontextClass=\"org.apache.catalina.core.StandardContext\" debug=\"0\" \ndeployXML=\"true\" liveDeploy=\"true\" unpackWARs=\"true\"/>\n        <Logger className=\"org.apache.catalina.logger.FileLogger\" debug=\"0\" \ndirectory=\"logs\" prefix=\"localhost_log.\" suffix=\".txt\" timestamp=\"true\" \nverbosity=\"1\"/>\n        <Valve className=\"org.apache.catalina.valves.ErrorReportValve\" \ndebug=\"0\"/>\n        <Valve className=\"org.apache.catalina.valves.ErrorDispatcherValve\" \ndebug=\"0\"/>\n        <Valve className=\"org.apache.catalina.core.StandardHostValve\" \ndebug=\"0\"/>\n      </Host>\n      <Listener className=\"org.apache.catalina.startup.EngineConfig\" debug=\"0\"/>\n      <Logger className=\"org.apache.catalina.logger.FileLogger\" debug=\"0\" \ndirectory=\"logs\" prefix=\"catalina_log.\" suffix=\".txt\" timestamp=\"true\" \nverbosity=\"1\"/>\n      <Realm className=\"org.apache.catalina.realm.UserDatabaseRealm\" debug=\"0\" \nresourceName=\"UserDatabase\" validate=\"true\"/>\n      <Valve className=\"org.apache.catalina.core.StandardEngineValve\" \ndebug=\"0\"/>\n    </Engine>\n  </Service>\n</Server>\n------------------------------ END JROCKIT server.xml -------------------------\n\n------------------------------ BEGIN SUN server.xml ---------------------------\n<?xml version='1.0' encoding='utf-8'?>\n<Server className=\"org.apache.catalina.core.StandardServer\" debug=\"0\" port=\"0\" \nshutdown=\"SHUTDOWN\">\n  <Listener className=\"org.apache.catalina.mbeans.ServerLifecycleListener\" \ndebug=\"0\"/>\n  <Listener \nclassName=\"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener\" \ndebug=\"0\"/>\n  <GlobalNamingResources>\n    <Environment name=\"simpleValue\" override=\"true\" type=\"java.lang.Integer\" \nvalue=\"30\"/>\n    <Resource name=\"jdbc/cardapp\" scope=\"Shareable\" \ntype=\"javax.sql.DataSource\"/>\n    <Resource name=\"mail/default\" scope=\"Shareable\" type=\"javax.mail.Session\"/>\n    <Resource auth=\"Container\" description=\"User database that can be updated \nand saved\" name=\"UserDatabase\" scope=\"Shareable\" \ntype=\"org.apache.catalina.UserDatabase\"/>\n    <ResourceParams name=\"jdbc/cardapp\">\n      <parameter>\n        <name>validationQuery</name>\n        <value>SELECT 12</value>\n      </parameter>\n      <parameter>\n        <name>url</name>\n        <value></value>\n      </parameter>\n      <parameter>\n        <name>password</name>\n        <value></value>\n      </parameter>\n      <parameter>\n        <name>maxActive</name>\n        <value>35</value>\n      </parameter>\n      <parameter>\n        <name>maxWait</name>\n        <value>5000</value>\n      </parameter>\n      <parameter>\n        <name>driverClassName</name>\n        <value>com.sybase.jdbc2.jdbc.SybDriver</value>\n      </parameter>\n      <parameter>\n        <name>username</name>\n        <value></value>\n      </parameter>\n      <parameter>\n        <name>maxIdle</name>\n        <value>10</value>\n      </parameter>\n    </ResourceParams>\n    <ResourceParams name=\"mail/default\">\n      <parameter>\n        <name>mail.smtp.host</name>\n        <value>10.116.66.6</value>\n      </parameter>\n    </ResourceParams>\n    <ResourceParams name=\"UserDatabase\">\n      <parameter>\n        <name>factory</name>\n        <value>org.apache.catalina.users.MemoryUserDatabaseFactory</value>\n      </parameter>\n      <parameter>\n        <name>pathname</name>\n        <value>conf/tomcat-users.xml</value>\n      </parameter>\n    </ResourceParams>\n  </GlobalNamingResources>\n  <Service className=\"org.apache.catalina.core.StandardService\" debug=\"0\" \nname=\"Tomcat-Standalone\">\n    <Connector className=\"org.apache.coyote.tomcat4.CoyoteConnector\" \nacceptCount=\"10\" bufferSize=\"2048\" connectionTimeout=\"20000\" debug=\"0\" \nenableLookups=\"true\" maxProcessors=\"75\" minProcessors=\"5\" port=\"8082\" \nprotocolHandlerClassName=\"org.apache.coyote.http11.Http11Protocol\" \nproxyPort=\"0\" redirectPort=\"8443\" scheme=\"http\" secure=\"false\" \ntcpNoDelay=\"true\" useURIValidationHack=\"false\">\n      <Factory className=\"org.apache.catalina.net.DefaultServerSocketFactory\"/>\n    </Connector>\n    <Connector className=\"org.apache.coyote.tomcat4.CoyoteConnector\" \nacceptCount=\"10\" bufferSize=\"2048\" connectionTimeout=\"20000\" debug=\"0\" \nenableLookups=\"true\" maxProcessors=\"75\" minProcessors=\"5\" port=\"8012\" \nprotocolHandlerClassName=\"org.apache.jk.server.JkCoyoteHandler\" proxyPort=\"0\" \nredirectPort=\"8443\" scheme=\"http\" secure=\"false\" tcpNoDelay=\"true\" \nuseURIValidationHack=\"false\">\n      <Factory className=\"org.apache.catalina.net.DefaultServerSocketFactory\"/>\n    </Connector>\n    <Engine className=\"org.apache.catalina.core.StandardEngine\" debug=\"0\" \ndefaultHost=\"localhost\" \nmapperClass=\"org.apache.catalina.core.StandardEngineMapper\" name=\"Standalone\">\n      <Host className=\"org.apache.catalina.core.StandardHost\" appBase=\"webapps\" \nautoDeploy=\"true\" configClass=\"org.apache.catalina.startup.ContextConfig\" \ncontextClass=\"org.apache.catalina.core.StandardContext\" debug=\"0\" \ndeployXML=\"true\" \nerrorReportValveClass=\"org.apache.catalina.valves.ErrorReportValve\" \nliveDeploy=\"true\" mapperClass=\"org.apache.catalina.core.StandardHostMapper\" \nname=\"localhost\" unpackWARs=\"true\">\n        <Context className=\"org.apache.catalina.core.StandardContext\" \ncachingAllowed=\"true\" \ncharsetMapperClass=\"org.apache.catalina.util.CharsetMapper\" cookies=\"true\" \ncrossContext=\"false\" debug=\"0\" displayName=\"Tomcat Manager Application\" \ndocBase=\"../server/webapps/manager\" \nmapperClass=\"org.apache.catalina.core.StandardContextMapper\" path=\"/manager\" \nprivileged=\"true\" reloadable=\"false\" swallowOutput=\"false\" useNaming=\"true\" \nwrapperClass=\"org.apache.catalina.core.StandardWrapper\">\n          <ResourceLink global=\"UserDatabase\" name=\"users\" \ntype=\"org.apache.catalina.UserDatabase\"/>\n        </Context>\n        <Context className=\"org.apache.catalina.core.StandardContext\" \ncachingAllowed=\"true\" \ncharsetMapperClass=\"org.apache.catalina.util.CharsetMapper\" cookies=\"true\" \ncrossContext=\"false\" debug=\"0\" displayName=\"Tomcat Administration Application\" \ndocBase=\"../server/webapps/admin\" \nmapperClass=\"org.apache.catalina.core.StandardContextMapper\" path=\"/admin\" \nprivileged=\"true\" reloadable=\"false\" swallowOutput=\"false\" useNaming=\"true\" \nwrapperClass=\"org.apache.catalina.core.StandardWrapper\">\n          <Logger className=\"org.apache.catalina.logger.FileLogger\" debug=\"0\" \ndirectory=\"logs\" prefix=\"localhost_admin_log.\" suffix=\".txt\" timestamp=\"true\" \nverbosity=\"1\"/>\n        </Context>\n        <Context className=\"org.apache.catalina.core.StandardContext\" \ncachingAllowed=\"true\" \ncharsetMapperClass=\"org.apache.catalina.util.CharsetMapper\" cookies=\"true\" \ncrossContext=\"false\" debug=\"0\" displayName=\"Welcome to Tomcat\" docBase=\"ROOT\" \nmapperClass=\"org.apache.catalina.core.StandardContextMapper\" path=\"\" \nprivileged=\"false\" reloadable=\"false\" swallowOutput=\"false\" useNaming=\"true\" \nwrapperClass=\"org.apache.catalina.core.StandardWrapper\">\n        </Context>\n        <Logger className=\"org.apache.catalina.logger.FileLogger\" debug=\"0\" \ndirectory=\"logs\" prefix=\"localhost_log.\" suffix=\".txt\" timestamp=\"true\" \nverbosity=\"1\"/>\n      </Host>\n      <Logger className=\"org.apache.catalina.logger.FileLogger\" debug=\"0\" \ndirectory=\"logs\" prefix=\"catalina_log.\" suffix=\".txt\" timestamp=\"true\" \nverbosity=\"1\"/>\n      <Realm className=\"org.apache.catalina.realm.UserDatabaseRealm\" debug=\"0\" \nresourceName=\"UserDatabase\" validate=\"true\"/>\n    </Engine>\n  </Service>\n</Server>\n------------------------------- END SUN server.xml -----------------------------\n\nThis problem is repeatable on multiple machines and in all circumstances. I \ndon't know if it makes a difference, but I am running the JRockit management \nserver with the following arguments:\n-Djrockit.managementserver=true -Djrockit.managementserver.port=9082"}, {"count": 1, "tags": [], "bug_id": 13908, "attachment_id": null, "text": "I'm gonna assume this a BEA JRockit VM bug.", "id": 52264, "time": "2004-02-13T20:44:30Z", "creator": "funkman@joedog.org", "creation_time": "2004-02-13T20:44:30Z", "is_private": false}]