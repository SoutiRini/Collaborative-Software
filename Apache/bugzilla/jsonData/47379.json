[{"count": 0, "tags": [], "bug_id": 47379, "attachment_id": null, "id": 128008, "time": "2009-06-17T03:04:57Z", "creator": "holger.weissboeck@gmail.com", "creation_time": "2009-06-17T03:04:57Z", "is_private": false, "text": "Setting up a reverse proxy with:\n\nLoadModule proxy_module modules/mod_proxy.so\nLoadModule proxy_http_module modules/mod_proxy_http.so\nLoadModule proxy_connect_module modules/mod_proxy_connect.so\n\nListen 9006\nNameVirtualHost *:9006\n<VirtualHost *:9006>\n AllowCONNECT 3030\n ProxyPass / xxx.xxx.xxx.xxx:3030\n ProxyPassReverse / xxx.xxx.xxx.xxx:3030\n</VirtualHost>\n\ndoes not work, since the ProxyPass directive throws the error: \"ProxyPass URL must be absolute!\"\n\nChanging the URL to \n\n ProxyPass / http://xxx.xxx.xxx.xxx:3030\n\nmakes Apache start, but HTTP CONNECT requests are forwarded to the next endpoint.\n\nUnless i have not misinterpreted the HTTP 1.1 spec, it should not forward a HTTP request to the endpoint when a CONNECT request was received. It should rather create a tunnel and return CONNECTION ESTABLISHED to the initial caller so that the caller and the endpoint can talk a custom protocol tunneled through the reverse proxy.\n\nThis worked fine with Apache 2.0.x and works fine with a simple forward proxy. Unfortunately it is broken for reverse proxies."}, {"count": 1, "tags": [], "text": "In fact CONNECT is only for forward proxyies. If it worked in 2.0.x this was unintended and in fact a bug.\nBut to be honest I don't understand your problem: The CONNECT method requires to specify a target IP and port. So you could just use this.\nAnyway Bugzilla is for reporting bugs and no user support forum. So please post your question on the users mailing list.", "is_private": false, "id": 128019, "creator": "rpluem@apache.org", "time": "2009-06-17T06:10:14Z", "bug_id": 47379, "creation_time": "2009-06-17T06:10:14Z", "attachment_id": null}]