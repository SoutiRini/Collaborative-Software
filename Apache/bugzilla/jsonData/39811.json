[{"count": 0, "tags": [], "creator": "francois.jeanmougin@indexmultimedia.com", "attachment_id": null, "text": "Bug appears on 2.2.0 and 2.2.2.\n\nAfter some hours of production, the worker->route parameter becomes messy.\nSometimes removed or replaced by an other. This leads to navigation problems\n(clients loosing sessions).\n\nI use a configuration qith several balancers defined like this :\n<Proxy balancer://gallery>\nBalancerMember ajp://10.0.15.196:8539 route=196G\nBalancerMember ajp://10.0.15.197:8539 route=197G\nProxySet stickysession=jsessionid\n</Proxy>\n\nAnd then, the balancer is called on several VirtualHost :\n<VirtualHost yyy..yyy.yyy.yyy:80>\nServerName zzz.zzz.zzz.com\n<Location /meilleuresventes>\nProxypass balancer://gallery/meilleuresventes\n</Location>\n<Location />\nProxypass balancer://gallery/meilleuresventes\n</Location>\n</VirtualHost>\n\nI'd carefully read the code but can't find where the routes really could be\nupdated. I really don't know if it is made by a 'graceful' or because of a\nworker that goes down then up again.\n\nOpen to any patch.\n\nFran\u00e7ois.", "id": 90193, "time": "2006-06-14T10:08:37Z", "bug_id": 39811, "creation_time": "2006-06-14T10:08:37Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 39811, "text": "It is really out of my understanding of Apache API, but I feel that something\nwired happen with the manipulations between worker->route and worker->s->route.\n\nJust an idea. \n\nFran\u00e7ois.", "id": 90196, "time": "2006-06-14T10:34:27Z", "creator": "francois.jeanmougin@indexmultimedia.com", "creation_time": "2006-06-14T10:34:27Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "francois.jeanmougin@indexmultimedia.com", "text": "Another note : it is on amd64 (opteron). If it could help...", "id": 90201, "time": "2006-06-14T13:17:39Z", "bug_id": 39811, "creation_time": "2006-06-14T13:17:39Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 39811, "text": "Currently unreproductible.\n\nPossible reason is :\nProxySet and ProxyPass options duplication corrected in configuration. We used\nthe scheme described in  #39304 (with stickysessiosn described both at ProxySet\nand ProxyPass level).\n\nThe current configuration (shown) in this report, is working well for one week\nnow without routes corruption.\n\nI will let you know if I can reproduce the bug and provide a clear bug environment. \n\nFran\u00e7ois.\n", "id": 90388, "time": "2006-06-20T08:25:43Z", "creator": "francois.jeanmougin@indexmultimedia.com", "creation_time": "2006-06-20T08:25:43Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 39811, "text": "I've found this error in logs after deploiement :\n[Mon Jun 26 15:50:59 2006] [error] proxy: AJP: failed to make connection to\nbackend: 10.0.15.145\n[Mon Jun 26 15:50:59 2006] [error] (104)Connection reset by peer:\najp_ilink_receive() can't receive header\n[Mon Jun 26 15:50:59 2006] [error] ajp_read_header: ajp_ilink_receive failed\n[Mon Jun 26 15:50:59 2006] [error] (120006)APR does not understand this error\ncode: proxy: read response failed from 10.0.\n15.145:8501 (10.0.15.145)\n\nSo, after this error, the routes are messy.\n\nAny idea welcome.\n\n", "id": 90613, "time": "2006-06-26T13:53:06Z", "creator": "francois.jeanmougin@indexmultimedia.com", "creation_time": "2006-06-26T13:53:06Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 39811, "attachment_id": null, "id": 148440, "time": "2011-08-06T23:19:30Z", "creator": "covener@gmail.com", "creation_time": "2011-08-06T23:19:30Z", "is_private": false, "text": "closing due to originator comments and time that has elapsed -- please reopen if this occurs in recent 2.2.x without graceful restart (there are existing bugs discussing that particular issue)"}]