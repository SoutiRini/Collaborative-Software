[{"count": 0, "tags": [], "creator": "ITS@uk.radan.com", "is_private": false, "text": "I updated our proxy server from 1.3.19 to 1.3.23, and some of our intranet \napplications failed at that point.  However, this problem only affects clients \nwith Netscape 4.x or IE - Netscape 6 users do not appear to see the problem.\n\nFollowing a serial of network packet traces, the error has been narrowed down \nto the newer proxy server failing to pass through all the Set-Cookie fields \nreturned from the server.  Attached are the traces of the request and response \nbetween client and proxy, and between proxy and destination web server:\n\n---------------\nClient to proxy server POST request:\n\nPOST http://www1.uk.radan.com:8080/helpdesk/index.htm HTTP/1.0\nAccept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/vnd.ms-\npowerpoint, application/vnd.ms-excel, application/msword, */*\nReferer: http://www1.uk.radan.com:8080/helpdesk/login.htm?\ntarget_sfr=&target_cust=&target_cust_contract_stat=&PHPSESSID=5d1a8cfdcf0dbc4fbe\n875b6e7b0528cf\nAccept-Language: en-gb\nContent-Type: application/x-www-form-urlencoded \nProxy-Connection: Keep-Alive\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0; Hotbar 3.0)\nHost: www1.uk.radan.com:8080\nContent-Length: 51\nPragma: no-cache\nCookie: PHPSESSID=5d1a8cfdcf0dbc4fbe875b6e7b0528cf\n\nUserName=test&Password=test&B1=Login&action=login\n\n---------------\nProxy server to Web server POST request:\n\nPOST /helpdesk/index.htm HTTP/1.1\nHost: www1.uk.radan.com:8080\nAccept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/vnd.ms-\npowerpoint, application/vnd.ms-excel, application/msword, */* \nAccept-Language: en-gb\nContent-Length: 51\nContent-Type: application/x-www-form-urlencoded\nCookie: PHPSESSID=5d1a8cfdcf0dbc4fbe875b6e7b0528cf\nPragma: no-cache\nReferer: http://www1.uk.radan.com:8080/helpdesk/login.htm?\ntarget_sfr=&target_cust=&target_cust_contract_stat=&PHPSESSID=5d1a8cfdcf0dbc4fbe\n875b6e7b0528cf\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0; Hotbar 3.0)\nVia: 1.0 radtrans.uk.radan.com:8088\nX-Forwarded-For: 172.16.2.4\nConnection: close\n\n\nUserName=test&Password=test&B1=Login&action=login\n\n---------------\nWeb server response back to proxy:\n\nHTTP/1.1 200 OK\nDate: Tue, 09 Apr 2002 13:44:45 GMT\nServer: Apache/1.3.22 (Win32) PHP/4.0.6\nX-Powered-By: PHP/4.0.6\nSet-Cookie: sid=3782; path=/\nSet-Cookie: vk=9f59f63d439c751a995b1bc37691be38; path=/\nConnection: close\nTransfer-Encoding: chunked\nContent-Type: text/html\n\nee2\n<html>\n<head>.......\n\n---------------\nProxy server response back to client:\n\nHTTP/1.1 200 OK\nDate: Tue, 09 Apr 2002 13:41:24 GMT\nServer: Apache/1.3.22 (Win32) PHP/4.0.6\nContent-Type: text/html\nSet-Cookie: vk=9f59f63d439c751a995b1bc37691be38; path=/\nTransfer-Encoding: chunked\nVia: 1.1 radtrans.uk.radan.com:8088\nX-Powered-By: PHP/4.0.6\nX-Cache: MISS from radtrans.uk.radan.com\nConnection: close\n\nee2\n<html>\n<head>......\n\n---------------\nNote that in the proxy-client response there is no entry for the\nSet-Cookie: sid=3782; path=/\nentry.\n\nThis works fine with 1.3.19, but fails with both 1.3.23 and 1.3.24 servers.\nhttpd.conf file for proxy section is identical between all three versions of \nserver.  All three versions have been taking straight from source and compiled \nwith no extra modules on Solaris 7, running on Solaris 7 server.  Destination \nweb server is apache 1.3.22 with PHP4.0.6 unchanged between all three proxy \nserver versions.", "id": 13102, "time": "2002-04-09T14:56:03Z", "bug_id": 7874, "creation_time": "2002-04-09T14:56:03Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 7874, "is_private": false, "id": 13122, "time": "2002-04-09T19:13:22Z", "creator": "slive@apache.org", "creation_time": "2002-04-09T19:13:22Z", "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of 7195 ***"}]