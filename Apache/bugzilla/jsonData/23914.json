[{"count": 0, "tags": [], "creator": "smallesan@nextone.com", "attachment_id": null, "id": 45887, "time": "2003-10-18T19:14:15Z", "bug_id": 23914, "creation_time": "2003-10-18T19:14:15Z", "is_private": false, "text": "Tomcat closes the TCP connection as soon as the GET request is sent. The\nfollowing is the stack trace that appears on catalina_log.*.txt\n\nIt seems to happen in random intervals. The only way to recover at this point is\nto restart tomcat.\n\nAlso seems to happen only with redhat linux 9 version:\n   Linux nars 2.4.20-9smp #1 SMP Wed Apr 2 13:28:49 EST 2003 i686 i686 i386\nGNU/Linux\n\n\n\n2003-10-18 18:07:06 CoyoteAdapter An exception or error occurred in the\ncontainer during the request processing\njava.lang.NullPointerException\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:164)\n        at\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n        at org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:223)\n        at\norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:601)\n        at\norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:392)\n        at\norg.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:565)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:619)\n        at java.lang.Thread.run(Thread.java:534)"}, {"text": "We have a very similar problem here (same version of Tomcat, same stack trace), \nalthough these items differ:\n\n- The problem occurs *only* if tomcat is accessed via Apache mod_jk2.\n- Apache reports this:\n\nbond.webwasher.com - - [04/Dec/2003:12:01:32 \n+0100] \"GET /servlets/SWMSAPI/login?user=test&pass= HTTP/1.1\" 200 0\n\ni.e. status 200, empty response.  No entry in Apache error log.\n\n- Tomcat need *not* be restarted to recover.  Repeated resending the request \nsucceeds usually after n<5 resends.\n\nVersions:\n\nLinux extranet2.webwasher.com 2.4.20-8 #1 Thu Mar 13 17:54:28 EST 2003 i686 \ni686 i386 GNU/Linux\n\nApache 2.0.40\n\njava version \"1.4.2_01\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_01-b06)\nJava HotSpot(TM) Client VM (build 1.4.2_01-b06, mixed mode)\n\nApparently getContainer() does sometimes return null.  Could it be that this is \na threading issue?\n", "tags": [], "bug_id": 23914, "is_private": false, "count": 1, "id": 48473, "time": "2003-12-04T11:30:41Z", "creator": "bob.news@gmx.net", "creation_time": "2003-12-04T11:30:41Z", "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "bob.news@gmx.net", "text": "Forgot to mention that this happens with Tomcat 4.1.29, too.", "id": 48474, "time": "2003-12-04T11:37:05Z", "bug_id": 23914, "creation_time": "2003-12-04T11:37:05Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "yohanfer@yahoo.co.uk", "attachment_id": null, "is_private": false, "id": 55481, "time": "2004-04-07T17:23:32Z", "bug_id": 23914, "creation_time": "2004-04-07T17:23:32Z", "text": "Having the same problem with Tomcat 5.0.19 running in an integrated stack with\nJBoss 3.2.4 RC1\n\nRunning mod_jk 2.0.2/2.0.4 running on Redhat Fedora core 1. JDK 1.4.2_04\n\nAnother I see this very often after about 2 or three minutes of use. The\napplication that I'm running has frames in it and when the error occurs, one\nframeset fails to be delivered. You get a white page. A click on the reload\nbutton  restores the page, but its almost if the TCP connection delivers one\nframe and disconnects without handling the other frame. Didnt see this problem\nrunning Tomcat 4.1.29 with JBoss 3.2.3\n\nGet this with the first request\n\n3:29,453 WARN  [HandlerRequest] Error registering request\n\n\nHere is the stack trace,\n\n18:16:28,920 ERROR [CoyoteAdapter] An exception or error occurred in the\ncontainer during the request processing\njava.lang.NullPointerException\n        at\norg.jboss.resource.connectionmanager.BaseConnectionManager2.unregisterAssociation(BaseConnectionManager2.java:625)\n        at\norg.jboss.resource.connectionmanager.BaseConnectionManager2.disconnect(BaseConnectionManager2.java:592)\n        at\norg.jboss.resource.connectionmanager.CachedConnectionManager.disconnect(CachedConnectionManager.java:405)\n        at\norg.jboss.resource.connectionmanager.CachedConnectionManager.popMetaAwareObject(CachedConnectionManager.java:247)\n        at\norg.jboss.web.tomcat.tc5.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:96)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:149)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:567)\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:156)\n        at\norg.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:151)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:567)\n        at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:972)\n        at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:206)\n        at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:339)\n        at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:415)\n        at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:716)\n        at\norg.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:650)\n        at org.apache.jk.common.SocketConnection.runIt(ChannelSocket.java:829)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:688)\n        at java.lang.Thread.run(Thread.java:534)"}, {"count": 4, "tags": [], "creator": "remm@apache.org", "text": "This is really annoying ... How is this the same issue ? Don't you see the stack\ntrace is completely different, and doesn't involve Tomcat code ?", "id": 55482, "time": "2004-04-07T17:32:40Z", "bug_id": 23914, "creation_time": "2004-04-07T17:32:40Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "hgomez@apache.org", "attachment_id": null, "is_private": false, "id": 55508, "time": "2004-04-08T07:53:53Z", "bug_id": 23914, "creation_time": "2004-04-08T07:53:53Z", "text": "I fixed a NPE in org.apache.coyote.RequestInfo in setGlobalProcessor().\n\nIt could be related.\n\nCould you make a new test with 5.0.22 ?"}, {"count": 6, "tags": [], "creator": "bob.news@gmx.net", "attachment_id": null, "id": 55639, "time": "2004-04-11T12:32:24Z", "bug_id": 23914, "creation_time": "2004-04-11T12:32:24Z", "is_private": false, "text": "Is this a fix for 5.* only or did you apply it to 4.1.* also?"}, {"count": 7, "tags": [], "text": "This bug report has been transferred to Tomcat 5 because TC4 and TC5 share the \nconnectors and TC5 is now the focus of development effort", "attachment_id": null, "bug_id": 23914, "id": 59576, "time": "2004-06-19T12:24:16Z", "creator": "markt@apache.org", "creation_time": "2004-06-19T12:24:16Z", "is_private": false}, {"count": 8, "attachment_id": null, "creator": "remm@apache.org", "is_private": false, "id": 60013, "time": "2004-06-28T16:27:59Z", "bug_id": 23914, "creation_time": "2004-06-28T16:27:59Z", "tags": [], "text": "I got over my bad mood, and in the end I'll continue doing BZ sometimes.\nWhatever causes this problem (I've never found out) can't happen with 5.0.x\n(notice the stack trace is outside of the connector)."}]