[{"count": 0, "tags": [], "bug_id": 17831, "is_private": false, "text": "The worker thread sometimes fails to terminate child processes resulting in the\nfollowing error in the apache error_log.\n\n[Thu Mar 06 19:36:05 2003] [crit] the listener thread didn't exit\n[Thu Mar 06 19:36:06 2003] [crit] the listener thread didn't exit\n[Fri Mar 07 00:10:02 2003] [crit] the listener thread didn't exit\n[Fri Mar 07 06:05:25 2003] [crit] the listener thread didn't exit\n[Fri Mar 07 06:05:26 2003] [crit] the listener thread didn't exit\n\nFrom reviewing the code in server/mpm/worker/worker.c it looks like\nthe main process atempts to send a SIGHUP to the child 10 times over a 5 second\nperiod.  If that fails the child process never terminates.  This eventually\nleads to the server hitting its ServerLimit and ultimately denying requests.\n\nThis was noticed while using Apache-Tomcat mod_jk 1.2 from CVS.\nI suspect that if mod_jk is waiting more than 5 seconds to read a response\nfrom the Tomcat connector while the main process is trying to signal it to\nterminate the child process termination fails.\n\nI am not sure if this is something that can be fixed in httpd 2.0, mod_jk,\nor both.", "id": 32865, "time": "2003-03-10T16:04:49Z", "creator": "glenn@apache.org", "creation_time": "2003-03-10T16:04:49Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 17831, "text": "I have found and fixed some bugs in mod_jk, I don't think they are related\nto the listener thread errors.\n\nI have seen these errors a few more times but it does appear that the\nchild processes do end up getting terminated.\n\nLacking further information on whether this really is a bug, I will\nmark this bug invalid.", "id": 33256, "time": "2003-03-16T15:43:51Z", "creator": "glenn@apache.org", "creation_time": "2003-03-16T15:43:51Z", "is_private": false, "attachment_id": null}]