[{"count": 0, "tags": [], "bug_id": 42811, "is_private": false, "id": 105073, "attachment_id": null, "creator": "jsb_apache@360works.com", "creation_time": "2007-07-04T17:21:24Z", "time": "2007-07-04T17:21:24Z", "text": "When I load all of the jars from apache-tomcat-5.5.23-embed/lib into my classpath and run this test \ncase, I get the stack trace shown at the end.\n\n=====================\npackage com.prosc.servlet.embedded;\n\nimport junit.framework.TestCase;\nimport org.apache.catalina.startup.Embedded;\n\npublic class TomcatTest extends TestCase {\n\tpublic void testEmbedding() {\n\t\tnew Embedded();\n\t}\n}\n==================\nThis is the stack trace that I get:\n\njava.lang.NoClassDefFoundError: javax/management/MBeanRegistration\n\tat java.lang.ClassLoader.defineClass0(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:539)\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:251)\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:55)\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:194)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:187)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:289)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:274)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:235)\n\tat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:302)\n\tat java.lang.ClassLoader.defineClass0(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:539)\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:251)\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:55)\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:194)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:187)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:289)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:274)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:235)\n\tat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:302)\n\tat com.prosc.servlet.embedded.TomcatTest.testEmbedding(TomcatTest.java:8)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat com.intellij.rt.execution.junit2.JUnitStarter.main(JUnitStarter.java:32)"}, {"count": 1, "tags": [], "creator": "jsb_apache@360works.com", "text": "My mistake - was running with Java 1.4 instead of 1.5.", "id": 105074, "attachment_id": null, "bug_id": 42811, "creation_time": "2007-07-04T17:26:24Z", "time": "2007-07-04T17:26:24Z", "is_private": false}]