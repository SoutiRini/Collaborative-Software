[{"count": 0, "tags": [], "bug_id": 54141, "attachment_id": null, "text": "The use case is to have one Realm that is configured for lock-out with another that is not: the two should be combined together.\n\nThe obvious configuration attempt is this:\n\n<CombinedRealm>\n  <LockoutRealm>\n     <DataSourceRealm/>\n  </LockoutRealm>\n  <UserDatabaseRealm/>\n</CombinedRealm>\n\nUnfortunately, this configuration yields an error:\n\n  No rules found matching 'Server/Service/Engine/Realm/Realm/Realm'\n\norg.apache.catalina.startup.RealmRuleSet.addRuleInstances only goes 2 levels deep when it comes to Realms (that is, only allows \"Realm\" and \"Realm/Realm\"). Adding a 3rd level would certainly work here and might be sufficient. Another option would be to configure the digester to allow arbitrary levels of Realm-nesting for even the most pathological cases.\n\nFor reference, see this link to a question over on StackOverflow: http://stackoverflow.com/questions/13274696/tomcat-7-nesting-combinedrealm-lockoutrealm-and-datasourcerealm", "id": 163404, "time": "2012-11-13T01:55:35Z", "creator": "chris@christopherschultz.net", "creation_time": "2012-11-13T01:55:35Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 54141, "attachment_id": null, "is_private": false, "id": 163426, "time": "2012-11-13T14:20:44Z", "creator": "markt@apache.org", "creation_time": "2012-11-13T14:20:44Z", "text": "Default increased from 2 levels to 3 and the maximum is supported via a system property."}]