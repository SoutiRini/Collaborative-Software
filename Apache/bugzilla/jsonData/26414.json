[{"count": 0, "tags": [], "text": "currently it is not possible to use ResourceLinks to bind a UserTransaction in\nthe java:comp context of a web application because the way it is implemented\nResourceLinks are always bound in the java:comp/env context. I stumbled across\nthis because I thought it would make sense to configure my transaction manager\nonly in one place and have all my webapps access it via ResourceLinks instead of\ncopying the configuration for each webapp but that did not work. The current\nbehaviour is a little hard to understand and IMHO it doesn't hurt to treat\nResourceLinks pointing to a UserTransaction differently. I have attached a patch\nthat does this. Testing the patch I found that the Context implementation does\nnot seem to throw NameAlreadyBoundException when a name already exists and a\nbind fails (therefore after applying the patch you get a warning whenever a\nUserTransaction is bound via a ResourceLink). Shall I file this as a separate\nreport?\n\nThanks in advance", "attachment_id": null, "id": 51122, "creator": "krueger@signal7.de", "time": "2004-01-25T13:22:39Z", "bug_id": 26414, "creation_time": "2004-01-25T13:22:39Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 26414, "text": "Created attachment 10082\nPatch for proposed enhancement", "id": 51123, "time": "2004-01-25T13:23:49Z", "creator": "krueger@signal7.de", "creation_time": "2004-01-25T13:23:49Z", "is_private": false, "attachment_id": 10082}, {"count": 2, "tags": [], "bug_id": 26414, "attachment_id": null, "id": 51124, "time": "2004-01-25T13:27:56Z", "creator": "remm@apache.org", "creation_time": "2004-01-25T13:27:56Z", "is_private": false, "text": "I think I'm ok with your patch. However I have a question: did you try to add\nthe needed resource for the transaction in a DefaultContext ?"}, {"count": 3, "tags": [], "creator": "krueger@signal7.de", "attachment_id": null, "text": "No, I didn't, since in my case I have the webapps sharing the transactionmanager\ndeployed in separate services. \n\nBTW I'll attach a patch for the wrong Exception type thrown in\norg.apache.naming.NamingContext implementation. Then my other patch will not\ncreate a warning anymore.\n\n ", "id": 51129, "time": "2004-01-25T15:03:36Z", "bug_id": 26414, "creation_time": "2004-01-25T15:03:36Z", "is_private": false}, {"count": 4, "tags": [], "text": "Created attachment 10083\nFixes Exception thrown when bind fails because the name is already bound", "attachment_id": 10083, "id": 51130, "creator": "krueger@signal7.de", "time": "2004-01-25T15:05:00Z", "bug_id": 26414, "creation_time": "2004-01-25T15:05:00Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 26414, "attachment_id": null, "id": 51240, "time": "2004-01-27T12:02:08Z", "creator": "remm@apache.org", "creation_time": "2004-01-27T12:02:08Z", "is_private": false, "text": "Fixed, thanks."}]