[{"count": 0, "tags": [], "creator": "tuneki@pb.jp.nec.com", "attachment_id": null, "text": "on 64bit binary (compile with cc -xarch=v9)\nmod_proxy connect to localhost (127.0.0.1) by request of any IP address site.\n(e.g. http://10.11.12.13/)\n# 32bit binary does not have problem.\n\n## access log\n127.0.0.1 - - [20/Aug/2003:15:01:42 +0900] \"GET / HTTP/1.1\" 200 118\n192.168.91.93 - - [20/Aug/2003:15:13:09 +0900] \"GET http://10.11.12.13/\nHTTP/1.0\" 200 118\n\n\ntype of ipaddr (member of struct per_thread_data) is u_long.\nsize of u_long is 64bit on sparcv9 (LP64).\nBecause of that, gethostbyaddr() returns NULL. \n# at proxy_util.c: 998  (ap_proxy_host2addr())\nand server.sin_addr becomes 0.\n# at proxy_http.c: 276  (ap_proxy_http_handler())\n\n\nfix it.\n\n--- src/modules/proxy/mod_proxy.h.orig  Tue Feb  4 02:13:26 2003\n+++ src/modules/proxy/mod_proxy.h       Wed Aug 20 20:42:43 2003\n@@ -256,7 +256,7 @@\n \n struct per_thread_data {\n     struct hostent hpbuf;\n-    u_long ipaddr;\n+    in_addr_t ipaddr;\n     char *charpbuf[2];\n };\n /* Function prototypes */", "id": 43045, "time": "2003-08-20T12:08:33Z", "bug_id": 22586, "creation_time": "2003-08-20T12:08:33Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 22586, "attachment_id": null, "id": 65585, "time": "2004-10-23T12:05:50Z", "creator": "jorton@redhat.com", "creation_time": "2004-10-23T12:05:50Z", "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of 25779 ***"}]