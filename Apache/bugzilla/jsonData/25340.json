[{"count": 0, "tags": [], "creator": "vvikram@everesttech.net", "is_private": false, "text": "small change to the srclib/apr-util/build/apr-conf.m4 rule file. currently the\ncheck for db4 goes like:\n- check for db4\n- check for db4.0\n\nanother check should be added to make it\n- check for db4\n- check for db-4\n- check for db4.0\n\nor at the very least it should be:\n- check for db4\n- check for db-4\n\nthis is because a libdb4 built from source usually defaults to libdb-4.so which\nis a symlink to the actual version. we have encountered this more than once\nwhile we built apache and lidb4 support from source.\n\nthe patch for [db4, db-4] . you might want to add back db-4.0 check in it. \nthanks for the great work!\n\n---\n\ndiff -Naur source/httpd-2.0.47/srclib/apr-util/build/apu-conf.m4\nbuild/httpd-2.0.47/srclib/apr-util/build/apu-conf.m4\n--- source/httpd-2.0.47/srclib/apr-util/build/apu-conf.m4   2003-05-28\n02:56:21.000000000 -0700\n+++ build/httpd-2.0.47/srclib/apr-util/build/apu-conf.m4    2003-11-30\n16:54:49.000000000 -0800\n@@ -135,9 +135,9 @@\n   apu_db_lib=db4\n   apu_db_version=4\n   ], [\n-  AC_CHECK_LIB(db-4.0, db_create, [\n+  AC_CHECK_LIB(db-4, db_create, [\n   apu_db_header=db4/db.h\n-  apu_db_lib=db-4.0\n+  apu_db_lib=db-4\n   apu_db_version=4\n   ])])])\n if test \"$apu_db_version\" != \"4\"; then", "id": 48694, "time": "2003-12-08T21:02:32Z", "bug_id": 25340, "creation_time": "2003-12-08T21:02:32Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 25340, "attachment_id": null, "is_private": false, "id": 58754, "time": "2004-06-04T13:32:47Z", "creator": "jorton@redhat.com", "creation_time": "2004-06-04T13:32:47Z", "text": "I don't think I've seen a libdb-4.so created; what platform is this on?  The bdb\ndetection code was enhanced since 2.0.47; maybe you could try 2.0.49 to see if\nit works out of the box?  Please re-open if there are still issues with 2.0.49."}]