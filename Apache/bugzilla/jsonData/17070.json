[{"count": 0, "tags": [], "creator": "richard_kennard@hotmail.com", "attachment_id": null, "id": 31274, "creation_time": "2003-02-14T04:33:48Z", "time": "2003-02-14T04:33:48Z", "bug_id": 17070, "text": "Dear Sir/Madam,\n\nThe 'accepted' approach to building and installing WARs using the Catalina Ant \ntasks, after first starting Tomcat, is...\n\n<taskdef name=\"install\" classname=\"org.apache.catalina.ant.InstallTask\"/>\n\n<install url=\"${tomcat.manager}\"\n            username=\"${tomcat.username}\"\n            password=\"${tomcat.password}\"\n            path=\"/${tomcat.app}\"\n            war=\"file://${builddir}/myapp.war\"/>\n\n...however this will FAIL on subsequent builds (without restarting Tomcat) with \nan 'application already installed' BuildException, so the subsequent 'accepted' \napproach is...\n\n<taskdef name=\"install\" classname=\"org.apache.catalina.ant.RemoveTask\"/>\n<taskdef name=\"install\" classname=\"org.apache.catalina.ant.InstallTask\"/>\n\n<remove url=\"${tomcat.manager}\"\n            username=\"${tomcat.username}\"\n            password=\"${tomcat.password}\"\n            path=\"/${tomcat.app}\"/>\n\n<install url=\"${tomcat.manager}\"\n            username=\"${tomcat.username}\"\n            password=\"${tomcat.password}\"\n            path=\"/${tomcat.app}\"\n            war=\"file://${builddir}/myapp.war\"/>\n\nIt should be noted that, equally, this latter approach will FAIL the first time \nin (with a 'no application to remove' BuildException).\n\nHaving to toggle between these two approaches every 'development session' (the \nformer the first time in, the latter all subsequent times before restarting \nTomcat) is very unproductive.\n\nNone of the 'accepted' docs seem to address this problem, so either I am being \nan idiot (very possible :) or we could really do with a, say, 'ignoreFailure' \nparameter in AbstractCatalinaTask (that simply catches the Exception, logs it, \nbut does not stop the build for it).\n\nThat way we could use the latter build script every time, making things much \neasier for us all :)\n\nMany thanks for your time,", "is_private": false}, {"count": 1, "tags": [], "bug_id": 17070, "is_private": false, "id": 31275, "attachment_id": null, "creator": "richard_kennard@hotmail.com", "creation_time": "2003-02-14T04:35:17Z", "time": "2003-02-14T04:35:17Z", "text": "(sorry - I messed up my 'taskdefs' in the second Ant script, but it doesn't \nchange the problem)"}, {"count": 2, "tags": [], "text": "No response from anybody? Just to encourage you, I've implemented this (very \nsimple) change in my own build scripts and it really is very beneficial...", "attachment_id": null, "id": 32523, "creator": "richard_kennard@hotmail.com", "time": "2003-03-06T02:52:08Z", "bug_id": 17070, "creation_time": "2003-03-06T02:52:08Z", "is_private": false}, {"count": 3, "tags": [], "creator": "ronald@klop.yi.org", "attachment_id": null, "id": 32544, "time": "2003-03-06T10:15:43Z", "bug_id": 17070, "creation_time": "2003-03-06T10:15:43Z", "is_private": false, "text": "Than why don't you attach a patch to this bugreport? "}, {"count": 4, "text": "Created attachment 5190\nAdded a 'ignoreFailure' flag to prevent Ant tasks stopping the build", "bug_id": 17070, "attachment_id": 5190, "id": 32612, "time": "2003-03-06T22:59:03Z", "creator": "richard_kennard@hotmail.com", "creation_time": "2003-03-06T22:59:03Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 17070, "attachment_id": null, "id": 32613, "time": "2003-03-06T23:01:21Z", "creator": "richard_kennard@hotmail.com", "creation_time": "2003-03-06T23:01:21Z", "is_private": false, "text": "Wow - excuse my ignorance in not knowing I was meant/able to do this (I hope \nyour comment wasn't meant harshly?).\n\nI have, as instructed, attached a new version of AbstractCatalinaTask that I \nhave found to be useful in my own builds. There will, of course, still need \nsome docs to be updated (if, indeed, you approve my change).\n"}, {"count": 6, "tags": [], "creator": "ronald-lists@klop.ws", "attachment_id": null, "id": 32617, "creation_time": "2003-03-06T23:44:12Z", "time": "2003-03-06T23:44:12Z", "bug_id": 17070, "text": "No, my comment wasn't meant harshly. Just a question. Little short maybe. \nBut I don't have commit rights, so I can't do anything with it, but there are other ant \ndevelopers out there who do these things and the chance is much bigger they do \nsomething with a bug report with a patch attached, than one without. :-) ", "is_private": false}, {"count": 7, "tags": [], "bug_id": 17070, "attachment_id": null, "is_private": false, "id": 142715, "time": "2010-12-14T19:34:58Z", "creator": "markt@apache.org", "creation_time": "2010-12-14T19:34:58Z", "text": "\n\n*** This bug has been marked as a duplicate of bug 10225 ***"}]