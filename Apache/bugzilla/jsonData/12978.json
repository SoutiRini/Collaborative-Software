[{"count": 0, "tags": [], "creator": "mraible@apache.org", "attachment_id": null, "is_private": false, "id": 23333, "time": "2002-09-24T22:03:09Z", "bug_id": 12978, "creation_time": "2002-09-24T22:03:09Z", "text": "I have the following in web.xml:\n\n    <error-page>\n        <error-code>500</error-code>\n        <location>/errorPage.jsp</location>\n    </error-page>\n    <error-page>\n        <exception-type>javax.servlet.ServletException</exception-type>\n        <location>/errorPage.jsp</location>\n    </error-page>\n\nHowever, I keep getting stacktraces instead of my error page."}, {"count": 1, "tags": [], "bug_id": 12978, "attachment_id": null, "id": 23334, "time": "2002-09-24T22:24:44Z", "creator": "sreilly@point2.com", "creation_time": "2002-09-24T22:24:44Z", "is_private": false, "text": "This seems to be the same thing that is happening in Bug #11091.\nI don't know of a solution, but I do have a potential workaround that you could \ntry:  If you change the exception-type parameter to java.lang.Throwable or \njava.lang.Exception, you should see your custom error page again."}, {"count": 2, "tags": [], "text": "So something was \"broken\" b/w 4.0.4 and 4.1.x?  I'm trying to migrate an \napplication from 4.0.4 - where everything works fine.", "is_private": false, "id": 23335, "creator": "mraible@apache.org", "time": "2002-09-24T22:58:21Z", "bug_id": 12978, "creation_time": "2002-09-24T22:58:21Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "jakarta@trollingers.com", "attachment_id": 3270, "is_private": false, "id": 23570, "time": "2002-09-27T18:30:56Z", "bug_id": 12978, "creation_time": "2002-09-27T18:30:56Z", "text": "Created attachment 3270\no.a.c.v.ErrorDispatcherValve patch"}, {"count": 4, "attachment_id": null, "bug_id": 12978, "text": "This patch should fix your problems.\n\nthe valve was never handling ServletException when looking for errorpages.\n\nsee SRV.9.9.2", "id": 23571, "time": "2002-09-27T18:33:43Z", "creator": "jakarta@trollingers.com", "creation_time": "2002-09-27T18:33:43Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 12978, "attachment_id": 3271, "id": 23573, "time": "2002-09-27T18:42:15Z", "creator": "jakarta@trollingers.com", "creation_time": "2002-09-27T18:42:15Z", "is_private": false, "text": "Created attachment 3271\no.a.c.v.ErrorDispatcherValve newer patch"}, {"count": 6, "tags": [], "bug_id": 12978, "text": "The second patch conforms to the spec.. the first still did things backwords..\n\n<quote>\nThe web application may have declared error pages using the exception-type\nelement. In this case the container matches the exception type by comparing the\nexception thrown with the list of error-page definitions that use the \nexceptiontype element. A match results in the container returning the resource \nindicated in the location entry. The closest match in the class heirarchy wins.\n\nIf no error-page declaration containing an exception-type fits using the\nclass-heirarchy match, and the exception thrown is a ServletException or\nsubclass thereof, the container extracts the wrapped exception, as defined by \nthe ServletException.getRootCause method. A second pass is made over the error\npage declarations, again attempting the match against the error page \ndeclarations, but using the wrapped exception instead.\n</quote>\n\nas you can see it needs to check for the ServletException first, and if a page \nis not found for them then it needs to check the root cause..\n\nor atleast that is how I read it..", "id": 23574, "time": "2002-09-27T18:44:24Z", "creator": "jakarta@trollingers.com", "creation_time": "2002-09-27T18:44:24Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "jakarta@trollingers.com", "attachment_id": 3272, "is_private": false, "id": 23575, "time": "2002-09-27T18:47:48Z", "bug_id": 12978, "creation_time": "2002-09-27T18:47:48Z", "text": "Created attachment 3272\no.a.c.v.ErrorDispatcherValve even newer.. one of those days...."}]