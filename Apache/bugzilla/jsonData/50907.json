[{"count": 0, "tags": [], "bug_id": 50907, "attachment_id": null, "text": "If I start httpd as a console, everything works correctly.  If I start as a service, the php module fauls to load.  Messages and actual behavior suggest that the path is being treated strangely. \n\nHere are the relevant lines from httpd.conf\n\nPHPINIDir \"c:\\program files (x86)\\php\\\"\nLoadModule php5_module \"c:\\program files (x86)\\php\\php5apache2_2.dll\"\n\nthe error message when started as a service is:\nhttpd.exe: Syntax error on line 690 of C:/Program Files (x86)/Apache Software Foundation/Apache2.2/conf/httpd.conf: Cannot load C:/Program Files (x86)/Apache Software Foundation/Apache2.2/php5apache2_2.dll into server: The specified module could not be found.  \n\nNote that the path in the message is to the apache root, not the path in the config file.  And, if I put a copy of php5apache2_2.dll in the place designated by the error message, it changes and the error becomes a complaint about the syntax of the PHPINIDir line.\n\nAs I said, this works if apache is started as a console application, and it used to work with an earlier version of apache.", "id": 144896, "time": "2011-03-09T19:30:53Z", "creator": "ddyer-apache@real-me.net", "creation_time": "2011-03-09T19:30:53Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 50907, "text": "Have you tried with / instead of \\ in the path?", "id": 144899, "time": "2011-03-10T02:49:14Z", "creator": "rpluem@apache.org", "creation_time": "2011-03-10T02:49:14Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "bug_id": 50907, "is_private": false, "id": 144902, "time": "2011-03-10T05:23:57Z", "creator": "ddyer-apache@real-me.net", "creation_time": "2011-03-10T05:23:57Z", "tags": [], "text": "(In reply to comment #1)\n> Have you tried with / instead of \\ in the path?\n\nYes, that was the original configuration. The \\ were a random\nflail to see what changes."}, {"count": 3, "attachment_id": null, "bug_id": 50907, "is_private": false, "id": 144916, "time": "2011-03-10T09:44:05Z", "creator": "covener@gmail.com", "creation_time": "2011-03-10T09:44:05Z", "tags": [], "text": "IIRC \"specified module cannot be found\" can also mean any transitive dependency of the one you're trying to load.  Look at your php lib in \"dependency walker\" and ensure everything else is in your search path."}, {"count": 4, "tags": [], "creator": "ddyer-apache@real-me.net", "text": "Good guess, but no cigar.  Some interesting bits to report, though.\nThere's a direct dependent of php5apache2_2.dll called php5ts.dll\n\nThe \"console mode start\" process, which works, finds both this an a bunch of unreported dependents stored in the php\\ext directory.  I monitored this\nwith procmon.\n\nThe \"service mode\" start option, which doesn't work and is the subject\nof this discussion, never looks for either (according to procmon).  But,\nif I place a copy of php5apache2_2.dll in the apache root directory, then\nthat copy is loaded, AND php5ts.dll is loaded FROM THE PHP DIRECTORY.\nSo apparently the loadmodule process is making some progress.  However\nthe rest of the process (all the sub dlls in ext) are not loaded, and\nthe complaint in the log becomes this:\n\n\nSyntax error on line 689 of C:/Program Files (x86)/Apache Software Foundation/Apache2.2/conf/httpd.conf:\nPHPINIDir takes one argument, Directory containing the php.ini file", "id": 144920, "time": "2011-03-10T13:50:27Z", "bug_id": 50907, "creation_time": "2011-03-10T13:50:27Z", "is_private": false, "attachment_id": null}, {"count": 5, "attachment_id": null, "bug_id": 50907, "is_private": false, "id": 144923, "time": "2011-03-10T16:55:23Z", "creator": "wrowe@apache.org", "creation_time": "2011-03-10T16:55:23Z", "tags": [], "text": "Bugzilla is not a support forum, take this to the users@ list.  While you are\nat it, search the users@httpd.apache.org mailing list archives, you'll find\nthis question is comprehensively answered about twice a year."}, {"count": 6, "tags": [], "bug_id": 50907, "is_private": false, "text": "(In reply to comment #5)\n> Bugzilla is not a support forum, take this to the users@ list.  While you are\n> at it, search the users@httpd.apache.org mailing list archives, you'll find\n> this question is comprehensively answered about twice a year.\n\nBeen there, done that.  I've seen threads about basic PHP configuration which advise doing exactly what I'm doing.  If you read this complaint and subsequent conversation with your framethrower off, I think you'll see that it's hard to see how the behavior I'm reporting is NOT a bug.  Ie; apache starts as a console but not as a service.  apache loads a DLL from its root directory even though that directory is not mentioned anywhere.  Apache issues an incoherent complaint about the format of a directive that looks like it doesn't apply to the actual contents of the directive.  Also (not previously mentioned) the line numbers given for in the error report don't correspond to the lines of the httpd.conf that contain the directives in question.", "id": 144924, "time": "2011-03-10T17:07:41Z", "creator": "ddyer-apache@real-me.net", "creation_time": "2011-03-10T17:07:41Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 50907, "text": "mod_php is not an ASF project, you need to take this to them, or confer with\nfellow users who have had to debug the very same problem.  I'm not giving you\nthe answer because *bugzilla is not a support forum* but your server is not\nconfigured correctly, and mod_php is not an ASF project, and this incident\nis closed.\n\nReread my post, the flamethrower was absolutely peace bonded, I told you\nprecisely where you could go to find assistance and answers.", "id": 144925, "time": "2011-03-10T17:32:34Z", "creator": "wrowe@apache.org", "creation_time": "2011-03-10T17:32:34Z", "is_private": false, "attachment_id": null}]