[{"count": 0, "tags": [], "creator": "jozef.chocholacek@qbizm.cz", "is_private": false, "text": "Add some attributes to the session, then remove them all, and the attributes tag\nwill still show the last attribute as present in the session (but it is not\nreally there - see the code):\n\n<%@ page language=\"java\" contentType=\"text/html\" pageEncoding=\"UTF-8\" %>\n<%@ page import=\"java.util.*\" %>\n<%@ taglib uri=\"http://jakarta.apache.org/taglibs/session-1.0\" prefix=\"sess\" %>\n<!DOCTYPE HTML PUBLIC \"-//w3c//dtd html 4.0 transitional//en\">\n<html>\n<head>\n<title>Pokus</title>\n</head>\n<body bgcolor=\"#FFFFFF\">\n<%\n  String id = request.getParameter(\"id\");\n  String value = request.getParameter(\"value\");\n  String action = request.getParameter(\"action\");\n  if (action==null) action=\"no action\";\n  if (action.equals(\"add\")) {\n     session.setAttribute(id,value);\n  } else if (action.equals(\"remove\")) {\n     session.removeAttribute(id);\n  }\n%>\n<%= action %>\n<hr/>\n<ul>\n<li><a href=\"pokus.jsp?action=add&id=1&value=bla\">1/bla</a></li>\n<li><a href=\"pokus.jsp?action=add&id=1&value=huh\">1/huh</a></li>\n<li><a href=\"pokus.jsp?action=add&id=2&value=foo\">2/foo</a></li>\n<li><a href=\"pokus.jsp?action=add&id=2&value=bar\">2/bar</a></li>\n<li><a href=\"pokus.jsp?action=remove&id=1\">remove 1</a></li>\n<li><a href=\"pokus.jsp?action=remove&id=2\">remove 2</a></li>\n</ul>\n<hr/>\n  <sess:attributes id=\"attr\">\n    Name: '<jsp:getProperty name=\"attr\" property=\"name\"/>',\n    Value: '<jsp:getProperty name=\"attr\" property=\"value\"/>'\n    <br/>\n  </sess:attributes>\n<hr/>\n<%\n  Enumeration atts = session.getAttributeNames();\n  while (atts.hasMoreElements()) {\n     String name = (String) atts.nextElement();\n%>\n  '<%= name %>' = '<%= session.getAttribute(name) %>'<br/>\n<%\n  }\n%>\n<hr/>\n</body>\n</html>", "id": 43047, "time": "2003-08-20T12:52:32Z", "bug_id": 22587, "creation_time": "2003-08-20T12:52:32Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 22587, "attachment_id": null, "text": "I suspect this has to do with attribute synchronisation points between the tags \nand the page. IMHO, the tag is accessing session attributes in a way that does \nnot guarantee synchronisation.", "id": 48718, "time": "2003-12-09T07:30:58Z", "creator": "martinc@apache.org", "creation_time": "2003-12-09T07:30:58Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 22587, "attachment_id": null, "text": "The session taglib has been deprecated, we do not expect any development \naround it in the near future. Please switch to the using JSTL, if possible.\n", "id": 80417, "time": "2005-09-24T16:56:59Z", "creator": "rahul@apache.org", "creation_time": "2005-09-24T16:56:59Z", "is_private": false}]