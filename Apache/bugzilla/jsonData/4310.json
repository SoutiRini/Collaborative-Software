[{"count": 0, "text": "Host and Context start events are triggered twice during startup.  This causes\nthings like Servlet 2.3 Listeners to be executed twice and increases the\namount of time it takes to startup Tomcat 4.\n\nHere are the two stack traces from when a Sevlet 2.3 lister was invoked for\nthe same Context on startup.\n\nWebService.configure()\nnet.more.soap.webservices.system.KineticSystemException: This is a test\n        at net.more.soap.webservices.WebService.doConfigure(WebService.java:121)\n        at net.more.soap.webservices.WebService.configure(WebService.java:109)\n        at\nnet.more.soap.webservices.session.SessionWriter.contextInitialized(SessionWriter.java:37)\n        at\norg.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3176)\n        at\norg.apache.catalina.core.StandardContext.start(StandardContext.java:3367)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:612)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n        at\norg.apache.catalina.core.StandardEngine.start(StandardEngine.java:307)\n        at\norg.apache.catalina.core.StandardService.start(StandardService.java:388)\n        at\norg.apache.catalina.core.StandardServer.start(StandardServer.java:505)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:481)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:388)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:178)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:243)\n\n\nWebService.configure()\nnet.more.soap.webservices.system.KineticSystemException: This is a test\n        at net.more.soap.webservices.WebService.doConfigure(WebService.java:121)\n        at net.more.soap.webservices.WebService.configure(WebService.java:109)\n        at\nnet.more.soap.webservices.session.SessionWriter.contextInitialized(SessionWriter.java:37)\n        at\norg.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3176)\n        at\norg.apache.catalina.core.StandardContext.start(StandardContext.java:3367)\n        at\norg.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:785)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:454)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:712)\n        at\norg.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:300)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:389)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:232)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:155)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1131)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:612)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)\n        at\norg.apache.catalina.core.StandardEngine.start(StandardEngine.java:307)\n        at\norg.apache.catalina.core.StandardService.start(StandardService.java:388)\n        at\norg.apache.catalina.core.StandardServer.start(StandardServer.java:505)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:481)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:388)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:178)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:243)", "bug_id": 4310, "is_private": false, "id": 6933, "time": "2001-10-21T05:41:23Z", "creator": "glenn@apache.org", "creation_time": "2001-10-21T05:41:23Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "text": "Are you sure it's the same context ?\n\nThe first trace is from a context which is explicitely declared in the \nserver.xml file.\n\nThe second one is from a context deployed by the HostConfig.\n\nIn any case, both stacks go through ContainerBase.start (and presumably \naddChild) twice, which can't happen on the same context.", "attachment_id": null, "bug_id": 4310, "id": 6940, "time": "2001-10-21T13:37:17Z", "creator": "remm@apache.org", "creation_time": "2001-10-21T13:37:17Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 4310, "text": "After further investigation, it turns out it's the same issue as in bug 4299.\n\nIn 4.1, a flag will be added to allow disabling auto-deployment.\n\n*** This bug has been marked as a duplicate of 4299 ***", "id": 6952, "time": "2001-10-21T18:24:00Z", "creator": "remm@apache.org", "creation_time": "2001-10-21T18:24:00Z", "is_private": false, "attachment_id": null}]