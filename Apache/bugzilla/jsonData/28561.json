[{"count": 0, "tags": [], "bug_id": 28561, "attachment_id": null, "id": 56313, "time": "2004-04-23T18:30:13Z", "creator": "CGonzalez@posneradv.com", "creation_time": "2004-04-23T18:30:13Z", "is_private": false, "text": "if the DocumentRoot directive is specified, then DOCUMENT_ROOT uses the \ndirective's value.  \n\nif the VirtualDocumentRoot directive is specified, then DOCUMENT_ROOT still \nuses the directive's value.  \n\nif the VirtualDocumentRoot directive is specified and DocumentRoot is not \nspecified, then DOCUMENT_ROOT uses /apache/htdocs.\n\nThe conf info below uses the plain-vanilla httpd.conf with an include at the \nbottom that uses the information below.\n------------------------------------------------------------\n\nUseCanonicalName Off\n\nLogFormat \"%V %h %l %u %t \\\"%r\\\" %s %b\" vcommon\n\n<Directory /web/www/>\nOptions FollowSymLinks\nAllowOverride All\n</Directory>\n\n<VirtualHost 38.117.191.236>\nServerName dev.posneradv.net\nCustomLog logs/access_mass.log vcommon\nVirtualDocumentRoot \"c:/web/www/%1/\"\n</VirtualHost>"}, {"count": 1, "tags": [], "bug_id": 28561, "text": "Is this a bug?\n\nIt seems to me that this is the desired behavoir.  \n\nmod_vhost_alias should not change the DOCUMENT_ROOT, rather it acts as a\nap_hook_translate_name(), only translating the requested vhost into a path.\n\n-Paul Querna\n", "id": 56601, "time": "2004-04-29T01:38:52Z", "creator": "chip@force-elite.com", "creation_time": "2004-04-29T01:38:52Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 28561, "attachment_id": null, "text": "No, it isn't. DOCUMENT_ROOT is one of the most useless variables, since it\ndoesn't (and cannot!) map things like Alias, RewriteRules, Userdir etc.\nmod_vhost_alias falls unders the alias/rewrite category (technically and also on\na higher level of abstraction).\n-> wontfix.", "id": 56603, "time": "2004-04-29T05:32:38Z", "creator": "nd@perlig.de", "creation_time": "2004-04-29T05:32:38Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 28561, "attachment_id": null, "text": "Hi!  \n  \n> No, it isn't. DOCUMENT_ROOT is one of the most useless variables, since it  \n> doesn't (and cannot!) map things like Alias, RewriteRules, Userdir etc.  \n  \nHow can you jugde on the needs of the administrator of an apache system?  \n  \nIn our configuration DOCUMENT_ROOT would be a very, very usefull variable \nbecause I can't get the real filesystem path to the mod_vhost_aliased with any \nother variable, can I? \n \nI think, not setting DOCUMENT_ROOT for a mod_vhost_aliased VHOST is a bug, not \na feature that have to be fixed. Otherwise we have to drop mod_vhost_alias and \nhave to return to real vhosts and much \"apache2ctrl graceful\" restarts of the \nApache2. This should not be solution, or? \n \nRegards, \n \nChrisDi ", "id": 85220, "time": "2006-01-30T20:17:29Z", "creator": "chrisdi@flossolis.de", "creation_time": "2006-01-30T20:17:29Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 28561, "text": "This cannot be called a bug, but only an enhancement request. According to\nhttp://httpd.apache.org/docs/2.0/vhosts/mass.html#overview DOCUMENT_ROOT cannot\nbe used in this situation. If you need to know the document root in an\nenvironment variable please use mod_rewrite for mass virtual hosting\n(http://httpd.apache.org/docs/2.0/vhosts/mass.html#simple.rewrite) and set a\ncustom variable using the E flag of mod_rewrite (DOCUMENT_ROOT cannot be\noverwritten).", "id": 85227, "time": "2006-01-30T21:47:46Z", "creator": "rpluem@apache.org", "creation_time": "2006-01-30T21:47:46Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 28561, "text": "Hi,\n\na little precious than ChrisDi:\n\nHe/we use shtml files and therefore the DOCUMENT_ROOT is needed!\n\nEven vor RewriteRules DOCUMENT_ROOT is useful - we have multiple Domains with\nTypo3 installations and with the old apache1 the rules won't fit without this\nvariable - only with this writing:\n\n    RewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME}     !-f\n    RewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME}     !-d\n    RewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME}     !-l\n    RewriteRule .*                                      /index.php\n\nGreets\n\nReiner", "id": 85257, "time": "2006-01-31T14:49:19Z", "creator": "Keller@DLRG.de", "creation_time": "2006-01-31T14:49:19Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 28561, "text": "That last comment is an excellent example of why DOCUMENT_ROOT symantics should\nnot be changed.  Two reasonable people could have two completely different ideas\nabout what the \"proper\" value for DOCUMENT_ROOT in those rules is.  If you start\nplaying around with this, there is really no way to consistently predict what\nwill be in DOCUMENT_ROOT, since it would change based on the phase of processing.\n\nMaking available a VIRTUAL_DOCUMENT_ROOT variable would seem like a sensible\nalternative.  But this bug is a dupe, so please direct your propsed patches to\nbug 26052.\n\n*** This bug has been marked as a duplicate of 26052 ***", "id": 85271, "time": "2006-01-31T20:15:39Z", "creator": "slive@apache.org", "creation_time": "2006-01-31T20:15:39Z", "is_private": false, "attachment_id": null}]