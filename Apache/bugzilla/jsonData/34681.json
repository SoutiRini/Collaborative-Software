[{"count": 0, "tags": [], "bug_id": 34681, "text": "The javah task fails with the following message:\n\n[javah] Exception in thread \"main\" java.lang.NoClassDefFoundError:\ncom/sun/tools/javah/oldjavah/Main\n\nThe following build file will reproduce the error:\n\n<?xml version=\"1.0\"?>\n<project name=\"javah.bug\" default=\"produce.bug\" basedir=\".\">\n\n  <target name=\"produce.bug\">\n    <javah class=\"doesntmatter\" />\n  </target>\n\n</project>\n\n\nI am running Solaris 9 on a Sun Ultra 60, using JDK 1.5.0.\n\nI posted a question about this to user@ant.apache.org, and Antoine Levy-Lambert\nresponded with:\n\n\"The class which is trying to use com.sun.tools.javah.oldjavah.Main is\nsrc/main/org/apache/tools/ant/taskdefs/optional/javah/SunJavah.java\nhttp://cvs.apache.org/viewcvs.cgi/ant/src/main/org/apache/tools/ant/taskdefs/optional/javah/SunJavah.java\n\nI guess the problem is that the changes done in revision 1.2 and maybe \n1.3 too should have been merged to the ant 1.6.3 branch, but were not.\"\n\n\nThis problem makes Ant 1.6.3 unusable for any project that requires javah.", "id": 74285, "time": "2005-04-29T20:12:14Z", "creator": "maurice.feskanich@sun.com", "creation_time": "2005-04-29T20:12:14Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 34681, "text": "Yeah, this is probably the use-case that made me commit the 1.2 changes.  Since\nI didn't merge it, I'll take part of the blame here... now what?", "id": 74287, "time": "2005-04-29T20:27:37Z", "creator": "mbenson@apache.org", "creation_time": "2005-04-29T20:27:37Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 34681, "text": "Fixed in CVS.\n\nAs a workaround you could add tools.jar to your CLASSPATH.", "id": 74326, "time": "2005-05-02T17:04:07Z", "creator": "bodewig@apache.org", "creation_time": "2005-05-02T17:04:07Z", "is_private": false, "attachment_id": null}]