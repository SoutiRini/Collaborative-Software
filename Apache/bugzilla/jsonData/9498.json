[{"count": 0, "tags": [], "creator": "stoehr_sukachevin@hotmail.com", "is_private": false, "text": "Not sure if org.apache.ajp.RequestHandler is being updated any more or not \nsince the JK/AJP connector is deprecated, but just in case....\n\norg.apache.ajp.RequestHandler#doRead(Ajp13) does not always properly return an \ninteger of 0x00 - 0xFF since a byte is converted to an integer simply by \ncasting it to a char.\n\nSo instead of:\n\n        return (char) ch.bodyBuff[ch.pos++];\n\ndo:\n\n        return ch.bodyBuff[ch.pos++] & 0xFF;\n\n\nThis same type of issue came up in \nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=3534.\n\nFor example, if the Content-Encoding of an HTTP request is gzip, then gzip's \nmagic number in the first two bytes of the header will be read in by a servlet \nimproperly (0x001F and 0xFF8B instead of 0x001F and 0x008B).", "id": 16883, "time": "2002-05-29T18:20:53Z", "bug_id": 9498, "creation_time": "2002-05-29T18:20:53Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "nacho@apache.org", "is_private": false, "text": "Fixed in cvs, try a nigthly build to get this fix..\n\nThanks.", "id": 17846, "time": "2002-06-15T01:53:56Z", "bug_id": 9498, "creation_time": "2002-06-15T01:53:56Z", "attachment_id": null}]