[{"count": 0, "tags": [], "creator": "gary@cpanel.net", "attachment_id": null, "id": 172771, "time": "2014-01-28T22:22:29Z", "bug_id": 56081, "creation_time": "2014-01-28T22:22:29Z", "is_private": false, "text": "1.) Starting apache, for the first x minutes POST data works\n2.) After say, 5+ minutes, POST data stops working (using CURL to test out the posts and the likes)\n\nInital bt:\n\n#0  0x00007f524f8cc86f in ?? ()\n#1  0x0000000000440cdf in ap_is_recursion_limit_exceeded ()\n#2  0x00000000004b8ade in ap_byterange_filter ()\n#3  0x000000000045bbbf in get_ptoken ()\n#4  0x000000000045c070 in parse_expr ()\n#5  0x00000000004e49c9 in ?? ()\n#6  0x00007f524fb3c710 in ?? ()\n#7  0x0000000000000000 in ?? ()\n\nDetailed bt:\n\n#0  0x00007f125e3f3451 in ?? ()\nNo symbol table info available.\n#1  0x0000000000440ad8 in server_hostname_port (cmd=0x2525638, dummy=0x11e1a300, arg=0x250c7e0 \"x\\305P\\002\") at core.c:2360\n        err = 0x0\n        portstr = 0x250d028 \"\\360\\305P\\002\"\n        part = 0x2526cb8 \"8VR\\002\"\n        scheme = 0x250c5f0 \"x\\305P\\002\"\n        port = 0\n#2  0x00000000004b496a in extract_dn (t=0x0, nids=0x25256b0, pfx=0x2525638 \"x\\305P\\002\", xn=0x11e1a300, p=0x250c7e0) at ssl_engine_vars.c:701\n        ents = 0x2526cb8\n        xsne = 0x250c5f0\n        count = 0x0\n        i = 32767\n        nid = 0\n#3  0x000000000045b9b7 in get_basic_auth (r=0x45b9b7, user=0x7fff256c9f80, pw=0x0) at mod_auth_basic.c:159\n        auth_line = 0x24bde18 \"\\vHK\"\n        decoded_line = 0x250c7e0 \"x\\305P\\002\"\n        length = -1\n#4  0x000000000045be68 in cache_url_handler (r=0x45b9b7, lookup=32767) at mod_cache.c:73\n        rv = 0\n        auth = 0x250c7e0 \"x\\305P\\002\"\n        providers = 0x24bde18\n        cache = 0xffffffff00000000\n        conf = 0x7fff256c9fb0\n        out = 0x45be68\n        next = 0x250c5f0\n        cache_out_handle = 0x250c7e0\n#5  0x00000000004e0855 in subst_prefix_path (r=0xffffffff00000000, input=0x250c578 \"h\\245P\\002\", match=0x250a470 \"\\002\", subst=0x250a7b0 \"h\\245P\\002\") at mod_rewrite.c:930\n        len = 7831192\n#6  0x00000000004e0a3a in set_cache_value (name=0x4e0a3a \"\\211\\307\\350\\317\\303\\364\\377H\\213\\005\\340n%\", t=140733821264032, key=0x7fff256ca1f4 \"\\002\", \n    val=0xc3562 <Address 0xc3562 out of bounds>) at mod_rewrite.c:982\n        map = 0x781908\n#7  0x00000000004e0cdf in get_cache_value (name=0x7f12600efb80 \"\\v\", t=4294967295, key=0x2256ca1f8 <Address 0x2256ca1f8 out of bounds>, p=0x7fff256ca1f4)\n    at mod_rewrite.c:1062\n        map = 0x700000004\n        val = 0x8 <Address 0x8 out of bounds>\n#8  0x00000000004e123c in run_rewritemap_programs (s=0x0, p=0x0) at mod_rewrite.c:1240\n        fpin = 0x7f125ed7edbb\n        fpout = 0x0\n        map = 0x787300\n        val = 0x773080\n        conf = 0x78d358\n        hi = 0x787328\n---Type <return> to continue, or q <return> to quit--- \n        rc = 37338344\n        lock_warning_issued = 0\n#9  0x000000000042fff9 in main (argc=4, argv=0x7fff256ca408) at main.c:527\n        new = 0x77b2a0\n        c = 68 'D'\n        configtestonly = 0\n        ap_dump_loaded_directives = 0\n        confname = 0x4e3c9b \"\\001E\\220H\\213E\\260H\\203\\300\\001H\\211E\\230\\351@\\002\"\n        def_server_root = 0x4e3cab \"@\\002\"\n        temp_error_log = 0x0\n        error = 0x0\n        process = 0x777288\n        server_conf = 0x781908\n        pglobal = 0x777198\n        pconf = 0x7791a8\n        plog = 0x78d358\n        ptemp = 0x787328\n        pcommands = 0x77b1b8\n        opt = 0x77b2a8\n        rv = 0\n        mod = 0x71e5d0\n        optarg = 0x7fff256caf59 \"SSL\"\n        signal_server = 0x45e589 <add_cache_enable+71>\n\nctrl-x 2 gives\n\nCannot access memory at address 0x7f125e3f3451\n(gdb) \n\nnull pointer?\n\n# egrep 7f125e3 maps\n7f125e16f000-7f125e36f000 ---p 00041000 08:05 40963                      /lib64/libgssapi_krb5.so.2.2\n7f125e36f000-7f125e370000 r--p 00041000 08:05 40963                      /lib64/libgssapi_krb5.so.2.2\n7f125e370000-7f125e372000 rw-p 00042000 08:05 40963                      /lib64/libgssapi_krb5.so.2.2\n7f125e372000-7f125e4fd000 r-xp 00000000 08:05 41104                      /lib64/libc-2.12.so\n\n (gdb) up\n#1  0x0000000000440ad8 in server_hostname_port (cmd=0x2525638, dummy=0x11e1a300, arg=0x250c7e0 \"x\\305P\\002\") at core.c:2360\n2360          ap_str_tolower(scheme);\n(gdb) l\n2355\n2356        part = ap_strstr_c(arg, \"://\");\n2357\n2358        if (part) {\n2359          scheme = apr_pstrmemdup(cmd->pool, arg, part - arg);\n2360          ap_str_tolower(scheme);\n2361          cmd->server->server_scheme = scheme;\n2362          part += 3;\n2363        } else {\n2364          part = arg;\n(gdb)\n\n(gdb) down\n#1  0x0000000000440ad8 in server_hostname_port (cmd=0x252abf8, dummy=0x11e1a300, arg=0x2510da0 \"8\\vQ\\002\") at core.c:2360\n2360          ap_str_tolower(scheme);\n(gdb) list\n2355\n2356        part = ap_strstr_c(arg, \"://\");\n2357\n2358        if (part) {\n2359          scheme = apr_pstrmemdup(cmd->pool, arg, part - arg);\n2360          ap_str_tolower(scheme);\n2361          cmd->server->server_scheme = scheme;\n2362          part += 3;\n2363        } else {\n2364          part = arg;\n(gdb) print cmd->pool\n$2 = (apr_pool_t *) 0x0\n(gdb) print cmd\n$3 = (cmd_parms *) 0x252abf8\n(gdb) ptype cmd\ntype = struct cmd_parms_struct {\n    void *info;\n    int override;\n    apr_int64_t limited;\n    apr_array_header_t *limited_xmethods;\n    ap_method_list_t *xlimited;\n    ap_configfile_t *config_file;\n    ap_directive_t *directive;\n    apr_pool_t *pool;\n    apr_pool_t *temp_pool;\n    server_rec *server;\n    char *path;\n    const command_rec *cmd;\n    struct ap_conf_vector_t *context;\n    const ap_directive_t *err_directive;\n    int override_opts;\n} *\n(gdb) print *cmd\n$4 = {info = 0x2510b38, override = 0, limited = 0, limited_xmethods = 0x2510b40, xlimited = 0x252c1b8, config_file = 0x252c298, directive = 0x250ea30, pool = 0x0, temp_pool = 0x0, server = 0x0, \n  path = 0x4e52a8 \"\\225\", cmd = 0x252abd0, context = 0x252abd0, err_directive = 0x252ac70, override_opts = 0}"}]