[{"count": 0, "tags": [], "text": "I have recently installed mod_jk on apache under windows 2k.  When I try to \nrestart the server, it fails reporting: \nwinnt_accept: Asynchronous AcceptEx failed\n\nWhen i comment out the line:\nInclude \"C:/Program Files/Apache Tomcat 4.0/conf/auto/mod_jk.conf\"\nit starts fine.\n\nthe following is a copy of the mod_jk.conf:\n\n-- START mod_jk.conf --\n\n########## Auto generated on Sat Aug 10 18:01:23 ADT 2002##########\n\n<IfModule !mod_jk.c>\n  LoadModule jk_module C:/Program Files/Apache Group/Apache2/modules/mod_jk.dll\n</IfModule>\n\n\n<VirtualHost localhost>\n    ServerName localhost\n\n    JkMount /manager ajp13\n    JkMount /manager/* ajp13\n\n    JkMount /examples ajp13\n    JkMount /examples/* ajp13\n\n    JkMount /tomcat-docs ajp13\n    JkMount /tomcat-docs/* ajp13\n\n    JkMount /webdav ajp13\n    JkMount /webdav/* ajp13\n\n    JkMount /jk ajp13\n    JkMount /jk/* ajp13\n</VirtualHost>\n\n-- END mod_jk.conf --", "is_private": false, "id": 20872, "creator": "clomax@coemergence.com", "time": "2002-08-10T21:21:34Z", "bug_id": 11608, "creation_time": "2002-08-10T21:21:34Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 11608, "text": "\n  We have several small fixes in 2.0.40 that might go some ways to resolving\n  your problems.  If not, you should reclass this bug as a tomcat-connector\n  bug, not an Apache bug, since we aren't seeing this in the usual apache\n  configurations.\n\n  Let us know if 2.0.40 fixes the bug for you, with the latest and greatest\n  mod_jk compiled for Apache 2.0.40.  If a tomcat 4.1.8 mod_jk with 2.0.40\n  repeats this error, please reopen.", "id": 21117, "time": "2002-08-15T21:27:52Z", "creator": "wrowe@apache.org", "creation_time": "2002-08-15T21:27:52Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "I'm having this same problem. I had 2.0.40. I tried upgradeing to 2.0.42, but \nit does the same thing yet.\n\n[Fri Oct 04 01:08:02 2002] [error] (730038)An operation was attempted on \nsomething that is not a socket.  : winnt_accept: AcceptEx failed. Attempting to \nrecover.\n\nI'm not using any jkmounts or anything like that..", "is_private": false, "bug_id": 11608, "id": 23883, "time": "2002-10-04T05:25:05Z", "creator": "mattsoft@mattsoft.net", "creation_time": "2002-10-04T05:25:05Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 11608, "text": "I tried reinstalling windows on my computer again. same problem yet. and it \nwont work on my other windows 2000 server computer either. I tried it on this \ncomputer with windows 2000 pro service pack 2 and 3. apache 1.3.14, 2.0.36, \n2.0.40, and 2.0.43.. I have to fix it asap, but I can't find any information on \nit anywhere.\n\n[Fri Oct 04 23:16:36 2002] [error] (32538)An operation was attempted on \nsomething that is not a socket.  : winnt_accept: AcceptEx failed. Attempting to \nrecover.\n\nI have a new epox motherboard and an athlon xp 2000+ prosessor, a netgear fa311 \nnetwork card, netgear hub... please hurry", "id": 23987, "time": "2002-10-05T04:35:27Z", "creator": "mattsoft@mattsoft.net", "creation_time": "2002-10-05T04:35:27Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "I had the same problem when upgrading from 2.00.40 to 2.00.43 - the latest \nrelease failed with the \"AcceptEx error\".\n\nI replaced my own httpd.conf file with the default .conf file and Apache \nstarted without any problem. Upon comparing both files, the difference rested \non the \"Listen\" directive, which was boud to the server's IP address. \n\nMy workaround was the following:\n- unplugged server from network\n- installed lastest release (2.00.43)\n- confirmed that Apache ran with default httpd.conf file\n- replaced default httpd.conf with custom httpd.conf\n- replaced \"Listen xxx.xxx.xxx.xxx:80\" by \"Listen 80\" on my custom httpd.conf\n- re-started Apache\n- plugged server to network\n- replaced \"Listen 80\" by \"Listen xxx.xxx.xxx.xxx:80\" on my custom httpd.conf\n- re-started Apache\n\nHope this helps", "is_private": false, "bug_id": 11608, "id": 24068, "time": "2002-10-07T14:26:09Z", "creator": "hugo@snqtb.pt", "creation_time": "2002-10-07T14:26:09Z", "attachment_id": null}, {"count": 5, "tags": [], "text": "I tried changing the listen command like hugo carvalho said, but I still get \nthe same error. I also tried reinstalling my network card. a friend of mine \nhelped me find this in apache's source code.\n\nif (rv == APR_FROM_OS_ERROR(WSAEINVAL)) {\n /* Hack alert. Occasionally, TransmitFile will not recycle the accept socket \n(usually when the client disconnects early).\n  * Get a new socket and try the call again. */\n closesocket(context->accept_socket);\n context->accept_socket = INVALID_SOCKET;\n ap_log_error(APLOG_MARK, APLOG_DEBUG, rv,ap_server_conf,\"winnt_accept: \nAcceptEx failed due to early client disconnect. Reallocate the accept socket \nand try again.\");\n continue;\n}else if(rv != APR_FROM_OS_ERROR(ERROR_IO_PENDING)){\n ap_log_error(APLOG_MARK,APLOG_ERR, rv, ap_server_conf,\"winnt_accept: AcceptEx \nfailed. Attempting to recover.\");\n closesocket(context->accept_socket);\n context->accept_socket = INVALID_SOCKET;\n Sleep(100);\n continue;\n}\n\n", "is_private": false, "bug_id": 11608, "id": 24099, "time": "2002-10-07T21:05:46Z", "creator": "mattsoft@mattsoft.net", "creation_time": "2002-10-07T21:05:46Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 11608, "attachment_id": null, "is_private": false, "id": 24422, "time": "2002-10-13T19:59:55Z", "creator": "wrowe@apache.org", "creation_time": "2002-10-13T19:59:55Z", "text": "\n  This is undoubtedly another network driver in the stack.  Such extra\n  drivers include network firewall, network antivirus and various service\n  drivers for vpn or quality of service metrics.  Adding another case to\n  the graceful recovery, however, in 2.0.44.\n\n\n*** This bug has been marked as a duplicate of 8325 ***"}]