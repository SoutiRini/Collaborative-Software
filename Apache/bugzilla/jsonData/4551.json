[{"count": 0, "tags": [], "bug_id": 4551, "attachment_id": null, "id": 7391, "time": "2001-10-31T11:52:02Z", "creator": "chuib@adpomr.com", "creation_time": "2001-10-31T11:52:02Z", "is_private": false, "text": "Our Tomcat Web Server log is constantly getting this kind of error messages:\n\n2001-10-25 11:29:54 - Ctx( /tt01 ): IOException in: R( /tt01 \n+ /com/abc/jta/javascripts/abc.js + null) Invalid argument\n\nCan someone able to confirm this is the same bug as id#361 or #463? \n\nThanks in advance!"}, {"count": 1, "attachment_id": null, "creator": "marc.saegesser@apropos.com", "text": "This doesn't look like either of those bugs and I my guess would be that the \nproblem is with the code in abc.js.  Without details of the specific JSP there \nis no way to know what's going on.", "id": 7858, "time": "2001-11-13T06:32:18Z", "bug_id": 4551, "creation_time": "2001-11-13T06:32:18Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "k.haeck@energyict.com", "text": "This problems happens all the time while serving large pages.\n(Typically with large javascripts). Using google I found the following patch:\n\n\nit is caused by  a bug in\norg/apache/tomcat/core/BufferedServletOutputStream.java\n \nthere is a cicular buffer  where it set to 8k, when the html file which have\nincluded  files which  size is\nmore  then 8k , the above message will occur. \nthe cicular buffer was not reset after commit.\nBelow is the source .\n \n   public void recycle() {\n //  System.out.println(\"Recycle BOS \" );\n bufferCount = 0;\n totalCount = 0;\n closed = false;\n    usingWriter = false;\n    resA.setBufferCommitted(false);  // this is missing in the source.\n    }\n\n", "id": 9685, "time": "2002-01-16T08:52:47Z", "bug_id": 4551, "creation_time": "2002-01-16T08:52:47Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "sriramnrn@gmail.com", "text": "Fixed, at least for Tomcat 3.3.2:\n\nhttp://svn.apache.org/repos/asf/tomcat/container/branches/tc3.3.x/src/share/org/apache/tomcat/core/OutputBuffer.java\n\norg.apache.tomcat.util.buf.ByteChunk bb;\n// ...\n    public void recycle() {\n\tif( debug > 0 ) log(\"recycle()\");\n\tstate=INITIAL_STATE;\n\tbytesWritten=0;\n\tcharsWritten=0;\n\t\n\tcb.recycle();\n\tbb.recycle(); \n        closed=false;\n\tif( conv!= null ) {\n\t    conv.recycle();\n\t}\n\tgotEnc=false;\n\tenc=null;\n    }\n\nhttp://svn.apache.org/repos/asf/tomcat/connectors/trunk/util/java/org/apache/tomcat/util/buf/ByteChunk.java\n// ...\n    public void recycle() {\n\t//\tbuff = null;\n\tenc=null;\n\tstart=0;\n\tend=0;\n\tisSet=false;\n    }\n", "id": 93452, "time": "2006-09-12T18:23:57Z", "bug_id": 4551, "creation_time": "2006-09-12T18:23:57Z", "is_private": false, "attachment_id": null}]