[{"count": 0, "tags": [], "bug_id": 7371, "attachment_id": null, "id": 12195, "time": "2002-03-22T19:47:51Z", "creator": "jmurc5@hotmail.com", "creation_time": "2002-03-22T19:47:51Z", "is_private": false, "text": "===============web.xml===============\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n\n<!DOCTYPE web-app\n    PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN\"\n    \"http://java.sun.com/j2ee/dtds/web-app_2_3.dtd\">\n<web-app>\n\n <servlet>\n  <servlet-name>evil</servlet-name>\n  <servlet-class>com.templar.it.fed.sd.pda.Evil</servlet-class>\n </servlet>\n\n <servlet-mapping>\n  <servlet-name>evil</servlet-name>\n  <url-pattern>/servlet/EVILSERVLET</url-pattern>\n </servlet-mapping>\n <error-page>\n  <exception-type>java.lang.RuntimeException</exception-type>\n  <location>/pocketpc_error.jsp</location>\n </error-page>\n \n</web-app>\n===============end web.xml===============\n\n===============blah.jsp===============\n<html>\n<body>\n<%\n if (true) throw new RuntimeException( \"this sucks.\" );\n%>\n</body>\n</html>\n===============end blah.jsp===============\n\n===============Evil.java===============\npackage com.templar.it.fed.sd.pda;\n\nimport java.io.*;\nimport javax.servlet.*;\nimport javax.servlet.http.*;\n\npublic class Evil extends HttpServlet\n{\n\t\n\t/** Handles GET submissions. Our parameters will be coming through the \nquerystring.\n\t */\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n    {\n\t   if (true) throw new RuntimeException( \"this is a runtime \nexception\" );\n\t } // end doGet\n\t \n} // end class\n===============end Evil.jsp===============\n\nok...\n\nwhen i go to blah.jsp, the runtime exception is caught and i get the error page \nspecified in the error-page directive.\n\nwhen i go to host/context/servlet/EVILSERVLET, i get tomcat's error page:\n=== begin copy paste ===\nApache Tomcat/4.0.2 - HTTP Status 500 - Internal Server Error\n--------------------------------------------------------------------------------\ntype Exception report\nmessage Internal Server Error\ndescription The server encountered an internal error (Internal Server Error) \nthat prevented it from fulfilling this request.\nexception \njava.lang.RuntimeException: this is a runtime exception\n\tat com.templar.it.fed.sd.pda.Evil.doGet(Evil.java:25)\n(etc etc)\n=== end copy paste ===\n\nboth of them do the same thing (throw RuntimeException).\n\ni'm not sure why only the JSP directs to my error-page, and the servlet just \ngives me tomcat's stack trace.\n\npossibilities: something to do with it being runtime ; something to do with it \nbeing thrown from a servlet.\n\neither way, this has been driving me nuts for some time.\n\nthanks\n\njohn"}, {"count": 1, "tags": [], "bug_id": 7371, "text": "As is proven in many test cases in the tester and Watchdog, this does work. I\neven took the extra care to check it explicitely with RuntimeException.", "id": 12197, "time": "2002-03-22T20:54:53Z", "creator": "remm@apache.org", "creation_time": "2002-03-22T20:54:53Z", "is_private": false, "attachment_id": null}]