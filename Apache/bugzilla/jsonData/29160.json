[{"count": 0, "tags": [], "text": "as per the above URL, I am trying to precompile my jsps for a struts-based web-app.\n\nSuggestion 1: Mention there that with 300 jsp's, java will run out of memory,\nbut extending /usr/local/bin/ant\n   ANT_OPTS=\" -Xmx512m \"\ncan remedy that.\n\nNext problem with the jsp-\"compile\" target:\n\nAbout 100 errors of the following kind\n\n<<_jspx_meth_html_link_9(javax.servlet.jsp.tagext.JspTag,javax.servlet.jsp.PageContext)\nin org.apache.jsp.my_jsp cannot be applied to\n(org.apache.struts.taglib.logic.GreaterEqualTag,javax.servlet.jsp.PageContext)>>\n\nThis basically happens to all tags that are happily compiled at deploy time.\n(i.e.: _jspx_meth_logic_notPresent_4, _jspx_meth_logic_greaterThan_2,\n_jspx_meth_bean_write_7, _jspx_meth_html_form_0, ...)\n\nSuggestion 2: It would be great to tell what ant doesn't get when started on the\ncommand line that tomcat does nicely when running the webapp.", "attachment_id": null, "id": 57916, "creator": "hauser@acm.org", "time": "2004-05-23T16:05:12Z", "bug_id": 29160, "creation_time": "2004-05-23T16:05:12Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 11644\none sample jsp.java that causes these errors", "is_private": false, "id": 58007, "creator": "hauser@acm.org", "time": "2004-05-25T04:10:56Z", "bug_id": 29160, "creation_time": "2004-05-25T04:10:56Z", "attachment_id": 11644}, {"count": 2, "text": "> From: Jan Luehe [mailto:Jan.Luehe@Sun.COM]\n> Sent: Tuesday, May 25, 2004 1:35 AM\n> To: hauser@acm.org\n> Subject: Re: DO NOT REPLY [Bug 29160] New: - precompile problem:\n> \n> Any chance you could attach your webapp to the bugreport, or\n> send me a copy?\nhope you can already reproduce it with the attached one sample.tgz file that is\ncreated by my jspc.\nWhen doing the target compile(jsp), I get\n    [javac] 27 errors\n    [javac] 10 warnings", "bug_id": 29160, "attachment_id": null, "id": 58008, "time": "2004-05-25T04:17:26Z", "creator": "hauser@acm.org", "creation_time": "2004-05-25T04:17:26Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "text": "Created attachment 11645\nsample_jsp.tgz - this time the correct one, pls discard the previous", "is_private": false, "bug_id": 29160, "id": 58009, "time": "2004-05-25T04:23:41Z", "creator": "hauser@acm.org", "creation_time": "2004-05-25T04:23:41Z", "attachment_id": 11645}, {"count": 4, "tags": [], "bug_id": 29160, "attachment_id": null, "id": 58097, "time": "2004-05-25T22:16:18Z", "creator": "jan.luehe@sun.com", "creation_time": "2004-05-25T22:16:18Z", "is_private": false, "text": "Can you attach your original webapp WAR file that contains the JSP pages and\nbundles the struts taglib?"}, {"attachment_id": null, "tags": [], "creator": "jan.luehe@sun.com", "text": "I was able to precompile the sample webapps that come with the struts 1.1\ndistribution.\n\nI don't understand this error message you are getting:\n\n<<_jspx_meth_html_link_9(javax.servlet.jsp.tagext.JspTag,javax.servlet.jsp.PageContext)\nin org.apache.jsp.my_jsp cannot be applied to\n(org.apache.struts.taglib.logic.GreaterEqualTag,javax.servlet.jsp.PageContext)>>\n\nNotice that javax.servlet.jsp.tagext.JspTag, which was added in JSP 2.0, is a\nsuperinterface of javax.servlet.jsp.tagext.Tag, which is extended by\njavax.servlet.jsp.tagext.IterationTag, which is implemented by\njavax.servlet.jsp.tagext.TagSupport, which is extended by\norg.apache.struts.taglib.logic.GreaterEqualTag, so the above assignment should\nbe OK.\n\nAdding a superinterface such as javax.servlet.jsp.tagext.JspTag is\nbackward-compatible which existing tag handlers.\n\nWhat javac are you using?\n", "count": 5, "id": 58176, "time": "2004-05-26T22:03:24Z", "bug_id": 29160, "creation_time": "2004-05-26T22:03:24Z", "is_private": false}, {"count": 6, "tags": [], "text": "Jan, Thanks for staying on this - sorry, can't just give out the full war.\nmy javac was installed the same day this February as \n<<java -version\njava version \"1.4.2_04\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_04-b05)\nJava HotSpot(TM) Client VM (build 1.4.2_04-b05, mixed mode)>>\n\nI had the struts.jar (1.1) twice in the classpath, but fixing this didn't solve\nthe problem.", "is_private": false, "bug_id": 29160, "id": 58194, "time": "2004-05-27T10:10:55Z", "creator": "hauser@acm.org", "creation_time": "2004-05-27T10:10:55Z", "attachment_id": null}, {"count": 7, "attachment_id": null, "creator": "jan.luehe@sun.com", "is_private": false, "id": 58227, "time": "2004-05-27T18:03:26Z", "bug_id": 29160, "creation_time": "2004-05-27T18:03:26Z", "tags": [], "text": "I'm closing this a not a bug, because\n- I'm able to precompile the sample webapps that come with struts 1.1.\n- I'm able to manually compile the .java files in your attachment.\n\nIt seems you are somehow referencing an old servlet-api.jar that contains JSP\n1.2 based interfaces in your environment.\n\n\n"}, {"count": 8, "attachment_id": null, "creator": "hauser@acm.org", "is_private": false, "id": 58326, "time": "2004-05-28T15:30:14Z", "bug_id": 29160, "creation_time": "2004-05-28T15:30:14Z", "tags": [], "text": "must have been a classloader problem, i.e. it may have found some of the jars\ntwice. \nWhen I only take the classpath:\nWEB-INF/classes:tomcat/common/lib:struts.jar:displaytag-1.0-b2.jar\n\nor Jan's \njavac -classpath jsp-api.jar:servlet-api.jar:jasper-runtime.jar:struts.jar:.\n<java-filename>\n\nit does compile!\nThx!"}]