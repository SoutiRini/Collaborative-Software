[{"count": 0, "tags": [], "creator": "davidw@apache.org", "attachment_id": null, "text": "Situation: want a global catch across all web::command procs\n    # global error catcher\n    if {[catch {web::dispatch -hook {logHttpRequest; normalizeHttpRequest}}\nerrMsg]} {\n        # we signal every error to the client\n        web::log pisa.error \"\"Exception: $errMsg\"\"\n        sendHttpErrorResponse \"\"Exception: $errMsg\"\"\n    }\n  Problem: web::dispatch catches possible errors and modifies errorMessage\n  -> the original errorMessage is not available anymore\n  Suggestion: remove catch from web::dispatch or do not modify original\n  error message", "id": 7674, "time": "2001-11-07T15:11:07Z", "bug_id": 4729, "creation_time": "2001-11-07T15:11:07Z", "is_private": false}, {"count": 1, "tags": [], "creator": "davidw@apache.org", "attachment_id": null, "text": "This bit of code above is specific to some app or another... what is\nthe real problem here?\n\nWhat would be a simple test case to demonstrate the problem?\n\nweb::command default {\n    BLARGH\n}\n\nif { [catch {web::dispatch} errmsg] } {\n    # we signal every error to the client\n    web::put $errmsg\n    web::put $errmsg\n}\n\nIs something I've tried, but I don't quite see the problem...\n", "id": 8787, "time": "2001-12-11T13:48:02Z", "bug_id": 4729, "creation_time": "2001-12-11T13:48:02Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 4729, "is_private": false, "text": "> could you try to give a simple sample that shows the problem clearly?\n\n> > * 4729: catch used with web::dispatch.\n> >\n> >   The provided example isn't something reproducable.  Unclear what the\n> >   exact problem is, and am hoping that a test case might be made\n> >   available which illustrates the problem.\n\nThis request came from one of our developers, dated Apr, 2001. Nor he\nnor myself can reproduce the problem now: catching web::dispatch seems\nto work as expected - I suggest to drop the issue.", "id": 10665, "time": "2002-02-13T21:08:36Z", "creator": "davidw@apache.org", "creation_time": "2002-02-13T21:08:36Z", "attachment_id": null}]