[{"count": 0, "tags": [], "bug_id": 33668, "is_private": false, "text": "Sorry for my english.\n\nHave CGI - http://slavon.net/download/radio_indexer.tar.gz\n\n// If i put \nputs(\"Content-type: text/html\\r\\n\\r\\n\");\n// before \nfor (i=0; i<RS_NUM; i++)\nif(fork() == 0){\n...\nexit(0)\n}\n\n- All childrens puts \"Content-type: text/html\"\nIf i run CGI in shell - Only parent puts \"Content-type: text/html\". \nI fix this problem - move puts after fork, but it is bug of apache?\n\nThanks for you doing =)", "id": 71300, "time": "2005-02-21T11:55:44Z", "creator": "vbadalian@rbc.ru", "creation_time": "2005-02-21T11:55:44Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 33668, "is_private": false, "text": "In the case where you are running as a CGI, the puts() operation leaves the text\nin the buffer for stdout, and when the fork() occurs the buffer is copied too.\n\nIn the case where you are running from the command-line, stdout is buffered\ndifferently (either no buffering or buffered until end of line -- I can't\nremember), so the text has already been flushed prior to fork(), so the new\nchild processes have nothing in their stdout buffer when they start running.\n\nThis is a generic C/Unix programming issue, and nothing to do with Apache.", "id": 71308, "time": "2005-02-21T14:44:21Z", "creator": "trawick@apache.org", "creation_time": "2005-02-21T14:44:21Z", "attachment_id": null}]