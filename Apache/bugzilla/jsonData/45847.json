[{"count": 0, "tags": [], "creator": "robert.flaherty@oracle.com", "attachment_id": null, "text": "This cropped up for me when trying:\n\n\t\t<classloader classpath=\"${user.dir}/commons-net-1.4.1.jar;${user.dir}/jakarta-oro-2.0.8.jar;${user.dir}/ant-commons-net.jar\" parentFirst=\"false\" />\n\nwhich does this in execute():\n\n                acl = new AntClassLoader((ClassLoader) parent,\n                         getProject(), classpath, parentFirst);\n\nand then:\n\n            if (classpath != null) {\n                String[] list = classpath.list();\n                for (int i = 0; i < list.length; i++) {\n                    File f = new File(list[i]);\n                    if (f.exists()) {\n                        acl.addPathElement(f.getAbsolutePath());\n                        log(\"Adding to class loader \" +  acl + \" \" + f.getAbsolutePath(),\n                                Project.MSG_DEBUG);\n                    }\n                }\n            }\n\nadding twice, and yielded debugging:\n\n[classloader] Adding to class loader AntClassLoader[...\\commons-net-1.4.1.jar;...\\jakarta-oro-2.0.8.jar;...\\ant-commons-net.jar;...\\commons-net-1.4.1.jar] ...\\commons-net-1.4.1.jar\n[classloader] Adding to class loader AntClassLoader[...\\commons-net-1.4.1.jar;...\\jakarta-oro-2.0.8.jar;...\\ant-commons-net.jar;...\\commons-net-1.4.1.jar;...\\jakarta-oro-2.0.8.jar] ...\\jakarta-oro-2.0.8.jar\n[classloader] Adding to class loader AntClassLoader[...\\commons-net-1.4.1.jar;...\\jakarta-oro-2.0.8.jar;...\\ant-commons-net.jar;...\\commons-net-1.4.1.jar;...\\jakarta-oro-2.0.8.jar;...\\ant-commons-net.jar] ...\\ant-commons-net.jar\n\nThe classpath is set when the AntClassLoader is created, so the second block isn't needed.  Since the second block was doing logging, may want to add loggin into AntClassLoader for addPathComponent() and addPathFile().", "id": 120804, "time": "2008-09-19T09:58:12Z", "bug_id": 45847, "creation_time": "2008-09-19T09:58:12Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 45847, "text": "the second block only isn't needed if the task isn't modifying an existing classloader.\n\nfixed in svn rev 698943.", "id": 120977, "time": "2008-09-25T05:26:50Z", "creator": "bodewig@apache.org", "creation_time": "2008-09-25T05:26:50Z", "is_private": false, "attachment_id": null}]