[{"count": 0, "tags": [], "creator": "dave@daveboden.com", "text": "The Servlet 2.4 specification allows a <service-ref/> tag in a web application's\nweb.xml file. This sets up a JAX-RPC web service and makes it available to the\nweb application.\n\nI have added the following to my web.xml to try and use the web service\navailable at https://services.betfair.com/\n\n    <service-ref>\n        <description>Betfair Web Service - Sport</description>\n        <service-ref-name>service/betfair/Sport</service-ref-name>\n       \n<service-interface>com.emobus.betfair.webservice.Sport_Service</service-interface>\n        <wsdl-file>WEB-INF/wsdl/services.betfair.com.wsdl</wsdl-file>\n       \n<jaxrpc-mapping-file>WEB-INF/services.betfair.com-jaxrpc-mapping.xml</jaxrpc-mapping-file>\n        <service-qname>betfair:Sport</service-qname>\n    </service-ref>\n    \n    <service-ref>\n        <description>Betfair Web Service - Login</description>\n        <service-ref-name>service/betfair/Login</service-ref-name>\n        <service-interface>com.emobus.betfair.webservice.Login</service-interface>\n        <wsdl-file>WEB-INF/wsdl/services.betfair.com.wsdl</wsdl-file>\n       \n<jaxrpc-mapping-file>WEB-INF/services.betfair.com-jaxrpc-mapping.xml</jaxrpc-mapping-file>\n        <service-qname>betfair:Login</service-qname>\n    </service-ref>\n\n\n\nThis appears to be completely ignored by Tomcat 5.5.\n\nI'm declaring my web.xml correctly for version 2.4 of the servlet spec:\n\n<web-app xmlns=\"http://java.sun.com/xml/ns/j2ee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee\nhttp://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"\n         xmlns:betfair=\"http://services.betfair.com\"\n         version=\"2.4\">\n\n\nDoes Tomcat not support the <service-ref/> tag? If not, how can it be servlet\nspec 2.4 compliant?\n\nMany thanks,\nDave", "id": 71561, "time": "2005-02-26T10:42:26Z", "bug_id": 33753, "creation_time": "2005-02-26T10:42:26Z", "is_private": false, "attachment_id": null}, {"count": 1, "text": "This stuff is part of the J2EE 1.4 specification, like all the EJB references.", "bug_id": 33753, "attachment_id": null, "id": 71563, "time": "2005-02-26T17:39:11Z", "creator": "remm@apache.org", "creation_time": "2005-02-26T17:39:11Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 33753, "attachment_id": null, "text": "Please allow me to clarify with references to the Servlet 2.4 specification.\n\nPage 104. SRV.13.1.2:\n\n--- CUT HERE ---\nThe following additional elements exist in the Web application deployment\ndescriptor to meet the requirements of Web containers that are JSP pages enabled\nor part of a J2EE application server. They are not required to be supported by\ncontainers wishing to support only the servlet specification:\n\u2022 jsp-config\n\u2022 Syntax for looking up JNDI objects (env-entry, ejb-ref, ejb-local-ref, resource-\nref, resource-env-ref)\n\u2022 Syntax for specifying the message destination (message-destination, message-\ndestination-ref)\n\u2022 Reference to a Web service (service-ref)\nThe syntax for these elements is now held in the JavaServer Pages\nspecification version 2.0, and the J2EE specification version 1.4.\n---CUT HERE---\n\nThe key phrase is \"JSP pages enabled or part of a J2EE application server.\"\nTomcat does support JSPs. Tomcat 5.5 does claim to support JSP 2.0. Therefore,\naccording to the spec it should support the <service-ref/> tag.", "id": 71704, "time": "2005-03-02T12:00:06Z", "creator": "dave@daveboden.com", "creation_time": "2005-03-02T12:00:06Z", "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 33753, "is_private": false, "id": 71705, "time": "2005-03-02T12:26:38Z", "creator": "dave@daveboden.com", "creation_time": "2005-03-02T12:26:38Z", "tags": [], "text": "Correction, the reference is actually page 104. SRV.13.1 Deployment Descriptor\nElements.\n"}, {"count": 4, "tags": [], "creator": "dave@daveboden.com", "text": "Hmmm... The information is not actually in the JSP 2.0 specification. I'm\nsending an email pointing out the potential problem to\nservletapi-feedback@eng.sun.com. I'll post here if anything interesting comes back.", "id": 71707, "time": "2005-03-02T12:52:17Z", "bug_id": 33753, "creation_time": "2005-03-02T12:52:17Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 33753, "attachment_id": null, "text": "If you want this functionality, get a full J2EE 1.4 application server. Please\ndo not reopen this report.", "id": 71708, "time": "2005-03-02T13:11:41Z", "creator": "remm@apache.org", "creation_time": "2005-03-02T13:11:41Z", "is_private": false}]