[{"attachment_id": null, "tags": [], "bug_id": 9551, "is_private": false, "count": 0, "id": 17014, "time": "2002-05-31T20:16:18Z", "creator": "praveen1.kumar@ssmb.com", "creation_time": "2002-05-31T20:16:18Z", "text": "I am getting ArrayOutOfBoundException when applying an xsl to xml. It is very \nincosistent in nature. Along with xstl processor, I am also using XPathAPI \n(which operates on xml configuration file). This exception is coming rarely.\nOS : SunOS5.6\nXalanj version : 2.2.D13\nJDK : 1.3.1\nThe exception stack is:\njavax.xml.transform.TransformerException: \njava.lang.ArrayIndexOutOfBoundsException\n    at org.apache.xalan.transformer.TransformerImpl.transform\n(TransformerImpl.java:690)\n    at org.apache.xalan.transformer.TransformerImpl.transform\n(TransformerImpl.java:1092)\n    at org.apache.xalan.transformer.TransformerImpl.transform\n(TransformerImpl.java:1070)\n    at com.citigroup.issexp.xml.XSLTransformer.transform\n(XSLTransformer.java:146)\n    at com.citigroup.issexp.feed.FileFeedLoader.load(FileFeedLoader.java:193)\n    at com.citigroup.issexp.control.FeedLoadController.run\n(FeedLoadController.java:82)\n    at java.lang.Thread.run(Thread.java:484)\n---------\njava.lang.ArrayIndexOutOfBoundsException\n    at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1094)\n    at org.apache.xml.dtm.ref.DTMManagerDefault.getDTM\n(DTMManagerDefault.java:357)\n    at org.apache.xalan.transformer.TransformerImpl.transform\n(TransformerImpl.java:634)\n    at org.apache.xalan.transformer.TransformerImpl.transform\n(TransformerImpl.java:1092)\n    at org.apache.xalan.transformer.TransformerImpl.transform\n(TransformerImpl.java:1070)\n    at com.citigroup.issexp.xml.XSLTransformer.transform\n(XSLTransformer.java:146)\n    at com.citigroup.issexp.feed.FileFeedLoader.load(FileFeedLoader.java:193)\n    at com.citigroup.issexp.control.FeedLoadController.run\n(FeedLoadController.java:82)\n    at java.lang.Thread.run(Thread.java:484)\n---------\njava.lang.ArrayIndexOutOfBoundsException\n    at org.apache.xerces.utils.UTF8DataChunk.toString(UTF8DataChunk.java:148)\n    at org.apache.xerces.utils.UTF8DataChunk.addSymbol(UTF8DataChunk.java:405)\n    at org.apache.xerces.utils.UTF8DataChunk.addSymbol(UTF8DataChunk.java:390)\n    at org.apache.xerces.readers.UTF8Reader.addSymbol(UTF8Reader.java:124)\n    at org.apache.xerces.readers.UTF8Reader.scanQName(UTF8Reader.java:1406)\n    at org.apache.xerces.framework.XMLDocumentScanner.scanElementType\n(XMLDocumentScanner.java:2028)\n    at org.apache.xerces.framework.XMLDocumentScanner.access$1\n(XMLDocumentScanner.java:2019)\n    at org.apache.xerces.framework.XMLDocumentScanner$ContentDispatcher.dispatch\n(XMLDocumentScanner.java:1168)\n    at org.apache.xerces.framework.XMLDocumentScanner.parseSome\n(XMLDocumentScanner.java:381)\n    at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1081)\n    at org.apache.xml.dtm.ref.DTMManagerDefault.getDTM\n(DTMManagerDefault.java:357)\n    at org.apache.xalan.transformer.TransformerImpl.transform\n(TransformerImpl.java:634)\n    at org.apache.xalan.transformer.TransformerImpl.transform\n(TransformerImpl.java:1092)\n    at org.apache.xalan.transformer.TransformerImpl.transform\n(TransformerImpl.java:1070)\n    at com.citigroup.issexp.xml.XSLTransformer.transform\n(XSLTransformer.java:146)\n    at com.citigroup.issexp.feed.FileFeedLoader.load(FileFeedLoader.java:193)\n    at com.citigroup.issexp.control.FeedLoadController.run\n(FeedLoadController.java:82)\n    at java.lang.Thread.run(Thread.java:484)\n\n\ndoes any body have any clue?"}, {"count": 1, "tags": [], "bug_id": 9551, "is_private": false, "text": "As the exception says, the problem is happening deep in the Xerces parser:\n\njava.lang.ArrayIndexOutOfBoundsException\n    at org.apache.xerces.utils.UTF8DataChunk.toString(UTF8DataChunk.java:148)\n\nI'd suggest you start by trying to read the files using one of the standard \nXerces samples. If it provokes the same problem, that would confirm that it's a \nXerces issue rather than something Xalan is doing. Or attach sample files that \nprovoke the problem so we can do that analysis.\n\n(I suspect that either the source document or the stylesheet has a sequence of \nbytes in it that aren't legal UTF-8. I'd have hoped Xerces would fail more \ngracefully in that case, but bugs happen...)\n\n", "id": 17016, "time": "2002-05-31T21:13:27Z", "creator": "keshlam@us.ibm.com", "creation_time": "2002-05-31T21:13:27Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 9551, "is_private": false, "count": 2, "id": 17330, "time": "2002-06-06T17:27:54Z", "creator": "keshlam@us.ibm.com", "creation_time": "2002-06-06T17:27:54Z", "text": "Transferring. If it turns out to be Xalan after all, toss it back over the \nwall..."}, {"count": 3, "text": "If this bug were to be investigated, it would be necessary to know just what \nversion of Xerces was being used.  But the stack traces show it to be some \nversion of Xerces1, whatever it is...", "bug_id": 9551, "is_private": false, "id": 22396, "time": "2002-09-06T21:39:41Z", "creator": "neilg@ca.ibm.com", "creation_time": "2002-09-06T21:39:41Z", "tags": [], "attachment_id": null}]