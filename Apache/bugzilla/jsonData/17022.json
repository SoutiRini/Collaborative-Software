[{"count": 0, "tags": [], "creator": "alan@pair.com", "attachment_id": null, "id": 31167, "time": "2003-02-12T20:46:54Z", "bug_id": 17022, "creation_time": "2003-02-12T20:46:54Z", "is_private": false, "text": "My issue seems similar to what's described in bug #13328, but I found it to be a\nproblem with Apache 1.3.27, not with Apache 2.*\n\nFreeBSD 4.6-stable\nApache 1.3.27\n\nWhen running the apache server as root by calling bin/httpd directly with the -F\nflag, signals sent to the apache parent process are propagated to that process's\nparent, which is pid 1, init, on FreeBSD.  This causes FreeBSD to dump into\nsingle user mode and require a reboot on console when it happens.\n\nAn example:\n                                    \nroot@rasko# cd /usr/pair/apache/bin/\nroot@rasko# ./httpd -F -f /usr/pair/apache/conf/httpd.conf\n^CConnection closed.\n\nAfter httpd was run, I pressed ^C to send SIGINT to the process.  This signal\nwas erroneously propagated where it shouldn't have been, and all processes on\nthe server were killed off.  Examination of the console showed the server\ndropped into single-user mode, and a reboot was required.\n\nThe same effect occurs with SIGINT and SIGTERM if they're sent via \"kill\" to the\nparent httpd process by process ID.\n\nThank you very much.  Please tell me if you need any more information to look\ninto this.\n\nAlan"}, {"count": 1, "attachment_id": null, "bug_id": 17022, "is_private": false, "id": 31171, "time": "2003-02-12T21:10:26Z", "creator": "alan@pair.com", "creation_time": "2003-02-12T21:10:26Z", "tags": [], "text": "One more note:\nI was unable to duplicate this behavior when I was testing it from gdb.  gdb was\ncatching the signals before they got to the http parent, apparently, and there\nwas no problem.  I have not tested running httpd as non-root to see if it\ncomplains about being unable to send the signal.\n\nAlan"}]