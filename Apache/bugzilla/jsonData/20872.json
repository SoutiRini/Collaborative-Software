[{"count": 0, "tags": [], "creator": "catyaa@hotmail.com", "attachment_id": null, "text": "missing of the population of a new index created on a not empty collection\n\ncorrection?\n1/4) make public the method:  \n\n protected final Key org.apache.xindice.core.Collection.createKewKey(Object key)\n\n2/4) add the following method in \"org.apache.xindice.core.indexer.IndexManager\"\n\n\n\n    private void populateNewIndexWithDocuments(Indexer indexer) throws \nDBException {\n        if(!indexer.open()){\n            log.warn(\"Inable to open new indexer \" + indexer.getName() + \" on \ncolection \" + this.collection.getCanonicalName());\n            return;\n        }\n        IndexerInfo[] indexerInfo = new IndexerInfo[]{ (IndexerInfo) \nthis.indexes.get(indexer.getName()) };\n        String[] documents = this.collection.listDocuments();\n\n        log.debug(\"Populate new indexer '\" + indexer.getName() + \"'\");\n        for(int i=0; i<documents.length; ++i){\n            Object docKey = documents[i];\n            Document doc = this.collection.getDocument(docKey);\n            Key key = collection.createNewKey(docKey);\n            new SAXHandler(key, doc, ACTION_CREATE, indexerInfo);\n            indexer.flush();\n\n            log.debug(\"    Indexed document '\" + docKey.toString() + \"'\");\n        }\n\n        indexer.close();\n    }\n\n\n3/4) modify the method \n\"org.apache.xindice.core.indexer.IndexManager.populateNewIndexers()\"\n\nwith:\n\n\n\nfor (int i = 0; i < list.length; i++) {\n                try {\n                    if (!list[i].indexer.exists()){\n                        list[i].indexer.create();\n                        \n                        /* >>>>>>>>>>>>>>>>>> */\n                        /* populate the index */\n                        populateNewIndexWithDocuments(list[i].indexer);\n                    }\n                    list[i].indexer.open();\n                }\n                catch (Exception e) {\n                    if (log.isDebugEnabled()) {\n                        log.debug(\"No message\", e);\n                    }\n                }\n            }", "id": 39033, "time": "2003-06-18T14:29:21Z", "bug_id": 20872, "creation_time": "2003-06-18T14:29:21Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 20872, "is_private": false, "text": "please provide a patch in diff -u format.", "id": 39063, "time": "2003-06-18T23:08:00Z", "creator": "Kevin.Ross@iVerticalLeap.com", "creation_time": "2003-06-18T23:08:00Z", "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "vgritsenko@apache.org", "text": "As far as I understand, this functionality is already implemented in the current\nxindice version. Please reopen the bug if I'm mistaken.", "id": 54309, "time": "2004-03-20T13:57:40Z", "bug_id": 20872, "creation_time": "2004-03-20T13:57:40Z", "tags": [], "is_private": false}]