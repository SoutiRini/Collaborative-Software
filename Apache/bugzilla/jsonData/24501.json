[{"count": 0, "text": "It seems that nph doesn't work. Example\n\nhttp://roquefort.di.unipi.it/cgi-bin/nph-test-CGI.pl\n\n<code>\n#!/usr/bin/perl\nuse CGI qw/:standard/;\n$|=1; print header();\nfor (1..20){ print \"The current time is \",scalar(localtime),\"<BR>\\n\"; sleep 1; }\n</code>\n\nThe strange thing is that this work\nhttp://roquefort.di.unipi.it/cgi-bin/nph-test-CGI.pl.txt\nSame code as above !\n\nAnother example:\n\nhttp://roquefort.di.unipi.it/cgi-bin/nph-test-raw-print.pl\n<code>\n#!/usr/bin/perl\nprint \"HTTP/1.0 200 OK\\r\\n\" if $0 =~ /nph-/;\nprint join(\"\\r\\n\",\n     'Content-type: text/html' . (defined $charset ? \"; charset=$charset\" :\n        ''),\n     'Pragma: no-cache',\n     'Cache-control: must-revalidate, no-cache, no-store',\n     'Expires: -1',\n     \"\\r\\n\");\nfor (1..20){ print \"The current time is \",scalar(localtime),\"<BR>\\n\"; sleep 1;\n</code>\n\nAnd this doesn't work.\nhttp://roquefort.di.unipi.it/cgi-bin/nph-test-raw-print.pl.txt\n\nAm i wrong ?", "bug_id": 24501, "is_private": false, "id": 46997, "time": "2003-11-07T15:30:33Z", "creator": "gulli@di.unipi.it", "creation_time": "2003-11-07T15:30:33Z", "tags": [], "attachment_id": null}, {"count": 1, "text": "Thanks for the report, Antonio\n\nYour first cgi script\nhttp://roquefort.di.unipi.it/cgi-bin/nph-test-CGI.pl\ncan't work as nph, since it doesn't emit a complete set of HTTP headers, run it\nfrom the command line to see what does it do.\n\nYour second example works just fine as nph, if I click on \nhttp://roquefort.di.unipi.it/cgi-bin/nph-test-raw-print.pl\nit works, so does:\nhttp://roquefort.di.unipi.it/cgi-bin/nph-test-raw-print.pl.txt\n\nI've just added your code verbotem to the httpd-test suite and it works just\nfine there too.\n\nSo I'm closing this bug with status INVALID.\n\nYou've mentioned that nph- doesn't work with mod_perl 2.0, which is true as of \n1.99_11 - it doesn't work the same way it did in mod_perl 1.0, but we will come\nup with a solution shortly and document it on perl.apache.org. Meawhile, this\nwill work, start your script as:\n\nmy $r = shift;\n$r->assbackwards(1);\nuse CGI qw/:standard/;\n...\n\nIf you have further mod_perl issues or questions, please see:\nhttp://perl.apache.org/bugs/, as they don't belong to this tracking system.\n\n\n\n", "bug_id": 24501, "is_private": false, "id": 47991, "time": "2003-11-24T09:28:25Z", "creator": "stas@stason.org", "creation_time": "2003-11-24T09:28:25Z", "tags": [], "attachment_id": null}]