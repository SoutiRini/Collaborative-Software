[{"count": 0, "tags": [], "bug_id": 51712, "attachment_id": 27428, "id": 148794, "time": "2011-08-23T20:55:25Z", "creator": "zampani@amazon.com", "creation_time": "2011-08-23T20:55:25Z", "is_private": false, "text": "Created attachment 27428\nPatch to revert isSecure() check\n\nCopied from http://markmail.org/thread/rlkpd3hqihc3zbji\n\nCLN 1126273\nhttp://svn.apache.org/viewvc?view=revision&revision=1126273\nsets the default value for securePagesWithPragma to false, but also (re)added a request.isSecure() check to the block for adding the cache-control headers.\n\nThis results in the headers not being added for secure requests with security-constraints.  This is a change in behavior from Tomcat-7.0.14 that causes IE8 to improperly cache some secure pages.\n\nThe secure check was initially added in CLN 287690\nhttp://svn.apache.org/viewvc?view=revision&revision=287690\nto fix a bug in IE caching\nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=6641\nbut was commented out in CLN 302373\nhttp://svn.apache.org/viewvc?view=revision&revision=302373\n\npatch to remove isSecure() check added."}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "Thanks for the patch. This has been applied to 7.0.x and will be included in 7.0.21 onwards.", "id": 148894, "time": "2011-08-29T14:43:15Z", "bug_id": 51712, "creation_time": "2011-08-29T14:43:15Z", "is_private": false}]