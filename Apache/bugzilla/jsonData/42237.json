[{"count": 0, "tags": [], "bug_id": 42237, "is_private": false, "text": "edit a page with oneform. make a few changes. now press \"reformat\".\nthe changes are lost, and the original version is displayed, with indentation.\nthis is not what the casual user expects...\n3 possible solutions:\n* reformat on the client (heavy stuff, not worth it imho)\n* save and reformat on the server (then the button must be renamed so that the\nuser is aware s/he is committing changes already)\n* disable the button (not a huge loss). prettyprinting could be enabled by default.", "id": 102310, "time": "2007-04-25T05:49:12Z", "creator": "nettings@apache.org", "creation_time": "2007-04-25T05:49:12Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 42237, "text": "IIRC the changes used to be preserved without saving.", "id": 102312, "attachment_id": null, "creator": "andreas@apache.org", "creation_time": "2007-04-25T05:53:27Z", "time": "2007-04-25T05:53:27Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 42237, "attachment_id": null, "id": 102331, "time": "2007-04-25T07:03:00Z", "creator": "nettings@apache.org", "creation_time": "2007-04-25T07:03:00Z", "is_private": false, "text": "not for me... try it yourself. i can reproduce it 100% with the default publication."}, {"count": 3, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "text": "Yes, it doesn't work for me either, I just wanted to point out that the purpose\nwas to reformat without saving.", "id": 102333, "time": "2007-04-25T07:16:26Z", "bug_id": 42237, "creation_time": "2007-04-25T07:16:26Z", "is_private": false}, {"count": 4, "tags": [], "text": "Maybe lenya-document:...?session=usecase isn't working correctly.", "attachment_id": null, "id": 102335, "creator": "andreas@apache.org", "time": "2007-04-25T07:20:06Z", "bug_id": 42237, "creation_time": "2007-04-25T07:20:06Z", "is_private": false}, {"count": 5, "tags": [], "text": "I guess my latest changes to the DocumentSourceFactory caused this problem. The\nsession selection has to be pushed down to the RepositorySourceFactory.", "attachment_id": null, "id": 102336, "creator": "andreas@apache.org", "time": "2007-04-25T07:27:44Z", "bug_id": 42237, "creation_time": "2007-04-25T07:27:44Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 42237, "attachment_id": null, "is_private": false, "id": 102340, "time": "2007-04-25T07:40:25Z", "creator": "nettings@apache.org", "creation_time": "2007-04-25T07:40:25Z", "text": "(In reply to comment #4)\n> Maybe lenya-document:...?session=usecase isn't working correctly.\n\nnever heard of that one. is that a generic mechanism of our usecase framework or\njust a localized thing? in any case, it should be lenya.session :)\n\n"}, {"count": 7, "tags": [], "bug_id": 42237, "attachment_id": null, "is_private": false, "id": 102344, "time": "2007-04-25T07:50:20Z", "creator": "andreas@apache.org", "creation_time": "2007-04-25T07:50:20Z", "text": "It's generic, it allows to access the data in the non-committed transaction from\na  pipeline. No idea if we should rename it - since it is used by an internal\nsource URL, maybe it's not necessary."}, {"text": "Created attachment 20040\nMoves session selection from DocumentSourceFactory to LenyaSourceFactory.", "tags": [], "bug_id": 42237, "attachment_id": 20040, "count": 8, "id": 102346, "time": "2007-04-25T07:58:24Z", "creator": "andreas@apache.org", "creation_time": "2007-04-25T07:58:24Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 42237, "attachment_id": null, "id": 102352, "time": "2007-04-25T08:16:22Z", "creator": "nettings@apache.org", "creation_time": "2007-04-25T08:16:22Z", "is_private": false, "text": "this patch fixes the problem for me, thanks!\nlooks pretty scary, though. is this reasonably safe to apply during the RC\nphase? if not, i'd opt for removing the \"reformat\" button for now and apply this\nfix for 1.4.1... wdyt?\n\n"}, {"count": 10, "tags": [], "bug_id": 42237, "text": "(In reply to comment #9)\n> this patch fixes the problem for me, thanks!\n> looks pretty scary, though.\n\nYes, I wouldn't have dared to commit it now :)\n\n> is this reasonably safe to apply during the RC\n> phase? if not, i'd opt for removing the \"reformat\" button for now and apply this\n> fix for 1.4.1... wdyt?\n\n+1\n\nMaybe we can comment it out and add a link to this bug.\n", "id": 102356, "attachment_id": null, "creator": "andreas@apache.org", "creation_time": "2007-04-25T08:26:37Z", "time": "2007-04-25T08:26:37Z", "is_private": false}, {"count": 11, "tags": [], "creator": "nettings@apache.org", "attachment_id": null, "id": 102365, "time": "2007-04-25T08:56:17Z", "bug_id": 42237, "creation_time": "2007-04-25T08:56:17Z", "is_private": false, "text": "done. moving the target to 1.4.1"}, {"count": 12, "tags": [], "bug_id": 42237, "is_private": false, "text": "I'd like to apply this patch asap, because it fixes bug 42266. I'll do some more\ntesting. ", "id": 102502, "time": "2007-04-26T08:53:50Z", "creator": "andreas@apache.org", "creation_time": "2007-04-26T08:53:50Z", "attachment_id": null}, {"count": 13, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "text": "BTW, applying the patch in Eclipse works when you click \"Guess\" to determine the\nfuzz factor.", "id": 102503, "time": "2007-04-26T08:55:16Z", "bug_id": 42237, "creation_time": "2007-04-26T08:55:16Z", "is_private": false}, {"count": 14, "tags": [], "bug_id": 42237, "text": "(In reply to comment #13)\n> BTW, applying the patch in Eclipse works when you click \"Guess\" to determine the\n> fuzz factor.\n\neek!", "id": 102514, "attachment_id": null, "creator": "nettings@apache.org", "creation_time": "2007-04-26T09:32:18Z", "time": "2007-04-26T09:32:18Z", "is_private": false}, {"count": 15, "tags": [], "bug_id": 42237, "attachment_id": null, "is_private": false, "id": 102515, "time": "2007-04-26T09:35:41Z", "creator": "nettings@apache.org", "creation_time": "2007-04-26T09:35:41Z", "text": "i agree the patch should go into trunk asap... i'll try and do some testing\ntonight with the patch applied."}, {"text": "I applied the patch.", "tags": [], "bug_id": 42237, "is_private": false, "count": 16, "id": 102654, "time": "2007-04-30T06:02:51Z", "creator": "andreas@apache.org", "creation_time": "2007-04-30T06:02:51Z", "attachment_id": null}]