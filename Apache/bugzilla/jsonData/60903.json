[{"count": 0, "tags": [], "bug_id": 60903, "attachment_id": 34868, "is_private": false, "id": 197906, "time": "2017-03-22T14:58:56Z", "creator": "vasiliev@viva64.com", "creation_time": "2017-03-22T14:58:56Z", "text": "Created attachment 34868\nPatch\n\nI have found and fixed weaknesses CWE-476 (NULL Pointer Dereference) and CWE-570 (Expression is Always True) using PVS-Studio tool.\n\nAnalyzer warnings: V528, V595, V560, V581.\n\nPVS-Studio is a static code analyzer for C, C++ and C#.\n\nAlso the analyzer issued several warnings, but I decided not to fix them because it\u2019s hard for me to say how this code can be edited. I think this information could be useful for you.\n\nPVS-Studio found zeroing the buffer using memset function (warning V597) (passwd_common.c, lines 161 and 165 https://github.com/apache/httpd/blob/9a4db4a718a157c86997aea69599e3db4169ab6c/support/passwd_common.c#L161). The compiler can delete the call of the memset function, then the buffer remains uncleared (more details can be found in the documentation to the diagnostic V597 (https://www.viva64.com/en/w/V547/)). This warning corresponds CWE-14 (Compiler Removal of Code to Clear Buffers). Perhaps, you have your own safe functions to clear the buffer, but here it was just forgotten.\n\nI 've also attached a patch of the commit.\n\nThanks."}]