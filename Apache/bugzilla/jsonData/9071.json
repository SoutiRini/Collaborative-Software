[{"count": 0, "tags": [], "bug_id": 9071, "attachment_id": null, "text": "I have jar file in WEB-INF/lib directory in my web application war file. I have \na jsp page importing a couple of packages from this jar file. But, when I run \nthe JSP, I get an error saying the packages can't be found. This was working in \n4.0.1 version of tomcat.\n\nHere is the stack trace of the exception:\n\norg.apache.jasper.JasperException: Unable to compile class for JSP\nC:\\Apache Tomcat 4.0\\work\\localhost\\TestMessaging\\TestJMS$jsp.java:3: Package \ncom.intercall.conferencing.server not found in import.\nimport com.intercall.conferencing.server.*;\n       ^\n\nC:\\Apache Tomcat 4.0\\work\\localhost\\TestMessaging\\TestJMS$jsp.java:4: Package \ncom.intercall.conferencing.test not found in import.\nimport  com.intercall.conferencing.test.*;\n        ^\n\nC:\\Apache Tomcat 4.0\\work\\localhost\\TestMessaging\\TestJMS$jsp.java:5: Package \ncom.intercall.util.log not found in import.\nimport  com.intercall.util.log.*;\n        ^\n\nC:\\Apache Tomcat 4.0\\work\\localhost\\TestMessaging\\TestJMS$jsp.java:7: Package \njavax.jms not found in import.\nimport  javax.jms.*;\n        ^\n4 errors\n\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:285)\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:552)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:177)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:189)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:382)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:474)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:190)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2343)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:468)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:1012)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1107)\n\tat java.lang.Thread.run(Thread.java:484)", "id": 16085, "time": "2002-05-14T15:25:59Z", "creator": "rpotturi@intercall.com", "creation_time": "2002-05-14T15:25:59Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 9071, "is_private": false, "id": 16089, "time": "2002-05-14T16:06:13Z", "creator": "remm@apache.org", "creation_time": "2002-05-14T16:06:13Z", "tags": [], "text": "In general, your statement in the summary is not true. Since this is likely to \nhave been fixed, please try to confirm the bug with a more recent Tomcat \nrelease. Apparently, you seem to have packaged a lot of stuff in your JAR file, \nwhich could make you run into the known CL problems with 4.0.3."}, {"count": 2, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 16509, "time": "2002-05-21T23:32:45Z", "bug_id": 9071, "creation_time": "2002-05-21T23:32:45Z", "is_private": false, "text": "To follow up on this, if your big JAR contains the Servlet 2.2 API classes, it\nwill get excluded by the classloader. Allowing it would cause a compilation\nfailure of the code generated from your JSP (not a very nice alternative).\nIn general, it is a bad idea to create a big JAR containing third party\nprograms, as it makes your application binary a lot less modular."}]