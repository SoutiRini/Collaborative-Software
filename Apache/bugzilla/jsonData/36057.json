[{"count": 0, "tags": [], "bug_id": 36057, "text": "When you invalidate the session with a call to the method 'session.invalidate()'\nand/or recreate it with a call to the method 'request.getSession(true)', a call\nto the method 'request.getUserPrincipal()' continues to return a not null value\njust after.\n\nTo solve this problem, I think you should reinitialize the value of the field\n'userPrincipal' to 'null' in the method 'doGetSession(boolean create)' of the\nclass 'org.apache.catalina.connector.Request' when the parameter 'create' is\nequal to 'true'.", "id": 78195, "time": "2005-08-06T15:16:35Z", "creator": "remi.mouquet@laposte.net", "creation_time": "2005-08-06T15:16:35Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 36057, "text": "Section 12.5.3.1 of the servlet spec is clear that the \"logout\" of a Form-auth \nuser by invalidating the session applies to subsequent requests only.\n\nIf you need this fuctionality in your webapp, you can easily get it by \nwrapping the Request at the same time that you invalidate the session.", "id": 78196, "time": "2005-08-06T21:25:16Z", "creator": "william.barker@wilshire.com", "creation_time": "2005-08-06T21:25:16Z", "is_private": false, "attachment_id": null}]