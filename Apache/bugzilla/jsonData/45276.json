[{"count": 0, "tags": [], "bug_id": 45276, "attachment_id": null, "text": "When running \"gmake install\", i get this:\n\ngmake[2]: Entering directory `/rpm/BUILD/httpd-2.2.9/srclib/apr-util'\n/rpm/BUILD/httpd-2.2.9/srclib/apr/build/mkdir.sh /rpm/apache-build/apache/lib/apr-util-1\n/bin/sh: 0403-057 Syntax error at line 1 : `;' is not expected.\ngmake[2]: *** [install-modules-yes] Error 2\ngmake[2]: Leaving directory `/rpm/BUILD/httpd-2.2.9/srclib/apr-util'\ngmake[1]: *** [install-recursive] Error 1\ngmake[1]: Leaving directory `/rpm/BUILD/httpd-2.2.9/srclib'\ngmake: *** [install-recursive] Error 1\n\n\n\nI'm building under AIX5.3 (TL7) and using make-3.80-1  .\n\nThe error is due to the fact that APU_MODULES may be an empty string in a for statement.\n\n(If it could help ) I solved the issue by changing the install-modules-yes section like this :\n\n\n@for m in $(APU_MODULES); do $(LIBTOOL) $(LT_LTFLAGS) $(LTFLAGS) --mode=install $(INSTALL) -m 755 $$m $(DESTDIR)$(APU_DSO_LIBDIR); done\n\nbecame :\n\n\nmod='$(APU_MODULES)'\n@for m in $$mod; do $(LIBTOOL) $(LT_LTFLAGS) $(LTFLAGS) --mode=install $(INSTALL) -m 755 $$m $(DESTDIR)$(APU_DSO_LIBDIR); done", "id": 117975, "time": "2008-06-25T08:51:56Z", "creator": "jeremy.jacque@maximo.fr", "creation_time": "2008-06-25T08:51:56Z", "is_private": false}, {"count": 1, "tags": [], "creator": "rpluem@apache.org", "attachment_id": null, "is_private": false, "id": 117982, "time": "2008-06-25T12:56:30Z", "bug_id": 45276, "creation_time": "2008-06-25T12:56:30Z", "text": "Already fixed in apr-util trunk and 1.3.x branch (http://svn.apache.org/viewvc?rev=667438&view=rev, http://svn.apache.org/viewvc?rev=663499&view=rev)"}, {"count": 2, "tags": [], "bug_id": 45276, "attachment_id": null, "id": 120177, "time": "2008-08-28T07:55:48Z", "creator": "cat@cs.wisc.edu", "creation_time": "2008-08-28T07:55:48Z", "is_private": false, "text": "I applied the attached patch to the Apache 2.2.9 source code, and it did not fix this bug. If APU_MODULES is the empty string before the affected code is run, it remains empty afterward, which triggers the shell syntax error."}, {"count": 3, "tags": [], "bug_id": 45276, "is_private": false, "text": "I think you wanted to reopen the bug? WONTFIX has a different meaning.\n", "id": 120178, "time": "2008-08-28T08:01:23Z", "creator": "rahul.g.nair@gmail.com", "creation_time": "2008-08-28T08:01:23Z", "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 45276, "is_private": false, "id": 120182, "time": "2008-08-28T09:19:57Z", "creator": "cat@cs.wisc.edu", "creation_time": "2008-08-28T09:19:57Z", "tags": [], "text": "Oops, sorry, I should have read the docs first! Yes, correct, I meant to reopen the bug. And in fact, I am testing a new patch right now, which I will submit later today if it works."}, {"count": 5, "tags": [], "bug_id": 45276, "attachment_id": 22498, "text": "Created attachment 22498\npatch for 2.2.9\n\nThis may not add much to the thread, but here is the precise patch that I used to compile Apache httpd 2.2.9 source on AIX and a dozen other (mostly Linux) platforms.  It consists of the dso.m4 patch that is already attached to this ticket, plus a minor variant on the original poster's suggested fix.  In any case, it worked for me.", "id": 120189, "time": "2008-08-28T12:30:58Z", "creator": "cat@cs.wisc.edu", "creation_time": "2008-08-28T12:30:58Z", "is_private": false}, {"count": 6, "text": "Please retry with the next apr-util or httpd 2.2.x release and report back.  We can't duplicate the problem with the latest code.", "bug_id": 45276, "attachment_id": null, "id": 140261, "time": "2010-09-28T07:02:26Z", "creator": "trawick@apache.org", "creation_time": "2010-09-28T07:02:26Z", "tags": [], "is_private": false}, {"count": 7, "attachment_id": null, "bug_id": 45276, "is_private": false, "id": 140366, "time": "2010-10-01T10:21:59Z", "creator": "cat@cs.wisc.edu", "creation_time": "2010-10-01T10:21:59Z", "tags": [], "text": "Wow, I had completely forgotten about this ticket!  Anyway, I just tried a\nnew build of Apache 2.2.16 and it worked without the patch.  It turns out,\nwe had dropped half of the patch quite a while ago (the part that changed\ndso.m4), but still had the part that modified apr-util/Makefile.in.  That\nremaining patch was no longer needed, as the new build worked on AIX 5.3,\nMac OS X 10.4 (don't ask), and a variety of Linux flavors.  Thanks for\ngetting back to this ticket!  I think it can be closed now."}, {"count": 8, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "is_private": false, "id": 140369, "time": "2010-10-01T10:30:07Z", "bug_id": 45276, "creation_time": "2010-10-01T10:30:07Z", "text": "fixed\napparently with the revs listed earlier in this pr"}]