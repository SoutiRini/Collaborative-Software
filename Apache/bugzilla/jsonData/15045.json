[{"attachment_id": null, "tags": [], "bug_id": 15045, "is_private": false, "count": 0, "id": 27376, "time": "2002-12-04T01:32:01Z", "creator": "bruno@wolff.to", "creation_time": "2002-12-04T01:32:01Z", "text": "If a file gets its type from a default type directive and this\ntype is mentioned on an addoutputfilterbytype command, the filter\ndoes not get applied.\nIn particular I set my default type to text/plain and set up\na DEFLATE filter for text/plain using addoutputfilterbytype and\nfiles getting text/plain by default didn't get compressed. However\nif I explicitly gave an extension a text/plain type, files with\nthat extension would get compressed."}, {"count": 1, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "is_private": false, "id": 27403, "time": "2002-12-04T12:59:12Z", "bug_id": 15045, "creation_time": "2002-12-04T12:59:12Z", "text": "hmm, it's a kind of chicken and egg problem, because the default type will be \napplied in a (PROTOCOL) filter, i.e. some filters like RESOURCE (INCLUDES, PHP) \nand CONTENT_SET (DEFLATE) are already done at this point.\n\nI guess, the addoutputfilterbytype implementation will need some future \nrevisions. However, this should be mentioned in the docs anyway.\n\nThanks for the report."}, {"attachment_id": null, "tags": [], "bug_id": 15045, "text": "We are starting to get a long list of places AddOutputFilterByType doesn't work.\nPerhaps the docs should be very specific about where it IS known to work:\nAddType, etc.", "count": 2, "id": 27411, "time": "2002-12-04T15:11:42Z", "creator": "slive@apache.org", "creation_time": "2002-12-04T15:11:42Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 15045, "is_private": false, "count": 3, "id": 27414, "time": "2002-12-04T16:33:30Z", "creator": "nd@perlig.de", "creation_time": "2002-12-04T16:33:30Z", "text": "yep, exactly my thoughts :)"}, {"attachment_id": null, "tags": [], "bug_id": 15045, "text": "The comments about defaulttype puzzled me at first, especially one on the\ndevelopment list about how they really shouldn't work.\nAfter reading a bit, I noticed that defaulttype is a core command\nand there isn't an equivalent command for mod_mime. Perhaps a default\ntype command could be added to mod_mime? I suspect that for most\npeople setting the default type, they really want it applied to\nfiles being served rather than as a last ditch type to be used before\nsending a response.", "count": 4, "id": 27527, "time": "2002-12-08T15:18:07Z", "creator": "bruno@wolff.to", "creation_time": "2002-12-08T15:18:07Z", "is_private": false}, {"count": 5, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "text": "\n  The problem with \"Perhaps a default type command could be added to mod_mime?\n  I suspect that for most people setting the default type, they really want it \n  applied to files being served rather than as a last ditch type to be used \n  before sending a response.\" ...\n\n  ... you presume mod_mime is the mime module in place.\n\n  If you feel like authoring a patch that moves that default-type to the\n  appropriate place 'HOOK_VERY_LAST' in the types hook, that would be\n  terrific.  But it belongs in core since Content-Type is an HTTP-ism,\n  but it should be absolutely minimal so that it works with or without\n  any combination of mod_mime, mod_mime_magic or any other module.\n", "id": 27533, "time": "2002-12-09T04:11:44Z", "bug_id": 15045, "creation_time": "2002-12-09T04:11:44Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 15045, "text": "Also, AddOutputFilterByType filters aren't applied to resources found through a\nDirectoryIndex directive.  E.g.:\n\n| DirectoryIndex default\n| AddOutputFilterByType INCLUDES text/html\n\nThis won't apply the INCLUDES filter to a resource called \"/foo/default.html\" if\nrequested as \"/foo\" or /foo/\", but *will* apply the filter if requested as\n\"/foo/default\" (using Options MultiViews) or \"/foo/default.html\".\n\nCurrently, I'm using this instead:\n\n| DirectoryIndex default\n| <FilesMatch \"\\.xhtml(\\..+)?$\">\n|     SetOutputFilter INCLUDES\n| </FilesMatch>\n\nUgly.", "id": 48060, "time": "2003-11-25T00:26:40Z", "creator": "julian@mehnle.net", "creation_time": "2003-11-25T00:26:40Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "text": "Julian, this is a different issue (my first thought: fats internal redirect).\nCould you please open a separate report? Thanks!", "is_private": false, "id": 48069, "creator": "nd@perlig.de", "time": "2003-11-25T06:46:23Z", "bug_id": 15045, "creation_time": "2003-11-25T06:46:23Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 15045, "is_private": false, "count": 8, "id": 48699, "time": "2003-12-08T21:56:58Z", "creator": "julian@mehnle.net", "creation_time": "2003-12-08T21:56:58Z", "text": "Andr\u00e9 Malo:  I filed my comment as bug 25342."}, {"count": 9, "tags": [], "creator": "davi@apache.org", "attachment_id": null, "id": 104228, "time": "2007-06-08T12:25:10Z", "bug_id": 15045, "creation_time": "2007-06-08T12:25:10Z", "is_private": false, "text": "It seems the documentation on this issue has been improved.\n\nhttp://httpd.apache.org/docs/2.2/mod/core.html#addoutputfilterbytype"}]