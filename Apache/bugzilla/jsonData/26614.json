[{"count": 0, "tags": [], "bug_id": 26614, "attachment_id": null, "id": 51614, "time": "2004-02-02T19:52:38Z", "creator": "kschneider@gmail.com", "creation_time": "2004-02-02T19:52:38Z", "is_private": false, "text": "The current code for XPathUtil.JstlVariableContext.notNull looks like:\n\n        private Object notNull(Object o, String prefix, String localName)\n        throws UnresolvableException {\n            if (o == null) {\n                throw new UnresolvableException(\"$\" +\n(prefix==null?\"\":\"prefix\"+\":\") + localName);\n            }\n            //p(\"resolved to: \" + o);\n            return o;\n        }\n\nWhich means that if the prefix arg is non-null, the exception message will\nalways include the literal string \"prefix\" as opposed to the arg's value. The\nfix is to do something like:\n\n        private Object notNull(Object o, String prefix, String localName)\n        throws UnresolvableException {\n            if (o == null) {\n                throw new UnresolvableException(\"$\" +\n(prefix==null?\"\":prefix+\":\") + localName);\n            }\n            //p(\"resolved to: \" + o);\n            return o;\n        }\n\nI can't create a diff/patch while at work, but the fix is pretty simple. I'll\ntry to upload a diff tonight unless somebody else beats me to it..."}, {"count": 1, "tags": [], "bug_id": 26614, "attachment_id": null, "id": 53783, "time": "2004-03-10T03:44:50Z", "creator": "nagoya@felipeal.net", "creation_time": "2004-03-10T03:44:50Z", "is_private": false, "text": "Fixed (sorry, beat it while cleaning up other bugs :-)\n\nMAIN BRANCH\n------------\n\ndiff -r1.16 XPathUtil.java\n363c363\n<                 throw new UnresolvableException(\"$\" +\n(prefix==null?\"\":\"prefix\"+\":\") + localName);\n---\n>                 throw new UnresolvableException(\"$\" +\n(prefix==null?\"\":prefix+\":\") + localName);\n\nBRANCH_1.0\n-----------\ndiff -r1.8.2.2 XPathUtil.java\n158,159c158,160\n<           if (o == null)\n<               throw new UnresolvableException(\"$\" + prefix + \":\" + localName);---\n>             if (o == null) {\n>                 throw new UnresolvableException(\"$\" +\n(prefix==null?\"\":prefix+\":\") + localName);\n>             }\n\n\n"}]