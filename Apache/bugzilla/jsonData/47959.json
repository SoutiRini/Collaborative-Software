[{"count": 0, "tags": [], "bug_id": 47959, "text": "Hi Loggers\n\n\nI got an IOException in log4j 1.2.15 as follow. This is a reproductible problem. It appears when using the db4o database as the underlying persistence subsystem. Any idea to bypass this error are welcome.\n\n\n\nlog4j:ERROR Failed to flush writer,\njava.io.IOException: Descripteur non valide\n        at java.io.FileOutputStream.writeBytes(Native Method)\n        at java.io.FileOutputStream.write(FileOutputStream.java:260)\n        at sun.nio.cs.StreamEncoder$CharsetSE.writeBytes(StreamEncoder.java:336)\n        at sun.nio.cs.StreamEncoder$CharsetSE.implFlushBuffer(StreamEncoder.java:404)\n        at sun.nio.cs.StreamEncoder$CharsetSE.implFlush(StreamEncoder.java:408)\n        at sun.nio.cs.StreamEncoder.flush(StreamEncoder.java:152)\n        at java.io.OutputStreamWriter.flush(OutputStreamWriter.java:213)\n        at org.apache.log4j.helpers.QuietWriter.flush(QuietWriter.java:58)\n        at org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:316)\n        at org.apache.log4j.WriterAppender.append(WriterAppender.java:160)\n        at org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:251)\n        at org.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:66)\n        at org.apache.log4j.Category.callAppenders(Category.java:206)\n        at org.apache.log4j.Category.forcedLog(Category.java:391)\n        at org.apache.log4j.Category.l7dlog(Category.java:813)\n        at iso.itu.osi.sap.SAPLogger.debugKey(SAPLogger.java)\n        at iso.itu.osi.msap.MSAPLogger.MInitializeIndication(MSAPLogger.java)\n        at iso.itu.osi.msap.MSAPStarter.RoBindIndication(MSAPStarter.java)\n        at iso.itu.osi.rosap.RoSAPStarter.AAssociateIndication(RoSAPStarter.java)\n        at iso.itu.osi.acsap.AcSAPStarter.PConnectIndication(AcSAPStarter.java)\n        at iso.itu.osi.psap.PSAPStarter.SConnectIndication(PSAPStarter.java)\n        at iso.itu.osi.ssap.SSAPStarter.TConnectIndication(SSAPStarter.java)\n        at iso.itu.osi.tsap.TSAPStarter.NConnectIndication(TSAPStarter.java)\n        at iso.itu.osi.nsap.NSAPProvider.run(NSAPProvider.java)\n        at java.lang.Thread.run(Thread.java:595)\n==== after opening, system has 2 objects\n====before closing, system has 2 objects\niso.itu.osi.nsap.NSAPException: Une connexion existante a d\u00b9 \u00dbtre ferm\u00dae par l'h\u00b6te distant\n        at iso.itu.osi.nsap.Zb.Zb.NReadNSDU(Zb.java)\n        at iso.itu.osi.nsap.NSAPProvider.run(NSAPProvider.java)\n        at java.lang.Thread.run(Thread.java:595)\nTerminer le programme de commandes (O/N)\u00a0?\n^C\nC:\\Program Files\\ISO-ITU-OSI>endlocal", "id": 130961, "time": "2009-10-07T23:31:42Z", "creator": "francis.andre.kampbell@orange.fr", "creation_time": "2009-10-07T23:31:42Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "Please ask on log4j-user.  Marking as INVALID as it is likely either something on the file system or the JVM than a log4j bug.  Maybe something like the current log file being deleted while in use.\n\nIf you repost on log4j-user, please provide the vendor and version of the JDK in use, operating system, etc.  If you are using a Sun JDK, you might check any bugs related to InvalidDescriptor.\n\nAlso, the stack trace would be more helpful if you would change the language to english as most JDK and other bug reports would be in that language and the specific wording may be required to match the report.", "is_private": false, "id": 130980, "creator": "carnold@apache.org", "time": "2009-10-08T06:50:20Z", "bug_id": 47959, "creation_time": "2009-10-08T06:50:20Z", "attachment_id": null}]