[{"count": 0, "tags": [], "bug_id": 9079, "text": "I consider this a bug breaking backwards API compatibility.  Please file a\nbug report with Bugzilla for this issue so we can address during the beta\ncycle (feel free to submit a patch to add it back if you want too! :)\n\n    Erik\n\n\n----- Original Message -----\nFrom: \"Bryan Pendleton\" <bpendleton@amberpoint.com>\nTo: <ant-user@jakarta.apache.org>\nSent: Monday, May 13, 2002 6:04 PM\nSubject: Ant 1.5 Beta 1 -- change to available.setFile()\n\n\n>\n> In 1.4.1, org.apache.tools.taskdefs.Available had a\n> setFile method with the signature:\n>\n>   public void setFile(java.io.File)\n>\n> in 1.5Beta1, this method has the signature\n>\n>   public void setFile(java.lang.String)\n>\n> I have an Ant task that I wrote against 1.4.1 which\n> contains the code\n>\n>   avail = (Available)initTask(\"available\");\n>   ...\n>   File   dirFile  = new File(current);\n>   ...\n>   avail.setFile(dirFile);\n>\n> But this code refuses to compile with Ant 1.5. I\n> get the error:\n>\n>     [javac]\n> C:\\Bryan\\sandbox\\main\\retools\\anttasks\\src\\com\\amberpoint\\anttasks\\O\n> ptionalSubDir.java:81: setFile(java.lang.String) in\n> org.apache.tools.ant.taskdef\n> s.Available cannot be applied to (java.io.File)\n>     [javac]             avail.setFile(dirFile);\n>     [javac]                  ^\n>     [javac] 1 error\n>\n> Is there a simple way to modify my custom Ant task\n> so that it can compile correctly against both Ant 1.4\n> and Ant 1.5?\n>\n> thanks,\n>\n> bryan\n>", "id": 16101, "time": "2002-05-14T19:40:41Z", "creator": "bpendleton@amberpoint.com", "creation_time": "2002-05-14T19:40:41Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "holtdl@yahoo.com", "attachment_id": null, "text": "Anyone else want to chime in on this one? Does everyone agree with Erik's \nassessment, or can we just document this change in the \"may break\" section of \nWHATSNEW? Since what's being specified is the name of a (potential) file or \ndirectory, having it be a String seemed okay to me, and it made all the \nsearching for it with the filepath stuff work -- changing it back to a File \nwill mean a lot of reworking of how all that's done (which I'm not sure when \nI'd have time to do). Can the cited user's task's code just be changed to \navail.setFile(current)?", "id": 16251, "time": "2002-05-16T18:13:57Z", "bug_id": 9079, "creation_time": "2002-05-16T18:13:57Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 9079, "attachment_id": null, "id": 16319, "time": "2002-05-17T09:44:46Z", "creator": "bodewig@apache.org", "creation_time": "2002-05-17T09:44:46Z", "is_private": false, "text": "The users task code cannot be changed to work with both 1.4 and 1.5, so here is\nthe problem.\n\nI agree that changing it back to File will become ugly.  The easiest solution\nwould probably be to remove the basedir from the absolute inside the setter\nand just store the remaining part inside a String attribute, so only the setter\nwould need to be changed.\n\nWe will need some good testcases though."}, {"count": 3, "tags": [], "bug_id": 9079, "attachment_id": null, "id": 16801, "time": "2002-05-28T06:13:25Z", "creator": "bodewig@apache.org", "creation_time": "2002-05-28T06:13:25Z", "is_private": false, "text": "fixed for 1.5beta2"}]