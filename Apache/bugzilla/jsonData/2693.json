[{"count": 0, "attachment_id": null, "creator": "turner@blackbear.com", "text": "The following source:\n <HTML>\n <HEAD><TITLE>Hello World!</TITLE></HEAD>\n <BODY>\n <%\n   int i = 0;\n   while (i++ < 5) {\n %> \n  Hello World! Loop #\n <% \n     out.print(i); \n%>\n  <br>\n <% } %>\n\n</BODY>\n</HTML>\n\nGenerates the following error:\n\n\n\nA Servlet Exception Has Occurred\nException Report:\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:538)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:175)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:187)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:379)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:453)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:255)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:219)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2251)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:446)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:984)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1074)\n\tat java.lang.Thread.run(Thread.java:579)\n\nRoot Cause:\njava.lang.NumberFormatException: \n\\TomCat\\work\\localhost\\cartapp\\jsp\\_0002fjsp_0002f5loop_0005fsyntax_jsp.java\n\tat java.lang.Integer.parseInt(Integer.java:429)\n\tat java.lang.Integer.parseInt(Integer.java:479)\n\tat org.apache.jasper.compiler.Compiler.getJspLineErrors\n(Compiler.java:321)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:280)\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:523)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:175)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:187)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:379)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:453)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:255)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:219)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2251)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:446)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:984)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1074)\n\tat java.lang.Thread.run(Thread.java:579)", "id": 3846, "time": "2001-07-19T11:16:58Z", "bug_id": 2693, "creation_time": "2001-07-19T11:16:58Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": null, "creator": "remm@apache.org", "text": "It's a Windows only issue. Many thanks for reporting it, otherwise we would \nhave had two consecutive betas of TC 4.0 with a JSP showstopper under Windows.", "id": 3861, "time": "2001-07-19T17:35:34Z", "bug_id": 2693, "creation_time": "2001-07-19T17:35:34Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "craig.mcclanahan@sun.com", "attachment_id": null, "text": "Fixed.  Windows pathnames strike again :-)\n\nThe page compiler was getting confused in trying to locate the line number in\nerror messages returned by the javac compiler, which is between two \":\"\ncharacters after the source file pathname.  Unfortunately, on some Windows\nplatforms (2k and XP at least, but not 98) the compiler includes the drive\nletter (and subsequent colon) in the error message.\n", "id": 3862, "time": "2001-07-19T17:35:56Z", "bug_id": 2693, "creation_time": "2001-07-19T17:35:56Z", "is_private": false}, {"count": 3, "tags": [], "creator": "bremulus@hotmail.com", "attachment_id": null, "text": "JSP pages do not compile for me using JDK1.4b2. I am confident that they worked \nusing jdk 1.3.1.\n\nThe stacktrace for the jsp example date is \n\n\n\nA Servlet Exception Has Occurred\nException Report:\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:543)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:176)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:188)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:381)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:458)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:1264)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:215)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke\n(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2314)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:462)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:1000)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1093)\n\tat java.lang.Thread.run(Thread.java:539)\n\nRoot Cause:\njava.lang.NumberFormatException:  Invalid class file format in C\n\tat java.lang.Integer.parseInt(Integer.java:429)\n\tat java.lang.Integer.parseInt(Integer.java:479)\n\tat org.apache.jasper.compiler.Compiler.getJspLineErrors\n(Compiler.java:321)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:280)\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:528)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:176)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:188)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:381)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:458)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:1264)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:215)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke\n(AuthenticatorBase.java:472)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2314)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:462)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:1000)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1093)\n\tat java.lang.Thread.run(Thread.java:539)\n\n", "id": 5043, "time": "2001-09-02T10:54:20Z", "bug_id": 2693, "creation_time": "2001-09-02T10:54:20Z", "is_private": false}, {"count": 4, "tags": [], "creator": "bremulus@hotmail.com", "attachment_id": null, "text": "i should have noted that i used the windows installer version...\n\na received a mail saying the following:\n----8<-------\nI read your comment on the tomcat bugzilla page\nabout the jdk 1.4 compiler problem, I had the same\nproblem myself, the solution lies in the tools.jar\nfile that the tomcat installer copies to the\ntomcat\\common\\lib directory, it's probably from\nan older JDK version\n \nHope this helps\n \nDylan Schell\ndylans@xs4all.nl \n----8<-------\n\ni will examine, and post the results.\n\ncheers, a.", "id": 5145, "time": "2001-09-05T23:30:17Z", "bug_id": 2693, "creation_time": "2001-09-05T23:30:17Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 2693, "attachment_id": null, "text": "dylan is right, the windows installer places tools.jar from jdk1.3.1 in \ncommon/lib. when using jdk.1.4b2 and replacing that file with tools.jar from \njdk1.4b2, everything works fine.\n\n\nit would seem that a better solution is to let the installer add %JAVA_HOME%\n\\lib\\tools.jar to the runtime classpath, in the same manner that the normal \nsource builds do.\n\na.", "id": 5196, "time": "2001-09-07T01:07:08Z", "creator": "bremulus@hotmail.com", "creation_time": "2001-09-07T01:07:08Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 2693, "text": "FWIW, this code does compile and run correctly on Win98 with Tomcat code from\nthe current CVS tree, and JDK 1.3.0_02.  I'll have to download JDK 1.4b2 to try\nthat.\n", "id": 5224, "time": "2001-09-07T14:03:03Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-09-07T14:03:03Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "craig.mcclanahan@sun.com", "attachment_id": null, "id": 5229, "time": "2001-09-07T16:31:23Z", "bug_id": 2693, "creation_time": "2001-09-07T16:31:23Z", "is_private": false, "text": "Current code (which will be in nightly build 20010908) runs correctly in all\ncombinations of:\n* JDK 1.3 versus 1.4b2\n* Windows versus Linux\n* Syntax errors versus no syntax errors\n"}, {"count": 8, "tags": [], "bug_id": 2693, "text": "This error persists if javac produces a deprecation warning, because this \nwarning begins with the string \"Note: \" and Jasper takes this ':' as the drive-\nletter marker.  I could fix it with:\n\n            if (beginColon<0 || endColon<0\n+\t            \t|| line.startsWith(\"Note: \")) // deprecation", "id": 6270, "time": "2001-10-02T08:22:51Z", "creator": "osvaldo@visionnaire.com.br", "creation_time": "2001-10-02T08:22:51Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 2693, "attachment_id": null, "text": "Fixed to add the check as suggested (nightly build 20011004)", "id": 6385, "time": "2001-10-04T12:26:10Z", "creator": "kin-man.chung@sun.com", "creation_time": "2001-10-04T12:26:10Z", "is_private": false}, {"count": 10, "attachment_id": null, "creator": "remm@apache.org", "text": "*** Bug 4047 has been marked as a duplicate of this bug. ***", "id": 6517, "time": "2001-10-09T15:08:28Z", "bug_id": 2693, "creation_time": "2001-10-09T15:08:28Z", "tags": [], "is_private": false}]