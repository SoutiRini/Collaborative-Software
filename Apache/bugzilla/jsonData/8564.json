[{"count": 0, "tags": [], "creator": "jesandberg@dstsystems.com", "attachment_id": null, "text": "In the class org.apache.catalina.sessions.JDBCStore which I am using for \nstoring persistent sessions to a DB2 database, the SQLSTATE 42803 error came up \nas a COM.ibm.db2.jdbc.DB2Exception was thrown.  I traced the problem back to \nthe JDBCStore source, line 390, where the following statement is issued:\n\nString keysSql = \"SELECT COUNT(s.\"+sessionIdCol+\"), s.\"+sessionIdCol+\" \nFROM \"+sessionTable+\" s, \" +sessionTable+\" c\" +\" GROUP BY c.\"+sessionIdCol;\n\nThis statement was throwing the error in DB2, so I replaced it with:\n\nString keysSql = \"SELECT COUNT(s.\"+sessionIdCol+\"), s.\"+sessionIdCol+\" \nFROM \"+sessionTable+\" s\" +\" GROUP BY s.\"+sessionIdCol;\n\nI asked a DB2 expert at my company and he said that because of the higher level \nof error checking in DB2 as compared to other databases, the format of this \nstatement was incorrect.  With this fix, I no longer get the Exception.", "id": 14857, "time": "2002-04-26T18:49:42Z", "bug_id": 8564, "creation_time": "2002-04-26T18:49:42Z", "is_private": false}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "text": "This has already been fixed.\n\nThe statement should be:\n        String keysSql =\n            \"SELECT COUNT(s.\"+sessionIdCol+\"), c.\"+sessionIdCol+\n            \" FROM \"+sessionTable+\" s, \"+sessionTable+\" c\"+\n            \" GROUP BY c.\"+sessionIdCol;\n\n*** This bug has been marked as a duplicate of 7170 ***", "id": 14974, "time": "2002-04-29T06:56:04Z", "bug_id": 8564, "creation_time": "2002-04-29T06:56:04Z", "is_private": false}]