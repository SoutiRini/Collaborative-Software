[{"count": 0, "tags": [], "text": "When using ant to run windows applications in parallel, termination of one\napplication will not always result in a new process. \n\nThe problem can be verified on XP and Server 2003 with simple GUI hello world\nprograms that pop up a window and have to be closed manually. I experienced it\nwith Ant 1.65 and the current ant 1.7.0 nightly build (may 28th 2007), on both a\nP4 machine (with 2 virtual processors) and on a Xeon server with 4 processors.\n\nIn the following script on a 2-processor machine, sometimes (25%-50% of the\ntime) I have to close both HelloWorld1 and HelloWorld2 before HelloWorld3 is\nstartet. The problem does not depend on which program is closed, it occurs\nsometimes if I close HelloWorld1 and sometimes if I close HelloWorld2. \n\n<parallel threadsPerProcessor=\"1\">\n            <exec executable=\"HelloWorld1.exe\"/>\n            <exec executable=\"HelloWorld2.exe\"/>\n            <exec executable=\"HelloWorld3.exe\"/>\n            <exec executable=\"HelloWorld4.exe\"/>\n</parallel>\n\n\nThe same problem occurs if I enter a fixed threadCount. If I run the next code\nsnippet, it is rare that a new application is startet if I terminate a randomly\npicked process of the 4 started process, often I have to close all 4\napplications before the next 4 are started.\n\n<parallel threadCount=\"4\">\n        <exec executable=\"HelloWorld1.exe\"/>\n        <exec executable=\"HelloWorld2.exe\"/>\n        <exec executable=\"HelloWorld3.exe\"/>\n        <exec executable=\"HelloWorld4.exe\"/>\n        <exec executable=\"HelloWorld5.exe\"/>\n        <exec executable=\"HelloWorld6.exe\"/>\n        <exec executable=\"HelloWorld7.exe\"/>\n        <exec executable=\"HelloWorld8.exe\"/>\n</parallel>\n\nIn fact, monitoring our Nightly Build which compiles a large number of C++\nprograms in parallel on a 4-processor machine showed that with\nthreadsPerProcessor=\"1\", sometimes only one process is running. This severely\nprolongs out build time, because the compile time of a few projects is very long\nand if ant waits for such a project then only one processor is used instead of\nall 4.", "is_private": false, "bug_id": 42534, "id": 103762, "time": "2007-05-29T03:06:41Z", "creator": "tv_spambox@gmx.de", "creation_time": "2007-05-29T03:06:41Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "jkf@apache.org", "attachment_id": null, "text": "I am trying to analyze this issue, it seems like the stream pumper of the exec\ntasks hangs for quite some time.", "id": 104959, "time": "2007-06-30T16:13:13Z", "bug_id": 42534, "creation_time": "2007-06-30T16:13:13Z", "is_private": false}, {"count": 2, "tags": [], "creator": "jkf@apache.org", "attachment_id": null, "text": "\n\n*** This bug has been marked as a duplicate of 5003 ***", "id": 104965, "time": "2007-07-01T02:05:32Z", "bug_id": 42534, "creation_time": "2007-07-01T02:05:32Z", "is_private": false}]