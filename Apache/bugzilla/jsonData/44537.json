[{"count": 0, "tags": [], "creator": "webmaster@javapractices.com", "text": "SRV 8.1.1:\n\"The ServletContext and ServletRequest methods that create RequestDispatcher\nobjects using path information allow the optional attachment of query string\ninformation to the path.\"\n\nThus, any query params used to create a RequestDispatcher must be passed on to the request object.\n\nRequestDispatcher dispatcher = aRequest.getRequestDispatcher(\"blah.jsp?x=1\");\ndispatcher.forward(aRequest, aResponse);\n\nIf the request is *not wrapped*, then 'x' is indeed visible in 'blah.jsp'.\n\nHowever, if the request object is *wrapped*, then 'x' is not visible in the destination page 'blah.jsp', and it should be.", "id": 114281, "time": "2008-03-05T04:29:31Z", "bug_id": 44537, "creation_time": "2008-03-05T04:29:31Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "webmaster@javapractices.com", "attachment_id": null, "is_private": false, "id": 114282, "time": "2008-03-05T04:31:53Z", "bug_id": 44537, "creation_time": "2008-03-05T04:31:53Z", "text": "Saw the same behavior in Tomcat 6.0.10."}, {"count": 2, "tags": [], "text": "In this case it is the responsibility of the request wrapper to provide access to the query params from the underlying request. You should raise this issue with the provider of your request wrapper.", "attachment_id": null, "id": 114378, "creation_time": "2008-03-06T13:18:11Z", "time": "2008-03-06T13:18:11Z", "creator": "markt@apache.org", "bug_id": 44537, "is_private": false}, {"count": 3, "tags": [], "creator": "webmaster@javapractices.com", "text": "I disagree. \n\nYour comment doesn't seem to agree with the docs for ServletRequestWrapper:\nhttp://java.sun.com/javaee/5/docs/api/javax/servlet/ServletRequestWrapper.html#getRequestDispatcher(java.lang.String)\n\nThe wrapper I am using :\n - extends HttpsServletRequestWrapper\n - does not override getRequestDispatcher(String)\n\nHence :\n- the default impl in ServletRequestWrapper is used\n- that impl does a call-forward to the underlying request\n\nDo you see my point?", "id": 114390, "time": "2008-03-06T16:07:12Z", "bug_id": 44537, "creation_time": "2008-03-06T16:07:12Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 114434, "time": "2008-03-07T14:49:01Z", "bug_id": 44537, "creation_time": "2008-03-07T14:49:01Z", "is_private": false, "text": "That would have been helpful information to include in your original report.\n\nRegardless, a simple test case based on your explanation works as expected for me.\n\nI suggest you use the users list to figure where you are going wrong in your code.  My best guess is somewhere in your wrapper but if you post your source, or better still the simplest source the exhibits the problem, to the users list I or one of the other people on the list should be able to help. For completeness, provide the source of the outer servlet as well."}]