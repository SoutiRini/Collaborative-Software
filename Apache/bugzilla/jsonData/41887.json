[{"text": "Currently when httpd starts or when a graceful command is issued, it does a\nDocumentRoot check. When a DocumentRoot doesn't exist; it will produce a warning.\nThe DocumentRoot check gets its information by 'statting' all the DocumentRoots\nfrom the config file. This check process might take some time depending on the\nnumber of DocumentRoots and the speed of the filesystem.\nImagine the following: mass virtualhosting with 1000's of different\nDocumentRoots which are all located on a rather slow NFS mount. This is in fact\nmy real life setup. \nThis causes a problem; when changing the config, you normally like to issue a\ngraceful restart. However with the number of DocumentRoots on my slow NFS mount\nthis will take up several minutes, resulting in my server becoming less\nresponsive/unavailable until the graceful is complete. Wich is *bad*.\nSo I added an option to the httpd startup. A \"-T\" commandline argument (which\nwas also available in 1.3.x). This option will skip the DocumentRoot check and\nstart the server anyway. In my case this means I can do a graceful restart in a\ncouple of seconds instead of minutes. So this option has greatly improved my\nserver performance. \nI've been running my patched up Apache for over a week now: which handles about\n50 hits/second and it runs great!", "tags": [], "bug_id": 41887, "attachment_id": null, "count": 0, "id": 100578, "time": "2007-03-19T03:43:12Z", "creator": "janvdberg@gmail.com", "creation_time": "2007-03-19T03:43:12Z", "is_private": false}, {"count": 1, "tags": [], "creator": "janvdberg@gmail.com", "attachment_id": 19736, "id": 100579, "time": "2007-03-19T03:46:01Z", "bug_id": 41887, "creation_time": "2007-03-19T03:46:01Z", "is_private": false, "text": "Created attachment 19736\nDocumentRoot check option for 2.0.60\n\nThis patch for the latest 2.0.x tag will add a commandline option -T; which\nspecifies whether or not to do a DocumentRoot check when starting httpd."}, {"count": 2, "tags": [], "creator": "janvdberg@gmail.com", "text": "Created attachment 19737\nDocumentRoot check option for 2.3.0\n\nI was advised on the dev-httpd mailinglist (by Nick Kew) to add a patch for the\ncurren trunk (2.3.0) as well. \nSo here it is.", "id": 100593, "time": "2007-03-19T07:28:45Z", "bug_id": 41887, "creation_time": "2007-03-19T07:28:45Z", "is_private": false, "attachment_id": 19737}, {"count": 3, "tags": [], "creator": "nick@webthing.com", "attachment_id": null, "id": 133046, "time": "2009-12-21T15:30:30Z", "bug_id": 41887, "creation_time": "2009-12-21T15:30:30Z", "is_private": false, "text": "Committed to trunk in r893027"}, {"count": 4, "tags": [], "creator": "nick@webthing.com", "text": "*** Bug 40970 has been marked as a duplicate of this bug. ***", "id": 133132, "time": "2009-12-27T03:02:02Z", "bug_id": 41887, "creation_time": "2009-12-27T03:02:02Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "nick@webthing.com", "text": "*** Bug 49076 has been marked as a duplicate of this bug. ***", "id": 138560, "time": "2010-07-20T09:16:12Z", "bug_id": 41887, "creation_time": "2010-07-20T09:16:12Z", "is_private": false, "attachment_id": null}, {"count": 6, "attachment_id": null, "bug_id": 41887, "text": "*** Bug 50002 has been marked as a duplicate of this bug. ***", "id": 140165, "time": "2010-09-25T05:25:15Z", "creator": "nick@webthing.com", "creation_time": "2010-09-25T05:25:15Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "creator": "nick@webthing.com", "text": "This is now backported in r984171, live in 2.2.17.", "id": 140166, "time": "2010-09-25T05:29:55Z", "bug_id": 41887, "creation_time": "2010-09-25T05:29:55Z", "is_private": false, "attachment_id": null}]