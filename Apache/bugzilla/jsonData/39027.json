[{"count": 0, "tags": [], "creator": "guilhem@kaffe.org", "attachment_id": null, "id": 86986, "time": "2006-03-18T12:54:22Z", "bug_id": 39027, "creation_time": "2006-03-18T12:54:22Z", "is_private": false, "text": "Ant is using available classes to detect the currently available java version.\nHowever this is wrong as standard GNU Classpath includes some Java 1.5 classes\nbut is not Java 1.5 (rather Java 1.4). Why not using the property java.version\ndirectly ? \n\nYou can see the current logs on\n\nhttp://gump.zones.apache.org/gump/kaffe/ant/bootstrap-ant/gump_work/buildscript_ant_bootstrap-ant.html"}, {"count": 1, "tags": [], "creator": "mbenson@apache.org", "text": "Probably because it would require (unreliable) parsing of the version number.", "id": 86995, "time": "2006-03-18T18:41:51Z", "bug_id": 39027, "creation_time": "2006-03-18T18:41:51Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "guilhem@kaffe.org", "text": "Another option is to check other classes which are really relying on Java 1.5\nfeatures (like enums, generics, ...)\n\nI have heard it is the case for java.net.Proxy for example.", "id": 86996, "time": "2006-03-18T19:39:09Z", "bug_id": 39027, "creation_time": "2006-03-18T19:39:09Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "text": "All we need is a java1.5 class that is always there, doesnt have bad\nconsequences, and can be checked for in language-neutral java source. ", "attachment_id": null, "id": 87006, "creation_time": "2006-03-19T21:09:19Z", "time": "2006-03-19T21:09:19Z", "creator": "stevel@apache.org", "bug_id": 39027, "is_private": false}, {"count": 4, "tags": [], "creator": "guilhem@kaffe.org", "attachment_id": null, "id": 87275, "time": "2006-03-26T12:11:10Z", "bug_id": 39027, "creation_time": "2006-03-26T12:11:10Z", "is_private": false, "text": "If you check for java.net.Proxy it will be ok for us (Classpath). java.net.Proxy\nwill never be shipped except when we will have full 1.5 support. So could\nsomeone with write access change the used class ?"}, {"count": 5, "tags": [], "creator": "jkf@apache.org", "attachment_id": null, "id": 87281, "time": "2006-03-26T15:05:28Z", "bug_id": 39027, "creation_time": "2006-03-26T15:05:28Z", "is_private": false, "text": "Fixed"}, {"count": 6, "tags": [], "creator": "guilhem@kaffe.org", "attachment_id": null, "id": 87331, "time": "2006-03-27T21:37:33Z", "bug_id": 39027, "creation_time": "2006-03-27T21:37:33Z", "is_private": false, "text": "You also have to update the root build.xml file.\n\n  <target name=\"check_for_optional_packages\">\n    <available property=\"jdk1.3+\" classname=\"java.lang.StrictMath\"/>\n    <available property=\"jdk1.4+\" classname=\"java.lang.CharSequence\"/>\n===> this one\n    <available property=\"jdk1.5+\" classname=\"java.lang.Readable\"/> \n<===\n    <available property=\"jdk1.6+\" classname=\"java.util.Service\"/>\n    <available property=\"kaffe\" classname=\"kaffe.util.NotImplemented\"/>"}, {"count": 7, "tags": [], "creator": "jkf@apache.org", "text": "Also changed that one,\n\nI thought for building Ant, kaffe was treated as jdk 1.5 with an exclusion on\nisReachable\n\n", "id": 87335, "time": "2006-03-27T22:01:42Z", "bug_id": 39027, "creation_time": "2006-03-27T22:01:42Z", "is_private": false, "attachment_id": null}]