[{"count": 0, "tags": [], "text": "The javadoc command double-quotes arguments given by the <group> tag.  For\nexample, the following build.xml fragment will give a command line containing\n\n-group '\"foo.bar:foo.baz:foo.mumble\"'\n\nThe javadoc command interprets this as needing to group the classes\n\n\"foo.bar\nfoo.baz\nfoo.mumble\"\n\nresulting in foo.bar and foo.mumble being listed in \"Other Packages\" instead of\nunder \"Foo Package\".\n\nThis occurs using ANT 1.4Beta1 (and built locally from CVS) under \"Java(TM) 2\nRuntime Environment, Standard Edition (build 1.3.1)\" on Red Hat Linux 6.2.\n\n\n<javadoc\n    sourcepath=\"${built.src}\"\n    destdir=\"${built.javadocs}\"\n    version=\"true\"\n    packagenames=\"foo.*\"\n>\n    <group\n        title=\"Foo Package\"\n        packages=\"foo.bar,foo.baz,foo.mumble\"\n    />\n</javadoc>", "is_private": false, "id": 4643, "creator": "peterj@liberate.com", "time": "2001-08-20T08:01:41Z", "bug_id": 3177, "creation_time": "2001-08-20T08:01:41Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 3177, "attachment_id": null, "id": 4678, "time": "2001-08-21T06:50:17Z", "creator": "conor@apache.org", "creation_time": "2001-08-21T06:50:17Z", "is_private": false, "text": "I've done some work on the javadoc group stuff after Beta1. I'm not sure if you \npicked that up in CVS. Can you try Beta 2 or latest CVS from ANT_14_BRANCH and \nsee how it works. Thanks"}, {"count": 2, "tags": [], "text": "AFAIK this is current; I'm using Javadoc.java revision 1.57.2.1, checked out\nyesterday from ANT_14_BRANCH.", "is_private": false, "id": 4680, "creator": "peterj@liberate.com", "time": "2001-08-21T07:26:32Z", "bug_id": 3177, "creation_time": "2001-08-21T07:26:32Z", "attachment_id": null}, {"count": 3, "text": "I believe this was introduced in 1.49 (add quoting of -group args).  Now that\nthe args are quoted by toExecute.createArgument().setValue(pkgList), the extra\nquoting isn't necessary.\n\nI'll attach a patch.", "bug_id": 3177, "attachment_id": null, "id": 4683, "time": "2001-08-21T07:47:47Z", "creator": "peterj@liberate.com", "creation_time": "2001-08-21T07:47:47Z", "tags": [], "is_private": false}, {"count": 4, "text": "Created attachment 435\nRemove extra quoting of -group argument", "bug_id": 3177, "attachment_id": 435, "id": 4684, "time": "2001-08-21T07:48:25Z", "creator": "peterj@liberate.com", "creation_time": "2001-08-21T07:48:25Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "is_private": false, "id": 4712, "time": "2001-08-22T00:07:18Z", "bug_id": 3177, "creation_time": "2001-08-22T00:07:18Z", "text": "I can confirm that the <group> element doesn't work on Linux anymore (and that\nremoving the quotes will fix the problem unless you have * in your package list).\n\nThe situation is a little tricky here, if there is no * in the package list, we\ndon't need to quote at all.  If there is one, we must quote it on Unix - at least\nthis is what\n<http://java.sun.com/j2se/1.3/docs/tooldocs/solaris/javadoc.html#group> says.\n\nCommandLine will not do that for us, but it will throw in extra quotes if we\nquote the list inside <javadoc>.\nI'm lead to believe that you only need to quote the group list if you use the\ncommand line - as we bypass any shell expansion, we probably don't need to quote\nthem anyway.\n\nI'll contact Jay, who submitted the patch for 1.49\n<http://marc.theaimsgroup.com/?l=ant-dev&m=99004133612620&w=2> to discuss this\nfurther.\n\n"}, {"count": 6, "tags": [], "bug_id": 3177, "attachment_id": null, "is_private": false, "id": 4713, "time": "2001-08-22T00:22:03Z", "creator": "bodewig@apache.org", "creation_time": "2001-08-22T00:22:03Z", "text": "To add onto this, I have applied Peter's patch and run our local javadoc target\n(that contains dozens of group elements with a lot of *s in them) and it worked\nfine on Linux - unlike the unpatched version."}, {"count": 7, "tags": [], "bug_id": 3177, "attachment_id": null, "is_private": false, "id": 4726, "time": "2001-08-22T05:52:08Z", "creator": "peterj@liberate.com", "creation_time": "2001-08-22T05:52:08Z", "text": "Hmm, I'm not sure why the arguments aren't single-quoted as before--the patch\nsimply removes the double quotes.  It looks like the unescaped asterisk will\nwork, though, as long as you don't have a -group foo.* along with any files\nnamed foo.{something} in the javadoc directory, otherwise you'll essentially get\n-group foo.x foo.y foo.z (which will probably break).\n\nPerhaps Marker.quoteArgument needs to add single quotes when glob/special\ncharacters are found rather than simply spaces and quotes."}, {"count": 8, "tags": [], "bug_id": 3177, "attachment_id": null, "is_private": false, "id": 4727, "time": "2001-08-22T06:12:35Z", "creator": "bodewig@apache.org", "creation_time": "2001-08-22T06:12:35Z", "text": "What Ant prints when you use -debug is not what really happens here. Ant uses\nthe String[] version of execute and will aplly different quoting rules here\n(no quotes at all, never).\n\nIn reality javadoc has been invoked with \"p1:p2\" before I committed your patch -\nbut not on the command line where the shell would strip the quotes (at least on\nUnix) and now doesn't see any quotes at all.\n\nThe debug output is a first approximation of what a corresponding command line\nwould lokk like."}, {"count": 9, "tags": [], "text": "patch has been committed - will be in 1.4", "is_private": false, "id": 4906, "creator": "conor@apache.org", "time": "2001-08-27T06:16:04Z", "bug_id": 3177, "creation_time": "2001-08-27T06:16:04Z", "attachment_id": null}]