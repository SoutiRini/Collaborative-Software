[{"count": 0, "tags": [], "bug_id": 30962, "text": "Hi,\nI try to make cvschangelog running and face a strange problem that nobody else \nseems to have: cvschangelog crashes with a NullPointerException.\nMy task looks like:\n<target name=\"cvs.changelog\">\n        <cvschangelog \n               dir=\"somedir\" \n               destfile=\"changelog.xml\"/>\n</target>\n\nThe error that I get (with ant 1.5.3 and 1.6.1) looks like (full trace \nattached at end of file):\njava.lang.NullPointerException\n        at java.util.Calendar.setTime(Calendar.java:902)\n\nUsing  plain cvs works:\ncvs log -N -d \"11 Aug 2004<31 Aug 2004\" somedir\noutputs a correct result (for a full trace, see end of file):\ncvs log: Logging somedir\n...\n...\nSo the cvs configuration seems to be ok.\nI tried to add the daysinpast=\"7\" option to only report for one week in the \npast but it still crashes with a slightly different problem: a \nNullPointerException in java.util.Date. \nIf I specify a daysinpast=\"1\" so that no entries are generated at all (because \nthere was no change yesterday...), cvschangelog task runs and generates an \nempty report successfully.\nCould this be caused by an incompatible cvs.exe - optional.jar combination? Or \nmay the cvs-server version (1.12.7) be incompatible with ant 1.5.3 \noptional.jar? I also tried combinations with ant 1.6.1 optional.jar ... but \ndid result in the same error.\nThe cvs.exe that is in my path belongs to wincvs1.3 and reports version \n2.0.41a.\nI'm working on winxp sp2.\n\nAny ideas what the problem could be? I hardly can't believe that it is a bug \nin ant, but I just don\u2019t find any solution.\n\nBest Regards\nBenno\n\n\n==================== CVS OUTPUT ===============\ncvs log: Logging src/de/traleon/vsd/gui/variants\n\nRCS file: /cvs/bel/vsd/src/de/traleon/vsd/gui/variants/DocumentDiagram.gif,v\nWorking file: src/de/traleon/vsd/gui/variants/DocumentDiagram.gif\nhead: 1.4\nbranch:\nlocks: strict\naccess list:\nkeyword substitution: b\ntotal revisions: 4;     selected revisions: 0\ndescription:\n=============================================================================\n\nRCS file: /cvs/bel/vsd/src/de/traleon/vsd/gui/variants/Gearwheel.gif,v\nWorking file: src/de/traleon/vsd/gui/variants/Gearwheel.gif\nhead: 1.4\nbranch:\nlocks: strict\naccess list:\nkeyword substitution: b\ntotal revisions: 4;     selected revisions: 0\ndescription:\n=============================================================================\n\nRCS \nfile: /cvs/bel/vsd/src/de/traleon/vsd/gui/variants/JPanelProductSelector.java,v\nWorking file: src/de/traleon/vsd/gui/variants/JPanelProductSelector.java\nhead: 1.45\nbranch:\nlocks: strict\naccess list:\nkeyword substitution: kv\ntotal revisions: 45;    selected revisions: 3\ndescription:\n----------------------------\nrevision 1.45\ndate: 2004-08-27 09:28:18 +0000;  author: sgb;  state: Exp;  lines: +13 -0\nFixed bug 00050, NullPointerEx in JpanelSpeicherKante.beforeDeletion\n----------------------------\nrevision 1.44\ndate: 2004-08-14 06:48:27 +0000;  author: bel;  state: Exp;  lines: +22 -5\ndisabling functions according to license settings\n----------------------------\nrevision 1.43\ndate: 2004-08-12 18:21:05 +0000;  author: arr;  state: Exp;  lines: +4 -4\nSim Menu Item up one level\nExport Menu Item removed\nPluginsPanel resizing corrected\nregister for changed notifications now with 3 levels\ntimline diagramm shows calculated static dlz\n=============================================================================\n\nRCS \nfile: /cvs/bel/vsd/src/de/traleon/vsd/gui/variants/JSpinnerVariantValue.java,v\nWorking file: src/de/traleon/vsd/gui/variants/JSpinnerVariantValue.java\nhead: 1.8\nbranch:\nlocks: strict\naccess list:\nkeyword substitution: kv\ntotal revisions: 8;     selected revisions: 0\ndescription:\n\n\n==================== ANT TRACE ================\n(enabling verbose does not bring more infos)\n\nC:\\projects\\vsd>ant cvs.changelog\nBuildfile: build.xml\n\ncvs.changelog:\n[cvschangelog] cvs log: Logging .\n\nBUILD FAILED\njava.lang.NullPointerException\n        at java.util.Calendar.setTime(Calendar.java:902)\n        at java.text.SimpleDateFormat.format(SimpleDateFormat.java:782)\n        at java.text.SimpleDateFormat.format(SimpleDateFormat.java:775)\n        at java.text.DateFormat.format(DateFormat.java:314)\n        at org.apache.tools.ant.taskdefs.cvslib.ChangeLogWriter.printEntry\n(ChangeLogWriter.java:110)\n        at org.apache.tools.ant.taskdefs.cvslib.ChangeLogWriter.printChangeLog\n(ChangeLogWriter.java:94)\n        at org.apache.tools.ant.taskdefs.cvslib.ChangeLogTask.writeChangeLog\n(ChangeLogTask.java:423)\n        at org.apache.tools.ant.taskdefs.cvslib.ChangeLogTask.execute\n(ChangeLogTask.java:307)\n        at org.apache.tools.ant.Task.perform(Task.java:341)\n        at org.apache.tools.ant.Target.execute(Target.java:309)\n        at org.apache.tools.ant.Target.performTasks(Target.java:336)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1339)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1255)\n        at org.apache.tools.ant.Main.runBuild(Main.java:609)\n        at org.apache.tools.ant.Main.start(Main.java:196)\n        at org.apache.tools.ant.Main.main(Main.java:235)\n\nTotal time: 3 seconds", "id": 62845, "time": "2004-08-31T13:09:55Z", "creator": "benno.loeffler@gmx.de", "creation_time": "2004-08-31T13:09:55Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 30962, "attachment_id": null, "id": 63965, "time": "2004-09-21T11:31:41Z", "creator": "bodewig@apache.org", "creation_time": "2004-09-21T11:31:41Z", "is_private": false, "text": "Is your \"slightly different problem\" with daysinpast the same a Bug 30471?\n\nMay really be a CVS version problem, see Bug 30576."}, {"count": 2, "tags": [], "text": "This happens to me - the problem is the version of cvs.  They changed the\ndelimiter to a \"-\" from \"/\" in the new version of cvs. When ant parses the date\nin this new format it has the problem.  I tracked this down when I had a laptop\nwith an older version of cvs (server & client).  It is the new cvs version\n(1.12.9) gives out the new date format.  The older server (1.11.18) gives out\ndates with the \"/\" delimiter.  ", "is_private": false, "bug_id": 30962, "id": 78029, "time": "2005-08-03T21:13:02Z", "creator": "dloeffler@snellingaustin.com", "creation_time": "2005-08-03T21:13:02Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 30962, "attachment_id": null, "id": 78041, "time": "2005-08-04T01:30:53Z", "creator": "sbailliez@apache.org", "creation_time": "2005-08-04T01:30:53Z", "is_private": false, "text": "Fixed in CVS HEAD to support the latest cvs format that appeared in 1.12+."}, {"count": 4, "tags": [], "bug_id": 30962, "attachment_id": null, "id": 81425, "time": "2005-10-19T23:54:42Z", "creator": "antoine@apache.org", "creation_time": "2005-10-19T23:54:42Z", "is_private": false, "text": "*** Bug 30576 has been marked as a duplicate of this bug. ***"}, {"count": 5, "tags": [], "bug_id": 30962, "text": "*** Bug 37581 has been marked as a duplicate of this bug. ***", "id": 82712, "time": "2005-11-21T22:01:54Z", "creator": "antoine@apache.org", "creation_time": "2005-11-21T22:01:54Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 30962, "attachment_id": null, "text": "*** Bug 37636 has been marked as a duplicate of this bug. ***", "id": 82864, "time": "2005-11-25T11:24:27Z", "creator": "sbailliez@apache.org", "creation_time": "2005-11-25T11:24:27Z", "is_private": false}]