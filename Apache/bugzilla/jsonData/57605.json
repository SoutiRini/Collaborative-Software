[{"count": 0, "tags": [], "bug_id": 57605, "attachment_id": null, "text": "Currently whenever JMeter Test plan fails to load :\n- Missing jars\n- Wrong version\n\nYou end up getting NullPointerException which does not contain any clue of the initial problem:\n\n2015/02/19 15:40:23 ERROR - jmeter.JMeter: Error in NonGUIDriver java.lang.NullPointerException\n        at org.apache.jmeter.gui.tree.JMeterTreeModel.addSubTree(JMeterTreeModel.java:110)\n        at org.apache.jmeter.JMeter.runNonGui(JMeter.java:763)\n        at org.apache.jmeter.JMeter.startNonGui(JMeter.java:741)\n        at org.apache.jmeter.JMeter.start(JMeter.java:399)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.jmeter.NewDriver.main(NewDriver.java:264)\n\n\n1/ I propose to instead tbrow  new IllegalArgumentException(\"Error loading jmx file from :\"+f+\", check log file\");\n\n2/ I also propose to change parameter to File instead of Reader to be able to clarify message", "id": 181191, "time": "2015-02-19T20:26:33Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2015-02-19T20:26:33Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 57605, "attachment_id": null, "id": 181193, "time": "2015-02-19T21:33:02Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2015-02-19T21:33:02Z", "is_private": false, "text": "Date: Thu Feb 19 21:30:55 2015\nNew Revision: 1661007\n\nURL: http://svn.apache.org/r1661007\nLog:\nBug 57605 - When there is an error loading Test Plan, SaveService.loadTree returns null leading to NPE in callers\nBugzilla Id: 57605\n\nModified:\n    jmeter/trunk/src/components/org/apache/jmeter/control/IncludeController.java\n    jmeter/trunk/src/core/org/apache/jmeter/JMeter.java\n    jmeter/trunk/src/core/org/apache/jmeter/gui/action/Load.java\n    jmeter/trunk/src/core/org/apache/jmeter/save/SaveService.java\n    jmeter/trunk/test/src/org/apache/jmeter/gui/action/TestLoad.java\n    jmeter/trunk/test/src/org/apache/jmeter/protocol/http/modifier/TestAnchorModifier.java\n    jmeter/trunk/test/src/org/apache/jmeter/save/TestSaveService.java\n    jmeter/trunk/xdocs/changes.xml"}, {"count": 2, "tags": [], "bug_id": 57605, "attachment_id": null, "id": 181274, "time": "2015-02-23T18:21:48Z", "creator": "sebb@apache.org", "creation_time": "2015-02-23T18:21:48Z", "is_private": false, "text": "(In reply to Philippe Mouawad from comment #0)\n> \n> 2/ I also propose to change parameter to File instead of Reader to be able\n> to clarify message\n\nThis may break 3rd party code.\nWe cannot just change the public API signature without warning.\n\nThe original API needs to be retained, possibly with a a warning that it is deprecated."}, {"count": 3, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "id": 181276, "time": "2015-02-23T20:20:42Z", "bug_id": 57605, "creation_time": "2015-02-23T20:20:42Z", "is_private": false, "text": "Date: Mon Feb 23 20:18:45 2015\nNew Revision: 1661763\n\nURL: http://svn.apache.org/r1661763\nLog:\n[Bug 57605] When there is an error loading Test Plan, SaveService.loadTree returns null leading to NPE in callers\nRetain backward compatibility as per sebb note\nBugzilla Id: 57605\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/save/SaveService.java"}]