[{"count": 0, "tags": [], "bug_id": 39789, "attachment_id": null, "text": "ab relies on the Content-Length: header to figure out how to handle a response\nduring a keepalive connection. If a server fails to send this header with a 304\nNot Modified response, ab will hang (it is waiting for the server to terminate\nthe connection, whereas the server is waiting for the client's next request).\nThere's no requirement for a 304 response to carry a Content-Length: so this is\nab's problem.\n\nPatch to fix this here:\nhttp://bitter.ukcod.org.uk/~chris/tmp/20060612/ab-keep-alive-handle-304.patch\n\n(yes, the patch is nasty, but it's in keeping with the rest of ab's header\nparsing code...).", "id": 90106, "time": "2006-06-12T17:15:46Z", "creator": "chris@mysociety.org", "creation_time": "2006-06-12T17:15:46Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 18449\nPatch to correct ab's handling of 304 Not Modified response in keep-alive mode", "is_private": false, "bug_id": 39789, "id": 90107, "time": "2006-06-12T17:17:21Z", "creator": "chris@mysociety.org", "creation_time": "2006-06-12T17:17:21Z", "attachment_id": 18449}, {"count": 2, "tags": [], "bug_id": 39789, "text": "I've committed a patch for this to trunk in r413861 using a slightly different\napproach. Many thanks!", "id": 90129, "time": "2006-06-13T11:07:41Z", "creator": "colm@apache.org", "creation_time": "2006-06-13T11:07:41Z", "is_private": false, "attachment_id": null}]