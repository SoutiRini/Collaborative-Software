[{"count": 0, "tags": [], "bug_id": 40582, "text": "Hi,\n\nI have built Apache 2.2.3 on my old HP-UX 10.20 box with PostGreSQL support.\n\nConfiguration was :\n\n./configure  --enable-info=shared --enable-cgi=shared --enable-so\n--enable-unique-id=shared \\\n--enable-authn-dbd=shared --enable-dbd=shared --with-included-apr\n--with-pgsql=/usr/local/pgsql/ --with-expat=builtin\n\nI have in my configuration file :\n[...]\nLoadModule authn_dbd_module modules/mod_authn_dbd.so\nLoadModule dbd_module modules/mod_dbd.so\nLoadModule unique_id_module modules/mod_unique_id.so\nLoadModule dav_module modules/mod_dav.so\nLoadModule info_module modules/mod_info.so\nLoadModule cgi_module modules/mod_cgi.so\nLoadModule dav_fs_module modules/mod_dav_fs.so\n[...]\n\n# Securite par postgresql\nDBDriver pgsql\nDBDPersist On\nDBDParams \"dbname=www user=mydbuser\"\n\n<Directory /projets/perso/Mariage/>\n\tAuthDBDUserPWQuery \"select mdp from mariage.comptes where nom = %s\"\n</Directory>\n[...]\n\nApache crashes if I try to launch it :\n[33]/usr/local/apache2 #bin/apachectl restart\nbin/apachectl[80]: 28336 Memory fault(coredump)\n\nIf I comment out AuthDBDUserPWQuery line, it starts and working fine (obviously\nw/o authentication).\n\nI'll try this W.E. on my production server (NetBSD 3.0/Sparc) to check if it's\ndue to my obsolete HP-UX 10.20 or if it's a general problem.\n\nBest regards,\n\nLaurent", "id": 94003, "time": "2006-09-22T12:50:10Z", "creator": "laurent.faillie@st.com", "creation_time": "2006-09-22T12:50:10Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "creator": "laurent.faillie@st.com", "is_private": false, "id": 94065, "time": "2006-09-25T07:38:23Z", "bug_id": 40582, "creation_time": "2006-09-25T07:38:23Z", "tags": [], "text": "Hello,\n\nI did some test on my Sparc/NetBSD-3.0 box this W.E. and I got the same issue :\nas soon as I add \"AuthDBDUserPWQuery\" in the configuration, apache crash with a\ncore dump.\n\nI changed this bug to \"blocker\" as it's not due to my obsolete HP-UX box.\n\nBye\n\nLaurent\n"}, {"count": 2, "tags": [], "bug_id": 40582, "text": "Out of interest, do you have \"AuthBasicProvider dbd\" in your configuration\nanywhere?  For example,\n\n<Directory /projets/perso/Mariage/>\n    AuthType Basic\n    AuthName \"mariage\"\n    AuthBasicProvider dbd\n    Require valid-user\n    AuthDBDUserPWQuery \"select mdp from mariage.comptes where nom = %s\"\n</Directory>\n\nIf it's still failing with those parameters, it would be great if you\ncould get a stack trace.", "id": 94950, "attachment_id": null, "creator": "chrisd@apache.org", "creation_time": "2006-10-18T13:49:30Z", "time": "2006-10-18T13:49:30Z", "is_private": false}]