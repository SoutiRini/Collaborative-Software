[{"count": 0, "tags": [], "bug_id": 42478, "attachment_id": null, "text": "This is a patch to integrate existing Webadmin code from scratchpad to main\ncodebase. Changes include removing avalon/excalibur libraries, adding multiple\ndatabase support, cleanup. \n\nWebAdmin code was moved from scratchpad to java/src, new files were added,\nseveral files were removed... This makes it difficult to create a patch, instead\nI will attach archive with all files that are related to WebAdmin + patch to\nexisting code. If there is a better way, please let me know.", "id": 103449, "time": "2007-05-21T16:09:10Z", "creator": "nshilenkova@gmail.com", "creation_time": "2007-05-21T16:09:10Z", "is_private": false}, {"count": 1, "tags": [], "creator": "nshilenkova@gmail.com", "is_private": false, "text": "Created attachment 20230\nwebdav.patch", "id": 103450, "time": "2007-05-21T16:15:28Z", "bug_id": 42478, "creation_time": "2007-05-21T16:15:28Z", "attachment_id": 20230}, {"count": 2, "tags": [], "creator": "nshilenkova@gmail.com", "text": "Created attachment 20231\nwebadmin.tgz\n\nThis is an archive with all files that are new/moved to a new location.", "id": 103451, "time": "2007-05-21T16:22:20Z", "bug_id": 42478, "creation_time": "2007-05-21T16:22:20Z", "is_private": false, "attachment_id": 20231}, {"count": 3, "tags": [], "creator": "vgritsenko@apache.org", "text": "I see that in the patch, there are changes to the filer interface and its\nimplementations. Can you summarize non trivial changes to core code - what is\nthe change and what is the desired effect. Thanks!", "id": 103585, "time": "2007-05-23T18:00:45Z", "bug_id": 42478, "creation_time": "2007-05-23T18:00:45Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "nshilenkova@gmail.com", "is_private": false, "text": "(In reply to comment #3)\n> I see that in the patch, there are changes to the filer interface and its\n> implementations. Can you summarize non trivial changes to core code - what is\n> the change and what is the desired effect. Thanks!\n\nSure. The changes were discussed on dev list [1] and include the following:\n1. Collection's insert and set are separated.\n\n2. Collection getEntry() method returns Entry class that holds object, its\nrecord-level meta and key. This change triggered additional changes in\nDocumentCache class to store Entries instead of objects.\n\n3. As you noticed, Filer interface was modified and method writeRecord() returns\nRecord instead of boolean. This was done to allow Collection to cache just\nwritten record, as it was done before with a plain object, and required meta\ninformation to be returned. Also, as a side effect, it allows to store same\ncreation/modification time for the record in meta collection. The previously\nreturned boolean was only actually used in one Filer implementation, FSFiler,\nbut returned value was never checked by Collection anyway, so xml-rpc client\nwould never get any indication that something failed.\n\n4. Filer's readRecord() method got an additional parameter to instruct it to\nread record metadata only.\n\n[1] http://marc.info/?l=xindice-dev&m=117875003317965&w=2\n", "id": 103621, "time": "2007-05-24T06:33:20Z", "bug_id": 42478, "creation_time": "2007-05-24T06:33:20Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 42478, "attachment_id": null, "text": "patch applied. please verify!", "id": 103651, "time": "2007-05-24T18:47:59Z", "creator": "vgritsenko@apache.org", "creation_time": "2007-05-24T18:47:59Z", "is_private": false}, {"count": 6, "tags": [], "text": "(In reply to comment #5)\n> patch applied. please verify!\nCouple of files should be deleted as they are no longer needed:\njava/src/org/apache/xindice/webadmin/util/MimeTypes.xml\njava/src/org/apache/xindice/webadmin/WebAdmin.xconf\njava/src/org/apache/xindice/webadmin/WebAdmin.xlog\n\nOther than that, everything looks OK.\n\n", "is_private": false, "id": 103791, "creation_time": "2007-05-29T15:43:47Z", "time": "2007-05-29T15:43:47Z", "creator": "nshilenkova@gmail.com", "bug_id": 42478, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 42478, "attachment_id": null, "is_private": false, "id": 103844, "time": "2007-05-30T16:58:10Z", "creator": "byrne@apache.org", "creation_time": "2007-05-30T16:58:10Z", "text": "There are some build issues. Is there a jar that didn't get checked in or some\nextra classes?\n\nFollowing is the compile output.\n\n\n   [javac] location: class\norg.apache.xindice.webadmin.viewer.components.MetadataResourceViewer\n   [javac]                     FileItem item = (FileItem) iter.next();\n   [javac]                     ^\n   [javac]\n/x1/gump/public/workspace/xml-xindice/java/src/org/apache/xindice/webadmin/viewer/components/MetadataResourceViewer.java:112:\ncannot find symbol\n   [javac] symbol  : class FileItem\n   [javac] location: class\norg.apache.xindice.webadmin.viewer.components.MetadataResourceViewer\n   [javac]                     FileItem item = (FileItem) iter.next();\n   [javac]                                      ^\n   [javac]\n/x1/gump/public/workspace/xml-xindice/java/src/org/apache/xindice/webadmin/viewer/components/MetadataResourceViewer.java:114:\ncannot find symbol\n   [javac] symbol  : class FileItem\n   [javac] location: class\norg.apache.xindice.webadmin.viewer.components.MetadataResourceViewer\n   [javac]                         FileItem uploadFile = null;\n   [javac]                         ^\n   [javac]\n/x1/gump/public/workspace/xml-xindice/java/src/org/apache/xindice/webadmin/viewer/components/MetadataResourceViewer.java:125:\ncannot find symbol\n   [javac] symbol  : class FileUploadException\n   [javac] location: class\norg.apache.xindice.webadmin.viewer.components.MetadataResourceViewer\n   [javac]             } catch (FileUploadException e) {\n   [javac]                      ^\n   [javac]\n/x1/gump/public/workspace/xml-xindice/java/src/org/apache/xindice/webadmin/viewer/components/UploadCollectionViewer.java:72:\ncannot find symbol\n   [javac] symbol  : class DiskFileUpload\n   [javac] location: class\norg.apache.xindice.webadmin.viewer.components.UploadCollectionViewer\n   [javac]             DiskFileUpload upload = new DiskFileUpload();\n   [javac]             ^\n   [javac]\n/x1/gump/public/workspace/xml-xindice/java/src/org/apache/xindice/webadmin/viewer/components/UploadCollectionViewer.java:72:\ncannot find symbol\n   [javac] symbol  : class DiskFileUpload\n   [javac] location: class\norg.apache.xindice.webadmin.viewer.components.UploadCollectionViewer\n   [javac]             DiskFileUpload upload = new DiskFileUpload();\n   [javac]                                         ^\n   [javac]\n/x1/gump/public/workspace/xml-xindice/java/src/org/apache/xindice/webadmin/viewer/components/UploadCollectionViewer.java:85:\ncannot find symbol\n   [javac] symbol  : class FileUploadException\n   [javac] location: class\norg.apache.xindice.webadmin.viewer.components.UploadCollectionViewer\n   [javac]             } catch (FileUploadException e) {\n   [javac]                      ^\n   [javac]\n/x1/gump/public/workspace/xml-xindice/java/src/org/apache/xindice/webadmin/viewer/components/UploadCollectionViewer.java:113:\ncannot find symbol\n   [javac] symbol  : class FileItem\n   [javac] location: class\norg.apache.xindice.webadmin.viewer.components.UploadCollectionViewer\n   [javac]             FileItem item = (FileItem) iter.next();\n   [javac]             ^\n   [javac]\n/x1/gump/public/workspace/xml-xindice/java/src/org/apache/xindice/webadmin/viewer/components/UploadCollectionViewer.java:113:\ncannot find symbol\n   [javac] symbol  : class FileItem\n   [javac] location: class\norg.apache.xindice.webadmin.viewer.components.UploadCollectionViewer\n   [javac]             FileItem item = (FileItem) iter.next();"}, {"count": 8, "tags": [], "creator": "vgritsenko@apache.org", "is_private": false, "text": "Todd - do you refer to gump build errors or you are seeing it locally on your box?", "id": 103933, "time": "2007-05-31T19:44:31Z", "bug_id": 42478, "creation_time": "2007-05-31T19:44:31Z", "attachment_id": null}, {"count": 9, "tags": [], "creator": "byrne@apache.org", "text": "(In reply to comment #8)\n> Todd - do you refer to gump build errors or you are seeing it locally on your box?\n\nGump build errors from the last few days.\n\nTodd", "id": 103938, "time": "2007-05-31T22:21:59Z", "bug_id": 42478, "creation_time": "2007-05-31T22:21:59Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 42478, "text": "(In reply to comment #9)\n> (In reply to comment #8)\n> > Todd - do you refer to gump build errors or you are seeing it locally on\nyour box?\n> \n> Gump build errors from the last few days.\n> \n> Todd\n\nSVN trunk builds so its just Gump thats having issues.\n\nTodd", "id": 103940, "time": "2007-05-31T22:33:39Z", "creator": "byrne@apache.org", "creation_time": "2007-05-31T22:33:39Z", "is_private": false, "attachment_id": null}, {"count": 11, "tags": [], "bug_id": 42478, "text": "Stefan fixed gump so we are cool.", "id": 104160, "time": "2007-06-06T16:58:34Z", "creator": "vgritsenko@apache.org", "creation_time": "2007-06-06T16:58:34Z", "is_private": false, "attachment_id": null}]