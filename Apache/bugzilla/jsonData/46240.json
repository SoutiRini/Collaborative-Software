[{"attachment_id": null, "tags": [], "creator": "gd@geneon.de", "is_private": false, "count": 0, "id": 122623, "time": "2008-11-19T01:21:28Z", "bug_id": 46240, "creation_time": "2008-11-19T01:21:28Z", "text": "Attached you will find a small fo-file containing one simple page master and two pages. Although the page master has a column-count=2, both pages should be single-column, therefore span=all is used. Both pages should start at an odd page, therefore  break-before=odd-page is used. \n\nThe unexpected result: The text on the first page uses both columns, the second page is empty, but the text on the third page uses only one column. When I remove the first page or break-before, the second text uses both columns."}, {"count": 1, "tags": [], "bug_id": 46240, "attachment_id": 22891, "id": 122624, "time": "2008-11-19T01:22:35Z", "creator": "gd@geneon.de", "creation_time": "2008-11-19T01:22:35Z", "is_private": false, "text": "Created attachment 22891\nTest case"}, {"count": 2, "tags": [], "bug_id": 46240, "attachment_id": null, "id": 122648, "time": "2008-11-19T12:02:18Z", "creator": "adelmelle@apache.org", "creation_time": "2008-11-19T12:02:18Z", "is_private": false, "text": "\nDoing a bit of preliminary debugging, the problem seems to be that (see FlowLM.getNextKnuthElements()):\n\na) the span change is detected (FlowLM.currentSpan == EN_ALL), so the returnList is handed over to the PageBreaker\nb) the next time it is called, currentSpan will already be EN_ALL, so no span change, but ... AbstractBreaker.getNextBlockList() will have explicitly reset the LayoutContext a bit earlier on (signalSpanChange(NOT_SET)), so the processing continues as if no span had been specified"}, {"count": 3, "tags": [], "text": "\nFixed in FOP trunk, see r719110.\n\nThanks for reporting!", "attachment_id": null, "id": 122650, "creator": "adelmelle@apache.org", "time": "2008-11-19T14:46:30Z", "bug_id": 46240, "creation_time": "2008-11-19T14:46:30Z", "is_private": false}, {"count": 4, "tags": [], "creator": "gadams@apache.org", "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 155761, "time": "2012-04-01T06:39:36Z", "bug_id": 46240, "creation_time": "2012-04-01T06:39:36Z", "is_private": false, "attachment_id": null}]