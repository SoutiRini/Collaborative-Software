[{"count": 0, "tags": [], "text": "If I make no changes to httpd.conf I can restart apache to my hearts' content.  \nBut if I add a virtual host, then when I issue a restart the process dies and \nthis is what is in the error log:\n\n[Sat Mar 30 03:44:41 2002] [notice] SIGHUP received.  Attempting to restart\n[Sat Mar 30 03:44:41 2002] [notice] seg fault or similar nasty error detected \nin the parent process\n\ngdb backtrace:\n#0  0xfeef1ad0 in memcmp ()\n   from /usr/platform/SUNW,Ultra-5_10/lib/libc_psr.so.1\n#1  0xff33b7c0 in find_entry (ht=0xb3c00, key=0xfed25370, klen=16, val=0x0)\n    at apr_hash.c:279\n#2  0xff33b930 in apr_hash_get (ht=0xb3c00, key=0xfed25370, klen=-1)\n    at apr_hash.c:338\n#3  0xff34ab40 in apr_pool_userdata_get (data=0xffbef934, \n    key=0xfed25370 \"auth_digest_init\", pool=0xb3948) at apr_pools.c:1568\n#4  0xfed21b94 in initialize_module (p=0xfed25370, plog=0xdd9f0, \n    ptemp=0x114730, s=0xb7270) at mod_auth_digest.c:381\n#5  0x3208c in ap_run_post_config (pconf=0xb5950, plog=0xdd9f0, \n    ptemp=0x114730, s=0xb7270) at config.c:126\n#6  0x36b48 in main (argc=735688, argv=0xb5950) at main.c:492\n\nAfter the process dies I use apachectl start to get it started and everything \nworks as expected.\n\nThe instructions I use to build a package of apache is at \nhttp://www.maraudingpirates.org/~dnewman/apache.txt", "is_private": false, "id": 12542, "creator": "dnewman@maraudingpirates.org", "time": "2002-03-30T17:34:00Z", "bug_id": 7635, "creation_time": "2002-03-30T17:34:00Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "dnewman@maraudingpirates.org", "is_private": false, "text": "I forgot to mention that the method I use to add virtual hosts is I have this \nat the bottom of my httpd.conf:\n\nInclude conf/virtualhosts.conf\n\nAnd virtualhosts.conf looks like:\n\nNameVirtualHost *\n\n<VirtualHost *>\n    ServerAdmin webmaster@maraudingpirates.org\n    DocumentRoot /opt/apache/virtual/h080020cb8c2c.ne.client2.attbi.com/htdocs\n    ServerName h080020cb8c2c.ne.client2.attbi.com\n    <Directory \"/opt/apache/virtual/h080020cb8c2c.ne.client2.attbi.com/htdocs\">\n        Options Indexes FollowSymLinks MultiViews\n        AllowOverride None\n        Order allow,deny\n        Allow from all\n    </Directory>\n</VirtualHost>\n", "id": 12543, "time": "2002-03-30T17:36:55Z", "bug_id": 7635, "creation_time": "2002-03-30T17:36:55Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 7635, "is_private": false, "count": 2, "id": 13574, "time": "2002-04-15T06:13:34Z", "creator": "jerenkrantz@apache.org", "creation_time": "2002-04-15T06:13:34Z", "text": "Since Apache 2.0.35 is released, could you please try that version and see if\nyour problem is resolved?\n\nI can not reproduce it with 2.0.35.\n\nIf you can not reproduce it with 2.0.35, can you please close this bug?\n\nThanks for using Apache!"}, {"count": 3, "tags": [], "text": "Problem does not seem to exist in 2.0.35 so I am closing this bug.\n", "attachment_id": null, "id": 13867, "creator": "dnewman@maraudingpirates.org", "time": "2002-04-17T15:59:50Z", "bug_id": 7635, "creation_time": "2002-04-17T15:59:50Z", "is_private": false}, {"count": 4, "tags": [], "text": "I have upgraded my solaris8 to solaris 9 and apache2 creshes at start time.\n\n#0  0xfefb1934 in memcmp ()\n   from /usr/platform/SUNW,Ultra-5_10/lib/libc_psr.so.1\n(gdb) bt\n#0  0xfefb1934 in memcmp ()\n   from /usr/platform/SUNW,Ultra-5_10/lib/libc_psr.so.1\n#1  0xff33b9d4 in find_entry (ht=0x76098, key=0xfeca5338, klen=16, val=0x0)\n    at apr_hash.c:281\n#2  0xff33bb70 in apr_hash_get (ht=0x760c8, key=0xfeca5338, klen=16)\n    at apr_hash.c:338\n#3  0xff34a460 in apr_pool_userdata_get (data=0xffbffbe4, \n    key=0xfeca5338 \"auth_digest_init\", pool=0x75cf8) at apr_pools.c:1617\n#4  0xfeca1a3c in initialize_module (p=0x77d00, plog=0xa1da8, ptemp=0x105d48, \n    s=0x79a50) at mod_auth_digest.c:385\n#5  0x2ed8c in ap_run_post_config (pconf=0x77d00, plog=0xa1da8, \n    ptemp=0x105d48, s=0x79a50) at config.c:127\n#6  0x337c0 in main (argc=2, argv=0xffbffd54) at main.c:621\n\nthe stack trace is quit the same, therefore I'm trying to reopen this bug.\n\nServer: Apache/2.0.36 (Unix) mod_ssl/2.0.36 OpenSSL/0.9.6a DAV/2 PHP/4.2.0\n./configure --prefix=/opt/apache2 --enable-mods-shared=most --enable-so\n--with-suexec-safepath=/usr/local/bin:/bin --enable-ssl\n\ncompiled with gcc. \n\nI also have temporary workaround -- I used LD_PRELOAD=libmapmalloc.so.1 and this\nprevented current binary to crash.\n\nToomas.Soome@microlink.ee", "is_private": false, "id": 17458, "creation_time": "2002-06-09T09:35:45Z", "time": "2002-06-09T09:35:45Z", "creator": "tsoome@muhv.pri.ee", "bug_id": 7635, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 7635, "attachment_id": null, "id": 17470, "time": "2002-06-09T17:36:24Z", "creator": "jwoolley@apache.org", "creation_time": "2002-06-09T17:36:24Z", "is_private": false, "text": "This has already been fixed for 2.0.37, which will be released very soon.\n\nThanks!\n\n*** This bug has been marked as a duplicate of 9413 ***"}]