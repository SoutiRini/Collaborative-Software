[{"count": 0, "tags": [], "creator": "loney@spiritedsw.com", "text": "Running Crimson 1.1.1 on the input XML document shown below corrupts the input \nstream. The error is highly sensitive to the exact sequence of input \ncharacters. E.g., a tab initiates the line:\n\n\t\t   stopX=\"xxxxx\"/>\n\nIf a space is substituted for the initial tab, then the input is successfully \nparsed. Similarly bizarre, if the initial comment is removed, then the input \nparses successfully. \n\nAn attempt has been made to mask out letters in the input whose value appears \nnot to affect the parse. These letters have value 'x'; they must be present for \nthe parse to fail, but it appears that any letter can be substituted for 'x'.\n\nThis is not true of other letters. E.g., substituting all occurrences of the \nstring 'xxxxxxxs' in the attribute values with the string 'xxxxxxxx' results in \na successful parse.\n\nExamining the stream content indicates that the parse corrupts the characters \nin the end tag. Execution results in the exception:\n\norg.xml.sax.SAXParseException: Expected \"</application>\" to terminate element \nstarting on line 5.\n\tat org.apache.crimson.parser.Parser2.fatal(Parser2.java:3108)\n\tat org.apache.crimson.parser.Parser2.fatal(Parser2.java:3102)\n\tat org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1500)\n\tat org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:500)\n\tat org.apache.crimson.parser.Parser2.parse(Parser2.java:305)\n\tat org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:433)\n\tat org.apache.crimson.jaxp.DocumentBuilderImpl.parse\n(DocumentBuilderImpl.java:185)\n\nThis error does not occur with Xerces 2. Needless to say, the problem takes a \nlong time to isolate. There is no work-around other than making random changes \nto valid input until something parses, hardly a satisfying solution.\n\nInput content\n-------------\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<!-- Cf. \"Administrator's Guide\" for information about this file -->\n\n<application>\n  <xxxxxxx xxxxxxxy=\"xxxxxx\" xxxx=\"log4j\"\n           xxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.services.Logger\"\n           xxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxx.Log4jLogger\"/>\n  <xxxxxxx xxxxxxxy=\"formatter\" xxxx=\"standard\"\n           \nxxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxs.MessageFormatter\"\n           \nxxxxxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxx.MessageFormatterImplMBean\"\n           provider=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxx.MessageFormatterImpl\"/>\n  <xxxxxxx xxxxxxxy=\"xxxxxxx.administrator\" xxxx=\"jmx\"\n           \nxxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxs.ServiceAdministrator\"\n           \nxxxxxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxs.jmx.JmxHtmlServiceAdmini\nstratorMBean\"\n           \nprovider=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxs.jmx.JmxHtmlServiceAdministrator\"/>\n  <xxxxxxx xxxxxxxy=\"id.generator\" xxxx=\"IETF\"\n           xxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxx.IdGenerator\"\n           provider=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxx.IETFIdGenerator\"/>\n  <xxxxxxx xxxxxxxy=\"cache\" xxxx=\"simple\"\n           xxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxs.Cache\"\n           \nxxxxxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.persistence.ObjectCacheMBean\"\n           provider=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxxxxx.ObjectCache\"\n\t       stopX=\"xxxxx\"/>\n  <xxxxxxx xxxxxxxy=\"encryptor\" xxxx=\"base64\"\n           xxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxs.Encryptor\"\n           provider=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxx.Base64Encryptor\"/>\n  <xxxxxxx xxxxxxxy=\"schema\" xxxx=\"xx\"\n           xxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxs.Schema\"\n           xxxxxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.domain.SchemaMBean\"\n           provider=\"xxx.xxxxxxxxxx.xx.domain.SxSchema\"/>\n  <xxxxxxx xxxxxxxy=\"xxxxxxxxxxx\" xxxx=\"transient\"\n           \nxxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxs.PersistentStoreFactory\"\n           \nxxxxxxxxxxxxxxxxxxxx=\"test.xxxxxxxxx.xxxxxxxxxxx.TransientStoreFactoryMBean\"\n           provider=\"test.xxxxxxxxx.xxxxxxxxxxx.TransientStoreFactory\"/>\n  <xxxxxxx xxxxxxxy=\"xxxxxxxxxxx\" xxxx=\"xml\"\n           \nxxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxs.PersistentStoreFactory\"\n           \nxxxxxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxxxxx.PersistentStoreFactor\nyMBean\"\n           provider=\"xxx.xxxxxxxxxx.xx.xxxxxxxxxxx.xxx.SxXmlStoreFactory\"/>\n  <xxxxxxx xxxxxxxy=\"xxxxxxxxxxx\" xxxx=\"ejb\"\n           \nxxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxs.PersistentStoreFactory\"\n           \nxxxxxxxxxxxxxxxxxxxx=\"xxx.xxxxxxxxxx.xxxxxxxxx.xxxxxxxxxxx.PersistentStoreFactor\nyMBean\"\n           \nprovider=\"xxx.xxxxxxxxxx.xx.enterprise.xxxxxxxxxxx.SxEjbStoreFactory\"/>\n</application>", "id": 17839, "time": "2002-06-15T00:32:32Z", "bug_id": 9888, "creation_time": "2002-06-15T00:32:32Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 9888, "is_private": false, "id": 17840, "attachment_id": null, "creator": "loney@spiritedsw.com", "creation_time": "2002-06-15T00:37:41Z", "time": "2002-06-15T00:37:41Z", "text": "Unfortunately, Bugzilla mangles the formatting of the file included in the bug \nreport. Each attribute should be on its own line. Send me a note if you'd like \na true copy of the input test case."}]