[{"count": 0, "text": "Created attachment 24876\nBase64 and BasicAuthentication patch\n\nI've found a potential bug in the Basic Authentication module. I have users \nand some user's username is contains national characters (encoded in UTF-8). \nThe HTTP header based authentication is fails when the username or the \npassword contains multibyte characters.\n\nThe root of the bug is the Base64 decoder, which decodes the Base64 stream to \nchar array: converts each byte to individual char, this decode method corrupts \nthe multibyte characters...\n\nThe patch converts the Base64 input to byte array instead char array, and converts this byte array to String - with the encoding which specified in the JVM. The patch is not beautiful :), and I've tested it only in a JBoss 5.1.0.GA application server (it uses catalina).\n\nMore information about the issue: \nhttp://mail-archives.apache.org/mod_mbox/tomcat-users/201001.mbox/%3C201001211154.03045.auth.gabor@javaforum.hu%3E", "creator": "auth.gabor@javaforum.hu", "is_private": false, "id": 133777, "time": "2010-01-21T05:00:27Z", "bug_id": 48587, "creation_time": "2010-01-21T05:00:27Z", "tags": [], "attachment_id": 24876}, {"count": 1, "text": "There's no provision I know of in basic authentication for specifying a charset, so it can work only with the HTTP default ISO-8859-1.", "bug_id": 48587, "attachment_id": null, "id": 133778, "time": "2010-01-21T05:22:12Z", "creator": "remm@apache.org", "creation_time": "2010-01-21T05:22:12Z", "tags": [], "is_private": false}, {"count": 2, "text": "I know, but...\n\nThe Opera browser sends authentication data in UTF-8, and the JAX-WS RI in the Java6 sends authentication data in UTF-8 on Linux systems, and the IE sends authentication data in UTF-8 (if the system encondig is UTF-8), and...\n\nSo, the world demands the configurable encoding of the authentication data... :)", "bug_id": 48587, "attachment_id": null, "id": 133797, "time": "2010-01-21T12:03:31Z", "creator": "auth.gabor@javaforum.hu", "creation_time": "2010-01-21T12:03:31Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 48587, "attachment_id": null, "text": "Ok, this is not standards compliant (esp the IE solution, which can be any encoding, and is unlikely to be UTF-8). The right behavior is to use the default HTTP encoding. You should be able configure your own custom basic authenticator to implement what you need, which would allow you to support the proprietary behavior of your client.\n\nSo it does not make sense to me to include support for this.", "id": 133803, "time": "2010-01-21T16:30:13Z", "creator": "remm@apache.org", "creation_time": "2010-01-21T16:30:13Z", "is_private": false}, {"count": 4, "text": "I would be +1 for a spec breaking enhancement that made the encoding used configurable as long as the default was ISO-8859-1.", "bug_id": 48587, "attachment_id": null, "id": 133879, "time": "2010-01-25T06:00:01Z", "creator": "markt@apache.org", "creation_time": "2010-01-25T06:00:01Z", "tags": [], "is_private": false}, {"count": 5, "text": "FYI\n\nhttp://greenbytes.de/tech/webdav/draft-reschke-basicauth-enc-latest.html\n\nand\n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=41489\n\nand\n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=656213", "bug_id": 48587, "attachment_id": null, "id": 147889, "time": "2011-07-13T08:57:48Z", "creator": "julian.reschke@gmx.de", "creation_time": "2011-07-13T08:57:48Z", "tags": [], "is_private": false}]