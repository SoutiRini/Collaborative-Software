[{"count": 0, "tags": [], "bug_id": 60388, "attachment_id": null, "id": 195063, "time": "2016-11-17T17:34:53Z", "creator": "ebourg@apache.org", "creation_time": "2016-11-17T17:34:53Z", "is_private": false, "text": "The maintainer-mode feature in native/configure.in is coded such that only the presence of the parameter is checked and not its actual value. This results in the debug mode being enabled when --disable-maintainer-mode or --enable-maintainer-mode=no is specified.\n\nHere is a suggested fix:\n\n\n--- a/native/configure.in\n+++ b/native/configure.in\n@@ -198,12 +198,16 @@\n maintainer-mode,\n [  --enable-maintainer-mode   Turn on debugging and compile time warnings],\n [\n-  if test \"$GCC\" = \"yes\"; then\n-    CFLAGS=\"${CFLAGS} -DDEBUG -Wall\"\n-  else\n-    CFLAGS=\"${CFLAGS} -DDEBUG\"\n-  fi\n-AC_MSG_RESULT([...Enabling Maintainer mode...])\n+  case \"${enableval}\" in\n+    yes )\n+       if test \"$GCC\" = \"yes\"; then\n+         CFLAGS=\"${CFLAGS} -DDEBUG -Wall\"\n+       else\n+         CFLAGS=\"${CFLAGS} -DDEBUG\"\n+       fi\n+       AC_MSG_RESULT([...Enabling Maintainer mode...])\n+       ;;\n+  esac\n ])\n\n dnl"}, {"count": 1, "tags": [], "bug_id": 60388, "is_private": false, "text": "Fixed in tomcat-native 1.2.11", "id": 196254, "time": "2017-01-20T20:32:00Z", "creator": "ebourg@apache.org", "creation_time": "2017-01-20T20:32:00Z", "attachment_id": null}]