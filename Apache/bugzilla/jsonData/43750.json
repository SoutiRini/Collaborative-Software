[{"count": 0, "tags": [], "bug_id": 43750, "is_private": false, "id": 110039, "creation_time": "2007-10-31T07:51:34Z", "time": "2007-10-31T07:51:34Z", "creator": "rfrovarp@apache.org", "text": "Testing Jetty 6 has shown that the three editors don't work outside of the root\ncontext. That is at least my assumption at the moment. Will need to test with\nTomcat first to confirm.", "attachment_id": null}, {"count": 1, "text": "Yeah, it doesn't work under tomcat either. So this certainly is an issue with\nlenya not being in the root context. Raised to blocker as Kupu is our standard\nIE compatible editor, and it doesn't work outside of root context. \n\nBXE does work fine.", "bug_id": 43750, "attachment_id": null, "id": 110047, "time": "2007-10-31T08:08:10Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-10-31T08:08:10Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 43750, "is_private": false, "id": 110053, "creation_time": "2007-10-31T08:18:54Z", "time": "2007-10-31T08:18:54Z", "creator": "nettings@apache.org", "text": "there may be an issue with the proxy transformer (which should take care of\ncontext) - i did a commit with my brains turned off a few hours ago, adding the\ncontext prefix manually to the profile module because it did not work. andreas\npointed out it's probably a proxy transformer bug.\n\nhave you been working outside of root context for long? i've only been testing\nthis for 2 days, so i don't know whether it's a regression or it just never worked.\n", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 43750, "is_private": false, "id": 110054, "creation_time": "2007-10-31T08:20:34Z", "time": "2007-10-31T08:20:34Z", "creator": "rfrovarp@apache.org", "text": "(In reply to comment #2)\n> have you been working outside of root context for long? i've only been testing\n> this for 2 days, so i don't know whether it's a regression or it just never\nworked.\n> \n\nJust today to test Jetty6 without the proxy. And then today with tomcat to\nconfirm it isn't a jetty6 issue.", "attachment_id": null}, {"count": 4, "tags": [], "creator": "nettings@apache.org", "attachment_id": null, "text": "for the record, the profiling module is affected as well.", "id": 110059, "time": "2007-10-31T08:28:33Z", "bug_id": 43750, "creation_time": "2007-10-31T08:28:33Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 43750, "is_private": false, "text": "at least for code i wrote myself (tinymce and profiling), i'm now convinced that\nthe proxy module is ok and the problems were caused by programming errors on my\npart, so i'm withdrawing this bug report. richard, if you still have problems,\nplease re-open.\n", "id": 110226, "time": "2007-11-04T12:18:27Z", "creator": "nettings@apache.org", "creation_time": "2007-11-04T12:18:27Z", "attachment_id": null}, {"count": 6, "tags": [], "creator": "rfrovarp@apache.org", "attachment_id": null, "text": "Did you fix Kupu as well? My initial problem is that Kupu doesn't work outside\nof the root context, which I consider a blocker to release.", "id": 110227, "time": "2007-11-04T13:12:27Z", "bug_id": 43750, "creation_time": "2007-11-04T13:12:27Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 43750, "attachment_id": null, "text": "ah, sorry. i remember now i hijacked your original bug report because i was sooo\nsure it's a proxy transformer problem... no, i didn't look into kupu. will try\nlater, but kupu has never worked very well for me.", "id": 110246, "time": "2007-11-05T11:07:46Z", "creator": "nettings@apache.org", "creation_time": "2007-11-05T11:07:46Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 43750, "is_private": false, "id": 110251, "creation_time": "2007-11-05T11:46:29Z", "time": "2007-11-05T11:46:29Z", "creator": "rfrovarp@apache.org", "text": "kupu is just plain broken at the moment. Somehow whatever was causing\nkupublank.html to match is now broken. I don't see any changes that would have\ncaused this directly.", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 43750, "attachment_id": null, "is_private": false, "id": 110320, "time": "2007-11-08T04:30:04Z", "creator": "nettings@apache.org", "creation_time": "2007-11-08T04:30:04Z", "text": "this bug persists after the latest core fixes to contexts and redirection, so it\nmust be due to programming errors in the modules themselves.\nthe problems in the profiling and tinymce modules should be fixed now. what\nabout fck?\nthe only working standard editor remains oneform. bxe can't load the validation\ndocument and hence won't let you do anything, kupu seems not to find its styles\nand javascripts, forms does not display input fields to actually edit text.\nshouldn't be too hard to fix...\nrichard, if you're working on this: can you give the test setup in\ntools/proxytest a spin as well? that way, we'll have the same environment and\ncan reproduce stuff more easily.\n"}, {"count": 10, "tags": [], "creator": "rfrovarp@apache.org", "attachment_id": null, "text": "I have not had a chance to work on this at all lately. I agree it is a problem\nwith the modules. Kupu won't even work from the root context at the moment. I am\nleaving shortly and won't be back until Tuesday or Wednesday of next week. I can\ntake a look at FCK and others when I get back. ", "id": 110332, "time": "2007-11-08T08:56:01Z", "bug_id": 43750, "creation_time": "2007-11-08T08:56:01Z", "is_private": false}, {"count": 11, "tags": [], "creator": "nettings@apache.org", "attachment_id": null, "text": "bxe should be fixed now, please test.", "id": 110496, "time": "2007-11-13T12:20:42Z", "bug_id": 43750, "creation_time": "2007-11-13T12:20:42Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 43750, "is_private": false, "id": 110500, "creation_time": "2007-11-13T13:13:19Z", "time": "2007-11-13T13:13:19Z", "creator": "nettings@apache.org", "text": "kupu should be fixed as well.", "attachment_id": null}, {"count": 13, "tags": [], "bug_id": 43750, "is_private": false, "id": 110577, "creation_time": "2007-11-15T03:40:17Z", "time": "2007-11-15T03:40:17Z", "creator": "andreas@apache.org", "text": "Kupu doesn't work for me:\n\n- the layout is broken\n- javascript console errors (startKupu is not defined)\n- double context paths in the XHTML source\n\n    <script type=\"text/javascript\"\nsrc=\"/lenyatrunk/lenyatrunk/default/modules/kupu/kupu/common/sarissa.js\"> </script>\n\n", "attachment_id": null}, {"count": 14, "text": "I guess the context path is added twice:\n\n- by the kupu.open pipeline in modules/kupu/sitemap.xmap\n- in modules-core/usecase/usecase.xmap\n\nCan't we just remove the proxy module from the kupu.open pipeline?", "bug_id": 43750, "attachment_id": null, "id": 110578, "time": "2007-11-15T03:44:42Z", "creator": "andreas@apache.org", "creation_time": "2007-11-15T03:44:42Z", "tags": [], "is_private": false}, {"count": 15, "text": "After removing the proxy module from the context-prefix parameter passed to the\nkupumacros.xsl transformation, it looks much better. The document isn't styled\nyet, though.", "bug_id": 43750, "attachment_id": null, "id": 110579, "time": "2007-11-15T03:54:07Z", "creator": "andreas@apache.org", "creation_time": "2007-11-15T03:54:07Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 43750, "is_private": false, "count": 16, "id": 110580, "time": "2007-11-15T04:05:35Z", "creator": "andreas@apache.org", "creation_time": "2007-11-15T04:05:35Z", "text": "There are still double context paths:\n\nhttp://localhost:8080/lenyatrunk/lenyatrunk/default/authoring/css/page.css\n\n"}, {"count": 17, "tags": [], "bug_id": 43750, "is_private": false, "id": 110581, "creation_time": "2007-11-15T04:07:24Z", "time": "2007-11-15T04:07:24Z", "creator": "andreas@apache.org", "text": "After removing the proxy module from the css parameter in the content step it\nlooks good.", "attachment_id": null}, {"count": 18, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "id": 110582, "time": "2007-11-15T04:09:00Z", "bug_id": 43750, "creation_time": "2007-11-15T04:09:00Z", "is_private": false, "text": "It works for me after revision 595282."}, {"count": 19, "text": "It works for me too (revision 595621) in tomcat non root context using mod_proxy_ajp", "bug_id": 43750, "attachment_id": null, "id": 110646, "time": "2007-11-16T11:40:26Z", "creator": "jann.forrer@id.unizh.ch", "creation_time": "2007-11-16T11:40:26Z", "tags": [], "is_private": false}, {"count": 20, "tags": [], "bug_id": 43750, "attachment_id": null, "text": "FCK should be fixed as of 596845.", "id": 110887, "time": "2007-11-20T14:05:42Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-11-20T14:05:42Z", "is_private": false}, {"count": 21, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "text": "Can we close this issue?", "id": 110911, "time": "2007-11-21T03:18:19Z", "bug_id": 43750, "creation_time": "2007-11-21T03:18:19Z", "is_private": false}, {"count": 22, "tags": [], "bug_id": 43750, "is_private": false, "text": "Kupu is not fixed. Try inserting a link or image. I get all sorts of weird 404s.\nSome of which are proxy related:\n\n/default/authoring/kupublank.html\n/default/authoring/kupudrawerstyles.css\n/default/authoring/%7Bproxy:/modules/kupu/kupu/apache-lenya/lenya/images%7D/page-image.png\n/default/authoring/%7Bproxy:/modules/kupu/kupu/apache-lenya/lenya/images%7D/sitetree-link.png", "id": 110942, "time": "2007-11-21T10:38:56Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-11-21T10:38:56Z", "attachment_id": null}, {"count": 23, "tags": [], "bug_id": 43750, "attachment_id": null, "is_private": false, "id": 110943, "time": "2007-11-21T10:39:37Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-11-21T10:39:37Z", "text": "(In reply to comment #22)\n> Kupu is not fixed. Try inserting a link or image. I get all sorts of weird 404s.\n\nOh, this is from a non-proxied root context."}, {"count": 24, "tags": [], "bug_id": 43750, "attachment_id": null, "text": "(In reply to comment #22)\n> Kupu is not fixed. Try inserting a link or image. I get all sorts of weird 404s.\n> Some of which are proxy related:\n> \n> /default/authoring/kupublank.html\n> /default/authoring/kupudrawerstyles.css\n>\n/default/authoring/%7Bproxy:/modules/kupu/kupu/apache-lenya/lenya/images%7D/page-image.png\n>\n/default/authoring/%7Bproxy:/modules/kupu/kupu/apache-lenya/lenya/images%7D/sitetree-link.png\n\nwoops. well, i applied the fixes shotgun-style. the last two lines look like i\nused the proxy module in a context where it is not resolved... ", "id": 110944, "time": "2007-11-21T10:48:49Z", "creator": "nettings@apache.org", "creation_time": "2007-11-21T10:48:49Z", "is_private": false}, {"count": 25, "tags": [], "creator": "rfrovarp@apache.org", "attachment_id": null, "text": "(In reply to comment #24)\n> (In reply to comment #22)\n> > Kupu is not fixed. Try inserting a link or image. I get all sorts of weird 404s.\n> > Some of which are proxy related:\n> > \n> > /default/authoring/kupublank.html\n> > /default/authoring/kupudrawerstyles.css\n> >\n>\n/default/authoring/%7Bproxy:/modules/kupu/kupu/apache-lenya/lenya/images%7D/page-image.png\n> >\n>\n/default/authoring/%7Bproxy:/modules/kupu/kupu/apache-lenya/lenya/images%7D/sitetree-link.png\n> \n> woops. well, i applied the fixes shotgun-style. the last two lines look like i\n> used the proxy module in a context where it is not resolved... \n\nYeah, found that. global-variables in kupu's sitemap.xmap. Substituting the text\nfor the variables in the sitemap does make it work, partially. Not sure if there\nis a way to get the global variables to evaluate or not.", "id": 110966, "time": "2007-11-21T15:01:38Z", "bug_id": 43750, "creation_time": "2007-11-21T15:01:38Z", "is_private": false}, {"count": 26, "tags": [], "creator": "andreas@apache.org", "attachment_id": 21178, "text": "Created attachment 21178\nAdd URL rewriting for xhtml:iframe[@id='kupu-linkdrawer-preview']/@src\n\nThe patch affects apache-lenya/lenya/kupumacros.xsl. It adds the Lenya-specific\nURL rewriting for the XPath \"xhtml:iframe[@id='kupu-linkdrawer-preview']/@src\".", "id": 111014, "time": "2007-11-23T07:24:51Z", "bug_id": 43750, "creation_time": "2007-11-23T07:24:51Z", "is_private": false}, {"count": 27, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "id": 111016, "time": "2007-11-23T07:27:43Z", "bug_id": 43750, "creation_time": "2007-11-23T07:27:43Z", "is_private": false, "text": "(In reply to comment #25)\n/default/authoring/%7Bproxy:/modules/kupu/kupu/apache-lenya/lenya/images%7D/page-image.png\n/default/authoring/%7Bproxy:/modules/kupu/kupu/apache-lenya/lenya/images%7D/sitetree-link.png\n\nThese should be fixed in revision 597677."}, {"count": 28, "tags": [], "creator": "nettings@apache.org", "attachment_id": null, "text": "can this one be closed?", "id": 112486, "time": "2008-01-04T04:11:38Z", "bug_id": 43750, "creation_time": "2008-01-04T04:11:38Z", "is_private": false}, {"count": 29, "tags": [], "bug_id": 43750, "is_private": false, "text": "From my POV yes.", "id": 112487, "time": "2008-01-04T04:12:59Z", "creator": "andreas@apache.org", "creation_time": "2008-01-04T04:12:59Z", "attachment_id": null}]