[{"count": 0, "attachment_id": null, "bug_id": 61742, "text": "Jmeter.properties suggest the default value is 1 second for backend_graphite.send_interval:\n\n########################\n# Graphite Backend\n########################\n# Send interval in second\n# Defaults to 1 second\n#backend_graphite.send_interval=1\n\n\nAlso a comment in GraphiteBackendListenerClient.java suggests it needs to be 1 second:\n\n    public void setupTest(BackendListenerContext context) throws Exception {\n        ...\n\n\n        // Don't change this as metrics are per second\n        this.timerHandle = scheduler.scheduleAtFixedRate(this, SEND_INTERVAL, SEND_INTERVAL, TimeUnit.SECONDS);\n    }\n\nbut the default for SEND_INTERVAL is 5 seconds in the code:\n\n    private static final long SEND_INTERVAL = JMeterUtils.getPropDefault(\"backend_graphite.send_interval\", 5);\n\nThe good bit is that it's easy to fix temporarily (until it is fixed in the code) by actually uncommenting/setting backend_graphite.send_interval=1.\n\nWhy is this a problem? When creating graphs to display request per second metric (using either the a.count, h.count, ok.count, or ko.count) the numbers are inflated to those of 5 second window when using defaults.\n\nThis bugs seems to be introduced with the addition of timeboxed sliding window feature.\n\nWe noticed the change when we upgraded JMeter from 3.1 to 3.3. Without changing any of the relevant settings our graphs showing x.count stats jumped to x5 of their previous values.", "id": 202033, "time": "2017-11-10T11:31:54Z", "creator": "kecskemetizsolt@gmail.com", "creation_time": "2017-11-10T11:31:54Z", "tags": [], "is_private": false}, {"count": 1, "text": "Thanks for report !\nFixed, you should be able to test it using nightly build.\n\n\n\n\nAuthor: pmouawad\nDate: Fri Nov 10 12:36:19 2017\nNew Revision: 1814839\n\nURL: http://svn.apache.org/viewvc?rev=1814839&view=rev\nLog:\nBug 61742: BackendListener : fix default value for backend_graphite.send_interva\nBugzilla Id: 61742\n\nModified:\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/backend/graphite/GraphiteBackendListenerClient.java\n    jmeter/trunk/xdocs/changes.xml", "bug_id": 61742, "attachment_id": null, "id": 202034, "time": "2017-11-10T12:38:02Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-11-10T12:38:02Z", "tags": [], "is_private": false}]