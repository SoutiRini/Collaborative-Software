[{"count": 0, "tags": [], "bug_id": 52729, "text": "The fix revision 640273 was aimed to remove an resource leak bug on the  CometEventImpl object \"cometEvent \" (created line 130) in the method \"lifecycleEvent()\" of the file \"/tomcat/trunk/java/org/apache/catalina/valves/CometConnectionManagerValve.java\" , but it is incomplete. \n\nThere are some problems: \n1. when the statements at lines 131-134 throw some exception, the \"cometEvent\" can not be closed as expected. \n\nThe best way to close such resource objects is putting such close operations in the finaly block of a try-catch-finally structure.", "id": 153976, "time": "2012-02-21T12:01:25Z", "creator": "lianggt08@sei.pku.edu.cn", "creation_time": "2012-02-21T12:01:25Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 52729, "text": "r640273 has nothing to do with fixing potential resource leaks.\n\nIf the end event fails, the chances of the close event working are pretty slim.\n\nGiven that this code is part of the shutdown, a resource leak at this point is a minor issue at best and is probably not an issue at all.\n\nYet another enhancement where the severity has been badly mis-judged.", "id": 154584, "time": "2012-03-06T21:27:10Z", "creator": "markt@apache.org", "creation_time": "2012-03-06T21:27:10Z", "is_private": false, "attachment_id": null}]