[{"count": 0, "tags": [], "bug_id": 23833, "attachment_id": null, "is_private": false, "id": 45727, "time": "2003-10-15T11:39:22Z", "creator": "andy.wood@yoomedia.com", "creation_time": "2003-10-15T11:39:22Z", "text": "The following buildfile:\n____\n\n<project name=\"list.test\" default=\"list\">\n\t<target name=\"list\" depends=\"list.fails,list.works\"/>\n\t<target name=\"list.fails\">\n\t\t<ftp action=\"list\"\n\t\t\tserver=\"www.ibiblio.org\"\n\t\t\tuserid=\"anonymous\"\n\t\t\tpassword=\"me@mycompany.com\"\n\t\t\tremotedir=\"pub/mirrors/apache/ant/binaries\"\n\t\t\tlisting=\"listing.fails.tmp\">\n\t\t\t<fileset>\n\t\t\t\t<include name=\"*\"/>\n\t\t\t</fileset>\n\t\t</ftp>\n\t</target>\n\t<target name=\"list.works\">\n\t\t<ftp action=\"list\"\n\t\t\tserver=\"www.ibiblio.org\"\n\t\t\tuserid=\"anonymous\"\n\t\t\tpassword=\"me@mycompany.com\"\n\t\t\tremotedir=\"pub/mirrors/apache/ant\"\n\t\t\tlisting=\"listing.works.tmp\">\n\t\t\t<fileset>\n\t\t\t\t<include name=\"binaries/*\"/>\n\t\t\t</fileset>\n\t\t</ftp>\n\t</target>\n</project>\n____\n\nReturns:\n____\n\nBuildfile: test.xml\n\nlist.fails:\n      [ftp] listing files\n      [ftp] 0 files listed\n\nlist.works:\n      [ftp] listing files\n      [ftp] 11 files listed\n\nBUILD SUCCESSFUL\nTotal time: 28 seconds\n____\n\nEven though they logically should return the same file list.\n\nIt looks like the FTP.FTPDirectoryScanner isn't checking the\ncurrent working directory pattern match case properly (specifying\n\"./*\" or \"apache-ant-*\" doesn't work either).\n\nSpecifying an exact single filename in the fileset (such as\n\"apache-ant-1.5.4-bin.zip\") will return the listing for that\nfile, with or without a leading directory specified."}, {"count": 1, "tags": [], "text": "I can reproduce the bug and confirm that this bug is new in ant1.6, compared\nwith ant 1.5.4\nThe bug is probably more connected to the remotedir not beginning with a /.", "attachment_id": null, "id": 45754, "creator": "antoine@apache.org", "time": "2003-10-15T17:24:31Z", "bug_id": 23833, "creation_time": "2003-10-15T17:24:31Z", "is_private": false}, {"count": 2, "tags": [], "text": "fixed in CVS HEAD and ANT_16_BRANCH, will be available in ant1.6beta2.", "attachment_id": null, "id": 45758, "creator": "antoine@apache.org", "time": "2003-10-15T18:53:44Z", "bug_id": 23833, "creation_time": "2003-10-15T18:53:44Z", "is_private": false}]