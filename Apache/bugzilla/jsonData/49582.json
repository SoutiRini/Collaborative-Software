[{"count": 0, "tags": [], "bug_id": 49582, "text": "I'm developing a spring mvc app, with the dispatcher servlet mapped:\n\n<servlet-mapping>\n        <servlet-name>dispatcher</servlet-name>\n        <url-pattern>/</url-pattern>\n</servlet-mapping>\n\nUntil today I ran it on Tomcat 6.0.18 and it worked fine. Then I deployed the web-app to Tomcat 7.0.0 Beta, and the result is:\n\n- when I access the \"http://localhost:8080/mycontext/\" I get 404: The requested resource (/mycontext/) is not available.\n- when I access other locations \"http://localhost:8080/mycontext/something\" it works fine\n\nI tried to reproduce it with a simple servlet, annotated with @WebServlet(urlMappings=\"/\") and the result is the same - when opening the root of the context the servlet is not triggered. When any other URI is accessed, the servlet works fine.\n\nThen I commented out the default servlet mapping of CATALINA_HOME/conf/web.xml, but it still doesn't work.", "id": 138349, "attachment_id": null, "creator": "glamd@abv.bg", "creation_time": "2010-07-11T06:52:22Z", "time": "2010-07-11T06:52:22Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 49582, "is_private": false, "text": "What I suspect is happening is that you have a set of welcome files that include index.jsp. The requirements of section 10.10 of the Servlet 3.0 spec mean that the request matches the JSP servlet so the request gets mapped to the JSP servlet which then results in a 404 since index.jsp does not exist.\n\nYou have two options:\n- remove index.jsp from the list of welcome files\n- map the dispatcher servlet to /* which will bypass the welcome files\n\nThe 2.5 spec wasn't as clear as the 3.0 spec on this point. Tomcat 7 implements the requirements for welcome files without a physical backing.", "id": 138354, "time": "2010-07-11T17:13:40Z", "creator": "markt@apache.org", "creation_time": "2010-07-11T17:13:40Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 49582, "text": "I can't override the <welcome-file-list /> - I have to delete it from conf/web.xml, which is not good", "id": 138368, "time": "2010-07-12T11:45:21Z", "creator": "glamd@abv.bg", "creation_time": "2010-07-12T11:45:21Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "creator": "markt@apache.org", "text": "Specifying and empty list *should* override the one in the default web.xml. If that isn't the case, that is a bug that needs fixing. If so, please open a separate bug for that and it should get fixed for 7.0.1.", "id": 138369, "time": "2010-07-12T11:59:54Z", "bug_id": 49582, "creation_time": "2010-07-12T11:59:54Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 49582, "is_private": false, "text": "Sorry, my mistake. I tried <welcome-file-list />, which is invalid according to the schema. So <welcome-file-list><welcome-file></welcome-file></welcome-file-list> did it, instead.", "id": 138372, "time": "2010-07-12T13:36:41Z", "creator": "glamd@abv.bg", "creation_time": "2010-07-12T13:36:41Z", "attachment_id": null}]