[{"count": 0, "tags": [], "text": "Like explained in a comment for #39122, the source fileset of uptodate \nconsiders only normal files, not directories.\n\nNow, if I delete a source file, the only file whose modification time is \naffected, is its parent directory. But uptodate fails to detect this as a \nmodification to the sources so it thinks the target is uptodate.\n\nIn practice this is a problem for test classes, for example: if I remove a test \njava file, the test will still be run, because its class file still exists.\n\nTo fix this, the source fileset should include all directories, too.", "attachment_id": null, "id": 113781, "creator": "ville@oikarinen.org", "time": "2008-02-15T03:42:48Z", "bug_id": 44430, "creation_time": "2008-02-15T03:42:48Z", "is_private": false}, {"count": 1, "tags": [], "text": "What exactly is the difference between this bug and\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=39122\n?.\n\nAlso, I had found uptodate hard to use, so I wrote\nant-contrib:outofdate instead - that task may provide\na solution for your use case.", "is_private": false, "id": 113787, "creator": "peterreilly@apache.org", "time": "2008-02-15T04:15:40Z", "bug_id": 44430, "creation_time": "2008-02-15T04:15:40Z", "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "ville@oikarinen.org", "is_private": false, "id": 113788, "time": "2008-02-15T04:37:29Z", "bug_id": 44430, "creation_time": "2008-02-15T04:37:29Z", "tags": [], "text": "(In reply to comment #1)\n> What exactly is the difference between this bug and\n> http://issues.apache.org/bugzilla/show_bug.cgi?id=39122\n> ?.\n\nThe difference between this and #39122 is that my summary explains _why_ \nuptodate treats an outofdate target as uptodate.\n\nFurthermore, the reason is different: #39122 is also about directories, but \nit's the target file that is a directory.\n\nIn my case the target is actually a timestamp file (for performance) that gets \ntouched by the classes target after successful compilation. It's a source \ndirectory that causes problems.\n\n> \n> Also, I had found uptodate hard to use, so I wrote\n> ant-contrib:outofdate instead - that task may provide\n> a solution for your use case.\n\nOk, it's nice if there is a working alternative solution, but I'd prefer to use \nstandard tasks (easier to set up environments, continuity of support and so \non). Thanks anyway.\n\nBesides, I'd rather see bugs fixed instead of creating and using workarounds.\n"}, {"count": 3, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 129839, "time": "2009-08-21T06:28:25Z", "bug_id": 44430, "creation_time": "2009-08-21T06:28:25Z", "is_private": false, "text": "using srcresources and a dirset instead of the fileset should work."}, {"count": 4, "tags": [], "bug_id": 44430, "attachment_id": null, "text": "see passing antunit test in svn revision 806550 and documentation update in svn revision 806551", "id": 129840, "time": "2009-08-21T06:51:06Z", "creator": "bodewig@apache.org", "creation_time": "2009-08-21T06:51:06Z", "is_private": false}]