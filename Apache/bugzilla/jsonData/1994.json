[{"count": 0, "text": "If a file containing inner class names (i.e. classes with '$' in their name) is used in the includesfile property of a <fileset> tag, those classes are mysteriously not included.\n\nThe problem is replaceProperties() doesn't correctly handle the case where a '$' isn't followed by a '{'.  What it should do is nothing; what it does is drop the '$'.  Note this started happening from 1.2 to 1.3.\n\nThe following trivial patch fixes it:\n\n--- jakarta-ant-1.4alpha/src/main/org/apache/tools/ant/ProjectHelper.java.orig  Sun Jun  3 02:27:24 2001\n+++ jakarta-ant-1.4alpha/src/main/org/apache/tools/ant/ProjectHelper.java       Mon Jun  4 17:37:17 2001\n@@ -675,6 +675,8 @@\n                 prev = pos + 1;\n             }\n             else if (value.charAt( pos + 1 ) != '{' ) {\n+                // not a variable to be expanded\n+                sb.append( '$' );\n                 sb.append( value.charAt( pos + 1 ) );\n                 prev=pos+2; // XXX\n             } else {\n\n\nThanks!  ant is great!", "creator": "skehlet@reef.com", "is_private": false, "id": 2738, "time": "2001-06-04T17:52:08Z", "bug_id": 1994, "creation_time": "2001-06-04T17:52:08Z", "tags": [], "attachment_id": null}, {"count": 1, "text": "this is somewhat documented behavior - using $$ to escape a $ sign has a long\ntradition in Ant - applying your patch would sure break backwards compatibility.", "bug_id": 1994, "attachment_id": null, "id": 3166, "time": "2001-06-21T08:27:41Z", "creator": "bodewig@apache.org", "creation_time": "2001-06-21T08:27:41Z", "tags": [], "is_private": false}]