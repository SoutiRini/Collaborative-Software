[{"count": 0, "tags": [], "bug_id": 19667, "is_private": false, "text": "Using commit changes on the admin app saves the server.xml configuration.\nHowever, the keystore password is not saved for SSL sessions, causing the server\nto fail at the next restart.\n\nThis is what is saved :\n<Factory\nclassName=\"org.apache.catalina.net.SSLServerSocketFactory\"\nalgorithm=\"SunX509\" clientAuth=\"false\"\nkeystoreFile=\"E:\\tomcat\\bin\\..\\tomcat_keystore\"\nkeystoreType=\"JKS\"\nprotocol=\"TLS\"\n/>\n\nNote the absence of the keystorePass attribute.\n\nThis bug is also present in 4.1.21", "id": 36685, "time": "2003-05-05T12:28:08Z", "creator": "moonjihad@hotmail.com", "creation_time": "2003-05-05T12:28:08Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "kcbaltz@yahoo.com", "text": "I've learned more about this bug.  First of all, it only applies to the\no.a.catalina.net.SSLServerSocketFactory.  If you're using the Coyote classes,\nthis bug doesn't appear.  \n\nThe reason is that someone removed the getter for keystorePass from the\nSSLServerSocketFactory.  That's what's used by the Manager to recreate the\nserver.xml file.  Here's the relevant commit info:\n\nhttp://cvs.apache.org/viewcvs.cgi/jakarta-tomcat-4.0/catalina/src/share/org/apache/catalina/net/SSLServerSocketFactory.java?rev=1.8&content-type=text/vnd.viewcvs-markup\n\nThis also led me to a fix.  \n- Get the latest version of SSLServerSocketFactory.  \n- Re-add the getter for getKeystorePass and compile.\n- Copy the resulting class file to\n$TOMCAT_HOME/server/classes/org/apache/catalina/net\n\nRestart.  That should fix it. ", "count": 1, "id": 39497, "time": "2003-06-26T16:58:19Z", "bug_id": 19667, "creation_time": "2003-06-26T16:58:19Z", "is_private": false}, {"count": 2, "tags": [], "creator": "amyroh@apache.org", "attachment_id": null, "id": 53461, "time": "2004-03-04T20:56:13Z", "bug_id": 19667, "creation_time": "2004-03-04T20:56:13Z", "is_private": false, "text": "Cannot reproduce.  Please let me know if this is still an issue."}, {"count": 3, "tags": [], "bug_id": 19667, "text": "Which version did you test in?  I can confirm this is still an issue with\n4.1.24.  I haven't tested anything else.", "id": 53476, "time": "2004-03-05T04:28:16Z", "creator": "kcbaltz@yahoo.com", "creation_time": "2004-03-05T04:28:16Z", "is_private": false, "attachment_id": null}]