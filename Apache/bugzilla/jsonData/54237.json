[{"count": 0, "tags": [], "creator": "joan_wei@163.com", "text": "when send https request using ssl cert, if the cert expired, return \"connection reset\" in response data window.\n\nexpected return exception details, such as: ssl handshake failed, cert expired.", "id": 163810, "time": "2012-12-04T02:34:22Z", "bug_id": 54237, "creation_time": "2012-12-04T02:34:22Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 54237, "attachment_id": null, "id": 163836, "time": "2012-12-04T10:29:27Z", "creator": "sebb@apache.org", "creation_time": "2012-12-04T10:29:27Z", "is_private": false, "text": "Can you provide a test case?\nLog message/screen shot?\n\nNote that JMeter deliberately does not do any certificate validation, so it may not be possible to change the response."}, {"count": 2, "tags": [], "bug_id": 54237, "text": "sorry for the delay.\n\nI set the ssl certs in BeanShell PreProcesser by through:\nSystem.setProperty(\"javax.net.ssl.keyStore\",\"/sslcerts.p12\");\n\nthe response details is:\njava.net.SocketException: Connection reset\n\tat java.net.SocketInputStream.read(SocketInputStream.java:168)\n\tat com.sun.net.ssl.internal.ssl.InputRecord.readFully(InputRecord.java:293)\n\tat com.sun.net.ssl.internal.ssl.InputRecord.readV3Record(InputRecord.java:405)\n\tat com.sun.net.ssl.internal.ssl.InputRecord.read(InputRecord.java:360)\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:830)\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1170)\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:637)\n\tat com.sun.net.ssl.internal.ssl.AppOutputStream.write(AppOutputStream.java:89)\n\tat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)\n\tat java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)\n\tat org.apache.commons.httpclient.methods.StringRequestEntity.writeRequest(StringRequestEntity.java:146)\n\tat org.apache.commons.httpclient.methods.EntityEnclosingMethod.writeRequestBody(EntityEnclosingMethod.java:499)\n\tat org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase.java:2114)\n\tat org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1096)\n\tat org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\n\tat org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\n\tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\n\tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPHC3Impl.sample(HTTPHC3Impl.java:249)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:62)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1054)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1043)\n\tat org.apache.jmeter.threads.JMeterThread.process_sampler(JMeterThread.java:416)\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:271)\n\tat java.lang.Thread.run(Thread.java:662)\n\n\nhope that help.", "id": 163901, "time": "2012-12-06T05:21:27Z", "creator": "joan_wei@163.com", "creation_time": "2012-12-06T05:21:27Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 54237, "attachment_id": null, "id": 163902, "time": "2012-12-06T05:24:21Z", "creator": "joan_wei@163.com", "creation_time": "2012-12-06T05:24:21Z", "is_private": false, "text": "but sometimes (the occurrence rate is about 10%) the response is:\njavax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\n\tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\n\tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:136)\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1806)\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:986)\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1170)\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:637)\n\tat com.sun.net.ssl.internal.ssl.AppOutputStream.write(AppOutputStream.java:89)\n\tat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)\n\tat java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)\n\tat org.apache.commons.httpclient.methods.StringRequestEntity.writeRequest(StringRequestEntity.java:146)\n\tat org.apache.commons.httpclient.methods.EntityEnclosingMethod.writeRequestBody(EntityEnclosingMethod.java:499)\n\tat org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase.java:2114)\n\tat org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1096)\n\tat org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\n\tat org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\n\tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\n\tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPHC3Impl.sample(HTTPHC3Impl.java:249)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:62)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1054)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1043)\n\tat org.apache.jmeter.threads.JMeterThread.process_sampler(JMeterThread.java:416)\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:271)\n\tat java.lang.Thread.run(Thread.java:662)"}, {"text": "(In reply to comment #2)\n> sorry for the delay.\n> \n> I set the ssl certs in BeanShell PreProcesser by through:\n> System.setProperty(\"javax.net.ssl.keyStore\",\"/sslcerts.p12\");\n\nNot recommended, as some init is done when JMeter starts up.\nChanging the system property during a test may cause problems.\n\nTry setting the property on the command-line or in system.properties instead.", "tags": [], "bug_id": 54237, "attachment_id": null, "count": 4, "id": 163918, "time": "2012-12-06T10:17:40Z", "creator": "sebb@apache.org", "creation_time": "2012-12-06T10:17:40Z", "is_private": false}, {"count": 5, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Any news on that ?", "id": 164162, "time": "2012-12-20T07:45:09Z", "bug_id": 54237, "creation_time": "2012-12-20T07:45:09Z", "is_private": false, "attachment_id": null}, {"text": "Closing issue as no infos provided.\nFeel free to reopen with more informations.", "tags": [], "bug_id": 54237, "attachment_id": null, "count": 6, "id": 164310, "time": "2013-01-01T20:32:44Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2013-01-01T20:32:44Z", "is_private": false}]