[{"count": 0, "attachment_id": null, "creator": "zuckerman@nerdvana.fu.com", "text": "We are running Apache Tomcat 5.0.12 beta as our test and dev servers for one of \nour projects.\nWhen I left yesterday these pages seemed to work perfectly well but when I came \nin this morning and ran one particular page amongst a slew of similar pages \n(which all worked fine), I received this error:\n\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\nNo Java compiler was found to compile the generated source for the JSP. \nThis can usually be solved by copying manually $JAVA_HOME/lib/tools.jar from \nthe JDK \nto the common/lib directory of the Tomcat server, followed by a Tomcat restart. \nIf using an alternate Java compiler, please check its installation and access \npath.\n\n\torg.apache.jasper.compiler.DefaultErrorHandler.javacError\n(DefaultErrorHandler.java:128)\n\torg.apache.jasper.compiler.ErrorDispatcher.javacError\n(ErrorDispatcher.java:351)\n\torg.apache.jasper.compiler.Compiler.generateClass(Compiler.java:413)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:453)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:437)\n\torg.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:555)\n\torg.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:291)\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:301)\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:248)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:856)\nI looked in the logs for the complete error stack but none of the stuff that \ncame after this seemed very helpful (to me)\n\n I compared the page to the working code on our production site, which runs an \nearlier non-beta Tomcat, and it appeared to be the same with only a few minor \nchanges.  I copied the production files back to the test server and got the \nsame error.  When I hit back and then forward again, the page popped up, which \nI suspect was the most recently compiled version of that page.  I am using \nInternet Explorer 6.\n\nFor awhile I was convinced this was just some bug in my code but then I saw \nsomething (http://www.jguru.com/forums/view.jsp?EID=1122230) that suggestesd \nthat this might be a known bug in Tomcat 5, but then I didnt see it listed here \nin Bugzilla. So I am adding it, I hope thats OK, I hope it is an error in \nTomcat (no offense) and not just me being stupid. I would hate to waste your \ntime, I have a great respect for everything you guys do and I just want you to \nknow that you are (obviously) appreciated a lot.", "id": 46086, "time": "2003-10-22T20:45:11Z", "bug_id": 24019, "creation_time": "2003-10-22T20:45:11Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 24019, "is_private": false, "text": "Can you include a test case (.jsp and web.xml etc) that causes this error? \nThanks.", "id": 46087, "time": "2003-10-22T20:55:17Z", "creator": "kin-man.chung@sun.com", "creation_time": "2003-10-22T20:55:17Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 24019, "is_private": false, "id": 46088, "attachment_id": null, "creator": "kin-man.chung@sun.com", "creation_time": "2003-10-22T21:32:31Z", "time": "2003-10-22T21:32:31Z", "text": "After reviewing the source, it looks like this message is generated when there\nis an error in invoking javac, and there is no info about the line and the name\nof the JSP file associated with the error.  For instance, this would happen when\na page directive includes a bad import, such as <%@ page import=\"abc\" %> where\nabc does not exist.\n\nI don't remember who put this piece of code there, but it does give the wrong\nmessage sometimes.  I'll see if I can fix it somehow.\n\nYou should be able to see the actual javac error message in the log.  No idea\nwhy you didn;t.  Please do show me your test case, so that I can make sure it is\ncovered."}, {"count": 3, "tags": [], "creator": "kin-man.chung@sun.com", "attachment_id": null, "text": "I have fixed jasper so that it'll display the real javac message when there is\none.  This won't fix you problem, but should let your debug it.", "id": 46096, "time": "2003-10-22T23:59:43Z", "bug_id": 24019, "creation_time": "2003-10-22T23:59:43Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 24019, "is_private": false, "text": "I still see this bug in 5.0.25.\n\nThe log states that the JSP could not compile because of\nJul 19, 2004 6:48:21 PM org.apache.jasper.compiler.Compiler generateClass\nSEVERE: Error compiling file: /C:/Program Files/Apache Software \nFoundation/Tomca\nt \n5.0/work/Catalina/localhost/nPOManager//org/apache/jsp\\configure_005fcontent_j\nsp.java     [javac] Compiling 1 source file\n    [javac] C:/Program Files/Apache Software Foundation/Tomcat \n5.0/work/Catalina\n/localhost/nPOManager/org/apache/jsp/configure_005fcontent_jsp.java:1630: 'else\n'\n without 'if'\n    [javac]                                        else\n    [javac]                                        ^\n    [javac] 1 error\n\nThe page displays that JAVAC is missing.\n\n\n", "id": 60842, "time": "2004-07-20T01:58:00Z", "creator": "jammy.pate@networkgeneral.com", "creation_time": "2004-07-20T01:58:00Z", "attachment_id": null}, {"count": 5, "attachment_id": null, "creator": "kin-man.chung@sun.com", "text": "The original complain was the message \"No Java compiler was found to compile the\ngenerated source for the JSP.\" was bogus, but that was not what you got here. \nWhat you have here is a javac error, which may and may not be correct; but I\nhave no way of telling without a test case.", "id": 60893, "time": "2004-07-20T21:05:57Z", "bug_id": 24019, "creation_time": "2004-07-20T21:05:57Z", "tags": [], "is_private": false}]