[{"count": 0, "tags": [], "text": "Example config to reproduce the issue:\n\n  <Directory /usr/local/apache2/htdocs/test>\n  Order Deny,Allow\n  Deny from all\n    <FilesMatch \"bar$\">  \n    Allow from all  \n    </FilesMatch>  \n  </Directory>\n\n- requesting \"/test/blah\" returns a forbidden error, which is OK\n- requesting \"/test/foo.bar\" returns the file if it exists, which is OK\n- requesting \"/test/is/here/foo.bar\" returns the file if it exists, which is OK\n- requesting \"/test/not/here/foo.bar\" (with the directory \"not\"\n  not existing) returns a forbidden error instead of a 404 error.\n  In this case Apache walks up to \"/usr/local/apache2/htdocs/test\" and\n  then uses \"not\" as the basename and matches the regex from FilesMatch\n  against this. So using 'FilesMatch \"not$\"' would actually match and a\n  404 error is returned.\n\nIn most cases it probably doesn't matter if you get a 404 or a forbidden error, \nbut once you start doing RewriteRule stuff the above can lead to unexpected \nresults.\n\nAdd the following RewriteRules to the directory section:\n\n  RewriteRule ^/test/is/here/foo.bar$ /foo.bar [L] \n  RewriteRule ^/test/not/here/foo.bar$ /foo.bar [L] \n\n- requesting \"/test/is/here/foo.bar\" redirects and returns the file /foo.bar\n- requesting \"/test/not/here/foo.bar\" redirects internally, but then returns a\n  forbidden error.\n  In this case Apache first matches the basename \"not\" *and* the basename \n  \"foo.bar\" again the FilesMatch regex which fails ... \n  Using 'FilesMatch \"(not|bar)$\"' would actually work in this case, but\n  is not really something I would have expected.\n\n\nTested with 2.0.63 and 2.2.11.", "is_private": false, "bug_id": 46398, "id": 123315, "time": "2008-12-15T07:07:56Z", "creator": "lars@apache.org", "creation_time": "2008-12-15T07:07:56Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "nick@webthing.com", "attachment_id": null, "is_private": false, "id": 123327, "time": "2008-12-15T15:51:51Z", "bug_id": 46398, "creation_time": "2008-12-15T15:51:51Z", "text": "It's not clear what behaviour you're claiming is wrong (apart from the interaction with mod_rewrite).  Wouldn't this be better-suited to the dev list?\n\nIn any case, it's not something we can change in a stable version.  2.3/2.4 would be the first opportunity."}]