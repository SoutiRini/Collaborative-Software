[{"count": 0, "tags": [], "bug_id": 29778, "attachment_id": null, "text": "Had Embedded running in v4 fine, but in v5 it is having serious issues.\n\nFirstly... the modeler.Registry called from WebappLoader is using the default\nclasspath, and cannot find Xerces in our implementation. In v4 this was not an\nissue.\nSpecifying Registry.setUseContextClassLoader(true), causes Xerces to be found,\nbut then causes StandardEngine.init(363)->Registry.registerComponent(859) to\nthrow an NPE b/c it references the 'registry' variable which will never be\ninitialized when UseContextClassLoader is used. This is probably a bug in\ncommons-modeler - but perhaps there is a more appropriate way to configure\nEmbedded that avoids this?... The javadocs for Embedded look the same as in v4\n-- but since they don't appear to work, perhaps they are out of date or\nunknown/untested.\n\nAlso noted in toying /w the code... that even though you can set\nEmbedded.setCatalinaBase -- several classes still read directly from\nSystem.getProperty(\"catalina.base\") and will fail without it... this is\nundocumented in the Embedded javadocs.", "id": 59819, "time": "2004-06-24T05:46:58Z", "creator": "jconley@users.sourceforge.net", "creation_time": "2004-06-24T05:46:58Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 29778, "attachment_id": null, "text": "Please submit a patch or at least a detailed test case. All the maintainers of\nthat class are now using JMX for embedding or (apparently) workarounds, so we're\nnot going to address small glitches.", "id": 59826, "time": "2004-06-24T07:35:27Z", "creator": "remm@apache.org", "creation_time": "2004-06-24T07:35:27Z", "is_private": false}, {"count": 2, "tags": [], "creator": "remm@apache.org", "text": "For the last part of your report: the code for Embedded.setCatalinaBase is (of\ncourse):\n    public void setCatalinaBase( String s ) {\n        System.setProperty( \"catalina.base\", s);\n    }\nSo, sorry, it's not implemented in some magic-fancy way, but that's not going to\nchange.\n\nAbout the first part, are you using JDK 1.4 ?", "id": 59827, "time": "2004-06-24T07:44:59Z", "bug_id": 29778, "creation_time": "2004-06-24T07:44:59Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "jconley@users.sourceforge.net", "attachment_id": null, "text": "Yes, testing with 1.4.1_05 and 1.4.2_04", "id": 59828, "time": "2004-06-24T07:48:31Z", "bug_id": 29778, "creation_time": "2004-06-24T07:48:31Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 29778, "attachment_id": null, "text": "Please at least prepare a test case.", "id": 59829, "time": "2004-06-24T08:01:57Z", "creator": "remm@apache.org", "creation_time": "2004-06-24T08:01:57Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 29778, "is_private": false, "count": 5, "id": 62664, "time": "2004-08-29T14:48:49Z", "creator": "yoavs@computer.org", "creation_time": "2004-08-29T14:48:49Z", "text": "Can you confirm this still exists in 5.0.28?\n\nAs for the JavaDocs, it's entirely possible they're out of date.  I personally \nhaven't looked at them in a while.  If you could provide .diff patches for \nthem we'll be glad to evaluate and commit those."}, {"count": 6, "tags": [], "bug_id": 29778, "is_private": false, "text": "Given that so many people and projects (JBoss, Geronimo, a number of smaller \ncommercial ones), and that it works for me, and that no test case or comments \nhave been submitted in the months since the original report, I'm closing this \nissue as WORKSFORME.  If you have a specific test case to show otherwise, \nor .diff patches for code or documentation that you'd us to evaluate, feel free \nto reopen this item and attach those.", "id": 63738, "time": "2004-09-17T15:45:10Z", "creator": "yoavs@computer.org", "creation_time": "2004-09-17T15:45:10Z", "attachment_id": null}]