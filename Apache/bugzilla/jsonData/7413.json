[{"count": 0, "tags": [], "bug_id": 7413, "attachment_id": null, "text": "When trying to upload a file when Coyote is used as http connector the following\nexception occurs:\n\njava.io.CharConversionException: isHexDigit\n        at org.apache.tomcat.util.buf.UDecoder.convert(UDecoder.java:124)\n        at org.apache.tomcat.util.buf.UDecoder.convert(UDecoder.java:87)\n        at\norg.apache.tomcat.util.http.Parameters.processParameters(Parameters.java:407)\n        at\norg.apache.coyote.tomcat4.CoyoteRequest.parseRequestParameters(CoyoteRequest.java:1893)\n        at\norg.apache.coyote.tomcat4.CoyoteRequest.getParameterNames(CoyoteRequest.java:914)\n        at\norg.apache.catalina.connector.RequestFacade.getParameterNames(RequestFacade.java:165)\n        at webadm.servlet.Webadm.getRequestProperties(Webadm.java:296)\n.\netc.... for every character in in the uploaded file. \nThe last line shown is in my servlet: \n   Enumeration enum = request.getParameterNames ();\nThe servlet is extending VelocityServlet (1.2). File upload works ok when I use\nthe old http1.1 connector.", "id": 12238, "time": "2002-03-24T16:38:52Z", "creator": "bj@bredband.net", "creation_time": "2002-03-24T16:38:52Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 7413, "attachment_id": null, "text": "By uploading, I assume you mean you're doing a POST (which is not uploading to \nme; use PUT to upload).\nI assume the body is a binary (not url form encoded), and you're using \ngetParameterNames before doing anything else.\n\nI looked at the code in the Toncat 4 adapter, and there's a bug (the check for \nthe form content-type is missing). This probably is what causes the problem.\nSorry for the trouble; I rewrote the algorithm used in TC 4 to make it faster, \nbut I forgot something (and since I'm testing only with the form content-type, \nI didn't notice anything) ;-)\n\nI just put in a patch. If you could try it and confirm the bug is fixed, that \nwould be nice.", "id": 12241, "time": "2002-03-24T18:48:59Z", "creator": "remm@apache.org", "creation_time": "2002-03-24T18:48:59Z", "is_private": false}, {"count": 2, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "text": "*** Bug 7664 has been marked as a duplicate of this bug. ***", "id": 12643, "time": "2002-04-01T18:51:11Z", "bug_id": 7413, "creation_time": "2002-04-01T18:51:11Z", "is_private": false}]