[{"count": 0, "tags": [], "creator": "sebb@apache.org", "text": "If jmeter.httpclient.strict_rfc2616=true and the Location: header consists of just a path (no protocol/host) then an NPE is generated:\n\njava.lang.NullPointerException\n\tat org.apache.jorphan.util.JOrphanUtils.replaceAllChars(JOrphanUtils.java:264)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.encodeSpaces(HTTPSamplerBase.java:1332)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.followRedirects(HTTPSamplerBase.java:1404)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.resultProcessing(HTTPSamplerBase.java:1482)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPAbstractImpl.resultProcessing(HTTPAbstractImpl.java:306)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.sample(HTTPHC4Impl.java:411)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:74)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1105)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1094)\n\tat org.apache.jmeter.threads.JMeterThread.process_sampler(JMeterThread.java:429)\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:257)\n\tat java.lang.Thread.run(Thread.java:744)\n\nThis is because it's not possible to create a URL without a protocol, so the code skips setting the result redirectlocation. This eventually causes the NPE.\n\nSeems to have been caused by http://svn.apache.org/r1550547 (Bug 55717)\n\nA work-round is to save the unsantised location header in case the exception path is taken", "id": 173646, "time": "2014-03-05T22:28:40Z", "bug_id": 56222, "creation_time": "2014-03-05T22:28:40Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "text": "URL: http://svn.apache.org/r1574701\nLog:\nNPE if jmeter.httpclient.strict_rfc2616=true and location is not absolute\nBugzilla Id: 56222\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPHC3Impl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPHC4Impl.java\n    jmeter/trunk/xdocs/changes.xml", "id": 173647, "time": "2014-03-05T22:34:21Z", "bug_id": 56222, "creation_time": "2014-03-05T22:34:21Z", "is_private": false, "attachment_id": null}]