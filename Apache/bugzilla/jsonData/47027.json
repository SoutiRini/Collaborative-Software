[{"count": 0, "attachment_id": 23489, "bug_id": 47027, "text": "Created attachment 23489\nmy proposed patch\n\nHi Andreas,\n\nin your revision http://svn.apache.org/viewvc?rev=764317&view=rev you intended to fix the conversion from pixels to internal millipoints. I'm afraid you seem to have misunderstood the intention of the source and target resolution. When I introduced the two resolutions the intention was that the source resolution specifies the resolution at which pixel lengths are interpreted on the source side (pixel lengths in FO, pixel lengths for bitmaps that don't have resolution information etc.). The target resolution OTOH specifies the resolution at which the output device operates. For example, if you target a 300 dpi printer, you specify 300 dpis. For the screen you'd specify 96 dpi (most probably). This value controls the number of pixels generated for a bitmap that is generated from a vector graphic image that is rendered to a pixel-based output format (like PCL or PNG).\n\nFO     src res    layout engine.    tgt res     Output\n<px>   ------->       <mpt>         ------->    <px>\n\nThe attached patch demonstrates how I would fix this. An example of the result: Specify a table column with 72px and you get 72000mpt as before at default settings (72dpi). At a higher resolution, the pixels get smaller as you have more pixels per inch. So at 144dpi, you have twice as many pixels in the same space per dimension. The pixel length is half the previous length. 72px are now 36000mpt.", "id": 126221, "time": "2009-04-14T03:06:40Z", "creator": "jeremias@apache.org", "creation_time": "2009-04-14T03:06:40Z", "tags": [], "is_private": false}, {"count": 1, "text": "OK, indeed seems I misunderstood the intentions.\n\nPatch looks fine to me (as far as I understand... my using the 'magic number' 72.0f should definitely be abandoned)", "bug_id": 47027, "is_private": false, "id": 126268, "time": "2009-04-15T11:18:44Z", "creator": "adelmelle@apache.org", "creation_time": "2009-04-15T11:18:44Z", "tags": [], "attachment_id": null}, {"count": 2, "attachment_id": 23506, "bug_id": 47027, "text": "Created attachment 23506\nsame patch, but including another change in FOTreeTester\n\nJust wanted to go ahead and commit the changes, then noticed I had made an additional change to FOTreeTester and ResultCollector a while back, which I'd like to post for review first.\n\nThe one difference is that I made the distinction between a fatal error that arises during parsing, and a failed assertion in a test that was successfully parsed. If this makes sense, I'll commit the attached patch later this weekend (or early next week).", "id": 126335, "time": "2009-04-17T09:27:47Z", "creator": "adelmelle@apache.org", "creation_time": "2009-04-17T09:27:47Z", "tags": [], "is_private": false}, {"count": 3, "attachment_id": 23507, "bug_id": 47027, "is_private": false, "id": 126336, "time": "2009-04-17T09:34:04Z", "creator": "adelmelle@apache.org", "creation_time": "2009-04-17T09:34:04Z", "tags": [], "text": "Created attachment 23507\ncorrection: added missing file\n\nForgot to include the affected AssertElement.java in the previous attachment"}, {"count": 4, "tags": [], "creator": "adelmelle@apache.org", "attachment_id": null, "is_private": false, "id": 126363, "time": "2009-04-19T10:55:15Z", "bug_id": 47027, "creation_time": "2009-04-19T10:55:15Z", "text": "\nNo feedback in the meantime, so I've committed the changes: see r766492\n\nThanks for the feedback!"}, {"count": 5, "tags": [], "creator": "gadams@apache.org", "is_private": false, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 155632, "time": "2012-04-01T06:32:17Z", "bug_id": 47027, "creation_time": "2012-04-01T06:32:17Z", "attachment_id": null}]