[{"count": 0, "tags": [], "bug_id": 13205, "attachment_id": null, "is_private": false, "id": 23749, "time": "2002-10-02T14:03:47Z", "creator": "d.trombetta@mbm.it", "creation_time": "2002-10-02T14:03:47Z", "text": "Trying to install a web application from the html manager \nI found out that if I don't specify the config URL a\njava.net.MalformedURLException is raised. This is because the method\nrequest.getParameter(\"config\") called by the servlet\norg.apache.catalina.servlets.ManagerServlet returns a void string\n(i.e. '') instead of null. The consequence is that the constructor\nURL(String) throws that exception."}, {"count": 1, "tags": [], "text": "I'm also seeing this same problem with the HTMLManagerServlet.\n\nI typed \"/foo\" into the \"Path:\" field, and \n\"file:/home/jasonb/jakarta-tomcat-4.1.9/foo\" into the \"WAR URL:\" field, and\nsubmitted the form by clicking the \"Install\" submit button.\n\nHere's the relevant portion of the log & stack trace:\n\n2002-10-13 21:53:37 HTMLManager: install: Installing context configuration at ''\n from 'file:/home/jasonb/jakarta-tomcat-4.1.9/foo'\n2002-10-13 21:53:37 HTMLManager: ManagerServlet.configure[]\njava.net.MalformedURLException: no protocol: \n        at java.net.URL.<init>(URL.java:579)\n        at java.net.URL.<init>(URL.java:476)\n        at java.net.URL.<init>(URL.java:425)\n        at org.apache.catalina.servlets.ManagerServlet.install(ManagerServlet.ja\nva:611)\n        at org.apache.catalina.servlets.HTMLManagerServlet.install(HTMLManagerSe\nrvlet.java:175)\n        at org.apache.catalina.servlets.HTMLManagerServlet.doGet(HTMLManagerServ\nlet.java:136)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\nAnd here's the URL in my browser after I submitted the form to deploy\na web application (a dir named \"foo\"):\n\nhttp://localhost/manager/html/install?path=&installPath=%2Ffoo&installConfig=&installWar=file%3A%2Fhome%2Fjasonb%2Fjakarta-tomcat-4.1.9%2Ffoo\n\nNotice the \"installConfig=&\" in there.  That means that Tomcat will store an\nempty, but non-null String for the \"installConfig\" parameter, which the\nHTMLManagerServlet sends to the ManagerServlet (its superclass).\nManagerServlet expects this parameter to either be null or be a useable URL\nString with which to create a URL object.\n\nThe fix for this is either to have HTMLManagerServlet's install() method check\nfor empty but non-null parameter values and make them null before passing\nthem to the ManagerServlet, or have the ManagerServlet's install() method\ncheck for both null and empty String values.  Either way should work.\n", "attachment_id": null, "id": 24441, "creator": "jason_brittain@yahoo.com", "time": "2002-10-14T05:15:48Z", "bug_id": 13205, "creation_time": "2002-10-14T05:15:48Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 13205, "text": "Thanks for reporting this.  The xml context config is optional and\nthe NPE has been fixed.  This will be available in the next Tomcat 4.1 release.", "id": 29331, "attachment_id": null, "creator": "glenn@apache.org", "creation_time": "2003-01-14T03:08:32Z", "time": "2003-01-14T03:08:32Z", "is_private": false}]