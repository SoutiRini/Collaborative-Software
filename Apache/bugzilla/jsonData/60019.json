[{"count": 0, "tags": [], "creator": "stephen.mccants@hcs.us.com", "is_private": false, "text": "Created attachment 34161\nTrivial test case.\n\nIn our builds, we use Ant to merge several Jar files and need to keep the Classpaths set in the Manifest file.  However, after upgrading to Ant 1.9.7, the classpaths are lost when merging the Jar files.  Testing backwards we found that it works correctly in 1.9.3 and previous versions, but not in 1.9.4.\n\nI've built a trivial test case (attached).  Unzip the testcase and enter the resulting directory.  Run \"ant\" and then check the Combined.jar's resulting manifest file.\n\nOur Ant build.xml file (included in the test case) is:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!-- Created to demostrate a bug in Ant -->\n<project name=\"TagServer\" default=\"default\" basedir=\".\">\n\t<target name=\"default\">        \n        <jar jarfile=\"Combined.jar\" filesetmanifest=\"mergewithoutmain\" mergeclasspathattributes=\"true\">\n            <zipfileset src=\"First.jar\"/>\n            <zipfileset src=\"Second.jar\" />\n        </jar>\n       \n    </target>\n</project>\n\nFirst.jar and Second.jar are trivial, empty jar files that contain only a Manifest with Classpath set.\n\nWe expected the resulting Combined.jar file to contain a merged classpath and it does using versions of Ant < 1.9.4, but it contains a manifest with a classpath setting in newer versions of Ant.\n\nWe suspect that Bug-54171 introduced this problem, but we're not sure.\nhttps://bz.apache.org/bugzilla/show_bug.cgi?id=54171", "id": 193187, "time": "2016-08-18T19:12:34Z", "bug_id": 60019, "creation_time": "2016-08-18T19:12:34Z", "attachment_id": 34161}]