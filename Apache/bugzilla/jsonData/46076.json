[{"count": 0, "tags": [], "creator": "christian_boitel@yahoo.fr", "attachment_id": null, "is_private": false, "id": 121815, "time": "2008-10-23T03:38:17Z", "bug_id": 46076, "creation_time": "2008-10-23T03:38:17Z", "text": "This was discovered when investigating an issue in APR-UTIL 1.3x (https://issues.apache.org/bugzilla/show_bug.cgi?id=46064)\n\nin util_ldap.c, return code from apr_ldap_init isn't check which in certains cases will cause httpd to assume the call succeeded. When later using the ldap connection, openldap sdk will fail (assertation failed) and generate a SIGABORT signal causing the httpd process to coredump.\n\nExtract from error_log:\n[Wed Oct 22 13:46:17 2008] [debug] mod_authnz_ldap.c(379): [client a.b.c.d] [258172] auth_ldap authenticate: using URL ldap://xxxx/o=xxx?cn?sub?(objectclass=inetOrgPerson)\nAssertion failed: __EX, file  sasl.c, line 79\n[Wed Oct 22 10:00:33 2008] [notice] child pid 250024 exit signal Abort (6)"}, {"count": 1, "tags": [], "creator": "bnicholes@apache.org", "attachment_id": null, "id": 121852, "time": "2008-10-24T08:54:07Z", "bug_id": 46076, "creation_time": "2008-10-24T08:54:07Z", "is_private": false, "text": "The success or failure of apr_ldap_init() is being checked through the result parameter rather than the actual return code of the function.  The status code of the ldap call is checked in the if statement that follows the call to apr_ldap_init().  Since there are several pieces of information that need to be returned from an apr_ldap* call, error codes and messages are returned through the result parameter."}, {"count": 2, "attachment_id": null, "creator": "sf@sfritsch.de", "is_private": false, "id": 139225, "time": "2010-08-18T19:01:09Z", "bug_id": 46076, "creation_time": "2010-08-18T19:01:09Z", "tags": [], "text": "r986974"}, {"count": 3, "tags": [], "bug_id": 46076, "attachment_id": null, "is_private": false, "id": 154208, "time": "2012-02-26T16:49:39Z", "creator": "sf@sfritsch.de", "creation_time": "2012-02-26T16:49:39Z", "text": "fixed in 2.4.1"}]