[{"attachment_id": null, "tags": [], "creator": "jbullock@iqnavigator.com", "is_private": false, "count": 0, "id": 85015, "time": "2006-01-25T23:58:03Z", "bug_id": 38391, "creation_time": "2006-01-25T23:58:03Z", "text": "In JMeterThread.delay(), as the packed Timers are iterated and their delays \naccumulated, the long returned by Timer.delay() is truncated to an int. \n \nIn normal jmeter operation this is not a problem, since delays are short.  In \nmy use of jmeter, two custom timers are used whose delays partially cancel (one \nreturns a negative value) to produce the actual delay for the sampler.  The use \nof an int to accumulate the two long values produces the wrong delay for the \nsamplers in my test plans. \n \nThe fix is to simply change the type of the sum local variable from int to \nlong.  I have a local patch on version 1.9.1.  I can provide a patch for the \ncurrent head revision."}, {"attachment_id": null, "tags": [], "creator": "sebb@apache.org", "text": "Good catch - fixed in 2.1 branch (will be in 2.1.2)", "count": 1, "id": 85020, "time": "2006-01-26T00:16:52Z", "bug_id": 38391, "creation_time": "2006-01-26T00:16:52Z", "is_private": false}, {"count": 2, "tags": [], "creator": "jbullock@iqnavigator.com", "attachment_id": 17505, "text": "Created attachment 17505\nPatch (context diff) fixing the bug\n\nPatch is on Revision 350089 of JMeterThread.java.", "id": 85021, "time": "2006-01-26T00:31:47Z", "bug_id": 38391, "creation_time": "2006-01-26T00:31:47Z", "is_private": false}]