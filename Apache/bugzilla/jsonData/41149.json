[{"count": 0, "tags": [], "bug_id": 41149, "attachment_id": null, "id": 96744, "time": "2006-12-11T06:33:33Z", "creator": "bowditch_chris@hotmail.com", "creation_time": "2006-12-11T06:33:33Z", "is_private": false, "text": "Attached PNG causes a NPE when rendering to RTF. Submitted by Dominic Brugger \n(brugger.at.puzzle.ch) Stack trace below:\n\nSEVERE: Error while handling an external-graphic: null\njava.lang.NullPointerException\n        at org.apache.commons.io.IOUtils.copy(IOUtils.java:920)\n        at org.apache.commons.io.IOUtils.toByteArray(IOUtils.java:215)\n        at org.apache.fop.image.AbstractFopImage.loadDefaultOriginalData\n(AbstractFopImage.java:223)\n        at org.apache.fop.image.ImageIOImage.loadOriginalData\n(ImageIOImage.java:217)\n        at org.apache.fop.image.AbstractFopImage.load\n(AbstractFopImage.java:174)\n        at org.apache.fop.render.rtf.RTFHandler.image(RTFHandler.java:1131)\n        at org.apache.fop.render.rtf.RTFHandler.invokeDeferredEvent\n(RTFHandler.java:1492)\n        at org.apache.fop.render.rtf.RTFHandler.recurseFONode\n(RTFHandler.java:1616)\n        at org.apache.fop.render.rtf.RTFHandler.recurseFONode\n(RTFHandler.java:1687)\n        at org.apache.fop.render.rtf.RTFHandler.recurseFONode\n(RTFHandler.java:1687)\n        at org.apache.fop.render.rtf.RTFHandler.recurseFONode\n(RTFHandler.java:1639)\n        at org.apache.fop.render.rtf.RTFHandler.endPageSequence\n(RTFHandler.java:"}, {"count": 1, "tags": [], "bug_id": 41149, "attachment_id": 19242, "text": "Created attachment 19242\nPNG", "id": 96746, "time": "2006-12-11T06:34:53Z", "creator": "bowditch_chris@hotmail.com", "creation_time": "2006-12-11T06:34:53Z", "is_private": false}, {"count": 2, "text": "Yet another reason for a redesign of the image package. The reason for the NPE\nis the loadBitmap() call in ImageIOImage.loadDimensions(). The class decodes the\nfull image in order to get at the dimensions and loadBitmap() closes the\nInputStream when it's done.\n\nI don't have time right now to test that it won't break anything but one could\nchange loadDimensions() in ImageIOImage so it doesn't call loadBitmap() if it\nhas the resolution and extents of the image (which it can get from the\nImageReader). When this is done all image formats that are registered in\nImageFactory for loading with ImageIOImage need to be retested with RTF and at\nleast PDF output.\n\nHTH", "creator": "jeremias@apache.org", "attachment_id": null, "id": 96772, "time": "2006-12-11T12:09:26Z", "bug_id": 41149, "creation_time": "2006-12-11T12:09:26Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 41149, "attachment_id": null, "is_private": false, "id": 157437, "time": "2012-04-07T01:42:58Z", "creator": "gadams@apache.org", "creation_time": "2012-04-07T01:42:58Z", "text": "resetting P2 open bugs to P3 pending further review"}, {"count": 4, "tags": [], "bug_id": 41149, "text": "change status from ASSIGNED to NEW for consistency", "id": 157902, "time": "2012-04-11T06:17:15Z", "creator": "gadams@apache.org", "creation_time": "2012-04-11T06:17:15Z", "is_private": false, "attachment_id": null}]