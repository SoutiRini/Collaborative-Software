[{"count": 0, "tags": [], "text": "06.12.2005 10:22:21 org.apache.catalina.cluster.session.ClusterSessionListener\nmessageReceived\nWARNUNG: Context manager doesn't exist:/business\n06.12.2005 10:22:21 org.apache.catalina.cluster.tcp.SimpleTcpCluster\nlogReceiveMessage\nINFO: RECEIVE 06.12.2005:10:22:21 0 192.168.13.17:4.001\n755CE9D4D4070F3AF674AF21AE3F6B8C.2-1133860941468 true\n06.12.2005 10:22:21 org.apache.catalina.cluster.session.ClusterSessionListener\nmessageReceived\nWARNUNG: Context manager doesn't exist:/business\n06.12.2005 10:22:21 org.apache.catalina.cluster.tcp.SimpleTcpCluster\nlogReceiveMessage\nINFO: RECEIVE 06.12.2005:10:22:21 0 192.168.13.17:4.001\nCA1F4CC84E01B3F90CA99B5BB9A06DB1.2-1133860941499 true\n06.12.2005 10:22:21 org.apache.catalina.cluster.session.ClusterSessionListener\nmessageReceived\nWARNUNG: Context manager doesn't exist:/business\n06.12.2005 10:22:21 org.apache.catalina.cluster.tcp.SimpleTcpCluster\nlogReceiveMessage\nINFO: RECEIVE 06.12.2005:10:22:21 0 192.168.13.17:4.001\n6E9499A3348F98A1805435A3E682CD39.2-1133860941749 true\n06.12.2005 10:22:21 org.apache.catalina.cluster.session.DeltaManager start\nINFO: Register manager /business to cluster element Host with name localhost\n06.12.2005 10:22:21 org.apache.catalina.cluster.session.DeltaManager start\nINFO: Starting clustering manager at /business\n06.12.2005 10:22:22 org.apache.catalina.cluster.tcp.SimpleTcpCluster logSendMessage\nINFO: SEND 06.12.2005:10:22:21 32 192.168.13.17:4.001 GET-ALL-/business \n06.12.2005 10:22:22 org.apache.catalina.cluster.session.DeltaManager\ngetAllClusterSessions\nWARNUNG: Manager [/business], requesting session state from\norg.apache.catalina.cluster.mcast.McastMember[tcp://192.168.13.17:4001,catalina,192.168.13.17,4001,\nalive=1360860]. This operation will timeout if no session state has been\nreceived within 60 seconds.\n06.12.2005 10:22:22 org.apache.catalina.cluster.tcp.SimpleTcpCluster\nlogReceiveMessage\nINFO: RECEIVE 06.12.2005:10:22:22 0 192.168.13.17:4.001\n81C9A18A8237538D9497A8880B38E8E9.2-1133860942436 true\n06.12.2005 10:22:22 org.apache.catalina.cluster.tcp.SimpleTcpCluster\nlogReceiveMessage\nINFO: RECEIVE 06.12.2005:10:22:22 0 192.168.13.17:4.001\n81C9A18A8237538D9497A8880B38E8E9.2-1133860942483 true\n06.12.2005 10:22:22 org.apache.catalina.cluster.tcp.SimpleTcpCluster\nlogReceiveMessage\n\nThis should show what I mean.\nThere are many warnings before.\n\nI use 5.5.13 (beta) on jkd1.5.0_6 on win2000 SP4\n\nThe cluster config look like this:\n\n<Cluster className=\"org.apache.catalina.cluster.tcp.SimpleTcpCluster\"\n                    \nmanagerClassName=\"org.apache.catalina.cluster.session.DeltaManager\"\n                     expireSessionsOnShutdown=\"false\"\n                     useDirtyFlag=\"true\"\n                     notifyListenersOnReplication=\"true\"\n\t      doClusterLog=\"true\"\n                    clusterLogName=\"clusterlog\">\n\n            <Membership \n                className=\"org.apache.catalina.cluster.mcast.McastService\"\n                mcastAddr=\"228.0.0.4\"\n \t  mcastBindAddress=\"192.168.13.7\"\n                mcastPort=\"45564\"\n                mcastFrequency=\"500\"\n                mcastDropTime=\"3000\"/>\n\n            <Receiver \n                className=\"org.apache.catalina.cluster.tcp.ReplicationListener\"\n                tcpListenAddress=\"auto\"\n                tcpListenPort=\"4001\"\n                tcpSelectorTimeout=\"100\"\n                tcpThreadCount=\"6\"/>\n\t\n\t<!--\t\n            <Sender\n     \t\tclassName=\"org.apache.catalina.cluster.tcp.ReplicationTransmitter\"\n\t\treplicationMode=\"fastasyncqueue\"\n\t\tcompress=\"true\"\n\t\tdoTransmitterProcessingStats=\"true\"\n\t\twaitForAck=\"false\"\n\t\tautoConnect=\"false\"/>\n\t-->\n\t<Sender\n     \t\tclassName=\"org.apache.catalina.cluster.tcp.ReplicationTransmitter\"\n\t\treplicationMode=\"pooled\"\n\t\tkeepAliveTimeout=\"15000\"\n\t\tkeepAliveMaxRequestCount=\"1000\"\n\t\tautoConnect=\"true\"\n\t\t/>\n\t\t\n            <Valve className=\"org.apache.catalina.cluster.tcp.ReplicationValve\"\n                  \nfilter=\".*\\.gif;.*\\.js;.*\\.jpg;.*\\.png;.*\\.htm;.*\\.html;.*\\.css;.*\\.txt;\"/>\n                      \n            <ClusterListener\nclassName=\"org.apache.catalina.cluster.session.ClusterSessionListener\"/>\n\t    \n        </Cluster>\n\nregards Dietmar", "attachment_id": null, "id": 83318, "creator": "dietmar.mueller@eurotours.at", "time": "2005-12-06T16:11:21Z", "bug_id": 37809, "creation_time": "2005-12-06T16:11:21Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 37809, "text": "Jeah\n,\nthat not nice but:\n\nWe must start the membership request before we start the application contexts,\notherwise the application session managers don't have the sender infrastructur to\nsend the GET-ALL-SESSION message to sync with other nodes.\nAll messages are drop for small period. Looks bad but is normal :-)\n\nWhen you find a better design, please send your ideas to the dev list.\n\nPeter", "id": 83362, "time": "2005-12-07T09:33:08Z", "creator": "pr@objektpark.de", "creation_time": "2005-12-07T09:33:08Z", "is_private": false, "attachment_id": null}]