[{"count": 0, "tags": [], "bug_id": 20176, "attachment_id": null, "id": 37661, "time": "2003-05-23T09:15:28Z", "creator": "kl@vsen.dk", "creation_time": "2003-05-23T09:15:28Z", "is_private": false, "text": "When using this vhost config:\n\n<VirtualHost x.x.x.x:80>\n        DirectoryIndex index.php\n        Alias /webmail /path/to/webmail\n\n        # %-2 means secondlast \n        VirtualDocumentRoot /www/costumers/%-2/html\n        \n        #the text below is actually included via Include /path/to/file\n        RewriteEngine On\n        RewriteOptions 'inherit'\n\n        RewriteRule (.*)Page-([0-9]+)\\.html$ $1index.php?name=PagEd&page_id=$2\n[L,NS]\n        #nothing more in the Included file.\n\n        CustomLog logs/vhost_access_log vcommon\n        ErrorLog logs/vhost_error_log\n</VirtualHost>\n\nWhen I Access a site on this virtualhost, I see the site just fine. by f.ex.\naccessing Index.php, or any other.\n\nIf I access /Page-3.html - which is caught by this RewriteRule and rewritten I\nget this error msg in the vhost_error_log:\n\nFile does not exist: /etc/apache/htdocs/index.php\n\nWhich seems to me to be a big bug. :("}, {"count": 1, "tags": [], "bug_id": 20176, "attachment_id": null, "id": 38184, "time": "2003-06-02T15:11:15Z", "creator": "kl@vsen.dk", "creation_time": "2003-06-02T15:11:15Z", "is_private": false, "text": "I get some output from rewrite.log that confirms it being a bug - nobody\ninterested in this??\n\n192.168.1.4 - - [02/Jun/2003:17:00:41 +0200]\n[defaulttest.dk/sid#80b6dd0][rid#82231d0/initial] (2) local path result:\n/modules.php\n192.168.1.4 - - [02/Jun/2003:17:00:41 +0200]\n[defaulttest.dk/sid#80b6dd0][rid#82231d0/initial] (2) prefixed with\ndocument_root to /etc/apache/htdocs/modules.php\n\nit should have applied virtualdocumentroot because it was available."}, {"count": 2, "tags": [], "bug_id": 20176, "is_private": false, "id": 38185, "attachment_id": null, "creator": "kl@vsen.dk", "creation_time": "2003-06-02T15:13:48Z", "time": "2003-06-02T15:13:48Z", "text": "I tried to change the RewriteRule so that it rewrote to\n%{HTTP_HOST}/previous-rewrite-to-url\n\nbut that didn't change anything :("}, {"count": 3, "tags": [], "bug_id": 20176, "is_private": false, "id": 38188, "attachment_id": null, "creator": "nd@perlig.de", "creation_time": "2003-06-02T15:31:50Z", "time": "2003-06-02T15:31:50Z", "text": "mod_rewrite doesn't know about virtualdocumentroots. Virtualdocumentroot acts at\nthe same level like Alias (mod_rewrite also doesn't know about Alias ...).\n\nHowever, you can use the PT flag to pass the result to the next handler (alias,\nvirtualdocumentroot, whatever).\n\nAppending the core documentroot is just an optimization step in order to save\nsome CPU cycles.\n\nThanks for using Apache."}]