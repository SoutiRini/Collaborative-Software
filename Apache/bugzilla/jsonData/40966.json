[{"count": 0, "tags": [], "bug_id": 40966, "attachment_id": null, "id": 95802, "time": "2006-11-13T16:44:29Z", "creator": "Tim.Whittington@orionhealth.com", "creation_time": "2006-11-13T16:44:29Z", "is_private": false, "text": "There are socket descriptor validity checks in ajp_reset_endpoint and ajp_done\n(ajp_common.c) that don't use the IS_VALID_SOCKET macro, but rather do a sd > 0\ncheck for validity.\n\nOn XP/Visual Studio 2005 (at least), SOCKET is an unsigned, which means sd > 0\nalways succeeds.\nThis doesn't break anything at the moment, since the subsequent code executed\ncorrectly checks for invalid sockets before attempting to close them.\n\nPatch is attached to correct this, as well as add a bit more debug logging\naround the AJP responses."}, {"count": 1, "tags": [], "creator": "Tim.Whittington@orionhealth.com", "attachment_id": 19121, "text": "Created attachment 19121\nPatch to correct socket descriptor checks and add debug logging for AJP responses", "id": 95803, "time": "2006-11-13T16:45:16Z", "bug_id": 40966, "creation_time": "2006-11-13T16:45:16Z", "is_private": false}, {"count": 2, "tags": [], "text": "Committed. Thanks!", "is_private": false, "id": 95831, "creator": "mturk@apache.org", "time": "2006-11-14T08:09:45Z", "bug_id": 40966, "creation_time": "2006-11-14T08:09:45Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": null, "text": "Move a couple of fixed JK issues from resolved to closed.", "id": 112406, "time": "2008-01-01T16:51:29Z", "bug_id": 40966, "creation_time": "2008-01-01T16:51:29Z", "is_private": false}]