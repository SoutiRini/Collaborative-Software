[{"count": 0, "tags": [], "bug_id": 59756, "attachment_id": 33990, "text": "Created attachment 33990\ntestxlate.c fix for test failure and added UTF-7 test\n\nThere seem to be 2 independent issues with the testxlate UTF-7 tests.\nThese were already brought up in 2015 by Thorsten Sch\u00f6ning on the mailing list: http://www.mail-archive.com/dev%40apr.apache.org/msg26274.html\n\n1. The conversion test from UTF-8 to UTF-7 fails.\nThe generated UTF-7 output is \"Edelwei+AN8\". As far as my understanding of the UTF-7 RFC (https://www.ietf.org/rfc/rfc2152.txt) goes, this seems to be a correct conversion. Hence, the test is \"incorrect\" here and causes a false positive failure.\n\n2. The conversion from UTF-7 to UTF-8 fails.\nConverting Edelwei+AN8- to UTF-8 seems to produce an incorrect result. Thorsten already provided an analysis of the issue (I didn't completely verify it, but it seemed sound).\n\nThe attached patch fixes issue 1 by changing the test expectation.\nIt also adds another test for the UTF-7 to UTF-8 conversion to keep the previous test case.", "id": 191958, "time": "2016-06-27T01:20:53Z", "creator": "luke1410@gmx.de", "creation_time": "2016-06-27T01:20:53Z", "is_private": false}, {"count": 1, "tags": [], "creator": "luke1410@gmx.de", "text": "Note that the observed conversion issues are presumably issues in APR-iconv and not in APR-util (even though the test code is part of APR-util).", "id": 191985, "time": "2016-06-27T21:40:41Z", "bug_id": 59756, "creation_time": "2016-06-27T21:40:41Z", "is_private": false, "attachment_id": null}]