[{"count": 0, "tags": [], "bug_id": 33428, "attachment_id": null, "id": 70580, "time": "2005-02-07T18:11:47Z", "creator": "mjac@gmx.net", "creation_time": "2005-02-07T18:11:47Z", "is_private": false, "text": "I've tried to not copy junit.jar to $ANT_HOME/lib nor to put it in the \nCLASSPATH. $ANT_HOME/lib contains good ant-junit.jar, build.xml contains all \nnecessary (IMHO) classpath entries, however it does not work.\n\njacykm@leopard:/tmp/antjunit> ant\nBuildfile: build.xml\n\ninit:\n   [delete] Deleting 4 files from /tmp/antjunit/build\n   [delete] Deleted 4 directories from /tmp/antjunit/build\n    [mkdir] Created dir: /tmp/antjunit/build/src\n    [mkdir] Created dir: /tmp/antjunit/build/bin\n    [mkdir] Created dir: /tmp/antjunit/build/junit-reports\n    [mkdir] Created dir: /tmp/antjunit/build/docs\n\ncompile:\n     [copy] Copying 2 files to /tmp/antjunit/build/src\n    [javac] Compiling 2 source files to /tmp/antjunit/build/bin\n\njunit-tests:\n\nBUILD FAILED\n/tmp/antjunit/build.xml:67: Could not create task or type of type: junit.\n\nAnt could not find the task or a class this task relies upon.\n\nThis is common and has a number of causes; the usual\nsolutions are to read the manual pages then download and\ninstall needed JAR files, or fix the build file:\n - You have misspelt 'junit'.\n   Fix: check your spelling.\n - The task needs an external JAR file to execute\n     and this is not found at the right place in the classpath.\n   Fix: check the documentation for dependencies.\n   Fix: declare the task.\n - The task is an Ant optional task and the JAR file and/or libraries\n     implementing the functionality were not found at the time you\n     yourself built your installation of Ant from the Ant sources.\n   Fix: Look in the ANT_HOME/lib for the 'ant-' JAR corresponding to the\n     task and make sure it contains more than merely a META-INF/MANIFEST.MF.\n     If all it contains is the manifest, then rebuild Ant with the needed\n     libraries present in ${ant.home}/lib/optional/ , or alternatively,\n     download a pre-built release version from apache.org\n - The build file was written for a later version of Ant\n   Fix: upgrade to at least the latest release version of Ant\n - The task is not an Ant core or optional task\n     and needs to be declared using <taskdef>.\n - You are attempting to use a task defined using\n    <presetdef> or <macrodef> but have spelt wrong or not\n   defined it at the point of use\n\nRemember that for JAR files to be visible to Ant tasks implemented\nin ANT_HOME/lib, the files must be in the same directory or on the\nclasspath\n\nPlease neither file bug reports on this problem, nor email the\nAnt mailing lists, until all of these causes have been explored,\nas this is not an Ant bug.\n\nTotal time: 2 seconds\njacykm@leopard:/tmp/antjunit>\n\njacykm@leopard:/tmp/antjunit> ant -version\nApache Ant version 1.7alpha compiled on January 30 2005\n\njacykm@leopard:/tmp/antjunit>\njacykm@leopard:/tmp/antjunit> ant -diagnostics\n------- Ant diagnostics report -------\nApache Ant version 1.7alpha compiled on January 30 2005\n\n-------------------------------------------\n Implementation Version\n-------------------------------------------\ncore tasks     : 1.7\noptional tasks : 1.7\n\n-------------------------------------------\n ANT_HOME/lib jar listing\n-------------------------------------------\nant.home: /phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha\nant-antlr.jar (5759 bytes)\nant-apache-bcel.jar (8573 bytes)\nant-apache-bsf.jar (14615 bytes)\nant-apache-log4j.jar (3024 bytes)\nant-apache-oro.jar (47733 bytes)\nant-apache-regexp.jar (3723 bytes)\nant-apache-resolver.jar (4066 bytes)\nant-commons-logging.jar (3861 bytes)\nant-commons-net.jar (34880 bytes)\nant-icontract.jar (450 bytes)\nant-jai.jar (450 bytes)\nant-javamail.jar (6735 bytes)\nant-jdepend.jar (8103 bytes)\nant-jmf.jar (6588 bytes)\nant-jsch.jar (22442 bytes)\nant-junit.jar (74241 bytes)\nant-launcher.jar (9115 bytes)\nant-netrexx.jar (450 bytes)\nant-nodeps.jar (411889 bytes)\nant-starteam.jar (450 bytes)\nant-stylebook.jar (450 bytes)\nant-swing.jar (6686 bytes)\nant-trax.jar (68597 bytes)\nant-vaj.jar (450 bytes)\nant-weblogic.jar (450 bytes)\nant-xalan1.jar (450 bytes)\nant-xslp.jar (450 bytes)\nant.jar (1053872 bytes)\nxercesImpl.jar (1010675 bytes)\nxml-apis.jar (108484 bytes)\n\n-------------------------------------------\n USER_HOME/.ant/lib jar listing\n-------------------------------------------\nuser.home: /phoebe_home/jacykm\nNo such directory.\n\n-------------------------------------------\n Tasks availability\n-------------------------------------------\nimage : Not Available\nsshexec : Missing dependency com.jcraft.jsch.UserInfo\nwlrun : Not Available\nicontract : Not Available\nscp : Missing dependency com.jcraft.jsch.UserInfo\nvajload : Not Available\nstlist : Not Available\nlibraries : Not Available\nnetrexxc : Not Available\nstarteam : Not Available\nstylebook : Not Available\nstlabel : Not Available\njdepend : Missing dependency jdepend.xmlui.JDepend\njunit : Missing dependency junit.framework.Test\nstcheckin : Not Available\nvajexport : Not Available\nstcheckout : Not Available\nejbc : Not Available\nvajimport : Not Available\nwlstop : Not Available\nddcreator : Not Available\n\n-------------------------------------------\n org.apache.env.Which diagnostics\n-------------------------------------------\nNot available.\nDownload it at http://xml.apache.org/commons/\n\n-------------------------------------------\n XML Parser information\n-------------------------------------------\nXML Parser : org.apache.xerces.jaxp.SAXParserImpl\nXML Parser Location: /phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/\nxercesImpl.jar\n\n-------------------------------------------\n System properties\n-------------------------------------------\njava.runtime.name : Java(TM) 2 Runtime Environment, Standard Edition\nsun.boot.library.path : /phoebe_home/jacykm/bin/Linux/j2sdk1.4.2_06/jre/lib/i386\njava.vm.version : 1.4.2_06-b03\nant.library.dir : /phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib\njava.vm.vendor : Sun Microsystems Inc.\njava.vendor.url : http://java.sun.com/\npath.separator : :\njava.vm.name : Java HotSpot(TM) Client VM\nfile.encoding.pkg : sun.io\nuser.country : GB\nsun.os.patch.level : unknown\njava.vm.specification.name : Java Virtual Machine Specification\nuser.dir : /tmp/antjunit\njava.runtime.version : 1.4.2_06-b03\njava.awt.graphicsenv : sun.awt.X11GraphicsEnvironment\njava.endorsed.dirs : /phoebe_home/jacykm/bin/Linux/j2sdk1.4.2_06/jre/lib/\nendorsed\nos.arch : i386\njava.io.tmpdir : /tmp\nline.separator :\n\njava.vm.specification.vendor : Sun Microsystems Inc.\nos.name : Linux\nant.home : /phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha\nsun.java2d.fontpath :\njava.library.path : /phoebe_home/jacykm/bin/Linux/j2sdk1.4.2_06/jre/lib/i386/\nclient:/phoebe_home/jacykm/bin/Linux/j2sdk1.4.2_06/jre/lib/i386:/phoebe_home/\njacykm/bin/Linux/j2sdk1.4.2_06/jre/../lib/i386:/usr/oracle/8.1.7/lib\njava.specification.name : Java Platform API Specification\njava.class.version : 48.0\njava.util.prefs.PreferencesFactory : java.util.prefs.\nFileSystemPreferencesFactory\nos.version : 2.4.18-3bigmem\nuser.home : /phoebe_home/jacykm\nuser.timezone :\njava.awt.printerjob : sun.print.PSPrinterJob\nfile.encoding : ISO-8859-15\njava.specification.version : 1.4\nuser.name : jacykm\njava.class.path : /phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-\nlauncher.jar:/phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-antlr.\njar:/phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-apache-bcel.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-apache-bsf.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-apache-log4j.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-apache-oro.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-apache-regexp.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-apache-resolver.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-commons-logging.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-commons-net.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-icontract.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-jai.jar:/phoebe_home/\njacykm/bin/tools/apache-ant-1.7alpha/lib/ant-javamail.jar:/phoebe_home/jacykm/\nbin/tools/apache-ant-1.7alpha/lib/ant-jdepend.jar:/phoebe_home/jacykm/bin/tools/\napache-ant-1.7alpha/lib/ant-jmf.jar:/phoebe_home/jacykm/bin/tools/apache-ant-1.\n7alpha/lib/ant-jsch.jar:/phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/\nant-junit.jar:/phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-\nlauncher.jar:/phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-netrexx.\njar:/phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-nodeps.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-starteam.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-stylebook.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant-swing.jar:/phoebe_home/\njacykm/bin/tools/apache-ant-1.7alpha/lib/ant-trax.jar:/phoebe_home/jacykm/bin/\ntools/apache-ant-1.7alpha/lib/ant-vaj.jar:/phoebe_home/jacykm/bin/tools/apache-\nant-1.7alpha/lib/ant-weblogic.jar:/phoebe_home/jacykm/bin/tools/apache-ant-1.\n7alpha/lib/ant-xalan1.jar:/phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/\nant-xslp.jar:/phoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/ant.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/xercesImpl.jar:/\nphoebe_home/jacykm/bin/tools/apache-ant-1.7alpha/lib/xml-apis.jar:/phoebe_home/\njacykm/bin/Linux/j2sdk1.4.2_06/lib/tools.jar\njava.vm.specification.version : 1.0\nsun.arch.data.model : 32\njava.home : /phoebe_home/jacykm/bin/Linux/j2sdk1.4.2_06/jre\njava.specification.vendor : Sun Microsystems Inc.\nuser.language : en\njava.vm.info : mixed mode\njava.version : 1.4.2_06\njava.ext.dirs : /phoebe_home/jacykm/bin/Linux/j2sdk1.4.2_06/jre/lib/ext\nsun.boot.class.path : /phoebe_home/jacykm/bin/Linux/j2sdk1.4.2_06/jre/lib/rt.\njar:/phoebe_home/jacykm/bin/Linux/j2sdk1.4.2_06/jre/lib/i18n.jar:/phoebe_home/\njacykm/bin/Linux/j2sdk1.4.2_06/jre/lib/sunrsasign.jar:/phoebe_home/jacykm/bin/\nLinux/j2sdk1.4.2_06/jre/lib/jsse.jar:/phoebe_home/jacykm/bin/Linux/j2sdk1.4.\n2_06/jre/lib/jce.jar:/phoebe_home/jacykm/bin/Linux/j2sdk1.4.2_06/jre/lib/\ncharsets.jar:/phoebe_home/jacykm/bin/Linux/j2sdk1.4.2_06/jre/classes\njava.vendor : Sun Microsystems Inc.\nfile.separator : /\njava.vendor.url.bug : http://java.sun.com/cgi-bin/bugreport.cgi\nsun.cpu.endian : little\nsun.io.unicode.encoding : UnicodeLittle\nsun.cpu.isalist :\n\njacykm@leopard:/tmp/antjunit>"}, {"count": 1, "tags": [], "bug_id": 33428, "attachment_id": 14195, "text": "Created attachment 14195\nFile build.xml which fails.", "id": 70581, "time": "2005-02-07T18:12:46Z", "creator": "mjac@gmx.net", "creation_time": "2005-02-07T18:12:46Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 33428, "attachment_id": null, "text": "Please read\nhttp://ant.apache.org/faq.html#delegating-classloader\ncarefully.", "id": 70582, "time": "2005-02-07T18:18:21Z", "creator": "peterreilly@apache.org", "creation_time": "2005-02-07T18:18:21Z", "is_private": false}]