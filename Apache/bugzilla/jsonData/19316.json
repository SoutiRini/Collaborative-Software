[{"count": 0, "tags": [], "creator": "sigmunds+apache@iu.hio.no", "is_private": false, "id": 36073, "creation_time": "2003-04-25T11:02:25Z", "time": "2003-04-25T11:02:25Z", "bug_id": 19316, "text": "This is related to Bug# 8867. I first got the errors from that bug when\ncompiling in a symlink'ed directory. I thereafter tried compiling (./configure;\nmake; no options) in a non-symlink'ed dir, and got:\n[...]\n/home/sigmunds/httpd-2.0.45/server/exports.c:145: `ap_get_module_config'\nundeclared here (not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:146: `ap_set_module_config'\nundeclared here (not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:486: `ap_strchr' undeclared here\n(not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:487: `ap_strchr_c' undeclared here\n(not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:488: `ap_strrchr' undeclared here\n(not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:489: `ap_strrchr_c' undeclared here\n(not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:490: `ap_strstr' undeclared here\n(not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:491: `ap_strstr_c' undeclared here\n(not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:937: `apr_filepath_list_split'\nundeclared here (not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:938: `apr_filepath_list_merge'\nundeclared here (not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:1391:\n`apr_procattr_child_errfn_set' undeclared here (not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:1392:\n`apr_procattr_error_check_set' undeclared here (not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:1402: `apr_proc_other_child_alert'\nundeclared here (not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:1403:\n`apr_proc_other_child_refresh' undeclared here (not in a function)\n/home/sigmunds/httpd-2.0.45/server/exports.c:1404:\n`apr_proc_other_child_refresh_all' undeclared here (not in a function)\nmake[2]: *** [/home/sigmunds/httpd-2.0.45/server/exports.lo] Error 1\nmake[2]: Leaving directory `/home/sigmunds/httpd-2.0.45/server'\nmake[1]: *** [all-recursive] Error 1\nmake[1]: Leaving directory `/home/sigmunds/httpd-2.0.45/server'\nmake: *** [all-recursive] Error 1\n\nI have not used this bug-reporting system before; please mail me if further\ninformation is needed.\nSystem is Solaris 9 on UltraSPARC-II.\n2.0.44 installed without any problems.\n\nRegards,\nSigmund", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 19316, "is_private": false, "text": "I have the same problem on PC / Linux httpd ver 2.0.44 compiles fine and 2.0.45\noutputs some identical lines. I'm trying to build httpd in a chrooted\nenvironement using the following notes :\n\n# mkdir -p /usr/chroot/www\n# CHOST=\"i686-pc-linux-gnu\"\n# CFLAGS=\"-march=i686 -O3 -pipe\"\n# CXXFLAGS=\"${CFLAGS}\"\n# export CHOST CFLAGS CXXFLAGS\n\n# cd /tmp\n# tar zxf expat-1.95.6.tar.gz\n# cd expat-1.95.6\n# ./configure --prefix=/# make\n# make prefix=/usr/chroot/www install\n# make prefix=/usr/chroot/www installlib\n# strip --strip-debug /usr/chroot/www/bin/xmlwf\n\n# cd /tmp\n# tar zxf openssl-0.9.6i.tar.gz\n# cd openssl-0.9.6i\n# ./Configure --prefix=/ linux-elf\n# make all\n# make INSTALL_PREFIX=/usr/chroot/www install\n# strip --strip-debug /usr/chroot/www/bin/openssl\n\n# cd /tmp\n# tar zxf zlib-1.1.4.tar.gz\n# cd zlib-1.1.4\n# ./configure --shared --prefix=/\n# make \n# make prefix=/usr/chroot/www install\n\n# cd /tmp\n# tar zxf db-4.1.25.tar.gz\n# cd db-4.1.25\n# patch -p0 < ../patch.4.1.25.1\n# cd dist\n# ./configure --prefix=/ --datadir=/usr/share --enable-cxx\n# make \n# make prefix=/usr/chroot/www install\n# strip --strip-debug /usr/chroot/www/bin/db_*\n\n# cd /tmp\n# tar zxf httpd-2.0.45.tar.gz\n# cd httpd-2.0.45\n# export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/chroot/www/lib\n# ./configure --prefix=/ \\\n  --enable-auth-digest \\\n  --with-perl=/usr/bin/perl \\\n  --with-expat=/usr/chroot/www \\\n  --with-ssl=/usr/chroot/www \\\n  --with-z=/usr/chroot/www/lib \\\n  --disable-userdir \\\n  --enable-ssl \\\n  --enable-so \\\n  --enable-cgi\n# make \n\nI obtain these errors :\n\n[...]\n/bin/sh /tmp/httpd-2.0.45/srclib/apr/libtool --silent --mode=compile gcc  -g -O2\n-pthread    -DLINUX=2 -D_REENTRANT -D_XOPEN_SOURCE=500 -D_BSD_SOURCE\n-D_SVID_SOURCE -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER  \n-I/tmp/httpd-2.0.45/srclib/apr/include\n-I/tmp/httpd-2.0.45/srclib/apr-util/include -I/usr/chroot/www/include -I.\n-I/tmp/httpd-2.0.45/os/unix -I/tmp/httpd-2.0.45/server/mpm/prefork\n-I/tmp/httpd-2.0.45/modules/http -I/tmp/httpd-2.0.45/modules/filters\n-I/tmp/httpd-2.0.45/modules/proxy -I/tmp/httpd-2.0.45/include\n-I/usr/chroot/www/include/openssl -I/tmp/httpd-2.0.45/modules/dav/main\n-prefer-non-pic -static -c /tmp/httpd-2.0.45/server/exports.c && touch\n/tmp/httpd-2.0.45/server/exports.lo\n/tmp/httpd-2.0.45/server/exports.c:146: `ap_get_module_config' undeclared here\n(not in a function)\n/tmp/httpd-2.0.45/server/exports.c:147: `ap_set_module_config' undeclared here\n(not in a function)\n/tmp/httpd-2.0.45/server/exports.c:330: `ap_strchr' undeclared here (not in a\nfunction)\n/tmp/httpd-2.0.45/server/exports.c:331: `ap_strchr_c' undeclared here (not in a\nfunction)\n/tmp/httpd-2.0.45/server/exports.c:332: `ap_strrchr' undeclared here (not in a\nfunction)\n/tmp/httpd-2.0.45/server/exports.c:333: `ap_strrchr_c' undeclared here (not in a\nfunction)\n/tmp/httpd-2.0.45/server/exports.c:334: `ap_strstr' undeclared here (not in a\nfunction)\n/tmp/httpd-2.0.45/server/exports.c:335: `ap_strstr_c' undeclared here (not in a\nfunction)\nmake[2]: *** [/tmp/httpd-2.0.45/server/exports.lo] Error 1\n\nRegards,", "id": 37694, "time": "2003-05-23T21:08:47Z", "creator": "claer@unixlover.com", "creation_time": "2003-05-23T21:08:47Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "sigmunds+apache@iu.hio.no", "is_private": false, "id": 38046, "creation_time": "2003-05-30T13:44:20Z", "time": "2003-05-30T13:44:20Z", "bug_id": 19316, "text": "This problem is still present in 2.0.46.\n\nSigmund", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 19316, "attachment_id": null, "id": 38620, "time": "2003-06-09T19:41:07Z", "creator": "d.m.cooke@larc.nasa.gov", "creation_time": "2003-06-09T19:41:07Z", "is_private": false, "text": "I see these same errors with httpd-2.0.46 on Irix 6.5.18m with MIPSPro compiler 7.4.\n"}, {"count": 4, "tags": [], "creator": "antenore.gatta@consultant.vodafoneomnitel.it", "is_private": false, "text": "Hi...\n\nI have the same problem on Solaris 8 (SPARC) ...\n\nOn the same machine I have an other installation of apache 2.0.44 and I cannot\nremove it...\n\nI compile apache with this option:\n./configure --prefix=/app/apache --enable-so --enable-mods-shared-all\n--with-ssl=/app/openssl\n\nThe apache 2.0.44 is in prefix=/opt/httpd\n\nTanks...", "id": 38650, "time": "2003-06-10T09:13:59Z", "bug_id": 19316, "creation_time": "2003-06-10T09:13:59Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "d.m.cooke@larc.nasa.gov", "attachment_id": null, "text": "OK.  Here's an odd bit of info for ya...\nFirst: Apache 2.0.46, Irix 6.5.18m, MIPSPro C 7.4\n\nAs I noted before, I get these same unresolved symbols.\n\nI have Apache 2.0.44 installed and running.  I decided to stop it and uninstall\nit.  After Apache 2.0.44 was uninstalled, I was able to build Apache 2.0.46\nsuccessfully.  Yuck!", "id": 38681, "time": "2003-06-10T14:57:51Z", "bug_id": 19316, "creation_time": "2003-06-10T14:57:51Z", "is_private": false}, {"count": 6, "attachment_id": null, "bug_id": 19316, "text": "As reported on Bug# 8867 the problem, I think, was on installing apache in a\nsymbolic link.\n\nTo resolve the problem try this\n\ncd to/dir/apache-sources\n\npwd -P\n\ncd to/result/dir\n\n./configure --prefix=/absolute/path/wanted --enable-wath-you-want", "id": 38714, "time": "2003-06-11T07:51:50Z", "creator": "antenore.gatta@consultant.vodafoneomnitel.it", "creation_time": "2003-06-11T07:51:50Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "creator": "sigmunds+apache@iu.hio.no", "is_private": false, "id": 38718, "creation_time": "2003-06-11T09:04:21Z", "time": "2003-06-11T09:04:21Z", "bug_id": 19316, "text": "To antenore: If you reread my initial bug report, you'll see that I have tried\ncompiling in a non-symlinked directory.\n\nRe: David Cooke: I also had v2.0.44 installed when I tried compiling 45 and 46,\nand  your \"odd bit\" reminded me of similar problems (other programs) that have\nbeen caused by involuntary inclusion of header files from older versions, so I\ntried hiding the include-directory of the earlier apache versions and now it\ncompiles. (ie: If the earlier apache is installed under /usr/local, do mv\n/usr/local/include /usr/local/_include; configure; make).", "attachment_id": null}, {"count": 8, "tags": [], "creator": "claer@unixlover.com", "attachment_id": null, "id": 40350, "creation_time": "2003-07-10T15:03:19Z", "time": "2003-07-10T15:03:19Z", "bug_id": 19316, "text": "Hi, \n\nLooks like it works for me with 2.0.47 on linux changing 2.0.45 with 2.0.47 in\nmy first post. I don't remember if the previous attempts used a clean\ndestination directory as today's attempt.\n\n\nClaer", "is_private": false}, {"count": 9, "attachment_id": null, "bug_id": 19316, "is_private": false, "id": 41284, "time": "2003-07-24T13:21:10Z", "creator": "sigmunds+apache@iu.hio.no", "creation_time": "2003-07-24T13:21:10Z", "tags": [], "text": "It seems this may not be a bug after all, but a result of unconventional site\nsetup. I have installed v3.3 of gcc with other options, and apache v2.0.47 just\ncompiled (the symlink bug is still present).\n\nOf course, there is no reason why 2.0.45 should fail to compile, when 2.0.44 did\nnot, but I can no longer reproduce the problem.\n\nI'll try to alter resolution to invalid.\n\nRegards,\nSigmund"}]