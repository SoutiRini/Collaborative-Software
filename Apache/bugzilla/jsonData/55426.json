[{"count": 0, "tags": [], "bug_id": 55426, "attachment_id": null, "text": "General apache version 2.4 using webdav module closes connection before sending the webdav html response after a PUT action.\n\nMaking the same action on apache 2.0 the connection closes after the html response, as shown below:\n\nApache 2.0.59\n\n[root@aserver lrojo]# curl -I -T /etc/passwd http://url/0/teste60 --verbose\n* About to connect() to url port 80 (#0)\n*   Trying 10.129.138.57... connected\n* Connected to url (10.129.138.57) port 80 (#0)\n> PUT /0/teste60 HTTP/1.1\n> User-Agent: curl/7.19.7 (x86_64-unknown-linux-gnu) libcurl/7.19.7 NSS/3.12.7.0 zlib/1.2.3 libidn/1.18 libssh2/1.2.2\n> Host: url\n> Accept: */*\n> Content-Length: 11795\n> Expect: 100-continue\n> \n< HTTP/1.1 100 Continue\nHTTP/1.1 100 Continue\n\n< HTTP/1.1 201 Created\nHTTP/1.1 201 Created\n< Date: Fri, 16 Aug 2013 00:00:20 GMT\nDate: Fri, 16 Aug 2013 00:00:20 GMT\n< Server: Apache/2.0.59 (Unix) DAV/2\nServer: Apache/2.0.59 (Unix) DAV/2\n< Location: http://url/0/teste60\nLocation: http://url/0/teste60\n< Cache-Control: max-age=2592000, public\nCache-Control: max-age=2592000, public\n< Expires: Fri, 16 Aug 2013 00:00:20 GMT\nExpires: Fri, 16 Aug 2013 00:00:20 GMT\n< X-Content-Type-Options: nosniff\nX-Content-Type-Options: nosniff\n< Pragma: no-cache\nPragma: no-cache\n< Pragma: no-store\nPragma: no-store\n< Content-Length: 182\nContent-Length: 182\n< Connection: close\nConnection: close\n< Content-Type: text/html\nContent-Type: text/html\n\n< \n<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n<html><head>\n<title>201 Created</title>\n</head><body>\n<h1>Created</h1>\n<p>Resource /0/teste60 has been created.</p>\n</body></html>\n* Closing connection #0\n\nApache 2.4\n\n[root@a2-zencodex1 lrojo]# curl -I -T /etc/passwd http://url/0/teste60 --verbose\n* About to connect() to url port 80 (#0)\n*   Trying 10.129.138.73... connected\n* Connected to url (10.129.138.73) port 80 (#0)\n> PUT /0/teste60 HTTP/1.1\n> User-Agent: curl/7.19.7 (x86_64-unknown-linux-gnu) libcurl/7.19.7 NSS/3.12.7.0 zlib/1.2.3 libidn/1.18 libssh2/1.2.2\n> Host: url\n> Accept: */*\n> Content-Length: 11795\n> Expect: 100-continue\n> \n< HTTP/1.1 100 Continue\nHTTP/1.1 100 Continue\n\n< HTTP/1.1 201 Created\nHTTP/1.1 201 Created\n< Date: Thu, 15 Aug 2013 23:59:47 GMT\nDate: Thu, 15 Aug 2013 23:59:47 GMT\n< Server: Apache\nServer: Apache\n< Location: http://url/0/teste60\nLocation: http://url/0/teste60\n< Cache-Control: max-age=2592000, public\nCache-Control: max-age=2592000, public\n< Expires: Thu, 15 Aug 2013 23:59:47 GMT\nExpires: Thu, 15 Aug 2013 23:59:47 GMT\n< X-Content-Type-Options: nosniff\nX-Content-Type-Options: nosniff\n< Pragma: no-cache\nPragma: no-cache\n< Pragma: no-store\nPragma: no-store\n< Content-Length: 71\nContent-Length: 71\n< Content-Type: text/html; charset=ISO-8859-1\nContent-Type: text/html; charset=ISO-8859-1\n\n< \n<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n<html><head>\n* Connection #0 to host url left intact\n* Closing connection #0", "id": 169483, "time": "2013-08-16T00:05:18Z", "creator": "luizflaviorojo@gmail.com", "creation_time": "2013-08-16T00:05:18Z", "is_private": false}, {"count": 1, "text": "I've been able to reproduce this problem and it's caused by this commit:\n\nhttp://svn.apache.org/viewvc/httpd/httpd/trunk/modules/dav/main/mod_dav.c?r1=332306&r2=377292&diff_format=h\n\nReverting this commit fixes this bug.", "bug_id": 55426, "is_private": false, "id": 169894, "time": "2013-09-04T06:34:28Z", "creator": "jkaluza@redhat.com", "creation_time": "2013-09-04T06:34:28Z", "tags": [], "attachment_id": null}, {"count": 2, "text": "Fixed in r1527509", "creator": "jkaluza@redhat.com", "is_private": false, "id": 170357, "time": "2013-09-30T10:38:23Z", "bug_id": 55426, "creation_time": "2013-09-30T10:38:23Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "creator": "ylavic.dev@gmail.com", "text": "Backported to 2.4.11 in r1634519.", "id": 180520, "time": "2015-01-23T10:12:01Z", "bug_id": 55426, "creation_time": "2015-01-23T10:12:01Z", "is_private": false, "attachment_id": null}]