[{"count": 0, "tags": [], "creator": "david@davidkarlsen.com", "is_private": false, "text": "JavaEnvUtils.getJavaVersion() returns 1.4 when executing on a 1.5.0_11 sun jdk, \nreturning \"1.5.0_11\" java System.getProperty(\"java.version\")", "id": 100283, "time": "2007-03-11T13:15:11Z", "bug_id": 41814, "creation_time": "2007-03-11T13:15:11Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 41814, "attachment_id": null, "text": "I tried several tests on windows:\n\npublic class Main {\n    public static void main(String[] args) {\n        String javaVersion =\norg.apache.tools.ant.util.JavaEnvUtils.getJavaVersion();\n        System.out.println(\"Java-Version: '\" + javaVersion + \"'\");\n    }\n}\n\n\n\nClassic VM (build JDK-1.2.1_004, native threads)\n==> Java-Version: '1.2'\n\nJava HotSpot(TM) Client VM (build 1.3.0-C, mixed mode)\n==> Java-Version: '1.3'\n\nJava HotSpot(TM) Client VM (build 1.4.2_13-b06, mixed mode)\n==> Java-Version: '1.4'\n\nJava HotSpot(TM) Client VM (build 1.5.0_10-b03, mixed mode, sharing)\n==> Java-Version: '1.5'\n\nJava HotSpot(TM) Client VM (build 1.6.0-b105, mixed mode, sharing)\n==> Java-Version: '1.6'\n\nJava HotSpot(TM) Client VM (build 1.7.0-ea-b04, mixed mode, sharing)\n==> Java-Version: '1.6'\n\n\nSo I cant reproduce the error. (Java1.7 is alpha, so I would not trust that)\n\n", "id": 100312, "time": "2007-03-12T09:39:05Z", "creator": "jan@materne.de", "creation_time": "2007-03-12T09:39:05Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 41814, "is_private": false, "text": "Just tested with linux and jdk1.5.0_11, and 1.5 is returned.\nMarking as \"worksforme\".\n<project name=\"p\" default=\"r\">\n  <target name=\"build\">\n    <mkdir dir=\"classes\"/>\n    <javac destdir=\"classes\"\n           srcdir=\"src\"\n           target=\"1.4\"\n           source=\"1.4\"\n           debug=\"yes\"/>\n  </target>\n  <target name=\"r\" depends=\"build\">\n    <java classname=\"Main\">\n      <classpath>\n        <path path=\"classes\"/>\n        <path path=\"${ant.home}/lib/ant.jar\"/>\n      </classpath>\n    </java>\n  </target>\n</project>\n", "id": 100314, "time": "2007-03-12T11:17:30Z", "creator": "peterreilly@apache.org", "creation_time": "2007-03-12T11:17:30Z", "attachment_id": null}]