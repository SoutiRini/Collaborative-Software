[{"count": 0, "tags": [], "bug_id": 16983, "attachment_id": null, "id": 31104, "time": "2003-02-12T08:37:51Z", "creator": "tobias@telenorlink.se", "creation_time": "2003-02-12T08:37:51Z", "is_private": false, "text": "I believe the problem lies in the implementation of getContext(String) \nin the class org.apache.catalina.core.ApplicationContext. I studied the \nsource and traced the problem to the following lines (starting at line 442):\n\nString contextPath = context.getPath();\nif (!contextPath.endsWith(\"/\"))\n    contextPath = contextPath + \"/\";\nif ((contextPath.length() > 0) && (uri.startsWith(contextPath))) {\n    return (this);\n}\n\nIf the contextPath is \"\" (root), the above code will always return the \ncurrent context (since contextPath.length() > 0 will always be true). \nA fix could be to replace the last if-statement with, for instance, the \nfollowing:\n\nif ( ((contextPath.length() > 1) && (uri.startsWith(contextPath))) ||\n       contextPath.equals(uri) ) {\n            return (contextPath);\n}"}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 36065, "time": "2003-04-25T09:33:22Z", "bug_id": 16983, "creation_time": "2003-04-25T09:33:22Z", "is_private": false, "text": "The hack has been introduced in Tomcat 4.1.20."}]