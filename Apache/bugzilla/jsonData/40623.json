[{"count": 0, "tags": [], "creator": "rpgoldman@sift.info", "attachment_id": null, "is_private": false, "id": 94193, "time": "2006-09-28T02:37:07Z", "bug_id": 40623, "creation_time": "2006-09-28T02:37:07Z", "text": "The ant shell script can overwrite the ANT_HOME environment variable with a\nsystem default (instead of vice versa).  This happens because the shell script\nwill load /etc/ant.conf.\nThis can easily happen if the user installs a personal copy of ant (e.g.,\n~/apache-ant-1.6.5), and there is also a shared copy of ant (e.g., /usr/share/ant).\nThe overwriting is very bad, because (1) the documentation says nothing about\nthe possibility.  I had ant experts bonking their heads on this problem and none\nof them could figure it out.  (2) it can manifest itself in being unable to run\nsome operations because of getting the wrong ${ANT_HOME}/lib directory. (3) the\nuser has the right to expect that a variable explicitly and consciously set\n(especially following documentation) should override a system default.  The\nbin/ant shell script can crush this setting, because it loads environment\nvariables from /etc/ant.conf"}, {"count": 1, "attachment_id": null, "bug_id": 40623, "text": "Ant 1.7 now whines about /etc/ant.conf overwritting ANT_HOME\n\nWarning: ANT_HOME has been overridden by /etc/ant.conf\n      from $orig_ant_home to $ANT_HOME\n      Use ant -noconfig if this is not desired.\n\n/etc/ant.conf is not provided by ant, it is provided by\nthe jpackage project. Please raise a bug against them.\n\nThey should do ANT_HOME=${ANT_HOME:-/usr/share/ant} \ninstead of ANT_HOME=/usr/share/ant\n\nThe importing of /etc/ant.conf has been done for over four years\nso it cannot be removed without issues...\n\nhttp://svn.apache.org/viewvc/ant/core/trunk/src/script/ant?r1=272279&r2=272589&diff_format=h\n\n*** This bug has been marked as a duplicate of 31278 ***", "id": 94210, "time": "2006-09-28T08:30:05Z", "creator": "peterreilly@apache.org", "creation_time": "2006-09-28T08:30:05Z", "tags": [], "is_private": false}]