[{"count": 0, "tags": [], "bug_id": 49978, "attachment_id": null, "id": 140078, "time": "2010-09-22T14:11:28Z", "creator": "jfrederic@dmotorworks.com", "creation_time": "2010-09-22T14:11:28Z", "is_private": false, "text": "In WebappLoader.setRepositories(), if the war is not unpacked, it tries to create a directory /WEB-INF/classes inside the workDir.  If that directory already exists, an error is thrown and the webapp does not start.\n\nThis is a change from 5.5, which didn't check the return value of classRepository.mkdirs().  mkdirs() returns false if the directories already exist.  I doubt it was the intention here.  Probably the intention was to throw an exception if the directory could not be created, rather than if it already existed."}, {"count": 1, "tags": [], "bug_id": 49978, "attachment_id": null, "id": 140561, "time": "2010-10-07T10:22:32Z", "creator": "markt@apache.org", "creation_time": "2010-10-07T10:22:32Z", "is_private": false, "text": "Fixed in trunk and will be in 7.0.4 onwards."}, {"count": 2, "tags": [], "bug_id": 49978, "attachment_id": null, "id": 143770, "time": "2011-01-28T18:05:22Z", "creator": "kristof@batizy.com", "creation_time": "2011-01-28T18:05:22Z", "is_private": false, "text": "I am seeing this, or similar, on Windows XP (32 bit) 7.0.6 under the same conditions (unpackWars=false)\n\nSEVERE: LifecycleException\njava.io.IOException: Failed to copy resources\n        at org.apache.catalina.loader.WebappLoader.setRepositories(WebappLoader.java:890)\n        at org.apache.catalina.loader.WebappLoader.startInternal(WebappLoader.java:601)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4857)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:812)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:787)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:583)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:917)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:715)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:469)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1294)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:310)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:343)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:323)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1043)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:750)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1035)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:291)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:442)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:674)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:600)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:303)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:431)"}, {"count": 3, "tags": [], "creator": "markt@apache.org", "text": "Yep, there was another similar issue in the same area. Fixed in 7.0.x and will be in 7.0.7 onwards.", "id": 143776, "time": "2011-01-28T19:01:31Z", "bug_id": 49978, "creation_time": "2011-01-28T19:01:31Z", "is_private": false, "attachment_id": null}]