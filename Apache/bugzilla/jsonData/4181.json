[{"count": 0, "tags": [], "creator": "dennis.munsie@bea.com", "text": "The datetime tag library that is depending on a broken feature in Tomcat and \nother servers (WLS 5.1, for example).  With servers that properlly implement \nthe JSP 1.2 specification, this library will not work.\n\nThe following JSP code will not work:\n\n<date:format pattern=\"MM/dd/yyyy\" date=\"<%=new Date()%>\"/>\n\nThe output is:\nnull\n\nThe format tag is using the doAfterBody() call to place it's output into the \nJSP.  But, since there is no body in the tag, the doAfterBody() function is not \ncalled.\n\nFrom looking at the code, the fix would be to have the code that is in the \ndoAfterBody() function be done in the doEnd() function instead (minus the code \nthat actually processes the body).\n\nThe problem is occuring because the tag library is doing all of the date \nformating within the doAfterBody() function, and the specification says \nthat \"The method (doAfterBody()) is not invoked if there is no body evaluation\" \n(section 10.1.2.2 of the JSP specifcation).  Since the function is not called, \nthe variable date_formatted in the tag library is never set, causing the null \nthat is being returned.", "id": 6723, "time": "2001-10-15T14:03:17Z", "bug_id": 4181, "creation_time": "2001-10-15T14:03:17Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "glenn@apache.org", "attachment_id": null, "id": 12806, "time": "2002-04-04T18:03:01Z", "bug_id": 4181, "creation_time": "2002-04-04T18:03:01Z", "is_private": false, "text": "Thanks for reporting this. The output for the format tag is now done in the\ndoEnd() instead of doAfterBody(). This change was made 2/23/2002."}]