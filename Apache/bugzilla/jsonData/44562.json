[{"count": 0, "tags": [], "bug_id": 44562, "is_private": false, "text": "See https://issues.apache.org/jira/browse/GERONIMO-3896\n\nbriefly...\n\ntomcat complains:\nServlet.service() for servlet SimpleDispatchServlet threw exception\njavax.servlet.ServletException: Original SevletResponse or wrapped original ServletResponse not passed to\nRequestDispatcher in violation of SRV.8.2 and SRV.14.2.5.1\n        at org.apache.catalina.core.ApplicationDispatcher.checkSameObjects(ApplicationDispatcher.java:985)\n...\n\nThe relevant code seems to be in javax.servlet.http.HttpServlet\n\n    protected void doHead(HttpServletRequest req, HttpServletResponse resp)\n\tthrows ServletException, IOException\n    {\n\tNoBodyResponse response = new NoBodyResponse(resp);\n\t\n\tdoGet(req, response);\n\tresponse.setContentLength();\n    }\n\n\nwhich is fine but\n\nclass NoBodyResponse implements HttpServletResponse {\n\n\nrather than\nclass NoBodyResponse extends HttpServletResponseWrapper {\n\nThe patch attached to the jira issue makes this change and adapts NoBodyResponse to be a subclass of HttpServletResponseWrapper and the user reports that it fixes the problem.   I don't know if there would be formatting issues applying the patch to tomcat's copy of the spec classes.", "id": 114429, "time": "2008-03-07T13:19:40Z", "creator": "djencks@apache.org", "creation_time": "2008-03-07T13:19:40Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 114448, "time": "2008-03-09T10:25:16Z", "bug_id": 44562, "creation_time": "2008-03-09T10:25:16Z", "is_private": false, "text": "Thanks for the patch. It has been applied to trunk and proposed for 6.0.x (and 5.5.x and 4.1.x)"}, {"count": 2, "tags": [], "creator": "markt@apache.org", "text": "This is fixed in 6.0.x and will be in 6.0.17 onwards.", "id": 114789, "attachment_id": null, "bug_id": 44562, "creation_time": "2008-03-19T16:16:36Z", "time": "2008-03-19T16:16:36Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 44562, "is_private": false, "text": "*** Bug 44829 has been marked as a duplicate of this bug. ***", "id": 115625, "time": "2008-04-16T00:18:27Z", "creator": "markt@apache.org", "creation_time": "2008-04-16T00:18:27Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "markt@apache.org", "text": "Still open for 5.5.x", "id": 116714, "time": "2008-05-16T11:00:24Z", "bug_id": 44562, "creation_time": "2008-05-16T11:00:24Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "text": "This has been fixed in 5.5.x and will be included in 5.5.27 onwards", "attachment_id": null, "bug_id": 44562, "id": 119128, "time": "2008-07-30T10:26:00Z", "creator": "markt@apache.org", "creation_time": "2008-07-30T10:26:00Z", "is_private": false}]