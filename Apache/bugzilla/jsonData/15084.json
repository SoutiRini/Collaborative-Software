[{"count": 0, "tags": [], "text": "If you have a jsp with a jspInit method, and you preload\nthis jsp, the jspInit method gets called, as it should,\nupon server startup. But now if you hit that jsp with your\nweb browser, Tomcat calls the jspInit method again.\n(If you hit the jsp a second time, it's ok, doesn't call jspInit a third time.)\nI will attach a war file that demonstrates this problem.\nSimply load this application (test_app.war) and two pages\n(preload1.jsp, preload2.jsp) each print out\nthat their jspInit methods are called.\nThen hit the pages (http://host:port/test_app/preload1.jsp, etc.)\nand see that they print out (to System.out) that their jspInit\nmethods are called once more.", "is_private": false, "bug_id": 15084, "id": 27433, "time": "2002-12-04T20:50:00Z", "creator": "steve5m@yahoo.com", "creation_time": "2002-12-04T20:50:00Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 4052\nWar file for test application", "is_private": false, "bug_id": 15084, "id": 27435, "time": "2002-12-04T20:51:43Z", "creator": "steve5m@yahoo.com", "creation_time": "2002-12-04T20:51:43Z", "attachment_id": 4052}, {"count": 2, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "text": "Actually, that's normal. Your have your JSP servlets defined, but they are not\nmapped to anything.\nSo they get initialized once.\nThen, when you actually access your JSP in the browser, you're invoking the main\nJSP servlet, mapped to *.jsp. So your JSP gets initilized again (as a different\nservlet).\nI think this is a duplicate.", "id": 27456, "time": "2002-12-05T09:45:35Z", "bug_id": 15084, "creation_time": "2002-12-05T09:45:35Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 15084, "attachment_id": null, "id": 27472, "time": "2002-12-05T17:33:35Z", "creator": "steve5m@yahoo.com", "creation_time": "2002-12-05T17:33:35Z", "is_private": false, "text": "Hi, I basically understand what you are saying, but\nI can tell you I've never seen any other servlet container\ndo it this way (call the init method twice) -- Tomcat 3.x\nnever did this, WebLogic 7 doesn't do this, Resin doesn't do\nthis. Are you sure this is really the way to do it?\nI think it's not good because suppose my init method does something\nfairly intensive, like load some data from a database - I don't\nwant this happending twice for no good reason.\nSorry to be a pain and reopen the bug, but I really question this.\nThanks."}, {"count": 4, "tags": [], "creator": "remm@apache.org", "is_private": false, "text": "*** Bug 18258 has been marked as a duplicate of this bug. ***", "id": 33660, "time": "2003-03-23T19:08:24Z", "bug_id": 15084, "creation_time": "2003-03-23T19:08:24Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 15084, "attachment_id": null, "is_private": false, "id": 50852, "time": "2004-01-20T22:44:35Z", "creator": "markt@apache.org", "creation_time": "2004-01-20T22:44:35Z", "text": "*** Bug 12985 has been marked as a duplicate of this bug. ***"}, {"count": 6, "tags": [], "creator": "markt@apache.org", "is_private": false, "text": "There is nothing I can see in the JSP spec about pre-loading. You are relying \non functionality outside of the spec to achieve wat you want. This is why you \nsee different behaviour in different containers. A safer approach would be to \npre-compile your JSPs before deployment (this is a sensible thing to do in \nproduction systems anyway) and then specify the pre-loading for your servlets.\n\nI am therefore going to close this bug as invalid. If you disagree with this \nassessment please feel free to re-open this bug but I would ask that you \ninclude a reference to the part of the JSP spec that you believe tomcat is not \nconforming to.", "id": 60115, "time": "2004-07-03T15:55:09Z", "bug_id": 15084, "creation_time": "2004-07-03T15:55:09Z", "attachment_id": null}]