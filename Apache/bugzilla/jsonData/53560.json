[{"count": 0, "tags": [], "creator": "f.bosch@genkgo.nl", "text": "System:\n- debian squeeze\n- openjdk\n- tomcat6\n- fop 1.1 rc1\n- attached the servlet\n\nFirst, build fop 1.0 from source with ant and deployed fop.war to tomcat6. Had problems, see https://bugs.launchpad.net/ubuntu/+source/fop/+bug/268930. Copying xml-apis-ext.jar to /var/lib/tomcat6/webapps/fop/WEB-INF/lib/ fixed the problem.\n\nThen, upgrading to fop 1.1rc1, also built from source, keeps saying:  Image not available. URI: [file]. Reason: org.apache.xmlgraphics.image.loader.ImageException: The file format is not supported.  No ImagePreloader found for [file]\n\nI feel that this is a build or dependency problem, because all libraries are in place.", "id": 160698, "time": "2012-07-17T20:03:43Z", "bug_id": 53560, "creation_time": "2012-07-17T20:03:43Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 53560, "text": "The first question you should ask yourself is \"did I provide all the essential information to understand this bug?\" Unfortunately, you fail to provide any information on what kind of image file format is a problem, you fail to provide an input FO test file, you fail to provide a console output. In other words, you failed to create a meaningful bug report. I should just mark this bug as INVALID, but instead I'll mark it as NEEDINFO.\n\nPlease read [1] before you proceed further.\n\n[1] http://www.chiark.greenend.org.uk/~sgtatham/bugs.html", "id": 160699, "time": "2012-07-17T20:40:04Z", "creator": "gadams@apache.org", "creation_time": "2012-07-17T20:40:04Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "Did you put imageio tools JAR in the class path? Some image formats require this library in order for FOP to process them. That's justa guess at the issue though and we really need the information requested by Glenn.", "attachment_id": null, "bug_id": 53560, "id": 160704, "time": "2012-07-18T07:50:23Z", "creator": "bowditch_chris@hotmail.com", "creation_time": "2012-07-18T07:50:23Z", "is_private": false}, {"count": 3, "tags": [], "creator": "f.bosch@genkgo.nl", "text": "Created attachment 29074\nconsole output", "id": 160707, "attachment_id": 29074, "bug_id": 53560, "creation_time": "2012-07-18T08:25:44Z", "time": "2012-07-18T08:25:44Z", "is_private": false}, {"count": 4, "tags": [], "creator": "f.bosch@genkgo.nl", "text": "Sorry for bad communication. I understand I left out essential information. It is SVG images that are not working. Please find attached console output. Because my FO input file contains client information I need to generate a FO test file which I will upload today.\n\nAs said, I feel that this is a build or dependency problem. When I run the FO file through the command line, as shown below, the pdf does contain images.\n\nfop-1.1rc1 $ ./fop -c ~/foconfig.xml ~/foinput.fo ~/fooutput.pdf", "id": 160708, "time": "2012-07-18T08:31:50Z", "bug_id": 53560, "creation_time": "2012-07-18T08:31:50Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 53560, "text": "Created attachment 29075\nthe servlet", "id": 160709, "time": "2012-07-18T08:33:54Z", "creator": "f.bosch@genkgo.nl", "creation_time": "2012-07-18T08:33:54Z", "is_private": false, "attachment_id": 29075}, {"count": 6, "attachment_id": 29177, "bug_id": 53560, "text": "Created attachment 29177\nAttachment includes minimal test for embedding SVG, result.pdf and console output", "id": 161133, "time": "2012-08-07T09:38:54Z", "creator": "f.bosch@genkgo.nl", "creation_time": "2012-08-07T09:38:54Z", "tags": [], "is_private": false}, {"count": 7, "attachment_id": null, "bug_id": 53560, "text": "I only receive the error for SVG files. Other images are working OK. On the same Tomcat6 server I have FOP 1.0 running without any problems.", "id": 161134, "time": "2012-08-07T09:41:48Z", "creator": "f.bosch@genkgo.nl", "creation_time": "2012-08-07T09:41:48Z", "tags": [], "is_private": false}, {"count": 8, "tags": [], "creator": "f.bosch@genkgo.nl", "text": "The problem does not occur when using command line interface.", "id": 161150, "attachment_id": null, "bug_id": 53560, "creation_time": "2012-08-07T15:35:45Z", "time": "2012-08-07T15:35:45Z", "is_private": false}, {"count": 9, "tags": [], "creator": "lmpmbernardo@gmail.com", "attachment_id": null, "is_private": false, "id": 161236, "time": "2012-08-10T14:53:43Z", "bug_id": 53560, "creation_time": "2012-08-10T14:53:43Z", "text": "I tested with jetty and it works. There are just a few tweaks that are needed. First, I used the default servlet that comes with FOP (used 1.1 rc1 too). Edit the servlet task in the build.xml to add the xml-apis*jar files (as you noticed they seem to be necessary). Then ant servlet creates the fop.war in the build directory. Copy that to the webapps folder of jetty, then java -jar start.jar.\n\nThe input.fo file had to be changed so that the test.svg file is referenced by the full path (otherwise you need to tell the servlet to use a config file that specifies the base url)."}, {"count": 10, "attachment_id": null, "bug_id": 53560, "is_private": false, "id": 161258, "time": "2012-08-11T11:28:02Z", "creator": "f.bosch@genkgo.nl", "creation_time": "2012-08-11T11:28:02Z", "tags": [], "text": "After editing the build.xml and adding the line <include name=\"xml-apis*jar\" /> it did work. I don't know why it did not work when added the .jar to the fop webapp directory. Maybe (probably) because I made a mistake.\n\nAnyway, it would be great if the line would added to build.xml as default. I'd love to create a patch, but never done that before.\n\nFurthermore, I would also suggest to use my servlet (will attach new file) as default FopServlet, because it enables to attach a config to your request. I am also working on error handling in the servlet because I believe you should be able to debug your FO/XSL/XML files when the process fails."}, {"count": 11, "attachment_id": 29211, "bug_id": 53560, "text": "Created attachment 29211\nthe servlet", "id": 161259, "time": "2012-08-11T11:29:14Z", "creator": "f.bosch@genkgo.nl", "creation_time": "2012-08-11T11:29:14Z", "tags": [], "is_private": false}, {"count": 12, "attachment_id": null, "bug_id": 53560, "text": "with jetty, the *.war file placed in the webapps is deployed to a new directory when jetty starts; jar files in the webapps directory are not deployed, and they are not picked up either if they are added to the deployment directory after jetty starts. tomcat probably does something similar...\n\nif you would like your servlet to be considered for integration in the trunk you need to submit a patch. if you used eclipse to get the source you can easily create one with Team -> Create Patch. you should also then edit the title and add [PATCH] to it.", "id": 161277, "time": "2012-08-11T22:19:55Z", "creator": "lmpmbernardo@gmail.com", "creation_time": "2012-08-11T22:19:55Z", "tags": [], "is_private": false}]