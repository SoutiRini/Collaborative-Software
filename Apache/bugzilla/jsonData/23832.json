[{"count": 0, "tags": [], "bug_id": 23832, "attachment_id": null, "is_private": false, "id": 45726, "time": "2003-10-15T11:05:46Z", "creator": "massmann@canto.de", "creation_time": "2003-10-15T11:05:46Z", "text": "If used with attribute append=\"yes\" the concat task should provide a \npossibility to add a newline between the old content of destfile and the newly \nadded files. fixlastline only adds newlines to the end of the added files.\n\nFor example:\n\n<concat append=\"yes\" destfile=\"myText.txt\" fixlastline=\"yes\">\n  <fileset file=\"addMyText.txt\"/>\n</concat>"}, {"count": 1, "tags": [], "text": "use the fixlastline attribute.\n\n*** This bug has been marked as a duplicate of 12511 ***", "attachment_id": null, "id": 72610, "creator": "bodewig@apache.org", "time": "2005-03-17T16:29:24Z", "bug_id": 23832, "creation_time": "2005-03-17T16:29:24Z", "is_private": false}, {"count": 2, "tags": [], "text": "I'm sorry but I don't think this is a duplicate of 12511.\nI checked with Ant 1.6.1 on Windows 2000 SP4 and I still found the same behavior\nas described in my initial post.\n\nIf you do:\n\n<concat append=\"yes\" destfile=\"a.txt\" fixlastline=\"yes\">\n  <fileset file=\"b.txt\"/>\n</concat>\n\nwith a.txt:\nLine1\nand b.txt:\nLine2\nboth files not terminated with new line. You will get a.txt:\nLine1Line2\nafter running this task but it should be a.txt:\nLine1\nLine2\nor am I missing something?", "attachment_id": null, "id": 72657, "creator": "massmann@canto.de", "time": "2005-03-18T10:10:57Z", "bug_id": 23832, "creation_time": "2005-03-18T10:10:57Z", "is_private": false}, {"count": 3, "tags": [], "text": "This was not designed to work in append mode.  If you concat a.txt and b.txt\ninto a third file you will see the desired result.  As an alternative you could\nrun fixcrlf against a.txt prior to appending to it.", "attachment_id": null, "id": 72668, "creator": "mbenson@apache.org", "time": "2005-03-18T15:58:14Z", "bug_id": 23832, "creation_time": "2005-03-18T15:58:14Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 23832, "attachment_id": null, "text": "fixlastline only applies to the files you add, not to an already existing file\nthat you happen to append to - and I'm not convinced that it should.\n\nTo expand on Matt's response, Ant 1.6.1 has added a fixlast attribute to <fixcrlf>\nwhich is what you want to use.", "id": 52396, "time": "2005-03-21T12:42:31Z", "creator": "bodewig@apache.org", "creation_time": "2005-03-21T12:42:31Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 23832, "attachment_id": null, "is_private": false, "id": 50369, "time": "2005-03-21T17:03:48Z", "creator": "mbenson@apache.org", "creation_time": "2005-03-21T17:03:48Z", "text": "to pick a nit, fixlast should default to true.  :)  One of my last submissions\nbefore I joined IIRC."}]