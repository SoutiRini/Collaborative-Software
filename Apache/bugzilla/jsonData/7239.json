[{"attachment_id": null, "tags": [], "creator": "webmaster@cienciapura.com.br", "is_private": false, "count": 0, "id": 11991, "time": "2002-03-19T12:21:42Z", "bug_id": 7239, "creation_time": "2002-03-19T12:21:42Z", "text": "I have an application that uses the rowset.jar from Sun. When I use the \nmanager application in Tomcat 4.0.3 it works ok. I'm able to stop and \nstart the context that is using it. Although when I load this \napplication on 4.0.4-B1 and try to stop the context I get the message:\n\nWebappClassLoader:     Resource '/WEB-INF/lib/rowset.jar' is missing\n\nAnd when I start the context, it fails:\n\nFAIL - Application at context path /examples could not be started\nFAIL - Encountered exception java.lang.IllegalStateException: \nstandardHost.start /examples: LifecycleException:  Loader has already been \nstarted\n\nI believe this is not related to the rowset.jar itself and it can happen with \nany library. \n\nIt works in 4.0.3.\n\nDoing some further investigation, I found out the following difference in the \ncode between 4.0.3 and 4.0.4-B1:\n\n- when calling webappclassloader, 'modified' method, it checks for the \nmodified date of the jar/class by calling resources.getAttributes\n- looking at the ProxyDirContext ( getAttributes method ), I found a \ndifference. \n----> 4.0.3: it does a cacheLookup and return an entry;\n----> 4.0.4-B1: it always returns a null. So it tries to open the File which \ndoesn't exist because of the relative path that is used and says the resource \nis missing.\n\nThis change has something related to new piece of code in StandarContext  that \nreleases DirContext ?"}, {"count": 1, "tags": [], "bug_id": 7239, "text": "\n\n*** This bug has been marked as a duplicate of 6982 ***", "id": 11999, "time": "2002-03-19T13:58:07Z", "creator": "jfclere@gmail.com", "creation_time": "2002-03-19T13:58:07Z", "is_private": false, "attachment_id": null}]