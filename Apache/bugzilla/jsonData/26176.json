[{"count": 0, "tags": [], "bug_id": 26176, "is_private": false, "text": "If I create 2 scripts /usr/local/scripts/test and /usr/local/script/test2\n\nIf i call exec task for the \"test\" executable, it works.\nIf I call exec task for the \"test2\" executable, it fails.\n/ec_rae0_d/legacy/build.xml:95: Execute failed: java.io.IOException: test2: not \nfound\n\n<!-- this will work -->\n\t<exec spawn=\"true\"\n\t\tdir=\"/usr/local/scripts\"\n\t\texecutable=\"test\" \n\t\tos=\"HP-UX\">\n\t\t<arg line=\"start\"/>\t\n\t</exec>\t\n\n<!-- this will fail -->\n\t<exec spawn=\"true\"\n\t\tdir=\"/usr/local/scripts\"\n\t\texecutable=\"test2\" \n\t\tos=\"HP-UX\">\n\t\t<arg line=\"start\"/>\t\n\t</exec>", "id": 50608, "time": "2004-01-15T19:42:34Z", "creator": "phillip.rhodes@alcoa.com", "creation_time": "2004-01-15T19:42:34Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 26176, "text": "What are the permissions on each of the two files?", "id": 50609, "time": "2004-01-15T19:55:17Z", "creator": "mbenson@apache.org", "creation_time": "2004-01-15T19:55:17Z", "is_private": false, "attachment_id": null}, {"count": 2, "text": "\"test\" and \"test2\" have exactly the same content (they are copies of one \nanother).\nThey have the same permissions.\n\nI can execute both scripts at the unix prompt.\nIt still fails on trying to do an exec on test2, even if I delete the \nscript \"test\"\n\n(alecomm) 06n% ll test*\n-rwxrwxr-x   1 alecomm    alecomm       2235 Jan 15 14:59 test\n-rwxrwxr-x   1 alecomm    alecomm       2235 Jan 15 15:01 test2\n\n\n", "bug_id": 26176, "is_private": false, "id": 50611, "time": "2004-01-15T20:06:39Z", "creator": "phillip.rhodes@alcoa.com", "creation_time": "2004-01-15T20:06:39Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 26176, "text": "Do it like this :\n\n        <exec \n                 spawn=\"true\"\n\t\tdir=\"/usr/local/scripts\"\n                executable=\"/bin/sh\"\n\t\tos=\"HP-UX\">\n\t\t<arg value=\"test2\"/>\n                <arg value=\"start\"/>\t\n\t</exec>\n\nThe executable should be your shell interpreter, not the shell script.\nWhen you do <exec executable=\"test\"/> you are actually calling a program called\ntest, not your shell script.\nAntoine", "id": 50613, "time": "2004-01-15T20:18:21Z", "creator": "antoine@apache.org", "creation_time": "2004-01-15T20:18:21Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 26176, "text": "I appreciate you quick followup!\n\nI came to that conclusion myself, just a couple of minutes ago regarding \nthe \"test\" being resolved.\nHowever, I still do think there is a serious problem.  What is frustrating is \nthat the Exec task is working for me in so many other instances.  I have sat \nfor an hour with 2 other java developers to try to fix this. We can't get this \nexec to work.\n\nThis following task fails (i included the ant with debug below).  I can execute \nthe referered script fine at the command prompt.\n\n\t<exec spawn=\"true\"\n\t\tdir=\"/ale/srv01/a1/t/amp-18312\"\n\t\texecutable=\"oc4j-amp-18312\" \n\t\tos=\"HP-UX\">\n\t\t<arg line=\"start\"/>\t\n\t</exec>\t\n\n\n/ale/srv01/a1/t/amp-18312> ll /ale/srv01/a1/t/amp-18312/oc4j-amp-18312\n-rw-rw-r--   1 alecomm    alecomm         21 Jan 15 15:37 /ale/srv01/a1/t/amp-\n18312/oc4j-amp-18312\n(alecomm) 06n% whoami\nalecomm\n(alecomm) 06n% ant16 buildtestamp                            \nBuildfile: build.xml\n\nbuildtestamp:\nBUILD FAILED\n/ec_rae0_d/usr01/h3/rhodepc/alecomm/legacy/build.xml:101: Execute failed: \njava.io.IOException: oc4j-amp-18312: not found\n\nTotal time: 0 seconds\n\n\n\n\n(alecomm) 06n% ant16 -d buildtestamp\nApache Ant version 1.6.0 compiled on December 18 2003\nBuildfile: build.xml\nAdding reference: ant.PropertyHelper\nDetected Java version: 1.3 in: /opt/java1.3.1.08/jre\nDetected OS: HP-UX\nAdding reference: ant.ComponentHelper\nSetting ro project property: ant.version -> Apache Ant version 1.6.0 compiled \non December 18 2003\nSetting ro project property: ant.file -\n> /ec_rae0_d/usr01/h3/rhodepc/alecomm/legacy/build.xml\nAdding reference: ant.projectHelper\nAdding reference: ant.parsing.context\nAdding reference: ant.targets\nparsing buildfile /ec_rae0_d/usr01/h3/rhodepc/alecomm/legacy/build.xml with URI \n= file:///ec_rae0_d/usr01/h3/rhodepc/alecomm/legacy/build.xml\nSetting ro project property: ant.project.name -> legacy\nAdding reference: legacy\nSetting ro project property: ant.file.legacy -\n> /ec_rae0_d/usr01/h3/rhodepc/alecomm/legacy/build.xml\nProject base dir set to: /ec_rae0_d/usr01/h3/rhodepc/alecomm/legacy\n +Target: \n +Target: targets\n +Target: buildin10minutes\n +Target: aleant\n +Target: buildnow\n +Target: buildtestamp\n +Target: buildtestescrap\n +Target: buildtestef\n +Target: startescrap\n +Target: col1\n +Target: col2\n +Target: top\n +Target: col3\n +Target: col4\nBuild sequence for target `buildtestamp' is [buildtestamp]\nComplete build sequence is [buildtestamp, buildtestef, top, buildin10minutes, \nstartescrap, buildtestescrap, targets, buildnow, col4, col3, col2, col1, \naleant, ]\n\nbuildtestamp:\n     [exec] Current OS is HP-UX\n     [exec] Executing 'oc4j-amp-18312' with arguments:\n     [exec] 'start'\n     [exec] \n     [exec] The ' characters around the executable and arguments are\n     [exec] not part of the command.\nExecute:Java13CommandLauncher: Executing 'oc4j-amp-18312' with arguments:\n'start'\n\nThe ' characters around the executable and arguments are\nnot part of the command.\n\nBUILD FAILED\n/ec_rae0_d/usr01/h3/rhodepc/alecomm/legacy/build.xml:101: Execute failed: \njava.io.IOException: oc4j-amp-18312: not found\n        at org.apache.tools.ant.taskdefs.ExecTask.runExec(ExecTask.java:606)\n        at org.apache.tools.ant.taskdefs.ExecTask.execute(ExecTask.java:452)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:306)\n        at org.apache.tools.ant.Task.perform(Task.java:401)\n        at org.apache.tools.ant.Target.execute(Target.java:338)\n        at org.apache.tools.ant.Target.performTasks(Target.java:365)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1237)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1094)\n        at org.apache.tools.ant.Main.runBuild(Main.java:669)\n        at org.apache.tools.ant.Main.startAnt(Main.java:220)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:215)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:90)\n--- Nested Exception ---\njava.io.IOException: oc4j-amp-18312: not found\n        at java.lang.UNIXProcess.forkAndExec(Native Method)\n        at java.lang.UNIXProcess.<init>(UNIXProcess.java:86)\n        at java.lang.Runtime.execInternal(Native Method)\n        at java.lang.Runtime.exec(Unknown Source)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.tools.ant.taskdefs.Execute$Java13CommandLauncher.exec\n(Execute.java:836)\n        at org.apache.tools.ant.taskdefs.Execute.launch(Execute.java:479)\n        at org.apache.tools.ant.taskdefs.Execute.spawn(Execute.java:539)\n        at org.apache.tools.ant.taskdefs.ExecTask.runExecute(ExecTask.java:584)\n        at org.apache.tools.ant.taskdefs.ExecTask.runExec(ExecTask.java:603)\n        at org.apache.tools.ant.taskdefs.ExecTask.execute(ExecTask.java:452)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:306)\n        at org.apache.tools.ant.Task.perform(Task.java:401)\n        at org.apache.tools.ant.Target.execute(Target.java:338)\n        at org.apache.tools.ant.Target.performTasks(Target.java:365)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1237)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1094)\n        at org.apache.tools.ant.Main.runBuild(Main.java:669)\n        at org.apache.tools.ant.Main.startAnt(Main.java:220)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:215)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:90)\n\n\n\n\n\n", "id": 50615, "time": "2004-01-15T20:43:34Z", "creator": "phillip.rhodes@alcoa.com", "creation_time": "2004-01-15T20:43:34Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 26176, "is_private": false, "text": "Are you sure that one's not also a shell script?  maybe you should `head` it.", "id": 50616, "time": "2004-01-15T20:47:17Z", "creator": "mbenson@apache.org", "creation_time": "2004-01-15T20:47:17Z", "attachment_id": null}, {"count": 6, "tags": [], "creator": "antoine@apache.org", "text": "sorry :\nif you want to execute a script with <exec> you have to set the executable to\nyour shell interpreter, for instance /bin/sh; the name of the script is then the\nfirst argument of your command line.\n\nThis is also true under Windows, you would do :\n\n<exec executable=\"cmd.exe\">\n<arg value=\"mywindowsbatch.bat\"/>\n</exec>", "id": 50618, "attachment_id": null, "bug_id": 26176, "creation_time": "2004-01-15T21:13:04Z", "time": "2004-01-15T21:13:04Z", "is_private": false}]