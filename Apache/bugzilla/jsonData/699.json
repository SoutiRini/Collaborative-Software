[{"count": 0, "tags": [], "bug_id": 699, "is_private": false, "id": 850, "attachment_id": null, "creator": "jeff@socialchange.net.au", "creation_time": "2001-02-25T04:26:43Z", "time": "2001-02-25T04:26:43Z", "text": "The Style task is marked as \"core\", yet when invoked, it uses\norg.apache.tools.ant.taskdefs.optional.TraXLiaison.\n\nTo replicate:\n\nSetup:\n\n- Make sure lib/optional does *not* include anything (we want just the core)\n- Clear your CLASSPATH\n- Run \"./build.sh clean ; ./build.sh\"\n- Append `pwd`/dist to your PATH\n- Set ANT_HOME to `pwd`/dist\n- Add jaxp.jar (1.0) and a compliant parser to your CLASSPATH\n\nTest file:\n- Create the following test.xml:\n<?xml version=\"1.0\"?>\n<project name=\"bugtester\" default=\"main\" basedir=\".\">\n  <target name=\"main\">\n    <style basedir=\".\" destdir=\".\" style=\"my.xsl\">\n      <include name=\"my.xml\"/>\n    </style>\n  </target>\n</project>\n\n- Invoke with \"ant -buildfile test.xml\"\nYou should get the output:\n\nBuildfile: test.xml\n\nmain:\n    [style] Transforming into /home/jeff/apache/jakarta/jakarta-ant\n\nBUILD FAILED\n\n/home/jeff/apache/jakarta/jakarta-ant/test.xml:4:\njava.lang.ClassNotFoundException:\norg.apache.tools.ant.taskdefs.optional.TraXLiaison\n--- Nested Exception ---\njava.lang.ClassNotFoundException:\norg.apache.tools.ant.taskdefs.optional.TraXLiaison\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:191)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:298)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:285)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:255)\n        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:314)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:124)\n        at\norg.apache.tools.ant.taskdefs.XSLTProcess.setProcessor(XSLTProcess.java)\n        at org.apache.tools.ant.taskdefs.XSLTProcess.execute(XSLTProcess.java)\n        at org.apache.tools.ant.Target.execute(Target.java)\n        at org.apache.tools.ant.Project.runTarget(Project.java)\n        at org.apache.tools.ant.Project.executeTarget(Project.java)\n        at org.apache.tools.ant.Project.executeTargets(Project.java)\n        at org.apache.tools.ant.Main.runBuild(Main.java)\n        at org.apache.tools.ant.Main.main(Main.java)\n\nTotal time: 2 seconds\nnescafe:~/apache/jakarta/jakarta-ant$"}, {"attachment_id": null, "tags": [], "bug_id": 699, "text": "<style> has been listed as a core task but always depended on an external\nXSLT processor - in Ant 1.2 Xalan 1 and XSL:P have been supported, Ant 1.3 added\nsupport for any TraX compliant processor.\n\nAnt 1.4 will rely on - and ship with - JAXP 1.1. We've not yet decided whether\nwe want to ship xalan with Ant or just the API and the parser (crimson in this\ncase).", "count": 1, "id": 1094, "time": "2001-03-09T03:15:40Z", "creator": "bodewig@apache.org", "creation_time": "2001-03-09T03:15:40Z", "is_private": false}]