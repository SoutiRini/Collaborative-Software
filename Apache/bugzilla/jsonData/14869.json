[{"count": 0, "tags": [], "text": "Given the original jsp code:\n\n<%@ page contentType=\"text/html;charset=windows-1252\" errorPage=\"error.jsp\" \nimport=\"com.ingenix.efact.model.common.*\"%>\n<%@ taglib uri=\"/WEB-INF/struts-bean.tld\" prefix=\"bean\" %>\n<%\nSessionInfo sess = (SessionInfo) session.getAttribute(Constants.SESSION_KEY);\nFullReportInfo fullInfo = (FullReportInfo) request.getAttribute(\"fullInfo\");\n%>\n<html>\n<head>\n<link rel=StyleSheet href=\"./scripts/style.css\" type=\"text/css\" media=\"screen, \nprint, projection\">\n\n<script language\"JavaScript\">\n<!--\nvar helpName = \"\";\nvar helpID = \"\";\n//-->\n</script>\n\n</head>\n\n<body leftmargin=15 topmargin=15 marginwidth=15 marginheight=15 \nonLoad=\"javascript:{if(parent.frames[0]&&parent.frames['nav_bar'].Go)\nparent.frames['nav_bar'].Go()}\" bgcolor=\"#FFFFFF\">\n\n<table width=\"550\" border=\"0\" cellspacing=\"0\">\n  <tr>\n    <td class=\"pagetitle\">Generate Report Confirmation</td>\n  </tr>\n  <tr>\n    <td height=\"2\" background=\"./images/4x2dot.gif\">\n    </td>\n  </tr>\n  <tr>\n    <td align=\"center\" class=\"smallbold\"><br><br> \n    <%= (fullInfo != null) ? \"Your last report was generated on: \" + \nfullInfo.getCreatedDate() : \"Your hospital administrator has not generated the \nhospital report.\" %>\n    </td>\n  </tr>\n  <tr>\n    <td align=center><br>\n        <a href=\"fullReport.do?action=getPDF\" target=\"new\"><img \nsrc=\"./images/button_view_current_report.gif\" border=0></a>\n    </td>\n  </tr>\n  <tr>\n    <td align=center>\n        <a href=\"fullReport.do?action=new\"><img \nsrc=\"./images/button_generate_new_report.gif\" border=0></a>\n    </td>\n  </tr>\n</table>\n</body>\n</html>\n\nThe resulting java file produced is:\npackage jsp.admin;\n\nimport com.ingenix.efact.model.common.*;\nimport javax.servlet.*;\nimport javax.servlet.http.*;\nimport javax.servlet.jsp.*;\nimport org.apache.jasper.runtime.*;\n\n\npublic class generateReportConf extends HttpJspBase {\n\n\n  static {\n  }\n  public generateReportConf( ) {\n  }\n\n  private static boolean _jspx_inited = false;\n\n  public final void _jspx_init() throws org.apache.jasper.runtime.JspException {\n  }\n\n  public void _jspService(HttpServletRequest request, HttpServletResponse  \nresponse)\n      throws java.io.IOException, ServletException \n  {\n    JspFactory _jspxFactory = null;\n    PageContext pageContext = null;\n    HttpSession session = null;\n    ServletContext application = null;\n    ServletConfig config = null;\n    JspWriter out = null;\n    Object page = this;\n    String  _value = null;\n    try \n    {\n      if (_jspx_inited == false) \n      {\n        synchronized (this) \n        {\n          if (_jspx_inited == false) \n          {\n            _jspx_init();\n            _jspx_inited = true;\n          }\n        }\n      }\n      _jspxFactory = JspFactory.getDefaultFactory();\n      response.setContentType(\"text/html;charset=windows-1252\");\n      pageContext = _jspxFactory.getPageContext(this, request, response,\n      \t\t\t\"error.jsp\", true, 8192, true);\n\n      application = pageContext.getServletContext();\n      config = pageContext.getServletConfig();\n      session = pageContext.getSession();\n      out = pageContext.getOut();\n\n      // HTML // begin [file=\"/admin/generateReportConf.jsp\";from=(0,119);to=\n(1,0)]\n        out.write(\"\\r\\n\");\n\n      // end\n      // HTML // begin [file=\"/admin/generateReportConf.jsp\";from=(1,58);to=\n(2,0)]\n        out.write(\"\\r\\n\");\n\n      // end\n      // begin [file=\"/admin/generateReportConf.jsp\";from=(2,2);to=(5,0)]\n        \n        SessionInfo sess = (SessionInfo) session.getAttribute\n(Constants.SESSION_KEY);\n        com.ingenix.efact.util.SystemLog.write\n(com.ingenix.efact.util.SystemLog.STATUS, \"header for the generateReportConf \");\n      // end\n      // HTML // begin [file=\"/admin/generateReportConf.jsp\";from=(5,2);to=\n(6,0)]\n        out.write(\"\\r\\n\");\n\n      // end\n      // begin [file=\"/admin/generateReportConf.jsp\";from=(6,0);to=(6,98)]\n        /* ----  bean:define ---- */\n        org.apache.struts.taglib.bean.DefineTag _jspx_th_bean_define_0 = new \norg.apache.struts.taglib.bean.DefineTag();\n        _jspx_th_bean_define_0.setPageContext(pageContext);\n        _jspx_th_bean_define_0.setParent(null);\n        _jspx_th_bean_define_0.setId(\"fullInfo\");\n        _jspx_th_bean_define_0.setName(\"fullInfo\");\n        _jspx_th_bean_define_0.setType\n(\"com.ingenix.efact.model.common.FullReportInfo\");\n        com.ingenix.efact.model.common.FullReportInfo fullInfo = null;\n        try \n        {\n          int _jspx_eval_bean_define_0 = _jspx_th_bean_define_0.doStartTag();\n          fullInfo = (com.ingenix.efact.model.common.FullReportInfo) \npageContext.findAttribute(\"fullInfo\");\n          fullInfo = (com.ingenix.efact.model.common.FullReportInfo) \npageContext.findAttribute(\"fullInfo\");\n        // end\n        // begin [file=\"/admin/generateReportConf.jsp\";from=(6,0);to=(6,98)]\n          fullInfo = (com.ingenix.efact.model.common.FullReportInfo) \npageContext.findAttribute(\"fullInfo\");\n          if (_jspx_th_bean_define_0.doEndTag() == \njavax.servlet.jsp.tagext.Tag.SKIP_PAGE)\n            return;\n        } \n        finally \n        {\n          _jspx_th_bean_define_0.release();\n        }\n      // end\n      // HTML // begin [file=\"/admin/generateReportConf.jsp\";from=(6,98);to=\n(15,0)]\n        out.write(\"\\r\\n<html>\\r\\n<head>\\r\\n<link rel=StyleSheet \nhref=\\\"../scripts/style.css\\\" type=\\\"text/css\\\" media=\\\"screen, print, \nprojection\\\">\\r\\n<title>Generate Report Confirm Page</title>\\r\\n<meta http-\nequiv=\\\"Content-Type\\\" content=\\\"text/html; charset=iso-8859-1\n\\\">\\r\\n</head>\\r\\n\\r\\n<body leftmargin=15 topmargin=15 marginwidth=15 \nmarginheight=15 onLoad=\\\"javascript:{if(parent.frames[0]&&parent.frames\n['nav_bar'].Go)parent.frames['nav_bar'].Go()}\\\" bgcolor=\\\"#FFFFFF\\\">\\r\\n\");\n\n      // end\n      // begin [file=\"/admin/generateReportConf.jsp\";from=(15,2);to=(15,6)]\n        try\n        {\n      // end\n      // HTML // begin [file=\"/admin/generateReportConf.jsp\";from=(15,8);to=\n(40,0)]\n        out.write(\"\\r\\n<table width=\\\"550\\\" border=\\\"0\\\" cellspacing=\\\"0\n\\\">\\r\\n  <tr>\\r\\n    <td class=\\\"pagetitle\\\">Generate Report \nConfirmation</td>\\r\\n  </tr>\\r\\n  <tr>\\r\\n    <td height=\\\"2\\\" \nbackground=\\\"../images/4x2dot.gif\\\">\\r\\n    </td>\\r\\n  </tr>\\r\\n  <tr>\\r\\n    \n<td align=\\\"center\\\" class=\\\"smallbold\\\"><br><br> Your last report was \ngenerated on: \\r\\n      \\r\\n    </td>\\r\\n  </tr>\\r\\n  <tr>\\r\\n    <td \nalign=center><br>\\r\\n        <a href=\\\"fullReport.do?action=old\\\"><img \nsrc=\\\"../images/button_view_current_report.gif\\\"></a>\\r\\n    </td>\\r\\n  \n</tr>\\r\\n  <tr>\\r\\n    <td align=center>\\r\\n        <a href=\\\"fullReport.do?\naction=new\\\"><img src=\\\"../images/button_generate_new_report.gif\\\"></a>\\r\\n    \n</td>\\r\\n  </tr>\\r\\n</table>\\r\\n\");\n\n      // end\n      // begin [file=\"/admin/generateReportConf.jsp\";from=(40,2);to=(42,1)]\n         catch(Exception e){\n          com.ingenix.efact.util.SystemLog.write\n(com.ingenix.efact.util.SystemLog.STATUS, \"exception for the \ngenerateReportConf \" + e);\n        }\n      // end\n      // HTML // begin [file=\"/admin/generateReportConf.jsp\";from=(42,3);to=\n(45,0)]\n        out.write(\"\\r\\n</body>\\r\\n</html>\\r\\n\");\n\n      // end\n\n    } catch (Throwable t) {\n      if (out != null && out.getBufferSize() != 0)\n        out.clearBuffer();\n      if (pageContext != null) pageContext.handlePageException(t);\n    } finally {\n      if (_jspxFactory != null) _jspxFactory.releasePageContext(pageContext);\n    }\n  }\n}\n\nWhich will not compile since the \n1)try doesnt have proper Starting and ENDING brace\n2)catch doesnt have proper Starting and ENDING brace\n3)finally doesnt have propert Starting and ENDING brace\n\nI need this to work properly and request the source code so I may fix it ASAP\nfor my own build process.\n\nThank You,\n-Martin", "is_private": false, "bug_id": 14869, "id": 27020, "time": "2002-11-26T20:39:11Z", "creator": "mgainty@hotmail.com", "creation_time": "2002-11-26T20:39:11Z", "attachment_id": null}, {"count": 1, "text": "Is this still a problem? If it is, take it up with the tomcat team, as their\ntool (jasper) is one generating the code. ", "creator": "stevel@apache.org", "is_private": false, "id": 32769, "time": "2003-03-10T06:34:11Z", "bug_id": 14869, "creation_time": "2003-03-10T06:34:11Z", "tags": [], "attachment_id": null}, {"count": 2, "text": "Martin, \nCan you replicate this problem with Tomcat 4.1.24 and ant1.5.3? If not, I'm\ngoing to close this one as probably-not-an-ant-defect.\n\nsteve", "creator": "stevel@apache.org", "attachment_id": null, "id": 41925, "time": "2003-08-01T06:06:43Z", "bug_id": 14869, "creation_time": "2003-08-01T06:06:43Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 14869, "attachment_id": null, "id": 45888, "time": "2003-10-18T19:15:32Z", "creator": "mgainty@hotmail.com", "creation_time": "2003-10-18T19:15:32Z", "is_private": false, "text": "This was a duplicate of the bug I introduced today\nI will recommend jspc task output diagnostics (either log or output to TERM)\n-M"}]