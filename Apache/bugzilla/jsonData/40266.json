[{"count": 0, "tags": [], "bug_id": 40266, "attachment_id": null, "id": 92248, "time": "2006-08-16T11:56:21Z", "creator": "mgreen@altien.com", "creation_time": "2006-08-16T11:56:21Z", "is_private": false, "text": "Berkeley db support is either absolutely fucked up in httpd2, or is just a \nmess. \n\nProblem 1\nWhen you select --with-berkley-db, apr and apr-util are no longer built.\n\nProblem 2\nWhen you compile apr and apr-util manually, it doesn't pick up the path to db4 \nyou gave it and instead makes up its own (with spaces in) which of course \nfucks up the compile.\n\nI'm sure there's more to come, but I've been wrestling with this for hours. So \nutterly pissed off that something so simple is causing such a headache."}, {"count": 1, "tags": [], "bug_id": 40266, "text": "THIS BUG IS *NOT* FIXED!!!!", "id": 92250, "time": "2006-08-16T12:25:15Z", "creator": "mgreen@altien.com", "creation_time": "2006-08-16T12:25:15Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "I think you added your \"Problem 3\" to the wrong bug (bug 25233)?\n\nThe option is \"--with-berkeley-db\", note the spelling.  w.r.t. Problem 1, please \ncapture the configure output and add it to this report as an attachment.  Please\nalso attach the \"config.log\" file which is produced.", "id": 92251, "time": "2006-08-16T12:44:23Z", "bug_id": 40266, "creation_time": "2006-08-16T12:44:23Z", "is_private": false}, {"count": 3, "tags": [], "creator": "mgreen@altien.com", "attachment_id": null, "text": "configure is as follows...\n\nCFLAGS=\"-O2 -pipe -march=nocona -mtune=nocona -fomit-frame-pointer\" \nCXXFLAGS=$CFLAGS \\\n./configure \\\n--enable-layout=Slack \\\n--enable-modules=most \\\n--enable-so \\\n--disable-cgid \\\n--disable-speling \\\n--disable-ldap \\\n--disable-proxy \\\n--enable-rewrite=shared \\\n--enable-include=shared \\\n--enable-ext-filter=shared \\\n--enable-env=shared \\\n--enable-expires=shared \\\n--enable-headers=shared \\\n--enable-setenvif=shared \\\n--enable-dav \\\n--disable-status \\\n--disable-info \\\n--enable-asis=shared \\\n--enable-vhost-alias=shared \\\n--enable-imap=shared \\\n--enable-actions=shared \\\n--enable-mime-magic=shared \\\n--enable-ssl=shared \\\n--with-included-apr \\\n--with-berkeley-db=/usr/include/db4:/lib64 \\\n--enable-dbd \\\n--build=x86_64-slackware-linux\n\nI'll attach config.log too\n\nI can now get apr and apr-util to compile by using --with-included-apr (I \ndidn't need to before berkeley-db was added), but it still doesn't appear to \nbe compiling bdb in - I can't access svn.", "id": 92255, "time": "2006-08-16T13:12:23Z", "bug_id": 40266, "creation_time": "2006-08-16T13:12:23Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 40266, "text": "Created attachment 18720\nconfigure log", "id": 92256, "time": "2006-08-16T13:13:21Z", "creator": "mgreen@altien.com", "creation_time": "2006-08-16T13:13:21Z", "is_private": false, "attachment_id": 18720}, {"count": 5, "tags": [], "bug_id": 40266, "text": "when compiled with bdb (apparently), I see...\n\n[Wed Aug 16 15:55:07 2006] [crit] (70023)This function has not been \nimplemented on this platform: DBD: failed to initialise\n[Wed Aug 16 15:55:07 2006] [crit] (70023)This function has not been \nimplemented on this platform: DBD: driver for [DBDriver unset] not available\n[Wed Aug 16 15:55:07 2006] [crit] (70023)This function has not been \nimplemented on this platform: DBD: failed to initialise\n[Wed Aug 16 15:55:07 2006] [notice] Apache/2.2.3 (Unix) DAV/2 mod_ssl/2.2.3 \nOpenSSL/0.9.7g SVN/1.3.2 configured -- resuming normal operations\n[Wed Aug 16 15:55:07 2006] [crit] (70023)This function has not been \nimplemented on this platform: DBD: driver for [DBDriver unset] not available\n[Wed Aug 16 15:55:07 2006] [crit] (70023)This function has not been \nimplemented on this platform: DBD: failed to initialise\n\n\nwhenever I try and access svn with bdb storage", "id": 92261, "time": "2006-08-16T13:53:58Z", "creator": "mgreen@altien.com", "creation_time": "2006-08-16T13:53:58Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 40266, "text": "The \"DBD: \" lines are from mod_dbd, not directly related to Berkeley DB (aka BDB).\n\nIt always emits those \"critical\" errors if not explicitly configured IIRC;\nthat's not a symptom of anything being wrong.\n\nPlease attach the *output* of the configure command too (\"configure ... >\n/tmp/output\").  If you want to diagnose problems with APR-util detecting\nBerkeley DB, please also attach the file \"srclib/apr-util/config.log\"; but this\nis problem 2.\n", "id": 92264, "time": "2006-08-16T14:35:37Z", "creator": "jorton@redhat.com", "creation_time": "2006-08-16T14:35:37Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 40266, "text": "I'm not even sure that its apache not including berkeley - the only conclusion \nI could reach, since its supposed to be compiled in and svn will happily \ncreate a BDB repo, but when apache tries to access it, it gives a 500 & dumps \na pile of errors.", "id": 92269, "time": "2006-08-16T15:44:28Z", "creator": "mgreen@altien.com", "creation_time": "2006-08-16T15:44:28Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "creator": "the_angry_angel@blueyonder.co.uk", "attachment_id": null, "text": "I have had similar problems with APR, SVN and Apache. Basically it involved\ndeleting the bundled apr libraries that came with SVN, and then pointing it at\nthe apache libraries (--with-apr=/www/bin/apr-1-config\n--with-apr-util=/www/bin/apu-1-config). This appears to work for me - although\nit may not be the same problem? Sorry if its not :)", "id": 94154, "time": "2006-09-27T09:47:10Z", "bug_id": 40266, "creation_time": "2006-09-27T09:47:10Z", "is_private": false}]