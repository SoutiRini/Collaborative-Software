[{"count": 0, "attachment_id": null, "bug_id": 41558, "text": "Tomcat version: 6.0.x trunk\n\nEvery generated JSP has \n\n    try {\n      _jspxFactory = JspFactory.getDefaultFactory();\n      response.setContentType(\"text/html\");\n\nin its _jspService method.\n\nThe use of JspFactory.getDefaultFactory during request processing should be\navoided as it is a *static synchronized* method.\n\nI have a diff that addresses this and will attach it to this bug.", "id": 99059, "time": "2007-02-07T06:03:18Z", "creator": "arvind.srinivasan@sun.com", "creation_time": "2007-02-07T06:03:18Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "arvind.srinivasan@sun.com", "text": "Created attachment 19537\nPatch to avoid invoking JspFactory.getDefaultFactory in jspService\n\nThe attached patch changes the .jsp-->.java generator so that\nJspFactory.getDefaultFactory is invoked as a one-time operation.\n\nThe patch also consolidates JspFactory initialization in JspRuntimeContext.", "id": 99060, "time": "2007-02-07T06:06:56Z", "bug_id": 41558, "creation_time": "2007-02-07T06:06:56Z", "is_private": false, "attachment_id": 19537}, {"count": 2, "tags": [], "text": "Created attachment 19538\nDifference in the generated code for hello_jsp.java before and after the patch", "is_private": false, "bug_id": 41558, "id": 99061, "time": "2007-02-07T06:08:14Z", "creator": "arvind.srinivasan@sun.com", "creation_time": "2007-02-07T06:08:14Z", "attachment_id": 19538}, {"count": 3, "tags": [], "text": "I did not realize this method was synchronized, so thanks for mentioning it.\nThere doesn't seem to be any reason for that.", "is_private": false, "bug_id": 41558, "id": 99072, "time": "2007-02-07T14:55:20Z", "creator": "remm@apache.org", "creation_time": "2007-02-07T14:55:20Z", "attachment_id": null}]