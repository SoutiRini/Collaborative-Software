[{"count": 0, "tags": [], "bug_id": 5585, "attachment_id": null, "id": 9154, "time": "2001-12-24T08:41:12Z", "creator": "serg_main@yahoo.com", "creation_time": "2001-12-24T08:41:12Z", "is_private": false, "text": "first file:\n<%@page \ncontentType=\"text/html; charset=utf-8\"\nbuffer=\"none\"\nlanguage=\"java\"\n\n%>\n<html>\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n<body>\nFirst file\n<jsp:include page=\"test_2.jsp\"/>\n</body>\n</html>\n\nsecond file:\n<%@page \ncontentType=\"text/html; charset=utf-8\"\nlanguage=\"java\"\n%>\n<%\nThis is error!\n%>"}, {"count": 1, "tags": [], "creator": "kin-man.chung@sun.com", "is_private": false, "id": 9412, "attachment_id": null, "bug_id": 5585, "creation_time": "2002-01-07T10:14:08Z", "time": "2002-01-07T10:14:08Z", "text": "Looks like the response is already committed when ErrorReportValve tries to\noutput the error message, and the message is discarded.  This is a problem in\nthe container."}, {"count": 2, "tags": [], "text": "This is a user error, for the reasons explained below -- therefore I am marking\nthis bug report as INVALID.  See below for user workarounds to get more useful\ndiagnostics.\n\nThis is what is happening to cause the behavior that you see:\n\n* Your calling page includes the action:\n\n    <jsp:include page=\"test_2.jsp\"/>\n\n* Because you did not include a \"flush\" attribute, it defaults\n  to \"true\" -- just as if you had said:\n\n    <jsp:include page=\"test_2.jsp\" flush=\"true\"/>\n\n* The effect of flushing is to cause the response to be committed.\n  After the response is committed, it is no longer possible for the\n  container's error page mechanism to display an error page.\n\nWorkarounds to ensure that you see compile errors:\n\n* Call the \"test_2.jsp\" page directly from your browser, to make sure\n  that it compiles correctly.\n\n* Turn flushing off:  <jsp:include page=\"test_2.jsp\" flush=\"false\"/>\n\n* Put the <jsp:include> inside a try/catch block and catch the\n  ServletException that is thrown when Jasper discovers the compile error.\n\n* Look in the Tomcat log files, because they will contain the compile\n  exception stack trace even if the response has already been committed.\n", "is_private": false, "id": 9424, "creator": "craig.mcclanahan@sun.com", "time": "2002-01-07T12:03:27Z", "bug_id": 5585, "creation_time": "2002-01-07T12:03:27Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "serg_main@yahoo.com", "is_private": false, "text": "From JavaServer Pages(TM) (JSP) Specification (\u201cSpecification\u201d)\nVersion: 1.2\nStatus: FCS\nRelease: September 17, 2001\n\nPage 79:\nTable JSP.4-4\nflush Optional boolean attribute. If the value is \u201ctrue\u201d, the\nbuffer is flushed now. The default value is \u201cfalse\u201d.\n\n\nError page must be showed.\n", "id": 9437, "time": "2002-01-07T22:18:34Z", "bug_id": 5585, "creation_time": "2002-01-07T22:18:34Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "kin-man.chung@sun.com", "attachment_id": null, "id": 14669, "creation_time": "2002-04-24T23:54:37Z", "time": "2002-04-24T23:54:37Z", "bug_id": 5585, "text": "Please note that buffer=\"none\" is set in the page directive.  This has the\neffect of writing to the reponse buffer directly.  By the time the error happen,\nthe reponse has already been committed, hence the error is not displayed. ", "is_private": false}, {"count": 5, "tags": [], "bug_id": 5585, "attachment_id": null, "is_private": false, "id": 25795, "time": "2002-11-06T16:07:44Z", "creator": "serg_main@yahoo.com", "creation_time": "2002-11-06T16:07:44Z", "text": "After reading discussion \"Re: costin: fix reverted\"\nhttp://marc.theaimsgroup.com/?t=103644618800001&r=1&w=2\nI think this bug can be reopened\n\nOr I'm not right?"}, {"count": 6, "tags": [], "bug_id": 5585, "attachment_id": null, "id": 35757, "time": "2003-04-22T08:50:55Z", "creator": "remm@apache.org", "creation_time": "2003-04-22T08:50:55Z", "is_private": false, "text": "I agree with Kin-Man's resolution (no buffer, so JSP will flush, causing the\ncommit). Please do not reopen the report."}]