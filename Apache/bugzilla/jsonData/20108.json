[{"count": 0, "tags": [], "bug_id": 20108, "attachment_id": null, "text": "I have a class that authenticates users calling a function that returns an \nXMLType rappresentation of the user. The class works fine outside tomcat on the \nsame vm. Called from a jsp page the vm crashes and the following log is created:\n\n\nAn unexpected exception has been detected in native code outside the VM.\nUnexpected Signal : EXCEPTION_ACCESS_VIOLATION occurred at PC=0xB59AFF6\nFunction=qmxGetDOMNodeType+0x6\nLibrary=D:\\oracle\\ora92\\bin\\orageneric9.dll\n\nCurrent Java thread:\n\tat oracle.xdb.dom.XDBNodeList.getChildTypeNative(Native Method)\n\tat oracle.xdb.dom.XDBNodeList.item(XDBNodeList.java:55)\n\tat org.epe.sys.EPEClient.setAuthentication(Unknown Source)\n\tat org.apache.jsp.Login_jsp._jspService(Login_jsp.java:51)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:136)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:856)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:320)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:293)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:856)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:288)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:206)\n\tat org.epe.filter.NoCacheFilter.doFilter(Unknown Source)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:206)\n\tat org.epe.filter.IPFilter.doFilter(Unknown Source)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:206)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:263)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext\n(StandardValveContext.java:151)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:561)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:1018)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:196)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext\n(StandardValveContext.java:151)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:561)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:1018)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2748)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:186)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext\n(StandardValveContext.java:151)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:171)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext\n(StandardValveContext.java:149)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:172)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext\n(StandardValveContext.java:149)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:561)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:1018)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext\n(StandardValveContext.java:151)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:561)\n\tat org.apache.catalina.core.ContainerBase.invoke\n(ContainerBase.java:1018)\n\tat org.apache.coyote.tomcat5.CoyoteAdapter.service\n(CoyoteAdapter.java:199)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:630)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:463)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:568)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:631)\n\tat java.lang.Thread.run(Thread.java:536)\n\nDynamic libraries:\n0x00400000 - 0x00406000 \tC:\\Program Files\\Java\\j2re1.4.1_02\\bin\\java.exe\n0x77F80000 - 0x77FFB000 \tC:\\WINNT\\System32\\ntdll.dll\n0x77DB0000 - 0x77E0D000 \tC:\\WINNT\\system32\\ADVAPI32.dll\n0x77E80000 - 0x77F36000 \tC:\\WINNT\\system32\\KERNEL32.DLL\n0x77D30000 - 0x77DA1000 \tC:\\WINNT\\system32\\RPCRT4.DLL\n0x78000000 - 0x78046000 \tC:\\WINNT\\system32\\MSVCRT.dll\n0x6D340000 - 0x6D46A000 \tC:\\Program Files\\Java\\j2re1.4.1_02\n\\bin\\client\\jvm.dll\n0x77E10000 - 0x77E75000 \tC:\\WINNT\\system32\\USER32.dll\n0x77F40000 - 0x77F7C000 \tC:\\WINNT\\system32\\GDI32.DLL\n0x77570000 - 0x775A0000 \tC:\\WINNT\\System32\\WINMM.dll\n0x6CA60000 - 0x6CA68000 \tC:\\WINNT\\System32\\LPK.DLL\n0x66650000 - 0x666A4000 \tC:\\WINNT\\System32\\USP10.dll\n0x6D1E0000 - 0x6D1E7000 \tC:\\Program Files\\Java\\j2re1.4.1_02\\bin\\hpi.dll\n0x6D310000 - 0x6D31E000 \tC:\\Program Files\\Java\\j2re1.4.1_02\n\\bin\\verify.dll\n0x6D220000 - 0x6D239000 \tC:\\Program Files\\Java\\j2re1.4.1_02\\bin\\java.dll\n0x6D330000 - 0x6D33D000 \tC:\\Program Files\\Java\\j2re1.4.1_02\\bin\\zip.dll\n0x6D2E0000 - 0x6D2EE000 \tC:\\Program Files\\Java\\j2re1.4.1_02\\bin\\net.dll\n0x75050000 - 0x75058000 \tC:\\WINNT\\System32\\WSOCK32.dll\n0x75030000 - 0x75043000 \tC:\\WINNT\\System32\\WS2_32.DLL\n0x75020000 - 0x75028000 \tC:\\WINNT\\System32\\WS2HELP.DLL\n0x782C0000 - 0x782CC000 \tC:\\WINNT\\System32\\rnr20.dll\n0x77980000 - 0x779A4000 \tC:\\WINNT\\System32\\DNSAPI.DLL\n0x77340000 - 0x77353000 \tC:\\WINNT\\System32\\iphlpapi.dll\n0x77520000 - 0x77525000 \tC:\\WINNT\\System32\\ICMP.DLL\n0x77320000 - 0x77337000 \tC:\\WINNT\\System32\\MPRAPI.DLL\n0x75150000 - 0x75160000 \tC:\\WINNT\\System32\\SAMLIB.DLL\n0x75170000 - 0x751BF000 \tC:\\WINNT\\System32\\NETAPI32.DLL\n0x77BE0000 - 0x77BEF000 \tC:\\WINNT\\System32\\SECUR32.DLL\n0x751C0000 - 0x751C6000 \tC:\\WINNT\\System32\\NETRAP.DLL\n0x77950000 - 0x7797A000 \tC:\\WINNT\\system32\\WLDAP32.DLL\n0x77A50000 - 0x77B45000 \tC:\\WINNT\\system32\\OLE32.DLL\n0x779B0000 - 0x77A4B000 \tC:\\WINNT\\system32\\OLEAUT32.DLL\n0x773B0000 - 0x773DE000 \tC:\\WINNT\\System32\\ACTIVEDS.DLL\n0x77380000 - 0x773A2000 \tC:\\WINNT\\System32\\ADSLDPC.DLL\n0x77830000 - 0x7783E000 \tC:\\WINNT\\System32\\RTUTILS.DLL\n0x77880000 - 0x7790D000 \tC:\\WINNT\\System32\\SETUPAPI.DLL\n0x77C10000 - 0x77C6E000 \tC:\\WINNT\\System32\\USERENV.DLL\n0x774E0000 - 0x77512000 \tC:\\WINNT\\System32\\RASAPI32.DLL\n0x774C0000 - 0x774D1000 \tC:\\WINNT\\System32\\RASMAN.DLL\n0x77530000 - 0x77552000 \tC:\\WINNT\\System32\\TAPI32.DLL\n0x71710000 - 0x71794000 \tC:\\WINNT\\system32\\COMCTL32.DLL\n0x70BD0000 - 0x70C35000 \tC:\\WINNT\\system32\\SHLWAPI.DLL\n0x77360000 - 0x77379000 \tC:\\WINNT\\System32\\DHCPCSVC.DLL\n0x777E0000 - 0x777E8000 \tC:\\WINNT\\System32\\winrnr.dll\n0x777F0000 - 0x777F5000 \tC:\\WINNT\\System32\\rasadhlp.dll\n0x74FD0000 - 0x74FED000 \tC:\\WINNT\\system32\\msafd.dll\n0x75010000 - 0x75017000 \tC:\\WINNT\\System32\\wshtcpip.dll\n0x62F00000 - 0x62F0F000 \tD:\\oracle\\ora92\\bin\\ocijdbc9.dll\n0x610A0000 - 0x6113F000 \tD:\\oracle\\ora92\\bin\\oracore9.dll\n0x612A0000 - 0x61319000 \tD:\\oracle\\ora92\\bin\\oranls9.dll\n0x613A0000 - 0x613B1000 \tD:\\oracle\\ora92\\bin\\oraunls9.dll\n0x60600000 - 0x60784000 \tD:\\oracle\\ora92\\bin\\oraclient9.dll\n0x60800000 - 0x60806000 \tD:\\oracle\\ora92\\bin\\oravsn9.dll\n0x60500000 - 0x60590000 \tD:\\oracle\\ora92\\bin\\oracommon9.dll\n0x0B420000 - 0x0B677000 \tD:\\oracle\\ora92\\bin\\orageneric9.dll\n0x62FC0000 - 0x6303D000 \tD:\\oracle\\ora92\\bin\\oraxml9.dll\n0x780A0000 - 0x780B2000 \tC:\\WINNT\\System32\\MSVCIRT.dll\n0x630F0000 - 0x63110000 \tD:\\oracle\\ora92\\bin\\oraxsd9.dll\n0x615A0000 - 0x61629000 \tD:\\oracle\\ora92\\bin\\orannzsbb9.dll\n0x61480000 - 0x61534000 \tD:\\oracle\\ora92\\bin\\oran9.dll\n0x61400000 - 0x6142C000 \tD:\\oracle\\ora92\\bin\\oranl9.dll\n0x61960000 - 0x61971000 \tD:\\oracle\\ora92\\bin\\oranldap9.dll\n0x62000000 - 0x62024000 \tD:\\oracle\\ora92\\bin\\oraldapclnt9.dll\n0x616B0000 - 0x616C7000 \tD:\\oracle\\ora92\\bin\\orancrypt9.dll\n0x62300000 - 0x6233E000 \tD:\\oracle\\ora92\\bin\\ORATRACE9.dll\n0x61730000 - 0x61766000 \tD:\\oracle\\ora92\\bin\\oranro9.dll\n0x617C0000 - 0x617C6000 \tD:\\oracle\\ora92\\bin\\oranhost9.dll\n0x617D0000 - 0x617D6000 \tD:\\oracle\\ora92\\bin\\oranoname9.dll\n0x616A0000 - 0x616A6000 \tD:\\oracle\\ora92\\bin\\orancds9.dll\n0x61820000 - 0x61827000 \tD:\\oracle\\ora92\\bin\\orantns9.dll\n0x64000000 - 0x64007000 \tD:\\oracle\\ora92\\bin\\oranms.dll\n0x64020000 - 0x64030000 \tD:\\oracle\\ora92\\bin\\oranmsp.dll\n0x60A00000 - 0x60D13000 \tD:\\oracle\\ora92\\bin\\orapls9.dll\n0x62500000 - 0x62507000 \tD:\\oracle\\ora92\\bin\\oraslax9.dll\n0x61350000 - 0x61360000 \tD:\\oracle\\ora92\\bin\\orasnls9.dll\n0x60810000 - 0x60816000 \tD:\\oracle\\ora92\\bin\\orawtc9.dll\n0x62600000 - 0x62675000 \tD:\\oracle\\ora92\\bin\\orasql9.dll\n0x61910000 - 0x6191C000 \tD:\\oracle\\ora92\\bin\\orantcp9.dll\n0x77920000 - 0x77943000 \tC:\\WINNT\\system32\\imagehlp.dll\n0x72A00000 - 0x72A2D000 \tC:\\WINNT\\system32\\DBGHELP.dll\n0x690A0000 - 0x690AB000 \tC:\\WINNT\\System32\\PSAPI.DLL\n\nLocal Time = Tue May 20 19:06:28 2003\nElapsed Time = 15758\n#\n# The exception above was detected in native code outside the VM\n#\n# Java VM: Java HotSpot(TM) Client VM (1.4.1_02-b06 mixed mode)\n#\n# An error report file has been saved as hs_err_pid6804.log.\n# Please refer to the file for further information.\n#", "id": 37534, "time": "2003-05-21T10:51:22Z", "creator": "alex.scotti@tiscalinet.it", "creation_time": "2003-05-21T10:51:22Z", "is_private": false}, {"count": 1, "tags": [], "text": "And in which way is it a Tomcat bug ? This seems to be caused by native code\nused by your driver.", "attachment_id": null, "id": 37535, "creation_time": "2003-05-21T10:59:49Z", "time": "2003-05-21T10:59:49Z", "creator": "remm@apache.org", "bug_id": 20108, "is_private": false}, {"count": 2, "tags": [], "bug_id": 20108, "attachment_id": null, "text": "I forgot to say that on tomcat 5.0.1 evrything was working fine.\n", "id": 37536, "time": "2003-05-21T11:02:44Z", "creator": "alex.scotti@tiscalinet.it", "creation_time": "2003-05-21T11:02:44Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 20108, "attachment_id": null, "id": 37537, "time": "2003-05-21T11:16:22Z", "creator": "alex.scotti@tiscalinet.it", "creation_time": "2003-05-21T11:16:22Z", "is_private": false, "text": "Only under tomcat, and only tomcat 5.0.2, the class causes a vm crash.\nI'm unable to approach the question if not asking if anyone may figure out why, \nif any, a relation exists.\n"}, {"count": 4, "tags": [], "bug_id": 20108, "attachment_id": null, "text": "When filing a bug, you have to point out a flaw in Tomcat (reproduceable, at\nthat; with a test case if the situation is complex). This report is a VM crash\ncaused by an exception in native code, so this is clearly not the case here. As\nsuch, it cannot be considered a Tomcat bug (or I'm waiting for your patch).\nPlease do not reopen the report.", "id": 37538, "time": "2003-05-21T11:29:06Z", "creator": "remm@apache.org", "creation_time": "2003-05-21T11:29:06Z", "is_private": false}]