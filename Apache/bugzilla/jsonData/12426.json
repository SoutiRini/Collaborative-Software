[{"count": 0, "tags": [], "bug_id": 12426, "attachment_id": null, "id": 22483, "time": "2002-09-09T06:59:41Z", "creator": "amund.elstad@ergo.no", "creation_time": "2002-09-09T06:59:41Z", "is_private": false, "text": "Hello,\n\nI compiled Apache2 from CVS on Friday 6th and did some reverse-proxy testing \nand now I am worried about mod_proxy's behaviour under high load when proxy-\nkeepalive is enabled (the default). mod_proxy links the downstream keepalive\nconnection to the upstream connection to avoid breaking any load balancing (and \nto simplify synchronization?).\n\nUsing a simple setup with one virtual host using another virtual host as a \n(proxy) backend, I ran:\n\n\tab -c 1 -n 10000 http://localhost/manual/index.html.en\n\nWith worker on my Linux-box the result was almost 5000 failed requests. With \nproxy-keepalive turned off the test ran without any problems. The logged error \n(looks like I am running out of sockets):\n\n[error] (11)Resource temporarily unavailable: proxy: HTTP: attempt to connect \nto 127.0.0.1:1080 (localhost) failed\n\nIt seems to be no limit to the number of keepalive connections mod_proxy will \nspawn, and that every connection remains open until the keepalive-timeout \nexpires."}, {"count": 1, "tags": [], "text": "Does this problem still exist in v2.0.46-dev?\n", "is_private": false, "id": 35237, "creator": "minfrin@sharp.fm", "time": "2003-04-15T16:28:15Z", "bug_id": 12426, "creation_time": "2003-04-15T16:28:15Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 12426, "attachment_id": null, "id": 63822, "time": "2004-09-19T19:35:40Z", "creator": "chip@force-elite.com", "creation_time": "2004-09-19T19:35:40Z", "is_private": false, "text": "Old Version + No Feedback when requested."}]