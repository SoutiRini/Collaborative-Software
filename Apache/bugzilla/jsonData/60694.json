[{"count": 0, "tags": [], "bug_id": 60694, "is_private": false, "text": "AuthenticatorBase.getJaspicProvider() can throw a NullPointerException. The code in question is:\n\nAuthConfigFactory factory = AuthConfigFactory.getFactory();\nprovider = factory.getConfigProvider(\"HttpServlet\", jaspicAppContextID, this);\n\nThe javadoc for AuthConfigFactory.getFactory() states that it returns:\n\nThe non-null system-wide AuthConfigFactory instance set at the time of the call, or if that value was null, the value of the system-wide factory instance established by this method. This method returns null when the  system-wide factory was not defined when this method was called and no default factory name was defined via the security property.\n\nWhen it returns null, a NullPointerException occurs:\n\njava.lang.NullPointerException: null\n            at org.apache.catalina.authenticator.AuthenticatorBase.getJaspicProvider(AuthenticatorBase.java:1192)\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:465)\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349)\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783)\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798)\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434)\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n            at java.lang.Thread.run(Thread.java:745)\n\nThis was originally reported against Spring Boot using embedded Tomcat when the user also had javax:javaee-api on the classpath.", "id": 196748, "time": "2017-02-06T09:04:04Z", "creator": "awilkinson@pivotal.io", "creation_time": "2017-02-06T09:04:04Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 60694, "is_private": false, "id": 196985, "time": "2017-02-14T09:29:13Z", "creator": "markt@apache.org", "creation_time": "2017-02-14T09:29:13Z", "tags": [], "text": "Thanks for the report.\n\nFixed in:\n- trunk for 9.0.0.M18 onwards\n- 8.5.x for 8.5.12 onwards\n\nEarlier versions are not affected (no JASPIC support)"}]