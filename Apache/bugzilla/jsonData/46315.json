[{"count": 0, "tags": [], "bug_id": 46315, "text": "This is how far I got (if the attachment is correct):\n\nParameter value is transfered from fo:flow to Flow.\nParameter value is transfered from fo:block to Block.\nParameter is inherited from Flow if not specified in Block.\n\nParameter value is used in LayoutContext.\n\nOpen issues: \nHow and where do I transfer the parameter value from Block to LayoutContext?", "id": 122956, "time": "2008-12-01T02:36:44Z", "creator": "gd@geneon.de", "creation_time": "2008-12-01T02:36:44Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 46315, "text": "Created attachment 22970\nVersion 1", "id": 122957, "time": "2008-12-01T02:37:55Z", "creator": "gd@geneon.de", "creation_time": "2008-12-01T02:37:55Z", "is_private": false, "attachment_id": 22970}, {"count": 2, "tags": [], "bug_id": 46315, "attachment_id": 22971, "id": 122960, "time": "2008-12-01T04:18:44Z", "creator": "vhennebert@gmail.com", "creation_time": "2008-12-01T04:18:44Z", "is_private": false, "text": "Created attachment 22971\nVersion 1, modified to basically do the job\n\nHi Georg,\n\nThanks for the patch. This is basically what needs to be done. I attach a modified version of your patch with the following comments:\n- you don't need to do anything on the Flow object actually. Since the property is defined as inherited, the property sub-system will take care of this automatically.\n- it's best to move the definition of the property from the createBlockAndLineProperties method to createLayoutProperties (where the span property is also defined)\n- you can re-use the genericBoolean field in FOPropertyMapping\n- the default value is true and not inherit. The inherit characteristic is defined separately\n- you can't play with LayoutContext in that way. The value of the property needs to be known before Knuth elements are added to the element list (I don't want to enter the details too much). Your best bet is to mimic the way the span property is handled, see FlowLayoutManager in the attached patch\n\nPlease have a look at the attached patch; it worked for me on a basic example but more extensive testing is needed. To ensure it doesn't break anything you can run 'ant junit' on the command line at the base of the project. It will run all the test and print a big fat warning in case one is broken.\n\nNext step:\n- clean up a bit\n- make the modifications adhere to FOP's standard (see checkstyle-4.0.xml at the root of the project)\n- add a test case for the new feature (see the test/layoutengine/standard-testcases/ directory)\n\nThanks!\nVincent"}, {"count": 3, "tags": [], "creator": "gd@geneon.de", "attachment_id": 23098, "text": "Created attachment 23098\nSecond try of patch\n\nPlease review and comment.", "id": 123897, "time": "2009-01-09T06:14:31Z", "bug_id": 46315, "creation_time": "2009-01-09T06:14:31Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 46315, "attachment_id": null, "text": "(In reply to comment #3)\n> Created an attachment (id=23098) [details]\n> Second try of patch\n> \n> Please review and comment.\n> \n\nHi Georg,\n\nThanks for the patch. It's almost ready to be committed, but I'd like to simplify the test case a bit (remove the inline elements and the Arial font specification). Unfortunately that affects line height so the whole test needs to be re-worked to give to same results as before. I'll probably finish that tomorrow.\n\nVincent", "id": 123950, "time": "2009-01-12T03:40:09Z", "creator": "vhennebert@gmail.com", "creation_time": "2009-01-12T03:40:09Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 46315, "text": "(In reply to comment #4)\n> (In reply to comment #3)\n> > Created an attachment (id=23098) [details] [details]\n> > Second try of patch\n> > \n> > Please review and comment.\n> > \n> \n> Hi Georg,\n> \n> Thanks for the patch. It's almost ready to be committed, but I'd like to\n> simplify the test case a bit (remove the inline elements and the Arial font\n> specification). Unfortunately that affects line height so the whole test needs\n> to be re-worked to give to same results as before. I'll probably finish that\n> tomorrow.\n> \n> Vincent\n\nIt appears that bug #46322 is on the way of properly testing this extension, with the 'one line of the spanning block at the bottom of the page' problem. Either the test will need to be tweaked in order to work around the bug, at the risk of not being extensive enough, or it will have to be disabled until bug #46322 is fixed. More in the next episode...\n\nVincent\n", "id": 123987, "time": "2009-01-13T03:34:11Z", "creator": "vhennebert@gmail.com", "creation_time": "2009-01-13T03:34:11Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 46315, "attachment_id": null, "text": "Patch finally applied. I let the bug open for now and add a dependency on bug #46322 as a reminder that this feature will need to be re-checked when that other bug is fixed.\n\nThanks!\nVincent", "id": 124437, "time": "2009-01-28T07:40:30Z", "creator": "vhennebert@gmail.com", "creation_time": "2009-01-28T07:40:30Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 46315, "attachment_id": null, "id": 157371, "time": "2012-04-07T01:42:01Z", "creator": "gadams@apache.org", "creation_time": "2012-04-07T01:42:01Z", "is_private": false, "text": "resetting P2 open bugs to P3 pending further review"}, {"count": 8, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "text": "change status from ASSIGNED to NEW for consistency", "id": 157907, "time": "2012-04-11T06:17:27Z", "bug_id": 46315, "creation_time": "2012-04-11T06:17:27Z", "is_private": false}]