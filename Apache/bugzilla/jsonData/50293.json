[{"count": 0, "tags": [], "text": "Created attachment 26310\nSynchronize change in CompositeELResolver.add\n\nThe javax.el.CompositeELResolver.add method needs to synchronize around the update to the resolvers.  If two threads call add, then it is possible for both threads get past the size check, then one thread updates the size, and when the next thread tries to update the size, it fails with an ArrayIndexOutOfBoundsException.\n\nAlso, it makes sense to increase the default size of the ELResolver array since even the jasper EL adds 5 ELResolvers.  I propose a default of 8.", "attachment_id": 26310, "id": 141805, "creator": "robert_goff828@yahoo.com", "time": "2010-11-18T16:58:18Z", "bug_id": 50293, "creation_time": "2010-11-18T16:58:18Z", "is_private": false}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "The EL spec states the ELContexts are not thread-safe. By extension, neither are ELResolvers.\n\nThe point regarding increasing the default size is a valid one. I have increased it to 8 for 7.0.5 onwards as per your suggestion.", "id": 141846, "time": "2010-11-19T13:32:24Z", "bug_id": 50293, "creation_time": "2010-11-19T13:32:24Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 50293, "text": "*** Bug 52580 has been marked as a duplicate of this bug. ***", "id": 153472, "time": "2012-02-05T19:18:05Z", "creator": "markt@apache.org", "creation_time": "2012-02-05T19:18:05Z", "is_private": false, "attachment_id": null}]