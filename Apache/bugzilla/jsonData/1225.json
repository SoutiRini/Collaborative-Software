[{"attachment_id": null, "tags": [], "creator": "gregor.karlinger@gmx.net", "is_private": false, "count": 0, "id": 1743, "time": "2001-04-04T23:45:24Z", "bug_id": 1225, "creation_time": "2001-04-04T23:45:24Z", "text": "If I would like to add a namespace attribute to a DOM element\nusing method Element.setAttributeNS I have to specify the \nURI \"http://www.w3.org/2000/xmlns/\" for the parameter \n\"namespaceURI\".\n\nThis contradicts with section 4 of the W3C namespace recommendation\n(http://www.w3.org/TR/REC-xml-names/#nsc-NSDeclared), where it reads:\n\n  \"The prefix xmlns is used only for namespace bindings and is not\n   itself bound to any namespace name.\"\n\nI have also found out that Xerces behaves correct when parsing a\nXML document that contains such a namespace attribute. Consider\nthis example:\n\n<rootElem xmlns:myNS=\"http://anywhere.ns\"/>\n\nIn the resulting DOM object I can find a single attribute for\n\"rootElem\" which has following values:\n\nqualified name: \"xmlns:myNS\"\nprefix: \"xmlns\"\nname: \"myNS\"\nnamespace uri: \"\"\n\nSo, this behaviour contradicts the behaviour described above,\nwhen I try to manually construct a DOM object with a namespace\nattribute.\n\nI think I have located the problem in AttrNSImpl.java, \nlines 134 - 137 and 85 respectively, where it reads:\n\n85: static final String xmlnsURI = \"http://www.w3.org/2000/xmlns/\";\n\n134:  } else if (prefix.equals(\"xmlns\")) {\n135:      if (!namespaceURI.equals(xmlnsURI)) {\n136:          throw new DOMException(DOMException.NAMESPACE_ERR, \n137:                                 \"DOM003 Namespace error\");\n\nI think a solution is to change the \"xmlnsURI\" to the value \"\",\nbut I haven't thought about any side effects."}, {"count": 1, "tags": [], "bug_id": 1225, "attachment_id": null, "id": 1749, "time": "2001-04-05T07:19:00Z", "creator": "lehors@apache.org", "creation_time": "2001-04-05T07:19:00Z", "is_private": false, "text": "The DOM Level 2 Recommendation specifies: \nIn the DOM, all namespace declaration attributes are by definition bound to the \nnamespace URI: \"http://www.w3.org/2000/xmlns/\".\n\nSee http://www.w3.org/TR/DOM-Level-2-Core/core.html#Namespaces-Considerations\nThe fact that in a parsed document the same attribute ends up with an empty \nstring for namespaceURI is a bug that has been fixed.\n"}]