[{"count": 0, "tags": [], "bug_id": 58326, "attachment_id": null, "is_private": false, "id": 184959, "time": "2015-09-04T09:28:26Z", "creator": "kiwiwings@apache.org", "creation_time": "2015-09-04T09:28:26Z", "text": "This bug entry is used to track the patches due to the forbidden apis check.\nCurrently my tests run through (\"ant test\"), but I'd like to apply the \nforbidden apis check not only to our normal sources, but also to our tests.\n\nAs I haven't fixed all the tests, there will be either a new version of the \npatch or if you think v1 is ok, I'll commit the other changes right away ..."}, {"count": 1, "tags": [], "bug_id": 58326, "attachment_id": 33060, "is_private": false, "id": 184960, "time": "2015-09-04T09:32:29Z", "creator": "kiwiwings@apache.org", "creation_time": "2015-09-04T09:32:29Z", "text": "Created attachment 33060\n[PATCH] patch for forbidden apis - v1"}, {"count": 2, "tags": [], "text": "I like the separate LocaleUtil class which encapsulates the selection of all these items, \n\nI think it would be good to apply these changes now without enabling more forbidden-api-checks in order to get tests running fine again for now and then fix the remaining api-checks in the main sources. \n\nThen take a look at all the items in tests separately step-by-step while maintaining a green CI-build.", "attachment_id": null, "id": 184978, "creator": "dominik.stadler@gmx.at", "time": "2015-09-05T07:41:26Z", "bug_id": 58326, "creation_time": "2015-09-05T07:41:26Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 58326, "text": "first set of changes for locale and timezone settings with r1701688\nalso includes fixes for\n- name shadowing \n- unused deprecated method \"getClipRect\" in classes extending Graphics2d\n- HexDump - replaced intermediate String.format calls with custom padding\n- convert testcases to junit4\n- closing resources\n\nalso tested with an arbitary timezone (PST) and locale (ru)\n\nsupresses forbidden apis check for\n- LocaleUtil (the only place where Locale.getDefault() and \nTimeZone.getDefault() should be called)\n- Classes using FontMetrics - without the actual text it's difficult to return \nsomething sane\n\nSome usage of UTC and Locale.ROOT might be still wrong, e.g. in MapiMessage we \ndon't access the\nextended mapi properties, which might contain the timezone\n\nDataFormatter has now a Observable property which need to be observed when \ncustom formats are used\nand the Locale changes", "id": 185025, "time": "2015-09-07T20:21:34Z", "creator": "kiwiwings@apache.org", "creation_time": "2015-09-07T20:21:34Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 58326, "text": "The charset fixes are applied with r1701713\n\nSo it looks like, there's only - a probably not so easy to catch - error with \nCellDateFormatter to fix ...", "id": 185026, "time": "2015-09-08T00:07:44Z", "creator": "kiwiwings@apache.org", "creation_time": "2015-09-08T00:07:44Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "kiwiwings@apache.org", "attachment_id": null, "id": 186157, "creation_time": "2015-11-02T00:18:52Z", "time": "2015-11-02T00:18:52Z", "bug_id": 58326, "text": "Although there are still areas where we use forbidden apis, and we probably add further method signatures to the poi custom signature file, I'm closing this for now, as the main goal seems to be reached ...", "is_private": false}]