[{"count": 0, "tags": [], "text": "If I change my machine's regional settings to \"Turkish\" from \"English-US\" then \nI get \"BUILD FAILED\": the <javac> task doesn't support \"includes\" attribute, \nalthough the build file does not include any turkish character. \nThis is true for Win2K machines.\n\nIf I change language settings back, everything goes well.", "is_private": false, "bug_id": 4100, "id": 6583, "time": "2001-10-11T05:02:45Z", "creator": "vardaru@superonline.com", "creation_time": "2001-10-11T05:02:45Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 6879, "time": "2001-10-19T01:35:48Z", "bug_id": 4100, "creation_time": "2001-10-19T01:35:48Z", "is_private": false, "text": "Well, it does work for German.\n\nPlease excuse my ignorance, do you use a different character encoding in Turkey\nthan ISO-8859-1?\nDoes it work if you add encoding=\"UTF-8\" or similar to the <?xml?> declaration in\nyour build file?"}, {"count": 2, "tags": [], "bug_id": 4100, "attachment_id": null, "id": 6880, "time": "2001-10-19T01:48:15Z", "creator": "vardaru@superonline.com", "creation_time": "2001-10-19T01:48:15Z", "is_private": false, "text": "In Turkey, the character encoding is ISO-8859-9.\n\nThe files I tried were/are the files that come with standart packages, like \nAnt, Ozone-db etc. If I try to rebuild those packages I get the error. i.e. In \nthe files that I tried to build, there were no \"Turkish characters\". "}, {"count": 3, "tags": [], "bug_id": 4100, "attachment_id": null, "id": 6884, "time": "2001-10-19T02:15:46Z", "creator": "bodewig@apache.org", "creation_time": "2001-10-19T02:15:46Z", "is_private": false, "text": "Yes, but maybe changing the language has side effects (like giving Java a\ndifferent idea of the platform's default encoding).\n\nCan you rebuild Ant if you change the first line of the build file to read\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\nThis is just a guess, but we should try it anyway."}, {"count": 4, "attachment_id": null, "bug_id": 4100, "is_private": false, "id": 6889, "time": "2001-10-19T03:03:45Z", "creator": "vardaru@superonline.com", "creation_time": "2001-10-19T03:03:45Z", "tags": [], "text": "I have tried with <?xml version=\"1.0\" encoding=\"UTF-8\"?> in declaration part of \nthe build file. With \"Turkish\" regional setting I've got the following message:\nD:\\jakarta-ant-1.4.1\\build.xml:255: The <fileset> datatype doesn't support the \nnested \"include\" element.\nThen I changed regional settings twice: once for \"finnish\" (by accident:) and \nonce for English-US, both worked. I have built the ant-1.4.1."}, {"attachment_id": null, "tags": [], "bug_id": 4100, "is_private": false, "count": 5, "id": 6894, "time": "2001-10-19T07:10:16Z", "creator": "jesse.glick@netbeans.com", "creation_time": "2001-10-19T07:10:16Z", "text": "Yep. It's a good thing Turkish people try Java software because they find a\nsubtle bug which no one would notice otherwise. Try the attached patch and see\nif it corrects the problem. It is not complete and not tested, just trying to\ncorrect the problem for main introspection (tasks probably need fixes too).\n\nIn Turkish locale, Java correctly computes that:\n\n\t!\"I\".toLowerCase().equals(\"i\")\n\nIn fact it is a different non-ASCII letter. Also \"i\".toUpperCase() is not \"I\".\nThe programmer meant to write e.g.:\n\n\twhatever.toLowerCase(Locale.US)\n\nwhich assumes that the input is ASCII. In the cases being used here, code words\n(method names etc.) are being used, which are in fact ASCII and English, not in\nan arbitrary charset and localized.\n\nIf you have a test suite, it is a good idea to run everything in Turkish locale\nsometimes."}, {"count": 6, "attachment_id": 701, "bug_id": 4100, "is_private": false, "id": 6895, "time": "2001-10-19T07:10:44Z", "creator": "jesse.glick@netbeans.com", "creation_time": "2001-10-19T07:10:44Z", "tags": [], "text": "Created attachment 701\nExperimental patch"}, {"count": 7, "tags": [], "bug_id": 4100, "attachment_id": null, "is_private": false, "id": 6898, "time": "2001-10-19T08:41:14Z", "creator": "vardaru@superonline.com", "creation_time": "2001-10-19T08:41:14Z", "text": "Yes, I have applied the patches and the problem solved. I have now ant 1.4.1 \nand waiting for 1.4.2. ;-) \nThanks for your help.\n\nNote that  as Jesse Glick pointed, in Turkish, there is a lower case I (which \nis 'i' without '.' on top) and an upper case 'i' (which is 'I' with a '.' on \ntop) \n\n\nPS:To close this case, what should I do?\n"}, {"count": 8, "attachment_id": null, "bug_id": 4100, "is_private": false, "id": 6929, "time": "2001-10-20T02:25:48Z", "creator": "jesse.glick@netbeans.com", "creation_time": "2001-10-20T02:25:48Z", "tags": [], "text": "I guess someone should check through the Ant sources for suspicious uses of\ntoLowerCase() and toUpperCase()--I only checked the core package, not taskdefs\netc. The no-param versions should only be used on locale-aware text. Wherever\nthe input is assumed to be US-ASCII text (for Ant, probably this means all\nmethod names, task names, etc.), some specific locale (e.g. Locale.US, really\nanything other than Turkish) should be passed which ensures that the case\nconversion is done in ASCII. Character.to*Case should also be safe.\n\nFortunately String.compareTo is not locale-sensitive, otherwise you could have\nfurther differences in a variety of European locales.\n\nI will attach a list of no-arg case conversions in current Ant dev sources. Most\nhave something to do with OS name; unless there is somebody testing for e.g.\n\"Irix\" I doubt most of these would cause problems in Turkish. But many other\nuses look suspicious."}, {"count": 9, "tags": [], "creator": "jesse.glick@netbeans.com", "text": "Created attachment 702\nNo-arg calls to toLowerCase() & toUpperCase()", "id": 6930, "time": "2001-10-20T02:26:33Z", "bug_id": 4100, "creation_time": "2001-10-20T02:26:33Z", "is_private": false, "attachment_id": 702}, {"count": 10, "tags": [], "bug_id": 4100, "attachment_id": null, "text": "fixed in nightly build 2001-11-01", "id": 7358, "time": "2001-10-31T03:14:41Z", "creator": "bodewig@apache.org", "creation_time": "2001-10-31T03:14:41Z", "is_private": false}]