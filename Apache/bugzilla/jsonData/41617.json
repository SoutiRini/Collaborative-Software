[{"count": 0, "tags": [], "text": "I tried to compila apache 2.2.4 starting with:\n./configure --with-included-apr --enable-file-cache --enable-disk-cache --\nenable-mem-cache --enable-deflate --enable-rewrite --enable-so\n\nthen make.\nOn the line:\ngcc -g -O2 -pthread    -DLINUX=2 -D_REENTRANT -D_GNU_SOURCE -\nD_LARGEFILE64_SOURCE    -I/root/apache/httpd-2.2.4/srclib/pcre -I. -\nI/root/apache/httpd-2.2.4/os/unix -I/root/apache/httpd-\n2.2.4/server/mpm/prefork -I/root/apache/httpd-2.2.4/modules/http -\nI/root/apache/httpd-2.2.4/modules/filters -I/root/apache/httpd-\n2.2.4/modules/proxy -I/root/apache/httpd-2.2.4/include -I/root/apache/httpd-\n2.2.4/modules/generators -I/root/apache/httpd-2.2.4/modules/mappers -\nI/root/apache/httpd-2.2.4/modules/database -I/root/apache/httpd-\n2.2.4/srclib/apr/include -I/root/apache/httpd-2.2.4/srclib/apr-util/include -\nI/root/apache/httpd-2.2.4/modules/proxy/../generators -I/root/apache/httpd-\n2.2.4/modules/ssl -I/root/apache/httpd-2.2.4/modules/dav/main  -\nc /root/apache/httpd-2.2.4/server/buildmark.c\n/root/apache/httpd-2.2.4/srclib/apr/libtool --silent --mode=link gcc -g -O2 -\npthread        -o httpd  modules.lo buildmark.o -export-dynamic \nserver/libmain.la modules/aaa/libmod_authn_file.la \nmodules/aaa/libmod_authn_default.la modules/aaa/libmod_authz_host.la \nmodules/aaa/libmod_authz_groupfile.la modules/aaa/libmod_authz_user.la \nmodules/aaa/libmod_authz_default.la modules/aaa/libmod_auth_basic.la \nmodules/cache/libmod_file_cache.la modules/cache/libmod_disk_cache.la \nmodules/cache/libmod_mem_cache.la modules/filters/libmod_include.la \nmodules/filters/libmod_filter.la modules/filters/libmod_deflate.la \nmodules/loggers/libmod_log_config.la modules/metadata/libmod_env.la \nmodules/metadata/libmod_setenvif.la modules/http/libmod_http.la \nmodules/http/libmod_mime.la modules/generators/libmod_status.la \nmodules/generators/libmod_autoindex.la modules/generators/libmod_asis.la \nmodules/generators/libmod_cgi.la modules/mappers/libmod_negotiation.la \nmodules/mappers/libmod_dir.la modules/mappers/libmod_actions.la \nmodules/mappers/libmod_userdir.la modules/mappers/libmod_alias.la \nmodules/mappers/libmod_rewrite.la modules/mappers/libmod_so.la \nserver/mpm/prefork/libprefork.la os/unix/libos.la -lm /root/apache/httpd-\n2.2.4/srclib/pcre/libpcre.la /root/apache/httpd-2.2.4/srclib/apr-\nutil/libaprutil-1.la -lexpat /root/apache/httpd-2.2.4/srclib/apr/libapr-1.la -\nluuid -lrt -lcrypt -lpthread -ldl\n\nI got the following errors:\nmodules/cache/.libs/libmod_disk_cache.a(mod_disk_cache.o)(.text+0x73): In \nfunction `header_file':\n/root/apache/httpd-2.2.4/modules/cache/mod_disk_cache.c:73: undefined reference \nto `ap_cache_generate_name'\nmodules/cache/.libs/libmod_disk_cache.a(mod_disk_cache.o)(.text+0xf3): In \nfunction `data_file':\n/root/apache/httpd-2.2.4/modules/cache/mod_disk_cache.c:91: undefined reference \nto `ap_cache_generate_name'\nmodules/cache/.libs/libmod_disk_cache.a(mod_disk_cache.o)(.text+0x12cb): In \nfunction `store_headers':\n/root/apache/httpd-2.2.4/modules/cache/mod_disk_cache.c:925: undefined \nreference to `ap_cache_cacheable_hdrs_out'\nmodules/cache/.libs/libmod_disk_cache.a(mod_disk_cache.o)\n(.text+0x133b):/root/apache/httpd-2.2.4/modules/cache/mod_disk_cache.c:903: \nundefined reference to `ap_cache_cacheable_hdrs_out'\nmodules/cache/.libs/libmod_mem_cache.a(mod_mem_cache.o)(.text+0x862): In \nfunction `store_headers':\n/root/apache/httpd-2.2.4/modules/cache/mod_mem_cache.c:591: undefined reference \nto `ap_cache_cacheable_hdrs_out'\ncollect2: ld returned 1 exit status\nmake[1]: *** [httpd] Error 1\nmake[1]: Leaving directory `/root/apache/httpd-2.2.4'\nmake: *** [all-recursive] Error 1\n\nBut it is strange because in the file mod_disk_cache.c I already found \n#include \"mod_cache.h\" which should be enough for the erroneous line: \nif (!dobj->hashfile) { dobj->hashfile = ap_cache_generate_name(p, conf-\n>dirlevels, conf->dirlength, name); }", "attachment_id": null, "bug_id": 41617, "id": 99397, "time": "2007-02-14T20:46:35Z", "creator": "brain@eucoders.com", "creation_time": "2007-02-14T20:46:35Z", "is_private": false}, {"count": 1, "tags": [], "creator": "brain@eucoders.com", "attachment_id": null, "text": "If I try this:\n./configure --with-included-apr --enable-file-cache --enable-deflate --enable-\nrewrite --enable-so\n\nthen make works without problems.", "id": 99398, "time": "2007-02-14T21:03:17Z", "bug_id": 41617, "creation_time": "2007-02-14T21:03:17Z", "is_private": false}, {"count": 2, "tags": [], "creator": "brain@eucoders.com", "attachment_id": null, "id": 99399, "time": "2007-02-14T21:32:46Z", "bug_id": 41617, "creation_time": "2007-02-14T21:32:46Z", "is_private": false, "text": "I found the error, this:\n--enable-cache \nwas missing from my ./configure line.\nPlease ignore and close this post."}]