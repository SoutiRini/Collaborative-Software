[{"count": 0, "tags": [], "creator": "christoph.schmidt@moresophy.com", "text": "I test the webdav client against a webdav resource in\n\nhttps://www.sharemation.com\n\nThe method webdavResource.getChildResources() did not provide\nthe child folder. The reason is the following line the methode\n\nWebdavResource.setWebdavProperties(Enumeration responses)\n{\n...\n    char[] childURI = (myURI + (myURI.endsWith(\"/\") ? \"\" : \"/\")\n                       + URIUtil.getName(href)).toCharArray();\n...\n}\n\nhref ends with an \"/\" and URIUtil.getName(href) returns \"\".\nSo not subfolder is added.\n\nI would suppose something like:\n\n    char[] childURI = (myURI + (myURI.endsWith(\"/\") ? \"\" : \"/\")\n                       + URIUtil.encodePath(URIUtil.getName(\n                       getName(href)))).toCharArray();\n\nBut I'm not an expert...\n\n\nThe Webdav server responded:\n>>>>>>>  to  server  ---------------------------------------------------\nPROPFIND /chrschmidt/ HTTP/1.1\nAuthorization: Basic Y2hyc2NobWlkdDpnYW5kYWxm\nContent-Type: text/xml; charset=utf-8\nUser-Agent: Jakarta Commons-HttpClient/3.0-rc2\nHost: www.sharemation.com\nCookie: $Version=0; XythosSessionID1=[B@188aae--62923082; $Path=/\nDepth: 1\nContent-Length: 207\nDepth: 1\n\n<D:propfind xmlns:D=\"DAV:\">\n   <D:prop>\n      <D:displayname>\n      </D:displayname>\n      <D:getcontentlength>\n      </D:getcontentlength>\n      <D:getcontenttype>\n      </D:getcontenttype>\n      <D:resourcetype>\n      </D:resourcetype>\n      <D:getlastmodified>\n      </D:getlastmodified>\n      <D:lockdiscovery>\n      </D:lockdiscovery>\n   </D:prop>\n</D:propfind>\n------------------------------------------------------------------------\n\n<<<<<<< from server  ---------------------------------------------------\nHTTP/1.1 207 Multi-Status\nDate: Wed, 04 May 2005 14:52:40 GMT\nContent-Type: text/xml;charset=UTF-8\nContent-Length: 8466\nServer: Apache-Coyote/1.1\nConnection: close\n\n<D:multistatus\n      xmlns:D=\"DAV:\"\n      xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\"\n      xmlns:XS=\"http://www.w3.org/2001/XMLSchema\"\n      xmlns:XSI=\"http://www.w3.org/2001/XMLSchema-instance\">\n\n   <D:response xmlns:ns-1=\"http://www.xythos.com/namespaces/StorageServer\">\n      <D:href>\n            https://www.sharemation.com/chrschmidt/fipa00001.htm\n      </D:href>\n      <D:propstat>\n         <D:prop>\n            <D:creationdate>\n                  2003-01-21T09:10:55-0800\n            </D:creationdate>\n            <D:lockdiscovery>\n            </D:lockdiscovery>\n            <D:getcontentlength>\n                  11883\n            </D:getcontentlength>\n            <D:displayname>\n               <![CDATA[\n                  fipa00001.htm\n               ]]>\n            </D:displayname>\n            <D:getcontenttype>\n               <![CDATA[\n                  text/html\n               ]]>\n            </D:getcontenttype>\n            <D:getcontentlanguage>\n            </D:getcontentlanguage>\n            <D:resourcetype>\n            </D:resourcetype>\n            <D:getlastmodified>\n                  Tue, 21 Jan 2003 17:10:55 GMT\n            </D:getlastmodified>\n            <D:getetag>\n               <![CDATA[\n                  \"685924-656047\"\n               ]]>\n            </D:getetag>\n            <D:supportedlock>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:exclusive>\n                     </D:exclusive>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:shared>\n                     </D:shared>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n            </D:supportedlock>\n         </D:prop>\n         <D:status>\n               HTTP/1.1 200 OK\n         </D:status>\n      </D:propstat>\n   </D:response>\n   <D:response xmlns:ns-1=\"http://www.xythos.com/namespaces/StorageServer\">\n      <D:href>\n            https://www.sharemation.com/chrschmidt/fipa00009.htm\n      </D:href>\n      <D:propstat>\n         <D:prop>\n            <D:creationdate>\n                  2003-01-21T09:10:57-0800\n            </D:creationdate>\n            <D:lockdiscovery>\n            </D:lockdiscovery>\n            <D:getcontentlength>\n                  11035\n            </D:getcontentlength>\n            <D:displayname>\n               <![CDATA[\n                  fipa00009.htm\n               ]]>\n            </D:displayname>\n            <D:getcontenttype>\n               <![CDATA[\n                  text/html\n               ]]>\n            </D:getcontenttype>\n            <D:getcontentlanguage>\n            </D:getcontentlanguage>\n            <D:resourcetype>\n            </D:resourcetype>\n            <D:getlastmodified>\n                  Tue, 21 Jan 2003 17:10:57 GMT\n            </D:getlastmodified>\n            <D:getetag>\n               <![CDATA[\n                  \"685925-656048\"\n               ]]>\n            </D:getetag>\n            <D:supportedlock>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:exclusive>\n                     </D:exclusive>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:shared>\n                     </D:shared>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n            </D:supportedlock>\n         </D:prop>\n         <D:status>\n               HTTP/1.1 200 OK\n         </D:status>\n      </D:propstat>\n   </D:response>\n   <D:response xmlns:ns-1=\"http://www.xythos.com/namespaces/StorageServer\">\n      <D:href>\n            https://www.sharemation.com/chrschmidt/test/\n      </D:href>\n      <D:propstat>\n         <D:prop>\n            <D:creationdate>\n                  2003-01-22T09:23:02-0800\n            </D:creationdate>\n            <D:lockdiscovery>\n            </D:lockdiscovery>\n            <D:displayname>\n               <![CDATA[\n                  test\n               ]]>\n            </D:displayname>\n            <D:resourcetype>\n               <D:collection>\n               </D:collection>\n            </D:resourcetype>\n            <D:getlastmodified>\n                  Wed, 04 May 2005 13:50:27 GMT\n            </D:getlastmodified>\n            <D:supportedlock>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:exclusive>\n                     </D:exclusive>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:shared>\n                     </D:shared>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n            </D:supportedlock>\n         </D:prop>\n         <D:status>\n               HTTP/1.1 200 OK\n         </D:status>\n      </D:propstat>\n   </D:response>\n   <D:response xmlns:ns-1=\"http://www.xythos.com/namespaces/StorageServer\">\n      <D:href>\n            https://www.sharemation.com/chrschmidt/fipa00008.htm\n      </D:href>\n      <D:propstat>\n         <D:prop>\n            <D:creationdate>\n                  2003-01-21T09:10:50-0800\n            </D:creationdate>\n            <D:lockdiscovery>\n            </D:lockdiscovery>\n            <D:getcontentlength>\n                  11527\n            </D:getcontentlength>\n            <D:displayname>\n               <![CDATA[\n                  fipa00008.htm\n               ]]>\n            </D:displayname>\n            <D:getcontenttype>\n               <![CDATA[\n                  text/html\n               ]]>\n            </D:getcontenttype>\n            <D:getcontentlanguage>\n            </D:getcontentlanguage>\n            <D:resourcetype>\n            </D:resourcetype>\n            <D:getlastmodified>\n                  Tue, 21 Jan 2003 17:10:50 GMT\n            </D:getlastmodified>\n            <D:getetag>\n               <![CDATA[\n                  \"685922-656045\"\n               ]]>\n            </D:getetag>\n            <D:supportedlock>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:exclusive>\n                     </D:exclusive>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:shared>\n                     </D:shared>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n            </D:supportedlock>\n         </D:prop>\n         <D:status>\n               HTTP/1.1 200 OK\n         </D:status>\n      </D:propstat>\n   </D:response>\n   <D:response xmlns:ns-1=\"http://www.xythos.com/namespaces/StorageServer\">\n      <D:href>\n            https://www.sharemation.com/chrschmidt/test3/\n      </D:href>\n      <D:propstat>\n         <D:prop>\n            <D:creationdate>\n                  2003-01-23T01:05:35-0800\n            </D:creationdate>\n            <D:lockdiscovery>\n            </D:lockdiscovery>\n            <D:displayname>\n               <![CDATA[\n                  test3\n               ]]>\n            </D:displayname>\n            <D:resourcetype>\n               <D:collection>\n               </D:collection>\n            </D:resourcetype>\n            <D:getlastmodified>\n                  Thu, 23 Jan 2003 09:05:35 GMT\n            </D:getlastmodified>\n            <D:supportedlock>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:exclusive>\n                     </D:exclusive>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:shared>\n                     </D:shared>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n            </D:supportedlock>\n         </D:prop>\n         <D:status>\n               HTTP/1.1 200 OK\n         </D:status>\n      </D:propstat>\n   </D:response>\n   <D:response xmlns:ns-1=\"http://www.xythos.com/namespaces/StorageServer\">\n      <D:href>\n            https://www.sharemation.com/chrschmidt/fipa00007.htm\n      </D:href>\n      <D:propstat>\n         <D:prop>\n            <D:creationdate>\n                  2003-01-21T09:10:52-0800\n            </D:creationdate>\n            <D:lockdiscovery>\n            </D:lockdiscovery>\n            <D:getcontentlength>\n                  10998\n            </D:getcontentlength>\n            <D:displayname>\n               <![CDATA[\n                  fipa00007.htm\n               ]]>\n            </D:displayname>\n            <D:getcontenttype>\n               <![CDATA[\n                  text/html\n               ]]>\n            </D:getcontenttype>\n            <D:getcontentlanguage>\n            </D:getcontentlanguage>\n            <D:resourcetype>\n            </D:resourcetype>\n            <D:getlastmodified>\n                  Tue, 21 Jan 2003 17:10:52 GMT\n            </D:getlastmodified>\n            <D:getetag>\n               <![CDATA[\n                  \"685923-656046\"\n               ]]>\n            </D:getetag>\n            <D:supportedlock>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:exclusive>\n                     </D:exclusive>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:shared>\n                     </D:shared>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n            </D:supportedlock>\n         </D:prop>\n         <D:status>\n               HTTP/1.1 200 OK\n         </D:status>\n      </D:propstat>\n   </D:response>\n   <D:response xmlns:ns-1=\"http://www.xythos.com/namespaces/StorageServer\">\n      <D:href>\n            https://www.sharemation.com/chrschmidt/test2/\n      </D:href>\n      <D:propstat>\n         <D:prop>\n            <D:creationdate>\n                  2003-01-22T09:24:33-0800\n            </D:creationdate>\n            <D:lockdiscovery>\n            </D:lockdiscovery>\n            <D:displayname>\n               <![CDATA[\n                  test2\n               ]]>\n            </D:displayname>\n            <D:resourcetype>\n               <D:collection>\n               </D:collection>\n            </D:resourcetype>\n            <D:getlastmodified>\n                  Wed, 22 Jan 2003 17:24:33 GMT\n            </D:getlastmodified>\n            <D:supportedlock>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:exclusive>\n                     </D:exclusive>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:shared>\n                     </D:shared>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n            </D:supportedlock>\n         </D:prop>\n         <D:status>\n               HTTP/1.1 200 OK\n         </D:status>\n      </D:propstat>\n   </D:response>\n   <D:response xmlns:ns-1=\"http://www.xythos.com/namespaces/StorageServer\">\n      <D:href>\n            https://www.sharemation.com/chrschmidt/test5/\n      </D:href>\n      <D:propstat>\n         <D:prop>\n            <D:creationdate>\n                  2005-05-04T04:41:52-0700\n            </D:creationdate>\n            <D:lockdiscovery>\n            </D:lockdiscovery>\n            <D:displayname>\n               <![CDATA[\n                  test5\n               ]]>\n            </D:displayname>\n            <D:resourcetype>\n               <D:collection>\n               </D:collection>\n            </D:resourcetype>\n            <D:getlastmodified>\n                  Wed, 04 May 2005 11:42:38 GMT\n            </D:getlastmodified>\n            <D:supportedlock>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:exclusive>\n                     </D:exclusive>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:shared>\n                     </D:shared>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n            </D:supportedlock>\n         </D:prop>\n         <D:status>\n               HTTP/1.1 200 OK\n         </D:status>\n      </D:propstat>\n   </D:response>\n   <D:response xmlns:ns-1=\"http://www.xythos.com/namespaces/StorageServer\">\n      <D:href>\n            https://www.sharemation.com/chrschmidt/\n      </D:href>\n      <D:propstat>\n         <D:prop>\n            <D:creationdate>\n                  2003-01-21T09:05:09-0800\n            </D:creationdate>\n            <D:lockdiscovery>\n            </D:lockdiscovery>\n            <D:displayname>\n               <![CDATA[\n                  chrschmidt\n               ]]>\n            </D:displayname>\n            <D:resourcetype>\n               <D:collection>\n               </D:collection>\n            </D:resourcetype>\n            <D:getlastmodified>\n                  Wed, 04 May 2005 11:41:52 GMT\n            </D:getlastmodified>\n            <D:supportedlock>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:exclusive>\n                     </D:exclusive>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n               <D:lockentry>\n                  <D:lockscope>\n                     <D:shared>\n                     </D:shared>\n                  </D:lockscope>\n                  <D:locktype>\n                     <D:write>\n                     </D:write>\n                  </D:locktype>\n               </D:lockentry>\n            </D:supportedlock>\n            <ns-1:sharefromschrschmidt_x0040_1_x003a_29094 XSI:type=\"XS:string\">\n            </ns-1:sharefromschrschmidt_x0040_1_x003a_29094>\n            <ns-1:NavigationExpansionchrschmidt_x0040_1_x003a_29094\n                  SOAP-ENC:arrayType=\"XS:string[2]\"\n                  XSI:type=\"SOAP-ENC:Array\">\n\n               <XS:string xmlns:XS=\"http://www.w3.org/2001/XMLSchema\">\n                  <![CDATA[\n                     bookmarks\n                  ]]>\n               </XS:string>\n               <XS:string xmlns:XS=\"http://www.w3.org/2001/XMLSchema\">\n                  <![CDATA[\n                     utilities\n                  ]]>\n               </XS:string>\n            </ns-1:NavigationExpansionchrschmidt_x0040_1_x003a_29094>\n         </D:prop>\n         <D:status>\n               HTTP/1.1 200 OK\n         </D:status>\n      </D:propstat>\n   </D:response>\n</D:multistatus>\n------------------------------------------------------------------------", "id": 74439, "time": "2005-05-04T16:54:28Z", "bug_id": 34741, "creation_time": "2005-05-04T16:54:28Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 34741, "text": "I'm facing with this bug; is somebody looking how to resolve it?\nI also note that this bug is still present in the CVS tree.\nI'm trying the code suggested by Christoph Schmidt, subsequent tests show this\ncode work.", "id": 82175, "time": "2005-11-07T12:19:41Z", "creator": "nicola.buso@eng.it", "creation_time": "2005-11-07T12:19:41Z", "is_private": false, "attachment_id": null}]