[{"count": 0, "tags": [], "creator": "ddinsdale@shaw.ca", "attachment_id": null, "is_private": false, "id": 109369, "time": "2007-10-15T18:37:05Z", "bug_id": 43629, "creation_time": "2007-10-15T18:37:05Z", "text": "log file from ant download:\n\nBuildfile: build.xml\n\ndownload:\n\nproxyflags:\n\nsetproxy:\n\ntestexist:\n     [echo] Testing  for /usr/share/java/tomcat-native-1.1.10/tomcat-native.tar.gz\n\ndownloadfile:\n\nproxyflags:\n\nsetproxy:\n\ntestexist:\n     [echo] Testing  for /usr/share/java/commons-daemon-1.0.1/commons-daemon.jar\n\ndownloadgz:\n\nproxyflags:\n\nsetproxy:\n\ntestexist:\n     [echo] Testing  for /usr/share/java/tomcat6-deps/dbcp/tomcat-dbcp.jar\n\ndownloadgz:\n      [get] Getting:\nhttp://archive.apache.org/dist/jakarta/commons/collections/source/commons-collections-3.2-src.tar.gz\n      [get] To: C:\\usr\\share\\java\\file.tar.gz\n   [gunzip] Expanding C:\\usr\\share\\java\\file.tar.gz to C:\\usr\\share\\java\\file.tar\n    [untar] Expanding: C:\\usr\\share\\java\\file.tar into C:\\usr\\share\\java\n   [delete] Deleting: C:\\usr\\share\\java\\file.tar\n   [delete] Deleting: C:\\usr\\share\\java\\file.tar.gz\n\nproxyflags:\n\nsetproxy:\n\ntestexist:\n     [echo] Testing  for /usr/share/java/tomcat6-deps/dbcp/tomcat-dbcp.jar\n\ndownloadgz:\n      [get] Getting:\nhttp://archive.apache.org/dist/jakarta/commons/pool/source/commons-pool-1.3-src.tar.gz\n      [get] To: C:\\usr\\share\\java\\file.tar.gz\n   [gunzip] Expanding C:\\usr\\share\\java\\file.tar.gz to C:\\usr\\share\\java\\file.tar\n    [untar] Expanding: C:\\usr\\share\\java\\file.tar into C:\\usr\\share\\java\n   [delete] Deleting: C:\\usr\\share\\java\\file.tar\n   [delete] Deleting: C:\\usr\\share\\java\\file.tar.gz\n\nproxyflags:\n\nsetproxy:\n\ntestexist:\n     [echo] Testing  for /usr/share/java/tomcat6-deps/dbcp/tomcat-dbcp.jar\n\ndownloadgz:\n      [get] Getting:\nhttp://archive.apache.org/dist/jakarta/commons/dbcp/source/commons-dbcp-1.2.2-src.tar.gz\n      [get] To: C:\\usr\\share\\java\\file.tar.gz\n   [gunzip] Expanding C:\\usr\\share\\java\\file.tar.gz to C:\\usr\\share\\java\\file.tar\n    [untar] Expanding: C:\\usr\\share\\java\\file.tar into C:\\usr\\share\\java\n   [delete] Deleting: C:\\usr\\share\\java\\file.tar\n   [delete] Deleting: C:\\usr\\share\\java\\file.tar.gz\n\nbuild-tomcat-dbcp:\n     [copy] Copying 61 files to C:\\usr\\share\\java\\tomcat6-deps\\dbcp\n     [move] Moving 61 files to\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\n    [javac] Compiling 61 source files to C:\\usr\\share\\java\\tomcat6-deps\\dbcp\\classes\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\BasicDataSource.java:44:\norg.apache.tomcat.dbcp.dbcp.BasicDataSource is not abstract and does not\noverride abstract method isWrapperFor(java.lang.Class<?>) in java.sql.Wrapper\n    [javac] public class BasicDataSource implements DataSource {\n    [javac]        ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\DelegatingStatement.java:46:\norg.apache.tomcat.dbcp.dbcp.DelegatingStatement is not abstract and does not\noverride abstract method isPoolable() in java.sql.Statement\n    [javac] public class DelegatingStatement extends AbandonedTrace implements\nStatement {\n    [javac]        ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\DelegatingStatement.java:131:\nisClosed() in org.apache.tomcat.dbcp.dbcp.DelegatingStatement cannot implement\nisClosed() in java.sql.Statement; attempting to assign weaker access privileges;\nwas public\n    [javac]     protected boolean isClosed() {\n    [javac]                       ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\DelegatingPreparedStatement.java:50:\norg.apache.tomcat.dbcp.dbcp.DelegatingPreparedStatement is not abstract and does\nnot override abstract method setNClob(int,java.io.Reader) in\njava.sql.PreparedStatement\n    [javac] public class DelegatingPreparedStatement extends DelegatingStatement\n    [javac]        ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\DelegatingCallableStatement.java:53:\norg.apache.tomcat.dbcp.dbcp.DelegatingCallableStatement is not abstract and does\nnot override abstract method setNClob(java.lang.String,java.io.Reader) in\njava.sql.CallableStatement\n    [javac] public class DelegatingCallableStatement extends\nDelegatingPreparedStatement\n    [javac]        ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\DelegatingConnection.java:51:\norg.apache.tomcat.dbcp.dbcp.DelegatingConnection is not abstract and does not\noverride abstract method createStruct(java.lang.String,java.lang.Object[]) in\njava.sql.Connection\n    [javac] public class DelegatingConnection extends AbandonedTrace\n    [javac]        ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\DelegatingResultSet.java:55:\norg.apache.tomcat.dbcp.dbcp.DelegatingResultSet is not abstract and does not\noverride abstract method updateNClob(java.lang.String,java.io.Reader) in\njava.sql.ResultSet\n    [javac] public class DelegatingResultSet extends AbandonedTrace implements\nResultSet {\n    [javac]        ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\PoolablePreparedStatement.java:41:\norg.apache.tomcat.dbcp.dbcp.PoolablePreparedStatement is not abstract and does\nnot override abstract method setNClob(int,java.io.Reader) in\njava.sql.PreparedStatement\n    [javac] public class PoolablePreparedStatement extends\nDelegatingPreparedStatement implements PreparedStatement {\n    [javac]        ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\PoolingConnection.java:42:\norg.apache.tomcat.dbcp.dbcp.PoolingConnection is not abstract and does not\noverride abstract method createStruct(java.lang.String,java.lang.Object[]) in\njava.sql.Connection\n    [javac] public class PoolingConnection extends DelegatingConnection\nimplements Connection, KeyedPoolableObjectFactory {\n    [javac]        ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\PoolingDataSource.java:45:\norg.apache.tomcat.dbcp.dbcp.PoolingDataSource is not abstract and does not\noverride abstract method isWrapperFor(java.lang.Class<?>) in java.sql.Wrapper\n    [javac] public class PoolingDataSource implements DataSource {\n    [javac]        ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\cpdsadapter\\ConnectionImpl.java:41:\norg.apache.tomcat.dbcp.dbcp.cpdsadapter.ConnectionImpl is not abstract and does\nnot override abstract method createStruct(java.lang.String,java.lang.Object[])\nin java.sql.Connection\n    [javac] class ConnectionImpl implements Connection {\n    [javac] ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\cpdsadapter\\PooledConnectionImpl.java:43:\norg.apache.tomcat.dbcp.dbcp.cpdsadapter.PooledConnectionImpl is not abstract and\ndoes not override abstract method\nremoveStatementEventListener(javax.sql.StatementEventListener) in\njavax.sql.PooledConnection\n    [javac] class PooledConnectionImpl \n    [javac] ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\cpdsadapter\\PoolablePreparedStatementStub.java:34:\nisClosed() in org.apache.tomcat.dbcp.dbcp.DelegatingStatement cannot implement\nisClosed() in java.sql.Statement; attempting to assign weaker access privileges;\nwas public\n    [javac] class PoolablePreparedStatementStub extends PoolablePreparedStatement {\n    [javac] ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\datasources\\PerUserPoolDataSource.java:52:\norg.apache.tomcat.dbcp.dbcp.datasources.PerUserPoolDataSource is not abstract\nand does not override abstract method isWrapperFor(java.lang.Class<?>) in\njava.sql.Wrapper\n    [javac] public class PerUserPoolDataSource\n    [javac]        ^\n    [javac]\nC:\\usr\\share\\java\\tomcat6-deps\\dbcp\\src\\java\\org\\apache\\tomcat\\dbcp\\dbcp\\datasources\\SharedPoolDataSource.java:45:\norg.apache.tomcat.dbcp.dbcp.datasources.SharedPoolDataSource is not abstract and\ndoes not override abstract method isWrapperFor(java.lang.Class<?>) in\njava.sql.Wrapper\n    [javac] public class SharedPoolDataSource\n    [javac]        ^\n    [javac] Note: Some input files use or override a deprecated API.\n    [javac] Note: Recompile with -Xlint:deprecation for details.\n    [javac] Note: Some input files use unchecked or unsafe operations.\n    [javac] Note: Recompile with -Xlint:unchecked for details.\n    [javac] 15 errors"}, {"count": 1, "tags": [], "bug_id": 43629, "attachment_id": null, "is_private": false, "id": 109370, "time": "2007-10-15T18:52:11Z", "creator": "william.barker@wilshire.com", "creation_time": "2007-10-15T18:52:11Z", "text": "This isn't a Tomcat bug, it is a commons-dbcp bug \n(https://issues.apache.org/jira/browse/DBCP-191 to be exact:).\n\nThe only work-around I can offer is to build the \"build-tomcat-dbcp\" target \nusing a 1.5.x JVM, and then build the rest with a 1.6.x JVM.  \n\nThere is also a patch on the DBCP-191 bug report, but I don't know how cleanly \nit will apply to the version Tomcat is using."}]