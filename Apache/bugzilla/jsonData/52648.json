[{"count": 0, "tags": [], "bug_id": 52648, "text": "Created attachment 28310\nProposed patch\n\nHi,\n\nlooking at the code, I have found 7 places where the r->request field is set.\n\nmod_isapi.c\nmod_asis.c\nmod_cgi.c\nmod_cgid.c\nhttp_request.c\nmod_proxy_scgi.c\nprotocol.c\n\nMost of the time it is set using :\n   r->method = apr_pstrdup(r->pool, \"GET\");\n\n\nHowever, 'mod_proxy_scgi.c', only does :\n   r->method = \"GET\";\n\nI think that this is enough and that there is no need to 'apr_pstrdup' the name of the method. The attached patch removes these, IMO, useless copies.\n\nShould I be wrong and the copy useful, then I think that 'mod_proxy_scgi.c' should be fixed to work as the other modules.", "id": 153717, "time": "2012-02-13T09:22:33Z", "creator": "christophe.jaillet@wanadoo.fr", "creation_time": "2012-02-13T09:22:33Z", "is_private": false, "attachment_id": 28310}, {"count": 1, "tags": [], "bug_id": 52648, "text": "The type of r->method is const char *, so I think you are right.", "id": 153734, "time": "2012-02-13T14:47:12Z", "creator": "takashi.asfbugzilla@tks.st", "creation_time": "2012-02-13T14:47:12Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "text": "Fixes look right.  pstrdup would have been appropriate from one pool context to\nanother pool context, but code strings will be outliving all other allocations.", "id": 153755, "time": "2012-02-13T22:26:09Z", "bug_id": 52648, "creation_time": "2012-02-13T22:26:09Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 52648, "text": "r1361803, thanks", "count": 3, "id": 160658, "time": "2012-07-15T21:20:11Z", "creator": "sf@sfritsch.de", "creation_time": "2012-07-15T21:20:11Z", "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 52648, "is_private": false, "id": 160841, "time": "2012-07-23T15:36:45Z", "creator": "jorton@redhat.com", "creation_time": "2012-07-23T15:36:45Z", "tags": [], "text": "r1364681 for 2.4.x"}]