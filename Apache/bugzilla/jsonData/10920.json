[{"count": 0, "attachment_id": null, "creator": "bzeeb@zabbadoz.net", "text": "As suggest first posted to apache users but go no answer so here we go ...\n\nwas just looking at http-ldap CVS checkout from 2002-07-12 and\nhttpd-2.0.39.\n\nWhen compiling on FreeBSD threads are disabled by default in apache2\nas stated in INSTALL.\n\ncompiling --with-ldap will fail because include/util_ldap.h uses\napr_thread_mutex_t but as APR_HAS_THREADS is defined 0\nthat struct (typedefed somewhere else) from\n        srclib/apr/include/arch/unix/thread_mutex.h\nis not known.\n\nldap-aaa and ldap-cache also seem to depend on threads.\n\nMy question now is:\n\na) ldap stuff should also work without threads ? so can someone who\n   knows the code please have a look at and change it to also work\n   without threads.\n\nb) please check for threads in configure when you need\n   them and do not allow the user to compile without; I am not\n   talking about -lpthread, which will also be found on FreeBSD,\n   but --{enable,disable}-threads.\n   [ ok, this may be tricky within actual build framework but\n     this should no longer be necessary if a) is done ;-) ]", "id": 19713, "time": "2002-07-17T20:27:04Z", "bug_id": 10920, "creation_time": "2002-07-17T20:27:04Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": null, "creator": "trawick@apache.org", "text": "The ldap code now supports a non-threaded environment such as APR-on-FreeBSD.\n\nutil_ldap.h was updated in httpd-2.0 CVS and various pieces were updated in \nhttpd-ldap CVS.\n\nYour point about checking for features at configure time and disabling\nfunction as necessary is well taken.  Various such checks are present.\nThere aren't too many people using the ldap code yet so it fell through\nthe cracks.\n\nThanks for your report, and thanks for using Apache!\n\n", "id": 20441, "time": "2002-07-30T19:47:24Z", "bug_id": 10920, "creation_time": "2002-07-30T19:47:24Z", "tags": [], "is_private": false}]