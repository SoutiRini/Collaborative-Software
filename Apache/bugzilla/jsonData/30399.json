[{"count": 0, "tags": [], "bug_id": 30399, "attachment_id": null, "id": 61348, "creation_time": "2004-07-29T23:12:07Z", "time": "2004-07-29T23:12:07Z", "creator": "ruediger.pluem@vodafone.com", "text": "Hi,\n\nI have a question regarding mod_cache's behaviour about caching response headers.\nI noticed that mod_cache also stores cookies (or better the Set-Cookie header)\nwith all the other End-to-end headers (see 13.5.1 RFC 2616). As I can see\nfrom the RFC this is required to be RFC 2616 compliant.\n\nIn my special case this is a problem because I try to use mod_cache to cache\nTomcat generated jsps for performance reasons.\n\nCurrently I help myself by adding\n\napr_table_unset(headers_out, \"Set-Cookie\");\n\nto ap_cache_cacheable_hdrs_out. As this approach breaks RFC 2616 compliance I\nam sure that this approach will never be part of the official Apache code.\n\nTo prevent patching of future Apache versions I would like ask to if\nthere is any chance that an additional configuration directive will be added\nto mod_cache that allows to define headers that should not be cached.\nOf course setting this directive in your configuration would break RFC 2616\ncompliance of mod_cache, so the default value for this directive should be\nempty or none.\n\n\nRegards\n\nR\u00fcdiger Pl\u00fcm", "is_private": false}, {"count": 1, "text": "Hi,\n\nmeanwhile I wrote a patch to mod_cache / mod_disk_cache / mod_mem_cache that\nintroduces the new server config directive CacheStoreCookies. By default this\ndirective is set to \"On\" thus leaving everything as it currently behaves\nin 2.0.50. Setting CacheStoreCookies to \"Off\" prevents the Set-Cookie headers\nfrom being stored by the cache. This way I can configure the behaviour that\nI need in my special case.\n\nRegards\n\nR\u00fcdiger Pl\u00fcm", "creator": "ruediger.pluem@vodafone.com", "is_private": false, "id": 61425, "time": "2004-08-01T10:37:39Z", "bug_id": 30399, "creation_time": "2004-08-01T10:37:39Z", "tags": [], "attachment_id": null}, {"count": 2, "text": "Created attachment 12295\nCacheStoreCookies Patch", "creator": "ruediger.pluem@vodafone.com", "attachment_id": 12295, "id": 61426, "time": "2004-08-01T10:38:51Z", "bug_id": 30399, "creation_time": "2004-08-01T10:38:51Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "creator": "ruediger.pluem@vodafone.com", "is_private": false, "count": 3, "id": 62116, "time": "2004-08-18T11:28:47Z", "bug_id": 30399, "creation_time": "2004-08-18T11:28:47Z", "text": "My patch has a little different implementation approach compared to the patch of\n23687. Also the patch for the documentation is currently missing. I will add\nthis when I find time or someone gets interested in my version of the patch."}, {"attachment_id": 12877, "tags": [], "bug_id": 30399, "text": "Created attachment 12877\nPatch against 2.0.51", "count": 4, "id": 64303, "time": "2004-09-28T12:24:24Z", "creator": "ruediger.pluem@vodafone.com", "creation_time": "2004-09-28T12:24:24Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 30399, "text": "Created attachment 13097\nMore general approach patch against 2.0.52.", "id": 65170, "attachment_id": 13097, "creator": "ruediger.pluem@vodafone.com", "creation_time": "2004-10-15T08:55:25Z", "time": "2004-10-15T08:55:25Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 30399, "is_private": false, "id": 65171, "attachment_id": null, "creator": "ruediger.pluem@vodafone.com", "creation_time": "2004-10-15T08:58:42Z", "time": "2004-10-15T08:58:42Z", "text": "After a discussion on the developer list the new patch has a more general\napproach and replaces the previous CacheStoreCookies directive with the more\ngeneral CacheIgnoreHeaders directive which allows to prevent arbitrary headers\nfrom being stored, not just cookies."}, {"count": 7, "tags": [], "bug_id": 30399, "is_private": false, "id": 66891, "attachment_id": null, "creator": "jerenkrantz@apache.org", "creation_time": "2004-11-15T01:10:18Z", "time": "2004-11-15T01:10:18Z", "text": "CacheIgnoreHeaders is now in 2.1 and will be incorporated in a future release.\n\nThanks!"}, {"count": 8, "tags": [], "creator": "ruediger.pluem@vodafone.com", "attachment_id": 14434, "id": 72008, "time": "2005-03-08T22:00:48Z", "bug_id": 30399, "creation_time": "2005-03-08T22:00:48Z", "is_private": false, "text": "Created attachment 14434\nPatch against 2.0.53"}]