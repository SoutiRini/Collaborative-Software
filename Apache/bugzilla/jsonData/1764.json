[{"count": 0, "tags": [], "bug_id": 1764, "attachment_id": null, "text": "This bug returns empty result in case there are two possible options and you \nhave entered the first one eg. <HTML> <HEAD></HEAD> @ this point there it \nreturns empty Rather than <BODY>.\n\nThe cauze\norg.apache.xerces.validators.common.SimpleContentModel.java\n\n/****************START*****************/\n    public int whatCanGoHere(boolean fullyValid, InsertableElementsInfo info)\n    throws Exception {\n        \n        //\n        //  For this one, having the empty slot at the insertion point is\n        //  a problem. So lets compress the array down. We know that it has\n        //  to have at least the empty slot at the insertion point.\n        //\n\n/*****************************WAS**********************/\n            for (int index = info.insertAt; index < info.childCount; index++) {\n                info.curChildren[index].setValues(info.curChildren[index+1]);\n            }\n            info.childCount--;\n/***************************SHOULD BE*******************/\n        \n        if(info.insertAt < info.childCount){\n            for (int index = info.insertAt; index < info.childCount; index++) {\n                info.curChildren[index].setValues(info.curChildren[index+1]);\n            }\n            info.childCount--;\n        }\n/********************************************************/", "id": 2457, "time": "2001-05-15T20:25:27Z", "creator": "sand@glide.net.in", "creation_time": "2001-05-15T20:25:27Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 1764, "is_private": false, "count": 1, "id": 3378, "time": "2001-07-03T14:12:30Z", "creator": "elena@apache.org", "creation_time": "2001-07-03T14:12:30Z", "text": "whatCanGoHere() is not maintainable code: parser don't use this code internally. \nIt was probably related to re-validation mechanism available in earlier \nxml4j/Xerces code. We plan to revisit re-validation in Xerces2."}]