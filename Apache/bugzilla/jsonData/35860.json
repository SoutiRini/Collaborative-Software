[{"count": 0, "tags": [], "creator": "Sam.Mesh@gmail.com", "is_private": false, "text": "Ant is deployed as part of the Web App together with our custom task. In Tomcat,\neverything works fine. In Weblogic Server, Ant can not find custom task. It\nseems, we use Ant provided with WLS and it does not see web app classes.", "id": 77643, "time": "2005-07-26T08:07:32Z", "bug_id": 35860, "creation_time": "2005-07-26T08:07:32Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 35860, "is_private": false, "count": 1, "id": 77644, "time": "2005-07-26T08:14:41Z", "creator": "kevin.jackson@it.fts-vn.com", "creation_time": "2005-07-26T08:14:41Z", "text": "Can you try deploying with Ant (+ weblogic task) instead of the hacked version\nof ant that comes with WL?\n\nFailing that, just use normal ant and copy the the war/ear to the applications\ndirectory under the domain, and then call out to the startWeblogic.  We\ncurrently do this (although not all through Ant), not sure if it works for EJBs\netc, but for Spring it's fine\n\nKev"}, {"count": 2, "tags": [], "creator": "Sam.Mesh@gmail.com", "is_private": false, "text": "Kev,\n\nPlease correct me is I am wrong:\n- You mean 'use Ant on the client side *to deploy* my web app'.\n- I mean 'deploy Ant *with* my web app and use it on the sever from my web app'.\n\nAre we on the same page?", "id": 77645, "time": "2005-07-26T08:25:34Z", "bug_id": 35860, "creation_time": "2005-07-26T08:25:34Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 35860, "attachment_id": null, "id": 77647, "time": "2005-07-26T08:31:48Z", "creator": "kevin.jackson@it.fts-vn.com", "creation_time": "2005-07-26T08:31:48Z", "is_private": false, "text": "(In reply to comment #2)\n> Kev,\n> \n> Please correct me is I am wrong:\n> - You mean 'use Ant on the client side *to deploy* my web app'.\nYep that's what I thought you meant in the original post\n\n> - I mean 'deploy Ant *with* my web app and use it on the sever from my web app'.\n> \nOk that's a different kettle of fish.  From my experience with Weblogic over the\npast few months, my first suggestion would be to ensure that the vanilla Ant is\nrunning and on the classpath, and not the version that ships with Weblogic.  I'm\nnot sure what they did to it, but it appears to behave a little differently.\n\nSorry for the confusion, I thought you wanted to try and deploy code from client\nto server.  My bad.\n\nKev\n"}, {"count": 4, "tags": [], "bug_id": 35860, "is_private": false, "id": 77648, "attachment_id": null, "creator": "Sam.Mesh@gmail.com", "creation_time": "2005-07-26T08:43:01Z", "time": "2005-07-26T08:43:01Z", "text": "(In reply to comment #3)\n> ... my first suggestion would be to ensure that the vanilla Ant is\n> running and on the classpath, and not the version that ships with Weblogic.  I'm\n> not sure what they did to it, but it appears to behave a little differently.\n\nThe goal was not to force customers to customize their WLS but deploy all our\nstuff within web app. Will wait for somebody's help... :)\n\nPS. If I add my custom task's jar into system classpath, everything is going\nfine. So, I'm pretty satisfied so far with Ant shipped with WLS.\n\nBTW, is the item 'deploy and use Ant with your web app' somewhere in the Ant\nmanual(s)?"}, {"count": 5, "tags": [], "text": "I am confused. I understand that you are trying to use ant server-side, but are you \n\n(a) doing something on the command line related to ant and the app server\n\n(b) embedding ant inside your WAR file and trying to invoke it to do things\n\n(c) using it like (b), but relying on ant on the command line and going\nexec(\"ant\"). In both cases, any app-server supplied ant distro is going to get\nin the way, big time.\n\nThis is not really a bug report, more something you should come and discuss on\nthe user or developer groups.", "is_private": false, "id": 77657, "creator": "stevel@apache.org", "time": "2005-07-26T12:05:39Z", "bug_id": 35860, "creation_time": "2005-07-26T12:05:39Z", "attachment_id": null}, {"count": 6, "tags": [], "creator": "Sam.Mesh@gmail.com", "is_private": false, "text": "(In reply to comment #5)\n> I am confused. I understand that you are trying to use ant server-side, but\nare you \n> (b) embedding ant inside your WAR file and trying to invoke it to do things\n\n(b) and try to invoke embedded Ant in the same JVM as my web app. Instead, Ant\nprovided with WLS is invoked. This is default classloader behavior.\n\n> This is not really a bug report, more something you should come and discuss on\n> the user or developer groups.\n\nCould you please point me out to the appropriate one?", "id": 77822, "time": "2005-07-29T07:29:46Z", "bug_id": 35860, "creation_time": "2005-07-29T07:29:46Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 35860, "attachment_id": null, "id": 77825, "time": "2005-07-29T13:10:49Z", "creator": "stevel@apache.org", "creation_time": "2005-07-29T13:10:49Z", "is_private": false, "text": "the apache developer mail list, as indexed here: http://ant.apache.org/mail.html\n\nThis sounds like an app server classpath problem; there must be some way to\nconfigure the app server to give bundled stuff priority. if you cant do that,\nwhat about not relying on your custom tasks to be installed on the classpath,\nand set the appropriate classpath with <taskdef>"}, {"count": 8, "tags": [], "bug_id": 35860, "is_private": false, "id": 77835, "attachment_id": null, "creator": "Sam.Mesh@gmail.com", "creation_time": "2005-07-29T20:12:40Z", "time": "2005-07-29T20:12:40Z", "text": "(In reply to comment #7)\nMeanwhile, I come up with the following solution. My Ant starter knows the class\nfor the task. Moreover, they both are in the came classloader. So, I use\norg.apache.tools.ant.Project.addTaskDefinition(String taskName, Class taskClass).\n\nAny hidden pitfalls considering Ant is in the System classpath and task is in\nthe web app?\n\nWill this task be visible in the ant files that are called from the file where\nthis task is defined?\n\nThanks for the pointer. I definitely should move this discussion there. Just\ngimme a time to formulate my questions... :)"}, {"count": 9, "tags": [], "bug_id": 35860, "text": "Looks like this either works or is a weblogic problem", "id": 93308, "attachment_id": null, "creator": "peterreilly@apache.org", "creation_time": "2006-09-10T21:15:53Z", "time": "2006-09-10T21:15:53Z", "is_private": false}]