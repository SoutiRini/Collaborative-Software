[{"count": 0, "tags": [], "text": "If the thread has already terminated apr_thread_join fails since the thread\nhandle is already closed.\n\nThis error occurs with 0.9.x too.", "is_private": false, "id": 55995, "creator": "abcdefghijklmnopq@gmx.net", "time": "2004-04-19T05:59:54Z", "bug_id": 28460, "creation_time": "2004-04-19T05:59:54Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "abcdefghijklmnopq@gmx.net", "attachment_id": null, "text": "Changes included in the following patch:\n\n* include/arch/win32/apr_arch_threadproc.h\n  (apr_thread_t): New status variable to indicate a terminated thread\n\n* test/testatomic.c\n  (test_atomics_threaded): Check the return code from apr_thread_join\n\n* threadproc/win32/thread.c\n  (apr_thread_create): Initialize the status variable\n  (apr_thread_exit): Set the terminated status if the thread is not detached\n  (apr_thread_join): If the wait fails, look whether the thread was already\n  terminated.", "id": 55996, "time": "2004-04-19T06:04:59Z", "bug_id": 28460, "creation_time": "2004-04-19T06:04:59Z", "is_private": false}, {"count": 2, "tags": [], "text": "Created attachment 11273\nProposed patch", "is_private": false, "id": 55997, "creator": "abcdefghijklmnopq@gmx.net", "time": "2004-04-19T06:16:31Z", "bug_id": 28460, "creation_time": "2004-04-19T06:16:31Z", "attachment_id": 11273}, {"count": 3, "tags": [], "text": "Created attachment 12159\nfixes deadlock and illegal join for win32 threads.", "is_private": false, "id": 60806, "creator": "eholyat@olf.com", "time": "2004-07-19T15:15:24Z", "bug_id": 28460, "creation_time": "2004-07-19T15:15:24Z", "attachment_id": 12159}, {"count": 4, "tags": [], "bug_id": 28460, "attachment_id": 12162, "id": 60812, "time": "2004-07-19T16:22:31Z", "creator": "eholyat@olf.com", "creation_time": "2004-07-19T16:22:31Z", "is_private": false, "text": "Created attachment 12162\nThis attachment clarifies the previous attachment by using cvs diff -u"}, {"count": 5, "tags": [], "text": "Attachment 12159 (07/19/04 15:15) can be ignored.  attachment 12162 (07/19/04 \n16:22) contains all the fixes from 12159, but just clarifies them by using cvs \ndiff -u for the format.\n", "is_private": false, "id": 60815, "creation_time": "2004-07-19T16:24:42Z", "time": "2004-07-19T16:24:42Z", "creator": "eholyat@olf.com", "bug_id": 28460, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 28460, "attachment_id": null, "id": 61431, "time": "2004-08-01T14:47:39Z", "creator": "fjoe@samodelkin.net", "creation_time": "2004-08-01T14:47:39Z", "is_private": false, "text": "There is a more simple fix.\nWe do not need to destroy thread handle in apr_thread_exit.\nBut we must destroy it in apr_thread_join."}, {"count": 7, "tags": [], "creator": "fjoe@samodelkin.net", "attachment_id": 12297, "text": "Created attachment 12297\nCleaner fix for thread exit/join race condition", "id": 61432, "time": "2004-08-01T14:51:43Z", "bug_id": 28460, "creation_time": "2004-08-01T14:51:43Z", "is_private": false}, {"count": 8, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "This is fixed in 0.9.5 and 1.0.1, I think:\n\n  *) Makes the threads to behave like on posix. If the thread is created\n     without APR_DETACH expect that the thread_join will be called, so don't\n     close the handle in advance, if the thread has already finished.\n     [Mladen Turk]\n", "id": 67334, "time": "2004-11-22T14:10:18Z", "bug_id": 28460, "creation_time": "2004-11-22T14:10:18Z", "is_private": false}]