[{"count": 0, "tags": [], "creator": "christos.kloukinas@imag.fr", "attachment_id": null, "is_private": false, "id": 31506, "time": "2003-02-18T12:52:41Z", "bug_id": 17159, "creation_time": "2003-02-18T12:52:41Z", "text": "The ant script tries to find out its home by looking at the path of the file it\nis linked to (when it is a link) in line 57 of the script ant.\nIf I understand correctly, the check is for a local link (./ant-some-version)\nversus a complete path (/some-path/ant-some-version).\nIn my installation it is a relative link (../../relative-path/ant) and the\nscript tries that (../../relative-path) as the ANT_HOME, which fails.\n\nSolution:\nChange the following:\n<pre>\n    if expr \"$link\" : '.*/.*' > /dev/null; then\n        PRG=\"$link\"\n    else\n        PRG=`dirname \"$PRG\"`\"/$link\"\n    fi\n</pre>\nWith the following:\n<pre>\n    if expr \"$link\" : '.*/.*' > /dev/null; then\n        if [ -d ${link}/. ] ; then\n            PRG=\"$link\"\n        else\n            # Most probably it is a relative link ...\n            PRG=`dirname \"$PRG\"`\"/$link\"\n        fi\n    else\n        PRG=`dirname \"$PRG\"`\"/$link\"\n    fi\n</pre>"}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "is_private": false, "id": 31985, "attachment_id": null, "bug_id": 17159, "creation_time": "2003-02-26T11:23:44Z", "time": "2003-02-26T11:23:44Z", "text": "supposed to be fixed in 1.5.2beta, could you please try.\n\n"}]