[{"count": 0, "tags": [], "text": "FileLogger always create a platform default encoding for files. Western Windows\nusually use ISO1/Cp1252. If webapps use internationalized text such as chinese,\nthen logfile receives only ? characters.\n\nUniveral solution is to to have UTF-8 written logfiles. Example here with a new\nattribute:\n<Logger classname=\"org.apache.catalina.logger.FileLogger\"\n  directory=\"logs\" prefix=\"mywebapp_log.\" suffix=\".txt\"\n  timestamp=\"true\" encoding=\"UTF-8\" />\n\nAdditional feature, make UTF-8BOM special case encoding value.\nhttp://koti.mbnet.fi/akini/java/unicodereader/\nhttp://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058\n\nDue to a bug Java does not support UTF-8 bom marker. This is very unfortunate in\nwindows world, where all proper text editors add bom mark to the start of\nunicode files. Even Notepad does it.\n\nIf logger attribute is encoding=\"UTF-8BOM\" then write the following three bytes\nto start of _new_ logfile:\nbyte[] bom = new byte[] { (byte)0xEF, (byte)0xBB, (byte)0xBF };\nfilestream.write(bom);\n\nThis should not create any runtime penalty 'cause a new logfile is created rarely.", "attachment_id": null, "bug_id": 34277, "id": 73217, "time": "2005-04-03T17:04:40Z", "creator": "mailmur@yahoo.com", "creation_time": "2005-04-03T17:04:40Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 34277, "is_private": false, "id": 73218, "time": "2005-04-03T18:26:30Z", "creator": "yoavs@computer.org", "creation_time": "2005-04-03T18:26:30Z", "tags": [], "text": "There will be no more Logger interface development.  See JULI in Tomcat 5.5."}]