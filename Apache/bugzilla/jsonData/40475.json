[{"count": 0, "tags": [], "text": "The dbVendor field of WebSphereDeploymentTool is currently assigned via a setter\nfunction that takes a member of an enumeration as a parameter.  The problem is\nthat the enumeration is currently out of date and does not include the latest\ncodes in WAS 5.1 let alone WAS 6, which eliminates the possibility of database\nspecific deployment.  Since this is the kind of thing that IBM changes with each\nWAS release, I recommend eliminating the enumeration and passing in a String\ninstead.  If necessary, users can easily determine the available database type\ncodes by running EJBDeploy -help from the command line.  I've included diff -u\noutput below that resolves the problem in my environment.\n\nMark\n\n--- WebsphereDeploymentTool.java\t2006-09-11 17:19:58.421875000 -0400\n+++ WebsphereDeploymentTool-new.java\t2006-09-11 15:13:36.750000000 -0400\n@@ -59,19 +59,6 @@\n  *\n  */\n public class WebsphereDeploymentTool extends GenericDeploymentTool {\n-    /**\n-     * Enumerated attribute with the values for the database vendor types\n-     *\n-     */\n-    public static class DBVendor extends EnumeratedAttribute {\n-        public String[] getValues() {\n-            return new String[]{\n-                \"SQL92\", \"SQL99\", \"DB2UDBWIN_V71\", \"DB2UDBOS390_V6\",\n\"DB2UDBAS400_V4R5\",\n-                \"ORACLE_V8\", \"INFORMIX_V92\", \"SYBASE_V1192\", \"MSSQLSERVER_V7\",\n\"MYSQL_V323\"\n-                };\n-        }\n-    }\n-\n \n     public static final String PUBLICID_EJB11\n          = \"-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 1.1//EN\";\n@@ -160,18 +147,18 @@\n \n \n     /** Sets the DB Vendor for the Entity Bean mapping ; optional.\n-     * Valid options are for example:\n-     * <ul>\n-     * <li>SQL92</li> <li>SQL99</li> <li>DB2UDBWIN_V71</li>\n-     * <li>DB2UDBOS390_V6</li> <li>DB2UDBAS400_V4R5</li> <li>ORACLE_V8</li>\n-     * <li>INFORMIX_V92</li> <li>SYBASE_V1192</li> <li>MYSQL_V323</li>\n-     * </ul>\n+     * Valid options can be obtained by running the following command:\n+     *\n+     * <WAS_HOME>/bin/EJBDeploy.[sh/bat] -help:\n+     *\n      * This is also used to determine the name of the Map.mapxmi and\n-     * Schema.dbxmi files, for example Account-DB2UDBWIN_V71-Map.mapxmi\n-     * and Account-DB2UDBWIN_V71-Schema.dbxmi.\n+     * Schema.dbxmi files, for example Account-DB2UDB_V81-Map.mapxmi\n+     * and Account-DB2UDB_V81-Schema.dbxmi.\n+     *\n+     * @param dbVendor database vendor type\n      */\n-    public void setDbvendor(DBVendor dbvendor) {\n-        this.dbVendor = dbvendor.getValue();\n+    public void setDbvendor(String dbvendor) {\n+        this.dbVendor = dbvendor;\n     }", "attachment_id": null, "id": 93367, "creator": "mark_depalma@yahoo.com", "time": "2006-09-11T22:12:26Z", "bug_id": 40475, "creation_time": "2006-09-11T22:12:26Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 40475, "attachment_id": null, "text": "Patch submitted, thanks.", "id": 93487, "time": "2006-09-13T01:37:32Z", "creator": "antoine@apache.org", "creation_time": "2006-09-13T01:37:32Z", "is_private": false}]