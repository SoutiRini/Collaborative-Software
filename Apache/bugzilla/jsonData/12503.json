[{"count": 0, "tags": [], "creator": "jian.cai@sun.com", "attachment_id": null, "id": 22629, "time": "2002-09-10T23:34:14Z", "bug_id": 12503, "creation_time": "2002-09-10T23:34:14Z", "is_private": false, "text": "If the default servlet is set in the applicaiton, the welcome file does not \nwork.\n\nIn web.xml if the following servlet has been set as the default servlet for the \napplication.\n \n <servlet-mapping>\n    <servlet-name>webAdminPoint</servlet-name>\n    <url-pattern>/</url-pattern>\n  </servlet-mapping>  \n\nThe welcome file was set as:\n\n  <welcome-file-list> \n    <welcome-file>index.jsp</welcome-file> \n  </welcome-file-list>\n\nThe correct behaviour: If access \"webcontext/\" (there is index.jsp in \nwebcontext ), the containter should still direct the request to the index.jsp \n(see Servlet Spec SRV .9.10)\n\nBut Tomcat does not use the welcome file once the default servlet is set. All \naccess with end of \"/\" was handled by the default servlet."}, {"count": 1, "tags": [], "bug_id": 12503, "text": "<cite src=\"Java Servlet Specification\" version=\"2.3\" topic=\"SRV.9.10 Welcome \nFiles\">\nThe purpose of this mechanism is to allow the deployer to specify an ordered\nlist of partial URIs for the container to use for appending to URIs when there \nis a\nrequest for a URI that corresponds to a directory entry in the WAR not mapped to\na web component.\n</cite>\n<keyPhrase>not mapped to a web component</keyPhrase>", "id": 22652, "time": "2002-09-11T09:05:10Z", "creator": "a.brazhnyk@biconsulting.ws", "creation_time": "2002-09-11T09:05:10Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "jian.cai@sun.com", "text": "Here is the response from the Servlet 2.4 spec lead Yutaka:\nThe bug might be valid\n---------------------------------------------------------------------------\n\nI think you're right.\nWhat's the reason they invalidated?\n\nRyan, Did you see any discussion in tomcat-dev\nabout this?\n\nyuta\n\n > Date: Wed, 11 Sep 2002 10:35:39 -0700\n > From: \"Jian (James) Cai\" <jian.cai@sun.com>\n> > Hello Yutaka:\n > > I have filed a bug for the default servlet overrides welcome file \n > problem. But some Tomcat developer invalided it. The quesion is when I \n > have both \"default\" servlet and welcome file set for a path.\n > For example:\n > > <servlet-mapping>\n> <servlet-name>webAdminPoint</servlet-name>\n> <url-pattern>/</url-pattern>\n> </servlet-mapping> > > The welcome file was set as:\n > > <welcome-file-list> > <welcome-file>index.jsp</welcome-file> > </welcome-\nfile-list>\n> > Then if there is webcontext/index.jsp in my web application. When a \n > request for \"http://server:8080/webcontext/ will give me the default \n > servlet or the welcome file? My understanding is to give me the welcome \n > file. If welcome file not there in the directory, it will response the \n > default servlet (SRV 9.10 for Servlet 2.4). Please correct me if my \n > understanding is wrong.\n > > Thanks\n > > James Jian Cai\n > \n\n", "id": 22699, "time": "2002-09-11T19:01:30Z", "bug_id": 12503, "creation_time": "2002-09-11T19:01:30Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "bob@jadn.com", "attachment_id": null, "id": 22747, "time": "2002-09-12T15:33:03Z", "bug_id": 12503, "creation_time": "2002-09-12T15:33:03Z", "is_private": false, "text": "It would seem to me, if you explicity map all requests to a servlet - then you\nwould expect all requests to go to the servlet.  Finding that some are sent to\nwelcome files would be surprising.\n\nfor example, suppose I access URL, \"/servlet/bank/customer\", tomcat would have\nto check for one or more welcome files before passing the request to the \"bank\"\nservlet.  I think that would be annoying.\n"}]