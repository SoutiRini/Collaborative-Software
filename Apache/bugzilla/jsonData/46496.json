[{"count": 0, "tags": [], "bug_id": 46496, "text": "I am using two RewriteRule's to change the path for shortcuts in our site. The RewriteMap file contains a list of sort names to be redirected to specific pages on all Hosts located on this server. This works until I make the call from a https://www.myserver.com/shortname and the shortname maps to a ssl page (https://www.myserver.com/The_full_page_name.html. It will work if I am on a http:// page and go to both http:// or https:// pages. If I start with the URL using a https:// call then it will work if I go to a http:// page but fails with a 404 for any https://www.myserver.com/... (Note: If I go to other domains then a https:// call will work).\n\nI did a RewriteLog file and the result seems to be that it is that the second RewriteRule is putting the DocumentRoot path infront of the new path that was set in the previous RewirteRule.\n\n\n(Config snip)\n# Create an Environment Variable with a Lower Case version of the URL.\nRewriteMap tolower  int:tolower\nRewriteRule ^(/[a-z0-9\\ \\-_]*)(/?)$  -  [NC,E=LowerCasePath:${tolower:$1}]\n\n# Redirects for all Hosts using this webserver\nRewriteMap map_all  txt:/etc/httpd/conf/map_all.txt\nRewriteRule ^(/[a-z0-9\\ \\-_]*)$  ${map_all:~%{ENV:LowerCasePath}|$1}  [NC,C]\nRewriteRule !^(/[a-z0-9\\ \\-_]*)$  -  [NC,R=301,L]\n\n(map_all.txt)\n~/            http://www.myserver.com/Default_home_page.html\n~/shortname   https://www.myserver.com/The_full_page_name.html\n~/accounting  http://www.myserver.com/path_for_accounting/accounting.html", "id": 123882, "time": "2009-01-08T11:52:30Z", "creator": "chris.morgan@ama.ab.ca", "creation_time": "2009-01-08T11:52:30Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 46496, "attachment_id": null, "id": 123883, "time": "2009-01-08T12:24:58Z", "creator": "rpluem@apache.org", "creation_time": "2009-01-08T12:24:58Z", "is_private": false, "text": "1. Bugzilla is no user support forum but for reporting bugs. Please post your question to the user list (http://httpd.apache.org/lists.html#http-users) and come back here if this turns out to be a bug.\n2. Certainly more information is required, so please provide a rewrite log with log level 9.\n3. Your are using a very old version of httpd. Please upgrade.\n"}]