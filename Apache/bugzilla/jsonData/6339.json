[{"count": 0, "tags": [], "bug_id": 6339, "text": "Writing my build scripts I often wish I could just specify the pattern in a \nPatternSet without the exclude/include attached to the PatternSet element.\n\nExample Scenario:\n\nA build script must compile classes and produce three jar files.  Jar file 1 \ncontains just EJB interfaces (Home and Remote).  Jar file 2 contains all EJB \nclasses (Home, Remote and Impl).  Jar file 3 contains all supporting classes \n(common packages utilized by potential EJB clients as well as the EJBs \nthemselves).\n\nIn the above scenario, one could create three pattern sets.  PatternSet 1 \nincludes all EJB interfaces.  PatternSet 2 includes all EJB classes.  \nPatternSet 3 contains all other classes not included in PatternSets 1 and 2.\n\nIt would be easier to do (and require less maintainance) to do it with 2 \nPatternSets.  PatternSet 1 specifies EJB interfaces.  PatternSet 2 specifies \nEJB Impl classes.  A task can then use combinations of PatternSet 1 and \nPatternSet 2 to create all three jars.\n\nExample:\n\n<patternset id=\"interfaces\">\n  <pattern name=\"**/ejb/MyEJBHome.class\"/>\n  <pattern name=\"**/ejb/MyEJB.class\"/>\n</patternset>\n\n<patternset id=\"impl\">\n  <pattern name=\"**/ejb/MyEJBImpl.class\"/>\n</patternset>\n\n<target name=\"ejbjar\">", "id": 10504, "time": "2002-02-09T01:16:08Z", "creator": "lycono@mindless.com", "creation_time": "2002-02-09T01:16:08Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 6339, "text": "<target name=\"ejbjar\">\n  <jar jarfile=\"ejb.jar\" basedir=\"./src\">\n    <patternset refid=\"interfaces\" type=\"include\"/>\n    <patternset refid=\"impl\" type=\"include\"/>\n  </jar>\n</target>\n\n<target name=\"ejbclient\">\n  <jar jarfile=\"ejbclient.jar\" basedir=\"./src\">\n    <patternset refid=\"interfaces\" type=\"include\"/>\n  </jar>\n</target>\n\n<target name=\"common\">\n  <jar jarfile=\"common.jar\" basedir=\"./src\">\n    <patternset refid=\"interfaces\" type=\"exclude\"/>\n    <patternset refid=\"impl\" type=\"exclude\"/>\n  </jar>\n</target>\n\nIn addition, it would be nice if you could nest PatternSets.  This would allow \none to create a PatternSet for the EJB jar file by nesting the interface \nPatternSet inside another pattern set that just \"adds\" the impl classes.\n\nThanks for considering this idea.", "id": 10505, "time": "2002-02-09T01:33:05Z", "creator": "lycono@mindless.com", "creation_time": "2002-02-09T01:33:05Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "jakarta@ehatchersolutions.com", "attachment_id": null, "text": "Nested patternsets have been implemented.", "id": 12367, "time": "2002-03-26T22:52:22Z", "bug_id": 6339, "creation_time": "2002-03-26T22:52:22Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 6339, "attachment_id": null, "id": 25923, "time": "2002-11-08T13:26:21Z", "creator": "bodewig@apache.org", "creation_time": "2002-11-08T13:26:21Z", "is_private": false, "text": "This is possible with the filename selector in Ant 1.5 - nest it\ninto a <not> selector if you want to exclude."}]