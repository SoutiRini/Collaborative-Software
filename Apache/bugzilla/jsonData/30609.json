[{"count": 0, "tags": [], "bug_id": 30609, "attachment_id": null, "text": "I am getting the following Exception when the junit \"timeout=300000\"\ntask times out:\n\nBUILD FAILED\njava.lang.NoClassDefFoundError: org/w3c/dom/ranges/DocumentRange\n\nTotal time: 5 minutes 40 seconds\n\nThe junit task's timeout feature seems to use a DOM Level 2 API that is not\nbundled with the JRE 1.4.2. I found that downloading dom2.jar from\nhttp://www.w3.org/DOM/DOMTM and placing it in ant/lib solved this\nproblem and resulted in the appropriate failure report:\n\nBUILD FAILED\nbuild.xml:500: Test <foo> failed (timeout)\n\nIntel P4, single cpu, Red Hat Linux 9\n\njava version \"1.4.2_04\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_04-b05)\nJava HotSpot(TM) Client VM (build 1.4.2_04-b05, mixed mode)\n\nApache Ant version 1.6.0 compiled on December 18 2003 (sorry I did not have to\nreproduce on latest)", "id": 61859, "time": "2004-08-11T23:33:16Z", "creator": "slutsatchel@yahoo.com", "creation_time": "2004-08-11T23:33:16Z", "is_private": false}, {"count": 1, "attachment_id": null, "creator": "bodewig@apache.org", "is_private": false, "id": 65737, "time": "2004-10-26T15:02:29Z", "bug_id": 30609, "creation_time": "2004-10-26T15:02:29Z", "tags": [], "text": "I don't see anything in Ant requiring DocumentRange, at least not directly.\n\nCan we have a -debug log, please?"}, {"count": 2, "tags": [], "bug_id": 30609, "attachment_id": null, "id": 65803, "time": "2004-10-27T07:14:12Z", "creator": "jglick@apache.org", "creation_time": "2004-10-27T07:14:12Z", "is_private": false, "text": "Note that xercesImpl.jar generally links against DocumentRange whereas JDK 1.4's\nrt.jar does not include it (why, I don't know). So if you were using the Xerces\nimpl JAR but only the standard JDK APIs you could get this error. For the same\nreason, when the NetBeans IDE uses Xerces, it always bundles the impl JAR\ntogether with just the org.w3c.dom.ranges.* package from xmlcommons. As of JDK\n1.5 I think this is unnecessary, and for JDK 1.3- it doesn't matter since the\nJDK has no JAXP anyway.\n\nProbably a user error - if you use JDK 1.4, you can omit *both* xml-apis.jar and\nxercesImpl.jar from Ant's lib dir, but you cannot use only xercesImpl.jar and\nomit xml-apis.jar."}, {"count": 3, "tags": [], "creator": "slutsatchel@yahoo.com", "attachment_id": null, "id": 65943, "time": "2004-10-28T21:32:49Z", "bug_id": 30609, "creation_time": "2004-10-28T21:32:49Z", "is_private": false, "text": "Thank you Jesse-- your analysis is dead-on!"}]