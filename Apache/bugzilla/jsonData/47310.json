[{"count": 0, "tags": [], "creator": "lbouysset@serial.ch", "attachment_id": null, "text": "Exadel Fidji Flash graphs that was working through Apache 2.0 reverse proxy do not work through Apache 2.2 reverse proxy:\n\nIn our environement we have two reverse proxy: \none is on RHEL4 32 bit Apache httpd-2.0.52-38.ent\nthe second is on RHEL5 64 bit httpd-2.2.3-11.el5_1.3\n\nWith the first reverse proxy (RHEL4 32 bit Apache httpd-2.0.52-38.ent), accessing to the Fidji swf graph works perfectly through reverse proxy\n\nWith the second reverse proxy (RHEL5 64 bit httpd-2.2.3-11.el5_1.3), accessing to the same Fidji swf graph  on the same backend server does not work properly, all css and js resources are not found with a 404 error... accessing directly from the reverse proxy machine (without going through apache) to the resources in error works perfectly\n\nOn both reverse proxy the virtual host definition are the same:\n\n<VirtualHost *:80>\n   ServerName 192.168.1.140:80\n#   ServerName oamvm.unipro.ch\n   ProxyRequest On\n   ProxyPreserveHost On\n   ProxyVia full\n\n   RewriteEngine On\n   RewriteCond %{REQUEST_METHOD}^(TRACE|TRACK)\n   RewriteRule .* - [F]\n   \n    <Proxy *>\n      Order deny,allow\n      Allow from all\n    </Proxy>\n\n   ProxyPass /unipro http://uniporvm.unipor.ch:8080/unipro/\n   ProxyPassReverse /unipro http://uniporvm.unipor.ch:8080/unipro/\n\n   ProxyPass /unipro/ http://uniporvm.unipor.ch:8080/unipro/\n   ProxyPassReverse /unipro/ http://uniporvm.unipor.ch:8080/unipro/", "id": 127591, "time": "2009-06-03T06:53:19Z", "bug_id": 47310, "creation_time": "2009-06-03T06:53:19Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 47310, "attachment_id": 23750, "is_private": false, "id": 127593, "time": "2009-06-03T06:57:58Z", "creator": "lbouysset@serial.ch", "creation_time": "2009-06-03T06:57:58Z", "text": "Created attachment 23750\nPrints off http traces when working with Apache 2.0 and not working with Apache 2.2\n\n\nWe get the last version of apache 2.2 sources (2.2.11) rebuild it on our RHEL5 64bit reverse proxy and try with it with have the same issue that the one provided with RHEL5 distribution...\n\nThe print screens for the not working part are taken with this instance of Apache."}, {"count": 2, "attachment_id": null, "bug_id": 47310, "text": ">ProxyPass /unipro http://uniporvm.unipor.ch:8080/unipro/\n>ProxyPassReverse /unipro http://uniporvm.unipor.ch:8080/unipro/\n\n>ProxyPass /unipro/ http://uniporvm.unipor.ch:8080/unipro/\n>ProxyPassReverse /unipro/ http://uniporvm.unipor.ch:8080/unipro/\n\nIs there any paticular reason why you wrote ProxyPass twice?\n\nhttp://httpd.apache.org/docs/2.2/en/mod/mod_proxy.html#proxypass\n> If the first argument ends with a trailing /, the second argument should also\n> end with a trailing / and vice versa. Otherwise the resulting requests to the\n> backend may miss some needed slashes and do not deliver the expected results.", "id": 127594, "time": "2009-06-03T07:42:19Z", "creator": "takashi.asfbugzilla@tks.st", "creation_time": "2009-06-03T07:42:19Z", "tags": [], "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 47310, "is_private": false, "id": 127595, "time": "2009-06-03T07:43:42Z", "creator": "nick@webthing.com", "creation_time": "2009-06-03T07:43:42Z", "tags": [], "text": "There's nothing that describes an apache bug in this report.\n\nPlease supply details of a transaction that exhibits the problem.  That means both client--proxy and proxy--backend, and the error logs.  Also do so in text, not silly images that can't be searched or cut&paste."}, {"count": 4, "tags": [], "bug_id": 47310, "text": "Hello Takashi\n\nYou are right the ProxyPass rules were not correct... the correct ones are:\n\nProxyPass /unipro http://uniprovm.unipro.ch:8080/unipro\nProxyPassReverse /unipro http://uniprovm.unipor.ch:8080/unipro\n\nProxyPass /unipro/ http://uniprovm.unipro.ch:8080/unipro/\nProxyPassReverse /unipro/ http://uniprovm.unipro.ch:8080/unipro/\n\nCorrecting the proxy pass directive solve the issue the javascript and css that failed loading with 404 error are now loading\n\nFor information the same error was in the httpd.conf of the RHEL4 2.0 Apache 2.0 and in this version the incorrect configuration didn't cause the issue...\n\nThink you can close this issue sorry to disturb you especially Nick with my silly screen shots...\n\nBest regards,", "id": 127600, "time": "2009-06-03T08:39:28Z", "creator": "lbouysset@serial.ch", "creation_time": "2009-06-03T08:39:28Z", "is_private": false, "attachment_id": null}]