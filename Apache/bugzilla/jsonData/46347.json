[{"count": 0, "tags": [], "bug_id": 46347, "attachment_id": null, "text": "The catalina.sh script calls the setclasspath.sh script to define some environment variables.\n\nAmong these variables is the JAVA_ENDORSED_DIRS (line 99):\n\nJAVA_ENDORSED_DIRS=\"$BASEDIR\"/endorsed\n\nThere are 2 problems :\n\n- JAVA_ENDORSED_DIRS couldn't be overriden (using -D in the command line)\n- In a multi-instance configuration, the default endorsed dir is CATALINA_HOME/endorsed instead of CATALINA_BASE/endorsed\n\nHere is a proposition to modify setclasspath.sh :\n\n# Set the default -Djava.endorsed.dirs argument\nif [ \"$JAVA_ENDORSED_DIRS\" == \"\" ]\nthen\n  JAVA_ENDORSED_DIRS=\"$CATALINA_BASE\"/endorsed\nfi", "id": 123103, "time": "2008-12-05T01:02:35Z", "creator": "mathieu.larchet@univ-nancy2.fr", "creation_time": "2008-12-05T01:02:35Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 46347, "attachment_id": null, "text": "\n\n*** This bug has been marked as a duplicate of bug 46232 ***", "id": 123118, "time": "2008-12-05T05:37:11Z", "creator": "markt@apache.org", "creation_time": "2008-12-05T05:37:11Z", "is_private": false}]