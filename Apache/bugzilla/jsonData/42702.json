[{"attachment_id": null, "tags": [], "bug_id": 42702, "is_private": false, "count": 0, "id": 104553, "time": "2007-06-20T06:40:17Z", "creator": "stevel@apache.org", "creation_time": "2007-06-20T06:40:17Z", "text": "<replacetokens> filter takes a properties file; if it took a resource then it\nwould let any source of properties work, which would be very powerful"}, {"count": 1, "tags": [], "creator": "stevel@apache.org", "attachment_id": null, "id": 104554, "time": "2007-06-20T06:40:34Z", "bug_id": 42702, "creation_time": "2007-06-20T06:40:34Z", "is_private": false, "text": "marking as an enhancement"}, {"count": 2, "tags": [], "creator": "stevel@apache.org", "attachment_id": null, "id": 104558, "time": "2007-06-20T06:43:04Z", "bug_id": 42702, "creation_time": "2007-06-20T06:43:04Z", "is_private": false, "text": "*** Bug 8656 has been marked as a duplicate of this bug. ***"}, {"count": 3, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "I've Resource-enabled the propertiesFile and replaceFiltersFile attributes of the replace task in svn revision 724400\n\nThe replacetokens filter is more difficult since it doesn't support the properties file as attribute but rather via the ParamFilterReader interface which only uses Strings (and I can't make the automatic PropertyHelper -> Resource magic apply here).\n\nStill doable, although I must admit that using the PropertyHelper API is more difficult than it ought to be.", "id": 123170, "time": "2008-12-08T08:49:35Z", "bug_id": 42702, "creation_time": "2008-12-08T08:49:35Z", "is_private": false}, {"count": 4, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "text": "implemented in svn revision 724610 but needs to be documented.\n\nI'm still unhappy about how difficult using resources as attributes still is and will start a discussion on the dev list.", "id": 123185, "time": "2008-12-08T21:20:37Z", "bug_id": 42702, "creation_time": "2008-12-08T21:20:37Z", "is_private": false}, {"count": 5, "tags": [], "text": "changing component since only the docs are missing", "attachment_id": null, "bug_id": 42702, "id": 129340, "time": "2009-07-31T07:08:17Z", "creator": "bodewig@apache.org", "creation_time": "2009-07-31T07:08:17Z", "is_private": false}, {"count": 6, "tags": [], "creator": "rich@steelezone.net", "text": "Has this work been completed?  I'd really like to use a <replacetokens> with a <propertyset> to use the current project's properties.  Right now I need to dump the properties to a file and then read them in, but any properties defined after I create the file are missing.", "id": 170960, "attachment_id": null, "bug_id": 42702, "creation_time": "2013-11-01T14:40:28Z", "time": "2013-11-01T14:40:28Z", "is_private": false}, {"count": 7, "tags": [], "text": "Code has been in there for a long time but I forgot to update the docs.  It has been added with Ant 1.8.0, at least that's what the javadocs say.\n\nIf I understand my own code changes correctly four years later then <replacetokens> has a new attribute propertiesResource that can be used.  This is an attribute and not a nested element so you need to use the PropertHelper syntax of http://ant.apache.org/manual/properties.html#ant.refid\n\nAlso you cannot use this attribute when using <filterreader classname=\"org.apache.tools.ant.filters.ReplaceTokens\"> rather than <replacetokens>.\n\nI'll look into documenting it properly and then close this ticket.", "attachment_id": null, "bug_id": 42702, "id": 170961, "time": "2013-11-01T15:04:12Z", "creator": "bodewig@apache.org", "creation_time": "2013-11-01T15:04:12Z", "is_private": false}, {"count": 8, "tags": [], "text": "Just re-read your question, Rich, I'm afraid it doesn't work for you.\n\nThe filter expects a single resource that provides something that looks like a properties file to java.util.Properties load method.  A propertyset is a ResourceCollection, not a resource, and at least currently it doesn't look like anything suitable for for Properties#load.\n\nOf course it would make sense to turn PropertySet into a resource that serialized all contained property resources as a properties file.  It wouldn't even be hard to do, but that would be a different issue.", "attachment_id": null, "bug_id": 42702, "id": 170966, "time": "2013-11-01T19:46:09Z", "creator": "bodewig@apache.org", "creation_time": "2013-11-01T19:46:09Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 42702, "is_private": false, "count": 9, "id": 170968, "time": "2013-11-01T20:06:42Z", "creator": "bodewig@apache.org", "creation_time": "2013-11-01T20:06:42Z", "text": "documentation added with svn revision 1538045"}, {"count": 10, "tags": [], "text": "(In reply to Stefan Bodewig from comment #8)\n> Just re-read your question, Rich, I'm afraid it doesn't work for you.\n> \n> The filter expects a single resource that provides something that looks like\n> a properties file to java.util.Properties load method.  A propertyset is a\n> ResourceCollection, not a resource, and at least currently it doesn't look\n> like anything suitable for for Properties#load.\n> \n> Of course it would make sense to turn PropertySet into a resource that\n> serialized all contained property resources as a properties file.  It\n> wouldn't even be hard to do, but that would be a different issue.\n\nUltimately what I would like is either a <filterset> that takes a <propertyset> instead of a file like <expandproperties>, or an <expandproperties> that allows me to specify begin and end tokens like <filterset>.\n\n(I have a set of build scripts that use <filterset> with tokens, but I'd prefer if all Ant properties were available rather than using a properties file I create at some indeterminate point at the beginning of the build.)\n\nI'll create an enhancement request, but I'd love to know which is the more palatable request.", "attachment_id": null, "bug_id": 42702, "id": 171024, "time": "2013-11-04T12:16:25Z", "creator": "rich@steelezone.net", "creation_time": "2013-11-04T12:16:25Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 42702, "attachment_id": null, "id": 171292, "time": "2013-11-18T20:45:41Z", "creator": "rich@steelezone.net", "creation_time": "2013-11-18T20:45:41Z", "is_private": false, "text": "I added a new enhancement request (55794) with a patch that allows a <filterset> to contain one or more <propertyset> elements."}]