[{"attachment_id": null, "tags": [], "bug_id": 15445, "is_private": false, "count": 0, "id": 27961, "time": "2002-12-17T15:59:08Z", "creator": "jrosenberger@fastchannel.com", "creation_time": "2002-12-17T15:59:08Z", "text": "When attempting to use a filterset (named or not), running ant 1.5.1 under JDK \n1.1.8, get the following exception.   Everything's fine under JDK 1.4.\n\nMy script is:\n\n    <filterset id=\"filters\">\n      <filter token=\"foo\" value=\"bar\"/>\n    </filterset>\n    <copy todir=\"${build}\" flatten=\"no\" filtering=\"true\">\n      <fileset dir=\"${src}\" includes=\"**/*.properties\"/>\n      <filterset refid=\"filters\"/>\n    </copy>\n\nSame result if i replace filterset refid with a nested filterset.\n\njava.lang.IllegalArgumentException\n        at java.util.Hashtable.<init>(Compiled Code)\n        at java.util.Hashtable.<init>(Compiled Code)\n        at org.apache.tools.ant.types.FilterSet.getFilterHash(Compiled Code)\n        at org.apache.tools.ant.types.FilterSet.replaceTokens(Compiled Code)\n        at org.apache.tools.ant.types.FilterSetCollection.replaceTokens(Compiled\n Code)\n        at org.apache.tools.ant.util.FileUtils.copyFile(Compiled Code)\n        at org.apache.tools.ant.util.FileUtils.copyFile(FileUtils.java:225)\n        at org.apache.tools.ant.taskdefs.Copy.doFileOperations(Compiled Code)\n        at org.apache.tools.ant.taskdefs.Copy.execute(Compiled Code)\n        at org.apache.tools.ant.Task.perform(Task.java:319)\n        at org.apache.tools.ant.Target.execute(Compiled Code)\n        at org.apache.tools.ant.Target.performTasks(Target.java:336)\n        at org.apache.tools.ant.Project.executeTarget(Compiled Code)\n        at org.apache.tools.ant.Project.executeTargets(Compiled Code)\n        at org.apache.tools.ant.Main.runBuild(Compiled Code)\n        at org.apache.tools.ant.Main.start(Compiled Code)\n        at org.apache.tools.ant.Main.main(Main.java:235)"}, {"count": 1, "tags": [], "bug_id": 15445, "attachment_id": null, "id": 29261, "time": "2003-01-13T14:06:03Z", "creator": "bodewig@apache.org", "creation_time": "2003-01-13T14:06:03Z", "is_private": false, "text": "Does it change if you compile Ant yourself (using JDK 1.1)?"}, {"count": 2, "tags": [], "bug_id": 15445, "attachment_id": null, "is_private": false, "id": 30513, "time": "2003-02-02T14:05:38Z", "creator": "conor@apache.org", "creation_time": "2003-02-02T14:05:38Z", "text": "Fixed - JDK 1.1 does not allow an initial size to the Hashtable of 0, whereas\nJDK 1.4 does (it just uses 1 in this case).\n"}]