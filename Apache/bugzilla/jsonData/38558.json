[{"count": 0, "tags": [], "creator": "patrickegan@sml.com", "text": "I have an application that uses a dynamic JSVGCanvas (using SVN code \n2005/02/07). However if I open an svg doc that references another svg doc via \nthe <image> tag, document rendering fails.\nThis only happens if the <image> is svg, png and jpeg images are not affected.\n\nI can get the same error to occur in Squiggle if I add an empty <script/> tag \nto force the document to be dynamic.\n\nI get the following error :-\n\njava.lang.ClassCastException     at\norg.apache.batik.bridge.svg12.SVG12BridgeContext.addUIEventListeners(Unknown\nSource)     at\norg.apache.batik.bridge.BridgeContext.createSubBridgeContext(Unknown Source)\nat\norg.apache.batik.bridge.svg12.SVG12BridgeContext.createSubBridgeContext(Unkn\nown Source)     at\norg.apache.batik.bridge.SVGImageElementBridge.createSVGImageNode(Unknown\nSource)     at\norg.apache.batik.bridge.SVGImageElementBridge.createRasterImageNode(Unknown\nSource)     at\norg.apache.batik.bridge.SVGImageElementBridge.createImageGraphicsNode(Unknow\nn Source)     at\norg.apache.batik.bridge.SVGImageElementBridge.buildImageGraphicsNode(Unknown\nSource)     at\norg.apache.batik.bridge.SVGImageElementBridge.createGraphicsNode(Unknown\nSource)     at org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(Unknown\nSource)     at org.apache.batik.bridge.GVTBuilder.buildComposite(Unknown\nSource)     at org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(Unknown\nSource)     at org.apache.batik.bridge.GVTBuilder.buildComposite(Unknown\nSource)     at org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(Unknown\nSource)     at org.apache.batik.bridge.GVTBuilder.buildComposite(Unknown\nSource)     at org.apache.batik.bridge.GVTBuilder.buildGraphicsNode(Unknown\nSource)     at org.apache.batik.bridge.GVTBuilder.buildComposite(Unknown\nSource)     at org.apache.batik.bridge.GVTBuilder.build(Unknown Source)     at\norg.apache.batik.swing.svg.GVTTreeBuilder.run(Unknown Source) \n\n\n==============================\n\nSample svg file that works fine as long as the <script> tag is commented out.\n\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<svg contentScriptType=\"text/ecmascript\" zoomAndPan=\"magnify\" \nxmlns:svg=\"http://www.w3.org/2000/svg\" \nxmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\ncontentStyleType=\"text/css\" version=\"1.2\" width=\"326\" \npreserveAspectRatio=\"none\"  viewBox=\"0 0 326 105\" height=\"105\"\n\nxmlns=\"http://www.w3.org/2000/svg\" >\n<!-- <script type=\"text/ecmascript\">\n  var svgNamespaceURI = \"http://www.w3.org/2000/svg\";\n</script> -->\n<image  width=\"100\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \nxlink:href=\"n.svg\" xlink:type=\"simple\" xlink:actuate=\"onLoad\" height=\"30\"\n\npreserveAspectRatio=\"xMidYMid meet\" xlink:show=\"embed\" overflow=\"visible\"/>\n\n<text x=\"20\" font-size=\"8\" y=\"40\" font-family=\"Serif\">test</text>\n\n</svg>\n\n\n========================================\nthe n.svg referenced from <image> tag\n========================================\n\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<svg  xmlns=\"http://www.w3.org/2000/svg\" version=\"1.2\"   \n   width=\"87.118pt\" height=\"16.598pt\" viewBox=\"0 0 87.118 16.598\" \nxml:space=\"preserve\">\n   <text y=\"20\" x=\"20\">n</text>\n</svg>", "id": 85555, "time": "2006-02-07T18:31:27Z", "bug_id": 38558, "creation_time": "2006-02-07T18:31:27Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "cam@apache.org", "text": "I've just committed a fix to SVN.  Can you please make sure it resolves your\nproblem, thanks.", "id": 85570, "time": "2006-02-08T01:03:52Z", "bug_id": 38558, "creation_time": "2006-02-08T01:03:52Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 38558, "text": "Hi Cameron,\nThat has fixed it.\nMany thanks for looking into this so quickly.", "id": 85585, "time": "2006-02-08T10:36:27Z", "creator": "patrickegan@sml.com", "creation_time": "2006-02-08T10:36:27Z", "is_private": false, "attachment_id": null}]