[{"count": 0, "attachment_id": null, "bug_id": 43514, "text": "I have the following setting in my .htaccess:\n\nRewriteCond %{SERVER_NAME} ^domain.de$\nRewriteRule ^$|(.*).(xhtml|html|xml) /folder/myPerlScript.pl [E=Test:Test]\n\nThe perlscript just prints the environment variables:\n\nforeach (keys(%ENV)) {\n  print $_,\": \",$ENV{$_},\"<br/>\";\n}\n\nThe result I got is like follows:\n\n :\nSCRIPT_FILENAME: D:/Workspace/folder/myPerlScript.pl\nREDIRECT_Test:\nREDIRECT_PERL5LIB: D:/Workspace\n :\n\nOkay, I did not try the newest version of the http server, but as no notice of\nthat occures in the changelog, I guess that this problem is still up to date. I\ndid not try other platforms.\n\nThanks!", "id": 108789, "time": "2007-09-29T01:47:15Z", "creator": "meise2000@gmx.net", "creation_time": "2007-09-29T01:47:15Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "rpluem@apache.org", "attachment_id": null, "text": "What is the exact problem?\n\nTest is prefixed with REDIRECT_?\nThis works as designed for RewriteRules in .htaccess / directory context. It\ndoes not appear for RewriteRules on virtual host level.\n\nREDIRECT_Test is empty?\nI cannot reproduce this. In my case in correctly prints out Test.", "id": 108793, "time": "2007-09-29T03:03:32Z", "bug_id": 43514, "creation_time": "2007-09-29T03:03:32Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 43514, "attachment_id": null, "is_private": false, "id": 108800, "time": "2007-09-29T04:53:05Z", "creator": "meise2000@gmx.net", "creation_time": "2007-09-29T04:53:05Z", "text": "The problem is, that REDIRECT_Test is empty. I dont't mind the prefix \"REDIRECT_\".\n\nIf more info is needed, I can add the complete .htaccess and the httpd.conf...\n\n"}, {"count": 3, "tags": [], "creator": "rpluem@apache.org", "is_private": false, "text": "Please attach them (.htaccess / httpd.conf).", "id": 108811, "time": "2007-09-29T10:47:25Z", "bug_id": 43514, "creation_time": "2007-09-29T10:47:25Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 43514, "attachment_id": null, "is_private": false, "id": 108829, "time": "2007-09-30T07:36:14Z", "creator": "meise2000@gmx.net", "creation_time": "2007-09-30T07:36:14Z", "text": "Here are the requested files (just skipped the comments):\n\n------------ httpd.conf -------------------\nThreadsPerChild 250\nMaxRequestsPerChild  0\nServerRoot \"C:/Programme/Apache2\"\nListen 80\n\nLoadFile \"C:/Perl/bin/perl58.dll\"\nLoadModule actions_module modules/mod_actions.so\nLoadModule alias_module modules/mod_alias.so\nLoadModule asis_module modules/mod_asis.so\nLoadModule auth_basic_module modules/mod_auth_basic.so\nLoadModule authn_default_module modules/mod_authn_default.so\nLoadModule authn_file_module modules/mod_authn_file.so\nLoadModule authz_default_module modules/mod_authz_default.so\nLoadModule authz_groupfile_module modules/mod_authz_groupfile.so\nLoadModule authz_host_module modules/mod_authz_host.so\nLoadModule authz_user_module modules/mod_authz_user.so\nLoadModule autoindex_module modules/mod_autoindex.so\nLoadModule cgi_module modules/mod_cgi.so\nLoadModule dir_module modules/mod_dir.so\nLoadModule env_module modules/mod_env.so\nLoadModule imagemap_module modules/mod_imagemap.so\nLoadModule include_module modules/mod_include.so\nLoadModule isapi_module modules/mod_isapi.so\nLoadModule log_config_module modules/mod_log_config.so\nLoadModule mime_module modules/mod_mime.so\nLoadModule negotiation_module modules/mod_negotiation.so\nLoadModule rewrite_module modules/mod_rewrite.so\nLoadModule setenvif_module modules/mod_setenvif.so\nLoadModule speling_module modules/mod_speling.so\nLoadModule userdir_module modules/mod_userdir.so\nLoadModule perl_module modules/mod_perl.so\n\nPerlSetEnv PERL5LIB D:/Workspace/Gondolin\nPerlModule Apache2::Reload\nPerlInitHandler Apache2::Reload\n\nServerAdmin meise@localhost\n\nServerName localhost:80\n\nDocumentRoot \"D:/Workspace/Gondolin\"\n\n<IfModule dir_module>\n    DirectoryIndex index.html\n</IfModule>\n\n<FilesMatch \"^\\.ht\">\n    Order allow,deny\n    Deny from all\n</FilesMatch>\n\nErrorLog logs/error.log\n\nLogLevel warn\n\n<IfModule log_config_module>\n    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\"\ncombined\n    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common\n\n    <IfModule logio_module>\n      LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" %I\n%O\" combinedio\n    </IfModule>\n    CustomLog logs/access.log common\n</IfModule>\n\n<IfModule alias_module>\n\n</IfModule>\n\n<Directory />\n    Options FollowSymLinks\n    AllowOverride All\n</Directory>\n\n\nDefaultType text/plain\n\n<IfModule mime_module>\n    TypesConfig conf/mime.types\n    AddType application/x-compress .Z\n    AddType application/x-gzip .gz .tgz\n</IfModule>\n\n<Files *.pl>\n  SetHandler perl-script\n  PerlResponseHandler ModPerl::Registry\n  Options +ExecCGI\n  PerlOptions +ParseHeaders\n</Files>\n\n<IfModule ssl_module>\nSSLRandomSeed startup builtin\nSSLRandomSeed connect builtin\n</IfModule>\n\nNameVirtualHost 127.0.0.1\n<VirtualHost bretschneider.name.local>\nServerName bretschneider.name.local\nDocumentRoot \"D:/Workspace/Gondolin/\"\nServerAdmin meise@meise.de>\n</VirtualHost>\n\n-------------- .htaccess -------------------\n\nOptions +FollowSymLinks\nRewriteEngine On\nRewriteBase /\n\nRewriteCond %{SERVER_NAME} ^bretschneider.name$ [OR]\nRewriteCond %{SERVER_NAME} ^www.bretschneider.name$ [OR]\nRewriteCond %{SERVER_NAME} ^bretschneider.name.local$\nRewriteRule ^$|(.*).(xhtml|html|xml) /modules/core/lib/entrance/dispatcher.pl\n[E=Test:Test]\nRewriteRule ^view/(.*)$ /clientview/002/bretschneider.name/$1 [L]\n\n-------------- dispatcher.pl -------------------\n\nuse CGI;\nuse strict;\n\nmy $query = CGI->new();\nprint $query->header();\nforeach (keys(%ENV)) {\n  print $_,\": \",$ENV{$_},\"<br/>\";\n}\n"}, {"count": 5, "tags": [], "bug_id": 43514, "attachment_id": null, "id": 108844, "creation_time": "2007-10-01T01:27:31Z", "time": "2007-10-01T01:27:31Z", "creator": "rpluem@apache.org", "text": "Have you checked if it works without using mod_perl?", "is_private": false}, {"count": 6, "tags": [], "bug_id": 43514, "text": "Not really... anyway this is no option, because of 1.) performance issues and\n2.) i don't have access to \"httpd.conf\" in production (this is restricted to my\nproviders staff) All I can configure is the \".htaccess\" of my personal \"root\"\ndirectory. As a workaround, I could use [E=Test_Test] and parse the environment\nvalue by myself - but that is very nasty... :-(", "id": 108972, "time": "2007-10-04T05:17:54Z", "creator": "meise2000@gmx.net", "creation_time": "2007-10-04T05:17:54Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 43514, "attachment_id": null, "text": "This request was not a solution proposal. It was a try to narrow down the thing\nsince I cannot reproduce it. I am running without mod_perl.", "id": 108974, "time": "2007-10-04T06:30:36Z", "creator": "rpluem@apache.org", "creation_time": "2007-10-04T06:30:36Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 43514, "is_private": false, "id": 108988, "creation_time": "2007-10-04T08:11:08Z", "time": "2007-10-04T08:11:08Z", "creator": "meise2000@gmx.net", "text": "Running without mod_perl does not lead my into troubles. Everythings ok... so,\nwe have to change the subject into \"E-Flag does not pass values in .htaccess use\nmod_perl\"", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 43514, "is_private": false, "id": 108992, "creation_time": "2007-10-04T09:47:58Z", "time": "2007-10-04T09:47:58Z", "creator": "rpluem@apache.org", "text": "You should open up a report for mod_perl in parallel.", "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 43514, "is_private": false, "id": 109015, "creation_time": "2007-10-05T02:11:14Z", "time": "2007-10-05T02:11:14Z", "creator": "meise2000@gmx.net", "text": "I just reported this bug to mod_perl... ", "attachment_id": null}, {"count": 11, "attachment_id": null, "bug_id": 43514, "text": "Reported to mod_perl folk, so closing.", "id": 112349, "time": "2007-12-30T23:36:23Z", "creator": "wrowe@apache.org", "creation_time": "2007-12-30T23:36:23Z", "tags": [], "is_private": false}]