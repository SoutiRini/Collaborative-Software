[{"count": 0, "tags": [], "text": "Tomcat 4.1.12 has been installed as an NT Service using the following command \nline (CATALINA_HOME and JAVA_HOME are set correctly):\n\n%CATALINA_HOME%\\bin\\tomcat.exe -install Tomcat %JAVA_HOME%\n\\jre\\bin\\server\\jvm.dll -Djava.class.path=%CATALINA_HOME%\\bin\\bootstrap.jar -\nDcatalina.home=%CATALINA_HOME% -start \norg.apache.catalina.startup.BootstrapService -method main -params start -stop \norg.apache.catalina.startup.BootstrapService -method main -params start -out %\nCATALINA_HOME%\\logs\\service.out -err %CATALINA_HOME%\\logs\\service.err\n\nWhenever Tomcat 4.1.12 is started as a service, it fails to compile new or \nmodified JSP pages with the error message and stack trace below. There is no \nproblem compiling JSP pages when Tomcat is run as a console app.\n\nexception \n\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\nAn error occurred at line: -1 in the jsp file: null\n\nGenerated servlet error:\n    [javac] Compiling 1 source file\n\n\n\n\tat org.apache.jasper.compiler.DefaultErrorHandler.javacError\n(DefaultErrorHandler.java:120)\n\tat org.apache.jasper.compiler.ErrorDispatcher.javacError\n(ErrorDispatcher.java:293)\n\tat org.apache.jasper.compiler.Compiler.generateClass(Compiler.java:313)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:324)\n\tat org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:474)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:184)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:289)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke\n(ApplicationDispatcher.java:684)\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward\n(ApplicationDispatcher.java:432)\n\tat org.apache.catalina.core.ApplicationDispatcher.forward\n(ApplicationDispatcher.java:356)\n\tat se.basset.wui.server.action.WuiActionServlet.processRequest\n(WuiActionServlet.java:123)\n\tat se.basset.wui.server.action.WuiActionServlet.doGet\n(WuiActionServlet.java:137)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:260)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:191)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2396)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:172)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service\n(CoyoteAdapter.java:223)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:405)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:380)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:508)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:533)\n\tat java.lang.Thread.run(Thread.java:536)\n\n\n\n--------------------------------------------------------------------------------\n\nApache Tomcat/4.1.12", "is_private": false, "id": 25309, "creator": "manne@basset.se", "time": "2002-10-29T11:11:36Z", "bug_id": 14045, "creation_time": "2002-10-29T11:11:36Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "It works for me. There's likely a configuration problem with the JVM (the\nroutine in the installer is not particularly smart). If it doesn't work, bad\nluck (either you'll have to learn to use JavaService directly or copy tools.jar\nto common/lib).", "attachment_id": null, "id": 25312, "creator": "remm@apache.org", "time": "2002-10-29T11:20:48Z", "bug_id": 14045, "creation_time": "2002-10-29T11:20:48Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 14045, "attachment_id": null, "is_private": false, "id": 25313, "time": "2002-10-29T11:21:38Z", "creator": "remm@apache.org", "creation_time": "2002-10-29T11:21:38Z", "text": "BTW, if trying to use JavaService directly, then you're on your own (and it's a\nuser error, because you also need to copy tools.jar)."}, {"count": 3, "tags": [], "creator": "apdo@solabs.com", "attachment_id": null, "id": 38231, "creation_time": "2003-06-03T01:38:35Z", "time": "2003-06-03T01:38:35Z", "bug_id": 14045, "text": "In have have already use the installer with jdk1.4.0 and tomcat 4.0. The \nservice had been installed by the intaller and tomcat work fine. However, with \ntomcat 4.1.24 using either jdk1.4.0 or jdk1.4.1 the installer install the \ntomcat 4.1 service. however I got the jsp compilation error like describe in \nthe previous description. I have been able to install the service using by \ncommand line and it was working fine. However, fixing the installer to make it \ninstall tomcat as a NT service should be very simple since it was working fine \nin previous version", "is_private": false}, {"count": 4, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 38238, "creation_time": "2003-06-03T06:23:43Z", "time": "2003-06-03T06:23:43Z", "bug_id": 14045, "text": "The installer might have been working for you in the previous release, but it\nwas actually weaker and more error prone. My point is that this cannot be made\nto work reliably in all cases, and I'll stand by that resolution. Please do not\nreopen the bug (or I'll ignore it) without at least providing a sensible patch\n(since it's so easy to fix ...).", "is_private": false}]