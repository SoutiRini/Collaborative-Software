[{"count": 0, "tags": [], "creator": "knst.kolinko@gmail.com", "text": "Reported and discussed in the following thread on users@:\n\"Form Authentication POST data not preserved?\"\nhttp://markmail.org/message/pldgbe4jbnb46ha4\nhttp://marc.info/?t=132830976900001&r=1&w=2\n\nThis supposedly has the same trigger as the issue reported in Comment 9 in bug 51940 [3], that is consuming the body of the original request before replacing it.\n\n[3] https://issues.apache.org/bugzilla/show_bug.cgi?id=51940#c9\n\nIn AbstractAjpProcessor$SocketInputBuffer#doRead() there is a check for \"endOfStream\" flag. If the flag is set the method returns immediately and does not use the bodyBytes field that was initialized to replay the body.\n\nThe fix is to add the following line to \"REQ_SET_BODY_REPLAY\" case in\nAbstractAjpProcessor#action(), as confirmed on the users@ thread:\n\n  endOfStream = false;\n\n\nIn 6.0.x implementation of AjpProcessor$SocketInputBuffer and of replay action is the same, but I have not tested whether this bug can be triggered there or not.", "id": 153468, "time": "2012-02-05T18:10:19Z", "bug_id": 52606, "creation_time": "2012-02-05T18:10:19Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "markt@apache.org", "is_private": false, "text": "Fixed in trunk and 7.0.x and will be included in 7.0.26 onwards.\n\nProposed for 6.0.x. I didn't test it but I can't see how it could work without this patch.", "id": 153607, "time": "2012-02-08T17:23:56Z", "bug_id": 52606, "creation_time": "2012-02-08T17:23:56Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 52606, "is_private": false, "count": 2, "id": 155148, "time": "2012-03-20T21:52:31Z", "creator": "markt@apache.org", "creation_time": "2012-03-20T21:52:31Z", "text": "Fixed in 6.0.x and will be included in 6.0.36 onwards."}]