[{"count": 0, "tags": [], "bug_id": 34868, "text": "see Bug 34643, item 3a", "id": 74726, "time": "2005-05-11T17:45:22Z", "creator": "hauser@acm.org", "creation_time": "2005-05-11T17:45:22Z", "is_private": false, "attachment_id": null}, {"count": 1, "text": "AFAIK, Bill's and Mario's LDAP-based trustStore will not do because I assume\ntheir solution would be able to validate a self-signed certificate, but they'll\nnever receive a self-signed cert from the browser. But perhaps this is due to\nthe issue that Mario's implementation is rather a Realm than really a\nTruststore, and Bill really had an implementation of a\njavax.net.ssl.X509TrustManager in mind?\nhttp://jakarta.apache.org/tomcat/tomcat-5.5-doc/ssl-howto.html#Edit%20the%20Tomcat%20Configuration\nFile appears to be rather file-oriented than ldap or JDBC oriented...", "bug_id": 34868, "is_private": false, "id": 74731, "time": "2005-05-11T18:27:49Z", "creator": "hauser@acm.org", "creation_time": "2005-05-11T18:27:49Z", "tags": [], "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 34868, "text": "one option to avoid this scalability problem would be to add a few\nno-questions-asked ca's such as http://www.black-helicopter.org/bh (not really\nupdated anymore) and perhaps http://cacert.org could do this\n(http://lists.cacert.org/cgi-bin/mailman/private/cacert/2005-June/003095.html)", "id": 76707, "time": "2005-06-25T09:30:45Z", "creator": "hauser@acm.org", "creation_time": "2005-06-25T09:30:45Z", "is_private": false, "attachment_id": null}, {"count": 3, "text": "this issue might even receive academic attention:\nhttp://www.infsec.ethz.ch/education/projects/sa_phishing.ps", "creator": "hauser@acm.org", "is_private": false, "id": 77680, "time": "2005-07-26T21:59:13Z", "bug_id": 34868, "creation_time": "2005-07-26T21:59:13Z", "tags": [], "attachment_id": null}, {"count": 4, "tags": [], "creator": "arminha@student.ethz.ch", "attachment_id": null, "id": 84082, "time": "2005-12-30T15:37:18Z", "bug_id": 34868, "creation_time": "2005-12-30T15:37:18Z", "is_private": false, "text": "I'would suggest a solution which uses a javax.net.ssl.X509TrustManager that\ntrusts all client certificates. So it is possible to accept untrusted\ncertificates and specially self-signed certifactes. The actual authentication\ncan then be done by a servlet.\n\nI've implemented it such that the use of this AllTrustingX509TrustManager can be\nconfigured in the server.xml by setting the attribute\n\"acceptUntrustedCertifcates\" for the connector. If then attribute is set to\n\"true\", then in the initialization of the JSSESocketFactory the actual\nTrustManager will be wrapped in the AllTrustingX509TrustManager and the\nSSLContext will be initialized with it.\nFurther I've added the new method isClientCertificateTrusted() to SSLSupport\nwhich returns if the client certificate is trusted with respect to the actual\nTrustManager. The method can be accessed from a servlet through the new Request\nattribute \"javax.servlet.request.ClientCertificateTrusted\".\n\nCreated two patches for Tomcat 5.5.13. One for the connectors module and one for\nthe catalina module."}, {"count": 5, "attachment_id": 17296, "creator": "arminha@student.ethz.ch", "is_private": false, "id": 84083, "time": "2005-12-30T15:41:15Z", "bug_id": 34868, "creation_time": "2005-12-30T15:41:15Z", "tags": [], "text": "Created attachment 17296\nssl-client-cert patch for the connectors module"}, {"count": 6, "tags": [], "bug_id": 34868, "attachment_id": 17297, "id": 84084, "time": "2005-12-30T15:43:17Z", "creator": "arminha@student.ethz.ch", "creation_time": "2005-12-30T15:43:17Z", "is_private": false, "text": "Created attachment 17297\nssl-client-cert patch for the catalina module"}, {"count": 7, "tags": [], "creator": "arminha@student.ethz.ch", "attachment_id": 17298, "text": "Created attachment 17298\nssl-client-cert patch for the connectors module\n\nfixed: added the files missing in the last patch", "id": 84085, "time": "2005-12-30T16:03:50Z", "bug_id": 34868, "creation_time": "2005-12-30T16:03:50Z", "is_private": false}, {"count": 8, "tags": [], "creator": "arminha@student.ethz.ch", "text": "Created attachment 17299\nclient certificate authentication example\n\nminimum example showing how client certificate authentication can be done after\napplying my patches (see above)", "id": 84087, "time": "2005-12-30T16:58:12Z", "bug_id": 34868, "creation_time": "2005-12-30T16:58:12Z", "is_private": false, "attachment_id": 17299}, {"count": 9, "tags": [], "creator": "hauser@acm.org", "text": "Wouldn't it be nice to be able overrule the global truststores by a trustStore\nobject in the session?\nI guess this would only require to enhance the\norg.apache.tomcat.util.net.jsse.JSSESocketFactory.getTrustStore() to check for this.", "id": 96988, "time": "2006-12-17T00:41:56Z", "bug_id": 34868, "creation_time": "2006-12-17T00:41:56Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 34868, "attachment_id": null, "id": 108317, "time": "2007-09-18T03:00:24Z", "creator": "tal@it-innovation.soton.ac.uk", "creation_time": "2007-09-18T03:00:24Z", "is_private": false, "text": "This looks really useful. We want to integrate tomcat with PBAC\n(http://www.gria.org/documentation/manual/pbac-2-manual/overview) to check\nclient certificates at the SSL layer rather than only at the SOAP message layer.\nDid this fix or an equivalent solution ever get added to tomcat?\n"}, {"count": 11, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "Per session trust managers can't possibly work since the SSL connection has to be established before the client can send any data that would identify the session in which to look for the trust manager. I am therefore resolving this as WONTFIX.\n\nHowever, it is worth noting the Tomcat 7 (as a result of fixing bug 48208) now supports custom trust managers which should be sufficient to meet any requirement not meet by the standard trust manager.", "id": 145663, "time": "2011-04-08T17:52:28Z", "bug_id": 34868, "creation_time": "2011-04-08T17:52:28Z", "is_private": false}]