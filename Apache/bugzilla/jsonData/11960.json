[{"count": 0, "tags": [], "creator": "bohdan@bodq.org.ua", "attachment_id": null, "text": "I've posted a patch to dev@ and got no single responce in 4 days. Therefore I\npost it here.\n\nI've discovered several problems regarding charsets and langauges setup in apache\ndefault config. It also appears in apache-1.3-HEAD, I'm not sure if I should\ncreate bugreport there as well.\n\n1) httpd-2.0//docs/conf/httpd-std.conf.in doesn't include \"uk\" langauge definition.\n\npatch:\n--- httpd-2.0/docs/conf/httpd-std.conf.in\t15 Jul 2002 20:17:25 -0000\t1.13\n+++ httpd-2.0/docs/conf/httpd-std.conf.in\t23 Aug 2002 07:35:33 -0000\n@@ -692,7 +692,8 @@\n # Note 2: The example entries below illustrate that in some cases \n # the two character 'Language' abbreviation is not identical to \n # the two character 'Country' code for its country,\n-# E.g. 'Danmark/dk' versus 'Danish/da'.\n+# E.g. 'Danmark/dk' versus 'Danish/da' or 'Ukraine/ua' versus\n+# 'Ukrainian/uk' (the latter is, sometimes, a source of confusion).\n #\n # Note 3: In the case of 'ltz' we violate the RFC by using a three char\n # specifier. There is 'work in progress' to fix this and get\n@@ -704,7 +705,7 @@\n # Portugese (pt) - Luxembourgeois* (ltz)\n # Spanish (es) - Swedish (sv) - Catalan (ca) - Czech(cz)\n # Polish (pl) - Brazilian Portuguese (pt-br) - Japanese (ja)\n-# Russian (ru) - Croatian (hr)\n+# Russian (ru) - Croatian (hr) - Ukrainian (uk)\n #\n AddLanguage da .dk\n AddLanguage nl .nl\n@@ -731,6 +732,7 @@\n AddLanguage tw .tw\n AddLanguage zh-tw .tw\n AddLanguage hr .hr\n+AddLanguage uk .uk\n \n #\n # LanguagePriority allows you to give precedence to some lanuages\n\n\n2) Language priority doesn't include all languages.\nI dare not to change it, but perhaps it should correcpont to \"AddLanguage\"\norder. At least \"uk\" should be added there.\n\n3) URL ftp://ftp.isi.edu/in-notes/iana/assignments/character-sets is now\ninvalid. therefore following change is requred on lines 769 and 806.\n-# See ftp://ftp.isi.edu/in-notes/iana/assignments/character-sets for\n+# See http://www.iana.org/assignments/character-sets for\n\n4) KOI8-U charset is not defined, although it's widely used, and even has a RFC.\nalso utf-8 and utf-7 are defined twice -- in upper and lower case.\nit also changes .ua binding to KOI8-U, which I guess is the right thing to be.\npatch (based on http://www.iana.org/assignments/character-sets information):\n@@ -780,26 +782,31 @@\n AddCharset ISO-2022-KR .iso2022-kr .kis\n AddCharset ISO-2022-CN .iso2022-cn .cis\n AddCharset Big5        .Big5       .big5\n-# For russian, more than one charset is used (depends on client, mostly):\n+# For Russian, more than one charset is used (depends on client, mostly):\n AddCharset WINDOWS-1251 .cp-1251   .win-1251\n AddCharset CP866       .cp866\n-AddCharset KOI8-r      .koi8-r .koi8-ru\n-AddCharset KOI8-ru     .koi8-uk .ua\n+AddCharset KOI8-r      .koi8-r\n+# both Russian and Ukrainian (probably other cyrillic-based languages)\n+AddCharset KOI8-ru     .koi8-uk  .koi8-ru\n+# widely-used Ukrainian encoding, RFC2319\n+AddCharset KOI8-U      .koi8-u .ua\n+\n+# Unicode\n AddCharset ISO-10646-UCS-2 .ucs2\n AddCharset ISO-10646-UCS-4 .ucs4\n-AddCharset UTF-8       .utf8\n+AddCharset UTF-7        .utf7\n+AddCharset UTF-8        .utf8\n+AddCharset UTF-16       .utf16\n \n # The set below does not map to a specific (iso) standard\n # but works on a fairly wide range of browsers. Note that\n # capitalization actually matters (it should not, but it\n # does for some browsers).\n #\n-# See ftp://ftp.isi.edu/in-notes/iana/assignments/character-sets\n+# See http://www.iana.org/assignments/character-sets\n # for a list of sorts. But browsers support few.\n #\n AddCharset GB2312      .gb2312 .gb \n-AddCharset utf-7       .utf7\n-AddCharset utf-8       .utf8\n AddCharset big5        .big5 .b5\n AddCharset EUC-TW      .euc-tw\n AddCharset EUC-JP      .euc-jp\n\nIf you have suggestion or just think that this patch is wrong, please contact me.", "id": 21574, "time": "2002-08-23T07:46:43Z", "bug_id": 11960, "creation_time": "2002-08-23T07:46:43Z", "is_private": false}, {"count": 1, "tags": [], "creator": "bohdan@bodq.org.ua", "text": "Created attachment 2808\npatch with similar issues addressed, yet for 1.3", "id": 21575, "attachment_id": 2808, "bug_id": 11960, "creation_time": "2002-08-23T07:49:47Z", "time": "2002-08-23T07:49:47Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 11960, "attachment_id": null, "id": 21615, "time": "2002-08-23T15:53:56Z", "creator": "slive@apache.org", "creation_time": "2002-08-23T15:53:56Z", "is_private": false, "text": "I'm actually leaning towards removing all the language definitions from\nhttpd.conf.  They were in there originally to make the \"welcome\" page work\nin multiple languages, but we now use a type-map for that, so we don't\nreally need it anymore.  It doesn't really seem to be a good use of our time\nto be constantly updating all the various languages (and there are hundreds\nof them, I believe).\n\nOther opinions?"}, {"count": 3, "tags": [], "creator": "bohdan@bodq.org.ua", "attachment_id": null, "id": 21632, "time": "2002-08-23T17:23:13Z", "bug_id": 11960, "creation_time": "2002-08-23T17:23:13Z", "is_private": false, "text": "What is *my* personal opinion, AddLanguage is good for server-wide configuration,\nand indeed is much more useful that typemap. Therefore it's good to have good\ndefault configuration. I think the role of default configuration is to make\nend-user life easier, so why not make Ukrainian web-deleopers life easier?\n\nP.s.: Also could anybody address charset issues?"}]