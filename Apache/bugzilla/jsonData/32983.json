[{"count": 0, "tags": [], "creator": "surfer97301@yahoo.com", "attachment_id": null, "is_private": false, "id": 69326, "time": "2005-01-07T08:36:21Z", "bug_id": 32983, "creation_time": "2005-01-07T08:36:21Z", "text": "When I try to run the following task java is trying to find the jar based off\nthe location from which i typed ant targetname.  This is wrong, it should look\nbased off where java is run from specifically the value of the dir attribute.\n\n<!-- test the release server -->\n<target name=\"runrelease-server\">\n<java jar=\"runme.jar\" dir=\"${project.release.tempdir}\" fork=\"true\">\n<arg line=\"server\" />\n</java>\n</target>\n\nHere is the -d -v output....\n\nSetting project property: project.release.tempdir -> \nC:\\projects\\scjd\\release-temp\n\nrunrelease-server:\n     [java] Executing 'F:\\program files\\j2sdk14204\\jre\\bin\\java.exe' with argume\nnts:\n     [java] '-jar'\n     [java] 'C:\\projects\\scjd\\build\\runme.jar'\n     [java] 'server'\n     [java]\n     [java] The ' characters around the executable and arguments are\n     [java] not part of the command.\nExecute:Java13CommandLauncher: Executing 'F:\\program files\\j2sdk14204\\jre\\bin\\ja\nva.exe' with arguments:\n'-jar'\n'C:\\projects\\scjd\\build\\runme.jar'\n'server'"}, {"count": 1, "tags": [], "creator": "antoine@apache.org", "attachment_id": null, "id": 69328, "time": "2005-01-07T10:00:19Z", "bug_id": 32983, "creation_time": "2005-01-07T10:00:19Z", "is_private": false, "text": "The ant way is that files are resolved relative to project directory.\nThe class implementing the java task has a setter setJar(File jarfile) ...\n\nThe Exec task is working differently : the executable attribute (which is a bit\nthe equivalent of the jar attribute here) is a String instead of a file, so it\ndoes not get resolved automatically against base directory.\nAnother attribute called resolveExecutable allows to resolve the executable\noptionally against the base directory.\n\nNow for BC reasons, and to avoid cluttering complex code, I do not think anyone\namong the committers would like to meet your requirement, which is difficult any\nway because the introspection does automatically the job of resolving the jar to\na path based on the project directory, unless an absolute path is written in the\nbuild file."}, {"count": 2, "text": "In that case I think the documentation for this task should be a little clearer\nin light of the different b/t the exectute task and the java task.  If the\ndocumentation said for the jar argument - will be relative to build directory\neven when dir argument specified other location, then it would have been much\nclearer.\n\nAnd for the execute command the opposite, that the command will be executed\nrelative to the dir value.", "creator": "surfer97301@yahoo.com", "attachment_id": null, "id": 69402, "time": "2005-01-07T22:54:22Z", "bug_id": 32983, "creation_time": "2005-01-07T22:54:22Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 32983, "is_private": false, "count": 3, "id": 69423, "time": "2005-01-08T08:44:45Z", "creator": "surfer97301@yahoo.com", "creation_time": "2005-01-08T08:44:45Z", "text": "If I submit a diff for the documentation would that help it make it in?  Are the\nant manual pages generated or are they just based off cvs?"}, {"count": 4, "tags": [], "creator": "jkf@apache.org", "attachment_id": null, "id": 69426, "time": "2005-01-08T11:16:02Z", "bug_id": 32983, "creation_time": "2005-01-08T11:16:02Z", "is_private": false, "text": "(In reply to comment #3)\n> If I submit a diff for the documentation would that help it make it in?  Are the\n> ant manual pages generated or are they just based off cvs?\n\nYes, if you submit a diff it would help to get it in and no the manual pages are\nnot generated. (Some of the other pages are generated though.)"}, {"count": 5, "tags": [], "creator": "stevel@apache.org", "attachment_id": null, "is_private": false, "id": 69476, "time": "2005-01-10T11:57:26Z", "bug_id": 32983, "creation_time": "2005-01-10T11:57:26Z", "text": "I have updated the docs in CVS_HEAD.\n\nNote that the JAR attribute refers to a file which must exist. This is very\ndifferent from the command in <exec>, which is just a string handed off to the\nOS to resolve using their PATH environment variable or whatever other executable\nresolution pattern it chooses. This is why on DOS systems you can <exec> an\nexecutable like \"regedit\" without knowing that it is regedit.exe, or where it lives."}]