[{"count": 0, "tags": [], "creator": "jochenk@prolib.de", "is_private": false, "id": 91899, "attachment_id": null, "bug_id": 40185, "creation_time": "2006-08-04T14:37:46Z", "time": "2006-08-04T14:37:46Z", "text": "I'm watched this behaviour with version mod_isapi-416293.zip as cited\nin bug 16637. Based on comments at bug 40067 we have an unexpected HTTP result\naccording to Content-Length and no Content. Although the HTTP code now seems\nbetter - less unexpected 500 and regular ones like 200, 302 and 401 - there is\ncurrently no content in the HTTP response.\n\nI examined the HTTP calls with wget and Fiddler and both tools actually show\nContent-Length: 0 and no HTML part of the response (while using our own ISAPI\nextension called Active FoxPro Pages).\n\nHere is a sample of a wget trace calling a HTTP redirecting page:\nDEBUG output created by Wget 1.10.2 on cygwin.\n\n--16:33:22--  http://localhost/random.afp\n           => `random.afp'\nResolving localhost... 127.0.0.1\nCaching localhost => 127.0.0.1\nConnecting to localhost|127.0.0.1|:80... connected.\nCreated socket 4.\nReleasing 0x10042918 (new refcount 1).\n\n---request begin---\nGET /random.afp HTTP/1.0\nUser-Agent: Wget/1.10.2\nAccept: */*\nHost: localhost\nConnection: Keep-Alive\n\n---request end---\nHTTP request sent, awaiting response... \n---response begin---\nHTTP/1.1 302 object has moved\nDate: Fri, 04 Aug 2006 14:33:22 GMT\nServer: Apache/2.2.3 (Win32)\nExpires: Fri, 04 Aug 2006 16:33:21 GMT\nContent-Length: 0\nLocation: ./?id=GetBlogged20060222                                \nKeep-Alive: timeout=5, max=100\nConnection: Keep-Alive\nContent-Type: text/html\n\n---response end---\n302 object has moved\nRegistered socket 4 for persistent reuse.\nLocation: ./?id=GetBlogged20060222 [following]\nSkipping 0 bytes of body: [] done.\n--16:33:22--  http://localhost/?id=GetBlogged20060222\n           => `index.html@id=GetBlogged20060222'\nDisabling further reuse of socket 4.\nClosed fd 4\nFound localhost in host_name_addresses_map (0x10042918)\nConnecting to localhost|127.0.0.1|:80... connected.\nCreated socket 4.\nReleasing 0x10042918 (new refcount 1).\n\n---request begin---\nGET /?id=GetBlogged20060222 HTTP/1.0\nUser-Agent: Wget/1.10.2\nAccept: */*\nHost: localhost\nConnection: Keep-Alive\n\n---request end---\nHTTP request sent, awaiting response... \n---response begin---\nHTTP/1.1 200 OK\nDate: Fri, 04 Aug 2006 14:33:22 GMT\nServer: Apache/2.2.3 (Win32)\nExpires: Fri, 04 Aug 2006 16:33:21 GMT\nCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nPragma: no-cache\nX-Powered-By: AFP/3.0.604 \nSet-Cookie: afpcookie=EC75C3788DB3214C98BBED8AC092B81C; path=/\nSet-Cookie: AfpWiki=.de.; expires=Wed, 31-Jan-2007 00:00:00 GMT; path=/;\ndomain=localhost\nContent-Length: 0\nLast-Modified: Fri, 04 Aug 2006 14:33:22 GMT\nKeep-Alive: timeout=5, max=100\nConnection: Keep-Alive\nContent-Type: text/html\n\n---response end---\n200 OK\nRegistered socket 4 for persistent reuse.\n\nStored cookie localhost -1 (ANY) / <session> <insecure> [expiry none] afpcookie\nEC75C3788DB3214C98BBED8AC092B81C\ncdm: 1 2\nStored cookie localhost -1 (ANY) / <permanent> <insecure> [expiry 2007-01-31\n01:00:00] AfpWiki .de.\nLength: 0 [text/html]\n\n    0K                                                           0.00 B/s\n\n16:33:22 (0.00 B/s) - `index.html@id=GetBlogged20060222' saved [0/0]\n=================================================================\n\nAnd here's raw output of Fiddler:\nHTTP/1.1 302 object has moved\nDate: Fri, 04 Aug 2006 14:20:54 GMT\nServer: Apache/2.2.3 (Win32)\nExpires: Fri, 04 Aug 2006 16:20:53 GMT\nContent-Length: 0\nLocation: ./?id=DesignPatternDecorator\nContent-Type: text/html\n\n(next request/response)\nHTTP/1.1 500 Fiddler - Bad Response\nContent-Type: text/html\nConnection: close\n=================================================================\n\nI looks like mod_isapi cuts the content part (after the blank line of the HTTP\nheader) off and responds no HTML (or whatever) data.\n\nSadly, I've less experiences in C/C++ to debug the mod_isapi module directly.\nMaybe someone could give me a helping hand to setup and trace this more precisely.\n\nThanks"}, {"count": 1, "tags": [], "bug_id": 40185, "is_private": false, "text": "Please retest with\n\nhttp://svn.apache.org/repos/asf/httpd/httpd/trunk/modules/arch/win32/mod_isapi.c\n\nI believe your fault should be resolved unless there are additional issues\nwith foxisapi.", "id": 97590, "time": "2007-01-03T15:16:07Z", "creator": "wrowe@apache.org", "creation_time": "2007-01-03T15:16:07Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 40185, "is_private": false, "text": "No response from submittor, presuming fixed.", "id": 112337, "time": "2007-12-30T23:12:21Z", "creator": "wrowe@apache.org", "creation_time": "2007-12-30T23:12:21Z", "attachment_id": null}]