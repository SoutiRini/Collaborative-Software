[{"count": 0, "tags": [], "creator": "gthb@dimon.is", "is_private": false, "text": "The patch task currently does not stop the build with an error when a patch\nfails (or individual hunks fail). It should expose the failonerror attribute so\nthat we have the option of stopping the build when a patch fails.\n\nIdeally failonerror should be on by default, but that would probably break a lot\nof build environments. So as a compromise it should be off by default, but at\nleast available.", "id": 44941, "time": "2003-10-01T11:45:49Z", "bug_id": 23540, "creation_time": "2003-10-01T11:45:49Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 23540, "is_private": false, "id": 44961, "time": "2003-10-01T16:52:40Z", "creator": "stevel@apache.org", "creation_time": "2003-10-01T16:52:40Z", "tags": [], "text": "ant-contrib on sf.net has a try/catch task that lets you wrap anything. We plan\nto do the same in ant1.6, so get away from the failonerror behaviour altogether"}, {"count": 2, "attachment_id": null, "bug_id": 23540, "text": "try/catch won't help here as the return code of patch gets ignored and the task\nwill never fail (this is what Gunnlaugur wants to see changed).\n", "id": 45005, "time": "2003-10-02T12:29:38Z", "creator": "bodewig@apache.org", "creation_time": "2003-10-02T12:29:38Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "emmanuel.feller@free.fr", "text": "the simplest way to fix is :\n\n- add the failonerror field with his accessor (get, set)\n- create a method on task called _execute() like this :\npublic void _execute()\n{\n  try{\n    execute()\n  }\n  catch(BuildException be)\n  {\n    if (getFailonerror()) throw be;\n  }\n}\n\n- change the reflective call from execute() to _execute() (if the call fail, it \ncould be good to mark the task as deprecated in log, because im my humble \nopinion the third party task should extend Task, and do the execute() call).\n\nSo it will set up the behavior for every task wich extend Task.\n\nThis is backward compatible ;) and this is backward compatible with task wich \nhave already the failonerror field (the test will be done twice but will have \nthe expected behavior).\n\nEmmanuel", "id": 45032, "time": "2003-10-03T08:43:09Z", "bug_id": 23540, "creation_time": "2003-10-03T08:43:09Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 23540, "attachment_id": null, "is_private": false, "id": 129729, "time": "2009-08-17T01:51:38Z", "creator": "bodewig@apache.org", "creation_time": "2009-08-17T01:51:38Z", "text": "\n\n*** This bug has been marked as a duplicate of bug 44772 ***"}]