[{"count": 0, "tags": [], "bug_id": 50758, "text": "Why on IE it rewrites non Latin character URLs to urlencode and not urldecode utf-8? How to solve it?\n\ndomain.com//\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b rewrites to domain.com/%D0%BA%D0%BE%D0%BD%D1%82%D0%B0%D0%BA%D1%82%D1%8B\n\n<IfModule mod_rewrite.c>\nRewriteEngine On\n# Rewrite multiple slashes with single slash after domain\n# domain.com//\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b returns urlencoded domain.com/%D0%BA%D0%BE%D0%BD%D1%82%D0%B0%D0%BA%D1%82%D1%8B\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\s//+(.*)\\sHTTP/[0-9.]+$ [OR]\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\s(.*/)/+\\sHTTP/[0-9.]+$\nRewriteRule .* http://%{HTTP_HOST}/%1 [R=301,NE,L]\n\n# Rewrite multiple slashes with single slash in URL\n# domain.com//\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b// returns urldecode utf-8 domain.com/\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b/\nRewriteCond %{REQUEST_URI} ^(.*)//(.*)$\nRewriteRule . %1/%2 [R=301,L]\n</IfModule>", "id": 144158, "time": "2011-02-10T15:04:27Z", "creator": "7raivis@inbox.lv", "creation_time": "2011-02-10T15:04:27Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 50758, "is_private": false, "count": 1, "id": 144162, "time": "2011-02-10T16:56:19Z", "creator": "covener@gmail.com", "creation_time": "2011-02-10T16:56:19Z", "text": "Bugzilla is for bugs, not questions."}, {"count": 2, "attachment_id": null, "creator": "7raivis@inbox.lv", "is_private": false, "id": 144164, "time": "2011-02-10T18:23:11Z", "bug_id": 50758, "creation_time": "2011-02-10T18:23:11Z", "tags": [], "text": "It's a bug.\n\n(In reply to comment #1)\n> Bugzilla is for bugs, not questions."}, {"count": 3, "tags": [], "bug_id": 50758, "is_private": false, "text": "THE_REQUEST has a different value than REQUEST_URI.\n\nhttp://svn.apache.org/viewvc?view=revision&revision=1073591", "id": 144495, "time": "2011-02-22T23:28:53Z", "creator": "covener@gmail.com", "creation_time": "2011-02-22T23:28:53Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "7raivis@inbox.lv", "attachment_id": null, "text": "That I am trying to say - Apache has rewrite urldecode bug for THE_REQUEST:\n\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\s//+(.*)\\sHTTP/[0-9.]+$ [OR]\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\s(.*/)/+\\sHTTP/[0-9.]+$\nRewriteRule .* http://%{HTTP_HOST}/%1 [R=301,L,NE]\n\ndomain.com//\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b it rewrites to domain.com/%D0%BA%D0%BE%D0%BD%D1%82%D0%B0%D0%BA%D1%82%D1%8B\n(check on IE, other browsers in address-bar automatically does urldecode)\n\nIt'll not be solved/will not work on THE_REQUEST replacing with REQUEST_URI.", "id": 144503, "time": "2011-02-23T10:37:44Z", "bug_id": 50758, "creation_time": "2011-02-23T10:37:44Z", "is_private": false}, {"count": 5, "attachment_id": null, "creator": "covener@gmail.com", "text": "What's the bug?  The contents of the THE_REQUEST variable, or what happens after you use it in a substitution?\n\nObtain a rewritelog and describe exactly what value you're expecting, and why.", "id": 144505, "time": "2011-02-23T10:51:31Z", "bug_id": 50758, "creation_time": "2011-02-23T10:51:31Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "text": "\naccess.log\n127.0.0.1 - - [23/Feb/2011:18:28:07 +0200] \"GET //%D0%BA%D0%BE%D0%BD%D1%82%D0%B0%D0%BA%D1%82%D1%8B HTTP/1.1\" 301 291 \"-\" \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; InfoPath.3)\"\n127.0.0.1 - - [23/Feb/2011:18:28:07 +0200] \"GET /%D0%BA%D0%BE%D0%BD%D1%82%D0%B0%D0%BA%D1%82%D1%8B HTTP/1.1\" 200 1869 \"-\" \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; InfoPath.3)\"\n\n\nExcepted result would be: //\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b rewrited to /\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\n\nHow to make THE_REQUEST return utf-8 urldecode, like REQUEST_URI returns it fine?", "attachment_id": null, "id": 144506, "creation_time": "2011-02-23T11:32:09Z", "time": "2011-02-23T11:32:09Z", "creator": "7raivis@inbox.lv", "bug_id": 50758, "is_private": false}, {"count": 7, "tags": [], "text": "THE_REQUEST is what the user sent, without any decoding. If you copy it into a substitution, it's going to be URL-encoded still.", "attachment_id": null, "bug_id": 50758, "id": 144509, "time": "2011-02-23T11:57:07Z", "creator": "covener@gmail.com", "creation_time": "2011-02-23T11:57:07Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 50758, "text": "@Eric Covener - Is there any way to do this rewrite rules with REQUEST_URI and not THE_REQUEST, so that it'll return urldecode url?\n\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\s//+(.*)\\sHTTP/[0-9.]+$ [OR]\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\s(.*/)/+\\sHTTP/[0-9.]+$\nRewriteRule .* http://%{HTTP_HOST}/%1 [R=301,L,NE]", "id": 144510, "time": "2011-02-23T12:55:15Z", "creator": "7raivis@inbox.lv", "creation_time": "2011-02-23T12:55:15Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "creator": "covener@gmail.com", "attachment_id": null, "text": "Bugzilla isn't for Q&A or configuration assistance.", "id": 144511, "time": "2011-02-23T13:02:16Z", "bug_id": 50758, "creation_time": "2011-02-23T13:02:16Z", "is_private": false}]