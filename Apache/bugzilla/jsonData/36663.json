[{"count": 0, "tags": [], "text": "Tomcat 5.5 is able to run with a JRE. Yet, the setclasspath.bat file requires\nthat the JAVA_HOME environment variable points to a complete JDK. Here are the\ncorresponding lines from setclasspath.bat\n\nif not \"%JAVA_HOME%\" == \"\" goto gotJavaHome\n\necho The JAVA_HOME environment variable is not defined\n\necho This environment variable is needed to run this program\n\ngoto exit\n\n:gotJavaHome\n\nif not exist \"%JAVA_HOME%\\bin\\java.exe\" goto noJavaHome\n\nif not exist \"%JAVA_HOME%\\bin\\javaw.exe\" goto noJavaHome\n\nif not exist \"%JAVA_HOME%\\bin\\jdb.exe\" goto noJavaHome\n\nif not exist \"%JAVA_HOME%\\bin\\javac.exe\" goto noJavaHome\n\ngoto okJavaHome\n\n:noJavaHome\n\necho The JAVA_HOME environment variable is not defined correctly\n\necho This environment variable is needed to run this program\n\necho NB: JAVA_HOME should point to a JDK not a JRE\n\ngoto exit\n\n:okJavaHome", "is_private": false, "id": 79975, "creator": "stefan.wachter@gmx.de", "time": "2005-09-15T08:22:29Z", "bug_id": 36663, "creation_time": "2005-09-15T08:22:29Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "roman.pichlik@asei.cz", "attachment_id": null, "id": 80828, "time": "2005-10-06T09:04:08Z", "bug_id": 36663, "creation_time": "2005-10-06T09:04:08Z", "is_private": false, "text": "I think this bug is critical, because Tomcat 5.5.9 can`t run on JRE. If someone\nneed help now, it is possible comment affected lines in setclasspath.bat.\n\nMy patched setclasspath.bat\n\nrem ---------------------------------------------------------------------------\nrem Set CLASSPATH and Java options\nrem\nrem $Id: setclasspath.bat,v 1.7 2004/07/26 15:34:31 yoavs Exp $\nrem ---------------------------------------------------------------------------\n\nrem Make sure prerequisite environment variables are set\nif not \"%JAVA_HOME%\" == \"\" goto gotJavaHome\necho The JAVA_HOME environment variable is not defined\necho This environment variable is needed to run this program\ngoto exit\n:gotJavaHome\nif not exist \"%JAVA_HOME%\\bin\\java.exe\" goto noJavaHome\nif not exist \"%JAVA_HOME%\\bin\\javaw.exe\" goto noJavaHome\nrem if not exist \"%JAVA_HOME%\\bin\\jdb.exe\" goto noJavaHome\nrem if not exist \"%JAVA_HOME%\\bin\\javac.exe\" goto noJavaHome\ngoto okJavaHome\n:noJavaHome\necho The JAVA_HOME environment variable is not defined correctly\necho This environment variable is needed to run this program\necho NB: JAVA_HOME should point to a JDK not a JRE\ngoto exit\n:okJavaHome\n\nif not \"%BASEDIR%\" == \"\" goto gotBasedir\necho The BASEDIR environment variable is not defined\necho This environment variable is needed to run this program\ngoto exit\n:gotBasedir\nif exist \"%BASEDIR%\\bin\\setclasspath.bat\" goto okBasedir\necho The BASEDIR environment variable is not defined correctly\necho This environment variable is needed to run this program\ngoto exit\n:okBasedir\n\nrem Set the default -Djava.endorsed.dirs argument\nset JAVA_ENDORSED_DIRS=%BASEDIR%\\common\\endorsed\n\nrem Set standard CLASSPATH\nrem Note that there are no quotes as we do not want to introduce random\nrem quotes into the CLASSPATH\nrem set CLASSPATH=%JAVA_HOME%\\lib\\tools.jar\n\nrem Set standard command for invoking Java.\nrem Note that NT requires a window name argument when using start.\nrem Also note the quoting as JAVA_HOME may contain spaces.\nset _RUNJAVA=\"%JAVA_HOME%\\bin\\java\"\nset _RUNJAVAW=\"%JAVA_HOME%\\bin\\javaw\"\nrem set _RUNJDB=\"%JAVA_HOME%\\bin\\jdb\"\nrem set _RUNJAVAC=\"%JAVA_HOME%\\bin\\javac\"\n\ngoto end\n\n:exit\nexit /b 1\n\n:end\n\n"}, {"count": 2, "attachment_id": null, "creator": "yoavs@computer.org", "text": "It's not critical because this script is not required for proper Tomcat\noperation.  Please submit your changes as a diff rather than the whole file.", "id": 81091, "time": "2005-10-13T06:09:24Z", "bug_id": 36663, "creation_time": "2005-10-13T06:09:24Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 36663, "text": "(In reply to comment #2)\n> It's not critical because this script is not required for proper Tomcat\n> operation.  Please submit your changes as a diff rather than the whole file.\n\nIt may not be critical, but to someone unfamiliar with Tomcat, it is\ninconsistent with the file \"RUNNING.TXT\", which gives very simple instructions\nthat simply won't work as described.\n\nEither the script should be changed as suggested, or the documentation changed.\nUnfortunately, in its current state it potentially turns off new users to Tomcat.", "id": 92047, "time": "2006-08-08T18:37:07Z", "creator": "gary.hirschhorn@fetch.com", "creation_time": "2006-08-08T18:37:07Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of 32081 ***", "attachment_id": null, "id": 94620, "creator": "markt@apache.org", "time": "2006-10-07T14:13:59Z", "bug_id": 36663, "creation_time": "2006-10-07T14:13:59Z", "is_private": false}]