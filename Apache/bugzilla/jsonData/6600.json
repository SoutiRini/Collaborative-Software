[{"count": 0, "tags": [], "text": "The Servlet 2.3 specification explicitly describes sessions based on the SSL\nsession i.e. a session which is neither based on cookies nor on URL rewriting.\n\nWhen calling encodeURL() on the HttpServletResponse this should be taken into\nconsideration. So the 'jsession' stuff should be added only if\nisRequestedSessionIdFromURL() returns true.\n\n-> fix in org.apache.catalina.connector.HttpResponseBase.isEncodeable():\n\nreplace:\n\n        if (hreq.isRequestedSessionIdFromCookie())\n            return (false);\n\nwith:\n\n        if (!hreq.isRequestedSessionIdFromURL())\n            return (false);", "is_private": false, "bug_id": 6600, "id": 10985, "time": "2002-02-20T23:43:14Z", "creator": "sgw@adnovum.com", "creation_time": "2002-02-20T23:43:14Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "No, you should encode if the session is NOT cookie based (otherwise, the id is\nin the cookie, not in the URL).\nA SSLSession is neither URL based nor cookie based, so it still shouldn't be\nencoded.", "is_private": false, "id": 10992, "creator": "remm@apache.org", "time": "2002-02-21T05:36:19Z", "bug_id": 6600, "creation_time": "2002-02-21T05:36:19Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 6600, "text": "quote: 'A SSLSession is neither URL based nor cookie based, so it still\nshouldn't be encoded.'\n\nI agree 100%.\n\nBUT: in Tomcat 4.0.2 when the session is neither URL based nor cookie based the\n'jsessionid' IS encoded into the URL.", "id": 11050, "time": "2002-02-21T18:21:44Z", "creator": "sgw@adnovum.com", "creation_time": "2002-02-21T18:21:44Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 6600, "is_private": false, "text": "Ok, the code says the same thing as my sentence. Sorry. The patch seems\nreasonable, so I'll apply it. Thanks !\nNightly for 02/22 will have the fix.", "id": 11053, "time": "2002-02-21T19:02:26Z", "creator": "remm@apache.org", "creation_time": "2002-02-21T19:02:26Z", "attachment_id": null}, {"count": 4, "tags": [], "text": "The patch for this broke URL encoding of the session id, and has been reverted.\nThe spec doesn't require to implement this, so I'm changing to an enhancement\nrequest.", "is_private": false, "bug_id": 6600, "id": 11708, "time": "2002-03-12T21:28:53Z", "creator": "remm@apache.org", "creation_time": "2002-03-12T21:28:53Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "is_private": false, "id": 142658, "time": "2010-12-13T14:50:19Z", "bug_id": 6600, "creation_time": "2010-12-13T14:50:19Z", "text": "Prior to Servlet 3.0 session tracking via SSL session was optional with a fair amount of ambiguity when one looked for the detail necessary for an implementation. This was addressed in Servlet 3.0 and Tomcat 7 fully supports it - including the feature discussed here."}]