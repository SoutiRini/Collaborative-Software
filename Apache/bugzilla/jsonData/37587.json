[{"count": 0, "attachment_id": null, "bug_id": 37587, "text": "httpd-2.0.54 on AIX5.2 with mod_status and ExtendedStatus on.  Almost all\ntraffic is generated by a custom module rather than static pages.  Total traffic\ngot up to at least 133GB and then quickly dropped to 114GB and then later to\n76GB before the instance was restarted for module upgrade.  I first suspected\nsome sort of overflow condition, but value dropped many times more quickly than\nit went up so that's probably not the cause. Perhaps this is related to 25656,\nbut doesn't quite seem to be the same either.", "id": 82721, "time": "2005-11-22T01:24:35Z", "creator": "twh@iw.net", "creation_time": "2005-11-22T01:24:35Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 37587, "text": "My initial report was a bit misleading in that one could assume I was implying\nthat the traffic counter was going backwards. That is not the case.  The traffic\nvalue seemed to be going up normally when watched for a short period of time,\nbut at some point (overnight perhaps) would take significant downward jumps\nresulting in a quick overall downward trend.  Thus the 133GB down to 76GB over\nperhaps 3 days.  The Totals Accesses count seemed accurate.  The server uses a\npiped logger for rotation so graceful restarts are not a factor.", "id": 82743, "time": "2005-11-23T02:01:54Z", "creator": "twh@iw.net", "creation_time": "2005-11-23T02:01:54Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "jorton@redhat.com", "text": "This is a 64-bit build?", "id": 82875, "time": "2005-11-26T13:10:38Z", "bug_id": 37587, "creation_time": "2005-11-26T13:10:38Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 37587, "text": "32 bit build. Compiler: IBM VAC 5.0.2.  Worker MPM. Pretty stripped down\nconfiguration: just mod_status and mod_access plus our own module. Using piped\nlogging.", "id": 82879, "time": "2005-11-26T17:06:21Z", "creator": "twh@iw.net", "creation_time": "2005-11-26T17:06:21Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 37587, "text": "Isn't this a limitation with all server-wide mod_status measurements, including\nCPU usage?  As soon as a child process exits, such as when load subsides, that\nprocess's contribution to the server-wide measurements are lost.", "id": 82890, "time": "2005-11-27T14:09:05Z", "creator": "trawick@apache.org", "creation_time": "2005-11-27T14:09:05Z", "is_private": false, "attachment_id": null}, {"text": "That doesn't appear to be the case -- due to traffic spikes, processes are\ncycling on a regular basis and the Total Accesses and Total Traffic values were\nboth going up normally, until Total Traffic reached somewhere around 133GB.  The\nactual point at which it started going down is probably several GB (3-5 perhaps)\nhigher.  133 is the last snapshot I have before it showed lower numbers.  Even\nafter the Total Traffic value went down, the Total Access count still appeared\naccurate causing the Average KB/request value to drop.\nI have verified that the processes are cycling as we log the PID -- Normally 1\nworker process handles the load, but sometimes a second process is present in\nthe log file for a while and then the original disappears. I'm not aware of any\ncore dumps occurring.", "tags": [], "bug_id": 37587, "is_private": false, "count": 5, "id": 82908, "time": "2005-11-28T14:41:17Z", "creator": "twh@iw.net", "creation_time": "2005-11-28T14:41:17Z", "attachment_id": null}, {"count": 6, "tags": [], "creator": "twh@iw.net", "attachment_id": null, "is_private": false, "id": 83338, "time": "2005-12-06T23:43:28Z", "bug_id": 37587, "creation_time": "2005-12-06T23:43:28Z", "text": "Here's a couple snapshots from mod_status output showing the problem; this is\nactually after the value already dropped once from 50+GB:\n\nCurrent Time: Monday, 05-Dec-2005 19:48:59 CST \nRestart Time: Sunday, 20-Nov-2005 01:59:00 CST \nParent Server Generation: 0 \nServer uptime: 15 days 17 hours 49 minutes 59 seconds \nTotal accesses: 13150551 - Total Traffic: 33.3 GB \nCPU Usage: u19.11 s15.27 cu0 cs0 - .00253% CPU load \n9.67 requests/sec - 25.7 kB/second - 2718 B/request \n3 requests currently being processed, 12 idle workers \n\nCurrent Time: Tuesday, 06-Dec-2005 06:12:16 CST \nRestart Time: Sunday, 20-Nov-2005 01:59:00 CST \nParent Server Generation: 0 \nServer uptime: 16 days 4 hours 13 minutes 15 seconds \nTotal accesses: 13375508 - Total Traffic: 6.4 GB \nCPU Usage: u67.97 s50.52 cu0 cs0 - .00848% CPU load \n9.57 requests/sec - 4932 B/second - 515 B/request \n2 requests currently being processed, 13 idle workers \n\n\nLooks like some of the individual slot values are negative; Slot is the last\ncolumn I've pasted here below:\nSrv PID Acc M CPU  SS Req Conn Child Slot \n0-0 - 0/0/419417 .  94.85 2103 32 0.0 0.00 -1983.29\n0-0 - 0/0/419054 .  94.85 2103 101 0.0 0.00 -1965.49\n0-0 - 0/0/419501 .  94.85 2103 103 0.0 0.00 -2001.22\n\n"}]