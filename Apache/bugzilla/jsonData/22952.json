[{"count": 0, "tags": [], "bug_id": 22952, "attachment_id": null, "id": 43784, "time": "2003-09-06T04:15:25Z", "creator": "dineshusas@yahoo.com", "creation_time": "2003-09-06T04:15:25Z", "is_private": false, "text": "Hi,\n   We are using tomcat 4.1.18 and SQL Server 2000. I am using Tomcat connection \npooling for my web application. One problem with this is, when database is down \nand get started , my application is not able to contact the database. It \ngives 'SQLException: connection reset peer, socket write error'. I tested with \nmy options,. but the problem doesnt solve. So i went for PoolMan connection \npooling. Problem with PoolMan is it have same problem if PreparedStatement is \nused, otherwise it works fine with Statement and CallableStatement. \n  Main thing is our aplication going live on this Monday 8th Sept. So before \nthat i need the solution.Please help me on this issue.\n  I even tried with tomcat 5.0, same problem exist.\nThanks\nDinesh Shetty"}, {"count": 1, "tags": [], "bug_id": 22952, "attachment_id": null, "id": 43796, "time": "2003-09-06T11:33:34Z", "creator": "dirk.verbeeck@pandora.be", "creation_time": "2003-09-06T11:33:34Z", "is_private": false, "text": "If there is a possibility that your database connections becomes broken (by a\ndatabase restart, network problem, ...) then you need to configure connection\nvalidation.\n\ntestOnBorrow = true\nvalidationQuery = \"select * from dual\"\n(make sure you use a correct query for your database)\n\n=> more questions: commons-user mailinglist (use [DBCP] subject prefix)"}]