[{"count": 0, "tags": [], "bug_id": 34156, "text": "Batik should allow to configure in which mode long scripts are run. It would\ncurrently run them in compiled mode which is subject to various limitations,\nin particular jump offsets are restricted to much less than what is required\nto execute automatically generated scripts such as the script in\n\n  http://lists.w3.org/Archives/Public/www-archive/2005Mar/att-0021/svganno2.svgz\n\nThe latest release candidate of Rhino does not have such limitations in \ninterpreted mode, so if the mode is made configurable Batik could run the \nscript (which would be very valuable :-).", "id": 72766, "time": "2005-03-24T01:00:58Z", "creator": "bjoern@hoehrmann.de", "creation_time": "2005-03-24T01:00:58Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 34156, "attachment_id": null, "id": 72974, "time": "2005-03-29T14:51:57Z", "creator": "deweese@apache.org", "creation_time": "2005-03-29T14:51:57Z", "is_private": false, "text": "What sort of interface do you have in mind?\n\nI think you can already get the RhinoInterpreter\nfor a BridgeContext/Document and set the Rhino Context \nto not optimize.  Given how rhino specific this request\nis I would hope this is sufficent. ????\n\n"}, {"count": 2, "attachment_id": null, "creator": "bjoern@hoehrmann.de", "is_private": false, "id": 73034, "time": "2005-03-30T01:20:51Z", "bug_id": 34156, "creation_time": "2005-03-30T01:20:51Z", "tags": [], "text": "No interface would be best, i.e., Batik automatically determines how to execute \nthe scripts, but I guess there is no simple way to do that. Setting this from \nthe calling application would not work for e.g. the rasterizer, though that's \nof less concern to me at the moment. How would you change the optimization \nlevel through a RhinoInterpreter object?"}, {"count": 3, "attachment_id": null, "bug_id": 34156, "text": "> No interface would be best, i.e., Batik automatically determines how to execute \n> the scripts.\n\n  Sure but obviously the proper place for this is _not_ Batik but\nRhino it's self.\n\n> How would you change the optimization level through a RhinoInterpreter object?\n\nIt's not quite as simple as I had at first thought.\nThe best route would probably be to subclass the RhinoInterpreter\nand override the enterContext method:\n\n    public Context enterContext(){\n       Context ctx = super.enterContext();\n       ctx.setOptimizationLevel(-1);\n       return ctx;\n    }\nThe replace the script services file with one that\nreferences your subclass instead of the default Rhino.\nIf you fiddle with the classpath you _can_ do this\neven for the rasterizer.", "id": 73039, "time": "2005-03-30T04:36:10Z", "creator": "deweese@apache.org", "creation_time": "2005-03-30T04:36:10Z", "tags": [], "is_private": false}]