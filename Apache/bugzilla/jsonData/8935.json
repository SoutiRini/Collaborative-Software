[{"count": 0, "tags": [], "bug_id": 8935, "attachment_id": null, "is_private": false, "id": 15790, "time": "2002-05-09T12:09:12Z", "creator": "bernhard.maehr@gmx.at", "creation_time": "2002-05-09T12:09:12Z", "text": "A servlet running in an endless loop (e.g chat-servlet) can not be stopped \nusing the manager.\n\nI use a servlet like this:\n\n boolean end = false;\n while(!end) {\n   out.print(\"...\");\n   rs.flushBuffer();\n   try {\n     Thread.sleep(500);\n   }\n}\n\nOnce I have loaded it, i can't stop it with the manager... Stop or Reload \nproduces both a Deadlock.\n\nLOG-Entry:\n2002-05-09 15:02:13 StandardWrapper[:invoker]: Waiting for 1 instance(s) to be \ndeallocated"}, {"count": 1, "tags": [], "creator": "remm@apache.org", "text": "Yes, this is normal. A timeout could be implemented for added robustness.", "id": 15806, "time": "2002-05-09T15:07:02Z", "bug_id": 8935, "creation_time": "2002-05-09T15:07:02Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 8935, "is_private": false, "id": 15958, "attachment_id": null, "creator": "bernhard.maehr@gmx.at", "creation_time": "2002-05-12T14:28:15Z", "time": "2002-05-12T14:28:15Z", "text": "I don't think that is normal. As far as I know this method is the common way \nto write a servlet that outputs infinite output. \nAt least the servlet should leave after a while from trying to stop this \nservlet so the deadlock would be removed. It should NOT be that the whole \nserver is blocked until killing the process (which can not be done at the most \nwebspace-accounts). "}, {"count": 3, "tags": [], "bug_id": 8935, "text": "I have changed that to use a timeout. The fix will be in Tomcat 4.1.5.", "id": 17745, "attachment_id": null, "creator": "remm@apache.org", "creation_time": "2002-06-13T16:28:02Z", "time": "2002-06-13T16:28:02Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 8935, "attachment_id": null, "text": "*** Bug 9932 has been marked as a duplicate of this bug. ***", "id": 18053, "time": "2002-06-19T11:24:42Z", "creator": "remm@apache.org", "creation_time": "2002-06-19T11:24:42Z", "is_private": false}]