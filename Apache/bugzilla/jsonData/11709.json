[{"count": 0, "tags": [], "bug_id": 11709, "is_private": false, "text": "Took 2 months to track this down, in my spare time. \n\nTest Environment:\nWeblogic 5.1 servlet, Using LoadRunner running 10 concurrent users generating \nthe same 17 page pdf over and over with no think time. Pdf has a common small \ngif logo on each page, 5 pages include a common complex chart.\n\nProblem:\nAn occasional NullPointerException was being thrown from the PDFXObject.output\n() method.\n\nRoot Cause:\nThe design of the system did not consider concurrent PDFDocuments accessing the \nsame FopImage. The FopImage member of the PDFXObject opens and closes an input \nstream from the image url, as well as nulling out other elements. Access to the \nFopImage member (a GifImage) was unsynchronized.\nThe line that always threw the execption was\nint bitMapsSize = fopimage.getBitmapsSize();\n\nSolution:\nIn the PDFXObject.output() method, added the following line at the beginning of \nthe method body.\n\nsynchronized(fopimage) {\n\nThe NullPointerExceptions disappeared! \n\nPlease no applause, just send money or thanks to mb32@ntrs.com", "id": 21057, "time": "2002-08-14T21:58:01Z", "creator": "mb32@ntrs.com", "creation_time": "2002-08-14T21:58:01Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 11709, "attachment_id": null, "text": "Which fop version are you talking about? Anyway, thread-safe problems fixed\nalready in cvs. Try cvs version (or just wait few days till 0.20.5 is out) and\nif it doesn't help, feel free to reopen the bug.", "id": 26584, "time": "2002-11-19T16:29:53Z", "creator": "oleg@tkachenko.com", "creation_time": "2002-11-19T16:29:53Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 11709, "is_private": false, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 156140, "time": "2012-04-01T07:00:47Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T07:00:47Z", "attachment_id": null}]