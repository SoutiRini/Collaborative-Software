[{"count": 0, "tags": [], "bug_id": 36507, "text": "Apache Tomcat uses JSESSIONID values like\n95C5BB2B084DB06938BF798FCF3B3994.tomcat2 for sticky sessions. \"tomcat2\" is the\nroute set in jvmRoute in the Engine element in server.xml. \n\nI expected that mod_proxy_balancer would match its path argument against the\npart after the . from JSESSIONID, but it tries to match against the whole cookie\nand fails obviousely. (in httpd-2.1.6-alpha/modules/proxy/mod_proxy_balancer.c,\nfind_route_worker function)\n\nThat way, balancer is useless as a replacement for mod_jk load balancing with\nsticky sessions.", "id": 79413, "time": "2005-09-05T17:41:35Z", "creator": "bachhube@fmi.uni-passau.de", "creation_time": "2005-09-05T17:41:35Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 36507, "attachment_id": 16546, "id": 80574, "time": "2005-09-28T23:17:33Z", "creator": "ruediger.pluem@vodafone.com", "creation_time": "2005-09-28T23:17:33Z", "is_private": false, "text": "Created attachment 16546\nPatch against trunk\n\nI can confirm this problem.\nThe attached patch should fix this. Can you please give it a try?"}, {"count": 2, "tags": [], "bug_id": 36507, "attachment_id": null, "id": 80737, "time": "2005-10-04T14:47:58Z", "creator": "bachhube@fmi.uni-passau.de", "creation_time": "2005-10-04T14:47:58Z", "is_private": false, "text": "Hi Ruediger,\n\n(In reply to comment #1)\n> Created an attachment (id=16546) [edit]\n> Patch against trunk\n> \n> I can confirm this problem.\n> The attached patch should fix this. Can you please give it a try?\n\nI can confirm that this patch fixes my problem. Thank you very much! I wonder\nthough whether the tomcat session id format is any standard or if apache should\nsupport sticky sessions for load balancing in a more generic way. \n\nBye,\nChristoph"}, {"count": 3, "tags": [], "bug_id": 36507, "text": "Committed to trunk (r295013)\nhttp://svn.apache.org/viewcvs.cgi/httpd/httpd/trunk/modules/proxy/mod_proxy_balancer.c?rev=295013&r1=279973&r2=295013", "id": 80781, "time": "2005-10-05T10:57:57Z", "creator": "rpluem@apache.org", "creation_time": "2005-10-05T10:57:57Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "rpluem@apache.org", "attachment_id": null, "text": "Committed and backported to 2.2.x branch (r306888).", "id": 80877, "time": "2005-10-06T23:14:45Z", "bug_id": 36507, "creation_time": "2005-10-06T23:14:45Z", "is_private": false}, {"count": 5, "tags": [], "creator": "rpluem@apache.org", "attachment_id": null, "text": "> though whether the tomcat session id format is any standard or if apache should\n> support sticky sessions for load balancing in a more generic way. \n\nIt does. As you can choose the name of the cookie you can make any application\nwhere you can set a cookie work with that. Just set cookie BLAH=a.route in your\napplication. Of course it is more convenient if the application container is\nable to do this (like Tomcat). BTW: I know no standard for coding such routing\ninformation inside a cookie. But if you know one I would be interested to get it\nknown.", "id": 80878, "time": "2005-10-06T23:21:00Z", "bug_id": 36507, "creation_time": "2005-10-06T23:21:00Z", "is_private": false}]