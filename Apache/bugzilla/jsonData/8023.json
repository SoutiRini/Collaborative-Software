[{"count": 0, "tags": [], "bug_id": 8023, "attachment_id": null, "id": 13392, "time": "2002-04-12T15:51:06Z", "creator": "sillen@init.se", "creation_time": "2002-04-12T15:51:06Z", "is_private": false, "text": "Hello, JVM hangs when called on a stylesheet with SVG. We can't use System.exit()\nas in the CommandLineStarter because we're using FOP from within a application\nserver. The SIGKILL shows that the thread is blocking on\norg.apache.batik.util.SoftReferenceCache line 186, which is doing a remove() on\na java.lang.ref.ReferenceQueue. I don't know if this is a JVM bug (we have tested\nthis on HP and Linux with different JVM's) or if this could be \"hacked\" around\nin the sources.\n\nSIGQUIT\n\nFull thread dump Classic VM (1.3.1.02-JPSE_1.3.1.02_20011206, native threads):\n    \"Thread-1\" (TID:0x7b868ea8, sys_thread_t:0x40005540, state:CW, native\nID:0x1) prio=5\n    \"Thread-0\" (TID:0x7b89c9a0, sys_thread_t:0x40c355c0, state:CW, native\nID:0xa) prio=5\n        at java.lang.Object.wait(Native Method)\n        at java.lang.ref.ReferenceQueue.remove(Unknown Source)\n        at java.lang.ref.ReferenceQueue.remove(Unknown Source)\n        at org.apache.batik.util.SoftReferenceCache$1.run(Unknown Source)\n    \"AWT-Motif\" (TID:0x7b87f6f0, sys_thread_t:0x40b762a8, state:R, native\nID:0x9) prio=6\n        at sun.awt.motif.MToolkit.run(Native Method)\n        at java.lang.Thread.run(Unknown Source)\n    \"SunToolkit.PostEventQueue-0\" (TID:0x7b87fd88, sys_thread_t:0x40b54118,\nstate:CW, native ID:0x8) prio=6\n        at java.lang.Object.wait(Native Method)\n        at java.lang.Object.wait(Unknown Source)\n        at sun.awt.PostEventQueue.run(SunToolkit.java:535)\n    \"AWT-EventQueue-0\" (TID:0x7b87fe58, sys_thread_t:0x40b4f090, state:CW,\nnative ID:0x7) prio=6\n        at java.lang.Object.wait(Native Method)\n        at java.lang.Object.wait(Unknown Source)\n        at java.awt.EventQueue.getNextEvent(EventQueue.java:261)\n        at\njava.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:146)\n        at\njava.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:102)\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n        at java.awt.EventDispatchThread.run(EventDispatchThread.java:85)\n    \"JIT Compiler\" (TID:0x7b8004e0, sys_thread_t:0x400b2130, state:CW, native\nID:0x6) prio=2\n    \"Finalizer\" (TID:0x7b800520, sys_thread_t:0x400af188, state:CW, native\nID:0x5) prio=8\n        at java.lang.Object.wait(Native Method)\n        at java.lang.ref.ReferenceQueue.remove(Unknown Source)\n        at java.lang.ref.ReferenceQueue.remove(Unknown Source)\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:162)\n    \"Reference Handler\" (TID:0x7b8002f8, sys_thread_t:0x400acd80, state:CW,\nnative ID:0x4) prio=10\n        at java.lang.Object.wait(Native Method)\n        at java.lang.Object.wait(Unknown Source)\n        at java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)\n    \"Signal dispatcher\" (TID:0x7b800328, sys_thread_t:0x400aade0, state:R,\nnative ID:0x3) prio=5\nMonitor Cache Dump:\n    java.lang.ref.ReferenceQueue$Lock@7B800538/7B8CFE00: <unowned>\n        Waiting to be notified:\n            \"Finalizer\" (0x400af188)\n    java.lang.ref.Reference$Lock@7B800308/7B8CF920: <unowned>\n        Waiting to be notified:\n            \"Reference Handler\" (0x400acd80)\n    java.awt.EventQueue@7B87FF60/7BAE5078: <unowned>\n        Waiting to be notified:\n            \"AWT-EventQueue-0\" (0x40b4f090)\n    sun.awt.PostEventQueue@7B87FD88/7BAE5670: <unowned>\n        Waiting to be notified:\n            \"SunToolkit.PostEventQueue-0\" (0x40b54118)\n    java.lang.ref.ReferenceQueue$Lock@7B89C998/7BB829A8: <unowned>\n        Waiting to be notified:\n            \"Thread-0\" (0x40c355c0)\nRegistered Monitor Dump:\n    JIT thread lock: <unowned>\n        Waiting to be notified:\n            \"JIT Compiler\" (0x400b2130)\n    utf8 hash table: <unowned>\n    JNI pinning lock 31: <unowned>\n    JNI pinning lock 30: <unowned>\n    JNI pinning lock 29: <unowned>\n    JNI pinning lock 28: <unowned>\n    JNI pinning lock 27: <unowned>\n    JNI pinning lock 26: <unowned>\n    JNI pinning lock 25: <unowned>\n    JNI pinning lock 24: <unowned>\n    JNI pinning lock 23: <unowned>\n    JNI pinning lock 22: <unowned>\n    JNI pinning lock 21: <unowned>\n    JNI pinning lock 20: <unowned>\n    JNI pinning lock 19: <unowned>\n    JNI pinning lock 18: <unowned>\n    JNI pinning lock 17: <unowned>\n    JNI pinning lock 16: <unowned>\n    JNI pinning lock 15: <unowned>\n    JNI pinning lock 14: <unowned>\n    JNI pinning lock 13: <unowned>\n    JNI pinning lock 12: <unowned>\n    JNI pinning lock 11: <unowned>\n    JNI pinning lock 10: <unowned>\n    JNI pinning lock 9: <unowned>\n    JNI pinning lock 8: <unowned>\n    JNI pinning lock 7: <unowned>\n    JNI pinning lock 6: <unowned>\n    JNI pinning lock 5: <unowned>\n    JNI pinning lock 4: <unowned>\n    JNI pinning lock 3: <unowned>\n    JNI pinning lock 2: <unowned>\n    JNI pinning lock 1: <unowned>\n    JNI pinning lock 0: <unowned>\n    JNI global reference lock: <unowned>\n    BinClass lock: <unowned>\n    Class linking lock: <unowned>\n    System class loader lock: <unowned>\n    Code rewrite lock: <unowned>\n    Heap lock: <unowned>\n    Monitor cache lock: owner \"Signal dispatcher\" (0x400aade0) 1 entry\n    Thread queue lock: owner \"Signal dispatcher\" (0x400aade0) 1 entry\n        Waiting to be notified:\n            \"Thread-1\" (0x40005540)\n    Monitor registry: owner \"Signal dispatcher\" (0x400aade0) 1 entry\n\nThis is the dump on HP-UX."}, {"count": 1, "tags": [], "bug_id": 8023, "attachment_id": null, "id": 17063, "time": "2002-06-03T09:13:23Z", "creator": "j3322ptm@yahoo.de", "creation_time": "2002-06-03T09:13:23Z", "is_private": false, "text": "The general opinion is that this is a problem with the Sun JVM. It is said\nJDK1.4 fixes the problem. (At least, that's what Sun promised. Can someone\nconfirm?)"}, {"count": 2, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "text": "batch transition to closed remaining pre-FOP1.0 resolved bugs", "id": 156958, "time": "2012-04-01T13:55:30Z", "bug_id": 8023, "creation_time": "2012-04-01T13:55:30Z", "is_private": false}]