[{"count": 0, "tags": [], "bug_id": 11838, "is_private": false, "text": "I added font \"Arial Narrow\" to FOP on Windows 2000 server. \n\nI followed the instructions in FOP web site to generate font metrics xml file \nand register it within FOP. \n\nThe code in userconfig.xml is:\n\n \n\n<!-- Arial Narrow -->\n\n<font metrics-file=\"file:///c:/fop/fop-0.20.4/fonts/arialn.xml\" kerning=\"yes\" \nembed-file=\"c:\\winnt\\fonts\\arialn.ttf\">\n\n    <font-triplet name=\"Arial Narrow\" style=\"normal\" weight=\"normal\"/>\n\n    <font-triplet name=\"ArialMTN\" style=\"normal\" weight=\"normal\"/>\n\n </font>\n\n <font metrics-file=\"file:///c:/fop/fop-0.20.4/fonts/arialnb1.xml\" \nkerning=\"yes\" embed-file=\"c:\\winnt\\fonts\\arialnb.ttf\">\n\n    <font-triplet name=\"Arial Narrow\" style=\"normal\" weight=\"bold\"/>\n\n    <font-triplet name=\"ArialMTN\" style=\"normal\" weight=\"bold\"/>\n\n </font>\n\n <font metrics-file=\"file:///c:/fop/fop-0.20.4/fonts/arialni.xml\" kerning=\"yes\" \nembed-file=\"c:\\winnt\\fonts\\arialni.ttf\">\n\n    <font-triplet name=\"Arial Narrow\" style=\"italic\" weight=\"normal\"/>\n\n    <font-triplet name=\"ArialMTN\" style=\"italic\" weight=\"normal\"/>\n\n </font>\n\n <font metrics-file=\"file:///c:/fop/fop-0.20.4/fonts/arialnbi.xml\" \nkerning=\"yes\" embed-file=\"c:\\winnt\\fonts\\arialnbi.ttf\">\n\n    <font-triplet name=\"Arial Narrow\" style=\"italic\" weight=\"bold\"/>\n\n    <font-triplet name=\"ArialMTN\" style=\"italic\" weight=\"bold\"/>\n\n </font>\n\n \n\nWhen I used the following command line to excute:\n\n \n\nC:\\fop\\fop-0.20.4>fop -c conf/userconfig1.xml -xsl test.xsl -xml test.xml -pdf \ntest.pdf\n\n \n\nIt works fine. However if I use FOP embedded mode with code:\n\n \n\n            Driver driver = new Driver();\n\n            String userConfig = \"c:/fop/fop-0.20.4/conf/userconfig.xml\";\n\n            File userConfigFile = new File(userConfig);\n\n            Options options = new Options();\n\n            options.loadUserconfiguration(userConfigFile);\n\n            driver.setLogger(log);\n\n            driver.setRenderer(Driver.RENDER_PDF);\n\n            driver.setOutputStream(out);\n\n            driver.render(input.getParser(), input.getInputSource());\n\n \n\nI get the following errors:\n\n \n\n[ERROR] Failed to read font metrics file /c:/fop/fop-\n0.20.4/fonts/arialnb1.xml : File \"/c:/fop/fop-0.20.4/fonts/arialnb1.xml\" not \nfound. \n\norg.apache.fop.apps.FOPException: java.lang.NullPointerException \n\nat org.apache.fop.apps.Driver.render(Unknown Source) \n\nat com.ceira.apriaups.UPSManifest.FopPrintUPS.FilerenderXML\n(FopPrintUPS.java:82)   \n\nat com.ceira.apriaups.UPSManifest.FopPrintUPS.ManifestReporter\n(FopPrintUPS.java:58)      \n\nat com.ceira.apriaups.UPSManifest.FopPrintUPS.main(FopPrintUPS.java:226) \n\n---------", "id": 21337, "time": "2002-08-19T22:44:17Z", "creator": "dlin@ceira.com", "creation_time": "2002-08-19T22:44:17Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 11838, "attachment_id": null, "is_private": false, "id": 26716, "time": "2002-11-21T17:04:43Z", "creator": "oleg@tkachenko.com", "creation_time": "2002-11-21T17:04:43Z", "text": "\n\n*** This bug has been marked as a duplicate of 14319 ***"}, {"text": "batch transition to closed remaining pre-FOP1.0 resolved bugs", "tags": [], "creator": "gadams@apache.org", "is_private": false, "count": 2, "id": 156641, "time": "2012-04-01T13:50:47Z", "bug_id": 11838, "creation_time": "2012-04-01T13:50:47Z", "attachment_id": null}]