[{"count": 0, "tags": [], "text": "Have a production server carshing in child_main [child.c]. I believe it may \nhave something to do with MaxRequestsPerChild, but I have not yet verified \nthis.\nI have a DMP and MDMP available if it helps.  Access violation reading \nlocation 0x00000000.\n\nCrash line:\n\n/* Reset the scoreboard entry for the thread we just whacked */\n        score_idx = apr_hash_get(ht, &child_handles[i], sizeof(HANDLE));\n--->    ap_update_child_status_from_indexes(0, *score_idx, SERVER_DEAD, NULL);\n\nCallstack:\n\n>\tlibhttpd.dll!child_main(apr_pool_t * pconf=0x0039dc80)  Line 1139\n\tC\n \tlibhttpd.dll!ap_mpm_run(apr_pool_t * _pconf=0x0039dc80, apr_pool_t * \nplog=0x0087c110, server_rec * s=0x0039fbb0)  Line 1663\tC\n \tapache.exe!main(int argc=3, const char * const * argv=0x00392720)  \nLine 717 + 0xd bytes\tC\n \tapache.exe!mainCRTStartup()  Line 398 + 0xe bytes\tC", "attachment_id": null, "id": 104016, "creator": "mboyington@metx.net", "time": "2007-06-03T16:47:07Z", "bug_id": 42572, "creation_time": "2007-06-03T16:47:07Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 42572, "attachment_id": 20311, "is_private": false, "id": 104074, "time": "2007-06-05T06:04:32Z", "creator": "davi@apache.org", "creation_time": "2007-06-05T06:04:32Z", "text": "Created attachment 20311\nFixes NULL pointer deference in the winnt mpm\n\nWhen creating threads, the index (i) might not be sequential if the scoreboard\nentry status is not SERVER_GRACEFUL or SERVER_DEAD.\n\nCould you try the patch and let me know if the error still happens? Thanks."}, {"count": 2, "tags": [], "bug_id": 42572, "attachment_id": null, "is_private": false, "id": 106409, "time": "2007-08-06T15:06:21Z", "creator": "nick@webthing.com", "creation_time": "2007-08-06T15:06:21Z", "text": "(In reply to comment #1)\n> Created an attachment (id=20311) [edit]\n> Fixes NULL pointer deference in the winnt mpm\n\nThe patch looks right, but should probably also log an error (at EMERG or at\nleast CRIT level if the server has just leaked a whole thread?)\n\nIt would be good to know whether Davi's patch at least stops the crashing."}, {"count": 3, "tags": [], "bug_id": 42572, "attachment_id": null, "is_private": false, "id": 106416, "time": "2007-08-06T19:18:33Z", "creator": "mboyington@metx.net", "creation_time": "2007-08-06T19:18:33Z", "text": "Davi's fix does work, tested on the same server, crashing stopped."}, {"count": 4, "tags": [], "text": "This got fixed in trunk but missed the changelog.  I guess it wants backporting.", "is_private": false, "id": 109105, "creator": "nick@webthing.com", "time": "2007-10-07T18:34:06Z", "bug_id": 42572, "creation_time": "2007-10-07T18:34:06Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 42572, "attachment_id": null, "is_private": false, "id": 109368, "time": "2007-10-15T16:50:39Z", "creator": "wrowe@apache.org", "creation_time": "2007-10-15T16:50:39Z", "text": "Fixed in trunk and for the next 2.2.7 release, thanks for the patch!\n"}]