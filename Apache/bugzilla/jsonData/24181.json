[{"count": 0, "tags": [], "bug_id": 24181, "text": "I press Ctrl-C to break an ant run and I get an InvocationTargetException, the \nroot cause of which appears to be IllegalStateException: Shutdown in \nprogress.  This did not happen with the 1.5 version I was using previously.", "id": 46373, "time": "2003-10-28T15:54:07Z", "creator": "rael@zopyra.com", "creation_time": "2003-10-28T15:54:07Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "gus.heck@olin.edu", "attachment_id": null, "text": "Does this exhibit any adverse effects other than looking ugly? An example build\nfile that reproduces this would help too. I don't see it when I (just now) did a\nctrl-C about 5 seconds into the ojb build (chosen cause I already had a shell\nopen to that dir :) ). I happen to be using ant 1.7alpha (which I built 9/24 so\nit is fairly close to the beta) of course this needs to be tested with the\ndeployed beta, but it looks like it might not be trivial to reproduce.\n\nDo you get it every time?", "id": 47144, "time": "2003-11-10T23:02:35Z", "bug_id": 24181, "creation_time": "2003-11-10T23:02:35Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 24181, "text": "Any more details you can provide on this. I'd like to know\n* What was happening when you pressed control-c\n* is there a stack trace? What about in verbose mode?\n* what does your build do?\n\nThanks\n", "id": 48085, "time": "2003-11-25T12:18:28Z", "creator": "conor@apache.org", "creation_time": "2003-11-25T12:18:28Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "gregorys@xmission.com", "attachment_id": null, "text": "I can confirm this error.\n\nThe class:\n\npublic class NoFin {\n   public static void main(String[] args)  throws Exception {\n       while (true) {\n           Thread.sleep(1000);\n       }\n   }\n}\n\nWith a build script:\n\n<project default=\"nofin\">\n <target name=\"nofin\">\n   <javac srcdir=\".\">\n     <include name=\"NoFin.java\"/>\n   </javac>\n   <java fork=\"yes\" classname=\"NoFin\"\n         classpath=\".\"/>\n </target>\n</project>\n\nThe code change in ant was in ProcessDestroyer.java revision 1.6:\n\nOnly register ProcessDestroyer when needed (and unregister it when no\nlonger needed)\n\n============================================================\n\nI use Ant to (among other things) run a couple of programs that run perpetually\nbut have no shutdown method.  In Ant v1.5.4 I could use Ctrl-C to shutdown these\nprograms.  I can do the same thing with v1.6.0 but I always get the following\nerror.  Is there any way to suppress this error (and this error only) so that\nother users of my programs don't think something abnormal is happening?\n\n    [java] java.lang.reflect.InvocationTargetException \netc.\n", "id": 49674, "time": "2003-12-24T17:00:34Z", "bug_id": 24181, "creation_time": "2003-12-24T17:00:34Z", "is_private": false}, {"count": 4, "attachment_id": null, "creator": "peter.reilly@corvil.com", "text": "*** Bug 26254 has been marked as a duplicate of this bug. ***", "id": 50748, "time": "2004-01-19T17:03:32Z", "bug_id": 24181, "creation_time": "2004-01-19T17:03:32Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 24181, "text": "Checking the pulse on this issue.  Do the Ant folks know if/when this issue will\nbe resolved.  Thank you.\n\n-CWall", "id": 57262, "time": "2004-05-12T02:29:18Z", "creator": "chris.wall@bea.com", "creation_time": "2004-05-12T02:29:18Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 24181, "text": "I can confirm that the exception stack trace is being printed and it is somewhere\non my TODO list (no too high a priority though).  The reason it is not that high\non the list is that AFAIK Ant only prints the stack-trace, but no real harm is\nbeing done - or am I wrong?\n\nIt seems Ant is trying to remove the shutdown hook in its own shutdown hook which\nis causing the exception.  So all that happens is that Ant fails to properly clean\nup a setup that has become irrelevant since it is shutting down anyway.\n", "id": 57332, "time": "2004-05-13T07:25:37Z", "creator": "bodewig@apache.org", "creation_time": "2004-05-13T07:25:37Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "byron@sensorlogic.com", "attachment_id": null, "text": "I have an application where I spawn a forked java process which eventually \ncalls System.exit(). However, I see a stacktrace and the process does not \nexit, so I think there is a non-cosmetic problem.", "id": 57342, "time": "2004-05-13T12:32:14Z", "bug_id": 24181, "creation_time": "2004-05-13T12:32:14Z", "is_private": false}, {"count": 8, "attachment_id": null, "creator": "bodewig@apache.org", "text": "I've uploaded a version of ant.jar that is a preview of Ant 1.6.2 to\nhttp://cvs.apache.org/~bodewig/ant.jar\n\nCould you please download it and replace your installed ant.jar (with a backup, of\ncourse) to see whether it fixes \"the problem\", be it cosmetic or real.\n", "id": 58459, "time": "2004-06-01T13:38:51Z", "bug_id": 24181, "creation_time": "2004-06-01T13:38:51Z", "tags": [], "is_private": false}, {"count": 9, "tags": [], "creator": "gregorys@xmission.com", "attachment_id": null, "text": "Yes, that jar fixes the bug.", "id": 58462, "time": "2004-06-01T14:46:26Z", "bug_id": 24181, "creation_time": "2004-06-01T14:46:26Z", "is_private": false}]