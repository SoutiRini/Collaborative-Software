[{"count": 0, "tags": [], "text": "I have an ant script with this property set in it:\n        <property name=\"build.compiler\" value=\"classic\"/>\nand when I upgraded from ANT 1.4.1 to 1.5.3, this started causing problems.\n\nHere's some output from ant -verbose with ANT 1.4.1\n\nAnt version 1.4.1 compiled on October 11 2001\nBuildfile: build.xml\nDetected Java version: 1.4 in: c:\\Java\\j2sdk1.4.1_02\\jre\nDetected OS: Windows 2000\n...\n    [javac] Using classic compiler\n...\n    [javac] Note: sun.tools.javac.Main has been deprecated.\n\nAnd here's some from ANT 1.5.3:\n\nApache Ant version 1.5.3 compiled on April 16 2003\nBuildfile: build.xml\nDetected Java version: 1.4 in: c:\\Java\\j2sdk1.4.1_02\\jre\nDetected OS: Windows 2000\n...\n    [javac] This version of java does not support the classic compiler;\nupgrading to modern\n    [javac] Using modern compiler", "attachment_id": null, "id": 41106, "creator": "zacjacobson@hotmail.com", "time": "2003-07-21T21:57:40Z", "bug_id": 21783, "creation_time": "2003-07-21T21:57:40Z", "is_private": false}, {"count": 1, "tags": [], "text": "Ant 1.5 no longer supports the classic compiler in Java1.4. This is by design\nand is documented. Most critically, there was no classic compiler in Java1.4.0,\nonly modern. The fix went in to stop people asking for classic when there wasnt\none, which was breaking the Gump nightly build on java1.4. \n\njudging by your report Sun have relented and put the old entry point back in,\nwhich is nice, and almost compensates for their moving the javah entry point in\nJava1.4.2. Stability of entry points is an ongoing issue with the JDK.\n\nEven if Java1.4.1 has added a backwards compatible entry point, Ant is not going\nto try and put classic support back in as it would cause more confusion. What do\nwe do for version 1.4.2? What about 1.4.3, when we dont know what will be in it? \n\nIt is much simpler to say 'no classic in 1.4+' and be done with it, I am afraid. \n\nTry giving ant the full path to the classic compiler adapter, if you really want\nthe classic mode:\n\nbuild.compiler=org.apache.tools.ant.taskdefs.compilers.Javac12\n\n\n", "is_private": false, "id": 41177, "creator": "stevel@apache.org", "time": "2003-07-22T18:49:38Z", "bug_id": 21783, "creation_time": "2003-07-22T18:49:38Z", "attachment_id": null}]