[{"count": 0, "tags": [], "bug_id": 8038, "text": "Brand new install on Solaris8 with:\n\nconfigure \\\n        --enable-mods-shared=most            \n\n\nroot# ./apachectl configtest\nSyntax error on line 230 of /usr/local/apache2/conf/httpd.conf:\nCannot load /usr/local/apache2/modules/mod_status.so into server: ld.so.1:\n/usr/local/apache2/bin/httpd: fatal: relocation error: file\n/usr/local/apache2/modules/mod_status.so: symbol __floatdisf: referenced symbol\nnot found", "id": 13418, "time": "2002-04-12T21:14:22Z", "creator": "jwoolley@sct.com", "creation_time": "2002-04-12T21:14:22Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 8038, "attachment_id": null, "is_private": false, "id": 13426, "time": "2002-04-12T22:28:33Z", "creator": "trawick@apache.org", "creation_time": "2002-04-12T22:28:33Z", "text": "(not the definitive information, but hopefully some hints in the right \ndirection)\nI think this is related to the gcc level and gcc not linking the shared library \nwith libgcc.a under the covers.\n\n__floatdisf is a function in libgcc.a that gcc-generated code calls to do some \narithmetic operation.\n\nI think you should find some gcc gurus to find out what level of gcc and/or \nbinutils (if any) takes care of this.  Otherwise, you can try some hacks to get \nlibgcc.a included in the shared library and/or included in httpd.\n\nSearching for __floatdisf at groups.google.com is instructive.\n"}, {"count": 2, "tags": [], "text": "**Possible Workaround**\n\nI had the same problem on:\n\n\tSunOS salsa 5.8 Generic_108528-14 sun4m sparc SUNW,SPARCstation-5\n\nI fixed it by adding --enable-ssl to build against my OpenSSL install in\n/usr/local/ssl.  I used the following to build it:\n\n\texport LD_RUN_PATH=/usr/local/ssl/lib:/usr/local/lib:/opt/sfw/lib\n\t./configure  --prefix=/usr/local/apache-2.0.35-murph --enable-mods-shared=all\n--disable-auth_digest --enable-ssl\n\tmake\n\tmake install\n\nMy system is Solaris 8 4/01 entire distribution install with the entire freeware\ncompanion CD also installed in /opt/sfw.  It has the Mar/28/02 recommended patch\ncluster installed.  Obviously, my PATH includes the appropriate bin directories.\n\n/opt/sfw/bin/gcc is GCC version 2.95.2.\n\nI'm not actually using mod_ssl right now, it just conveniently made the problem\ngo away, and I have not had time to investigate why in detail, but I think the\nsymbol is being supplied by /usr/local/ssl/lib/libssl.so due to the way I have\nbuilt OpenSSL.", "is_private": false, "id": 13432, "creator": "paul@murph.org", "time": "2002-04-13T00:48:28Z", "bug_id": 8038, "creation_time": "2002-04-13T00:48:28Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "This is a problem that I have when compiling on my Solaris machine.  The problem\nis most likely that you are compiling with gcc, but linking with the native\nlinker.  If you use gcc to do the linking, then it know to automagically link in\nlibgcc.a.  If you use the native linker, then you need to add that lib to your\nlink line.  This can be done with:\n\nEXTRA_LIBS=\"$(EXTRA_LIBS) -lgcc\" ./configure --enable-modules=most\n\nI am marking this invalid, because the bug is in the system setup, not the\nconfigure script.", "is_private": false, "id": 13434, "creator": "rbb@apache.org", "time": "2002-04-13T01:21:01Z", "bug_id": 8038, "creation_time": "2002-04-13T01:21:01Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 8038, "text": "I tried Ryan's suggestion, but couldn't make it work.\nafter running:\n\nEXTRA_LIBS=\"$(EXTRA_LIBS) -lgcc\"; ./configure --enable-modules=most\nmake\nmake install\n/usr/local/apache2/bin/apachectl configtest\n\nI got the same results as originally reported.\nI also couldn't find -lgcc in and of the makefiles or there includes.\n", "id": 13657, "time": "2002-04-15T16:47:19Z", "creator": "jwoolley@sct.com", "creation_time": "2002-04-15T16:47:19Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 8038, "attachment_id": null, "id": 13658, "time": "2002-04-15T16:50:07Z", "creator": "jerenkrantz@apache.org", "creation_time": "2002-04-15T16:50:07Z", "is_private": false, "text": "Shouldn't that have been:\n\nLIBS=\"-lgcc\" ./configure --enable-modules=most"}, {"count": 6, "tags": [], "bug_id": 8038, "attachment_id": null, "id": 13696, "time": "2002-04-15T21:55:29Z", "creator": "rbb@apache.org", "creation_time": "2002-04-15T21:55:29Z", "is_private": false, "text": "Sorry, I just looked at my makefiles, the command line I always use is:\n\nSH_LDFLAGS=$(GCCLIB_DIR)/libgcc.a ./configure $(CONFFLAGS)\n\nwhere GCCLIB_DIR is set appropriately for your machine."}, {"count": 7, "attachment_id": null, "bug_id": 8038, "is_private": false, "id": 13698, "time": "2002-04-15T21:56:20Z", "creator": "jwoolley@apache.org", "creation_time": "2002-04-15T21:56:20Z", "tags": [], "text": "*** Bug 8130 has been marked as a duplicate of this bug. ***"}, {"count": 8, "tags": [], "bug_id": 8038, "attachment_id": null, "is_private": false, "id": 13788, "time": "2002-04-16T17:53:29Z", "creator": "jwoolley@sct.com", "creation_time": "2002-04-16T17:53:29Z", "text": "I took Ryan's 2nd example and got _no_ better results.\ntried both:\n\nSH_LDFLAGS=-L/u01/local/lib/gcc-lib/sparc-sun-solaris2.8/2.95.3/libgcc.a\n./configure --verbose --enable-mods-shared=most\n\nand:\n\nSH_LDFLAGS=/u01/local/lib/gcc-lib/sparc-sun-solaris2.8/2.95.3/libgcc.a\n./configure --verbose --enable-mods-shared=most\n\nthe -L switch being the only difference.\n\n"}, {"count": 9, "tags": [], "bug_id": 8038, "attachment_id": null, "id": 13848, "time": "2002-04-17T13:35:12Z", "creator": "jwoolley@sct.com", "creation_time": "2002-04-17T13:35:12Z", "is_private": false, "text": "switching to binutils 2.12 produces:\n\nMaking all in atomic/solaris_sparc^M\ncpp -D_ASM -D__STDC__=0\n/u01/local/src/httpd-2.0.35/srclib/apr/atomic/solaris_sparc/apr_atomic_sparc.s >\napr\n_atomic_sparc.S^M\nIn file included from\n/u01/local/src/httpd-2.0.35/srclib/apr/atomic/solaris_sparc/apr_atomic_sparc.s:63:^M\n/usr/include/sys/asm_linkage.h:104: `#' operator should be followed by a macro\nargument name^M\n/usr/include/sys/asm_linkage.h:113: `#' operator should be followed by a macro\nargument name^M\n/usr/include/sys/asm_linkage.h:120: `#' operator should be followed by a macro\nargument name^M\n/usr/include/sys/asm_linkage.h:133: `#' operator should be followed by a macro\nargument name^M\n/usr/include/sys/asm_linkage.h:133: `#' operator should be followed by a macro\nargument name^M\n/usr/include/sys/asm_linkage.h:143: `#' operator should be followed by a macro\nargument name^M\n/usr/include/sys/asm_linkage.h:143: `#' operator should be followed by a macro\nargument name^M\n/usr/include/sys/asm_linkage.h:152: `#' operator should be followed by a macro\nargument name^M\n/usr/include/sys/asm_linkage.h:169: `#' operator should be followed by a macro\nargument name^M\n/usr/include/sys/asm_linkage.h:177: `#' operator should be followed by a macro\nargument name^M\n/u01/local/src/httpd-2.0.35/srclib/apr/atomic/solaris_sparc/apr_atomic_sparc.s:113:\nunterminated character c\nonstant^M\n*** Error code 1^M\nmake: Fatal error: Command failed for target `apr_atomic_sparc.lo'^M\n\n"}, {"count": 10, "tags": [], "text": "Please see PR7839 for further discussion of these issues. \n[reopening to mark as duplicate] ", "is_private": false, "id": 13882, "creator": "jwoolley@apache.org", "time": "2002-04-17T17:44:20Z", "bug_id": 8038, "creation_time": "2002-04-17T17:44:20Z", "attachment_id": null}, {"text": "\n\n*** This bug has been marked as a duplicate of 7839 ***", "tags": [], "creator": "jwoolley@apache.org", "is_private": false, "count": 11, "id": 13883, "time": "2002-04-17T17:45:01Z", "bug_id": 8038, "creation_time": "2002-04-17T17:45:01Z", "attachment_id": null}]