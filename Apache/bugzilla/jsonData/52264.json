[{"count": 0, "tags": [], "bug_id": 52264, "is_private": false, "text": "Created attachment 28004\nFull patch\n\nAs discussed in http://www.mail-archive.com/dev%40httpd.apache.org/msg53026.html, here is a 2.4 patch that provides more complete XML output for balancer-manager. I have been using a 2.2 version of this patch in production for probably 2.5 years or more now. Having more complete XML output allows for much better/simpler automated monitoring of mod_proxy balancers.\n\nWhat it does:\n\n* Removes the nonce requirement for XML output (which is read-only anyway).\n* Provides all (useful) fields of the proxy_balancer_shared struct.\n* Provides all (useful) fields of the proxy_worker_shared struct.\n* Can limit the output to a specific balancer (bsel) and worker (wsel) via the same b and w params used by html. This is useful for monitoring.\n\nNotes:\n\n* I tried to use the configuration names for the struct fields in the XML (e.g. stickysession vs. sticky, nofailover vs. sticky_force).\n* I tried to output the configuration units for the struct fields in the XML (e.g. seconds vs. microseconds for timeout).\n* I'm not sure what people will think of the code style, but the big ap_rprintf() calls seemed to give the most readable code.\n* Can anyone find a better way to create the worker status field string?\n* Admittedly, I'm not sure what all of the struct fields are, so it may not make sense to include all of them. I cut some out, but what about others (e.g. flusher, is_address_reusable)?", "id": 151877, "time": "2011-11-30T19:51:42Z", "creator": "jim@riggs.me", "creation_time": "2011-11-30T19:51:42Z", "attachment_id": 28004}, {"count": 1, "attachment_id": 28005, "bug_id": 52264, "is_private": false, "id": 151878, "time": "2011-11-30T19:52:42Z", "creator": "jim@riggs.me", "creation_time": "2011-11-30T19:52:42Z", "tags": [], "text": "Created attachment 28005\nPatch ignoring whitespace for those who want to take a quick look"}, {"count": 2, "tags": [], "creator": "jim@riggs.me", "attachment_id": 28006, "id": 151879, "time": "2011-11-30T19:54:22Z", "bug_id": 52264, "creation_time": "2011-11-30T19:54:22Z", "is_private": false, "text": "Created attachment 28006\nSample full output (?xml)"}, {"count": 3, "tags": [], "creator": "jim@riggs.me", "attachment_id": 28007, "id": 151880, "time": "2011-11-30T19:55:02Z", "bug_id": 52264, "creation_time": "2011-11-30T19:55:02Z", "is_private": false, "text": "Created attachment 28007\nSample specified balancer output (?xml&b=...)"}, {"count": 4, "tags": [], "creator": "jim@riggs.me", "attachment_id": 28008, "id": 151881, "time": "2011-11-30T19:55:33Z", "bug_id": 52264, "creation_time": "2011-11-30T19:55:33Z", "is_private": false, "text": "Created attachment 28008\nSample specified balancer and worker output (?xml&b=...&w=...)"}]