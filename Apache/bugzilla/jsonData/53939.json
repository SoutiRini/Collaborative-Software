[{"count": 0, "tags": [], "creator": "Oliver.Moehrke@web.de", "text": "Created attachment 29425\nFO file with XMP structure, FOP config with fonts and Stacktrace\n\nWhen using FOP v1.0 or v1.1rc to create a PDF/A-1b compliant PDF document, embedding an XMP structure that contains an <xmpMM:History> entry leads to a NPE in XMPHandler.endElement.\n\nThis happens, when the history entry contains at least one <stVer:event> entry. I used the Xalan (2.7.0) and Xerces (2.7.1) versions, that are deliverd with FOP v1.0 and v1.1rc1.\n\nStacktrace:\n\njava.lang.NullPointerException\n\tat org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:303)\n\tat org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:130)\n\tat org.apache.fop.cli.Main.startFOP(Main.java:177)\n\tat org.apache.fop.cli.Main.main(Main.java:208)\nCaused by: java.lang.NullPointerException\n\tat org.apache.xmlgraphics.xmp.XMPHandler.endElement(XMPHandler.java:291)\n\tat org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:181)\n\tat org.apache.xalan.transformer.TransformerIdentityImpl.endElement(TransformerIdentityImpl.java:1101)\n\tat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n\tat org.apache.xerces.xinclude.XIncludeHandler.endElement(Unknown Source)\n\tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n\tat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\n\tat org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:484)\n\tat org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:300)\n\t... 3 more", "id": 162432, "time": "2012-09-27T08:57:09Z", "bug_id": 53939, "creation_time": "2012-09-27T08:57:09Z", "is_private": false, "attachment_id": 29425}]