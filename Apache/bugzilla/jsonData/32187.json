[{"count": 0, "tags": [], "creator": "ramele@visa.com.ar", "attachment_id": null, "text": "JDK 1_4_1_02/JDK 1_4_2_06\n\nUsing:\n\n      <jar manifestencoding=\"ISO-8885-1\"  \njarfile=\"${deploy.dir}/lib/common.jar\" basedir=\"${build.dir}/\">\n         <manifest>\n            <attribute name=\"Built-By\" value=\"${user.name}\"/>\n            <section name=\"ar/com/common\">\n               <attribute name=\"Sealed\" value=\"false\"/>\n               <attribute name=\"Specification-Title\" value=\"SNA HostDG \nSpecification\"/>\n               <attribute name=\"Specification-Version\" value=\"${version}\"/>\n               <attribute name=\"Specification-Vendor\" value=\"Argentina\"/>\n               <attribute name=\"Implementation-Title\" value=\"ar.com.common\"/>\n               <attribute name=\"Implementation-Version\" value=\"${version} \n${TODAY}\"/>\n               <attribute name=\"Implementation-Vendor\" value=\"Common SNA\"/>\n            </section>\n</manifest>\n</jar>\n\nGenerate a jar file with a MANIFEST file that contains a blank line before the \nfirst section (after the Build-By property).  Using this blank line doesn't \nallow to properly package identification: package.getImplementationVendor() and \nrelated methods all return nulls.  The bug is fixed if the blank line is \nremoved.", "id": 66727, "time": "2004-11-11T16:35:13Z", "bug_id": 32187, "creation_time": "2004-11-11T16:35:13Z", "is_private": false}, {"count": 1, "tags": [], "creator": "peterreilly@apache.org", "attachment_id": null, "is_private": false, "id": 66731, "time": "2004-11-11T16:57:56Z", "bug_id": 32187, "creation_time": "2004-11-11T16:57:56Z", "text": "According to: http://java.sun.com/j2se/1.4.2/docs/guide/jar/jar.html\nthe newline is necessary.\nThe bnf spec is:\n  manifest-file:                    main-section newline *individual-section\n  main-section:                    version-info newline *main-attribute\n  version-info:                      Manifest-Version : version-number\n  version-number :               digit+{.digit+}*\n  main-attribute:                 (any legitimate main attribute) newline\n  individual-section:             Name : value newline *perentry-attribute\n  perentry-attribute:            (any legitimate perentry attribute) newline\n  newline :                            CR LF | LF | CR (not followed by LF)\n   digit:                                {0-9} \n\n\nAnd the spec gives an example:\n      Manifest-Version: 1.0\n      Created-By: 1.2 (Sun Microsystems Inc.)\n      Sealed: true\n\n      Name: foo/bar/\n      Sealed: false\n"}, {"text": "Yes, It is imperative to have one-and-only-one space between sections.\n\nShow us the manifest that is at fault, and the value of user.name(*); it may be\nsomething wrong there that is generating an extra newline.\n\n(*) insert this into your file\n<echo> user.name=[${user.name}]</echo>", "tags": [], "bug_id": 32187, "attachment_id": null, "count": 2, "id": 66735, "time": "2004-11-11T17:12:28Z", "creator": "stevel@apache.org", "creation_time": "2004-11-11T17:12:28Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 32187, "attachment_id": null, "id": 66738, "time": "2004-11-11T17:28:34Z", "creator": "peterreilly@apache.org", "creation_time": "2004-11-11T17:28:34Z", "is_private": false, "text": "I see the problem.\nYou need to place a \"/\" at the end of the name.\nFor exampple:\nHello.java\npackage me;\n\npublic class Hello {\n    public static void main(String[] args) {\n        Package p = Hello.class.getPackage();\n        System.out.println(\"vendor is \" + p.getImplementationVendor());\n    }\n}\n\nbuild.xml\n<project default=\"m\">\n  <target name=\"m\">\n    <mkdir dir=\"classes\"/>\n    <javac srcdir=\"src\" destdir=\"classes\"/>\n    <jar jarfile=\"x0.jar\" basedir=\"classes\">\n      <manifest>\n        <attribute name=\"Built-By\" value=\"peter\"/>\n        <section name=\"me/\">\n          <attribute name=\"Implementation-Vendor\" value=\"Peter\"/>\n        </section>\n      </manifest>\n    </jar>\n    <jar jarfile=\"x1.jar\" basedir=\"classes\">\n      <manifest>\n        <attribute name=\"Built-By\" value=\"peter\"/>\n        <section name=\"me\">\n          <attribute name=\"Implementation-Vendor\" value=\"Peter\"/>\n        </section>\n      </manifest>\n    </jar>\n    <java classpath=\"x0.jar\" classname=\"me.Hello\"/>\n    <java classpath=\"x1.jar\" classname=\"me.Hello\"/>\n  </target>\n</project>\n\noutputs:\nm:\nBuilding jar: /home/preilly/learning/a/manifest/x0.jar\nBuilding jar: /home/preilly/learning/a/manifest/x1.jar\nvendor is Peter\nvendor is null\n\n"}]