[{"text": "I was looking the new version of ivy and tried the\nsample build file given on the page:\nhttp://www.jayasoft.org/ivy/doc/releasenotes/1.4\nThe example failed. After a little testing I boiled\ndown the failure to :\n\n            <classpath>\n                <path refid=\"lib.path.id\" />\n                <path location=\"${build.dir}\" />\n            </classpath>\n\nIf I change the \"location\" to \"path\", the build file\nworks.\n\nHere is an example small build file that should\nthe problem, ant bad will fail and ant good will pass:\n\n<project default=\"bad\">\n  <property name=\"dir\" value=\"SHOULD_BE_PRESENT\"/>\n\n  <macrodef name=\"test-present\" backtrace=\"no\">\n    <attribute name=\"string\"/>\n    <sequential>\n      <fail>\n        <condition>\n          <not>\n            <contains string=\"@{string}\"\n                      substring=\"SHOULD_BE_PRESENT\"/>\n          </not>\n        </condition>\n      </fail>\n    </sequential>\n  </macrodef>\n\n  <mkdir dir=\"SHOULD_BE_PRESENT\"/>\n  <path id=\"d1\" path=\".\"/>\n\n  <target name=\"bad\">\n    <path id=\"d2\">\n      <path refid=\"d1\" />\n      <path location=\"${dir}\" />\n    </path>\n    <echo>${toString:d2}</echo>\n    <test-present string=\"${toString:d2}\"/>\n  </target>\n\n  <target name=\"good\">\n    <path id=\"d2\">\n      <path refid=\"d1\" />\n      <path path=\"${dir}\" />\n    </path>\n    <echo>${toString:d2}</echo>\n    <test-present string=\"${toString:d2}\"/>\n  </target>\n\n</project>\n\nNote that <path location=\"x\"/> seems to work fine\nby itself.", "tags": [], "bug_id": 40547, "is_private": false, "count": 0, "id": 93794, "time": "2006-09-19T16:28:28Z", "creator": "peterreilly@apache.org", "creation_time": "2006-09-19T16:28:28Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "peterreilly@apache.org", "attachment_id": null, "text": "My last statement was incorrect,\nit should have been <pathelement location=\"x\"/>\n", "id": 93871, "time": "2006-09-19T20:46:36Z", "bug_id": 40547, "creation_time": "2006-09-19T20:46:36Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 40547, "text": "99% likely my fault; I'm on it.", "id": 93872, "time": "2006-09-19T20:48:44Z", "creator": "mbenson@apache.org", "creation_time": "2006-09-19T20:48:44Z", "is_private": false, "attachment_id": null}, {"text": "or not.  Thanks Peter!", "tags": [], "bug_id": 40547, "is_private": false, "count": 3, "id": 93873, "time": "2006-09-19T20:51:42Z", "creator": "mbenson@apache.org", "creation_time": "2006-09-19T20:51:42Z", "attachment_id": null}, {"count": 4, "attachment_id": null, "bug_id": 40547, "text": "This bug was due to the setLocation(Location) been added to\nProjectComponent. The introspection code picked this method\nto store in its list of set methods, overridding the Path.setLocation(File).\n\nThe fix was to make setLocation(Location) a lower priority then\nother setLocation().", "id": 93874, "time": "2006-09-19T20:52:49Z", "creator": "peterreilly@apache.org", "creation_time": "2006-09-19T20:52:49Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 40547, "text": "*** Bug 40610 has been marked as a duplicate of this bug. ***", "id": 94140, "time": "2006-09-26T22:15:48Z", "creator": "mbenson@apache.org", "creation_time": "2006-09-26T22:15:48Z", "is_private": false, "attachment_id": null}]