[{"count": 0, "tags": [], "bug_id": 41440, "text": "THe following message reported within the PDFSVGHandler.  \n\n23.1.2007 11:21:52 org.apache.fop.render.pdf.PDFSVGHandler renderSVGDocument\nSEVERE: svg graphic could not be built: Can't find bundle for base name\norg.apache.fop.svg.resources.Messages, locale en\njava.util.MissingResourceException: Can't find bundle for base name\norg.apache.fop.svg.resources.Messages, locale en\n\nHowever, I cannot find the relevant resource bundle in the fop.jar file, or on\nthe SVN server.\nhttp://svn.apache.org/repos/asf/xmlgraphics/fop/trunk\nIt is not in the binary build for 0.93 either.\n\nI have downloaded the sources for the distribution and cannot find it there either.\n\nThe code I suspect the error comes from in the PDFSVGRenderer and is either...\n        try {\n            root.paint(graphics);\n            pdfInfo.currentStream.add(graphics.getString());\n        } catch (Exception e) {\n            log.error(\"svg graphic could not be rendered: \"\n                                   + e.getMessage(), e);\n        }\n\nOR\n\ntry {\n            root = builder.build(ctx, doc);\n            builder = null;\n        } catch (Exception e) {\n            log.error(\"svg graphic could not be built: \"\n                                   + e.getMessage(), e);\n            return;\n        }\n\nProject is trying to embed svg images into a pdf output.\nWe are using the 0.93 FOP distribution.", "id": 98387, "time": "2007-01-23T03:26:40Z", "creator": "dirving@crispinsystems.com", "creation_time": "2007-01-23T03:26:40Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "bowditch_chris@hotmail.com", "attachment_id": null, "text": "How are you running FOP? From the command line or an embedded Application? If \nyou are running from an embedded Application can you try running FOP from the \ncommand line to see if the error persists? If your XSL-FO can be processed \nfrom the command line then can you check that your embedded Application can \nfind batik-all-1.6.jar on the classpath?", "id": 98390, "time": "2007-01-23T04:39:08Z", "bug_id": 41440, "creation_time": "2007-01-23T04:39:08Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 41440, "attachment_id": null, "id": 98392, "time": "2007-01-23T05:11:51Z", "creator": "dirving@crispinsystems.com", "creation_time": "2007-01-23T05:11:51Z", "is_private": false, "text": "(In reply to comment #1)\nEmbedded. However...\nafter quick test on testing project, fop0.93 works with fo:external-graphic\ninstructions without problems, this bug is existing on\nfo:instream-foreign-object instructions for example ..\n\nCurrently retesting code after build from source, and will upload a simple\nexample if this does not resolve it.\n\n"}, {"count": 3, "tags": [], "creator": "dirving@crispinsystems.com", "attachment_id": null, "text": "It would appear the exception is caused in use of invalid targets in the script.\nThe localisation message also appears for EN version as well.\n\n***************************************************************\n<!-- svg no.1 -->\n         <fo:external-graphic\nsrc=\"file:/home/assan/javaproj/FOPTest/svg/boxes.svg\"/>\n\n// FOP error message caused by svg no.1, if url of svg file is not\nvalid:\nSEVERE: Image not available:\nfile:/home/assan/javaproj/FOPTest/svg/boxes.svg\n***************************************************************\n<!-- svg no.2 -->\n         <fo:instream-foreign-object>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20mm\"\nheight=\"20mm\" xml:space=\"preserve\">\n               <svg viewBox=\"0 0 20 20\" preserveAspectRatio=\"none\">\n                  <image\nxlink:href=\"file:/home/assan/javaproj/FOPTest/svg/boxes.svg\" x=\"0\" y=\"0\"\nwidth=\"20mm\" height=\"20mm\"/>\n               </svg>\n            </svg>\n         </fo:instream-foreign-object>\n\n// FOP error message caused by svg no.2, if url of svg file is not\nvalid:\nSEVERE: svg graphic could not be built: Can't find bundle for base name\norg.apache.fop.svg.resources.Messages, locale cs_CZ\njava.util.MissingResourceException: Can't find bundle for base name\norg.apache.fop.svg.resources.Messages, locale cs_CZ\n\nAlso gives same for locale en\n***************************************************************\n<!-- svg no.3 -->\n         <fo:instream-foreign-object>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100mm\"\nheight=\"100mm\" xml:space=\"preserve\">\n               <g transform=\"scale(10)\">\n                  <image\nxlink:href=\"file:/home/assan/javaproj/FOPTest/svg/boxes.svg\" x=\"0\" y=\"0\"\nwidth=\"100mm\" height=\"100mm\"/>\n               </g>\n            </svg>\n         </fo:instream-foreign-object>\n\n// FOP error message caused by svg no.3, if url of svg file is not\nvalid:\nSEVERE: svg graphic could not be built: Can't find bundle for base name\norg.apache.fop.svg.resources.Messages, locale cs_CZ\njava.util.MissingResourceException: Can't find bundle for base name\norg.apache.fop.svg.resources.Messages, locale cs_CZ", "id": 98547, "time": "2007-01-26T00:16:43Z", "bug_id": 41440, "creation_time": "2007-01-26T00:16:43Z", "is_private": false}, {"count": 4, "tags": [], "creator": "dirving@crispinsystems.com", "attachment_id": null, "text": "You would expect an \"Invalid target exception\" but the response is that the\nrelevant message bundle is not in the class path.  Where is the required message\nbundle setup for the PDFSVGHandler.?", "id": 98548, "time": "2007-01-26T00:19:18Z", "bug_id": 41440, "creation_time": "2007-01-26T00:19:18Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 41440, "text": "(In reply to comment #4)\n> You would expect an \"Invalid target exception\" but the response is that the\n> relevant message bundle is not in the class path.  Where is the required message\n> bundle setup for the PDFSVGHandler.?\n\nIt is in Batik's org.apache.batik.bridge.resources.Messages.properties. It seems\nthat Batik's message i18n doesn't cope well with situations where Batik's\nclasses are subclassed and used in other packages. In this case it's\norg.apache.fop.svg.PDFImageElementBridge which subclasses\norg.apache.batik.bridge.SVGImageElementBridge. Now, the IO error happens due to\na missing file at the other end of the URL and Batik's\ni18n.LocalizableSupport.formatMessage() goes looking for the message bundle in\nthe wrong place. I think we'll have to discuss the best course of action with\nthe Batik people.", "id": 98553, "time": "2007-01-26T01:29:50Z", "creator": "jeremias@apache.org", "creation_time": "2007-01-26T01:29:50Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "text": "resetting P2 open bugs to P3 pending further review", "id": 157317, "time": "2012-04-07T01:41:25Z", "bug_id": 41440, "creation_time": "2012-04-07T01:41:25Z", "is_private": false}, {"count": 7, "tags": [], "text": "change status from ASSIGNED to NEW for consistency", "attachment_id": null, "id": 157898, "creator": "gadams@apache.org", "time": "2012-04-11T06:16:58Z", "bug_id": 41440, "creation_time": "2012-04-11T06:16:58Z", "is_private": false}]