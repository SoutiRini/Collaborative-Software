[{"attachment_id": null, "tags": [], "bug_id": 47976, "text": "Below is the usage() method of org.apache.catalina.startup.Catalina class:\n\nprotected void usage() {\n        System.out.println\n            (\"usage: java org.apache.catalina.startup.Catalina\"\n             + \" [ -config {pathname} ]\"\n             + \" [ -nonaming ] { start | stop }\");\n}\n\n\nHowever, it misses one option: [ -help ]. Please refer to the arguments() method of the same class as below:\n\nprotected boolean arguments(String args[]) {\n\n        boolean isConfig = false;\n\n        if (args.length < 1) {\n            usage();\n            return (false);\n        }\n\n        for (int i = 0; i < args.length; i++) {\n            if (isConfig) {\n                configFile = args[i];\n                isConfig = false;\n            } else if (args[i].equals(\"-config\")) {\n                isConfig = true;\n            } else if (args[i].equals(\"-nonaming\")) {\n                setUseNaming( false );\n            } else if (args[i].equals(\"-help\")) {\n                usage();\n                return (false);\n            } else if (args[i].equals(\"start\")) {\n                starting = true;\n                stopping = false;\n            } else if (args[i].equals(\"stop\")) {\n                starting = false;\n                stopping = true;\n            } else {\n                usage();\n                return (false);\n            }\n        }\n\n        return (true);\n\n    }\n\n\nBy the way, the javadoc of the Catalina class is not correct or updated. It lacks information about \"-nonaming\" and \"start\", and \"-stop\" should be \"stop\":\n\n/**\n * Startup/Shutdown shell program for Catalina.  The following command line\n * options are recognized:\n * <ul>\n * <li><b>-config {pathname}</b> - Set the pathname of the configuration file\n *     to be processed.  If a relative path is specified, it will be\n *     interpreted as relative to the directory pathname specified by the\n *     \"catalina.base\" system property.   [conf/server.xml]\n * <li><b>-help</b> - Display usage information.\n * <li><b>-stop</b> - Stop the currently running instance of Catalina.\n * </u>\n *\n * Should do the same thing as Embedded, but using a server.xml file.\n *\n * @author Craig R. McClanahan\n * @author Remy Maucherat\n * @version $Revision: 737768 $ $Date: 2009-01-27 01:55:19 +0800 (Tue, 27 Jan 2009) $\n */", "count": 0, "id": 131047, "time": "2009-10-10T01:18:09Z", "creator": "qingyang.xu@qunar.com", "creation_time": "2009-10-10T01:18:09Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 47976, "text": "This has already been fixed in trunk. I have proposed the relevant patches for 6.0.x", "id": 132970, "time": "2009-12-19T20:01:38Z", "creator": "markt@apache.org", "creation_time": "2009-12-19T20:01:38Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 47976, "is_private": false, "count": 2, "id": 133010, "time": "2009-12-21T03:38:36Z", "creator": "markt@apache.org", "creation_time": "2009-12-21T03:38:36Z", "text": "This has been fixed in 6.0.x and will be included in 6.0.21 onwards."}]