[{"count": 0, "tags": [], "bug_id": 16857, "text": "When I run startup.bat, I see these exceptions fly by:\n\nINFO: Initializing Coyote HTTP/1.1 on port 8080\nServerLifecycleListener: createMBeans: Throwable\njavax.management.RuntimeOperationsException: Exception occured in \nModelMBeanOperationInfo setDescriptor\n        at javax.management.modelmbean.ModelMBeanOperationInfo.setDescriptor\n(ModelMBeanOperationInfo.java:395)\n        at org.apache.commons.modeler.OperationInfo.createOperationInfo\n(OperationInfo.java:270)\n        at org.apache.commons.modeler.ManagedBean.createMBeanInfo\n(ManagedBean.java:455)\n        at org.apache.commons.modeler.ManagedBean.createMBean\n(ManagedBean.java:387)\n        at org.apache.catalina.mbeans.MBeanUtils.createMBean\n(MBeanUtils.java:676)\n        at org.apache.catalina.mbeans.ServerLifecycleListener.createMBeans\n(ServerLifecycleListener.java:729)\n        at org.apache.catalina.mbeans.ServerLifecycleListener.createMBeans\n(ServerLifecycleListener.java:339)\n        at org.apache.catalina.mbeans.ServerLifecycleListener.lifecycleEvent\n(ServerLifecycleListener.java:206)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2182)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:512)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\nCaused by: java.lang.IllegalArgumentException: Invalid descriptor passed in \nparameter\n        ... 18 more\nGlobalResourcesLifecycleListener: Exception creating UserDatabase MBeans for \nUserDatabase\njavax.management.MBeanException: Cannot instantiate ModelMBean of class \norg.apache.catalina.mbeans.MemoryUserDatabaseMBe\nan\n        at org.apache.commons.modeler.ManagedBean.createMBean\n(ManagedBean.java:393)\n        at org.apache.catalina.mbeans.MBeanUtils.createMBean\n(MBeanUtils.java:760)\n        at \norg.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans\n(GlobalResourcesLifecycleListener.jav\na:240)\n        at \norg.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans\n(GlobalResourcesLifecycleListener.jav\na:213)\n        at \norg.apache.catalina.mbeans.GlobalResourcesLifecycleListener.createMBeans\n(GlobalResourcesLifecycleListener.jav\na:176)\n        at \norg.apache.catalina.mbeans.GlobalResourcesLifecycleListener.lifecycleEvent\n(GlobalResourcesLifecycleListener.j\nava:147)\n        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2182)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:512)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\nCaused by: java.lang.IllegalArgumentException: Not a valid Java type name: \njava.lang.String[]\n        at javax.management.MBeanInfo.mustBeValidJavaTypeName\n(MBeanInfo.java:470)\n        at javax.management.MBeanAttributeInfo.<init>\n(MBeanAttributeInfo.java:105)\n        at javax.management.modelmbean.ModelMBeanAttributeInfo.<init>\n(ModelMBeanAttributeInfo.java:231)\n        at org.apache.commons.modeler.AttributeInfo.createAttributeInfo\n(AttributeInfo.java:236)\n        at org.apache.commons.modeler.ManagedBean.createMBeanInfo\n(ManagedBean.java:427)\n        at org.apache.commons.modeler.ManagedBean.createMBean\n(ManagedBean.java:387)\n        ... 15 more\nStarting service Tomcat-Standalone\nApache Tomcat/4.1.18\n\nLooks like there are some problems with the MBeans.\n\nI find that I can log into my Tomcat admin app, but when I try to use it to \nlook at data sources and the like I get an HTTP 503 error - service not \navailable.  The exception in the console window reads:\n\njavax.servlet.UnavailableException: MBeanServer is not available\n\nI'm wondering if this has anything to do with the MBean problems on startup.  \nThanks - MOD", "id": 30844, "time": "2003-02-06T21:11:24Z", "creator": "duffymo@yahoo.com", "creation_time": "2003-02-06T21:11:24Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "text": "Yes, the MBean server error is related to the problems on startup. There are no\nsteps to duplicate the bug. There were user management related fixes in the\nadmin webapp, so you could try 4.1.24.", "id": 36066, "time": "2003-04-25T09:36:47Z", "bug_id": 16857, "creation_time": "2003-04-25T09:36:47Z", "is_private": false}]