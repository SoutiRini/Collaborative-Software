[{"count": 0, "attachment_id": null, "bug_id": 5053, "is_private": false, "id": 8215, "time": "2001-11-23T08:42:13Z", "creator": "remco.slotboom@ctp.com", "creation_time": "2001-11-23T08:42:13Z", "tags": [], "text": "Although it is not a required attribute, the optional FTP task does not do \nanything useful (only logs in and out) if the 'remotedir' attribute is not \nspecified. Setting the remotedir to \".\" is a workaround to this problem. \n\nI examined the source and found the problem in an if-then-else that is a bit \ntoo liberal. The following snippet fixes the problem:\n\n  public void execute()\n        throws BuildException\n    {\n[snip]\n\n           if( action == MK_DIR ) {\n\n                makeRemoteDir( ftp, remotedir );\n\n            } else {\n                if (remotedir != null)\n                {\n                    log(\"changing the remote directory\", Project.MSG_VERBOSE);\n                    ftp.changeWorkingDirectory(remotedir);\n                    if (!FTPReply.isPositiveCompletion(ftp.getReplyCode()))\n                    {\n                        throw new BuildException(\n                                                 \"could not change              \nremote directory: \" + ftp.getReplyString());\n                    }\n                }\n                log(ACTION_STRS[action] + \" files\");\n                transferFiles(ftp);\n            }\n\n        }\n        catch(IOException ex)\n        {\n[snip]\n\n(Otherwise, FTP with ANT works great by the way)."}, {"count": 1, "tags": [], "creator": "jakarta@ehatchersolutions.com", "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of 4821 ***", "id": 8218, "time": "2001-11-23T10:35:09Z", "bug_id": 5053, "creation_time": "2001-11-23T10:35:09Z", "attachment_id": null}]