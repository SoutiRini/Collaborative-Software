[{"count": 0, "tags": [], "creator": "1983-01-06@gmx.net", "text": "The mime-mapping of conf/web.xml in Tomcat 7 ist far more complete than in Tomcat 6 [1]. Please keep both sections synchronized. It's quite a tedious work to create a suitable patch with every release and apply that to Tomcat 6.\n\n[1] svn diff http://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk/conf/web.xml  http://svn.apache.org/repos/asf/tomcat/tc7.0.x/trunk/conf/web.xml", "id": 165081, "time": "2013-02-05T14:41:31Z", "bug_id": 54527, "creation_time": "2013-02-05T14:41:31Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 54527, "text": "AFAIK, Nothing is broken with the current list of mime-mappings in Tomcat 6, so I am marking this as enhancement.\n\nSeveral notes\n\n1. web.xml in Tomcat 7 is 100 kilobytes larger than the one in Tomcat 6.\n\nI wouldn't be wondered if the time to parse those additional 3000 lines and the memory used to store the mappings for each deployed application were noticeable in some configurations.\n\n2. There is nothing wrong with having your own copy of web.xml to replace the one provided by Tomcat.\n\nI would not expect many changes to the default web.xml in Tomcat 6, so you do not need to update your copy.\n\n3. Tomcat 6 is RTC, so someone has to prepare the actual patch to be proposed for a vote.\n\n\nPersonally, I think it is too late to backport such enhancement to Tomcat 6. Though if anyone else goes with it, I wouldn't mind. Maybe ask on opinions on dev@.\n\nAre there any more requests for this?", "id": 165092, "time": "2013-02-05T21:54:01Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2013-02-05T21:54:01Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "1983-01-06@gmx.net", "is_private": false, "text": "(In reply to comment #1)\n> AFAIK, Nothing is broken with the current list of mime-mappings in Tomcat 6,\n> so I am marking this as enhancement.\n\nSorry, I did not mind to file a bug actually. This is a enhancement of course.\n \n> Several notes\n> \n> 1. web.xml in Tomcat 7 is 100 kilobytes larger than the one in Tomcat 6.\n> \n> I wouldn't be wondered if the time to parse those additional 3000 lines and\n> the memory used to store the mappings for each deployed application were\n> noticeable in some configurations.\n\nThis happens anyway if you run an app with Tomcat 7. Why this should make a difference to Tomcat 6?\n \n> 2. There is nothing wrong with having your own copy of web.xml to replace\n> the one provided by Tomcat.\n\nI know, I have done this partially. But it has a huge drawback. Everyone has to do the same stupid work over and over again, patch, check, patch, etc. We can do this in a single place, here.\n \n> I would not expect many changes to the default web.xml in Tomcat 6, so you\n> do not need to update your copy.\n> \n> 3. Tomcat 6 is RTC, so someone has to prepare the actual patch to be\n> proposed for a vote.\n> \n> \n> Personally, I think it is too late to backport such enhancement to Tomcat 6.\n> Though if anyone else goes with it, I wouldn't mind. Maybe ask on opinions\n> on dev@.\n\nWhat is RTC? Yes, I will raise this on dev@ as you advise.\n\n\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u041a\u043e\u0441\u0442\u044f!", "id": 165093, "time": "2013-02-05T22:16:13Z", "bug_id": 54527, "creation_time": "2013-02-05T22:16:13Z", "attachment_id": null}, {"attachment_id": 29952, "tags": [], "creator": "1983-01-06@gmx.net", "text": "Created attachment 29952\nPatch against Tomcat 6.0 trunk", "count": 3, "id": 165244, "time": "2013-02-13T21:36:51Z", "bug_id": 54527, "creation_time": "2013-02-13T21:36:51Z", "is_private": false}, {"count": 4, "tags": [], "text": "The proposed patch creates duplicate definitions for:\nhtke, odft, oti, svc, svd, text, tfi, tfm, tga, thmx, s, s3m, saf, sbml, sc, scd, scm, scq, scs, scurl, sda, sdc, sdd, sdkd, sdkm, sdp, sdw, see, seed, sema, semd, semf, ser, setpay, setreg, sfd-hdstx, sfs, sfx, sgi, sgl, sgm, sgml\n\nI'll have an updated proposal shortly.", "is_private": false, "bug_id": 54527, "id": 165302, "time": "2013-02-18T13:40:12Z", "creator": "markt@apache.org", "creation_time": "2013-02-18T13:40:12Z", "attachment_id": null}, {"count": 5, "tags": [], "text": "Created attachment 29962\nProposed patch\n\nNew patch that doesn't create the duplicates.", "is_private": false, "bug_id": 54527, "id": 165303, "time": "2013-02-18T13:41:37Z", "creator": "markt@apache.org", "creation_time": "2013-02-18T13:41:37Z", "attachment_id": 29962}, {"count": 6, "attachment_id": null, "bug_id": 54527, "text": "Updated patch proposed for 6.0.x.", "id": 165304, "time": "2013-02-18T13:43:09Z", "creator": "markt@apache.org", "creation_time": "2013-02-18T13:43:09Z", "tags": [], "is_private": false}, {"count": 7, "tags": [], "text": "Fixed in 6.0 by r1476538 , will be in 6.0.37.", "is_private": false, "bug_id": 54527, "id": 166881, "time": "2013-04-27T13:12:16Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2013-04-27T13:12:16Z", "attachment_id": null}]