[{"count": 0, "tags": [], "creator": "mingzhao.chen@hingesoftware.com", "attachment_id": null, "text": "Hi,\n\nI configure the Apache 2.0.59 on AIX with the following command:\n./configure --prefix=/home/viador/apache2 --enable-so --enable-ssl --with-ssl=/usr/local/ssl --with-expat=builtin\n\nThen I copy the apache dist on the other AIX machine and modify the necessary environment,such as the old PREFIX path (/home/viador/apache2) in the apachectl,apxs,httpd.conf,ssl.conf,to new PREFIX(/export/home/oracle/apache2).But I get the following error when I run the apachectl:\n\nCould not load program /export/home/oracle/apache2/bin/httpd:\nCould not load module /export/home/oracle/apache2/lib/libaprutil-0.so.\n        Dependent module /home/viador/apache2/lib/libexpat.a(libexpat.so.0) could not be loaded.\nCould not load module /home/viador/apache2/lib/libexpat.a(libexpat.so.0).\nSystem error: No such file or directory\nCould not load module httpd.\n        Dependent module /export/home/oracle/apache2/lib/libaprutil-0.so could not be loaded.\nCould not load module .\n\nAaron,\n2008-07-03", "id": 118223, "time": "2008-07-02T22:18:24Z", "bug_id": 45329, "creation_time": "2008-07-02T22:18:24Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 45329, "attachment_id": null, "id": 118309, "time": "2008-07-05T19:48:51Z", "creator": "mingzhao.chen@hingesoftware.com", "creation_time": "2008-07-05T19:48:51Z", "is_private": false, "text": "Hi,\n\nThis problem has been resolved.When you configure the apache,you can add the flag of '--enable-shared=no'.\n\n$./configure --prefix=/home/viador/apache2 --enable-so --enable-ssl\n--with-ssl=/usr/local/ssl --with-expat=builtin --enable-shared=no\n$make\n$make install\n\nIn this way, you can move the apache to other directory or other AIX machine,but you should modify the PREFIX path in some files.\n\nBut I want to generate the mod_jk.so with tomcat-connectors-1.2.23-src:\nIn the directory tomcat-connectors-1.2.23-src\n$cd native\n$./configure --with-apxs=/home/viador/apache2/bin/apxs\n$cd apache-2.0\n$make\n$make install\n\nThere are some errors when execute the 'make install':\n\nInstalling files to Apache Modules Directory...\n        /home/viador/apache2/bin/apxs -i mod_jk.la\n/home/viador/apache2/build/instdso.sh SH_LIBTOOL='/home/viador/apache2/build/libtool' mod_jk.la /home/viador/apache2/modules\nrm -f /home/viador/apache2/modules/mod_jk.so\n/home/viador/apache2/build/libtool --mode=install cp mod_jk.la /\nhome/viador/apache2/modules/\ncp .libs/mod_jk.lai /home/viador/apache2/modules/mod_jk.la\ncp .libs/mod_jk.a /home/viador/apache2/modules/mod_jk.a\nranlib /home/viador/apache2/modules/mod_jk.a\nchmod 644 /home/viador/apache2/modules/mod_jk.a\n\nLibraries have been installed in:\n   /home/viador/apache2/modules\n\nIf you ever happen to want to link against installed libraries\nin a given directory, LIBDIR, you must either use libtool, and\nspecify the full pathname of the library, or use the `-LLIBDIR'\nflag during linking and do at least one of the following:\n   - add LIBDIR to the `LIBPATH' environment variable\n     during execution\n   - use the `-Wl,-blibpath:LIBDIR:/home/viador/apache2/lib:/hom\ne/sybase125/product/OCS-12_5/lib:/home/sybase125/product/ASE-12_5/lib:/home/syba\nse125/product/FTS-12_5/lib:/usr/lib:/lib:/export/home/dbase/DB28/db2inst2/sqllib\n/lib ' linker flag\n\nSee any operating system documentation about shared libraries for\nmore information, such as the ld(1) and ld.so(8) manual pages.\n\nWarning!  dlname not found in /home/viador/apache2/modules/mod_jk.la.\nAssuming installing a .so rather than a libtool archive.\nchmod 755 /home/viador/apache2/modules/mod_jk.so\nchmod: /home/viador/apache2/modules/mod_jk.so: A file or directo\nry in the path name does not exist.\napxs:Error: Command failed with rc=65536\nmake: 1254-004 The error code from the last command is 1.\n\nBut when configure the apahce without the flag of '--enable-shared=no',the mod_jk.so can generate and the apache can work will with the tomcat.Could you tell me what's the mater?Thanks a lot.\n\nAaron,\n2008-07-06"}, {"count": 2, "text": "Original issue: You have to set the native shared library path if you want to move files around. This report turned into a question about building mod_jk -- it belongs on a user-support forum not in a bug.", "bug_id": 45329, "is_private": false, "id": 127379, "time": "2009-05-25T07:38:23Z", "creator": "covener@gmail.com", "creation_time": "2009-05-25T07:38:23Z", "tags": [], "attachment_id": null}]