[{"count": 0, "tags": [], "bug_id": 2710, "is_private": false, "text": "Hi,\n\nThis bug is actually in Tomcat Beta 6 but version in bugzilla still does not \nhave Beta 6. \n\nThe releae note states:\norg.apache.catalina.core.StandardContext:  Make the naming context name\nunique, to avoid conflicts when multiple engines use the same host and\ncontext names.\n\nThe code changes indicate that the names are now unique. However they are in \nincorrect order. I think the names will now be created like\n\n/host-name/webapp-name/engine-name instead of the more correct\n\n/engine-name/host-name/web-appname\n\nHere is a code snippet that does it right. It also caches the computed name to \nimprove the performance. \n\n    /**\n     * Get naming context full name.\n     */\n    private String getNamingContextName() {\n\tif (namingContextName == null) {\n\t    Container parent = getParent();\n\t    if (parent == null) {\n\t\tnamingContextName =  getName();\n\t    } else {\n\t\tStack stk = new Stack();\n\t\tStringBuffer buff = new StringBuffer();\n\t\twhile (parent != null) {\n\t\t    stk.push(parent.getName());\n\t\t    parent = parent.getParent();\n\t\t}\n\t\twhile (!stk.empty()) {\n\t\t    buff.append(\"/\" + stk.pop());\n\t\t}\n\t\tbuff.append(getName());\n\t\tnamingContextName = buff.toString();\n\t    }\n\t}\n\treturn namingContextName;\n    }", "id": 3874, "time": "2001-07-20T09:21:49Z", "creator": "vishy@borland.com", "creation_time": "2001-07-20T09:21:49Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "craig.mcclanahan@sun.com", "attachment_id": null, "id": 3881, "time": "2001-07-20T11:15:41Z", "bug_id": 2710, "creation_time": "2001-07-20T11:15:41Z", "is_private": false, "text": "Switched to the correct version identifier, and reassigned to Remy.\n"}, {"count": 2, "attachment_id": null, "creator": "remm@apache.org", "is_private": false, "id": 3979, "time": "2001-07-24T15:58:13Z", "bug_id": 2710, "creation_time": "2001-07-24T15:58:13Z", "tags": [], "text": "I've applied your patch. Thanks a lot !"}]