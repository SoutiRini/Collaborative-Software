[{"count": 0, "tags": [], "creator": "nlitt@wilytech.com", "attachment_id": null, "text": "Recently I encountered an specific laptop on which the replaceregexp task \nintermittently fails with errors like: \n \n - Couldn't rename temporary file C:\\<builddir>\\rep1253479585.tmp\n - Couldn't rename temporary file C:\\<builddir>\\replace690408058.txt\n\nI see that this error message is generated by line 431 of the ReplaceRegExp \ntask. The task creates a temp file, manipulates it, then overwrites the \noriginal file with the temp file. The \"Couldn't rename temp file\" error \nsignifies a failure to mv the tempfile to the original.  \n\nThe user is running as root, so it's not a permissions issue. And replaceregexp \nworks most of the time, but certain calls always seem to crash with this error. \nSo a single target might call replaceregexp successfully four or five times, \nthen error out.  \n\nGoogling the error, I found one other person who has encountered it and was \nalso stumped:\nhttp://64.233.161.104/search?q=cache:SyAlUcJaA7cJ:www.mail-archive.com/user%\n40ant.apache.org/msg01075.html+Ant+%22Couldn%27t+rename+temporary+file%22&hl=en\n\nSearching through ASF Bugzilla, I could not find any bug that appears to be \nrelated.", "id": 74146, "time": "2005-04-26T20:20:23Z", "bug_id": 34633, "creation_time": "2005-04-26T20:20:23Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 34633, "attachment_id": null, "id": 76332, "time": "2005-06-13T10:24:38Z", "creator": "heinz.van.pee@mhm-sys.de", "creation_time": "2005-06-13T10:24:38Z", "is_private": false, "text": "I have the same problem with Apache Ant version 1.6.1 compiled on February 12 2004.\nAnt is executed via Eclipse\nIm Running Windows XP with service pack 2."}, {"count": 2, "tags": [], "creator": "heinz.van.pee@mhm-sys.de", "attachment_id": null, "text": "I also encountered this effect when running ant 1.6.5 from console.", "id": 76377, "time": "2005-06-14T09:59:52Z", "bug_id": 34633, "creation_time": "2005-06-14T09:59:52Z", "is_private": false}, {"count": 3, "tags": [], "text": "Forgot to mention the java version, using j2sdk1.4.2_04", "attachment_id": null, "id": 76378, "creator": "heinz.van.pee@mhm-sys.de", "time": "2005-06-14T10:01:22Z", "bug_id": 34633, "creation_time": "2005-06-14T10:01:22Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 34633, "text": "i have updated to j2sdk1.4.2_08  \nand disabled indexing for fast search, \nmaybe update to 1.4.2_08 is enough, all run since then proceeded without errors.", "id": 76384, "time": "2005-06-14T11:38:49Z", "creator": "heinz.van.pee@mhm-sys.de", "creation_time": "2005-06-14T11:38:49Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "heinz.van.pee@mhm-sys.de", "attachment_id": null, "text": "(In reply to comment #4)\ni was too fast, its still there occassionally.", "id": 76386, "time": "2005-06-14T11:44:49Z", "bug_id": 34633, "creation_time": "2005-06-14T11:44:49Z", "is_private": false}, {"count": 6, "tags": [], "text": "It seems that if this behaviour occured once it occures on every run thereafter.\n", "attachment_id": null, "id": 76388, "creator": "heinz.van.pee@mhm-sys.de", "time": "2005-06-14T12:20:49Z", "bug_id": 34633, "creation_time": "2005-06-14T12:20:49Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 34633, "attachment_id": null, "id": 76390, "time": "2005-06-14T13:19:15Z", "creator": "heinz.van.pee@mhm-sys.de", "creation_time": "2005-06-14T13:19:15Z", "is_private": false, "text": "It seems to help if you delete all temporary files."}, {"count": 8, "tags": [], "bug_id": 34633, "text": "There's a possibility that this is a file naming bug related to long vs. short\nfile names in Windows.  The error I got was:\n\n  An error occurred processing file:\n'C:\\dev\\LongFilenameExample\\build\\text\\Example.java.html':\nC:\\dev\\LongFilenameExample\\build.xml:138: Couldn't rename temporary file\nC:\\DOCUME~1\\mcrocker\\LOCALS~1\\Temp\\replace1599386392.txt\n\nNotice that the source file and build file names use the full file names, but\nthe temporary file uses the tilde vFAT naming style.\n\nThis error occurs on Windows XP Pro 2002 SP2, with ANT 1.6.5 under Java \n1.4.2_04 and 1.5.0_02 from the command line or inside of Eclipse 3.1.", "id": 88813, "time": "2006-05-04T21:49:39Z", "creator": "mcrocker@markcrocker.com", "creation_time": "2006-05-04T21:49:39Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "creator": "csaona@netscape.net", "attachment_id": null, "text": "I'm also experiencing this problem with Ant 1.7.0 and Java 1.5.0_11 under\nWindows XP SP2", "id": 105928, "time": "2007-07-25T03:36:41Z", "bug_id": 34633, "creation_time": "2007-07-25T03:36:41Z", "is_private": false}, {"count": 10, "tags": [], "text": "Marking as windows xp, but it applies to all windows versions.", "attachment_id": null, "id": 106979, "creator": "peterreilly@apache.org", "time": "2007-08-21T11:55:31Z", "bug_id": 34633, "creation_time": "2007-08-21T11:55:31Z", "is_private": false}, {"count": 11, "tags": [], "creator": "jkares@gmail.com", "attachment_id": null, "text": "I think I have encountered it under Linux. I am using Fedora 7, ant (1.6.5) is\nrunning under the hood while using maven (2.0.7) with appfuse project. My stack\ntrace is:\n[INFO] ------------------------------------------------------------------------\n[ERROR] FATAL ERROR\n[INFO] ------------------------------------------------------------------------\n[INFO] Couldn't rename temporary file /tmp/replace688779408.txt\n[INFO] ------------------------------------------------------------------------\n[INFO] Trace\nCouldn't rename temporary file /tmp/replace688779408.txt\n        at\norg.apache.tools.ant.taskdefs.optional.ReplaceRegExp.doReplace(ReplaceRegExp.java:431)\n        at\norg.apache.tools.ant.taskdefs.optional.ReplaceRegExp.execute(ReplaceRegExp.java:491)\n        at\norg.appfuse.mojo.installer.InstallSourceMojo.removeWarpathPlugin(InstallSourceMojo.java:609)\n        at\norg.appfuse.mojo.installer.InstallSourceMojo.execute(InstallSourceMojo.java:207)\n        at\norg.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:443)\n        at\norg.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:539)\n        at\norg.apache.maven.lifecycle.DefaultLifecycleExecutor.executeStandaloneGoal(DefaultLifecycleExecutor.java:493)\n        at\norg.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:463)\n        at\norg.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:311)\n        at\norg.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:278)\n        at\norg.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:143)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:334)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:125)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:280)\n\nIt seems I am not alone with this issue:\n\nhttp://www.mail-archive.com/users@appfuse.dev.java.net/msg06914.html\nhttp://www.nabble.com/appfuse-and-SOAP-t4035996s2369.html\n\n", "id": 108433, "time": "2007-09-20T02:00:01Z", "bug_id": 34633, "creation_time": "2007-09-20T02:00:01Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 34633, "attachment_id": null, "id": 111742, "time": "2007-12-13T03:29:57Z", "creator": "m.hiemstra@minihouse.com", "creation_time": "2007-12-13T03:29:57Z", "is_private": false, "text": "I can now confirm that this a serious Java bug. \n\nI discovered this by doing the following:\n\nI downloaded the ant source and I discovered that the original file is copied to\na temp file and then that temp file is renamed to the original file. So in\nshort, the original file is copied, edited and then overriden. So I decided to\ndo some experimenting. I moved my source code from 'My Documents' directory\nwhich is located under the Document and Settings directory and moved it into\nc:\\Project. Now the replaceregexp task works.\n\nApparently Java doesnt know to handle files like this:\nC:\\Documents and Settings\\User\\My\ndocuments\\Projects\\MyApp\\projects\\dao\\src\\conf\\hibernate.properties\n\nI tried the following:\nif (!new File(\"C:\\\\Documents and Settings\\\\User\\\\My\ndocuments\\\\Projects\\\\MyApp\\\\projects\\\\dao\\\\src\\\\conf\\\\hibernate.properties\").delete())\n    System.out.println( \"Could not delete\" );\nelse\n    System.out.println( \"Could delete\" );\n\nAs output I get the message 'Could delete' and the file is deleted. This makes\nme beleive that there is something totally messed up in Java. Deleteing a file\nin one instance doesnt work but manually creating a File object pointing to that\nfile and then deleting it will work.\n\nThis isnt a Ant issue but a Java issue."}, {"count": 13, "tags": [], "bug_id": 34633, "attachment_id": null, "id": 111743, "time": "2007-12-13T03:48:43Z", "creator": "peterreilly@apache.org", "creation_time": "2007-12-13T03:48:43Z", "is_private": false, "text": "I would suggest that it may be a windows issue.\nThings like this can happen with virus checkers. If a virus\nchecker is configured to check a file when a file is created/read,\nand the file is short lived - for example a temp file created\nwith there replaceregexp, there exists a race condition where the\nfile cannot be deleted (while the virus checker is checking the file).\n[This is a windows \"feature\" apparently added with WindowsNT - previously\none could delete files while other \"processes\" were reading them - corrupting\nthe file system]\n\nSometimes a virus checker is configured to only do \"heavy\" checking on\ncertain directories - (My documents for example) so you may be seeing this\nfor some directories and not others."}, {"count": 14, "tags": [], "creator": "m.hiemstra@minihouse.com", "attachment_id": null, "text": "> I would suggest that it may be a windows issue.\n> Things like this can happen with virus checkers. \n\nTo test this, I disabled my virus scanner and retested it. Still the same error.\nSo it isnt a virus scanner that is causing the problem. It was a good suggestion\nthough.", "id": 111807, "time": "2007-12-14T08:02:36Z", "bug_id": 34633, "creation_time": "2007-12-14T08:02:36Z", "is_private": false}, {"count": 15, "tags": [], "bug_id": 34633, "attachment_id": null, "id": 111810, "time": "2007-12-14T08:30:05Z", "creator": "david.jackman@fastsearch.com", "creation_time": "2007-12-14T08:30:05Z", "is_private": false, "text": "(In reply to comment #14)\n> > I would suggest that it may be a windows issue.\n> > Things like this can happen with virus checkers. \n> \n> To test this, I disabled my virus scanner and retested it. Still the same error.\n> So it isnt a virus scanner that is causing the problem. It was a good suggestion\n> though.\n\nThis sounds like a problem I was experiencing with files in a different\nsituation.  Virus scanning software was also the expected culprit, but wasn't. \nInstead, I tracked it down to the TSVNCache.exe process of TortoiseSVN.  I was\nable to work around the problem by going to the Icon Overlays page of the\nTortoiseSVN settings and under \"Status Cache\" choosing \"Shell\" instead of \"Default\"."}, {"count": 16, "tags": [], "bug_id": 34633, "text": "(In reply to comment #8)\n\nThis is not an issue with Windows long vs. short names.  I ran into the same error you did in the Documents and Settings Temp area with Ant 1.7.0, Windows Server 2003, and Java 1.4.2_13 (don't ask).  So, I switched the user's environment TEMP to point to C:\\temp and got:\n\nBUILD FAILED\nK:\\O_build_stable\\RSA_Build\\Build\\build.xml:268: The following error occurred while executing this line: K:\\O_build_stable\\RSA_Build\\Build\\subprojects\\buildsummary.xml:350: Couldn't rename temporary file C:\\Temp\\replace8787748.txt\n", "id": 115254, "time": "2008-04-02T08:11:34Z", "creator": "eolsen@consultant.datasys.swri.edu", "creation_time": "2008-04-02T08:11:34Z", "is_private": false, "attachment_id": null}, {"count": 17, "tags": [], "bug_id": 34633, "text": "Created attachment 21771\nImprove Error Message for ReplaceRegExp Rename Failure", "id": 115261, "time": "2008-04-02T11:46:33Z", "creator": "eolsen@consultant.datasys.swri.edu", "creation_time": "2008-04-02T11:46:33Z", "is_private": false, "attachment_id": 21771}, {"count": 18, "tags": [], "creator": "eolsen@consultant.datasys.swri.edu", "attachment_id": null, "text": "The problem (at least the one that I encountered) is definitely not a Java bug or even a 'real' bug in Ant.  Instead it is one of misdirection due to a bad error message.  It turns out that everyone seems to be focused on the temporary file (e.g., C:\\<builddir>\\replace690408058.txt) when the problem is with the original file due to the way the Ant FileUtils rename works in order to work across file systems:\n\n  1 - delete original file if there\n  2 - copy updated file (temp file) to original file name and location\n  3 - delete updated file (temp file)\n\nThe diff patch that I have attached to org/apache/tools/ant/taskdefs/optional/ReplaceRegExp.java will help sort out the bad error message confusion.  In one of my tests the original output was:\n\n  BUILD FAILED\n  C:\\AntTestDir\\build.xml:32: Couldn't\n  rename temporary file C:\\DOCUME~1\\eolsen\\LOCALS~1\\Temp\\replace2143556994.txt\n\nThe new (correct) output is:\n\n  BUILD FAILED\n  C:\\Documents and Settings\\eolsen\\My Documents\\AntTestDir\\build.xml:32: Failed to\n  delete W:\\test2.txt while trying to rename C:\\DOCUME~1\\eolsen\\LOCALS~1\\Temp\\replace1613181649.txt\n\nThe real issue as you can now see from the improved error message was a failure to delete the original file (which was on a filesystem to which I only had read permissions).\n\nTo misquote Matt Inger:  \"Read code, not error messages.  Error messages can lie.\"", "id": 115262, "time": "2008-04-02T11:46:56Z", "bug_id": 34633, "creation_time": "2008-04-02T11:46:56Z", "is_private": false}, {"count": 19, "tags": [], "creator": "eolsen@consultant.datasys.swri.edu", "attachment_id": null, "text": "Updating versions and systems since the patch applies to all platforms.", "id": 115263, "time": "2008-04-02T11:50:02Z", "bug_id": 34633, "creation_time": "2008-04-02T11:50:02Z", "is_private": false}, {"count": 20, "tags": [], "creator": "eolsen@consultant.datasys.swri.edu", "attachment_id": null, "text": "One more note -- the real problem was that ReplaceRegExp.java gobbled up the good error message from org.apache.tools.ant.util.FileUtils.rename() instead of passing it on up the chain to the build failure where we could see it.", "id": 115264, "time": "2008-04-02T11:54:25Z", "bug_id": 34633, "creation_time": "2008-04-02T11:54:25Z", "is_private": false}, {"count": 21, "tags": [], "bug_id": 34633, "text": "the fix for bug 45960 may have improved the situation.  For other cases (like when Ant simply cannot write to the file), svn revision 703192 will now include the original error information (as suggested by Eric).", "id": 121357, "time": "2008-10-09T08:59:41Z", "creator": "bodewig@apache.org", "creation_time": "2008-10-09T08:59:41Z", "is_private": false, "attachment_id": null}, {"count": 22, "tags": [], "bug_id": 34633, "text": "I am still seeing this issue in Ant 1.8.1.  Would there be a way to possibly handle the exception with a retry of the failed command (in this case looks like the original file delete).  This seems to happen often enough in my windows build execution since I started using the ReplaceRegExp task.  Once every 50 or so uses, which based on my CI build, fails every fourth or fifth build execution.\n\nSee ant -v full stact trace below for the underlying cause in the ant FileUtils\n\nBUILD FAILED\nc:\\hudson\\workspace\\main_windows\\build.xml:298: The following error occurred while executing this line:\nc:\\hudson\\workspace\\main_windows\\build.xml:140: The following error occurred while executing this line:\nc:\\hudson\\workspace\\main_windows\\modules\\build-module-common.xml:399: The following error occurred while executing this line:\nc:\\hudson\\workspace\\main_windows\\modules\\build-module-common.xml:532: Couldn't rename temporary file C:\\WINDOWS\\TEMP\\replace7543532359339722099.txt\n\tat org.apache.tools.ant.taskdefs.optional.ReplaceRegExp.doReplace(ReplaceRegExp.java:480)\n\tat org.apache.tools.ant.taskdefs.optional.ReplaceRegExp.execute(ReplaceRegExp.java:536)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)\n\tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n\tat org.apache.tools.ant.Task.perform(Task.java:348)\n\tat org.apache.tools.ant.Target.execute(Target.java:390)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:411)\n... (Extra stack trace clipped) ...\nCaused by: java.io.IOException: Failed to delete c:\\hudson\\workspace\\main_windows\\modules\\dfm-cli\\target\\reports\\javac\\javac_stdout.txt while trying to rename C:\\WINDOWS\\Temp\\replace7543532359339722099.txt\n\tat org.apache.tools.ant.util.FileUtils.rename(FileUtils.java:1239)\n\tat org.apache.tools.ant.taskdefs.optional.ReplaceRegExp.doReplace(ReplaceRegExp.java:474)\n\t... 72 more", "id": 145750, "time": "2011-04-13T11:28:26Z", "creator": "dholmes@netapp.com", "creation_time": "2011-04-13T11:28:26Z", "is_private": false, "attachment_id": null}, {"count": 23, "tags": [], "creator": "awingnut@hotmail.com", "attachment_id": null, "text": "I know this is an old thread but I have it today. It is also not a Windows specific problem as I am running Mandriva 2010.2, ant 1.7.1 and I don't know what version of replaceregexp I have. This error seems to be like a rash on the internet with no one coming up with a solution or even a workaround. Some have said it goes way on its own but mine hasn't yet and I cannot find any way to get rid of it even temporarily. My project is at a dead standstill at this point. Will rebooting help any?", "id": 154032, "time": "2012-02-22T15:32:49Z", "bug_id": 34633, "creation_time": "2012-02-22T15:32:49Z", "is_private": false}, {"count": 24, "tags": [], "bug_id": 34633, "attachment_id": null, "id": 154036, "time": "2012-02-22T16:43:49Z", "creator": "bodewig@apache.org", "creation_time": "2012-02-22T16:43:49Z", "is_private": false, "text": "(In reply to comment #23)\n> I know this is an old thread but I have it today. It is also not a Windows\n> specific problem as I am running Mandriva 2010.2, ant 1.7.1 and I don't know\n> what version of replaceregexp I have.\n\nSince replaceregexp is a built-in task it should be the same version as Ant itself.\n\nBefore tyring to dig any deeper, you should give a more recent version of Ant a try (1.8.2 is current with 1.8.3 being close).  Even if bug 45960 says it is about Windows, it also applies to other platforms in that a failed delete operation is retried once (on Windows there is an additional GC between the attempts to delete the file)."}, {"count": 25, "tags": [], "creator": "awingnut@hotmail.com", "attachment_id": null, "text": "1.8.2 is not yet a stable release for Mandriva. I am reluctant to try the cooker release if there is a workaround. I can survive for a while if there is some way to manually clear this problem even if temporarily.\n\nAs for the version, I had lots of trouble getting replaceregexp since it kept telling me it was an ant-contrib optional function. I had to install it separately which is why I thought it might be a different version. Whatever I did, when I installed the Mandriva ant rpm, replaceregex was not included.", "id": 154038, "time": "2012-02-22T18:40:18Z", "bug_id": 34633, "creation_time": "2012-02-22T18:40:18Z", "is_private": false}, {"count": 26, "tags": [], "bug_id": 34633, "text": "(In reply to comment #25)\n> 1.8.2 is not yet a stable release for Mandriva. I am reluctant to try the\n> cooker release if there is a workaround. I can survive for a while if there is\n> some way to manually clear this problem even if temporarily.\n> \n> As for the version, I had lots of trouble getting replaceregexp since it kept\n> telling me it was an ant-contrib optional function. I had to install it\n> separately which is why I thought it might be a different version. Whatever I\n> did, when I installed the Mandriva ant rpm, replaceregex was not included.\n\nWell, we don't have any influence on the RPMs (or any other distribution you don't download from one of the ASF's mirrors), I don't have any idea whether the Mandriva distribution has made any modifications.\n\nIn Ant 1.7.x the replaceregexp task has been in a jar called ant-nodeps.jar, with Ant 1.8.x we've merged those into ant.jar.\n\nYou should be able to download a binary release from Ant's download page, untar the tarball anywhere, set ANT_HOME to point to that location and start using it without messing with your OS installation.\n\nI'm not aware of any workaround if the problem is that Java is holding on to a lock to the file it has just written even after it has been closed.", "id": 154046, "time": "2012-02-23T05:04:42Z", "creator": "bodewig@apache.org", "creation_time": "2012-02-23T05:04:42Z", "is_private": false, "attachment_id": null}, {"count": 27, "tags": [], "creator": "awingnut@hotmail.com", "attachment_id": null, "text": "I took your advice and installed 1.8. No joy, same error. However, I wonder if I needed to do some kind of clean up.", "id": 154071, "time": "2012-02-23T15:28:57Z", "bug_id": 34633, "creation_time": "2012-02-23T15:28:57Z", "is_private": false}, {"count": 28, "tags": [], "bug_id": 34633, "attachment_id": null, "id": 154072, "time": "2012-02-23T15:52:46Z", "creator": "bodewig@apache.org", "creation_time": "2012-02-23T15:52:46Z", "is_private": false, "text": "At least 1.8.x should tell you which file it failed to delete."}, {"count": 29, "tags": [], "creator": "awingnut@hotmail.com", "attachment_id": null, "text": "I've always had that, from replaceregexp:\n\nCouldn't rename temporary file /tmp/replace5358820582224705130.txt\n\nHowever, I've just discovered what I think is an important piece of information and, as an aside, may be related to what I thought might be a different bug. I have been running this build via a perl script. What I have found is everything works as expected when the script is run from the command line. When it fails with this error, it is running in background which means no console (tty).\n\nThe possible related bug is that I use the echo property in a couple of places. When I try to capture the ant output, the echos do not show up when run in background. They do from command line. I was able to work around that problem by using -logfile and reading that into my script but I shouldn't have had to do that.\n\nThe bottom line is that ant behaves differently when run in background and/or with no console. It does not seem to matter if I use 'nohup'. Unless it is trying to write directly to a tty rather than STDOUT and STDERR, this behavior should not happen. I suppose it is possible that there is some environment variable missing that it needs but there is no indication in the error message if or what that might be.", "id": 154076, "time": "2012-02-23T18:08:25Z", "bug_id": 34633, "creation_time": "2012-02-23T18:08:25Z", "is_private": false}, {"count": 30, "tags": [], "bug_id": 34633, "text": "I'm also seeing this on a CentOS installation.\nI can check on sunday what version exactly the ant is and I think I can update it without a problem.\nThis is a real problem for me.\nAny workarounds? (BTW, the file isn't held by java in my case)", "id": 155390, "time": "2012-03-30T11:40:52Z", "creator": "ittai@fashiontraffic.com", "creation_time": "2012-03-30T11:40:52Z", "is_private": false, "attachment_id": null}, {"count": 31, "tags": [], "creator": "raghavendra.1729@gmail.com", "attachment_id": null, "text": "Hi\nI'm too facing the same issue, I tried with ANT version ant_1.6.5 on RHEL 5.4.\nAny quick workaround can help me lot.\nThanks\nRaghav", "id": 157053, "time": "2012-04-02T12:27:53Z", "bug_id": 34633, "creation_time": "2012-04-02T12:27:53Z", "is_private": false}, {"count": 32, "tags": [], "bug_id": 34633, "attachment_id": null, "id": 164016, "time": "2012-12-10T22:20:33Z", "creator": "daimonion@gmail.com", "creation_time": "2012-12-10T22:20:33Z", "is_private": false, "text": "I just faced the same problem, but got it fixed very easily.\n\nTurns out that apparently, it is related to the path/filename of the file to which the regexp replacement is being done.\n\nSo, instead of trying to do the regexp directly to thefile (located in a path like C:\\build\\nightly\\files\\product_20121210_1600\\file.txt), I just tried the following:\n\n1)copy the file to C:\\Temp\n2)attempt the regexp to that file (C:\\Temp\\file.txt)\n3)copy the file from C:\\Temp to C:\\build\\nightly\\files\\product_20121210_1600\\file.txt\n\nand that's it. Worked like a charm.\n\nI was using ANT 1.7.1, then moved to 1.8.4 to see if it solved the problem (which didn't). However, I'm assuming it should work with 1.7.1 as well."}, {"count": 33, "tags": [], "text": "In fact, by double checking, my previous comment is wrong. When I tried to copy back the file to the original path, I got an access denied error. And after verifying, indeed the original file was always having read-only permissions. That was my problem (not the file path/ file name).\n\nCheck your file permissions, you might be facing the same thing I was (rookie's problem!)", "attachment_id": null, "id": 164017, "creator": "daimonion@gmail.com", "time": "2012-12-10T23:52:12Z", "bug_id": 34633, "creation_time": "2012-12-10T23:52:12Z", "is_private": false}, {"count": 34, "tags": [], "bug_id": 34633, "text": "Another workaround is redefining temporary dir location. \n\u0421an't find some rule, but overriding the temporary dir to the drive where you run ant should help.\n\nant -Djava.io.tmpdir=D:\\temp ...", "id": 165229, "time": "2013-02-13T14:11:06Z", "creator": "swordnik@meta.ua", "creation_time": "2013-02-13T14:11:06Z", "is_private": false, "attachment_id": null}]