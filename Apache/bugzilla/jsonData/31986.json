[{"count": 0, "tags": [], "creator": "gregor@apache.org", "attachment_id": null, "is_private": false, "id": 66177, "time": "2004-10-30T19:43:08Z", "bug_id": 31986, "creation_time": "2004-10-30T19:43:08Z", "text": "looks like more windows file locking issues.\n\norg.apache.lenya.cms.task.ExecutionException:\nC:\\src\\BRANCH_1_2_X\\build\\lenya\\webapp\\lenya\\pubs\\default\\config\\tasks\\targets.xml:565:\norg.apache.lenya.workflow.WorkflowException: The old history file could not be\ndeleted!\n\tat org.apache.lenya.cms.task.AntTask.executeAntTarget(AntTask.java:129)\n\tat org.apache.lenya.cms.task.AntTask.execute(AntTask.java:229)\n\tat\norg.apache.lenya.cms.task.DefaultTaskWrapper.execute(DefaultTaskWrapper.java:248)\n\tat org.apache.lenya.cms.cocoon.acting.TaskAction.act(TaskAction.java:62)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.ActTypeNode.invoke(ActTypeNode.java:124)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:49)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:130)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:49)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:130)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:49)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:130)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:72)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:126)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:72)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:101)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:336)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:277)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:103)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:49)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:130)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:72)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:126)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:72)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:101)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:336)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:277)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.MountNode.invoke(MountNode.java:103)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:49)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.ActTypeNode.invoke(ActTypeNode.java:138)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:49)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PreparableMatchNode.invoke(PreparableMatchNode.java:130)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:72)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelineNode.invoke(PipelineNode.java:126)\n\tat\norg.apache.cocoon.components.treeprocessor.AbstractParentProcessingNode.invokeNodes(AbstractParentProcessingNode.java:72)\n\tat\norg.apache.cocoon.components.treeprocessor.sitemap.PipelinesNode.invoke(PipelinesNode.java:101)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:336)\n\tat\norg.apache.cocoon.components.treeprocessor.TreeProcessor.process(TreeProcessor.java:277)\n\tat org.apache.cocoon.Cocoon.process(Cocoon.java:639)\n\tat org.apache.cocoon.servlet.CocoonServlet.service(CocoonServlet.java:1098)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:358)\n\tat\norg.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:294)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:567)\n\tat org.mortbay.http.HttpContext.handle(HttpContext.java:1807)\n\tat\norg.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:525)\n\tat org.mortbay.http.HttpContext.handle(HttpContext.java:1757)\n\tat org.mortbay.http.HttpServer.service(HttpServer.java:879)\n\tat org.mortbay.http.HttpConnection.service(HttpConnection.java:790)\n\tat org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:961)\n\tat org.mortbay.http.HttpConnection.handle(HttpConnection.java:807)\n\tat org.mortbay.http.SocketListener.handleConnection(SocketListener.java:218)\n\tat org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:300)\n\tat org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:511)\nCaused by:\nC:\\src\\BRANCH_1_2_X\\build\\lenya\\webapp\\lenya\\pubs\\default\\config\\tasks\\targets.xml:565:\norg.apache.lenya.workflow.WorkflowException: The old history file could not be\ndeleted!\n\tat\norg.apache.lenya.cms.ant.DocumentOperationTask.execute(DocumentOperationTask.java:94)\n\tat\norg.apache.lenya.cms.ant.TwoDocumentsOperationTask.execute(TwoDocumentsOperationTask.java:71)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n\tat org.apache.tools.ant.Task.perform(Task.java:364)\n\tat org.apache.tools.ant.Target.execute(Target.java:341)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:369)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1214)\n\tat org.apache.lenya.cms.task.AntTask.executeAntTarget(AntTask.java:126)\n\t... 52 more\nCaused by: org.apache.lenya.workflow.WorkflowException: The old history file\ncould not be deleted!\n\tat\norg.apache.lenya.cms.ant.MoveWorkflowTask.visitSiteTreeNode(MoveWorkflowTask.java:86)\n\tat\norg.apache.lenya.cms.publication.SiteTreeNodeImpl.accept(SiteTreeNodeImpl.java:350)\n\tat\norg.apache.lenya.cms.publication.SiteTreeNodeImpl.acceptSubtree(SiteTreeNodeImpl.java:358)\n\tat\norg.apache.lenya.cms.ant.DocumentOperationTask.execute(DocumentOperationTask.java:92)\n\t... 59 more\nCaused by: org.apache.lenya.workflow.WorkflowException: The old history file\ncould not be deleted!\n\tat org.apache.lenya.workflow.impl.History.move(History.java:393)\n\tat org.apache.lenya.cms.workflow.CMSHistory.move(CMSHistory.java:189)\n\tat\norg.apache.lenya.cms.workflow.WorkflowFactory.moveHistory(WorkflowFactory.java:95)\n\tat\norg.apache.lenya.cms.ant.MoveWorkflowTask.visitSiteTreeNode(MoveWorkflowTask.java:82)\n\t... 62 more"}, {"count": 1, "tags": [], "creator": "A.Kuckartz@ping.de", "attachment_id": null, "id": 70013, "time": "2005-01-24T09:33:41Z", "bug_id": 31986, "creation_time": "2005-01-24T09:33:41Z", "is_private": false, "text": "This probably is a Windows-specific bug.\n\nSee bug 26564 (\"WGet has windows file locking issues\").\n"}, {"count": 2, "tags": [], "creator": "gregor@apache.org", "attachment_id": null, "is_private": false, "id": 70047, "time": "2005-01-24T23:18:10Z", "bug_id": 31986, "creation_time": "2005-01-24T23:18:10Z", "text": "this has been fixed. the problem was that code tried to delete a file that was\nstill referenced in an open file stream. "}, {"count": 3, "tags": [], "creator": "A.Kuckartz@ping.de", "attachment_id": null, "is_private": false, "id": 70056, "time": "2005-01-25T08:13:37Z", "bug_id": 31986, "creation_time": "2005-01-25T08:13:37Z", "text": "Already fixed for 1.2.2. See previous comment."}]