[{"count": 0, "tags": [], "creator": "jmlennon@us.ibm.com", "attachment_id": null, "id": 46579, "creation_time": "2003-10-31T15:33:25Z", "time": "2003-10-31T15:33:25Z", "bug_id": 24296, "text": "The new import task, though excellent in almost every other respect ;-),\nfails to find \"absolute\" files whose paths lack a leading drive specifier.\nFor example:\n\nC:\\temp>cat import-bug.xml\n<project name=\"import-bug\">\n  <!-- This \"import\" succeeds; path starts with \"c:\" -->\n  <import file=\"c:/temp/import.xml\"/>\n  <!-- This \"import\" fails; path lacks drive specifier -->\n  <import file=\"/temp/import.xml\"/>\n</project>\n\nC:\\temp>cat import.xml\n<project name=\"import\">\n  <echo message=\"import\"/>\n</project>\n\nC:\\temp>ant -f import-bug.xml\nBuildfile: import-bug.xml\n     [echo] import\n\nBUILD FAILED\nC:\\temp\\import-bug.xml:5: Cannot find /temp/import.xml imported from \nC:\\temp\\import-bug.xml\n\nTotal time: 0 seconds\nC:\\temp>ant -version\nApache Ant version 1.6beta2 compiled on October 16 2003\nC:\\temp>\n\nThe problem stems from the use of \"File.isAbsolute()\" in ImportTask.java.\nOn Windows platforms, \"isAbsolute()\" considers path names beginning with a\nleading slash to be relative paths.  So you would need to check for a\nleading \"/\" or \"\\\" in the import file's path.  I hacked up my local\nversion of Ant with this fix and it seemed to do the trick.\n\nThanks!", "is_private": false}, {"count": 1, "tags": [], "creator": "colinml1@exis.com", "attachment_id": null, "text": "Files with only a leading slash and no leading drive on Windows _are_ relative,\nat least to the extent that they are not fully absolute. They are relative to\nthe current drive, as opposed to the current dir.\n\nOn this basis, any code that only deals with the idea of just relative and\nabsolute thus has to treat this case as relative. If it can handle the windows,\n'drive-relative' case as well, that's even better of course.", "id": 46580, "time": "2003-10-31T15:52:29Z", "bug_id": 24296, "creation_time": "2003-10-31T15:52:29Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 24296, "text": "I made a change to use FileUtils#resolveFile which is used\nelse where in the code to handle these problems.\nThis should work now for windows, but I do not\nhave windows, so if someone could test this on windows....\n", "id": 46581, "time": "2003-10-31T16:15:49Z", "creator": "peter.reilly@corvil.com", "creation_time": "2003-10-31T16:15:49Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 24296, "text": "This should be fixed in current ant cvs 1.6 branch head", "id": 47559, "time": "2003-11-18T17:44:25Z", "creator": "peter.reilly@corvil.com", "creation_time": "2003-11-18T17:44:25Z", "is_private": false, "attachment_id": null}]