[{"count": 0, "tags": [], "text": "I tried the following rewrite rule in .htaccess file, which causes \ninfinite loop, and Apache memory usage is increased until there \nis free memory (and finally a crash is likely):\nRewriteRule ^(.*)(/index.html)?$   /script.cgi?cat=$1\n\nTest URL: http://www.site.com/Computers/Printers\n\n\nI think the infinite loops should be avoided by implementing\na security loop counter option, which stops the cycle\nafter X loops.\n\nMy suggestion:\n1) Add an option to RewriteOptions, named \"SecurityLoop\".\nRewriteOptions securityloop=[number]\n2) When security_loop number is reached, the following log entry \nwould be written into RewriteLog:\n\"SecurityLoop: X number of loops executed in a row, further loops \nare skipped to avoid server crash. Check if your rewrite rules \nare correct or set RewriteOptions SecurityLoop=0 to allow infinite loops.\"\n\nBy Default the SecurityLoop value should be set to 200.\nI think, 200 is not as low to make problems, but still low enough \nto avoid infinite loops.\n\nExamples:\n- \"RewriteOptions SecurityLoop=0\" would mean that the feature\nis turned off, so infinite loops can be happen.\n- \"RewriteOptions SecurityLoop=200\" would mean that loops \nwill stop after 200 cycle. Additionally, a rewritelog entry should\nbe added, which warns the admin, that likely an infinite loop case\nwas avoided.\n\nI hope you will like the idea, and will be implemented in later\n1.3.x & 2.x releases.\n\nThanks,\nWebmaster33\n(using Apache v1.3.27)", "attachment_id": null, "id": 45439, "creator": "webmaster33@bigfoot.com", "time": "2003-10-12T16:38:56Z", "bug_id": 23753, "creation_time": "2003-10-12T16:38:56Z", "is_private": false}, {"count": 1, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "text": "You're too late. Such a protection was implemented in 1.3.28 ;-)\n\nThanks anyway.", "id": 45440, "time": "2003-10-12T16:48:57Z", "bug_id": 23753, "creation_time": "2003-10-12T16:48:57Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 23753, "attachment_id": null, "id": 45441, "time": "2003-10-12T16:54:28Z", "creator": "webmaster33@bigfoot.com", "creation_time": "2003-10-12T16:54:28Z", "is_private": false, "text": "Really???\nWill install Apache v1.3.28 immediately!\n\nThanks very much!"}, {"count": 3, "tags": [], "creator": "erik@codefaktor.de", "attachment_id": null, "text": "For future references: see also PR#17462\nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=17462", "id": 45442, "time": "2003-10-12T16:59:02Z", "bug_id": 23753, "creation_time": "2003-10-12T16:59:02Z", "is_private": false}]