[{"count": 0, "attachment_id": null, "creator": "luke@cywh.com", "is_private": false, "id": 143486, "time": "2011-01-19T17:07:37Z", "bug_id": 50621, "creation_time": "2011-01-19T17:07:37Z", "tags": [], "text": "If you set FcgidWrapper in .htaccess on every HTTP request to a .php file a new php-fcgid process is spawned. If I set FcgidWrapper in the httpd.conf under a virtual host this does not happened (the previous process is used). Eventually this maxed out the number of processes on my machine (using ps outputs \"resource temporarily unavailable\").\n\n(NOTE: I'm currently using Apache 2.2.14 because I was unable to build anything after that w/ mod_fcgid due to bug #50112 (hasn't been resolved))\n\nMy configuration options in httpd.conf for mod_fcgid are:\n\n\nFcgidIOTimeout 300\nFcgidIdleTimeout 300\nFcgidMaxProcesses 20\nFcgidInitialEnv PHP_FCGI_MAX_REQUESTS\t   1000\nFcgidMaxRequestsPerProcess\t 1000\n\n<Files ~ (\\.php)>\nOptions +ExecCGI\n</Files>\n\n\nAnd in my .htaccess file I have:\n\n\nAddHandler fcgid-script .php\nFcgidWrapper /Server/software/php53/bin/php-cgi .php\n\n\nI tried moving \"AddHandler\" to httpd.conf with just \"FcgidWrapper\" and it still happened. I'm using mod_fcgid 2.3.5.\n\nI don't think this is dependent on the Mac platform. I'm pretty sure this will happen on the Linux platform as well (but I haven't tested)."}, {"count": 1, "tags": [], "creator": "wrowe@apache.org", "attachment_id": null, "is_private": false, "id": 152944, "time": "2012-01-19T17:42:35Z", "bug_id": 50621, "creation_time": "2012-01-19T17:42:35Z", "text": "By design, .htaccess is processed on each request.  There is no mechanism for\ninfluencing resource pools such as fcgid's.  .htaccess is not your friend.\n\nPlease take config questions over to the users@ peer support list."}]