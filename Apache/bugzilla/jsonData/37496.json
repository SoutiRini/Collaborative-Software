[{"text": "On some generated SVGs I get the following exception when trying to include the \nSVG in a PDF via FOP. The SVG can be displayed correctly with an SVG viewer, so \nthe SVG isn't corrupt. Unfortunately, I can't use the latest Batik as Apache \nFOP is tied to Batik 1.5 (I tried but then FOP 0.20.5 doesn't work anymore). So \nI hope to find a workaround for this bug with Batik 1.5:\n\nsvg graphic could not be built: \nfile:/E:/iComps/amc/reports/7whvGXAN4boGDqySrxtwcfNAqK8eQwthsMhNqZ0ZzrQ=/C_PerfC\nons_S.svg:28\nThe attribute 'transform' of the element <path> is invalid \n[de.icomps.amc.bl.CaseReportClientMulti:de.icomps.xml.FOP]\n                                org.apache.batik.bridge.BridgeException: \nfile:/E:/iComps/amc/reports/7whvGXAN4boGDqySrxtwcfNAqK8eQwthsMhNqZ0ZzrQ=/C_PerfC\nons_S.svg:28\nThe attribute 'transform' of the element <path> is invalid\n                                \tat \norg.apache.batik.bridge.SVGUtilities.convertTransform(SVGUtilities.java:852)\n                                \tat \norg.apache.batik.bridge.AbstractGraphicsNodeBridge.createGraphicsNode\n(AbstractGraphicsNodeBridge.java:92)\n                                \tat \norg.apache.batik.bridge.SVGShapeElementBridge.createGraphicsNode\n(SVGShapeElementBridge.java:50)\n                                \tat \norg.apache.batik.bridge.GVTBuilder.buildGraphicsNode(GVTBuilder.java:182)\n                                \tat \norg.apache.batik.bridge.GVTBuilder.buildComposite(GVTBuilder.java:148)\n                                \tat \norg.apache.batik.bridge.GVTBuilder.buildGraphicsNode(GVTBuilder.java:188)\n                                \tat \norg.apache.batik.bridge.GVTBuilder.buildComposite(GVTBuilder.java:148)\n                                \tat \norg.apache.batik.bridge.GVTBuilder.buildGraphicsNode(GVTBuilder.java:188)\n                                \tat \norg.apache.batik.bridge.GVTBuilder.buildComposite(GVTBuilder.java:148)\n                                \tat \norg.apache.batik.bridge.GVTBuilder.build(GVTBuilder.java:120)\n                                \tat \norg.apache.batik.bridge.SVGImageElementBridge.createSVGImageNode\n(SVGImageElementBridge.java:328)\n                                \tat \norg.apache.batik.bridge.SVGImageElementBridge.createGraphicsNode\n(SVGImageElementBridge.java:118)\n                                \tat \norg.apache.batik.bridge.GVTBuilder.buildGraphicsNode(GVTBuilder.java:182)\n                                \tat \norg.apache.batik.bridge.GVTBuilder.buildComposite(GVTBuilder.java:148)\n                                \tat \norg.apache.batik.bridge.GVTBuilder.build(GVTBuilder.java:76)\n                                \tat \norg.apache.fop.render.pdf.PDFRenderer.renderSVGDocument(PDFRenderer.java:590)\n                                \tat \norg.apache.fop.render.pdf.PDFRenderer.renderSVGArea(PDFRenderer.java:549)\n                                \tat org.apache.fop.svg.SVGArea.render\n(SVGArea.java:98)\n                                \tat \norg.apache.fop.render.pdf.PDFRenderer.renderForeignObjectArea\n(PDFRenderer.java:533)\n                                \tat \norg.apache.fop.layout.inline.ForeignObjectArea.render(ForeignObjectArea.java:89)\n                                \tat \norg.apache.fop.render.AbstractRenderer.renderLineArea(AbstractRenderer.java:516)\n                                \tat org.apache.fop.layout.LineArea.render\n(LineArea.java:519)\n                                \tat \norg.apache.fop.render.AbstractRenderer.renderBlockArea\n(AbstractRenderer.java:485)\n                                \tat \norg.apache.fop.layout.BlockArea.render(BlockArea.java:117)\n                                \tat \norg.apache.fop.render.AbstractRenderer.renderBlockArea\n(AbstractRenderer.java:485)\n                                \tat \norg.apache.fop.layout.BlockArea.render(BlockArea.java:117)\n                                \tat \norg.apache.fop.render.AbstractRenderer.renderAreaContainer\n(AbstractRenderer.java:451)\n                                \tat \norg.apache.fop.layout.AreaContainer.render(AreaContainer.java:88)\n                                \tat \norg.apache.fop.render.AbstractRenderer.renderAreaContainer\n(AbstractRenderer.java:451)\n                                \tat \norg.apache.fop.layout.AreaContainer.render(AreaContainer.java:88)\n                                \tat \norg.apache.fop.render.AbstractRenderer.renderAreaContainer\n(AbstractRenderer.java:451)\n                                \tat \norg.apache.fop.layout.AreaContainer.render(AreaContainer.java:88)\n                                \tat \norg.apache.fop.render.AbstractRenderer.renderAreaContainer\n(AbstractRenderer.java:451)\n                                \tat \norg.apache.fop.layout.AreaContainer.render(AreaContainer.java:88)\n                                \tat \norg.apache.fop.render.AbstractRenderer.renderAreaContainer\n(AbstractRenderer.java:451)\n                                \tat \norg.apache.fop.layout.ColumnArea.render(ColumnArea.java:71)\n                                \tat \norg.apache.fop.render.AbstractRenderer.renderSpanArea(AbstractRenderer.java:100)\n                                \tat org.apache.fop.layout.SpanArea.render\n(SpanArea.java:94)\n                                \tat \norg.apache.fop.render.AbstractRenderer.renderBodyAreaContainer\n(AbstractRenderer.java:368)\n                                \tat \norg.apache.fop.layout.BodyAreaContainer.render(BodyAreaContainer.java:137)\n                                \tat \norg.apache.fop.render.AbstractRenderer.renderRegions(AbstractRenderer.java:529)\n                                \tat \norg.apache.fop.render.pdf.PDFRenderer.renderPage(PDFRenderer.java:904)\n                                \tat \norg.apache.fop.render.pdf.PDFRenderer.render(PDFRenderer.java:880)\n                                \tat \norg.apache.fop.apps.StreamRenderer.queuePage(StreamRenderer.java:302)\n                                \tat \norg.apache.fop.layout.AreaTree.addPage(AreaTree.java:108)\n                                \tat \norg.apache.fop.fo.pagination.PageSequence.makePage(PageSequence.java:415)\n                                \tat \norg.apache.fop.fo.pagination.PageSequence.format(PageSequence.java:338)\n                                \tat \norg.apache.fop.apps.StreamRenderer.render(StreamRenderer.java:262)\n                                \tat \norg.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:223)\n                                \tat \norg.apache.xml.serializer.ToXMLSAXHandler.endElement(ToXMLSAXHandler.java:261)\n                                \tat \norg.apache.xalan.templates.ElemLiteralResult.execute\n(ElemLiteralResult.java:1399)\n                                \tat \norg.apache.xalan.transformer.TransformerImpl.executeChildTemplates\n(TransformerImpl.java:2411)\n                                \tat \norg.apache.xalan.templates.ElemLiteralResult.execute\n(ElemLiteralResult.java:1374)\n                                \tat \norg.apache.xalan.transformer.TransformerImpl.executeChildTemplates\n(TransformerImpl.java:2411)\n                                \tat \norg.apache.xalan.transformer.TransformerImpl.applyTemplateToNode\n(TransformerImpl.java:2281)\n                                \tat \norg.apache.xalan.transformer.TransformerImpl.transformNode\n(TransformerImpl.java:1367)\n                                \tat \norg.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)\n                                \tat \norg.apache.xalan.transformer.TransformerImpl.transform\n(TransformerImpl.java:1284)\n                                \tat \norg.apache.xalan.transformer.TransformerImpl.transform\n(TransformerImpl.java:1262)", "tags": [], "bug_id": 37496, "attachment_id": null, "count": 0, "id": 82472, "time": "2005-11-14T17:09:55Z", "creator": "mhilpert@gmx.de", "creation_time": "2005-11-14T17:09:55Z", "is_private": false}, {"count": 1, "tags": [], "creator": "jeremias@apache.org", "attachment_id": null, "is_private": false, "id": 82479, "time": "2005-11-14T18:17:26Z", "bug_id": 37496, "creation_time": "2005-11-14T18:17:26Z", "text": "You can download the FOP maintenance branch [1]. This is the branch where FOP\n0.20.5 came from and the code there has been adjusted to compile with Batik 1.6.\nWe simply haven't released that code, but it's said to be stable. If that\ndoesn't help you might want to attach a sample so we can easily reproduce your\nproblem.\n\n[1] svn co\nhttp://svn.apache.org/repos/asf/xmlgraphics/fop/branches/fop-0_20_2-maintain/"}, {"count": 2, "tags": [], "text": "*** Bug 37497 has been marked as a duplicate of this bug. ***", "attachment_id": null, "bug_id": 37496, "id": 82481, "time": "2005-11-14T18:19:58Z", "creator": "jeremias@apache.org", "creation_time": "2005-11-14T18:19:58Z", "is_private": false}, {"text": "This likely isn't an issue any longer.", "tags": [], "bug_id": 37496, "attachment_id": null, "count": 3, "id": 108524, "time": "2007-09-24T04:14:31Z", "creator": "cam@apache.org", "creation_time": "2007-09-24T04:14:31Z", "is_private": false}, {"count": 4, "tags": [], "creator": "mhilpert@gmx.de", "attachment_id": null, "is_private": false, "id": 147594, "time": "2011-06-29T10:10:01Z", "bug_id": 37496, "creation_time": "2011-06-29T10:10:01Z", "text": "Unfortunately, it occured today again - with FOP 1.0 (that has Batik 1.7):\n\n\n\njava.lang.RuntimeException: SVG graphic could not be built. Reason: java.lang.RuntimeException: SVG error: file:/c:/temp/0b81065d-1d31-43b4-a94f-57d5453942c9/C_Single_L.svg:-1\nThe attribute \"transform\" of the element <text> is invalid\n    \tat org.apache.fop.events.EventExceptionManager.throwException(EventExceptionManager.java:72)\n    \tat org.apache.fop.events.DefaultEventBroadcaster$1.invoke(DefaultEventBroadcaster.java:175)\n    \tat $Proxy1.svgNotBuilt(Unknown Source)\n    \tat org.apache.fop.render.pdf.PDFImageHandlerSVG.handleImage(PDFImageHandlerSVG.java:98)\n    \tat org.apache.fop.render.intermediate.AbstractIFPainter.drawImage(AbstractIFPainter.java:227)\n    \tat org.apache.fop.render.intermediate.AbstractIFPainter.drawImage(AbstractIFPainter.java:183)\n    \tat org.apache.fop.render.intermediate.AbstractIFPainter.drawImageUsingImageHandler(AbstractIFPainter.java:148)\n    \tat org.apache.fop.render.intermediate.AbstractIFPainter.drawImageUsingDocument(AbstractIFPainter.java:297)\n    \tat org.apache.fop.render.pdf.PDFPainter.drawImage(PDFPainter.java:204)\n    \tat org.apache.fop.render.intermediate.IFRenderer.renderForeignObject(IFRenderer.java:1189)\n    \tat org.apache.fop.render.AbstractRenderer.renderViewport(AbstractRenderer.java:745)\n    \tat org.apache.fop.render.AbstractPathOrientedRenderer.renderViewport(AbstractPathOrientedRenderer.java:709)\n    \tat org.apache.fop.render.intermediate.IFRenderer.renderViewport(IFRenderer.java:860)\n    \tat org.apache.fop.render.AbstractRenderer.renderInlineArea(AbstractRenderer.java:634)\n    \tat org.apache.fop.render.intermediate.IFRenderer.renderInlineArea(IFRenderer.java:912)\n    \tat org.apache.fop.render.AbstractRenderer.renderLineArea(AbstractRenderer.java:609)\n    \tat org.apache.fop.render.AbstractRenderer.renderBlocks(AbstractRenderer.java:544)\n    \tat org.apache.fop.render.AbstractRenderer.renderBlock(AbstractRenderer.java:581)\n    \tat org.apache.fop.render.intermediate.IFRenderer.renderBlock(IFRenderer.java:976)\n    \tat org.apache.fop.render.AbstractRenderer.renderBlocks(AbstractRenderer.java:534)\n    \tat org.apache.fop.render.AbstractRenderer.renderBlock(AbstractRenderer.java:581)\n    \tat org.apache.fop.render.intermediate.IFRenderer.renderBlock(IFRenderer.java:976)\n    \tat org.apache.fop.render.AbstractRenderer.renderBlocks(AbstractRenderer.java:534)\n    \tat org.apache.fop.render.AbstractPathOrientedRenderer.renderReferenceArea(AbstractPathOrientedRenderer.java:637)\n    \tat org.apache.fop.render.AbstractRenderer.renderBlock(AbstractRenderer.java:568)\n    \tat org.apache.fop.render.intermediate.IFRenderer.renderBlock(IFRenderer.java:976)\n    \tat org.apache.fop.render.AbstractRenderer.renderBlocks(AbstractRenderer.java:534)\n    \tat org.apache.fop.render.AbstractRenderer.renderBlock(AbstractRenderer.java:581)\n    \tat org.apache.fop.render.intermediate.IFRenderer.renderBlock(IFRenderer.java:976)\n    \tat org.apache.fop.render.AbstractRenderer.renderBlocks(AbstractRenderer.java:534)\n    \tat org.apache.fop.render.AbstractRenderer.renderFlow(AbstractRenderer.java:432)\n    \tat org.apache.fop.render.AbstractPathOrientedRenderer.renderFlow(AbstractPathOrientedRenderer.java:665)\n    \tat org.apache.fop.render.AbstractRenderer.renderMainReference(AbstractRenderer.java:411)\n    \tat org.apache.fop.render.AbstractRenderer.renderBodyRegion(AbstractRenderer.java:345)\n    \tat org.apache.fop.render.AbstractRenderer.renderRegionViewport(AbstractRenderer.java:292)\n    \tat org.apache.fop.render.intermediate.IFRenderer.renderRegionViewport(IFRenderer.java:731)\n    \tat org.apache.fop.render.AbstractRenderer.renderPageAreas(AbstractRenderer.java:265)\n    \tat org.apache.fop.render.AbstractRenderer.renderPage(AbstractRenderer.java:230)\n    \tat org.apache.fop.render.intermediate.IFRenderer.renderPage(IFRenderer.java:580)\n    \tat org.apache.fop.area.RenderPagesModel.addPage(RenderPagesModel.java:114)\n    \tat org.apache.fop.layoutmgr.AbstractPageSequenceLayoutManager.finishPage(AbstractPageSequenceLayoutManager.java:312)\n    \tat org.apache.fop.layoutmgr.PageSequenceLayoutManager.finishPage(PageSequenceLayoutManager.java:167)\n    \tat org.apache.fop.layoutmgr.PageSequenceLayoutManager.activateLayout(PageSequenceLayoutManager.java:109)\n    \tat org.apache.fop.area.AreaTreeHandler.endPageSequence(AreaTreeHandler.java:238)\n    \tat org.apache.fop.fo.pagination.PageSequence.endOfNode(PageSequence.java:120)\n    \tat org.apache.fop.fo.FOTreeBuilder$MainFOHandler.endElement(FOTreeBuilder.java:349)\n    \tat org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:177)\n    \tat org.apache.xalan.transformer.TransformerIdentityImpl.endElement(TransformerIdentityImpl.java:1102)\n    \tat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n    \tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n    \tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n    \tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n    \tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n    \tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n    \tat org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:485)"}]