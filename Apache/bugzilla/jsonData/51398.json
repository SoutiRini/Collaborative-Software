[{"count": 0, "tags": [], "text": "Created attachment 27181\nProposed patch\n\nHi,\n\nhere is a patch that makes a few cleans up.\n\nmodified files are :\n\n  - server/util.c : use apr_pstrmemdup instead of apr_pstrdup in order to avoid a call to strlen. Compute the length first and use it twice.\n\n  - server/vhost.c : reorder code to do as above.\n  - modules/proxy/proxy_util.c : same\n  - modules/aaa/mod_authnz_ldap.c : more or less the same\n  - modules/mappers/mod_rewrite.c : same\n  - modules/dav/main/mod_dav.c : same\n  - modules/dav/fs/repos.c : more or less the same\n\n  - modules/proxy/mod_serf.c : use strcmp instead of strcasecmp when possible\n                             : avoid a call to apr_pstrndup <-- PLEASE DOUBLE CHECK THIS ONE TO SEE IF THERE IS NO SIDE EFFECT\n\n  - modules/cluster/mod_heartmonitor.c : use 'ap_rputs' instead of 'ap_rprintf'\n\n\nBefore apply the patch, please at least double check 'modules/proxy/mod_serf.c' to make sure that there is no side effect. The other ones should be ok as-is.\n\nHope this helps.", "attachment_id": 27181, "id": 147293, "creator": "christophe.jaillet@wanadoo.fr", "time": "2011-06-20T21:33:09Z", "bug_id": 51398, "creation_time": "2011-06-20T21:33:09Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 51398, "text": "committed as r1138627 with compile fixes to mod_heartmonitor.c and mod_serv.c", "count": 1, "id": 147379, "time": "2011-06-22T20:47:24Z", "creator": "sf@sfritsch.de", "creation_time": "2011-06-22T20:47:24Z", "is_private": false}]