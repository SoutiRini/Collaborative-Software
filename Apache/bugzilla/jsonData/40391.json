[{"count": 0, "tags": [], "bug_id": 40391, "is_private": false, "text": "In the default publication the menu entries for the various editors are within\nthe resource types (xhtml and homepage).\n\nThis should be handled by the editor modules instead.", "id": 92900, "time": "2006-09-01T16:44:58Z", "creator": "jonathan.addison@wyona.com", "creation_time": "2006-09-01T16:44:58Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "jonathan.addison@wyona.com", "attachment_id": 18803, "is_private": false, "id": 92901, "time": "2006-09-01T16:45:57Z", "bug_id": 40391, "creation_time": "2006-09-01T16:45:57Z", "text": "Created attachment 18803\nmoves editor menu entries from resource types to the editor modules"}, {"count": 2, "tags": [], "text": "This patch depends on Joern's usecase-naming fix for bug #39796.\n\nThe new usecase names in the menu.xsp files are those provided by Joern.\n\nWithout also applying his patch the editor menu entries will be greyed out.", "is_private": false, "bug_id": 40391, "id": 92902, "time": "2006-09-01T16:48:33Z", "creator": "jonathan.addison@wyona.com", "creation_time": "2006-09-01T16:48:33Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "id": 93015, "time": "2006-09-05T08:20:59Z", "bug_id": 40391, "creation_time": "2006-09-05T08:20:59Z", "is_private": false, "text": "I object to this patch:\n\n+++ src/modules/editors/config/menu.xsp\t(revision 0)\n[...]\n+            if (\"xhtml\".equals(doctype) || \"homepage\".equals(doctype)) {\n\nThis violates orthognoality.\nYou can't add custom resource types without patching the editor module(s).\nIMO it makes more sense to have it the other way round (like it is now), because\nadding new resource types is certainly more usual than adding new editors."}, {"count": 4, "tags": [], "creator": "jonathan.addison@wyona.com", "attachment_id": null, "id": 93112, "time": "2006-09-06T19:47:21Z", "bug_id": 40391, "creation_time": "2006-09-06T19:47:21Z", "is_private": false, "text": "This patch was only a proposal.  I agree with your points so let's forget this\npatch for now, but the original problem still exists.\n\nYou said:\n\"You can't add custom resource types without patching the editor module(s).\nIMO it makes more sense to have it the other way round (like it is now), because\nadding new resource types is certainly more usual than adding new editors.\"\n\nBut this highlights the problem.  Whether one way is more normal does not\nmatter, because there is a dependency in either case.  Currently if I don't want\nthe bxe editor, or kupu, or one form, all of the resource type modules have to\nbe patched.  And overwriting menu.xsp in the pub is just a way of circumventing\nthe problem.\n\nSo maybe neither the editor modules or resource type modules should have menus\nand it could be handled in the publication menus.  Any other ideas/solutions\nappreciated."}, {"count": 5, "tags": [], "text": "(In reply to comment #4)\n\n[...]\n\n> So maybe neither the editor modules or resource type modules should have menus\n> and it could be handled in the publication menus.\n\nIMO a quite useful solution would be to\n\n- change module declaration to a complete list of single modules, thus\n- allow to easily exclude the BXE module (and other modules) and\n- hide the BXE menu items if the BXE module is not installed.\n", "attachment_id": null, "bug_id": 40391, "id": 93226, "time": "2006-09-08T15:19:52Z", "creator": "andreas@apache.org", "creation_time": "2006-09-08T15:19:52Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 40391, "is_private": false, "text": "(In reply to comment #5)\n> (In reply to comment #4)\n> \n> [...]\n> \n> > So maybe neither the editor modules or resource type modules should have menus\n> > and it could be handled in the publication menus.\n> \n> IMO a quite useful solution would be to\n> \n> - change module declaration to a complete list of single modules, thus\nOr perhaps support module root directories and/or single module directory\ndeclaration \n\nmodules.root.dirs=src/modules-core\nmodules.dirs=src/modules/bxe:src/modules/fckeditor:...\n\n> - allow to easily exclude the BXE module (and other modules) and\n> - hide the BXE menu items if the BXE module is not installed.\n> ", "id": 93229, "time": "2006-09-08T15:29:46Z", "creator": "dhc4z@virginia.edu", "creation_time": "2006-09-08T15:29:46Z", "attachment_id": null}, {"count": 7, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "id": 93231, "time": "2006-09-08T15:37:49Z", "bug_id": 40391, "creation_time": "2006-09-08T15:37:49Z", "is_private": false, "text": "(In reply to comment #6)\n\n> Or perhaps support module root directories and/or single module directory\n> declaration \n> \n> modules.root.dirs=src/modules-core\n> modules.dirs=src/modules/bxe:src/modules/fckeditor:...\n\nIMO it's still very hard to maintain such a file.\nI'd prefer something like this:\n\n<modules>\n  <module src=\".../bxe\"/>\n  <module src=\".../jackrabbit\"/>\n  <modules src=\".../mycompany/lenya/modules\"/>\n</modules>"}, {"count": 8, "tags": [], "creator": "jonathan.addison@wyona.com", "attachment_id": null, "is_private": false, "id": 93979, "time": "2006-09-21T22:23:44Z", "bug_id": 40391, "creation_time": "2006-09-21T22:23:44Z", "text": "> I'd prefer something like this:\n>\n> <modules>\n>   <module src=\".../bxe\"/>\n>   <module src=\".../jackrabbit\"/>\n>   <modules src=\".../mycompany/lenya/modules\"/>\n> </modules>\n\nI would prefer this as well.  Actually this is already implemented for several\nmodules, as you can see by looking at the fckeditor module.\n\nIn fact this proposed patch was just applying the fckeditor implementation to\nthe other editor modules so that they were all consistent.\n\nAndreas, as you said in your commit message to the fckeditor module (rev\n433635), \"FCK editor: fix SoC wrt menu item generation. adds two files,\nmenu.xmap and config/menu.xsp\".  This is exactly what this patch does for the\nother editors."}, {"count": 9, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "is_private": false, "id": 93987, "time": "2006-09-22T07:28:10Z", "bug_id": 40391, "creation_time": "2006-09-22T07:28:10Z", "text": "(In reply to comment #8)\n\n[...]\n\n> Andreas, as you said in your commit message to the fckeditor module (rev\n> 433635), \"FCK editor: fix SoC wrt menu item generation. adds two files,\n> menu.xmap and config/menu.xsp\".  This is exactly what this patch does for the\n> other editors.\n\nI stand convicted - I should have taken a closer look at the patch :/\n"}, {"count": 10, "tags": [], "bug_id": 40391, "attachment_id": null, "text": "I guess this needs some more discussion.", "id": 102667, "time": "2007-04-30T08:49:54Z", "creator": "andreas@apache.org", "creation_time": "2007-04-30T08:49:54Z", "is_private": false}, {"count": 11, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "is_private": false, "id": 105757, "time": "2007-07-18T09:48:49Z", "bug_id": 40391, "creation_time": "2007-07-18T09:48:49Z", "text": "How about this:\n\nResourceType.getParameter(...)\n\n<component-instance name=\"xhtml\">\n  ...\n  <parameter name=\"editors\">\n    <value>bxe</value>\n    <value>kupu</value>\n    ...\n  </parameter>\n</component-instance>"}, {"count": 12, "tags": [], "bug_id": 40391, "is_private": false, "text": "Comment on attachment 18803\nmoves editor menu entries from resource types to the editor modules\n\nIt was agreed that the patch should not be applied.", "id": 114875, "time": "2008-03-22T14:52:50Z", "creator": "andreas@apache.org", "creation_time": "2008-03-22T14:52:50Z", "attachment_id": 18803}, {"count": 13, "tags": [], "creator": "andreas@apache.org", "attachment_id": null, "id": 114876, "time": "2008-03-22T14:54:55Z", "bug_id": 40391, "creation_time": "2008-03-22T14:54:55Z", "is_private": false, "text": "Is there still interest in changing the current situation? I still think that it's quite OK to have editor menu items in the resource types menus. If we have to change the resource type API, we should probably postpone the issue to a future major release."}, {"count": 14, "tags": [], "creator": "nettings@apache.org", "attachment_id": null, "id": 114903, "time": "2008-03-23T15:44:40Z", "bug_id": 40391, "creation_time": "2008-03-23T15:44:40Z", "is_private": false, "text": "i'm fine with the current situation. experience taught me that in real-world deployments, editors will always be tweaked to better match resource types and vice versa, so it's not really realistic to consider editors and doctypes as completely orthogonal :(\n"}, {"count": 15, "tags": [], "bug_id": 40391, "attachment_id": null, "text": "I'll close this bug. If someone is still not pleased with the current situation, please re-open.", "id": 115217, "time": "2008-04-01T17:01:02Z", "creator": "andreas@apache.org", "creation_time": "2008-04-01T17:01:02Z", "is_private": false}]