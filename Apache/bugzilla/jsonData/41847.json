[{"count": 0, "tags": [], "bug_id": 41847, "text": "UnitOfWorkImpl.rollback() doesn't properly unlock the Transactionable t. Doing\nsome testing for another problem, t usually is a SourceNode. To get the lock to\nwork under a SourceNode it must be checked out by the current user. However,\nrollback() unlocks anything that was locked, no matter who checked it out. The\npatch protects the unlock by isCheckedOutByUser and unlocks it before checking\nit in, which seems to be the proper order.", "id": 100428, "time": "2007-03-15T07:07:08Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-03-15T07:07:08Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 19710\nChecks to make sure user has checked file out before unlocking", "attachment_id": 19710, "id": 100430, "creation_time": "2007-03-15T07:07:43Z", "time": "2007-03-15T07:07:43Z", "creator": "rfrovarp@apache.org", "bug_id": 41847, "is_private": false}, {"count": 2, "tags": [], "text": "Actually this shouldn't be necessary, since all transactionable objects should\nbe local to the UnitOfWorkObject, i.e. they are created by the current user.", "attachment_id": null, "id": 100570, "creation_time": "2007-03-19T02:29:04Z", "time": "2007-03-19T02:29:04Z", "creator": "andreas@apache.org", "bug_id": 41847, "is_private": false}, {"count": 3, "tags": [], "bug_id": 41847, "attachment_id": null, "id": 100575, "time": "2007-03-19T03:20:18Z", "creator": "andreas@apache.org", "creation_time": "2007-03-19T03:20:18Z", "is_private": false, "text": "Would it be possible to create a test case for this bug?"}, {"count": 4, "tags": [], "bug_id": 41847, "attachment_id": null, "text": "I see it's changed. It used to be that any page that was visited was added to\nthe list. Which is why it is checking to make sure it is checked out by the\ncurrent user. It would appear that the issue has been cleared up. Although the\npatch might make it clear as to what is going on and help guard against any\nfuture issues. I'll leave it up to you to decide.", "id": 100609, "time": "2007-03-19T11:26:00Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-03-19T11:26:00Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 41847, "text": "I don't really dare to touch the repo layer now, let's schedule that for 1.4.1.", "id": 102449, "time": "2007-04-26T06:11:58Z", "creator": "andreas@apache.org", "creation_time": "2007-04-26T06:11:58Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "nettings@apache.org", "attachment_id": null, "id": 102457, "time": "2007-04-26T06:34:13Z", "bug_id": 41847, "creation_time": "2007-04-26T06:34:13Z", "is_private": false, "text": "+1"}]