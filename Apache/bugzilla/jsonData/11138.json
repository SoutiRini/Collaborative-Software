[{"count": 0, "tags": [], "text": "<include name=\"**/*.bat\"/ contains=\"ejb\">\n\nIt would be nice if include tag has contains attribute .\ni.e it include only those field that is contained in contains attrbiute\n\nIt would make life simpler!!", "is_private": false, "bug_id": 11138, "id": 20146, "time": "2002-07-24T18:42:59Z", "creator": "mahesh_palan@calypso-tech.com", "creation_time": "2002-07-24T18:42:59Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "http://jakarta.apache.org/ant/manual/dirtasks.html#patterns\n\nBefore submitting bugs, please take time to:\n\n- check if what you have requested does not already exists...has not already \nbeen reported..or has not already been discussed in the mailing list.\n- write a clear and detailed description.\n- fill correctly the attributes with appropriate values (severity, version, \npriority, platform, os)", "attachment_id": null, "id": 20148, "creator": "sbailliez@apache.org", "time": "2002-07-24T18:57:47Z", "bug_id": 11138, "creation_time": "2002-07-24T18:57:47Z", "is_private": false}, {"count": 2, "tags": [], "text": "So it mean you are trying to say include tag match the contents of file ???\n\nI am sorry i should have mention\n\n<include name=\"**/*.bat\"/ containsinfile=\"ejb\"> (NOT IN FILENAME)\n", "is_private": false, "bug_id": 11138, "id": 20149, "time": "2002-07-24T19:16:03Z", "creator": "mahesh_palan@calypso-tech.com", "creation_time": "2002-07-24T19:16:03Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 11138, "attachment_id": null, "is_private": false, "id": 20151, "time": "2002-07-24T19:28:43Z", "creator": "sbailliez@apache.org", "creation_time": "2002-07-24T19:28:43Z", "text": "This is out of question since this is unrealistic from the generalization \npoint of view.\n\nBug invalid and closed."}, {"count": 4, "tags": [], "text": "Check out the <contains> selector that ships with Ant 1.5.  It has what you\nneed.", "attachment_id": null, "id": 20153, "creator": "umagesh@apache.org", "time": "2002-07-24T19:33:28Z", "bug_id": 11138, "creation_time": "2002-07-24T19:33:28Z", "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 11138, "is_private": false, "id": 20155, "time": "2002-07-24T19:54:26Z", "creator": "mahesh_palan@calypso-tech.com", "creation_time": "2002-07-24T19:54:26Z", "tags": [], "text": "Thanks magesh for your kind response."}, {"count": 6, "tags": [], "bug_id": 11138, "attachment_id": null, "id": 20159, "time": "2002-07-24T20:10:12Z", "creator": "sbailliez@apache.org", "creation_time": "2002-07-24T20:10:12Z", "is_private": false, "text": "If it related to this name matching, then this can be achieved by a pattern as \nspecified in the link and as already replied by Magesh in the grep bug.\n\nWhen I read 'containsinfile' and 'NOT IN FILENAME' as a reply to what stated  \nabove, it means for me: look into the 'content' of the file for something \nmatching 'ejb'.. even though it contradicts your first report. But I cannot \nguess what you have in mind when you don't provide a clear description.\n\nIf you want to do something special via custom selectors, task, etc... then go \nfor it, this is all customizable.\n"}, {"count": 7, "tags": [], "text": "Ofcoure I mean contents of file\n\nand ofcourse this can be acheived by\nSelectors\n#######\nSelectors are a mechanism whereby the files that make up a fileset can be \nselected based on criteria other than filename as provided by the <include> and \n<exclude> tags.\n\nContains Selector\nThe <contains> tag in a FileSet limits the files defined by that fileset to \nonly those which contain the string specified by the text attribute. .\n\nAttribute Description Required \ntext Specifies the text that every file must contain  Yes \ncasesensitive Whether to pay attention to case when looking for the string in \nthe text attribute. Default is true.  No \n\n#######\n\nhttp://jakarta.apache.org/ant/manual/CoreTypes/selectors.html\n\n\nI hope I am 100% clear \n\nI need this to \nreplace this command of makefile\nfind . -name \"*.bat\" -print | grep -v \"ejb/\" >> .tarfiles\n\nif you know help me\n\n\nRegards\nMahesh\n\n\n", "attachment_id": null, "id": 20160, "creator": "mahesh_palan@calypso-tech.com", "time": "2002-07-24T20:22:45Z", "bug_id": 11138, "creation_time": "2002-07-24T20:22:45Z", "is_private": false}, {"count": 8, "tags": [], "text": "I still don't get it.\n\nfind . -name \"*.bat\" -print | grep -v \"ejb/\"\n\nDoes not look into the 'content', it filters for the filepath name.\n\nWhat do you want to do 'exactly' ? What is your >> for ?\n", "attachment_id": null, "id": 20161, "creator": "sbailliez@apache.org", "time": "2002-07-24T20:29:48Z", "bug_id": 11138, "creation_time": "2002-07-24T20:29:48Z", "is_private": false}, {"count": 9, "tags": [], "text": "Mahesh,\nFYI, the command\nfind . -name \"*.bat\" -print | grep -v \"ejb/\" \ndoes not look into the \"contents\" of all the \"*.bat\" files.\n\nWhat it does is, list all the file names that end with .bat omitting those file \nnames that contain ejb/ in their *file names* and not their contents.  If the \ncommand was\n\ngrep -v \"ejb/\" `find . -name \"*.bat\" -print`\n\nthen this would find all *.bat files and print the lines inside the returned \nfiles that do not contain the word ejb/ .\n\nSo, in your case, what you want to do is\n<fileset dir=\".\">\n  <include name=\"**/*.bat\" />\n  <exclude name=\"**/*ejb/**/*\" />\n</fileset>\nbecause your equivalent command in Makefile is *not* examining the contents of\nany file.", "attachment_id": null, "id": 20162, "creator": "umagesh@apache.org", "time": "2002-07-24T20:36:46Z", "bug_id": 11138, "creation_time": "2002-07-24T20:36:46Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 11138, "attachment_id": null, "id": 20163, "time": "2002-07-24T20:44:24Z", "creator": "mahesh_palan@calypso-tech.com", "creation_time": "2002-07-24T20:44:24Z", "is_private": false, "text": "ok i got it my mistake!!!!!\n\nI apologize!!!!!!\n\n\nFriends Now no more Threads!!!!!\nRegards\nMahesh"}, {"count": 11, "tags": [], "bug_id": 11138, "attachment_id": null, "id": 20164, "time": "2002-07-24T20:44:53Z", "creator": "ddevienne@lgc.com", "creation_time": "2002-07-24T20:44:53Z", "is_private": false, "text": "You'll run into command line limitation with the command below:\n\ngrep -v \"ejb/\" `find . -name \"*.bat\" -print`\n\nBetter to use the -exec argument of find, or find piped in xargs...\n\nBut of course this is irrelevant to the discussion at hand ;-) --DD"}, {"count": 12, "tags": [], "bug_id": 11138, "is_private": false, "text": "Sure DD. I was just trying to point out the difference in what was written and \nhow it was interpreted :-)", "id": 20165, "time": "2002-07-24T20:47:41Z", "creator": "umagesh@apache.org", "creation_time": "2002-07-24T20:47:41Z", "attachment_id": null}]