[{"count": 0, "tags": [], "bug_id": 61395, "attachment_id": 35208, "text": "Created attachment 35208\nthe log with debug output\n\nLarge server response (ab. 11M) got blocked during recording: while the server gets the request and responds, it never gets back to the browser and isn't get recorded by JMeter. Exactly the same request, but with smaller amount of data gets through and gets recorded without any issue.\n\nThe end of the server log:\n\n10.240.164.237 - - [31/Jul/2017:12:56:21 -0700] \"GET /dmcs/rest/v1/requests/8aed2d04-ce06-46b9-a86d-91f67fae2114/comments?_=1501530950881 HTTP/1.1\" 200 206 \n10.240.164.237 - - [31/Jul/2017:12:56:21 -0700] \"GET /dmcs/rest/v1/requests/8aed2d04-ce06-46b9-a86d-91f67fae2114/attachments?_=1501530950882 HTTP/1.1\" 200 634 \n10.240.164.237 - - [31/Jul/2017:12:56:21 -0700] \"GET /dmcs/css/images/qual_xls_48_full.png HTTP/1.1\" 200 1614 \n10.240.164.237 - - [31/Jul/2017:12:56:28 -0700] \"GET /dmcs/rest/v1/views/4c819c71-4cb4-4498-ad2d-7c93a3ec6b7d/viewpoints/4944ce44-a073-4e4c-be17-6c77322d8411/nodes/?q=top%7Crequest%3A%3A8aed2d04-ce06-46b9-a86d-91f67fae2114&_=1501530950883 HTTP/1.1\" 200 193260 \n10.240.164.237 - - [31/Jul/2017:12:56:30 -0700] \"GET /dmcs/rest/v1/requests/8aed2d04-ce06-46b9-a86d-91f67fae2114/items?expand=item.validations&_=1501530950880 HTTP/1.1\" 200 11771576 \n10.240.164.237 - - [31/Jul/2017:12:56:33 -0700] \"GET /dmcs/rest/v1/views/4c819c71-4cb4-4498-ad2d-7c93a3ec6b7d/viewpoints/4944ce44-a073-4e4c-be17-6c77322d8411/nodes/85204606-a645-4139-a4e0-2a78d0a0b2e3/relationships/06704e43-725b-4266-baae-4e28726e09c8?q=request%3A%3A8aed2d04-ce06-46b9-a86d-91f67fae2114&expand=requestItem.validations&_=1501530950884 HTTP/1.1\" 200 10261 \n\n\nThe  request blocked is /dmcs/rest/v1/requests/8aed2d04-ce06-46b9-a86d-91f67fae2114/items?expand=item.validations&_=1501530950880\n\nSee the log with the debug output attached.", "id": 200243, "time": "2017-08-08T22:39:36Z", "creator": "apodelko@yahoo.com", "creation_time": "2017-08-08T22:39:36Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 61395, "attachment_id": null, "text": "Hi, \n\nsetting in user.properties\nhttpsampler.max_bytes_to_ store_per_request=20000000\n\ndid the trick - the request got recorded and the server response got back to the browser.\n\nThank you very much!\n\nAlex", "id": 200368, "time": "2017-08-18T00:31:59Z", "creator": "apodelko@yahoo.com", "creation_time": "2017-08-18T00:31:59Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 61395, "attachment_id": null, "text": "Hello Alex,\nI am not able to reproduce the non creation of HTTP Request even when response is truncated.\n\nCould you test again to ensure that the request with truncated is really not created.\n\nThanks", "id": 200479, "time": "2017-08-27T13:57:22Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-08-27T13:57:22Z", "is_private": false}, {"count": 3, "tags": [], "creator": "apodelko@yahoo.com", "attachment_id": null, "text": "Yes, it looks like the request got recorded - sorry, didn't recognize it in Jmeter. So the issue is that it block the server response, so next requests/steps can not be recorded. \n\n    <HTTPSamplerProxy guiclass=\"HttpTestSampleGui\" testclass=\"HTTPSamplerProxy\" testname=\"237 /dmcs/rest/v1/requests/8aed2d04-ce06-46b9-a86d-91f67fae2114/items\" enabled=\"true\">\n              <elementProp name=\"HTTPsampler.Arguments\" elementType=\"Arguments\" guiclass=\"HTTPArgumentsPanel\" testclass=\"Arguments\" enabled=\"true\">\n                <collectionProp name=\"Arguments.arguments\">\n                  <elementProp name=\"expand\" elementType=\"HTTPArgument\">\n                    <boolProp name=\"HTTPArgument.always_encode\">false</boolProp>\n                    <stringProp name=\"Argument.name\">expand</stringProp>\n                    <stringProp name=\"Argument.value\">item.validations</stringProp>\n                    <stringProp name=\"Argument.metadata\">=</stringProp>\n                  </elementProp>\n                  <elementProp name=\"_\" elementType=\"HTTPArgument\">\n                    <boolProp name=\"HTTPArgument.always_encode\">false</boolProp>\n                    <stringProp name=\"Argument.name\">_</stringProp>\n                    <stringProp name=\"Argument.value\">1501168109859</stringProp>\n                    <stringProp name=\"Argument.metadata\">=</stringProp>\n                  </elementProp>\n                </collectionProp>\n              </elementProp>", "id": 200674, "time": "2017-09-05T16:14:06Z", "bug_id": 61395, "creation_time": "2017-09-05T16:14:06Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 61395, "attachment_id": null, "text": "Hello Alex,\nThanks for your feedback.\nSo I understand the remaining issue is the following:\n- When recording we should never truncate response (to avoid browser error when reading truncated response ) that would break recording next steps\n\n\nIs this ok for you ?\n\nThanks", "id": 200685, "time": "2017-09-05T20:43:29Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-09-05T20:43:29Z", "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 61395, "text": "yes, looks like a good description of the issue.", "id": 200688, "time": "2017-09-05T22:17:09Z", "creator": "apodelko@yahoo.com", "creation_time": "2017-09-05T22:17:09Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "bug_id": 61395, "attachment_id": null, "id": 200739, "time": "2017-09-07T21:04:17Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-09-07T21:04:17Z", "is_private": false, "text": "Author: pmouawad\nDate: Thu Sep  7 20:57:35 2017\nNew Revision: 1807649\n\nURL: http://svn.apache.org/viewvc?rev=1807649&view=rev\nLog:\nBug 61395 - Large server response truncation can impact recording\nBugzilla Id: 61395\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/threads/JMeterContext.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/Proxy.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSamplerBase.java\n    jmeter/trunk/xdocs/changes.xml"}, {"count": 7, "text": "Hi Alexander, \nIssue should be fixed in next nightly build.\nCan you give it a try and give your feedback.\nRegards", "bug_id": 61395, "attachment_id": null, "id": 200740, "time": "2017-09-07T21:04:56Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-09-07T21:04:56Z", "tags": [], "is_private": false}, {"count": 8, "tags": [], "bug_id": 61395, "attachment_id": null, "text": "Works fine with apache-jmeter-r1807728 in the default config - no issues noticed during recording.\n\nThanks,\nAlex", "id": 200783, "time": "2017-09-08T20:02:35Z", "creator": "apodelko@yahoo.com", "creation_time": "2017-09-08T20:02:35Z", "is_private": false}, {"count": 9, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "Thanks for feedback.\n\nRegards", "id": 200784, "time": "2017-09-08T20:21:33Z", "bug_id": 61395, "creation_time": "2017-09-08T20:21:33Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 61395, "text": "Author: pmouawad\nDate: Tue Sep 12 20:26:38 2017\nNew Revision: 1808160\n\nURL: http://svn.apache.org/viewvc?rev=1808160&view=rev\nLog:\nBug 61395 - Large server response truncation can impact recording\nTruncating responses over 10MB by default was a bad idea.\nIt is better to disable it by default and have the option available if needed.\nBugzilla Id: 61395\n\nModified:\n    jmeter/trunk/bin/jmeter.properties\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSamplerBase.java\n    jmeter/trunk/xdocs/changes.xml\n    jmeter/trunk/xdocs/usermanual/properties_reference.xml", "id": 200836, "time": "2017-09-12T20:27:29Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-09-12T20:27:29Z", "is_private": false, "attachment_id": null}]