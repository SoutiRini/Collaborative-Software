[{"count": 0, "tags": [], "creator": "frank.van.gestel@philips.com", "attachment_id": null, "text": "if the AuthAuthoratative directive is set to off, mod_auth should return \nDECLINED whenever authentication or authorization fails.\nIt seems that the routine authenticate_basic_user always returns \nHTTP_UNAUTHORIZED if no username and password is available. In my perspective, \nmod_auth should return DECLINED, and subsequent modules in the chain should \nreturn HTTP_UNAUTHORIZED.\nIn the current situation, when using mod_auth icw another module which takes \ncare of authentication, mod_auth should always be placed last in chain, as else \nthe other module can never supply credentials. This also means that \nauthenticating/authorizing users using mod_auth with plain text files can take \na lot of time if the previous module is slow.\nproposed change :\nold :\n    if ((res = ap_get_basic_auth_pw(r, &sent_pw))) {\n                return res;\n    }\nnew :\n    if ((res = ap_get_basic_auth_pw(r, &sent_pw))) {\n        if ( (res == HTTP_UNAUTHORIZED) && !(conf->auth_authoritative) ) {\n                return DECLINED;\n        } else {\n                return res;\n        }\n    }", "id": 60178, "time": "2004-07-06T08:02:22Z", "bug_id": 29928, "creation_time": "2004-07-06T08:02:22Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 29928, "attachment_id": null, "text": "Closing due to inactivity.\n\nNote that much of this code was re-written in 2.2, and again in trunk.  I doubt the problem is still there, but if so, this can be re-opened.", "id": 127282, "time": "2009-05-22T07:24:10Z", "creator": "poirier@pobox.com", "creation_time": "2009-05-22T07:24:10Z", "is_private": false}]