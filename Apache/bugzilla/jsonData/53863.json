[{"attachment_id": null, "tags": [], "creator": "fernando.ribeiro@upic.com.br", "text": "An implementation of ServletContainerInitializer can't add a mapping to \"/\" because the default servlet is loaded first, as first reported in 51278:\n\npublic final class SampleServletContainerInitializer implements ServletContainerInitializer {\n\n  public void onStartup(final Set<Class<?>> c, final ServletContext ctx) throws ServletException {\n    final XmlWebApplicationContext appCtx = new XmlWebApplicationContext();\n\n    appCtx.setConfigLocation(\"/WEB-INF/DispatcherServlet-servlet.xml\");\n\n    final ServletRegistration.Dynamic dispatcher = ctx.addServlet(\"DispatcherServlet\", new DispatcherServlet(appCtx));\n\n    dispatcher.setLoadOnStartup(1);\n\n    final Set<String> conflictSet = dispatcher.addMapping(\"/\");\n\n    for (final String conflict : conflictSet)\n      out.println(conflict); // prints \"/\"\n\n  }\n\n}\n\nA test case follows attached.", "count": 0, "id": 162127, "time": "2012-09-13T03:44:28Z", "bug_id": 53863, "creation_time": "2012-09-13T03:44:28Z", "is_private": false}, {"count": 1, "tags": [], "creator": "fernando.ribeiro@upic.com.br", "attachment_id": 29366, "text": "Created attachment 29366\ntestcase", "id": 162128, "time": "2012-09-13T03:45:05Z", "bug_id": 53863, "creation_time": "2012-09-13T03:45:05Z", "is_private": false}, {"count": 2, "tags": [], "creator": "markt@apache.org", "text": "There is a bug here but it was hard work to find. The lack of key information provided with the test case did not help. For future reference, the following information would have saved some considerable time:\n- Maven version required (build failed with 2.2.1, worked with 3.0.4)\n- Steps to execute the test case\n- Make clear the issue was with embedded mode\n\nThe best test cases are as small as possible and are written as unit tests (of which plenty of examples exist in the code base - including ones that use SCIs).\n\nThe bug was that the implicit servlets (JSP, default) when added in embedded mode were not marked as override-able. This has been fixed in trunk and 7.0.x and will be included in 7.0.31 onwards.", "id": 162217, "attachment_id": null, "bug_id": 53863, "creation_time": "2012-09-16T18:19:35Z", "time": "2012-09-16T18:19:35Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 53863, "text": "I will make sure future tickets provide better info. Thanks.", "id": 162226, "time": "2012-09-17T01:12:31Z", "creator": "fernando.ribeiro@upic.com.br", "creation_time": "2012-09-17T01:12:31Z", "is_private": false, "attachment_id": null}]