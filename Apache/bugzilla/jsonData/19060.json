[{"count": 0, "tags": [], "bug_id": 19060, "attachment_id": null, "id": 35310, "time": "2003-04-16T09:59:32Z", "creator": "nemarich@cmet.net", "creation_time": "2003-04-16T09:59:32Z", "is_private": false, "text": "Hello, \nI`m using Tomcat 4.1.18 on a Intel WinXP Pro and I`m trying to deploy \nJnlpDownloadServlet bundled with Java WebStart 1.0.1 with the following web.xml \nfile:\n\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<!DOCTYPE web-app\n    PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\"\n    \"http://java.sun.com/dtd/web-app_2_3.dtd\">\n<web-app>\n     <servlet>\n        <servlet-name>JnlpDownloadServlet</servlet-name>\n        <servlet-class>com.sun.javaws.servlet.JnlpDownloadServlet</servletclass>\n\t<load-on-startup>1</load-on-startup>\n     </servlet>\n     <servlet-mapping>\n        <servlet-name>JnlpDownloadServlet</servlet-name>\n        <url-pattern>*.jnlp</url-pattern>\n     </servlet-mapping>\n</web-app>\n\n\nWhen I Startup Tomcat It generates the following stack trace:\n\n2003-04-16 11:37:21 HostConfig[localhost] Error deploying web application \ndirectory JavaSoundDemo\njava.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet\n\tat java.lang.ClassLoader.defineClass0(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:488)\n\tat java.security.SecureClassLoader.defineClass \nSecureClassLoader.java:106)\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:243)\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:51)\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:190)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:183)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:294)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:287)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:281)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:250)\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass\n(WebappClassLoader.java:1355)\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass\n(WebappClassLoader.java:1289)\n\tat org.apache.catalina.core.StandardWrapper.loadServlet\n(StandardWrapper.java:885)\n\tat org.apache.catalina.core.StandardWrapper.load\n(StandardWrapper.java:823)\n\tat org.apache.catalina.core.StandardContext.loadOnStartup\n(StandardContext.java:3420)\n\tat org.apache.catalina.core.StandardContext.start\n(StandardContext.java:3608)\n\tat org.apache.catalina.core.ContainerBase.addChildInternal\n(ContainerBase.java:821)\n\tat org.apache.catalina.core.ContainerBase.addChild\n(ContainerBase.java:807)\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:579)\n\tat org.apache.catalina.core.StandardHostDeployer.install\n(StandardHostDeployer.java:307)\n\tat org.apache.catalina.core.StandardHost.install(StandardHost.java:772)\n\tat org.apache.catalina.startup.HostConfig.deployDirectories\n(HostConfig.java:559)\n\tat org.apache.catalina.startup.HostConfig.deployApps\n(HostConfig.java:401)\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:718)\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent\n(HostConfig.java:358)\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent\n(LifecycleSupport.java:166)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1196)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:738)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n\tat org.apache.catalina.core.StandardEngine.start\n(StandardEngine.java:347)\n\tat org.apache.catalina.core.StandardService.start\n(StandardService.java:497)\n\tat org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2190)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:512)\n\tat org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n\tat org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\n\n\nI`m sure servlet.jar exist (all the servlets in the example webapp works fine)\n\nWhen I deploy the same app in Windows NT Workstation the problem disapears. Any \nsuggestion?\n\nthanx in advance.\n\nHans"}, {"count": 1, "tags": [], "creator": "remm@apache.org", "text": "Please provide a test webapp (otherwise, it obviously works for me as there are\nno functional differences between 2k and XP as far as Tomcat is concerned). As\nyou won't be able to come up with a reproduceable test case, I'll be thankful if\nyou do not reopen this bug and double check your deployment instead.", "id": 35326, "time": "2003-04-16T14:58:57Z", "bug_id": 19060, "creation_time": "2003-04-16T14:58:57Z", "is_private": false, "attachment_id": null}]