[{"count": 0, "tags": [], "bug_id": 46901, "text": "Hi,\n\nI have a script to upload a file. I have modified the file path to pick it from the csv file instead. Though the csv file have multiple rows the script is not proceeding to the second row i.e the same file is being sent in the request for each iteration/loop.  \n\nThis was working fine with version 2.3.1. Please let me know the changes to be made in case I need to fix this one.", "id": 125739, "time": "2009-03-24T04:19:10Z", "creator": "mandarkn@yahoo.com", "creation_time": "2009-03-24T04:19:10Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 46901, "text": "How are you reading the CSV file?\n\nPlease attach a simple test plan that works under 2.3.1 and fails under 2.3.2. Remove any sensitive data first.", "id": 125740, "time": "2009-03-24T04:25:18Z", "creator": "sebb@apache.org", "creation_time": "2009-03-24T04:25:18Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 46901, "is_private": false, "text": "Created attachment 23406\nScript to upload location\n\nThe \"Submit File for Upload\" HTTP Request uses send files with the request to upload files. The ${importFile} is being picked up from the \"CSV Data Set Config\"\n\nThe first file name is passed to all the \"Import Location\" iterations in JMeter 2.3.2 r665936. The second iteration should move on to the next row within \"CSV Data Set Config\"", "id": 125742, "time": "2009-03-24T04:36:53Z", "creator": "mandarkn@yahoo.com", "creation_time": "2009-03-24T04:36:53Z", "attachment_id": 23406}, {"count": 3, "text": "Added a script as attachment. I am using JMeter 2.3.2 r665936. The attached script fails on this release since the same file name mentioned in row 1 of the CSV Data Config is picked up by all iterations.\n\nThe same file works on 2.3.1. I cannot use 2.3.1 for other scripts developed due to some other issues.", "bug_id": 46901, "is_private": false, "id": 125743, "time": "2009-03-24T04:39:46Z", "creator": "mandarkn@yahoo.com", "creation_time": "2009-03-24T04:39:46Z", "tags": [], "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 46901, "text": "The test plan is not exactly \"simple\".\n\nWhich sampler is failing?", "id": 125744, "time": "2009-03-24T04:45:53Z", "creator": "sebb@apache.org", "creation_time": "2009-03-24T04:45:53Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 46901, "attachment_id": null, "is_private": false, "id": 125745, "time": "2009-03-24T04:52:57Z", "creator": "mandarkn@yahoo.com", "creation_time": "2009-03-24T04:52:57Z", "text": "To put it precisely any HTTP Request with at least one file in the \"Send Files With the Request\" fails when I parameterize the File path as in ${importFile} and then run it through iterations. The ${importFile} gets replaced for the first iteration with appropriate file name but for next iteration picks the same file path instead of proceeding further."}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "is_private": false, "id": 125746, "time": "2009-03-24T05:01:37Z", "bug_id": 46901, "creation_time": "2009-03-24T05:01:37Z", "text": "I think this has been fixed in SVN - could you try the nightly build and see if that works for you?"}, {"count": 7, "tags": [], "bug_id": 46901, "text": "No its still giving me the same issue both the first iteration and second iteration are picking the same file.", "id": 125748, "time": "2009-03-24T05:41:11Z", "creator": "mandarkn@yahoo.com", "creation_time": "2009-03-24T05:41:11Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 46901, "text": "I have tried with jakarta-jmeter-r753086.", "id": 125749, "time": "2009-03-24T05:42:02Z", "creator": "mandarkn@yahoo.com", "creation_time": "2009-03-24T05:42:02Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 46901, "text": "Please note: I do have some other parameters along with the File to be sent with the request as well", "id": 125752, "time": "2009-03-24T05:50:41Z", "creator": "mandarkn@yahoo.com", "creation_time": "2009-03-24T05:50:41Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 46901, "text": "Any updates on this. When is the next release of Jmeter? Will this be fixed by then? Is there any alternative I can go ahead with?", "count": 10, "id": 125840, "time": "2009-03-27T04:20:06Z", "creator": "mandarkn@yahoo.com", "creation_time": "2009-03-27T04:20:06Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 46901, "attachment_id": null, "is_private": false, "id": 125843, "time": "2009-03-27T06:33:48Z", "creator": "sebb@apache.org", "creation_time": "2009-03-27T06:33:48Z", "text": "I have found that the problem does exist - I thought it was solved in the current nightlies, but not so.\n\nIt's not yet clear how to fix this, so I can't say when a fix will be released.\n\nHowever, I have found that the problem only affects the first file in the list, which is treated differently for compatibility reasons.\n\nIf you can put up with sending a dummy file as well, then you can use JMeter 2.3.2 or a nightly. Otherwise you will have to use JMeter 2.3.1."}, {"count": 12, "text": "This seems to be working OK now.\n\nPlease test one of the nightlies and report back.", "bug_id": 46901, "is_private": false, "id": 126677, "time": "2009-05-01T11:28:21Z", "creator": "sebb@apache.org", "creation_time": "2009-05-01T11:28:21Z", "tags": [], "attachment_id": null}, {"count": 13, "text": "I tried to verify this issue against the release jmeter version 2.3.3 \nand it is still exist. It always pick up the first file name. \n\nBut, the same script works like charm in 2.3.1 version. I am not sure what got fixed in 2.3.3 because the behavoir still the same as in 2.3.2\n\nI need to do diff in source to see what changes were made between 2.3.1 to 2.3.3", "bug_id": 46901, "is_private": false, "id": 127527, "time": "2009-05-31T10:18:24Z", "creator": "mmuru98@yahoo.com", "creation_time": "2009-05-31T10:18:24Z", "tags": [], "attachment_id": null}, {"attachment_id": 23821, "tags": [], "creator": "sebb@apache.org", "text": "Created attachment 23821\nSample test plan", "count": 14, "id": 127998, "time": "2009-06-16T16:25:57Z", "bug_id": 46901, "creation_time": "2009-06-16T16:25:57Z", "is_private": false}, {"count": 15, "tags": [], "bug_id": 46901, "text": "Created attachment 23822\nSample test data", "id": 127999, "time": "2009-06-16T16:26:21Z", "creator": "sebb@apache.org", "creation_time": "2009-06-16T16:26:21Z", "is_private": false, "attachment_id": 23822}, {"attachment_id": null, "tags": [], "bug_id": 46901, "text": "It works fine for me with the attached test plan and CSV file.\n\nCreate 3 dummy files - f1.tmp, f2.tmp, f3.tmp and start the mirror-server.\n\nYou should see that the files are correctly uploaded.", "count": 16, "id": 128000, "time": "2009-06-16T16:28:08Z", "creator": "sebb@apache.org", "creation_time": "2009-06-16T16:28:08Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 46901, "text": "I'm seeing this bug on v2.3.3 and v2.3.4.\n\nI'm using HTTP Request HTTPClient Sampler.  I'm using a variable name for \"File Path\".  The variable is changed in a BeanShell preprocessor.  In a loop I'm posting a file to a server.  The first file name generated in the beanshell keeps getting posted over and over even though I verified that the variable is getting changed.", "count": 17, "id": 128930, "time": "2009-07-16T16:33:35Z", "creator": "steveh_adobe@yahoo.com", "creation_time": "2009-07-16T16:33:35Z", "is_private": false}, {"count": 18, "tags": [], "creator": "steveh_adobe@yahoo.com", "attachment_id": null, "is_private": false, "id": 128956, "time": "2009-07-17T09:37:58Z", "bug_id": 46901, "creation_time": "2009-07-17T09:37:58Z", "text": "I verified that it works correctly on 2.3.1 and is broken on all releases after that."}, {"count": 19, "tags": [], "bug_id": 46901, "text": "BUMP", "id": 130141, "time": "2009-09-03T15:00:41Z", "creator": "steveh_adobe@yahoo.com", "creation_time": "2009-09-03T15:00:41Z", "is_private": false, "attachment_id": null}, {"count": 20, "tags": [], "creator": "mmuru98@yahoo.com", "attachment_id": null, "is_private": false, "id": 131793, "time": "2009-11-07T19:27:25Z", "bug_id": 46901, "creation_time": "2009-11-07T19:27:25Z", "text": "please, fix this issue soon"}, {"count": 21, "tags": [], "bug_id": 46901, "is_private": false, "text": "This has taken a long while to fix, but as can be seen from the change it was not trivial. [It might have been fixed earlier had there been a simple test case.]\n\nThe changes will be in nightly builds from r905484.\n\nURL: http://svn.apache.org/viewvc?rev=905484&view=rev\nLog:\nBug 46901 - HTTP Sampler does not process var/func refs correctly in first file parameter\nSimplify file handling at run-time by using only a single list which is merged at start-up if necessary.\n\nAdded:\n   jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSamplerBaseConverter.java   (with props)\nModified:\n   jakarta/jmeter/trunk/bin/saveservice.properties\n   jakarta/jmeter/trunk/bin/testfiles/AssertionTestPlan.jmx\n   jakarta/jmeter/trunk/bin/testfiles/AuthManagerTestPlan.jmx\n   jakarta/jmeter/trunk/bin/testfiles/GuiTest.jmx\n   jakarta/jmeter/trunk/bin/testfiles/GuiTest231.jmx\n   jakarta/jmeter/trunk/bin/testfiles/HeaderManagerTestPlan.jmx\n   jakarta/jmeter/trunk/bin/testfiles/InterleaveTestPlan.jmx\n   jakarta/jmeter/trunk/bin/testfiles/InterleaveTestPlan2.jmx\n   jakarta/jmeter/trunk/bin/testfiles/LoopTestPlan.jmx\n   jakarta/jmeter/trunk/bin/testfiles/Modification Manager.jmx\n   jakarta/jmeter/trunk/bin/testfiles/OnceOnlyTestPlan.jmx\n   jakarta/jmeter/trunk/bin/testfiles/SimpleTestPlan.jmx\n   jakarta/jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSamplerBase.java\n   jakarta/jmeter/trunk/xdocs/changes.xml", "id": 134116, "time": "2010-02-01T17:05:37Z", "creator": "sebb@apache.org", "creation_time": "2010-02-01T17:05:37Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 46901, "text": "*** Bug 49223 has been marked as a duplicate of this bug. ***", "count": 22, "id": 136525, "time": "2010-04-29T11:04:24Z", "creator": "sebb@apache.org", "creation_time": "2010-04-29T11:04:24Z", "is_private": false}]