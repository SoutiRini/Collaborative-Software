[{"attachment_id": null, "tags": [], "bug_id": 4693, "text": "My site is running on Apache1.3.20 and Tomcat3.2.1 on Solaris\n\nOne of the JSP page is giving the problem. In the following page I am \nretrieving location1 and product from request using request.getParameter().\nValue being extracted is right. But when I print this value second time on the \nsame page, it's value changes automatically. (This is the prob.). For testing I \nhave given various print statements in the following code. I am printing the \nvalue of location1 5-6 times continuously. All gives me the different values \nlike\ne.g \nlocation1  = 32\nlocation1  = 1\nlocation1  = 1\nlocation1  = 1\nlocation1  = 1\nlocation1  = 5\nlocation1  = 32\n\nThe variable is not being altered in any other place.\nAnd the same code was working fine on Sun,Solaris,Apache1.3.13,GNUJSP.\nAnd also its working fine on Intel,WIN NT4.0, Apache1.3.20,tomcat3.2.1\n\n\n\n\n\n<%@ page import = \"java.util.*,java.io.*,java.sql.*,com.cl.clf.*\" \nerrorPage=\"clf_error.jsp\"%>\n\n<jsp:useBean id=\"clf_schemes\" scope=\"session\" \nclass=\"com.cl.clf.CLF_Scheme_Detail\"/>\n\n<%! Connection connection;  %>\n<%\n\n\tMyConnection conn = new MyConnection();\n\tboolean readFileSuccess = conn.readParameterFile\n(\"erpconnection.properties\",\"online\");\n\tconnection = conn.getConnection() ;\n\t\n\tclf_schemes.setConnection(connection);\n%>\n<%\n\tint locationId1 = 0;\n\tint productId = 0;\n\t\n\tString location = request.getParameter(\"location1\");\n\tString product = request.getParameter(\"product\");\n\t\n\tout.println(\"This is Location   :\" +location);\n\t\n\tif(location != null)\n\t{\n\t\tlocationId1 = Integer.parseInt(location);\n\t\t\n\t}\n\t\n\tif(product != null)\n\t{\n\t\tproductId = Integer.parseInt(product);\n\t}\n\t\n\tclf_schemes.setSelectedLocationId(locationId1);\n\tclf_schemes.setSelectedProductId(productId);\n\t\n\tclf_schemes.getActualProductPrice(productId,locationId1);\n\t\n\tint productPrice = clf_schemes.getProductPrice();\n%>\nCase 1 <BR>\nlocation id = <%= locationId1%>\nproductId = <%= productId%>\n\nCase 1 <BR>\nlocation id = <%= locationId1%>\nproductId = <%= productId%>\nCase 1 <BR>\nlocation id = <%= locationId1%>\nproductId = <%= productId%>\nCase 1 <BR>\nlocation id = <%= locationId1%>\nproductId = <%= productId%>\nCase 1 <BR>\nlocation id = <%= locationId1%>\nproductId = <%= productId%>\n<BR>", "count": 0, "id": 7635, "time": "2001-11-06T23:10:24Z", "creator": "lovkesharora@hotmail.com", "creation_time": "2001-11-06T23:10:24Z", "is_private": false}, {"count": 1, "text": "Could you please attach the generated servlet code for this JSP page?", "creator": "marc.saegesser@apropos.com", "is_private": false, "id": 7642, "time": "2001-11-07T06:48:45Z", "bug_id": 4693, "creation_time": "2001-11-07T06:48:45Z", "tags": [], "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 4693, "attachment_id": 775, "id": 7676, "time": "2001-11-07T21:15:08Z", "creator": "lovkesharora@hotmail.com", "creation_time": "2001-11-07T21:15:08Z", "is_private": false, "text": "Created attachment 775\nJava file (Servlet for the JSP page)"}, {"count": 3, "tags": [], "text": "I've looked at the generated servlet and I can't see anything wrong with it.  I \nlooked at the implementation of JspWriter.print(int) and it looks OK, too.\n\nI created a simple JSP page based on the code you supplied (basically just \nremoved your connection and database code) and it worked fine for me.\n\nIf you can make this fail with a simple web application that I can run then I \ncan try to investigate this further, but I don't see anything more I can do \nright now.", "is_private": false, "id": 7735, "creator": "marc.saegesser@apropos.com", "time": "2001-11-09T15:33:48Z", "bug_id": 4693, "creation_time": "2001-11-09T15:33:48Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 4693, "attachment_id": null, "text": "I can't duplicatel the problem and the generated code seems to be fine.  If you \ncan create a small example page that demonstrates the problem please reopen \nthis bug and attach it.", "id": 7860, "time": "2001-11-13T06:35:38Z", "creator": "marc.saegesser@apropos.com", "creation_time": "2001-11-13T06:35:38Z", "is_private": false}]