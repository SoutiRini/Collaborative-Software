[{"count": 0, "tags": [], "creator": "beuc@beuc.net", "is_private": false, "text": "I changed Savannah's mod_autoindex configuration to use PNGs /icons (no GIFs at\ngnu.org), and noticed that the PNG files do not have a transparent background.\nI used this quick script to convert them well from GIFs:\n\nfor i in *.png; do giftopnm --alphaout $i.msk ${i%png}gif\n| pnmtopng -alpha $i.msk > $i; rm -f $i.msk; done\n\n(the script iterates on png's because the animation gif should not be taken into\naccount).", "id": 60825, "time": "2004-07-19T19:24:06Z", "bug_id": 30190, "creation_time": "2004-07-19T19:24:06Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Now I have a bugzilla account I'm actually doing something about this.  This\nbites me frequently, hence the vote.  If the pnm tools aren't installed, but\ngif2png is, then:\n\n$ gif2png -tw *.gif small/*.gif | xargs gif2png -ghnrsO\n\nExpected output from command-line is one stderr message from the first gif2png\ninvocation, noting the animated GIF (which is the reason for doing things this way).\n", "is_private": false, "bug_id": 30190, "id": 62016, "time": "2004-08-15T20:18:04Z", "creator": "apache-bugs+6235@spodhuis.org", "creation_time": "2004-08-15T20:18:04Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "text": "I see the problem, that there are just a few browsers that actually support\ntransparent png images, resp. some browsers have real problems with them.\nPerhaps we should just put the conversion script snippets somewhere into the docs?", "id": 62017, "time": "2004-08-15T20:39:55Z", "bug_id": 30190, "creation_time": "2004-08-15T20:39:55Z", "is_private": false}, {"count": 3, "tags": [], "text": "The problem is that the PNGs are shipped at all without transparency.  Since the\nPNGs aren't actually used by default, can't they be fixed so that anyone who\nchooses to use them at least gets full PNGs which don't look so bad in\nmod_autoindex that they put people off using PNGs?\n\nIt looks as though MSIE is the one fly in the ointment:\n  http://www.libpng.org/pub/png/pngstatus.html\nbut according to that, cells which aren't completely opaque are rendered as\ncompletely transparent; since the Apache images don't use blending but have\npixels either transparent or with colour (AFAIK), for this purpose is there\nactually a problem?\n\nI just checked with my fiancee's MSIE 6.0 and the few icons used in one of my\nmod_autoindex pages rendered just fine; that's with the transparent PNGs\nrendered by the example command-line which I gave.  In fact, I've just created a\nweb-page using all the PNG icons (except those in small) and they _all_ rendered\nfine.\n\nIf anyone wants to test more widely, there seems to be a decent testbed at:\n  http://entropymine.com/jason/testbed/pngtrans/\nbut that covers a much more general case than the Apache icons, which require a\nmuch simpler subset of PNG rendering functionality.", "is_private": false, "id": 62018, "creator": "apache-bugs+6235@spodhuis.org", "time": "2004-08-15T21:15:48Z", "bug_id": 30190, "creation_time": "2004-08-15T21:15:48Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 30190, "attachment_id": 13727, "id": 68296, "time": "2004-12-10T20:57:57Z", "creator": "neale-asf@woozle.org", "creation_time": "2004-12-10T20:57:57Z", "is_private": false, "text": "Created attachment 13727\nTransparent PNG icons\n\nTransparent PNG icons, converted from the transparent GIFs from the 2.0.52\nsource distribution."}, {"count": 5, "attachment_id": 13728, "bug_id": 30190, "text": "Created attachment 13728\nTransparent PNG icons\n\nNew version with the small directory included", "id": 68297, "time": "2004-12-10T21:07:03Z", "creator": "neale-asf@woozle.org", "creation_time": "2004-12-10T21:07:03Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "creator": "neale-asf@woozle.org", "is_private": false, "text": "Sorry for all the new comments, I'm unfamiliar with bugzilla.\n\nI've attached a tarball of transparent PNG icons.  These were converted from the\nGIFs distributed with 2.0.52 using \"giftopng -O\".  They are slightly (a few\nbytes per icon) larger than the old, non-transparent ones, and as far as I can\ntell display just fine in all browsers (even IE).\n\nPlease consider moving these icons into CVS so they may one day be distributed.\n I'm getting tired of having to convert the GIFs by hand every time I install a\nnew version of Apache :)\n\nThanks", "id": 68298, "time": "2004-12-10T21:10:55Z", "bug_id": 30190, "creation_time": "2004-12-10T21:10:55Z", "attachment_id": null}, {"count": 7, "tags": [], "creator": "thijs@debian.org", "is_private": false, "text": "I can indeed still reproduce it. I hope it can be fixed; as said the icons now\ndisplay badly in *any* browser while that could be reduced to only some (by now\nalready older) browers.\n\nThe following snippet when using ImageMagick solves it:\n\nfor i in *.png; do convert ${i%png}gif $i;done\n\nThanks.", "id": 95726, "time": "2006-11-12T05:50:57Z", "bug_id": 30190, "creation_time": "2006-11-12T05:50:57Z", "attachment_id": null}, {"count": 8, "tags": [], "creator": "neale-asf@woozle.org", "attachment_id": null, "text": "Come on guys, it's been 3 years and we've provided you three different ways to \nfix this.", "id": 107301, "time": "2007-08-27T12:17:55Z", "bug_id": 30190, "creation_time": "2007-08-27T12:17:55Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 30190, "attachment_id": null, "id": 107329, "time": "2007-08-28T04:00:32Z", "creator": "wrowe@apache.org", "creation_time": "2007-08-28T04:00:32Z", "is_private": false, "text": "Thanks for the ImageMagick pointer (although I had to resort to GraphicsMagick\nsince ImageMagick was generating corrupt .png's).\n\nNote I used the -quality 100 to avoid any lossy optimization."}, {"count": 10, "tags": [], "bug_id": 30190, "attachment_id": null, "is_private": false, "id": 107351, "time": "2007-08-28T09:54:58Z", "creator": "neale-asf@woozle.org", "creation_time": "2007-08-28T09:54:58Z", "text": "(In reply to comment #9)\n\nThanks, Will!  You are my PNG hero."}]