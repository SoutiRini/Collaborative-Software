[{"text": "This patch enhances the findbugs build target as follows:\n\n* changes from using external findbugs.jar location, ${findbugs.home.dir}, to use a copy/link of findbugs.jar in lib/build; this makes findbugs usage consistent with checkstyle usage, which is also copied/linked into lib/build rather than referenced from an external directory;\n\n* adds libs-build-classpath, ant.jar, and ant-launcher.jar to auxiliary class path in order to eliminate \"missing class\" warnings which prevent findbugs from testing a full transitive closure (of dependent classes);\n\n* adds (empty) findbugs-exclude.xml file in order to filter blessed warnings (in future cleanup work);\n\n* adds new targets findbugs-xml and findbugs-html in order to separately generate the XML and HTML output formats, and rewrites the existing findbugs target to be an alias for findbugs-html;\n\nThis patch is applied against revision 985949.\n\nRegards,\nGlenn", "tags": [], "creator": "gadams@apache.org", "is_private": false, "count": 0, "id": 139101, "time": "2010-08-16T06:08:23Z", "bug_id": 49752, "creation_time": "2010-08-16T06:08:23Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "gadams@apache.org", "attachment_id": 25890, "id": 139102, "time": "2010-08-16T06:09:45Z", "bug_id": 49752, "creation_time": "2010-08-16T06:09:45Z", "is_private": false, "text": "Created attachment 25890\nPatch is applied against revision 985949."}, {"count": 2, "tags": [], "text": "Glenn, I tried to apply this, but I run into many java.lang.NoClassDefFoundError exceptions. The findbugs comes with a library full of jar files. It seems that many if not all are required in the lib/build dir. They could all be copied into that directory, or into a separate directory findbugs. The latter option might introduce duplicate jar files, but would also protect against the requirement of different versions of the same jar file by different tools. It brings us basically back to the findbugs.home.dir situation, perhaps with a default value = lib/findbugs.\n\nAlso, change <findbugs home=\"${findbugs.home.dir}\" to <findbugs home=\"${lib-tools}\", or leave it if you go back to that variable.", "is_private": false, "id": 139103, "creator": "spepping@apache.org", "time": "2010-08-16T07:51:36Z", "bug_id": 49752, "creation_time": "2010-08-16T07:51:36Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 49752, "attachment_id": 25895, "is_private": false, "id": 139129, "time": "2010-08-17T03:06:56Z", "creator": "gadams@apache.org", "creation_time": "2010-08-17T03:06:56Z", "text": "Created attachment 25895\nPatch applied to revision 986204.\n\nBack out change to use lib/build directory for findbugs.jar. Restore previous usage of setting findbugs.home.dir in build-local.properties to top level directory of findbugs binary distribution."}, {"count": 4, "tags": [], "bug_id": 49752, "attachment_id": null, "id": 139130, "time": "2010-08-17T03:10:17Z", "creator": "gadams@apache.org", "creation_time": "2010-08-17T03:10:17Z", "is_private": false, "text": "I just replaced the patch file, restoring the prior usage of findbugs.home.dir in build.local.properties. I believe this resolves the problem you encountered.\n\nG.\n\n(In reply to comment #2)\n> Glenn, I tried to apply this, but I run into many\n> java.lang.NoClassDefFoundError exceptions. The findbugs comes with a library\n> full of jar files. It seems that many if not all are required in the lib/build\n> dir. They could all be copied into that directory, or into a separate directory\n> findbugs. The latter option might introduce duplicate jar files, but would also\n> protect against the requirement of different versions of the same jar file by\n> different tools. It brings us basically back to the findbugs.home.dir\n> situation, perhaps with a default value = lib/findbugs.\n> \n> Also, change <findbugs home=\"${findbugs.home.dir}\" to <findbugs\n> home=\"${lib-tools}\", or leave it if you go back to that variable."}, {"count": 5, "tags": [], "creator": "spepping@apache.org", "is_private": false, "text": "Patch applied: http://svn.apache.org/viewvc?view=revision&revision=986616", "id": 139192, "time": "2010-08-18T06:13:11Z", "bug_id": 49752, "creation_time": "2010-08-18T06:13:11Z", "attachment_id": null}]