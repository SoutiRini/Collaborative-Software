[{"count": 0, "tags": [], "bug_id": 40120, "text": "Environment: jre1.5.0_06, any fo (or xml-xsl) file rendered to pdf using a non\nstandard and embedded font.\nUnder the following conditions:\n\n- NOT specifying a font-base in the userconfig\n- Specifying base as \".\" (probably irrelevant)\n- Embedding a font through userconfig.xml, assuming the current directory for\nboth the .ttf as well as the metrics xml, ie embed=\"file:gothic.ttf\" and of\ncourse those font files sitting there\n- Actually using that font in the fo\n- the fo (or xml in a xml/xsl setup) being in a separate folder (ie fop \"-fo\nstore/my.fo\"). The file being specified relatively to the current directory is\nprobably irrelevant.\n\nthe resulting pdf is generated without complained, but actually does not have\nthe .ttf embedded, resulting in a font not found when opening the pdf. Further\ninvestigating showed if the .ttf is ALSO copied to the relative path of the\nsource .fo (or xml), it DOES embed in the pdf.\n\nMain problem is the renderer does not complain, combined with the fop\ndocumentation stating \"(font-base) specifies the base URL based on which\nrelative font URLs will be resolved. If not specified defaults to the base URL\nabove\", which is obvisouly not true when the source file is in a folder.\n\nWorkaround is to specify a font-base in the userconfig, even if it's a simple\n\".\". Refering to the .ttf in an absolute way worked too (eeww).", "id": 91623, "time": "2006-07-26T18:29:12Z", "creator": "jmeijer@notice.nu", "creation_time": "2006-07-26T18:29:12Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "jmeijer@notice.nu", "attachment_id": null, "text": "excuse me, where it says\n\nembed=\"file:gothic.ttf\"\n\nplease read\n\nembed-url=\"file:gothic.ttf\"\n", "id": 91624, "time": "2006-07-26T18:31:41Z", "bug_id": 40120, "creation_time": "2006-07-26T18:31:41Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 40120, "text": "Erm erm erm, any news on this one? Tx /Jeroen\n", "id": 96398, "time": "2006-11-30T05:47:20Z", "creator": "jmeijer@notice.nu", "creation_time": "2006-11-30T05:47:20Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 40120, "text": "(In reply to comment #1)\n> embed-url=\"file:gothic.ttf\"\nIs this a valid URI? I think it should read either embed-url=\"gothic.ttf\" or \nembed-url=\"file:/path/to/gothic.ttf\".", "id": 96428, "time": "2006-11-30T12:32:41Z", "creator": "spepping@apache.org", "creation_time": "2006-11-30T12:32:41Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 40120, "text": "Oh gosh, that solved the problem too, just as my workaround did. I keep on being\nconfused about url's and uri's, esp when it is file based. Thank you.\n\nBut..... I still think it's a bug as using the \"file:xxx.ttf\" form it will\ngenerate a pdf without any complaint and the resulting file doesn't work. There\nis probably a semantic explanation why that behavior is completely valid, but\nstill. Anyway, no big deal as the issue can be fixed/worked around. I humbly\nsuggest at least an error message if the format given in this specific scenario\nleads to a crippled PDF file.\n\nThanks Simon for pointing out! Won't change the status as I don't know if the\ndevelopers will incorporate that.\n", "id": 96437, "time": "2006-11-30T13:55:18Z", "creator": "jmeijer@notice.nu", "creation_time": "2006-11-30T13:55:18Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "spepping@apache.org", "attachment_id": null, "is_private": false, "id": 96484, "time": "2006-12-03T12:50:49Z", "bug_id": 40120, "creation_time": "2006-12-03T12:50:49Z", "text": "(In reply to comment #4)\n> Oh gosh, that solved the problem too, just as my workaround did. I keep on being\n> confused about url's and uri's, esp when it is file based. Thank you.\n> \n> But..... I still think it's a bug as using the \"file:xxx.ttf\" form it will\n> generate a pdf without any complaint and the resulting file doesn't work. There\n> is probably a semantic explanation why that behavior is completely valid, but\n> still. Anyway, no big deal as the issue can be fixed/worked around. I humbly\n> suggest at least an error message if the format given in this specific scenario\n> leads to a crippled PDF file.\n\nIt is a bug if \"file:xxx.ttf\" is silently accepted and leads to a useless result\nfile. It is an erroneous URI and should be signalled as such.\n"}, {"count": 6, "tags": [], "creator": "fop-dev@cumiskey.com", "attachment_id": null, "text": "This bug should be fixed/addressed by [PATCH]\nhttp://issues.apache.org/bugzilla/show_bug.cgi?id=41514", "id": 98869, "time": "2007-02-01T07:36:57Z", "bug_id": 40120, "creation_time": "2007-02-01T07:36:57Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 40120, "text": "Should be fixed in rev. 507539.", "id": 99380, "time": "2007-02-14T06:30:10Z", "creator": "vhennebert@gmail.com", "creation_time": "2007-02-14T06:30:10Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 155514, "time": "2012-04-01T06:25:39Z", "bug_id": 40120, "creation_time": "2012-04-01T06:25:39Z", "is_private": false}]