[{"count": 0, "tags": [], "bug_id": 12258, "attachment_id": null, "id": 22161, "time": "2002-09-03T13:37:30Z", "creator": "jayceeamm@yahoo.com", "creation_time": "2002-09-03T13:37:30Z", "is_private": false, "text": "Please refer below my question and replies from jGuru forum.\n\nHi,\nI am using ftp task with Ant 5.1. FTP connects fine but is \nunable to create sub-directory under existing directories. I also tried \ncreating directory tree like /some/directory but no luck. It, though, creates \ndirectory at ftp's default root.\nBelow is the task xml.. \n\n <ftp action=\"mkdir\"\n      server=\"10.32.66.50\"\n       userid=\"some\"\n       password=\"user\" \n       remotedir=\"\\MOE\\MOE${DSTAMP}\" />\n \n\nWhere \"MOE\" and \"MOE${DSTAMP}\" are 2 new folders to be created. \nIt won't raise any error, instead it creates \"MOE${DSTAMP}\" folder on default \nroot directory.\nAnd yes..I had been through all Ant help docs before posting this \nquestion :^) .. \nAny help on this is highly appreciated. \n\n\n\n Re: Ant's ftp \"mkdir\" does not create subdirectories\nTopic: Ant \nErik Hatcher, Aug 29, 2002  [replies:3]\n<ftp> does, however, create directory structures when you are uploading files - \nso if that is your intention then just go ahead and upload a directory \nstructure matching what you want to create.\n\n   \n  Re[2]: Ant's ftp \"mkdir\" does not create subdirectories\nTopic: Ant \nJitendra Mehta, Aug 30, 2002  [replies:2]\nThanks Erik. I want ftp to always create sub-directory under existing directory \ncalled \"MOE\".\nI tried uploading full directory structure as \"\\MOE\\MOE${DSTAMP}\", but still it \ncreates directory \"MOE{DSTAMP}\" under default root and not under \"MOE\".\nHere is the full build.xml file. \n\n<?xml version=\"1.0\"?>\n<project name=\"MyMOE\" default=\"dist\" basedir=\".\">\n  <!-- set global properties for this build -->\n  <property name=\"src\" value=\"/mifc/src/my/mifc/moe\"/>\n  <property name=\"src_bo\" value=\"/mifc/src/my/mifc/bo\"/>\n  <property name=\"build\" value=\"/mifc/web-inf/classes\"/>\n  <property name=\"dist\"  value=\"/mifc/dist\"/>\n  <property name=\"build.lib\" value=\"/mifc/web-\ninf/lib/NetComponents.jar;/mifc/web-inf/classes;/mifc/web-\ninf/lib/classes12.jar;/mifc/tools/ibm/java13/jre/lib/rt.jar;/mifc/tools/tomcat/c\nommon/lib/servlet.jar;/mifc/web-inf/lib/iText.jar;/mifc/web-inf/lib/cos.jar\"/>\n  <property name=\"build.classesdir\" value=\"${basedir}//mifc/web-inf/classes\"/>\n  <property name=\"build.classpath\" \nvalue=\"${build.classesdir};${build.lib};${build}\"/>\n  <property name=\"build.docdir\" value=\"/mifc/javadoc\"/>\n\n  <target name=\"init\" description=\"Initializing.....\">\n    <!-- Create the time stamp -->\n    <tstamp/>\n  <property name=\"ftp.dir\" value=\"MOE\\MOE-${DSTAMP}\"/>\n    \n    <!-- Create the build directory structure used by compile -->\n    <mkdir dir=\"${build}\"/>\n  </target>\n\n  <target name=\"compile\" depends=\"init\" description=\"Compiling all \nclasses.....\">\n  <!-- Compile the java code from ${src} into ${build} -->\n     <javac srcdir=\"${src_bo}\" \n        destdir=\"${build}\"\n          classpath=\"${build.classpath}\"/>\n   <javac srcdir=\"${src}\" \n        destdir=\"${build}\"\n          classpath=\"${build.classpath}\"/>\n   \n   </target>\n\n<target name=\"dist\" depends=\"compile\" description=\"Distributing and making \nJar.....\">  \n    \n  <ftp action=\"mkdir\"\n      server=\"10.33.15.50\"\n       userid=\"uid\"\n       password=\"pwd\" \n       remotedir=\"${ftp.dir}\"\n       >    \n  </ftp>\n  <ftp server=\"10.33.15.50\"\n       remotedir=\"${ftp.dir}\"\n       userid=\"uid\"\n       password=\"pwd\" >\n    <fileset dir=\"${build}/my/mifc/bo\">\n    </fileset>\n    <fileset dir=\"${build}/my/mifc/moe\">\n    </fileset>\n \n  </ftp>\n</project>\n\n   \n   Re[3]: Ant's ftp \"mkdir\" does not create subdirectories\nTopic: Ant \nErik Hatcher, Aug 30, 2002  [replies:1]\nNot sure. Would a forward-slash in ftp.dir help?\n\nIs this item helpful?  yes  no     Previous votes   Yes: 0  No: 0\n \n   \n    Re[4]: Ant's ftp \"mkdir\" does not create subdirectories\nTopic: Ant \nJitendra Mehta, Aug 30, 2002\nForward slash raises error \"direcotry not found!\". Our ftp server requires \nbackslash. \nI wish, ftp supported command like \"change directory\" which I could have used \nto change to existing folder after logging on to default root dir. \nI even tried \"chmod 777\" on my folder, but it didn't help.\nThanks."}, {"count": 1, "tags": [], "bug_id": 12258, "text": "It's not something daft like using \\ instead of / is it?", "id": 22162, "time": "2002-09-03T13:41:08Z", "creator": "morrijr@apache.org", "creation_time": "2002-09-03T13:41:08Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "antoine@apache.org", "attachment_id": null, "id": 42360, "time": "2003-08-07T21:15:47Z", "bug_id": 12258, "creation_time": "2003-08-07T21:15:47Z", "is_private": false, "text": "the ftp task behaves for mkdir like the mkdir of the normal ftp client and does \nnot do the equivalent of mkdir -p under UNIX shell.\n\nhere is the solution\n(create your directories one by one)\n\n<ftp action=\"mkdir\"\n      server=\"10.32.66.50\"\n       userid=\"some\"\n       password=\"user\" \n       remotedir=\"\\MOE\" />\n<ftp action=\"mkdir\"\n      server=\"10.32.66.50\"\n       userid=\"some\"\n       password=\"user\" \n       remotedir=\"\\MOE\\MOE${DSTAMP}\" />"}]