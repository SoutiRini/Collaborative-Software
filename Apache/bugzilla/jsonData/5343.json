[{"count": 0, "tags": [], "bug_id": 5343, "text": "In a web.xml file, I have this tag library.....\n--------------------------------------\n<taglib>\n\t<taglib-uri>\n\t\thttp://www.my.com/tags\n\t</taglib-uri>\n\t<taglib-location>\n\t\t/WEB-INF/my.tld\n\t</taglib-location>\n</taglib>\n--------------------------------------\n\n\nWhen Tomcat starts, shows this error...\n---------------------------------------------------------------------\nPARSE error at line 1 column -1\norg.xml.sax.SAXParseException: org.apache.crimson.parser/V-005 taglib\n---------------------------------------------------------------------\n\n\nIf I delete the '/' before WEB-INF, I get no error starting Tomcat, but when I \nsend a request to a .jsp page that use this tag, I get a Tomcat Exception...\n--------------------------------------------------------------------------------\n----------------------------------------------\nApache Tomcat/4.0.1 - HTTP Status 500 - Internal Server Error\n\ntype Exception report\n\nmessage Internal Server Error\n\ndescription The server encountered an internal error (Internal Server Error) \nthat prevented it from fulfilling this request.\n\nexception \n\norg.apache.jasper.JasperException: JSP File \"/WEB-INF/WEB-INF/my.tld\" not found\n\tat org.apache.jasper.compiler.TagLibraryInfoImpl.\n(TagLibraryInfoImpl.java:214)\n\tat \norg.apache.jasper.compiler.JspParseEventListener.processTaglibDirective\n(JspParseEventListener.java:1161)\n\tat org.apache.jasper.compiler.JspParseEventListener.handleDirective\n(JspParseEventListener.java:755)\n\tat org.apache.jasper.compiler.DelegatingListener.handleDirective\n(DelegatingListener.java:121)\n\tat org.apache.jasper.compiler.Parser$Directive.accept(Parser.java:243)\n\tat org.apache.jasper.compiler.Parser.parse(Parser.java:1133)\n\tat org.apache.jasper.compiler.Parser.parse(Parser.java:1091)\n\tat org.apache.jasper.compiler.Parser.parse(Parser.java:1087)\n\tat org.apache.jasper.compiler.ParserController.parse\n(ParserController.java:213)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:210)\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:546)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:177)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:189)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:382)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:474)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:201)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2344)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:462)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:1011)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1106)\n\tat java.lang.Thread.run(Unknown Source)\n--------------------------------------------------------------------------------\n----------------------------------------------\n\n\nThis is the my.tld file...\n---------------------------------------------------------\n<taglib>\n\t<tlibversion>1.0</tlibversion>\n\t<jspversion>1.2</jspversion>\n\t<shortname>my</shortname>\n\t<uri>http://www.my.com/tags</uri>\n\t<info>My Tags</info>\n\n\t<tag>\n\t\t<name>FirstTag</name>\n\t\t<tagclass>com.my.tags.FirstTag</tagclass>\n\t\t<info>My First Tag</info>\n\t\t<attribute>\n\t\t\t<name>selected</name>\n\t\t\t<required>false</required>\n\t\t\t<rtexprvalue>true</rtexprvalue>\n\t\t</attribute>\n\t\t<attribute>\n\t\t\t<name>elements</name>\n\t\t\t<required>true</required>\n\t\t\t<rtexprvalue>true</rtexprvalue>\n\t\t</attribute>\n\t\t<attribute>\n\t\t\t<name>order</name>\n\t\t\t<required>false</required>\n\t\t\t<rtexprvalue>true</rtexprvalue>\n\t\t</attribute>\n\t</tag>\n</taglib>\n---------------------------------------------------------\n\n\nI guess this is an error parsing the XML file because the '/' is closely \nrelated to the XML's end-tag.\n\n\nThanks\n\nGerm\u00e1n Leonardo Largo Urrea\nMedell\u00edn Colombia", "id": 8750, "time": "2001-12-10T08:57:48Z", "creator": "glurrea@yahoo.com", "creation_time": "2001-12-10T08:57:48Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 5343, "attachment_id": null, "text": "Hmm... I copied your wem.xml and my.tld and tomcat starts without problem. \nThough I am using the nightly build, 4.0.1 Final should work the same.  In fact,\nexamples/WEB-INF/web.xml contains taglib-locations that start with /, and they\nobviously work.  I am closing this one as WORKSFORME; but if you still have\nproblems, please reopen it, and attach a .war test case.  Thanks.", "id": 8863, "time": "2001-12-12T14:28:47Z", "creator": "kin-man.chung@sun.com", "creation_time": "2001-12-12T14:28:47Z", "is_private": false}]