[{"count": 0, "tags": [], "bug_id": 38182, "attachment_id": null, "id": 84339, "time": "2006-01-08T12:30:49Z", "creator": "julian.reschke@gmx.de", "creation_time": "2006-01-08T12:30:49Z", "is_private": false, "text": "A COPY request such as\n\n  COPY /xyz HTTP/1.1\n  Host: www.example.com\n  Destination: http://julian-reschke.de/foo\n\nsucceeds. It should fail, unless the server has indeed created the resource at\nthe destination URI (which it didn't)."}, {"count": 1, "tags": [], "bug_id": 38182, "attachment_id": null, "id": 84428, "time": "2006-01-10T13:46:06Z", "creator": "jorton@redhat.com", "creation_time": "2006-01-10T13:46:06Z", "is_private": false, "text": "The code that checked the hostname/port has been disabled in 2.x for some reason. \n\ndav/util.c:\n\n#ifdef APACHE_PORT_HANDLING_IS_BUSTED\n    if (comp.hostname != NULL &&\n        !ap_matches_request_vhost(r, comp.hostname, port)) {\n..."}, {"count": 2, "tags": [], "bug_id": 38182, "text": "Julian explains that a potential reason is that being compliant here has problems with reverse proxies:\n\nConsider\n\n  MOVE /a HTTP/1.1\n  Host: www.example.com\n  Destination: http://www.example.com/b\n\nsent to a reverse proxy running on port 80 of www.example.com, which in turn forwards the request to \nport 8080, rewriting the host header, but not touching the Destination header:\n\n  MOVE /a HTTP/1.1\n  Host: www.example.com:8080\n  Destination: http://www.example.com/b\n\nA compliant WebDAV server will detect that the target of MOVE is on a different server, and fail the \nrequest.", "id": 84926, "time": "2006-01-24T04:32:35Z", "creator": "wsanchez@apache.org", "creation_time": "2006-01-24T04:32:35Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 38182, "attachment_id": null, "text": "Personally, I don't think that \"fixing\" the problem for reverse proxies justifies being non-compliant in this \nmanner, if this is indeed the reason why we disabled the check.", "id": 84927, "time": "2006-01-24T04:34:29Z", "creator": "wsanchez@apache.org", "creation_time": "2006-01-24T04:34:29Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 38182, "text": "See http://lists.w3.org/Archives/Public/w3c-dist-auth/2006JanMar/0286.html for Julian's expanded \nsummary regarding reverse proxies.", "id": 84928, "time": "2006-01-24T04:36:49Z", "creator": "wsanchez@apache.org", "creation_time": "2006-01-24T04:36:49Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 38182, "attachment_id": null, "id": 119030, "time": "2008-07-25T11:47:41Z", "creator": "malinowskirafal@wp.pl", "creation_time": "2008-07-25T11:47:41Z", "is_private": false, "text": "Will it be fixed? Is there any way to do it?\nIf there is a way just tell me, I will try ;)"}, {"count": 6, "tags": [], "bug_id": 38182, "attachment_id": 22612, "id": 120793, "time": "2008-09-19T07:16:20Z", "creator": "malinowskirafal@wp.pl", "creation_time": "2008-09-19T07:16:20Z", "is_private": false, "text": "Created attachment 22612\nProposed patch for this problem\n\nThis patch check if Destination host/port is the same as Host host/port. If not, BAD GATEWAY is returned.\n\nIt also translates Destination header in reverse proxy mode."}, {"count": 7, "tags": [], "bug_id": 38182, "attachment_id": null, "id": 120794, "time": "2008-09-19T07:32:56Z", "creator": "julian.reschke@gmx.de", "creation_time": "2008-09-19T07:32:56Z", "is_private": false, "text": "Did you consider to, while fixing this, also allow the new RFC 4918 format (absolute path instead of absolute URI)?"}, {"count": 8, "tags": [], "bug_id": 38182, "attachment_id": null, "text": "No, but it would be one simple check for Destination format.", "id": 120795, "time": "2008-09-19T07:51:02Z", "creator": "malinowskirafal@wp.pl", "creation_time": "2008-09-19T07:51:02Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 38182, "attachment_id": 22618, "id": 120824, "time": "2008-09-20T09:46:57Z", "creator": "malinowskirafal@wp.pl", "creation_time": "2008-09-20T09:46:57Z", "is_private": false, "text": "Created attachment 22618\nPatch with non-absolute path support"}, {"count": 10, "tags": [], "creator": "malinowskirafal@wp.pl", "attachment_id": null, "text": "#7 - done", "id": 120825, "time": "2008-09-20T09:47:32Z", "bug_id": 38182, "creation_time": "2008-09-20T09:47:32Z", "is_private": false}]