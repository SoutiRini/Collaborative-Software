[{"count": 0, "tags": [], "bug_id": 11197, "is_private": false, "text": "This code doesn't work when filter mapped on *.jsp:\n<code>\n/**\n * Localization filter\n */\npublic class LocalizationFilter implements Filter\n{\n        .....\n\n        public void doFilter(ServletRequest servletRequest, \n                        ServletResponse servletResponse, \n                        FilterChain filterChain)\n                throws IOException, ServletException\n        {\n                String mimeEncoding = /* get mime encoding from */;\n                \n                .....\n\n                // This call does not work without patch.\n                servletResponse.setContentType(\"text/html; charset=\" + \nmimeEncoding);\n                \n                .....\n\n                filterChain.doFilter(servletRequest, servletResponse);\n        }\n}\n</code>", "id": 20238, "time": "2002-07-26T08:02:12Z", "creator": "div@yandex.ru", "creation_time": "2002-07-26T08:02:12Z", "attachment_id": null}, {"count": 1, "text": "I'm not agree. I think it is bug in Jasper.\n\nThere is class (org.apache.jasper.compiler.JspParseEventListener) \ncompiles jsp to servlet line 367:\n<code>\n\twriter.println(\"response.setContentType(\"\n\t\t\t   + writer.quoteString(servletContentType)\n\t\t\t   + \");\");\n</code>\nQuoted part of servlet code overrides filter's call.", "bug_id": 11197, "is_private": false, "id": 21793, "time": "2002-08-27T12:59:10Z", "creator": "div@yandex.ru", "creation_time": "2002-08-27T12:59:10Z", "tags": [], "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 11197, "attachment_id": null, "is_private": false, "id": 51878, "time": "2004-02-07T15:04:33Z", "creator": "funkman@joedog.org", "creation_time": "2004-02-07T15:04:33Z", "text": "\n\n*** This bug has been marked as a duplicate of 5715 ***"}]