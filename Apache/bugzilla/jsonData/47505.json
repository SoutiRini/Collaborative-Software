[{"count": 0, "tags": [], "text": "Hi, \n\nI am facing strange issue with Tomcat 6 Jsp deployment. \nI have JSP pages deployed which internally performs operations and generates \nXML response which will be parsed using XSL and then finally displayed on \nthe UI. \nNow when I invoke JSP pages from UI, session is getting null between the \nrequests and this works perfectly fine on other Weblogic/Websphere App \nservers. \nWe do use taglibs in xsl and JSPs. \n\nJDK version : 1.5.13 \nTomcat Ver: 6.0.18 \n\nThis error is again random but comes frequently even for the same page 2 \ntimes out of 5 clicks. \nAny help on this will be useful, thanks. \n\nPosting the error message here for more info: \n\norg.apache.jasper.JasperException: java.lang.NullPointerException \n        org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:522) \n        org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:416) \n\n        org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342) \n        org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267) \n        javax.servlet.http.HttpServlet.service(HttpServlet.java:717) \n\n*root cause* \n\njava.lang.NullPointerException \n        com.teradata.x2.context.Settings.getSettings(Settings.java:102) \n        com.teradata.x2.context.ServletProcessContext.getSettings(ServletProcessContext.java:38) \n\n        com.teradata.ui.web.common.HTMLComponent.getSettings(HTMLComponent.java:76) \n        com.teradata.ui.web.common.StyleSheetLink.doInline(StyleSheetLink.java:237) \n        com.teradata.ui.web.common.StyleSheetLink.prepareHTMLString(StyleSheetLink.java:170) \n\n        com.teradata.ui.web.common.HTMLComponent.toHTMLString(HTMLComponent.java:91) \n        com.teradata.ui.web.taglib.BodyTagBase.doEndTag(BodyTagBase.java:65) \n        org.apache.jsp.bcm.framework.tableeditor.tableeditor_jsp._jspx_meth_td_005fstylesheet_005f0(tableeditor_jsp.java:201) \n\n        org.apache.jsp.bcm.framework.tableeditor.tableeditor_jsp._jspService(tableeditor_jsp.java:99) \n        org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) \n        javax.servlet.http.HttpServlet.service(HttpServlet.java:717) \n\n        org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374) \n        org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342) \n        org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267) \n\n        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)", "attachment_id": null, "id": 128684, "creation_time": "2009-07-09T22:48:08Z", "time": "2009-07-09T22:48:08Z", "creator": "gkiran1980@gmail.com", "bug_id": 47505, "is_private": false}, {"count": 1, "tags": [], "creator": "gkiran1980@gmail.com", "is_private": false, "text": "Created attachment 23954\nJSPServletWrapper.java file", "id": 128685, "time": "2009-07-09T23:04:00Z", "bug_id": 47505, "creation_time": "2009-07-09T23:04:00Z", "attachment_id": 23954}, {"count": 2, "text": "Hi,\n\nThe problem is response object is serving to the browser before creating context/session object.\nI made a change in JSPServletWrapper.java file at line#374 to solve this problem for temporarily.I know This is not permanent solution,since this a show stopper for me I made fix like that.\n\nModified JSPServletWrapper.java file I am attaching to this issue.", "bug_id": 47505, "attachment_id": null, "id": 128686, "time": "2009-07-09T23:05:39Z", "creator": "gkiran1980@gmail.com", "creation_time": "2009-07-09T23:05:39Z", "tags": [], "is_private": false}, {"count": 3, "text": "Already asked AND answered on users@\nhttp://markmail.org/message/pv3qdg2xjhtqok3p\n\nYou absolutely cannot access an (Http)ServletRequest object instance once the request processing has been completed. That is not allowed.", "bug_id": 47505, "attachment_id": null, "id": 128687, "time": "2009-07-10T00:18:07Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2009-07-10T00:18:07Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "text": "Then why it is working fine weblogic.", "attachment_id": null, "id": 128711, "creation_time": "2009-07-10T02:22:21Z", "time": "2009-07-10T02:22:21Z", "creator": "gkiran1980@gmail.com", "bug_id": 47505, "is_private": false}, {"count": 5, "tags": [], "bug_id": 47505, "attachment_id": null, "is_private": false, "id": 128712, "time": "2009-07-10T02:23:02Z", "creator": "gkiran1980@gmail.com", "creation_time": "2009-07-10T02:23:02Z", "text": "Then why it is working fine in weblogic."}, {"count": 6, "attachment_id": null, "bug_id": 47505, "text": "You got lucky.\n\nIf you do something outside of the specs and it happens to work with one container, there is no guarantee it will work with any other container.", "id": 128713, "time": "2009-07-10T02:51:53Z", "creator": "markt@apache.org", "creation_time": "2009-07-10T02:51:53Z", "tags": [], "is_private": false}]