[{"count": 0, "tags": [], "bug_id": 46168, "attachment_id": null, "id": 122278, "time": "2008-11-07T08:00:24Z", "creator": "jd@cpanel.net", "creation_time": "2008-11-07T08:00:24Z", "is_private": false, "text": "With 2.2.10, Apache's configure script was updated to determine the OpenSSL linker flags using pkg-config.  One of the flags passed to pkg-config isn't universally supported and prevents configure from finding the OpenSSL libriares.\n\nOn CentOS 3 openssl is linked against kerberos and requires -L/usr/kerberos/lib(64)\n\nchecking for openssl/opensslv.h... yes\nchecking openssl/ssl.h usability... yes\nchecking openssl/ssl.h presence... no\nconfigure: WARNING: openssl/ssl.h: accepted by the compiler, rejected by the preprocessor!\nconfigure: WARNING: openssl/ssl.h: proceeding with the compiler's result\nchecking for openssl/ssl.h... yes\nnot encouraging\nWARNING: OpenSSL version may contain security vulnerabilities!\n         Ensure the latest security patches have been applied!\n  adding \"-I/usr/kerberos/include\" to CPPFLAGS\n  adding \"-I/usr/kerberos/include\" to INCLUDES\n--libs-only-other: unknown option\n  forcing SSL_LIBS to \"-lssl -lcrypto -lgssapi_krb5 -lkrb5 -lcom_err -lk5crypto -lresolv -ldl -lz  \"\n  adding \"-lssl\" to LIBS\n  adding \"-lcrypto\" to LIBS\n  adding \"-lgssapi_krb5\" to LIBS\n  adding \"-lkrb5\" to LIBS\n  adding \"-lcom_err\" to LIBS\n  adding \"-lk5crypto\" to LIBS\n  adding \"-lresolv\" to LIBS\n  adding \"-ldl\" to LIBS\n  adding \"-lz\" to LIBS\nchecking openssl/engine.h usability... yes\nchecking openssl/engine.h presence... yes\nchecking for openssl/engine.h... yes\nchecking for SSLeay_version... no\nchecking for SSL_CTX_new... no\nchecking for ENGINE_init... no\nchecking for ENGINE_load_builtin_engines... no\nchecking for SSL_set_cert_store... no\nconfigure: error: ... Error, SSL/TLS libraries were missing or unusable\n\nThe problem is that this version of pkg-config doesn't support --libs-only-other\n\n[root@localhost httpd-2.2.10]# pkg-config --libs-only-L --libs-only-other openssl\n--libs-only-other: unknown option\n\n[root@localhost httpd-2.2.10]# pkg-config --libs openssl\n-L/usr/kerberos/lib -L/usr/kerberos/lib64 -lssl -lcrypto -lgssapi_krb5 -lkrb5 -lcom_err -lk5crypto -lresolv -ldl -lz  \n\n[root@localhost httpd-2.2.10]# pkg-config --libs-only-L openssl\n-L/usr/kerberos/lib -L/usr/kerberos/lib64"}, {"count": 1, "tags": [], "bug_id": 46168, "attachment_id": null, "id": 122295, "time": "2008-11-08T02:31:37Z", "creator": "rpluem@apache.org", "creation_time": "2008-11-08T02:31:37Z", "is_private": false, "text": "The option --libs-only-other is in pkgconfig since 2003. Please update to a later version of pkgconfig."}]