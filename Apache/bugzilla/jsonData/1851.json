[{"count": 0, "tags": [], "bug_id": 1851, "attachment_id": null, "text": "When you have a JSP containig a line like follows:\n<%=response.encodeURL(\"test.jsp\")%>\nyou wont get a rewritten URL under https, http works fine.\nI modified the source as follows to get Tomcat to work:\n\nTomcat.java:\n// insert at beginning\nimport java.security.Security;\n\npublic class Tomcat {\n...\nTomcat() {\n// Enable https in URL\n// insert following two lines\nSystem.setProperty(\"java.protocol.handler.pkgs\",\"com.sun.net.ssl.internal.www.pr\notocol\");\nSecurity.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\n}\n\nAdd jsse.jar and jcert.jar (SSL Libraries from sun)  to your classpath.\nNow https:... URLs are accepted for the java class URL.\n\nNext Problem:\nin HttpServletResponseFacade.java\nprivate boolean isEncodeable(String location)\n...\n// Change code for verifying Port to the following\n        int urlPort = url.getPort();\n        if ((urlPort != -1) && (request.getServerPort() != urlPort))\n        {\n\t    \treturn (false);\n        }\n\nNow encodeURL should fully work.\n\nGreetings Gunnar", "id": 2592, "time": "2001-05-22T02:35:29Z", "creator": "Henne@otris.de", "creation_time": "2001-05-22T02:35:29Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 1851, "text": "*** Bug 1853 has been marked as a duplicate of this bug. ***", "id": 3105, "time": "2001-06-19T23:00:26Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-06-19T23:00:26Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 1851, "text": "This has already been fixed in 3.2.2.  You have to have to set the system \nproperty from the command using the -D parameter.", "id": 3214, "time": "2001-06-22T13:40:15Z", "creator": "marc.saegesser@apropos.com", "creation_time": "2001-06-22T13:40:15Z", "is_private": false, "attachment_id": null}]