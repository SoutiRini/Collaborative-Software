[{"count": 0, "tags": [], "text": "Whenever I try to run a JSP page, if there is an error on it, the stdout error \nwill show a \"NumberFormatError\" and no other making debug virtually \nimpossible.  Running the application back to 3.2.3 shows the correct error.  I \nam using JDK1.4b if that makes any difference.", "is_private": false, "id": 6505, "creator": "rob.ellis@neurals.net", "time": "2001-10-09T08:33:21Z", "bug_id": 4047, "creation_time": "2001-10-09T08:33:21Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "No details are given, so I assume it's a duplicate of another similar bug. \nPlease reopen the bug giving out more details (like attaching a sample JSP page \nwhich would produce the error) if that's not the case.\n\n*** This bug has been marked as a duplicate of 2693 ***", "attachment_id": null, "id": 6516, "creator": "remm@apache.org", "time": "2001-10-09T15:08:26Z", "bug_id": 4047, "creation_time": "2001-10-09T15:08:26Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 4047, "attachment_id": null, "id": 6529, "time": "2001-10-10T00:18:59Z", "creator": "rob.ellis@neurals.net", "creation_time": "2001-10-10T00:18:59Z", "is_private": false, "text": "\nJDK1.4b, Win2kServer, Tomcat 4.0 final.\n\nMore details attached. Problem with using a deprecated method and then causing \nerrors in the code.  I've inserted a sample jsp page and the debug dump.\n\n<%\n\n\t/*\n\t\tSAMPLE CODE\n\n\t\tSteps\n\n\t\t1. Run the code as it stands, it incorrectly generates a \n\t\t\tjava.lang.NumberFormatException. It should generate an \nUndefined \n\t\t\tVariable error.\n\n\t\t2. Change the getValue to getAttribute (the nondeprecated \nmethod) and compile,\n\t\t\tand debug gives the correct error.\n\n\t\tTalk\n\t\t\n\t\tIt seems that using the deprecated method is causing the debug \nto incorrectly\n\t\treport any error below it - in the case of the sample code, \ngiving a \n\t\tNumberFormatException rather than an Undefined Var. However, \nthis is true of \n\t\tany error within the page that is caused below the getValue \nmethod.\n\t\n\t\tIf the If (session..) statement is commented out, then the JSP \ngives the correct\n\t\terror.  \n\n\t*/\n\n\tif ( session.getValue( \"anyOldSessVar\" ) != \"OK\" )\n\t{\n\t\tout.print (\"Session var not found\");\n\t}\n\n\tpages = \"test\";\n\t\n\n%> \n\nA Servlet Exception Has Occurred\nException Report:\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(Unknown Source)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary(Unknown \nSource)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(Unknown Source)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(Unknown Source)\n\tat org.apache.jasper.servlet.JspServlet.service(Unknown Source)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(Unknown Source)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(Unknown \nSource)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invoke(Unknown Source)\n\tat org.apache.catalina.core.ContainerBase.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardContextValve.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(Unknown Source)\n\tat org.apache.catalina.valves.CertificatesValve.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invoke(Unknown Source)\n\tat org.apache.catalina.core.ContainerBase.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardContext.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardHostValve.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(Unknown Source)\n\tat org.apache.catalina.valves.AccessLogValve.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invoke(Unknown Source)\n\tat org.apache.catalina.core.ContainerBase.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invoke(Unknown Source)\n\tat org.apache.catalina.core.ContainerBase.invoke(Unknown Source)\n\tat org.apache.catalina.connector.http.HttpProcessor.process(Unknown \nSource)\n\tat org.apache.catalina.connector.http.HttpProcessor.run(Unknown Source)\n\tat java.lang.Thread.run(Thread.java:539)\n\nRoot Cause:\njava.lang.NumberFormatException:  C\n\tat java.lang.Integer.parseInt(Integer.java:429)\n\tat java.lang.Integer.parseInt(Integer.java:479)\n\tat org.apache.jasper.compiler.Compiler.getJspLineErrors(Unknown Source)\n\tat org.apache.jasper.compiler.Compiler.compile(Unknown Source)\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(Unknown Source)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary(Unknown \nSource)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(Unknown Source)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(Unknown Source)\n\tat org.apache.jasper.servlet.JspServlet.service(Unknown Source)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(Unknown Source)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(Unknown \nSource)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invoke(Unknown Source)\n\tat org.apache.catalina.core.ContainerBase.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardContextValve.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(Unknown Source)\n\tat org.apache.catalina.valves.CertificatesValve.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invoke(Unknown Source)\n\tat org.apache.catalina.core.ContainerBase.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardContext.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardHostValve.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(Unknown Source)\n\tat org.apache.catalina.valves.AccessLogValve.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invoke(Unknown Source)\n\tat org.apache.catalina.core.ContainerBase.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext(Unknown Source)\n\tat org.apache.catalina.core.StandardPipeline.invoke(Unknown Source)\n\tat org.apache.catalina.core.ContainerBase.invoke(Unknown Source)\n\tat org.apache.catalina.connector.http.HttpProcessor.process(Unknown \nSource)\n\tat org.apache.catalina.connector.http.HttpProcessor.run(Unknown Source)\n\tat java.lang.Thread.run(Thread.java:539)\n\n\n"}, {"count": 3, "tags": [], "creator": "kin-man.chung@sun.com", "attachment_id": null, "text": "This should have been fixed, either with 4.0.1 beta1 or the nightly build. \nPlease verify.", "id": 6552, "time": "2001-10-10T11:17:34Z", "bug_id": 4047, "creation_time": "2001-10-10T11:17:34Z", "is_private": false}, {"count": 4, "tags": [], "creator": "rob.ellis@neurals.net", "attachment_id": null, "text": "Works a treat :-)", "id": 6574, "time": "2001-10-11T01:04:26Z", "bug_id": 4047, "creation_time": "2001-10-11T01:04:26Z", "is_private": false}]