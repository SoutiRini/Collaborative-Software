[{"attachment_id": null, "tags": [], "bug_id": 60636, "text": "ap_register_auth_provider is typically used with its fifth argument pointing to a static structure initialised in the module code. One of the types for this is authn_provider* which currently has two functions.\n\nI noticed some modules like mod_authnz_ldap.c do not initialise all the values. I believe they are relying upon the c language feature where statics will be initialized with 0 values for unspecified values.\n\n1865 static const authn_provider authn_ldap_provider =\n1866 \t{\n1867 \t    &authn_ldap_check_password,\n1868 \t};\n\nWould this be better to be more explicit in the code with addition of a second value of NULL perhaps with a comment describing why it's not used? I see some other modules have full initialization, e.g. mod_authn_core.c\n\n188 \tstatic const authn_provider authn_alias_provider =\n189 \t{\n190 \t    &authn_alias_check_password,\n191 \t    &authn_alias_get_realm_hash,\n192 \t};\n193 \t\n194 \tstatic const authn_provider authn_alias_provider_nodigest =\n195 \t{\n196 \t    &authn_alias_check_password,\n197 \t    NULL,\n198 \t};\n\nThis is only a bug if NULL is an invalid (hence dangerous) value for second argument. In the documentation embedded in mod_auth.h I see that authz_provider states second function pointer can be NULL but there's no discussion of this for authn_provider. If that second argument is not allowed to be NULL this is a bug, if it is allowed to be NULL then docs could be improved and code could be made more safe/explicit in any module using these with full initialization to aid understanding of this code for maintainers.", "count": 0, "id": 196372, "time": "2017-01-24T17:32:00Z", "creator": "kjw@ms.com", "creation_time": "2017-01-24T17:32:00Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 60636, "attachment_id": null, "id": 198828, "creation_time": "2017-05-20T05:28:04Z", "time": "2017-05-20T05:28:04Z", "creator": "christophe.jaillet@wanadoo.fr", "text": "Thx for the report.\nIt has been fixed in r1795651.", "is_private": false}, {"count": 2, "tags": [], "creator": "christophe.jaillet@wanadoo.fr", "attachment_id": null, "id": 203103, "time": "2018-01-05T07:03:34Z", "bug_id": 60636, "creation_time": "2018-01-05T07:03:34Z", "is_private": false, "text": "This has been backported in 2.4.x in r1800268."}]