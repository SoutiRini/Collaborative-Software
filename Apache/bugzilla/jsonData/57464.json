[{"count": 0, "tags": [], "bug_id": 57464, "attachment_id": null, "text": "https://tools.ietf.org/html/draft-ietf-tls-downgrade-scsv\n\nhttps://www.ssllabs.com/ssltest/analyze.html?d=issues.apache.org complains about \n\"Downgrade attack prevention \tNo, TLS_FALLBACK_SCSV not supported (more info)\", but Mark expressed reluctance to do so as per http://mail-archives.apache.org/mod_mbox/tomcat-users/201412.mbox/%3C547ED9DD.2090305@apache.org%3E\n\nOn the other hand - it wouldn't really hurt to support it?\nOr is ssllabs with its warning \"off the map\"?", "id": 180381, "time": "2015-01-19T13:32:30Z", "creator": "hauser@acm.org", "creation_time": "2015-01-19T13:32:30Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 57464, "text": "This can't be supported for BIO or NIO since Java does not support it.\n\nI assume it could be supported for APR/native but:\na) I haven't looked into it\nb) I still don't see the point in expending effort on a feature that is only required by very old clients that are themselves unsupported\n\nThat said, I'm not going to stand in anyone's way if they want to implement it (unless the patch is very large and/or invasive).", "id": 180382, "time": "2015-01-19T13:38:58Z", "creator": "markt@apache.org", "creation_time": "2015-01-19T13:38:58Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "knst.kolinko@gmail.com", "attachment_id": null, "is_private": false, "id": 180414, "time": "2015-01-20T10:26:56Z", "bug_id": 57464, "creation_time": "2015-01-20T10:26:56Z", "text": "As far as I am reading this,  the check for presence of TLS_FALLBACK_SCSV cipher in cipher list provided by client should happen during protocol & cipher negotiation in TLS/SSL library.\n\nThat happens outside of Tomcat control. If the feature is implemented in the underlying libraries (Java JSSE, OpenSSL) then I think it will be available automatically, if they would have it \"on\" by default.\n\nAt most Tomcat could provide options to control turning the feature off/on, if such options are provided by the underlying libraries.\n\n\nLooking at OpenSSL changelog, this feature is available since 1.0.1j. As far as I understand, it is \"on\" by default, and I have not heard of a way to turn it off.\n\nThe following blog post says how to test it:\nhttps://dwradcliffe.com/2014/10/16/testing-tls-fallback.html\n\n\nTo clarify: TLS_FALLBACK_SCSV is a generic mechanism to protect from protocol downgrades. For example it can protect from a TLS 1.2 -> TLS 1.1 downgrade caused a MITM / unreliable network."}, {"count": 3, "attachment_id": null, "bug_id": 57464, "text": "Am OpenJDK patch and test case:\nDisclaimer: just one of first results found via googling. I do not know the full story here.\nhttps://fweimer.fedorapeople.org/openjdk/tls-fallback-scsv/jdk.patch\n\n\nThat is an OpenJDK patch. I do not know whether it has been applied to Oracle Java.  In any case, the patch is dated 2014-10-20 and the current versions of Oracle Java (8u25, 7u72) were released a week earlier on 2014-10-14, so they cannot contain it.\n\nUsually a security update on Java (and other Oracle products) comes out in January, but one has not been released yet.\n\n\nLinks to early access builds of Java have been mentioned on Tomcat dev list. Maybe somebody likes to test those.\n\nhttp://mail-archives.apache.org/mod_mbox/tomcat-dev/201501.mbox/%3C54B90DB1.7050801%40oracle.com%3E", "id": 180416, "time": "2015-01-20T11:15:32Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2015-01-20T11:15:32Z", "tags": [], "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 57464, "text": "There is nothing for Tomcat to do here. Server side support will be enabled by default when/if it is made available in JSSE. At the time of writing, it wasn't available.", "id": 183039, "time": "2015-05-19T14:05:59Z", "creator": "markt@apache.org", "creation_time": "2015-05-19T14:05:59Z", "tags": [], "is_private": false}]