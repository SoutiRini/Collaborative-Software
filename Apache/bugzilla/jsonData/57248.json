[{"count": 0, "tags": [], "bug_id": 57248, "text": "I have an Ant script that is failing where it shouldn't.\n\nproperties file:\n\napplication.foo.name=foo\napplication.foo.path=[path-to-foo]\napplication.foo.file=foo.jar\nappName=\n\ncode:\n\n<target name=\"deploy_app\" description=\"Deploys app\">\n  <condition property=\"appSelected\">\n    <and>\n      <not>\n        <equals arg1=\"${appName}\" arg2=\"\" />\n      </not>\n      <isset property=\"${appName}\" />\n    </and>\n  </condition>\n\n  <if>\n    <equals arg1=\"${appSelected}\" arg2=\"true\" />\n   <then>\n    <!-- do nothing! -->\n   </then>\n   <else>\n    <input\n      message=\"Please enter application name:\"\n      addproperty=\"newAppName\"\n    />\n    <var name=\"appName\" value=\"${newAppName}\" />\n  </else>\n</if>\n  <antcall inheritAll=\"true\" target=\"deploy\" />\n</target>\n\n<target name=\"deploy\">\n    <echo message=\"Deploying from property: application.${appName}.file\" />\n  <propertycopy silent=\"true\" name=\"appFile\" from=\"application.${appName}.file\" />\n  <propertycopy silent=\"true\" name=\"appPath\" from=\"application.${appName}.path\" />\n  <echo message=\"appFile: ${appFile}\" />\n  <fail unless=\"${appFile}\" message=\"appfile: ${appFile} No application with the name ${appName} is defined in your properties file.\" />\n</target>\n\noutput:\n\n [echo] Deploying from property: application.foo.file\n [echo] appFile: foo.jar\nERROR: The following error occurred while executing this line:\nappfile: foo.jar No application with the name foo is defined in your properties file.\n\nIt's even printing the property in the <fail> error message.", "id": 179238, "time": "2014-11-24T02:23:12Z", "creator": "bharris@integraltech.com.au", "creation_time": "2014-11-24T02:23:12Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 57248, "attachment_id": null, "is_private": false, "id": 179239, "time": "2014-11-24T04:55:11Z", "creator": "bodewig@apache.org", "creation_time": "2014-11-24T04:55:11Z", "text": "try unless=\"appFile\" - the attribute expects the name of the property, not its expanded value."}, {"count": 2, "tags": [], "bug_id": 57248, "is_private": false, "text": "(In reply to Stefan Bodewig from comment #1)\n> try unless=\"appFile\" - the attribute expects the name of the property, not\n> its expanded value.\n\nof course..sorry!", "id": 179240, "time": "2014-11-24T05:07:37Z", "creator": "bharris@integraltech.com.au", "creation_time": "2014-11-24T05:07:37Z", "attachment_id": null}]