[{"count": 0, "tags": [], "text": "I have an Apache 2.2.3 installation being used in conjunction with subversion\n1.4.2 for the purpose of setting up a code repository.\n\nOriginally, the repository paths were protected with the following directives\nusing mod_authz_ldap, under a <Location> block.\n\nAuthName \"repository\"\nAuthBasicProvider ldap\nAuthLDAPUrl ldap://ad001.ibsys.com:3268/dc=ibsys,dc=com?sAMAccountName\nAuthLDAPBindDN (obscured, but works)\nAuthLDAPBindPassword (obscured, but works)\nrequire ldap-group cn=svnadmin,OU=Distribution Lists,OU=IB,DC=ibsys,DC=com\n\nThat configuration worked fine for months.  Later on, we wanted to integrate a\n3rd party tool to provide metrics and reporting on our subversion repository. \nWe decided that using a local account directly on the subversion server was more\nsecure, and it prevented the possibility of the account being accidentally\ndeleted from a directory administrator.\n\nSo, I made the following changes to the configuration:\n\nAuthName \"repository\"\nAuthBasicProvider ldap files\nAuthLDAPUrl ldap://ad001.ibsys.com:3268/dc=ibsys,dc=com?sAMAccountName\nAuthLDAPBindDN (obscured, but works)\nAuthLDAPBindPassword (obscured, but works)\nrequire ldap-group cn=svnadmin,OU=Distribution Lists,OU=IB,DC=ibsys,DC=com\nAuthzLDAPAuthoritative off\nAuthUserFile /etc/httpd/conf/htpasswd.svn\nRequire user svnview\n\nThere's a one line htpasswd file with the proper userid and password.  The\nconfig file passed the tests, and the local user and the ldap group was able to\nauthenticate.  However, it turned out that every LDAP authentication attempt passed.\n\nIs this a bug, or is there a different way to write this authentication fallback\nto accomplish what I need.", "is_private": false, "id": 111812, "creator": "cjosephes@ibsys.com", "time": "2007-12-14T09:07:17Z", "bug_id": 44080, "creation_time": "2007-12-14T09:07:17Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 44080, "is_private": false, "id": 111826, "time": "2007-12-15T15:34:49Z", "creator": "covener@gmail.com", "creation_time": "2007-12-15T15:34:49Z", "tags": [], "text": "In this case the test username doesn't exist in AD? \n\nCan you attach LogLevel debug and possibly peek at the LDAP communication via a\npacket trace (don't attach a packet trace, bind password would be visible)\n\nYou should see (over the wire)\n\n1) a bind w/ your configured user/pass\n2) a search for the basic auth username w/ the filter specified in AuthLDAPUrl\n3) a bind w/ the basic auth web username&password.\n\nI'm assuming your failing testcase the web userid shouldn't map to any DN?\n"}, {"text": "Can't tell if it's a valid bug, but after two and a half years NEEDINFO it's going nowhere.", "tags": [], "creator": "nick@webthing.com", "attachment_id": null, "count": 2, "id": 138147, "time": "2010-07-04T23:44:09Z", "bug_id": 44080, "creation_time": "2010-07-04T23:44:09Z", "is_private": false}]