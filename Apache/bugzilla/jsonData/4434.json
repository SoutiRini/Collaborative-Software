[{"count": 0, "tags": [], "bug_id": 4434, "attachment_id": null, "text": "I receive an exception thrown from an invalid class cast while querying a page \n(which is there, and used to work using Tomcat 3.3)\n\nI have set a context \"/prod\" pointing to a WebApp on a directory (D:/web/)\nWhen querying the default index.jsp page, the error occurs.\nThis used to work fine with Tomcat 3.2.\nNote : All Web App jsp included files are RELATIVE to the context, not absolute:\neg : <%@include file=\"../login.jsp\"%>\n\nThe reported stack trace is :\norg.apache.jasper.JasperException: Unable to compile class for JSP\nD:\\Apache-Group\\catalina\\work\\localhost\\prod\\login\\index$jsp.java:71: \nIncompatible type for method. Explicit cast needed to convert \njava.lang.Throwable to java.lang.Exception.\n            if (pageContext != null) pageContext.handlePageException(t);\n                                                                     ^\n1 error\n\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:284)\n\tat org.apache.jasper.servlet.JspServlet.loadJSP(JspServlet.java:546)\n\tat \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.loadIfNecessary\n(JspServlet.java:177)\n\tat org.apache.jasper.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:189)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:382)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:474)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:201)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2344)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:164)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:462)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:163)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:1011)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1106)\n\tat java.lang.Thread.run(Thread.java:484)", "id": 7171, "time": "2001-10-25T14:00:21Z", "creator": "denis.balazuc@trader.com", "creation_time": "2001-10-25T14:00:21Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 4434, "attachment_id": null, "text": "Can you attach your index.jsp file (and other relevant files) here for me to\nreproduce this probem?  Thanks.", "id": 7205, "time": "2001-10-26T10:11:12Z", "creator": "kin-man.chung@sun.com", "creation_time": "2001-10-26T10:11:12Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 4434, "text": "Email from Denis further clarified that a old version of je22.jar which contains\na old version of servlet.jar was included in  WEB-INF/lib.  The problem went\naway after removing it.", "id": 7266, "time": "2001-10-29T09:53:56Z", "creator": "kin-man.chung@sun.com", "creation_time": "2001-10-29T09:53:56Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "text": "*** Bug 5708 has been marked as a duplicate of this bug. ***", "attachment_id": null, "bug_id": 4434, "id": 9396, "time": "2002-01-07T03:12:48Z", "creator": "remm@apache.org", "creation_time": "2002-01-07T03:12:48Z", "is_private": false}]