[{"count": 0, "attachment_id": null, "creator": "covener@gmail.com", "is_private": false, "id": 191973, "time": "2016-06-27T15:56:05Z", "bug_id": 59762, "creation_time": "2016-06-27T15:56:05Z", "tags": [], "text": "after poll error, listener thread tight loops while workers are shutting down (including over a CRIT message).\n\nSeems like it may just be short a break, but maybe not until after a back-to-back poll error? Probably need to review what errors are possible in different pollset providers and if any are really recoverable (minimally, only log the CRIT message once!)"}, {"count": 1, "tags": [], "bug_id": 59762, "text": "Which AH number for the CRIT message ?", "id": 192026, "time": "2016-06-29T23:41:18Z", "creator": "ylavic.dev@gmail.com", "creation_time": "2016-06-29T23:41:18Z", "is_private": false, "attachment_id": null}, {"count": 2, "attachment_id": null, "creator": "covener@gmail.com", "text": "(In reply to Yann Ylavic from comment #1)\n> Which AH number for the CRIT message ?\n\nwhoops, 03267", "id": 192027, "time": "2016-06-29T23:57:56Z", "bug_id": 59762, "creation_time": "2016-06-29T23:57:56Z", "tags": [], "is_private": false}, {"count": 3, "attachment_id": null, "creator": "ylavic.dev@gmail.com", "text": "Thanks, maybe the errno too? :p", "id": 192028, "time": "2016-06-30T00:11:34Z", "bug_id": 59762, "creation_time": "2016-06-30T00:11:34Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 59762, "text": "In the repeated log I saw, it was EINVAL, which comes from msgrcv() in the \"asio\" pollset provider.  EINVAL or EBADF would probably be similar for epoll (something has been clobbered and isn't going to get any better)", "id": 192029, "time": "2016-06-30T00:48:25Z", "creator": "covener@gmail.com", "creation_time": "2016-06-30T00:48:25Z", "is_private": false, "attachment_id": null}, {"text": "Maybe something like this to help contain the damage on a rare case where poll stops working:\n\nhttp://people.apache.org/~covener/patches/event-poll_failure.diff", "tags": [], "bug_id": 59762, "is_private": false, "count": 5, "id": 193466, "time": "2016-09-02T18:01:22Z", "creator": "covener@gmail.com", "creation_time": "2016-09-02T18:01:22Z", "attachment_id": null}, {"count": 6, "attachment_id": null, "creator": "ylavic.dev@gmail.com", "is_private": false, "id": 193721, "time": "2016-09-14T20:14:04Z", "bug_id": 59762, "creation_time": "2016-09-14T20:14:04Z", "tags": [], "text": "(In reply to Eric Covener from comment #5)\n\nLooks good, but is it still needed after r1759011?"}, {"count": 7, "attachment_id": null, "creator": "covener@gmail.com", "text": "(In reply to Yann Ylavic from comment #6)\n> (In reply to Eric Covener from comment #5)\n> \n> Looks good, but is it still needed after r1759011?\n\nHaha, yes this little bug caused big pain and is likely the reason I saw this looping on a real system.  It seems a little unnecessarily risky but maybe I'll leave it linger for a while here.", "id": 194002, "time": "2016-09-26T21:18:42Z", "bug_id": 59762, "creation_time": "2016-09-26T21:18:42Z", "tags": [], "is_private": false}]