[{"count": 0, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "id": 146602, "time": "2011-05-24T20:22:53Z", "bug_id": 51259, "creation_time": "2011-05-24T20:22:53Z", "tags": [], "text": "Hello,\nAs proposed by Philip Hanik on mailing list, I open the bug.\n\nI have implemented for Ofbiz a port of DBCP Local XA feature that uses Tomcat JDBC Pool.\nI would like to contribute this feature to Tomcat JDBC Pool because it seems to me the right place.\nIt would introduce the following compilation dependency:JTA 1.1\n\nPhilippe\nhttp://www.ubik-ingenierie.com"}, {"id": 146603, "tags": [], "bug_id": 51259, "is_private": false, "count": 1, "text": "Created attachment 27054\nThe implementation\n\nAS for now patch requires a JDK6 compilation because of DelegatingConnection.\nI think this will maybe an issue for you.\nIf you see a way to improve this, I will be happy to implement it.\n\nRegards\nPhilippe", "time": "2011-05-24T20:24:56Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-05-24T20:24:56Z", "attachment_id": 27054}, {"count": 2, "tags": [], "bug_id": 51259, "attachment_id": null, "is_private": false, "id": 146605, "time": "2011-05-24T20:51:08Z", "creator": "fhanik@apache.org", "creation_time": "2011-05-24T20:51:08Z", "text": "Hi Philippe, take some time and study the implementation. we don't implement any java.sql interfaces, there is no need to. we use proxies instead. that way we don't tie ourselves to an implementation.\n\nthe only interface we do implement is the javax.sql.DataSource, but we do it in such a way that it will compile on all versions.\n\nThe patch you proposed is not aligned with the style of jdbc-pool, but with the style of dbcp. \n\nwe don't wrap layers of java.sql.Connection, we just implement interceptors.\n\nThis patch, would break that portion of it. So I'm marking wontfix, so you can submit a better patch."}]