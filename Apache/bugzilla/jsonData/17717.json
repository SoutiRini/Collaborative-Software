[{"count": 0, "tags": [], "creator": "jelly_bean_junky@hotmail.com", "attachment_id": null, "is_private": false, "id": 32552, "time": "2003-03-06T11:45:32Z", "bug_id": 17717, "creation_time": "2003-03-06T11:45:32Z", "text": "I have compiled Apache2 (latest release) with the config flags here\n./configure --enable-layout=OpenBSD --enable-modules=all --enable-so --enable-\nssl --disable-ipv6 --disable-suexec --without-suexec --with-ssl=/usr/local\n\nThis is the returned output:\nchecking for chosen layout... OpenBSD\nchecking for working mkdir -p... yes\nchecking build system type... i386-unknown-openbsd3.2\nchecking host system type... i386-unknown-openbsd3.2\nchecking target system type... i386-unknown-openbsd3.2\n\nConfiguring Apache Portable Runtime library ...\n\nchecking for APR... reconfig\nconfiguring package in srclib/apr now\nchecking build system type... i386-unknown-openbsd3.2\nchecking host system type... i386-unknown-openbsd3.2\nchecking target system type... i386-unknown-openbsd3.2\nConfiguring APR library\nPlatform: i386-unknown-openbsd3.2\nchecking for working mkdir -p... yes\nAPR Version: 0.9.2\nchecking for chosen layout... OpenBSD\nchecking for gcc... gcc\nchecking for C compiler default output... a.out\nchecking whether the C compiler works... yes\nchecking whether we are cross compiling... no\nchecking for suffix of executables... \nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ANSI C... none needed\nApplying APR hints file rules for i386-unknown-openbsd3.2\n  setting CPPFLAGS to \"-D_POSIX_THREADS\"\n(Default will be unix)\nchecking whether make sets ${MAKE}... yes\nchecking how to run the C preprocessor... gcc -E\nchecking for gawk... no\nchecking for mawk... no\nchecking for nawk... nawk\nchecking whether ln -s works... yes\nchecking for ranlib... ranlib\nchecking for a BSD-compatible install... /usr/bin/install -c\nchecking for rm... rm\nchecking for as... as\nchecking for cpp... cpp\nchecking for ar... ar\nchecking for egrep... grep -E\nchecking for AIX... no\nchecking for library containing strerror... none required\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... no\nchecking for unistd.h... yes\nchecking minix/config.h usability... no\nchecking minix/config.h presence... no\nchecking for minix/config.h... no\nchecking whether system uses EBCDIC... no\nperforming libtool configuration...\nchecking for ld used by GCC... /usr/bin/ld\nchecking if the linker (/usr/bin/ld) is GNU ld... no\nchecking for /usr/bin/ld option to reload object files... -r\nchecking for BSD-compatible nm... /usr/bin/nm -B\nchecking for a sed that does not truncate output... /usr/bin/sed\nchecking how to recognise dependent libraries... file_magic OpenBSD.* shared \nlibrary\nchecking command to parse /usr/bin/nm -B output... ok\nchecking dlfcn.h usability... yes\nchecking dlfcn.h presence... yes\nchecking for dlfcn.h... yes\nchecking for ranlib... (cached) ranlib\nchecking for strip... strip\nchecking for objdir... .libs\nchecking for gcc option to produce PIC... -fPIC\nchecking if gcc PIC flag -fPIC works... yes\nchecking if gcc static flag -static works... yes\nchecking if gcc supports -c -o file.o... yes\nchecking if gcc supports -c -o file.lo... yes\nchecking if gcc supports -fno-rtti -fno-exceptions... yes\nchecking whether the linker (/usr/bin/ld) supports shared libraries... yes\nchecking how to hardcode library paths into programs... immediate\nchecking whether stripping libraries is possible... no\nchecking dynamic linker characteristics... openbsd3.2 ld.so\nchecking if libtool supports shared libraries... yes\nchecking whether to build shared libraries... yes\nchecking whether to build static libraries... yes\nchecking whether -lc should be explicitly linked in... yes\ncreating libtool\n\nCheck for compiler flags...\nchecking for res_init in -lresolv... yes\nchecking for gethostbyname in -lnsl... no\nchecking for library containing gethostname... none required\nchecking for socket in -lsocket... no\nchecking for library containing crypt... none required\nchecking for main in -ltruerand... no\nchecking for modf in -lm... yes\n\nChecking for Threads...\nchecking pthread.h usability... yes\nchecking pthread.h presence... yes\nchecking for pthread.h... yes\nchecking for pthreads_cflags... -pthread\nchecking for pthreads_lib... \nchecking for pthread.h... (cached) yes\nchecking whether pthread_getspecific takes two arguments... no\nchecking whether pthread_attr_getdetachstate takes one argument... no\nchecking for pthread_key_delete... yes\nchecking for pthread_rwlock_init... yes\nAPR will use threads\nchecking for readdir in -lc_r... yes\nchecking for gethostbyname in -lc_r... yes\nchecking for gethostbyaddr in -lc_r... yes\nchecking for gethostbyname_r... no\nchecking for gethostbyaddr_r... no\nchecking for sigsuspend... yes\nchecking for sigwait... yes\nchecking for poll... yes\nchecking for getpwnam_r... no\nchecking for getpwuid_r... no\nchecking for getgrnam_r... yes\nchecking for getgrgid_r... yes\n\nChecking for Shared Memory Support...\nchecking sys/mman.h usability... yes\nchecking sys/mman.h presence... yes\nchecking for sys/mman.h... yes\nchecking sys/ipc.h usability... yes\nchecking sys/ipc.h presence... yes\nchecking for sys/ipc.h... yes\nchecking sys/shm.h usability... yes\nchecking sys/shm.h presence... yes\nchecking for sys/shm.h... yes\nchecking sys/file.h usability... yes\nchecking sys/file.h presence... yes\nchecking for sys/file.h... yes\nchecking kernel/OS.h usability... no\nchecking kernel/OS.h presence... no\nchecking for kernel/OS.h... no\nchecking os2.h usability... no\nchecking os2.h presence... no\nchecking for os2.h... no\nchecking for mmap... yes\nchecking for munmap... yes\nchecking for shm_open... no\nchecking for shm_unlink... no\nchecking for shmget... yes\nchecking for shmat... yes\nchecking for shmdt... yes\nchecking for shmctl... yes\nchecking for create_area... no\nchecking for MAP_ANON in sys/mman.h... yes\nchecking for /dev/zero... yes\nchecking for mmap that can map /dev/zero... yes\ndecision on anonymous shared memory allocation method... 4.4BSD-style mmap() \nvia MAP_ANON\ndecision on namebased memory allocation method... SysV IPC shmget()\nchecking for alloca... yes\nchecking for calloc... yes\nchecking for strcasecmp... yes\nchecking for stricmp... no\nchecking for setsid... yes\nchecking for isinf... yes\nchecking for isnan... yes\nchecking for setrlimit... yes\nchecking for getrlimit... yes\nchecking for writev... yes\nchecking for sendfilev in -lsendfile... no\nchecking for sendfile... no\nchecking for send_file... no\nchecking for sendfilev... no\nchecking for sigaction... yes\nchecking for sys_siglist declaration in signal.h or unistd.h... yes\nchecking for fork... yes\nchecking for inet_addr... yes\nchecking for inet_network... yes\nchecking for _getch... no\nchecking for strerror_r... no\nchecking for crypt_r... no\nchecking for mmap... (cached) yes\nchecking for memmove... yes\nchecking for getpass... yes\nchecking for getpassphrase... no\nchecking for gmtime_r... yes\nchecking for localtime_r... yes\nchecking for hstrerror... yes\nchecking for mkstemp... yes\nchecking whether sigwait takes one argument... no\nchecking for inode member of struct dirent... d_fileno\nchecking for file type member of struct dirent... d_type\nchecking for ANSI C header files... (cached) yes\nchecking alloca.h usability... no\nchecking alloca.h presence... no\nchecking for alloca.h... no\nchecking ByteOrder.h usability... no\nchecking ByteOrder.h presence... no\nchecking for ByteOrder.h... no\nchecking conio.h usability... no\nchecking conio.h presence... no\nchecking for conio.h... no\nchecking crypt.h usability... no\nchecking crypt.h presence... no\nchecking for crypt.h... no\nchecking ctype.h usability... yes\nchecking ctype.h presence... yes\nchecking for ctype.h... yes\nchecking dir.h usability... no\nchecking dir.h presence... no\nchecking for dir.h... no\nchecking dirent.h usability... yes\nchecking dirent.h presence... yes\nchecking for dirent.h... yes\nchecking dl.h usability... no\nchecking dl.h presence... no\nchecking for dl.h... no\nchecking for dlfcn.h... (cached) yes\nchecking errno.h usability... yes\nchecking errno.h presence... yes\nchecking for errno.h... yes\nchecking fcntl.h usability... yes\nchecking fcntl.h presence... yes\nchecking for fcntl.h... yes\nchecking grp.h usability... yes\nchecking grp.h presence... yes\nchecking for grp.h... yes\nchecking io.h usability... no\nchecking io.h presence... no\nchecking for io.h... no\nchecking limits.h usability... yes\nchecking limits.h presence... yes\nchecking for limits.h... yes\nchecking mach-o/dyld.h usability... no\nchecking mach-o/dyld.h presence... no\nchecking for mach-o/dyld.h... no\nchecking malloc.h usability... yes\nchecking malloc.h presence... yes\nchecking for malloc.h... yes\nchecking for memory.h... (cached) yes\nchecking netdb.h usability... yes\nchecking netdb.h presence... yes\nchecking for netdb.h... yes\nchecking osreldate.h usability... no\nchecking osreldate.h presence... no\nchecking for osreldate.h... no\nchecking poll.h usability... yes\nchecking poll.h presence... yes\nchecking for poll.h... yes\nchecking process.h usability... no\nchecking process.h presence... no\nchecking for process.h... no\nchecking pwd.h usability... yes\nchecking pwd.h presence... yes\nchecking for pwd.h... yes\nchecking semaphore.h usability... yes\nchecking semaphore.h presence... yes\nchecking for semaphore.h... yes\nchecking signal.h usability... yes\nchecking signal.h presence... yes\nchecking for signal.h... yes\nchecking stdarg.h usability... yes\nchecking stdarg.h presence... yes\nchecking for stdarg.h... yes\nchecking stddef.h usability... yes\nchecking stddef.h presence... yes\nchecking for stddef.h... yes\nchecking stdio.h usability... yes\nchecking stdio.h presence... yes\nchecking for stdio.h... yes\nchecking for stdlib.h... (cached) yes\nchecking for string.h... (cached) yes\nchecking for strings.h... (cached) yes\nchecking sysapi.h usability... no\nchecking sysapi.h presence... no\nchecking for sysapi.h... no\nchecking sysgtime.h usability... no\nchecking sysgtime.h presence... no\nchecking for sysgtime.h... no\nchecking termios.h usability... yes\nchecking termios.h presence... yes\nchecking for termios.h... yes\nchecking time.h usability... yes\nchecking time.h presence... yes\nchecking for time.h... yes\nchecking tpfeq.h usability... no\nchecking tpfeq.h presence... no\nchecking for tpfeq.h... no\nchecking tpfio.h usability... no\nchecking tpfio.h presence... no\nchecking for tpfio.h... no\nchecking for unistd.h... (cached) yes\nchecking unix.h usability... no\nchecking unix.h presence... no\nchecking for unix.h... no\nchecking arpa/inet.h usability... yes\nchecking arpa/inet.h presence... yes\nchecking for arpa/inet.h... yes\nchecking for kernel/OS.h... (cached) no\nchecking net/errno.h usability... no\nchecking net/errno.h presence... no\nchecking for net/errno.h... no\nchecking netinet/in.h usability... yes\nchecking netinet/in.h presence... yes\nchecking for netinet/in.h... yes\nchecking netinet/sctp.h usability... no\nchecking netinet/sctp.h presence... no\nchecking for netinet/sctp.h... no\nchecking netinet/sctp_uio.h usability... no\nchecking netinet/sctp_uio.h presence... no\nchecking for netinet/sctp_uio.h... no\nchecking for sys/file.h... (cached) yes\nchecking for sys/mman.h... (cached) yes\nchecking sys/poll.h usability... yes\nchecking sys/poll.h presence... yes\nchecking for sys/poll.h... yes\nchecking sys/resource.h usability... yes\nchecking sys/resource.h presence... yes\nchecking for sys/resource.h... yes\nchecking sys/select.h usability... yes\nchecking sys/select.h presence... yes\nchecking for sys/select.h... yes\nchecking sys/sem.h usability... yes\nchecking sys/sem.h presence... yes\nchecking for sys/sem.h... yes\nchecking sys/sendfile.h usability... no\nchecking sys/sendfile.h presence... no\nchecking for sys/sendfile.h... no\nchecking sys/signal.h usability... yes\nchecking sys/signal.h presence... yes\nchecking for sys/signal.h... yes\nchecking sys/socket.h usability... yes\nchecking sys/socket.h presence... yes\nchecking for sys/socket.h... yes\nchecking for sys/stat.h... (cached) yes\nchecking sys/sysctl.h usability... no\nchecking sys/sysctl.h presence... yes\nconfigure: WARNING: sys/sysctl.h: present but cannot be compiled\nconfigure: WARNING: sys/sysctl.h: check for missing prerequisite headers?\nconfigure: WARNING: sys/sysctl.h: proceeding with the preprocessor's result\nchecking for sys/sysctl.h... yes\nchecking sys/syslimits.h usability... yes\nchecking sys/syslimits.h presence... yes\nchecking for sys/syslimits.h... yes\nchecking sys/time.h usability... yes\nchecking sys/time.h presence... yes\nchecking for sys/time.h... yes\nchecking for sys/types.h... (cached) yes\nchecking sys/uio.h usability... yes\nchecking sys/uio.h presence... yes\nchecking for sys/uio.h... yes\nchecking sys/un.h usability... yes\nchecking sys/un.h presence... yes\nchecking for sys/un.h... yes\nchecking sys/wait.h usability... yes\nchecking sys/wait.h presence... yes\nchecking for sys/wait.h... yes\nchecking for netinet/tcp.h... yes\nchecking for h_errno in netdb.h... yes\nchecking for off_t... yes\nchecking for pid_t... yes\nchecking for size_t... yes\nchecking for uid_t in sys/types.h... yes\nchecking for ssize_t... yes\nchecking for inline... inline\nchecking for an ANSI C-conforming const... yes\nchecking for size_t... (cached) yes\nchecking whether setpgrp takes no argument... no\nchecking for socklen_t... yes\nchecking whether system defines INADDR_NONE... yes\nchecking for void*... yes\nchecking size of void*... 4\nchecking for char... yes\nchecking size of char... 1\nchecking for int... yes\nchecking size of int... 4\nchecking for long... yes\nchecking size of long... 4\nchecking for short... yes\nchecking size of short... 2\nchecking for long double... yes\nchecking size of long double... 12\nchecking for long long... yes\nchecking size of long long... 8\nchecking for INT64_C... no\nchecking size of ssize_t... 4\nchecking size of size_t... 4\nchecking size of off_t... 8\nchecking size of pid_t... 4\nchecking for strnicmp... no\nchecking for strncasecmp... yes\nchecking for stricmp... (cached) no\nchecking for strcasecmp... (cached) yes\nchecking for strdup... yes\nchecking for strstr... yes\nchecking for memchr... yes\nchecking for strtoll... yes\n\nChecking for DSO...\nchecking for NSLinkModule... no\nchecking for shl_load in -ldld... no\nchecking for dlopen... yes\nchecking for dlsym... yes\n\nChecking for Processes...\nchecking for waitpid... yes\nchecking for Variable Length Arrays... yes\nchecking struct rlimit... yes\n\nChecking for Locking...\nchecking for semget... yes\nchecking for semctl... yes\nchecking for flock... yes\nchecking for semaphore.h... (cached) yes\nchecking for sem_close... yes\nchecking for sem_unlink... yes\nchecking for sem_post... yes\nchecking for sem_wait... yes\nchecking for working sem_open... no\nchecking for union semun in sys/sem.h... yes\nchecking for LOCK_EX in sys/file.h... yes\nchecking for F_SETLK in fcntl.h... yes\nchecking for SEM_UNDO in sys/sem.h... yes\nchecking for POLLIN in poll.h sys/poll.h... yes\nchecking for PTHREAD_PROCESS_SHARED in pthread.h... yes\nchecking for pthread_mutexattr_setpshared... no\ndecision on apr_lock implementation method... SysV IPC semget()\nchecking if all interprocess locks affect threads... no\nchecking if Posix sems affect threads in the same process... no\nchecking if SysV sems affect threads in the same process... no\nchecking if fcntl locks affect threads in the same process... no\nchecking if flock locks affect threads in the same process... no\nchecking for entropy source... /dev/arandom\n\nChecking for Time Support...\nchecking for tm_gmtoff in struct tm... yes\n\nChecking for Networking support...\nchecking for in_addr in netinet/in.h... yes\nchecking if fd == socket on this platform... yes\nchecking for sockaddr sa_len... yes\nchecking if TCP_NODELAY setting is inherited from listening sockets... no\nchecking if O_NONBLOCK setting is inherited from listening sockets... no\nchecking for TCP_CORK in netinet/tcp.h... no\nchecking for TCP_NOPUSH in netinet/tcp.h... no\nchecking for SO_ACCEPTFILTER in sys/socket.h... no\nchecking if SCTP protocol is supported... no\nchecking for set_h_errno... no\nchecking for presence of retrans/retry fields in res_state/resolv.h ... no\n\nChecking for IPv6 Networking support...\nchecking for library containing getaddrinfo... none required\nchecking for library containing gai_strerror... none required\nchecking for library containing getnameinfo... none required\nchecking for gai_strerror... yes\nchecking for working getaddrinfo... yes\nchecking for negative error codes for getaddrinfo... yes\nchecking for working getnameinfo... yes\nchecking for sockaddr_in6... yes\nchecking if APR supports IPv6... no -- disabled by user\n\nRestore user-defined environment settings...\n  restoring CPPFLAGS to \"\"\n  setting EXTRA_CPPFLAGS to \"-D_POSIX_THREADS\"\n  restoring CFLAGS to \"\"\n  setting EXTRA_CFLAGS to \"-g -O2 -pthread\"\n  restoring LDFLAGS to \"\"\n  setting EXTRA_LDFLAGS to \"\"\n  restoring LIBS to \"\"\n  setting EXTRA_LIBS to \"-lm -lresolv \"\n  restoring INCLUDES to \"\"\n  setting EXTRA_INCLUDES to \"\"\n\nConstruct Makefiles and header files.\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating strings/Makefile\nconfig.status: creating passwd/Makefile\nconfig.status: creating tables/Makefile\nconfig.status: creating build/Makefile\nconfig.status: creating file_io/unix/Makefile\nconfig.status: creating network_io/unix/Makefile\nconfig.status: creating threadproc/unix/Makefile\nconfig.status: creating misc/unix/Makefile\nconfig.status: creating locks/unix/Makefile\nconfig.status: creating time/unix/Makefile\nconfig.status: creating mmap/unix/Makefile\nconfig.status: creating shmem/unix/Makefile\nconfig.status: creating user/unix/Makefile\nconfig.status: creating memory/unix/Makefile\nconfig.status: creating atomic/unix/Makefile\nconfig.status: creating poll/unix/Makefile\nconfig.status: creating support/unix/Makefile\nconfig.status: creating dso/unix/Makefile\nconfig.status: creating test/Makefile\nconfig.status: creating test/internal/Makefile\nconfig.status: creating include/apr.h\nconfig.status: creating build/rules.mk\nconfig.status: creating apr-config\nconfig.status: creating include/arch/unix/apr_private.h\nconfig.status: executing default commands\nsrclib/apr configured properly\n  setting CFLAGS to \" -g -O2 -pthread\"\n  setting CPPFLAGS to \" -D_POSIX_THREADS\"\n  setting LDFLAGS to \" \"\n  setting INCLUDES to \" -I/home/kibble/source/httpd-2.0.44/srclib/apr/include \"\n\nConfiguring Apache Portable Runtime Utility library...\n\nchecking for APR-util... reconfig\nconfiguring package in srclib/apr-util now\nchecking build system type... i386-unknown-openbsd3.2\nchecking host system type... i386-unknown-openbsd3.2\nchecking target system type... i386-unknown-openbsd3.2\nchecking for working mkdir -p... yes\nAPR-util Version: 0.9.2\nchecking for chosen layout... OpenBSD\nApplying apr-util hints file rules for i386-unknown-openbsd3.2\nchecking for APR... yes\nchecking for gcc... gcc\nchecking for C compiler default output... a.out\nchecking whether the C compiler works... yes\nchecking whether we are cross compiling... no\nchecking for suffix of executables... \nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ANSI C... none needed\nchecking how to run the C preprocessor... gcc -E\nchecking for egrep... grep -E\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... no\nchecking for unistd.h... yes\nchecking for ldap support...\nchecking gdbm.h usability... no\nchecking gdbm.h presence... no\nchecking for gdbm.h... no\nchecking db4/db.h usability... no\nchecking db4/db.h presence... no\nchecking for db4/db.h... no\nchecking db.h usability... yes\nchecking db.h presence... yes\nchecking for db.h... yes\nchecking for db_create in -ldb... no\nchecking for db_create_4000 in -ldb... no\nchecking db3/db.h usability... no\nchecking db3/db.h presence... no\nchecking for db3/db.h... no\nchecking for db.h... (cached) yes\nchecking for db_create in -ldb... (cached) no\nchecking db2/db.h usability... no\nchecking db2/db.h presence... no\nchecking for db2/db.h... no\nchecking for db.h... (cached) yes\nchecking for db_open in -ldb... no\nchecking db1/db.h usability... no\nchecking db1/db.h presence... no\nchecking for db1/db.h... no\nchecking for db.h... (cached) yes\nchecking for dbopen in -lc... yes\nchecking for Berkeley DB... found db1\nchecking for default DBM... sdbm (default)\nchecking for Expat in /usr... no\nchecking for Expat in /usr/local... no\nchecking for Expat in xml/expat-cvs... no\nchecking for Expat in xml/expat... yes\nconfiguring package in xml/expat now\nchecking build system type... i386-unknown-openbsd3.2\nchecking host system type... i386-unknown-openbsd3.2\nchecking target system type... i386-unknown-openbsd3.2\nchecking for gcc... gcc\nchecking for C compiler default output... a.out\nchecking whether the C compiler works... yes\nchecking whether we are cross compiling... no\nchecking for suffix of executables... \nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ANSI C... none needed\nchecking for ld used by GCC... /usr/bin/ld\nchecking if the linker (/usr/bin/ld) is GNU ld... no\nchecking for /usr/bin/ld option to reload object files... -r\nchecking for BSD-compatible nm... /usr/bin/nm -B\nchecking for a sed that does not truncate output... /usr/bin/sed\nchecking whether ln -s works... yes\nchecking how to recognise dependent libraries... file_magic OpenBSD.* shared \nlibrary\nchecking command to parse /usr/bin/nm -B output... ok\nchecking how to run the C preprocessor... gcc -E\nchecking for egrep... grep -E\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... no\nchecking for unistd.h... yes\nchecking dlfcn.h usability... yes\nchecking dlfcn.h presence... yes\nchecking for dlfcn.h... yes\nchecking for ranlib... ranlib\nchecking for strip... strip\nchecking for objdir... .libs\nchecking for gcc option to produce PIC... -fPIC\nchecking if gcc PIC flag -fPIC works... yes\nchecking if gcc static flag -static works... yes\nchecking if gcc supports -c -o file.o... yes\nchecking if gcc supports -c -o file.lo... yes\nchecking if gcc supports -fno-rtti -fno-exceptions... yes\nchecking whether the linker (/usr/bin/ld) supports shared libraries... yes\nchecking how to hardcode library paths into programs... immediate\nchecking whether stripping libraries is possible... no\nchecking dynamic linker characteristics... openbsd3.2 ld.so\nchecking if libtool supports shared libraries... yes\nchecking whether to build shared libraries... yes\nchecking whether to build static libraries... yes\nchecking whether -lc should be explicitly linked in... yes\ncreating libtool\nchecking for gcc... (cached) gcc\nchecking whether we are using the GNU C compiler... (cached) yes\nchecking whether gcc accepts -g... (cached) yes\nchecking for gcc option to accept ANSI C... (cached) none needed\nchecking for a BSD-compatible install... /usr/bin/install -c\nchecking for ANSI C header files... (cached) yes\nchecking fcntl.h usability... yes\nchecking fcntl.h presence... yes\nchecking for fcntl.h... yes\nchecking for unistd.h... (cached) yes\nchecking for string.h... (cached) yes\nchecking whether byte ordering is bigendian... no\nchecking for an ANSI C-conforming const... yes\nchecking for off_t... yes\nchecking for size_t... yes\nchecking for working memcmp... yes\nchecking for stdlib.h... (cached) yes\nchecking for unistd.h... (cached) yes\nchecking for getpagesize... yes\nchecking for working mmap... yes\nchecking for memmove... yes\nchecking for bcopy... yes\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating lib/Makefile\nconfig.status: creating lib/expat.h\nconfig.status: creating config.h\nconfig.status: config.h is unchanged\nxml/expat configured properly\n  setting APRUTIL_EXPORT_LIBS to \"/home/kibble/source/httpd-2.0.44/srclib/apr-\nutil/xml/expat/lib/libexpat.la\"\n  setting APRUTIL_INCLUDES to \"-I/home/kibble/source/httpd-2.0.44/srclib/apr-\nutil/xml/expat/lib\"\n  setting APRUTIL_LDFLAGS to \"-L/home/kibble/source/httpd-2.0.44/srclib/apr-\nutil/xml/expat/lib\"\n  setting APRUTIL_LIBS to \"/home/kibble/source/httpd-2.0.44/srclib/apr-\nutil/xml/expat/lib/libexpat.la\"\nchecking iconv.h usability... no\nchecking iconv.h presence... no\nchecking for iconv.h... no\nchecking for iconv.h... (cached) no\nchecking langinfo.h usability... yes\nchecking langinfo.h presence... yes\nchecking for langinfo.h... yes\nchecking for nl_langinfo... yes\nchecking for CODESET in langinfo.h... no\n  adding \"/home/kibble/source/httpd-2.0.44/srclib/apr/libapr.la\" to APRUTIL_LIBS\n  adding \"-lm\" to APRUTIL_LIBS\n  adding \"-lresolv\" to APRUTIL_LIBS\nconfigure: creating ./config.status\nconfig.status: creating export_vars.sh\nconfig.status: creating apu-config\nconfig.status: creating include/private/apu_select_dbm.h\nconfig.status: creating include/apr_ldap.h\nconfig.status: creating include/apu.h\nconfig.status: creating Makefile\nconfig.status: creating buckets/Makefile\nconfig.status: creating crypto/Makefile\nconfig.status: creating dbm/Makefile\nconfig.status: creating dbm/sdbm/Makefile\nconfig.status: creating encoding/Makefile\nconfig.status: creating hooks/Makefile\nconfig.status: creating ldap/Makefile\nconfig.status: creating uri/Makefile\nconfig.status: creating xml/Makefile\nconfig.status: creating misc/Makefile\nconfig.status: creating strmatch/Makefile\nconfig.status: creating xlate/Makefile\nconfig.status: creating test/Makefile\nconfig.status: creating include/private/apu_config.h\nconfig.status: include/private/apu_config.h is unchanged\nconfig.status: executing default commands\nsrclib/apr-util configured properly\n  adding \"-L/home/kibble/source/httpd-2.0.44/srclib/apr-util/xml/expat/lib\" to \nLDFLAGS\n  adding \"-I/home/kibble/source/httpd-2.0.44/srclib/apr-util/include\" to \nINCLUDES\n  adding \"-I/home/kibble/source/httpd-2.0.44/srclib/apr-util/xml/expat/lib\" to \nINCLUDES\n\nConfiguring PCRE regular expression library ...\n\nconfiguring package in srclib/pcre now\nchecking for gcc... gcc\nchecking for C compiler default output... a.out\nchecking whether the C compiler works... yes\nchecking whether we are cross compiling... no\nchecking for suffix of executables... \nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ANSI C... none needed\nchecking for ranlib... ranlib\nchecking how to run the C preprocessor... gcc -E\nchecking for egrep... grep -E\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... no\nchecking for unistd.h... yes\nchecking limits.h usability... yes\nchecking limits.h presence... yes\nchecking for limits.h... yes\nchecking for an ANSI C-conforming const... yes\nchecking for size_t... yes\nchecking for bcopy... yes\nchecking for memmove... yes\nchecking for strerror... yes\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating pcre.h\nconfig.status: creating pcre-config\nconfig.status: creating config.h\nconfig.status: config.h is unchanged\nconfig.status: executing default commands\nsrclib/pcre configured properly\n\nConfiguring Apache httpd ...\n\n  adding \"-I.\" to INCLUDES\n  adding \"-I$(top_srcdir)/os/$(OS_DIR)\" to INCLUDES\n  adding \"-I$(top_srcdir)/server/mpm/$(MPM_SUBDIR_NAME)\" to INCLUDES\n  adding \"-I$(top_srcdir)/modules/http\" to INCLUDES\n  adding \"-I$(top_srcdir)/modules/filters\" to INCLUDES\n  adding \"-I$(top_srcdir)/modules/proxy\" to INCLUDES\n  adding \"-I$(top_srcdir)/include\" to INCLUDES\n\nApplying OS-specific hints for httpd ...\n\nchecking for rm... /bin/rm\nchecking for gawk... no\nchecking for mawk... no\nchecking for nawk... nawk\nchecking for gcc... gcc\nchecking for C compiler default output... a.out\nchecking whether the C compiler works... yes\nchecking whether we are cross compiling... no\nchecking for suffix of executables... \nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc accepts -g... yes\nchecking for gcc option to accept ANSI C... none needed\nchecking how to run the C preprocessor... gcc -E\nchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether ln -s works... yes\nchecking for ranlib... ranlib\nchecking for egrep... grep -E\nchecking for AIX... no\nchecking for library containing strerror... none required\nchecking for ANSI C header files... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... no\nchecking for unistd.h... yes\nchecking minix/config.h usability... no\nchecking minix/config.h presence... no\nchecking for minix/config.h... no\nchecking for ANSI C header files... (cached) yes\nchecking for string.h... (cached) yes\nchecking limits.h usability... yes\nchecking limits.h presence... yes\nchecking for limits.h... yes\nchecking for unistd.h... (cached) yes\nchecking sys/socket.h usability... yes\nchecking sys/socket.h presence... yes\nchecking for sys/socket.h... yes\nchecking pwd.h usability... yes\nchecking pwd.h presence... yes\nchecking for pwd.h... yes\nchecking grp.h usability... yes\nchecking grp.h presence... yes\nchecking for grp.h... yes\nchecking for strings.h... (cached) yes\nchecking sys/processor.h usability... no\nchecking sys/processor.h presence... no\nchecking for sys/processor.h... no\nchecking sys/sem.h usability... yes\nchecking sys/sem.h presence... yes\nchecking for sys/sem.h... yes\nchecking for sys/wait.h that is POSIX.1 compatible... yes\nchecking for an ANSI C-conforming const... yes\n  setting NOTEST_CPPFLAGS to \"-DAP_HAVE_DESIGNATED_INITIALIZER\"\nchecking for getpwnam... yes\nchecking for getgrnam... yes\nchecking for initgroups... yes\nchecking for bindprocessor... no\nchecking for timegm... yes\nchecking for tm_gmtoff in struct tm... yes\nchecking whether to enable mod_access... yes (all)\nchecking whether to enable mod_auth... yes (all)\nchecking whether to enable mod_auth_anon... yes (all)\nchecking whether to enable mod_auth_dbm... yes (all)\nchecking whether to enable mod_auth_digest... checking dependencies\nchecking whether to enable mod_auth_digest... yes (all)\n  setting LT_LDFLAGS to \"-export-dynamic\"\nchecking whether to enable mod_isapi... no\nchecking whether to enable mod_file_cache... no\nchecking whether to enable mod_echo... no\nchecking whether to enable mod_charset_lite... no\nchecking whether to enable mod_cache... no\nchecking whether to enable mod_disk_cache... no\nchecking whether to enable mod_mem_cache... no\nchecking whether to enable mod_example... no\nchecking whether to enable mod_case_filter... no\nchecking whether to enable mod_case_filter_in... no\nchecking whether to enable mod_ldap... no\nchecking whether to enable mod_auth_ldap... no\nchecking whether to enable mod_ext_filter... yes (all)\nchecking whether to enable mod_include... yes (all)\nchecking whether to enable mod_deflate... no\nchecking whether to enable mod_log_config... yes (all)\nchecking whether to enable mod_logio... no\nchecking whether to enable mod_env... yes (all)\nchecking whether to enable mod_mime_magic... yes (all)\nchecking whether to enable mod_cern_meta... yes (all)\nchecking whether to enable mod_expires... yes (all)\nchecking whether to enable mod_headers... yes (all)\nchecking whether to enable mod_usertrack... checking dependencies\nchecking sys/times.h usability... yes\nchecking sys/times.h presence... yes\nchecking for sys/times.h... yes\nchecking for times... yes\nchecking whether to enable mod_usertrack... yes (all)\nchecking whether to enable mod_unique_id... yes (all)\nchecking whether to enable mod_setenvif... yes (all)\nchecking whether to enable mod_proxy... no\nchecking whether to enable mod_proxy_connect... no\nchecking whether to enable mod_proxy_ftp... no\nchecking whether to enable mod_proxy_http... no\nchecking whether to enable mod_ssl... checking dependencies\nchecking for SSL/TLS toolkit base... /usr/local\nchecking for SSL/TLS toolkit version... unknown\nchecking for SSL/TLS toolkit includes... /usr/local/ssl/include\nchecking for SSL/TLS toolkit libraries... /usr/local/ssl/lib\n  adding \"-I/usr/local/ssl/include/openssl\" to INCLUDES\n  adding \"-I/usr/local/ssl/include\" to INCLUDES\n  adding \"-L/usr/local/ssl/lib\" to LDFLAGS\n  setting LIBS to \"-lssl -lcrypto\"\nchecking for SSL_set_state... no\nchecking for SSL_set_cert_store... no\nchecking whether to enable mod_ssl... yes (all)\nchecking whether to enable mod_optional_hook_export... no\nchecking whether to enable mod_optional_hook_import... no\nchecking whether to enable mod_optional_fn_import... no\nchecking whether to enable mod_optional_fn_export... no\nchecking whether to enable mod_bucketeer... no\nchecking for target platform... unix\nchecking for rlim_t... yes\nchecking sys/time.h usability... yes\nchecking sys/time.h presence... yes\nchecking for sys/time.h... yes\nchecking sys/resource.h usability... yes\nchecking sys/resource.h presence... yes\nchecking for sys/resource.h... yes\nchecking for sys/sem.h... (cached) yes\nchecking sys/ipc.h usability... yes\nchecking sys/ipc.h presence... yes\nchecking for sys/ipc.h... yes\nchecking for setsid... yes\nchecking for killpg... yes\nchecking bstring.h usability... no\nchecking bstring.h presence... no\nchecking for bstring.h... no\nchecking for unistd.h... (cached) yes\nchecking for syslog... yes\nchecking for sys/times.h... (cached) yes\nchecking for times... (cached) yes\nchecking which MPM to use... prefork\nchecking whether to enable mod_http... yes\nchecking whether to enable mod_mime... yes (all)\nchecking for extra modules... no extra modules\nchecking whether to enable mod_dav... yes (all)\n  adding \"-I$(top_srcdir)/modules/dav/main\" to INCLUDES\nchecking whether to enable mod_status... yes (all)\nchecking whether to enable mod_autoindex... yes (all)\nchecking whether to enable mod_asis... yes (all)\nchecking whether to enable mod_info... yes (all)\nchecking whether to enable mod_suexec... no\nchecking whether to enable mod_cgi... yes (all)\nchecking whether to enable mod_cgid... no\nchecking whether to enable mod_dav_fs... yes (all)\nchecking whether to enable mod_vhost_alias... yes (all)\nchecking whether to enable mod_negotiation... yes (all)\nchecking whether to enable mod_dir... yes (all)\nchecking whether to enable mod_imap... yes (all)\nchecking whether to enable mod_actions... yes (all)\nchecking whether to enable mod_speling... yes (all)\nchecking whether to enable mod_userdir... yes (all)\nchecking whether to enable mod_alias... yes (all)\nchecking whether to enable mod_rewrite... yes (all)\nchecking whether to enable mod_so... yes\nchecking whether byte ordering is bigendian... no\n\nRestore user-defined environment settings...\n\n  restoring CPPFLAGS to \"\"\n  setting EXTRA_CPPFLAGS to \" -D_POSIX_THREADS\"\n  restoring CFLAGS to \"\"\n  setting EXTRA_CFLAGS to \" -g -O2 -pthread\"\n  restoring CXXFLAGS to \"\"\n  setting EXTRA_CXXFLAGS to \"\"\n  restoring LDFLAGS to \"\"\n  setting EXTRA_LDFLAGS to \"  -L/home/kibble/source/httpd-2.0.44/srclib/apr-\nutil/xml/expat/lib -L/usr/local/ssl/lib\"\n  restoring LIBS to \"\"\n  setting EXTRA_LIBS to \"-lssl -lcrypto\"\n  restoring INCLUDES to \"\"\n  setting EXTRA_INCLUDES to \" -I/home/kibble/source/httpd-\n2.0.44/srclib/apr/include  -I/home/kibble/source/httpd-2.0.44/srclib/apr-\nutil/include -I/home/kibble/source/httpd-2.0.44/srclib/apr-util/xml/expat/lib -\nI. -I$(top_srcdir)/os/$(OS_DIR) -I$(top_srcdir)/server/mpm/$(MPM_SUBDIR_NAME) -\nI$(top_srcdir)/modules/http -I$(top_srcdir)/modules/filters -\nI$(top_srcdir)/modules/proxy -I$(top_srcdir)/include -\nI/usr/local/ssl/include/openssl -I/usr/local/ssl/include -\nI$(top_srcdir)/modules/dav/main\"\n\nConstruct makefiles and header files...\n\ncreating config_vars.mk\nconfigure: creating ./config.status\ncreating modules/aaa/Makefile\ncreating modules/arch/win32/Makefile\ncreating modules/cache/Makefile\ncreating modules/echo/Makefile\ncreating modules/experimental/Makefile\ncreating modules/filters/Makefile\ncreating modules/loggers/Makefile\ncreating modules/metadata/Makefile\ncreating modules/proxy/Makefile\ncreating modules/ssl/Makefile\ncreating modules/test/Makefile\ncreating os/unix/Makefile\ncreating server/mpm/Makefile\ncreating server/mpm/prefork/Makefile\ncreating modules/http/Makefile\ncreating modules/dav/main/Makefile\ncreating modules/generators/Makefile\ncreating modules/dav/fs/Makefile\ncreating modules/mappers/Makefile\ncreating Makefile\ncreating modules/Makefile\ncreating srclib/Makefile\ncreating os/beos/Makefile\ncreating os/os2/Makefile\ncreating os/Makefile\ncreating os/unix/Makefile\ncreating server/Makefile\ncreating support/Makefile\ncreating srclib/pcre/Makefile\ncreating test/Makefile\nconfig.status: creating docs/conf/httpd-std.conf\nconfig.status: creating include/ap_config_layout.h\nconfig.status: creating support/apxs\nconfig.status: creating support/apachectl\nconfig.status: creating support/dbmmanage\nconfig.status: creating support/envvars-std\nconfig.status: creating support/log_server_status\nconfig.status: creating support/logresolve.pl\nconfig.status: creating support/phf_abuse_log.cgi\nconfig.status: creating support/split-logfile\nconfig.status: creating build/rules.mk\nconfig.status: creating include/ap_config_auto.h\nconfig.status: include/ap_config_auto.h is unchanged\nconfig.status: executing default commands\n\n\nIt builds and makes sucessfully with no errors that I can see of (for those \nwhom want to see the make output email me plz) I have all the latest releases \nof DB's, patches, php, mysql and run latest version of OpenBSD.\nIn response to php I compile using the modules (apxs method) using the latest \nrelease of php from php.net\nConfig line included in the httpd.conf:\nLoadModule php4_module          /usr/lib/apache/modules/libphp4.so\n\nFrom wot I can see all the file permissions are fine and the server respondes \nand works correctly 100% and with great speed. I'm not using SSL at the moment \nalthou I have made the binary capable as I do want to include this feature in \nthe future.\n\nNow after about 8 hours of running in my web server stops responding. The port \nis open and accepts incoming connections. But it just doesn't responde to the \nclient. I've ssh'ed in and used 'ps aux' to see the processes. This is the \noutput:\n$ ps aux\nUSER       PID %CPU %MEM    VSZ   RSS TT  STAT  STARTED    TIME    COMMAND\nkibble    7517  0.0  0.0    280   172 p0  R+    11:00AM    0:00.00 ps -aux\nnobody   10562  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody   21979  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody   30307  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody    5351  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody    8550  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody    1620  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody   26416  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody   23136  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody   20965  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody    7233  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody   18492  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody   24475  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody    3726  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody    8601  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody    6332  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody   15210  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nnobody   23046  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\nroot         1  0.0  0.0    336   200 ??  Is    Mon12AM    0:00.06 /sbin/init\nroot     13315  0.0  0.0    100   372 ??  Ss    Mon12AM    0:00.46 syslogd\nroot      4257  0.0  0.0    356   868 ??  Ss    Mon12AM    \n0:00.86 /usr/sbin/sshd\nexim     22822  0.0  0.0    592   800 C0- I     Mon12AM    \n0:00.10 /usr/exim/bin/exim -bd -q15m (exim-4.12-1)\nroot     10356  0.0  0.0   2260  2676 ??  Is    Mon12AM    \n0:08.65 /usr/sbin/httpd -k start\nroot      6169  0.0  0.0    112   372 ??  Is    Mon12AM    \n0:00.00 /usr/libexec/ftpd -DllUS\nroot      4084  0.0  0.0     64   364 ??  Is    Mon12AM    0:00.07 inetd\nmysql    30258  0.0  0.0 395616  5024 C0- S     Mon12AM    \n0:02.40 /usr/local/libexec/mysqld --basedir=/usr/local --datadir=/usr/local/var\nclamav    7335  0.0  0.0    188   496 ??  Is    Mon12AM    \n0:00.07 /usr/local/bin/freshclam -d -c 2 -l /var/log/clam-update.log\nroot       105  0.0  0.0    232   464 ??  Is    Mon12AM    0:01.09 cron\nroot      9818  0.0  0.0     48   424 C0  Is+   Mon12AM    \n0:00.00 /usr/libexec/getty Pc ttyC0\nroot     26364  0.0  0.0     48   424 C1  Is+   Mon12AM    \n0:00.00 /usr/libexec/getty Pc ttyC1\nroot     14280  0.0  0.0     48   424 C2  Is+   Mon12AM    \n0:00.00 /usr/libexec/getty Pc ttyC2\nroot      3351  0.0  0.0     48   424 C3  Is+   Mon12AM    \n0:00.00 /usr/libexec/getty Pc ttyC3\nroot     21865  0.0  0.0     48   424 C5  Is+   Mon12AM    \n0:00.00 /usr/libexec/getty Pc ttyC5\nroot     14062  0.0  0.0   2620  1920 ??  S     Mon12AM    0:03.97 ircd: \nirc.easychatuk.com (ircd)\nroot     29928  0.0  0.0    796   776 ??  S     Mon12AM    0:04.44 Auspice \n2.5.x (services)\nkibble    5319  0.0  0.0  10548  1656 ??  S     Mon12AM    0:08.90 ./eggdrop \n(eggdrop-1.6.12)\nroot     27450  0.1  0.0    452  1232 ??  Ss    11:00AM    0:00.04 sshd: kibble \n[priv] (sshd)\nkibble   31131  0.0  0.0    436  1196 ??  S     11:00AM    0:00.01 sshd: \nkibble@ttyp0 (sshd)\nkibble   26258  0.0  0.0    376   292 p0  Ss    11:00AM    0:00.01 -ksh (ksh)\nnobody   13233  0.0  0.0      0     0 ??  ZW    -          0:00.00 (httpd)\n\nZombie/Waiting states ? What's the deal... shall I ask somewhere else, have I \ndone something wrong...? Is this a bug of such, or is it just me missing \nsomething and been daft hee hee :)\n\nAny help in this would be a great help and also a great task from wot I can \nsee. Thanks in advance, and if anyone needs any additional info email me thru \njelly_bean_junky@hotmail.com :)\n\nkibble"}, {"count": 1, "attachment_id": null, "creator": "Joachim.Lutz@netlab.nec.de", "is_private": false, "id": 61374, "time": "2004-07-30T14:10:34Z", "bug_id": 17717, "creation_time": "2004-07-30T14:10:34Z", "tags": [], "text": "We have the same problem with  Apache 2.0.50 and OpenBSD 3.5\nIf anybody knows a proper solution we would like to know it too.\n\nBest Regards\nJoachim\n\nJoachim.Lutz@netlab.nec.de"}, {"count": 2, "attachment_id": null, "creator": "chip@force-elite.com", "is_private": false, "id": 62682, "time": "2004-08-30T01:52:56Z", "bug_id": 17717, "creation_time": "2004-08-30T01:52:56Z", "tags": [], "text": " Joachim.Lutz@netlab.nec.de, do you have php enabled?\n\nDoes this happen without PHP?"}, {"count": 3, "tags": [], "creator": "jelly_bean_junky@hotmail.com", "attachment_id": null, "text": "When taking out the PHP module from the HTTPd server, it does the same thing. I \nwas going to post the PHP forum, but when I relised that Apache was doing this \nwithout the PHP module I then posted it here.", "id": 62738, "time": "2004-08-30T08:39:03Z", "bug_id": 17717, "creation_time": "2004-08-30T08:39:03Z", "is_private": false}, {"count": 4, "attachment_id": null, "creator": "Joachim.Lutz@netlab.nec.de", "is_private": false, "id": 63335, "time": "2004-09-10T09:26:35Z", "bug_id": 17717, "creation_time": "2004-09-10T09:26:35Z", "tags": [], "text": "Hello again ;-)\n\nAfter some tests my student found the reason for our problem. He wants to stay \nanonymous, that's the reason I post this.\n\nHere we go:\n=======================================================================\nI think the problem is IPv6 related. I didn't get zombies anymore after\ndeactivating listening on IPv6 sockets. \n\nI was able to reproduce the problem on another computer with a fresh\nOpenBSD 3.5 installation. I built apache 2.0.50 from source (configure ;\nmake; make install) without any options. It served the default website -\nno dynamic content.\nThe computers I tested this on were x86's. A Athlon XP and a Pentium 3.\n\nHere are some observations I made in the logfiles (I set the LogLevel to\ndebug):\n\nIn the error log I have this message about once a second:\n[warn] (22)Invalid argument: connect to listener\nIt's not there, when I start apache. It starts some time later. I could\nforce getting this error message by making 10-15 parallel connections.\nWhen I do this I get:\n[info] server seems busy, (you may need to increase StartServers, or\nMin/MaxSpareServers), spawning 8 children, there are 0 idle, and 12\ntotal children\nand some seconds later the \"connect to listener\" error messages start.\nThen, some hours/days later, this error messages stop again. I think it\nhappens when the server doesn't get any request for some hours. \nIn most of the cases the zombies start coming then: When the server gets\na request it is processed correctly and logged in the access_log, but\nafter serving the request the child, which served the request becomes a\nzombie. At some point every child has become a zombie and apache doesn't\nanswer to requests anymore. After a \"apachectl restart\" everything works\nagain.\nAlthough I set the LogLevel to debug, there are no more messages in the\nerror_log(except at startup) than the ones mentioned above.\n\nI hope this will help a developer to fix the problem. If you need any\nadditional information, feel free to contact me.\n=====================================================================\n\nI hope this will help others as well\n\nBest Regards,\nJoachim\n "}, {"count": 5, "tags": [], "creator": "jelly_bean_junky@hotmail.com", "attachment_id": null, "is_private": false, "id": 63339, "time": "2004-09-10T10:07:53Z", "bug_id": 17717, "creation_time": "2004-09-10T10:07:53Z", "text": "I will give this a go, compiling it without IPv6 as I don't really need/use \nthis feature as of yet. I will let you know how I get along in a few days when \nI get the time to compile it again. Keep watching this space..."}, {"count": 6, "tags": [], "bug_id": 17717, "attachment_id": null, "id": 63360, "time": "2004-09-10T15:29:33Z", "creator": "Joachim.Lutz@netlab.nec.de", "creation_time": "2004-09-10T15:29:33Z", "is_private": false, "text": "Hi again,\n\nthere was a little bug....\nI'm sorry, but here is the correction. (By the same anonymous student)\n\n______________________________________________________________________\n\nI was wrong, it seems to have nothing to do with ipv6. \nThe problem(at least the \"connect to listener\" errors, which eventually\nlead to the zombies I believe) occurs, when Listening on all ip-\nAddresses e.g. with \"Listen 0.0.0.0:80\" or \"Listen ::1:80\" in the\nconfig. It doesn't seem to matter if its IPv4 or IPv6. \nI was fooled before, because our server was configured to listen only on\nsome IPv4-Addresses(but on all IPv6-Addresses at port 443) from the\nbeginning.\nThe \"connect to listener\" messages don't occur, when every ip-address,\nthe server should listen to, is explicitly specified in a Listen-\nDirective. Even if all ip-Addresses(including Loopback), which the\nserver has, are specified no \"connect to listener\" messages occur.\n\n\n___________________________________________________________________________\n\nI hope we have not wasted to much of your time.\nJoachim\n"}, {"count": 7, "tags": [], "bug_id": 17717, "attachment_id": null, "text": "No time wasted. Thank you for then input. It's nice to have someone else's \nviews and just take things from s different perspective. Will give this a go \ntoo at some stage...", "id": 63449, "time": "2004-09-13T08:51:58Z", "creator": "jelly_bean_junky@hotmail.com", "creation_time": "2004-09-13T08:51:58Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 17717, "text": "Is this still reproducible with 2.0.53, in the default configuration?  Does\napplying this patch: http://www.apache.org/~jorton/ap_dummy.diff help?\n", "id": 72138, "time": "2005-03-10T14:55:10Z", "creator": "jorton@redhat.com", "creation_time": "2005-03-10T14:55:10Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 17717, "attachment_id": null, "text": "I've since upgraded my version of OpenBSD [to 3.6] and have been running Apache \n2.0.53. I have not been able to reproduce these errors. However I have \nimplemented your patch and will leave Apache running for the next few days to \nsee what happens.\n\nI will mark this post as 'worksforme', but through not intervention of my own \nor anyone else's that I can see of. Are people still getting this error/problem \non their Apache set-ups?", "id": 72140, "time": "2005-03-10T15:11:31Z", "creator": "jelly_bean_junky@hotmail.com", "creation_time": "2005-03-10T15:11:31Z", "is_private": false}]