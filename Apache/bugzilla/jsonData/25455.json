[{"count": 0, "tags": [], "creator": "scottstirling@rcn.com", "attachment_id": null, "text": "The <junit> task should check the existence of the location specified in \nthe \"dir\" attribute before forking.  If the \"dir\" location doesn't exist, it \nshould report a useful exception message saying the location specified in \"dir\" \ndoes not exist.  If the \"dir\" location points to a non-existent directory, \ncurrently you get this unhelpful message and stack trace (this is with ant -\nverbose), which doesn't indicate the problem.  Process forks can fail for other \nreasons, such as the classpath or command line length being exceeded.  This \nwould be an easy, preventable loss of time debugging this problem when it \nhappens.\n\nI'm not sure how often it happens, but we had it happen a few times in the past \ncouple months because of a script or property change here or there, and only \ntoday realized what the real problem usually boils down to -- the location in \nthe \"dir\" attribute didn't exist.:\n\nC:\\PLATFORM_REPO\\LATEST\\wesdk\\projects\\build-scripts\\targets.xml:136: Process \nfork failed.\n        at \norg.apache.tools.ant.taskdefs.optional.junit.JUnitTask.executeAsForked\n(JUnitTask.java:816)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute\n(JUnitTask.java:665)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute\n(JUnitTask.java:636)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:302)\n        at org.apache.tools.ant.Task.perform(Task.java:401)\n        at org.apache.tools.ant.Target.execute(Target.java:338)\n        at org.apache.tools.ant.Target.performTasks(Target.java:365)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1237)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1094)\n        at org.apache.tools.ant.Main.runBuild(Main.java:669)\n        at org.apache.tools.ant.Main.startAnt(Main.java:220)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:215)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:90)\n--- Nested Exception ---\njava.io.IOException: CreateProcess: C:\\jdk1.3.1_08\\jre\\bin\\java.exe -classpath \n[CLASSPATH removed for brevity]\n        at java.lang.Win32Process.create(Native Method)\n        at java.lang.Win32Process.<init>(Win32Process.java:61)\n        at java.lang.Runtime.execInternal(Native Method)\n        at java.lang.Runtime.exec(Runtime.java:546)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.apache.tools.ant.taskdefs.Execute$Java13CommandLauncher.exec\n(Execute.java:836)\n        at org.apache.tools.ant.taskdefs.Execute.launch(Execute.java:479)\n        at org.apache.tools.ant.taskdefs.Execute.execute(Execute.java:490)\n        at \norg.apache.tools.ant.taskdefs.optional.junit.JUnitTask.executeAsForked\n(JUnitTask.java:814)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute\n(JUnitTask.java:665)\n        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTask.execute\n(JUnitTask.java:636)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:302)\n        at org.apache.tools.ant.Task.perform(Task.java:401)\n        at org.apache.tools.ant.Target.execute(Target.java:338)\n        at org.apache.tools.ant.Target.performTasks(Target.java:365)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1237)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1094)\n        at org.apache.tools.ant.Main.runBuild(Main.java:669)\n        at org.apache.tools.ant.Main.startAnt(Main.java:220)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:215)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:90)", "id": 48925, "time": "2003-12-11T19:34:51Z", "bug_id": 25455, "creation_time": "2003-12-11T19:34:51Z", "is_private": false}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "text": "Should be fixed now, thanks.", "id": 51479, "attachment_id": null, "bug_id": 25455, "creation_time": "2004-01-30T15:38:05Z", "time": "2004-01-30T15:38:05Z", "is_private": false}]