[{"count": 0, "tags": [], "bug_id": 30031, "attachment_id": null, "id": 60424, "time": "2004-07-11T03:58:18Z", "creator": "kellyc@apache.org", "creation_time": "2004-07-11T03:58:18Z", "is_private": false, "text": "When using forkmode=\"once\" with junit task, it causes JUnitLauncher to give a\nClassNotFoundException:\n\nerror message=\"testsfile=/home/camk/dev/vcj/junittestcases1562554603.properties\"\ntype=\"java.lang.ClassNotFoundException\">java.lang.ClassNotFoundException:\ntestsfile=/home/camk/dev/vcj/junittestcases1562554603.properties\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:141)\n\nI've verified that my ant-optional.jar is from the 1.6.2beta1 build with ant\n-diagnostics:\n------- Ant diagnostics report -------\nApache Ant version 1.6.2beta1 compiled on July 2 2004\n \n-------------------------------------------\n Implementation Version (JDK1.2+ only)\n-------------------------------------------\ncore tasks     : 1.6.2beta1\noptional tasks : 1.6.2beta1\n\n\n\nThe launcher command line is:\n    [junit] Running multiple tests in the same VM\n    [junit] Implicitly adding\n/usr/local/install/ant-1.6.2b1/lib/junit.jar:/usr/local/install/ant-1.6.2b1/lib/ant-launcher.jar:/usr/local/install/ant-1.6.2b1/lib/ant.jar:/usr/local/install/ant-1.6.2b1/lib/ant-junit.jar\nto CLASSPATH\n    [junit] Running ut.sf.vcj.datamodel.project.ProjectTest\n    [junit] Executing '/usr/local/install/j2sdk1.4.2_05/jre/bin/java' with\narguments:\n    [junit] '-Dlog4j.configuration=logger.xml'\n    [junit] '-classpath'\n    [junit]\n'/home/camk/dev/vcj/lib/test/junit-3.8.1.jar:/home/camk/dev/vcj/target/test/classes:/home/camk/dev/vcj/target/test/conf:/home/camk/dev/vcj/target/hibernate:/home/camk/dev/vcj/target/classes:/home/camk/dev/vcj/lib/commons-collections-3.0.jar:/home/camk/dev/vcj/lib/commons-logging-1.0.3.jar:/home/camk/dev/vcj/lib/log4j-1.2.8.jar:/home/camk/dev/vcj/lib/hibernate/ant-1.5.3.jar:/home/camk/dev/vcj/lib/hibernate/ant-optional-1.5.3.jar:/home/camk/dev/vcj/lib/hibernate/c3p0-0.8.4.5.jar:/home/camk/dev/vcj/lib/hibernate/cglib-full-2.0.1.jar:/home/camk/dev/vcj/lib/hibernate/commons-collections-2.1.jar:/home/camk/dev/vcj/lib/hibernate/commons-dbcp-1.1.jar:/home/camk/dev/vcj/lib/hibernate/commons-lang-1.0.1.jar:/home/camk/dev/vcj/lib/hibernate/commons-logging-1.0.3.jar:/home/camk/dev/vcj/lib/hibernate/commons-pool-1.1.jar:/home/camk/dev/vcj/lib/hibernate/concurrent-1.3.2.jar:/home/camk/dev/vcj/lib/hibernate/connector.jar:/home/camk/dev/vcj/lib/hibernate/dom4j-1.4.jar:/home/camk/dev/vcj/lib/hibernate/ehcache-0.7.jar:/home/camk/dev/vcj/lib/hibernate/hibernate2.jar:/home/camk/dev/vcj/lib/hibernate/hsqldb.jar:/home/camk/dev/vcj/lib/hibernate/jaas.jar:/home/camk/dev/vcj/lib/hibernate/jboss-cache.jar:/home/camk/dev/vcj/lib/hibernate/jboss-common.jar:/home/camk/dev/vcj/lib/hibernate/jboss-jmx.jar:/home/camk/dev/vcj/lib/hibernate/jboss-system.jar:/home/camk/dev/vcj/lib/hibernate/jcs-1.0-dev.jar:/home/camk/dev/vcj/lib/hibernate/jdbc2_0-stdext.jar:/home/camk/dev/vcj/lib/hibernate/jgroups-2.2.1.jar:/home/camk/dev/vcj/lib/hibernate/jta.jar:/home/camk/dev/vcj/lib/hibernate/junit-3.8.1.jar:/home/camk/dev/vcj/lib/hibernate/log4j-1.2.8.jar:/home/camk/dev/vcj/lib/hibernate/odmg-3.0.jar:/home/camk/dev/vcj/lib/hibernate/oscache-2.0.jar:/home/camk/dev/vcj/lib/hibernate/proxool-0.8.3.jar:/home/camk/dev/vcj/lib/hibernate/swarmcache-1.0rc2.jar:/home/camk/dev/vcj/lib/hibernate/xalan-2.4.0.jar:/home/camk/dev/vcj/lib/hibernate/xerces-2.4.0.jar:/home/camk/dev/vcj/lib/hibernate/xml-apis.jar:/home/camk/dev/vcj/lib/db/hsqldb.jar:/home/camk/dev/vcj/lib/db/mkjdbc.jar:/home/camk/dev/vcj/lib/db/mysql-connector-java-3.0.11-stable-bin.jar:/home/camk/dev/vcj/lib/db/oracle-jdbc-9.2.0.3_g-1.4.jar:/home/camk/dev/vcj/lib/db/pg73jdbc3.jar:/usr/local/install/ant-1.6.2b1/lib/junit.jar:/usr/local/install/ant-1.6.2b1/lib/ant-launcher.jar:/usr/local/install/ant-1.6.2b1/lib/ant.jar:/usr/local/install/ant-1.6.2b1/lib/ant-junit.jar'\n    [junit] 'org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner'\n    [junit] 'testsfile=/home/camk/dev/vcj/junittestcases1562554603.properties'\n    [junit] 'filtertrace=true'\n    [junit] 'haltOnError=false'\n    [junit] 'haltOnFailure=false'\n    [junit]\n'formatter=org.apache.tools.ant.taskdefs.optional.junit.SummaryJUnitResultFormatter'\n    [junit] 'showoutput=true'\n    [junit]\n'formatter=org.apache.tools.ant.taskdefs.optional.junit.XMLJUnitResultFormatter,/home/camk/dev/vcj/target/test/testresults-20040710-2342/xml/null.xml'\n    [junit] 'propsfile=/home/camk/dev/vcj/junit1902549252.properties'"}, {"count": 1, "tags": [], "bug_id": 30031, "is_private": false, "id": 60425, "creation_time": "2004-07-11T04:01:14Z", "time": "2004-07-11T04:01:14Z", "creator": "kellyc@apache.org", "text": "I just figured out what caused this. Hibernate ships with ant-1.5.3 jars that\ngot into my classpath ahead of ant 1.6.2b1 jars. Perhaps the ant jars should be\nprepended rather than appended when running junit?", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 30031, "is_private": false, "id": 63969, "creation_time": "2004-09-21T11:55:48Z", "time": "2004-09-21T11:55:48Z", "creator": "bodewig@apache.org", "text": "If there is a different version of Ant in the CLASSPATH anywhere, we are getting\nproblems all over the place, not just within <junit>.  I'll turn it into a FAQ.\n\nIn your case Hibernate has not been on the CLASSPATH but was added via a nested\n<classpath>, correct?  Here prepending may actually help, but since Ant doesn't add\nall of its jars, I'm not too sure either.\n", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 30031, "attachment_id": null, "id": 66536, "time": "2004-11-05T15:59:25Z", "creator": "bodewig@apache.org", "creation_time": "2004-11-05T15:59:25Z", "is_private": false, "text": "works if only one version of Ant is around."}]