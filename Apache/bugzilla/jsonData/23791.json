[{"count": 0, "tags": [], "bug_id": 23791, "text": "<property name=\"dumpFieldRealDir\" location=\"${dumpFields_dir}/\" />\n\n<target name=\"clean\" description=\"clean\">\n  <delete includeEmptyDirs=\"true\">\n    <fileset dir=\"${build.dir}\">\n\t<exclude name=\"${dumpFieldRealDir}\" />\n\t<include name=\"**/*.*\" />\n    </fileset>\n  </delete>\n</target>\n\nThe contents of the dumpFieldRealDir were also deleted - this is not fail-safe!\n\nsee also: http://nagoya.apache.org/bugzilla/show_bug.cgi?id=23790", "id": 45547, "time": "2003-10-13T17:16:31Z", "creator": "hauser@acm.org", "creation_time": "2003-10-13T17:16:31Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "text": "The same would happen if you had a typo in your property name or in the value\nfor your property.  How should Ant know that you didn't mean what you said and that\nyour exclude pattern didn't match anything just by accident?\n\nAnt can not safe you from all mistakes.  If you play with \"dangerous\" tasks like\n<delete>, try your patterns with somethign save like <copy> before using them\nin critical environments.", "id": 45573, "time": "2003-10-14T08:23:30Z", "bug_id": 23791, "creation_time": "2003-10-14T08:23:30Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 23791, "attachment_id": null, "text": "would it be that hard to warn if the exclude pattern does not have any overlap\nwith the FileSet's or <delete's \"root directory tree\"?", "id": 45577, "time": "2003-10-14T08:55:22Z", "creator": "hauser@acm.org", "creation_time": "2003-10-14T08:55:22Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "gus.heck@olin.edu", "text": "Delete doesn't have a \"root directory tree\" (at least not one that you can\nspecify with the dir atribute). dir is for deleting entire directories only. See\nthe manual entry for the dir atribute.\n\nThe fact that the directory scanner does not find an exclude pattern is not\nneccessarily remarkable. Think about all the default excludes that are\nfrequently not found by the fileset contained in your delete, do you want a\nwarning for each one?", "count": 3, "id": 45749, "time": "2003-10-15T16:31:03Z", "bug_id": 23791, "creation_time": "2003-10-15T16:31:03Z", "is_private": false}]