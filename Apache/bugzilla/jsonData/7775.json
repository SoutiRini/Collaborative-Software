[{"count": 0, "tags": [], "creator": "peternhale@yahoo.com", "is_private": false, "text": "The current ftp process requires that the remote dir exist before the send can\nmove forward. I would be convenient to have an attribute that would indicate\nthat the remote dir should be created during the send operation. Currently, one\nmust do two steps; 1. Action of mkdir and then 2. Send files to remote dir.", "id": 12881, "time": "2002-04-05T19:54:50Z", "bug_id": 7775, "creation_time": "2002-04-05T19:54:50Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 7775, "is_private": false, "id": 12892, "time": "2002-04-05T23:27:14Z", "creator": "steve_l@iseran.com", "creation_time": "2002-04-05T23:27:14Z", "tags": [], "text": "um, ftp certainly creates directories as needed when I do a recursive FTP. \nIndeed, it creates them even if they exist already.\n\nWhat kind of error message are you getting? What kind of server are you \ntargeting?"}, {"count": 2, "tags": [], "text": "I specified a remotedir of \"/usr/local/xyz\" on a send ftp request.\nThe given directory does not exist and the message \"could not change remote\ndirectory:\" and I believe the 550 directory does not exist.\n\nThis forces one to use the mkdir action to create the remote directory and\ntransfer the files contained in that directory in a separate action. If the\nremote dir exists the transfer goes along fine including the creation of any\ndirectories that are children of the specified directory.\n\nIt seems that it would be desireable to cause the target directory to be created\nas part of a normal put action but allow the addition of an attribute that tells\nftp that if it cannot find the directory it is OK to create it.\n\nHope this helps", "is_private": false, "id": 13053, "creator": "peternhale@yahoo.com", "time": "2002-04-08T19:00:10Z", "bug_id": 7775, "creation_time": "2002-04-08T19:00:10Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 7775, "attachment_id": null, "is_private": false, "id": 38045, "time": "2003-05-30T13:14:58Z", "creator": "Brian_Scully@adp.com", "creation_time": "2003-05-30T13:14:58Z", "text": "I have the same problem as Peter(circa Ant 1.5.3.1).  My ant task deploys files \nto a remote tomcat server.  Whenever I create a new web application, I have to \ncreate the following directories under the application root:\n\n<root>/WEB-INF/lib\n<root>/WEB-INF/classes\n\nAfter I do that the deployment works fine.  Two of my Ant targets follow:\n\n  <ftp server=\"${ftp.server}\"\n       remotedir=\"${ftp.app.root.dir}/WEB-INF/lib\"\n       userid=\"${ftp.user}\"\n       password=\"${ftp.password}\"\n       ignoreNoncriticalErrors=\"true\"\n       verbose=\"true\">\n    <fileset dir=\"${libdir}\" excludes=\"servlet.jar\"/>\n  </ftp>\n\n  <ftp server=\"${ftp.server}\"\n       remotedir=\"${ftp.app.root.dir}/WEB-INF/classes\"\n       userid=\"${ftp.user}\"\n       password=\"${ftp.password}\"\n       ignoreNoncriticalErrors=\"true\">\n    <fileset dir=\"${classdir}\" includes=\"**/*.class\"\n             excludes=\"**/*.java,**/*.gif,**/*.jpg,**/*.xml\"/>\n    <fileset dir=\"deployment\" excludes=\"web.xml\"/>\n  </ftp>\n\nSeeing as the ftp task mkdir bug is still open (don't know the number), options \nhere are limited to manual login & mkdir.\n\nIt seems the priority on this one is pretty low - it's been open for over a \nyear without assignment.  Maybe the Ant team should close it as \"WILL NOT BE \nFIXED\"?"}, {"count": 4, "tags": [], "bug_id": 7775, "attachment_id": null, "id": 38073, "time": "2003-05-30T22:07:09Z", "creator": "levylambert@tiscali-dsl.de", "creation_time": "2003-05-30T22:07:09Z", "is_private": false, "text": "I think that some work has been done concerning this issue in ant 1.5.3 or ant \n1.6 alpha. Can you try to upgrade and check whether it helps."}, {"count": 5, "tags": [], "text": "Brian, is one of your directories (local or remote) a directory with embedded \nspaces in its path name ?", "attachment_id": null, "id": 38310, "creator": "levylambert@tiscali-dsl.de", "time": "2003-06-04T06:16:26Z", "bug_id": 7775, "creation_time": "2003-06-04T06:16:26Z", "is_private": false}, {"count": 6, "tags": [], "creator": "levylambert@tiscali-dsl.de", "is_private": false, "text": "I have managed to make a ftp from a directory containing spaces to a remote \ndirectory containing spaces too.\nYou should download an ant nightly build and also commons-net.jar (see library \ndependencies) which is replacing NetComponents.jar in the head revision of ant.\n\n", "id": 38318, "time": "2003-06-04T08:14:55Z", "bug_id": 7775, "creation_time": "2003-06-04T08:14:55Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 7775, "attachment_id": null, "is_private": false, "id": 38343, "time": "2003-06-04T12:23:21Z", "creator": "Brian_Scully@adp.com", "creation_time": "2003-06-04T12:23:21Z", "text": "Okay - I can do mkdirs over ftp - thanks for your help, Antoine.  Since this \nisn't critical (more important than breaking running builds) to me - I think I \nwill hold off on 1.6 until it is released.\n\nWe're still left with the scenario where I must add three tasks within my ftp \ndeployment target to create the three directories.  Now for my usage pattern \nthis is okay - three tasks is not too bad for new and cleaned deployments \n(especially since I only currently track about 3 deployments).  This problem \ngets quite a bit worse for deeper directory trees - unless i'm missing \nsomething.  Is there any plan to support a flag(attribute) that creates the \nremote directory if it doesn't exist?"}, {"count": 8, "tags": [], "creator": "levylambert@tiscali-dsl.de", "attachment_id": null, "text": "There is nothing planned on this side for ant 1.5.x\nThere is also no firm date yet for a 1.6 release, last estimation is August \n2003.", "id": 38344, "time": "2003-06-04T12:28:03Z", "bug_id": 7775, "creation_time": "2003-06-04T12:28:03Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 7775, "text": "I am closing this bug with target milestone 1.6, since you said that the <ftp/> \ntask is working in 1.6", "id": 39599, "time": "2003-06-29T17:06:10Z", "creator": "antoine@apache.org", "creation_time": "2003-06-29T17:06:10Z", "is_private": false, "attachment_id": null}]