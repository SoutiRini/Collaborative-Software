[{"count": 0, "tags": [], "creator": "apache.servers@gmail.com", "attachment_id": null, "id": 88922, "time": "2006-05-08T17:34:24Z", "bug_id": 39515, "creation_time": "2006-05-08T17:34:24Z", "is_private": false, "text": "Built the APR manually and I get one of these infamous errors:\n\n[Mon May 08 05:41:16 2006] [notice] child pid 31261 exit signal Segmentation \nfault (11)\n\nIt only happends when I load in the PHP module.\n\nIs bulding the APR manually required for 2.2.x?\n\nHow do I un-install the manually installed APR, it seems that on a different \nserver, w/o manually installing the APR, the installation worked just fine."}, {"count": 1, "tags": [], "text": "No, it is not required to build apr manually provided that you use the apr that\nis bundled with httpd.\nIf you have no specific requirement for having a different apr version than the\none delivered with httpd then you should use the bundled version.\nAnyway please provide a backtrace of the core dump for further analysis.\nFurthermore please provide the versions of apr / apr-util you are using if you\ndo not use the bundled ones.", "attachment_id": null, "id": 88927, "creation_time": "2006-05-08T19:29:09Z", "time": "2006-05-08T19:29:09Z", "creator": "rpluem@apache.org", "bug_id": 39515, "is_private": false}, {"count": 2, "tags": [], "bug_id": 39515, "attachment_id": null, "text": "In fact, I wanted to use the bundled APR but it wouldn't configure without \ngiving the path to the manually installed APR. How can I force ./configure to \nuse the bundled APR?\n\nThanks.\n\n", "id": 88932, "time": "2006-05-08T21:58:18Z", "creator": "apache.servers@gmail.com", "creation_time": "2006-05-08T21:58:18Z", "is_private": false}, {"count": 3, "tags": [], "creator": "wrowe@apache.org", "text": "You need to build the php module against apache 2.2, apr 1.2 - it is not binary\ncompatible with apache 2.0 apr 0.9.  In any case this would be a PHP issue.\n\nFYI the apr(-util) filenames for apr 1.2 are labeled libapr-1.so libaprutil-1.so\nso there is almost no way for you to cause a conflict.\n\nThe current apr is 1.2.7 - ensure you are using that.", "id": 89089, "time": "2006-05-14T08:23:50Z", "bug_id": 39515, "creation_time": "2006-05-14T08:23:50Z", "is_private": false, "attachment_id": null}, {"count": 4, "text": "Please allow me to explain:\n\nI am not a beginer, I've built Apache 100 times before, almost every new \nversion since 2.0 beta, many times each. Most of the time it builds pretty \nnicely, and works. And of course, I did re-build PHP, with the new apxs2.\n\nSomeone might say that I am a little bit too lazy to get the backtrace for the \nSegfault posted here. In fact the issue mentioned here happened on a \nproduction machine and it cannot be put to work on debugging. On the \ndevelopment machine Apache 2.2.2 compiled just fine.\n\nYou should know that the example code on the page with installation \ninstruction misleads people into thinking that APR needs to be installed \nmanually. ( http://httpd.apache.org/docs/2.2/install.html ).\n\nI understand that libapr-1.so libaprutil-1.so have different names, the thing \nis that I want the compilation process not to ask for them, and it does, \ngiving me no choice at all to let it install the bundled APR instead.\n\nHappy Mother's Day\n", "bug_id": 39515, "attachment_id": null, "id": 89102, "time": "2006-05-14T16:02:07Z", "creator": "roso@bellsouth.net", "creation_time": "2006-05-14T16:02:07Z", "tags": [], "is_private": false}, {"count": 5, "attachment_id": null, "bug_id": 39515, "text": "httpd 2.2.2 introduces additional diagnostics with the -V option, would you\nplease paste or attach the full output of httpd -V to determine which apr was\ncompiled-in and in-use?\n\nYou've recompiled php5 -since- you reconfigured apr?\n\nThe stack trace isn't optional.  Move your build and dumpfile over to a box\nwith gdb, and (using -those- build binaries) load you dumpfile there.", "id": 89138, "time": "2006-05-15T15:58:04Z", "creator": "wrowe@apache.org", "creation_time": "2006-05-15T15:58:04Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "creator": "ben.tc1415@gmail.com", "attachment_id": 18556, "id": 90879, "time": "2006-07-04T21:46:57Z", "bug_id": 39515, "creation_time": "2006-07-04T21:46:57Z", "is_private": false, "text": "Created attachment 18556\nBacktrace\n\nI'm getting the same thing - Segfaults with apache 2.2.2 and php 5.1.4 and I\nhave built apr manually (for some reason). Mine only seem to happen when\nrunning complex scripts (phpMyAdmin) but it sounds the same as this. I've\nattached a backtrace."}, {"count": 7, "tags": [], "creator": "nick@webthing.com", "attachment_id": null, "id": 90881, "time": "2006-07-04T22:38:34Z", "bug_id": 39515, "creation_time": "2006-07-04T22:38:34Z", "is_private": false, "text": "This segfault is deep within a third-party module - apparently ZEND.  If there \nis a bug here (as opposed to, for example, a build error), please report it to \nthe maintainers of the module."}]