[{"count": 0, "attachment_id": null, "creator": "apache@Mig-O.de", "text": "What was wrong:\nWhen inserting binary and xml-documents into the same collection, a\nquery results in an exception.\n\nWhat did i fix:\nI changed \"Document getDocument(Object key)\" to first have a look if\nthe ressource is a binary ressource, and then just returning null\ninstead of an XMLDocument, like if the ressource wasn't there at all.\n\nHow to test it:\nI appended a small test class, and my change (not in diff-format, but\njust replace the corresponding function, please.)", "id": 66142, "time": "2004-10-29T20:54:08Z", "bug_id": 31974, "creation_time": "2004-10-29T20:54:08Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "apache@Mig-O.de", "is_private": false, "id": 66143, "attachment_id": 13265, "bug_id": 31974, "creation_time": "2004-10-29T20:54:37Z", "time": "2004-10-29T20:54:37Z", "text": "Created attachment 13265\npatch"}, {"count": 2, "tags": [], "text": "Created attachment 13266\nSmall program to reproduce the error", "attachment_id": 13266, "bug_id": 31974, "id": 66144, "time": "2004-10-29T20:56:37Z", "creator": "apache@Mig-O.de", "creation_time": "2004-10-29T20:56:37Z", "is_private": false}, {"count": 3, "tags": [], "creator": "apache@Mig-O.de", "is_private": false, "id": 66145, "attachment_id": 13267, "bug_id": 31974, "creation_time": "2004-10-29T20:57:04Z", "time": "2004-10-29T20:57:04Z", "text": "Created attachment 13267\nConfig for small program to replace the error"}, {"count": 4, "tags": [], "bug_id": 31974, "text": "Use this instead\n\n        if (!(entry instanceof Document)) {\n        \t\n            if (log.isErrorEnabled()) {\n            log.error(\"Message\",\n            \t\tnew DBException(FaultCodes.COL_INVALID_RESULT,\"Resource '\" + key +\n\"' in collection '\" + getCanonicalName() + \"' is not a document\"));\n            }\n            return null;\n        }", "id": 94509, "time": "2006-10-04T22:19:10Z", "creator": "sheldon.robinson@gmail.com", "creation_time": "2006-10-04T22:19:10Z", "is_private": false, "attachment_id": null}, {"count": 5, "attachment_id": null, "bug_id": 31974, "text": "Fixed. Collection.getDocument should throw exception if resource of incorrect\ntype, so fix was done at query resolver level.", "id": 95555, "time": "2006-11-07T20:14:48Z", "creator": "vgritsenko@apache.org", "creation_time": "2006-11-07T20:14:48Z", "tags": [], "is_private": false}]