[{"count": 0, "attachment_id": null, "creator": "tagunov@motor.ru", "is_private": false, "id": 8148, "time": "2001-11-21T08:49:05Z", "bug_id": 5005, "creation_time": "2001-11-21T08:49:05Z", "tags": [], "text": "Both for Tomcat 3.3 and 4.0.1 if we do a request /a/b/c/nonexistent.jsp while\nsuch file does not exist in the temporary dir where the compiled jsp-s are \nstored a/b/c directory chain is created and a file some empty or 1-byte size \nfile is created with a name derived from nonexistent.jsp. (the file name \ndifferes between 3.3 and 4.0.1)\n\nNow imagine that someone does the following request\n1/1/1/1/1/1 .. (32 directories) .. 1/1/1.jsp\nthis will cause creation of 32 directories and 1 file.\n\nThen imagine he calls\n2/2/2/... 2/2.jsp\n3/3/3/.... 3/3.jsp\nand so forth.\n\nEvery request will trigger creation of 32 directory and 1 file.\nOn some file systems it can happen that 1 directory may take\n4kb of disk space. That is 4 x 32 = 128kb per request.\n2 requests per second x 3600  -> over 900 Mb per hour.\nThis is a significant disk space leakage.\nThis how a potential dos attack against Tomcat can be constructed\n\nThe bug has been reported as #5004 for Tomcat 4.0.1"}, {"count": 1, "tags": [], "text": "The fix will appear in the next nightly Tomcat 3.3.1 build.", "is_private": false, "bug_id": 5005, "id": 8299, "time": "2001-11-26T20:26:17Z", "creator": "Larry.Isaacs@sas.com", "creation_time": "2001-11-26T20:26:17Z", "attachment_id": null}]