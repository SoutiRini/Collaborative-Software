[{"count": 0, "attachment_id": null, "bug_id": 43834, "is_private": false, "id": 110389, "time": "2007-11-11T04:49:54Z", "creator": "bhavika84@yahoo.com", "creation_time": "2007-11-11T04:49:54Z", "tags": [], "text": "I have a java class code , placed in the path C:\\Program Files\\Apache Software \nFoundation\\Tomcat 5.5\\webapps\\ROOT\\WEB-INF\\classes\\mail\\jspemailjava.java\n\nwhere mail is the package and the java code is \n\npackage mail;\n\nimport javax.mail.*;\nimport javax.mail.internet.*;\n\n\nimport java.util.Properties;\n\npublic class jspemailjava {\n    public void execute() throws Exception{\n\n      boolean debug = true;\t\n\n      Properties props = new Properties();\n\n      props.setProperty(\"mail.transport.protocol\", \"smtp\");\n      props.setProperty(\"mail.smtp.host\", \"smtp.gmail.com\");\n      props.put(\"mail.smtp.port\",\"587\");\t\n      props.setProperty(\"mail.smtp.user\", \"bhavika84@gmail.com\");\n      props.setProperty(\"mail.smtp.password\", \"ecosystem2007\");\n      props.put(\"mail.smtp.starttls.enable\",\"true\");\n      props.put(\"mail.smtp.auth\", \"true\");\n      props.put(\"mail.debug\", \"true\");\n \n     \n     Session mailSession = Session.getDefaultInstance(props,new \njavax.mail.Authenticator() {\n \n                    \tprotected PasswordAuthentication \ngetPasswordAuthentication() {\n                        return new PasswordAuthentication\n(\"bhavika84@gmail.com\", \"ecosystem2007\");\n                    \t\t\t\t\t\t\t\n\t     }\n                                                                               \n             });\n \n      //mailSession.setDebug(debug);\n\n      Transport transport = mailSession.getTransport();\n      \n      MimeMessage message = new MimeMessage(mailSession);\n\n      message.setSubject(\"Testing javamail plain\");\n      message.setContent(\"This is a test\", \"text/plain\");\n      message.addRecipient(Message.RecipientType.TO,\n      new InternetAddress(\"bhavika84@gmail.com\"));\n\n      message.setFrom(new InternetAddress(\"bhavika84@gmail.com\"));\t\n\n      transport.connect();\n      transport.sendMessage(message,\n      message.getRecipients(Message.RecipientType.TO));\n      transport.close();\n    }\n\n\n}\n\nThe jsp file to invoke the java code is placed in the path C:\\Program \nFiles\\Apache Software Foundation\\Tomcat 5.5\\webapps\\ROOT\\sendmail\\mail.jsp, \nthe jsp code is \n\n<%@ page import=\"mail.*\"%>\n\n<%\n\n<jsp:useBean id=\"email\" type=\"jspemailjava\" scope=\"page\">\n<jsp:getProperty name=\"email\" property=\"name\"/>\n</jsp:useBean>\n\n%>\n\n<html> \n<p align=\"center\"> \n<% email.execute(); %>\nA Message has been sent. <br> \nCheck your inbox. \n</p> \n\n<p align=\"center\"> \n\n</p> \n\n</html> \n\nWhen i run the mail.jsp, i get the following error. Please can u help me as to \nhow to solve the problem. Urgently required to complete my project.\n\nexception \n\norg.apache.jasper.JasperException: Unable to compile class for JSP: \nJSP FileName:/sendmail/mail.jsp\nJava FileName:/C:/Program Files/Apache Software Foundation/Tomcat \n5.5/work/Catalina/localhost/_//org/apache/jsp/sendmail\\mail_jsp.java\n\nAn error occurred at line: 5 in the jsp file: /sendmail/mail.jsp\nSyntax error on token(s), misplaced construct(s)\n2: \n3: <%\n4: \n5: <jsp:useBean id=\"email\" type=\"jspemailjava\" scope=\"page\">\n6: <jsp:getProperty name=\"email\" property=\"name\"/>\n7: </jsp:useBean>\n8: \n\nJSP FileName:/sendmail/mail.jsp\nJava FileName:/C:/Program Files/Apache Software Foundation/Tomcat \n5.5/work/Catalina/localhost/_//org/apache/jsp/sendmail\\mail_jsp.java\n\nAn error occurred at line: 5 in the jsp file: /sendmail/mail.jsp\nSyntax error, insert \"AssignmentOperator ArrayInitializer\" to complete \nArrayInitializerAssignement\n2: \n3: <%\n4: \n5: <jsp:useBean id=\"email\" type=\"jspemailjava\" scope=\"page\">\n6: <jsp:getProperty name=\"email\" property=\"name\"/>\n7: </jsp:useBean>\n8: \n\nJSP FileName:/sendmail/mail.jsp\nJava FileName:/C:/Program Files/Apache Software Foundation/Tomcat \n5.5/work/Catalina/localhost/_//org/apache/jsp/sendmail\\mail_jsp.java\n\nAn error occurred at line: 5 in the jsp file: /sendmail/mail.jsp\nSyntax error, insert \";\" to complete Statement\n2: \n3: <%\n4: \n5: <jsp:useBean id=\"email\" type=\"jspemailjava\" scope=\"page\">\n6: <jsp:getProperty name=\"email\" property=\"name\"/>\n7: </jsp:useBean>\n8: \n\nJSP FileName:/sendmail/mail.jsp\nJava FileName:/C:/Program Files/Apache Software Foundation/Tomcat \n5.5/work/Catalina/localhost/_//org/apache/jsp/sendmail\\mail_jsp.java\n\nAn error occurred at line: 5 in the jsp file: /sendmail/mail.jsp\nSyntax error, insert \";\" to complete Statement\n2: \n3: <%\n4: \n5: <jsp:useBean id=\"email\" type=\"jspemailjava\" scope=\"page\">\n6: <jsp:getProperty name=\"email\" property=\"name\"/>\n7: </jsp:useBean>\n8: \n\nJSP FileName:/sendmail/mail.jsp\nJava FileName:/C:/Program Files/Apache Software Foundation/Tomcat \n5.5/work/Catalina/localhost/_//org/apache/jsp/sendmail\\mail_jsp.java\n\nAn error occurred at line: 5 in the jsp file: /sendmail/mail.jsp\nSyntax error, insert \";\" to complete Statement\n2: \n3: <%\n4: \n5: <jsp:useBean id=\"email\" type=\"jspemailjava\" scope=\"page\">\n6: <jsp:getProperty name=\"email\" property=\"name\"/>\n7: </jsp:useBean>\n8: \n\nJSP FileName:/sendmail/mail.jsp\nJava FileName:/C:/Program Files/Apache Software Foundation/Tomcat \n5.5/work/Catalina/localhost/_//org/apache/jsp/sendmail\\mail_jsp.java\n\nAn error occurred at line: 5 in the jsp file: /sendmail/mail.jsp\nSyntax error on token(s), misplaced construct(s)\n2: \n3: <%\n4: \n5: <jsp:useBean id=\"email\" type=\"jspemailjava\" scope=\"page\">\n6: <jsp:getProperty name=\"email\" property=\"name\"/>\n7: </jsp:useBean>\n8: \n\nJSP FileName:/sendmail/mail.jsp\nJava FileName:/C:/Program Files/Apache Software Foundation/Tomcat \n5.5/work/Catalina/localhost/_//org/apache/jsp/sendmail\\mail_jsp.java\n\nAn error occurred at line: 6 in the jsp file: /sendmail/mail.jsp\nSyntax error on token \":\", ; expected\n3: <%\n4: \n5: <jsp:useBean id=\"email\" type=\"jspemailjava\" scope=\"page\">\n6: <jsp:getProperty name=\"email\" property=\"name\"/>\n7: </jsp:useBean>\n8: \n9: %>\n\nJSP FileName:/sendmail/mail.jsp\nJava FileName:/C:/Program Files/Apache Software Foundation/Tomcat \n5.5/work/Catalina/localhost/_//org/apache/jsp/sendmail\\mail_jsp.java\n\nAn error occurred at line: 6 in the jsp file: /sendmail/mail.jsp\nSyntax error, insert \";\" to complete LocalVariableDeclarationStatement\n3: <%\n4: \n5: <jsp:useBean id=\"email\" type=\"jspemailjava\" scope=\"page\">\n6: <jsp:getProperty name=\"email\" property=\"name\"/>\n7: </jsp:useBean>\n8: \n9: %>\n\nJSP FileName:/sendmail/mail.jsp\nJava FileName:/C:/Program Files/Apache Software Foundation/Tomcat \n5.5/work/Catalina/localhost/_//org/apache/jsp/sendmail\\mail_jsp.java\n\nAn error occurred at line: 6 in the jsp file: /sendmail/mail.jsp\nSyntax error on tokens, delete these tokens\n3: <%\n4: \n5: <jsp:useBean id=\"email\" type=\"jspemailjava\" scope=\"page\">\n6: <jsp:getProperty name=\"email\" property=\"name\"/>\n7: </jsp:useBean>\n8: \n9: %>\n\n\nStacktrace:\n\torg.apache.jasper.compiler.DefaultErrorHandler.javacError\n(DefaultErrorHandler.java:98)\n\torg.apache.jasper.compiler.ErrorDispatcher.javacError\n(ErrorDispatcher.java:330)\n\torg.apache.jasper.compiler.JDTCompiler.generateClass\n(JDTCompiler.java:435)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:298)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:277)\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:265)\n\torg.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:564)\n\torg.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:302)\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:329)\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)"}, {"attachment_id": null, "tags": [], "creator": "markt@apache.org", "is_private": false, "count": 1, "id": 110390, "time": "2007-11-11T05:04:36Z", "bug_id": 43834, "creation_time": "2007-11-11T05:04:36Z", "text": "You need to provide the compiled class. Use the users list if you need more help."}]