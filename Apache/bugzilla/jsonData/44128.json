[{"count": 0, "attachment_id": null, "bug_id": 44128, "is_private": false, "id": 112078, "time": "2007-12-21T22:19:44Z", "creator": "iwade@optusnet.com.au", "creation_time": "2007-12-21T22:19:44Z", "tags": [], "text": "apr_os_file_put() does not register a cleanup handler, which would be desirable behaviour in an \napplication which aims to pass ownership of a filehandle to APR.\n\nTo avoid re-implementing the existing cleanup handlers in client code (as they are not exported), I \nhave \"corrected\" the interface to register the normal cleanup handlers by default unless the optional \nflag APR_FILE_NOCLEANUP is passed in (in line with apr_file_open()).\n\nI have attached a patch against trunk which:\n\na/ adds apr_os_file_put_ex() which is the same as apr_os_file_put() except for the cleanup behavior\nb/ re-factor apr_file_open() and apr_os_file_put() functions to call apr_os_file_put_ex() internally."}, {"count": 1, "tags": [], "text": "Created attachment 21304\nPatch for unix platforms", "is_private": false, "id": 112079, "creator": "iwade@optusnet.com.au", "time": "2007-12-21T22:20:41Z", "bug_id": 44128, "creation_time": "2007-12-21T22:20:41Z", "attachment_id": 21304}]