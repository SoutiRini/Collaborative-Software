[{"count": 0, "tags": [], "creator": "ftoth@synernet.com", "attachment_id": 23272, "text": "Created attachment 23272\nMinor refactor of DefaultServlet\n\nHi,\n\nIt had to happen sooner or later. In one of my tomcat applications I now have to serve multiple collections of static content which may have various encodings. We depend heavily on DefaultServlet, but in its current state it is not possible to control encoding on a resource-by-resource basis. One can set the \"fileEncoding\" parameter, but this controls all static resources.\n\nThe structure of the current code makes this impossible to solve by extending the class, since fileEncoding is a global instance variable.\n\nThe attached refactoring mitigates this primarily by changing the method signature of serveResource() to contain an encoding argument. The extending class may override this method on every call if necessary.", "id": 124905, "time": "2009-02-17T15:01:26Z", "bug_id": 46727, "creation_time": "2009-02-17T15:01:26Z", "is_private": false}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "Patches should be in diff -u format", "id": 124906, "time": "2009-02-17T15:10:14Z", "bug_id": 46727, "creation_time": "2009-02-17T15:10:14Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 46727, "text": "Created attachment 23273\nDefaultServlet refactor - patch\n\nHi,\n\nResubmit as a patch.\n\nThanks,\n\nFred", "id": 124908, "time": "2009-02-17T15:30:12Z", "creator": "ftoth@synernet.com", "creation_time": "2009-02-17T15:30:12Z", "is_private": false, "attachment_id": 23273}, {"count": 3, "tags": [], "bug_id": 46727, "is_private": false, "text": "Sorry it has been rather a long time getting back to this.\n\nA variation of this patch has been applied to 8.0.x and will be included in 8.0.0-RC3 onwards.\n\nSince this patch changes the default servlet signature and it is likely that folks have extended the default servlet, I don't think it would be a good idea to back-port this to earlier versions of Tomcat.", "id": 170157, "time": "2013-09-18T13:22:49Z", "creator": "markt@apache.org", "creation_time": "2013-09-18T13:22:49Z", "attachment_id": null}]