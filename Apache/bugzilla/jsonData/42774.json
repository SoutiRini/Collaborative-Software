[{"count": 0, "tags": [], "text": "The dependset task returns older source file as newer when a file included in\nsrcfileset is older than 24 days (the cutoff is actually 35791 minutes). \nDependset works as expected in versions 1.6.2 and 1.6.5.  The result (in 1.7.0)\nis that target files are not deleted if any source files are over 24 days old.\n\nTo reproduce:\n1. Create a target file, a source file newer than the target file, and another\nsource file with a timestamp of (at least) 25 days old.\n2. Create a target that includes the following code:\n  <dependset>\n    <srcfileset dir=\"${src.dir}\"/>\n    <targetfilelist dir=\"${obj.dir}\" files=\"target.file\"/>\n   </dependset>\n3. Invoke \"ant <target> -verbose -debug\".\n\nThe oldest source file be reported as \"newest source\".", "is_private": false, "id": 104881, "creator": "edm@attachmate.com", "time": "2007-06-28T16:22:30Z", "bug_id": 42774, "creation_time": "2007-06-28T16:22:30Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 42774, "attachment_id": 20414, "text": "Created attachment 20414\nAnt files that demonstrates bug\n\nAnt buildfile (\"ant -f dependset.xml\") that demonstrates the bug in dependset.", "id": 104882, "time": "2007-06-28T16:28:02Z", "creator": "edm@attachmate.com", "creation_time": "2007-06-28T16:28:02Z", "is_private": false}, {"count": 2, "tags": [], "text": "I'm too lazy to look too deeply into this if I don't have to... ;) ...but I had an old 1.7.0 alpha on my XP box \nand saw that dependset-failure echoed \"Target deleted? false\" with that version, but running against the \ncode from svn trunk yields \"Target deleted? true\" on XP and OS X alike.  Can you verify this is fixed in the \nsource version?  If it helps, the fix seems to have been an inadvertent result of Martijn Kruithof's having \nfixed bug 41284 back in January--that bug report contains a link to a build including the fix if you don't \nhave the resources to build Ant yourself (though judging from your attachment you seem to be an old \nhand with Ant).\n\nbr,\nMatt", "attachment_id": null, "id": 104907, "creator": "mbenson@apache.org", "time": "2007-06-29T08:01:30Z", "bug_id": 42774, "creation_time": "2007-06-29T08:01:30Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 42774, "text": "Actually it was fixed on purpose because of bug 41411. (And the obsolete build\nhas been removed in the meantime.)\n\n*** This bug has been marked as a duplicate of 41411 ***", "id": 104921, "time": "2007-06-29T10:31:16Z", "creator": "jkf@apache.org", "creation_time": "2007-06-29T10:31:16Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 42774, "text": "Thanks, Martijn!", "id": 104923, "time": "2007-06-29T10:36:49Z", "creator": "mbenson@apache.org", "creation_time": "2007-06-29T10:36:49Z", "is_private": false, "attachment_id": null}]