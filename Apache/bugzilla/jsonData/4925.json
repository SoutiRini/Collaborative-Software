[{"count": 0, "tags": [], "creator": "ma.darche@free.fr", "attachment_id": null, "text": "My configuration :\n* Linux 2.2.18\n* Apache/1.3.9 (Unix) Debian/GNU\n* gcc 2.95.2\n* libc6 2.1.3 \n* java 1.3.1 (build Blackdown-1.3.1-FCS)\n\nThe WebApp module doesn't build on GNU/Linux when I procede as follows :\n$ ./configure --with-apxs\n$ make\n\nmake[2]: Entering directory `/usr/local/webapp-module-1.0-tc40/apache-1.3'\n{ APXS_LDFLAGS_SHLIB=\"`/usr/bin/apxs -q LDFLAGS_SHLIB` \\\n         \\\n        -lm -lcrypt -lnsl -ldl\" ; \\\n    APXS_LDFLAGS_SHLIB=`/bin/echo ${APXS_LDFLAGS_SHLIB}` ; \\\n    APXS_CFLAGS=\"`/usr/bin/apxs -q CFLAGS` \\\n        -g -O2 \\\n        -g -O2 \\\n         \\\n        -DLINUX=2 -D_REENTRANT \\\n        -I/usr/local/webapp-module-1.0-tc40/apr/include \\\n        -I/usr/local/webapp-module-1.0-tc40/include \\\n        \" ; \\\n    APXS_CFLAGS=`/bin/echo ${APXS_CFLAGS}` ; \\\n    /usr/bin/apxs \\\n        -S CFLAGS=\"${APXS_CFLAGS}\" \\\n        -S LDFLAGS_SHLIB=\"${APXS_LDFLAGS_SHLIB}\" \\\n        -o \"mod_webapp.so\" \\\n        -c \"mod_webapp.c\" \\\n        \"/usr/local/webapp-module-1.0-tc40/lib/libwebapp.a\" \\\n        \"/usr/local/webapp-module-1.0-tc40/lib/libapr.a\" ; \\\n}\nBareword found where operator expected at (eval 6) line 1, near \"\"-DLINUX=2\n-DEAPI -DTARGET=\"apache\"\n        (Missing operator before apache?)\nBareword \"apache\" not allowed while \"strict subs\" in use at (eval 6) line 1.\nString found where operator expected at (eval 6) line 1, near \"apache\"\n-DUSE_HSREGEX -DUSE_EXPAT -I../lib/expat-lite -g -O2 -g -O2 -DLINUX=2\n-D_REENTRANT -I/usr/local/webapp-module-1.0-tc40/apr/include\n-I/usr/local/webapp-module-1.0-tc40/include\"\"\ngcc -DLINUX=2 -DEAPI -DTARGET=\"apache\" -DUSE_HSREGEX -DUSE_EXPAT\n-I../lib/expat-lite -fpic -DSHARED_MODULE -I/usr/include/apache-1.3  -c mod_webapp.c\nmod_webapp.c:70: wa.h: No such file or directory\napxs:Break: Command failed with rc=65536\nmake[2]: *** [mod_webapp.so] Error 1\nmake[2]: Leaving directory `/usr/local/webapp-module-1.0-tc40/apache-1.3'\nmake[1]: Exiting directory \"apache-1.3\"\nmake[1]: *** [template] Error 2\nmake[1]: Leaving directory `/usr/local/webapp-module-1.0-tc40'\nmake: *** [apache-1.3-build] Error 2\n\n\n=============================================================================\n\nTo be able to build the Apache module I have had to modify\napache-1.3/Makefile.in. After the modification the build went to its end without\nerror and I could use Apache-Tomcat as expected.\n\nSo it seems that those 2 include directories were needed:\n-I$(APR_INCDIR) \\\n-I$(SRCDIR)/include \\\n\n\n$(MOD): $(SRCS) $(TGTDIR)/lib/libapr.a $(TGTDIR)/lib/libwebapp.a\n        { APXS_LDFLAGS_SHLIB=\"`$(APXS) -q LDFLAGS_SHLIB` \\\n                $(APR_LDFLAGS) \\\n                $(APR_LIBS)\" ; \\\n            APXS_LDFLAGS_SHLIB=`$(ECHO) $${APXS_LDFLAGS_SHLIB}` ; \\\n            APXS_CFLAGS=\"`$(APXS) -q CFLAGS` \\\n                $(CFLAGS) \\\n                $(APR_CFLAGS) \\\n                $(CPPFLAGS) \\\n                $(APR_CPPFLAGS) \\\n                -I$(APR_INCDIR) \\\n                -I$(SRCDIR)/include \\\n                $(APR_INCLUDES)\" ; \\\n            APXS_CFLAGS=`$(ECHO) $${APXS_CFLAGS}` ; \\\n            $(APXS) \\\n                -S CFLAGS=\"$${APXS_CFLAGS}\" \\\n                -I$(APR_INCDIR) \\\n                -I$(SRCDIR)/include \\\n                -S LDFLAGS_SHLIB=\"$${APXS_LDFLAGS_SHLIB}\" \\\n                -o \"$@\" \\\n                -c \"mod_webapp.c\" \\\n                \"$(TGTDIR)/lib/libwebapp.a\" \\\n                \"$(TGTDIR)/lib/libapr.a\" ; \\\n        }", "id": 7995, "time": "2001-11-16T07:07:41Z", "bug_id": 4925, "creation_time": "2001-11-16T07:07:41Z", "is_private": false}, {"count": 1, "tags": [], "creator": "jfclere@gmail.com", "attachment_id": null, "text": "*** Bug 5150 has been marked as a duplicate of this bug. ***", "id": 9507, "time": "2002-01-10T06:36:39Z", "bug_id": 4925, "creation_time": "2002-01-10T06:36:39Z", "is_private": false}]