[{"count": 0, "tags": [], "creator": "cbotev@yahoo.com", "attachment_id": null, "is_private": false, "id": 78549, "time": "2005-08-16T20:51:46Z", "bug_id": 36210, "creation_time": "2005-08-16T20:51:46Z", "text": "Hi!\n\nI use the cc task <http://ant-contrib.sourceforge.net/cc.html> with Ant 1.6.5. I\ncame accross the following problem. If I install the cpptasks.jar file in a\ndirectory other than Ant's lib directory, I am unable to use idrefs to elements\ndefined in cpptask. For example, if within the cc task I use a defineset element\nto set a precompiler #define, I get an error:\n\n... doesn't denote a DefineSet.\n\nOn the other hand, if I install cpptasks.jar in the ant/lib directory,\neverything works OK.\n\nThe exception is raised at DataType.java:154-156. The isAssignableFrom() call\nreturns false even though the required and the referenced class have the same\ntype signatures. What I found was that if cpptasks.jar is not in ant/lib, the\nclasses are loaded using different class loaders. I am not sure about the\nimplementation of Class.isAssignableFrom() but I suspect it considers classes\nloaded with different loaders to be different classes."}, {"count": 1, "tags": [], "text": "Can you give a small example build file.\n\nDid you use the antlib resource?, or\ndo you have a typedef and a task def for the\nproperty file resources.\nIf is is the latter you *have* to use the loaderref\nattribute.", "is_private": false, "id": 79243, "creation_time": "2005-08-31T18:30:40Z", "time": "2005-08-31T18:30:40Z", "creator": "peterreilly@apache.org", "bug_id": 36210, "attachment_id": null}, {"count": 2, "tags": [], "text": "This is a known problem.\ncpptasks has tasks and types,\nif they are defined by <taskdef> and <typedef>,\nthe same loaderid needs to be used.\n", "is_private": false, "id": 95372, "creation_time": "2006-11-02T15:05:15Z", "time": "2006-11-02T15:05:15Z", "creator": "peterreilly@apache.org", "bug_id": 36210, "attachment_id": null}]