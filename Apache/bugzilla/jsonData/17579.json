[{"count": 0, "tags": [], "bug_id": 17579, "text": "For JK2 connector's native part, in \"jk_channel_socket.c\", type of \nmember \"port\" in structure \"jk_channel_socket_private\" should be \"int\" instead \nof \"short\", otherwise, if a socket channel's port will be reset to default\n(8009) if it larger than 32767 while port larger than 32767 is usable.", "id": 32296, "time": "2003-03-03T06:11:10Z", "creator": "stero@21cn.com", "creation_time": "2003-03-03T06:11:10Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 17579, "text": "I did the following test and they seemed to work properly. For example, with a \nsocket channel's port 49127, Tomcat-4.1.24+Apache-2.0.44+mod_jk2-2.0.2.\n\n1. Search files , each of which includes one or more strings 'short port', from \njk/native2/ recursively. \nThen \"common/jk_channel_socket.c\" and \"common/jk_channel_apr_socket.c\" are \nfound. (In \"jk_channel_apr_socket.c\",  type of member \"port\" in \nstructure \"jk_channel_socket_private\" is delared as 'short')\n\n2. Replace 'short port' into 'int port' in those two files and re-compile JK2.\n\nNote that, in the case of replacing to 'unsigned short', they also seemed to \nwork.\n\n\n", "id": 35950, "time": "2003-04-24T06:46:09Z", "creator": "ttshiko@sirius.hot.co.jp", "creation_time": "2003-04-24T06:46:09Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 17579, "attachment_id": null, "id": 37296, "time": "2003-05-16T07:04:27Z", "creator": "c.rueedi@bluemail.ch", "creation_time": "2003-05-16T07:04:27Z", "is_private": false, "text": "Hi,\n\nI'm not able to use port above 40'000. I didn't search for the border but when \ni use ports under 25000 it works for me. It would be where nice to be able to \nuse port up to 60000 or so. Because I use many instances of tomcat one machine. \nThat for I made a concept for the different ports. Each client has an Id which \nis in the first 2 numbers of the port:\n\nTomcat server port: XX005 (default 8005)\nTomcat Connector: XX009 (default 8009)\nTomcat Connector SSL: XX443 (default 8443)\nTomcat Wrapper Service(NT): XX777 (default 1777)\n\nCompany A has id 15:\n\nTomcat server port: 15005\nTomcat Connector: 15009\nTomcat Connector SSL: 15443\nTomcat Wrapper Service(NT): 15777\n\nCompany A has id 32:\n\nTomcat server port: 32005\nTomcat Connector: 32009\nTomcat Connector SSL: 32443\nTomcat Wrapper Service(NT): 32777\n\nAnd so on...\n\nLike this i can make wonderful ant build files to install tomcat instances for \na new company in minutes. They're installed, they can be registered in the \napache and last the webapp can be deployed the in the correct instance.\n\ngreetz\n\n Chris\n\n\n\n"}, {"count": 3, "tags": [], "text": "This is specially \"bad\" since according to the Internet Engineering Task Force\n(IETF) document on IP port numbers assignments,\nhttp://www.iana.org/assignments/port-numbers, there are 3 ranges of ports:\n* The Well Known Ports : 0 - 1023\n* The Registered Ports : 1024 - 49151\n* The Dynamic and/or Private Ports : 49152 - 65535\n\nTherefore, using a short does not even covers the \"Registered Ports\" range when\non a x86-based processor (excluding ia64).", "attachment_id": null, "id": 47967, "creator": "marc.paquette@videotron.ca", "time": "2003-11-23T18:50:38Z", "bug_id": 17579, "creation_time": "2003-11-23T18:50:38Z", "is_private": false}, {"count": 4, "tags": [], "creator": "marc.paquette@videotron.ca", "attachment_id": 9252, "text": "Created attachment 9252\nPatch: use unsigned short for port number in jk2 native connector", "id": 47969, "time": "2003-11-23T19:25:49Z", "bug_id": 17579, "creation_time": "2003-11-23T19:25:49Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 17579, "attachment_id": null, "id": 51621, "time": "2004-02-02T20:36:00Z", "creator": "normw@bocnet.com.au", "creation_time": "2004-02-02T20:36:00Z", "is_private": false, "text": "solved with cvs checkin from 2004-Feb-02.\n"}]