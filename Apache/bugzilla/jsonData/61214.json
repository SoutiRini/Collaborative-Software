[{"count": 0, "tags": [], "bug_id": 61214, "attachment_id": null, "text": "The servlets attribute is still in the StandardContext mbean but is no longer in the org.apache.catalina.core.StandardContext class.\n\nHere is the stacktrace :\n----\n24-Jun-2017 23:41:41.058 SEVERE [http-nio-8080-exec-1] org.apache.catalina.mbeans.MBeanDumper.dumpBeans Error getting attribute Catalina:j2eeType=WebModule,name=//localhost/host-manager,J2EEApplication=none,J2EEServer=none servlets\n javax.management.ReflectionException: Cannot find getter method getServlets\n\tat org.apache.tomcat.util.modeler.ManagedBean.getGetter(ManagedBean.java:458)\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.getAttribute(BaseModelMBean.java:180)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:647)\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:678)\n\tat org.apache.catalina.mbeans.MBeanDumper.dumpBeans(MBeanDumper.java:81)\n\tat org.apache.catalina.manager.JMXProxyServlet.listBeans(JMXProxyServlet.java:185)\n\tat org.apache.catalina.manager.JMXProxyServlet.doGet(JMXProxyServlet.java:121)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:592)\n\tat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:319)\n\tat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:88)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80)\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:625)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:498)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:796)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1372)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NoSuchMethodException: org.apache.catalina.core.StandardContext.getServlets()\n\tat java.lang.Class.getMethod(Class.java:1786)\n\tat org.apache.tomcat.util.modeler.ManagedBean.getGetter(ManagedBean.java:451)\n\t... 32 more\n----", "id": 199383, "time": "2017-06-24T21:49:01Z", "creator": "alexis.hassler@sewatech.fr", "creation_time": "2017-06-24T21:49:01Z", "is_private": false}, {"count": 1, "tags": [], "text": "PR sent", "attachment_id": null, "id": 199384, "creation_time": "2017-06-24T21:56:12Z", "time": "2017-06-24T21:56:12Z", "creator": "alexis.hassler@sewatech.fr", "bug_id": 61214, "is_private": false}, {"count": 2, "attachment_id": null, "creator": "markt@apache.org", "text": "Thanks for the report and the PR. This has been fixed in trunk and will be included in 9.0.0.M23 onwards.", "id": 199419, "time": "2017-06-26T12:17:08Z", "bug_id": 61214, "creation_time": "2017-06-26T12:17:08Z", "tags": [], "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 61214, "is_private": false, "id": 199420, "time": "2017-06-26T12:23:56Z", "creator": "violetagg@apache.org", "creation_time": "2017-06-26T12:23:56Z", "tags": [], "text": "Hi Mark,\n\nI think that this should be backported to 8.5.x as this functionality (JSR77) was removed there also.\n\nRegards,\nVioleta"}, {"count": 4, "attachment_id": null, "bug_id": 61214, "is_private": false, "id": 199421, "time": "2017-06-26T12:44:17Z", "creator": "markt@apache.org", "creation_time": "2017-06-26T12:44:17Z", "tags": [], "text": "Thanks for the heads up. I did check 8.5.x and thought the method was still there but I didn't check carefully enough.\n\nFixed in 8.5.x for 8.5.17 onwards."}]