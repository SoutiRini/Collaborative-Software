[{"count": 0, "tags": [], "creator": "gem@rellim.com", "attachment_id": null, "id": 43352, "time": "2003-08-27T03:32:39Z", "bug_id": 22741, "creation_time": "2003-08-27T03:32:39Z", "is_private": false, "text": "I get a seg fault in ssl_engine_vars.c line 658.\n\nHere is part of the gdb back trace:\n\n(gdb) run -X\nStarting program: /u3/local/apache2/bin/httpd -X\n[New Thread 16384 (LWP 1777)]\n\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 16384 (LWP 1777)]\nssl_var_log_handler_c (r=0x83ed8d0, a=0x8274400 \"version\") at ssl_engine_vars.c:658\n658         if (sslconn->ssl == NULL)\n(gdb) bt\n#0  ssl_var_log_handler_c (r=0x83ed8d0, a=0x8274400 \"version\") at\nssl_engine_vars.c:658\n#1  0x08085046 in process_item (r=0x83ed8d0, orig=0x83ed8d0, item=0x82741c8)\n    at mod_log_config.c:856\n#2  0x080851c6 in config_log_transaction (r=0x83ed8d0, cls=0x8274d98,\ndefault_format=0x8214cc8)\n    at mod_log_config.c:919\n\n\nThe fix is simple in ssl_engine_vars.c:\n\n  static const char *ssl_var_log_handler_c(request_rec *r, char *a)\n  {\n      SSLConnRec *sslconn = myConnConfig(r->connection);\n      char *result;\n\n+     if (sslconn == NULL) // check for bad return\n+        return NULL;      // \n      if (sslconn->ssl == NULL)\n         return NULL;"}, {"count": 1, "tags": [], "bug_id": 22741, "is_private": false, "id": 46123, "creation_time": "2003-10-23T13:16:38Z", "time": "2003-10-23T13:16:38Z", "creator": "jorton@redhat.com", "text": "Thanks for the patch!  This has been committed to the 2.1 tree and will be\nproposed for backport to 2.0.", "attachment_id": null}]