[{"count": 0, "tags": [], "creator": "asmorgrav@yahoo.no", "attachment_id": null, "id": 117890, "time": "2008-06-23T00:58:09Z", "bug_id": 45253, "creation_time": "2008-06-23T00:58:09Z", "is_private": false, "text": "Building httpd on Solaris aborts with the following error:\n\n/ehc/fs1/home/apache/src/httpd-2.2.9/srclib/apr/libtool --silent --mode=link gcc   -g -O3 -pthreads -mcpu=ultrasparc3 -m32 -R/u01/opt/lib -L/u01/opt/lib -lm -o htpasswd  htpasswd.lo    /ehc/fs1/home/apache/src/httpd-2.2.9/srclib/pcre/libpcre.la /ehc/fs1/home/apache/src/httpd-2.2.9/srclib/apr-util/libaprutil-1.la -lexpat /ehc/fs1/home/apache/src/httpd-2.2.9/srclib/apr/libapr-1.la -luuid -lsendfile -lrt -lsocket -lnsl -lpthread\nUndefined                       first referenced\n symbol                             in file\n__sync_fetch_and_add_4              /ehc/fs1/home/apache/src/httpd-2.2.9/srclib/apr/.libs/libapr-1.so\n__sync_fetch_and_sub_4              /ehc/fs1/home/apache/src/httpd-2.2.9/srclib/apr/.libs/libapr-1.so\nld: fatal: Symbol referencing errors. No output written to .libs/htpasswd\n\n\nThe error occurs on both Solaris 8 and Solaris 10. On both systems builtin atomics are preferred over Solaris atomics"}, {"count": 1, "tags": [], "creator": "asmorgrav@yahoo.no", "attachment_id": null, "text": "The problem may be circumvented by including \"-D USE_ATOMICS_GENERIC\" in the CFLAGS prior to running the configure script.\n\nOn Solaris 10, one may force the use of Solaris atomics by setting HAVE_ATOMIC_BUILTINS to 0 in srclib/apr/include/arch/unix/apr_private.h", "id": 117926, "time": "2008-06-24T00:43:16Z", "bug_id": 45253, "creation_time": "2008-06-24T00:43:16Z", "is_private": false}, {"count": 2, "tags": [], "text": "*** Bug 45415 has been marked as a duplicate of this bug. ***", "attachment_id": null, "id": 127351, "creator": "nick@webthing.com", "time": "2009-05-24T17:37:13Z", "bug_id": 45253, "creation_time": "2009-05-24T17:37:13Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 45253, "attachment_id": null, "is_private": false, "id": 127422, "time": "2009-05-26T09:58:05Z", "creator": "asmorgrav@yahoo.no", "creation_time": "2009-05-26T09:58:05Z", "text": "This bug also affects Apache 2.2.11. I believe it was introduced with the new version of APR."}]