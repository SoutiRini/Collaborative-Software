[{"count": 0, "tags": [], "text": "Problem description:\nI have a lot of .java files in src/ directory and they form a logical groups\nwhich I would like to compile separately. Of course I could move the files into\ngroup1/src, group2/src, but that would mean that I loose CVS history of each\nfile (we have horrible relation with our CVS server maintainer). That is why I\ndecided to convince javac to compile the files separatelly even the sources\nshare the same root. Surprisingly it is possible - one just does not specify\n-sourcepath, only names all the files to compile with full name and javac does\nnot try to search for files not explicitly enumerated as arguments. \n\nI have tried to do the same with Ant <javac> task, but it seems there is no way\nto *not* specify the sourcepath and just enumerate the files (I understand,\nthere would be no way to check whether the files are already compiled or not).\nLet say that I would like to do something like this:\n\n<!-- compile group1 -->\n<javac destdir=\"group1/dest\" >\n  <include name=\"src/org/group1/**/*.java\" />\n</javac>\n\n<!-- compile group2 -->\n<javac destdir=\"group2/dest\" >\n  <include name=\"src/org/group2/**/*.java\" />\n</javac>\n\nand be sure that if by a chance file in group2 references file in group1 that\nthe second compilation fails.\n\nRequest:\n========\n\nI would like the <javac> task to allow compilation without specifying the\nsourcepath. Then the above described behaviour of javac could be used and my\nseparation could work.\n\n\nWorkaround:\n\nActually there is a workaround of this problem. But it relies on the \"srcdirnote\":\nhttp://ant.apache.org/manual/CoreTasks/javac.html#srcdirnote\n\nand I am affraid it could be broken with future version of ant. The trick is\nbased on specification of wrong sourcepath (src/org instead of src) and then\nmoving the compiled classes at right location. See it at:\nhttp://www.netbeans.org/source/browse/openide/build.xml.diff?r1=1.148.4.16&r2=1.148.4.17\n\n\nI would be glad if we could remove this hack in some version of ant with\nimproved <javac>. Regards.", "attachment_id": null, "id": 42750, "creator": "jtulach@netbeans.org", "time": "2003-08-14T15:46:51Z", "bug_id": 22427, "creation_time": "2003-08-14T15:46:51Z", "is_private": false}, {"count": 1, "tags": [], "text": "Whaooo, I *strongly* support this request!!! I never realized one could \nactually *not* specify the sourcepath. I developped a complex XSL based system \nto compile groups of files in a single src/ directory to keep circular \ndependencies between the groups in check, and could completely scrap it and \nreplace it with simple <javac>s would this enhancement make it thru.\n\nThis ability to compile only a subset of files from a source tree without Javac \nautomatically finding the dependent source files in the same tree would be \ntremendously useful IMHO!!! --DD", "attachment_id": null, "id": 42754, "creator": "ddevienne@lgc.com", "time": "2003-08-14T15:54:21Z", "bug_id": 22427, "creation_time": "2003-08-14T15:54:21Z", "is_private": false}, {"count": 2, "tags": [], "text": "<javac sourcepath=\"\"/> should do (Thu Feb 14 17:34:19 2002 UTC ;-)\n\n*** This bug has been marked as a duplicate of 5268 ***", "attachment_id": null, "id": 42756, "creator": "bodewig@apache.org", "time": "2003-08-14T16:03:12Z", "bug_id": 22427, "creation_time": "2003-08-14T16:03:12Z", "is_private": false}, {"count": 3, "tags": [], "text": "Created attachment 7831\nPatch to the documentation to mention this feature", "is_private": false, "id": 42793, "creator": "jtulach@netbeans.org", "time": "2003-08-15T08:57:00Z", "bug_id": 22427, "creation_time": "2003-08-15T08:57:00Z", "attachment_id": 7831}, {"count": 4, "tags": [], "bug_id": 22427, "attachment_id": null, "id": 42794, "time": "2003-08-15T09:06:40Z", "creator": "jtulach@netbeans.org", "creation_time": "2003-08-15T09:06:40Z", "is_private": false, "text": "Thanks for pointing me to bug 5268. sourcepath=\"\" works and I agree the original\npost is a duplicate. But in order to safe time of others I suggest to update\ndocumentation. Either with the attached patch or something similar."}, {"count": 5, "tags": [], "text": "patch committed, thanks.", "attachment_id": null, "id": 42795, "creator": "bodewig@apache.org", "time": "2003-08-15T09:14:55Z", "bug_id": 22427, "creation_time": "2003-08-15T09:14:55Z", "is_private": false}]