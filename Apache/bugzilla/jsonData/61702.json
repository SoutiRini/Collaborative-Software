[{"count": 0, "attachment_id": null, "creator": "psazonov@at-consulting.ru", "is_private": false, "id": 201813, "time": "2017-10-31T09:59:51Z", "bug_id": 61702, "creation_time": "2017-10-31T09:59:51Z", "tags": [], "text": "When using mod_auth_kerb for authentication, you get REMOTE_USER variable looking like this: Username@REALM.\nFor example, you can get UpCaseUser@TST.LOCAL or lowercaseuser@TST.LOCAL. Then, you can try to convert this username to \"local\", and sometimes you get UpCaseUser and lowercaseuser, sometimes upcaseuser@tst.local and lowercaseuser@tst.local, it depends on your server and krb5.conf config. But AD UPN still will be UpCaseUser@tst.local or lowercaseuser@tst.local\nSo, when u try to search for user with capital letters you get a error. In many many internet pages, where configuration is described, they just use aSAMaccountname instead of UPN, loosing domain username part.\nIt would be much better to make user search case insensitive and use UPN search and original kerberos authentication username like this: Username@REALM.\nI can make it using PerlAuthzHandler AuthZLDAP and search string PerlSetVar LDAPfilter &(userPrincipalName>=[uid])(memberOf=CN=MyUsers,OU=MyOU,DC=tst,DC=local) with userPrincipalName>= parameter, when using just = is also case sensitive.\nBut I don't have access to mod_authnz_ldap search string, so when using this module this issue is present. Can u please make this ldap searches truly case insensitive?"}]