[{"count": 0, "tags": [], "creator": "ronald-lists@klop.ws", "is_private": false, "text": "I've tried this on FreeBSD 5 with Tomcat 5.0.27 and on Windows XP with Tomcat\n5.0.24.\nBoth using JDK 1.4.2.\n\nI made a war file of my webapp with the name crm.war.\nThe war file contains this context.xml in the META-INF directory.\n\n<?xml version='1.0' encoding='utf-8'?>\n<Context docBase=\"crm.war\" path=\"\">\n</Context>\n\nWhen I upload/deploy this via Tomcat Manager, Tomcat tries to start the context\ntwice.\nOnce with path \"\" and once with path \"/crm\".\nThis results in the following stacktrace.\nTomcat Manager does show two deployed contexts after clicking 'List\nApplications' again.\nSo the stacktrace/exception doesn't prevent it from starting the contexts.\n\n>>> Begin stacktrace\n\n13-aug-2004 10:59:21 org.apache.catalina.core.StandardHostDeployer install\nINFO: Processing Context configuration file URL\nfile:/C:/Tomcat5/conf/Catalina/localhost/crm.xml\n13-aug-2004 10:59:21 org.apache.catalina.core.StandardHostDeployer install\nINFO: Installing web application from URL jar:file:/C:/Tomcat5/webapps/crm.war!/\n\n13-aug-2004 11:00:54 org.apache.catalina.core.StandardHostDeployer install\nINFO: Processing Context configuration file URL\nfile:C:\\Tomcat5\\conf\\Catalina\\localhost\\crm.xml\n13-aug-2004 11:00:54 org.apache.commons.digester.Digester endElement\nSEVERE: End event threw exception\njava.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at\norg.apache.commons.beanutils.MethodUtils.invokeMethod(MethodUtils.java:252)\n        at org.apache.commons.digester.SetNextRule.end(SetNextRule.java:256)\n        at org.apache.commons.digester.Rule.end(Rule.java:276)\n        at org.apache.commons.digester.Digester.endElement(Digester.java:1058)\n        at\norg.apache.catalina.util.CatalinaDigester.endElement(CatalinaDigester.java:76)\n        at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n        at\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)\n        at\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown\nSource)\n        at\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.commons.digester.Digester.parse(Digester.java:1567)\n        at\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:488)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:863)\n        at\norg.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:482)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:427)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1064)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:327)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n        at\norg.apache.catalina.core.StandardHost.backgroundProcess(StandardHost.java:800)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1619)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1628)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1608)\n        at java.lang.Thread.run(Thread.java:534)\nCaused by: java.lang.IllegalStateException: Context path  is already in use\n        at\norg.apache.catalina.core.StandardHostDeployer.addChild(StandardHostDeployer.java:896)\n        ... 30 more\n13-aug-2004 11:00:54 org.apache.catalina.startup.HostConfig deployDescriptors\nSEVERE: Error deploying configuration descriptor crm.xml\njava.io.IOException: java.lang.IllegalStateException: Context path  is already\nin use\n        at\norg.apache.catalina.core.StandardHostDeployer.install(StandardHostDeployer.java:494)\n        at org.apache.catalina.core.StandardHost.install(StandardHost.java:863)\n        at\norg.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:482)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:427)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1064)\n        at\norg.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:327)\n        at\norg.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n        at\norg.apache.catalina.core.StandardHost.backgroundProcess(StandardHost.java:800)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1619)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1628)\n        at\norg.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1608)\n        at java.lang.Thread.run(Thread.java:534)\n13-aug-2004 11:00:54 org.apache.catalina.core.StandardHostDeployer install\nINFO: Installing web application at context path /crm from URL\nfile:C:/Tomcat5/webapps/crm\n\n13-aug-2004 11:00:58 org.apache.catalina.core.StandardHostDeployer install\nINFO: Installing web application at context path /crm from URL\nfile:C:/Tomcat5/webapps/crm\n\n>>> End stacktrace", "id": 61937, "time": "2004-08-13T09:24:21Z", "bug_id": 30645, "creation_time": "2004-08-13T09:24:21Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "yoavs@computer.org", "text": "Turn off autoDeploy/deployOnStartup/liveDeploy (the appropriate attribute name \ndepends on your Tomcat version), and you will only get one deployed context.  \nWhen I do this, I only get one deployment at the correct path, hence Resolved-\n>WorksForMe.", "id": 62801, "time": "2004-08-30T19:29:19Z", "bug_id": 30645, "creation_time": "2004-08-30T19:29:19Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 30645, "is_private": false, "id": 62823, "creation_time": "2004-08-31T06:49:43Z", "time": "2004-08-31T06:49:43Z", "creator": "pr@objektpark.de", "text": "Other option:\n\nwhen deploy a ROOT context the file name at conf/<enginename>/<hostname>\nmust be ROOT.xml and also the war at webapps must be ROOT.war.\n\nThen you can activate the autoDeploy, deployOnStartup, deployXML again.\n\nRegards\nPeter", "attachment_id": null}]