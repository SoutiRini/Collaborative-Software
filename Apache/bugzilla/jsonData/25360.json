[{"count": 0, "tags": [], "bug_id": 25360, "attachment_id": null, "text": "Maybe it is a bug in class CoyoteRequest, my solution is here:\ndiff -u CoyoteRequest.java.old  CoyoteRequest.java.new\n--- CoyoteRequest.java.old\t2003-12-09 21:51:57.000000000 +0800\n+++ CoyoteRequest.java.new\t2003-12-09 21:52:23.000000000 +0800\n@@ -2325,9 +2325,9 @@\n \n         String enc = coyoteRequest.getCharacterEncoding();\n         if (enc != null) {\n-            parameters.setEncoding(enc);\n+            parameters.setQueryStringEncoding(enc);\n         } else {\n-            parameters.setEncoding\n+            parameters.setQueryStringEncoding\n                 (org.apache.coyote.Constants.DEFAULT_CHARACTER_ENCODING);\n         }", "id": 48732, "time": "2003-12-09T14:04:18Z", "creator": "minhan@bsteel.com", "creation_time": "2003-12-09T14:04:18Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 25360, "attachment_id": null, "text": "Thanks, we were not aware of that \"bug\" ;-)\nIMO, you should look into tomcat-dev's archives for the full details.\nBTW, in your patch, you should leave the setEncoding method call, also (it's\nuseful for the POST body, if any).\n\nI sort of changed my mind on the subject, and I could be talked into adding a\n\"compatibility\" boolean flag to the connector, if the default stays to using a\nseparate encoding for the URI parameters.", "id": 48736, "time": "2003-12-09T16:10:41Z", "creator": "remm@apache.org", "creation_time": "2003-12-09T16:10:41Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 25360, "text": "Thanks for your reminding. I have reviewed the code. The \nparameters.setQueryStringEncoding method and the \nparameters.handleQueryParameters method handle the parameters in the encoded \nuri at both \"get\" and \"post\" method. Specially if the contentType \nequals \"application/x-www-form-urlencoded\" (the default encoding for all \nforms), it should deal with the parameters in the post body. The setEncoding \nmethod must be called before calling \"parameters.processParameters(formData, 0, \nlen)\" method, otherwise you can call parameters.processParameters(formData, 0, \nlen, enc)\" directly.", "count": 2, "id": 48786, "time": "2003-12-10T02:55:38Z", "creator": "minhan@bsteel.com", "creation_time": "2003-12-10T02:55:38Z", "is_private": false}, {"count": 3, "tags": [], "creator": "minhan@bsteel.com", "is_private": false, "text": "Created attachment 9480\ndiff -u", "id": 48787, "time": "2003-12-10T03:54:22Z", "bug_id": 25360, "creation_time": "2003-12-10T03:54:22Z", "attachment_id": 9480}]