[{"count": 0, "tags": [], "creator": "ben@cpsc.ucalgary.ca", "text": "I have ssl and ldap running on a Solaris box.  When authenticating via ldap over\nhttps there is no problem.  However when trying to authenticate using ldaps I get:\n[Mon Aug 25 14:08:54 2003] [warn] [client 136.159.6.154] [20351] auth_ldap\nauthenticate: user ben authentication failed; URI /tmp [LDAP:\nldap_simple_bind_s() failed][Can't contact LDAP server]\n\nAm I missing something?  Could it be that the ldaps portion of the auth_ldap\nmodule and the ssl module don't get along when ssl is already handling the http?", "id": 43271, "time": "2003-08-25T20:22:06Z", "bug_id": 22711, "creation_time": "2003-08-25T20:22:06Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "text": "Using openldap?\n", "attachment_id": null, "bug_id": 22711, "id": 47463, "time": "2003-11-17T03:01:09Z", "creator": "mads@apache.org", "creation_time": "2003-11-17T03:01:09Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 22711, "is_private": false, "text": "Yes openldap.", "id": 53345, "time": "2004-03-02T20:39:42Z", "creator": "ben@cpsc.ucalgary.ca", "creation_time": "2004-03-02T20:39:42Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 22711, "attachment_id": null, "text": "Seems to still happen with 2.0.49 too...surely this isn't that uncommon of a\nconfiguration...", "id": 57375, "time": "2004-05-13T18:56:16Z", "creator": "chipb@broadcast.net", "creation_time": "2004-05-13T18:56:16Z", "is_private": false}, {"count": 4, "tags": [], "creator": "minfrin@sharp.fm", "attachment_id": null, "id": 57758, "time": "2004-05-21T00:52:26Z", "bug_id": 22711, "creation_time": "2004-05-21T00:52:26Z", "is_private": false, "text": "Looking at the code, it seems mod_ldap supports LDAP/TLS instead of LDAP/SSL.\n\nIf the LDAPTrustedCA directive is present, mod_ldap will attempt to connect\nsecurely by using TLS. Details at http://httpd.apache.org/docs-2.0/mod/mod_ldap.html\n\nSupporting LDAP/SSL would also be useful, but the above could work around your\nproblem for now.\n"}, {"count": 5, "tags": [], "bug_id": 22711, "is_private": false, "text": "I had the exact same problem. Turned out that the LDAPTrustedCA directive\nrequires the ABSOLUTE path to the certificate file. I had been using the\nrelative path to the ServerRoot directive. This is inconsistent. Can someone\nlook into this? Also the log files did not indicate anything was wrong with the\nlocation I fed it, even in debug mode:\n\n/bin/apachectl sslstart\n[Fri Aug 20 13:22:24 2004] [debug] util_ldap.c(918): [28239] ldap cache: Setting\nshared memory cache size to 200000 bytes.\n[Fri Aug 20 13:22:24 2004] [debug] util_ldap.c(972): [28239] ldap cache: Setting\nsearch cache size to 1024 entries.\n[Fri Aug 20 13:22:24 2004] [debug] util_ldap.c(953): [28239] ldap cache: Setting\ncache TTL to 600000000 microseconds.\n[Fri Aug 20 13:22:24 2004] [debug] util_ldap.c(1005): [28239] ldap cache:\nSetting operation cache size to 1024 entries.\n[Fri Aug 20 13:22:24 2004] [debug] util_ldap.c(987): [28239] ldap cache: Setting\noperation cache TTL to 600000000 microseconds.\n[Fri Aug 20 13:22:24 2004] [debug] util_ldap.c(1018): LDAP: SSL trusted\ncertificate authority file - conf/ssl.crt/TrustedRootCert.b64\n[Fri Aug 20 13:22:24 2004] [debug] util_ldap.c(1034): LDAP: SSL trusted\ncertificate authority file type - BASE64_FILE\n[Fri Aug 20 13:22:24 2004] [debug] mod_auth_ldap.c(698): [28239] auth_ldap url\nparse:\n`ldaps://ccm1.provo.novell.com/o=novell?uid?sub?(&(objectclass=posixAccount)(NFORGEgidNumber=*))'\n[Fri Aug 20 13:22:24 2004] [debug] mod_auth_ldap.c(719): [28239] auth_ldap url\nparse: Host: ccm1.provo.novell.com\n[Fri Aug 20 13:22:24 2004] [debug] mod_auth_ldap.c(721): [28239] auth_ldap url\nparse: Port: 636\n[Fri Aug 20 13:22:24 2004] [debug] mod_auth_ldap.c(723): [28239] auth_ldap url\nparse: DN: o=novell\n[Fri Aug 20 13:22:24 2004] [debug] mod_auth_ldap.c(725): [28239] auth_ldap url\nparse: attrib: uid\n[Fri Aug 20 13:22:24 2004] [debug] mod_auth_ldap.c(727): [28239] auth_ldap url\nparse: scope: subtree\n[Fri Aug 20 13:22:24 2004] [debug] mod_auth_ldap.c(732): [28239] auth_ldap url\nparse: filter: (&(objectclass=posixAccount)(NFORGEgidNumber=*))\n[Fri Aug 20 13:22:24 2004] [debug] mod_auth_ldap.c(790): LDAP: auth_ldap using\nSSL connections\n\nThis is not mentioned anywhere in the documentation.", "id": 62259, "time": "2004-08-20T20:09:44Z", "creator": "gregaryh@juno.com", "creation_time": "2004-08-20T20:09:44Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 22711, "is_private": false, "text": "This was on a SLES 8.0 Server btw", "id": 62266, "time": "2004-08-20T22:01:55Z", "creator": "gregaryh@juno.com", "creation_time": "2004-08-20T22:01:55Z", "attachment_id": null}, {"count": 7, "tags": [], "creator": "bnicholes@apache.org", "text": "The problem is that the path to the certificate file must be an absolute \npath.  mod_ldap was fixed in 2.0.50 to allow for relative paths to be resolved \nagainst SERVER_ROOT.\n\n*** This bug has been marked as a duplicate of 26602 ***", "id": 62272, "time": "2004-08-20T22:30:56Z", "bug_id": 22711, "creation_time": "2004-08-20T22:30:56Z", "is_private": false, "attachment_id": null}]