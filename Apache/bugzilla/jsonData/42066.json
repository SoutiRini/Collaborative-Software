[{"count": 0, "attachment_id": null, "bug_id": 42066, "text": "If apr_allocator_alloc at apr_buckets_alloc.c line 129 and 142 fails, SEGV \noccurs. It should abort when APR_POOL_DEBUG is enabled.\nOr even if APR_POOL_DEBUG is disabled, should apr_bucket_alloc return NULL?", "id": 101507, "time": "2007-04-07T03:25:03Z", "creator": "takashi.asfbugzilla@tks.st", "creation_time": "2007-04-07T03:25:03Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": 19921, "bug_id": 42066, "text": "Created attachment 19921\nwrite error and abort", "id": 101508, "time": "2007-04-07T03:28:46Z", "creator": "takashi.asfbugzilla@tks.st", "creation_time": "2007-04-07T03:28:46Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "davi@apache.org", "is_private": false, "text": "apr_allocator_t should have a abort_fn like apr_pool_t, and then it should return NULL. Almost all\ncallers of apr_bucket_alloc() (within httpd) don't check for a NULL return, so a abort_fn is a must have.", "id": 102627, "time": "2007-04-29T14:23:33Z", "bug_id": 42066, "creation_time": "2007-04-29T14:23:33Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 42066, "attachment_id": null, "is_private": false, "id": 109408, "time": "2007-10-16T16:17:16Z", "creator": "wrowe@apache.org", "creation_time": "2007-10-16T16:17:16Z", "text": "Davi's proposal entails an API change, either way marking this as\nan enhancement, the original patch could be considered for 1.2.x\nbut solving it requires 1.3.0 - and I agree both would be good."}, {"count": 4, "attachment_id": null, "bug_id": 42066, "text": "No abort_fn is needed now that we handle the NULL result.  Closing.", "id": 116313, "time": "2008-05-06T14:10:39Z", "creator": "wrowe@apache.org", "creation_time": "2008-05-06T14:10:39Z", "tags": [], "is_private": false}]