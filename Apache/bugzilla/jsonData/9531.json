[{"count": 0, "tags": [], "text": "Coyote Connector 1.0 RC2\n\nI'm getting an IllegalStateException when a servlet of mine throws an exception\nthat should forward me to an error page. The exception is on line 251 of\nCoyoteResponseFacade.java:\n\n248               public void reset() {\n249           \n250                   if (isCommitted())\n251                       throw new IllegalStateException\n252                           (/*sm.getString(\"responseBase.reset.ise\")*/);\n253 remm  1.1 \n254                   response.reset();\n255           \n256               }\n\nHere's the portion of the web.xml for my webapp that adds the error-page:\n\n<error-page>\n  <exception-type>my.package.web.SessionTimeoutException</exception-type>\n  <location>/errors/sessiontimeout.jsp</location>\n</error-page>\n\nI'll attach a stack trace as a separate text file.", "attachment_id": null, "bug_id": 9531, "id": 16967, "time": "2002-05-30T22:23:01Z", "creator": "seth.leger@raritan.com", "creation_time": "2002-05-30T22:23:01Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 9531, "attachment_id": 1980, "text": "Created attachment 1980\nStack trace from original exception up to the IllegalStateException inside the connector", "id": 16968, "time": "2002-05-30T22:31:29Z", "creator": "seth.leger@raritan.com", "creation_time": "2002-05-30T22:31:29Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 9531, "attachment_id": null, "text": "I have reservations regarding the validity of your test case, given that the\nfunctionality is tested by the tester and Watchdog. You have to make sure that\nthe response isn't actually really committed. You'll need to attach a test case\nif your servlet is doing something unusual (or it's just a bug I introduced when\nmoving the facades).", "id": 16970, "time": "2002-05-30T23:43:53Z", "creator": "remm@apache.org", "creation_time": "2002-05-30T23:43:53Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 9531, "attachment_id": null, "text": "It looks like my problem; seems I'm throwing the exception after the session has\nbeen committed. Hmmm, now I just have to redesign my JSPs...\n\nThanks for the help. It's safe to mark this INVALID.", "id": 16988, "time": "2002-05-31T13:56:23Z", "creator": "seth.leger@raritan.com", "creation_time": "2002-05-31T13:56:23Z", "is_private": false}, {"count": 4, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 17017, "time": "2002-05-31T21:23:38Z", "bug_id": 9531, "creation_time": "2002-05-31T21:23:38Z", "is_private": false, "text": "Thanks for the information. Hopefully the refactoring won't be too bad."}]