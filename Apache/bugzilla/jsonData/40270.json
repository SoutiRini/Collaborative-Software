[{"attachment_id": null, "tags": [], "creator": "gary.reed@mckesson.com", "is_private": false, "count": 0, "id": 92277, "time": "2006-08-16T19:43:18Z", "bug_id": 40270, "creation_time": "2006-08-16T19:43:18Z", "text": "[PATCH] This patch is needed to compensate for an error with Microsoft's Word\n2003 WordprocessinML style sheet \"Word2FO.xsl\". McKesson is close to using FOP\nat a pilot site and it would greatly help us if this change were made. I highly\ndoubt that we would experience a timely turn-around from Microsoft.\n\n:::::::\nAs per Andreas Delmelle:\n\nHmm... We already allow table-bodies without child-nodes if strict validation is\nturned off, so might as well add this. Not too much harm, I guess.\n\nIf it is producing list-item-labels without content --at least an empty block\nwould suffice-- then the stylesheet should be altered. It is resulting in FO\nthat does not adhere to the rules in the XSL-FO Rec, so it would be more\nreasonable to change the stylesheet.\n\nEither it should create an 'empty' list-item, with both label and body at least\ncontaining an empty block, or it should not create a list-item at all.\n\n:::::::\nTo reproduce:\n\n<w:listPr>\n    <aml:annotation aml:id=\"2\" aml:author=\".\"\naml:createdate=\"2003-03-20T11:54:00Z\" w:type=\"Word.Insertion\"/> </w:listPr>\n\nWhich causes the exception:\n\norg.apache.fop.fo.ValidationException: null:2:26031: Error(2/26031):\nfo:list-item-label is missing child elements. \nRequired Content Model: marker* (%block;)+\n\tat\norg.apache.fop.fo.FONode.missingChildElementError(FONode.java:407)\n\tat\norg.apache.fop.fo.flow.AbstractListItemPart.endOfNode(AbstractListItemPa\nrt.java:68)\n\tat\norg.apache.fop.fo.flow.ListItemLabel.endOfNode(ListItemLabel.java:49)\n\tat\norg.apache.fop.fo.FOTreeBuilder$MainFOHandler.endElement(FOTreeBuilder.j\nava:378)\n\tat\norg.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:194)\n\tat\norg.apache.xalan.transformer.TransformerIdentityImpl.endElement(Transfor\nmerIdentityImpl.java:1103)\n\tat\norg.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n\tat\norg.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement(Unknown\nSource)\n\tat\norg.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown\nSource)\n\tat\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDis\npatcher.dispatch(Unknown Source)\n\tat\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unkno\nwn Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown\nSource)\n\tat org.apache.xerces.parsers.DTDConfiguration.parse(Unknown\nSource)\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown\nSource)\n\tat\norg.apache.xalan.transformer.TransformerIdentityImpl.transform(Transform\nerIdentityImpl.java:494)\n      . . .\n\n:::::::\nTo get around this I modified the endOfNode() method in\norg.apache.fop.fo.flow.AbstractListItemPart to only throw this exception if\nstrict validation is configured. A patch file containing this modification is\nattached."}, {"count": 1, "attachment_id": 18725, "creator": "gary.reed@mckesson.com", "text": "Created attachment 18725\nPatch for AbstractListItemPart.java", "id": 92278, "time": "2006-08-16T19:45:59Z", "bug_id": 40270, "creation_time": "2006-08-16T19:45:59Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "creator": "bowditch_chris@hotmail.com", "text": "Thanks for the patch!", "count": 2, "id": 92286, "time": "2006-08-17T07:56:03Z", "bug_id": 40270, "creation_time": "2006-08-17T07:56:03Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "adelmelle@apache.org", "is_private": false, "count": 3, "id": 92297, "time": "2006-08-17T10:24:55Z", "bug_id": 40270, "creation_time": "2006-08-17T10:24:55Z", "text": "Patch applied with very small modifications.\nsee: http://svn.apache.org/viewvc?rev=432201&view=rev\n\nThanks!"}, {"count": 4, "attachment_id": null, "creator": "gadams@apache.org", "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 156310, "time": "2012-04-01T07:09:17Z", "bug_id": 40270, "creation_time": "2012-04-01T07:09:17Z", "tags": [], "is_private": false}]