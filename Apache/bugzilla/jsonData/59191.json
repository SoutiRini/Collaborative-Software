[{"count": 0, "tags": [], "bug_id": 59191, "is_private": false, "text": "The SSL/TLS wss connections established through WsWebSocketContainer.java do not support SNI or at least I have been unable to get it to work.\n\n*** ClientHello, TLSv1.2\nSession ID:  {}\nCipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\nCompression Methods:  { 0 }\nExtension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\nExtension ec_point_formats, formats: [uncompressed]\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA\n***\n\nNote that it (javax.net.debug=all output) is missing the server_name extension.\n \nIt should show something like:\n\nExtension server_name, server_name: [type=host_name (0), value=foo.example.com]\n\nIs there a way to add support (even if it requires extending/overriding some classes)?\n\nUsing Java 1.8.0_74 on OS X.", "id": 189539, "time": "2016-03-17T16:33:04Z", "creator": "kmclaugh@gmail.com", "creation_time": "2016-03-17T16:33:04Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 59191, "is_private": false, "text": "See bug 57767 for websocket client items.\n\nTo be honest, since there's apparently no interest in that from Tomcat developers at the moment, and functionality would heavily duplicate some other ASF projects (like HTTP client), you should look for another websocket client to use in your webapp.\n\n*** This bug has been marked as a duplicate of bug 57767 ***", "id": 189540, "time": "2016-03-17T16:53:07Z", "creator": "remm@apache.org", "creation_time": "2016-03-17T16:53:07Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "kmclaugh@gmail.com", "text": "Ok, that's unfortunate since http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#websocket-stomp-client uses this client default and the jetty version seemed to have concurrency issues.", "id": 189543, "time": "2016-03-17T17:19:13Z", "bug_id": 59191, "creation_time": "2016-03-17T17:19:13Z", "is_private": false, "attachment_id": null}]