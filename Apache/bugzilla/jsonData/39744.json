[{"count": 0, "tags": [], "bug_id": 39744, "text": "This isn't going to be fun to explain.\n\nFreeBSD pentarou.parodius.com 4.11-STABLE FreeBSD 4.11-STABLE #0: Sun May 28 \n12:02:42 PDT 2006     root@pentarou.parodius.com:/usr/o\nbj/usr/src/sys/PENTAROU  i386\n\nSituation:\n\nOccasionally our production Apache server dumps core on\na SIGBUS:\n\npid 31008 (httpd), uid 0: exited on signal 10 (core dumped)\n\nThe time of the problem is very suspicious: a few seconds\nafter midnight, which is when our newsyslog is scheduled to\nrun for Apache logfiles.  Note that we send Apache a signal 30,\nwhich is SIGUSR1:\n\n/var/log/httpd-access.log               640  13    *    @T00  \nB /var/run/httpd.pid 30\n/var/log/httpd-error.log                640  13    *    @T00  \nB /var/run/httpd.pid 30\n/var/log/httpd-cgiwrap.log              640  13    *    @T00  Z\n/var/log/suphp.log                      640  13    *    @T00  Z\n\nApache error_log says:\n\n[Wed Jun 07 00:00:02 2006] [notice] Graceful restart requested, doing restart\n\nThen the log rotates.  New log says:\n\n[Wed Jun 07 00:00:02 2006] [notice] mod_bw : Memory Allocated 112 bytes (each \nconf takes 28 bytes)\n[Wed Jun 07 00:00:02 2006] [notice] mod_bw : Version 0.7 - Initialized [4 Confs]\n[Wed Jun 07 00:00:03 2006] [notice] seg fault or similar nasty error detected \nin the parent process\n\nWhere things get crazy: the core backtrace shows a problem that seems\nto point to the FreeBSD crypto library.  Our system libraries *are\nnot* built with debugging symbols (but Apache is).  We have one SSL\nvirtualhost (support.parodius.com). Here's the bt full:\n\npentarou# gdb /usr/local/sbin/httpd httpd.31008.uid_0.core\nGNU gdb 4.18 (FreeBSD)\nCopyright 1998 Free Software Foundation, Inc.\nGDB is free software, covered by the GNU General Public License, and you are\nwelcome to change it and/or distribute copies of it under certain conditions.\nType \"show copying\" to see the conditions.\nThere is absolutely no warranty for GDB.  Type \"show warranty\" for details.\nThis GDB was configured as \"i386-unknown-freebsd\"...Deprecated bfd_read called \nat /usr/src/gnu/usr.bin/binutils/gdb/../../../../contrib/gdb/gdb/dwarf2read.c \nline 3049 in dwarf2_read_section\n\nCore was generated by `httpd'.\nProgram terminated with signal 10, Bus error.\nReading symbols from /usr/lib/libm.so.2...done.\nReading symbols from /usr/local/lib/libaprutil-1.so.2...done.\nReading symbols from /usr/local/lib/libexpat.so.6...done.\nReading symbols from /usr/local/lib/libiconv.so.3...done.\nReading symbols from /usr/local/lib/libapr-1.so.2...done.\nReading symbols from /usr/lib/libcrypt.so.2...done.\nReading symbols from /usr/lib/libc.so.4...done.\nReading symbols from /usr/local/libexec/apache22/mod_authn_file.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_authn_dbm.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_authn_anon.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_authn_default.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_authz_host.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_authz_groupfile.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_authz_user.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_authz_dbm.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_authz_owner.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_authz_default.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_auth_basic.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_include.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_filter.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_charset_lite.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_deflate.so...done.\nReading symbols from /usr/lib/libz.so.2...done.\nReading symbols from /usr/local/libexec/apache22/mod_log_config.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_logio.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_env.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_mime_magic.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_expires.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_headers.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_usertrack.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_unique_id.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_setenvif.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_version.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_ssl.so...done.\nReading symbols from /usr/lib/libssl.so.3...done.\nReading symbols from /usr/lib/libcrypto.so.3...done.\nReading symbols from /usr/local/libexec/apache22/mod_mime.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_autoindex.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_cgi.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_vhost_alias.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_negotiation.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_dir.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_actions.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_userdir.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_alias.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_rewrite.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_suphp.so...done.\nReading symbols from /usr/local/libexec/apache22/mod_bw.so...done.\nReading symbols from /usr/libexec/ld-elf.so.1...done.\n#0  0x2847663c in engine_table_select () from /usr/lib/libcrypto.so.3\n(gdb) bt full\n#0  0x2847663c in engine_table_select () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#1  0x28454df4 in ENGINE_get_default_RSA () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#2  0x28453209 in RSA_new_method () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#3  0x2845309d in RSA_new () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#4  0x2846c6f7 in RSAPrivateKey_asn1_meth () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#5  0x28478688 in ASN1_item_ex_new () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#6  0x284784cf in ASN1_item_ex_new () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#7  0x28474361 in ASN1_item_ex_d2i () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#8  0x28473e12 in ASN1_item_d2i () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#9  0x2846c7ab in d2i_RSAPublicKey () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#10 0x28467bfe in d2i_PublicKey () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#11 0x284666be in X509_PUBKEY_get () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#12 0x284656e9 in X509_get_pubkey () from /usr/lib/libcrypto.so.3\nNo symbol table info available.\n#13 0x28380183 in ssl_util_algotypeof (pCert=0x830b200, pKey=0x0) at \nssl_util.c:144\n        t = 0\n        pFreeKey = (struct evp_pkey_st *) 0x0\n#14 0x28374e41 in ssl_pphrase_Handle (s=0x80bbeb8, p=0x8146018) at \nssl_engine_pphrase.c:216\n        mc = (struct {...} *) 0x80b8320\n        sc = (struct SSLSrvConfigRec *) 0x8299378\n        pServ = (struct server_rec *) 0x81ada90\n        cpVHostID = 0x81470c0 \"support.parodius.com:443\"\n        szPath = \"/conf/ME/certificates/support.parodius.com.crt\\000ions\\n\\000\n\\001\\000\\000\u00c2\u00a0\\211)\\b\\200\\211)\\b(\u00c3\u00c2\u00bf\u00c2\u00bf\\000\\000\\000\\000`.)\\b\\000-conference/x-\ncooltalk\\t\\tice\\000\\000ltimedia\\000\\000\\000ml\\000\\000eb\\000\\000ge+xml\\000\\000 \ndmg\\000\\000.\\000\\000media type\\000\\000\\000\\000\\211\\000\\000\\000L\\001\\000\\000 \\002\n\\000\\000\\024\\001\\000\\000\\203\\001\\000\\000N\\000\\000\\000\\b\\000\\000\\000\u00c2\u00a0\\000\\000\n\\000\\202\\000\\000\\000\\207\\000\\000\\000\\020\\000\\000\\000\"...\n        pPrivateKey = (struct evp_pkey_st *) 0x65747962\n        asn1 = (struct {...} *) 0x20383220\n        ucp = (unsigned char *) 0x73656b61 <Address 0x73656b61 out of bounds>\n        length = 1948254218\n        pX509Cert = (struct x509_st *) 0x830b200\n        bReadable = 1866670132\n        aPassPhrase = (struct apr_array_header_t *) 0x81470a0\n        nPassPhrase = 0\n        nPassPhraseCur = 1769236846\n        cpPassPhraseCur = 0x49202d20 <Address 0x49202d20 out of bounds>\n        nPassPhraseRetry = 925773856\n        nPassPhraseDialog = 0\n        nPassPhraseDialogCur = 1919243808\n        bPassPhraseDialogOnce = 975206242\n        cpp = (char **) 0x5f646f6d\n        i = 0\n        j = 0\n        algoCert = 0\n        algoKey = 0\n        at = 842021424\n        an = 0x303a3030 <Address 0x303a3030 out of bounds>\n        cp = 0x20373020 <Address 0x20373020 out of bounds>\n        pkey_mtime = 0\n        isterm = 1\n        rv = 0\n#15 0x2836bbe1 in ssl_init_Module (p=0x80ba018, plog=0x80e8018, \nptemp=0x8146018, base_server=0x80bbeb8) at ssl_engine_init.c:261\n        mc = (struct {...} *) 0x80b8320\n        sc = (struct SSLSrvConfigRec *) 0x8152f68\n        s = (struct server_rec *) 0x0\n#16 0x807602d in ap_run_post_config (pconf=0x80ba018, plog=0x80e8018, \nptemp=0x8146018, s=0x80bbeb8) at config.c:93\n        pHook = (struct ap_LINK_post_config_t *) 0x829a480\n        n = 9\n        rv = 0\n#17 0x805f95f in main (argc=1, argv=0xbfbffc08) at main.c:706\n        c = 0 '\\000'\n        configtestonly = 0\n        confname = 0x8096599 \"etc/apache22/httpd.conf\"\n        def_server_root = 0x80965b1 \"/usr/local\"\n        temp_error_log = 0x0\n        error = 0x0\n        process = (struct process_rec *) 0x80b8098\n        server_conf = (struct server_rec *) 0x80bbeb8\n        pglobal = (struct apr_pool_t *) 0x80b8018\n        pconf = (struct apr_pool_t *) 0x80ba018\n        plog = (struct apr_pool_t *) 0x80e8018\n        ptemp = (struct apr_pool_t *) 0x8146018\n        pcommands = (struct apr_pool_t *) 0x80bc018\n        opt = (struct apr_getopt_t *) 0x80bc0b0\n        rv = 0\n        mod = (struct module_struct **) 0x80a367c\n        optarg = 0xbfbffbac \"\"\n        signal_server = (int (*)(int *, struct apr_pool_t *)) 0\n\nThere was mention of this problem (or similar) on freebsd-ports\na few weeks ago, and the claim was that php5-openssl was causing\nthe problem.  This doesn't seem to be the case -- we build PHP as\na CGI, and we _do not_ use php5-openssl:\n\napache-2.2.2        Version 2.2 of Apache web server with prefork MPM.\ncgiwrap-3.9_3       Securely execute Web CGI scripts\nphp5-5.1.4          PHP Scripting Language (Apache Module and CLI)\nphp5-gd-5.1.4       The gd shared extension for php\nphp5-iconv-5.1.4    The iconv shared extension for php\nphp5-mbstring-5.1.4 The mbstring shared extension for php\nphp5-mysql-5.1.4    The mysql shared extension for php\nphp5-pcre-5.1.4     The pcre shared extension for php\nphp5-session-5.1.4  The session shared extension for php\nphp5-sqlite-5.1.4   The sqlite shared extension for php\nphp5-xml-5.1.4      The xml shared extension for php\nphp5-zlib-5.1.4     The zlib shared extension for php\nsuphp-0.5.2_2       Securely execute PHP scripts\n\nI can provide the coredump if need be, although I'm not just going to toss it \nout to anyone who asks for it, since it's a setuid 0 process which sig10'd and \nthe core contains some sensitive information.\n\nI say this is \"semi\"-reproducable because this is the 2nd or 3rd time I've seen \nit happen.  I can't get it to happen every time/day.\n\nI'm left wondering if the fact that I'm sending SIGUSR1 to Apache -- twice very \nquickly -- due to the log rotation stuff is what's causing the problem.\n\nLet me know if you have some ideas where I should look, or additional variables \nI should print out via `p' that'll help in the debugging process.  If you're \n*absolutely sure* it's a FreeBSD problem, then I'll take it up on the FreeBSD \ncrypto/secure list.", "id": 89864, "time": "2006-06-07T09:52:23Z", "creator": "apache@jdc.parodius.com", "creation_time": "2006-06-07T09:52:23Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "is_private": false, "id": 90357, "attachment_id": null, "bug_id": 39744, "creation_time": "2006-06-19T13:53:34Z", "time": "2006-06-19T13:53:34Z", "text": "Segfaults at restart can happen because of global state abuse in OpenSSL.\n\nIs your httpd binary linked against both libssl and libcrypto?  You are not\nlinking php into the httpd process at all, that's correct?"}, {"count": 2, "tags": [], "creator": "apache@jdc.parodius.com", "attachment_id": null, "text": "(In reply to comment #1)\n> Segfaults at restart can happen because of global state abuse in OpenSSL.\n> Is your httpd binary linked against both libssl and libcrypto?  You are not\n> linking php into the httpd process at all, that's correct?\n\nI think I may have figured out what's happening, although it's something that \n*should* be reproducable.\n\nSifting through my logs, I found a series of strange HTTPS requests coming from \nwhat Apache believes is the same IP as the SSL-based vhost itself (FYI, I run \nNOTHING that can cause this to happen, so it's very strange indeed).  The \ntimestamps of the requests match up with when I rotate my logs (more on that in \na moment).  Be sure to note the HTTP response, and the actual HTTP fetch itself \n(lack-of HTTP/1.0 or HTTP/1.1 for example):\n\nFrom the error log:\n[Mon Jun 19 00:00:01 2006] [notice] Graceful restart requested, doing restart\n\nFrom the access log:\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:01 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:01 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:01 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:01 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:01 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:01 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:01 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:01 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:01 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:01 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:01 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:01 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:02 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:02 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:02 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:02 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:02 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:02 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:02 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:02 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:02 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:02 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:02 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\nsupport.parodius.com 64.62.145.231 - - [19/Jun/2006:00:00:02 -0700] \"GET /\" 400 \n1018 \"-\" \"-\"\n\nI still can't explain the above.  It looks suspicious, and to be honest it \nlooks like some sort-of weird bug in Apache (?!).  I assure you -- there is \nNOTHING running at that time which queries https://support.parodius.com/.\n\nIt's been worrying me that sending two SIGUSR1s to httpd in very short \nsuccession might cause the problem (look closely at newsyslog.conf).  However, \nmy Apache logs only show one SIGUSR1 being received by Apache (no idea if \nthat's true or not, I'd have to truss or ktrace the process to see).\n\nSo I've since changed my newsyslog to do the following:\n\n/var/log/httpd-*.log                    640  13    *    @T00  \nGB /var/run/httpd.pid 30\n\nWhich is to send one single SIGUSR1 to Apache then rotate the logs.\n\nNow, about which libraries are linked in -- yes, that is correct.  PHP is NOT \nthe problem here, it's run purely as a CGI.  We do use the SUPHP module, but it \nacts basically as suexec (calling PHP as a CGI).\n\n$ ldd /usr/local/sbin/httpd\n/usr/local/sbin/httpd:\n        libm.so.2 => /usr/lib/libm.so.2 (0x280c1000)\n        libaprutil-1.so.2 => /usr/local/lib/libaprutil-1.so.2 (0x280dc000)\n        libexpat.so.6 => /usr/local/lib/libexpat.so.6 (0x280f8000)\n        libiconv.so.3 => /usr/local/lib/libiconv.so.3 (0x28115000)\n        libapr-1.so.2 => /usr/local/lib/libapr-1.so.2 (0x28202000)\n        libcrypt.so.2 => /usr/lib/libcrypt.so.2 (0x2822e000)\n        libc.so.4 => /usr/lib/libc.so.4 (0x28247000)\n\nAnd just for details, loaded modules we have:\n\nLoadModule authn_file_module libexec/apache22/mod_authn_file.so\nLoadModule authn_dbm_module libexec/apache22/mod_authn_dbm.so\nLoadModule authn_anon_module libexec/apache22/mod_authn_anon.so\nLoadModule authn_default_module libexec/apache22/mod_authn_default.so\nLoadModule authz_host_module libexec/apache22/mod_authz_host.so\nLoadModule authz_groupfile_module libexec/apache22/mod_authz_groupfile.so\nLoadModule authz_user_module libexec/apache22/mod_authz_user.so\nLoadModule authz_dbm_module libexec/apache22/mod_authz_dbm.so\nLoadModule authz_owner_module libexec/apache22/mod_authz_owner.so\nLoadModule authz_default_module libexec/apache22/mod_authz_default.so\nLoadModule auth_basic_module libexec/apache22/mod_auth_basic.so\n#LoadModule auth_digest_module libexec/apache22/mod_auth_digest.so\n#LoadModule file_cache_module libexec/apache22/mod_file_cache.so\n#LoadModule cache_module libexec/apache22/mod_cache.so\n#LoadModule disk_cache_module libexec/apache22/mod_disk_cache.so\nLoadModule include_module libexec/apache22/mod_include.so\nLoadModule filter_module libexec/apache22/mod_filter.so\nLoadModule charset_lite_module libexec/apache22/mod_charset_lite.so\nLoadModule deflate_module libexec/apache22/mod_deflate.so\nLoadModule log_config_module libexec/apache22/mod_log_config.so\nLoadModule logio_module libexec/apache22/mod_logio.so\nLoadModule env_module libexec/apache22/mod_env.so\nLoadModule mime_magic_module libexec/apache22/mod_mime_magic.so\n#LoadModule cern_meta_module libexec/apache22/mod_cern_meta.so\nLoadModule expires_module libexec/apache22/mod_expires.so\nLoadModule headers_module libexec/apache22/mod_headers.so\nLoadModule usertrack_module libexec/apache22/mod_usertrack.so\nLoadModule unique_id_module libexec/apache22/mod_unique_id.so\nLoadModule setenvif_module libexec/apache22/mod_setenvif.so\nLoadModule version_module libexec/apache22/mod_version.so\nLoadModule ssl_module libexec/apache22/mod_ssl.so\nLoadModule mime_module libexec/apache22/mod_mime.so\n#LoadModule dav_module libexec/apache22/mod_dav.so\n#LoadModule status_module libexec/apache22/mod_status.so\nLoadModule autoindex_module libexec/apache22/mod_autoindex.so\n#LoadModule asis_module libexec/apache22/mod_asis.so\n#LoadModule info_module libexec/apache22/mod_info.so\nLoadModule cgi_module libexec/apache22/mod_cgi.so\n#LoadModule dav_fs_module libexec/apache22/mod_dav_fs.so\nLoadModule vhost_alias_module libexec/apache22/mod_vhost_alias.so\nLoadModule negotiation_module libexec/apache22/mod_negotiation.so\nLoadModule dir_module libexec/apache22/mod_dir.so\n#LoadModule imagemap_module libexec/apache22/mod_imagemap.so\nLoadModule actions_module libexec/apache22/mod_actions.so\n#LoadModule speling_module libexec/apache22/mod_speling.so\nLoadModule userdir_module libexec/apache22/mod_userdir.so\nLoadModule alias_module libexec/apache22/mod_alias.so\nLoadModule rewrite_module libexec/apache22/mod_rewrite.so\nLoadModule suphp_module       libexec/apache22/mod_suphp.so\nLoadModule bw_module          libexec/apache22/mod_bw.so\n\nWe also use mmap and sendfile:\n\nEnableMMAP on\nEnableSendfile on\n\n", "id": 90364, "time": "2006-06-19T15:10:06Z", "bug_id": 39744, "creation_time": "2006-06-19T15:10:06Z", "is_private": false}, {"count": 3, "tags": [], "creator": "jorton@redhat.com", "is_private": false, "id": 90433, "attachment_id": null, "bug_id": 39744, "creation_time": "2006-06-21T12:08:11Z", "time": "2006-06-21T12:08:11Z", "text": "The dummy requests are made by httpd to wake up all the children.  It may help\nhere to link httpd itself against both -lssl and -lcrypto; can you try adding:\n\n$(SSL_LIBS) \n\nto the end of the AP_LIBS = definition in build/config_vars.mk; then delete\nhttpd and rebuild."}, {"count": 4, "tags": [], "creator": "sheshka.a@extmedia.com", "attachment_id": null, "text": "I have similar issue on Debian box:\nxx.yy.zz.cc - - [29/Aug/2007:12:00:17 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:18 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:19 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:20 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:22 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:23 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:25 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:27 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:28 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:33 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:36 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:37 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:40 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:48 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:49 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:50 +0300] \"GET /\" 400 452 \"-\" \"-\"\nxx.yy.zz.cc - - [29/Aug/2007:12:00:51 +0300] \"GET /\" 400 452 \"-\" \"-\"\n\nMy config:\nServerRoot \"/usr\"\nPidFile /var/run/httpd.pid\nTimeout 300\nKeepAlive off\nMinSpareServers 1\nMaxSpareServers 1\nStartServers 1\nMaxClients 256\nServerLimit 555\nMaxRequestsPerChild 1111\nRLimitCPU 120 180\nRLimitMEM 64000000 96000000\nListen 80\nLoadModule auth_basic_module /usr/lib/apache2/modules/mod_auth_basic.so\nLoadModule auth_digest_module /usr/lib/apache2/modules/mod_auth_digest.so\nLoadModule authn_alias_module /usr/lib/apache2/modules/mod_authn_alias.so\nLoadModule authn_anon_module /usr/lib/apache2/modules/mod_authn_anon.so\nLoadModule authn_dbd_module /usr/lib/apache2/modules/mod_authn_dbd.so\nLoadModule authn_dbm_module /usr/lib/apache2/modules/mod_authn_dbm.so\nLoadModule authn_default_module /usr/lib/apache2/modules/mod_authn_default.so\nLoadModule authn_file_module /usr/lib/apache2/modules/mod_authn_file.so\nLoadModule authz_dbm_module /usr/lib/apache2/modules/mod_authz_dbm.so\nLoadModule authz_default_module /usr/lib/apache2/modules/mod_authz_default.so\nLoadModule authz_groupfile_module /usr/lib/apache2/modules/mod_authz_groupfile.so\nLoadModule authz_host_module /usr/lib/apache2/modules/mod_authz_host.so\nLoadModule authz_owner_module /usr/lib/apache2/modules/mod_authz_owner.so\nLoadModule authz_user_module /usr/lib/apache2/modules/mod_authz_user.so\nLoadModule actions_module /usr/lib/apache2/modules/mod_actions.so\nLoadModule asis_module /usr/lib/apache2/modules/mod_asis.so\nLoadModule cache_module /usr/lib/apache2/modules/mod_cache.so\nLoadModule cern_meta_module /usr/lib/apache2/modules/mod_cern_meta.so\nLoadModule cgid_module /usr/lib/apache2/modules/mod_cgid.so\nLoadModule cgi_module /usr/lib/apache2/modules/mod_cgi.so\nLoadModule deflate_module /usr/lib/apache2/modules/mod_deflate.so\nLoadModule disk_cache_module /usr/lib/apache2/modules/mod_disk_cache.so\nLoadModule expires_module /usr/lib/apache2/modules/mod_expires.so\nLoadModule ext_filter_module /usr/lib/apache2/modules/mod_ext_filter.so\nLoadModule file_cache_module /usr/lib/apache2/modules/mod_file_cache.so\nLoadModule headers_module /usr/lib/apache2/modules/mod_headers.so\nLoadModule include_module /usr/lib/apache2/modules/mod_include.so\nLoadModule info_module /usr/lib/apache2/modules/mod_info.so\nLoadModule ldap_module /usr/lib/apache2/modules/mod_ldap.so\nLoadModule mem_cache_module /usr/lib/apache2/modules/mod_mem_cache.so\nLoadModule mime_magic_module /usr/lib/apache2/modules/mod_mime_magic.so\nLoadModule proxy_module /usr/lib/apache2/modules/mod_proxy.so\nLoadModule proxy_http_module /usr/lib/apache2/modules/mod_proxy_http.so\nLoadModule rewrite_module /usr/lib/apache2/modules/mod_rewrite.so\nLoadModule speling_module /usr/lib/apache2/modules/mod_speling.so\nLoadModule ssl_module /usr/lib/apache2/modules/mod_ssl.so\nLoadModule suexec_module /usr/lib/apache2/modules/mod_suexec.so\nLoadModule unique_id_module /usr/lib/apache2/modules/mod_unique_id.so\nLoadModule dir_module /usr/lib/apache2/modules/mod_dir.so\nLoadModule alias_module /usr/lib/apache2/modules/mod_alias.so\nLoadModule mime_module /usr/lib/apache2/modules/mod_mime.so\nLoadModule userdir_module /usr/lib/apache2/modules/mod_userdir.so\nLoadModule usertrack_module /usr/lib/apache2/modules/mod_usertrack.so\nLoadModule vhost_alias_module /usr/lib/apache2/modules/mod_vhost_alias.so\nLoadModule status_module /usr/lib/apache2/modules/mod_status.so\nLoadModule env_module /usr/lib/apache2/modules/mod_env.so\nLoadModule setenvif_module /usr/lib/apache2/modules/mod_setenvif.so\nLoadModule autoindex_module /usr/lib/apache2/modules/mod_autoindex.so\nLoadModule negotiation_module /usr/lib/apache2/modules/mod_negotiation.so\nLoadModule suphp_module /usr/lib/apache2/modules/mod_suphp.so\nLoadModule jk_module /usr/lib/apache2/modules/mod_jk.so\nUser www-data\nGroup www-data\n\nSoftware versions:\nii  apache2                         2.2.4-3                 Next generation,\nscalable, extendable web se\nii  apache2-mpm-prefork             2.2.4-3                 Traditional model\nfor Apache HTTPD\nii  apache2-utils                   2.2.4-3                 utility programs for\nwebservers\nii  apache2.2-common                2.2.4-3                 Next generation,\nscalable, extendable web se\nii  libapache-mod-php5              5.2.0-8+etch1           server-side,\nHTML-embedded scripting languag\nii  libapache2-mod-jk               1:1.2.18-3              Apache 2 connector\nfor the Tomcat Java servl\nii  libapache2-mod-suphp            0.6.2-1                 Apache2 module to\nrun php scripts with the o", "id": 107369, "time": "2007-08-29T02:14:02Z", "bug_id": 39744, "creation_time": "2007-08-29T02:14:02Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 39744, "attachment_id": null, "id": 124156, "time": "2009-01-18T16:19:13Z", "creator": "pgollucci@apache.org", "creation_time": "2009-01-18T16:19:13Z", "is_private": false, "text": "CC myself on FreeBSD related bugs"}, {"count": 6, "tags": [], "text": "This bug has been for 5 years in NEEDINFO, I don't think it is reproducable or relevant.", "attachment_id": null, "id": 141418, "creator": "i.galic@brainsware.org", "time": "2010-11-04T13:24:53Z", "bug_id": 39744, "creation_time": "2010-11-04T13:24:53Z", "is_private": false}]