[{"count": 0, "tags": [], "bug_id": 995, "text": "Consider the following scenario:\nA schema with a simple type derived by restriction from a primitive/derived \ndatatype.  A complex type in the same schema that uses the simple type to \nspecify the datatype of an attribute. An instance document that uses the \nschema.  The parser does not report an error for an invalid instance in the \nfollowing situation:\n\nThe simpleType in the schema makes use of the primitive type \"ID\" with the \nfacet \"pattern\". The attribute's value in the instance does not conform to the \npattern specified by the \"pattern\" facet in the schema.\nIBM schema invalid test case: ibmd3_2_10ii04\n\nA sample schema and instance are as below:\nSample schema:  TestSchema.xsd\n<?xml version=\"1.0\"?>\n<schema xmlns=\"http://www.w3.org/2000/10/XMLSchema\"\n\ttargetNamespace=\"http://www.schemaTest.org/Test\"\n\txmlns:dv=\"http://www.schemaTest.org/Test\">\n\n<simpleType name=\"id1\">\n\t<restriction base=\"ID\">\n\t\t<pattern value=\"[A-Z]{2}_\\d{4}\"/>\n\t</restriction>\n</simpleType>\n\n\n<element name=\"root\">\n\t<complexType mixed=\"true\">\n\t\t<sequence>\n\t\t\t<element name=\"element1\">\n\t\t\t\t<complexType>\n\t\t\t\t\t <attribute name=\"attr1\" type=\"dv:id1\"/>\n\t\t\t\t</complexType>\n\t\t\t</element>\n\t\t</sequence>\n\t</complexType>\n</element>\n</schema>\n\nSample Instance:  TestSchema.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<idv1:root xmlns:idv1=\"http://www.schemaTest.org/Test\"\n\txmlns:xsi=\"http://www.w3.org/2000/10/XMLSchema-instance\"\n\txsi:schemaLocation=\"http://www.schemaTest.org/Test \n\tTestSchema.xsd\">\n\t\n\t<element1 attr1=\"A1-1234_AAA\"/>\n</idv1:root>", "id": 1321, "time": "2001-03-16T08:24:27Z", "creator": "nddelima@ca.ibm.com", "creation_time": "2001-03-16T08:24:27Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 995, "attachment_id": null, "text": "Fixed in XercesJ 1.4", "id": 2645, "time": "2001-05-24T14:40:23Z", "creator": "elena@apache.org", "creation_time": "2001-05-24T14:40:23Z", "is_private": false}]