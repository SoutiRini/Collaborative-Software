[{"count": 0, "tags": [], "text": "It seems that AllowOverride is a new feature of Apache-2.4.1. But it seems to have quite a few problems. When looking at source code, the parsing logic is as follows (server/core.c):\n\n//argc is the number of arguments\n//argv[] is the argument array, each element argv[i] is a cmd name\n\nfor (i=0;i<argc;i++){\n    if (!strcasecmp(argv[i], \"None\")) {\n        return NULL;\n    }\n    else {\n        const command_rec *result = NULL;\n        module *mod = ap_top_module;\n        result = ap_find_command_in_modules(argv[i], &mod);\n        if (result)\n            apr_table_set(d->override_list, argv[i], \"1\");\n        else\n            ap_log_error(APLOG_MARK, APLOG_WARNING, 0, \n                cmd->server, APLOGNO(00116)\n                \"Discarding unrecognized directive `%s' in AllowOverrideList.\",\n                argv[i]);\n        }\n    }\n}\n\nFrom the code, we can see that the parsing returns as long as a \"None\" is detected. As a result, the following two configuration entries have very different effects:\n\nAllowOverrideList DirectoryIndex Redirect None\nAllowOverrideList None DirectoryIndex Redirect\n\nThe former sets two directives to be allowed in .htaccess while the latter sets nothing, which causes ambiguity.\n\nActually the logic of \"AllowOverrideList DirectoryIndex Redirect None\" itself is very ambiguous. \"None\" and the other directives are obviously contradictory.\n\nI suggest to print out some log messages to explicitly tell users the contradictory and which particular setting is omitted. This can avoid user's misconfigurations and bring clear semantics of AllowOverrideList.\n\nThanks a lot!", "attachment_id": null, "bug_id": 52823, "id": 154501, "time": "2012-03-04T18:09:05Z", "creator": "tixu@cs.ucsd.edu", "creation_time": "2012-03-04T18:09:05Z", "is_private": false}, {"count": 1, "tags": [], "creator": "sf@sfritsch.de", "attachment_id": null, "is_private": false, "id": 155075, "time": "2012-03-19T20:58:11Z", "bug_id": 52823, "creation_time": "2012-03-19T20:58:11Z", "text": "Fixed by disallowing None together with anything else: r1302653"}, {"count": 2, "tags": [], "bug_id": 52823, "is_private": false, "text": "fixed in 2.4.2", "id": 158855, "time": "2012-05-06T07:26:09Z", "creator": "sf@sfritsch.de", "creation_time": "2012-05-06T07:26:09Z", "attachment_id": null}]