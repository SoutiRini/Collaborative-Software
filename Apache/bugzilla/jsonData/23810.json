[{"count": 0, "tags": [], "creator": "M.Hankus@ce3.pl", "attachment_id": null, "id": 45622, "time": "2003-10-14T14:15:35Z", "bug_id": 23810, "creation_time": "2003-10-14T14:15:35Z", "is_private": false, "text": "I recently scanned my server with nessus and discovered \nthat nessus locks threads, and server becomes dead.\n\nThread dump of shows threads two groups of locked threads. One group \nlooks like\n\n\n\"Thread-78\" daemon prio=1 tid=0x08978700 nid=0x1a71 runnable [b0dff000..b0dffb6c]\n        at java.net.SocketInputStream.socketRead0(Native Method)\n        at java.net.SocketInputStream.read(SocketInputStream.java:129)\n        at java.io.BufferedInputStream.fill(BufferedInputStream.java:183)\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:222)\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:277)\n        - locked <0x4777fcd8> (a java.io.BufferedInputStream)\n        at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:498)\n        at org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:436)\n        at\norg.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:551)\n        at org.apache.jk.common.SocketConnection.runIt(ChannelSocket.java:679)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:619)\n        at java.lang.Thread.run(Thread.java:534)\n\n\n\nAnd the second \n\n\"Thread-6\" daemon prio=1 tid=0x081a3260 nid=0x166c in Object.wait()\n[b9bff000..b9bffb6c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on <0x453d4d10> (a\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Object.wait(Object.java:429)\n        at\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:595)\n        - locked <0x453d4d10> (a\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable)\n        at java.lang.Thread.run(Thread.java:534)\n\nAll coresponging httpd (apache) thread finished after stoping scan, but all the \njava thread are locked.\n\nMy environment:\nlinux 2.2.24 (glibc 2.1.3)\njava version \"1.4.2_01\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_01-b06)\nJava HotSpot(TM) Client VM (build 1.4.2_01-b06, mixed mode)"}, {"attachment_id": null, "tags": [], "bug_id": 23810, "text": "As of November 15, 2004, JK2 is no longer supported. All bugs related to JK2 \nwill be marked as WONTFIX. In its place, some of its features have been \nbackported to jk1. Most of those features will be seen in 1.2.7, which is \nslated for release on November 30th, 2004.\n\nAnother alternative is the ajp addition to mod_proxy which will be part of \napache 2.\n\nFor more information on the Tomat connectors docs at\nhttp://jakarta.apache.org/tomcat/connectors-doc/\n", "count": 1, "id": 68846, "time": "2004-12-22T21:46:35Z", "creator": "markt@apache.org", "creation_time": "2004-12-22T21:46:35Z", "is_private": false}]