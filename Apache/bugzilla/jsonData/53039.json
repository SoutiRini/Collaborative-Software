[{"text": "While writing some custom \"JavaSamplerClient\" classes, i ran into a problem with the JMeter SampleResult class.  Currently there are some fields that are too small.\n\n    private int bytes = 0; \n   \n    private int bodySize = 0;\n\nThe fields noted above and their relative getter/setter methods use int.  this is normally fine, but in the case where you are testing throughput of large streams, you run into a problem.  MAX_INT=2,147,483,647\n\nAs you can see this is basically a 2GB stream.  if i wanted to write any stream bigger than that i couldn't accurately calculate throughput with the SampleResult class.\n\nSampleResult result = new SampleResult();\nresult.setBytes(long);\nresult.sampleStart();\n// like write large file to cloud storage server.\nresult.sampleEnd();", "tags": [], "bug_id": 53039, "attachment_id": null, "count": 0, "id": 157218, "time": "2012-04-05T15:21:22Z", "creator": "jasonwmcswain@gmail.com", "creation_time": "2012-04-05T15:21:22Z", "is_private": false}, {"count": 1, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "This can be quite impacting and introduces issues with arrays of bytes as they are limited to int.", "id": 157628, "time": "2012-04-07T13:33:36Z", "bug_id": 53039, "creation_time": "2012-04-07T13:33:36Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 53039, "attachment_id": null, "is_private": false, "id": 194210, "time": "2016-10-07T20:11:41Z", "creator": "anafoosi@hotmail.com", "creation_time": "2016-10-07T20:11:41Z", "text": "Hi Phillippe\nDo we have a time line when this can be fixed?  This is actually blocker for me since I am mostly doing large objects testing.\n\nthanks\n\nAhmad"}, {"text": "Created attachment 34337\nProposal for a fix", "tags": [], "bug_id": 53039, "is_private": false, "count": 3, "id": 194235, "time": "2016-10-08T19:12:29Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-10-08T19:12:29Z", "attachment_id": 34337}, {"count": 4, "tags": [], "bug_id": 53039, "attachment_id": 34338, "id": 194237, "time": "2016-10-08T19:36:49Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-10-08T19:36:49Z", "is_private": false, "text": "Created attachment 34338\nUpdated patch to manage backward compatibility"}, {"count": 5, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "text": "Created attachment 34347\nUpdated patch with backward compat and fix to wrong conversion", "id": 194278, "time": "2016-10-09T14:00:13Z", "bug_id": 53039, "creation_time": "2016-10-09T14:00:13Z", "attachment_id": 34347}, {"count": 6, "attachment_id": 34348, "bug_id": 53039, "is_private": false, "id": 194280, "time": "2016-10-09T14:07:39Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-10-09T14:07:39Z", "tags": [], "text": "Created attachment 34348\nLast version fixing bad conversion in report part"}, {"count": 7, "tags": [], "bug_id": 53039, "attachment_id": 34355, "text": "Created attachment 34355\nLast version after fix to Bug 60229", "id": 194318, "time": "2016-10-10T20:04:56Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-10-10T20:04:56Z", "is_private": false}, {"text": "Was 'SampleResult's \"bytes\" and \"bodySize\" are currently \"int\" but should be \"long\"'", "tags": [], "bug_id": 53039, "attachment_id": null, "count": 8, "id": 194346, "time": "2016-10-12T07:53:57Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-10-12T07:53:57Z", "is_private": false}, {"count": 9, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "text": "Note the limitation would manifest itself this way (for example):\n2016/10/04 11:55:24 WARN  - jmeter.save.CSVSaveService: java.lang.NumberFormatException: For input string: \"2016/10/03 22:28:11.641\" 2016/10/04 11:55:24 WARN  - jmeter.save.CSVSaveService: Setting date format to: yyyy/MM/dd HH:mm:ss.SSS 2016/10/04 11:55:25 WARN  - jmeter.save.CSVSaveService: Error parsing field 'bytes' at line 3523 java.lang.NumberFormatException: For input string: \"5368709120\" 2016/10/04 11:55:25 WARN  - jmeter.reporters.ResultCollector: Problem reading JTL file: ....", "id": 194347, "time": "2016-10-12T07:56:55Z", "bug_id": 53039, "creation_time": "2016-10-12T07:56:55Z", "is_private": false, "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 53039, "attachment_id": null, "text": "Author: pmouawad\nDate: Wed Oct 12 08:06:16 2016\nNew Revision: 1764397\n\nURL: http://svn.apache.org/viewvc?rev=1764397&view=rev\nLog:\nBug 53039 - HTTP Request : Be able to handle responses which size exceeds 2147483647 bytes\nBugzilla Id: 53039\n\nModified:\n    jmeter/trunk/bin/jmeter.properties\n    jmeter/trunk/src/components/org/apache/jmeter/assertions/SMIMEAssertion.java\n    jmeter/trunk/src/components/org/apache/jmeter/assertions/SizeAssertion.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/SamplerResultTab.java\n    jmeter/trunk/src/components/org/apache/jmeter/visualizers/TableVisualizer.java\n    jmeter/trunk/src/core/org/apache/jmeter/control/TransactionController.java\n    jmeter/trunk/src/core/org/apache/jmeter/report/core/Sample.java\n    jmeter/trunk/src/core/org/apache/jmeter/samplers/DataStrippingSampleSender.java\n    jmeter/trunk/src/core/org/apache/jmeter/samplers/SampleResult.java\n    jmeter/trunk/src/core/org/apache/jmeter/samplers/StatisticalSampleResult.java\n    jmeter/trunk/src/core/org/apache/jmeter/save/CSVSaveService.java\n    jmeter/trunk/src/core/org/apache/jmeter/save/converters/SampleResultConverter.java\n    jmeter/trunk/src/core/org/apache/jmeter/util/Calculator.java\n    jmeter/trunk/src/core/org/apache/jmeter/visualizers/SamplingStatCalculator.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPAbstractImpl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPFileImpl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPHC3Impl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPHC4Impl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPJavaImpl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSamplerBase.java\n    jmeter/trunk/test/src/org/apache/jmeter/samplers/TestSampleResult.java\n    jmeter/trunk/xdocs/changes.xml", "id": 194348, "time": "2016-10-12T08:07:03Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-10-12T08:07:03Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 53039, "attachment_id": null, "is_private": false, "id": 194349, "time": "2016-10-12T08:15:39Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-10-12T08:15:39Z", "text": "Author: pmouawad\nDate: Wed Oct 12 08:15:14 2016\nNew Revision: 1764399\n\nURL: http://svn.apache.org/viewvc?rev=1764399&view=rev\nLog:\nBug 53039 - HTTP Request : Be able to handle responses which size exceeds 2147483647 bytes\nUpdate properties_reference.xml\nBugzilla Id: 53039\n\nModified:\n    jmeter/trunk/xdocs/usermanual/properties_reference.xml"}, {"count": 12, "tags": [], "bug_id": 53039, "attachment_id": null, "is_private": false, "id": 194355, "time": "2016-10-12T09:19:45Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-10-12T09:19:45Z", "text": "Author: pmouawad\nDate: Wed Oct 12 09:17:37 2016\nNew Revision: 1764412\n\nURL: http://svn.apache.org/viewvc?rev=1764412&view=rev\nLog:\nBug 53039 - HTTP Request : Be able to handle responses which size exceeds 2147483647 bytes\nRestore changed method for backward compatibility\nBugzilla Id: 53039\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/samplers/SampleResult.java"}, {"count": 13, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "text": "Author: pmouawad\nDate: Wed Oct 12 09:43:21 2016\nNew Revision: 1764422\n\nURL: http://svn.apache.org/viewvc?rev=1764422&view=rev\nLog:\nBug 53039 - HTTP Request : Be able to handle responses which size exceeds 2147483647 bytes\nFix bug as per Felix Schumacher review, thx\nBugzilla Id: 53039\n\nModified:\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPFileImpl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/sampler/HTTPSamplerBase.java", "id": 194356, "time": "2016-10-12T09:43:46Z", "bug_id": 53039, "creation_time": "2016-10-12T09:43:46Z", "tags": [], "is_private": false}, {"count": 14, "attachment_id": null, "bug_id": 53039, "text": "I verified that 5GB file was captured correctly.", "id": 194396, "time": "2016-10-13T19:03:16Z", "creator": "anafoosi@hotmail.com", "creation_time": "2016-10-13T19:03:16Z", "tags": [], "is_private": false}, {"count": 15, "tags": [], "creator": "support@ubikloadpack.com", "is_private": false, "text": "Author: pmouawad\nDate: Tue Oct 18 14:35:43 2016\nNew Revision: 1765448\n\nURL: http://svn.apache.org/viewvc?rev=1765448&view=rev\nLog:\nBug 53039 - HTTP Request : Be able to handle responses which size exceeds 2147483647 bytes\nFix deprecated calls to setBytes(int)\nBugzilla Id: 53039\n\nModified:\n    jmeter/trunk/src/protocol/ftp/org/apache/jmeter/protocol/ftp/sampler/FTPSampler.java\n    jmeter/trunk/src/protocol/jms/org/apache/jmeter/protocol/jms/sampler/SubscriberSampler.java\n    jmeter/trunk/src/protocol/mail/org/apache/jmeter/protocol/smtp/sampler/SmtpSampler.java\n    jmeter/trunk/src/protocol/mail/org/apache/jmeter/protocol/smtp/sampler/tools/CounterOutputStream.java", "id": 194497, "time": "2016-10-18T14:36:13Z", "bug_id": 53039, "creation_time": "2016-10-18T14:36:13Z", "attachment_id": null}]