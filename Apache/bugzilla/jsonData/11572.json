[{"count": 0, "tags": [], "bug_id": 11572, "is_private": false, "text": "This is an inconsistent problem I've encountered.\n\nWhen an invalid URL is sent to Tomcat, instead of a 404 page I get a blank page\nand the following stack trace in the catalina.out log:\n[WARN] Http11Processor - -Error decoding URI\n[WARN] Http11Processor - -Error decoding URI\n[WARN] Http11Processor - -Error decoding URI\n[WARN] Http11Processor - -Error decoding URI\n[WARN] Http11Processor - -Error decoding URI\njava.lang.ArrayIndexOutOfBoundsException\n        at org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalI\nnputBuffer.java:431)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:3\n10)\n        at org.apache.coyote.tomcat4.CoyoteProcessor.process(CoyoteProcessor.java:\n791)\n        at org.apache.coyote.tomcat4.CoyoteProcessor.run(CoyoteProcessor.java:870)\n        at java.lang.Thread.run(Thread.java:484)\n[WARN] Http11Processor - -Error parsing HTTP request <java.lang.ArrayIndexOutOfBou\nndsException>\njava.lang.ArrayIndexOutOfBoundsException\n        at org.apache.coyote.http11.filters.ChunkedInputFilter.parseChunkHeader(Ch\nunkedInputFilter.java:290)\n        at org.apache.coyote.http11.filters.ChunkedInputFilter.doRead(ChunkedInput\nFilter.java:162)\n        at org.apache.coyote.http11.filters.ChunkedInputFilter.end(ChunkedInputFil\nter.java:211)\n        at org.apache.coyote.http11.InternalInputBuffer.endRequest(InternalInputBu\nffer.java:397)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:3\n44)\n        at org.apache.coyote.tomcat4.CoyoteProcessor.process(CoyoteProcessor.java:\n791)\n        at org.apache.coyote.tomcat4.CoyoteProcessor.run(CoyoteProcessor.java:870)\n        at java.lang.Thread.run(Thread.java:484)\n[ERROR] Http11Processor - -Error finishing request <java.lang.ArrayIndexOutOfBound\nsException>\n\nUpon inspection of the org.apache.coyote.http11.Http11Processor class and \norg.apache.coyote.http11.InternalInputBuffer class, it seems like the\nInternalInputBuffer class did not catch ArrayIndexOutOfBoundException in line\n431.  Thus, propagating the error back to the Http11Processor class line310. \nAlso, line318 of Http11Processor class contradicts the comment right above it\n(one said 500, the other set status to 400).\n\nI was using the coyote connector in the server.xml of Tomcat.  A URL that has\ncaused this problem is something that contains a period('.').  \n\nNow my question is whether this behaviour is only found in the coyote conector.\n Or does the http connector share this code?  Our application has to be shipped\nwith the Tomcat4.0.4 release and later patches won't help. (I'd just like to\nknow, not asking for a fix in 4.0.4)\n\nThanks.", "id": 20818, "time": "2002-08-08T21:25:13Z", "creator": "gchung@somanetworks.com", "creation_time": "2002-08-08T21:25:13Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 11572, "text": "This likely doesn't exist anymore in more recent builds (try 4.1.8).", "id": 20820, "time": "2002-08-08T21:28:30Z", "creator": "remm@apache.org", "creation_time": "2002-08-08T21:28:30Z", "is_private": false, "attachment_id": null}]