[{"count": 0, "tags": [], "bug_id": 27723, "attachment_id": null, "id": 54116, "time": "2004-03-16T22:15:43Z", "creator": "flarg@flarg.org", "creation_time": "2004-03-16T22:15:43Z", "is_private": false, "text": "(This is with JK2 2.0.2 -- jakarta-tomcat-connectors-jk2-2.0.2-src)\n\nThe connector fails to compile at the file \"jk_logger_file.c\", due to a problem\nwith the jk2_logger_file_jkVLog function.\n\nHere is a log of my build commands:\n\n==================================================================\n./configure --with-apxs2=/path/to/apache/bin/apxs --with-java-home=/path/to/jdk131\n(... SNIP ...)\n\nmake\n(... SNIP ...)\n\ngcc -g -O2 -DOSF1 -I../../include -I/tmp/workdir/apache/incl\nude -I /tmp/workdir/java131/include -I /tmp/workdir/java131/include/alpha\n-DCHUNK_SIZE=4096 -DUSE_APACHE_MD5 -DHAS_APR -\nc ../../common/jk_logger_file.c  -DPIC -o ../../../build/jk2/apache2/.libs/jk_lo\ngger_file.lo\n../../common/jk_logger_file.c: In function `jk2_logger_file_jkVLog':\n../../common/jk_logger_file.c:247: wrong type argument to unary exclamation mark\n==================================================================\n\nIn jk_logger_file.c , the relevant code from lines 233 - 247 is this:\n\nstatic int JK_METHOD jk2_logger_file_jkVLog(jk_env_t *env, jk_logger_t *l,\n                                  const char *file,\n                                  int line,\n                                  int level,\n                                  const char *fmt,\n                                  va_list args)\n{\n    int rc = 0;\n    char *buf;\n    char *fmt1;\n    apr_pool_t *aprPool=env->tmpPool->_private;\n    char rfctime[APR_RFC822_DATE_LEN];\n    apr_time_t time = apr_time_now();\n\n    if( !file || !args) {\n        return -1;\n    }\n\n==================================================================\n\nIt looks like '!' and 'args' are incompatable data types.\n\nAt least one other person  has run into this error. Some other people replied\nwith their analysis that 'args' is the wring data type.\n\nhttp://groups.google.com/groups?q=tomcat+%22wrong+type+argument+to+unary%22&selm=2262dffc.0403041012.2635895c%40posting.google.com&rnum=1"}, {"count": 1, "tags": [], "text": "As of November 15, 2004, JK2 is no longer supported. All bugs related to JK2 \nwill be marked as WONTFIX. In its place, some of its features have been \nbackported to jk1. Most of those features will be seen in 1.2.7, which is \nslated for release on November 30th, 2004.\n\nAnother alternative is the ajp addition to mod_proxy which will be part of \napache 2.\n\nFor more information on the Tomat connectors docs at\nhttp://jakarta.apache.org/tomcat/connectors-doc/\n\n", "attachment_id": null, "id": 68443, "creator": "funkman@joedog.org", "time": "2004-12-14T01:36:15Z", "bug_id": 27723, "creation_time": "2004-12-14T01:36:15Z", "is_private": false}]