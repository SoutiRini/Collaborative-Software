[{"count": 0, "tags": [], "creator": "mgerlach@lightsurf.com", "attachment_id": null, "is_private": false, "id": 23338, "time": "2002-09-25T00:23:48Z", "bug_id": 12981, "creation_time": "2002-09-25T00:23:48Z", "text": "In version 2.0.42, ApacheBench cannot handle non-ascii text in the post data. \nThis is due to the use of strcpy() when memcpy() should have been used.  Below\nis the output of diff -c on my fix to the problem:\n\nmg-lin:~/free_source/httpd-2.0.42/support % diff -c ab.c ab.c.orig\n*** ab.c        Tue Sep 24 17:11:51 2002\n--- ab.c.orig   Tue Sep 24 16:59:19 2002\n***************\n*** 1629,1635 ****\n      if (posting == 1) {\n        char *buff = (char *) malloc(postlen + reqlen + 1);\n        strcpy(buff, request);\n!       memcpy(buff + reqlen, postdata, postlen);\n        request = buff;\n      }\n  \n--- 1629,1635 ----\n      if (posting == 1) {\n        char *buff = (char *) malloc(postlen + reqlen + 1);\n        strcpy(buff, request);\n!       strcpy(buff + reqlen, postdata);\n        request = buff;\n      }\n  \n***************\n*** 1939,1945 ****\n        return APR_EINVAL;\n      }\n      apr_file_close(postfd);\n-     printf(\"successfully read %d bytes of file, %s\\n\", length, pfile);\n      return 0;\n  }\n  \n--- 1939,1944 ----"}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "is_private": false, "id": 73716, "time": "2005-04-15T17:23:19Z", "bug_id": 12981, "creation_time": "2005-04-15T17:23:19Z", "text": "Fixed on the trunk, thanks for the patch!\n\nhttp://svn.apache.org/viewcvs?view=rev&rev=161483"}]