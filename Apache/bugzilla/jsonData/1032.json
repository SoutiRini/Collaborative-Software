[{"count": 0, "tags": [], "bug_id": 1032, "attachment_id": null, "id": 1389, "time": "2001-03-19T15:07:19Z", "creator": "garrel@more.net", "creation_time": "2001-03-19T15:07:19Z", "is_private": false, "text": "Note: Bugzilla requires that I select a Component for this report, but JDBC \nisn't included in the list of taglib components.\n\nSetup:\nTomcat 3.2.1 on Windows NT\nInstantDB with RmiJDBC driver SQL database\njdbc-examples.war from March 19, 2001 build\ntest_books table with same name and initial data indicated by author's script\n\nSymptoms:\nAn SQLException occurs when I run the example in jdbc-examples.war. The stack \ntrace indicates that there is an SQLException when the JSP attempts to insert a \nrecord with values that are between an escapeSQL tag pair. It seems to be trying \nto insert a record with a value that contains two tick marks (Gravity''s \nRainbow) instead of using the typical \"\\\" SQL escape character. If I modify \njdbc.jsp by removing the escapeSQL tag pair and adding a \"\\\" in front of the \ntick mark, the example works fine.\n\nHere's the stack trace that I see:\n\nError: 500\n\nLocation: /jdbc-examples/jdbc.jsp\n\nInternal Servlet Error:\n\njavax.servlet.ServletException: java.sql.SQLException: insert into test_books \n(id, name) \n      values (3, 'Gravity''s Rainbow')\n Don't understand SQL after: \"insert\"\n Expected: \"}\" found: \"s Rainbow\"\n        at \norg.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.ja\nva:459)\n        at \n_0002fjdbc_0002ejspjdbc_jsp_0._jspService(_0002fjdbc_0002ejspjdbc_jsp_0.java:245\n0)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:119)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.service(JspServlet.java:1\n77)\n        at \norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:318)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:391)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at \norg.apache.tomcat.core.ServletWrapper.doService(ServletWrapper.java:404)\n        at org.apache.tomcat.core.Handler.service(Handler.java:286)\n        at \norg.apache.tomcat.core.ServletWrapper.service(ServletWrapper.java:372)\n        at \norg.apache.tomcat.core.ContextManager.internalService(ContextManager.java:797)\n        at \norg.apache.tomcat.core.ContextManager.service(ContextManager.java:743)\n        at \norg.apache.tomcat.service.http.HttpConnectionHandler.processConnection(HttpConne\nctionHandler.java:210)\n        at \norg.apache.tomcat.service.TcpWorkerThread.runIt(PoolTcpEndpoint.java:416)\n        at \norg.apache.tomcat.util.ThreadPool$ControlRunnable.run(ThreadPool.java:498)\n        at java.lang.Thread.run(Thread.java:484)\n\n\nRoot cause: \n\njavax.servlet.jsp.JspTagException: java.sql.SQLException: insert into test_books \n(id, name) \n      values (3, 'Gravity''s Rainbow')\n Don't understand SQL after: \"insert\"\n Expected: \"}\" found: \"s Rainbow\"\n        at \norg.apache.taglibs.jdbc.statement.ExecuteTag.doEndTag(ExecuteTag.java:111)\n        at \n_0002fjdbc_0002ejspjdbc_jsp_0._jspService(_0002fjdbc_0002ejspjdbc_jsp_0.java:730\n)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:119)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at \norg.apache.jasper.servlet.JspServlet$JspServletWrapper.service(JspServlet.java:1\n77)\n        at \norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:318)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:391)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at \norg.apache.tomcat.core.ServletWrapper.doService(ServletWrapper.java:404)\n        at org.apache.tomcat.core.Handler.service(Handler.java:286)\n        at \norg.apache.tomcat.core.ServletWrapper.service(ServletWrapper.java:372)\n        at \norg.apache.tomcat.core.ContextManager.internalService(ContextManager.java:797)\n        at \norg.apache.tomcat.core.ContextManager.service(ContextManager.java:743)\n        at \norg.apache.tomcat.service.http.HttpConnectionHandler.processConnection(HttpConne\nctionHandler.java:210)\n        at \norg.apache.tomcat.service.TcpWorkerThread.runIt(PoolTcpEndpoint.java:416)\n        at \norg.apache.tomcat.util.ThreadPool$ControlRunnable.run(ThreadPool.java:498)\n        at java.lang.Thread.run(Thread.java:484)"}, {"count": 1, "tags": [], "text": "InstantDB does not support standard double tick SQL escaping.  I'm not sure if \nwe should simply leave InstantDB unsupported, or if we use another means of \nescaping.", "is_private": false, "bug_id": 1032, "id": 1497, "time": "2001-03-21T09:22:33Z", "creator": "mdelagra@eb.com", "creation_time": "2001-03-21T09:22:33Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 1032, "attachment_id": null, "id": 2559, "time": "2001-05-21T07:07:26Z", "creator": "nacho@apache.org", "creation_time": "2001-05-21T07:07:26Z", "is_private": false, "text": "Changed product to taglibs from Tomcat 3"}, {"count": 3, "tags": [], "text": "This should be assigned to the DBTags taglib.", "attachment_id": null, "id": 3907, "creator": "glenn@apache.org", "time": "2001-07-22T10:12:34Z", "bug_id": 1032, "creation_time": "2001-07-22T10:12:34Z", "is_private": false}]