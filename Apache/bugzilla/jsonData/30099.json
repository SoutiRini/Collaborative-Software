[{"count": 0, "tags": [], "bug_id": 30099, "attachment_id": null, "text": "when the log4j's codes don't in my test codes, junitreport can catch the system \nout by log4j. but if i use the log4j in my test codes, junitreport can't catch \nthe system out by log4j. is there anything wrong with my codes?\n\n========== that 's a part in my ant build file\n\n\t<target name=\"runtest\" if=\"debug.on\">\n\t\t<taskdef name=\"junit\" \nclassname=\"org.apache.tools.ant.taskdefs.optional.junit.JUnitTask\" />\n\t\t<echo message=\"running tests\" />\n\t\t<junit fork=\"yes\" printsummary=\"yes\" haltonfailure=\"no\">\n\t\t\t<formatter type=\"xml\" />\n\t\t\t<classpath>\n\t\t\t\t<pathelement location=\"${compile.lib}\" />\n\t\t\t\t<pathelement location=\"${build.classes}\" />\n\t\t\t\t<fileset dir=\"${compile.lib}\" \nincludes=\"**/*.jar\" />\n\t\t\t\t<fileset dir=\"${build.classes}\" \nincludes=\"**/*.class\" />\n\t\t\t</classpath>\n\t\t\t<!--test \nname=\"creatxr.demos.simple.AllJUnitTests.HelloWorldTest\" todir=\"${log.tests}\">\n\t\t\t<formatter type=\"plain\" />\n\t\t</test-->\n\t\t\t<batchtest todir=\"${log.tests.xml}\">\n\t\t\t\t<!--formatter type=\"plain\" /-->\n\t\t\t\t<fileset dir=\"${build.classes}\">\n\t\t\t\t\t<include name=\"**/*Test*\" />\n\t\t\t\t\t<exclude name=\"**/*AllTests*\" />\n\t\t\t\t</fileset>\n\t\t\t</batchtest>\n\t\t</junit>\n\t\t<echo message=\"reportting tests\" />\n\t\t<junitreport todir=\"${log.tests}\">\n\t\t\t<fileset dir=\"${log.tests.xml}\">\n\t\t\t\t<include name=\"*.xml\" />\n\t\t\t</fileset>\n\t\t\t<report format=\"frames\" todir=\"${log.tests.doc}\" />\n\t\t</junitreport>\n\t\t<!--delete file=\"${log.tests}/TESTS-TestSuites.xml\" /-->\n\t</target>\n========================= that 's my main code\npackage creatxr.demos.simple.bean;\n\nimport org.apache.log4j.Logger;\n\n/**\n * @author Creatxr\n * \n * TODO To change the template for this generated type comment go to Window -\n * Preferences - Java - Code Style - Code Templates\n */\npublic class HelloWorld {\n\tprivate static final Logger log = Logger.getLogger(HelloWorld.class);\n\t/**\n\t *  \n\t */\n\tpublic HelloWorld() {\n\t\tsuper();\n\t\t// TODO Auto-generated constructor stub\n\t}\n\n\tpublic void print() {\n//\t\tSystem.out.print(\"Hello World Bean\");\n\t\tlog.info(\"Hello World Bean\");\n\t}\n}\n================== that's my test code\npackage creatxr.demos.simple.bean.AllJUnitTests;\n\nimport junit.framework.TestCase;\nimport org.apache.log4j.Logger;\n\nimport creatxr.demos.simple.bean.HelloWorld;\n\n/**\n * @author Creatxr\n * \n * TODO To change the template for this generated type comment go to Window -\n * Preferences - Java - Code Style - Code Templates\n */\npublic class HelloWorldTest extends TestCase {\n\tprivate static final Logger log = Logger.getLogger\n(HelloWorldTest.class);\n\n\tpublic static void main(String[] args) {\n\t\tjunit.textui.TestRunner.run(HelloWorldTest.class);\n\t}\n\n\tpublic void testPrint() {\n\t\tHelloWorld helloWorld = new HelloWorld();\n\t\thelloWorld.print();\n\t\tlog.debug(\"HelloWorld.print() pass\");\n\t}\n\n}", "id": 60595, "time": "2004-07-14T08:50:09Z", "creator": "worldcreatxr@yahoo.com.cn", "creation_time": "2004-07-14T08:50:09Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 30099, "attachment_id": null, "text": "\n\n*** This bug has been marked as a duplicate of 30798 ***", "id": 63967, "time": "2004-09-21T11:49:41Z", "creator": "bodewig@apache.org", "creation_time": "2004-09-21T11:49:41Z", "is_private": false}]