[{"count": 0, "tags": [], "bug_id": 51436, "attachment_id": 27209, "id": 147519, "time": "2011-06-27T09:56:45Z", "creator": "simon@olofsson.de", "creation_time": "2011-06-27T09:56:45Z", "is_private": false, "text": "Created attachment 27209\nAcknowledge a request before any listeners are called.\n\nI wrote a ServletRequestListener that tries to access a Request Parameter in requestInitialized(.) with:\n sre.getServletRequest().getParameter(\"x\");\n\nThis works fine with POST-Requests. But when I send the \"Expect: 100-continue\" HTTP Header the Listener hangs, waiting for the Request Body. See the stacktrace at:\n http://pastebin.com/r2J0P3qx\nThis happens because the Request isn't acknowledged and thus the body (containing the parameters) isn't send.\n\nThe attached patch fixes this by acknowledging the request before the listeners are called. With the patch applied everything works fine and all tests pass."}, {"count": 1, "tags": [], "creator": "markt@apache.org", "text": "Thanks for the patch. I applied a variation of it (with a little more error handling) to 7.0.x and it will be included in 7.0.17 onwards.", "id": 147574, "time": "2011-06-28T17:49:50Z", "bug_id": 51436, "creation_time": "2011-06-28T17:49:50Z", "is_private": false, "attachment_id": null}, {"count": 2, "text": "Great, thanks Mark.", "bug_id": 51436, "is_private": false, "id": 147601, "time": "2011-06-29T11:57:44Z", "creator": "simon@olofsson.de", "creation_time": "2011-06-29T11:57:44Z", "tags": [], "attachment_id": null}]