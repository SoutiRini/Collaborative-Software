[{"count": 0, "tags": [], "bug_id": 61561, "attachment_id": null, "text": "I opened the Function Helper and tried the new function __RandomDate, Click Generate and got an error (other functions are working)\n\n2017-09-25 08:44:30,112 ERROR o.a.j.f.RandomDate: Failed to parse the date '' to shift with formatter 'Value(YearOfEra,4,19,EXCEEDS_PAD)'-'Value(MonthOfYear,2)'-'Value(DayOfMonth,2)java.time.format.DateTimeFormatterBuilder$DefaultValueParser@6426866cjava.time.format.DateTimeFormatterBuilder$DefaultValueParser@4b46653bjava.time.format.DateTimeFormatterBuilder$DefaultValueParser@108462fd'\njava.time.format.DateTimeParseException: Text '' could not be parsed at index 0\n    at java.time.format.DateTimeFormatter.parseResolved0(Unknown Source) ~[?:1.8.0_144]\n    at java.time.format.DateTimeFormatter.parse(Unknown Source) ~[?:1.8.0_144]\n    at java.time.LocalDate.parse(Unknown Source) ~[?:1.8.0_144]\n    at org.apache.jmeter.functions.RandomDate.execute(RandomDate.java:189) [ApacheJMeter_functions.jar:3.3 r1808647]\n    at org.apache.jmeter.engine.util.CompoundVariable.execute(CompoundVariable.java:137) [ApacheJMeter_core.jar:3.3 r1808647]\n    at org.apache.jmeter.engine.util.CompoundVariable.execute(CompoundVariable.java:112) [ApacheJMeter_core.jar:3.3 r1808647]\n    at org.apache.jmeter.functions.gui.FunctionHelper.actionPerformed(FunctionHelper.java:181) [ApacheJMeter_core.jar:3.3 r1808647]\n    at javax.swing.AbstractButton.fireActionPerformed(Unknown Source) [?:1.8.0_144]\n    at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source) [?:1.8.0_144]\n    at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source) [?:1.8.0_144]\n    at javax.swing.DefaultButtonModel.setPressed(Unknown Source) [?:1.8.0_144]\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source) [?:1.8.0_144]\n    at java.awt.Component.processMouseEvent(Unknown Source) [?:1.8.0_144]\n    at javax.swing.JComponent.processMouseEvent(Unknown Source) [?:1.8.0_144]\n    at java.awt.Component.processEvent(Unknown Source) [?:1.8.0_144]\n    at java.awt.Container.processEvent(Unknown Source) [?:1.8.0_144]\n    at java.awt.Component.dispatchEventImpl(Unknown Source) [?:1.8.0_144]\n    at java.awt.Container.dispatchEventImpl(Unknown Source) [?:1.8.0_144]\n    at java.awt.Component.dispatchEvent(Unknown Source) [?:1.8.0_144]\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source) [?:1.8.0_144]\n    at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source) [?:1.8.0_144]\n    at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source) [?:1.8.0_144]\n    at java.awt.Container.dispatchEventImpl(Unknown Source) [?:1.8.0_144]\n    at java.awt.Window.dispatchEventImpl(Unknown Source) [?:1.8.0_144]\n    at java.awt.Component.dispatchEvent(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventQueue.dispatchEventImpl(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventQueue.access$500(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventQueue$3.run(Unknown Source) [?:1.8.0_144]\n    at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_144]\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) [?:1.8.0_144]\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventQueue$4.run(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventQueue$4.run(Unknown Source) [?:1.8.0_144]\n    at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_144]\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventQueue.dispatchEvent(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventDispatchThread.run(Unknown Source) [?:1.8.0_144]\n2017-09-25 08:44:30,113 ERROR o.a.j.JMeter: Uncaught exception: \njava.lang.IllegalArgumentException: bound must be greater than origin\n    at java.util.concurrent.ThreadLocalRandom.nextLong(Unknown Source) ~[?:1.8.0_144]\n    at org.apache.jmeter.functions.RandomDate.execute(RandomDate.java:196) ~[ApacheJMeter_functions.jar:3.3 r1808647]\n    at org.apache.jmeter.engine.util.CompoundVariable.execute(CompoundVariable.java:137) ~[ApacheJMeter_core.jar:3.3 r1808647]\n    at org.apache.jmeter.engine.util.CompoundVariable.execute(CompoundVariable.java:112) ~[ApacheJMeter_core.jar:3.3 r1808647]\n    at org.apache.jmeter.functions.gui.FunctionHelper.actionPerformed(FunctionHelper.java:181) ~[ApacheJMeter_core.jar:3.3 r1808647]\n    at javax.swing.AbstractButton.fireActionPerformed(Unknown Source) ~[?:1.8.0_144]\n    at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source) ~[?:1.8.0_144]\n    at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source) ~[?:1.8.0_144]\n    at javax.swing.DefaultButtonModel.setPressed(Unknown Source) ~[?:1.8.0_144]\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.Component.processMouseEvent(Unknown Source) ~[?:1.8.0_144]\n    at javax.swing.JComponent.processMouseEvent(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.Component.processEvent(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.Container.processEvent(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.Component.dispatchEventImpl(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.Container.dispatchEventImpl(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.Component.dispatchEvent(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.Container.dispatchEventImpl(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.Window.dispatchEventImpl(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.Component.dispatchEvent(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.EventQueue.dispatchEventImpl(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.EventQueue.access$500(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.EventQueue$3.run(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.EventQueue$3.run(Unknown Source) ~[?:1.8.0_144]\n    at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_144]\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) ~[?:1.8.0_144]\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.EventQueue$4.run(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.EventQueue$4.run(Unknown Source) ~[?:1.8.0_144]\n    at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_144]\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.EventQueue.dispatchEvent(Unknown Source) ~[?:1.8.0_144]\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_144]\n    at java.awt.EventDispatchThread.run(Unknown Source) [?:1.8.0_144]", "id": 201108, "time": "2017-09-25T05:58:21Z", "creator": "orimarko@gmail.com", "creation_time": "2017-09-25T05:58:21Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 61561, "attachment_id": null, "text": "Hi,\n\nCan you provide us the input to the function\n\nAntonio", "id": 201110, "time": "2017-09-25T07:40:03Z", "creator": "ra0077@gmail.com", "creation_time": "2017-09-25T07:40:03Z", "is_private": false}, {"text": "(As Generate works) Function is called without any parameters: ${__RandomDate(,,,,)}", "tags": [], "bug_id": 61561, "attachment_id": null, "count": 2, "id": 201111, "time": "2017-09-25T07:42:32Z", "creator": "orimarko@gmail.com", "creation_time": "2017-09-25T07:42:32Z", "is_private": false}, {"count": 3, "tags": [], "creator": "ra0077@gmail.com", "text": "Ok\n\nI will test it asap and modify the log (I have make a bad copy/paste)\n\nBut in my opinion, the error is that the attribute End date is mandatory\n\nCan you try with a End date in the futur?\n\nAntonio", "id": 201112, "time": "2017-09-25T08:01:54Z", "bug_id": 61561, "creation_time": "2017-09-25T08:01:54Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "creator": "orimarko@gmail.com", "text": "Click Generate ignores my input and calls the function without any parameters", "id": 201113, "time": "2017-09-25T08:06:51Z", "bug_id": 61561, "creation_time": "2017-09-25T08:06:51Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 61561, "attachment_id": null, "text": "Can you attach jmeter.log and a screenshot of the function Helper\n\n${__RandomDate(,,,,)} can't work because End date is needed (I will fix the log message to be more useful)\n\nBut I don't reproduce \"Click Generate ignores my input and calls the function without any parameters\"\n\nThank\nAntonio", "id": 201115, "time": "2017-09-25T10:20:30Z", "creator": "ra0077@gmail.com", "creation_time": "2017-09-25T10:20:30Z", "is_private": false}, {"count": 6, "tags": [], "text": "Created attachment 35370\nRandomDate function", "attachment_id": 35370, "bug_id": 61561, "id": 201116, "time": "2017-09-25T10:41:35Z", "creator": "orimarko@gmail.com", "creation_time": "2017-09-25T10:41:35Z", "is_private": false}, {"count": 7, "tags": [], "creator": "orimarko@gmail.com", "attachment_id": 35371, "id": 201117, "time": "2017-09-25T10:42:26Z", "bug_id": 61561, "creation_time": "2017-09-25T10:42:26Z", "is_private": false, "text": "Created attachment 35371\njmeter.log error"}, {"count": 8, "tags": [], "creator": "orimarko@gmail.com", "attachment_id": null, "id": 201118, "time": "2017-09-25T10:55:55Z", "bug_id": 61561, "creation_time": "2017-09-25T10:55:55Z", "is_private": false, "text": "Also I notice difference from JMeter 3.2 Generate ${__Random(,,)} throws exception only in JMeter 3.3\n\n2017-09-25 13:53:04,864 ERROR o.a.j.JMeter: Uncaught exception: \njava.lang.NumberFormatException: For input string: \"\"\n\tat java.lang.NumberFormatException.forInputString(Unknown Source) ~[?:1.8.0_144]\n\tat java.lang.Long.parseLong(Unknown Source) ~[?:1.8.0_144]\n\tat java.lang.Long.parseLong(Unknown Source) ~[?:1.8.0_144]\n\tat org.apache.jmeter.functions.Random.execute(Random.java:64) ~[ApacheJMeter_functions.jar:3.3 r1808647]\n\tat org.apache.jmeter.engine.util.CompoundVariable.execute(CompoundVariable.java:137) ~[ApacheJMeter_core.jar:3.3 r1808647]\n\tat org.apache.jmeter.engine.util.CompoundVariable.execute(CompoundVariable.java:112) ~[ApacheJMeter_core.jar:3.3 r1808647]\n\tat org.apache.jmeter.functions.gui.FunctionHelper.actionPerformed(FunctionHelper.java:181) ~[ApacheJMeter_core.jar:3.3 r1808647]\n\tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source) ~[?:1.8.0_144]\n\tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source) ~[?:1.8.0_144]\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source) ~[?:1.8.0_144]\n\tat javax.swing.DefaultButtonModel.setPressed(Unknown Source) ~[?:1.8.0_144]\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.Component.processMouseEvent(Unknown Source) ~[?:1.8.0_144]\n\tat javax.swing.JComponent.processMouseEvent(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.Component.processEvent(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.Container.processEvent(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.Component.dispatchEventImpl(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.Container.dispatchEventImpl(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.Component.dispatchEvent(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.Container.dispatchEventImpl(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.Window.dispatchEventImpl(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.Component.dispatchEvent(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.EventQueue.access$500(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.EventQueue$3.run(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.EventQueue$3.run(Unknown Source) ~[?:1.8.0_144]\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_144]\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) ~[?:1.8.0_144]\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.EventQueue$4.run(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.EventQueue$4.run(Unknown Source) ~[?:1.8.0_144]\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_144]\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source) ~[?:1.8.0_144]\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source) [?:1.8.0_144]\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) [?:1.8.0_144]\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) [?:1.8.0_144]\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_144]\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source) [?:1.8.0_144]\n\tat java.awt.EventDispatchThread.run(Unknown Source) [?:1.8.0_144]"}, {"count": 9, "tags": [], "bug_id": 61561, "attachment_id": null, "text": "For me, there is no bug except maybe unclear error message and the fact that error should appear in preview , not only in logs.\n\nSince 3.3, there is a \"preview\" feature which shows result of calling a function.\nAs mandatory parameters are not entered, function fails.\n\nWhat would you expect here ?\n\nThanks", "id": 201120, "time": "2017-09-25T11:11:29Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-09-25T11:11:29Z", "is_private": false}, {"count": 10, "tags": [], "creator": "orimarko@gmail.com", "attachment_id": null, "id": 201121, "time": "2017-09-25T11:24:10Z", "bug_id": 61561, "creation_time": "2017-09-25T11:24:10Z", "is_private": false, "text": "I expect a button (Generate or new one) to execute the function inside the input (after Copy and paste function string),So that I can add parameters (in this case mandatory) and then submit function thus get a valid response (and not exception)"}, {"text": "(In reply to orimarko from comment #10)\n> I expect a button (Generate or new one) to execute the function inside the\n> input (after Copy and paste function string),So that I can add parameters\n> (in this case mandatory) and then submit function thus get a valid response\n> (and not exception)\nI am not sure to follow you, can you make a screenshot of what you would expect and what you are currently doing ?\n\nThe logic is that you put the parameters in the table of parameters and click Generate which will put the syntax in the field at left of Generate and the result in the text area at the bottom.\n\nThanks", "tags": [], "bug_id": 61561, "attachment_id": null, "count": 11, "id": 201122, "time": "2017-09-25T11:26:35Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-09-25T11:26:35Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 61561, "attachment_id": null, "text": "Author: pmouawad\nDate: Mon Sep 25 11:38:06 2017\nNew Revision: 1809605\n\nURL: http://svn.apache.org/viewvc?rev=1809605&view=rev\nLog:\nBug 61561 - Function helper dialog should display exception in result\nBugzilla Id: 61561\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/functions/gui/FunctionHelper.java\n    jmeter/trunk/xdocs/changes.xml", "id": 201123, "time": "2017-09-25T11:38:33Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-09-25T11:38:33Z", "is_private": false}, {"text": "Author: pmouawad\nDate: Mon Sep 25 19:08:24 2017\nNew Revision: 1809660\n\nURL: http://svn.apache.org/viewvc?rev=1809660&view=rev\nLog:\nBug 61561 - Function helper dialog should display exception in result\nMake \"Copy and paste function string\" read only to avoid confusion\nBugzilla Id: 61561\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/functions/gui/FunctionHelper.java\n    jmeter/trunk/src/jorphan/org/apache/jorphan/gui/JLabeledTextField.java", "tags": [], "bug_id": 61561, "attachment_id": null, "count": 13, "id": 201131, "time": "2017-09-25T19:09:31Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-09-25T19:09:31Z", "is_private": false}]