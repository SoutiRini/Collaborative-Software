[{"count": 0, "tags": [], "creator": "bugzilla-apache@mofokom.biz", "attachment_id": null, "text": "In some build systems log4j never gets configured.  I have created a Log4J ant\ntask which configurates the and set the levels.  It is so simple.\n\n\npackage util;\n\npublic class Log4jAntTask extends org.apache.tools.ant.Task {\n        String level;\n\n        public Log4jAntTask(){\n                org.apache.log4j.BasicConfigurator.configure();\n               \norg.apache.log4j.Logger.getRootLogger().setLevel(org.apache.log4j.Level.toLevel(level));\n                   \n                org.apache.log4j.Logger.getRootLogger().setAdditivity(true);   \n                \n\n        }\n        public void setLevel(String level){\n                this.level=level;\n        }    \n}", "id": 90602, "time": "2006-06-26T06:04:25Z", "bug_id": 39901, "creation_time": "2006-06-26T06:04:25Z", "is_private": false}, {"count": 1, "tags": [], "creator": "mbenson@apache.org", "attachment_id": null, "text": "There are very few cases where we are going to add anything to Ant with\ncompilation dependencies... can you explain more under what circumstances you\nhad intended this would be applicable?", "id": 90669, "time": "2006-06-27T18:31:55Z", "bug_id": 39901, "creation_time": "2006-06-27T18:31:55Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 39901, "attachment_id": null, "text": "XDoclet is a use case that springs to mind. \n\nYou dont really need a task for this though. just add a jar to ANT_HOME/lib\ncontaining a log4j.properties file", "id": 90718, "time": "2006-06-28T10:47:34Z", "creator": "stevel@apache.org", "creation_time": "2006-06-28T10:47:34Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 39901, "attachment_id": null, "text": "See also the updated manual according to the Log4J-Listener\nhttp://svn.apache.org/repos/asf/ant/core/trunk/docs/manual/listeners.html#Log4jListener", "id": 91001, "time": "2006-07-07T14:55:50Z", "creator": "jan@materne.de", "creation_time": "2006-07-07T14:55:50Z", "is_private": false}, {"count": 4, "tags": [], "creator": "stevel@apache.org", "attachment_id": null, "text": "Jan, this is different, this is setting up log4j so that you dont get told off\nfor not having log4j configured. \n\nthe underlying problem is that log4j tells you off for not having log4j\nconfigured, when in reality the unconfigured state is probably the most popular\nconfiguration of the tool. I hear rumors it be fixed eventually.\n\nthis task assumes, however, that log4j is on ant's classpath. if you load\nxdoclet with log4j only cropping up there, this task fails horribly.\n\nAlso, note how the task will always set to level=0 because the config happens in\nthe constructor, before the setter is called. something like this should be done\nin the executor method, and it should use reflection and fail properly if log4j\nis not found. ", "id": 91005, "time": "2006-07-07T16:20:25Z", "bug_id": 39901, "creation_time": "2006-07-07T16:20:25Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 39901, "attachment_id": null, "text": "Needing info for almost 6 years, closing.\nIf still applicable please submit a new bug report with the requested information.", "id": 159381, "time": "2012-05-28T11:07:45Z", "creator": "jkf@apache.org", "creation_time": "2012-05-28T11:07:45Z", "is_private": false}]