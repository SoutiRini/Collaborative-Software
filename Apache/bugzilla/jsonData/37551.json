[{"count": 0, "tags": [], "bug_id": 37551, "text": "All of the request variables (subprocess_env) are being set in the fixup hook,\nssl_hook_Fixup().  This makes them unavailable for inspection by other modules\nat earlier processing phases, such as during the access or auth checkers.\n\nThis may be related to bug #31418 but it is more general in scope than just the\nSSLUserName processing.\n\nAt a minimum, at least a subset of the variables should be set in earlier\nrequest phases.  For instance the HTTPS=on should probably be set right from the\nbeginning of the request.  Other access or auth modules may at least care if the\nconnection is SSL/TLS or not, even if they don't get into the details of\ncertificate checking.\n\nOr maybe some other way to inspect the SSL state could be used, such as optional\nmodule functions.\n\nIf there is rationale why variable exposure must wait until the fixups phase,\nplease explain somewhere.", "id": 82629, "time": "2005-11-17T23:03:30Z", "creator": "deron.meranda@gmail.com", "creation_time": "2005-11-17T23:03:30Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 37551, "text": "No modules should be retrieving SSL variables via r->subprocess_env.  To access\nSSL variables, use the ssl_var_lookup and ssl_is_https optional hooks to\nretrieve the strings directly without requiring +StdEnvVars to be configured.\n\n(the env variables must be registered late because some of them, e.g.\nclient-cert-specific variables, may only be available once the mod_ssl\naccess_checker hook has run)", "id": 82762, "time": "2005-11-23T15:25:55Z", "creator": "jorton@redhat.com", "creation_time": "2005-11-23T15:25:55Z", "is_private": false, "attachment_id": null}]