[{"count": 0, "tags": [], "text": "Hello,\n\nI have tried to use sed with ExtFilterDefine\nand I wrote a small shell script (bash) on\nmy linux box to replace < and > with the\nequivalent html compatible forms &lt; and\n&gt;. The script looks like this:\n\n#!/bin/sh\n/bin/sed -e 's/</\\&lt\\;/g' -e 's/>/\\&gt\\;/g'\n\nIt works great and prints every html page\nin its source code. Anyway I wanted to include\nthis command directly into the ExtFilterDefine\ndirective:\n\nExtFilterDefine plaintext mode=output outtype=text/html cmd=\"/bin/sed -e 's/</\n\\&lt\\;/g' -e 's/>/\\&gt\\;/g'\"\n<Location />\nExtFilterOptions LogStderr DebugLevel=9\nSetOutputFilter plaintext\n</Location>\n\nNow I get the following errors in my error log:\n/bin/sed: -e expression #1, char 1: Unknown command: ``'''\n[Sat Aug 17 21:13:27 2002] [debug] mod_ext_filter.c(605): [client 192.168.0.2] \nfiltering `/bla.html' of type `text/html' through `/bin/sed', cfg \nExtFilterOptions DebugLevel=9 LogStderr !PreserveContentLength ExtFilterInType \n*/* ExtFilterOuttype text/html\n[Sat Aug 17 21:13:27 2002] [error] [client 192.168.0.2] (32)Broken pipe: \napr_file_write(child input), len 0\n\nAnyway I tried to escape the ' with a back-slash\nbut this did not change anything.\n\nBye and thanks,\nSebastian Wolfgarten", "is_private": false, "id": 21210, "creator": "sebastian.wolfgarten@gmx.net", "time": "2002-08-17T19:22:06Z", "bug_id": 11794, "creation_time": "2002-08-17T19:22:06Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 11794, "attachment_id": null, "id": 21501, "time": "2002-08-21T20:19:57Z", "creator": "trawick@apache.org", "creation_time": "2002-08-21T20:19:57Z", "is_private": false, "text": "The fixes for PR 11793 allowed this to work too, so I marked this \nPR as a duplicate of 11793.  Here is the cmd= parameter I used to\ntest the desired sed invocation of this PR:\n\ncmd=\"/bin/sed -e s/</\\\\&lt\\\\;/g -e s/>/\\\\&gt\\\\;/g\"\n\nIn order to pass the character \\ to sed, I needed to escape it.\nOtherwise, the code to parse the cmd= string uses it as its own\nescape character.\n\nHopefully we can improve the documentation of cmd= parsing before\nthe next release :)\n\nThanks for your report, and thanks for using Apache.\n\n\n*** This bug has been marked as a duplicate of 11793 ***"}]