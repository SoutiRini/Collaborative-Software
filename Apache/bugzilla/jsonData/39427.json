[{"count": 0, "tags": [], "text": "Assuming that the HTTP Proxy Server is running and a specific target controller\nis set. If a new request is recorded while a different HTTP Request in the\nJMeter tree is selected, that request is overwritted by the new one. The new\nrequest addionally can be found in the destination controller of the proxy (as\ndesired).", "attachment_id": null, "bug_id": 39427, "id": 88553, "time": "2006-04-27T11:47:05Z", "creator": "pascal.alich@ppi.de", "creation_time": "2006-04-27T11:47:05Z", "is_private": false}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 89522, "time": "2006-05-26T14:41:43Z", "bug_id": 39427, "creation_time": "2006-05-26T14:41:43Z", "is_private": false, "text": "Another symptom is that a new sampler is created in the correct place, but the \nsettings of the selected sampler are changed - in particular, the parameters \nand values are changed.\n\nThis does not seem to be easy to fix.\n\nThe work-round is to ensure that the Proxy server remains selected until the \nrecording has finished."}, {"count": 2, "tags": [], "text": "Created attachment 19757\nvariant of the bug, test plan that cant be recorded with the http proxy to without severe problems\n\nThere are an additional variant of this bug, following the workaround Sebb\nmentions does not fix this variant. Some times the recording goes through just\nfine(rare), both mostly 10% gets recorded to the selected recording controller,\nand rest to a random recording controller. Sometimes the http proxy looses its\nsettings (port name etc), this is a typical symptom of the variant. I've also\nexpirenced a few times that some settings are duplicated(80808080 instead of\n8080 as proxy port)\n\nIf somehow the file should dissapear, i'll describe the structure of the test\nplan  here:\n\nTest plan\n-Thread Group 01 (disabled)\n--Recording Controller 1\n--Recording Controller 2\n--Recording Controller 3\n--Recording Controller 4\n--Recording Controller 5\n--Recording Controller ...\n--Recording Controller 15\n-Thread Group 02\n--Recording controller 01\n-Thread Group 03\n--Recording controller 01\n-Thread Group ..\n--Recording controller 01\n-Thread Group 08\n--Recording controller 01\n-Thread Group 09\n--Interleave Controller 01\n---Recording Controller 01\n---Recording Controller 02\n---Recording Controller 03\n---Recording Controller 04\n---Recording Controller 05\n-Agregate report\n-View result in table\n-View result in tree\n\nAlso all threads has an adittional pair of these:\n-Agregate report\n-View result in table\n-View result in tree\nAnd all HTTP request uses test plan variables server & port.", "attachment_id": 19757, "bug_id": 39427, "id": 100678, "time": "2007-03-20T09:27:50Z", "creator": "skalla.ippa@gmail.com", "creation_time": "2007-03-20T09:27:50Z", "is_private": false}, {"count": 3, "tags": [], "text": "Created attachment 20089\nSuggested patch\n\nI've looked at this issue today.\nTo me, the problem seems to be caused by the handling of the \"current node\" in\nGUI. When a sample is added to the test plan, the correct GUI component is used\nfor the sample. There is only one instance of the GUI class, and this class is\nreused for each sample being constructed and put into the plan. Somehow, the\n\"current node / gui node\" becomes incorrect, and the selected item in the GUI\nis incorrectly updated.\n\nIn the JMeterTreeModel.addComponent method, the current GUI state is \"stored\"\nin the test element for the node by\nGuiPackage.getInstance().updateCurrentNode().\nThen the GUI component for the test element being added is retrieved by\nJMeterGUIComponent guicomp = GuiPackage.getInstance().getGui(component).\n\nThen the state is copied from the \"test element\" to the GUI instance by\nguicomp.configure(component);\nThen the state of the GUI instance is copied to the test element by\nguicomp.modifyTestElement(component);\n\nFinally, from the comment, it seems like the GUI instance should be put back to\nthe state it was in when the state for the current node was stored, by \"\nGuiPackage.getInstance().getCurrentGui(); // put the gui object back\n// to the way it was.\"\n\nHowever, this is not what is happening when running the Proxy, and selecting a\nsample in the test plan, and then entering an URL in the browser.\nIn that case, \"GuiPackage.getInstance().getCurrentGui()\" causes the GUI state\nof the newly added test element to be copied to the test element that the user\nhad selected in the test plan before entering the URL in the browser.\n\nBy applying this suggested patch, I can selected items in the test plan while\nthe proxy is running, and the item will not change, even if new items are added\nto the test plan by the proxy because of browser activity.\n\nPerhaps someone can explain what the lines I suggest to delete are meant to do\n?\nAnd / or give some input on scenarios that should be tested to check that\nthings still work, I'm mainly thinking about other scenarios than using the\nProxy.", "attachment_id": 20089, "bug_id": 39427, "id": 102747, "time": "2007-05-02T06:24:47Z", "creator": "alf@i100.no", "creation_time": "2007-05-02T06:24:47Z", "is_private": false}, {"attachment_id": 20113, "tags": [], "bug_id": 39427, "text": "Created attachment 20113\nImproved patch\n\nThis patch also solves the bug.\nThe problem is that the GUIPackage does not keep correct track of what is the\ncurrent node, and if the test element needs to be updated from the GUI.\n\nBy always setting \"currentNodeUpdated = true\" at the end of \"updateCurrentNode\"\nmethod, the problem seems to be solved.", "count": 4, "id": 102803, "time": "2007-05-03T03:03:40Z", "creator": "alf@i100.no", "creation_time": "2007-05-03T03:03:40Z", "is_private": false}, {"count": 5, "tags": [], "creator": "alf@i100.no", "attachment_id": null, "id": 102848, "time": "2007-05-04T02:27:54Z", "bug_id": 39427, "creation_time": "2007-05-04T02:27:54Z", "is_private": false, "text": "(In reply to comment #4)\n\nThis bug can be set to \"fixed\" now, because the suggested patch is applied as\npart of the fix for bug 30120."}, {"attachment_id": null, "tags": [], "bug_id": 39427, "text": "Thanks!", "count": 6, "id": 102850, "time": "2007-05-04T02:46:00Z", "creator": "sebb@apache.org", "creation_time": "2007-05-04T02:46:00Z", "is_private": false}]