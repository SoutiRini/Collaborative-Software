[{"count": 0, "attachment_id": null, "bug_id": 41894, "is_private": false, "id": 100622, "time": "2007-03-19T12:36:08Z", "creator": "adelmelle@apache.org", "creation_time": "2007-03-19T12:36:08Z", "tags": [], "text": "Reported by Daniel Noll on fop-users@\n\nThe FO in attachment currently fails w/ FOP trunk, because the percentages for top/right/bottom/left \nare not resolved correctly.\n\nI think I've found a fix, patch also attached for reference.\n\nCan anyone confirm that the output PDF is the result one would expect? I think it's a correct \ninterpretation of the Rec., but I'm not sure. With my fix, the percentages are based on the height/width \nof the outer block-container (which would generate the nearest ancestor reference area?)"}, {"count": 1, "tags": [], "creator": "adelmelle@apache.org", "text": "Created attachment 19744\nsource FO", "id": 100623, "time": "2007-03-19T12:37:12Z", "bug_id": 41894, "creation_time": "2007-03-19T12:37:12Z", "is_private": false, "attachment_id": 19744}, {"count": 2, "tags": [], "creator": "adelmelle@apache.org", "is_private": false, "text": "Created attachment 19745\nproposed fix", "id": 100624, "time": "2007-03-19T12:38:40Z", "bug_id": 41894, "creation_time": "2007-03-19T12:38:40Z", "attachment_id": 19745}, {"count": 3, "attachment_id": 19746, "bug_id": 41894, "is_private": false, "id": 100625, "time": "2007-03-19T12:39:37Z", "creator": "adelmelle@apache.org", "creation_time": "2007-03-19T12:39:37Z", "tags": [], "text": "Created attachment 19746\nPDF result after applying the patch"}, {"count": 4, "tags": [], "bug_id": 41894, "attachment_id": null, "is_private": false, "id": 101414, "time": "2007-04-04T02:56:40Z", "creator": "jeremias@apache.org", "creation_time": "2007-04-04T02:56:40Z", "text": "I think this is a step in the right direction, but I believe the PercentBase\nshouldn't be LengthBase.CONTAINING_REFAREA_HEIGHT but\nLengthBase.CONTAINING_BLOCK_HEIGHT. i-p-d, b-p-d, width and height are all using\nCONTAINING_BLOCK_WIDTH/HEIGHT as per the spec. top, left etc. are also defined\nin terms of the containing block, not the nearest ancestor reference area.\n\nIn your example, that would place all three inner b-cs at the upper edge of the\nblock-container's content area because the block they are enclosed in doesn't\nhave a height in this case. Only if you remove the block between the inner and\nouter b-c will the vertical positioning work again. It's what I would expect in\nterms of behaviour."}, {"count": 5, "attachment_id": null, "bug_id": 41894, "is_private": false, "id": 101472, "time": "2007-04-05T12:54:54Z", "creator": "adelmelle@apache.org", "creation_time": "2007-04-05T12:54:54Z", "tags": [], "text": "(In reply to comment #4)\n> I think this is a step in the right direction, but I believe the PercentBase\n> shouldn't be LengthBase.CONTAINING_REFAREA_HEIGHT but\n> LengthBase.CONTAINING_BLOCK_HEIGHT. i-p-d, b-p-d, width and height are all using\n> CONTAINING_BLOCK_WIDTH/HEIGHT as per the spec. top, left etc. are also defined\n> in terms of the containing block, not the nearest ancestor reference area.\n\nAaah, OK, now I think I get it.\nThe spec (I only checked 1.1) explicitly alters the original CSS wording 'containing block' to 'nearest \nancestor reference area' for interpreting top/left/bottom/right (and in the absolute-position property), \nbut only where it comes to the positioning (100% to the left of /what/?), not in the definition of the \npercent-base (100% of /what/ to the left of ...?)\n\nSubtle one, I must say. :-)\n\nI'll adapt shortly.\n"}, {"count": 6, "tags": [], "bug_id": 41894, "attachment_id": null, "is_private": false, "id": 120828, "time": "2008-09-20T12:53:34Z", "creator": "adelmelle@apache.org", "creation_time": "2008-09-20T12:53:34Z", "text": "\nRe-ran the example file through FOP Trunk, and I agree with the interpretation. Removing the surrounding fo:block leads to an expected placement of the block-containers.\n\nSo, nothing to fix. Just one less Bugzilla entry to worry about..."}, {"count": 7, "tags": [], "bug_id": 41894, "text": "batch transition to closed remaining pre-FOP1.0 resolved bugs", "id": 156414, "time": "2012-04-01T13:47:48Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T13:47:48Z", "is_private": false, "attachment_id": null}]