[{"count": 0, "tags": [], "creator": "gsfernandes@gmail.com", "text": "The proxy connection returned by the jdbc-pool is not proxying the resultSet and the statement so if the client gets access to the underlying connection through: \n\nresultSet.getStatement().getConnection()\n\nHe is able to close the physical connection due to both instances (resultSet and statement) were not proxied. \nIf this happens next time a client gets a connection from the jdbc-pool it will return a proxy with a physical connection closed.", "id": 132840, "time": "2009-12-15T11:43:20Z", "bug_id": 48392, "creation_time": "2009-12-15T11:43:20Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 48392, "text": "jdbc-pool version is: 1.0.7.1", "id": 132841, "time": "2009-12-15T12:08:01Z", "creator": "gsfernandes@gmail.com", "creation_time": "2009-12-15T12:08:01Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 48392, "is_private": false, "id": 132872, "attachment_id": 24713, "creator": "gsfernandes@gmail.com", "creation_time": "2009-12-16T11:26:26Z", "time": "2009-12-16T11:26:26Z", "text": "Created attachment 24713\nJdbcInterceptor to proxy resultSets and statements\n\nImplemented a JdbcInterceptor to proxy resultSets and statements."}, {"count": 3, "tags": [], "bug_id": 48392, "attachment_id": null, "id": 132876, "time": "2009-12-16T19:10:14Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2009-12-16T19:10:14Z", "is_private": false, "text": "For reference: link to the discussion thread on users@:\nhttp://markmail.org/thread/lf4l3tjy5eev5kxo\nhttp://marc.info/?t=126089853000004&r=1&w=2"}, {"count": 4, "tags": [], "bug_id": 48392, "text": "The patch contains a package name we can't use, and it doesn't have any license header in it.\n\nCan you adjust the package name to \norg.apache.tomcat.jdbc.pool.interceptor\n\nand add the license header (just look at an existing source file)", "id": 134864, "time": "2010-02-24T17:44:08Z", "creator": "fhanik@apache.org", "creation_time": "2010-02-24T17:44:08Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 48392, "text": "Created attachment 25054\nStatement decorator interceptor that proxies the resultSet and statement.\n\nCorrected the package and added the license header as suggested by Filip.", "id": 134866, "time": "2010-02-24T18:06:13Z", "creator": "gsfernandes@gmail.com", "creation_time": "2010-02-24T18:06:13Z", "is_private": false, "attachment_id": 25054}, {"count": 6, "tags": [], "creator": "fhanik@apache.org", "is_private": false, "text": "Thank you for the patch. It's been committed with a change to org.apache.juli.Log instead of Log4j", "id": 134871, "time": "2010-02-24T19:28:36Z", "bug_id": 48392, "creation_time": "2010-02-24T19:28:36Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 48392, "attachment_id": 27457, "text": "Created attachment 27457\nA correction to the createDecorator() method in the interceptor\n\nThere appears to be a typing error in the createDecorator() method of the interceptor, setting the connection to the constructor object:\n\nstatementProxy.setConnection(proxy);\nstatementProxy.setConstructor(constructor);", "id": 149023, "time": "2011-09-05T08:54:34Z", "creator": "naclarke@gmail.com", "creation_time": "2011-09-05T08:54:34Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 48392, "attachment_id": null, "id": 149180, "time": "2011-09-12T15:25:29Z", "creator": "fhanik@apache.org", "creation_time": "2011-09-12T15:25:29Z", "is_private": false, "text": "Thank you\nFixed in r1169796"}]