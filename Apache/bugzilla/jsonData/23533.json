[{"count": 0, "tags": [], "creator": "dboldt@usgs.gov", "attachment_id": null, "is_private": false, "id": 44909, "time": "2003-09-30T21:36:09Z", "bug_id": 23533, "creation_time": "2003-09-30T21:36:09Z", "text": "Solaris 8\n\nServer version: Apache/2.0.47\nServer built:   Jul 21 2003 00:32:49\nServer's Module Magic Number: 20020903:4\nArchitecture:   32-bit\nServer compiled with....\n -D APACHE_MPM_DIR=\"server/mpm/worker\"\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)\n -D APR_USE_PROC_PTHREAD_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D HTTPD_ROOT=\"/usr/opt/apache\"\n -D SUEXEC_BIN=\"/usr/opt/apache/bin/suexec\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D AP_TYPES_CONFIG_FILE=\"conf/mime.types\"\n -D SERVER_CONFIG_FILE=\"conf/httpd.conf\"\n\nCompiled in modules:\n  core.c\n  mod_access.c\n  mod_auth.c\n  mod_include.c\n  mod_log_config.c\n  mod_logio.c\n  mod_setenvif.c\n  worker.c\n  http_core.c\n  mod_mime.c\n  mod_autoindex.c\n  mod_cgid.c\n  mod_negotiation.c\n  mod_dir.c\n  mod_userdir.c\n  mod_alias.c\n  mod_rewrite.c\n  mod_so.c\n\nWeb site routes all HTML documents through a parsing program written in Perl,\n(written before php was born, for similar reasons).  \n\n       Action text/html /cgi-bin/h2o.cgi\n       Action text/html;charset=iso-8859-1 /cgi-bin/h2o.cgi\n\nThe site receives an average of roughly 300K hits per day, and roughly every\nother day CGI processing crashes with messages such as these (messages trimmed\nto one per crash):\n\nwater.usgs.gov-error_log-2003-09-10:[Wed Sep 10 14:47:21 2003] [error] [client\n66.123.2.43] (3)No such process: cgid daemon is gone; is Apache terminating?:\n/afs/usgs.gov/www/water/cgi-bin/lookup/get, referer:\nhttp://pubs.water.usgs.gov/TWRI3A18/\nwater.usgs.gov-error_log-2003-09-12:[Fri Sep 12 20:36:37 2003] [error] [client\n68.211.74.103] (3)No such process: cgid daemon is gone; is Apache terminating?:\n/afs/usgs.gov/www/water/cgi-bin/h2o.cgi\nwater.usgs.gov-error_log-2003-09-14:[Sun Sep 14 22:57:22 2003] [error] [client\n216.88.158.142] (3)No such process: cgid daemon is gone; is Apache terminating?:\n/afs/usgs.gov/www/water/cgi-bin/h2o.cgi\nwater.usgs.gov-error_log-2003-09-16:[Tue Sep 16 04:10:50 2003] [error] [client\n218.5.149.36] (3)No such process: cgid daemon is gone; is Apache terminating?:\n/afs/usgs.gov/www/water/cgi-bin/h2o.cgi\nwater.usgs.gov-error_log-2003-09-28:[Sun Sep 28 16:13:10 2003] [error] [client\n65.81.33.33] (3)No such process: cgid daemon is gone; is Apache terminating?:\n/afs/usgs.gov/www/water/cgi-bin/h2o.cgi\nwater.usgs.gov-error_log-2003-09-29:[Mon Sep 29 10:54:20 2003] [error] [client\n66.196.72.14] (3)No such process: cgid daemon is gone; is Apache terminating?:\n/afs/usgs.gov/www/water/cgi-bin/pointinhuc.pl\nwater.usgs.gov-error_log-2003-09-29:[Mon Sep 29 13:30:58 2003] [error] [client\n64.68.82.143] (3)No such process: cgid daemon is gone; is Apache terminating?:\n/afs/usgs.gov/www/water/cgi-bin/h2o.cgi\nwater.usgs.gov-error_log-2003-09-29:[Mon Sep 29 13:30:59 2003] [error] [client\n130.11.160.96] (3)No such process: cgid daemon is gone; is Apache terminating?:\n/www/errors/include/bottom.html, referer: http://water.usgs.gov/usgs/wrd_table.html\nwater.usgs.gov-error_log-2003-09-29:[Mon Sep 29 13:31:00 2003] [error] [client\n64.68.82.170] (3)No such process: cgid daemon is gone; is Apache terminating?:\n/afs/usgs.gov/www/water/cgi-bin/h2o.cgi\n\nSince all web pages filter through CGI, this effectively crashes the site."}, {"count": 1, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "is_private": false, "id": 45341, "time": "2003-10-10T12:31:41Z", "bug_id": 23533, "creation_time": "2003-10-10T12:31:41Z", "text": "Resolving the problem that caused the cgid daemon to exit:\n\nThe upcoming 2.0.48 resolves one particular bug that can cause the cgid daemon\nto exit on Solaris.  Please let us know after moving to 2.0.48 whether or not\nthe cgid daemon still exits intermittently.\n\nRecovering after such a problem:\n\nThe patch below causes the cgid daemon to restart automatically after such a\nproblem.  The patch has been committed to Apache 2.1-dev but not yet merged into\nthe stable tree because it relies on a behavior specific to the worker MPM.  I\nwould not hesitate to use the patch on Solaris with the worker MPM though.  This\nshould resolve the long-term affects of whatever problem causes the cgid daemon\nto exit.\n\nhttp://cvs.apache.org/viewcvs.cgi/httpd-2.0/modules/generators/mod_cgid.c.diff?r1=1.151&r2=1.152\n"}, {"count": 2, "tags": [], "text": "Should that patch be used on top of 2.0.48, or is that change already in \n2.0.48?", "is_private": false, "bug_id": 23533, "id": 46436, "time": "2003-10-29T12:54:00Z", "creator": "parramorej@homes.com", "creation_time": "2003-10-29T12:54:00Z", "attachment_id": null}, {"count": 3, "attachment_id": null, "creator": "trawick@apache.org", "text": "The patch is still not in stable branch (2.0.x) because it has an inappropriate\ndependency on some behavior of the worker MPM.\n\nIf you can't get the patch to apply to the latest mod_cgid from stable branch,\nlet me know and I'll post a new one.\n", "id": 46437, "time": "2003-10-29T13:00:46Z", "bug_id": 23533, "creation_time": "2003-10-29T13:00:46Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 23533, "text": "patch pointed to previously is still appropriate for use with stable branch\n\nthis problem was fixed in Apache 2.1-dev some time back with PR 19849, but a\ncouple of issues prevented it from being merged into stable branch...  those are\nnow resolved, so hopefully the fix can appear in a 2.0 release before too\nterribly long\n\n\n*** This bug has been marked as a duplicate of 19849 ***", "id": 49071, "time": "2003-12-13T22:28:04Z", "creator": "trawick@apache.org", "creation_time": "2003-12-13T22:28:04Z", "is_private": false, "attachment_id": null}]