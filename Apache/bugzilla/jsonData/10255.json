[{"count": 0, "tags": [], "creator": "vicentesalvador@netscape.net", "attachment_id": null, "text": "FOP needs to get the Classloader of org.apache.fop.fo.ElementMapping.class to\nstart, but in TC4.0.4 we cannot access to classloader. This is an issue that\nblocks the use of embeded FOP in TC 4.0.4\n\nThis is due a security change on TC, so the best solution is to patch FOP and\ndon't say \"This is a TC issue\"\n\n\n\n\n       // add mappings from available services\n        Enumeration providers =\n            Service.providers(org.apache.fop.fo.ElementMapping.class);\n        if (providers != null) {\n            while (providers.hasMoreElements()) {\n                String str = (String)providers.nextElement();\n                try {\n                    addElementMapping(str);\n                } catch (IllegalArgumentException e) {}\n\n            }\n        }\n\n\n\n\nclass Service {\n\n    static Hashtable providerMap = new Hashtable();\n\n    public static synchronized Enumeration providers(Class cls) {\n        ClassLoader cl = cls.getClassLoader(); ----- wil return null on tomcat\n4.04!!!!\n        String serviceFile = \"META-INF/services/\" + cls.getName();", "id": 18613, "time": "2002-06-26T16:11:01Z", "bug_id": 10255, "creation_time": "2002-06-26T16:11:01Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 10255, "attachment_id": null, "is_private": false, "id": 45703, "time": "2003-10-15T00:23:50Z", "creator": "christian.geisert@isu-gmbh.de", "creation_time": "2003-10-15T00:23:50Z", "text": "A fix for this has been recently ported from trunk back to maintenance branch\n\nSee\nhttp://nagoya.apache.org/eyebrowse/ReadMsg?listName=fop-cvs@xml.apache.org&msgNo=2136"}, {"count": 2, "tags": [], "bug_id": 10255, "attachment_id": null, "id": 156071, "time": "2012-04-01T06:56:39Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T06:56:39Z", "is_private": false, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed"}]