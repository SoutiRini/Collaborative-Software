[{"count": 0, "tags": [], "bug_id": 22345, "is_private": false, "id": 42606, "attachment_id": null, "creator": "ursus@ursus-von-den-haflingern.de", "creation_time": "2003-08-12T08:33:33Z", "time": "2003-08-12T08:33:33Z", "text": "Hi!\n\nTiger adds extensions to the Java Programming Language (JSR201). One is\n\"Enumerations\", which required to add the new keyword enum.\n\nI just made a grep (grep -lrw) over some sources and found some Apache projects\nusing enum as a word.\n\nTo be compliant with the new specification, please check that enum is not used\nas a variable, field or method name.\n\nRegards,\nRobert"}, {"count": 1, "tags": [], "bug_id": 22345, "attachment_id": null, "text": "Good hint.\n\nI am not familiar with checkstyle (checkstyle.sourceforge.net). Do you know how \nto include this as a new check? The checkstyle config for Ant is in \nhttp://cvs.apache.org/viewcvs.cgi/ant/src/etc/checkstyle/checkstyle-config and \nthe appropriate buildfile in http://cvs.apache.org/viewcvs.cgi/ant/check.xml.", "id": 42618, "time": "2003-08-12T12:24:53Z", "creator": "jan@materne.de", "creation_time": "2003-08-12T12:24:53Z", "is_private": false}, {"count": 2, "tags": [], "creator": "ursus@ursus-von-den-haflingern.de", "text": "Hm - I'm not familiar with checkstyle, too.", "id": 42620, "time": "2003-08-12T12:30:06Z", "bug_id": 22345, "creation_time": "2003-08-12T12:30:06Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 22345, "attachment_id": null, "is_private": false, "id": 42622, "time": "2003-08-12T13:12:11Z", "creator": "jan@materne.de", "creation_time": "2003-08-12T13:12:11Z", "text": "I am reading checkstyles doc. My first impression is that there is no build-in \npossibility (the IllegalRegexp module will find a valid 'enum' statement, too - \nI think). But it seems that it\u00b4s easy to write custom Checks.\n\nI will try that. (But my local checkstyle installation is broken - something \nwith the used <import> task).\n\n\nDuplicated project name in import. Project CheckAnt defined first in C:\\seu\\cvs-\ndownloads\\ant\\ant\\check.xml and again in C:\\seu\\cv\ns-downloads\\ant\\ant\\build.xml\n\nBUILD FAILED\njava.util.ConcurrentModificationException\n        at \njava.util.AbstractList$Itr.checkForComodificationAbstractList.java:448)\n        at java.util.AbstractList$Itr.next(AbstractList.java:419)\n        at org.apache.tools.ant.Target.execute(Target.java:316)\n        at org.apache.tools.ant.helper.ProjectHelper2.parse\n(ProjectHelper2.java:127)\n        at org.apache.tools.ant.ProjectHelper.configureProject\n(ProjectHelper.java:117)\n        at org.apache.tools.ant.Main.runBuild(Main.java:637)\n        at org.apache.tools.ant.Main.startAnt(Main.java:217)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:161)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:85)\n\nWell, maybe tomorrow :-)"}, {"count": 4, "tags": [], "bug_id": 22345, "attachment_id": null, "is_private": false, "id": 42623, "time": "2003-08-12T13:17:23Z", "creator": "peter.reilly@corvil.com", "creation_time": "2003-08-12T13:17:23Z", "text": "Hi Jan,\nYou have ran into a couple of problems that\nhave been fixed in current CVS.\nPeter"}, {"count": 5, "tags": [], "bug_id": 22345, "is_private": false, "id": 42624, "attachment_id": null, "creator": "jan@materne.de", "creation_time": "2003-08-12T13:19:59Z", "time": "2003-08-12T13:19:59Z", "text": "Thanks - I will recompile (tomorrow :-)"}, {"count": 6, "tags": [], "creator": "conor@apache.org", "text": "This is going to be a massive PITA :-(", "id": 42635, "attachment_id": null, "bug_id": 22345, "creation_time": "2003-08-12T15:08:42Z", "time": "2003-08-12T15:08:42Z", "is_private": false}, {"count": 7, "tags": [], "creator": "ddevienne@lgc.com", "text": "But such a useful feature ;-)\n\nNo need for EnumeratedAttribute anymore (stay for backward compat anymore of \ncourse), which was really a pain to use programmatically. The new enum facility \nof 1.5 has everything Ant needs to convert from String to Enum I think. --DD", "id": 42636, "time": "2003-08-12T15:19:32Z", "bug_id": 22345, "creation_time": "2003-08-12T15:19:32Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 22345, "is_private": false, "id": 42672, "attachment_id": null, "creator": "jan@materne.de", "creation_time": "2003-08-13T12:41:03Z", "time": "2003-08-13T12:41:03Z", "text": "I have written a Check for checkstyle. It seems to work.\nThat check logs an error if a reserved word is used as identifier. I \nlistet the keywords described in \nhttp://java.sun.com/docs/books/tutorial/java/nutsandbolts/_keywords.html, the\nwords \"true\", \"false\", \"null\" (described there), \"assert\" (JDK 1.4) and \"enum\"\n(JDK 1.5).\n\nFor running the test, include the JAR in the classpath and add that statement \ninto the src\\etc\\checkstyle\\checkstyle-config (somewhere under the \"TreeWalker\" \nmodule).\n      <module \nname=\"com.puppycrawl.tools.checkstyle.api.checks.naming.WrongUseOfReservedWordsC\nheck\"/>\n\n\n\nYou can specify a list of alternative reserved words as parameter. E.g. for a \nquick test I wanted to list all sources which uses \"handleOutput\".\n    <module \nname=\"com.puppycrawl.tools.checkstyle.api.checks.naming.WrongUseOfReservedWordsC\nheck\">\n      <property name=\"reservedWords\" value=\"handleOutput\"/>\n    </module>\n\n\nAfter finishing the doc- and test-stuff I try to contribute that to the \ncheckstyle project. Until then I upload the sources, JAR and the check-result."}, {"count": 9, "tags": [], "text": "Created attachment 7794\nSources for the Check", "attachment_id": 7794, "bug_id": 22345, "id": 42673, "time": "2003-08-13T12:41:09Z", "creator": "jan@materne.de", "creation_time": "2003-08-13T12:41:09Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 22345, "attachment_id": 7795, "text": "Created attachment 7795\nCompiled Check", "id": 42674, "time": "2003-08-13T12:41:14Z", "creator": "jan@materne.de", "creation_time": "2003-08-13T12:41:14Z", "is_private": false}, {"text": "Created attachment 7796\nZIP containing the checkstyle report in XML and HTML", "tags": [], "bug_id": 22345, "is_private": false, "count": 11, "id": 42675, "time": "2003-08-13T12:41:19Z", "creator": "jan@materne.de", "creation_time": "2003-08-13T12:41:19Z", "attachment_id": 7796}, {"count": 12, "tags": [], "text": "Using Jan's check jar file, I have tracked down the\nusages of enum and replaced them with e. This in\nsome cases clashes with exception e, in those cases\nI have changes exception e to exception ex.\n", "attachment_id": null, "bug_id": 22345, "id": 42684, "time": "2003-08-13T15:20:25Z", "creator": "peter.reilly@corvil.com", "creation_time": "2003-08-13T15:20:25Z", "is_private": false}, {"count": 13, "tags": [], "creator": "stevel@apache.org", "text": "What happens if you use enum in a package name, BTW?", "id": 42697, "attachment_id": null, "bug_id": 22345, "creation_time": "2003-08-13T19:19:49Z", "time": "2003-08-13T19:19:49Z", "is_private": false}, {"count": 14, "tags": [], "bug_id": 22345, "attachment_id": null, "is_private": false, "id": 42719, "time": "2003-08-14T08:20:11Z", "creator": "ursus@ursus-von-den-haflingern.de", "creation_time": "2003-08-14T08:20:11Z", "text": "I tried it - and javac returned a warning but compiled successfully. But this\ndoes not mean, that it will compile without errors in future builds of J2SDK 1.5.\n\n--------------------------------------------------------------------------\njavac -target 1.5 bla/enum/test/Test.java\nbla/enum/test/Test.java:1: warning: as of release 1.5, enum is a keyword, and\nmay not be used as an identifier\npackage bla.enum.test;\n            ^\n1 warning\n--------------------------------------------------------------------------\n"}, {"count": 15, "tags": [], "creator": "jan@materne.de", "text": "I submitted the Check to checkstyle project: \nhttp://sourceforge.net/tracker/index.php?\nfunc=detail&aid=791035&group_id=29721&atid=397080", "id": 42965, "attachment_id": null, "bug_id": 22345, "creation_time": "2003-08-19T07:31:13Z", "time": "2003-08-19T07:31:13Z", "is_private": false}]