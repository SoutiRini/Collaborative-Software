[{"count": 0, "tags": [], "bug_id": 45356, "attachment_id": null, "is_private": false, "id": 118352, "time": "2008-07-07T11:07:17Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2008-07-07T11:07:17Z", "text": "1) qsort() CPU usage\n\nAt the end of a run, ab uses qsort() a couple of times to sort result data. This is only needed if one wants to get confidence data, or percentile data.\n\nModern machines easily handle millions of requests in a very few minutes. The qsort() processing time at the end of the run gets to long for such big numbers.\n\nAdd a flag to disable qsort runs (automatically also disables confidence and percentile data, since they rely on sorting the request data).\n\n2) memory usage\n\nab saves detail data for each request in memory during the run. Again for huge numbers of requests, this gets expensive.\n\nAdd a flag to disable request data saving. All statistics, that are available via incremental computations still get produced (min/max/mean/total).\n\nAll patches are based on the final result of the patches in issue 45355.\n\nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=45355\n\nI can provide patches against trunk, but 45355 makes the changes nicer."}, {"count": 1, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": 22232, "id": 118353, "time": "2008-07-07T11:08:46Z", "bug_id": 45356, "creation_time": "2008-07-07T11:08:46Z", "is_private": false, "text": "Created attachment 22232\nUse incremental statistics for min/max/total"}, {"count": 2, "tags": [], "bug_id": 45356, "attachment_id": 22233, "is_private": false, "id": 118354, "time": "2008-07-07T11:09:13Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2008-07-07T11:09:13Z", "text": "Created attachment 22233\nAdd \"-Q\" to disable qsort()"}, {"count": 3, "tags": [], "creator": "rainer.jung@kippdata.de", "attachment_id": 22234, "id": 118355, "time": "2008-07-07T11:09:48Z", "bug_id": 45356, "creation_time": "2008-07-07T11:09:48Z", "is_private": false, "text": "Created attachment 22234\nAdd '-s' to disable keeping all request data in memory"}]