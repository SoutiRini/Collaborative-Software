[{"count": 0, "tags": [], "text": "apr_socket_opt_get(socket, APR_SO_SNDBUF, &opt) and apr_socket_opt_get(socket,\nAPR_SO_RCVBUF, &opt) always set opt to 0. It would be useful if these calls\ninstead returned the send buffer and receive buffer sizes respectively.", "attachment_id": null, "id": 106844, "creator": "celving@netflix.com", "time": "2007-08-16T19:21:03Z", "bug_id": 43152, "creation_time": "2007-08-16T19:21:03Z", "is_private": false}, {"count": 1, "tags": [], "creator": "celving@netflix.com", "attachment_id": 20671, "text": "Created attachment 20671\nImplement APR_SO_SNDBUF and APR_SO_RCVBUF in apr_socket_opt_get", "id": 106845, "time": "2007-08-16T19:23:44Z", "bug_id": 43152, "creation_time": "2007-08-16T19:23:44Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 43152, "text": "Why using setsockopt in the SO_RCVBUF case?", "id": 106871, "time": "2007-08-17T12:59:58Z", "creator": "rpluem@apache.org", "creation_time": "2007-08-17T12:59:58Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 43152, "attachment_id": 20671, "is_private": false, "id": 106872, "time": "2007-08-17T13:06:49Z", "creator": "celving@netflix.com", "creation_time": "2007-08-17T13:06:49Z", "text": "Comment on attachment 20671\nImplement APR_SO_SNDBUF and APR_SO_RCVBUF in apr_socket_opt_get\n\nPatch mistakenly used setsockopt instead of getsockopt for SO_RCVBUF"}, {"count": 4, "tags": [], "creator": "celving@netflix.com", "is_private": false, "text": "Created attachment 20676\nFix getsockopt/setsockopt typo in previous patch", "id": 106873, "time": "2007-08-17T13:07:36Z", "bug_id": 43152, "creation_time": "2007-08-17T13:07:36Z", "attachment_id": 20676}, {"count": 5, "tags": [], "bug_id": 43152, "attachment_id": null, "is_private": false, "id": 106875, "time": "2007-08-17T13:30:49Z", "creator": "rpluem@apache.org", "creation_time": "2007-08-17T13:30:49Z", "text": "Please keep in mind the following comment from the Linux man page for SO_RCVBUF,\nSO_RCVBUF:\n\n              Sets  or  gets  the maximum socket receive buffer in bytes.  The\n              kernel doubles this value (to allow space for bookkeeping  over-\n              head)  when it is set using setsockopt(), and this doubled value\n              is returned by getsockopt().\n\nThere is no such hint on the man page of e.g. Solaris. In the case that other OS\n(e.g. Solaris) do not modify the buffer size given with setsockopt, your patch\nis not portable. Especially if someone wants to use the result of\napr_socket_opt_get for a apr_socket_opt_set in a platform independent way."}, {"count": 6, "attachment_id": null, "creator": "celving@netflix.com", "is_private": false, "id": 106876, "time": "2007-08-17T14:14:10Z", "bug_id": 43152, "creation_time": "2007-08-17T14:14:10Z", "tags": [], "text": "I don't think this patch introduces any new portability issues. The semantics of\nthe current apr_socket_opt_set(..., APR_SO_SNDBUF, ...) aren't portable, but\nthis patch shouldn't change that."}]