[{"count": 0, "tags": [], "text": "Hi,\n\nI tried to authenticate a site with DBD and the remote MySQL database is not reachable via IPv6 (the IPv4 connection working without any problem). The Apache (httpd-2.2.15-59.el6.x86_64) is running on a RH6 system, and from the APR, APR-Util and APR-Util-MySQL has been installed the latest version.\n\n[root@TesztRH6 apr-1.6.2]# rpm -qa | grep -i apr | sort\napr-1.6.2-1.x86_64\napr-devel-1.6.2-1.x86_64\napr-util-1.6.0-1.x86_64\napr-util-ldap-1.6.0-1.x86_64\napr-util-mysql-1.6.0-1.x86_64\n\nThe IPv6 theoretically enabled, because when I created the rpm from the tar.bz2, I seen this in the compiling log: \n\nChecking for IPv6 Networking support...\nchecking for library containing getaddrinfo... none required\nchecking for library containing gai_strerror... none required\nchecking for library containing getnameinfo... none required\nchecking for gai_strerror... yes\nchecking for working getaddrinfo... yes\nchecking for negative error codes for getaddrinfo... yes\nchecking for working getnameinfo... yes\nchecking for sockaddr_in6... yes\nchecking for sockaddr_storage... yes\nchecking for sockaddr_un... yes\nchecking for working AI_ADDRCONFIG... yes\nchecking if APR supports IPv6... yes\n\nThe params in /etc/httpd/conf.d/dbd_mysql.conf file: \nDBDParams host=2002:5cf9:e053:...,port=3306,dbname=database,user=root,pass=password\nI tried to connect the host with [ ], but nothing changed.\n\nThe /var/log/httpd/error_log file:\n[Mon Oct 02 11:55:06 2017] [notice] Apache/2.2.15 (Unix) DAV/2 PHP/5.3.3 configured -- resuming normal operations\n[Mon Oct 02 11:55:06 2017] [error] (20014)Internal error: DBD: Can't connect to mysql\n[Mon Oct 02 11:55:06 2017] [error] (20014)Internal error: DBD: failed to initialise\n[Mon Oct 02 11:55:06 2017] [crit] (20014)Internal error: DBD: child init failed!\n\nWhen I tried to connect to the MySQL DB server with mysql command and with IPv6 and connection working properly.\n\n[root@TesztRH6 apr-1.6.2]# mysql -V\nmysql  Ver 14.14 Distrib 5.7.19, for Linux (x86_64) using  EditLine wrapper\n\n[root@TesztRH6 apr-1.6.2]# mysql --host=2002:5cf9:e053:... -u root -p\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 116\nServer version: 5.5.5-10.1.26-MariaDB MariaDB Server\n\nCopyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql>\n\nThe situation is the same with Apache 2.4 (httpd24-httpd-2.4.6-5.el6) too.\n\nDo you have any idea why not working the IPv6 connection?\n\nRegards,\nOtt\u00f3", "attachment_id": null, "id": 201262, "creator": "dacccs@gmail.com", "time": "2017-10-02T13:05:47Z", "bug_id": 61582, "creation_time": "2017-10-02T13:05:47Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "wrowe@apache.org", "is_private": false, "count": 1, "id": 201296, "time": "2017-10-04T16:33:22Z", "bug_id": 61582, "creation_time": "2017-10-04T16:33:22Z", "text": "That's not a valid hostname, did you try square brackets?"}, {"attachment_id": null, "tags": [], "bug_id": 61582, "text": "(In reply to William A. Rowe Jr. from comment #1)\n> That's not a valid hostname, did you try square brackets?\n\nYes, I tried with square bracket too, but the message is the same.\n\n[Wed Oct 04 22:11:37 2017] [error] (20014)Internal error (specific information not available): DBD: Can't connect to mysql\n[Wed Oct 04 22:11:37 2017] [error] (20014)Internal error (specific information not available): DBD: failed to initialise", "count": 2, "id": 201301, "time": "2017-10-05T10:01:03Z", "creator": "dacccs@gmail.com", "creation_time": "2017-10-05T10:01:03Z", "is_private": false}]