[{"count": 0, "tags": [], "bug_id": 12631, "text": "Hi Team,\n\n\nI'm having my thirdparty module \ndevelopment for apache blocked by a \nbug in the configure script.\n\nFor over a year I have been writing \nspecial modules for apache.  One \nI have written is over 8,000 lines \nof code in 5 files.  One file is \nof couse mod_thirdparty.c \nmod_thirdparty needs its own directory \nlike mod_echo or mod_ssl do.\n\nI got mod_thirdparty to work fine \nfor apache 1.2.X series on pc's using \noperating systems solaris, FreeBSD, redhat 7.2 \nand redhat 7.3 using the following call to the configure script:\n============================================================================\nCC=\"gcc -Wall -pedantic\" \\\nOPTIM=\"-fpic -fschedule-insns2 -O2\" \\\nSSL_BASE=../openssl-$Open_SSL_Version \\\nEAPI_MM=SYSTEM \\\n./configure \\\n\t--prefix=/usr/local/apache \\\n\t--enable-module=ssl \\\n\t--enable-module=unique_id \\\n\t--enable-module=info --enable-shared=info \\\n\t--enable-module=rewrite --enable-shared=rewrite \\\n\t--enable-module=log_referer --enable-shared=log_referer \\\n\t--enable-module=log_agent --enable-shared=log_agent \\\n\t--activate-module=src/modules/thirdparty/mod_thirdparty.o \\\n\t--enable-module=thirdparty --enable-shared=thirdparty \\\n\t--enable-rule=EAPI \\\n\t--enable-rule=SHARED_CHAIN \\\n\t--enable-rule=SHARED_CORE \n============================================================================\n\n\n\n\nNow, for apache 2.0.X\n\nOk, I rewrote all the code for the apr, api, \nand apache 2.0.X\n\nHave tried countless variations of the \nconfigure script call.\n\nI am trying to build my thirdparty module \nusing the following script (on FreeBSD in this case):\n============================================================================\n\n#!/bin/sh\n\ncd httpd-2.0.40\n\nmake clean\n\nCFLAGS=\"-g -Wall -O2\" \\\n./configure --prefix=/usr/local/apache2 \\\n--disable-info \\\n--disable-status \\\n--enable-maintainer-mode \\\n--enable-so \\\n--enable-ssl \\\n--enable-echo \\\n--enable-experimental \\\n--enable-rewrite=shared \\\n--enable-imap=shared \\\n--enable-log_config=shared \\\n--enable-unique_id=shared \\\n--enable-thirdparty=shared \n\nmake\n\ncd ..\n\n#end script\n\n============================================================================\n\n\nProblem is I still have to do the following:\n\n1) Before I run the script I must build the \nhttpd-2.0.40/modules/thirdpary subdirectory copy \nall of my source code to that location.\n\n2) copy: .deps, .indent.pro, Makefile, Makefile.in, \nNWGNUmakefile, modules.mk, and config.m4 and \nsubdirectory .libs from the httpd-2.0.X/modules/echo \ndirectory  ./configure already must have been run \nusing ./configure --enable-echo=shared\n\n3) Edit all of the above files and change 'echo' to 'thirdparty'\n\n3) Edit the httpd-2.0.X/build/config_vars.mk file and add \n'thirdparty' to the list in the lines that begin with \n'MODULE_DIRS=' and 'DSO_MODULES='\n\n4) rerun the make command in httpd-2.0.X directory.\n\nThen it works on FreeBSD and redhat 7.2 and redhat 7.3\n\n\nIs there a bug in the configure script?\n\nIs appache 2.0.X not able to build a thirdparty \nmodule from source code in its own directory? \nhttpd-2.0.X/modules/thirdparty\n\n\n-Mark-    \n\n\nI teach people how to use apache in college classes \nso if you help me it will help many other people.\n\n\nSystems Analyst and computer professor\n\nAS, AAS, BS, MSEE \n\nmember of Sage, Usenix, Tau Beta Pi, IEEE Computer Society, Sigma Xi Resesarch \nSociety", "id": 22848, "time": "2002-09-13T20:20:50Z", "creator": "rowe@farpointer.net", "creation_time": "2002-09-13T20:20:50Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 12631, "is_private": false, "text": "This is actually a doc bug.  The method to include third-party modules\nin the main build is completely undocumented.  ", "id": 24672, "time": "2002-10-17T01:47:35Z", "creator": "slive@apache.org", "creation_time": "2002-10-17T01:47:35Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "rowe@farpointer.net", "attachment_id": null, "text": "Hi Joshua Slive 2002-10-17 01:47 -------\n\nYou said \"This is actually a doc bug.  The method to include third-party modules\nin the main build is completely undocumented\"  Please tell me is there a method \nand/or what is the method for including a third-party module in the main build, \nwhere the module has its code in multiple files in its own directory, the \ndirectory may be under the modules some other directory.\n\n-Mark-\n\n\n", "id": 24780, "time": "2002-10-17T13:48:04Z", "bug_id": 12631, "creation_time": "2002-10-17T13:48:04Z", "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 12631, "text": "make summary more specific", "id": 26845, "time": "2002-11-23T02:37:23Z", "creator": "trawick@apache.org", "creation_time": "2002-11-23T02:37:23Z", "tags": [], "is_private": false}, {"count": 4, "attachment_id": null, "bug_id": 12631, "text": "With the new doc at\nhttp://httpd.apache.org/docs-2.0/programs/configure.html\nThe --with-module option is at least basically documented.", "id": 55689, "time": "2004-04-12T23:41:29Z", "creator": "slive@apache.org", "creation_time": "2004-04-12T23:41:29Z", "tags": [], "is_private": false}]