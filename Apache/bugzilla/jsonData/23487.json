[{"count": 0, "attachment_id": null, "creator": "w.h.schraal@wisdom.nl", "is_private": false, "id": 44845, "time": "2003-09-29T16:06:46Z", "bug_id": 23487, "creation_time": "2003-09-29T16:06:46Z", "tags": [], "text": "When trying this using two remote servers, specified in the jmeter.properties, I\nget the following stacktrace:\n\n[schraal@spiff jakarta-jmeter-1.9.1]$ java -jar ./bin/ApacheJMeter.jar -n -r -t\ntests/Vanilla\\ Servlet.jmx -p bin/jmeter.properties\nCreated the tree successfully\njava.lang.IndexOutOfBoundsException: Index: -1, Size: 6\n        at java.util.LinkedList.entry(LinkedList.java:356)\n        at java.util.LinkedList.set(LinkedList.java:313)\n        at\norg.apache.jorphan.collections.ListedHashTree.replace(ListedHashTree.java:171)\n        at\norg.apache.jmeter.engine.ConvertListeners.addNode(ConvertListeners.java:59)\n        at org.apache.jorphan.collections.HashTree.traverse(HashTree.java:893)\n        at\norg.apache.jmeter.engine.ClientJMeterEngine.run(ClientJMeterEngine.java:148)\n        at java.lang.Thread.run(Thread.java:536)\n\n\nThe test does run, but only with one machine.\nDid the same test using the nightly from the 9th of september. This gives\nbasically the same result:\n\n[schraal@spiff jakarta-jmeter-20030909]$ java -jar ./bin/ApacheJMeter.jar -n -r\n-t tests/Vanilla\\ Servlet.jmx -p bin/jmeter.properties\nCreated the tree successfully\njava.lang.IndexOutOfBoundsException: Index: -1, Size: 6\n        at java.util.LinkedList.entry(LinkedList.java:356)\n        at java.util.LinkedList.set(LinkedList.java:313)\n        at\norg.apache.jorphan.collections.ListedHashTree.replace(ListedHashTree.java:170)\n        at\norg.apache.jmeter.engine.ConvertListeners.addNode(ConvertListeners.java:58)\n        at org.apache.jorphan.collections.HashTree.traverse(HashTree.java:1015)\n        at\norg.apache.jmeter.engine.ClientJMeterEngine.run(ClientJMeterEngine.java:148)\n        at java.lang.Thread.run(Thread.java:536)"}, {"count": 1, "tags": [], "bug_id": 23487, "is_private": false, "text": "In org.apache.jmeter.engine.ClientJMeterEngine.run() I have put an extra try-\ncatch block:\n\n        try {\n            theTree.traverse(sampleListeners);\n        }\n        catch (java.lang.IndexOutOfBoundsException e) {\n            System.out.println(\"A java.lang.IndexOutOfBoundsException appeared.\"\n                                + \"\\nApparently the Listener is already \nreplaced.\"\n                                + \"\\nTry to move on...\");\n        }\n\nThat seems to work. The problem was that in the HashTree corresponding to the \ntestplan, for remote testing, any ResultCollector has to be replaced bij a \nRemoteListenerWrapper. This replacement was done bij all instances of \nClientJMeterEngine (one per remote testPC). Only the first of these instances \nsucceeded in doing this. The idea behind above workaround is that once the \nreplacement is done, all is OK, and the other ClientJMeterEngine's don't have \nto bother.\n\nThis workaround is not THE solution, it seems to me. The code for replacing the \nResultCollector should be somewhere else probably.", "id": 50728, "time": "2004-01-19T12:19:06Z", "creator": "dirk.temme@hoogehuys.nl", "creation_time": "2004-01-19T12:19:06Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 23487, "text": "Setting priority to high, since it carries patch code.", "id": 51025, "time": "2004-01-23T01:39:47Z", "creator": "jsalvata@atg.com", "creation_time": "2004-01-23T01:39:47Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "creator": "sebb@apache.org", "is_private": false, "id": 51957, "time": "2004-02-09T00:49:23Z", "bug_id": 23487, "creation_time": "2004-02-09T00:49:23Z", "tags": [], "text": "Updated code to add the suggested patch (but changed the println to log.warn)\n\nLeft TODO message in code to show it needs to be revisited; setting resolution \naccordingly."}, {"count": 4, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "See also bug 39792", "id": 106932, "time": "2007-08-20T05:39:44Z", "bug_id": 23487, "creation_time": "2007-08-20T05:39:44Z", "is_private": false}, {"id": 106937, "tags": [], "bug_id": 23487, "is_private": false, "count": 5, "text": "Additional testing shows this is now fixed", "time": "2007-08-20T07:07:52Z", "creator": "sebb@apache.org", "creation_time": "2007-08-20T07:07:52Z", "attachment_id": null}]