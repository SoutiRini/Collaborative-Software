[{"count": 0, "attachment_id": null, "creator": "ncbp@wheel.dk", "text": "After upgrading from 2.0.28 to 2.0.32 parsing of VHOST configuration for IPv6\n(and subsequently the servers handling of those VHOSTS) appears to be broken.\nThe following VHOST config should work:\n\n---snip---\n\nNameVirtualHost 192.168.75.7:80\nNameVirtualHost [2001:6c8:f::7]:80\n\n<VirtualHost 192.168.75.7:80 [2001:6c8:f::7]:80>\n\nDocumentRoot /usr/local/www/data\nServerName www.thisdomain.dk\nServerAlias www\n\nAlias /manual \"/usr/local/share/doc/apache\"\n\n<Directory \"/usr/local/www/data\">\n    Options Indexes FollowSymLinks MultiViews\n    AllowOverride None\n    Order allow,deny\n    Allow from all\n</Directory>\n\n<Directory \"/usr/local/share/doc/apache\">\n    Options Indexes FollowSymLinks MultiViews\n    AllowOverride None\n    Order allow,deny\n    Allow from all\n</Directory>\n\nScriptAlias /cgi-bin/ \"/usr/local/www/cgi-bin/\"\nScriptAlias /cgi/ \"/usr/local/www/cgi-bin/\"\n\n<Directory \"/usr/local/www/cgi-bin\">\n    AllowOverride None\n    Options None\n    Order allow,deny\n</Directory>\n\n</VirtualHost>\n\n<VirtualHost 192.168.75.7:80 [2001:6c8:f::7]:80>\n\nDocumentRoot /usr/local/www/www.xfree86.org/htdocs\nServername xfree86.thisdomain.dk\nServerAlias xfree86\nTransferLog /var/log/apache/xfree86-httpd-access.log\nErrorLog /var/log/apache/xfree86-httpd-access.log\n\n<Directory \"/usr/local/www/www.xfree86.org\">\n    Options Indexes FollowSymLinks MultiViews\n    AllowOverride None\n    Order allow,deny\n    Allow from all\n</Directory>\n\nScriptAlias /cgi-bin/ \"/usr/local/www/www.xfree86.org/cgi-bin/\"\nScriptAlias /cgi/ \"/usr/local/www/www.xfree86.org/cgi-bin/\"\n\n<Directory \"/usr/local/www/www.xfree86.org/cgi-bin\">\n    AllowOverride None\n    Options None\n    Order allow,deny\n    Allow from all\n</Directory>\n\n</VirtualHost>\n\n---snip---\n\n - but starting httpd (as well as testing with \"-t -D DUMP_VHOST\") emits the\nfollowing error:\n\nmonster# /usr/local/etc/rc.d/apache.sh start\n[Sun Mar 24 19:05:14 2002] [warn] VirtualHost 2001:6c8:f::7:80 overlaps with\nVirtualHost 2001:6c8:f::7:80, the first has precedence, perhaps you need a\nNameVirtualHost directive\n[Sun Mar 24 19:05:14 2002] [warn] NameVirtualHost 2001:6c8:f::7:80 has no\nVirtualHosts\n\n - so the parsing of IPv6 addresses while assigning servernames to VHOST IP\naddresses seems somehow broken.\n\nRegards,\nNiels Chr. Bank-Pedersen", "id": 12239, "time": "2002-03-24T18:12:29Z", "bug_id": 7415, "creation_time": "2002-03-24T18:12:29Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "trawick@apache.org", "attachment_id": null, "id": 12240, "time": "2002-03-24T18:25:05Z", "bug_id": 7415, "creation_time": "2002-03-24T18:25:05Z", "is_private": false, "text": "This was fixed soon after 2.0.32 was released.  This patch should be\nsufficient:\n\nhttp://cvs.apache.org/viewcvs.cgi/httpd-2.0/server/vhost.c.diff?r1=1.67&r2=1.68\n\nThe fix will be in the next release of Apache 2.0, of course.\n\nThanks for your report, and thanks for using Apache 2.0!"}]