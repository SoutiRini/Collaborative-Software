[{"count": 0, "tags": [], "bug_id": 40352, "text": "Tested on Solaris 10/Sun Studio 11/AMD-64 and Slackware 10.2/gcc/Pentium 4 with \nMySQL 5.0.24 / Apache 2.2.3 / PHP 5.1.6 / apr_dbd_mysql.c\n\nAfter patching apu.h (apache configure fails to find mysql_init() in \nlibmysqlclient_r, another bug), the makefile in apr-utils, building apache and \nphp, creating user and database in mysql, adding the DBDriver and DBParams in \nhttpd.conf, starting apache generates the following messages in error_log\n\n##############\n[Tue Aug 29 17:46:11 2006] [info] Server: Apache/2.2.3, Interface: \nmod_ssl/2.2.3, Library: OpenSSL/0.9.8a\n[Tue Aug 29 17:46:11 2006] [crit] (20014)Internal error: DBD: Can't connect to \nmysql\n[Tue Aug 29 17:46:11 2006] [crit] (20014)Internal error: DBD: failed to \ninitialise\n[Tue Aug 29 17:46:11 2006] [notice] Apache/2.2.3 (Unix) mod_ssl/2.2.3 \nOpenSSL/0.9.8a DAV/2 PHP/5.1.6 configured -- resuming normal operations\n[Tue Aug 29 17:46:11 2006] [info] Server built: Aug 29 2006 17:31:16\n[Tue Aug 29 17:46:11 2006] [debug] worker.c(1740): AcceptMutex: sysvsem \n(default: sysvsem)\n[Tue Aug 29 17:46:11 2006] [crit] (20014)Internal error: DBD: Can't connect to \nmysql\n[Tue Aug 29 17:46:11 2006] [crit] (20014)Internal error: DBD: failed to \ninitialise\n[Tue Aug 29 17:46:11 2006] [crit] (20014)Internal error: DBD: Can't connect to \nmysql\n[Tue Aug 29 17:46:11 2006] [crit] (20014)Internal error: DBD: failed to \ninitialise\n####################\n\nI'd be happy to email build scripts/patches/more specific messages/test \nresults. Just email me.\n\nGoogleing this problem, it seems I'm not the first to have problems with this \nmodule. Just getting it built seems to also trip up a bunch of MacOS X people.\n\nLooking through the code, there doesn't seem to be any more verbosity available \nat this level.\n\nI've checked the database, no problems connecting by hand. Nothing in the mysql \nlogs about failed attempts.\n\nI've sent an email to the apr_dbd_mysql.c folks as well, hopefully someone can \nhelp figure this out.\n\nThanks.\nJohn G.", "id": 92696, "time": "2006-08-30T01:23:06Z", "creator": "jgg@dolby.com", "creation_time": "2006-08-30T01:23:06Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 40352, "text": "What DBDParams are you using?  What happens if you use the same connection\nstring from AN Other client, from the same system user Apache runs as?  What\nappears in the MySQL log?\n\nI think I ignored this at first because I was waiting for the email you claimed\nto have sent.", "id": 96764, "time": "2006-12-11T07:34:44Z", "creator": "nick@webthing.com", "creation_time": "2006-12-11T07:34:44Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 40352, "text": "No response from OP.  Should be fixed in 2.2.6 anyway.", "id": 107839, "time": "2007-09-07T17:49:23Z", "creator": "nick@webthing.com", "creation_time": "2007-09-07T17:49:23Z", "is_private": false, "attachment_id": null}]