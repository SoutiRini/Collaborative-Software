[{"count": 0, "tags": [], "text": "This is the same bug as PR 4315 from the old database\n(http://bugs.apache.org/index.cgi/full/4315) that never got fixed.\n\nThis .shtml document demonstrates the problem:\n\n===================8<========================\n<PRE>\nwithout TZ (TZ=<!--#echo var=\"TZ\" -->):\n<!--#echo var=\"DATE_LOCAL\" -->\n\n<!--#set var=\"TZ\" value=\"EST\" -->\n\nwith TZ (TZ=<!--#echo var=\"TZ\" -->):\n<!--#echo var=\"DATE_LOCAL\" -->\n</PRE>\n===================8<========================\nThe output doesn't change, despite the change in timezone (tested in timezone CEST).\n\nIt should work like it does in a shell:\n$ date\nMon Apr 22 16:24:16 CEST 2002\n$ TZ=EST date\nMon Apr 22 09:24:19 EST 2002", "is_private": false, "id": 14317, "creator": "sn@neopoly.com", "time": "2002-04-22T14:27:39Z", "bug_id": 8368, "creation_time": "2002-04-22T14:27:39Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "See:\nhttp://httpd.apache.org/docs/env.html\nwhich will tell you that variables you set at runtime with Apache using\nSSI or SetEnv/etc in httpd.conf are not \"real\" environment variables, in the\nsense that they do not get propograted back to the OS environment, but are\nrather stored internally by Apache.\n\nTherefore, if you want to change the environment under which Apache itself\noperates, you must adjust the environment before launching Apache.", "is_private": false, "id": 14318, "creator": "slive@apache.org", "time": "2002-04-22T15:18:45Z", "bug_id": 8368, "creation_time": "2002-04-22T15:18:45Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 8368, "attachment_id": null, "is_private": false, "id": 14342, "time": "2002-04-22T18:09:54Z", "creator": "sn@neopoly.com", "creation_time": "2002-04-22T18:09:54Z", "text": "Even if this is documented behaviour, I think it would be desireable to have\nmod_include's DATE_LOCAL sensitive to TZ. After all, mod_include already deals\nwith these \"fake\" environment variables - it can set and print them.\nThis feature would allow multilingual (MultiViews) websites to convert timezones\nwith Apache.\nPlease consider reopening this bug as a feature request."}, {"count": 3, "tags": [], "bug_id": 8368, "attachment_id": null, "is_private": false, "id": 40024, "time": "2003-07-06T22:49:38Z", "creator": "nd@perlig.de", "creation_time": "2003-07-06T22:49:38Z", "text": "As far as I understand that is not possible in threaded environments (since the\nreal env variables are shared between threads). At least in 2.x that would be a\nproblem (locking all threads just to determine the date or time is not so cool).\n\nThe best way is probably to launch a CGI-script which changes TZ within its\nenvironment and outputs the desired time format (if it's worth the effort at all).\n\nSorry.\n\nThanks for using Apache."}]