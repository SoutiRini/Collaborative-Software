[{"count": 0, "tags": [], "text": "I wish to pass instances of a nested type to a JSP tag. My nested type is \nedu.ucsf.library.ltdl2.history.SearchHistory.Item (static inner class).\nI wrote my TLD like so:\n\n<tag>\t\t\n ...\n <attribute>\n  <name>historyItem</name>\n  <required>no</required>\n  <rtexprvalue>true</rtexprvalue>\n  <type>edu.ucsf.library.ltdl2.history.SearchHistory.Item</type>\n </attribute>\n</tag>\n\nTomcat (Jasper) 5.5.20 then fails with:\n\norg.apache.jasper.JasperException: /WEB-INF/jsp/history/view.jsp(88,14) Unknown \nattribute type (edu.ucsf.library.ltdl2.history.SearchHistory.Item) for \nattribute historyItem.\n\tat org.apache.jasper.compiler.DefaultErrorHandler.jspError\n(DefaultErrorHandler.java:39)\n\tat org.apache.jasper.compiler.ErrorDispatcher.dispatch\n(ErrorDispatcher.java:405)\n\tat org.apache.jasper.compiler.ErrorDispatcher.jspError\n(ErrorDispatcher.java:234)\n\tat \norg.apache.jasper.compiler.Validator$ValidateVisitor.checkXmlAttributes\n(Validator.java:946)\n\tat org.apache.jasper.compiler.Validator$ValidateVisitor.visit\n(Validator.java:710)\n\tat org.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1441)\n\tat org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)\n\tat org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)\n\tat org.apache.jasper.compiler.Validator$ValidateVisitor.visit\n(Validator.java:730)\n\tat org.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1441)\n\tat org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)\n\tat org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)\n\tat org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2219)\n\tat org.apache.jasper.compiler.Node$Root.accept(Node.java:456)\n\tat org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)\n\tat org.apache.jasper.compiler.Validator.validate(Validator.java:1489)\n\tat org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:166)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:295)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:276)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:264)\n\tat org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:563)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:305)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:314)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\n\nIf I use the name \"edu.ucsf.library.ltdl2.history.SearchHistory$Item\" instead, \nI get: \n\norg.apache.jasper.JasperException: Unable to compile class for JSP\n\nAn error occurred at line: 88 in the jsp file: /WEB-INF/jsp/history/view.jsp\nGenerated servlet error:\nThe nested type edu.ucsf.library.ltdl2.history.SearchHistory$Item cannot be \nreferenced using its binary name\n\nAn error occurred at line: 88 in the jsp file: /WEB-INF/jsp/history/view.jsp\nGenerated servlet error:\nThe nested type edu.ucsf.library.ltdl2.history.SearchHistory$Item cannot be \nreferenced using its binary name\n\n\tat org.apache.jasper.compiler.DefaultErrorHandler.javacError\n(DefaultErrorHandler.java:84)\n\tat org.apache.jasper.compiler.ErrorDispatcher.javacError\n(ErrorDispatcher.java:328)\n\tat org.apache.jasper.compiler.JDTCompiler.generateClass\n(JDTCompiler.java:414)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:297)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:276)\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:264)\n\tat org.apache.jasper.JspCompilationContext.compile\n(JspCompilationContext.java:563)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:305)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:314)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\n\nThis appears to be related to bug 35351, where the nested type is used in \n<jsp:useBean> constructs. Thanks for your help.", "is_private": false, "id": 100313, "creator": "renaud+apache@waldura.com", "time": "2007-03-12T10:40:25Z", "bug_id": 41824, "creation_time": "2007-03-12T10:40:25Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "brian@groupee.com", "text": "I am also having this problem with simple tag handlers (as opposed to classic\ntag handlers described here by Renaud).  I get the exact same behavior he\ndescribed when trying to use an inner class for the type attribute in our simple\ntag handler attributes.  Any idea when this might be fixed?", "id": 104047, "time": "2007-06-04T11:34:57Z", "bug_id": 41824, "creation_time": "2007-06-04T11:34:57Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 41824, "is_private": false, "text": "This has been fixed in trunk and proposed for 5.5.x and 6.0.x", "id": 129129, "time": "2009-07-24T12:10:36Z", "creator": "markt@apache.org", "creation_time": "2009-07-24T12:10:36Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 41824, "attachment_id": null, "is_private": false, "id": 129701, "time": "2009-08-15T10:59:57Z", "creator": "markt@apache.org", "creation_time": "2009-08-15T10:59:57Z", "text": "This has been fixed in 6.0.x and will be included in 6.0.21 onwards."}, {"count": 4, "tags": [], "text": "This has been fixed in 5.5.x and will be included in 5.5.29 onwards.", "is_private": false, "bug_id": 41824, "id": 129707, "time": "2009-08-15T11:37:59Z", "creator": "markt@apache.org", "creation_time": "2009-08-15T11:37:59Z", "attachment_id": null}]