[{"count": 0, "tags": [], "creator": "larry@opennms.org", "text": "I am upgrading from Tomcat 4.0b1 to b3, and I set up a context for my webapp in\nthe server.xml as follows:\n\n<Context path=\"/opennms\" docBase=\"opennms\" debug=\"9999999999\" reloadable=\"true\">\n  <Logger className=\"org.apache.catalina.logger.FileLogger\" \n          prefix=\"localhost_opennms_log.\" suffix=\".txt\" timestamp=\"true\"/>\n  <Realm className=\"org.opennms.web.authenticate.OpenNMSTomcatRealm\" \n          homeDir=\"/opt/OpenNMS/\" />\n</Context>\n\nThe realm is ignored (I have the jar file for it in $TOMCAT_HOME/server/lib),\nand no localhost_opennms_log.DATE.txt is created as expected.  Instead the\nlocalhost_log.DATE.txt has the following lines:\n\n2001-04-18 11:28:29 StandardLoader[/opennms]: Reloading checks are enabled for\nthis Context\n2001-04-18 11:28:29 Manager[/opennms]: Seeding random number generator class\njava.security.SecureRandom\n2001-04-18 11:28:29 Manager[/opennms]: Seeding of random number generator has\nbeen completed\n2001-04-18 11:28:32 ContextConfig[/opennms]: Configured an authenticator for\nmethod BASIC\n2001-04-18 11:28:36 [InitializerServletContextListener] Initialized servlet\nsystems successfully\n2001-04-18 11:28:36 StandardWrapper[/opennms:default]: Loading container servlet\ndefault\n2001-04-18 11:28:36 default: init\n2001-04-18 11:28:36 StandardWrapper[/opennms:invoker]: Loading container servlet\ninvoker\n2001-04-18 11:28:36 invoker: init\n2001-04-18 11:28:36 StandardWrapper[/opennms:jsp]: Using Jasper classloader for\nservlet jsp\n2001-04-18 11:28:36 jsp: init\n2001-04-18 11:28:37 StandardWrapper[/opennms:ssi]: Loading container servlet ssi\n2001-04-18 11:28:37 ssi: init\n\nThe only other context set up in the default server.xml, the examples webapp,\nhas its own Logger too, but it is also ignored.  It creates lines in the\nlocalhost_log similar to the ones shown above.\n\nThis entire setup worked fine with 4.0b1.  I am labeling this a \"Major\" bug\nbecause it is blocking our upgrade to b3.\n\nI appreciate your help,\n  Larry Karnowski\n  larry@opennms.org\n  www.opennms.org", "id": 1890, "time": "2001-04-18T08:44:22Z", "bug_id": 1370, "creation_time": "2001-04-18T08:44:22Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 1370, "attachment_id": 95, "text": "Created attachment 95\nMy server.xml file.", "id": 1892, "time": "2001-04-18T08:45:40Z", "creator": "larry@opennms.org", "creation_time": "2001-04-18T08:45:40Z", "is_private": false}, {"count": 2, "tags": [], "text": "Created attachment 96\nResulting localhost_log", "attachment_id": 96, "id": 1893, "creation_time": "2001-04-18T08:46:28Z", "time": "2001-04-18T08:46:28Z", "creator": "larry@opennms.org", "bug_id": 1370, "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 1370, "text": "The <Logger> and <Realm> elements were only getting recognized inside a \n<DefaultContext> element.  Restored recognition inside <Context> as well.  This \nwill be fixed in the nightly build dated 20010419.\n", "count": 3, "id": 1898, "time": "2001-04-18T12:05:11Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-04-18T12:05:11Z", "is_private": false}]