[{"count": 0, "tags": [], "creator": "jean-yves.collot@cofiroute.fr", "text": "When using the alternateURL option in the JNDI Realm, if the first LDAP server \n(designed by the connectionURL option) is not present or the LDAP service is \nnot available on this host, the application does not start, and the following \nlog appears :\nException performing authentication\njavax.naming.CommunicationException: ldap-server1:389.\nRoot exception is java.net.ConnectException: Connection refused\n\nI corrected this behaviour by modifying JNDIRealm.java as follows\nOLD SOURCE ====================\n        try {\n\n            // Ensure that we have a directory context available\n            context = new InitialDirContext(getDirectoryContextEnvironment());\n\n        } catch (NamingException e) {\nEND OLD SOURCE ===================\n\nNEW SOURCE ====================\n        try {\n\n            // Ensure that we have a directory context available\n            context = new InitialDirContext(getDirectoryContextEnvironment());\n\n        } catch (Exception e) {\nEND NEW SOURCE ====================", "id": 45018, "time": "2003-10-02T14:53:55Z", "bug_id": 23572, "creation_time": "2003-10-02T14:53:55Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 23572, "is_private": false, "id": 59533, "attachment_id": null, "creator": "markt@apache.org", "creation_time": "2004-06-18T23:24:15Z", "time": "2004-06-18T23:24:15Z", "text": "This has now been fixed in CVS for TC4 and TC5.\n\nMany thanks for providing the patch."}]