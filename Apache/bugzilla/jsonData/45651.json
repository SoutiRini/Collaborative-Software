[{"attachment_id": 22454, "tags": [], "creator": "gscokart@gmail.com", "is_private": false, "count": 0, "id": 119916, "time": "2008-08-19T07:04:34Z", "bug_id": 45651, "creation_time": "2008-08-19T07:04:34Z", "text": "Created attachment 22454\nSource of the simple benchmark I did to compare iterations\n\nWhen running a big build under a profiler, I notice that 7% of the time of my build is spent in the method Project.fireMessageLoggedEvent, even when tracing is disabled.\n\nThis method actually loop on a Vector of listener every time a debug call is done.\n\nUsing an other data structure to store the listeners would be much more performant.\n\nI benchmarked looping on a Vector, on an ArrayList and a native array and the result on an ibm 1.5 jvm is :\n\nVector loop ellapsed time (ms): 255.917905\nArrayList loop ellapsed time (ms): 136.867966\nNative array loop ellapsed time (ms): 10.323511  (there is probably also a gain for the gc)\n\nSo storing the list of listeners directly in a native array would boost this method by a factor 20."}, {"attachment_id": null, "tags": [], "creator": "gscokart@gmail.com", "text": "Running the same build with the optimization reduce the time spent in Project.fireMessageLoggedEvent from 7% to 1%.", "count": 1, "id": 119918, "time": "2008-08-19T07:47:30Z", "bug_id": 45651, "creation_time": "2008-08-19T07:47:30Z", "is_private": false}]