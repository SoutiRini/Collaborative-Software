[{"attachment_id": null, "tags": [], "creator": "elkner@linofee.org", "is_private": false, "count": 0, "id": 10796, "time": "2002-02-16T05:56:37Z", "bug_id": 6498, "creation_time": "2002-02-16T05:56:37Z", "text": "Szenario:\n\n1) Apache in an intranet used as virtual host e.g. apaci.intra.netz:80\n2) as you can guess apaci.intra.netz is known in the intranet (has its \n   own DNS), only\n3) tests from internet is allowed via an ssh gateway only, so\n   ssh -f -x -L 8080:apaci:80 ssh.gate.way\n\nNow, accessing http://localhost:8080/webapp-info or /examples/index.html\nseems to work perfect, but accessing http://localhost:8080/examples/servlets/\ndoes not, since the  HTTP_HOST is rewritten to SERVER_NAME which is IMHO wrong.\n\nE.g.: A request to http://localhost:8080/examples/servlets/ returns\n\nHTTP/1.1 302 Found\nDate: Sat, 16 Feb 2002 03:55:26 GMT\nServer: Apache/1.3.20 (Unix)\nContent-Type: text/html\nLocation: http://apaci.intra.netz/examples/servlets/index.html\nTransfer-Encoding: chunked\n\n\nbut should return:\n\nHTTP/1.1 302 Found\nDate: Sat, 16 Feb 2002 03:55:26 GMT\nServer: Apache/1.3.20 (Unix)\nContent-Type: text/html\nLocation: http://localhost:8080/examples/servlets/index.html\nTransfer-Encoding: chunked"}, {"count": 1, "tags": [], "bug_id": 6498, "attachment_id": null, "text": "That is correct. We should retrieve the server host name from the HTTP/\n1.1 \"Host\" header, rather than the configured ServerName in httpd.conf.\n\nAround line 309 of WarpRequestHandler.java we should parse (if \nexisting) the Host header, and calling the \"setServerName()\" and \n\"setServerPort()\" accordingly, therefore overriding the defaults set up in \nline 197.\n\n(anyone wants to do it? :)", "id": 15031, "time": "2002-04-29T13:29:17Z", "creator": "pier@betaversion.org", "creation_time": "2002-04-29T13:29:17Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 6498, "attachment_id": null, "text": "\"mod_webapp is deprecated and unsupported due to lack of developer interest.\nPlease use mod_jk, or jk2\"", "id": 35517, "time": "2003-04-18T13:38:21Z", "creator": "funkman@joedog.org", "creation_time": "2003-04-18T13:38:21Z", "is_private": false}]