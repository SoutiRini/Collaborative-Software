[{"count": 0, "tags": [], "text": "when the work dirctory including chinese character, DOMParse cannt parse the \ncurrent path.\n\nfor example:\nthe current work dir : E:\\\u00d0\u00c2\u00bd\u00a8\u00ce\u00c4\u00bc\u00fe\u00bc\u00d0\\eclipse\nthe schema file : E:\\\u00d0\u00c2\u00bd\u00a8\u00ce\u00c4\u00bc\u00fe\u00bc\u00d0\\eclipse\\Model.xsd\n\n_code:_________________________________________________________________\n\n    DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();\n      DocumentBuilder domBuilder = domFactory.newDocumentBuilder();\n      Document document = domBuilder.parse(new File(\"Model.xml\"));\n      Element modelElement = document.getDocumentElement();\n      modelElement.setAttribute(\"xmlns:xsi\",\n        \"http://www.w3.org/2001/XMLSchema-instance\");\n      modelElement.setAttribute(\"xsi:noNamespaceSchemaLocation\", \"Model.xsd\");\n     \n\n    \n      StringReader sr = new StringReader(toXMLString(document, true));\n      InputSource is = new InputSource(sr);\n      DOMParser domParser = new DOMParser();      \n      domParser.setFeature(\"http://apache.org/xml/features/allow-java-\nencodings\",true);\n      domParser.setFeature(\"http://xml.org/sax/features/validation\", true);\n      domParser.setFeature(\"http://apache.org/xml/features/validation/schema\",\n        true);\n      domParser.setFeature(\"http://apache.org/xml/features/validation/schema-\nfull-checking\",\n        true);\n            \n      \n      domParser.setErrorHandler(new ErrorHandler());\n      domParser.parse(is);\n      sr.close();\n\n______________________________________________________________________\n\n\nresult:\n\n[Fatal Error] :0:0: File \"Model.xsd\" not found.\norg.xml.sax.SAXParseException: General Schema Error: Stopping after fatal \nerror: File \"Model.xsd\" not found..\n\tat org.apache.xerces.framework.XMLParser.reportError\n(XMLParser.java:1150)\n\tat \norg.apache.xerces.validators.common.XMLValidator.reportRecoverableXMLError\n(XMLValidator.java:1712)\n\tat org.apache.xerces.validators.common.XMLValidator.resolveSchemaGrammar\n(XMLValidator.java:2732)\n\tat \norg.apache.xerces.validators.common.XMLValidator.bindNamespacesToElementAndAttri\nbutes(XMLValidator.java:2610)\n\tat org.apache.xerces.validators.common.XMLValidator.callStartElement\n(XMLValidator.java:1152)\n\tat org.apache.xerces.framework.XMLDocumentScanner.scanElement\n(XMLDocumentScanner.java:1862)\n\tat \norg.apache.xerces.framework.XMLDocumentScanner$ContentDispatcher.dispatch\n(XMLDocumentScanner.java:1005)\n\tat org.apache.xerces.framework.XMLDocumentScanner.parseSome\n(XMLDocumentScanner.java:381)\n\tat org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1035)\n\tat com.sitechasia.tools.service.ServiceMain.validateXML\n(ServiceMain.java:717)\n\tat com.sitechasia.tools.service.ServiceMain.main(ServiceMain.java:761)", "attachment_id": null, "bug_id": 35560, "id": 76832, "time": "2005-06-30T11:25:30Z", "creator": "liuyutao@myce.net.cn", "creation_time": "2005-06-30T11:25:30Z", "is_private": false}]