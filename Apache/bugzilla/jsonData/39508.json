[{"count": 0, "tags": [], "creator": "jochen@apache.org", "attachment_id": null, "is_private": false, "id": 88881, "time": "2006-05-07T20:39:04Z", "bug_id": 39508, "creation_time": "2006-05-07T20:39:04Z", "text": "The HTTP/1.0 specification states:\n\n    7.2.2 Length\n\n    [...]\n    If a request contains an entity body and Content-Length is not specified,\n    and the server does not recognize or cannot calculate the length from\n    other fields, then the server should send a 400 (bad request) response.\n\nHowever, Tomcat simply drops the entity body in such cases. This can easily be\nreproduced by running\n\n    nc 127.0.0.1 8080 </tmp/info.dump\n\nwith the file that I am attaching soon."}, {"count": 1, "tags": [], "bug_id": 39508, "attachment_id": 18242, "id": 88882, "time": "2006-05-07T20:39:44Z", "creator": "jochen@apache.org", "creation_time": "2006-05-07T20:39:44Z", "is_private": false, "text": "Created attachment 18242\nRequest demonstrating the problem, for use with \"nc 127.0.0.1 8080\""}, {"count": 2, "tags": [], "bug_id": 39508, "attachment_id": 18243, "text": "Created attachment 18243\nServlet being invoked by the request", "id": 88883, "time": "2006-05-07T20:40:55Z", "creator": "jochen@apache.org", "creation_time": "2006-05-07T20:40:55Z", "is_private": false}, {"count": 3, "tags": [], "text": "RFC 1945 (which is where I assume the quote is coming from) is informational \nonly.  AFAIK, there isn't any official HTTP/1.0 standard, and RFC 2616 (the \nHTTP/1.1 spec) is the closest you're going to get.  Tomcat's behavior is \ncorrect wrt RFC 2616.\n\nThe only way that Tomcat could possibly determine that a Request body was sent \nis to peek at the input.  This would slow down request processing to an \nunacceptable level.  And, since Tomcat's behavior here is identical to Httpd's \n(so, in particular, the AJP/1.3 Connector would alway do this :), this seems \nto be a reasonable way to deal with broken HTTP/1.0 clients.  The Servlet is \nalways free to send back a 400 Response code if it doesn't get what it is \nlooking for.", "is_private": false, "id": 88884, "creator": "william.barker@wilshire.com", "time": "2006-05-07T22:20:39Z", "bug_id": 39508, "creation_time": "2006-05-07T22:20:39Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "is_private": false, "id": 88886, "time": "2006-05-07T23:29:41Z", "bug_id": 39508, "creation_time": "2006-05-07T23:29:41Z", "text": "I remember I looked into something similar not too long ago, and it was bug\n38030. Indeed, there isn't going to be a fix for this."}]