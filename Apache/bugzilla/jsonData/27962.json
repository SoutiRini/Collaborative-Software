[{"count": 0, "tags": [], "creator": "pascal_rapicault@ca.ibm.com", "attachment_id": null, "id": 54689, "time": "2004-03-25T22:11:55Z", "bug_id": 27962, "creation_time": "2004-03-25T22:11:55Z", "is_private": false, "text": "When whenempty property is set to skip, and a directory refered into a fileset\nis missing, zip should not fail as error.\n\nExample:\n<zip destfile=\"foo.zip\" whenempty=\"skip\">\n  <zipfileset dir=\"c:/myNonExistingFolder\"/>\n</zip>"}, {"count": 1, "tags": [], "creator": "mbenson@apache.org", "attachment_id": null, "id": 54691, "time": "2004-03-25T22:32:28Z", "bug_id": 27962, "creation_time": "2004-03-25T22:32:28Z", "is_private": false, "text": "Unfortunately this problem is in the directory scanning implementation IIRC... \nso this is an invalid fileset/zipfileset as far as Ant is concerned... A quick \ninspection of the code does not look promising for any quick attribute \nadditions to fileset to make it find nothing when its specified parent \ndirectory does not exist, and indeed, I'm sure we could stir up quite a \ndiscussion on the developer and user lists as to whether such behaviour could \neven be thought of as valid (I just realized I've begun using British spellings \nof words like \"behaviour\").\n\nA workaround:  use conditional target execution (or ant-contrib's <if>) to \ncreate your <zipfileset> as a reference... if the directory does not exist, \ncreate your zipfileset as a dummy... something like <zipfileset id=\"myzfs\" \ndir=\"${basedir}\" excludes=\"**/*\" /> should work...\n\n-Matt\n"}, {"count": 2, "tags": [], "creator": "bodewig@apache.org", "text": "fixed via fileset's erroronmissingdir", "id": 129319, "time": "2009-07-31T04:12:44Z", "bug_id": 27962, "creation_time": "2009-07-31T04:12:44Z", "is_private": false, "attachment_id": null}]