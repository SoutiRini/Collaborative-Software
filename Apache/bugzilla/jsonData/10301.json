[{"count": 0, "tags": [], "text": "In 1.0.16 through the nightly build:\n\nCalling the PropFindMethod in the client to find a property defined via \nPropertyName(null, \"proptofind\") or PropertyName(\"\", \"proptofind\") results in a \n500 error from the server. The cause appears to be an invalid XML in the \ngenerated XML. PropfindMethod.generateQuery() produces:\n\n<?xml version=\u201d1.0\u201d encoding=\u201dutf-8\u201d ?>\n<D:propfind xmlns:D=\u201dDAV:\u201d>\n   <D:prop><ZZ:proptofind/></D:prop>\n</D:propfind>\n\nin this case (the \"ZZ\" prefix is undefined).\n\nChanging \n\n  if (\"DAV:\".equals(namespace)) {\n    printer.writeElement(\"D\", localname, XMLPrinter.NO_CONTENT);\n  } else {\n    printer.writeElement(\"ZZ\", namespace,localname , XMLPrinter.NO_CONTENT);\n  }\n\nto\n\n  if (\"DAV:\".equals(namespace)) {\n    printer.writeElement(\"D\", localname, XMLPrinter.NO_CONTENT);\n  } else {\n    if (namespace.length()>0){\n      printer.writeElement(\"ZZ\", namespace,localname , XMLPrinter.NO_CONTENT);\n    } else {\n      printer.writeElement(null, null, localname , XMLPrinter.NO_CONTENT);\n    }\n  }\n\nin generateQuery() would generate valid XML and fix the bug (assuming that a \ndefault namespace hasn't been defined, which is currently the case).", "is_private": false, "id": 18678, "creator": "Jim.Myers@pnl.gov", "time": "2002-06-27T20:54:06Z", "bug_id": 10301, "creation_time": "2002-06-27T20:54:06Z", "attachment_id": null}]