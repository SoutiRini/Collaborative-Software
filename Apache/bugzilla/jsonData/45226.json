[{"attachment_id": null, "tags": [], "creator": "remie@backbase.com", "is_private": false, "count": 0, "id": 117784, "time": "2008-06-18T02:29:50Z", "bug_id": 45226, "creation_time": "2008-06-18T02:29:50Z", "text": "Consider the following scenario:\n\n<subant ...>\n  <property name=\"a\" value=\"someValue\" />\n  <property file=\"my.properties\" />\n</subant>\n\nwith the my.properties file having the following values:\n\n# My.Properties\na=differentValue\nb=This is ${a}\n# End\n\nIf you output the property ${b} in the script you run using subant, the output will read: \"this is differentValue\".\n\nI would expect the output to be \"this is someValue\" since property ${a} has already been declared before the property file was included and should not be overwritten by the declaration in the property file."}, {"attachment_id": null, "tags": [], "creator": "bodewig@apache.org", "is_private": false, "count": 1, "id": 120211, "time": "2008-08-29T08:26:32Z", "bug_id": 45226, "creation_time": "2008-08-29T08:26:32Z", "text": "unfortunately your expectation collides with backwards compatibility.\n\nFor historical reasons the last <property> nested into <ant> wins if multiple properties use the same name.  see the last hunk in http://svn.eu.apache.org/viewvc/ant/core/trunk/src/main/org/apache/tools/ant/taskdefs/Ant.java?r1=275211&r2=275212 where Peter explicitly mentions backwards compatibility (more details probably are in the mailing list).\n\n<subant> inherits this behavior which should be documented."}, {"count": 2, "tags": [], "bug_id": 45226, "text": "Although documenting would already help significantly, might it be a valid proposal to add a attribute to handle the property load order? The default of this property could be set to the historical behavior, yet allow for a different loading mechanism when desired.\n\nRight now I personally have the option to declare the property before i call the subant (using inheritAll=true), in which case the value will not be overridden. However, I could see a world in which this is not an option.", "id": 120213, "time": "2008-08-29T08:46:43Z", "creator": "remie@backbase.com", "creation_time": "2008-08-29T08:46:43Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 45226, "is_private": false, "text": "documented in svn revision 691102.\n\nWhile I agree that having an option to reverse the evaluation would be nice it isn't as easy as it sounds.  Keeping the report open to revisit it later.", "id": 120266, "time": "2008-09-01T21:31:30Z", "creator": "bodewig@apache.org", "creation_time": "2008-09-01T21:31:30Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 45226, "text": "svn revision 722898 contains antunit tests for this, in particular the testFileSeesInternalProperty in http://svn.apache.org/repos/asf/ant/core/trunk/src/tests/antunit/taskdefs/subant-test.xml is your original test case - and it passes in trunk.\n\nLooks as if the problem has been fixed somewhere on the way.", "id": 123039, "time": "2008-12-03T06:22:34Z", "creator": "bodewig@apache.org", "creation_time": "2008-12-03T06:22:34Z", "is_private": false, "attachment_id": null}]