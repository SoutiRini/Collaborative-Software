[{"count": 0, "tags": [], "bug_id": 24176, "is_private": false, "text": "Tomcat 4.1.2x seems always returned headers encoded in UTF8 irrespective of \ncontent type setting. This casued browser(MSIE) cannot download file with \ncorrect non-ISO characters filename. There is no such problem found in 4.0.6.\n\nHave tried charset=Big5, ISO8859-1, ..., all failed.\n\nExample:\n\n// filename obtained from file system in ISO format and convert to correct big5 \nencoding\nfilename=new String(filename.getBytes(\"ISO8859-1\"), \"big5\");\nresponse.setContentType(\"application/octet-stream;charset=xxx\"); \nresponse.setHeader(\"Content-encoding\",\"binary\");\nString resp=filename; // read from disk\nresponse.setHeader(\"Content-Disposition\", \"filename=\"+resp);\nServletOutputStream out = response.getOutputStream();\n// ... read the file from disk and write to user\nout.close();", "id": 46366, "time": "2003-10-28T10:41:31Z", "creator": "kenneth.y.kwan@pccw.com", "creation_time": "2003-10-28T10:41:31Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "To quote remy:\n\n<quote>There's nothing in any spec which states the encoding that must be used \nfor headers. content-type specifies the entity body encoding only.</quote>\n\nThis is another in a long line of l18n issues that the specs need to address.", "attachment_id": null, "bug_id": 24176, "id": 47202, "time": "2003-11-11T19:52:16Z", "creator": "medthomas@ntlworld.com", "creation_time": "2003-11-11T19:52:16Z", "is_private": false}]