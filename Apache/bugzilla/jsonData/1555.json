[{"count": 0, "tags": [], "bug_id": 1555, "attachment_id": null, "id": 2142, "time": "2001-04-27T09:02:21Z", "creator": "trevor@ancept.com", "creation_time": "2001-04-27T09:02:21Z", "is_private": false, "text": "Loosing the realSession.  I'm getting the following exception.  For some reason \nsessionFacade is null in getSession of HttpServletRequestFacade and is re-\ninstantiating HttpSessionFacade.  I added print lines to \nHttpServletRequestFacade and have included it below. \n\n\nInternal Servlet Error:\n\njavax.servlet.ServletException: java.lang.NullPointerException: null\n\tat com.ancept.happyhour.controller.HappyHourServlet.processRequest\n(HappyHourServlet.java:180)\n\tat com.ancept.happyhour.controller.HappyHourServlet.doPost\n(HappyHourServlet.java:88)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:760)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.tomcat.core.ServletWrapper.doService\n(ServletWrapper.java:404)\n\tat org.apache.tomcat.core.Handler.service(Handler.java:286)\n\tat org.apache.tomcat.core.ServletWrapper.service\n(ServletWrapper.java:372)\n\tat org.apache.tomcat.core.ContextManager.internalService\n(ContextManager.java:797)\n\tat org.apache.tomcat.core.ContextManager.service\n(ContextManager.java:743)\n\tat \norg.apache.tomcat.service.http.HttpConnectionHandler.processConnection\n(HttpConnectionHandler.java:210)\n\tat org.apache.tomcat.service.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:416)\n\tat org.apache.tomcat.util.ThreadPool$ControlRunnable.run\n(ThreadPool.java:498)\n\tat java.lang.Thread.run(Thread.java:484)\n\nRoot cause: \njava.lang.NullPointerException\n\tat org.apache.tomcat.facade.HttpSessionFacade.setAttribute\n(HttpSessionFacade.java:158)\n\tat com.ancept.happyhour.model.HttpSessionImpl.setAttribute\n(HttpSessionImpl.java:35)\n\tat com.ancept.happyhour.view.processor.LoginProcessor.processRequest\n(LoginProcessor.java:43)\n\tat com.ancept.happyhour.controller.HappyHourServlet.processRequest\n(HappyHourServlet.java:150)\n\tat com.ancept.happyhour.controller.HappyHourServlet.doPost\n(HappyHourServlet.java:88)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:760)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.tomcat.core.ServletWrapper.doService\n(ServletWrapper.java:404)\n\tat org.apache.tomcat.core.Handler.service(Handler.java:286)\n\tat org.apache.tomcat.core.ServletWrapper.service\n(ServletWrapper.java:372)\n\tat org.apache.tomcat.core.ContextManager.internalService\n(ContextManager.java:797)\n\tat org.apache.tomcat.core.ContextManager.service\n(ContextManager.java:743)\n\tat \norg.apache.tomcat.service.http.HttpConnectionHandler.processConnection\n(HttpConnectionHandler.java:210)\n\tat org.apache.tomcat.service.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:416)\n\tat org.apache.tomcat.util.ThreadPool$ControlRunnable.run\n(ThreadPool.java:498)\n\tat java.lang.Thread.run(Thread.java:484)\n\n\n\n\n\n*********************************************\nServlet received request.  Beginning Processing...\nDisabling browser caching...\nGetting session..\n____________________________GETTING SESSION________________________________\n____________________________The Session Facade is null creating a new \ninstance________________________________\n\n*********************  HttpSessionFacade::setRealSession  to \norg.apache.tomcat.session.StandardSession@7a29a1\nGetting ISession...\n**************************getAttribute*****************************\n^^^^^^^^^^^^^^^^^^^^^^^^^ realSession = \norg.apache.tomcat.session.StandardSession@7a29a1\n^^^^^^^^^^^^^^^^^^^^^^^^^ name = ISESSION\n**************************getAttribute*****************************\nISession not found, creating...\n**************************setAttribute*****************************\n^^^^^^^^^^^^^^^^^^^^^^^^^ realSession = \norg.apache.tomcat.session.StandardSession@7a29a1\n^^^^^^^^^^^^^^^^^^^^^^^^^ name = ISESSION\n^^^^^^^^^^^^^^^^^^^^^^^^^ value = \ncom.ancept.happyhour.model.HttpSessionImpl@434234\n**************************setAttribute*****************************\n**************************getAttribute*****************************\n^^^^^^^^^^^^^^^^^^^^^^^^^ realSession = \norg.apache.tomcat.session.StandardSession@7a29a1\n^^^^^^^^^^^^^^^^^^^^^^^^^ name = userBean\n**************************getAttribute*****************************\nAction: login\nAction login resolved to class \ncom.ancept.happyhour.view.processor.LoginProcessor\nCreating instance of com.ancept.happyhour.view.processor.LoginProcessor\nUser not logged in, seeing if login required\nAction login resolved to class \ncom.ancept.happyhour.view.processor.LoginProcessor\nUsing cached instance of com.ancept.happyhour.view.processor.LoginProcessor\nSetting ISession\nProcessing request\n*** JDBCConnectionPool ************************\nJDBC Driver        : oracle.jdbc.driver.OracleDriver\nJDBC URL           : jdbc:oracle:thin:@neptune.ancept.com:1521:ORCL\nInitial            : 10\nDynamic Allocations: true\nUpper Bound        : 80\n***********************************************\nLoading driver class...\nCreating connection 0\nCreating connection 1\nCreating connection 2\nCreating connection 3\nCreating connection 4\nCreating connection 5\nCreating connection 6\nCreating connection 7\nCreating connection 8\nCreating connection 9\nuser bean null: false\n**************************setAttribute*****************************\n^^^^^^^^^^^^^^^^^^^^^^^^^ realSession = \norg.apache.tomcat.session.StandardSession@7a29a1\n^^^^^^^^^^^^^^^^^^^^^^^^^ name = userBean\n^^^^^^^^^^^^^^^^^^^^^^^^^ value = tln\n**************************setAttribute*****************************\nSetting parameters\nServlet name: happyhour\nCalling page upload/content\nServlet finished processing request.\n*********************************************\n\nResponse has been committed, not calling jsp page\nServlet finished processing request.\n*********************************************\n\n\n*********************************************\nServlet received request.  Beginning Processing...\nDisabling browser caching...\nGetting session..\n____________________________GETTING SESSION________________________________\n____________________________The Session Facade is null creating a new \ninstance________________________________\n\n*********************  HttpSessionFacade::setRealSession  to \norg.apache.tomcat.session.StandardSession@7a29a1\nGetting ISession...\n**************************getAttribute*****************************\n^^^^^^^^^^^^^^^^^^^^^^^^^ realSession = \norg.apache.tomcat.session.StandardSession@7a29a1\n^^^^^^^^^^^^^^^^^^^^^^^^^ name = ISESSION\n**************************getAttribute*****************************\nISession found, using cached instance\n**************************getAttribute*****************************\n^^^^^^^^^^^^^^^^^^^^^^^^^ realSession = \norg.apache.tomcat.session.StandardSession@7a29a1\n^^^^^^^^^^^^^^^^^^^^^^^^^ name = userBean\n**************************getAttribute*****************************\nAction: login\nAction login resolved to class \ncom.ancept.happyhour.view.processor.LoginProcessor\nUsing cached instance of com.ancept.happyhour.view.processor.LoginProcessor\nSetting ISession\nProcessing request\nuser bean null: false\n**************************setAttribute*****************************\n^^^^^^^^^^^^^^^^^^^^^^^^^ realSession = null\n^^^^^^^^^^^^^^^^^^^^^^^^^ name = userBean\n^^^^^^^^^^^^^^^^^^^^^^^^^ value = tln\n**************************setAttribute*****************************"}, {"count": 1, "text": "Duplicate ( I don't remember the original bug #).\nFixed in 3.2.2beta4\nFixed in 3.3", "bug_id": 1555, "attachment_id": null, "id": 2194, "time": "2001-05-01T16:53:09Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-05-01T16:53:09Z", "tags": [], "is_private": false}]