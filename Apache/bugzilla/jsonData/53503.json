[{"count": 0, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "text": "This was triggered by problems with OpenOffice.org source zip archives, see:\n\nhttps://issues.apache.org/ooo/show_bug.cgi?id=120132\n\nAnt 1.8.4 zip task creates an invalid zip archive when more than 65535 entries (files/folders) are included in the archive.\n\nThe zip files are still usable with 7-Zip, but cannot be used with Winzip, and WindowsZP compressed folders does not like them either.\n\nThe same set of files can be compressed with 7-Zip and Winzip will read the archive.\n\nIn fact the same set of files can be compressed using Commons Compress (trunk) and Winzip can read the archive.", "id": 160429, "time": "2012-07-03T20:18:36Z", "bug_id": 53503, "creation_time": "2012-07-03T20:18:36Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 53503, "text": "Created attachment 29029\nBuild file to create test zips\n\nThe attached Ant build file can be used to create various test zip files from a set of dummy files.\n\nant create - create a directory containing 65536 files in 256 folders\n\nant zip - create zip files:\n\ntest1.zip - all files; shows as 256 files in WinXP tooltip\n\ntest2.zip - exactly 65536 entries - shows empty in WinZip and WinXP\n\ntest3.zip - exactly 65535 entries - works OK in WinZip and Win/XP", "id": 160430, "time": "2012-07-03T22:13:27Z", "creator": "sebb@apache.org", "creation_time": "2012-07-03T22:13:27Z", "is_private": false, "attachment_id": 29029}, {"count": 2, "tags": [], "bug_id": 53503, "attachment_id": null, "text": "Your example uses the built-in zip task and not the Compress Antlib[1], the later is based on Commons Compress and should work for you.\n\nWhat you see is Ant's lack of Zip64 support.\n\nI've merged the Zip64 changes made to Commons Compress to Ant's trunk, so it works there as well.  Since the changes require Java5 they could not go into any 1.8.x release.\n\n[1] http://ant.apache.org/antlibs/compress/index.html", "id": 160433, "time": "2012-07-04T04:37:01Z", "creator": "bodewig@apache.org", "creation_time": "2012-07-04T04:37:01Z", "is_private": false}, {"count": 3, "tags": [], "text": "As far as I can tell, this restriction is not documented.\n\nAlso, even if the code cannot be fixed without using Java 5, Ant 1.8.x could perhaps warn users if tbe count of entries exceeded 65535.", "attachment_id": null, "bug_id": 53503, "id": 160444, "time": "2012-07-04T09:48:10Z", "creator": "sebb@apache.org", "creation_time": "2012-07-04T09:48:10Z", "is_private": false}, {"count": 4, "attachment_id": null, "creator": "bodewig@apache.org", "text": "zip64 support is there in Ant 1.9.x and it will fail if the number of entries exceeds the limits of \"vanilla\" zip while zip64 extensions are disabled.", "id": 172069, "time": "2014-01-04T15:12:37Z", "bug_id": 53503, "creation_time": "2014-01-04T15:12:37Z", "tags": [], "is_private": false}]