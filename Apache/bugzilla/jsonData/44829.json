[{"count": 0, "tags": [], "bug_id": 44829, "attachment_id": null, "id": 115623, "time": "2008-04-15T20:18:42Z", "creator": "lnelson@fairfaxdigital.com.au", "creation_time": "2008-04-15T20:18:42Z", "is_private": false, "text": "1) run tomcat with the org.apache.catalina.STRICT_SERVLET_COMPLIANCE system property set to true\n2) have some kind of \"/index.jsp\" page\n3) have this servlet configured:\npublic class StrictForwardTestServlet extends HttpServlet\n{\n\tprotected void doGet(final HttpServletRequest req, final HttpServletResponse resp) throws ServletException, IOException\n\t{\n\t\treq.getRequestDispatcher(\"/index.jsp\").forward(req, resp);\n\t}\n}\n4) issue a GET on that servlet: success, you get the index.jsp content\n5) issue a HEAD on that servlet: error (see below)\n\njavax.servlet.ServletException: Original SevletResponse or wrapped original ServletResponse not passed to RequestDispatcher in violation of SRV.8.2 and SRV.14.2.5.1\n\tat org.apache.catalina.core.ApplicationDispatcher.checkSameObjects(ApplicationDispatcher.java:985)\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:316)\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:292)\n\tat com.example.StrictForwardTestServlet.doGet(StrictForwardTestServlet.java:13)\n\tat javax.servlet.http.HttpServlet.doHead(HttpServlet.java:271)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:433)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:563)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:263)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:584)\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:354)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker\n\nI think this bug was introduced by the fix for bug 34956."}, {"count": 1, "attachment_id": null, "bug_id": 44829, "text": "\n\n*** This bug has been marked as a duplicate of bug 44562 ***", "id": 115624, "time": "2008-04-16T00:18:27Z", "creator": "markt@apache.org", "creation_time": "2008-04-16T00:18:27Z", "tags": [], "is_private": false}]