[{"count": 0, "tags": [], "bug_id": 47826, "is_private": false, "id": 130323, "creation_time": "2009-09-11T17:39:34Z", "time": "2009-09-11T17:39:34Z", "creator": "qingyang.xu@qunar.com", "text": "// Local repository\n            boolean replace = false;\n            String before = repository;\n            while ((i=repository.indexOf(CATALINA_HOME_TOKEN))>=0) {\n                replace=true;\n                if (i>0) {\n                repository = repository.substring(0,i) + getCatalinaHome() \n                    + repository.substring(i+CATALINA_HOME_TOKEN.length());\n                } else {\n                    repository = getCatalinaHome() \n                        + repository.substring(CATALINA_HOME_TOKEN.length());\n                }\n            }\n            while ((i=repository.indexOf(CATALINA_BASE_TOKEN))>=0) {\n                replace=true;\n                if (i>0) {\n                repository = repository.substring(0,i) + getCatalinaBase() \n                    + repository.substring(i+CATALINA_BASE_TOKEN.length());\n                } else {\n                    repository = getCatalinaBase() \n                        + repository.substring(CATALINA_BASE_TOKEN.length());\n                }\n            }\n            if (replace && log.isDebugEnabled())\n                log.debug(\"Expanded \" + before + \" to \" + replace);\n\nThe last line should be: \"log.debug(\"Expanded \" + before + \" to \" + repository);\"", "attachment_id": null}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "This has been fixed in 6.0.x and will be in 6.0.21 onwards.", "id": 130543, "time": "2009-09-20T14:57:35Z", "bug_id": 47826, "creation_time": "2009-09-20T14:57:35Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 47826, "is_private": false, "id": 130879, "time": "2009-10-04T13:41:27Z", "creator": "knst.kolinko@gmail.com", "creation_time": "2009-10-04T13:41:27Z", "tags": [], "text": "Fixed in 5.5 as well, will be in 5.5.29. Thank you for the report."}]