[{"count": 0, "tags": [], "text": "I tried to convert a svg file to a png file.\nIn the svg file I include an image. \n\nMy java version is \"1.4.0_01\".\n\nWhen I call:\njava -Djava.awt.headless=true -cp batik/lib/batik-util.jar -jar batik/batik-\nrasterizer.jar -h 70 -w 70 test.svg\n\nI get the following error:\n... Exception in thread \"main\" java.lang.ExceptionInInitializerError\n        at org.apache.batik.ext.awt.image.spi.ImageTagRegistry.getRegistry(Unkno\nwn Source)\n...\n\nWhen I do:\nexport DISPLAY=localhost:0.0\n\njava -cp batik/lib/batik-util.jar -jar batik/batik-rasterizer.jar -h 70 -w 70 \ntest.svg\n\non a pc with a display it works fine, but I want to run rasterizer on a \nheadless pc.\n\nis this possible? And if so, how? And if not, can it be fixed?", "is_private": false, "bug_id": 14011, "id": 25261, "time": "2002-10-28T11:08:01Z", "creator": "twan@ettes.nl", "creation_time": "2002-10-28T11:08:01Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "erik.agsjo@noptec.com", "attachment_id": null, "text": "If you are trying to rasterize an svg with an image tag, I can confirm that this\nis the case.\n\nThis is because org.apache.batik.ext.awt.image.spi.ImageTagRegistry adds an\ninstance of org.apache.batik.ext.awt.image.spi.JDKRegistryEntry per default. Ant\nJDKRegistryEntry loads images using the pre JDK 1.4 method of loading images\nusing a Component to get a MediaTracker. The problem is that JDKRegistryEntry\nhas a static field that is initialized with \"new Label()\", which causes a\njava.awt.HeadlessException to be thrown.\n\nThis makes it impossible to load images using headless awt.", "id": 31103, "time": "2003-02-12T08:22:44Z", "bug_id": 14011, "creation_time": "2003-02-12T08:22:44Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 14011, "text": "This is now fixed (I believe in 1.5b5).  The JDKRegistryEntry no longer \nuses MediaTracker. It has it's own implementation of ImageObserver.", "id": 39613, "time": "2003-06-29T23:54:47Z", "creator": "deweese@apache.org", "creation_time": "2003-06-29T23:54:47Z", "is_private": false, "attachment_id": null}]