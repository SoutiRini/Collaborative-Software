[{"count": 0, "tags": [], "creator": "stefan.pottinger@web.de", "is_private": false, "id": 18147, "creation_time": "2002-06-20T09:20:36Z", "time": "2002-06-20T09:20:36Z", "bug_id": 10050, "text": "I had to do some work during the parsing of a document and had to write some \nparts of it to an output. So I used the XMLSerializer like this:\n\noutputFormat = new OutputFormat(\"xml\", \"UTF-8\", false);\noutputFormat.setPreserveSpace(true);\noutputFormat.setOmitXMLDeclaration(true);\nrecordWriter = new StringWriter();\nrecordSerializer = new XMLSerializer(recordWriter, outputFormat);\nsetContentHandler(recordSerializer);\n\nLater I tried the following:\n\npublic void startElement(java.lang.String namespaceURI, java.lang.String \nlocalName, java.lang.String qName, Attributes atts) throws SAXException {\n....................\nsuper.startElement(namespaceURI, localName, qName, atts);//to print sth to my \nStringWriter\n.....................\nand I got: \njava.lang.IllegalStateException: SER002 No writer supplied for serializer\n  org.apache.xml.serialize.XMLSerializer.startElement(XMLSerializer.java:258)\n  org.xml.sax.helpers.XMLFilterImpl.startElement(XMLFilterImpl.java:575)\n\nI looked in the source from the XMLSerializer and the BaseMarkupSerializer and \nit seemed that the writer in the BaseMarkupSerializer wasn't mapped on the \n_printer Variable. That should have been done in the \n<BaseMarkupSerializer>.prepare() method. So I tried this after the \ninitialisation:\n\n(look above)...\nsetContentHandler(recordSerializer);\ntry {recordSerializer.asContentHandler();}//!!!!!!!!!!!!!!!!!!!!!!!\ncatch (Exception e) {e.printStackTrace();}//!!!!!!!!!!!!!!!!!!!!!!!\n\nWith this workaround I could call the prepare()-method and it worked! It looks \nlike the serialize() of the BaseMarkupSerializer calls the prepare-method in \nthe beginning, but what if I don't use the serialize()? The writer is there but \nwhere will the _printer be pointing to the _writer?\n\nHope you understand this.\n\nStefan", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 10050, "is_private": false, "id": 49101, "creation_time": "2003-12-14T18:49:34Z", "time": "2003-12-14T18:49:34Z", "creator": "trawick@apache.org", "text": "Fix product for this PR.  Sorry, but I have no clue what version or component of\nXerces-J to specify.", "attachment_id": null}]