[{"count": 0, "tags": [], "creator": "michael@wyraz.de", "is_private": false, "id": 135304, "attachment_id": null, "bug_id": 48899, "creation_time": "2010-03-12T15:03:45Z", "time": "2010-03-12T15:03:45Z", "text": "Hi tomcat connector developers,\n\ntomcat's connectors have some options to either set the uri encoding to a certain charset or to use the body's encoding (set by request.setCharacterEncoding) to decode the uri (if none is set, iso-8859-1 is used).\nI found an article (+code) the demonstrates that the charset of data can easily guessed at http://glaforge.free.fr/wiki/index.php?wiki=GuessEncoding . Since the most common charsets for uri encoding are iso-8859-1 (since it's default for uri encoding) and utf-8 (because it's used for most multi language websites), the possible choices are very clear.\n\nSo I'd suggest to add an option to the connectors to guess the used charset for decoding of uri parts. There are so many issues with uri decoding that would be solved that way (e.g. when the uri is decoded as utf-8 and a user types an umlaut into the address bar, the browser might encode it as iso-8859-1 and the app has no way to fix this).\n\nRegards, Michael."}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "id": 183964, "time": "2015-07-08T18:14:40Z", "bug_id": 48899, "creation_time": "2015-07-08T18:14:40Z", "is_private": false, "text": "The current default of UTF-8 (for the later releases) is aligned with the way standards (official and unofficial) are moving.\n\nI'm also concerned that a wrong guess may have unpleasant side-effects."}]