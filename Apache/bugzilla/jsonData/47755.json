[{"count": 0, "text": "Create two files y.txt and x.txt (create x.txt last so it has a newer timestamp)\n\n<project> \n<move file=\"x.txt\" tofile=\"y.txt\" overwrite=\"false\"/>\n</project>\n\ny.txt will be clobbered by x.txt.", "creator": "suchko.pm@mellon.com", "is_private": false, "id": 130019, "time": "2009-08-27T23:04:59Z", "bug_id": 47755, "creation_time": "2009-08-27T23:04:59Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 47755, "attachment_id": null, "id": 130028, "time": "2009-08-28T07:05:42Z", "creator": "bodewig@apache.org", "creation_time": "2009-08-28T07:05:42Z", "is_private": false, "text": "subversion is currently not writable, but I have a passing AntUnit test that I'll be committing later:\n\n  <target name=\"testOverwriteIsTrueByDefault\">\n    <mkdir dir=\"${input}\"/>\n    <mkdir dir=\"${output}\"/>\n    <echo file=\"${input}/x.txt\">X</echo>\n    <sleep seconds=\"2\"/>\n    <echo file=\"${output}/y.txt\">Y</echo>\n    <move file=\"${input}/x.txt\" tofile=\"${output}/y.txt\"/>\n    <au:assertFileDoesntExist file=\"${input}/x.txt\"/>\n    <au:assertResourceContains resource=\"${output}/y.txt\"\n                               value=\"X\"/>\n  </target>\n\n  <target name=\"testOverwriteIsHonored\"\n          description=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=47755\">\n    <mkdir dir=\"${input}\"/>\n    <mkdir dir=\"${output}\"/>\n    <echo file=\"${input}/x.txt\">X</echo>\n    <sleep seconds=\"2\"/>\n    <echo file=\"${output}/y.txt\">Y</echo>\n    <move file=\"${input}/x.txt\" tofile=\"${output}/y.txt\" overwrite=\"false\"/>\n    <au:assertFileExists file=\"${input}/x.txt\"/>\n    <au:assertResourceContains resource=\"${output}/y.txt\"\n                               value=\"Y\"/>\n  </target>\n\nThe tests pass for Ant 1.7.1 and subversion trunk as of seven hours ago."}, {"count": 2, "tags": [], "bug_id": 47755, "text": "My directions said to create the X file LAST so it has a newer timestamp.  Your test case wrote X first therefore it did not overwrite Y since it was older.  However, after rereading the docs, it appears that is the correct behavior.  That being said, I think that \"overwrite=false\" is a bit misleading since it ALWAYS overwrites OLDER files.  How can ANT be told to not overwrite ANY files since that is also a possible use case?", "id": 130033, "time": "2009-08-28T11:28:07Z", "creator": "suchko.pm@mellon.com", "creation_time": "2009-08-28T11:28:07Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 47755, "attachment_id": null, "is_private": false, "id": 130074, "time": "2009-08-31T08:46:18Z", "creator": "bodewig@apache.org", "creation_time": "2009-08-31T08:46:18Z", "text": "Sorry, I misread your instructions since no-matter what overwrite says, a newer file should always override the older one, that's by design.\n\nFor your don't overwrite existing files in any case I'd suggest you use a fileset and a present selector, something like (untested)\n\n<move todir=\".\">\n  <fileset dir=\".\">\n    <present targetdir=\".\" present=\"srconly\">\n      <globmapper from=\"x.txt\" to=\"y.txt\"/>\n    </present>\n  </fileset>\n  <globmapper from=\"x.txt\" to=\"y.txt\"/>\n</move>\n\nThe mapper and targetdir stuff looks redundant, which could be reduced by ids (at\nleast for the mapper) but my guess is this is mostly due to the example being used."}]