[{"count": 0, "tags": [], "text": "I found following NPE very often in the tomcat log after running a loadtest with JMeter:\n\njava.lang.NullPointerException\n\tat org.apache.catalina.connector.Request.removeAttribute(Request.java:1377)\n\tat org.apache.catalina.connector.RequestFacade.removeAttribute(RequestFacade.java:514)\n\tat org.apache.myfaces.context.servlet.RequestMap.removeAttribute(RequestMap.java:59)\n\tat org.apache.myfaces.util.AbstractAttributeMap.remove(AbstractAttributeMap.java:121)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.unsetScope(FacesCompositeELResolver.java:196)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.getValue(FacesCompositeELResolver.java:144)\n\tat com.foo.client.web.faces.FCFactory.getManagedBean(FCFactory.java:61)\n\tat com.foo.client.web.servlets.AbstractFacesServlet.getManagedBean(AbstractFacesServlet.java:147)\n\tat com.foo.client.web.servlets.NativeDocumentServlet.service(NativeDocumentServlet.java:84)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat com.foo.client.web.filters.LoginFilter.doFilter(LoginFilter.java:183)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\nSource\n1376  // Notify interested application event listeners\n1377  Object listeners[] = context.getApplicationEventListeners();\n\ncontext is null obviously.\n\nPls check for null and return in this case to prevent the NPE", "attachment_id": null, "id": 135964, "creator": "mhn4dev@googlemail.com", "time": "2010-04-08T14:57:51Z", "bug_id": 49072, "creation_time": "2010-04-08T14:57:51Z", "is_private": false}, {"count": 1, "tags": [], "text": "Your application is retaining a reference to a request object after request processing has been completed in breach of the Servlet specification.\n\nIf you need further assistance, please use the Tomcat users mailing list.", "attachment_id": null, "id": 136212, "creator": "markt@apache.org", "time": "2010-04-16T17:56:51Z", "bug_id": 49072, "creation_time": "2010-04-16T17:56:51Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 49072, "is_private": false, "id": 149609, "time": "2011-09-22T08:29:07Z", "creator": "mhn4dev@googlemail.com", "creation_time": "2011-09-22T08:29:07Z", "tags": [], "text": "I just stumbled over this and Mark was right of course!\n\nIf others encounter this:\nIn my case it was caused by a not released FacesContext instance. \nThe error occurred when this http thread was reused."}]