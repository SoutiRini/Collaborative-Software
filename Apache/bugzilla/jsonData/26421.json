[{"count": 0, "tags": [], "bug_id": 26421, "attachment_id": null, "id": 51155, "time": "2004-01-25T19:37:23Z", "creator": "sliu@plmatrix.com", "creation_time": "2004-01-25T19:37:23Z", "is_private": false, "text": "in same webapp's web.xml, I want to all .jsp is protected,\nhowever, I also need to unprotected the \"themes\" folder. my folder structure is:\nWEB_APP/index.jsp\nWEB_APP/contact.jsp\nWEB_APP/themes\nWEB_APP/themes/logon_pic.gif\nWEB_APP/login/login.jsp\nWEB_APP/login/login_error.jsp\n\nin web.xml, I have:\n  <security-constraint>\n    <web-resource-collection>\n\t\t<web-resource-name>public themes</web-resource-name>\n\t\t<description>Themes without security</description>\n\t\t<url-pattern>/themes/*</url-pattern>\n\t\t<http-method>GET</http-method>\n\t\t<http-method>HEAD</http-method>\n    </web-resource-collection>\n  </security-constraint>\n  <security-constraint>\n    <web-resource-collection>\n      <web-resource-name>Entire Application</web-resource-name>\n\t  <description>Entire application</description>\n\t  <url-pattern>/</url-pattern>\n    </web-resource-collection>\n    <auth-constraint>\n      <role-name>user</role-name>\n    </auth-constraint>\n  </security-constraint>\n\n  <login-config>\n    <auth-method>FORM</auth-method>\n    <form-login-config>\n      <form-login-page>/login/login.jsp</form-login-page>\n      <form-error-page>/login/login_error.jsp</form-error-page>\n    </form-login-config>\n  </login-config>\n\n\nIn login.jsp, I use an image from \"themes\" folder, the result I got is:\n\"index.jsp\" is protected just as I expected and \"/login/login.jsp\" is shown,\nhowever, the image in \"login.jsp\" is also protected and can not be shown."}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 51156, "time": "2004-01-25T19:55:13Z", "bug_id": 26421, "creation_time": "2004-01-25T19:55:13Z", "is_private": false, "text": "Try again with 5.0.18. Then, some peer review of the configuration can't hurt\n(the tomcat-user list).\nI don't think this is a valid use case though (the spec has a rather weird\nmatching algorithm: if a widcard pattern matches, then your extension pattern\nwill not be matched)."}, {"count": 2, "tags": [], "bug_id": 26421, "text": "Changed to 5.0.18, it does solve my problem, thanks a lot.", "id": 51157, "time": "2004-01-25T20:27:57Z", "creator": "sliu@plmatrix.com", "creation_time": "2004-01-25T20:27:57Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 26421, "text": "close it then. ", "id": 51158, "time": "2004-01-25T20:28:30Z", "creator": "sliu@plmatrix.com", "creation_time": "2004-01-25T20:28:30Z", "tags": [], "is_private": false}]