[{"count": 0, "attachment_id": null, "creator": "j3322ptm@yahoo.de", "text": "The Xerces-2.0.1 distribution coms with a build.bat which calls\nant without the ant wrapper script (linewraps by me, a few lines deleted):\n\nrem Keep this classpath to the minimum required to run ant\nset LOCALCLASSPATH=%JAVA_HOME%\\lib\\tools.jar;\\\n %JAVA_HOME%\\lib\\classes.zip;.\\tools\\ant.jar;.\\tools\\xerces.jar\n\"%JAVA_HOME%\\bin\\java.exe\" -Dant.home=\"./tools\" \\\n -classpath \"%LOCALCLASSPATH%\" org.apache.tools.ant.Main %1 %2 %3 %4 %5\n\nBecause the distribution does not include an ant.jar, I had to edit\nthe LOCALCLASSPATH. While doing so, I generously deleted not only\n%JAVA_HOME%\\lib\\classes.zip but also %JAVA_HOME%\\lib\\tools.jar.\nThis leads to the complaint:\ncompile:\n    [javac] Modern compiler is not available - using classic compiler\n    [javac] Compiling 620 source files to \nC:\\usr\\pietsch\\gnu\\xerces-2_0_1\\build\\classes\n\nBUILD FAILED\n\nC:\\usr\\pietsch\\gnu\\xerces-2_0_1\\build.xml:181: Cannot use classic compiler,\n as it is not available A common solution is to set the environment variable\n JAVA_HOME to your jdk directory.\n\nThis is misleading in this case. The message, generated in javac12.java\nif there is a ClassNotFound exception while loading the main compiler\nclass, seems to boldly assume that ant has been called using the wrapper\nscript. I suggest to improve the message for the sake of projects like\nXerces, for example by checking whether ${java.home}/lib/tools.jar is\nreally an existing file and on the classpath.", "id": 14708, "time": "2002-04-25T12:02:27Z", "bug_id": 8511, "creation_time": "2002-04-25T12:02:27Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": null, "creator": "steve_l@iseran.com", "text": "We have differently misleading messages in ant1.5.\n\nCheck in CVS, re-open and submit new changes if you want. \n\nto be honest, we dont like dealing with bugs related to other's build scripts; \npeople should take ant.bat and rename it, stripping out ant-home stuff.", "id": 14815, "time": "2002-04-26T07:01:50Z", "bug_id": 8511, "creation_time": "2002-04-26T07:01:50Z", "tags": [], "is_private": false}]