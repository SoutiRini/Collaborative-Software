[{"attachment_id": null, "tags": [], "bug_id": 6148, "is_private": false, "count": 0, "id": 10111, "time": "2002-01-31T11:10:51Z", "creator": "ralf.eichinger@rbg.de", "creation_time": "2002-01-31T11:10:51Z", "text": "after two weeks struggling with jndi under tomcat 4.0.2-b2 i found out that the JNDI-HOWTO was the source of all errors....\n\ni tried to bind a custom resource factory to tomcat (a factory for creating DB2ConnectionPoolDataSources). i followed the jndi-howto and the db2-application development guide but had now success...\n\nok, to make it short:\nthe example in the jndi-howto (MyBeanFactory) is not complete!!\nthe sun JNDI-Tutorial http://java.sun.com/products/jndi/tutorial/objects/factory/interface.html) says:\n\"Accessibility\nThe object factory class must not only\nimplement the ObjectFactory/DirObjectFactory\ninterface and provide an implementation for getObjectInstance(). \nIt also must be public and must have a public\nconstructor that accepts no arguments.\"\n\nHEUREKA! Ok the constructor is missing!!\nPlease correct the JNDI-HOWTO-example!\ni found dozens of developers in newsgroups having the\nsame problem as me...\n\n\npublic class MyBeanFactory\n  implements ObjectFactory {\n\n  public MyBeanFactory() {}  // IS MISSING!!!\n\n  public Object getObjectInstance(Object obj,\n    Name name, Context nameCtx, Hashtable environment)\n  throws NamingException {\n\n\nmeanwhile i have db2, jndi with connection pooling running...\nbest regards\nralf eichinger\nralf.eichinger@rbg.de"}, {"count": 1, "text": "????\nNot having a constructor in Java is equivalent to having a public constructor\nwith no arguments.\nNone of the factories which are bundled with Tomcat actually include a\nconstructor (look at their source if you don't believe me), and they all work\nvery well. You must have had some other problem which was causing the failure\n(although I would be interested to learn what it is).", "creator": "remm@apache.org", "is_private": false, "id": 10112, "time": "2002-01-31T11:27:55Z", "bug_id": 6148, "creation_time": "2002-01-31T11:27:55Z", "tags": [], "attachment_id": null}]