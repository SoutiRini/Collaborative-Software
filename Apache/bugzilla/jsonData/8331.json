[{"count": 0, "tags": [], "creator": "sms@lateral.net", "attachment_id": null, "id": 14140, "time": "2002-04-20T15:37:06Z", "bug_id": 8331, "creation_time": "2002-04-20T15:37:06Z", "is_private": false, "text": "Relevant information:\n\nroot@mite:/usr/local/apache-2# uname -a\nLinux mite 2.4.17 #10 SMP Wed Mar 13 00:13:22 GMT 2002 i686 unknown\nroot@mite:/usr/local/apache-2# java -version\njava version \"1.4.0-rc\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.0-rc-b91)\nJava HotSpot(TM) Client VM (build 1.4.0-rc-b91, mixed mode)\nroot@mite:/usr/local/apache-2# ./bin/httpd -version\nServer version: Apache/2.0.35\nServer built:   Apr 19 2002 22:45:16\n\nWhen the WebApp* directives are given before the ServerName directive, the\nfollowing error occurs:\n\nroot@mite:/usr/local/apache-2# ./bin/apachectl configtest\nSyntax error on line 221 of /usr/local/apache-2/conf/httpd.conf:\nInvalid virtual host name\n\nWhen the ServerName is set before the WebApp* declarations httpd appears to\nstart without errors, but it exits immediately. Although no logs are left\nbehind, doing an strace on it reveals that httpd reads the /etc/hosts file,\ncloses it and then gives the following error:\n\n[pid  3014] write(2, \"Syntax error on line 1022 of /us\"..., 66) = 66\n[pid  3014] write(2, \"Duplicate connection name\\n\", 26) = 26\n\nLine 1022 of my httpd.conf reads:\n\nWebAppConnection warpConnection warp localhost:8008\n\nThis is the first time that it's mentioned in the file outside of a comment, and\nthis is clearly not the reported error. What causes this? Why is the error\nmessage wrong? And how to I fix the problem?\n\nThe relevant lines for mod_webapp in the httpd.conf are:\n\nWebAppConnection warpConnection warp localhost:8008\nWebAppDeploy examples warpConnection /examples/\nWebAppInfo /webapp-info\n\nat the bottom (the Module is loaded near the top of the config) I'm using the\njar files from:\n\nhttp://jakarta.apache.org/builds/jakarta-tomcat-connectors/coyote/release/v1.0-b8/\n\nand I've built mod_webapp from the sources in the\njakarta-tomcat-connectors-4.0.2-01-src.tar.gz package, which appears to be the\nlatest available outside of cvs (which refuses to build for me) In addition,\nI've followed the advice in:\n\nhttp://www.mail-archive.com/tomcat-user@jakarta.apache.org/msg51557.html\n\nto create the libwebapp.so and mod_webapp.so files."}, {"count": 1, "tags": [], "creator": "chris.perry@opb.msu.edu", "attachment_id": 1665, "id": 14474, "time": "2002-04-23T17:24:02Z", "bug_id": 8331, "creation_time": "2002-04-23T17:24:02Z", "is_private": false, "text": "Created attachment 1665\nPossible workaround for 8331"}, {"count": 2, "tags": [], "bug_id": 8331, "is_private": false, "id": 15033, "creation_time": "2002-04-29T13:34:00Z", "time": "2002-04-29T13:34:00Z", "creator": "pier@betaversion.org", "text": "The patch works, although it's really a hack :) The thing we should do is \ndestroy our configuration members after the first time the configuration file \ngets parsed, by registering our memory pool as a sub-pool of the Apache \nconfiguration pool, and setting up a cleanup handler.", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 8331, "is_private": false, "text": "\"mod_webapp is deprecated and unsupported due to lack of developer interest.\nPlease use mod_jk, or jk2\"", "id": 35497, "time": "2003-04-18T13:22:55Z", "creator": "funkman@joedog.org", "creation_time": "2003-04-18T13:22:55Z", "attachment_id": null}]