[{"count": 0, "tags": [], "creator": "lianggt08@sei.pku.edu.cn", "is_private": false, "text": "The fix revision 730178 was aimed to remove an resource leak bug on the FileInputStream object \"fis \" (created in line 451), the Socket object \"socket\" (created in line 474) and the OutputStream object \"stream\" (created in line 475) in the method \"stopServer()\" of the file \"/tomcat/trunk/java/org/apache/catalina/valves/CometConnectionManagerValve.java\" , but it is incomplete. \n\nThere are some problems: \n1. when the statements at lines 452-454 throw some exception, the \"fis\" can not be closed as expected. \n2. when the statements at lines 475-480 throw some exception, the \"socket\" and the \"stream\" can not be closed as expected. \n\nThe best way to close such resource objects is putting such close operations in the finaly block of a try-catch-finally structure.", "id": 153977, "time": "2012-02-21T12:10:20Z", "bug_id": 52730, "creation_time": "2012-02-21T12:10:20Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 52730, "is_private": false, "count": 1, "id": 154585, "time": "2012-03-06T21:30:09Z", "creator": "markt@apache.org", "creation_time": "2012-03-06T21:30:09Z", "text": "Complete, total and utter nonsense.\n\nr730178 has nothing to do with either the CometConnectionManagerValve nor fixing a resource leak.\n\nThe line number referenced does not exist in CometConnectionManagerValve.java\n\nThis looks like an incoherent  mish-mash of bug 52729 and bug 52724."}]