[{"count": 0, "tags": [], "text": "Hi,\nI am getting the SSL error in Jmeter continuously as below:\n\njavax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: Certificates does not conform to algorithm constraints\n\tat sun.security.ssl.Alerts.getSSLException(Unknown Source)\n\tat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\n\tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n\tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n\tat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n\tat sun.security.ssl.Handshaker.processLoop(Unknown Source)\n\tat sun.security.ssl.Handshaker.process_record(Unknown Source)\n\tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown Source)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPJavaImpl.sample(HTTPJavaImpl.java:485)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:62)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1060)\n\tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1049)\n\tat org.apache.jmeter.threads.JMeterThread.process_sampler(JMeterThread.java:442)\n\tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:271)\n\tat java.lang.Thread.run(Unknown Source)\nCaused by: java.security.cert.CertificateException: Certificates does not conform to algorithm constraints\n\tat sun.security.ssl.AbstractTrustManagerWrapper.checkAlgorithmConstraints(Unknown Source)\n\tat sun.security.ssl.AbstractTrustManagerWrapper.checkAdditionalTrust(Unknown Source)\n\tat sun.security.ssl.AbstractTrustManagerWrapper.checkServerTrusted(Unknown Source)\n\t... 18 more\n\n\nSo to trach the error I enbled the Log Viewer in Jmeter and from logs found that the below detail:\n\n\n2014/04/07 17:06:39 INFO  - jmeter.engine.StandardJMeterEngine: Listeners will be started after enabling running version \n2014/04/07 17:06:39 INFO  - jmeter.engine.StandardJMeterEngine: To revert to the earlier behaviour, define jmeterengine.startlistenerslater=false \n2014/04/07 17:06:39 INFO  - jmeter.engine.StandardJMeterEngine: Running the test! \n2014/04/07 17:06:39 INFO  - jmeter.gui.util.JMeterMenuBar: setRunning(true,*local*) \n2014/04/07 17:06:40 INFO  - jmeter.engine.StandardJMeterEngine: Starting 1 threads for group Thread Group. \n2014/04/07 17:06:40 INFO  - jmeter.engine.StandardJMeterEngine: Thread will continue on error \n2014/04/07 17:06:40 INFO  - jmeter.threads.JMeterThread: jmeterthread.startearlier=true (see jmeter.properties) \n2014/04/07 17:06:40 INFO  - jmeter.threads.JMeterThread: Running PostProcessors in forward order \n2014/04/07 17:06:40 INFO  - jmeter.engine.StandardJMeterEngine: All threads have been started \n2014/04/07 17:06:40 INFO  - jmeter.threads.JMeterThread: Thread started: Thread Group 1-1 \n2014/04/07 17:06:44 INFO  - jmeter.protocol.http.sampler.HTTPJavaImpl: Maximum connection retries = 10 \n2014/04/07 17:06:44 INFO  - jmeter.util.JsseSSLManager: Using default SSL protocol: TLS \n2014/04/07 17:06:44 INFO  - jmeter.util.JsseSSLManager: SSL session context: per-thread \n2014/04/07 17:06:44 INFO  - jmeter.util.SSLManager: JmeterKeyStore Location:  type JKS \n2014/04/07 17:06:44 INFO  - jmeter.util.SSLManager: KeyStore created OK \n2014/04/07 17:06:44 WARN  - jmeter.util.SSLManager: Keystore file not found, loading empty keystore \n2014/04/07 17:06:45 INFO  - jmeter.threads.JMeterThread: Thread finished: Thread Group 1-1 \n2014/04/07 17:06:45 INFO  - jmeter.engine.StandardJMeterEngine: Ending thread Thread Group 1-1 \n2014/04/07 17:06:45 INFO  - jmeter.engine.StandardJMeterEngine: Notifying test listeners of end of test \n2014/04/07 17:06:45 INFO  - jmeter.gui.util.JMeterMenuBar: setRunning(false,*local*) \n2014/04/07 17:06:45 INFO  - jmeter.engine.StandardJMeterEngine: Test has ended on host null \n\n\nCan someone please help me to get rid out from this SSL issue??", "attachment_id": null, "id": 174326, "creator": "memayurdhande@outlook.com", "time": "2014-04-07T12:15:33Z", "bug_id": 56357, "creation_time": "2014-04-07T12:15:33Z", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 56357, "text": "Hello,\nWhat java version are you using ?\nCan you attach details of your certificate as shown by Firefox ? I want to see algorithms used for hashing ?\n\n\nLook at this:\nhttp://stackoverflow.com/questions/14149545/java-security-cert-certificateexception-certificates-does-not-conform-to-algori\n\nAnd make tests by setting in user.properties:\n# Default HTTPS protocol level:\n#https.default.protocol=TLS\n# This may need to be changed here (or in user.properties) to:\n#https.default.protocol=SSLv3\n\n# List of protocols to enable. You may have to select only a subset if you find issues with target server.\n# This is needed when server does not support Socket version negotiation, this can lead to:\n# javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\n# java.net.SocketException: Connection reset\n# see https://issues.apache.org/bugzilla/show_bug.cgi?id=54759\n#https.socket.protocols=SSLv2Hello SSLv3 TLSv1\n\nThanks", "id": 174334, "time": "2014-04-07T20:35:32Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-04-07T20:35:32Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 56357, "attachment_id": null, "text": "Hi,\nI am using the jdk1.7.0_17.Also for this I haven't instilled any certificate ,I am just passing the username and password and try to login on our production environment.But it throws an SSL error.", "id": 174364, "time": "2014-04-08T10:46:00Z", "creator": "memayurdhande@outlook.com", "creation_time": "2014-04-08T10:46:00Z", "is_private": false}, {"count": 3, "tags": [], "text": "Could you hit in Firefox the URL you use in your test.\nThen click on the padlock and More Information, Tab Security > View Certificate > Details > Export.", "attachment_id": null, "id": 174655, "creator": "p.mouawad@ubik-ingenierie.com", "time": "2014-04-16T19:25:46Z", "bug_id": 56357, "creation_time": "2014-04-16T19:25:46Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 56357, "attachment_id": null, "id": 175208, "time": "2014-05-14T14:30:32Z", "creator": "memayurdhande@outlook.com", "creation_time": "2014-05-14T14:30:32Z", "is_private": false, "text": "Hello,\nStill I am getting the same error.\nPlease find the logs for this :\n2014/05/14 19:52:56 INFO  - jmeter.engine.StandardJMeterEngine: Running the test! \n2014/05/14 19:52:56 INFO  - jmeter.samplers.SampleEvent: List of sample_variables: [] \n2014/05/14 19:52:56 INFO  - jmeter.gui.util.JMeterMenuBar: setRunning(true,*local*) \n2014/05/14 19:52:57 INFO  - jmeter.engine.StandardJMeterEngine: Starting ThreadGroup: 1 : Thread Group \n2014/05/14 19:52:57 INFO  - jmeter.engine.StandardJMeterEngine: Starting 1 threads for group Thread Group. \n2014/05/14 19:52:57 INFO  - jmeter.engine.StandardJMeterEngine: Thread will continue on error \n2014/05/14 19:52:57 INFO  - jmeter.threads.ThreadGroup: Starting thread group number 1 threads 1 ramp-up 1 perThread 1000.0 delayedStart=false \n2014/05/14 19:52:57 INFO  - jmeter.threads.ThreadGroup: Started thread group number 1 \n2014/05/14 19:52:57 INFO  - jmeter.engine.StandardJMeterEngine: All thread groups have been started \n2014/05/14 19:52:57 INFO  - jmeter.threads.JMeterThread: Thread started: Thread Group 1-1 \n2014/05/14 19:53:03 INFO  - jmeter.threads.JMeterThread: Thread finished: Thread Group 1-1 \n2014/05/14 19:53:03 INFO  - jmeter.engine.StandardJMeterEngine: Notifying test listeners of end of test \n2014/05/14 19:53:03 INFO  - jmeter.gui.util.JMeterMenuBar: setRunning(false,*local*)"}, {"count": 5, "tags": [], "bug_id": 56357, "attachment_id": null, "id": 175447, "time": "2014-05-25T20:19:33Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-05-25T20:19:33Z", "is_private": false, "text": "Closing as no answer received to required infos."}, {"count": 6, "tags": [], "text": "\nThis bug is related to Java version.\n\nSince Java 7 u16, the sign algo MD2 is disable.\nhttp://www.oracle.com/technetwork/java/javase/6u17-141447.html\n\nA simple workaround is to revert the disable.\nEdit the JDK_HOME/jre/lib/security/java.security\nAnd change \njdk.certpath.disabledAlgorithms=MD2\n\n(or jdk.certpath.disabledAlgorithms=MD2, RSA keySize < 1024\nsince Java 7 u40 & Java 8)\n\nto\njdk.certpath.disabledAlgorithms=\n\n(or jdk.certpath.disabledAlgorithms=RSA keySize < 1024\nsince Java 7 u40 & Java 8))\n\n\nI re-open the issue to find the good way with JMeter to not use the MD2 signature algorithm.", "attachment_id": null, "bug_id": 56357, "id": 178498, "time": "2014-10-16T06:03:46Z", "creator": "milamber@apache.org", "creation_time": "2014-10-16T06:03:46Z", "is_private": false}, {"count": 7, "tags": [], "bug_id": 56357, "text": "\nFor reference:\n\nhttp://www.oracle.com/technetwork/java/javase/7u40-relnotes-2004172.html\n\nDefault x.509 Certificates Have Longer Key Length\n\nStarting from 7u40, the use of x.509 certificates with RSA keys less than 1024 bits in length is restricted. This restriction is applied via the Java Security property, jdk.certpath.disabledAlgorithms. The default value of jdk.certpath.disabledAlgorithms is now as follows:\njdk.certpath.disabledAlgorithms=MD2, RSA keySize < 1024\n\nIn order to avoid the compatibility issue, users who use X.509 certificates with RSA keys less than 1024 bits, are recommended to update their certificates with stronger keys. As a workaround, at their own risk, users can adjust the key size to permit smaller key sizes through the security property jdk.certpath.disabledAlgorithms.", "id": 178499, "time": "2014-10-16T06:05:35Z", "creator": "milamber@apache.org", "creation_time": "2014-10-16T06:05:35Z", "is_private": false, "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 56357, "text": "Generally JMeter tries allow testing of all sites. For example, JMeter does not do hostname checks.\n\nIt is assumed that the user knows best regarding the URLs that are used in a Test Plan.\n\nSo ideally JMeter should be able to continue to support testing of such HTTPS servers, even though they are not as secure as they should be.", "id": 178514, "time": "2014-10-16T19:14:55Z", "creator": "sebb@apache.org", "creation_time": "2014-10-16T19:14:55Z", "is_private": false, "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 56357, "attachment_id": null, "text": "\nI'm not sure of the reason of your comment, it's a Java issue. The Java (security) team have change the minimal signature algorithm and key size with latest Java7/8 version. JMeter stops \"works\" because the signalg and keysize are incorrect (on JMeter proxy tool with websites which don't expose SSLv3/MD2/1024bits SSL cipher/algo/key size).\n\nThe objective is to have a JMeter tool which works with Java lastest of version 7 and 8 (and 6). On my mind, it's normal (and secure) to update my Java version to avoid security issue, and have a JMeter (default install) works.", "id": 178517, "time": "2014-10-16T20:05:56Z", "creator": "milamber@apache.org", "creation_time": "2014-10-16T20:05:56Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 56357, "attachment_id": null, "is_private": false, "id": 178518, "time": "2014-10-16T20:09:46Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-10-16T20:09:46Z", "text": "Now it's much clearer for me. Thanks milamber"}, {"count": 11, "tags": [], "bug_id": 56357, "attachment_id": null, "text": "(In reply to Milamber from comment #9)\n> I'm not sure of the reason of your comment, it's a Java issue. The Java\n> (security) team have change the minimal signature algorithm and key size\n> with latest Java7/8 version. \n\nAgreed, it is a Java change.\n\n> JMeter stops \"works\" because the signalg and\n> keysize are incorrect (on JMeter proxy tool with websites which don't expose\n> SSLv3/MD2/1024bits SSL cipher/algo/key size).\n\nThe original description is not about the Proxy, it is about the HTTPS Sampler.\n\nAlso, it looks as though the problem is that the certificate that is returned by the server is no longer acceptable.\n\nDoes the server return a different certificate if JMeter connects with a different cipher?\n\n> The objective is to have a JMeter tool which works with Java lastest of\n> version 7 and 8 (and 6). On my mind, it's normal (and secure) to update my\n> Java version to avoid security issue, and have a JMeter (default install)\n> works.\n\nThere are two issues here.\n\nUpdating the default SSL cipher if necessary.\n\nUpdating JMeter - if possible - so it still works against sites that return outdated certificates. If it's not possible to change the JVM behaviour at run-time, then ensure that we document how to fix the problem. Possibly detect the specific failure message and log a message pointing to the docn.", "id": 178519, "time": "2014-10-16T20:30:39Z", "creator": "sebb@apache.org", "creation_time": "2014-10-16T20:30:39Z", "is_private": false}, {"count": 12, "tags": [], "creator": "milamber@apache.org", "attachment_id": null, "id": 178603, "time": "2014-10-19T16:31:16Z", "bug_id": 56357, "creation_time": "2014-10-19T16:31:16Z", "is_private": false, "text": "\n\nURL: http://svn.apache.org/r1632953\nLog:\nCertificates does not conform to algorithm constraints: Adding a note to indicate how to remove of the Java installation these new security constraints\nBugzilla Id: 56357\n\nModified:\n    jmeter/trunk/xdocs/changes.xml\n    jmeter/trunk/xdocs/usermanual/component_reference.xml"}, {"count": 13, "tags": [], "bug_id": 56357, "text": "\n\nFor reference:\nhttps://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-2409", "id": 178604, "time": "2014-10-19T16:54:01Z", "creator": "milamber@apache.org", "creation_time": "2014-10-19T16:54:01Z", "is_private": false, "attachment_id": null}, {"count": 14, "tags": [], "text": "*** Bug 60546 has been marked as a duplicate of this bug. ***", "is_private": false, "id": 195830, "creator": "felix.schumacher@internetallee.de", "time": "2017-01-03T19:09:33Z", "bug_id": 56357, "creation_time": "2017-01-03T19:09:33Z", "attachment_id": null}]