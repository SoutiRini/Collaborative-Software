[{"count": 0, "tags": [], "bug_id": 21718, "attachment_id": null, "is_private": false, "id": 40944, "time": "2003-07-18T19:17:34Z", "creator": "iwalker@ucsc.edu", "creation_time": "2003-07-18T19:17:34Z", "text": "I downloaded 2.0.47, ran ./configure --prefix=/usr/local --enable-mods-\nshared=all, then did a make. Here's what I get:\n--\nMaking all in prefork\n/bin/sh /usr/home/iwalker/build/httpd-2.0.47/srclib/apr/libtool --silent --\nmode=compile gcc  -g -O2 -Wall -Wmissing-prototypes -Wstrict-prototypes -\nWmissing-declarations    -D_REENTRANT -D_THREAD_SAFE -DAP_DEBUG -\nDAP_HAVE_DESIGNATED_INITIALIZER   -I/usr/home/iwalker/build/httpd-\n2.0.47/srclib/apr/include -I/usr/home/iwalker/build/httpd-2.0.47/srclib/apr-\nutil/include -I/usr/local/include -I. -I/usr/home/iwalker/build/httpd-\n2.0.47/os/unix -I/usr/home/iwalker/build/httpd-2.0.47/server/mpm/prefork -\nI/usr/home/iwalker/build/httpd-2.0.47/modules/http -\nI/usr/home/iwalker/build/httpd-2.0.47/modules/filters -\nI/usr/home/iwalker/build/httpd-2.0.47/modules/proxy -\nI/usr/home/iwalker/build/httpd-2.0.47/include -I/usr/home/iwalker/build/httpd-\n2.0.47/modules/dav/main -prefer-non-pic -static -\nc /usr/home/iwalker/build/httpd-2.0.47/server/exports.c && \ntouch /usr/home/iwalker/build/httpd-2.0.47/server/exports.lo\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:253: \n`ap_is_recursion_limit_exceeded' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:454: \n`ap_unescape_url_keep2f' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:460: `ap_escape_logitem' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:940: \n`apr_filepath_list_split' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:941: \n`apr_filepath_list_merge' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:944: \n`apr_filepath_encoding' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1083: \n`apr_socket_create_ex' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1084: \n`apr_socket_shutdown' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1087: `apr_socket_bind' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1089: `apr_socket_listen' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1091: `apr_socket_accept' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1093: \n`apr_socket_connect' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1101: `apr_socket_send' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1103: `apr_socket_sendv' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1105: `apr_socket_sendto' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1107: \n`apr_socket_recvfrom' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1110: \n`apr_socket_sendfile' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1113: `apr_socket_recv' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1133: \n`apr_socket_protocol_get' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1226: `apr_os_pipe_put' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1241: \n`apr_os_default_encoding' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1242: \n`apr_os_locale_encoding' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1253: \n`apr_proc_mutex_cleanup' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1254: \n`apr_proc_mutex_lockfile' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1335: \n`apr_table_compress' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1396: \n`apr_procattr_child_errfn_set' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1397: \n`apr_procattr_error_check_set' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1407: \n`apr_proc_other_child_alert' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1408: \n`apr_proc_other_child_refresh' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1409: \n`apr_proc_other_child_refresh_all' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1447: \n`apr_time_exp_gmt_get' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1459: `apr_uid_current' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1461: `apr_uid_name_get' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1463: `apr_uid_get' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1465: \n`apr_uid_homepath_get' undeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1472: `apr_gid_name_get' \nundeclared here (not in a function)\n/usr/home/iwalker/build/httpd-2.0.47/server/exports.c:1475: `apr_gid_get' \nundeclared here (not in a function)\n*** Error code 1\n--\nI've tried to build it using different configure settings, even the default \nconfigure, but exports.c always errors out."}, {"count": 1, "tags": [], "bug_id": 21718, "attachment_id": null, "is_private": false, "id": 42417, "time": "2003-08-08T15:30:16Z", "creator": "kate.ward@forestent.com", "creation_time": "2003-08-08T15:30:16Z", "text": "I am having a similar problem.  I am including a small snippit of a huge error list.\n\nSolaris 8 02/02\ngcc 3.3\n\n...\nsort -u $tmp > export_files; \\\nrm -f $tmp\nnawk -f /usr/local/src/apache/src/httpd-2.0.47/build/make_exports.awk `cat\nexport_files` > /usr/local/src/apache/src/httpd-2.0.47/server/exports.c\n/bin/bash /VolA1/usr/local/src/apache/src/httpd-2.0.47/srclib/apr/libtool\n--silent --mode=compile gcc  -g -O2 -pthreads    -DSOLARIS2=8\n-D_POSIX_PTHREAD_SEMANTICS -D_REENTRANT -DAP_HAVE_DESIGNATED_INITIALIZER  \n-I/VolA1/usr/local/src/apache/src/httpd-2.0.47/srclib/apr/include\n-I/usr/local/src/apache/src/httpd-2.0.47/srclib/apr/include\n-I/VolA1/usr/local/src/apache/src/httpd-2.0.47/srclib/apr-util/include\n-I/usr/local/src/apache/src/httpd-2.0.47/srclib/apr-util/include\n-I/usr/local/src/apache/src/httpd-2.0.47/srclib/apr-util/xml/expat/lib -I.\n-I/usr/local/src/apache/src/httpd-2.0.47/os/unix\n-I/usr/local/src/apache/src/httpd-2.0.47/server/mpm/worker\n-I/usr/local/src/apache/src/httpd-2.0.47/modules/http\n-I/usr/local/src/apache/src/httpd-2.0.47/modules/filters\n-I/usr/local/src/apache/src/httpd-2.0.47/modules/proxy\n-I/usr/local/src/apache/src/httpd-2.0.47/include\n-I/usr/local/ssl/include/openssl -I/usr/local/ssl/include\n-I/usr/local/src/apache/src/httpd-2.0.47/modules/dav/main -prefer-non-pic\n-static -c /usr/local/src/apache/src/httpd-2.0.47/server/exports.c && touch\n/usr/local/src/apache/src/httpd-2.0.47/server/exports.lo\n/usr/local/src/apache/src/httpd-2.0.47/server/exports.c:1554: error:\nredefinition of `ap_hack_apr_base64_encode_len'\n/usr/local/src/apache/src/httpd-2.0.47/server/exports.c:175: error:\n`ap_hack_apr_base64_encode_len' previously defined here\n/usr/local/src/apache/src/httpd-2.0.47/server/exports.c:1555: error:\nredefinition of `ap_hack_apr_base64_encode'\n/usr/local/src/apache/src/httpd-2.0.47/server/exports.c:176: error:\n`ap_hack_apr_base64_encode' previously defined here\n/usr/local/src/apache/src/httpd-2.0.47/server/exports.c:1556: error:\nredefinition of `ap_hack_apr_base64_encode_binary'\n/usr/local/src/apache/src/httpd-2.0.47/server/exports.c:177: error:\n`ap_hack_apr_base64_encode_binary' previously defined here\n/usr/local/src/apache/src/httpd-2.0.47/server/exports.c:1557: error:\nredefinition of `ap_hack_apr_base64_decode_len'\n/usr/local/src/apache/src/httpd-2.0.47/server/exports.c:178: error:\n`ap_hack_apr_base64_decode_len' previously defined here\n/usr/local/src/apache/src/httpd-2.0.47/server/exports.c:1558: error:\nredefinition of `ap_hack_apr_base64_decode'\n/usr/local/src/apache/src/httpd-2.0.47/server/exports.c:179: error:\n`ap_hack_apr_base64_decode' previously defined here\n/usr/local/src/apache/src/httpd-2.0.47/server/exports.c:1559: error:\nredefinition of `ap_hack_apr_base64_decode_binary'\n..."}, {"count": 2, "tags": [], "bug_id": 21718, "attachment_id": null, "text": "I have found a workaround for my problem.  See Bug #23225.", "id": 44495, "time": "2003-09-23T10:30:28Z", "creator": "kate.ward@forestent.com", "creation_time": "2003-09-23T10:30:28Z", "is_private": false}, {"count": 3, "text": "Apologies for submitting what might seem like a \"me, too\" report, but I have some extra \ninformation I don't see reported here.  It seems like this ought to be changed from a bug against \nPC/NetBSD to \"all\", since we now have reports against Sparc and Alpha platforms?\n\nI'm encountering an almost identical issue under Tru64 4.0F, using native tools (cc 6.5-207) to \nbuild httpd version 2.0.48; the only difference from the two instances reported previously is that \nit's a different set of functions that aren't declared by the time exports.c starts naming them.\n\nGoing back through releases, the last version of Apache that built correctly (on this platform) \nseems to be 2.0.44; the problem appears in 2.0.45 through 48, corrresponding to APR 0.9.3 and \nlater.\n\nMy first suspicion was that this might be related to building shared modules; however, I see the \nproblem appears with --enable-modules=all as well as --enable-modules-shared=all.  Nor does \n--enable-so make a difference.  So much for that theory.\n\nMy second suspicion, based on ap_strchr being one of the missing declarations, was that the back \nand forth definitions of strchr and ap_strchr might be at fault.  This one I can't as easily prove or \ndisprove, not understanding the reasoning behind the dual definitions (ap_strchr becomes strchr, \nand strchr becomes ap_strchr, depending on which chunk you're reading). At this point I stopped \nand defer to the developers.\n\nThe list of undeclared functions I encounter are: ap_get_module_config ap_set_module_config \nap_is_recursion_limit_exceeded ap_unescape_url_keep2f ap_escape_logitem ap_strchr ap_strchr_c \nap_strrchr ap_strrchr_c ap_strstr ap_strstr_c apr_bucket_alloc_create_ex apr_filepath_list_split \napr_filepath_list_merge apr_file_mtime_set apr_temp_dir_get apr_socket_atmark \napr_os_pipe_put_ex apr_proc_mutex_lockfile apr_table_compress apr_procattr_child_errfn_set \napr_procattr_error_check_set apr_proc_other_child_alert apr_proc_other_child_refresh \napr_proc_other_child_refresh_all\n\nHope this helps...", "bug_id": 21718, "attachment_id": null, "id": 46844, "time": "2003-11-05T07:39:36Z", "creator": "Robert.Krzaczek@gmail.com", "creation_time": "2003-11-05T07:39:36Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of 8867 ***", "attachment_id": null, "id": 51137, "creator": "jorton@redhat.com", "time": "2004-01-25T16:03:14Z", "bug_id": 21718, "creation_time": "2004-01-25T16:03:14Z", "is_private": false}, {"count": 5, "tags": [], "text": "It's been pointed out privately that this isn't a duplicate of bug 8867, which\nconcerns the duplicate/redefined symbols errors in a symlinked tree.\n\nIf you have a repro case where a build of 2.0.48 from the tarball fails in\nexports.c with \"undeclared\" errors, please attach the exports.c which was generated.", "attachment_id": null, "id": 51193, "creator": "jorton@redhat.com", "time": "2004-01-26T15:57:21Z", "bug_id": 21718, "creation_time": "2004-01-26T15:57:21Z", "is_private": false}, {"count": 6, "text": "Created attachment 10305\nexports.c compilation errors", "bug_id": 21718, "is_private": false, "id": 52081, "time": "2004-02-10T23:00:47Z", "creator": "Robert.Krzaczek@gmail.com", "creation_time": "2004-02-10T23:00:47Z", "tags": [], "attachment_id": 10305}, {"count": 7, "text": "Created attachment 10306\nserver/exports.c (from Tru64, matching the build errors (separate attachement))", "bug_id": 21718, "is_private": false, "id": 52082, "time": "2004-02-10T23:02:31Z", "creator": "Robert.Krzaczek@gmail.com", "creation_time": "2004-02-10T23:02:31Z", "tags": [], "attachment_id": 10306}, {"count": 8, "tags": [], "bug_id": 21718, "attachment_id": null, "text": "Changing this bug from PC/Netbsd to All/All, since it's apparently occurring under multiple \narchitectures.", "id": 52083, "time": "2004-02-10T23:03:50Z", "creator": "Robert.Krzaczek@gmail.com", "creation_time": "2004-02-10T23:03:50Z", "is_private": false}, {"count": 9, "tags": [], "text": "It looks like this is indeed the same problem as the other bug, your /var/tmp is\na symlink to /usr/var/tmp or something, there are filenames like this in the\ninclude path:\n\n/usr/var/tmp/httpd-2.0.48/srclib/apr/include\n\nI don't quite see why it fails with \"undeclared functions\", but it's the same\nbug with the same fix.\n\nHave you tried the replacement make_exports.awk I attached to bug 8867?", "attachment_id": null, "bug_id": 21718, "id": 52122, "time": "2004-02-11T14:21:34Z", "creator": "jorton@redhat.com", "creation_time": "2004-02-11T14:21:34Z", "is_private": false}, {"count": 10, "tags": [], "bug_id": 21718, "attachment_id": 10343, "text": "Created attachment 10343\nupdated: build errors", "id": 52204, "time": "2004-02-12T21:13:15Z", "creator": "Robert.Krzaczek@gmail.com", "creation_time": "2004-02-12T21:13:15Z", "is_private": false}, {"count": 11, "text": "Created attachment 10344\nupdate: exports.c", "creator": "Robert.Krzaczek@gmail.com", "is_private": false, "id": 52205, "time": "2004-02-12T21:14:26Z", "bug_id": 21718, "creation_time": "2004-02-12T21:14:26Z", "tags": [], "attachment_id": 10344}, {"count": 12, "text": "My sincere apologies; I did the last minute rebuild under /var/tmp on a system where, as you \nfound, /var was symlinked to /usr/var.  I assure you, though, the errors I mentioned before do \nhappen in a build under a directory tree without symlinks.  I've made two new attachments to this \nbug, including the errors and exports.c on a tree free of symlinks.  If there's something else \nobvious I'm missing, please don't hesitate to let me know, and thank you for looking at this so \nquickly.", "bug_id": 21718, "attachment_id": null, "id": 52206, "time": "2004-02-12T21:18:11Z", "creator": "Robert.Krzaczek@gmail.com", "creation_time": "2004-02-12T21:18:11Z", "tags": [], "is_private": false}, {"count": 13, "tags": [], "creator": "Robert.Krzaczek@gmail.com", "attachment_id": null, "text": "Also, I just tested with the replacement make_exports.awk, and still got the undeclared symbol \nerrors.", "id": 52207, "time": "2004-02-12T21:30:29Z", "bug_id": 21718, "creation_time": "2004-02-12T21:30:29Z", "is_private": false}, {"count": 14, "tags": [], "creator": "jorton@redhat.com", "text": "The set of functions which are undeclared is curious: it's almost all functions\nwhich are new in 2.0.48 since 2.0.47.  Do you have an older 2.0.47 install in\none of: -I/usr/local/include  -I/cis/include for which the headers are being\npicked up? (there's Another Bug on header ordering which causes this)\n\nOtherwise the next step is to get preprocessed output: run\n\nmake CFLAGS=-E exports.lo\n\nwhich should generate an exports.o which is the cpp output: attach that.  It'll\nshow if the wrong headers are being picked up too.", "id": 52208, "time": "2004-02-12T21:40:41Z", "bug_id": 21718, "creation_time": "2004-02-12T21:40:41Z", "is_private": false, "attachment_id": null}, {"count": 15, "tags": [], "creator": "jorton@redhat.com", "text": "Can anyone reproduce this with 2.0.53?  I'm wondering if the fix for bug 8867 in\n2.0.51 did fix this too.", "id": 71785, "time": "2005-03-03T16:25:23Z", "bug_id": 21718, "creation_time": "2005-03-03T16:25:23Z", "is_private": false, "attachment_id": null}, {"count": 16, "text": "(In reply to comment #15)\n> Can anyone reproduce this with 2.0.53?  I'm wondering if the fix for bug 8867 in\n> 2.0.51 did fix this too.\n\n\nI have a similar problem with 2.0.53.\nI have gcc-3.2.3 and Linux Redhat 9.\nI downloaded version 2.0.53 and I execute only the following statements :\n./configure --prefix=/usr/local/http-2.0.53\nmake\nand I have the following status :\nmake[2]: Entre dans le r\u00e9pertoire `/usr/local/httpd-2.0.53/server'\n/usr/local/httpd-2.0.53/srclib/apr/libtool --silent --mode=compile gcc296  -g\n-O2 -pthread    -DLINUX=2 -D_REENTRANT -D_XOPEN_SOURCE=500 -D_BSD_SOURCE\n-D_SVID_SOURCE -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER  \n-I/usr/local/httpd-2.0.53/srclib/apr/include\n-I/usr/local/httpd-2.0.53/srclib/apr-util/include -I.\n-I/usr/local/httpd-2.0.53/os/unix -I/usr/local/httpd-2.0.53/server/mpm/prefork\n-I/usr/local/httpd-2.0.53/modules/http -I/usr/local/httpd-2.0.53/modules/filters\n-I/usr/local/httpd-2.0.53/modules/proxy -I/usr/local/httpd-2.0.53/include\n-I/usr/local/httpd-2.0.53/modules/generators\n-I/usr/local/httpd-2.0.53/modules/dav/main -prefer-non-pic -static -c exports.c\n&& touch exports.lo\nexports.c:1575: redefinition of `ap_hack_apr_allocator_create'\nexports.c:196: `ap_hack_apr_allocator_create' previously defined here\nexports.c:1576: redefinition of `ap_hack_apr_allocator_destroy'\nexports.c:197: `ap_hack_apr_allocator_destroy' previously defined here\nexports.c:1577: redefinition of `ap_hack_apr_allocator_alloc'\nexports.c:198: `ap_hack_apr_allocator_alloc' previously defined here\nexports.c:1578: redefinition of `ap_hack_apr_allocator_free'\nexports.c:199: `ap_hack_apr_allocator_free' previously defined here\nexports.c:1579: redefinition of `ap_hack_apr_allocator_owner_set'\nexports.c:200: `ap_hack_apr_allocator_owner_set' previously defined here\nexports.c:1580: redefinition of `ap_hack_apr_allocator_set_owner'\nexports.c:201: `ap_hack_apr_allocator_set_owner' previously defined here\nexports.c:1581: redefinition of `ap_hack_apr_allocator_owner_get'\nexports.c:202: `ap_hack_apr_allocator_owner_get' previously defined here\nexports.c:1582: redefinition of `ap_hack_apr_allocator_get_owner'\nexports.c:203: `ap_hack_apr_allocator_get_owner' previously defined here\nexports.c:1583: redefinition of `ap_hack_apr_allocator_max_free_set'\nexports.c:204: `ap_hack_apr_allocator_max_free_set' previously defined here\nexports.c:1584: redefinition of `ap_hack_apr_allocator_set_max_free'\nexports.c:205: `ap_hack_apr_allocator_set_max_free' previously defined here\nexports.c:1586: redefinition of `ap_hack_apr_allocator_mutex_set'\nexports.c:207: `ap_hack_apr_allocator_mutex_set' previously defined here\n...\nexports.c:2457: redefinition of `ap_hack_apu_version'\nexports.c:1095: `ap_hack_apu_version' previously defined here\nexports.c:2458: redefinition of `ap_hack_apu_version_string'\nexports.c:1096: `ap_hack_apu_version_string' previously defined here\nmake[2]: *** [exports.lo] Erreur 1\nmake[2]: Quitte le r\u00e9pertoire `/usr/local/httpd-2.0.53/server'\nmake[1]: *** [all-recursive] Erreur 1\nmake[1]: Quitte le r\u00e9pertoire `/usr/local/httpd-2.0.53/server'\nmake: *** [all-recursive] Erreur 1\n[root@pc httpd-2.0.53]#\n\nDo you have a solution?", "bug_id": 21718, "attachment_id": null, "id": 73201, "time": "2005-04-01T23:04:59Z", "creator": "eric.pletan@free.fr", "creation_time": "2005-04-01T23:04:59Z", "tags": [], "is_private": false}, {"count": 17, "text": "Eric, can you run:\n\ncd server\nrm export_files\nmake export_files\n\nand attach the generated \"export_files\" to this bug report?", "bug_id": 21718, "attachment_id": null, "id": 73251, "time": "2005-04-04T15:28:38Z", "creator": "jorton@redhat.com", "creation_time": "2005-04-04T15:28:38Z", "tags": [], "is_private": false}, {"count": 18, "tags": [], "bug_id": 21718, "text": "(In reply to comment #17)\n> Eric, can you run:\n> \n> cd server\n> rm export_files\n> make export_files\n> \n> and attach the generated \"export_files\" to this bug report?\n\nI follow your explanations and I give you the result :\n\n[root@pc server]# rm export_files\nrm: d\u00e9truire fichier r\u00e9gulier `export_files'? y\n[root@pc server]# make export_files\ntmp=export_files_unsorted.txt; \\\nrm -f $tmp && touch $tmp; \\\nfor dir in /usr/local/httpd-2.0.53/include /usr/local/httpd-2.0.53/os/unix\n/usr/local/httpd-2.0.53/modules/http; do \\\n    ls $dir/*.h >> $tmp; \\\ndone; \\\nfor dir in /usr/local/httpd-2.0.53/srclib/apr/include\n/usr/local/httpd-2.0.53/srclib/apr-util/include; do \\\n    ls $dir/ap[ru].h >> $tmp; \\\n    ls $dir/ap[ru]_*.h >> $tmp; \\\ndone; \\\nsort -u $tmp > export_files; \\\nrm -f $tmp\n[root@pc server]# ll export_files\n-rw-r--r--    1 root     root         7945 avr  4 19:28 export_files\n[root@pc server]# more export_files\n/usr/local/httpd-2.0.53/include/ap_compat.h\n/usr/local/httpd-2.0.53/include/ap_config_auto.h\n/usr/local/httpd-2.0.53/include/ap_config.h\n/usr/local/httpd-2.0.53/include/ap_config_layout.h\n/usr/local/httpd-2.0.53/include/ap_listen.h\n/usr/local/httpd-2.0.53/include/ap_mmn.h\n/usr/local/httpd-2.0.53/include/ap_mpm.h\n/usr/local/httpd-2.0.53/include/ap_provider.h\n/usr/local/httpd-2.0.53/include/apr_allocator.h\n/usr/local/httpd-2.0.53/include/apr_anylock.h\n/usr/local/httpd-2.0.53/include/apr_atomic.h\n/usr/local/httpd-2.0.53/include/apr_base64.h\n/usr/local/httpd-2.0.53/include/apr_buckets.h\n/usr/local/httpd-2.0.53/include/apr_compat.h\n/usr/local/httpd-2.0.53/include/apr_date.h\n/usr/local/httpd-2.0.53/include/apr_dbm.h\n/usr/local/httpd-2.0.53/include/apr_dso.h\n/usr/local/httpd-2.0.53/include/ap_regkey.h\n/usr/local/httpd-2.0.53/include/ap_release.h\n/usr/local/httpd-2.0.53/include/apr_env.h\n/usr/local/httpd-2.0.53/include/apr_errno.h\n/usr/local/httpd-2.0.53/include/apr_file_info.h\n/usr/local/httpd-2.0.53/include/apr_file_io.h\n/usr/local/httpd-2.0.53/include/apr_fnmatch.h\n/usr/local/httpd-2.0.53/include/apr_general.h\n/usr/local/httpd-2.0.53/include/apr_getopt.h\n/usr/local/httpd-2.0.53/include/apr_global_mutex.h\n/usr/local/httpd-2.0.53/include/apr.h\n/usr/local/httpd-2.0.53/include/apr_hash.h\n/usr/local/httpd-2.0.53/include/apr_hooks.h\n/usr/local/httpd-2.0.53/include/apr_inherit.h\n/usr/local/httpd-2.0.53/include/apr_ldap.h\n/usr/local/httpd-2.0.53/include/apr_ldap_url.h\n/usr/local/httpd-2.0.53/include/apr_lib.h\n/usr/local/httpd-2.0.53/include/apr_md4.h\n/usr/local/httpd-2.0.53/include/apr_md5.h\n/usr/local/httpd-2.0.53/include/apr_mmap.h\n/usr/local/httpd-2.0.53/include/apr_network_io.h\n/usr/local/httpd-2.0.53/include/apr_optional.h\n/usr/local/httpd-2.0.53/include/apr_optional_hooks.h\n/usr/local/httpd-2.0.53/include/apr_poll.h\n/usr/local/httpd-2.0.53/include/apr_pools.h\n/usr/local/httpd-2.0.53/include/apr_portable.h\n/usr/local/httpd-2.0.53/include/apr_proc_mutex.h\n/usr/local/httpd-2.0.53/include/apr_queue.h\n/usr/local/httpd-2.0.53/include/apr_reslist.h\n/usr/local/httpd-2.0.53/include/apr_ring.h\n/usr/local/httpd-2.0.53/include/apr_rmm.h\n/usr/local/httpd-2.0.53/include/apr_sdbm.h\n/usr/local/httpd-2.0.53/include/apr_sha1.h\n/usr/local/httpd-2.0.53/include/apr_shm.h\n/usr/local/httpd-2.0.53/include/apr_signal.h\n/usr/local/httpd-2.0.53/include/apr_strings.h\n/usr/local/httpd-2.0.53/include/apr_strmatch.h\n/usr/local/httpd-2.0.53/include/apr_support.h\n/usr/local/httpd-2.0.53/include/apr_tables.h\n/usr/local/httpd-2.0.53/include/apr_thread_cond.h\n/usr/local/httpd-2.0.53/include/apr_thread_mutex.h\n/usr/local/httpd-2.0.53/include/apr_thread_proc.h\n/usr/local/httpd-2.0.53/include/apr_thread_rwlock.h\n/usr/local/httpd-2.0.53/include/apr_time.h\n/usr/local/httpd-2.0.53/include/apr_uri.h\n/usr/local/httpd-2.0.53/include/apr_user.h\n/usr/local/httpd-2.0.53/include/apr_uuid.h\n/usr/local/httpd-2.0.53/include/apr_version.h\n/usr/local/httpd-2.0.53/include/apr_want.h\n/usr/local/httpd-2.0.53/include/apr_xlate.h\n/usr/local/httpd-2.0.53/include/apr_xml.h\n/usr/local/httpd-2.0.53/include/apu_compat.h\n/usr/local/httpd-2.0.53/include/apu.h\n/usr/local/httpd-2.0.53/include/apu_version.h\n/usr/local/httpd-2.0.53/include/apu_want.h\n/usr/local/httpd-2.0.53/include/http_config.h\n/usr/local/httpd-2.0.53/include/http_connection.h\n/usr/local/httpd-2.0.53/include/http_core.h\n/usr/local/httpd-2.0.53/include/httpd.h\n/usr/local/httpd-2.0.53/include/http_log.h\n/usr/local/httpd-2.0.53/include/http_main.h\n/usr/local/httpd-2.0.53/include/http_protocol.h\n/usr/local/httpd-2.0.53/include/http_request.h\n/usr/local/httpd-2.0.53/include/http_vhost.h\n/usr/local/httpd-2.0.53/include/mpm_common.h\n/usr/local/httpd-2.0.53/include/pcreposix.h\n/usr/local/httpd-2.0.53/include/rfc1413.h\n/usr/local/httpd-2.0.53/include/scoreboard.h\n/usr/local/httpd-2.0.53/include/util_cfgtree.h\n/usr/local/httpd-2.0.53/include/util_charset.h\n/usr/local/httpd-2.0.53/include/util_ebcdic.h\n/usr/local/httpd-2.0.53/include/util_filter.h\n/usr/local/httpd-2.0.53/include/util_ldap.h\n/usr/local/httpd-2.0.53/include/util_md5.h\n/usr/local/httpd-2.0.53/include/util_script.h\n/usr/local/httpd-2.0.53/include/util_time.h\n/usr/local/httpd-2.0.53/include/util_xml.h\n/usr/local/httpd-2.0.53/modules/http/mod_core.h\n/usr/local/httpd-2.0.53/os/unix/os.h\n/usr/local/httpd-2.0.53/os/unix/unixd.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_allocator.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_atomic.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_compat.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_dso.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_env.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_errno.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_file_info.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_file_io.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_fnmatch.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_general.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_getopt.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_global_mutex.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_hash.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_inherit.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_lib.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_mmap.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_network_io.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_poll.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_pools.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_portable.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_proc_mutex.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_ring.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_shm.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_signal.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_strings.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_support.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_tables.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_thread_cond.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_thread_mutex.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_thread_proc.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_thread_rwlock.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_time.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_user.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_version.h\n/usr/local/httpd-2.0.53/srclib/apr/include/apr_want.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_anylock.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_base64.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_buckets.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_date.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_dbm.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_hooks.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_ldap.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_ldap_url.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_md4.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_md5.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_optional.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_optional_hooks.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_queue.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_reslist.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_rmm.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_sdbm.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_sha1.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_strmatch.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_uri.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_uuid.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_xlate.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apr_xml.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apu_compat.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apu.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apu_version.h\n/usr/local/httpd-2.0.53/srclib/apr-util/include/apu_want.h\n[root@pc server]#", "id": 73268, "time": "2005-04-04T19:44:23Z", "creator": "eric.pletan@free.fr", "creation_time": "2005-04-04T19:44:23Z", "is_private": false, "attachment_id": null}, {"count": 19, "tags": [], "bug_id": 21718, "text": "Ah, it seems you're trying to build in /usr/local/httpd-2.0.53, *and* use that\ndirectory as the install passed to configure --prefix - that is doomed to\nfailure.   Remove that directory completely, unpack fresh from a tarball, and\nchoose a different install prefix when you configure this time round.\n\nAnyone else who can reproduce this please attach the generated server/export_files.", "id": 73269, "time": "2005-04-04T19:52:15Z", "creator": "jorton@redhat.com", "creation_time": "2005-04-04T19:52:15Z", "is_private": false, "attachment_id": null}, {"count": 20, "tags": [], "bug_id": 21718, "attachment_id": null, "text": "(In reply to comment #19)\n> Ah, it seems you're trying to build in /usr/local/httpd-2.0.53, *and* use that\n> directory as the install passed to configure --prefix - that is doomed to\n> failure.   Remove that directory completely, unpack fresh from a tarball, and\n> choose a different install prefix when you configure this time round.\n> \n> Anyone else who can reproduce this please attach the generated\nserver/export_files.\n\n\nWell, it's fine.\nI follow your instructions and I don't have any problem.\nThe 'make' is OK.\nThank you very much for your support.", "id": 73352, "time": "2005-04-06T18:36:28Z", "creator": "eric.pletan@free.fr", "creation_time": "2005-04-06T18:36:28Z", "is_private": false}, {"count": 21, "text": "*** Bug 34879 has been marked as a duplicate of this bug. ***", "bug_id": 21718, "attachment_id": null, "id": 74774, "time": "2005-05-12T08:49:50Z", "creator": "jorton@redhat.com", "creation_time": "2005-05-12T08:49:50Z", "tags": [], "is_private": false}, {"count": 22, "tags": [], "bug_id": 21718, "attachment_id": null, "text": "Hi I see that it is a very old bug or am I wrong?:\n------- Additional Comment #1 From Kate Ward 2003-08-08 15:30 [reply] ------- \n\n2003 is it right? Will I be able to use LDAP in HTTPD in my life before to get \nold?.\n\n\nBest Regards,\n\nAlberto Colosi\nIBM Global  Services\nSistemi Informativi S.P.A.\nIT/ITS Division\nIBM VTS Focal Point per SI\nNetWork Control/Operations Center\n    (NetWork and Security [*Master] office)\n", "id": 74782, "time": "2005-05-12T11:21:28Z", "creator": "alcol@hotmail.com", "creation_time": "2005-05-12T11:21:28Z", "is_private": false}, {"count": 23, "text": "Please provide the information which was requested: attach the generated\n\"server/export_files\" file to this bug report.  Yes it's an old bug.  BTW please\ndon't paste your mail signature in bug database, it's not relevant information.", "bug_id": 21718, "attachment_id": null, "id": 74815, "time": "2005-05-12T17:42:44Z", "creator": "jorton@redhat.com", "creation_time": "2005-05-12T17:42:44Z", "tags": [], "is_private": false}, {"count": 24, "tags": [], "bug_id": 21718, "text": "Created attachment 15018\nexport.c file from linux redhat i586\n\nexport.c file from linux redhat i586", "id": 74838, "time": "2005-05-13T11:21:13Z", "creator": "alcol@hotmail.com", "creation_time": "2005-05-13T11:21:13Z", "is_private": false, "attachment_id": 15018}, {"count": 25, "tags": [], "creator": "alcol@hotmail.com", "attachment_id": null, "text": ":) Let me to smile but my sign is there only becouse I have posted here the \nsame message I posted to apache list at the same time. If the sign bother \nsomeone is strange becouse is not a gun :)", "id": 74839, "time": "2005-05-13T11:24:50Z", "bug_id": 21718, "creation_time": "2005-05-13T11:24:50Z", "is_private": false}, {"count": 26, "tags": [], "bug_id": 21718, "attachment_id": null, "text": "ha the same problem is on Apache httpd-2.1.3-beta! I had in the start with \nhttpd-2.0.50 and now with 2.0.54 too. If that can help someone.\n", "id": 74840, "time": "2005-05-13T11:27:14Z", "creator": "alcol@hotmail.com", "creation_time": "2005-05-13T11:27:14Z", "is_private": false}, {"count": 27, "tags": [], "bug_id": 21718, "attachment_id": null, "text": "It looks like you already have a copy of APR headers installed at\n/usr/local/apr/include/apr-0, but you have httpd configured to use the bundled\nversion.\n\nWhat is your exact configure line?\nAre you setting any env vars like CFLAGS?", "id": 74841, "time": "2005-05-13T11:39:44Z", "creator": "chip@force-elite.com", "creation_time": "2005-05-13T11:39:44Z", "is_private": false}, {"count": 28, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "is_private": false, "id": 74848, "time": "2005-05-13T16:16:40Z", "bug_id": 21718, "creation_time": "2005-05-13T16:16:40Z", "text": "Heh, this is a nice one.\n\nPer the other duped bug, httpd is configured with:\n--with-apr-util=/usr/local/apache2/bin/ but *without* --with-apr.\n\nSo it's using the apr-util from the *previous* 2.0 installation.  Which defaults\nto install the apr and apr-util headers in the same directory.  So, both the new\nand old APR headers get picked up.\n\nSo, Alberto: don't pass --with-apr-util to configure, and this should go away.\n\nconfigure in httpd should definitely refuse to use an external apr-util with an\ninternal apr and probably vice-versa.\n"}, {"count": 29, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "Marking this closed again, both the failure cases demonstrated since the bug\n8867 fix went in have been misconfigurations.  Anybody who re-opens this bug,\nagain please attach the \"server/export_files\" file.", "id": 74849, "time": "2005-05-13T16:49:19Z", "bug_id": 21718, "creation_time": "2005-05-13T16:49:19Z", "is_private": false}, {"count": 30, "tags": [], "bug_id": 21718, "attachment_id": null, "is_private": false, "id": 74884, "time": "2005-05-14T19:25:23Z", "creator": "alcol@hotmail.com", "creation_time": "2005-05-14T19:25:23Z", "text": "I used under httpd-2.0.54 dir\n\n./configure --enable-ldap --enable-auth-ldap\n\n(You said to not use --apr-util= but). I don't have CFLAGS or others\n\nmake[3]: Entering directory `/home/colosi/httpd-2.0.54/modules/aaa'\n/home/colosi/httpd-2.0.54/srclib/apr/libtool --silent --mode=compile gcc  -g -\nO2 -pthread    -DLINUX=2 -D_REENTRANT -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -\nD_SVID_SOURCE -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER   -\nI/home/colosi/httpd-2.0.54/srclib/apr/include -I/home/colosi/httpd-\n2.0.54/srclib/apr-util/include -I/home/colosi/httpd-2.0.54/srclib/apr-\nutil/xml/expat/lib -I. -I/home/colosi/httpd-2.0.54/os/unix -\nI/home/colosi/httpd-2.0.54/server/mpm/prefork -I/home/colosi/httpd-\n2.0.54/modules/http -I/home/colosi/httpd-2.0.54/modules/filters -\nI/home/colosi/httpd-2.0.54/modules/proxy -I/home/colosi/httpd-2.0.54/include -\nI/home/colosi/httpd-2.0.54/modules/generators -I/home/colosi/httpd-\n2.0.54/modules/dav/main  -c mod_access.c && touch mod_access.lo\n/home/colosi/httpd-2.0.54/srclib/apr/libtool --silent --mode=link gcc  -g -O2 -\npthread    -DLINUX=2 -D_REENTRANT -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -\nD_SVID_SOURCE -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER   -\nI/home/colosi/httpd-2.0.54/srclib/apr/include -I/home/colosi/httpd-\n2.0.54/srclib/apr-util/include -I/home/colosi/httpd-2.0.54/srclib/apr-\nutil/xml/expat/lib -I. -I/home/colosi/httpd-2.0.54/os/unix -\nI/home/colosi/httpd-2.0.54/server/mpm/prefork -I/home/colosi/httpd-\n2.0.54/modules/http -I/home/colosi/httpd-2.0.54/modules/filters -\nI/home/colosi/httpd-2.0.54/modules/proxy -I/home/colosi/httpd-2.0.54/include -\nI/home/colosi/httpd-2.0.54/modules/generators -I/home/colosi/httpd-\n2.0.54/modules/dav/main -module -export-dynamic -L/home/colosi/httpd-\n2.0.54/srclib/apr-util/xml/expat/lib   -o mod_access.la mod_access.lo\n/home/colosi/httpd-2.0.54/srclib/apr/libtool --silent --mode=compile gcc  -g -\nO2 -pthread    -DLINUX=2 -D_REENTRANT -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -\nD_SVID_SOURCE -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER   -\nI/home/colosi/httpd-2.0.54/srclib/apr/include -I/home/colosi/httpd-\n2.0.54/srclib/apr-util/include -I/home/colosi/httpd-2.0.54/srclib/apr-\nutil/xml/expat/lib -I. -I/home/colosi/httpd-2.0.54/os/unix -\nI/home/colosi/httpd-2.0.54/server/mpm/prefork -I/home/colosi/httpd-\n2.0.54/modules/http -I/home/colosi/httpd-2.0.54/modules/filters -\nI/home/colosi/httpd-2.0.54/modules/proxy -I/home/colosi/httpd-2.0.54/include -\nI/home/colosi/httpd-2.0.54/modules/generators -I/home/colosi/httpd-\n2.0.54/modules/dav/main  -c mod_auth.c && touch mod_auth.lo\n/home/colosi/httpd-2.0.54/srclib/apr/libtool --silent --mode=link gcc  -g -O2 -\npthread    -DLINUX=2 -D_REENTRANT -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -\nD_SVID_SOURCE -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER   -\nI/home/colosi/httpd-2.0.54/srclib/apr/include -I/home/colosi/httpd-\n2.0.54/srclib/apr-util/include -I/home/colosi/httpd-2.0.54/srclib/apr-\nutil/xml/expat/lib -I. -I/home/colosi/httpd-2.0.54/os/unix -\nI/home/colosi/httpd-2.0.54/server/mpm/prefork -I/home/colosi/httpd-\n2.0.54/modules/http -I/home/colosi/httpd-2.0.54/modules/filters -\nI/home/colosi/httpd-2.0.54/modules/proxy -I/home/colosi/httpd-2.0.54/include -\nI/home/colosi/httpd-2.0.54/modules/generators -I/home/colosi/httpd-\n2.0.54/modules/dav/main -module -export-dynamic -L/home/colosi/httpd-\n2.0.54/srclib/apr-util/xml/expat/lib   -o mod_auth.la mod_auth.lo\nmake[3]: Leaving directory `/home/colosi/httpd-2.0.54/modules/aaa'\nmake[2]: Leaving directory `/home/colosi/httpd-2.0.54/modules/aaa'\nMaking all in experimental\nmake[2]: Entering directory `/home/colosi/httpd-2.0.54/modules/experimental'\nmake[3]: Entering directory `/home/colosi/httpd-2.0.54/modules/experimental'\n/home/colosi/httpd-2.0.54/srclib/apr/libtool --silent --mode=compile gcc  -g -\nO2 -pthread    -DLINUX=2 -D_REENTRANT -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -\nD_SVID_SOURCE -D_GNU_SOURCE -DAP_HAVE_DESIGNATED_INITIALIZER   -\nI/home/colosi/httpd-2.0.54/srclib/apr/include -I/home/colosi/httpd-\n2.0.54/srclib/apr-util/include -I/home/colosi/httpd-2.0.54/srclib/apr-\nutil/xml/expat/lib -I. -I/home/colosi/httpd-2.0.54/os/unix -\nI/home/colosi/httpd-2.0.54/server/mpm/prefork -I/home/colosi/httpd-\n2.0.54/modules/http -I/home/colosi/httpd-2.0.54/modules/filters -\nI/home/colosi/httpd-2.0.54/modules/proxy -I/home/colosi/httpd-2.0.54/include -\nI/home/colosi/httpd-2.0.54/modules/generators -I/home/colosi/httpd-\n2.0.54/modules/dav/main  -c util_ldap.c && touch util_ldap.lo\nutil_ldap.c:43:2: #error mod_ldap requires APR-util to have LDAP support built \nin\nmake[3]: *** [util_ldap.lo] Error 1\nmake[3]: Leaving directory `/home/colosi/httpd-2.0.54/modules/experimental'\nmake[2]: *** [all-recursive] Error 1\nmake[2]: Leaving directory `/home/colosi/httpd-2.0.54/modules/experimental'\nmake[1]: *** [all-recursive] Error 1\nmake[1]: Leaving directory `/home/colosi/httpd-2.0.54/modules'\nmake: *** [all-recursive] Error 1\n"}, {"count": 31, "tags": [], "bug_id": 21718, "text": "before you ask! ya is a complete tar of 2.0.54 and \n\n[root@xxxxx httpd-2.0.54]# ls -al srclib\ntotale 28\ndrwxr-xr-x    5 1000     1000         4096 mag 11 23:38 .\ndrwxr-xr-x   11 1000     1000         4096 mag 14 19:23 ..\n-rw-r--r--    1 root     root            0 mag 14 19:14 .deps\n-rw-r--r--    1 root     root          362 mag 14 19:14 Makefile\n-rw-r--r--    1 1000     1000          136 nov 24 20:31 Makefile.in\ndrwxr-xr-x   26 1000     1000         4096 mag 14 19:25 apr\ndrwxr-xr-x   18 1000     1000         4096 mag 14 19:16 apr-util\ndrwxr-xr-x    5 1000     1000         4096 mag 14 19:16 pcre\n\nI used to compile but I'm not aprogrammer! I compile squid, squidGuard, others \nand I maked many tries!. \nI have done configure ; make ; make install in apr and apr-util dir\nI have tried to use --with-apr= inside httpd-2.0.54 dir\nI have used under --with-apr= and/or --with-apr-util= /usr/local/apache2/bin\n(but I get the declaration error)\n\nCould you say if this is a bug of configure script how and where it go to take \nlibs or really a mistake done from me?. You sait to take away --with-apr-util \nbut it don't solve!. Please, say to me exactly what I have to do so to solve \nit.\nMy end configure line will be (as I need):\n./configure --enable-deflate --enable-mime-magic --enable-expires --enable-\nusertrack --enable-unique-id --enable-ssl --with-ssl=/usr/local/ssl --enable-\nhttp --enable-cgi --enable-cgid --enable-spelling --enable-ldap --enable-auth-\nldap", "id": 74885, "time": "2005-05-14T19:33:51Z", "creator": "alcol@hotmail.com", "creation_time": "2005-05-14T19:33:51Z", "is_private": false, "attachment_id": null}, {"count": 32, "tags": [], "creator": "chip@force-elite.com", "attachment_id": null, "is_private": false, "id": 74911, "time": "2005-05-16T02:14:50Z", "bug_id": 21718, "creation_time": "2005-05-16T02:14:50Z", "text": "This is a different issue. If you continue to have problems, please do not put\nthem into this bug report.\n\n\nThe problem is your configure line.  You need to add --with-ldap. Run \n`./srclib/apr-util/configure --help` for a complete list of options.  The main\nconfigure program passes all of its args to the APR-Util configure."}, {"count": 33, "tags": [], "bug_id": 21718, "attachment_id": null, "text": "Hi, please let me to understand something! what I need to do all?\n\nFrom time I use Apache 2.0.50 with all \n\n./configure --enable-deflate --enable-mime-magic --enable-expires --enable-\nusertrack --enable-unique-id --enable-ssl --with-ssl=/usr/local/ssl --enable-\nhttp --enable-cgi --enable-cgid --enable-spelling\n\nI taken and compiled OpenSSL for SSL (mod_ssl) but for LDAP really I don't \narrive to complete all.\n\nPlease let me to know all becouse everyone say a comma but not all. I tried \nwith \n\n./configure --enable-deflate --enable-mime-magic --enable-expires --enable-\nusertrack --enable-unique-id --enable-ssl --with-ssl=/usr/local/ssl --enable-\nhttp --enable-cgi --enable-cgid --enable-spelling --enable-auth-ldap --enable-\nldap\n\nas said from Joe Orton I taken out --with-apr-util=[...] but it say \"error \nmod_ldap requires APR-util to have LDAP support built in\". Do I need OpenLDAP \ncompiled and installed in my box?. I tried with SUN iPlanet SDK 5.08 LIBs but \nall the parameters, paths and tries ended unsucesfull.\n\nMy last conf line with iPlanet SDK was:\n\n./configure --enable-deflate --enable-mime-magic --enable-expires --enable-\nusertrack --enable-unique-id --enable-ssl --with-ssl=/usr/local/ssl --enable-\nhttp --enable-cgi --enable-cgid --enable-spelling --enable-auth-ldap --enable-\nldap --with-ldap-include=/home/colosi/ldap/iplanet/include/ --with-ldap-\nlib=/home/colosi/ldap/iplanet/lib/ --with-apr=/home/colosi/apache/httpd-\n2.0.54/srclib/apr\n\n\nbut ever say that \"error mod_ldap requires APR-util to have LDAP support built \nin\". Now strangely I don't have dups on variables declarations but only that \nmessage repeating on every try.\n\nMaybe I gone in panic and out of tries and so got a bit confused!. Is there \nanyone that could off my issue?.\n\n\n\n\n\nBest regards.\n\n\n\n\n\n>From: bugzilla@apache.org\n>To: alcol@hotmail.com\n>Subject: DO NOT REPLY [Bug 21718]  -    exports.c errors with undeclared \nfunctions\n>Date: Mon, 16 May 2005 02:14:52 +0200 (CEST)\n>Received: from mail.apache.org ([209.237.227.199]) by mc2-f2.hotmail.com with \nMicrosoft SMTPSVC(6.0.3790.211); Sun, 15 May 2005 17:14:55 -0700\n>Received: (qmail 45369 invoked by uid 99); 16 May 2005 00:19:43 -0000\n>Received: from ajax-1.apache.org (HELO ajax.apache.org) (192.87.106.226)  by \napache.org (qpsmtpd/0.28) with ESMTP; Sun, 15 May 2005 17:19:43 -0700\n>Received: by ajax.apache.org (Postfix, from userid 99)id 3F9922E2; Mon, 16 \nMay 2005 02:14:52 +0200 (CEST)\n>X-Message-Info: JGTYoYF78jHJQq7Z3zXJxhaep0+38ipnVttkkgXZLqk=\n>X-ASF-Spam-Status: No, hits=0.4 \nrequired=10.0tests=NO_REAL_NAME,UPPERCASE_25_50\n>X-Spam-Check-By: apache.org\n>X-Bugzilla-Reason: CC\n>X-Virus-Checked: Checked\n>Return-Path: nobody@ajax.apache.org\n>X-OriginalArrivalTime: 16 May 2005 00:14:55.0288 (UTC) FILETIME=\n[4988DB80:01C559AC]\n>\n>DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG\u00b7\n>RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT\n><http://issues.apache.org/bugzilla/show_bug.cgi?id=21718>.\n>ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND\u00b7\n>INSERTED IN THE BUG DATABASE.\n>\n>http://issues.apache.org/bugzilla/show_bug.cgi?id=21718\n>\n>\n>chip@force-elite.com changed:\n>\n>            What    |Removed                     |Added\n>----------------------------------------------------------------------------\n>              Status|REOPENED                    |RESOLVED\n>          Resolution|                            |FIXED\n>\n>\n>\n>\n>------- Additional Comments From chip@force-elite.com  2005-05-16 02:14 ------\n-\n>This is a different issue. If you continue to have problems, please do not put\n>them into this bug report.\n>\n>\n>The problem is your configure line.  You need to add --with-ldap. Run\n>`./srclib/apr-util/configure --help` for a complete list of options.  The main\n>configure program passes all of its args to the APR-Util configure.\n>\n>--\n>Configure bugmail: http://issues.apache.org/bugzilla/userprefs.cgi?tab=email\n>------- You are receiving this mail because: -------\n>You are on the CC list for the bug, or are watching someone who is.\n", "id": 74943, "time": "2005-05-16T23:02:35Z", "creator": "alcol@hotmail.com", "creation_time": "2005-05-16T23:02:35Z", "is_private": false}, {"count": 34, "tags": [], "creator": "pal.kaushik@gmail.com", "attachment_id": null, "text": "Hi \n\nI am trying to build apache2.2.4 on aix5.3 to use with svn. I am using config -\n./configure --enable-dav --enable-so --enable-deflate --with-included-apr\nmake clean \nmake\n\nHere I am getting the same problem with exports.c errors with undeclared \nfunctions.\n\nI have attached the export_files.\n\nthanks\n", "id": 106210, "time": "2007-08-02T13:17:15Z", "bug_id": 21718, "creation_time": "2007-08-02T13:17:15Z", "is_private": false}, {"count": 35, "text": "Created attachment 20584\nexport_files from aix5.3", "bug_id": 21718, "attachment_id": 20584, "id": 106211, "time": "2007-08-02T13:20:07Z", "creator": "pal.kaushik@gmail.com", "creation_time": "2007-08-02T13:20:07Z", "tags": [], "is_private": false}, {"count": 36, "tags": [], "bug_id": 21718, "attachment_id": 20585, "text": "Created attachment 20585\nexport.c from aix5.3", "id": 106212, "time": "2007-08-02T13:20:29Z", "creator": "pal.kaushik@gmail.com", "creation_time": "2007-08-02T13:20:29Z", "is_private": false}, {"count": 37, "tags": [], "creator": "jorton@redhat.com", "attachment_id": null, "text": "That looks like a non-standard version of make_exports.awk.  I remember creating\na patch to do that at some point, but it's not committed.  What patches have you\napplied?  What's the result from a freshly unpacked httpd-2.2.4.tar.gz?", "id": 106251, "time": "2007-08-03T04:55:55Z", "bug_id": 21718, "creation_time": "2007-08-03T04:55:55Z", "is_private": false}, {"count": 38, "text": "Hi\n\nI did apply the patch from bug 8867. Should I revert it back the version I got \nfrom http 2.2.4 and try it again?\n\nthanks", "bug_id": 21718, "is_private": false, "id": 106254, "time": "2007-08-03T05:06:19Z", "creator": "pal.kaushik@gmail.com", "creation_time": "2007-08-03T05:06:19Z", "tags": [], "attachment_id": null}, {"count": 39, "tags": [], "bug_id": 21718, "attachment_id": null, "text": "Yes, please show the results from a freshly unpacked tarball with no\nmodifications.  The exports.c shown here looks like has been generated by a\nmis-applied version of the make_exports.awk patch.", "id": 106260, "time": "2007-08-03T05:38:34Z", "creator": "jorton@redhat.com", "creation_time": "2007-08-03T05:38:34Z", "is_private": false}, {"count": 40, "tags": [], "bug_id": 21718, "attachment_id": null, "text": "There are two many issues mixed together in this PR, and at least two of these are fixed. Closing, please open a new PR if there is still a problem with a current release.", "id": 147711, "time": "2011-07-03T18:56:48Z", "creator": "sf@sfritsch.de", "creation_time": "2011-07-03T18:56:48Z", "is_private": false}]