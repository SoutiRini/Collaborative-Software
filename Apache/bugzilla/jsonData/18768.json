[{"count": 0, "tags": [], "creator": "p.maseres@wanadoo.fr", "text": "I've been using the V 1.5.1 alone and within Eclipse V2.0 without any problem.\nSince, i upgraded my Eclipse to V2.1 which includes a updated 1.5.2 version of \nANT.\nMy old well working build files dont work anymore !!!\nThe generated WAR files seems ok when i list their content with jar, but with \nWinZip, all the WEB-INF directory and subdirectories are hidden. The global war \nfile size is ok according the files added in the archive.\nWhen i activate the -v option, i can see the last operation the task does is \nadding the web.xml file, but, just before it does it, it adds the WEB-INF \ndirectory. The old 1.5.1 didn't add it (i verified it with the same run with -v \noption) : I bet this is the problem. Here the trace from eclipse console :\n\nweb-axis-archive:\n         [war] Building war: C:\\DOCUME~1\\MASERE~1\\LOCALS~1\n\\Temp\\Jonas2.tmp\\SmsWebAxis.war\n         [war] adding directory META-INF/\n         [war] adding entry META-INF/MANIFEST.MF\n         [war] adding entry WEB-INF/jonas-web.xml\n         [war] adding entry WEB-INF/server-config.wsdd\n         [war] adding directory WEB-INF/classes/my/\n         [war] adding directory WEB-INF/classes/my/jonas/\n         [war] adding directory WEB-INF/classes/my/jonas/sms/\n         [war] adding directory WEB-INF/classes/my/jonas/sms/axis/\n         [war] adding directory WEB-INF/classes/my/jonas/sms/axis/client/\n         [war] adding directory WEB-INF/classes/my/jonas/sms/axis/server/\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/client/IllegalParameterValueShortMessageSenderExce\nption.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/client/ShortMessageSenderException.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/client/SMSPortType.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/client/SMSService.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/client/SMSServiceLocator.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/client/SMSWebServiceSoapBindingStub.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/client/SystemShortMessageSenderException.class\n         [war] adding entry WEB-INF/classes/my/jonas/sms/axis/LogFilter.class\n         [war] adding entry WEB-INF/classes/my/jonas/sms/axis/LogHandler.class\n         [war] adding entry WEB-INF/classes/my/jonas/sms/axis/server/deploy.wsdd\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/server/IllegalParameterValueShortMessageSenderExce\nption.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/server/ShortMessageSenderException.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/server/SMSPortType.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/server/SMSService.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/server/SMSServiceLocator.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/server/SMSWebServiceSoapBindingImpl.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/server/SMSWebServiceSoapBindingSkeleton.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/server/SMSWebServiceSoapBindingStub.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/server/SystemShortMessageSenderException.class\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/server/undeploy.wsdd\n         [war] adding entry WEB-\nINF/classes/my/jonas/sms/axis/ShortMessageSenderEJBWrapper.class\n         [war] adding entry WEB-INF/lib/axis.jar\n         [war] adding entry WEB-INF/lib/commons-discovery.jar\n         [war] adding entry WEB-INF/lib/commons-logging.jar\n         [war] adding entry WEB-INF/lib/jaxrpc.jar\n         [war] adding entry WEB-INF/lib/saaj.jar\n         [war] adding entry WEB-INF/lib/wsdl4j.jar\n         [war] adding entry fingerprint.jsp\n         [war] adding entry happyaxis.jsp\n         [war] adding entry index.html\n         [war] adding entry SOAPMonitorApplet$ServiceFilterPanel.class\n         [war] adding entry SOAPMonitorApplet$SOAPMonitorData.class\n         [war] adding entry SOAPMonitorApplet$SOAPMonitorFilter.class\n         [war] adding entry SOAPMonitorApplet$SOAPMonitorPage.class\n         [war] adding entry SOAPMonitorApplet$SOAPMonitorTableModel.class\n         [war] adding entry SOAPMonitorApplet$SOAPMonitorTextArea.class\n         [war] adding entry SOAPMonitorApplet.class\n         [war] adding directory WEB-INF/\n         [war] adding entry WEB-INF/web.xml\n\nThe actual problem is not using WinZip, but it seems the generated archive \nformat also carries out trouble with Jonas/Tomcat when the war file has to be \ndeployed.\n\nAny idea ?\n\nThanks.", "id": 34628, "time": "2003-04-07T15:38:49Z", "bug_id": 18768, "creation_time": "2003-04-07T15:38:49Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 18768, "text": "\n\n*** This bug has been marked as a duplicate of 17648 ***", "id": 34630, "time": "2003-04-07T15:57:51Z", "creator": "bodewig@apache.org", "creation_time": "2003-04-07T15:57:51Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 18768, "text": "OK ! I had a look to the duplicate 17648, but i don't understand if the bug has \nbeen fixed in 1.5.3 or not...\nThanks again.", "count": 2, "id": 34635, "time": "2003-04-07T16:12:26Z", "creator": "p.maseres@wanadoo.fr", "creation_time": "2003-04-07T16:12:26Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 18768, "is_private": false, "count": 3, "id": 34650, "time": "2003-04-07T22:31:14Z", "creator": "conor@apache.org", "creation_time": "2003-04-07T22:31:14Z", "text": "Yes, it is fixed - we set the target milestone when a bug is fixed, in dicating\nin which release it will be available."}, {"count": 4, "tags": [], "bug_id": 18768, "attachment_id": null, "text": "Hi.\nAfter i posted my last comment, i tried again replacing the 1.5.2 with the \n1.5.3 beta, using it from Eclipse and standalone. In fact, the war task in this \nversion generates the archive such a way it can be browsed now with both WinZip \nand jar. But it still doesn't work during the Jonas/Tomcat classloading \nprocess. As i have few time to search further more, i mean inspecting how these \nuse the war files to extract the classes and lib subdirectories content, i \ncan't say why.\nRunning it with -v flag, it still adds explicitly the WEB-INF directory to the \narchive, and i suppose here is the point the problem comes from. Is this really \nrequired, since, i think, the simple web.xml adding should be enough ?\nDo you mean the future 1.6 version will fixe it, or the 1.5.3 already does it ?\nThanks again.\n", "id": 34670, "time": "2003-04-08T06:09:48Z", "creator": "p.maseres@wanadoo.fr", "creation_time": "2003-04-08T06:09:48Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 18768, "attachment_id": null, "is_private": false, "id": 34672, "time": "2003-04-08T06:20:26Z", "creator": "bodewig@apache.org", "creation_time": "2003-04-08T06:20:26Z", "text": "To know whether the directory entry for WEB-INF is the problem, simply\nset the filesonly attribute of the task to true."}]