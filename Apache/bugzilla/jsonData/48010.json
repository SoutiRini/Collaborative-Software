[{"count": 0, "tags": [], "text": "The 'timeout' parameter is not working in Sshexec task.\n\nI'm using Ant version - 1.7.1\n\nI also know about the library dependency for running Sshexec task and I've downloaded the latest version Jsch Jar library-- \"jsch-0.1.42.jar\".\n\nAs the 'timeout' feature is not working for me, it has become as show-stopper.\n\nPlease let me know if there is any fix for this issue.\n\n\nThanks,\nSachin", "attachment_id": null, "id": 131166, "creator": "sachin1805@gmail.com", "time": "2009-10-16T02:10:13Z", "bug_id": 48010, "creation_time": "2009-10-16T02:10:13Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 48010, "text": "What exactly does \"not working\" mean?\n\nDoes the task run longer than it is supposed to and let the invoked command finish?  Does it terminate the connection but hang?  Does it do anything else?", "id": 131270, "time": "2009-10-21T11:52:44Z", "creator": "bodewig@apache.org", "creation_time": "2009-10-21T11:52:44Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 48010, "attachment_id": null, "is_private": false, "id": 131294, "time": "2009-10-22T02:22:08Z", "creator": "sachin1805@gmail.com", "creation_time": "2009-10-22T02:22:08Z", "text": "Task runs without any error, on remote machine I'm executing the shell script and it runs. But later point of time, the task does not complete. Ant window simply HANGS even after giving the 'timeout' parameter in sshexec task to say for about 120 seconds.. If I remove the 'timeout' it is the same behaviour. Until I do Ctrl+C the ant process does not return.\n\n--Sachin"}, {"count": 3, "tags": [], "bug_id": 48010, "attachment_id": null, "id": 132369, "time": "2009-11-28T15:16:14Z", "creator": "lalyos@yahoo.com", "creation_time": "2009-11-28T15:16:14Z", "is_private": false, "text": "i run into a similar issue:\n- trying to sshexec a command and not getting anything.\n- after a while i hit ctrl-c \n\nlater i've figured out that if i wait long enough (like 2 minutes)\ni get an auth exception (which was correct, as  i mistyped the password)\n\nthe problem is that the 'timeout' attribute refers to the command execution\nand the connection waits forever.\n\nin SSHBase.java at the end of the openSession() method:\n...\nsession.connect()\n\ni would propose to create a new attribute 'connectionTiemeout' so we could write:\n\n<sshexec host=\"myhost.no-ip.org\" username=\"mrfawlty\" password=\"dontmention\" command=\"some_slow_command\" timeout=\"300000\" connectionTiemeout='5000' />\n\nit needs only a minor code change: add a private field 'connectionTiemeout' and a setter for it and change the openSession() method's call to:\n...\n\nsession.connect(connectionTiemeout)"}, {"count": 4, "tags": [], "text": "Or the task's existing timeout is passed down to the jsch session before the connect() call, the no-parameter connect does use the value set with setTimeout(int) to drive its timeout.", "is_private": false, "bug_id": 48010, "id": 133727, "time": "2010-01-20T06:55:53Z", "creator": "stevel@apache.org", "creation_time": "2010-01-20T06:55:53Z", "attachment_id": null}]