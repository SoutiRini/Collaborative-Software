[{"count": 0, "tags": [], "creator": "rajiv.mordani@sun.com", "attachment_id": null, "text": "In the antcall task the attribute inheritAll is set to false. However I\nexplicitly pass a property when invoking the particular target. The\nproperty is being ignored. For e.g\n\nIn the build file in a directory foobar that I am invoking from a top\nlevel build file the following is defined -\n<target name=\"dist\">\n<antcall inheritAll=\"false\" target=\"foobaz\">\n      <param name=\"dist.dir\" value=\"${dist.name}\" />\n</antcall>\n</target>\nHowever from the parent build file I invoke\n\n<ant dir=\"foobar\" target=\"dist\">\n      <property name=\"build.dir\" value=\"build/foobar\"/>\n      <property name=\"dist.dir\"  value=\"dist/foobar\"/>\n</ant>\n\nThe dist.dir is not overriden in the build file in the foobar directory.\nThis used to work with ant 1.4.1. Looks like it is broken in ant 1.5. Is\nthere any workaround / fix for this?\n\n- Rajiv", "id": 19729, "time": "2002-07-17T22:55:22Z", "bug_id": 10928, "creation_time": "2002-07-17T22:55:22Z", "is_private": false}, {"count": 1, "tags": [], "text": "I think the behaviour in 1.5 is the correct one, as the code that was there \nmade no sense whatsoever, and more over it produced very inconsistent \nbehaviour between inhetitAll=true and false.\n\nUnfortunatelly, you were relying on a bug, since I would not consider this a \nfeature change.\n", "attachment_id": null, "id": 19964, "creator": "j_a_fernandez@yahoo.com", "time": "2002-07-22T09:52:14Z", "bug_id": 10928, "creation_time": "2002-07-22T09:52:14Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 10928, "attachment_id": null, "is_private": false, "id": 19966, "time": "2002-07-22T10:00:06Z", "creator": "j_a_fernandez@yahoo.com", "creation_time": "2002-07-22T10:00:06Z", "text": "I think the following statement out of Weblogic's documentation is quite \nreasonable and should be what ANT strides for in terms of compatibility. We \nshould just document when changes are known to be required:\n\n\"API method behavior may change because that behavior was corrected to conform \nto a specification or to fix incorrect behavior. In certain circumstances, \nthis correction may cause your application to behave differently.\" \n"}, {"count": 3, "tags": [], "creator": "rajiv.mordani@sun.com", "attachment_id": null, "text": "Based on the documentation in the ant manual\n(http://jakarta.apache.org/ant/manual/index.html)\n\n\"You can also set properties in the new project from the old project by using\nnested param tags. These properties are always passed regardless of the setting\nof inheritAll. This allows you to parameterize your subprojects.\"\n\nSo according to this documentation the behaviour of ant 1.4.1 is correct. Either\nthe documentation needs to be upgraded or the implementation should change.\n\n", "id": 20111, "time": "2002-07-24T08:03:01Z", "bug_id": 10928, "creation_time": "2002-07-24T08:03:01Z", "is_private": false}, {"text": "Using:\nfoobar/build.xml\n<project name=\"foobar\" default=\"dist\">\n    <property name=\"dist.name\" value=\"mydist\"/>\n    <target name=\"dist\">\n        <antcall inheritAll=\"false\" target=\"foobaz\">\n            <param name=\"dist.dir\" value=\"${dist.name}\" />\n        </antcall>\n    </target>\n\n    <target name=\"foobaz\">\n        <echo>dist.dir=${dist.dir}</echo>\n    </target>\n</project>\nand:\nbuild.xml\n<project name=\"b\" default=\"b\">\n    <target name=\"b\">\n        <ant dir=\"foobar\" target=\"dist\">\n            <property name=\"build.dir\" value=\"build/foobar\"/>\n            <property name=\"dist.dir\"  value=\"dist/foobar\"/>\n        </ant>\n    </target>\n</project>\n\nI get:\nBuildfile: build.xml\n\nb:\n\ndist:\n\nfoobaz:\n     [echo] dist.dir=mydist\n\n", "tags": [], "creator": "peter.reilly@corvil.com", "is_private": false, "count": 4, "id": 42523, "time": "2003-08-11T09:14:53Z", "bug_id": 10928, "creation_time": "2003-08-11T09:14:53Z", "attachment_id": null}]