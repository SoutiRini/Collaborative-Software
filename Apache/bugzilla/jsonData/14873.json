[{"count": 0, "tags": [], "bug_id": 14873, "text": "When using the XMLDB api with xindice:\n\nAfter creating a collection, running an xpath query on it, and then closing the\ncollection continuously, after many iterations Xindice will start to return\nempty ResourceSets rendering Xindice useless. It appears that the resources\nassociated with the Collection within the Xindice server are not freed or\nrelease properly.\n\nI have written a test class to reproduce the error.", "id": 27021, "attachment_id": null, "creator": "dominic@stratlink.com.au", "creation_time": "2002-11-26T22:30:32Z", "time": "2002-11-26T22:30:32Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 14873, "attachment_id": 3959, "text": "Created attachment 3959\nJava test program which breaks xindice", "id": 27022, "time": "2002-11-26T22:32:10Z", "creator": "dominic@stratlink.com.au", "creation_time": "2002-11-26T22:32:10Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 14873, "is_private": false, "id": 27023, "attachment_id": 3960, "creator": "dominic@stratlink.com.au", "creation_time": "2002-11-26T22:32:48Z", "time": "2002-11-26T22:32:48Z", "text": "Created attachment 3960\njava test program which breaks xindice"}, {"count": 3, "tags": [], "creator": "dominic@stratlink.com.au", "text": "Created attachment 3961\nxml data file required for java test program which breaks xindice", "id": 27024, "time": "2002-11-26T22:33:34Z", "bug_id": 14873, "creation_time": "2002-11-26T22:33:34Z", "is_private": false, "attachment_id": 3961}, {"count": 4, "text": "The test program uploaded will \n\n1. create a collection called \"xindicetest\"\n2. add the document \"xindicetest.xml\" to the collection\n\nGo into a loop which\n\n3. gets the Collection \"xindicetest\"\n4. gets the XPathQueryService\n5. Runs an xpath query on the collection\n6. Closes the collection\n\nThe loop will break only if the xpath query returns an empty ResourceSet\n\nOn my PC the test was run with the java vm having 16Mb minimum RAM and 168Mb\nmaximum. Xindice failed after 4829 iterations.\n\nHere is some sample output:\n\n---------------------------------------\nDropping collection 'xmldb:xindice://localhost:4080/db/xindicetest' ... done\nCreating collection 'xmldb:xindice://localhost:4080/db/xindicetest' ... done\nAdding document 'xindicetest.xml' ... done\n\nXPath Query to be used:\n/SomeDocument/SomeElement[@attribute5='attribute5']\n\n1: getting collection ...  running xpath query ...  closing collection ...  done.\n2: getting collection ...  running xpath query ...  closing collection ...  done.\n...\n<snip>\n...\n4829: getting collection ...  running xpath query ...  closing collection ...  done.\nXindice failed on attempt 4829 running xpath query.", "bug_id": 14873, "attachment_id": null, "id": 27025, "time": "2002-11-26T22:41:05Z", "creator": "dominic@stratlink.com.au", "creation_time": "2002-11-26T22:41:05Z", "tags": [], "is_private": false}, {"count": 5, "tags": [], "bug_id": 14873, "text": "Could you try to:\n- execute your code against 1.1b (cvs code)\n- modify your code to the JUnit framework (and integrate it into the suite of\ntests we already have)\n", "id": 27029, "time": "2002-11-27T02:32:41Z", "creator": "vladimir@bossicard.com", "creation_time": "2002-11-27T02:32:41Z", "is_private": false, "attachment_id": null}, {"count": 6, "text": "This was due to a memory leak in 1.0 concerning corba usage.  1.1 does not use \ncorba and I have not been able to reproduce since dropping corba.\n\nPlease try out 1.1 or the cvs head and reopen the bug if you have issues with \nthat version.  If you solve the problem, please submit the patch in diff -u \nformat.  If you can prove the bug, please attach a junit test.", "creator": "Kevin.Ross@iVerticalLeap.com", "attachment_id": null, "id": 38091, "time": "2003-05-30T23:47:17Z", "bug_id": 14873, "creation_time": "2003-05-30T23:47:17Z", "tags": [], "is_private": false}]