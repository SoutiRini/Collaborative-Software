[{"count": 0, "text": "Creating a site where access to certain item would be controlled by user \nprivilege through .htaccess with SetEnvIf Remote_User does not work.\nTest site :\n http://207.218.219.92/testingsite/index.php\n usernames:admin1,admin2\n psw:test\n\n\nSample:\n\n#.htaccess file (Linux/Apache 1.3.22)\n\nAuthName 'My Protected Area' \nAuthType Basic \nAuthUserFile /home/var/etc/.htpasswd \n\n<Files \"index.php\"> \nrequire user admin1 \nrequire user admin2 \n</Files> \n\nSetEnvIf Remote_User \"admin1\" valid \nSetEnvIf Remote_User \"admin2\" valid2 \n\n<Files \"jpg1.jpg\"> \n order deny,allow \n deny from all \n allow from env=valid \n</Files> \n\n<Files \"jpg2.jpg\"> \n order deny,allow \n deny from all \n allow from env=valid2 \n</Files> \n\n\nWith above code I try to have the ability  (in the same directory) to allow \naccess to a file to specific users and deny it to the others without user \nhaving to type in username and password each time. (Also try without success:\n\n<FilesMatch \"^(jpg1\u00a6jpg4).jpg$\"> \n Order Deny,Allow \n Deny from all \n Allow from env=valid \n</FilesMatch> \n\n<FilesMatch \"^(jpg2\u00a6jpg3).jpg$\"> \n Order Deny,Allow \n Deny from all \n</FilesMatch> )", "bug_id": 25725, "is_private": false, "id": 49600, "time": "2003-12-23T12:37:57Z", "creator": "zana@maya-studio.com", "creation_time": "2003-12-23T12:37:57Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "creator": "wrowe@apache.org", "text": "Your scenario is trivial without SetEnvIf\n\n#.htaccess file (Linux/Apache 1.3.22)\n\nAuthName 'My Protected Area' \nAuthType Basic \nAuthUserFile /home/var/etc/.htpasswd \n\n<Files \"index.php\"> \nrequire user admin1 \nrequire user admin2 \n</Files> \n\n<Files \"jpg1.jpg\"> \n order deny,allow \n deny from all \n allow from admin1\n</Files> \n\n<Files \"jpg2.jpg\"> \n order deny,allow \n deny from all \n allow from admin2\n</Files> \n\n\nBut presuming thats not what you wanted, why aren't you using groups to control\naccess, which is far more trivial and won't suffer these problems.\n\nApache goes through about 22 different stages in assembling a request before\nactually running it.  We could add the env processing to all these phases, but\nthe cost of doing so would be tremendous on server performance.\n", "id": 50505, "attachment_id": null, "bug_id": 25725, "creation_time": "2004-01-14T00:11:09Z", "time": "2004-01-14T00:11:09Z", "is_private": false}, {"count": 2, "tags": [], "creator": "nd@perlig.de", "attachment_id": null, "id": 52741, "time": "2004-02-21T18:33:08Z", "bug_id": 25725, "creation_time": "2004-02-21T18:33:08Z", "is_private": false, "text": "Thanks for the report.\n\nIt appears that Remote_User never worked at all. I've removed the (so called)\nsupport for that variable from 2.1 development branch and proposed that for\nbackport into the stable branches.\n\n(It's not really a wontfix, more a cantfix - sorry...)"}]