[{"count": 0, "tags": [], "creator": "mnikhil@gmail.com", "text": "Hi,\n\nI use httpdv2.0.58 on Solaris-10 11/06 release and when I use mod_jk v1.2.20, it\nis dumping core.\n\nWhen I look at the stacktrace of the core, here is what I get.\n\nCommand name abbreviations are allowed if unambiguous.\n(gdb) bt\n#0  0xfedabbfc in apr_table_get () from /usr/apache2/lib/libapr-0.so.0\n#1  0xfe918f56 in jk_map_to_storage () from /usr/apache2/libexec/mod_jk.so\n#2  0x0813e4e0 in ?? ()\n#3  0x00000000 in ?? ()\n(gdb) \n\nCan someone please tell me if anyone has tried with httpdv2.0.58 and facing no\nproblems on Solaris-10 11/06 with mod_jkv1.2.20 ?\n\nThanks,\nNikhil", "id": 99745, "time": "2007-02-24T22:20:19Z", "bug_id": 41695, "creation_time": "2007-02-24T22:20:19Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 41695, "is_private": false, "id": 99747, "attachment_id": null, "creator": "nick@webthing.com", "creation_time": "2007-02-25T02:24:32Z", "time": "2007-02-25T02:24:32Z", "text": "mod_jk is not a part of Apache httpd.  Please re-file tomcat.  I expect they'll\nwant some more description, such as whether you compiled Apache and mod_jk\nyourself (with details), or where you got them from."}, {"count": 2, "tags": [], "bug_id": 41695, "attachment_id": null, "text": "Thanks Nick. Refiling under tomcat. [I do not know what to be said with which\nthe Product version I have to chose ]\n\nI am using the Sun provided apache2 under Solaris-10 11/06 release at\n\n$ /usr/apache2/bin/httpd -v\nServer version: Apache/2.0.58\nServer built:   Sep  5 2006 07:20:21\n\n\n$ /usr/apache2/bin/httpd -V\nServer version: Apache/2.0.58\nServer built:   Sep  5 2006 07:20:21\nServer's Module Magic Number: 20020903:12\nServer loaded:  APR 0.9.12, APR-UTIL 0.9.12\nCompiled using: APR 0.9.12, APR-UTIL 0.9.12\nArchitecture:   32-bit\nServer compiled with....\n -D APACHE_MPM_DIR=\"server/mpm/prefork\"\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)\n -D APR_USE_FCNTL_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D HTTPD_ROOT=\"/usr/apache2\"\n -D SUEXEC_BIN=\"/usr/apache2/bin/suexec\"\n -D DEFAULT_PIDLOG=\"/var/run/apache2/httpd.pid\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_LOCKFILE=\"/var/run/apache2/accept.lock\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D AP_TYPES_CONFIG_FILE=\"/etc/apache2/mime.types\"\n -D SERVER_CONFIG_FILE=\"/etc/apache2/httpd.conf\"\n\nI have got mod_jk 1.2.20 compiled myself with SunStudio-11.0\n\nPlease let me know for any other details if required.\n\nThanks,\nNikhil", "id": 99749, "time": "2007-02-25T03:02:11Z", "creator": "mnikhil@gmail.com", "creation_time": "2007-02-25T03:02:11Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 41695, "is_private": false, "count": 3, "id": 99755, "time": "2007-02-25T05:49:16Z", "creator": "rpluem@apache.org", "creation_time": "2007-02-25T05:49:16Z", "text": "*** Bug 41692 has been marked as a duplicate of this bug. ***"}, {"count": 4, "tags": [], "creator": "rpluem@apache.org", "text": "(In reply to comment #0)\n> Hi,\n> \n> I use httpdv2.0.58 on Solaris-10 11/06 release and when I use mod_jk v1.2.20, it\n> is dumping core.\n> \n> When I look at the stacktrace of the core, here is what I get.\n> \n> Command name abbreviations are allowed if unambiguous.\n> (gdb) bt\n> #0  0xfedabbfc in apr_table_get () from /usr/apache2/lib/libapr-0.so.0\n> #1  0xfe918f56 in jk_map_to_storage () from /usr/apache2/libexec/mod_jk.so\n> #2  0x0813e4e0 in ?? ()\n> #3  0x00000000 in ?? ()\n\nWell this stacktrace does not look good to me. It should be much longer. Could\nyou please try the following:\n\n1. Does this also happen if you use a self compiled apache 2.0.58?\n2. Please ensure that the debugging information is stored in the binaries. For\ngcc the according switch is -g (So you should do something like CFLAGS=\"-g -O2\n-Wall\" ./configure with gcc to get all this set). I do not know the correct\nswitch(es) for SunStudio-11.0.\n3. Please issue a bt full instead of a bt in gdb.\n4. For more details please have a look at http://httpd.apache.org/dev/debugging.html", "id": 99756, "time": "2007-02-25T06:00:53Z", "bug_id": 41695, "creation_time": "2007-02-25T06:00:53Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "mnikhil@gmail.com", "text": "here is the full bt.\n\nReading symbols from /usr/apache2/libexec/mod_jk.so...\n(no debugging symbols found)...done.\nLoaded symbols for /usr/apache2/libexec/mod_jk.so\n#0  0xfedabbfc in apr_table_get ()\n   from /usr/apache2/lib/libapr-0.so.0\n(gdb) bt full\n#0  0xfedabbfc in apr_table_get () from /usr/apache2/lib/libapr-0.so.0\nNo symbol table info available.\n#1  0xfe918f56 in ?? () from /usr/apache2/libexec/mod_jk.so\nNo symbol table info available.\n#2  0x00000000 in ?? ()\nNo symbol table info available.\n(gdb) \n\n\nI have not tried with self-compiled Apache-2.0.58. but I am not yet clear given \nthat why should there be a problem ?. Anyways, I will give a try with self-\ncompiled httpd-2.0.58 too. Thanks.", "id": 99764, "time": "2007-02-25T13:50:32Z", "bug_id": 41695, "creation_time": "2007-02-25T13:50:32Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 41695, "is_private": false, "count": 6, "id": 99790, "time": "2007-02-26T02:12:58Z", "creator": "jorton@redhat.com", "creation_time": "2007-02-26T02:12:58Z", "text": "[reassigned bug owner]"}, {"attachment_id": null, "tags": [], "creator": "mturk@apache.org", "is_private": false, "count": 7, "id": 99793, "time": "2007-02-26T02:26:35Z", "bug_id": 41695, "creation_time": "2007-02-26T02:26:35Z", "text": "What is the output from\nldd /usr/apache2/libexec/mod_jk.so\n"}, {"attachment_id": null, "tags": [], "bug_id": 41695, "is_private": false, "count": 8, "id": 99795, "time": "2007-02-26T04:41:15Z", "creator": "mnikhil@gmail.com", "creation_time": "2007-02-26T04:41:15Z", "text": "here is the ldd of mod_jk.so\n\n$ ldd /usr/apache2/libexec/mod_jk.so \n        libc.so.1 =>     /lib/libc.so.1\n        libm.so.2 =>     /lib/libm.so.2\n\n\n$ nm -p /usr/apache2/libexec/mod_jk.so | egrep 'apr|mem'\n0000000000 U _memcpy\n0000000000 U apr_array_make\n0000000000 U apr_array_push\n0000000000 U apr_date_parse_http\n0000000000 U apr_file_inherit_set\n0000000000 U apr_file_open\n0000000000 U apr_file_write\n0000000000 U apr_filepath_merge\n0000000000 U apr_filepath_name_get\n0000000000 U apr_global_mutex_child_init\n0000000000 U apr_global_mutex_create\n0000000000 U apr_global_mutex_lock\n0000000000 U apr_global_mutex_unlock\n0000000000 U apr_off_t_toa\n0000000000 U apr_palloc\n0000000000 U apr_pool_cleanup_register\n0000000000 U apr_pool_create_ex\n0000000000 U apr_psprintf\n0000000000 U apr_pstrcat\n0000000000 U apr_pstrdup\n0000000000 U apr_pstrndup\n0000000000 U apr_pvsprintf\n0000000000 U apr_sockaddr_info_get\n0000000000 U apr_sockaddr_ip_get\n0000000000 U apr_stat\n0000000000 U apr_strerror\n0000000000 U apr_table_add\n0000000000 U apr_table_elts\n0000000000 U apr_table_get\n0000000000 U apr_table_make\n0000000000 U apr_table_overlay\n0000000000 U apr_table_set\n0000000000 U apr_table_setn\n0000000000 U apr_uri_unparse\n0000262280 d jk_apr_pool\n0000031776 t jk_apr_pool_cleanup\n0000029104 t jk_cleanup_shmem\n0000262808 d jk_shmem\n0000000000 U memcmp\n0000000000 U memcpy\n0000000000 U memmove\n\n\nPlease do let me know for any other information required."}, {"count": 9, "tags": [], "creator": "mnikhil@gmail.com", "text": "Please let me know if there is anything else that I need to furnish. \n\nThanks.", "id": 100120, "time": "2007-03-07T02:12:37Z", "bug_id": 41695, "creation_time": "2007-03-07T02:12:37Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 41695, "is_private": false, "count": 10, "id": 104195, "time": "2007-06-08T06:48:48Z", "creator": "gleb.liferenko@gmail.com", "creation_time": "2007-06-08T06:48:48Z", "text": "Had the same problem. Recompiling mod_jk against the Solaris bundled httpd\n2.0.58 (patch 120543-09) using the Sun Studio 11 compiler seems to be a workaround."}, {"count": 11, "tags": [], "bug_id": 41695, "attachment_id": null, "id": 133003, "time": "2009-12-21T03:08:13Z", "creator": "mturk@apache.org", "creation_time": "2009-12-21T03:08:13Z", "is_private": false, "text": "Fixable by using the same compiler for both mod_jk and httpd."}]