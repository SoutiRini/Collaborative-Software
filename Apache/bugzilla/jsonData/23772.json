[{"count": 0, "attachment_id": null, "bug_id": 23772, "text": "we have a web application with a servlet. example of a working url (with \n<value> masked out fields):\n\nhttp://<ipaddress>:7001/srv/srv?cmd=login&login=<login>&pwd=<pwd>\n\nIn the HTTP Request Defaults, it doesn't matter what i set at \"path\" - it is \nignored! Therefore, i have to set the path in each HTTP Request as \"/srv/srv\".\n(Any other path leads to a \"Temporarily Moved\" result message.) But the result \nis a application exception in JMeter (in the DOS console):\n\n\n----\njava.net.MalformedURLException: no protocol: srv?cmd=loginsuccess\n        at java.net.URL.<init>(URL.java:537)\n        at java.net.URL.<init>(URL.java:434)\n        at javax.swing.text.html.FrameView.createComponent(FrameView.java:56)\n        at javax.swing.text.ComponentView.setComponentParent(ComponentView.java:\n271)\n        at javax.swing.text.ComponentView.setParent(ComponentView.java:234)\n        at javax.swing.text.html.FrameView.setParent(FrameView.java:107)\n        at javax.swing.text.CompositeView.replace(CompositeView.java:200)\n        at javax.swing.text.BoxView.replace(BoxView.java:164)\n        at javax.swing.text.CompositeView.loadChildren(CompositeView.java:97)\n        at javax.swing.text.CompositeView.setParent(CompositeView.java:122)\n        at javax.swing.text.CompositeView.replace(CompositeView.java:200)\n        at javax.swing.text.BoxView.replace(BoxView.java:164)\n        at javax.swing.text.CompositeView.loadChildren(CompositeView.java:97)\n        at javax.swing.text.CompositeView.setParent(CompositeView.java:122)\n        at javax.swing.text.html.BlockView.setParent(BlockView.java:55)\n        at javax.swing.text.html.HTMLEditorKit$HTMLFactory$BodyBlockView.setPare\nnt(HTMLEditorKit.java:1266)\n        at javax.swing.text.CompositeView.replace(CompositeView.java:200)\n        at javax.swing.text.BoxView.replace(BoxView.java:164)\n        at javax.swing.text.View.updateChildren(View.java:1126)\n        at javax.swing.text.View.insertUpdate(View.java:710)\n        at javax.swing.plaf.basic.BasicTextUI$RootView.insertUpdate(BasicTextUI.\njava:1487)\n        at javax.swing.plaf.basic.BasicTextUI$UpdateHandler.insertUpdate(BasicTe\nxtUI.java:1726)\n        at javax.swing.text.AbstractDocument.fireInsertUpdate(AbstractDocument.j\nava:184)\n        at javax.swing.text.DefaultStyledDocument.create(DefaultStyledDocument.j\nava:138)\n        at javax.swing.text.html.HTMLDocument.create(HTMLDocument.java:266)\n        at javax.swing.text.html.HTMLDocument$HTMLReader.flushBuffer(HTMLDocumen\nt.java:3252)\n        at javax.swing.text.html.HTMLDocument$HTMLReader.flush(HTMLDocument.java\n:2074)\n        at javax.swing.text.html.HTMLEditorKit.read(HTMLEditorKit.java:231)\n        at javax.swing.JEditorPane.setText(JEditorPane.java:1298)\n        at org.apache.jmeter.visualizers.ViewResultsFullVisualizer.showRenderedR\nesponse(ViewResultsFullVisualizer.java:422)\n        at org.apache.jmeter.visualizers.ViewResultsFullVisualizer.valueChanged(\nViewResultsFullVisualizer.java:320)\n        at javax.swing.JTree.fireValueChanged(JTree.java:2392)\n        at javax.swing.JTree$TreeSelectionRedirector.valueChanged(JTree.java:276\n3)\n        at javax.swing.tree.DefaultTreeSelectionModel.fireValueChanged(DefaultTr\neeSelectionModel.java:629)\n        at javax.swing.tree.DefaultTreeSelectionModel.notifyPathChange(DefaultTr\neeSelectionModel.java:1076)\n        at javax.swing.tree.DefaultTreeSelectionModel.setSelectionPaths(DefaultT\nreeSelectionModel.java:287)\n        at javax.swing.tree.DefaultTreeSelectionModel.setSelectionPath(DefaultTr\neeSelectionModel.java:170)\n        at javax.swing.JTree.setSelectionPath(JTree.java:1168)\n        at javax.swing.plaf.basic.BasicTreeUI.selectPathForEvent(BasicTreeUI.jav\na:2192)\n        at javax.swing.plaf.basic.BasicTreeUI$MouseHandler.handleSelection(Basic\nTreeUI.java:2840)\n        at javax.swing.plaf.basic.BasicTreeUI$MouseHandler.mousePressed(BasicTre\neUI.java:2801)\n        at java.awt.AWTEventMulticaster.mousePressed(AWTEventMulticaster.java:22\n2)\n        at java.awt.Component.processMouseEvent(Component.java:5097)\n        at java.awt.Component.processEvent(Component.java:4897)\n        at java.awt.Container.processEvent(Container.java:1569)\n        at java.awt.Component.dispatchEventImpl(Component.java:3615)\n        at java.awt.Container.dispatchEventImpl(Container.java:1627)\n        at java.awt.Component.dispatchEvent(Component.java:3477)\n        at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:3483\n)\n        at java.awt.LightweightDispatcher.processMouseEvent(Container.java:3195)\n\n        at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3128)\n        at java.awt.Container.dispatchEventImpl(Container.java:1613)\n        at java.awt.Window.dispatchEventImpl(Window.java:1606)\n        at java.awt.Component.dispatchEvent(Component.java:3477)\n        at java.awt.EventQueue.dispatchEvent(EventQueue.java:456)\n        at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchTh\nread.java:201)\n        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThre\nad.java:151)\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:145)\n\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:137)\n\n        at java.awt.EventDispatchThread.run(EventDispatchThread.java:100)\njava.net.MalformedURLException: no protocol: welcome.jsp;jsessionid=1KkBC7kZTktE\n1362Z1wlvVwS2fDzRDPaiJ8uo4QjZdwdjyvTXq1r!1878261823!-1062731763!7001!7002\n        at java.net.URL.<init>(URL.java:537)\n        at java.net.URL.<init>(URL.java:434)\n        at javax.swing.text.html.FrameView.createComponent(FrameView.java:56)\n        at javax.swing.text.ComponentView.setComponentParent(ComponentView.java:\n271)\n        at javax.swing.text.ComponentView.setParent(ComponentView.java:234)\n        at javax.swing.text.html.FrameView.setParent(FrameView.java:107)\n        at javax.swing.text.CompositeView.replace(CompositeView.java:200)\n        at javax.swing.text.BoxView.replace(BoxView.java:164)\n        at javax.swing.text.CompositeView.loadChildren(CompositeView.java:97)\n        at javax.swing.text.CompositeView.setParent(CompositeView.java:122)\n        at javax.swing.text.CompositeView.replace(CompositeView.java:200)\n        at javax.swing.text.BoxView.replace(BoxView.java:164)\n        at javax.swing.text.CompositeView.loadChildren(CompositeView.java:97)\n        at javax.swing.text.CompositeView.setParent(CompositeView.java:122)\n        at javax.swing.text.html.BlockView.setParent(BlockView.java:55)\n        at javax.swing.text.html.HTMLEditorKit$HTMLFactory$BodyBlockView.setPare\nnt(HTMLEditorKit.java:1266)\n        at javax.swing.text.CompositeView.replace(CompositeView.java:200)\n        at javax.swing.text.BoxView.replace(BoxView.java:164)\n        at javax.swing.text.View.updateChildren(View.java:1126)\n        at javax.swing.text.View.insertUpdate(View.java:710)\n        at javax.swing.plaf.basic.BasicTextUI$RootView.insertUpdate(BasicTextUI.\njava:1487)\n        at javax.swing.plaf.basic.BasicTextUI$UpdateHandler.insertUpdate(BasicTe\nxtUI.java:1726)\n        at javax.swing.text.AbstractDocument.fireInsertUpdate(AbstractDocument.j\nava:184)\n        at javax.swing.text.DefaultStyledDocument.create(DefaultStyledDocument.j\nava:138)\n        at javax.swing.text.html.HTMLDocument.create(HTMLDocument.java:266)\n        at javax.swing.text.html.HTMLDocument$HTMLReader.flushBuffer(HTMLDocumen\nt.java:3252)\n        at javax.swing.text.html.HTMLDocument$HTMLReader.flush(HTMLDocument.java\n:2074)\n        at javax.swing.text.html.HTMLEditorKit.read(HTMLEditorKit.java:231)\n        at javax.swing.JEditorPane.setText(JEditorPane.java:1298)\n        at org.apache.jmeter.visualizers.ViewResultsFullVisualizer.showRenderedR\nesponse(ViewResultsFullVisualizer.java:422)\n        at org.apache.jmeter.visualizers.ViewResultsFullVisualizer.valueChanged(\nViewResultsFullVisualizer.java:320)\n        at javax.swing.JTree.fireValueChanged(JTree.java:2392)\n        at javax.swing.JTree$TreeSelectionRedirector.valueChanged(JTree.java:276\n3)\n        at javax.swing.tree.DefaultTreeSelectionModel.fireValueChanged(DefaultTr\neeSelectionModel.java:629)\n        at javax.swing.tree.DefaultTreeSelectionModel.notifyPathChange(DefaultTr\neeSelectionModel.java:1076)\n        at javax.swing.tree.DefaultTreeSelectionModel.setSelectionPaths(DefaultT\nreeSelectionModel.java:287)\n        at javax.swing.tree.DefaultTreeSelectionModel.setSelectionPath(DefaultTr\neeSelectionModel.java:170)\n        at javax.swing.JTree.setSelectionPath(JTree.java:1168)\n        at javax.swing.plaf.basic.BasicTreeUI.selectPathForEvent(BasicTreeUI.jav\na:2192)\n        at javax.swing.plaf.basic.BasicTreeUI$MouseHandler.handleSelection(Basic\nTreeUI.java:2840)\n        at javax.swing.plaf.basic.BasicTreeUI$MouseHandler.mousePressed(BasicTre\neUI.java:2801)\n        at java.awt.AWTEventMulticaster.mousePressed(AWTEventMulticaster.java:22\n2)\n        at java.awt.Component.processMouseEvent(Component.java:5097)\n        at java.awt.Component.processEvent(Component.java:4897)\n        at java.awt.Container.processEvent(Container.java:1569)\n        at java.awt.Component.dispatchEventImpl(Component.java:3615)\n        at java.awt.Container.dispatchEventImpl(Container.java:1627)\n        at java.awt.Component.dispatchEvent(Component.java:3477)\n        at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:3483\n)\n        at java.awt.LightweightDispatcher.processMouseEvent(Container.java:3195)\n\n        at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3128)\n        at java.awt.Container.dispatchEventImpl(Container.java:1613)\n        at java.awt.Window.dispatchEventImpl(Window.java:1606)\n        at java.awt.Component.dispatchEvent(Component.java:3477)\n        at java.awt.EventQueue.dispatchEvent(EventQueue.java:456)\n        at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchTh\nread.java:201)\n        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThre\nad.java:151)\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:145)\n\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:137)\n\n        at java.awt.EventDispatchThread.run(EventDispatchThread.java:100)", "id": 45499, "time": "2003-10-13T13:26:44Z", "creator": "mhilpert@gmx.de", "creation_time": "2003-10-13T13:26:44Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "mhilpert@gmx.de", "attachment_id": null, "is_private": false, "id": 45509, "time": "2003-10-13T13:40:03Z", "bug_id": 23772, "creation_time": "2003-10-13T13:40:03Z", "text": "the cause might be that the result of my login page is a framed page. as you \ncan see in the stack trace, there is another error in the middle:\n\njava.net.MalformedURLException: no protocol: welcome.jsp;jsessionid=1KkBC7kZTktE\n1362Z1wlvVwS2fDzRDPaiJ8uo4QjZdwdjyvTXq1r!1878261823!-1062731763!7001!7002\n\nthe result of the login is a html page with two frames. the second frame has \na \"welcome.jsp\" page displayed. here's the HTML FRAMESET code of the resulting \npage:\n\n<FRAMESET COLS=\"200,*\">\n  <FRAME NAME=\"menu\" SRC=\"<%= SERVLET_NAME %>?<%= REQUEST_PARA_CMD %>=<%= \nUserCase.COMMAND_LOGINSUCCESS %>\" FRAMEBORDER=0 SCROLLING=auto NORESIZE>\n  <FRAME NAME=\"page\" SRC=\"<%= response.encodeUrl(\"welcome.jsp\") %>\" \nFRAMEBORDER=0 SCROLLING=auto NORESIZE>\n  <NOFRAMES>\nKeine Frames verf&uuml;gbar!\n  </NOFRAMES>\n</FRAMESET>\n\nhowever, the login succeds and subsequent samplers seem to work.\n\n(alas, the \"path\" field in the HTTP Request Default configuration is not used \n(it's ignored))\n"}, {"attachment_id": null, "tags": [], "bug_id": 23772, "is_private": false, "count": 2, "id": 48934, "time": "2003-12-11T22:11:01Z", "creator": "jsalvata@atg.com", "creation_time": "2003-12-11T22:11:01Z", "text": "I can't reproduce the problem with the Path field in the HTTP Request Defaults.\nM.H.: can you please post a test plan that has this problem?\n\nSteps to reproduce the exception:\n\nTest Plan\n  Thread Group (1 single thread, 1 single loop)\n    HTTP Request: http://localhost/frames.html\n  View Results Tree\n\nMake http://localhost/frames.html have this content:\n\n<html>\n<body>\n<frameset rows=\"*,*\">\n  <frame src=\"x.html\">\n  <frame src=\"y.html\">\n</frameset>\n</body>\n</html>\n\n- Run the test\n- Look for your sample result in the View Results Tree\n- Click on \"Render HTML\" -- you'll get the exception the user mentions.\n\nFor the time being I'll assume the Path problem is a user issue and I'll\nconsider this bug report to be for the MalformedURLException when rendering\nHTML in View Results Tree. Neither of these merit a Critical severity, so\ndowngrading to Normal."}, {"count": 3, "tags": [], "creator": "sebb@apache.org", "is_private": false, "text": "This is because the JEditor pane was initialised from the response string, and\nthus does not know the original URL on which to base the frame URLs.\n\nThe URL can be provided in the property Document.StreamDescriptionProperty.\n\nIf this is done, the page will be displayed as a frameset and the stack trace\ndisappears.\n\nHowever, this may not be a good idea, as JMeter will actually download the\nframes from the server. This is also true of images - should JMeter download\nimages when rendering an HTML page?\n\nIt's not clear if it is possible to suppress the stack-trace, other than by\nproviding a valid URL, as the trace appears to be generated deep within the Java\nlibraries.\n\nNor is it clear if the page can be displayed without images and other linked items.", "id": 63812, "time": "2004-09-19T16:51:11Z", "bug_id": 23772, "creation_time": "2004-09-19T16:51:11Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "sebb@apache.org", "text": "Changes committed to CVS (release 2.0) to allow frames to be displayed.\nThis also fixes the display of images with relative URLs.\n\nAlso added JMeter property to suppress the download of embedded resources.", "id": 63941, "time": "2004-09-21T00:44:57Z", "bug_id": 23772, "creation_time": "2004-09-21T00:44:57Z", "is_private": false, "attachment_id": null}]