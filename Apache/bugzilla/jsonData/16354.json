[{"count": 0, "tags": [], "bug_id": 16354, "attachment_id": null, "id": 29920, "time": "2003-01-23T10:22:46Z", "creator": "devel@ikron.hu", "creation_time": "2003-01-23T10:22:46Z", "is_private": false, "text": "Hi!\n\nThis is a generated java servlet from a jsp by tomcat4. \n\n      int _jspx_eval_interbase_databaseElementLoop_0 =\n_jspx_th_interbase_databaseElementLoop_0.doStartTag();\n      if (_jspx_eval_interbase_databaseElementLoop_0 !=\njavax.servlet.jsp.tagext.Tag.SKIP_BODY) {\n        hu.interbase.database.DatabaseElement kapcscegek_elem = null;\n        Integer counter = null;\n        if (_jspx_eval_interbase_databaseElementLoop_0 !=\njavax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {\n          javax.servlet.jsp.tagext.BodyContent _bc = pageContext.pushBody();\n          _bc.clear();\n          out = _bc;\n          _jspx_th_interbase_databaseElementLoop_0.setBodyContent(_bc);\n          _jspx_th_interbase_databaseElementLoop_0.doInitBody();\n          kapcscegek_elem = (hu.interbase.database.DatabaseElement)\npageContext.findAttribute(\"kapcscegek_elem          counter = (Integer)\npageContext.findAttribute(\"counter\");\n        }\n        do { ...\n\nThe problem is that kapcscegek_elem and counter is assigned a value within an if\nclause, therefore it enters the do-while loop with null value if doStartTag()\nreturns\nEVAL_BODY_INCLUDE. Why don't fetch the above variables their values from the\npage context outside this if clause?"}, {"count": 1, "tags": [], "creator": "div@yandex.ru", "attachment_id": null, "text": "This bug is fixed in Tomcat 4.1.19\n\nSee http://www.mail-archive.com/tomcat-dev@jakarta.apache.org/msg38931.html for \ndetais.", "id": 29978, "time": "2003-01-23T23:57:28Z", "bug_id": 16354, "creation_time": "2003-01-23T23:57:28Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 16354, "attachment_id": null, "id": 29980, "time": "2003-01-24T00:29:04Z", "creator": "div@yandex.ru", "creation_time": "2003-01-24T00:29:04Z", "is_private": false, "text": "There is workaround for Tomcat 4.1.x (where x<19)\n\nMake your iteration tag extend TagSupport instead of BodyTagSupport.\n\nTherefor you return EVAL_BODY_INCLUDE from doStartTag() you don't need to \nextend BodyTagSupport."}, {"count": 3, "tags": [], "creator": "jan.luehe@sun.com", "attachment_id": null, "is_private": false, "id": 31083, "time": "2003-02-11T18:19:04Z", "bug_id": 16354, "creation_time": "2003-02-11T18:19:04Z", "text": "Fixed in TC 4.1.19.\n"}]