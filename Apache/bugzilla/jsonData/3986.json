[{"count": 0, "tags": [], "bug_id": 3986, "attachment_id": null, "id": 6407, "time": "2001-10-05T02:55:30Z", "creator": "ng@gtsb.com.my", "creation_time": "2001-10-05T02:55:30Z", "is_private": false, "text": "I have a JSP program which  code as below\n\n<jsp:forward page=\"jsppage001\">\n<jsp:param name=\"pagecond\" value=\"%\" />\n</jsp:forward>\n\nTC3.3  b1,b2 and rc1 return the error message\nas below,  it was working fine on 3.1 ,3.2 and 4.0\n\n\njava.io.CharConversionException: EOF\n        at \n\norg.apache.tomcat.util.buf.UDecoder.convert(UDecoder.java:157)\n        at \n\norg.apache.tomcat.util.http.Parameters.processParameters(Parameters.j\nava:583)\n        at \n\norg.apache.tomcat.facade.RequestDispatcherImpl.doForward(RequestDispa\ntcherImpl.java:251)\n        at \n\norg.apache.tomcat.facade.RequestDispatcherImpl.forward(RequestDispatc\nherImpl.java:172)\n        at \n\norg.apache.jasper.runtime.PageContextImpl.forward(PageContextImpl.jav\na:423)\n        at ma0011_1._jspService(ma0011_1.java:508)\n        at \n\norg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:119)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java)\n        at \n\norg.apache.tomcat.facade.ServletHandler.doService(ServletHandler.java\n:484)\n        at org.apache.tomcat.core.Handler.invoke(Handler.java:322)\n        at org.apache.tomcat.core.Handler.service(Handler.java:235)\n        at \n\norg.apache.tomcat.facade.ServletHandler.service(ServletHandler.java:4\n32)\n        at \n\norg.apache.tomcat.core.ContextManager.internalService(ContextManager.\njava:915)\n        at \n\norg.apache.tomcat.core.ContextManager.service(ContextManager.java:831\n)\n        at \n\norg.apache.tomcat.modules.server.Http10Interceptor.processConnection(\nHttp10Interceptor.java:161)\n        at \n\norg.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java\n:477)\n        at \n\norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadP\nool.java:517)\n        at java.lang.Thread.run(Thread.java:484)"}, {"count": 1, "tags": [], "bug_id": 3986, "attachment_id": null, "is_private": false, "id": 6414, "time": "2001-10-05T08:08:07Z", "creator": "cmanolache@yahoo.com", "creation_time": "2001-10-05T08:08:07Z", "text": "Tomcat assumes the parameters you pass are encoded, and tries to decode.\nNeed to check the spec, it's not hard to fix."}, {"count": 2, "tags": [], "text": "My understanding is that jsp:forward should behave similarly with\nRequestDispather.forward ( in the servlet spec ). The params should be\nequivalent with what you would pass in the query string ( ?a=b ). That means\nthey should be encoded ( and % replaced with %xx - I don't know the exact code ). \n\nTomcat would throw the same exception if the original request will have only \na '%' in the param ( or anywhere else ) - it's an invalid URI. Previous versions\nof tomcat didn't decode the param.\n\n", "is_private": false, "id": 6420, "creator": "cmanolache@yahoo.com", "time": "2001-10-05T08:18:43Z", "bug_id": 3986, "creation_time": "2001-10-05T08:18:43Z", "attachment_id": null}, {"count": 3, "text": "Sorry about my ignorance ,why did this  do with servlet spec ? \n\n<jsp:forward page=\"jsppage001\">\n<jsp:param name=\"pagecond\" value=\"%\" />\n</jsp:forward>\nafter  interpreter it should return something like this \nhttp://test.com/jsppage001.jsp?pagecond=% \n\nisn't it a Valid URL ?\n\nmore over , Tomcat 3.2.* ,Tomcat catalina 4.0 and orion server J2EE didn't \ncomplaint about this problem.\n", "bug_id": 3986, "attachment_id": null, "id": 6492, "time": "2001-10-09T03:25:04Z", "creator": "ng@gtsb.com.my", "creation_time": "2001-10-09T03:25:04Z", "tags": [], "is_private": false}]