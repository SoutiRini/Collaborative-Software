[{"count": 0, "tags": [], "creator": "mteegarden@yahoo.com", "attachment_id": null, "id": 10653, "time": "2002-02-13T18:21:46Z", "bug_id": 6431, "creation_time": "2002-02-13T18:21:46Z", "is_private": false, "text": "I am using the jndi realm with a Novell directory. In setting up the role query \nI am using:\n  roleBase=\"\"\n  roleName=\"groupMembership\"\n  roleSearch=\"(&amp;(objectClass=person)(mail={1}@akc.org))\"\n  roleSubtree=\"true\"\nSo I'm querying the user and getting all of group (role) attributes assigned to \nit.\n\nIn getRoles(DirContext, String, String) it does not loop through the list of \nattributes for the single entity. It only returns the first attribute.\n\nI propose it be changed to the following code.\n\n//Add enumeration & while to loop through all roles.\n    NamingEnumeration rolesList = attr.getAll();\n    while (rolesList.hasMore())\n    {\n        // String role = (String) attr.get();\n        String role = (String) rolesList.next();\n        if (debug >= 3)\n            log(\"  Found role '\" + role + \"'\");\n        list.add(role);\n    }"}, {"count": 1, "tags": [], "bug_id": 6431, "attachment_id": null, "text": "The current JNDI Realm has a new configuration attribute \"userRoleName\" which \nnames an attribute in the user's entry that containing the names of roles \nassigned to that user. This is equivalent to the proposed change.\n\n(This configuration attribute can be used in conjunction with \"roleName\" for \ngreater flexibility by the way).\n", "id": 16368, "time": "2002-05-18T18:03:01Z", "creator": "j.g.holman@qmul.ac.uk", "creation_time": "2002-05-18T18:03:01Z", "is_private": false}]