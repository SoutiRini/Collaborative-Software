[{"count": 0, "tags": [], "bug_id": 7827, "attachment_id": null, "text": "In Cygwin environment, catalina.sh cannot work.\nThis reason is that CATALINA_BASE and CATALINA_TMPDIR isnot set appropriately \nfor cygwin.\n\nIf following patch applied to catalina.sh, this problem is fixed:\n\n--- catalina.sh.orig\tWed Mar 27 03:12:50 2002\n+++ catalina.sh\tThu Apr  4 15:08:26 2002\n@@ -64,7 +64,9 @@\n # For Cygwin, ensure paths are in UNIX format before anything is touched\n if $cygwin; then\n   [ -n \"$JAVA_HOME\" ] && JAVA_HOME=`cygpath --unix \"$JAVA_HOME\"`\n+  [ -n \"$CATALINA_BASE\" ] && CATALINA_BASE=`cygpath --unix \"$CATALINA_BASE\"`\n   [ -n \"$CATALINA_HOME\" ] && CATALINA_HOME=`cygpath --unix \"$CATALINA_HOME\"`\n+  [ -n \"$CATALINA_TMPDIR\" ] && CATALINA_TMPDIR=`cygpath --unix \n\"$CATALINA_TMPDIR\"`\n   [ -n \"$CLASSPATH\" ] && CLASSPATH=`cygpath --path --unix \"$CLASSPATH\"`\n   [ -n \"$JSSE_HOME\" ] && JSSE_HOME=`cygpath --path --unix \"$JSSE_HOME\"`\n fi\n@@ -97,7 +99,9 @@\n # For Cygwin, switch paths to Windows format before running java\n if $cygwin; then\n   JAVA_HOME=`cygpath --path --windows \"$JAVA_HOME\"`\n+  CATALINA_BASE=`cygpath --path --windows \"$CATALINA_BASE\"`\n   CATALINA_HOME=`cygpath --path --windows \"$CATALINA_HOME\"`\n+  CATALINA_TMPDIR=`cygpath --path --windows \"$CATALINA_TMPDIR\"`\n   CLASSPATH=`cygpath --path --windows \"$CLASSPATH\"`\n   JSSE_HOME=`cygpath --path --windows \"$JSSE_HOME\"`\n fi", "id": 12995, "time": "2002-04-08T07:42:58Z", "creator": "kare@w4.dion.ne.jp", "creation_time": "2002-04-08T07:42:58Z", "is_private": false}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 13001, "creation_time": "2002-04-08T09:56:54Z", "time": "2002-04-08T09:56:54Z", "bug_id": 7827, "text": "I find it counter productive to put tons of hacks in the Unix scripts just to\nsupport Cygwin. The .bat works perfectly well when run from Cygwin, so please\nuse it to run Tomcat.", "is_private": false}, {"count": 2, "tags": [], "text": "I understand the above \"tons of hacks\" argument, however, if that is the case \nthen everything in the scripts referencing cygwin should be removed so it does \nnot appear to support cygwin.  I just spent an hour searching the web because I \nthought \"There must be something wrong with my environment because catalina.sh \nobviously should work under cygwin because it does cygwin checks in several \nplaces.\"  It makes no sense to have cygwin checks in this script if it's broken \nin cygwin.  It would actually be easier to just apply the two line change noted \nin the original entry of this bug report than to remove all cygwin references.", "attachment_id": null, "id": 17704, "creator": "steve_gilbert@vertexinc.com", "time": "2002-06-12T18:40:02Z", "bug_id": 7827, "creation_time": "2002-06-12T18:40:02Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 7827, "text": "This is fixed, I don't know when but it is now ok in 4.1.24. The fix will not be\nbackported to 4.0.X. ", "id": 35570, "time": "2003-04-18T17:28:31Z", "creator": "funkman@joedog.org", "creation_time": "2003-04-18T17:28:31Z", "is_private": false, "attachment_id": null}]