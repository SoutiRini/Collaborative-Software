[{"count": 0, "text": "I have an application which sends a POST request with Content-Type:\ntext/plain;.charset=utf-8. However, JMeter changes the Content-Type to\napplication/x-www-form-urlencoded and cause 500 error from server. This happen\nduring the recording and replaying. The header record in the script is\nContent-Type: text/plain;.charset=utf-8 though.\n\nThe content in the HTTP POST body includes both binary and characters.\n\nThe build I am using is nightly build 20060921.", "bug_id": 41518, "is_private": false, "id": 98877, "time": "2007-02-01T11:37:40Z", "creator": "yanhouqiang@hotmail.com", "creation_time": "2007-02-01T11:37:40Z", "tags": [], "attachment_id": null}, {"attachment_id": 19945, "tags": [], "bug_id": 41518, "is_private": false, "count": 1, "id": 101652, "time": "2007-04-13T01:31:13Z", "creator": "alf@i100.no", "creation_time": "2007-04-13T01:31:13Z", "text": "Created attachment 19945\nSuggested patch\n\nThis patch allows the user to specify what \"content-type\" header should be sent\nfor a HTTP POST request, by adding a \"HTTP Header Manager\" config element as a\nchild of the sampler, and then setting the content-type header and value there.\n\n\nIf it is a multipart post request, then the code will set the content-type to\nthe correct multipart / boundary value, no matter what the user has specified.\n\nIf the user has not specified a content-type header via the \"HTTP Header\nManager\", then the code will set content-type\n\"application/x-www-form-urlencoded\".\n\nIf the user specifies no parameters for the POST request, but specifies a\nfilename and mimetype, but no \"file field name\", then the file will be sent in\nthe post body, with the value specified in \"mimetype\" as the value of the\n\"content-type\" header.\n\nIf the user specifies one or more parameters, but none of the parameters have a\nname, then all the parameter values are concatenated, and sent as the sole post\nbody.\n\nThis patch also contains minor changes to the HTTP Proxy Server, to allow the\nproxy server to serve HTTP Post requests which has content-type different from \n\n\"application/x-www-form-urlencoded\", by just adding a parameter with value, but\nno name, to the http sampler.\nThis, I think, should allow you to use the HTTP Proxy Server to record any HTTP\npost. So I think this patch also solves bug 39641."}, {"count": 2, "text": "The HttpRequestHdr patch causes test failures - it changes the number of \narguments that are parsed.", "bug_id": 41518, "is_private": false, "id": 101690, "time": "2007-04-13T14:48:41Z", "creator": "sebb@apache.org", "creation_time": "2007-04-13T14:48:41Z", "tags": [], "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 41518, "attachment_id": 19970, "text": "Created attachment 19970\nUpdated suggested patch\n\nI have fixed the problem exposed by the failing JUnit test, HTTP GET request\nincorrectly got an extra parameter, due to the parsing of the \"request body\".\nI have also added some new junit tests, and expanded the existing junit tests.", "id": 101750, "time": "2007-04-16T03:36:59Z", "creator": "alf@i100.no", "creation_time": "2007-04-16T03:36:59Z", "is_private": false}, {"count": 4, "text": "Created attachment 19971\nUpdated suggested patch\n\nOne change compared to the last suggested patch : now only add parameter for\nthe whole post body, if the length of postbody is greater than 0.", "bug_id": 41518, "is_private": false, "id": 101751, "time": "2007-04-16T03:50:46Z", "creator": "alf@i100.no", "creation_time": "2007-04-16T03:50:46Z", "tags": [], "attachment_id": 19971}, {"count": 5, "tags": [], "bug_id": 41518, "attachment_id": null, "id": 101767, "time": "2007-04-16T15:54:04Z", "creator": "sebb@apache.org", "creation_time": "2007-04-16T15:54:04Z", "is_private": false, "text": "Thanks for the fixes.\n\nPatch 19971 applied to SVN as r529431"}]