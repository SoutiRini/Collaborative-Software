[{"attachment_id": null, "tags": [], "creator": "patrick.martin@sungard.com", "text": "cvstagdiff does not seem to work with cvs module aliases in ant 1.5.3.\n\nIf an alias is defined as \"mod123 -a mod1 mod2 mod3\" in CVSROOT/modules, the \noutput of cvstagdiff will truncate the 6 first characters of each file name \n(length of mod123).\n\nFor example, if \"mod1/file1.txt\" should be reported, it will become \"ile1.txt\".\n\nIt seems the problem comes from line 271 of revision 1.6.2.5 of CvsTagDiff.java:\nint headerLength = 5 + m_package.length() + 1;", "count": 0, "id": 43587, "time": "2003-09-02T10:06:12Z", "bug_id": 22877, "creation_time": "2003-09-02T10:06:12Z", "is_private": false}, {"attachment_id": 8032, "tags": [], "creator": "patrick.martin@sungard.com", "text": "Created attachment 8032\nCvsTagDiff.java (revision 1.6.2.5) unified diff", "count": 1, "id": 43593, "time": "2003-09-02T12:11:40Z", "bug_id": 22877, "creation_time": "2003-09-02T12:11:40Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 22877, "attachment_id": null, "id": 43595, "time": "2003-09-02T12:13:55Z", "creator": "patrick.martin@sungard.com", "creation_time": "2003-09-02T12:13:55Z", "is_private": false, "text": "The patch above should correct this issue."}, {"count": 3, "tags": [], "creator": "antoine@apache.org", "attachment_id": null, "id": 43598, "creation_time": "2003-09-02T12:54:12Z", "time": "2003-09-02T12:54:12Z", "bug_id": 22877, "text": "Hi Patrick,\n\ncvstagdiff has changed a bit in ant 1.6\nCan you do one of the following :\n1) see if you can redo your patch against 1.6\nor\n2) give me an example of public cvs repository which has theses aliases and\nagainst which I can test", "is_private": false}, {"count": 4, "tags": [], "bug_id": 22877, "attachment_id": 8034, "id": 43605, "time": "2003-09-02T14:00:38Z", "creator": "patrick.martin@sungard.com", "creation_time": "2003-09-02T14:00:38Z", "is_private": false, "text": "Created attachment 8034\nunified diff against 1.16"}, {"count": 5, "tags": [], "text": "Is there any chance this patch can make it to the ANT_15_BRANCH?", "attachment_id": null, "id": 43606, "creator": "patrick.martin@sungard.com", "time": "2003-09-02T14:02:29Z", "bug_id": 22877, "creation_time": "2003-09-02T14:02:29Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 22877, "attachment_id": null, "id": 43612, "time": "2003-09-02T15:09:29Z", "creator": "bodewig@apache.org", "creation_time": "2003-09-02T15:09:29Z", "is_private": false, "text": "There most probably will be no more 1.5.x releases, so there is no point in\npatching the branch."}, {"count": 7, "tags": [], "creator": "antoine@apache.org", "attachment_id": null, "text": "Patrick, can you attach sample output from cvs tagdiff (directly from the shell\ncommand, not from ant) when one does what ant does on your cvs repository, so\nthat I can understand better what you want to do.\nAlso, I found a small problem with your patch, I will attach a new version of it.", "id": 43674, "time": "2003-09-03T17:55:30Z", "bug_id": 22877, "creation_time": "2003-09-03T17:55:30Z", "is_private": false}, {"count": 8, "tags": [], "creator": "antoine@apache.org", "attachment_id": 8052, "text": "Created attachment 8052\nnew unified diff against 1.16", "id": 43675, "time": "2003-09-03T18:02:37Z", "bug_id": 22877, "creation_time": "2003-09-03T18:02:37Z", "is_private": false}, {"attachment_id": null, "tags": [], "creator": "antoine@apache.org", "text": "I did not submit this fix mainly because it works in the following way :\n- output the module part of the path of the sources if it is different from the\nrequested module,\n- otherwise remove from the path of the sources the module, ie print build.xml\ninstead of ant/build.xml or src/main/org/apache/tools/ant/Main.java instead of\nant/src/main/org/apache/tools/ant/Main.java. But if there are aliases around,\nthe cvs server would answer alias/src/main/org/apache/tools/ant/Main.java and\nthe alias/ bit would be preserved in the output.\nI find this solution is maybe a bit too ad-hoc (ie aliased parts of modules\nshould not be treated specially).\nI would prefer to add a new attribute includemodule, which if set to true would\nmake the output include the module name. The default would be false.\nAnt users having CVS repositories with modules partially aliased, or wanting to\ngenerate a report on several modules at once would pick includemodule=\"true\"", "count": 9, "id": 45582, "time": "2003-10-14T09:17:47Z", "bug_id": 22877, "creation_time": "2003-10-14T09:17:47Z", "is_private": false}, {"count": 10, "tags": [], "creator": "patrick.martin@sungard.com", "attachment_id": null, "text": "This solution would be ok with me.", "id": 45645, "time": "2003-10-14T15:48:37Z", "bug_id": 22877, "creation_time": "2003-10-14T15:48:37Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 22877, "attachment_id": null, "id": 46942, "time": "2003-11-06T20:43:44Z", "creator": "antoine@apache.org", "creation_time": "2003-11-06T20:43:44Z", "is_private": false, "text": "Problem solved. I decided finally to lazily output the module part of the path\nname when it is different from the requested package.\nMaybe a multipackage option could be developed in the 1.7 timeframe, with a\ndifferent dtd (package nested element to separate clearly the different\npackages, and package part of the path names removed).\nCheers,\nAntoine"}]