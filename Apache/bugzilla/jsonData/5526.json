[{"count": 0, "tags": [], "bug_id": 5526, "is_private": false, "text": "The files written to by org.apache.catalina.valves.AccessLogValve do not\nnecessarily roll-over at midnight.\n\nIMHO the probable reason for this, looking at the code (revision 1.10), is the\nfollowing:\nThe getDate() method called with the invoke() method will reset the currentDate\nfield within a granularity of 1sec. invoke() then constructs the access log line\nand calls log(msg,date). It is within this log() method that the check for file\nrollover occurs. However the test will fail unless more than 1 sec has elapsed\nsince getDate() was called. Since this is highly likely the old file is never\nclosed and the new file is never opened.", "id": 9070, "time": "2001-12-19T21:57:05Z", "creator": "ian@perth.wni.com", "creation_time": "2001-12-19T21:57:05Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "is_private": false, "id": 9076, "time": "2001-12-20T00:20:21Z", "bug_id": 5526, "creation_time": "2001-12-20T00:20:21Z", "text": "That's the correct explnation. Good job ! The fix will be in the upcoming 4.0.2 \nb1 release.\n\n*** This bug has been marked as a duplicate of 4327 ***"}]