[{"count": 0, "tags": [], "bug_id": 46019, "attachment_id": null, "id": 121588, "time": "2008-10-16T04:32:27Z", "creator": "stephan.fuhrmann@1und1.de", "creation_time": "2008-10-16T04:32:27Z", "is_private": false, "text": "I'm calling another ant using this parent build file\n\n<project name=\"SMSsupervision\" default=\"dist\" basedir=\".\">\n...\n\t<property name=\"lib\"  location=\"lib\"/>\n...\n\t\t<ant dir=\"../Mediator\" target=\"getJar\">\n\t\t\t<property name=\"getjar-target\" location=\"${lib}\"/>\n\t\t</ant>\t\t\n...\n</project>\n\nThe called build.xml has the following passage:\n...\n\t<property name=\"lib\"  location=\"lib\"/>\n...\n        <path id=\"jaxws.classpath\">\n                <pathelement location=\"${java.home}/../lib/tools.jar\"/>\n                <fileset dir=\"${lib}\">\n                        <include name=\"*.jar\"/>\n                        <exclude name=\"j2ee.jar\"/>\n                </fileset>\n        </path>\n...\n\nThe problem: The childs ${lib} reference seems to get resolved to the ${lib} of the parent, not the ${lib} that the child build file has implemented for itself.\n\nReplacing all \"lib\" names to \"xlib\" in the childs build file is a workaround for this problem. Replacing the ${lib} reference with an absolute path also works.\n\nIt seems to me that initialization of the subant is done in the wrong time order."}, {"count": 1, "tags": [], "bug_id": 46019, "attachment_id": null, "id": 121593, "time": "2008-10-16T05:03:33Z", "creator": "bodewig@apache.org", "creation_time": "2008-10-16T05:03:33Z", "is_private": false, "text": "I think you want to set inheritall to false in your <ant> task."}, {"count": 2, "tags": [], "bug_id": 46019, "is_private": false, "id": 121620, "attachment_id": null, "creator": "stephan.fuhrmann@1und1.de", "creation_time": "2008-10-16T07:25:46Z", "time": "2008-10-16T07:25:46Z", "text": "Thanks, that does it. The manual (http://ant.apache.org/manual/CoreTasks/property.html) says properties are immutable. This means I misused ant.\n\nDo you think a warning output is appropriate? Ant silently ignores the duplicate property...\n"}, {"count": 3, "tags": [], "text": "There is a warning at the -verbose level.\n\nIt is a common pattern to have multiple task try to set the same property, so a stronger warning would be annoying.\n\nFor example people often use a combination of\n\n  <property file=\"${user.home}/custom.properties\"/>\n  <property name=\"foo\" value=\"some default value\"/>\n\nto allow users to override the default value of \"foo\".\n", "is_private": false, "bug_id": 46019, "id": 121630, "time": "2008-10-16T08:38:47Z", "creator": "bodewig@apache.org", "creation_time": "2008-10-16T08:38:47Z", "attachment_id": null}]