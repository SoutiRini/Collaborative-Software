[{"count": 0, "tags": [], "bug_id": 7788, "attachment_id": null, "id": 12904, "time": "2002-04-06T10:01:42Z", "creator": "ctmoore@gottapee.com", "creation_time": "2002-04-06T10:01:42Z", "is_private": false, "text": "I don't know the internals by heart so I'm not sure what needs to happen,\nhowever the code snipet below will always generate a NullPointerException\nbecause the 2 dimension is not specified in the array creation. \n\nBasically an array of nulls is created and then  \"fNodeType[chunk][index] != 0;\"\nis run which will always bomb. If bombing is OK, one should check for null first\nand handle it appropriately.\n\n\n\n// create buffers\n        if (fNodeType == null) {\n            fNodeType       = new int[INITIAL_CHUNK_COUNT][];\n            fNodeName       = new int[INITIAL_CHUNK_COUNT][];\n            fNodeValue      = new int[INITIAL_CHUNK_COUNT][];\n            fNodeParent     = new int[INITIAL_CHUNK_COUNT][];\n            fNodeLastChild  = new int[INITIAL_CHUNK_COUNT][];\n            fNodePrevSib    = new int[INITIAL_CHUNK_COUNT][];\n            fNodeURI        = new int[INITIAL_CHUNK_COUNT][];\n        }\n\n        // return true if table is already big enough\n        try {\n            return fNodeType[chunk][index] != 0;\n        }"}, {"count": 1, "tags": [], "text": "This is a common Java programming technique in Xerces.  There is a catch of the \nNullPointerException below the code that you reference.  The second dimension of \nthe arrays are allocated after that point.\n", "is_private": false, "bug_id": 7788, "id": 12915, "time": "2002-04-06T14:10:58Z", "creator": "gmarcy@us.ibm.com", "creation_time": "2002-04-06T14:10:58Z", "attachment_id": null}]