[{"count": 0, "tags": [], "bug_id": 21472, "attachment_id": null, "id": 40359, "time": "2003-07-10T16:09:36Z", "creator": "zorro.desbois@wanadoo.fr", "creation_time": "2003-07-10T16:09:36Z", "is_private": false, "text": "Hello,\n\nI want to use a JDBCRealm with the admin webapp : in the debug of JDBCRealm it \nsays 'JDBCRealm: Auth ok, user=toto' but the window \"Authentication required\" \ndoesn't want to let me enter ... (so I push \"cancel\" and I have the message \"Not \nAuthorized\".\n\nSo this functionnality really works or it is a configuration problem ?\n\nMy apps-admin.xml :\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<webapps>\n  <Context path=\"/admin\"\n    docBase=\"webapps/admin\"\n    reloadable=\"true\"\n    trusted=\"true\" >\n    <JDBCRealm debug=\"99\" driverName=\"org.gjt.mm.mysql.Driver\"\n                       connectionURL=\"jdbc:mysql://localhost/User\"\n                       connectionName=\"adminTomcat\"\n                       connectionPassword=\"adminTomcat\"\n                       userTable=\"user\"\n                       userNameCol=\"user_name\"\n                       userCredCol=\"user_pass\"\n                       userRoleTable=\"user_roles\"\n                       roleNameCol=\"role_name\"\n                       digest=\"No\" />\n  </Context>\n</webapps>\n\nMy mysql User base :\nmysql> select * from user;\n+-----------+-----------+\n| user_name | user_pass |\n+-----------+-----------+\n| toto      | passtoto  |\n| titi      | passtiti  |\n| tutu      | passtutu  |\n+-----------+-----------+\n3 rows in set (0.01 sec)\n\nmysql> select * from role;\n+--------------+\n| role_name    |\n+--------------+\n| role1        |\n| tomcat       |\n| tomcat_admin |\n+--------------+\n3 rows in set (0.00 sec)\n\nmysql> select * from user_roles;\n+--------------+-----------+\n| user_name    | role_name |\n+--------------+-----------+\n| role1        | tutu      |\n| tomcat       | tutu      |\n| tomcat_admin | titi      |\n| tomcat_admin | toto      |\n+--------------+-----------+\n4 rows in set (0.00 sec)"}, {"count": 1, "tags": [], "bug_id": 21472, "attachment_id": null, "id": 40417, "time": "2003-07-11T04:36:16Z", "creator": "william.barker@wilshire.com", "creation_time": "2003-07-11T04:36:16Z", "is_private": false, "text": "From what you have posted, you have the user_name and role_name columns swapped."}, {"count": 2, "tags": [], "bug_id": 21472, "attachment_id": null, "id": 40425, "time": "2003-07-11T07:40:15Z", "creator": "zorro.desbois@wanadoo.fr", "creation_time": "2003-07-11T07:40:15Z", "is_private": false, "text": "thank you and sorry :-("}]