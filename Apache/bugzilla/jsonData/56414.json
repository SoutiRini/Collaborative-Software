[{"attachment_id": null, "tags": [], "bug_id": 56414, "text": "Hello,\n\nI use Apache 2.2.22 on my Debian Wheezy (7 / stable) box.\n\nHere is the message I have in error.log, from a user using a subversion client :\n\nHostname www.domain.com provided via SNI and hostname my-user@www.domain.com provided via HTTP are different\n\nHere is a quick fix I wrote, but perhaps something more official / clean could be written.\n\nIn modules/ssl/ssl_engine_kernel.c,\nI added these 7 first lines,\nand I modified the 8th one :\n\nchar *hostcut = malloc(strlen(host) + 1);\nstrcpy(hostcut,host);\nif (strstr (hostcut,\"@\"))\n{\n    hostcut=strstr (hostcut,\"@\");\n    hostcut=&hostcut[1];\n}\nif (strcasecmp(hostcut, servername)) {\n    ap_log_error(APLOG_MARK, APLOG_ERR, 0, r->server,\n        \"Hostname %s provided via SNI and hostname %s provided\"\n        \" via HTTP are different\", servername, hostcut);\n        return HTTP_BAD_REQUEST;\n}\n\nThank you very much,\n\nBest regards,\n\nBen", "count": 0, "id": 174604, "time": "2014-04-15T21:16:36Z", "creator": "ben.rubson@gmail.com", "creation_time": "2014-04-15T21:16:36Z", "is_private": false}, {"count": 1, "tags": [], "creator": "covener@gmail.com", "text": "The mismatch sounds like a client bug, has someone looked at it from the client side?", "id": 174605, "time": "2014-04-15T21:27:18Z", "bug_id": 56414, "creation_time": "2014-04-15T21:27:18Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 56414, "text": "I did not look at client side no.\nClient is Versions v1.3.0 :\nhttp://www.versionsapp.com\n\nThis client has username and password fields.\nHowever, it adds a my-user@ string in the location field before the domain.\n\nI though that it was something authorized to use something like my-user@www.domain.com, this is why I wrote this little patch.\n\nBen", "id": 174606, "time": "2014-04-15T21:41:32Z", "creator": "ben.rubson@gmail.com", "creation_time": "2014-04-15T21:41:32Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "ben.rubson@gmail.com", "is_private": false, "text": "So this is a client bug, which produces especially when upgrading a repository in Versions itself, to Subversion Library 1.8.5 for example.\nThen any checkout will fail.\n\nVersions support says they will have a look.", "id": 183202, "time": "2015-05-31T07:33:07Z", "bug_id": 56414, "creation_time": "2015-05-31T07:33:07Z", "attachment_id": null}]