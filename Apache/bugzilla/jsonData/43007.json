[{"count": 0, "tags": [], "bug_id": 43007, "is_private": false, "text": "We have a test that consists of several threadgroups. The first testgroup \ncontains an \"if-controller\", that can disable all requests in that testgroup. \nin some cases, the test ends and all other testgroups are not started.", "id": 106134, "time": "2007-08-01T01:49:26Z", "creator": "christoph.schragen@gmx.at", "creation_time": "2007-08-01T01:49:26Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 43007, "text": "Created attachment 20579\nTest this bug with this testplan\n\nyou can test this bug with this testplan.\nall threadgroups are disabled by if-controller except the last one, that should\nmake a request to google. as you can see, in most cases this request is not\nexecuted.", "id": 106135, "attachment_id": 20579, "creator": "christoph.schragen@gmx.at", "creation_time": "2007-08-01T01:51:57Z", "time": "2007-08-01T01:51:57Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 43007, "attachment_id": null, "is_private": false, "id": 106610, "time": "2007-08-10T11:45:54Z", "creator": "sebb@apache.org", "creation_time": "2007-08-10T11:45:54Z", "text": "Works fine for me.\n\nPlease attach the jmeter log file for a failing run."}, {"count": 3, "tags": [], "creator": "christoph.schragen@gmx.at", "attachment_id": 20641, "text": "Created attachment 20641\njmeter log file for failed run\n\nthis logfile was generated for a run where request in testgroup \"test15\" was\nnot executed.\nthis problem does not show up for every run, i have tested this script on 3\ndifferent windows-machines and in 3 of 10 times \"test15\" is not sampled.", "id": 106624, "time": "2007-08-10T17:20:44Z", "bug_id": 43007, "creation_time": "2007-08-10T17:20:44Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 43007, "text": "The jmeter log is missing some information.\n\nOne difference from my tests is that the log contains messages like:\n\nINFO  - jmeter.engine.StandardJMeterEngine: Ending thread 0\n\nwhich I don't understand.\n\nHowever the thread groups \"Test15\" does start and stop, so I suggest you add a \ndummy sampler to the thread group before and after the If Controller.\n\nAlso, it's very confusing to have multiple thread groups all called \"Test14\" - \nplease remove/rename those.\n\nHow are you running the test? GUI? non-GUI? Remote?", "id": 106628, "attachment_id": null, "creator": "sebb@apache.org", "creation_time": "2007-08-10T22:59:09Z", "time": "2007-08-10T22:59:09Z", "is_private": false}, {"count": 5, "tags": [], "creator": "christoph.schragen@gmx.at", "is_private": false, "id": 106631, "attachment_id": 20642, "bug_id": 43007, "creation_time": "2007-08-11T02:52:01Z", "time": "2007-08-11T02:52:01Z", "text": "Created attachment 20642\nnew testplan for testing this bug\n\n- renamed all threadgroups\n- all threadgroups disabled by if-controller except last one (test25)\n- removed if-controller from last threadgroup"}, {"count": 6, "tags": [], "creator": "christoph.schragen@gmx.at", "attachment_id": 20643, "text": "Created attachment 20643\nnew jmeter.log file\n\nlog file shows 2 runs, first run was not ok (threadgroup \"test25\" not\nprocessed), second run was ok.\n\ni'm running the test in GUI mode, but this problem does also occur in\nnon-GUI-mode.", "id": 106632, "time": "2007-08-11T02:55:24Z", "bug_id": 43007, "creation_time": "2007-08-11T02:55:24Z", "is_private": false}, {"count": 7, "tags": [], "creator": "sebb@apache.org", "text": "Thanks for the updated test plan and log file.\n\nHowever the logs are incomplete - I need the whole of each log file please.", "id": 106633, "attachment_id": null, "bug_id": 43007, "creation_time": "2007-08-11T03:04:30Z", "time": "2007-08-11T03:04:30Z", "is_private": false}, {"count": 8, "tags": [], "creator": "christoph.schragen@gmx.at", "attachment_id": 20644, "text": "Created attachment 20644\nlogfile showing successful run", "id": 106635, "time": "2007-08-11T03:28:36Z", "bug_id": 43007, "creation_time": "2007-08-11T03:28:36Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 43007, "is_private": false, "id": 106636, "attachment_id": 20645, "creator": "christoph.schragen@gmx.at", "creation_time": "2007-08-11T03:32:58Z", "time": "2007-08-11T03:32:58Z", "text": "Created attachment 20645\nlogfile showing failed run\n\ni openend the testplan more than 10 times and the problem did not show up. \nin this logfile, the first run is OK, only in the second run the request in\ntestgroup \"test25\" was not sampled.\n\nthe problem is mostly occuring if a test is started more than 1 times. on my\nPC, in most times the first run (after starting jmeter) is OK, and in the next\n10 runs about 7 runs are failing."}, {"count": 10, "tags": [], "bug_id": 43007, "is_private": false, "text": "Changed the version to 2.2, as that is what the log files show.\n\nThis at least explains the messages:\n\nINFO  - jmeter.engine.StandardJMeterEngine: Ending thread 0\n\nwhich were fixed in 2.3RC3.", "id": 106638, "time": "2007-08-11T04:54:36Z", "creator": "sebb@apache.org", "creation_time": "2007-08-11T04:54:36Z", "attachment_id": null}, {"count": 11, "tags": [], "creator": "sebb@apache.org", "text": "Finally found the problem: when a thread group stops, the code checks to see \nif there were any other groups left.\n\nSometimes it would happen that all the earlier thread groups would complete \nbefore the next group was even created, so the count would be zero.\n\nThis is only likely to happen if the thread groups complete very quickly - as \nis the case here.\n\nFixed in SVN r564931.", "id": 106641, "attachment_id": null, "bug_id": 43007, "creation_time": "2007-08-11T08:56:33Z", "time": "2007-08-11T08:56:33Z", "is_private": false}, {"count": 12, "tags": [], "bug_id": 43007, "attachment_id": null, "text": "thanks a lot for the bugfix!\ni've tested this testplan also with R2.3, the problem is also occurring here \n(should be fixed here too).\n\ncheers,\n  christoph", "id": 106645, "time": "2007-08-11T10:42:00Z", "creator": "christoph.schragen@gmx.at", "creation_time": "2007-08-11T10:42:00Z", "is_private": false}, {"count": 13, "tags": [], "bug_id": 43007, "text": "The fix will be in the next release, probably 2.3 GA.\n\nIn the meantime, any nightly build after r564931 will have the fix if you want \nto try and break that ;-)\n\nI forgot to say this earlier, so thanks for reporting the issue, and for \nproviding the test cases/logs.", "id": 106646, "time": "2007-08-11T11:06:36Z", "creator": "sebb@apache.org", "creation_time": "2007-08-11T11:06:36Z", "is_private": false, "attachment_id": null}]