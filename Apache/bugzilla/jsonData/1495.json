[{"count": 0, "tags": [], "creator": "mayank.shah@gs.com", "attachment_id": null, "is_private": false, "id": 2084, "time": "2001-04-25T05:32:00Z", "bug_id": 1495, "creation_time": "2001-04-25T05:32:00Z", "text": "I am using Jboss as my ejb server and tomcat 4 M5.  Both are running on the \nsame machine, but different processes (2 jvms).  I have tested the ejb on it's \nown from the command line and works fine for the error I am getting in a \nservlet and jsp.  Here is what i have:\n   EJB1 returns primaryKeyEJB2\n   on EJB2 I execute a method which returns a string.  \n\nEJB1 works fine, but when I execute a method on EJB2 I get the following \nexception.  In my jar file I have all the required classes, I tried copying the \njndi in various lib folders, but no go.  I even tried a copy of jndi that i \ndownloaded from sun, but still no go.   Can someone look into this and help \nsuggest some possible sollutions.  Thanks,\n\n\n\n------------------------------------\njava.lang.reflect.UndeclaredThrowableException\njava.lang.reflect.UndeclaredThrowableException:\njava.net.MalformedURLException:\njava.lang.NullPointerException: invalid url: jndi:/WEB-\nINF/lib/myservlet_with_ejb_client_classes.jar!/\n(java.\nnet.MalformedURLException: unknown protocol: jndi)\n        at\nsun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(Stream\nRemoteCall.java:245)\n        at\nsun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:\n220)\n        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:122)\n        at\norg.jboss.ejb.plugins.jrmp.server.JRMPContainerInvoker_Stub.invoke(Un\nknown Source)\n        at\norg.jboss.ejb.plugins.jrmp.interfaces.EntityProxy.invoke(EntityProxy.\njava:182)\n        at $Proxy4.getArtist(Unknown Source)\n        at\ncom.mydomain.servlets.av.AlbumDetailView.processRequest(AlbumDetailView.j\nava:150)\n        at\ncom.mydomain.servlets.util.RequestManagerServlet.processRequest(RequestMa\nnagerServlet.java:458)\n        at\ncom.mydomain.servlets.util.RequestManagerServlet.doGet(RequestManagerServ\nlet.java:186)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl\nicationFilterChain.java:246)\n        at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF\nilterChain.java:191)\n        at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV\nalve.java:255)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline\n..java:566)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:472)\n        at\norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:879)\n\n        at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextV\nalve.java:225)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline\n..java:566)\n        at\norg.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve\n..java:246)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline\n..java:564)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:472)\n        at\norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:879)\n\n        at\norg.apache.catalina.core.StandardContext.invoke(StandardContext.java:\n2175)\n        at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j\nava:164)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline\n..java:566)\n        at\norg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:\n446)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline\n..java:564)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:472)\n        at\norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:879)\n\n        at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal\nve.java:162)\n        at\norg.apache.catalina.core.StandardPipeline.invokeNext(StandardPipeline\n..java:566)\n        at\norg.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.jav\na:472)\n        at\norg.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:879)\n\n        at\norg.apache.catalina.connector.http.HttpProcessor.process(HttpProcesso\nr.java:827)\n        at\norg.apache.catalina.connector.http.HttpProcessor.run(HttpProcessor.ja\nva:904)\n        at java.lang.Thread.run(Thread.java:484)"}, {"count": 1, "tags": [], "bug_id": 1495, "text": "I'm confused about the version of TC 4 you're using. Is it M5 or b3 ?\n\nIf you're using TC 4.0 beta 3, then it's an integration issue between Catalina \nand jBoss. The problem should be caused by jBoss hacking the classloader a bit \ntoo much.\n\nIf you're using M5 (as you mention in the bug description), you should update \nto b3. A very similar \"bug\" was fixed to allow integration in the J2EE RI.", "id": 2101, "time": "2001-04-25T14:28:29Z", "creator": "remm@apache.org", "creation_time": "2001-04-25T14:28:29Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 1495, "is_private": false, "text": "sorry for the confusion, but it is Beta 3 that I am using (waiting for B4) and \nI am seeing the problem on the Beta 3 version.  I do belive that it's an \ninteration issue between the two products.  by posting this message here and on \nthe jboss list, I am hoping that the two development teams can determine the \ncause and fix it.", "id": 2431, "time": "2001-05-14T07:58:05Z", "creator": "mayank.shah@gs.com", "creation_time": "2001-05-14T07:58:05Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 1495, "is_private": false, "text": "I tested the application with Tomcat B1 and it works fine, but it breaks with \nBeta 2, Beta 3 and Beta 5.  So, something changed between Beta 1 and Beta 2 to \nresult in this bug.", "id": 2516, "time": "2001-05-17T14:02:08Z", "creator": "mayank.shah@gs.com", "creation_time": "2001-05-17T14:02:08Z", "attachment_id": null}, {"count": 4, "text": "The new Webapp classloader should fix this problem, since it does not rely on\ndynamic binding.", "bug_id": 1495, "is_private": false, "id": 3056, "time": "2001-06-18T20:11:18Z", "creator": "remm@apache.org", "creation_time": "2001-06-18T20:11:18Z", "tags": [], "attachment_id": null}]