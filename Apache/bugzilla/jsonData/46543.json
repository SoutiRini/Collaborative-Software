[{"count": 0, "attachment_id": null, "bug_id": 46543, "is_private": false, "id": 124108, "time": "2009-01-15T16:37:50Z", "creator": "ggregory@seagullsw.com", "creation_time": "2009-01-15T16:37:50Z", "tags": [], "text": "Our product builds on 1.4.1 but on 1.4.2 Ant tells us:\n\nBUILD FAILED\nC:\\cvs-store\\transidiom\\HEAD\\Java\\Build\\build.xml:2196: The following error occurred while executing this line:\nC:\\cvs-store\\transidiom\\HEAD\\Java\\Build\\build.xml:2218: java.lang.VerifyError: Cannot inherit from final class\n\nThe only thing that changes between the two Ant runs is which version of XMLSec I point to.\n\nThis page:\n\nhttp://www.cs.indiana.edu/dde/projects/mylead/mylead03alpha/guide/installation_guide.pdf\n\nsuggests:\n\n\"Note: if you are using the latest XML security jar file instead of the xmlsec.jar provided\nwith the package, you may encounter an exception that looks like the following\n\u2022 java.lang.VerifyError: Cannot inherit from final class\nif that\u2019s the case, please download the source code of the latest XML Security library\nfrom http://xml.apache.org/security/download.html, unzip the packages, and remove the\nkeyword \u201cfinal\u201d from the line \u201cpublic final class\u201d in the following java file:\nsrc/org/apache/xml/security/signature/XMLSignature.java\nAfter the modification, please recompile the package and place the modified xml security\njar to the proper location [snip]\""}, {"count": 1, "tags": [], "bug_id": 46543, "attachment_id": null, "text": "Unfortunately, the change to make XMLSignature a final class does break any existing subclasses. But this is the first case I have heard of an issue. So a question for you is why do you need to subclass it?", "id": 124238, "time": "2009-01-21T07:41:26Z", "creator": "sean.mullan@oracle.com", "creation_time": "2009-01-21T07:41:26Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 46543, "is_private": false, "id": 124254, "time": "2009-01-21T16:50:07Z", "creator": "ggregory@seagullsw.com", "creation_time": "2009-01-21T16:50:07Z", "tags": [], "text": "I am using Sun Java 1.6.0_11 on Windows XP x86-32 bit Service Pack 3 + all current patches.\n\nIt turns out that the class was already final in 1.4.1. \n\nFurther debugging revealed that putting the xml-sec 1.4.2 jar file on the Java endorsed path resolved the issue. \n\nSpecifically the problem was that the class org.jcp.xml.dsig.internal.dom.DOMHMACSignatureMethod contains inner classes in 1.4.2 which are not in the version shipped in the Sun Java 1.6.0_11 rt.jar.\n\n"}, {"count": 3, "tags": [], "bug_id": 46543, "attachment_id": null, "text": "Ok, since you have a workaround I will close this.", "id": 124320, "time": "2009-01-23T07:09:03Z", "creator": "sean.mullan@oracle.com", "creation_time": "2009-01-23T07:09:03Z", "is_private": false}]