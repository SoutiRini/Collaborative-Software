[{"count": 0, "tags": [], "bug_id": 47133, "text": "Created attachment 23568\nWeb Application\n\nWhen using Tomcat 6 with Advanced IO the CPU usage will go to 100% under the following sequence of events:\n\n1) Start Tomcat\n2) \"Reload\" AIO-Enabled Web Application from Tomcat Web Application Manager page\n3) Open Web Application\n4) Terminate Web Application in middle of a request (i.e. Close Browser or issue an XMLHttpRequest.abort()).\n\nOnce this is done the CPU will jump dramatically.\n\nI have attached a NetBeans project that shows this phenomenon.  When viewing the index.jsp file, just click the \"End\" button.\n\nIt should be noted that CPU usage remains normal if the web application is first undeployed then deployed again.  CPU usage will only spike if the web application is explicitly reloaded.\n\nThanks,\n\nKen", "id": 126664, "time": "2009-05-01T04:09:31Z", "creator": "kenneth.gendron@gmail.com", "creation_time": "2009-05-01T04:09:31Z", "is_private": false, "attachment_id": 23568}, {"count": 1, "tags": [], "bug_id": 47133, "text": "After further investigation CPU usage will spike if \"Stop\", \"Reload\" or \"Undeploy\" is used from the manager while an active AIO request is being processed by the container and that request gets terminated.  Even if the web application were to be redeployed it will not prevent CPU from spiking.", "id": 126666, "time": "2009-05-01T04:39:37Z", "creator": "kenneth.gendron@gmail.com", "creation_time": "2009-05-01T04:39:37Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 47133, "attachment_id": null, "text": "Tested with 6.0.18, 6.0.x and trunk with native/APR (1.1.16) and NIO with JDK 1.6.0_13_x64 on WinXP 64-bit and I can't reproduce this.", "id": 126729, "time": "2009-05-02T17:36:37Z", "creator": "markt@apache.org", "creation_time": "2009-05-02T17:36:37Z", "is_private": false}]