[{"count": 0, "tags": [], "creator": "dstolz@eclipsenetworks.com", "text": "I want to use the same build.xml to build for either JBoss for Sun's J2EE RI.\nCurrently, I do the following to achieve the effect I want.\n\n    <target name=\"pick-j2ee\">\n        <condition property=\"use.jboss24\">\n              <equals arg1=\"${j2ee.type.env}\" arg2=\"JBOSS24\" />\n        </condition>\n        <condition property=\"use.sunref\">\n              <equals arg1=\"${j2ee.type.env}\" arg2=\"SUNREF\" />\n        </condition>\n    </target>\n\n    <target name=\"construct-classpath\" depends=\"pick-j2ee,use-jboss24,use-sunref\">\n    </target>\n    <target name=\"use-jboss24\" if=\"use.jboss24\" depends=\"build-jboss24\">\n        <available property=\"classpath_id\" value=\"base.path_jboss24\"\nfile=\"${jboss.dist}/client/jboss-j2ee.jar\" />\n        <property name=\"j2ee.dist\" value=\"${jboss.dist}\" />\n    </target>\n\n    <target name=\"use-sunref\" if=\"use.sunref\" depends=\"build-sunref\">\n        <available property=\"classpath_id\" value=\"base.path_sunref\"\nfile=\"${sunref.dist}/lib/j2ee.jar\" />\n        <property name=\"j2ee.dist\" value=\"${sunref.dist}\" />\n    </target>\n\nI would very much like to be able to do the following:\n    <target name=\"construct-classpath\">\n        <condition>\n              <equals arg1=\"${j2ee.type.env}\" arg2=\"JBOSS24\" />\n              <available property=\"classpath_id\" value=\"base.path_jboss24\"\nfile=\"${jboss.dist}/client/jboss-j2ee.jar\" />\n              <property name=\"j2ee.dist\" value=\"${jboss.dist}\" />\n        </condition>\n        <condition property=\"use.sunref\">\n              <equals arg1=\"${j2ee.type.env}\" arg2=\"SUNREF\" />\n              <available property=\"classpath_id\" value=\"base.path_sunref\"\nfile=\"${sunref.dist}/lib/j2ee.jar\" />\n              <property name=\"j2ee.dist\" value=\"${sunref.dist}\" />\n        </condition>\n    </target>\n\nIn a general sense, I'd like the Condition task to do more than set one\nproperty.  It would be nice if you could perform any task just like target. \nAlternatively, target could be controlled by condition instead of just if and\nunless.", "id": 10173, "time": "2002-02-01T16:57:13Z", "bug_id": 6186, "creation_time": "2002-02-01T16:57:13Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 6186, "attachment_id": null, "text": "I am not going to make a decision on how to file this one, there may be value \nin branching and things.\n\nI do not believe that your use case represents a major argument in favour of \nan <if> tag however, as there are easier ways to do it today.\n\n1. have your per-config properties in a property file \n2. use <property file> to load it\n", "id": 10175, "time": "2002-02-01T17:50:25Z", "creator": "steve_l@iseran.com", "creation_time": "2002-02-01T17:50:25Z", "is_private": false}, {"count": 2, "tags": [], "creator": "dstolz@eclipsenetworks.com", "attachment_id": null, "id": 10176, "time": "2002-02-01T18:32:39Z", "bug_id": 6186, "creation_time": "2002-02-01T18:32:39Z", "is_private": false, "text": "I agree that my use case does not represent a major argument in favor of an \n<if> tag.  I just wanted to enter a simple example to illustrate what I meant \nby \"if\".\nI'm going to rework my build scripts based upon your idea of a properties file \n(although I won't actually use a properties file, for reasons that are not \nthat important).  If I still think they are too cumbersome, I will add the \nentire build.xml as an attachment so as to make a better point.\nIf you don't hear from me, \n"}, {"count": 3, "tags": [], "creator": "bodewig@apache.org", "text": "The battle of the if task has been fought a lot of times on ant-dev\n\nIf you don't mind using a custom task instead of a built-in one, you can find an\n<if> task in the ant-contrib project at sourceforge.\n", "id": 10714, "time": "2002-02-14T17:48:24Z", "bug_id": 6186, "creation_time": "2002-02-14T17:48:24Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 6186, "attachment_id": null, "text": "Any objections to marking as WONTFIX?", "id": 11116, "time": "2002-02-25T16:51:41Z", "creator": "jakarta@ehatchersolutions.com", "creation_time": "2002-02-25T16:51:41Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 6186, "attachment_id": null, "text": "I think it would be nice to keep it open.  Apparently from Stefan's comment,\nthis is an issue with others besides me.  I believe this bug is as good as place\nas any to track comments related to this issue.  I'm not saying that you should\nfix it, but if anyone else has comments, I think this bug is the place to make\nthose comments.", "id": 11119, "time": "2002-02-25T17:04:36Z", "creator": "dstolz@eclipsenetworks.com", "creation_time": "2002-02-25T17:04:36Z", "is_private": false}, {"count": 6, "tags": [], "text": "As Stefan said, though, this battle has been fought many times and -1'd.  We \ncan certainly continue to make comments on this one but its not something that \nwill be implemented in Ant 1.5 or probably even any 1.x release in the future.", "attachment_id": null, "bug_id": 6186, "id": 11138, "time": "2002-02-25T20:30:18Z", "creator": "jakarta@ehatchersolutions.com", "creation_time": "2002-02-25T20:30:18Z", "is_private": false}]