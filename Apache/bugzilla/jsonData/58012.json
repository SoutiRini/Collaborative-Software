[{"count": 0, "tags": [], "creator": "youri.andropov@gmail.com", "is_private": false, "text": "Here's a while controller condition, in my thread group: ${__javaScript(\"${step}\" == \"step1\")}\n\nThe variable \"step\" has the following value, prior to entering the while controller : \"step3\"\"    (all quotes inclusive)\n\nThe script still entered the while controller, whereas obviously it shouldn't have.\n\nI'm using jmeter 2.13 on a CentOS server, in command line mode.", "id": 183365, "time": "2015-06-08T16:03:15Z", "bug_id": 58012, "creation_time": "2015-06-08T16:03:15Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 58012, "attachment_id": null, "id": 183370, "time": "2015-06-08T19:48:55Z", "creator": "sebb@apache.org", "creation_time": "2015-06-08T19:48:55Z", "is_private": false, "text": "This is a question for the user list, not Bugzilla.\n\nNote that == is used for comparing numbers, not strings in Javascript.\n\nAlso check the jmeter.log file - when I tried the Javascript expression you gave I got a syntax error due to the mismatched quotes."}, {"count": 2, "tags": [], "creator": "youri.andropov@gmail.com", "attachment_id": null, "text": "An example from jmeter documentation (http://jmeter.apache.org/usermanual/component_reference.html#While_Controller): \n\n${__javaScript(\"${VAR2}\"==\"abcd\")}\n\nSo, are you sure the operator '==' can't be used to compare strings in javascript ?\nBy the way, my script works with no syntax error !", "id": 183375, "time": "2015-06-09T08:19:42Z", "bug_id": 58012, "creation_time": "2015-06-09T08:19:42Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 58012, "text": "No syntax error, I checked all my logs. This expression is syntaxically correct according to jmeter documentation and javascript standards.", "id": 183393, "time": "2015-06-09T15:04:00Z", "creator": "youri.andropov@gmail.com", "creation_time": "2015-06-09T15:04:00Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 58012, "attachment_id": null, "id": 183394, "time": "2015-06-09T15:14:59Z", "creator": "sebb@apache.org", "creation_time": "2015-06-09T15:14:59Z", "is_private": false, "text": "Please read:\n\nhttp://jmeter.apache.org/usermanual/component_reference.html#While_Controller\n\nNote that it says:\n\nThe While Controller runs its children until the condition is \"false\".\n\nIf the javascript evaluates to the empty string or spaces etc then it is not regarded as false.\n\nAdd a Java sampler to show the actual value of the expression."}, {"count": 5, "tags": [], "bug_id": 58012, "attachment_id": null, "id": 183436, "time": "2015-06-10T16:01:10Z", "creator": "youri.andropov@gmail.com", "creation_time": "2015-06-10T16:01:10Z", "is_private": false, "text": "This expression ${__javaScript(\"${step}\" == \"step1\")} cannot resolve to \"empty string or spaces etc\". One part of the expression is a constant, the other one evaluates to \"step3\"\" (because of a bad regexp) when it enters the while controller (I already have some logs...).\n\nI will stop endlessly repeating the same things, every detail is already in my first post, but it is still closed with irrelevant, unrelated arguments."}, {"count": 6, "tags": [], "bug_id": 58012, "text": "Are you sure that the expression evalutes to \"false\"?\n\nIn my test I found it returned an empty string.\n\nThat is why I wrote about using a Java Sampler to display the value.", "id": 183447, "time": "2015-06-10T22:01:48Z", "creator": "sebb@apache.org", "creation_time": "2015-06-10T22:01:48Z", "is_private": false, "attachment_id": null}]