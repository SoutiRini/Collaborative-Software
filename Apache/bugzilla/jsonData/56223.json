[{"count": 0, "attachment_id": 31369, "creator": "sotodel_89@hotmail.com", "text": "Created attachment 31369\n.war with single Servlet\n\nThe Java EE javadoc for ServletContext#setInitParameter(String, String), here: http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#setInitParameter(java.lang.String, java.lang.String), states that the method should throw an IllegalStateException if the ServletContext has already been initialized.\n\nOnce a Servlet is ready to handle requests, the ServletContext must have been initialized. However, no exception is thrown if you try to invoke the method in an HttpServlet's doGet(..).\n\nSteps to reproduce:\n\n1) Add an HttpServlet that invokes the method in its doGet(..) method\n\n@WebServlet(urlPatterns = \"/init\")\npublic class InitParameterServlet extends HttpServlet {\n\tprivate static final long serialVersionUID = 1L;\n\n\tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\n\t\t\tthrows ServletException, IOException {\n\n\t\tServletContext context = getServletContext();\n\t\tcontext.setInitParameter(\"init-param\", \"value\");\n\n\t}\n}\n\n2) Send an HTTP GET request to (the appropriate) 'http://localhost:8080/context/init`.\n\nActual results: No exception is thrown. Server sends back 200 OK.\n\nExpected results: An exception should have been thrown. Server should have sent back 500 status code.\n\nTomcat 8.0.3 (and 7.0.42) and Windows 7\n\nAdditional information: You can also try calling, for example, the addFilter(..) method which will fail stating that the ServletContext is already initialized.", "id": 173651, "time": "2014-03-06T02:15:48Z", "bug_id": 56223, "creation_time": "2014-03-06T02:15:48Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 56223, "text": "Thanks for the report.\n\nThis has been fixed in 7.0.x for 7.0.53 onwards and in 8.0.x for 8.0.4 onwards.", "id": 173670, "time": "2014-03-06T16:21:38Z", "creator": "markt@apache.org", "creation_time": "2014-03-06T16:21:38Z", "is_private": false, "attachment_id": null}]