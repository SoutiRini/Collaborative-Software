[{"count": 0, "tags": [], "bug_id": 28873, "text": "NetBeans 3.5, J2SDK1.4.2_04\nDeveloped a J2EE application.\n\nCase 1:\nFor jsp pages compiled in IDE with JDK jsp compiler, the corresponding java \nfiles contain new lines as below.\n\n                out.write(\"\\r\\n\");\n                out.write(\"\\r\\n\");\n                out.write(\"\\r\\n\");\n                out.write(\"\");\n\nCase 2:\nAt runtime, delete .java and .class, Tomcat Jasper jsp engine compiled jsp \nfiles containing new lines as below.\n                out.write(\"\\n\\n\\n\");\n\nCase 2 generated code will run well on Tomcat. However, case 1 generated code \nfailed to run with the following errors. Can anyone explain this? Any conflicts \nfor Tomcat jasper engine's failure to run JDK compiled jsp files?\n\nApache Tomcat/4.0.6 - HTTP Status 500 - Internal Server Error\n\n--------------------------------------------------------------------------------\n\ntype Exception report\n\nmessage Internal Server Error\n\ndescription The server encountered an internal error (Internal Server Error) \nthat prevented it from fulfilling this request.\n\nexception \n\njava.lang.NullPointerException\n\tat org.apache.jasper.servlet.JasperLoader.loadClass\n(JasperLoader.java:180)\n\tat org.apache.jasper.servlet.JasperLoader.loadClass\n(JasperLoader.java:132)\n\tat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:315)\n\tat org.apache.jsp.CustomerMaintChange$jsp._jspService\n(CustomerMaintChange$jsp.java:852)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:107)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat \norg.netbeans.modules.tomcat.tomcat40.runtime.IDEJspServlet$JspServletWrapper.ser\nvice(IDEJspServlet.java:173)\n\tat \norg.netbeans.modules.tomcat.tomcat40.runtime.IDEJspServlet.serviceJspFile\n(IDEJspServlet.java:246)\n\tat org.netbeans.modules.tomcat.tomcat40.runtime.IDEJspServlet.service\n(IDEJspServlet.java:339)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke\n(ApplicationDispatcher.java:683)\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward\n(ApplicationDispatcher.java:431)\n\tat org.apache.catalina.core.ApplicationDispatcher.access$000\n(ApplicationDispatcher.java:115)\n\tat org.apache.catalina.core.ApplicationDispatcher$PrivilegedForward.run\n(ApplicationDispatcher.java:130)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.apache.catalina.core.ApplicationDispatcher.forward\n(ApplicationDispatcher.java:347)\n\tat org.apache.struts.action.RequestProcessor.doForward\n(RequestProcessor.java:1069)\n\tat org.apache.struts.action.RequestProcessor.processForwardConfig\n(RequestProcessor.java:455)\n\tat org.apache.struts.action.RequestProcessor.process\n(RequestProcessor.java:279)\n\tat org.apache.struts.action.ActionServlet.process\n(ActionServlet.java:1482)\n\tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:507)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke\n(ApplicationDispatcher.java:683)\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward\n(ApplicationDispatcher.java:431)\n\tat org.apache.catalina.core.ApplicationDispatcher.access$000\n(ApplicationDispatcher.java:115)\n\tat org.apache.catalina.core.ApplicationDispatcher$PrivilegedForward.run\n(ApplicationDispatcher.java:130)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.apache.catalina.core.ApplicationDispatcher.forward\n(ApplicationDispatcher.java:347)\n\tat org.apache.struts.action.RequestProcessor.doForward\n(RequestProcessor.java:1069)\n\tat org.apache.struts.action.RequestProcessor.processForwardConfig\n(RequestProcessor.java:455)\n\tat org.apache.struts.action.RequestProcessor.process\n(RequestProcessor.java:279)\n\tat org.apache.struts.action.ActionServlet.process\n(ActionServlet.java:1482)\n\tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:507)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke\n(ApplicationDispatcher.java:683)\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward\n(ApplicationDispatcher.java:431)\n\tat org.apache.catalina.core.ApplicationDispatcher.access$000\n(ApplicationDispatcher.java:115)\n\tat org.apache.catalina.core.ApplicationDispatcher$PrivilegedForward.run\n(ApplicationDispatcher.java:130)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.apache.catalina.core.ApplicationDispatcher.forward\n(ApplicationDispatcher.java:347)\n\tat org.apache.struts.action.RequestProcessor.doForward\n(RequestProcessor.java:1069)\n\tat org.apache.struts.action.RequestProcessor.processForwardConfig\n(RequestProcessor.java:455)\n\tat org.apache.struts.action.RequestProcessor.process\n(RequestProcessor.java:279)\n\tat org.apache.struts.action.ActionServlet.process\n(ActionServlet.java:1482)\n\tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:507)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.access$000\n(ApplicationFilterChain.java:98)\n\tat org.apache.catalina.core.ApplicationFilterChain$1.run\n(ApplicationFilterChain.java:176)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:172)\n\tat crm.application.web.filters.SetCharacterEncodingFilter.doFilter\n(SetCharacterEncodingFilter.java:157)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:213)\n\tat org.apache.catalina.core.ApplicationFilterChain.access$000\n(ApplicationFilterChain.java:98)\n\tat org.apache.catalina.core.ApplicationFilterChain$1.run\n(ApplicationFilterChain.java:176)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:172)\n\tat org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter\n(MonitorFilter.java:226)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:213)\n\tat org.apache.catalina.core.ApplicationFilterChain.access$000\n(ApplicationFilterChain.java:98)\n\tat org.apache.catalina.core.ApplicationFilterChain$1.run\n(ApplicationFilterChain.java:176)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:172)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:243)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:190)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.CertificatesValve.invoke\n(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.netbeans.modules.web.monitor.catalina.MonitorValve.invoke\n(MonitorValve.java:148)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardContext.invoke\n(StandardContext.java:2347)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:180)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(ErrorDispatcherValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:170)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.valves.AccessLogValve.invoke\n(AccessLogValve.java:468)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:564)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:174)\n\tat org.apache.catalina.core.StandardPipeline.invokeNext\n(StandardPipeline.java:566)\n\tat org.apache.catalina.core.StandardPipeline.invoke\n(StandardPipeline.java:472)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)\n\tat org.apache.catalina.connector.http.HttpProcessor.process\n(HttpProcessor.java:1027)\n\tat org.apache.catalina.connector.http.HttpProcessor.run\n(HttpProcessor.java:1125)\n\tat java.lang.Thread.run(Thread.java:536)\n\n\n\n--------------------------------------------------------------------------------", "id": 57094, "time": "2004-05-10T14:36:22Z", "creator": "yi.tao@compuware.com", "creation_time": "2004-05-10T14:36:22Z", "is_private": false, "attachment_id": null}, {"count": 1, "text": "Looking at where the error occurs, my best guess is that the netbeans \ngenerated servlet is not in a package. Without the full source it is \nimpossible to tell.\n\nTo quote from the JSP spec:\n<spec-quote>\nJSP.8.2 JSP Page Implementation Class\nThe JSP container creates a JSP page implementation class for each JSP page.\nThe name of the JSP page implementation class is implementation dependent.\nThe JSP Page implementation object belongs to an implementation-dependent\nnamed package. The package used may vary between one JSP and another, so\nminimal assumptions should be made. The unnamed package should not be used\nwithout an explicit \u201cimport\u201d of the class.\n...\n</spec-quote>\n", "bug_id": 28873, "is_private": false, "id": 57134, "time": "2004-05-10T20:15:31Z", "creator": "markt@apache.org", "creation_time": "2004-05-10T20:15:31Z", "tags": [], "attachment_id": null}]