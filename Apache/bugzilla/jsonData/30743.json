[{"attachment_id": null, "tags": [], "bug_id": 30743, "is_private": false, "count": 0, "id": 62158, "time": "2004-08-19T02:18:45Z", "creator": "sjdavies@acm.org", "creation_time": "2004-08-19T02:18:45Z", "text": "To implement a custom login attempt counter I extended the DataSourceRealm \nclass in 5.0.19 & 5.0.25. Several extra attributes were added to the standard \n<Realm> element in the applications context.xml eg.\n\n  <Realm \n    className=\"mypkg.MyDataSourceRealm\" \n    dataSourceName=\"jdbc/ebira\" \n    debug=\"99\" \n    localDataSource=\"true\" \n    maxLoginAttempts=\"3\" \n    roleNameCol=\"role\" \n    userCredCol=\"pwd\" \n    userInvalidCountCol=\"invalidCount\" \n    userNameCol=\"userid\" \n    userRoleTable=\"userRole\" \n    userTable=\"person\"/>\n\nMy custom realm class subclassed DataSourceRealm & had fields to store the \nadditional attributes. This worked fine in 5.0.19 & 5.0.25.\n\nFor some reason a change has been made in 5.0.27 that prevents the setter \nmethods for the additional attributes from being invoked. eg. setUserTable is \nstill invoked but setMaxLoginAttempts is not."}, {"count": 1, "tags": [], "bug_id": 30743, "attachment_id": null, "text": "PEBCAK", "id": 62161, "time": "2004-08-19T02:50:18Z", "creator": "sjdavies@acm.org", "creation_time": "2004-08-19T02:50:18Z", "is_private": false}]