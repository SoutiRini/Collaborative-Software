[{"count": 0, "tags": [], "bug_id": 39571, "attachment_id": null, "is_private": false, "id": 89074, "time": "2006-05-12T14:45:59Z", "creator": "max@berger.name", "creation_time": "2006-05-12T14:45:59Z", "text": "When trying to format the attached .fo file, I get the following exception:\n\njava.lang.NullPointerException\n        at org.apache.fop.layoutmgr.inline.InlineStackingLayoutManager.addALetterSpaceTo\n(InlineStackingLayoutManager.java:295)\n        at org.apache.fop.layoutmgr.InlineKnuthSequence.addALetterSpace(InlineKnuthSequence.java:140)\n        at org.apache.fop.layoutmgr.inline.LineLayoutManager.collectInlineKnuthElements\n(LineLayoutManager.java:679)\n        at org.apache.fop.layoutmgr.inline.LineLayoutManager.getNextKnuthElements\n(LineLayoutManager.java:582)\n        at org.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements\n(BlockStackingLayoutManager.java:275)\n        at org.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements\n(BlockLayoutManager.java:105)\n        at org.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements\n(BlockStackingLayoutManager.java:275)\n        at org.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements\n(BlockLayoutManager.java:105)\n        at org.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements\n(BlockStackingLayoutManager.java:275)\n        at org.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements\n(BlockLayoutManager.java:105)\n        at org.apache.fop.layoutmgr.FlowLayoutManager.getNextKnuthElements(FlowLayoutManager.java:\n98)\n        at org.apache.fop.layoutmgr.PageSequenceLayoutManager$PageBreaker.getNextKnuthElements\n(PageSequenceLayoutManager.java:240)\n        at org.apache.fop.layoutmgr.AbstractBreaker.getNextBlockList(AbstractBreaker.java:510)\n        at org.apache.fop.layoutmgr.PageSequenceLayoutManager$PageBreaker.getNextBlockList\n(PageSequenceLayoutManager.java:232)\n        at org.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:259)\n        at org.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:227)\n        at org.apache.fop.layoutmgr.PageSequenceLayoutManager.activateLayout\n(PageSequenceLayoutManager.java:153)\n        at org.apache.fop.area.AreaTreeHandler.endPageSequence(AreaTreeHandler.java:381)\n        at org.apache.fop.fo.pagination.PageSequence.endOfNode(PageSequence.java:147)\n        at org.apache.fop.fo.FOTreeBuilder$MainFOHandler.endElement(FOTreeBuilder.java:358)\n        at org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:193)\n        at org.apache.xalan.transformer.TransformerIdentityImpl.endElement\n(TransformerIdentityImpl.java:1101)\n        at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n        at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl\n$FragmentContentDispatcher.dispatch(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:\n484)\n        at org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:164)\n        at org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:114)\n        at org.apache.fop.cli.Main.startFOP(Main.java:159)\n        at org.apache.fop.cli.Main.main(Main.java:190)"}, {"count": 1, "tags": [], "bug_id": 39571, "is_private": false, "text": "Created attachment 18264\nsample fo file\n\nforgot to mention my fop version: svn checkout from today (5/12)", "id": 89075, "time": "2006-05-12T14:47:38Z", "creator": "max@berger.name", "creation_time": "2006-05-12T14:47:38Z", "attachment_id": 18264}, {"count": 2, "tags": [], "text": "Created attachment 18265\nPatch file for the bug presented\n\nI've written a small fix that fixes the symptoms. This is probably a very bad\nidea, someone that actually knows why this error is occuring should fix this.\n\nHowever, the attached patch \"works for me\"", "attachment_id": 18265, "bug_id": 39571, "id": 89076, "time": "2006-05-12T14:49:06Z", "creator": "max@berger.name", "creation_time": "2006-05-12T14:49:06Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 39571, "attachment_id": 18308, "id": 89225, "time": "2006-05-17T20:05:35Z", "creator": "spepping@apache.org", "creation_time": "2006-05-17T20:05:35Z", "is_private": false, "text": "Created attachment 18308\nA minimal fo file for the problem\n\nThe NPE is caused by FOP's efforts to add a letter space to a box for padding.\nIt is triggered by the combination of NBSPACE, padding and an immediately\nfollowing inline level fo element.\n\nI am still studying the best way to prevent this bug. Checking whether the box\nis an InlineBox, like you do in your patch, is a good option."}, {"count": 4, "tags": [], "text": "Patch applied, with a few modifications, in revision 407819. Thanks.\n\nThis patch is certainly not a definitive solution, rather it is an emergeny\npatch. The problem is part of the range of problems with inline handling,\nsignalled earlier this year by Manuel Mall.\n\n", "is_private": false, "id": 89300, "creator": "spepping@apache.org", "time": "2006-05-19T15:15:14Z", "bug_id": 39571, "creation_time": "2006-05-19T15:15:14Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 39571, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 155862, "time": "2012-04-01T06:45:18Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T06:45:18Z", "is_private": false, "attachment_id": null}]