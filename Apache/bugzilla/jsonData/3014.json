[{"count": 0, "tags": [], "bug_id": 3014, "is_private": false, "id": 4318, "attachment_id": null, "creator": "tim@adjective.org", "creation_time": "2001-08-07T00:01:23Z", "time": "2001-08-07T00:01:23Z", "text": "Bootstrap.sh modifies the classpath to include the tools.jar.\nWhen using cywgin on NT, it uses a \":\" to separate the classpath, but when \nJAVA_HOME is set in Window style (C:\\java) then it all gets confused.\n\nThe build continues, but tool.jar isn't in the classpath, and javac can't find \nthe modern compiler.\n\nAttachment to come.\nTested on \n NT4-Cygwin + JDK 1.3.1\n Solaris 2.6 + JDK 1.3.1\n Solaris 2.6 + JDK 1.1.6"}, {"count": 1, "tags": [], "bug_id": 3014, "attachment_id": 387, "is_private": false, "id": 4319, "time": "2001-08-07T00:05:44Z", "creator": "tim@adjective.org", "creation_time": "2001-08-07T00:05:44Z", "text": "Created attachment 387\ndiffs against bootstrap.sh"}, {"count": 2, "tags": [], "bug_id": 3014, "attachment_id": null, "is_private": false, "id": 4323, "time": "2001-08-07T03:31:04Z", "creator": "conor@apache.org", "creation_time": "2001-08-07T03:31:04Z", "text": "Wouldn;t it be better to use cygpath? "}, {"count": 3, "tags": [], "bug_id": 3014, "attachment_id": null, "text": "I thought about that, and didn't reach a conclusion (so I submitted the version \nthat I had already hacked together)\n\nCygpath (AFAICT) doesn't allow you to build new \"paths\" (only convert exist \nones), so there's no way to say \"Add the unix version of JAVA_HOME to the unix \nversion of CLASSPATH\", so you have to always just work with the unix version, \nand do conversions in and out where needed.\n\nCLASSPATH and JAVA_HOME could be in either unix/dos format, so to use cygpath, \nyou'd have to convert CLASSPATH to unix format, then convert JAVA_HOME to unix \nformat (handling both v1.1 and v1.2 style) and concatenate them.\n\nThat will work, and it might be a better way, but I'm not 100% sure.\n\nI'll try and find some time to test that method tomorrow.\n", "id": 4325, "time": "2001-08-07T04:14:52Z", "creator": "tim@adjective.org", "creation_time": "2001-08-07T04:14:52Z", "is_private": false}, {"count": 4, "tags": [], "text": "OK, the motivation to use cygpath is that the ant launcher script already does \nthat. I'd prefer to have one way of doing this. Can you also check build.sh?", "is_private": false, "id": 4326, "creator": "conor@apache.org", "time": "2001-08-07T05:20:58Z", "bug_id": 3014, "creation_time": "2001-08-07T05:20:58Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 3014, "attachment_id": null, "id": 4355, "time": "2001-08-08T00:27:21Z", "creator": "tim@adjective.org", "creation_time": "2001-08-08T00:27:21Z", "is_private": false, "text": "build.sh is fine (although it does have some problems with spaces)\n\nA new patch for boostrap.sh is (about to be) attached.\nThis used cygpath to convert CLASSPATH and JAVA_HOME to unix format before \nusing them.\nIt also allows JAVA_HOME to have spaces in it.\n"}, {"count": 6, "tags": [], "bug_id": 3014, "attachment_id": 391, "text": "Created attachment 391\nReplacement patch to bootstrap.sh", "id": 4356, "time": "2001-08-08T00:29:01Z", "creator": "tim@adjective.org", "creation_time": "2001-08-08T00:29:01Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 3014, "is_private": false, "count": 7, "id": 4399, "time": "2001-08-08T20:02:46Z", "creator": "conor@apache.org", "creation_time": "2001-08-08T20:02:46Z", "text": "Patch applied - will be in beta"}]