[{"count": 0, "tags": [], "text": "Using a load testing tool like h2load, performance can go down quickly due to very high multiplexing that occurs when processing the requests. Due to heavy sync contention, it is likely some resources are then wasted. It could be beneficial to explore solutions to that.\n\nExample: h2load -c 1 -n 100 http://127.0.0.1:8080/tomcat.gif\nUnlike HTTP/1.1, this will actually in most cases multiplex 100 concurrent requests over a single connection, using 100 processing threads.", "attachment_id": null, "id": 191671, "creation_time": "2016-06-15T11:49:15Z", "time": "2016-06-15T11:49:15Z", "creator": "remm@apache.org", "bug_id": 59706, "is_private": false}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": 33951, "text": "Created attachment 33951\nTest code\n\nTest code which hijacks activeRemoteStreamCount. I tried putting code in StreamProcessor, among other possible options, but for some reason the performance improvement is not as large.", "id": 191674, "time": "2016-06-15T11:59:20Z", "bug_id": 59706, "creation_time": "2016-06-15T11:59:20Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 59706, "attachment_id": 33956, "id": 191749, "time": "2016-06-17T14:32:56Z", "creator": "remm@apache.org", "creation_time": "2016-06-17T14:32:56Z", "is_private": false, "text": "Created attachment 33956\nQueue v2\n\nSame idea, revised."}, {"count": 3, "tags": [], "bug_id": 59706, "attachment_id": null, "id": 191914, "time": "2016-06-23T14:23:39Z", "creator": "remm@apache.org", "creation_time": "2016-06-23T14:23:39Z", "is_private": false, "text": "r1749898. I will patch 8.5 as well if there are no complaints."}, {"count": 4, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "text": "There's now a good balance between supporting HTTP/2 and limiting concurrency enough.", "id": 197572, "time": "2017-03-09T13:42:11Z", "bug_id": 59706, "creation_time": "2017-03-09T13:42:11Z", "is_private": false}]