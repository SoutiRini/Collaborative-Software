[{"attachment_id": 35645, "tags": [], "bug_id": 61962, "text": "Created attachment 35645\n\"Hits Per Second\" and \"Latency Vs Request\" graphs\n\nThis issue related to the JMeter report generation.\n\nWe are running tests where we are getting \"Hits Per Second\" and \"Transactions Per Second\" reaching 2000, but the \"Latency Vs Request\" graph and \"Response Time Vs Request\" graph never exceed 1000 RPS.\n\nSee attachment for \"Hits Per Second\" and \"Latency Vs Request\" graphs.", "count": 0, "id": 203045, "time": "2018-01-03T18:43:43Z", "creator": "miccah.castorina@ibm.com", "creation_time": "2018-01-03T18:43:43Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 61962, "attachment_id": null, "is_private": false, "id": 203056, "time": "2018-01-04T03:20:48Z", "creator": "sungyook@us.ibm.com", "creation_time": "2018-01-04T03:20:48Z", "text": "I observed same bug. In web report, I have high number of hits/sec (i.e. 2000 hits/sec) but \"Latency vs RPS graph\"'s x-axis only goes up to ~1000 RPS."}, {"count": 2, "text": "Hello,\nWould it be possible to provide a short CSV file + user.properties+jmeter.properties so that we have a reproducer ?\nThanks", "bug_id": 61962, "attachment_id": null, "id": 203068, "time": "2018-01-04T10:52:16Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2018-01-04T10:52:16Z", "tags": [], "is_private": false}, {"count": 3, "text": "Also are you using distributed testing ?\nThank you", "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "id": 203069, "time": "2018-01-04T10:53:54Z", "bug_id": 61962, "creation_time": "2018-01-04T10:53:54Z", "tags": [], "is_private": false}, {"attachment_id": 35651, "tags": [], "bug_id": 61962, "is_private": false, "count": 4, "id": 203081, "time": "2018-01-04T17:47:04Z", "creator": "miccah.castorina@ibm.com", "creation_time": "2018-01-04T17:47:04Z", "text": "Created attachment 35651\nExample CSV File (40K samples)"}, {"count": 5, "tags": [], "bug_id": 61962, "attachment_id": 35652, "is_private": false, "id": 203082, "time": "2018-01-04T17:48:32Z", "creator": "miccah.castorina@ibm.com", "creation_time": "2018-01-04T17:48:32Z", "text": "Created attachment 35652\nExample jmeter.properties"}, {"count": 6, "tags": [], "bug_id": 61962, "text": "Created attachment 35653\nExample user.properties", "id": 203083, "time": "2018-01-04T17:50:18Z", "creator": "miccah.castorina@ibm.com", "creation_time": "2018-01-04T17:50:18Z", "is_private": false, "attachment_id": 35653}, {"count": 7, "tags": [], "bug_id": 61962, "attachment_id": null, "text": "Philippe,\nI've added the files you requested to the attachments. The CSV file is the same from the attached image truncated to 40K samples.\n\nYes this is using distributed testing.\nThanks!", "id": 203084, "time": "2018-01-04T17:52:01Z", "creator": "miccah.castorina@ibm.com", "creation_time": "2018-01-04T17:52:01Z", "is_private": false}, {"count": 8, "text": "Hello,\nThanks for provided information.\nCan I ask you to summarize what you customized ?\nUsually properties should only be overriden in user.properties and jmeter.properties/reportgenerator.properties should not be touched.\n\nI suspect that the following settings might be a cause of your problem:\njmeter.reportgenerator.exporter.html.filters_only_sample_series=false\njmeter.reportgenerator.sample_filter=\n\nWhy did you change them ?\n\nTo filter samplers, just use jmeter.reportgenerator.exporter.html.series_filter and use Menu Help > Export Transactions for report\n\n\nAlso, if using 3.3, you don't need to set this unless you have an external process that uses csv file generated by JMeter\njmeter.save.saveservice.autoflush=true\n\nEnsure you read :\nhttp://jmeter.apache.org/usermanual/generating-dashboard.html#configuration_requirements\n\nCan you confirm you followed this:\n--------------------------------------------------------\n When using JMeter distributed mode with multiple jmeter-server instances, ensure you add in your Thread Groups something that uniquely identifies ThreadGroup for every JVM, example:\n\nThreadXXX_${__P(JVM_ID)}\n\nwhere you pass a different JVM_ID property for each jmeter-server through:\n\n-JJVM_ID=i\n\nwhere i varies between 1 and the number of jmeter-server you are using. \n--------------------------------------------------------\n\nI'll investigate further following your answers.\nThanks", "creator": "p.mouawad@ubik-ingenierie.com", "is_private": false, "id": 203089, "time": "2018-01-04T21:16:39Z", "bug_id": 61962, "creation_time": "2018-01-04T21:16:39Z", "tags": [], "attachment_id": null}, {"count": 9, "text": "Thank you for the insights, but I don't believe those properties are the issue.\nI downloaded a fresh copy of jmeter-3.2, changed the below two properties, and the resulting graphs are the same.\n\njmeter.save.saveservice.timestamp_format=dd/MM/yyyy HH:mm:ss zzz\njmeter.reportgenerator.overall_granularity=1000\n\nYes, each thread group is uniquely identified by its IP, and for this test we are only using one jmeter server with multiple workers.\n\nTo answer your questions about customization, we were running into an issue where nothing was showing up in the report. We found setting\njmeter.reportgenerator.sample_filter=.*\njmeter.reportgenerator.exporter.html.series_filter=.*\nfixed that problem.", "bug_id": 61962, "is_private": false, "id": 203091, "time": "2018-01-04T22:02:11Z", "creator": "miccah.castorina@ibm.com", "creation_time": "2018-01-04T22:02:11Z", "tags": [], "attachment_id": null}, {"count": 10, "tags": [], "bug_id": 61962, "attachment_id": null, "text": "(In reply to miccah.castorina from comment #9)\n> Thank you for the insights, but I don't believe those properties are the\n> issue.\n> I downloaded a fresh copy of jmeter-3.2, changed the below two properties,\n> and the resulting graphs are the same.\n> \n> jmeter.save.saveservice.timestamp_format=dd/MM/yyyy HH:mm:ss zzz\n> jmeter.reportgenerator.overall_granularity=1000\n\nOk, thanks, I'll investigate issue further in the upcoming days.\n> \n> Yes, each thread group is uniquely identified by its IP, and for this test\n> we are only using one jmeter server with multiple workers.\n> \n> To answer your questions about customization, we were running into an issue\n> where nothing was showing up in the report. We found setting\n> jmeter.reportgenerator.sample_filter=.*\n> jmeter.reportgenerator.exporter.html.series_filter=.*\n> fixed that problem.\nThe correct way is to follow my previous advice.", "id": 203092, "time": "2018-01-04T22:04:04Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2018-01-04T22:04:04Z", "is_private": false}, {"count": 11, "tags": [], "bug_id": 61962, "text": "I am also closely monitoring this thread. Our Jmeter master and slaves are NTP time sync'ed on our kubernetes cluster. I tried stock 3.3 Jmeter without modification, saw that RPS falls behind hits/sec. Test was done locally on my laptop and wasn't distributed tests. Thanks in advance working on this issue.", "id": 203093, "time": "2018-01-04T22:29:27Z", "creator": "sungyook@us.ibm.com", "creation_time": "2018-01-04T22:29:27Z", "is_private": false, "attachment_id": null}, {"count": 12, "tags": [], "bug_id": 61962, "attachment_id": null, "is_private": false, "id": 203094, "time": "2018-01-04T23:17:11Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2018-01-04T23:17:11Z", "text": "Author: pmouawad\nDate: Thu Jan  4 23:16:21 2018\nNew Revision: 1820239\n\nURL: http://svn.apache.org/viewvc?rev=1820239&view=rev\nLog:\nBug 61962 - Latency Vs Request graph does not exceed 1000 RPS\nContributed by UbikLoadPack\nBugzilla Id: 61962\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/report/processor/graph/AbstractVersusRequestsGraphConsumer.java\n    jmeter/trunk/xdocs/changes.xml"}, {"count": 13, "text": "Hello,\nIssue should be fixed now, you can download in few minutes a working build:\nhttp://jmeter.apache.org/nightly.html\n\nUse jenkins link and download zip (non source)\n\nRegards\nPhilippe M.", "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "id": 203095, "time": "2018-01-04T23:35:04Z", "bug_id": 61962, "creation_time": "2018-01-04T23:35:04Z", "tags": [], "is_private": false}, {"count": 14, "tags": [], "bug_id": 61962, "attachment_id": null, "id": 203096, "time": "2018-01-04T23:56:41Z", "creator": "sungyook@us.ibm.com", "creation_time": "2018-01-04T23:56:41Z", "is_private": false, "text": "@Philippe\nI am really impressed with fast response on this issue. \nWill test out on the cluster tomorrow and update. \nThanks again for your effort and time on this !"}, {"count": 15, "tags": [], "bug_id": 61962, "attachment_id": null, "id": 203111, "time": "2018-01-05T17:27:02Z", "creator": "miccah.castorina@ibm.com", "creation_time": "2018-01-05T17:27:02Z", "is_private": false, "text": "Confirmed this is now fixed.\nThanks!"}]