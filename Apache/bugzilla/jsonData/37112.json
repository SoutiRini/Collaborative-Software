[{"count": 0, "tags": [], "creator": "rgeimer@ptc.com", "attachment_id": null, "text": "I was running the CVS change log task on my repository, and got a rather \nuninforming NullPointerException:\n\n\nBUILD FAILED\n/home/geimer/projects/aoms_build/build.xml:30: java.lang.NullPointerException\n        at org.apache.tools.ant.Task.perform(Task.java:373)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets\n(DefaultExecutor.java:40)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n        at org.apache.tools.ant.Main.runBuild(Main.java:668)\n        at org.apache.tools.ant.Main.startAnt(Main.java:187)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:246)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)\nCaused by: java.lang.NullPointerException\n        at java.util.Date.after(Date.java:871)\n        at org.apache.tools.ant.taskdefs.cvslib.ChangeLogTask.filterEntrySet\n(ChangeLogTask.java:334)\n        at org.apache.tools.ant.taskdefs.cvslib.ChangeLogTask.execute\n(ChangeLogTask.java:263)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        ... 10 more\n\n\nI went to the ant source and added some debugging code, and was able to track \nthe problem down to the following place in \norg.apache.tools.ant.taskdefs.cvslib.ChangeLogParser:\n\n    private Date parseDate(final String date) {\n        try {\n            return c_inputDate.parse(date);\n        } catch (ParseException e) {\n            //final String message = REZ.getString( \"changelog.bat-\ndate.error\", date );\n            //getContext().error( message );\n            return null;\n        }\n    }\n\nWhen I printed the stack trace for the ParserException, I found out it was \ncomplaining about the date format it encountered, which was \"yyyy-MM-dd \nHH:mm:ss\" instead of the \"yyyy/MM/dd HH:mm:ss\" format that it was expecting. I \nfixed this by adding the following code:\n\n\n    /** alternate input format for dates read in from cvs log */\n    private static final SimpleDateFormat alt_c_inputDate\n        = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n\n    private Date parseDate(final String date) {\n        try {\n            return c_inputDate.parse(date);\n        } catch (ParseException e) {\n            //final String message = REZ.getString( \"changelog.bat-\ndate.error\", date );\n            //getContext().error( message );\n            if (date != null){\n            \ttry {\n\t\t\t\t\treturn alt_c_inputDate.parse(date);\n\t\t\t\t} catch (ParseException e1){\n\t\t\t\t\te.printStackTrace();\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n            return null;\n        }\n    }", "id": 81231, "time": "2005-10-17T08:30:29Z", "bug_id": 37112, "creation_time": "2005-10-17T08:30:29Z", "is_private": false}, {"count": 1, "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of 30576 ***", "is_private": false, "id": 81268, "creator": "jkf@apache.org", "time": "2005-10-17T20:01:07Z", "bug_id": 37112, "creation_time": "2005-10-17T20:01:07Z", "attachment_id": null}]