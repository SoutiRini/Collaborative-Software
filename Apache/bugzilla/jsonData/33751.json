[{"count": 0, "tags": [], "bug_id": 33751, "attachment_id": null, "text": "I must be the only person still using this thing, because it just blew up in my \nface in a big way. Apparently all query strings get dropped by Tomcat 332 when \nusing the AJP12 protocol. (It works with Tomcat 331a. It works with AJP13.)\n\nEnvironment:\nWindows XP\nApache 1.3.33\nmod_jk 1.2.6\nTomcat 3.3.2\nSun JDK 1.4.2\n\nA \"Test\" servlet (included below) fails to print any values (no request \nparameters) when accessed over AJP12. Same servlet works with AJP12 on Tomcat \n331a. Also works with AJP13 on Tomcat 332.\n\nTo reproduce, setup Tomcat 332 with only the Ajp12Connector enabled. \nSetup Apache+mod_jk with one ajp12 worker. Access the servlet below with query \nstring parameters.\n\n\n\npublic class Test extends HttpServlet\n{\n    protected void doGet(HttpServletRequest arg0, HttpServletResponse arg1)\n            throws ServletException, IOException\n    {\n        printParams(arg0, arg1);\n    }\n    \n    protected void doPost(HttpServletRequest arg0, HttpServletResponse arg1)\n            throws ServletException, IOException\n    {\n        printParams(arg0, arg1);\n    }\n    \n    private void printParams(HttpServletRequest request, HttpServletResponse \nresponse) throws IOException\n    {\n        response.setContentType(\"text/html\");\n        response.getWriter().println(\"<html><body>\");\n        \n        for (Enumeration e = request.getParameterNames(); e.hasMoreElements(); )\n        {\n            String name = (String) e.nextElement();\n            response.getWriter().println(\"<p>\" + name + \" = \");\n            response.getWriter().println(request.getParameter(name));\n        }\n        \n        response.getWriter().println(\"</html>\");        \n    }\n}", "id": 71559, "time": "2005-02-26T08:06:41Z", "creator": "renaud+jakarta@waldura.com", "creation_time": "2005-02-26T08:06:41Z", "is_private": false}, {"count": 1, "tags": [], "creator": "jfclere@gmail.com", "attachment_id": null, "id": 76883, "time": "2005-07-01T16:33:20Z", "bug_id": 33751, "creation_time": "2005-07-01T16:33:20Z", "is_private": false, "text": "ajp12 is depricated."}, {"count": 2, "text": "Well, if that's the case, why is it required for shut down? I would have gotten \nrid of AJP12 a long time ago, were it not required for this one function.\n\nSuggestions:\n1- implement the shutdown function in AJP13 and truly deprecate AJP12 -- even \nbetter, remove it entirely, since it's broken.\n\n2- document the fact that AJP12 should only be used to shutdown the server and \nnothing else, since it's broken and won't be fixed. Come on, just a release \nnote would do it.\n", "bug_id": 33751, "attachment_id": null, "id": 76886, "time": "2005-07-01T18:22:21Z", "creator": "renaud+apache@waldura.com", "creation_time": "2005-07-01T18:22:21Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "creator": "william.barker@wilshire.com", "attachment_id": null, "is_private": false, "id": 76713, "time": "2005-07-02T01:24:19Z", "bug_id": 33751, "creation_time": "2005-07-02T01:24:19Z", "text": "This has been fixed in the CVS for a while now."}]