[{"count": 0, "tags": [], "text": "I bclified the following method:\n  public String toString() {\n    return ReflectionToStringBuilder.toString(this);\n  }\nWhich is the standard toString for bean as suggested by the commons-lang project.\nThis code is generated:\n\n  private void createMethod_7() {\n    InstructionList il = new InstructionList();\n    MethodGen method = new MethodGen(ACC_PUBLIC, Type.STRING, Type.NO_ARGS, new\nString[] {  }, \"toString\",\n\"it.imolinfo.iif.webservices.utils.generators.BCELifierSampleBean\", il, _cp);\n\n    InstructionHandle ih_0 = il.append(_factory.createLoad(Type.OBJECT, 0));\n   \nil.append(_factory.createInvoke(\"org.apache.commons.lang.builder.ReflectionToStringBuilder\",\n\"toString\", Type.STRING, new Type[] { Type.OBJECT }, Constants.INVOKESTATIC));\n    InstructionHandle ih_4 = il.append(_factory.createReturn(Type.OBJECT));\n    method.setMaxStack();\n    method.setMaxLocals();\n    _cg.addMethod(method.getMethod());\n    il.dispose();\n  }\n\nI'm reporting only the method that goes in error, in attachement there is the\nwhole class.\nWhen I try to run the code and verify the class generated I get the following error:\n\nverify failed on step 3b on class:\nit.imolinfo.iif.webservices.utils.generators.BCELifierSampleBeanon method:\ntoString message: Constraint violated in method 'public String toString()':\nInstruction INVOKESTATIC constraint violated: Class\n'org.apache.commons.lang.builder.ReflectionToStringBuilder' is referenced, but\ncannot be loaded and resolved: 'VERIFIED_REJECTED\nNumber of LocalVariableTable attributes of Code attribute '<CODE>' (method\n'static void <clinit>()') exceeds number of local variable slots '0' ('There may\nbe no more than one LocalVariableTable attribute per local variable in the Code\nattribute.').\n'.\nInstructionHandle:    1: invokestatic[184](3) 48\n\nExecution Frame:\nLocal Variables:\n0: it.imolinfo.iif.webservices.utils.generators.BCELifierSampleBean\nOperandStack:\nSlots used: 1 MaxStack: 1.\nit.imolinfo.iif.webservices.utils.generators.BCELifierSampleBean (Size: 1)\nExecution flow:\n   0: aload_0\t[InstructionContext]\n   1: invokestatic 48\t[InstructionContext]\n\tat it.imolinfo.iif.jbi.BCELClassLoader.verifyClass(BCELClassLoader.java:66)\n\tat it.imolinfo.iif.jbi.BCELClassLoader.addClass(BCELClassLoader.java:27)\n\tat\nit.imolinfo.iif.test.webservices.utils.generators.BCELifierSampleBeanCreator.main(BCELifierSampleBeanCreator.java:260)\n\nAny idea if this is a bug or how to workaround it?\nCuriosly the twin method:\n\n  public boolean equals(Object obj) {\n    return EqualsBuilder.reflectionEquals(this, obj);\n  }\n\nis generated passes the verification.", "attachment_id": null, "bug_id": 40357, "id": 92718, "time": "2006-08-30T11:19:19Z", "creator": "rspazzoli@imolinfo.it", "creation_time": "2006-08-30T11:19:19Z", "is_private": false}, {"count": 1, "tags": [], "text": "Created attachment 18768\nthe bcelified bean whose toString method gives an error", "attachment_id": 18768, "bug_id": 40357, "id": 92719, "time": "2006-08-30T11:21:01Z", "creator": "rspazzoli@imolinfo.it", "creation_time": "2006-08-30T11:21:01Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 40357, "text": "no longer happening with HEAD version", "id": 101492, "time": "2007-04-06T11:08:24Z", "creator": "erik@jpox.org", "creation_time": "2007-04-06T11:08:24Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "bug_id": 40357, "attachment_id": null, "text": "thanks for reporting back", "id": 113370, "time": "2008-02-02T11:09:40Z", "creator": "tcurdt@apache.org", "creation_time": "2008-02-02T11:09:40Z", "is_private": false}]