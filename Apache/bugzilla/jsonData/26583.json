[{"count": 0, "tags": [], "bug_id": 26583, "attachment_id": null, "id": 51559, "creation_time": "2004-02-02T01:01:20Z", "time": "2004-02-02T01:01:20Z", "creator": "kirill@1314.ru", "text": "If user request password protected (using .htaccess) file and his request \ncontains `Range` header (for example when client tries to resume downloading, \nbut some clients insert `Range` header on every request), Apache will return \n`206 Partial Content` response _with_ `WWW-Authenticate` header, instead of \n`401 Authorization Required` error. This thing confuses client of course...", "is_private": false}, {"count": 1, "attachment_id": null, "bug_id": 26583, "text": "Cannot reproduce the problem here. Can you provide the full set of request headers?", "id": 51563, "time": "2004-02-02T01:47:31Z", "creator": "nd@perlig.de", "creation_time": "2004-02-02T01:47:31Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 26583, "is_private": false, "id": 51565, "creation_time": "2004-02-02T02:15:40Z", "time": "2004-02-02T02:15:40Z", "creator": "kirill@1314.ru", "text": "Here it goes.\nI've created empty dir named `1` with simple .htaccess in it \n\nAuthType Basic\nAuthName \"enter login\"\nAuthUserFile \"/home/pass.txt\"\nrequire valid-user\n\nand tried to resume some file secure.txt (which is absent in dir `1`, but i \nhave its local copy, so download manager thinks it needs to be resumed):\n\nINF\tStarting download [http://www.site.com/1/secure.txt]. Attempt N 1\nSTA\tGoing to: [Request]\nINF\tTrying to download at 2831766 b\nINF\tConnecting to www.site.com (12.13.14.15:80)\nOUT\tGET /1/secure.txt HTTP/1.0\nOUT\tUser-Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows 98)\nOUT\tAccept: */*\nOUT\tRange: bytes=2831766-\nOUT\tReferer: http://www.site.com/1/\nOUT\tHost: www.site.com\nIN \tHTTP/1.1 416 Requested Range Not Satisfiable\nIN \tDate: Mon, 02 Feb 2004 02:10:18 GMT\nIN \tServer: Apache/1.3.29 (Unix)\nIN \tWWW-Authenticate: Basic realm=\"enter login\"\nIN \tLast-Modified: Sun, 14 Dec 2003 14:07:51 GMT\nIN \tETag: \"430e-151-3fdc6eb7\"\nIN \tAccept-Ranges: bytes\nIN \tContent-Length: 0\nIN \tContent-Range: bytes */337\nIN \tConnection: close\nIN \tContent-Type: text/html\n\nIf i start downloading from zero byte (Range: bytes=0-) then i'm getting \nsimple HTML with 401 error message in it.\n", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 26583, "attachment_id": null, "text": "That is really strange. I still cannot reproduce it, I'm always getting 401.\nCan you supply your whole config (as an attachment)?\n\nThanks.", "id": 51612, "time": "2004-02-02T19:09:02Z", "creator": "nd@perlig.de", "creation_time": "2004-02-02T19:09:02Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 26583, "text": "Sorry for delay, vacation.\nI've tried now on another server (\"buggy\" is a production one, cant test on it \nanything), and couldn't reproduce too. Probably such behaviour is some kinda \nresult of a bit complicated rewrite schemes used there... Anyway, i've changed \nsource code a bit, so server returns correct header in all cases. I will \ninform you later if meet this case again.\nThanx for replies.", "id": 52448, "time": "2004-02-17T17:09:29Z", "creator": "kirill@1314.ru", "creation_time": "2004-02-17T17:09:29Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "nd@perlig.de", "text": "If you'd post your config (or mail me privately if you want), there's a chance\nthat we get it anyway .-). Your changes to the source would be interesting as well.", "id": 52748, "time": "2004-02-21T19:03:46Z", "bug_id": 26583, "creation_time": "2004-02-21T19:03:46Z", "is_private": false, "attachment_id": null}]