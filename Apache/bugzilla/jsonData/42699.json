[{"count": 0, "tags": [], "text": "Small patch to add the byte counts from mod_logio to r->notes for pickup in\nother modules. It adds a hook to do this at the start of the order and moves the\nlogio_transaction, which clears the data, to the end.\n\nFor myself this data is extremely useful with mod_ruby and I expect would be for\nothers in mod_perl, mod_python etc. This would also hopefully solve issues like\noutoforder.cc mod_log_sql having to include their own replacement version of\nmod_logio.\n\nQuestion though: should this be an option? Perhaps allowing users to chose the\nname of the notes like mod_deflate?\n\nWilling to revise based on feedback. Thanks.", "is_private": false, "bug_id": 42699, "id": 104530, "time": "2007-06-20T00:07:34Z", "creator": "mkent@magoazul.com", "creation_time": "2007-06-20T00:07:34Z", "attachment_id": null}, {"count": 1, "attachment_id": 20373, "creator": "mkent@magoazul.com", "is_private": false, "id": 104531, "time": "2007-06-20T00:09:05Z", "bug_id": 42699, "creation_time": "2007-06-20T00:09:05Z", "tags": [], "text": "Created attachment 20373\nadds notes with byte counts"}, {"count": 2, "tags": [], "bug_id": 42699, "attachment_id": null, "text": "Another option would be to change the optional function into a hook so that \nmultiple modules can hook into the data.  I am currently writing a quota module \nthat needs to know how much was ACTUALLY sent out verses what the total size of \nthe file is.  So I am finding multiple modules on outoforder.cc needing to \naccess this data and a clean solution would be so useful.\n\nI'm going to try and add in an optional hook implementation and attach a patch \nup here.", "id": 112308, "time": "2007-12-30T16:54:59Z", "creator": "urkle@outoforder.cc", "creation_time": "2007-12-30T16:54:59Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 42699, "attachment_id": 21335, "id": 112368, "time": "2008-01-01T07:42:24Z", "creator": "urkle@outoforder.cc", "creation_time": "2008-01-01T07:42:24Z", "is_private": false, "text": "Created attachment 21335\nAdd in an optional hook along side optional function. \n\nThis patch adds an optinal hook implementation so that multiple modules can\nhook into the bytes out functionality.\tI've also updated mod_logio to make use\nof this hook.\n*NOTE* I left the optional function in place so that compatability can be\nmaintained with old modules.. Also this patch should be able to backport to\napache 2.0 and 2.2 w/o issue.\n\nOh, why is there no OPTIONAL_HOOK that will run w/ a function that will return\nvoid, Only w/ a return value?? that is the only *odd* change is that I have to\nreturn OK from the function now."}, {"count": 4, "tags": [], "bug_id": 42699, "attachment_id": 21335, "id": 112370, "time": "2008-01-01T09:02:27Z", "creator": "urkle@outoforder.cc", "creation_time": "2008-01-01T09:02:27Z", "is_private": false, "text": "Comment on attachment 21335\nAdd in an optional hook along side optional function. \n\nTypos and odd linking issue that shouldn't occur.. ignore until I can fix it."}, {"count": 5, "tags": [], "bug_id": 42699, "attachment_id": 21342, "id": 112481, "time": "2008-01-03T19:04:37Z", "creator": "urkle@outoforder.cc", "creation_time": "2008-01-03T19:04:37Z", "is_private": false, "text": "Created attachment 21342\nUpdated patch\n\nUpdated tested patch from SVN trunk"}]