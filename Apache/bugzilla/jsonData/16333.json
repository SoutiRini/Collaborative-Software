[{"count": 0, "tags": [], "creator": "tcastelle@generali.fr", "attachment_id": null, "text": "Hello, \n\nI just installed Apache 2.0.44 to test it against my currently running 2.0.43,\nand I have a problem with my SSL websites.\n\nThe 2 configs are exactly the same, but with 2.0.44, I have this in the error.log :\n\n(starting apache, everything seems OK...)\n\n[Wed Jan 22 15:43:59 2003] [info] Loading certificate & private key of SSL-aware\nserver\n[Wed Jan 22 15:43:59 2003] [debug] ssl_engine_pphrase.c(493): unencrypted RSA\nprivate key - pass phrase not required\n[Wed Jan 22 15:44:00 2003] [info] Configuring server for SSL protocol\n[Wed Jan 22 15:44:00 2003] [debug] ssl_engine_init.c(436): Creating new SSL\ncontext (protocols: SSLv2, SSLv3, TLSv1)\n[Wed Jan 22 15:44:00 2003] [debug] ssl_engine_init.c(611): Configuring permitted\nSSL ciphers [ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH\n:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL]\n[Wed Jan 22 15:44:00 2003] [debug] ssl_engine_init.c(695): Configuring server\ncertificate chain (0 CA certificates)\n[Wed Jan 22 15:44:00 2003] [debug] ssl_engine_init.c(739): Configuring RSA\nserver certificate\n[Wed Jan 22 15:44:00 2003] [debug] ssl_engine_init.c(778): Configuring RSA\nserver private key\n[Wed Jan 22 15:44:00 2003] [info] Loading certificate & private key of SSL-aware\nserver\n[Wed Jan 22 15:44:00 2003] [debug] ssl_engine_pphrase.c(493): unencrypted RSA\nprivate key - pass phrase not required\n[Wed Jan 22 15:44:03 2003] [info] Configuring server for SSL protocol\n[Wed Jan 22 15:44:03 2003] [debug] ssl_engine_init.c(436): Creating new SSL\ncontext (protocols: SSLv2, SSLv3, TLSv1)\n[Wed Jan 22 15:44:03 2003] [debug] ssl_engine_init.c(611): Configuring permitted\nSSL ciphers [ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH\n:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL]\n[Wed Jan 22 15:44:03 2003] [debug] ssl_engine_init.c(695): Configuring server\ncertificate chain (0 CA certificates)\n[Wed Jan 22 15:44:03 2003] [debug] ssl_engine_init.c(739): Configuring RSA\nserver certificate\n[Wed Jan 22 15:44:03 2003] [debug] ssl_engine_init.c(778): Configuring RSA\nserver private key\n\n(Trying a request... error !)\n\n[Wed Jan 22 15:49:24 2003] [info] Connection to child 66 established (server\nwww.gfasante.proto.generali.fr:443, client 172.30\n.220.24)\n[Wed Jan 22 15:49:24 2003] [info] Seeding PRNG with 144 bytes of entropy\n[Wed Jan 22 15:49:24 2003] [debug] ssl_engine_kernel.c(1758): OpenSSL:\nHandshake: start\n[Wed Jan 22 15:49:24 2003] [debug] ssl_engine_kernel.c(1766): OpenSSL: Loop:\nbefore/accept initialization\n[Wed Jan 22 15:49:40 2003] [debug] ssl_engine_io.c(1477): OpenSSL: read 0/11\nbytes from BIO#1004f8850 [mem: 1004fe060] (BIO du\nmp follows)\n[Wed Jan 22 15:49:40 2003] [debug] ssl_engine_io.c(1424):\n+-------------------------------------------------------------------\n------+\n[Wed Jan 22 15:49:40 2003] [debug] ssl_engine_io.c(1455):\n+-------------------------------------------------------------------\n------+\n[Wed Jan 22 15:49:40 2003] [info] SSL handshake interrupted by system [Hint:\nStop button pressed in browser?!]\n[Wed Jan 22 15:49:40 2003] [info] Connection to child 66 closed with abortive\nshutdown(server www.gfasante.proto.generali.fr:4\n43, client 172.30.220.24)\n[Wed Jan 22 15:51:14 2003] [info] Connection to child 4 established (server\nwww.gfasante.proto.generali.fr:443, client 172.30.\n220.24)\n[Wed Jan 22 15:51:14 2003] [info] Seeding PRNG with 144 bytes of entropy\n[Wed Jan 22 15:51:14 2003] [debug] ssl_engine_kernel.c(1758): OpenSSL:\nHandshake: start\n[Wed Jan 22 15:51:14 2003] [debug] ssl_engine_kernel.c(1766): OpenSSL: Loop:\nbefore/accept initialization\n[Wed Jan 22 15:51:28 2003] [debug] ssl_engine_io.c(1477): OpenSSL: read 0/11\nbytes from BIO#100500890 [mem: 1005060a0] (BIO du\nmp follows)\n[Wed Jan 22 15:51:28 2003] [debug] ssl_engine_io.c(1424):\n+-------------------------------------------------------------------\n------+\n[Wed Jan 22 15:51:28 2003] [debug] ssl_engine_io.c(1455):\n+-------------------------------------------------------------------\n------+\n[Wed Jan 22 15:51:28 2003] [info] SSL handshake interrupted by system [Hint:\nStop button pressed in browser?!]\n[Wed Jan 22 15:51:28 2003] [info] Connection to child 4 closed with abortive\nshutdown(server www.gfasante.proto.generali.fr:44\n3, client 172.30.220.24)\n\nIs there a specific openssl version required ? We are using openssl 0.9.6g.\n\nApache compilation :\nCFLAGS=\"-m64\" ./configure --prefix=/usr/local/www/prod \\\n--localstatedir=/var/log/www/prod --disable-charset-lite --disable-include \\\n--disable-autoindex --disable-asis --disable-cgi --disable-cgid \\\n--disable-negotiation --disable-dir --disable-imap --disable-actions \\\n--disable-userdir --enable-proxy --enable-ssl --enable-rewrite \\\n--with-mpm=worker -\u2013with-ssl=/usr/local/ssl\n\nApache SSL conf :\n\nAddType application/x-x509-ca-cert .crt\nAddType application/x-pkcs7-crl    .crl\nSSLPassPhraseDialog  builtin\nSSLSessionCache         dbm:/var/log/www/proto/run/ssl_scache\nSSLSessionCacheTimeout  300\nSSLMutex  file:/var/log/www/proto/run/ssl_mutex\nSSLRandomSeed startup builtin\nSSLRandomSeed connect builtin\nSSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL\nSSLCertificateFile /usr/local/www/proto/conf/ssl.crt/server.crt\nSSLCertificateKeyFile /usr/local/www/proto/conf/ssl.key/server.key\nSSLCertificateChainFile /usr/local/www/proto/conf/ssl.crt/verisign.crt\nCustomLog /var/log/www/proto/logs/ssl_request.log \\\n          \"%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \\\"%r\\\" %b\"\n\n\nCan you help me please ?\n\nThanks a lot !\n\nThomas.", "id": 29885, "time": "2003-01-22T15:18:48Z", "bug_id": 16333, "creation_time": "2003-01-22T15:18:48Z", "is_private": false}, {"count": 1, "attachment_id": null, "creator": "tcastelle@generali.fr", "is_private": false, "id": 29921, "time": "2003-01-23T10:51:34Z", "bug_id": 16333, "creation_time": "2003-01-23T10:51:34Z", "tags": [], "text": "OK, I have some news on this bug : it seems to work in 32bit build, so there\nmust be a problem similar to the bug 14861 (which, by the way, isn't solved :\nsrclib/apr-util/tests/testdbm still fails without the patch proposed by Jeff\nTrawick)\n\nCan you please look at it ?\n\nThanks in advance, \n\nThomas.\n\n"}, {"count": 2, "tags": [], "creator": "tcastelle@generali.fr", "attachment_id": null, "is_private": false, "id": 29922, "time": "2003-01-23T10:52:43Z", "bug_id": 16333, "creation_time": "2003-01-23T10:52:43Z", "text": "Oops, by the way, I must add that Jeff's patch doesn't solve this particular bug."}, {"count": 3, "tags": [], "creator": "tcastelle@generali.fr", "attachment_id": null, "is_private": false, "id": 30430, "time": "2003-01-31T16:23:01Z", "bug_id": 16333, "creation_time": "2003-01-31T16:23:01Z", "text": "Is someone looking at this bug ?\nPlease keep me informed !\n\nThomas."}, {"count": 4, "tags": [], "bug_id": 16333, "is_private": false, "text": "I'm very sad, nobody's looking at my bugs ! I'm going to cry very loud...\n\nHelp ! I need somebody's help ! ;-)\n\nThomas.\n\n\n\n\n\n", "id": 30989, "time": "2003-02-10T10:06:26Z", "creator": "tcastelle@generali.fr", "creation_time": "2003-02-10T10:06:26Z", "attachment_id": null}, {"count": 5, "tags": [], "creator": "tcastelle@generali.fr", "attachment_id": null, "text": "I close this bug, fixed in 2.0.45. \nThanks ! \n\nThomas.\n", "id": 34625, "time": "2003-04-07T15:31:30Z", "bug_id": 16333, "creation_time": "2003-04-07T15:31:30Z", "is_private": false}]