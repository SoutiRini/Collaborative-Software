[{"count": 0, "tags": [], "bug_id": 45084, "attachment_id": null, "text": "File Name: /scrlib/apr/file_io/unix/seek.c\nFunction Nam: apr_file_trunc()\nCorrect Code: \n\n    99: apr_status_t apr_file_trunc(apr_file_t *fp, apr_off_t offset)\n   100: {\n   101:     if (ftruncate(fp->filedes, offset) == -1) {\n   102:         return errno;\n   103:     }\n   104:     return apr_file_seek(fp, APR_SET, &offset);\n\nFile Name: /src/rotatelogs.c\nFunction Nam: main()\nBuggy Code: \n\n   263:     apr_file_trunc(nLogFD, 0);\n   284:     apr_file_trunc(nLogFD, 0);\n\nFile Name: /src/testbuckets.c\nFunction Nam: test_insertfile()\nBuggy Code: \n\n   355:     apr_file_trunc(f, 0);\n   419:     apr_file_trunc(f, 0);\n\n \nDescription: A rule discovered by our static program analysis approach indicates that an error occurs if apr_file_seek() outputs \u201c!APR_SUCCESS\u201d. The function apr_file_trunc() returns the value outputted by apr_file_seek() directly. Thus, it is inferred that an error occurs if apr_file_trunc() returns \u201c!APR_SUCCESS\u201d. However, the outputs of apr_file_trunc() are not checked in the above code.", "id": 117067, "time": "2008-05-27T21:58:33Z", "creator": "rxc92@case.edu", "creation_time": "2008-05-27T21:58:33Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 45084, "attachment_id": null, "text": "Some of this was already fixed on trunk, remaining case done in r1374247.\n\nThanks for the report.", "id": 161482, "time": "2012-08-17T13:42:23Z", "creator": "jorton@redhat.com", "creation_time": "2012-08-17T13:42:23Z", "is_private": false}]