[{"count": 0, "tags": [], "creator": "skarzhevskyy@gmail.com", "is_private": false, "text": "We 3 context listens for app initialization.\n\nweb.xml fragment\n\n   <listener>\n        <listener-class>com.GwtAppConfiguratorContextListener</listener-class>\n    </listener>\n\n    <listener>\n\t    <listener-class>com.SessionCounter</listener-class>\n    </listener>\n\n    <listener>\n        <listener-class>com.AppStartedContextListener</listener-class>\n    </listener>\n\nThe order in Tomcat 6.0.20 is preserver.\nIn newer versions it is broken.\n\nI tested with v6.0.26 and v6.0.29", "id": 139394, "time": "2010-08-23T18:21:48Z", "bug_id": 49812, "creation_time": "2010-08-23T18:21:48Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "The problem probably not be in Tomcat version.\n\nI installed 6.0.20 on Win7-64 Using 32 bit Sun JVM  still the same problem.\n(JVM tested jdk1.6.0_18 and jdk1.6.0_21)\n\nApache Tomcat/6.0.29  \t1.6.0_21-b06  \tSun Microsystems Inc.  \tWindows 2003 x86\n\nOrder of firing context listeners is invalid. The last called before first.\n\n\nI have working production configurations (that I want to upgrade)\nThis have proper order of listeners \n------\nApache Tomcat/6.0.20  \t1.6.0_02-b06  \tBEA Systems, Inc.  \tWindows 2003 x86\nApache Tomcat/6.0.20  \t1.6.0_21-b06  \tSun Microsystems Inc.  \tWindows 2003 x86", "is_private": false, "bug_id": 49812, "id": 139395, "time": "2010-08-23T19:09:35Z", "creator": "skarzhevskyy@gmail.com", "creation_time": "2010-08-23T19:09:35Z", "attachment_id": null}, {"count": 2, "tags": [], "text": "(In reply to comment #1)\n> Order of firing context listeners is invalid. The last called before first.\n\nWhich APIs are you testing?  For the contextDestroyed() method, the last specified ServletContextListener should be called before the first.\n\n - Chuck", "attachment_id": null, "id": 139396, "creator": "chuck.caldarale@unisys.com", "time": "2010-08-23T19:24:06Z", "bug_id": 49812, "creation_time": "2010-08-23T19:24:06Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 49812, "attachment_id": null, "id": 139397, "time": "2010-08-23T20:01:00Z", "creator": "skarzhevskyy@gmail.com", "creation_time": "2010-08-23T20:01:00Z", "is_private": false, "text": "Two Listener are implementations of javax.servlet.ServletContextListener\n\nAnd I I look at function contextInitialized();\n\nFirst AppConfiguratorContextListener\nSecond AppStartedContextListener\n\nSource https://pyx4j.com/svn/pyx4j/pyx4j-gwt/pyx4j-server/src/main/java/com/pyx4j/server/servlet/\n\nThe second throw exception when the first one not initialized.\n\nif (!AppConfiguratorContextListener.initialized) {\nthrow new Error(\"AppConfiguratorContextListener was not initialized\");\n}\n\n\n---\n No errors in stdout\n---\nI do deply the same war to different configurations."}, {"text": "Sorry.\n This was my mistake.\n\n I have not noticed the java.lang.NoClassDefFoundError in localhost.2010-08-23.log\n I was expecting it in stderr_20100823.log ...\n\n\nSorry again!", "tags": [], "creator": "skarzhevskyy@gmail.com", "attachment_id": null, "count": 4, "id": 139400, "time": "2010-08-23T23:02:02Z", "bug_id": 49812, "creation_time": "2010-08-23T23:02:02Z", "is_private": false}]