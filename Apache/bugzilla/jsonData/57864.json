[{"count": 0, "tags": [], "creator": "nakamura.kyohei.lab@gmail.com", "is_private": false, "id": 182679, "attachment_id": 32693, "bug_id": 57864, "creation_time": "2015-04-28T07:21:08Z", "time": "2015-04-28T07:21:08Z", "text": "Created attachment 32693\npatch against trunk.\n\nThe Cluster configuration document have shown that the channelSendOptions attribute of SimpleTcpCluster element can be configured in hexadecimal.\nhttp://tomcat.apache.org/tomcat-8.0-doc/config/cluster.html\n\nDigester set the value using IntrospectionUtils.setProperty method.\nSimpleTcpCluster.setChannelSendOptions method takes an int argument.\n\nTherefore, setProperty method will be attempted to convert hexadecimal using Constructor of Integer Class (See Integer(String s)).\nAs a result, hexadecimal value will cause a NumberFormatException.\n\nSo, the channelSendOptions is not able to be configured in hexadecimal.\n\nOn the other hand, when GroupChannel is used on Tomcat, the channelSendOptions will be set 10 or less (SYNC or ASYNC, ACK or Non-ACK), and it will be not set more than 10.\nTherefore, the example for hexadecimal (\"0x000B\") can be remove from the configuration document."}, {"count": 1, "attachment_id": null, "creator": "markt@apache.org", "text": "Thanks for the report and the patch. I have applied a variation of the patch to trunk (for 9.0.x), tc8.0.x/trunk (for 8.0.22 onwards), tc7.0.x/trunk (for 7.0.62 onwards) and tc6.0.x/trunk for 6.0.44 onwards.", "id": 182696, "time": "2015-04-28T15:09:44Z", "bug_id": 57864, "creation_time": "2015-04-28T15:09:44Z", "tags": [], "is_private": false}]