[{"count": 0, "tags": [], "bug_id": 38575, "is_private": false, "id": 85599, "attachment_id": null, "creator": "larry.kriv@eds.com", "creation_time": "2006-02-08T18:51:21Z", "time": "2006-02-08T18:51:21Z", "text": "I am attempting to migrate my Ant scripts from using ftp for file transfer to \nscp.  I am using the jsch-0.1.24.jar, as recommended.  The transfers are going \nbetween a XP server to and AIX server.  \n\nMy major problem is that ascii files, such as UNIX scripts (*.sh, *.ksh), are \nnot being transferred as ascii.  They end up on the target AIX server as \nbinary files.  Therefore, they are unable to be executed on the AIX server. \n\nI have not found any documented parameter on your scp web-page that gives any \nclue as to how to control the transfer in the same way that your ftp command \nallows (\"binary=yes/no\").  Is it possible for scp to control ascii/binary \ntransfers at all?"}, {"count": 1, "tags": [], "bug_id": 38575, "is_private": false, "text": "It is always good to transfer files as binary - in binary mode their content\nwill not be altered during the transfer. I think you might need to execute\n\"chmod +x\" via ssh after the transfer.", "id": 85600, "time": "2006-02-08T18:54:29Z", "creator": "alexeys@inventigo.com", "creation_time": "2006-02-08T18:54:29Z", "attachment_id": null}, {"text": "Well some os's / shells do not like the ^M characters at the end of the line", "tags": [], "bug_id": 38575, "is_private": false, "count": 2, "id": 85602, "time": "2006-02-08T19:37:41Z", "creator": "jkf@apache.org", "creation_time": "2006-02-08T19:37:41Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "larry.kriv@eds.com", "text": "The ^M does hose up the scripts and other ascii files.", "id": 85603, "time": "2006-02-08T19:43:33Z", "bug_id": 38575, "creation_time": "2006-02-08T19:43:33Z", "is_private": false, "attachment_id": null}, {"text": "scp does not distinguish between binary and ascii files. There is no mechanism \nto specify whether or not a file to be transfered is binary of ascii. The issue \nyou are having is due to the different line endings on win and unix. There is \nprobably a way to convert the line endings by using another Ant task prior to \nscp'ing the files. Please take this to the ant-user list for assistance. ", "tags": [], "bug_id": 38575, "is_private": false, "count": 4, "id": 85604, "time": "2006-02-08T19:52:53Z", "creator": "riznob@hotmail.com", "creation_time": "2006-02-08T19:52:53Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 38575, "attachment_id": null, "text": "run <fixcrlf> first.", "id": 85627, "time": "2006-02-09T10:43:48Z", "creator": "stevel@apache.org", "creation_time": "2006-02-09T10:43:48Z", "is_private": false}, {"count": 6, "tags": [], "creator": "larry.kriv@eds.com", "is_private": false, "text": "<fixcrlf> does appear to resolve the ^M problem, so I will mark this bug as \nclosed.  \n\nThe one problem that I have with this is that code is being modified as part \nof the distribution process.  That is not the case with ftp, except if that is \nwhat is happening behind the scene with \"binary=no\".\n\nThanks for the help!", "id": 85641, "time": "2006-02-09T16:44:52Z", "bug_id": 38575, "creation_time": "2006-02-09T16:44:52Z", "attachment_id": null}, {"count": 7, "tags": [], "bug_id": 38575, "text": "no. \n\nwhat is happening is that your SCM system, behind the scenes, is modifying the\nline endings on text files you check out. <ftp> in ascii mode corrects for this,\nbut use another distro method and your problem surfaces.\n\n", "id": 85642, "attachment_id": null, "creator": "stevel@apache.org", "creation_time": "2006-02-09T16:58:12Z", "time": "2006-02-09T16:58:12Z", "is_private": false}]