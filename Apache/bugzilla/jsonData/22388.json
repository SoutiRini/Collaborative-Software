[{"count": 0, "tags": [], "creator": "lkarpel@eloquent.com", "text": "We see the following ConcurrentModificationException exception while \nregistering contexts .. sometimes .. if you need some config files let me \nknow ..\n\n\nAug 12, 2003 6:35:18 PM org.apache.catalina.core.StandardHost getDeployer\nINFO: Create Host deployer for direct deployment ( non-jmx )\nAug 12, 2003 6:35:18 PM org.apache.catalina.core.StandardHostDeployer install\nINFO: Installing web application from Config file URL file:C:\\Program \nFiles\\Apache Software Foundation\\Tomcat 5.0\\conf\\C\natalina\\localhost\\admin.xml\nAug 12, 2003 6:35:18 PM org.apache.catalina.realm.JAASRealm setContainer\nINFO: Setting JAAS app name Catalina\nAug 12, 2003 6:35:18 PM org.apache.catalina.core.StandardHostDeployer install\nINFO: Installing web application from Config file URL file:C:\\Program \nFiles\\Apache Software Foundation\\Tomcat 5.0\\conf\\C\natalina\\localhost\\manager.xml\nAug 12, 2003 6:35:18 PM org.apache.struts.util.PropertyMessageResources <init>\nINFO: Initializing, config='org.apache.struts.util.LocalStrings', \nreturnNull=true\nAug 12, 2003 6:35:18 PM org.apache.struts.util.PropertyMessageResources <init>\nINFO: Initializing, config='org.apache.struts.action.ActionResources', \nreturnNull=true\nAug 12, 2003 6:35:19 PM org.apache.catalina.core.StandardHostDeployer install\nINFO: Installing web application at context path /jsp-examples from URL \nfile:C:\\Program Files\\Apache Software Foundation\n\\Tomcat 5.0\\webapps\\jsp-examples\nAug 12, 2003 6:35:19 PM org.apache.catalina.core.StandardHostDeployer install\nINFO: Installing web application at context path  from URL file:C:\\Program \nFiles\\Apache Software Foundation\\Tomcat 5.0\\w\nebapps\\ROOT\nAug 12, 2003 6:35:19 PM org.apache.struts.util.PropertyMessageResources <init>\nINFO: Initializing, config='org.apache.webapp.admin.ApplicationResources', \nreturnNull=true\nAug 12, 2003 6:35:19 PM org.apache.catalina.core.StandardHostDeployer install\nINFO: Installing web application at context path /servlets-examples from URL \nfile:C:\\Program Files\\Apache Software Found\nation\\Tomcat 5.0\\webapps\\servlets-examples\nAug 12, 2003 6:35:19 PM org.apache.catalina.core.StandardHostDeployer install\nINFO: Installing web application at context path /tomcat-docs from URL \nfile:C:\\Program Files\\Apache Software Foundation\\\nTomcat 5.0\\webapps\\tomcat-docs\nAug 12, 2003 6:35:19 PM org.apache.coyote.http11.Http11Protocol start\nINFO: Starting Coyote HTTP/1.1 on port 8080\nAug 12, 2003 6:35:20 PM org.apache.coyote.tomcat5.MapperListener init\nWARNING: Error registering contexts\njava.util.ConcurrentModificationException\n        at java.util.HashMap$HashIterator.nextEntry(HashMap.java:782)\n        at java.util.HashMap$EntryIterator.next(HashMap.java:824)\n        at java.util.HashMap.putAllForCreate(HashMap.java:424)\n        at java.util.HashMap.clone(HashMap.java:656)\n        at mx4j.server.DefaultMBeanRepository.clone\n(DefaultMBeanRepository.java:56)\n        at mx4j.server.MBeanServerImpl.findMBeansByPattern\n(MBeanServerImpl.java:1603)\n        at mx4j.server.MBeanServerImpl.queryObjectNames\n(MBeanServerImpl.java:1568)\n        at mx4j.server.MBeanServerImpl.queryMBeans(MBeanServerImpl.java:1512)\n        at org.apache.coyote.tomcat5.MapperListener.init\n(MapperListener.java:158)\n        at org.apache.coyote.tomcat5.CoyoteConnector.start\n(CoyoteConnector.java:1370)\n        at org.apache.catalina.core.StandardService.start\n(StandardService.java:528)\n        at org.apache.catalina.core.StandardServer.start\n(StandardServer.java:2312)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:577)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:297)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:394)\nAug 12, 2003 6:35:20 PM org.apache.jk.common.ChannelSocket init\nINFO: JK2: ajp13 listening on /0.0.0.0:8009\nAug 12, 2003 6:35:20 PM org.apache.jk.server.JkMain start\nINFO: Jk running ID=0 time=0/16  config=null\nAug 12, 2003 6:35:20 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 7844 ms", "id": 42690, "time": "2003-08-13T17:12:39Z", "bug_id": 22388, "creation_time": "2003-08-13T17:12:39Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 22388, "is_private": false, "count": 1, "id": 42820, "time": "2003-08-15T19:46:49Z", "creator": "remm@apache.org", "creation_time": "2003-08-15T19:46:49Z", "text": "I have seen this. At this point, I believe it is a MX4J bug (there's only one\nthread during the Tomcat init, so I don't see what could be wrong).\nTomcat 5 final will not ship with this JMX implementation: it will be either\nMX4J 1.2 or the JMX 1.2 RI with remoting."}, {"count": 2, "tags": [], "bug_id": 22388, "attachment_id": null, "text": "Invalid ?\n\nAre you saying that if TC ships with MX4J 1.2 that this won't be an issue ? You \nknow this is fixed ?\n\nI assume that the 'JMX 1.2 RI with remoting' is another code line.\n", "id": 42824, "time": "2003-08-15T21:03:53Z", "creator": "lkarpel@eloquent.com", "creation_time": "2003-08-15T21:03:53Z", "is_private": false}, {"count": 3, "tags": [], "text": "This is still present in 5.0.9. I realize that you say it will be fixed in the \nfinal .. but will the fix be in a release before TC5 ships so we can verify \nthat the issue has gone away?", "attachment_id": null, "bug_id": 22388, "id": 43343, "time": "2003-08-26T22:01:49Z", "creator": "lkarpel@eloquent.com", "creation_time": "2003-08-26T22:01:49Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 22388, "is_private": false, "count": 4, "id": 43345, "time": "2003-08-26T22:16:16Z", "creator": "remm@apache.org", "creation_time": "2003-08-26T22:16:16Z", "text": "Please do not reopen the report. This is not a Tomcat issue anyway."}, {"count": 5, "tags": [], "text": "If tomcat ships with broken code .. are you saying that is not a tomcat issue ? \nAll I am asking is when will it be fixed ? I dont think that is asking too \nmuch. Why such a 'short' answer.", "is_private": false, "bug_id": 22388, "id": 43347, "time": "2003-08-26T23:11:47Z", "creator": "lkarpel@eloquent.com", "creation_time": "2003-08-26T23:11:47Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 22388, "text": "*** Bug 29056 has been marked as a duplicate of this bug. ***", "id": 57588, "time": "2004-05-18T06:36:57Z", "creator": "remm@apache.org", "creation_time": "2004-05-18T06:36:57Z", "is_private": false, "attachment_id": null}, {"count": 7, "tags": [], "creator": "remm@apache.org", "is_private": false, "text": "*** Bug 29056 has been marked as a duplicate of this bug. ***", "id": 57630, "time": "2004-05-19T07:25:25Z", "bug_id": 22388, "creation_time": "2004-05-19T07:25:25Z", "attachment_id": null}, {"count": 8, "tags": [], "creator": "funkman@joedog.org", "text": "*** Bug 31462 has been marked as a duplicate of this bug. ***", "id": 64358, "time": "2004-09-29T10:49:11Z", "bug_id": 22388, "creation_time": "2004-09-29T10:49:11Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 22388, "is_private": false, "count": 9, "id": 64917, "time": "2004-10-11T09:56:38Z", "creator": "hauser@acm.org", "creation_time": "2004-10-11T09:56:38Z", "text": "as per Jo\u00e3o and my experience, this still happens with 5.0.28"}, {"count": 10, "tags": [], "bug_id": 22388, "attachment_id": null, "is_private": false, "id": 68492, "time": "2004-12-14T19:21:56Z", "creator": "mark.horstman@att.com", "creation_time": "2004-12-14T19:21:56Z", "text": "I get the same problem on a newly extracted 5.0.28 updated for SSL as discussed\nin  http://jakarta.apache.org/tomcat/tomcat-5.0-doc/ssl-howto.html under Solaris\n2.5.1 with JDK 1.4.2_06 and Solaris 2.8 with JDK 1.4.1_03.  I can work around it\nby disabling JMX support at the top of my server.xml.  Is there another way to\nfix this without losing JMX support?\n"}, {"count": 11, "tags": [], "bug_id": 22388, "text": "I followed the steps in http://issues.apache.org/bugzilla/show_bug.cgi?id=29056\nto replace Tomcat's JMX jar with Sun's JMX 1.2.1 reference implementation. \nWorks like a champ.", "id": 68501, "time": "2004-12-14T20:22:39Z", "creator": "mark.horstman@att.com", "creation_time": "2004-12-14T20:22:39Z", "is_private": false, "attachment_id": null}, {"count": 12, "tags": [], "bug_id": 22388, "attachment_id": null, "is_private": false, "id": 33078, "time": "2005-03-22T16:29:15Z", "creator": "funkman@joedog.org", "creation_time": "2005-03-22T16:29:15Z", "text": "*** Bug 34126 has been marked as a duplicate of this bug. ***"}]