[{"count": 0, "text": "When running Tests with ant an OutOfMemory Error occures when the tests get \nlarger. If the tests were executed separately no error occures. \n\nProviding the vm with more memory had no effect", "bug_id": 27034, "attachment_id": null, "id": 52491, "time": "2004-02-18T16:01:42Z", "creator": "heinz.vanpee@gmx.de", "creation_time": "2004-02-18T16:01:42Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 27034, "attachment_id": null, "is_private": false, "id": 52494, "time": "2004-02-18T16:16:24Z", "creator": "sebb@apache.org", "creation_time": "2004-02-18T16:16:24Z", "text": "I've not used the Ant launcher, but perhaps it starts a separate VM, which is \nnot passed the additional memory parameters? How did you give the extra memory \nto Ant?\n\nI've also not tried this, but you might be able to save some memory by \ntemporarily moving any unused jars out of the lib/ext directory. E.g. if you \nare not using FTP, JDBC, LDAP or TCP, move those elsewhere."}, {"count": 2, "tags": [], "bug_id": 27034, "attachment_id": null, "id": 52496, "creation_time": "2004-02-18T16:31:21Z", "time": "2004-02-18T16:31:21Z", "creator": "heinz.vanpee@gmx.de", "text": "Interestingly the OutOfMemoryError does not occur if i run the more complex \ntests first.", "is_private": false}, {"count": 3, "text": "Another Clue: It seems to me that this bug is connected to the Result file or \nthe handling of it. \nI ran some small tests and encountered the OutOfMemoryError, the Result file \nhad already a size of 11MB from tests that run earlier and i fogot to remove \nthe file. After deleting the file no error occured.", "bug_id": 27034, "attachment_id": null, "id": 52661, "time": "2004-02-20T13:52:06Z", "creator": "heinz.vanpee@gmx.de", "creation_time": "2004-02-20T13:52:06Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "bug_id": 27034, "attachment_id": null, "is_private": false, "id": 52662, "time": "2004-02-20T13:56:35Z", "creator": "sebb@apache.org", "creation_time": "2004-02-20T13:56:35Z", "text": "Was this a CSV result file or an XML file? Might make a difference..."}, {"count": 5, "tags": [], "bug_id": 27034, "attachment_id": null, "is_private": false, "id": 52735, "time": "2004-02-21T16:34:52Z", "creator": "sebb@apache.org", "creation_time": "2004-02-21T16:34:52Z", "text": "Just discovered that saving as CSV creates a new file for each run - even if \nyou do not exit JMeter.\n\nUsing XML as the output format always appends to the output file; furthermore \nthe method currently used is not really designed for large files - that needs \nto be fixed.\n\nThe different CSV behaviour needs to be documented and/or changed ..."}, {"count": 6, "tags": [], "creator": "sebb@apache.org", "attachment_id": null, "id": 52757, "time": "2004-02-22T02:01:27Z", "bug_id": 27034, "creation_time": "2004-02-22T02:01:27Z", "is_private": false, "text": "CSV files are no longer checked for the </testResults> marker, and so are no \nlonger truncated when it is not found...\n\nNow uses Random Access to seek to nearly the end of the file, and start \nsearching from there. When the marker is found, the file is truncated, ready \nfor the new data to be added.\n\nAs the entire file is no longer read into memory, this should fix the Out of \nMemory error...\n\nClosing bug - re-open if further problems found."}, {"count": 7, "tags": [], "creator": "heinz.vanpee@gmx.de", "attachment_id": null, "id": 52782, "time": "2004-02-23T10:01:11Z", "bug_id": 27034, "creation_time": "2004-02-23T10:01:11Z", "is_private": false, "text": "It was an XML file. Have you fixed it for xml too? \nAre there any releases planned in the near future?"}, {"count": 8, "tags": [], "bug_id": 27034, "attachment_id": null, "is_private": false, "id": 52784, "time": "2004-02-23T11:04:07Z", "creator": "sebb@apache.org", "creation_time": "2004-02-23T11:04:07Z", "text": "Yes, I fixed XML file handling by using RandomAccess file.\n\nYes, a new release is planned soon - meanhwile, you may like to try one of the \novernight Gump builds. No guarantees, however, that they will at all...\n\nIn the meantime, just make sure there is no output file before starting a test, \nas this will avoid the memory-greedy scanning."}]