[{"count": 0, "tags": [], "bug_id": 50554, "text": "The method org.apache.naming.java.javaURLContextFactory.getInitialContext(Hashtable<?,?>) has a synchronized block on getClass(). Using getClass() as lock is a bug pattern because if some class subclasses javaURLContextFactory and getInitialContext gets called on an instance of such a subclass, getClass() will return a different Class object for that instance. Locking different objects for different classes is usually not the expected behavior. Therefore, I suggest to remove this bug pattern by simply replacing getClass() by javaURLContextFactory.class.\n\nSee https://www.securecoding.cert.org/confluence/display/java/LCK02-J.+Do+not+synchronize+on+the+class+object+returned+by+getClass%28%29 for more information about this bug pattern.\n\nKeshmesh (https://github.com/reprogrammer/keshmesh/) is an Eclipse plugin that analyzes the source code of Java programs to detect concurrency bug patterns such the one I reported.", "id": 143135, "time": "2011-01-06T14:38:25Z", "creator": "reprogrammer@gmail.com", "creation_time": "2011-01-06T14:38:25Z", "is_private": false, "attachment_id": null}, {"count": 1, "text": "Fixed in 7.0.x and will be included in 7.0.6\n\nThe issue was already reported by FindBugs. I fixed this issue and the handful of other FindBugs and Eclipse warnings in that class.", "bug_id": 50554, "is_private": false, "id": 143167, "time": "2011-01-07T05:32:45Z", "creator": "markt@apache.org", "creation_time": "2011-01-07T05:32:45Z", "tags": [], "attachment_id": null}]