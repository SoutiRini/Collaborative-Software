[{"count": 0, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "text": "Currently, HTTP(S) Test Script Recorder is very permissive when no recording controller is setup.\nDocumentation only mentions Recording Controller possibility but implementation tries to find a node in the following order:\n- Defined / Saved target\n- Recording Controller\n- Thread Group\n- Workbench\n\nThis behaviour is disturbing for many reasons:\n- Created samples can sometime appear where you do not expect them to\n- They can be created in Workbench which is weird as they will not be really usable\n\nI propose to change this behaviour to:\n- Display an error popup on start of proxy if targetNode.getTestElement() is not of type : GenericController or AbstractThreadGroup.\n\nIn fact I think it should be only Recording Controller but this may break existing behaviour.\n\nThoughts ?", "id": 179911, "time": "2014-12-21T14:57:27Z", "bug_id": 57381, "creation_time": "2014-12-21T14:57:27Z", "tags": [], "is_private": false}, {"count": 1, "attachment_id": null, "creator": "p.mouawad@ubik-ingenierie.com", "text": "(In reply to Philippe Mouawad from comment #0)\n> Currently, HTTP(S) Test Script Recorder is very permissive when no recording\n> controller is setup.\n> Documentation only mentions Recording Controller possibility but\n> implementation tries to find a node in the following order:\n> - Defined / Saved target\n> - Recording Controller\n> - Thread Group\n> - Workbench\n> \n> This behaviour is disturbing for many reasons:\n> - Created samples can sometime appear where you do not expect them to\n> - They can be created in Workbench which is weird as they will not be really\n> usable\n> \n> I propose to change this behaviour to:\n> - Display an error popup on start of proxy if targetNode.getTestElement() is\n> not of type : GenericController or AbstractThreadGroup.\n> \n> In fact I think it should be only Recording Controller but this may break\n> existing behaviour.\n> \n> Thoughts ?\n\nI propose to change this behaviour to:\n- Display an error popup on start of proxy if \"Target Controller\" is configured to \"Recording Controller\" and if no \"Recording Controller\" exists\n\nThoughts", "id": 179912, "time": "2014-12-21T15:02:20Z", "bug_id": 57381, "creation_time": "2014-12-21T15:02:20Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "text": "\n\n+1\nThe popup is a good idea.", "is_private": false, "id": 179915, "creator": "milamber@apache.org", "time": "2014-12-21T15:16:32Z", "bug_id": 57381, "creation_time": "2014-12-21T15:16:32Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "Hi JMeter team,\n\nMay be, another IMHO good variant is to remove \"Use recording controller\" from drop-down list e.g. to show user only nodes, which are really present in test-tree(Thread Groups, Controllers, whatever else)?", "is_private": false, "bug_id": 57381, "id": 179921, "time": "2014-12-21T19:41:23Z", "creator": "dzmitry.kashlach@blazemeter.com", "creation_time": "2014-12-21T19:41:23Z", "attachment_id": null}, {"count": 4, "tags": [], "text": "(In reply to Dzmitry Kashlach from comment #3)\n> Hi JMeter team,\n> \n> May be, another IMHO good variant is to remove \"Use recording controller\"\n> from drop-down list e.g. to show user only nodes, which are really present\n> in test-tree(Thread Groups, Controllers, whatever else)?\n\n+1", "attachment_id": null, "id": 179951, "creator": "sebb@apache.org", "time": "2014-12-22T15:20:05Z", "bug_id": 57381, "creation_time": "2014-12-22T15:20:05Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 57381, "attachment_id": null, "is_private": false, "id": 179952, "time": "2014-12-22T15:47:45Z", "creator": "support@ubikloadpack.com", "creation_time": "2014-12-22T15:47:45Z", "text": "-1\nThis method is really helpful specially if you use Recording template.\nChecking popup seems enough.\n\nRegards"}, {"count": 6, "tags": [], "bug_id": 57381, "attachment_id": null, "is_private": false, "id": 179953, "time": "2014-12-22T15:48:02Z", "creator": "support@ubikloadpack.com", "creation_time": "2014-12-22T15:48:02Z", "text": "(In reply to Milamber from comment #2)\n> \n> +1\n> The popup is a good idea.\n\n+1 for this one"}, {"count": 7, "tags": [], "bug_id": 57381, "attachment_id": null, "id": 179954, "time": "2014-12-22T15:54:45Z", "creator": "support@ubikloadpack.com", "creation_time": "2014-12-22T15:54:45Z", "is_private": false, "text": "(In reply to Dzmitry Kashlach from comment #3)\n> Hi JMeter team,\n> \n> May be, another IMHO good variant is to remove \"Use recording controller\"\n> from drop-down list e.g. to show user only nodes, which are really present\n> in test-tree(Thread Groups, Controllers, whatever else)?\n\nHi, another argument why removing it is not a good idea IMHO is bug 57382.\nIf you remove it then when reloading you will need to setup correctly target before using Test Plan, while with \"Use recording controller\", nothing is needed if you have a Recording controller."}, {"count": 8, "tags": [], "bug_id": 57381, "is_private": false, "text": "(In reply to UbikLoadPack support from comment #5)\n> -1\n> This method is really helpful specially if you use Recording template.\n> Checking popup seems enough.\n> \n> Regards\n\nCannot the the recording template can be fixed so that it just works?", "id": 179955, "time": "2014-12-22T16:01:13Z", "creator": "sebb@apache.org", "creation_time": "2014-12-22T16:01:13Z", "attachment_id": null}, {"count": 9, "tags": [], "bug_id": 57381, "text": "(In reply to UbikLoadPack support from comment #7)\n> (In reply to Dzmitry Kashlach from comment #3)\n> > Hi JMeter team,\n> > \n> > May be, another IMHO good variant is to remove \"Use recording controller\"\n> > from drop-down list e.g. to show user only nodes, which are really present\n> > in test-tree(Thread Groups, Controllers, whatever else)?\n> \n> Hi, another argument why removing it is not a good idea IMHO is bug 57382.\n> If you remove it then when reloading you will need to setup correctly target\n> before using Test Plan, while with \"Use recording controller\", nothing is\n> needed if you have a Recording controller.\n\nNot sure I see how Bug 57832 affects this.", "id": 179957, "time": "2014-12-22T16:02:48Z", "creator": "sebb@apache.org", "creation_time": "2014-12-22T16:02:48Z", "is_private": false, "attachment_id": null}, {"count": 10, "attachment_id": null, "creator": "support@ubikloadpack.com", "text": "(In reply to Sebb from comment #9)\n> (In reply to UbikLoadPack support from comment #7)\n> > (In reply to Dzmitry Kashlach from comment #3)\n> > > Hi JMeter team,\n> > > \n> > > May be, another IMHO good variant is to remove \"Use recording controller\"\n> > > from drop-down list e.g. to show user only nodes, which are really present\n> > > in test-tree(Thread Groups, Controllers, whatever else)?\n> > \n> > Hi, another argument why removing it is not a good idea IMHO is bug 57382.\n> > If you remove it then when reloading you will need to setup correctly target\n> > before using Test Plan, while with \"Use recording controller\", nothing is\n> > needed if you have a Recording controller.\n> \n> Not sure I see how Bug 57832 affects this.\n\nWell if you remove \"Use Recording Controller\", then it means you rely on user setting the target controller explicitely right ?\nSo if he does, he saves his plans and reloads it later, due to bug the setting is forgotten and it now records not where user wanted it to record but as per the result of ProxyControl#findTargetControllerNode\n\nSo you have lost productivity with this change.\n\nRegarding \"Cannot the the recording template can be fixed so that it just works?\" ? No you need to fix 57832 before.\n\nRegards", "id": 179958, "time": "2014-12-22T16:07:36Z", "bug_id": 57381, "creation_time": "2014-12-22T16:07:36Z", "tags": [], "is_private": false}, {"count": 11, "tags": [], "text": "(In reply to UbikLoadPack support from comment #10)\n> (In reply to Sebb from comment #9)\n> > (In reply to UbikLoadPack support from comment #7)\n> > > (In reply to Dzmitry Kashlach from comment #3)\n> > > > Hi JMeter team,\n> > > > \n> > > > May be, another IMHO good variant is to remove \"Use recording controller\"\n> > > > from drop-down list e.g. to show user only nodes, which are really present\n> > > > in test-tree(Thread Groups, Controllers, whatever else)?\n> > > \n> > > Hi, another argument why removing it is not a good idea IMHO is bug 57382.\n> > > If you remove it then when reloading you will need to setup correctly target\n> > > before using Test Plan, while with \"Use recording controller\", nothing is\n> > > needed if you have a Recording controller.\n> > \n> > Not sure I see how Bug 57832 affects this.\n> \n> Well if you remove \"Use Recording Controller\", then it means you rely on\n> user setting the target controller explicitely right ?\n\nYes.\n\n> So if he does, he saves his plans and reloads it later, due to bug the\n> setting is forgotten and it now records not where user wanted it to record\n> but as per the result of ProxyControl#findTargetControllerNode\n> \n> So you have lost productivity with this change.\n\nNot if bug 57832 has been fixed, surely?\n \n> Regarding \"Cannot the the recording template can be fixed so that it just\n> works?\" ? No you need to fix 57832 before.\n\nFine, let's fix 57832.\n \n> Regards", "attachment_id": null, "id": 179960, "creator": "sebb@apache.org", "time": "2014-12-22T16:20:32Z", "bug_id": 57381, "creation_time": "2014-12-22T16:20:32Z", "is_private": false}, {"count": 12, "attachment_id": null, "creator": "support@ubikloadpack.com", "text": "(In reply to Sebb from comment #11)\n> (In reply to UbikLoadPack support from comment #10)\n> > (In reply to Sebb from comment #9)\n> > > (In reply to UbikLoadPack support from comment #7)\n> > > > (In reply to Dzmitry Kashlach from comment #3)\n> > > > > Hi JMeter team,\n> > > > > \n> > > > > May be, another IMHO good variant is to remove \"Use recording controller\"\n> > > > > from drop-down list e.g. to show user only nodes, which are really present\n> > > > > in test-tree(Thread Groups, Controllers, whatever else)?\n> > > > \n> > > > Hi, another argument why removing it is not a good idea IMHO is bug 57382.\n> > > > If you remove it then when reloading you will need to setup correctly target\n> > > > before using Test Plan, while with \"Use recording controller\", nothing is\n> > > > needed if you have a Recording controller.\n> > > \n> > > Not sure I see how Bug 57832 affects this.\n> > \n> > Well if you remove \"Use Recording Controller\", then it means you rely on\n> > user setting the target controller explicitely right ?\n> \n> Yes.\n> \n> > So if he does, he saves his plans and reloads it later, due to bug the\n> > setting is forgotten and it now records not where user wanted it to record\n> > but as per the result of ProxyControl#findTargetControllerNode\n> > \n> > So you have lost productivity with this change.\n> \n> Not if bug 57832 has been fixed, surely?\n>  \n> > Regarding \"Cannot the the recording template can be fixed so that it just\n> > works?\" ? No you need to fix 57832 before.\n> \n> Fine, let's fix 57832.\n>  \n> > Regards\n\n\nOk, note that as users we would prefer \"Use Recording Controller\" to stay.", "id": 179961, "time": "2014-12-22T16:22:24Z", "bug_id": 57381, "creation_time": "2014-12-22T16:22:24Z", "tags": [], "is_private": false}, {"count": 13, "tags": [], "bug_id": 57381, "text": "(In reply to UbikLoadPack support from comment #12)\n\n> Ok, note that as users we would prefer \"Use Recording Controller\" to stay.\n\nWhy is it still necessary (assuming 57832 is fixed)?\n\nIt seems wrong to me to have a drop-down entry which refers to a non-existent controller.", "id": 179962, "time": "2014-12-22T16:37:25Z", "creator": "sebb@apache.org", "creation_time": "2014-12-22T16:37:25Z", "is_private": false, "attachment_id": null}, {"count": 14, "tags": [], "text": "(In reply to Sebb from comment #13)\n> (In reply to UbikLoadPack support from comment #12)\n> \n> > Ok, note that as users we would prefer \"Use Recording Controller\" to stay.\n> \n> Why is it still necessary (assuming 57832 is fixed)?\n> \n> It seems wrong to me to have a drop-down entry which refers to a\n> non-existent controller.\n\nIt is more of a conceptual Target saying Use Recording controller located somewhere in test plan. By implementing the popup check it would allow to leave this feature retaining backward compatibility.", "is_private": false, "id": 179963, "creator": "support@ubikloadpack.com", "time": "2014-12-22T16:55:32Z", "bug_id": 57381, "creation_time": "2014-12-22T16:55:32Z", "attachment_id": null}, {"count": 15, "tags": [], "bug_id": 57381, "attachment_id": null, "id": 179965, "time": "2014-12-22T17:12:41Z", "creator": "sebb@apache.org", "creation_time": "2014-12-22T17:12:41Z", "is_private": false, "text": "(In reply to UbikLoadPack support from comment #14)\n> (In reply to Sebb from comment #13)\n> > (In reply to UbikLoadPack support from comment #12)\n> > \n> > > Ok, note that as users we would prefer \"Use Recording Controller\" to stay.\n> > \n> > Why is it still necessary (assuming 57832 is fixed)?\n> > \n> > It seems wrong to me to have a drop-down entry which refers to a\n> > non-existent controller.\n> \n> It is more of a conceptual Target saying Use Recording controller located\n> somewhere in test plan. By implementing the popup check it would allow to\n> leave this feature retaining backward compatibility.\n\nIf I understand the pop-up proposal correctly, it would prevent the user from running the test plan. So it would not retain compatibility.\n\nHowever maybe the intention is for the pop-up to be a Warning (rather than an Error).\n\nBut I'm not sure how useful it is to retain the existing behaviour, as it is rather unexpected."}, {"count": 16, "tags": [], "creator": "support@ubikloadpack.com", "text": "Created attachment 32330\nPatch implementing feature", "id": 180017, "time": "2014-12-24T14:30:15Z", "bug_id": 57381, "creation_time": "2014-12-24T14:30:15Z", "is_private": false, "attachment_id": 32330}, {"count": 17, "tags": [], "bug_id": 57381, "text": "Date: Sat Dec 27 15:22:01 2014\nNew Revision: 1648056\n\nURL: http://svn.apache.org/r1648056\nLog:\nBug 57381 - HTTP(S) Test Script Recorder should display an error if Target Controller references a Recording Controller and no Recording Controller exists\nBugzilla Id: 57381\n\nModified:\n    jmeter/trunk/src/components/org/apache/jmeter/control/gui/TreeNodeWrapper.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/ProxyControl.java\n    jmeter/trunk/src/protocol/http/org/apache/jmeter/protocol/http/proxy/gui/ProxyControlGui.java\n    jmeter/trunk/xdocs/changes.xml", "id": 180035, "time": "2014-12-27T15:22:34Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-12-27T15:22:34Z", "is_private": false, "attachment_id": null}, {"count": 18, "tags": [], "bug_id": 57381, "text": "Thanks for patch", "id": 180036, "time": "2014-12-27T15:22:44Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2014-12-27T15:22:44Z", "is_private": false, "attachment_id": null}, {"count": 19, "tags": [], "text": "Date: Sat Dec 27 16:01:49 2014\nNew Revision: 1648060\n\nURL: http://svn.apache.org/r1648060\nLog:\nBug 57381 - HTTP(S) Test Script Recorder should display an error if Target Controller references a Recording Controller and no Recording Controller exists\nOups forgot i18n\nBugzilla Id: 57381\n\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages.properties\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages_fr.properties", "is_private": false, "id": 180037, "creator": "p.mouawad@ubik-ingenierie.com", "time": "2014-12-27T16:02:38Z", "bug_id": 57381, "creation_time": "2014-12-27T16:02:38Z", "attachment_id": null}]