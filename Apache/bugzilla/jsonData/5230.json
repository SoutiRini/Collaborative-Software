[{"count": 0, "tags": [], "bug_id": 5230, "is_private": false, "text": "The SignJar task doesn't take into account the base directory specified in a \nfileset. Here is an example: \n\n    <signjar keystore=\"myKeystore\" alias=\"myself\" storepass=\"password\">\n        <fileset dir=\"myDir\" includes=\"*.jar\"/>\n    </signjar>\n\nThe fileset will find all the files ending with .jar under myDir but the \nrelative path (from myDir) is passed to the doOneJar() method rather than the \nfull path i.e. myDir/<relative path to jar file>. As a result signjar is trying \nto sign a jar file from the current directory using the relative path to the \njar file found: \n\n    > signjar <relative path to jar file>\n\nand this lead to the following error:\n\n    > signjar: cannot sign jar file: <relative path to jar file>\n\nTo fix this problem, lines 178-180 in SignJar.java:\n\n    for(int j=0; j<jarFiles.length; j++) {\n        doOneJar(jarFiles[j], null);\n    }\n\nMust be changed to:\n\n    File fromDir = fs.getDir(project);\n    for(int j=0; j<jarFiles.length; j++) {   \n        File jarFile = new File(fromDir, jarFiles[j]);\n        doOneJar(jarFile.toString(), null);\n    }\n\nHope this helps,\n\nMartin.", "id": 8516, "time": "2001-12-02T16:05:31Z", "creator": "mleclerc@accelight.com", "creation_time": "2001-12-02T16:05:31Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 5230, "attachment_id": null, "is_private": false, "id": 13159, "time": "2002-04-10T08:39:47Z", "creator": "donaldp@apache.org", "creation_time": "2002-04-10T08:39:47Z", "text": "Fixed sometime before CVS 1.17 of SignJar.\n\nThanks for the bug report.\n"}]