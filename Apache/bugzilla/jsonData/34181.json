[{"count": 0, "tags": [], "creator": "klevie@sp.nl", "text": "I encountered the following settings limitation in mod_include in Apache 1.3.33\n- but I noted that the same is the case in Apache 2.\n\nWith 'Options Includes' enabled, it is possible to use both <!--#include\nvirtual...--> and <!--#exec...--> to execute CGI scripts.\nHowever, the use of include virtual is limited to the scope of the virtualhost,\nwhereas <!--#exec--> can execute programs from the entire system, such as 'ls'\nor 'perl'.\n\nIt is possible to set IncludesNoExec, but this disables both the exec command\nand CGI includes using <!--#include virtual-->.\nCGI script (or in my case, PHP script) execution then is still possible using\nthe ScriptAlias directive, but this means that scripts can only be placed in a\nscriptaliased directory.\n\nIn short: I would like to be able to include CGI scripts from *any* dir in a\nvirtualhost using SSI, but prevent people from executing scripts or programs\noutside of their virtualhost.\nIf I'm not mistaken, there is currently no way to set this. Might be a good idea\nto create a \"IncludesExecInVhostOnly\" option or something?", "id": 72864, "time": "2005-03-25T18:41:58Z", "bug_id": 34181, "creation_time": "2005-03-25T18:41:58Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "klevie@sp.nl", "text": "Update & what I found out myself: \nIn Apache 2 it is possible to use the following in httpd.conf:\n\nAddHandler php-script .php\nAddType text/html .php\n\nIn Apache 1.3, the mime type must be set to application/x-httpd-php for php\nscripts to execute as the 1.3 compatible module doesn't allow the AddHandler\nphp-script syntax.\nmod_include.c only allows files of type text/... when IncludesNoExec is set, though.\n\nFor my own config, I added a check for the php content type in handle_include in\nmod_include.c (strncmp(rr->content_type, \"application/x-httpd-php\"...)\n\nThis is by no means a crucial problem, but it would be nice to have a config\noption that controls which file types can be 'executed' when IncludesNoExec is\nenabled.", "id": 72946, "time": "2005-03-29T01:36:01Z", "bug_id": 34181, "creation_time": "2005-03-29T01:36:01Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 34181, "attachment_id": null, "text": "php issue", "id": 106196, "time": "2007-08-02T12:55:45Z", "creator": "jim@apache.org", "creation_time": "2007-08-02T12:55:45Z", "is_private": false}]