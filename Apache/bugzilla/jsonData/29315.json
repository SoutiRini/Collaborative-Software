[{"count": 0, "tags": [], "creator": "ivj@comcast.net", "text": "This is buggin the hell out of me.  I have junit.jar in my ANT_HOME/lib, and \nthe following works JUST FINE:\n\n<target name=\"Run Tests\">\n\t\t\n\t\t<junit timeout=\"10000\" printsummary=\"yes\">\n\t\t\t<batchtest>\n\t\t\t\t<fileset dir=\"${web.root}/WEB-\nINF/classes/test\"/>\n\t\t\t</batchtest>\n\t\t</junit>\n\t\t\n\t</target>\n\n(although it does say that my tests gave erros even though I have only 1 empty \ntest() method)...\n\nAs soon as I try to insert \n\t\t<formatter type=\"brief\"/>\n\nint <junit>, I get the following:\n\nBUILD FAILED: C:\\Documents and Settings\\SysOp\\My Documents\\AB LOGIC\\Eclipse \nWorkspace\\abLogic\\build.xml:78: Could not create task or type of type: \nformatter.\n\nAnt could not find the task or a class this task relies upon.\n\nThis is common and has a number of causes; the usual \nsolutions are to read the manual pages then download and\ninstall needed JAR files, or fix the build file: \n - You have misspelt 'formatter'.\n   Fix: check your spelling.\n - The task needs an external JAR file to execute\n   and this is not found at the right place in the classpath.\n   Fix: check the documentation for dependencies.\n   Fix: declare the task.\n - The task is an Ant optional task and optional.jar is absent\n   Fix: look for optional.jar in ANT_HOME/lib, download if needed\n - The task was not built into optional.jar as dependent\n   libraries were not found at build time.\n   Fix: look in the JAR to verify, then rebuild with the needed\n   libraries, or download a release version from apache.org\n - The build file was written for a later version of Ant\n   Fix: upgrade to at least the latest release version of Ant\n - The task is not an Ant core or optional task \n   and needs to be declared using <taskdef>.\n\nRemember that for JAR files to be visible to Ant tasks implemented\nin ANT_HOME/lib, the files must be in the same directory or on the\nclasspath\n\nPlease neither file bug reports on this problem, nor email the\nAnt mailing lists, until all of these causes have been explored,\nas this is not an Ant bug.\n\n\n\nI searched over entire internet and couldn't find the answer.  I use the \nlatest version of ant, I tried switching ant home, nothing helps.  I have no \nidea what's causing this...\n\nAlso, same goes for <classpath refid=\"project.class.path\"/> task - if I try to \ninsert it in <javac>, it works just fine, but it gives me the same damn error \nin <junit>...  RRRR", "id": 58439, "time": "2004-06-01T05:00:43Z", "bug_id": 29315, "creation_time": "2004-06-01T05:00:43Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "jakarta@ehatchersolutions.com", "text": "You are not providing what your error-generating <junit> looks like, but <formatter> is a sub-element \nto <junit>.  It is not a \"task\".   Ant's documentation provides examples that you could copy/paste: http:\n//ant.apache.org/manual/OptionalTasks/junit.html\n\nI'm marking this bug as INVALID - formatter and classpath both most certainly work as they should.", "id": 58443, "time": "2004-06-01T09:13:38Z", "bug_id": 29315, "creation_time": "2004-06-01T09:13:38Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "ivj@comcast.net", "attachment_id": null, "id": 58482, "time": "2004-06-01T18:37:36Z", "bug_id": 29315, "creation_time": "2004-06-01T18:37:36Z", "is_private": false, "text": "What do you mean I am not providing the code?\n\nWhat the hell is this:\n\n\"<target name=\"Run Tests\">\n\n\t\t<formatter type=\"brief\"/>\n\n\t\t<junit timeout=\"10000\" printsummary=\"yes\">\n\t\t\t<batchtest>\n\t\t\t\t<fileset dir=\"${web.root}/WEB-\nINF/classes/test\"/>\n\t\t\t</batchtest>\n\t\t</junit>\n\t\t\n\t</target>\n\"\n\nI know that formatter is a sub-element to junit, sorry for using \"task\".\n\nI did copy-paste ant's documentation and it doesn't work (at least not for me).\n\nJunit works for me but formatter doesn't and that's the problem.  WHy doesn't \nit work?"}, {"attachment_id": null, "tags": [], "bug_id": 29315, "text": "Just thought I'd point out that getting \"snippy\" most likely won't do a whole \nhelluva lot for you...\n\nBut anyway...", "count": 3, "id": 58486, "time": "2004-06-01T18:45:20Z", "creator": "mbenson@apache.org", "creation_time": "2004-06-01T18:45:20Z", "is_private": false}, {"count": 4, "tags": [], "creator": "jakarta@ehatchersolutions.com", "text": "<formatter> belongs *inside* <junit>, not outside.  Again I refer you to the documentation which has \nexamples which you could copy/paste.", "id": 58496, "time": "2004-06-01T19:24:01Z", "bug_id": 29315, "creation_time": "2004-06-01T19:24:01Z", "is_private": false, "attachment_id": null}, {"count": 5, "tags": [], "creator": "ivj@comcast.net", "text": "Sorry I didn't copy the code correctly.  Here's a quote from ANT's manual:\n\n<junit printsummary=\"yes\" fork=\"yes\" haltonfailure=\"yes\">\n  <formatter type=\"plain\"/>\n  <test name=\"my.test.TestCase\"/>\n</junit>\n\nIf I run that, I get the problem telling me that \"Ant couldn't find formatter\".\n\nHowever, if I REMOVE the line with the <formatter>, everything runs just fine.", "id": 58500, "time": "2004-06-01T20:14:39Z", "bug_id": 29315, "creation_time": "2004-06-01T20:14:39Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "creator": "jakarta@ehatchersolutions.com", "attachment_id": null, "id": 58502, "time": "2004-06-01T20:49:23Z", "bug_id": 29315, "creation_time": "2004-06-01T20:49:23Z", "is_private": false, "text": "What does \"ant -diagnostics\" tell you?  Perhaps you have a missing dependency?   Both \"brief\" and \n\"plain\" work fine with my installation of Ant.  I suspect configuration issues.  I'll leave it open this time :)"}, {"count": 7, "tags": [], "creator": "ivj@comcast.net", "text": "Well looks like this time I'll be closing it :)\n\nTurns out it was my fault after all.  Don't even ask.  Having 2 files named \nbuild.xml and build1.xml with identical tasks is them yields no good :)\n\nSorry about the fuzz guys, thanks for keeping it cool though.", "id": 58505, "time": "2004-06-01T21:01:06Z", "bug_id": 29315, "creation_time": "2004-06-01T21:01:06Z", "is_private": false, "attachment_id": null}]