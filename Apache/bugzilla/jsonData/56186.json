[{"count": 0, "attachment_id": null, "creator": "liushangkun520@hotmail.com", "text": "hi, i have a project that using maven to compile it.\n\nand there is a dependency like this : \n<dependency>\n\t<groupId>javax.websocket</groupId>\n\t<artifactId>javax.websocket-api</artifactId>\n\t<version>1.0</version>\n</dependency>\n\nafter packing with a war file, the javax.websocket-api.jar also in the war \n\nwell, i am debugged tomcat7.0.52 with the class : org.apache.tomcat.websocket.server.WsSci  \nline at 94:  \nif (ServerApplicationConfig.class.isAssignableFrom(clazz)) {\n                    serverApplicationConfigs.add(\n                            (ServerApplicationConfig) clazz.newInstance());\n                }\n\nthis check is never return true case ServerApplicationConfig's classloader is WebappClassLoader i guess.. \n\ni changed pom.xml like this:\n<dependency>\n\t<groupId>javax.websocket</groupId>\n\t<artifactId>javax.websocket-api</artifactId>\n\t<version>1.0</version>\n        <scope>provided</scope>\n</dependency>\n\nafter packing with a war file and run again ...  \nServerApplicationConfig.class.isAssignableFrom(clazz) return true , \n\nso my custom ServerApplicationConfig can be loaded ...", "id": 173464, "time": "2014-02-25T09:40:41Z", "bug_id": 56186, "creation_time": "2014-02-25T09:40:41Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 56186, "attachment_id": null, "id": 173465, "time": "2014-02-25T10:43:28Z", "creator": "markt@apache.org", "creation_time": "2014-02-25T10:43:28Z", "is_private": false, "text": "You can't package the API with the WAR and then expect to be able to pick up the implementation from the container since the implementation will never be able to see the API classes."}]