[{"count": 0, "tags": [], "bug_id": 2893, "attachment_id": null, "is_private": false, "id": 4135, "time": "2001-07-30T08:07:27Z", "creator": "bo.regnlin@pc.nu", "creation_time": "2001-07-30T08:07:27Z", "text": "When I use the Gui and try to open or save via a rightclick on a node in the \ntree and then enter cancel the popup sometimes is still visable.\nI have found out why and its due to the fact that in the code you need to \nrepaint the frame after a popup is shown.\nSe my exampel that I have tried and it seems to do the work.\n\nIn file org.apache.jmeter.gui.action.Load.java look for <new code>\n\npublic void doAction(ActionEvent e)\n\t{\n\t\tJFileChooser chooser = FileDialoger.promptToOpenFile();\n\t\tFileInputStream reader = null;\n\t\ttry {\n\t\t\t File f = chooser.getSelectedFile();\n\t\t\t if (f!=null) {\n\t\t\treader = new FileInputStream(f);\n\t\t\tXmlHandler handler =\n\t\t\t\t new XmlHandler(new JMeterNameSpaceHandler());\n\t\t\tXMLReader parser = JMeterUtils.getXMLParser();\n\t\t\tparser.setContentHandler(handler);\n\t\t\tparser.setErrorHandler(handler);\n\t\t\tparser.parse(new InputSource(reader));\n\t\t\tListedHashTree tree = handler.getDataTree();\n\t\t\tGuiPackage.getInstance().addSubTree(handler.getDataTree\n());\n\t\t\t }\n\t\t}\n\t\tcatch (Throwable ex) {\n\t\t\tex.printStackTrace();\n\t//<new code>\t}\n    finally\n    {\n      GuiPackage.getInstance().getMainFrame().repaint();\n    }\n      //</new code>\n\t}\n\nAnd in file org.apache.jmeter.gui.action.Save.java\n\npublic void doAction(ActionEvent e) {\n\t\tJMeterComponentModel model = GuiPackage.getInstance\n().getCurrentModel();\n\t\tif (model instanceof Saveable) {\n\t\t\tJFileChooser chooser = FileDialoger.promptToSaveFile\n(model.getName() + \".jmx\");\n\t\t\tFileWriter writer = null;\n\t\t\ttry {\n\t\t\t\twriter = new FileWriter(chooser.getSelectedFile\n());\n\t\t\t\tTagHandler handler = (TagHandler) ((Saveable) \nmodel).getTagHandlerClass().newInstance();\n\t\t\t\thandler.startSave(writer);\n\t\t\t\thandler.save((Saveable) model, writer);\n\t\t\t}\n\t\t\tcatch (Throwable ex) {\n\t\t\t\tex.printStackTrace();\n\t\t\t}\n\t\t\tfinally {\n\t\t\t\tcloseWriter(writer);\n        //<new code>\n        GuiPackage.getInstance().getMainFrame().repaint();\n        //</new code>\n\t\t\t}\n\t\t}\n\t}"}, {"count": 1, "tags": [], "text": "Marking all bugs RESOLVED before JMeter 1.8's release date as VERIFIED.\nYes, it's pretty poor QA procedure, but there's bugs here lingering since JMeter\n1.6, and we need to clean up a little.", "is_private": false, "id": 28434, "creator": "jsalvata@atg.com", "time": "2002-12-27T16:18:30Z", "bug_id": 2893, "creation_time": "2002-12-27T16:18:30Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 2893, "attachment_id": null, "id": 28656, "time": "2002-12-29T14:23:40Z", "creator": "jsalvata@atg.com", "creation_time": "2002-12-29T14:23:40Z", "is_private": false, "text": "Bulk-closing all bugs RESOLVED before JMeter 1.8 release date."}]