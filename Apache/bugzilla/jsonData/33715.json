[{"count": 0, "tags": [], "text": "When JSP page uses the isErrorPage=\"true\" directive the following code is added \nto the servlet:\n\n    Throwable exception = \norg.apache.jasper.runtime.JspRuntimeLibrary.getThrowable(request);\n    if (exception != null) {\n      response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n    }\n\nThis cause the response to have a status code of 500, Internal Server Error.  \nWhen Internet Explorer (tested on 5.5 on Windows 2000 SP4) receives a 500 \nstauts it displays it's own error page and does not display the correct JSP \nerror page.  This causes the JSP isErrorPage=\"true\" directive to be useless \nsince the actual page cannot be viewed in Internet Explorer.\n\nTo workaround, I created an error page that does not use the isErrorPage=\"true\" \ndirective rather declares the exception and gets it from the session inside the \npage body.  The JSP specification does not specify that a 500 status should be \nreturned in the event of request-time errors using JSP error pages.", "is_private": false, "id": 71417, "creator": "bgaydek@umich.edu", "time": "2005-02-23T21:49:57Z", "bug_id": 33715, "creation_time": "2005-02-23T21:49:57Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "jan.luehe@sun.com", "attachment_id": null, "is_private": false, "id": 71444, "time": "2005-02-24T00:14:29Z", "bug_id": 33715, "creation_time": "2005-02-24T00:14:29Z", "text": "This is one of the clarifications of the JSP spec targeted for JSP 2.1,\nsee https://jsp-spec-public.dev.java.net/issues/show_bug.cgi?id=41 for details."}, {"count": 2, "tags": [], "text": "More input from Satish Duggana <satish@pramati.com>:\n\n    If you create an error page that's too small, Microsoft Internet Explorer will\n    display its own error page that includes a link to the MSN network search engine\n     rather than your own custom error page.\n     one should make sure that error pages must have sufficient length to be at\nleast 512 bytes. \n     \n    status code  -- length of the message\n     400              > 512 bytes\n     403              > 256 bytes\n     404              > 512 bytes\n     405              > 256 bytes\n     406              > 512 bytes\n     408              > 512 bytes\n     409              > 512 bytes\n     410              > 256 bytes\n     500              > 512 bytes\n     501              > 512 bytes\n     505              > 512 bytes ", "attachment_id": null, "id": 71645, "creation_time": "2005-02-28T22:56:22Z", "time": "2005-02-28T22:56:22Z", "creator": "jan.luehe@sun.com", "bug_id": 33715, "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 33715, "text": "Per Jan's comments, closing.", "count": 3, "id": 72173, "time": "2005-03-11T04:20:48Z", "creator": "yoavs@computer.org", "creation_time": "2005-03-11T04:20:48Z", "is_private": false}, {"count": 4, "tags": [], "text": "(In reply to comment #0)\n> When JSP page uses the isErrorPage=\"true\" directive the following code is added \n> to the servlet:\n>     Throwable exception = \n> org.apache.jasper.runtime.JspRuntimeLibrary.getThrowable(request);\n>     if (exception != null) {\n>       response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n>     }\n> This cause the response to have a status code of 500, Internal Server Error.  \n> When Internet Explorer (tested on 5.5 on Windows 2000 SP4) receives a 500 \n> stauts it displays it's own error page and does not display the correct JSP \n> error page.  This causes the JSP isErrorPage=\"true\" directive to be useless \n> since the actual page cannot be viewed in Internet Explorer.\n> To workaround, I created an error page that does not use the isErrorPage=\"true\" \n> directive rather declares the exception and gets it from the session inside the \n> page body.  The JSP specification does not specify that a 500 status should be \n> returned in the event of request-time errors using JSP error pages.\n\nCan you give a sample of the code that you used in the workaround?", "is_private": false, "id": 124718, "creation_time": "2009-02-08T15:36:57Z", "time": "2009-02-08T15:36:57Z", "creator": "d.lefkovitz@temple.edu", "bug_id": 33715, "attachment_id": null}, {"count": 5, "tags": [], "text": "To workaround, I combined the normal response page and the error page into one page, without the isErrorPage=\"true\" directive.  To get the exception in the non-error page version, I believe that I used the following code (it's been a while):\n\nThrowable e = org.apache.jasper.runtime.JspRuntimeLibrary.getThrowable(request);", "attachment_id": null, "bug_id": 33715, "id": 124792, "time": "2009-02-11T22:51:24Z", "creator": "bgaydek@umich.edu", "creation_time": "2009-02-11T22:51:24Z", "is_private": false}]