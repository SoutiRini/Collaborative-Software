[{"count": 0, "tags": [], "text": "Summary:\n  The child process segfaults with a \"Re-negotiation verification step failed\"\nhandling an SSL connection with a per-directory SSL configuration.\n\nConfiguration:\n  System: RedHat v9 (2.4.28 kernel), 1.3GHz Intel Celeron, 512MB RAM.\n  Apache:\n\nCFLAGS=\"-O2\"; export CFLAGS; ./configure --prefix=/usr/local/apache\n--with-mpm=worker --enable-so --enable-deflate --enable-cgi\n--enable-mods-shared=all --with-z=../zlib-1.2.2 --enable-ssl\n--with-ssl=../openssl-0.9.7g\n\nServer version: Apache/2.0.54\nServer built:   May 10 2005 22:31:11\nServer's Module Magic Number: 20020903:9\nArchitecture:   32-bit\nServer compiled with....\n -D APACHE_MPM_DIR=\"server/mpm/worker\"\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)\n -D APR_USE_SYSVSEM_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D HTTPD_ROOT=\"/usr/local/apache\"\n -D SUEXEC_BIN=\"/usr/local/apache/bin/suexec\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D AP_TYPES_CONFIG_FILE=\"conf/mime.types\"\n -D SERVER_CONFIG_FILE=\"conf/httpd.conf\"\n\nConfiguration:\n ssl.conf\n\n<Directory \"/home/www/internal\">\n  SSLCACertificatePath /usr/local/ssl/certs\n  SSLCACertificateFile /usr/local/ssl/certs/ThawteServerCA.cer\n\n  SSLVerifyClient require\n  SSLVerifyDepth 5\n  SSLOptions +FakeBasicAuth +StdEnvVars +OptRenegotiate\n\n  SSLCipherSuite ALL:!RC4\n  SSLRequire %{SSL_CIPHER_USEKEYSIZE} >= 168\n\n  Options ExecCGI\n\n  AuthType Basic\n  AuthName \"Restricted Website\"\n  AuthUserFile \"/home/http/passwd\"\n  require valid-user\n</Directory>\n\nDetails:\n  The problem seems to revolve around the use of +OptRenegotiate; however, if\nthe option is left off, we get an \"SSL Re-negotiation in conjunction with POST\nmethod not supported! hint: try SSLOptions +OptRenegotiate\" message.", "attachment_id": null, "bug_id": 34877, "id": 74751, "time": "2005-05-11T22:44:43Z", "creator": "w.peter.howell@meccahosting.com", "creation_time": "2005-05-11T22:44:43Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 34877, "attachment_id": null, "id": 74771, "time": "2005-05-12T08:47:00Z", "creator": "jorton@redhat.com", "creation_time": "2005-05-12T08:47:00Z", "is_private": false, "text": "Can you get a backtrace, or a core dump?\n\nPlease add \"CoreDumpDirectory /tmp\" to your configuration.  When a core dump\nappears in /tmp, use:\n\n  # gdb /path/to/httpd /tmp/core.<pid>\n  ...\n  (gdb) backtrace full\n\nand add the output of the backtrace command here."}, {"count": 2, "tags": [], "text": "No feedback; assuming this is now moot.", "is_private": false, "bug_id": 34877, "id": 123520, "time": "2008-12-26T10:22:05Z", "creator": "nick@webthing.com", "creation_time": "2008-12-26T10:22:05Z", "attachment_id": null}]