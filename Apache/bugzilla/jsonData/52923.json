[{"count": 0, "tags": [], "bug_id": 52923, "is_private": false, "text": "Created attachment 28476\nZIP containing diff, Example test, build.xml for reproduction\n\nSince ant 1.8.2, the junit task runs JUnit4 tests with annotation @RunWith as JUnit3 test if test is derived from junit.framework.TestCase. Tests like that are not uncommon during migration from JUnit3 to JUnit4. The bug did not occur in ant 1.8.1 and is still present in ant 1.8.3.\n\nThe reason is that class JUnitTestRunner has been changed to use JUnit3 if the test extends junit.framework.TestCase (while not taking into account any @RunWith annotation.)\n\nI propose the attached patch of JUnitTestRunner (diff -u) which detects any RunWith annotation and switches to JUnit4 if present. I also attach an Example test and a build.xml to simplify reproduction.", "id": 154956, "time": "2012-03-15T21:14:47Z", "creator": "staxd@web.de", "creation_time": "2012-03-15T21:14:47Z", "attachment_id": 28476}]