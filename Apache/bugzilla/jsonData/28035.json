[{"count": 0, "tags": [], "bug_id": 28035, "attachment_id": null, "is_private": false, "id": 54842, "time": "2004-03-30T01:11:21Z", "creator": "tonny@kiyut.com", "creation_time": "2004-03-30T01:11:21Z", "text": "I found that batik generate default attribute value for certain element is\ninvalid against the DTD.\nFor example in ImageElement batik generate default value attribute is\nxlink:show=\"replace\" where the DTD says it must be xlink:show=\"embed\". This will\nbecome problem because the SVG DOM generate by batik is not valid against the DTD.\n\nIs it bug?\n\nHowever, I think the fix is quite simple, just replace the AttributeInitializer\nof the problem element with the value valid from the DTD. Here I provide the\nlist of problem element with valid DTD value. see below. I also include the\nsnipset of the DTD for quick reference (it is SVG 1.1 DTD though not 1.0)\n\n<!ENTITY % SVG.XLink.attrib\n    \"%XLINK.xmlns.attrib;\n     %XLINK.pfx;type ( simple ) #FIXED 'simple'\n     %XLINK.pfx;href %URI.datatype; #IMPLIED\n     %XLINK.pfx;role %URI.datatype; #IMPLIED\n     %XLINK.pfx;arcrole %URI.datatype; #IMPLIED\n     %XLINK.pfx;title CDATA #IMPLIED\n     %XLINK.pfx;show ( other ) 'other'\n     %XLINK.pfx;actuate ( onLoad ) #FIXED 'onLoad'\n     %SVG.XLink.extra.attrib;\"\n>\n\n<!ENTITY % SVG.XLinkRequired.attrib\n    \"%XLINK.xmlns.attrib;\n     %XLINK.pfx;type ( simple ) #FIXED 'simple'\n     %XLINK.pfx;href %URI.datatype; #REQUIRED\n     %XLINK.pfx;role %URI.datatype; #IMPLIED\n     %XLINK.pfx;arcrole %URI.datatype; #IMPLIED\n     %XLINK.pfx;title CDATA #IMPLIED\n     %XLINK.pfx;show ( other ) 'other'\n     %XLINK.pfx;actuate ( onLoad ) #FIXED 'onLoad'\n     %SVG.XLinkRequired.extra.attrib;\"\n>\n\n<!ENTITY % SVG.XLinkEmbed.attrib\n    \"%XLINK.xmlns.attrib;\n     %XLINK.pfx;type ( simple ) #FIXED 'simple'\n     %XLINK.pfx;href %URI.datatype; #REQUIRED\n     %XLINK.pfx;role %URI.datatype; #IMPLIED\n     %XLINK.pfx;arcrole %URI.datatype; #IMPLIED\n     %XLINK.pfx;title CDATA #IMPLIED\n     %XLINK.pfx;show ( embed ) 'embed'\n     %XLINK.pfx;actuate ( onLoad ) #FIXED 'onLoad'\n     %SVG.XLinkEmbed.extra.attrib;\"\n>\n\n<!ENTITY % SVG.XLinkReplace.attrib\n    \"%XLINK.xmlns.attrib;\n     %XLINK.pfx;type ( simple ) #FIXED 'simple'\n     %XLINK.pfx;href %URI.datatype; #REQUIRED\n     %XLINK.pfx;role %URI.datatype; #IMPLIED\n     %XLINK.pfx;arcrole %URI.datatype; #IMPLIED\n     %XLINK.pfx;title CDATA #IMPLIED\n     %XLINK.pfx;show ( new | replace ) 'replace'\n     %XLINK.pfx;actuate ( onRequest ) #FIXED 'onRequest'\n     %SVG.XLinkReplace.extra.attrib;\"\n>\n\n- SVGOMScriptElement.java\n    --> %SVG.XLink.attrib;\n    * type = simple\n    * show = other\n    * actuate = onLoad\n\n- SVGOMImageElement.java\n    --> %SVG.XLinkEmbed.attrib;\n    * type = simple\n    * show = embed\n    * actuate = onLoad\n\n- SVGOMUseELement.java\n    --> %SVG.XLinkEmbed.attrib;\n    * type = simple\n    * show = embed\n    * actuate = onLoad\n\n- SVGOMCursorElement.java\n    --> %SVG.XLinkRequired.attrib;\n    * type = simple\n    * show = other\n    * actuate = onLoad\n\n- SVGOMColorProfileElement.java\n    --> %SVG.XLink.attrib;\n    * type = simple\n    * show = other\n    * actuate = onLoad\n\n- SVGOMPatternElement.java\n    --> %SVG.XLink.attrib;\n    * type = simple\n    * show = other\n    * actuate = onLoad\n\n- SVGOMAltGlyphElement.java\n    --> %SVG.XLink.attrib;\n    * type = simple\n    * show = other\n    * actuate = onLoad\n\n- SVGOMTextPathElement.java\n    --> %SVG.XLinkRequired.attrib;\n    * type = simple\n    * show = other\n    * actuate = onLoad\n\n- SVGOMMPathElement.java\n    --> %SVG.XLinkRequired.attrib;\n    * type = simple\n    * show = other\n    * actuate = onLoad\n\n- SVGOMGlyphRefElement.java\n    --> %SVG.XLink.attrib;\n    * type = simple\n    * show = other\n    * actuate = onLoad\n\n- SVGOMFEImageElement.java\n    --> %SVG.XLinkEmbed.attrib;\n    * type = simple\n    * show = embed\n    * actuate = onLoad\n\n- SVGOMGradientElement.java\n    --> %SVG.XLink.attrib;\n    * type = simple\n    * show = other\n    * actuate = onLoad\n\n- SVGOMFilterElement.java\n    --> %SVG.XLink.attrib;\n    * type = simple\n    * show = other\n    * actuate = onLoad"}, {"count": 1, "tags": [], "bug_id": 28035, "attachment_id": null, "is_private": false, "id": 61785, "time": "2004-08-10T22:57:31Z", "creator": "deweese@apache.org", "creation_time": "2004-08-10T22:57:31Z", "text": "This is fixed in CVS"}]