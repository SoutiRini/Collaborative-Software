[{"count": 0, "tags": [], "bug_id": 17709, "attachment_id": null, "is_private": false, "id": 32529, "time": "2003-03-06T03:53:58Z", "creator": "gary.frost@ssmb.com.au", "creation_time": "2003-03-06T03:53:58Z", "text": "I'm running ant as \"ant -listener org.apache.tools.ant.XmlLogger\"\nExecuting a test that cleans, builds and unittests the application.\n\nWhen running the junit tests (using the formatter type=\"xml\") (actually running \nCactus tests), however the output produces invalid XML.\n\nThe invalide line is : \n\n<message priority=\"warn\"><![CDATA[692 [main] INFO httpcl\nient.wire  - << \"<webresult><exception classname=\"junit.framework.AssertionFaile\ndError\"><message><![CDATA[null]]></message><stacktrace><![CDATA[junit.framework.\nAssertionFailedError]]></message>\n\nYou can see the invalid <stacktrace> entry\n\n\nWhen I then run the style task to format the log.xml \n    <style in=\"${XmlLogger.file}\" out=\"${build.report}/buildLog.html\" \nstyle=\"${ant.XmlLogger.stylesheet.uri}\"/>   (The standard stylesheet for logger)\n\nI get the following output\n\n\n\nBuildfile: build.xml\n\nbuild-report:\n    [style] Processing /home/gf06866/workspaces/Atlas/webAtlas/log.xml \nto /home/gf06866/workspaces/Atlas/webAtlas/doc/build/buildLog.html\n    [style] Loading stylesheet /usr/local/java/packages/jakarta-ant/jakarta-ant-\n1.5.1/etc/log.xsl\n    [style] [Fatal Error] log.xml:764:245: The element type \"stacktrace\" must \nbe terminated by the matching end-tag \"</stacktrace>\".\n    [style] : Fatal Error! org.xml.sax.SAXParseException: The element \ntype \"stacktrace\" must be terminated by the matching end-tag \"</stacktrace>\". \nCause: org.xml.sax.SAXParseException: The element type \"stacktrace\" must be \nterminated by the matching end-tag \"</stacktrace>\".\n    [style] Failed to process /home/gf06866/workspaces/Atlas/webAtlas/log.xml\n\nBUILD FAILED\nfile:/home/gf06866/workspaces/Atlas/webAtlas/build.xml:339: Fatal error during \ntransformation\n\n\n\nThanks\n\nGary"}, {"count": 1, "tags": [], "bug_id": 17709, "attachment_id": null, "is_private": false, "id": 32643, "time": "2003-03-07T08:30:20Z", "creator": "bodewig@apache.org", "creation_time": "2003-03-07T08:30:20Z", "text": "Could you please try 1.5.2?  I think this is a duplicate of the CDATA escaping\nproblem fixed with\nhttp://cvs.apache.org/viewcvs/ant/src/main/org/apache/tools/ant/util/DOMElementWriter.java.diff?r1=1.12&r2=1.13"}, {"count": 2, "tags": [], "bug_id": 17709, "attachment_id": null, "id": 32751, "time": "2003-03-09T22:46:48Z", "creator": "gary.frost@ssmb.com.au", "creation_time": "2003-03-09T22:46:48Z", "is_private": false, "text": "Correct, 1.5.2 does fix this, what was the bug ID for the CDATA error, this bug \nshould be marked Resolved, duplicate\n\nGary"}]