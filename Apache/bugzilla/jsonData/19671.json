[{"count": 0, "tags": [], "bug_id": 19671, "attachment_id": null, "is_private": false, "id": 36697, "time": "2003-05-05T14:36:49Z", "creator": "rnaegele@mgm-edv.de", "creation_time": "2003-05-05T14:36:49Z", "text": "When a webapp is reloaded, either explicitly via manager or automatically\nbecause the context is reloadable, native libraries (DLLs) are not released.\n\nIn our concrete case, we use Oracle IFS via JDBC OCI driver. After a reload of\nthe webapp, we get the following exception:\n\njava.lang.UnsatisfiedLinkError: Native Library D:\\ora9ias\\BIN\\ocijdbc9.dll\nalready loaded in another classloader\n\tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1437)\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1397)\n\tat java.lang.Runtime.loadLibrary0(Runtime.java:788)\n\tat java.lang.System.loadLibrary(System.java:832)\n\tat oracle.jdbc.oci8.OCIDBAccess.logon(OCIDBAccess.java:300)\n\tat oracle.jdbc.driver.OracleConnection.(OracleConnection.java:355)\n\tat oracle.jdbc.driver.OracleDriver.getConnectionInstance(OracleDriver.java:457)\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:332)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:512)\n\tat java.sql.DriverManager.getConnection(DriverManager.java:171)\n\tat oracle.ifs.server.LibraryConnection.(LibraryConnection.java:245)\n\tat\noracle.ifs.server.ConnectionPool.constructLibraryConnection(ConnectionPool.java:712)\n\tat\noracle.ifs.server.ConnectionPool.createLibraryConnection(ConnectionPool.java:673)\n\tat oracle.ifs.server.ConnectionPool.(ConnectionPool.java:311)\n\tat\noracle.ifs.server.S_LibraryService.resetConnectionPools(S_LibraryService.java:3204)\n\tat oracle.ifs.server.S_LibraryService.(S_LibraryService.java:1051)\n\tat oracle.ifs.server.S_LibraryService.startService(S_LibraryService.java:1408)\n\tat oracle.ifs.beans.LibraryService.startService(LibraryService.java:255)\n\tat oracle.ifs.beans.LibraryService.startService(LibraryService.java:303)\n...\n\n\nAs a workaround, we put the classes12.jar into <TOMCAT_HOME>\\shared\\lib, which\nis not really a good solution but works for now since there are no other webapps\nrunning on this tomcat which might cause conflicts."}, {"text": "Tomcat cannot have any knowledge of native code which has been loaded. This\n\"bug\" cannot be addressed (although you are welcome to try to implement it :) ).", "tags": [], "bug_id": 19671, "is_private": false, "count": 1, "id": 36698, "time": "2003-05-05T14:51:37Z", "creator": "remm@apache.org", "creation_time": "2003-05-05T14:51:37Z", "attachment_id": null}]