[{"count": 0, "tags": [], "creator": "tbernert@c1-fse.de", "attachment_id": null, "text": "Hi,\nwhen I copy a file, the file will be copied physical but the \nproperty \"displayname\" of the new file is still unchanged. Therefor you can't \nsee the new file within the windows explore.", "id": 55436, "time": "2004-04-07T07:59:05Z", "bug_id": 28249, "creation_time": "2004-04-07T07:59:05Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 28249, "text": "This is more a problem of Windows Explorer than of Slide. Explorer, like any\nother client, should not rely on the displayname property, but the actual URI of\nthe resource.\n\nMoreover the COPY operation should preserve the values of the not live\nproperties, so I think Slide behaves absolute correctly.", "id": 55437, "time": "2004-04-07T08:15:35Z", "creator": "ib@fiz-chemie.de", "creation_time": "2004-04-07T08:15:35Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "luetzken@itaw.hu-berlin.de", "attachment_id": null, "text": "Hi, I reopen this issue because I want to add a patch that allows to \nconfigure whether the displayname is maintained while copy/move.\nThe patch only changes MacroImpl.java.\n\nThe patch introduces a namespace parameter \"maintain-displayname\".\nIf the parameter is set to \"true\" than the displayname property is\nupdated to the new filename if the displayname before the copy/move\naction was the filename. If the parameter is not \"true\" the displayname\nis not changed.\n\nThe patch also adds the regeneration of the etag property as requested\nby bug 3925.\n\nWich the patch all functional testcases work. \nI also add to testcases, one for copy, one for move. Both will fail without\nthe patch, because of unexpected displayname value, and will path with\nthe patch.\n\nHopefully this met your approval. Stefan.", "id": 56742, "time": "2004-05-03T10:17:17Z", "bug_id": 28249, "creation_time": "2004-05-03T10:17:17Z", "is_private": false}, {"count": 3, "tags": [], "creator": "luetzken@itaw.hu-berlin.de", "attachment_id": 11412, "text": "Created attachment 11412\nPatch as announced", "id": 56743, "time": "2004-05-03T10:19:34Z", "bug_id": 28249, "creation_time": "2004-05-03T10:19:34Z", "is_private": false}, {"count": 4, "tags": [], "creator": "luetzken@itaw.hu-berlin.de", "attachment_id": 11413, "text": "Created attachment 11413\ntestcase for copy with updated displayname", "id": 56744, "time": "2004-05-03T10:20:50Z", "bug_id": 28249, "creation_time": "2004-05-03T10:20:50Z", "is_private": false}, {"count": 5, "tags": [], "creator": "luetzken@itaw.hu-berlin.de", "attachment_id": 11414, "text": "Created attachment 11414\ntestcase for move with updated displayname", "id": 56745, "time": "2004-05-03T10:21:15Z", "bug_id": 28249, "creation_time": "2004-05-03T10:21:15Z", "is_private": false}, {"count": 6, "tags": [], "creator": "luetzkendorf@apache.org", "attachment_id": null, "text": "I'have now fixed this, but I have changed the approach.\n\nI have written a lister using the new event features of slide.\nThe listener is org.apache.slide.macro.MacroPropertyUpdater.\n\nTo enable this you have to add something like the following to\nthe events section of yout domain.xml. \n\n  <event classname=\"org.apache.slide.event.MacroEvent\" enable=\"true\"/>\n\n  <listener classname=\"org.apache.slide.macro.MacroPropertyUpdater\">\n    <configuration>\n      <update-displayname>true</update-displayname>\n      <update-etag>true</update-etag>\n      <update-owner-on-move>false</update-owner-on-move>\n      <update-owner-on-copy>true</update-owner-on-copy>\n    </configuration>\n  </listener>\n\nAs you can see the DAV: properties displayname, etag and owner are\nupdated (The sample shows the default parameters)\n\nTwo testcases are added to verify the solution.\n  functional\\copy\\copyChangedProperties.xml\n  functional\\move\\moveChangedProperties.xml\n\nRegards, Stefan", "id": 58653, "time": "2004-06-03T16:59:19Z", "bug_id": 28249, "creation_time": "2004-06-03T16:59:19Z", "is_private": false}]