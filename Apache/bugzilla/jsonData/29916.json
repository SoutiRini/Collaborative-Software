[{"count": 0, "tags": [], "bug_id": 29916, "attachment_id": null, "text": "In author mode, when I try to save a page edited with Kupu it is not saved. If \nI choose \"save and exit\" there is no error message, if I choose \"save\" I get \nan error box: \n\n    Error saving your data.\n    Response status 1223.\n    Check your server log for more information.\n\nLooking in handled-errors.log I see the folling root cause exception:\n\n.........\nCaused by: javax.xml.transform.TransformerException: \njavax.xml.transform.TransformerException: \norg.apache.cocoon.ProcessingException: Could not process your document.: \njava.io.IOException: Could not rename C:\\Server\\tomcat4.1\n\\webapps\\lenya\\lenya\\pubs\\aofood\\content\\authoring\\ScientificCommittee\\index_en\n.xml.tmp to C:\\Server\\tomcat4.1\n\\webapps\\lenya\\lenya\\pubs\\aofood\\content\\authoring\\ScientificCommittee\\index_en\n.xml\n\tat org.apache.xalan.xsltc.trax.TransformerHandlerImpl.endDocument\n(TransformerHandlerImpl.java:268)\n\tat org.apache.cocoon.xml.AbstractXMLPipe.endDocument\n(AbstractXMLPipe.java:56)\n\tat org.apache.cocoon.transformation.TraxTransformer.endDocument\n(TraxTransformer.java:549)\n\tat org.apache.cocoon.sitemap.ContentAggregator.generate\n(ContentAggregator.java:134)\n\tat \norg.apache.cocoon.components.pipeline.AbstractProcessingPipeline.processXMLPipe\nline(AbstractProcessingPipeline.java:545)\n\t... 67 more\njavax.xml.transform.TransformerException: \njavax.xml.transform.TransformerException: \norg.apache.cocoon.ProcessingException: Could not process your document.: \njava.io.IOException: Could not rename C:\\Server\\tomcat4.1\n\\webapps\\lenya\\lenya\\pubs\\aofood\\content\\authoring\\ScientificCommittee\\index_en\n.xml.tmp to C:\\Server\\tomcat4.1\n\\webapps\\lenya\\lenya\\pubs\\aofood\\content\\authoring\\ScientificCommittee\\index_en\n.xml\n\tat org.apache.xalan.xsltc.trax.TransformerHandlerImpl.endDocument\n(TransformerHandlerImpl.java:268)\n\tat org.apache.cocoon.xml.AbstractXMLPipe.endDocument\n(AbstractXMLPipe.java:56)\n\tat org.apache.cocoon.transformation.TraxTransformer.endDocument\n(TraxTransformer.java:549)\n\tat org.apache.cocoon.sitemap.ContentAggregator.generate\n(ContentAggregator.java:134)\n\n.........\n\nThere is no .tmp file left in the directory and the tomcat user certainly has \npermissions to write to this directory. The file does not appear to be locked \nby the operating system, and this occurs for all the files I try to edit.\n\nThis system is running Tomcat 4.1.24, JDK 1.4.2_01 and Cocoon 2.1.5 on Windows \n2000 server.", "id": 60145, "time": "2004-07-05T10:29:20Z", "creator": "ken.blackler@jrc.it", "creation_time": "2004-07-05T10:29:20Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 29916, "attachment_id": 12028, "text": "Created attachment 12028\nFull stack trace from handled-errors.log", "id": 60146, "time": "2004-07-05T10:30:24Z", "creator": "ken.blackler@jrc.it", "creation_time": "2004-07-05T10:30:24Z", "is_private": false}, {"count": 2, "tags": [], "text": "Further research found that this was a Tomcat issue when running tomcat as a \nservice under Windows.\n\nThe property\n\n-Djava.io.tmpdir=C:\\tomcat4.1\\temp\n\nneeds to be set explicity. To do this on Windows, locate the tomcat service \nentry in the registry and add a string value such as:\n\nRE_SZ: JVM Option Number 4\nValue: -Djava.io.tmpdir=C:\\tomcat4.1\\temp\n\n(where 4 is the next higher number) and change \n\nJVM Option Count = 5 (or whatever is the number of options you now have!)\n\nRestart the tomcat service and you now see the working directories created in \nyour tomcat4.1\\temp directory.....", "attachment_id": null, "id": 60150, "creator": "ken.blackler@jrc.it", "time": "2004-07-05T11:28:54Z", "bug_id": 29916, "creation_time": "2004-07-05T11:28:54Z", "is_private": false}]