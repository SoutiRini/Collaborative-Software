[{"count": 0, "tags": [], "text": "jsp1.2 pfd2 specs on Precompilation states that request with jsp_precompile \nparameters is 'a precompilation request'. jsp_precompile can have no \nvalue, \"ture\" or \"false\". And \"In all cases, the request should not be \ndelivered to the JSP pages.\"\n\nHowever, for Tomcat 4.0-b6-dev, request with \n?jsp_precompile=false\nseems to execute the jsp page.\n\nThe problem is that jsp_precompile=false is not distinguished from no \njsp_precompile parameters at all. \n\nThe method precompile(HttpRequest) in JspServlet returns boolean value. In \nfact, it really should have 3 stages:\n?jsp_precompile=true || ?jsp_precompile //do precompile.\n?jsp_precompile=false                   //No op\n?any_other_key=any_other_value          //invoke the jsp", "attachment_id": null, "bug_id": 2604, "id": 3680, "time": "2001-07-12T12:20:33Z", "creator": "hui.ye@intranetsol.com", "creation_time": "2001-07-12T12:20:33Z", "is_private": false}, {"count": 1, "tags": [], "creator": "hui.ye@intranetsol.com", "attachment_id": 314, "id": 3681, "time": "2001-07-12T12:23:01Z", "bug_id": 2604, "creation_time": "2001-07-12T12:23:01Z", "is_private": false, "text": "Created attachment 314\nproposed JspServlet.java to fix this bug"}, {"count": 2, "tags": [], "text": "I looked at how JspServlet.preCompile() implements precompilation. This is the\nlogic:\n  - if jsp_precompile is \"true\" or no value then precompile is set to \"true\"\n  - if jsp_precompile is \"false\" then precompile is set to \"false\"\n  - if jsp_precompile not present then precompile is set to \"false\"\n\nNow, if precompile is \"true\" then it is up to the container's discretion to\ncompile the jsp page into a servlet beforehand. If it is set to \"false\" then the\njsp page will need to be loaded. Precompilation shouldn't be confused with\ncompiling the jsp into a servlet class when the request is made.\n\nIn your patch, if jsp_precompile is set to \"false\" then the jsp page will never\nbe loaded by the service method.", "attachment_id": null, "bug_id": 2604, "id": 3826, "time": "2001-07-18T14:17:17Z", "creator": "justyna.horwat@sun.com", "creation_time": "2001-07-18T14:17:17Z", "is_private": false}]