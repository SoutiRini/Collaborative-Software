[{"count": 0, "tags": [], "bug_id": 61760, "attachment_id": null, "is_private": false, "id": 202126, "time": "2017-11-14T18:32:15Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-11-14T18:32:15Z", "text": "This functions checks if variable isVarDefined\n\n- __isVarDefined(varName)\n\nIt would return true or false"}, {"count": 1, "tags": [], "text": "what about property? should we have another parameter to allow checking is property defined?", "is_private": false, "id": 202142, "creation_time": "2017-11-15T09:34:52Z", "time": "2017-11-15T09:34:52Z", "creator": "orimarko@gmail.com", "bug_id": 61760, "attachment_id": null}, {"count": 2, "tags": [], "text": "(In reply to orimarko from comment #1)\n> what about property? should we have another parameter to allow checking is\n> property defined?\n\nDon't know if it's really useful , in this case functions should be named:\n\n__isSet(boolean isVar, String varOrProp)\n\nisVar : true or false\n\n\nThoughts ?", "is_private": false, "id": 202151, "creator": "p.mouawad@ubik-ingenierie.com", "time": "2017-11-15T18:11:18Z", "bug_id": 61760, "creation_time": "2017-11-15T18:11:18Z", "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 61760, "text": "I think that in general having flags to change function behaviour can be confusing, if they are boolean, what do they mean (when reading the code) and if they are strings or something, how do we find out what we should use?\n\nI presume most of the time you don't care if it's a var or property?\n\nI think that simply, __isDefined(varOrPropName) is best, unless more complex knowledge is required.\n\nIf vars and props can have the same name and you care about only the one being defined, how about:\n__isVarDefined(name)\n__isPropDefined(name)\n\nor if they cannot have the same name, maybe:\n__isDefined(varOrPropName) - true or false if var or prop is defined\nand\n__isVar(name) and __isProp(name) if you then care about the difference once you've done but this wouldn't work very well if both are defined and you are trying to find out which is defined, but that doesn't seem to be the use case here anyway.", "id": 202152, "time": "2017-11-15T18:38:41Z", "creator": "graham@ham1.co.uk", "creation_time": "2017-11-15T18:38:41Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 61760, "is_private": false, "count": 4, "id": 202155, "time": "2017-11-15T20:03:54Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-11-15T20:03:54Z", "text": "(In reply to Graham Russell from comment #3)\n> I think that in general having flags to change function behaviour can be\n> confusing, if they are boolean, what do they mean (when reading the code)\n> and if they are strings or something, how do we find out what we should use?\n> \n\nFunction Helper Dialog can describe this.\nWe could use a mode instead of boolean.\n\n> I presume most of the time you don't care if it's a var or property?\n\nNot sure. User may have named by error a property and a variable the same.\n\n> \n> I think that simply, __isDefined(varOrPropName) is best, unless more complex\n> knowledge is required.\n> \n> If vars and props can have the same name and you care about only the one\n> being defined, how about:\n> __isVarDefined(name)\n> __isPropDefined(name)\n\nYes, my idea was just to avoid having too many functions.\n> \n> or if they cannot have the same name, maybe:\n> __isDefined(varOrPropName) - true or false if var or prop is defined\n> and\n\nThis name is already taken by jmeter-plugins functions.\n\n> __isVar(name) and __isProp(name) if you then care about the difference once\n> you've done but this wouldn't work very well if both are defined and you are\n> trying to find out which is defined, but that doesn't seem to be the use\n> case here anyway.\n\nBut intuitively, I would say that this function tells me if name is a property or a variable, not if it's defined.\n\nSo I would end up to the following:\n\n- Option 1 : isVarDefined / isPropDefined\n- Option 2 : isSet(MODE, name), where mode is Property, Variable\n\n\nExcept for the additional function I feel Option 1 is better"}, {"count": 5, "tags": [], "bug_id": 61760, "attachment_id": null, "id": 202178, "creation_time": "2017-11-16T13:40:22Z", "time": "2017-11-16T13:40:22Z", "creator": "orimarko@gmail.com", "text": "I accept your suggestion and think isPropDefined is a good addition,\nI wanted to point out that __V function code will\nbe almost equal to isVarDefined except return true/false instead of the value.\n\nCan __V function be added is defined 2nd parameter, and if it's true return true/false instead of the value (default false as now)?", "is_private": false}, {"count": 6, "tags": [], "bug_id": 61760, "attachment_id": null, "id": 202185, "time": "2017-11-16T18:46:32Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-11-16T18:46:32Z", "is_private": false, "text": "(In reply to orimarko from comment #5)\n> I accept your suggestion and think isPropDefined is a good addition,\n> I wanted to point out that __V function code will\n> be almost equal to isVarDefined except return true/false instead of the\n> value.\n> \n> Can __V function be added is defined 2nd parameter, and if it's true return\n> true/false instead of the value (default false as now)?\n\nI prefer a more meaningful name in fact. So let's go for a new function."}, {"count": 7, "tags": [], "creator": "orimarko@gmail.com", "is_private": false, "text": "Created attachment 35537\nAdd patch with 2 functions, tests and xdocs", "id": 202245, "time": "2017-11-19T07:01:30Z", "bug_id": 61760, "creation_time": "2017-11-19T07:01:30Z", "attachment_id": 35537}, {"count": 8, "tags": [], "bug_id": 61760, "attachment_id": null, "id": 202253, "time": "2017-11-19T11:05:17Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2017-11-19T11:05:17Z", "is_private": false, "text": "Author: pmouawad\nDate: Sun Nov 19 11:04:53 2017\nNew Revision: 1815725\n\nURL: http://svn.apache.org/viewvc?rev=1815725&view=rev\nLog:\nBug 61760 - Add \"__isPropDefined\" and \"__isVarDefined\" functions to know if property or variable exist\nContributed by Orimarko\nBugzilla Id: 61760\n\nAdded:\n    jmeter/trunk/src/functions/org/apache/jmeter/functions/IsPropDefined.java   (with props)\n    jmeter/trunk/src/functions/org/apache/jmeter/functions/IsVarDefined.java   (with props)\n    jmeter/trunk/test/src/org/apache/jmeter/functions/TestIsPropDefined.java   (with props)\n    jmeter/trunk/test/src/org/apache/jmeter/functions/TestIsVarDefined.java   (with props)\nModified:\n    jmeter/trunk/xdocs/changes.xml\n    jmeter/trunk/xdocs/usermanual/functions.xml"}]