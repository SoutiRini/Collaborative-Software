[{"count": 0, "attachment_id": null, "bug_id": 60427, "text": "The Jenkins CI job which tries to run ooxml-tests without scratchpad currently fails at the following test, this indicates that currently Scratchpad is required for handling WMF pictures. See https://builds.apache.org/job/POI-no-scratchpad/lastFailedBuild/testReport/org.apache.poi.xslf/TestXSLFBugs/bug59434/ for details\n\nShould we move these classes to main to not have this discouraged dependency from ooxml to scatchpad?\n\n\nError Message\n\norg/apache/poi/hslf/blip/WMF$NativeHeader\n\nStacktrace\n\njava.lang.NoClassDefFoundError: org/apache/poi/hslf/blip/WMF$NativeHeader\n\tat org.apache.poi.xslf.usermodel.XSLFPictureData.cacheProperties(XSLFPictureData.java:179)\n\tat org.apache.poi.xslf.usermodel.XSLFPictureData.getImageDimension(XSLFPictureData.java:145)\n\tat org.apache.poi.sl.draw.DrawPictureShape.resize(DrawPictureShape.java:100)\n\tat org.apache.poi.xslf.usermodel.XSLFSheet.createPicture(XSLFSheet.java:238)\n\tat org.apache.poi.xslf.TestXSLFBugs.bug59434(TestXSLFBugs.java:466)\nCaused by: java.lang.ClassNotFoundException: org.apache.poi.hslf.blip.WMF$NativeHeader\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)", "id": 195262, "time": "2016-11-28T10:53:27Z", "creator": "dominik.stadler@gmx.at", "creation_time": "2016-11-28T10:53:27Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 60427, "attachment_id": null, "id": 195264, "time": "2016-11-28T11:29:59Z", "creator": "kiwiwings@apache.org", "creation_time": "2016-11-28T11:29:59Z", "is_private": false, "text": "I've already started yesterday to split them.\nThe solution for *slf is finished, i.e. I've created ImageHeader* classes in the main jar, but there are other OOXML->scratchpad issues to solve."}, {"count": 2, "tags": [], "text": "Yes, thanks, I  just go one issue after the other to finally remove this dependency. \n\nA few unit tests related to text-extraction are ignored right now as they include files for scratchpad-related formats, we`ll see if there are other problems after this one.", "attachment_id": null, "bug_id": 60427, "id": 195274, "time": "2016-11-28T19:32:39Z", "creator": "dominik.stadler@gmx.at", "creation_time": "2016-11-28T19:32:39Z", "is_private": false}, {"count": 3, "tags": [], "text": "first issues patched via r1771812\n\nto be continued ...", "attachment_id": null, "bug_id": 60427, "id": 195276, "time": "2016-11-28T20:52:33Z", "creator": "kiwiwings@apache.org", "creation_time": "2016-11-28T20:52:33Z", "is_private": false}]