[{"count": 0, "tags": [], "creator": "cyrus@zapm.org", "attachment_id": null, "id": 68610, "time": "2004-12-16T11:22:07Z", "bug_id": 32729, "creation_time": "2004-12-16T11:22:07Z", "is_private": false, "text": "To reproduce: introduce a typo in the web-app/servlet-mapping/servlet-name element of a web.xml of \na working app, so that a url-pattern is mapped to an undefined servlet.  Run \"ant install\".  Although \nAnt reports a successful build, there will be a number of exceptions reported in catalina.out (including \n\"IllegalArgumentException: Servlet mapping specifies an unknown servlet name ...\"), and the webapp \nwon't work.  \n\nAttempts to undeploy the broken web-app using \"ant remove\" or the HTML manager then fail, \nwith complaints that the app hasn't been started (\"LifecycleException\").  The commands \"ant install\" and \n\"ant reload\" also fail, reporting that the \"Application already exists at path ...\" and \"[app] has not been \nstarted\", respectively.  It seems the only way out is to delete the webapp from the filesystem by \nhand.\n\nI expect it should not be possible to partially deploy a webapp, even if it is misconfigured.  Either the \ndeployTask should delete from webapps an app that couldn't be started, or the UndeployTask should \nallow such an app to be removed.\n\nI am using Ant 1.6.2.  My build.xml and web.xml closely resemble the examples given in the \ndocumentation."}, {"count": 1, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 68614, "time": "2004-12-16T13:50:52Z", "bug_id": 32729, "creation_time": "2004-12-16T13:50:52Z", "is_private": false, "text": "I'll look at it, but using deploy and undeploy. install and remove are\ndeprecated and unsupported."}, {"count": 2, "tags": [], "bug_id": 32729, "is_private": false, "text": "undeploy had a defect in this case, so I fixed it.\nremove will now simply call undeploy. install already calls deploy.", "id": 68619, "time": "2004-12-16T17:05:18Z", "creator": "remm@apache.org", "creation_time": "2004-12-16T17:05:18Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 32729, "attachment_id": null, "text": "*** Bug 32831 has been marked as a duplicate of this bug. ***", "id": 68935, "time": "2004-12-23T15:58:37Z", "creator": "remm@apache.org", "creation_time": "2004-12-23T15:58:37Z", "is_private": false}]