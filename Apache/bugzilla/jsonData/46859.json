[{"count": 0, "tags": [], "creator": "josh@apache.org", "attachment_id": null, "id": 125573, "time": "2009-03-15T23:33:05Z", "bug_id": 46859, "creation_time": "2009-03-15T23:33:05Z", "is_private": false, "text": "Since the class java.lang.Package is available without import, failing to explicitly import org.apache.poi.openxml4j.opc.Package may cause confusing compiler errors.\n\nAs a general rule, POI classes should not have names that clash with any jdk-public (or other well known) class.\n\nThis is a change which would be good to get done before the 3.5-final release."}, {"count": 1, "tags": [], "bug_id": 46859, "attachment_id": 23386, "is_private": false, "id": 125574, "time": "2009-03-15T23:44:53Z", "creator": "josh@apache.org", "creation_time": "2009-03-15T23:44:53Z", "text": "Created attachment 23386\nsvn diff\n\nPlease consider this patch and give feedback.\n\nIn this patch I have created a new base class called \"OPCPackage\".  The existing Package class has been deprecated and now extends OPCPackage. The rest of POI code has been changed to use the new non-deprecated class.\n\nThe new name 'OPCPackage' is negotiable.  Other names I considered were 'OpenPackage', 'OpenPackageContainer', 'XMLPackage' and 'PackageBase'.\n\nIf maintaining binary compatibility with previous poi-ooxml versions is important, we will need to re-add deprecated versions of many methods which take OPCPackage as a parameter.  Most of the usage of Package was internal, however there are some notable public methods/constructors, like XSSFWorkbook(Package).\n\n\nAn unrelated change was to restrict the class hierarchy of Package to only POI subclasses (i.e. ZipPackage).  This was done because POI discourages client classes from inheriting from POI classes."}, {"count": 2, "tags": [], "bug_id": 46859, "attachment_id": null, "is_private": false, "id": 125580, "time": "2009-03-16T04:57:47Z", "creator": "yegor@dinom.ru", "creation_time": "2009-03-16T04:57:47Z", "text": "+1 to this change. \n\nI agree that name clash with java.lang.* classes is undesirable. However, it's normal to have collisions with other packages, namely, with java.awt.*.\nThere are Shape and Polygon objects both in HSLF and AWT and I think that they can co-exist happily. Even Java itself comes name clashes:\njava.awt.Shape vs javax.swing.Shape, java.util.List vs java.awt.List, etc. \n\nAs to binary compatibility, I think it's OK to require users to re-compile their applications while we are still in a beta phase. I'm very reluctant to pollute the code with overridden methods for the sake of binary compatibility: foo(Package pkg) and foo(OPCPackage pkg). \n\nRegards,\nYegor"}, {"count": 3, "attachment_id": null, "creator": "apache@gagravarr.org", "is_private": false, "id": 125596, "time": "2009-03-17T05:18:10Z", "bug_id": 46859, "creation_time": "2009-03-17T05:18:10Z", "tags": [], "text": "I'm happy with going for the change, with no binary compatibility extra methods as we're in beta\n\nI'd probably lean more towards OOXMLPackage, rather than OPCPackage, but that's only a slight preference"}, {"count": 4, "tags": [], "text": "Applied in svn r755699", "attachment_id": null, "id": 125616, "creator": "josh@apache.org", "time": "2009-03-18T12:07:03Z", "bug_id": 46859, "creation_time": "2009-03-18T12:07:03Z", "is_private": false}, {"count": 5, "tags": [], "creator": "josh@apache.org", "attachment_id": null, "id": 125617, "time": "2009-03-18T12:08:51Z", "bug_id": 46859, "creation_time": "2009-03-18T12:08:51Z", "is_private": false, "text": "(In reply to comment #4)\nApplied in svn r755699 .\n(sorry somehow lost the last digit)"}]