[{"count": 0, "tags": [], "bug_id": 8333, "text": "When specifying small scaling by StaticRenderer#setTransform(),\nsometimes ArrayIndexOutOfBoundsException ocurred in \norg.apache.batik.ext.awt.image.rendered.BumpMap.getNormalArray(BumpMap.java:154).\n Batik-1.1.1", "id": 14142, "time": "2002-04-20T15:43:19Z", "creator": "paf03212@nifty.ne.jp", "creation_time": "2002-04-20T15:43:19Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 8333, "is_private": false, "id": 14161, "creation_time": "2002-04-21T03:29:24Z", "time": "2002-04-21T03:29:24Z", "creator": "paf03212@nifty.ne.jp", "text": " Here's a simple sample.\n\n  public static void main(String[]args) {\n    double scale = 0.02; // very small scaling value\n    String file = \"batikCandy.svg\"; // a sample file in \"samples\" directory\n    \n    UserAgent userAgent = new UserAgentAdapter();\n    DocumentLoader loader = new DocumentLoader(userAgent);\n    BridgeContext ctx = new BridgeContext(userAgent, loader);\n    Document svgDoc;\n    try {\n      svgDoc = loader.loadDocument((new File(file)).toURL().toString());\n    } catch (Exception ex) {\n      ex.printStackTrace();\n      return;\n    }\n    GVTBuilder builder = new GVTBuilder();\n    RootGraphicsNode root = (RootGraphicsNode)builder.build(ctx, svgDoc);\n    \n    StaticRenderer renderer = new StaticRenderer();\n    renderer.setTree(root);\n    renderer.setTransform(AffineTransform.getScaleInstance(scale, scale));\n    renderer.updateOffScreen(100, 100);\n    try {                   \n      renderer.repaint(new Rectangle(0, 0, 100, 100));\n    } catch (Exception ex) {\n      ex.printStackTrace(); // ArrayIndexOutOfBoundsException will be occurred\n    }\n  }\n", "attachment_id": null}]