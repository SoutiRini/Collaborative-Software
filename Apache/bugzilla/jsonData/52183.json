[{"count": 0, "tags": [], "creator": "p.mouawad@ubik-ingenierie.com", "attachment_id": null, "text": "NIghtly r1201923\n\nSyncTimer calls sync.wait outside of a loop which according to :\nhttp://download.oracle.com/javase/6/docs/api/java/lang/Object.html#notifyAll%28%29\n\nis wrong.\n\nFurthermore, java.util.concurrent.CyclicBarrier would be a better solution to the current implementation and would greatly simplify it.\n\nThe only remaining pb to this is when GroupSize is set to 0.\nAs cyclicBarrier must be created in test plan start, JMeterContextService.getContext().getThreadGroup().getNumThreads() is not available at this time.\n\nSebb, do you know how to get this information at test plan start ?\n\nThanks", "id": 151490, "time": "2011-11-14T22:08:11Z", "bug_id": 52183, "creation_time": "2011-11-14T22:08:11Z", "is_private": false}, {"count": 1, "tags": [], "creator": "sebb@apache.org", "text": "The testStarted() methods are called before any thread groups are created.\nThere may be multiple groups with different counts so it's not possible to provide the thread group count.\n\nThe ThreadListener interface is called after the thread group has been created, so it might be possible to create the barrier there.\n\nThe ThreadListener method will need to enure that the barrier is only created once for each Thread Group.", "id": 151521, "time": "2011-11-15T17:29:28Z", "bug_id": 52183, "creation_time": "2011-11-15T17:29:28Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 52183, "is_private": false, "text": "Date: Wed Nov 23 22:33:32 2011\nNew Revision: 1205639\n\nURL: http://svn.apache.org/viewvc?rev=1205639&view=rev\nLog:\nBug 52183 - SyncTimer could be improved (performance+reliability)\n\nAdded:\n   jmeter/trunk/src/components/org/apache/jmeter/timers/BarrierWrapper.java   (with props)\n   jmeter/trunk/src/components/org/apache/jmeter/timers/SyncTimer.java\nModified:\n   jmeter/trunk/xdocs/changes.xml", "id": 151756, "time": "2011-11-23T22:34:17Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2011-11-23T22:34:17Z", "attachment_id": null}]