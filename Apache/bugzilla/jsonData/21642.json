[{"count": 0, "tags": [], "bug_id": 21642, "text": "Hi\n\nTSTAMP is not working in Ant 1.5.3 version (apache-ant-1.5.3-1-bin.tar) product.\nPlease check the product.\n\nThanks & Regards\nKannan", "id": 40792, "time": "2003-07-16T10:00:27Z", "creator": "kannan_mp@yahoo.com", "creation_time": "2003-07-16T10:00:27Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 21642, "text": "I am surprised.\nCan you join a small build.xml demonstrating the bug and the output of ant \n-verbose to this bug report.\nAntoine", "id": 40796, "time": "2003-07-16T10:19:04Z", "creator": "antoine@apache.org", "creation_time": "2003-07-16T10:19:04Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "jan@materne.de", "attachment_id": null, "id": 40797, "time": "2003-07-16T10:22:39Z", "bug_id": 21642, "creation_time": "2003-07-16T10:22:39Z", "is_private": false, "text": "Bug verification:\n- downloaded on 16.07.2003 from http://www.apache.org/dist/ant/binaries/apache-\nant-1.5.3-1-bin.tar.bz2\n- extracting the tar file from the bz2\n- extracting all files from the jar\n- read the doc for tstamp --> which properties should be set\n- write a test buildfile\n- run that buildfile with the downloaded version of ant\n- test pass\n\nBuildfile:\n------------------\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<project name=\"test\" basedir=\".\" default=\"main\">\n    <target name=\"main\">\n         <antcall target=\"tstampTest-1\"/>\n         <antcall target=\"tstampTest-2\"/>\n         <antcall target=\"tstampTest-3\"/>\n    </target>\n\n    <target name=\"tstampTest-1\">\n        <tstamp/>\n        <echo>\nDSTAMP = ${DSTAMP}\nTSTAMP = ${TSTAMP}\nTODAY  = ${TODAY}\n        </echo>\n    </target>\n\n    <target name=\"tstampTest-2\">\n        <tstamp prefix=\"test\"/>\n        <echo>\nDSTAMP = ${test.DSTAMP}\nTSTAMP = ${test.TSTAMP}\nTODAY  = ${test.TODAY}\n        </echo>\n    </target>\n\n    <target name=\"tstampTest-3\">\n        <tstamp>\n            <format property=\"day\" pattern=\"dd\"/>\n        </tstamp>\n        <echo>\nDSTAMP = ${DSTAMP}\nTSTAMP = ${TSTAMP}\nTODAY  = ${TODAY}\nday    = ${day}\n        </echo>\n    </target>\n\n</project>\n\n\n\n\n\nOutput (Windows 2000):\n-----------------------\napache-ant-1.5.3-1>.\\bin\\ant.bat -diagnostics\n------- Ant diagnostics report -------\nApache Ant version 1.5.3 compiled on April 16 2003\n\n-------------------------------------------\n Implementation Version (JDK1.2+ only)\n-------------------------------------------\ncore tasks     : 1.5.3\noptional tasks : 1.5.3\n\n-------------------------------------------\n ANT_HOME/lib jar listing\n-------------------------------------------\nant.home: C:\\ZipDrive\\04\\apache-ant-1.5.3-1\\bin\\..\nant.jar (737884 bytes)\noptional.jar (671546 bytes)\nxercesImpl.jar (885250 bytes)\nxml-apis.jar (108484 bytes)\n\n-------------------------------------------\n System properties\n-------------------------------------------\njava.runtime.name : Java(TM) 2 Runtime Environment, Standard Edition\nsun.boot.library.path : c:\\seu\\jdk14\\jre\\bin\njava.vm.version : 1.4.0_01-b03\nuser.country : DE\nsun.os.patch.level : Service Pack 2\nuser.dir : C:\\ZipDrive\\04\\apache-ant-1.5.3-1\nos.arch : x86\nos.name : Windows 2000\n\n\n\n\napache-ant-1.5.3-1>.\\bin\\ant.bat\nBuildfile: build.xml\n\nmain:\n\ntstampTest-1:\n     [echo]\n     [echo] DSTAMP = 20030716\n     [echo] TSTAMP = 1215\n     [echo] TODAY  = July 16 2003\n     [echo]\n\ntstampTest-2:\n     [echo]\n     [echo] DSTAMP = 20030716\n     [echo] TSTAMP = 1215\n     [echo] TODAY  = July 16 2003\n     [echo]\n\ntstampTest-3:\n     [echo]\n     [echo] DSTAMP = 20030716\n     [echo] TSTAMP = 1215\n     [echo] TODAY  = July 16 2003\n     [echo] day    = 16\n     [echo]\n\nBUILD SUCCESSFUL\nTotal time: 1 second\n\n\n\nSo <tstamp/> works for me.\n"}, {"count": 3, "tags": [], "bug_id": 21642, "attachment_id": null, "text": "I have had an exchange of emails direct with kannan, and he says that his \nproblem is only that his ant build files are expecting the prefix not be used in \ncreating the property name (he says it was like that in ant 1.5) and that it has \nchanged between 1.5 and 1.5.3.\n        <tstamp prefix=\"start\">\n            <format property=\"todayk\"\npattern=\"MMM_dd\"/>\n        </tstamp>\n        <!-- ${start.todayk} works -->\n        <echo message=\"today is ${todayk}\"/>\nSo I am closing the bug because kannan understands that the behavior of ant 1.5 \nwas buggy, not of ant 1.5.3", "id": 40853, "time": "2003-07-16T17:42:09Z", "creator": "antoine@apache.org", "creation_time": "2003-07-16T17:42:09Z", "is_private": false}]