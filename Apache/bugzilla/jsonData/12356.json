[{"count": 0, "tags": [], "creator": "info@orangexl.com", "attachment_id": null, "text": "The followin is in my http.conf. The env variable nolog is set earlier through \na SetEnvIf on my IP.\n\nRewriteEngine On\nRewriteOptions inherit\nRewriteCond %{ENV:nolog} 1\nRewriteRule .* - [F,L]\n\nAfter a restart, nothing happens, everything works as normal. Tried it with\nRewriteOptions inherit in every virtual host, but still nothing happens...\nHOWEVER, if I place the same lines in a virtual host, it does work. Those same \nlines should also work in server-context (httpd.conf), since adding such rules \nto virtual hosts is madness...", "id": 22356, "time": "2002-09-06T10:25:02Z", "bug_id": 12356, "creation_time": "2002-09-06T10:25:02Z", "is_private": false}, {"count": 1, "tags": [], "creator": "slive@apache.org", "attachment_id": null, "text": "I'm not sure why you never followed-up on the thread in the mailing list.\n\nIf you had, I would have told you that, although I haven't looked in detail\nat the related code, it is very likely that this is caused by the fact that\nmod_setenvif does not actually set the environment variable until after\nthe RewriteRules have been applied.   Config file order is irrelevant.\n\nIn addition, it is rather silly to use SetEnvIf in combination with mod_rewrite\nthis way, because mod_rewrite can handle the whole thing itself.  Just replace\nRewriteCond %{ENV... with\nRewriteCond %{REMOTE_ADDR} ....\nor, if you really want to set the env variable, RewriteRule can do that\nwith an [E=...] clause.\n\nSo, I think I will declare the configuration you are looking for \"unsupported\"\nunless anyone wants to disagree with me.", "id": 22556, "time": "2002-09-09T21:43:16Z", "bug_id": 12356, "creation_time": "2002-09-09T21:43:16Z", "is_private": false}]