[{"count": 0, "tags": [], "creator": "francis.andre@e-xmlmedia.fr", "is_private": false, "text": "The build.xml\n...\n    <property name=\"fop.home\"\tvalue=\"../tools/FOP/fop-0.20.3\"/>\t    \n    <path id=\"fop.class.path\">\n\t<pathelement location=\"${fop.home}/build/fop.jar\"/>\n\t<pathelement location=\"${fop.home}/lib/batik.jar\"/>\n\t<pathelement location=\"${fop.home}/lib/xalan-2.0.0.jar\"/>\n\t<pathelement location=\"${fop.home}/lib/xerces-1.2.3.jar\"/>\n\t<pathelement location=\"${fop.home}/lib/avalon-framework-4.0.jar\"/>\n\t<pathelement location=\"${fop.home}/lib/logkit-1.0.jar\"/>\n\t<pathelement location=\"${fop.home}/lib/jimi-1.0.jar\"/>\n    </path>\n\n    <target name=\"clean\">\n\t<delete file=\"${basedir}/lic/licence.pdf\"/>\n\t<delete file=\"${basedir}/lic/licence.txt\"/>\n\t<delete file=\"${basedir}/lic/licence.fo\"/>\n    </target>\n\n        <taskdef name=\"xslt\" classname=\"org.apache.fop.tools.anttasks.Xslt\">\n\t\t<classpath\trefid=\"fop.class.path\"/>\n\t</taskdef>\n\t<taskdef name=\"fop\" classname=\"org.apache.fop.tools.anttasks.Fop\">\n\t\t<classpath\trefid=\"fop.class.path\"/>\n\t</taskdef>\n\n\t<target\tname=\"pdf.xsl\">\n\t\t<xslt \toutfile=\"${basedir}/lic/licence.fo\" \n\t\t\t\tinfile=\"${basedir}/lic/licence.xml\" \n\t\t\t\txsltfile=\"${basedir}/lic/xml2fo.xsl\">\n\t\t</xslt>\n\t</target>\n\n\t<target\tname=\"txt\">\n\t\t<xslt \toutfile=\"${basedir}/lic/licence.txt\" \n\t\t\t\tinfile=\"${basedir}/lic/licence.xml\" \n\t\t\t\txsltfile=\"${basedir}/lic/xml2txt.xsl\" >\n\t\t</xslt>\n\t</target>\n\t\n\t<target\tname=\"pdf\" depends=\"pdf.xsl\">\n\t\t<fop \tformat=\"application/pdf\" \n\t\t\t\toutfile=\"${basedir}/lic/licence.pdf\" \n\t\t\t\tmessagelevel=\"info\"\n                fofile=\"${basedir}/lic/licence.fo\">\n\t\t</fop>\n\t</target>\n....\n\n\nRunning the previous build.xml is producing the following exception:\n\nTrying to override old definition of task xslt\n\ntxt:\n     [xslt] ============================\n     [xslt] xslt\n     [xslt] in: C:\\exmlmedia\\dev\\resources/lic/licence.xml\n     [xslt] style: C:\\exmlmedia\\dev\\resources/lic/xml2txt.xsl\n     [xslt] out: C:\\exmlmedia\\dev\\resources/lic/licence.txt\n     [xslt] ============================\n     [xslt] java.lang.reflect.InvocationTargetException: javax.xml.transform.T\nnsformerFactoryConfigurationError: Provider for javax.xml.transform.Transforme\nactory cannot be found\n     [xslt]     at javax.xml.transform.TransformerFactory.newInstance(Unknown\nurce)\n     [xslt]     at org.apache.fop.tools.xslt.TraxTransform.getTransformer(Trax\nansform.java:48)\n     [xslt]     at org.apache.fop.tools.xslt.TraxTransform.transform(TraxTrans\nrm.java:100)\n     [xslt]     at org.apache.fop.tools.xslt.TraxTransform.transform(TraxTrans\nrm.java:64)\n     [xslt]     at java.lang.reflect.Method.invoke(Native Method)\n     [xslt]     at org.apache.fop.tools.xslt.XSLTransform.transform(XSLTransfo\n.java:76)\n     [xslt]     at org.apache.fop.tools.xslt.XSLTransform.transform(XSLTransfo\n.java:24)\n     [xslt]     at org.apache.fop.tools.anttasks.Xslt.transform(Xslt.java:173)\n     [xslt]     at org.apache.fop.tools.anttasks.Xslt.execute(Xslt.java:278)\n     [xslt]     at org.apache.tools.ant.Task.perform(Task.java)\n     [xslt]     at org.apache.tools.ant.Target.execute(Target.java)\n     [xslt]     at org.apache.tools.ant.Target.performTasks(Target.java)\n     [xslt]     at org.apache.tools.ant.Project.executeTarget(Project.java)\n     [xslt]     at org.apache.tools.ant.Project.executeTargets(Project.java)\n     [xslt]     at org.apache.tools.ant.Main.runBuild(Main.java)\n     [xslt]     at org.apache.tools.ant.Main.start(Main.java)\n     [xslt]     at org.apache.tools.ant.Main.main(Main.java)\n\npdf.xsl:\n     [xslt] ============================\n     [xslt] xslt\n     [xslt] in: C:\\exmlmedia\\dev\\resources/lic/licence.xml\n     [xslt] style: C:\\exmlmedia\\dev\\resources/lic/xml2fo.xsl\n     [xslt] out: C:\\exmlmedia\\dev\\resources/lic/licence.fo\n     [xslt] ============================\n     [xslt] java.lang.reflect.InvocationTargetException: javax.xml.transform.T\nnsformerFactoryConfigurationError: Provider for javax.xml.transform.Transforme\nactory cannot be found\n     [xslt]     at javax.xml.transform.TransformerFactory.newInstance(Unknown\nurce)\n     [xslt]     at org.apache.fop.tools.xslt.TraxTransform.getTransformer(Trax\nansform.java:48)\n     [xslt]     at org.apache.fop.tools.xslt.TraxTransform.transform(TraxTrans\nrm.java:100)\n     [xslt]     at org.apache.fop.tools.xslt.TraxTransform.transform(TraxTrans\nrm.java:64)\n     [xslt]     at java.lang.reflect.Method.invoke(Native Method)\n     [xslt]     at org.apache.fop.tools.xslt.XSLTransform.transform(XSLTransfo\n.java:76)\n     [xslt]     at org.apache.fop.tools.xslt.XSLTransform.transform(XSLTransfo\n.java:24)\n     [xslt]     at org.apache.fop.tools.anttasks.Xslt.transform(Xslt.java:173)\n     [xslt]     at org.apache.fop.tools.anttasks.Xslt.execute(Xslt.java:278)\n     [xslt]     at org.apache.tools.ant.Task.perform(Task.java)\n     [xslt]     at org.apache.tools.ant.Target.execute(Target.java)\n     [xslt]     at org.apache.tools.ant.Target.performTasks(Target.java)\n     [xslt]     at org.apache.tools.ant.Project.executeTarget(Project.java)\n     [xslt]     at org.apache.tools.ant.Project.executeTargets(Project.java)\n     [xslt]     at org.apache.tools.ant.Main.runBuild(Main.java)\n     [xslt]     at org.apache.tools.ant.Main.start(Main.java)\n     [xslt]     at org.apache.tools.ant.Main.main(Main.java)\n\npdf:\n      [fop] C:\\exmlmedia\\dev\\resources\\lic\\licence.fo -> C:\\exmlmedia\\dev\\reso\nces\\lic\\licence.pdf\n      [fop] building formatting object tree\n      [fop] [1]\n      [fop] [2]\n      [fop] [3]\n      [fop] [4]\n      [fop] [5]\n      [fop] [6]\n      [fop] [7]\n      [fop] Parsing of document complete, stopping renderer\n\neng:", "id": 17737, "time": "2002-06-13T14:43:25Z", "bug_id": 9841, "creation_time": "2002-06-13T14:43:25Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 9841, "text": "If you dump a report like this please make your best effort to make it \nsomething easily reproducible by taking at least the examples of the distrib \nor to attach the sample files. Do not assume the reader familiar with the \nthird party package you are using. This was all but necessary here.\n\nYour problem is probably due to a classloader problem since jaxp is in the \nmain classloader while your provider is in child classloader, child \nclassloader that is not the context classloader thus the fallback to the \nfactory finder classloader which is...the main classloader.\n\nI'm degrading this to enhancement and add it as a duplicate of 6606.\n\nIn your case your taskdef of xslt is useless since it is a mere duplication of \nthe Ant xslt core task. It has been removed in fop 2.0.4\n\n*** This bug has been marked as a duplicate of 6606 ***", "id": 21076, "attachment_id": null, "creator": "sbailliez@apache.org", "creation_time": "2002-08-15T09:56:57Z", "time": "2002-08-15T09:56:57Z", "is_private": false}]