[{"count": 0, "tags": [], "creator": "swinter@ast-computertechnik.de", "attachment_id": null, "text": "If I use mod_proxy and www.google.de with german special chars is not displaed \ncorecct. If I comment the lind AddDefaultCharset my IE6 decodes the page with \nutf-8 and everything works fine. Leaving the directive active my browser thing \nthe page is encoded in the way configures in the config file.", "id": 17430, "time": "2002-06-07T23:01:15Z", "bug_id": 9710, "creation_time": "2002-06-07T23:01:15Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 9710, "text": "\n  This sounds like a straightforward misconfiguration.  Please discuss on\n  the appropriate user forum (see the users mailing lists described at\n\n    http://httpd.apache.org/lists.html#http-users", "id": 18412, "time": "2002-06-23T09:11:01Z", "creator": "wrowe@apache.org", "creation_time": "2002-06-23T09:11:01Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 9710, "text": "http://nagoya.apache.org/bugzilla/show_bug.cgi?id=9710\n\nAlthough you have closed this bug I have experienced similar problems. After\nenabling proxy on my Apache 2.0.47 on Win2000 (relevant loaded modules:\nmod_cache, mod_disk_cache, mod_proxy, mod_proxy_http, mod_proxy_ftp) and using\nthe following configuration:\n<IfModule mod_proxy.c>\n\tListen 3128\n\t<IfModule mod_cache.c>\t\n\t\t<IfModule mod_disk_cache.c>\n\t\t\tCacheRoot \"C:\\cygwin\\var\\cache\\proxy\"\n\t\t\tCacheSize 204800\n\t\t\tCacheEnable disk /\n\t\t\t#CacheDirLevels 5\n\t\t\t#CacheDirLength 10\n\t\t\tCacheGcInterval 24\n\t\t\tCacheMinFileSize 64\n\t\t</IfModule>\n\t</IfModule>\n\t<VirtualHost *:3128>\n\t\tProxyRequests On\n\t\tProxyVia On\n\t\t<Proxy *:3128>\n\t\t\tOrder deny,allow\n\t\t\tAllow from 192.168.0.0/24\n\t\t</Proxy>\n\t</VirtualHost>\n</IfModule>\n\n\nI have come across the same problem. More specifically: Google will send out all\nthe pages in UTF-8 and proxy will return the page with Content-type set to:\ntext/html; charset=ISO-8859-1\n\nThis will happen to all the pages, no matter if they are cached (mod_cache\ndisabled) or not - any charset will be silently converted to ISO-8859-1.\n\nAfter commenting out AddDefaultCharset directive I have found the behaviour of\nthe proxy module to be as expected.\n\nI have not tried disabling other modules.\n\nAll loaded modules:\nLoadModule access_module modules/mod_access.so\nLoadModule actions_module modules/mod_actions.so\nLoadModule alias_module modules/mod_alias.so\nLoadModule asis_module modules/mod_asis.so\nLoadModule auth_module modules/mod_auth.so\nLoadModule autoindex_module modules/mod_autoindex.so\nLoadModule cgi_module modules/mod_cgi.so\nLoadModule dir_module modules/mod_dir.so\nLoadModule env_module modules/mod_env.so\nLoadModule cache_module modules/mod_cache.so\nLoadModule disk_cache_module modules/mod_disk_cache.so\nLoadModule imap_module modules/mod_imap.so\nLoadModule include_module modules/mod_include.so\nLoadModule isapi_module modules/mod_isapi.so\nLoadModule log_config_module modules/mod_log_config.so\nLoadModule mime_module modules/mod_mime.so\nLoadModule proxy_module modules/mod_proxy.so\nLoadModule proxy_http_module modules/mod_proxy_http.so\nLoadModule proxy_ftp_module modules/mod_proxy_ftp.so\nLoadModule negotiation_module modules/mod_negotiation.so\nLoadModule setenvif_module modules/mod_setenvif.so\nLoadModule userdir_module modules/mod_userdir.so", "id": 43633, "time": "2003-09-02T19:42:18Z", "creator": "boki200@hotmail.com", "creation_time": "2003-09-02T19:42:18Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 9710, "is_private": false, "text": "> This sounds like a straightforward misconfiguration.\n\nThe problem is that AddDefaultCharset is in httpd.conf by default.\nWhile it may be a good default for local pages, I don't think it's correct for a\nproxy to change content-type on proxed data.. (before I removed that live I\ncould reproduce the problem \"the page looks bad if and inly if is got thru the\nproxy, good if fetched directly\" at will)", "id": 80259, "time": "2005-09-21T11:09:19Z", "creator": "lapo@lapo.it", "creation_time": "2005-09-21T11:09:19Z", "attachment_id": null}]