[{"count": 0, "tags": [], "bug_id": 54047, "text": "We have a web server at www.peakinternet.com that is dual stacked:\n\nipv4: 207.55.16.224\nipv6: 2607:f678::16:224\n\nA recent redesign of the web site moved it to Wordpress, which included as part of the .htaccess a block of ip addresses known for attacks, including:\n\n# PSI network\ndeny from 38.0.0.0/8\n\nWhen this rule is enabled and we try to access the site from our ipv6 enabled clients, we get \"permission denied\" errors.  When it's disabled, the site works fine.  We notice that 38 decimal is 26 hex, which matches the first 8 bits of our ipv6 block.  In looking in the logs, we see that all the ipv6 denials were 26xx addresses:\n\n2600:1002:b016:321f:51ca:e30f:4b1c:fc22]\n2600:1008:b002:30f2::103]\n2600:1008:b002:adfd:0:41:9772:1301]\n2600:1008:b109:5639::103]\n2600:1008:b111:8c5::103]\n2600:100c:b203:e466:40ae:f7a6:58af:3e2e]\n2600:100c:b210:ba5e:53e:ae29:66be:8af2]\n2600:100e:b00c:ef2:e90a:88d8:b94a:847e]\n\netc...\n\nIt appears that the ipv4 mask 38/8 is being applied to ipv6 addresses inappropriately - this is only a guess, but it's the only thing we can think of that matches the symptoms...", "id": 162909, "time": "2012-10-24T00:09:51Z", "creator": "alan@batie.org", "creation_time": "2012-10-24T00:09:51Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "jorton@redhat.com", "is_private": false, "text": "Created attachment 29555\nproposed patch\n\nHow bizarre that such a bug can go undiscovered for so long.  Thanks for the report.\n\nCan you test this APR patch?", "id": 163214, "time": "2012-11-05T21:59:38Z", "bug_id": 54047, "creation_time": "2012-11-05T21:59:38Z", "attachment_id": 29555}, {"count": 2, "tags": [], "bug_id": 54047, "attachment_id": null, "id": 163215, "time": "2012-11-05T22:09:16Z", "creator": "jorton@redhat.com", "creation_time": "2012-11-05T22:09:16Z", "is_private": false, "text": "Committed in r1405985."}, {"count": 3, "tags": [], "bug_id": 54047, "text": "I applied that patch to the httpd 2.2.15 code I had handy and verified that the problem exists without the patch and does not exist with the patch.", "id": 163223, "time": "2012-11-06T00:36:40Z", "creator": "alan@batie.org", "creation_time": "2012-11-06T00:36:40Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "text": "1.5 commit: r1420111\n1.4 commit: r1420116\nwill be fixed in 1.4.7 / 1.5.0", "attachment_id": null, "id": 166748, "creator": "sf@sfritsch.de", "time": "2013-04-21T21:43:54Z", "bug_id": 54047, "creation_time": "2013-04-21T21:43:54Z", "is_private": false}, {"count": 5, "tags": [], "text": "fixed in 1.4.7 and later releases", "attachment_id": null, "id": 172593, "creator": "trawick@apache.org", "time": "2014-01-21T12:57:49Z", "bug_id": 54047, "creation_time": "2014-01-21T12:57:49Z", "is_private": false}]