[{"count": 0, "tags": [], "creator": "p_d_austin@yahoo.com", "attachment_id": null, "id": 6419, "time": "2001-10-05T08:16:45Z", "bug_id": 3993, "creation_time": "2001-10-05T08:16:45Z", "is_private": false, "text": "I have a form base authentication web application running in JBoss 2.4.3 and \nTomcat 4.0 using JAAS based authentication. When submitting to the \nj_security_check (under my context /ned/sample) I get a default browser 403 \nerror page with no exceptions thrown.\n\nThe error occurs when the j_security_check is not included in a url-pattern \nwithin a web-resource-collection within a security-constraint.\n\nThe same application works on Tomcat 3.2.3 and Jetty with no problems.\n\nThanks,\nPaul"}, {"count": 1, "attachment_id": null, "bug_id": 3993, "text": "Could you please provide a small webapp that illustrates this problem?\n\nAs background information, Tomcat's authenticator sends SC_FORBIDDEN (403) only\nunder the following circumstances:\n\n* Request URI is protected by a security constraint that has an\n  <auth-constraint> with no roles listed (i.e. no access at all is allowed\n  to anyone)\n\n* Request URI is protected by a security constraint that has an\n  <auth-constraint> with one or more roles listed, and the\n  authenticated user does not have one of those roles\n\n* Request URI is protected by a security constraint that has a\n  <user-data-constraint> requiring SSL, but redirection to the\n  corresponding SSL port has been disabled.\n\nAlso, please ensure that your form login page is submitting *exactly* to\n\"j_security_check\", as required by the Servlet Specification, version 2.3,\nsection 12.5.3.1.  Any other pattern will not be recognized by the logic that\nmakes this work even if the form login page is inside the area protected by a\nsecurity constraint.\n", "id": 6426, "time": "2001-10-05T11:05:59Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2001-10-05T11:05:59Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "remm@apache.org", "attachment_id": null, "id": 6670, "time": "2001-10-12T19:35:47Z", "bug_id": 3993, "creation_time": "2001-10-12T19:35:47Z", "is_private": false, "text": "Resolving according to Craig's comments."}]