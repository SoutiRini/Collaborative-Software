[{"count": 0, "tags": [], "bug_id": 27411, "attachment_id": null, "id": 53386, "time": "2004-03-03T14:28:03Z", "creator": "otis@apache.org", "creation_time": "2004-03-03T14:28:03Z", "is_private": false, "text": "I was a happy Ant 1.5.2 + Jikes 1.19 user, but had to upgrade to Ant 1.6.1,\nbecause one project I worked on required it.\n\nNow I cannot compile any of my projects with this new Ant, when I use Ant with\nJikes:\n\n    [javac]         <------------------------------------------------\n    [javac]     15. public class MasterCache implements WGObjectCache\n    [javac]    . . .\n    [javac]    161. }\n    [javac]         >\n    [javac] *** Semantic Error: A class file was not generated for the type\n\"com.example.MasterCache\" because a library method that it depends on was not\nfound. See system messages for more information.\n\nThat happens when I pass -Dbuild.compiler=jikes to Ant.\n\nIf, on the other hand, I use -Dbuild.compiler=modern, then things compile.\n\nI am using Ant 1.6.1 and Jikes 1.19. \n\nEverything worked well with Ant 1.5.2 and Jikes 1.19.\nThis error is happening with multiple projects."}, {"count": 1, "tags": [], "bug_id": 27411, "attachment_id": null, "id": 53388, "time": "2004-03-03T14:33:29Z", "creator": "stevel@apache.org", "creation_time": "2004-03-03T14:33:29Z", "is_private": false, "text": "I'm using Ant1.6 + jikes1.19; there must be another reason. \n\n1. What is your build file? Particuarly, how are you setting up the classpath\nfor compilation. "}, {"count": 2, "tags": [], "bug_id": 27411, "attachment_id": null, "is_private": false, "id": 53389, "time": "2004-03-03T14:49:01Z", "creator": "otis@apache.org", "creation_time": "2004-03-03T14:49:01Z", "text": "I have a lib dir with Jars that the app uses, so I just add them all to\nclasspath like this:\n\n    <path id=\"3p.classpath\">\n        <fileset dir=\"${basedir}/lib\">\n            <include name=\"*.jar\"/>\n        </fileset>\n    </path>\n\nAnd then I have this inside the <javac>....</javac>:\n\n    <classpath refid=\"3p.classpath\"/>\n"}, {"attachment_id": null, "tags": [], "bug_id": 27411, "is_private": false, "count": 3, "id": 53392, "time": "2004-03-03T17:07:08Z", "creator": "otis@apache.org", "creation_time": "2004-03-03T17:07:08Z", "text": "I have changed my build.xml and eliminated the classpath as shown above, and\ninstead I just added all Jars that I need to my system CLASSPATH.\n\nThat did not fix the problem.\n\nMy CLASSPATH does reference some non-existent Jars, so I see this when I run Ant:\n\n  [taskdef] dropping /usr/local/jython/jython.jar from path as it doesn't exist\n  [taskdef] dropping /usr/local/xerces/xmlParserAPIs.jar from path as it doesn't\nexist\n  [taskdef] dropping /usr/local/oracle-jdbc/classes12.jar from path as it\ndoesn't exist\n  [taskdef] dropping /usr/local/jdepend/jdepend.jar from path as it doesn't exist\n  [taskdef] dropping /usr/local/JavaSWF2/jswf2.jar from path as it doesn't exist\n  [taskdef] dropping /usr/local/jakarta-commons-discovery/commons-discovery.jar\nfrom path as it doesn't exist\n\nBut that shouldn't be related to this bug, should it?\n"}, {"count": 4, "tags": [], "bug_id": 27411, "attachment_id": null, "id": 53396, "time": "2004-03-03T17:41:54Z", "creator": "stevel@apache.org", "creation_time": "2004-03-03T17:41:54Z", "is_private": false, "text": "As long as your code doesnt depend on stuff on the classpath that is missing,\nall should be well. \n\nIf you run the compile target with -verbose or -debug set, what information\nappears about classpaths there? \n\nI have just searched online for this error message, the sole valid reference is: \nhttp://www-124.ibm.com/pipermail/jikes/2004-February/002661.html, which implies\nthat something is missing in rt.jar or some other bit of wierdness. \n\nIt is not anything simple like a missing class, more some rt.jar/jikes\ninconsistency. \n\nWhat is your full <javac> declaration.\n"}, {"count": 5, "tags": [], "bug_id": 27411, "attachment_id": null, "is_private": false, "id": 53398, "time": "2004-03-03T18:02:47Z", "creator": "otis@apache.org", "creation_time": "2004-03-03T18:02:47Z", "text": "I do not think that anything is missing, because this worked with the same Jikes\n(1.19) and Ant 1.5.2.\nIf I switch to Ant 1.5.2 now, it still works :)\n\nThis is my javac line:\n\n        <javac srcdir=\"${src.dir}\"\n               destdir=\"${build.classes.dir}\"\n               includes=\"**/*.java\"\n               excludes=\"**/*Test*.java\"\n               target=\"1.4\"\n               deprecation=\"${build.deprecation}\"\n               debug=\"${build.debug}\"\n               optimize=\"${build.optimize}\"\n               classpathref=\"3p.classpath\"/>\n\n\nMaybe this message is important: :) (shows with -verbose)\n\ndropping /usr/local/.version/j2sdk1.4.2_03/jre/jre/lib/rt.jar\n\nI see a few other j2sdk Jars being dropped in the same way.\nHowever, they all do exist.\n\nCould it be that Ant 1.6.1 doesn't follow symbolic links the same way Ant 1.5.2\nfollowed them?\nMy JDK is symlinked like this:\n\n  /usr/local/jdk -> .version/j2sdk1.4.2_03\n"}, {"count": 6, "tags": [], "bug_id": 27411, "attachment_id": null, "is_private": false, "id": 53402, "time": "2004-03-03T21:32:04Z", "creator": "otis@apache.org", "creation_time": "2004-03-03T21:32:04Z", "text": "I narrowed it down to the 'target=\"1.4\"' attribute of <javac>.\nTake it out, and my projects compile with Ant 1.6.1.\nPut it back in, and I get compilation errors.\n\nAnt still manages to imagine some Jars that do not exist and are not referred to\nfrom anywhere (..../jre/jre/lib/rt.jar above, for example), but at least I can\ncompile without target=\"1.4\".\n\nStill sounds like a bug with Ant 1.6.1, since this worked without any problems\nwith Ant 1.5.2."}, {"attachment_id": null, "tags": [], "bug_id": 27411, "is_private": false, "count": 7, "id": 58739, "time": "2004-06-04T11:46:02Z", "creator": "bodewig@apache.org", "creation_time": "2004-06-04T11:46:02Z", "text": "This is because Ant 1.5.x ignored the -target switch for jikes, see Bug 20580.\n\nI don't understand why your compilation fails for target 1.4, but this is a\ndifferent story.  A duplicate of Bug 26404 in some way?"}, {"count": 8, "tags": [], "creator": "otis@apache.org", "attachment_id": null, "is_private": false, "id": 58761, "time": "2004-06-04T15:05:04Z", "bug_id": 27411, "creation_time": "2004-06-04T15:05:04Z", "text": "It doesn't seem like a duplicate for me.  I have removed target attributes from\nmy Ant scripts since then, and I have just upgraded to Jikes 1.21, so I am not\nsure if, by some chance, target attribute would be okay with the most recent Jikes."}, {"count": 9, "tags": [], "text": "Let's simply assume it is/was a Jikes glitch.\n\nGump is running Jikes in the Kaffe builds and it seems to accept -target 1.4\nfine.", "is_private": false, "id": 72388, "creator": "bodewig@apache.org", "time": "2005-03-14T16:29:41Z", "bug_id": 27411, "creation_time": "2005-03-14T16:29:41Z", "attachment_id": null}]