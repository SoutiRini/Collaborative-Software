[{"count": 0, "attachment_id": null, "creator": "jrojas@redlinesolutions.co", "is_private": false, "id": 162543, "time": "2012-10-03T15:12:18Z", "bug_id": 53959, "creation_time": "2012-10-03T15:12:18Z", "tags": [], "text": "For example:\n\n<delete removeNotFollowedSymlinks=\"true\">\n   <fileset dir=\"someDir/\" followSymlinks=\"false\" includes=\"**/*.todelete\" />\n</delete>\n\nThis should only delete files with .todelete as the final extension, and remove symlinks with .todelete as the extension as well.\n\nHowever ANT removes ALL symlinks instead without filtering based on the includes attribute.\n\nThe culprit is line 1229 in org.apache.tools.ant.DirectoryScanner.  The line should be:\n\nif (isIncluded(name) && !isExcluded(name)) {\n\nSo that the included patterns are checked for symlinks."}, {"count": 1, "tags": [], "bug_id": 53959, "attachment_id": null, "text": "for directories somwhere along the path this is exactly what is wanted and lead to the attribute.\n\nWith svn revision 1555490 symlinks to files will only get removed if the files were included, this should fix the issue for you.  For directories I've tightened the logic slightly as well, but it likely won't make any difference in practice.", "id": 172079, "time": "2014-01-05T12:54:48Z", "creator": "bodewig@apache.org", "creation_time": "2014-01-05T12:54:48Z", "is_private": false}]