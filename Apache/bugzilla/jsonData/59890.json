[{"count": 0, "text": "We are facing same exception in our env\u2019s when we have upgraded our setup from: \n\n\tFrom :\n\t\tJava : jdk1.6.0_45\n\t\tJava Apache Tomcat Version 7.0.37 \nTo \n\t\tJava : jdk1.8.0_92\n\t\tJava Apache Tomcat Version 7.0.68\n\n\nSample SQL which during which this exception occurred :\nSELECT DISTINCT c.comp_id AS dbkey\nFROM\n  equipment e,\n  component c\nWHERE\n  e.equip_id = c.equip_id AND\n((e.ptnii_equip_name = 'cl2oh406me3' AND c.beg_slot = 7) AND trunc(c.port/1000)-1 = '2') AND mod(c.port, 1000) = 0\n\nJFYI : Result I see in TOAD by directly executing above SQL is only 1 record with value as :\n\t\t1166506\n\nCaused by: java.lang.IllegalArgumentException: Comparison method violates its general contract!\n        at java.util.TimSort.mergeLo(TimSort.java:777)\n        at java.util.TimSort.mergeAt(TimSort.java:514)\n        at java.util.TimSort.mergeCollapse(TimSort.java:439)\n        at java.util.TimSort.sort(TimSort.java:245)\n        at java.util.Arrays.sort(Arrays.java:1512)\n        at java.util.ArrayList.sort(ArrayList.java:1454)\n        at java.util.Collections.sort(Collections.java:175)\n        at org.apache.tomcat.jdbc.pool.interceptor.SlowQueryReport.removeOldest(SlowQueryReport.java:213)\n        at org.apache.tomcat.jdbc.pool.interceptor.SlowQueryReport.getQueryStats(SlowQueryReport.java:200)\n        at org.apache.tomcat.jdbc.pool.interceptor.SlowQueryReport.reportQuery(SlowQueryReport.java:110)\n        at org.apache.tomcat.jdbc.pool.interceptor.AbstractQueryReport$StatementProxy.invoke(AbstractQueryReport.java:256)\n        at com.sun.proxy.$Proxy666.executeQuery(Unknown Source)\n        at sun.reflect.GeneratedMethodAccessor4273.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.tomcat.jdbc.pool.interceptor.AbstractQueryReport$StatementProxy.invoke(AbstractQueryReport.java:235)\n        at com.sun.proxy.$Proxy666.executeQuery(Unknown Source)\n        at com.att.lpp.pa.core.asset.dao.AssetSearchDaoImpl.findAssetDbkeys(AssetSearchDaoImpl.java:116)", "bug_id": 59890, "attachment_id": null, "id": 192560, "time": "2016-07-21T16:23:31Z", "creator": "ns142e@att.com", "creation_time": "2016-07-21T16:23:31Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "creator": "felix.schumacher@internetallee.de", "attachment_id": null, "text": "\n\n*** This bug has been marked as a duplicate of bug 58489 ***", "id": 192594, "time": "2016-07-24T10:31:43Z", "bug_id": 59890, "creation_time": "2016-07-24T10:31:43Z", "is_private": false}]