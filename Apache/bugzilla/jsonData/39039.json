[{"count": 0, "tags": [], "bug_id": 39039, "attachment_id": null, "text": "Manager is turned off in context.xml\n\nJSP (MaintainUser_jsp) calls code which issues dispatcher.include to another \nJSP (UserGroupAddOnClip_jsp) in the same webapp.  \n\nMar 20, 2006 12:04:46 AM org.apache.jasper.runtime.JspFactoryImpl \ninternalGetPageContext\nSEVERE: Exception initializing page context\njava.lang.IllegalStateException: Page needs a session and none is available\n\tat org.apache.jasper.runtime.PageContextImpl._initialize\n(PageContextImpl.java:150)\n\tat org.apache.jasper.runtime.PageContextImpl.initialize\n(PageContextImpl.java:123)\n\tat org.apache.jasper.runtime.JspFactoryImpl.internalGetPageContext\n(JspFactoryImpl.java:104)\n\tat org.apache.jasper.runtime.JspFactoryImpl.getPageContext\n(JspFactoryImpl.java:61)\n\tat org.apache.jsp.Clips.Catalog.UserGroupAddOnClip_jsp._jspService\n(org.apache.jsp.Clips.Catalog.UserGroupAddOnClip_jsp:66)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:322)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:291)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:252)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:173)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke\n(ApplicationDispatcher.java:672)\n\tat org.apache.catalina.core.ApplicationDispatcher.doInclude\n(ApplicationDispatcher.java:574)\n\tat org.apache.catalina.core.ApplicationDispatcher.include\n(ApplicationDispatcher.java:499)\n\tat \ncom.haht.escenario.foundation.platform.PlatformSessionAdapterImpl.callPage\n(PlatformSessionAdapterImpl.java:219)\n\tat com.haht.escenario.foundation.ScenarioContainer.callPage\n(ScenarioContainer.java:900)\n\tat \ncom.haht.escenario.catalog.scenario.HahtCatalogScenario.processEventGenUserMain\ntHTML(HahtCatalogScenario.java:251)\n\tat com.haht.escenario.catalog.scenario.HahtCatalogScenario.processEvent\n(HahtCatalogScenario.java:151)\n\tat \ncom.haht.escenario.foundation.ScenarioEventManager.raiseScenarioEventDoSend\n(ScenarioEventManager.java:321)\n\tat \ncom.haht.escenario.foundation.ScenarioEventManager.raiseScenarioEvent\n(ScenarioEventManager.java:259)\n\tat \ncom.haht.escenario.common.useradmin.HahtMaintainUserUIHelper.performOtherScenar\nioHtml(HahtMaintainUserUIHelper.java:1942)\n\tat com.haht.escenario.common.useradmin.HahtMaintainUserUIHelper.perform\n(HahtMaintainUserUIHelper.java:1352)\n\tat org.apache.jsp.Common.Html.Security.MaintainUser_jsp._jspService\n(org.apache.jsp.Common.Html.Security.MaintainUser_jsp:1484)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.apache.jasper.servlet.JspServletWrapper.service\n(JspServletWrapper.java:322)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile\n(JspServlet.java:291)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:252)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:173)\n\tat Suite.ApplicationFilter.doFilter(ApplicationFilter.java:72)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:202)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:173)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:213)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:178)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:126)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:105)\n\tat org.apache.catalina.core.StandardEngineValve.invoke\n(StandardEngineValve.java:107)\n\tat org.apache.catalina.connector.CoyoteAdapter.service\n(CoyoteAdapter.java:148)\n\tat org.apache.coyote.http11.Http11Processor.process\n(Http11Processor.java:856)\n\tat \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnecti\non(Http11Protocol.java:744)\n\tat org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket\n(PoolTcpEndpoint.java:527)\n\tat org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt\n(LeaderFollowerWorkerThread.java:80)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:684)\n\tat java.lang.Thread.run(Thread.java:595)", "id": 87045, "time": "2006-03-20T19:18:52Z", "creator": "deltadad2000@yahoo.com", "creation_time": "2006-03-20T19:18:52Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 39039, "text": "Turns out Tomcat can pass into filter requests which have no sessions \nassociated to them.  When calling dispatcher.include you must use a request \nthat had a session assigned.", "count": 1, "id": 87065, "time": "2006-03-21T14:53:44Z", "creator": "deltadad2000@yahoo.com", "creation_time": "2006-03-21T14:53:44Z", "is_private": false}]