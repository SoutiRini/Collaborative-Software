[{"count": 0, "tags": [], "text": "I'm getting the following error when I try and obtain a DataSource reference \nvia the Initial Context:\n\njavax.naming.NamingException: DbcpDataSourceFactory: driverClassName is \nrequired at org.apache.naming.factory.DbcpDataSourceFactory.getObjectInstance\n(Unknown Source) at org.apache.naming.factory.ResourceFactory.getObjectInstance\n(Unknown Source) at javax.naming.spi.NamingManager.getObjectInstance\n(NamingManager.java:299) at org.apache.naming.NamingContext.lookup(Unknown \nSource) at org.apache.naming.NamingContext.lookup(Unknown Source) at \norg.apache.naming.NamingContext.lookup(Unknown Source) at \norg.apache.naming.NamingContext.lookup(Unknown Source) at \norg.apache.naming.NamingContext.lookup(Unknown Source) at \norg.apache.naming.NamingContext.lookup(Unknown Source) at \norg.apache.naming.NamingContext.lookup(Unknown Source) at \norg.apache.naming.NamingContext.lookup(Unknown Source) at \norg.apache.naming.SelectorContext.lookup(Unknown Source) at \njavax.naming.InitialContext.lookup(InitialContext.java:345) at \ntutorial.HelloServlet.service(HelloServlet.java:53) at \njavax.servlet.http.HttpServlet.service(HttpServlet.java:853) at \norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Unknown \nSource) at org.apache.catalina.core.ApplicationFilterChain.doFilter(Unknown \nSource) at org.apache.catalina.core.StandardWrapperValve.invoke(Unknown Source) \nat \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(Unknown Source) at org.apache.catalina.core.StandardPipeline.invoke(Unknown \nSource) at org.apache.catalina.core.ContainerBase.invoke(Unknown Source) at \norg.apache.catalina.core.StandardContextValve.invoke(Unknown Source) at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(Unknown Source) at org.apache.catalina.core.StandardPipeline.invoke(Unknown \nSource) at org.apache.catalina.core.ContainerBase.invoke(Unknown Source) at \norg.apache.catalina.core.StandardContext.invoke(Unknown Source) at \norg.apache.catalina.core.StandardHostValve.invoke(Unknown Source) at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(Unknown Source) at org.apache.catalina.valves.ErrorDispatcherValve.invoke\n(Unknown Source) at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(Unknown Source) at org.apache.catalina.valves.ErrorReportValve.invoke(Unknown \nSource) at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(Unknown Source) at org.apache.catalina.core.StandardPipeline.invoke(Unknown \nSource) at org.apache.catalina.core.ContainerBase.invoke(Unknown Source) at \norg.apache.catalina.core.StandardEngineValve.invoke(Unknown Source) at \norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNex\nt(Unknown Source) at org.apache.catalina.core.StandardPipeline.invoke(Unknown \nSource) at org.apache.catalina.core.ContainerBase.invoke(Unknown Source) at \norg.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:223) at \norg.apache.coyote.http11.Http11Processor.process(Http11Processor.java:405) at \norg.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio\nn(Http11Protocol.java:358) at org.apache.tomcat.util.net.TcpWorkerThread.runIt\n(PoolTcpEndpoint.java:495) at \norg.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run\n(ThreadPool.java:518) at java.lang.Thread.run(Thread.java:479) \n\nThe datasource appears to register correctly when the server starts:\n\nDbcpDataSourceFactory:  driverClassName=com.merant.datadirect.jdbc.sqlserver.SQL\nServerDriver, url=jdbc:merant:sqlserver:tbftradesdb@mydb:1433, user=dbo\n\nHere is the server.xml snippet:\n\n\t\t<Resource name=\"jdbc/FillDataSource\" auth=\"Container\" \ntype=\"javax.sql.DataSource\" />\n- \t\t<ResourceParams name=\"jdbc/FillDataSource\">\n\t\t\t<parameter>\n  \t\t\t\t<name>user</name> \n  \t\t\t\t<value>dbo</value> \n  \t\t\t</parameter>\n  \t \t\t<parameter>\n  \t\t\t\t<name>password</name> \n  \t\t\t\t<value>duff</value> \n  \t\t\t</parameter>\n  \t\t\t<parameter>\n  \t\t\t\t<name>driverClassName</name> \n  \t\t\t\n\t<value>com.merant.datadirect.jdbc.sqlserver.SQLServerDriver</value>\n  \t\t\t</parameter>\n  \t\t\t<parameter>\n\t\t\t\t<name>driverName</name>\n\t\t\t\n\t<value>jdbc:merant:sqlserver:tbftradesdb@mydb:1433</value>\n\t\t\t</parameter>\n  \t\t\t<parameter>\n  \t\t\t\t<name>url</name> \n \t\t\t\n\t<value>jdbc:merant:sqlserver:tbftradesdb@mydb:1433</value> \n  \t\t\t</parameter>\n  </ResourceParams>\n\nAnd here is my source code snippet:\n\n      Context initCtx = new InitialContext();\n      DataSource ds = (DataSource) initCtx.lookup\n(\"java:comp/env/jdbc/FillDataSource\"); // throws exception here !\n\n      Connection conn = ds.getConnection();\n\n\nAny help would be greatly appreciated.\n\nRegards\n\nMat", "is_private": false, "id": 23779, "creator": "matthew.owens@tdsecurities.com", "time": "2002-10-02T20:48:45Z", "bug_id": 13221, "creation_time": "2002-10-02T20:48:45Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 13221, "text": "This is my fisrt Bug report so please be patient if it is not great.\n\nI think this bug (or a version of it) has been causing users and me a lot of\nproblems (See\nhttp://www.mail-archive.com/tomcat-user@jakarta.apache.org/msg88786.html) \n\nI can not get the  BasicDataSource to load its driver. I have tried every\npossible combination of server.xml and web.xml definitions.  \n\nThe tomcat administration complains about:\n\norg.apache.jasper.JasperException: Exception retrieving attribute 'driverClassName'\nWhen I start tomcat I get:\nStarting service Tomcat-Standalone\nApache Tomcat/4.1.24\nCannot load JDBC driver class 'null'\njava.lang.NullPointerException\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:130)\n        at\norg.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:523)\n        at\norg.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:312)\n        at com.navidat.tools.data.stores.StoreObj.getRecords(StoreObj.java:852)\n        at com.navidat.tools.Translator.getMessage(Translator.java:1080)\n        at com.navidat.tools.presentation.NavMenuItem.<init>(NavMenuItem.java:52)\n        at com.navidat.project.ApCon.<clinit>(ApCon.java:154)\n        at com.navidat.tools.presentation.NavMenuItem.<init>(NavMenuItem.java:32)\n        at com.navidat.tools.presentation.NavMenu.build(NavMenu.java:105)\n        at com.navidat.tools.presentation.NavMenu.<init>(NavMenu.java:40)\n        at com.navidat.project.WritePageItem.<clinit>(WritePageItem.java:35)\n        at com.navidat.project.servlets.Search.<init>(Search.java:39)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at\nsun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:274)\n        at java.lang.Class.newInstance0(Class.java:296)\n        at java.lang.Class.newInstance(Class.java:249)\n        at\norg.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:903)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:823)\n        at\norg.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:3420)\n        at org.apache.catalina.core.StandardContext.start(StandardContext.java:3608)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n        at org.apache.catalina.core.StandardHost.start(StandardHost.java:738)\n        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1188)\n        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:347)\n        at org.apache.catalina.core.StandardService.start(StandardService.java:497)\n        at org.apache.catalina.core.StandardServer.start(StandardServer.java:2190)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:512)\n        at org.apache.catalina.startup.Catalina.execute(Catalina.java:400)\n        at org.apache.catalina.startup.Catalina.process(Catalina.java:180)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:203)\nCannot load JDBC driver class 'null'\n\n\nI can provide more info if needed (d.culnane@navidat.com)", "id": 41497, "time": "2003-07-25T11:46:52Z", "creator": "d.culnane@navidat.com", "creation_time": "2003-07-25T11:46:52Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 13221, "attachment_id": null, "text": "Please use tomcat-user for help. This looks likea configuration issue.", "id": 51945, "time": "2004-02-09T00:18:13Z", "creator": "funkman@joedog.org", "creation_time": "2004-02-09T00:18:13Z", "is_private": false}]