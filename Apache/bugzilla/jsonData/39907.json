[{"count": 0, "tags": [], "text": "Using MPM: Worker\n\nTo reproduce:\n 1: make a change to LoadFactor on a balancer member, within the\nbalancer-manager system\n 2: send a bunch of requests to the load balancer\n 3: reload the balancer-manager page.\n\nIt sometimes reverts to the configured default load factors.\n\nConjecture: this might be when the balancer-manager is invoked from a different\nprocess from the one in which the original change was made. This is supported by\nthe fact that just a few sporadic requests don't revert the changes, but\nhigh-concurrency testing seems to revert them.\n\nI haven't tested the impact of changing other parameters within balancer-manager.", "is_private": false, "bug_id": 39907, "id": 90630, "time": "2006-06-27T09:03:29Z", "creator": "ads@wompom.org", "creation_time": "2006-06-27T09:03:29Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 39907, "attachment_id": null, "text": "Thank you for the bug report. I will look into it, but it sounds as though the manager is updating only its \nlocal copy of the info.", "id": 94980, "time": "2006-10-19T08:12:29Z", "creator": "jim@apache.org", "creation_time": "2006-10-19T08:12:29Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 39907, "attachment_id": null, "text": "\nI commented out the section of code below the comentary \"/* Set to the original\nconfiguration */\" at \"init_balancer_members\" on mod_proxy_balancer.c\n\nBut It seems not be a nice solution...", "id": 107637, "time": "2007-09-02T14:44:28Z", "creator": "vpetrucci@gmail.com", "creation_time": "2007-09-02T14:44:28Z", "is_private": false}, {"count": 3, "tags": [], "creator": "vpetrucci@gmail.com", "attachment_id": null, "text": "(In reply to comment #2)\n> I commented out the section of code below the comentary \"/* Set to the original\n> configuration */\" at \"init_balancer_members\" on mod_proxy_balancer.c\n> \n> But It seems not be a nice solution...\n\nThis patch prevents mod_proxy_balancer from overwriting the status of workers\nwhen creating a new child process\n(http://svn.apache.org/viewcvs?rev=374929&view=rev). Maybe there's some\ndirections there...", "id": 107641, "time": "2007-09-02T15:09:33Z", "bug_id": 39907, "creation_time": "2007-09-02T15:09:33Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 39907, "attachment_id": 20770, "text": "Created attachment 20770\nmod_proxy_balancer patch", "id": 107723, "time": "2007-09-04T13:07:52Z", "creator": "vpetrucci@gmail.com", "creation_time": "2007-09-04T13:07:52Z", "is_private": false}, {"count": 5, "tags": [], "creator": "vpetrucci@gmail.com", "is_private": false, "text": "Comment on attachment 20770\nmod_proxy_balancer patch\n\nThis patch prevents mod_proxy_balancer from overwriting the lbfactor, lbset,\nand lbstatus of workers when creating a new child process.", "id": 107724, "time": "2007-09-04T13:09:30Z", "bug_id": 39907, "creation_time": "2007-09-04T13:09:30Z", "attachment_id": 20770}, {"count": 6, "tags": [], "text": "Fixed in trunk as r574485\n(http://svn.apache.org/viewvc?view=rev&revision=574485), backported to 2.2.x as\nr575708 (http://svn.apache.org/viewvc?view=rev&revision=575708)", "attachment_id": null, "bug_id": 39907, "id": 108570, "time": "2007-09-25T06:54:41Z", "creator": "rpluem@apache.org", "creation_time": "2007-09-25T06:54:41Z", "is_private": false}]