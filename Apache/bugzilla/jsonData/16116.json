[{"count": 0, "tags": [], "bug_id": 16116, "attachment_id": null, "is_private": false, "id": 29416, "time": "2003-01-15T17:04:36Z", "creator": "kschneider@gmail.com", "creation_time": "2003-01-15T17:04:36Z", "text": "Given the (condensed) server.xml snippet:\n\n<Server port=\"8005\" shutdown=\"SHUTDOWN\" debug=\"0\">\n  <GlobalNamingResources>\n    <Environment name=\"simpleValue\" type=\"java.lang.Integer\" value=\"30\"/>\n  </GlobalNamingResources>\n  <Service name=\"Tomcat-Standalone\">\n    <Engine name=\"Standalone\" defaultHost=\"localhost\" debug=\"0\">\n      <DefaultContext>\n        <ResourceLink name=\"defaultSimpleValue\"\n                      global=\"simpleValue\"\n                      type=\"java.lang.Integer\"/>\n      </DefaultContext>\n...\n\nWith a test JSP:\n\n<%@ page contentType=\"text/plain\"\n         import=\"java.io.*,javax.naming.*\" %>\n\n<%\nContext ctx = null;\ntry {\n    ctx = new InitialContext();\n    Integer defaultSimpleValue =\n(Integer)ctx.lookup(\"java:comp/env/defaultSimpleValue\");\n    out.println(\"defaultSimpleValue = \" + defaultSimpleValue);\n} catch (Exception exc) {\n    exc.printStackTrace(new PrintWriter(out));\n} finally {\n    if (ctx != null) {\n        try {\n            ctx.close();\n        } catch (NamingException exc) {\n            exc.printStackTrace(new PrintWriter(out));\n        }\n    }\n}\n%>\n\nResults in:\n\njavax.naming.NameNotFoundException: Name defaultSimpleValue is not bound in this\nContext"}, {"count": 1, "attachment_id": 5515, "bug_id": 16116, "is_private": false, "id": 33845, "time": "2003-03-26T18:38:55Z", "creator": "michael.mcclure@trip.com", "creation_time": "2003-03-26T18:38:55Z", "tags": [], "text": "Created attachment 5515\nGeneral DefaultContext issues?"}, {"count": 2, "tags": [], "bug_id": 16116, "is_private": false, "text": "Yes, this does seem to be a general DefaultContext problem.  I've run through \nall the combinations I can think of and all comfirm this problem.  ResourceLink \nworks fine with Context, but same exact setup with DefaultContext for implicit \ncontexts do not resolve the link.  Also, a Realm set up referencing the \nglobally defined resource works fine.\n\nSee also: Bug 11662", "id": 43257, "time": "2003-08-25T18:13:17Z", "creator": "colinmadere@yahoo.com", "creation_time": "2003-08-25T18:13:17Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 16116, "attachment_id": null, "is_private": false, "id": 69749, "time": "2005-01-17T00:59:14Z", "creator": "markt@apache.org", "creation_time": "2005-01-17T00:59:14Z", "text": "\n\n*** This bug has been marked as a duplicate of 11662 ***"}]