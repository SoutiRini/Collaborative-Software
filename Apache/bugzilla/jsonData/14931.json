[{"count": 0, "tags": [], "bug_id": 14931, "attachment_id": null, "text": "A <taskdef> ignores its stated classpath settings in cases when the classname\nattribute can be resolved via the default ant classpath.\n\nThis setup:\n\n  <path id=\"junit.runtime.path\">\n    <pathelement\nlocation=\"${cvs.checkout}/gate5ag/Devel/Java/Lib/jakarta/ant-optional.jar\" />\n    <pathelement\nlocation=\"${cvs.checkout}/gate5ag/Devel/Java/Lib/junit/junit.jar\" />\n  </path>\n\n    <taskdef name=\"junit\"\nclassname=\"org.apache.tools.ant.taskdefs.optional.junit.JUnitTask\"\n           classpathref=\"junit.runtime.path\" />\n\ngives me a ClassNotFoundExc because junit.framework.TestListener cannot be found\n  if optional.jar is in $ANT_HOME/lib, and junit.jar is not.\n\nRemoving optional.jar from $ANT_HOME/lib fixes this; adding junit.jar to\n$ANT_HOME/lib does fix it as well.\n\n\nSeems to me that taskdef ignores my classpath if it can load\norg.apache.tools.ant.taskdefs.optional.junit.JUnitTask via the default\nclassloader, then tries to load the junit classes via the default CL as well.\nOf course this fails in the above setup.\n\nWhy does taskdef use the boot CL in the first place?", "id": 27117, "time": "2002-11-28T14:28:19Z", "creator": "dk@gate5.de", "creation_time": "2002-11-28T14:28:19Z", "is_private": false}, {"count": 1, "tags": [], "creator": "bodewig@apache.org", "attachment_id": null, "id": 27118, "time": "2002-11-28T14:40:34Z", "bug_id": 14931, "creation_time": "2002-11-28T14:40:34Z", "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of 6606 ***"}, {"count": 2, "tags": [], "bug_id": 14931, "attachment_id": null, "text": "More precise duplicate.", "id": 86273, "time": "2006-02-27T20:43:58Z", "creator": "jglick@apache.org", "creation_time": "2006-02-27T20:43:58Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 14931, "text": "\n\n*** This bug has been marked as a duplicate of 38799 ***", "id": 86275, "attachment_id": null, "creator": "jglick@apache.org", "creation_time": "2006-02-27T20:44:22Z", "time": "2006-02-27T20:44:22Z", "is_private": false}]