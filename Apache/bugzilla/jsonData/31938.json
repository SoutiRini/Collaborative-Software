[{"count": 0, "tags": [], "bug_id": 31938, "text": "I've got a problem with mod_jk2 and Apache2 under FreeBSD 5.x. I configured\nmod_jk2 for two Tomcat 5.0 servers. If one of these machines is down (unplugging\nthe network cable), mod_jk2 should send all requests to the server that kept\nrunning. That is working 80 percent of the time, but sometimes forwarding the\nrequest takes about 75 seconds. I found out that this is the default socket\ntimeout of FreeBSD. The problem is that I configured mod-jk2 the way, that it\nhas its own timeout for connecting (see attached workers2.properties). But this\nvalue is not recognized. If I decrease the default connect timeout for FreeBSD\n(by /etc/sysctl.conf),\nmod_jk2 will use this value and everything is fine. But I don't want to decrease\nthat value, it could cause other problems.\nSo I think it is a bug, that mod_jk2 is not using the timeout values from its\nworkers2.properties in FreeBSD.\nBtw exactly the same setup for Apache2 and mod_jk2 works fine on Linux.\n\n------------------------------\n\n[logger]\nlevel=DEBUG\n\n[shm]\nfile=/tmp/shmFile\n\n# Defines a load balancer named lb. \n[lb:lb]\n\n[workerEnv:]\ninfo=Global server options\ntiming=1\n\n# Example socket channel, override port and host.\n[channel.socket:192.168.1.124:8009]\ntomcatId=camenzind\ntimeout=1\n\n# Example socket channel, override port and host.\n[channel.socket:192.168.1.123:8009]\ntomcatId=haller\ntimeout=1\n\n# define the worker 1\n[ajp13:192.168.1.124:8009]\nchannel=channel.socket:192.168.1.124:8009\n\n# define the worker 2\n[ajp13:192.168.1.123:8009]\nchannel=channel.socket:192.168.1.123:8009\n\n# Mapping my URI to Tomcats\n[uri:/myURI*]\ngroup=lb\n\n[status:]\ninfo=Status worker, displays runtime information\n\n[uri:/jkstatus/*]\ninfo=The Tomcat /jkstatus handler\ngroup=status:", "id": 65898, "time": "2004-10-28T14:17:06Z", "creator": "mdxyz@gmx.de", "creation_time": "2004-10-28T14:17:06Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 31938, "attachment_id": null, "text": "As of November 15, 2004, JK2 is no longer supported. All bugs related to JK2 \nwill be marked as WONTFIX. In its place, some of its features have been \nbackported to jk1. Most of those features will be seen in 1.2.7, which is \nslated for release on November 30th, 2004.\n\nAnother alternative is the ajp addition to mod_proxy which will be part of \napache 2.\n\nFor more information on the Tomat connectors docs at\nhttp://jakarta.apache.org/tomcat/connectors-doc/\n", "id": 67556, "time": "2004-11-29T19:50:17Z", "creator": "yoavs@computer.org", "creation_time": "2004-11-29T19:50:17Z", "is_private": false}]