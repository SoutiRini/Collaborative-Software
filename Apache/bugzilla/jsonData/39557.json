[{"count": 0, "tags": [], "bug_id": 39557, "text": "Hi,\n\nWe have two JSP documents a.jsp and b.jsp. Suppose that some custom library is\ndefined correctly under the prefix \"x\". There is a tag library validator\nassociated with the TLD. The same bug is observed in Tomcat 5 while it is\nworking on Tomcat 4.\n---- a.jsp -----\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<jsp:root version=\"2.0\" xmlns:jsp=\"http://java.sun.com/JSP/Page\"\nxmlns:x=\"http://some/tld\" >\n  <jsp:directive.include file=\"b.jsp\"/>\n</jsp:root>\n\n---- b.jsp ----\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<jsp:root version=\"2.0\" xmlns:jsp=\"http://java.sun.com/JSP/Page\"  >\n    <x:doAction/>\n</jsp:root>\n\nWhen I try to request a.jsp i receive this exception:\norg.apache.jasper.JasperException: b.jsp(%row%,%column%) The prefix \"x\" for\nelement \"x:doAction\" is not bound.\n\nBut when I add the namespace to the jsp:root of the b.jsp the validator of the\ntaglibrary complains with:\n\nValidation error messages from TagLibraryValidator for trx\nnull: org.xml.sax.SAXParseException: Attribute \"x\" bound to namespace\n\"http://www.w3.org/2000/xmlns/\" was already specified for element \"jsp:root\".\n\nThis is against JSP 2.0, 2.1 specification: JSP.10.3.5 Collective Application of\nInclusion Semantics. This makes inclusion of JSP documents with custom tag\nlibraries that validate the XML view impossible.\n\nBest regards,\nTodor Mollov", "id": 89034, "time": "2006-05-11T11:42:56Z", "creator": "solaris42@abv.bg", "creation_time": "2006-05-11T11:42:56Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "*** Bug 35252 has been marked as a duplicate of this bug. ***", "id": 94358, "time": "2006-10-01T20:46:00Z", "bug_id": 39557, "creation_time": "2006-10-01T20:46:00Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 39557, "attachment_id": 19315, "id": 97414, "time": "2006-12-28T09:33:25Z", "creator": "chris@sourcelabs.com", "creation_time": "2006-12-28T09:33:25Z", "is_private": false, "text": "Created attachment 19315\nPatch to update host-manager webapp to use servlet 2.4 xsd"}, {"count": 3, "tags": [], "creator": "chris@sourcelabs.com", "attachment_id": 19316, "text": "Created attachment 19316\nPatch to update servlets-examples webapp to use servlet 2.4 xsd", "id": 97415, "time": "2006-12-28T09:34:09Z", "bug_id": 39557, "creation_time": "2006-12-28T09:34:09Z", "is_private": false}, {"count": 4, "tags": [], "creator": "chris@sourcelabs.com", "attachment_id": null, "text": "Very weird...I posted a comment to 40507 and then when I went to post patches I\nsomehow got punted to this bug without realizing it.  The patches are for 40507,\nnot this bug.  Sorry for the dupes.", "id": 97418, "time": "2006-12-28T09:41:18Z", "bug_id": 39557, "creation_time": "2006-12-28T09:41:18Z", "is_private": false}, {"count": 5, "tags": [], "creator": "yoavs@computer.org", "attachment_id": null, "text": "40507 has been fixed, using the patches you sent in Chris -- thanks.", "id": 100913, "time": "2007-03-25T14:23:27Z", "bug_id": 39557, "creation_time": "2007-03-25T14:23:27Z", "is_private": false}, {"count": 6, "attachment_id": null, "creator": "markt@apache.org", "text": "This works for me with the latest 5.5.x code as well as trunk.", "id": 128609, "time": "2009-07-07T13:55:29Z", "bug_id": 39557, "creation_time": "2009-07-07T13:55:29Z", "tags": [], "is_private": false}]