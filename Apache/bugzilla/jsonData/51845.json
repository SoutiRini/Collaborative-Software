[{"count": 0, "tags": [], "bug_id": 51845, "attachment_id": null, "is_private": false, "id": 149481, "time": "2011-09-19T09:42:33Z", "creator": "boy4u.zh@gmail.com", "creation_time": "2011-09-19T09:42:33Z", "text": "Task :\n~~~~~~~~~~~~~~~~~~~~\n> cat test.xml\n\n\n*********************************************\n<target name=\"test2\">\n\t<foreach param=\"param\" list=\"thread1,thread2\" target=\"output2\"\n\t\tparallel=\"true\" trim=\"true\" inheritall=\"true\"/>\n</target>\n<target name=\"output2\">\n\t<record name=\"log_${param}.log\"/>\n\t<echo>param is: ${param} </echo>\n\t<sleep seconds=\"2\"/>\n\t<sshexec host=\"xxxx\"\n\t\tusername=\"xxx\"\n\t\tpassword=\"xxx\"\n\t\tcommand=\"ls -ltr\" />\n</target>\n*********************************************\n\n\nExecution Result:\n~~~~~~~~~~~~~~~~~~~~\n> ant -f test.xml test2\n\n*********************************************\ntest2:\n\noutput2:\n\noutput2:\n     [echo] param is: thread2\n     [echo] param is: thread1\n  [sshexec] Connecting to xxxx:22\n  [sshexec] Connecting to xxxx:22\n  [sshexec] cmd : ls -ltr\n  [sshexec] cmd : ls -ltr\n  [foreach] total 104\n  [foreach] drwxr-xr-x  3 cs2rel CSDev  4096 Jun 15 08:55 tools\n  [foreach] drwx------  2 cs2rel CSDev  4096 Jun 23 09:10 Mail\n.......\n.......\n\n*********************************************\n\nError\n~~~~~~~~~~~~~~~~~~~~\nHowever, the record's output file didn't contains any output of sshexec's :\n\n> cat log_thread1.log\n*********************************************\n     [echo] param is: thread1 \n  [sshexec] Connecting to zhadepl01:22\n  [sshexec] cmd : ls -ltr\n*********************************************"}]