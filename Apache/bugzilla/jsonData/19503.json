[{"count": 0, "tags": [], "creator": "chrisw@wolfram.com", "is_private": false, "text": "Using the ant tasks, I am trying to install a webapp.  It works correctly if I \ninstall a webapp that is already unpacked.  However, if I try to point it to a \nwar file, it one does install it, but it does not unpack it.  This is a problem \nfor me for two reasons.  Number one, my webapp needs to be unpacked to find \nsome resources.  Number two, it does not find the webapp if it is not \nextracted.  I can show an error message of the second problem.\n\nThe ant task call looks like this...\n\n<install url=\"${tomcat.manager.url}\"\n        username=\"${tomcat.manager.username}\"\n        password=\"${tomcat.manager.password}\"\n        path=\"/${app.name}\"\n        war=\"file:${install.base}/${app.name}\"/>\n\nwhere ${app.name} resolve correctly to Tools.\n${install.base} resolves correctly to directory with the the war file.\n\nAs output I get...\n\n[install] OK - Installed application at context path /Tools\n\nAs output of a list I get...\n\nlist:\n     [list] OK - Listed applications for virtual host localhost\n     [list] /admin:running:0:../server/webapps/admin\n     [list] /webdav:running:0:C:\\tomcat\\jakarta-tomcat-4.1.24\\webapps\\webdav\n     [list] /examples:running:0:examples\n     [list] /Tools:running:0:C:\\tomcat\\jakarta-tomcat-4.1.24\\webapps\\Tools.war\n     [list] /tomcat-docs:running:0:C:\\tomcat\\jakarta-tomcat-4.1.24\\webapps\\tomca\nt-docs\n     [list] /:running:0:C:\\tomcat\\jakarta-tomcat-4.1.24\\webapps\\ROOT\n     [list] /manager:running:0:../server/webapps/manager\n\n\nSo I am deploying Tools.war to /Tools.  However, it does not create a Tools \ndirectory in my webapps directory.  This causes...\n\n2003-04-30 16:39:50 StandardContext[/Tools]: Resources start failed:\njava.lang.IllegalArgumentException: Document base C:\\tomcat\\jakarta-tomcat-\n4.1.24\\webapps\\Tools does not exist or is not a readable directory\n\nI have the host's unpackWARs=\"true\" set.  There doesn't appear to be any reason \nwhy the war file is not extracted and causing the two problems.", "id": 36417, "time": "2003-04-30T22:18:56Z", "bug_id": 19503, "creation_time": "2003-04-30T22:18:56Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 19503, "attachment_id": null, "id": 36418, "time": "2003-04-30T22:23:14Z", "creator": "chrisw@wolfram.com", "creation_time": "2003-04-30T22:23:14Z", "is_private": false, "text": "I actually posted the wrong list.  It appears as such where Tools is stopped.\n\n[list] OK - Listed applications for virtual host localhost\n[list] /admin:running:0:../server/webapps/admin\n[list] /webdav:running:0:C:\\tomcat\\jakarta-tomcat-4.1.24\\webapps\\webdav\n[list] /examples:running:0:examples\n[list] /Tools:stopped:0:C:/tomcat/jakarta-tomcat-4.1.24/webapps/Tools\n[list] /tomcat-docs:running:0:C:\\tomcat\\jakarta-tomcat-4.1.24\\webapps\\tomca\ns\n[list] /:running:0:C:\\tomcat\\jakarta-tomcat-4.1.24\\webapps\\ROOT\n[list] /manager:running:0:../server/webapps/manager"}, {"count": 2, "tags": [], "creator": "remm@apache.org", "text": "How about trying a simple solution, and unpacking your war somewhere. Now this\nis a very old issue (which won't get fixed), where if you define an exact URL,\nWARs will not get unpacked (unpackWARs is used to control the host's auto\ndeployer). You can easily find the report in bugzilla.", "id": 36419, "time": "2003-04-30T22:37:15Z", "bug_id": 19503, "creation_time": "2003-04-30T22:37:15Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "chrisw@wolfram.com", "is_private": false, "text": "Under the installation notes of tomcat 4.1 manager howto it reads...\n\nIf the Host is configured with unpackWARs=true and you install a war file, the \nwar will be unpacked into a directory in your Host appBase directory.\n\nI suggest this be changed if this bug will never be fixed.  That to me is the \ndefinitive answer to my question.  That is the reason I reported a bug.", "id": 36441, "time": "2003-05-01T13:52:56Z", "bug_id": 19503, "creation_time": "2003-05-01T13:52:56Z", "attachment_id": null}, {"count": 4, "tags": [], "creator": "chrisw@wolfram.com", "attachment_id": null, "id": 36445, "time": "2003-05-01T14:11:16Z", "bug_id": 19503, "creation_time": "2003-05-01T14:11:16Z", "is_private": false, "text": "I see this unpacks the war if it finds it relative to the webapps directory.  \nThis is described in the section \"Install a Directory or War from the Host \nappBase\".  Perhaps the documentation in the howto section \"Installation Notes\" \nshould updated to avoid confusion.  I did not assume that only applied to \nthe \"Host appBase\" section.  I assumed it also applied to the URL section as \nwell as the .xml file section."}]