[{"count": 0, "tags": [], "creator": "dev@tomcat.apache.org", "text": "If there is an error in a jsp file that was included with the jsp:include tag and flush is set to true, Internet Explorer (5.5) does not display the error and sometimes gets stuck in a loop loading the page over and over again until the operation is manually stopped. The follow example causes this to happen:\r\n\r\ntest1.jsp:\r\n<html>\r\n<body bgcolor=\"#FFFFFF\">\r\n<jsp:include page=\"test2.jsp\" flush=\"true\" />\r\n</body>\r\n</html>\r\n\r\ntest2.jsp:\r\n<%\r\nbad syntax\r\n%>\r\n\r\n\r\nThe Tomcat Exception Report generated by this error displays correctly in IE if flush is set to false and displays correctly in Netscape regardless of the value of flush.\r\n\r\nI have used the RequestDumperValve to show the requests going back and forth between IE and Tomcat. While I am not certain this is related, the content length of Tomcat's response is -1, even though some data should have been returned (the error message). The RequestDumperValve excerpt is here:\r\n\r\n2001-01-15 21:46:53 RequestDumperValve[Standalone]: ===============================================================\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]: REQUEST URI       =/test.jsp\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:           authType=null\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:  characterEncoding=ISO-8859-1\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:      contentLength=-1\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:        contentType=null\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:        contextPath=\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:             cookie=JSESSIONID=27F243C53725B2F3E25410108860A1E4\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:             header=accept=image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/vnd.ms-excel, application/msword, application/vnd.ms-powerpoint, application/pdf, */*\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:             header=accept-language=en-us\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:             header=accept-encoding=gzip, deflate\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:             header=user-agent=Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0)\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:             header=host=copernicus:8080\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:             header=connection=Keep-Alive\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:             header=cookie=JSESSIONID=27F243C53725B2F3E25410108860A1E4\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:             locale=en_US\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:             method=GET\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:           pathInfo=null\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:           protocol=HTTP/1.1\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:        queryString=null\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:         remoteAddr=10.134.3.250\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:         remoteHost=copernicus\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:         remoteUser=null\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]: requestedSessionId=27F243C53725B2F3E25410108860A1E4\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:             scheme=http\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:         serverName=copernicus\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:         serverPort=8080\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:        servletPath=null\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]:           isSecure=false\r\n2001-01-15 21:46:58 RequestDumperValve[Standalone]: ---------------------------------------------------------------\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]: ---------------------------------------------------------------\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:           authType=null\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:      contentLength=-1\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:        contentType=text/html;charset=8859_1\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=Date=Tue, 16 Jan 2001 02:46:58 GMT\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=Transfer-Encoding=chunked\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=Server=Apache Tomcat/4.0-b1 (HTTP/1.1 Connector)\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:            message=OK\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:         remoteUser=null\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             status=200\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]: ===============================================================\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]: REQUEST URI       =/test.jsp\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:           authType=null\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:  characterEncoding=ISO-8859-1\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:      contentLength=-1\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:        contentType=null\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:        contextPath=\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             cookie=JSESSIONID=27F243C53725B2F3E25410108860A1E4\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=accept=image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/vnd.ms-excel, application/msword, application/vnd.ms-powerpoint, application/pdf, */*\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=accept-language=en-us\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=accept-encoding=gzip, deflate\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=user-agent=Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0)\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=host=copernicus:8080\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=connection=Keep-Alive\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=cookie=JSESSIONID=27F243C53725B2F3E25410108860A1E4\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             locale=en_US\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             method=GET\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:           pathInfo=null\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:           protocol=HTTP/1.1\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:        queryString=null\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:         remoteAddr=10.134.3.250\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:         remoteHost=copernicus\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:         remoteUser=null\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]: requestedSessionId=27F243C53725B2F3E25410108860A1E4\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             scheme=http\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:         serverName=copernicus\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:         serverPort=8080\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:        servletPath=null\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:           isSecure=false\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]: ---------------------------------------------------------------\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]: ---------------------------------------------------------------\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:           authType=null\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:      contentLength=-1\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:        contentType=text/html;charset=8859_1\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=Date=Tue, 16 Jan 2001 02:46:59 GMT\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=Transfer-Encoding=chunked\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             header=Server=Apache Tomcat/4.0-b1 (HTTP/1.1 Connector)\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:            message=OK\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:         remoteUser=null\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]:             status=200\r\n2001-01-15 21:46:59 RequestDumperValve[Standalone]: ===============================================================\r\n", "id": 422, "time": "2001-01-15T21:00:22Z", "bug_id": 453, "creation_time": "2001-01-15T21:00:22Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 453, "attachment_id": null, "text": "That particular case was causing trouble with the response transfer encoding ...\nI just fixed the problem.", "id": 1619, "time": "2001-03-27T21:39:16Z", "creator": "remm@apache.org", "creation_time": "2001-03-27T21:39:16Z", "is_private": false}]