[{"count": 0, "text": "Hello,\nCurrently whenever you want to make some processing and a JMeter function is not available for it, you can only use __BeanShell function.\nFor example:\n- substring\n- length\n- Maths functions\n- + hundreds of examples where you need the power of Java without wanting to use a JSR223TestElement. \n....\n\n\nUnfortunately Beanshell performances are horrid compared to Groovy ones for example besides the fact that Groovy is now integrated in JMeter, maintained by Apache and very popular and that Beanshell is nearly abandoned.\n\n\nSo we propose to add this function that will work the same way as Beanshell.", "bug_id": 59991, "is_private": false, "id": 193044, "time": "2016-08-11T21:37:36Z", "creator": "support@ubikloadpack.com", "creation_time": "2016-08-11T21:37:36Z", "tags": [], "attachment_id": null}, {"count": 1, "tags": [], "creator": "support@ubikloadpack.com", "is_private": false, "text": "Created attachment 34139\nPatch implementing this new feature", "id": 193045, "time": "2016-08-11T21:39:41Z", "bug_id": 59991, "creation_time": "2016-08-11T21:39:41Z", "attachment_id": 34139}, {"attachment_id": 34140, "tags": [], "creator": "support@ubikloadpack.com", "is_private": false, "count": 2, "id": 193046, "time": "2016-08-11T21:40:36Z", "bug_id": 59991, "creation_time": "2016-08-11T21:40:36Z", "text": "Created attachment 34140\nTest plan showing use case and allowing performane comparison"}, {"count": 3, "tags": [], "creator": "support@ubikloadpack.com", "text": "On my machine with a default setup:\n\nTG-Groovy Enabled only:\nGenerate Summary Results =  20000 in 00:00:00 = 41666.7/s Avg:     0 Min:     0 Max:     2 Err:     0 (0.00%)\n\n\nTG-Beanshell enabled only:\nGenerate Summary Results +    891 in 00:00:01 = 1161.7/s Avg:     0 Min:     0 Max:     1 Err:     0 (0.00%) Active: 0 Started: 20 Finished: 20\nGenerate Summary Results =  40000 in 00:00:16 = 2539.4/s Avg:     0 Min:     0 Max:     2 Err:     0 (0.00%)\n\n\nThis simple benchmark shows that this new __g function is 35 times faster than __BeanShell.", "id": 193047, "time": "2016-08-11T21:44:34Z", "bug_id": 59991, "creation_time": "2016-08-11T21:44:34Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 59991, "attachment_id": null, "text": "(In reply to UbikLoadPack support from comment #3)\n> On my machine with a default setup:\n> \n> TG-Groovy Enabled only:\n> Generate Summary Results =  20000 in 00:00:00 = 41666.7/s Avg:     0 Min:   \n> 0 Max:     2 Err:     0 (0.00%)\n> \n> \n> TG-Beanshell enabled only:\n> Generate Summary Results +    891 in 00:00:01 = 1161.7/s Avg:     0 Min:    \n> 0 Max:     1 Err:     0 (0.00%) Active: 0 Started: 20 Finished: 20\n> Generate Summary Results =  40000 in 00:00:16 = 2539.4/s Avg:     0 Min:    \n> 0 Max:     2 Err:     0 (0.00%)\n> \n> \n> This simple benchmark shows that this new __g function is 35 times faster\n> than __BeanShell.\n\nSorry little mistake for Beanshell:\n\nGenerate Summary Results +  17444 in 00:00:13 = 1312.6/s Avg:     0 Min:     0 Max:     2 Err:     0 (0.00%) Active: 10 Started: 10 Finished: 0\nGenerate Summary Results +   2556 in 00:00:02 = 1296.1/s Avg:     0 Min:     0 Max:     1 Err:     0 (0.00%) Active: 0 Started: 10 Finished: 10\nGenerate Summary Results =  20000 in 00:00:15 = 1310.4/s Avg:     0 Min:     0 Max:     2 Err:     0 (0.00%)\n\nThis simple benchmark shows that this new __g function is 31 times faster\n than __BeanShell.", "id": 193049, "time": "2016-08-11T21:49:14Z", "creator": "support@ubikloadpack.com", "creation_time": "2016-08-11T21:49:14Z", "is_private": false}, {"count": 5, "tags": [], "bug_id": 59991, "text": "This seems fine, but I think it's confusing to use the name '__g'.\n\nThe function should be called '__groovy' to align with the other scripting functions.\n\nAlso the new file needs the standard AL header.", "id": 193065, "time": "2016-08-12T09:35:08Z", "creator": "sebb@apache.org", "creation_time": "2016-08-12T09:35:08Z", "is_private": false, "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 59991, "attachment_id": null, "text": "Author: pmouawad\nDate: Fri Aug 12 11:00:39 2016\nNew Revision: 1756144\n\nURL: http://svn.apache.org/viewvc?rev=1756144&view=rev\nLog:\nBug 59991 - New function __groovy to evaluate Groovy Script\nContributed by Ubik Load Pack\nBugzilla Id: 59991\n\nAdded:\n    jmeter/trunk/src/functions/org/apache/jmeter/functions/Groovy.java   (with props)\nModified:\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages.properties\n    jmeter/trunk/src/core/org/apache/jmeter/resources/messages_fr.properties\n    jmeter/trunk/xdocs/changes.xml\n    jmeter/trunk/xdocs/usermanual/functions.xml", "id": 193067, "time": "2016-08-12T11:02:32Z", "creator": "p.mouawad@ubik-ingenierie.com", "creation_time": "2016-08-12T11:02:32Z", "is_private": false}]