[{"count": 0, "tags": [], "creator": "asokol@edocs.com", "attachment_id": null, "text": "Using ant-1.4alpha nightly build taken on July 27th, 2001\n\nWhen using default xsl formatting with junitreport task, statistics on a Home \npage under 'Packages' are not reported properly - get always set to zeroes. \n\nIf overview-packages.xsl file is modified as follows - from line #94 onward, it \nworks:\n\n<xsl:template name=\"statistics\">\n    <xsl:variable name=\"isError\"/>\n        <td>\n            <xsl:value-of select=\"sum(../testsuite[@package = current()/@package\n]/@tests)\"/></td>\n        <td>\n            <xsl:value-of select=\"sum(../testsuite[@package = current()/@package\n]/@errors)\"/></td>\n        <td>\n            <xsl:value-of select=\"sum(../testsuite[@package = current()/@package\n]/@failures)\"/></td>\n        <td>\n            <xsl:call-template name=\"display-time\">\n                <xsl:with-param name=\"value\" select=\"sum(../testsuite[@package =\n current()/@package]/@time)\"/>\n            </xsl:call-template>\n        </td>\n</xsl:template>", "id": 4157, "time": "2001-07-30T14:41:56Z", "bug_id": 2905, "creation_time": "2001-07-30T14:41:56Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 2905, "attachment_id": null, "id": 4190, "time": "2001-07-31T13:52:19Z", "creator": "sbailliez@apache.org", "creation_time": "2001-07-31T13:52:19Z", "is_private": false, "text": "I think this bug will probably be set in 'wontfix' since I plan to commit a \ntotally different xsl, but for now, I don't understand the report.\n\nSince the template is always called in <testsuite> node, I understand why you \nare doing '../testsuite' but the problem is that '//testsuite' will perform \nthe same thing, as well as '/testsuites/testsuite'. (not at the same speed but \nthat's another problem)\n\nFor example if you are running the xsl on this xml:\n<?xml:stylesheet type=\"text/xsl\" href=\"overview-packages.xsl\"?>\n<testsuites>\n <testsuite package=\"com.mycompany\" name=\"A\" errors=\"2\" failures=\"1\" tests=\"5\" \ntime=\"1\"/>\n <testsuite package=\"com.mycompany\" name=\"B\" errors=\"0\" failures=\"2\" tests=\"3\" \ntime=\"2\"/>\n <testsuite package=\"com.mycompany.module\" name=\"C\" errors=\"0\" failures=\"1\" \ntests=\"0\" time=\"4\"/>\n</testsuites>\n\nWith the 3 different ways to compute the stats I have the same results which \nare not zero:\n\nSummary: 8, 4, 2, 25.00%, 6.000\ncom.mycompany: 8, 2, 3, 3.000\ncom.mycompany.module: 0, 0, 1, 3.000\n\nAre you using xalan 1.2.2 ?"}, {"count": 2, "tags": [], "creator": "sbailliez@apache.org", "attachment_id": null, "text": "XSLs are different since 1.4 release so this is no more a valid issue.", "id": 7884, "time": "2001-11-13T14:27:29Z", "bug_id": 2905, "creation_time": "2001-11-13T14:27:29Z", "is_private": false}]