[{"count": 0, "tags": [], "bug_id": 15469, "is_private": false, "text": "Observed behavior:\n\nUse of a custom DataType with a build target outputs \"Overriding previous\ndefinition of reference $refid\" warning message.  The warning _appears_ to be\nharmless, but is bound to freak out my users.\n\nThe warning is triggered when actually executing the target which uses the\ncustom DataType when Ant calls Project's addReference(String, Object) method. \nI'm assuming that UnknownElement was previously registered with the Project as a\nReference to my custom DataType, perhaps by when ProjectHelperImpl it initially\nparsed the build.xml file.\n\n\nExpected behavior:\n\nReference will be set without printing warning erroneous message.\n\n\nSteps to reproduce using Ant 1.5.1:\n\n1. Define a custom DataType extension using TypeDef (and of course the Java code\nneeded to implement said class).\n\n2. Use this custom DataType within any build target.\n\n3. Invoke the build target (using the default logger), and watch as a warning\nmessage is output on stdout.\n\n\nPossible work around:\n\nUse Project's getReferences() instance method, which returns a handle to\nProject's private \"references\" instance field, to avoid calling addReference()\nafter a custom DataType has already been registered with a Project instance.\n\n\nAt a high level, this issue appears similar to the following issue against Ant\n1.4.1 from last year:\n\nhttp://nagoya.apache.org/bugzilla/show_bug.cgi?id=5161", "id": 27982, "time": "2002-12-18T01:25:30Z", "creator": "dlr@apache.org", "creation_time": "2002-12-18T01:25:30Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 15469, "text": "This is supposed to be fixed now.  Can you please check a recent nightly build of\neither CVS HEAD http://cvs.apache.org/builds/jakarta-ant/nightly/ or the 1.5\nbranch http://cvs.apache.org/~bodewig/gump/ant1.5.2alpha/ ?", "id": 29258, "time": "2003-01-13T13:56:14Z", "creator": "bodewig@apache.org", "creation_time": "2003-01-13T13:56:14Z", "is_private": false, "attachment_id": null}, {"text": "PING?", "tags": [], "bug_id": 15469, "is_private": false, "count": 2, "id": 31134, "time": "2003-02-12T14:50:53Z", "creator": "bodewig@apache.org", "creation_time": "2003-02-12T14:50:53Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 15469, "attachment_id": null, "text": "Please test and if there are issues, reopen - thanks", "id": 31138, "time": "2003-02-12T14:57:21Z", "creator": "conor@apache.org", "creation_time": "2003-02-12T14:57:21Z", "is_private": false}, {"count": 4, "attachment_id": null, "creator": "dlr@apache.org", "is_private": false, "id": 31162, "time": "2003-02-12T18:31:27Z", "bug_id": 15469, "creation_time": "2003-02-12T18:31:27Z", "tags": [], "text": "Will do, Stephen, Conor.  Our release schedule hasn't presented an opportunity,\nand I've been working on other projects in my off hours.  I've filed an issue in\nour own issue tracker for testing this out -- will verify then.\n\n"}, {"count": 5, "tags": [], "bug_id": 15469, "text": "Confirmed that 1.5.2 final fixes this.  Thanks guys!\n", "id": 32384, "time": "2003-03-04T01:58:51Z", "creator": "dlr@apache.org", "creation_time": "2003-03-04T01:58:51Z", "is_private": false, "attachment_id": null}]