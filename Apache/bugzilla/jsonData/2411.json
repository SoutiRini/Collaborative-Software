[{"count": 0, "tags": [], "bug_id": 2411, "text": "Hi,\nI have written a small code (rather just changed few statements in the\nsupplied \"MyCategory\" example code).There is a  method called log which\ndisplays \"Hello world\" on the console. But when i call that method\ntwice, i get the output thrice and when i call it thrice,i get the\noutput six times.Please suggest me where i have gone wrong. I am\nattaching the code with this report.\n\nRegards\nSridhar\n\n\n------------------------------------MyCategory.java---------------------------\npackage org.apache.log4j.examples;\n\nimport org.apache.log4j.*;\nimport org.apache.log4j.spi.CategoryFactory;\nimport org.apache.log4j.xml.DOMConfigurator;\nimport org.apache.log4j.xml.examples.XPriority;\nimport org.apache.log4j.PropertyConfigurator;\nimport org.apache.log4j.helpers.LogLog;\n\npublic class MyCategory extends Category {\n\n  private static String FQCN = MyCategory.class.getName();\n\n  // It's enough to instantiate a factory once and for all.\n  private static MyCategoryFactory myFactory = new MyCategoryFactory();\n\n  static public void main(String[] args)\n  {\n    try\n    {\n      MyCategory c = (MyCategory) MyCategory.getInstance(\"some.cat\");\n      c.log();\n      c.log();\n    }\n    catch(ClassCastException e) {\n\n    }\n  }\n\n\n  public MyCategory(String name) {\n    super(name);\n  }\n\n\npublic void log() throws ClassCastException\n{\n\tCategory root = Category.getRoot();\n\t      Layout layout = new PatternLayout(\" %m%n\");\n      root.addAppender(new ConsoleAppender(layout, ConsoleAppender.SYSTEM_OUT));\n        this.debug(\"Hello\");\n        this.debug(\"Hai\");\n}\n  public void debug(String message) {\n    super.debug(message + \" world.\");\n  }\n\n  public static Category getInstance(String name) {\n    return Category.getInstance(name, myFactory);\n  }\n\n\n}\n\n-------------------------------------------------------------------------------\n\n-----------------------------MyCategoryFactory.java----------------------------\n/*\n * Copyright (C) The Apache Software Foundation. All rights reserved.\n *\n * This software is published under the terms of the Apache Software\n * License version 1.1, a copy of which has been included with this\n * distribution in the LICENSE.APL file.  */\n\npackage org.apache.log4j.examples;\n\nimport org.apache.log4j.Category;\nimport org.apache.log4j.spi.CategoryFactory;\n\n/**\n   A factory that makes new {@link MyCategory} objects.\n\n   See <b><a href=\"doc-files/MyCategoryFactory.java\">source\n   code</a></b> for more details.\n\n   @author Ceki G&uuml;lc&uuml; */\npublic class MyCategoryFactory implements CategoryFactory {\n\n  /**\n     The constructor should be public as it will be called by\n     configurators in different packages.  */\n  public\n  MyCategoryFactory() {\n  }\n\n  public\n  Category makeNewCategoryInstance(String name) {\n    return new MyCategory(name);\n  }\n}\n--------------------------------------------------------------------------------", "id": 3353, "time": "2001-07-02T00:22:04Z", "creator": "anala_sridhar@yahoo.com", "creation_time": "2001-07-02T00:22:04Z", "is_private": false, "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 2411, "text": "Anala,\n\nThis has been discussed a million times. Please read the troubleshooting guide.", "id": 3355, "time": "2001-07-02T02:02:19Z", "creator": "ceki@apache.org", "creation_time": "2001-07-02T02:02:19Z", "tags": [], "is_private": false}]