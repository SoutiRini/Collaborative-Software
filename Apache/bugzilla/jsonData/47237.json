[{"count": 0, "tags": [], "text": "These objects get cached with keep alive connections, with a very large amount of connections, this means memory consumption.\nhttp://tomcat.markmail.org/message/vyk2mjymxzjsxwao?q=NIOConnector+and+high+memory+consumption", "is_private": false, "bug_id": 47237, "id": 127246, "time": "2009-05-21T09:09:15Z", "creator": "fhanik@apache.org", "creation_time": "2009-05-21T09:09:15Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 47237, "attachment_id": null, "id": 127774, "time": "2009-06-09T15:16:57Z", "creator": "fhanik@apache.org", "creation_time": "2009-06-09T15:16:57Z", "is_private": false, "text": "Fixed in http://svn.apache.org/viewvc?rev=783155&view=rev\nProposed for backport into 6.0.x branch"}, {"count": 2, "tags": [], "creator": "fhanik@apache.org", "text": "Fixed in 6.0.x branch\nhttp://svn.apache.org/viewvc?rev=783489&view=rev", "id": 127821, "time": "2009-06-10T13:20:57Z", "bug_id": 47237, "creation_time": "2009-06-10T13:20:57Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 47237, "attachment_id": null, "id": 136774, "time": "2010-05-11T07:41:36Z", "creator": "lwr@21cn.com", "creation_time": "2010-05-11T07:41:36Z", "is_private": false, "text": "Some issue found after this patch applied: http://svn.apache.org/viewvc?rev=783155&view=rev\n\nplease check this steps:\n1. start tomcat with connector - Http11NIOProtocol\n2. use a console, and type:\n------------------------------------------------------------------------\n[root@localhost ~]# telnet 127.0.0.1 8080\n<Echo>  Trying 127.0.0.1...\n<Echo>  Connected to localhost (127.0.0.1).\n<Echo>  Escape character is '^]'.\n<Input> GET /test HTTP/1.0\n<Input> Host: test\n<Echo>  Connection closed by foreign host.\n------------------------------------------------------------------------\nthe server just close the socket, and nothing was logged\n\n\n3. I try this on TC 6.0.20, and it's OK\n   (Same result test for 6.0.26 with Http11Protocol)\n------------------------------------------------------------------------\n[root@localhost ~]# telnet 127.0.0.1 8080\n<S Echo>  Trying 127.0.0.1...\n<S Echo>  Connected to localhost (127.0.0.1).\n<S Echo>  Escape character is '^]'.\n<C Input> GET /test HTTP/1.0\n<C Input> Host: test\n<C Input>\n<S Echo> HTTP/1.1 404 Not Found\n<S Echo> Server: Apache-Coyote/1.1\n<S Echo> Content-Type: text/html;charset=utf-8\n<S Echo> Content-Length: 967\n<S Echo> Date: Tue, 11 May 2010 11:23:11 GMT\n<S Echo> Connection: close\n<S Echo>\n<S Echo> <html><head><title>Apache Tomcat/6.0.20 - Error report</title>\n<S Echo> ... ... </body></html>Connection closed by foreign host.\n------------------------------------------------------------------------\n\nIt seems that this changes in http://svn.apache.org/viewvc?rev=783155&view=rev of Http11NioProtocol.java causes this problem."}, {"count": 4, "tags": [], "bug_id": 47237, "text": "Tried both 6.0.x/trunk and trunk, returns 404 for the request\n\nGET /test HTTP/1.0<CRLF>\nHost: test<CRLF><CRLF>\n\nNotice, if you send an invalid request like \n\n\nGET /test HTTP/1.0<CRLF>\nHost: test<CRLF>\n\nwith a CRLF missing, it simply times out and closes the connection. The request is incomplete", "id": 136782, "time": "2010-05-11T12:19:35Z", "creator": "fhanik@apache.org", "creation_time": "2010-05-11T12:19:35Z", "is_private": false, "attachment_id": null}]