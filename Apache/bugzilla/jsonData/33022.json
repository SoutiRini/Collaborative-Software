[{"count": 0, "tags": [], "creator": "bobsiegen@googlemail.com", "attachment_id": null, "id": 69459, "time": "2005-01-09T19:48:05Z", "bug_id": 33022, "creation_time": "2005-01-09T19:48:05Z", "is_private": false, "text": "While using this code in a .htaccess file in a subfolder /test/ (per-directory\nrewriting), the Virtual memory runs out. I barely was able to restart apache\nserver before a system crash. \n\nThe request URL was http://www.example.com/test/index/ab/1/cd/3\nand should be rewritten to http://www.example.com/test/index.php?ab=1&cd=3\n\n/test/ is the physical-directory-path, so there is no use of mod_alias which\nmight require to specify a \"RewriteBase /physical-directory-path\"\n\nthis is (the only) used RewriteRule in /test/.htaccess, there are no other Rules\neither in /.htaccess or the server-config\n---\nRewriteEngine On\nRewriteRule ^index/([^/]+)/([^/]+)(.*)$ /index$3?$1=$2 [QSA,N]\nRewriteRule ^index/?$ index.php [QSA,L]\n---\n\nThis has happened at least on WinXP with Apache/2.0.48 and Apache/1.3.26.\n\nThis Prolem was solved, when the dir-prefix /test/ was specified in the\nsubstitution:\n---\nRewriteEngine On\nRewriteRule ^index/([^/]+)/([^/]+)(.*)$ /test/index$3?$1=$2 [QSA,N]\nRewriteRule ^index/?$ /test/index.php [QSA,L]\n---"}, {"count": 1, "attachment_id": null, "bug_id": 33022, "text": "I'd guess you are creating an infinite loop.\n\nHave you looked in the rewritelog?\n\nHave you tried with a more recent version of apache that has improved control of\nlooping subrequests?\n\nI'd guess that those two should solve your problem, but if not, feel free to\nreopen the bug.", "id": 69487, "time": "2005-01-10T16:55:27Z", "creator": "slive@apache.org", "creation_time": "2005-01-10T16:55:27Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "creator": "bobsiegen@googlemail.com", "is_private": false, "text": "\n\n*** This bug has been marked as a duplicate of 38642 ***", "id": 94075, "time": "2006-09-25T10:41:11Z", "bug_id": 33022, "creation_time": "2006-09-25T10:41:11Z", "attachment_id": null}, {"count": 3, "tags": [], "creator": "rpluem@apache.org", "is_private": false, "text": "There is no limit on the number of loop iterations caused by option \"N\". So a\nbad rewrite rule with option \"N\" can shoot yourself into the foot. Mind the\nwarning in the docs:\n\nBe careful not to create an infinite loop!", "id": 94078, "time": "2006-09-25T10:46:18Z", "bug_id": 33022, "creation_time": "2006-09-25T10:46:18Z", "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 33022, "attachment_id": null, "text": "Of course, but Apache creates the loop here, not the rule itself. The rule\nitself will be finished some time if no /name/value pairs are left anymore. But\nif apache continuesly adds path-info (in this case /index/ab/1/cd/3) each round\n(which is undocumented and IMHO wrong if a subst. has been applied), the rule\nwill never end.", "id": 94080, "time": "2006-09-25T11:01:59Z", "creator": "bobsiegen@googlemail.com", "creation_time": "2006-09-25T11:01:59Z", "is_private": false}]