[{"count": 0, "tags": [], "bug_id": 4458, "is_private": false, "text": "Win2000 Server\nJDK1.3.1_01\nJSSE1.0.2\n\nCATALINA_HOME=D:\\ApacheTomcat\nJSSE_HOME=D:\\JSSE1.0.2\nJAVA_HOME=D:\\JDK1.3.1_01\n\nSSL enabled in server.xml such that:\n\n    <!-- Define a non-SSL HTTP/1.1 Connector on port 8080 -->\n    <Connector className=\"org.apache.catalina.connector.http.HttpConnector\"\n               port=\"8080\" minProcessors=\"5\" maxProcessors=\"75\"\n               enableLookups=\"true\" redirectPort=\"8443\"\n               acceptCount=\"10\" debug=\"0\" connectionTimeout=\"60000\"/>\n    <!-- Note : To disable connection timeouts, set connectionTimeout value \n     to -1 -->\n\n    <!-- Define an SSL HTTP/1.1 Connector on port 8443 -->\n\n    <Connector className=\"org.apache.catalina.connector.http.HttpConnector\"\n               port=\"8443\" minProcessors=\"5\" maxProcessors=\"75\"\n               enableLookups=\"true\"\n\t       acceptCount=\"10\" debug=\"0\" scheme=\"https\" secure=\"true\">\n      <Factory className=\"org.apache.catalina.net.SSLServerSocketFactory\"\n\t       keystoreFile=\"cert/keystore\"\n               clientAuth=\"false\" protocol=\"TLS\"/>\n    </Connector>\n\nNote:  \nkeytool -genkey -alias tomcat -keyalg RSA \\\n-keystore \"D:\\ApacheTomcat\\cert\\keystore\"\n\nObservation:  \n\nCorrect behavior ensues when I launch D:\\ApacheTomcat\\bin\\startup from any \nshell.  I am able to access both http://localhost:8080 and \nhttps://localhost:8443.\n\nWhen I attempt to launch from \"Start/Run/Programs/Apache Tomcat 4.0/Start \nTomcat\"  I get:\n\nException during startup processing\njava.lang.reflect.InvocationTargetException: java.lang.NoClassDefFoundError: jav\nax/net/ServerSocketFactory\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Unknown Source)\n        at org.apache.catalina.util.xml.ObjectCreate.start(XmlMapper.java:616)\n        at org.apache.catalina.util.xml.XmlMapper.matchStart(XmlMapper.java:412)\n\n        at org.apache.catalina.util.xml.XmlMapper.startElement(XmlMapper.java:91\n)\n        at org.xml.sax.helpers.XMLReaderAdapter.startElement(XMLReaderAdapter.ja\nva:329)\n        at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1451)\n        at org.apache.crimson.parser.Parser2.content(Parser2.java:1700)\n        at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1468)\n        at org.apache.crimson.parser.Parser2.content(Parser2.java:1700)\n        at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1468)\n        at org.apache.crimson.parser.Parser2.content(Parser2.java:1700)\n        at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1468)\n        at org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:499)\n        at org.apache.crimson.parser.Parser2.parse(Parser2.java:304)\n        at org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:433)\n\n        at org.xml.sax.helpers.XMLReaderAdapter.parse(XMLReaderAdapter.java:223)\n\n        at javax.xml.parsers.SAXParser.parse(SAXParser.java:317)\n        at javax.xml.parsers.SAXParser.parse(SAXParser.java:260)\n\nNote:  I am unable to capture the whole trace (I thought I did pretty good \ngetting this much).\n\nAm I missing something?  Is there something that is set corrrectly from the env \nwhen shell launched that is set incorrectly when shortcut launched?\n\nImportance is not high - not even sure that this is a bug but the inconsistancy \nseems to confirm.\n\nKindly", "id": 7210, "time": "2001-10-26T11:16:38Z", "creator": "ijohnson@sympatico.ca", "creation_time": "2001-10-26T11:16:38Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "You need to put the JSSE JARs in common/lib for that to work (the shortcuts \nwill ignore the env variables). Or alternately, you can edit the shortcuts, or \nadd JSSE as a JRE extension.", "attachment_id": null, "bug_id": 4458, "id": 7215, "time": "2001-10-26T12:56:51Z", "creator": "remm@apache.org", "creation_time": "2001-10-26T12:56:51Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 4458, "attachment_id": null, "is_private": false, "id": 7290, "time": "2001-10-29T16:40:32Z", "creator": "remm@apache.org", "creation_time": "2001-10-29T16:40:32Z", "text": "The workarounds I descibed should work. Making this work better will require\nusing a new (and more complex) installer technology."}]