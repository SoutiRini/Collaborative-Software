[{"count": 0, "tags": [], "creator": "dan@fabulich.com", "attachment_id": null, "id": 111117, "time": "2007-11-26T15:54:08Z", "bug_id": 43969, "creation_time": "2007-11-26T15:54:08Z", "is_private": false, "text": "Run a JUnit 4 test marked with the @Ignore annotation.  The test will not appear\nat all in the XML output.  (I'll attach a sample project.)"}, {"attachment_id": 21190, "tags": [], "bug_id": 43969, "text": "Created attachment 21190\nsample project", "count": 1, "id": 111118, "time": "2007-11-26T15:54:46Z", "creator": "dan@fabulich.com", "creation_time": "2007-11-26T15:54:46Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 43969, "text": "Created attachment 21191\nresulting test output", "id": 111119, "attachment_id": 21191, "creator": "dan@fabulich.com", "creation_time": "2007-11-26T15:55:17Z", "time": "2007-11-26T15:55:17Z", "is_private": false}, {"count": 3, "attachment_id": null, "bug_id": 43969, "text": "I file this bug mostly because, as far as I know, the Ant team \"owns\" the format\nof JUnit XML that's consumed by various other tools (including Maven, Eclipse,\nCruiseControl, etc.)  I don't know what the \"expected\" XML should look like\n(though it's pretty obvious that what we've currently got is wrong).\n\nMaybe something like this?\n\n<testsuite total=\"1\" ignored=\"1\">\n  <testcase name=\"testIgnorable>\n    <ignore message=\"reason\"/>\n  </testcase>\n</testsuite>\n\nTestNG does this:\n\n<testsuite total=\"1\" skipped=\"1\">\n  <testcase name=\"testIgnorable>\n    <skipped message=\"reason\"/>\n  </testcase>\n</testsuite>", "id": 111120, "time": "2007-11-26T16:18:48Z", "creator": "dan@fabulich.com", "creation_time": "2007-11-26T16:18:48Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "creator": "stevel@apache.org", "is_private": false, "text": "Dan,\n\nas discussed on testng-user, this is because the current xml+report is junit3.x\nera. I am willing to extend it to support junit4, testng, antunit,\nsmartfrog-xunit tests, etc, as long as we can do this without breaking :\nCruiseControl, Hudson, et al. \n\nLet's start by creating a wiki entry and listing \n -tools/products that generate the report\n -tools/products that process the XML it generates\n -features wanted \n -test plan\n\nCan I also point you at\nhttp://smartfrog.org/presentations/distributed_testing_with_smartfrog_slides.pdf\nand\nhttp://smartfrog.org/autolinks/googleLTAC06.htm\n\nwhere I show a prototype XHTML format that can be streamed out and is readable\nbefore the tests have finished. Moving to something like that would break\neverything, so I'm not going to propose it. But I would like to enable better\nstreaming, by pushing all new summary information out as elements and not\nattributes on root nodes. \n\nI'd like something such as\n\n\n<testsuite total=\"1\">\n  <metadata>\n    <description>Tests of OS-specific things</description>\n    <xml>\n     <rdf xmlns:rdf=\"http://w3c.org/rdf\">\n      <!-- random triples here -->\n     </rdf>\n    </xml>\n  </metadata>\n\n <testcase name=\"testIgnorable\">\n   <metadata>\n     <description>A test that only works on Win98</description>\n     <links>\n       <uri>http://svn.example.org/ex/4</uri>\n     </links>\n     <tags><tag>win98</tag><tag>windows</tag><tag>trouble</tag></tags>\n     <issues>\n       <id>JIRA-117</id>\n       <id>JIRA-113</id>\n     </issues>\n    </metadata>\n    <skipped>\n     wrong OS\n    </skipped>\n  </testcase>\n  \n <summary>\n  <total>1</total>\n  <skipped>1</skipped>\n </summary>\n\n</testsuite>\n\n1. new summary data goes in at the end. If you want to handle skipping, embrace\nthe new format\n\n2. extra stuff goes into a metadata corner. This is all static with every test.\nI'd like everything needed to create interesting Atom feeds.", "id": 111128, "time": "2007-11-27T02:33:01Z", "bug_id": 43969, "creation_time": "2007-11-27T02:33:01Z", "attachment_id": null}, {"count": 5, "tags": [], "bug_id": 43969, "is_private": false, "text": "Steve has created a wiki article here:\n\nhttp://wiki.apache.org/ant/Proposals/EnhancedTestReports", "id": 111155, "time": "2007-11-27T10:52:21Z", "creator": "dan@fabulich.com", "creation_time": "2007-11-27T10:52:21Z", "attachment_id": null}, {"count": 6, "tags": [], "bug_id": 43969, "attachment_id": null, "id": 111380, "time": "2007-12-03T13:46:52Z", "creator": "jglick@apache.org", "creation_time": "2007-12-03T13:46:52Z", "is_private": false, "text": "May not be straightforward to fix in the current <junit> task, which generally\nassumes JUnit 3.x and only handles 4.x tests using the compatibility wrapper.\nReal support for 4.x should I think be a separate task."}, {"count": 7, "tags": [], "creator": "ashah@paychex.com", "is_private": false, "text": "We are planning to migrate all our test cases to Junit4. Is this issue resolved yet? If not, are there any timelines on when will this feature be available. I would appreciate if I could get an update on this or if there is a workaround.", "id": 122965, "time": "2008-12-01T13:22:35Z", "bug_id": 43969, "creation_time": "2008-12-01T13:22:35Z", "attachment_id": null}, {"attachment_id": null, "tags": [], "creator": "bodewig@apache.org", "text": "I'm not aware of anybody working on a JUnit4 specific Ant task, for most people our JUnit3 task seems to work well enough.\n\nSo no, it is not fixed and can't be fixed easily since Ant's approach to JUnit4 makes the @ignore-d tests invisible to Ant.  And it doesn't seem to be high on anybody's priority list either.", "count": 8, "id": 122973, "time": "2008-12-01T21:22:07Z", "bug_id": 43969, "creation_time": "2008-12-01T21:22:07Z", "is_private": false}, {"count": 9, "tags": [], "bug_id": 43969, "is_private": false, "text": "It's a pity that it's not high a in the priority, although the wiki proposal mentioned 1.8 as a possible target.\n\nAlso, it seems that this tickets is not simply to support the @Ignore but to allow full support to junit-4 in ant. \nHence, suggesting that in the updated <junit> task, a 'run-with' element would be welcome, allowing to force the junit-4 @RunWith in tests.", "id": 133569, "time": "2010-01-13T03:14:11Z", "creator": "gillouxGaillard@wanadoo.fr", "creation_time": "2010-01-13T03:14:11Z", "attachment_id": null}, {"count": 10, "tags": [], "creator": "mfrasca@zonnet.nl", "is_private": false, "text": "I have it working in R (svUnit, integrates nicely with Jenkins).\nThis unit test suite manages to report a test as ignored by adding a further totally empty `skipped` element in the `testcase` element.\n\nhttp://stackoverflow.com/questions/3787886/producing-a-correct-and-complete-xml-unit-testing-report-for-hudson", "id": 145927, "time": "2011-04-21T08:18:10Z", "bug_id": 43969, "creation_time": "2011-04-21T08:18:10Z", "attachment_id": null}, {"count": 11, "tags": [], "bug_id": 43969, "is_private": false, "text": "Hi There - is there any update on this bug? Thanks, Harry.", "id": 161400, "time": "2012-08-14T22:11:48Z", "creator": "harry.soehalim@gmail.com", "creation_time": "2012-08-14T22:11:48Z", "attachment_id": null}, {"count": 12, "attachment_id": 30011, "bug_id": 43969, "text": "Created attachment 30011\nProposed Skipped Test Reporting Changes", "id": 165621, "time": "2013-03-03T22:28:22Z", "creator": "mclarke@apache.org", "creation_time": "2013-03-03T22:28:22Z", "tags": [], "is_private": false}, {"attachment_id": null, "tags": [], "creator": "mclarke@apache.org", "text": "I've added a patch with changes to report Ignored test (those marked with the @Ignore annotation) and skipped tests (those where Assume tests failed). The reporters bundled with the junit task have been modified to report these tests as skipped, and an additional interfaces has been added to allow users to add these events to their existing TaskListeners.\n\nThe default XML report of changes contains the follow additional details with my patch:\n1. An additional attribute on the root testsuite element named 'skipped' that contains the number of ignored and skipped tests\n2. The test attribute on the root testsuite element now counts all tests (both run and ignored), not just the ones that have been run\n3. All tests are listed as testcase elements, not just the ones that haven't been ignored\n4. Any test that has been ignored or skipped has a child 'skipped' element that, if a message was given on the @Ignore annotation or a message given for an Assume failing, includes a message attribute containing that message\n\nThis bring the XML document in-line with the XMl reports from other runners (e.g. Maven Surefire) and other test suites (e.g. TestNG)\n\nPatch attached as 'Proposed Skipped Test Reporting Changes'. Any comments, ideas, suggestions or issues are welcome.", "count": 13, "id": 165622, "time": "2013-03-03T22:38:43Z", "bug_id": 43969, "creation_time": "2013-03-03T22:38:43Z", "is_private": false}, {"attachment_id": 30012, "tags": [], "creator": "mclarke@apache.org", "text": "Created attachment 30012\nUpdated Patch\n\nUpdated patch:\n\n1. Separate JUnit4 code out from formatters so users can continue to run using JUnit3\n2. Support retrieving @Ignore messages from JUnit4 versions prior to version 4.4\n\nThis new patch has been tested against both JUnit3 and JUnit4 with no issues.", "count": 14, "id": 165631, "time": "2013-03-04T20:42:29Z", "bug_id": 43969, "creation_time": "2013-03-04T20:42:29Z", "is_private": false}, {"count": 15, "tags": [], "bug_id": 43969, "attachment_id": 30013, "text": "Created attachment 30013\nExample Patched XML Output\n\nExample XML output with explicitly ignored test (using @Ignore) and skipped tests (failed Assume), as well as errors, failures and successes.", "id": 165632, "time": "2013-03-04T20:52:20Z", "creator": "mclarke@apache.org", "creation_time": "2013-03-04T20:52:20Z", "is_private": false}, {"count": 16, "tags": [], "bug_id": 43969, "is_private": false, "text": "Created attachment 30014\nUpdated patch\n\nPatch with test case for checking XML format re-instated", "id": 165633, "time": "2013-03-04T21:51:20Z", "creator": "mclarke@apache.org", "creation_time": "2013-03-04T21:51:20Z", "attachment_id": 30014}, {"attachment_id": 30015, "tags": [], "bug_id": 43969, "text": "Created attachment 30015\nUpdated Patch +test -duplication\n\nPatch with test case re-instated and duplicate code removed.\n\nThe previous patch introduced a CustomJUnit4TestAdapterCache which provided the notifier for Ignored and Skipped events in JUnit4. This new class mostly duplicated the existing private 'Cache' class within JUnit4TestMethodAdapter, although added the methods needed for Ignored and Skipped events. This latest patch removes the private class and changes references to it to the new public class so as to prevent code duplication.", "count": 17, "id": 165635, "time": "2013-03-04T22:49:23Z", "creator": "mclarke@apache.org", "creation_time": "2013-03-04T22:49:23Z", "is_private": false}, {"count": 18, "tags": [], "creator": "antoine@apache.org", "is_private": false, "text": "Fixed. Thanks Michael for the big contribution.", "id": 165641, "time": "2013-03-05T05:43:26Z", "bug_id": 43969, "creation_time": "2013-03-05T05:43:26Z", "attachment_id": null}, {"count": 19, "tags": [], "bug_id": 43969, "attachment_id": 30092, "text": "Created attachment 30092\nAnt junit xsl style sheets modified to show skipped tests\n\nAttached modified junit-frames.xsl and junit-noframes.xsl to show skipped count.\n\nIn 'junitreport' task, use the 'styledir' attribute of the 'report' element to specify the directory where to find the style sheets.", "id": 166073, "time": "2013-03-21T10:30:09Z", "creator": "gillouxGaillard@wanadoo.fr", "creation_time": "2013-03-21T10:30:09Z", "is_private": false}, {"count": 20, "tags": [], "bug_id": 43969, "attachment_id": null, "text": "Gilles: I've already raised a further issue for this with an associated patch - Bug 54670. I've not checked your patch but assume it's similar to what I've done, if not then feel free to attach it to the new issue.", "id": 166074, "time": "2013-03-21T10:59:01Z", "creator": "mclarke@apache.org", "creation_time": "2013-03-21T10:59:01Z", "is_private": false}]