[{"count": 0, "tags": [], "text": "I needed to transform XML datas from an InputStream.\nSince that InputSource is from a Socket, and since I do not want to use \nstream.close() (wich inplie socket.close() !) to 'tell' that the XML sending is \ndone, I made my own InputStream, wich get a '0' has an 'EndOfData' signal.\n\nThough this work to send all my messages, and construct String from them, it do \nnot work with transformer.transforme(zeroTerminatedInputStream).\n\nThe problem is that when my stream receive a second message, it stop \nconsidering that 'EndOfData' is reached, and no longer return '-1' when it's \nread. BUT, while parsing the stream, Xerces need TWO '-1' to \nthe 'inputstream.read()' : the first make read return a number < than the \namount of byte wanted, and the second make read return '-1'.\n\nSince returning '-1' only once cause transformer.transform(InputStream) non-\nreturning, but cause no prroblem with other object, this -might- be considered \nhas a bug, or at least somthing that the doc must warn you about... don't you \nthink ?", "attachment_id": null, "id": 1356, "creator": "treguy@chez.com", "time": "2001-03-18T10:57:26Z", "bug_id": 1013, "creation_time": "2001-03-18T10:57:26Z", "is_private": false}]