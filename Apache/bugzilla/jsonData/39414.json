[{"attachment_id": null, "tags": [], "bug_id": 39414, "is_private": false, "count": 0, "id": 88512, "time": "2006-04-26T16:50:55Z", "creator": "pzeldin@gmail.com", "creation_time": "2006-04-26T16:50:55Z", "text": "TextLayoutManager.java rev=392488\nhas\nprivate short iTempStart = 0; (Line 145)\nwhich it uses in a loop at line 602:\n                for (; iTempStart < textArray.length\n                        && !isSpace(textArray[iTempStart])\n                        && textArray[iTempStart] != NEWLINE\n                        && !(iTempStart > iNextStart\n                             && isBreakChar(textArray[iTempStart - 1]));\n                        iTempStart++) {\n...\nLooks like in my case textArray was big enough so that length  > 32767\n\nI am using fop-0.92beta\nHere is the command line:\nfop -fo PSC_PTL_Compiler_Design_Spec.fo -pdf PSC_PTL_Compiler_Design_Spec.pdf\n\nand the output:\nApr 26, 2006 12:50:17 PM org.apache.fop.cli.Main startFOP\nSEVERE: Exception\njava.lang.ArrayIndexOutOfBoundsException: -32768\n        at org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:167)\n        at org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:114)\n        at org.apache.fop.cli.Main.startFOP(Main.java:159)\n        at org.apache.fop.cli.Main.main(Main.java:190)\n\n---------\n\njava.lang.ArrayIndexOutOfBoundsException: -32768\n        at\norg.apache.fop.layoutmgr.inline.TextLayoutManager.getNextKnuthElements(TextLayoutManager.java:605)\n        at\norg.apache.fop.layoutmgr.inline.LineLayoutManager.collectInlineKnuthElements(LineLayoutManager.java:647)\n        at\norg.apache.fop.layoutmgr.inline.LineLayoutManager.getNextKnuthElements(LineLayoutManager.java:582)\n        at\norg.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements(BlockStackingLayoutManager.java:275)\n        at\norg.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:105)\n        at\norg.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements(BlockStackingLayoutManager.java:275)\n        at\norg.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:105)\n        at\norg.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements(BlockStackingLayoutManager.java:275)\n        at\norg.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:105)\n        at\norg.apache.fop.layoutmgr.BlockStackingLayoutManager.getNextKnuthElements(BlockStackingLayoutManager.java:275)\n        at\norg.apache.fop.layoutmgr.BlockLayoutManager.getNextKnuthElements(BlockLayoutManager.java:105)\n        at\norg.apache.fop.layoutmgr.FlowLayoutManager.getNextKnuthElements(FlowLayoutManager.java:98)\n        at\norg.apache.fop.layoutmgr.PageSequenceLayoutManager$PageBreaker.getNextKnuthElements(PageSequenceLayoutManager.java:234)\n        at\norg.apache.fop.layoutmgr.AbstractBreaker.getNextBlockList(AbstractBreaker.java:502)\n        at\norg.apache.fop.layoutmgr.PageSequenceLayoutManager$PageBreaker.getNextBlockList(PageSequenceLayoutManager.java:226)\n        at\norg.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:252)\n        at\norg.apache.fop.layoutmgr.AbstractBreaker.doLayout(AbstractBreaker.java:220)\n        at\norg.apache.fop.layoutmgr.PageSequenceLayoutManager.activateLayout(PageSequenceLayoutManager.java:152)\n        at\norg.apache.fop.area.AreaTreeHandler.endPageSequence(AreaTreeHandler.java:320)\n        at\norg.apache.fop.fo.pagination.PageSequence.endOfNode(PageSequence.java:147)\n        at\norg.apache.fop.fo.FOTreeBuilder$MainFOHandler.endElement(FOTreeBuilder.java:357)\n        at org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:193)\n        at\norg.apache.xalan.transformer.TransformerIdentityImpl.endElement(TransformerIdentityImpl.java:1101)\n        at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\n        at\norg.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)\n        at\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown\nSource)\n        at\norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at\norg.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:484)\n        at org.apache.fop.cli.InputHandler.transformTo(InputHandler.java:164)\n        at org.apache.fop.cli.InputHandler.renderTo(InputHandler.java:114)\n        at org.apache.fop.cli.Main.startFOP(Main.java:159)\n        at org.apache.fop.cli.Main.main(Main.java:190)"}, {"count": 1, "tags": [], "creator": "jeremias@apache.org", "text": "Please attach an FO file so we can reproduce the bug. Thanks.", "id": 88543, "time": "2006-04-27T07:37:47Z", "bug_id": 39414, "creation_time": "2006-04-27T07:37:47Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "creator": "manuel@apache.org", "text": "Easy to reproduce:\n\n<block white-space=\"pre\"><![CDATA[\nput any text in here having more then 32768 characters\n]]></block>", "id": 88551, "time": "2006-04-27T10:12:40Z", "bug_id": 39414, "creation_time": "2006-04-27T10:12:40Z", "is_private": false, "attachment_id": null}, {"count": 3, "tags": [], "creator": "pzeldin@gmail.com", "attachment_id": 18193, "text": "Created attachment 18193\nexample fo file to reproduce the problem", "id": 88562, "time": "2006-04-27T15:14:24Z", "bug_id": 39414, "creation_time": "2006-04-27T15:14:24Z", "is_private": false}, {"count": 4, "attachment_id": null, "creator": "adelmelle@apache.org", "is_private": false, "id": 92920, "time": "2006-09-02T00:50:54Z", "bug_id": 39414, "creation_time": "2006-09-02T00:50:54Z", "tags": [], "text": "Fixed in FOP Trunk."}, {"count": 5, "tags": [], "creator": "adelmelle@apache.org", "attachment_id": null, "text": "Sorry, forgot to add:\n\nURL: http://svn.apache.org/viewvc?rev=439511&view=rev", "id": 92921, "time": "2006-09-02T00:54:35Z", "bug_id": 39414, "creation_time": "2006-09-02T00:54:35Z", "is_private": false}, {"count": 6, "tags": [], "creator": "gadams@apache.org", "attachment_id": null, "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed", "id": 156086, "time": "2012-04-01T06:57:47Z", "bug_id": 39414, "creation_time": "2012-04-01T06:57:47Z", "is_private": false}]