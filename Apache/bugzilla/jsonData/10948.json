[{"count": 0, "tags": [], "bug_id": 10948, "attachment_id": null, "id": 19771, "time": "2002-07-18T14:53:03Z", "creator": "arshadm@compuvision.co.uk", "creation_time": "2002-07-18T14:53:03Z", "is_private": false, "text": "A JNDI lookup for a resource fails when it is attempted in the \"init\" function \nof a servlet.\n\nThe same code however works fine when it is done in a \"doPost\" or \"doGet\". This \nmeans that some initialisation cannot be done until the first request for a \nservlet that is loaded on startup."}, {"count": 1, "tags": [], "bug_id": 10948, "is_private": false, "text": "Looking at the code, I think this does work fine. This has supposedly been fixed\nsome time ago. I'll test it one more time eventually (maybe I'll add a test for\nthat in the tester).", "id": 19774, "time": "2002-07-18T15:01:57Z", "creator": "remm@apache.org", "creation_time": "2002-07-18T15:01:57Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 10948, "is_private": false, "text": "Thanks. I have tried it again today, and it throws a naming exception. \n", "id": 19781, "time": "2002-07-18T15:26:37Z", "creator": "arshadm@compuvision.co.uk", "creation_time": "2002-07-18T15:26:37Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 10948, "attachment_id": null, "id": 28909, "time": "2003-01-06T14:18:16Z", "creator": "chris@prepaytec.com", "creation_time": "2003-01-06T14:18:16Z", "is_private": false, "text": "I also believe this bug still exists in latest release (4.1.18 LE).\n\nI have found that adding ResourceLink's to a webapps context fixes allows \nlookups in init().  However, I do not want to use ResourceLink because I need \nto remotely deploy using Manager, and there is not equivalent of ResourceLink \nin the web.xml specification (right?).\n"}, {"count": 4, "tags": [], "bug_id": 10948, "attachment_id": null, "is_private": false, "id": 28913, "time": "2003-01-06T17:10:16Z", "creator": "craig.mcclanahan@sun.com", "creation_time": "2003-01-06T17:10:16Z", "text": "There is no mechanism for defining resource links in web.xml because they are a\nTomcat specific feature.  However, if you use the manager webapp's \"deploy\"\ncommand, you can include a \"META-INF/context.xml\" file in the WAR that Tomcat\nwill respect -- in there you can put a <Context> element (including the nested\nresource definitions or resource links).\n"}, {"attachment_id": null, "tags": [], "creator": "markt@apache.org", "is_private": false, "count": 5, "id": 71884, "time": "2005-03-06T20:00:42Z", "bug_id": 10948, "creation_time": "2005-03-06T20:00:42Z", "text": "As the comments above suggest and a quick test confirms, this does work as expected."}]