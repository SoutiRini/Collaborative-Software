[{"count": 0, "tags": [], "creator": "d.agapitov@sofeainc.com", "text": "Cloning SVG Symbol element loaded from SVG document gives SVG Error \"null\":\n\njava.lang.NullPointerException\n\tat\norg.apache.batik.dom.svg.SVGOMElement.createLiveAnimatedPreserveAspectRatio(Unknown\nSource)\n\tat org.apache.batik.dom.svg.SVGOMSymbolElement.<init>(Unknown Source)\n\tat org.apache.batik.dom.svg.SVGOMSymbolElement.newNode(Unknown Source)\n\tat org.apache.batik.dom.AbstractNode.cloneNode(Unknown Source)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.mozilla.javascript.MemberBox.invoke(Unknown Source)\n\tat org.mozilla.javascript.NativeJavaMethod.call(Unknown Source)\n\tat org.mozilla.javascript.optimizer.OptRuntime.call1(Unknown Source)\n\tat org.mozilla.javascript.gen.c5._c1(Inline <script> file:/C:/Documents and\nSettings/ads/Desktop/Batik 1.7b1 error/NodeCloneErr.svg:7:5)\n\tat org.mozilla.javascript.gen.c5.call(Inline <script> file:/C:/Documents and\nSettings/ads/Desktop/Batik 1.7b1 error/NodeCloneErr.svg:7)\n\tat org.mozilla.javascript.optimizer.OptRuntime.callName(Unknown Source)\n\tat org.mozilla.javascript.gen.c6._c0(Event attribute file:/C:/Documents and\nSettings/ads/Desktop/Batik 1.7b1 error/NodeCloneErr.svg:19 onload:1)\n\tat org.mozilla.javascript.gen.c6.call(Event attribute file:/C:/Documents and\nSettings/ads/Desktop/Batik 1.7b1 error/NodeCloneErr.svg:19 onload)\n\tat org.mozilla.javascript.ContextFactory.doTopCall(Unknown Source)\n\tat org.mozilla.javascript.ScriptRuntime.doTopCall(Unknown Source)\n\tat org.mozilla.javascript.gen.c6.call(Event attribute file:/C:/Documents and\nSettings/ads/Desktop/Batik 1.7b1 error/NodeCloneErr.svg:19 onload)\n\tat org.mozilla.javascript.gen.c6.exec(Event attribute file:/C:/Documents and\nSettings/ads/Desktop/Batik 1.7b1 error/NodeCloneErr.svg:19 onload)\n\tat org.mozilla.javascript.Context.evaluateReader(Unknown Source)\n\tat org.apache.batik.script.rhino.RhinoInterpreter$2.run(Unknown Source)\n\tat org.mozilla.javascript.Context.call(Unknown Source)\n\tat org.mozilla.javascript.ContextFactory.call(Unknown Source)\n\tat org.apache.batik.script.rhino.RhinoInterpreter.evaluate(Unknown Source)\n\tat org.apache.batik.bridge.BaseScriptingEnvironment$1.handleEvent(Unknown Source)\n\tat org.apache.batik.dom.events.EventSupport.fireEventListeners(Unknown Source)\n\tat org.apache.batik.dom.events.EventSupport.fireEventListeners(Unknown Source)\n\tat org.apache.batik.dom.events.EventSupport.dispatchEvent(Unknown Source)\n\tat org.apache.batik.dom.AbstractNode.dispatchEvent(Unknown Source)\n\tat org.apache.batik.bridge.BaseScriptingEnvironment.dispatchSVGLoad(Unknown Source)\n\tat org.apache.batik.bridge.BaseScriptingEnvironment.dispatchSVGLoad(Unknown Source)\n\tat\norg.apache.batik.bridge.BaseScriptingEnvironment.dispatchSVGLoadEvent(Unknown\nSource)\n\tat org.apache.batik.bridge.UpdateManager.dispatchSVGLoadEvent(Unknown Source)\n\tat org.apache.batik.bridge.UpdateManager.dispatchSVGLoadEvent(Unknown Source)\n\tat org.apache.batik.swing.svg.SVGLoadEventDispatcher.run(Unknown Source)\n\nfor this SVG document:\n\n<?xml version=\"1.0\" ?>\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n\t<script type=\"text/ecmascript\"><![CDATA[\n\t\tfunction tryError(elementId) {\n\t\t\telement = document.getElementById(elementId);\n\t\t\tif(element != null)\t{\n\t\t\t\tclone = element.cloneNode(true);\t/* Throws NullPointerException */\n\t\t\t}\n\t\t}\n\n\t]]></script>\n    <title>Node Clone Error Demo</title>\n\t<symbol id=\"symbol_id\" onload=\"tryError('symbol_id')\">\n\t\t<rect x=\"100\" y=\"100\" height=\"100\" width=\"100\"/>\t\t\n\t</symbol>\n</svg>", "id": 101366, "time": "2007-04-03T05:21:52Z", "bug_id": 42032, "creation_time": "2007-04-03T05:21:52Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "creator": "cam@apache.org", "attachment_id": null, "is_private": false, "id": 101392, "time": "2007-04-03T14:53:45Z", "bug_id": 42032, "creation_time": "2007-04-03T14:53:45Z", "text": "Confirmed, seems like there's a problem with creating the new\nLiveAttributeValues on the cloned object before the ownerDocument variable is\nset (from my very brief looking at it)."}, {"count": 2, "tags": [], "bug_id": 42032, "attachment_id": 20858, "is_private": false, "id": 108445, "time": "2007-09-20T06:38:45Z", "creator": "michael.bishop@dataline.com", "creation_time": "2007-09-20T06:38:45Z", "text": "Created attachment 20858\nTest case for NPE when cloning an <image> node.\n\nTest case for similar behavior when cloning a Node.  In this case, it's an\n<image> node."}, {"count": 3, "tags": [], "creator": "cam@apache.org", "attachment_id": null, "is_private": false, "id": 108463, "time": "2007-09-20T21:05:02Z", "bug_id": 42032, "creation_time": "2007-09-20T21:05:02Z", "text": "This should now be fixed in SVN."}]