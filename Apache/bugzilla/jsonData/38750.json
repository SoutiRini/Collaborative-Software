[{"count": 0, "tags": [], "bug_id": 38750, "attachment_id": null, "text": "I am using fop0.20.5 version to generate a pdf image (jpg) with <fo:external-\ngraphic src= \"url('statestreet.jpg')\"/> with other required jars in classpath \nwhich are /asle03/sle/deploy/was51/sle/lib/xalan.jar\n/asle03/sle/deploy/was51/sle/lib/xml-apis_10.jar\n/asle03/sle/deploy/was51/sle/lib/xml-apis.jar\n/asle03/sle/deploy/was51/sle/lib/xerces.jar\n/asle03/sle/deploy/was51/sle/lib/jaxp.jar\n/asle03/sle/deploy/was51/sle/lib/dom4j-1.3.jar\n/asle03/sle/deploy/was51/sle/lib/xercesImpl_230.jar\n/asle03/sle/deploy/was51/sle/lib/xalan_2.4.0.jar\n/asle03/sle/deploy/was51/sle/lib/batik_11.jar\n/asle03/sle/deploy/was51/sle/lib/avalon_414.jar\n/asle03/sle/deploy/was51/sle/lib/iText.jar\n/asle03/sle/deploy/was51/sle/lib/log4j-1.2.9.jar\n/asle03/sle/deploy/was51/sle/lib/fop.jar\n\n. It works fine in windows and one of my development Solaris 5.8 box , but it \nseems to be throwing error in integration Solaris 5.8 which is replicated as \nthe devlopment box .\n\nThe app server is Websphere 5.1 version with jre1.4 .\n\nonly one difference I see in development server is a Generic Vm argument passed \nas below\n-server -Xbootclasspath/p:${AM_HOME}/lib/bcm-\nbootstrap.jar:${AM_HOME}/lib/ppe.probe-bootstrap.jar\n\nand developemnt works fine loading the image.\n\nBut the integration env throws the error. please advice . It is something about \nthe loading of image in different environment.\n\n Below is the error\n\n[1/24/06 9:42:45:444 EST]  1296cf2 WebGroup      E SRVE0026E: [Servlet Error]-\n[org.apache.batik.dom.svg.SAXSVGDocumentFactory.createDocument&#40;Ljava/lang/St\nring&#59;Ljava/io/InputStream&#59;&#41;Lorg/w3c/dom/Document&#59;]: \njava.lang.NoSuchMethodError: \norg.apache.batik.dom.svg.SAXSVGDocumentFactory.createDocument\n(Ljava/lang/String;Ljava/io/InputStream;)Lorg/w3c/dom/Document;\n        at org.apache.fop.image.analyser.SVGReader.loadImage(SVGReader.java:101)\n        at org.apache.fop.image.analyser.SVGReader.verifySignature\n(SVGReader.java:85)\n        at org.apache.fop.image.analyser.ImageReaderFactory.Make\n(ImageReaderFactory.java:129)\n        at org.apache.fop.image.FopImageFactory.Make(FopImageFactory.java:181)\n        at org.apache.fop.fo.flow.ExternalGraphic.layout\n(ExternalGraphic.java:188)\n        at org.apache.fop.fo.flow.Block.layout(Block.java:257)\n        at org.apache.fop.fo.flow.TableCell.layout(TableCell.java:326)\n        at org.apache.fop.fo.flow.TableRow.layout(TableRow.java:360)\n        at org.apache.fop.fo.flow.AbstractTableBody.layout\n(AbstractTableBody.java:236)\n        at org.apache.fop.fo.flow.Table.layout(Table.java:302)\n        at org.apache.fop.fo.flow.AbstractFlow.layout(AbstractFlow.java:154)\n        at org.apache.fop.fo.flow.AbstractFlow.layout(AbstractFlow.java:110)\n        at org.apache.fop.fo.pagination.PageSequence.makePage\n(PageSequence.java:400)\n        at org.apache.fop.fo.pagination.PageSequence.format\n(PageSequence.java:338)\n        at org.apache.fop.apps.StreamRenderer.render(StreamRenderer.java:262)\n        at org.apache.fop.fo.FOTreeBuilder.endElement(FOTreeBuilder.java:223)\n        at org.apache.xalan.transformer.ResultTreeHandler.endElement\n(ResultTreeHandler.java:307)\n        at org.apache.xalan.templates.ElemLiteralResult.execute\n(ElemLiteralResult.java:716)\n        at org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes\n(ElemApplyTemplates.java:426)\n        at org.apache.xalan.templates.ElemApplyTemplates.execute\n(ElemApplyTemplates.java:215)\n        at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates\n(TransformerImpl.java:2324)\n        at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode\n(TransformerImpl.java:2147)\n        at org.apache.xalan.transformer.TransformerImpl.transformNode\n(TransformerImpl.java:1203)\n        at org.apache.xalan.transformer.TransformerImpl.run\n(TransformerImpl.java:3357)\n        at org.apache.xalan.transformer.TransformerHandlerImpl.endDocument\n(TransformerHandlerImpl.java:433)\n        at org.apache.xerces.parsers.SAXParser.endDocument(SAXParser.java:1230)\n        at org.apache.xerces.validators.common.XMLValidator.callEndDocument\n(XMLValidator.java:1146)\n        at \norg.apache.xerces.framework.XMLDocumentScanner$EndOfInputDispatcher.dispatch\n(XMLDocumentScanner.java:1499)\n        at org.apache.xerces.framework.XMLDocumentScanner.parseSome\n(XMLDocumentScanner.java:381)\n        at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1098)\n        at org.apache.xalan.transformer.TrAXFilter.parse(TrAXFilter.java:134)\n        at org.apache.fop.apps.Driver.render(Driver.java:498)\n        at com.statestreet.sle.ca.util.CAPDFHelper.getPDFAsByteArr(Unknown \nSource)\n        at com.statestreet.sle.ca.util.CAPDFHelper.getPDF(Unknown Source)\n        at org.apache.jsp._CAPDFGenerator._jspService(_CAPDFGenerator.java:85)\n        at com.ibm.ws.webcontainer.jsp.runtime.HttpJspBase.service\n(HttpJspBase.java:89)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at \ncom.ibm.ws.webcontainer.jsp.servlet.JspServlet$JspServletWrapper.service\n(JspServlet.java:344)\n        at com.ibm.ws.webcontainer.jsp.servlet.JspServlet.serviceJspFile\n(JspServlet.java:683)\n        at com.ibm.ws.webcontainer.jsp.servlet.JspServlet.service\n(JspServlet.java:781)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n        at com.ibm.ws.webcontainer.servlet.StrictServletInstance.doService\n(StrictServletInstance.java:110)\n        at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet._service\n(StrictLifecycleServlet.java:174)\n        at com.ibm.ws.webcontainer.servlet.IdleServletState.service\n(StrictLifecycleServlet.java:313)\n        at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet.service\n(StrictLifecycleServlet.java:116)\n        at com.ibm.ws.webcontainer.servlet.ServletInstance.service\n(ServletInstance.java:283)\n        at com.ibm.ws.webcontainer.servlet.ValidServletReferenceState.dispatch\n(ValidServletReferenceState.java:42)\n        at com.ibm.ws.webcontainer.servlet.ServletInstanceReference.dispatch\n(ServletInstanceReference.java:40)\n        at \ncom.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.handleWebAppDispatch\n(WebAppRequestDispatcher.java:1095)\n        at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.dispatch\n(WebAppRequestDispatcher.java:627)\n        at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward\n(WebAppRequestDispatcher.java:201)\n        at com.ibm.ws.webcontainer.srt.WebAppInvoker.doForward\n(WebAppInvoker.java:125)\n        at com.ibm.ws.webcontainer.srt.WebAppInvoker.handleInvocationHook\n(WebAppInvoker.java:286)\n        at \ncom.ibm.ws.webcontainer.cache.invocation.CachedInvocation.handleInvocation\n(CachedInvocation.java:71)\n        at com.ibm.ws.webcontainer.srp.ServletRequestProcessor.dispatchByURI\n(ServletRequestProcessor.java:182)\n        at com.ibm.ws.webcontainer.oselistener.OSEListenerDispatcher.service\n(OSEListener.java:334)\n        at com.ibm.ws.webcontainer.http.HttpConnection.handleRequest\n(HttpConnection.java:56)\n        at com.ibm.ws.http.HttpConnection.readAndHandleRequest\n(HttpConnection.java:652)\n        at com.ibm.ws.http.HttpConnection.run(HttpConnection.java:448)\n        at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:912)\n\n\nPlease advice as quick as possible , since the same issue is arised in UAT \nalso.But i tried in windows with the same set of versions in integration and \nuat, everything works fine.\n\nBut in Solaris execpt one dev environment others does not load the image", "id": 86074, "time": "2006-02-22T12:36:27Z", "creator": "Balamurali.Bhaeeman@gmail.com", "creation_time": "2006-02-22T12:36:27Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 38750, "attachment_id": null, "text": "Note to batik-devs: Reporter has already filed the same report for the FOP\nproject: http://issues.apache.org/bugzilla/show_bug.cgi?id=38719", "id": 86075, "time": "2006-02-22T13:02:29Z", "creator": "jeremias@apache.org", "creation_time": "2006-02-22T13:02:29Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 38750, "is_private": false, "id": 86128, "time": "2006-02-23T11:47:00Z", "creator": "jeremias@apache.org", "creation_time": "2006-02-23T11:47:00Z", "tags": [], "text": "\n\n*** This bug has been marked as a duplicate of 38719 ***"}]