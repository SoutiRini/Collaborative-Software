[{"count": 0, "tags": [], "creator": "wrose@loislaw.com", "attachment_id": null, "id": 14744, "time": "2002-04-25T15:15:22Z", "bug_id": 8519, "creation_time": "2002-04-25T15:15:22Z", "is_private": false, "text": "Tomcat 4.x is unusable with TUX web server on Linux when used as the slave \nserver (i.e. not on port 80). Also, when Tomcat 4.x is using a port other than \n80, and a content switch is used to map port 80 to the port Tomcat is on, the \nport Tomcat listens for is sent to the browser in redirects, thus failing to \nconnect. For instance, say Tomcat is on a machine called WEB1 listening on port \n4001 (port 80 is used for another web server). An URL exists to go to a virtual \nentry in a content switch (or something like a Cisco Local Director), that maps \nthe IP to the IP for MACH1 and translates port 80 to port 4001. Thus a request \nfor http://foo.domain.com/ actually requests a file from http://MACH1:4001/. \nWhat happens, is that Tomcat sends a redirect in this case for the index.html \nfile (or whatever the index is set to in server.xml) and the browser receives: \nhttp://foo.domain.com:4001/index.html as the redirect. I had to alter the \nfile /catalina/src/share/org/apache/catalina/connector/HttpResponseBase.java in \nthe function \"private String toAbsolute(String location)\" so that it would \nparse out any port that was getting sent back in order to make it functional. I \nrealize that in many situations it would be necessary to send back the port, \nhowever, I feel this needs to be an INI setting, or perhaps a compile time flag."}, {"count": 1, "tags": [], "creator": "wrose@loislaw.com", "attachment_id": null, "id": 14746, "time": "2002-04-25T15:36:44Z", "bug_id": 8519, "creation_time": "2002-04-25T15:36:44Z", "is_private": false, "text": "In the description, I wrote \"Tomcat is on a machine called WEB1 listening\" when \nit should have been \"Tomcat is on a machine called MACH1 listening\". Note also, \nthe TUX problem is due to this same issue I believe."}, {"count": 2, "tags": [], "text": "This has been fixed already.\n\n*** This bug has been marked as a duplicate of 6668 ***", "is_private": false, "id": 14749, "creator": "remm@apache.org", "time": "2002-04-25T15:57:08Z", "bug_id": 8519, "creation_time": "2002-04-25T15:57:08Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "I'm running 4.0.3, is the fix for the proxy problem in it? If so, it fails to \nresolve my issue...", "attachment_id": null, "id": 14752, "creator": "wrose@loislaw.com", "time": "2002-04-25T16:08:01Z", "bug_id": 8519, "creation_time": "2002-04-25T16:08:01Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 8519, "attachment_id": null, "text": "No, it's in 4.0.4 b1.", "id": 14757, "time": "2002-04-25T17:10:24Z", "creator": "remm@apache.org", "creation_time": "2002-04-25T17:10:24Z", "is_private": false}]