[{"count": 0, "tags": [], "bug_id": 29841, "attachment_id": null, "is_private": false, "id": 59990, "time": "2004-06-28T12:19:15Z", "creator": "tc@disforce.be", "creation_time": "2004-06-28T12:19:15Z", "text": "My configuration : \n \nDell PowerEdge 2650 \nMandrake Linux 10 (kernel 2.4) \nSun Java  1.4.2_04 \nOracle 10g \nJDBC Drivers for oracle 10g (ojdbc14.jar) \nApache 2.0.48 \nUse of mod_jk2 and the apj13 coyote connector \nhttp application uses http sessions \n \n \nHello there, \n \n \nI'm having a very serious problem with my oracle database connections. \nTo allow reuse of open connection we use a database connection pool. \n \nThe configuration in the server.xml is the following : \n \n<Context debug=\"0\" docBase=\"macq\" path=\"/macq\" reloadable=\"false\"> \n                <Resource name=\"ed/macq\" auth=\"Container\" \ntype=\"javax.sql.DataSource\"/> \n                <ResourceParams name=\"ed/macq\"> \n                <parameter> \n                        <name>factory</name> \n                                \n<value>org.apache.commons.dbcp.BasicDataSourceFactory</value> \n                </parameter> \n                <parameter> \n                        <name>driverClassName</name> \n                        <value>oracle.jdbc.driver.OracleDriver</value> \n                </parameter> \n                <parameter> \n                        <name>url</name> \n                        \n<value>jdbc:oracle:thin:@turgon_02.disforce.be:1521:turgon2</value> \n                </parameter> \n                <parameter> \n                        <name>username</name> \n                        <value>macqloader</value> \n                </parameter> \n                <parameter> \n                        <name>password</name> \n                        <value>********</value> \n                </parameter> \n                <parameter> \n                        <name>maxActive</name> \n                        <value>300</value> \n                </parameter> \n                <parameter> \n                        <name>maxIdle</name> \n                        <value>10</value> \n                </parameter> \n                <parameter> \n                        <name>maxWait</name> \n                        <value>10000</value> \n                </parameter> \n\t\t... \n \nThe behaviour we see is very strange. \nWhen starting up tomcat, we see a number of connections being opened. \nThat is rather normal. Now for every jsp with database activity a new database \nconnection is added until the maximum number of connections is achieved (300 \nin this case).  \n \nIn this first phase the maximum number of users is 5, logically we should see \nno more than five concurrent database connections open. \n \nWhen looking in TOAD, we see all database connections as inactive so they \nshould be reused. \n \nIn a second phase of my project a deployment on hundreds of workstations will \nstart. I cannot continue with this if my database connections are not being \nresused. \n \nAny help would be greatly appreciated. \n \n \nTom Colman \nBelgacom \nCBS/DIS/PTE"}, {"count": 1, "tags": [], "creator": "remm@apache.org", "text": "Cool, but:\n- we don't provide support for commons-dbcp (another project ...)\n- if it doesn't work for you, I recommend using another connection pool, such as\nthe one bundled with your Oracle driver", "id": 60005, "time": "2004-06-28T15:49:50Z", "bug_id": 29841, "creation_time": "2004-06-28T15:49:50Z", "is_private": false, "attachment_id": null}]