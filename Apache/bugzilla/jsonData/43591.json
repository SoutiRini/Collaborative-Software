[{"count": 0, "tags": [], "bug_id": 43591, "attachment_id": null, "id": 109206, "time": "2007-10-10T13:36:32Z", "creator": "isaac@shabtay.com", "creation_time": "2007-10-10T13:36:32Z", "is_private": false, "text": "When specifying min-height for an fo:table-row, FOP aborts with a\nNullPointerException:\n\n java.lang.NullPointerException\n\tat\norg.apache.fop.layoutmgr.table.TableContentLayoutManager.createElementsForRowGroup(TableContentLayoutManager.java:465)\n\tat\norg.apache.fop.layoutmgr.table.TableContentLayoutManager.getKnuthElementsForRowIterator(TableContentLayoutManager.java:251)\n\tat\norg.apache.fop.layoutmgr.table.TableContentLayoutManager.getNextKnuthElements(TableContentLayoutManager.java:179)\n\tat\norg.apache.fop.layoutmgr.table.TableLayoutManager.getNextKnuthElements(TableLayoutManager.java:243)\n\n\n\nExample XSL-FO:\n\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<fo:root xmlns:fo=\"http://www.w3.org/1999/XSL/Format\">\n\t<fo:layout-master-set>\n\t\t<fo:simple-page-master\tmaster-name=\"letter\"\n\t\t\t\t\t\t\t\tpage-height=\"11in\"\n                                page-width=\"8.5in\"\n\t\t\t\t\t\t\t\tmargin-left=\"0.75in\"\n\t\t\t\t\t\t\t\tmargin-right=\"0.75in\">\n\t\t\t<fo:region-body margin-bottom=\"1.0cm\" margin-top=\"0.7cm\"/>\n\t\t</fo:simple-page-master>\n\t</fo:layout-master-set>\n\t<fo:page-sequence master-reference=\"letter\">\n\t\t<fo:flow flow-name=\"xsl-region-body\">\n\t\t\t<fo:table table-layout=\"fixed\" width=\"100%\">\n\t\t\t\t<fo:table-column column-width=\"100%\"/>\n\t\t\t\t<fo:table-body>\n\t\t\t\t\t<fo:table-row min-height=\"3.0em\">\n\t\t\t\t\t\t<fo:table-cell>\n\t\t\t\t\t\t\t<fo:block>Hello</fo:block>\n\t\t\t\t\t\t</fo:table-cell>\n\t\t\t\t\t</fo:table-row>\n\t\t\t\t</fo:table-body>\n\t\t\t</fo:table>\n\t\t</fo:flow>\n\t</fo:page-sequence>\n</fo:root>"}, {"count": 1, "tags": [], "text": "Confirmed. I tested your FO on the latest code from Trunk and NPE still occurs \nthere too :-(", "attachment_id": null, "id": 109231, "creator": "bowditch_chris@hotmail.com", "time": "2007-10-11T03:35:36Z", "bug_id": 43591, "creation_time": "2007-10-11T03:35:36Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 43591, "is_private": false, "id": 109232, "time": "2007-10-11T03:45:51Z", "creator": "jeremias@apache.org", "creation_time": "2007-10-11T03:45:51Z", "tags": [], "text": "Right, but we also don't claim that min-height is implemented. See here:\nhttp://xmlgraphics.apache.org/fop/compliance.html#fo-property-min-height\n\nblock-progression-dimension.minimum does the same thing and that works."}, {"count": 3, "tags": [], "text": "Jeremias, I agree that min-height is declared to be unsupported on 0.94.\n\nStill, not supporting a feature does not make it \"right\" to abort on a runtime\nexception such as a NullPointerException.\n\nfo:table with table-layout=\"auto\" is also not supported; however, using\ntable-layout=\"auto\" is handled correctly: A message is displayed saying that it\nis not supported, but processing *continues* while the unsupported attribute is\nignored.\n\nI would expect the same kind of behavior (logging a message & ignoring the\nunsupported attribute) when using min-height.\n\nHoping that my claim convinced anybody, I am re-setting severity to Major;\nNullPointerExceptions due to incomplete / unsupported code is an extremely bad\npractice IMO.\n\nI will attempt to create an Eclipse workspace using the Trunk version and submit\na patch for it.\n\n\n   Isaac", "attachment_id": null, "id": 109238, "creator": "isaac@shabtay.com", "time": "2007-10-11T04:41:52Z", "bug_id": 43591, "creation_time": "2007-10-11T04:41:52Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 43591, "attachment_id": null, "id": 109265, "time": "2007-10-11T09:30:03Z", "creator": "adelmelle@apache.org", "creation_time": "2007-10-11T09:30:03Z", "is_private": false, "text": "(In reply to comment #3)\n> \n> Still, not supporting a feature does not make it \"right\" to abort on a runtime\n> exception such as a NullPointerException.\n<snip />\n\nAgreed. I'll see if I can add a warning for this unimplemented property. \nNote that 'block-progression-dimension.minimum' is a valid alternative only in certain circumstances \n(depending on reference-orientation and writing-mode). 'b-p-d' is not always the same as 'height'. If it \nwere that simple, we'd probably have implemented it already...\n\nOn the same note: since the issue still exists in FOP Trunk, and it is probably safe to say that it can be \nreproduced on all platforms, I have changed those bug-properties as well."}, {"count": 5, "tags": [], "text": "\nBug has been fixed in FOP Trunk, but only now I discovered this related entry. \nThe min-height/max-height and min-width/max-width properties have (finally) been activated.\n\nsee: http://svn.apache.org/viewvc?rev=652456&view=rev", "attachment_id": null, "id": 116127, "creator": "adelmelle@apache.org", "time": "2008-05-02T02:51:50Z", "bug_id": 43591, "creation_time": "2008-05-02T02:51:50Z", "is_private": false}, {"count": 6, "attachment_id": null, "bug_id": 43591, "is_private": false, "id": 155815, "time": "2012-04-01T06:42:30Z", "creator": "gadams@apache.org", "creation_time": "2012-04-01T06:42:30Z", "tags": [], "text": "batch transition pre-FOP1.0 resolved+fixed bugs to closed+fixed"}]