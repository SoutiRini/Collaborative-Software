[{"count": 0, "tags": [], "creator": "Luc.Minnebo.LM@Belgium.Agfa.com", "is_private": false, "text": "See attached svg document; 'onmouseover' on the star, should display a \nrectangle around it; Clicking the star should clone a star; Clicking the \naeroplane should put the aeroplane behind the bomb (bad example, sorry...)\n\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.0//EN\" \"http://www.w3.org/TR/2001/REC-\nSVG-20010904/DTD/svg10.dtd\">\n\n<svg height=\"650\" width=\"800\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" >\n      <g transform=\"translate(0,10)\">\n        <defs>\n            <style type=\"text/css\"><![CDATA[\n              rect {stroke:black;fill:white }\n              line {stroke:red;stroke-width:3}\n             ]]></style>\n        </defs>\n        <g transform=\"translate(20,20)\">\n            <g id=\"room\">\n                <path d=\"M0.5 0.5v207.86l198.688-51.334V0.5H0.5z\" \nstyle=\"fill:#F881BF;\"/>\n                <path d=\"M199.188 0.5v156.526L400.5 254.36V0.5H199.188z\" \nstyle=\"fill:#FF7F00;\"/>\n                <path d=\"M0.5 208.36l198.688-51.334L400.5 254.36H0.5v-46z\" \nstyle=\"fill:#FFE600;\"/>\n                <path d=\"M62.99 46.36l74.536-5.333v61.265L62.99 115.548V46.36z\" \nstyle=\"fill:#409D27;\"/>\n                <path d=\"M327.764 51.026v81.833l-75.672-24.587V44.693l75.672 \n6.333z\" style=\"fill:#F881BF;stroke:#000000;stroke-miterlimit:4;\"/>\n                <path d=\"M316.32 59.013v61.141l-57.764-16.789l0.001-\n51.59l57.763 7.238z\" style=\"fill:#FFFFFF;stroke:#000000;stroke-miterlimit:4;\"/>\n                <path d=\"M252.092 44.693l6.466 7.081\" \nstyle=\"fill:#FFFFFF;stroke:#000000;stroke-miterlimit:4;\"/>\n                <path d=\"M316.32 59.013l11.443-7.986\" style=\"fill:none;fill-\nrule:nonzero;stroke:#000000;stroke-miterlimit:4;\"/>\n                <path d=\"M316.32 120.153l11.443 12.706\" style=\"fill:none;fill-\nrule:nonzero;stroke:#000000;stroke-miterlimit:4;\"/>\n                <path d=\"M258.557 103.364l-6.465 4.908\" style=\"fill:none;fill-\nrule:nonzero;stroke:#000000;stroke-miterlimit:4;\"/>\n                <path d=\"M264.402 45.724l23.078-9.6l25.907 13.699\" \nstyle=\"fill:none;fill-rule:nonzero;stroke:#000000;stroke-miterlimit:4;\"/>\n                <path d=\"M287.48 36.124l-3.872-2.357\" style=\"fill:none;fill-\nrule:nonzero;stroke:#000000;stroke-miterlimit:4;\"/>\n                <path d=\"M285.124 33.431c0 1.022-0.829 1.852-1.853 1.852c-1.022 \n0-1.852-0.829-1.852-1.852c0-1.023 0.829-1.852 1.852-1.852c1.023 0 1.853 0.829 \n1.853 1.852z\"/>\n                <path d=\"M81.877 45.008c0 0 31.478 5.019 20.811 27.019S82.895 \n100.95 82.895 100.95l-19.905 3.077V46.36l18.888-1.352z\" style=\"fill:#34AACD;\"/>\n                <path d=\"M62.99 46.36l74.536-5.333v61.265L62.99 115.548V46.36z\" \nstyle=\"fill:none;fill-rule:nonzero;stroke:#000000;stroke-miterlimit:4;\"/>\n                <path d=\"M137.526 102.291L62.99 115.548v-11.521l62.532-\n9.667V41.885l12.004-0.859v61.265l-12.004-7.931\" \nstyle=\"fill:#FF7F00;stroke:#000000;stroke-miterlimit:4;\"/>\n                <g style=\"fill:none;fill-rule:nonzero;stroke:#000000;stroke-\nmiterlimit:4;\">\n                    <path d=\"M258.248 170.886c0 10.561-27.657 19.121-61.776 \n19.121s-61.776-8.563-61.776-19.121s27.658-19.119 61.776-19.119c34.119 0 61.776 \n8.563 61.776 19.119z\" style=\"fill:#FFFFFF;\"/>\n                    <path d=\"M246.223 253.243h-98.694v-56.305h98.694v56.305z\" \nstyle=\"fill:#FFFFFF;stroke:none;\"/>\n                    <path d=\"M258.242 170.956c-0.121 10.525-27.728 19.051-\n61.771 19.051s-61.649-8.523-61.771-19.051h-0.006v15.258h0.076c1.582 10.123 28.6 \n18.182 61.701 18.182c33.104 0 60.119-8.059 61.701-18.182h0.094v-15.258h-0.023h-\n0.002z\" style=\"fill:#FFFFFF;\"/>\n                    <path d=\"M147.534 196.938v56.307\"/>\n                    <path d=\"M245.832 196.938v56.307\"/>\n                    <path d=\"M156.243 205.841v47.402\"/>\n                    <path d=\"M236.699 205.841v47.402\"/>\n                    <path d=\"M173.734 209.292v43.951\"/>\n                    <path d=\"M219.208 209.292v43.951\"/>\n                    <path d=\"M196.47 211.593v41.65\"/>\n                </g>\n            </g>\n            <!-- room -->\n            <g id=\"contents\"/>\n            <!-- contents -->\n            <defs>\n                <g id=\"bomb\">\n                    <path \nd=\"M183.734,119.848v6.643c11.666,4.752,17.5,12.871,17.5,24.357c0,7.16-\n2.535,13.262-7.604,18.305s-11.188,7.564-18.359,7.564c-7.139,0-13.242-2.521-\n18.311-7.564s-7.602-11.113-7.602-18.207c0-11.193,5.832-19.345,17.5-24.455v-\n6.643c1.613-0.84,3.613-1.453,6-1.842v-1.023c0-3.346,1.09-6.164,3.271-\n8.455c2.182-2.289,4.852-3.436,8.012-\n3.436c4.266,0,9.412,2.578,15.438,7.734l2.588,2.238c6.252,5.352,11.348,8.027,15.2\n89,8.027c1.336,0,2.996-0.504,4.982-1.514c0.293-0.156,0.684-0.236,1.174-\n0.236c1.496,0,2.246,0.602,2.246,1.803c0,1.268-0.887,2.389-2.66,3.361c-\n1.773,0.975-3.799,1.461-6.076,1.461c-4.85,0-10.869-3.016-18.059-9.049l-2.783-\n2.334c-5.271-4.41-9.338-6.617-12.201-6.617c-4.23,0-6.346,2.68-\n6.346,8.039c2.131,0.453,4.131,1.066,6,1.842z M206.916,102.473l1.957-\n1.631l12.049,15.857l-14.006-14.227z M223.859,100.842h2.375l-1.117,14.355l-1.258-\n14.355z M241.049,100.842l1.998,1.531l-13.645,14.375l11.646-15.906z \nM245.533,117.038l0.389,2.277l-14.326,1.307l13.938-3.584z M248.359,134.018l-\n1.17,2.002l-16.424-11.008l17.594,9.006z M233.252,140.948l-2.34,0.83l-3.605-\n13.859l5.945,13.029z M216.855,146.803l-2.301-0.83l8.178-18.154l-5.877,18.984z\"/>\n                    <rect style=\"opacity:0\" x=\"148\" y=\"98\" width=\"100\" \nheight=\"80\"/>\n                </g>\n                <!-- bomb -->\n                <g id=\"airplane\">\n                    <path d=\"M159.329,139.994l-6.275-\n14h7.035l6.655,10.074l36.383-1.141l-17.241-\n41.859h9.38l26.62,41.036h6.148c3.635,0,6.929,0.463,9.89,1.386l4.055,1.323c3,1.00\n9,4.501,2.058,4.501,3.147c0,1.176-1.501,2.269-4.501,3.274l-4.055,1.323c-\n2.961,0.925-6.318,1.386-10.079,1.386l-5.959-0.124l-26.62,40.998h-9.38l17.241-\n41.758l-36.383-1.139l-6.655,10.133h-7.035l6.275-14.061z\"/>\n                    <rect style=\"opacity:0\" x=\"148\" y=\"98\" width=\"100\" \nheight=\"80\"/>\n                </g>\n                <!-- airplane -->\n\n                <g id=\"star_def\">\n                    <path d=\"M25.932 16.499l-2.934-9c2.846 0 5.375 0.809 7.588 \n2.422c2.215 1.615 3.807 3.809 4.779 6.578h-9.434zM 27.725 22.061l7.641-\n5.544c0.422 1.498 0.633 2.849 0.633 4.053c0 4.27-1.785 7.755-5.357 10.456l-\n2.916-8.965zM 22.999 25.481l7.643 5.544c-2.412 1.648-4.959 2.474-7.643 2.474c-\n2.67 0-5.217-0.824-7.641-2.474l7.641-5.544zM 18.274 22.061l-2.916 8.965c-3.572-\n2.818-5.359-6.315-5.359-10.491c0-1.216 0.219-2.555 0.65-4.018l7.625 5.544zM \n20.083 16.499h-9.434c0.949-2.759 2.535-4.948 4.762-6.569c2.225-1.619 4.754-\n2.431 7.588-2.431l-2.916 9z\"/>\n                    <rect style=\"opacity:0\" x=\"0\" y=\"0\" width=\"45\" height=\"40\"/>\n                </g>\n                <!-- star -->\n            </defs>\n\n            <rect id=\"hilite_box\" \nstyle=\"fill:none;stroke:black;visibility:hidden\" x=\"0\" y=\"0\" width=\"45\" \nheight=\"40\"/>\n            <use id=\"star\" xlink:href=\"#star_def\" x=\"342\" y=\"258\" \nonclick=\"clone_me(evt)\" onmouseover=\"hilite_btn(evt)\" onmouseout=\"hilite_btn\n(evt)\"/>\n            <g id=\"border\">\n                <path d=\"M400.5 300.5H0.5V0.5h400v300z\" style=\"fill:none;fill-\nrule:nonzero;stroke:#000000;stroke-miterlimit:4;\"/>\n            </g>\n            <!-- border -->\n            <g id=\"zorder\">\n                <use id=\"zbomb\" xlink:href=\"#bomb\" style=\"fill:#D90000\" \nonclick=\"arrange_me(evt)\"/>\n                <use id=\"zairplane\" xlink:href=\"#airplane\" style=\"fill:#409D27\" \nonclick=\"arrange_me(evt)\"/>\n            </g>\n            <script type=\"text/ecmascript\">\n\t/*\n\t* This function returns the innermost SVG object that triggered the \nevent\n\t* and that has a non-null id attribute. This can be either the event's\n\t* target itself, or its parent node, or the first ancestor of the target\n\t* with a non-null id.\n\t*\n\t* Input Parameters:\n\t*   event - The JavaScript object describing the triggering event\n\t* Return Value:\n\t*   The target node or first target's ancestor with a non-null id.\n\t*/\n\tfunction get_target (event)\n\t{\n\t\tvar target = event.getTarget();\n\t\twhile (target &amp;&amp; !target.getAttribute('id'))\n\t\t\ttarget = target.getParentNode();\n\t\treturn target;\n\t}\n\n\t/*\n\t* This function places the highlighting box around the indicated object \nand\n\t* makes it visible or invisible.\n\t*\n\t* Input Parameters:\n\t*   target     - SVG element where the box should be positioned on.\n\t*   visibility - the setting for the box's visibility property.\n\t*/\n\tfunction move_box (target, visibility)\n\t{\n\t\tvar box_name = 'hilite_box';\n\t\tvar svgdoc = target.getOwnerDocument();\n\t\tvar svgobj = svgdoc.getElementById (box_name);\n\t\tif (svgobj)\n\t\t{\n\t\t\tsvgobj.setAttribute ('x', target.getAttribute('x'));\n\t\t\tsvgobj.setAttribute ('y', target.getAttribute('y'));\n\t\t\tvar svgstyle = svgobj.getStyle();\n\t\t\tif (svgstyle)\n\t\t\t\tsvgstyle.setProperty ('visibility', \nvisibility, \"\");\n\t\t}\n\t}\n\n\t/*\n\t* This function makes the highlighting box visible or invisible around\n\t* an icon depending on whether the mouse was moved over or out-of the \nicon.\n\t*\n\t* Input Parameters:\n\t*   event - The JavaScript object describing the triggering event\n\t*/\n\tfunction hilite_btn (event)\n\t{\n\t\tvar target = get_target(event);\n\t\tswitch (event.getType()+'')\n\t\t{\n\t\t\tcase 'mouseover':\n\t\t\t\tmove_box (target, 'visible');\n\t\t\t\tbreak;\n\t\t\tcase 'mouseout':\n\t\t\t\tmove_box (target, 'hidden');\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/*\n\t* This function creates a duplicate of the object that was clicked and\n\t* adds it to the \"contents\" group:\n\t* The object's node is the event.target.\n\t* The node is cloned.\n\t* The cloned node's x &amp; y attributes and its fill property or set to\n\t* random values.\n\t* The cloned node is appended to the contents group.\n\t* \n\t* Input Parameters:\n\t*   event - The JavaScript object describing the triggering event\n\t*/\n\tfunction clone_me (event)\n\t{\n\t\t// List of colors assigned randomly to the clone object.\n\t\tvar colors = new Array\n\t\t\n\t('red', 'blue', 'yellow', 'cyan', 'green', 'gray', 'white', 'brown');\n\n\t\t// Retrieve node of object that was clicked on.\n\t\tvar target = get_target(event);\n\n\t\tvar svgdoc = target.getOwnerDocument();\n\n\t\t// Show highlight box around the icon that was clicked on.\n\t\t// (This should already be done because of the mouseover event, \nbut the\n\t\t// display might not be updated by the time this event is \ntriggered. This\n\t\t// call makes sure the display gets updated.)\n\t\tmove_box (target, 'visible');\n\n\t\t// Determine random values for the new elements x, y, and fill \nattributes\n\t\t// and properties.\n\t\tvar x = 10+335*Math.random();\n\t\tvar y = 10+200*Math.random();\n\t\tvar fill = Math.floor(colors.length*Math.random());\n\t\tif (fill == colors.length) fill = colors.length-1;\n\t\tfill = colors[fill];\n\n\t\t// Clone the object and set its attributes and properties.\n\t\tvar newnode = target.cloneNode(false);\n\t\tnewnode.setAttribute ('x', x);\n\t\tnewnode.setAttribute ('y', y);\n\t\tnewnode.getStyle().setProperty ('fill', fill, \"\");\n\n\t\t// Retrieve the node for \"contents\" group.\n\t\tvar contents = svgdoc.getElementById ('contents');\n\n\t\t// Insert the cloned object into the contents group node.\n\t\tnewnode = contents.appendChild (newnode);\n\t}\n\n\t/*\n\t* This function moves the object that was clicked to the back of all \nother \n\t* objects in its group:\n\t* The object's node is the event.target.\n\t* The node is removed from its parent node (its container group).\n\t* The node is reinserted into its parent node before the first child \nnode\n\t* in the parent.\n\t* \n\t* Input Parameters:\n\t*   event - The JavaScript object describing the triggering event\n\t*/\n\tfunction arrange_me (event)\n\t{\n\t\t// Retrieve node of object that was clicked on.\n\t\tvar target = get_target(event);\n\n\t\t// Retrieve node of object's parent group.\n\t\tvar groupnode = target.getParentNode();\n\n\t\t// Remove object's node from its group node.\n\t\tgroupnode.removeChild (target);\n\n\t\t// Insert object's node into its group node before the first \nchild of the\n\t\t// group.\n\t\tgroupnode.insertBefore (target, groupnode.getFirstChild());\n\t}\n        </script>\n        </g>\n      </g>\n</svg>", "id": 18318, "time": "2002-06-21T15:02:57Z", "bug_id": 10125, "creation_time": "2002-06-21T15:02:57Z", "attachment_id": null}, {"count": 1, "tags": [], "creator": "vincent.hardy@sun.com", "text": "Regarding the highlight, I have sent an ISSUE to the SVG working group, as it is\nnot clear that the behavior expected by the script is actually correct (even\nthough it is what I recommended in my email to the working group).\n\n", "id": 22158, "time": "2002-09-03T12:21:06Z", "bug_id": 10125, "creation_time": "2002-09-03T12:21:06Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 10125, "attachment_id": null, "text": "This should be looked at before 1.5 final so that we make sure we fix remaining\nissues if any.", "id": 39672, "time": "2003-06-30T15:25:10Z", "creator": "vincent.hardy@sun.com", "creation_time": "2003-06-30T15:25:10Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 10125, "attachment_id": null, "text": "This one is extremly difficult. We know our <use> implementation is broken, and\nthis is what this example is hitting on. Instead of implementing <use> with the\nSVGElementInstance tree, we ended up with something different based on\nSVGOMCSSImportedElementRoot which has a rendering behavior equivalent to the\nSVGElementInstance tree but that model breaks in dynamic context.\n\nGiven the cost of change and the time we have before 1.5 final, I suggest we\nactually change this bug to LATER, knowing it is bad but that the cost of fixing\nis now prohibitive.\n\nThomas, any comment?", "id": 39833, "time": "2003-07-02T09:40:59Z", "creator": "vincent.hardy@sun.com", "creation_time": "2003-07-02T09:40:59Z", "is_private": false}]