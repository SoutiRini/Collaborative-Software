[{"count": 0, "tags": [], "bug_id": 12074, "attachment_id": null, "id": 21788, "time": "2002-08-27T10:17:11Z", "creator": "l_faillie@yahoo.com", "creation_time": "2002-08-27T10:17:11Z", "is_private": false, "text": "Hi all,\n\nI'm trying to compile Apache 1.3.26 and PHP on an HP-UX 11.00 server, using GCC\n3.0.\n\nThe compilation fails w/ the following error :\n\n\n<=== src/modules\n        gcc -c  -I./os/unix -I./include   -DHPUX11 -DUSE_HSREGEX -DUSE_EXPAT\n-I./lib/expat-lite `./apaci` modules.c\n        gcc -c  -I./os/unix -I./include   -DHPUX11 -DUSE_HSREGEX -DUSE_EXPAT\n-I./lib/expat-lite `./apaci` buildmark.c\n        gcc  -DHPUX11 -DUSE_HSREGEX -DUSE_EXPAT -I./lib/expat-lite `./apaci`  \n-Wl,-E -Wl,-B,deferred -Wl,+s \\\n              -o httpd buildmark.o modules.o  modules/standard/libstandard.a \nmain/libmain.a  ./os/unix/libos.a  ap/libap.a regex/libregex.\na lib/expat-lite/libexpat.a  -lm -lpthread -lm\n/usr/ccs/bin/ld: Unsatisfied symbols:\n   _Isinf (code)\ncollect2: ld returned 1 exit status\n*** Error exit code 1\n\nI made some check to find where this function is used but ... I only found it on\nobject file ????\n\n[faillie]/home/faillie/projets/apache_1.3.26 $find . -type f -exec grep -l Isinf\n{} \\;\n./src/ap/ap_snprintf.o\n./src/ap/libap.a\n\nSo, any tips are wellcome ;-D\n\nLaurent"}, {"count": 1, "tags": [], "creator": "l_faillie@yahoo.com", "attachment_id": null, "text": "As a workarount, I have modifyed src/ap/ap_snprintf.c on line 945 as following :\n\n/*#ifdef HAVE_ISINF  */\n#if 0\n\n...\n\nNow the compilation succeed.\nAnyway, I wonder if it's not a GCC issue because\n1/ isinf() exists on HP-UX 11.00 (according to man),\n2/ the source code is isinf() and the linker is looking for Isinf().\n\nAnyway, it' strange.\n\n- Laurent\n", "id": 21792, "time": "2002-08-27T12:40:16Z", "bug_id": 12074, "creation_time": "2002-08-27T12:40:16Z", "is_private": false}, {"count": 2, "tags": [], "creator": "jim@apache.org", "attachment_id": null, "text": "Is 'isinf()' actually a macro or something on HPUX to Isinf? When Configure runs, it looks \nfor isinf() in various libs and will only set HAVE_ISINF if it finds it.", "id": 23043, "time": "2002-09-18T15:42:12Z", "bug_id": 12074, "creation_time": "2002-09-18T15:42:12Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 12074, "attachment_id": null, "id": 23443, "time": "2002-09-26T11:51:38Z", "creator": "l_faillie@yahoo.com", "creation_time": "2002-09-26T11:51:38Z", "is_private": false, "text": "I made some check on the machine :\n\n1/ Yes, isinf() may be a macro pointing to _Isinf(). (may : because it's depend \non other define).\n\n2/ _Isinf() exists in libm ... which is part of the linker command line.\n\nI found what's append, with -v option, I saw the linker library search path :\n /opt/gcc/lib/gcc-lib/hppa2.0n-hp-hpux11.00/3.0/collect2 -L/lib/pa1.1 -L/usr/lib\n/pa1.1 -z -u main -o httpd /usr/ccs/lib/crt0.o -L/opt/gcc/lib/gcc-lib/hppa2.0n-h\np-hpux11.00/3.0 -L/usr/ccs/bin -L/usr/ccs/lib -L/opt/langtools/lib -L/opt/gcc/li\nb/gcc-lib/hppa2.0n-hp-hpux11.00/3.0/../../.. buildmark.o modules.o modules/stand\nard/libstandard.a main/libmain.a ./os/unix/libos.a ap/libap.a regex/libregex.a l\nib/expat-lite/libexpat.a -lm -lpthread -lm -lgcc -lc -lgcc\n\nA libm.a exists in /lib/pa1.1 but unfortinatly, this library doesn't have \n_Isinf() :-(\n\nA workaround is to specificaly link with /usr/lib/libm.a with is the correct \nlibrary. But I duno what could be done on Apache configure side to resolve this \nproblem :-(\n\nBye\n\nLaurent\n"}, {"count": 4, "tags": [], "bug_id": 12074, "attachment_id": null, "id": 52481, "time": "2004-02-18T13:22:06Z", "creator": "l_faillie@yahoo.com", "creation_time": "2004-02-18T13:22:06Z", "is_private": false, "text": "Can't reproduce this bug w/ the latest version (1.3.29)\n"}]