[{"count": 0, "tags": [], "bug_id": 40135, "attachment_id": null, "text": "1. Create a new web app.\n\n2. Register a error-page in a 2.4 web.xml:\n\t<error-page>\n\t\t<exception-type>java.sql.SQLException</exception-type>\n\t\t<location>/error.jsp</location>\n\t</error-page>\n\n3. Create error.jsp:\n<%@ page isErrorPage=\"true\" %>\n<html>\nerror\n</html>\n\n4. Create a page that generates an error:\n<%\njava.sql.DriverManager.getConnection(\"aaaa\");\n%>\n\n5. Start the server\n\n6. You get the default error page instead of error.jsp\n\nMisc: it seems like tomcat is not unwrapping ServletException's coming from the\njsp (and maybe servlets) as it supposed to do.", "id": 91695, "time": "2006-07-28T13:25:02Z", "creator": "guilherme.silveira@caelum.com.br", "creation_time": "2006-07-28T13:25:02Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 40135, "text": "I've encountered the same problem. Either setting error-code (e.g. 500) or\nexception-type (java.lang.Trowable) doesn't work. Always the Tomcat std. error\npage. appears.", "id": 92128, "time": "2006-08-10T23:52:35Z", "creator": "grave@gmx.de", "creation_time": "2006-08-10T23:52:35Z", "is_private": false, "attachment_id": null}, {"count": 2, "tags": [], "text": "It works fine with java.lang.Exception though.", "is_private": false, "id": 92129, "creator": "guilherme.silveira@caelum.com.br", "time": "2006-08-11T00:26:35Z", "bug_id": 40135, "creation_time": "2006-08-11T00:26:35Z", "attachment_id": null}, {"count": 3, "tags": [], "bug_id": 40135, "text": "(In reply to comment #2)\n> It works fine with java.lang.Exception though.\n\nI investigated a little more. Using an error-page for 404 works. But 500s went\nthrough...\n", "id": 92140, "time": "2006-08-11T12:19:02Z", "creator": "grave@gmx.de", "creation_time": "2006-08-11T12:19:02Z", "is_private": false, "attachment_id": null}, {"count": 4, "tags": [], "bug_id": 40135, "attachment_id": null, "id": 93302, "time": "2006-09-10T18:23:52Z", "creator": "grave@gmx.de", "creation_time": "2006-09-10T18:23:52Z", "is_private": false, "text": "For my special case it was shale, that was eating the 500s errors.\nSorry for the inconvenience.\n\nFor me, this can be closed."}, {"count": 5, "attachment_id": null, "bug_id": 40135, "text": "Ive read the jsp api specification and according to it, the container can decide\nwhat to do if an exception is raised and not catched in the jsp file and there\nis no errorPage attribute in the page tag in that jsp.\n\nUnfortunately, Tomcat used to do something in 5.5.12 and does something else\nnowadays. Therefore this can either be left as Tomcat's decision or roll'd back\nand redefined.", "id": 93304, "time": "2006-09-10T18:50:05Z", "creator": "guilherme.silveira@caelum.com.br", "creation_time": "2006-09-10T18:50:05Z", "tags": [], "is_private": false}]