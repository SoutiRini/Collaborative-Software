[{"count": 0, "attachment_id": 23920, "bug_id": 47466, "text": "Created attachment 23920\nExample war consisting of the above web.xml and JSP files\n\nPage session directive appears to be ignored when specified in include-prelude declarations. For example, the following configuration should ensure that JSP pages do not create sessions. This works in 6.0.14, but not in 6.0.20 (I've not test 6.0.18 yet).\n\n/WEB-INF/web.xml:\n<?xml version=\"1.0\"?>\n<web-app xmlns=\"http://java.sun.com/xml/ns/j2ee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"\n         version=\"2.4\">\n  <jsp-config>\n    <jsp-property-group>\n      <url-pattern>*.jsp</url-pattern>\n      <include-prelude>/WEB-INF/prelude.jsp</include-prelude>\n    </jsp-property-group>\n  </jsp-config>\n</web-app>\n\n/WEB-INF/prelude.jsp:\n<%@ page session=\"false\" %>\n\n/index.jsp:\n<!DOCTYPE html>\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\">\n<head>\n  <title>Session Test</title>\n</head>\n<body>\n<%  if (null != request.getSession(false)) {\n      %>Session present<%\n    } else {\n      %>Session not present<%\n    }%>\n</body>\n</html>\n\nI've attached a sample WAR file containing the above files. Under 6.0.20, the output will be 'Session present', whereas in 6.0.14 the output will be 'Session not present'.\n\nHas the behaviour of preludes been intentionally changed in 6.0.20? I've not seen any specific in the change logs between versions.", "id": 128477, "time": "2009-07-02T04:01:22Z", "creator": "damien@taglab.com", "creation_time": "2009-07-02T04:01:22Z", "tags": [], "is_private": false}, {"count": 1, "text": "\n\n*** This bug has been marked as a duplicate of bug 47318 ***", "bug_id": 47466, "attachment_id": null, "id": 128478, "time": "2009-07-02T05:02:54Z", "creator": "markt@apache.org", "creation_time": "2009-07-02T05:02:54Z", "tags": [], "is_private": false}]