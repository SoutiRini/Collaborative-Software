[{"count": 0, "tags": [], "text": "Whilst looking at a thread safety issue in mod_fastcgi, i noticed\nthere's some suspicious looking code in apache httpd project.\n\nserver/mpm_common.c (2.2.17) has two functions ap_uname2id and\nap_gname2id which call getpwnam and getgrnam, two non-reentrant\nfunctions.\n\nComparing with typical apr code that tends to have an #ifdef to\nselect function() vs function_r().\n\n-----------------------------------------------------------------------\n\nPerhaps ap_uname2id and ap_gname2id are not executed concurrently by\nthe current code base but if these are general purpose functions they\nshould be more cautious/safe?\n\nHas the whole apache httpd 2.x project been scanned for use of\nnon-reentrant function calls?\n\n-----------------------------------------------------------------------\n\nEmail thread in dev mailing list - http://marc.info/?l=apache-httpd-dev&m=129482822402732&w=2", "is_private": false, "bug_id": 50602, "id": 143411, "time": "2011-01-17T09:19:50Z", "creator": "kjw@ms.com", "creation_time": "2011-01-17T09:19:50Z", "attachment_id": null}]