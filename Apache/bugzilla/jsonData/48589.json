[{"count": 0, "tags": [], "bug_id": 48589, "attachment_id": 24878, "id": 133785, "time": "2010-01-21T07:49:57Z", "creator": "cdauth+issues.apache.org@cdauth.de", "creation_time": "2010-01-21T07:49:57Z", "is_private": false, "text": "Created attachment 24878\nPatch to make JNDIRealm extendible by making the User class protected.\n\nCurrently, JNDIRealm uses objects of a User class to pass information between several protected methods. The User class is only available inside the org.apache.catalina.realm package. If you want to extend JNDIRealm and overload some methods, you have two possibilities:\n1. You put your class inside the org.apache.catalina.realm package. This is not a very proper solution.\n2. You overload all methods that use User objects and eliminate the latter. This means that you have to copy a lot of logic from the JNDIRealm class.\n\nI suggest to make an inner class out of the User class and make that protected so that sub-classes can access it to properly extend the Realm. See the patch I provided."}, {"count": 1, "attachment_id": 24879, "creator": "cdauth+issues.apache.org@cdauth.de", "text": "Created attachment 24879\nPatch to make JNDIRealm extendible by making the User class protected.\n\nI forgot to make the members visible...", "id": 133789, "time": "2010-01-21T08:21:34Z", "bug_id": 48589, "creation_time": "2010-01-21T08:21:34Z", "tags": [], "is_private": false}, {"count": 2, "tags": [], "bug_id": 48589, "attachment_id": null, "text": "Thanks for the patch. I didn't use it directly but used it as the basis for the fix I have applied to 7.0.x and proposed for 6.0.x\n\nFor future reference, please provide patches in diff -u format as this makes the patch easier to work with.\n\nThe main difference in the fix that I applied is that the User fields are now private with public accessors. I prefer this to allowing read/write access directly to the fields.", "id": 134556, "time": "2010-02-16T11:44:03Z", "creator": "markt@apache.org", "creation_time": "2010-02-16T11:44:03Z", "is_private": false}, {"count": 3, "attachment_id": null, "creator": "markt@apache.org", "text": "The patch has been applied to 6.0.x and will be included in 6.0.27 onwards.", "id": 136938, "time": "2010-05-18T13:47:36Z", "bug_id": 48589, "creation_time": "2010-05-18T13:47:36Z", "tags": [], "is_private": false}]