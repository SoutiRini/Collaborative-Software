[{"count": 0, "tags": [], "text": "Created attachment 29252\nProposed patch\n\nHi,\n\n'apr_brigade_puts' has some logic to put by itself data in heap bucket at the end of the brigade or call 'apr_brigade_write' in all other cases.\n\nAFAIK, all this logic is already part of 'apr_brigade_write'.\n\n\nThis only difference I see is in computation of the remaining space :\n'apr_brigade_puts'\n        apr_size_t bytes_avail = h->alloc_len - bkt->length;\n'apr_brigade_write'\n        remaining = h->alloc_len - (e->length + (apr_size_t)e->start);\n\nI don't really understand why it is different and what the 'e->start' stands for.\n\n\nAnyway, I think it is safe to simplify 'apr_brigade_puts'.\n\nBest regards.", "attachment_id": 29252, "bug_id": 53740, "id": 161517, "time": "2012-08-19T22:02:24Z", "creator": "christophe.jaillet@wanadoo.fr", "creation_time": "2012-08-19T22:02:24Z", "is_private": false}, {"count": 1, "attachment_id": null, "creator": "sf@sfritsch.de", "is_private": false, "id": 163000, "time": "2012-10-27T21:22:31Z", "bug_id": 53740, "creation_time": "2012-10-27T21:22:31Z", "tags": [], "text": "r1402870"}, {"count": 2, "tags": [], "bug_id": 53740, "attachment_id": null, "text": "fixed in 1.5.2", "id": 166435, "time": "2013-04-05T20:26:18Z", "creator": "sf@sfritsch.de", "creation_time": "2013-04-05T20:26:18Z", "is_private": false}]