[{"count": 0, "tags": [], "creator": "bjoern@j3e.de", "is_private": false, "text": "downloading large ammount of data via ssl this is not too cpu consuming on recent CPUs but with browsers that support ssl compression you can see very CPU intensive apache processes due to ssl compression being done. instread of 2% cpu time (encryption only) 50% cpu time (compression+encrytion) will be taken by one apache process in a test.\n\nThere is no way to disable ssl compression in mod_ssl even though openssl has \"SSL_OP_NO_COMPRESSION\" which can be enabled via SSL_CTX_set_options since 1.0.0. For scalability reasons it would be required that ssl compression can be turned off in mod_ssl. I would even suggest to turn it off by default because mod_deflate is doing a much better job and can be better tuned by file types etc.", "id": 158973, "time": "2012-05-11T21:52:22Z", "bug_id": 53219, "creation_time": "2012-05-11T21:52:22Z", "attachment_id": null}, {"count": 1, "tags": [], "text": "Created attachment 28782\npatch to add SSLCompession On/Off parameter\n\nI've created a patch which adds the parameter SSLCompession which can be set to On or Off. By default it uses the default of the SSL library. This patch is against 2.2 but it also applies to 2.4 with some offsets.", "is_private": false, "id": 159073, "creator": "bjoern@j3e.de", "time": "2012-05-15T20:36:31Z", "bug_id": 53219, "creation_time": "2012-05-15T20:36:31Z", "attachment_id": 28782}, {"count": 2, "tags": [], "text": "Created attachment 28804\npatch to disable ssl compression\n\nthis version of the patch now works with openssl 0.9.8 and newer", "is_private": false, "id": 159170, "creator": "bjoern@j3e.de", "time": "2012-05-18T18:22:41Z", "bug_id": 53219, "creation_time": "2012-05-18T18:22:41Z", "attachment_id": 28804}, {"count": 3, "tags": [], "bug_id": 53219, "is_private": false, "id": 159621, "attachment_id": null, "creator": "sf@sfritsch.de", "creation_time": "2012-06-01T19:39:31Z", "time": "2012-06-01T19:39:31Z", "text": "Committed to trunk as r1345319 with some tweak to abort with an error when trying to configure compression in virtual-host scope with openssl 0.9.8 (which can only enable/disable compression globally)."}, {"count": 4, "tags": [], "creator": "rainer.jung@kippdata.de", "text": "Backported to 2.4.x in r1369585.\nWill be part of 2.4.3.", "id": 161100, "attachment_id": null, "bug_id": 53219, "creation_time": "2012-08-05T18:21:46Z", "time": "2012-08-05T18:21:46Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 53219, "is_private": false, "count": 5, "id": 161577, "time": "2012-08-21T15:58:18Z", "creator": "rainer.jung@kippdata.de", "creation_time": "2012-08-21T15:58:18Z", "text": "Released with 2.4.3.\nLeaving open for possible back port to 2.2."}, {"count": 6, "tags": [], "bug_id": 53219, "attachment_id": null, "is_private": false, "id": 162166, "time": "2012-09-13T18:25:25Z", "creator": "reed@reedloden.com", "creation_time": "2012-09-13T18:25:25Z", "text": "(In reply to comment #5)\n> Leaving open for possible back port to 2.2.\n\nConsidering the potential of abuse of SSL/TLS compression by the new CRIME attack (https://threatpost.com/en_us/blogs/crime-attack-uses-compression-ratio-tls-requests-side-channel-hijack-secure-sessions-091312), can this back port request be prioritized and completed so folks can easily disable SSL/TLS compression if needed? Thanks!"}, {"count": 7, "tags": [], "creator": "covener@gmail.com", "is_private": false, "text": "proposed for 2.2.x", "id": 162176, "time": "2012-09-14T10:59:24Z", "bug_id": 53219, "creation_time": "2012-09-14T10:59:24Z", "attachment_id": null}, {"count": 8, "tags": [], "bug_id": 53219, "is_private": false, "id": 162568, "attachment_id": null, "creator": "chris@christopherschultz.net", "creation_time": "2012-10-04T16:22:13Z", "time": "2012-10-04T16:22:13Z", "text": "I'd love to see this in 2.2.x as well, since many Linux distros still aren't supporting 2.4.x, and protection against CRIME is certainly a nice thing to have."}, {"count": 9, "tags": [], "creator": "asfbugz@velox.ch", "text": "Backported to 2.2.x in r1395231. To appear in 2.2.24.", "id": 162606, "time": "2012-10-07T06:59:41Z", "bug_id": 53219, "creation_time": "2012-10-07T06:59:41Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 53219, "is_private": false, "count": 10, "id": 162615, "time": "2012-10-08T00:55:18Z", "creator": "calestyo@scientia.net", "creation_time": "2012-10-08T00:55:18Z", "text": "Hi.\n\nIt's good to see this backported...\n\nHowever,... I'm a bit concerned...\n\nAs far as I understood,... _ALL_ versions of SSL/TLS are vulnerable to the CRIME attack, right?\n\nSo why is compression not forcefully disabled? Not with respect to speed (as originally intended by Bj\u00f6rn) but to security.\n\nIf newer versions of TLS should fix the attack.... one could allow them to select whether compression should be used or not.\n\nIdeas?"}, {"count": 11, "tags": [], "text": "(In reply to comment #9)\n> Backported to 2.2.x in r1395231. To appear in 2.2.24.\n\nGreat! Now, to get Debian to actually put this patch into a release channel...", "attachment_id": null, "bug_id": 53219, "id": 162666, "time": "2012-10-10T14:31:52Z", "creator": "chris@christopherschultz.net", "creation_time": "2012-10-10T14:31:52Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 53219, "is_private": false, "count": 12, "id": 162678, "time": "2012-10-10T20:06:51Z", "creator": "calestyo@scientia.net", "creation_time": "2012-10-10T20:06:51Z", "text": "I've already opened http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=689936 .\n\n\n\nNevertheless, as I've mentioned in comment 10, Apache should handle this more by itself."}, {"count": 13, "tags": [], "creator": "bjoern@j3e.de", "is_private": false, "text": "also see http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=674142", "id": 162679, "time": "2012-10-10T20:10:11Z", "bug_id": 53219, "creation_time": "2012-10-10T20:10:11Z", "attachment_id": null}, {"count": 14, "tags": [], "text": "The default has been changed to \"off\" in r1400700", "is_private": false, "id": 162857, "creator": "sf@sfritsch.de", "time": "2012-10-21T19:35:19Z", "bug_id": 53219, "creation_time": "2012-10-21T19:35:19Z", "attachment_id": null}, {"count": 15, "tags": [], "text": "(In reply to comment #14)\n> The default has been changed to \"off\" in r1400700\n\nThat's only on trunk, right? What about the default for 2.2.x and 2.4.x?", "attachment_id": null, "bug_id": 53219, "id": 162858, "time": "2012-10-21T21:53:09Z", "creator": "reed@reedloden.com", "creation_time": "2012-10-21T21:53:09Z", "is_private": false}, {"count": 16, "tags": [], "creator": "calestyo@scientia.net", "is_private": false, "text": "Hi Stefan.\n\n1) Are you going to backport this into the Debian versions?\n\n2) As long as there is no protocol level fix (or something like this), wouldn't it be better to generally and forcibly switch that off in the affected versions?\nI mean if someone would really want it in spite of the attack,... he should probably be able to patch the code accordingly.\nOtherwise people may just think that compression sounds like a good thing and \"accidentally\" enable it (which leads me to: (3)).\n\n3) As far as I can see, the documentation of this directive does not refer to the CRIME attack.\nUnless (2) was done (and thus people can't accidentally enable it) I'd strongly recommend adding information that switching compression on allows the CRIME attack and which versions of SSL/TLS/etc. are affected (unless all are).\n\n\nCheers,\nChris.", "id": 162920, "time": "2012-10-25T00:25:32Z", "bug_id": 53219, "creation_time": "2012-10-25T00:25:32Z", "attachment_id": null}, {"count": 17, "tags": [], "text": "(In reply to comment #15)\n> (In reply to comment #14)\n> > The default has been changed to \"off\" in r1400700\n> \n> That's only on trunk, right? What about the default for 2.2.x and 2.4.x?\n\nThey will be changed, too. But due to the voting on backports, it will take a bit. For 2.4.x, the change has been committed as r1400962 and will be in 2.4.4.\n\n\n(In reply to comment #16)\n> 1) Are you going to backport this into the Debian versions?\n\nYes.\n\n> 2) As long as there is no protocol level fix (or something like this),\n> wouldn't it be better to generally and forcibly switch that off in the\n> affected versions?\n> I mean if someone would really want it in spite of the attack,... he should\n> probably be able to patch the code accordingly.\n> Otherwise people may just think that compression sounds like a good thing\n> and \"accidentally\" enable it (which leads me to: (3)).\n> \n> 3) As far as I can see, the documentation of this directive does not refer\n> to the CRIME attack.\n> Unless (2) was done (and thus people can't accidentally enable it) I'd\n> strongly recommend adding information that switching compression on allows\n> the CRIME attack and which versions of SSL/TLS/etc. are affected (unless all\n> are).\n\nThe documentation now states \"Enabling compression causes security issues in most setups (the so called CRIME attack).\" I think that is sufficient.", "is_private": false, "id": 162999, "creator": "sf@sfritsch.de", "time": "2012-10-27T20:50:31Z", "bug_id": 53219, "creation_time": "2012-10-27T20:50:31Z", "attachment_id": null}, {"count": 18, "tags": [], "creator": "calestyo@scientia.net", "text": "Thanks.\n\nbtw: Does anyone know whether SSL/TLS is going to be fixed? I mean in a way that CRIME is not working while still being able to use TLS compression?", "id": 163138, "attachment_id": null, "bug_id": 53219, "creation_time": "2012-11-02T03:03:53Z", "time": "2012-11-02T03:03:53Z", "is_private": false}, {"count": 19, "tags": [], "creator": "wrowe@apache.org", "text": "Stephan, I didn't catch the r1400962 backport in STATUS, and it didn't appear\nto be committed yet to 2.2.  Could you add to 2.2 STATUS so we can +1 the\nchange before a 2.2.24?", "id": 164135, "time": "2012-12-17T22:05:09Z", "bug_id": 53219, "creation_time": "2012-12-17T22:05:09Z", "is_private": false, "attachment_id": null}, {"attachment_id": null, "tags": [], "bug_id": 53219, "is_private": false, "count": 20, "id": 165607, "time": "2013-03-03T16:47:39Z", "creator": "sf@sfritsch.de", "creation_time": "2013-03-03T16:47:39Z", "text": "fixed in 2.4.4 and 2.2.24"}, {"count": 21, "tags": [], "bug_id": 53219, "attachment_id": null, "id": 180762, "time": "2015-02-04T22:13:52Z", "creator": "muthamilan@yahoo.com", "creation_time": "2015-02-04T22:13:52Z", "is_private": false, "text": "Hello All,\n\nI'm using httpd-2.2.22-win32-x86-openssl-0.9.8t. I want to disable the Compression algorithms to resolve the SSL/TLS Compression Algorithm Information Leakage Vulnerability.\n\nPlease guide me.\n\nThanks \nMuthu\nmuthamilan@yahoo.com/muthamilan@gmail.com"}, {"count": 22, "tags": [], "creator": "ylavic.dev@gmail.com", "text": "You can't reopen a fixed report because it does not fit your version.\nThis is implemented in 2.2.24, just use that version or better, the latest 2.2 (currently 2.2.29).", "id": 180764, "time": "2015-02-04T22:32:38Z", "bug_id": 53219, "creation_time": "2015-02-04T22:32:38Z", "is_private": false, "attachment_id": null}, {"count": 23, "tags": [], "bug_id": 53219, "attachment_id": null, "id": 180770, "time": "2015-02-05T04:49:22Z", "creator": "muthamilan@yahoo.com", "creation_time": "2015-02-05T04:49:22Z", "is_private": false, "text": "Hello Yann,\n\nI'm new to this fourm.\n\nSorry I wrongly changed the status.\n\nAs per your update, I have to upgrade my Apache version to disable SSL compression. \n\nplease guide me\n\nThanks,\nMuthu"}, {"count": 24, "tags": [], "bug_id": 53219, "attachment_id": null, "is_private": false, "id": 180771, "time": "2015-02-05T04:52:56Z", "creator": "muthamilan@yahoo.com", "creation_time": "2015-02-05T04:52:56Z", "text": "Hello Yann,\n\nI'm new to this fourm.\n\nSorry I wrongly changed the status.\n\nAs per your update, I have to upgrade my Apache version to disable SSL compression. \n\nplease guide me\n\nThanks,\nMuthu"}, {"attachment_id": null, "tags": [], "bug_id": 53219, "is_private": false, "count": 25, "id": 180772, "time": "2015-02-05T04:54:14Z", "creator": "muthamilan@yahoo.com", "creation_time": "2015-02-05T04:54:14Z", "text": "Hello Yann,\n\nI'm new to this fourm.\n\nSorry I wrongly changed the status.\n\nAs per your update, I have to upgrade my Apache version to disable SSL compression. \n\nplease guide me\n\nThanks,\nMuthu"}, {"count": 26, "tags": [], "creator": "ylavic.dev@gmail.com", "text": "Bugzilla is for reporting bugs, not for support.\nPlease use the users mailing-list (users@httpd.apache.org) and/or read http://httpd.apache.org/docs/2.2/install.html.", "id": 180774, "attachment_id": null, "bug_id": 53219, "creation_time": "2015-02-05T07:56:54Z", "time": "2015-02-05T07:56:54Z", "is_private": false}]