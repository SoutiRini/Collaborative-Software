[{"count": 0, "tags": [], "creator": "christian.spann@uni-ulm.de", "is_private": false, "text": "I wanted to upload several files to a set of machines using the for task of ant contrib and a nested scp task. When using scp without sftp=true the task uploaded the files to the first machine and blocked then. Thats my task\n\n<target name=\"distribute\" depends=\"setup demo\" description=\"Distributes the jar file to the given nodes into given directories\">\n\t\t<taskdef resource=\"net/sf/antcontrib/antlib.xml\" /> \n\t\t<for list=\"0,1,2,3,4,5,6\" param=\"index\">\n\t\t  <sequential>\n\t\t  \t<echo message=\"Distributing to server@{index}\"></echo>\n\t\t\t<scp todir=\"..somedir..\" keyfile=\"..the keyfile..\" passphrase=\"..very secret..\" verbose=\"true\" trust=\"true\" sftp=\"true\">\n\t\t\t\t<fileset dir=\"${basedir}\">\n\t\t\t\t\t<include name=\"${demoDir}/**/*.jar\"/>\n\t\t\t\t</fileset>\n\t\t\t</scp>\n\t\t  </sequential>\n\t\t</for>\n\t</target>\n\n\n*workaround* -> sftp=\"true\"", "id": 121939, "time": "2008-10-28T03:23:10Z", "bug_id": 46107, "creation_time": "2008-10-28T03:23:10Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 46107, "attachment_id": null, "text": "this could be a duplicate of bug 41090.\n\nDoes the problem still occur in Ant 1.7.1?\n", "id": 121952, "time": "2008-10-28T06:49:28Z", "creator": "bodewig@apache.org", "creation_time": "2008-10-28T06:49:28Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 46107, "text": "please reopen if the problem persists in Ant 1.7.1\n\n*** This bug has been marked as a duplicate of bug 41090 ***", "count": 2, "id": 122570, "time": "2008-11-17T08:13:09Z", "creator": "bodewig@apache.org", "creation_time": "2008-11-17T08:13:09Z", "is_private": false}, {"count": 3, "tags": [], "bug_id": 46107, "attachment_id": null, "is_private": false, "id": 123254, "time": "2008-12-12T04:07:09Z", "creator": "christian.spann@uni-ulm.de", "creation_time": "2008-12-12T04:07:09Z", "text": "Sorry for the late response. I can only test with 2 machines at the moment, but with 1.7.1 it is not reproducable now. \n\nBut i have some dull memories of 1.7.1 also failing with 6 or 7 machines beeing connected at the same time. I dont remind if this was in parallel execution of the for task or sequential mode or both. But thats no real help - sorry. If i come over this problem again and have the big test setup running i will take a closer look if the problem persists."}]