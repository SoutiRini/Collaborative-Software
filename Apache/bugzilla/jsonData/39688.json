[{"count": 0, "tags": [], "bug_id": 39688, "attachment_id": null, "text": "I'm localizing a java project currently and I'm using ant's token replacement\nfeature to do substitutions on strings in javascript (.js) files.   Unlike java\nclasses, javascript files cannot import files and cannot use property bundles.\n\nI've settled on using ReplaceTokens as my filterreader, but the problem I'm\nhaving is that I have a large number of filter tokens that need replacement.   \nThey are already in a .properties file, so adding them into my build.xml would\nbe duplicating work.    I could also load the properties file and do the\nreplacement with them, but I am afraid that they might collide with an ant build\nproperty that is already loaded.\n\nWhat I would like to do is instead of  :\n\n  <filterchain>\n    <filterreader classname=\"org.apache.tools.ant.filters.ReplaceTokens\">\n      <param type=\"token\" name=\"DATE\" value=\"${TODAY}\"/>\n    </filterreader>\n  </filterchain>\n\nI would like to do :\n\n  <filterchain>\n    <filterreader classname=\"org.apache.tools.ant.filters.ReplaceTokens\">\n      <param type=\"propertiesfile\" value=\"presentation_en.properties\"/>\n    </filterreader>\n  </filterchain>\n\nwhich would do token replacements on every token found in\npresentation_en.properties.    This seemed an easy enough change to make, and\nI'm supplying a patch based on current SVN.", "id": 89594, "time": "2006-05-30T19:58:13Z", "creator": "cunningt@mac.com", "creation_time": "2006-05-30T19:58:13Z", "is_private": false}, {"count": 1, "tags": [], "bug_id": 39688, "text": "Created attachment 18371\nPatch for ReplaceTokens that allows it to do token replacement from properties file", "id": 89595, "time": "2006-05-30T19:59:14Z", "creator": "cunningt@mac.com", "creation_time": "2006-05-30T19:59:14Z", "is_private": false, "attachment_id": 18371}, {"count": 2, "tags": [], "creator": "antoine@apache.org", "attachment_id": null, "is_private": false, "id": 89634, "time": "2006-06-01T03:15:46Z", "bug_id": 39688, "creation_time": "2006-06-01T03:15:46Z", "text": "This looks OK. Could you add a patch for the documentation and for the testcases ?\nRegards,\n\nAntoine"}, {"count": 3, "tags": [], "bug_id": 39688, "attachment_id": 18385, "text": "Created attachment 18385\nPatch for documentation", "id": 89652, "time": "2006-06-01T14:42:00Z", "creator": "cunningt@mac.com", "creation_time": "2006-06-01T14:42:00Z", "is_private": false}, {"count": 4, "tags": [], "bug_id": 39688, "text": "Created attachment 18387\nPath for ReplaceTokensTest.java - tests additions to ReplaceTokens.java", "id": 89662, "time": "2006-06-01T17:51:49Z", "creator": "cunningt@mac.com", "creation_time": "2006-06-01T17:51:49Z", "is_private": false, "attachment_id": 18387}, {"count": 5, "tags": [], "bug_id": 39688, "attachment_id": 18388, "is_private": false, "id": 89663, "time": "2006-06-01T17:53:57Z", "creator": "cunningt@mac.com", "creation_time": "2006-06-01T17:53:57Z", "text": "Created attachment 18388\nPatch for src/etc/testcases/filters/build.xml - adds test for ReplaceTokens"}, {"count": 6, "tags": [], "bug_id": 39688, "text": "Created attachment 18389\nNew file : src\\etc\\testcases\\filter\\input\\sample.properties", "id": 89664, "time": "2006-06-01T17:55:20Z", "creator": "cunningt@mac.com", "creation_time": "2006-06-01T17:55:20Z", "is_private": false, "attachment_id": 18389}, {"count": 7, "tags": [], "bug_id": 39688, "attachment_id": null, "text": "I've added a patches for documentation and testcases.    The filterchain.html\npatch goes into docs/manual/CoreTypes/filterchain.html, I've modified the\ntestcases build.xml and ReplaceTokensTest.java to include an additional test for\nthe properties file case, and one additional file (sample.properties) needs to\nbe added here.", "id": 89665, "time": "2006-06-01T17:58:45Z", "creator": "cunningt@mac.com", "creation_time": "2006-06-01T17:58:45Z", "is_private": false}, {"count": 8, "tags": [], "bug_id": 39688, "is_private": false, "text": "Patch submitted, thanks.\n\nRegards,\n\nAntoine", "id": 89810, "time": "2006-06-06T08:23:07Z", "creator": "antoine@apache.org", "creation_time": "2006-06-06T08:23:07Z", "attachment_id": null}]