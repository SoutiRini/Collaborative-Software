[{"count": 0, "tags": [], "bug_id": 42010, "attachment_id": null, "id": 101286, "time": "2007-03-31T15:08:10Z", "creator": "byw191919@hotmail.com", "creation_time": "2007-03-31T15:08:10Z", "is_private": false, "text": "I've set up an SSL connector in server.xml as follows:\n    <Connector port=\"443\" protocol=\"HTTP/1.1\" SSLEnabled=\"true\" \n               maxThreads=\"150\" scheme=\"https\" secure=\"true\" \n               clientAuth=\"false\" sslProtocol=\"TLS\"\n               keystoreFile=\"my.keystore\" keystorePass=\"mypassword\"/>\n\nEverything works fine when running on the standard version of Tomcat. However,\nwhen using the native DLL, the browser just hangs there when addressing an HTTPS\nURL.\n\nAlthough I have not tested it on Tomcat 5.5, I've seen a posting on the web by\nsomeone who encountered the same problem on Tomcat 5.5\n\nFrom the log file:\n\nMar 31, 2007 8:27:26 AM org.apache.catalina.core.AprLifecycleListener init\nINFO: Loaded Apache Tomcat Native library 1.1.8.\nMar 31, 2007 8:27:27 AM org.apache.coyote.http11.Http11AprProtocol init\nINFO: Initializing Coyote HTTP/1.1 on http-80\nMar 31, 2007 8:27:27 AM org.apache.coyote.http11.Http11AprProtocol init\nSEVERE: Error initializing endpoint\njava.lang.Exception: No Certificate file specified\n\tat org.apache.tomcat.jni.SSLContext.setCertificate(Native Method)\n\tat org.apache.tomcat.util.net.AprEndpoint.init(AprEndpoint.java:679)\n\tat org.apache.coyote.http11.Http11AprProtocol.init(Http11AprProtocol.java:119)\n\tat org.apache.catalina.connector.Connector.initialize(Connector.java:1059)\n\tat org.apache.catalina.core.StandardService.initialize(StandardService.java:578)\n\tat org.apache.catalina.core.StandardServer.initialize(StandardServer.java:792)\n\tat org.apache.catalina.startup.Catalina.load(Catalina.java:504)\n\tat org.apache.catalina.startup.Catalina.load(Catalina.java:524)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:260)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:412)\nMar 31, 2007 8:27:27 AM org.apache.catalina.startup.Catalina load\nSEVERE: Catalina.start\nLifecycleException:  Protocol handler initialization failed:\njava.lang.Exception: No Certificate file specified\n\tat org.apache.catalina.connector.Connector.initialize(Connector.java:1061)\n\tat org.apache.catalina.core.StandardService.initialize(StandardService.java:578)\n\tat org.apache.catalina.core.StandardServer.initialize(StandardServer.java:792)\n\tat org.apache.catalina.startup.Catalina.load(Catalina.java:504)\n\tat org.apache.catalina.startup.Catalina.load(Catalina.java:524)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:260)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:412)\nMar 31, 2007 8:27:27 AM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 2125 ms\nMar 31, 2007 8:27:27 AM org.apache.catalina.realm.JAASRealm setContainer\nINFO: Set JAAS app name Catalina\nMar 31, 2007 8:27:27 AM org.apache.catalina.core.StandardService start\nINFO: Starting service Catalina\nMar 31, 2007 8:27:27 AM org.apache.catalina.core.StandardEngine start\nINFO: Starting Servlet Engine: Apache Tomcat/6.0.10\nMar 31, 2007 8:27:28 AM org.apache.catalina.loader.WebappClassLoader validateJarFile\nINFO: validateJarFile(C:\\Zhibit\\web\\WEB-INF\\lib\\servlet-api.jar) - jar not\nloaded. See Servlet Spec 2.3, section 9.7.2. Offending class:\njavax/servlet/Servlet.class\nMar 31, 2007 8:27:29 AM org.apache.coyote.http11.Http11AprProtocol start\nINFO: Starting Coyote HTTP/1.1 on http-80\nMar 31, 2007 8:27:29 AM org.apache.coyote.http11.Http11AprProtocol start\nSEVERE: Error starting endpoint\njava.lang.Exception: Socket bind failed: [730048] Only one usage of each socket\naddress (protocol/network address/port) is normally permitted.  \n\tat org.apache.tomcat.util.net.AprEndpoint.init(AprEndpoint.java:608)\n\tat org.apache.tomcat.util.net.AprEndpoint.start(AprEndpoint.java:712)\n\tat org.apache.coyote.http11.Http11AprProtocol.start(Http11AprProtocol.java:149)\n\tat org.apache.catalina.connector.Connector.start(Connector.java:1132)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:457)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:710)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:552)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)\nMar 31, 2007 8:27:29 AM org.apache.catalina.startup.Catalina start\nSEVERE: Catalina.start: \nLifecycleException:  service.getName(): \"Catalina\";  Protocol handler start\nfailed: java.lang.Exception: Socket bind failed: [730048] Only one usage of each\nsocket address (protocol/network address/port) is normally permitted.  \n\tat org.apache.catalina.connector.Connector.start(Connector.java:1139)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:457)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:710)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:552)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)\nMar 31, 2007 8:27:30 AM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 2328 ms\nMar 31, 2007 8:35:56 AM org.apache.coyote.http11.Http11AprProtocol pause\nINFO: Pausing Coyote HTTP/1.1 on http-80\nMar 31, 2007 8:35:56 AM org.apache.coyote.http11.Http11AprProtocol pause\nINFO: Pausing Coyote HTTP/1.1 on http-443\nMar 31, 2007 8:35:57 AM org.apache.catalina.core.StandardService stop\nINFO: Stopping service Catalina\nMar 31, 2007 8:35:58 AM org.apache.coyote.http11.Http11AprProtocol destroy\nINFO: Stopping Coyote HTTP/1.1 on http-80\nMar 31, 2007 8:35:58 AM org.apache.catalina.connector.MapperListener destroy\nWARNING: Error unregistering MBeanServerDelegate\njava.lang.NullPointerException\n\tat org.apache.catalina.connector.MapperListener.destroy(MapperListener.java:162)\n\tat org.apache.catalina.connector.Connector.stop(Connector.java:1180)\n\tat org.apache.catalina.core.StandardService.stop(StandardService.java:519)\n\tat org.apache.catalina.core.StandardServer.stop(StandardServer.java:744)\n\tat org.apache.catalina.startup.Catalina.stop(Catalina.java:602)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:577)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)\nMar 31, 2007 8:35:58 AM org.apache.coyote.http11.Http11AprProtocol destroy\nINFO: Stopping Coyote HTTP/1.1 on http-443"}, {"count": 1, "tags": [], "creator": "markt@apache.org", "attachment_id": null, "text": "http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html\nhttp://tomcat.apache.org/tomcat-6.0-doc/apr.html", "id": 101289, "time": "2007-03-31T15:52:27Z", "bug_id": 42010, "creation_time": "2007-03-31T15:52:27Z", "is_private": false}]