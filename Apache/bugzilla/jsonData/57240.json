[{"count": 0, "tags": [], "text": "I am using log4j-1.2.16 and facing the following problem:\n20-Nov-2014 logs are being written in xyz.log.2014-11-19 .\nxyz.log.2014-11-19 is already rotated/rolled log.\nI havent done any changes in log4j.properties since 1 year approximately.\nPlease tell me what is causing it and is it an existing bug or not .\nIf it is an existing bug then in which version it was fixed.\n\nPlease suggest how to fix this.\n\nWeb Server = Apache 2.4.4\nTomacat 7\nLinux 2.6.18-348.el5 x86_64\njava version \"1.7.0_25\"\nJava(TM) SE Runtime Environment (build 1.7.0_25-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 23.25-b01, mixed mode)\n\nBelow is my log4j.properties:\n\nlog4j.rootLogger=INFO,logfile\nlog4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.logfile.DatePattern='.'yyyy-MM-dd\nlog4j.appender.logfile.File=/home/user/product//log/xyz.log\nlog4j.appender.logfile.encoding=UTF-8\nlog4j.appender.logfile.layout=org.apache.log4j.PatternLayout\nlog4j.appender.logfile.layout.ConversionPattern=%d{dd MMM yyyy HH\\:mm\\:ss} %-5p [%t] %-15C{1} - %m%n\n\nlog4j.logger.org.hibernate=FATAL\nlog4j.logger.net.htmlparser.jericho=FATAL\nlog4j.logger.com.mchange=FATAL\nlog4j.logger.com.sshtools=FATAL\nlog4j.logger.com.mysql.jdbc=FATAL\n\nlog4j.rootCategory=debug, dest2\nlog4j.appender.dest2=org.apache.log4j.RollingFileAppender\nlog4j.appender.dest2.Threshold=DEBUG\nlog4j.appender.dest2.File=log/purge2.log\nlog4j.appender.dest2.Append=true\nlog4j.appender.dest2.MaxFileSize=10MB\nlog4j.appender.dest2.MaxBackupIndex=2\n\nlog4j.appender.dest2.layout=org.apache.log4j.PatternLayout\nlog4j.appender.dest2.layout.ConversionPattern=[%d{ISO8601}][%t](%F\\:%L) - %m%n", "attachment_id": null, "bug_id": 57240, "id": 179206, "time": "2014-11-20T15:14:19Z", "creator": "techieboysid@gmail.com", "creation_time": "2014-11-20T15:14:19Z", "is_private": false}, {"count": 1, "tags": [], "creator": "garydgregory@gmail.com", "attachment_id": null, "id": 179249, "time": "2014-11-24T12:15:12Z", "bug_id": 57240, "creation_time": "2014-11-24T12:15:12Z", "is_private": false, "text": "Hi Sid,\n\nAll of our energy is focus on version 2 these days. I would try using 1.2 17 first and see if that helps. If not, consider 2.1, that's where we are fixing bugs these days."}, {"count": 2, "tags": [], "text": "Hi Gary the scenario is something like this :\n     1) There are two versions of same application accessing same tomcat\n           Ex- MyApp 7.0.0 and MyApp 8.0.0 are configured to write in the same log\n               ui_myapp.log .\n               The real problem is MyApp 8.0.0 is writing in ui_myapp.log and \n               MyApp 7.0.0 is writing in ui.myapp.log.2014-11-24 (suppose current           \n               date is 2014-11-25 ) .\n     2) Another problem is it overwriting or replacing all the content in ui.myapp.log.2014-11-24 .\n\nI replaced the old jar with log4j-1.2.17.jar with but it doesnt help.\n\nIs this the problem with DailyRollingFileAppender ?\n\nIf yes then please inform the version in which this is fixed.\n\nOr please suggest any alternative.", "is_private": false, "bug_id": 57240, "id": 179291, "time": "2014-11-26T09:03:20Z", "creator": "techieboysid@gmail.com", "creation_time": "2014-11-26T09:03:20Z", "attachment_id": null}, {"count": 3, "tags": [], "text": "The Log4j 1.2.16 documentation (I checked the 1.2.16 sources) recommends avoiding using this appender, as documented in https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/DailyRollingFileAppender.html:\n\n\u201cDailyRollingFileAppender has been observed to exhibit synchronization issues and data loss. The log4j extras companion includes alternatives which should be considered for new deployments and which are discussed in the documentation for org.apache.log4j.rolling.RollingFileAppender.\u201d", "attachment_id": null, "bug_id": 57240, "id": 179301, "time": "2014-11-26T13:39:49Z", "creator": "garydgregory@gmail.com", "creation_time": "2014-11-26T13:39:49Z", "is_private": false}, {"count": 4, "tags": [], "text": "Sure !! Thanks for the reply ...For now we have configured two separate log files for the two Applications .", "is_private": false, "bug_id": 57240, "id": 179329, "time": "2014-11-27T13:28:19Z", "creator": "techieboysid@gmail.com", "creation_time": "2014-11-27T13:28:19Z", "attachment_id": null}]