[{"count": 0, "tags": [], "bug_id": 51156, "is_private": false, "id": 146148, "attachment_id": null, "creator": "jakub@pakamera.com.pl", "creation_time": "2011-05-06T00:30:54Z", "time": "2011-05-06T00:30:54Z", "text": "If app is configured in server.xml like this:\n\n{code}\n  <Host name=\"www.myapp.pl\" appBase=\"/usr/lib/tomcat/webapps\"\n                unpackWARs=\"false\" autoDeploy=\"false\"\n              xmlValidation=\"false\" xmlNamespaceAware=\"false\"  >\n     <Context docBase=\"/var/www/myapp\" path=\"\" cacheMaxSize=\"5120\"\ncacheTTL=\"60000\" cachingAllowed=\"true\" >\n     </Context>\n     <Context path=\"/manager\"  privileged=\"true\"\ndocBase=\"/usr/lib/tomcat/webapps/manager\">\n     </Context>\n</Host>\n{code}\n\nIn Tomcat Manager, on the application list, there is a button \"Expire\nsessions\"  available only for \"/manager\" application.\nThere is no button \"Expire sessions\" for \"/\" path.\n\nI think bug is in HTMLManagerServlet.java in this part:\n\n{code}\n\n                if (context.getPath().equals(this.context.getPath())) {\n                    writer.print(MessageFormat.format(\n                        MANAGER_APP_ROW_BUTTON_SECTION, args));\n                } else if (context.getAvailable() && isDeployed) {\n                    writer.print(MessageFormat.format(\n                        STARTED_DEPLOYED_APPS_ROW_BUTTON_SECTION, args));\n                } else if (context.getAvailable() && !isDeployed) {\n                    writer.print(MessageFormat.format(\n                        STARTED_NONDEPLOYED_APPS_ROW_BUTTON_SECTION, args));\n                } else if (!context.getAvailable() && isDeployed) {\n                    writer.print(MessageFormat.format(\n                        STOPPED_DEPLOYED_APPS_ROW_BUTTON_SECTION, args));\n                } else {\n                    writer.print(MessageFormat.format(\n                        STOPPED_NONDEPLOYED_APPS_ROW_BUTTON_SECTION, args));\n                }\n{code}"}, {"count": 1, "text": "Thanks for the report.\n\nThis has been fixed in 7.0.x and will be included in 7.0.13 onwards.\n\nThe fix has also been proposed for 6.0.x.", "bug_id": 51156, "is_private": false, "id": 146158, "time": "2011-05-06T09:24:42Z", "creator": "markt@apache.org", "creation_time": "2011-05-06T09:24:42Z", "tags": [], "attachment_id": null}, {"count": 2, "text": "Fixed in 6.0.x and will be included in 6.0.33 onwards.", "bug_id": 51156, "is_private": false, "id": 146241, "time": "2011-05-10T08:51:13Z", "creator": "markt@apache.org", "creation_time": "2011-05-10T08:51:13Z", "tags": [], "attachment_id": null}]