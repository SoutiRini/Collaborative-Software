[{"count": 0, "tags": [], "text": "I configured the Apache httpd-2.0.55 as Reverse proxy server for a JBOSS backend\napplication server. \n\nIt seems everything working fine. But some times ( intermittently) i am seeing\nan following error. \n\nProxy Error: The proxy server received an invalid response from an upstream server.\nThe proxy server could not handle the request POST /jsp/file/file_upload1.jsp.\nReason: Error reading from remote server\n\nThe folllwing are the errors found in the error_logs\n\n[Tue May 23 05:30:24 2006] [error] [client 10.10.7.69] proxy: error reading\nstatus line from remote server myserver, referer: http:/\n/myserver.mydomain.com/jsp/authapp/group_app_add1.jsp\n[Tue May 23 05:30:24 2006] [error] [client 10.10.7.69] proxy: Error reading from\nremote server returned by /jsp/authapp/group_app_ad\nd1.jsp, referer: http://proxy.mydomain.com/jsp/authapp/group_app_add1.jsp", "is_private": false, "bug_id": 39645, "id": 89400, "time": "2006-05-23T17:58:03Z", "creator": "jsrao_5@yahoo.com", "creation_time": "2006-05-23T17:58:03Z", "attachment_id": null}, {"count": 1, "attachment_id": null, "bug_id": 39645, "is_private": false, "id": 89402, "time": "2006-05-23T18:28:51Z", "creator": "rpluem@apache.org", "creation_time": "2006-05-23T18:28:51Z", "tags": [], "text": "Are you using SSL on httpd side? If you yes, you have been hit by PR37145."}, {"count": 2, "tags": [], "bug_id": 39645, "text": "(In reply to comment #1)\n> Are you using SSL on httpd side? If you yes, you have been hit by PR37145.\n\nYes I am using ssl on httpd side. But i am seeing this error on both http( Non\nSSL ) and https:// ( SSL ) requests intermittently \n\n\n", "id": 89404, "time": "2006-05-23T18:35:32Z", "creator": "jsrao_5@yahoo.com", "creation_time": "2006-05-23T18:35:32Z", "is_private": false, "attachment_id": null}, {"count": 3, "attachment_id": null, "bug_id": 39645, "text": "The patch PR37145 has been applied earlier before moving Reverse proxy server to\nproduction. \n\n\n\n", "id": 89405, "time": "2006-05-23T18:44:58Z", "creator": "jsrao_5@yahoo.com", "creation_time": "2006-05-23T18:44:58Z", "tags": [], "is_private": false}, {"count": 4, "tags": [], "text": "Either there is a problem with your backend system or you are probably facing\nsome sort of keepalive problem (backend closed connection just as httpd sent\nrequest).\nI know that this may not be possible in a production environment, but are you\nable to catch such a situation with a network sniffer?\n\nAnother approach would be to disable keepalives to the backend to find out if\nthis makes the problem go away. So please try the following setting:\n\nSetEnv proxy-nokeepalive 1", "is_private": false, "bug_id": 39645, "id": 89408, "time": "2006-05-23T19:17:17Z", "creator": "rpluem@apache.org", "creation_time": "2006-05-23T19:17:17Z", "attachment_id": null}, {"count": 5, "attachment_id": null, "bug_id": 39645, "text": "I'm having a similar problem with apache 2.2.2 and IIS from windows\n2003sp1/2000sp4/nt40sp6a (no ssl & only ipv4).\n'SetEnv proxy-nokeepalive 1' resolves the problem. The problem is related to a\nRST packet sent from the backend server to the apache reverse proxy.\nSee http://issues.apache.org/bugzilla/show_bug.cgi?id=39499#c7\n\napache is running on linux 2.6.16.20 and/or 2.6.17-rc6", "id": 90197, "time": "2006-06-14T10:38:22Z", "creator": "pupilla@hotmail.com", "creation_time": "2006-06-14T10:38:22Z", "tags": [], "is_private": false}, {"count": 6, "tags": [], "creator": "jsrao_5@yahoo.com", "is_private": false, "text": "Hi Guys \n\n  First of all, thanks alot for all your sugestions. \n  \n  I tried with this \"SetEnv proxy-nokeepalive 1\" setting last week. and my QA\nteam monitored the system for a week. seems to be everything is good and the\nproblem is fixed. \n\nThanks once gain .. \n\n\n\n ", "id": 90199, "time": "2006-06-14T12:33:18Z", "bug_id": 39645, "creation_time": "2006-06-14T12:33:18Z", "attachment_id": null}]