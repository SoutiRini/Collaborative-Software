[{"count": 0, "tags": [], "creator": "xliu@capitalthinking.com", "attachment_id": null, "text": "We have some shared pages under a centralized directory, which is symlinked.\nIt seems jsp:include does not see pages under a symlinked dir, not exception\nis thrown, it simply ignores the include. Change the directory to a usual\nfile directory makes it work.\n\nThis is probably due to the fact that jasper2 does not properly resolve\ncanonical path and claimed to be fixed, but does not seem so.", "id": 21746, "time": "2002-08-26T17:27:43Z", "bug_id": 12049, "creation_time": "2002-08-26T17:27:43Z", "is_private": false}, {"count": 1, "tags": [], "text": "For security reasons, the filesystem abstraction layer will expect the canonical\npath of the file served to be situated under the webapp directory. This is\nlikely what causes the problem. You can tweak that implementation, or you can\nsubmit a patch to the current implementation to allow disabling the check.", "attachment_id": null, "id": 21779, "creator": "remm@apache.org", "time": "2002-08-27T07:58:52Z", "bug_id": 12049, "creation_time": "2002-08-27T07:58:52Z", "is_private": false}, {"count": 2, "attachment_id": null, "bug_id": 12049, "text": "\n> I posted exactly the same question before and got no\n> response. jsp:include seems not working with symlinked\n> directory.\n>\n> It works on 4.0 version, but stops working on 4.1 version.\n\nIt really works fine with TC4.0.4, and everything works: linked directories, \nlinked files, static and dinamic includes of linked files\n\nWith TC 4.1.9 it does not work but if I make top level linked directory in my \nwebapps folder, that works fine assuming that this directory itself does not \nhave symlinks inside of it\nAs soon as it gets symlinkes inside, those don't not work. For example, the \ncontext http://localhost:8080/german/, where german is a symbolic link to the \ndirectory /opt/tomcat4.0.4/webapps/german in the webapps folder of TC 4.1.9 \n(/opt/tocmat4.1.9/webapps), shows next listing\n\n\nFilename                         Size           Last Modified\n   \nAddNewWord.jsp                   0.2 kb         Fri, 23 Aug 2002 22:57:08 GMT\n   \nOracleDataSource.jsp             1.8 kb         Thu, 22 Aug 2002 05:53:38 GMT\n   \nadmin/                                          null\n   \ninclude.jsp                      0.1 kb         Tue, 27 Aug 2002 06:19:25 GMT\n   \nlink.html/                                      null\n   \nlink.jsp/                                       null\n\nEverywhere where there is null we have symbolic links: admin - folder, other \nfiles and they don't work. But usual jsp in the symlinked folder german works \nfine. Although include.jsp does not work (shows empty page) because it has \ninside only include statements for above mentioned symlinks\n\n> Is it a tomcat bug or coyote bug?\n\nActually I tried a quick test, commented Coyote connector \n(org.apache.coyote.tomcat4.CoyoteConnector) with port 8080 and uncommented \nthe HttpConnector(org.apache.catalina.connector.http.HttpConnector), for the \nlast one I changed port 8083 to 8080. Restart Tomcat, and nothing was \nchanged. That all I did not go deeper\n\nilis\n\n", "id": 21854, "time": "2002-08-27T22:34:05Z", "creator": "xliu@capitalthinking.com", "creation_time": "2002-08-27T22:34:05Z", "tags": [], "is_private": false}, {"count": 3, "tags": [], "text": ">the filesystem abstraction layer will expect the canonical\n>path of the file served to be situated under the webapp directory\n\nCould you please give me more details on this? Which package handles\n'file system abstraction layer'?", "attachment_id": null, "bug_id": 12049, "id": 21855, "time": "2002-08-27T22:36:53Z", "creator": "xliu@capitalthinking.com", "creation_time": "2002-08-27T22:36:53Z", "is_private": false}]