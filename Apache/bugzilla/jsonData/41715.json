[{"count": 0, "tags": [], "bug_id": 41715, "is_private": false, "text": "Can't view old revisions of documents that are XHTML. It would seem that the\nhomepage type works just fine. Did a full clean build and still no luck. Here's\nthe beginning of the stack trace:\n\njava.lang.RuntimeException: This operation can only be invoked on nodes, not on\nrevisions.\n\tat\norg.apache.lenya.cms.cocoon.source.RepositorySource.getNode(RepositorySource.java:146)\n\tat\norg.apache.lenya.cms.cocoon.source.RepositorySourceValidity.<init>(RepositorySourceValidity.java:37)\n\tat\norg.apache.lenya.cms.cocoon.source.RepositorySource.getValidity(RepositorySource.java:370)\n\tat org.apache.cocoon.generation.FileGenerator.getValidity(FileGenerator.java:102)\n\tat\norg.apache.cocoon.components.pipeline.impl.AbstractCachingProcessingPipeline.getValidityForInternalPipeline(AbstractCachingProcessingPipeline.java:1061)\n\tat\norg.apache.cocoon.components.pipeline.impl.AbstractCachingProcessingPipeline.setupValidities(AbstractCachingProcessingPipeline.java:479)\n\tat\norg.apache.cocoon.components.pipeline.impl.AbstractCachingProcessingPipeline.setupPipeline(AbstractCachingProcessingPipeline.java:728)\n\tat\norg.apache.cocoon.components.pipeline.AbstractProcessingPipeline.preparePipeline(AbstractProcessingPipeline.java:501)\n\tat\norg.apache.cocoon.components.pipeline.AbstractProcessingPipeline.prepareInternal(AbstractProcessingPipeline.java:515)\n\tat\norg.apache.cocoon.components.source.impl.SitemapSource.init(SitemapSource.java:342)\n\tat\norg.apache.cocoon.components.source.impl.SitemapSource.<init>(SitemapSource.java:214)\n\tat\norg.apache.cocoon.components.source.impl.SitemapSourceFactory.getSource(SitemapSourceFactory.java:65)\n\tat\norg.apache.excalibur.source.impl.SourceResolverImpl.resolveURI(SourceResolverImpl.java:208)", "id": 99860, "time": "2007-02-27T12:03:28Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-02-27T12:03:28Z", "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 41715, "attachment_id": 19654, "is_private": false, "id": 99941, "time": "2007-03-01T11:46:47Z", "creator": "rfrovarp@apache.org", "creation_time": "2007-03-01T11:46:47Z", "text": "Created attachment 19654\nallows revisions to be viewed\n\nI think this should work. I've tested it and don't see any problems."}, {"count": 2, "text": "I applied the patch. Thanks a lot!", "bug_id": 41715, "is_private": false, "id": 100026, "time": "2007-03-05T01:15:07Z", "creator": "andreas@apache.org", "creation_time": "2007-03-05T01:15:07Z", "tags": [], "attachment_id": null}, {"count": 3, "text": "Renaming Lenya 1.4 to 2.0", "bug_id": 41715, "is_private": false, "id": 105565, "time": "2007-07-16T01:59:19Z", "creator": "thorsten@apache.org", "creation_time": "2007-07-16T01:59:19Z", "tags": [], "attachment_id": null}]