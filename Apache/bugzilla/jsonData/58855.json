[{"count": 0, "tags": [], "bug_id": 58855, "attachment_id": 33440, "id": 187652, "time": "2016-01-14T08:05:29Z", "creator": "mmcco@mykolab.com", "creation_time": "2016-01-14T08:05:29Z", "is_private": false, "text": "Created attachment 33440\nPatch to optimize empty string checks\n\nstrlen unconditionally reads through the entire string, so it's unfortunate to use it when determining whether a string is empty. Simply dereferencing the pointer and comparing it with '\\0' is simpler and faster. Compilers are generally bad at making these kinds of optimizations, so it's best to do them manually."}, {"count": 1, "tags": [], "creator": "jim@apache.org", "attachment_id": null, "text": "Thx!\n\nCommitted revision 1778067.", "id": 195940, "time": "2017-01-09T22:08:28Z", "bug_id": 58855, "creation_time": "2017-01-09T22:08:28Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 58855, "attachment_id": null, "id": 195941, "creation_time": "2017-01-09T22:08:41Z", "time": "2017-01-09T22:08:41Z", "creator": "mmcco@mykolab.com", "text": "I made a mistake when testing this change against existing compiler optimizations. All modern compilers will make these optimizations at -O2, so it isn't worth committing this patch.\n\nThanks for your time,\nMike", "is_private": false}]