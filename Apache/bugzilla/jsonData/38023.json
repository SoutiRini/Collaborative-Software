[{"count": 0, "tags": [], "creator": "h.ebelt@arcor.de", "attachment_id": null, "id": 83948, "time": "2005-12-23T06:20:43Z", "bug_id": 38023, "creation_time": "2005-12-23T06:20:43Z", "is_private": false, "text": "If i adjust my configuration to load a dynamic page, when an error occurs (such\nas 404) httpd crashes with a segmentation fault. Normal html-pages works fine.\nEven if there is no php - code in the page httpd crashes.\n\nConfiguration:\nErrorDocument 404 /error/404.php -> crashes\n\nErrorDocument 404 /error/404.html -> works fine\n\n(404.php is equal to 404.html).\n\nI am using httpd 2.2.0 with PHP 4.4.1, running on debian sarge."}, {"count": 1, "tags": [], "bug_id": 38023, "is_private": false, "text": "Please provide a backtrace of the crash. See\nhttp://httpd.apache.org/dev/debugging.html how to do this.", "id": 84258, "time": "2006-01-05T13:00:07Z", "creator": "rpluem@apache.org", "creation_time": "2006-01-05T13:00:07Z", "attachment_id": null}, {"count": 2, "tags": [], "creator": "huebner@studiofuenf.com", "attachment_id": null, "id": 84380, "time": "2006-01-09T16:44:19Z", "bug_id": 38023, "creation_time": "2006-01-09T16:44:19Z", "is_private": false, "text": "> Configuration:\n> ErrorDocument 404 /error/404.php -> crashes\n> \n> ErrorDocument 404 /error/404.html -> works fine\n> \n> (404.php is equal to 404.html).\n> \n> I am using httpd 2.2.0 with PHP 4.4.1, running on debian sarge.\n\nI am experiencing the same problems with exactly the same software configuration.\nHere is a coredump as it is described in the documentation (I hope i did it\ncorrectly):\n\nCore was generated by `/usr/local/apache2/bin/httpd -f\n/usr/local/apache2/conf/httpd_php4.conf -k star'.\nProgram terminated with signal 11, Segmentation fault.\nReading symbols from /lib/libm.so.6...done.\nLoaded symbols for /lib/libm.so.6\nReading symbols from /usr/local/apache2/lib/libaprutil-1.so.0...done.\nLoaded symbols for /usr/local/apache2/lib/libaprutil-1.so.0\nReading symbols from /usr/local/apache2/lib/libexpat.so.0...done.\nLoaded symbols for /usr/local/apache2/lib/libexpat.so.0\nReading symbols from /usr/local/apache2/lib/libapr-1.so.0...done.\nLoaded symbols for /usr/local/apache2/lib/libapr-1.so.0\nReading symbols from /lib/librt.so.1...done.\nLoaded symbols for /lib/librt.so.1\nReading symbols from /lib/libcrypt.so.1...done.\nLoaded symbols for /lib/libcrypt.so.1\nReading symbols from /lib/libpthread.so.0...done.\nLoaded symbols for /lib/libpthread.so.0\nReading symbols from /lib/libdl.so.2...done.\nLoaded symbols for /lib/libdl.so.2\nReading symbols from /lib/libc.so.6...done.\nLoaded symbols for /lib/libc.so.6\nReading symbols from /lib/ld-linux-x86-64.so.2...done.\nLoaded symbols for /lib64/ld-linux-x86-64.so.2\nReading symbols from /lib/libnsl.so.1...done.\nLoaded symbols for /lib/libnsl.so.1\nReading symbols from /lib/libnss_compat.so.2...done.\nLoaded symbols for /lib/libnss_compat.so.2\nReading symbols from /lib/libnss_nis.so.2...done.\nLoaded symbols for /lib/libnss_nis.so.2\nReading symbols from /lib/libnss_files.so.2...done.\nLoaded symbols for /lib/libnss_files.so.2\nReading symbols from /usr/local/apache2/modules/libphp4.so...done.\nLoaded symbols for /usr/local/apache2/modules/libphp4.so\nReading symbols from /usr/local/sablotron/lib/libsablot.so.0...done.\nLoaded symbols for /usr/local/sablotron/lib/libsablot.so.0\nReading symbols from /usr/lib/libexpat.so.1...done.\nLoaded symbols for /usr/lib/libexpat.so.1\nReading symbols from /usr/local/mysql/lib/mysql/libmysqlclient.so.15...done.\nLoaded symbols for /usr/local/mysql/lib/mysql/libmysqlclient.so.15\nReading symbols from /usr/lib/libfreetype.so.6...done.\nLoaded symbols for /usr/lib/libfreetype.so.6\nReading symbols from /usr/lib/libpng12.so.0...done.\nLoaded symbols for /usr/lib/libpng12.so.0\nReading symbols from /usr/lib/libz.so.1...done.\nLoaded symbols for /usr/lib/libz.so.1\nReading symbols from /usr/lib/libjpeg.so.62...done.\nLoaded symbols for /usr/lib/libjpeg.so.62\nReading symbols from /usr/lib/libxslt.so.1...done.\nLoaded symbols for /usr/lib/libxslt.so.1\nReading symbols from /lib/libresolv.so.2...done.\nLoaded symbols for /lib/libresolv.so.2\nReading symbols from /usr/lib/libxml2.so.2...done.\nLoaded symbols for /usr/lib/libxml2.so.2\nReading symbols from /usr/lib/libstdc++.so.5...done.\nLoaded symbols for /usr/lib/libstdc++.so.5\nReading symbols from /lib/libgcc_s.so.1...done.\nLoaded symbols for /lib/libgcc_s.so.1\n#0  0x0000002a9632af73 in php_handler () from /usr/local/apache2/modules/libphp4.so\n(gdb) bt full\n#0  0x0000002a9632af73 in php_handler () from /usr/local/apache2/modules/libphp4.so\nNo symbol table info available.\n#1  0x000000000045d6f8 in ap_invoke_handler ()\nNo symbol table info available.\n#2  0x000000000054991d in ap_internal_redirect ()\nNo symbol table info available.\n#3  0x00000000005495a0 in ap_process_request ()\nNo symbol table info available.\n#4  0x000000000054727c in ap_process_http_connection ()\nNo symbol table info available.\n#5  0x000000000046514e in ap_process_connection ()\nNo symbol table info available.\n#6  0x000000000056440b in child_main ()\nNo symbol table info available.\n#7  0x0000000000563a85 in make_child ()\nNo symbol table info available.\n#8  0x00000000005635eb in ap_mpm_run ()\nNo symbol table info available.\n#9  0x000000000044b528 in main ()\nNo symbol table info available.\n\n\n"}, {"count": 3, "tags": [], "creator": "rpluem@apache.org", "attachment_id": null, "id": 84413, "time": "2006-01-09T21:22:41Z", "bug_id": 38023, "creation_time": "2006-01-09T21:22:41Z", "is_private": false, "text": "Thanks for the trace.\nAs your output shows the crash happens in the php module:\n\n#0  0x0000002a9632af73 in php_handler () from /usr/local/apache2/modules/libphp4.so\n\nAs your server is also not compiled with -g I cannot see the contents of\nlocal variables. If you can reproduce the same crash on a httpd and php compiled\nwith -g it may be possible to find out more.\nSo I assume that this is a php bug / problem. Please report this bug also on\nhttp://bugs.php.net/."}, {"count": 4, "tags": [], "creator": "huebner@studiofuenf.com", "attachment_id": null, "id": 84434, "time": "2006-01-10T14:52:55Z", "bug_id": 38023, "creation_time": "2006-01-10T14:52:55Z", "is_private": false, "text": "I think this report can be closed as I have found the related php bug-report in\nthe php bug-database: http://bugs.php.net/bug.php?id=35056\n\nThanks for your reply."}, {"count": 5, "tags": [], "creator": "wrowe@apache.org", "text": "I suspected as much, not being an httpd flaw, but thanks for letting us know!\n\nIn the future, feel free to close your own bugs.", "id": 84435, "time": "2006-01-10T15:05:10Z", "bug_id": 38023, "creation_time": "2006-01-10T15:05:10Z", "is_private": false, "attachment_id": null}]