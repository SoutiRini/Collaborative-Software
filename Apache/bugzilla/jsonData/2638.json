[{"count": 0, "attachment_id": null, "creator": "mihael.osrecak@cbcag.ch", "text": "Hello\n\nI have to generate pdf files including svg. The svg are generated by an \nexternal chart generator and not xml.\n\nThe batic svg browser and applications like Adobe SVG Viewer read and shows \nsuch files correctly.\n\nI tried to generate pdf with such svg in different ways without success.\nAn external-graphic or an instream-foreign-object seems to expect a xml svg.\n\n \n<fo:external-graphic src=\"http://localhost:81/myGenerator\" />\nor <fo:external-graphic src=\" myGeneratedChart.svg\" />\ncauses the error:\n[1ERROR LOADING EXTERNAL SVG: An invalid XML character (Unicode: 0x1f) was \nfound in the prolog of the document.\n\n\nSo I tried svg:image. But there occurred a NoSuchMethodException.\n\nThe source:\n\n<fo:instream-foreign-object>\n    <svg:svg xmlns:svg='http://www.w3.org/2000/svg' width='15cm' height='15cm'>\n        <svg:image src=\u201dhttp://localhost:81/myGenerator\u201d\n                 width='11cm' height='11cm'/>\n    </svg:svg>\n</fo:instream-foreign-object>\n\ncauses:\njava.lang.reflect.InvocationTargetException: java.lang.NoSuchMethodError\n            java.lang.Throwable()\n            java.lang.Error()\n            java.lang.LinkageError()\n            java.lang.IncompatibleClassChangeError()\n            java.lang.NoSuchMethodError()\n            org.apache.batik.util.ParsedURLData(java.net.URL)\n            org.apache.batik.util.ParsedURLData(java.net.URL)\n            org.apache.batik.util.ParsedURLData \norg.apache.batik.util.ParsedURLDefaultProtocolHandler.constructParsedURLData\n(java.net.URL)\n            org.apache.batik.util.ParsedURLData \norg.apache.batik.util.ParsedURLDefaultProtocolHandler.parseURL(java.lang.String)\n            org.apache.batik.util.ParsedURLData \norg.apache.batik.util.ParsedURL.parseURL(java.lang.String)\n            org.apache.batik.util.ParsedURLData \norg.apache.batik.util.ParsedURL.parseURL(java.lang.String, java.lang.String)\n            org.apache.batik.util.ParsedURL(java.lang.String, java.lang.String)\n            org.apache.batik.gvt.GraphicsNode \norg.apache.batik.bridge.SVGImageElementBridge.createGraphicsNode\n(org.apache.batik.bridge.BridgeContext, org.w3c.dom.Element)\n            void org.apache.batik.bridge.GVTBuilder.buildGraphicsNode\n(org.apache.batik.bridge.BridgeContext, org.w3c.dom.Element, \norg.apache.batik.gvt.CompositeGraphicsNode)\n            void org.apache.batik.bridge.GVTBuilder.buildComposite\n(org.apache.batik.bridge.BridgeContext, org.w3c.dom.Element, \norg.apache.batik.gvt.CompositeGraphicsNode)\n            org.apache.batik.gvt.GraphicsNode \norg.apache.batik.bridge.GVTBuilder.build(org.apache.batik.bridge.BridgeContext, \norg.w3c.dom.Document)\n            void org.apache.fop.render.pdf.PDFRenderer.renderSVGDocument\n(org.w3c.dom.Document, int, int, org.apache.fop.layout.FontState)\n            void org.apache.fop.render.pdf.PDFRenderer.renderSVGArea\n(org.apache.fop.svg.SVGArea)\n            void org.apache.fop.svg.SVGArea.render\n(org.apache.fop.render.Renderer)\n            void org.apache.fop.render.pdf.PDFRenderer.renderForeignObjectArea\n(org.apache.fop.layout.inline.ForeignObjectArea)\n            void org.apache.fop.layout.inline.ForeignObjectArea.render\n(org.apache.fop.render.Renderer)\n            void org.apache.fop.render.PrintRenderer.renderLineArea\n(org.apache.fop.layout.LineArea)\n            void org.apache.fop.layout.LineArea.render\n(org.apache.fop.render.Renderer)\n            void org.apache.fop.render.PrintRenderer.renderBlockArea\n(org.apache.fop.layout.BlockArea)\n            void org.apache.fop.layout.BlockArea.render\n(org.apache.fop.render.Renderer)\n            void org.apache.fop.render.PrintRenderer.renderAreaContainer\n(org.apache.fop.layout.AreaContainer)\n            void org.apache.fop.layout.AreaContainer.render\n(org.apache.fop.render.Renderer)\n            void org.apache.fop.render.PrintRenderer.renderAreaContainer\n(org.apache.fop.layout.AreaContainer)\n            void org.apache.fop.layout.AreaContainer.render\n(org.apache.fop.render.Renderer)\n            void org.apache.fop.render.PrintRenderer.renderAreaContainer\n(org.apache.fop.layout.AreaContainer)\n            void org.apache.fop.layout.AreaContainer.render\n(org.apache.fop.render.Renderer)\n            void org.apache.fop.render.PrintRenderer.renderAreaContainer\n(org.apache.fop.layout.AreaContainer)\n            void org.apache.fop.layout.AreaContainer.render\n(org.apache.fop.render.Renderer)\n            void org.apache.fop.render.PrintRenderer.renderAreaContainer\n(org.apache.fop.layout.AreaContainer)\n            void org.apache.fop.layout.ColumnArea.render\n(org.apache.fop.render.Renderer)\n            void org.apache.fop.render.PrintRenderer.renderSpanArea\n(org.apache.fop.layout.SpanArea)\n            void org.apache.fop.layout.SpanArea.render\n(org.apache.fop.render.Renderer)\n            void org.apache.fop.render.PrintRenderer.renderBodyAreaContainer\n(org.apache.fop.layout.BodyAreaContainer)\n            void org.apache.fop.render.pdf.PDFRenderer.renderPage\n(org.apache.fop.layout.Page)\n            void org.apache.fop.render.pdf.PDFRenderer.render\n(org.apache.fop.layout.AreaTree, java.io.OutputStream)\n            void org.apache.fop.apps.Driver.render()\n            void org.apache.fop.apps.Driver.run()\n            ...\n\nAre there people who knows how to use this svg format?\n\nMihael Osrecak", "id": 3735, "time": "2001-07-16T06:12:27Z", "bug_id": 2638, "creation_time": "2001-07-16T06:12:27Z", "tags": [], "is_private": false}, {"count": 1, "tags": [], "bug_id": 2638, "text": "SVG are XML, by definition. a U+001E (Escape) is not a legal XML character\nand should not occur in an XML file. The problem is reported by the XML\nparser, there is nothing FOP can do about it. Load the SVG source in a\ncapable text editor and delete the offending characters.\nThe java.lang.NoSuchMethodError indicates either an old JDK or an\nincompatible Batik.jar in the classpath. This is also not a FOP problem.", "id": 14278, "time": "2002-04-22T10:32:47Z", "creator": "j3322ptm@yahoo.de", "creation_time": "2002-04-22T10:32:47Z", "is_private": false, "attachment_id": null}]