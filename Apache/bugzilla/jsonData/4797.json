[{"count": 0, "tags": [], "bug_id": 4797, "text": "---\nI scanning the source 10.11.2001 snapshot and see configuration DefaultContext.\nAfter testing not working configuration with server.xml, I see that \nconfiguration changed. OK! \n\nBut the current configuration not working with Parameter and Environment tags.\n\n--- my current review results ---\norg.apache.catalina.core.StandardEngine\norg.apache.catalina.startup.Catalina\n\nWith a test as documented are the parsing from \n...\n<Engine ...>\n<DefaultContext>\n    <Environment name=\"maxExemptions\" type=\"java.lang.Integer\" value=\"15\" />\n</DefaultContext>\n...\n</Engine>\n\nare not working with the example JNDIServlet.\n\nI missing the documented class org.apache.catalina.core.DefaultContext.\nIt is now org.apache.catalina.core.StandardDefaultContext \n\nConfiguration tag has changed at org.apache.catalina.startup.Catalina L 351 or \n org.apache.catalina.startup.ContextRuleSet ( L 142 )is\n<Engine ...>\n<Default>\n    <Context>\n      <Environment name=\"maxExemptions\" type=\"java.lang.Integer\" value=\"15\" />\n      <Parameter name=\"context.exmp.name\" value=\"context.example.value\" \noverride=\"true\" />\n    </Context>\n</Default>\n...\n</Engine>\n\nContext is set with override attribute \"true\", but I not see parameter or \nInitialContext object.\nI also not find Environment rule mapping.\n\nCan it be that following rule is missing\n       digester.addRuleSet(new \nNamingRuleSet(\"Server/Service/Engine/Default/Context/\"));\n-- got a digester processing error!\n\t\nor that\n\tNamingRuleSet and ContextRuleSet has duplicated code of parts from \nResource\n\tconfiguration.\n-- test failed to copy Environment Rule to ContextRuleSet\n   got a digester processing error!\n\nDocumentation not reflect current implementation !\n\n----\n\nPeter\n\n---", "id": 7757, "time": "2001-11-11T10:05:29Z", "creator": "pr@webapp.de", "creation_time": "2001-11-11T10:05:29Z", "is_private": false, "attachment_id": null}, {"count": 1, "tags": [], "bug_id": 4797, "text": "Fixed in the nightly for 11/12.\n\nThe syntax is unchanged:\n<DefaultContext>\n    <Environment name=\"fooBar\" type=\"java.lang.Integer\" value=\"15\" />\n</DefaultContext>\n", "id": 7759, "attachment_id": null, "creator": "remm@apache.org", "creation_time": "2001-11-11T10:51:17Z", "time": "2001-11-11T10:51:17Z", "is_private": false}, {"count": 2, "tags": [], "bug_id": 4797, "text": "Works fine!\n\nBut why we have duplicate code to read Context config\nat NamingRuleSet and ContextRuleSet. Is the DefaultContext checking\nwith new digester configuration useful ?\n\n", "id": 7827, "time": "2001-11-13T00:22:17Z", "creator": "pr@webapp.de", "creation_time": "2001-11-13T00:22:17Z", "is_private": false, "attachment_id": null}]