[{"count": 0, "tags": [], "bug_id": 30143, "attachment_id": null, "id": 60682, "time": "2004-07-16T10:36:06Z", "creator": "patrick.beilby@bt.com", "creation_time": "2004-07-16T10:36:06Z", "is_private": false, "text": "Downloaded 1.6.2 tar.gz from \"main distribution directory\" (links to mirrors \nnot working yet). md5 checksum appears to match:-\n\nmhrap02:~/download$ md5 apache-ant-1.6.2-src.tar.gz\nMD5 (apache-ant-1.6.2-src.tar.gz) = 638b971084526823054eb3cfc94de437\n\n...but ungzipped tarball gives checksum error when doing \"tar xvf ...\" :-\n\nx apache-ant-1.6.2/src/etc/testcases/taskdefs/optional/echoproperties.xml, \n2864 bytes, 6 tape blocks\nx apache-ant-\n1.6.2/src/etc/testcases/taskdefs/optional/i18n/translate/expected/de/template.t\nxt, 53 bytes, 1 tape blocks\ntar: directory checksum error\n\n(This was 1.6.2 not \"1.6.2beta1\" - there's no straight 1.6.2 in the version \nlist in the bug report page ;)\n\nRegards,\nPatrick/"}, {"count": 1, "tags": [], "text": "I do not see this problem on linux.\nPerhaps one needs a gnu tar and not a native tar?", "is_private": false, "bug_id": 30143, "id": 60687, "time": "2004-07-16T10:51:45Z", "creator": "peterreilly@apache.org", "creation_time": "2004-07-16T10:51:45Z", "attachment_id": null}, {"count": 2, "tags": [], "bug_id": 30143, "attachment_id": null, "id": 60689, "time": "2004-07-16T11:20:57Z", "creator": "patrick.beilby@bt.com", "creation_time": "2004-07-16T11:20:57Z", "is_private": false, "text": "Downloaded GNU tar package for SunOS5.8 ...still fails to eXtract...\n\napache-ant-1.6.2/src/testcases/org/example/tasks/TaskdefTestSimpleTask.java\napache-ant-1.6.2/src/testcases/org/example/types/TypedefTestType.java\napache-ant-1.6.2/welcome.html\n/usr/local/bin/tar: A lone zero block at 34226\n\n...I will double check my download now..and since you say linux works...\n\nPatrick/"}, {"count": 3, "tags": [], "bug_id": 30143, "attachment_id": null, "is_private": false, "id": 60690, "time": "2004-07-16T11:32:58Z", "creator": "patrick.beilby@bt.com", "creation_time": "2004-07-16T11:32:58Z", "text": "Nope...re-downloaded it:-\n\nhttp://www.apache.org/dist/ant/source/apache-ant-1.6.2-src.tar.gz\n\nmd5 checksum (on same URL) does match. Tried it on two SunOS5.8's :-\n\nSunOS salax 5.8 Generic_108528-23 sun4u sparc SUNW,Ultra-Enterprise\nSunOS mhrap02 5.8 Generic_108528-24 sun4u sparc SUNW,Sun-Fire-880\n\nand both give checksum error when tar xvf'ing. Can you try on a Solaris box? \nI'm off to get 1.6.1 source now...\n\nRegards,\nPatrick/"}, {"count": 4, "tags": [], "text": "The \"A lone zero block\" message is due to bug: 28776\n\nSome versions of gnu tar are a bit dubious about the \"lone zero block\", others\ndo not care - see http://fmpp.sourceforge.net/\n\nIt should only be a warning, check if the extraction was ok.", "attachment_id": null, "id": 60692, "creator": "peterreilly@apache.org", "time": "2004-07-16T11:40:14Z", "bug_id": 30143, "creation_time": "2004-07-16T11:40:14Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 30143, "text": "I have tried to untar apache-ant-1.6.2-src.tar.gz on Solaris, and found out the\nfollowing :\n- it works with GNU tar 1.13.19 without any error/warning\n- with the tar of Solaris 5.8, I get the same error as Patrick Beilby :\nx apache-ant-1.6.2/src/etc/testcases/taskdefs/optional/echoproperties.xml, 2864\nbytes, 6 tape blocks\nx\napache-ant-1.6.2/src/etc/testcases/taskdefs/optional/i18n/translate/expected/de/template.txt,\n53 bytes, 1 tape blocks\ntar: directory checksum error\n\nIt sounds like there are two bugs or differences between the s", "count": 5, "id": 60736, "time": "2004-07-17T09:36:44Z", "creator": "antoine@apache.org", "creation_time": "2004-07-17T09:36:44Z", "is_private": false}, {"count": 6, "tags": [], "bug_id": 30143, "attachment_id": null, "id": 60737, "time": "2004-07-17T10:51:11Z", "creator": "antoine@apache.org", "creation_time": "2004-07-17T10:51:11Z", "is_private": false, "text": "I have narrowed down the problem :\nit happens if you create a tar entry in a directory exactly 99 characters long.\nnot 100% sure how this can be solved, maybe by bringing the limit down one\ncharacter for applying the gnu rules when the entry is a directory in\nTar.java/TarOutputStream.java."}, {"count": 7, "tags": [], "text": "Created attachment 12134\nbuildfile producing a tar which cannot be expanded under Solaris", "attachment_id": 12134, "id": 60738, "creator": "antoine@apache.org", "time": "2004-07-17T11:25:08Z", "bug_id": 30143, "creation_time": "2004-07-17T11:25:08Z", "is_private": false}, {"count": 8, "tags": [], "text": "My last tests showed that the problem also happens with a directory of 100 chars\nlong. Maybe the problem can be summarized as \"Solaris 5.8 tar cannot extract tar\nfiles created by ant, and containing gnu long file names\"", "is_private": false, "bug_id": 30143, "id": 60739, "time": "2004-07-17T11:26:27Z", "creator": "antoine@apache.org", "creation_time": "2004-07-17T11:26:27Z", "attachment_id": null}, {"count": 9, "tags": [], "text": "I found this article : http://www.itworld.com/nl/unix_insider/07242003/\nconcerning the different flavours of tar, ...\nSo the problem boils down to :\n- the tar.gz files of the ant distribution include filenames longer > 100,\n- this is not supported by standard Solaris (UNIX) tar, but only by GNU tar.\n\nThe only types of actions that we can do concerning this bug report is to add a\nwarning on the download pages of the Web Site, saying that the tar files contain\nlong file names and may require gnu tar for extracting.", "attachment_id": null, "id": 60740, "creator": "antoine@apache.org", "time": "2004-07-17T12:48:34Z", "bug_id": 30143, "creation_time": "2004-07-17T12:48:34Z", "is_private": false}, {"count": 10, "tags": [], "text": "Added comment on web site, closing this issue as WONTFIX\n(because I do not have a solution to produce tar files which the native tar\ncommand of Solaris will expand when they have long file names).", "attachment_id": null, "bug_id": 30143, "id": 60741, "time": "2004-07-17T13:13:08Z", "creator": "antoine@apache.org", "creation_time": "2004-07-17T13:13:08Z", "is_private": false}, {"attachment_id": null, "tags": [], "bug_id": 30143, "text": "Just a small historical note - Ant distributions have long required GNU tar, due\nto their long paths. Such paths are quite common in java hierarchies. We used to\nhave a red warning to this effect on the download pages but I guess that went\naway when we moved to the mirrored distribution system. See for example, the\n1.4.1 release notes\n\nhttp://archive.apache.org/dist/ant/binaries/RELEASE-NOTES-1.4.1.html\n\nIt is always possible to use the zip distribution and to expand it with the jar\ncommand.", "count": 11, "id": 60746, "time": "2004-07-17T13:43:16Z", "creator": "conor@apache.org", "creation_time": "2004-07-17T13:43:16Z", "is_private": false}]